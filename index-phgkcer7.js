var N01=Object.create;var{getPrototypeOf:D01,defineProperty:YX,getOwnPropertyNames:mL,getOwnPropertyDescriptor:C01}=Object,cL=Object.prototype.hasOwnProperty;var p1=($,Q,J)=>{J=$!=null?N01(D01($)):{};let Z=Q||!$||!$.__esModule?YX(J,"default",{value:$,enumerable:!0}):J;for(let X of mL($))if(!cL.call(Z,X))YX(Z,X,{get:()=>$[X],enumerable:!0});return Z},fL=new WeakMap,Q4=($)=>{var Q=fL.get($),J;if(Q)return Q;if(Q=YX({},"__esModule",{value:!0}),$&&typeof $==="object"||typeof $==="function")mL($).map((Z)=>!cL.call(Q,Z)&&YX(Q,Z,{get:()=>$[Z],enumerable:!(J=C01($,Z))||J.enumerable}));return fL.set($,Q),Q},o=($,Q)=>()=>(Q||$((Q={exports:{}}).exports,Q),Q.exports);var QJ=($,Q)=>{for(var J in Q)YX($,J,{get:Q[J],enumerable:!0,configurable:!0,set:(Z)=>Q[J]=()=>Z})};var A01=($,Q)=>()=>($&&(Q=$($=0)),Q);var X5=o((z01,DH)=>{(function(){function $(M,c){Object.defineProperty(Z.prototype,M,{get:function(){console.warn("%s(...) is deprecated in plain JavaScript React classes. %s",c[0],c[1])}})}function Q(M){if(M===null||typeof M!=="object")return null;return M=V4&&M[V4]||M["@@iterator"],typeof M==="function"?M:null}function J(M,c){M=(M=M.constructor)&&(M.displayName||M.name)||"ReactClass";var N1=M+"."+c;$7[N1]||(console.error("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",c,M),$7[N1]=!0)}function Z(M,c,N1){this.props=M,this.context=c,this.refs=L3,this.updater=N1||LZ}function X(){}function W(M,c,N1){this.props=M,this.context=c,this.refs=L3,this.updater=N1||LZ}function H(M){return""+M}function F(M){try{H(M);var c=!1}catch(M1){c=!0}if(c){c=console;var N1=c.error,V1=typeof Symbol==="function"&&Symbol.toStringTag&&M[Symbol.toStringTag]||M.constructor.name||"Object";return N1.call(c,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",V1),H(M)}}function V(M){if(M==null)return null;if(typeof M==="function")return M.$$typeof===a$?null:M.displayName||M.name||null;if(typeof M==="string")return M;switch(M){case V0:return"Fragment";case m1:return"Profiler";case Z1:return"StrictMode";case G5:return"Suspense";case h7:return"SuspenseList";case e4:return"Activity"}if(typeof M==="object")switch(typeof M.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),M.$$typeof){case I1:return"Portal";case l1:return(M.displayName||"Context")+".Provider";case N0:return(M._context.displayName||"Context")+".Consumer";case C5:var c=M.render;return M=M.displayName,M||(M=c.displayName||c.name||"",M=M!==""?"ForwardRef("+M+")":"ForwardRef"),M;case k0:return c=M.displayName||null,c!==null?c:V(M.type)||"Memo";case e0:c=M._payload,M=M._init;try{return V(M(c))}catch(N1){}}return null}function D(M){if(M===V0)return"<>";if(typeof M==="object"&&M!==null&&M.$$typeof===e0)return"<...>";try{var c=V(M);return c?"<"+c+">":"<...>"}catch(N1){return"<...>"}}function C(){var M=e1.A;return M===null?null:M.getOwner()}function z(){return Error("react-stack-top-frame")}function R(M){if(r$.call(M,"key")){var c=Object.getOwnPropertyDescriptor(M,"key").get;if(c&&c.isReactWarning)return!1}return M.key!==void 0}function k(M,c){function N1(){_Z||(_Z=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",c))}N1.isReactWarning=!0,Object.defineProperty(M,"key",{get:N1,configurable:!0})}function P(){var M=V(this.type);return v8[M]||(v8[M]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),M=this.props.ref,M!==void 0?M:null}function S(M,c,N1,V1,M1,a1,i1,O0){return N1=a1.ref,M={$$typeof:T1,type:M,key:c,props:a1,_owner:M1},(N1!==void 0?N1:null)!==null?Object.defineProperty(M,"ref",{enumerable:!1,get:P}):Object.defineProperty(M,"ref",{enumerable:!1,value:null}),M._store={},Object.defineProperty(M._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(M,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(M,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:i1}),Object.defineProperty(M,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:O0}),Object.freeze&&(Object.freeze(M.props),Object.freeze(M)),M}function T(M,c){return c=S(M.type,c,void 0,void 0,M._owner,M.props,M._debugStack,M._debugTask),M._store&&(c._store.validated=M._store.validated),c}function _(M){return typeof M==="object"&&M!==null&&M.$$typeof===T1}function v(M){var c={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(N1){return c[N1]})}function L(M,c){return typeof M==="object"&&M!==null&&M.key!=null?(F(M.key),v(""+M.key)):c.toString(36)}function f(){}function l(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status==="string"?M.then(f,f):(M.status="pending",M.then(function(c){M.status==="pending"&&(M.status="fulfilled",M.value=c)},function(c){M.status==="pending"&&(M.status="rejected",M.reason=c)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function J1(M,c,N1,V1,M1){var a1=typeof M;if(a1==="undefined"||a1==="boolean")M=null;var i1=!1;if(M===null)i1=!0;else switch(a1){case"bigint":case"string":case"number":i1=!0;break;case"object":switch(M.$$typeof){case T1:case I1:i1=!0;break;case e0:return i1=M._init,J1(i1(M._payload),c,N1,V1,M1)}}if(i1){i1=M,M1=M1(i1);var O0=V1===""?"."+L(i1,0):V1;return v7(M1)?(N1="",O0!=null&&(N1=O0.replace(e$,"$&/")+"/"),J1(M1,c,N1,"",function(l6){return l6})):M1!=null&&(_(M1)&&(M1.key!=null&&(i1&&i1.key===M1.key||F(M1.key)),N1=T(M1,N1+(M1.key==null||i1&&i1.key===M1.key?"":(""+M1.key).replace(e$,"$&/")+"/")+O0),V1!==""&&i1!=null&&_(i1)&&i1.key==null&&i1._store&&!i1._store.validated&&(N1._store.validated=2),M1=N1),c.push(M1)),1}if(i1=0,O0=V1===""?".":V1+":",v7(M))for(var K0=0;K0<M.length;K0++)V1=M[K0],a1=O0+L(V1,K0),i1+=J1(V1,c,N1,a1,M1);else if(K0=Q(M),typeof K0==="function")for(K0===M.entries&&(xZ||console.warn("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),xZ=!0),M=K0.call(M),K0=0;!(V1=M.next()).done;)V1=V1.value,a1=O0+L(V1,K0++),i1+=J1(V1,c,N1,a1,M1);else if(a1==="object"){if(typeof M.then==="function")return J1(l(M),c,N1,V1,M1);throw c=String(M),Error("Objects are not valid as a React child (found: "+(c==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":c)+"). If you meant to render a collection of children, use an array instead.")}return i1}function Y1(M,c,N1){if(M==null)return M;var V1=[],M1=0;return J1(M,V1,"","",function(a1){return c.call(N1,a1,M1++)}),V1}function H1(M){if(M._status===-1){var c=M._result;c=c(),c.then(function(N1){if(M._status===0||M._status===-1)M._status=1,M._result=N1},function(N1){if(M._status===0||M._status===-1)M._status=2,M._result=N1}),M._status===-1&&(M._status=0,M._result=c)}if(M._status===1)return c=M._result,c===void 0&&console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,c),"default"in c||console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,c),c.default;throw M._result}function Q1(){var M=e1.H;return M===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),M}function W1(){}function R1(M){if(_8===null)try{var c=("require"+Math.random()).slice(0,7);_8=(DH&&DH[c]).call(DH,"timers").setImmediate}catch(N1){_8=function(V1){yZ===!1&&(yZ=!0,typeof MessageChannel>"u"&&console.error("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var M1=new MessageChannel;M1.port1.onmessage=V1,M1.port2.postMessage(void 0)}}return _8(M)}function C1(M){return 1<M.length&&typeof AggregateError==="function"?AggregateError(M):M[0]}function O1(M,c){c!==H2-1&&console.error("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),H2=c}function x1(M,c,N1){var V1=e1.actQueue;if(V1!==null)if(V1.length!==0)try{U1(V1),R1(function(){return x1(M,c,N1)});return}catch(M1){e1.thrownErrors.push(M1)}else e1.actQueue=null;0<e1.thrownErrors.length?(V1=C1(e1.thrownErrors),e1.thrownErrors.length=0,N1(V1)):c(M)}function U1(M){if(!F2){F2=!0;var c=0;try{for(;c<M.length;c++){var N1=M[c];do{e1.didUsePromise=!1;var V1=N1(!1);if(V1!==null){if(e1.didUsePromise){M[c]=N1,M.splice(0,c);return}N1=V1}else break}while(1)}M.length=0}catch(M1){M.splice(0,c+1),e1.thrownErrors.push(M1)}finally{F2=!1}}}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var T1=Symbol.for("react.transitional.element"),I1=Symbol.for("react.portal"),V0=Symbol.for("react.fragment"),Z1=Symbol.for("react.strict_mode"),m1=Symbol.for("react.profiler"),N0=Symbol.for("react.consumer"),l1=Symbol.for("react.context"),C5=Symbol.for("react.forward_ref"),G5=Symbol.for("react.suspense"),h7=Symbol.for("react.suspense_list"),k0=Symbol.for("react.memo"),e0=Symbol.for("react.lazy"),e4=Symbol.for("react.activity"),V4=Symbol.iterator,$7={},LZ={isMounted:function(){return!1},enqueueForceUpdate:function(M){J(M,"forceUpdate")},enqueueReplaceState:function(M){J(M,"replaceState")},enqueueSetState:function(M){J(M,"setState")}},hZ=Object.assign,L3={};Object.freeze(L3),Z.prototype.isReactComponent={},Z.prototype.setState=function(M,c){if(typeof M!=="object"&&typeof M!=="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,c,"setState")},Z.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};var w6={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},o$;for(o$ in w6)w6.hasOwnProperty(o$)&&$(o$,w6[o$]);X.prototype=Z.prototype,w6=W.prototype=new X,w6.constructor=W,hZ(w6,Z.prototype),w6.isPureReactComponent=!0;var v7=Array.isArray,a$=Symbol.for("react.client.reference"),e1={H:null,A:null,T:null,S:null,V:null,actQueue:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1,didUsePromise:!1,thrownErrors:[],getCurrentStack:null,recentlyCreatedOwnerStacks:0},r$=Object.prototype.hasOwnProperty,vZ=console.createTask?console.createTask:function(){return null};w6={react_stack_bottom_frame:function(M){return M()}};var _Z,t$,v8={},FD=w6.react_stack_bottom_frame.bind(w6,z)(),BW=vZ(D(z)),xZ=!1,e$=/\/+/g,gZ=typeof reportError==="function"?reportError:function(M){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M==="object"&&M!==null&&typeof M.message==="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(c))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",M);return}console.error(M)},yZ=!1,_8=null,H2=0,$Q=!1,F2=!1,h3=typeof queueMicrotask==="function"?function(M){queueMicrotask(function(){return queueMicrotask(M)})}:R1;w6=Object.freeze({__proto__:null,c:function(M){return Q1().useMemoCache(M)}}),z01.Children={map:Y1,forEach:function(M,c,N1){Y1(M,function(){c.apply(this,arguments)},N1)},count:function(M){var c=0;return Y1(M,function(){c++}),c},toArray:function(M){return Y1(M,function(c){return c})||[]},only:function(M){if(!_(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},z01.Component=Z,z01.Fragment=V0,z01.Profiler=m1,z01.PureComponent=W,z01.StrictMode=Z1,z01.Suspense=G5,z01.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=e1,z01.__COMPILER_RUNTIME=w6,z01.act=function(M){var c=e1.actQueue,N1=H2;H2++;var V1=e1.actQueue=c!==null?c:[],M1=!1;try{var a1=M()}catch(K0){e1.thrownErrors.push(K0)}if(0<e1.thrownErrors.length)throw O1(c,N1),M=C1(e1.thrownErrors),e1.thrownErrors.length=0,M;if(a1!==null&&typeof a1==="object"&&typeof a1.then==="function"){var i1=a1;return h3(function(){M1||$Q||($Q=!0,console.error("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),{then:function(K0,l6){M1=!0,i1.then(function(Q7){if(O1(c,N1),N1===0){try{U1(V1),R1(function(){return x1(Q7,K0,l6)})}catch(RW){e1.thrownErrors.push(RW)}if(0<e1.thrownErrors.length){var J7=C1(e1.thrownErrors);e1.thrownErrors.length=0,l6(J7)}}else K0(Q7)},function(Q7){O1(c,N1),0<e1.thrownErrors.length?(Q7=C1(e1.thrownErrors),e1.thrownErrors.length=0,l6(Q7)):l6(Q7)})}}}var O0=a1;if(O1(c,N1),N1===0&&(U1(V1),V1.length!==0&&h3(function(){M1||$Q||($Q=!0,console.error("A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"))}),e1.actQueue=null),0<e1.thrownErrors.length)throw M=C1(e1.thrownErrors),e1.thrownErrors.length=0,M;return{then:function(K0,l6){M1=!0,N1===0?(e1.actQueue=V1,R1(function(){return x1(O0,K0,l6)})):K0(O0)}}},z01.cache=function(M){return function(){return M.apply(null,arguments)}},z01.captureOwnerStack=function(){var M=e1.getCurrentStack;return M===null?null:M()},z01.cloneElement=function(M,c,N1){if(M===null||M===void 0)throw Error("The argument must be a React element, but you passed "+M+".");var V1=hZ({},M.props),M1=M.key,a1=M._owner;if(c!=null){var i1;$:{if(r$.call(c,"ref")&&(i1=Object.getOwnPropertyDescriptor(c,"ref").get)&&i1.isReactWarning){i1=!1;break $}i1=c.ref!==void 0}i1&&(a1=C()),R(c)&&(F(c.key),M1=""+c.key);for(O0 in c)!r$.call(c,O0)||O0==="key"||O0==="__self"||O0==="__source"||O0==="ref"&&c.ref===void 0||(V1[O0]=c[O0])}var O0=arguments.length-2;if(O0===1)V1.children=N1;else if(1<O0){i1=Array(O0);for(var K0=0;K0<O0;K0++)i1[K0]=arguments[K0+2];V1.children=i1}V1=S(M.type,M1,void 0,void 0,a1,V1,M._debugStack,M._debugTask);for(M1=2;M1<arguments.length;M1++)a1=arguments[M1],_(a1)&&a1._store&&(a1._store.validated=1);return V1},z01.createContext=function(M){return M={$$typeof:l1,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:N0,_context:M},M._currentRenderer=null,M._currentRenderer2=null,M},z01.createElement=function(M,c,N1){for(var V1=2;V1<arguments.length;V1++){var M1=arguments[V1];_(M1)&&M1._store&&(M1._store.validated=1)}if(V1={},M1=null,c!=null)for(K0 in t$||!("__self"in c)||"key"in c||(t$=!0,console.warn("Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform")),R(c)&&(F(c.key),M1=""+c.key),c)r$.call(c,K0)&&K0!=="key"&&K0!=="__self"&&K0!=="__source"&&(V1[K0]=c[K0]);var a1=arguments.length-2;if(a1===1)V1.children=N1;else if(1<a1){for(var i1=Array(a1),O0=0;O0<a1;O0++)i1[O0]=arguments[O0+2];Object.freeze&&Object.freeze(i1),V1.children=i1}if(M&&M.defaultProps)for(K0 in a1=M.defaultProps,a1)V1[K0]===void 0&&(V1[K0]=a1[K0]);M1&&k(V1,typeof M==="function"?M.displayName||M.name||"Unknown":M);var K0=1e4>e1.recentlyCreatedOwnerStacks++;return S(M,M1,void 0,void 0,C(),V1,K0?Error("react-stack-top-frame"):FD,K0?vZ(D(M)):BW)},z01.createRef=function(){var M={current:null};return Object.seal(M),M},z01.forwardRef=function(M){M!=null&&M.$$typeof===k0?console.error("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof M!=="function"?console.error("forwardRef requires a render function but was given %s.",M===null?"null":typeof M):M.length!==0&&M.length!==2&&console.error("forwardRef render functions accept exactly two parameters: props and ref. %s",M.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),M!=null&&M.defaultProps!=null&&console.error("forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?");var c={$$typeof:C5,render:M},N1;return Object.defineProperty(c,"displayName",{enumerable:!1,configurable:!0,get:function(){return N1},set:function(V1){N1=V1,M.name||M.displayName||(Object.defineProperty(M,"name",{value:V1}),M.displayName=V1)}}),c},z01.isValidElement=_,z01.lazy=function(M){return{$$typeof:e0,_payload:{_status:-1,_result:M},_init:H1}},z01.memo=function(M,c){M==null&&console.error("memo: The first argument must be a component. Instead received: %s",M===null?"null":typeof M),c={$$typeof:k0,type:M,compare:c===void 0?null:c};var N1;return Object.defineProperty(c,"displayName",{enumerable:!1,configurable:!0,get:function(){return N1},set:function(V1){N1=V1,M.name||M.displayName||(Object.defineProperty(M,"name",{value:V1}),M.displayName=V1)}}),c},z01.startTransition=function(M){var c=e1.T,N1={};e1.T=N1,N1._updatedFibers=new Set;try{var V1=M(),M1=e1.S;M1!==null&&M1(N1,V1),typeof V1==="object"&&V1!==null&&typeof V1.then==="function"&&V1.then(W1,gZ)}catch(a1){gZ(a1)}finally{c===null&&N1._updatedFibers&&(M=N1._updatedFibers.size,N1._updatedFibers.clear(),10<M&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.")),e1.T=c}},z01.unstable_useCacheRefresh=function(){return Q1().useCacheRefresh()},z01.use=function(M){return Q1().use(M)},z01.useActionState=function(M,c,N1){return Q1().useActionState(M,c,N1)},z01.useCallback=function(M,c){return Q1().useCallback(M,c)},z01.useContext=function(M){var c=Q1();return M.$$typeof===N0&&console.error("Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"),c.useContext(M)},z01.useDebugValue=function(M,c){return Q1().useDebugValue(M,c)},z01.useDeferredValue=function(M,c){return Q1().useDeferredValue(M,c)},z01.useEffect=function(M,c,N1){M==null&&console.warn("React Hook useEffect requires an effect callback. Did you forget to pass a callback to the hook?");var V1=Q1();if(typeof N1==="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V1.useEffect(M,c)},z01.useId=function(){return Q1().useId()},z01.useImperativeHandle=function(M,c,N1){return Q1().useImperativeHandle(M,c,N1)},z01.useInsertionEffect=function(M,c){return M==null&&console.warn("React Hook useInsertionEffect requires an effect callback. Did you forget to pass a callback to the hook?"),Q1().useInsertionEffect(M,c)},z01.useLayoutEffect=function(M,c){return M==null&&console.warn("React Hook useLayoutEffect requires an effect callback. Did you forget to pass a callback to the hook?"),Q1().useLayoutEffect(M,c)},z01.useMemo=function(M,c){return Q1().useMemo(M,c)},z01.useOptimistic=function(M,c){return Q1().useOptimistic(M,c)},z01.useReducer=function(M,c,N1){return Q1().useReducer(M,c,N1)},z01.useRef=function(M){return Q1().useRef(M)},z01.useState=function(M){return Q1().useState(M)},z01.useSyncExternalStore=function(M,c,N1){return Q1().useSyncExternalStore(M,c,N1)},z01.useTransition=function(){return Q1().useTransition()},z01.version="19.1.1",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var dL=o((B01)=>{(function(){function $(){if(f=!1,H1){var U1=B01.unstable_now();R1=U1;var T1=!0;try{$:{v=!1,L&&(L=!1,J1(Q1),Q1=-1),_=!0;var I1=T;try{Q:{W(U1);for(S=J(R);S!==null&&!(S.expirationTime>U1&&F());){var V0=S.callback;if(typeof V0==="function"){S.callback=null,T=S.priorityLevel;var Z1=V0(S.expirationTime<=U1);if(U1=B01.unstable_now(),typeof Z1==="function"){S.callback=Z1,W(U1),T1=!0;break Q}S===J(R)&&Z(R),W(U1)}else Z(R);S=J(R)}if(S!==null)T1=!0;else{var m1=J(k);m1!==null&&V(H,m1.startTime-U1),T1=!1}}break $}finally{S=null,T=I1,_=!1}T1=void 0}}finally{T1?C1():H1=!1}}}function Q(U1,T1){var I1=U1.length;U1.push(T1);$:for(;0<I1;){var V0=I1-1>>>1,Z1=U1[V0];if(0<X(Z1,T1))U1[V0]=T1,U1[I1]=Z1,I1=V0;else break $}}function J(U1){return U1.length===0?null:U1[0]}function Z(U1){if(U1.length===0)return null;var T1=U1[0],I1=U1.pop();if(I1!==T1){U1[0]=I1;$:for(var V0=0,Z1=U1.length,m1=Z1>>>1;V0<m1;){var N0=2*(V0+1)-1,l1=U1[N0],C5=N0+1,G5=U1[C5];if(0>X(l1,I1))C5<Z1&&0>X(G5,l1)?(U1[V0]=G5,U1[C5]=I1,V0=C5):(U1[V0]=l1,U1[N0]=I1,V0=N0);else if(C5<Z1&&0>X(G5,I1))U1[V0]=G5,U1[C5]=I1,V0=C5;else break $}}return T1}function X(U1,T1){var I1=U1.sortIndex-T1.sortIndex;return I1!==0?I1:U1.id-T1.id}function W(U1){for(var T1=J(k);T1!==null;){if(T1.callback===null)Z(k);else if(T1.startTime<=U1)Z(k),T1.sortIndex=T1.expirationTime,Q(R,T1);else break;T1=J(k)}}function H(U1){if(L=!1,W(U1),!v)if(J(R)!==null)v=!0,H1||(H1=!0,C1());else{var T1=J(k);T1!==null&&V(H,T1.startTime-U1)}}function F(){return f?!0:B01.unstable_now()-R1<W1?!1:!0}function V(U1,T1){Q1=l(function(){U1(B01.unstable_now())},T1)}if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error()),B01.unstable_now=void 0,typeof performance==="object"&&typeof performance.now==="function"){var D=performance;B01.unstable_now=function(){return D.now()}}else{var C=Date,z=C.now();B01.unstable_now=function(){return C.now()-z}}var R=[],k=[],P=1,S=null,T=3,_=!1,v=!1,L=!1,f=!1,l=typeof setTimeout==="function"?setTimeout:null,J1=typeof clearTimeout==="function"?clearTimeout:null,Y1=typeof setImmediate<"u"?setImmediate:null,H1=!1,Q1=-1,W1=5,R1=-1;if(typeof Y1==="function")var C1=function(){Y1($)};else if(typeof MessageChannel<"u"){var O1=new MessageChannel,x1=O1.port2;O1.port1.onmessage=$,C1=function(){x1.postMessage(null)}}else C1=function(){l($,0)};B01.unstable_IdlePriority=5,B01.unstable_ImmediatePriority=1,B01.unstable_LowPriority=4,B01.unstable_NormalPriority=3,B01.unstable_Profiling=null,B01.unstable_UserBlockingPriority=2,B01.unstable_cancelCallback=function(U1){U1.callback=null},B01.unstable_forceFrameRate=function(U1){0>U1||125<U1?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W1=0<U1?Math.floor(1000/U1):5},B01.unstable_getCurrentPriorityLevel=function(){return T},B01.unstable_next=function(U1){switch(T){case 1:case 2:case 3:var T1=3;break;default:T1=T}var I1=T;T=T1;try{return U1()}finally{T=I1}},B01.unstable_requestPaint=function(){f=!0},B01.unstable_runWithPriority=function(U1,T1){switch(U1){case 1:case 2:case 3:case 4:case 5:break;default:U1=3}var I1=T;T=U1;try{return T1()}finally{T=I1}},B01.unstable_scheduleCallback=function(U1,T1,I1){var V0=B01.unstable_now();switch(typeof I1==="object"&&I1!==null?(I1=I1.delay,I1=typeof I1==="number"&&0<I1?V0+I1:V0):I1=V0,U1){case 1:var Z1=-1;break;case 2:Z1=250;break;case 5:Z1=1073741823;break;case 4:Z1=1e4;break;default:Z1=5000}return Z1=I1+Z1,U1={id:P++,callback:T1,priorityLevel:U1,startTime:I1,expirationTime:Z1,sortIndex:-1},I1>V0?(U1.sortIndex=I1,Q(k,U1),J(R)===null&&U1===J(k)&&(L?(J1(Q1),Q1=-1):L=!0,V(H,I1-V0))):(U1.sortIndex=Z1,Q(R,U1),v||_||(v=!0,H1||(H1=!0,C1()))),U1},B01.unstable_shouldYield=F,B01.unstable_wrapCallback=function(U1){var T1=T;return function(){var I1=T;T=T1;try{return U1.apply(this,arguments)}finally{T=I1}}},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var lL=o((R01)=>{var vz=p1(X5(),1);(function(){function $(){}function Q(C){return""+C}function J(C,z,R){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;try{Q(k);var P=!1}catch(S){P=!0}return P&&(console.error("The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",typeof Symbol==="function"&&Symbol.toStringTag&&k[Symbol.toStringTag]||k.constructor.name||"Object"),Q(k)),{$$typeof:V,key:k==null?null:""+k,children:C,containerInfo:z,implementation:R}}function Z(C,z){if(C==="font")return"";if(typeof z==="string")return z==="use-credentials"?z:""}function X(C){return C===null?"`null`":C===void 0?"`undefined`":C===""?"an empty string":'something with type "'+typeof C+'"'}function W(C){return C===null?"`null`":C===void 0?"`undefined`":C===""?"an empty string":typeof C==="string"?JSON.stringify(C):typeof C==="number"?"`"+C+"`":'something with type "'+typeof C+'"'}function H(){var C=D.H;return C===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),C}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var F={d:{f:$,r:function(){throw Error("Invalid form element. requestFormReset must be passed a form that was rendered by React.")},D:$,C:$,L:$,m:$,X:$,S:$,M:$},p:0,findDOMNode:null},V=Symbol.for("react.portal"),D=vz.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;typeof Map==="function"&&Map.prototype!=null&&typeof Map.prototype.forEach==="function"&&typeof Set==="function"&&Set.prototype!=null&&typeof Set.prototype.clear==="function"&&typeof Set.prototype.forEach==="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),R01.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,R01.createPortal=function(C,z){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!z||z.nodeType!==1&&z.nodeType!==9&&z.nodeType!==11)throw Error("Target container is not a DOM element.");return J(C,z,null,R)},R01.flushSync=function(C){var z=D.T,R=F.p;try{if(D.T=null,F.p=2,C)return C()}finally{D.T=z,F.p=R,F.d.f()&&console.error("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task.")}},R01.preconnect=function(C,z){typeof C==="string"&&C?z!=null&&typeof z!=="object"?console.error("ReactDOM.preconnect(): Expected the `options` argument (second) to be an object but encountered %s instead. The only supported option at this time is `crossOrigin` which accepts a string.",W(z)):z!=null&&typeof z.crossOrigin!=="string"&&console.error("ReactDOM.preconnect(): Expected the `crossOrigin` option (second argument) to be a string but encountered %s instead. Try removing this option or passing a string value instead.",X(z.crossOrigin)):console.error("ReactDOM.preconnect(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",X(C)),typeof C==="string"&&(z?(z=z.crossOrigin,z=typeof z==="string"?z==="use-credentials"?z:"":void 0):z=null,F.d.C(C,z))},R01.prefetchDNS=function(C){if(typeof C!=="string"||!C)console.error("ReactDOM.prefetchDNS(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",X(C));else if(1<arguments.length){var z=arguments[1];typeof z==="object"&&z.hasOwnProperty("crossOrigin")?console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. It looks like the you are attempting to set a crossOrigin property for this DNS lookup hint. Browsers do not perform DNS queries using CORS and setting this attribute on the resource hint has no effect. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",W(z)):console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",W(z))}typeof C==="string"&&F.d.D(C)},R01.preinit=function(C,z){if(typeof C==="string"&&C?z==null||typeof z!=="object"?console.error("ReactDOM.preinit(): Expected the `options` argument (second) to be an object with an `as` property describing the type of resource to be preinitialized but encountered %s instead.",W(z)):z.as!=="style"&&z.as!=="script"&&console.error('ReactDOM.preinit(): Expected the `as` property in the `options` argument (second) to contain a valid value describing the type of resource to be preinitialized but encountered %s instead. Valid values for `as` are "style" and "script".',W(z.as)):console.error("ReactDOM.preinit(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",X(C)),typeof C==="string"&&z&&typeof z.as==="string"){var R=z.as,k=Z(R,z.crossOrigin),P=typeof z.integrity==="string"?z.integrity:void 0,S=typeof z.fetchPriority==="string"?z.fetchPriority:void 0;R==="style"?F.d.S(C,typeof z.precedence==="string"?z.precedence:void 0,{crossOrigin:k,integrity:P,fetchPriority:S}):R==="script"&&F.d.X(C,{crossOrigin:k,integrity:P,fetchPriority:S,nonce:typeof z.nonce==="string"?z.nonce:void 0})}},R01.preinitModule=function(C,z){var R="";if(typeof C==="string"&&C||(R+=" The `href` argument encountered was "+X(C)+"."),z!==void 0&&typeof z!=="object"?R+=" The `options` argument encountered was "+X(z)+".":z&&("as"in z)&&z.as!=="script"&&(R+=" The `as` option encountered was "+W(z.as)+"."),R)console.error("ReactDOM.preinitModule(): Expected up to two arguments, a non-empty `href` string and, optionally, an `options` object with a valid `as` property.%s",R);else switch(R=z&&typeof z.as==="string"?z.as:"script",R){case"script":break;default:R=W(R),console.error('ReactDOM.preinitModule(): Currently the only supported "as" type for this function is "script" but received "%s" instead. This warning was generated for `href` "%s". In the future other module types will be supported, aligning with the import-attributes proposal. Learn more here: (https://github.com/tc39/proposal-import-attributes)',R,C)}if(typeof C==="string")if(typeof z==="object"&&z!==null){if(z.as==null||z.as==="script")R=Z(z.as,z.crossOrigin),F.d.M(C,{crossOrigin:R,integrity:typeof z.integrity==="string"?z.integrity:void 0,nonce:typeof z.nonce==="string"?z.nonce:void 0})}else z==null&&F.d.M(C)},R01.preload=function(C,z){var R="";if(typeof C==="string"&&C||(R+=" The `href` argument encountered was "+X(C)+"."),z==null||typeof z!=="object"?R+=" The `options` argument encountered was "+X(z)+".":typeof z.as==="string"&&z.as||(R+=" The `as` option encountered was "+X(z.as)+"."),R&&console.error('ReactDOM.preload(): Expected two arguments, a non-empty `href` string and an `options` object with an `as` property valid for a `<link rel="preload" as="..." />` tag.%s',R),typeof C==="string"&&typeof z==="object"&&z!==null&&typeof z.as==="string"){R=z.as;var k=Z(R,z.crossOrigin);F.d.L(C,R,{crossOrigin:k,integrity:typeof z.integrity==="string"?z.integrity:void 0,nonce:typeof z.nonce==="string"?z.nonce:void 0,type:typeof z.type==="string"?z.type:void 0,fetchPriority:typeof z.fetchPriority==="string"?z.fetchPriority:void 0,referrerPolicy:typeof z.referrerPolicy==="string"?z.referrerPolicy:void 0,imageSrcSet:typeof z.imageSrcSet==="string"?z.imageSrcSet:void 0,imageSizes:typeof z.imageSizes==="string"?z.imageSizes:void 0,media:typeof z.media==="string"?z.media:void 0})}},R01.preloadModule=function(C,z){var R="";typeof C==="string"&&C||(R+=" The `href` argument encountered was "+X(C)+"."),z!==void 0&&typeof z!=="object"?R+=" The `options` argument encountered was "+X(z)+".":z&&("as"in z)&&typeof z.as!=="string"&&(R+=" The `as` option encountered was "+X(z.as)+"."),R&&console.error('ReactDOM.preloadModule(): Expected two arguments, a non-empty `href` string and, optionally, an `options` object with an `as` property valid for a `<link rel="modulepreload" as="..." />` tag.%s',R),typeof C==="string"&&(z?(R=Z(z.as,z.crossOrigin),F.d.m(C,{as:typeof z.as==="string"&&z.as!=="script"?z.as:void 0,crossOrigin:R,integrity:typeof z.integrity==="string"?z.integrity:void 0})):F.d.m(C))},R01.requestFormReset=function(C){F.d.r(C)},R01.unstable_batchedUpdates=function(C,z){return C(z)},R01.useFormState=function(C,z,R){return H().useFormState(C,z,R)},R01.useFormStatus=function(){return H().useHostTransitionStatus()},R01.version="19.1.1",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var uL=o((wB1,pL)=>{var O01=p1(lL(),1);pL.exports=O01});var iL=o((k01)=>{var B0=p1(dL(),1),JJ=p1(X5(),1),_z=p1(uL(),1);(function(){function $(K,Y){for(K=K.memoizedState;K!==null&&0<Y;)K=K.next,Y--;return K}function Q(K,Y,q,U){if(q>=Y.length)return U;var N=Y[q],A=u5(K)?K.slice():X0({},K);return A[N]=Q(K[N],Y,q+1,U),A}function J(K,Y,q){if(Y.length!==q.length)console.warn("copyWithRename() expects paths of the same length");else{for(var U=0;U<q.length-1;U++)if(Y[U]!==q[U]){console.warn("copyWithRename() expects paths to be the same except for the deepest key");return}return Z(K,Y,q,0)}}function Z(K,Y,q,U){var N=Y[U],A=u5(K)?K.slice():X0({},K);return U+1===Y.length?(A[q[U]]=A[N],u5(A)?A.splice(N,1):delete A[N]):A[N]=Z(K[N],Y,q,U+1),A}function X(K,Y,q){var U=Y[q],N=u5(K)?K.slice():X0({},K);if(q+1===Y.length)return u5(N)?N.splice(U,1):delete N[U],N;return N[U]=X(K[U],Y,q+1),N}function W(){return!1}function H(){return null}function F(){}function V(){console.error("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://react.dev/link/rules-of-hooks")}function D(){console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")}function C(){}function z(K){var Y=[];return K.forEach(function(q){Y.push(q)}),Y.sort().join(", ")}function R(K,Y,q,U){return new Vt(K,Y,q,U)}function k(K,Y){K.context===a8&&(YA(K.current,2,Y,K,null,null),UQ())}function P(K,Y){if(R4!==null){var q=Y.staleFamilies;Y=Y.updatedFamilies,HK(),SD(K.current,Y,q),UQ()}}function S(K){R4=K}function T(K){return!(!K||K.nodeType!==1&&K.nodeType!==9&&K.nodeType!==11)}function _(K){var Y=K,q=K;if(K.alternate)for(;Y.return;)Y=Y.return;else{K=Y;do Y=K,(Y.flags&4098)!==0&&(q=Y.return),K=Y.return;while(K)}return Y.tag===3?q:null}function v(K){if(K.tag===13){var Y=K.memoizedState;if(Y===null&&(K=K.alternate,K!==null&&(Y=K.memoizedState)),Y!==null)return Y.dehydrated}return null}function L(K){if(_(K)!==K)throw Error("Unable to find node on an unmounted component.")}function f(K){var Y=K.alternate;if(!Y){if(Y=_(K),Y===null)throw Error("Unable to find node on an unmounted component.");return Y!==K?null:K}for(var q=K,U=Y;;){var N=q.return;if(N===null)break;var A=N.alternate;if(A===null){if(U=N.return,U!==null){q=U;continue}break}if(N.child===A.child){for(A=N.child;A;){if(A===q)return L(N),K;if(A===U)return L(N),Y;A=A.sibling}throw Error("Unable to find node on an unmounted component.")}if(q.return!==U.return)q=N,U=A;else{for(var B=!1,O=N.child;O;){if(O===q){B=!0,q=N,U=A;break}if(O===U){B=!0,U=N,q=A;break}O=O.sibling}if(!B){for(O=A.child;O;){if(O===q){B=!0,q=A,U=N;break}if(O===U){B=!0,U=A,q=N;break}O=O.sibling}if(!B)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(q.alternate!==U)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(q.tag!==3)throw Error("Unable to find node on an unmounted component.");return q.stateNode.current===q?K:Y}function l(K){var Y=K.tag;if(Y===5||Y===26||Y===27||Y===6)return K;for(K=K.child;K!==null;){if(Y=l(K),Y!==null)return Y;K=K.sibling}return null}function J1(K){if(K===null||typeof K!=="object")return null;return K=WE&&K[WE]||K["@@iterator"],typeof K==="function"?K:null}function Y1(K){if(K==null)return null;if(typeof K==="function")return K.$$typeof===Ie?null:K.displayName||K.name||null;if(typeof K==="string")return K;switch(K){case BQ:return"Fragment";case VA:return"Profiler";case Oq:return"StrictMode";case DA:return"Suspense";case CA:return"SuspenseList";case AA:return"Activity"}if(typeof K==="object")switch(typeof K.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),K.$$typeof){case zQ:return"Portal";case c7:return(K.displayName||"Context")+".Provider";case NA:return(K._context.displayName||"Context")+".Consumer";case BK:var Y=K.render;return K=K.displayName,K||(K=Y.displayName||Y.name||"",K=K!==""?"ForwardRef("+K+")":"ForwardRef"),K;case kq:return Y=K.displayName||null,Y!==null?Y:Y1(K.type)||"Memo";case o6:Y=K._payload,K=K._init;try{return Y1(K(Y))}catch(q){}}return null}function H1(K){return typeof K.tag==="number"?Q1(K):typeof K.name==="string"?K.name:null}function Q1(K){var Y=K.type;switch(K.tag){case 31:return"Activity";case 24:return"Cache";case 9:return(Y._context.displayName||"Context")+".Consumer";case 10:return(Y.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return K=Y.render,K=K.displayName||K.name||"",Y.displayName||(K!==""?"ForwardRef("+K+")":"ForwardRef");case 7:return"Fragment";case 26:case 27:case 5:return Y;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y1(Y);case 8:return Y===Oq?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 14:case 15:if(typeof Y==="function")return Y.displayName||Y.name||null;if(typeof Y==="string")return Y;break;case 29:if(Y=K._debugInfo,Y!=null){for(var q=Y.length-1;0<=q;q--)if(typeof Y[q].name==="string")return Y[q].name}if(K.return!==null)return Q1(K.return)}return null}function W1(K){return{current:K}}function R1(K,Y){0>d3?console.error("Unexpected pop."):(Y!==BA[d3]&&console.error("Unexpected Fiber popped."),K.current=zA[d3],zA[d3]=null,BA[d3]=null,d3--)}function C1(K,Y,q){d3++,zA[d3]=K.current,BA[d3]=q,K.current=Y}function O1(K){return K===null&&console.error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue."),K}function x1(K,Y){C1(i8,Y,K),C1(RK,K,K),C1(u8,null,K);var q=Y.nodeType;switch(q){case 9:case 11:q=q===9?"#document":"#fragment",Y=(Y=Y.documentElement)?(Y=Y.namespaceURI)?xG(Y):e3:e3;break;default:if(q=Y.tagName,Y=Y.namespaceURI)Y=xG(Y),Y=gG(Y,q);else switch(q){case"svg":Y=eQ;break;case"math":Y=WH;break;default:Y=e3}}q=q.toLowerCase(),q=uS(null,q),q={context:Y,ancestorInfo:q},R1(u8,K),C1(u8,q,K)}function U1(K){R1(u8,K),R1(RK,K),R1(i8,K)}function T1(){return O1(u8.current)}function I1(K){K.memoizedState!==null&&C1(Pq,K,K);var Y=O1(u8.current),q=K.type,U=gG(Y.context,q);q=uS(Y.ancestorInfo,q),U={context:U,ancestorInfo:q},Y!==U&&(C1(RK,K,K),C1(u8,U,K))}function V0(K){RK.current===K&&(R1(u8,K),R1(RK,K)),Pq.current===K&&(R1(Pq,K),ZX._currentValue=i2)}function Z1(K){return typeof Symbol==="function"&&Symbol.toStringTag&&K[Symbol.toStringTag]||K.constructor.name||"Object"}function m1(K){try{return N0(K),!1}catch(Y){return!0}}function N0(K){return""+K}function l1(K,Y){if(m1(K))return console.error("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before using it here.",Y,Z1(K)),N0(K)}function C5(K,Y){if(m1(K))return console.error("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before using it here.",Y,Z1(K)),N0(K)}function G5(K){if(m1(K))return console.error("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before using it here.",Z1(K)),N0(K)}function h7(K){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var Y=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(Y.isDisabled)return!0;if(!Y.supportsFiber)return console.error("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://react.dev/link/react-devtools"),!0;try{OQ=Y.inject(K),e5=Y}catch(q){console.error("React instrumentation encountered an error: %s.",q)}return Y.checkDCE?!0:!1}function k0(K){if(typeof _e==="function"&&xe(K),e5&&typeof e5.setStrictMode==="function")try{e5.setStrictMode(OQ,K)}catch(Y){l7||(l7=!0,console.error("React instrumentation encountered an error: %s",Y))}}function e0(K){B1=K}function e4(){B1!==null&&typeof B1.markCommitStopped==="function"&&B1.markCommitStopped()}function V4(K){B1!==null&&typeof B1.markComponentRenderStarted==="function"&&B1.markComponentRenderStarted(K)}function $7(){B1!==null&&typeof B1.markComponentRenderStopped==="function"&&B1.markComponentRenderStopped()}function LZ(K){B1!==null&&typeof B1.markRenderStarted==="function"&&B1.markRenderStarted(K)}function hZ(){B1!==null&&typeof B1.markRenderStopped==="function"&&B1.markRenderStopped()}function L3(K,Y){B1!==null&&typeof B1.markStateUpdateScheduled==="function"&&B1.markStateUpdateScheduled(K,Y)}function w6(K){return K>>>=0,K===0?32:31-(ge(K)/ye|0)|0}function o$(K){if(K&1)return"SyncHydrationLane";if(K&2)return"Sync";if(K&4)return"InputContinuousHydration";if(K&8)return"InputContinuous";if(K&16)return"DefaultHydration";if(K&32)return"Default";if(K&128)return"TransitionHydration";if(K&4194048)return"Transition";if(K&62914560)return"Retry";if(K&67108864)return"SelectiveHydration";if(K&134217728)return"IdleHydration";if(K&268435456)return"Idle";if(K&536870912)return"Offscreen";if(K&1073741824)return"Deferred"}function v7(K){var Y=K&42;if(Y!==0)return Y;switch(K&-K){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return K&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return K&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return console.error("Should have found matching lanes. This is a bug in React."),K}}function a$(K,Y,q){var U=K.pendingLanes;if(U===0)return 0;var N=0,A=K.suspendedLanes,B=K.pingedLanes;K=K.warmLanes;var O=U&134217727;return O!==0?(U=O&~A,U!==0?N=v7(U):(B&=O,B!==0?N=v7(B):q||(q=O&~K,q!==0&&(N=v7(q))))):(O=U&~A,O!==0?N=v7(O):B!==0?N=v7(B):q||(q=U&~K,q!==0&&(N=v7(q)))),N===0?0:Y!==0&&Y!==N&&(Y&A)===0&&(A=N&-N,q=Y&-Y,A>=q||A===32&&(q&4194048)!==0)?Y:N}function e1(K,Y){return(K.pendingLanes&~(K.suspendedLanes&~K.pingedLanes)&Y)===0}function r$(K,Y){switch(K){case 1:case 2:case 4:case 8:case 64:return Y+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Y+5000;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return console.error("Should have found matching lanes. This is a bug in React."),-1}}function vZ(){var K=Mq;return Mq<<=1,(Mq&4194048)===0&&(Mq=256),K}function _Z(){var K=wq;return wq<<=1,(wq&62914560)===0&&(wq=4194304),K}function t$(K){for(var Y=[],q=0;31>q;q++)Y.push(K);return Y}function v8(K,Y){K.pendingLanes|=Y,Y!==268435456&&(K.suspendedLanes=0,K.pingedLanes=0,K.warmLanes=0)}function FD(K,Y,q,U,N,A){var B=K.pendingLanes;K.pendingLanes=q,K.suspendedLanes=0,K.pingedLanes=0,K.warmLanes=0,K.expiredLanes&=q,K.entangledLanes&=q,K.errorRecoveryDisabledLanes&=q,K.shellSuspendCounter=0;var{entanglements:O,expirationTimes:w,hiddenUpdates:G}=K;for(q=B&~q;0<q;){var u=31-H6(q),t=1<<u;O[u]=0,w[u]=-1;var p=G[u];if(p!==null)for(G[u]=null,u=0;u<p.length;u++){var e=p[u];e!==null&&(e.lane&=-536870913)}q&=~t}U!==0&&BW(K,U,0),A!==0&&N===0&&K.tag!==0&&(K.suspendedLanes|=A&~(B&~Y))}function BW(K,Y,q){K.pendingLanes|=Y,K.suspendedLanes&=~Y;var U=31-H6(Y);K.entangledLanes|=Y,K.entanglements[U]=K.entanglements[U]|1073741824|q&4194090}function xZ(K,Y){var q=K.entangledLanes|=Y;for(K=K.entanglements;q;){var U=31-H6(q),N=1<<U;N&Y|K[U]&Y&&(K[U]|=Y),q&=~N}}function e$(K){switch(K){case 2:K=1;break;case 8:K=4;break;case 32:K=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:K=128;break;case 268435456:K=134217728;break;default:K=0}return K}function gZ(K,Y,q){if(X7)for(K=K.pendingUpdatersLaneMap;0<q;){var U=31-H6(q),N=1<<U;K[U].add(Y),q&=~N}}function yZ(K,Y){if(X7)for(var{pendingUpdatersLaneMap:q,memoizedUpdaters:U}=K;0<Y;){var N=31-H6(Y);K=1<<N,N=q[N],0<N.size&&(N.forEach(function(A){var B=A.alternate;B!==null&&U.has(B)||U.add(A)}),N.clear()),Y&=~K}}function _8(K){return K&=-K,a6!==0&&a6<K?Y7!==0&&Y7<K?(K&134217727)!==0?p7:Sq:Y7:a6}function H2(){var K=M0.p;if(K!==0)return K;return K=window.event,K===void 0?p7:QE(K.type)}function $Q(K,Y){var q=M0.p;try{return M0.p=K,Y()}finally{M0.p=q}}function F2(K){delete K[$6],delete K[E6],delete K[MA],delete K[be],delete K[fe]}function h3(K){var Y=K[$6];if(Y)return Y;for(var q=K.parentNode;q;){if(Y=q[s8]||q[$6]){if(q=Y.alternate,Y.child!==null||q!==null&&q.child!==null)for(K=dG(K);K!==null;){if(q=K[$6])return q;K=dG(K)}return Y}K=q,q=K.parentNode}return null}function M(K){if(K=K[$6]||K[s8]){var Y=K.tag;if(Y===5||Y===6||Y===13||Y===26||Y===27||Y===3)return K}return null}function c(K){var Y=K.tag;if(Y===5||Y===26||Y===27||Y===6)return K.stateNode;throw Error("getNodeFromInstance: Invalid argument.")}function N1(K){var Y=K[qE];return Y||(Y=K[qE]={hoistableStyles:new Map,hoistableScripts:new Map}),Y}function V1(K){K[OK]=!0}function M1(K,Y){a1(K,Y),a1(K+"Capture",Y)}function a1(K,Y){I2[K]&&console.error("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",K),I2[K]=Y;var q=K.toLowerCase();wA[q]=K,K==="onDoubleClick"&&(wA.ondblclick=K);for(K=0;K<Y.length;K++)HE.add(Y[K])}function i1(K,Y){me[Y.type]||Y.onChange||Y.onInput||Y.readOnly||Y.disabled||Y.value==null||(K==="select"?console.error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set `onChange`."):console.error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")),Y.onChange||Y.readOnly||Y.disabled||Y.checked==null||console.error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function O0(K){if(l3.call(UE,K))return!0;if(l3.call(FE,K))return!1;if(ce.test(K))return UE[K]=!0;return FE[K]=!0,console.error("Invalid attribute name: `%s`",K),!1}function K0(K,Y,q){if(O0(Y)){if(!K.hasAttribute(Y)){switch(typeof q){case"symbol":case"object":return q;case"function":return q;case"boolean":if(q===!1)return q}return q===void 0?void 0:null}if(K=K.getAttribute(Y),K===""&&q===!0)return!0;return l1(q,Y),K===""+q?q:K}}function l6(K,Y,q){if(O0(Y))if(q===null)K.removeAttribute(Y);else{switch(typeof q){case"undefined":case"function":case"symbol":K.removeAttribute(Y);return;case"boolean":var U=Y.toLowerCase().slice(0,5);if(U!=="data-"&&U!=="aria-"){K.removeAttribute(Y);return}}l1(q,Y),K.setAttribute(Y,""+q)}}function Q7(K,Y,q){if(q===null)K.removeAttribute(Y);else{switch(typeof q){case"undefined":case"function":case"symbol":case"boolean":K.removeAttribute(Y);return}l1(q,Y),K.setAttribute(Y,""+q)}}function J7(K,Y,q,U){if(U===null)K.removeAttribute(q);else{switch(typeof U){case"undefined":case"function":case"symbol":case"boolean":K.removeAttribute(q);return}l1(U,q),K.setAttributeNS(Y,q,""+U)}}function RW(){}function lr(){if(kK===0){VE=console.log,NE=console.info,DE=console.warn,CE=console.error,AE=console.group,zE=console.groupCollapsed,BE=console.groupEnd;var K={configurable:!0,enumerable:!0,value:RW,writable:!0};Object.defineProperties(console,{info:K,log:K,warn:K,error:K,group:K,groupCollapsed:K,groupEnd:K})}kK++}function pr(){if(kK--,kK===0){var K={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:X0({},K,{value:VE}),info:X0({},K,{value:NE}),warn:X0({},K,{value:DE}),error:X0({},K,{value:CE}),group:X0({},K,{value:AE}),groupCollapsed:X0({},K,{value:zE}),groupEnd:X0({},K,{value:BE})})}0>kK&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function N4(K){if(SA===void 0)try{throw Error()}catch(q){var Y=q.stack.trim().match(/\n( *(at )?)/);SA=Y&&Y[1]||"",RE=-1<q.stack.indexOf(`
    at`)?" (<anonymous>)":-1<q.stack.indexOf("@")?"@unknown:0:0":""}return`
`+SA+K+RE}function UD(K,Y){if(!K||TA)return"";var q=IA.get(K);if(q!==void 0)return q;TA=!0,q=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var U=null;U=r.H,r.H=null,lr();try{var N={DetermineComponentFrameRoot:function(){try{if(Y){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(k1){var e=k1}Reflect.construct(K,[],p)}else{try{p.call()}catch(k1){e=k1}K.call(p.prototype)}}else{try{throw Error()}catch(k1){e=k1}(p=K())&&typeof p.catch==="function"&&p.catch(function(){})}}catch(k1){if(k1&&e&&typeof k1.stack==="string")return[k1.stack,e.stack]}return[null,null]}};N.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(N.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(N.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var B=N.DetermineComponentFrameRoot(),O=B[0],w=B[1];if(O&&w){var G=O.split(`
`),u=w.split(`
`);for(B=A=0;A<G.length&&!G[A].includes("DetermineComponentFrameRoot");)A++;for(;B<u.length&&!u[B].includes("DetermineComponentFrameRoot");)B++;if(A===G.length||B===u.length)for(A=G.length-1,B=u.length-1;1<=A&&0<=B&&G[A]!==u[B];)B--;for(;1<=A&&0<=B;A--,B--)if(G[A]!==u[B]){if(A!==1||B!==1)do if(A--,B--,0>B||G[A]!==u[B]){var t=`
`+G[A].replace(" at new "," at ");return K.displayName&&t.includes("<anonymous>")&&(t=t.replace("<anonymous>",K.displayName)),typeof K==="function"&&IA.set(K,t),t}while(1<=A&&0<=B);break}}}finally{TA=!1,r.H=U,pr(),Error.prepareStackTrace=q}return G=(G=K?K.displayName||K.name:"")?N4(G):"",typeof K==="function"&&IA.set(K,G),G}function GS(K){var Y=Error.prepareStackTrace;if(Error.prepareStackTrace=void 0,K=K.stack,Error.prepareStackTrace=Y,K.startsWith(`Error: react-stack-top-frame
`)&&(K=K.slice(29)),Y=K.indexOf(`
`),Y!==-1&&(K=K.slice(Y+1)),Y=K.indexOf("react_stack_bottom_frame"),Y!==-1&&(Y=K.lastIndexOf(`
`,Y)),Y!==-1)K=K.slice(0,Y);else return"";return K}function ur(K){switch(K.tag){case 26:case 27:case 5:return N4(K.type);case 16:return N4("Lazy");case 13:return N4("Suspense");case 19:return N4("SuspenseList");case 0:case 15:return UD(K.type,!1);case 11:return UD(K.type.render,!1);case 1:return UD(K.type,!0);case 31:return N4("Activity");default:return""}}function ES(K){try{var Y="";do{Y+=ur(K);var q=K._debugInfo;if(q)for(var U=q.length-1;0<=U;U--){var N=q[U];if(typeof N.name==="string"){var A=Y,B=N.env,O=N4(N.name+(B?" ["+B+"]":""));Y=A+O}}K=K.return}while(K);return Y}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}function jS(K){return(K=K?K.displayName||K.name:"")?N4(K):""}function OW(){if(r6===null)return null;var K=r6._debugOwner;return K!=null?H1(K):null}function ir(){if(r6===null)return"";var K=r6;try{var Y="";switch(K.tag===6&&(K=K.return),K.tag){case 26:case 27:case 5:Y+=N4(K.type);break;case 13:Y+=N4("Suspense");break;case 19:Y+=N4("SuspenseList");break;case 31:Y+=N4("Activity");break;case 30:case 0:case 15:case 1:K._debugOwner||Y!==""||(Y+=jS(K.type));break;case 11:K._debugOwner||Y!==""||(Y+=jS(K.type.render))}for(;K;)if(typeof K.tag==="number"){var q=K;K=q._debugOwner;var U=q._debugStack;K&&U&&(typeof U!=="string"&&(q._debugStack=U=GS(U)),U!==""&&(Y+=`
`+U))}else if(K.debugStack!=null){var N=K.debugStack;(K=K.owner)&&N&&(Y+=`
`+GS(N))}else break;var A=Y}catch(B){A=`
Error generating stack: `+B.message+`
`+B.stack}return A}function w1(K,Y,q,U,N,A,B){var O=r6;VD(K);try{return K!==null&&K._debugTask?K._debugTask.run(Y.bind(null,q,U,N,A,B)):Y(q,U,N,A,B)}finally{VD(O)}throw Error("runWithFiberInDEV should never be called in production. This is a bug in React.")}function VD(K){r.getCurrentStack=K===null?null:ir,u7=!1,r6=K}function D4(K){switch(typeof K){case"bigint":case"boolean":case"number":case"string":case"undefined":return K;case"object":return G5(K),K;default:return""}}function LS(K){var Y=K.type;return(K=K.nodeName)&&K.toLowerCase()==="input"&&(Y==="checkbox"||Y==="radio")}function nr(K){var Y=LS(K)?"checked":"value",q=Object.getOwnPropertyDescriptor(K.constructor.prototype,Y);G5(K[Y]);var U=""+K[Y];if(!K.hasOwnProperty(Y)&&typeof q<"u"&&typeof q.get==="function"&&typeof q.set==="function"){var{get:N,set:A}=q;return Object.defineProperty(K,Y,{configurable:!0,get:function(){return N.call(this)},set:function(B){G5(B),U=""+B,A.call(this,B)}}),Object.defineProperty(K,Y,{enumerable:q.enumerable}),{getValue:function(){return U},setValue:function(B){G5(B),U=""+B},stopTracking:function(){K._valueTracker=null,delete K[Y]}}}}function kW(K){K._valueTracker||(K._valueTracker=nr(K))}function hS(K){if(!K)return!1;var Y=K._valueTracker;if(!Y)return!0;var q=Y.getValue(),U="";return K&&(U=LS(K)?K.checked?"true":"false":K.value),K=U,K!==q?(Y.setValue(K),!0):!1}function PW(K){if(K=K||(typeof document<"u"?document:void 0),typeof K>"u")return null;try{return K.activeElement||K.body}catch(Y){return K.body}}function C4(K){return K.replace(de,function(Y){return"\\"+Y.charCodeAt(0).toString(16)+" "})}function vS(K,Y){Y.checked===void 0||Y.defaultChecked===void 0||kE||(console.error("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",OW()||"A component",Y.type),kE=!0),Y.value===void 0||Y.defaultValue===void 0||OE||(console.error("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",OW()||"A component",Y.type),OE=!0)}function ND(K,Y,q,U,N,A,B,O){if(K.name="",B!=null&&typeof B!=="function"&&typeof B!=="symbol"&&typeof B!=="boolean"?(l1(B,"type"),K.type=B):K.removeAttribute("type"),Y!=null)if(B==="number"){if(Y===0&&K.value===""||K.value!=Y)K.value=""+D4(Y)}else K.value!==""+D4(Y)&&(K.value=""+D4(Y));else B!=="submit"&&B!=="reset"||K.removeAttribute("value");Y!=null?DD(K,B,D4(Y)):q!=null?DD(K,B,D4(q)):U!=null&&K.removeAttribute("value"),N==null&&A!=null&&(K.defaultChecked=!!A),N!=null&&(K.checked=N&&typeof N!=="function"&&typeof N!=="symbol"),O!=null&&typeof O!=="function"&&typeof O!=="symbol"&&typeof O!=="boolean"?(l1(O,"name"),K.name=""+D4(O)):K.removeAttribute("name")}function _S(K,Y,q,U,N,A,B,O){if(A!=null&&typeof A!=="function"&&typeof A!=="symbol"&&typeof A!=="boolean"&&(l1(A,"type"),K.type=A),Y!=null||q!=null){if(!(A!=="submit"&&A!=="reset"||Y!==void 0&&Y!==null))return;q=q!=null?""+D4(q):"",Y=Y!=null?""+D4(Y):q,O||Y===K.value||(K.value=Y),K.defaultValue=Y}U=U!=null?U:N,U=typeof U!=="function"&&typeof U!=="symbol"&&!!U,K.checked=O?K.checked:!!U,K.defaultChecked=!!U,B!=null&&typeof B!=="function"&&typeof B!=="symbol"&&typeof B!=="boolean"&&(l1(B,"name"),K.name=B)}function DD(K,Y,q){Y==="number"&&PW(K.ownerDocument)===K||K.defaultValue===""+q||(K.defaultValue=""+q)}function xS(K,Y){Y.value==null&&(typeof Y.children==="object"&&Y.children!==null?JJ.Children.forEach(Y.children,function(q){q==null||typeof q==="string"||typeof q==="number"||typeof q==="bigint"||ME||(ME=!0,console.error("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>."))}):Y.dangerouslySetInnerHTML==null||wE||(wE=!0,console.error("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected."))),Y.selected==null||PE||(console.error("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),PE=!0)}function gS(){var K=OW();return K?`

Check the render method of \``+K+"`.":""}function QQ(K,Y,q,U){if(K=K.options,Y){Y={};for(var N=0;N<q.length;N++)Y["$"+q[N]]=!0;for(q=0;q<K.length;q++)N=Y.hasOwnProperty("$"+K[q].value),K[q].selected!==N&&(K[q].selected=N),N&&U&&(K[q].defaultSelected=!0)}else{q=""+D4(q),Y=null;for(N=0;N<K.length;N++){if(K[N].value===q){K[N].selected=!0,U&&(K[N].defaultSelected=!0);return}Y!==null||K[N].disabled||(Y=K[N])}Y!==null&&(Y.selected=!0)}}function yS(K,Y){for(K=0;K<TE.length;K++){var q=TE[K];if(Y[q]!=null){var U=u5(Y[q]);Y.multiple&&!U?console.error("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",q,gS()):!Y.multiple&&U&&console.error("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",q,gS())}}Y.value===void 0||Y.defaultValue===void 0||SE||(console.error("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://react.dev/link/controlled-components"),SE=!0)}function bS(K,Y){Y.value===void 0||Y.defaultValue===void 0||IE||(console.error("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://react.dev/link/controlled-components",OW()||"A component"),IE=!0),Y.children!=null&&Y.value==null&&console.error("Use the `defaultValue` or `value` props instead of setting children on <textarea>.")}function fS(K,Y,q){if(Y!=null&&(Y=""+D4(Y),Y!==K.value&&(K.value=Y),q==null)){K.defaultValue!==Y&&(K.defaultValue=Y);return}K.defaultValue=q!=null?""+D4(q):""}function mS(K,Y,q,U){if(Y==null){if(U!=null){if(q!=null)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(u5(U)){if(1<U.length)throw Error("<textarea> can only have at most one child.");U=U[0]}q=U}q==null&&(q=""),Y=q}q=D4(Y),K.defaultValue=q,U=K.textContent,U===q&&U!==""&&U!==null&&(K.value=U)}function cS(K,Y){return K.serverProps===void 0&&K.serverTail.length===0&&K.children.length===1&&3<K.distanceFromLeaf&&K.distanceFromLeaf>15-Y?cS(K.children[0],Y):K}function p6(K){return"  "+"  ".repeat(K)}function JQ(K){return"+ "+"  ".repeat(K)}function U2(K){return"- "+"  ".repeat(K)}function dS(K){switch(K.tag){case 26:case 27:case 5:return K.type;case 16:return"Lazy";case 13:return"Suspense";case 19:return"SuspenseList";case 0:case 15:return K=K.type,K.displayName||K.name||null;case 11:return K=K.type.render,K.displayName||K.name||null;case 1:return K=K.type,K.displayName||K.name||null;default:return null}}function bZ(K,Y){return GE.test(K)?(K=JSON.stringify(K),K.length>Y-2?8>Y?'{"..."}':"{"+K.slice(0,Y-7)+'..."}':"{"+K+"}"):K.length>Y?5>Y?'{"..."}':K.slice(0,Y-3)+"...":K}function MW(K,Y,q){var U=120-2*q;if(Y===null)return JQ(q)+bZ(K,U)+`
`;if(typeof Y==="string"){for(var N=0;N<Y.length&&N<K.length&&Y.charCodeAt(N)===K.charCodeAt(N);N++);return N>U-8&&10<N&&(K="..."+K.slice(N-8),Y="..."+Y.slice(N-8)),JQ(q)+bZ(K,U)+`
`+U2(q)+bZ(Y,U)+`
`}return p6(q)+bZ(K,U)+`
`}function CD(K){return Object.prototype.toString.call(K).replace(/^\[object (.*)\]$/,function(Y,q){return q})}function fZ(K,Y){switch(typeof K){case"string":return K=JSON.stringify(K),K.length>Y?5>Y?'"..."':K.slice(0,Y-4)+'..."':K;case"object":if(K===null)return"null";if(u5(K))return"[...]";if(K.$$typeof===p8)return(Y=Y1(K.type))?"<"+Y+">":"<...>";var q=CD(K);if(q==="Object"){q="",Y-=2;for(var U in K)if(K.hasOwnProperty(U)){var N=JSON.stringify(U);if(N!=='"'+U+'"'&&(U=N),Y-=U.length-2,N=fZ(K[U],15>Y?Y:15),Y-=N.length,0>Y){q+=q===""?"...":", ...";break}q+=(q===""?"":",")+U+":"+N}return"{"+q+"}"}return q;case"function":return(Y=K.displayName||K.name)?"function "+Y:"function";default:return String(K)}}function ZQ(K,Y){return typeof K!=="string"||GE.test(K)?"{"+fZ(K,Y-2)+"}":K.length>Y-2?5>Y?'"..."':'"'+K.slice(0,Y-5)+'..."':'"'+K+'"'}function AD(K,Y,q){var U=120-q.length-K.length,N=[],A;for(A in Y)if(Y.hasOwnProperty(A)&&A!=="children"){var B=ZQ(Y[A],120-q.length-A.length-1);U-=A.length+B.length+2,N.push(A+"="+B)}return N.length===0?q+"<"+K+`>
`:0<U?q+"<"+K+" "+N.join(" ")+`>
`:q+"<"+K+`
`+q+"  "+N.join(`
`+q+"  ")+`
`+q+`>
`}function sr(K,Y,q){var U="",N=X0({},Y),A;for(A in K)if(K.hasOwnProperty(A)){delete N[A];var B=120-2*q-A.length-2,O=fZ(K[A],B);Y.hasOwnProperty(A)?(B=fZ(Y[A],B),U+=JQ(q)+A+": "+O+`
`,U+=U2(q)+A+": "+B+`
`):U+=JQ(q)+A+": "+O+`
`}for(var w in N)N.hasOwnProperty(w)&&(K=fZ(N[w],120-2*q-w.length-2),U+=U2(q)+w+": "+K+`
`);return U}function or(K,Y,q,U){var N="",A=new Map;for(G in q)q.hasOwnProperty(G)&&A.set(G.toLowerCase(),G);if(A.size===1&&A.has("children"))N+=AD(K,Y,p6(U));else{for(var B in Y)if(Y.hasOwnProperty(B)&&B!=="children"){var O=120-2*(U+1)-B.length-1,w=A.get(B.toLowerCase());if(w!==void 0){A.delete(B.toLowerCase());var G=Y[B];w=q[w];var u=ZQ(G,O);O=ZQ(w,O),typeof G==="object"&&G!==null&&typeof w==="object"&&w!==null&&CD(G)==="Object"&&CD(w)==="Object"&&(2<Object.keys(G).length||2<Object.keys(w).length||-1<u.indexOf("...")||-1<O.indexOf("..."))?N+=p6(U+1)+B+`={{
`+sr(G,w,U+2)+p6(U+1)+`}}
`:(N+=JQ(U+1)+B+"="+u+`
`,N+=U2(U+1)+B+"="+O+`
`)}else N+=p6(U+1)+B+"="+ZQ(Y[B],O)+`
`}A.forEach(function(t){if(t!=="children"){var p=120-2*(U+1)-t.length-1;N+=U2(U+1)+t+"="+ZQ(q[t],p)+`
`}}),N=N===""?p6(U)+"<"+K+`>
`:p6(U)+"<"+K+`
`+N+p6(U)+`>
`}if(K=q.children,Y=Y.children,typeof K==="string"||typeof K==="number"||typeof K==="bigint"){if(A="",typeof Y==="string"||typeof Y==="number"||typeof Y==="bigint")A=""+Y;N+=MW(A,""+K,U+1)}else if(typeof Y==="string"||typeof Y==="number"||typeof Y==="bigint")N=K==null?N+MW(""+Y,null,U+1):N+MW(""+Y,void 0,U+1);return N}function lS(K,Y){var q=dS(K);if(q===null){q="";for(K=K.child;K;)q+=lS(K,Y),K=K.sibling;return q}return p6(Y)+"<"+q+`>
`}function zD(K,Y){var q=cS(K,Y);if(q!==K&&(K.children.length!==1||K.children[0]!==q))return p6(Y)+`...
`+zD(q,Y+1);q="";var U=K.fiber._debugInfo;if(U)for(var N=0;N<U.length;N++){var A=U[N].name;typeof A==="string"&&(q+=p6(Y)+"<"+A+`>
`,Y++)}if(U="",N=K.fiber.pendingProps,K.fiber.tag===6)U=MW(N,K.serverProps,Y),Y++;else if(A=dS(K.fiber),A!==null)if(K.serverProps===void 0){U=Y;var B=120-2*U-A.length-2,O="";for(G in N)if(N.hasOwnProperty(G)&&G!=="children"){var w=ZQ(N[G],15);if(B-=G.length+w.length+2,0>B){O+=" ...";break}O+=" "+G+"="+w}U=p6(U)+"<"+A+O+`>
`,Y++}else K.serverProps===null?(U=AD(A,N,JQ(Y)),Y++):typeof K.serverProps==="string"?console.error("Should not have matched a non HostText fiber to a Text node. This is a bug in React."):(U=or(A,N,K.serverProps,Y),Y++);var G="";N=K.fiber.child;for(A=0;N&&A<K.children.length;)B=K.children[A],B.fiber===N?(G+=zD(B,Y),A++):G+=lS(N,Y),N=N.sibling;N&&0<K.children.length&&(G+=p6(Y)+`...
`),N=K.serverTail,K.serverProps===null&&Y--;for(K=0;K<N.length;K++)A=N[K],G=typeof A==="string"?G+(U2(Y)+bZ(A,120-2*Y)+`
`):G+AD(A.type,A.props,U2(Y));return q+U+G}function BD(K){try{return`

`+zD(K,0)}catch(Y){return""}}function pS(K,Y,q){for(var U=Y,N=null,A=0;U;)U===K&&(A=0),N={fiber:U,children:N!==null?[N]:[],serverProps:U===Y?q:U===K?null:void 0,serverTail:[],distanceFromLeaf:A},A++,U=U.return;return N!==null?BD(N).replaceAll(/^[+-]/gm,">"):""}function uS(K,Y){var q=X0({},K||jE),U={tag:Y};if(EE.indexOf(Y)!==-1&&(q.aTagInScope=null,q.buttonTagInScope=null,q.nobrTagInScope=null),pe.indexOf(Y)!==-1&&(q.pTagInButtonScope=null),le.indexOf(Y)!==-1&&Y!=="address"&&Y!=="div"&&Y!=="p"&&(q.listItemTagAutoclosing=null,q.dlItemTagAutoclosing=null),q.current=U,Y==="form"&&(q.formTag=U),Y==="a"&&(q.aTagInScope=U),Y==="button"&&(q.buttonTagInScope=U),Y==="nobr"&&(q.nobrTagInScope=U),Y==="p"&&(q.pTagInButtonScope=U),Y==="li"&&(q.listItemTagAutoclosing=U),Y==="dd"||Y==="dt")q.dlItemTagAutoclosing=U;return Y==="#document"||Y==="html"?q.containerTagInScope=null:q.containerTagInScope||(q.containerTagInScope=U),K!==null||Y!=="#document"&&Y!=="html"&&Y!=="body"?q.implicitRootScope===!0&&(q.implicitRootScope=!1):q.implicitRootScope=!0,q}function iS(K,Y,q){switch(Y){case"select":return K==="hr"||K==="option"||K==="optgroup"||K==="script"||K==="template"||K==="#text";case"optgroup":return K==="option"||K==="#text";case"option":return K==="#text";case"tr":return K==="th"||K==="td"||K==="style"||K==="script"||K==="template";case"tbody":case"thead":case"tfoot":return K==="tr"||K==="style"||K==="script"||K==="template";case"colgroup":return K==="col"||K==="template";case"table":return K==="caption"||K==="colgroup"||K==="tbody"||K==="tfoot"||K==="thead"||K==="style"||K==="script"||K==="template";case"head":return K==="base"||K==="basefont"||K==="bgsound"||K==="link"||K==="meta"||K==="title"||K==="noscript"||K==="noframes"||K==="style"||K==="script"||K==="template";case"html":if(q)break;return K==="head"||K==="body"||K==="frameset";case"frameset":return K==="frame";case"#document":if(!q)return K==="html"}switch(K){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return Y!=="h1"&&Y!=="h2"&&Y!=="h3"&&Y!=="h4"&&Y!=="h5"&&Y!=="h6";case"rp":case"rt":return ue.indexOf(Y)===-1;case"caption":case"col":case"colgroup":case"frameset":case"frame":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return Y==null;case"head":return q||Y===null;case"html":return q&&Y==="#document"||Y===null;case"body":return q&&(Y==="#document"||Y==="html")||Y===null}return!0}function ar(K,Y){switch(K){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return Y.pTagInButtonScope;case"form":return Y.formTag||Y.pTagInButtonScope;case"li":return Y.listItemTagAutoclosing;case"dd":case"dt":return Y.dlItemTagAutoclosing;case"button":return Y.buttonTagInScope;case"a":return Y.aTagInScope;case"nobr":return Y.nobrTagInScope}return null}function nS(K,Y){for(;K;){switch(K.tag){case 5:case 26:case 27:if(K.type===Y)return K}K=K.return}return null}function RD(K,Y){Y=Y||jE;var q=Y.current;if(Y=(q=iS(K,q&&q.tag,Y.implicitRootScope)?null:q)?null:ar(K,Y),Y=q||Y,!Y)return!0;var U=Y.tag;if(Y=String(!!q)+"|"+K+"|"+U,Tq[Y])return!1;Tq[Y]=!0;var N=(Y=r6)?nS(Y.return,U):null,A=Y!==null&&N!==null?pS(N,Y,null):"",B="<"+K+">";return q?(q="",U==="table"&&K==="tr"&&(q+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),console.error(`In HTML, %s cannot be a child of <%s>.%s
This will cause a hydration error.%s`,B,U,q,A)):console.error(`In HTML, %s cannot be a descendant of <%s>.
This will cause a hydration error.%s`,B,U,A),Y&&(K=Y.return,N===null||K===null||N===K&&K._debugOwner===Y._debugOwner||w1(N,function(){console.error(`<%s> cannot contain a nested %s.
See this log for the ancestor stack trace.`,U,B)})),!1}function wW(K,Y,q){if(q||iS("#text",Y,!1))return!0;if(q="#text|"+Y,Tq[q])return!1;Tq[q]=!0;var U=(q=r6)?nS(q,Y):null;return q=q!==null&&U!==null?pS(U,q,q.tag!==6?{children:null}:null):"",/\S/.test(K)?console.error(`In HTML, text nodes cannot be a child of <%s>.
This will cause a hydration error.%s`,Y,q):console.error(`In HTML, whitespace text nodes cannot be a child of <%s>. Make sure you don't have any extra whitespace between tags on each line of your source code.
This will cause a hydration error.%s`,Y,q),!1}function mZ(K,Y){if(Y){var q=K.firstChild;if(q&&q===K.lastChild&&q.nodeType===3){q.nodeValue=Y;return}}K.textContent=Y}function rr(K){return K.replace(se,function(Y,q){return q.toUpperCase()})}function sS(K,Y,q){var U=Y.indexOf("--")===0;U||(-1<Y.indexOf("-")?kQ.hasOwnProperty(Y)&&kQ[Y]||(kQ[Y]=!0,console.error("Unsupported style property %s. Did you mean %s?",Y,rr(Y.replace(ne,"ms-")))):ie.test(Y)?kQ.hasOwnProperty(Y)&&kQ[Y]||(kQ[Y]=!0,console.error("Unsupported vendor-prefixed style property %s. Did you mean %s?",Y,Y.charAt(0).toUpperCase()+Y.slice(1))):!vE.test(q)||EA.hasOwnProperty(q)&&EA[q]||(EA[q]=!0,console.error(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,Y,q.replace(vE,""))),typeof q==="number"&&(isNaN(q)?_E||(_E=!0,console.error("`NaN` is an invalid value for the `%s` css style property.",Y)):isFinite(q)||xE||(xE=!0,console.error("`Infinity` is an invalid value for the `%s` css style property.",Y)))),q==null||typeof q==="boolean"||q===""?U?K.setProperty(Y,""):Y==="float"?K.cssFloat="":K[Y]="":U?K.setProperty(Y,q):typeof q!=="number"||q===0||gE.has(Y)?Y==="float"?K.cssFloat=q:(C5(q,Y),K[Y]=(""+q).trim()):K[Y]=q+"px"}function oS(K,Y,q){if(Y!=null&&typeof Y!=="object")throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");if(Y&&Object.freeze(Y),K=K.style,q!=null){if(Y){var U={};if(q){for(var N in q)if(q.hasOwnProperty(N)&&!Y.hasOwnProperty(N))for(var A=GA[N]||[N],B=0;B<A.length;B++)U[A[B]]=N}for(var O in Y)if(Y.hasOwnProperty(O)&&(!q||q[O]!==Y[O]))for(N=GA[O]||[O],A=0;A<N.length;A++)U[N[A]]=O;O={};for(var w in Y)for(N=GA[w]||[w],A=0;A<N.length;A++)O[N[A]]=w;w={};for(var G in U)if(N=U[G],(A=O[G])&&N!==A&&(B=N+","+A,!w[B])){w[B]=!0,B=console;var u=Y[N];B.error.call(B,"%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",u==null||typeof u==="boolean"||u===""?"Removing":"Updating",N,A)}}for(var t in q)!q.hasOwnProperty(t)||Y!=null&&Y.hasOwnProperty(t)||(t.indexOf("--")===0?K.setProperty(t,""):t==="float"?K.cssFloat="":K[t]="");for(var p in Y)G=Y[p],Y.hasOwnProperty(p)&&q[p]!==G&&sS(K,p,G)}else for(U in Y)Y.hasOwnProperty(U)&&sS(K,U,Y[U])}function cZ(K){if(K.indexOf("-")===-1)return!1;switch(K){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function aS(K){return oe.get(K)||K}function tr(K,Y){if(l3.call(MQ,Y)&&MQ[Y])return!0;if(re.test(Y)){if(K="aria-"+Y.slice(4).toLowerCase(),K=yE.hasOwnProperty(K)?K:null,K==null)return console.error("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",Y),MQ[Y]=!0;if(Y!==K)return console.error("Invalid ARIA attribute `%s`. Did you mean `%s`?",Y,K),MQ[Y]=!0}if(ae.test(Y)){if(K=Y.toLowerCase(),K=yE.hasOwnProperty(K)?K:null,K==null)return MQ[Y]=!0,!1;Y!==K&&(console.error("Unknown ARIA attribute `%s`. Did you mean `%s`?",Y,K),MQ[Y]=!0)}return!0}function er(K,Y){var q=[],U;for(U in Y)tr(K,U)||q.push(U);Y=q.map(function(N){return"`"+N+"`"}).join(", "),q.length===1?console.error("Invalid aria prop %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",Y,K):1<q.length&&console.error("Invalid aria props %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",Y,K)}function $t(K,Y,q,U){if(l3.call(F6,Y)&&F6[Y])return!0;var N=Y.toLowerCase();if(N==="onfocusin"||N==="onfocusout")return console.error("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),F6[Y]=!0;if(typeof q==="function"&&(K==="form"&&Y==="action"||K==="input"&&Y==="formAction"||K==="button"&&Y==="formAction"))return!0;if(U!=null){if(K=U.possibleRegistrationNames,U.registrationNameDependencies.hasOwnProperty(Y))return!0;if(U=K.hasOwnProperty(N)?K[N]:null,U!=null)return console.error("Invalid event handler property `%s`. Did you mean `%s`?",Y,U),F6[Y]=!0;if(fE.test(Y))return console.error("Unknown event handler property `%s`. It will be ignored.",Y),F6[Y]=!0}else if(fE.test(Y))return te.test(Y)&&console.error("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",Y),F6[Y]=!0;if(ee.test(Y)||$11.test(Y))return!0;if(N==="innerhtml")return console.error("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),F6[Y]=!0;if(N==="aria")return console.error("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),F6[Y]=!0;if(N==="is"&&q!==null&&q!==void 0&&typeof q!=="string")return console.error("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof q),F6[Y]=!0;if(typeof q==="number"&&isNaN(q))return console.error("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",Y),F6[Y]=!0;if(Gq.hasOwnProperty(N)){if(N=Gq[N],N!==Y)return console.error("Invalid DOM property `%s`. Did you mean `%s`?",Y,N),F6[Y]=!0}else if(Y!==N)return console.error("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",Y,N),F6[Y]=!0;switch(Y){case"dangerouslySetInnerHTML":case"children":case"style":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":return!0;case"innerText":case"textContent":return!0}switch(typeof q){case"boolean":switch(Y){case"autoFocus":case"checked":case"multiple":case"muted":case"selected":case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"capture":case"download":case"inert":return!0;default:if(N=Y.toLowerCase().slice(0,5),N==="data-"||N==="aria-")return!0;return q?console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',q,Y,Y,q,Y):console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',q,Y,Y,q,Y,Y,Y),F6[Y]=!0}case"function":case"symbol":return F6[Y]=!0,!1;case"string":if(q==="false"||q==="true"){switch(Y){case"checked":case"selected":case"multiple":case"muted":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"inert":break;default:return!0}console.error("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",q,Y,q==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',Y,q),F6[Y]=!0}}return!0}function Qt(K,Y,q){var U=[],N;for(N in Y)$t(K,N,Y[N],q)||U.push(N);Y=U.map(function(A){return"`"+A+"`"}).join(", "),U.length===1?console.error("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://react.dev/link/attribute-behavior ",Y,K):1<U.length&&console.error("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://react.dev/link/attribute-behavior ",Y,K)}function dZ(K){return Q11.test(""+K)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":K}function OD(K){return K=K.target||K.srcElement||window,K.correspondingUseElement&&(K=K.correspondingUseElement),K.nodeType===3?K.parentNode:K}function rS(K){var Y=M(K);if(Y&&(K=Y.stateNode)){var q=K[E6]||null;$:switch(K=Y.stateNode,Y.type){case"input":if(ND(K,q.value,q.defaultValue,q.defaultValue,q.checked,q.defaultChecked,q.type,q.name),Y=q.name,q.type==="radio"&&Y!=null){for(q=K;q.parentNode;)q=q.parentNode;l1(Y,"name"),q=q.querySelectorAll('input[name="'+C4(""+Y)+'"][type="radio"]');for(Y=0;Y<q.length;Y++){var U=q[Y];if(U!==K&&U.form===K.form){var N=U[E6]||null;if(!N)throw Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");ND(U,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(Y=0;Y<q.length;Y++)U=q[Y],U.form===K.form&&hS(U)}break $;case"textarea":fS(K,q.value,q.defaultValue);break $;case"select":Y=q.value,Y!=null&&QQ(K,!!q.multiple,Y,!1)}}}function tS(K,Y,q){if(jA)return K(Y,q);jA=!0;try{var U=K(Y);return U}finally{if(jA=!1,wQ!==null||SQ!==null){if(UQ(),wQ&&(Y=wQ,K=SQ,SQ=wQ=null,rS(Y),K))for(Y=0;Y<K.length;Y++)rS(K[Y])}}}function lZ(K,Y){var q=K.stateNode;if(q===null)return null;var U=q[E6]||null;if(U===null)return null;q=U[Y];$:switch(Y){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(U=!U.disabled)||(K=K.type,U=!(K==="button"||K==="input"||K==="select"||K==="textarea")),K=!U;break $;default:K=!1}if(K)return null;if(q&&typeof q!=="function")throw Error("Expected `"+Y+"` listener to be a function, instead got a value of `"+typeof q+"` type.");return q}function eS(){if(Eq)return Eq;var K,Y=hA,q=Y.length,U,N="value"in o8?o8.value:o8.textContent,A=N.length;for(K=0;K<q&&Y[K]===N[K];K++);var B=q-K;for(U=1;U<=B&&Y[q-U]===N[A-U];U++);return Eq=N.slice(K,1<U?1-U:void 0)}function SW(K){var Y=K.keyCode;return"charCode"in K?(K=K.charCode,K===0&&Y===13&&(K=13)):K=Y,K===10&&(K=13),32<=K||K===13?K:0}function TW(){return!0}function $T(){return!1}function S6(K){function Y(q,U,N,A,B){this._reactName=q,this._targetInst=N,this.type=U,this.nativeEvent=A,this.target=B,this.currentTarget=null;for(var O in K)K.hasOwnProperty(O)&&(q=K[O],this[O]=q?q(A):A[O]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?TW:$T,this.isPropagationStopped=$T,this}return X0(Y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var q=this.nativeEvent;q&&(q.preventDefault?q.preventDefault():typeof q.returnValue!=="unknown"&&(q.returnValue=!1),this.isDefaultPrevented=TW)},stopPropagation:function(){var q=this.nativeEvent;q&&(q.stopPropagation?q.stopPropagation():typeof q.cancelBubble!=="unknown"&&(q.cancelBubble=!0),this.isPropagationStopped=TW)},persist:function(){},isPersistent:TW}),Y}function Jt(K){var Y=this.nativeEvent;return Y.getModifierState?Y.getModifierState(K):(K=D11[K])?!!Y[K]:!1}function kD(){return Jt}function QT(K,Y){switch(K){case"keyup":return T11.indexOf(Y.keyCode)!==-1;case"keydown":return Y.keyCode!==lE;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JT(K){return K=K.detail,typeof K==="object"&&"data"in K?K.data:null}function Zt(K,Y){switch(K){case"compositionend":return JT(Y);case"keypress":if(Y.which!==uE)return null;return nE=!0,iE;case"textInput":return K=Y.data,K===iE&&nE?null:K;default:return null}}function Kt(K,Y){if(TQ)return K==="compositionend"||!gA&&QT(K,Y)?(K=eS(),Eq=hA=o8=null,TQ=!1,K):null;switch(K){case"paste":return null;case"keypress":if(!(Y.ctrlKey||Y.altKey||Y.metaKey)||Y.ctrlKey&&Y.altKey){if(Y.char&&1<Y.char.length)return Y.char;if(Y.which)return String.fromCharCode(Y.which)}return null;case"compositionend":return pE&&Y.locale!=="ko"?null:Y.data;default:return null}}function ZT(K){var Y=K&&K.nodeName&&K.nodeName.toLowerCase();return Y==="input"?!!G11[K.type]:Y==="textarea"?!0:!1}function Xt(K){if(!i7)return!1;K="on"+K;var Y=K in document;return Y||(Y=document.createElement("div"),Y.setAttribute(K,"return;"),Y=typeof Y[K]==="function"),Y}function KT(K,Y,q,U){wQ?SQ?SQ.push(U):SQ=[U]:wQ=U,Y=Fq(Y,"onChange"),0<Y.length&&(q=new jq("onChange","change",null,q,U),K.push({event:q,listeners:Y}))}function Yt(K){SG(K,0)}function IW(K){var Y=c(K);if(hS(Y))return K}function XT(K,Y){if(K==="change")return Y}function YT(){IK&&(IK.detachEvent("onpropertychange",WT),GK=IK=null)}function WT(K){if(K.propertyName==="value"&&IW(GK)){var Y=[];KT(Y,GK,K,OD(K)),tS(Yt,Y)}}function Wt(K,Y,q){K==="focusin"?(YT(),IK=Y,GK=q,IK.attachEvent("onpropertychange",WT)):K==="focusout"&&YT()}function qt(K){if(K==="selectionchange"||K==="keyup"||K==="keydown")return IW(GK)}function Ht(K,Y){if(K==="click")return IW(Y)}function Ft(K,Y){if(K==="input"||K==="change")return IW(Y)}function Ut(K,Y){return K===Y&&(K!==0||1/K===1/Y)||K!==K&&Y!==Y}function pZ(K,Y){if(U6(K,Y))return!0;if(typeof K!=="object"||K===null||typeof Y!=="object"||Y===null)return!1;var q=Object.keys(K),U=Object.keys(Y);if(q.length!==U.length)return!1;for(U=0;U<q.length;U++){var N=q[U];if(!l3.call(Y,N)||!U6(K[N],Y[N]))return!1}return!0}function qT(K){for(;K&&K.firstChild;)K=K.firstChild;return K}function HT(K,Y){var q=qT(K);K=0;for(var U;q;){if(q.nodeType===3){if(U=K+q.textContent.length,K<=Y&&U>=Y)return{node:q,offset:Y-K};K=U}$:{for(;q;){if(q.nextSibling){q=q.nextSibling;break $}q=q.parentNode}q=void 0}q=qT(q)}}function FT(K,Y){return K&&Y?K===Y?!0:K&&K.nodeType===3?!1:Y&&Y.nodeType===3?FT(K,Y.parentNode):("contains"in K)?K.contains(Y):K.compareDocumentPosition?!!(K.compareDocumentPosition(Y)&16):!1:!1}function UT(K){K=K!=null&&K.ownerDocument!=null&&K.ownerDocument.defaultView!=null?K.ownerDocument.defaultView:window;for(var Y=PW(K.document);Y instanceof K.HTMLIFrameElement;){try{var q=typeof Y.contentWindow.location.href==="string"}catch(U){q=!1}if(q)K=Y.contentWindow;else break;Y=PW(K.document)}return Y}function PD(K){var Y=K&&K.nodeName&&K.nodeName.toLowerCase();return Y&&(Y==="input"&&(K.type==="text"||K.type==="search"||K.type==="tel"||K.type==="url"||K.type==="password")||Y==="textarea"||K.contentEditable==="true")}function VT(K,Y,q){var U=q.window===q?q.document:q.nodeType===9?q:q.ownerDocument;bA||IQ==null||IQ!==PW(U)||(U=IQ,("selectionStart"in U)&&PD(U)?U={start:U.selectionStart,end:U.selectionEnd}:(U=(U.ownerDocument&&U.ownerDocument.defaultView||window).getSelection(),U={anchorNode:U.anchorNode,anchorOffset:U.anchorOffset,focusNode:U.focusNode,focusOffset:U.focusOffset}),EK&&pZ(EK,U)||(EK=U,U=Fq(yA,"onSelect"),0<U.length&&(Y=new jq("onSelect","select",null,Y,q),K.push({event:Y,listeners:U}),Y.target=IQ)))}function V2(K,Y){var q={};return q[K.toLowerCase()]=Y.toLowerCase(),q["Webkit"+K]="webkit"+Y,q["Moz"+K]="moz"+Y,q}function N2(K){if(fA[K])return fA[K];if(!GQ[K])return K;var Y=GQ[K],q;for(q in Y)if(Y.hasOwnProperty(q)&&q in oE)return fA[K]=Y[q];return K}function Z7(K,Y){$j.set(K,Y),M1(Y,[K])}function u6(K,Y){if(typeof K==="object"&&K!==null){var q=cA.get(K);if(q!==void 0)return q;return Y={value:K,source:Y,stack:ES(Y)},cA.set(K,Y),Y}return{value:K,source:Y,stack:ES(Y)}}function GW(){for(var K=EQ,Y=dA=EQ=0;Y<K;){var q=B4[Y];B4[Y++]=null;var U=B4[Y];B4[Y++]=null;var N=B4[Y];B4[Y++]=null;var A=B4[Y];if(B4[Y++]=null,U!==null&&N!==null){var B=U.pending;B===null?N.next=N:(N.next=B.next,B.next=N),U.pending=N}A!==0&&NT(q,N,A)}}function EW(K,Y,q,U){B4[EQ++]=K,B4[EQ++]=Y,B4[EQ++]=q,B4[EQ++]=U,dA|=U,K.lanes|=U,K=K.alternate,K!==null&&(K.lanes|=U)}function MD(K,Y,q,U){return EW(K,Y,q,U),jW(K)}function T6(K,Y){return EW(K,null,null,Y),jW(K)}function NT(K,Y,q){K.lanes|=q;var U=K.alternate;U!==null&&(U.lanes|=q);for(var N=!1,A=K.return;A!==null;)A.childLanes|=q,U=A.alternate,U!==null&&(U.childLanes|=q),A.tag===22&&(K=A.stateNode,K===null||K._visibility&hq||(N=!0)),K=A,A=A.return;return K.tag===3?(A=K.stateNode,N&&Y!==null&&(N=31-H6(q),K=A.hiddenUpdates,U=K[N],U===null?K[N]=[Y]:U.push(Y),Y.lane=q|536870912),A):null}function jW(K){if(rK>r11)throw c2=rK=0,tK=Bz=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");c2>t11&&(c2=0,tK=null,console.error("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render.")),K.alternate===null&&(K.flags&4098)!==0&&BG(K);for(var Y=K,q=Y.return;q!==null;)Y.alternate===null&&(Y.flags&4098)!==0&&BG(K),Y=q,q=Y.return;return Y.tag===3?Y.stateNode:null}function D2(K){if(R4===null)return K;var Y=R4(K);return Y===void 0?K:Y.current}function wD(K){if(R4===null)return K;var Y=R4(K);return Y===void 0?K!==null&&K!==void 0&&typeof K.render==="function"&&(Y=D2(K.render),K.render!==Y)?(Y={$$typeof:BK,render:Y},K.displayName!==void 0&&(Y.displayName=K.displayName),Y):K:Y.current}function DT(K,Y){if(R4===null)return!1;var q=K.elementType;Y=Y.type;var U=!1,N=typeof Y==="object"&&Y!==null?Y.$$typeof:null;switch(K.tag){case 1:typeof Y==="function"&&(U=!0);break;case 0:typeof Y==="function"?U=!0:N===o6&&(U=!0);break;case 11:N===BK?U=!0:N===o6&&(U=!0);break;case 14:case 15:N===kq?U=!0:N===o6&&(U=!0);break;default:return!1}return U&&(K=R4(q),K!==void 0&&K===R4(Y))?!0:!1}function CT(K){R4!==null&&typeof WeakSet==="function"&&(jQ===null&&(jQ=new WeakSet),jQ.add(K))}function SD(K,Y,q){var{alternate:U,child:N,sibling:A,tag:B,type:O}=K,w=null;switch(B){case 0:case 15:case 1:w=O;break;case 11:w=O.render}if(R4===null)throw Error("Expected resolveFamily to be set during hot reload.");var G=!1;if(O=!1,w!==null&&(w=R4(w),w!==void 0&&(q.has(w)?O=!0:Y.has(w)&&(B===1?O=!0:G=!0))),jQ!==null&&(jQ.has(K)||U!==null&&jQ.has(U))&&(O=!0),O&&(K._debugNeedsRemount=!0),O||G)U=T6(K,2),U!==null&&z5(U,K,2);N===null||O||SD(N,Y,q),A!==null&&SD(A,Y,q)}function Vt(K,Y,q,U){this.tag=K,this.key=q,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=Y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=U,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null,this.actualDuration=-0,this.actualStartTime=-1.1,this.treeBaseDuration=this.selfBaseDuration=-0,this._debugTask=this._debugStack=this._debugOwner=this._debugInfo=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,Jj||typeof Object.preventExtensions!=="function"||Object.preventExtensions(this)}function TD(K){return K=K.prototype,!(!K||!K.isReactComponent)}function v3(K,Y){var q=K.alternate;switch(q===null?(q=R(K.tag,Y,K.key,K.mode),q.elementType=K.elementType,q.type=K.type,q.stateNode=K.stateNode,q._debugOwner=K._debugOwner,q._debugStack=K._debugStack,q._debugTask=K._debugTask,q._debugHookTypes=K._debugHookTypes,q.alternate=K,K.alternate=q):(q.pendingProps=Y,q.type=K.type,q.flags=0,q.subtreeFlags=0,q.deletions=null,q.actualDuration=-0,q.actualStartTime=-1.1),q.flags=K.flags&65011712,q.childLanes=K.childLanes,q.lanes=K.lanes,q.child=K.child,q.memoizedProps=K.memoizedProps,q.memoizedState=K.memoizedState,q.updateQueue=K.updateQueue,Y=K.dependencies,q.dependencies=Y===null?null:{lanes:Y.lanes,firstContext:Y.firstContext,_debugThenableState:Y._debugThenableState},q.sibling=K.sibling,q.index=K.index,q.ref=K.ref,q.refCleanup=K.refCleanup,q.selfBaseDuration=K.selfBaseDuration,q.treeBaseDuration=K.treeBaseDuration,q._debugInfo=K._debugInfo,q._debugNeedsRemount=K._debugNeedsRemount,q.tag){case 0:case 15:q.type=D2(K.type);break;case 1:q.type=D2(K.type);break;case 11:q.type=wD(K.type)}return q}function AT(K,Y){K.flags&=65011714;var q=K.alternate;return q===null?(K.childLanes=0,K.lanes=Y,K.child=null,K.subtreeFlags=0,K.memoizedProps=null,K.memoizedState=null,K.updateQueue=null,K.dependencies=null,K.stateNode=null,K.selfBaseDuration=0,K.treeBaseDuration=0):(K.childLanes=q.childLanes,K.lanes=q.lanes,K.child=q.child,K.subtreeFlags=0,K.deletions=null,K.memoizedProps=q.memoizedProps,K.memoizedState=q.memoizedState,K.updateQueue=q.updateQueue,K.type=q.type,Y=q.dependencies,K.dependencies=Y===null?null:{lanes:Y.lanes,firstContext:Y.firstContext,_debugThenableState:Y._debugThenableState},K.selfBaseDuration=q.selfBaseDuration,K.treeBaseDuration=q.treeBaseDuration),K}function ID(K,Y,q,U,N,A){var B=0,O=K;if(typeof K==="function")TD(K)&&(B=1),O=D2(O);else if(typeof K==="string")B=T1(),B=Ve(K,q,B)?26:K==="html"||K==="head"||K==="body"?27:5;else $:switch(K){case AA:return Y=R(31,q,Y,N),Y.elementType=AA,Y.lanes=A,Y;case BQ:return C2(q.children,N,A,Y);case Oq:B=8,N|=Q6,N|=W7;break;case VA:return K=q,U=N,typeof K.id!=="string"&&console.error('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof K.id),Y=R(12,K,Y,U|i5),Y.elementType=VA,Y.lanes=A,Y.stateNode={effectDuration:0,passiveEffectDuration:0},Y;case DA:return Y=R(13,q,Y,N),Y.elementType=DA,Y.lanes=A,Y;case CA:return Y=R(19,q,Y,N),Y.elementType=CA,Y.lanes=A,Y;default:if(typeof K==="object"&&K!==null)switch(K.$$typeof){case Se:case c7:B=10;break $;case NA:B=9;break $;case BK:B=11,O=wD(O);break $;case kq:B=14;break $;case o6:B=16,O=null;break $}if(O="",K===void 0||typeof K==="object"&&K!==null&&Object.keys(K).length===0)O+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.";K===null?q="null":u5(K)?q="array":K!==void 0&&K.$$typeof===p8?(q="<"+(Y1(K.type)||"Unknown")+" />",O=" Did you accidentally export a JSX literal instead of a component?"):q=typeof K,(B=U?H1(U):null)&&(O+=`

Check the render method of \``+B+"`."),B=29,q=Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(q+"."+O)),O=null}return Y=R(B,q,Y,N),Y.elementType=K,Y.type=O,Y.lanes=A,Y._debugOwner=U,Y}function LW(K,Y,q){return Y=ID(K.type,K.key,K.props,K._owner,Y,q),Y._debugOwner=K._owner,Y._debugStack=K._debugStack,Y._debugTask=K._debugTask,Y}function C2(K,Y,q,U){return K=R(7,K,U,Y),K.lanes=q,K}function GD(K,Y,q){return K=R(6,K,null,Y),K.lanes=q,K}function ED(K,Y,q){return Y=R(4,K.children!==null?K.children:[],K.key,Y),Y.lanes=q,Y.stateNode={containerInfo:K.containerInfo,pendingChildren:null,implementation:K.implementation},Y}function A2(K,Y){z2(),LQ[hQ++]=_q,LQ[hQ++]=vq,vq=K,_q=Y}function zT(K,Y,q){z2(),O4[k4++]=u3,O4[k4++]=i3,O4[k4++]=E2,E2=K;var U=u3;K=i3;var N=32-H6(U)-1;U&=~(1<<N),q+=1;var A=32-H6(Y)+N;if(30<A){var B=N-N%5;A=(U&(1<<B)-1).toString(32),U>>=B,N-=B,u3=1<<32-H6(Y)+N|q<<N|U,i3=A+K}else u3=1<<A|q<<N|U,i3=K}function jD(K){z2(),K.return!==null&&(A2(K,1),zT(K,1,0))}function LD(K){for(;K===vq;)vq=LQ[--hQ],LQ[hQ]=null,_q=LQ[--hQ],LQ[hQ]=null;for(;K===E2;)E2=O4[--k4],O4[k4]=null,i3=O4[--k4],O4[k4]=null,u3=O4[--k4],O4[k4]=null}function z2(){z0||console.error("Expected to be hydrating. This is a bug in React. Please file an issue.")}function B2(K,Y){if(K.return===null){if(P4===null)P4={fiber:K,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:Y};else{if(P4.fiber!==K)throw Error("Saw multiple hydration diff roots in a pass. This is a bug in React.");P4.distanceFromLeaf>Y&&(P4.distanceFromLeaf=Y)}return P4}var q=B2(K.return,Y+1).children;if(0<q.length&&q[q.length-1].fiber===K)return q=q[q.length-1],q.distanceFromLeaf>Y&&(q.distanceFromLeaf=Y),q;return Y={fiber:K,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:Y},q.push(Y),Y}function hD(K,Y){n3||(K=B2(K,0),K.serverProps=null,Y!==null&&(Y=fG(Y),K.serverTail.push(Y)))}function R2(K){var Y="",q=P4;throw q!==null&&(P4=null,Y=BD(q)),nZ(u6(Error(`Hydration failed because the server rendered HTML didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

https://react.dev/link/hydration-mismatch`+Y),K)),lA}function BT(K){var{stateNode:Y,type:q,memoizedProps:U}=K;switch(Y[$6]=K,Y[E6]=U,oC(q,U),q){case"dialog":H0("cancel",Y),H0("close",Y);break;case"iframe":case"object":case"embed":H0("load",Y);break;case"video":case"audio":for(q=0;q<eK.length;q++)H0(eK[q],Y);break;case"source":H0("error",Y);break;case"img":case"image":case"link":H0("error",Y),H0("load",Y);break;case"details":H0("toggle",Y);break;case"input":i1("input",U),H0("invalid",Y),vS(Y,U),_S(Y,U.value,U.defaultValue,U.checked,U.defaultChecked,U.type,U.name,!0),kW(Y);break;case"option":xS(Y,U);break;case"select":i1("select",U),H0("invalid",Y),yS(Y,U);break;case"textarea":i1("textarea",U),H0("invalid",Y),bS(Y,U),mS(Y,U.value,U.defaultValue,U.children),kW(Y)}q=U.children,typeof q!=="string"&&typeof q!=="number"&&typeof q!=="bigint"||Y.textContent===""+q||U.suppressHydrationWarning===!0||EG(Y.textContent,q)?(U.popover!=null&&(H0("beforetoggle",Y),H0("toggle",Y)),U.onScroll!=null&&H0("scroll",Y),U.onScrollEnd!=null&&H0("scrollend",Y),U.onClick!=null&&(Y.onclick=Uq),Y=!0):Y=!1,Y||R2(K)}function RT(K){for(V6=K.return;V6;)switch(V6.tag){case 5:case 13:n7=!1;return;case 27:case 3:n7=!0;return;default:V6=V6.return}}function uZ(K){if(K!==V6)return!1;if(!z0)return RT(K),z0=!0,!1;var Y=K.tag,q;if(q=Y!==3&&Y!==27){if(q=Y===5)q=K.type,q=!(q!=="form"&&q!=="button")||$A(K.type,K.memoizedProps);q=!q}if(q&&Z5){for(q=Z5;q;){var U=B2(K,0),N=fG(q);U.serverTail.push(N),q=N.type==="Suspense"?cG(q):z4(q.nextSibling)}R2(K)}if(RT(K),Y===13){if(K=K.memoizedState,K=K!==null?K.dehydrated:null,!K)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");Z5=cG(K)}else Y===27?(Y=Z5,l8(K.type)?(K=jz,jz=null,Z5=K):Z5=Y):Z5=V6?z4(K.stateNode.nextSibling):null;return!0}function iZ(){Z5=V6=null,n3=z0=!1}function OT(){var K=j2;return K!==null&&(C6===null?C6=K:C6.push.apply(C6,K),j2=null),K}function nZ(K){j2===null?j2=[K]:j2.push(K)}function kT(){var K=P4;if(K!==null){P4=null;for(var Y=BD(K);0<K.children.length;)K=K.children[0];w1(K.fiber,function(){console.error(`A tree hydrated but some attributes of the server rendered HTML didn't match the client properties. This won't be patched up. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

%s%s`,"https://react.dev/link/hydration-mismatch",Y)})}}function hW(){vQ=xq=null,_Q=!1}function x8(K,Y,q){C1(pA,Y._currentValue,K),Y._currentValue=q,C1(uA,Y._currentRenderer,K),Y._currentRenderer!==void 0&&Y._currentRenderer!==null&&Y._currentRenderer!==Yj&&console.error("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),Y._currentRenderer=Yj}function _3(K,Y){K._currentValue=pA.current;var q=uA.current;R1(uA,Y),K._currentRenderer=q,R1(pA,Y)}function vD(K,Y,q){for(;K!==null;){var U=K.alternate;if((K.childLanes&Y)!==Y?(K.childLanes|=Y,U!==null&&(U.childLanes|=Y)):U!==null&&(U.childLanes&Y)!==Y&&(U.childLanes|=Y),K===q)break;K=K.return}K!==q&&console.error("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function _D(K,Y,q,U){var N=K.child;N!==null&&(N.return=K);for(;N!==null;){var A=N.dependencies;if(A!==null){var B=N.child;A=A.firstContext;$:for(;A!==null;){var O=A;A=N;for(var w=0;w<Y.length;w++)if(O.context===Y[w]){A.lanes|=q,O=A.alternate,O!==null&&(O.lanes|=q),vD(A.return,q,K),U||(B=null);break $}A=O.next}}else if(N.tag===18){if(B=N.return,B===null)throw Error("We just came from a parent so we must have had a parent. This is a bug in React.");B.lanes|=q,A=B.alternate,A!==null&&(A.lanes|=q),vD(B,q,K),B=null}else B=N.child;if(B!==null)B.return=N;else for(B=N;B!==null;){if(B===K){B=null;break}if(N=B.sibling,N!==null){N.return=B.return,B=N;break}B=B.return}N=B}}function sZ(K,Y,q,U){K=null;for(var N=Y,A=!1;N!==null;){if(!A){if((N.flags&524288)!==0)A=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var B=N.alternate;if(B===null)throw Error("Should have a current fiber. This is a bug in React.");if(B=B.memoizedProps,B!==null){var O=N.type;U6(N.pendingProps.value,B.value)||(K!==null?K.push(O):K=[O])}}else if(N===Pq.current){if(B=N.alternate,B===null)throw Error("Should have a current fiber. This is a bug in React.");B.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(K!==null?K.push(ZX):K=[ZX])}N=N.return}K!==null&&_D(Y,K,q,U),Y.flags|=262144}function vW(K){for(K=K.firstContext;K!==null;){if(!U6(K.context._currentValue,K.memoizedValue))return!0;K=K.next}return!1}function O2(K){xq=K,vQ=null,K=K.dependencies,K!==null&&(K.firstContext=null)}function s0(K){return _Q&&console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo()."),PT(xq,K)}function _W(K,Y){return xq===null&&O2(K),PT(K,Y)}function PT(K,Y){var q=Y._currentValue;if(Y={context:Y,memoizedValue:q,next:null},vQ===null){if(K===null)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");vQ=Y,K.dependencies={lanes:0,firstContext:Y,_debugThenableState:null},K.flags|=524288}else vQ=vQ.next=Y;return q}function xD(){return{controller:new g11,data:new Map,refCount:0}}function k2(K){K.controller.signal.aborted&&console.warn("A cache instance was retained after it was already freed. This likely indicates a bug in React."),K.refCount++}function oZ(K){K.refCount--,0>K.refCount&&console.warn("A cache instance was released after it was already freed. This likely indicates a bug in React."),K.refCount===0&&y11(b11,function(){K.controller.abort()})}function x3(){var K=L2;return L2=0,K}function xW(K){var Y=L2;return L2=K,Y}function aZ(K){var Y=L2;return L2+=K,Y}function gD(K){j6=xQ(),0>K.actualStartTime&&(K.actualStartTime=j6)}function yD(K){if(0<=j6){var Y=xQ()-j6;K.actualDuration+=Y,K.selfBaseDuration=Y,j6=-1}}function MT(K){if(0<=j6){var Y=xQ()-j6;K.actualDuration+=Y,j6=-1}}function _7(){if(0<=j6){var K=xQ()-j6;j6=-1,L2+=K}}function x7(){j6=xQ()}function gW(K){for(var Y=K.child;Y;)K.actualDuration+=Y.actualDuration,Y=Y.sibling}function Nt(K,Y){if(jK===null){var q=jK=[];iA=0,h2=uC(),gQ={status:"pending",value:void 0,then:function(U){q.push(U)}}}return iA++,Y.then(wT,wT),Y}function wT(){if(--iA===0&&jK!==null){gQ!==null&&(gQ.status="fulfilled");var K=jK;jK=null,h2=0,gQ=null;for(var Y=0;Y<K.length;Y++)(0,K[Y])()}}function Dt(K,Y){var q=[],U={status:"pending",value:null,reason:null,then:function(N){q.push(N)}};return K.then(function(){U.status="fulfilled",U.value=Y;for(var N=0;N<q.length;N++)(0,q[N])(Y)},function(N){U.status="rejected",U.reason=N;for(N=0;N<q.length;N++)(0,q[N])(void 0)}),U}function bD(){var K=v2.current;return K!==null?K:x0.pooledCache}function yW(K,Y){Y===null?C1(v2,v2.current,K):C1(v2,Y.pool,K)}function ST(){var K=bD();return K===null?null:{parent:E5._currentValue,pool:K}}function TT(){return{didWarnAboutUncachedPromise:!1,thenables:[]}}function IT(K){return K=K.status,K==="fulfilled"||K==="rejected"}function bW(){}function GT(K,Y,q){r.actQueue!==null&&(r.didUsePromise=!0);var U=K.thenables;switch(q=U[q],q===void 0?U.push(Y):q!==Y&&(K.didWarnAboutUncachedPromise||(K.didWarnAboutUncachedPromise=!0,console.error("A component was suspended by an uncached promise. Creating promises inside a Client Component or hook is not yet supported, except via a Suspense-compatible library or framework.")),Y.then(bW,bW),Y=q),Y.status){case"fulfilled":return Y.value;case"rejected":throw K=Y.reason,jT(K),K;default:if(typeof Y.status==="string")Y.then(bW,bW);else{if(K=x0,K!==null&&100<K.shellSuspendCounter)throw Error("An unknown Component is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.");K=Y,K.status="pending",K.then(function(N){if(Y.status==="pending"){var A=Y;A.status="fulfilled",A.value=N}},function(N){if(Y.status==="pending"){var A=Y;A.status="rejected",A.reason=N}})}switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw K=Y.reason,jT(K),K}throw bK=Y,cq=!0,yK}}function ET(){if(bK===null)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var K=bK;return bK=null,cq=!1,K}function jT(K){if(K===yK||K===mq)throw Error("Hooks are not supported inside an async component. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.")}function fD(K){K.updateQueue={baseState:K.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mD(K,Y){K=K.updateQueue,Y.updateQueue===K&&(Y.updateQueue={baseState:K.baseState,firstBaseUpdate:K.firstBaseUpdate,lastBaseUpdate:K.lastBaseUpdate,shared:K.shared,callbacks:null})}function g8(K){return{lane:K,tag:Uj,payload:null,callback:null,next:null}}function y8(K,Y,q){var U=K.updateQueue;if(U===null)return null;if(U=U.shared,oA===U&&!Dj){var N=Q1(K);console.error(`An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback.

Please update the following component: %s`,N),Dj=!0}if((w0&D6)!==t6)return N=U.pending,N===null?Y.next=Y:(Y.next=N.next,N.next=Y),U.pending=Y,Y=jW(K),NT(K,null,q),Y;return EW(K,U,Y,q),jW(K)}function rZ(K,Y,q){if(Y=Y.updateQueue,Y!==null&&(Y=Y.shared,(q&4194048)!==0)){var U=Y.lanes;U&=K.pendingLanes,q|=U,Y.lanes=q,xZ(K,q)}}function fW(K,Y){var{updateQueue:q,alternate:U}=K;if(U!==null&&(U=U.updateQueue,q===U)){var N=null,A=null;if(q=q.firstBaseUpdate,q!==null){do{var B={lane:q.lane,tag:q.tag,payload:q.payload,callback:null,next:null};A===null?N=A=B:A=A.next=B,q=q.next}while(q!==null);A===null?N=A=Y:A=A.next=Y}else N=A=Y;q={baseState:U.baseState,firstBaseUpdate:N,lastBaseUpdate:A,shared:U.shared,callbacks:U.callbacks},K.updateQueue=q;return}K=q.lastBaseUpdate,K===null?q.firstBaseUpdate=Y:K.next=Y,q.lastBaseUpdate=Y}function tZ(){if(aA){var K=gQ;if(K!==null)throw K}}function eZ(K,Y,q,U){aA=!1;var N=K.updateQueue;r8=!1,oA=N.shared;var{firstBaseUpdate:A,lastBaseUpdate:B}=N,O=N.shared.pending;if(O!==null){N.shared.pending=null;var w=O,G=w.next;w.next=null,B===null?A=G:B.next=G,B=w;var u=K.alternate;u!==null&&(u=u.updateQueue,O=u.lastBaseUpdate,O!==B&&(O===null?u.firstBaseUpdate=G:O.next=G,u.lastBaseUpdate=w))}if(A!==null){var t=N.baseState;B=0,u=G=w=null,O=A;do{var p=O.lane&-536870913,e=p!==O.lane;if(e?(q0&p)===p:(U&p)===p){p!==0&&p===h2&&(aA=!0),u!==null&&(u=u.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});$:{p=K;var k1=O,c1=Y,g0=q;switch(k1.tag){case Vj:if(k1=k1.payload,typeof k1==="function"){_Q=!0;var F0=k1.call(g0,t,c1);if(p.mode&Q6){k0(!0);try{k1.call(g0,t,c1)}finally{k0(!1)}}_Q=!1,t=F0;break $}t=k1;break $;case sA:p.flags=p.flags&-65537|128;case Uj:if(F0=k1.payload,typeof F0==="function"){if(_Q=!0,k1=F0.call(g0,t,c1),p.mode&Q6){k0(!0);try{F0.call(g0,t,c1)}finally{k0(!1)}}_Q=!1}else k1=F0;if(k1===null||k1===void 0)break $;t=X0({},t,k1);break $;case Nj:r8=!0}}p=O.callback,p!==null&&(K.flags|=64,e&&(K.flags|=8192),e=N.callbacks,e===null?N.callbacks=[p]:e.push(p))}else e={lane:p,tag:O.tag,payload:O.payload,callback:O.callback,next:null},u===null?(G=u=e,w=t):u=u.next=e,B|=p;if(O=O.next,O===null)if(O=N.shared.pending,O===null)break;else e=O,O=e.next,e.next=null,N.lastBaseUpdate=e,N.shared.pending=null}while(1);u===null&&(w=t),N.baseState=w,N.firstBaseUpdate=G,N.lastBaseUpdate=u,A===null&&(N.shared.lanes=0),Q9|=B,K.lanes=B,K.memoizedState=t}oA=null}function LT(K,Y){if(typeof K!=="function")throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+K);K.call(Y)}function Ct(K,Y){var q=K.shared.hiddenCallbacks;if(q!==null)for(K.shared.hiddenCallbacks=null,K=0;K<q.length;K++)LT(q[K],Y)}function hT(K,Y){var q=K.callbacks;if(q!==null)for(K.callbacks=null,K=0;K<q.length;K++)LT(q[K],Y)}function vT(K,Y){var q=a7;C1(dq,q,K),C1(yQ,Y,K),a7=q|Y.baseLanes}function cD(K){C1(dq,a7,K),C1(yQ,yQ.current,K)}function dD(K){a7=dq.current,R1(yQ,K),R1(dq,K)}function W0(){var K=a;S4===null?S4=[K]:S4.push(K)}function F1(){var K=a;if(S4!==null&&(o3++,S4[o3]!==K)){var Y=Q1(n1);if(!Cj.has(Y)&&(Cj.add(Y),S4!==null)){for(var q="",U=0;U<=o3;U++){var N=S4[U],A=U===o3?K:N;for(N=U+1+". "+N;30>N.length;)N+=" ";N+=A+`
`,q+=N}console.error(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://react.dev/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,Y,q)}}}function KQ(K){K===void 0||K===null||u5(K)||console.error("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",a,typeof K)}function mW(){var K=Q1(n1);zj.has(K)||(zj.add(K),console.error("ReactDOM.useFormState has been renamed to React.useActionState. Please update %s to use React.useActionState.",K))}function A5(){throw Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function lD(K,Y){if(mK)return!1;if(Y===null)return console.error("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",a),!1;K.length!==Y.length&&console.error(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,a,"["+Y.join(", ")+"]","["+K.join(", ")+"]");for(var q=0;q<Y.length&&q<K.length;q++)if(!U6(K[q],Y[q]))return!1;return!0}function pD(K,Y,q,U,N,A){if(t8=A,n1=Y,S4=K!==null?K._debugHookTypes:null,o3=-1,mK=K!==null&&K.type!==Y.type,Object.prototype.toString.call(q)==="[object AsyncFunction]"||Object.prototype.toString.call(q)==="[object AsyncGeneratorFunction]")A=Q1(n1),rA.has(A)||(rA.add(A),console.error("%s is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.",A===null?"An unknown Component":"<"+A+">"));Y.memoizedState=null,Y.updateQueue=null,Y.lanes=0,r.H=K!==null&&K.memoizedState!==null?eA:S4!==null?Bj:tA,x2=A=(Y.mode&Q6)!==d0;var B=$z(q,U,N);if(x2=!1,fQ&&(B=uD(Y,q,U,N)),A){k0(!0);try{B=uD(Y,q,U,N)}finally{k0(!1)}}return _T(K,Y),B}function _T(K,Y){Y._debugHookTypes=S4,Y.dependencies===null?s3!==null&&(Y.dependencies={lanes:0,firstContext:null,_debugThenableState:s3}):Y.dependencies._debugThenableState=s3,r.H=uq;var q=v0!==null&&v0.next!==null;if(t8=0,S4=a=P5=v0=n1=null,o3=-1,K!==null&&(K.flags&65011712)!==(Y.flags&65011712)&&console.error("Internal React error: Expected static flag was missing. Please notify the React team."),lq=!1,fK=0,s3=null,q)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");K===null||_5||(K=K.dependencies,K!==null&&vW(K)&&(_5=!0)),cq?(cq=!1,K=!0):K=!1,K&&(Y=Q1(Y)||"Unknown",Aj.has(Y)||rA.has(Y)||(Aj.add(Y),console.error("`use` was called from inside a try/catch block. This is not allowed and can lead to unexpected behavior. To handle errors triggered by `use`, wrap your component in a error boundary.")))}function uD(K,Y,q,U){n1=K;var N=0;do{if(fQ&&(s3=null),fK=0,fQ=!1,N>=m11)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");if(N+=1,mK=!1,P5=v0=null,K.updateQueue!=null){var A=K.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}o3=-1,r.H=Rj,A=$z(Y,q,U)}while(fQ);return A}function At(){var K=r.H,Y=K.useState()[0];return Y=typeof Y.then==="function"?$K(Y):Y,K=K.useState()[0],(v0!==null?v0.memoizedState:null)!==K&&(n1.flags|=1024),Y}function iD(){var K=pq!==0;return pq=0,K}function nD(K,Y,q){Y.updateQueue=K.updateQueue,Y.flags=(Y.mode&W7)!==d0?Y.flags&-402655237:Y.flags&-2053,K.lanes&=~q}function sD(K){if(lq){for(K=K.memoizedState;K!==null;){var Y=K.queue;Y!==null&&(Y.pending=null),K=K.next}lq=!1}t8=0,S4=P5=v0=n1=null,o3=-1,a=null,fQ=!1,fK=pq=0,s3=null}function I6(){var K={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P5===null?n1.memoizedState=P5=K:P5=P5.next=K,P5}function j0(){if(v0===null){var K=n1.alternate;K=K!==null?K.memoizedState:null}else K=v0.next;var Y=P5===null?n1.memoizedState:P5.next;if(Y!==null)P5=Y,v0=K;else{if(K===null){if(n1.alternate===null)throw Error("Update hook called on initial render. This is likely a bug in React. Please file an issue.");throw Error("Rendered more hooks than during the previous render.")}v0=K,K={memoizedState:v0.memoizedState,baseState:v0.baseState,baseQueue:v0.baseQueue,queue:v0.queue,next:null},P5===null?n1.memoizedState=P5=K:P5=P5.next=K}return P5}function oD(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $K(K){var Y=fK;return fK+=1,s3===null&&(s3=TT()),K=GT(s3,K,Y),Y=n1,(P5===null?Y.memoizedState:P5.next)===null&&(Y=Y.alternate,r.H=Y!==null&&Y.memoizedState!==null?eA:tA),K}function b8(K){if(K!==null&&typeof K==="object"){if(typeof K.then==="function")return $K(K);if(K.$$typeof===c7)return s0(K)}throw Error("An unsupported type was passed to use(): "+String(K))}function P2(K){var Y=null,q=n1.updateQueue;if(q!==null&&(Y=q.memoCache),Y==null){var U=n1.alternate;U!==null&&(U=U.updateQueue,U!==null&&(U=U.memoCache,U!=null&&(Y={data:U.data.map(function(N){return N.slice()}),index:0})))}if(Y==null&&(Y={data:[],index:0}),q===null&&(q=oD(),n1.updateQueue=q),q.memoCache=Y,q=Y.data[Y.index],q===void 0||mK)for(q=Y.data[Y.index]=Array(K),U=0;U<K;U++)q[U]=Te;else q.length!==K&&console.error("Expected a constant size argument for each invocation of useMemoCache. The previous cache was allocated with size %s but size %s was requested.",q.length,K);return Y.index++,q}function K7(K,Y){return typeof Y==="function"?Y(K):Y}function aD(K,Y,q){var U=I6();if(q!==void 0){var N=q(Y);if(x2){k0(!0);try{q(Y)}finally{k0(!1)}}}else N=Y;return U.memoizedState=U.baseState=N,K={pending:null,lanes:0,dispatch:null,lastRenderedReducer:K,lastRenderedState:N},U.queue=K,K=K.dispatch=Ot.bind(null,n1,K),[U.memoizedState,K]}function XQ(K){var Y=j0();return rD(Y,v0,K)}function rD(K,Y,q){var U=K.queue;if(U===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");U.lastRenderedReducer=q;var N=K.baseQueue,A=U.pending;if(A!==null){if(N!==null){var B=N.next;N.next=A.next,A.next=B}Y.baseQueue!==N&&console.error("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),Y.baseQueue=N=A,U.pending=null}if(A=K.baseState,N===null)K.memoizedState=A;else{Y=N.next;var O=B=null,w=null,G=Y,u=!1;do{var t=G.lane&-536870913;if(t!==G.lane?(q0&t)===t:(t8&t)===t){var p=G.revertLane;if(p===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),t===h2&&(u=!0);else if((t8&p)===p){G=G.next,p===h2&&(u=!0);continue}else t={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},w===null?(O=w=t,B=A):w=w.next=t,n1.lanes|=p,Q9|=p;t=G.action,x2&&q(A,t),A=G.hasEagerState?G.eagerState:q(A,t)}else p={lane:t,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},w===null?(O=w=p,B=A):w=w.next=p,n1.lanes|=t,Q9|=t;G=G.next}while(G!==null&&G!==Y);if(w===null?B=A:w.next=O,!U6(A,K.memoizedState)&&(_5=!0,u&&(q=gQ,q!==null)))throw q;K.memoizedState=A,K.baseState=B,K.baseQueue=w,U.lastRenderedState=A}return N===null&&(U.lanes=0),[K.memoizedState,U.dispatch]}function QK(K){var Y=j0(),q=Y.queue;if(q===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");q.lastRenderedReducer=K;var{dispatch:U,pending:N}=q,A=Y.memoizedState;if(N!==null){q.pending=null;var B=N=N.next;do A=K(A,B.action),B=B.next;while(B!==N);U6(A,Y.memoizedState)||(_5=!0),Y.memoizedState=A,Y.baseQueue===null&&(Y.baseState=A),q.lastRenderedState=A}return[A,U]}function tD(K,Y,q){var U=n1,N=I6();if(z0){if(q===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");var A=q();bQ||A===q()||(console.error("The result of getServerSnapshot should be cached to avoid an infinite loop"),bQ=!0)}else{if(A=Y(),bQ||(q=Y(),U6(A,q)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),bQ=!0)),x0===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");(q0&124)!==0||xT(U,Y,A)}return N.memoizedState=A,q={value:A,getSnapshot:Y},N.queue=q,uW(yT.bind(null,U,q,K),[K]),U.flags|=2048,WQ(w4|j5,pW(),gT.bind(null,U,q,A,Y),null),A}function cW(K,Y,q){var U=n1,N=j0(),A=z0;if(A){if(q===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");q=q()}else if(q=Y(),!bQ){var B=Y();U6(q,B)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),bQ=!0)}if(B=!U6((v0||N).memoizedState,q))N.memoizedState=q,_5=!0;N=N.queue;var O=yT.bind(null,U,N,K);if(G6(2048,j5,O,[K]),N.getSnapshot!==Y||B||P5!==null&&P5.memoizedState.tag&w4){if(U.flags|=2048,WQ(w4|j5,pW(),gT.bind(null,U,N,q,Y),null),x0===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");A||(t8&124)!==0||xT(U,Y,q)}return q}function xT(K,Y,q){K.flags|=16384,K={getSnapshot:Y,value:q},Y=n1.updateQueue,Y===null?(Y=oD(),n1.updateQueue=Y,Y.stores=[K]):(q=Y.stores,q===null?Y.stores=[K]:q.push(K))}function gT(K,Y,q,U){Y.value=q,Y.getSnapshot=U,bT(Y)&&fT(K)}function yT(K,Y,q){return q(function(){bT(Y)&&fT(K)})}function bT(K){var Y=K.getSnapshot;K=K.value;try{var q=Y();return!U6(K,q)}catch(U){return!0}}function fT(K){var Y=T6(K,2);Y!==null&&z5(Y,K,2)}function eD(K){var Y=I6();if(typeof K==="function"){var q=K;if(K=q(),x2){k0(!0);try{q()}finally{k0(!1)}}}return Y.memoizedState=Y.baseState=K,Y.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:K7,lastRenderedState:K},Y}function $C(K){K=eD(K);var Y=K.queue,q=KI.bind(null,n1,Y);return Y.dispatch=q,[K.memoizedState,q]}function QC(K){var Y=I6();Y.memoizedState=Y.baseState=K;var q={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return Y.queue=q,Y=DC.bind(null,n1,!0,q),q.dispatch=Y,[K,Y]}function mT(K,Y){var q=j0();return cT(q,v0,K,Y)}function cT(K,Y,q,U){return K.baseState=q,rD(K,v0,typeof U==="function"?U:K7)}function dT(K,Y){var q=j0();if(v0!==null)return cT(q,v0,K,Y);return q.baseState=K,[K,q.queue.dispatch]}function zt(K,Y,q,U,N){if(oW(K))throw Error("Cannot update form state while rendering.");if(K=Y.action,K!==null){var A={payload:N,action:K,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){A.listeners.push(B)}};r.T!==null?q(!0):A.isTransition=!1,U(A),q=Y.pending,q===null?(A.next=Y.pending=A,lT(Y,A)):(A.next=q.next,Y.pending=q.next=A)}}function lT(K,Y){var{action:q,payload:U}=Y,N=K.state;if(Y.isTransition){var A=r.T,B={};r.T=B,r.T._updatedFibers=new Set;try{var O=q(N,U),w=r.S;w!==null&&w(B,O),pT(K,Y,O)}catch(G){JC(K,Y,G)}finally{r.T=A,A===null&&B._updatedFibers&&(K=B._updatedFibers.size,B._updatedFibers.clear(),10<K&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}else try{B=q(N,U),pT(K,Y,B)}catch(G){JC(K,Y,G)}}function pT(K,Y,q){q!==null&&typeof q==="object"&&typeof q.then==="function"?(q.then(function(U){uT(K,Y,U)},function(U){return JC(K,Y,U)}),Y.isTransition||console.error("An async function with useActionState was called outside of a transition. This is likely not what you intended (for example, isPending will not update correctly). Either call the returned function inside startTransition, or pass it to an `action` or `formAction` prop.")):uT(K,Y,q)}function uT(K,Y,q){Y.status="fulfilled",Y.value=q,iT(Y),K.state=q,Y=K.pending,Y!==null&&(q=Y.next,q===Y?K.pending=null:(q=q.next,Y.next=q,lT(K,q)))}function JC(K,Y,q){var U=K.pending;if(K.pending=null,U!==null){U=U.next;do Y.status="rejected",Y.reason=q,iT(Y),Y=Y.next;while(Y!==U)}K.action=null}function iT(K){K=K.listeners;for(var Y=0;Y<K.length;Y++)(0,K[Y])()}function nT(K,Y){return Y}function YQ(K,Y){if(z0){var q=x0.formState;if(q!==null){$:{var U=n1;if(z0){if(Z5){Q:{var N=Z5;for(var A=n7;N.nodeType!==8;){if(!A){N=null;break Q}if(N=z4(N.nextSibling),N===null){N=null;break Q}}A=N.data,N=A===Tz||A===zL?N:null}if(N){Z5=z4(N.nextSibling),U=N.data===Tz;break $}}R2(U)}U=!1}U&&(Y=q[0])}}return q=I6(),q.memoizedState=q.baseState=Y,U={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nT,lastRenderedState:Y},q.queue=U,q=KI.bind(null,n1,U),U.dispatch=q,U=eD(!1),A=DC.bind(null,n1,!1,U.queue),U=I6(),N={state:Y,dispatch:null,action:K,pending:null},U.queue=N,q=zt.bind(null,n1,N,A,q),N.dispatch=q,U.memoizedState=K,[Y,q,!1]}function dW(K){var Y=j0();return sT(Y,v0,K)}function sT(K,Y,q){if(Y=rD(K,Y,nT)[0],K=XQ(K7)[0],typeof Y==="object"&&Y!==null&&typeof Y.then==="function")try{var U=$K(Y)}catch(B){if(B===yK)throw mq;throw B}else U=Y;Y=j0();var N=Y.queue,A=N.dispatch;return q!==Y.memoizedState&&(n1.flags|=2048,WQ(w4|j5,pW(),Bt.bind(null,N,q),null)),[U,A,K]}function Bt(K,Y){K.action=Y}function lW(K){var Y=j0(),q=v0;if(q!==null)return sT(Y,q,K);j0(),Y=Y.memoizedState,q=j0();var U=q.queue.dispatch;return q.memoizedState=K,[Y,U,!1]}function WQ(K,Y,q,U){return K={tag:K,create:q,deps:U,inst:Y,next:null},Y=n1.updateQueue,Y===null&&(Y=oD(),n1.updateQueue=Y),q=Y.lastEffect,q===null?Y.lastEffect=K.next=K:(U=q.next,q.next=K,K.next=U,Y.lastEffect=K),K}function pW(){return{destroy:void 0,resource:void 0}}function ZC(K){var Y=I6();return K={current:K},Y.memoizedState=K}function M2(K,Y,q,U){var N=I6();U=U===void 0?null:U,n1.flags|=K,N.memoizedState=WQ(w4|Y,pW(),q,U)}function G6(K,Y,q,U){var N=j0();U=U===void 0?null:U;var A=N.memoizedState.inst;v0!==null&&U!==null&&lD(U,v0.memoizedState.deps)?N.memoizedState=WQ(Y,A,q,U):(n1.flags|=K,N.memoizedState=WQ(w4|Y,A,q,U))}function uW(K,Y){(n1.mode&W7)!==d0&&(n1.mode&Qj)===d0?M2(276826112,j5,K,Y):M2(8390656,j5,K,Y)}function KC(K,Y){var q=4194308;return(n1.mode&W7)!==d0&&(q|=134217728),M2(q,n5,K,Y)}function oT(K,Y){if(typeof Y==="function"){K=K();var q=Y(K);return function(){typeof q==="function"?q():Y(null)}}if(Y!==null&&Y!==void 0)return Y.hasOwnProperty("current")||console.error("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(Y).join(", ")+"}"),K=K(),Y.current=K,function(){Y.current=null}}function XC(K,Y,q){typeof Y!=="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",Y!==null?typeof Y:"null"),q=q!==null&&q!==void 0?q.concat([K]):null;var U=4194308;(n1.mode&W7)!==d0&&(U|=134217728),M2(U,n5,oT.bind(null,Y,K),q)}function iW(K,Y,q){typeof Y!=="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",Y!==null?typeof Y:"null"),q=q!==null&&q!==void 0?q.concat([K]):null,G6(4,n5,oT.bind(null,Y,K),q)}function YC(K,Y){return I6().memoizedState=[K,Y===void 0?null:Y],K}function nW(K,Y){var q=j0();Y=Y===void 0?null:Y;var U=q.memoizedState;if(Y!==null&&lD(Y,U[1]))return U[0];return q.memoizedState=[K,Y],K}function WC(K,Y){var q=I6();Y=Y===void 0?null:Y;var U=K();if(x2){k0(!0);try{K()}finally{k0(!1)}}return q.memoizedState=[U,Y],U}function sW(K,Y){var q=j0();Y=Y===void 0?null:Y;var U=q.memoizedState;if(Y!==null&&lD(Y,U[1]))return U[0];if(U=K(),x2){k0(!0);try{K()}finally{k0(!1)}}return q.memoizedState=[U,Y],U}function qC(K,Y){var q=I6();return HC(q,K,Y)}function aT(K,Y){var q=j0();return tT(q,v0.memoizedState,K,Y)}function rT(K,Y){var q=j0();return v0===null?HC(q,K,Y):tT(q,v0.memoizedState,K,Y)}function HC(K,Y,q){if(q===void 0||(t8&1073741824)!==0)return K.memoizedState=Y;return K.memoizedState=q,K=eI(),n1.lanes|=K,Q9|=K,q}function tT(K,Y,q,U){if(U6(q,Y))return q;if(yQ.current!==null)return K=HC(K,q,U),U6(K,Y)||(_5=!0),K;if((t8&42)===0)return _5=!0,K.memoizedState=q;return K=eI(),n1.lanes|=K,Q9|=K,Y}function eT(K,Y,q,U,N){var A=M0.p;M0.p=A!==0&&A<Y7?A:Y7;var B=r.T,O={};r.T=O,DC(K,!1,Y,q),O._updatedFibers=new Set;try{var w=N(),G=r.S;if(G!==null&&G(O,w),w!==null&&typeof w==="object"&&typeof w.then==="function"){var u=Dt(w,U);JK(K,Y,u,s6(K))}else JK(K,Y,U,s6(K))}catch(t){JK(K,Y,{then:function(){},status:"rejected",reason:t},s6(K))}finally{M0.p=A,r.T=B,B===null&&O._updatedFibers&&(K=O._updatedFibers.size,O._updatedFibers.clear(),10<K&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}function FC(K,Y,q,U){if(K.tag!==5)throw Error("Expected the form instance to be a HostComponent. This is a bug in React.");var N=$I(K).queue;eT(K,N,Y,i2,q===null?C:function(){return QI(K),q(U)})}function $I(K){var Y=K.memoizedState;if(Y!==null)return Y;Y={memoizedState:i2,baseState:i2,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:K7,lastRenderedState:i2},next:null};var q={};return Y.next={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:K7,lastRenderedState:q},next:null},K.memoizedState=Y,K=K.alternate,K!==null&&(K.memoizedState=Y),Y}function QI(K){r.T===null&&console.error("requestFormReset was called outside a transition or action. To fix, move to an action, or wrap with startTransition.");var Y=$I(K).next.queue;JK(K,Y,{},s6(K))}function UC(){var K=eD(!1);return K=eT.bind(null,n1,K.queue,!0,!1),I6().memoizedState=K,[!1,K]}function JI(){var K=XQ(K7)[0],Y=j0().memoizedState;return[typeof K==="boolean"?K:$K(K),Y]}function ZI(){var K=QK(K7)[0],Y=j0().memoizedState;return[typeof K==="boolean"?K:$K(K),Y]}function w2(){return s0(ZX)}function VC(){var K=I6(),Y=x0.identifierPrefix;if(z0){var q=i3,U=u3;q=(U&~(1<<32-H6(U)-1)).toString(32)+q,Y=""+Y+"R"+q,q=pq++,0<q&&(Y+="H"+q.toString(32)),Y+=""}else q=f11++,Y=""+Y+"r"+q.toString(32)+"";return K.memoizedState=Y}function NC(){return I6().memoizedState=Rt.bind(null,n1)}function Rt(K,Y){for(var q=K.return;q!==null;){switch(q.tag){case 24:case 3:var U=s6(q);K=g8(U);var N=y8(q,K,U);N!==null&&(z5(N,q,U),rZ(N,q,U)),q=xD(),Y!==null&&Y!==void 0&&N!==null&&console.error("The seed argument is not enabled outside experimental channels."),K.payload={cache:q};return}q=q.return}}function Ot(K,Y,q){var U=arguments;typeof U[3]==="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),U=s6(K);var N={lane:U,revertLane:0,action:q,hasEagerState:!1,eagerState:null,next:null};oW(K)?XI(Y,N):(N=MD(K,Y,N,U),N!==null&&(z5(N,K,U),YI(N,Y,U))),L3(K,U)}function KI(K,Y,q){var U=arguments;typeof U[3]==="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),U=s6(K),JK(K,Y,q,U),L3(K,U)}function JK(K,Y,q,U){var N={lane:U,revertLane:0,action:q,hasEagerState:!1,eagerState:null,next:null};if(oW(K))XI(Y,N);else{var A=K.alternate;if(K.lanes===0&&(A===null||A.lanes===0)&&(A=Y.lastRenderedReducer,A!==null)){var B=r.H;r.H=H7;try{var O=Y.lastRenderedState,w=A(O,q);if(N.hasEagerState=!0,N.eagerState=w,U6(w,O))return EW(K,Y,N,0),x0===null&&GW(),!1}catch(G){}finally{r.H=B}}if(q=MD(K,Y,N,U),q!==null)return z5(q,K,U),YI(q,Y,U),!0}return!1}function DC(K,Y,q,U){if(r.T===null&&h2===0&&console.error("An optimistic state update occurred outside a transition or action. To fix, move the update to an action, or wrap with startTransition."),U={lane:2,revertLane:uC(),action:U,hasEagerState:!1,eagerState:null,next:null},oW(K)){if(Y)throw Error("Cannot update optimistic state while rendering.");console.error("Cannot call startTransition while rendering.")}else Y=MD(K,q,U,2),Y!==null&&z5(Y,K,2);L3(K,2)}function oW(K){var Y=K.alternate;return K===n1||Y!==null&&Y===n1}function XI(K,Y){fQ=lq=!0;var q=K.pending;q===null?Y.next=Y:(Y.next=q.next,q.next=Y),K.pending=Y}function YI(K,Y,q){if((q&4194048)!==0){var U=Y.lanes;U&=K.pendingLanes,q|=U,Y.lanes=q,xZ(K,q)}}function d5(K){var Y=J0;return K!=null&&(J0=Y===null?K:Y.concat(K)),Y}function aW(K,Y,q){for(var U=Object.keys(K.props),N=0;N<U.length;N++){var A=U[N];if(A!=="children"&&A!=="key"){Y===null&&(Y=LW(K,q.mode,0),Y._debugInfo=J0,Y.return=q),w1(Y,function(B){console.error("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",B)},A);break}}}function rW(K){var Y=cK;return cK+=1,mQ===null&&(mQ=TT()),GT(mQ,K,Y)}function ZK(K,Y){Y=Y.props.ref,K.ref=Y!==void 0?Y:null}function tW(K,Y){if(Y.$$typeof===we)throw Error(`A React Element from an older version of React was rendered. This is not supported. It can happen if:
- Multiple copies of the "react" package is used.
- A library pre-bundled an old copy of "react" or "react/jsx-runtime".
- A compiler tries to "inline" JSX instead of using the runtime.`);throw K=Object.prototype.toString.call(Y),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}function eW(K,Y){var q=Q1(K)||"Component";_j[q]||(_j[q]=!0,Y=Y.displayName||Y.name||"Component",K.tag===3?console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  root.render(%s)`,Y,Y,Y):console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  <%s>{%s}</%s>`,Y,Y,q,Y,q))}function $q(K,Y){var q=Q1(K)||"Component";xj[q]||(xj[q]=!0,Y=String(Y),K.tag===3?console.error(`Symbols are not valid as a React child.
  root.render(%s)`,Y):console.error(`Symbols are not valid as a React child.
  <%s>%s</%s>`,q,Y,q))}function WI(K){function Y(j,h){if(K){var x=j.deletions;x===null?(j.deletions=[h],j.flags|=16):x.push(h)}}function q(j,h){if(!K)return null;for(;h!==null;)Y(j,h),h=h.sibling;return null}function U(j){for(var h=new Map;j!==null;)j.key!==null?h.set(j.key,j):h.set(j.index,j),j=j.sibling;return h}function N(j,h){return j=v3(j,h),j.index=0,j.sibling=null,j}function A(j,h,x){if(j.index=x,!K)return j.flags|=1048576,h;if(x=j.alternate,x!==null)return x=x.index,x<h?(j.flags|=67108866,h):x;return j.flags|=67108866,h}function B(j){return K&&j.alternate===null&&(j.flags|=67108866),j}function O(j,h,x,$1){if(h===null||h.tag!==6)return h=GD(x,j.mode,$1),h.return=j,h._debugOwner=j,h._debugTask=j._debugTask,h._debugInfo=J0,h;return h=N(h,x),h.return=j,h._debugInfo=J0,h}function w(j,h,x,$1){var D1=x.type;if(D1===BQ)return h=u(j,h,x.props.children,$1,x.key),aW(x,h,j),h;if(h!==null&&(h.elementType===D1||DT(h,x)||typeof D1==="object"&&D1!==null&&D1.$$typeof===o6&&e8(D1)===h.type))return h=N(h,x.props),ZK(h,x),h.return=j,h._debugOwner=x._owner,h._debugInfo=J0,h;return h=LW(x,j.mode,$1),ZK(h,x),h.return=j,h._debugInfo=J0,h}function G(j,h,x,$1){if(h===null||h.tag!==4||h.stateNode.containerInfo!==x.containerInfo||h.stateNode.implementation!==x.implementation)return h=ED(x,j.mode,$1),h.return=j,h._debugInfo=J0,h;return h=N(h,x.children||[]),h.return=j,h._debugInfo=J0,h}function u(j,h,x,$1,D1){if(h===null||h.tag!==7)return h=C2(x,j.mode,$1,D1),h.return=j,h._debugOwner=j,h._debugTask=j._debugTask,h._debugInfo=J0,h;return h=N(h,x),h.return=j,h._debugInfo=J0,h}function t(j,h,x){if(typeof h==="string"&&h!==""||typeof h==="number"||typeof h==="bigint")return h=GD(""+h,j.mode,x),h.return=j,h._debugOwner=j,h._debugTask=j._debugTask,h._debugInfo=J0,h;if(typeof h==="object"&&h!==null){switch(h.$$typeof){case p8:return x=LW(h,j.mode,x),ZK(x,h),x.return=j,j=d5(h._debugInfo),x._debugInfo=J0,J0=j,x;case zQ:return h=ED(h,j.mode,x),h.return=j,h._debugInfo=J0,h;case o6:var $1=d5(h._debugInfo);return h=e8(h),j=t(j,h,x),J0=$1,j}if(u5(h)||J1(h))return x=C2(h,j.mode,x,null),x.return=j,x._debugOwner=j,x._debugTask=j._debugTask,j=d5(h._debugInfo),x._debugInfo=J0,J0=j,x;if(typeof h.then==="function")return $1=d5(h._debugInfo),j=t(j,rW(h),x),J0=$1,j;if(h.$$typeof===c7)return t(j,_W(j,h),x);tW(j,h)}return typeof h==="function"&&eW(j,h),typeof h==="symbol"&&$q(j,h),null}function p(j,h,x,$1){var D1=h!==null?h.key:null;if(typeof x==="string"&&x!==""||typeof x==="number"||typeof x==="bigint")return D1!==null?null:O(j,h,""+x,$1);if(typeof x==="object"&&x!==null){switch(x.$$typeof){case p8:return x.key===D1?(D1=d5(x._debugInfo),j=w(j,h,x,$1),J0=D1,j):null;case zQ:return x.key===D1?G(j,h,x,$1):null;case o6:return D1=d5(x._debugInfo),x=e8(x),j=p(j,h,x,$1),J0=D1,j}if(u5(x)||J1(x)){if(D1!==null)return null;return D1=d5(x._debugInfo),j=u(j,h,x,$1,null),J0=D1,j}if(typeof x.then==="function")return D1=d5(x._debugInfo),j=p(j,h,rW(x),$1),J0=D1,j;if(x.$$typeof===c7)return p(j,h,_W(j,x),$1);tW(j,x)}return typeof x==="function"&&eW(j,x),typeof x==="symbol"&&$q(j,x),null}function e(j,h,x,$1,D1){if(typeof $1==="string"&&$1!==""||typeof $1==="number"||typeof $1==="bigint")return j=j.get(x)||null,O(h,j,""+$1,D1);if(typeof $1==="object"&&$1!==null){switch($1.$$typeof){case p8:return x=j.get($1.key===null?x:$1.key)||null,j=d5($1._debugInfo),h=w(h,x,$1,D1),J0=j,h;case zQ:return j=j.get($1.key===null?x:$1.key)||null,G(h,j,$1,D1);case o6:var s1=d5($1._debugInfo);return $1=e8($1),h=e(j,h,x,$1,D1),J0=s1,h}if(u5($1)||J1($1))return x=j.get(x)||null,j=d5($1._debugInfo),h=u(h,x,$1,D1,null),J0=j,h;if(typeof $1.then==="function")return s1=d5($1._debugInfo),h=e(j,h,x,rW($1),D1),J0=s1,h;if($1.$$typeof===c7)return e(j,h,x,_W(h,$1),D1);tW(h,$1)}return typeof $1==="function"&&eW(h,$1),typeof $1==="symbol"&&$q(h,$1),null}function k1(j,h,x,$1){if(typeof x!=="object"||x===null)return $1;switch(x.$$typeof){case p8:case zQ:F(j,h,x);var D1=x.key;if(typeof D1!=="string")break;if($1===null){$1=new Set,$1.add(D1);break}if(!$1.has(D1)){$1.add(D1);break}w1(h,function(){console.error("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.",D1)});break;case o6:x=e8(x),k1(j,h,x,$1)}return $1}function c1(j,h,x,$1){for(var D1=null,s1=null,P1=null,o1=h,r1=h=0,l0=null;o1!==null&&r1<x.length;r1++){o1.index>r1?(l0=o1,o1=null):l0=o1.sibling;var R5=p(j,o1,x[r1],$1);if(R5===null){o1===null&&(o1=l0);break}D1=k1(j,R5,x[r1],D1),K&&o1&&R5.alternate===null&&Y(j,o1),h=A(R5,h,r1),P1===null?s1=R5:P1.sibling=R5,P1=R5,o1=l0}if(r1===x.length)return q(j,o1),z0&&A2(j,r1),s1;if(o1===null){for(;r1<x.length;r1++)o1=t(j,x[r1],$1),o1!==null&&(D1=k1(j,o1,x[r1],D1),h=A(o1,h,r1),P1===null?s1=o1:P1.sibling=o1,P1=o1);return z0&&A2(j,r1),s1}for(o1=U(o1);r1<x.length;r1++)l0=e(o1,j,r1,x[r1],$1),l0!==null&&(D1=k1(j,l0,x[r1],D1),K&&l0.alternate!==null&&o1.delete(l0.key===null?r1:l0.key),h=A(l0,h,r1),P1===null?s1=l0:P1.sibling=l0,P1=l0);return K&&o1.forEach(function(Q8){return Y(j,Q8)}),z0&&A2(j,r1),s1}function g0(j,h,x,$1){if(x==null)throw Error("An iterable object provided no iterator.");for(var D1=null,s1=null,P1=h,o1=h=0,r1=null,l0=null,R5=x.next();P1!==null&&!R5.done;o1++,R5=x.next()){P1.index>o1?(r1=P1,P1=null):r1=P1.sibling;var Q8=p(j,P1,R5.value,$1);if(Q8===null){P1===null&&(P1=r1);break}l0=k1(j,Q8,R5.value,l0),K&&P1&&Q8.alternate===null&&Y(j,P1),h=A(Q8,h,o1),s1===null?D1=Q8:s1.sibling=Q8,s1=Q8,P1=r1}if(R5.done)return q(j,P1),z0&&A2(j,o1),D1;if(P1===null){for(;!R5.done;o1++,R5=x.next())P1=t(j,R5.value,$1),P1!==null&&(l0=k1(j,P1,R5.value,l0),h=A(P1,h,o1),s1===null?D1=P1:s1.sibling=P1,s1=P1);return z0&&A2(j,o1),D1}for(P1=U(P1);!R5.done;o1++,R5=x.next())r1=e(P1,j,o1,R5.value,$1),r1!==null&&(l0=k1(j,r1,R5.value,l0),K&&r1.alternate!==null&&P1.delete(r1.key===null?o1:r1.key),h=A(r1,h,o1),s1===null?D1=r1:s1.sibling=r1,s1=r1);return K&&P1.forEach(function(V01){return Y(j,V01)}),z0&&A2(j,o1),D1}function F0(j,h,x,$1){if(typeof x==="object"&&x!==null&&x.type===BQ&&x.key===null&&(aW(x,null,j),x=x.props.children),typeof x==="object"&&x!==null){switch(x.$$typeof){case p8:var D1=d5(x._debugInfo);$:{for(var s1=x.key;h!==null;){if(h.key===s1){if(s1=x.type,s1===BQ){if(h.tag===7){q(j,h.sibling),$1=N(h,x.props.children),$1.return=j,$1._debugOwner=x._owner,$1._debugInfo=J0,aW(x,$1,j),j=$1;break $}}else if(h.elementType===s1||DT(h,x)||typeof s1==="object"&&s1!==null&&s1.$$typeof===o6&&e8(s1)===h.type){q(j,h.sibling),$1=N(h,x.props),ZK($1,x),$1.return=j,$1._debugOwner=x._owner,$1._debugInfo=J0,j=$1;break $}q(j,h);break}else Y(j,h);h=h.sibling}x.type===BQ?($1=C2(x.props.children,j.mode,$1,x.key),$1.return=j,$1._debugOwner=j,$1._debugTask=j._debugTask,$1._debugInfo=J0,aW(x,$1,j),j=$1):($1=LW(x,j.mode,$1),ZK($1,x),$1.return=j,$1._debugInfo=J0,j=$1)}return j=B(j),J0=D1,j;case zQ:$:{D1=x;for(x=D1.key;h!==null;){if(h.key===x)if(h.tag===4&&h.stateNode.containerInfo===D1.containerInfo&&h.stateNode.implementation===D1.implementation){q(j,h.sibling),$1=N(h,D1.children||[]),$1.return=j,j=$1;break $}else{q(j,h);break}else Y(j,h);h=h.sibling}$1=ED(D1,j.mode,$1),$1.return=j,j=$1}return B(j);case o6:return D1=d5(x._debugInfo),x=e8(x),j=F0(j,h,x,$1),J0=D1,j}if(u5(x))return D1=d5(x._debugInfo),j=c1(j,h,x,$1),J0=D1,j;if(J1(x)){if(D1=d5(x._debugInfo),s1=J1(x),typeof s1!=="function")throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");var P1=s1.call(x);if(P1===x){if(j.tag!==0||Object.prototype.toString.call(j.type)!=="[object GeneratorFunction]"||Object.prototype.toString.call(P1)!=="[object Generator]")hj||console.error("Using Iterators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. You can also use an Iterable that can iterate multiple times over the same items."),hj=!0}else x.entries!==s1||Jz||(console.error("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Jz=!0);return j=g0(j,h,P1,$1),J0=D1,j}if(typeof x.then==="function")return D1=d5(x._debugInfo),j=F0(j,h,rW(x),$1),J0=D1,j;if(x.$$typeof===c7)return F0(j,h,_W(j,x),$1);tW(j,x)}if(typeof x==="string"&&x!==""||typeof x==="number"||typeof x==="bigint")return D1=""+x,h!==null&&h.tag===6?(q(j,h.sibling),$1=N(h,D1),$1.return=j,j=$1):(q(j,h),$1=GD(D1,j.mode,$1),$1.return=j,$1._debugOwner=j,$1._debugTask=j._debugTask,$1._debugInfo=J0,j=$1),B(j);return typeof x==="function"&&eW(j,x),typeof x==="symbol"&&$q(j,x),q(j,h)}return function(j,h,x,$1){var D1=J0;J0=null;try{cK=0;var s1=F0(j,h,x,$1);return mQ=null,s1}catch(l0){if(l0===yK||l0===mq)throw l0;var P1=R(29,l0,null,j.mode);P1.lanes=$1,P1.return=j;var o1=P1._debugInfo=J0;if(P1._debugOwner=j._debugOwner,P1._debugTask=j._debugTask,o1!=null){for(var r1=o1.length-1;0<=r1;r1--)if(typeof o1[r1].stack==="string"){P1._debugOwner=o1[r1],P1._debugTask=o1[r1].debugTask;break}}return P1}finally{J0=D1}}}function f8(K){var Y=K.alternate;C1(L5,L5.current&dQ,K),C1(T4,K,K),o7===null&&(Y===null||yQ.current!==null?o7=K:Y.memoizedState!==null&&(o7=K))}function qI(K){if(K.tag===22){if(C1(L5,L5.current,K),C1(T4,K,K),o7===null){var Y=K.alternate;Y!==null&&Y.memoizedState!==null&&(o7=K)}}else m8(K)}function m8(K){C1(L5,L5.current,K),C1(T4,T4.current,K)}function g3(K){R1(T4,K),o7===K&&(o7=null),R1(L5,K)}function Qq(K){for(var Y=K;Y!==null;){if(Y.tag===13){var q=Y.memoizedState;if(q!==null&&(q=q.dehydrated,q===null||q.data===t3||JA(q)))return Y}else if(Y.tag===19&&Y.memoizedProps.revealOrder!==void 0){if((Y.flags&128)!==0)return Y}else if(Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===K)break;for(;Y.sibling===null;){if(Y.return===null||Y.return===K)return null;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}return null}function CC(K){if(K!==null&&typeof K!=="function"){var Y=String(K);nj.has(Y)||(nj.add(Y),console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",K))}}function AC(K,Y,q,U){var N=K.memoizedState,A=q(U,N);if(K.mode&Q6){k0(!0);try{A=q(U,N)}finally{k0(!1)}}A===void 0&&(Y=Y1(Y)||"Component",lj.has(Y)||(lj.add(Y),console.error("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",Y))),N=A===null||A===void 0?N:X0({},N,A),K.memoizedState=N,K.lanes===0&&(K.updateQueue.baseState=N)}function HI(K,Y,q,U,N,A,B){var O=K.stateNode;if(typeof O.shouldComponentUpdate==="function"){if(q=O.shouldComponentUpdate(U,A,B),K.mode&Q6){k0(!0);try{q=O.shouldComponentUpdate(U,A,B)}finally{k0(!1)}}return q===void 0&&console.error("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",Y1(Y)||"Component"),q}return Y.prototype&&Y.prototype.isPureReactComponent?!pZ(q,U)||!pZ(N,A):!0}function FI(K,Y,q,U){var N=Y.state;typeof Y.componentWillReceiveProps==="function"&&Y.componentWillReceiveProps(q,U),typeof Y.UNSAFE_componentWillReceiveProps==="function"&&Y.UNSAFE_componentWillReceiveProps(q,U),Y.state!==N&&(K=Q1(K)||"Component",bj.has(K)||(bj.add(K),console.error("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",K)),Zz.enqueueReplaceState(Y,Y.state,null))}function S2(K,Y){var q=Y;if("ref"in Y){q={};for(var U in Y)U!=="ref"&&(q[U]=Y[U])}if(K=K.defaultProps){q===Y&&(q=X0({},q));for(var N in K)q[N]===void 0&&(q[N]=K[N])}return q}function UI(K){Kz(K),console.warn(`%s

%s
`,lQ?"An error occurred in the <"+lQ+"> component.":"An error occurred in one of your React components.",`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.`)}function VI(K){var Y=lQ?"The above error occurred in the <"+lQ+"> component.":"The above error occurred in one of your React components.",q="React will try to recreate this component tree from scratch using the error boundary you provided, "+((Xz||"Anonymous")+".");if(typeof K==="object"&&K!==null&&typeof K.environmentName==="string"){var U=K.environmentName;K=[`%o

%s

%s
`,K,Y,q].slice(0),typeof K[0]==="string"?K.splice(0,1,SL+K[0],TL,FH+U+FH,IL):K.splice(0,0,SL,TL,FH+U+FH,IL),K.unshift(console),U=F01.apply(console.error,K),U()}else console.error(`%o

%s

%s
`,K,Y,q)}function NI(K){Kz(K)}function Jq(K,Y){try{lQ=Y.source?Q1(Y.source):null,Xz=null;var q=Y.value;if(r.actQueue!==null)r.thrownErrors.push(q);else{var U=K.onUncaughtError;U(q,{componentStack:Y.stack})}}catch(N){setTimeout(function(){throw N})}}function DI(K,Y,q){try{lQ=q.source?Q1(q.source):null,Xz=Q1(Y);var U=K.onCaughtError;U(q.value,{componentStack:q.stack,errorBoundary:Y.tag===1?Y.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function zC(K,Y,q){return q=g8(q),q.tag=sA,q.payload={element:null},q.callback=function(){w1(Y.source,Jq,K,Y)},q}function BC(K){return K=g8(K),K.tag=sA,K}function RC(K,Y,q,U){var N=q.type.getDerivedStateFromError;if(typeof N==="function"){var A=U.value;K.payload=function(){return N(A)},K.callback=function(){CT(q),w1(U.source,DI,Y,q,U)}}var B=q.stateNode;B!==null&&typeof B.componentDidCatch==="function"&&(K.callback=function(){CT(q),w1(U.source,DI,Y,q,U),typeof N!=="function"&&(Z9===null?Z9=new Set([this]):Z9.add(this)),c11(this,U),typeof N==="function"||(q.lanes&2)===0&&console.error("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",Q1(q)||"Unknown")})}function kt(K,Y,q,U,N){if(q.flags|=32768,X7&&FK(K,N),U!==null&&typeof U==="object"&&typeof U.then==="function"){if(Y=q.alternate,Y!==null&&sZ(Y,q,N,!0),z0&&(n3=!0),q=T4.current,q!==null){switch(q.tag){case 13:return o7===null?bC():q.alternate===null&&K5===r3&&(K5=Hz),q.flags&=-257,q.flags|=65536,q.lanes=N,U===nA?q.flags|=16384:(Y=q.updateQueue,Y===null?q.updateQueue=new Set([U]):Y.add(U),cC(K,U,N)),!1;case 22:return q.flags|=65536,U===nA?q.flags|=16384:(Y=q.updateQueue,Y===null?(Y={transitions:null,markerInstances:null,retryQueue:new Set([U])},q.updateQueue=Y):(q=Y.retryQueue,q===null?Y.retryQueue=new Set([U]):q.add(U)),cC(K,U,N)),!1}throw Error("Unexpected Suspense handler tag ("+q.tag+"). This is a bug in React.")}return cC(K,U,N),bC(),!1}if(z0)return n3=!0,Y=T4.current,Y!==null?((Y.flags&65536)===0&&(Y.flags|=256),Y.flags|=65536,Y.lanes=N,U!==lA&&nZ(u6(Error("There was an error while hydrating but React was able to recover by instead client rendering from the nearest Suspense boundary.",{cause:U}),q))):(U!==lA&&nZ(u6(Error("There was an error while hydrating but React was able to recover by instead client rendering the entire root.",{cause:U}),q)),K=K.current.alternate,K.flags|=65536,N&=-N,K.lanes|=N,U=u6(U,q),N=zC(K.stateNode,U,N),fW(K,N),K5!==g2&&(K5=nQ)),!1;var A=u6(Error("There was an error during concurrent rendering but React was able to recover by instead synchronously rendering the entire root.",{cause:U}),q);if(oK===null?oK=[A]:oK.push(A),K5!==g2&&(K5=nQ),Y===null)return!0;U=u6(U,q),q=Y;do{switch(q.tag){case 3:return q.flags|=65536,K=N&-N,q.lanes|=K,K=zC(q.stateNode,U,K),fW(q,K),!1;case 1:if(Y=q.type,A=q.stateNode,(q.flags&128)===0&&(typeof Y.getDerivedStateFromError==="function"||A!==null&&typeof A.componentDidCatch==="function"&&(Z9===null||!Z9.has(A))))return q.flags|=65536,N&=-N,q.lanes|=N,N=BC(N),RC(N,K,q,U),fW(q,N),!1}q=q.return}while(q!==null);return!1}function l5(K,Y,q,U){Y.child=K===null?gj(Y,null,q,U):cQ(Y,K.child,q,U)}function CI(K,Y,q,U,N){q=q.render;var A=Y.ref;if("ref"in U){var B={};for(var O in U)O!=="ref"&&(B[O]=U[O])}else B=U;if(O2(Y),V4(Y),U=pD(K,Y,q,B,A,N),O=iD(),$7(),K!==null&&!_5)return nD(K,Y,N),y3(K,Y,N);return z0&&O&&jD(Y),Y.flags|=1,l5(K,Y,U,N),Y.child}function AI(K,Y,q,U,N){if(K===null){var A=q.type;if(typeof A==="function"&&!TD(A)&&A.defaultProps===void 0&&q.compare===null)return q=D2(A),Y.tag=15,Y.type=q,kC(Y,A),zI(K,Y,q,U,N);return K=ID(q.type,null,U,Y,Y.mode,N),K.ref=Y.ref,K.return=Y,Y.child=K}if(A=K.child,!IC(K,N)){var B=A.memoizedProps;if(q=q.compare,q=q!==null?q:pZ,q(B,U)&&K.ref===Y.ref)return y3(K,Y,N)}return Y.flags|=1,K=v3(A,U),K.ref=Y.ref,K.return=Y,Y.child=K}function zI(K,Y,q,U,N){if(K!==null){var A=K.memoizedProps;if(pZ(A,U)&&K.ref===Y.ref&&Y.type===K.type)if(_5=!1,Y.pendingProps=U=A,IC(K,N))(K.flags&131072)!==0&&(_5=!0);else return Y.lanes=K.lanes,y3(K,Y,N)}return OC(K,Y,q,U,N)}function BI(K,Y,q){var U=Y.pendingProps,N=U.children,A=K!==null?K.memoizedState:null;if(U.mode==="hidden"){if((Y.flags&128)!==0){if(U=A!==null?A.baseLanes|q:q,K!==null){N=Y.child=K.child;for(A=0;N!==null;)A=A|N.lanes|N.childLanes,N=N.sibling;Y.childLanes=A&~U}else Y.childLanes=0,Y.child=null;return RI(K,Y,U,q)}if((q&536870912)!==0)Y.memoizedState={baseLanes:0,cachePool:null},K!==null&&yW(Y,A!==null?A.cachePool:null),A!==null?vT(Y,A):cD(Y),qI(Y);else return Y.lanes=Y.childLanes=536870912,RI(K,Y,A!==null?A.baseLanes|q:q,q)}else A!==null?(yW(Y,A.cachePool),vT(Y,A),m8(Y),Y.memoizedState=null):(K!==null&&yW(Y,null),cD(Y),m8(Y));return l5(K,Y,N,q),Y.child}function RI(K,Y,q,U){var N=bD();return N=N===null?null:{parent:E5._currentValue,pool:N},Y.memoizedState={baseLanes:q,cachePool:N},K!==null&&yW(Y,null),cD(Y),qI(Y),K!==null&&sZ(K,Y,U,!0),null}function Zq(K,Y){var q=Y.ref;if(q===null)K!==null&&K.ref!==null&&(Y.flags|=4194816);else{if(typeof q!=="function"&&typeof q!=="object")throw Error("Expected ref to be a function, an object returned by React.createRef(), or undefined/null.");if(K===null||K.ref!==q)Y.flags|=4194816}}function OC(K,Y,q,U,N){if(q.prototype&&typeof q.prototype.render==="function"){var A=Y1(q)||"Unknown";oj[A]||(console.error("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",A,A),oj[A]=!0)}if(Y.mode&Q6&&q7.recordLegacyContextWarning(Y,null),K===null&&(kC(Y,Y.type),q.contextTypes&&(A=Y1(q)||"Unknown",rj[A]||(rj[A]=!0,console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with React.useContext() instead. (https://react.dev/link/legacy-context)",A)))),O2(Y),V4(Y),q=pD(K,Y,q,U,void 0,N),U=iD(),$7(),K!==null&&!_5)return nD(K,Y,N),y3(K,Y,N);return z0&&U&&jD(Y),Y.flags|=1,l5(K,Y,q,N),Y.child}function OI(K,Y,q,U,N,A){if(O2(Y),V4(Y),o3=-1,mK=K!==null&&K.type!==Y.type,Y.updateQueue=null,q=uD(Y,U,q,N),_T(K,Y),U=iD(),$7(),K!==null&&!_5)return nD(K,Y,A),y3(K,Y,A);return z0&&U&&jD(Y),Y.flags|=1,l5(K,Y,q,A),Y.child}function kI(K,Y,q,U,N){switch(H(Y)){case!1:var A=Y.stateNode,B=new Y.type(Y.memoizedProps,A.context).state;A.updater.enqueueSetState(A,B,null);break;case!0:Y.flags|=128,Y.flags|=65536,A=Error("Simulated error coming from DevTools");var O=N&-N;if(Y.lanes|=O,B=x0,B===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");O=BC(O),RC(O,B,Y,u6(A,Y)),fW(Y,O)}if(O2(Y),Y.stateNode===null){if(B=a8,A=q.contextType,"contextType"in q&&A!==null&&(A===void 0||A.$$typeof!==c7)&&!ij.has(q)&&(ij.add(q),O=A===void 0?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof A!=="object"?" However, it is set to a "+typeof A+".":A.$$typeof===NA?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(A).join(", ")+"}.",console.error("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",Y1(q)||"Component",O)),typeof A==="object"&&A!==null&&(B=s0(A)),A=new q(U,B),Y.mode&Q6){k0(!0);try{A=new q(U,B)}finally{k0(!1)}}if(B=Y.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=Zz,Y.stateNode=A,A._reactInternals=Y,A._reactInternalInstance=yj,typeof q.getDerivedStateFromProps==="function"&&B===null&&(B=Y1(q)||"Component",fj.has(B)||(fj.add(B),console.error("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",B,A.state===null?"null":"undefined",B))),typeof q.getDerivedStateFromProps==="function"||typeof A.getSnapshotBeforeUpdate==="function"){var w=O=B=null;if(typeof A.componentWillMount==="function"&&A.componentWillMount.__suppressDeprecationWarning!==!0?B="componentWillMount":typeof A.UNSAFE_componentWillMount==="function"&&(B="UNSAFE_componentWillMount"),typeof A.componentWillReceiveProps==="function"&&A.componentWillReceiveProps.__suppressDeprecationWarning!==!0?O="componentWillReceiveProps":typeof A.UNSAFE_componentWillReceiveProps==="function"&&(O="UNSAFE_componentWillReceiveProps"),typeof A.componentWillUpdate==="function"&&A.componentWillUpdate.__suppressDeprecationWarning!==!0?w="componentWillUpdate":typeof A.UNSAFE_componentWillUpdate==="function"&&(w="UNSAFE_componentWillUpdate"),B!==null||O!==null||w!==null){A=Y1(q)||"Component";var G=typeof q.getDerivedStateFromProps==="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";cj.has(A)||(cj.add(A),console.error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://react.dev/link/unsafe-component-lifecycles`,A,G,B!==null?`
  `+B:"",O!==null?`
  `+O:"",w!==null?`
  `+w:""))}}A=Y.stateNode,B=Y1(q)||"Component",A.render||(q.prototype&&typeof q.prototype.render==="function"?console.error("No `render` method found on the %s instance: did you accidentally return an object from the constructor?",B):console.error("No `render` method found on the %s instance: you may have forgotten to define `render`.",B)),!A.getInitialState||A.getInitialState.isReactClassApproved||A.state||console.error("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",B),A.getDefaultProps&&!A.getDefaultProps.isReactClassApproved&&console.error("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",B),A.contextType&&console.error("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",B),q.childContextTypes&&!uj.has(q)&&(uj.add(q),console.error("%s uses the legacy childContextTypes API which was removed in React 19. Use React.createContext() instead. (https://react.dev/link/legacy-context)",B)),q.contextTypes&&!pj.has(q)&&(pj.add(q),console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with static contextType instead. (https://react.dev/link/legacy-context)",B)),typeof A.componentShouldUpdate==="function"&&console.error("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",B),q.prototype&&q.prototype.isPureReactComponent&&typeof A.shouldComponentUpdate<"u"&&console.error("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",Y1(q)||"A pure component"),typeof A.componentDidUnmount==="function"&&console.error("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",B),typeof A.componentDidReceiveProps==="function"&&console.error("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",B),typeof A.componentWillRecieveProps==="function"&&console.error("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",B),typeof A.UNSAFE_componentWillRecieveProps==="function"&&console.error("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",B),O=A.props!==U,A.props!==void 0&&O&&console.error("When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",B),A.defaultProps&&console.error("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",B,B),typeof A.getSnapshotBeforeUpdate!=="function"||typeof A.componentDidUpdate==="function"||mj.has(q)||(mj.add(q),console.error("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",Y1(q))),typeof A.getDerivedStateFromProps==="function"&&console.error("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",B),typeof A.getDerivedStateFromError==="function"&&console.error("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",B),typeof q.getSnapshotBeforeUpdate==="function"&&console.error("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",B),(O=A.state)&&(typeof O!=="object"||u5(O))&&console.error("%s.state: must be set to an object or null",B),typeof A.getChildContext==="function"&&typeof q.childContextTypes!=="object"&&console.error("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",B),A=Y.stateNode,A.props=U,A.state=Y.memoizedState,A.refs={},fD(Y),B=q.contextType,A.context=typeof B==="object"&&B!==null?s0(B):a8,A.state===U&&(B=Y1(q)||"Component",dj.has(B)||(dj.add(B),console.error("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",B))),Y.mode&Q6&&q7.recordLegacyContextWarning(Y,A),q7.recordUnsafeLifecycleWarnings(Y,A),A.state=Y.memoizedState,B=q.getDerivedStateFromProps,typeof B==="function"&&(AC(Y,q,B,U),A.state=Y.memoizedState),typeof q.getDerivedStateFromProps==="function"||typeof A.getSnapshotBeforeUpdate==="function"||typeof A.UNSAFE_componentWillMount!=="function"&&typeof A.componentWillMount!=="function"||(B=A.state,typeof A.componentWillMount==="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount==="function"&&A.UNSAFE_componentWillMount(),B!==A.state&&(console.error("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",Q1(Y)||"Component"),Zz.enqueueReplaceState(A,A.state,null)),eZ(Y,U,A,N),tZ(),A.state=Y.memoizedState),typeof A.componentDidMount==="function"&&(Y.flags|=4194308),(Y.mode&W7)!==d0&&(Y.flags|=134217728),A=!0}else if(K===null){A=Y.stateNode;var u=Y.memoizedProps;O=S2(q,u),A.props=O;var t=A.context;w=q.contextType,B=a8,typeof w==="object"&&w!==null&&(B=s0(w)),G=q.getDerivedStateFromProps,w=typeof G==="function"||typeof A.getSnapshotBeforeUpdate==="function",u=Y.pendingProps!==u,w||typeof A.UNSAFE_componentWillReceiveProps!=="function"&&typeof A.componentWillReceiveProps!=="function"||(u||t!==B)&&FI(Y,A,U,B),r8=!1;var p=Y.memoizedState;A.state=p,eZ(Y,U,A,N),tZ(),t=Y.memoizedState,u||p!==t||r8?(typeof G==="function"&&(AC(Y,q,G,U),t=Y.memoizedState),(O=r8||HI(Y,q,O,U,p,t,B))?(w||typeof A.UNSAFE_componentWillMount!=="function"&&typeof A.componentWillMount!=="function"||(typeof A.componentWillMount==="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount==="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount==="function"&&(Y.flags|=4194308),(Y.mode&W7)!==d0&&(Y.flags|=134217728)):(typeof A.componentDidMount==="function"&&(Y.flags|=4194308),(Y.mode&W7)!==d0&&(Y.flags|=134217728),Y.memoizedProps=U,Y.memoizedState=t),A.props=U,A.state=t,A.context=B,A=O):(typeof A.componentDidMount==="function"&&(Y.flags|=4194308),(Y.mode&W7)!==d0&&(Y.flags|=134217728),A=!1)}else{A=Y.stateNode,mD(K,Y),B=Y.memoizedProps,w=S2(q,B),A.props=w,G=Y.pendingProps,p=A.context,t=q.contextType,O=a8,typeof t==="object"&&t!==null&&(O=s0(t)),u=q.getDerivedStateFromProps,(t=typeof u==="function"||typeof A.getSnapshotBeforeUpdate==="function")||typeof A.UNSAFE_componentWillReceiveProps!=="function"&&typeof A.componentWillReceiveProps!=="function"||(B!==G||p!==O)&&FI(Y,A,U,O),r8=!1,p=Y.memoizedState,A.state=p,eZ(Y,U,A,N),tZ();var e=Y.memoizedState;B!==G||p!==e||r8||K!==null&&K.dependencies!==null&&vW(K.dependencies)?(typeof u==="function"&&(AC(Y,q,u,U),e=Y.memoizedState),(w=r8||HI(Y,q,w,U,p,e,O)||K!==null&&K.dependencies!==null&&vW(K.dependencies))?(t||typeof A.UNSAFE_componentWillUpdate!=="function"&&typeof A.componentWillUpdate!=="function"||(typeof A.componentWillUpdate==="function"&&A.componentWillUpdate(U,e,O),typeof A.UNSAFE_componentWillUpdate==="function"&&A.UNSAFE_componentWillUpdate(U,e,O)),typeof A.componentDidUpdate==="function"&&(Y.flags|=4),typeof A.getSnapshotBeforeUpdate==="function"&&(Y.flags|=1024)):(typeof A.componentDidUpdate!=="function"||B===K.memoizedProps&&p===K.memoizedState||(Y.flags|=4),typeof A.getSnapshotBeforeUpdate!=="function"||B===K.memoizedProps&&p===K.memoizedState||(Y.flags|=1024),Y.memoizedProps=U,Y.memoizedState=e),A.props=U,A.state=e,A.context=O,A=w):(typeof A.componentDidUpdate!=="function"||B===K.memoizedProps&&p===K.memoizedState||(Y.flags|=4),typeof A.getSnapshotBeforeUpdate!=="function"||B===K.memoizedProps&&p===K.memoizedState||(Y.flags|=1024),A=!1)}if(O=A,Zq(K,Y),B=(Y.flags&128)!==0,O||B){if(O=Y.stateNode,VD(Y),B&&typeof q.getDerivedStateFromError!=="function")q=null,j6=-1;else{if(V4(Y),q=Pj(O),Y.mode&Q6){k0(!0);try{Pj(O)}finally{k0(!1)}}$7()}Y.flags|=1,K!==null&&B?(Y.child=cQ(Y,K.child,null,N),Y.child=cQ(Y,null,q,N)):l5(K,Y,q,N),Y.memoizedState=O.state,K=Y.child}else K=y3(K,Y,N);return N=Y.stateNode,A&&N.props!==U&&(pQ||console.error("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",Q1(Y)||"a component"),pQ=!0),K}function PI(K,Y,q,U){return iZ(),Y.flags|=256,l5(K,Y,q,U),Y.child}function kC(K,Y){Y&&Y.childContextTypes&&console.error(`childContextTypes cannot be defined on a function component.
  %s.childContextTypes = ...`,Y.displayName||Y.name||"Component"),typeof Y.getDerivedStateFromProps==="function"&&(K=Y1(Y)||"Unknown",tj[K]||(console.error("%s: Function components do not support getDerivedStateFromProps.",K),tj[K]=!0)),typeof Y.contextType==="object"&&Y.contextType!==null&&(Y=Y1(Y)||"Unknown",aj[Y]||(console.error("%s: Function components do not support contextType.",Y),aj[Y]=!0))}function PC(K){return{baseLanes:K,cachePool:ST()}}function MC(K,Y,q){return K=K!==null?K.childLanes&~q:0,Y&&(K|=$4),K}function MI(K,Y,q){var U,N=Y.pendingProps;W(Y)&&(Y.flags|=128);var A=!1,B=(Y.flags&128)!==0;if((U=B)||(U=K!==null&&K.memoizedState===null?!1:(L5.current&dK)!==0),U&&(A=!0,Y.flags&=-129),U=(Y.flags&32)!==0,Y.flags&=-33,K===null){if(z0){if(A?f8(Y):m8(Y),z0){var O=Z5,w;if(!(w=!O)){$:{var G=O;for(w=n7;G.nodeType!==8;){if(!w){w=null;break $}if(G=z4(G.nextSibling),G===null){w=null;break $}}w=G}w!==null?(z2(),Y.memoizedState={dehydrated:w,treeContext:E2!==null?{id:u3,overflow:i3}:null,retryLane:536870912,hydrationErrors:null},G=R(18,null,null,d0),G.stateNode=w,G.return=Y,Y.child=G,V6=Y,Z5=null,w=!0):w=!1,w=!w}w&&(hD(Y,O),R2(Y))}if(O=Y.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return JA(O)?Y.lanes=32:Y.lanes=536870912,null;g3(Y)}if(O=N.children,N=N.fallback,A)return m8(Y),A=Y.mode,O=Kq({mode:"hidden",children:O},A),N=C2(N,A,q,null),O.return=Y,N.return=Y,O.sibling=N,Y.child=O,A=Y.child,A.memoizedState=PC(q),A.childLanes=MC(K,U,q),Y.memoizedState=Wz,N;return f8(Y),wC(Y,O)}var u=K.memoizedState;if(u!==null&&(O=u.dehydrated,O!==null)){if(B)Y.flags&256?(f8(Y),Y.flags&=-257,Y=SC(K,Y,q)):Y.memoizedState!==null?(m8(Y),Y.child=K.child,Y.flags|=128,Y=null):(m8(Y),A=N.fallback,O=Y.mode,N=Kq({mode:"visible",children:N.children},O),A=C2(A,O,q,null),A.flags|=2,N.return=Y,A.return=Y,N.sibling=A,Y.child=N,cQ(Y,K.child,null,q),N=Y.child,N.memoizedState=PC(q),N.childLanes=MC(K,U,q),Y.memoizedState=Wz,Y=A);else if(f8(Y),z0&&console.error("We should not be hydrating here. This is a bug in React. Please file a bug."),JA(O)){if(U=O.nextSibling&&O.nextSibling.dataset,U){w=U.dgst;var t=U.msg;G=U.stck;var p=U.cstck}O=t,U=w,N=G,w=A=p,A=O?Error(O):Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."),A.stack=N||"",A.digest=U,U=w===void 0?null:w,N={value:A,source:null,stack:U},typeof U==="string"&&cA.set(A,N),nZ(N),Y=SC(K,Y,q)}else if(_5||sZ(K,Y,q,!1),U=(q&K.childLanes)!==0,_5||U){if(U=x0,U!==null&&(N=q&-q,N=(N&42)!==0?1:e$(N),N=(N&(U.suspendedLanes|q))!==0?0:N,N!==0&&N!==u.retryLane))throw u.retryLane=N,T6(K,N),z5(U,K,N),sj;O.data===t3||bC(),Y=SC(K,Y,q)}else O.data===t3?(Y.flags|=192,Y.child=K.child,Y=null):(K=u.treeContext,Z5=z4(O.nextSibling),V6=Y,z0=!0,j2=null,n3=!1,P4=null,n7=!1,K!==null&&(z2(),O4[k4++]=u3,O4[k4++]=i3,O4[k4++]=E2,u3=K.id,i3=K.overflow,E2=Y),Y=wC(Y,N.children),Y.flags|=4096);return Y}if(A)return m8(Y),A=N.fallback,O=Y.mode,w=K.child,G=w.sibling,N=v3(w,{mode:"hidden",children:N.children}),N.subtreeFlags=w.subtreeFlags&65011712,G!==null?A=v3(G,A):(A=C2(A,O,q,null),A.flags|=2),A.return=Y,N.return=Y,N.sibling=A,Y.child=N,N=A,A=Y.child,O=K.child.memoizedState,O===null?O=PC(q):(w=O.cachePool,w!==null?(G=E5._currentValue,w=w.parent!==G?{parent:G,pool:G}:w):w=ST(),O={baseLanes:O.baseLanes|q,cachePool:w}),A.memoizedState=O,A.childLanes=MC(K,U,q),Y.memoizedState=Wz,N;return f8(Y),q=K.child,K=q.sibling,q=v3(q,{mode:"visible",children:N.children}),q.return=Y,q.sibling=null,K!==null&&(U=Y.deletions,U===null?(Y.deletions=[K],Y.flags|=16):U.push(K)),Y.child=q,Y.memoizedState=null,q}function wC(K,Y){return Y=Kq({mode:"visible",children:Y},K.mode),Y.return=K,K.child=Y}function Kq(K,Y){return K=R(22,K,null,Y),K.lanes=0,K.stateNode={_visibility:hq,_pendingMarkers:null,_retryCache:null,_transitions:null},K}function SC(K,Y,q){return cQ(Y,K.child,null,q),K=wC(Y,Y.pendingProps.children),K.flags|=2,Y.memoizedState=null,K}function wI(K,Y,q){K.lanes|=Y;var U=K.alternate;U!==null&&(U.lanes|=Y),vD(K.return,Y,q)}function SI(K,Y){var q=u5(K);return K=!q&&typeof J1(K)==="function",q||K?(q=q?"array":"iterable",console.error("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",q,Y,q),!1):!0}function TC(K,Y,q,U,N){var A=K.memoizedState;A===null?K.memoizedState={isBackwards:Y,rendering:null,renderingStartTime:0,last:U,tail:q,tailMode:N}:(A.isBackwards=Y,A.rendering=null,A.renderingStartTime=0,A.last=U,A.tail=q,A.tailMode=N)}function TI(K,Y,q){var U=Y.pendingProps,N=U.revealOrder,A=U.tail;if(U=U.children,N!==void 0&&N!=="forwards"&&N!=="backwards"&&N!=="together"&&!ej[N])if(ej[N]=!0,typeof N==="string")switch(N.toLowerCase()){case"together":case"forwards":case"backwards":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',N,N.toLowerCase());break;case"forward":case"backward":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',N,N.toLowerCase());break;default:console.error('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',N)}else console.error('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',N);A===void 0||Yz[A]||(A!=="collapsed"&&A!=="hidden"?(Yz[A]=!0,console.error('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',A)):N!=="forwards"&&N!=="backwards"&&(Yz[A]=!0,console.error('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',A)));$:if((N==="forwards"||N==="backwards")&&U!==void 0&&U!==null&&U!==!1)if(u5(U)){for(var B=0;B<U.length;B++)if(!SI(U[B],B))break $}else if(B=J1(U),typeof B==="function"){if(B=B.call(U))for(var O=B.next(),w=0;!O.done;O=B.next()){if(!SI(O.value,w))break $;w++}}else console.error('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',N);if(l5(K,Y,U,q),U=L5.current,(U&dK)!==0)U=U&dQ|dK,Y.flags|=128;else{if(K!==null&&(K.flags&128)!==0)$:for(K=Y.child;K!==null;){if(K.tag===13)K.memoizedState!==null&&wI(K,q,Y);else if(K.tag===19)wI(K,q,Y);else if(K.child!==null){K.child.return=K,K=K.child;continue}if(K===Y)break $;for(;K.sibling===null;){if(K.return===null||K.return===Y)break $;K=K.return}K.sibling.return=K.return,K=K.sibling}U&=dQ}switch(C1(L5,U,Y),N){case"forwards":q=Y.child;for(N=null;q!==null;)K=q.alternate,K!==null&&Qq(K)===null&&(N=q),q=q.sibling;q=N,q===null?(N=Y.child,Y.child=null):(N=q.sibling,q.sibling=null),TC(Y,!1,N,q,A);break;case"backwards":q=null,N=Y.child;for(Y.child=null;N!==null;){if(K=N.alternate,K!==null&&Qq(K)===null){Y.child=N;break}K=N.sibling,N.sibling=q,q=N,N=K}TC(Y,!0,q,null,A);break;case"together":TC(Y,!1,null,null,void 0);break;default:Y.memoizedState=null}return Y.child}function y3(K,Y,q){if(K!==null&&(Y.dependencies=K.dependencies),j6=-1,Q9|=Y.lanes,(q&Y.childLanes)===0)if(K!==null){if(sZ(K,Y,q,!1),(q&Y.childLanes)===0)return null}else return null;if(K!==null&&Y.child!==K.child)throw Error("Resuming work not yet implemented.");if(Y.child!==null){K=Y.child,q=v3(K,K.pendingProps),Y.child=q;for(q.return=Y;K.sibling!==null;)K=K.sibling,q=q.sibling=v3(K,K.pendingProps),q.return=Y;q.sibling=null}return Y.child}function IC(K,Y){if((K.lanes&Y)!==0)return!0;return K=K.dependencies,K!==null&&vW(K)?!0:!1}function Pt(K,Y,q){switch(Y.tag){case 3:x1(Y,Y.stateNode.containerInfo),x8(Y,E5,K.memoizedState.cache),iZ();break;case 27:case 5:I1(Y);break;case 4:x1(Y,Y.stateNode.containerInfo);break;case 10:x8(Y,Y.type,Y.memoizedProps.value);break;case 12:(q&Y.childLanes)!==0&&(Y.flags|=4),Y.flags|=2048;var U=Y.stateNode;U.effectDuration=-0,U.passiveEffectDuration=-0;break;case 13:if(U=Y.memoizedState,U!==null){if(U.dehydrated!==null)return f8(Y),Y.flags|=128,null;if((q&Y.child.childLanes)!==0)return MI(K,Y,q);return f8(Y),K=y3(K,Y,q),K!==null?K.sibling:null}f8(Y);break;case 19:var N=(K.flags&128)!==0;if(U=(q&Y.childLanes)!==0,U||(sZ(K,Y,q,!1),U=(q&Y.childLanes)!==0),N){if(U)return TI(K,Y,q);Y.flags|=128}if(N=Y.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),C1(L5,L5.current,Y),U)break;else return null;case 22:case 23:return Y.lanes=0,BI(K,Y,q);case 24:x8(Y,E5,K.memoizedState.cache)}return y3(K,Y,q)}function GC(K,Y,q){if(Y._debugNeedsRemount&&K!==null){q=ID(Y.type,Y.key,Y.pendingProps,Y._debugOwner||null,Y.mode,Y.lanes),q._debugStack=Y._debugStack,q._debugTask=Y._debugTask;var U=Y.return;if(U===null)throw Error("Cannot swap the root fiber.");if(K.alternate=null,Y.alternate=null,q.index=Y.index,q.sibling=Y.sibling,q.return=Y.return,q.ref=Y.ref,q._debugInfo=Y._debugInfo,Y===U.child)U.child=q;else{var N=U.child;if(N===null)throw Error("Expected parent to have a child.");for(;N.sibling!==Y;)if(N=N.sibling,N===null)throw Error("Expected to find the previous sibling.");N.sibling=q}return Y=U.deletions,Y===null?(U.deletions=[K],U.flags|=16):Y.push(K),q.flags|=2,q}if(K!==null)if(K.memoizedProps!==Y.pendingProps||Y.type!==K.type)_5=!0;else{if(!IC(K,q)&&(Y.flags&128)===0)return _5=!1,Pt(K,Y,q);_5=(K.flags&131072)!==0?!0:!1}else{if(_5=!1,U=z0)z2(),U=(Y.flags&1048576)!==0;U&&(U=Y.index,z2(),zT(Y,_q,U))}switch(Y.lanes=0,Y.tag){case 16:$:if(U=Y.pendingProps,K=e8(Y.elementType),Y.type=K,typeof K==="function")TD(K)?(U=S2(K,U),Y.tag=1,Y.type=K=D2(K),Y=kI(null,Y,K,U,q)):(Y.tag=0,kC(Y,K),Y.type=K=D2(K),Y=OC(null,Y,K,U,q));else{if(K!==void 0&&K!==null){if(N=K.$$typeof,N===BK){Y.tag=11,Y.type=K=wD(K),Y=CI(null,Y,K,U,q);break $}else if(N===kq){Y.tag=14,Y=AI(null,Y,K,U,q);break $}}throw Y="",K!==null&&typeof K==="object"&&K.$$typeof===o6&&(Y=" Did you wrap a component in React.lazy() more than once?"),K=Y1(K)||K,Error("Element type is invalid. Received a promise that resolves to: "+K+". Lazy element type must resolve to a class or function."+Y)}return Y;case 0:return OC(K,Y,Y.type,Y.pendingProps,q);case 1:return U=Y.type,N=S2(U,Y.pendingProps),kI(K,Y,U,N,q);case 3:$:{if(x1(Y,Y.stateNode.containerInfo),K===null)throw Error("Should have a current fiber. This is a bug in React.");U=Y.pendingProps;var A=Y.memoizedState;N=A.element,mD(K,Y),eZ(Y,U,null,q);var B=Y.memoizedState;if(U=B.cache,x8(Y,E5,U),U!==A.cache&&_D(Y,[E5],q,!0),tZ(),U=B.element,A.isDehydrated)if(A={element:U,isDehydrated:!1,cache:B.cache},Y.updateQueue.baseState=A,Y.memoizedState=A,Y.flags&256){Y=PI(K,Y,U,q);break $}else if(U!==N){N=u6(Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),Y),nZ(N),Y=PI(K,Y,U,q);break $}else{switch(K=Y.stateNode.containerInfo,K.nodeType){case 9:K=K.body;break;default:K=K.nodeName==="HTML"?K.ownerDocument.body:K}Z5=z4(K.firstChild),V6=Y,z0=!0,j2=null,n3=!1,P4=null,n7=!0,K=gj(Y,null,U,q);for(Y.child=K;K;)K.flags=K.flags&-3|4096,K=K.sibling}else{if(iZ(),U===N){Y=y3(K,Y,q);break $}l5(K,Y,U,q)}Y=Y.child}return Y;case 26:return Zq(K,Y),K===null?(K=uG(Y.type,null,Y.pendingProps,null))?Y.memoizedState=K:z0||(K=Y.type,q=Y.pendingProps,U=O1(i8.current),U=Vq(U).createElement(K),U[$6]=Y,U[E6]=q,p5(U,K,q),V1(U),Y.stateNode=U):Y.memoizedState=uG(Y.type,K.memoizedProps,Y.pendingProps,K.memoizedState),null;case 27:return I1(Y),K===null&&z0&&(U=O1(i8.current),N=T1(),U=Y.stateNode=lG(Y.type,Y.pendingProps,U,N,!1),n3||(N=_G(U,Y.type,Y.pendingProps,N),N!==null&&(B2(Y,0).serverProps=N)),V6=Y,n7=!0,N=Z5,l8(Y.type)?(jz=N,Z5=z4(U.firstChild)):Z5=N),l5(K,Y,Y.pendingProps.children,q),Zq(K,Y),K===null&&(Y.flags|=4194304),Y.child;case 5:return K===null&&z0&&(A=T1(),U=RD(Y.type,A.ancestorInfo),N=Z5,(B=!N)||(B=Xe(N,Y.type,Y.pendingProps,n7),B!==null?(Y.stateNode=B,n3||(A=_G(B,Y.type,Y.pendingProps,A),A!==null&&(B2(Y,0).serverProps=A)),V6=Y,Z5=z4(B.firstChild),n7=!1,A=!0):A=!1,B=!A),B&&(U&&hD(Y,N),R2(Y))),I1(Y),N=Y.type,A=Y.pendingProps,B=K!==null?K.memoizedProps:null,U=A.children,$A(N,A)?U=null:B!==null&&$A(N,B)&&(Y.flags|=32),Y.memoizedState!==null&&(N=pD(K,Y,At,null,null,q),ZX._currentValue=N),Zq(K,Y),l5(K,Y,U,q),Y.child;case 6:return K===null&&z0&&(K=Y.pendingProps,q=T1(),U=q.ancestorInfo.current,K=U!=null?wW(K,U.tag,q.ancestorInfo.implicitRootScope):!0,q=Z5,(U=!q)||(U=Ye(q,Y.pendingProps,n7),U!==null?(Y.stateNode=U,V6=Y,Z5=null,U=!0):U=!1,U=!U),U&&(K&&hD(Y,q),R2(Y))),null;case 13:return MI(K,Y,q);case 4:return x1(Y,Y.stateNode.containerInfo),U=Y.pendingProps,K===null?Y.child=cQ(Y,null,U,q):l5(K,Y,U,q),Y.child;case 11:return CI(K,Y,Y.type,Y.pendingProps,q);case 7:return l5(K,Y,Y.pendingProps,q),Y.child;case 8:return l5(K,Y,Y.pendingProps.children,q),Y.child;case 12:return Y.flags|=4,Y.flags|=2048,U=Y.stateNode,U.effectDuration=-0,U.passiveEffectDuration=-0,l5(K,Y,Y.pendingProps.children,q),Y.child;case 10:return U=Y.type,N=Y.pendingProps,A=N.value,"value"in N||$L||($L=!0,console.error("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?")),x8(Y,U,A),l5(K,Y,N.children,q),Y.child;case 9:return N=Y.type._context,U=Y.pendingProps.children,typeof U!=="function"&&console.error("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),O2(Y),N=s0(N),V4(Y),U=$z(U,N,void 0),$7(),Y.flags|=1,l5(K,Y,U,q),Y.child;case 14:return AI(K,Y,Y.type,Y.pendingProps,q);case 15:return zI(K,Y,Y.type,Y.pendingProps,q);case 19:return TI(K,Y,q);case 31:return U=Y.pendingProps,q=Y.mode,U={mode:U.mode,children:U.children},K===null?(K=Kq(U,q),K.ref=Y.ref,Y.child=K,K.return=Y,Y=K):(K=v3(K.child,U),K.ref=Y.ref,Y.child=K,K.return=Y,Y=K),Y;case 22:return BI(K,Y,q);case 24:return O2(Y),U=s0(E5),K===null?(N=bD(),N===null&&(N=x0,A=xD(),N.pooledCache=A,k2(A),A!==null&&(N.pooledCacheLanes|=q),N=A),Y.memoizedState={parent:U,cache:N},fD(Y),x8(Y,E5,N)):((K.lanes&q)!==0&&(mD(K,Y),eZ(Y,null,null,q),tZ()),N=K.memoizedState,A=Y.memoizedState,N.parent!==U?(N={parent:U,cache:U},Y.memoizedState=N,Y.lanes===0&&(Y.memoizedState=Y.updateQueue.baseState=N),x8(Y,E5,U)):(U=A.cache,x8(Y,E5,U),U!==N.cache&&_D(Y,[E5],q,!0))),l5(K,Y,Y.pendingProps.children,q),Y.child;case 29:throw Y.pendingProps}throw Error("Unknown unit of work tag ("+Y.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function b3(K){K.flags|=4}function II(K,Y){if(Y.type!=="stylesheet"||(Y.state.loading&I4)!==u2)K.flags&=-16777217;else if(K.flags|=16777216,!aG(Y)){if(Y=T4.current,Y!==null&&((q0&4194048)===q0?o7!==null:(q0&62914560)!==q0&&(q0&536870912)===0||Y!==o7))throw bK=nA,Fj;K.flags|=8192}}function Xq(K,Y){Y!==null&&(K.flags|=4),K.flags&16384&&(Y=K.tag!==22?_Z():536870912,K.lanes|=Y,f2|=Y)}function KK(K,Y){if(!z0)switch(K.tailMode){case"hidden":Y=K.tail;for(var q=null;Y!==null;)Y.alternate!==null&&(q=Y),Y=Y.sibling;q===null?K.tail=null:q.sibling=null;break;case"collapsed":q=K.tail;for(var U=null;q!==null;)q.alternate!==null&&(U=q),q=q.sibling;U===null?Y||K.tail===null?K.tail=null:K.tail.sibling=null:U.sibling=null}}function o0(K){var Y=K.alternate!==null&&K.alternate.child===K.child,q=0,U=0;if(Y)if((K.mode&i5)!==d0){for(var{selfBaseDuration:N,child:A}=K;A!==null;)q|=A.lanes|A.childLanes,U|=A.subtreeFlags&65011712,U|=A.flags&65011712,N+=A.treeBaseDuration,A=A.sibling;K.treeBaseDuration=N}else for(N=K.child;N!==null;)q|=N.lanes|N.childLanes,U|=N.subtreeFlags&65011712,U|=N.flags&65011712,N.return=K,N=N.sibling;else if((K.mode&i5)!==d0){N=K.actualDuration,A=K.selfBaseDuration;for(var B=K.child;B!==null;)q|=B.lanes|B.childLanes,U|=B.subtreeFlags,U|=B.flags,N+=B.actualDuration,A+=B.treeBaseDuration,B=B.sibling;K.actualDuration=N,K.treeBaseDuration=A}else for(N=K.child;N!==null;)q|=N.lanes|N.childLanes,U|=N.subtreeFlags,U|=N.flags,N.return=K,N=N.sibling;return K.subtreeFlags|=U,K.childLanes=q,Y}function Mt(K,Y,q){var U=Y.pendingProps;switch(LD(Y),Y.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return o0(Y),null;case 1:return o0(Y),null;case 3:if(q=Y.stateNode,U=null,K!==null&&(U=K.memoizedState.cache),Y.memoizedState.cache!==U&&(Y.flags|=2048),_3(E5,Y),U1(Y),q.pendingContext&&(q.context=q.pendingContext,q.pendingContext=null),K===null||K.child===null)uZ(Y)?(kT(),b3(Y)):K===null||K.memoizedState.isDehydrated&&(Y.flags&256)===0||(Y.flags|=1024,OT());return o0(Y),null;case 26:return q=Y.memoizedState,K===null?(b3(Y),q!==null?(o0(Y),II(Y,q)):(o0(Y),Y.flags&=-16777217)):q?q!==K.memoizedState?(b3(Y),o0(Y),II(Y,q)):(o0(Y),Y.flags&=-16777217):(K.memoizedProps!==U&&b3(Y),o0(Y),Y.flags&=-16777217),null;case 27:V0(Y),q=O1(i8.current);var N=Y.type;if(K!==null&&Y.stateNode!=null)K.memoizedProps!==U&&b3(Y);else{if(!U){if(Y.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return o0(Y),null}K=T1(),uZ(Y)?BT(Y,K):(K=lG(N,U,q,K,!0),Y.stateNode=K,b3(Y))}return o0(Y),null;case 5:if(V0(Y),q=Y.type,K!==null&&Y.stateNode!=null)K.memoizedProps!==U&&b3(Y);else{if(!U){if(Y.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return o0(Y),null}if(N=T1(),uZ(Y))BT(Y,N);else{switch(K=O1(i8.current),RD(q,N.ancestorInfo),N=N.context,K=Vq(K),N){case eQ:K=K.createElementNS(PQ,q);break;case WH:K=K.createElementNS(Iq,q);break;default:switch(q){case"svg":K=K.createElementNS(PQ,q);break;case"math":K=K.createElementNS(Iq,q);break;case"script":K=K.createElement("div"),K.innerHTML="<script></script>",K=K.removeChild(K.firstChild);break;case"select":K=typeof U.is==="string"?K.createElement("select",{is:U.is}):K.createElement("select"),U.multiple?K.multiple=!0:U.size&&(K.size=U.size);break;default:K=typeof U.is==="string"?K.createElement(q,{is:U.is}):K.createElement(q),q.indexOf("-")===-1&&(q!==q.toLowerCase()&&console.error("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",q),Object.prototype.toString.call(K)!=="[object HTMLUnknownElement]"||l3.call(RL,q)||(RL[q]=!0,console.error("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",q)))}}K[$6]=Y,K[E6]=U;$:for(N=Y.child;N!==null;){if(N.tag===5||N.tag===6)K.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===Y)break $;for(;N.sibling===null;){if(N.return===null||N.return===Y)break $;N=N.return}N.sibling.return=N.return,N=N.sibling}Y.stateNode=K;$:switch(p5(K,q,U),q){case"button":case"input":case"select":case"textarea":K=!!U.autoFocus;break $;case"img":K=!0;break $;default:K=!1}K&&b3(Y)}}return o0(Y),Y.flags&=-16777217,null;case 6:if(K&&Y.stateNode!=null)K.memoizedProps!==U&&b3(Y);else{if(typeof U!=="string"&&Y.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");if(K=O1(i8.current),q=T1(),uZ(Y)){K=Y.stateNode,q=Y.memoizedProps,N=!n3,U=null;var A=V6;if(A!==null)switch(A.tag){case 3:N&&(N=mG(K,q,U),N!==null&&(B2(Y,0).serverProps=N));break;case 27:case 5:U=A.memoizedProps,N&&(N=mG(K,q,U),N!==null&&(B2(Y,0).serverProps=N))}K[$6]=Y,K=K.nodeValue===q||U!==null&&U.suppressHydrationWarning===!0||EG(K.nodeValue,q)?!0:!1,K||R2(Y)}else N=q.ancestorInfo.current,N!=null&&wW(U,N.tag,q.ancestorInfo.implicitRootScope),K=Vq(K).createTextNode(U),K[$6]=Y,Y.stateNode=K}return o0(Y),null;case 13:if(U=Y.memoizedState,K===null||K.memoizedState!==null&&K.memoizedState.dehydrated!==null){if(N=uZ(Y),U!==null&&U.dehydrated!==null){if(K===null){if(!N)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(N=Y.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");N[$6]=Y,o0(Y),(Y.mode&i5)!==d0&&U!==null&&(N=Y.child,N!==null&&(Y.treeBaseDuration-=N.treeBaseDuration))}else kT(),iZ(),(Y.flags&128)===0&&(Y.memoizedState=null),Y.flags|=4,o0(Y),(Y.mode&i5)!==d0&&U!==null&&(N=Y.child,N!==null&&(Y.treeBaseDuration-=N.treeBaseDuration));N=!1}else N=OT(),K!==null&&K.memoizedState!==null&&(K.memoizedState.hydrationErrors=N),N=!0;if(!N){if(Y.flags&256)return g3(Y),Y;return g3(Y),null}}if(g3(Y),(Y.flags&128)!==0)return Y.lanes=q,(Y.mode&i5)!==d0&&gW(Y),Y;return q=U!==null,K=K!==null&&K.memoizedState!==null,q&&(U=Y.child,N=null,U.alternate!==null&&U.alternate.memoizedState!==null&&U.alternate.memoizedState.cachePool!==null&&(N=U.alternate.memoizedState.cachePool.pool),A=null,U.memoizedState!==null&&U.memoizedState.cachePool!==null&&(A=U.memoizedState.cachePool.pool),A!==N&&(U.flags|=2048)),q!==K&&q&&(Y.child.flags|=8192),Xq(Y,Y.updateQueue),o0(Y),(Y.mode&i5)!==d0&&q&&(K=Y.child,K!==null&&(Y.treeBaseDuration-=K.treeBaseDuration)),null;case 4:return U1(Y),K===null&&nC(Y.stateNode.containerInfo),o0(Y),null;case 10:return _3(Y.type,Y),o0(Y),null;case 19:if(R1(L5,Y),N=Y.memoizedState,N===null)return o0(Y),null;if(U=(Y.flags&128)!==0,A=N.rendering,A===null)if(U)KK(N,!1);else{if(K5!==r3||K!==null&&(K.flags&128)!==0)for(K=Y.child;K!==null;){if(A=Qq(K),A!==null){Y.flags|=128,KK(N,!1),K=A.updateQueue,Y.updateQueue=K,Xq(Y,K),Y.subtreeFlags=0,K=q;for(q=Y.child;q!==null;)AT(q,K),q=q.sibling;return C1(L5,L5.current&dQ|dK,Y),Y.child}K=K.sibling}N.tail!==null&&d7()>oq&&(Y.flags|=128,U=!0,KK(N,!1),Y.lanes=4194304)}else{if(!U)if(K=Qq(A),K!==null){if(Y.flags|=128,U=!0,K=K.updateQueue,Y.updateQueue=K,Xq(Y,K),KK(N,!0),N.tail===null&&N.tailMode==="hidden"&&!A.alternate&&!z0)return o0(Y),null}else 2*d7()-N.renderingStartTime>oq&&q!==536870912&&(Y.flags|=128,U=!0,KK(N,!1),Y.lanes=4194304);N.isBackwards?(A.sibling=Y.child,Y.child=A):(K=N.last,K!==null?K.sibling=A:Y.child=A,N.last=A)}if(N.tail!==null)return K=N.tail,N.rendering=K,N.tail=K.sibling,N.renderingStartTime=d7(),K.sibling=null,q=L5.current,q=U?q&dQ|dK:q&dQ,C1(L5,q,Y),K;return o0(Y),null;case 22:case 23:return g3(Y),dD(Y),U=Y.memoizedState!==null,K!==null?K.memoizedState!==null!==U&&(Y.flags|=8192):U&&(Y.flags|=8192),U?(q&536870912)!==0&&(Y.flags&128)===0&&(o0(Y),Y.subtreeFlags&6&&(Y.flags|=8192)):o0(Y),q=Y.updateQueue,q!==null&&Xq(Y,q.retryQueue),q=null,K!==null&&K.memoizedState!==null&&K.memoizedState.cachePool!==null&&(q=K.memoizedState.cachePool.pool),U=null,Y.memoizedState!==null&&Y.memoizedState.cachePool!==null&&(U=Y.memoizedState.cachePool.pool),U!==q&&(Y.flags|=2048),K!==null&&R1(v2,Y),null;case 24:return q=null,K!==null&&(q=K.memoizedState.cache),Y.memoizedState.cache!==q&&(Y.flags|=2048),_3(E5,Y),o0(Y),null;case 25:return null;case 30:return null}throw Error("Unknown unit of work tag ("+Y.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function wt(K,Y){switch(LD(Y),Y.tag){case 1:return K=Y.flags,K&65536?(Y.flags=K&-65537|128,(Y.mode&i5)!==d0&&gW(Y),Y):null;case 3:return _3(E5,Y),U1(Y),K=Y.flags,(K&65536)!==0&&(K&128)===0?(Y.flags=K&-65537|128,Y):null;case 26:case 27:case 5:return V0(Y),null;case 13:if(g3(Y),K=Y.memoizedState,K!==null&&K.dehydrated!==null){if(Y.alternate===null)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");iZ()}return K=Y.flags,K&65536?(Y.flags=K&-65537|128,(Y.mode&i5)!==d0&&gW(Y),Y):null;case 19:return R1(L5,Y),null;case 4:return U1(Y),null;case 10:return _3(Y.type,Y),null;case 22:case 23:return g3(Y),dD(Y),K!==null&&R1(v2,Y),K=Y.flags,K&65536?(Y.flags=K&-65537|128,(Y.mode&i5)!==d0&&gW(Y),Y):null;case 24:return _3(E5,Y),null;case 25:return null;default:return null}}function GI(K,Y){switch(LD(Y),Y.tag){case 3:_3(E5,Y),U1(Y);break;case 26:case 27:case 5:V0(Y);break;case 4:U1(Y);break;case 13:g3(Y);break;case 19:R1(L5,Y);break;case 10:_3(Y.type,Y);break;case 22:case 23:g3(Y),dD(Y),K!==null&&R1(v2,Y);break;case 24:_3(E5,Y)}}function g7(K){return(K.mode&i5)!==d0}function EI(K,Y){g7(K)?(x7(),XK(Y,K),_7()):XK(Y,K)}function EC(K,Y,q){g7(K)?(x7(),qQ(q,K,Y),_7()):qQ(q,K,Y)}function XK(K,Y){try{var q=Y.updateQueue,U=q!==null?q.lastEffect:null;if(U!==null){var N=U.next;q=N;do{if((q.tag&K)===K&&((K&j5)!==M4?B1!==null&&typeof B1.markComponentPassiveEffectMountStarted==="function"&&B1.markComponentPassiveEffectMountStarted(Y):(K&n5)!==M4&&B1!==null&&typeof B1.markComponentLayoutEffectMountStarted==="function"&&B1.markComponentLayoutEffectMountStarted(Y),U=void 0,(K&N6)!==M4&&(rQ=!0),U=w1(Y,d11,q),(K&N6)!==M4&&(rQ=!1),(K&j5)!==M4?B1!==null&&typeof B1.markComponentPassiveEffectMountStopped==="function"&&B1.markComponentPassiveEffectMountStopped():(K&n5)!==M4&&B1!==null&&typeof B1.markComponentLayoutEffectMountStopped==="function"&&B1.markComponentLayoutEffectMountStopped(),U!==void 0&&typeof U!=="function")){var A=void 0;A=(q.tag&n5)!==0?"useLayoutEffect":(q.tag&N6)!==0?"useInsertionEffect":"useEffect";var B=void 0;B=U===null?" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof U.then==="function"?`

It looks like you wrote `+A+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+A+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://react.dev/link/hooks-data-fetching`:" You returned: "+U,w1(Y,function(O,w){console.error("%s must not return anything besides a function, which is used for clean-up.%s",O,w)},A,B)}q=q.next}while(q!==N)}}catch(O){L0(Y,Y.return,O)}}function qQ(K,Y,q){try{var U=Y.updateQueue,N=U!==null?U.lastEffect:null;if(N!==null){var A=N.next;U=A;do{if((U.tag&K)===K){var B=U.inst,O=B.destroy;O!==void 0&&(B.destroy=void 0,(K&j5)!==M4?B1!==null&&typeof B1.markComponentPassiveEffectUnmountStarted==="function"&&B1.markComponentPassiveEffectUnmountStarted(Y):(K&n5)!==M4&&B1!==null&&typeof B1.markComponentLayoutEffectUnmountStarted==="function"&&B1.markComponentLayoutEffectUnmountStarted(Y),(K&N6)!==M4&&(rQ=!0),N=Y,w1(N,l11,N,q,O),(K&N6)!==M4&&(rQ=!1),(K&j5)!==M4?B1!==null&&typeof B1.markComponentPassiveEffectUnmountStopped==="function"&&B1.markComponentPassiveEffectUnmountStopped():(K&n5)!==M4&&B1!==null&&typeof B1.markComponentLayoutEffectUnmountStopped==="function"&&B1.markComponentLayoutEffectUnmountStopped())}U=U.next}while(U!==A)}}catch(w){L0(Y,Y.return,w)}}function jI(K,Y){g7(K)?(x7(),XK(Y,K),_7()):XK(Y,K)}function jC(K,Y,q){g7(K)?(x7(),qQ(q,K,Y),_7()):qQ(q,K,Y)}function LI(K){var Y=K.updateQueue;if(Y!==null){var q=K.stateNode;K.type.defaultProps||"ref"in K.memoizedProps||pQ||(q.props!==K.memoizedProps&&console.error("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Q1(K)||"instance"),q.state!==K.memoizedState&&console.error("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Q1(K)||"instance"));try{w1(K,hT,Y,q)}catch(U){L0(K,K.return,U)}}}function St(K,Y,q){return K.getSnapshotBeforeUpdate(Y,q)}function Tt(K,Y){var{memoizedProps:q,memoizedState:U}=Y;Y=K.stateNode,K.type.defaultProps||"ref"in K.memoizedProps||pQ||(Y.props!==K.memoizedProps&&console.error("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Q1(K)||"instance"),Y.state!==K.memoizedState&&console.error("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Q1(K)||"instance"));try{var N=S2(K.type,q,K.elementType===K.type),A=w1(K,St,Y,N,U);q=QL,A!==void 0||q.has(K.type)||(q.add(K.type),w1(K,function(){console.error("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",Q1(K))})),Y.__reactInternalSnapshotBeforeUpdate=A}catch(B){L0(K,K.return,B)}}function hI(K,Y,q){q.props=S2(K.type,K.memoizedProps),q.state=K.memoizedState,g7(K)?(x7(),w1(K,Gj,K,Y,q),_7()):w1(K,Gj,K,Y,q)}function It(K){var Y=K.ref;if(Y!==null){switch(K.tag){case 26:case 27:case 5:var q=K.stateNode;break;case 30:q=K.stateNode;break;default:q=K.stateNode}if(typeof Y==="function")if(g7(K))try{x7(),K.refCleanup=Y(q)}finally{_7()}else K.refCleanup=Y(q);else typeof Y==="string"?console.error("String refs are no longer supported."):Y.hasOwnProperty("current")||console.error("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",Q1(K)),Y.current=q}}function YK(K,Y){try{w1(K,It,K)}catch(q){L0(K,Y,q)}}function y7(K,Y){var{ref:q,refCleanup:U}=K;if(q!==null)if(typeof U==="function")try{if(g7(K))try{x7(),w1(K,U)}finally{_7(K)}else w1(K,U)}catch(N){L0(K,Y,N)}finally{K.refCleanup=null,K=K.alternate,K!=null&&(K.refCleanup=null)}else if(typeof q==="function")try{if(g7(K))try{x7(),w1(K,q,null)}finally{_7(K)}else w1(K,q,null)}catch(N){L0(K,Y,N)}else q.current=null}function vI(K,Y,q,U){var N=K.memoizedProps,A=N.id,B=N.onCommit;N=N.onRender,Y=Y===null?"mount":"update",yq&&(Y="nested-update"),typeof N==="function"&&N(A,Y,K.actualDuration,K.treeBaseDuration,K.actualStartTime,q),typeof B==="function"&&B(K.memoizedProps.id,Y,U,q)}function Gt(K,Y,q,U){var N=K.memoizedProps;K=N.id,N=N.onPostCommit,Y=Y===null?"mount":"update",yq&&(Y="nested-update"),typeof N==="function"&&N(K,Y,U,q)}function _I(K){var{type:Y,memoizedProps:q,stateNode:U}=K;try{w1(K,at,U,Y,q,K)}catch(N){L0(K,K.return,N)}}function LC(K,Y,q){try{w1(K,rt,K.stateNode,K.type,q,Y,K)}catch(U){L0(K,K.return,U)}}function xI(K){return K.tag===5||K.tag===3||K.tag===26||K.tag===27&&l8(K.type)||K.tag===4}function hC(K){$:for(;;){for(;K.sibling===null;){if(K.return===null||xI(K.return))return null;K=K.return}K.sibling.return=K.return;for(K=K.sibling;K.tag!==5&&K.tag!==6&&K.tag!==18;){if(K.tag===27&&l8(K.type))continue $;if(K.flags&2)continue $;if(K.child===null||K.tag===4)continue $;else K.child.return=K,K=K.child}if(!(K.flags&2))return K.stateNode}}function vC(K,Y,q){var U=K.tag;if(U===5||U===6)K=K.stateNode,Y?(q.nodeType===9?q.body:q.nodeName==="HTML"?q.ownerDocument.body:q).insertBefore(K,Y):(Y=q.nodeType===9?q.body:q.nodeName==="HTML"?q.ownerDocument.body:q,Y.appendChild(K),q=q._reactRootContainer,q!==null&&q!==void 0||Y.onclick!==null||(Y.onclick=Uq));else if(U!==4&&(U===27&&l8(K.type)&&(q=K.stateNode,Y=null),K=K.child,K!==null))for(vC(K,Y,q),K=K.sibling;K!==null;)vC(K,Y,q),K=K.sibling}function Yq(K,Y,q){var U=K.tag;if(U===5||U===6)K=K.stateNode,Y?q.insertBefore(K,Y):q.appendChild(K);else if(U!==4&&(U===27&&l8(K.type)&&(q=K.stateNode),K=K.child,K!==null))for(Yq(K,Y,q),K=K.sibling;K!==null;)Yq(K,Y,q),K=K.sibling}function Et(K){for(var Y,q=K.return;q!==null;){if(xI(q)){Y=q;break}q=q.return}if(Y==null)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");switch(Y.tag){case 27:Y=Y.stateNode,q=hC(K),Yq(K,q,Y);break;case 5:q=Y.stateNode,Y.flags&32&&(yG(q),Y.flags&=-33),Y=hC(K),Yq(K,Y,q);break;case 3:case 4:Y=Y.stateNode.containerInfo,q=hC(K),vC(K,q,Y);break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function gI(K){var{stateNode:Y,memoizedProps:q}=K;try{w1(K,Fe,K.type,q,Y,K)}catch(U){L0(K,K.return,U)}}function jt(K,Y){if(K=K.containerInfo,Iz=UH,K=UT(K),PD(K)){if("selectionStart"in K)var q={start:K.selectionStart,end:K.selectionEnd};else $:{q=(q=K.ownerDocument)&&q.defaultView||window;var U=q.getSelection&&q.getSelection();if(U&&U.rangeCount!==0){q=U.anchorNode;var{anchorOffset:N,focusNode:A}=U;U=U.focusOffset;try{q.nodeType,A.nodeType}catch(k1){q=null;break $}var B=0,O=-1,w=-1,G=0,u=0,t=K,p=null;Q:for(;;){for(var e;;){if(t!==q||N!==0&&t.nodeType!==3||(O=B+N),t!==A||U!==0&&t.nodeType!==3||(w=B+U),t.nodeType===3&&(B+=t.nodeValue.length),(e=t.firstChild)===null)break;p=t,t=e}for(;;){if(t===K)break Q;if(p===q&&++G===N&&(O=B),p===A&&++u===U&&(w=B),(e=t.nextSibling)!==null)break;t=p,p=t.parentNode}t=e}q=O===-1||w===-1?null:{start:O,end:w}}else q=null}q=q||{start:0,end:0}}else q=null;Gz={focusedElem:K,selectionRange:q},UH=!1;for(x5=Y;x5!==null;)if(Y=x5,K=Y.child,(Y.subtreeFlags&1024)!==0&&K!==null)K.return=Y,x5=K;else for(;x5!==null;){switch(K=Y=x5,q=K.alternate,N=K.flags,K.tag){case 0:break;case 11:case 15:break;case 1:(N&1024)!==0&&q!==null&&Tt(K,q);break;case 3:if((N&1024)!==0){if(K=K.stateNode.containerInfo,q=K.nodeType,q===9)QA(K);else if(q===1)switch(K.nodeName){case"HEAD":case"HTML":case"BODY":QA(K);break;default:K.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((N&1024)!==0)throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}if(K=Y.sibling,K!==null){K.return=Y.return,x5=K;break}x5=Y.return}}function yI(K,Y,q){var U=q.flags;switch(q.tag){case 0:case 11:case 15:m3(K,q),U&4&&EI(q,n5|w4);break;case 1:if(m3(K,q),U&4)if(K=q.stateNode,Y===null)q.type.defaultProps||"ref"in q.memoizedProps||pQ||(K.props!==q.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Q1(q)||"instance"),K.state!==q.memoizedState&&console.error("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Q1(q)||"instance")),g7(q)?(x7(),w1(q,Qz,q,K),_7()):w1(q,Qz,q,K);else{var N=S2(q.type,Y.memoizedProps);Y=Y.memoizedState,q.type.defaultProps||"ref"in q.memoizedProps||pQ||(K.props!==q.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Q1(q)||"instance"),K.state!==q.memoizedState&&console.error("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Q1(q)||"instance")),g7(q)?(x7(),w1(q,Sj,q,K,N,Y,K.__reactInternalSnapshotBeforeUpdate),_7()):w1(q,Sj,q,K,N,Y,K.__reactInternalSnapshotBeforeUpdate)}U&64&&LI(q),U&512&&YK(q,q.return);break;case 3:if(Y=x3(),m3(K,q),U&64&&(U=q.updateQueue,U!==null)){if(N=null,q.child!==null)switch(q.child.tag){case 27:case 5:N=q.child.stateNode;break;case 1:N=q.child.stateNode}try{w1(q,hT,U,N)}catch(B){L0(q,q.return,B)}}K.effectDuration+=xW(Y);break;case 27:Y===null&&U&4&&gI(q);case 26:case 5:m3(K,q),Y===null&&U&4&&_I(q),U&512&&YK(q,q.return);break;case 12:if(U&4){U=x3(),m3(K,q),K=q.stateNode,K.effectDuration+=aZ(U);try{w1(q,vI,q,Y,gq,K.effectDuration)}catch(B){L0(q,q.return,B)}}else m3(K,q);break;case 13:m3(K,q),U&4&&mI(K,q),U&64&&(K=q.memoizedState,K!==null&&(K=K.dehydrated,K!==null&&(q=ft.bind(null,q),We(K,q))));break;case 22:if(U=q.memoizedState!==null||a3,!U){Y=Y!==null&&Y.memoizedState!==null||B5,N=a3;var A=B5;a3=U,(B5=Y)&&!A?c3(K,q,(q.subtreeFlags&8772)!==0):m3(K,q),a3=N,B5=A}break;case 30:break;default:m3(K,q)}}function bI(K){var Y=K.alternate;Y!==null&&(K.alternate=null,bI(Y)),K.child=null,K.deletions=null,K.sibling=null,K.tag===5&&(Y=K.stateNode,Y!==null&&F2(Y)),K.stateNode=null,K._debugOwner=null,K.return=null,K.dependencies=null,K.memoizedProps=null,K.memoizedState=null,K.pendingProps=null,K.stateNode=null,K.updateQueue=null}function f3(K,Y,q){for(q=q.child;q!==null;)fI(K,Y,q),q=q.sibling}function fI(K,Y,q){if(e5&&typeof e5.onCommitFiberUnmount==="function")try{e5.onCommitFiberUnmount(OQ,q)}catch(A){l7||(l7=!0,console.error("React instrumentation encountered an error: %s",A))}switch(q.tag){case 26:B5||y7(q,Y),f3(K,Y,q),q.memoizedState?q.memoizedState.count--:q.stateNode&&(q=q.stateNode,q.parentNode.removeChild(q));break;case 27:B5||y7(q,Y);var U=M5,N=L6;l8(q.type)&&(M5=q.stateNode,L6=!1),f3(K,Y,q),w1(q,NK,q.stateNode),M5=U,L6=N;break;case 5:B5||y7(q,Y);case 6:if(U=M5,N=L6,M5=null,f3(K,Y,q),M5=U,L6=N,M5!==null)if(L6)try{w1(q,$e,M5,q.stateNode)}catch(A){L0(q,Y,A)}else try{w1(q,et,M5,q.stateNode)}catch(A){L0(q,Y,A)}break;case 18:M5!==null&&(L6?(K=M5,bG(K.nodeType===9?K.body:K.nodeName==="HTML"?K.ownerDocument.body:K,q.stateNode),zK(K)):bG(M5,q.stateNode));break;case 4:U=M5,N=L6,M5=q.stateNode.containerInfo,L6=!0,f3(K,Y,q),M5=U,L6=N;break;case 0:case 11:case 14:case 15:B5||qQ(N6,q,Y),B5||EC(q,Y,n5),f3(K,Y,q);break;case 1:B5||(y7(q,Y),U=q.stateNode,typeof U.componentWillUnmount==="function"&&hI(q,Y,U)),f3(K,Y,q);break;case 21:f3(K,Y,q);break;case 22:B5=(U=B5)||q.memoizedState!==null,f3(K,Y,q),B5=U;break;default:f3(K,Y,q)}}function mI(K,Y){if(Y.memoizedState===null&&(K=Y.alternate,K!==null&&(K=K.memoizedState,K!==null&&(K=K.dehydrated,K!==null))))try{w1(Y,He,K)}catch(q){L0(Y,Y.return,q)}}function Lt(K){switch(K.tag){case 13:case 19:var Y=K.stateNode;return Y===null&&(Y=K.stateNode=new JL),Y;case 22:return K=K.stateNode,Y=K._retryCache,Y===null&&(Y=K._retryCache=new JL),Y;default:throw Error("Unexpected Suspense handler tag ("+K.tag+"). This is a bug in React.")}}function _C(K,Y){var q=Lt(K);Y.forEach(function(U){var N=mt.bind(null,K,U);if(!q.has(U)){if(q.add(U),X7)if(uQ!==null&&iQ!==null)FK(iQ,uQ);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");U.then(N,N)}})}function i6(K,Y){var q=Y.deletions;if(q!==null)for(var U=0;U<q.length;U++){var N=K,A=Y,B=q[U],O=A;$:for(;O!==null;){switch(O.tag){case 27:if(l8(O.type)){M5=O.stateNode,L6=!1;break $}break;case 5:M5=O.stateNode,L6=!1;break $;case 3:case 4:M5=O.stateNode.containerInfo,L6=!0;break $}O=O.return}if(M5===null)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");fI(N,A,B),M5=null,L6=!1,N=B,A=N.alternate,A!==null&&(A.return=null),N.return=null}if(Y.subtreeFlags&13878)for(Y=Y.child;Y!==null;)cI(Y,K),Y=Y.sibling}function cI(K,Y){var{alternate:q,flags:U}=K;switch(K.tag){case 0:case 11:case 14:case 15:i6(Y,K),n6(K),U&4&&(qQ(N6|w4,K,K.return),XK(N6|w4,K),EC(K,K.return,n5|w4));break;case 1:i6(Y,K),n6(K),U&512&&(B5||q===null||y7(q,q.return)),U&64&&a3&&(K=K.updateQueue,K!==null&&(U=K.callbacks,U!==null&&(q=K.shared.hiddenCallbacks,K.shared.hiddenCallbacks=q===null?U:q.concat(U))));break;case 26:var N=F7;if(i6(Y,K),n6(K),U&512&&(B5||q===null||y7(q,q.return)),U&4)if(Y=q!==null?q.memoizedState:null,U=K.memoizedState,q===null)if(U===null)if(K.stateNode===null){$:{U=K.type,q=K.memoizedProps,Y=N.ownerDocument||N;Q:switch(U){case"title":if(N=Y.getElementsByTagName("title")[0],!N||N[OK]||N[$6]||N.namespaceURI===PQ||N.hasAttribute("itemprop"))N=Y.createElement(U),Y.head.insertBefore(N,Y.querySelector("head > title"));p5(N,U,q),N[$6]=K,V1(N),U=N;break $;case"link":var A=sG("link","href",Y).get(U+(q.href||""));if(A){for(var B=0;B<A.length;B++)if(N=A[B],N.getAttribute("href")===(q.href==null||q.href===""?null:q.href)&&N.getAttribute("rel")===(q.rel==null?null:q.rel)&&N.getAttribute("title")===(q.title==null?null:q.title)&&N.getAttribute("crossorigin")===(q.crossOrigin==null?null:q.crossOrigin)){A.splice(B,1);break Q}}N=Y.createElement(U),p5(N,U,q),Y.head.appendChild(N);break;case"meta":if(A=sG("meta","content",Y).get(U+(q.content||""))){for(B=0;B<A.length;B++)if(N=A[B],l1(q.content,"content"),N.getAttribute("content")===(q.content==null?null:""+q.content)&&N.getAttribute("name")===(q.name==null?null:q.name)&&N.getAttribute("property")===(q.property==null?null:q.property)&&N.getAttribute("http-equiv")===(q.httpEquiv==null?null:q.httpEquiv)&&N.getAttribute("charset")===(q.charSet==null?null:q.charSet)){A.splice(B,1);break Q}}N=Y.createElement(U),p5(N,U,q),Y.head.appendChild(N);break;default:throw Error('getNodesForType encountered a type it did not expect: "'+U+'". This is a bug in React.')}N[$6]=K,V1(N),U=N}K.stateNode=U}else oG(N,K.type,K.stateNode);else K.stateNode=nG(N,U,K.memoizedProps);else Y!==U?(Y===null?q.stateNode!==null&&(q=q.stateNode,q.parentNode.removeChild(q)):Y.count--,U===null?oG(N,K.type,K.stateNode):nG(N,U,K.memoizedProps)):U===null&&K.stateNode!==null&&LC(K,K.memoizedProps,q.memoizedProps);break;case 27:i6(Y,K),n6(K),U&512&&(B5||q===null||y7(q,q.return)),q!==null&&U&4&&LC(K,K.memoizedProps,q.memoizedProps);break;case 5:if(i6(Y,K),n6(K),U&512&&(B5||q===null||y7(q,q.return)),K.flags&32){Y=K.stateNode;try{w1(K,yG,Y)}catch(u){L0(K,K.return,u)}}U&4&&K.stateNode!=null&&(Y=K.memoizedProps,LC(K,Y,q!==null?q.memoizedProps:Y)),U&1024&&(qz=!0,K.type!=="form"&&console.error("Unexpected host component type. Expected a form. This is a bug in React."));break;case 6:if(i6(Y,K),n6(K),U&4){if(K.stateNode===null)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");U=K.memoizedProps,q=q!==null?q.memoizedProps:U,Y=K.stateNode;try{w1(K,tt,Y,q,U)}catch(u){L0(K,K.return,u)}}break;case 3:if(N=x3(),qH=null,A=F7,F7=Nq(Y.containerInfo),i6(Y,K),F7=A,n6(K),U&4&&q!==null&&q.memoizedState.isDehydrated)try{w1(K,qe,Y.containerInfo)}catch(u){L0(K,K.return,u)}qz&&(qz=!1,dI(K)),Y.effectDuration+=xW(N);break;case 4:U=F7,F7=Nq(K.stateNode.containerInfo),i6(Y,K),n6(K),F7=U;break;case 12:U=x3(),i6(Y,K),n6(K),K.stateNode.effectDuration+=aZ(U);break;case 13:i6(Y,K),n6(K),K.child.flags&8192&&K.memoizedState!==null!==(q!==null&&q.memoizedState!==null)&&(Dz=d7()),U&4&&(U=K.updateQueue,U!==null&&(K.updateQueue=null,_C(K,U)));break;case 22:N=K.memoizedState!==null;var O=q!==null&&q.memoizedState!==null,w=a3,G=B5;if(a3=w||N,B5=G||O,i6(Y,K),B5=G,a3=w,n6(K),U&8192)$:for(Y=K.stateNode,Y._visibility=N?Y._visibility&~hq:Y._visibility|hq,N&&(q===null||O||a3||B5||T2(K)),q=null,Y=K;;){if(Y.tag===5||Y.tag===26){if(q===null){O=q=Y;try{A=O.stateNode,N?w1(O,Qe,A):w1(O,Ze,O.stateNode,O.memoizedProps)}catch(u){L0(O,O.return,u)}}}else if(Y.tag===6){if(q===null){O=Y;try{B=O.stateNode,N?w1(O,Je,B):w1(O,Ke,B,O.memoizedProps)}catch(u){L0(O,O.return,u)}}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===K)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===K)break $;for(;Y.sibling===null;){if(Y.return===null||Y.return===K)break $;q===Y&&(q=null),Y=Y.return}q===Y&&(q=null),Y.sibling.return=Y.return,Y=Y.sibling}U&4&&(U=K.updateQueue,U!==null&&(q=U.retryQueue,q!==null&&(U.retryQueue=null,_C(K,q))));break;case 19:i6(Y,K),n6(K),U&4&&(U=K.updateQueue,U!==null&&(K.updateQueue=null,_C(K,U)));break;case 30:break;case 21:break;default:i6(Y,K),n6(K)}}function n6(K){var Y=K.flags;if(Y&2){try{w1(K,Et,K)}catch(q){L0(K,K.return,q)}K.flags&=-3}Y&4096&&(K.flags&=-4097)}function dI(K){if(K.subtreeFlags&1024)for(K=K.child;K!==null;){var Y=K;dI(Y),Y.tag===5&&Y.flags&1024&&Y.stateNode.reset(),K=K.sibling}}function m3(K,Y){if(Y.subtreeFlags&8772)for(Y=Y.child;Y!==null;)yI(K,Y.alternate,Y),Y=Y.sibling}function lI(K){switch(K.tag){case 0:case 11:case 14:case 15:EC(K,K.return,n5),T2(K);break;case 1:y7(K,K.return);var Y=K.stateNode;typeof Y.componentWillUnmount==="function"&&hI(K,K.return,Y),T2(K);break;case 27:w1(K,NK,K.stateNode);case 26:case 5:y7(K,K.return),T2(K);break;case 22:K.memoizedState===null&&T2(K);break;case 30:T2(K);break;default:T2(K)}}function T2(K){for(K=K.child;K!==null;)lI(K),K=K.sibling}function pI(K,Y,q,U){var N=q.flags;switch(q.tag){case 0:case 11:case 15:c3(K,q,U),EI(q,n5);break;case 1:if(c3(K,q,U),Y=q.stateNode,typeof Y.componentDidMount==="function"&&w1(q,Qz,q,Y),Y=q.updateQueue,Y!==null){K=q.stateNode;try{w1(q,Ct,Y,K)}catch(A){L0(q,q.return,A)}}U&&N&64&&LI(q),YK(q,q.return);break;case 27:gI(q);case 26:case 5:c3(K,q,U),U&&Y===null&&N&4&&_I(q),YK(q,q.return);break;case 12:if(U&&N&4){N=x3(),c3(K,q,U),U=q.stateNode,U.effectDuration+=aZ(N);try{w1(q,vI,q,Y,gq,U.effectDuration)}catch(A){L0(q,q.return,A)}}else c3(K,q,U);break;case 13:c3(K,q,U),U&&N&4&&mI(K,q);break;case 22:q.memoizedState===null&&c3(K,q,U),YK(q,q.return);break;case 30:break;default:c3(K,q,U)}}function c3(K,Y,q){q=q&&(Y.subtreeFlags&8772)!==0;for(Y=Y.child;Y!==null;)pI(K,Y.alternate,Y,q),Y=Y.sibling}function xC(K,Y){var q=null;K!==null&&K.memoizedState!==null&&K.memoizedState.cachePool!==null&&(q=K.memoizedState.cachePool.pool),K=null,Y.memoizedState!==null&&Y.memoizedState.cachePool!==null&&(K=Y.memoizedState.cachePool.pool),K!==q&&(K!=null&&k2(K),q!=null&&oZ(q))}function gC(K,Y){K=null,Y.alternate!==null&&(K=Y.alternate.memoizedState.cache),Y=Y.memoizedState.cache,Y!==K&&(k2(Y),K!=null&&oZ(K))}function b7(K,Y,q,U){if(Y.subtreeFlags&10256)for(Y=Y.child;Y!==null;)uI(K,Y,q,U),Y=Y.sibling}function uI(K,Y,q,U){var N=Y.flags;switch(Y.tag){case 0:case 11:case 15:b7(K,Y,q,U),N&2048&&jI(Y,j5|w4);break;case 1:b7(K,Y,q,U);break;case 3:var A=x3();b7(K,Y,q,U),N&2048&&(q=null,Y.alternate!==null&&(q=Y.alternate.memoizedState.cache),Y=Y.memoizedState.cache,Y!==q&&(k2(Y),q!=null&&oZ(q))),K.passiveEffectDuration+=xW(A);break;case 12:if(N&2048){N=x3(),b7(K,Y,q,U),K=Y.stateNode,K.passiveEffectDuration+=aZ(N);try{w1(Y,Gt,Y,Y.alternate,gq,K.passiveEffectDuration)}catch(O){L0(Y,Y.return,O)}}else b7(K,Y,q,U);break;case 13:b7(K,Y,q,U);break;case 23:break;case 22:A=Y.stateNode;var B=Y.alternate;Y.memoizedState!==null?A._visibility&p3?b7(K,Y,q,U):WK(K,Y):A._visibility&p3?b7(K,Y,q,U):(A._visibility|=p3,HQ(K,Y,q,U,(Y.subtreeFlags&10256)!==0)),N&2048&&xC(B,Y);break;case 24:b7(K,Y,q,U),N&2048&&gC(Y.alternate,Y);break;default:b7(K,Y,q,U)}}function HQ(K,Y,q,U,N){N=N&&(Y.subtreeFlags&10256)!==0;for(Y=Y.child;Y!==null;)iI(K,Y,q,U,N),Y=Y.sibling}function iI(K,Y,q,U,N){var A=Y.flags;switch(Y.tag){case 0:case 11:case 15:HQ(K,Y,q,U,N),jI(Y,j5);break;case 23:break;case 22:var B=Y.stateNode;Y.memoizedState!==null?B._visibility&p3?HQ(K,Y,q,U,N):WK(K,Y):(B._visibility|=p3,HQ(K,Y,q,U,N)),N&&A&2048&&xC(Y.alternate,Y);break;case 24:HQ(K,Y,q,U,N),N&&A&2048&&gC(Y.alternate,Y);break;default:HQ(K,Y,q,U,N)}}function WK(K,Y){if(Y.subtreeFlags&10256)for(Y=Y.child;Y!==null;){var q=K,U=Y,N=U.flags;switch(U.tag){case 22:WK(q,U),N&2048&&xC(U.alternate,U);break;case 24:WK(q,U),N&2048&&gC(U.alternate,U);break;default:WK(q,U)}Y=Y.sibling}}function FQ(K){if(K.subtreeFlags&lK)for(K=K.child;K!==null;)nI(K),K=K.sibling}function nI(K){switch(K.tag){case 26:FQ(K),K.flags&lK&&K.memoizedState!==null&&De(F7,K.memoizedState,K.memoizedProps);break;case 5:FQ(K);break;case 3:case 4:var Y=F7;F7=Nq(K.stateNode.containerInfo),FQ(K),F7=Y;break;case 22:K.memoizedState===null&&(Y=K.alternate,Y!==null&&Y.memoizedState!==null?(Y=lK,lK=16777216,FQ(K),lK=Y):FQ(K));break;default:FQ(K)}}function sI(K){var Y=K.alternate;if(Y!==null&&(K=Y.child,K!==null)){Y.child=null;do Y=K.sibling,K.sibling=null,K=Y;while(K!==null)}}function qK(K){var Y=K.deletions;if((K.flags&16)!==0){if(Y!==null)for(var q=0;q<Y.length;q++){var U=Y[q];x5=U,rI(U,K)}sI(K)}if(K.subtreeFlags&10256)for(K=K.child;K!==null;)oI(K),K=K.sibling}function oI(K){switch(K.tag){case 0:case 11:case 15:qK(K),K.flags&2048&&jC(K,K.return,j5|w4);break;case 3:var Y=x3();qK(K),K.stateNode.passiveEffectDuration+=xW(Y);break;case 12:Y=x3(),qK(K),K.stateNode.passiveEffectDuration+=aZ(Y);break;case 22:Y=K.stateNode,K.memoizedState!==null&&Y._visibility&p3&&(K.return===null||K.return.tag!==13)?(Y._visibility&=~p3,Wq(K)):qK(K);break;default:qK(K)}}function Wq(K){var Y=K.deletions;if((K.flags&16)!==0){if(Y!==null)for(var q=0;q<Y.length;q++){var U=Y[q];x5=U,rI(U,K)}sI(K)}for(K=K.child;K!==null;)aI(K),K=K.sibling}function aI(K){switch(K.tag){case 0:case 11:case 15:jC(K,K.return,j5),Wq(K);break;case 22:var Y=K.stateNode;Y._visibility&p3&&(Y._visibility&=~p3,Wq(K));break;default:Wq(K)}}function rI(K,Y){for(;x5!==null;){var q=x5,U=q;switch(U.tag){case 0:case 11:case 15:jC(U,Y,j5);break;case 23:case 22:U.memoizedState!==null&&U.memoizedState.cachePool!==null&&(U=U.memoizedState.cachePool.pool,U!=null&&k2(U));break;case 24:oZ(U.memoizedState.cache)}if(U=q.child,U!==null)U.return=q,x5=U;else $:for(q=K;x5!==null;){U=x5;var{sibling:N,return:A}=U;if(bI(U),U===q){x5=null;break $}if(N!==null){N.return=A,x5=N;break $}x5=A}}}function ht(){u11.forEach(function(K){return K()})}function tI(){var K=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return K||r.actQueue===null||console.error("The current testing environment is not configured to support act(...)"),K}function s6(K){if((w0&D6)!==t6&&q0!==0)return q0&-q0;var Y=r.T;return Y!==null?(Y._updatedFibers||(Y._updatedFibers=new Set),Y._updatedFibers.add(K),K=h2,K!==0?K:uC()):H2()}function eI(){$4===0&&($4=(q0&536870912)===0||z0?vZ():536870912);var K=T4.current;return K!==null&&(K.flags|=32),$4}function z5(K,Y,q){if(rQ&&console.error("useInsertionEffect must not schedule updates."),Rz&&(aq=!0),K===x0&&(T0===y2||T0===b2)||K.cancelPendingCommit!==null)VQ(K,0),c8(K,q0,$4,!1);if(v8(K,q),(w0&D6)!==0&&K===x0){if(u7)switch(Y.tag){case 0:case 11:case 15:K=Y0&&Q1(Y0)||"Unknown",VL.has(K)||(VL.add(K),Y=Q1(Y)||"Unknown",console.error("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://react.dev/link/setstate-in-render",Y,K,K));break;case 1:UL||(console.error("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),UL=!0)}}else X7&&gZ(K,Y,q),dt(Y),K===x0&&((w0&D6)===t6&&(J9|=q),K5===g2&&c8(K,q0,$4,!1)),f7(K)}function $G(K,Y,q){if((w0&(D6|U7))!==t6)throw Error("Should not already be working.");var U=!q&&(Y&124)===0&&(Y&K.expiredLanes)===0||e1(K,Y),N=U?_t(K,Y):fC(K,Y,!0),A=U;do{if(N===r3){oQ&&!U&&c8(K,Y,0,!1);break}else{if(q=K.current.alternate,A&&!vt(q)){N=fC(K,Y,!1),A=!1;continue}if(N===nQ){if(A=Y,K.errorRecoveryDisabledLanes&A)var B=0;else B=K.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){Y=B;$:{N=K;var O=B;B=oK;var w=N.current.memoizedState.isDehydrated;if(w&&(VQ(N,O).flags|=256),O=fC(N,O,!1),O!==nQ){if(Vz&&!w){N.errorRecoveryDisabledLanes|=A,J9|=A,N=g2;break $}N=C6,C6=B,N!==null&&(C6===null?C6=N:C6.push.apply(C6,N))}N=O}if(A=!1,N!==nQ)continue}}if(N===uK){VQ(K,0),c8(K,Y,0,!0);break}$:{switch(U=K,N){case r3:case uK:throw Error("Root did not complete. This is a bug in React.");case g2:if((Y&4194048)!==Y)break;case nq:c8(U,Y,$4,!$9);break $;case nQ:C6=null;break;case Hz:case ZL:break;default:throw Error("Unknown root exit status.")}if(r.actQueue!==null)mC(U,q,Y,C6,aK,sq,$4,J9,f2);else{if((Y&62914560)===Y&&(A=Dz+XL-d7(),10<A)){if(c8(U,Y,$4,!$9),a$(U,0,!0)!==0)break $;U.timeoutHandle=OL(QG.bind(null,U,q,C6,aK,sq,Y,$4,J9,f2,$9,N,o11,Wj,0),A);break $}QG(U,q,C6,aK,sq,Y,$4,J9,f2,$9,N,n11,Wj,0)}}}break}while(1);f7(K)}function QG(K,Y,q,U,N,A,B,O,w,G,u,t,p,e){if(K.timeoutHandle=p2,t=Y.subtreeFlags,t&8192||(t&16785408)===16785408){if(JX={stylesheets:null,count:0,unsuspend:Ne},nI(Y),t=Ce(),t!==null){K.cancelPendingCommit=t(mC.bind(null,K,Y,A,q,U,N,B,O,w,u,s11,p,e)),c8(K,A,B,!G);return}}mC(K,Y,A,q,U,N,B,O,w)}function vt(K){for(var Y=K;;){var q=Y.tag;if((q===0||q===11||q===15)&&Y.flags&16384&&(q=Y.updateQueue,q!==null&&(q=q.stores,q!==null)))for(var U=0;U<q.length;U++){var N=q[U],A=N.getSnapshot;N=N.value;try{if(!U6(A(),N))return!1}catch(B){return!1}}if(q=Y.child,Y.subtreeFlags&16384&&q!==null)q.return=Y,Y=q;else{if(Y===K)break;for(;Y.sibling===null;){if(Y.return===null||Y.return===K)return!0;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}}return!0}function c8(K,Y,q,U){Y&=~Nz,Y&=~J9,K.suspendedLanes|=Y,K.pingedLanes&=~Y,U&&(K.warmLanes|=Y),U=K.expirationTimes;for(var N=Y;0<N;){var A=31-H6(N),B=1<<A;U[A]=-1,N&=~B}q!==0&&BW(K,q,Y)}function UQ(){return(w0&(D6|U7))===t6?(UK(0,!1),!1):!0}function yC(){if(Y0!==null){if(T0===h6)var K=Y0.return;else K=Y0,hW(),sD(K),mQ=null,cK=0,K=Y0;for(;K!==null;)GI(K.alternate,K),K=K.return;Y0=null}}function VQ(K,Y){var q=K.timeoutHandle;q!==p2&&(K.timeoutHandle=p2,q01(q)),q=K.cancelPendingCommit,q!==null&&(K.cancelPendingCommit=null,q()),yC(),x0=K,Y0=q=v3(K.current,null),q0=Y,T0=h6,e6=null,$9=!1,oQ=e1(K,Y),Vz=!1,K5=r3,f2=$4=Nz=J9=Q9=0,C6=oK=null,sq=!1,(Y&8)!==0&&(Y|=Y&32);var U=K.entangledLanes;if(U!==0)for(K=K.entanglements,U&=Y;0<U;){var N=31-H6(U),A=1<<N;Y|=K[N],U&=~A}return a7=Y,GW(),Y=Xj(),1000<Y-Kj&&(r.recentlyCreatedOwnerStacks=0,Kj=Y),q7.discardPendingWarnings(),q}function JG(K,Y){n1=null,r.H=uq,r.getCurrentStack=null,u7=!1,r6=null,Y===yK||Y===mq?(Y=ET(),T0=nK):Y===Fj?(Y=ET(),T0=KL):T0=Y===sj?Uz:Y!==null&&typeof Y==="object"&&typeof Y.then==="function"?sQ:iK,e6=Y;var q=Y0;if(q===null)K5=uK,Jq(K,u6(Y,K.current));else switch(q.mode&i5&&yD(q),$7(),T0){case iK:B1!==null&&typeof B1.markComponentErrored==="function"&&B1.markComponentErrored(q,Y,q0);break;case y2:case b2:case nK:case sQ:case sK:B1!==null&&typeof B1.markComponentSuspended==="function"&&B1.markComponentSuspended(q,Y,q0)}}function ZG(){var K=r.H;return r.H=uq,K===null?uq:K}function KG(){var K=r.A;return r.A=p11,K}function bC(){K5=g2,$9||(q0&4194048)!==q0&&T4.current!==null||(oQ=!0),(Q9&134217727)===0&&(J9&134217727)===0||x0===null||c8(x0,q0,$4,!1)}function fC(K,Y,q){var U=w0;w0|=D6;var N=ZG(),A=KG();if(x0!==K||q0!==Y){if(X7){var B=K.memoizedUpdaters;0<B.size&&(FK(K,q0),B.clear()),yZ(K,Y)}aK=null,VQ(K,Y)}LZ(Y),Y=!1,B=K5;$:do try{if(T0!==h6&&Y0!==null){var O=Y0,w=e6;switch(T0){case Uz:yC(),B=nq;break $;case nK:case y2:case b2:case sQ:T4.current===null&&(Y=!0);var G=T0;if(T0=h6,e6=null,NQ(K,O,w,G),q&&oQ){B=r3;break $}break;default:G=T0,T0=h6,e6=null,NQ(K,O,w,G)}}XG(),B=K5;break}catch(u){JG(K,u)}while(1);return Y&&K.shellSuspendCounter++,hW(),w0=U,r.H=N,r.A=A,hZ(),Y0===null&&(x0=null,q0=0,GW()),B}function XG(){for(;Y0!==null;)YG(Y0)}function _t(K,Y){var q=w0;w0|=D6;var U=ZG(),N=KG();if(x0!==K||q0!==Y){if(X7){var A=K.memoizedUpdaters;0<A.size&&(FK(K,q0),A.clear()),yZ(K,Y)}aK=null,oq=d7()+YL,VQ(K,Y)}else oQ=e1(K,Y);LZ(Y);$:do try{if(T0!==h6&&Y0!==null)Q:switch(Y=Y0,A=e6,T0){case iK:T0=h6,e6=null,NQ(K,Y,A,iK);break;case y2:case b2:if(IT(A)){T0=h6,e6=null,WG(Y);break}Y=function(){T0!==y2&&T0!==b2||x0!==K||(T0=sK),f7(K)},A.then(Y,Y);break $;case nK:T0=sK;break $;case KL:T0=Fz;break $;case sK:IT(A)?(T0=h6,e6=null,WG(Y)):(T0=h6,e6=null,NQ(K,Y,A,sK));break;case Fz:var B=null;switch(Y0.tag){case 26:B=Y0.memoizedState;case 5:case 27:var O=Y0;if(B?aG(B):1){T0=h6,e6=null;var w=O.sibling;if(w!==null)Y0=w;else{var G=O.return;G!==null?(Y0=G,qq(G)):Y0=null}break Q}break;default:console.error("Unexpected type of fiber triggered a suspensey commit. This is a bug in React.")}T0=h6,e6=null,NQ(K,Y,A,Fz);break;case sQ:T0=h6,e6=null,NQ(K,Y,A,sQ);break;case Uz:yC(),K5=nq;break $;default:throw Error("Unexpected SuspendedReason. This is a bug in React.")}r.actQueue!==null?XG():xt();break}catch(u){JG(K,u)}while(1);if(hW(),r.H=U,r.A=N,w0=q,Y0!==null)return B1!==null&&typeof B1.markRenderYielded==="function"&&B1.markRenderYielded(),r3;return hZ(),x0=null,q0=0,GW(),K5}function xt(){for(;Y0!==null&&!je();)YG(Y0)}function YG(K){var Y=K.alternate;(K.mode&i5)!==d0?(gD(K),Y=w1(K,GC,Y,K,a7),yD(K)):Y=w1(K,GC,Y,K,a7),K.memoizedProps=K.pendingProps,Y===null?qq(K):Y0=Y}function WG(K){var Y=w1(K,gt,K);K.memoizedProps=K.pendingProps,Y===null?qq(K):Y0=Y}function gt(K){var Y=K.alternate,q=(K.mode&i5)!==d0;switch(q&&gD(K),K.tag){case 15:case 0:Y=OI(Y,K,K.pendingProps,K.type,void 0,q0);break;case 11:Y=OI(Y,K,K.pendingProps,K.type.render,K.ref,q0);break;case 5:sD(K);default:GI(Y,K),K=Y0=AT(K,a7),Y=GC(Y,K,a7)}return q&&yD(K),Y}function NQ(K,Y,q,U){hW(),sD(Y),mQ=null,cK=0;var N=Y.return;try{if(kt(K,N,Y,q,q0)){K5=uK,Jq(K,u6(q,K.current)),Y0=null;return}}catch(A){if(N!==null)throw Y0=N,A;K5=uK,Jq(K,u6(q,K.current)),Y0=null;return}if(Y.flags&32768){if(z0||U===iK)K=!0;else if(oQ||(q0&536870912)!==0)K=!1;else if($9=K=!0,U===y2||U===b2||U===nK||U===sQ)U=T4.current,U!==null&&U.tag===13&&(U.flags|=16384);qG(Y,K)}else qq(Y)}function qq(K){var Y=K;do{if((Y.flags&32768)!==0){qG(Y,$9);return}var q=Y.alternate;if(K=Y.return,gD(Y),q=w1(Y,Mt,q,Y,a7),(Y.mode&i5)!==d0&&MT(Y),q!==null){Y0=q;return}if(Y=Y.sibling,Y!==null){Y0=Y;return}Y0=Y=K}while(Y!==null);K5===r3&&(K5=ZL)}function qG(K,Y){do{var q=wt(K.alternate,K);if(q!==null){q.flags&=32767,Y0=q;return}if((K.mode&i5)!==d0){MT(K),q=K.actualDuration;for(var U=K.child;U!==null;)q+=U.actualDuration,U=U.sibling;K.actualDuration=q}if(q=K.return,q!==null&&(q.flags|=32768,q.subtreeFlags=0,q.deletions=null),!Y&&(K=K.sibling,K!==null)){Y0=K;return}Y0=K=q}while(K!==null);K5=nq,Y0=null}function mC(K,Y,q,U,N,A,B,O,w){K.cancelPendingCommit=null;do HK();while(s5!==m2);if(q7.flushLegacyContextWarning(),q7.flushPendingUnsafeLifecycleWarnings(),(w0&(D6|U7))!==t6)throw Error("Should not already be working.");if(B1!==null&&typeof B1.markCommitStarted==="function"&&B1.markCommitStarted(q),Y===null)e4();else{if(q===0&&console.error("finishedLanes should not be empty during a commit. This is a bug in React."),Y===K.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");if(A=Y.lanes|Y.childLanes,A|=dA,FD(K,q,A,B,O,w),K===x0&&(Y0=x0=null,q0=0),aQ=Y,K9=K,X9=q,Az=A,zz=N,FL=U,(Y.subtreeFlags&10256)!==0||(Y.flags&10256)!==0?(K.callbackNode=null,K.callbackPriority=0,ct(RQ,function(){return NG(!0),null})):(K.callbackNode=null,K.callbackPriority=0),gq=xQ(),U=(Y.flags&13878)!==0,(Y.subtreeFlags&13878)!==0||U){U=r.T,r.T=null,N=M0.p,M0.p=a6,B=w0,w0|=U7;try{jt(K,Y,q)}finally{w0=B,M0.p=N,r.T=U}}s5=WL,HG(),FG(),UG()}}function HG(){if(s5===WL){s5=m2;var K=K9,Y=aQ,q=X9,U=(Y.flags&13878)!==0;if((Y.subtreeFlags&13878)!==0||U){U=r.T,r.T=null;var N=M0.p;M0.p=a6;var A=w0;w0|=U7;try{uQ=q,iQ=K,cI(Y,K),iQ=uQ=null,q=Gz;var B=UT(K.containerInfo),O=q.focusedElem,w=q.selectionRange;if(B!==O&&O&&O.ownerDocument&&FT(O.ownerDocument.documentElement,O)){if(w!==null&&PD(O)){var{start:G,end:u}=w;if(u===void 0&&(u=G),"selectionStart"in O)O.selectionStart=G,O.selectionEnd=Math.min(u,O.value.length);else{var t=O.ownerDocument||document,p=t&&t.defaultView||window;if(p.getSelection){var e=p.getSelection(),k1=O.textContent.length,c1=Math.min(w.start,k1),g0=w.end===void 0?c1:Math.min(w.end,k1);!e.extend&&c1>g0&&(B=g0,g0=c1,c1=B);var F0=HT(O,c1),j=HT(O,g0);if(F0&&j&&(e.rangeCount!==1||e.anchorNode!==F0.node||e.anchorOffset!==F0.offset||e.focusNode!==j.node||e.focusOffset!==j.offset)){var h=t.createRange();h.setStart(F0.node,F0.offset),e.removeAllRanges(),c1>g0?(e.addRange(h),e.extend(j.node,j.offset)):(h.setEnd(j.node,j.offset),e.addRange(h))}}}}t=[];for(e=O;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});typeof O.focus==="function"&&O.focus();for(O=0;O<t.length;O++){var x=t[O];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}UH=!!Iz,Gz=Iz=null}finally{w0=A,M0.p=N,r.T=U}}K.current=Y,s5=qL}}function FG(){if(s5===qL){s5=m2;var K=K9,Y=aQ,q=X9,U=(Y.flags&8772)!==0;if((Y.subtreeFlags&8772)!==0||U){U=r.T,r.T=null;var N=M0.p;M0.p=a6;var A=w0;w0|=U7;try{B1!==null&&typeof B1.markLayoutEffectsStarted==="function"&&B1.markLayoutEffectsStarted(q),uQ=q,iQ=K,yI(K,Y.alternate,Y),iQ=uQ=null,B1!==null&&typeof B1.markLayoutEffectsStopped==="function"&&B1.markLayoutEffectsStopped()}finally{w0=A,M0.p=N,r.T=U}}s5=HL}}function UG(){if(s5===a11||s5===HL){s5=m2,Le();var K=K9,Y=aQ,q=X9,U=FL,N=(Y.subtreeFlags&10256)!==0||(Y.flags&10256)!==0;N?s5=Cz:(s5=m2,aQ=K9=null,VG(K,K.pendingLanes),c2=0,tK=null);var A=K.pendingLanes;if(A===0&&(Z9=null),N||zG(K),N=_8(q),Y=Y.stateNode,e5&&typeof e5.onCommitFiberRoot==="function")try{var B=(Y.current.flags&128)===128;switch(N){case a6:var O=OA;break;case Y7:O=kA;break;case p7:O=RQ;break;case Sq:O=PA;break;default:O=RQ}e5.onCommitFiberRoot(OQ,Y,O,B)}catch(t){l7||(l7=!0,console.error("React instrumentation encountered an error: %s",t))}if(X7&&K.memoizedUpdaters.clear(),ht(),U!==null){B=r.T,O=M0.p,M0.p=a6,r.T=null;try{var w=K.onRecoverableError;for(Y=0;Y<U.length;Y++){var G=U[Y],u=yt(G.stack);w1(G.source,w,G.value,u)}}finally{r.T=B,M0.p=O}}(X9&3)!==0&&HK(),f7(K),A=K.pendingLanes,(q&4194090)!==0&&(A&42)!==0?(bq=!0,K===Bz?rK++:(rK=0,Bz=K)):rK=0,UK(0,!1),e4()}}function yt(K){return K={componentStack:K},Object.defineProperty(K,"digest",{get:function(){console.error('You are accessing "digest" from the errorInfo object passed to onRecoverableError. This property is no longer provided as part of errorInfo but can be accessed as a property of the Error instance itself.')}}),K}function VG(K,Y){(K.pooledCacheLanes&=Y)===0&&(Y=K.pooledCache,Y!=null&&(K.pooledCache=null,oZ(Y)))}function HK(K){return HG(),FG(),UG(),NG(K)}function NG(){if(s5!==Cz)return!1;var K=K9,Y=Az;Az=0;var q=_8(X9),U=p7===0||p7>q?p7:q;q=r.T;var N=M0.p;try{M0.p=U,r.T=null,U=zz,zz=null;var A=K9,B=X9;if(s5=m2,aQ=K9=null,X9=0,(w0&(D6|U7))!==t6)throw Error("Cannot flush passive effects while already rendering.");Rz=!0,aq=!1,B1!==null&&typeof B1.markPassiveEffectsStarted==="function"&&B1.markPassiveEffectsStarted(B);var O=w0;if(w0|=U7,oI(A.current),uI(A,A.current,B,U),B1!==null&&typeof B1.markPassiveEffectsStopped==="function"&&B1.markPassiveEffectsStopped(),zG(A),w0=O,UK(0,!1),aq?A===tK?c2++:(c2=0,tK=A):c2=0,aq=Rz=!1,e5&&typeof e5.onPostCommitFiberRoot==="function")try{e5.onPostCommitFiberRoot(OQ,A)}catch(G){l7||(l7=!0,console.error("React instrumentation encountered an error: %s",G))}var w=A.current.stateNode;return w.effectDuration=0,w.passiveEffectDuration=0,!0}finally{M0.p=N,r.T=q,VG(K,Y)}}function DG(K,Y,q){Y=u6(q,Y),Y=zC(K.stateNode,Y,2),K=y8(K,Y,2),K!==null&&(v8(K,2),f7(K))}function L0(K,Y,q){if(rQ=!1,K.tag===3)DG(K,K,q);else{for(;Y!==null;){if(Y.tag===3){DG(Y,K,q);return}if(Y.tag===1){var U=Y.stateNode;if(typeof Y.type.getDerivedStateFromError==="function"||typeof U.componentDidCatch==="function"&&(Z9===null||!Z9.has(U))){K=u6(q,K),q=BC(2),U=y8(Y,q,2),U!==null&&(RC(q,U,Y,K),v8(U,2),f7(U));return}}Y=Y.return}console.error(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Potential causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,q)}}function cC(K,Y,q){var U=K.pingCache;if(U===null){U=K.pingCache=new i11;var N=new Set;U.set(Y,N)}else N=U.get(Y),N===void 0&&(N=new Set,U.set(Y,N));N.has(q)||(Vz=!0,N.add(q),U=bt.bind(null,K,Y,q),X7&&FK(K,q),Y.then(U,U))}function bt(K,Y,q){var U=K.pingCache;U!==null&&U.delete(Y),K.pingedLanes|=K.suspendedLanes&q,K.warmLanes&=~q,tI()&&r.actQueue===null&&console.error(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`),x0===K&&(q0&q)===q&&(K5===g2||K5===Hz&&(q0&62914560)===q0&&d7()-Dz<XL?(w0&D6)===t6&&VQ(K,0):Nz|=q,f2===q0&&(f2=0)),f7(K)}function CG(K,Y){Y===0&&(Y=_Z()),K=T6(K,Y),K!==null&&(v8(K,Y),f7(K))}function ft(K){var Y=K.memoizedState,q=0;Y!==null&&(q=Y.retryLane),CG(K,q)}function mt(K,Y){var q=0;switch(K.tag){case 13:var{stateNode:U,memoizedState:N}=K;N!==null&&(q=N.retryLane);break;case 19:U=K.stateNode;break;case 22:U=K.stateNode._retryCache;break;default:throw Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}U!==null&&U.delete(Y),CG(K,q)}function dC(K,Y,q){if((Y.subtreeFlags&67117056)!==0)for(Y=Y.child;Y!==null;){var U=K,N=Y,A=N.type===Oq;A=q||A,N.tag!==22?N.flags&67108864?A&&w1(N,AG,U,N,(N.mode&Qj)===d0):dC(U,N,A):N.memoizedState===null&&(A&&N.flags&8192?w1(N,AG,U,N):N.subtreeFlags&67108864&&w1(N,dC,U,N,A)),Y=Y.sibling}}function AG(K,Y){var q=2<arguments.length&&arguments[2]!==void 0?arguments[2]:!0;k0(!0);try{lI(Y),q&&aI(Y),pI(K,Y.alternate,Y,!1),q&&iI(K,Y,0,null,!1,0)}finally{k0(!1)}}function zG(K){var Y=!0;K.current.mode&(Q6|W7)||(Y=!1),dC(K,K.current,Y)}function BG(K){if((w0&D6)===t6){var Y=K.tag;if(Y===3||Y===1||Y===0||Y===11||Y===14||Y===15){if(Y=Q1(K)||"ReactComponent",rq!==null){if(rq.has(Y))return;rq.add(Y)}else rq=new Set([Y]);w1(K,function(){console.error("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")})}}}function FK(K,Y){X7&&K.memoizedUpdaters.forEach(function(q){gZ(K,q,Y)})}function ct(K,Y){var q=r.actQueue;return q!==null?(q.push(Y),e11):RA(K,Y)}function dt(K){tI()&&r.actQueue===null&&w1(K,function(){console.error(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`,Q1(K))})}function f7(K){K!==tQ&&K.next===null&&(tQ===null?tq=tQ=K:tQ=tQ.next=K),eq=!0,r.actQueue!==null?kz||(kz=!0,PG()):Oz||(Oz=!0,PG())}function UK(K,Y){if(!Pz&&eq){Pz=!0;do{var q=!1;for(var U=tq;U!==null;){if(!Y)if(K!==0){var N=U.pendingLanes;if(N===0)var A=0;else{var{suspendedLanes:B,pingedLanes:O}=U;A=(1<<31-H6(42|K)+1)-1,A&=N&~(B&~O),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(q=!0,kG(U,A))}else A=q0,A=a$(U,U===x0?A:0,U.cancelPendingCommit!==null||U.timeoutHandle!==p2),(A&3)===0||e1(U,A)||(q=!0,kG(U,A));U=U.next}}while(q);Pz=!1}}function lt(){lC()}function lC(){eq=kz=Oz=!1;var K=0;d2!==0&&(st()&&(K=d2),d2=0);for(var Y=d7(),q=null,U=tq;U!==null;){var N=U.next,A=RG(U,Y);if(A===0)U.next=null,q===null?tq=N:q.next=N,N===null&&(tQ=q);else if(q=U,K!==0||(A&3)!==0)eq=!0;U=N}UK(K,!1)}function RG(K,Y){for(var{suspendedLanes:q,pingedLanes:U,expirationTimes:N}=K,A=K.pendingLanes&-62914561;0<A;){var B=31-H6(A),O=1<<B,w=N[B];if(w===-1){if((O&q)===0||(O&U)!==0)N[B]=r$(O,Y)}else w<=Y&&(K.expiredLanes|=O);A&=~O}if(Y=x0,q=q0,q=a$(K,K===Y?q:0,K.cancelPendingCommit!==null||K.timeoutHandle!==p2),U=K.callbackNode,q===0||K===Y&&(T0===y2||T0===b2)||K.cancelPendingCommit!==null)return U!==null&&pC(U),K.callbackNode=null,K.callbackPriority=0;if((q&3)===0||e1(K,q)){if(Y=q&-q,Y!==K.callbackPriority||r.actQueue!==null&&U!==Mz)pC(U);else return Y;switch(_8(q)){case a6:case Y7:q=kA;break;case p7:q=RQ;break;case Sq:q=PA;break;default:q=RQ}return U=OG.bind(null,K),r.actQueue!==null?(r.actQueue.push(U),q=Mz):q=RA(q,U),K.callbackPriority=Y,K.callbackNode=q,Y}return U!==null&&pC(U),K.callbackPriority=2,K.callbackNode=null,2}function OG(K,Y){if(bq=yq=!1,s5!==m2&&s5!==Cz)return K.callbackNode=null,K.callbackPriority=0,null;var q=K.callbackNode;if(HK(!0)&&K.callbackNode!==q)return null;var U=q0;if(U=a$(K,K===x0?U:0,K.cancelPendingCommit!==null||K.timeoutHandle!==p2),U===0)return null;return $G(K,U,Y),RG(K,d7()),K.callbackNode!=null&&K.callbackNode===q?OG.bind(null,K):null}function kG(K,Y){if(HK())return null;yq=bq,bq=!1,$G(K,Y,!0)}function pC(K){K!==Mz&&K!==null&&Ee(K)}function PG(){r.actQueue!==null&&r.actQueue.push(function(){return lC(),null}),H01(function(){(w0&(D6|U7))!==t6?RA(OA,lt):lC()})}function uC(){return d2===0&&(d2=vZ()),d2}function MG(K){if(K==null||typeof K==="symbol"||typeof K==="boolean")return null;if(typeof K==="function")return K;return l1(K,"action"),dZ(""+K)}function wG(K,Y){var q=Y.ownerDocument.createElement("input");return q.name=Y.name,q.value=Y.value,K.id&&q.setAttribute("form",K.id),Y.parentNode.insertBefore(q,Y),K=new FormData(K),q.parentNode.removeChild(q),K}function pt(K,Y,q,U,N){if(Y==="submit"&&q&&q.stateNode===N){var A=MG((N[E6]||null).action),B=U.submitter;B&&(Y=(Y=B[E6]||null)?MG(Y.formAction):B.getAttribute("formAction"),Y!==null&&(A=Y,B=null));var O=new jq("action","action",null,U,N);K.push({event:O,listeners:[{instance:null,listener:function(){if(U.defaultPrevented){if(d2!==0){var w=B?wG(N,B):new FormData(N),G={pending:!0,data:w,method:N.method,action:A};Object.freeze(G),FC(q,G,null,w)}}else typeof A==="function"&&(O.preventDefault(),w=B?wG(N,B):new FormData(N),G={pending:!0,data:w,method:N.method,action:A},Object.freeze(G),FC(q,G,A,w))},currentTarget:N}]})}}function Hq(K,Y,q){K.currentTarget=q;try{Y(K)}catch(U){Kz(U)}K.currentTarget=null}function SG(K,Y){Y=(Y&4)!==0;for(var q=0;q<K.length;q++){var U=K[q];$:{var N=void 0,A=U.event;if(U=U.listeners,Y)for(var B=U.length-1;0<=B;B--){var O=U[B],w=O.instance,G=O.currentTarget;if(O=O.listener,w!==N&&A.isPropagationStopped())break $;w!==null?w1(w,Hq,A,O,G):Hq(A,O,G),N=w}else for(B=0;B<U.length;B++){if(O=U[B],w=O.instance,G=O.currentTarget,O=O.listener,w!==N&&A.isPropagationStopped())break $;w!==null?w1(w,Hq,A,O,G):Hq(A,O,G),N=w}}}}function H0(K,Y){wz.has(K)||console.error('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',K);var q=Y[MA];q===void 0&&(q=Y[MA]=new Set);var U=K+"__bubble";q.has(U)||(TG(Y,K,2,!1),q.add(U))}function iC(K,Y,q){wz.has(K)&&!Y&&console.error('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',K);var U=0;Y&&(U|=4),TG(q,K,U,Y)}function nC(K){if(!K[$H]){K[$H]=!0,HE.forEach(function(q){q!=="selectionchange"&&(wz.has(q)||iC(q,!1,K),iC(q,!0,K))});var Y=K.nodeType===9?K:K.ownerDocument;Y===null||Y[$H]||(Y[$H]=!0,iC("selectionchange",!1,Y))}}function TG(K,Y,q,U){switch(QE(Y)){case a6:var N=Oe;break;case Y7:N=ke;break;default:N=qA}q=N.bind(null,Y,q,K),N=void 0,!LA||Y!=="touchstart"&&Y!=="touchmove"&&Y!=="wheel"||(N=!0),U?N!==void 0?K.addEventListener(Y,q,{capture:!0,passive:N}):K.addEventListener(Y,q,!0):N!==void 0?K.addEventListener(Y,q,{passive:N}):K.addEventListener(Y,q,!1)}function sC(K,Y,q,U,N){var A=U;if((Y&1)===0&&(Y&2)===0&&U!==null)$:for(;;){if(U===null)return;var B=U.tag;if(B===3||B===4){var O=U.stateNode.containerInfo;if(O===N)break;if(B===4)for(B=U.return;B!==null;){var w=B.tag;if((w===3||w===4)&&B.stateNode.containerInfo===N)return;B=B.return}for(;O!==null;){if(B=h3(O),B===null)return;if(w=B.tag,w===5||w===6||w===26||w===27){U=A=B;continue $}O=O.parentNode}}U=U.return}tS(function(){var G=A,u=OD(q),t=[];$:{var p=$j.get(K);if(p!==void 0){var e=jq,k1=K;switch(K){case"keypress":if(SW(q)===0)break $;case"keydown":case"keyup":e=A11;break;case"focusin":k1="focus",e=xA;break;case"focusout":k1="blur",e=xA;break;case"beforeblur":case"afterblur":e=xA;break;case"click":if(q.button===2)break $;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=mE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=K11;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=R11;break;case aE:case rE:case tE:e=W11;break;case eE:e=k11;break;case"scroll":case"scrollend":e=J11;break;case"wheel":e=M11;break;case"copy":case"cut":case"paste":e=H11;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=dE;break;case"toggle":case"beforetoggle":e=S11}var c1=(Y&4)!==0,g0=!c1&&(K==="scroll"||K==="scrollend"),F0=c1?p!==null?p+"Capture":null:p;c1=[];for(var j=G,h;j!==null;){var x=j;if(h=x.stateNode,x=x.tag,x!==5&&x!==26&&x!==27||h===null||F0===null||(x=lZ(j,F0),x!=null&&c1.push(VK(j,x,h))),g0)break;j=j.return}0<c1.length&&(p=new e(p,k1,null,q,u),t.push({event:p,listeners:c1}))}}if((Y&7)===0){$:{if(p=K==="mouseover"||K==="pointerover",e=K==="mouseout"||K==="pointerout",p&&q!==PK&&(k1=q.relatedTarget||q.fromElement)&&(h3(k1)||k1[s8]))break $;if(e||p){if(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,e){if(k1=q.relatedTarget||q.toElement,e=G,k1=k1?h3(k1):null,k1!==null&&(g0=_(k1),c1=k1.tag,k1!==g0||c1!==5&&c1!==27&&c1!==6))k1=null}else e=null,k1=G;if(e!==k1){if(c1=mE,x="onMouseLeave",F0="onMouseEnter",j="mouse",K==="pointerout"||K==="pointerover")c1=dE,x="onPointerLeave",F0="onPointerEnter",j="pointer";if(g0=e==null?p:c(e),h=k1==null?p:c(k1),p=new c1(x,j+"leave",e,q,u),p.target=g0,p.relatedTarget=h,x=null,h3(u)===G&&(c1=new c1(F0,j+"enter",k1,q,u),c1.target=h,c1.relatedTarget=g0,x=c1),g0=x,e&&k1)Q:{c1=e,F0=k1,j=0;for(h=c1;h;h=DQ(h))j++;h=0;for(x=F0;x;x=DQ(x))h++;for(;0<j-h;)c1=DQ(c1),j--;for(;0<h-j;)F0=DQ(F0),h--;for(;j--;){if(c1===F0||F0!==null&&c1===F0.alternate)break Q;c1=DQ(c1),F0=DQ(F0)}c1=null}else c1=null;e!==null&&IG(t,p,e,c1,!1),k1!==null&&g0!==null&&IG(t,g0,k1,c1,!0)}}}$:{if(p=G?c(G):window,e=p.nodeName&&p.nodeName.toLowerCase(),e==="select"||e==="input"&&p.type==="file")var $1=XT;else if(ZT(p))if(sE)$1=Ft;else{$1=qt;var D1=Wt}else e=p.nodeName,!e||e.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?G&&cZ(G.elementType)&&($1=XT):$1=Ht;if($1&&($1=$1(K,G))){KT(t,$1,q,u);break $}D1&&D1(K,p,G),K==="focusout"&&G&&p.type==="number"&&G.memoizedProps.value!=null&&DD(p,"number",p.value)}switch(D1=G?c(G):window,K){case"focusin":if(ZT(D1)||D1.contentEditable==="true")IQ=D1,yA=G,EK=null;break;case"focusout":EK=yA=IQ=null;break;case"mousedown":bA=!0;break;case"contextmenu":case"mouseup":case"dragend":bA=!1,VT(t,q,u);break;case"selectionchange":if(E11)break;case"keydown":case"keyup":VT(t,q,u)}var s1;if(gA)$:{switch(K){case"compositionstart":var P1="onCompositionStart";break $;case"compositionend":P1="onCompositionEnd";break $;case"compositionupdate":P1="onCompositionUpdate";break $}P1=void 0}else TQ?QT(K,q)&&(P1="onCompositionEnd"):K==="keydown"&&q.keyCode===lE&&(P1="onCompositionStart");if(P1&&(pE&&q.locale!=="ko"&&(TQ||P1!=="onCompositionStart"?P1==="onCompositionEnd"&&TQ&&(s1=eS()):(o8=u,hA=("value"in o8)?o8.value:o8.textContent,TQ=!0)),D1=Fq(G,P1),0<D1.length&&(P1=new cE(P1,K,null,q,u),t.push({event:P1,listeners:D1}),s1?P1.data=s1:(s1=JT(q),s1!==null&&(P1.data=s1)))),s1=I11?Zt(K,q):Kt(K,q))P1=Fq(G,"onBeforeInput"),0<P1.length&&(D1=new U11("onBeforeInput","beforeinput",null,q,u),t.push({event:D1,listeners:P1}),D1.data=s1);pt(t,K,G,q,u)}SG(t,Y)})}function VK(K,Y,q){return{instance:K,listener:Y,currentTarget:q}}function Fq(K,Y){for(var q=Y+"Capture",U=[];K!==null;){var N=K,A=N.stateNode;if(N=N.tag,N!==5&&N!==26&&N!==27||A===null||(N=lZ(K,q),N!=null&&U.unshift(VK(K,N,A)),N=lZ(K,Y),N!=null&&U.push(VK(K,N,A))),K.tag===3)return U;K=K.return}return[]}function DQ(K){if(K===null)return null;do K=K.return;while(K&&K.tag!==5&&K.tag!==27);return K?K:null}function IG(K,Y,q,U,N){for(var A=Y._reactName,B=[];q!==null&&q!==U;){var O=q,w=O.alternate,G=O.stateNode;if(O=O.tag,w!==null&&w===U)break;O!==5&&O!==26&&O!==27||G===null||(w=G,N?(G=lZ(q,A),G!=null&&B.unshift(VK(q,G,w))):N||(G=lZ(q,A),G!=null&&B.push(VK(q,G,w)))),q=q.return}B.length!==0&&K.push({event:Y,listeners:B})}function oC(K,Y){er(K,Y),K!=="input"&&K!=="textarea"&&K!=="select"||Y==null||Y.value!==null||bE||(bE=!0,K==="select"&&Y.multiple?console.error("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",K):console.error("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",K));var q={registrationNameDependencies:I2,possibleRegistrationNames:wA};cZ(K)||typeof Y.is==="string"||Qt(K,Y,q),Y.contentEditable&&!Y.suppressContentEditableWarning&&Y.children!=null&&console.error("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional.")}function v5(K,Y,q,U){Y!==q&&(q=d8(q),d8(Y)!==q&&(U[K]=Y))}function ut(K,Y,q){Y.forEach(function(U){q[jG(U)]=U==="style"?rC(K):K.getAttribute(U)})}function m7(K,Y){Y===!1?console.error("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",K,K,K):console.error("Expected `%s` listener to be a function, instead got a value of `%s` type.",K,typeof Y)}function GG(K,Y){return K=K.namespaceURI===Iq||K.namespaceURI===PQ?K.ownerDocument.createElementNS(K.namespaceURI,K.tagName):K.ownerDocument.createElement(K.tagName),K.innerHTML=Y,K.innerHTML}function d8(K){return m1(K)&&(console.error("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before using it here.",Z1(K)),N0(K)),(typeof K==="string"?K:""+K).replace($01,`
`).replace(Q01,"")}function EG(K,Y){return Y=d8(Y),d8(K)===Y?!0:!1}function Uq(){}function h0(K,Y,q,U,N,A){switch(q){case"children":if(typeof U==="string")wW(U,Y,!1),Y==="body"||Y==="textarea"&&U===""||mZ(K,U);else if(typeof U==="number"||typeof U==="bigint")wW(""+U,Y,!1),Y!=="body"&&mZ(K,""+U);break;case"className":Q7(K,"class",U);break;case"tabIndex":Q7(K,"tabindex",U);break;case"dir":case"role":case"viewBox":case"width":case"height":Q7(K,q,U);break;case"style":oS(K,U,A);break;case"data":if(Y!=="object"){Q7(K,"data",U);break}case"src":case"href":if(U===""&&(Y!=="a"||q!=="href")){q==="src"?console.error('An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',q,q):console.error('An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',q,q),K.removeAttribute(q);break}if(U==null||typeof U==="function"||typeof U==="symbol"||typeof U==="boolean"){K.removeAttribute(q);break}l1(U,q),U=dZ(""+U),K.setAttribute(q,U);break;case"action":case"formAction":if(U!=null&&(Y==="form"?q==="formAction"?console.error("You can only pass the formAction prop to <input> or <button>. Use the action prop on <form>."):typeof U==="function"&&(N.encType==null&&N.method==null||ZH||(ZH=!0,console.error("Cannot specify a encType or method for a form that specifies a function as the action. React provides those automatically. They will get overridden.")),N.target==null||JH||(JH=!0,console.error("Cannot specify a target for a form that specifies a function as the action. The function will always be executed in the same window."))):Y==="input"||Y==="button"?q==="action"?console.error("You can only pass the action prop to <form>. Use the formAction prop on <input> or <button>."):Y!=="input"||N.type==="submit"||N.type==="image"||QH?Y!=="button"||N.type==null||N.type==="submit"||QH?typeof U==="function"&&(N.name==null||CL||(CL=!0,console.error('Cannot specify a "name" prop for a button that specifies a function as a formAction. React needs it to encode which action should be invoked. It will get overridden.')),N.formEncType==null&&N.formMethod==null||ZH||(ZH=!0,console.error("Cannot specify a formEncType or formMethod for a button that specifies a function as a formAction. React provides those automatically. They will get overridden.")),N.formTarget==null||JH||(JH=!0,console.error("Cannot specify a formTarget for a button that specifies a function as a formAction. The function will always be executed in the same window."))):(QH=!0,console.error('A button can only specify a formAction along with type="submit" or no type.')):(QH=!0,console.error('An input can only specify a formAction along with type="submit" or type="image".')):q==="action"?console.error("You can only pass the action prop to <form>."):console.error("You can only pass the formAction prop to <input> or <button>.")),typeof U==="function"){K.setAttribute(q,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A==="function"&&(q==="formAction"?(Y!=="input"&&h0(K,Y,"name",N.name,N,null),h0(K,Y,"formEncType",N.formEncType,N,null),h0(K,Y,"formMethod",N.formMethod,N,null),h0(K,Y,"formTarget",N.formTarget,N,null)):(h0(K,Y,"encType",N.encType,N,null),h0(K,Y,"method",N.method,N,null),h0(K,Y,"target",N.target,N,null)));if(U==null||typeof U==="symbol"||typeof U==="boolean"){K.removeAttribute(q);break}l1(U,q),U=dZ(""+U),K.setAttribute(q,U);break;case"onClick":U!=null&&(typeof U!=="function"&&m7(q,U),K.onclick=Uq);break;case"onScroll":U!=null&&(typeof U!=="function"&&m7(q,U),H0("scroll",K));break;case"onScrollEnd":U!=null&&(typeof U!=="function"&&m7(q,U),H0("scrollend",K));break;case"dangerouslySetInnerHTML":if(U!=null){if(typeof U!=="object"||!("__html"in U))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(q=U.__html,q!=null){if(N.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");K.innerHTML=q}}break;case"multiple":K.multiple=U&&typeof U!=="function"&&typeof U!=="symbol";break;case"muted":K.muted=U&&typeof U!=="function"&&typeof U!=="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(U==null||typeof U==="function"||typeof U==="boolean"||typeof U==="symbol"){K.removeAttribute("xlink:href");break}l1(U,q),q=dZ(""+U),K.setAttributeNS(l2,"xlink:href",q);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":U!=null&&typeof U!=="function"&&typeof U!=="symbol"?(l1(U,q),K.setAttribute(q,""+U)):K.removeAttribute(q);break;case"inert":U!==""||KH[q]||(KH[q]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",q));case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":U&&typeof U!=="function"&&typeof U!=="symbol"?K.setAttribute(q,""):K.removeAttribute(q);break;case"capture":case"download":U===!0?K.setAttribute(q,""):U!==!1&&U!=null&&typeof U!=="function"&&typeof U!=="symbol"?(l1(U,q),K.setAttribute(q,U)):K.removeAttribute(q);break;case"cols":case"rows":case"size":case"span":U!=null&&typeof U!=="function"&&typeof U!=="symbol"&&!isNaN(U)&&1<=U?(l1(U,q),K.setAttribute(q,U)):K.removeAttribute(q);break;case"rowSpan":case"start":U==null||typeof U==="function"||typeof U==="symbol"||isNaN(U)?K.removeAttribute(q):(l1(U,q),K.setAttribute(q,U));break;case"popover":H0("beforetoggle",K),H0("toggle",K),l6(K,"popover",U);break;case"xlinkActuate":J7(K,l2,"xlink:actuate",U);break;case"xlinkArcrole":J7(K,l2,"xlink:arcrole",U);break;case"xlinkRole":J7(K,l2,"xlink:role",U);break;case"xlinkShow":J7(K,l2,"xlink:show",U);break;case"xlinkTitle":J7(K,l2,"xlink:title",U);break;case"xlinkType":J7(K,l2,"xlink:type",U);break;case"xmlBase":J7(K,Sz,"xml:base",U);break;case"xmlLang":J7(K,Sz,"xml:lang",U);break;case"xmlSpace":J7(K,Sz,"xml:space",U);break;case"is":A!=null&&console.error('Cannot update the "is" prop after it has been initialized.'),l6(K,"is",U);break;case"innerText":case"textContent":break;case"popoverTarget":AL||U==null||typeof U!=="object"||(AL=!0,console.error("The `popoverTarget` prop expects the ID of an Element as a string. Received %s instead.",U));default:!(2<q.length)||q[0]!=="o"&&q[0]!=="O"||q[1]!=="n"&&q[1]!=="N"?(q=aS(q),l6(K,q,U)):I2.hasOwnProperty(q)&&U!=null&&typeof U!=="function"&&m7(q,U)}}function aC(K,Y,q,U,N,A){switch(q){case"style":oS(K,U,A);break;case"dangerouslySetInnerHTML":if(U!=null){if(typeof U!=="object"||!("__html"in U))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(q=U.__html,q!=null){if(N.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");K.innerHTML=q}}break;case"children":typeof U==="string"?mZ(K,U):(typeof U==="number"||typeof U==="bigint")&&mZ(K,""+U);break;case"onScroll":U!=null&&(typeof U!=="function"&&m7(q,U),H0("scroll",K));break;case"onScrollEnd":U!=null&&(typeof U!=="function"&&m7(q,U),H0("scrollend",K));break;case"onClick":U!=null&&(typeof U!=="function"&&m7(q,U),K.onclick=Uq);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(I2.hasOwnProperty(q))U!=null&&typeof U!=="function"&&m7(q,U);else $:{if(q[0]==="o"&&q[1]==="n"&&(N=q.endsWith("Capture"),Y=q.slice(2,N?q.length-7:void 0),A=K[E6]||null,A=A!=null?A[q]:null,typeof A==="function"&&K.removeEventListener(Y,A,N),typeof U==="function")){typeof A!=="function"&&A!==null&&(q in K?K[q]=null:K.hasAttribute(q)&&K.removeAttribute(q)),K.addEventListener(Y,U,N);break $}q in K?K[q]=U:U===!0?K.setAttribute(q,""):l6(K,q,U)}}}function p5(K,Y,q){switch(oC(Y,q),Y){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":H0("error",K),H0("load",K);var U=!1,N=!1,A;for(A in q)if(q.hasOwnProperty(A)){var B=q[A];if(B!=null)switch(A){case"src":U=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Y+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:h0(K,Y,A,B,q,null)}}N&&h0(K,Y,"srcSet",q.srcSet,q,null),U&&h0(K,Y,"src",q.src,q,null);return;case"input":i1("input",q),H0("invalid",K);var O=A=B=N=null,w=null,G=null;for(U in q)if(q.hasOwnProperty(U)){var u=q[U];if(u!=null)switch(U){case"name":N=u;break;case"type":B=u;break;case"checked":w=u;break;case"defaultChecked":G=u;break;case"value":A=u;break;case"defaultValue":O=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(Y+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:h0(K,Y,U,u,q,null)}}vS(K,q),_S(K,A,O,w,G,B,N,!1),kW(K);return;case"select":i1("select",q),H0("invalid",K),U=B=A=null;for(N in q)if(q.hasOwnProperty(N)&&(O=q[N],O!=null))switch(N){case"value":A=O;break;case"defaultValue":B=O;break;case"multiple":U=O;default:h0(K,Y,N,O,q,null)}yS(K,q),Y=A,q=B,K.multiple=!!U,Y!=null?QQ(K,!!U,Y,!1):q!=null&&QQ(K,!!U,q,!0);return;case"textarea":i1("textarea",q),H0("invalid",K),A=N=U=null;for(B in q)if(q.hasOwnProperty(B)&&(O=q[B],O!=null))switch(B){case"value":U=O;break;case"defaultValue":N=O;break;case"children":A=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:h0(K,Y,B,O,q,null)}bS(K,q),mS(K,U,N,A),kW(K);return;case"option":xS(K,q);for(w in q)if(q.hasOwnProperty(w)&&(U=q[w],U!=null))switch(w){case"selected":K.selected=U&&typeof U!=="function"&&typeof U!=="symbol";break;default:h0(K,Y,w,U,q,null)}return;case"dialog":H0("beforetoggle",K),H0("toggle",K),H0("cancel",K),H0("close",K);break;case"iframe":case"object":H0("load",K);break;case"video":case"audio":for(U=0;U<eK.length;U++)H0(eK[U],K);break;case"image":H0("error",K),H0("load",K);break;case"details":H0("toggle",K);break;case"embed":case"source":case"link":H0("error",K),H0("load",K);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in q)if(q.hasOwnProperty(G)&&(U=q[G],U!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(Y+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:h0(K,Y,G,U,q,null)}return;default:if(cZ(Y)){for(u in q)q.hasOwnProperty(u)&&(U=q[u],U!==void 0&&aC(K,Y,u,U,q,void 0));return}}for(O in q)q.hasOwnProperty(O)&&(U=q[O],U!=null&&h0(K,Y,O,U,q,null))}function it(K,Y,q,U){switch(oC(Y,U),Y){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,A=null,B=null,O=null,w=null,G=null,u=null;for(e in q){var t=q[e];if(q.hasOwnProperty(e)&&t!=null)switch(e){case"checked":break;case"value":break;case"defaultValue":w=t;default:U.hasOwnProperty(e)||h0(K,Y,e,null,U,t)}}for(var p in U){var e=U[p];if(t=q[p],U.hasOwnProperty(p)&&(e!=null||t!=null))switch(p){case"type":A=e;break;case"name":N=e;break;case"checked":G=e;break;case"defaultChecked":u=e;break;case"value":B=e;break;case"defaultValue":O=e;break;case"children":case"dangerouslySetInnerHTML":if(e!=null)throw Error(Y+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:e!==t&&h0(K,Y,p,e,U,t)}}Y=q.type==="checkbox"||q.type==="radio"?q.checked!=null:q.value!=null,U=U.type==="checkbox"||U.type==="radio"?U.checked!=null:U.value!=null,Y||!U||DL||(console.error("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),DL=!0),!Y||U||NL||(console.error("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),NL=!0),ND(K,B,O,w,G,u,A,N);return;case"select":e=B=O=p=null;for(A in q)if(w=q[A],q.hasOwnProperty(A)&&w!=null)switch(A){case"value":break;case"multiple":e=w;default:U.hasOwnProperty(A)||h0(K,Y,A,null,U,w)}for(N in U)if(A=U[N],w=q[N],U.hasOwnProperty(N)&&(A!=null||w!=null))switch(N){case"value":p=A;break;case"defaultValue":O=A;break;case"multiple":B=A;default:A!==w&&h0(K,Y,N,A,U,w)}U=O,Y=B,q=e,p!=null?QQ(K,!!Y,p,!1):!!q!==!!Y&&(U!=null?QQ(K,!!Y,U,!0):QQ(K,!!Y,Y?[]:"",!1));return;case"textarea":e=p=null;for(O in q)if(N=q[O],q.hasOwnProperty(O)&&N!=null&&!U.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:h0(K,Y,O,null,U,N)}for(B in U)if(N=U[B],A=q[B],U.hasOwnProperty(B)&&(N!=null||A!=null))switch(B){case"value":p=N;break;case"defaultValue":e=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:N!==A&&h0(K,Y,B,N,U,A)}fS(K,p,e);return;case"option":for(var k1 in q)if(p=q[k1],q.hasOwnProperty(k1)&&p!=null&&!U.hasOwnProperty(k1))switch(k1){case"selected":K.selected=!1;break;default:h0(K,Y,k1,null,U,p)}for(w in U)if(p=U[w],e=q[w],U.hasOwnProperty(w)&&p!==e&&(p!=null||e!=null))switch(w){case"selected":K.selected=p&&typeof p!=="function"&&typeof p!=="symbol";break;default:h0(K,Y,w,p,U,e)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var c1 in q)p=q[c1],q.hasOwnProperty(c1)&&p!=null&&!U.hasOwnProperty(c1)&&h0(K,Y,c1,null,U,p);for(G in U)if(p=U[G],e=q[G],U.hasOwnProperty(G)&&p!==e&&(p!=null||e!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(Y+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:h0(K,Y,G,p,U,e)}return;default:if(cZ(Y)){for(var g0 in q)p=q[g0],q.hasOwnProperty(g0)&&p!==void 0&&!U.hasOwnProperty(g0)&&aC(K,Y,g0,void 0,U,p);for(u in U)p=U[u],e=q[u],!U.hasOwnProperty(u)||p===e||p===void 0&&e===void 0||aC(K,Y,u,p,U,e);return}}for(var F0 in q)p=q[F0],q.hasOwnProperty(F0)&&p!=null&&!U.hasOwnProperty(F0)&&h0(K,Y,F0,null,U,p);for(t in U)p=U[t],e=q[t],!U.hasOwnProperty(t)||p===e||p==null&&e==null||h0(K,Y,t,p,U,e)}function jG(K){switch(K){case"class":return"className";case"for":return"htmlFor";default:return K}}function rC(K){var Y={};K=K.style;for(var q=0;q<K.length;q++){var U=K[q];Y[U]=K.getPropertyValue(U)}return Y}function LG(K,Y,q){if(Y!=null&&typeof Y!=="object")console.error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");else{var U,N=U="",A;for(A in Y)if(Y.hasOwnProperty(A)){var B=Y[A];B!=null&&typeof B!=="boolean"&&B!==""&&(A.indexOf("--")===0?(C5(B,A),U+=N+A+":"+(""+B).trim()):typeof B!=="number"||B===0||gE.has(A)?(C5(B,A),U+=N+A.replace(LE,"-$1").toLowerCase().replace(hE,"-ms-")+":"+(""+B).trim()):U+=N+A.replace(LE,"-$1").toLowerCase().replace(hE,"-ms-")+":"+B+"px",N=";")}U=U||null,Y=K.getAttribute("style"),Y!==U&&(U=d8(U),d8(Y)!==U&&(q.style=rC(K)))}}function A4(K,Y,q,U,N,A){if(N.delete(q),K=K.getAttribute(q),K===null)switch(typeof U){case"undefined":case"function":case"symbol":case"boolean":return}else if(U!=null)switch(typeof U){case"function":case"symbol":case"boolean":break;default:if(l1(U,Y),K===""+U)return}v5(Y,K,U,A)}function hG(K,Y,q,U,N,A){if(N.delete(q),K=K.getAttribute(q),K===null){switch(typeof U){case"function":case"symbol":return}if(!U)return}else switch(typeof U){case"function":case"symbol":break;default:if(U)return}v5(Y,K,U,A)}function tC(K,Y,q,U,N,A){if(N.delete(q),K=K.getAttribute(q),K===null)switch(typeof U){case"undefined":case"function":case"symbol":return}else if(U!=null)switch(typeof U){case"function":case"symbol":break;default:if(l1(U,q),K===""+U)return}v5(Y,K,U,A)}function vG(K,Y,q,U,N,A){if(N.delete(q),K=K.getAttribute(q),K===null)switch(typeof U){case"undefined":case"function":case"symbol":case"boolean":return;default:if(isNaN(U))return}else if(U!=null)switch(typeof U){case"function":case"symbol":case"boolean":break;default:if(!isNaN(U)&&(l1(U,Y),K===""+U))return}v5(Y,K,U,A)}function eC(K,Y,q,U,N,A){if(N.delete(q),K=K.getAttribute(q),K===null)switch(typeof U){case"undefined":case"function":case"symbol":case"boolean":return}else if(U!=null)switch(typeof U){case"function":case"symbol":case"boolean":break;default:if(l1(U,Y),q=dZ(""+U),K===q)return}v5(Y,K,U,A)}function _G(K,Y,q,U){for(var N={},A=new Set,B=K.attributes,O=0;O<B.length;O++)switch(B[O].name.toLowerCase()){case"value":break;case"checked":break;case"selected":break;default:A.add(B[O].name)}if(cZ(Y)){for(var w in q)if(q.hasOwnProperty(w)){var G=q[w];if(G!=null){if(I2.hasOwnProperty(w))typeof G!=="function"&&m7(w,G);else if(q.suppressHydrationWarning!==!0)switch(w){case"children":typeof G!=="string"&&typeof G!=="number"||v5("children",K.textContent,G,N);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":B=K.innerHTML,G=G?G.__html:void 0,G!=null&&(G=GG(K,G),v5(w,B,G,N));continue;case"style":A.delete(w),LG(K,G,N);continue;case"offsetParent":case"offsetTop":case"offsetLeft":case"offsetWidth":case"offsetHeight":case"isContentEditable":case"outerText":case"outerHTML":A.delete(w.toLowerCase()),console.error("Assignment to read-only property will result in a no-op: `%s`",w);continue;case"className":A.delete("class"),B=K0(K,"class",G),v5("className",B,G,N);continue;default:U.context===e3&&Y!=="svg"&&Y!=="math"?A.delete(w.toLowerCase()):A.delete(w),B=K0(K,w,G),v5(w,B,G,N)}}}}else for(G in q)if(q.hasOwnProperty(G)&&(w=q[G],w!=null)){if(I2.hasOwnProperty(G))typeof w!=="function"&&m7(G,w);else if(q.suppressHydrationWarning!==!0)switch(G){case"children":typeof w!=="string"&&typeof w!=="number"||v5("children",K.textContent,w,N);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"value":case"checked":case"selected":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":B=K.innerHTML,w=w?w.__html:void 0,w!=null&&(w=GG(K,w),B!==w&&(N[G]={__html:B}));continue;case"className":A4(K,G,"class",w,A,N);continue;case"tabIndex":A4(K,G,"tabindex",w,A,N);continue;case"style":A.delete(G),LG(K,w,N);continue;case"multiple":A.delete(G),v5(G,K.multiple,w,N);continue;case"muted":A.delete(G),v5(G,K.muted,w,N);continue;case"autoFocus":A.delete("autofocus"),v5(G,K.autofocus,w,N);continue;case"data":if(Y!=="object"){A.delete(G),B=K.getAttribute("data"),v5(G,B,w,N);continue}case"src":case"href":if(!(w!==""||Y==="a"&&G==="href"||Y==="object"&&G==="data")){G==="src"?console.error('An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',G,G):console.error('An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',G,G);continue}eC(K,G,G,w,A,N);continue;case"action":case"formAction":if(B=K.getAttribute(G),typeof w==="function"){A.delete(G.toLowerCase()),G==="formAction"?(A.delete("name"),A.delete("formenctype"),A.delete("formmethod"),A.delete("formtarget")):(A.delete("enctype"),A.delete("method"),A.delete("target"));continue}else if(B===J01){A.delete(G.toLowerCase()),v5(G,"function",w,N);continue}eC(K,G,G.toLowerCase(),w,A,N);continue;case"xlinkHref":eC(K,G,"xlink:href",w,A,N);continue;case"contentEditable":tC(K,G,"contenteditable",w,A,N);continue;case"spellCheck":tC(K,G,"spellcheck",w,A,N);continue;case"draggable":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":tC(K,G,G,w,A,N);continue;case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":hG(K,G,G.toLowerCase(),w,A,N);continue;case"capture":case"download":$:{O=K;var u=B=G,t=N;if(A.delete(u),O=O.getAttribute(u),O===null)switch(typeof w){case"undefined":case"function":case"symbol":break $;default:if(w===!1)break $}else if(w!=null)switch(typeof w){case"function":case"symbol":break;case"boolean":if(w===!0&&O==="")break $;break;default:if(l1(w,B),O===""+w)break $}v5(B,O,w,t)}continue;case"cols":case"rows":case"size":case"span":$:{if(O=K,u=B=G,t=N,A.delete(u),O=O.getAttribute(u),O===null)switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":break $;default:if(isNaN(w)||1>w)break $}else if(w!=null)switch(typeof w){case"function":case"symbol":case"boolean":break;default:if(!(isNaN(w)||1>w)&&(l1(w,B),O===""+w))break $}v5(B,O,w,t)}continue;case"rowSpan":vG(K,G,"rowspan",w,A,N);continue;case"start":vG(K,G,G,w,A,N);continue;case"xHeight":A4(K,G,"x-height",w,A,N);continue;case"xlinkActuate":A4(K,G,"xlink:actuate",w,A,N);continue;case"xlinkArcrole":A4(K,G,"xlink:arcrole",w,A,N);continue;case"xlinkRole":A4(K,G,"xlink:role",w,A,N);continue;case"xlinkShow":A4(K,G,"xlink:show",w,A,N);continue;case"xlinkTitle":A4(K,G,"xlink:title",w,A,N);continue;case"xlinkType":A4(K,G,"xlink:type",w,A,N);continue;case"xmlBase":A4(K,G,"xml:base",w,A,N);continue;case"xmlLang":A4(K,G,"xml:lang",w,A,N);continue;case"xmlSpace":A4(K,G,"xml:space",w,A,N);continue;case"inert":w!==""||KH[G]||(KH[G]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",G)),hG(K,G,G,w,A,N);continue;default:if(!(2<G.length)||G[0]!=="o"&&G[0]!=="O"||G[1]!=="n"&&G[1]!=="N"){O=aS(G),B=!1,U.context===e3&&Y!=="svg"&&Y!=="math"?A.delete(O.toLowerCase()):(u=G.toLowerCase(),u=Gq.hasOwnProperty(u)?Gq[u]||null:null,u!==null&&u!==G&&(B=!0,A.delete(u)),A.delete(O));$:if(u=K,t=O,O=w,O0(t))if(u.hasAttribute(t))u=u.getAttribute(t),l1(O,t),O=u===""+O?O:u;else{switch(typeof O){case"function":case"symbol":break $;case"boolean":if(u=t.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-")break $}O=O===void 0?void 0:null}else O=void 0;B||v5(G,O,w,N)}}}return 0<A.size&&q.suppressHydrationWarning!==!0&&ut(K,A,N),Object.keys(N).length===0?null:N}function nt(K,Y){switch(K.length){case 0:return"";case 1:return K[0];case 2:return K[0]+" "+Y+" "+K[1];default:return K.slice(0,-1).join(", ")+", "+Y+" "+K[K.length-1]}}function Vq(K){return K.nodeType===9?K:K.ownerDocument}function xG(K){switch(K){case PQ:return eQ;case Iq:return WH;default:return e3}}function gG(K,Y){if(K===e3)switch(Y){case"svg":return eQ;case"math":return WH;default:return e3}return K===eQ&&Y==="foreignObject"?e3:K}function $A(K,Y){return K==="textarea"||K==="noscript"||typeof Y.children==="string"||typeof Y.children==="number"||typeof Y.children==="bigint"||typeof Y.dangerouslySetInnerHTML==="object"&&Y.dangerouslySetInnerHTML!==null&&Y.dangerouslySetInnerHTML.__html!=null}function st(){var K=window.event;if(K&&K.type==="popstate"){if(K===Ez)return!1;return Ez=K,!0}return Ez=null,!1}function ot(K){setTimeout(function(){throw K})}function at(K,Y,q){switch(Y){case"button":case"input":case"select":case"textarea":q.autoFocus&&K.focus();break;case"img":q.src?K.src=q.src:q.srcSet&&(K.srcset=q.srcSet)}}function rt(K,Y,q,U){it(K,Y,q,U),K[E6]=U}function yG(K){mZ(K,"")}function tt(K,Y,q){K.nodeValue=q}function l8(K){return K==="head"}function et(K,Y){K.removeChild(Y)}function $e(K,Y){(K.nodeType===9?K.body:K.nodeName==="HTML"?K.ownerDocument.body:K).removeChild(Y)}function bG(K,Y){var q=Y,U=0,N=0;do{var A=q.nextSibling;if(K.removeChild(q),A&&A.nodeType===8)if(q=A.data,q===YH){if(0<U&&8>U){q=U;var B=K.ownerDocument;if(q&K01&&NK(B.documentElement),q&X01&&NK(B.body),q&Y01)for(q=B.head,NK(q),B=q.firstChild;B;){var{nextSibling:O,nodeName:w}=B;B[OK]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&B.rel.toLowerCase()==="stylesheet"||q.removeChild(B),B=O}}if(N===0){K.removeChild(A),zK(Y);return}N--}else q===XH||q===t3||q===$X?N++:U=q.charCodeAt(0)-48;else U=0;q=A}while(q);zK(Y)}function Qe(K){K=K.style,typeof K.setProperty==="function"?K.setProperty("display","none","important"):K.display="none"}function Je(K){K.nodeValue=""}function Ze(K,Y){Y=Y[W01],Y=Y!==void 0&&Y!==null&&Y.hasOwnProperty("display")?Y.display:null,K.style.display=Y==null||typeof Y==="boolean"?"":(""+Y).trim()}function Ke(K,Y){K.nodeValue=Y}function QA(K){var Y=K.firstChild;Y&&Y.nodeType===10&&(Y=Y.nextSibling);for(;Y;){var q=Y;switch(Y=Y.nextSibling,q.nodeName){case"HTML":case"HEAD":case"BODY":QA(q),F2(q);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(q.rel.toLowerCase()==="stylesheet")continue}K.removeChild(q)}}function Xe(K,Y,q,U){for(;K.nodeType===1;){var N=q;if(K.nodeName.toLowerCase()!==Y.toLowerCase()){if(!U&&(K.nodeName!=="INPUT"||K.type!=="hidden"))break}else if(!U)if(Y==="input"&&K.type==="hidden"){l1(N.name,"name");var A=N.name==null?null:""+N.name;if(N.type==="hidden"&&K.getAttribute("name")===A)return K}else return K;else if(!K[OK])switch(Y){case"meta":if(!K.hasAttribute("itemprop"))break;return K;case"link":if(A=K.getAttribute("rel"),A==="stylesheet"&&K.hasAttribute("data-precedence"))break;else if(A!==N.rel||K.getAttribute("href")!==(N.href==null||N.href===""?null:N.href)||K.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||K.getAttribute("title")!==(N.title==null?null:N.title))break;return K;case"style":if(K.hasAttribute("data-precedence"))break;return K;case"script":if(A=K.getAttribute("src"),(A!==(N.src==null?null:N.src)||K.getAttribute("type")!==(N.type==null?null:N.type)||K.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&A&&K.hasAttribute("async")&&!K.hasAttribute("itemprop"))break;return K;default:return K}if(K=z4(K.nextSibling),K===null)break}return null}function Ye(K,Y,q){if(Y==="")return null;for(;K.nodeType!==3;){if((K.nodeType!==1||K.nodeName!=="INPUT"||K.type!=="hidden")&&!q)return null;if(K=z4(K.nextSibling),K===null)return null}return K}function JA(K){return K.data===$X||K.data===t3&&K.ownerDocument.readyState===BL}function We(K,Y){var q=K.ownerDocument;if(K.data!==t3||q.readyState===BL)Y();else{var U=function(){Y(),q.removeEventListener("DOMContentLoaded",U)};q.addEventListener("DOMContentLoaded",U),K._reactRetry=U}}function z4(K){for(;K!=null;K=K.nextSibling){var Y=K.nodeType;if(Y===1||Y===3)break;if(Y===8){if(Y=K.data,Y===XH||Y===$X||Y===t3||Y===Tz||Y===zL)break;if(Y===YH)return null}}return K}function fG(K){if(K.nodeType===1){for(var Y=K.nodeName.toLowerCase(),q={},U=K.attributes,N=0;N<U.length;N++){var A=U[N];q[jG(A.name)]=A.name.toLowerCase()==="style"?rC(K):A.value}return{type:Y,props:q}}return K.nodeType===8?{type:"Suspense",props:{}}:K.nodeValue}function mG(K,Y,q){return q===null||q[Z01]!==!0?(K.nodeValue===Y?K=null:(Y=d8(Y),K=d8(K.nodeValue)===Y?null:K.nodeValue),K):null}function cG(K){K=K.nextSibling;for(var Y=0;K;){if(K.nodeType===8){var q=K.data;if(q===YH){if(Y===0)return z4(K.nextSibling);Y--}else q!==XH&&q!==$X&&q!==t3||Y++}K=K.nextSibling}return null}function dG(K){K=K.previousSibling;for(var Y=0;K;){if(K.nodeType===8){var q=K.data;if(q===XH||q===$X||q===t3){if(Y===0)return K;Y--}else q===YH&&Y++}K=K.previousSibling}return null}function qe(K){zK(K)}function He(K){zK(K)}function lG(K,Y,q,U,N){switch(N&&RD(K,U.ancestorInfo),Y=Vq(q),K){case"html":if(K=Y.documentElement,!K)throw Error("React expected an <html> element (document.documentElement) to exist in the Document but one was not found. React never removes the documentElement for any Document it renders into so the cause is likely in some other script running on this page.");return K;case"head":if(K=Y.head,!K)throw Error("React expected a <head> element (document.head) to exist in the Document but one was not found. React never removes the head for any Document it renders into so the cause is likely in some other script running on this page.");return K;case"body":if(K=Y.body,!K)throw Error("React expected a <body> element (document.body) to exist in the Document but one was not found. React never removes the body for any Document it renders into so the cause is likely in some other script running on this page.");return K;default:throw Error("resolveSingletonInstance was called with an element type that is not supported. This is a bug in React.")}}function Fe(K,Y,q,U){if(!q[s8]&&M(q)){var N=q.tagName.toLowerCase();console.error("You are mounting a new %s component when a previous one has not first unmounted. It is an error to render more than one %s component at a time and attributes and children of these components will likely fail in unpredictable ways. Please only render a single instance of <%s> and if you need to mount a new one, ensure any previous ones have unmounted first.",N,N,N)}switch(K){case"html":case"head":case"body":break;default:console.error("acquireSingletonInstance was called with an element type that is not supported. This is a bug in React.")}for(N=q.attributes;N.length;)q.removeAttributeNode(N[0]);p5(q,K,Y),q[$6]=U,q[E6]=Y}function NK(K){for(var Y=K.attributes;Y.length;)K.removeAttributeNode(Y[0]);F2(K)}function Nq(K){return typeof K.getRootNode==="function"?K.getRootNode():K.nodeType===9?K:K.ownerDocument}function pG(K,Y,q){var U=$J;if(U&&typeof Y==="string"&&Y){var N=C4(Y);N='link[rel="'+K+'"][href="'+N+'"]',typeof q==="string"&&(N+='[crossorigin="'+q+'"]'),wL.has(N)||(wL.add(N),K={rel:K,crossOrigin:q,href:Y},U.querySelector(N)===null&&(Y=U.createElement("link"),p5(Y,"link",K),V1(Y),U.head.appendChild(Y)))}}function uG(K,Y,q,U){var N=(N=i8.current)?Nq(N):null;if(!N)throw Error('"resourceRoot" was expected to exist. This is a bug in React.');switch(K){case"meta":case"title":return null;case"style":return typeof q.precedence==="string"&&typeof q.href==="string"?(q=CQ(q.href),Y=N1(N).hoistableStyles,U=Y.get(q),U||(U={type:"style",instance:null,count:0,state:null},Y.set(q,U)),U):{type:"void",instance:null,count:0,state:null};case"link":if(q.rel==="stylesheet"&&typeof q.href==="string"&&typeof q.precedence==="string"){K=CQ(q.href);var A=N1(N).hoistableStyles,B=A.get(K);if(!B&&(N=N.ownerDocument||N,B={type:"stylesheet",instance:null,count:0,state:{loading:u2,preload:null}},A.set(K,B),(A=N.querySelector(DK(K)))&&!A._p&&(B.instance=A,B.state.loading=QX|I4),!G4.has(K))){var O={rel:"preload",as:"style",href:q.href,crossOrigin:q.crossOrigin,integrity:q.integrity,media:q.media,hrefLang:q.hrefLang,referrerPolicy:q.referrerPolicy};G4.set(K,O),A||Ue(N,K,O,B.state)}if(Y&&U===null)throw q=`

  - `+Dq(Y)+`
  + `+Dq(q),Error("Expected <link> not to update to be updated to a stylesheet with precedence. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+q);return B}if(Y&&U!==null)throw q=`

  - `+Dq(Y)+`
  + `+Dq(q),Error("Expected stylesheet with precedence to not be updated to a different kind of <link>. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+q);return null;case"script":return Y=q.async,q=q.src,typeof q==="string"&&Y&&typeof Y!=="function"&&typeof Y!=="symbol"?(q=AQ(q),Y=N1(N).hoistableScripts,U=Y.get(q),U||(U={type:"script",instance:null,count:0,state:null},Y.set(q,U)),U):{type:"void",instance:null,count:0,state:null};default:throw Error('getResource encountered a type it did not expect: "'+K+'". this is a bug in React.')}}function Dq(K){var Y=0,q="<link";return typeof K.rel==="string"?(Y++,q+=' rel="'+K.rel+'"'):l3.call(K,"rel")&&(Y++,q+=' rel="'+(K.rel===null?"null":"invalid type "+typeof K.rel)+'"'),typeof K.href==="string"?(Y++,q+=' href="'+K.href+'"'):l3.call(K,"href")&&(Y++,q+=' href="'+(K.href===null?"null":"invalid type "+typeof K.href)+'"'),typeof K.precedence==="string"?(Y++,q+=' precedence="'+K.precedence+'"'):l3.call(K,"precedence")&&(Y++,q+=" precedence={"+(K.precedence===null?"null":"invalid type "+typeof K.precedence)+"}"),Object.getOwnPropertyNames(K).length>Y&&(q+=" ..."),q+" />"}function CQ(K){return'href="'+C4(K)+'"'}function DK(K){return'link[rel="stylesheet"]['+K+"]"}function iG(K){return X0({},K,{"data-precedence":K.precedence,precedence:null})}function Ue(K,Y,q,U){K.querySelector('link[rel="preload"][as="style"]['+Y+"]")?U.loading=QX:(Y=K.createElement("link"),U.preload=Y,Y.addEventListener("load",function(){return U.loading|=QX}),Y.addEventListener("error",function(){return U.loading|=PL}),p5(Y,"link",q),V1(Y),K.head.appendChild(Y))}function AQ(K){return'[src="'+C4(K)+'"]'}function CK(K){return"script[async]"+K}function nG(K,Y,q){if(Y.count++,Y.instance===null)switch(Y.type){case"style":var U=K.querySelector('style[data-href~="'+C4(q.href)+'"]');if(U)return Y.instance=U,V1(U),U;var N=X0({},q,{"data-href":q.href,"data-precedence":q.precedence,href:null,precedence:null});return U=(K.ownerDocument||K).createElement("style"),V1(U),p5(U,"style",N),Cq(U,q.precedence,K),Y.instance=U;case"stylesheet":N=CQ(q.href);var A=K.querySelector(DK(N));if(A)return Y.state.loading|=I4,Y.instance=A,V1(A),A;U=iG(q),(N=G4.get(N))&&ZA(U,N),A=(K.ownerDocument||K).createElement("link"),V1(A);var B=A;return B._p=new Promise(function(O,w){B.onload=O,B.onerror=w}),p5(A,"link",U),Y.state.loading|=I4,Cq(A,q.precedence,K),Y.instance=A;case"script":if(A=AQ(q.src),N=K.querySelector(CK(A)))return Y.instance=N,V1(N),N;if(U=q,N=G4.get(A))U=X0({},q),KA(U,N);return K=K.ownerDocument||K,N=K.createElement("script"),V1(N),p5(N,"link",U),K.head.appendChild(N),Y.instance=N;case"void":return null;default:throw Error('acquireResource encountered a resource type it did not expect: "'+Y.type+'". this is a bug in React.')}else Y.type==="stylesheet"&&(Y.state.loading&I4)===u2&&(U=Y.instance,Y.state.loading|=I4,Cq(U,q.precedence,K));return Y.instance}function Cq(K,Y,q){for(var U=q.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=U.length?U[U.length-1]:null,A=N,B=0;B<U.length;B++){var O=U[B];if(O.dataset.precedence===Y)A=O;else if(A!==N)break}A?A.parentNode.insertBefore(K,A.nextSibling):(Y=q.nodeType===9?q.head:q,Y.insertBefore(K,Y.firstChild))}function ZA(K,Y){K.crossOrigin==null&&(K.crossOrigin=Y.crossOrigin),K.referrerPolicy==null&&(K.referrerPolicy=Y.referrerPolicy),K.title==null&&(K.title=Y.title)}function KA(K,Y){K.crossOrigin==null&&(K.crossOrigin=Y.crossOrigin),K.referrerPolicy==null&&(K.referrerPolicy=Y.referrerPolicy),K.integrity==null&&(K.integrity=Y.integrity)}function sG(K,Y,q){if(qH===null){var U=new Map,N=qH=new Map;N.set(q,U)}else N=qH,U=N.get(q),U||(U=new Map,N.set(q,U));if(U.has(K))return U;U.set(K,null),q=q.getElementsByTagName(K);for(N=0;N<q.length;N++){var A=q[N];if(!(A[OK]||A[$6]||K==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!==PQ){var B=A.getAttribute(Y)||"";B=K+B;var O=U.get(B);O?O.push(A):U.set(B,[A])}}return U}function oG(K,Y,q){K=K.ownerDocument||K,K.head.insertBefore(q,Y==="title"?K.querySelector("head > title"):null)}function Ve(K,Y,q){var U=!q.ancestorInfo.containerTagInScope;if(q.context===eQ||Y.itemProp!=null)return!U||Y.itemProp==null||K!=="meta"&&K!=="title"&&K!=="style"&&K!=="link"&&K!=="script"||console.error("Cannot render a <%s> outside the main document if it has an `itemProp` prop. `itemProp` suggests the tag belongs to an `itemScope` which can appear anywhere in the DOM. If you were intending for React to hoist this <%s> remove the `itemProp` prop. Otherwise, try moving this tag into the <head> or <body> of the Document.",K,K),!1;switch(K){case"meta":case"title":return!0;case"style":if(typeof Y.precedence!=="string"||typeof Y.href!=="string"||Y.href===""){U&&console.error('Cannot render a <style> outside the main document without knowing its precedence and a unique href key. React can hoist and deduplicate <style> tags if you provide a `precedence` prop along with an `href` prop that does not conflict with the `href` values used in any other hoisted <style> or <link rel="stylesheet" ...> tags.  Note that hoisting <style> tags is considered an advanced feature that most will not use directly. Consider moving the <style> tag to the <head> or consider adding a `precedence="default"` and `href="some unique resource identifier"`.');break}return!0;case"link":if(typeof Y.rel!=="string"||typeof Y.href!=="string"||Y.href===""||Y.onLoad||Y.onError){if(Y.rel==="stylesheet"&&typeof Y.precedence==="string"){K=Y.href;var{onError:N,disabled:A}=Y;q=[],Y.onLoad&&q.push("`onLoad`"),N&&q.push("`onError`"),A!=null&&q.push("`disabled`"),N=nt(q,"and"),N+=q.length===1?" prop":" props",A=q.length===1?"an "+N:"the "+N,q.length&&console.error('React encountered a <link rel="stylesheet" href="%s" ... /> with a `precedence` prop that also included %s. The presence of loading and error handlers indicates an intent to manage the stylesheet loading state from your from your Component code and React will not hoist or deduplicate this stylesheet. If your intent was to have React hoist and deduplciate this stylesheet using the `precedence` prop remove the %s, otherwise remove the `precedence` prop.',K,A,N)}U&&(typeof Y.rel!=="string"||typeof Y.href!=="string"||Y.href===""?console.error("Cannot render a <link> outside the main document without a `rel` and `href` prop. Try adding a `rel` and/or `href` prop to this <link> or moving the link into the <head> tag"):(Y.onError||Y.onLoad)&&console.error("Cannot render a <link> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."));break}switch(Y.rel){case"stylesheet":return K=Y.precedence,Y=Y.disabled,typeof K!=="string"&&U&&console.error('Cannot render a <link rel="stylesheet" /> outside the main document without knowing its precedence. Consider adding precedence="default" or moving it into the root <head> tag.'),typeof K==="string"&&Y==null;default:return!0}case"script":if(K=Y.async&&typeof Y.async!=="function"&&typeof Y.async!=="symbol",!K||Y.onLoad||Y.onError||!Y.src||typeof Y.src!=="string"){U&&(K?Y.onLoad||Y.onError?console.error("Cannot render a <script> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."):console.error("Cannot render a <script> outside the main document without `async={true}` and a non-empty `src` prop. Ensure there is a valid `src` and either make the script async or move it into the root <head> tag or somewhere in the <body>."):console.error('Cannot render a sync or defer <script> outside the main document without knowing its order. Try adding async="" or moving it into the root <head> tag.'));break}return!0;case"noscript":case"template":U&&console.error("Cannot render <%s> outside the main document. Try moving it into the root <head> tag.",K)}return!1}function aG(K){return K.type==="stylesheet"&&(K.state.loading&ML)===u2?!1:!0}function Ne(){}function De(K,Y,q){if(JX===null)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var U=JX;if(Y.type==="stylesheet"&&(typeof q.media!=="string"||matchMedia(q.media).matches!==!1)&&(Y.state.loading&I4)===u2){if(Y.instance===null){var N=CQ(q.href),A=K.querySelector(DK(N));if(A){K=A._p,K!==null&&typeof K==="object"&&typeof K.then==="function"&&(U.count++,U=Aq.bind(U),K.then(U,U)),Y.state.loading|=I4,Y.instance=A,V1(A);return}A=K.ownerDocument||K,q=iG(q),(N=G4.get(N))&&ZA(q,N),A=A.createElement("link"),V1(A);var B=A;B._p=new Promise(function(O,w){B.onload=O,B.onerror=w}),p5(A,"link",q),Y.instance=A}U.stylesheets===null&&(U.stylesheets=new Map),U.stylesheets.set(Y,K),(K=Y.state.preload)&&(Y.state.loading&ML)===u2&&(U.count++,Y=Aq.bind(U),K.addEventListener("load",Y),K.addEventListener("error",Y))}}function Ce(){if(JX===null)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var K=JX;return K.stylesheets&&K.count===0&&XA(K,K.stylesheets),0<K.count?function(Y){var q=setTimeout(function(){if(K.stylesheets&&XA(K,K.stylesheets),K.unsuspend){var U=K.unsuspend;K.unsuspend=null,U()}},60000);return K.unsuspend=Y,function(){K.unsuspend=null,clearTimeout(q)}}:null}function Aq(){if(this.count--,this.count===0){if(this.stylesheets)XA(this,this.stylesheets);else if(this.unsuspend){var K=this.unsuspend;this.unsuspend=null,K()}}}function XA(K,Y){K.stylesheets=null,K.unsuspend!==null&&(K.count++,HH=new Map,Y.forEach(Ae,K),HH=null,Aq.call(K))}function Ae(K,Y){if(!(Y.state.loading&I4)){var q=HH.get(K);if(q)var U=q.get(Lz);else{q=new Map,HH.set(K,q);for(var N=K.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<N.length;A++){var B=N[A];if(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")q.set(B.dataset.precedence,B),U=B}U&&q.set(Lz,U)}N=Y.instance,B=N.getAttribute("data-precedence"),A=q.get(B)||U,A===U&&q.set(Lz,N),q.set(B,N),this.count++,U=Aq.bind(this),N.addEventListener("load",U),N.addEventListener("error",U),A?A.parentNode.insertBefore(N,A.nextSibling):(K=K.nodeType===9?K.head:K,K.insertBefore(N,K.firstChild)),Y.state.loading|=I4}}function ze(K,Y,q,U,N,A,B,O){this.tag=1,this.containerInfo=K,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=p2,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=t$(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=t$(0),this.hiddenUpdates=t$(null),this.identifierPrefix=U,this.onUncaughtError=N,this.onCaughtError=A,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map,this.passiveEffectDuration=this.effectDuration=-0,this.memoizedUpdaters=new Set,K=this.pendingUpdatersLaneMap=[];for(Y=0;31>Y;Y++)K.push(new Set);this._debugRootType=q?"hydrateRoot()":"createRoot()"}function rG(K,Y,q,U,N,A,B,O,w,G,u,t){return K=new ze(K,Y,q,B,O,w,G,t),Y=v11,A===!0&&(Y|=Q6|W7),X7&&(Y|=i5),A=R(3,null,null,Y),K.current=A,A.stateNode=K,Y=xD(),k2(Y),K.pooledCache=Y,k2(Y),A.memoizedState={element:U,isDehydrated:q,cache:Y},fD(A),K}function tG(K){if(!K)return a8;return K=a8,K}function YA(K,Y,q,U,N,A){if(e5&&typeof e5.onScheduleFiberRoot==="function")try{e5.onScheduleFiberRoot(OQ,U,q)}catch(B){l7||(l7=!0,console.error("React instrumentation encountered an error: %s",B))}B1!==null&&typeof B1.markRenderScheduled==="function"&&B1.markRenderScheduled(Y),N=tG(N),U.context===null?U.context=N:U.pendingContext=N,u7&&r6!==null&&!GL&&(GL=!0,console.error(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,Q1(r6)||"Unknown")),U=g8(Y),U.payload={element:q},A=A===void 0?null:A,A!==null&&(typeof A!=="function"&&console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",A),U.callback=A),q=y8(K,U,Y),q!==null&&(z5(q,K,Y),rZ(q,K,Y))}function eG(K,Y){if(K=K.memoizedState,K!==null&&K.dehydrated!==null){var q=K.retryLane;K.retryLane=q!==0&&q<Y?q:Y}}function WA(K,Y){eG(K,Y),(K=K.alternate)&&eG(K,Y)}function $E(K){if(K.tag===13){var Y=T6(K,67108864);Y!==null&&z5(Y,K,67108864),WA(K,67108864)}}function Be(){return r6}function Re(){for(var K=new Map,Y=1,q=0;31>q;q++){var U=o$(Y);K.set(Y,U),Y*=2}return K}function Oe(K,Y,q,U){var N=r.T;r.T=null;var A=M0.p;try{M0.p=a6,qA(K,Y,q,U)}finally{M0.p=A,r.T=N}}function ke(K,Y,q,U){var N=r.T;r.T=null;var A=M0.p;try{M0.p=Y7,qA(K,Y,q,U)}finally{M0.p=A,r.T=N}}function qA(K,Y,q,U){if(UH){var N=HA(U);if(N===null)sC(K,Y,U,VH,q),JE(K,U);else if(Pe(N,K,Y,q,U))U.stopPropagation();else if(JE(K,U),Y&4&&-1<U01.indexOf(K)){for(;N!==null;){var A=M(N);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var B=v7(A.pendingLanes);if(B!==0){var O=A;O.pendingLanes|=2;for(O.entangledLanes|=2;B;){var w=1<<31-H6(B);O.entanglements[1]|=w,B&=~w}f7(A),(w0&(D6|U7))===t6&&(oq=d7()+YL,UK(0,!1))}}break;case 13:O=T6(A,2),O!==null&&z5(O,A,2),UQ(),WA(A,2)}if(A=HA(U),A===null&&sC(K,Y,U,VH,q),A===N)break;N=A}N!==null&&U.stopPropagation()}else sC(K,Y,U,null,q)}}function HA(K){return K=OD(K),FA(K)}function FA(K){if(VH=null,K=h3(K),K!==null){var Y=_(K);if(Y===null)K=null;else{var q=Y.tag;if(q===13){if(K=v(Y),K!==null)return K;K=null}else if(q===3){if(Y.stateNode.current.memoizedState.isDehydrated)return Y.tag===3?Y.stateNode.containerInfo:null;K=null}else Y!==K&&(K=null)}}return VH=K,null}function QE(K){switch(K){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return a6;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return Y7;case"message":switch(he()){case OA:return a6;case kA:return Y7;case RQ:case ve:return p7;case PA:return Sq;default:return p7}default:return p7}}function JE(K,Y){switch(K){case"focusin":case"focusout":Y9=null;break;case"dragenter":case"dragleave":W9=null;break;case"mouseover":case"mouseout":q9=null;break;case"pointerover":case"pointerout":KX.delete(Y.pointerId);break;case"gotpointercapture":case"lostpointercapture":XX.delete(Y.pointerId)}}function AK(K,Y,q,U,N,A){if(K===null||K.nativeEvent!==A)return K={blockedOn:Y,domEventName:q,eventSystemFlags:U,nativeEvent:A,targetContainers:[N]},Y!==null&&(Y=M(Y),Y!==null&&$E(Y)),K;return K.eventSystemFlags|=U,Y=K.targetContainers,N!==null&&Y.indexOf(N)===-1&&Y.push(N),K}function Pe(K,Y,q,U,N){switch(Y){case"focusin":return Y9=AK(Y9,K,Y,q,U,N),!0;case"dragenter":return W9=AK(W9,K,Y,q,U,N),!0;case"mouseover":return q9=AK(q9,K,Y,q,U,N),!0;case"pointerover":var A=N.pointerId;return KX.set(A,AK(KX.get(A)||null,K,Y,q,U,N)),!0;case"gotpointercapture":return A=N.pointerId,XX.set(A,AK(XX.get(A)||null,K,Y,q,U,N)),!0}return!1}function ZE(K){var Y=h3(K.target);if(Y!==null){var q=_(Y);if(q!==null){if(Y=q.tag,Y===13){if(Y=v(q),Y!==null){K.blockedOn=Y,$Q(K.priority,function(){if(q.tag===13){var U=s6(q);U=e$(U);var N=T6(q,U);N!==null&&z5(N,q,U),WA(q,U)}});return}}else if(Y===3&&q.stateNode.current.memoizedState.isDehydrated){K.blockedOn=q.tag===3?q.stateNode.containerInfo:null;return}}}K.blockedOn=null}function zq(K){if(K.blockedOn!==null)return!1;for(var Y=K.targetContainers;0<Y.length;){var q=HA(K.nativeEvent);if(q===null){q=K.nativeEvent;var U=new q.constructor(q.type,q),N=U;PK!==null&&console.error("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),PK=N,q.target.dispatchEvent(U),PK===null&&console.error("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),PK=null}else return Y=M(q),Y!==null&&$E(Y),K.blockedOn=q,!1;Y.shift()}return!0}function KE(K,Y,q){zq(K)&&q.delete(Y)}function Me(){hz=!1,Y9!==null&&zq(Y9)&&(Y9=null),W9!==null&&zq(W9)&&(W9=null),q9!==null&&zq(q9)&&(q9=null),KX.forEach(KE),XX.forEach(KE)}function Bq(K,Y){K.blockedOn===Y&&(K.blockedOn=null,hz||(hz=!0,B0.unstable_scheduleCallback(B0.unstable_NormalPriority,Me)))}function XE(K){NH!==K&&(NH=K,B0.unstable_scheduleCallback(B0.unstable_NormalPriority,function(){NH===K&&(NH=null);for(var Y=0;Y<K.length;Y+=3){var q=K[Y],U=K[Y+1],N=K[Y+2];if(typeof U!=="function")if(FA(U||q)===null)continue;else break;var A=M(q);A!==null&&(K.splice(Y,3),Y-=3,q={pending:!0,data:N,method:q.method,action:U},Object.freeze(q),FC(A,q,U,N))}}))}function zK(K){function Y(w){return Bq(w,K)}Y9!==null&&Bq(Y9,K),W9!==null&&Bq(W9,K),q9!==null&&Bq(q9,K),KX.forEach(Y),XX.forEach(Y);for(var q=0;q<H9.length;q++){var U=H9[q];U.blockedOn===K&&(U.blockedOn=null)}for(;0<H9.length&&(q=H9[0],q.blockedOn===null);)ZE(q),q.blockedOn===null&&H9.shift();if(q=(K.ownerDocument||K).$$reactFormReplay,q!=null)for(U=0;U<q.length;U+=3){var N=q[U],A=q[U+1],B=N[E6]||null;if(typeof A==="function")B||XE(q);else if(B){var O=null;if(A&&A.hasAttribute("formAction")){if(N=A,B=A[E6]||null)O=B.formAction;else if(FA(N)!==null)continue}else O=B.action;typeof O==="function"?q[U+1]=O:(q.splice(U,3),U-=3),XE(q)}}}function UA(K){this._internalRoot=K}function Rq(K){this._internalRoot=K}function YE(K){K[s8]&&(K._reactRootContainer?console.error("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):console.error("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var X0=Object.assign,we=Symbol.for("react.element"),p8=Symbol.for("react.transitional.element"),zQ=Symbol.for("react.portal"),BQ=Symbol.for("react.fragment"),Oq=Symbol.for("react.strict_mode"),VA=Symbol.for("react.profiler"),Se=Symbol.for("react.provider"),NA=Symbol.for("react.consumer"),c7=Symbol.for("react.context"),BK=Symbol.for("react.forward_ref"),DA=Symbol.for("react.suspense"),CA=Symbol.for("react.suspense_list"),kq=Symbol.for("react.memo"),o6=Symbol.for("react.lazy"),AA=Symbol.for("react.activity"),Te=Symbol.for("react.memo_cache_sentinel"),WE=Symbol.iterator,Ie=Symbol.for("react.client.reference"),u5=Array.isArray,r=JJ.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M0=_z.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ge=Object.freeze({pending:!1,data:null,method:null,action:null}),zA=[],BA=[],d3=-1,u8=W1(null),RK=W1(null),i8=W1(null),Pq=W1(null),l3=Object.prototype.hasOwnProperty,RA=B0.unstable_scheduleCallback,Ee=B0.unstable_cancelCallback,je=B0.unstable_shouldYield,Le=B0.unstable_requestPaint,d7=B0.unstable_now,he=B0.unstable_getCurrentPriorityLevel,OA=B0.unstable_ImmediatePriority,kA=B0.unstable_UserBlockingPriority,RQ=B0.unstable_NormalPriority,ve=B0.unstable_LowPriority,PA=B0.unstable_IdlePriority,_e=B0.log,xe=B0.unstable_setDisableYieldValue,OQ=null,e5=null,B1=null,l7=!1,X7=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u",H6=Math.clz32?Math.clz32:w6,ge=Math.log,ye=Math.LN2,Mq=256,wq=4194304,a6=2,Y7=8,p7=32,Sq=268435456,n8=Math.random().toString(36).slice(2),$6="__reactFiber$"+n8,E6="__reactProps$"+n8,s8="__reactContainer$"+n8,MA="__reactEvents$"+n8,be="__reactListeners$"+n8,fe="__reactHandles$"+n8,qE="__reactResources$"+n8,OK="__reactMarker$"+n8,HE=new Set,I2={},wA={},me={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},ce=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),FE={},UE={},kK=0,VE,NE,DE,CE,AE,zE,BE;RW.__reactDisabledLog=!0;var SA,RE,TA=!1,IA=new(typeof WeakMap==="function"?WeakMap:Map),r6=null,u7=!1,de=/[\n"\\]/g,OE=!1,kE=!1,PE=!1,ME=!1,wE=!1,SE=!1,TE=["value","defaultValue"],IE=!1,GE=/["'&<>\n\t]|^\s|\s$/,le="address applet area article aside base basefont bgsound blockquote body br button caption center col colgroup dd details dir div dl dt embed fieldset figcaption figure footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html iframe img input isindex li link listing main marquee menu menuitem meta nav noembed noframes noscript object ol p param plaintext pre script section select source style summary table tbody td template textarea tfoot th thead title tr track ul wbr xmp".split(" "),EE="applet caption html table td th marquee object template foreignObject desc title".split(" "),pe=EE.concat(["button"]),ue="dd dt li option optgroup p rp rt".split(" "),jE={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null,containerTagInScope:null,implicitRootScope:!1},Tq={},GA={animation:"animationDelay animationDirection animationDuration animationFillMode animationIterationCount animationName animationPlayState animationTimingFunction".split(" "),background:"backgroundAttachment backgroundClip backgroundColor backgroundImage backgroundOrigin backgroundPositionX backgroundPositionY backgroundRepeat backgroundSize".split(" "),backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:"borderBottomColor borderBottomStyle borderBottomWidth borderImageOutset borderImageRepeat borderImageSlice borderImageSource borderImageWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderTopColor borderTopStyle borderTopWidth".split(" "),borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:"fontFamily fontFeatureSettings fontKerning fontLanguageOverride fontSize fontSizeAdjust fontStretch fontStyle fontVariant fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition fontWeight lineHeight".split(" "),fontVariant:"fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition".split(" "),gap:["columnGap","rowGap"],grid:"gridAutoColumns gridAutoFlow gridAutoRows gridTemplateAreas gridTemplateColumns gridTemplateRows".split(" "),gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:"maskClip maskComposite maskImage maskMode maskOrigin maskPositionX maskPositionY maskRepeat maskSize".split(" "),maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},LE=/([A-Z])/g,hE=/^ms-/,ie=/^(?:webkit|moz|o)[A-Z]/,ne=/^-ms-/,se=/-(.)/g,vE=/;\s*$/,kQ={},EA={},_E=!1,xE=!1,gE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),Iq="http://www.w3.org/1998/Math/MathML",PQ="http://www.w3.org/2000/svg",oe=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gq={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",fetchpriority:"fetchPriority",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",inert:"inert",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",popover:"popover",popovertarget:"popoverTarget",popovertargetaction:"popoverTargetAction",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",transformorigin:"transformOrigin","transform-origin":"transformOrigin",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},yE={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},MQ={},ae=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),re=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bE=!1,F6={},fE=/^on./,te=/^on[^A-Z]/,ee=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$11=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Q11=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i,PK=null,wQ=null,SQ=null,jA=!1,i7=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),LA=!1;if(i7)try{var MK={};Object.defineProperty(MK,"passive",{get:function(){LA=!0}}),window.addEventListener("test",MK,MK),window.removeEventListener("test",MK,MK)}catch(K){LA=!1}var o8=null,hA=null,Eq=null,G2={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(K){return K.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jq=S6(G2),wK=X0({},G2,{view:0,detail:0}),J11=S6(wK),vA,_A,SK,Lq=X0({},wK,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kD,button:0,buttons:0,relatedTarget:function(K){return K.relatedTarget===void 0?K.fromElement===K.srcElement?K.toElement:K.fromElement:K.relatedTarget},movementX:function(K){if("movementX"in K)return K.movementX;return K!==SK&&(SK&&K.type==="mousemove"?(vA=K.screenX-SK.screenX,_A=K.screenY-SK.screenY):_A=vA=0,SK=K),vA},movementY:function(K){return"movementY"in K?K.movementY:_A}}),mE=S6(Lq),Z11=X0({},Lq,{dataTransfer:0}),K11=S6(Z11),X11=X0({},wK,{relatedTarget:0}),xA=S6(X11),Y11=X0({},G2,{animationName:0,elapsedTime:0,pseudoElement:0}),W11=S6(Y11),q11=X0({},G2,{clipboardData:function(K){return"clipboardData"in K?K.clipboardData:window.clipboardData}}),H11=S6(q11),F11=X0({},G2,{data:0}),cE=S6(F11),U11=cE,V11={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N11={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D11={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},C11=X0({},wK,{key:function(K){if(K.key){var Y=V11[K.key]||K.key;if(Y!=="Unidentified")return Y}return K.type==="keypress"?(K=SW(K),K===13?"Enter":String.fromCharCode(K)):K.type==="keydown"||K.type==="keyup"?N11[K.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kD,charCode:function(K){return K.type==="keypress"?SW(K):0},keyCode:function(K){return K.type==="keydown"||K.type==="keyup"?K.keyCode:0},which:function(K){return K.type==="keypress"?SW(K):K.type==="keydown"||K.type==="keyup"?K.keyCode:0}}),A11=S6(C11),z11=X0({},Lq,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dE=S6(z11),B11=X0({},wK,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kD}),R11=S6(B11),O11=X0({},G2,{propertyName:0,elapsedTime:0,pseudoElement:0}),k11=S6(O11),P11=X0({},Lq,{deltaX:function(K){return"deltaX"in K?K.deltaX:("wheelDeltaX"in K)?-K.wheelDeltaX:0},deltaY:function(K){return"deltaY"in K?K.deltaY:("wheelDeltaY"in K)?-K.wheelDeltaY:("wheelDelta"in K)?-K.wheelDelta:0},deltaZ:0,deltaMode:0}),M11=S6(P11),w11=X0({},G2,{newState:0,oldState:0}),S11=S6(w11),T11=[9,13,27,32],lE=229,gA=i7&&"CompositionEvent"in window,TK=null;i7&&"documentMode"in document&&(TK=document.documentMode);var I11=i7&&"TextEvent"in window&&!TK,pE=i7&&(!gA||TK&&8<TK&&11>=TK),uE=32,iE=String.fromCharCode(uE),nE=!1,TQ=!1,G11={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},IK=null,GK=null,sE=!1;i7&&(sE=Xt("input")&&(!document.documentMode||9<document.documentMode));var U6=typeof Object.is==="function"?Object.is:Ut,E11=i7&&"documentMode"in document&&11>=document.documentMode,IQ=null,yA=null,EK=null,bA=!1,GQ={animationend:V2("Animation","AnimationEnd"),animationiteration:V2("Animation","AnimationIteration"),animationstart:V2("Animation","AnimationStart"),transitionrun:V2("Transition","TransitionRun"),transitionstart:V2("Transition","TransitionStart"),transitioncancel:V2("Transition","TransitionCancel"),transitionend:V2("Transition","TransitionEnd")},fA={},oE={};i7&&(oE=document.createElement("div").style,("AnimationEvent"in window)||(delete GQ.animationend.animation,delete GQ.animationiteration.animation,delete GQ.animationstart.animation),("TransitionEvent"in window)||delete GQ.transitionend.transition);var aE=N2("animationend"),rE=N2("animationiteration"),tE=N2("animationstart"),j11=N2("transitionrun"),L11=N2("transitionstart"),h11=N2("transitioncancel"),eE=N2("transitionend"),$j=new Map,mA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mA.push("scrollEnd");var cA=new WeakMap,hq=1,p3=2,B4=[],EQ=0,dA=0,a8={};Object.freeze(a8);var R4=null,jQ=null,d0=0,v11=1,i5=2,Q6=8,W7=16,Qj=64,Jj=!1;try{var Zj=Object.preventExtensions({});}catch(K){Jj=!0}var LQ=[],hQ=0,vq=null,_q=0,O4=[],k4=0,E2=null,u3=1,i3="",V6=null,Z5=null,z0=!1,n3=!1,P4=null,j2=null,n7=!1,lA=Error("Hydration Mismatch Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),Kj=0;if(typeof performance==="object"&&typeof performance.now==="function")var _11=performance,Xj=function(){return _11.now()};else{var x11=Date;Xj=function(){return x11.now()}}var pA=W1(null),uA=W1(null),Yj={},xq=null,vQ=null,_Q=!1,g11=typeof AbortController<"u"?AbortController:function(){var K=[],Y=this.signal={aborted:!1,addEventListener:function(q,U){K.push(U)}};this.abort=function(){Y.aborted=!0,K.forEach(function(q){return q()})}},y11=B0.unstable_scheduleCallback,b11=B0.unstable_NormalPriority,E5={$$typeof:c7,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0,_currentRenderer:null,_currentRenderer2:null},xQ=B0.unstable_now,Wj=-0,gq=-0,j6=-1.1,L2=-0,yq=!1,bq=!1,jK=null,iA=0,h2=0,gQ=null,qj=r.S;r.S=function(K,Y){typeof Y==="object"&&Y!==null&&typeof Y.then==="function"&&Nt(K,Y),qj!==null&&qj(K,Y)};var v2=W1(null),q7={recordUnsafeLifecycleWarnings:function(){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},LK=[],hK=[],vK=[],_K=[],xK=[],gK=[],_2=new Set;q7.recordUnsafeLifecycleWarnings=function(K,Y){_2.has(K.type)||(typeof Y.componentWillMount==="function"&&Y.componentWillMount.__suppressDeprecationWarning!==!0&&LK.push(K),K.mode&Q6&&typeof Y.UNSAFE_componentWillMount==="function"&&hK.push(K),typeof Y.componentWillReceiveProps==="function"&&Y.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&vK.push(K),K.mode&Q6&&typeof Y.UNSAFE_componentWillReceiveProps==="function"&&_K.push(K),typeof Y.componentWillUpdate==="function"&&Y.componentWillUpdate.__suppressDeprecationWarning!==!0&&xK.push(K),K.mode&Q6&&typeof Y.UNSAFE_componentWillUpdate==="function"&&gK.push(K))},q7.flushPendingUnsafeLifecycleWarnings=function(){var K=new Set;0<LK.length&&(LK.forEach(function(O){K.add(Q1(O)||"Component"),_2.add(O.type)}),LK=[]);var Y=new Set;0<hK.length&&(hK.forEach(function(O){Y.add(Q1(O)||"Component"),_2.add(O.type)}),hK=[]);var q=new Set;0<vK.length&&(vK.forEach(function(O){q.add(Q1(O)||"Component"),_2.add(O.type)}),vK=[]);var U=new Set;0<_K.length&&(_K.forEach(function(O){U.add(Q1(O)||"Component"),_2.add(O.type)}),_K=[]);var N=new Set;0<xK.length&&(xK.forEach(function(O){N.add(Q1(O)||"Component"),_2.add(O.type)}),xK=[]);var A=new Set;if(0<gK.length&&(gK.forEach(function(O){A.add(Q1(O)||"Component"),_2.add(O.type)}),gK=[]),0<Y.size){var B=z(Y);console.error(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,B)}0<U.size&&(B=z(U),console.error(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state

Please update the following components: %s`,B)),0<A.size&&(B=z(A),console.error(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,B)),0<K.size&&(B=z(K),console.warn(`componentWillMount has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,B)),0<q.size&&(B=z(q),console.warn(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,B)),0<N.size&&(B=z(N),console.warn(`componentWillUpdate has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,B))};var fq=new Map,Hj=new Set;q7.recordLegacyContextWarning=function(K,Y){var q=null;for(var U=K;U!==null;)U.mode&Q6&&(q=U),U=U.return;q===null?console.error("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue."):!Hj.has(K.type)&&(U=fq.get(q),K.type.contextTypes!=null||K.type.childContextTypes!=null||Y!==null&&typeof Y.getChildContext==="function")&&(U===void 0&&(U=[],fq.set(q,U)),U.push(K))},q7.flushLegacyContextWarning=function(){fq.forEach(function(K){if(K.length!==0){var Y=K[0],q=new Set;K.forEach(function(N){q.add(Q1(N)||"Component"),Hj.add(N.type)});var U=z(q);w1(Y,function(){console.error(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://react.dev/link/legacy-context`,U)})}})},q7.discardPendingWarnings=function(){LK=[],hK=[],vK=[],_K=[],xK=[],gK=[],fq=new Map};var yK=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`."),Fj=Error("Suspense Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),mq=Error("Suspense Exception: This is not a real error! It's an implementation detail of `useActionState` to interrupt the current render. You must either rethrow it immediately, or move the `useActionState` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary."),nA={then:function(){console.error('Internal React error: A listener was unexpectedly attached to a "noop" thenable. This is a bug in React. Please file an issue.')}},bK=null,cq=!1,M4=0,w4=1,N6=2,n5=4,j5=8,Uj=0,Vj=1,Nj=2,sA=3,r8=!1,Dj=!1,oA=null,aA=!1,yQ=W1(null),dq=W1(0),bQ,Cj=new Set,Aj=new Set,rA=new Set,zj=new Set,t8=0,n1=null,v0=null,P5=null,lq=!1,fQ=!1,x2=!1,pq=0,fK=0,s3=null,f11=0,m11=25,a=null,S4=null,o3=-1,mK=!1,uq={readContext:s0,use:b8,useCallback:A5,useContext:A5,useEffect:A5,useImperativeHandle:A5,useLayoutEffect:A5,useInsertionEffect:A5,useMemo:A5,useReducer:A5,useRef:A5,useState:A5,useDebugValue:A5,useDeferredValue:A5,useTransition:A5,useSyncExternalStore:A5,useId:A5,useHostTransitionStatus:A5,useFormState:A5,useActionState:A5,useOptimistic:A5,useMemoCache:A5,useCacheRefresh:A5},tA=null,Bj=null,eA=null,Rj=null,s7=null,H7=null,iq=null;tA={readContext:function(K){return s0(K)},use:b8,useCallback:function(K,Y){return a="useCallback",W0(),KQ(Y),YC(K,Y)},useContext:function(K){return a="useContext",W0(),s0(K)},useEffect:function(K,Y){return a="useEffect",W0(),KQ(Y),uW(K,Y)},useImperativeHandle:function(K,Y,q){return a="useImperativeHandle",W0(),KQ(q),XC(K,Y,q)},useInsertionEffect:function(K,Y){a="useInsertionEffect",W0(),KQ(Y),M2(4,N6,K,Y)},useLayoutEffect:function(K,Y){return a="useLayoutEffect",W0(),KQ(Y),KC(K,Y)},useMemo:function(K,Y){a="useMemo",W0(),KQ(Y);var q=r.H;r.H=s7;try{return WC(K,Y)}finally{r.H=q}},useReducer:function(K,Y,q){a="useReducer",W0();var U=r.H;r.H=s7;try{return aD(K,Y,q)}finally{r.H=U}},useRef:function(K){return a="useRef",W0(),ZC(K)},useState:function(K){a="useState",W0();var Y=r.H;r.H=s7;try{return $C(K)}finally{r.H=Y}},useDebugValue:function(){a="useDebugValue",W0()},useDeferredValue:function(K,Y){return a="useDeferredValue",W0(),qC(K,Y)},useTransition:function(){return a="useTransition",W0(),UC()},useSyncExternalStore:function(K,Y,q){return a="useSyncExternalStore",W0(),tD(K,Y,q)},useId:function(){return a="useId",W0(),VC()},useFormState:function(K,Y){return a="useFormState",W0(),mW(),YQ(K,Y)},useActionState:function(K,Y){return a="useActionState",W0(),YQ(K,Y)},useOptimistic:function(K){return a="useOptimistic",W0(),QC(K)},useHostTransitionStatus:w2,useMemoCache:P2,useCacheRefresh:function(){return a="useCacheRefresh",W0(),NC()}},Bj={readContext:function(K){return s0(K)},use:b8,useCallback:function(K,Y){return a="useCallback",F1(),YC(K,Y)},useContext:function(K){return a="useContext",F1(),s0(K)},useEffect:function(K,Y){return a="useEffect",F1(),uW(K,Y)},useImperativeHandle:function(K,Y,q){return a="useImperativeHandle",F1(),XC(K,Y,q)},useInsertionEffect:function(K,Y){a="useInsertionEffect",F1(),M2(4,N6,K,Y)},useLayoutEffect:function(K,Y){return a="useLayoutEffect",F1(),KC(K,Y)},useMemo:function(K,Y){a="useMemo",F1();var q=r.H;r.H=s7;try{return WC(K,Y)}finally{r.H=q}},useReducer:function(K,Y,q){a="useReducer",F1();var U=r.H;r.H=s7;try{return aD(K,Y,q)}finally{r.H=U}},useRef:function(K){return a="useRef",F1(),ZC(K)},useState:function(K){a="useState",F1();var Y=r.H;r.H=s7;try{return $C(K)}finally{r.H=Y}},useDebugValue:function(){a="useDebugValue",F1()},useDeferredValue:function(K,Y){return a="useDeferredValue",F1(),qC(K,Y)},useTransition:function(){return a="useTransition",F1(),UC()},useSyncExternalStore:function(K,Y,q){return a="useSyncExternalStore",F1(),tD(K,Y,q)},useId:function(){return a="useId",F1(),VC()},useActionState:function(K,Y){return a="useActionState",F1(),YQ(K,Y)},useFormState:function(K,Y){return a="useFormState",F1(),mW(),YQ(K,Y)},useOptimistic:function(K){return a="useOptimistic",F1(),QC(K)},useHostTransitionStatus:w2,useMemoCache:P2,useCacheRefresh:function(){return a="useCacheRefresh",F1(),NC()}},eA={readContext:function(K){return s0(K)},use:b8,useCallback:function(K,Y){return a="useCallback",F1(),nW(K,Y)},useContext:function(K){return a="useContext",F1(),s0(K)},useEffect:function(K,Y){a="useEffect",F1(),G6(2048,j5,K,Y)},useImperativeHandle:function(K,Y,q){return a="useImperativeHandle",F1(),iW(K,Y,q)},useInsertionEffect:function(K,Y){return a="useInsertionEffect",F1(),G6(4,N6,K,Y)},useLayoutEffect:function(K,Y){return a="useLayoutEffect",F1(),G6(4,n5,K,Y)},useMemo:function(K,Y){a="useMemo",F1();var q=r.H;r.H=H7;try{return sW(K,Y)}finally{r.H=q}},useReducer:function(K,Y,q){a="useReducer",F1();var U=r.H;r.H=H7;try{return XQ(K,Y,q)}finally{r.H=U}},useRef:function(){return a="useRef",F1(),j0().memoizedState},useState:function(){a="useState",F1();var K=r.H;r.H=H7;try{return XQ(K7)}finally{r.H=K}},useDebugValue:function(){a="useDebugValue",F1()},useDeferredValue:function(K,Y){return a="useDeferredValue",F1(),aT(K,Y)},useTransition:function(){return a="useTransition",F1(),JI()},useSyncExternalStore:function(K,Y,q){return a="useSyncExternalStore",F1(),cW(K,Y,q)},useId:function(){return a="useId",F1(),j0().memoizedState},useFormState:function(K){return a="useFormState",F1(),mW(),dW(K)},useActionState:function(K){return a="useActionState",F1(),dW(K)},useOptimistic:function(K,Y){return a="useOptimistic",F1(),mT(K,Y)},useHostTransitionStatus:w2,useMemoCache:P2,useCacheRefresh:function(){return a="useCacheRefresh",F1(),j0().memoizedState}},Rj={readContext:function(K){return s0(K)},use:b8,useCallback:function(K,Y){return a="useCallback",F1(),nW(K,Y)},useContext:function(K){return a="useContext",F1(),s0(K)},useEffect:function(K,Y){a="useEffect",F1(),G6(2048,j5,K,Y)},useImperativeHandle:function(K,Y,q){return a="useImperativeHandle",F1(),iW(K,Y,q)},useInsertionEffect:function(K,Y){return a="useInsertionEffect",F1(),G6(4,N6,K,Y)},useLayoutEffect:function(K,Y){return a="useLayoutEffect",F1(),G6(4,n5,K,Y)},useMemo:function(K,Y){a="useMemo",F1();var q=r.H;r.H=iq;try{return sW(K,Y)}finally{r.H=q}},useReducer:function(K,Y,q){a="useReducer",F1();var U=r.H;r.H=iq;try{return QK(K,Y,q)}finally{r.H=U}},useRef:function(){return a="useRef",F1(),j0().memoizedState},useState:function(){a="useState",F1();var K=r.H;r.H=iq;try{return QK(K7)}finally{r.H=K}},useDebugValue:function(){a="useDebugValue",F1()},useDeferredValue:function(K,Y){return a="useDeferredValue",F1(),rT(K,Y)},useTransition:function(){return a="useTransition",F1(),ZI()},useSyncExternalStore:function(K,Y,q){return a="useSyncExternalStore",F1(),cW(K,Y,q)},useId:function(){return a="useId",F1(),j0().memoizedState},useFormState:function(K){return a="useFormState",F1(),mW(),lW(K)},useActionState:function(K){return a="useActionState",F1(),lW(K)},useOptimistic:function(K,Y){return a="useOptimistic",F1(),dT(K,Y)},useHostTransitionStatus:w2,useMemoCache:P2,useCacheRefresh:function(){return a="useCacheRefresh",F1(),j0().memoizedState}},s7={readContext:function(K){return D(),s0(K)},use:function(K){return V(),b8(K)},useCallback:function(K,Y){return a="useCallback",V(),W0(),YC(K,Y)},useContext:function(K){return a="useContext",V(),W0(),s0(K)},useEffect:function(K,Y){return a="useEffect",V(),W0(),uW(K,Y)},useImperativeHandle:function(K,Y,q){return a="useImperativeHandle",V(),W0(),XC(K,Y,q)},useInsertionEffect:function(K,Y){a="useInsertionEffect",V(),W0(),M2(4,N6,K,Y)},useLayoutEffect:function(K,Y){return a="useLayoutEffect",V(),W0(),KC(K,Y)},useMemo:function(K,Y){a="useMemo",V(),W0();var q=r.H;r.H=s7;try{return WC(K,Y)}finally{r.H=q}},useReducer:function(K,Y,q){a="useReducer",V(),W0();var U=r.H;r.H=s7;try{return aD(K,Y,q)}finally{r.H=U}},useRef:function(K){return a="useRef",V(),W0(),ZC(K)},useState:function(K){a="useState",V(),W0();var Y=r.H;r.H=s7;try{return $C(K)}finally{r.H=Y}},useDebugValue:function(){a="useDebugValue",V(),W0()},useDeferredValue:function(K,Y){return a="useDeferredValue",V(),W0(),qC(K,Y)},useTransition:function(){return a="useTransition",V(),W0(),UC()},useSyncExternalStore:function(K,Y,q){return a="useSyncExternalStore",V(),W0(),tD(K,Y,q)},useId:function(){return a="useId",V(),W0(),VC()},useFormState:function(K,Y){return a="useFormState",V(),W0(),YQ(K,Y)},useActionState:function(K,Y){return a="useActionState",V(),W0(),YQ(K,Y)},useOptimistic:function(K){return a="useOptimistic",V(),W0(),QC(K)},useMemoCache:function(K){return V(),P2(K)},useHostTransitionStatus:w2,useCacheRefresh:function(){return a="useCacheRefresh",W0(),NC()}},H7={readContext:function(K){return D(),s0(K)},use:function(K){return V(),b8(K)},useCallback:function(K,Y){return a="useCallback",V(),F1(),nW(K,Y)},useContext:function(K){return a="useContext",V(),F1(),s0(K)},useEffect:function(K,Y){a="useEffect",V(),F1(),G6(2048,j5,K,Y)},useImperativeHandle:function(K,Y,q){return a="useImperativeHandle",V(),F1(),iW(K,Y,q)},useInsertionEffect:function(K,Y){return a="useInsertionEffect",V(),F1(),G6(4,N6,K,Y)},useLayoutEffect:function(K,Y){return a="useLayoutEffect",V(),F1(),G6(4,n5,K,Y)},useMemo:function(K,Y){a="useMemo",V(),F1();var q=r.H;r.H=H7;try{return sW(K,Y)}finally{r.H=q}},useReducer:function(K,Y,q){a="useReducer",V(),F1();var U=r.H;r.H=H7;try{return XQ(K,Y,q)}finally{r.H=U}},useRef:function(){return a="useRef",V(),F1(),j0().memoizedState},useState:function(){a="useState",V(),F1();var K=r.H;r.H=H7;try{return XQ(K7)}finally{r.H=K}},useDebugValue:function(){a="useDebugValue",V(),F1()},useDeferredValue:function(K,Y){return a="useDeferredValue",V(),F1(),aT(K,Y)},useTransition:function(){return a="useTransition",V(),F1(),JI()},useSyncExternalStore:function(K,Y,q){return a="useSyncExternalStore",V(),F1(),cW(K,Y,q)},useId:function(){return a="useId",V(),F1(),j0().memoizedState},useFormState:function(K){return a="useFormState",V(),F1(),dW(K)},useActionState:function(K){return a="useActionState",V(),F1(),dW(K)},useOptimistic:function(K,Y){return a="useOptimistic",V(),F1(),mT(K,Y)},useMemoCache:function(K){return V(),P2(K)},useHostTransitionStatus:w2,useCacheRefresh:function(){return a="useCacheRefresh",F1(),j0().memoizedState}},iq={readContext:function(K){return D(),s0(K)},use:function(K){return V(),b8(K)},useCallback:function(K,Y){return a="useCallback",V(),F1(),nW(K,Y)},useContext:function(K){return a="useContext",V(),F1(),s0(K)},useEffect:function(K,Y){a="useEffect",V(),F1(),G6(2048,j5,K,Y)},useImperativeHandle:function(K,Y,q){return a="useImperativeHandle",V(),F1(),iW(K,Y,q)},useInsertionEffect:function(K,Y){return a="useInsertionEffect",V(),F1(),G6(4,N6,K,Y)},useLayoutEffect:function(K,Y){return a="useLayoutEffect",V(),F1(),G6(4,n5,K,Y)},useMemo:function(K,Y){a="useMemo",V(),F1();var q=r.H;r.H=H7;try{return sW(K,Y)}finally{r.H=q}},useReducer:function(K,Y,q){a="useReducer",V(),F1();var U=r.H;r.H=H7;try{return QK(K,Y,q)}finally{r.H=U}},useRef:function(){return a="useRef",V(),F1(),j0().memoizedState},useState:function(){a="useState",V(),F1();var K=r.H;r.H=H7;try{return QK(K7)}finally{r.H=K}},useDebugValue:function(){a="useDebugValue",V(),F1()},useDeferredValue:function(K,Y){return a="useDeferredValue",V(),F1(),rT(K,Y)},useTransition:function(){return a="useTransition",V(),F1(),ZI()},useSyncExternalStore:function(K,Y,q){return a="useSyncExternalStore",V(),F1(),cW(K,Y,q)},useId:function(){return a="useId",V(),F1(),j0().memoizedState},useFormState:function(K){return a="useFormState",V(),F1(),lW(K)},useActionState:function(K){return a="useActionState",V(),F1(),lW(K)},useOptimistic:function(K,Y){return a="useOptimistic",V(),F1(),dT(K,Y)},useMemoCache:function(K){return V(),P2(K)},useHostTransitionStatus:w2,useCacheRefresh:function(){return a="useCacheRefresh",F1(),j0().memoizedState}};var Oj={react_stack_bottom_frame:function(K,Y,q){var U=u7;u7=!0;try{return K(Y,q)}finally{u7=U}}},$z=Oj.react_stack_bottom_frame.bind(Oj),kj={react_stack_bottom_frame:function(K){var Y=u7;u7=!0;try{return K.render()}finally{u7=Y}}},Pj=kj.react_stack_bottom_frame.bind(kj),Mj={react_stack_bottom_frame:function(K,Y){try{Y.componentDidMount()}catch(q){L0(K,K.return,q)}}},Qz=Mj.react_stack_bottom_frame.bind(Mj),wj={react_stack_bottom_frame:function(K,Y,q,U,N){try{Y.componentDidUpdate(q,U,N)}catch(A){L0(K,K.return,A)}}},Sj=wj.react_stack_bottom_frame.bind(wj),Tj={react_stack_bottom_frame:function(K,Y){var q=Y.stack;K.componentDidCatch(Y.value,{componentStack:q!==null?q:""})}},c11=Tj.react_stack_bottom_frame.bind(Tj),Ij={react_stack_bottom_frame:function(K,Y,q){try{q.componentWillUnmount()}catch(U){L0(K,Y,U)}}},Gj=Ij.react_stack_bottom_frame.bind(Ij),Ej={react_stack_bottom_frame:function(K){K.resourceKind!=null&&console.error("Expected only SimpleEffects when enableUseEffectCRUDOverload is disabled, got %s",K.resourceKind);var Y=K.create;return K=K.inst,Y=Y(),K.destroy=Y}},d11=Ej.react_stack_bottom_frame.bind(Ej),jj={react_stack_bottom_frame:function(K,Y,q){try{q()}catch(U){L0(K,Y,U)}}},l11=jj.react_stack_bottom_frame.bind(jj),Lj={react_stack_bottom_frame:function(K){var Y=K._init;return Y(K._payload)}},e8=Lj.react_stack_bottom_frame.bind(Lj),mQ=null,cK=0,J0=null,Jz,hj=Jz=!1,vj={},_j={},xj={};F=function(K,Y,q){if(q!==null&&typeof q==="object"&&q._store&&(!q._store.validated&&q.key==null||q._store.validated===2)){if(typeof q._store!=="object")throw Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");q._store.validated=1;var U=Q1(K),N=U||"null";if(!vj[N]){vj[N]=!0,q=q._owner,K=K._debugOwner;var A="";K&&typeof K.tag==="number"&&(N=Q1(K))&&(A=`

Check the render method of \``+N+"`."),A||U&&(A=`

Check the top-level render call using <`+U+">.");var B="";q!=null&&K!==q&&(U=null,typeof q.tag==="number"?U=Q1(q):typeof q.name==="string"&&(U=q.name),U&&(B=" It was passed a child from "+U+".")),w1(Y,function(){console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',A,B)})}}};var cQ=WI(!0),gj=WI(!1),T4=W1(null),o7=null,dQ=1,dK=2,L5=W1(0),yj={},bj=new Set,fj=new Set,mj=new Set,cj=new Set,dj=new Set,lj=new Set,pj=new Set,uj=new Set,ij=new Set,nj=new Set;Object.freeze(yj);var Zz={enqueueSetState:function(K,Y,q){K=K._reactInternals;var U=s6(K),N=g8(U);N.payload=Y,q!==void 0&&q!==null&&(CC(q),N.callback=q),Y=y8(K,N,U),Y!==null&&(z5(Y,K,U),rZ(Y,K,U)),L3(K,U)},enqueueReplaceState:function(K,Y,q){K=K._reactInternals;var U=s6(K),N=g8(U);N.tag=Vj,N.payload=Y,q!==void 0&&q!==null&&(CC(q),N.callback=q),Y=y8(K,N,U),Y!==null&&(z5(Y,K,U),rZ(Y,K,U)),L3(K,U)},enqueueForceUpdate:function(K,Y){K=K._reactInternals;var q=s6(K),U=g8(q);U.tag=Nj,Y!==void 0&&Y!==null&&(CC(Y),U.callback=Y),Y=y8(K,U,q),Y!==null&&(z5(Y,K,q),rZ(Y,K,q)),B1!==null&&typeof B1.markForceUpdateScheduled==="function"&&B1.markForceUpdateScheduled(K,q)}},Kz=typeof reportError==="function"?reportError:function(K){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K==="object"&&K!==null&&typeof K.message==="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(Y))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",K);return}console.error(K)},lQ=null,Xz=null,sj=Error("This is not a real error. It's an implementation detail of React's selective hydration feature. If this leaks into userspace, it's a bug in React. Please file an issue."),_5=!1,oj={},aj={},rj={},tj={},pQ=!1,ej={},Yz={},Wz={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},$L=!1,QL=null;QL=new Set;var a3=!1,B5=!1,qz=!1,JL=typeof WeakSet==="function"?WeakSet:Set,x5=null,uQ=null,iQ=null,M5=null,L6=!1,F7=null,lK=8192,p11={getCacheForType:function(K){var Y=s0(E5),q=Y.data.get(K);return q===void 0&&(q=K(),Y.data.set(K,q)),q},getOwner:function(){return r6}};if(typeof Symbol==="function"&&Symbol.for){var pK=Symbol.for;pK("selector.component"),pK("selector.has_pseudo_class"),pK("selector.role"),pK("selector.test_id"),pK("selector.text")}var u11=[],i11=typeof WeakMap==="function"?WeakMap:Map,t6=0,D6=2,U7=4,r3=0,uK=1,nQ=2,Hz=3,g2=4,nq=6,ZL=5,w0=t6,x0=null,Y0=null,q0=0,h6=0,iK=1,y2=2,nK=3,KL=4,Fz=5,sQ=6,sK=7,Uz=8,b2=9,T0=h6,e6=null,$9=!1,oQ=!1,Vz=!1,a7=0,K5=r3,Q9=0,J9=0,Nz=0,$4=0,f2=0,oK=null,C6=null,sq=!1,Dz=0,XL=300,oq=1/0,YL=500,aK=null,Z9=null,n11=0,s11=1,o11=2,m2=0,WL=1,qL=2,HL=3,a11=4,Cz=5,s5=0,K9=null,aQ=null,X9=0,Az=0,zz=null,FL=null,r11=50,rK=0,Bz=null,Rz=!1,aq=!1,t11=50,c2=0,tK=null,rQ=!1,rq=null,UL=!1,VL=new Set,e11={},tq=null,tQ=null,Oz=!1,kz=!1,eq=!1,Pz=!1,d2=0,Mz={};(function(){for(var K=0;K<mA.length;K++){var Y=mA[K],q=Y.toLowerCase();Y=Y[0].toUpperCase()+Y.slice(1),Z7(q,"on"+Y)}Z7(aE,"onAnimationEnd"),Z7(rE,"onAnimationIteration"),Z7(tE,"onAnimationStart"),Z7("dblclick","onDoubleClick"),Z7("focusin","onFocus"),Z7("focusout","onBlur"),Z7(j11,"onTransitionRun"),Z7(L11,"onTransitionStart"),Z7(h11,"onTransitionCancel"),Z7(eE,"onTransitionEnd")})(),a1("onMouseEnter",["mouseout","mouseover"]),a1("onMouseLeave",["mouseout","mouseover"]),a1("onPointerEnter",["pointerout","pointerover"]),a1("onPointerLeave",["pointerout","pointerover"]),M1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),M1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),M1("onBeforeInput",["compositionend","keypress","textInput","paste"]),M1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),M1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),M1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eK="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eK)),$H="_reactListening"+Math.random().toString(36).slice(2),NL=!1,DL=!1,QH=!1,CL=!1,JH=!1,ZH=!1,AL=!1,KH={},$01=/\r\n?/g,Q01=/\u0000|\uFFFD/g,l2="http://www.w3.org/1999/xlink",Sz="http://www.w3.org/XML/1998/namespace",J01="javascript:throw new Error('React form unexpectedly submitted.')",Z01="suppressHydrationWarning",XH="$",YH="/$",t3="$?",$X="$!",K01=1,X01=2,Y01=4,Tz="F!",zL="F",BL="complete",W01="style",e3=0,eQ=1,WH=2,Iz=null,Gz=null,RL={dialog:!0,webview:!0},Ez=null,OL=typeof setTimeout==="function"?setTimeout:void 0,q01=typeof clearTimeout==="function"?clearTimeout:void 0,p2=-1,kL=typeof Promise==="function"?Promise:void 0,H01=typeof queueMicrotask==="function"?queueMicrotask:typeof kL<"u"?function(K){return kL.resolve(null).then(K).catch(ot)}:OL,jz=null,u2=0,QX=1,PL=2,ML=3,I4=4,G4=new Map,wL=new Set,$8=M0.d;M0.d={f:function(){var K=$8.f(),Y=UQ();return K||Y},r:function(K){var Y=M(K);Y!==null&&Y.tag===5&&Y.type==="form"?QI(Y):$8.r(K)},D:function(K){$8.D(K),pG("dns-prefetch",K,null)},C:function(K,Y){$8.C(K,Y),pG("preconnect",K,Y)},L:function(K,Y,q){$8.L(K,Y,q);var U=$J;if(U&&K&&Y){var N='link[rel="preload"][as="'+C4(Y)+'"]';Y==="image"?q&&q.imageSrcSet?(N+='[imagesrcset="'+C4(q.imageSrcSet)+'"]',typeof q.imageSizes==="string"&&(N+='[imagesizes="'+C4(q.imageSizes)+'"]')):N+='[href="'+C4(K)+'"]':N+='[href="'+C4(K)+'"]';var A=N;switch(Y){case"style":A=CQ(K);break;case"script":A=AQ(K)}G4.has(A)||(K=X0({rel:"preload",href:Y==="image"&&q&&q.imageSrcSet?void 0:K,as:Y},q),G4.set(A,K),U.querySelector(N)!==null||Y==="style"&&U.querySelector(DK(A))||Y==="script"&&U.querySelector(CK(A))||(Y=U.createElement("link"),p5(Y,"link",K),V1(Y),U.head.appendChild(Y)))}},m:function(K,Y){$8.m(K,Y);var q=$J;if(q&&K){var U=Y&&typeof Y.as==="string"?Y.as:"script",N='link[rel="modulepreload"][as="'+C4(U)+'"][href="'+C4(K)+'"]',A=N;switch(U){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=AQ(K)}if(!G4.has(A)&&(K=X0({rel:"modulepreload",href:K},Y),G4.set(A,K),q.querySelector(N)===null)){switch(U){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(q.querySelector(CK(A)))return}U=q.createElement("link"),p5(U,"link",K),V1(U),q.head.appendChild(U)}}},X:function(K,Y){$8.X(K,Y);var q=$J;if(q&&K){var U=N1(q).hoistableScripts,N=AQ(K),A=U.get(N);A||(A=q.querySelector(CK(N)),A||(K=X0({src:K,async:!0},Y),(Y=G4.get(N))&&KA(K,Y),A=q.createElement("script"),V1(A),p5(A,"link",K),q.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},U.set(N,A))}},S:function(K,Y,q){$8.S(K,Y,q);var U=$J;if(U&&K){var N=N1(U).hoistableStyles,A=CQ(K);Y=Y||"default";var B=N.get(A);if(!B){var O={loading:u2,preload:null};if(B=U.querySelector(DK(A)))O.loading=QX|I4;else{K=X0({rel:"stylesheet",href:K,"data-precedence":Y},q),(q=G4.get(A))&&ZA(K,q);var w=B=U.createElement("link");V1(w),p5(w,"link",K),w._p=new Promise(function(G,u){w.onload=G,w.onerror=u}),w.addEventListener("load",function(){O.loading|=QX}),w.addEventListener("error",function(){O.loading|=PL}),O.loading|=I4,Cq(B,Y,U)}B={type:"stylesheet",instance:B,count:1,state:O},N.set(A,B)}}},M:function(K,Y){$8.M(K,Y);var q=$J;if(q&&K){var U=N1(q).hoistableScripts,N=AQ(K),A=U.get(N);A||(A=q.querySelector(CK(N)),A||(K=X0({src:K,async:!0,type:"module"},Y),(Y=G4.get(N))&&KA(K,Y),A=q.createElement("script"),V1(A),p5(A,"link",K),q.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},U.set(N,A))}}};var $J=typeof document>"u"?null:document,qH=null,JX=null,Lz=null,HH=null,i2=Ge,ZX={$$typeof:c7,Provider:null,Consumer:null,_currentValue:i2,_currentValue2:i2,_threadCount:0},SL="%c%s%c ",TL="background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px",IL="",FH=" ",F01=Function.prototype.bind,GL=!1,EL=null,jL=null,LL=null,hL=null,vL=null,_L=null,xL=null,gL=null,yL=null;EL=function(K,Y,q,U){Y=$(K,Y),Y!==null&&(q=Q(Y.memoizedState,q,0,U),Y.memoizedState=q,Y.baseState=q,K.memoizedProps=X0({},K.memoizedProps),q=T6(K,2),q!==null&&z5(q,K,2))},jL=function(K,Y,q){Y=$(K,Y),Y!==null&&(q=X(Y.memoizedState,q,0),Y.memoizedState=q,Y.baseState=q,K.memoizedProps=X0({},K.memoizedProps),q=T6(K,2),q!==null&&z5(q,K,2))},LL=function(K,Y,q,U){Y=$(K,Y),Y!==null&&(q=J(Y.memoizedState,q,U),Y.memoizedState=q,Y.baseState=q,K.memoizedProps=X0({},K.memoizedProps),q=T6(K,2),q!==null&&z5(q,K,2))},hL=function(K,Y,q){K.pendingProps=Q(K.memoizedProps,Y,0,q),K.alternate&&(K.alternate.pendingProps=K.pendingProps),Y=T6(K,2),Y!==null&&z5(Y,K,2)},vL=function(K,Y){K.pendingProps=X(K.memoizedProps,Y,0),K.alternate&&(K.alternate.pendingProps=K.pendingProps),Y=T6(K,2),Y!==null&&z5(Y,K,2)},_L=function(K,Y,q){K.pendingProps=J(K.memoizedProps,Y,q),K.alternate&&(K.alternate.pendingProps=K.pendingProps),Y=T6(K,2),Y!==null&&z5(Y,K,2)},xL=function(K){var Y=T6(K,2);Y!==null&&z5(Y,K,2)},gL=function(K){H=K},yL=function(K){W=K};var UH=!0,VH=null,hz=!1,Y9=null,W9=null,q9=null,KX=new Map,XX=new Map,H9=[],U01="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" "),NH=null;if(Rq.prototype.render=UA.prototype.render=function(K){var Y=this._internalRoot;if(Y===null)throw Error("Cannot update an unmounted root.");var q=arguments;typeof q[1]==="function"?console.error("does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):T(q[1])?console.error("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof q[1]<"u"&&console.error("You passed a second argument to root.render(...) but it only accepts one argument."),q=K;var U=Y.current,N=s6(U);YA(U,N,q,Y,null,null)},Rq.prototype.unmount=UA.prototype.unmount=function(){var K=arguments;if(typeof K[0]==="function"&&console.error("does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."),K=this._internalRoot,K!==null){this._internalRoot=null;var Y=K.containerInfo;(w0&(D6|U7))!==t6&&console.error("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),YA(K.current,2,null,K,null,null),UQ(),Y[s8]=null}},Rq.prototype.unstable_scheduleHydration=function(K){if(K){var Y=H2();K={blockedOn:null,target:K,priority:Y};for(var q=0;q<H9.length&&Y!==0&&Y<H9[q].priority;q++);H9.splice(q,0,K),q===0&&ZE(K)}},function(){var K=JJ.version;if(K!=="19.1.1")throw Error(`Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:
  - react:      `+(K+`
  - react-dom:  19.1.1
Learn more: https://react.dev/warnings/version-mismatch`))}(),typeof Map==="function"&&Map.prototype!=null&&typeof Map.prototype.forEach==="function"&&typeof Set==="function"&&Set.prototype!=null&&typeof Set.prototype.clear==="function"&&typeof Set.prototype.forEach==="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://react.dev/link/react-polyfills"),M0.findDOMNode=function(K){var Y=K._reactInternals;if(Y===void 0){if(typeof K.render==="function")throw Error("Unable to find node on an unmounted component.");throw K=Object.keys(K).join(","),Error("Argument appears to not be a ReactComponent. Keys: "+K)}return K=f(Y),K=K!==null?l(K):null,K=K===null?null:K.stateNode,K},!function(){var K={bundleType:1,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:r,reconcilerVersion:"19.1.1"};return K.overrideHookState=EL,K.overrideHookStateDeletePath=jL,K.overrideHookStateRenamePath=LL,K.overrideProps=hL,K.overridePropsDeletePath=vL,K.overridePropsRenamePath=_L,K.scheduleUpdate=xL,K.setErrorHandler=gL,K.setSuspenseHandler=yL,K.scheduleRefresh=P,K.scheduleRoot=k,K.setRefreshHandler=S,K.getCurrentFiber=Be,K.getLaneLabelMap=Re,K.injectProfilingHooks=e0,h7(K)}()&&i7&&window.top===window.self&&(-1<navigator.userAgent.indexOf("Chrome")&&navigator.userAgent.indexOf("Edge")===-1||-1<navigator.userAgent.indexOf("Firefox"))){var bL=window.location.protocol;/^(https?|file):$/.test(bL)&&console.info("%cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools"+(bL==="file:"?`
You might need to use a local HTTP server (instead of file://): https://react.dev/link/react-devtools-faq`:""),"font-weight:bold")}k01.createRoot=function(K,Y){if(!T(K))throw Error("Target container is not a DOM element.");YE(K);var q=!1,U="",N=UI,A=VI,B=NI,O=null;return Y!==null&&Y!==void 0&&(Y.hydrate?console.warn("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof Y==="object"&&Y!==null&&Y.$$typeof===p8&&console.error(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),Y.unstable_strictMode===!0&&(q=!0),Y.identifierPrefix!==void 0&&(U=Y.identifierPrefix),Y.onUncaughtError!==void 0&&(N=Y.onUncaughtError),Y.onCaughtError!==void 0&&(A=Y.onCaughtError),Y.onRecoverableError!==void 0&&(B=Y.onRecoverableError),Y.unstable_transitionCallbacks!==void 0&&(O=Y.unstable_transitionCallbacks)),Y=rG(K,1,!1,null,null,q,U,N,A,B,O,null),K[s8]=Y.current,nC(K),new UA(Y)},k01.hydrateRoot=function(K,Y,q){if(!T(K))throw Error("Target container is not a DOM element.");YE(K),Y===void 0&&console.error("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var U=!1,N="",A=UI,B=VI,O=NI,w=null,G=null;return q!==null&&q!==void 0&&(q.unstable_strictMode===!0&&(U=!0),q.identifierPrefix!==void 0&&(N=q.identifierPrefix),q.onUncaughtError!==void 0&&(A=q.onUncaughtError),q.onCaughtError!==void 0&&(B=q.onCaughtError),q.onRecoverableError!==void 0&&(O=q.onRecoverableError),q.unstable_transitionCallbacks!==void 0&&(w=q.unstable_transitionCallbacks),q.formState!==void 0&&(G=q.formState)),Y=rG(K,1,!0,Y,q!=null?q:null,U,N,A,B,O,w,G),Y.context=tG(null),q=Y.current,U=s6(q),U=e$(U),N=g8(U),N.callback=null,y8(q,N,U),q=U,Y.current.lanes=q,v8(Y,q),f7(Y),K[s8]=Y.current,nC(K),new Rq(Y)},k01.version="19.1.1",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var sL=o((hB1,nL)=>{var P01=p1(iL(),1);nL.exports=P01});var v6={};QJ(v6,{default:()=>T01,__values:()=>AH,__spreadArrays:()=>Hh,__spreadArray:()=>Fh,__spread:()=>qh,__setFunctionName:()=>Zh,__runInitializers:()=>Qh,__rewriteRelativeImportExtension:()=>Ph,__rest:()=>rL,__read:()=>yz,__propKey:()=>Jh,__param:()=>eL,__metadata:()=>Kh,__makeTemplateObject:()=>Dh,__importStar:()=>Ch,__importDefault:()=>Ah,__generator:()=>Yh,__extends:()=>aL,__exportStar:()=>Wh,__esDecorate:()=>$h,__disposeResources:()=>kh,__decorate:()=>tL,__createBinding:()=>zH,__classPrivateFieldSet:()=>Bh,__classPrivateFieldIn:()=>Rh,__classPrivateFieldGet:()=>zh,__awaiter:()=>Xh,__await:()=>ZJ,__asyncValues:()=>Nh,__asyncGenerator:()=>Uh,__asyncDelegator:()=>Vh,__assign:()=>CH,__addDisposableResource:()=>Oh});function aL($,Q){if(typeof Q!=="function"&&Q!==null)throw TypeError("Class extends value "+String(Q)+" is not a constructor or null");xz($,Q);function J(){this.constructor=$}$.prototype=Q===null?Object.create(Q):(J.prototype=Q.prototype,new J)}function rL($,Q){var J={};for(var Z in $)if(Object.prototype.hasOwnProperty.call($,Z)&&Q.indexOf(Z)<0)J[Z]=$[Z];if($!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var X=0,Z=Object.getOwnPropertySymbols($);X<Z.length;X++)if(Q.indexOf(Z[X])<0&&Object.prototype.propertyIsEnumerable.call($,Z[X]))J[Z[X]]=$[Z[X]]}return J}function tL($,Q,J,Z){var X=arguments.length,W=X<3?Q:Z===null?Z=Object.getOwnPropertyDescriptor(Q,J):Z,H;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")W=Reflect.decorate($,Q,J,Z);else for(var F=$.length-1;F>=0;F--)if(H=$[F])W=(X<3?H(W):X>3?H(Q,J,W):H(Q,J))||W;return X>3&&W&&Object.defineProperty(Q,J,W),W}function eL($,Q){return function(J,Z){Q(J,Z,$)}}function $h($,Q,J,Z,X,W){function H(_){if(_!==void 0&&typeof _!=="function")throw TypeError("Function expected");return _}var F=Z.kind,V=F==="getter"?"get":F==="setter"?"set":"value",D=!Q&&$?Z.static?$:$.prototype:null,C=Q||(D?Object.getOwnPropertyDescriptor(D,Z.name):{}),z,R=!1;for(var k=J.length-1;k>=0;k--){var P={};for(var S in Z)P[S]=S==="access"?{}:Z[S];for(var S in Z.access)P.access[S]=Z.access[S];P.addInitializer=function(_){if(R)throw TypeError("Cannot add initializers after decoration has completed");W.push(H(_||null))};var T=(0,J[k])(F==="accessor"?{get:C.get,set:C.set}:C[V],P);if(F==="accessor"){if(T===void 0)continue;if(T===null||typeof T!=="object")throw TypeError("Object expected");if(z=H(T.get))C.get=z;if(z=H(T.set))C.set=z;if(z=H(T.init))X.unshift(z)}else if(z=H(T))if(F==="field")X.unshift(z);else C[V]=z}if(D)Object.defineProperty(D,Z.name,C);R=!0}function Qh($,Q,J){var Z=arguments.length>2;for(var X=0;X<Q.length;X++)J=Z?Q[X].call($,J):Q[X].call($);return Z?J:void 0}function Jh($){return typeof $==="symbol"?$:"".concat($)}function Zh($,Q,J){if(typeof Q==="symbol")Q=Q.description?"[".concat(Q.description,"]"):"";return Object.defineProperty($,"name",{configurable:!0,value:J?"".concat(J," ",Q):Q})}function Kh($,Q){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata($,Q)}function Xh($,Q,J,Z){function X(W){return W instanceof J?W:new J(function(H){H(W)})}return new(J||(J=Promise))(function(W,H){function F(C){try{D(Z.next(C))}catch(z){H(z)}}function V(C){try{D(Z.throw(C))}catch(z){H(z)}}function D(C){C.done?W(C.value):X(C.value).then(F,V)}D((Z=Z.apply($,Q||[])).next())})}function Yh($,Q){var J={label:0,sent:function(){if(W[0]&1)throw W[1];return W[1]},trys:[],ops:[]},Z,X,W,H=Object.create((typeof Iterator==="function"?Iterator:Object).prototype);return H.next=F(0),H.throw=F(1),H.return=F(2),typeof Symbol==="function"&&(H[Symbol.iterator]=function(){return this}),H;function F(D){return function(C){return V([D,C])}}function V(D){if(Z)throw TypeError("Generator is already executing.");while(H&&(H=0,D[0]&&(J=0)),J)try{if(Z=1,X&&(W=D[0]&2?X.return:D[0]?X.throw||((W=X.return)&&W.call(X),0):X.next)&&!(W=W.call(X,D[1])).done)return W;if(X=0,W)D=[D[0]&2,W.value];switch(D[0]){case 0:case 1:W=D;break;case 4:return J.label++,{value:D[1],done:!1};case 5:J.label++,X=D[1],D=[0];continue;case 7:D=J.ops.pop(),J.trys.pop();continue;default:if((W=J.trys,!(W=W.length>0&&W[W.length-1]))&&(D[0]===6||D[0]===2)){J=0;continue}if(D[0]===3&&(!W||D[1]>W[0]&&D[1]<W[3])){J.label=D[1];break}if(D[0]===6&&J.label<W[1]){J.label=W[1],W=D;break}if(W&&J.label<W[2]){J.label=W[2],J.ops.push(D);break}if(W[2])J.ops.pop();J.trys.pop();continue}D=Q.call($,J)}catch(C){D=[6,C],X=0}finally{Z=W=0}if(D[0]&5)throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}}function Wh($,Q){for(var J in $)if(J!=="default"&&!Object.prototype.hasOwnProperty.call(Q,J))zH(Q,$,J)}function AH($){var Q=typeof Symbol==="function"&&Symbol.iterator,J=Q&&$[Q],Z=0;if(J)return J.call($);if($&&typeof $.length==="number")return{next:function(){if($&&Z>=$.length)$=void 0;return{value:$&&$[Z++],done:!$}}};throw TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}function yz($,Q){var J=typeof Symbol==="function"&&$[Symbol.iterator];if(!J)return $;var Z=J.call($),X,W=[],H;try{while((Q===void 0||Q-- >0)&&!(X=Z.next()).done)W.push(X.value)}catch(F){H={error:F}}finally{try{if(X&&!X.done&&(J=Z.return))J.call(Z)}finally{if(H)throw H.error}}return W}function qh(){for(var $=[],Q=0;Q<arguments.length;Q++)$=$.concat(yz(arguments[Q]));return $}function Hh(){for(var $=0,Q=0,J=arguments.length;Q<J;Q++)$+=arguments[Q].length;for(var Z=Array($),X=0,Q=0;Q<J;Q++)for(var W=arguments[Q],H=0,F=W.length;H<F;H++,X++)Z[X]=W[H];return Z}function Fh($,Q,J){if(J||arguments.length===2){for(var Z=0,X=Q.length,W;Z<X;Z++)if(W||!(Z in Q)){if(!W)W=Array.prototype.slice.call(Q,0,Z);W[Z]=Q[Z]}}return $.concat(W||Array.prototype.slice.call(Q))}function ZJ($){return this instanceof ZJ?(this.v=$,this):new ZJ($)}function Uh($,Q,J){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var Z=J.apply($,Q||[]),X,W=[];return X=Object.create((typeof AsyncIterator==="function"?AsyncIterator:Object).prototype),F("next"),F("throw"),F("return",H),X[Symbol.asyncIterator]=function(){return this},X;function H(k){return function(P){return Promise.resolve(P).then(k,z)}}function F(k,P){if(Z[k]){if(X[k]=function(S){return new Promise(function(T,_){W.push([k,S,T,_])>1||V(k,S)})},P)X[k]=P(X[k])}}function V(k,P){try{D(Z[k](P))}catch(S){R(W[0][3],S)}}function D(k){k.value instanceof ZJ?Promise.resolve(k.value.v).then(C,z):R(W[0][2],k)}function C(k){V("next",k)}function z(k){V("throw",k)}function R(k,P){if(k(P),W.shift(),W.length)V(W[0][0],W[0][1])}}function Vh($){var Q,J;return Q={},Z("next"),Z("throw",function(X){throw X}),Z("return"),Q[Symbol.iterator]=function(){return this},Q;function Z(X,W){Q[X]=$[X]?function(H){return(J=!J)?{value:ZJ($[X](H)),done:!1}:W?W(H):H}:W}}function Nh($){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var Q=$[Symbol.asyncIterator],J;return Q?Q.call($):($=typeof AH==="function"?AH($):$[Symbol.iterator](),J={},Z("next"),Z("throw"),Z("return"),J[Symbol.asyncIterator]=function(){return this},J);function Z(W){J[W]=$[W]&&function(H){return new Promise(function(F,V){H=$[W](H),X(F,V,H.done,H.value)})}}function X(W,H,F,V){Promise.resolve(V).then(function(D){W({value:D,done:F})},H)}}function Dh($,Q){if(Object.defineProperty)Object.defineProperty($,"raw",{value:Q});else $.raw=Q;return $}function Ch($){if($&&$.__esModule)return $;var Q={};if($!=null){for(var J=gz($),Z=0;Z<J.length;Z++)if(J[Z]!=="default")zH(Q,$,J[Z])}return w01(Q,$),Q}function Ah($){return $&&$.__esModule?$:{default:$}}function zh($,Q,J,Z){if(J==="a"&&!Z)throw TypeError("Private accessor was defined without a getter");if(typeof Q==="function"?$!==Q||!Z:!Q.has($))throw TypeError("Cannot read private member from an object whose class did not declare it");return J==="m"?Z:J==="a"?Z.call($):Z?Z.value:Q.get($)}function Bh($,Q,J,Z,X){if(Z==="m")throw TypeError("Private method is not writable");if(Z==="a"&&!X)throw TypeError("Private accessor was defined without a setter");if(typeof Q==="function"?$!==Q||!X:!Q.has($))throw TypeError("Cannot write private member to an object whose class did not declare it");return Z==="a"?X.call($,J):X?X.value=J:Q.set($,J),J}function Rh($,Q){if(Q===null||typeof Q!=="object"&&typeof Q!=="function")throw TypeError("Cannot use 'in' operator on non-object");return typeof $==="function"?Q===$:$.has(Q)}function Oh($,Q,J){if(Q!==null&&Q!==void 0){if(typeof Q!=="object"&&typeof Q!=="function")throw TypeError("Object expected.");var Z,X;if(J){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");Z=Q[Symbol.asyncDispose]}if(Z===void 0){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");if(Z=Q[Symbol.dispose],J)X=Z}if(typeof Z!=="function")throw TypeError("Object not disposable.");if(X)Z=function(){try{X.call(this)}catch(W){return Promise.reject(W)}};$.stack.push({value:Q,dispose:Z,async:J})}else if(J)$.stack.push({async:!0});return Q}function kh($){function Q(W){$.error=$.hasError?new S01(W,$.error,"An error was suppressed during disposal."):W,$.hasError=!0}var J,Z=0;function X(){while(J=$.stack.pop())try{if(!J.async&&Z===1)return Z=0,$.stack.push(J),Promise.resolve().then(X);if(J.dispose){var W=J.dispose.call(J.value);if(J.async)return Z|=2,Promise.resolve(W).then(X,function(H){return Q(H),X()})}else Z|=1}catch(H){Q(H)}if(Z===1)return $.hasError?Promise.reject($.error):Promise.resolve();if($.hasError)throw $.error}return X()}function Ph($,Q){if(typeof $==="string"&&/^\.\.?\//.test($))return $.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(J,Z,X,W,H){return Z?Q?".jsx":".js":X&&(!W||!H)?J:X+W+"."+H.toLowerCase()+"js"});return $}var xz=function($,Q){return xz=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,Z){J.__proto__=Z}||function(J,Z){for(var X in Z)if(Object.prototype.hasOwnProperty.call(Z,X))J[X]=Z[X]},xz($,Q)},CH=function(){return CH=Object.assign||function(Q){for(var J,Z=1,X=arguments.length;Z<X;Z++){J=arguments[Z];for(var W in J)if(Object.prototype.hasOwnProperty.call(J,W))Q[W]=J[W]}return Q},CH.apply(this,arguments)},zH,w01,gz=function($){return gz=Object.getOwnPropertyNames||function(Q){var J=[];for(var Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z))J[J.length]=Z;return J},gz($)},S01,T01;var _6=A01(()=>{zH=Object.create?function($,Q,J,Z){if(Z===void 0)Z=J;var X=Object.getOwnPropertyDescriptor(Q,J);if(!X||("get"in X?!Q.__esModule:X.writable||X.configurable))X={enumerable:!0,get:function(){return Q[J]}};Object.defineProperty($,Z,X)}:function($,Q,J,Z){if(Z===void 0)Z=J;$[Z]=Q[J]};w01=Object.create?function($,Q){Object.defineProperty($,"default",{enumerable:!0,value:Q})}:function($,Q){$.default=Q};S01=typeof SuppressedError==="function"?SuppressedError:function($,Q,J){var Z=Error(J);return Z.name="SuppressedError",Z.error=$,Z.suppressed=Q,Z};T01={__extends:aL,__assign:CH,__rest:rL,__decorate:tL,__param:eL,__esDecorate:$h,__runInitializers:Qh,__propKey:Jh,__setFunctionName:Zh,__metadata:Kh,__awaiter:Xh,__generator:Yh,__createBinding:zH,__exportStar:Wh,__values:AH,__read:yz,__spread:qh,__spreadArrays:Hh,__spreadArray:Fh,__await:ZJ,__asyncGenerator:Uh,__asyncDelegator:Vh,__asyncValues:Nh,__makeTemplateObject:Dh,__importStar:Ch,__importDefault:Ah,__classPrivateFieldGet:zh,__classPrivateFieldSet:Bh,__classPrivateFieldIn:Rh,__addDisposableResource:Oh,__disposeResources:kh,__rewriteRelativeImportExtension:Ph}});var F9=o((Mh)=>{Object.defineProperty(Mh,"__esModule",{value:!0});Mh.encodeUtf8=Mh.decodeUtf8=void 0;var I01=new TextDecoder("utf-8"),G01=($)=>I01.decode($);Mh.decodeUtf8=G01;var E01=new TextEncoder,j01=($)=>E01.encode($);Mh.encodeUtf8=j01});var U9=o((Th)=>{Object.defineProperty(Th,"__esModule",{value:!0});Th.isFlatbuffersByteBuffer=Th.isReadableNodeStream=Th.isWritableNodeStream=Th.isReadableDOMStream=Th.isWritableDOMStream=Th.isFetchResponse=Th.isFSReadStream=Th.isFileHandle=Th.isUnderlyingSink=Th.isIteratorResult=Th.isArrayLike=Th.isArrowJSON=Th.isAsyncIterable=Th.isIterable=Th.isObservable=Th.isPromise=Th.isObject=void 0;var bz=($)=>typeof $==="number",Sh=($)=>typeof $==="boolean",a0=($)=>typeof $==="function",h01=($)=>$!=null&&Object($)===$;Th.isObject=h01;var v01=($)=>{return Th.isObject($)&&a0($.then)};Th.isPromise=v01;var _01=($)=>{return Th.isObject($)&&a0($.subscribe)};Th.isObservable=_01;var x01=($)=>{return Th.isObject($)&&a0($[Symbol.iterator])};Th.isIterable=x01;var g01=($)=>{return Th.isObject($)&&a0($[Symbol.asyncIterator])};Th.isAsyncIterable=g01;var y01=($)=>{return Th.isObject($)&&Th.isObject($.schema)};Th.isArrowJSON=y01;var b01=($)=>{return Th.isObject($)&&bz($.length)};Th.isArrayLike=b01;var f01=($)=>{return Th.isObject($)&&"done"in $&&"value"in $};Th.isIteratorResult=f01;var m01=($)=>{return Th.isObject($)&&a0($.abort)&&a0($.close)&&a0($.start)&&a0($.write)};Th.isUnderlyingSink=m01;var c01=($)=>{return Th.isObject($)&&a0($.stat)&&bz($.fd)};Th.isFileHandle=c01;var d01=($)=>{return Th.isReadableNodeStream($)&&bz($.bytesRead)};Th.isFSReadStream=d01;var l01=($)=>{return Th.isObject($)&&Th.isReadableDOMStream($.body)};Th.isFetchResponse=l01;var BH=($)=>("_getDOMStream"in $)&&("_getNodeStream"in $),p01=($)=>{return Th.isObject($)&&a0($.abort)&&a0($.getWriter)&&!BH($)};Th.isWritableDOMStream=p01;var u01=($)=>{return Th.isObject($)&&a0($.cancel)&&a0($.getReader)&&!BH($)};Th.isReadableDOMStream=u01;var i01=($)=>{return Th.isObject($)&&a0($.end)&&a0($.write)&&Sh($.writable)&&!BH($)};Th.isWritableNodeStream=i01;var n01=($)=>{return Th.isObject($)&&a0($.read)&&a0($.pipe)&&Sh($.readable)&&!BH($)};Th.isReadableNodeStream=n01;var s01=($)=>{return Th.isObject($)&&a0($.clear)&&a0($.bytes)&&a0($.position)&&a0($.setPosition)&&a0($.capacity)&&a0($.getBufferIdentifier)&&a0($.createLong)};Th.isFlatbuffersByteBuffer=s01});var g5=o((jh)=>{Object.defineProperty(jh,"__esModule",{value:!0});jh.compareArrayLike=jh.rebaseValueOffsets=jh.toUint8ClampedArrayAsyncIterator=jh.toFloat64ArrayAsyncIterator=jh.toFloat32ArrayAsyncIterator=jh.toUint32ArrayAsyncIterator=jh.toUint16ArrayAsyncIterator=jh.toUint8ArrayAsyncIterator=jh.toInt32ArrayAsyncIterator=jh.toInt16ArrayAsyncIterator=jh.toInt8ArrayAsyncIterator=jh.toArrayBufferViewAsyncIterator=jh.toUint8ClampedArrayIterator=jh.toFloat64ArrayIterator=jh.toFloat32ArrayIterator=jh.toUint32ArrayIterator=jh.toUint16ArrayIterator=jh.toUint8ArrayIterator=jh.toInt32ArrayIterator=jh.toInt16ArrayIterator=jh.toInt8ArrayIterator=jh.toArrayBufferViewIterator=jh.toUint8ClampedArray=jh.toFloat64Array=jh.toFloat32Array=jh.toBigUint64Array=jh.toUint32Array=jh.toUint16Array=jh.toUint8Array=jh.toBigInt64Array=jh.toInt32Array=jh.toInt16Array=jh.toInt8Array=jh.toArrayBufferView=jh.joinUint8Arrays=jh.memcpy=void 0;var w5=(_6(),Q4(v6)),q51=F9(),KJ=U9(),cz=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function H51($){let Q=$[0]?[$[0]]:[],J,Z,X,W;for(let H,F,V=0,D=0,C=$.length;++V<C;){if(H=Q[D],F=$[V],!H||!F||H.buffer!==F.buffer||F.byteOffset<H.byteOffset){F&&(Q[++D]=F);continue}if({byteOffset:J,byteLength:X}=H,{byteOffset:Z,byteLength:W}=F,J+X<Z||Z+W<J){F&&(Q[++D]=F);continue}Q[D]=new Uint8Array(H.buffer,J,Z-J+W)}return Q}function fz($,Q,J=0,Z=Q.byteLength){let X=$.byteLength,W=new Uint8Array($.buffer,$.byteOffset,X),H=new Uint8Array(Q.buffer,Q.byteOffset,Math.min(Z,X));return W.set(H,J),$}jh.memcpy=fz;function F51($,Q){let J=H51($),Z=J.reduce((C,z)=>C+z.byteLength,0),X,W,H,F=0,V=-1,D=Math.min(Q||Number.POSITIVE_INFINITY,Z);for(let C=J.length;++V<C;){if(X=J[V],W=X.subarray(0,Math.min(X.length,D-F)),D<=F+W.length){if(W.length<X.length)J[V]=X.subarray(W.length);else if(W.length===X.length)V++;H?fz(H,W,F):H=W;break}fz(H||(H=new Uint8Array(D)),W,F),F+=W.length}return[H||new Uint8Array(0),J.slice(V),Z-(H?H.byteLength:0)]}jh.joinUint8Arrays=F51;function A6($,Q){let J=(0,KJ.isIteratorResult)(Q)?Q.value:Q;if(J instanceof $){if($===Uint8Array)return new $(J.buffer,J.byteOffset,J.byteLength);return J}if(!J)return new $(0);if(typeof J==="string")J=(0,q51.encodeUtf8)(J);if(J instanceof ArrayBuffer)return new $(J);if(J instanceof cz)return new $(J);if((0,KJ.isFlatbuffersByteBuffer)(J))return A6($,J.bytes());return!ArrayBuffer.isView(J)?$.from(J):J.byteLength<=0?new $(0):new $(J.buffer,J.byteOffset,J.byteLength/$.BYTES_PER_ELEMENT)}jh.toArrayBufferView=A6;var U51=($)=>A6(Int8Array,$);jh.toInt8Array=U51;var V51=($)=>A6(Int16Array,$);jh.toInt16Array=V51;var N51=($)=>A6(Int32Array,$);jh.toInt32Array=N51;var D51=($)=>A6(BigInt64Array,$);jh.toBigInt64Array=D51;var C51=($)=>A6(Uint8Array,$);jh.toUint8Array=C51;var A51=($)=>A6(Uint16Array,$);jh.toUint16Array=A51;var z51=($)=>A6(Uint32Array,$);jh.toUint32Array=z51;var B51=($)=>A6(BigUint64Array,$);jh.toBigUint64Array=B51;var R51=($)=>A6(Float32Array,$);jh.toFloat32Array=R51;var O51=($)=>A6(Float64Array,$);jh.toFloat64Array=O51;var k51=($)=>A6(Uint8ClampedArray,$);jh.toUint8ClampedArray=k51;var mz=($)=>{return $.next(),$};function*r7($,Q){let J=function*(X){yield X},Z=typeof Q==="string"?J(Q):ArrayBuffer.isView(Q)?J(Q):Q instanceof ArrayBuffer?J(Q):Q instanceof cz?J(Q):!(0,KJ.isIterable)(Q)?J(Q):Q;return yield*mz(function*(X){let W=null;do W=X.next(yield A6($,W));while(!W.done)}(Z[Symbol.iterator]())),new $}jh.toArrayBufferViewIterator=r7;var P51=($)=>r7(Int8Array,$);jh.toInt8ArrayIterator=P51;var M51=($)=>r7(Int16Array,$);jh.toInt16ArrayIterator=M51;var w51=($)=>r7(Int32Array,$);jh.toInt32ArrayIterator=w51;var S51=($)=>r7(Uint8Array,$);jh.toUint8ArrayIterator=S51;var T51=($)=>r7(Uint16Array,$);jh.toUint16ArrayIterator=T51;var I51=($)=>r7(Uint32Array,$);jh.toUint32ArrayIterator=I51;var G51=($)=>r7(Float32Array,$);jh.toFloat32ArrayIterator=G51;var E51=($)=>r7(Float64Array,$);jh.toFloat64ArrayIterator=E51;var j51=($)=>r7(Uint8ClampedArray,$);jh.toUint8ClampedArrayIterator=j51;function V7($,Q){return w5.__asyncGenerator(this,arguments,function*(){if((0,KJ.isPromise)(Q))return yield w5.__await(yield w5.__await(yield*w5.__asyncDelegator(w5.__asyncValues(V7($,yield w5.__await(Q))))));let Z=function(H){return w5.__asyncGenerator(this,arguments,function*(){yield yield w5.__await(yield w5.__await(H))})},X=function(H){return w5.__asyncGenerator(this,arguments,function*(){yield w5.__await(yield*w5.__asyncDelegator(w5.__asyncValues(mz(function*(F){let V=null;do V=F.next(yield V===null||V===void 0?void 0:V.value);while(!V.done)}(H[Symbol.iterator]())))))})},W=typeof Q==="string"?Z(Q):ArrayBuffer.isView(Q)?Z(Q):Q instanceof ArrayBuffer?Z(Q):Q instanceof cz?Z(Q):(0,KJ.isIterable)(Q)?X(Q):!(0,KJ.isAsyncIterable)(Q)?Z(Q):Q;return yield w5.__await(yield*w5.__asyncDelegator(w5.__asyncValues(mz(function(H){return w5.__asyncGenerator(this,arguments,function*(){let F=null;do F=yield w5.__await(H.next(yield yield w5.__await(A6($,F))));while(!F.done)})}(W[Symbol.asyncIterator]()))))),yield w5.__await(new $)})}jh.toArrayBufferViewAsyncIterator=V7;var L51=($)=>V7(Int8Array,$);jh.toInt8ArrayAsyncIterator=L51;var h51=($)=>V7(Int16Array,$);jh.toInt16ArrayAsyncIterator=h51;var v51=($)=>V7(Int32Array,$);jh.toInt32ArrayAsyncIterator=v51;var _51=($)=>V7(Uint8Array,$);jh.toUint8ArrayAsyncIterator=_51;var x51=($)=>V7(Uint16Array,$);jh.toUint16ArrayAsyncIterator=x51;var g51=($)=>V7(Uint32Array,$);jh.toUint32ArrayAsyncIterator=g51;var y51=($)=>V7(Float32Array,$);jh.toFloat32ArrayAsyncIterator=y51;var b51=($)=>V7(Float64Array,$);jh.toFloat64ArrayAsyncIterator=b51;var f51=($)=>V7(Uint8ClampedArray,$);jh.toUint8ClampedArrayAsyncIterator=f51;function m51($,Q,J){if($!==0){J=J.slice(0,Q);for(let Z=-1,X=J.length;++Z<X;)J[Z]+=$}return J.subarray(0,Q)}jh.rebaseValueOffsets=m51;function c51($,Q){let J=0,Z=$.length;if(Z!==Q.length)return!1;if(Z>0)do if($[J]!==Q[J])return!1;while(++J<Z);return!0}jh.compareArrayLike=c51});var WX=o((vh)=>{Object.defineProperty(vh,"__esModule",{value:!0});var p0=(_6(),Q4(v6)),z6=g5();vh.default={fromIterable($){return RH(M61($))},fromAsyncIterable($){return RH(w61($))},fromDOMStream($){return RH(S61($))},fromNodeStream($){return RH(T61($))},toDOMStream($,Q){throw Error('"toDOMStream" not available in this environment')},toNodeStream($,Q){throw Error('"toNodeStream" not available in this environment')}};var RH=($)=>{return $.next(),$};function*M61($){let Q,J=!1,Z=[],X,W,H,F=0;function V(){if(W==="peek")return(0,z6.joinUint8Arrays)(Z,H)[0];return[X,Z,F]=(0,z6.joinUint8Arrays)(Z,H),X}({cmd:W,size:H}=(yield(()=>null)())||{cmd:"read",size:0});let D=(0,z6.toUint8ArrayIterator)($)[Symbol.iterator]();try{do{if({done:Q,value:X}=Number.isNaN(H-F)?D.next():D.next(H-F),!Q&&X.byteLength>0)Z.push(X),F+=X.byteLength;if(Q||H<=F)do({cmd:W,size:H}=yield V());while(H<F)}while(!Q)}catch(C){(J=!0)&&typeof D.throw==="function"&&D.throw(C)}finally{J===!1&&typeof D.return==="function"&&D.return(null)}return null}function w61($){return p0.__asyncGenerator(this,arguments,function*(){let J,Z=!1,X=[],W,H,F,V=0;function D(){if(H==="peek")return(0,z6.joinUint8Arrays)(X,F)[0];return[W,X,V]=(0,z6.joinUint8Arrays)(X,F),W}({cmd:H,size:F}=(yield yield p0.__await((()=>null)()))||{cmd:"read",size:0});let C=(0,z6.toUint8ArrayAsyncIterator)($)[Symbol.asyncIterator]();try{do{if({done:J,value:W}=Number.isNaN(F-V)?yield p0.__await(C.next()):yield p0.__await(C.next(F-V)),!J&&W.byteLength>0)X.push(W),V+=W.byteLength;if(J||F<=V)do({cmd:H,size:F}=yield yield p0.__await(D()));while(F<V)}while(!J)}catch(z){(Z=!0)&&typeof C.throw==="function"&&(yield p0.__await(C.throw(z)))}finally{Z===!1&&typeof C.return==="function"&&(yield p0.__await(C.return(new Uint8Array(0))))}return yield p0.__await(null)})}function S61($){return p0.__asyncGenerator(this,arguments,function*(){let J=!1,Z=!1,X=[],W,H,F,V=0;function D(){if(H==="peek")return(0,z6.joinUint8Arrays)(X,F)[0];return[W,X,V]=(0,z6.joinUint8Arrays)(X,F),W}({cmd:H,size:F}=(yield yield p0.__await((()=>null)()))||{cmd:"read",size:0});let C=new hh($);try{do{if({done:J,value:W}=Number.isNaN(F-V)?yield p0.__await(C.read()):yield p0.__await(C.read(F-V)),!J&&W.byteLength>0)X.push((0,z6.toUint8Array)(W)),V+=W.byteLength;if(J||F<=V)do({cmd:H,size:F}=yield yield p0.__await(D()));while(F<V)}while(!J)}catch(z){(Z=!0)&&(yield p0.__await(C.cancel(z)))}finally{Z===!1?yield p0.__await(C.cancel()):$.locked&&C.releaseLock()}return yield p0.__await(null)})}class hh{constructor($){this.source=$,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){if(this.reader)this.reader.releaseLock();this.reader=null}cancel($){return p0.__awaiter(this,void 0,void 0,function*(){let{reader:Q,source:J}=this;Q&&(yield Q.cancel($).catch(()=>{})),J&&(J.locked&&this.releaseLock())})}read($){return p0.__awaiter(this,void 0,void 0,function*(){if($===0)return{done:this.reader==null,value:new Uint8Array(0)};let Q=yield this.reader.read();return!Q.done&&(Q.value=(0,z6.toUint8Array)(Q)),Q})}}var dz=($,Q)=>{let J=(X)=>Z([Q,X]),Z;return[Q,J,new Promise((X)=>(Z=X)&&$.once(Q,J))]};function T61($){return p0.__asyncGenerator(this,arguments,function*(){let J=[],Z="error",X=!1,W=null,H,F,V=0,D=[],C;function z(){if(H==="peek")return(0,z6.joinUint8Arrays)(D,F)[0];return[C,D,V]=(0,z6.joinUint8Arrays)(D,F),C}if({cmd:H,size:F}=(yield yield p0.__await((()=>null)()))||{cmd:"read",size:0},$.isTTY)return yield yield p0.__await(new Uint8Array(0)),yield p0.__await(null);try{J[0]=dz($,"end"),J[1]=dz($,"error");do{if(J[2]=dz($,"readable"),[Z,W]=yield p0.__await(Promise.race(J.map((k)=>k[2]))),Z==="error")break;if(!(X=Z==="end")){if(!Number.isFinite(F-V))C=(0,z6.toUint8Array)($.read());else if(C=(0,z6.toUint8Array)($.read(F-V)),C.byteLength<F-V)C=(0,z6.toUint8Array)($.read());if(C.byteLength>0)D.push(C),V+=C.byteLength}if(X||F<=V)do({cmd:H,size:F}=yield yield p0.__await(z()));while(F<V)}while(!X)}finally{yield p0.__await(R(J,Z==="error"?W:null))}return yield p0.__await(null);function R(k,P){return C=D=null,new Promise((S,T)=>{for(let[_,v]of k)$.off(_,v);try{let _=$.destroy;_&&_.call($,P),P=void 0}catch(_){P=_||P}finally{P!=null?T(P):S()}})}})}});var OH=o((xh)=>{Object.defineProperty(xh,"__esModule",{value:!0});xh.MetadataVersion=void 0;var _h;(function($){$[$.V1=0]="V1",$[$.V2=1]="V2",$[$.V3=2]="V3",$[$.V4=3]="V4",$[$.V5=4]="V5"})(_h||(xh.MetadataVersion=_h={}))});var lz=o((bh)=>{Object.defineProperty(bh,"__esModule",{value:!0});bh.UnionMode=void 0;var yh;(function($){$[$.Sparse=0]="Sparse",$[$.Dense=1]="Dense"})(yh||(bh.UnionMode=yh={}))});var pz=o((ch)=>{Object.defineProperty(ch,"__esModule",{value:!0});ch.Precision=void 0;var mh;(function($){$[$.HALF=0]="HALF",$[$.SINGLE=1]="SINGLE",$[$.DOUBLE=2]="DOUBLE"})(mh||(ch.Precision=mh={}))});var uz=o((ph)=>{Object.defineProperty(ph,"__esModule",{value:!0});ph.DateUnit=void 0;var lh;(function($){$[$.DAY=0]="DAY",$[$.MILLISECOND=1]="MILLISECOND"})(lh||(ph.DateUnit=lh={}))});var qX=o((nh)=>{Object.defineProperty(nh,"__esModule",{value:!0});nh.TimeUnit=void 0;var ih;(function($){$[$.SECOND=0]="SECOND",$[$.MILLISECOND=1]="MILLISECOND",$[$.MICROSECOND=2]="MICROSECOND",$[$.NANOSECOND=3]="NANOSECOND"})(ih||(nh.TimeUnit=ih={}))});var iz=o((ah)=>{Object.defineProperty(ah,"__esModule",{value:!0});ah.IntervalUnit=void 0;var oh;(function($){$[$.YEAR_MONTH=0]="YEAR_MONTH",$[$.DAY_TIME=1]="DAY_TIME",$[$.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(oh||(ah.IntervalUnit=oh={}))});var s2=o((th)=>{Object.defineProperty(th,"__esModule",{value:!0});th.SIZE_PREFIX_LENGTH=th.FILE_IDENTIFIER_LENGTH=th.SIZEOF_INT=th.SIZEOF_SHORT=void 0;th.SIZEOF_SHORT=2;th.SIZEOF_INT=4;th.FILE_IDENTIFIER_LENGTH=4;th.SIZE_PREFIX_LENGTH=4});var sz=o(($v)=>{Object.defineProperty($v,"__esModule",{value:!0});$v.isLittleEndian=$v.float64=$v.float32=$v.int32=void 0;$v.int32=new Int32Array(2);$v.float32=new Float32Array($v.int32.buffer);$v.float64=new Float64Array($v.int32.buffer);$v.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1});var oz=o((Zv)=>{Object.defineProperty(Zv,"__esModule",{value:!0});Zv.Encoding=void 0;var Jv;(function($){$[$.UTF8_BYTES=1]="UTF8_BYTES",$[$.UTF16_STRING=2]="UTF16_STRING"})(Jv||(Zv.Encoding=Jv={}))});var rz=o((Xv)=>{Object.defineProperty(Xv,"__esModule",{value:!0});Xv.ByteBuffer=void 0;var t7=s2(),x6=sz(),v61=oz();class az{constructor($){this.bytes_=$,this.position_=0,this.text_decoder_=new TextDecoder}static allocate($){return new az(new Uint8Array($))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition($){this.position_=$}capacity(){return this.bytes_.length}readInt8($){return this.readUint8($)<<24>>24}readUint8($){return this.bytes_[$]}readInt16($){return this.readUint16($)<<16>>16}readUint16($){return this.bytes_[$]|this.bytes_[$+1]<<8}readInt32($){return this.bytes_[$]|this.bytes_[$+1]<<8|this.bytes_[$+2]<<16|this.bytes_[$+3]<<24}readUint32($){return this.readInt32($)>>>0}readInt64($){return BigInt.asIntN(64,BigInt(this.readUint32($))+(BigInt(this.readUint32($+4))<<BigInt(32)))}readUint64($){return BigInt.asUintN(64,BigInt(this.readUint32($))+(BigInt(this.readUint32($+4))<<BigInt(32)))}readFloat32($){return x6.int32[0]=this.readInt32($),x6.float32[0]}readFloat64($){return x6.int32[x6.isLittleEndian?0:1]=this.readInt32($),x6.int32[x6.isLittleEndian?1:0]=this.readInt32($+4),x6.float64[0]}writeInt8($,Q){this.bytes_[$]=Q}writeUint8($,Q){this.bytes_[$]=Q}writeInt16($,Q){this.bytes_[$]=Q,this.bytes_[$+1]=Q>>8}writeUint16($,Q){this.bytes_[$]=Q,this.bytes_[$+1]=Q>>8}writeInt32($,Q){this.bytes_[$]=Q,this.bytes_[$+1]=Q>>8,this.bytes_[$+2]=Q>>16,this.bytes_[$+3]=Q>>24}writeUint32($,Q){this.bytes_[$]=Q,this.bytes_[$+1]=Q>>8,this.bytes_[$+2]=Q>>16,this.bytes_[$+3]=Q>>24}writeInt64($,Q){this.writeInt32($,Number(BigInt.asIntN(32,Q))),this.writeInt32($+4,Number(BigInt.asIntN(32,Q>>BigInt(32))))}writeUint64($,Q){this.writeUint32($,Number(BigInt.asUintN(32,Q))),this.writeUint32($+4,Number(BigInt.asUintN(32,Q>>BigInt(32))))}writeFloat32($,Q){x6.float32[0]=Q,this.writeInt32($,x6.int32[0])}writeFloat64($,Q){x6.float64[0]=Q,this.writeInt32($,x6.int32[x6.isLittleEndian?0:1]),this.writeInt32($+4,x6.int32[x6.isLittleEndian?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+t7.SIZEOF_INT+t7.FILE_IDENTIFIER_LENGTH)throw Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let $="";for(let Q=0;Q<t7.FILE_IDENTIFIER_LENGTH;Q++)$+=String.fromCharCode(this.readInt8(this.position_+t7.SIZEOF_INT+Q));return $}__offset($,Q){let J=$-this.readInt32($);return Q<this.readInt16(J)?this.readInt16(J+Q):0}__union($,Q){return $.bb_pos=Q+this.readInt32(Q),$.bb=this,$}__string($,Q){$+=this.readInt32($);let J=this.readInt32($);$+=t7.SIZEOF_INT;let Z=this.bytes_.subarray($,$+J);if(Q===v61.Encoding.UTF8_BYTES)return Z;else return this.text_decoder_.decode(Z)}__union_with_string($,Q){if(typeof $==="string")return this.__string(Q);return this.__union($,Q)}__indirect($){return $+this.readInt32($)}__vector($){return $+this.readInt32($)+t7.SIZEOF_INT}__vector_len($){return this.readInt32($+this.readInt32($))}__has_identifier($){if($.length!=t7.FILE_IDENTIFIER_LENGTH)throw Error("FlatBuffers: file identifier must be length "+t7.FILE_IDENTIFIER_LENGTH);for(let Q=0;Q<t7.FILE_IDENTIFIER_LENGTH;Q++)if($.charCodeAt(Q)!=this.readInt8(this.position()+t7.SIZEOF_INT+Q))return!1;return!0}createScalarList($,Q){let J=[];for(let Z=0;Z<Q;++Z){let X=$(Z);if(X!==null)J.push(X)}return J}createObjList($,Q){let J=[];for(let Z=0;Z<Q;++Z){let X=$(Z);if(X!==null)J.push(X.unpack())}return J}}Xv.ByteBuffer=az});var Fv=o((qv)=>{Object.defineProperty(qv,"__esModule",{value:!0});qv.Builder=void 0;var Wv=rz(),J4=s2();class tz{constructor($){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let Q;if(!$)Q=1024;else Q=$;this.bb=Wv.ByteBuffer.allocate(Q),this.space=Q}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults($){this.force_defaults=$}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep($,Q){if($>this.minalign)this.minalign=$;let J=~(this.bb.capacity()-this.space+Q)+1&$-1;while(this.space<J+$+Q){let Z=this.bb.capacity();this.bb=tz.growByteBuffer(this.bb),this.space+=this.bb.capacity()-Z}this.pad(J)}pad($){for(let Q=0;Q<$;Q++)this.bb.writeInt8(--this.space,0)}writeInt8($){this.bb.writeInt8(this.space-=1,$)}writeInt16($){this.bb.writeInt16(this.space-=2,$)}writeInt32($){this.bb.writeInt32(this.space-=4,$)}writeInt64($){this.bb.writeInt64(this.space-=8,$)}writeFloat32($){this.bb.writeFloat32(this.space-=4,$)}writeFloat64($){this.bb.writeFloat64(this.space-=8,$)}addInt8($){this.prep(1,0),this.writeInt8($)}addInt16($){this.prep(2,0),this.writeInt16($)}addInt32($){this.prep(4,0),this.writeInt32($)}addInt64($){this.prep(8,0),this.writeInt64($)}addFloat32($){this.prep(4,0),this.writeFloat32($)}addFloat64($){this.prep(8,0),this.writeFloat64($)}addFieldInt8($,Q,J){if(this.force_defaults||Q!=J)this.addInt8(Q),this.slot($)}addFieldInt16($,Q,J){if(this.force_defaults||Q!=J)this.addInt16(Q),this.slot($)}addFieldInt32($,Q,J){if(this.force_defaults||Q!=J)this.addInt32(Q),this.slot($)}addFieldInt64($,Q,J){if(this.force_defaults||Q!==J)this.addInt64(Q),this.slot($)}addFieldFloat32($,Q,J){if(this.force_defaults||Q!=J)this.addFloat32(Q),this.slot($)}addFieldFloat64($,Q,J){if(this.force_defaults||Q!=J)this.addFloat64(Q),this.slot($)}addFieldOffset($,Q,J){if(this.force_defaults||Q!=J)this.addOffset(Q),this.slot($)}addFieldStruct($,Q,J){if(Q!=J)this.nested(Q),this.slot($)}nested($){if($!=this.offset())throw TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw TypeError("FlatBuffers: object serialization must not be nested.")}slot($){if(this.vtable!==null)this.vtable[$]=this.offset()}offset(){return this.bb.capacity()-this.space}static growByteBuffer($){let Q=$.capacity();if(Q&3221225472)throw Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");let J=Q<<1,Z=Wv.ByteBuffer.allocate(J);return Z.setPosition(J-Q),Z.bytes().set($.bytes(),J-Q),Z}addOffset($){this.prep(J4.SIZEOF_INT,0),this.writeInt32(this.offset()-$+J4.SIZEOF_INT)}startObject($){if(this.notNested(),this.vtable==null)this.vtable=[];this.vtable_in_use=$;for(let Q=0;Q<$;Q++)this.vtable[Q]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw Error("FlatBuffers: endObject called without startObject");this.addInt32(0);let $=this.offset(),Q=this.vtable_in_use-1;for(;Q>=0&&this.vtable[Q]==0;Q--);let J=Q+1;for(;Q>=0;Q--)this.addInt16(this.vtable[Q]!=0?$-this.vtable[Q]:0);let Z=2;this.addInt16($-this.object_start);let X=(J+Z)*J4.SIZEOF_SHORT;this.addInt16(X);let W=0,H=this.space;$:for(Q=0;Q<this.vtables.length;Q++){let F=this.bb.capacity()-this.vtables[Q];if(X==this.bb.readInt16(F)){for(let V=J4.SIZEOF_SHORT;V<X;V+=J4.SIZEOF_SHORT)if(this.bb.readInt16(H+V)!=this.bb.readInt16(F+V))continue $;W=this.vtables[Q];break}}if(W)this.space=this.bb.capacity()-$,this.bb.writeInt32(this.space,W-$);else this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-$,this.offset()-$);return this.isNested=!1,$}finish($,Q,J){let Z=J?J4.SIZE_PREFIX_LENGTH:0;if(Q){let X=Q;if(this.prep(this.minalign,J4.SIZEOF_INT+J4.FILE_IDENTIFIER_LENGTH+Z),X.length!=J4.FILE_IDENTIFIER_LENGTH)throw TypeError("FlatBuffers: file identifier must be length "+J4.FILE_IDENTIFIER_LENGTH);for(let W=J4.FILE_IDENTIFIER_LENGTH-1;W>=0;W--)this.writeInt8(X.charCodeAt(W))}if(this.prep(this.minalign,J4.SIZEOF_INT+Z),this.addOffset($),Z)this.addInt32(this.bb.capacity()-this.space);this.bb.setPosition(this.space)}finishSizePrefixed($,Q){this.finish($,Q,!0)}requiredField($,Q){let J=this.bb.capacity()-$,Z=J-this.bb.readInt32(J);if(!(Q<this.bb.readInt16(Z)&&this.bb.readInt16(Z+Q)!=0))throw TypeError("FlatBuffers: field "+Q+" must be set")}startVector($,Q,J){this.notNested(),this.vector_num_elems=Q,this.prep(J4.SIZEOF_INT,$*Q),this.prep(J,$*Q)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString($){if(!$)return 0;if(!this.string_maps)this.string_maps=new Map;if(this.string_maps.has($))return this.string_maps.get($);let Q=this.createString($);return this.string_maps.set($,Q),Q}createString($){if($===null||$===void 0)return 0;let Q;if($ instanceof Uint8Array)Q=$;else Q=this.text_encoder.encode($);return this.addInt8(0),this.startVector(1,Q.length,1),this.bb.setPosition(this.space-=Q.length),this.bb.bytes().set(Q,this.space),this.endVector()}createByteVector($){if($===null||$===void 0)return 0;return this.startVector(1,$.length,1),this.bb.setPosition(this.space-=$.length),this.bb.bytes().set($,this.space),this.endVector()}createObjectOffset($){if($===null)return 0;if(typeof $==="string")return this.createString($);else return $.pack(this)}createObjectOffsetList($){let Q=[];for(let J=0;J<$.length;++J){let Z=$[J];if(Z!==null)Q.push(this.createObjectOffset(Z));else throw TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return Q}createStructOffsetList($,Q){return Q(this,$.length),this.createObjectOffsetList($.slice().reverse()),this.endVector()}}qv.Builder=tz});var Z0=o((Z4)=>{Object.defineProperty(Z4,"__esModule",{value:!0});Z4.ByteBuffer=Z4.Builder=Z4.Encoding=Z4.isLittleEndian=Z4.float64=Z4.float32=Z4.int32=Z4.SIZE_PREFIX_LENGTH=Z4.FILE_IDENTIFIER_LENGTH=Z4.SIZEOF_INT=Z4.SIZEOF_SHORT=void 0;var _61=s2();Object.defineProperty(Z4,"SIZEOF_SHORT",{enumerable:!0,get:function(){return _61.SIZEOF_SHORT}});var x61=s2();Object.defineProperty(Z4,"SIZEOF_INT",{enumerable:!0,get:function(){return x61.SIZEOF_INT}});var g61=s2();Object.defineProperty(Z4,"FILE_IDENTIFIER_LENGTH",{enumerable:!0,get:function(){return g61.FILE_IDENTIFIER_LENGTH}});var y61=s2();Object.defineProperty(Z4,"SIZE_PREFIX_LENGTH",{enumerable:!0,get:function(){return y61.SIZE_PREFIX_LENGTH}});var kH=sz();Object.defineProperty(Z4,"int32",{enumerable:!0,get:function(){return kH.int32}});Object.defineProperty(Z4,"float32",{enumerable:!0,get:function(){return kH.float32}});Object.defineProperty(Z4,"float64",{enumerable:!0,get:function(){return kH.float64}});Object.defineProperty(Z4,"isLittleEndian",{enumerable:!0,get:function(){return kH.isLittleEndian}});var b61=oz();Object.defineProperty(Z4,"Encoding",{enumerable:!0,get:function(){return b61.Encoding}});var f61=Fv();Object.defineProperty(Z4,"Builder",{enumerable:!0,get:function(){return f61.Builder}});var m61=rz();Object.defineProperty(Z4,"ByteBuffer",{enumerable:!0,get:function(){return m61.ByteBuffer}})});var Dv=o((Vv)=>{Object.defineProperty(Vv,"__esModule",{value:!0});Vv.BodyCompressionMethod=void 0;var Uv;(function($){$[$.BUFFER=0]="BUFFER"})(Uv||(Vv.BodyCompressionMethod=Uv={}))});var Bv=o((Av)=>{Object.defineProperty(Av,"__esModule",{value:!0});Av.CompressionType=void 0;var Cv;(function($){$[$.LZ4_FRAME=0]="LZ4_FRAME",$[$.ZSTD=1]="ZSTD"})(Cv||(Av.CompressionType=Cv={}))});var Mv=o((kv)=>{Object.defineProperty(kv,"__esModule",{value:!0});kv.BodyCompression=void 0;var d61=Z0(),Rv=Dv(),Ov=Bv();class V9{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsBodyCompression($,Q){return(Q||new V9).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsBodyCompression($,Q){return $.setPosition($.position()+d61.SIZE_PREFIX_LENGTH),(Q||new V9).__init($.readInt32($.position())+$.position(),$)}codec(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt8(this.bb_pos+$):Ov.CompressionType.LZ4_FRAME}method(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.readInt8(this.bb_pos+$):Rv.BodyCompressionMethod.BUFFER}static startBodyCompression($){$.startObject(2)}static addCodec($,Q){$.addFieldInt8(0,Q,Ov.CompressionType.LZ4_FRAME)}static addMethod($,Q){$.addFieldInt8(1,Q,Rv.BodyCompressionMethod.BUFFER)}static endBodyCompression($){return $.endObject()}static createBodyCompression($,Q,J){return V9.startBodyCompression($),V9.addCodec($,Q),V9.addMethod($,J),V9.endBodyCompression($)}}kv.BodyCompression=V9});var N9=o((Sv)=>{Object.defineProperty(Sv,"__esModule",{value:!0});Sv.Buffer=void 0;class wv{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer($,Q,J){return $.prep(8,16),$.writeInt64(BigInt(J!==null&&J!==void 0?J:0)),$.writeInt64(BigInt(Q!==null&&Q!==void 0?Q:0)),$.offset()}}Sv.Buffer=wv});var ez=o((Gv)=>{Object.defineProperty(Gv,"__esModule",{value:!0});Gv.FieldNode=void 0;class Iv{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode($,Q,J){return $.prep(8,16),$.writeInt64(BigInt(J!==null&&J!==void 0?J:0)),$.writeInt64(BigInt(Q!==null&&Q!==void 0?Q:0)),$.offset()}}Gv.FieldNode=Iv});var MH=o((jv)=>{Object.defineProperty(jv,"__esModule",{value:!0});jv.RecordBatch=void 0;var l61=Z0(),p61=Mv(),u61=N9(),i61=ez();class PH{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsRecordBatch($,Q){return(Q||new PH).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsRecordBatch($,Q){return $.setPosition($.position()+l61.SIZE_PREFIX_LENGTH),(Q||new PH).__init($.readInt32($.position())+$.position(),$)}length(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt64(this.bb_pos+$):BigInt("0")}nodes($,Q){let J=this.bb.__offset(this.bb_pos,6);return J?(Q||new i61.FieldNode).__init(this.bb.__vector(this.bb_pos+J)+$*16,this.bb):null}nodesLength(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__vector_len(this.bb_pos+$):0}buffers($,Q){let J=this.bb.__offset(this.bb_pos,8);return J?(Q||new u61.Buffer).__init(this.bb.__vector(this.bb_pos+J)+$*16,this.bb):null}buffersLength(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.__vector_len(this.bb_pos+$):0}compression($){let Q=this.bb.__offset(this.bb_pos,10);return Q?($||new p61.BodyCompression).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}static startRecordBatch($){$.startObject(4)}static addLength($,Q){$.addFieldInt64(0,Q,BigInt("0"))}static addNodes($,Q){$.addFieldOffset(1,Q,0)}static startNodesVector($,Q){$.startVector(16,Q,8)}static addBuffers($,Q){$.addFieldOffset(2,Q,0)}static startBuffersVector($,Q){$.startVector(16,Q,8)}static addCompression($,Q){$.addFieldOffset(3,Q,0)}static endRecordBatch($){return $.endObject()}}jv.RecordBatch=PH});var $B=o((hv)=>{Object.defineProperty(hv,"__esModule",{value:!0});hv.DictionaryBatch=void 0;var n61=Z0(),s61=MH();class wH{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsDictionaryBatch($,Q){return(Q||new wH).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsDictionaryBatch($,Q){return $.setPosition($.position()+n61.SIZE_PREFIX_LENGTH),(Q||new wH).__init($.readInt32($.position())+$.position(),$)}id(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt64(this.bb_pos+$):BigInt("0")}data($){let Q=this.bb.__offset(this.bb_pos,6);return Q?($||new s61.RecordBatch).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}isDelta(){let $=this.bb.__offset(this.bb_pos,8);return $?!!this.bb.readInt8(this.bb_pos+$):!1}static startDictionaryBatch($){$.startObject(3)}static addId($,Q){$.addFieldInt64(0,Q,BigInt("0"))}static addData($,Q){$.addFieldOffset(1,Q,0)}static addIsDelta($,Q){$.addFieldInt8(2,+Q,0)}static endDictionaryBatch($){return $.endObject()}}hv.DictionaryBatch=wH});var QB=o((xv)=>{Object.defineProperty(xv,"__esModule",{value:!0});xv.Endianness=void 0;var _v;(function($){$[$.Little=0]="Little",$[$.Big=1]="Big"})(_v||(xv.Endianness=_v={}))});var mv=o((bv)=>{Object.defineProperty(bv,"__esModule",{value:!0});bv.DictionaryKind=void 0;var yv;(function($){$[$.DenseArray=0]="DenseArray"})(yv||(bv.DictionaryKind=yv={}))});var C9=o((cv)=>{Object.defineProperty(cv,"__esModule",{value:!0});cv.Int=void 0;var o61=Z0();class D9{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsInt($,Q){return(Q||new D9).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsInt($,Q){return $.setPosition($.position()+o61.SIZE_PREFIX_LENGTH),(Q||new D9).__init($.readInt32($.position())+$.position(),$)}bitWidth(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt32(this.bb_pos+$):0}isSigned(){let $=this.bb.__offset(this.bb_pos,6);return $?!!this.bb.readInt8(this.bb_pos+$):!1}static startInt($){$.startObject(2)}static addBitWidth($,Q){$.addFieldInt32(0,Q,0)}static addIsSigned($,Q){$.addFieldInt8(1,+Q,0)}static endInt($){return $.endObject()}static createInt($,Q,J){return D9.startInt($),D9.addBitWidth($,Q),D9.addIsSigned($,J),D9.endInt($)}}cv.Int=D9});var JB=o((pv)=>{Object.defineProperty(pv,"__esModule",{value:!0});pv.DictionaryEncoding=void 0;var a61=Z0(),lv=mv(),r61=C9();class SH{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsDictionaryEncoding($,Q){return(Q||new SH).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsDictionaryEncoding($,Q){return $.setPosition($.position()+a61.SIZE_PREFIX_LENGTH),(Q||new SH).__init($.readInt32($.position())+$.position(),$)}id(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt64(this.bb_pos+$):BigInt("0")}indexType($){let Q=this.bb.__offset(this.bb_pos,6);return Q?($||new r61.Int).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}isOrdered(){let $=this.bb.__offset(this.bb_pos,8);return $?!!this.bb.readInt8(this.bb_pos+$):!1}dictionaryKind(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.readInt16(this.bb_pos+$):lv.DictionaryKind.DenseArray}static startDictionaryEncoding($){$.startObject(4)}static addId($,Q){$.addFieldInt64(0,Q,BigInt("0"))}static addIndexType($,Q){$.addFieldOffset(1,Q,0)}static addIsOrdered($,Q){$.addFieldInt8(2,+Q,0)}static addDictionaryKind($,Q){$.addFieldInt16(3,Q,lv.DictionaryKind.DenseArray)}static endDictionaryEncoding($){return $.endObject()}}pv.DictionaryEncoding=SH});var XJ=o((iv)=>{Object.defineProperty(iv,"__esModule",{value:!0});iv.KeyValue=void 0;var t61=Z0();class A9{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsKeyValue($,Q){return(Q||new A9).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsKeyValue($,Q){return $.setPosition($.position()+t61.SIZE_PREFIX_LENGTH),(Q||new A9).__init($.readInt32($.position())+$.position(),$)}key($){let Q=this.bb.__offset(this.bb_pos,4);return Q?this.bb.__string(this.bb_pos+Q,$):null}value($){let Q=this.bb.__offset(this.bb_pos,6);return Q?this.bb.__string(this.bb_pos+Q,$):null}static startKeyValue($){$.startObject(2)}static addKey($,Q){$.addFieldOffset(0,Q,0)}static addValue($,Q){$.addFieldOffset(1,Q,0)}static endKeyValue($){return $.endObject()}static createKeyValue($,Q,J){return A9.startKeyValue($),A9.addKey($,Q),A9.addValue($,J),A9.endKeyValue($)}}iv.KeyValue=A9});var ZB=o((sv)=>{Object.defineProperty(sv,"__esModule",{value:!0});sv.Binary=void 0;var e61=Z0();class YJ{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsBinary($,Q){return(Q||new YJ).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsBinary($,Q){return $.setPosition($.position()+e61.SIZE_PREFIX_LENGTH),(Q||new YJ).__init($.readInt32($.position())+$.position(),$)}static startBinary($){$.startObject(0)}static endBinary($){return $.endObject()}static createBinary($){return YJ.startBinary($),YJ.endBinary($)}}sv.Binary=YJ});var KB=o((av)=>{Object.defineProperty(av,"__esModule",{value:!0});av.Bool=void 0;var $41=Z0();class WJ{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsBool($,Q){return(Q||new WJ).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsBool($,Q){return $.setPosition($.position()+$41.SIZE_PREFIX_LENGTH),(Q||new WJ).__init($.readInt32($.position())+$.position(),$)}static startBool($){$.startObject(0)}static endBool($){return $.endObject()}static createBool($){return WJ.startBool($),WJ.endBool($)}}av.Bool=WJ});var TH=o((ev)=>{Object.defineProperty(ev,"__esModule",{value:!0});ev.Date=void 0;var Q41=Z0(),tv=uz();class o2{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsDate($,Q){return(Q||new o2).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsDate($,Q){return $.setPosition($.position()+Q41.SIZE_PREFIX_LENGTH),(Q||new o2).__init($.readInt32($.position())+$.position(),$)}unit(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):tv.DateUnit.MILLISECOND}static startDate($){$.startObject(1)}static addUnit($,Q){$.addFieldInt16(0,Q,tv.DateUnit.MILLISECOND)}static endDate($){return $.endObject()}static createDate($,Q){return o2.startDate($),o2.addUnit($,Q),o2.endDate($)}}ev.Date=o2});var IH=o((Q_)=>{Object.defineProperty(Q_,"__esModule",{value:!0});Q_.Decimal=void 0;var J41=Z0();class J8{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsDecimal($,Q){return(Q||new J8).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsDecimal($,Q){return $.setPosition($.position()+J41.SIZE_PREFIX_LENGTH),(Q||new J8).__init($.readInt32($.position())+$.position(),$)}precision(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt32(this.bb_pos+$):0}scale(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.readInt32(this.bb_pos+$):0}bitWidth(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.readInt32(this.bb_pos+$):128}static startDecimal($){$.startObject(3)}static addPrecision($,Q){$.addFieldInt32(0,Q,0)}static addScale($,Q){$.addFieldInt32(1,Q,0)}static addBitWidth($,Q){$.addFieldInt32(2,Q,128)}static endDecimal($){return $.endObject()}static createDecimal($,Q,J,Z){return J8.startDecimal($),J8.addPrecision($,Q),J8.addScale($,J),J8.addBitWidth($,Z),J8.endDecimal($)}}Q_.Decimal=J8});var GH=o((K_)=>{Object.defineProperty(K_,"__esModule",{value:!0});K_.Duration=void 0;var Z41=Z0(),Z_=qX();class a2{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsDuration($,Q){return(Q||new a2).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsDuration($,Q){return $.setPosition($.position()+Z41.SIZE_PREFIX_LENGTH),(Q||new a2).__init($.readInt32($.position())+$.position(),$)}unit(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):Z_.TimeUnit.MILLISECOND}static startDuration($){$.startObject(1)}static addUnit($,Q){$.addFieldInt16(0,Q,Z_.TimeUnit.MILLISECOND)}static endDuration($){return $.endObject()}static createDuration($,Q){return a2.startDuration($),a2.addUnit($,Q),a2.endDuration($)}}K_.Duration=a2});var EH=o((Y_)=>{Object.defineProperty(Y_,"__esModule",{value:!0});Y_.FixedSizeBinary=void 0;var K41=Z0();class r2{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsFixedSizeBinary($,Q){return(Q||new r2).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsFixedSizeBinary($,Q){return $.setPosition($.position()+K41.SIZE_PREFIX_LENGTH),(Q||new r2).__init($.readInt32($.position())+$.position(),$)}byteWidth(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt32(this.bb_pos+$):0}static startFixedSizeBinary($){$.startObject(1)}static addByteWidth($,Q){$.addFieldInt32(0,Q,0)}static endFixedSizeBinary($){return $.endObject()}static createFixedSizeBinary($,Q){return r2.startFixedSizeBinary($),r2.addByteWidth($,Q),r2.endFixedSizeBinary($)}}Y_.FixedSizeBinary=r2});var jH=o((q_)=>{Object.defineProperty(q_,"__esModule",{value:!0});q_.FixedSizeList=void 0;var X41=Z0();class t2{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsFixedSizeList($,Q){return(Q||new t2).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsFixedSizeList($,Q){return $.setPosition($.position()+X41.SIZE_PREFIX_LENGTH),(Q||new t2).__init($.readInt32($.position())+$.position(),$)}listSize(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt32(this.bb_pos+$):0}static startFixedSizeList($){$.startObject(1)}static addListSize($,Q){$.addFieldInt32(0,Q,0)}static endFixedSizeList($){return $.endObject()}static createFixedSizeList($,Q){return t2.startFixedSizeList($),t2.addListSize($,Q),t2.endFixedSizeList($)}}q_.FixedSizeList=t2});var LH=o((U_)=>{Object.defineProperty(U_,"__esModule",{value:!0});U_.FloatingPoint=void 0;var Y41=Z0(),F_=pz();class e2{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsFloatingPoint($,Q){return(Q||new e2).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsFloatingPoint($,Q){return $.setPosition($.position()+Y41.SIZE_PREFIX_LENGTH),(Q||new e2).__init($.readInt32($.position())+$.position(),$)}precision(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):F_.Precision.HALF}static startFloatingPoint($){$.startObject(1)}static addPrecision($,Q){$.addFieldInt16(0,Q,F_.Precision.HALF)}static endFloatingPoint($){return $.endObject()}static createFloatingPoint($,Q){return e2.startFloatingPoint($),e2.addPrecision($,Q),e2.endFloatingPoint($)}}U_.FloatingPoint=e2});var hH=o((D_)=>{Object.defineProperty(D_,"__esModule",{value:!0});D_.Interval=void 0;var W41=Z0(),N_=iz();class $${constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsInterval($,Q){return(Q||new $$).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsInterval($,Q){return $.setPosition($.position()+W41.SIZE_PREFIX_LENGTH),(Q||new $$).__init($.readInt32($.position())+$.position(),$)}unit(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):N_.IntervalUnit.YEAR_MONTH}static startInterval($){$.startObject(1)}static addUnit($,Q){$.addFieldInt16(0,Q,N_.IntervalUnit.YEAR_MONTH)}static endInterval($){return $.endObject()}static createInterval($,Q){return $$.startInterval($),$$.addUnit($,Q),$$.endInterval($)}}D_.Interval=$$});var XB=o((A_)=>{Object.defineProperty(A_,"__esModule",{value:!0});A_.LargeBinary=void 0;var q41=Z0();class qJ{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsLargeBinary($,Q){return(Q||new qJ).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsLargeBinary($,Q){return $.setPosition($.position()+q41.SIZE_PREFIX_LENGTH),(Q||new qJ).__init($.readInt32($.position())+$.position(),$)}static startLargeBinary($){$.startObject(0)}static endLargeBinary($){return $.endObject()}static createLargeBinary($){return qJ.startLargeBinary($),qJ.endLargeBinary($)}}A_.LargeBinary=qJ});var O_=o((B_)=>{Object.defineProperty(B_,"__esModule",{value:!0});B_.LargeList=void 0;var H41=Z0();class HJ{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsLargeList($,Q){return(Q||new HJ).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsLargeList($,Q){return $.setPosition($.position()+H41.SIZE_PREFIX_LENGTH),(Q||new HJ).__init($.readInt32($.position())+$.position(),$)}static startLargeList($){$.startObject(0)}static endLargeList($){return $.endObject()}static createLargeList($){return HJ.startLargeList($),HJ.endLargeList($)}}B_.LargeList=HJ});var YB=o((k_)=>{Object.defineProperty(k_,"__esModule",{value:!0});k_.LargeUtf8=void 0;var F41=Z0();class FJ{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsLargeUtf8($,Q){return(Q||new FJ).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsLargeUtf8($,Q){return $.setPosition($.position()+F41.SIZE_PREFIX_LENGTH),(Q||new FJ).__init($.readInt32($.position())+$.position(),$)}static startLargeUtf8($){$.startObject(0)}static endLargeUtf8($){return $.endObject()}static createLargeUtf8($){return FJ.startLargeUtf8($),FJ.endLargeUtf8($)}}k_.LargeUtf8=FJ});var WB=o((M_)=>{Object.defineProperty(M_,"__esModule",{value:!0});M_.List=void 0;var U41=Z0();class UJ{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsList($,Q){return(Q||new UJ).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsList($,Q){return $.setPosition($.position()+U41.SIZE_PREFIX_LENGTH),(Q||new UJ).__init($.readInt32($.position())+$.position(),$)}static startList($){$.startObject(0)}static endList($){return $.endObject()}static createList($){return UJ.startList($),UJ.endList($)}}M_.List=UJ});var vH=o((S_)=>{Object.defineProperty(S_,"__esModule",{value:!0});S_.Map=void 0;var V41=Z0();class Q${constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsMap($,Q){return(Q||new Q$).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsMap($,Q){return $.setPosition($.position()+V41.SIZE_PREFIX_LENGTH),(Q||new Q$).__init($.readInt32($.position())+$.position(),$)}keysSorted(){let $=this.bb.__offset(this.bb_pos,4);return $?!!this.bb.readInt8(this.bb_pos+$):!1}static startMap($){$.startObject(1)}static addKeysSorted($,Q){$.addFieldInt8(0,+Q,0)}static endMap($){return $.endObject()}static createMap($,Q){return Q$.startMap($),Q$.addKeysSorted($,Q),Q$.endMap($)}}S_.Map=Q$});var qB=o((I_)=>{Object.defineProperty(I_,"__esModule",{value:!0});I_.Null=void 0;var N41=Z0();class VJ{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsNull($,Q){return(Q||new VJ).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsNull($,Q){return $.setPosition($.position()+N41.SIZE_PREFIX_LENGTH),(Q||new VJ).__init($.readInt32($.position())+$.position(),$)}static startNull($){$.startObject(0)}static endNull($){return $.endObject()}static createNull($){return VJ.startNull($),VJ.endNull($)}}I_.Null=VJ});var L_=o((E_)=>{Object.defineProperty(E_,"__esModule",{value:!0});E_.RunEndEncoded=void 0;var D41=Z0();class NJ{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsRunEndEncoded($,Q){return(Q||new NJ).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsRunEndEncoded($,Q){return $.setPosition($.position()+D41.SIZE_PREFIX_LENGTH),(Q||new NJ).__init($.readInt32($.position())+$.position(),$)}static startRunEndEncoded($){$.startObject(0)}static endRunEndEncoded($){return $.endObject()}static createRunEndEncoded($){return NJ.startRunEndEncoded($),NJ.endRunEndEncoded($)}}E_.RunEndEncoded=NJ});var HB=o((h_)=>{Object.defineProperty(h_,"__esModule",{value:!0});h_.Struct_=void 0;var C41=Z0();class DJ{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsStruct_($,Q){return(Q||new DJ).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsStruct_($,Q){return $.setPosition($.position()+C41.SIZE_PREFIX_LENGTH),(Q||new DJ).__init($.readInt32($.position())+$.position(),$)}static startStruct_($){$.startObject(0)}static endStruct_($){return $.endObject()}static createStruct_($){return DJ.startStruct_($),DJ.endStruct_($)}}h_.Struct_=DJ});var _H=o((x_)=>{Object.defineProperty(x_,"__esModule",{value:!0});x_.Time=void 0;var A41=Z0(),__=qX();class z9{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsTime($,Q){return(Q||new z9).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsTime($,Q){return $.setPosition($.position()+A41.SIZE_PREFIX_LENGTH),(Q||new z9).__init($.readInt32($.position())+$.position(),$)}unit(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):__.TimeUnit.MILLISECOND}bitWidth(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.readInt32(this.bb_pos+$):32}static startTime($){$.startObject(2)}static addUnit($,Q){$.addFieldInt16(0,Q,__.TimeUnit.MILLISECOND)}static addBitWidth($,Q){$.addFieldInt32(1,Q,32)}static endTime($){return $.endObject()}static createTime($,Q,J){return z9.startTime($),z9.addUnit($,Q),z9.addBitWidth($,J),z9.endTime($)}}x_.Time=z9});var xH=o((b_)=>{Object.defineProperty(b_,"__esModule",{value:!0});b_.Timestamp=void 0;var z41=Z0(),y_=qX();class B9{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsTimestamp($,Q){return(Q||new B9).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsTimestamp($,Q){return $.setPosition($.position()+z41.SIZE_PREFIX_LENGTH),(Q||new B9).__init($.readInt32($.position())+$.position(),$)}unit(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):y_.TimeUnit.SECOND}timezone($){let Q=this.bb.__offset(this.bb_pos,6);return Q?this.bb.__string(this.bb_pos+Q,$):null}static startTimestamp($){$.startObject(2)}static addUnit($,Q){$.addFieldInt16(0,Q,y_.TimeUnit.SECOND)}static addTimezone($,Q){$.addFieldOffset(1,Q,0)}static endTimestamp($){return $.endObject()}static createTimestamp($,Q,J){return B9.startTimestamp($),B9.addUnit($,Q),B9.addTimezone($,J),B9.endTimestamp($)}}b_.Timestamp=B9});var gH=o((c_)=>{Object.defineProperty(c_,"__esModule",{value:!0});c_.Union=void 0;var B41=Z0(),m_=lz();class R9{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsUnion($,Q){return(Q||new R9).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsUnion($,Q){return $.setPosition($.position()+B41.SIZE_PREFIX_LENGTH),(Q||new R9).__init($.readInt32($.position())+$.position(),$)}mode(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):m_.UnionMode.Sparse}typeIds($){let Q=this.bb.__offset(this.bb_pos,6);return Q?this.bb.readInt32(this.bb.__vector(this.bb_pos+Q)+$*4):0}typeIdsLength(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__vector_len(this.bb_pos+$):0}typeIdsArray(){let $=this.bb.__offset(this.bb_pos,6);return $?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+$),this.bb.__vector_len(this.bb_pos+$)):null}static startUnion($){$.startObject(2)}static addMode($,Q){$.addFieldInt16(0,Q,m_.UnionMode.Sparse)}static addTypeIds($,Q){$.addFieldOffset(1,Q,0)}static createTypeIdsVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addInt32(Q[J]);return $.endVector()}static startTypeIdsVector($,Q){$.startVector(4,Q,4)}static endUnion($){return $.endObject()}static createUnion($,Q,J){return R9.startUnion($),R9.addMode($,Q),R9.addTypeIds($,J),R9.endUnion($)}}c_.Union=R9});var FB=o((l_)=>{Object.defineProperty(l_,"__esModule",{value:!0});l_.Utf8=void 0;var R41=Z0();class CJ{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsUtf8($,Q){return(Q||new CJ).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsUtf8($,Q){return $.setPosition($.position()+R41.SIZE_PREFIX_LENGTH),(Q||new CJ).__init($.readInt32($.position())+$.position(),$)}static startUtf8($){$.startObject(0)}static endUtf8($){return $.endObject()}static createUtf8($){return CJ.startUtf8($),CJ.endUtf8($)}}l_.Utf8=CJ});var AJ=o((Nx)=>{Object.defineProperty(Nx,"__esModule",{value:!0});Nx.unionListToType=Nx.unionToType=Nx.Type=void 0;var u_=ZB(),i_=KB(),n_=TH(),s_=IH(),o_=GH(),a_=EH(),r_=jH(),t_=LH(),e_=C9(),$x=hH(),Qx=XB(),Jx=O_(),Zx=YB(),Kx=WB(),Xx=vH(),Yx=qB(),Wx=L_(),qx=HB(),Hx=_H(),Fx=xH(),Ux=gH(),Vx=FB(),yH;(function($){$[$.NONE=0]="NONE",$[$.Null=1]="Null",$[$.Int=2]="Int",$[$.FloatingPoint=3]="FloatingPoint",$[$.Binary=4]="Binary",$[$.Utf8=5]="Utf8",$[$.Bool=6]="Bool",$[$.Decimal=7]="Decimal",$[$.Date=8]="Date",$[$.Time=9]="Time",$[$.Timestamp=10]="Timestamp",$[$.Interval=11]="Interval",$[$.List=12]="List",$[$.Struct_=13]="Struct_",$[$.Union=14]="Union",$[$.FixedSizeBinary=15]="FixedSizeBinary",$[$.FixedSizeList=16]="FixedSizeList",$[$.Map=17]="Map",$[$.Duration=18]="Duration",$[$.LargeBinary=19]="LargeBinary",$[$.LargeUtf8=20]="LargeUtf8",$[$.LargeList=21]="LargeList",$[$.RunEndEncoded=22]="RunEndEncoded"})(yH||(Nx.Type=yH={}));function O41($,Q){switch(yH[$]){case"NONE":return null;case"Null":return Q(new Yx.Null);case"Int":return Q(new e_.Int);case"FloatingPoint":return Q(new t_.FloatingPoint);case"Binary":return Q(new u_.Binary);case"Utf8":return Q(new Vx.Utf8);case"Bool":return Q(new i_.Bool);case"Decimal":return Q(new s_.Decimal);case"Date":return Q(new n_.Date);case"Time":return Q(new Hx.Time);case"Timestamp":return Q(new Fx.Timestamp);case"Interval":return Q(new $x.Interval);case"List":return Q(new Kx.List);case"Struct_":return Q(new qx.Struct_);case"Union":return Q(new Ux.Union);case"FixedSizeBinary":return Q(new a_.FixedSizeBinary);case"FixedSizeList":return Q(new r_.FixedSizeList);case"Map":return Q(new Xx.Map);case"Duration":return Q(new o_.Duration);case"LargeBinary":return Q(new Qx.LargeBinary);case"LargeUtf8":return Q(new Zx.LargeUtf8);case"LargeList":return Q(new Jx.LargeList);case"RunEndEncoded":return Q(new Wx.RunEndEncoded);default:return null}}Nx.unionToType=O41;function k41($,Q,J){switch(yH[$]){case"NONE":return null;case"Null":return Q(J,new Yx.Null);case"Int":return Q(J,new e_.Int);case"FloatingPoint":return Q(J,new t_.FloatingPoint);case"Binary":return Q(J,new u_.Binary);case"Utf8":return Q(J,new Vx.Utf8);case"Bool":return Q(J,new i_.Bool);case"Decimal":return Q(J,new s_.Decimal);case"Date":return Q(J,new n_.Date);case"Time":return Q(J,new Hx.Time);case"Timestamp":return Q(J,new Fx.Timestamp);case"Interval":return Q(J,new $x.Interval);case"List":return Q(J,new Kx.List);case"Struct_":return Q(J,new qx.Struct_);case"Union":return Q(J,new Ux.Union);case"FixedSizeBinary":return Q(J,new a_.FixedSizeBinary);case"FixedSizeList":return Q(J,new r_.FixedSizeList);case"Map":return Q(J,new Xx.Map);case"Duration":return Q(J,new o_.Duration);case"LargeBinary":return Q(J,new Qx.LargeBinary);case"LargeUtf8":return Q(J,new Zx.LargeUtf8);case"LargeList":return Q(J,new Jx.LargeList);case"RunEndEncoded":return Q(J,new Wx.RunEndEncoded);default:return null}}Nx.unionListToType=k41});var UB=o((Ax)=>{Object.defineProperty(Ax,"__esModule",{value:!0});Ax.Field=void 0;var w41=Z0(),S41=JB(),T41=XJ(),Cx=AJ();class HX{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsField($,Q){return(Q||new HX).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsField($,Q){return $.setPosition($.position()+w41.SIZE_PREFIX_LENGTH),(Q||new HX).__init($.readInt32($.position())+$.position(),$)}name($){let Q=this.bb.__offset(this.bb_pos,4);return Q?this.bb.__string(this.bb_pos+Q,$):null}nullable(){let $=this.bb.__offset(this.bb_pos,6);return $?!!this.bb.readInt8(this.bb_pos+$):!1}typeType(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.readUint8(this.bb_pos+$):Cx.Type.NONE}type($){let Q=this.bb.__offset(this.bb_pos,10);return Q?this.bb.__union($,this.bb_pos+Q):null}dictionary($){let Q=this.bb.__offset(this.bb_pos,12);return Q?($||new S41.DictionaryEncoding).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}children($,Q){let J=this.bb.__offset(this.bb_pos,14);return J?(Q||new HX).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}childrenLength(){let $=this.bb.__offset(this.bb_pos,14);return $?this.bb.__vector_len(this.bb_pos+$):0}customMetadata($,Q){let J=this.bb.__offset(this.bb_pos,16);return J?(Q||new T41.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}customMetadataLength(){let $=this.bb.__offset(this.bb_pos,16);return $?this.bb.__vector_len(this.bb_pos+$):0}static startField($){$.startObject(7)}static addName($,Q){$.addFieldOffset(0,Q,0)}static addNullable($,Q){$.addFieldInt8(1,+Q,0)}static addTypeType($,Q){$.addFieldInt8(2,Q,Cx.Type.NONE)}static addType($,Q){$.addFieldOffset(3,Q,0)}static addDictionary($,Q){$.addFieldOffset(4,Q,0)}static addChildren($,Q){$.addFieldOffset(5,Q,0)}static createChildrenVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startChildrenVector($,Q){$.startVector(4,Q,4)}static addCustomMetadata($,Q){$.addFieldOffset(6,Q,0)}static createCustomMetadataVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startCustomMetadataVector($,Q){$.startVector(4,Q,4)}static endField($){return $.endObject()}}Ax.Field=HX});var bH=o((Rx)=>{Object.defineProperty(Rx,"__esModule",{value:!0});Rx.Schema=void 0;var I41=Z0(),Bx=QB(),G41=UB(),E41=XJ();class e7{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsSchema($,Q){return(Q||new e7).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsSchema($,Q){return $.setPosition($.position()+I41.SIZE_PREFIX_LENGTH),(Q||new e7).__init($.readInt32($.position())+$.position(),$)}endianness(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):Bx.Endianness.Little}fields($,Q){let J=this.bb.__offset(this.bb_pos,6);return J?(Q||new G41.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}fieldsLength(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__vector_len(this.bb_pos+$):0}customMetadata($,Q){let J=this.bb.__offset(this.bb_pos,8);return J?(Q||new E41.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}customMetadataLength(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.__vector_len(this.bb_pos+$):0}features($){let Q=this.bb.__offset(this.bb_pos,10);return Q?this.bb.readInt64(this.bb.__vector(this.bb_pos+Q)+$*8):BigInt(0)}featuresLength(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.__vector_len(this.bb_pos+$):0}static startSchema($){$.startObject(4)}static addEndianness($,Q){$.addFieldInt16(0,Q,Bx.Endianness.Little)}static addFields($,Q){$.addFieldOffset(1,Q,0)}static createFieldsVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startFieldsVector($,Q){$.startVector(4,Q,4)}static addCustomMetadata($,Q){$.addFieldOffset(2,Q,0)}static createCustomMetadataVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startCustomMetadataVector($,Q){$.startVector(4,Q,4)}static addFeatures($,Q){$.addFieldOffset(3,Q,0)}static createFeaturesVector($,Q){$.startVector(8,Q.length,8);for(let J=Q.length-1;J>=0;J--)$.addInt64(Q[J]);return $.endVector()}static startFeaturesVector($,Q){$.startVector(8,Q,8)}static endSchema($){return $.endObject()}static finishSchemaBuffer($,Q){$.finish(Q)}static finishSizePrefixedSchemaBuffer($,Q){$.finish(Q,void 0,!0)}static createSchema($,Q,J,Z,X){return e7.startSchema($),e7.addEndianness($,Q),e7.addFields($,J),e7.addCustomMetadata($,Z),e7.addFeatures($,X),e7.endSchema($)}}Rx.Schema=e7});var wx=o((Px)=>{Object.defineProperty(Px,"__esModule",{value:!0});Px.SparseMatrixCompressedAxis=void 0;var kx;(function($){$[$.Row=0]="Row",$[$.Column=1]="Column"})(kx||(Px.SparseMatrixCompressedAxis=kx={}))});var jx=o((Gx)=>{Object.defineProperty(Gx,"__esModule",{value:!0});Gx.SparseMatrixIndexCSX=void 0;var j41=Z0(),Sx=N9(),Tx=C9(),Ix=wx();class fH{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsSparseMatrixIndexCSX($,Q){return(Q||new fH).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsSparseMatrixIndexCSX($,Q){return $.setPosition($.position()+j41.SIZE_PREFIX_LENGTH),(Q||new fH).__init($.readInt32($.position())+$.position(),$)}compressedAxis(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):Ix.SparseMatrixCompressedAxis.Row}indptrType($){let Q=this.bb.__offset(this.bb_pos,6);return Q?($||new Tx.Int).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}indptrBuffer($){let Q=this.bb.__offset(this.bb_pos,8);return Q?($||new Sx.Buffer).__init(this.bb_pos+Q,this.bb):null}indicesType($){let Q=this.bb.__offset(this.bb_pos,10);return Q?($||new Tx.Int).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}indicesBuffer($){let Q=this.bb.__offset(this.bb_pos,12);return Q?($||new Sx.Buffer).__init(this.bb_pos+Q,this.bb):null}static startSparseMatrixIndexCSX($){$.startObject(5)}static addCompressedAxis($,Q){$.addFieldInt16(0,Q,Ix.SparseMatrixCompressedAxis.Row)}static addIndptrType($,Q){$.addFieldOffset(1,Q,0)}static addIndptrBuffer($,Q){$.addFieldStruct(2,Q,0)}static addIndicesType($,Q){$.addFieldOffset(3,Q,0)}static addIndicesBuffer($,Q){$.addFieldStruct(4,Q,0)}static endSparseMatrixIndexCSX($){let Q=$.endObject();return $.requiredField(Q,6),$.requiredField(Q,8),$.requiredField(Q,10),$.requiredField(Q,12),Q}}Gx.SparseMatrixIndexCSX=fH});var vx=o((Lx)=>{Object.defineProperty(Lx,"__esModule",{value:!0});Lx.SparseTensorIndexCOO=void 0;var L41=Z0(),h41=N9(),v41=C9();class mH{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsSparseTensorIndexCOO($,Q){return(Q||new mH).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsSparseTensorIndexCOO($,Q){return $.setPosition($.position()+L41.SIZE_PREFIX_LENGTH),(Q||new mH).__init($.readInt32($.position())+$.position(),$)}indicesType($){let Q=this.bb.__offset(this.bb_pos,4);return Q?($||new v41.Int).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}indicesStrides($){let Q=this.bb.__offset(this.bb_pos,6);return Q?this.bb.readInt64(this.bb.__vector(this.bb_pos+Q)+$*8):BigInt(0)}indicesStridesLength(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__vector_len(this.bb_pos+$):0}indicesBuffer($){let Q=this.bb.__offset(this.bb_pos,8);return Q?($||new h41.Buffer).__init(this.bb_pos+Q,this.bb):null}isCanonical(){let $=this.bb.__offset(this.bb_pos,10);return $?!!this.bb.readInt8(this.bb_pos+$):!1}static startSparseTensorIndexCOO($){$.startObject(4)}static addIndicesType($,Q){$.addFieldOffset(0,Q,0)}static addIndicesStrides($,Q){$.addFieldOffset(1,Q,0)}static createIndicesStridesVector($,Q){$.startVector(8,Q.length,8);for(let J=Q.length-1;J>=0;J--)$.addInt64(Q[J]);return $.endVector()}static startIndicesStridesVector($,Q){$.startVector(8,Q,8)}static addIndicesBuffer($,Q){$.addFieldStruct(2,Q,0)}static addIsCanonical($,Q){$.addFieldInt8(3,+Q,0)}static endSparseTensorIndexCOO($){let Q=$.endObject();return $.requiredField(Q,4),$.requiredField(Q,8),Q}}Lx.SparseTensorIndexCOO=mH});var bx=o((gx)=>{Object.defineProperty(gx,"__esModule",{value:!0});gx.SparseTensorIndexCSF=void 0;var _41=Z0(),_x=N9(),xx=C9();class cH{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsSparseTensorIndexCSF($,Q){return(Q||new cH).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsSparseTensorIndexCSF($,Q){return $.setPosition($.position()+_41.SIZE_PREFIX_LENGTH),(Q||new cH).__init($.readInt32($.position())+$.position(),$)}indptrType($){let Q=this.bb.__offset(this.bb_pos,4);return Q?($||new xx.Int).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}indptrBuffers($,Q){let J=this.bb.__offset(this.bb_pos,6);return J?(Q||new _x.Buffer).__init(this.bb.__vector(this.bb_pos+J)+$*16,this.bb):null}indptrBuffersLength(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__vector_len(this.bb_pos+$):0}indicesType($){let Q=this.bb.__offset(this.bb_pos,8);return Q?($||new xx.Int).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}indicesBuffers($,Q){let J=this.bb.__offset(this.bb_pos,10);return J?(Q||new _x.Buffer).__init(this.bb.__vector(this.bb_pos+J)+$*16,this.bb):null}indicesBuffersLength(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.__vector_len(this.bb_pos+$):0}axisOrder($){let Q=this.bb.__offset(this.bb_pos,12);return Q?this.bb.readInt32(this.bb.__vector(this.bb_pos+Q)+$*4):0}axisOrderLength(){let $=this.bb.__offset(this.bb_pos,12);return $?this.bb.__vector_len(this.bb_pos+$):0}axisOrderArray(){let $=this.bb.__offset(this.bb_pos,12);return $?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+$),this.bb.__vector_len(this.bb_pos+$)):null}static startSparseTensorIndexCSF($){$.startObject(5)}static addIndptrType($,Q){$.addFieldOffset(0,Q,0)}static addIndptrBuffers($,Q){$.addFieldOffset(1,Q,0)}static startIndptrBuffersVector($,Q){$.startVector(16,Q,8)}static addIndicesType($,Q){$.addFieldOffset(2,Q,0)}static addIndicesBuffers($,Q){$.addFieldOffset(3,Q,0)}static startIndicesBuffersVector($,Q){$.startVector(16,Q,8)}static addAxisOrder($,Q){$.addFieldOffset(4,Q,0)}static createAxisOrderVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addInt32(Q[J]);return $.endVector()}static startAxisOrderVector($,Q){$.startVector(4,Q,4)}static endSparseTensorIndexCSF($){let Q=$.endObject();return $.requiredField(Q,4),$.requiredField(Q,6),$.requiredField(Q,8),$.requiredField(Q,10),$.requiredField(Q,12),Q}}gx.SparseTensorIndexCSF=cH});var px=o((dx)=>{Object.defineProperty(dx,"__esModule",{value:!0});dx.unionListToSparseTensorIndex=dx.unionToSparseTensorIndex=dx.SparseTensorIndex=void 0;var fx=jx(),mx=vx(),cx=bx(),dH;(function($){$[$.NONE=0]="NONE",$[$.SparseTensorIndexCOO=1]="SparseTensorIndexCOO",$[$.SparseMatrixIndexCSX=2]="SparseMatrixIndexCSX",$[$.SparseTensorIndexCSF=3]="SparseTensorIndexCSF"})(dH||(dx.SparseTensorIndex=dH={}));function x41($,Q){switch(dH[$]){case"NONE":return null;case"SparseTensorIndexCOO":return Q(new mx.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return Q(new fx.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return Q(new cx.SparseTensorIndexCSF);default:return null}}dx.unionToSparseTensorIndex=x41;function g41($,Q,J){switch(dH[$]){case"NONE":return null;case"SparseTensorIndexCOO":return Q(J,new mx.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return Q(J,new fx.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return Q(J,new cx.SparseTensorIndexCSF);default:return null}}dx.unionListToSparseTensorIndex=g41});var VB=o((ux)=>{Object.defineProperty(ux,"__esModule",{value:!0});ux.TensorDim=void 0;var f41=Z0();class O9{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsTensorDim($,Q){return(Q||new O9).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsTensorDim($,Q){return $.setPosition($.position()+f41.SIZE_PREFIX_LENGTH),(Q||new O9).__init($.readInt32($.position())+$.position(),$)}size(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt64(this.bb_pos+$):BigInt("0")}name($){let Q=this.bb.__offset(this.bb_pos,6);return Q?this.bb.__string(this.bb_pos+Q,$):null}static startTensorDim($){$.startObject(2)}static addSize($,Q){$.addFieldInt64(0,Q,BigInt("0"))}static addName($,Q){$.addFieldOffset(1,Q,0)}static endTensorDim($){return $.endObject()}static createTensorDim($,Q,J){return O9.startTensorDim($),O9.addSize($,Q),O9.addName($,J),O9.endTensorDim($)}}ux.TensorDim=O9});var rx=o((ox)=>{Object.defineProperty(ox,"__esModule",{value:!0});ox.SparseTensor=void 0;var m41=Z0(),c41=N9(),nx=px(),d41=VB(),sx=AJ();class lH{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsSparseTensor($,Q){return(Q||new lH).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsSparseTensor($,Q){return $.setPosition($.position()+m41.SIZE_PREFIX_LENGTH),(Q||new lH).__init($.readInt32($.position())+$.position(),$)}typeType(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readUint8(this.bb_pos+$):sx.Type.NONE}type($){let Q=this.bb.__offset(this.bb_pos,6);return Q?this.bb.__union($,this.bb_pos+Q):null}shape($,Q){let J=this.bb.__offset(this.bb_pos,8);return J?(Q||new d41.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}shapeLength(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.__vector_len(this.bb_pos+$):0}nonZeroLength(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.readInt64(this.bb_pos+$):BigInt("0")}sparseIndexType(){let $=this.bb.__offset(this.bb_pos,12);return $?this.bb.readUint8(this.bb_pos+$):nx.SparseTensorIndex.NONE}sparseIndex($){let Q=this.bb.__offset(this.bb_pos,14);return Q?this.bb.__union($,this.bb_pos+Q):null}data($){let Q=this.bb.__offset(this.bb_pos,16);return Q?($||new c41.Buffer).__init(this.bb_pos+Q,this.bb):null}static startSparseTensor($){$.startObject(7)}static addTypeType($,Q){$.addFieldInt8(0,Q,sx.Type.NONE)}static addType($,Q){$.addFieldOffset(1,Q,0)}static addShape($,Q){$.addFieldOffset(2,Q,0)}static createShapeVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startShapeVector($,Q){$.startVector(4,Q,4)}static addNonZeroLength($,Q){$.addFieldInt64(3,Q,BigInt("0"))}static addSparseIndexType($,Q){$.addFieldInt8(4,Q,nx.SparseTensorIndex.NONE)}static addSparseIndex($,Q){$.addFieldOffset(5,Q,0)}static addData($,Q){$.addFieldStruct(6,Q,0)}static endSparseTensor($){let Q=$.endObject();return $.requiredField(Q,6),$.requiredField(Q,8),$.requiredField(Q,14),$.requiredField(Q,16),Q}static finishSparseTensorBuffer($,Q){$.finish(Q)}static finishSizePrefixedSparseTensorBuffer($,Q){$.finish(Q,void 0,!0)}}ox.SparseTensor=lH});var Qg=o((ex)=>{Object.defineProperty(ex,"__esModule",{value:!0});ex.Tensor=void 0;var l41=Z0(),p41=N9(),u41=VB(),tx=AJ();class pH{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsTensor($,Q){return(Q||new pH).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsTensor($,Q){return $.setPosition($.position()+l41.SIZE_PREFIX_LENGTH),(Q||new pH).__init($.readInt32($.position())+$.position(),$)}typeType(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readUint8(this.bb_pos+$):tx.Type.NONE}type($){let Q=this.bb.__offset(this.bb_pos,6);return Q?this.bb.__union($,this.bb_pos+Q):null}shape($,Q){let J=this.bb.__offset(this.bb_pos,8);return J?(Q||new u41.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}shapeLength(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.__vector_len(this.bb_pos+$):0}strides($){let Q=this.bb.__offset(this.bb_pos,10);return Q?this.bb.readInt64(this.bb.__vector(this.bb_pos+Q)+$*8):BigInt(0)}stridesLength(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.__vector_len(this.bb_pos+$):0}data($){let Q=this.bb.__offset(this.bb_pos,12);return Q?($||new p41.Buffer).__init(this.bb_pos+Q,this.bb):null}static startTensor($){$.startObject(5)}static addTypeType($,Q){$.addFieldInt8(0,Q,tx.Type.NONE)}static addType($,Q){$.addFieldOffset(1,Q,0)}static addShape($,Q){$.addFieldOffset(2,Q,0)}static createShapeVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startShapeVector($,Q){$.startVector(4,Q,4)}static addStrides($,Q){$.addFieldOffset(3,Q,0)}static createStridesVector($,Q){$.startVector(8,Q.length,8);for(let J=Q.length-1;J>=0;J--)$.addInt64(Q[J]);return $.endVector()}static startStridesVector($,Q){$.startVector(8,Q,8)}static addData($,Q){$.addFieldStruct(4,Q,0)}static endTensor($){let Q=$.endObject();return $.requiredField(Q,6),$.requiredField(Q,8),$.requiredField(Q,12),Q}static finishTensorBuffer($,Q){$.finish(Q)}static finishSizePrefixedTensorBuffer($,Q){$.finish(Q,void 0,!0)}}ex.Tensor=pH});var iH=o((Wg)=>{Object.defineProperty(Wg,"__esModule",{value:!0});Wg.unionListToMessageHeader=Wg.unionToMessageHeader=Wg.MessageHeader=void 0;var Jg=$B(),Zg=MH(),Kg=bH(),Xg=rx(),Yg=Qg(),uH;(function($){$[$.NONE=0]="NONE",$[$.Schema=1]="Schema",$[$.DictionaryBatch=2]="DictionaryBatch",$[$.RecordBatch=3]="RecordBatch",$[$.Tensor=4]="Tensor",$[$.SparseTensor=5]="SparseTensor"})(uH||(Wg.MessageHeader=uH={}));function i41($,Q){switch(uH[$]){case"NONE":return null;case"Schema":return Q(new Kg.Schema);case"DictionaryBatch":return Q(new Jg.DictionaryBatch);case"RecordBatch":return Q(new Zg.RecordBatch);case"Tensor":return Q(new Yg.Tensor);case"SparseTensor":return Q(new Xg.SparseTensor);default:return null}}Wg.unionToMessageHeader=i41;function n41($,Q,J){switch(uH[$]){case"NONE":return null;case"Schema":return Q(J,new Kg.Schema);case"DictionaryBatch":return Q(J,new Jg.DictionaryBatch);case"RecordBatch":return Q(J,new Zg.RecordBatch);case"Tensor":return Q(J,new Yg.Tensor);case"SparseTensor":return Q(J,new Xg.SparseTensor);default:return null}}Wg.unionListToMessageHeader=n41});var $5=o((Z8)=>{Object.defineProperty(Z8,"__esModule",{value:!0});Z8.BufferType=Z8.Type=Z8.MessageHeader=Z8.IntervalUnit=Z8.TimeUnit=Z8.DateUnit=Z8.Precision=Z8.UnionMode=Z8.MetadataVersion=void 0;var a41=OH();Object.defineProperty(Z8,"MetadataVersion",{enumerable:!0,get:function(){return a41.MetadataVersion}});var r41=lz();Object.defineProperty(Z8,"UnionMode",{enumerable:!0,get:function(){return r41.UnionMode}});var t41=pz();Object.defineProperty(Z8,"Precision",{enumerable:!0,get:function(){return t41.Precision}});var e41=uz();Object.defineProperty(Z8,"DateUnit",{enumerable:!0,get:function(){return e41.DateUnit}});var $71=qX();Object.defineProperty(Z8,"TimeUnit",{enumerable:!0,get:function(){return $71.TimeUnit}});var Q71=iz();Object.defineProperty(Z8,"IntervalUnit",{enumerable:!0,get:function(){return Q71.IntervalUnit}});var J71=iH();Object.defineProperty(Z8,"MessageHeader",{enumerable:!0,get:function(){return J71.MessageHeader}});var Hg;(function($){$[$.NONE=0]="NONE",$[$.Null=1]="Null",$[$.Int=2]="Int",$[$.Float=3]="Float",$[$.Binary=4]="Binary",$[$.Utf8=5]="Utf8",$[$.Bool=6]="Bool",$[$.Decimal=7]="Decimal",$[$.Date=8]="Date",$[$.Time=9]="Time",$[$.Timestamp=10]="Timestamp",$[$.Interval=11]="Interval",$[$.List=12]="List",$[$.Struct=13]="Struct",$[$.Union=14]="Union",$[$.FixedSizeBinary=15]="FixedSizeBinary",$[$.FixedSizeList=16]="FixedSizeList",$[$.Map=17]="Map",$[$.Duration=18]="Duration",$[$.LargeBinary=19]="LargeBinary",$[$.LargeUtf8=20]="LargeUtf8",$[$.Dictionary=-1]="Dictionary",$[$.Int8=-2]="Int8",$[$.Int16=-3]="Int16",$[$.Int32=-4]="Int32",$[$.Int64=-5]="Int64",$[$.Uint8=-6]="Uint8",$[$.Uint16=-7]="Uint16",$[$.Uint32=-8]="Uint32",$[$.Uint64=-9]="Uint64",$[$.Float16=-10]="Float16",$[$.Float32=-11]="Float32",$[$.Float64=-12]="Float64",$[$.DateDay=-13]="DateDay",$[$.DateMillisecond=-14]="DateMillisecond",$[$.TimestampSecond=-15]="TimestampSecond",$[$.TimestampMillisecond=-16]="TimestampMillisecond",$[$.TimestampMicrosecond=-17]="TimestampMicrosecond",$[$.TimestampNanosecond=-18]="TimestampNanosecond",$[$.TimeSecond=-19]="TimeSecond",$[$.TimeMillisecond=-20]="TimeMillisecond",$[$.TimeMicrosecond=-21]="TimeMicrosecond",$[$.TimeNanosecond=-22]="TimeNanosecond",$[$.DenseUnion=-23]="DenseUnion",$[$.SparseUnion=-24]="SparseUnion",$[$.IntervalDayTime=-25]="IntervalDayTime",$[$.IntervalYearMonth=-26]="IntervalYearMonth",$[$.DurationSecond=-27]="DurationSecond",$[$.DurationMillisecond=-28]="DurationMillisecond",$[$.DurationMicrosecond=-29]="DurationMicrosecond",$[$.DurationNanosecond=-30]="DurationNanosecond"})(Hg||(Z8.Type=Hg={}));var Fg;(function($){$[$.OFFSET=0]="OFFSET",$[$.DATA=1]="DATA",$[$.VALIDITY=2]="VALIDITY",$[$.TYPE=3]="TYPE"})(Fg||(Z8.BufferType=Fg={}))});var FX=o((Ng)=>{Object.defineProperty(Ng,"__esModule",{value:!0});Ng.valueToString=void 0;var K71=void 0;function Vg($){if($===null)return"null";if($===K71)return"undefined";switch(typeof $){case"number":return`${$}`;case"bigint":return`${$}`;case"string":return`"${$}"`}if(typeof $[Symbol.toPrimitive]==="function")return $[Symbol.toPrimitive]("string");if(ArrayBuffer.isView($)){if($ instanceof BigInt64Array||$ instanceof BigUint64Array)return`[${[...$].map((Q)=>Vg(Q))}]`;return`[${$}]`}return ArrayBuffer.isView($)?`[${$}]`:JSON.stringify($,(Q,J)=>typeof J==="bigint"?`${J}`:J)}Ng.valueToString=Vg});var k9=o((Cg)=>{Object.defineProperty(Cg,"__esModule",{value:!0});Cg.divideBigInts=Cg.bigIntToNumber=void 0;function nH($){if(typeof $==="bigint"&&($<Number.MIN_SAFE_INTEGER||$>Number.MAX_SAFE_INTEGER))throw TypeError(`${$} is not safe to convert to a number.`);return Number($)}Cg.bigIntToNumber=nH;function X71($,Q){return nH($/Q)+nH($%Q)/nH(Q)}Cg.divideBigInts=X71});var oH=o((Bg)=>{Object.defineProperty(Bg,"__esModule",{value:!0});Bg.BN=Bg.bigNumToBigInt=Bg.bigNumToString=Bg.bigNumToNumber=Bg.isArrowBigNumSymbol=void 0;var W71=g5(),sH=k9();Bg.isArrowBigNumSymbol=Symbol.for("isArrowBigNum");function N7($,...Q){if(Q.length===0)return Object.setPrototypeOf((0,W71.toArrayBufferView)(this.TypedArray,$),this.constructor.prototype);return Object.setPrototypeOf(new this.TypedArray($,...Q),this.constructor.prototype)}N7.prototype[Bg.isArrowBigNumSymbol]=!0;N7.prototype.toJSON=function(){return`"${RJ(this)}"`};N7.prototype.valueOf=function($){return DB(this,$)};N7.prototype.toString=function(){return RJ(this)};N7.prototype[Symbol.toPrimitive]=function($="default"){switch($){case"number":return DB(this);case"string":return RJ(this);case"default":return zg(this)}return RJ(this)};function zJ(...$){return N7.apply(this,$)}function BJ(...$){return N7.apply(this,$)}function UX(...$){return N7.apply(this,$)}Object.setPrototypeOf(zJ.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(BJ.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(UX.prototype,Object.create(Uint32Array.prototype));Object.assign(zJ.prototype,N7.prototype,{constructor:zJ,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(BJ.prototype,N7.prototype,{constructor:BJ,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(UX.prototype,N7.prototype,{constructor:UX,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});var q71=BigInt(4294967296)*BigInt(4294967296),H71=q71-BigInt(1);function DB($,Q){let{buffer:J,byteOffset:Z,byteLength:X,signed:W}=$,H=new BigUint64Array(J,Z,X/8),F=W&&H.at(-1)&BigInt(1)<<BigInt(63),V=BigInt(0),D=0;if(F){for(let C of H)V|=(C^H71)*(BigInt(1)<<BigInt(64*D++));V*=BigInt(-1),V-=BigInt(1)}else for(let C of H)V|=C*(BigInt(1)<<BigInt(64*D++));if(typeof Q==="number"){let C=BigInt(Math.pow(10,Q)),z=V/C,R=V%C;return(0,sH.bigIntToNumber)(z)+(0,sH.bigIntToNumber)(R)/(0,sH.bigIntToNumber)(C)}return(0,sH.bigIntToNumber)(V)}Bg.bigNumToNumber=DB;function RJ($){if($.byteLength===8)return`${new $.BigIntArray($.buffer,$.byteOffset,1)[0]}`;if(!$.signed)return NB($);let Q=new Uint16Array($.buffer,$.byteOffset,$.byteLength/2);if(new Int16Array([Q.at(-1)])[0]>=0)return NB($);Q=Q.slice();let Z=1;for(let W=0;W<Q.length;W++){let H=Q[W],F=~H+Z;Q[W]=F,Z&=H===0?1:0}return`-${NB(Q)}`}Bg.bigNumToString=RJ;function zg($){if($.byteLength===8)return new $.BigIntArray($.buffer,$.byteOffset,1)[0];else return RJ($)}Bg.bigNumToBigInt=zg;function NB($){let Q="",J=new Uint32Array(2),Z=new Uint16Array($.buffer,$.byteOffset,$.byteLength/2),X=new Uint32Array((Z=new Uint16Array(Z).reverse()).buffer),W=-1,H=Z.length-1;do{for(J[0]=Z[W=0];W<H;)Z[W++]=J[1]=J[0]/10,J[0]=(J[0]-J[1]*10<<16)+Z[W];Z[W]=J[1]=J[0]/10,J[0]=J[0]-J[1]*10,Q=`${J[0]}${Q}`}while(X[0]||X[1]||X[2]||X[3]);return Q!==null&&Q!==void 0?Q:"0"}class CB{static new($,Q){switch(Q){case!0:return new zJ($);case!1:return new BJ($)}switch($.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new zJ($)}if($.byteLength===16)return new UX($);return new BJ($)}static signed($){return new zJ($)}static unsigned($){return new BJ($)}static decimal($){return new UX($)}constructor($,Q){return CB.new($,Q)}}Bg.BN=CB});var u0=o((Wy)=>{var kg,Pg,Mg,wg,Sg,Tg,Ig,Gg,Eg,jg,Lg,hg,vg,_g,xg,gg,yg,bg,fg,mg,cg,dg;Object.defineProperty(Wy,"__esModule",{value:!0});Wy.Map_=Wy.FixedSizeList=Wy.FixedSizeBinary=Wy.SparseUnion=Wy.DenseUnion=Wy.Union=Wy.Struct=Wy.List=Wy.DurationNanosecond=Wy.DurationMicrosecond=Wy.DurationMillisecond=Wy.DurationSecond=Wy.Duration=Wy.IntervalYearMonth=Wy.IntervalDayTime=Wy.Interval=Wy.TimestampNanosecond=Wy.TimestampMicrosecond=Wy.TimestampMillisecond=Wy.TimestampSecond=Wy.Timestamp=Wy.TimeNanosecond=Wy.TimeMicrosecond=Wy.TimeMillisecond=Wy.TimeSecond=Wy.Time=Wy.DateMillisecond=Wy.DateDay=Wy.Date_=Wy.Decimal=Wy.Bool=Wy.LargeUtf8=Wy.Utf8=Wy.LargeBinary=Wy.Binary=Wy.Float64=Wy.Float32=Wy.Float16=Wy.Float=Wy.Uint64=Wy.Uint32=Wy.Uint16=Wy.Uint8=Wy.Int64=Wy.Int32=Wy.Int16=Wy.Int8=Wy.Int=Wy.Null=Wy.DataType=void 0;Wy.strideForType=Wy.Dictionary=void 0;var N71=k9(),A1=$5();class y0{static isNull($){return($===null||$===void 0?void 0:$.typeId)===A1.Type.Null}static isInt($){return($===null||$===void 0?void 0:$.typeId)===A1.Type.Int}static isFloat($){return($===null||$===void 0?void 0:$.typeId)===A1.Type.Float}static isBinary($){return($===null||$===void 0?void 0:$.typeId)===A1.Type.Binary}static isLargeBinary($){return($===null||$===void 0?void 0:$.typeId)===A1.Type.LargeBinary}static isUtf8($){return($===null||$===void 0?void 0:$.typeId)===A1.Type.Utf8}static isLargeUtf8($){return($===null||$===void 0?void 0:$.typeId)===A1.Type.LargeUtf8}static isBool($){return($===null||$===void 0?void 0:$.typeId)===A1.Type.Bool}static isDecimal($){return($===null||$===void 0?void 0:$.typeId)===A1.Type.Decimal}static isDate($){return($===null||$===void 0?void 0:$.typeId)===A1.Type.Date}static isTime($){return($===null||$===void 0?void 0:$.typeId)===A1.Type.Time}static isTimestamp($){return($===null||$===void 0?void 0:$.typeId)===A1.Type.Timestamp}static isInterval($){return($===null||$===void 0?void 0:$.typeId)===A1.Type.Interval}static isDuration($){return($===null||$===void 0?void 0:$.typeId)===A1.Type.Duration}static isList($){return($===null||$===void 0?void 0:$.typeId)===A1.Type.List}static isStruct($){return($===null||$===void 0?void 0:$.typeId)===A1.Type.Struct}static isUnion($){return($===null||$===void 0?void 0:$.typeId)===A1.Type.Union}static isFixedSizeBinary($){return($===null||$===void 0?void 0:$.typeId)===A1.Type.FixedSizeBinary}static isFixedSizeList($){return($===null||$===void 0?void 0:$.typeId)===A1.Type.FixedSizeList}static isMap($){return($===null||$===void 0?void 0:$.typeId)===A1.Type.Map}static isDictionary($){return($===null||$===void 0?void 0:$.typeId)===A1.Type.Dictionary}static isDenseUnion($){return y0.isUnion($)&&$.mode===A1.UnionMode.Dense}static isSparseUnion($){return y0.isUnion($)&&$.mode===A1.UnionMode.Sparse}constructor($){this.typeId=$}}Wy.DataType=y0;kg=Symbol.toStringTag;y0[kg]=(($)=>{return $.children=null,$.ArrayType=Array,$.OffsetArrayType=Int32Array,$[Symbol.toStringTag]="DataType"})(y0.prototype);class aH extends y0{constructor(){super(A1.Type.Null)}toString(){return"Null"}}Wy.Null=aH;Pg=Symbol.toStringTag;aH[Pg]=(($)=>$[Symbol.toStringTag]="Null")(aH.prototype);class E4 extends y0{constructor($,Q){super(A1.Type.Int);this.isSigned=$,this.bitWidth=Q}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}Wy.Int=E4;Mg=Symbol.toStringTag;E4[Mg]=(($)=>{return $.isSigned=null,$.bitWidth=null,$[Symbol.toStringTag]="Int"})(E4.prototype);class AB extends E4{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}Wy.Int8=AB;class zB extends E4{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}Wy.Int16=zB;class BB extends E4{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Wy.Int32=BB;class RB extends E4{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}Wy.Int64=RB;class OB extends E4{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}Wy.Uint8=OB;class kB extends E4{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}Wy.Uint16=kB;class PB extends E4{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}Wy.Uint32=PB;class MB extends E4{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}Wy.Uint64=MB;Object.defineProperty(AB.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(zB.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(BB.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(RB.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(OB.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(kB.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(PB.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(MB.prototype,"ArrayType",{value:BigUint64Array});class J$ extends y0{constructor($){super(A1.Type.Float);this.precision=$}get ArrayType(){switch(this.precision){case A1.Precision.HALF:return Uint16Array;case A1.Precision.SINGLE:return Float32Array;case A1.Precision.DOUBLE:return Float64Array}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}Wy.Float=J$;wg=Symbol.toStringTag;J$[wg]=(($)=>{return $.precision=null,$[Symbol.toStringTag]="Float"})(J$.prototype);class wB extends J${constructor(){super(A1.Precision.HALF)}}Wy.Float16=wB;class SB extends J${constructor(){super(A1.Precision.SINGLE)}}Wy.Float32=SB;class TB extends J${constructor(){super(A1.Precision.DOUBLE)}}Wy.Float64=TB;Object.defineProperty(wB.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(SB.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(TB.prototype,"ArrayType",{value:Float64Array});class rH extends y0{constructor(){super(A1.Type.Binary)}toString(){return"Binary"}}Wy.Binary=rH;Sg=Symbol.toStringTag;rH[Sg]=(($)=>{return $.ArrayType=Uint8Array,$[Symbol.toStringTag]="Binary"})(rH.prototype);class tH extends y0{constructor(){super(A1.Type.LargeBinary)}toString(){return"LargeBinary"}}Wy.LargeBinary=tH;Tg=Symbol.toStringTag;tH[Tg]=(($)=>{return $.ArrayType=Uint8Array,$.OffsetArrayType=BigInt64Array,$[Symbol.toStringTag]="LargeBinary"})(tH.prototype);class eH extends y0{constructor(){super(A1.Type.Utf8)}toString(){return"Utf8"}}Wy.Utf8=eH;Ig=Symbol.toStringTag;eH[Ig]=(($)=>{return $.ArrayType=Uint8Array,$[Symbol.toStringTag]="Utf8"})(eH.prototype);class $F extends y0{constructor(){super(A1.Type.LargeUtf8)}toString(){return"LargeUtf8"}}Wy.LargeUtf8=$F;Gg=Symbol.toStringTag;$F[Gg]=(($)=>{return $.ArrayType=Uint8Array,$.OffsetArrayType=BigInt64Array,$[Symbol.toStringTag]="LargeUtf8"})($F.prototype);class QF extends y0{constructor(){super(A1.Type.Bool)}toString(){return"Bool"}}Wy.Bool=QF;Eg=Symbol.toStringTag;QF[Eg]=(($)=>{return $.ArrayType=Uint8Array,$[Symbol.toStringTag]="Bool"})(QF.prototype);class JF extends y0{constructor($,Q,J=128){super(A1.Type.Decimal);this.scale=$,this.precision=Q,this.bitWidth=J}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}Wy.Decimal=JF;jg=Symbol.toStringTag;JF[jg]=(($)=>{return $.scale=null,$.precision=null,$.ArrayType=Uint32Array,$[Symbol.toStringTag]="Decimal"})(JF.prototype);class OJ extends y0{constructor($){super(A1.Type.Date);this.unit=$}toString(){return`Date${(this.unit+1)*32}<${A1.DateUnit[this.unit]}>`}get ArrayType(){return this.unit===A1.DateUnit.DAY?Int32Array:BigInt64Array}}Wy.Date_=OJ;Lg=Symbol.toStringTag;OJ[Lg]=(($)=>{return $.unit=null,$[Symbol.toStringTag]="Date"})(OJ.prototype);class lg extends OJ{constructor(){super(A1.DateUnit.DAY)}}Wy.DateDay=lg;class pg extends OJ{constructor(){super(A1.DateUnit.MILLISECOND)}}Wy.DateMillisecond=pg;class P9 extends y0{constructor($,Q){super(A1.Type.Time);this.unit=$,this.bitWidth=Q}toString(){return`Time${this.bitWidth}<${A1.TimeUnit[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}Wy.Time=P9;hg=Symbol.toStringTag;P9[hg]=(($)=>{return $.unit=null,$.bitWidth=null,$[Symbol.toStringTag]="Time"})(P9.prototype);class ug extends P9{constructor(){super(A1.TimeUnit.SECOND,32)}}Wy.TimeSecond=ug;class ig extends P9{constructor(){super(A1.TimeUnit.MILLISECOND,32)}}Wy.TimeMillisecond=ig;class ng extends P9{constructor(){super(A1.TimeUnit.MICROSECOND,64)}}Wy.TimeMicrosecond=ng;class sg extends P9{constructor(){super(A1.TimeUnit.NANOSECOND,64)}}Wy.TimeNanosecond=sg;class M9 extends y0{constructor($,Q){super(A1.Type.Timestamp);this.unit=$,this.timezone=Q}toString(){return`Timestamp<${A1.TimeUnit[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}Wy.Timestamp=M9;vg=Symbol.toStringTag;M9[vg]=(($)=>{return $.unit=null,$.timezone=null,$.ArrayType=BigInt64Array,$[Symbol.toStringTag]="Timestamp"})(M9.prototype);class og extends M9{constructor($){super(A1.TimeUnit.SECOND,$)}}Wy.TimestampSecond=og;class ag extends M9{constructor($){super(A1.TimeUnit.MILLISECOND,$)}}Wy.TimestampMillisecond=ag;class rg extends M9{constructor($){super(A1.TimeUnit.MICROSECOND,$)}}Wy.TimestampMicrosecond=rg;class tg extends M9{constructor($){super(A1.TimeUnit.NANOSECOND,$)}}Wy.TimestampNanosecond=tg;class kJ extends y0{constructor($){super(A1.Type.Interval);this.unit=$}toString(){return`Interval<${A1.IntervalUnit[this.unit]}>`}}Wy.Interval=kJ;_g=Symbol.toStringTag;kJ[_g]=(($)=>{return $.unit=null,$.ArrayType=Int32Array,$[Symbol.toStringTag]="Interval"})(kJ.prototype);class eg extends kJ{constructor(){super(A1.IntervalUnit.DAY_TIME)}}Wy.IntervalDayTime=eg;class $y extends kJ{constructor(){super(A1.IntervalUnit.YEAR_MONTH)}}Wy.IntervalYearMonth=$y;class w9 extends y0{constructor($){super(A1.Type.Duration);this.unit=$}toString(){return`Duration<${A1.TimeUnit[this.unit]}>`}}Wy.Duration=w9;xg=Symbol.toStringTag;w9[xg]=(($)=>{return $.unit=null,$.ArrayType=BigInt64Array,$[Symbol.toStringTag]="Duration"})(w9.prototype);class Qy extends w9{constructor(){super(A1.TimeUnit.SECOND)}}Wy.DurationSecond=Qy;class Jy extends w9{constructor(){super(A1.TimeUnit.MILLISECOND)}}Wy.DurationMillisecond=Jy;class Zy extends w9{constructor(){super(A1.TimeUnit.MICROSECOND)}}Wy.DurationMicrosecond=Zy;class Ky extends w9{constructor(){super(A1.TimeUnit.NANOSECOND)}}Wy.DurationNanosecond=Ky;class ZF extends y0{constructor($){super(A1.Type.List);this.children=[$]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}Wy.List=ZF;gg=Symbol.toStringTag;ZF[gg]=(($)=>{return $.children=null,$[Symbol.toStringTag]="List"})(ZF.prototype);class KF extends y0{constructor($){super(A1.Type.Struct);this.children=$}toString(){return`Struct<{${this.children.map(($)=>`${$.name}:${$.type}`).join(", ")}}>`}}Wy.Struct=KF;yg=Symbol.toStringTag;KF[yg]=(($)=>{return $.children=null,$[Symbol.toStringTag]="Struct"})(KF.prototype);class PJ extends y0{constructor($,Q,J){super(A1.Type.Union);this.mode=$,this.children=J,this.typeIds=Q=Int32Array.from(Q),this.typeIdToChildIndex=Q.reduce((Z,X,W)=>(Z[X]=W)&&Z||Z,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(($)=>`${$.type}`).join(" | ")}>`}}Wy.Union=PJ;bg=Symbol.toStringTag;PJ[bg]=(($)=>{return $.mode=null,$.typeIds=null,$.children=null,$.typeIdToChildIndex=null,$.ArrayType=Int8Array,$[Symbol.toStringTag]="Union"})(PJ.prototype);class Xy extends PJ{constructor($,Q){super(A1.UnionMode.Dense,$,Q)}}Wy.DenseUnion=Xy;class Yy extends PJ{constructor($,Q){super(A1.UnionMode.Sparse,$,Q)}}Wy.SparseUnion=Yy;class XF extends y0{constructor($){super(A1.Type.FixedSizeBinary);this.byteWidth=$}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}Wy.FixedSizeBinary=XF;fg=Symbol.toStringTag;XF[fg]=(($)=>{return $.byteWidth=null,$.ArrayType=Uint8Array,$[Symbol.toStringTag]="FixedSizeBinary"})(XF.prototype);class YF extends y0{constructor($,Q){super(A1.Type.FixedSizeList);this.listSize=$,this.children=[Q]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}Wy.FixedSizeList=YF;mg=Symbol.toStringTag;YF[mg]=(($)=>{return $.children=null,$.listSize=null,$[Symbol.toStringTag]="FixedSizeList"})(YF.prototype);class WF extends y0{constructor($,Q=!1){var J,Z,X;super(A1.Type.Map);if(this.children=[$],this.keysSorted=Q,$){if($.name="entries",(J=$===null||$===void 0?void 0:$.type)===null||J===void 0?void 0:J.children){let W=(Z=$===null||$===void 0?void 0:$.type)===null||Z===void 0?void 0:Z.children[0];if(W)W.name="key";let H=(X=$===null||$===void 0?void 0:$.type)===null||X===void 0?void 0:X.children[1];if(H)H.name="value"}}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(($)=>`${$.name}:${$.type}`).join(", ")}}>`}}Wy.Map_=WF;cg=Symbol.toStringTag;WF[cg]=(($)=>{return $.children=null,$.keysSorted=null,$[Symbol.toStringTag]="Map_"})(WF.prototype);var D71=(($)=>()=>++$)(-1);class qF extends y0{constructor($,Q,J,Z){super(A1.Type.Dictionary);this.indices=Q,this.dictionary=$,this.isOrdered=Z||!1,this.id=J==null?D71():(0,N71.bigIntToNumber)(J)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}Wy.Dictionary=qF;dg=Symbol.toStringTag;qF[dg]=(($)=>{return $.id=null,$.indices=null,$.isOrdered=null,$.dictionary=null,$[Symbol.toStringTag]="Dictionary"})(qF.prototype);function C71($){let Q=$;switch($.typeId){case A1.Type.Decimal:return $.bitWidth/32;case A1.Type.Interval:return 1+Q.unit;case A1.Type.FixedSizeList:return Q.listSize;case A1.Type.FixedSizeBinary:return Q.byteWidth;default:return 1}}Wy.strideForType=C71});var g6=o((Vy)=>{Object.defineProperty(Vy,"__esModule",{value:!0});Vy.Visitor=void 0;var s=$5(),Fy=u0();class P0{visitMany($,...Q){return $.map((J,Z)=>this.visit(J,...Q.map((X)=>X[Z])))}visit(...$){return this.getVisitFn($[0],!1).apply(this,$)}getVisitFn($,Q=!0){return V31(this,$,Q)}getVisitFnByTypeId($,Q=!0){return MJ(this,$,Q)}visitNull($,...Q){return null}visitBool($,...Q){return null}visitInt($,...Q){return null}visitFloat($,...Q){return null}visitUtf8($,...Q){return null}visitLargeUtf8($,...Q){return null}visitBinary($,...Q){return null}visitLargeBinary($,...Q){return null}visitFixedSizeBinary($,...Q){return null}visitDate($,...Q){return null}visitTimestamp($,...Q){return null}visitTime($,...Q){return null}visitDecimal($,...Q){return null}visitList($,...Q){return null}visitStruct($,...Q){return null}visitUnion($,...Q){return null}visitDictionary($,...Q){return null}visitInterval($,...Q){return null}visitDuration($,...Q){return null}visitFixedSizeList($,...Q){return null}visitMap($,...Q){return null}}Vy.Visitor=P0;function V31($,Q,J=!0){if(typeof Q==="number")return MJ($,Q,J);if(typeof Q==="string"&&Q in s.Type)return MJ($,s.Type[Q],J);if(Q&&Q instanceof Fy.DataType)return MJ($,Uy(Q),J);if((Q===null||Q===void 0?void 0:Q.type)&&Q.type instanceof Fy.DataType)return MJ($,Uy(Q.type),J);return MJ($,s.Type.NONE,J)}function MJ($,Q,J=!0){let Z=null;switch(Q){case s.Type.Null:Z=$.visitNull;break;case s.Type.Bool:Z=$.visitBool;break;case s.Type.Int:Z=$.visitInt;break;case s.Type.Int8:Z=$.visitInt8||$.visitInt;break;case s.Type.Int16:Z=$.visitInt16||$.visitInt;break;case s.Type.Int32:Z=$.visitInt32||$.visitInt;break;case s.Type.Int64:Z=$.visitInt64||$.visitInt;break;case s.Type.Uint8:Z=$.visitUint8||$.visitInt;break;case s.Type.Uint16:Z=$.visitUint16||$.visitInt;break;case s.Type.Uint32:Z=$.visitUint32||$.visitInt;break;case s.Type.Uint64:Z=$.visitUint64||$.visitInt;break;case s.Type.Float:Z=$.visitFloat;break;case s.Type.Float16:Z=$.visitFloat16||$.visitFloat;break;case s.Type.Float32:Z=$.visitFloat32||$.visitFloat;break;case s.Type.Float64:Z=$.visitFloat64||$.visitFloat;break;case s.Type.Utf8:Z=$.visitUtf8;break;case s.Type.LargeUtf8:Z=$.visitLargeUtf8;break;case s.Type.Binary:Z=$.visitBinary;break;case s.Type.LargeBinary:Z=$.visitLargeBinary;break;case s.Type.FixedSizeBinary:Z=$.visitFixedSizeBinary;break;case s.Type.Date:Z=$.visitDate;break;case s.Type.DateDay:Z=$.visitDateDay||$.visitDate;break;case s.Type.DateMillisecond:Z=$.visitDateMillisecond||$.visitDate;break;case s.Type.Timestamp:Z=$.visitTimestamp;break;case s.Type.TimestampSecond:Z=$.visitTimestampSecond||$.visitTimestamp;break;case s.Type.TimestampMillisecond:Z=$.visitTimestampMillisecond||$.visitTimestamp;break;case s.Type.TimestampMicrosecond:Z=$.visitTimestampMicrosecond||$.visitTimestamp;break;case s.Type.TimestampNanosecond:Z=$.visitTimestampNanosecond||$.visitTimestamp;break;case s.Type.Time:Z=$.visitTime;break;case s.Type.TimeSecond:Z=$.visitTimeSecond||$.visitTime;break;case s.Type.TimeMillisecond:Z=$.visitTimeMillisecond||$.visitTime;break;case s.Type.TimeMicrosecond:Z=$.visitTimeMicrosecond||$.visitTime;break;case s.Type.TimeNanosecond:Z=$.visitTimeNanosecond||$.visitTime;break;case s.Type.Decimal:Z=$.visitDecimal;break;case s.Type.List:Z=$.visitList;break;case s.Type.Struct:Z=$.visitStruct;break;case s.Type.Union:Z=$.visitUnion;break;case s.Type.DenseUnion:Z=$.visitDenseUnion||$.visitUnion;break;case s.Type.SparseUnion:Z=$.visitSparseUnion||$.visitUnion;break;case s.Type.Dictionary:Z=$.visitDictionary;break;case s.Type.Interval:Z=$.visitInterval;break;case s.Type.IntervalDayTime:Z=$.visitIntervalDayTime||$.visitInterval;break;case s.Type.IntervalYearMonth:Z=$.visitIntervalYearMonth||$.visitInterval;break;case s.Type.Duration:Z=$.visitDuration;break;case s.Type.DurationSecond:Z=$.visitDurationSecond||$.visitDuration;break;case s.Type.DurationMillisecond:Z=$.visitDurationMillisecond||$.visitDuration;break;case s.Type.DurationMicrosecond:Z=$.visitDurationMicrosecond||$.visitDuration;break;case s.Type.DurationNanosecond:Z=$.visitDurationNanosecond||$.visitDuration;break;case s.Type.FixedSizeList:Z=$.visitFixedSizeList;break;case s.Type.Map:Z=$.visitMap;break}if(typeof Z==="function")return Z;if(!J)return()=>null;throw Error(`Unrecognized type '${s.Type[Q]}'`)}function Uy($){switch($.typeId){case s.Type.Null:return s.Type.Null;case s.Type.Int:{let{bitWidth:Q,isSigned:J}=$;switch(Q){case 8:return J?s.Type.Int8:s.Type.Uint8;case 16:return J?s.Type.Int16:s.Type.Uint16;case 32:return J?s.Type.Int32:s.Type.Uint32;case 64:return J?s.Type.Int64:s.Type.Uint64}return s.Type.Int}case s.Type.Float:switch($.precision){case s.Precision.HALF:return s.Type.Float16;case s.Precision.SINGLE:return s.Type.Float32;case s.Precision.DOUBLE:return s.Type.Float64}return s.Type.Float;case s.Type.Binary:return s.Type.Binary;case s.Type.LargeBinary:return s.Type.LargeBinary;case s.Type.Utf8:return s.Type.Utf8;case s.Type.LargeUtf8:return s.Type.LargeUtf8;case s.Type.Bool:return s.Type.Bool;case s.Type.Decimal:return s.Type.Decimal;case s.Type.Time:switch($.unit){case s.TimeUnit.SECOND:return s.Type.TimeSecond;case s.TimeUnit.MILLISECOND:return s.Type.TimeMillisecond;case s.TimeUnit.MICROSECOND:return s.Type.TimeMicrosecond;case s.TimeUnit.NANOSECOND:return s.Type.TimeNanosecond}return s.Type.Time;case s.Type.Timestamp:switch($.unit){case s.TimeUnit.SECOND:return s.Type.TimestampSecond;case s.TimeUnit.MILLISECOND:return s.Type.TimestampMillisecond;case s.TimeUnit.MICROSECOND:return s.Type.TimestampMicrosecond;case s.TimeUnit.NANOSECOND:return s.Type.TimestampNanosecond}return s.Type.Timestamp;case s.Type.Date:switch($.unit){case s.DateUnit.DAY:return s.Type.DateDay;case s.DateUnit.MILLISECOND:return s.Type.DateMillisecond}return s.Type.Date;case s.Type.Interval:switch($.unit){case s.IntervalUnit.DAY_TIME:return s.Type.IntervalDayTime;case s.IntervalUnit.YEAR_MONTH:return s.Type.IntervalYearMonth}return s.Type.Interval;case s.Type.Duration:switch($.unit){case s.TimeUnit.SECOND:return s.Type.DurationSecond;case s.TimeUnit.MILLISECOND:return s.Type.DurationMillisecond;case s.TimeUnit.MICROSECOND:return s.Type.DurationMicrosecond;case s.TimeUnit.NANOSECOND:return s.Type.DurationNanosecond}return s.Type.Duration;case s.Type.Map:return s.Type.Map;case s.Type.List:return s.Type.List;case s.Type.Struct:return s.Type.Struct;case s.Type.Union:switch($.mode){case s.UnionMode.Dense:return s.Type.DenseUnion;case s.UnionMode.Sparse:return s.Type.SparseUnion}return s.Type.Union;case s.Type.FixedSizeBinary:return s.Type.FixedSizeBinary;case s.Type.FixedSizeList:return s.Type.FixedSizeList;case s.Type.Dictionary:return s.Type.Dictionary}throw Error(`Unrecognized type '${s.Type[$.typeId]}'`)}P0.prototype.visitInt8=null;P0.prototype.visitInt16=null;P0.prototype.visitInt32=null;P0.prototype.visitInt64=null;P0.prototype.visitUint8=null;P0.prototype.visitUint16=null;P0.prototype.visitUint32=null;P0.prototype.visitUint64=null;P0.prototype.visitFloat16=null;P0.prototype.visitFloat32=null;P0.prototype.visitFloat64=null;P0.prototype.visitDateDay=null;P0.prototype.visitDateMillisecond=null;P0.prototype.visitTimestampSecond=null;P0.prototype.visitTimestampMillisecond=null;P0.prototype.visitTimestampMicrosecond=null;P0.prototype.visitTimestampNanosecond=null;P0.prototype.visitTimeSecond=null;P0.prototype.visitTimeMillisecond=null;P0.prototype.visitTimeMicrosecond=null;P0.prototype.visitTimeNanosecond=null;P0.prototype.visitDenseUnion=null;P0.prototype.visitSparseUnion=null;P0.prototype.visitIntervalDayTime=null;P0.prototype.visitIntervalYearMonth=null;P0.prototype.visitDuration=null;P0.prototype.visitDurationSecond=null;P0.prototype.visitDurationMillisecond=null;P0.prototype.visitDurationMicrosecond=null;P0.prototype.visitDurationNanosecond=null});var VX=o((Cy)=>{Object.defineProperty(Cy,"__esModule",{value:!0});Cy.float64ToUint16=Cy.uint16ToFloat64=void 0;var Dy=new Float64Array(1),wJ=new Uint32Array(Dy.buffer);function N31($){let Q=($&31744)>>10,J=($&1023)/1024,Z=Math.pow(-1,($&32768)>>15);switch(Q){case 31:return Z*(J?Number.NaN:1/0);case 0:return Z*(J?0.00006103515625*J:0)}return Z*Math.pow(2,Q-15)*(1+J)}Cy.uint16ToFloat64=N31;function D31($){if($!==$)return 32256;Dy[0]=$;let Q=(wJ[1]&2147483648)>>16&65535,J=wJ[1]&2146435072,Z=0;if(J>=1089470464)if(wJ[0]>0)J=31744;else J=(J&2080374784)>>16,Z=(wJ[1]&1048575)>>10;else if(J<=1056964608)Z=1048576+(wJ[1]&1048575),Z=1048576+(Z<<(J>>20)-998)>>21,J=0;else J=J-1056964608>>10,Z=(wJ[1]&1048575)+512>>10;return Q|J|Z&65535}Cy.float64ToUint16=D31});var K4=o((Py)=>{Object.defineProperty(Py,"__esModule",{value:!0});Py.instance=Py.setDuration=Py.setDurationNanosecond=Py.setDurationMicrosecond=Py.setDurationMillisecond=Py.setDurationSecond=Py.setIntervalYearMonth=Py.setIntervalDayTime=Py.setIntervalValue=Py.setDecimal=Py.setTime=Py.setTimeNanosecond=Py.setTimeMicrosecond=Py.setTimeMillisecond=Py.setTimeSecond=Py.setTimestamp=Py.setTimestampNanosecond=Py.setTimestampMicrosecond=Py.setTimestampMillisecond=Py.setTimestampSecond=Py.setDate=Py.setFixedSizeBinary=Py.setDateMillisecond=Py.setDateDay=Py.setAnyFloat=Py.setFloat16=Py.setFloat=Py.setInt=Py.setVariableWidthBytes=Py.setEpochMsToDays=Py.SetVisitor=void 0;var A31=B6(),z31=g6(),zy=k9(),B31=F9(),R31=VX(),y5=$5();class v1 extends z31.Visitor{}Py.SetVisitor=v1;function d1($){return(Q,J,Z)=>{if(Q.setValid(J,Z!=null))return $(Q,J,Z)}}var O31=($,Q,J)=>{$[Q]=Math.floor(J/86400000)};Py.setEpochMsToDays=O31;var k31=($,Q,J,Z)=>{if(J+1<Q.length){let X=(0,zy.bigIntToNumber)(Q[J]),W=(0,zy.bigIntToNumber)(Q[J+1]);$.set(Z.subarray(0,W-X),X)}};Py.setVariableWidthBytes=k31;var P31=({offset:$,values:Q},J,Z)=>{let X=$+J;Z?Q[X>>3]|=1<<X%8:Q[X>>3]&=~(1<<X%8)},M31=({values:$},Q,J)=>{$[Q]=J};Py.setInt=M31;var w31=({values:$},Q,J)=>{$[Q]=J};Py.setFloat=w31;var S31=({values:$},Q,J)=>{$[Q]=(0,R31.float64ToUint16)(J)};Py.setFloat16=S31;var T31=($,Q,J)=>{switch($.type.precision){case y5.Precision.HALF:return Py.setFloat16($,Q,J);case y5.Precision.SINGLE:case y5.Precision.DOUBLE:return Py.setFloat($,Q,J)}};Py.setAnyFloat=T31;var I31=({values:$},Q,J)=>{Py.setEpochMsToDays($,Q,J.valueOf())};Py.setDateDay=I31;var G31=({values:$},Q,J)=>{$[Q]=BigInt(J)};Py.setDateMillisecond=G31;var E31=({stride:$,values:Q},J,Z)=>{Q.set(Z.subarray(0,$),$*J)};Py.setFixedSizeBinary=E31;var By=({values:$,valueOffsets:Q},J,Z)=>Py.setVariableWidthBytes($,Q,J,Z),Ry=({values:$,valueOffsets:Q},J,Z)=>Py.setVariableWidthBytes($,Q,J,(0,B31.encodeUtf8)(Z)),j31=($,Q,J)=>{$.type.unit===y5.DateUnit.DAY?Py.setDateDay($,Q,J):Py.setDateMillisecond($,Q,J)};Py.setDate=j31;var L31=({values:$},Q,J)=>{$[Q]=BigInt(J/1000)};Py.setTimestampSecond=L31;var h31=({values:$},Q,J)=>{$[Q]=BigInt(J)};Py.setTimestampMillisecond=h31;var v31=({values:$},Q,J)=>{$[Q]=BigInt(J*1000)};Py.setTimestampMicrosecond=v31;var _31=({values:$},Q,J)=>{$[Q]=BigInt(J*1e6)};Py.setTimestampNanosecond=_31;var x31=($,Q,J)=>{switch($.type.unit){case y5.TimeUnit.SECOND:return Py.setTimestampSecond($,Q,J);case y5.TimeUnit.MILLISECOND:return Py.setTimestampMillisecond($,Q,J);case y5.TimeUnit.MICROSECOND:return Py.setTimestampMicrosecond($,Q,J);case y5.TimeUnit.NANOSECOND:return Py.setTimestampNanosecond($,Q,J)}};Py.setTimestamp=x31;var g31=({values:$},Q,J)=>{$[Q]=J};Py.setTimeSecond=g31;var y31=({values:$},Q,J)=>{$[Q]=J};Py.setTimeMillisecond=y31;var b31=({values:$},Q,J)=>{$[Q]=J};Py.setTimeMicrosecond=b31;var f31=({values:$},Q,J)=>{$[Q]=J};Py.setTimeNanosecond=f31;var m31=($,Q,J)=>{switch($.type.unit){case y5.TimeUnit.SECOND:return Py.setTimeSecond($,Q,J);case y5.TimeUnit.MILLISECOND:return Py.setTimeMillisecond($,Q,J);case y5.TimeUnit.MICROSECOND:return Py.setTimeMicrosecond($,Q,J);case y5.TimeUnit.NANOSECOND:return Py.setTimeNanosecond($,Q,J)}};Py.setTime=m31;var c31=({values:$,stride:Q},J,Z)=>{$.set(Z.subarray(0,Q),Q*J)};Py.setDecimal=c31;var d31=($,Q,J)=>{let Z=$.children[0],X=$.valueOffsets,W=Py.instance.getVisitFn(Z);if(Array.isArray(J))for(let H=-1,F=X[Q],V=X[Q+1];F<V;)W(Z,F++,J[++H]);else for(let H=-1,F=X[Q],V=X[Q+1];F<V;)W(Z,F++,J.get(++H))},l31=($,Q,J)=>{let Z=$.children[0],{valueOffsets:X}=$,W=Py.instance.getVisitFn(Z),{[Q]:H,[Q+1]:F}=X,V=J instanceof Map?J.entries():Object.entries(J);for(let D of V)if(W(Z,H,D),++H>=F)break},p31=($,Q)=>(J,Z,X,W)=>Z&&J(Z,$,Q[W]),u31=($,Q)=>(J,Z,X,W)=>Z&&J(Z,$,Q.get(W)),i31=($,Q)=>(J,Z,X,W)=>Z&&J(Z,$,Q.get(X.name)),n31=($,Q)=>(J,Z,X,W)=>Z&&J(Z,$,Q[X.name]),s31=($,Q,J)=>{let Z=$.type.children.map((W)=>Py.instance.getVisitFn(W.type)),X=J instanceof Map?i31(Q,J):J instanceof A31.Vector?u31(Q,J):Array.isArray(J)?p31(Q,J):n31(Q,J);$.type.children.forEach((W,H)=>X(Z[H],$.children[H],W,H))},o31=($,Q,J)=>{$.type.mode===y5.UnionMode.Dense?Oy($,Q,J):ky($,Q,J)},Oy=($,Q,J)=>{let Z=$.type.typeIdToChildIndex[$.typeIds[Q]],X=$.children[Z];Py.instance.visit(X,$.valueOffsets[Q],J)},ky=($,Q,J)=>{let Z=$.type.typeIdToChildIndex[$.typeIds[Q]],X=$.children[Z];Py.instance.visit(X,Q,J)},a31=($,Q,J)=>{var Z;(Z=$.dictionary)===null||Z===void 0||Z.set($.values[Q],J)},r31=($,Q,J)=>{$.type.unit===y5.IntervalUnit.DAY_TIME?Py.setIntervalDayTime($,Q,J):Py.setIntervalYearMonth($,Q,J)};Py.setIntervalValue=r31;var t31=({values:$},Q,J)=>{$.set(J.subarray(0,2),2*Q)};Py.setIntervalDayTime=t31;var e31=({values:$},Q,J)=>{$[Q]=J[0]*12+J[1]%12};Py.setIntervalYearMonth=e31;var $81=({values:$},Q,J)=>{$[Q]=J};Py.setDurationSecond=$81;var Q81=({values:$},Q,J)=>{$[Q]=J};Py.setDurationMillisecond=Q81;var J81=({values:$},Q,J)=>{$[Q]=J};Py.setDurationMicrosecond=J81;var Z81=({values:$},Q,J)=>{$[Q]=J};Py.setDurationNanosecond=Z81;var K81=($,Q,J)=>{switch($.type.unit){case y5.TimeUnit.SECOND:return Py.setDurationSecond($,Q,J);case y5.TimeUnit.MILLISECOND:return Py.setDurationMillisecond($,Q,J);case y5.TimeUnit.MICROSECOND:return Py.setDurationMicrosecond($,Q,J);case y5.TimeUnit.NANOSECOND:return Py.setDurationNanosecond($,Q,J)}};Py.setDuration=K81;var X81=($,Q,J)=>{let{stride:Z}=$,X=$.children[0],W=Py.instance.getVisitFn(X);if(Array.isArray(J))for(let H=-1,F=Q*Z;++H<Z;)W(X,F+H,J[H]);else for(let H=-1,F=Q*Z;++H<Z;)W(X,F+H,J.get(H))};v1.prototype.visitBool=d1(P31);v1.prototype.visitInt=d1(Py.setInt);v1.prototype.visitInt8=d1(Py.setInt);v1.prototype.visitInt16=d1(Py.setInt);v1.prototype.visitInt32=d1(Py.setInt);v1.prototype.visitInt64=d1(Py.setInt);v1.prototype.visitUint8=d1(Py.setInt);v1.prototype.visitUint16=d1(Py.setInt);v1.prototype.visitUint32=d1(Py.setInt);v1.prototype.visitUint64=d1(Py.setInt);v1.prototype.visitFloat=d1(Py.setAnyFloat);v1.prototype.visitFloat16=d1(Py.setFloat16);v1.prototype.visitFloat32=d1(Py.setFloat);v1.prototype.visitFloat64=d1(Py.setFloat);v1.prototype.visitUtf8=d1(Ry);v1.prototype.visitLargeUtf8=d1(Ry);v1.prototype.visitBinary=d1(By);v1.prototype.visitLargeBinary=d1(By);v1.prototype.visitFixedSizeBinary=d1(Py.setFixedSizeBinary);v1.prototype.visitDate=d1(Py.setDate);v1.prototype.visitDateDay=d1(Py.setDateDay);v1.prototype.visitDateMillisecond=d1(Py.setDateMillisecond);v1.prototype.visitTimestamp=d1(Py.setTimestamp);v1.prototype.visitTimestampSecond=d1(Py.setTimestampSecond);v1.prototype.visitTimestampMillisecond=d1(Py.setTimestampMillisecond);v1.prototype.visitTimestampMicrosecond=d1(Py.setTimestampMicrosecond);v1.prototype.visitTimestampNanosecond=d1(Py.setTimestampNanosecond);v1.prototype.visitTime=d1(Py.setTime);v1.prototype.visitTimeSecond=d1(Py.setTimeSecond);v1.prototype.visitTimeMillisecond=d1(Py.setTimeMillisecond);v1.prototype.visitTimeMicrosecond=d1(Py.setTimeMicrosecond);v1.prototype.visitTimeNanosecond=d1(Py.setTimeNanosecond);v1.prototype.visitDecimal=d1(Py.setDecimal);v1.prototype.visitList=d1(d31);v1.prototype.visitStruct=d1(s31);v1.prototype.visitUnion=d1(o31);v1.prototype.visitDenseUnion=d1(Oy);v1.prototype.visitSparseUnion=d1(ky);v1.prototype.visitDictionary=d1(a31);v1.prototype.visitInterval=d1(Py.setIntervalValue);v1.prototype.visitIntervalDayTime=d1(Py.setIntervalDayTime);v1.prototype.visitIntervalYearMonth=d1(Py.setIntervalYearMonth);v1.prototype.visitDuration=d1(Py.setDuration);v1.prototype.visitDurationSecond=d1(Py.setDurationSecond);v1.prototype.visitDurationMillisecond=d1(Py.setDurationMillisecond);v1.prototype.visitDurationMicrosecond=d1(Py.setDurationMicrosecond);v1.prototype.visitDurationNanosecond=d1(Py.setDurationNanosecond);v1.prototype.visitFixedSizeList=d1(X81);v1.prototype.visitMap=d1(l31);Py.instance=new v1});var FF=o((xy)=>{Object.defineProperty(xy,"__esModule",{value:!0});xy.StructRow=void 0;var hy=FX(),uB=Z$(),W81=K4(),D7=Symbol.for("parent"),SJ=Symbol.for("rowIndex");class iB{constructor($,Q){return this[D7]=$,this[SJ]=Q,new Proxy(this,new _y)}toArray(){return Object.values(this.toJSON())}toJSON(){let $=this[SJ],Q=this[D7],J=Q.type.children,Z={};for(let X=-1,W=J.length;++X<W;)Z[J[X].name]=uB.instance.visit(Q.children[X],$);return Z}toString(){return`{${[...this].map(([$,Q])=>`${(0,hy.valueToString)($)}: ${(0,hy.valueToString)(Q)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new vy(this[D7],this[SJ])}}xy.StructRow=iB;class vy{constructor($,Q){this.childIndex=0,this.children=$.children,this.rowIndex=Q,this.childFields=$.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){let $=this.childIndex;if($<this.numChildren)return this.childIndex=$+1,{done:!1,value:[this.childFields[$].name,uB.instance.visit(this.children[$],this.rowIndex)]};return{done:!0,value:null}}}Object.defineProperties(iB.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[D7]:{writable:!0,enumerable:!1,configurable:!1,value:null},[SJ]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class _y{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys($){return $[D7].type.children.map((Q)=>Q.name)}has($,Q){return $[D7].type.children.findIndex((J)=>J.name===Q)!==-1}getOwnPropertyDescriptor($,Q){if($[D7].type.children.findIndex((J)=>J.name===Q)!==-1)return{writable:!0,enumerable:!0,configurable:!0};return}get($,Q){if(Reflect.has($,Q))return $[Q];let J=$[D7].type.children.findIndex((Z)=>Z.name===Q);if(J!==-1){let Z=uB.instance.visit($[D7].children[J],$[SJ]);return Reflect.set($,Q,Z),Z}}set($,Q,J){let Z=$[D7].type.children.findIndex((X)=>X.name===Q);if(Z!==-1)return W81.instance.visit($[D7].children[Z],$[SJ],J),Reflect.set($,Q,J);else if(Reflect.has($,Q)||typeof Q==="symbol")return Reflect.set($,Q,J);return!1}}});var Z$=o((Wb)=>{Object.defineProperty(Wb,"__esModule",{value:!0});Wb.instance=Wb.GetVisitor=void 0;var q81=oH(),yy=B6(),H81=g6(),F81=NX(),U81=FF(),K$=k9(),V81=F9(),by=VX(),J6=$5();class G1 extends H81.Visitor{}Wb.GetVisitor=G1;function g1($){return(Q,J)=>Q.getValid(J)?$(Q,J):null}var N81=($,Q)=>86400000*$[Q],D81=($,Q)=>null,fy=($,Q,J)=>{if(J+1>=Q.length)return null;let Z=(0,K$.bigIntToNumber)(Q[J]),X=(0,K$.bigIntToNumber)(Q[J+1]);return $.subarray(Z,X)},C81=({offset:$,values:Q},J)=>{let Z=$+J;return(Q[Z>>3]&1<<Z%8)!==0},my=({values:$},Q)=>N81($,Q),cy=({values:$},Q)=>(0,K$.bigIntToNumber)($[Q]),T9=({stride:$,values:Q},J)=>Q[$*J],A81=({stride:$,values:Q},J)=>(0,by.uint16ToFloat64)(Q[$*J]),dy=({values:$},Q)=>$[Q],z81=({stride:$,values:Q},J)=>Q.subarray($*J,$*(J+1)),ly=({values:$,valueOffsets:Q},J)=>fy($,Q,J),py=({values:$,valueOffsets:Q},J)=>{let Z=fy($,Q,J);return Z!==null?(0,V81.decodeUtf8)(Z):null},B81=({values:$},Q)=>$[Q],R81=({type:$,values:Q},J)=>$.precision!==J6.Precision.HALF?Q[J]:(0,by.uint16ToFloat64)(Q[J]),O81=($,Q)=>$.type.unit===J6.DateUnit.DAY?my($,Q):cy($,Q),uy=({values:$},Q)=>1000*(0,K$.bigIntToNumber)($[Q]),iy=({values:$},Q)=>(0,K$.bigIntToNumber)($[Q]),ny=({values:$},Q)=>(0,K$.divideBigInts)($[Q],BigInt(1000)),sy=({values:$},Q)=>(0,K$.divideBigInts)($[Q],BigInt(1e6)),k81=($,Q)=>{switch($.type.unit){case J6.TimeUnit.SECOND:return uy($,Q);case J6.TimeUnit.MILLISECOND:return iy($,Q);case J6.TimeUnit.MICROSECOND:return ny($,Q);case J6.TimeUnit.NANOSECOND:return sy($,Q)}},oy=({values:$},Q)=>$[Q],ay=({values:$},Q)=>$[Q],ry=({values:$},Q)=>$[Q],ty=({values:$},Q)=>$[Q],P81=($,Q)=>{switch($.type.unit){case J6.TimeUnit.SECOND:return oy($,Q);case J6.TimeUnit.MILLISECOND:return ay($,Q);case J6.TimeUnit.MICROSECOND:return ry($,Q);case J6.TimeUnit.NANOSECOND:return ty($,Q)}},M81=({values:$,stride:Q},J)=>q81.BN.decimal($.subarray(Q*J,Q*(J+1))),w81=($,Q)=>{let{valueOffsets:J,stride:Z,children:X}=$,{[Q*Z]:W,[Q*Z+1]:H}=J,V=X[0].slice(W,H-W);return new yy.Vector([V])},S81=($,Q)=>{let{valueOffsets:J,children:Z}=$,{[Q]:X,[Q+1]:W}=J,H=Z[0];return new F81.MapRow(H.slice(X,W-X))},T81=($,Q)=>{return new U81.StructRow($,Q)},I81=($,Q)=>{return $.type.mode===J6.UnionMode.Dense?ey($,Q):$b($,Q)},ey=($,Q)=>{let J=$.type.typeIdToChildIndex[$.typeIds[Q]],Z=$.children[J];return Wb.instance.visit(Z,$.valueOffsets[Q])},$b=($,Q)=>{let J=$.type.typeIdToChildIndex[$.typeIds[Q]],Z=$.children[J];return Wb.instance.visit(Z,Q)},G81=($,Q)=>{var J;return(J=$.dictionary)===null||J===void 0?void 0:J.get($.values[Q])},E81=($,Q)=>$.type.unit===J6.IntervalUnit.DAY_TIME?Qb($,Q):Jb($,Q),Qb=({values:$},Q)=>$.subarray(2*Q,2*(Q+1)),Jb=({values:$},Q)=>{let J=$[Q],Z=new Int32Array(2);return Z[0]=Math.trunc(J/12),Z[1]=Math.trunc(J%12),Z},Zb=({values:$},Q)=>$[Q],Kb=({values:$},Q)=>$[Q],Xb=({values:$},Q)=>$[Q],Yb=({values:$},Q)=>$[Q],j81=($,Q)=>{switch($.type.unit){case J6.TimeUnit.SECOND:return Zb($,Q);case J6.TimeUnit.MILLISECOND:return Kb($,Q);case J6.TimeUnit.MICROSECOND:return Xb($,Q);case J6.TimeUnit.NANOSECOND:return Yb($,Q)}},L81=($,Q)=>{let{stride:J,children:Z}=$,W=Z[0].slice(Q*J,J);return new yy.Vector([W])};G1.prototype.visitNull=g1(D81);G1.prototype.visitBool=g1(C81);G1.prototype.visitInt=g1(B81);G1.prototype.visitInt8=g1(T9);G1.prototype.visitInt16=g1(T9);G1.prototype.visitInt32=g1(T9);G1.prototype.visitInt64=g1(dy);G1.prototype.visitUint8=g1(T9);G1.prototype.visitUint16=g1(T9);G1.prototype.visitUint32=g1(T9);G1.prototype.visitUint64=g1(dy);G1.prototype.visitFloat=g1(R81);G1.prototype.visitFloat16=g1(A81);G1.prototype.visitFloat32=g1(T9);G1.prototype.visitFloat64=g1(T9);G1.prototype.visitUtf8=g1(py);G1.prototype.visitLargeUtf8=g1(py);G1.prototype.visitBinary=g1(ly);G1.prototype.visitLargeBinary=g1(ly);G1.prototype.visitFixedSizeBinary=g1(z81);G1.prototype.visitDate=g1(O81);G1.prototype.visitDateDay=g1(my);G1.prototype.visitDateMillisecond=g1(cy);G1.prototype.visitTimestamp=g1(k81);G1.prototype.visitTimestampSecond=g1(uy);G1.prototype.visitTimestampMillisecond=g1(iy);G1.prototype.visitTimestampMicrosecond=g1(ny);G1.prototype.visitTimestampNanosecond=g1(sy);G1.prototype.visitTime=g1(P81);G1.prototype.visitTimeSecond=g1(oy);G1.prototype.visitTimeMillisecond=g1(ay);G1.prototype.visitTimeMicrosecond=g1(ry);G1.prototype.visitTimeNanosecond=g1(ty);G1.prototype.visitDecimal=g1(M81);G1.prototype.visitList=g1(w81);G1.prototype.visitStruct=g1(T81);G1.prototype.visitUnion=g1(I81);G1.prototype.visitDenseUnion=g1(ey);G1.prototype.visitSparseUnion=g1($b);G1.prototype.visitDictionary=g1(G81);G1.prototype.visitInterval=g1(E81);G1.prototype.visitIntervalDayTime=g1(Qb);G1.prototype.visitIntervalYearMonth=g1(Jb);G1.prototype.visitDuration=g1(j81);G1.prototype.visitDurationSecond=g1(Zb);G1.prototype.visitDurationMillisecond=g1(Kb);G1.prototype.visitDurationMicrosecond=g1(Xb);G1.prototype.visitDurationNanosecond=g1(Yb);G1.prototype.visitFixedSizeList=g1(L81);G1.prototype.visitMap=g1(S81);Wb.instance=new G1});var NX=o((Ub)=>{Object.defineProperty(Ub,"__esModule",{value:!0});Ub.MapRow=Ub._kKeysAsStrings=Ub.kKeysAsStrings=Ub.kVals=Ub.kKeys=void 0;var v81=B6(),qb=FX(),nB=Z$(),_81=K4();Ub.kKeys=Symbol.for("keys");Ub.kVals=Symbol.for("vals");Ub.kKeysAsStrings=Symbol.for("kKeysAsStrings");Ub._kKeysAsStrings=Symbol.for("_kKeysAsStrings");class sB{constructor($){return this[Ub.kKeys]=new v81.Vector([$.children[0]]).memoize(),this[Ub.kVals]=$.children[1],new Proxy(this,new Fb)}get[Ub.kKeysAsStrings](){return this[Ub._kKeysAsStrings]||(this[Ub._kKeysAsStrings]=Array.from(this[Ub.kKeys].toArray(),String))}[Symbol.iterator](){return new Hb(this[Ub.kKeys],this[Ub.kVals])}get size(){return this[Ub.kKeys].length}toArray(){return Object.values(this.toJSON())}toJSON(){let $=this[Ub.kKeys],Q=this[Ub.kVals],J={};for(let Z=-1,X=$.length;++Z<X;)J[$.get(Z)]=nB.instance.visit(Q,Z);return J}toString(){return`{${[...this].map(([$,Q])=>`${(0,qb.valueToString)($)}: ${(0,qb.valueToString)(Q)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}Ub.MapRow=sB;class Hb{constructor($,Q){this.keys=$,this.vals=Q,this.keyIndex=0,this.numKeys=$.length}[Symbol.iterator](){return this}next(){let $=this.keyIndex;if($===this.numKeys)return{done:!0,value:null};return this.keyIndex++,{done:!1,value:[this.keys.get($),nB.instance.visit(this.vals,$)]}}}class Fb{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys($){return $[Ub.kKeysAsStrings]}has($,Q){return $[Ub.kKeysAsStrings].includes(Q)}getOwnPropertyDescriptor($,Q){if($[Ub.kKeysAsStrings].indexOf(Q)!==-1)return{writable:!0,enumerable:!0,configurable:!0};return}get($,Q){if(Reflect.has($,Q))return $[Q];let J=$[Ub.kKeysAsStrings].indexOf(Q);if(J!==-1){let Z=nB.instance.visit(Reflect.get($,Ub.kVals),J);return Reflect.set($,Q,Z),Z}}set($,Q,J){let Z=$[Ub.kKeysAsStrings].indexOf(Q);if(Z!==-1)return _81.instance.visit(Reflect.get($,Ub.kVals),Z,J),Reflect.set($,Q,J);else if(Reflect.has($,Q))return Reflect.set($,Q,J);return!1}}Object.defineProperties(sB.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Ub.kKeys]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Ub.kVals]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Ub._kKeysAsStrings]:{writable:!0,enumerable:!1,configurable:!1,value:null}})});var TJ=o((zb)=>{Object.defineProperty(zb,"__esModule",{value:!0});zb.createElementComparator=zb.wrapIndex=zb.clampRange=void 0;var Ab=B6(),x81=NX(),g81=FF(),y81=g5(),Nb;function b81($,Q,J,Z){let{length:X=0}=$,W=typeof Q!=="number"?0:Q,H=typeof J!=="number"?X:J;return W<0&&(W=(W%X+X)%X),H<0&&(H=(H%X+X)%X),H<W&&(Nb=W,W=H,H=Nb),H>X&&(H=X),Z?Z($,W,H):[W,H]}zb.clampRange=b81;var f81=($,Q)=>$<0?Q+$:$;zb.wrapIndex=f81;var Db=($)=>$!==$;function DX($){if(typeof $!=="object"||$===null){if(Db($))return Db;return(J)=>J===$}if($ instanceof Date){let J=$.valueOf();return(Z)=>Z instanceof Date?Z.valueOf()===J:!1}if(ArrayBuffer.isView($))return(J)=>J?(0,y81.compareArrayLike)($,J):!1;if($ instanceof Map)return c81($);if(Array.isArray($))return m81($);if($ instanceof Ab.Vector)return d81($);return l81($,!0)}zb.createElementComparator=DX;function m81($){let Q=[];for(let J=-1,Z=$.length;++J<Z;)Q[J]=DX($[J]);return NF(Q)}function c81($){let Q=-1,J=[];for(let Z of $.values())J[++Q]=DX(Z);return NF(J)}function d81($){let Q=[];for(let J=-1,Z=$.length;++J<Z;)Q[J]=DX($.get(J));return NF(Q)}function l81($,Q=!1){let J=Object.keys($);if(!Q&&J.length===0)return()=>!1;let Z=[];for(let X=-1,W=J.length;++X<W;)Z[X]=DX($[J[X]]);return NF(Z,J)}function NF($,Q){return(J)=>{if(!J||typeof J!=="object")return!1;switch(J.constructor){case Array:return p81($,J);case Map:return Cb($,J,J.keys());case x81.MapRow:case g81.StructRow:case Object:case void 0:return Cb($,J,Q||Object.keys(J))}return J instanceof Ab.Vector?u81($,J):!1}}function p81($,Q){let J=$.length;if(Q.length!==J)return!1;for(let Z=-1;++Z<J;)if(!$[Z](Q[Z]))return!1;return!0}function u81($,Q){let J=$.length;if(Q.length!==J)return!1;for(let Z=-1;++Z<J;)if(!$[Z](Q.get(Z)))return!1;return!0}function Cb($,Q,J){let Z=J[Symbol.iterator](),X=Q instanceof Map?Q.keys():Object.keys(Q)[Symbol.iterator](),W=Q instanceof Map?Q.values():Object.values(Q)[Symbol.iterator](),H=0,F=$.length,V=W.next(),D=Z.next(),C=X.next();for(;H<F&&!D.done&&!C.done&&!V.done;++H,D=Z.next(),C=X.next(),V=W.next())if(D.value!==C.value||!$[H](V.value))break;if(H===F&&D.done&&C.done&&V.done)return!0;return Z.return&&Z.return(),X.return&&X.return(),W.return&&W.return(),!1}});var q$=o((Mb)=>{Object.defineProperty(Mb,"__esModule",{value:!0});Mb.popcnt_uint32=Mb.popcnt_array=Mb.popcnt_bit_range=Mb.BitIterator=Mb.packBools=Mb.truncateBitmap=Mb.setBool=Mb.getBit=Mb.getBool=void 0;function Rb($,Q,J,Z){return(J&1<<Z)!==0}Mb.getBool=Rb;function Ob($,Q,J,Z){return(J&1<<Z)>>Z}Mb.getBit=Ob;function s81($,Q,J){return J?!!($[Q>>3]|=1<<Q%8)||!0:!($[Q>>3]&=~(1<<Q%8))&&!1}Mb.setBool=s81;function o81($,Q,J){let Z=J.byteLength+7&-8;if($>0||J.byteLength<Z){let X=new Uint8Array(Z);return X.set($%8===0?J.subarray($>>3):kb(new CF(J,$,Q,null,Rb)).subarray(0,Z)),X}return J}Mb.truncateBitmap=o81;function kb($){let Q=[],J=0,Z=0,X=0;for(let H of $)if(H&&(X|=1<<Z),++Z===8)Q[J++]=X,X=Z=0;if(J===0||Z>0)Q[J++]=X;let W=new Uint8Array(Q.length+7&-8);return W.set(Q),W}Mb.packBools=kb;class CF{constructor($,Q,J,Z,X){this.bytes=$,this.length=J,this.context=Z,this.get=X,this.bit=Q%8,this.byteIndex=Q>>3,this.byte=$[this.byteIndex++],this.index=0}next(){if(this.index<this.length){if(this.bit===8)this.bit=0,this.byte=this.bytes[this.byteIndex++];return{value:this.get(this.context,this.index++,this.byte,this.bit++)}}return{done:!0,value:null}}[Symbol.iterator](){return this}}Mb.BitIterator=CF;function oB($,Q,J){if(J-Q<=0)return 0;if(J-Q<8){let W=0;for(let H of new CF($,Q,J-Q,$,Ob))W+=H;return W}let Z=J>>3<<3,X=Q+(Q%8===0?0:8-Q%8);return oB($,Q,X)+oB($,Z,J)+Pb($,X>>3,Z-X>>3)}Mb.popcnt_bit_range=oB;function Pb($,Q,J){let Z=0,X=Math.trunc(Q),W=new DataView($.buffer,$.byteOffset,$.byteLength),H=J===void 0?$.byteLength:X+J;while(H-X>=4)Z+=DF(W.getUint32(X)),X+=4;while(H-X>=2)Z+=DF(W.getUint16(X)),X+=2;while(H-X>=1)Z+=DF(W.getUint8(X)),X+=1;return Z}Mb.popcnt_array=Pb;function DF($){let Q=Math.trunc($);return Q=Q-(Q>>>1&1431655765),Q=(Q&858993459)+(Q>>>2&858993459),(Q+(Q>>>4)&252645135)*16843009>>>24}Mb.popcnt_uint32=DF});var J3=o((Sb)=>{Object.defineProperty(Sb,"__esModule",{value:!0});Sb.makeData=Sb.Data=Sb.kUnknownNullCount=void 0;var K91=B6(),Q3=$5(),y6=u0(),aB=q$();Sb.kUnknownNullCount=-1;class b0{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){let{type:$}=this;if(y6.DataType.isSparseUnion($))return this.children.some((Q)=>Q.nullable);else if(y6.DataType.isDenseUnion($))return this.children.some((Q)=>Q.nullable);return this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let $=0,{valueOffsets:Q,values:J,nullBitmap:Z,typeIds:X}=this;return Q&&($+=Q.byteLength),J&&($+=J.byteLength),Z&&($+=Z.byteLength),X&&($+=X.byteLength),this.children.reduce((W,H)=>W+H.byteLength,$)}get nullCount(){if(y6.DataType.isUnion(this.type))return this.children.reduce((J,Z)=>J+Z.nullCount,0);let $=this._nullCount,Q;if($<=Sb.kUnknownNullCount&&(Q=this.nullBitmap))this._nullCount=$=Q.length===0?0:this.length-(0,aB.popcnt_bit_range)(Q,this.offset,this.offset+this.length);return $}constructor($,Q,J,Z,X,W=[],H){this.type=$,this.children=W,this.dictionary=H,this.offset=Math.floor(Math.max(Q||0,0)),this.length=Math.floor(Math.max(J||0,0)),this._nullCount=Math.floor(Math.max(Z||0,-1));let F;if(X instanceof b0)this.stride=X.stride,this.values=X.values,this.typeIds=X.typeIds,this.nullBitmap=X.nullBitmap,this.valueOffsets=X.valueOffsets;else if(this.stride=(0,y6.strideForType)($),X)(F=X[0])&&(this.valueOffsets=F),(F=X[1])&&(this.values=F),(F=X[2])&&(this.nullBitmap=F),(F=X[3])&&(this.typeIds=F)}getValid($){let{type:Q}=this;if(y6.DataType.isUnion(Q)){let J=Q,Z=this.children[J.typeIdToChildIndex[this.typeIds[$]]],X=J.mode===Q3.UnionMode.Dense?this.valueOffsets[$]:$;return Z.getValid(X)}if(this.nullable&&this.nullCount>0){let J=this.offset+$;return(this.nullBitmap[J>>3]&1<<J%8)!==0}return!0}setValid($,Q){let J,{type:Z}=this;if(y6.DataType.isUnion(Z)){let X=Z,W=this.children[X.typeIdToChildIndex[this.typeIds[$]]],H=X.mode===Q3.UnionMode.Dense?this.valueOffsets[$]:$;J=W.getValid(H),W.setValid(H,Q)}else{let{nullBitmap:X}=this,{offset:W,length:H}=this,F=W+$,V=1<<F%8,D=F>>3;if(!X||X.byteLength<=D)if(X=new Uint8Array((W+H+63&-64)>>3).fill(255),this.nullCount>0)X.set((0,aB.truncateBitmap)(W,H,this.nullBitmap),0),Object.assign(this,{nullBitmap:X});else Object.assign(this,{nullBitmap:X,_nullCount:0});let C=X[D];J=(C&V)!==0,X[D]=Q?C|V:C&~V}if(J!==!!Q)this._nullCount=this.nullCount+(Q?-1:1);return Q}clone($=this.type,Q=this.offset,J=this.length,Z=this._nullCount,X=this,W=this.children){return new b0($,Q,J,Z,X,W,this.dictionary)}slice($,Q){let{stride:J,typeId:Z,children:X}=this,W=+(this._nullCount===0)-1,H=Z===16?J:1,F=this._sliceBuffers($,Q,J,Z);return this.clone(this.type,this.offset+$,Q,W,F,X.length===0||this.valueOffsets?X:this._sliceChildren(X,H*$,H*Q))}_changeLengthAndBackfillNullBitmap($){if(this.typeId===Q3.Type.Null)return this.clone(this.type,0,$,0);let{length:Q,nullCount:J}=this,Z=new Uint8Array(($+63&-64)>>3).fill(255,0,Q>>3);if(Z[Q>>3]=(1<<Q-(Q&-8))-1,J>0)Z.set((0,aB.truncateBitmap)(this.offset,Q,this.nullBitmap),0);let X=this.buffers;return X[Q3.BufferType.VALIDITY]=Z,this.clone(this.type,0,$,J+($-Q),X)}_sliceBuffers($,Q,J,Z){let X,{buffers:W}=this;return(X=W[Q3.BufferType.TYPE])&&(W[Q3.BufferType.TYPE]=X.subarray($,$+Q)),(X=W[Q3.BufferType.OFFSET])&&(W[Q3.BufferType.OFFSET]=X.subarray($,$+Q+1))||(X=W[Q3.BufferType.DATA])&&(W[Q3.BufferType.DATA]=Z===6?X:X.subarray(J*$,J*($+Q))),W}_sliceChildren($,Q,J){return $.map((Z)=>Z.slice(Q,J))}}Sb.Data=b0;b0.prototype.children=Object.freeze([]);var X91=g6(),$0=g5();class CX extends X91.Visitor{visit($){return this.getVisitFn($.type).call(this,$)}visitNull($){let{["type"]:Q,["offset"]:J=0,["length"]:Z=0}=$;return new b0(Q,J,Z,Z)}visitBool($){let{["type"]:Q,["offset"]:J=0}=$,Z=(0,$0.toUint8Array)($.nullBitmap),X=(0,$0.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:W=X.length>>3,["nullCount"]:H=$.nullBitmap?-1:0}=$;return new b0(Q,J,W,H,[void 0,X,Z])}visitInt($){let{["type"]:Q,["offset"]:J=0}=$,Z=(0,$0.toUint8Array)($.nullBitmap),X=(0,$0.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:W=X.length,["nullCount"]:H=$.nullBitmap?-1:0}=$;return new b0(Q,J,W,H,[void 0,X,Z])}visitFloat($){let{["type"]:Q,["offset"]:J=0}=$,Z=(0,$0.toUint8Array)($.nullBitmap),X=(0,$0.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:W=X.length,["nullCount"]:H=$.nullBitmap?-1:0}=$;return new b0(Q,J,W,H,[void 0,X,Z])}visitUtf8($){let{["type"]:Q,["offset"]:J=0}=$,Z=(0,$0.toUint8Array)($.data),X=(0,$0.toUint8Array)($.nullBitmap),W=(0,$0.toInt32Array)($.valueOffsets),{["length"]:H=W.length-1,["nullCount"]:F=$.nullBitmap?-1:0}=$;return new b0(Q,J,H,F,[W,Z,X])}visitLargeUtf8($){let{["type"]:Q,["offset"]:J=0}=$,Z=(0,$0.toUint8Array)($.data),X=(0,$0.toUint8Array)($.nullBitmap),W=(0,$0.toBigInt64Array)($.valueOffsets),{["length"]:H=W.length-1,["nullCount"]:F=$.nullBitmap?-1:0}=$;return new b0(Q,J,H,F,[W,Z,X])}visitBinary($){let{["type"]:Q,["offset"]:J=0}=$,Z=(0,$0.toUint8Array)($.data),X=(0,$0.toUint8Array)($.nullBitmap),W=(0,$0.toInt32Array)($.valueOffsets),{["length"]:H=W.length-1,["nullCount"]:F=$.nullBitmap?-1:0}=$;return new b0(Q,J,H,F,[W,Z,X])}visitLargeBinary($){let{["type"]:Q,["offset"]:J=0}=$,Z=(0,$0.toUint8Array)($.data),X=(0,$0.toUint8Array)($.nullBitmap),W=(0,$0.toBigInt64Array)($.valueOffsets),{["length"]:H=W.length-1,["nullCount"]:F=$.nullBitmap?-1:0}=$;return new b0(Q,J,H,F,[W,Z,X])}visitFixedSizeBinary($){let{["type"]:Q,["offset"]:J=0}=$,Z=(0,$0.toUint8Array)($.nullBitmap),X=(0,$0.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:W=X.length/(0,y6.strideForType)(Q),["nullCount"]:H=$.nullBitmap?-1:0}=$;return new b0(Q,J,W,H,[void 0,X,Z])}visitDate($){let{["type"]:Q,["offset"]:J=0}=$,Z=(0,$0.toUint8Array)($.nullBitmap),X=(0,$0.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:W=X.length/(0,y6.strideForType)(Q),["nullCount"]:H=$.nullBitmap?-1:0}=$;return new b0(Q,J,W,H,[void 0,X,Z])}visitTimestamp($){let{["type"]:Q,["offset"]:J=0}=$,Z=(0,$0.toUint8Array)($.nullBitmap),X=(0,$0.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:W=X.length/(0,y6.strideForType)(Q),["nullCount"]:H=$.nullBitmap?-1:0}=$;return new b0(Q,J,W,H,[void 0,X,Z])}visitTime($){let{["type"]:Q,["offset"]:J=0}=$,Z=(0,$0.toUint8Array)($.nullBitmap),X=(0,$0.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:W=X.length/(0,y6.strideForType)(Q),["nullCount"]:H=$.nullBitmap?-1:0}=$;return new b0(Q,J,W,H,[void 0,X,Z])}visitDecimal($){let{["type"]:Q,["offset"]:J=0}=$,Z=(0,$0.toUint8Array)($.nullBitmap),X=(0,$0.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:W=X.length/(0,y6.strideForType)(Q),["nullCount"]:H=$.nullBitmap?-1:0}=$;return new b0(Q,J,W,H,[void 0,X,Z])}visitList($){let{["type"]:Q,["offset"]:J=0,["child"]:Z}=$,X=(0,$0.toUint8Array)($.nullBitmap),W=(0,$0.toInt32Array)($.valueOffsets),{["length"]:H=W.length-1,["nullCount"]:F=$.nullBitmap?-1:0}=$;return new b0(Q,J,H,F,[W,void 0,X],[Z])}visitStruct($){let{["type"]:Q,["offset"]:J=0,["children"]:Z=[]}=$,X=(0,$0.toUint8Array)($.nullBitmap),{length:W=Z.reduce((F,{length:V})=>Math.max(F,V),0),nullCount:H=$.nullBitmap?-1:0}=$;return new b0(Q,J,W,H,[void 0,void 0,X],Z)}visitUnion($){let{["type"]:Q,["offset"]:J=0,["children"]:Z=[]}=$,X=(0,$0.toArrayBufferView)(Q.ArrayType,$.typeIds),{["length"]:W=X.length,["nullCount"]:H=-1}=$;if(y6.DataType.isSparseUnion(Q))return new b0(Q,J,W,H,[void 0,void 0,void 0,X],Z);let F=(0,$0.toInt32Array)($.valueOffsets);return new b0(Q,J,W,H,[F,void 0,void 0,X],Z)}visitDictionary($){let{["type"]:Q,["offset"]:J=0}=$,Z=(0,$0.toUint8Array)($.nullBitmap),X=(0,$0.toArrayBufferView)(Q.indices.ArrayType,$.data),{["dictionary"]:W=new K91.Vector([new CX().visit({type:Q.dictionary})])}=$,{["length"]:H=X.length,["nullCount"]:F=$.nullBitmap?-1:0}=$;return new b0(Q,J,H,F,[void 0,X,Z],[],W)}visitInterval($){let{["type"]:Q,["offset"]:J=0}=$,Z=(0,$0.toUint8Array)($.nullBitmap),X=(0,$0.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:W=X.length/(0,y6.strideForType)(Q),["nullCount"]:H=$.nullBitmap?-1:0}=$;return new b0(Q,J,W,H,[void 0,X,Z])}visitDuration($){let{["type"]:Q,["offset"]:J=0}=$,Z=(0,$0.toUint8Array)($.nullBitmap),X=(0,$0.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:W=X.length,["nullCount"]:H=$.nullBitmap?-1:0}=$;return new b0(Q,J,W,H,[void 0,X,Z])}visitFixedSizeList($){let{["type"]:Q,["offset"]:J=0,["child"]:Z=new CX().visit({type:Q.valueType})}=$,X=(0,$0.toUint8Array)($.nullBitmap),{["length"]:W=Z.length/(0,y6.strideForType)(Q),["nullCount"]:H=$.nullBitmap?-1:0}=$;return new b0(Q,J,W,H,[void 0,void 0,X],[Z])}visitMap($){let{["type"]:Q,["offset"]:J=0,["child"]:Z=new CX().visit({type:Q.childType})}=$,X=(0,$0.toUint8Array)($.nullBitmap),W=(0,$0.toInt32Array)($.valueOffsets),{["length"]:H=W.length-1,["nullCount"]:F=$.nullBitmap?-1:0}=$;return new b0(Q,J,H,F,[W,void 0,X],[Z])}}var Y91=new CX;function W91($){return Y91.visit($)}Sb.makeData=W91});var zF=o((Eb)=>{Object.defineProperty(Eb,"__esModule",{value:!0});Eb.wrapChunkedIndexOf=Eb.wrapChunkedCall2=Eb.wrapChunkedCall1=Eb.isChunkedValid=Eb.binarySearch=Eb.sliceChunks=Eb.computeChunkOffsets=Eb.computeChunkNullCounts=Eb.computeChunkNullable=Eb.ChunkedIterator=void 0;class Gb{constructor($=0,Q){this.numChunks=$,this.getChunkIterator=Q,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){while(this.chunkIndex<this.numChunks){let $=this.chunkIterator.next();if(!$.done)return $;if(++this.chunkIndex<this.numChunks)this.chunkIterator=this.getChunkIterator(this.chunkIndex)}return{done:!0,value:null}}[Symbol.iterator](){return this}}Eb.ChunkedIterator=Gb;function H91($){return $.some((Q)=>Q.nullable)}Eb.computeChunkNullable=H91;function F91($){return $.reduce((Q,J)=>Q+J.nullCount,0)}Eb.computeChunkNullCounts=F91;function U91($){return $.reduce((Q,J,Z)=>{return Q[Z+1]=Q[Z]+J.length,Q},new Uint32Array($.length+1))}Eb.computeChunkOffsets=U91;function V91($,Q,J,Z){let X=[];for(let W=-1,H=$.length;++W<H;){let F=$[W],V=Q[W],{length:D}=F;if(V>=Z)break;if(J>=V+D)continue;if(V>=J&&V+D<=Z){X.push(F);continue}let C=Math.max(0,J-V),z=Math.min(Z-V,D);X.push(F.slice(C,z-C))}if(X.length===0)X.push($[0].slice(0,0));return X}Eb.sliceChunks=V91;function AF($,Q,J,Z){let X=0,W=0,H=Q.length-1;do{if(X>=H-1)return J<Q[H]?Z($,X,J-Q[X]):null;W=X+Math.trunc((H-X)*0.5),J<Q[W]?H=W:X=W}while(X<H)}Eb.binarySearch=AF;function N91($,Q){return $.getValid(Q)}Eb.isChunkedValid=N91;function D91($){function Q(J,Z,X){return $(J[Z],X)}return function(J){let Z=this.data;return AF(Z,this._offsets,J,Q)}}Eb.wrapChunkedCall1=D91;function C91($){let Q;function J(Z,X,W){return $(Z[X],W,Q)}return function(Z,X){let W=this.data;Q=X;let H=AF(W,this._offsets,Z,J);return Q=void 0,H}}Eb.wrapChunkedCall2=C91;function A91($){let Q;function J(Z,X,W){let H=W,F=0,V=0;for(let D=X-1,C=Z.length;++D<C;){let z=Z[D];if(~(F=$(z,Q,H)))return V+F;H=0,V+=z.length}return-1}return function(Z,X){Q=Z;let W=this.data,H=typeof X!=="number"?J(W,0,0):AF(W,this._offsets,X,J);return Q=void 0,H}}Eb.wrapChunkedIndexOf=A91});var BF=o((gb)=>{Object.defineProperty(gb,"__esModule",{value:!0});gb.instance=gb.IndexOfVisitor=void 0;var Lb=$5(),T91=g6(),vb=Z$(),hb=q$(),_b=TJ();class E1 extends T91.Visitor{}gb.IndexOfVisitor=E1;function I91($,Q){return Q===null&&$.length>0?0:-1}function G91($,Q){let{nullBitmap:J}=$;if(!J||$.nullCount<=0)return-1;let Z=0;for(let X of new hb.BitIterator(J,$.offset+(Q||0),$.length,J,hb.getBool)){if(!X)return Z;++Z}return-1}function u1($,Q,J){if(Q===void 0)return-1;if(Q===null)switch($.typeId){case Lb.Type.Union:break;case Lb.Type.Dictionary:break;default:return G91($,J)}let Z=vb.instance.getVisitFn($),X=(0,_b.createElementComparator)(Q);for(let W=(J||0)-1,H=$.length;++W<H;)if(X(Z($,W)))return W;return-1}function xb($,Q,J){let Z=vb.instance.getVisitFn($),X=(0,_b.createElementComparator)(Q);for(let W=(J||0)-1,H=$.length;++W<H;)if(X(Z($,W)))return W;return-1}E1.prototype.visitNull=I91;E1.prototype.visitBool=u1;E1.prototype.visitInt=u1;E1.prototype.visitInt8=u1;E1.prototype.visitInt16=u1;E1.prototype.visitInt32=u1;E1.prototype.visitInt64=u1;E1.prototype.visitUint8=u1;E1.prototype.visitUint16=u1;E1.prototype.visitUint32=u1;E1.prototype.visitUint64=u1;E1.prototype.visitFloat=u1;E1.prototype.visitFloat16=u1;E1.prototype.visitFloat32=u1;E1.prototype.visitFloat64=u1;E1.prototype.visitUtf8=u1;E1.prototype.visitLargeUtf8=u1;E1.prototype.visitBinary=u1;E1.prototype.visitLargeBinary=u1;E1.prototype.visitFixedSizeBinary=u1;E1.prototype.visitDate=u1;E1.prototype.visitDateDay=u1;E1.prototype.visitDateMillisecond=u1;E1.prototype.visitTimestamp=u1;E1.prototype.visitTimestampSecond=u1;E1.prototype.visitTimestampMillisecond=u1;E1.prototype.visitTimestampMicrosecond=u1;E1.prototype.visitTimestampNanosecond=u1;E1.prototype.visitTime=u1;E1.prototype.visitTimeSecond=u1;E1.prototype.visitTimeMillisecond=u1;E1.prototype.visitTimeMicrosecond=u1;E1.prototype.visitTimeNanosecond=u1;E1.prototype.visitDecimal=u1;E1.prototype.visitList=u1;E1.prototype.visitStruct=u1;E1.prototype.visitUnion=u1;E1.prototype.visitDenseUnion=xb;E1.prototype.visitSparseUnion=xb;E1.prototype.visitDictionary=u1;E1.prototype.visitInterval=u1;E1.prototype.visitIntervalDayTime=u1;E1.prototype.visitIntervalYearMonth=u1;E1.prototype.visitDuration=u1;E1.prototype.visitDurationSecond=u1;E1.prototype.visitDurationMillisecond=u1;E1.prototype.visitDurationMicrosecond=u1;E1.prototype.visitDurationNanosecond=u1;E1.prototype.visitFixedSizeList=u1;E1.prototype.visitMap=u1;gb.instance=new E1});var RF=o((mb)=>{Object.defineProperty(mb,"__esModule",{value:!0});mb.instance=mb.IteratorVisitor=void 0;var j91=g6(),L91=$5(),rB=u0(),bb=zF();class j1 extends j91.Visitor{}mb.IteratorVisitor=j1;function y1($){let{type:Q}=$;if($.nullCount===0&&$.stride===1&&(rB.DataType.isInt(Q)&&Q.bitWidth!==64||rB.DataType.isTime(Q)&&Q.bitWidth!==64||rB.DataType.isFloat(Q)&&Q.precision!==L91.Precision.HALF))return new bb.ChunkedIterator($.data.length,(Z)=>{let X=$.data[Z];return X.values.subarray(0,X.length)[Symbol.iterator]()});let J=0;return new bb.ChunkedIterator($.data.length,(Z)=>{let W=$.data[Z].length,H=$.slice(J,J+W);return J+=W,new fb(H)})}class fb{constructor($){this.vector=$,this.index=0}next(){if(this.index<this.vector.length)return{value:this.vector.get(this.index++)};return{done:!0,value:null}}[Symbol.iterator](){return this}}j1.prototype.visitNull=y1;j1.prototype.visitBool=y1;j1.prototype.visitInt=y1;j1.prototype.visitInt8=y1;j1.prototype.visitInt16=y1;j1.prototype.visitInt32=y1;j1.prototype.visitInt64=y1;j1.prototype.visitUint8=y1;j1.prototype.visitUint16=y1;j1.prototype.visitUint32=y1;j1.prototype.visitUint64=y1;j1.prototype.visitFloat=y1;j1.prototype.visitFloat16=y1;j1.prototype.visitFloat32=y1;j1.prototype.visitFloat64=y1;j1.prototype.visitUtf8=y1;j1.prototype.visitLargeUtf8=y1;j1.prototype.visitBinary=y1;j1.prototype.visitLargeBinary=y1;j1.prototype.visitFixedSizeBinary=y1;j1.prototype.visitDate=y1;j1.prototype.visitDateDay=y1;j1.prototype.visitDateMillisecond=y1;j1.prototype.visitTimestamp=y1;j1.prototype.visitTimestampSecond=y1;j1.prototype.visitTimestampMillisecond=y1;j1.prototype.visitTimestampMicrosecond=y1;j1.prototype.visitTimestampNanosecond=y1;j1.prototype.visitTime=y1;j1.prototype.visitTimeSecond=y1;j1.prototype.visitTimeMillisecond=y1;j1.prototype.visitTimeMicrosecond=y1;j1.prototype.visitTimeNanosecond=y1;j1.prototype.visitDecimal=y1;j1.prototype.visitList=y1;j1.prototype.visitStruct=y1;j1.prototype.visitUnion=y1;j1.prototype.visitDenseUnion=y1;j1.prototype.visitSparseUnion=y1;j1.prototype.visitDictionary=y1;j1.prototype.visitInterval=y1;j1.prototype.visitIntervalDayTime=y1;j1.prototype.visitIntervalYearMonth=y1;j1.prototype.visitDuration=y1;j1.prototype.visitDurationSecond=y1;j1.prototype.visitDurationMillisecond=y1;j1.prototype.visitDurationMicrosecond=y1;j1.prototype.visitDurationNanosecond=y1;j1.prototype.visitFixedSizeList=y1;j1.prototype.visitMap=y1;mb.instance=new j1});var B6=o((ab)=>{var ib;Object.defineProperty(ab,"__esModule",{value:!0});ab.makeVector=ab.Vector=void 0;var K8=$5(),db=TJ(),IJ=u0(),b6=J3(),K3=zF(),lb=Z$(),pb=K4(),ub=BF(),v91=RF(),nb={},sb={};class _0{constructor($){var Q,J,Z;let X=$[0]instanceof _0?$.flatMap((H)=>H.data):$;if(X.length===0||X.some((H)=>!(H instanceof b6.Data)))throw TypeError("Vector constructor expects an Array of Data instances.");let W=(Q=X[0])===null||Q===void 0?void 0:Q.type;switch(X.length){case 0:this._offsets=[0];break;case 1:{let{get:H,set:F,indexOf:V}=nb[W.typeId],D=X[0];this.isValid=(C)=>(0,K3.isChunkedValid)(D,C),this.get=(C)=>H(D,C),this.set=(C,z)=>F(D,C,z),this.indexOf=(C)=>V(D,C),this._offsets=[0,D.length];break}default:Object.setPrototypeOf(this,sb[W.typeId]),this._offsets=(0,K3.computeChunkOffsets)(X);break}this.data=X,this.type=W,this.stride=(0,IJ.strideForType)(W),this.numChildren=(Z=(J=W.children)===null||J===void 0?void 0:J.length)!==null&&Z!==void 0?Z:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce(($,Q)=>$+Q.byteLength,0)}get nullable(){return(0,K3.computeChunkNullable)(this.data)}get nullCount(){return(0,K3.computeChunkNullCounts)(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${K8.Type[this.type.typeId]}Vector`}isValid($){return!1}get($){return null}at($){return this.get((0,db.wrapIndex)($,this.length))}set($,Q){return}indexOf($,Q){return-1}includes($,Q){return this.indexOf($,Q)>-1}[Symbol.iterator](){return v91.instance.visit(this)}concat(...$){return new _0(this.data.concat($.flatMap((Q)=>Q.data).flat(Number.POSITIVE_INFINITY)))}slice($,Q){return new _0((0,db.clampRange)(this,$,Q,({data:J,_offsets:Z},X,W)=>(0,K3.sliceChunks)(J,Z,X,W)))}toJSON(){return[...this]}toArray(){let{type:$,data:Q,length:J,stride:Z,ArrayType:X}=this;switch($.typeId){case K8.Type.Int:case K8.Type.Float:case K8.Type.Decimal:case K8.Type.Time:case K8.Type.Timestamp:switch(Q.length){case 0:return new X;case 1:return Q[0].values.subarray(0,J*Z);default:return Q.reduce((W,{values:H,length:F})=>{return W.array.set(H.subarray(0,F*Z),W.offset),W.offset+=F*Z,W},{array:new X(J*Z),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild($){var Q;return this.getChildAt((Q=this.type.children)===null||Q===void 0?void 0:Q.findIndex((J)=>J.name===$))}getChildAt($){if($>-1&&$<this.numChildren)return new _0(this.data.map(({children:Q})=>Q[$]));return null}get isMemoized(){if(IJ.DataType.isDictionary(this.type))return this.data[0].dictionary.isMemoized;return!1}memoize(){if(IJ.DataType.isDictionary(this.type)){let $=new OF(this.data[0].dictionary),Q=this.data.map((J)=>{let Z=J.clone();return Z.dictionary=$,Z});return new _0(Q)}return new OF(this)}unmemoize(){if(IJ.DataType.isDictionary(this.type)&&this.isMemoized){let $=this.data[0].dictionary.unmemoize(),Q=this.data.map((J)=>{let Z=J.clone();return Z.dictionary=$,Z});return new _0(Q)}return this}}ab.Vector=_0;ib=Symbol.toStringTag;_0[ib]=(($)=>{$.type=IJ.DataType.prototype,$.data=[],$.length=0,$.stride=1,$.numChildren=0,$._offsets=new Uint32Array([0]),$[Symbol.isConcatSpreadable]=!0;let Q=Object.keys(K8.Type).map((J)=>K8.Type[J]).filter((J)=>typeof J==="number"&&J!==K8.Type.NONE);for(let J of Q){let Z=lb.instance.getVisitFnByTypeId(J),X=pb.instance.getVisitFnByTypeId(J),W=ub.instance.getVisitFnByTypeId(J);nb[J]={get:Z,set:X,indexOf:W},sb[J]=Object.create($,{["isValid"]:{value:(0,K3.wrapChunkedCall1)(K3.isChunkedValid)},["get"]:{value:(0,K3.wrapChunkedCall1)(lb.instance.getVisitFnByTypeId(J))},["set"]:{value:(0,K3.wrapChunkedCall2)(pb.instance.getVisitFnByTypeId(J))},["indexOf"]:{value:(0,K3.wrapChunkedIndexOf)(ub.instance.getVisitFnByTypeId(J))}})}return"Vector"})(_0.prototype);class OF extends _0{constructor($){super($.data);let Q=this.get,J=this.set,Z=this.slice,X=Array(this.length);Object.defineProperty(this,"get",{value(W){let H=X[W];if(H!==void 0)return H;let F=Q.call(this,W);return X[W]=F,F}}),Object.defineProperty(this,"set",{value(W,H){J.call(this,W,H),X[W]=H}}),Object.defineProperty(this,"slice",{value:(W,H)=>new OF(Z.call(this,W,H))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new _0(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}var Z3=u0();function ob($){if($){if($ instanceof b6.Data)return new _0([$]);if($ instanceof _0)return new _0($.data);if($.type instanceof IJ.DataType)return new _0([(0,b6.makeData)($)]);if(Array.isArray($))return new _0($.flatMap((Q)=>_91(Q)));if(ArrayBuffer.isView($)){if($ instanceof DataView)$=new Uint8Array($.buffer);let Q={offset:0,length:$.length,nullCount:-1,data:$};if($ instanceof Int8Array)return new _0([(0,b6.makeData)(Object.assign(Object.assign({},Q),{type:new Z3.Int8}))]);if($ instanceof Int16Array)return new _0([(0,b6.makeData)(Object.assign(Object.assign({},Q),{type:new Z3.Int16}))]);if($ instanceof Int32Array)return new _0([(0,b6.makeData)(Object.assign(Object.assign({},Q),{type:new Z3.Int32}))]);if($ instanceof BigInt64Array)return new _0([(0,b6.makeData)(Object.assign(Object.assign({},Q),{type:new Z3.Int64}))]);if($ instanceof Uint8Array||$ instanceof Uint8ClampedArray)return new _0([(0,b6.makeData)(Object.assign(Object.assign({},Q),{type:new Z3.Uint8}))]);if($ instanceof Uint16Array)return new _0([(0,b6.makeData)(Object.assign(Object.assign({},Q),{type:new Z3.Uint16}))]);if($ instanceof Uint32Array)return new _0([(0,b6.makeData)(Object.assign(Object.assign({},Q),{type:new Z3.Uint32}))]);if($ instanceof BigUint64Array)return new _0([(0,b6.makeData)(Object.assign(Object.assign({},Q),{type:new Z3.Uint64}))]);if($ instanceof Float32Array)return new _0([(0,b6.makeData)(Object.assign(Object.assign({},Q),{type:new Z3.Float32}))]);if($ instanceof Float64Array)return new _0([(0,b6.makeData)(Object.assign(Object.assign({},Q),{type:new Z3.Float64}))]);throw Error("Unrecognized input")}}throw Error("Unrecognized input")}ab.makeVector=ob;function _91($){return $ instanceof b6.Data?[$]:$ instanceof _0?$.data:ob($).data}});var Qf=o((eb)=>{Object.defineProperty(eb,"__esModule",{value:!0});eb.createIsValidFunction=void 0;var tb=FX();function g91($){if(!$||$.length<=0)return function(X){return!0};let Q="",J=$.filter((Z)=>Z===Z);if(J.length>0)Q=`
    switch (x) {${J.map((Z)=>`
        case ${y91(Z)}:`).join("")}
            return false;
    }`;if($.length!==J.length)Q=`if (x !== x) return false;
${Q}`;return Function("x",`${Q}
return true;`)}eb.createIsValidFunction=g91;function y91($){if(typeof $!=="bigint")return(0,tb.valueToString)($);return`${(0,tb.valueToString)($)}n`}});var X8=o((Xf)=>{Object.defineProperty(Xf,"__esModule",{value:!0});Xf.OffsetsBufferBuilder=Xf.BitmapBufferBuilder=Xf.DataBufferBuilder=Xf.BufferBuilder=void 0;var b91=g5();function tB($,Q){let J=Math.ceil($)*Q-1;return(J-J%64+64||64)/Q}function Jf($,Q=0){return $.length>=Q?$.subarray(0,Q):(0,b91.memcpy)(new $.constructor(Q),$,0)}class eB{constructor($,Q=0,J=1){this.length=Math.ceil(Q/J),this.buffer=new $(this.length),this.stride=J,this.BYTES_PER_ELEMENT=$.BYTES_PER_ELEMENT,this.ArrayType=$}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set($,Q){return this}append($){return this.set(this.length,$)}reserve($){if($>0){this.length+=$;let Q=this.stride,J=this.length*Q,Z=this.buffer.length;if(J>=Z)this._resize(Z===0?tB(J*1,this.BYTES_PER_ELEMENT):tB(J*2,this.BYTES_PER_ELEMENT))}return this}flush($=this.length){$=tB($*this.stride,this.BYTES_PER_ELEMENT);let Q=Jf(this.buffer,$);return this.clear(),Q}clear(){return this.length=0,this.buffer=new this.ArrayType,this}_resize($){return this.buffer=Jf(this.buffer,$)}}Xf.BufferBuilder=eB;class kF extends eB{last(){return this.get(this.length-1)}get($){return this.buffer[$]}set($,Q){return this.reserve($-this.length+1),this.buffer[$*this.stride]=Q,this}}Xf.DataBufferBuilder=kF;class Zf extends kF{constructor(){super(Uint8Array,0,0.125);this.numValid=0}get numInvalid(){return this.length-this.numValid}get($){return this.buffer[$>>3]>>$%8&1}set($,Q){let{buffer:J}=this.reserve($-this.length+1),Z=$>>3,X=$%8,W=J[Z]>>X&1;return Q?W===0&&(J[Z]|=1<<X,++this.numValid):W===1&&(J[Z]&=~(1<<X),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}Xf.BitmapBufferBuilder=Zf;class Kf extends kF{constructor($){super($.OffsetArrayType,1,1)}append($){return this.set(this.length-1,$)}set($,Q){let J=this.length-1,Z=this.reserve($-J+1).buffer;if(J<$++&&J>=0)Z.fill(Z[J],J,$);return Z[$]=Z[$-1]+Q,this}flush($=this.length-1){if($>this.length)this.set($-1,this.BYTES_PER_ELEMENT>4?BigInt(0):0);return super.flush($+1)}}Xf.OffsetsBufferBuilder=Kf});var r0=o((Ff)=>{Object.defineProperty(Ff,"__esModule",{value:!0});Ff.VariableWidthBuilder=Ff.FixedWidthBuilder=Ff.Builder=void 0;var d91=B6(),l91=J3(),Wf=NX(),p91=u0(),u91=Qf(),$R=X8();class X3{static throughNode($){throw Error('"throughNode" not available in this environment')}static throughDOM($){throw Error('"throughDOM" not available in this environment')}constructor({type:$,nullValues:Q}){if(this.length=0,this.finished=!1,this.type=$,this.children=[],this.nullValues=Q,this.stride=(0,p91.strideForType)($),this._nulls=new $R.BitmapBufferBuilder,Q&&Q.length>0)this._isValid=(0,u91.createIsValidFunction)(Q)}toVector(){return new d91.Vector([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let $=0,{_offsets:Q,_values:J,_nulls:Z,_typeIds:X,children:W}=this;return Q&&($+=Q.byteLength),J&&($+=J.byteLength),Z&&($+=Z.byteLength),X&&($+=X.byteLength),W.reduce((H,F)=>H+F.byteLength,$)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let $=0;return this._offsets&&($+=this._offsets.reservedByteLength),this._values&&($+=this._values.reservedByteLength),this._nulls&&($+=this._nulls.reservedByteLength),this._typeIds&&($+=this._typeIds.reservedByteLength),this.children.reduce((Q,J)=>Q+J.reservedByteLength,$)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append($){return this.set(this.length,$)}isValid($){return this._isValid($)}set($,Q){if(this.setValid($,this.isValid(Q)))this.setValue($,Q);return this}setValue($,Q){this._setValue(this,$,Q)}setValid($,Q){return this.length=this._nulls.set($,+Q).length,Q}addChild($,Q=`${this.numChildren}`){throw Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt($){return this.children[$]||null}flush(){let $,Q,J,Z,{type:X,length:W,nullCount:H,_typeIds:F,_offsets:V,_values:D,_nulls:C}=this;if(Q=F===null||F===void 0?void 0:F.flush(W))Z=V===null||V===void 0?void 0:V.flush(W);else if(Z=V===null||V===void 0?void 0:V.flush(W))$=D===null||D===void 0?void 0:D.flush(V.last());else $=D===null||D===void 0?void 0:D.flush(W);if(H>0)J=C===null||C===void 0?void 0:C.flush(W);let z=this.children.map((R)=>R.flush());return this.clear(),(0,l91.makeData)({type:X,length:W,nullCount:H,children:z,child:z[0],data:$,typeIds:Q,nullBitmap:J,valueOffsets:Z})}finish(){this.finished=!0;for(let $ of this.children)$.finish();return this}clear(){var $,Q,J,Z;this.length=0,($=this._nulls)===null||$===void 0||$.clear(),(Q=this._values)===null||Q===void 0||Q.clear(),(J=this._offsets)===null||J===void 0||J.clear(),(Z=this._typeIds)===null||Z===void 0||Z.clear();for(let X of this.children)X.clear();return this}}Ff.Builder=X3;X3.prototype.length=1;X3.prototype.stride=1;X3.prototype.children=null;X3.prototype.finished=!1;X3.prototype.nullValues=null;X3.prototype._isValid=()=>!0;class qf extends X3{constructor($){super($);this._values=new $R.DataBufferBuilder(this.ArrayType,0,this.stride)}setValue($,Q){let J=this._values;return J.reserve($-J.length+1),super.setValue($,Q)}}Ff.FixedWidthBuilder=qf;class Hf extends X3{constructor($){super($);this._pendingLength=0,this._offsets=new $R.OffsetsBufferBuilder($.type)}setValue($,Q){let J=this._pending||(this._pending=new Map),Z=J.get($);Z&&(this._pendingLength-=Z.length),this._pendingLength+=Q instanceof Wf.MapRow?Q[Wf.kKeys].length:Q.length,J.set($,Q)}setValid($,Q){if(!super.setValid($,Q))return(this._pending||(this._pending=new Map)).set($,void 0),!1;return!0}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){let $=this._pending,Q=this._pendingLength;if(this._pendingLength=0,this._pending=void 0,$&&$.size>0)this._flushPending($,Q);return this}}Ff.VariableWidthBuilder=Hf});var QR=o((Nf)=>{Object.defineProperty(Nf,"__esModule",{value:!0});Nf.Block=void 0;class Vf{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock($,Q,J,Z){return $.prep(8,24),$.writeInt64(BigInt(Z!==null&&Z!==void 0?Z:0)),$.pad(4),$.writeInt32(J),$.writeInt64(BigInt(Q!==null&&Q!==void 0?Q:0)),$.offset()}}Nf.Block=Vf});var Rf=o((zf)=>{Object.defineProperty(zf,"__esModule",{value:!0});zf.Footer=void 0;var s91=Z0(),Cf=QR(),o91=XJ(),Af=OH(),a91=bH();class PF{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsFooter($,Q){return(Q||new PF).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsFooter($,Q){return $.setPosition($.position()+s91.SIZE_PREFIX_LENGTH),(Q||new PF).__init($.readInt32($.position())+$.position(),$)}version(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):Af.MetadataVersion.V1}schema($){let Q=this.bb.__offset(this.bb_pos,6);return Q?($||new a91.Schema).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}dictionaries($,Q){let J=this.bb.__offset(this.bb_pos,8);return J?(Q||new Cf.Block).__init(this.bb.__vector(this.bb_pos+J)+$*24,this.bb):null}dictionariesLength(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.__vector_len(this.bb_pos+$):0}recordBatches($,Q){let J=this.bb.__offset(this.bb_pos,10);return J?(Q||new Cf.Block).__init(this.bb.__vector(this.bb_pos+J)+$*24,this.bb):null}recordBatchesLength(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.__vector_len(this.bb_pos+$):0}customMetadata($,Q){let J=this.bb.__offset(this.bb_pos,12);return J?(Q||new o91.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}customMetadataLength(){let $=this.bb.__offset(this.bb_pos,12);return $?this.bb.__vector_len(this.bb_pos+$):0}static startFooter($){$.startObject(5)}static addVersion($,Q){$.addFieldInt16(0,Q,Af.MetadataVersion.V1)}static addSchema($,Q){$.addFieldOffset(1,Q,0)}static addDictionaries($,Q){$.addFieldOffset(2,Q,0)}static startDictionariesVector($,Q){$.startVector(24,Q,8)}static addRecordBatches($,Q){$.addFieldOffset(3,Q,0)}static startRecordBatchesVector($,Q){$.startVector(24,Q,8)}static addCustomMetadata($,Q){$.addFieldOffset(4,Q,0)}static createCustomMetadataVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startCustomMetadataVector($,Q){$.startVector(4,Q,4)}static endFooter($){return $.endObject()}static finishFooterBuffer($,Q){$.finish(Q)}static finishSizePrefixedFooterBuffer($,Q){$.finish(Q,void 0,!0)}}zf.Footer=PF});var f6=o((Of)=>{Object.defineProperty(Of,"__esModule",{value:!0});Of.Field=Of.Schema=void 0;var r91=$5(),t91=u0();class C7{constructor($=[],Q,J,Z=r91.MetadataVersion.V5){if(this.fields=$||[],this.metadata=Q||new Map,!J)J=JR(this.fields);this.dictionaries=J,this.metadataVersion=Z}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(($)=>$.name)}toString(){return`Schema<{ ${this.fields.map(($,Q)=>`${Q}: ${$}`).join(", ")} }>`}select($){let Q=new Set($),J=this.fields.filter((Z)=>Q.has(Z.name));return new C7(J,this.metadata)}selectAt($){let Q=$.map((J)=>this.fields[J]).filter(Boolean);return new C7(Q,this.metadata)}assign(...$){let Q=$[0]instanceof C7?$[0]:Array.isArray($[0])?new C7($[0]):new C7($),J=[...this.fields],Z=MF(MF(new Map,this.metadata),Q.metadata),X=Q.fields.filter((H)=>{let F=J.findIndex((V)=>V.name===H.name);return~F?(J[F]=H.clone({metadata:MF(MF(new Map,J[F].metadata),H.metadata)}))&&!1:!0}),W=JR(X,new Map);return new C7([...J,...X],Z,new Map([...this.dictionaries,...W]))}}Of.Schema=C7;C7.prototype.fields=null;C7.prototype.metadata=null;C7.prototype.dictionaries=null;class I9{static new(...$){let[Q,J,Z,X]=$;if($[0]&&typeof $[0]==="object")({name:Q}=$[0]),J===void 0&&(J=$[0].type),Z===void 0&&(Z=$[0].nullable),X===void 0&&(X=$[0].metadata);return new I9(`${Q}`,J,Z,X)}constructor($,Q,J=!1,Z){this.name=$,this.type=Q,this.nullable=J,this.metadata=Z||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...$){let[Q,J,Z,X]=$;return!$[0]||typeof $[0]!=="object"?[Q=this.name,J=this.type,Z=this.nullable,X=this.metadata]=$:{name:Q=this.name,type:J=this.type,nullable:Z=this.nullable,metadata:X=this.metadata}=$[0],I9.new(Q,J,Z,X)}}Of.Field=I9;I9.prototype.type=null;I9.prototype.name=null;I9.prototype.nullable=null;I9.prototype.metadata=null;function MF($,Q){return new Map([...$||new Map,...Q||new Map])}function JR($,Q=new Map){for(let J=-1,Z=$.length;++J<Z;){let W=$[J].type;if(t91.DataType.isDictionary(W)){if(!Q.has(W.id))Q.set(W.id,W.dictionary);else if(Q.get(W.id)!==W.dictionary)throw Error("Cannot create Schema containing two different dictionaries with the same Id")}if(W.children&&W.children.length>0)JR(W.children,Q)}return Q}});var KR=o((If)=>{Object.defineProperty(If,"__esModule",{value:!0});If.FileBlock=If.Footer=void 0;var $21=QR(),Y3=Rf(),Sf=Z0(),Q21=Sf.Builder,J21=Sf.ByteBuffer,Pf=f6(),Mf=$5(),Z21=g5(),wf=k9();class ZR{static decode($){$=new J21((0,Z21.toUint8Array)($));let Q=Y3.Footer.getRootAsFooter($),J=Pf.Schema.decode(Q.schema(),new Map,Q.version());return new Tf(J,Q)}static encode($){let Q=new Q21,J=Pf.Schema.encode(Q,$.schema);Y3.Footer.startRecordBatchesVector(Q,$.numRecordBatches);for(let W of[...$.recordBatches()].slice().reverse())H$.encode(Q,W);let Z=Q.endVector();Y3.Footer.startDictionariesVector(Q,$.numDictionaries);for(let W of[...$.dictionaryBatches()].slice().reverse())H$.encode(Q,W);let X=Q.endVector();return Y3.Footer.startFooter(Q),Y3.Footer.addSchema(Q,J),Y3.Footer.addVersion(Q,Mf.MetadataVersion.V5),Y3.Footer.addRecordBatches(Q,Z),Y3.Footer.addDictionaries(Q,X),Y3.Footer.finishFooterBuffer(Q,Y3.Footer.endFooter(Q)),Q.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor($,Q=Mf.MetadataVersion.V5,J,Z){this.schema=$,this.version=Q,J&&(this._recordBatches=J),Z&&(this._dictionaryBatches=Z)}*recordBatches(){for(let $,Q=-1,J=this.numRecordBatches;++Q<J;)if($=this.getRecordBatch(Q))yield $}*dictionaryBatches(){for(let $,Q=-1,J=this.numDictionaries;++Q<J;)if($=this.getDictionaryBatch(Q))yield $}getRecordBatch($){return $>=0&&$<this.numRecordBatches&&this._recordBatches[$]||null}getDictionaryBatch($){return $>=0&&$<this.numDictionaries&&this._dictionaryBatches[$]||null}}If.Footer=ZR;class Tf extends ZR{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor($,Q){super($,Q.version());this._footer=Q}getRecordBatch($){if($>=0&&$<this.numRecordBatches){let Q=this._footer.recordBatches($);if(Q)return H$.decode(Q)}return null}getDictionaryBatch($){if($>=0&&$<this.numDictionaries){let Q=this._footer.dictionaries($);if(Q)return H$.decode(Q)}return null}}class H${static decode($){return new H$($.metaDataLength(),$.bodyLength(),$.offset())}static encode($,Q){let{metaDataLength:J}=Q,Z=BigInt(Q.offset),X=BigInt(Q.bodyLength);return $21.Block.createBlock($,Z,J,X)}constructor($,Q,J){this.metaDataLength=$,this.offset=(0,wf.bigIntToNumber)(J),this.bodyLength=(0,wf.bigIntToNumber)(Q)}}If.FileBlock=H$});var BX=o((hf)=>{Object.defineProperty(hf,"__esModule",{value:!0});hf.AsyncQueue=hf.ReadableInterop=hf.ArrowJSON=hf.ITERATOR_DONE=void 0;var AX=(_6(),Q4(v6)),Ef=WX();hf.ITERATOR_DONE=Object.freeze({done:!0,value:void 0});class jf{constructor($){this._json=$}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}hf.ArrowJSON=jf;class XR{tee(){return this._getDOMStream().tee()}pipe($,Q){return this._getNodeStream().pipe($,Q)}pipeTo($,Q){return this._getDOMStream().pipeTo($,Q)}pipeThrough($,Q){return this._getDOMStream().pipeThrough($,Q)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}hf.ReadableInterop=XR;class Lf extends XR{constructor(){super();this._values=[],this.resolvers=[],this._closedPromise=new Promise(($)=>this._closedPromiseResolve=$)}get closed(){return this._closedPromise}cancel($){return AX.__awaiter(this,void 0,void 0,function*(){yield this.return($)})}write($){if(this._ensureOpen())this.resolvers.length<=0?this._values.push($):this.resolvers.shift().resolve({done:!1,value:$})}abort($){if(this._closedPromiseResolve)this.resolvers.length<=0?this._error={error:$}:this.resolvers.shift().reject({done:!0,value:$})}close(){if(this._closedPromiseResolve){let{resolvers:$}=this;while($.length>0)$.shift().resolve(hf.ITERATOR_DONE);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream($){return Ef.default.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,$)}toNodeStream($){return Ef.default.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,$)}throw($){return AX.__awaiter(this,void 0,void 0,function*(){return yield this.abort($),hf.ITERATOR_DONE})}return($){return AX.__awaiter(this,void 0,void 0,function*(){return yield this.close(),hf.ITERATOR_DONE})}read($){return AX.__awaiter(this,void 0,void 0,function*(){return(yield this.next($,"read")).value})}peek($){return AX.__awaiter(this,void 0,void 0,function*(){return(yield this.next($,"peek")).value})}next(...$){if(this._values.length>0)return Promise.resolve({done:!1,value:this._values.shift()});else if(this._error)return Promise.reject({done:!0,value:this._error.error});else if(!this._closedPromiseResolve)return Promise.resolve(hf.ITERATOR_DONE);else return new Promise((Q,J)=>{this.resolvers.push({resolve:Q,reject:J})})}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw Error("AsyncQueue is closed")}}hf.AsyncQueue=Lf});var L9=o((yf)=>{Object.defineProperty(yf,"__esModule",{value:!0});yf.AsyncByteStream=yf.ByteStream=yf.AsyncByteQueue=void 0;var j9=(_6(),Q4(v6)),G9=WX(),_f=F9(),RX=BX(),YR=g5(),GJ=U9();class WR extends RX.AsyncQueue{write($){if(($=(0,YR.toUint8Array)($)).byteLength>0)return super.write($)}toString($=!1){return $?(0,_f.decodeUtf8)(this.toUint8Array(!0)):this.toUint8Array(!1).then(_f.decodeUtf8)}toUint8Array($=!1){return $?(0,YR.joinUint8Arrays)(this._values)[0]:(()=>j9.__awaiter(this,void 0,void 0,function*(){var Q,J,Z,X;let W=[],H=0;try{for(var F=!0,V=j9.__asyncValues(this),D;D=yield V.next(),Q=D.done,!Q;F=!0){X=D.value,F=!1;let C=X;W.push(C),H+=C.byteLength}}catch(C){J={error:C}}finally{try{if(!F&&!Q&&(Z=V.return))yield Z.call(V)}finally{if(J)throw J.error}}return(0,YR.joinUint8Arrays)(W,H)[0]}))()}}yf.AsyncByteQueue=WR;class xf{constructor($){if($)this.source=new gf(G9.default.fromIterable($))}[Symbol.iterator](){return this}next($){return this.source.next($)}throw($){return this.source.throw($)}return($){return this.source.return($)}peek($){return this.source.peek($)}read($){return this.source.read($)}}yf.ByteStream=xf;class qR{constructor($){if($ instanceof qR)this.source=$.source;else if($ instanceof WR)this.source=new E9(G9.default.fromAsyncIterable($));else if((0,GJ.isReadableNodeStream)($))this.source=new E9(G9.default.fromNodeStream($));else if((0,GJ.isReadableDOMStream)($))this.source=new E9(G9.default.fromDOMStream($));else if((0,GJ.isFetchResponse)($))this.source=new E9(G9.default.fromDOMStream($.body));else if((0,GJ.isIterable)($))this.source=new E9(G9.default.fromIterable($));else if((0,GJ.isPromise)($))this.source=new E9(G9.default.fromAsyncIterable($));else if((0,GJ.isAsyncIterable)($))this.source=new E9(G9.default.fromAsyncIterable($))}[Symbol.asyncIterator](){return this}next($){return this.source.next($)}throw($){return this.source.throw($)}return($){return this.source.return($)}get closed(){return this.source.closed}cancel($){return this.source.cancel($)}peek($){return this.source.peek($)}read($){return this.source.read($)}}yf.AsyncByteStream=qR;class gf{constructor($){this.source=$}cancel($){this.return($)}peek($){return this.next($,"peek").value}read($){return this.next($,"read").value}next($,Q="read"){return this.source.next({cmd:Q,size:$})}throw($){return Object.create(this.source.throw&&this.source.throw($)||RX.ITERATOR_DONE)}return($){return Object.create(this.source.return&&this.source.return($)||RX.ITERATOR_DONE)}}class E9{constructor($){this.source=$,this._closedPromise=new Promise((Q)=>this._closedPromiseResolve=Q)}cancel($){return j9.__awaiter(this,void 0,void 0,function*(){yield this.return($)})}get closed(){return this._closedPromise}read($){return j9.__awaiter(this,void 0,void 0,function*(){return(yield this.next($,"read")).value})}peek($){return j9.__awaiter(this,void 0,void 0,function*(){return(yield this.next($,"peek")).value})}next($){return j9.__awaiter(this,arguments,void 0,function*(Q,J="read"){return yield this.source.next({cmd:J,size:Q})})}throw($){return j9.__awaiter(this,void 0,void 0,function*(){let Q=this.source.throw&&(yield this.source.throw($))||RX.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(Q)})}return($){return j9.__awaiter(this,void 0,void 0,function*(){let Q=this.source.return&&(yield this.source.return($))||RX.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(Q)})}}});var HR=o((df)=>{Object.defineProperty(df,"__esModule",{value:!0});df.AsyncRandomAccessFile=df.RandomAccessFile=void 0;var h9=(_6(),Q4(v6)),ff=L9(),H21=g5();class mf extends ff.ByteStream{constructor($,Q){super();this.position=0,this.buffer=(0,H21.toUint8Array)($),this.size=Q===void 0?this.buffer.byteLength:Q}readInt32($){let{buffer:Q,byteOffset:J}=this.readAt($,4);return new DataView(Q,J).getInt32(0,!0)}seek($){return this.position=Math.min($,this.size),$<this.size}read($){let{buffer:Q,size:J,position:Z}=this;if(Q&&Z<J){if(typeof $!=="number")$=Number.POSITIVE_INFINITY;return this.position=Math.min(J,Z+Math.min(J-Z,$)),Q.subarray(Z,this.position)}return null}readAt($,Q){let J=this.buffer,Z=Math.min(this.size,$+Q);return J?J.subarray($,Z):new Uint8Array(Q)}close(){this.buffer&&(this.buffer=null)}throw($){return this.close(),{done:!0,value:$}}return($){return this.close(),{done:!0,value:$}}}df.RandomAccessFile=mf;class cf extends ff.AsyncByteStream{constructor($,Q){super();if(this.position=0,this._handle=$,typeof Q==="number")this.size=Q;else this._pending=(()=>h9.__awaiter(this,void 0,void 0,function*(){this.size=(yield $.stat()).size,delete this._pending}))()}readInt32($){return h9.__awaiter(this,void 0,void 0,function*(){let{buffer:Q,byteOffset:J}=yield this.readAt($,4);return new DataView(Q,J).getInt32(0,!0)})}seek($){return h9.__awaiter(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min($,this.size),$<this.size})}read($){return h9.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:Q,size:J,position:Z}=this;if(Q&&Z<J){if(typeof $!=="number")$=Number.POSITIVE_INFINITY;let X=Z,W=0,H=0,F=Math.min(J,X+Math.min(J-X,$)),V=new Uint8Array(Math.max(0,(this.position=F)-X));while((X+=H)<F&&(W+=H)<V.byteLength)({bytesRead:H}=yield Q.read(V,W,V.byteLength-W,X));return V}return null})}readAt($,Q){return h9.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:J,size:Z}=this;if(J&&$+Q<Z){let X=Math.min(Z,$+Q),W=new Uint8Array(X-$);return(yield J.read(W,0,Q,$)).buffer}return new Uint8Array(Q)})}close(){return h9.__awaiter(this,void 0,void 0,function*(){let $=this._handle;this._handle=null,$&&(yield $.close())})}throw($){return h9.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:$}})}return($){return h9.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:$}})}}df.AsyncRandomAccessFile=cf});var UR=o((pf)=>{Object.defineProperty(pf,"__esModule",{value:!0});pf.Int128=pf.Int64=pf.Uint64=pf.BaseInt64=void 0;var U21=65536;function EJ($){if($<0)$=4294967295+$+1;return`0x${$.toString(16)}`}var jJ=8,FR=[1,10,100,1000,1e4,1e5,1e6,1e7,1e8];class wF{constructor($){this.buffer=$}high(){return this.buffer[1]}low(){return this.buffer[0]}_times($){let Q=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),J=new Uint32Array([$.buffer[1]>>>16,$.buffer[1]&65535,$.buffer[0]>>>16,$.buffer[0]&65535]),Z=Q[3]*J[3];this.buffer[0]=Z&65535;let X=Z>>>16;return Z=Q[2]*J[3],X+=Z,Z=Q[3]*J[2]>>>0,X+=Z,this.buffer[0]+=X<<16,this.buffer[1]=X>>>0<Z?U21:0,this.buffer[1]+=X>>>16,this.buffer[1]+=Q[1]*J[3]+Q[2]*J[2]+Q[3]*J[1],this.buffer[1]+=Q[0]*J[3]+Q[1]*J[2]+Q[2]*J[1]+Q[3]*J[0]<<16,this}_plus($){let Q=this.buffer[0]+$.buffer[0]>>>0;if(this.buffer[1]+=$.buffer[1],Q<this.buffer[0]>>>0)++this.buffer[1];this.buffer[0]=Q}lessThan($){return this.buffer[1]<$.buffer[1]||this.buffer[1]===$.buffer[1]&&this.buffer[0]<$.buffer[0]}equals($){return this.buffer[1]===$.buffer[1]&&this.buffer[0]==$.buffer[0]}greaterThan($){return $.lessThan(this)}hex(){return`${EJ(this.buffer[1])} ${EJ(this.buffer[0])}`}}pf.BaseInt64=wF;class I0 extends wF{times($){return this._times($),this}plus($){return this._plus($),this}static from($,Q=new Uint32Array(2)){return I0.fromString(typeof $==="string"?$:$.toString(),Q)}static fromNumber($,Q=new Uint32Array(2)){return I0.fromString($.toString(),Q)}static fromString($,Q=new Uint32Array(2)){let J=$.length,Z=new I0(Q);for(let X=0;X<J;){let W=jJ<J-X?jJ:J-X,H=new I0(new Uint32Array([Number.parseInt($.slice(X,X+W),10),0])),F=new I0(new Uint32Array([FR[W],0]));Z.times(F),Z.plus(H),X+=W}return Z}static convertArray($){let Q=new Uint32Array($.length*2);for(let J=-1,Z=$.length;++J<Z;)I0.from($[J],new Uint32Array(Q.buffer,Q.byteOffset+2*J*4,2));return Q}static multiply($,Q){return new I0(new Uint32Array($.buffer)).times(Q)}static add($,Q){return new I0(new Uint32Array($.buffer)).plus(Q)}}pf.Uint64=I0;class j4 extends wF{negate(){if(this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0)++this.buffer[1];return this}times($){return this._times($),this}plus($){return this._plus($),this}lessThan($){let Q=this.buffer[1]<<0,J=$.buffer[1]<<0;return Q<J||Q===J&&this.buffer[0]<$.buffer[0]}static from($,Q=new Uint32Array(2)){return j4.fromString(typeof $==="string"?$:$.toString(),Q)}static fromNumber($,Q=new Uint32Array(2)){return j4.fromString($.toString(),Q)}static fromString($,Q=new Uint32Array(2)){let J=$.startsWith("-"),Z=$.length,X=new j4(Q);for(let W=J?1:0;W<Z;){let H=jJ<Z-W?jJ:Z-W,F=new j4(new Uint32Array([Number.parseInt($.slice(W,W+H),10),0])),V=new j4(new Uint32Array([FR[H],0]));X.times(V),X.plus(F),W+=H}return J?X.negate():X}static convertArray($){let Q=new Uint32Array($.length*2);for(let J=-1,Z=$.length;++J<Z;)j4.from($[J],new Uint32Array(Q.buffer,Q.byteOffset+2*J*4,2));return Q}static multiply($,Q){return new j4(new Uint32Array($.buffer)).times(Q)}static add($,Q){return new j4(new Uint32Array($.buffer)).plus(Q)}}pf.Int64=j4;class W3{constructor($){this.buffer=$}high(){return new j4(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new j4(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){if(this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0)++this.buffer[1];if(this.buffer[1]==0)++this.buffer[2];if(this.buffer[2]==0)++this.buffer[3];return this}times($){let Q=new I0(new Uint32Array([this.buffer[3],0])),J=new I0(new Uint32Array([this.buffer[2],0])),Z=new I0(new Uint32Array([this.buffer[1],0])),X=new I0(new Uint32Array([this.buffer[0],0])),W=new I0(new Uint32Array([$.buffer[3],0])),H=new I0(new Uint32Array([$.buffer[2],0])),F=new I0(new Uint32Array([$.buffer[1],0])),V=new I0(new Uint32Array([$.buffer[0],0])),D=I0.multiply(X,V);this.buffer[0]=D.low();let C=new I0(new Uint32Array([D.high(),0]));return D=I0.multiply(Z,V),C.plus(D),D=I0.multiply(X,F),C.plus(D),this.buffer[1]=C.low(),this.buffer[3]=C.lessThan(D)?1:0,this.buffer[2]=C.high(),new I0(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(I0.multiply(J,V)).plus(I0.multiply(Z,F)).plus(I0.multiply(X,H)),this.buffer[3]+=I0.multiply(Q,V).plus(I0.multiply(J,F)).plus(I0.multiply(Z,H)).plus(I0.multiply(X,W)).low(),this}plus($){let Q=new Uint32Array(4);if(Q[3]=this.buffer[3]+$.buffer[3]>>>0,Q[2]=this.buffer[2]+$.buffer[2]>>>0,Q[1]=this.buffer[1]+$.buffer[1]>>>0,Q[0]=this.buffer[0]+$.buffer[0]>>>0,Q[0]<this.buffer[0]>>>0)++Q[1];if(Q[1]<this.buffer[1]>>>0)++Q[2];if(Q[2]<this.buffer[2]>>>0)++Q[3];return this.buffer[3]=Q[3],this.buffer[2]=Q[2],this.buffer[1]=Q[1],this.buffer[0]=Q[0],this}hex(){return`${EJ(this.buffer[3])} ${EJ(this.buffer[2])} ${EJ(this.buffer[1])} ${EJ(this.buffer[0])}`}static multiply($,Q){return new W3(new Uint32Array($.buffer)).times(Q)}static add($,Q){return new W3(new Uint32Array($.buffer)).plus(Q)}static from($,Q=new Uint32Array(4)){return W3.fromString(typeof $==="string"?$:$.toString(),Q)}static fromNumber($,Q=new Uint32Array(4)){return W3.fromString($.toString(),Q)}static fromString($,Q=new Uint32Array(4)){let J=$.startsWith("-"),Z=$.length,X=new W3(Q);for(let W=J?1:0;W<Z;){let H=jJ<Z-W?jJ:Z-W,F=new W3(new Uint32Array([Number.parseInt($.slice(W,W+H),10),0,0,0])),V=new W3(new Uint32Array([FR[H],0,0,0]));X.times(V),X.plus(F),W+=H}return J?X.negate():X}static convertArray($){let Q=new Uint32Array($.length*4);for(let J=-1,Z=$.length;++J<Z;)W3.from($[J],new Uint32Array(Q.buffer,Q.byteOffset+16*J,4));return Q}}pf.Int128=W3});var rf=o((of)=>{Object.defineProperty(of,"__esModule",{value:!0});of.JSONVectorLoader=of.VectorLoader=void 0;var Y5=J3(),C21=f6(),L4=u0(),A21=g6(),nf=q$(),z21=F9(),SF=UR(),TF=$5(),q3=g5();class VR extends A21.Visitor{constructor($,Q,J,Z,X=TF.MetadataVersion.V5){super();this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=$,this.nodes=Q,this.buffers=J,this.dictionaries=Z,this.metadataVersion=X}visit($){return super.visit($ instanceof C21.Field?$.type:$)}visitNull($,{length:Q}=this.nextFieldNode()){return(0,Y5.makeData)({type:$,length:Q})}visitBool($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Y5.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitInt($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Y5.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitFloat($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Y5.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitUtf8($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Y5.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),valueOffsets:this.readOffsets($),data:this.readData($)})}visitLargeUtf8($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Y5.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),valueOffsets:this.readOffsets($),data:this.readData($)})}visitBinary($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Y5.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),valueOffsets:this.readOffsets($),data:this.readData($)})}visitLargeBinary($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Y5.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),valueOffsets:this.readOffsets($),data:this.readData($)})}visitFixedSizeBinary($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Y5.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitDate($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Y5.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitTimestamp($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Y5.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitTime($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Y5.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitDecimal($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Y5.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitList($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Y5.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),valueOffsets:this.readOffsets($),child:this.visit($.children[0])})}visitStruct($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Y5.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),children:this.visitMany($.children)})}visitUnion($,{length:Q,nullCount:J}=this.nextFieldNode()){if(this.metadataVersion<TF.MetadataVersion.V5)this.readNullBitmap($,J);return $.mode===TF.UnionMode.Sparse?this.visitSparseUnion($,{length:Q,nullCount:J}):this.visitDenseUnion($,{length:Q,nullCount:J})}visitDenseUnion($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Y5.makeData)({type:$,length:Q,nullCount:J,typeIds:this.readTypeIds($),valueOffsets:this.readOffsets($),children:this.visitMany($.children)})}visitSparseUnion($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Y5.makeData)({type:$,length:Q,nullCount:J,typeIds:this.readTypeIds($),children:this.visitMany($.children)})}visitDictionary($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Y5.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($.indices),dictionary:this.readDictionary($)})}visitInterval($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Y5.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitDuration($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Y5.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitFixedSizeList($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Y5.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),child:this.visit($.children[0])})}visitMap($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Y5.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),valueOffsets:this.readOffsets($),child:this.visit($.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap($,Q,J=this.nextBufferRange()){return Q>0&&this.readData($,J)||new Uint8Array(0)}readOffsets($,Q){return this.readData($,Q)}readTypeIds($,Q){return this.readData($,Q)}readData($,{length:Q,offset:J}=this.nextBufferRange()){return this.bytes.subarray(J,J+Q)}readDictionary($){return this.dictionaries.get($.id)}}of.VectorLoader=VR;class sf extends VR{constructor($,Q,J,Z,X){super(new Uint8Array(0),Q,J,Z,X);this.sources=$}readNullBitmap($,Q,{offset:J}=this.nextBufferRange()){return Q<=0?new Uint8Array(0):(0,nf.packBools)(this.sources[J])}readOffsets($,{offset:Q}=this.nextBufferRange()){return(0,q3.toArrayBufferView)(Uint8Array,(0,q3.toArrayBufferView)($.OffsetArrayType,this.sources[Q]))}readTypeIds($,{offset:Q}=this.nextBufferRange()){return(0,q3.toArrayBufferView)(Uint8Array,(0,q3.toArrayBufferView)($.ArrayType,this.sources[Q]))}readData($,{offset:Q}=this.nextBufferRange()){let{sources:J}=this;if(L4.DataType.isTimestamp($))return(0,q3.toArrayBufferView)(Uint8Array,SF.Int64.convertArray(J[Q]));else if((L4.DataType.isInt($)||L4.DataType.isTime($))&&$.bitWidth===64||L4.DataType.isDuration($))return(0,q3.toArrayBufferView)(Uint8Array,SF.Int64.convertArray(J[Q]));else if(L4.DataType.isDate($)&&$.unit===TF.DateUnit.MILLISECOND)return(0,q3.toArrayBufferView)(Uint8Array,SF.Int64.convertArray(J[Q]));else if(L4.DataType.isDecimal($))return(0,q3.toArrayBufferView)(Uint8Array,SF.Int128.convertArray(J[Q]));else if(L4.DataType.isBinary($)||L4.DataType.isLargeBinary($)||L4.DataType.isFixedSizeBinary($))return B21(J[Q]);else if(L4.DataType.isBool($))return(0,nf.packBools)(J[Q]);else if(L4.DataType.isUtf8($)||L4.DataType.isLargeUtf8($))return(0,z21.encodeUtf8)(J[Q].join(""));return(0,q3.toArrayBufferView)(Uint8Array,(0,q3.toArrayBufferView)($.ArrayType,J[Q].map((Z)=>+Z)))}}of.JSONVectorLoader=sf;function B21($){let Q=$.join(""),J=new Uint8Array(Q.length/2);for(let Z=0;Z<Q.length;Z+=2)J[Z>>1]=Number.parseInt(Q.slice(Z,Z+2),16);return J}});var IF=o((ef)=>{Object.defineProperty(ef,"__esModule",{value:!0});ef.BinaryBuilder=void 0;var O21=X8(),k21=r0(),P21=g5();class tf extends k21.VariableWidthBuilder{constructor($){super($);this._values=new O21.BufferBuilder(Uint8Array)}get byteLength(){let $=this._pendingLength+this.length*4;return this._offsets&&($+=this._offsets.byteLength),this._values&&($+=this._values.byteLength),this._nulls&&($+=this._nulls.byteLength),$}setValue($,Q){return super.setValue($,(0,P21.toUint8Array)(Q))}_flushPending($,Q){let J=this._offsets,Z=this._values.reserve(Q).buffer,X=0;for(let[W,H]of $)if(H===void 0)J.set(W,0);else{let F=H.length;Z.set(H,X),J.set(W,F),X+=F}}}ef.BinaryBuilder=tf});var GF=o((Jm)=>{Object.defineProperty(Jm,"__esModule",{value:!0});Jm.LargeBinaryBuilder=void 0;var M21=g5(),w21=X8(),S21=r0();class Qm extends S21.VariableWidthBuilder{constructor($){super($);this._values=new w21.BufferBuilder(Uint8Array)}get byteLength(){let $=this._pendingLength+this.length*4;return this._offsets&&($+=this._offsets.byteLength),this._values&&($+=this._values.byteLength),this._nulls&&($+=this._nulls.byteLength),$}setValue($,Q){return super.setValue($,(0,M21.toUint8Array)(Q))}_flushPending($,Q){let J=this._offsets,Z=this._values.reserve(Q).buffer,X=0;for(let[W,H]of $)if(H===void 0)J.set(W,BigInt(0));else{let F=H.length;Z.set(H,X),J.set(W,BigInt(F)),X+=F}}}Jm.LargeBinaryBuilder=Qm});var NR=o((Xm)=>{Object.defineProperty(Xm,"__esModule",{value:!0});Xm.BoolBuilder=void 0;var T21=X8(),I21=r0();class Km extends I21.Builder{constructor($){super($);this._values=new T21.BitmapBufferBuilder}setValue($,Q){this._values.set($,+Q)}}Xm.BoolBuilder=Km});var zR=o((Wm)=>{Object.defineProperty(Wm,"__esModule",{value:!0});Wm.DateMillisecondBuilder=Wm.DateDayBuilder=Wm.DateBuilder=void 0;var G21=r0(),DR=K4();class OX extends G21.FixedWidthBuilder{}Wm.DateBuilder=OX;OX.prototype._setValue=DR.setDate;class CR extends OX{}Wm.DateDayBuilder=CR;CR.prototype._setValue=DR.setDateDay;class AR extends OX{}Wm.DateMillisecondBuilder=AR;AR.prototype._setValue=DR.setDateMillisecond});var RR=o((Hm)=>{Object.defineProperty(Hm,"__esModule",{value:!0});Hm.DecimalBuilder=void 0;var L21=r0(),h21=K4();class BR extends L21.FixedWidthBuilder{}Hm.DecimalBuilder=BR;BR.prototype._setValue=h21.setDecimal});var OR=o((Nm)=>{Object.defineProperty(Nm,"__esModule",{value:!0});Nm.DictionaryBuilder=void 0;var v21=u0(),_21=r0(),Um=kX();class Vm extends _21.Builder{constructor({type:$,nullValues:Q,dictionaryHashFunction:J}){super({type:new v21.Dictionary($.dictionary,$.indices,$.id,$.isOrdered)});if(this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=(0,Um.makeBuilder)({type:this.type.indices,nullValues:Q}),this.dictionary=(0,Um.makeBuilder)({type:this.type.dictionary,nullValues:null}),typeof J==="function")this.valueToKey=J}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid($){return this.indices.isValid($)}setValid($,Q){let J=this.indices;return Q=J.setValid($,Q),this.length=J.length,Q}setValue($,Q){let J=this._keysToIndices,Z=this.valueToKey(Q),X=J[Z];if(X===void 0)J[Z]=X=this._dictionaryOffset+this.dictionary.append(Q).length-1;return this.indices.setValue($,X)}flush(){let $=this.type,Q=this._dictionary,J=this.dictionary.toVector(),Z=this.indices.flush().clone($);return Z.dictionary=Q?Q.concat(J):J,this.finished||(this._dictionaryOffset+=J.length),this._dictionary=Z.dictionary,this.clear(),Z}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey($){return typeof $==="string"?$:`${$}`}}Nm.DictionaryBuilder=Vm});var PR=o((Cm)=>{Object.defineProperty(Cm,"__esModule",{value:!0});Cm.FixedSizeBinaryBuilder=void 0;var x21=r0(),g21=K4();class kR extends x21.FixedWidthBuilder{}Cm.FixedSizeBinaryBuilder=kR;kR.prototype._setValue=g21.setFixedSizeBinary});var MR=o((Bm)=>{Object.defineProperty(Bm,"__esModule",{value:!0});Bm.FixedSizeListBuilder=void 0;var y21=f6(),b21=r0(),f21=u0();class zm extends b21.Builder{setValue($,Q){let[J]=this.children,Z=$*this.stride;for(let X=-1,W=Q.length;++X<W;)J.set(Z+X,Q[X])}addChild($,Q="0"){if(this.numChildren>0)throw Error("FixedSizeListBuilder can only have one child.");let J=this.children.push($);return this.type=new f21.FixedSizeList(this.type.listSize,new y21.Field(Q,$.type,!0)),J}}Bm.FixedSizeListBuilder=zm});var wR=o((Mm)=>{Object.defineProperty(Mm,"__esModule",{value:!0});Mm.Float64Builder=Mm.Float32Builder=Mm.Float16Builder=Mm.FloatBuilder=void 0;var m21=VX(),c21=r0();class PX extends c21.FixedWidthBuilder{setValue($,Q){this._values.set($,Q)}}Mm.FloatBuilder=PX;class Om extends PX{setValue($,Q){super.setValue($,(0,m21.float64ToUint16)(Q))}}Mm.Float16Builder=Om;class km extends PX{}Mm.Float32Builder=km;class Pm extends PX{}Mm.Float64Builder=Pm});var GR=o((Sm)=>{Object.defineProperty(Sm,"__esModule",{value:!0});Sm.IntervalYearMonthBuilder=Sm.IntervalDayTimeBuilder=Sm.IntervalBuilder=void 0;var u21=r0(),SR=K4();class MX extends u21.FixedWidthBuilder{}Sm.IntervalBuilder=MX;MX.prototype._setValue=SR.setIntervalValue;class TR extends MX{}Sm.IntervalDayTimeBuilder=TR;TR.prototype._setValue=SR.setIntervalDayTime;class IR extends MX{}Sm.IntervalYearMonthBuilder=IR;IR.prototype._setValue=SR.setIntervalYearMonth});var vR=o((Im)=>{Object.defineProperty(Im,"__esModule",{value:!0});Im.DurationNanosecondBuilder=Im.DurationMicrosecondBuilder=Im.DurationMillisecondBuilder=Im.DurationSecondBuilder=Im.DurationBuilder=void 0;var s21=r0(),wX=K4();class F$ extends s21.FixedWidthBuilder{}Im.DurationBuilder=F$;F$.prototype._setValue=wX.setDuration;class ER extends F${}Im.DurationSecondBuilder=ER;ER.prototype._setValue=wX.setDurationSecond;class jR extends F${}Im.DurationMillisecondBuilder=jR;jR.prototype._setValue=wX.setDurationMillisecond;class LR extends F${}Im.DurationMicrosecondBuilder=LR;LR.prototype._setValue=wX.setDurationMicrosecond;class hR extends F${}Im.DurationNanosecondBuilder=hR;hR.prototype._setValue=wX.setDurationNanosecond});var _R=o((ym)=>{Object.defineProperty(ym,"__esModule",{value:!0});ym.Uint64Builder=ym.Uint32Builder=ym.Uint16Builder=ym.Uint8Builder=ym.Int64Builder=ym.Int32Builder=ym.Int16Builder=ym.Int8Builder=ym.IntBuilder=void 0;var e21=r0();class H3 extends e21.FixedWidthBuilder{setValue($,Q){this._values.set($,Q)}}ym.IntBuilder=H3;class Em extends H3{}ym.Int8Builder=Em;class jm extends H3{}ym.Int16Builder=jm;class Lm extends H3{}ym.Int32Builder=Lm;class hm extends H3{}ym.Int64Builder=hm;class vm extends H3{}ym.Uint8Builder=vm;class _m extends H3{}ym.Uint16Builder=_m;class xm extends H3{}ym.Uint32Builder=xm;class gm extends H3{}ym.Uint64Builder=gm});var xR=o((mm)=>{Object.defineProperty(mm,"__esModule",{value:!0});mm.ListBuilder=void 0;var q$1=f6(),H$1=u0(),F$1=X8(),U$1=r0();class fm extends U$1.VariableWidthBuilder{constructor($){super($);this._offsets=new F$1.OffsetsBufferBuilder($.type)}addChild($,Q="0"){if(this.numChildren>0)throw Error("ListBuilder can only have one child.");return this.children[this.numChildren]=$,this.type=new H$1.List(new q$1.Field(Q,$.type,!0)),this.numChildren-1}_flushPending($){let Q=this._offsets,[J]=this.children;for(let[Z,X]of $)if(typeof X>"u")Q.set(Z,0);else{let W=X,H=W.length,F=Q.set(Z,H).buffer[Z];for(let V=-1;++V<H;)J.set(F+V,W[V])}}}mm.ListBuilder=fm});var gR=o((lm)=>{Object.defineProperty(lm,"__esModule",{value:!0});lm.MapBuilder=void 0;var V$1=f6(),N$1=u0(),D$1=r0();class dm extends D$1.VariableWidthBuilder{set($,Q){return super.set($,Q)}setValue($,Q){let J=Q instanceof Map?Q:new Map(Object.entries(Q)),Z=this._pending||(this._pending=new Map),X=Z.get($);X&&(this._pendingLength-=X.size),this._pendingLength+=J.size,Z.set($,J)}addChild($,Q=`${this.numChildren}`){if(this.numChildren>0)throw Error("ListBuilder can only have one child.");return this.children[this.numChildren]=$,this.type=new N$1.Map_(new V$1.Field(Q,$.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending($){let Q=this._offsets,[J]=this.children;for(let[Z,X]of $)if(X===void 0)Q.set(Z,0);else{let{[Z]:W,[Z+1]:H}=Q.set(Z,X.size).buffer;for(let F of X.entries())if(J.set(W,F),++W>=H)break}}}lm.MapBuilder=dm});var yR=o((im)=>{Object.defineProperty(im,"__esModule",{value:!0});im.NullBuilder=void 0;var C$1=r0();class um extends C$1.Builder{setValue($,Q){}setValid($,Q){return this.length=Math.max($+1,this.length),Q}}im.NullBuilder=um});var bR=o((om)=>{Object.defineProperty(om,"__esModule",{value:!0});om.StructBuilder=void 0;var A$1=f6(),z$1=r0(),B$1=u0();class sm extends z$1.Builder{setValue($,Q){let{children:J,type:Z}=this;switch(Array.isArray(Q)||Q.constructor){case!0:return Z.children.forEach((X,W)=>J[W].set($,Q[W]));case Map:return Z.children.forEach((X,W)=>J[W].set($,Q.get(X.name)));default:return Z.children.forEach((X,W)=>J[W].set($,Q[X.name]))}}setValid($,Q){if(!super.setValid($,Q))this.children.forEach((J)=>J.setValid($,Q));return Q}addChild($,Q=`${this.numChildren}`){let J=this.children.push($);return this.type=new B$1.Struct([...this.type.children,new A$1.Field(Q,$.type,!0)]),J}}om.StructBuilder=sm});var lR=o((rm)=>{Object.defineProperty(rm,"__esModule",{value:!0});rm.TimestampNanosecondBuilder=rm.TimestampMicrosecondBuilder=rm.TimestampMillisecondBuilder=rm.TimestampSecondBuilder=rm.TimestampBuilder=void 0;var R$1=r0(),SX=K4();class U$ extends R$1.FixedWidthBuilder{}rm.TimestampBuilder=U$;U$.prototype._setValue=SX.setTimestamp;class fR extends U${}rm.TimestampSecondBuilder=fR;fR.prototype._setValue=SX.setTimestampSecond;class mR extends U${}rm.TimestampMillisecondBuilder=mR;mR.prototype._setValue=SX.setTimestampMillisecond;class cR extends U${}rm.TimestampMicrosecondBuilder=cR;cR.prototype._setValue=SX.setTimestampMicrosecond;class dR extends U${}rm.TimestampNanosecondBuilder=dR;dR.prototype._setValue=SX.setTimestampNanosecond});var sR=o((em)=>{Object.defineProperty(em,"__esModule",{value:!0});em.TimeNanosecondBuilder=em.TimeMicrosecondBuilder=em.TimeMillisecondBuilder=em.TimeSecondBuilder=em.TimeBuilder=void 0;var w$1=r0(),TX=K4();class V$ extends w$1.FixedWidthBuilder{}em.TimeBuilder=V$;V$.prototype._setValue=TX.setTime;class pR extends V${}em.TimeSecondBuilder=pR;pR.prototype._setValue=TX.setTimeSecond;class uR extends V${}em.TimeMillisecondBuilder=uR;uR.prototype._setValue=TX.setTimeMillisecond;class iR extends V${}em.TimeMicrosecondBuilder=iR;iR.prototype._setValue=TX.setTimeMicrosecond;class nR extends V${}em.TimeNanosecondBuilder=nR;nR.prototype._setValue=TX.setTimeNanosecond});var oR=o((Kc)=>{Object.defineProperty(Kc,"__esModule",{value:!0});Kc.DenseUnionBuilder=Kc.SparseUnionBuilder=Kc.UnionBuilder=void 0;var E$1=f6(),Qc=X8(),j$1=r0(),L$1=u0();class EF extends j$1.Builder{constructor($){super($);if(this._typeIds=new Qc.DataBufferBuilder(Int8Array,0,1),typeof $.valueToChildTypeId==="function")this._valueToChildTypeId=$.valueToChildTypeId}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append($,Q){return this.set(this.length,$,Q)}set($,Q,J){if(J===void 0)J=this._valueToChildTypeId(this,Q,$);return this.setValue($,Q,J),this}setValue($,Q,J){this._typeIds.set($,J);let Z=this.type.typeIdToChildIndex[J],X=this.children[Z];X===null||X===void 0||X.set($,Q)}addChild($,Q=`${this.children.length}`){let J=this.children.push($),{type:{children:Z,mode:X,typeIds:W}}=this,H=[...Z,new E$1.Field(Q,$.type)];return this.type=new L$1.Union(X,[...W,J],H),J}_valueToChildTypeId($,Q,J){throw Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}Kc.UnionBuilder=EF;class Jc extends EF{}Kc.SparseUnionBuilder=Jc;class Zc extends EF{constructor($){super($);this._offsets=new Qc.DataBufferBuilder(Int32Array)}setValue($,Q,J){let Z=this._typeIds.set($,J).buffer[$],X=this.getChildAt(this.type.typeIdToChildIndex[Z]),W=this._offsets.set($,X.length).buffer[$];X===null||X===void 0||X.set(W,Q)}}Kc.DenseUnionBuilder=Zc});var rR=o((Yc)=>{Object.defineProperty(Yc,"__esModule",{value:!0});Yc.Utf8Builder=void 0;var _$1=F9(),x$1=IF(),g$1=X8(),y$1=r0();class aR extends y$1.VariableWidthBuilder{constructor($){super($);this._values=new g$1.BufferBuilder(Uint8Array)}get byteLength(){let $=this._pendingLength+this.length*4;return this._offsets&&($+=this._offsets.byteLength),this._values&&($+=this._values.byteLength),this._nulls&&($+=this._nulls.byteLength),$}setValue($,Q){return super.setValue($,(0,_$1.encodeUtf8)(Q))}_flushPending($,Q){}}Yc.Utf8Builder=aR;aR.prototype._flushPending=x$1.BinaryBuilder.prototype._flushPending});var eR=o((qc)=>{Object.defineProperty(qc,"__esModule",{value:!0});qc.LargeUtf8Builder=void 0;var b$1=F9(),f$1=X8(),m$1=r0(),c$1=GF();class tR extends m$1.VariableWidthBuilder{constructor($){super($);this._values=new f$1.BufferBuilder(Uint8Array)}get byteLength(){let $=this._pendingLength+this.length*4;return this._offsets&&($+=this._offsets.byteLength),this._values&&($+=this._values.byteLength),this._nulls&&($+=this._nulls.byteLength),$}setValue($,Q){return super.setValue($,(0,b$1.encodeUtf8)(Q))}_flushPending($,Q){}}qc.LargeUtf8Builder=tR;tR.prototype._flushPending=c$1.LargeBinaryBuilder.prototype._flushPending});var Vc=o((Fc)=>{Object.defineProperty(Fc,"__esModule",{value:!0});Fc.instance=Fc.GetBuilderCtor=void 0;var d$1=g6(),l$1=IF(),p$1=GF(),u$1=NR(),$O=zR(),i$1=RR(),n$1=OR(),s$1=PR(),o$1=MR(),jF=wR(),QO=GR(),IX=vR(),Y8=_R(),a$1=xR(),r$1=gR(),t$1=yR(),e$1=bR(),GX=lR(),EX=sR(),JO=oR(),$Q1=rR(),QQ1=eR();class ZO extends d$1.Visitor{visitNull(){return t$1.NullBuilder}visitBool(){return u$1.BoolBuilder}visitInt(){return Y8.IntBuilder}visitInt8(){return Y8.Int8Builder}visitInt16(){return Y8.Int16Builder}visitInt32(){return Y8.Int32Builder}visitInt64(){return Y8.Int64Builder}visitUint8(){return Y8.Uint8Builder}visitUint16(){return Y8.Uint16Builder}visitUint32(){return Y8.Uint32Builder}visitUint64(){return Y8.Uint64Builder}visitFloat(){return jF.FloatBuilder}visitFloat16(){return jF.Float16Builder}visitFloat32(){return jF.Float32Builder}visitFloat64(){return jF.Float64Builder}visitUtf8(){return $Q1.Utf8Builder}visitLargeUtf8(){return QQ1.LargeUtf8Builder}visitBinary(){return l$1.BinaryBuilder}visitLargeBinary(){return p$1.LargeBinaryBuilder}visitFixedSizeBinary(){return s$1.FixedSizeBinaryBuilder}visitDate(){return $O.DateBuilder}visitDateDay(){return $O.DateDayBuilder}visitDateMillisecond(){return $O.DateMillisecondBuilder}visitTimestamp(){return GX.TimestampBuilder}visitTimestampSecond(){return GX.TimestampSecondBuilder}visitTimestampMillisecond(){return GX.TimestampMillisecondBuilder}visitTimestampMicrosecond(){return GX.TimestampMicrosecondBuilder}visitTimestampNanosecond(){return GX.TimestampNanosecondBuilder}visitTime(){return EX.TimeBuilder}visitTimeSecond(){return EX.TimeSecondBuilder}visitTimeMillisecond(){return EX.TimeMillisecondBuilder}visitTimeMicrosecond(){return EX.TimeMicrosecondBuilder}visitTimeNanosecond(){return EX.TimeNanosecondBuilder}visitDecimal(){return i$1.DecimalBuilder}visitList(){return a$1.ListBuilder}visitStruct(){return e$1.StructBuilder}visitUnion(){return JO.UnionBuilder}visitDenseUnion(){return JO.DenseUnionBuilder}visitSparseUnion(){return JO.SparseUnionBuilder}visitDictionary(){return n$1.DictionaryBuilder}visitInterval(){return QO.IntervalBuilder}visitIntervalDayTime(){return QO.IntervalDayTimeBuilder}visitIntervalYearMonth(){return QO.IntervalYearMonthBuilder}visitDuration(){return IX.DurationBuilder}visitDurationSecond(){return IX.DurationSecondBuilder}visitDurationMillisecond(){return IX.DurationMillisecondBuilder}visitDurationMicrosecond(){return IX.DurationMicrosecondBuilder}visitDurationNanosecond(){return IX.DurationNanosecondBuilder}visitFixedSizeList(){return o$1.FixedSizeListBuilder}visitMap(){return r$1.MapBuilder}}Fc.GetBuilderCtor=ZO;Fc.instance=new ZO});var vX=o((Nc)=>{Object.defineProperty(Nc,"__esModule",{value:!0});Nc.compareTypes=Nc.compareFields=Nc.compareSchemas=Nc.instance=Nc.TypeComparator=void 0;var ZQ1=g6();class L1 extends ZQ1.Visitor{compareSchemas($,Q){return $===Q||Q instanceof $.constructor&&this.compareManyFields($.fields,Q.fields)}compareManyFields($,Q){return $===Q||Array.isArray($)&&Array.isArray(Q)&&$.length===Q.length&&$.every((J,Z)=>this.compareFields(J,Q[Z]))}compareFields($,Q){return $===Q||Q instanceof $.constructor&&$.name===Q.name&&$.nullable===Q.nullable&&this.visit($.type,Q.type)}}Nc.TypeComparator=L1;function R6($,Q){return Q instanceof $.constructor}function N$($,Q){return $===Q||R6($,Q)}function W8($,Q){return $===Q||R6($,Q)&&$.bitWidth===Q.bitWidth&&$.isSigned===Q.isSigned}function LF($,Q){return $===Q||R6($,Q)&&$.precision===Q.precision}function KQ1($,Q){return $===Q||R6($,Q)&&$.byteWidth===Q.byteWidth}function KO($,Q){return $===Q||R6($,Q)&&$.unit===Q.unit}function jX($,Q){return $===Q||R6($,Q)&&$.unit===Q.unit&&$.timezone===Q.timezone}function LX($,Q){return $===Q||R6($,Q)&&$.unit===Q.unit&&$.bitWidth===Q.bitWidth}function XQ1($,Q){return $===Q||R6($,Q)&&$.children.length===Q.children.length&&Nc.instance.compareManyFields($.children,Q.children)}function YQ1($,Q){return $===Q||R6($,Q)&&$.children.length===Q.children.length&&Nc.instance.compareManyFields($.children,Q.children)}function XO($,Q){return $===Q||R6($,Q)&&$.mode===Q.mode&&$.typeIds.every((J,Z)=>J===Q.typeIds[Z])&&Nc.instance.compareManyFields($.children,Q.children)}function WQ1($,Q){return $===Q||R6($,Q)&&$.id===Q.id&&$.isOrdered===Q.isOrdered&&Nc.instance.visit($.indices,Q.indices)&&Nc.instance.visit($.dictionary,Q.dictionary)}function YO($,Q){return $===Q||R6($,Q)&&$.unit===Q.unit}function hX($,Q){return $===Q||R6($,Q)&&$.unit===Q.unit}function qQ1($,Q){return $===Q||R6($,Q)&&$.listSize===Q.listSize&&$.children.length===Q.children.length&&Nc.instance.compareManyFields($.children,Q.children)}function HQ1($,Q){return $===Q||R6($,Q)&&$.keysSorted===Q.keysSorted&&$.children.length===Q.children.length&&Nc.instance.compareManyFields($.children,Q.children)}L1.prototype.visitNull=N$;L1.prototype.visitBool=N$;L1.prototype.visitInt=W8;L1.prototype.visitInt8=W8;L1.prototype.visitInt16=W8;L1.prototype.visitInt32=W8;L1.prototype.visitInt64=W8;L1.prototype.visitUint8=W8;L1.prototype.visitUint16=W8;L1.prototype.visitUint32=W8;L1.prototype.visitUint64=W8;L1.prototype.visitFloat=LF;L1.prototype.visitFloat16=LF;L1.prototype.visitFloat32=LF;L1.prototype.visitFloat64=LF;L1.prototype.visitUtf8=N$;L1.prototype.visitLargeUtf8=N$;L1.prototype.visitBinary=N$;L1.prototype.visitLargeBinary=N$;L1.prototype.visitFixedSizeBinary=KQ1;L1.prototype.visitDate=KO;L1.prototype.visitDateDay=KO;L1.prototype.visitDateMillisecond=KO;L1.prototype.visitTimestamp=jX;L1.prototype.visitTimestampSecond=jX;L1.prototype.visitTimestampMillisecond=jX;L1.prototype.visitTimestampMicrosecond=jX;L1.prototype.visitTimestampNanosecond=jX;L1.prototype.visitTime=LX;L1.prototype.visitTimeSecond=LX;L1.prototype.visitTimeMillisecond=LX;L1.prototype.visitTimeMicrosecond=LX;L1.prototype.visitTimeNanosecond=LX;L1.prototype.visitDecimal=N$;L1.prototype.visitList=XQ1;L1.prototype.visitStruct=YQ1;L1.prototype.visitUnion=XO;L1.prototype.visitDenseUnion=XO;L1.prototype.visitSparseUnion=XO;L1.prototype.visitDictionary=WQ1;L1.prototype.visitInterval=YO;L1.prototype.visitIntervalDayTime=YO;L1.prototype.visitIntervalYearMonth=YO;L1.prototype.visitDuration=hX;L1.prototype.visitDurationSecond=hX;L1.prototype.visitDurationMillisecond=hX;L1.prototype.visitDurationMicrosecond=hX;L1.prototype.visitDurationNanosecond=hX;L1.prototype.visitFixedSizeList=qQ1;L1.prototype.visitMap=HQ1;Nc.instance=new L1;function FQ1($,Q){return Nc.instance.compareSchemas($,Q)}Nc.compareSchemas=FQ1;function UQ1($,Q){return Nc.instance.compareFields($,Q)}Nc.compareFields=UQ1;function VQ1($,Q){return Nc.instance.visit($,Q)}Nc.compareTypes=VQ1});var kX=o((Bc)=>{Object.defineProperty(Bc,"__esModule",{value:!0});Bc.builderThroughAsyncIterable=Bc.builderThroughIterable=Bc.tableFromJSON=Bc.vectorFromArray=Bc.makeBuilder=void 0;var LJ=(_6(),Q4(v6)),WO=f6(),h4=u0(),AQ1=J3(),Cc=B6(),zQ1=Vc(),BQ1=hJ(),RQ1=v9(),OQ1=vX();function vF($){let Q=$.type,J=new(zQ1.instance.getVisitFn(Q)())($);if(Q.children&&Q.children.length>0){let Z=$.children||[],X={nullValues:$.nullValues},W=Array.isArray(Z)?(H,F)=>Z[F]||X:({name:H})=>Z[H]||X;for(let[H,F]of Q.children.entries()){let{type:V}=F,D=W(F,H);J.children.push(vF(Object.assign(Object.assign({},D),{type:V})))}}return J}Bc.makeBuilder=vF;function Ac($,Q){if($ instanceof AQ1.Data||$ instanceof Cc.Vector||$.type instanceof h4.DataType||ArrayBuffer.isView($))return(0,Cc.makeVector)($);let J={type:Q!==null&&Q!==void 0?Q:hF($),nullValues:[null]},Z=[...zc(J)($)],X=Z.length===1?Z[0]:Z.reduce((W,H)=>W.concat(H));if(h4.DataType.isDictionary(X.type))return X.memoize();return X}Bc.vectorFromArray=Ac;function kQ1($){let Q=Ac($),J=new RQ1.RecordBatch(new WO.Schema(Q.type.children),Q.data[0]);return new BQ1.Table(J)}Bc.tableFromJSON=kQ1;function hF($){if($.length===0)return new h4.Null;let Q=0,J=0,Z=0,X=0,W=0,H=0,F=0,V=0;for(let D of $){if(D==null){++Q;continue}switch(typeof D){case"bigint":++H;continue;case"boolean":++F;continue;case"number":++X;continue;case"string":++W;continue;case"object":if(Array.isArray(D))++J;else if(Object.prototype.toString.call(D)==="[object Date]")++V;else++Z;continue}throw TypeError("Unable to infer Vector type from input values, explicit type declaration expected.")}if(X+Q===$.length)return new h4.Float64;else if(W+Q===$.length)return new h4.Dictionary(new h4.Utf8,new h4.Int32);else if(H+Q===$.length)return new h4.Int64;else if(F+Q===$.length)return new h4.Bool;else if(V+Q===$.length)return new h4.TimestampMillisecond;else if(J+Q===$.length){let D=$,C=hF(D[D.findIndex((z)=>z!=null)]);if(D.every((z)=>z==null||(0,OQ1.compareTypes)(C,hF(z))))return new h4.List(new WO.Field("",C,!0))}else if(Z+Q===$.length){let D=new Map;for(let C of $)for(let z of Object.keys(C))if(!D.has(z)&&C[z]!=null)D.set(z,new WO.Field(z,hF([C[z]]),!0));return new h4.Struct([...D.values()])}throw TypeError("Unable to infer Vector type from input values, explicit type declaration expected.")}function zc($){let{["queueingStrategy"]:Q="count"}=$,{["highWaterMark"]:J=Q!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=$,Z=Q!=="bytes"?"length":"byteLength";return function*(X){let W=0,H=vF($);for(let F of X)if(H.append(F)[Z]>=J)++W&&(yield H.toVector());if(H.finish().length>0||W===0)yield H.toVector()}}Bc.builderThroughIterable=zc;function PQ1($){let{["queueingStrategy"]:Q="count"}=$,{["highWaterMark"]:J=Q!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=$,Z=Q!=="bytes"?"length":"byteLength";return function(X){return LJ.__asyncGenerator(this,arguments,function*(){var W,H,F,V;let D=0,C=vF($);try{for(var z=!0,R=LJ.__asyncValues(X),k;k=yield LJ.__await(R.next()),W=k.done,!W;z=!0){V=k.value,z=!1;let P=V;if(C.append(P)[Z]>=J)++D&&(yield yield LJ.__await(C.toVector()))}}catch(P){H={error:P}}finally{try{if(!z&&!W&&(F=R.return))yield LJ.__await(F.call(R))}finally{if(H)throw H.error}}if(C.finish().length>0||D===0)yield yield LJ.__await(C.toVector())})}}Bc.builderThroughAsyncIterable=PQ1});var Mc=o((kc)=>{Object.defineProperty(kc,"__esModule",{value:!0});kc.distributeVectorsIntoRecordBatches=void 0;var Oc=J3(),IQ1=u0(),GQ1=v9();function EQ1($,Q){return jQ1($,Q.map((J)=>J.data.concat()))}kc.distributeVectorsIntoRecordBatches=EQ1;function jQ1($,Q){let J=[...$.fields],Z=[],X={numBatches:Q.reduce((z,R)=>Math.max(z,R.length),0)},W=0,H=0,F=-1,V=Q.length,D,C=[];while(X.numBatches-- >0){for(H=Number.POSITIVE_INFINITY,F=-1;++F<V;)C[F]=D=Q[F].shift(),H=Math.min(H,D?D.length:H);if(Number.isFinite(H)){if(C=LQ1(J,H,C,Q,X),H>0)Z[W++]=(0,Oc.makeData)({type:new IQ1.Struct(J),length:H,nullCount:0,children:C.slice()})}}return[$=$.assign(J),Z.map((z)=>new GQ1.RecordBatch($,z))]}function LQ1($,Q,J,Z,X){var W;let H=(Q+63&-64)>>3;for(let F=-1,V=Z.length;++F<V;){let D=J[F],C=D===null||D===void 0?void 0:D.length;if(C>=Q)if(C===Q)J[F]=D;else J[F]=D.slice(0,Q),X.numBatches=Math.max(X.numBatches,Z[F].unshift(D.slice(Q,C-Q)));else{let z=$[F];$[F]=z.clone({nullable:!0}),J[F]=(W=D===null||D===void 0?void 0:D._changeLengthAndBackfillNullBitmap(Q))!==null&&W!==void 0?W:(0,Oc.makeData)({type:z.type,length:Q,nullCount:Q,nullBitmap:new Uint8Array(H)})}}return J}});var hJ=o((Ic)=>{var Tc;Object.defineProperty(Ic,"__esModule",{value:!0});Ic.tableFromArrays=Ic.makeTable=Ic.Table=void 0;var qO=$5(),HO=J3(),hQ1=kX(),_X=B6(),D$=f6(),wc=u0(),vQ1=vX(),FO=Mc(),_9=zF(),_Q1=Z$(),xQ1=K4(),gQ1=BF(),yQ1=RF(),Sc=TJ(),vJ=v9();class v4{constructor(...$){var Q,J;if($.length===0)return this.batches=[],this.schema=new D$.Schema([]),this._offsets=[0],this;let Z,X;if($[0]instanceof D$.Schema)Z=$.shift();if($.at(-1)instanceof Uint32Array)X=$.pop();let W=(F)=>{if(F){if(F instanceof vJ.RecordBatch)return[F];else if(F instanceof v4)return F.batches;else if(F instanceof HO.Data){if(F.type instanceof wc.Struct)return[new vJ.RecordBatch(new D$.Schema(F.type.children),F)]}else if(Array.isArray(F))return F.flatMap((V)=>W(V));else if(typeof F[Symbol.iterator]==="function")return[...F].flatMap((V)=>W(V));else if(typeof F==="object"){let V=Object.keys(F),D=V.map((R)=>new _X.Vector([F[R]])),C=Z!==null&&Z!==void 0?Z:new D$.Schema(V.map((R,k)=>new D$.Field(String(R),D[k].type,D[k].nullable))),[,z]=(0,FO.distributeVectorsIntoRecordBatches)(C,D);return z.length===0?[new vJ.RecordBatch(F)]:z}}return[]},H=$.flatMap((F)=>W(F));if(Z=(J=Z!==null&&Z!==void 0?Z:(Q=H[0])===null||Q===void 0?void 0:Q.schema)!==null&&J!==void 0?J:new D$.Schema([]),!(Z instanceof D$.Schema))throw TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(let F of H){if(!(F instanceof vJ.RecordBatch))throw TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!(0,vQ1.compareSchemas)(Z,F.schema))throw TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=Z,this.batches=H,this._offsets=X!==null&&X!==void 0?X:(0,_9.computeChunkOffsets)(this.data)}get data(){return this.batches.map(({data:$})=>$)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce(($,Q)=>$+Q.length,0)}get nullCount(){if(this._nullCount===-1)this._nullCount=(0,_9.computeChunkNullCounts)(this.data);return this._nullCount}isValid($){return!1}get($){return null}at($){return this.get((0,Sc.wrapIndex)($,this.numRows))}set($,Q){return}indexOf($,Q){return-1}[Symbol.iterator](){if(this.batches.length>0)return yQ1.instance.visit(new _X.Vector(this.data));return[][Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...$){let Q=this.schema,J=this.data.concat($.flatMap(({data:Z})=>Z));return new v4(Q,J.map((Z)=>new vJ.RecordBatch(Q,Z)))}slice($,Q){let J=this.schema;[$,Q]=(0,Sc.clampRange)({length:this.numRows},$,Q);let Z=(0,_9.sliceChunks)(this.data,this._offsets,$,Q);return new v4(J,Z.map((X)=>new vJ.RecordBatch(J,X)))}getChild($){return this.getChildAt(this.schema.fields.findIndex((Q)=>Q.name===$))}getChildAt($){if($>-1&&$<this.schema.fields.length){let Q=this.data.map((J)=>J.children[$]);if(Q.length===0){let{type:J}=this.schema.fields[$],Z=(0,HO.makeData)({type:J,length:0,nullCount:0});Q.push(Z._changeLengthAndBackfillNullBitmap(this.numRows))}return new _X.Vector(Q)}return null}setChild($,Q){var J;return this.setChildAt((J=this.schema.fields)===null||J===void 0?void 0:J.findIndex((Z)=>Z.name===$),Q)}setChildAt($,Q){let J=this.schema,Z=[...this.batches];if($>-1&&$<this.numCols){if(!Q)Q=new _X.Vector([(0,HO.makeData)({type:new wc.Null,length:this.numRows})]);let X=J.fields.slice(),W=X[$].clone({type:Q.type}),H=this.schema.fields.map((F,V)=>this.getChildAt(V));[X[$],H[$]]=[W,Q],[J,Z]=(0,FO.distributeVectorsIntoRecordBatches)(J,H)}return new v4(J,Z)}select($){let Q=this.schema.fields.reduce((J,Z,X)=>J.set(Z.name,X),new Map);return this.selectAt($.map((J)=>Q.get(J)).filter((J)=>J>-1))}selectAt($){let Q=this.schema.selectAt($),J=this.batches.map((Z)=>Z.selectAt($));return new v4(Q,J)}assign($){let Q=this.schema.fields,[J,Z]=$.schema.fields.reduce((H,F,V)=>{let[D,C]=H,z=Q.findIndex((R)=>R.name===F.name);return~z?C[z]=V:D.push(V),H},[[],[]]),X=this.schema.assign($.schema),W=[...Q.map((H,F)=>[F,Z[F]]).map(([H,F])=>F===void 0?this.getChildAt(H):$.getChildAt(F)),...J.map((H)=>$.getChildAt(H))].filter(Boolean);return new v4(...(0,FO.distributeVectorsIntoRecordBatches)(X,W))}}Ic.Table=v4;Tc=Symbol.toStringTag;v4[Tc]=(($)=>{return $.schema=null,$.batches=[],$._offsets=new Uint32Array([0]),$._nullCount=-1,$[Symbol.isConcatSpreadable]=!0,$.isValid=(0,_9.wrapChunkedCall1)(_9.isChunkedValid),$.get=(0,_9.wrapChunkedCall1)(_Q1.instance.getVisitFn(qO.Type.Struct)),$.set=(0,_9.wrapChunkedCall2)(xQ1.instance.getVisitFn(qO.Type.Struct)),$.indexOf=(0,_9.wrapChunkedIndexOf)(gQ1.instance.getVisitFn(qO.Type.Struct)),"Table"})(v4.prototype);function bQ1($){let Q={},J=Object.entries($);for(let[Z,X]of J)Q[Z]=(0,_X.makeVector)(X);return new v4(Q)}Ic.makeTable=bQ1;function fQ1($){let Q={},J=Object.entries($);for(let[Z,X]of J)Q[Z]=(0,hQ1.vectorFromArray)(X);return new v4(Q)}Ic.tableFromArrays=fQ1});var v9=o((vc)=>{var jc;Object.defineProperty(vc,"__esModule",{value:!0});vc._InternalEmptyPlaceholderRecordBatch=vc.RecordBatch=void 0;var _4=J3(),dQ1=hJ(),_F=B6(),xF=f6(),q8=u0(),lQ1=TJ(),pQ1=Z$(),uQ1=K4(),iQ1=BF(),nQ1=RF();class H8{constructor(...$){switch($.length){case 2:{if([this.schema]=$,!(this.schema instanceof xF.Schema))throw TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=(0,_4.makeData)({nullCount:0,type:new q8.Struct(this.schema.fields),children:this.schema.fields.map((Q)=>(0,_4.makeData)({type:Q.type,nullCount:0}))})]=$,!(this.data instanceof _4.Data))throw TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=Ec(this.schema,this.data.children);break}case 1:{let[Q]=$,{fields:J,children:Z,length:X}=Object.keys(Q).reduce((F,V,D)=>{return F.children[D]=Q[V],F.length=Math.max(F.length,Q[V].length),F.fields[D]=xF.Field.new({name:V,type:Q[V].type,nullable:!0}),F},{length:0,fields:[],children:[]}),W=new xF.Schema(J),H=(0,_4.makeData)({type:new q8.Struct(J),length:X,children:Z,nullCount:0});[this.schema,this.data]=Ec(W,H.children,X);break}default:throw TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=Lc(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid($){return this.data.getValid($)}get($){return pQ1.instance.visit(this.data,$)}at($){return this.get((0,lQ1.wrapIndex)($,this.numRows))}set($,Q){return uQ1.instance.visit(this.data,$,Q)}indexOf($,Q){return iQ1.instance.visit(this.data,$,Q)}[Symbol.iterator](){return nQ1.instance.visit(new _F.Vector([this.data]))}toArray(){return[...this]}concat(...$){return new dQ1.Table(this.schema,[this,...$])}slice($,Q){let[J]=new _F.Vector([this.data]).slice($,Q).data;return new H8(this.schema,J)}getChild($){var Q;return this.getChildAt((Q=this.schema.fields)===null||Q===void 0?void 0:Q.findIndex((J)=>J.name===$))}getChildAt($){if($>-1&&$<this.schema.fields.length)return new _F.Vector([this.data.children[$]]);return null}setChild($,Q){var J;return this.setChildAt((J=this.schema.fields)===null||J===void 0?void 0:J.findIndex((Z)=>Z.name===$),Q)}setChildAt($,Q){let J=this.schema,Z=this.data;if($>-1&&$<this.numCols){if(!Q)Q=new _F.Vector([(0,_4.makeData)({type:new q8.Null,length:this.numRows})]);let X=J.fields.slice(),W=Z.children.slice(),H=X[$].clone({type:Q.type});[X[$],W[$]]=[H,Q.data[0]],J=new xF.Schema(X,new Map(this.schema.metadata)),Z=(0,_4.makeData)({type:new q8.Struct(X),children:W})}return new H8(J,Z)}select($){let Q=this.schema.select($),J=new q8.Struct(Q.fields),Z=[];for(let X of $){let W=this.schema.fields.findIndex((H)=>H.name===X);if(~W)Z[W]=this.data.children[W]}return new H8(Q,(0,_4.makeData)({type:J,length:this.numRows,children:Z}))}selectAt($){let Q=this.schema.selectAt($),J=$.map((X)=>this.data.children[X]).filter(Boolean),Z=(0,_4.makeData)({type:new q8.Struct(Q.fields),length:this.numRows,children:J});return new H8(Q,Z)}}vc.RecordBatch=H8;jc=Symbol.toStringTag;H8[jc]=(($)=>{return $._nullCount=-1,$[Symbol.isConcatSpreadable]=!0,"RecordBatch"})(H8.prototype);function Ec($,Q,J=Q.reduce((Z,X)=>Math.max(Z,X.length),0)){var Z;let X=[...$.fields],W=[...Q],H=(J+63&-64)>>3;for(let[F,V]of $.fields.entries()){let D=Q[F];if(!D||D.length!==J)X[F]=V.clone({nullable:!0}),W[F]=(Z=D===null||D===void 0?void 0:D._changeLengthAndBackfillNullBitmap(J))!==null&&Z!==void 0?Z:(0,_4.makeData)({type:V.type,length:J,nullCount:J,nullBitmap:new Uint8Array(H)})}return[$.assign(X),(0,_4.makeData)({type:new q8.Struct(X),length:J,children:W})]}function Lc($,Q,J=new Map){var Z,X;if(((Z=$===null||$===void 0?void 0:$.length)!==null&&Z!==void 0?Z:0)>0&&($===null||$===void 0?void 0:$.length)===(Q===null||Q===void 0?void 0:Q.length))for(let W=-1,H=$.length;++W<H;){let{type:F}=$[W],V=Q[W];for(let D of[V,...((X=V===null||V===void 0?void 0:V.dictionary)===null||X===void 0?void 0:X.data)||[]])Lc(F.children,D===null||D===void 0?void 0:D.children,J);if(q8.DataType.isDictionary(F)){let{id:D}=F;if(!J.has(D)){if(V===null||V===void 0?void 0:V.dictionary)J.set(D,V.dictionary)}else if(J.get(D)!==V.dictionary)throw Error("Cannot create Schema containing two different dictionaries with the same Id")}}return J}class hc extends H8{constructor($){let Q=$.fields.map((Z)=>(0,_4.makeData)({type:Z.type})),J=(0,_4.makeData)({type:new q8.Struct($.fields),nullCount:0,children:Q});super($,J)}}vc._InternalEmptyPlaceholderRecordBatch=hc});var fc=o((yc)=>{Object.defineProperty(yc,"__esModule",{value:!0});yc.Message=void 0;var oQ1=Z0(),aQ1=XJ(),xc=iH(),gc=OH();class z7{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsMessage($,Q){return(Q||new z7).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsMessage($,Q){return $.setPosition($.position()+oQ1.SIZE_PREFIX_LENGTH),(Q||new z7).__init($.readInt32($.position())+$.position(),$)}version(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):gc.MetadataVersion.V1}headerType(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.readUint8(this.bb_pos+$):xc.MessageHeader.NONE}header($){let Q=this.bb.__offset(this.bb_pos,8);return Q?this.bb.__union($,this.bb_pos+Q):null}bodyLength(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.readInt64(this.bb_pos+$):BigInt("0")}customMetadata($,Q){let J=this.bb.__offset(this.bb_pos,12);return J?(Q||new aQ1.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}customMetadataLength(){let $=this.bb.__offset(this.bb_pos,12);return $?this.bb.__vector_len(this.bb_pos+$):0}static startMessage($){$.startObject(5)}static addVersion($,Q){$.addFieldInt16(0,Q,gc.MetadataVersion.V1)}static addHeaderType($,Q){$.addFieldInt8(1,Q,xc.MessageHeader.NONE)}static addHeader($,Q){$.addFieldOffset(2,Q,0)}static addBodyLength($,Q){$.addFieldInt64(3,Q,BigInt("0"))}static addCustomMetadata($,Q){$.addFieldOffset(4,Q,0)}static createCustomMetadataVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startCustomMetadataVector($,Q){$.startVector(4,Q,4)}static endMessage($){return $.endObject()}static finishMessageBuffer($,Q){$.finish(Q)}static finishSizePrefixedMessageBuffer($,Q){$.finish(Q,void 0,!0)}static createMessage($,Q,J,Z,X,W){return z7.startMessage($),z7.addVersion($,Q),z7.addHeaderType($,J),z7.addHeader($,Z),z7.addBodyLength($,X),z7.addCustomMetadata($,W),z7.endMessage($)}}yc.Message=z7});var ac=o((sc)=>{Object.defineProperty(sc,"__esModule",{value:!0});sc.instance=sc.TypeAssembler=void 0;var rQ1=g6(),mc=qB(),gF=C9(),UO=LH(),cc=ZB(),dc=XB(),lc=KB(),pc=FB(),uc=YB(),xX=IH(),VO=TH(),yF=_H(),bF=xH(),NO=hH(),DO=GH(),ic=WB(),nc=HB(),_J=gH(),gX=JB(),CO=EH(),AO=jH(),zO=vH();class BO extends rQ1.Visitor{visit($,Q){return $==null||Q==null?void 0:super.visit($,Q)}visitNull($,Q){return mc.Null.startNull(Q),mc.Null.endNull(Q)}visitInt($,Q){return gF.Int.startInt(Q),gF.Int.addBitWidth(Q,$.bitWidth),gF.Int.addIsSigned(Q,$.isSigned),gF.Int.endInt(Q)}visitFloat($,Q){return UO.FloatingPoint.startFloatingPoint(Q),UO.FloatingPoint.addPrecision(Q,$.precision),UO.FloatingPoint.endFloatingPoint(Q)}visitBinary($,Q){return cc.Binary.startBinary(Q),cc.Binary.endBinary(Q)}visitLargeBinary($,Q){return dc.LargeBinary.startLargeBinary(Q),dc.LargeBinary.endLargeBinary(Q)}visitBool($,Q){return lc.Bool.startBool(Q),lc.Bool.endBool(Q)}visitUtf8($,Q){return pc.Utf8.startUtf8(Q),pc.Utf8.endUtf8(Q)}visitLargeUtf8($,Q){return uc.LargeUtf8.startLargeUtf8(Q),uc.LargeUtf8.endLargeUtf8(Q)}visitDecimal($,Q){return xX.Decimal.startDecimal(Q),xX.Decimal.addScale(Q,$.scale),xX.Decimal.addPrecision(Q,$.precision),xX.Decimal.addBitWidth(Q,$.bitWidth),xX.Decimal.endDecimal(Q)}visitDate($,Q){return VO.Date.startDate(Q),VO.Date.addUnit(Q,$.unit),VO.Date.endDate(Q)}visitTime($,Q){return yF.Time.startTime(Q),yF.Time.addUnit(Q,$.unit),yF.Time.addBitWidth(Q,$.bitWidth),yF.Time.endTime(Q)}visitTimestamp($,Q){let J=$.timezone&&Q.createString($.timezone)||void 0;if(bF.Timestamp.startTimestamp(Q),bF.Timestamp.addUnit(Q,$.unit),J!==void 0)bF.Timestamp.addTimezone(Q,J);return bF.Timestamp.endTimestamp(Q)}visitInterval($,Q){return NO.Interval.startInterval(Q),NO.Interval.addUnit(Q,$.unit),NO.Interval.endInterval(Q)}visitDuration($,Q){return DO.Duration.startDuration(Q),DO.Duration.addUnit(Q,$.unit),DO.Duration.endDuration(Q)}visitList($,Q){return ic.List.startList(Q),ic.List.endList(Q)}visitStruct($,Q){return nc.Struct_.startStruct_(Q),nc.Struct_.endStruct_(Q)}visitUnion($,Q){_J.Union.startTypeIdsVector(Q,$.typeIds.length);let J=_J.Union.createTypeIdsVector(Q,$.typeIds);return _J.Union.startUnion(Q),_J.Union.addMode(Q,$.mode),_J.Union.addTypeIds(Q,J),_J.Union.endUnion(Q)}visitDictionary($,Q){let J=this.visit($.indices,Q);if(gX.DictionaryEncoding.startDictionaryEncoding(Q),gX.DictionaryEncoding.addId(Q,BigInt($.id)),gX.DictionaryEncoding.addIsOrdered(Q,$.isOrdered),J!==void 0)gX.DictionaryEncoding.addIndexType(Q,J);return gX.DictionaryEncoding.endDictionaryEncoding(Q)}visitFixedSizeBinary($,Q){return CO.FixedSizeBinary.startFixedSizeBinary(Q),CO.FixedSizeBinary.addByteWidth(Q,$.byteWidth),CO.FixedSizeBinary.endFixedSizeBinary(Q)}visitFixedSizeList($,Q){return AO.FixedSizeList.startFixedSizeList(Q),AO.FixedSizeList.addListSize(Q,$.listSize),AO.FixedSizeList.endFixedSizeList(Q)}visitMap($,Q){return zO.Map.startMap(Q),zO.Map.addKeysSorted(Q,$.keysSorted),zO.Map.endMap(Q)}}sc.TypeAssembler=BO;sc.instance=new BO});var Xd=o((Zd)=>{Object.defineProperty(Zd,"__esModule",{value:!0});Zd.fieldFromJSON=Zd.dictionaryBatchFromJSON=Zd.recordBatchFromJSON=Zd.schemaFromJSON=void 0;var xJ=f6(),f0=u0(),A$=z$(),C$=$5();function eQ1($,Q=new Map){return new xJ.Schema(QJ1($,Q),fF($.metadata),Q)}Zd.schemaFromJSON=eQ1;function $d($){return new A$.RecordBatch($.count,Qd($.columns),Jd($.columns))}Zd.recordBatchFromJSON=$d;function $J1($){return new A$.DictionaryBatch($d($.data),$.id,$.isDelta)}Zd.dictionaryBatchFromJSON=$J1;function QJ1($,Q){return($.fields||[]).filter(Boolean).map((J)=>xJ.Field.fromJSON(J,Q))}function rc($,Q){return($.children||[]).filter(Boolean).map((J)=>xJ.Field.fromJSON(J,Q))}function Qd($){return($||[]).reduce((Q,J)=>[...Q,new A$.FieldNode(J.count,JJ1(J.VALIDITY)),...Qd(J.children)],[])}function Jd($,Q=[]){for(let J=-1,Z=($||[]).length;++J<Z;){let X=$[J];X.VALIDITY&&Q.push(new A$.BufferRegion(Q.length,X.VALIDITY.length)),X.TYPE_ID&&Q.push(new A$.BufferRegion(Q.length,X.TYPE_ID.length)),X.OFFSET&&Q.push(new A$.BufferRegion(Q.length,X.OFFSET.length)),X.DATA&&Q.push(new A$.BufferRegion(Q.length,X.DATA.length)),Q=Jd(X.children,Q)}return Q}function JJ1($){return($||[]).reduce((Q,J)=>Q+ +(J===0),0)}function ZJ1($,Q){let J,Z,X,W,H,F;if(!Q||!(W=$.dictionary))H=ec($,rc($,Q)),X=new xJ.Field($.name,H,$.nullable,fF($.metadata));else if(!Q.has(J=W.id))Z=(Z=W.indexType)?tc(Z):new f0.Int32,Q.set(J,H=ec($,rc($,Q))),F=new f0.Dictionary(H,Z,J,W.isOrdered),X=new xJ.Field($.name,F,$.nullable,fF($.metadata));else Z=(Z=W.indexType)?tc(Z):new f0.Int32,F=new f0.Dictionary(Q.get(J),Z,J,W.isOrdered),X=new xJ.Field($.name,F,$.nullable,fF($.metadata));return X||null}Zd.fieldFromJSON=ZJ1;function fF($=[]){return new Map($.map(({key:Q,value:J})=>[Q,J]))}function tc($){return new f0.Int($.isSigned,$.bitWidth)}function ec($,Q){let J=$.type.name;switch(J){case"NONE":return new f0.Null;case"null":return new f0.Null;case"binary":return new f0.Binary;case"largebinary":return new f0.LargeBinary;case"utf8":return new f0.Utf8;case"largeutf8":return new f0.LargeUtf8;case"bool":return new f0.Bool;case"list":return new f0.List((Q||[])[0]);case"struct":return new f0.Struct(Q||[]);case"struct_":return new f0.Struct(Q||[])}switch(J){case"int":{let Z=$.type;return new f0.Int(Z.isSigned,Z.bitWidth)}case"floatingpoint":{let Z=$.type;return new f0.Float(C$.Precision[Z.precision])}case"decimal":{let Z=$.type;return new f0.Decimal(Z.scale,Z.precision,Z.bitWidth)}case"date":{let Z=$.type;return new f0.Date_(C$.DateUnit[Z.unit])}case"time":{let Z=$.type;return new f0.Time(C$.TimeUnit[Z.unit],Z.bitWidth)}case"timestamp":{let Z=$.type;return new f0.Timestamp(C$.TimeUnit[Z.unit],Z.timezone)}case"interval":{let Z=$.type;return new f0.Interval(C$.IntervalUnit[Z.unit])}case"duration":{let Z=$.type;return new f0.Duration(C$.TimeUnit[Z.unit])}case"union":{let Z=$.type,[X,...W]=(Z.mode+"").toLowerCase(),H=X.toUpperCase()+W.join("");return new f0.Union(C$.UnionMode[H],Z.typeIds||[],Q||[])}case"fixedsizebinary":{let Z=$.type;return new f0.FixedSizeBinary(Z.byteWidth)}case"fixedsizelist":{let Z=$.type;return new f0.FixedSizeList(Z.listSize,(Q||[])[0])}case"map":{let Z=$.type;return new f0.Map_((Q||[])[0],Z.keysSorted)}}throw Error(`Unrecognized type: "${J}"`)}});var z$=o((Ud)=>{Object.defineProperty(Ud,"__esModule",{value:!0});Ud.FieldNode=Ud.BufferRegion=Ud.DictionaryBatch=Ud.RecordBatch=Ud.Message=void 0;var Fd=Z0(),F8=bH(),WJ1=C9(),g9=MH(),gJ=$B(),qJ1=N9(),B7=UB(),HJ1=ez(),W5=AJ(),y9=XJ(),Yd=QB(),FJ1=LH(),UJ1=IH(),VJ1=TH(),NJ1=_H(),DJ1=xH(),CJ1=hH(),AJ1=GH(),zJ1=gH(),BJ1=EH(),RJ1=jH(),OJ1=vH(),x9=fc(),b5=f6(),kJ1=g5(),b9=k9(),Q5=$5(),RO=ac(),cF=Xd(),PJ1=Fd.Builder,MJ1=Fd.ByteBuffer,m0=u0();class B${static fromJSON($,Q){let J=new B$(0,Q5.MetadataVersion.V5,Q);return J._createHeader=wJ1($,Q),J}static decode($){$=new MJ1((0,kJ1.toUint8Array)($));let Q=x9.Message.getRootAsMessage($),J=Q.bodyLength(),Z=Q.version(),X=Q.headerType(),W=new B$(J,Z,X);return W._createHeader=SJ1(Q,X),W}static encode($){let Q=new PJ1,J=-1;if($.isSchema())J=b5.Schema.encode(Q,$.header());else if($.isRecordBatch())J=x4.encode(Q,$.header());else if($.isDictionaryBatch())J=F3.encode(Q,$.header());return x9.Message.startMessage(Q),x9.Message.addVersion(Q,Q5.MetadataVersion.V5),x9.Message.addHeader(Q,J),x9.Message.addHeaderType(Q,$.headerType),x9.Message.addBodyLength(Q,BigInt($.bodyLength)),x9.Message.finishMessageBuffer(Q,x9.Message.endMessage(Q)),Q.asUint8Array()}static from($,Q=0){if($ instanceof b5.Schema)return new B$(0,Q5.MetadataVersion.V5,Q5.MessageHeader.Schema,$);if($ instanceof x4)return new B$(Q,Q5.MetadataVersion.V5,Q5.MessageHeader.RecordBatch,$);if($ instanceof F3)return new B$(Q,Q5.MetadataVersion.V5,Q5.MessageHeader.DictionaryBatch,$);throw Error(`Unrecognized Message header: ${$}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Q5.MessageHeader.Schema}isRecordBatch(){return this.headerType===Q5.MessageHeader.RecordBatch}isDictionaryBatch(){return this.headerType===Q5.MessageHeader.DictionaryBatch}constructor($,Q,J,Z){this._version=Q,this._headerType=J,this.body=new Uint8Array(0),Z&&(this._createHeader=()=>Z),this._bodyLength=(0,b9.bigIntToNumber)($)}}Ud.Message=B$;class x4{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor($,Q,J){this._nodes=Q,this._buffers=J,this._length=(0,b9.bigIntToNumber)($)}}Ud.RecordBatch=x4;class F3{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor($,Q,J=!1){this._data=$,this._isDelta=J,this._id=(0,b9.bigIntToNumber)(Q)}}Ud.DictionaryBatch=F3;class R${constructor($,Q){this.offset=(0,b9.bigIntToNumber)($),this.length=(0,b9.bigIntToNumber)(Q)}}Ud.BufferRegion=R$;class O${constructor($,Q){this.length=(0,b9.bigIntToNumber)($),this.nullCount=(0,b9.bigIntToNumber)(Q)}}Ud.FieldNode=O$;function wJ1($,Q){return()=>{switch(Q){case Q5.MessageHeader.Schema:return b5.Schema.fromJSON($);case Q5.MessageHeader.RecordBatch:return x4.fromJSON($);case Q5.MessageHeader.DictionaryBatch:return F3.fromJSON($)}throw Error(`Unrecognized Message type: { name: ${Q5.MessageHeader[Q]}, type: ${Q} }`)}}function SJ1($,Q){return()=>{switch(Q){case Q5.MessageHeader.Schema:return b5.Schema.decode($.header(new F8.Schema),new Map,$.version());case Q5.MessageHeader.RecordBatch:return x4.decode($.header(new g9.RecordBatch),$.version());case Q5.MessageHeader.DictionaryBatch:return F3.decode($.header(new gJ.DictionaryBatch),$.version())}throw Error(`Unrecognized Message type: { name: ${Q5.MessageHeader[Q]}, type: ${Q} }`)}}b5.Field.encode=gJ1;b5.Field.decode=_J1;b5.Field.fromJSON=cF.fieldFromJSON;b5.Schema.encode=xJ1;b5.Schema.decode=TJ1;b5.Schema.fromJSON=cF.schemaFromJSON;x4.encode=yJ1;x4.decode=IJ1;x4.fromJSON=cF.recordBatchFromJSON;F3.encode=bJ1;F3.decode=GJ1;F3.fromJSON=cF.dictionaryBatchFromJSON;O$.encode=fJ1;O$.decode=jJ1;R$.encode=mJ1;R$.decode=EJ1;function TJ1($,Q=new Map,J=Q5.MetadataVersion.V5){let Z=vJ1($,Q);return new b5.Schema(Z,mF($),Q,J)}function IJ1($,Q=Q5.MetadataVersion.V5){if($.compression()!==null)throw Error("Record batch compression not implemented");return new x4($.length(),LJ1($),hJ1($,Q))}function GJ1($,Q=Q5.MetadataVersion.V5){return new F3(x4.decode($.data(),Q),$.id(),$.isDelta())}function EJ1($){return new R$($.offset(),$.length())}function jJ1($){return new O$($.length(),$.nullCount())}function LJ1($){let Q=[];for(let J,Z=-1,X=-1,W=$.nodesLength();++Z<W;)if(J=$.nodes(Z))Q[++X]=O$.decode(J);return Q}function hJ1($,Q){let J=[];for(let Z,X=-1,W=-1,H=$.buffersLength();++X<H;)if(Z=$.buffers(X)){if(Q<Q5.MetadataVersion.V4)Z.bb_pos+=8*(X+1);J[++W]=R$.decode(Z)}return J}function vJ1($,Q){let J=[];for(let Z,X=-1,W=-1,H=$.fieldsLength();++X<H;)if(Z=$.fields(X))J[++W]=b5.Field.decode(Z,Q);return J}function Wd($,Q){let J=[];for(let Z,X=-1,W=-1,H=$.childrenLength();++X<H;)if(Z=$.children(X))J[++W]=b5.Field.decode(Z,Q);return J}function _J1($,Q){let J,Z,X,W,H,F;if(!Q||!(F=$.dictionary()))X=Hd($,Wd($,Q)),Z=new b5.Field($.name(),X,$.nullable(),mF($));else if(!Q.has(J=(0,b9.bigIntToNumber)(F.id())))W=(W=F.indexType())?qd(W):new m0.Int32,Q.set(J,X=Hd($,Wd($,Q))),H=new m0.Dictionary(X,W,J,F.isOrdered()),Z=new b5.Field($.name(),H,$.nullable(),mF($));else W=(W=F.indexType())?qd(W):new m0.Int32,H=new m0.Dictionary(Q.get(J),W,J,F.isOrdered()),Z=new b5.Field($.name(),H,$.nullable(),mF($));return Z||null}function mF($){let Q=new Map;if($){for(let J,Z,X=-1,W=Math.trunc($.customMetadataLength());++X<W;)if((J=$.customMetadata(X))&&(Z=J.key())!=null)Q.set(Z,J.value())}return Q}function qd($){return new m0.Int($.isSigned(),$.bitWidth())}function Hd($,Q){let J=$.typeType();switch(J){case W5.Type.NONE:return new m0.Null;case W5.Type.Null:return new m0.Null;case W5.Type.Binary:return new m0.Binary;case W5.Type.LargeBinary:return new m0.LargeBinary;case W5.Type.Utf8:return new m0.Utf8;case W5.Type.LargeUtf8:return new m0.LargeUtf8;case W5.Type.Bool:return new m0.Bool;case W5.Type.List:return new m0.List((Q||[])[0]);case W5.Type.Struct_:return new m0.Struct(Q||[])}switch(J){case W5.Type.Int:{let Z=$.type(new WJ1.Int);return new m0.Int(Z.isSigned(),Z.bitWidth())}case W5.Type.FloatingPoint:{let Z=$.type(new FJ1.FloatingPoint);return new m0.Float(Z.precision())}case W5.Type.Decimal:{let Z=$.type(new UJ1.Decimal);return new m0.Decimal(Z.scale(),Z.precision(),Z.bitWidth())}case W5.Type.Date:{let Z=$.type(new VJ1.Date);return new m0.Date_(Z.unit())}case W5.Type.Time:{let Z=$.type(new NJ1.Time);return new m0.Time(Z.unit(),Z.bitWidth())}case W5.Type.Timestamp:{let Z=$.type(new DJ1.Timestamp);return new m0.Timestamp(Z.unit(),Z.timezone())}case W5.Type.Interval:{let Z=$.type(new CJ1.Interval);return new m0.Interval(Z.unit())}case W5.Type.Duration:{let Z=$.type(new AJ1.Duration);return new m0.Duration(Z.unit())}case W5.Type.Union:{let Z=$.type(new zJ1.Union);return new m0.Union(Z.mode(),Z.typeIdsArray()||[],Q||[])}case W5.Type.FixedSizeBinary:{let Z=$.type(new BJ1.FixedSizeBinary);return new m0.FixedSizeBinary(Z.byteWidth())}case W5.Type.FixedSizeList:{let Z=$.type(new RJ1.FixedSizeList);return new m0.FixedSizeList(Z.listSize(),(Q||[])[0])}case W5.Type.Map:{let Z=$.type(new OJ1.Map);return new m0.Map_((Q||[])[0],Z.keysSorted())}}throw Error(`Unrecognized type: "${W5.Type[J]}" (${J})`)}function xJ1($,Q){let J=Q.fields.map((W)=>b5.Field.encode($,W));F8.Schema.startFieldsVector($,J.length);let Z=F8.Schema.createFieldsVector($,J),X=!(Q.metadata&&Q.metadata.size>0)?-1:F8.Schema.createCustomMetadataVector($,[...Q.metadata].map(([W,H])=>{let F=$.createString(`${W}`),V=$.createString(`${H}`);return y9.KeyValue.startKeyValue($),y9.KeyValue.addKey($,F),y9.KeyValue.addValue($,V),y9.KeyValue.endKeyValue($)}));if(F8.Schema.startSchema($),F8.Schema.addFields($,Z),F8.Schema.addEndianness($,cJ1?Yd.Endianness.Little:Yd.Endianness.Big),X!==-1)F8.Schema.addCustomMetadata($,X);return F8.Schema.endSchema($)}function gJ1($,Q){let J=-1,Z=-1,X=-1,W=Q.type,H=Q.typeId;if(!m0.DataType.isDictionary(W))Z=RO.instance.visit(W,$);else H=W.dictionary.typeId,X=RO.instance.visit(W,$),Z=RO.instance.visit(W.dictionary,$);let F=(W.children||[]).map((C)=>b5.Field.encode($,C)),V=B7.Field.createChildrenVector($,F),D=!(Q.metadata&&Q.metadata.size>0)?-1:B7.Field.createCustomMetadataVector($,[...Q.metadata].map(([C,z])=>{let R=$.createString(`${C}`),k=$.createString(`${z}`);return y9.KeyValue.startKeyValue($),y9.KeyValue.addKey($,R),y9.KeyValue.addValue($,k),y9.KeyValue.endKeyValue($)}));if(Q.name)J=$.createString(Q.name);if(B7.Field.startField($),B7.Field.addType($,Z),B7.Field.addTypeType($,H),B7.Field.addChildren($,V),B7.Field.addNullable($,!!Q.nullable),J!==-1)B7.Field.addName($,J);if(X!==-1)B7.Field.addDictionary($,X);if(D!==-1)B7.Field.addCustomMetadata($,D);return B7.Field.endField($)}function yJ1($,Q){let J=Q.nodes||[],Z=Q.buffers||[];g9.RecordBatch.startNodesVector($,J.length);for(let H of J.slice().reverse())O$.encode($,H);let X=$.endVector();g9.RecordBatch.startBuffersVector($,Z.length);for(let H of Z.slice().reverse())R$.encode($,H);let W=$.endVector();return g9.RecordBatch.startRecordBatch($),g9.RecordBatch.addLength($,BigInt(Q.length)),g9.RecordBatch.addNodes($,X),g9.RecordBatch.addBuffers($,W),g9.RecordBatch.endRecordBatch($)}function bJ1($,Q){let J=x4.encode($,Q.data);return gJ.DictionaryBatch.startDictionaryBatch($),gJ.DictionaryBatch.addId($,BigInt(Q.id)),gJ.DictionaryBatch.addIsDelta($,Q.isDelta),gJ.DictionaryBatch.addData($,J),gJ.DictionaryBatch.endDictionaryBatch($)}function fJ1($,Q){return HJ1.FieldNode.createFieldNode($,BigInt(Q.length),BigInt(Q.nullCount))}function mJ1($,Q){return qJ1.Buffer.createBuffer($,BigInt(Q.offset),BigInt(Q.length))}var cJ1=(()=>{let $=new ArrayBuffer(2);return new DataView($).setInt16(0,256,!0),new Int16Array($)[0]===256})()});var pF=o((Rd)=>{Object.defineProperty(Rd,"__esModule",{value:!0});Rd.magicX2AndPadding=Rd.magicAndPadding=Rd.magicLength=Rd.checkForMagicArrowString=Rd.MAGIC=Rd.MAGIC_STR=Rd.PADDING=Rd.JSONMessageReader=Rd.AsyncMessageReader=Rd.MessageReader=void 0;var f9=(_6(),Q4(v6)),m9=$5(),Nd=Z0(),yX=z$(),iJ1=U9(),nJ1=HR(),Dd=g5(),dF=L9(),R7=BX(),OO=($)=>`Expected ${m9.MessageHeader[$]} Message in stream, but was null or length 0.`,kO=($)=>`Header pointer of flatbuffer-encoded ${m9.MessageHeader[$]} Message is null or length 0.`,Cd=($,Q)=>`Expected to read ${$} metadata bytes, but only read ${Q}.`,Ad=($,Q)=>`Expected to read ${$} bytes for message body, but only read ${Q}.`;class PO{constructor($){this.source=$ instanceof dF.ByteStream?$:new dF.ByteStream($)}[Symbol.iterator](){return this}next(){let $;if(($=this.readMetadataLength()).done)return R7.ITERATOR_DONE;if($.value===-1&&($=this.readMetadataLength()).done)return R7.ITERATOR_DONE;if(($=this.readMetadata($.value)).done)return R7.ITERATOR_DONE;return $}throw($){return this.source.throw($)}return($){return this.source.return($)}readMessage($){let Q;if((Q=this.next()).done)return null;if($!=null&&Q.value.headerType!==$)throw Error(OO($));return Q.value}readMessageBody($){if($<=0)return new Uint8Array(0);let Q=(0,Dd.toUint8Array)(this.source.read($));if(Q.byteLength<$)throw Error(Ad($,Q.byteLength));return Q.byteOffset%8===0&&Q.byteOffset+Q.byteLength<=Q.buffer.byteLength?Q:Q.slice()}readSchema($=!1){let Q=m9.MessageHeader.Schema,J=this.readMessage(Q),Z=J===null||J===void 0?void 0:J.header();if($&&!Z)throw Error(kO(Q));return Z}readMetadataLength(){let $=this.source.read(Rd.PADDING),Q=$&&new Nd.ByteBuffer($),J=(Q===null||Q===void 0?void 0:Q.readInt32(0))||0;return{done:J===0,value:J}}readMetadata($){let Q=this.source.read($);if(!Q)return R7.ITERATOR_DONE;if(Q.byteLength<$)throw Error(Cd($,Q.byteLength));return{done:!1,value:yX.Message.decode(Q)}}}Rd.MessageReader=PO;class zd{constructor($,Q){this.source=$ instanceof dF.AsyncByteStream?$:(0,iJ1.isFileHandle)($)?new nJ1.AsyncRandomAccessFile($,Q):new dF.AsyncByteStream($)}[Symbol.asyncIterator](){return this}next(){return f9.__awaiter(this,void 0,void 0,function*(){let $;if(($=yield this.readMetadataLength()).done)return R7.ITERATOR_DONE;if($.value===-1&&($=yield this.readMetadataLength()).done)return R7.ITERATOR_DONE;if(($=yield this.readMetadata($.value)).done)return R7.ITERATOR_DONE;return $})}throw($){return f9.__awaiter(this,void 0,void 0,function*(){return yield this.source.throw($)})}return($){return f9.__awaiter(this,void 0,void 0,function*(){return yield this.source.return($)})}readMessage($){return f9.__awaiter(this,void 0,void 0,function*(){let Q;if((Q=yield this.next()).done)return null;if($!=null&&Q.value.headerType!==$)throw Error(OO($));return Q.value})}readMessageBody($){return f9.__awaiter(this,void 0,void 0,function*(){if($<=0)return new Uint8Array(0);let Q=(0,Dd.toUint8Array)(yield this.source.read($));if(Q.byteLength<$)throw Error(Ad($,Q.byteLength));return Q.byteOffset%8===0&&Q.byteOffset+Q.byteLength<=Q.buffer.byteLength?Q:Q.slice()})}readSchema(){return f9.__awaiter(this,arguments,void 0,function*($=!1){let Q=m9.MessageHeader.Schema,J=yield this.readMessage(Q),Z=J===null||J===void 0?void 0:J.header();if($&&!Z)throw Error(kO(Q));return Z})}readMetadataLength(){return f9.__awaiter(this,void 0,void 0,function*(){let $=yield this.source.read(Rd.PADDING),Q=$&&new Nd.ByteBuffer($),J=(Q===null||Q===void 0?void 0:Q.readInt32(0))||0;return{done:J===0,value:J}})}readMetadata($){return f9.__awaiter(this,void 0,void 0,function*(){let Q=yield this.source.read($);if(!Q)return R7.ITERATOR_DONE;if(Q.byteLength<$)throw Error(Cd($,Q.byteLength));return{done:!1,value:yX.Message.decode(Q)}})}}Rd.AsyncMessageReader=zd;class Bd extends PO{constructor($){super(new Uint8Array(0));this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=$ instanceof R7.ArrowJSON?$:new R7.ArrowJSON($)}next(){let{_json:$}=this;if(!this._schema)return this._schema=!0,{done:!1,value:yX.Message.fromJSON($.schema,m9.MessageHeader.Schema)};if(this._dictionaryIndex<$.dictionaries.length){let Q=$.dictionaries[this._dictionaryIndex++];return this._body=Q.data.columns,{done:!1,value:yX.Message.fromJSON(Q,m9.MessageHeader.DictionaryBatch)}}if(this._batchIndex<$.batches.length){let Q=$.batches[this._batchIndex++];return this._body=Q.columns,{done:!1,value:yX.Message.fromJSON(Q,m9.MessageHeader.RecordBatch)}}return this._body=[],R7.ITERATOR_DONE}readMessageBody($){return Q(this._body);function Q(J){return(J||[]).reduce((Z,X)=>[...Z,...X.VALIDITY&&[X.VALIDITY]||[],...X.TYPE_ID&&[X.TYPE_ID]||[],...X.OFFSET&&[X.OFFSET]||[],...X.DATA&&[X.DATA]||[],...Q(X.children)],[])}}readMessage($){let Q;if((Q=this.next()).done)return null;if($!=null&&Q.value.headerType!==$)throw Error(OO($));return Q.value}readSchema(){let $=m9.MessageHeader.Schema,Q=this.readMessage($),J=Q===null||Q===void 0?void 0:Q.header();if(!Q||!J)throw Error(kO($));return J}}Rd.JSONMessageReader=Bd;Rd.PADDING=4;Rd.MAGIC_STR="ARROW1";Rd.MAGIC=new Uint8Array(Rd.MAGIC_STR.length);for(let $=0;$<Rd.MAGIC_STR.length;$+=1)Rd.MAGIC[$]=Rd.MAGIC_STR.codePointAt($);function sJ1($,Q=0){for(let J=-1,Z=Rd.MAGIC.length;++J<Z;)if(Rd.MAGIC[J]!==$[Q+J])return!1;return!0}Rd.checkForMagicArrowString=sJ1;Rd.magicLength=Rd.MAGIC.length;Rd.magicAndPadding=Rd.magicLength+Rd.PADDING;Rd.magicX2AndPadding=Rd.magicLength*2+Rd.PADDING});var lX=o((Ld)=>{Object.defineProperty(Ld,"__esModule",{value:!0});Ld.AsyncRecordBatchFileReader=Ld.RecordBatchFileReader=Ld.AsyncRecordBatchStreamReader=Ld.RecordBatchStreamReader=Ld.RecordBatchReader=void 0;var c0=(_6(),Q4(v6)),$Z1=J3(),kd=B6(),QZ1=u0(),uF=$5(),Td=KR(),Pd=WX(),Md=L9(),mX=HR(),Id=rf(),wO=v9(),k$=BX(),y4=pF(),g4=U9();class U8 extends k$.ReadableInterop{constructor($){super();this._impl=$}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw($){return this._impl.throw($)}return($){return this._impl.return($)}cancel(){return this._impl.cancel()}reset($){return this._impl.reset($),this._DOMStream=void 0,this._nodeStream=void 0,this}open($){let Q=this._impl.open($);return(0,g4.isPromise)(Q)?Q.then(()=>this):this}readRecordBatch($){return this._impl.isFile()?this._impl.readRecordBatch($):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Pd.default.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Pd.default.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode($){throw Error('"throughNode" not available in this environment')}static throughDOM($,Q){throw Error('"throughDOM" not available in this environment')}static from($){if($ instanceof U8)return $;else if((0,g4.isArrowJSON)($))return JZ1($);else if((0,g4.isFileHandle)($))return XZ1($);else if((0,g4.isPromise)($))return(()=>c0.__awaiter(this,void 0,void 0,function*(){return yield U8.from(yield $)}))();else if((0,g4.isFetchResponse)($)||(0,g4.isReadableDOMStream)($)||(0,g4.isReadableNodeStream)($)||(0,g4.isAsyncIterable)($))return KZ1(new Md.AsyncByteStream($));return ZZ1(new Md.ByteStream($))}static readAll($){if($ instanceof U8)return $.isSync()?wd($):Sd($);else if((0,g4.isArrowJSON)($)||ArrayBuffer.isView($)||(0,g4.isIterable)($)||(0,g4.isIteratorResult)($))return wd($);return Sd($)}}Ld.RecordBatchReader=U8;class yJ extends U8{constructor($){super($);this._impl=$}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return c0.__asyncGenerator(this,arguments,function*(){yield c0.__await(yield*c0.__asyncDelegator(c0.__asyncValues(this[Symbol.iterator]())))})}}Ld.RecordBatchStreamReader=yJ;class bJ extends U8{constructor($){super($);this._impl=$}readAll(){return c0.__awaiter(this,void 0,void 0,function*(){var $,Q,J,Z;let X=[];try{for(var W=!0,H=c0.__asyncValues(this),F;F=yield H.next(),$=F.done,!$;W=!0){Z=F.value,W=!1;let V=Z;X.push(V)}}catch(V){Q={error:V}}finally{try{if(!W&&!$&&(J=H.return))yield J.call(H)}finally{if(Q)throw Q.error}}return X})}[Symbol.iterator](){throw Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}Ld.AsyncRecordBatchStreamReader=bJ;class iF extends yJ{constructor($){super($);this._impl=$}}Ld.RecordBatchFileReader=iF;class SO extends bJ{constructor($){super($);this._impl=$}}Ld.AsyncRecordBatchFileReader=SO;class TO{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor($=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=$}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset($){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=$,this.dictionaries=new Map,this}_loadRecordBatch($,Q){let J=this._loadVectors($,Q,this.schema.fields),Z=(0,$Z1.makeData)({type:new QZ1.Struct(this.schema.fields),length:$.length,children:J});return new wO.RecordBatch(this.schema,Z)}_loadDictionaryBatch($,Q){let{id:J,isDelta:Z}=$,{dictionaries:X,schema:W}=this,H=X.get(J),F=W.dictionaries.get(J),V=this._loadVectors($.data,Q,[F]);return(H&&Z?H.concat(new kd.Vector(V)):new kd.Vector(V)).memoize()}_loadVectors($,Q,J){return new Id.VectorLoader(Q,$.nodes,$.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(J)}}class cX extends TO{constructor($,Q){super(Q);this._reader=!(0,g4.isArrowJSON)($)?new y4.MessageReader(this._handle=$):new y4.JSONMessageReader(this._handle=$)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){if(!this.closed&&(this.closed=!0))this.reset()._reader.return(),this._reader=null,this.dictionaries=null}open($){if(!this.closed){if(this.autoDestroy=jd(this,$),!(this.schema||(this.schema=this._reader.readSchema())))this.cancel()}return this}throw($){if(!this.closed&&this.autoDestroy&&(this.closed=!0))return this.reset()._reader.throw($);return k$.ITERATOR_DONE}return($){if(!this.closed&&this.autoDestroy&&(this.closed=!0))return this.reset()._reader.return($);return k$.ITERATOR_DONE}next(){if(this.closed)return k$.ITERATOR_DONE;let $,{_reader:Q}=this;while($=this._readNextMessageAndValidate())if($.isSchema())this.reset($.header());else if($.isRecordBatch()){this._recordBatchIndex++;let J=$.header(),Z=Q.readMessageBody($.bodyLength);return{done:!1,value:this._loadRecordBatch(J,Z)}}else if($.isDictionaryBatch()){this._dictionaryIndex++;let J=$.header(),Z=Q.readMessageBody($.bodyLength),X=this._loadDictionaryBatch(J,Z);this.dictionaries.set(J.id,X)}if(this.schema&&this._recordBatchIndex===0)return this._recordBatchIndex++,{done:!1,value:new wO._InternalEmptyPlaceholderRecordBatch(this.schema)};return this.return()}_readNextMessageAndValidate($){return this._reader.readMessage($)}}class dX extends TO{constructor($,Q){super(Q);this._reader=new y4.AsyncMessageReader(this._handle=$)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return c0.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&(this.closed=!0))yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null})}open($){return c0.__awaiter(this,void 0,void 0,function*(){if(!this.closed){if(this.autoDestroy=jd(this,$),!(this.schema||(this.schema=yield this._reader.readSchema())))yield this.cancel()}return this})}throw($){return c0.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&this.autoDestroy&&(this.closed=!0))return yield this.reset()._reader.throw($);return k$.ITERATOR_DONE})}return($){return c0.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&this.autoDestroy&&(this.closed=!0))return yield this.reset()._reader.return($);return k$.ITERATOR_DONE})}next(){return c0.__awaiter(this,void 0,void 0,function*(){if(this.closed)return k$.ITERATOR_DONE;let $,{_reader:Q}=this;while($=yield this._readNextMessageAndValidate())if($.isSchema())yield this.reset($.header());else if($.isRecordBatch()){this._recordBatchIndex++;let J=$.header(),Z=yield Q.readMessageBody($.bodyLength);return{done:!1,value:this._loadRecordBatch(J,Z)}}else if($.isDictionaryBatch()){this._dictionaryIndex++;let J=$.header(),Z=yield Q.readMessageBody($.bodyLength),X=this._loadDictionaryBatch(J,Z);this.dictionaries.set(J.id,X)}if(this.schema&&this._recordBatchIndex===0)return this._recordBatchIndex++,{done:!1,value:new wO._InternalEmptyPlaceholderRecordBatch(this.schema)};return yield this.return()})}_readNextMessageAndValidate($){return c0.__awaiter(this,void 0,void 0,function*(){return yield this._reader.readMessage($)})}}class IO extends cX{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor($,Q){super($ instanceof mX.RandomAccessFile?$:new mX.RandomAccessFile($),Q)}isSync(){return!0}isFile(){return!0}open($){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(let Q of this._footer.dictionaryBatches())Q&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open($)}readRecordBatch($){var Q;if(this.closed)return null;if(!this._footer)this.open();let J=(Q=this._footer)===null||Q===void 0?void 0:Q.getRecordBatch($);if(J&&this._handle.seek(J.offset)){let Z=this._reader.readMessage(uF.MessageHeader.RecordBatch);if(Z===null||Z===void 0?void 0:Z.isRecordBatch()){let X=Z.header(),W=this._reader.readMessageBody(Z.bodyLength);return this._loadRecordBatch(X,W)}}return null}_readDictionaryBatch($){var Q;let J=(Q=this._footer)===null||Q===void 0?void 0:Q.getDictionaryBatch($);if(J&&this._handle.seek(J.offset)){let Z=this._reader.readMessage(uF.MessageHeader.DictionaryBatch);if(Z===null||Z===void 0?void 0:Z.isDictionaryBatch()){let X=Z.header(),W=this._reader.readMessageBody(Z.bodyLength),H=this._loadDictionaryBatch(X,W);this.dictionaries.set(X.id,H)}}}_readFooter(){let{_handle:$}=this,Q=$.size-y4.magicAndPadding,J=$.readInt32(Q),Z=$.readAt(Q-J,J);return Td.Footer.decode(Z)}_readNextMessageAndValidate($){var Q;if(!this._footer)this.open();if(this._footer&&this._recordBatchIndex<this.numRecordBatches){let J=(Q=this._footer)===null||Q===void 0?void 0:Q.getRecordBatch(this._recordBatchIndex);if(J&&this._handle.seek(J.offset))return this._reader.readMessage($)}return null}}class Gd extends dX{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor($,...Q){let J=typeof Q[0]!=="number"?Q.shift():void 0,Z=Q[0]instanceof Map?Q.shift():void 0;super($ instanceof mX.AsyncRandomAccessFile?$:new mX.AsyncRandomAccessFile($,J),Z)}isFile(){return!0}isAsync(){return!0}open($){let Q=Object.create(null,{open:{get:()=>super.open}});return c0.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(let J of this._footer.dictionaryBatches())J&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield Q.open.call(this,$)})}readRecordBatch($){return c0.__awaiter(this,void 0,void 0,function*(){var Q;if(this.closed)return null;if(!this._footer)yield this.open();let J=(Q=this._footer)===null||Q===void 0?void 0:Q.getRecordBatch($);if(J&&(yield this._handle.seek(J.offset))){let Z=yield this._reader.readMessage(uF.MessageHeader.RecordBatch);if(Z===null||Z===void 0?void 0:Z.isRecordBatch()){let X=Z.header(),W=yield this._reader.readMessageBody(Z.bodyLength);return this._loadRecordBatch(X,W)}}return null})}_readDictionaryBatch($){return c0.__awaiter(this,void 0,void 0,function*(){var Q;let J=(Q=this._footer)===null||Q===void 0?void 0:Q.getDictionaryBatch($);if(J&&(yield this._handle.seek(J.offset))){let Z=yield this._reader.readMessage(uF.MessageHeader.DictionaryBatch);if(Z===null||Z===void 0?void 0:Z.isDictionaryBatch()){let X=Z.header(),W=yield this._reader.readMessageBody(Z.bodyLength),H=this._loadDictionaryBatch(X,W);this.dictionaries.set(X.id,H)}}})}_readFooter(){return c0.__awaiter(this,void 0,void 0,function*(){let{_handle:$}=this;$._pending&&(yield $._pending);let Q=$.size-y4.magicAndPadding,J=yield $.readInt32(Q),Z=yield $.readAt(Q-J,J);return Td.Footer.decode(Z)})}_readNextMessageAndValidate($){return c0.__awaiter(this,void 0,void 0,function*(){if(!this._footer)yield this.open();if(this._footer&&this._recordBatchIndex<this.numRecordBatches){let Q=this._footer.getRecordBatch(this._recordBatchIndex);if(Q&&(yield this._handle.seek(Q.offset)))return yield this._reader.readMessage($)}return null})}}class Ed extends cX{constructor($,Q){super($,Q)}_loadVectors($,Q,J){return new Id.JSONVectorLoader(Q,$.nodes,$.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(J)}}function jd($,Q){return Q&&typeof Q.autoDestroy==="boolean"?Q.autoDestroy:$.autoDestroy}function*wd($){let Q=U8.from($);try{if(!Q.open({autoDestroy:!1}).closed)do yield Q;while(!Q.reset().open().closed)}finally{Q.cancel()}}function Sd($){return c0.__asyncGenerator(this,arguments,function*(){let J=yield c0.__await(U8.from($));try{if(!(yield c0.__await(J.open({autoDestroy:!1}))).closed)do yield yield c0.__await(J);while(!(yield c0.__await(J.reset().open())).closed)}finally{yield c0.__await(J.cancel())}})}function JZ1($){return new yJ(new Ed($))}function ZZ1($){let Q=$.peek(y4.magicLength+7&-8);return Q&&Q.byteLength>=4?!(0,y4.checkForMagicArrowString)(Q)?new yJ(new cX($)):new iF(new IO($.read())):new yJ(new cX(function*(){}()))}function KZ1($){return c0.__awaiter(this,void 0,void 0,function*(){let Q=yield $.peek(y4.magicLength+7&-8);return Q&&Q.byteLength>=4?!(0,y4.checkForMagicArrowString)(Q)?new bJ(new dX($)):new iF(new IO(yield $.read())):new bJ(new dX(function(){return c0.__asyncGenerator(this,arguments,function*(){})}()))})}function XZ1($){return c0.__awaiter(this,void 0,void 0,function*(){let{size:Q}=yield $.stat(),J=new mX.AsyncRandomAccessFile($,Q);if(Q>=y4.magicX2AndPadding&&(0,y4.checkForMagicArrowString)(yield J.readAt(0,y4.magicLength+7&-8)))return new SO(new Gd(J));return new bJ(new dX(J))})}});var bd=o((gd)=>{Object.defineProperty(gd,"__esModule",{value:!0});gd.VectorAssembler=void 0;var FZ1=B6(),UZ1=g6(),vd=$5(),VZ1=v9(),xd=g5(),EO=q$(),jO=z$(),GO=u0(),_d=k9();class q5 extends UZ1.Visitor{static assemble(...$){let Q=(Z)=>Z.flatMap((X)=>Array.isArray(X)?Q(X):X instanceof VZ1.RecordBatch?X.data.children:X.data),J=new q5;return J.visitMany(Q($)),J}constructor(){super();this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit($){if($ instanceof FZ1.Vector)return this.visitMany($.data),this;let{type:Q}=$;if(!GO.DataType.isDictionary(Q)){let{length:J}=$;if(J>2147483647)throw RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(GO.DataType.isUnion(Q))this.nodes.push(new jO.FieldNode(J,0));else{let{nullCount:Z}=$;if(!GO.DataType.isNull(Q))O7.call(this,Z<=0?new Uint8Array(0):(0,EO.truncateBitmap)($.offset,J,$.nullBitmap));this.nodes.push(new jO.FieldNode(J,Z))}}return super.visit($)}visitNull($){return this}visitDictionary($){return this.visit($.clone($.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}gd.VectorAssembler=q5;function O7($){let Q=$.byteLength+7&-8;return this.buffers.push($),this.bufferRegions.push(new jO.BufferRegion(this._byteLength,Q)),this._byteLength+=Q,this}function NZ1($){var Q;let{type:J,length:Z,typeIds:X,valueOffsets:W}=$;if(O7.call(this,X),J.mode===vd.UnionMode.Sparse)return LO.call(this,$);else if(J.mode===vd.UnionMode.Dense)if($.offset<=0)return O7.call(this,W),LO.call(this,$);else{let H=new Int32Array(Z),F=Object.create(null),V=Object.create(null);for(let D,C,z=-1;++z<Z;){if((D=X[z])===void 0)continue;if((C=F[D])===void 0)C=F[D]=W[z];H[z]=W[z]-C,V[D]=((Q=V[D])!==null&&Q!==void 0?Q:0)+1}O7.call(this,H),this.visitMany($.children.map((D,C)=>{let z=J.typeIds[C],R=F[z],k=V[z];return D.slice(R,Math.min(Z,k))}))}return this}function DZ1($){let Q;if($.nullCount>=$.length)return O7.call(this,new Uint8Array(0));else if((Q=$.values)instanceof Uint8Array)return O7.call(this,(0,EO.truncateBitmap)($.offset,$.length,Q));return O7.call(this,(0,EO.packBools)($.values))}function V8($){return O7.call(this,$.values.subarray(0,$.length*$.stride))}function nF($){let{length:Q,values:J,valueOffsets:Z}=$,X=(0,_d.bigIntToNumber)(Z[0]),W=(0,_d.bigIntToNumber)(Z[Q]),H=Math.min(W-X,J.byteLength-X);return O7.call(this,(0,xd.rebaseValueOffsets)(-X,Q+1,Z)),O7.call(this,J.subarray(X,X+H)),this}function hO($){let{length:Q,valueOffsets:J}=$;if(J){let{[0]:Z,[Q]:X}=J;return O7.call(this,(0,xd.rebaseValueOffsets)(-Z,Q+1,J)),this.visit($.children[0].slice(Z,X-Z))}return this.visit($.children[0])}function LO($){return this.visitMany($.type.children.map((Q,J)=>$.children[J]).filter(Boolean))[0]}q5.prototype.visitBool=DZ1;q5.prototype.visitInt=V8;q5.prototype.visitFloat=V8;q5.prototype.visitUtf8=nF;q5.prototype.visitLargeUtf8=nF;q5.prototype.visitBinary=nF;q5.prototype.visitLargeBinary=nF;q5.prototype.visitFixedSizeBinary=V8;q5.prototype.visitDate=V8;q5.prototype.visitTimestamp=V8;q5.prototype.visitTime=V8;q5.prototype.visitDecimal=V8;q5.prototype.visitList=hO;q5.prototype.visitStruct=LO;q5.prototype.visitUnion=NZ1;q5.prototype.visitInterval=V8;q5.prototype.visitDuration=V8;q5.prototype.visitFixedSizeList=hO;q5.prototype.visitMap=hO});var dd=o((md)=>{Object.defineProperty(md,"__esModule",{value:!0});md.JSONTypeAssembler=void 0;var CZ1=g6(),S5=AJ(),P$=$5();class fd extends CZ1.Visitor{visit($){return $==null?void 0:super.visit($)}visitNull({typeId:$}){return{name:S5.Type[$].toLowerCase()}}visitInt({typeId:$,bitWidth:Q,isSigned:J}){return{name:S5.Type[$].toLowerCase(),bitWidth:Q,isSigned:J}}visitFloat({typeId:$,precision:Q}){return{name:S5.Type[$].toLowerCase(),precision:P$.Precision[Q]}}visitBinary({typeId:$}){return{name:S5.Type[$].toLowerCase()}}visitLargeBinary({typeId:$}){return{name:S5.Type[$].toLowerCase()}}visitBool({typeId:$}){return{name:S5.Type[$].toLowerCase()}}visitUtf8({typeId:$}){return{name:S5.Type[$].toLowerCase()}}visitLargeUtf8({typeId:$}){return{name:S5.Type[$].toLowerCase()}}visitDecimal({typeId:$,scale:Q,precision:J,bitWidth:Z}){return{name:S5.Type[$].toLowerCase(),scale:Q,precision:J,bitWidth:Z}}visitDate({typeId:$,unit:Q}){return{name:S5.Type[$].toLowerCase(),unit:P$.DateUnit[Q]}}visitTime({typeId:$,unit:Q,bitWidth:J}){return{name:S5.Type[$].toLowerCase(),unit:P$.TimeUnit[Q],bitWidth:J}}visitTimestamp({typeId:$,timezone:Q,unit:J}){return{name:S5.Type[$].toLowerCase(),unit:P$.TimeUnit[J],timezone:Q}}visitInterval({typeId:$,unit:Q}){return{name:S5.Type[$].toLowerCase(),unit:P$.IntervalUnit[Q]}}visitDuration({typeId:$,unit:Q}){return{name:S5.Type[$].toLocaleLowerCase(),unit:P$.TimeUnit[Q]}}visitList({typeId:$}){return{name:S5.Type[$].toLowerCase()}}visitStruct({typeId:$}){return{name:S5.Type[$].toLowerCase()}}visitUnion({typeId:$,mode:Q,typeIds:J}){return{name:S5.Type[$].toLowerCase(),mode:P$.UnionMode[Q].toUpperCase(),typeIds:[...J]}}visitDictionary($){return this.visit($.dictionary)}visitFixedSizeBinary({typeId:$,byteWidth:Q}){return{name:S5.Type[$].toLowerCase(),byteWidth:Q}}visitFixedSizeList({typeId:$,listSize:Q}){return{name:S5.Type[$].toLowerCase(),listSize:Q}}visitMap({typeId:$,keysSorted:Q}){return{name:S5.Type[$].toLowerCase(),keysSorted:Q}}}md.JSONTypeAssembler=fd});var ud=o((ld)=>{Object.defineProperty(ld,"__esModule",{value:!0});ld.JSONVectorAssembler=void 0;var AZ1=oH(),pX=B6(),zZ1=g6(),BZ1=$5(),vO=$5(),sF=q$(),_O=u0();class gO extends zZ1.Visitor{static assemble(...$){let Q=new gO;return $.map(({schema:J,data:Z})=>{return Q.visitMany(J.fields,Z.children)})}visit({name:$},Q){let{length:J}=Q,{offset:Z,nullCount:X,nullBitmap:W}=Q,H=_O.DataType.isDictionary(Q.type)?Q.type.indices:Q.type,F=Object.assign([],Q.buffers,{[BZ1.BufferType.VALIDITY]:void 0});return Object.assign({name:$,count:J,VALIDITY:_O.DataType.isNull(H)||_O.DataType.isUnion(H)?void 0:X<=0?Array.from({length:J},()=>1):[...new sF.BitIterator(W,Z,J,null,sF.getBit)]},super.visit(Q.clone(H,Z,J,0,F)))}visitNull(){return{}}visitBool({values:$,offset:Q,length:J}){return{DATA:[...new sF.BitIterator($,Q,J,null,sF.getBool)]}}visitInt($){return{DATA:$.type.bitWidth<64?[...$.values]:[...c9($.values,2)]}}visitFloat($){return{DATA:[...$.values]}}visitUtf8($){return{DATA:[...new pX.Vector([$])],OFFSET:[...$.valueOffsets]}}visitLargeUtf8($){return{DATA:[...new pX.Vector([$])],OFFSET:[...c9($.valueOffsets,2)]}}visitBinary($){return{DATA:[...xO(new pX.Vector([$]))],OFFSET:[...$.valueOffsets]}}visitLargeBinary($){return{DATA:[...xO(new pX.Vector([$]))],OFFSET:[...c9($.valueOffsets,2)]}}visitFixedSizeBinary($){return{DATA:[...xO(new pX.Vector([$]))]}}visitDate($){return{DATA:$.type.unit===vO.DateUnit.DAY?[...$.values]:[...c9($.values,2)]}}visitTimestamp($){return{DATA:[...c9($.values,2)]}}visitTime($){return{DATA:$.type.unit<vO.TimeUnit.MICROSECOND?[...$.values]:[...c9($.values,2)]}}visitDecimal($){return{DATA:[...c9($.values,4)]}}visitList($){return{OFFSET:[...$.valueOffsets],children:this.visitMany($.type.children,$.children)}}visitStruct($){return{children:this.visitMany($.type.children,$.children)}}visitUnion($){return{TYPE_ID:[...$.typeIds],OFFSET:$.type.mode===vO.UnionMode.Dense?[...$.valueOffsets]:void 0,children:this.visitMany($.type.children,$.children)}}visitInterval($){return{DATA:[...$.values]}}visitDuration($){return{DATA:[...c9($.values,2)]}}visitFixedSizeList($){return{children:this.visitMany($.type.children,$.children)}}visitMap($){return{OFFSET:[...$.valueOffsets],children:this.visitMany($.type.children,$.children)}}}ld.JSONVectorAssembler=gO;function*xO($){for(let Q of $)yield Q.reduce((J,Z)=>{return`${J}${("0"+(Z&255).toString(16)).slice(-2)}`},"").toUpperCase()}function*c9($,Q){let J=new Uint32Array($.buffer);for(let Z=-1,X=J.length/Q;++Z<X;)yield`${AZ1.BN.new(J.subarray((Z+0)*Q,(Z+1)*Q),!1)}`}});var rF=o((rd)=>{Object.defineProperty(rd,"__esModule",{value:!0});rd.RecordBatchJSONWriter=rd.RecordBatchFileWriter=rd.RecordBatchStreamWriter=rd.RecordBatchWriter=void 0;var id=(_6(),Q4(v6)),fO=hJ(),RZ1=pF(),OZ1=B6(),kZ1=u0(),oF=z$(),yO=z$(),fJ=KR(),mO=$5(),nd=vX(),bO=L9(),sd=bd(),PZ1=dd(),od=ud(),MZ1=g5(),aF=v9(),wZ1=BX(),U3=U9();class uX extends wZ1.ReadableInterop{static throughNode($){throw Error('"throughNode" not available in this environment')}static throughDOM($,Q){throw Error('"throughDOM" not available in this environment')}constructor($){super();this._position=0,this._started=!1,this._sink=new bO.AsyncByteQueue,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,(0,U3.isObject)($)||($={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof $.autoDestroy==="boolean"?$.autoDestroy:!0,this._writeLegacyIpcFormat=typeof $.writeLegacyIpcFormat==="boolean"?$.writeLegacyIpcFormat:!1}toString($=!1){return this._sink.toString($)}toUint8Array($=!1){return this._sink.toUint8Array($)}writeAll($){if((0,U3.isPromise)($))return $.then((Q)=>this.writeAll(Q));else if((0,U3.isAsyncIterable)($))return uO(this,$);return pO(this,$)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream($){return this._sink.toDOMStream($)}toNodeStream($){return this._sink.toNodeStream($)}close(){return this.reset()._sink.close()}abort($){return this.reset()._sink.abort($)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset($=this._sink,Q=null){if($===this._sink||$ instanceof bO.AsyncByteQueue)this._sink=$;else if(this._sink=new bO.AsyncByteQueue,$&&(0,U3.isWritableDOMStream)($))this.toDOMStream({type:"bytes"}).pipeTo($);else if($&&(0,U3.isWritableNodeStream)($))this.toNodeStream({objectMode:!1}).pipe($);if(this._started&&this._schema)this._writeFooter(this._schema);if(this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,!Q||!(0,nd.compareSchemas)(Q,this._schema))if(Q==null)this._position=0,this._schema=null;else this._started=!0,this._schema=Q,this._writeSchema(Q);return this}write($){let Q=null;if(!this._sink)throw Error("RecordBatchWriter is closed");else if($==null)return this.finish()&&void 0;else if($ instanceof fO.Table&&!(Q=$.schema))return this.finish()&&void 0;else if($ instanceof aF.RecordBatch&&!(Q=$.schema))return this.finish()&&void 0;if(Q&&!(0,nd.compareSchemas)(Q,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,Q)}if($ instanceof aF.RecordBatch){if(!($ instanceof aF._InternalEmptyPlaceholderRecordBatch))this._writeRecordBatch($)}else if($ instanceof fO.Table)this.writeAll($.batches);else if((0,U3.isIterable)($))this.writeAll($)}_writeMessage($,Q=8){let J=Q-1,Z=oF.Message.encode($),X=Z.byteLength,W=!this._writeLegacyIpcFormat?8:4,H=X+W+J&~J,F=H-X-W;if($.headerType===mO.MessageHeader.RecordBatch)this._recordBatchBlocks.push(new fJ.FileBlock(H,$.bodyLength,this._position));else if($.headerType===mO.MessageHeader.DictionaryBatch)this._dictionaryBlocks.push(new fJ.FileBlock(H,$.bodyLength,this._position));if(!this._writeLegacyIpcFormat)this._write(Int32Array.of(-1));if(this._write(Int32Array.of(H-W)),X>0)this._write(Z);return this._writePadding(F)}_write($){if(this._started){let Q=(0,MZ1.toUint8Array)($);if(Q&&Q.byteLength>0)this._sink.write(Q),this._position+=Q.byteLength}return this}_writeSchema($){return this._writeMessage(oF.Message.from($))}_writeFooter($){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(RZ1.MAGIC)}_writePadding($){return $>0?this._write(new Uint8Array($)):this}_writeRecordBatch($){let{byteLength:Q,nodes:J,bufferRegions:Z,buffers:X}=sd.VectorAssembler.assemble($),W=new yO.RecordBatch($.numRows,J,Z),H=oF.Message.from(W,Q);return this._writeDictionaries($)._writeMessage(H)._writeBodyBuffers(X)}_writeDictionaryBatch($,Q,J=!1){let{byteLength:Z,nodes:X,bufferRegions:W,buffers:H}=sd.VectorAssembler.assemble(new OZ1.Vector([$])),F=new yO.RecordBatch($.length,X,W),V=new yO.DictionaryBatch(F,Q,J),D=oF.Message.from(V,Z);return this._writeMessage(D)._writeBodyBuffers(H)}_writeBodyBuffers($){let Q,J,Z;for(let X=-1,W=$.length;++X<W;)if((Q=$[X])&&(J=Q.byteLength)>0){if(this._write(Q),(Z=(J+7&-8)-J)>0)this._writePadding(Z)}return this}_writeDictionaries($){var Q,J;for(let[Z,X]of $.dictionaries){let W=(Q=X===null||X===void 0?void 0:X.data)!==null&&Q!==void 0?Q:[],H=this._seenDictionaries.get(Z),F=(J=this._dictionaryDeltaOffsets.get(Z))!==null&&J!==void 0?J:0;if(!H||H.data[0]!==W[0])for(let[V,D]of W.entries())this._writeDictionaryBatch(D,Z,V>0);else if(F<W.length)for(let V of W.slice(F))this._writeDictionaryBatch(V,Z,!0);this._seenDictionaries.set(Z,X),this._dictionaryDeltaOffsets.set(Z,W.length)}return this}}rd.RecordBatchWriter=uX;class cO extends uX{static writeAll($,Q){let J=new cO(Q);if((0,U3.isPromise)($))return $.then((Z)=>J.writeAll(Z));else if((0,U3.isAsyncIterable)($))return uO(J,$);return pO(J,$)}}rd.RecordBatchStreamWriter=cO;class dO extends uX{static writeAll($){let Q=new dO;if((0,U3.isPromise)($))return $.then((J)=>Q.writeAll(J));else if((0,U3.isAsyncIterable)($))return uO(Q,$);return pO(Q,$)}constructor(){super();this._autoDestroy=!0}_writeSchema($){return this._writeMagic()._writePadding(2)}_writeDictionaryBatch($,Q,J=!1){if(!J&&this._seenDictionaries.has(Q))throw Error("The Arrow File format does not support replacement dictionaries. ");return super._writeDictionaryBatch($,Q,J)}_writeFooter($){let Q=fJ.Footer.encode(new fJ.Footer($,mO.MetadataVersion.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter($)._write(Q)._write(Int32Array.of(Q.byteLength))._writeMagic()}}rd.RecordBatchFileWriter=dO;class lO extends uX{static writeAll($){return new lO().writeAll($)}constructor(){super();this._autoDestroy=!0,this._recordBatches=[],this._recordBatchesWithDictionaries=[]}_writeMessage(){return this}_writeFooter($){return this}_writeSchema($){return this._write(`{
  "schema": ${JSON.stringify({fields:$.fields.map((Q)=>ad(Q))},null,2)}`)}_writeDictionaries($){if($.dictionaries.size>0)this._recordBatchesWithDictionaries.push($);return this}_writeDictionaryBatch($,Q,J=!1){return this._write(this._dictionaryBlocks.length===0?"    ":`,
    `),this._write(SZ1($,Q,J)),this._dictionaryBlocks.push(new fJ.FileBlock(0,0,0)),this}_writeRecordBatch($){return this._writeDictionaries($),this._recordBatches.push($),this}close(){if(this._recordBatchesWithDictionaries.length>0){this._write(`,
  "dictionaries": [
`);for(let $ of this._recordBatchesWithDictionaries)super._writeDictionaries($);this._write(`
  ]`)}if(this._recordBatches.length>0){for(let $=-1,Q=this._recordBatches.length;++$<Q;)this._write($===0?`,
  "batches": [
    `:`,
    `),this._write(TZ1(this._recordBatches[$])),this._recordBatchBlocks.push(new fJ.FileBlock(0,0,0));this._write(`
  ]`)}if(this._schema)this._write(`
}`);return this._recordBatchesWithDictionaries=[],this._recordBatches=[],super.close()}}rd.RecordBatchJSONWriter=lO;function pO($,Q){let J=Q;if(Q instanceof fO.Table)J=Q.batches,$.reset(void 0,Q.schema);for(let Z of J)$.write(Z);return $.finish()}function uO($,Q){return id.__awaiter(this,void 0,void 0,function*(){var J,Z,X,W,H,F,V;try{for(J=!0,Z=id.__asyncValues(Q);X=yield Z.next(),W=X.done,!W;J=!0){V=X.value,J=!1;let D=V;$.write(D)}}catch(D){H={error:D}}finally{try{if(!J&&!W&&(F=Z.return))yield F.call(Z)}finally{if(H)throw H.error}}return $.finish()})}function ad({name:$,type:Q,nullable:J}){let Z=new PZ1.JSONTypeAssembler;return{name:$,nullable:J,type:Z.visit(Q),children:(Q.children||[]).map((X)=>ad(X)),dictionary:!kZ1.DataType.isDictionary(Q)?void 0:{id:Q.id,isOrdered:Q.isOrdered,indexType:Z.visit(Q.indices)}}}function SZ1($,Q,J=!1){let[Z]=od.JSONVectorAssembler.assemble(new aF.RecordBatch({[Q]:$}));return JSON.stringify({id:Q,isDelta:J,data:{count:$.length,columns:Z}},null,2)}function TZ1($){let[Q]=od.JSONVectorAssembler.assemble($);return JSON.stringify({count:$.numRows,columns:Q},null,2)}});var Zl=o((Ql)=>{Object.defineProperty(Ql,"__esModule",{value:!0});Ql.toDOMStream=void 0;var tF=(_6(),Q4(v6)),$l=g5(),ed=U9();function jZ1($,Q){if((0,ed.isAsyncIterable)($))return hZ1($,Q);if((0,ed.isIterable)($))return LZ1($,Q);throw Error("toDOMStream() must be called with an Iterable or AsyncIterable")}Ql.toDOMStream=jZ1;function LZ1($,Q){let J=null,Z=(Q===null||Q===void 0?void 0:Q.type)==="bytes"||!1,X=(Q===null||Q===void 0?void 0:Q.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},Q),{start(H){W(H,J||(J=$[Symbol.iterator]()))},pull(H){J?W(H,J):H.close()},cancel(){((J===null||J===void 0?void 0:J.return)&&J.return()||!0)&&(J=null)}}),Object.assign({highWaterMark:Z?X:void 0},Q));function W(H,F){let V,D=null,C=H.desiredSize||null;while(!(D=F.next(Z?C:null)).done){if(ArrayBuffer.isView(D.value)&&(V=(0,$l.toUint8Array)(D.value)))C!=null&&Z&&(C=C-V.byteLength+1),D.value=V;if(H.enqueue(D.value),C!=null&&--C<=0)return}H.close()}}function hZ1($,Q){let J=null,Z=(Q===null||Q===void 0?void 0:Q.type)==="bytes"||!1,X=(Q===null||Q===void 0?void 0:Q.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},Q),{start(H){return tF.__awaiter(this,void 0,void 0,function*(){yield W(H,J||(J=$[Symbol.asyncIterator]()))})},pull(H){return tF.__awaiter(this,void 0,void 0,function*(){J?yield W(H,J):H.close()})},cancel(){return tF.__awaiter(this,void 0,void 0,function*(){((J===null||J===void 0?void 0:J.return)&&(yield J.return())||!0)&&(J=null)})}}),Object.assign({highWaterMark:Z?X:void 0},Q));function W(H,F){return tF.__awaiter(this,void 0,void 0,function*(){let V,D=null,C=H.desiredSize||null;while(!(D=yield F.next(Z?C:null)).done){if(ArrayBuffer.isView(D.value)&&(V=(0,$l.toUint8Array)(D.value)))C!=null&&Z&&(C=C-V.byteLength+1),D.value=V;if(H.enqueue(D.value),C!=null&&--C<=0)return}H.close()})}}});var ql=o((Yl)=>{Object.defineProperty(Yl,"__esModule",{value:!0});Yl.BuilderTransform=Yl.builderThroughDOMStream=void 0;var vZ1=(_6(),Q4(v6)),_Z1=kX();function xZ1($){return new iO($)}Yl.builderThroughDOMStream=xZ1;class iO{constructor($){this._numChunks=0,this._finished=!1,this._bufferedSize=0;let{["readableStrategy"]:Q,["writableStrategy"]:J,["queueingStrategy"]:Z="count"}=$,X=vZ1.__rest($,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=(0,_Z1.makeBuilder)(X),this._getSize=Z!=="bytes"?Kl:Xl;let{["highWaterMark"]:W=Z==="bytes"?Math.pow(2,14):1000}=Object.assign({},Q),{["highWaterMark"]:H=Z==="bytes"?Math.pow(2,14):1000}=Object.assign({},J);this.readable=new ReadableStream({["cancel"]:()=>{this._builder.clear()},["pull"]:(F)=>{this._maybeFlush(this._builder,this._controller=F)},["start"]:(F)=>{this._maybeFlush(this._builder,this._controller=F)}},{highWaterMark:W,size:Z!=="bytes"?Kl:Xl}),this.writable=new WritableStream({["abort"]:()=>{this._builder.clear()},["write"]:()=>{this._maybeFlush(this._builder,this._controller)},["close"]:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:H,size:(F)=>this._writeValueAndReturnChunkSize(F)})}_writeValueAndReturnChunkSize($){let Q=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append($)),this._bufferedSize-Q}_maybeFlush($,Q){if(Q==null)return;if(this._bufferedSize>=Q.desiredSize)++this._numChunks&&this._enqueue(Q,$.toVector());if($.finished){if($.length>0||this._numChunks===0)++this._numChunks&&this._enqueue(Q,$.toVector());if(!this._finished&&(this._finished=!0))this._enqueue(Q,null)}}_enqueue($,Q){this._bufferedSize=0,this._controller=null,Q==null?$.close():$.enqueue(Q)}}Yl.BuilderTransform=iO;var Kl=($)=>{var Q;return(Q=$===null||$===void 0?void 0:$.length)!==null&&Q!==void 0?Q:0},Xl=($)=>{var Q;return(Q=$===null||$===void 0?void 0:$.byteLength)!==null&&Q!==void 0?Q:0}});var Ul=o((Hl)=>{Object.defineProperty(Hl,"__esModule",{value:!0});Hl.recordBatchReaderThroughDOMStream=void 0;var iX=(_6(),Q4(v6)),yZ1=L9(),bZ1=lX();function fZ1($,Q){let J=new yZ1.AsyncByteQueue,Z=null,X=new ReadableStream({cancel(){return iX.__awaiter(this,void 0,void 0,function*(){yield J.close()})},start(F){return iX.__awaiter(this,void 0,void 0,function*(){yield H(F,Z||(Z=yield W()))})},pull(F){return iX.__awaiter(this,void 0,void 0,function*(){Z?yield H(F,Z):F.close()})}});return{writable:new WritableStream(J,Object.assign({highWaterMark:Math.pow(2,14)},$)),readable:X};function W(){return iX.__awaiter(this,void 0,void 0,function*(){return yield(yield bZ1.RecordBatchReader.from(J)).open(Q)})}function H(F,V){return iX.__awaiter(this,void 0,void 0,function*(){let D=F.desiredSize,C=null;while(!(C=yield V.next()).done)if(F.enqueue(C.value),D!=null&&--D<=0)return;F.close()})}}Hl.recordBatchReaderThroughDOMStream=fZ1});var Dl=o((Vl)=>{Object.defineProperty(Vl,"__esModule",{value:!0});Vl.recordBatchWriterThroughDOMStream=void 0;var eF=(_6(),Q4(v6)),mZ1=L9();function cZ1($,Q){let J=new this($),Z=new mZ1.AsyncByteStream(J),X=new ReadableStream({cancel(){return eF.__awaiter(this,void 0,void 0,function*(){yield Z.cancel()})},pull(H){return eF.__awaiter(this,void 0,void 0,function*(){yield W(H)})},start(H){return eF.__awaiter(this,void 0,void 0,function*(){yield W(H)})}},Object.assign({highWaterMark:Math.pow(2,14)},Q));return{writable:new WritableStream(J,$),readable:X};function W(H){return eF.__awaiter(this,void 0,void 0,function*(){let F=null,V=H.desiredSize;while(F=yield Z.read(V||null))if(H.enqueue(F),V!=null&&(V-=F.byteLength)<=0)return;H.close()})}}Vl.recordBatchWriterThroughDOMStream=cZ1});var Ol=o((Bl)=>{Object.defineProperty(Bl,"__esModule",{value:!0});Bl.tableToIPC=Bl.tableFromIPC=void 0;var Cl=hJ(),dZ1=U9(),lZ1=lX(),Al=rF();function zl($){let Q=lZ1.RecordBatchReader.from($);if((0,dZ1.isPromise)(Q))return Q.then((J)=>zl(J));if(Q.isAsync())return Q.readAll().then((J)=>new Cl.Table(J));return new Cl.Table(Q.readAll())}Bl.tableFromIPC=zl;function pZ1($,Q="stream"){return(Q==="stream"?Al.RecordBatchStreamWriter:Al.RecordBatchFileWriter).writeAll($).toUint8Array(!0)}Bl.tableToIPC=pZ1});var $k=o((n)=>{Object.defineProperty(n,"__esModule",{value:!0});n.DenseUnion=n.Union=n.Struct=n.List=n.Decimal=n.TimeNanosecond=n.TimeMicrosecond=n.TimeMillisecond=n.TimeSecond=n.Time=n.TimestampNanosecond=n.TimestampMicrosecond=n.TimestampMillisecond=n.TimestampSecond=n.Timestamp=n.DateMillisecond=n.DateDay=n.Date_=n.FixedSizeBinary=n.LargeBinary=n.Binary=n.LargeUtf8=n.Utf8=n.Float64=n.Float32=n.Float16=n.Float=n.Uint64=n.Uint32=n.Uint16=n.Uint8=n.Int64=n.Int32=n.Int16=n.Int8=n.Int=n.Bool=n.Null=n.DataType=n.makeData=n.Data=n.MetadataVersion=n.IntervalUnit=n.UnionMode=n.Precision=n.TimeUnit=n.DateUnit=n.BufferType=n.Type=n.MessageHeader=void 0;n.TimeBuilder=n.Uint64Builder=n.Uint32Builder=n.Uint16Builder=n.Uint8Builder=n.Int64Builder=n.Int32Builder=n.Int16Builder=n.Int8Builder=n.IntBuilder=n.Float64Builder=n.Float32Builder=n.Float16Builder=n.FloatBuilder=n.FixedSizeBinaryBuilder=n.DictionaryBuilder=n.DecimalBuilder=n.DateMillisecondBuilder=n.DateDayBuilder=n.DateBuilder=n.NullBuilder=n.BoolBuilder=n.builderThroughAsyncIterable=n.builderThroughIterable=n.tableFromJSON=n.vectorFromArray=n.makeBuilder=n.Builder=n.StructRow=n.MapRow=n.Field=n.Schema=n.Visitor=n.makeVector=n.Vector=n.tableFromArrays=n.makeTable=n.Table=n.Map_=n.FixedSizeList=n.DurationNanosecond=n.DurationMicrosecond=n.DurationMillisecond=n.DurationSecond=n.Duration=n.IntervalYearMonth=n.IntervalDayTime=n.Interval=n.Dictionary=n.SparseUnion=void 0;n.util=n.RecordBatch=n.Message=n.JSONMessageReader=n.AsyncMessageReader=n.MessageReader=n.tableFromIPC=n.tableToIPC=n.RecordBatchJSONWriter=n.RecordBatchStreamWriter=n.RecordBatchFileWriter=n.RecordBatchWriter=n.AsyncRecordBatchStreamReader=n.AsyncRecordBatchFileReader=n.RecordBatchStreamReader=n.RecordBatchFileReader=n.RecordBatchReader=n.AsyncByteQueue=n.AsyncByteStream=n.ByteStream=n.DenseUnionBuilder=n.SparseUnionBuilder=n.UnionBuilder=n.StructBuilder=n.MapBuilder=n.FixedSizeListBuilder=n.ListBuilder=n.LargeBinaryBuilder=n.BinaryBuilder=n.LargeUtf8Builder=n.Utf8Builder=n.DurationNanosecondBuilder=n.DurationMicrosecondBuilder=n.DurationMillisecondBuilder=n.DurationSecondBuilder=n.DurationBuilder=n.IntervalYearMonthBuilder=n.IntervalDayTimeBuilder=n.IntervalBuilder=n.TimestampNanosecondBuilder=n.TimestampMicrosecondBuilder=n.TimestampMillisecondBuilder=n.TimestampSecondBuilder=n.TimestampBuilder=n.TimeNanosecondBuilder=n.TimeMicrosecondBuilder=n.TimeMillisecondBuilder=n.TimeSecondBuilder=void 0;var iZ1=iH();Object.defineProperty(n,"MessageHeader",{enumerable:!0,get:function(){return iZ1.MessageHeader}});var d9=$5();Object.defineProperty(n,"Type",{enumerable:!0,get:function(){return d9.Type}});Object.defineProperty(n,"BufferType",{enumerable:!0,get:function(){return d9.BufferType}});Object.defineProperty(n,"DateUnit",{enumerable:!0,get:function(){return d9.DateUnit}});Object.defineProperty(n,"TimeUnit",{enumerable:!0,get:function(){return d9.TimeUnit}});Object.defineProperty(n,"Precision",{enumerable:!0,get:function(){return d9.Precision}});Object.defineProperty(n,"UnionMode",{enumerable:!0,get:function(){return d9.UnionMode}});Object.defineProperty(n,"IntervalUnit",{enumerable:!0,get:function(){return d9.IntervalUnit}});Object.defineProperty(n,"MetadataVersion",{enumerable:!0,get:function(){return d9.MetadataVersion}});var kl=J3();Object.defineProperty(n,"Data",{enumerable:!0,get:function(){return kl.Data}});Object.defineProperty(n,"makeData",{enumerable:!0,get:function(){return kl.makeData}});var _1=u0();Object.defineProperty(n,"DataType",{enumerable:!0,get:function(){return _1.DataType}});Object.defineProperty(n,"Null",{enumerable:!0,get:function(){return _1.Null}});Object.defineProperty(n,"Bool",{enumerable:!0,get:function(){return _1.Bool}});Object.defineProperty(n,"Int",{enumerable:!0,get:function(){return _1.Int}});Object.defineProperty(n,"Int8",{enumerable:!0,get:function(){return _1.Int8}});Object.defineProperty(n,"Int16",{enumerable:!0,get:function(){return _1.Int16}});Object.defineProperty(n,"Int32",{enumerable:!0,get:function(){return _1.Int32}});Object.defineProperty(n,"Int64",{enumerable:!0,get:function(){return _1.Int64}});Object.defineProperty(n,"Uint8",{enumerable:!0,get:function(){return _1.Uint8}});Object.defineProperty(n,"Uint16",{enumerable:!0,get:function(){return _1.Uint16}});Object.defineProperty(n,"Uint32",{enumerable:!0,get:function(){return _1.Uint32}});Object.defineProperty(n,"Uint64",{enumerable:!0,get:function(){return _1.Uint64}});Object.defineProperty(n,"Float",{enumerable:!0,get:function(){return _1.Float}});Object.defineProperty(n,"Float16",{enumerable:!0,get:function(){return _1.Float16}});Object.defineProperty(n,"Float32",{enumerable:!0,get:function(){return _1.Float32}});Object.defineProperty(n,"Float64",{enumerable:!0,get:function(){return _1.Float64}});Object.defineProperty(n,"Utf8",{enumerable:!0,get:function(){return _1.Utf8}});Object.defineProperty(n,"LargeUtf8",{enumerable:!0,get:function(){return _1.LargeUtf8}});Object.defineProperty(n,"Binary",{enumerable:!0,get:function(){return _1.Binary}});Object.defineProperty(n,"LargeBinary",{enumerable:!0,get:function(){return _1.LargeBinary}});Object.defineProperty(n,"FixedSizeBinary",{enumerable:!0,get:function(){return _1.FixedSizeBinary}});Object.defineProperty(n,"Date_",{enumerable:!0,get:function(){return _1.Date_}});Object.defineProperty(n,"DateDay",{enumerable:!0,get:function(){return _1.DateDay}});Object.defineProperty(n,"DateMillisecond",{enumerable:!0,get:function(){return _1.DateMillisecond}});Object.defineProperty(n,"Timestamp",{enumerable:!0,get:function(){return _1.Timestamp}});Object.defineProperty(n,"TimestampSecond",{enumerable:!0,get:function(){return _1.TimestampSecond}});Object.defineProperty(n,"TimestampMillisecond",{enumerable:!0,get:function(){return _1.TimestampMillisecond}});Object.defineProperty(n,"TimestampMicrosecond",{enumerable:!0,get:function(){return _1.TimestampMicrosecond}});Object.defineProperty(n,"TimestampNanosecond",{enumerable:!0,get:function(){return _1.TimestampNanosecond}});Object.defineProperty(n,"Time",{enumerable:!0,get:function(){return _1.Time}});Object.defineProperty(n,"TimeSecond",{enumerable:!0,get:function(){return _1.TimeSecond}});Object.defineProperty(n,"TimeMillisecond",{enumerable:!0,get:function(){return _1.TimeMillisecond}});Object.defineProperty(n,"TimeMicrosecond",{enumerable:!0,get:function(){return _1.TimeMicrosecond}});Object.defineProperty(n,"TimeNanosecond",{enumerable:!0,get:function(){return _1.TimeNanosecond}});Object.defineProperty(n,"Decimal",{enumerable:!0,get:function(){return _1.Decimal}});Object.defineProperty(n,"List",{enumerable:!0,get:function(){return _1.List}});Object.defineProperty(n,"Struct",{enumerable:!0,get:function(){return _1.Struct}});Object.defineProperty(n,"Union",{enumerable:!0,get:function(){return _1.Union}});Object.defineProperty(n,"DenseUnion",{enumerable:!0,get:function(){return _1.DenseUnion}});Object.defineProperty(n,"SparseUnion",{enumerable:!0,get:function(){return _1.SparseUnion}});Object.defineProperty(n,"Dictionary",{enumerable:!0,get:function(){return _1.Dictionary}});Object.defineProperty(n,"Interval",{enumerable:!0,get:function(){return _1.Interval}});Object.defineProperty(n,"IntervalDayTime",{enumerable:!0,get:function(){return _1.IntervalDayTime}});Object.defineProperty(n,"IntervalYearMonth",{enumerable:!0,get:function(){return _1.IntervalYearMonth}});Object.defineProperty(n,"Duration",{enumerable:!0,get:function(){return _1.Duration}});Object.defineProperty(n,"DurationSecond",{enumerable:!0,get:function(){return _1.DurationSecond}});Object.defineProperty(n,"DurationMillisecond",{enumerable:!0,get:function(){return _1.DurationMillisecond}});Object.defineProperty(n,"DurationMicrosecond",{enumerable:!0,get:function(){return _1.DurationMicrosecond}});Object.defineProperty(n,"DurationNanosecond",{enumerable:!0,get:function(){return _1.DurationNanosecond}});Object.defineProperty(n,"FixedSizeList",{enumerable:!0,get:function(){return _1.FixedSizeList}});Object.defineProperty(n,"Map_",{enumerable:!0,get:function(){return _1.Map_}});var sO=hJ();Object.defineProperty(n,"Table",{enumerable:!0,get:function(){return sO.Table}});Object.defineProperty(n,"makeTable",{enumerable:!0,get:function(){return sO.makeTable}});Object.defineProperty(n,"tableFromArrays",{enumerable:!0,get:function(){return sO.tableFromArrays}});var Pl=B6();Object.defineProperty(n,"Vector",{enumerable:!0,get:function(){return Pl.Vector}});Object.defineProperty(n,"makeVector",{enumerable:!0,get:function(){return Pl.makeVector}});var nZ1=g6();Object.defineProperty(n,"Visitor",{enumerable:!0,get:function(){return nZ1.Visitor}});var Ml=f6();Object.defineProperty(n,"Schema",{enumerable:!0,get:function(){return Ml.Schema}});Object.defineProperty(n,"Field",{enumerable:!0,get:function(){return Ml.Field}});var sZ1=NX();Object.defineProperty(n,"MapRow",{enumerable:!0,get:function(){return sZ1.MapRow}});var oZ1=FF();Object.defineProperty(n,"StructRow",{enumerable:!0,get:function(){return oZ1.StructRow}});var aZ1=r0();Object.defineProperty(n,"Builder",{enumerable:!0,get:function(){return aZ1.Builder}});var nX=kX();Object.defineProperty(n,"makeBuilder",{enumerable:!0,get:function(){return nX.makeBuilder}});Object.defineProperty(n,"vectorFromArray",{enumerable:!0,get:function(){return nX.vectorFromArray}});Object.defineProperty(n,"tableFromJSON",{enumerable:!0,get:function(){return nX.tableFromJSON}});Object.defineProperty(n,"builderThroughIterable",{enumerable:!0,get:function(){return nX.builderThroughIterable}});Object.defineProperty(n,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return nX.builderThroughAsyncIterable}});var rZ1=NR();Object.defineProperty(n,"BoolBuilder",{enumerable:!0,get:function(){return rZ1.BoolBuilder}});var tZ1=yR();Object.defineProperty(n,"NullBuilder",{enumerable:!0,get:function(){return tZ1.NullBuilder}});var oO=zR();Object.defineProperty(n,"DateBuilder",{enumerable:!0,get:function(){return oO.DateBuilder}});Object.defineProperty(n,"DateDayBuilder",{enumerable:!0,get:function(){return oO.DateDayBuilder}});Object.defineProperty(n,"DateMillisecondBuilder",{enumerable:!0,get:function(){return oO.DateMillisecondBuilder}});var eZ1=RR();Object.defineProperty(n,"DecimalBuilder",{enumerable:!0,get:function(){return eZ1.DecimalBuilder}});var $K1=OR();Object.defineProperty(n,"DictionaryBuilder",{enumerable:!0,get:function(){return $K1.DictionaryBuilder}});var QK1=PR();Object.defineProperty(n,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return QK1.FixedSizeBinaryBuilder}});var $U=wR();Object.defineProperty(n,"FloatBuilder",{enumerable:!0,get:function(){return $U.FloatBuilder}});Object.defineProperty(n,"Float16Builder",{enumerable:!0,get:function(){return $U.Float16Builder}});Object.defineProperty(n,"Float32Builder",{enumerable:!0,get:function(){return $U.Float32Builder}});Object.defineProperty(n,"Float64Builder",{enumerable:!0,get:function(){return $U.Float64Builder}});var N8=_R();Object.defineProperty(n,"IntBuilder",{enumerable:!0,get:function(){return N8.IntBuilder}});Object.defineProperty(n,"Int8Builder",{enumerable:!0,get:function(){return N8.Int8Builder}});Object.defineProperty(n,"Int16Builder",{enumerable:!0,get:function(){return N8.Int16Builder}});Object.defineProperty(n,"Int32Builder",{enumerable:!0,get:function(){return N8.Int32Builder}});Object.defineProperty(n,"Int64Builder",{enumerable:!0,get:function(){return N8.Int64Builder}});Object.defineProperty(n,"Uint8Builder",{enumerable:!0,get:function(){return N8.Uint8Builder}});Object.defineProperty(n,"Uint16Builder",{enumerable:!0,get:function(){return N8.Uint16Builder}});Object.defineProperty(n,"Uint32Builder",{enumerable:!0,get:function(){return N8.Uint32Builder}});Object.defineProperty(n,"Uint64Builder",{enumerable:!0,get:function(){return N8.Uint64Builder}});var sX=sR();Object.defineProperty(n,"TimeBuilder",{enumerable:!0,get:function(){return sX.TimeBuilder}});Object.defineProperty(n,"TimeSecondBuilder",{enumerable:!0,get:function(){return sX.TimeSecondBuilder}});Object.defineProperty(n,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return sX.TimeMillisecondBuilder}});Object.defineProperty(n,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return sX.TimeMicrosecondBuilder}});Object.defineProperty(n,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return sX.TimeNanosecondBuilder}});var oX=lR();Object.defineProperty(n,"TimestampBuilder",{enumerable:!0,get:function(){return oX.TimestampBuilder}});Object.defineProperty(n,"TimestampSecondBuilder",{enumerable:!0,get:function(){return oX.TimestampSecondBuilder}});Object.defineProperty(n,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return oX.TimestampMillisecondBuilder}});Object.defineProperty(n,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return oX.TimestampMicrosecondBuilder}});Object.defineProperty(n,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return oX.TimestampNanosecondBuilder}});var aO=GR();Object.defineProperty(n,"IntervalBuilder",{enumerable:!0,get:function(){return aO.IntervalBuilder}});Object.defineProperty(n,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return aO.IntervalDayTimeBuilder}});Object.defineProperty(n,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return aO.IntervalYearMonthBuilder}});var aX=vR();Object.defineProperty(n,"DurationBuilder",{enumerable:!0,get:function(){return aX.DurationBuilder}});Object.defineProperty(n,"DurationSecondBuilder",{enumerable:!0,get:function(){return aX.DurationSecondBuilder}});Object.defineProperty(n,"DurationMillisecondBuilder",{enumerable:!0,get:function(){return aX.DurationMillisecondBuilder}});Object.defineProperty(n,"DurationMicrosecondBuilder",{enumerable:!0,get:function(){return aX.DurationMicrosecondBuilder}});Object.defineProperty(n,"DurationNanosecondBuilder",{enumerable:!0,get:function(){return aX.DurationNanosecondBuilder}});var JK1=rR();Object.defineProperty(n,"Utf8Builder",{enumerable:!0,get:function(){return JK1.Utf8Builder}});var ZK1=eR();Object.defineProperty(n,"LargeUtf8Builder",{enumerable:!0,get:function(){return ZK1.LargeUtf8Builder}});var KK1=IF();Object.defineProperty(n,"BinaryBuilder",{enumerable:!0,get:function(){return KK1.BinaryBuilder}});var XK1=GF();Object.defineProperty(n,"LargeBinaryBuilder",{enumerable:!0,get:function(){return XK1.LargeBinaryBuilder}});var YK1=xR();Object.defineProperty(n,"ListBuilder",{enumerable:!0,get:function(){return YK1.ListBuilder}});var WK1=MR();Object.defineProperty(n,"FixedSizeListBuilder",{enumerable:!0,get:function(){return WK1.FixedSizeListBuilder}});var qK1=gR();Object.defineProperty(n,"MapBuilder",{enumerable:!0,get:function(){return qK1.MapBuilder}});var HK1=bR();Object.defineProperty(n,"StructBuilder",{enumerable:!0,get:function(){return HK1.StructBuilder}});var rO=oR();Object.defineProperty(n,"UnionBuilder",{enumerable:!0,get:function(){return rO.UnionBuilder}});Object.defineProperty(n,"SparseUnionBuilder",{enumerable:!0,get:function(){return rO.SparseUnionBuilder}});Object.defineProperty(n,"DenseUnionBuilder",{enumerable:!0,get:function(){return rO.DenseUnionBuilder}});var tO=L9();Object.defineProperty(n,"ByteStream",{enumerable:!0,get:function(){return tO.ByteStream}});Object.defineProperty(n,"AsyncByteStream",{enumerable:!0,get:function(){return tO.AsyncByteStream}});Object.defineProperty(n,"AsyncByteQueue",{enumerable:!0,get:function(){return tO.AsyncByteQueue}});var rX=lX();Object.defineProperty(n,"RecordBatchReader",{enumerable:!0,get:function(){return rX.RecordBatchReader}});Object.defineProperty(n,"RecordBatchFileReader",{enumerable:!0,get:function(){return rX.RecordBatchFileReader}});Object.defineProperty(n,"RecordBatchStreamReader",{enumerable:!0,get:function(){return rX.RecordBatchStreamReader}});Object.defineProperty(n,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return rX.AsyncRecordBatchFileReader}});Object.defineProperty(n,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return rX.AsyncRecordBatchStreamReader}});var QU=rF();Object.defineProperty(n,"RecordBatchWriter",{enumerable:!0,get:function(){return QU.RecordBatchWriter}});Object.defineProperty(n,"RecordBatchFileWriter",{enumerable:!0,get:function(){return QU.RecordBatchFileWriter}});Object.defineProperty(n,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return QU.RecordBatchStreamWriter}});Object.defineProperty(n,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return QU.RecordBatchJSONWriter}});var wl=Ol();Object.defineProperty(n,"tableToIPC",{enumerable:!0,get:function(){return wl.tableToIPC}});Object.defineProperty(n,"tableFromIPC",{enumerable:!0,get:function(){return wl.tableFromIPC}});var eO=pF();Object.defineProperty(n,"MessageReader",{enumerable:!0,get:function(){return eO.MessageReader}});Object.defineProperty(n,"AsyncMessageReader",{enumerable:!0,get:function(){return eO.AsyncMessageReader}});Object.defineProperty(n,"JSONMessageReader",{enumerable:!0,get:function(){return eO.JSONMessageReader}});var FK1=z$();Object.defineProperty(n,"Message",{enumerable:!0,get:function(){return FK1.Message}});var UK1=v9();Object.defineProperty(n,"RecordBatch",{enumerable:!0,get:function(){return UK1.RecordBatch}});var VK1=oH(),NK1=UR(),DK1=q$(),CK1=VX(),AK1=g5(),zK1=TJ(),BK1=FX(),nO=vX();n.util=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},VK1),NK1),DK1),CK1),AK1),zK1),BK1),{compareSchemas:nO.compareSchemas,compareFields:nO.compareFields,compareTypes:nO.compareTypes})});var JU=o((i)=>{Object.defineProperty(i,"__esModule",{value:!0});i.Union=i.StructRow=i.Struct=i.List=i.Decimal=i.TimeNanosecond=i.TimeMicrosecond=i.TimeMillisecond=i.TimeSecond=i.Time=i.TimestampNanosecond=i.TimestampMicrosecond=i.TimestampMillisecond=i.TimestampSecond=i.Timestamp=i.DateMillisecond=i.DateDay=i.Date_=i.FixedSizeBinary=i.LargeBinary=i.Binary=i.LargeUtf8=i.Utf8=i.Float64=i.Float32=i.Float16=i.Float=i.Uint64=i.Uint32=i.Uint16=i.Uint8=i.Int64=i.Int32=i.Int16=i.Int8=i.Int=i.Bool=i.Null=i.DataType=i.makeData=i.Data=i.BufferType=i.UnionMode=i.Type=i.TimeUnit=i.Precision=i.MetadataVersion=i.MessageHeader=i.IntervalUnit=i.DateUnit=void 0;i.LargeBinaryBuilder=i.BinaryBuilder=i.builderThroughAsyncIterable=i.builderThroughIterable=i.makeBuilder=i.Builder=i.util=i.RecordBatch=i.Message=i.JSONMessageReader=i.AsyncMessageReader=i.MessageReader=i.tableToIPC=i.tableFromIPC=i.RecordBatchJSONWriter=i.RecordBatchStreamWriter=i.RecordBatchFileWriter=i.RecordBatchWriter=i.AsyncRecordBatchStreamReader=i.AsyncRecordBatchFileReader=i.RecordBatchStreamReader=i.RecordBatchFileReader=i.RecordBatchReader=i.AsyncByteQueue=i.AsyncByteStream=i.ByteStream=i.tableFromJSON=i.vectorFromArray=i.makeVector=i.Vector=i.Visitor=i.Field=i.Schema=i.tableFromArrays=i.makeTable=i.Table=i.MapRow=i.Map_=i.FixedSizeList=i.DurationNanosecond=i.DurationMicrosecond=i.DurationMillisecond=i.DurationSecond=i.Duration=i.IntervalYearMonth=i.IntervalDayTime=i.Interval=i.Dictionary=i.SparseUnion=i.DenseUnion=void 0;i.LargeUtf8Builder=i.Utf8Builder=i.SparseUnionBuilder=i.DenseUnionBuilder=i.UnionBuilder=i.TimeNanosecondBuilder=i.TimeMicrosecondBuilder=i.TimeMillisecondBuilder=i.TimeSecondBuilder=i.TimeBuilder=i.TimestampNanosecondBuilder=i.TimestampMicrosecondBuilder=i.TimestampMillisecondBuilder=i.TimestampSecondBuilder=i.TimestampBuilder=i.StructBuilder=i.NullBuilder=i.MapBuilder=i.ListBuilder=i.Uint64Builder=i.Uint32Builder=i.Uint16Builder=i.Uint8Builder=i.Int64Builder=i.Int32Builder=i.Int16Builder=i.Int8Builder=i.IntBuilder=i.DurationNanosecondBuilder=i.DurationMicrosecondBuilder=i.DurationMillisecondBuilder=i.DurationSecondBuilder=i.DurationBuilder=i.IntervalYearMonthBuilder=i.IntervalDayTimeBuilder=i.IntervalBuilder=i.Float64Builder=i.Float32Builder=i.Float16Builder=i.FloatBuilder=i.FixedSizeListBuilder=i.FixedSizeBinaryBuilder=i.DictionaryBuilder=i.DecimalBuilder=i.DateMillisecondBuilder=i.DateDayBuilder=i.DateBuilder=i.BoolBuilder=void 0;var kK1=WX(),PK1=r0(),Qk=lX(),Jk=rF(),MK1=Zl(),wK1=ql(),Zk=Ul(),Kk=Dl();kK1.default.toDOMStream=MK1.toDOMStream;PK1.Builder.throughDOM=wK1.builderThroughDOMStream;Qk.RecordBatchReader.throughDOM=Zk.recordBatchReaderThroughDOMStream;Qk.RecordBatchFileReader.throughDOM=Zk.recordBatchReaderThroughDOMStream;Qk.RecordBatchStreamReader.throughDOM=Zk.recordBatchReaderThroughDOMStream;Jk.RecordBatchWriter.throughDOM=Kk.recordBatchWriterThroughDOMStream;Jk.RecordBatchFileWriter.throughDOM=Kk.recordBatchWriterThroughDOMStream;Jk.RecordBatchStreamWriter.throughDOM=Kk.recordBatchWriterThroughDOMStream;var q1=$k();Object.defineProperty(i,"DateUnit",{enumerable:!0,get:function(){return q1.DateUnit}});Object.defineProperty(i,"IntervalUnit",{enumerable:!0,get:function(){return q1.IntervalUnit}});Object.defineProperty(i,"MessageHeader",{enumerable:!0,get:function(){return q1.MessageHeader}});Object.defineProperty(i,"MetadataVersion",{enumerable:!0,get:function(){return q1.MetadataVersion}});Object.defineProperty(i,"Precision",{enumerable:!0,get:function(){return q1.Precision}});Object.defineProperty(i,"TimeUnit",{enumerable:!0,get:function(){return q1.TimeUnit}});Object.defineProperty(i,"Type",{enumerable:!0,get:function(){return q1.Type}});Object.defineProperty(i,"UnionMode",{enumerable:!0,get:function(){return q1.UnionMode}});Object.defineProperty(i,"BufferType",{enumerable:!0,get:function(){return q1.BufferType}});Object.defineProperty(i,"Data",{enumerable:!0,get:function(){return q1.Data}});Object.defineProperty(i,"makeData",{enumerable:!0,get:function(){return q1.makeData}});Object.defineProperty(i,"DataType",{enumerable:!0,get:function(){return q1.DataType}});Object.defineProperty(i,"Null",{enumerable:!0,get:function(){return q1.Null}});Object.defineProperty(i,"Bool",{enumerable:!0,get:function(){return q1.Bool}});Object.defineProperty(i,"Int",{enumerable:!0,get:function(){return q1.Int}});Object.defineProperty(i,"Int8",{enumerable:!0,get:function(){return q1.Int8}});Object.defineProperty(i,"Int16",{enumerable:!0,get:function(){return q1.Int16}});Object.defineProperty(i,"Int32",{enumerable:!0,get:function(){return q1.Int32}});Object.defineProperty(i,"Int64",{enumerable:!0,get:function(){return q1.Int64}});Object.defineProperty(i,"Uint8",{enumerable:!0,get:function(){return q1.Uint8}});Object.defineProperty(i,"Uint16",{enumerable:!0,get:function(){return q1.Uint16}});Object.defineProperty(i,"Uint32",{enumerable:!0,get:function(){return q1.Uint32}});Object.defineProperty(i,"Uint64",{enumerable:!0,get:function(){return q1.Uint64}});Object.defineProperty(i,"Float",{enumerable:!0,get:function(){return q1.Float}});Object.defineProperty(i,"Float16",{enumerable:!0,get:function(){return q1.Float16}});Object.defineProperty(i,"Float32",{enumerable:!0,get:function(){return q1.Float32}});Object.defineProperty(i,"Float64",{enumerable:!0,get:function(){return q1.Float64}});Object.defineProperty(i,"Utf8",{enumerable:!0,get:function(){return q1.Utf8}});Object.defineProperty(i,"LargeUtf8",{enumerable:!0,get:function(){return q1.LargeUtf8}});Object.defineProperty(i,"Binary",{enumerable:!0,get:function(){return q1.Binary}});Object.defineProperty(i,"LargeBinary",{enumerable:!0,get:function(){return q1.LargeBinary}});Object.defineProperty(i,"FixedSizeBinary",{enumerable:!0,get:function(){return q1.FixedSizeBinary}});Object.defineProperty(i,"Date_",{enumerable:!0,get:function(){return q1.Date_}});Object.defineProperty(i,"DateDay",{enumerable:!0,get:function(){return q1.DateDay}});Object.defineProperty(i,"DateMillisecond",{enumerable:!0,get:function(){return q1.DateMillisecond}});Object.defineProperty(i,"Timestamp",{enumerable:!0,get:function(){return q1.Timestamp}});Object.defineProperty(i,"TimestampSecond",{enumerable:!0,get:function(){return q1.TimestampSecond}});Object.defineProperty(i,"TimestampMillisecond",{enumerable:!0,get:function(){return q1.TimestampMillisecond}});Object.defineProperty(i,"TimestampMicrosecond",{enumerable:!0,get:function(){return q1.TimestampMicrosecond}});Object.defineProperty(i,"TimestampNanosecond",{enumerable:!0,get:function(){return q1.TimestampNanosecond}});Object.defineProperty(i,"Time",{enumerable:!0,get:function(){return q1.Time}});Object.defineProperty(i,"TimeSecond",{enumerable:!0,get:function(){return q1.TimeSecond}});Object.defineProperty(i,"TimeMillisecond",{enumerable:!0,get:function(){return q1.TimeMillisecond}});Object.defineProperty(i,"TimeMicrosecond",{enumerable:!0,get:function(){return q1.TimeMicrosecond}});Object.defineProperty(i,"TimeNanosecond",{enumerable:!0,get:function(){return q1.TimeNanosecond}});Object.defineProperty(i,"Decimal",{enumerable:!0,get:function(){return q1.Decimal}});Object.defineProperty(i,"List",{enumerable:!0,get:function(){return q1.List}});Object.defineProperty(i,"Struct",{enumerable:!0,get:function(){return q1.Struct}});Object.defineProperty(i,"StructRow",{enumerable:!0,get:function(){return q1.StructRow}});Object.defineProperty(i,"Union",{enumerable:!0,get:function(){return q1.Union}});Object.defineProperty(i,"DenseUnion",{enumerable:!0,get:function(){return q1.DenseUnion}});Object.defineProperty(i,"SparseUnion",{enumerable:!0,get:function(){return q1.SparseUnion}});Object.defineProperty(i,"Dictionary",{enumerable:!0,get:function(){return q1.Dictionary}});Object.defineProperty(i,"Interval",{enumerable:!0,get:function(){return q1.Interval}});Object.defineProperty(i,"IntervalDayTime",{enumerable:!0,get:function(){return q1.IntervalDayTime}});Object.defineProperty(i,"IntervalYearMonth",{enumerable:!0,get:function(){return q1.IntervalYearMonth}});Object.defineProperty(i,"Duration",{enumerable:!0,get:function(){return q1.Duration}});Object.defineProperty(i,"DurationSecond",{enumerable:!0,get:function(){return q1.DurationSecond}});Object.defineProperty(i,"DurationMillisecond",{enumerable:!0,get:function(){return q1.DurationMillisecond}});Object.defineProperty(i,"DurationMicrosecond",{enumerable:!0,get:function(){return q1.DurationMicrosecond}});Object.defineProperty(i,"DurationNanosecond",{enumerable:!0,get:function(){return q1.DurationNanosecond}});Object.defineProperty(i,"FixedSizeList",{enumerable:!0,get:function(){return q1.FixedSizeList}});Object.defineProperty(i,"Map_",{enumerable:!0,get:function(){return q1.Map_}});Object.defineProperty(i,"MapRow",{enumerable:!0,get:function(){return q1.MapRow}});Object.defineProperty(i,"Table",{enumerable:!0,get:function(){return q1.Table}});Object.defineProperty(i,"makeTable",{enumerable:!0,get:function(){return q1.makeTable}});Object.defineProperty(i,"tableFromArrays",{enumerable:!0,get:function(){return q1.tableFromArrays}});Object.defineProperty(i,"Schema",{enumerable:!0,get:function(){return q1.Schema}});Object.defineProperty(i,"Field",{enumerable:!0,get:function(){return q1.Field}});Object.defineProperty(i,"Visitor",{enumerable:!0,get:function(){return q1.Visitor}});Object.defineProperty(i,"Vector",{enumerable:!0,get:function(){return q1.Vector}});Object.defineProperty(i,"makeVector",{enumerable:!0,get:function(){return q1.makeVector}});Object.defineProperty(i,"vectorFromArray",{enumerable:!0,get:function(){return q1.vectorFromArray}});Object.defineProperty(i,"tableFromJSON",{enumerable:!0,get:function(){return q1.tableFromJSON}});Object.defineProperty(i,"ByteStream",{enumerable:!0,get:function(){return q1.ByteStream}});Object.defineProperty(i,"AsyncByteStream",{enumerable:!0,get:function(){return q1.AsyncByteStream}});Object.defineProperty(i,"AsyncByteQueue",{enumerable:!0,get:function(){return q1.AsyncByteQueue}});Object.defineProperty(i,"RecordBatchReader",{enumerable:!0,get:function(){return q1.RecordBatchReader}});Object.defineProperty(i,"RecordBatchFileReader",{enumerable:!0,get:function(){return q1.RecordBatchFileReader}});Object.defineProperty(i,"RecordBatchStreamReader",{enumerable:!0,get:function(){return q1.RecordBatchStreamReader}});Object.defineProperty(i,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return q1.AsyncRecordBatchFileReader}});Object.defineProperty(i,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return q1.AsyncRecordBatchStreamReader}});Object.defineProperty(i,"RecordBatchWriter",{enumerable:!0,get:function(){return q1.RecordBatchWriter}});Object.defineProperty(i,"RecordBatchFileWriter",{enumerable:!0,get:function(){return q1.RecordBatchFileWriter}});Object.defineProperty(i,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return q1.RecordBatchStreamWriter}});Object.defineProperty(i,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return q1.RecordBatchJSONWriter}});Object.defineProperty(i,"tableFromIPC",{enumerable:!0,get:function(){return q1.tableFromIPC}});Object.defineProperty(i,"tableToIPC",{enumerable:!0,get:function(){return q1.tableToIPC}});Object.defineProperty(i,"MessageReader",{enumerable:!0,get:function(){return q1.MessageReader}});Object.defineProperty(i,"AsyncMessageReader",{enumerable:!0,get:function(){return q1.AsyncMessageReader}});Object.defineProperty(i,"JSONMessageReader",{enumerable:!0,get:function(){return q1.JSONMessageReader}});Object.defineProperty(i,"Message",{enumerable:!0,get:function(){return q1.Message}});Object.defineProperty(i,"RecordBatch",{enumerable:!0,get:function(){return q1.RecordBatch}});Object.defineProperty(i,"util",{enumerable:!0,get:function(){return q1.util}});Object.defineProperty(i,"Builder",{enumerable:!0,get:function(){return q1.Builder}});Object.defineProperty(i,"makeBuilder",{enumerable:!0,get:function(){return q1.makeBuilder}});Object.defineProperty(i,"builderThroughIterable",{enumerable:!0,get:function(){return q1.builderThroughIterable}});Object.defineProperty(i,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return q1.builderThroughAsyncIterable}});var b1=$k();Object.defineProperty(i,"BinaryBuilder",{enumerable:!0,get:function(){return b1.BinaryBuilder}});Object.defineProperty(i,"LargeBinaryBuilder",{enumerable:!0,get:function(){return b1.LargeBinaryBuilder}});Object.defineProperty(i,"BoolBuilder",{enumerable:!0,get:function(){return b1.BoolBuilder}});Object.defineProperty(i,"DateBuilder",{enumerable:!0,get:function(){return b1.DateBuilder}});Object.defineProperty(i,"DateDayBuilder",{enumerable:!0,get:function(){return b1.DateDayBuilder}});Object.defineProperty(i,"DateMillisecondBuilder",{enumerable:!0,get:function(){return b1.DateMillisecondBuilder}});Object.defineProperty(i,"DecimalBuilder",{enumerable:!0,get:function(){return b1.DecimalBuilder}});Object.defineProperty(i,"DictionaryBuilder",{enumerable:!0,get:function(){return b1.DictionaryBuilder}});Object.defineProperty(i,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return b1.FixedSizeBinaryBuilder}});Object.defineProperty(i,"FixedSizeListBuilder",{enumerable:!0,get:function(){return b1.FixedSizeListBuilder}});Object.defineProperty(i,"FloatBuilder",{enumerable:!0,get:function(){return b1.FloatBuilder}});Object.defineProperty(i,"Float16Builder",{enumerable:!0,get:function(){return b1.Float16Builder}});Object.defineProperty(i,"Float32Builder",{enumerable:!0,get:function(){return b1.Float32Builder}});Object.defineProperty(i,"Float64Builder",{enumerable:!0,get:function(){return b1.Float64Builder}});Object.defineProperty(i,"IntervalBuilder",{enumerable:!0,get:function(){return b1.IntervalBuilder}});Object.defineProperty(i,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return b1.IntervalDayTimeBuilder}});Object.defineProperty(i,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return b1.IntervalYearMonthBuilder}});Object.defineProperty(i,"DurationBuilder",{enumerable:!0,get:function(){return b1.DurationBuilder}});Object.defineProperty(i,"DurationSecondBuilder",{enumerable:!0,get:function(){return b1.DurationSecondBuilder}});Object.defineProperty(i,"DurationMillisecondBuilder",{enumerable:!0,get:function(){return b1.DurationMillisecondBuilder}});Object.defineProperty(i,"DurationMicrosecondBuilder",{enumerable:!0,get:function(){return b1.DurationMicrosecondBuilder}});Object.defineProperty(i,"DurationNanosecondBuilder",{enumerable:!0,get:function(){return b1.DurationNanosecondBuilder}});Object.defineProperty(i,"IntBuilder",{enumerable:!0,get:function(){return b1.IntBuilder}});Object.defineProperty(i,"Int8Builder",{enumerable:!0,get:function(){return b1.Int8Builder}});Object.defineProperty(i,"Int16Builder",{enumerable:!0,get:function(){return b1.Int16Builder}});Object.defineProperty(i,"Int32Builder",{enumerable:!0,get:function(){return b1.Int32Builder}});Object.defineProperty(i,"Int64Builder",{enumerable:!0,get:function(){return b1.Int64Builder}});Object.defineProperty(i,"Uint8Builder",{enumerable:!0,get:function(){return b1.Uint8Builder}});Object.defineProperty(i,"Uint16Builder",{enumerable:!0,get:function(){return b1.Uint16Builder}});Object.defineProperty(i,"Uint32Builder",{enumerable:!0,get:function(){return b1.Uint32Builder}});Object.defineProperty(i,"Uint64Builder",{enumerable:!0,get:function(){return b1.Uint64Builder}});Object.defineProperty(i,"ListBuilder",{enumerable:!0,get:function(){return b1.ListBuilder}});Object.defineProperty(i,"MapBuilder",{enumerable:!0,get:function(){return b1.MapBuilder}});Object.defineProperty(i,"NullBuilder",{enumerable:!0,get:function(){return b1.NullBuilder}});Object.defineProperty(i,"StructBuilder",{enumerable:!0,get:function(){return b1.StructBuilder}});Object.defineProperty(i,"TimestampBuilder",{enumerable:!0,get:function(){return b1.TimestampBuilder}});Object.defineProperty(i,"TimestampSecondBuilder",{enumerable:!0,get:function(){return b1.TimestampSecondBuilder}});Object.defineProperty(i,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return b1.TimestampMillisecondBuilder}});Object.defineProperty(i,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return b1.TimestampMicrosecondBuilder}});Object.defineProperty(i,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return b1.TimestampNanosecondBuilder}});Object.defineProperty(i,"TimeBuilder",{enumerable:!0,get:function(){return b1.TimeBuilder}});Object.defineProperty(i,"TimeSecondBuilder",{enumerable:!0,get:function(){return b1.TimeSecondBuilder}});Object.defineProperty(i,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return b1.TimeMillisecondBuilder}});Object.defineProperty(i,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return b1.TimeMicrosecondBuilder}});Object.defineProperty(i,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return b1.TimeNanosecondBuilder}});Object.defineProperty(i,"UnionBuilder",{enumerable:!0,get:function(){return b1.UnionBuilder}});Object.defineProperty(i,"DenseUnionBuilder",{enumerable:!0,get:function(){return b1.DenseUnionBuilder}});Object.defineProperty(i,"SparseUnionBuilder",{enumerable:!0,get:function(){return b1.SparseUnionBuilder}});Object.defineProperty(i,"Utf8Builder",{enumerable:!0,get:function(){return b1.Utf8Builder}});Object.defineProperty(i,"LargeUtf8Builder",{enumerable:!0,get:function(){return b1.LargeUtf8Builder}})});var tX=o((uT1,pl)=>{var{create:GK1,defineProperty:KU,getOwnPropertyDescriptor:EK1,getOwnPropertyNames:jK1,getPrototypeOf:LK1}=Object,hK1=Object.prototype.hasOwnProperty,vK1=($,Q)=>()=>(Q||$((Q={exports:{}}).exports,Q),Q.exports),_K1=($,Q)=>{for(var J in Q)KU($,J,{get:Q[J],enumerable:!0})},Tl=($,Q,J,Z)=>{if(Q&&typeof Q=="object"||typeof Q=="function")for(let X of jK1(Q))!hK1.call($,X)&&X!==J&&KU($,X,{get:()=>Q[X],enumerable:!(Z=EK1(Q,X))||Z.enumerable});return $},Uk=($,Q,J)=>(J=$!=null?GK1(LK1($)):{},Tl(Q||!$||!$.__esModule?KU(J,"default",{value:$,enumerable:!0}):J,$)),xK1=($)=>Tl(KU({},"__esModule",{value:!0}),$),gK1=vK1(($,Q)=>{Q.exports=Worker}),Il={};_K1(Il,{AsyncDuckDB:()=>iK1,AsyncDuckDBConnection:()=>xl,AsyncDuckDBDispatcher:()=>sK1,AsyncPreparedStatement:()=>gl,AsyncResultStreamIterator:()=>Vk,ConsoleLogger:()=>bK1,DuckDBAccessMode:()=>Gl,DuckDBDataProtocol:()=>fl,IsArrowBuffer:()=>lK1,IsDuckDBWasmRetry:()=>pK1,LogEvent:()=>hl,LogLevel:()=>jl,LogOrigin:()=>vl,LogTopic:()=>Ll,PACKAGE_NAME:()=>ml,PACKAGE_VERSION:()=>cl,PACKAGE_VERSION_MAJOR:()=>eK1,PACKAGE_VERSION_MINOR:()=>$X1,PACKAGE_VERSION_PATCH:()=>QX1,StatusCode:()=>_l,TokenType:()=>El,VoidLogger:()=>yK1,WorkerRequestType:()=>yl,WorkerResponseType:()=>bl,WorkerTask:()=>C0,createWorker:()=>WX1,getJsDelivrBundles:()=>KX1,getLogEventLabel:()=>mK1,getLogLevelLabel:()=>fK1,getLogOriginLabel:()=>dK1,getLogTopicLabel:()=>cK1,getPlatformFeatures:()=>ll,isFirefox:()=>JX1,isNode:()=>Ck,isSafari:()=>ZX1,selectBundle:()=>XX1});pl.exports=xK1(Il);var Gl=(($)=>($[$.UNDEFINED=0]="UNDEFINED",$[$.AUTOMATIC=1]="AUTOMATIC",$[$.READ_ONLY=2]="READ_ONLY",$[$.READ_WRITE=3]="READ_WRITE",$))(Gl||{}),El=(($)=>($[$.IDENTIFIER=0]="IDENTIFIER",$[$.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",$[$.STRING_CONSTANT=2]="STRING_CONSTANT",$[$.OPERATOR=3]="OPERATOR",$[$.KEYWORD=4]="KEYWORD",$[$.COMMENT=5]="COMMENT",$))(El||{}),jl=(($)=>($[$.NONE=0]="NONE",$[$.DEBUG=1]="DEBUG",$[$.INFO=2]="INFO",$[$.WARNING=3]="WARNING",$[$.ERROR=4]="ERROR",$))(jl||{}),Ll=(($)=>($[$.NONE=0]="NONE",$[$.CONNECT=1]="CONNECT",$[$.DISCONNECT=2]="DISCONNECT",$[$.OPEN=3]="OPEN",$[$.QUERY=4]="QUERY",$[$.INSTANTIATE=5]="INSTANTIATE",$))(Ll||{}),hl=(($)=>($[$.NONE=0]="NONE",$[$.OK=1]="OK",$[$.ERROR=2]="ERROR",$[$.START=3]="START",$[$.RUN=4]="RUN",$[$.CAPTURE=5]="CAPTURE",$))(hl||{}),vl=(($)=>($[$.NONE=0]="NONE",$[$.WEB_WORKER=1]="WEB_WORKER",$[$.NODE_WORKER=2]="NODE_WORKER",$[$.BINDINGS=3]="BINDINGS",$[$.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",$))(vl||{}),yK1=class{log($){}},bK1=class{constructor($=2){this.level=$}log($){$.level>=this.level&&console.log($)}};function fK1($){switch($){case 0:return"NONE";case 1:return"DEBUG";case 2:return"INFO";case 3:return"WARNING";case 4:return"ERROR";default:return"?"}}function mK1($){switch($){case 0:return"NONE";case 1:return"OK";case 2:return"ERROR";case 3:return"START";case 4:return"RUN";case 5:return"CAPTURE";default:return"?"}}function cK1($){switch($){case 1:return"CONNECT";case 2:return"DISCONNECT";case 5:return"INSTANTIATE";case 3:return"OPEN";case 4:return"QUERY";default:return"?"}}function dK1($){switch($){case 0:return"NONE";case 1:return"WEB WORKER";case 2:return"NODE WORKER";case 3:return"DUCKDB BINDINGS";case 4:return"DUCKDB";default:return"?"}}var _l=(($)=>($[$.SUCCESS=0]="SUCCESS",$[$.MAX_ARROW_ERROR=255]="MAX_ARROW_ERROR",$[$.DUCKDB_WASM_RETRY=256]="DUCKDB_WASM_RETRY",$))(_l||{});function lK1($){return $<=255}function pK1($){return $===256}var M$=Uk(JU()),xl=class{constructor($,Q){this._bindings=$,this._conn=Q}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe($){return $(this._bindings,this._conn)}async query($){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:$});let Q=await this._bindings.runQuery(this._conn,$),J=M$.RecordBatchReader.from(Q);return console.assert(J.isSync(),"Reader is not sync"),console.assert(J.isFile(),"Reader is not file"),new M$.Table(J)}async send($,Q=!1){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:$});let J=await this._bindings.startPendingQuery(this._conn,$,Q);for(;J==null;)J=await this._bindings.pollPendingQuery(this._conn);let Z=new Vk(this._bindings,this._conn,J),X=await M$.RecordBatchReader.from(Z);return console.assert(X.isAsync()),console.assert(X.isStream()),X}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames($){return await this._bindings.getTableNames(this._conn,$)}async prepare($){let Q=await this._bindings.createPrepared(this._conn,$);return new gl(this._bindings,this._conn,Q)}async insertArrowTable($,Q){let J=M$.tableToIPC($,"stream");await this.insertArrowFromIPCStream(J,Q)}async insertArrowFromIPCStream($,Q){await this._bindings.insertArrowFromIPCStream(this._conn,$,Q)}async insertCSVFromPath($,Q){await this._bindings.insertCSVFromPath(this._conn,$,Q)}async insertJSONFromPath($,Q){await this._bindings.insertJSONFromPath(this._conn,$,Q)}},Vk=class{constructor($,Q,J){this.db=$,this.conn=Q,this.header=J,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let $=null;for(this._inFlight!=null&&($=await this._inFlight,this._inFlight=null);$==null;)$=await this.db.fetchQueryResults(this.conn);return this._depleted=$.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:$}}[Symbol.asyncIterator](){return this}},gl=class{constructor($,Q,J){this.bindings=$,this.connectionId=Q,this.statementId=J}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...$){let Q=await this.bindings.runPrepared(this.connectionId,this.statementId,$),J=M$.RecordBatchReader.from(Q);return console.assert(J.isSync()),console.assert(J.isFile()),new M$.Table(J)}async send(...$){let Q=await this.bindings.sendPrepared(this.connectionId,this.statementId,$),J=new Vk(this.bindings,this.connectionId,Q),Z=await M$.RecordBatchReader.from(J);return console.assert(Z.isAsync()),console.assert(Z.isStream()),Z}},yl=(($)=>($.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",$.CLOSE_PREPARED="CLOSE_PREPARED",$.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",$.REGISTER_OPFS_FILE_NAME="REGISTER_OPFS_FILE_NAME",$.CONNECT="CONNECT",$.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",$.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",$.CREATE_PREPARED="CREATE_PREPARED",$.DISCONNECT="DISCONNECT",$.DROP_FILE="DROP_FILE",$.DROP_FILES="DROP_FILES",$.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",$.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",$.FLUSH_FILES="FLUSH_FILES",$.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",$.GET_TABLE_NAMES="GET_TABLE_NAMES",$.GET_VERSION="GET_VERSION",$.GLOB_FILE_INFOS="GLOB_FILE_INFOS",$.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",$.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",$.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",$.INSTANTIATE="INSTANTIATE",$.OPEN="OPEN",$.PING="PING",$.POLL_PENDING_QUERY="POLL_PENDING_QUERY",$.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",$.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",$.REGISTER_FILE_URL="REGISTER_FILE_URL",$.RESET="RESET",$.RUN_PREPARED="RUN_PREPARED",$.RUN_QUERY="RUN_QUERY",$.SEND_PREPARED="SEND_PREPARED",$.START_PENDING_QUERY="START_PENDING_QUERY",$.TOKENIZE="TOKENIZE",$))(yl||{}),bl=(($)=>($.CONNECTION_INFO="CONNECTION_INFO",$.ERROR="ERROR",$.FEATURE_FLAGS="FEATURE_FLAGS",$.FILE_BUFFER="FILE_BUFFER",$.FILE_INFOS="FILE_INFOS",$.FILE_SIZE="FILE_SIZE",$.FILE_STATISTICS="FILE_STATISTICS",$.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",$.LOG="LOG",$.PROGRESS_UPDATE="PROGRESS_UPDATE",$.OK="OK",$.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",$.QUERY_PLAN="QUERY_PLAN",$.QUERY_RESULT="QUERY_RESULT",$.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",$.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",$.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",$.REGISTERED_FILE="REGISTERED_FILE",$.SCRIPT_TOKENS="SCRIPT_TOKENS",$.SUCCESS="SUCCESS",$.TABLE_NAMES="TABLE_NAMES",$.VERSION_STRING="VERSION_STRING",$))(bl||{}),C0=class{constructor($,Q){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=$,this.data=Q,this.promise=new Promise((J,Z)=>{this.promiseResolver=J,this.promiseRejecter=Z})}},D0=Uk(JU());function ZU($){switch($.typeId){case D0.Type.Binary:return{sqlType:"binary"};case D0.Type.Bool:return{sqlType:"bool"};case D0.Type.Date:return{sqlType:"date"};case D0.Type.DateDay:return{sqlType:"date32[d]"};case D0.Type.DateMillisecond:return{sqlType:"date64[ms]"};case D0.Type.Decimal:{let Q=$;return{sqlType:"decimal",precision:Q.precision,scale:Q.scale}}case D0.Type.Float:return{sqlType:"float"};case D0.Type.Float16:return{sqlType:"float16"};case D0.Type.Float32:return{sqlType:"float32"};case D0.Type.Float64:return{sqlType:"float64"};case D0.Type.Int:return{sqlType:"int32"};case D0.Type.Int16:return{sqlType:"int16"};case D0.Type.Int32:return{sqlType:"int32"};case D0.Type.Int64:return{sqlType:"int64"};case D0.Type.Uint16:return{sqlType:"uint16"};case D0.Type.Uint32:return{sqlType:"uint32"};case D0.Type.Uint64:return{sqlType:"uint64"};case D0.Type.Uint8:return{sqlType:"uint8"};case D0.Type.IntervalDayTime:return{sqlType:"interval[dt]"};case D0.Type.IntervalYearMonth:return{sqlType:"interval[m]"};case D0.Type.List:return{sqlType:"list",valueType:ZU($.valueType)};case D0.Type.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:$.byteWidth};case D0.Type.Null:return{sqlType:"null"};case D0.Type.Utf8:return{sqlType:"utf8"};case D0.Type.Struct:return{sqlType:"struct",fields:$.children.map((Q)=>Fk(Q.name,Q.type))};case D0.Type.Map:{let Q=$;return{sqlType:"map",keyType:ZU(Q.keyType),valueType:ZU(Q.valueType)}}case D0.Type.Time:return{sqlType:"time[s]"};case D0.Type.TimeMicrosecond:return{sqlType:"time[us]"};case D0.Type.TimeMillisecond:return{sqlType:"time[ms]"};case D0.Type.TimeNanosecond:return{sqlType:"time[ns]"};case D0.Type.TimeSecond:return{sqlType:"time[s]"};case D0.Type.Timestamp:return{sqlType:"timestamp",timezone:$.timezone||void 0};case D0.Type.TimestampSecond:return{sqlType:"timestamp[s]",timezone:$.timezone||void 0};case D0.Type.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:$.timezone||void 0};case D0.Type.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:$.timezone||void 0};case D0.Type.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:$.timezone||void 0}}throw Error("unsupported arrow type: ".concat($.toString()))}function Fk($,Q){let J=ZU(Q);return J.name=$,J}var uK1=new TextEncoder,iK1=class{constructor($,Q=null){this._onInstantiationProgress=[],this._onExecutionProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=$,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),Q!=null&&this.attach(Q)}get logger(){return this._logger}attach($){this._worker=$,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((Q,J)=>{this._workerShutdownResolver=Q})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask($,Q=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let J=this._nextMessageId++;return this._pendingRequests.set(J,$),this._worker.postMessage({messageId:J,type:$.type,data:$.data},Q),await $.promise}onMessage($){var Q;let J=$.data;switch(J.type){case"PROGRESS_UPDATE":{for(let X of this._onExecutionProgress)X(J.data);return}case"LOG":{this._logger.log(J.data);return}case"INSTANTIATE_PROGRESS":{for(let X of this._onInstantiationProgress)X(J.data);return}}let Z=this._pendingRequests.get(J.requestId);if(!Z){console.warn("unassociated response: [".concat(J.requestId,", ").concat(J.type.toString(),"]"));return}if(this._pendingRequests.delete(J.requestId),J.type=="ERROR"){let X=Error(J.data.message);X.name=J.data.name,(Q=Object.getOwnPropertyDescriptor(X,"stack"))!=null&&Q.writable&&(X.stack=J.data.stack),Z.promiseRejecter(X);return}switch(Z.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"REGISTER_OPFS_FILE_NAME":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(J.type=="OK"){Z.promiseResolver(J.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],J.type=="OK"){Z.promiseResolver(J.data);return}break;case"GLOB_FILE_INFOS":if(J.type=="FILE_INFOS"){Z.promiseResolver(J.data);return}break;case"GET_VERSION":if(J.type=="VERSION_STRING"){Z.promiseResolver(J.data);return}break;case"GET_FEATURE_FLAGS":if(J.type=="FEATURE_FLAGS"){Z.promiseResolver(J.data);return}break;case"GET_TABLE_NAMES":if(J.type=="TABLE_NAMES"){Z.promiseResolver(J.data);return}break;case"TOKENIZE":if(J.type=="SCRIPT_TOKENS"){Z.promiseResolver(J.data);return}break;case"COPY_FILE_TO_BUFFER":if(J.type=="FILE_BUFFER"){Z.promiseResolver(J.data);return}break;case"EXPORT_FILE_STATISTICS":if(J.type=="FILE_STATISTICS"){Z.promiseResolver(J.data);return}break;case"CONNECT":if(J.type=="CONNECTION_INFO"){Z.promiseResolver(J.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(J.type=="QUERY_RESULT"){Z.promiseResolver(J.data);return}break;case"SEND_PREPARED":if(J.type=="QUERY_RESULT_HEADER"){Z.promiseResolver(J.data);return}break;case"START_PENDING_QUERY":if(J.type=="QUERY_RESULT_HEADER_OR_NULL"){Z.promiseResolver(J.data);return}break;case"POLL_PENDING_QUERY":if(J.type=="QUERY_RESULT_HEADER_OR_NULL"){Z.promiseResolver(J.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],J.type=="SUCCESS"){Z.promiseResolver(J.data);return}break;case"FETCH_QUERY_RESULTS":if(J.type=="QUERY_RESULT_CHUNK"){Z.promiseResolver(J.data);return}break;case"CREATE_PREPARED":if(J.type=="PREPARED_STATEMENT_ID"){Z.promiseResolver(J.data);return}break}Z.promiseRejecter(Error("unexpected response type: ".concat(J.type.toString())))}onError($){console.error($),console.error("error in duckdb worker: ".concat($.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}async reset(){let $=new C0("RESET",null);return await this.postTask($)}async ping(){let $=new C0("PING",null);await this.postTask($)}async dropFile($){let Q=new C0("DROP_FILE",$);return await this.postTask(Q)}async dropFiles(){let $=new C0("DROP_FILES",null);return await this.postTask($)}async flushFiles(){let $=new C0("FLUSH_FILES",null);return await this.postTask($)}async instantiate($,Q=null,J=(Z)=>{}){this._onInstantiationProgress.push(J);let Z=new C0("INSTANTIATE",[$,Q]);return await this.postTask(Z)}async getVersion(){let $=new C0("GET_VERSION",null);return await this.postTask($)}async getFeatureFlags(){let $=new C0("GET_FEATURE_FLAGS",null);return await this.postTask($)}async open($){let Q=new C0("OPEN",$);await this.postTask(Q)}async tokenize($){let Q=new C0("TOKENIZE",$);return await this.postTask(Q)}async connectInternal(){let $=new C0("CONNECT",null);return await this.postTask($)}async connect(){let $=await this.connectInternal();return new xl(this,$)}async disconnect($){let Q=new C0("DISCONNECT",$);await this.postTask(Q)}async runQuery($,Q){let J=new C0("RUN_QUERY",[$,Q]);return await this.postTask(J)}async startPendingQuery($,Q,J=!1){let Z=new C0("START_PENDING_QUERY",[$,Q,J]);return await this.postTask(Z)}async pollPendingQuery($){let Q=new C0("POLL_PENDING_QUERY",$);return await this.postTask(Q)}async cancelPendingQuery($){let Q=new C0("CANCEL_PENDING_QUERY",$);return await this.postTask(Q)}async fetchQueryResults($){let Q=new C0("FETCH_QUERY_RESULTS",$);return await this.postTask(Q)}async getTableNames($,Q){let J=new C0("GET_TABLE_NAMES",[$,Q]);return await this.postTask(J)}async createPrepared($,Q){let J=new C0("CREATE_PREPARED",[$,Q]);return await this.postTask(J)}async closePrepared($,Q){let J=new C0("CLOSE_PREPARED",[$,Q]);await this.postTask(J)}async runPrepared($,Q,J){let Z=new C0("RUN_PREPARED",[$,Q,J]);return await this.postTask(Z)}async sendPrepared($,Q,J){let Z=new C0("SEND_PREPARED",[$,Q,J]);return await this.postTask(Z)}async globFiles($){let Q=new C0("GLOB_FILE_INFOS",$);return await this.postTask(Q)}async registerFileText($,Q){let J=uK1.encode(Q);await this.registerFileBuffer($,J)}async registerFileURL($,Q,J,Z){Q===void 0&&(Q=$);let X=new C0("REGISTER_FILE_URL",[$,Q,J,Z]);await this.postTask(X)}async registerEmptyFileBuffer($){}async registerFileBuffer($,Q){let J=new C0("REGISTER_FILE_BUFFER",[$,Q]);await this.postTask(J,[Q.buffer])}async registerFileHandle($,Q,J,Z){let X=new C0("REGISTER_FILE_HANDLE",[$,Q,J,Z]);await this.postTask(X,[])}async registerOPFSFileName($){let Q=new C0("REGISTER_OPFS_FILE_NAME",[$]);await this.postTask(Q,[])}async collectFileStatistics($,Q){let J=new C0("COLLECT_FILE_STATISTICS",[$,Q]);await this.postTask(J,[])}async exportFileStatistics($){let Q=new C0("EXPORT_FILE_STATISTICS",$);return await this.postTask(Q,[])}async copyFileToBuffer($){let Q=new C0("COPY_FILE_TO_BUFFER",$);return await this.postTask(Q)}async copyFileToPath($,Q){let J=new C0("COPY_FILE_TO_PATH",[$,Q]);await this.postTask(J)}async insertArrowFromIPCStream($,Q,J){if(Q.length==0)return;let Z=new C0("INSERT_ARROW_FROM_IPC_STREAM",[$,Q,J]);await this.postTask(Z,[Q.buffer])}async insertCSVFromPath($,Q,J){if(J.columns!==void 0){let X=[];for(let W in J.columns){let H=J.columns[W];X.push(Fk(W,H))}J.columnsFlat=X,delete J.columns}let Z=new C0("IMPORT_CSV_FROM_PATH",[$,Q,J]);await this.postTask(Z)}async insertJSONFromPath($,Q,J){if(J.columns!==void 0){let X=[];for(let W in J.columns){let H=J.columns[W];X.push(Fk(W,H))}J.columnsFlat=X,delete J.columns}let Z=new C0("IMPORT_JSON_FROM_PATH",[$,Q,J]);await this.postTask(Z)}};function nK1(){let $=new TextDecoder;return(Q)=>(typeof SharedArrayBuffer<"u"&&Q.buffer instanceof SharedArrayBuffer&&(Q=new Uint8Array(Q)),$.decode(Q))}var pT1=nK1(),fl=(($)=>($[$.BUFFER=0]="BUFFER",$[$.NODE_FS=1]="NODE_FS",$[$.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",$[$.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",$[$.HTTP=4]="HTTP",$[$.S3=5]="S3",$))(fl||{}),sK1=class{constructor(){this._bindings=null,this._nextMessageId=0}log($){this.postMessage({messageId:this._nextMessageId++,requestId:0,type:"LOG",data:$},[])}sendOK($){this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"OK",data:null},[])}failWith($,Q){let J={name:Q.name,message:Q.message,stack:Q.stack||void 0};this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"ERROR",data:J},[])}async onMessage($){switch($.type){case"PING":this.sendOK($);return;case"INSTANTIATE":this._bindings!=null&&this.failWith($,Error("duckdb already initialized"));try{this._bindings=await this.instantiate($.data[0],$.data[1],(Q)=>{this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"INSTANTIATE_PROGRESS",data:Q},[])}),this.sendOK($)}catch(Q){console.log(Q),this._bindings=null,this.failWith($,Q)}return;default:break}if(!this._bindings)return this.failWith($,Error("duckdb is not initialized"));try{switch($.type){case"GET_VERSION":this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"VERSION_STRING",data:this._bindings.getVersion()},[]);break;case"GET_FEATURE_FLAGS":this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"FEATURE_FLAGS",data:this._bindings.getFeatureFlags()},[]);break;case"RESET":this._bindings.reset(),this.sendOK($);break;case"OPEN":{let Q=$.data.path;Q!=null&&Q.startsWith("opfs://")&&(await this._bindings.prepareDBFileHandle(Q,3),$.data.useDirectIO=!0),this._bindings.open($.data),this.sendOK($);break}case"DROP_FILE":this._bindings.dropFile($.data),this.sendOK($);break;case"DROP_FILES":this._bindings.dropFiles(),this.sendOK($);break;case"FLUSH_FILES":this._bindings.flushFiles(),this.sendOK($);break;case"CONNECT":{let Q=this._bindings.connect();this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"CONNECTION_INFO",data:Q.useUnsafe((J,Z)=>Z)},[]);break}case"DISCONNECT":this._bindings.disconnect($.data),this.sendOK($);break;case"CREATE_PREPARED":{let Q=this._bindings.createPrepared($.data[0],$.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"PREPARED_STATEMENT_ID",data:Q},[]);break}case"CLOSE_PREPARED":{this._bindings.closePrepared($.data[0],$.data[1]),this.sendOK($);break}case"RUN_PREPARED":{let Q=this._bindings.runPrepared($.data[0],$.data[1],$.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"QUERY_RESULT",data:Q},[Q.buffer]);break}case"RUN_QUERY":{let Q=this._bindings.runQuery($.data[0],$.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"QUERY_RESULT",data:Q},[Q.buffer]);break}case"SEND_PREPARED":{let Q=this._bindings.sendPrepared($.data[0],$.data[1],$.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"QUERY_RESULT_HEADER",data:Q},[Q.buffer]);break}case"START_PENDING_QUERY":{let Q=this._bindings.startPendingQuery($.data[0],$.data[1],$.data[2]),J=[];Q&&J.push(Q.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:Q},J);break}case"POLL_PENDING_QUERY":{let Q=this._bindings.pollPendingQuery($.data),J=[];Q&&J.push(Q.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:Q},J);break}case"CANCEL_PENDING_QUERY":{let Q=this._bindings.cancelPendingQuery($.data);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"SUCCESS",data:Q},[]);break}case"FETCH_QUERY_RESULTS":{let Q=this._bindings.fetchQueryResults($.data),J=Q?[Q.buffer]:[];this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"QUERY_RESULT_CHUNK",data:Q},J);break}case"GET_TABLE_NAMES":{let Q=this._bindings.getTableNames($.data[0],$.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"TABLE_NAMES",data:Q},[]);break}case"GLOB_FILE_INFOS":{let Q=this._bindings.globFiles($.data);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"FILE_INFOS",data:Q},[]);break}case"REGISTER_FILE_URL":this._bindings.registerFileURL($.data[0],$.data[1],$.data[2],$.data[3]),this.sendOK($);break;case"REGISTER_FILE_BUFFER":this._bindings.registerFileBuffer($.data[0],$.data[1]),this.sendOK($);break;case"REGISTER_FILE_HANDLE":await this._bindings.registerFileHandleAsync($.data[0],$.data[1],$.data[2],$.data[3]),this.sendOK($);break;case"COPY_FILE_TO_PATH":this._bindings.copyFileToPath($.data[0],$.data[1]),this.sendOK($);break;case"COPY_FILE_TO_BUFFER":{let Q=this._bindings.copyFileToBuffer($.data);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"FILE_BUFFER",data:Q},[]);break}case"COLLECT_FILE_STATISTICS":this._bindings.collectFileStatistics($.data[0],$.data[1]),this.sendOK($);break;case"REGISTER_OPFS_FILE_NAME":this._bindings.registerOPFSFileName($.data[0]),this.sendOK($);break;case"EXPORT_FILE_STATISTICS":{this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"FILE_STATISTICS",data:this._bindings.exportFileStatistics($.data)},[]);break}case"INSERT_ARROW_FROM_IPC_STREAM":{this._bindings.insertArrowFromIPCStream($.data[0],$.data[1],$.data[2]),this.sendOK($);break}case"IMPORT_CSV_FROM_PATH":{this._bindings.insertCSVFromPath($.data[0],$.data[1],$.data[2]),this.sendOK($);break}case"IMPORT_JSON_FROM_PATH":{this._bindings.insertJSONFromPath($.data[0],$.data[1],$.data[2]),this.sendOK($);break}case"TOKENIZE":{let Q=this._bindings.tokenize($.data);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"SCRIPT_TOKENS",data:Q},[]);break}}}catch(Q){return console.log(Q),this.failWith($,Q)}}},oK1=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),aK1=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),rK1=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),tK1=()=>(async($)=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate($)}catch(Q){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),Nk={name:"@duckdb/duckdb-wasm",version:"1.30.0",description:"DuckDB powered by WebAssembly",license:"MIT",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^17.0.0"},devDependencies:{"@types/emscripten":"^1.39.10","@types/jasmine":"^5.1.4","@typescript-eslint/eslint-plugin":"^6.21.0","@typescript-eslint/parser":"^6.21.0",esbuild:"^0.20.2",eslint:"^8.57.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.34.0","fast-glob":"^3.3.2",jasmine:"^5.1.0","jasmine-core":"^5.1.2","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.11.1",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-coverage":"^2.2.1","karma-firefox-launcher":"^2.1.3","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.1.0","karma-sourcemap-loader":"^0.4.0","karma-spec-reporter":"^0.0.36","make-dir":"^4.0.0",nyc:"^15.1.0",prettier:"^3.2.5",puppeteer:"^22.8.0",rimraf:"^5.0.5",s3rver:"^3.7.1",typedoc:"^0.25.13",typescript:"^5.3.3","wasm-feature-detect":"^1.6.1","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",format:'prettier --write "**/*.+(js|ts)"',report:"node ./coverage.mjs","test:node":"node --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/tests-*","!dist/duckdb-browser-mvp.worker.js.map","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-node-blocking.d.ts",import:"./dist/duckdb-node-blocking.mjs",require:"./dist/duckdb-node-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},ml=Nk.name,cl=Nk.version,Dk=Nk.version.split("."),eK1=Dk[0],$X1=Dk[1],QX1=Dk[2],Ck=()=>typeof navigator>"u",dl=()=>Ck()?"node":navigator.userAgent,JX1=()=>dl().includes("Firefox"),ZX1=()=>/^((?!chrome|android).)*safari/i.test(dl());function KX1(){let $="https://cdn.jsdelivr.net/npm/".concat(ml,"@").concat(cl,"/dist/");return{mvp:{mainModule:"".concat($,"duckdb-mvp.wasm"),mainWorker:"".concat($,"duckdb-browser-mvp.worker.js")},eh:{mainModule:"".concat($,"duckdb-eh.wasm"),mainWorker:"".concat($,"duckdb-browser-eh.worker.js")}}}var Xk=null,Yk=null,Wk=null,qk=null,Hk=null;async function ll(){return Xk==null&&(Xk=typeof BigInt64Array<"u"),Yk==null&&(Yk=await aK1()),Wk==null&&(Wk=await tK1()),qk==null&&(qk=await rK1()),Hk==null&&(Hk=await oK1()),{bigInt64Array:Xk,crossOriginIsolated:Ck()||globalThis.crossOriginIsolated||!1,wasmExceptions:Yk,wasmSIMD:qk,wasmThreads:Wk,wasmBulkMemory:Hk}}async function XX1($){let Q=await ll();if(Q.wasmExceptions){if(Q.wasmSIMD&&Q.wasmThreads&&Q.crossOriginIsolated&&$.coi)return{mainModule:$.coi.mainModule,mainWorker:$.coi.mainWorker,pthreadWorker:$.coi.pthreadWorker};if($.eh)return{mainModule:$.eh.mainModule,mainWorker:$.eh.mainWorker,pthreadWorker:null}}return{mainModule:$.mvp.mainModule,mainWorker:$.mvp.mainWorker,pthreadWorker:null}}var YX1=Uk(gK1());async function WX1($){let Q=new Request($),J=await fetch(Q),Z=URL.createObjectURL(await J.blob());return new YX1.default(Z)}});var Ak=o((PX1)=>{var H5=p1(X5(),1);function mJ(){return mJ=Object.assign||function($){for(var Q=1;Q<arguments.length;Q++){var J=arguments[Q];for(var Z in J)if(Object.prototype.hasOwnProperty.call(J,Z))$[Z]=J[Z]}return $},mJ.apply(this,arguments)}var $I1=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator",QI1=typeof Symbol<"u"?Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")):"@@asyncIterator";function qX1($,Q){try{var J=$()}catch(Z){return Q(!0,Z)}if(J&&J.then)return J.then(Q.bind(null,!1),Q.bind(null,!0));return Q(!1,value)}var HX1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?H5.useLayoutEffect:H5.useEffect,FX1=function(Q){var J=H5.useRef(Q);return HX1(function(){J.current=Q}),H5.useCallback(function(){return J.current},[J])},UX1={status:"not-requested",loading:!1,result:void 0,error:void 0},il={status:"loading",loading:!0,result:void 0,error:void 0},VX1=function(Q){return il},NX1=function(Q,J){return{status:"success",loading:!1,result:Q,error:void 0}},DX1=function(Q,J){return{status:"error",loading:!1,result:void 0,error:Q}},ul=function(){},CX1={initialState:function(Q){return Q&&Q.executeOnMount?il:UX1},executeOnMount:!0,executeOnUpdate:!0,setLoading:VX1,setResult:NX1,setError:DX1,onSuccess:ul,onError:ul},AX1=function(Q){return mJ({},CX1,{},Q)},zX1=function(Q){var J=H5.useState(function(){return Q.initialState(Q)}),Z=J[0],X=J[1],W=H5.useCallback(function(){return X(Q.initialState(Q))},[X,Q]),H=H5.useCallback(function(){return X(Q.setLoading(Z))},[Z,X]),F=H5.useCallback(function(C){return X(Q.setResult(C,Z))},[Z,X]),V=H5.useCallback(function(C){return X(Q.setError(C,Z))},[Z,X]),D=H5.useCallback(function(C){return X(mJ({},Z,{},C))},[Z,X]);return{value:Z,set:X,merge:D,reset:W,setLoading:H,setResult:F,setError:V}},BX1=function(){var Q=H5.useRef(!1);return H5.useEffect(function(){return Q.current=!0,function(){Q.current=!1}},[]),function(){return Q.current}},RX1=function(){var Q=H5.useRef(null);return{set:function(Z){return Q.current=Z},get:function(){return Q.current},is:function(Z){return Q.current===Z}}},nl=function(Q,J,Z){!J&&(J=[]);var X=AX1(Z),W=H5.useState(null),H=W[0],F=W[1],V=zX1(X),D=BX1(),C=RX1(),z=function(_){return D()&&C.is(_)},R=function(){for(var _=arguments.length,v=Array(_),L=0;L<_;L++)v[L]=arguments[L];var f=function(){try{return Promise.resolve(Q.apply(void 0,v))}catch(l){return Promise.reject(l)}}();return F(v),C.set(f),V.setLoading(),f.then(function(l){if(z(f))V.setResult(l);X.onSuccess(l,{isCurrent:function(){return C.is(f)}})},function(l){if(z(f))V.setError(l);X.onError(l,{isCurrent:function(){return C.is(f)}})}),f},k=FX1(R),P=H5.useCallback(function(){return k().apply(void 0,arguments)},[k]),S=!D();return H5.useEffect(function(){var T=function(){return k().apply(void 0,J)};S&&X.executeOnMount&&T(),!S&&X.executeOnUpdate&&T()},J),mJ({},V.value,{set:V.set,merge:V.merge,reset:V.reset,execute:P,currentPromise:C.get(),currentParams:H})};function sl($,Q,J){return nl($,Q,J)}var OX1=function(Q,J,Z){var X=H5.useRef(),W=function(){for(var F=arguments.length,V=Array(F),D=0;D<F;D++)V[D]=arguments[D];try{if(X.current)X.current.abort();var C=new AbortController;return X.current=C,Promise.resolve(qX1(function(){return Promise.resolve(Q.apply(void 0,[C.signal].concat(V)))},function(z,R){if(X.current===C)X.current=void 0;if(z)throw R;return R}))}catch(z){return Promise.reject(z)}};return sl(W,J,Z)},kX1=function(Q,J){return nl(Q,[],mJ({},J,{executeOnMount:!1,executeOnUpdate:!1}))};PX1.useAsync=sl;PX1.useAsyncAbortable=OX1;PX1.useAsyncCallback=kX1});var Fp=o((ZI1,Hp)=>{var{create:TX1,defineProperty:WU,getOwnPropertyDescriptor:IX1,getOwnPropertyNames:GX1,getPrototypeOf:EX1}=Object,jX1=Object.prototype.hasOwnProperty,LX1=($,Q)=>{for(var J in Q)WU($,J,{get:Q[J],enumerable:!0})},ol=($,Q,J,Z)=>{if(Q&&typeof Q==="object"||typeof Q==="function"){for(let X of GX1(Q))if(!jX1.call($,X)&&X!==J)WU($,X,{get:()=>Q[X],enumerable:!(Z=IX1(Q,X))||Z.enumerable})}return $},al=($,Q,J)=>(J=$!=null?TX1(EX1($)):{},ol(Q||!$||!$.__esModule?WU(J,"default",{value:$,enumerable:!0}):J,$)),hX1=($)=>ol(WU({},"__esModule",{value:!0}),$),F5=($,Q,J)=>{return new Promise((Z,X)=>{var W=(V)=>{try{F(J.next(V))}catch(D){X(D)}},H=(V)=>{try{F(J.throw(V))}catch(D){X(D)}},F=(V)=>V.done?Z(V.value):Promise.resolve(V.value).then(W,H);F((J=J.apply($,Q)).next())})},rl={};LX1(rl,{ARROW_MIME_TYPE:()=>Jp,AsyncDuckDB:()=>vX1.AsyncDuckDB,CSV_MIME_TYPE:()=>Xp,InsertFileError:()=>cJ,PARQUET_MIME_TYPE:()=>Yp,arrayBufferToArrow:()=>Pk,arrowToArrayBuffer:()=>Kp,arrowToJSON:()=>iX1,cardinalities:()=>pX1,drop:()=>lX1,exportArrow:()=>nX1,exportCsv:()=>sX1,exportParquet:()=>oX1,getDuckDB:()=>el,getTempFilename:()=>$Y,initializeDuckDb:()=>tl,insertArrow:()=>Bk,insertArrowTable:()=>qp,insertCSV:()=>zk,insertFile:()=>eX1,insertParquet:()=>Rk,isArrow:()=>uX1,isArrowFile:()=>Zp,isParquetFile:()=>Wp,runQuery:()=>b4,useDuckDb:()=>$p,useDuckDbQuery:()=>cX1});Hp.exports=hX1(rl);var vX1=tX(),_X1=Ak(),XU=al(tX()),xX1=tX(),gX1="\x1B[31m",yX1="\x1B[0m",bX1=($,Q,J=void 0)=>{let X=(J!=null?J:performance.now())-Q,W;switch(!0){case X>=1000:W=`${(X/1000).toFixed(1)}s`;break;case X>=1:W=`${X.toFixed(0)}ms`;break;default:W=`${X.toFixed(3)}ms`;break}return`${gX1}[${W}] ${yX1}${$}`},Ok=($,Q,J=void 0)=>{console.debug(bX1($,Q,J))},YU,eX;function tl($){return F5(this,null,function*(){let{debug:Q=!1,config:J}=$||{};if(YU=Q,eX===void 0)eX=fX1(J);return eX})}var fX1=($)=>F5(null,null,function*(){let Q=performance.now(),J=XU.getJsDelivrBundles(),Z=yield XU.selectBundle(J),X=URL.createObjectURL(new Blob([`importScripts("${Z.mainWorker}");`],{type:"text/javascript"})),W=new Worker(X),H=YU?new XU.ConsoleLogger:new XU.VoidLogger,F=new xX1.AsyncDuckDB(H,W);if(yield F.instantiate(Z.mainModule,Z.pthreadWorker),URL.revokeObjectURL(X),$){if($.path){let D=yield(yield fetch($.path)).arrayBuffer(),C=$.path.match(/[^/]*$/);if(C)$.path=C[0];yield F.registerFileBuffer($.path,new Uint8Array(D))}yield F.open($)}if(YU){if(Ok("DuckDB initialized",Q),$)console.debug(`DuckDbConfig: ${JSON.stringify($,null,2)}`)}return F}),el=()=>F5(null,null,function*(){if(eX)return eX;return yield tl()}),$p=()=>{let{result:$,loading:Q,error:J}=(0,_X1.useAsync)(()=>F5(null,null,function*(){return yield el()}),[]);return{db:$,loading:Q,error:J}},mX1=Ak(),b4=($,Q)=>F5(null,null,function*(){let J=performance.now(),Z=yield $.connect(),X=yield Z.query(Q);return yield Z.close(),YU&&Ok(`Run query: ${Q}`,J),X}),cX1=($)=>{let{db:Q}=$p(),{result:J,loading:Z,error:X}=(0,mX1.useAsync)(()=>F5(null,null,function*(){if(!Q||!$)return;return yield b4(Q,$)}),[Q,$]);return{arrow:J,loading:Z,error:X}},dX1=($,Q)=>F5(null,null,function*(){let J=yield b4($,`select table_type from information_schema.tables where table_name = '${Q}'`);if(J.numRows===1){let Z=J.get(0),X=Z==null?void 0:Z.toArray()[0];switch(X){case"BASE TABLE":return"Table";case"VIEW":return"View";default:throw Error(`Unexpected table type: ${X}`)}}return}),lX1=($,Q)=>F5(null,null,function*(){let J=yield dX1($,Q);if(J==="Table")yield b4($,`drop table if exists "${Q}"`);else if(J==="View")yield b4($,`drop view if exists "${Q}"`)}),Qp=($,Q)=>F5(null,null,function*(){let J=yield b4($,`select column_name, data_type from information_schema.columns where table_name = '${Q}'`),Z=new Map;for(let X=0;X<J.numRows;X++){let W=J.get(X);if(W){let[H,F]=W.toArray();Z.set(H,F)}}return Z}),pX1=($,Q)=>F5(null,null,function*(){let J=yield Qp($,Q),Z=Array.from(J.keys()),W=(yield b4($,`select count(distinct columns(*)) from "${Q}"`)).get(0);if(!W)throw Error(`Expected a single row of cardinalities: ${Q}`);let H=W.toArray();if(H.length!==Z.length)throw Error(`Unexpected length mismatch: ${Q}`);let F={};for(let V=0;V<Z.length;V++)F[Z[V]]=H[V];return F}),$Y=()=>{let $=Date.now().toString(),Q=Math.random().toString(36).substring(2);return`file-${$}-${Q}`},kk=JU(),Jp="application/vnd.apache.arrow.file",uX1=($)=>$ instanceof kk.Table,Zp=($)=>F5(null,null,function*(){try{let Q=yield $.arrayBuffer();return Pk(Q),!0}catch(Q){}return!1}),Pk=($)=>{return(0,kk.tableFromIPC)(new Uint8Array($))},Kp=($)=>{return(0,kk.tableToIPC)($,"file").buffer};function iX1($){let Q=[];for(let J=0;J<$.numRows;J++){let Z=$.get(J);if(Z)Q.push(Z.toJSON())}return Q}var Xp="text/csv",Yp="application/vnd.apache.parquet",Wp=($)=>F5(null,null,function*(){return(yield $.slice(0,4).text()).startsWith("PAR1")}),nX1=($,Q,J)=>F5(null,null,function*(){let Z=J||Mk(Q,"arrow"),X=yield b4($,`SELECT * FROM '${Q}'`),W=Kp(X);return new File([W],Z,{type:Jp})}),sX1=($,Q,J,Z=",")=>F5(null,null,function*(){let X=J||Mk(Q,"csv"),W=$Y();yield b4($,`COPY '${Q}' TO '${W}' WITH (HEADER 1, DELIMITER '${Z}')`);let H=yield $.copyFileToBuffer(W);return yield $.dropFile(W),new File([H],X,{type:Xp})}),oX1=($,Q,J,Z="zstd")=>F5(null,null,function*(){let X=J||Mk(Q,"parquet"),W=$Y();yield b4($,`COPY '${Q}' TO '${W}' (FORMAT PARQUET, COMPRESSION ${Z})`);let H=yield $.copyFileToBuffer(W);return yield $.dropFile(W),new File([H],X,{type:Yp})}),aX1=($,Q)=>{let J=$.split("."),Z=J.length>1?J.pop():"",X=J.join(".");if(Q.includes(Z))return X;return $},Mk=($,Q)=>{return`${aX1($,["arrow","csv","parquet"])}.${Q}`},rX1=al(tX()),tX1=($,Q)=>F5(null,null,function*(){let J=yield Qp($,Q),Z=Array.from(J.keys());for(let X=0;X<Z.length;X++){let W=Z[X];if(W.toLowerCase().includes("year"))yield b4($,`ALTER TABLE "${Q}" ALTER COLUMN "${W}" SET DATA TYPE VARCHAR`)}}),cJ=class extends Error{constructor($,Q){super(Q);this.title=$,this.name="InsertFileError"}},eX1=($,Q,J,Z=!1)=>F5(null,null,function*(){let X=performance.now();if(yield $Y1($,Q,J),Z)Ok(`Imported ${Q.name}`,X)}),$Y1=($,Q,J)=>F5(null,null,function*(){try{let Z=J||Q.name;if(yield Wp(Q)){yield Rk($,Q,Z);return}if(yield Zp(Q)){yield Bk($,Q,Z);return}switch(Q.name.toLowerCase().split(".").at(-1)){case"arrow":yield Bk($,Q,Z);return;case"parquet":yield Rk($,Q,Z);return;case"csv":yield zk($,Q,Z);return}return yield zk($,Q,Z)}catch(Z){if(console.error(Z),Z instanceof cJ)throw Z;else throw new cJ("Invalid file type","Only CSV, Parquet, or Arrow files are supported")}}),zk=($,Q,J)=>F5(null,null,function*(){try{let Z=yield Q.text(),X=$Y();yield $.registerFileText(X,Z);let W=yield $.connect();yield W.insertCSVFromPath(X,{name:J,schema:"main",detect:!0}),yield W.close(),$.dropFile(X),yield tX1($,J)}catch(Z){if(console.error(Z),Q.type==="text/csv"||Q.name.toLowerCase().endsWith(".csv"))throw new cJ("CSV import failed","Sorry, we couldn't import that CSV. Please try again.");throw Z}}),Bk=($,Q,J)=>F5(null,null,function*(){try{let Z=yield Q.arrayBuffer(),X=Pk(Z);yield qp($,X,J)}catch(Z){throw console.error(Z),new cJ("Arrow import failed","Sorry, we couldn't import that file")}}),qp=($,Q,J)=>F5(null,null,function*(){let Z=yield $.connect();yield Z.insertArrowTable(Q,{name:J}),yield Z.close()}),Rk=($,Q,J)=>F5(null,null,function*(){try{let Z=`${$Y()}.parquet`;yield $.registerFileHandle(Z,Q,rX1.DuckDBDataProtocol.BROWSER_FILEREADER,!0),yield b4($,`CREATE TABLE '${J}' AS SELECT * FROM '${Z}'`),yield $.dropFile(Z)}catch(Z){throw console.error(Z),new cJ("Parquet import failed","Sorry, we couldn't import that file")}})});var O5=o((QY1)=>{var w$=p1(X5(),1);(function(){function $(Z1){if(Z1==null)return null;if(typeof Z1==="function")return Z1.$$typeof===Q1?null:Z1.displayName||Z1.name||null;if(typeof Z1==="string")return Z1;switch(Z1){case P:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case f:return"Suspense";case l:return"SuspenseList";case H1:return"Activity"}if(typeof Z1==="object")switch(typeof Z1.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),Z1.$$typeof){case k:return"Portal";case v:return(Z1.displayName||"Context")+".Provider";case _:return(Z1._context.displayName||"Context")+".Consumer";case L:var m1=Z1.render;return Z1=Z1.displayName,Z1||(Z1=m1.displayName||m1.name||"",Z1=Z1!==""?"ForwardRef("+Z1+")":"ForwardRef"),Z1;case J1:return m1=Z1.displayName||null,m1!==null?m1:$(Z1.type)||"Memo";case Y1:m1=Z1._payload,Z1=Z1._init;try{return $(Z1(m1))}catch(N0){}}return null}function Q(Z1){return""+Z1}function J(Z1){try{Q(Z1);var m1=!1}catch(C5){m1=!0}if(m1){m1=console;var N0=m1.error,l1=typeof Symbol==="function"&&Symbol.toStringTag&&Z1[Symbol.toStringTag]||Z1.constructor.name||"Object";return N0.call(m1,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",l1),Q(Z1)}}function Z(Z1){if(Z1===P)return"<>";if(typeof Z1==="object"&&Z1!==null&&Z1.$$typeof===Y1)return"<...>";try{var m1=$(Z1);return m1?"<"+m1+">":"<...>"}catch(N0){return"<...>"}}function X(){var Z1=W1.A;return Z1===null?null:Z1.getOwner()}function W(){return Error("react-stack-top-frame")}function H(Z1){if(R1.call(Z1,"key")){var m1=Object.getOwnPropertyDescriptor(Z1,"key").get;if(m1&&m1.isReactWarning)return!1}return Z1.key!==void 0}function F(Z1,m1){function N0(){x1||(x1=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",m1))}N0.isReactWarning=!0,Object.defineProperty(Z1,"key",{get:N0,configurable:!0})}function V(){var Z1=$(this.type);return U1[Z1]||(U1[Z1]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),Z1=this.props.ref,Z1!==void 0?Z1:null}function D(Z1,m1,N0,l1,C5,G5,h7,k0){return N0=G5.ref,Z1={$$typeof:R,type:Z1,key:m1,props:G5,_owner:C5},(N0!==void 0?N0:null)!==null?Object.defineProperty(Z1,"ref",{enumerable:!1,get:V}):Object.defineProperty(Z1,"ref",{enumerable:!1,value:null}),Z1._store={},Object.defineProperty(Z1._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(Z1,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(Z1,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:h7}),Object.defineProperty(Z1,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:k0}),Object.freeze&&(Object.freeze(Z1.props),Object.freeze(Z1)),Z1}function C(Z1,m1,N0,l1,C5,G5,h7,k0){var e0=m1.children;if(e0!==void 0)if(l1)if(C1(e0)){for(l1=0;l1<e0.length;l1++)z(e0[l1]);Object.freeze&&Object.freeze(e0)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else z(e0);if(R1.call(m1,"key")){e0=$(Z1);var e4=Object.keys(m1).filter(function($7){return $7!=="key"});l1=0<e4.length?"{key: someKey, "+e4.join(": ..., ")+": ...}":"{key: someKey}",V0[e0+l1]||(e4=0<e4.length?"{"+e4.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,l1,e0,e4,e0),V0[e0+l1]=!0)}if(e0=null,N0!==void 0&&(J(N0),e0=""+N0),H(m1)&&(J(m1.key),e0=""+m1.key),"key"in m1){N0={};for(var V4 in m1)V4!=="key"&&(N0[V4]=m1[V4])}else N0=m1;return e0&&F(N0,typeof Z1==="function"?Z1.displayName||Z1.name||"Unknown":Z1),D(Z1,e0,G5,C5,X(),N0,h7,k0)}function z(Z1){typeof Z1==="object"&&Z1!==null&&Z1.$$typeof===R&&Z1._store&&(Z1._store.validated=1)}var R=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),v=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),l=Symbol.for("react.suspense_list"),J1=Symbol.for("react.memo"),Y1=Symbol.for("react.lazy"),H1=Symbol.for("react.activity"),Q1=Symbol.for("react.client.reference"),W1=w$.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R1=Object.prototype.hasOwnProperty,C1=Array.isArray,O1=console.createTask?console.createTask:function(){return null};w$={react_stack_bottom_frame:function(Z1){return Z1()}};var x1,U1={},T1=w$.react_stack_bottom_frame.bind(w$,W)(),I1=O1(Z(W)),V0={};QY1.Fragment=P,QY1.jsxDEV=function(Z1,m1,N0,l1,C5,G5){var h7=1e4>W1.recentlyCreatedOwnerStacks++;return C(Z1,m1,N0,l1,C5,G5,h7?Error("react-stack-top-frame"):T1,h7?O1(Z(Z1)):I1)}})()});var ba=o((Xa1,DS)=>{DS.exports=bN;DS.exports.default=bN;function bN($,Q,J){J=J||2;var Z=Q&&Q.length,X=Z?Q[0]*J:$.length,W=xa($,0,X,J,!0),H=[];if(!W||W.next===W.prev)return H;var F,V,D,C,z,R,k;if(Z)W=KA1($,Q,W,J);if($.length>80*J){F=D=$[0],V=C=$[1];for(var P=J;P<X;P+=J){if(z=$[P],R=$[P+1],z<F)F=z;if(R<V)V=R;if(z>D)D=z;if(R>C)C=R}k=Math.max(D-F,C-V),k=k!==0?32767/k:0}return HW(W,H,J,F,V,k,0),H}function xa($,Q,J,Z,X){var W,H;if(X===NS($,Q,J,Z)>0)for(W=Q;W<J;W+=Z)H=_a(W,$[W],$[W+1],H);else for(W=J-Z;W>=Q;W-=Z)H=_a(W,$[W],$[W+1],H);if(H&&fN(H,H.next))UW(H),H=H.next;return H}function n$($,Q){if(!$)return $;if(!Q)Q=$;var J=$,Z;do if(Z=!1,!J.steiner&&(fN(J,J.next)||J5(J.prev,J,J.next)===0)){if(UW(J),J=Q=J.prev,J===J.next)break;Z=!0}else J=J.next;while(Z||J!==Q);return Q}function HW($,Q,J,Z,X,W,H){if(!$)return;if(!H&&W)HA1($,Z,X,W);var F=$,V,D;while($.prev!==$.next){if(V=$.prev,D=$.next,W?QA1($,Z,X,W):$A1($)){Q.push(V.i/J|0),Q.push($.i/J|0),Q.push(D.i/J|0),UW($),$=D.next,F=D.next;continue}if($=D,$===F){if(!H)HW(n$($),Q,J,Z,X,W,1);else if(H===1)$=JA1(n$($),Q,J),HW($,Q,J,Z,X,W,2);else if(H===2)ZA1($,Q,J,Z,X,W);break}}}function $A1($){var Q=$.prev,J=$,Z=$.next;if(J5(Q,J,Z)>=0)return!1;var X=Q.x,W=J.x,H=Z.x,F=Q.y,V=J.y,D=Z.y,C=X<W?X<H?X:H:W<H?W:H,z=F<V?F<D?F:D:V<D?V:D,R=X>W?X>H?X:H:W>H?W:H,k=F>V?F>D?F:D:V>D?V:D,P=Z.next;while(P!==Q){if(P.x>=C&&P.x<=R&&P.y>=z&&P.y<=k&&TZ(X,F,W,V,H,D,P.x,P.y)&&J5(P.prev,P,P.next)>=0)return!1;P=P.next}return!0}function QA1($,Q,J,Z){var X=$.prev,W=$,H=$.next;if(J5(X,W,H)>=0)return!1;var F=X.x,V=W.x,D=H.x,C=X.y,z=W.y,R=H.y,k=F<V?F<D?F:D:V<D?V:D,P=C<z?C<R?C:R:z<R?z:R,S=F>V?F>D?F:D:V>D?V:D,T=C>z?C>R?C:R:z>R?z:R,_=US(k,P,Q,J,Z),v=US(S,T,Q,J,Z),L=$.prevZ,f=$.nextZ;while(L&&L.z>=_&&f&&f.z<=v){if(L.x>=k&&L.x<=S&&L.y>=P&&L.y<=T&&L!==X&&L!==H&&TZ(F,C,V,z,D,R,L.x,L.y)&&J5(L.prev,L,L.next)>=0)return!1;if(L=L.prevZ,f.x>=k&&f.x<=S&&f.y>=P&&f.y<=T&&f!==X&&f!==H&&TZ(F,C,V,z,D,R,f.x,f.y)&&J5(f.prev,f,f.next)>=0)return!1;f=f.nextZ}while(L&&L.z>=_){if(L.x>=k&&L.x<=S&&L.y>=P&&L.y<=T&&L!==X&&L!==H&&TZ(F,C,V,z,D,R,L.x,L.y)&&J5(L.prev,L,L.next)>=0)return!1;L=L.prevZ}while(f&&f.z<=v){if(f.x>=k&&f.x<=S&&f.y>=P&&f.y<=T&&f!==X&&f!==H&&TZ(F,C,V,z,D,R,f.x,f.y)&&J5(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function JA1($,Q,J){var Z=$;do{var X=Z.prev,W=Z.next.next;if(!fN(X,W)&&ga(X,Z,Z.next,W)&&FW(X,W)&&FW(W,X))Q.push(X.i/J|0),Q.push(Z.i/J|0),Q.push(W.i/J|0),UW(Z),UW(Z.next),Z=$=W;Z=Z.next}while(Z!==$);return n$(Z)}function ZA1($,Q,J,Z,X,W){var H=$;do{var F=H.next.next;while(F!==H.prev){if(H.i!==F.i&&VA1(H,F)){var V=ya(H,F);H=n$(H,H.next),V=n$(V,V.next),HW(H,Q,J,Z,X,W,0),HW(V,Q,J,Z,X,W,0);return}F=F.next}H=H.next}while(H!==$)}function KA1($,Q,J,Z){var X=[],W,H,F,V,D;for(W=0,H=Q.length;W<H;W++){if(F=Q[W]*Z,V=W<H-1?Q[W+1]*Z:$.length,D=xa($,F,V,Z,!1),D===D.next)D.steiner=!0;X.push(UA1(D))}X.sort(XA1);for(W=0;W<X.length;W++)J=YA1(X[W],J);return J}function XA1($,Q){return $.x-Q.x}function YA1($,Q){var J=WA1($,Q);if(!J)return Q;var Z=ya(J,$);return n$(Z,Z.next),n$(J,J.next)}function WA1($,Q){var J=Q,Z=$.x,X=$.y,W=-1/0,H;do{if(X<=J.y&&X>=J.next.y&&J.next.y!==J.y){var F=J.x+(X-J.y)*(J.next.x-J.x)/(J.next.y-J.y);if(F<=Z&&F>W){if(W=F,H=J.x<J.next.x?J:J.next,F===Z)return H}}J=J.next}while(J!==Q);if(!H)return null;var V=H,D=H.x,C=H.y,z=1/0,R;J=H;do{if(Z>=J.x&&J.x>=D&&Z!==J.x&&TZ(X<C?Z:W,X,D,C,X<C?W:Z,X,J.x,J.y)){if(R=Math.abs(X-J.y)/(Z-J.x),FW(J,$)&&(R<z||R===z&&(J.x>H.x||J.x===H.x&&qA1(H,J))))H=J,z=R}J=J.next}while(J!==V);return H}function qA1($,Q){return J5($.prev,$,Q.prev)<0&&J5(Q.next,$,$.next)<0}function HA1($,Q,J,Z){var X=$;do{if(X.z===0)X.z=US(X.x,X.y,Q,J,Z);X.prevZ=X.prev,X.nextZ=X.next,X=X.next}while(X!==$);X.prevZ.nextZ=null,X.prevZ=null,FA1(X)}function FA1($){var Q,J,Z,X,W,H,F,V,D=1;do{J=$,$=null,W=null,H=0;while(J){H++,Z=J,F=0;for(Q=0;Q<D;Q++)if(F++,Z=Z.nextZ,!Z)break;V=D;while(F>0||V>0&&Z){if(F!==0&&(V===0||!Z||J.z<=Z.z))X=J,J=J.nextZ,F--;else X=Z,Z=Z.nextZ,V--;if(W)W.nextZ=X;else $=X;X.prevZ=W,W=X}J=Z}W.nextZ=null,D*=2}while(H>1);return $}function US($,Q,J,Z,X){return $=($-J)*X|0,Q=(Q-Z)*X|0,$=($|$<<8)&16711935,$=($|$<<4)&252645135,$=($|$<<2)&858993459,$=($|$<<1)&1431655765,Q=(Q|Q<<8)&16711935,Q=(Q|Q<<4)&252645135,Q=(Q|Q<<2)&858993459,Q=(Q|Q<<1)&1431655765,$|Q<<1}function UA1($){var Q=$,J=$;do{if(Q.x<J.x||Q.x===J.x&&Q.y<J.y)J=Q;Q=Q.next}while(Q!==$);return J}function TZ($,Q,J,Z,X,W,H,F){return(X-H)*(Q-F)>=($-H)*(W-F)&&($-H)*(Z-F)>=(J-H)*(Q-F)&&(J-H)*(W-F)>=(X-H)*(Z-F)}function VA1($,Q){return $.next.i!==Q.i&&$.prev.i!==Q.i&&!NA1($,Q)&&(FW($,Q)&&FW(Q,$)&&DA1($,Q)&&(J5($.prev,$,Q.prev)||J5($,Q.prev,Q))||fN($,Q)&&J5($.prev,$,$.next)>0&&J5(Q.prev,Q,Q.next)>0)}function J5($,Q,J){return(Q.y-$.y)*(J.x-Q.x)-(Q.x-$.x)*(J.y-Q.y)}function fN($,Q){return $.x===Q.x&&$.y===Q.y}function ga($,Q,J,Z){var X=yN(J5($,Q,J)),W=yN(J5($,Q,Z)),H=yN(J5(J,Z,$)),F=yN(J5(J,Z,Q));if(X!==W&&H!==F)return!0;if(X===0&&gN($,J,Q))return!0;if(W===0&&gN($,Z,Q))return!0;if(H===0&&gN(J,$,Z))return!0;if(F===0&&gN(J,Q,Z))return!0;return!1}function gN($,Q,J){return Q.x<=Math.max($.x,J.x)&&Q.x>=Math.min($.x,J.x)&&Q.y<=Math.max($.y,J.y)&&Q.y>=Math.min($.y,J.y)}function yN($){return $>0?1:$<0?-1:0}function NA1($,Q){var J=$;do{if(J.i!==$.i&&J.next.i!==$.i&&J.i!==Q.i&&J.next.i!==Q.i&&ga(J,J.next,$,Q))return!0;J=J.next}while(J!==$);return!1}function FW($,Q){return J5($.prev,$,$.next)<0?J5($,Q,$.next)>=0&&J5($,$.prev,Q)>=0:J5($,Q,$.prev)<0||J5($,$.next,Q)<0}function DA1($,Q){var J=$,Z=!1,X=($.x+Q.x)/2,W=($.y+Q.y)/2;do{if(J.y>W!==J.next.y>W&&J.next.y!==J.y&&X<(J.next.x-J.x)*(W-J.y)/(J.next.y-J.y)+J.x)Z=!Z;J=J.next}while(J!==$);return Z}function ya($,Q){var J=new VS($.i,$.x,$.y),Z=new VS(Q.i,Q.x,Q.y),X=$.next,W=Q.prev;return $.next=Q,Q.prev=$,J.next=X,X.prev=J,Z.next=J,J.prev=Z,W.next=Z,Z.prev=W,Z}function _a($,Q,J,Z){var X=new VS($,Q,J);if(!Z)X.prev=X,X.next=X;else X.next=Z.next,X.prev=Z,Z.next.prev=X,Z.next=X;return X}function UW($){if($.next.prev=$.prev,$.prev.next=$.next,$.prevZ)$.prevZ.nextZ=$.nextZ;if($.nextZ)$.nextZ.prevZ=$.prevZ}function VS($,Q,J){this.i=$,this.x=Q,this.y=J,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}bN.deviation=function($,Q,J,Z){var X=Q&&Q.length,W=X?Q[0]*J:$.length,H=Math.abs(NS($,0,W,J));if(X)for(var F=0,V=Q.length;F<V;F++){var D=Q[F]*J,C=F<V-1?Q[F+1]*J:$.length;H-=Math.abs(NS($,D,C,J))}var z=0;for(F=0;F<Z.length;F+=3){var R=Z[F]*J,k=Z[F+1]*J,P=Z[F+2]*J;z+=Math.abs(($[R]-$[P])*($[k+1]-$[R+1])-($[R]-$[k])*($[P+1]-$[R+1]))}return H===0&&z===0?0:Math.abs((z-H)/H)};function NS($,Q,J,Z){var X=0;for(var W=Q,H=J-Z;W<J;W+=Z)X+=($[H]-$[W])*($[W+1]+$[H+1]),H=W;return X}bN.flatten=function($){var Q=$[0][0].length,J={vertices:[],holes:[],dimensions:Q},Z=0;for(var X=0;X<$.length;X++){for(var W=0;W<$[X].length;W++)for(var H=0;H<Q;H++)J.vertices.push($[X][W][H]);if(X>0)Z+=$[X-1].length,J.holes.push(Z)}return J}});var cr=p1(X5(),1),dr=p1(sL(),1);var qD=p1(X5(),1);var oL={filters:[{id:"level_1_name",label:"Country",type:"select-multiple",source:{dataSource:"orgunits",column:"level_1_name"}},{id:"level_2_name",label:"Level 2 Name",type:"select-multiple",source:{dataSource:"orgunits",column:"level_2_name"},dependsOn:"level_1_name"},{id:"level_3_name",label:"Level 3 Name",type:"select-multiple",source:{dataSource:"orgunits",column:"level_3_name"},dependsOn:"level_2_name"},{id:"org_unit_type_name",label:"Org Unit Type",type:"select-multiple",source:{dataSource:"orgunits",column:"org_unit_type_name"}}],widgets:{totalOrgUnits:{type:"keyNumber",label:"Total Org Units",params:{dataSource:"orgunits",queryMode:"aggregate",metrics:[{label:"total_orgunits",sqlExpression:"COUNT(*)"}],rowLimit:1}},orgUnitsByType:{type:"table",label:"Org Units by Type",params:{dataSource:"orgunits",queryMode:"aggregate",groupBy:["org_unit_type_name"],metrics:[{label:"count_orgunits",sqlExpression:"COUNT(*)"}],rowLimit:100}},orgUnitsMap:{type:"map",label:"Org Units Map",params:{dataSource:"orgunits",queryMode:"raw",columns:[{column:"org_unit_simplified_geom_geojson",label:"Simplified Geometry"},{column:"org_unit_name"}],rowLimit:1000}},allOrgunitsTable:{type:"table",label:"All Org Units",params:{dataSource:"orgunits",queryMode:"raw",columns:[{column:"org_unit_name",label:"Name"},{column:"org_unit_level",label:"Level"},{column:"org_unit_type_name",label:"Type"},{column:"level_1_name",label:"Pays"},{column:"level_2_name",label:"Rgion"},{column:"level_3_name",label:"District"},{column:"level_4_name",label:"Pays"}],rowLimit:1000}},orgUnitsWithPoints:{type:"keyNumber",label:"Org Units with Points",params:{dataSource:"orgunits",queryMode:"aggregate",metrics:[{label:"Points",sqlExpression:"COUNT(*) FILTER (WHERE org_unit_longitude IS NOT NULL)"}],rowLimit:1}},orgUnitsWithGeoJson:{type:"keyNumber",label:"Org Units with geojson",params:{dataSource:"orgunits",queryMode:"aggregate",metrics:[{label:"Points",sqlExpression:"COUNT(*) FILTER (WHERE org_unit_simplified_geom_geojson IS NOT NULL)"}],rowLimit:1}}},layout:[{type:"ParquetUploadWidget",className:"mb-4"},{type:"Filters",className:"flex space-x-4 mb-4"},{type:"Container",className:"grid grid-cols-3 gap-4",children:[{type:"Widget",widgetKey:"totalOrgUnits",className:""},{type:"Widget",widgetKey:"orgUnitsWithPoints",className:""},{type:"Widget",widgetKey:"orgUnitsWithGeoJson",className:""}]},{type:"Widget",widgetKey:"orgUnitsByType",className:"col-span-2"},{type:"ConditionalWidget",widgetKey:"orgUnitsMap",invertCondition:!0,className:"col-span-3 h-[500px]"},{type:"Widget",widgetKey:"allOrgunitsTable",className:"col-span-3"}]};var dJ=p1(X5(),1),Up=p1(Fp(),1),Dp=p1(O5(),1),Vp=dJ.createContext(null);function Np({children:$}){let{db:Q}=Up.useDuckDb(),[J,Z]=dJ.useState(0),X=()=>Z((W)=>W+1);return Dp.jsxDEV(Vp.Provider,{value:{db:Q,tableVersion:J,refreshTables:X},children:$},void 0,!1,void 0,this)}function m6(){let $=dJ.useContext(Vp);if(!$)throw Error("useDuckDB must be used within a DuckDBProvider");return $}var WD=p1(X5(),1);var Ik=p1(X5(),1);var{create:JY1,defineProperty:Cp,getOwnPropertyDescriptor:ZY1,getOwnPropertyNames:KY1,getPrototypeOf:XY1}=Object,YY1=Object.prototype.hasOwnProperty,WY1=($,Q)=>()=>(Q||$((Q={exports:{}}).exports,Q),Q.exports),qY1=($,Q,J,Z)=>{if(Q&&typeof Q=="object"||typeof Q=="function")for(let X of KY1(Q))!YY1.call($,X)&&X!==J&&Cp($,X,{get:()=>Q[X],enumerable:!(Z=ZY1(Q,X))||Z.enumerable});return $},HY1=($,Q,J)=>(J=$!=null?JY1(XY1($)):{},qY1(Q||!$||!$.__esModule?Cp(J,"default",{value:$,enumerable:!0}):J,$)),FY1=WY1(($,Q)=>{Q.exports=Worker}),UY1=(($)=>($[$.UNDEFINED=0]="UNDEFINED",$[$.AUTOMATIC=1]="AUTOMATIC",$[$.READ_ONLY=2]="READ_ONLY",$[$.READ_WRITE=3]="READ_WRITE",$))(UY1||{}),VY1=(($)=>($[$.IDENTIFIER=0]="IDENTIFIER",$[$.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",$[$.STRING_CONSTANT=2]="STRING_CONSTANT",$[$.OPERATOR=3]="OPERATOR",$[$.KEYWORD=4]="KEYWORD",$[$.COMMENT=5]="COMMENT",$))(VY1||{}),NY1=(($)=>($[$.NONE=0]="NONE",$[$.DEBUG=1]="DEBUG",$[$.INFO=2]="INFO",$[$.WARNING=3]="WARNING",$[$.ERROR=4]="ERROR",$))(NY1||{}),DY1=(($)=>($[$.NONE=0]="NONE",$[$.CONNECT=1]="CONNECT",$[$.DISCONNECT=2]="DISCONNECT",$[$.OPEN=3]="OPEN",$[$.QUERY=4]="QUERY",$[$.INSTANTIATE=5]="INSTANTIATE",$))(DY1||{}),CY1=(($)=>($[$.NONE=0]="NONE",$[$.OK=1]="OK",$[$.ERROR=2]="ERROR",$[$.START=3]="START",$[$.RUN=4]="RUN",$[$.CAPTURE=5]="CAPTURE",$))(CY1||{}),AY1=(($)=>($[$.NONE=0]="NONE",$[$.WEB_WORKER=1]="WEB_WORKER",$[$.NODE_WORKER=2]="NODE_WORKER",$[$.BINDINGS=3]="BINDINGS",$[$.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",$))(AY1||{});var zY1=(($)=>($[$.SUCCESS=0]="SUCCESS",$[$.MAX_ARROW_ERROR=255]="MAX_ARROW_ERROR",$[$.DUCKDB_WASM_RETRY=256]="DUCKDB_WASM_RETRY",$))(zY1||{});var BY1=(($)=>($.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",$.CLOSE_PREPARED="CLOSE_PREPARED",$.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",$.REGISTER_OPFS_FILE_NAME="REGISTER_OPFS_FILE_NAME",$.CONNECT="CONNECT",$.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",$.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",$.CREATE_PREPARED="CREATE_PREPARED",$.DISCONNECT="DISCONNECT",$.DROP_FILE="DROP_FILE",$.DROP_FILES="DROP_FILES",$.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",$.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",$.FLUSH_FILES="FLUSH_FILES",$.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",$.GET_TABLE_NAMES="GET_TABLE_NAMES",$.GET_VERSION="GET_VERSION",$.GLOB_FILE_INFOS="GLOB_FILE_INFOS",$.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",$.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",$.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",$.INSTANTIATE="INSTANTIATE",$.OPEN="OPEN",$.PING="PING",$.POLL_PENDING_QUERY="POLL_PENDING_QUERY",$.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",$.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",$.REGISTER_FILE_URL="REGISTER_FILE_URL",$.RESET="RESET",$.RUN_PREPARED="RUN_PREPARED",$.RUN_QUERY="RUN_QUERY",$.SEND_PREPARED="SEND_PREPARED",$.START_PENDING_QUERY="START_PENDING_QUERY",$.TOKENIZE="TOKENIZE",$))(BY1||{}),RY1=(($)=>($.CONNECTION_INFO="CONNECTION_INFO",$.ERROR="ERROR",$.FEATURE_FLAGS="FEATURE_FLAGS",$.FILE_BUFFER="FILE_BUFFER",$.FILE_INFOS="FILE_INFOS",$.FILE_SIZE="FILE_SIZE",$.FILE_STATISTICS="FILE_STATISTICS",$.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",$.LOG="LOG",$.PROGRESS_UPDATE="PROGRESS_UPDATE",$.OK="OK",$.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",$.QUERY_PLAN="QUERY_PLAN",$.QUERY_RESULT="QUERY_RESULT",$.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",$.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",$.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",$.REGISTERED_FILE="REGISTERED_FILE",$.SCRIPT_TOKENS="SCRIPT_TOKENS",$.SUCCESS="SUCCESS",$.TABLE_NAMES="TABLE_NAMES",$.VERSION_STRING="VERSION_STRING",$))(RY1||{});function OY1(){let $=new TextDecoder;return(Q)=>(typeof SharedArrayBuffer<"u"&&Q.buffer instanceof SharedArrayBuffer&&(Q=new Uint8Array(Q)),$.decode(Q))}var FI1=OY1(),wk=(($)=>($[$.BUFFER=0]="BUFFER",$[$.NODE_FS=1]="NODE_FS",$[$.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",$[$.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",$[$.HTTP=4]="HTTP",$[$.S3=5]="S3",$))(wk||{});var Sk={name:"@duckdb/duckdb-wasm",version:"1.30.0",description:"DuckDB powered by WebAssembly",license:"MIT",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^17.0.0"},devDependencies:{"@types/emscripten":"^1.39.10","@types/jasmine":"^5.1.4","@typescript-eslint/eslint-plugin":"^6.21.0","@typescript-eslint/parser":"^6.21.0",esbuild:"^0.20.2",eslint:"^8.57.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.34.0","fast-glob":"^3.3.2",jasmine:"^5.1.0","jasmine-core":"^5.1.2","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.11.1",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-coverage":"^2.2.1","karma-firefox-launcher":"^2.1.3","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.1.0","karma-sourcemap-loader":"^0.4.0","karma-spec-reporter":"^0.0.36","make-dir":"^4.0.0",nyc:"^15.1.0",prettier:"^3.2.5",puppeteer:"^22.8.0",rimraf:"^5.0.5",s3rver:"^3.7.1",typedoc:"^0.25.13",typescript:"^5.3.3","wasm-feature-detect":"^1.6.1","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",format:'prettier --write "**/*.+(js|ts)"',report:"node ./coverage.mjs","test:node":"node --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/tests-*","!dist/duckdb-browser-mvp.worker.js.map","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-node-blocking.d.ts",import:"./dist/duckdb-node-blocking.mjs",require:"./dist/duckdb-node-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},UI1=Sk.name,VI1=Sk.version,Tk=Sk.version.split("."),NI1=Tk[0],DI1=Tk[1],CI1=Tk[2];var AI1=HY1(FY1());var k7=p1(O5(),1);function Ap(){let{db:$,refreshTables:Q}=m6(),[J,Z]=Ik.useState("orgunits"),[X,W]=Ik.useState("");return k7.jsxDEV("div",{className:"p-4 border rounded-2xl bg-gray-50",children:[k7.jsxDEV("div",{className:"flex items-center gap-2",children:[k7.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"Upload Parquet File"},void 0,!1,void 0,this),k7.jsxDEV("input",{type:"file",accept:".parquet",onChange:async(F)=>{let V=F.target.files?.[0];if(!V||!$)return;W("Registering...");try{await $.registerFileHandle(V.name,V,wk.BROWSER_FILEREADER);let D=await $.connect();await D.query(`CREATE OR REPLACE TABLE ${J} AS SELECT * FROM read_parquet('${V.name}')`),await D.close(),W(` Registered table: ${J}`),Q()}catch(D){console.error(D),W(" Failed to register file")}}},void 0,!1,void 0,this)]},void 0,!0,void 0,this),k7.jsxDEV("div",{className:"flex items-center gap-2",children:[k7.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"Table Name"},void 0,!1,void 0,this),k7.jsxDEV("input",{type:"text",value:J,onChange:(F)=>Z(F.target.value),className:"border rounded px-2 py-1"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),X&&k7.jsxDEV("div",{className:"mt-2 text-sm text-gray-700",children:X},void 0,!1,void 0,this),J&&k7.jsxDEV("div",{className:"mt-1 text-xs text-gray-500",children:["Table name: ",k7.jsxDEV("code",{children:J},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)}var HU=p1(X5(),1);class S${config;filters;db;constructor($,Q,J=[]){this.db=$,this.config=Q,this.filters=J}buildSQL(){let $=this.config.params,Q=$.dataSource.split("__")[0],J=$.queryMode==="aggregate",Z=[];if(J){for(let C of $.metrics??[])if(typeof C==="string")Z.push(C);else if(C.sqlExpression&&C.label)Z.push(`${C.sqlExpression} AS "${C.label}"`);if($.groupBy?.length)Z.unshift(...$.groupBy)}else if($.columns&&$.columns.length>0){let C=$.columns.map((z)=>{return z.label?`${z.column} AS "${z.label}"`:z.column});Z.push(C.join(", "))}else Z.push("*");let X=`SELECT ${Z.join(", ")} FROM ${Q}`,W=[],H=$.adhocFilters??[],F=Object.entries(this.filters).flatMap(([C,z])=>{if(z.length>0)return[{subject:C,operator:"IN",comparator:z,clause:"WHERE",expressionType:"SQL"}];return[]}),V=[...H,...F],D=[];for(let C of V){let z=this.filterToSQL(C);if(z)D.push(z.sql),W=W.concat(z.params)}if(D.length)X+=` WHERE ${D.join(" AND ")}`;if(J&&$.groupBy?.length)X+=` GROUP BY ${$.groupBy.join(", ")}`;if($.rowLimit)X+=` LIMIT ${$.rowLimit}`;return{sql:X,params:W}}filterToSQL($){if($.operator==="IN"&&Array.isArray($.comparator)){let Q=$.comparator.map(()=>"?").join(", ");return{sql:`${$.subject} IN (${Q})`,params:$.comparator}}if($.operator==="=")return{sql:`${$.subject} = ?`,params:[$.comparator]};return null}async execute(){let $=await this.db.connect(),Q=this.config.params.dataSource.split("__")[0];try{if((await $.query(`SELECT 1 FROM information_schema.tables WHERE table_name = '${Q}'`)).numRows===0)return console.warn(`Table '${Q}' does not exist.`),[];let{sql:Z,params:X}=this.buildSQL();return(await(await $.prepare(Z)).query(...X)).toArray()}catch(J){return console.error("Error executing query:",J),[]}finally{await $.close()}}}var qU=p1(O5(),1);function zp({config:$,filters:Q=[]}){let{db:J,tableVersion:Z}=m6(),[X,W]=HU.useState(null);return HU.useEffect(()=>{if(!J)return;new S$(J,$,Q).execute().then((F)=>{if(F.length===0)return W(null);let V=Object.values(F[0])[0];W(typeof V==="number"?V:Number(V))})},[J,$,Q,Z]),qU.jsxDEV("div",{className:"p-4 bg-white shadow rounded-2xl text-center",children:[$.label&&qU.jsxDEV("div",{className:"text-gray-500 text-sm",children:$.label},void 0,!1,void 0,this),qU.jsxDEV("div",{className:"text-3xl font-semibold",children:X!==null?X.toLocaleString():""},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}var FU=p1(X5(),1);var D8=p1(O5(),1);function Bp({config:$,filters:Q=[]}){let{db:J,tableVersion:Z}=m6(),[X,W]=FU.useState([]);if(FU.useEffect(()=>{if(!J)return;new S$(J,$,Q).execute().then(W)},[J,$,Q,Z]),!X.length)return D8.jsxDEV("div",{children:"Loading"},void 0,!1,void 0,this);let H=$.params.columns?$.params.columns.map((V)=>V.label||V.column):Object.keys(X[0]),F=$.params.columns?$.params.columns.map((V)=>V.label||V.column):Object.keys(X[0]);return D8.jsxDEV("table",{className:"border text-sm w-full",children:[D8.jsxDEV("thead",{children:D8.jsxDEV("tr",{children:H.map((V)=>D8.jsxDEV("th",{className:"p-2 bg-gray-100",children:V},V,!1,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this),D8.jsxDEV("tbody",{children:X.map((V,D)=>D8.jsxDEV("tr",{className:"border-t",children:F.map((C)=>D8.jsxDEV("td",{className:"p-2",children:String(V[C])},C,!1,void 0,this))},D,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}var YD=p1(X5(),1);function l9($,Q){if(!$)throw Error(Q||"loader assertion failed.")}var V3={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document},kY1=V3.self||V3.window||V3.global||{},PY1=V3.window||V3.self||V3.global||{},MY1=V3.global||V3.self||V3.window||{},wY1=V3.document||{};var T$=Boolean(typeof process!=="object"||String(process)!=="[object process]"||!0);var Rp=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),SY1=Rp&&parseFloat(Rp[1])||0;var UU=globalThis,TY1=globalThis.document||{},VU=globalThis.process||{},IY1=globalThis.console,Gk=globalThis.navigator||{};function NU($){if(typeof window<"u"&&window.process?.type==="renderer")return!0;if(typeof process<"u"&&Boolean(process.versions?.electron))return!0;let Q=typeof navigator<"u"&&navigator.userAgent,J=$||Q;return Boolean(J&&J.indexOf("Electron")>=0)}function O6(){return!(typeof process==="object"&&String(process)==="[object process]"&&!process?.browser)||NU()}function Ek($){if(!$&&!O6())return"Node";if(NU($))return"Electron";if(($||Gk.userAgent||"").indexOf("Edge")>-1)return"Edge";if(globalThis.chrome)return"Chrome";if(globalThis.safari)return"Safari";if(globalThis.mozInnerScreenX)return"Firefox";return"Unknown"}var jk="4.1.0";function EY1($){try{let Q=window[$],J="__storage_test__";return Q.setItem("__storage_test__","__storage_test__"),Q.removeItem("__storage_test__"),Q}catch(Q){return null}}class Lk{constructor($,Q,J="sessionStorage"){this.storage=EY1(J),this.id=$,this.config=Q,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration($){if(Object.assign(this.config,$),this.storage){let Q=JSON.stringify(this.config);this.storage.setItem(this.id,Q)}}_loadConfiguration(){let $={};if(this.storage){let Q=this.storage.getItem(this.id);$=Q?JSON.parse(Q):{}}return Object.assign(this.config,$),this}}function Op($){let Q;if($<10)Q=`${$.toFixed(2)}ms`;else if($<100)Q=`${$.toFixed(1)}ms`;else if($<1000)Q=`${$.toFixed(0)}ms`;else Q=`${($/1000).toFixed(2)}s`;return Q}function kp($,Q=8){let J=Math.max(Q-$.length,0);return`${" ".repeat(J)}${$}`}var DU;(function($){$[$.BLACK=30]="BLACK",$[$.RED=31]="RED",$[$.GREEN=32]="GREEN",$[$.YELLOW=33]="YELLOW",$[$.BLUE=34]="BLUE",$[$.MAGENTA=35]="MAGENTA",$[$.CYAN=36]="CYAN",$[$.WHITE=37]="WHITE",$[$.BRIGHT_BLACK=90]="BRIGHT_BLACK",$[$.BRIGHT_RED=91]="BRIGHT_RED",$[$.BRIGHT_GREEN=92]="BRIGHT_GREEN",$[$.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",$[$.BRIGHT_BLUE=94]="BRIGHT_BLUE",$[$.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",$[$.BRIGHT_CYAN=96]="BRIGHT_CYAN",$[$.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(DU||(DU={}));var jY1=10;function Pp($){if(typeof $!=="string")return $;return $=$.toUpperCase(),DU[$]||DU.WHITE}function Mp($,Q,J){if(!O6&&typeof $==="string"){if(Q)$=`\x1B[${Pp(Q)}m${$}\x1B[39m`;if(J)$=`\x1B[${Pp(J)+jY1}m${$}\x1B[49m`}return $}function wp($,Q=["constructor"]){let J=Object.getPrototypeOf($),Z=Object.getOwnPropertyNames(J),X=$;for(let W of Z){let H=X[W];if(typeof H==="function"){if(!Q.find((F)=>W===F))X[W]=H.bind($)}}}function QY($,Q){if(!$)throw Error(Q||"Assertion failed")}function I$(){let $;if(O6()&&UU.performance)$=UU?.performance?.now?.();else if("hrtime"in VU){let Q=VU?.hrtime?.();$=Q[0]*1000+Q[1]/1e6}else $=Date.now();return $}var lJ={debug:O6()?console.debug||console.log:console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},LY1={enabled:!0,level:0};function pJ(){}var Sp={},Tp={once:!0};class X4{constructor({id:$}={id:""}){this.VERSION=jk,this._startTs=I$(),this._deltaTs=I$(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=$,this.userData={},this._storage=new Lk(`__probe-${this.id}__`,LY1),this.timeStamp(`${this.id} started`),wp(this),Object.seal(this)}set level($){this.setLevel($)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((I$()-this._startTs).toPrecision(10))}getDelta(){return Number((I$()-this._deltaTs).toPrecision(10))}set priority($){this.level=$}get priority(){return this.level}getPriority(){return this.level}enable($=!0){return this._storage.setConfiguration({enabled:$}),this}setLevel($){return this._storage.setConfiguration({level:$}),this}get($){return this._storage.config[$]}set($,Q){this._storage.setConfiguration({[$]:Q})}settings(){if(console.table)console.table(this._storage.config);else console.log(this._storage.config)}assert($,Q){if(!$)throw Error(Q||"Assertion failed")}warn($){return this._getLogFunction(0,$,lJ.warn,arguments,Tp)}error($){return this._getLogFunction(0,$,lJ.error,arguments)}deprecated($,Q){return this.warn(`\`${$}\` is deprecated and will be removed in a later version. Use \`${Q}\` instead`)}removed($,Q){return this.error(`\`${$}\` has been removed. Use \`${Q}\` instead`)}probe($,Q){return this._getLogFunction($,Q,lJ.log,arguments,{time:!0,once:!0})}log($,Q){return this._getLogFunction($,Q,lJ.debug,arguments)}info($,Q){return this._getLogFunction($,Q,console.info,arguments)}once($,Q){return this._getLogFunction($,Q,lJ.debug||lJ.info,arguments,Tp)}table($,Q,J){if(Q)return this._getLogFunction($,Q,console.table||pJ,J&&[J],{tag:vY1(Q)});return pJ}time($,Q){return this._getLogFunction($,Q,console.time?console.time:console.info)}timeEnd($,Q){return this._getLogFunction($,Q,console.timeEnd?console.timeEnd:console.info)}timeStamp($,Q){return this._getLogFunction($,Q,console.timeStamp||pJ)}group($,Q,J={collapsed:!1}){let Z=Ip({logLevel:$,message:Q,opts:J}),{collapsed:X}=J;return Z.method=(X?console.groupCollapsed:console.group)||console.info,this._getLogFunction(Z)}groupCollapsed($,Q,J={}){return this.group($,Q,Object.assign({},J,{collapsed:!0}))}groupEnd($){return this._getLogFunction($,"",console.groupEnd||pJ)}withGroup($,Q,J){this.group($,Q)();try{J()}finally{this.groupEnd($)()}}trace(){if(console.trace)console.trace()}_shouldLog($){return this.isEnabled()&&this.getLevel()>=Gp($)}_getLogFunction($,Q,J,Z,X){if(this._shouldLog($)){X=Ip({logLevel:$,message:Q,args:Z,opts:X}),J=J||X.method,QY(J),X.total=this.getTotal(),X.delta=this.getDelta(),this._deltaTs=I$();let W=X.tag||X.message;if(X.once&&W)if(!Sp[W])Sp[W]=I$();else return pJ;return Q=hY1(this.id,X.message,X),J.bind(console,Q,...X.args)}return pJ}}X4.VERSION=jk;function Gp($){if(!$)return 0;let Q;switch(typeof $){case"number":Q=$;break;case"object":Q=$.logLevel||$.priority||0;break;default:return 0}return QY(Number.isFinite(Q)&&Q>=0),Q}function Ip($){let{logLevel:Q,message:J}=$;$.logLevel=Gp(Q);let Z=$.args?Array.from($.args):[];while(Z.length&&Z.shift()!==J);switch(typeof Q){case"string":case"function":if(J!==void 0)Z.unshift(J);$.message=Q;break;case"object":Object.assign($,Q);break;default:}if(typeof $.message==="function")$.message=$.message();let X=typeof $.message;return QY(X==="string"||X==="object"),Object.assign($,{args:Z},$.opts)}function hY1($,Q,J){if(typeof Q==="string"){let Z=J.time?kp(Op(J.total)):"";Q=J.time?`${$}: ${Z}  ${Q}`:`${$}: ${Q}`,Q=Mp(Q,J.color,J.background)}return Q}function vY1($){for(let Q in $)for(let J in $[Q])return J||"untitled";return"empty"}globalThis.probe={};var YG1=new X4({id:"@probe.gl/log"});var hk="4.3.3",_Y1=hk[0]>="0"&&hk[0]<="9"?`v${hk}`:"";function xY1(){let $=new X4({id:"loaders.gl"});return globalThis.loaders=globalThis.loaders||{},globalThis.loaders.log=$,globalThis.loaders.version=_Y1,globalThis.probe=globalThis.probe||{},globalThis.probe.loaders=$,$}var vk=xY1();function _k($,Q){return Ep($||{},Q)}function Ep($,Q,J=0){if(J>3)return Q;let Z={...$};for(let[X,W]of Object.entries(Q))if(W&&typeof W==="object"&&!Array.isArray(W))Z[X]=Ep(Z[X]||{},Q[X],J+1);else Z[X]=Q[X];return Z}var jp="latest";function gY1(){if(!globalThis._loadersgl_?.version)globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.3.3";return globalThis._loadersgl_.version}var xk=gY1();function k6($,Q){if(!$)throw Error(Q||"loaders.gl assertion failed.")}var N3={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document},CG1=N3.self||N3.window||N3.global||{},AG1=N3.window||N3.self||N3.global||{},zG1=N3.global||N3.self||N3.window||{},BG1=N3.document||{};var f4=typeof process!=="object"||String(process)!=="[object process]"||!0;var hp=typeof window<"u"&&typeof window.orientation<"u",Lp=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),RG1=Lp&&parseFloat(Lp[1])||0;class CU{name;workerThread;isRunning=!0;result;_resolve=()=>{};_reject=()=>{};constructor($,Q){this.name=$,this.workerThread=Q,this.result=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}postMessage($,Q){this.workerThread.postMessage({source:"loaders.gl",type:$,payload:Q})}done($){k6(this.isRunning),this.isRunning=!1,this._resolve($)}error($){k6(this.isRunning),this.isRunning=!1,this._reject($)}}class JY{terminate(){}}var gk=new Map;function vp($){k6($.source&&!$.url||!$.source&&$.url);let Q=gk.get($.source||$.url);if(!Q){if($.url)Q=yY1($.url),gk.set($.url,Q);if($.source)Q=_p($.source),gk.set($.source,Q)}return k6(Q),Q}function yY1($){if(!$.startsWith("http"))return $;let Q=bY1($);return _p(Q)}function _p($){let Q=new Blob([$],{type:"application/javascript"});return URL.createObjectURL(Q)}function bY1($){return`try {
  importScripts('${$}');
} catch (error) {
  console.error(error);
  throw error;
}`}function yk($,Q=!0,J){let Z=J||new Set;if(!$);else if(xp($))Z.add($);else if(xp($.buffer))Z.add($.buffer);else if(ArrayBuffer.isView($));else if(Q&&typeof $==="object")for(let X in $)yk($[X],Q,Z);return J===void 0?Array.from(Z):[]}function xp($){if(!$)return!1;if($ instanceof ArrayBuffer)return!0;if(typeof MessagePort<"u"&&$ instanceof MessagePort)return!0;if(typeof ImageBitmap<"u"&&$ instanceof ImageBitmap)return!0;if(typeof OffscreenCanvas<"u"&&$ instanceof OffscreenCanvas)return!0;return!1}var bk=()=>{};class G${name;source;url;terminated=!1;worker;onMessage;onError;_loadableURL="";static isSupported(){return typeof Worker<"u"&&f4||typeof JY<"u"&&!f4}constructor($){let{name:Q,source:J,url:Z}=$;k6(J||Z),this.name=Q,this.source=J,this.url=Z,this.onMessage=bk,this.onError=(X)=>console.log(X),this.worker=f4?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=bk,this.onError=bk,this.worker.terminate(),this.terminated=!0}get isRunning(){return Boolean(this.onMessage)}postMessage($,Q){Q=Q||yk($),this.worker.postMessage($,Q)}_getErrorFromErrorEvent($){let Q="Failed to load ";if(Q+=`worker ${this.name} from ${this.url}. `,$.message)Q+=`${$.message} in `;if($.lineno)Q+=`:${$.lineno}:${$.colno}`;return Error(Q)}_createBrowserWorker(){this._loadableURL=vp({source:this.source,url:this.url});let $=new Worker(this._loadableURL,{name:this.name});return $.onmessage=(Q)=>{if(!Q.data)this.onError(Error("No data received"));else this.onMessage(Q.data)},$.onerror=(Q)=>{this.onError(this._getErrorFromErrorEvent(Q)),this.terminated=!0},$.onmessageerror=(Q)=>console.error(Q),$}_createNodeWorker(){let $;if(this.url){let J=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;$=new JY(J,{eval:!1})}else if(this.source)$=new JY(this.source,{eval:!0});else throw Error("no worker");return $.on("message",(Q)=>{this.onMessage(Q)}),$.on("error",(Q)=>{this.onError(Q)}),$.on("exit",(Q)=>{}),$}}class AU{name="unnamed";source;url;maxConcurrency=1;maxMobileConcurrency=1;onDebug=()=>{};reuseWorkers=!0;props={};jobQueue=[];idleQueue=[];count=0;isDestroyed=!1;static isSupported(){return G$.isSupported()}constructor($){this.source=$.source,this.url=$.url,this.setProps($)}destroy(){this.idleQueue.forEach(($)=>$.destroy()),this.isDestroyed=!0}setProps($){if(this.props={...this.props,...$},$.name!==void 0)this.name=$.name;if($.maxConcurrency!==void 0)this.maxConcurrency=$.maxConcurrency;if($.maxMobileConcurrency!==void 0)this.maxMobileConcurrency=$.maxMobileConcurrency;if($.reuseWorkers!==void 0)this.reuseWorkers=$.reuseWorkers;if($.onDebug!==void 0)this.onDebug=$.onDebug}async startJob($,Q=(Z,X,W)=>Z.done(W),J=(Z,X)=>Z.error(X)){let Z=new Promise((X)=>{return this.jobQueue.push({name:$,onMessage:Q,onError:J,onStart:X}),this});return this._startQueuedJob(),await Z}async _startQueuedJob(){if(!this.jobQueue.length)return;let $=this._getAvailableWorker();if(!$)return;let Q=this.jobQueue.shift();if(Q){this.onDebug({message:"Starting job",name:Q.name,workerThread:$,backlog:this.jobQueue.length});let J=new CU(Q.name,$);$.onMessage=(Z)=>Q.onMessage(J,Z.type,Z.payload),$.onError=(Z)=>Q.onError(J,Z),Q.onStart(J);try{await J.result}catch(Z){console.error(`Worker exception: ${Z}`)}finally{this.returnWorkerToQueue($)}}}returnWorkerToQueue($){if(!f4||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency())$.destroy(),this.count--;else this.idleQueue.push($);if(!this.isDestroyed)this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;let $=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new G$({name:$,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return hp?this.maxMobileConcurrency:this.maxConcurrency}}var fY1={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class P7{props;workerPools=new Map;static _workerFarm;static isSupported(){return G$.isSupported()}static getWorkerFarm($={}){return P7._workerFarm=P7._workerFarm||new P7({}),P7._workerFarm.setProps($),P7._workerFarm}constructor($){this.props={...fY1},this.setProps($),this.workerPools=new Map}destroy(){for(let $ of this.workerPools.values())$.destroy();this.workerPools=new Map}setProps($){this.props={...this.props,...$};for(let Q of this.workerPools.values())Q.setProps(this._getWorkerPoolProps())}getWorkerPool($){let{name:Q,source:J,url:Z}=$,X=this.workerPools.get(Q);if(!X)X=new AU({name:Q,source:J,url:Z}),X.setProps(this._getWorkerPoolProps()),this.workerPools.set(Q,X);return X}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}function fk($,Q={}){let J=Q[$.id]||{},Z=f4?`${$.id}-worker.js`:`${$.id}-worker-node.js`,X=J.workerUrl;if(!X&&$.id==="compression")X=Q.workerUrl;if(Q._workerType==="test")if(f4)X=`modules/${$.module}/dist/${Z}`;else X=`modules/${$.module}/src/workers/${$.id}-worker-node.ts`;if(!X){let W=$.version;if(W==="latest")W=jp;let H=W?`@${W}`:"";X=`https://unpkg.com/@loaders.gl/${$.module}${H}/dist/${Z}`}return k6(X),X}function mk($,Q=xk){k6($,"no worker provided");let J=$.version;if(!Q||!J)return!1;return!0}function ck($,Q){if(!P7.isSupported())return!1;if(!f4&&!Q?._nodeWorkers)return!1;return $.worker&&Q?.worker}async function dk($,Q,J,Z,X){let W=$.id,H=fk($,J),V=P7.getWorkerFarm(J).getWorkerPool({name:W,url:H});J=JSON.parse(JSON.stringify(J)),Z=JSON.parse(JSON.stringify(Z||{}));let D=await V.startJob("process-on-worker",mY1.bind(null,X));return D.postMessage("process",{input:Q,options:J,context:Z}),await(await D.result).result}async function mY1($,Q,J,Z){switch(J){case"done":Q.done(Z);break;case"error":Q.error(Error(Z.error));break;case"process":let{id:X,input:W,options:H}=Z;try{let F=await $(W,H);Q.postMessage("done",{id:X,result:F})}catch(F){let V=F instanceof Error?F.message:"unknown error";Q.postMessage("error",{id:X,error:V})}break;default:console.warn(`parse-with-worker unknown message ${J}`)}}function lk($,Q,J){if(J=J||$.byteLength,$.byteLength<J||Q.byteLength<J)return!1;let Z=new Uint8Array($),X=new Uint8Array(Q);for(let W=0;W<Z.length;++W)if(Z[W]!==X[W])return!1;return!0}function pk(...$){return gp($)}function gp($){let Q=$.map((W)=>W instanceof ArrayBuffer?new Uint8Array(W):W),J=Q.reduce((W,H)=>W+H.byteLength,0),Z=new Uint8Array(J),X=0;for(let W of Q)Z.set(W,X),X+=W.byteLength;return Z.buffer}async function uk($){let Q=[];for await(let J of $)Q.push(J);return pk(...Q)}function ZY(){let $;if(typeof window<"u"&&window.performance)$=window.performance.now();else if(typeof process<"u"&&process.hrtime){let Q=process.hrtime();$=Q[0]*1000+Q[1]/1e6}else $=Date.now();return $}class uJ{constructor($,Q){this.sampleSize=1,this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this.name=$,this.type=Q,this.reset()}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}setSampleSize($){return this.sampleSize=$,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount($){return this._count+=$,this._samples++,this._checkSampling(),this}subtractCount($){return this._count-=$,this._samples++,this._checkSampling(),this}addTime($){return this._time+=$,this.lastTiming=$,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=ZY(),this._timerPending=!0,this}timeEnd(){if(!this._timerPending)return this;return this.addTime(ZY()-this._startTime),this._timerPending=!1,this._checkSampling(),this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1000):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1000):0}_checkSampling(){if(this._samples===this.sampleSize)this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0}}class M7{constructor($){this.stats={},this.id=$.id,this.stats={},this._initializeStats($.stats),Object.seal(this)}get($,Q="count"){return this._getOrCreate({name:$,type:Q})}get size(){return Object.keys(this.stats).length}reset(){for(let $ of Object.values(this.stats))$.reset();return this}forEach($){for(let Q of Object.values(this.stats))$(Q)}getTable(){let $={};return this.forEach((Q)=>{$[Q.name]={time:Q.time||0,count:Q.count||0,average:Q.getAverageTime()||0,hz:Q.getHz()||0}}),$}_initializeStats($=[]){$.forEach((Q)=>this._getOrCreate(Q))}_getOrCreate($){let{name:Q,type:J}=$,Z=this.stats[Q];if(!Z){if($ instanceof uJ)Z=$;else Z=new uJ(Q,J);this.stats[Q]=Z}return Z}}var cY1="",yp={};function ik($){for(let Q in yp)if($.startsWith(Q)){let J=yp[Q];$=$.replace(Q,J)}if(!$.startsWith("http://")&&!$.startsWith("https://"))$=`${cY1}${$}`;return $}function bp($){return $}function fp($){return $&&typeof $==="object"&&$.isBuffer}function zU($){if(fp($))return bp($);if($ instanceof ArrayBuffer)return $;if(ArrayBuffer.isView($)){if($.byteOffset===0&&$.byteLength===$.buffer.byteLength)return $.buffer;return $.buffer.slice($.byteOffset,$.byteOffset+$.byteLength)}if(typeof $==="string"){let Q=$;return new TextEncoder().encode(Q).buffer}if($&&typeof $==="object"&&$._toArrayBuffer)return $._toArrayBuffer();throw Error("toArrayBuffer")}var E$={};QJ(E$,{resolve:()=>iY1,join:()=>uY1,filename:()=>lY1,dirname:()=>pY1});function mp(){if(typeof process<"u"&&typeof process.cwd<"u")return process.cwd();let $=window.location?.pathname;return $?.slice(0,$.lastIndexOf("/")+1)||""}function lY1($){let Q=$?$.lastIndexOf("/"):-1;return Q>=0?$.substr(Q+1):""}function pY1($){let Q=$?$.lastIndexOf("/"):-1;return Q>=0?$.substr(0,Q):""}function uY1(...$){return $=$.map((J,Z)=>{if(Z)J=J.replace(new RegExp("^/"),"");if(Z!==$.length-1)J=J.replace(new RegExp("/$"),"");return J}),$.join("/")}function iY1(...$){let Q=[];for(let W=0;W<$.length;W++)Q[W]=$[W];let J="",Z=!1,X;for(let W=Q.length-1;W>=-1&&!Z;W--){let H;if(W>=0)H=Q[W];else{if(X===void 0)X=mp();H=X}if(H.length===0)continue;J=`${H}/${J}`,Z=H.charCodeAt(0)===KY}if(J=nY1(J,!Z),Z)return`/${J}`;else if(J.length>0)return J;return"."}var KY=47,nk=46;function nY1($,Q){let J="",Z=-1,X=0,W,H=!1;for(let F=0;F<=$.length;++F){if(F<$.length)W=$.charCodeAt(F);else if(W===KY)break;else W=KY;if(W===KY){if(Z===F-1||X===1);else if(Z!==F-1&&X===2){if(J.length<2||!H||J.charCodeAt(J.length-1)!==nk||J.charCodeAt(J.length-2)!==nk){if(J.length>2){let V=J.length-1,D=V;for(;D>=0;--D)if(J.charCodeAt(D)===KY)break;if(D!==V){J=D===-1?"":J.slice(0,D),Z=F,X=0,H=!1;continue}}else if(J.length===2||J.length===1){J="",Z=F,X=0,H=!1;continue}}if(Q){if(J.length>0)J+="/..";else J="..";H=!0}}else{let V=$.slice(Z+1,F);if(J.length>0)J+=`/${V}`;else J=V;H=!1}Z=F,X=0}else if(W===nk&&X!==-1)++X;else X=-1}return J}var sY1=($)=>typeof $==="boolean",XY=($)=>typeof $==="function",j$=($)=>$!==null&&typeof $==="object",sk=($)=>j$($)&&$.constructor==={}.constructor;var cp=($)=>Boolean($)&&typeof $[Symbol.iterator]==="function",dp=($)=>$&&typeof $[Symbol.asyncIterator]==="function";var m4=($)=>typeof Response<"u"&&$ instanceof Response||$&&$.arrayBuffer&&$.text&&$.json;var c4=($)=>typeof Blob<"u"&&$ instanceof Blob,lp=($)=>$&&typeof $==="object"&&$.isBuffer;var oY1=($)=>typeof ReadableStream<"u"&&$ instanceof ReadableStream||j$($)&&XY($.tee)&&XY($.cancel)&&XY($.getReader);var aY1=($)=>j$($)&&XY($.read)&&XY($.pipe)&&sY1($.readable),BU=($)=>oY1($)||aY1($);class ok extends Error{constructor($,Q){super($);this.reason=Q.reason,this.url=Q.url,this.response=Q.response}reason;url;response}var rY1=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,tY1=/^([-\w.]+\/[-\w.+]+)/;function ak($,Q){if($.toLowerCase()===Q.toLowerCase())return!0;return!1}function pp($){let Q=tY1.exec($);if(Q)return Q[1];return $}function rk($){let Q=rY1.exec($);if(Q)return Q[1];return""}var up=/\?.*/;function ip($){let Q=$.match(up);return Q&&Q[0]}function iJ($){return $.replace(up,"")}function np($){if($.length<50)return $;let Q=$.slice($.length-15);return`${$.substr(0,32)}...${Q}`}function L$($){if(m4($))return $.url;if(c4($))return $.name||"";if(typeof $==="string")return $;return""}function YY($){if(m4($)){let Q=$,J=Q.headers.get("content-type")||"",Z=iJ(Q.url);return pp(J)||rk(Z)}if(c4($))return $.type||"";if(typeof $==="string")return rk($);return""}function sp($){if(m4($))return $.headers["content-length"]||-1;if(c4($))return $.size;if(typeof $==="string")return $.length;if($ instanceof ArrayBuffer)return $.byteLength;if(ArrayBuffer.isView($))return $.byteLength;return-1}async function RU($){if(m4($))return $;let Q={},J=sp($);if(J>=0)Q["content-length"]=String(J);let Z=L$($),X=YY($);if(X)Q["content-type"]=X;let W=await $W1($);if(W)Q["x-first-bytes"]=W;if(typeof $==="string")$=new TextEncoder().encode($);let H=new Response($,{headers:Q});return Object.defineProperty(H,"url",{value:Z}),H}async function op($){if(!$.ok)throw await eY1($)}async function eY1($){let Q=np($.url),J=`Failed to fetch resource (${$.status}) ${$.statusText}: ${Q}`;J=J.length>100?`${J.slice(0,100)}...`:J;let Z={reason:$.statusText,url:$.url,response:$};try{let X=$.headers.get("Content-Type");Z.reason=!$.bodyUsed&&X?.includes("application/json")?await $.json():await $.text()}catch(X){}return new ok(J,Z)}async function $W1($){if(typeof $==="string")return`data:,${$.slice(0,5)}`;if($ instanceof Blob){let J=$.slice(0,5);return await new Promise((Z)=>{let X=new FileReader;X.onload=(W)=>Z(W?.target?.result),X.readAsDataURL(J)})}if($ instanceof ArrayBuffer){let J=$.slice(0,5);return`data:base64,${QW1(J)}`}return null}function QW1($){let Q="",J=new Uint8Array($);for(let Z=0;Z<J.byteLength;Z++)Q+=String.fromCharCode(J[Z]);return btoa(Q)}function JW1($){return!ZW1($)&&!KW1($)}function ZW1($){return $.startsWith("http:")||$.startsWith("https:")}function KW1($){return $.startsWith("data:")}async function tk($,Q){if(typeof $==="string"){let J=ik($);if(JW1(J)){if(globalThis.loaders?.fetchNode)return globalThis.loaders?.fetchNode(J,Q)}return await fetch(J,Q)}return await RU($)}var ek=new X4({id:"loaders.gl"});class $P{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}class QP{console;constructor(){this.console=console}log(...$){return this.console.log.bind(this.console,...$)}info(...$){return this.console.info.bind(this.console,...$)}warn(...$){return this.console.warn.bind(this.console,...$)}error(...$){return this.console.error.bind(this.console,...$)}}var JP={fetch:null,mimeType:void 0,nothrow:!1,log:new QP,useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:T$,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},ap={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function ZP(){globalThis.loaders=globalThis.loaders||{};let{loaders:$}=globalThis;if(!$._state)$._state={};return $._state}function KP(){let $=ZP();return $.globalOptions=$.globalOptions||{...JP},$.globalOptions}function ep($,Q,J,Z){return J=J||[],J=Array.isArray(J)?J:[J],XW1($,J),WW1(Q,$,Z)}function XW1($,Q){rp($,null,JP,ap,Q);for(let J of Q){let Z=$&&$[J.id]||{},X=J.options&&J.options[J.id]||{},W=J.deprecatedOptions&&J.deprecatedOptions[J.id]||{};rp(Z,J.id,X,W,Q)}}function rp($,Q,J,Z,X){let W=Q||"Top level",H=Q?`${Q}.`:"";for(let F in $){let V=!Q&&j$($[F]),D=F==="baseUri"&&!Q,C=F==="workerUrl"&&Q;if(!(F in J)&&!D&&!C){if(F in Z)ek.warn(`${W} loader option '${H}${F}' no longer supported, use '${Z[F]}'`)();else if(!V){let z=YW1(F,X);ek.warn(`${W} loader option '${H}${F}' not recognized. ${z}`)()}}}}function YW1($,Q){let J=$.toLowerCase(),Z="";for(let X of Q)for(let W in X.options){if($===W)return`Did you mean '${X.id}.${W}'?`;let H=W.toLowerCase();if(J.startsWith(H)||H.startsWith(J))Z=Z||`Did you mean '${X.id}.${W}'?`}return Z}function WW1($,Q,J){let X={...$.options||{}};if(qW1(X,J),X.log===null)X.log=new $P;return tp(X,KP()),tp(X,Q),X}function tp($,Q){for(let J in Q)if(J in Q){let Z=Q[J];if(sk(Z)&&sk($[J]))$[J]={...$[J],...Q[J]};else $[J]=Q[J]}}function qW1($,Q){if(Q&&!("baseUri"in $))$.baseUri=Q}function WY($){if(!$)return!1;if(Array.isArray($))$=$[0];return Array.isArray($?.extensions)}function qY($){l9($,"null loader"),l9(WY($),"invalid loader");let Q;if(Array.isArray($))Q=$[1],$=$[0],$={...$,options:{...$.options,...Q}};if($?.parseTextSync||$?.parseText)$.text=!0;if(!$.text)$.binary=!0;return $}var $u=()=>{let $=ZP();return $.loaderRegistry=$.loaderRegistry||[],$.loaderRegistry};function XP($){let Q=$u();$=Array.isArray($)?$:[$];for(let J of $){let Z=qY(J);if(!Q.find((X)=>Z===X))Q.unshift(Z)}}function Qu(){return $u()}var HW1=/\.([^.]+)$/;async function Ku($,Q=[],J,Z){if(!Xu($))return null;let X=Ju($,Q,{...J,nothrow:!0},Z);if(X)return X;if(c4($))$=await $.slice(0,10).arrayBuffer(),X=Ju($,Q,J,Z);if(!X&&!J?.nothrow)throw Error(Yu($));return X}function Ju($,Q=[],J,Z){if(!Xu($))return null;if(Q&&!Array.isArray(Q))return qY(Q);let X=[];if(Q)X=X.concat(Q);if(!J?.ignoreRegisteredLoaders)X.push(...Qu());UW1(X);let W=FW1($,X,J,Z);if(!W&&!J?.nothrow)throw Error(Yu($));return W}function FW1($,Q,J,Z){let X=L$($),W=YY($),H=iJ(X)||Z?.url,F=null,V="";if(J?.mimeType)F=YP(Q,J?.mimeType),V=`match forced by supplied MIME type ${J?.mimeType}`;if(F=F||VW1(Q,H),V=V||(F?`matched url ${H}`:""),F=F||YP(Q,W),V=V||(F?`matched MIME type ${W}`:""),F=F||DW1(Q,$),V=V||(F?`matched initial data ${Wu($)}`:""),J?.fallbackMimeType)F=F||YP(Q,J?.fallbackMimeType),V=V||(F?`matched fallback MIME type ${W}`:"");if(V)vk.log(1,`selectLoader selected ${F?.name}: ${V}.`);return F}function Xu($){if($ instanceof Response){if($.status===204)return!1}return!0}function Yu($){let Q=L$($),J=YY($),Z="No valid loader found (";Z+=Q?`${E$.filename(Q)}, `:"no url provided, ",Z+=`MIME type: ${J?`"${J}"`:"not provided"}, `;let X=$?Wu($):"";return Z+=X?` first bytes: "${X}"`:"first bytes: not available",Z+=")",Z}function UW1($){for(let Q of $)qY(Q)}function VW1($,Q){let J=Q&&HW1.exec(Q),Z=J&&J[1];return Z?NW1($,Z):null}function NW1($,Q){Q=Q.toLowerCase();for(let J of $)for(let Z of J.extensions)if(Z.toLowerCase()===Q)return J;return null}function YP($,Q){for(let J of $){if(J.mimeTypes?.some((Z)=>ak(Q,Z)))return J;if(ak(Q,`application/x.${J.id}`))return J}return null}function DW1($,Q){if(!Q)return null;for(let J of $)if(typeof Q==="string"){if(CW1(Q,J))return J}else if(ArrayBuffer.isView(Q)){if(Zu(Q.buffer,Q.byteOffset,J))return J}else if(Q instanceof ArrayBuffer){if(Zu(Q,0,J))return J}return null}function CW1($,Q){if(Q.testText)return Q.testText($);return(Array.isArray(Q.tests)?Q.tests:[Q.tests]).some((Z)=>$.startsWith(Z))}function Zu($,Q,J){return(Array.isArray(J.tests)?J.tests:[J.tests]).some((X)=>AW1($,Q,J,X))}function AW1($,Q,J,Z){if(Z instanceof ArrayBuffer)return lk(Z,$,Z.byteLength);switch(typeof Z){case"function":return Z($);case"string":let X=WP($,Q,Z.length);return Z===X;default:return!1}}function Wu($,Q=5){if(typeof $==="string")return $.slice(0,Q);else if(ArrayBuffer.isView($))return WP($.buffer,$.byteOffset,Q);else if($ instanceof ArrayBuffer)return WP($,0,Q);return""}function WP($,Q,J){if($.byteLength<Q+J)return"";let Z=new DataView($),X="";for(let W=0;W<J;W++)X+=String.fromCharCode(Z.getUint8(Q+W));return X}function*qu($,Q){let J=Q?.chunkSize||262144,Z=0,X=new TextEncoder;while(Z<$.length){let W=Math.min($.length-Z,J),H=$.slice(Z,Z+W);Z+=W,yield X.encode(H)}}function*Hu($,Q={}){let{chunkSize:J=262144}=Q,Z=0;while(Z<$.byteLength){let X=Math.min($.byteLength-Z,J),W=new ArrayBuffer(X),H=new Uint8Array($,Z,X);new Uint8Array(W).set(H),Z+=X,yield W}}async function*Fu($,Q){let J=Q?.chunkSize||1048576,Z=0;while(Z<$.size){let X=Z+J,W=await $.slice(Z,X).arrayBuffer();Z=X,yield W}}function qP($,Q){return T$?zW1($,Q):BW1($,Q)}async function*zW1($,Q){let J=$.getReader(),Z;try{while(!0){let X=Z||J.read();if(Q?._streamReadAhead)Z=J.read();let{done:W,value:H}=await X;if(W)return;yield zU(H)}}catch(X){J.releaseLock()}}async function*BW1($,Q){for await(let J of $)yield zU(J)}function Uu($,Q){if(typeof $==="string")return qu($,Q);if($ instanceof ArrayBuffer)return Hu($,Q);if(c4($))return Fu($,Q);if(BU($))return qP($,Q);if(m4($))return qP($.body,Q);throw Error("makeIterator")}var Vu="Cannot convert supplied data type";function RW1($,Q,J){if(Q.text&&typeof $==="string")return $;if(lp($))$=$.buffer;if($ instanceof ArrayBuffer){let Z=$;if(Q.text&&!Q.binary)return new TextDecoder("utf8").decode(Z);return Z}if(ArrayBuffer.isView($)){if(Q.text&&!Q.binary)return new TextDecoder("utf8").decode($);let Z=$.buffer,X=$.byteLength||$.length;if($.byteOffset!==0||X!==Z.byteLength)Z=Z.slice($.byteOffset,$.byteOffset+X);return Z}throw Error(Vu)}async function Nu($,Q,J){let Z=$ instanceof ArrayBuffer||ArrayBuffer.isView($);if(typeof $==="string"||Z)return RW1($,Q,J);if(c4($))$=await RU($);if(m4($)){let X=$;return await op(X),Q.binary?await X.arrayBuffer():await X.text()}if(BU($))$=Uu($,J);if(cp($)||dp($))return uk($);throw Error(Vu)}function OU($,Q){let J=KP(),Z=$||J;if(typeof Z.fetch==="function")return Z.fetch;if(j$(Z.fetch))return(X)=>tk(X,Z.fetch);if(Q?.fetch)return Q?.fetch;return tk}function Du($,Q,J){if(J)return J;let Z={fetch:OU(Q,$),...$};if(Z.url){let X=iJ(Z.url);Z.baseUrl=X,Z.queryString=ip(Z.url),Z.filename=E$.filename(X),Z.baseUrl=E$.dirname(X)}if(!Array.isArray(Z.loaders))Z.loaders=null;return Z}function Cu($,Q){if($&&!Array.isArray($))return $;let J;if($)J=Array.isArray($)?$:[$];if(Q&&Q.loaders){let Z=Array.isArray(Q.loaders)?Q.loaders:[Q.loaders];J=J?[...J,...Z]:Z}return J&&J.length?J:void 0}async function HY($,Q,J,Z){if(Q&&!Array.isArray(Q)&&!WY(Q))Z=void 0,J=Q,Q=void 0;$=await $,J=J||{};let X=L$($),H=Cu(Q,Z),F=await Ku($,H,J);if(!F)return null;return J=ep(J,F,H,X),Z=Du({url:X,_parse:HY,loaders:H},J,Z||null),await OW1(F,$,J,Z)}async function OW1($,Q,J,Z){if(mk($),J=_k($.options,J),m4(Q)){let W=Q,{ok:H,redirected:F,status:V,statusText:D,type:C,url:z}=W,R=Object.fromEntries(W.headers.entries());Z.response={headers:R,ok:H,redirected:F,status:V,statusText:D,type:C,url:z}}Q=await Nu(Q,$,J);let X=$;if(X.parseTextSync&&typeof Q==="string")return X.parseTextSync(Q,J,Z);if(ck($,J))return await dk($,Q,J,Z,HY);if(X.parseText&&typeof Q==="string")return await X.parseText(Q,J,Z);if(X.parse)return await X.parse(Q,J,Z);throw k6(!X.parseSync),Error(`${$.id} loader - no parser found and worker is disabled`)}async function p9($,Q,J,Z){let X,W;if(!Array.isArray(Q)&&!WY(Q))X=[],W=Q,Z=void 0;else X=Q,W=J;let H=OU(W),F=$;if(typeof $==="string")F=await H($);if(c4($))F=await H($);return Array.isArray(X)?await HY(F,X,W):await HY(F,X,W)}var Au="4.3.3";var kW1=globalThis.loaders?.parseImageNode,HP=typeof Image<"u",FP=typeof ImageBitmap<"u",PW1=Boolean(kW1),UP=T$?!0:PW1;function zu($){switch($){case"auto":return FP||HP||UP;case"imagebitmap":return FP;case"image":return HP;case"data":return UP;default:throw Error(`@loaders.gl/images: image ${$} not supported in this environment`)}}function Bu(){if(FP)return"imagebitmap";if(HP)return"image";if(UP)return"data";throw Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function MW1($){let Q=wW1($);if(!Q)throw Error("Not an image");return Q}function Ru($){switch(MW1($)){case"data":return $;case"image":case"imagebitmap":let Q=document.createElement("canvas"),J=Q.getContext("2d");if(!J)throw Error("getImageData");return Q.width=$.width,Q.height=$.height,J.drawImage($,0,0),J.getImageData(0,0,$.width,$.height);default:throw Error("getImageData")}}function wW1($){if(typeof ImageBitmap<"u"&&$ instanceof ImageBitmap)return"imagebitmap";if(typeof Image<"u"&&$ instanceof Image)return"image";if($&&typeof $==="object"&&$.data&&$.width&&$.height)return"data";return null}var SW1=/^data:image\/svg\+xml/,TW1=/\.svg((\?|#).*)?$/;function kU($){return $&&(SW1.test($)||TW1.test($))}function Ou($,Q){if(kU(Q)){let Z=new TextDecoder().decode($);try{if(typeof unescape==="function"&&typeof encodeURIComponent==="function")Z=unescape(encodeURIComponent(Z))}catch(W){throw Error(W.message)}return`data:image/svg+xml;base64,${btoa(Z)}`}return VP($,Q)}function VP($,Q){if(kU(Q))throw Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array($)])}async function PU($,Q,J){let Z=Ou($,J),X=self.URL||self.webkitURL,W=typeof Z!=="string"&&X.createObjectURL(Z);try{return await IW1(W||Z,Q)}finally{if(W)X.revokeObjectURL(W)}}async function IW1($,Q){let J=new Image;if(J.src=$,Q.image&&Q.image.decode&&J.decode)return await J.decode(),J;return await new Promise((Z,X)=>{try{J.onload=()=>Z(J),J.onerror=(W)=>{let H=W instanceof Error?W.message:"error";X(Error(H))}}catch(W){X(W)}})}var GW1={},ku=!0;async function Pu($,Q,J){let Z;if(kU(J))Z=await PU($,Q,J);else Z=VP($,J);let X=Q&&Q.imagebitmap;return await EW1(Z,X)}async function EW1($,Q=null){if(jW1(Q)||!ku)Q=null;if(Q)try{return await createImageBitmap($,Q)}catch(J){console.warn(J),ku=!1}return await createImageBitmap($)}function jW1($){for(let Q in $||GW1)return!1;return!0}function Mu($){if(!_W1($,"ftyp",4))return null;if(($[8]&96)===0)return null;return LW1($)}function LW1($){switch(hW1($,8,12).replace("\x00"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}function hW1($,Q,J){return String.fromCharCode(...$.slice(Q,J))}function vW1($){return[...$].map((Q)=>Q.charCodeAt(0))}function _W1($,Q,J=0){let Z=vW1(Q);for(let X=0;X<Z.length;++X)if(Z[X]!==$[X+J])return!1;return!0}var D3=!1,FY=!0;function MU($){let Q=UY($);return gW1(Q)||fW1(Q)||yW1(Q)||bW1(Q)||xW1(Q)}function xW1($){let Q=new Uint8Array($ instanceof DataView?$.buffer:$),J=Mu(Q);if(!J)return null;return{mimeType:J.mimeType,width:0,height:0}}function gW1($){let Q=UY($);if(!(Q.byteLength>=24&&Q.getUint32(0,D3)===2303741511))return null;return{mimeType:"image/png",width:Q.getUint32(16,D3),height:Q.getUint32(20,D3)}}function yW1($){let Q=UY($);if(!(Q.byteLength>=10&&Q.getUint32(0,D3)===1195984440))return null;return{mimeType:"image/gif",width:Q.getUint16(6,FY),height:Q.getUint16(8,FY)}}function bW1($){let Q=UY($);if(!(Q.byteLength>=14&&Q.getUint16(0,D3)===16973&&Q.getUint32(2,FY)===Q.byteLength))return null;return{mimeType:"image/bmp",width:Q.getUint32(18,FY),height:Q.getUint32(22,FY)}}function fW1($){let Q=UY($);if(!(Q.byteLength>=3&&Q.getUint16(0,D3)===65496&&Q.getUint8(2)===255))return null;let{tableMarkers:Z,sofMarkers:X}=mW1(),W=2;while(W+9<Q.byteLength){let H=Q.getUint16(W,D3);if(X.has(H))return{mimeType:"image/jpeg",height:Q.getUint16(W+5,D3),width:Q.getUint16(W+7,D3)};if(!Z.has(H))return null;W+=2,W+=Q.getUint16(W,D3)}return null}function mW1(){let $=new Set([65499,65476,65484,65501,65534]);for(let J=65504;J<65520;++J)$.add(J);return{tableMarkers:$,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}function UY($){if($ instanceof DataView)return $;if(ArrayBuffer.isView($))return new DataView($.buffer);if($ instanceof ArrayBuffer)return new DataView($);throw Error("toDataView")}async function wu($,Q){let{mimeType:J}=MU($)||{},Z=globalThis.loaders?.parseImageNode;return l9(Z),await Z($,J)}async function Su($,Q,J){Q=Q||{};let X=(Q.image||{}).type||"auto",{url:W}=J||{},H=cW1(X),F;switch(H){case"imagebitmap":F=await Pu($,Q,W);break;case"image":F=await PU($,Q,W);break;case"data":F=await wu($,Q);break;default:l9(!1)}if(X==="data")F=Ru(F);return F}function cW1($){switch($){case"auto":case"data":return Bu();default:return zu($),$}}var dW1=["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],lW1=["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],pW1={image:{type:"auto",decode:!0}},NP={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:Au,mimeTypes:lW1,extensions:dW1,parse:Su,tests:[($)=>Boolean(MU(new DataView($)))],options:pW1};var uW1=new X4({id:"deck"}),S1=uW1;var u9={attributeUpdateStart:-1,attributeManagerUpdateStart:-1,attributeUpdateMessages:[]};var Tu=($)=>({"layer.changeFlag":(Q,J,Z)=>{$.log(3,`${Q.id} ${J}: `,Z[J])()},"layer.initialize":(Q)=>{$.log(1,`Initializing ${Q}`)()},"layer.update":(Q,J)=>{if(J){let Z=Q.getChangeFlags();$.log(2,`Updating ${Q} because: ${Object.keys(Z).filter((X)=>Z[X]).join(", ")}`)()}else $.log(4,`${Q} does not need update`)()},"layer.matched":(Q,J)=>{if(J)$.log(4,`Matched ${Q}, state transfered`)()},"layer.finalize":(Q)=>{$.log(1,`Finalizing ${Q}`)()},"compositeLayer.renderLayers":(Q,J,Z)=>{if(J)$.log(2,`Composite layer rendered new subLayers ${Q}`,Z)();else $.log(4,`Composite layer reused subLayers ${Q}`,Z)()},"layerManager.setLayers":(Q,J,Z)=>{if(J)$.log(2,`Updating ${Z.length} deck layers`)()},"layerManager.activateViewport":(Q,J)=>{$.log(3,"Viewport changed",J)()},"attributeManager.invalidate":(Q,J,Z)=>{$.log(1,Z?`invalidated attributes ${Z} (${J}) for ${Q.id}`:`invalidated all attributes for ${Q.id}`)()},"attributeManager.updateStart":(Q)=>{u9.attributeUpdateMessages.length=0,u9.attributeManagerUpdateStart=Date.now()},"attributeManager.updateEnd":(Q,J)=>{let Z=Math.round(Date.now()-u9.attributeManagerUpdateStart);$.groupCollapsed(2,`Updated attributes for ${J} instances in ${Q.id} in ${Z}ms`)();for(let X of u9.attributeUpdateMessages)$.log(3,X)();$.groupEnd(2)()},"attribute.updateStart":(Q)=>{u9.attributeUpdateStart=Date.now()},"attribute.allocate":(Q,J)=>{let Z=`${Q.id} allocated ${J}`;u9.attributeUpdateMessages.push(Z)},"attribute.updateEnd":(Q,J)=>{let Z=Math.round(Date.now()-u9.attributeUpdateStart),X=`${Q.id} updated ${J} in ${Z}ms`;u9.attributeUpdateMessages.push(X)},"deckRenderer.renderLayers":(Q,J,Z)=>{let{pass:X,redrawReason:W,stats:H}=Z;for(let F of J){let{totalCount:V,visibleCount:D,compositeCount:C,pickableCount:z}=F,k=V-C-D;if($.log(2,`RENDER #${Q.renderCount}   ${D} (of ${V} layers) to ${X} because ${W}   (${k} hidden, ${C} composite ${z} pickable)`)(),H)H.get("Redraw Layers").add(D)}}});var wU={};wU=Tu(S1);function Iu($){wU=$}function U5($,Q,J,Z){if(S1.level>0&&wU[$])wU[$].call(null,Q,J,Z)}function iW1($){let Q=$[0],J=$[$.length-1];return Q==="{"&&J==="}"||Q==="["&&J==="]"}var Gu={dataType:null,batchType:null,id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:iW1,parseTextSync:JSON.parse};function nW1(){let Q=globalThis.deck&&globalThis.deck.VERSION;if(Q&&Q!=="9.1.15")throw Error(`deck.gl - multiple versions detected: ${Q} vs 9.1.15`);if(!Q)S1.log(1,"deck.gl 9.1.15")(),globalThis.deck={...globalThis.deck,VERSION:"9.1.15",version:"9.1.15",log:S1,_registerLoggers:Iu},XP([Gu,[NP,{imagebitmap:{premultiplyAlpha:"none"}}]]);return"9.1.15"}var Eu=nW1();function SU($,Q){if(!$)throw Error(Q||"shadertools: assertion failed.")}var DP={number:{type:"number",validate($,Q){return Number.isFinite($)&&typeof Q==="object"&&(Q.max===void 0||$<=Q.max)&&(Q.min===void 0||$>=Q.min)}},array:{type:"array",validate($,Q){return Array.isArray($)||ArrayBuffer.isView($)}}};function Lu($){let Q={};for(let[J,Z]of Object.entries($))Q[J]=sW1(Z);return Q}function sW1($){let Q=ju($);if(Q!=="object")return{value:$,...DP[Q],type:Q};if(typeof $==="object"){if(!$)return{type:"object",value:null};if($.type!==void 0)return{...$,...DP[$.type],type:$.type};if($.value===void 0)return{type:"object",value:$};return Q=ju($.value),{...$,...DP[Q],type:Q}}throw Error("props")}function ju($){if(Array.isArray($)||ArrayBuffer.isView($))return"array";return typeof $}var hu=`#ifdef MODULE_LOGDEPTH
  logdepth_adjustPosition(gl_Position);
#endif
`,vu=`#ifdef MODULE_MATERIAL
  fragColor = material_filterColor(fragColor);
#endif

#ifdef MODULE_LIGHTING
  fragColor = lighting_filterColor(fragColor);
#endif

#ifdef MODULE_FOG
  fragColor = fog_filterColor(fragColor);
#endif

#ifdef MODULE_PICKING
  fragColor = picking_filterHighlightColor(fragColor);
  fragColor = picking_filterPickingColor(fragColor);
#endif

#ifdef MODULE_LOGDEPTH
  logdepth_setFragDepth();
#endif
`;var oW1={vertex:hu,fragment:vu},_u=/void\s+main\s*\([^)]*\)\s*\{\n?/,xu=/}\n?[^{}]*$/,CP=[],VY="__LUMA_INJECT_DECLARATIONS__";function gu($){let Q={vertex:{},fragment:{}};for(let J in $){let Z=$[J],X=aW1(J);if(typeof Z==="string")Z={order:0,injection:Z};Q[X][J]=Z}return Q}function aW1($){let Q=$.slice(0,2);switch(Q){case"vs":return"vertex";case"fs":return"fragment";default:throw Error(Q)}}function NY($,Q,J,Z=!1){let X=Q==="vertex";for(let W in J){let H=J[W];H.sort((V,D)=>V.order-D.order),CP.length=H.length;for(let V=0,D=H.length;V<D;++V)CP[V]=H[V].injection;let F=`${CP.join(`
`)}
`;switch(W){case"vs:#decl":if(X)$=$.replace(VY,F);break;case"vs:#main-start":if(X)$=$.replace(_u,(V)=>V+F);break;case"vs:#main-end":if(X)$=$.replace(xu,(V)=>F+V);break;case"fs:#decl":if(!X)$=$.replace(VY,F);break;case"fs:#main-start":if(!X)$=$.replace(_u,(V)=>V+F);break;case"fs:#main-end":if(!X)$=$.replace(xu,(V)=>F+V);break;default:$=$.replace(W,(V)=>V+F)}}if($=$.replace(VY,""),Z)$=$.replace(/\}\s*$/,(W)=>W+oW1[Q]);return $}function nJ($){$.map((Q)=>rW1(Q))}function rW1($){if($.instance)return;nJ($.dependencies||[]);let{propTypes:Q={},deprecations:J=[],inject:Z={}}=$,X={normalizedInjections:gu(Z),parsedDeprecations:tW1(J)};if(Q)X.propValidators=Lu(Q);$.instance=X;let W={};if(Q)W=Object.entries(Q).reduce((H,[F,V])=>{let D=V?.value;if(D)H[F]=D;return H},{});$.defaultUniforms={...$.defaultUniforms,...W}}function AP($,Q,J){$.deprecations?.forEach((Z)=>{if(Z.regex?.test(Q))if(Z.deprecated)J.deprecated(Z.old,Z.new)();else J.removed(Z.old,Z.new)()})}function tW1($){return $.forEach((Q)=>{switch(Q.type){case"function":Q.regex=new RegExp(`\\b${Q.old}\\(`);break;default:Q.regex=new RegExp(`${Q.type} ${Q.old};`)}}),$}function sJ($){nJ($);let Q={},J={};yu({modules:$,level:0,moduleMap:Q,moduleDepth:J});let Z=Object.keys(J).sort((X,W)=>J[W]-J[X]).map((X)=>Q[X]);return nJ(Z),Z}function yu($){let{modules:Q,level:J,moduleMap:Z,moduleDepth:X}=$;if(J>=5)throw Error("Possible loop in shader dependency graph");for(let W of Q)if(Z[W.name]=W,X[W.name]===void 0||X[W.name]<J)X[W.name]=J;for(let W of Q)if(W.dependencies)yu({modules:W.dependencies,level:J+1,moduleMap:Z,moduleDepth:X})}function bu($){switch($?.gpu.toLowerCase()){case"apple":return`#define APPLE_GPU
// Apple optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"nvidia":return`#define NVIDIA_GPU
// Nvidia optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
`;case"intel":return`#define INTEL_GPU
// Intel optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Intel's built-in 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"amd":return`#define AMD_GPU
`;default:return`#define DEFAULT_GPU
// Prevent driver from optimizing away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Headless Chrome's software shader 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// If the GPU doesn't have full 32 bits precision, will causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`}}function mu($,Q){if(Number($.match(/^#version[ \t]+(\d+)/m)?.[1]||100)!==300)throw Error("luma.gl v9 only supports GLSL 3.00 shader sources");switch(Q){case"vertex":return $=fu($,eW1),$;case"fragment":return $=fu($,$q1),$;default:throw Error(Q)}}var cu=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,`#version 300 es
`],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],eW1=[...cu,[zP("attribute"),"in $1"],[zP("varying"),"out $1"]],$q1=[...cu,[zP("varying"),"in $1"]];function fu($,Q){for(let[J,Z]of Q)$=$.replace(J,Z);return $}function zP($){return new RegExp(`\\b${$}[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)`,"g")}function BP($,Q){let J="";for(let Z in $){let X=$[Z];if(J+=`void ${X.signature} {
`,X.header)J+=`  ${X.header}`;if(Q[Z]){let W=Q[Z];W.sort((H,F)=>H.order-F.order);for(let H of W)J+=`  ${H.injection}
`}if(X.footer)J+=`  ${X.footer}`;J+=`}
`}return J}function RP($){let Q={vertex:{},fragment:{}};for(let J of $){let Z,X;if(typeof J!=="string")Z=J,X=Z.hook;else Z={},X=J;X=X.trim();let[W,H]=X.split(":"),F=X.replace(/\(.+/,""),V=Object.assign(Z,{signature:H});switch(W){case"vs":Q.vertex[F]=V;break;case"fs":Q.fragment[F]=V;break;default:throw Error(W)}}return Q}function du($,Q){return{name:Qq1($,Q),language:"glsl",version:Jq1($)}}function Qq1($,Q="unnamed"){let Z=/#define[^\S\r\n]*SHADER_NAME[^\S\r\n]*([A-Za-z0-9_-]+)\s*/.exec($);return Z?Z[1]:Q}function Jq1($){let Q=100,J=$.match(/[^\s]+/g);if(J&&J.length>=2&&J[0]==="#version"){let Z=parseInt(J[1],10);if(Number.isFinite(Z))Q=Z}if(Q!==100&&Q!==300)throw Error(`Invalid GLSL version ${Q}`);return Q}var pu=`

${VY}
`,Zq1=`precision highp float;
`;function uu($){let Q=sJ($.modules||[]);return{source:Kq1($.platformInfo,{...$,source:$.source,stage:"vertex",modules:Q}),getUniforms:nu(Q)}}function iu($){let{vs:Q,fs:J}=$,Z=sJ($.modules||[]);return{vs:lu($.platformInfo,{...$,source:Q,stage:"vertex",modules:Z}),fs:lu($.platformInfo,{...$,source:J,stage:"fragment",modules:Z}),getUniforms:nu(Z)}}function Kq1($,Q){let{source:J,stage:Z,modules:X,hookFunctions:W=[],inject:H={},log:F}=Q;SU(typeof J==="string","shader source must be a string");let V=J,D="",C=RP(W),z={},R={},k={};for(let S in H){let T=typeof H[S]==="string"?{injection:H[S],order:0}:H[S],_=/^(v|f)s:(#)?([\w-]+)$/.exec(S);if(_){let v=_[2],L=_[3];if(v)if(L==="decl")R[S]=[T];else k[S]=[T];else z[S]=[T]}else k[S]=[T]}let P=X;for(let S of P){if(F)AP(S,V,F);let T=su(S,"wgsl");D+=T;let _=S.injections?.[Z]||{};for(let v in _){let L=/^(v|f)s:#([\w-]+)$/.exec(v);if(L){let l=L[2]==="decl"?R:k;l[v]=l[v]||[],l[v].push(_[v])}else z[v]=z[v]||[],z[v].push(_[v])}}return D+=pu,D=NY(D,Z,R),D+=BP(C[Z],z),D+=V,D=NY(D,Z,k),D}function lu($,Q){let{id:J,source:Z,stage:X,language:W="glsl",modules:H,defines:F={},hookFunctions:V=[],inject:D={},prologue:C=!0,log:z}=Q;SU(typeof Z==="string","shader source must be a string");let R=W==="glsl"?du(Z).version:-1,k=$.shaderLanguageVersion,P=R===100?"#version 100":"#version 300 es",T=Z.split(`
`).slice(1).join(`
`),_={};H.forEach((Y1)=>{Object.assign(_,Y1.defines)}),Object.assign(_,F);let v="";switch(W){case"wgsl":break;case"glsl":v=C?`${P}

// ----- PROLOGUE -------------------------
${Xq1({id:J,source:Z,stage:X})}
${`#define SHADER_TYPE_${X.toUpperCase()}`}

${bu($)}
${X==="fragment"?Zq1:""}

// ----- APPLICATION DEFINES -------------------------

${Yq1(_)}

`:`${P}
`;break}let L=RP(V),f={},l={},J1={};for(let Y1 in D){let H1=typeof D[Y1]==="string"?{injection:D[Y1],order:0}:D[Y1],Q1=/^(v|f)s:(#)?([\w-]+)$/.exec(Y1);if(Q1){let W1=Q1[2],R1=Q1[3];if(W1)if(R1==="decl")l[Y1]=[H1];else J1[Y1]=[H1];else f[Y1]=[H1]}else J1[Y1]=[H1]}for(let Y1 of H){if(z)AP(Y1,T,z);let H1=su(Y1,X);v+=H1;let Q1=Y1.instance?.normalizedInjections[X]||{};for(let W1 in Q1){let R1=/^(v|f)s:#([\w-]+)$/.exec(W1);if(R1){let O1=R1[2]==="decl"?l:J1;O1[W1]=O1[W1]||[],O1[W1].push(Q1[W1])}else f[W1]=f[W1]||[],f[W1].push(Q1[W1])}}if(v+="// ----- MAIN SHADER SOURCE -------------------------",v+=pu,v=NY(v,X,l),v+=BP(L[X],f),v+=T,v=NY(v,X,J1),W==="glsl"&&R!==k)v=mu(v,X);return v.trim()}function nu($){return function(J){let Z={};for(let X of $){let W=X.getUniforms?.(J,Z);Object.assign(Z,W)}return Z}}function Xq1($){let{id:Q,source:J,stage:Z}=$;return Q&&J.indexOf("SHADER_NAME")===-1?`
#define SHADER_NAME ${Q}_${Z}`:""}function Yq1($={}){let Q="";for(let J in $){let Z=$[J];if(Z||Number.isFinite(Z))Q+=`#define ${J.toUpperCase()} ${$[J]}
`}return Q}function su($,Q){let J;switch(Q){case"vertex":J=$.vs||"";break;case"fragment":J=$.fs||"";break;case"wgsl":J=$.source||"";break;default:SU(!1)}if(!$.name)throw Error("Shader module must have a name");let Z=$.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),X=`// ----- MODULE ${$.name} ---------------

`;if(Q!=="wgsl")X+=`#define MODULE_${Z}
`;return X+=`${J}
`,X}var Wq1=/^\s*\#\s*ifdef\s*([a-zA-Z_]+)\s*$/,qq1=/^\s*\#\s*endif\s*$/;function ou($,Q){let J=$.split(`
`),Z=[],X=!0,W=null;for(let H of J){let F=H.match(Wq1),V=H.match(qq1);if(F)W=F[1],X=Boolean(Q?.defines?.[W]);else if(V)X=!0;else if(X)Z.push(H)}return Z.join(`
`)}class C3{static defaultShaderAssembler;_hookFunctions=[];_defaultModules=[];static getDefaultShaderAssembler(){return C3.defaultShaderAssembler=C3.defaultShaderAssembler||new C3,C3.defaultShaderAssembler}addDefaultModule($){if(!this._defaultModules.find((Q)=>Q.name===(typeof $==="string"?$:$.name)))this._defaultModules.push($)}removeDefaultModule($){let Q=typeof $==="string"?$:$.name;this._defaultModules=this._defaultModules.filter((J)=>J.name!==Q)}addShaderHook($,Q){if(Q)$=Object.assign(Q,{hook:$});this._hookFunctions.push($)}assembleWGSLShader($){let Q=this._getModuleList($.modules),J=this._hookFunctions,{source:Z,getUniforms:X}=uu({...$,source:$.source,modules:Q,hookFunctions:J});return{source:$.platformInfo.shaderLanguage==="wgsl"?ou(Z):Z,getUniforms:X,modules:Q}}assembleGLSLShaderPair($){let Q=this._getModuleList($.modules),J=this._hookFunctions;return{...iu({...$,vs:$.vs,fs:$.fs,modules:Q,hookFunctions:J}),modules:Q}}_getModuleList($=[]){let Q=Array(this._defaultModules.length+$.length),J={},Z=0;for(let X=0,W=this._defaultModules.length;X<W;++X){let H=this._defaultModules[X],F=H.name;Q[Z++]=H,J[F]=!0}for(let X=0,W=$.length;X<W;++X){let H=$[X],F=H.name;if(!J[F])Q[Z++]=H,J[F]=!0}return Q.length=Z,nJ(Q),Q}}function OP($){let{input:Q,inputChannels:J,output:Z}=$||{};if(!Q)return`#version 300 es
out vec4 transform_output;
void main() {
  transform_output = vec4(0);
}`;if(!J)throw Error("inputChannels");let X=Hq1(J),W=au(Q,J);return`#version 300 es
in ${X} ${Q};
out vec4 ${Z};
void main() {
  ${Z} = ${W};
}`}function Hq1($){switch($){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw Error(`invalid channels: ${$}`)}}function au($,Q){switch(Q){case 1:return`vec4(${$}, 0.0, 0.0, 1.0)`;case 2:return`vec4(${$}, 0.0, 1.0)`;case 3:return`vec4(${$}, 1.0)`;case 4:return $;default:throw Error(`invalid channels: ${Q}`)}}class ru{stats=new Map;getStats($){return this.get($)}get($){if(!this.stats.has($))this.stats.set($,new M7({id:$}));return this.stats.get($)}}var TU=new ru;var X1=new X4({id:"luma.gl"});var kP={};function i9($="id"){kP[$]=kP[$]||1;let Q=kP[$]++;return`${$}-${Q}`}class t1{static defaultProps={id:"undefined",handle:void 0,userData:void 0};toString(){return`${this[Symbol.toStringTag]||this.constructor.name}:"${this.id}"`}id;props;userData={};_device;destroyed=!1;allocatedBytes=0;_attachedResources=new Set;constructor($,Q,J){if(!$)throw Error("no device");this._device=$,this.props=Fq1(Q,J);let Z=this.props.id!=="undefined"?this.props.id:i9(this[Symbol.toStringTag]);this.props.id=Z,this.id=Z,this.userData=this.props.userData||{},this.addStats()}destroy(){this.destroyResource()}delete(){return this.destroy(),this}getProps(){return this.props}attachResource($){this._attachedResources.add($)}detachResource($){this._attachedResources.delete($)}destroyAttachedResource($){if(this._attachedResources.delete($))$.destroy()}destroyAttachedResources(){for(let $ of Object.values(this._attachedResources))$.destroy();this._attachedResources=new Set}destroyResource(){this.destroyAttachedResources(),this.removeStats(),this.destroyed=!0}removeStats(){let $=this._device.statsManager.getStats("Resource Counts"),Q=this[Symbol.toStringTag];$.get(`${Q}s Active`).decrementCount()}trackAllocatedMemory($,Q=this[Symbol.toStringTag]){let J=this._device.statsManager.getStats("Resource Counts");J.get("GPU Memory").addCount($),J.get(`${Q} Memory`).addCount($),this.allocatedBytes=$}trackDeallocatedMemory($=this[Symbol.toStringTag]){let Q=this._device.statsManager.getStats("Resource Counts");Q.get("GPU Memory").subtractCount(this.allocatedBytes),Q.get(`${$} Memory`).subtractCount(this.allocatedBytes),this.allocatedBytes=0}addStats(){let $=this._device.statsManager.getStats("Resource Counts"),Q=this[Symbol.toStringTag];$.get("Resources Created").incrementCount(),$.get(`${Q}s Created`).incrementCount(),$.get(`${Q}s Active`).incrementCount()}}function Fq1($,Q){let J={...Q};for(let Z in $)if($[Z]!==void 0)J[Z]=$[Z];return J}class U0 extends t1{static defaultProps={...t1.defaultProps,usage:0,byteLength:0,byteOffset:0,data:null,indexType:"uint16",mappedAtCreation:!1};static MAP_READ=1;static MAP_WRITE=2;static COPY_SRC=4;static COPY_DST=8;static INDEX=16;static VERTEX=32;static UNIFORM=64;static STORAGE=128;static INDIRECT=256;static QUERY_RESOLVE=512;get[Symbol.toStringTag](){return"Buffer"}usage;indexType;updateTimestamp;constructor($,Q){let J={...Q};if((Q.usage||0)&U0.INDEX&&!Q.indexType){if(Q.data instanceof Uint32Array)J.indexType="uint32";else if(Q.data instanceof Uint16Array)J.indexType="uint16"}delete J.data;super($,J,U0.defaultProps);this.usage=J.usage||0,this.indexType=J.indexType,this.updateTimestamp=$.incrementTimestamp()}clone($){return this.device.createBuffer({...this.props,...$})}readSyncWebGL($,Q){throw Error("not implemented")}static DEBUG_DATA_MAX_LENGTH=32;debugData=new ArrayBuffer(0);_setDebugData($,Q,J){let Z=ArrayBuffer.isView($)?$.buffer:$,X=Math.min($?$.byteLength:J,U0.DEBUG_DATA_MAX_LENGTH);if(Z===null)this.debugData=new ArrayBuffer(X);else if(Q===0&&J===Z.byteLength)this.debugData=Z.slice(0,X);else this.debugData=Z.slice(Q,Q+X)}}function IU($){let Q=tu[$],J=Uq1(Q),Z=$.includes("norm"),X=!Z&&!$.startsWith("float"),W=$.startsWith("s");return{dataType:tu[$],byteLength:J,integer:X,signed:W,normalized:Z}}function Uq1($){return Vq1[$]}var tu={uint8:"uint8",sint8:"sint8",unorm8:"uint8",snorm8:"sint8",uint16:"uint16",sint16:"sint16",unorm16:"uint16",snorm16:"sint16",float16:"float16",float32:"float32",uint32:"uint32",sint32:"sint32"},Vq1={uint8:1,sint8:1,uint16:2,sint16:2,float16:2,float32:4,uint32:4,sint32:4};function GU($){let Q=Nq1[$];if(!Q)throw Error(`Unsupported texture format ${$}`);return Q}var Nq1={r8unorm:{},r8snorm:{render:"snorm8-renderable-webgl"},r8uint:{},r8sint:{},rg8unorm:{},rg8snorm:{render:"snorm8-renderable-webgl"},rg8uint:{},rg8sint:{},r16uint:{},r16sint:{},r16float:{render:"float16-renderable-webgl",filter:"float16-filterable-webgl"},"r16unorm-webgl":{f:"norm16-renderable-webgl"},"r16snorm-webgl":{f:"snorm16-renderable-webgl"},"rgba4unorm-webgl":{channels:"rgba",bitsPerChannel:[4,4,4,4],packed:!0},"rgb565unorm-webgl":{channels:"rgb",bitsPerChannel:[5,6,5,0],packed:!0},"rgb5a1unorm-webgl":{channels:"rgba",bitsPerChannel:[5,5,5,1],packed:!0},"rgb8unorm-webgl":{},"rgb8snorm-webgl":{},rgba8unorm:{},"rgba8unorm-srgb":{},rgba8snorm:{render:"snorm8-renderable-webgl"},rgba8uint:{},rgba8sint:{},bgra8unorm:{},"bgra8unorm-srgb":{},rg16uint:{},rg16sint:{},rg16float:{render:"float16-renderable-webgl",filter:"float16-filterable-webgl"},"rg16unorm-webgl":{render:"norm16-renderable-webgl"},"rg16snorm-webgl":{render:"snorm16-renderable-webgl"},r32uint:{},r32sint:{},r32float:{render:"float32-renderable-webgl",filter:"float32-filterable"},rgb9e5ufloat:{channels:"rgb",packed:!0,render:"rgb9e5ufloat-renderable-webgl"},rg11b10ufloat:{channels:"rgb",bitsPerChannel:[11,11,10,0],packed:!0,p:1,render:"float32-renderable-webgl"},rgb10a2unorm:{channels:"rgba",bitsPerChannel:[10,10,10,2],packed:!0,p:1},"rgb10a2uint-webgl":{channels:"rgba",bitsPerChannel:[10,10,10,2],packed:!0,p:1,wgpu:!1},"rgb16unorm-webgl":{f:"norm16-renderable-webgl"},"rgb16snorm-webgl":{f:"norm16-renderable-webgl"},rg32uint:{},rg32sint:{},rg32float:{render:!1,filter:"float32-filterable"},rgba16uint:{},rgba16sint:{},rgba16float:{render:"float16-renderable-webgl",filter:"float16-filterable-webgl"},"rgba16unorm-webgl":{render:"norm16-renderable-webgl"},"rgba16snorm-webgl":{render:"snorm16-renderable-webgl"},"rgb32float-webgl":{render:"float32-renderable-webgl",filter:"float32-filterable"},rgba32uint:{},rgba32sint:{},rgba32float:{render:"float32-renderable-webgl",filter:"float32-filterable"},stencil8:{attachment:"stencil",bitsPerChannel:[8,0,0,0],dataType:"uint8"},depth16unorm:{attachment:"depth",bitsPerChannel:[16,0,0,0],dataType:"uint16"},depth24plus:{attachment:"depth",bitsPerChannel:[24,0,0,0],dataType:"uint32"},depth32float:{attachment:"depth",bitsPerChannel:[32,0,0,0],dataType:"float32"},"depth24plus-stencil8":{attachment:"depth-stencil",bitsPerChannel:[24,8,0,0],packed:!0},"depth32float-stencil8":{attachment:"depth-stencil",bitsPerChannel:[32,8,0,0],packed:!0},"bc1-rgb-unorm-webgl":{f:"texture-compression-bc"},"bc1-rgb-unorm-srgb-webgl":{f:"texture-compression-bc"},"bc1-rgba-unorm":{f:"texture-compression-bc"},"bc1-rgba-unorm-srgb":{f:"texture-compression-bc"},"bc2-rgba-unorm":{f:"texture-compression-bc"},"bc2-rgba-unorm-srgb":{f:"texture-compression-bc"},"bc3-rgba-unorm":{f:"texture-compression-bc"},"bc3-rgba-unorm-srgb":{f:"texture-compression-bc"},"bc4-r-unorm":{f:"texture-compression-bc"},"bc4-r-snorm":{f:"texture-compression-bc"},"bc5-rg-unorm":{f:"texture-compression-bc"},"bc5-rg-snorm":{f:"texture-compression-bc"},"bc6h-rgb-ufloat":{f:"texture-compression-bc"},"bc6h-rgb-float":{f:"texture-compression-bc"},"bc7-rgba-unorm":{f:"texture-compression-bc"},"bc7-rgba-unorm-srgb":{f:"texture-compression-bc"},"etc2-rgb8unorm":{f:"texture-compression-etc2"},"etc2-rgb8unorm-srgb":{f:"texture-compression-etc2"},"etc2-rgb8a1unorm":{f:"texture-compression-etc2"},"etc2-rgb8a1unorm-srgb":{f:"texture-compression-etc2"},"etc2-rgba8unorm":{f:"texture-compression-etc2"},"etc2-rgba8unorm-srgb":{f:"texture-compression-etc2"},"eac-r11unorm":{f:"texture-compression-etc2"},"eac-r11snorm":{f:"texture-compression-etc2"},"eac-rg11unorm":{f:"texture-compression-etc2"},"eac-rg11snorm":{f:"texture-compression-etc2"},"astc-4x4-unorm":{f:"texture-compression-astc"},"astc-4x4-unorm-srgb":{f:"texture-compression-astc"},"astc-5x4-unorm":{f:"texture-compression-astc"},"astc-5x4-unorm-srgb":{f:"texture-compression-astc"},"astc-5x5-unorm":{f:"texture-compression-astc"},"astc-5x5-unorm-srgb":{f:"texture-compression-astc"},"astc-6x5-unorm":{f:"texture-compression-astc"},"astc-6x5-unorm-srgb":{f:"texture-compression-astc"},"astc-6x6-unorm":{f:"texture-compression-astc"},"astc-6x6-unorm-srgb":{f:"texture-compression-astc"},"astc-8x5-unorm":{f:"texture-compression-astc"},"astc-8x5-unorm-srgb":{f:"texture-compression-astc"},"astc-8x6-unorm":{f:"texture-compression-astc"},"astc-8x6-unorm-srgb":{f:"texture-compression-astc"},"astc-8x8-unorm":{f:"texture-compression-astc"},"astc-8x8-unorm-srgb":{f:"texture-compression-astc"},"astc-10x5-unorm":{f:"texture-compression-astc"},"astc-10x5-unorm-srgb":{f:"texture-compression-astc"},"astc-10x6-unorm":{f:"texture-compression-astc"},"astc-10x6-unorm-srgb":{f:"texture-compression-astc"},"astc-10x8-unorm":{f:"texture-compression-astc"},"astc-10x8-unorm-srgb":{f:"texture-compression-astc"},"astc-10x10-unorm":{f:"texture-compression-astc"},"astc-10x10-unorm-srgb":{f:"texture-compression-astc"},"astc-12x10-unorm":{f:"texture-compression-astc"},"astc-12x10-unorm-srgb":{f:"texture-compression-astc"},"astc-12x12-unorm":{f:"texture-compression-astc"},"astc-12x12-unorm-srgb":{f:"texture-compression-astc"},"pvrtc-rgb4unorm-webgl":{f:"texture-compression-pvrtc-webgl"},"pvrtc-rgba4unorm-webgl":{f:"texture-compression-pvrtc-webgl"},"pvrtc-rbg2unorm-webgl":{f:"texture-compression-pvrtc-webgl"},"pvrtc-rgba2unorm-webgl":{f:"texture-compression-pvrtc-webgl"},"etc1-rbg-unorm-webgl":{f:"texture-compression-etc1-webgl"},"atc-rgb-unorm-webgl":{f:"texture-compression-atc-webgl"},"atc-rgba-unorm-webgl":{f:"texture-compression-atc-webgl"},"atc-rgbai-unorm-webgl":{f:"texture-compression-atc-webgl"}};var Dq1=["bc1","bc2","bc3","bc4","bc5","bc6","bc7","etc1","etc2","eac","atc","astc","pvrtc"],Cq1=/^(r|rg|rgb|rgba|bgra)([0-9]*)([a-z]*)(-srgb)?(-webgl)?$/;function PP($){return Dq1.some((Q)=>$.startsWith(Q))}function oJ($){let Q=Aq1($);if(PP($)){Q.channels="rgb",Q.components=3,Q.bytesPerPixel=1,Q.srgb=!1,Q.compressed=!0;let Z=zq1($);if(Z)Q.blockWidth=Z.blockWidth,Q.blockHeight=Z.blockHeight}let J=Cq1.exec($);if(J){let[,Z,X,W,H,F]=J,V=`${W}${X}`,D=IU(V),C=D.byteLength*8,z=Z.length,R=[C,z>=2?C:0,z>=3?C:0,z>=4?C:0];if(Q={format:$,attachment:Q.attachment,dataType:D.dataType,components:z,channels:Z,integer:D.integer,signed:D.signed,normalized:D.normalized,bitsPerChannel:R,bytesPerPixel:D.byteLength*Z.length,packed:Q.packed,srgb:Q.srgb},F==="-webgl")Q.webgl=!0;if(H==="-srgb")Q.srgb=!0}if($.endsWith("-webgl"))Q.webgl=!0;if($.endsWith("-srgb"))Q.srgb=!0;return Q}function Aq1($){let Q=GU($),J=Q.bytesPerPixel||1,Z=Q.bitsPerChannel||[8,8,8,8];return delete Q.bitsPerChannel,delete Q.bytesPerPixel,delete Q.f,delete Q.render,delete Q.filter,delete Q.blend,delete Q.store,{...Q,format:$,attachment:Q.attachment||"color",channels:Q.channels||"r",components:Q.components||Q.channels?.length||1,bytesPerPixel:J,bitsPerChannel:Z,dataType:Q.dataType||"uint8",srgb:Q.srgb??!1,packed:Q.packed??!1,webgl:Q.webgl??!1,integer:Q.integer??!1,signed:Q.signed??!1,normalized:Q.normalized??!1,compressed:Q.compressed??!1}}function zq1($){let J=/.*-(\d+)x(\d+)-.*/.exec($);if(J){let[,Z,X]=J;return{blockWidth:Number(Z),blockHeight:Number(X)}}return null}function eu($){let Q=GU($),J={format:$,create:Q.f??!0,render:Q.render??!0,filter:Q.filter??!0,blend:Q.blend??!0,store:Q.store??!0},Z=oJ($),X=$.startsWith("depth")||$.startsWith("stencil"),W=Z?.signed,H=Z?.integer,F=Z?.webgl;return J.render&&=!W,J.filter&&=!X&&!W&&!H&&!F,J}class EU{}class jU{features;disabledFeatures;constructor($=[],Q){this.features=new Set($),this.disabledFeatures=Q||{}}*[Symbol.iterator](){yield*this.features}has($){return!this.disabledFeatures?.[$]&&this.features.has($)}}class d4{static defaultProps={id:null,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,createCanvasContext:void 0,onError:($)=>X1.error($.message)(),_reuseDevices:!1,_requestMaxLimits:!0,_factoryDestroyPolicy:"unused",_initializeFeatures:!0,_disabledFeatures:{"compilation-status-async-webgl":!0},_resourceDefaults:{},webgl:{},debug:X1.get("debug")||void 0,debugShaders:X1.get("debug-shaders")||void 0,debugFramebuffers:Boolean(X1.get("debug-framebuffers")),debugWebGL:Boolean(X1.get("debug-webgl")),debugSpectorJS:void 0,debugSpectorJSUrl:void 0,_handle:void 0};get[Symbol.toStringTag](){return"Device"}constructor($){this.props={...d4.defaultProps,...$},this.id=this.props.id||i9(this[Symbol.toStringTag].toLowerCase())}id;props;userData={};statsManager=TU;timestamp=0;_reused=!1;_lumaData={};getTextureFormatCapabilities($){let Q=eu($),J=(W)=>(typeof W==="string"?this.features.has(W):W)??!0,Z=J(Q.create),X={format:$,create:Z,render:Z&&J(Q.render),filter:Z&&J(Q.filter),blend:Z&&J(Q.blend),store:Z&&J(Q.store)};return this._getDeviceSpecificTextureFormatCapabilities(X)}isTextureFormatSupported($,Q){return this.getTextureFormatCapabilities($).create}isTextureFormatFilterable($){return this.getTextureFormatCapabilities($).filter}isTextureFormatRenderable($){return this.getTextureFormatCapabilities($).render}isTextureFormatCompressed($){return PP($)}loseDevice(){return!1}reportError($){this.props.onError($)}getDefaultCanvasContext(){if(!this.canvasContext)throw Error("Device has no default CanvasContext. See props.createCanvasContext");return this.canvasContext}createCommandEncoder($={}){throw Error("not implemented")}incrementTimestamp(){return this.timestamp++}onError($){this.props.onError($)}getCanvasContext(){return this.getDefaultCanvasContext()}readPixelsToArrayWebGL($,Q){throw Error("not implemented")}readPixelsToBufferWebGL($,Q){throw Error("not implemented")}setParametersWebGL($){throw Error("not implemented")}getParametersWebGL($){throw Error("not implemented")}withParametersWebGL($,Q){throw Error("not implemented")}clearWebGL($){throw Error("not implemented")}resetWebGL(){throw Error("not implemented")}static _getCanvasContextProps($){return $.createCanvasContext===!0?{}:$.createCanvasContext}_normalizeBufferProps($){if($ instanceof ArrayBuffer||ArrayBuffer.isView($))$={data:$};let Q={...$};if(($.usage||0)&U0.INDEX&&!$.indexType)if($.data instanceof Uint32Array)Q.indexType="uint32";else if($.data instanceof Uint16Array)Q.indexType="uint16";else X1.warn("indices buffer content must be of integer type")();return Q}}var Bq1=O6()&&typeof document<"u",Rq1=()=>Bq1&&document.readyState==="complete",Oq1="set luma.log.level=1 (or higher) to trace rendering",$i="No matching device found. Ensure `@luma.gl/webgl` and/or `@luma.gl/webgpu` modules are imported.";class aJ{static defaultProps={...d4.defaultProps,type:"best-available",adapters:void 0,waitForPageLoad:!0};static pageLoaded=kq1().then(()=>{X1.probe(2,"DOM is loaded")()});stats=TU;log=X1;VERSION="9.1.10";spector;preregisteredAdapters=new Map;constructor(){if(globalThis.luma){if(globalThis.luma.VERSION!==this.VERSION)throw X1.error(`Found luma.gl ${globalThis.luma.VERSION} while initialzing ${this.VERSION}`)(),X1.error("'yarn why @luma.gl/core' can help identify the source of the conflict")(),Error("luma.gl - multiple versions detected: see console log");X1.error("This version of luma.gl has already been initialized")()}X1.log(1,`${this.VERSION} - ${Oq1}`)(),globalThis.luma=this}registerAdapters($){for(let Q of $)this.preregisteredAdapters.set(Q.type,Q)}getSupportedAdapters($=[]){let Q=this.getAdapterMap($);return Array.from(Q).map(([,J])=>J).filter((J)=>J.isSupported?.()).map((J)=>J.type)}getBestAvailableAdapter($=[]){let Q=this.getAdapterMap($);if(Q.get("webgpu")?.isSupported?.())return"webgpu";if(Q.get("webgl")?.isSupported?.())return"webgl";return null}setDefaultDeviceProps($){Object.assign(aJ.defaultProps,$)}async createDevice($={}){if($={...aJ.defaultProps,...$},$.waitForPageLoad)await aJ.pageLoaded;let Q=this.getAdapterMap($.adapters),J=$.type||"";if(J==="best-available")J=this.getBestAvailableAdapter($.adapters)||J;let W=await(this.getAdapterMap($.adapters)||Q).get(J)?.create?.($);if(W)return W;throw Error($i)}async attachDevice($){let Q=this.getAdapterMap($.adapters),J="";if($.handle instanceof WebGL2RenderingContext)J="webgl";if($.createCanvasContext)await aJ.pageLoaded;if($.handle===null)J="unknown";let X=await Q.get(J)?.attach?.(null);if(X)return X;throw Error($i)}enforceWebGL2($=!0,Q=[]){let Z=this.getAdapterMap(Q).get("webgl");if(!Z)X1.warn("enforceWebGL2: webgl adapter not found")();Z?.enforceWebGL2?.($)}getAdapterMap($=[]){let Q=new Map(this.preregisteredAdapters);for(let J of $)Q.set(J.type,J);return Q}registerDevices($){X1.warn("luma.registerDevices() is deprecated, use luma.registerAdapters() instead");for(let Q of $){let J=Q.adapter;if(J)this.preregisteredAdapters.set(J.type,J)}}}var rJ=new aJ;function kq1(){if(Rq1()||typeof window>"u")return Promise.resolve();return new Promise(($)=>{window.addEventListener("load",()=>$())})}class LU{}class DY{static defaultProps={canvas:null,width:800,height:600,useDevicePixels:!0,autoResize:!0,container:null,visible:!0,alphaMode:"opaque",colorSpace:"srgb"};id;props;canvas;htmlCanvas;offscreenCanvas;type;width=1;height=1;resizeObserver;_canvasSizeInfo={clientWidth:0,clientHeight:0,devicePixelRatio:1};toString(){return`${this[Symbol.toStringTag]}(${this.id})`}constructor($){if(this.props={...DY.defaultProps,...$},$=this.props,!O6()){this.id="node-canvas-context",this.type="node",this.width=this.props.width,this.height=this.props.height,this.canvas=null;return}if(!$.canvas){let Q=wq1($),J=Pq1($?.container||null);if(J.insertBefore(Q,J.firstChild),this.canvas=Q,!$?.visible)this.canvas.style.visibility="hidden"}else if(typeof $.canvas==="string")this.canvas=Mq1($.canvas);else this.canvas=$.canvas;if(this.canvas instanceof HTMLCanvasElement)this.id=this.canvas.id,this.type="html-canvas",this.htmlCanvas=this.canvas;else this.id="offscreen-canvas",this.type="offscreen-canvas",this.offscreenCanvas=this.canvas;if(this.canvas instanceof HTMLCanvasElement&&$.autoResize)this.resizeObserver=new ResizeObserver((Q)=>{for(let J of Q)if(J.target===this.canvas)this.update()}),this.resizeObserver.observe(this.canvas)}getDevicePixelRatio($){if(typeof OffscreenCanvas<"u"&&this.canvas instanceof OffscreenCanvas)return 1;if($=$===void 0?this.props.useDevicePixels:$,!$||$<=0)return 1;if($===!0)return typeof window<"u"&&window.devicePixelRatio||1;return $}getPixelSize(){switch(this.type){case"node":return[this.width,this.height];case"offscreen-canvas":return[this.canvas.width,this.canvas.height];case"html-canvas":let $=this.getDevicePixelRatio(),Q=this.canvas;return Q.parentElement?[Q.clientWidth*$,Q.clientHeight*$]:[this.canvas.width,this.canvas.height];default:throw Error(this.type)}}getAspect(){let[$,Q]=this.getPixelSize();return $/Q}cssToDeviceRatio(){try{let[$]=this.getDrawingBufferSize(),Q=this._canvasSizeInfo.clientWidth||this.htmlCanvas?.clientWidth;return Q?$/Q:1}catch{return 1}}cssToDevicePixels($,Q=!0){let J=this.cssToDeviceRatio(),[Z,X]=this.getDrawingBufferSize();return Sq1($,J,Z,X,Q)}setDevicePixelRatio($,Q={}){if(!this.htmlCanvas)return;let J="width"in Q?Q.width:this.htmlCanvas.clientWidth,Z="height"in Q?Q.height:this.htmlCanvas.clientHeight;if(!J||!Z)X1.log(1,"Canvas clientWidth/clientHeight is 0")(),$=1,J=this.htmlCanvas.width||1,Z=this.htmlCanvas.height||1;let X=this._canvasSizeInfo;if(X.clientWidth!==J||X.clientHeight!==Z||X.devicePixelRatio!==$){let W=$,H=Math.floor(J*W),F=Math.floor(Z*W);if(this.htmlCanvas.width=H,this.htmlCanvas.height=F,this.device.gl){let[D,C]=this.getDrawingBufferSize();if(D!==H||C!==F)W=Math.min(D/J,C/Z),this.htmlCanvas.width=Math.floor(J*W),this.htmlCanvas.height=Math.floor(Z*W),X1.warn("Device pixel ratio clamped")();this._canvasSizeInfo.clientWidth=J,this._canvasSizeInfo.clientHeight=Z,this._canvasSizeInfo.devicePixelRatio=$}}}getDrawingBufferSize(){let $=this.device.gl;if(!$)return this.getPixelSize();return[$.drawingBufferWidth,$.drawingBufferHeight]}_setAutoCreatedCanvasId($){if(this.htmlCanvas?.id==="lumagl-auto-created-canvas")this.htmlCanvas.id=$}}function Pq1($){if(typeof $==="string"){let Q=document.getElementById($);if(!Q)throw Error(`${$} is not an HTML element`);return Q}else if($)return $;return document.body}function Mq1($){let Q=document.getElementById($);if(!(Q instanceof HTMLCanvasElement))throw Error("Object is not a canvas element");return Q}function wq1($){let{width:Q,height:J}=$,Z=document.createElement("canvas");return Z.id=i9("lumagl-auto-created-canvas"),Z.width=Q||1,Z.height=J||1,Z.style.width=Number.isFinite(Q)?`${Q}px`:"100%",Z.style.height=Number.isFinite(J)?`${J}px`:"100%",Z}function Sq1($,Q,J,Z,X){let W=$,H=Qi(W[0],Q,J),F=Ji(W[1],Q,Z,X),V=Qi(W[0]+1,Q,J),D=V===J-1?V:V-1;V=Ji(W[1]+1,Q,Z,X);let C;if(X)V=V===0?V:V+1,C=F,F=V;else C=V===Z-1?V:V-1;return{x:H,y:F,width:Math.max(D-H+1,1),height:Math.max(C-F+1,1)}}function Qi($,Q,J){return Math.min(Math.round($*Q),J-1)}function Ji($,Q,J,Z){return Z?Math.max(0,J-1-Math.round($*Q)):Math.min(Math.round($*Q),J-1)}class A0 extends t1{static COPY_SRC=1;static COPY_DST=2;static TEXTURE=4;static STORAGE=8;static RENDER_ATTACHMENT=16;static CubeFaces=["+X","-X","+Y","-Y","+Z","-Z"];static defaultProps={...t1.defaultProps,data:null,dimension:"2d",format:"rgba8unorm",width:void 0,height:void 0,depth:1,mipmaps:!1,compressed:!1,usage:0,mipLevels:void 0,samples:void 0,sampler:{},view:void 0,flipY:void 0};get[Symbol.toStringTag](){return"Texture"}toString(){return`Texture(${this.id},${this.format},${this.width}x${this.height})`}dimension;format;width;height;depth;mipLevels;updateTimestamp;constructor($,Q){Q=A0.normalizeProps($,Q);super($,Q,A0.defaultProps);if(this.dimension=this.props.dimension,this.format=this.props.format,this.width=this.props.width,this.height=this.props.height,this.depth=this.props.depth,this.props.width===void 0||this.props.height===void 0){let J=A0.getTextureDataSize(this.props.data);this.width=J?.width||1,this.height=J?.height||1}if(this.props.mipmaps&&this.props.mipLevels===void 0)this.props.mipLevels="pyramid";this.mipLevels=this.props.mipLevels==="pyramid"?A0.getMipLevelCount(this.width,this.height):this.props.mipLevels||1,this.updateTimestamp=$.incrementTimestamp()}clone($){return this.device.createTexture({...this.props,...$})}static isExternalImage($){return typeof ImageData<"u"&&$ instanceof ImageData||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap||typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&$ instanceof HTMLVideoElement||typeof VideoFrame<"u"&&$ instanceof VideoFrame||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&$ instanceof OffscreenCanvas}static getExternalImageSize($){if(typeof ImageData<"u"&&$ instanceof ImageData||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&$ instanceof OffscreenCanvas)return{width:$.width,height:$.height};if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement)return{width:$.naturalWidth,height:$.naturalHeight};if(typeof HTMLVideoElement<"u"&&$ instanceof HTMLVideoElement)return{width:$.videoWidth,height:$.videoHeight};if(typeof VideoFrame<"u"&&$ instanceof VideoFrame)return{width:$.displayWidth,height:$.displayHeight};throw Error("Unknown image type")}static isTextureLevelData($){let Q=$?.data;return ArrayBuffer.isView(Q)}static getTextureDataSize($){if(!$)return null;if(ArrayBuffer.isView($))return null;if(Array.isArray($))return A0.getTextureDataSize($[0]);if(A0.isExternalImage($))return A0.getExternalImageSize($);if($&&typeof $==="object"&&$.constructor===Object){let J=Object.values($)[0];return{width:J.width,height:J.height}}throw Error("texture size deduction failed")}static normalizeTextureData($,Q){let J;if(ArrayBuffer.isView($))J=[{data:$,width:Q.width,height:Q.height}];else if(!Array.isArray($))J=[$];else J=$;return J}static getMipLevelCount($,Q){return Math.floor(Math.log2(Math.max($,Q)))+1}static getCubeFaceDepth($){switch($){case"+X":return 0;case"-X":return 1;case"+Y":return 2;case"-Y":return 3;case"+Z":return 4;case"-Z":return 5;default:throw Error($)}}static defaultCopyExternalImageOptions={image:void 0,sourceX:0,sourceY:0,width:void 0,height:void 0,depth:1,mipLevel:0,x:0,y:0,z:0,aspect:"all",colorSpace:"srgb",premultipliedAlpha:!1,flipY:!1};static normalizeProps($,Q){let J={...Q},Z=$?.props?._resourceDefaults?.texture||{};Object.assign(J,Z);let{width:X,height:W}=J;if(typeof X==="number")J.width=Math.max(1,Math.ceil(X));if(typeof W==="number")J.height=Math.max(1,Math.ceil(W));return J}}class h$ extends t1{static defaultProps={...t1.defaultProps,format:void 0,dimension:void 0,aspect:"all",baseMipLevel:0,mipLevelCount:void 0,baseArrayLayer:0,arrayLayerCount:void 0};get[Symbol.toStringTag](){return"TextureView"}constructor($,Q){super($,Q,h$.defaultProps)}}function Ki($,Q,J){let Z="",X=Q.split(/\r?\n/),W=$.slice().sort((H,F)=>H.lineNum-F.lineNum);switch(J?.showSourceCode||"no"){case"all":let H=0;for(let F=1;F<=X.length;F++){Z+=Xi(X[F-1],F,J);while(W.length>H&&W[H].lineNum===F){let V=W[H++];Z+=Zi(V,X,V.lineNum,{...J,inlineSource:!1})}}return Z;case"issues":case"no":for(let F of $)Z+=Zi(F,X,F.lineNum,{inlineSource:J?.showSourceCode!=="no"});return Z}}function Zi($,Q,J,Z){if(Z?.inlineSource){let W=Tq1(Q,J),H=$.linePos>0?`${" ".repeat($.linePos+5)}^^^
`:"";return`
${W}${H}${$.type.toUpperCase()}: ${$.message}

`}let X=$.type==="error"?"red":"#8B4000";return Z?.html?`<div class='luma-compiler-log-error' style="color:${X};"><b> ${$.type.toUpperCase()}: ${$.message}</b></div>`:`${$.type.toUpperCase()}: ${$.message}`}function Tq1($,Q,J){let Z="";for(let X=Q-2;X<=Q;X++){let W=$[X-1];if(W!==void 0)Z+=Xi(W,Q,J)}return Z}function Xi($,Q,J){let Z=J?.html?Gq1($):$;return`${Iq1(String(Q),4)}: ${Z}${J?.html?"<br/>":`
`}`}function Iq1($,Q){let J="";for(let Z=$.length;Z<Q;++Z)J+=" ";return J+$}function Gq1($){return $.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")}class v$ extends t1{static defaultProps={...t1.defaultProps,language:"auto",stage:void 0,source:"",sourceMap:null,entryPoint:"main",debugShaders:void 0};get[Symbol.toStringTag](){return"Shader"}stage;source;compilationStatus="pending";constructor($,Q){Q={...Q,debugShaders:Q.debugShaders||$.props.debugShaders||"errors"};super($,{id:Eq1(Q),...Q},v$.defaultProps);this.stage=this.props.stage,this.source=this.props.source}getCompilationInfoSync(){return null}getTranslatedSource(){return null}async debugShader(){let $=this.props.debugShaders;switch($){case"never":return;case"errors":if(this.compilationStatus==="success")return;break;case"warnings":case"always":break}let Q=await this.getCompilationInfo();if($==="warnings"&&Q?.length===0)return;this._displayShaderLog(Q)}_displayShaderLog($){if(typeof document>"u"||!document?.createElement)return;let Q=Yi(this.source),J=`${this.stage} ${Q}`,Z=Ki($,this.source,{showSourceCode:"all",html:!0}),X=this.getTranslatedSource();if(X)Z+=`<br /><br /><h1>Translated Source</h1><br /><br /><code style="user-select:text;"><pre>${X}</pre></code>`;let W=document.createElement("Button");W.innerHTML=`
<h1>Shader Compilation Error in ${J}</h1><br /><br />
<code style="user-select:text;"><pre>
${Z}
</pre></code>`,W.style.top="10px",W.style.left="10px",W.style.position="absolute",W.style.zIndex="9999",W.style.width="100%",W.style.textAlign="left",document.body.appendChild(W),document.getElementsByClassName("luma-compiler-log-error")[0]?.scrollIntoView(),W.onclick=()=>{let F=`data:text/plain,${encodeURIComponent(this.source)}`;navigator.clipboard.writeText(F)}}}function Eq1($){return Yi($.source)||$.id||i9(`unnamed ${$.stage}-shader`)}function Yi($,Q="unnamed"){let Z=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/.exec($);return Z?Z[1]:Q}class n9 extends t1{static defaultProps={...t1.defaultProps,type:"color-sampler",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge",addressModeW:"clamp-to-edge",magFilter:"nearest",minFilter:"nearest",mipmapFilter:"none",lodMinClamp:0,lodMaxClamp:32,compare:"less-equal",maxAnisotropy:1};get[Symbol.toStringTag](){return"Sampler"}constructor($,Q){Q=n9.normalizeProps($,Q);super($,Q,n9.defaultProps)}static normalizeProps($,Q){let J=$?.props?._resourceDefaults?.sampler||{};return{...Q,...J}}}class _$ extends t1{static defaultProps={...t1.defaultProps,width:1,height:1,colorAttachments:[],depthStencilAttachment:null};get[Symbol.toStringTag](){return"Framebuffer"}width;height;constructor($,Q={}){super($,Q,_$.defaultProps);this.width=this.props.width,this.height=this.props.height}clone($){let Q=this.colorAttachments.map((Z)=>Z.texture.clone($)),J=this.depthStencilAttachment&&this.depthStencilAttachment.texture.clone($);return this.device.createFramebuffer({...this.props,colorAttachments:Q,depthStencilAttachment:J})}resize($){let Q=!$;if($){let[J,Z]=Array.isArray($)?$:[$.width,$.height];Q=Q||Z!==this.height||J!==this.width,this.width=J,this.height=Z}if(Q)X1.log(2,`Resizing framebuffer ${this.id} to ${this.width}x${this.height}`)(),this.resizeAttachments(this.width,this.height)}autoCreateAttachmentTextures(){if(this.props.colorAttachments.length===0&&!this.props.depthStencilAttachment)throw Error("Framebuffer has noattachments");this.colorAttachments=this.props.colorAttachments.map((Q,J)=>{if(typeof Q==="string"){let Z=this.createColorTexture(Q,J);return this.attachResource(Z),Z.view}if(Q instanceof A0)return Q.view;return Q});let $=this.props.depthStencilAttachment;if($)if(typeof $==="string"){let Q=this.createDepthStencilTexture($);this.attachResource(Q),this.depthStencilAttachment=Q.view}else if($ instanceof A0)this.depthStencilAttachment=$.view;else this.depthStencilAttachment=$}createColorTexture($,Q){return this.device.createTexture({id:`${this.id}-color-attachment-${Q}`,usage:A0.RENDER_ATTACHMENT,format:$,width:this.width,height:this.height,sampler:{magFilter:"linear",minFilter:"linear"}})}createDepthStencilTexture($){return this.device.createTexture({id:`${this.id}-depth-stencil-attachment`,usage:A0.RENDER_ATTACHMENT,format:$,width:this.width,height:this.height,mipmaps:!1})}resizeAttachments($,Q){for(let J=0;J<this.colorAttachments.length;++J)if(this.colorAttachments[J]){let Z=this.colorAttachments[J].texture.clone({width:$,height:Q});this.destroyAttachedResource(this.colorAttachments[J]),this.colorAttachments[J]=Z.view,this.attachResource(Z.view)}if(this.depthStencilAttachment){let J=this.depthStencilAttachment.texture.clone({width:$,height:Q});this.destroyAttachedResource(this.depthStencilAttachment),this.depthStencilAttachment=J.view,this.attachResource(J)}this.updateAttachments()}}class A3 extends t1{static defaultProps={...t1.defaultProps,vs:null,vertexEntryPoint:"vertexMain",vsConstants:{},fs:null,fragmentEntryPoint:"fragmentMain",fsConstants:{},shaderLayout:null,bufferLayout:[],topology:"triangle-list",parameters:{},bindings:{},uniforms:{}};get[Symbol.toStringTag](){return"RenderPipeline"}shaderLayout;bufferLayout;linkStatus="pending";hash="";constructor($,Q){super($,Q,A3.defaultProps);this.shaderLayout=this.props.shaderLayout,this.bufferLayout=this.props.bufferLayout||[]}setUniformsWebGL($){throw Error("Use uniform blocks")}}class C8 extends t1{static defaultClearColor=[0,0,0,1];static defaultClearDepth=1;static defaultClearStencil=0;static defaultProps={...t1.defaultProps,framebuffer:null,parameters:void 0,clearColor:C8.defaultClearColor,clearColors:void 0,clearDepth:C8.defaultClearDepth,clearStencil:C8.defaultClearStencil,depthReadOnly:!1,stencilReadOnly:!1,discard:!1,occlusionQuerySet:void 0,timestampQuerySet:void 0,beginTimestampIndex:void 0,endTimestampIndex:void 0};get[Symbol.toStringTag](){return"RenderPass"}constructor($,Q){Q=C8.normalizeProps($,Q);super($,Q,C8.defaultProps)}static normalizeProps($,Q){return{...$.props._resourceDefaults?.renderPass,...Q}}}class tJ extends t1{static defaultProps={...t1.defaultProps,shader:void 0,entryPoint:void 0,constants:{},shaderLayout:void 0};get[Symbol.toStringTag](){return"ComputePipeline"}hash="";shaderLayout;constructor($,Q){super($,Q,tJ.defaultProps);this.shaderLayout=Q.shaderLayout}}class CY extends t1{static defaultProps={...t1.defaultProps,measureExecutionTime:void 0};get[Symbol.toStringTag](){return"CommandEncoder"}constructor($,Q){super($,Q,CY.defaultProps)}}class AY extends t1{static defaultProps={...t1.defaultProps};get[Symbol.toStringTag](){return"CommandBuffer"}constructor($,Q){super($,Q,AY.defaultProps)}}function Wi($){let[Q,J]=Lq1[$],Z=Q==="i32"||Q==="u32",X=Q!=="u32",W=hq1[Q]*J,H=jq1(Q,J);return{dataType:Q,components:J,defaultVertexFormat:H,byteLength:W,integer:Z,signed:X}}function jq1($,Q){let J;switch($){case"f32":J="float32";break;case"i32":J="sint32";break;case"u32":J="uint32";break;case"f16":return Q<=2?"float16x2":"float16x4"}if(Q===1)return J;return`${J}x${Q}`}var Lq1={f32:["f32",1],"vec2<f32>":["f32",2],"vec3<f32>":["f32",3],"vec4<f32>":["f32",4],f16:["f16",1],"vec2<f16>":["f16",2],"vec3<f16>":["f16",3],"vec4<f16>":["f16",4],i32:["i32",1],"vec2<i32>":["i32",2],"vec3<i32>":["i32",3],"vec4<i32>":["i32",4],u32:["u32",1],"vec2<u32>":["u32",2],"vec3<u32>":["u32",3],"vec4<u32>":["u32",4]},hq1={f32:4,f16:2,i32:4,u32:4};function MP($){let Q;if($.endsWith("-webgl"))$.replace("-webgl",""),Q=!0;let[J,Z]=$.split("x"),X=J,W=Z?parseInt(Z):1,H=IU(X),F={type:X,components:W,byteLength:H.byteLength*W,integer:H.integer,signed:H.signed,normalized:H.normalized};if(Q)F.webglOnly=!0;return F}function hU($,Q){let J={};for(let Z of $.attributes){let X=vq1($,Q,Z.name);if(X)J[Z.name]=X}return J}function qi($,Q,J=16){let Z=hU($,Q),X=Array(J).fill(null);for(let W of Object.values(Z))X[W.location]=W;return X}function vq1($,Q,J){let Z=_q1($,J),X=xq1(Q,J);if(!Z)return null;let W=Wi(Z.type),H=X?.vertexFormat||W.defaultVertexFormat,F=MP(H);return{attributeName:X?.attributeName||Z.name,bufferName:X?.bufferName||Z.name,location:Z.location,shaderType:Z.type,shaderDataType:W.dataType,shaderComponents:W.components,vertexFormat:H,bufferDataType:F.type,bufferComponents:F.components,normalized:F.normalized,integer:W.integer,stepMode:X?.stepMode||Z.stepMode||"vertex",byteOffset:X?.byteOffset||0,byteStride:X?.byteStride||0}}function _q1($,Q){let J=$.attributes.find((Z)=>Z.name===Q);if(!J)X1.warn(`shader layout attribute "${Q}" not present in shader`);return J||null}function xq1($,Q){gq1($);let J=yq1($,Q);if(J)return J;if(J=bq1($,Q),J)return J;return X1.warn(`layout for attribute "${Q}" not present in buffer layout`),null}function gq1($){for(let Q of $)if(Q.attributes&&Q.format||!Q.attributes&&!Q.format)X1.warn(`BufferLayout ${name} must have either 'attributes' or 'format' field`)}function yq1($,Q){for(let J of $)if(J.format&&J.name===Q)return{attributeName:J.name,bufferName:Q,stepMode:J.stepMode,vertexFormat:J.format,byteOffset:0,byteStride:J.byteStride||0};return null}function bq1($,Q){for(let J of $){let Z=J.byteStride;if(typeof J.byteStride!=="number")for(let W of J.attributes||[]){let H=MP(W.format);Z+=H.byteLength}let X=J.attributes?.find((W)=>W.attribute===Q);if(X)return{attributeName:X.attribute,bufferName:J.name,stepMode:J.stepMode,vertexFormat:X.format,byteOffset:X.byteOffset,byteStride:Z}}return null}class zY extends t1{static defaultProps={...t1.defaultProps,renderPipeline:null};get[Symbol.toStringTag](){return"VertexArray"}maxVertexAttributes;attributeInfos;indexBuffer=null;attributes;constructor($,Q){super($,Q,zY.defaultProps);this.maxVertexAttributes=$.limits.maxVertexAttributes,this.attributes=Array(this.maxVertexAttributes).fill(null);let{shaderLayout:J,bufferLayout:Z}=Q.renderPipeline||{};if(!J||!Z)throw Error("VertexArray");this.attributeInfos=qi(J,Z,this.maxVertexAttributes)}setConstantWebGL($,Q){this.device.reportError(Error("constant attributes not supported"))}}class BY extends t1{static defaultProps={...t1.defaultProps,layout:void 0,buffers:{}};get[Symbol.toStringTag](){return"TransformFeedback"}constructor($,Q){super($,Q,BY.defaultProps)}}class RY extends t1{static defaultProps={...t1.defaultProps,type:void 0,count:void 0};get[Symbol.toStringTag](){return"QuerySet"}constructor($,Q){super($,Q,RY.defaultProps)}}var fq1={f32:{type:"f32",components:1},i32:{type:"i32",components:1},u32:{type:"u32",components:1},"vec2<f32>":{type:"f32",components:2},"vec3<f32>":{type:"f32",components:3},"vec4<f32>":{type:"f32",components:4},"vec2<i32>":{type:"i32",components:2},"vec3<i32>":{type:"i32",components:3},"vec4<i32>":{type:"i32",components:4},"vec2<u32>":{type:"u32",components:2},"vec3<u32>":{type:"u32",components:3},"vec4<u32>":{type:"u32",components:4},"mat2x2<f32>":{type:"f32",components:4},"mat2x3<f32>":{type:"f32",components:6},"mat2x4<f32>":{type:"f32",components:8},"mat3x2<f32>":{type:"f32",components:6},"mat3x3<f32>":{type:"f32",components:9},"mat3x4<f32>":{type:"f32",components:12},"mat4x2<f32>":{type:"f32",components:8},"mat4x3<f32>":{type:"f32",components:12},"mat4x4<f32>":{type:"f32",components:16}};function Hi($){return fq1[$]}function Fi($,Q){switch(Q){case 1:return $;case 2:return $+$%2;default:return $+(4-$%4)%4}}var vU;function wP($){if(!vU||vU.byteLength<$)vU=new ArrayBuffer($);return vU}function SP($,Q){let J=wP($.BYTES_PER_ELEMENT*Q);return new $(J,0,Q)}function mq1($){return ArrayBuffer.isView($)&&!($ instanceof DataView)}function eJ($){if(Array.isArray($))return $.length===0||typeof $[0]==="number";return mq1($)}var Ui=1024;class TP{layout={};byteLength;constructor($){let Q=0;for(let[Z,X]of Object.entries($)){let W=Hi(X),{type:H,components:F}=W;Q=Fi(Q,F);let V=Q;Q+=F,this.layout[Z]={type:H,size:F,offset:V}}Q+=(4-Q%4)%4;let J=Q*4;this.byteLength=Math.max(J,Ui)}getData($){let Q=Math.max(this.byteLength,Ui),J=wP(Q),Z={i32:new Int32Array(J),u32:new Uint32Array(J),f32:new Float32Array(J),f16:new Uint16Array(J)};for(let[X,W]of Object.entries($)){let H=this.layout[X];if(!H){X1.warn(`Supplied uniform value ${X} not present in uniform block layout`)();continue}let{type:F,size:V,offset:D}=H,C=Z[F];if(V===1){if(typeof W!=="number"&&typeof W!=="boolean"){X1.warn(`Supplied value for single component uniform ${X} is not a number: ${W}`)();continue}C[D]=Number(W)}else{if(!eJ(W)){X1.warn(`Supplied value for multi component / array uniform ${X} is not a numeric array: ${W}`)();continue}C.set(W,D)}}return new Uint8Array(J)}has($){return Boolean(this.layout[$])}get($){return this.layout[$]}}function Vi($,Q,J=16){if($!==Q)return!1;let Z=$,X=Q;if(!eJ(Z))return!1;if(eJ(X)&&Z.length===X.length){for(let W=0;W<Z.length;++W)if(X[W]!==Z[W])return!1}return!0}function Ni($){if(eJ($))return $.slice();return $}class IP{name;uniforms={};modifiedUniforms={};modified=!0;bindingLayout={};needsRedraw="initialized";constructor($){if(this.name=$?.name||"unnamed",$?.name&&$?.shaderLayout){let Q=$?.shaderLayout.bindings?.find((Z)=>Z.type==="uniform"&&Z.name===$?.name);if(!Q)throw Error($?.name);let J=Q;for(let Z of J.uniforms||[])this.bindingLayout[Z.name]=Z}}setUniforms($){for(let[Q,J]of Object.entries($))if(this._setUniform(Q,J),!this.needsRedraw)this.setNeedsRedraw(`${this.name}.${Q}=${J}`)}setNeedsRedraw($){this.needsRedraw=this.needsRedraw||$}getAllUniforms(){return this.modifiedUniforms={},this.needsRedraw=!1,this.uniforms||{}}_setUniform($,Q){if(Vi(this.uniforms[$],Q))return;this.uniforms[$]=Ni(Q),this.modifiedUniforms[$]=!0,this.modified=!0}}class _U{uniformBlocks=new Map;uniformBufferLayouts=new Map;uniformBuffers=new Map;constructor($){for(let[Q,J]of Object.entries($)){let Z=Q,X=new TP(J.uniformTypes||{});this.uniformBufferLayouts.set(Z,X);let W=new IP({name:Q});W.setUniforms(J.defaultUniforms||{}),this.uniformBlocks.set(Z,W)}}destroy(){for(let $ of this.uniformBuffers.values())$.destroy()}setUniforms($){for(let[Q,J]of Object.entries($))this.uniformBlocks.get(Q)?.setUniforms(J);this.updateUniformBuffers()}getUniformBufferByteLength($){return this.uniformBufferLayouts.get($)?.byteLength||0}getUniformBufferData($){let Q=this.uniformBlocks.get($)?.getAllUniforms()||{};return this.uniformBufferLayouts.get($)?.getData(Q)}createUniformBuffer($,Q,J){if(J)this.setUniforms(J);let Z=this.getUniformBufferByteLength(Q),X=$.createBuffer({usage:U0.UNIFORM|U0.COPY_DST,byteLength:Z}),W=this.getUniformBufferData(Q);return X.write(W),X}getManagedUniformBuffer($,Q){if(!this.uniformBuffers.get(Q)){let J=this.getUniformBufferByteLength(Q),Z=$.createBuffer({usage:U0.UNIFORM|U0.COPY_DST,byteLength:J});this.uniformBuffers.set(Q,Z)}return this.uniformBuffers.get(Q)}updateUniformBuffers(){let $=!1;for(let Q of this.uniformBlocks.keys()){let J=this.updateUniformBuffer(Q);$||=J}if($)X1.log(3,`UniformStore.updateUniformBuffers(): ${$}`)();return $}updateUniformBuffer($){let Q=this.uniformBlocks.get($),J=this.uniformBuffers.get($),Z=!1;if(J&&Q?.needsRedraw){Z||=Q.needsRedraw;let X=this.getUniformBufferData($);J=this.uniformBuffers.get($),J?.write(X);let W=this.uniformBlocks.get($)?.getAllUniforms();X1.log(4,`Writing to uniform buffer ${String($)}`,X,W)()}return Z}}function xU($){let Q=ArrayBuffer.isView($)?$.constructor:$;switch(Q){case Float32Array:return"float32";case Uint16Array:return"uint16";case Uint32Array:return"uint32";case Uint8Array:case Uint8ClampedArray:return"uint8";case Int8Array:return"sint8";case Int16Array:return"sint16";case Int32Array:return"sint32";default:throw Error(Q.constructor.name)}}function OY($){switch($){case"float32":return Float32Array;case"uint32":return Uint32Array;case"sint32":return Int32Array;case"uint16":case"unorm16":return Uint16Array;case"sint16":case"snorm16":return Int16Array;case"uint8":case"unorm8":return Uint8Array;case"sint8":case"snorm8":return Int8Array;default:throw Error($)}}function GP($,Q,J){if(!Q||Q>4)throw Error(`size ${Q}`);let Z=Q,X=xU($);if(X==="uint8"&&J&&Z===1)return"unorm8-webgl";if(X==="uint8"&&J&&Z===3)return"unorm8x3-webgl";if(X==="uint8"||X==="sint8"){if(Z===1||Z===3)throw Error(`size: ${Q}`);if(J)X=X.replace("int","norm");return`${X}x${Z}`}if(X==="uint16"||X==="sint16"){if(Z===1||Z===3)throw Error(`size: ${Q}`);if(J)X=X.replace("int","norm");return`${X}x${Z}`}if(Z===1)return X;return`${X}x${Z}`}class $Z{bufferLayouts;constructor($){this.bufferLayouts=$}getBufferLayout($){return this.bufferLayouts.find((Q)=>Q.name===$)||null}getAttributeNamesForBuffer($){return $.attributes?$.attributes?.map((Q)=>Q.attribute):[$.name]}mergeBufferLayouts($,Q){let J=[...$];for(let Z of Q){let X=J.findIndex((W)=>W.name===Z.name);if(X<0)J.push(Z);else J[X]=Z}return J}getBufferIndex($){let Q=this.bufferLayouts.findIndex((J)=>J.name===$);if(Q===-1)X1.warn(`BufferLayout: Missing buffer for "${$}".`)();return Q}}function EP($,Q){let J=Object.fromEntries($.attributes.map((X)=>[X.name,X.location])),Z=Q.slice();return Z.sort((X,W)=>{let H=X.attributes?X.attributes.map((C)=>C.attribute):[X.name],F=W.attributes?W.attributes.map((C)=>C.attribute):[W.name],V=Math.min(...H.map((C)=>J[C])),D=Math.min(...F.map((C)=>J[C]));return V-D}),Z}class Y4{constructor($,Q){this.name=$,this.attributes=Q,this.size=0}get isArray(){return!1}get isStruct(){return!1}get isTemplate(){return!1}get isPointer(){return!1}getTypeName(){return this.name}}class hP{constructor($,Q,J){this.name=$,this.type=Q,this.attributes=J,this.offset=0,this.size=0}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class z8 extends Y4{constructor($,Q){super($,Q),this.members=[],this.align=0,this.startLine=-1,this.endLine=-1,this.inUse=!1}get isStruct(){return!0}}class B8 extends Y4{constructor($,Q){super($,Q),this.count=0,this.stride=0}get isArray(){return!0}getTypeName(){return`array<${this.format.getTypeName()}, ${this.count}>`}}class gU extends Y4{constructor($,Q,J){super($,J),this.format=Q}get isPointer(){return!0}getTypeName(){return`&${this.format.getTypeName()}`}}class o9 extends Y4{constructor($,Q,J,Z){super($,J),this.format=Q,this.access=Z}get isTemplate(){return!0}getTypeName(){let $=this.name;if(this.format!==null){if($==="vec2"||$==="vec3"||$==="vec4"||$==="mat2x2"||$==="mat2x3"||$==="mat2x4"||$==="mat3x2"||$==="mat3x3"||$==="mat3x4"||$==="mat4x2"||$==="mat4x3"||$==="mat4x4"){if(this.format.name==="f32")return $+="f",$;if(this.format.name==="i32")return $+="i",$;if(this.format.name==="u32")return $+="u",$;if(this.format.name==="bool")return $+="b",$;if(this.format.name==="f16")return $+="h",$}$+=`<${this.format.name}>`}else if($==="vec2"||$==="vec3"||$==="vec4")return $;return $}}var s9;(($)=>{$[$.Uniform=0]="Uniform",$[$.Storage=1]="Storage",$[$.Texture=2]="Texture",$[$.Sampler=3]="Sampler",$[$.StorageTexture=4]="StorageTexture"})(s9||(s9={}));class kY{constructor($,Q,J,Z,X,W,H){this.name=$,this.type=Q,this.group=J,this.binding=Z,this.attributes=X,this.resourceType=W,this.access=H}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get size(){return this.type.size}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class Ai{constructor($,Q){this.name=$,this.type=Q}}class zi{constructor($,Q,J,Z){this.name=$,this.type=Q,this.locationType=J,this.location=Z,this.interpolation=null}}class vP{constructor($,Q,J,Z){this.name=$,this.type=Q,this.locationType=J,this.location=Z}}class Bi{constructor($,Q,J,Z){this.name=$,this.type=Q,this.attributes=J,this.id=Z}}class Ri{constructor($,Q,J){this.name=$,this.type=Q,this.attributes=J}}class Oi{constructor($,Q=null,J){this.stage=null,this.inputs=[],this.outputs=[],this.arguments=[],this.returnType=null,this.resources=[],this.overrides=[],this.startLine=-1,this.endLine=-1,this.inUse=!1,this.calls=new Set,this.name=$,this.stage=Q,this.attributes=J}}class ki{constructor(){this.vertex=[],this.fragment=[],this.compute=[]}}function cq1($){var Q=(32768&$)>>15,J=(31744&$)>>10,Z=1023&$;return J==0?(Q?-1:1)*Math.pow(2,-14)*(Z/Math.pow(2,10)):J==31?Z?NaN:1/0*(Q?-1:1):(Q?-1:1)*Math.pow(2,J-15)*(1+Z/Math.pow(2,10))}var Pi=new Float32Array(1),dq1=new Int32Array(Pi.buffer),Z6=new Uint16Array(1);function lq1($){Pi[0]=$;let Q=dq1[0],J=Q>>31&1,Z=Q>>23&255,X=8388607&Q;if(Z===255)return Z6[0]=J<<15|31744|(X!==0?512:0),Z6[0];if(Z===0){if(X===0)return Z6[0]=J<<15,Z6[0];X|=8388608;let W=113;for(;!(8388608&X);)X<<=1,W--;return Z=127-W,X&=8388607,Z>0?(X=(X>>126-Z)+(X>>127-Z&1),Z6[0]=J<<15|Z<<10|X>>13,Z6[0]):(Z6[0]=J<<15,Z6[0])}return Z=Z-127+15,Z>=31?(Z6[0]=J<<15|31744,Z6[0]):Z<=0?Z<-10?(Z6[0]=J<<15,Z6[0]):(X=(8388608|X)>>1-Z,Z6[0]=J<<15|X>>13,Z6[0]):(X>>=13,Z6[0]=J<<15|Z<<10|X,Z6[0])}var bP=new Uint32Array(1),Mi=new Float32Array(bP.buffer,0,1);function Di($){let Q=112+($>>6&31)<<23|(63&$)<<17;return bP[0]=Q,Mi[0]}function pq1($,Q,J,Z,X,W,H,F,V){let D=Z*(H>>=X)*(W>>=X)+J*H+Q*F;switch(V){case"r8unorm":return[S0($,D,"8unorm",1)[0]];case"r8snorm":return[S0($,D,"8snorm",1)[0]];case"r8uint":return[S0($,D,"8uint",1)[0]];case"r8sint":return[S0($,D,"8sint",1)[0]];case"rg8unorm":{let C=S0($,D,"8unorm",2);return[C[0],C[1]]}case"rg8snorm":{let C=S0($,D,"8snorm",2);return[C[0],C[1]]}case"rg8uint":{let C=S0($,D,"8uint",2);return[C[0],C[1]]}case"rg8sint":{let C=S0($,D,"8sint",2);return[C[0],C[1]]}case"rgba8unorm-srgb":case"rgba8unorm":{let C=S0($,D,"8unorm",4);return[C[0],C[1],C[2],C[3]]}case"rgba8snorm":{let C=S0($,D,"8snorm",4);return[C[0],C[1],C[2],C[3]]}case"rgba8uint":{let C=S0($,D,"8uint",4);return[C[0],C[1],C[2],C[3]]}case"rgba8sint":{let C=S0($,D,"8sint",4);return[C[0],C[1],C[2],C[3]]}case"bgra8unorm-srgb":case"bgra8unorm":{let C=S0($,D,"8unorm",4);return[C[2],C[1],C[0],C[3]]}case"r16uint":return[S0($,D,"16uint",1)[0]];case"r16sint":return[S0($,D,"16sint",1)[0]];case"r16float":return[S0($,D,"16float",1)[0]];case"rg16uint":{let C=S0($,D,"16uint",2);return[C[0],C[1]]}case"rg16sint":{let C=S0($,D,"16sint",2);return[C[0],C[1]]}case"rg16float":{let C=S0($,D,"16float",2);return[C[0],C[1]]}case"rgba16uint":{let C=S0($,D,"16uint",4);return[C[0],C[1],C[2],C[3]]}case"rgba16sint":{let C=S0($,D,"16sint",4);return[C[0],C[1],C[2],C[3]]}case"rgba16float":{let C=S0($,D,"16float",4);return[C[0],C[1],C[2],C[3]]}case"r32uint":return[S0($,D,"32uint",1)[0]];case"r32sint":return[S0($,D,"32sint",1)[0]];case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return[S0($,D,"32float",1)[0]];case"rg32uint":{let C=S0($,D,"32uint",2);return[C[0],C[1]]}case"rg32sint":{let C=S0($,D,"32sint",2);return[C[0],C[1]]}case"rg32float":{let C=S0($,D,"32float",2);return[C[0],C[1]]}case"rgba32uint":{let C=S0($,D,"32uint",4);return[C[0],C[1],C[2],C[3]]}case"rgba32sint":{let C=S0($,D,"32sint",4);return[C[0],C[1],C[2],C[3]]}case"rgba32float":{let C=S0($,D,"32float",4);return[C[0],C[1],C[2],C[3]]}case"rg11b10ufloat":{let C=new Uint32Array($.buffer,D,1)[0],z=(4192256&C)>>11,R=(4290772992&C)>>22;return[Di(2047&C),Di(z),function(k){let P=112+(k>>5&31)<<23|(31&k)<<18;return bP[0]=P,Mi[0]}(R),1]}}return null}function S0($,Q,J,Z){let X=[0,0,0,0];for(let W=0;W<Z;++W)switch(J){case"8unorm":X[W]=$[Q]/255,Q++;break;case"8snorm":X[W]=$[Q]/255*2-1,Q++;break;case"8uint":X[W]=$[Q],Q++;break;case"8sint":X[W]=$[Q]-127,Q++;break;case"16uint":X[W]=$[Q]|$[Q+1]<<8,Q+=2;break;case"16sint":X[W]=($[Q]|$[Q+1]<<8)-32768,Q+=2;break;case"16float":X[W]=cq1($[Q]|$[Q+1]<<8),Q+=2;break;case"32uint":case"32sint":X[W]=$[Q]|$[Q+1]<<8|$[Q+2]<<16|$[Q+3]<<24,Q+=4;break;case"32float":X[W]=new Float32Array($.buffer,Q,1)[0],Q+=4}return X}function G0($,Q,J,Z,X){for(let W=0;W<Z;++W)switch(J){case"8unorm":$[Q]=255*X[W],Q++;break;case"8snorm":$[Q]=0.5*(X[W]+1)*255,Q++;break;case"8uint":$[Q]=X[W],Q++;break;case"8sint":$[Q]=X[W]+127,Q++;break;case"16uint":new Uint16Array($.buffer,Q,1)[0]=X[W],Q+=2;break;case"16sint":new Int16Array($.buffer,Q,1)[0]=X[W],Q+=2;break;case"16float":{let H=lq1(X[W]);new Uint16Array($.buffer,Q,1)[0]=H,Q+=2;break}case"32uint":new Uint32Array($.buffer,Q,1)[0]=X[W],Q+=4;break;case"32sint":new Int32Array($.buffer,Q,1)[0]=X[W],Q+=4;break;case"32float":new Float32Array($.buffer,Q,1)[0]=X[W],Q+=4}return X}var jP={r8unorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8snorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8uint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8sint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg8unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8snorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"rgba8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8snorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},bgra8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bgra8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r16uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16float:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg16uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba16uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r32uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg32uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba32uint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32sint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32float:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rg11b10ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},stencil8:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!1,hasStencil:!0,channels:1},depth16unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},depth24plus:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,depthOnlyFormat:"depth32float",channels:1},"depth24plus-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,depthOnlyFormat:"depth32float",channels:1},depth32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},"depth32float-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,stencilOnlyFormat:"depth32float",channels:1},rgb9e5ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bc1-rgba-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc1-rgba-unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc4-r-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc4-r-snorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc5-rg-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc5-rg-snorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc6h-rgb-ufloat":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc6h-rgb-float":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"eac-r11unorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-r11snorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-rg11unorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"eac-rg11snorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"astc-4x4-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-4x4-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x5-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-5x5-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x6-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-6x6-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-8x5-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x5-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x6-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x6-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x8-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-8x8-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-10x5-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x5-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x6-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x6-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x8-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x8-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x10-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-10x10-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x12-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4},"astc-12x12-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4}};class u4{constructor(){this.id=u4._id++,this.line=0}get isAstNode(){return!0}get astNodeType(){return""}search($){$(this)}searchBlock($,Q){if($){Q(IY.instance);for(let J of $)J instanceof Array?this.searchBlock(J,Q):J.search(Q);Q(GY.instance)}}constEvaluate($,Q){throw Error("Cannot evaluate node")}constEvaluateString($){return this.constEvaluate($).toString()}}u4._id=0;class IY extends u4{}IY.instance=new IY;class GY extends u4{}GY.instance=new GY;var wi=new Set(["all","all","any","select","arrayLength","abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","clamp","cos","cosh","countLeadingZeros","countOneBits","countTrailingZeros","cross","degrees","determinant","distance","dot","dot4U8Packed","dot4I8Packed","exp","exp2","extractBits","faceForward","firstLeadingBit","firstTrailingBit","floor","fma","fract","frexp","insertBits","inverseSqrt","ldexp","length","log","log2","max","min","mix","modf","normalize","pow","quantizeToF16","radians","reflect","refract","reverseBits","round","saturate","sign","sin","sinh","smoothStep","sqrt","step","tan","tanh","transpose","trunc","dpdx","dpdxCoarse","dpdxFine","dpdy","dpdyCoarse","dpdyFine","fwidth","fwidthCoarse","fwidthFine","textureDimensions","textureGather","textureGatherCompare","textureLoad","textureNumLayers","textureNumLevels","textureNumSamples","textureSample","textureSampleBias","textureSampleCompare","textureSampleCompareLevel","textureSampleGrad","textureSampleLevel","textureSampleBaseClampToEdge","textureStore","atomicLoad","atomicStore","atomicAdd","atomicSub","atomicMax","atomicMin","atomicAnd","atomicOr","atomicXor","atomicExchange","atomicCompareExchangeWeak","pack4x8snorm","pack4x8unorm","pack4xI8","pack4xU8","pack4x8Clamp","pack4xU8Clamp","pack2x16snorm","pack2x16unorm","pack2x16float","unpack4x8snorm","unpack4x8unorm","unpack4xI8","unpack4xU8","unpack2x16snorm","unpack2x16unorm","unpack2x16float","storageBarrier","textureBarrier","workgroupBarrier","workgroupUniformLoad","subgroupAdd","subgroupExclusiveAdd","subgroupInclusiveAdd","subgroupAll","subgroupAnd","subgroupAny","subgroupBallot","subgroupBroadcast","subgroupBroadcastFirst","subgroupElect","subgroupMax","subgroupMin","subgroupMul","subgroupExclusiveMul","subgroupInclusiveMul","subgroupOr","subgroupShuffle","subgroupShuffleDown","subgroupShuffleUp","subgroupShuffleXor","subgroupXor","quadBroadcast","quadSwapDiagonal","quadSwapX","quadSwapY"]);class i0 extends u4{constructor(){super()}}class XZ extends i0{constructor($,Q,J,Z,X,W){super(),this.calls=new Set,this.name=$,this.args=Q,this.returnType=J,this.body=Z,this.startLine=X,this.endLine=W}get astNodeType(){return"function"}search($){if(this.attributes)for(let Q of this.attributes)$(Q);$(this);for(let Q of this.args)$(Q);this.searchBlock(this.body,$)}}class Si extends i0{constructor($){super(),this.expression=$}get astNodeType(){return"staticAssert"}search($){this.expression.search($)}}class fP extends i0{constructor($,Q){super(),this.condition=$,this.body=Q}get astNodeType(){return"while"}search($){this.condition.search($),this.searchBlock(this.body,$)}}class yU extends i0{constructor($,Q){super(),this.body=$,this.loopId=Q}get astNodeType(){return"continuing"}search($){this.searchBlock(this.body,$)}}class mP extends i0{constructor($,Q,J,Z){super(),this.init=$,this.condition=Q,this.increment=J,this.body=Z}get astNodeType(){return"for"}search($){var Q,J,Z;(Q=this.init)===null||Q===void 0||Q.search($),(J=this.condition)===null||J===void 0||J.search($),(Z=this.increment)===null||Z===void 0||Z.search($),this.searchBlock(this.body,$)}}class B3 extends i0{constructor($,Q,J,Z,X){super(),this.attributes=null,this.name=$,this.type=Q,this.storage=J,this.access=Z,this.value=X}get astNodeType(){return"var"}search($){var Q;$(this),(Q=this.value)===null||Q===void 0||Q.search($)}}class dU extends i0{constructor($,Q,J){super(),this.attributes=null,this.name=$,this.type=Q,this.value=J}get astNodeType(){return"override"}search($){var Q;(Q=this.value)===null||Q===void 0||Q.search($)}}class ZZ extends i0{constructor($,Q,J,Z,X){super(),this.attributes=null,this.name=$,this.type=Q,this.storage=J,this.access=Z,this.value=X}get astNodeType(){return"let"}search($){var Q;$(this),(Q=this.value)===null||Q===void 0||Q.search($)}}class wY extends i0{constructor($,Q,J,Z,X){super(),this.attributes=null,this.name=$,this.type=Q,this.storage=J,this.access=Z,this.value=X}get astNodeType(){return"const"}constEvaluate($,Q){return this.value.constEvaluate($,Q)}search($){var Q;$(this),(Q=this.value)===null||Q===void 0||Q.search($)}}var QZ,PY,d,y;(($)=>{$.increment="++",$.decrement="--"})(QZ||(QZ={})),(($)=>{$.parse=function(Q){let J=Q;if(J=="parse")throw Error("Invalid value for IncrementOperator");return $[J]}})(QZ||(QZ={}));class cP extends i0{constructor($,Q){super(),this.operator=$,this.variable=Q}get astNodeType(){return"increment"}search($){this.variable.search($)}}(($)=>{$.assign="=",$.addAssign="+=",$.subtractAssin="-=",$.multiplyAssign="*=",$.divideAssign="/=",$.moduloAssign="%=",$.andAssign="&=",$.orAssign="|=",$.xorAssign="^=",$.shiftLeftAssign="<<=",$.shiftRightAssign=">>="})(PY||(PY={})),(($)=>{$.parse=function(Q){let J=Q;if(J=="parse")throw Error("Invalid value for AssignOperator");return J}})(PY||(PY={}));class dP extends i0{constructor($,Q,J){super(),this.operator=$,this.variable=Q,this.value=J}get astNodeType(){return"assign"}search($){this.variable.search($),this.value.search($)}}class lU extends i0{constructor($,Q){super(),this.name=$,this.args=Q}get astNodeType(){return"call"}isBuiltin(){return wi.has(this.name)}search($){for(let Q of this.args)Q.search($);$(this)}}class lP extends i0{constructor($,Q){super(),this.body=$,this.continuing=Q}get astNodeType(){return"loop"}search($){var Q;this.searchBlock(this.body,$),(Q=this.continuing)===null||Q===void 0||Q.search($)}}class pP extends i0{constructor($,Q){super(),this.condition=$,this.cases=Q}get astNodeType(){return"switch"}search($){$(this);for(let Q of this.cases)Q.search($)}}class uP extends i0{constructor($,Q,J,Z){super(),this.condition=$,this.body=Q,this.elseif=J,this.else=Z}get astNodeType(){return"if"}search($){this.condition.search($),this.searchBlock(this.body,$),this.searchBlock(this.elseif,$),this.searchBlock(this.else,$)}}class iP extends i0{constructor($){super(),this.value=$}get astNodeType(){return"return"}search($){var Q;(Q=this.value)===null||Q===void 0||Q.search($)}}class Ti extends i0{constructor($){super(),this.name=$}get astNodeType(){return"enable"}}class Ii extends i0{constructor($){super(),this.extensions=$}get astNodeType(){return"requires"}}class nP extends i0{constructor($,Q){super(),this.severity=$,this.rule=Q}get astNodeType(){return"diagnostic"}}class pU extends i0{constructor($,Q){super(),this.name=$,this.type=Q}get astNodeType(){return"alias"}}class Gi extends i0{constructor(){super()}get astNodeType(){return"discard"}}class sP extends i0{constructor(){super(),this.condition=null,this.loopId=-1}get astNodeType(){return"break"}}class oP extends i0{constructor(){super(),this.loopId=-1}get astNodeType(){return"continue"}}class K1 extends i0{constructor($){super(),this.attributes=null,this.name=$}get astNodeType(){return"type"}get isStruct(){return!1}get isArray(){return!1}static maxFormatType($){let Q=$[0];if(Q.name==="f32")return Q;for(let J=1;J<$.length;++J){let Z=K1._priority.get(Q.name);K1._priority.get($[J].name)<Z&&(Q=$[J])}return Q.name==="x32"?K1.i32:Q}getTypeName(){return this.name}}K1.x32=new K1("x32"),K1.f32=new K1("f32"),K1.i32=new K1("i32"),K1.u32=new K1("u32"),K1.f16=new K1("f16"),K1.bool=new K1("bool"),K1.void=new K1("void"),K1._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);class _P extends K1{constructor($){super($)}}class z3 extends K1{constructor($,Q,J,Z){super($),this.members=Q,this.startLine=J,this.endLine=Z}get astNodeType(){return"struct"}get isStruct(){return!0}getMemberIndex($){for(let Q=0;Q<this.members.length;Q++)if(this.members[Q].name==$)return Q;return-1}search($){for(let Q of this.members)$(Q)}}class m extends K1{constructor($,Q,J){super($),this.format=Q,this.access=J}get astNodeType(){return"template"}getTypeName(){let $=this.name;if(this.format!==null){if($==="vec2"||$==="vec3"||$==="vec4"||$==="mat2x2"||$==="mat2x3"||$==="mat2x4"||$==="mat3x2"||$==="mat3x3"||$==="mat3x4"||$==="mat4x2"||$==="mat4x3"||$==="mat4x4"){if(this.format.name==="f32")return $+="f",$;if(this.format.name==="i32")return $+="i",$;if(this.format.name==="u32")return $+="u",$;if(this.format.name==="bool")return $+="b",$;if(this.format.name==="f16")return $+="h",$}$+=`<${this.format.name}>`}else if($==="vec2"||$==="vec3"||$==="vec4")return $;return $}}m.vec2f=new m("vec2",K1.f32,null),m.vec3f=new m("vec3",K1.f32,null),m.vec4f=new m("vec4",K1.f32,null),m.vec2i=new m("vec2",K1.i32,null),m.vec3i=new m("vec3",K1.i32,null),m.vec4i=new m("vec4",K1.i32,null),m.vec2u=new m("vec2",K1.u32,null),m.vec3u=new m("vec3",K1.u32,null),m.vec4u=new m("vec4",K1.u32,null),m.vec2h=new m("vec2",K1.f16,null),m.vec3h=new m("vec3",K1.f16,null),m.vec4h=new m("vec4",K1.f16,null),m.vec2b=new m("vec2",K1.bool,null),m.vec3b=new m("vec3",K1.bool,null),m.vec4b=new m("vec4",K1.bool,null),m.mat2x2f=new m("mat2x2",K1.f32,null),m.mat2x3f=new m("mat2x3",K1.f32,null),m.mat2x4f=new m("mat2x4",K1.f32,null),m.mat3x2f=new m("mat3x2",K1.f32,null),m.mat3x3f=new m("mat3x3",K1.f32,null),m.mat3x4f=new m("mat3x4",K1.f32,null),m.mat4x2f=new m("mat4x2",K1.f32,null),m.mat4x3f=new m("mat4x3",K1.f32,null),m.mat4x4f=new m("mat4x4",K1.f32,null),m.mat2x2h=new m("mat2x2",K1.f16,null),m.mat2x3h=new m("mat2x3",K1.f16,null),m.mat2x4h=new m("mat2x4",K1.f16,null),m.mat3x2h=new m("mat3x2",K1.f16,null),m.mat3x3h=new m("mat3x3",K1.f16,null),m.mat3x4h=new m("mat3x4",K1.f16,null),m.mat4x2h=new m("mat4x2",K1.f16,null),m.mat4x3h=new m("mat4x3",K1.f16,null),m.mat4x4h=new m("mat4x4",K1.f16,null),m.mat2x2i=new m("mat2x2",K1.i32,null),m.mat2x3i=new m("mat2x3",K1.i32,null),m.mat2x4i=new m("mat2x4",K1.i32,null),m.mat3x2i=new m("mat3x2",K1.i32,null),m.mat3x3i=new m("mat3x3",K1.i32,null),m.mat3x4i=new m("mat3x4",K1.i32,null),m.mat4x2i=new m("mat4x2",K1.i32,null),m.mat4x3i=new m("mat4x3",K1.i32,null),m.mat4x4i=new m("mat4x4",K1.i32,null),m.mat2x2u=new m("mat2x2",K1.u32,null),m.mat2x3u=new m("mat2x3",K1.u32,null),m.mat2x4u=new m("mat2x4",K1.u32,null),m.mat3x2u=new m("mat3x2",K1.u32,null),m.mat3x3u=new m("mat3x3",K1.u32,null),m.mat3x4u=new m("mat3x4",K1.u32,null),m.mat4x2u=new m("mat4x2",K1.u32,null),m.mat4x3u=new m("mat4x3",K1.u32,null),m.mat4x4u=new m("mat4x4",K1.u32,null);class SY extends K1{constructor($,Q,J,Z){super($),this.storage=Q,this.type=J,this.access=Z}get astNodeType(){return"pointer"}}class KZ extends K1{constructor($,Q,J,Z){super($),this.attributes=Q,this.format=J,this.count=Z}get astNodeType(){return"array"}get isArray(){return!0}}class JZ extends K1{constructor($,Q,J){super($),this.format=Q,this.access=J}get astNodeType(){return"sampler"}}class i4 extends u4{constructor(){super(),this.postfix=null}}class a9 extends i4{constructor($){super(),this.value=$}get astNodeType(){return"stringExpr"}toString(){return this.value}constEvaluateString(){return this.value}}class w7 extends i4{constructor($,Q){super(),this.type=$,this.args=Q}get astNodeType(){return"createExpr"}search($){if($(this),this.args)for(let Q of this.args)Q.search($)}constEvaluate($,Q){return Q&&(Q[0]=this.type),$.evalExpression(this,$.context)}}class uU extends i4{constructor($,Q){super(),this.cachedReturnValue=null,this.name=$,this.args=Q}get astNodeType(){return"callExpr"}setCachedReturnValue($){this.cachedReturnValue=$}get isBuiltin(){return wi.has(this.name)}constEvaluate($,Q){return $.evalExpression(this,$.context)}search($){for(let Q of this.args)Q.search($);$(this)}}class c6 extends i4{constructor($){super(),this.name=$}get astNodeType(){return"varExpr"}search($){$(this),this.postfix&&this.postfix.search($)}constEvaluate($,Q){return $.evalExpression(this,$.context)}}class aP extends i4{constructor($,Q){super(),this.name=$,this.initializer=Q}get astNodeType(){return"constExpr"}constEvaluate($,Q){if(this.initializer){let J=$.evalExpression(this.initializer,$.context);return J!==null&&this.postfix?J.getSubData($,this.postfix,$.context):J}return null}search($){this.initializer.search($)}}class T5 extends i4{constructor($,Q){super(),this.value=$,this.type=Q}get astNodeType(){return"literalExpr"}constEvaluate($,Q){return Q!==void 0&&(Q[0]=this.type),this.value}get isScalar(){return this.value instanceof g}get isVector(){return this.value instanceof E||this.value instanceof f1}get scalarValue(){return this.value instanceof g?this.value.value:(console.error("Value is not scalar."),0)}get vectorValue(){return this.value instanceof E||this.value instanceof f1?this.value.data:(console.error("Value is not a vector or matrix."),new Float32Array(0))}}class rP extends i4{constructor($,Q){super(),this.type=$,this.value=Q}get astNodeType(){return"bitcastExpr"}search($){this.value.search($)}}class g$ extends i4{constructor($){super(),this.index=$}search($){this.index.search($)}}class tP extends i4{constructor(){super()}}class k5 extends tP{constructor($,Q){super(),this.operator=$,this.right=Q}get astNodeType(){return"unaryOp"}constEvaluate($,Q){return $.evalExpression(this,$.context)}search($){this.right.search($)}}class l4 extends tP{constructor($,Q,J){super(),this.operator=$,this.left=Q,this.right=J}get astNodeType(){return"binaryOp"}_getPromotedType($,Q){return $.name===Q.name?$:$.name==="f32"||Q.name==="f32"?K1.f32:$.name==="u32"||Q.name==="u32"?K1.u32:K1.i32}constEvaluate($,Q){return $.evalExpression(this,$.context)}search($){this.left.search($),this.right.search($)}}class eP extends u4{constructor($){super(),this.body=$}search($){$(this),this.searchBlock(this.body,$)}}class TY extends i4{constructor(){super()}get astNodeType(){return"default"}}class $M extends eP{constructor($,Q){super(Q),this.selectors=$}get astNodeType(){return"case"}search($){this.searchBlock(this.body,$)}}class QM extends eP{constructor($){super($)}get astNodeType(){return"default"}search($){this.searchBlock(this.body,$)}}class xP extends u4{constructor($,Q,J){super(),this.name=$,this.type=Q,this.attributes=J}get astNodeType(){return"argument"}}class Ei extends u4{constructor($,Q){super(),this.condition=$,this.body=Q}get astNodeType(){return"elseif"}search($){this.condition.search($),this.searchBlock(this.body,$)}}class gP extends u4{constructor($,Q,J){super(),this.name=$,this.type=Q,this.attributes=J}get astNodeType(){return"member"}}class JM extends u4{constructor($,Q){super(),this.name=$,this.value=Q}get astNodeType(){return"attribute"}}class p4{constructor($,Q){this.parent=null,this.typeInfo=$,this.parent=Q,this.id=p4._id++}clone(){throw`Clone: Not implemented for ${this.constructor.name}`}setDataValue($,Q,J,Z){console.error(`SetDataValue: Not implemented for ${this.constructor.name}`)}getSubData($,Q,J){return console.error(`GetDataValue: Not implemented for ${this.constructor.name}`),null}toString(){return`<${this.typeInfo.getTypeName()}>`}}p4._id=0;class bU extends p4{constructor(){super(new Y4("void",null),null)}toString(){return"void"}}bU.void=new bU;class x$ extends p4{constructor($){super(new gU("pointer",$.typeInfo,null),null),this.reference=$}clone(){return this}setDataValue($,Q,J,Z){this.reference.setDataValue($,Q,J,Z)}getSubData($,Q,J){return Q?this.reference.getSubData($,Q,J):this}toString(){return`&${this.reference.toString()}`}}class g extends p4{constructor($,Q,J=null){super(Q,J),$ instanceof Int32Array||$ instanceof Uint32Array||$ instanceof Float32Array?this.data=$:this.typeInfo.name==="x32"?$-Math.floor($)!==0?this.data=new Float32Array([$]):this.data=$>=0?new Uint32Array([$]):new Int32Array([$]):this.typeInfo.name==="i32"||this.typeInfo.name==="bool"?this.data=new Int32Array([$]):this.typeInfo.name==="u32"?this.data=new Uint32Array([$]):this.typeInfo.name==="f32"||this.typeInfo.name==="f16"?this.data=new Float32Array([$]):console.error("ScalarData2: Invalid type",Q)}clone(){if(this.data instanceof Float32Array)return new g(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new g(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new g(new Uint32Array(this.data),this.typeInfo,null);throw"ScalarData: Invalid data type"}get value(){return this.data[0]}set value($){this.data[0]=$}setDataValue($,Q,J,Z){if(J)return void console.error("SetDataValue: Scalar data does not support postfix",J);if(!(Q instanceof g))return void console.error("SetDataValue: Invalid value",Q);let X=Q.data[0];this.typeInfo.name==="i32"||this.typeInfo.name==="u32"?X=Math.floor(X):this.typeInfo.name==="bool"&&(X=X?1:0),this.data[0]=X}getSubData($,Q,J){return Q?(console.error("getSubData: Scalar data does not support postfix",Q),null):this}toString(){return`${this.value}`}}function uq1($,Q,J){let Z=Q.length;return Z===2?J==="f32"?new E(new Float32Array(Q),$.getTypeInfo("vec2f")):J==="i32"||J==="bool"?new E(new Int32Array(Q),$.getTypeInfo("vec2i")):J==="u32"?new E(new Uint32Array(Q),$.getTypeInfo("vec2u")):J==="f16"?new E(new Float32Array(Q),$.getTypeInfo("vec2h")):(console.error(`getSubData: Unknown format ${J}`),null):Z===3?J==="f32"?new E(new Float32Array(Q),$.getTypeInfo("vec3f")):J==="i32"||J==="bool"?new E(new Int32Array(Q),$.getTypeInfo("vec3i")):J==="u32"?new E(new Uint32Array(Q),$.getTypeInfo("vec3u")):J==="f16"?new E(new Float32Array(Q),$.getTypeInfo("vec3h")):(console.error(`getSubData: Unknown format ${J}`),null):Z===4?J==="f32"?new E(new Float32Array(Q),$.getTypeInfo("vec4f")):J==="i32"||J==="bool"?new E(new Int32Array(Q),$.getTypeInfo("vec4i")):J==="u32"?new E(new Uint32Array(Q),$.getTypeInfo("vec4u")):J==="f16"?new E(new Float32Array(Q),$.getTypeInfo("vec4h")):(console.error(`getSubData: Unknown format ${J}`),null):(console.error(`getSubData: Invalid vector size ${Q.length}`),null)}class E extends p4{constructor($,Q,J=null){if(super(Q,J),$ instanceof Float32Array||$ instanceof Uint32Array||$ instanceof Int32Array)this.data=$;else{let Z=this.typeInfo.name;Z==="vec2f"||Z==="vec3f"||Z==="vec4f"?this.data=new Float32Array($):Z==="vec2i"||Z==="vec3i"||Z==="vec4i"?this.data=new Int32Array($):Z==="vec2u"||Z==="vec3u"||Z==="vec4u"?this.data=new Uint32Array($):Z==="vec2h"||Z==="vec3h"||Z==="vec4h"?this.data=new Float32Array($):Z==="vec2b"||Z==="vec3b"||Z==="vec4b"?this.data=new Int32Array($):Z==="vec2"||Z==="vec3"||Z==="vec4"?this.data=new Float32Array($):console.error(`VectorData: Invalid type ${Z}`)}}clone(){if(this.data instanceof Float32Array)return new E(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new E(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new E(new Uint32Array(this.data),this.typeInfo,null);throw"VectorData: Invalid data type"}setDataValue($,Q,J,Z){J instanceof a9?console.error("TODO: Set vector postfix"):Q instanceof E?this.data=Q.data:console.error("SetDataValue: Invalid value",Q)}getSubData($,Q,J){if(Q===null)return this;let Z=$.getTypeInfo("f32");if(this.typeInfo instanceof o9)Z=this.typeInfo.format||Z;else{let W=this.typeInfo.name;W==="vec2f"||W==="vec3f"||W==="vec4f"?Z=$.getTypeInfo("f32"):W==="vec2i"||W==="vec3i"||W==="vec4i"?Z=$.getTypeInfo("i32"):W==="vec2b"||W==="vec3b"||W==="vec4b"?Z=$.getTypeInfo("bool"):W==="vec2u"||W==="vec3u"||W==="vec4u"?Z=$.getTypeInfo("u32"):W==="vec2h"||W==="vec3h"||W==="vec4h"?Z=$.getTypeInfo("f16"):console.error(`GetSubData: Unknown type ${W}`)}let X=this;for(;Q!==null&&X!==null;){if(Q instanceof g$){let W=Q.index,H=-1;if(W instanceof T5){if(!(W.value instanceof g))return console.error(`GetSubData: Invalid array index ${W.value}`),null;H=W.value.value}else{let F=$.evalExpression(W,J);if(!(F instanceof g))return console.error("GetSubData: Unknown index type",W),null;H=F.value}if(H<0||H>=X.data.length)return console.error("GetSubData: Index out of range",H),null;if(X.data instanceof Float32Array){let F=new Float32Array(X.data.buffer,X.data.byteOffset+4*H,1);return new g(F,Z)}if(X.data instanceof Int32Array){let F=new Int32Array(X.data.buffer,X.data.byteOffset+4*H,1);return new g(F,Z)}if(X.data instanceof Uint32Array){let F=new Uint32Array(X.data.buffer,X.data.byteOffset+4*H,1);return new g(F,Z)}throw"GetSubData: Invalid data type"}if(!(Q instanceof a9))return console.error("GetSubData: Unknown postfix",Q),null;{let W=Q.value.toLowerCase();if(W.length===1){let F=0;if(W==="x"||W==="r")F=0;else if(W==="y"||W==="g")F=1;else if(W==="z"||W==="b")F=2;else{if(W!=="w"&&W!=="a")return console.error(`GetSubData: Unknown member ${W}`),null;F=3}if(this.data instanceof Float32Array){let V=new Float32Array(this.data.buffer,this.data.byteOffset+4*F,1);return new g(V,Z,this)}if(this.data instanceof Int32Array){let V=new Int32Array(this.data.buffer,this.data.byteOffset+4*F,1);return new g(V,Z,this)}if(this.data instanceof Uint32Array){let V=new Uint32Array(this.data.buffer,this.data.byteOffset+4*F,1);return new g(V,Z,this)}}let H=[];for(let F of W)F==="x"||F==="r"?H.push(this.data[0]):F==="y"||F==="g"?H.push(this.data[1]):F==="z"||F==="b"?H.push(this.data[2]):F==="w"||F==="a"?H.push(this.data[3]):console.error(`GetDataValue: Unknown member ${F}`);X=uq1($,H,Z.name)}Q=Q.postfix}return X}toString(){let $=`${this.data[0]}`;for(let Q=1;Q<this.data.length;++Q)$+=`, ${this.data[Q]}`;return $}}class f1 extends p4{constructor($,Q,J=null){super(Q,J),$ instanceof Float32Array?this.data=$:this.data=new Float32Array($)}clone(){return new f1(new Float32Array(this.data),this.typeInfo,null)}setDataValue($,Q,J,Z){J instanceof a9?console.error("TODO: Set matrix postfix"):Q instanceof f1?this.data=Q.data:console.error("SetDataValue: Invalid value",Q)}getSubData($,Q,J){if(Q===null)return this;let Z=this.typeInfo.name;if($.getTypeInfo("f32"),this.typeInfo instanceof o9)this.typeInfo.format;else if(Z.endsWith("f"))$.getTypeInfo("f32");else if(Z.endsWith("i"))$.getTypeInfo("i32");else if(Z.endsWith("u"))$.getTypeInfo("u32");else{if(!Z.endsWith("h"))return console.error(`GetDataValue: Unknown type ${Z}`),null;$.getTypeInfo("f16")}if(Q instanceof g$){let X=Q.index,W=-1;if(X instanceof T5){if(!(X.value instanceof g))return console.error(`GetDataValue: Invalid array index ${X.value}`),null;W=X.value.value}else{let V=$.evalExpression(X,J);if(!(V instanceof g))return console.error("GetDataValue: Unknown index type",X),null;W=V.value}if(W<0||W>=this.data.length)return console.error("GetDataValue: Index out of range",W),null;let H=Z.endsWith("h")?"h":"f",F;if(Z==="mat2x2"||Z==="mat2x2f"||Z==="mat2x2h"||Z==="mat3x2"||Z==="mat3x2f"||Z==="mat3x2h"||Z==="mat4x2"||Z==="mat4x2f"||Z==="mat4x2h")F=new E(new Float32Array(this.data.buffer,this.data.byteOffset+2*W*4,2),$.getTypeInfo(`vec2${H}`));else if(Z==="mat2x3"||Z==="mat2x3f"||Z==="mat2x3h"||Z==="mat3x3"||Z==="mat3x3f"||Z==="mat3x3h"||Z==="mat4x3"||Z==="mat4x3f"||Z==="mat4x3h")F=new E(new Float32Array(this.data.buffer,this.data.byteOffset+3*W*4,3),$.getTypeInfo(`vec3${H}`));else{if(Z!=="mat2x4"&&Z!=="mat2x4f"&&Z!=="mat2x4h"&&Z!=="mat3x4"&&Z!=="mat3x4f"&&Z!=="mat3x4h"&&Z!=="mat4x4"&&Z!=="mat4x4f"&&Z!=="mat4x4h")return console.error(`GetDataValue: Unknown type ${Z}`),null;F=new E(new Float32Array(this.data.buffer,this.data.byteOffset+4*W*4,4),$.getTypeInfo(`vec4${H}`))}return Q.postfix?F.getSubData($,Q.postfix,J):F}return console.error("GetDataValue: Invalid postfix",Q),null}toString(){let $=`${this.data[0]}`;for(let Q=1;Q<this.data.length;++Q)$+=`, ${this.data[Q]}`;return $}}class V5 extends p4{constructor($,Q,J=0,Z=null){super(Q,Z),this.buffer=$ instanceof ArrayBuffer?$:$.buffer,this.offset=J}clone(){let $=new Uint8Array(new Uint8Array(this.buffer,this.offset,this.typeInfo.size));return new V5($.buffer,this.typeInfo,0,null)}setDataValue($,Q,J,Z){if(Q===null)return void console.log("setDataValue: NULL data.");let X=this.offset,W=this.typeInfo;for(;J;){if(J instanceof g$)if(W instanceof B8){let H=J.index;if(H instanceof T5){if(!(H.value instanceof g))return void console.error(`SetDataValue: Invalid index type ${H.value}`);X+=H.value.value*W.stride}else{let F=$.evalExpression(H,Z);if(!(F instanceof g))return void console.error("SetDataValue: Unknown index type",H);X+=F.value*W.stride}W=W.format}else console.error(`SetDataValue: Type ${W.getTypeName()} is not an array`);else{if(!(J instanceof a9))return void console.error("SetDataValue: Unknown postfix type",J);{let H=J.value;if(W instanceof z8){let F=!1;for(let V of W.members)if(V.name===H){X+=V.offset,W=V.type,F=!0;break}if(!F)return void console.error(`SetDataValue: Member ${H} not found`)}else if(W instanceof Y4){let F=W.getTypeName(),V=0;if(H==="x"||H==="r")V=0;else if(H==="y"||H==="g")V=1;else if(H==="z"||H==="b")V=2;else{if(H!=="w"&&H!=="a")return void console.error(`SetDataValue: Unknown member ${H}`);V=3}if(!(Q instanceof g))return void console.error("SetDataValue: Invalid value",Q);let D=Q.value;return F==="vec2f"?void(new Float32Array(this.buffer,X,2)[V]=D):F==="vec3f"?void(new Float32Array(this.buffer,X,3)[V]=D):F==="vec4f"?void(new Float32Array(this.buffer,X,4)[V]=D):F==="vec2i"?void(new Int32Array(this.buffer,X,2)[V]=D):F==="vec3i"?void(new Int32Array(this.buffer,X,3)[V]=D):F==="vec4i"?void(new Int32Array(this.buffer,X,4)[V]=D):F==="vec2u"?void(new Uint32Array(this.buffer,X,2)[V]=D):F==="vec3u"?void(new Uint32Array(this.buffer,X,3)[V]=D):F==="vec4u"?void(new Uint32Array(this.buffer,X,4)[V]=D):void console.error(`SetDataValue: Type ${F} is not a struct`)}}}J=J.postfix}this.setData($,Q,W,X,Z)}setData($,Q,J,Z,X){let W=J.getTypeName();if(W!=="f32"&&W!=="f16")if(W!=="i32"&&W!=="atomic<i32>"&&W!=="x32")if(W!=="u32"&&W!=="atomic<u32>")if(W!=="bool"){if(W==="vec2f"||W==="vec2h"){let H=new Float32Array(this.buffer,Z,2);return void(Q instanceof E?(H[0]=Q.data[0],H[1]=Q.data[1]):(H[0]=Q[0],H[1]=Q[1]))}if(W==="vec3f"||W==="vec3h"){let H=new Float32Array(this.buffer,Z,3);return void(Q instanceof E?(H[0]=Q.data[0],H[1]=Q.data[1],H[2]=Q.data[2]):(H[0]=Q[0],H[1]=Q[1],H[2]=Q[2]))}if(W==="vec4f"||W==="vec4h"){let H=new Float32Array(this.buffer,Z,4);return void(Q instanceof E?(H[0]=Q.data[0],H[1]=Q.data[1],H[2]=Q.data[2],H[3]=Q.data[3]):(H[0]=Q[0],H[1]=Q[1],H[2]=Q[2],H[3]=Q[3]))}if(W==="vec2i"){let H=new Int32Array(this.buffer,Z,2);return void(Q instanceof E?(H[0]=Q.data[0],H[1]=Q.data[1]):(H[0]=Q[0],H[1]=Q[1]))}if(W==="vec3i"){let H=new Int32Array(this.buffer,Z,3);return void(Q instanceof E?(H[0]=Q.data[0],H[1]=Q.data[1],H[2]=Q.data[2]):(H[0]=Q[0],H[1]=Q[1],H[2]=Q[2]))}if(W==="vec4i"){let H=new Int32Array(this.buffer,Z,4);return void(Q instanceof E?(H[0]=Q.data[0],H[1]=Q.data[1],H[2]=Q.data[2],H[3]=Q.data[3]):(H[0]=Q[0],H[1]=Q[1],H[2]=Q[2],H[3]=Q[3]))}if(W==="vec2u"){let H=new Uint32Array(this.buffer,Z,2);return void(Q instanceof E?(H[0]=Q.data[0],H[1]=Q.data[1]):(H[0]=Q[0],H[1]=Q[1]))}if(W==="vec3u"){let H=new Uint32Array(this.buffer,Z,3);return void(Q instanceof E?(H[0]=Q.data[0],H[1]=Q.data[1],H[2]=Q.data[2]):(H[0]=Q[0],H[1]=Q[1],H[2]=Q[2]))}if(W==="vec4u"){let H=new Uint32Array(this.buffer,Z,4);return void(Q instanceof E?(H[0]=Q.data[0],H[1]=Q.data[1],H[2]=Q.data[2],H[3]=Q.data[3]):(H[0]=Q[0],H[1]=Q[1],H[2]=Q[2],H[3]=Q[3]))}if(W==="vec2b"){let H=new Uint32Array(this.buffer,Z,2);return void(Q instanceof E?(H[0]=Q.data[0],H[1]=Q.data[1]):(H[0]=Q[0],H[1]=Q[1]))}if(W==="vec3b"){let H=new Uint32Array(this.buffer,Z,3);return void(Q instanceof E?(H[0]=Q.data[0],H[1]=Q.data[1],H[2]=Q.data[2]):(H[0]=Q[0],H[1]=Q[1],H[2]=Q[2]))}if(W==="vec4b"){let H=new Uint32Array(this.buffer,Z,4);return void(Q instanceof E?(H[0]=Q.data[0],H[1]=Q.data[1],H[2]=Q.data[2],H[3]=Q.data[3]):(H[0]=Q[0],H[1]=Q[1],H[2]=Q[2],H[3]=Q[3]))}if(W==="mat2x2f"||W==="mat2x2h"){let H=new Float32Array(this.buffer,Z,4);return void(Q instanceof f1?(H[0]=Q.data[0],H[1]=Q.data[1],H[2]=Q.data[2],H[3]=Q.data[3]):(H[0]=Q[0],H[1]=Q[1],H[2]=Q[2],H[3]=Q[3]))}if(W==="mat2x3f"||W==="mat2x3h"){let H=new Float32Array(this.buffer,Z,6);return void(Q instanceof f1?(H[0]=Q.data[0],H[1]=Q.data[1],H[2]=Q.data[2],H[3]=Q.data[3],H[4]=Q.data[4],H[5]=Q.data[5]):(H[0]=Q[0],H[1]=Q[1],H[2]=Q[2],H[3]=Q[3],H[4]=Q[4],H[5]=Q[5]))}if(W==="mat2x4f"||W==="mat2x4h"){let H=new Float32Array(this.buffer,Z,8);return void(Q instanceof f1?(H[0]=Q.data[0],H[1]=Q.data[1],H[2]=Q.data[2],H[3]=Q.data[3],H[4]=Q.data[4],H[5]=Q.data[5],H[6]=Q.data[6],H[7]=Q.data[7]):(H[0]=Q[0],H[1]=Q[1],H[2]=Q[2],H[3]=Q[3],H[4]=Q[4],H[5]=Q[5],H[6]=Q[6],H[7]=Q[7]))}if(W==="mat3x2f"||W==="mat3x2h"){let H=new Float32Array(this.buffer,Z,6);return void(Q instanceof f1?(H[0]=Q.data[0],H[1]=Q.data[1],H[2]=Q.data[2],H[3]=Q.data[3],H[4]=Q.data[4],H[5]=Q.data[5]):(H[0]=Q[0],H[1]=Q[1],H[2]=Q[2],H[3]=Q[3],H[4]=Q[4],H[5]=Q[5]))}if(W==="mat3x3f"||W==="mat3x3h"){let H=new Float32Array(this.buffer,Z,9);return void(Q instanceof f1?(H[0]=Q.data[0],H[1]=Q.data[1],H[2]=Q.data[2],H[3]=Q.data[3],H[4]=Q.data[4],H[5]=Q.data[5],H[6]=Q.data[6],H[7]=Q.data[7],H[8]=Q.data[8]):(H[0]=Q[0],H[1]=Q[1],H[2]=Q[2],H[3]=Q[3],H[4]=Q[4],H[5]=Q[5],H[6]=Q[6],H[7]=Q[7],H[8]=Q[8]))}if(W==="mat3x4f"||W==="mat3x4h"){let H=new Float32Array(this.buffer,Z,12);return void(Q instanceof f1?(H[0]=Q.data[0],H[1]=Q.data[1],H[2]=Q.data[2],H[3]=Q.data[3],H[4]=Q.data[4],H[5]=Q.data[5],H[6]=Q.data[6],H[7]=Q.data[7],H[8]=Q.data[8],H[9]=Q.data[9],H[10]=Q.data[10],H[11]=Q.data[11]):(H[0]=Q[0],H[1]=Q[1],H[2]=Q[2],H[3]=Q[3],H[4]=Q[4],H[5]=Q[5],H[6]=Q[6],H[7]=Q[7],H[8]=Q[8],H[9]=Q[9],H[10]=Q[10],H[11]=Q[11]))}if(W==="mat4x2f"||W==="mat4x2h"){let H=new Float32Array(this.buffer,Z,8);return void(Q instanceof f1?(H[0]=Q.data[0],H[1]=Q.data[1],H[2]=Q.data[2],H[3]=Q.data[3],H[4]=Q.data[4],H[5]=Q.data[5],H[6]=Q.data[6],H[7]=Q.data[7]):(H[0]=Q[0],H[1]=Q[1],H[2]=Q[2],H[3]=Q[3],H[4]=Q[4],H[5]=Q[5],H[6]=Q[6],H[7]=Q[7]))}if(W==="mat4x3f"||W==="mat4x3h"){let H=new Float32Array(this.buffer,Z,12);return void(Q instanceof f1?(H[0]=Q.data[0],H[1]=Q.data[1],H[2]=Q.data[2],H[3]=Q.data[3],H[4]=Q.data[4],H[5]=Q.data[5],H[6]=Q.data[6],H[7]=Q.data[7],H[8]=Q.data[8],H[9]=Q.data[9],H[10]=Q.data[10],H[11]=Q.data[11]):(H[0]=Q[0],H[1]=Q[1],H[2]=Q[2],H[3]=Q[3],H[4]=Q[4],H[5]=Q[5],H[6]=Q[6],H[7]=Q[7],H[8]=Q[8],H[9]=Q[9],H[10]=Q[10],H[11]=Q[11]))}if(W==="mat4x4f"||W==="mat4x4h"){let H=new Float32Array(this.buffer,Z,16);return void(Q instanceof f1?(H[0]=Q.data[0],H[1]=Q.data[1],H[2]=Q.data[2],H[3]=Q.data[3],H[4]=Q.data[4],H[5]=Q.data[5],H[6]=Q.data[6],H[7]=Q.data[7],H[8]=Q.data[8],H[9]=Q.data[9],H[10]=Q.data[10],H[11]=Q.data[11],H[12]=Q.data[12],H[13]=Q.data[13],H[14]=Q.data[14],H[15]=Q.data[15]):(H[0]=Q[0],H[1]=Q[1],H[2]=Q[2],H[3]=Q[3],H[4]=Q[4],H[5]=Q[5],H[6]=Q[6],H[7]=Q[7],H[8]=Q[8],H[9]=Q[9],H[10]=Q[10],H[11]=Q[11],H[12]=Q[12],H[13]=Q[13],H[14]=Q[14],H[15]=Q[15]))}if(Q instanceof V5){if(J===Q.typeInfo)return void new Uint8Array(this.buffer,Z,Q.buffer.byteLength).set(new Uint8Array(Q.buffer));console.error("SetDataValue: Type mismatch",W,Q.typeInfo.getTypeName())}else console.error(`SetData: Unknown type ${W}`)}else Q instanceof g&&(new Int32Array(this.buffer,Z,1)[0]=Q.value);else Q instanceof g&&(new Uint32Array(this.buffer,Z,1)[0]=Q.value);else Q instanceof g&&(new Int32Array(this.buffer,Z,1)[0]=Q.value);else Q instanceof g&&(new Float32Array(this.buffer,Z,1)[0]=Q.value)}getSubData($,Q,J){var Z,X,W;if(Q===null)return this;let H=this.offset,F=this.typeInfo;for(;Q;){if(Q instanceof g$){let D=Q.index,C=D instanceof i4?$.evalExpression(D,J):D,z=0;if(C instanceof g?z=C.value:typeof C=="number"?z=C:console.error("GetDataValue: Invalid index type",D),F instanceof B8)H+=z*F.stride,F=F.format;else{let R=F.getTypeName();R==="mat4x4"||R==="mat4x4f"||R==="mat4x4h"?(H+=16*z,F=$.getTypeInfo("vec4f")):console.error(`getDataValue: Type ${F.getTypeName()} is not an array`)}}else{if(!(Q instanceof a9))return console.error("GetDataValue: Unknown postfix type",Q),null;{let D=Q.value;if(F instanceof z8){let C=!1;for(let z of F.members)if(z.name===D){H+=z.offset,F=z.type,C=!0;break}if(!C)return console.error(`GetDataValue: Member ${D} not found`),null}else if(F instanceof Y4){let C=F.getTypeName();if(C==="vec2f"||C==="vec3f"||C==="vec4f"||C==="vec2i"||C==="vec3i"||C==="vec4i"||C==="vec2u"||C==="vec3u"||C==="vec4u"||C==="vec2b"||C==="vec3b"||C==="vec4b"||C==="vec2h"||C==="vec3h"||C==="vec4h"||C==="vec2"||C==="vec3"||C==="vec4"){if(D.length>0&&D.length<5){let z="f",R=[];for(let k=0;k<D.length;++k){let P=D[k].toLowerCase(),S=0;if(P==="x"||P==="r")S=0;else if(P==="y"||P==="g")S=1;else if(P==="z"||P==="b")S=2;else{if(P!=="w"&&P!=="a")return console.error(`Unknown member ${D}`),null;S=3}if(D.length===1){if(C.endsWith("f"))return this.buffer.byteLength<H+4*S+4?(console.log("Insufficient buffer data"),null):new g(new Float32Array(this.buffer,H+4*S,1),$.getTypeInfo("f32"),this);if(C.endsWith("h"))return new g(new Float32Array(this.buffer,H+4*S,1),$.getTypeInfo("f16"),this);if(C.endsWith("i"))return new g(new Int32Array(this.buffer,H+4*S,1),$.getTypeInfo("i32"),this);if(C.endsWith("b"))return new g(new Int32Array(this.buffer,H+4*S,1),$.getTypeInfo("bool"),this);if(C.endsWith("u"))return new g(new Uint32Array(this.buffer,H+4*S,1),$.getTypeInfo("i32"),this)}if(C==="vec2f")R.push(new Float32Array(this.buffer,H,2)[S]);else if(C==="vec3f"){if(H+12>=this.buffer.byteLength)return console.log("Insufficient buffer data"),null;let T=new Float32Array(this.buffer,H,3);R.push(T[S])}else if(C==="vec4f")R.push(new Float32Array(this.buffer,H,4)[S]);else if(C==="vec2i")z="i",R.push(new Int32Array(this.buffer,H,2)[S]);else if(C==="vec3i")z="i",R.push(new Int32Array(this.buffer,H,3)[S]);else if(C==="vec4i")z="i",R.push(new Int32Array(this.buffer,H,4)[S]);else if(C==="vec2u"){z="u";let T=new Uint32Array(this.buffer,H,2);R.push(T[S])}else C==="vec3u"?(z="u",R.push(new Uint32Array(this.buffer,H,3)[S])):C==="vec4u"&&(z="u",R.push(new Uint32Array(this.buffer,H,4)[S]))}return R.length===2?F=$.getTypeInfo(`vec2${z}`):R.length===3?F=$.getTypeInfo(`vec3${z}`):R.length===4?F=$.getTypeInfo(`vec4${z}`):console.error(`GetDataValue: Invalid vector length ${R.length}`),new E(R,F,null)}return console.error(`GetDataValue: Unknown member ${D}`),null}return console.error(`GetDataValue: Type ${C} is not a struct`),null}}}Q=Q.postfix}let V=F.getTypeName();return V==="f32"?new g(new Float32Array(this.buffer,H,1),F,this):V==="i32"?new g(new Int32Array(this.buffer,H,1),F,this):V==="u32"?new g(new Uint32Array(this.buffer,H,1),F,this):V==="vec2f"?new E(new Float32Array(this.buffer,H,2),F,this):V==="vec3f"?new E(new Float32Array(this.buffer,H,3),F,this):V==="vec4f"?new E(new Float32Array(this.buffer,H,4),F,this):V==="vec2i"?new E(new Int32Array(this.buffer,H,2),F,this):V==="vec3i"?new E(new Int32Array(this.buffer,H,3),F,this):V==="vec4i"?new E(new Int32Array(this.buffer,H,4),F,this):V==="vec2u"?new E(new Uint32Array(this.buffer,H,2),F,this):V==="vec3u"?new E(new Uint32Array(this.buffer,H,3),F,this):V==="vec4u"?new E(new Uint32Array(this.buffer,H,4),F,this):F instanceof o9&&F.name==="atomic"?((Z=F.format)===null||Z===void 0?void 0:Z.name)==="u32"?new g(new Uint32Array(this.buffer,H,1)[0],F.format,this):((X=F.format)===null||X===void 0?void 0:X.name)==="i32"?new g(new Int32Array(this.buffer,H,1)[0],F.format,this):(console.error(`GetDataValue: Invalid atomic format ${(W=F.format)===null||W===void 0?void 0:W.name}`),null):new V5(this.buffer,F,H,this)}toString(){let $="";if(this.typeInfo instanceof B8)if(this.typeInfo.format.name==="f32"){let Q=new Float32Array(this.buffer,this.offset);$=`[${Q[0]}`;for(let J=1;J<Q.length;++J)$+=`, ${Q[J]}`}else if(this.typeInfo.format.name==="i32"){let Q=new Int32Array(this.buffer,this.offset);$=`[${Q[0]}`;for(let J=1;J<Q.length;++J)$+=`, ${Q[J]}`}else if(this.typeInfo.format.name==="u32"){let Q=new Uint32Array(this.buffer,this.offset);$=`[${Q[0]}`;for(let J=1;J<Q.length;++J)$+=`, ${Q[J]}`}else if(this.typeInfo.format.name==="vec2f"){let Q=new Float32Array(this.buffer,this.offset);$=`[${Q[0]}, ${Q[1]}]`;for(let J=1;J<Q.length/2;++J)$+=`, [${Q[2*J]}, ${Q[2*J+1]}]`}else if(this.typeInfo.format.name==="vec3f"){let Q=new Float32Array(this.buffer,this.offset);$=`[${Q[0]}, ${Q[1]}, ${Q[2]}]`;for(let J=4;J<Q.length;J+=4)$+=`, [${Q[J]}, ${Q[J+1]}, ${Q[J+2]}]`}else if(this.typeInfo.format.name==="vec4f"){let Q=new Float32Array(this.buffer,this.offset);$=`[${Q[0]}, ${Q[1]}, ${Q[2]}, ${Q[3]}]`;for(let J=4;J<Q.length;J+=4)$+=`, [${Q[J]}, ${Q[J+1]}, ${Q[J+2]}, ${Q[J+3]}]`}else $="[...]";else this.typeInfo instanceof z8?$+="{...}":$="[...]";return $}}class A8 extends p4{constructor($,Q,J,Z){super(Q,null),this.data=$,this.descriptor=J,this.view=Z}clone(){return new A8(this.data,this.typeInfo,this.descriptor,this.view)}get width(){var $,Q;let J=this.descriptor.size;return J instanceof Array&&J.length>0?($=J[0])!==null&&$!==void 0?$:0:J instanceof Object&&(Q=J.width)!==null&&Q!==void 0?Q:0}get height(){var $,Q;let J=this.descriptor.size;return J instanceof Array&&J.length>1?($=J[1])!==null&&$!==void 0?$:0:J instanceof Object&&(Q=J.height)!==null&&Q!==void 0?Q:0}get depthOrArrayLayers(){var $,Q;let J=this.descriptor.size;return J instanceof Array&&J.length>2?($=J[2])!==null&&$!==void 0?$:0:J instanceof Object&&(Q=J.depthOrArrayLayers)!==null&&Q!==void 0?Q:0}get format(){var $;return this.descriptor&&($=this.descriptor.format)!==null&&$!==void 0?$:"rgba8unorm"}get sampleCount(){var $;return this.descriptor&&($=this.descriptor.sampleCount)!==null&&$!==void 0?$:1}get mipLevelCount(){var $;return this.descriptor&&($=this.descriptor.mipLevelCount)!==null&&$!==void 0?$:1}get dimension(){var $;return this.descriptor&&($=this.descriptor.dimension)!==null&&$!==void 0?$:"2d"}getMipLevelSize($){if($>=this.mipLevelCount)return[0,0,0];let Q=[this.width,this.height,this.depthOrArrayLayers];for(let J=0;J<Q.length;++J)Q[J]=Math.max(1,Q[J]>>$);return Q}get texelByteSize(){let $=this.format,Q=jP[$];return Q?Q.isDepthStencil?4:Q.bytesPerBlock:0}get bytesPerRow(){return this.width*this.texelByteSize}get isDepthStencil(){let $=this.format,Q=jP[$];return!!Q&&Q.isDepthStencil}getGpuSize(){let $=this.format,Q=jP[$],J=this.width;if(!$||J<=0||!Q)return-1;let Z=this.height,X=this.depthOrArrayLayers,W=this.dimension;return J/Q.blockWidth*(W==="1d"?1:Z/Q.blockHeight)*Q.bytesPerBlock*X}getPixel($,Q,J=0,Z=0){let X=this.texelByteSize,W=this.bytesPerRow,H=this.height,F=this.data[Z];return pq1(new Uint8Array(F),$,Q,J,Z,H,W,X,this.format)}setPixel($,Q,J,Z,X){let W=this.texelByteSize,H=this.bytesPerRow,F=this.height,V=this.data[Z];(function(D,C,z,R,k,P,S,T,_,v){let L=R*(S>>=k)*(P>>=k)+z*S+C*T;switch(_){case"r8unorm":return void G0(D,L,"8unorm",1,v);case"r8snorm":return void G0(D,L,"8snorm",1,v);case"r8uint":return void G0(D,L,"8uint",1,v);case"r8sint":return void G0(D,L,"8sint",1,v);case"rg8unorm":return void G0(D,L,"8unorm",2,v);case"rg8snorm":return void G0(D,L,"8snorm",2,v);case"rg8uint":return void G0(D,L,"8uint",2,v);case"rg8sint":return void G0(D,L,"8sint",2,v);case"rgba8unorm-srgb":case"rgba8unorm":case"bgra8unorm-srgb":case"bgra8unorm":return void G0(D,L,"8unorm",4,v);case"rgba8snorm":return void G0(D,L,"8snorm",4,v);case"rgba8uint":return void G0(D,L,"8uint",4,v);case"rgba8sint":return void G0(D,L,"8sint",4,v);case"r16uint":return void G0(D,L,"16uint",1,v);case"r16sint":return void G0(D,L,"16sint",1,v);case"r16float":return void G0(D,L,"16float",1,v);case"rg16uint":return void G0(D,L,"16uint",2,v);case"rg16sint":return void G0(D,L,"16sint",2,v);case"rg16float":return void G0(D,L,"16float",2,v);case"rgba16uint":return void G0(D,L,"16uint",4,v);case"rgba16sint":return void G0(D,L,"16sint",4,v);case"rgba16float":return void G0(D,L,"16float",4,v);case"r32uint":return void G0(D,L,"32uint",1,v);case"r32sint":return void G0(D,L,"32sint",1,v);case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return void G0(D,L,"32float",1,v);case"rg32uint":return void G0(D,L,"32uint",2,v);case"rg32sint":return void G0(D,L,"32sint",2,v);case"rg32float":return void G0(D,L,"32float",2,v);case"rgba32uint":return void G0(D,L,"32uint",4,v);case"rgba32sint":return void G0(D,L,"32sint",4,v);case"rgba32float":return void G0(D,L,"32float",4,v);case"rg11b10ufloat":console.error("TODO: rg11b10ufloat not supported for writing")}})(new Uint8Array(V),$,Q,J,Z,F,H,W,this.format,X)}}(($)=>{$[$.token=0]="token",$[$.keyword=1]="keyword",$[$.reserved=2]="reserved"})(y||(y={}));class b{constructor($,Q,J){this.name=$,this.type=Q,this.rule=J}toString(){return this.name}}class I{}d=I,I.none=new b("",y.reserved,""),I.eof=new b("EOF",y.token,""),I.reserved={asm:new b("asm",y.reserved,"asm"),bf16:new b("bf16",y.reserved,"bf16"),do:new b("do",y.reserved,"do"),enum:new b("enum",y.reserved,"enum"),f16:new b("f16",y.reserved,"f16"),f64:new b("f64",y.reserved,"f64"),handle:new b("handle",y.reserved,"handle"),i8:new b("i8",y.reserved,"i8"),i16:new b("i16",y.reserved,"i16"),i64:new b("i64",y.reserved,"i64"),mat:new b("mat",y.reserved,"mat"),premerge:new b("premerge",y.reserved,"premerge"),regardless:new b("regardless",y.reserved,"regardless"),typedef:new b("typedef",y.reserved,"typedef"),u8:new b("u8",y.reserved,"u8"),u16:new b("u16",y.reserved,"u16"),u64:new b("u64",y.reserved,"u64"),unless:new b("unless",y.reserved,"unless"),using:new b("using",y.reserved,"using"),vec:new b("vec",y.reserved,"vec"),void:new b("void",y.reserved,"void")},I.keywords={array:new b("array",y.keyword,"array"),atomic:new b("atomic",y.keyword,"atomic"),bool:new b("bool",y.keyword,"bool"),f32:new b("f32",y.keyword,"f32"),i32:new b("i32",y.keyword,"i32"),mat2x2:new b("mat2x2",y.keyword,"mat2x2"),mat2x3:new b("mat2x3",y.keyword,"mat2x3"),mat2x4:new b("mat2x4",y.keyword,"mat2x4"),mat3x2:new b("mat3x2",y.keyword,"mat3x2"),mat3x3:new b("mat3x3",y.keyword,"mat3x3"),mat3x4:new b("mat3x4",y.keyword,"mat3x4"),mat4x2:new b("mat4x2",y.keyword,"mat4x2"),mat4x3:new b("mat4x3",y.keyword,"mat4x3"),mat4x4:new b("mat4x4",y.keyword,"mat4x4"),ptr:new b("ptr",y.keyword,"ptr"),sampler:new b("sampler",y.keyword,"sampler"),sampler_comparison:new b("sampler_comparison",y.keyword,"sampler_comparison"),struct:new b("struct",y.keyword,"struct"),texture_1d:new b("texture_1d",y.keyword,"texture_1d"),texture_2d:new b("texture_2d",y.keyword,"texture_2d"),texture_2d_array:new b("texture_2d_array",y.keyword,"texture_2d_array"),texture_3d:new b("texture_3d",y.keyword,"texture_3d"),texture_cube:new b("texture_cube",y.keyword,"texture_cube"),texture_cube_array:new b("texture_cube_array",y.keyword,"texture_cube_array"),texture_multisampled_2d:new b("texture_multisampled_2d",y.keyword,"texture_multisampled_2d"),texture_storage_1d:new b("texture_storage_1d",y.keyword,"texture_storage_1d"),texture_storage_2d:new b("texture_storage_2d",y.keyword,"texture_storage_2d"),texture_storage_2d_array:new b("texture_storage_2d_array",y.keyword,"texture_storage_2d_array"),texture_storage_3d:new b("texture_storage_3d",y.keyword,"texture_storage_3d"),texture_depth_2d:new b("texture_depth_2d",y.keyword,"texture_depth_2d"),texture_depth_2d_array:new b("texture_depth_2d_array",y.keyword,"texture_depth_2d_array"),texture_depth_cube:new b("texture_depth_cube",y.keyword,"texture_depth_cube"),texture_depth_cube_array:new b("texture_depth_cube_array",y.keyword,"texture_depth_cube_array"),texture_depth_multisampled_2d:new b("texture_depth_multisampled_2d",y.keyword,"texture_depth_multisampled_2d"),texture_external:new b("texture_external",y.keyword,"texture_external"),u32:new b("u32",y.keyword,"u32"),vec2:new b("vec2",y.keyword,"vec2"),vec3:new b("vec3",y.keyword,"vec3"),vec4:new b("vec4",y.keyword,"vec4"),bitcast:new b("bitcast",y.keyword,"bitcast"),block:new b("block",y.keyword,"block"),break:new b("break",y.keyword,"break"),case:new b("case",y.keyword,"case"),continue:new b("continue",y.keyword,"continue"),continuing:new b("continuing",y.keyword,"continuing"),default:new b("default",y.keyword,"default"),diagnostic:new b("diagnostic",y.keyword,"diagnostic"),discard:new b("discard",y.keyword,"discard"),else:new b("else",y.keyword,"else"),enable:new b("enable",y.keyword,"enable"),fallthrough:new b("fallthrough",y.keyword,"fallthrough"),false:new b("false",y.keyword,"false"),fn:new b("fn",y.keyword,"fn"),for:new b("for",y.keyword,"for"),function:new b("function",y.keyword,"function"),if:new b("if",y.keyword,"if"),let:new b("let",y.keyword,"let"),const:new b("const",y.keyword,"const"),loop:new b("loop",y.keyword,"loop"),while:new b("while",y.keyword,"while"),private:new b("private",y.keyword,"private"),read:new b("read",y.keyword,"read"),read_write:new b("read_write",y.keyword,"read_write"),return:new b("return",y.keyword,"return"),requires:new b("requires",y.keyword,"requires"),storage:new b("storage",y.keyword,"storage"),switch:new b("switch",y.keyword,"switch"),true:new b("true",y.keyword,"true"),alias:new b("alias",y.keyword,"alias"),type:new b("type",y.keyword,"type"),uniform:new b("uniform",y.keyword,"uniform"),var:new b("var",y.keyword,"var"),override:new b("override",y.keyword,"override"),workgroup:new b("workgroup",y.keyword,"workgroup"),write:new b("write",y.keyword,"write"),r8unorm:new b("r8unorm",y.keyword,"r8unorm"),r8snorm:new b("r8snorm",y.keyword,"r8snorm"),r8uint:new b("r8uint",y.keyword,"r8uint"),r8sint:new b("r8sint",y.keyword,"r8sint"),r16uint:new b("r16uint",y.keyword,"r16uint"),r16sint:new b("r16sint",y.keyword,"r16sint"),r16float:new b("r16float",y.keyword,"r16float"),rg8unorm:new b("rg8unorm",y.keyword,"rg8unorm"),rg8snorm:new b("rg8snorm",y.keyword,"rg8snorm"),rg8uint:new b("rg8uint",y.keyword,"rg8uint"),rg8sint:new b("rg8sint",y.keyword,"rg8sint"),r32uint:new b("r32uint",y.keyword,"r32uint"),r32sint:new b("r32sint",y.keyword,"r32sint"),r32float:new b("r32float",y.keyword,"r32float"),rg16uint:new b("rg16uint",y.keyword,"rg16uint"),rg16sint:new b("rg16sint",y.keyword,"rg16sint"),rg16float:new b("rg16float",y.keyword,"rg16float"),rgba8unorm:new b("rgba8unorm",y.keyword,"rgba8unorm"),rgba8unorm_srgb:new b("rgba8unorm_srgb",y.keyword,"rgba8unorm_srgb"),rgba8snorm:new b("rgba8snorm",y.keyword,"rgba8snorm"),rgba8uint:new b("rgba8uint",y.keyword,"rgba8uint"),rgba8sint:new b("rgba8sint",y.keyword,"rgba8sint"),bgra8unorm:new b("bgra8unorm",y.keyword,"bgra8unorm"),bgra8unorm_srgb:new b("bgra8unorm_srgb",y.keyword,"bgra8unorm_srgb"),rgb10a2unorm:new b("rgb10a2unorm",y.keyword,"rgb10a2unorm"),rg11b10float:new b("rg11b10float",y.keyword,"rg11b10float"),rg32uint:new b("rg32uint",y.keyword,"rg32uint"),rg32sint:new b("rg32sint",y.keyword,"rg32sint"),rg32float:new b("rg32float",y.keyword,"rg32float"),rgba16uint:new b("rgba16uint",y.keyword,"rgba16uint"),rgba16sint:new b("rgba16sint",y.keyword,"rgba16sint"),rgba16float:new b("rgba16float",y.keyword,"rgba16float"),rgba32uint:new b("rgba32uint",y.keyword,"rgba32uint"),rgba32sint:new b("rgba32sint",y.keyword,"rgba32sint"),rgba32float:new b("rgba32float",y.keyword,"rgba32float"),static_assert:new b("static_assert",y.keyword,"static_assert")},I.tokens={decimal_float_literal:new b("decimal_float_literal",y.token,/((-?[0-9]*\.[0-9]+|-?[0-9]+\.[0-9]*)((e|E)(\+|-)?[0-9]+)?[fh]?)|(-?[0-9]+(e|E)(\+|-)?[0-9]+[fh]?)|(-?[0-9]+[fh])/),hex_float_literal:new b("hex_float_literal",y.token,/-?0x((([0-9a-fA-F]*\.[0-9a-fA-F]+|[0-9a-fA-F]+\.[0-9a-fA-F]*)((p|P)(\+|-)?[0-9]+[fh]?)?)|([0-9a-fA-F]+(p|P)(\+|-)?[0-9]+[fh]?))/),int_literal:new b("int_literal",y.token,/-?0x[0-9a-fA-F]+|0i?|-?[1-9][0-9]*i?/),uint_literal:new b("uint_literal",y.token,/0x[0-9a-fA-F]+u|0u|[1-9][0-9]*u/),name:new b("name",y.token,/([_\p{XID_Start}][\p{XID_Continue}]+)|([\p{XID_Start}])/u),ident:new b("ident",y.token,/[_a-zA-Z][0-9a-zA-Z_]*/),and:new b("and",y.token,"&"),and_and:new b("and_and",y.token,"&&"),arrow:new b("arrow ",y.token,"->"),attr:new b("attr",y.token,"@"),forward_slash:new b("forward_slash",y.token,"/"),bang:new b("bang",y.token,"!"),bracket_left:new b("bracket_left",y.token,"["),bracket_right:new b("bracket_right",y.token,"]"),brace_left:new b("brace_left",y.token,"{"),brace_right:new b("brace_right",y.token,"}"),colon:new b("colon",y.token,":"),comma:new b("comma",y.token,","),equal:new b("equal",y.token,"="),equal_equal:new b("equal_equal",y.token,"=="),not_equal:new b("not_equal",y.token,"!="),greater_than:new b("greater_than",y.token,">"),greater_than_equal:new b("greater_than_equal",y.token,">="),shift_right:new b("shift_right",y.token,">>"),less_than:new b("less_than",y.token,"<"),less_than_equal:new b("less_than_equal",y.token,"<="),shift_left:new b("shift_left",y.token,"<<"),modulo:new b("modulo",y.token,"%"),minus:new b("minus",y.token,"-"),minus_minus:new b("minus_minus",y.token,"--"),period:new b("period",y.token,"."),plus:new b("plus",y.token,"+"),plus_plus:new b("plus_plus",y.token,"++"),or:new b("or",y.token,"|"),or_or:new b("or_or",y.token,"||"),paren_left:new b("paren_left",y.token,"("),paren_right:new b("paren_right",y.token,")"),semicolon:new b("semicolon",y.token,";"),star:new b("star",y.token,"*"),tilde:new b("tilde",y.token,"~"),underscore:new b("underscore",y.token,"_"),xor:new b("xor",y.token,"^"),plus_equal:new b("plus_equal",y.token,"+="),minus_equal:new b("minus_equal",y.token,"-="),times_equal:new b("times_equal",y.token,"*="),division_equal:new b("division_equal",y.token,"/="),modulo_equal:new b("modulo_equal",y.token,"%="),and_equal:new b("and_equal",y.token,"&="),or_equal:new b("or_equal",y.token,"|="),xor_equal:new b("xor_equal",y.token,"^="),shift_right_equal:new b("shift_right_equal",y.token,">>="),shift_left_equal:new b("shift_left_equal",y.token,"<<=")},I.simpleTokens={"@":d.tokens.attr,"{":d.tokens.brace_left,"}":d.tokens.brace_right,":":d.tokens.colon,",":d.tokens.comma,"(":d.tokens.paren_left,")":d.tokens.paren_right,";":d.tokens.semicolon},I.literalTokens={"&":d.tokens.and,"&&":d.tokens.and_and,"->":d.tokens.arrow,"/":d.tokens.forward_slash,"!":d.tokens.bang,"[":d.tokens.bracket_left,"]":d.tokens.bracket_right,"=":d.tokens.equal,"==":d.tokens.equal_equal,"!=":d.tokens.not_equal,">":d.tokens.greater_than,">=":d.tokens.greater_than_equal,">>":d.tokens.shift_right,"<":d.tokens.less_than,"<=":d.tokens.less_than_equal,"<<":d.tokens.shift_left,"%":d.tokens.modulo,"-":d.tokens.minus,"--":d.tokens.minus_minus,".":d.tokens.period,"+":d.tokens.plus,"++":d.tokens.plus_plus,"|":d.tokens.or,"||":d.tokens.or_or,"*":d.tokens.star,"~":d.tokens.tilde,_:d.tokens.underscore,"^":d.tokens.xor,"+=":d.tokens.plus_equal,"-=":d.tokens.minus_equal,"*=":d.tokens.times_equal,"/=":d.tokens.division_equal,"%=":d.tokens.modulo_equal,"&=":d.tokens.and_equal,"|=":d.tokens.or_equal,"^=":d.tokens.xor_equal,">>=":d.tokens.shift_right_equal,"<<=":d.tokens.shift_left_equal},I.regexTokens={decimal_float_literal:d.tokens.decimal_float_literal,hex_float_literal:d.tokens.hex_float_literal,int_literal:d.tokens.int_literal,uint_literal:d.tokens.uint_literal,ident:d.tokens.ident},I.storage_class=[d.keywords.function,d.keywords.private,d.keywords.workgroup,d.keywords.uniform,d.keywords.storage],I.access_mode=[d.keywords.read,d.keywords.write,d.keywords.read_write],I.sampler_type=[d.keywords.sampler,d.keywords.sampler_comparison],I.sampled_texture_type=[d.keywords.texture_1d,d.keywords.texture_2d,d.keywords.texture_2d_array,d.keywords.texture_3d,d.keywords.texture_cube,d.keywords.texture_cube_array],I.multisampled_texture_type=[d.keywords.texture_multisampled_2d],I.storage_texture_type=[d.keywords.texture_storage_1d,d.keywords.texture_storage_2d,d.keywords.texture_storage_2d_array,d.keywords.texture_storage_3d],I.depth_texture_type=[d.keywords.texture_depth_2d,d.keywords.texture_depth_2d_array,d.keywords.texture_depth_cube,d.keywords.texture_depth_cube_array,d.keywords.texture_depth_multisampled_2d],I.texture_external_type=[d.keywords.texture_external],I.any_texture_type=[...d.sampled_texture_type,...d.multisampled_texture_type,...d.storage_texture_type,...d.depth_texture_type,...d.texture_external_type],I.texel_format=[d.keywords.r8unorm,d.keywords.r8snorm,d.keywords.r8uint,d.keywords.r8sint,d.keywords.r16uint,d.keywords.r16sint,d.keywords.r16float,d.keywords.rg8unorm,d.keywords.rg8snorm,d.keywords.rg8uint,d.keywords.rg8sint,d.keywords.r32uint,d.keywords.r32sint,d.keywords.r32float,d.keywords.rg16uint,d.keywords.rg16sint,d.keywords.rg16float,d.keywords.rgba8unorm,d.keywords.rgba8unorm_srgb,d.keywords.rgba8snorm,d.keywords.rgba8uint,d.keywords.rgba8sint,d.keywords.bgra8unorm,d.keywords.bgra8unorm_srgb,d.keywords.rgb10a2unorm,d.keywords.rg11b10float,d.keywords.rg32uint,d.keywords.rg32sint,d.keywords.rg32float,d.keywords.rgba16uint,d.keywords.rgba16sint,d.keywords.rgba16float,d.keywords.rgba32uint,d.keywords.rgba32sint,d.keywords.rgba32float],I.const_literal=[d.tokens.int_literal,d.tokens.uint_literal,d.tokens.decimal_float_literal,d.tokens.hex_float_literal,d.keywords.true,d.keywords.false],I.literal_or_ident=[d.tokens.ident,d.tokens.int_literal,d.tokens.uint_literal,d.tokens.decimal_float_literal,d.tokens.hex_float_literal,d.tokens.name],I.element_count_expression=[d.tokens.int_literal,d.tokens.uint_literal,d.tokens.ident],I.template_types=[d.keywords.vec2,d.keywords.vec3,d.keywords.vec4,d.keywords.mat2x2,d.keywords.mat2x3,d.keywords.mat2x4,d.keywords.mat3x2,d.keywords.mat3x3,d.keywords.mat3x4,d.keywords.mat4x2,d.keywords.mat4x3,d.keywords.mat4x4,d.keywords.atomic,d.keywords.bitcast,...d.any_texture_type],I.attribute_name=[d.tokens.ident,d.keywords.block,d.keywords.diagnostic],I.assignment_operators=[d.tokens.equal,d.tokens.plus_equal,d.tokens.minus_equal,d.tokens.times_equal,d.tokens.division_equal,d.tokens.modulo_equal,d.tokens.and_equal,d.tokens.or_equal,d.tokens.xor_equal,d.tokens.shift_right_equal,d.tokens.shift_left_equal],I.increment_operators=[d.tokens.plus_plus,d.tokens.minus_minus];class yP{constructor($,Q,J,Z,X){this.type=$,this.lexeme=Q,this.line=J,this.start=Z,this.end=X}toString(){return this.lexeme}isTemplateType(){return I.template_types.indexOf(this.type)!=-1}isArrayType(){return this.type==I.keywords.array}isArrayOrTemplateType(){return this.isArrayType()||this.isTemplateType()}}class ji{constructor($){this._tokens=[],this._start=0,this._current=0,this._line=1,this._source=$!=null?$:""}scanTokens(){for(;!this._isAtEnd();)if(this._start=this._current,!this.scanToken())throw`Invalid syntax at line ${this._line}`;return this._tokens.push(new yP(I.eof,"",this._line,this._current,this._current)),this._tokens}scanToken(){let $=this._advance();if($==`
`)return this._line++,!0;if(this._isWhitespace($))return!0;if($=="/"){if(this._peekAhead()=="/"){for(;$!=`
`;){if(this._isAtEnd())return!0;$=this._advance()}return this._line++,!0}if(this._peekAhead()=="*"){this._advance();let W=1;for(;W>0;){if(this._isAtEnd())return!0;if($=this._advance(),$==`
`)this._line++;else if($=="*"){if(this._peekAhead()=="/"&&(this._advance(),W--,W==0))return!0}else $=="/"&&this._peekAhead()=="*"&&(this._advance(),W++)}return!0}}let Q=I.simpleTokens[$];if(Q)return this._addToken(Q),!0;let J=I.none,Z=this._isAlpha($),X=$==="_";if(this._isAlphaNumeric($)){let W=this._peekAhead();for(;this._isAlphaNumeric(W);)$+=this._advance(),W=this._peekAhead()}if(Z){let W=I.keywords[$];if(W)return this._addToken(W),!0}if(Z||X)return this._addToken(I.tokens.ident),!0;for(;;){let W=this._findType($),H=this._peekAhead();if($=="-"&&this._tokens.length>0){if(H=="=")return this._current++,$+=H,this._addToken(I.tokens.minus_equal),!0;if(H=="-")return this._current++,$+=H,this._addToken(I.tokens.minus_minus),!0;let F=this._tokens.length-1;if((I.literal_or_ident.indexOf(this._tokens[F].type)!=-1||this._tokens[F].type==I.tokens.paren_right)&&H!=">")return this._addToken(W),!0}if($==">"&&(H==">"||H=="=")){let F=!1,V=this._tokens.length-1;for(let D=0;D<5&&V>=0&&I.assignment_operators.indexOf(this._tokens[V].type)===-1;++D,--V)if(this._tokens[V].type===I.tokens.less_than){V>0&&this._tokens[V-1].isArrayOrTemplateType()&&(F=!0);break}if(F)return this._addToken(W),!0}if(W===I.none){let F=$,V=0,D=2;for(let C=0;C<D;++C)if(F+=this._peekAhead(C),W=this._findType(F),W!==I.none){V=C;break}if(W===I.none)return J!==I.none&&(this._current--,this._addToken(J),!0);$=F,this._current+=V+1}if(J=W,this._isAtEnd())break;$+=this._advance()}return J!==I.none&&(this._addToken(J),!0)}_findType($){for(let J in I.regexTokens){let Z=I.regexTokens[J];if(this._match($,Z.rule))return Z}return I.literalTokens[$]||I.none}_match($,Q){let J=Q.exec($);return J&&J.index==0&&J[0]==$}_isAtEnd(){return this._current>=this._source.length}_isAlpha($){return!this._isNumeric($)&&!this._isWhitespace($)&&$!=="_"&&$!=="."&&$!=="("&&$!==")"&&$!=="["&&$!=="]"&&$!=="{"&&$!=="}"&&$!==","&&$!==";"&&$!==":"&&$!=="="&&$!=="!"&&$!=="<"&&$!==">"&&$!=="+"&&$!=="-"&&$!=="*"&&$!=="/"&&$!=="%"&&$!=="&"&&$!=="|"&&$!=="^"&&$!=="~"&&$!=="@"&&$!=="#"&&$!=="?"&&$!=="'"&&$!=="`"&&$!=='"'&&$!=="\\"&&$!==`
`&&$!=="\r"&&$!=="\t"&&$!=="\x00"}_isNumeric($){return $>="0"&&$<="9"}_isAlphaNumeric($){return this._isAlpha($)||this._isNumeric($)||$==="_"}_isWhitespace($){return $==" "||$=="\t"||$=="\r"}_advance($=0){let Q=this._source[this._current];return $=$||0,$++,this._current+=$,Q}_peekAhead($=0){return $=$||0,this._current+$>=this._source.length?"\x00":this._source[this._current+$]}_addToken($){let Q=this._source.substring(this._start,this._current);this._tokens.push(new yP($,Q,this._line,this._start,this._current))}}function z1($){return Array.isArray($)||($==null?void 0:$.buffer)instanceof ArrayBuffer}var fU=new Float32Array(1),iq1=new Uint32Array(fU.buffer),nq1=new Uint32Array(fU.buffer),mU=new Int32Array(1),sq1=new Float32Array(mU.buffer),oq1=new Uint32Array(mU.buffer),cU=new Uint32Array(1),aq1=new Float32Array(cU.buffer),rq1=new Int32Array(cU.buffer);function Ci($,Q,J){if(Q===J)return $;if(Q==="f32"){if(J==="i32"||J==="x32")return fU[0]=$,iq1[0];if(J==="u32")return fU[0]=$,nq1[0]}else if(Q==="i32"||Q==="x32"){if(J==="f32")return mU[0]=$,sq1[0];if(J==="u32")return mU[0]=$,oq1[0]}else if(Q==="u32"){if(J==="f32")return cU[0]=$,aq1[0];if(J==="i32"||J==="x32")return cU[0]=$,rq1[0]}return console.error(`Unsupported cast from ${Q} to ${J}`),$}class Li{constructor($){this.resources=null,this.inUse=!1,this.info=null,this.node=$}}class MY{constructor($,Q){this.align=$,this.size=Q}}class R3{constructor(){this.uniforms=[],this.storage=[],this.textures=[],this.samplers=[],this.aliases=[],this.overrides=[],this.structs=[],this.entry=new ki,this.functions=[],this._types=new Map,this._functions=new Map}_isStorageTexture($){return $.name=="texture_storage_1d"||$.name=="texture_storage_2d"||$.name=="texture_storage_2d_array"||$.name=="texture_storage_3d"}updateAST($){for(let Q of $)Q instanceof XZ&&this._functions.set(Q.name,new Li(Q));for(let Q of $)if(Q instanceof z3){let J=this.getTypeInfo(Q,null);J instanceof z8&&this.structs.push(J)}for(let Q of $)if(Q instanceof pU)this.aliases.push(this._getAliasInfo(Q));else{if(Q instanceof dU){let J=Q,Z=this._getAttributeNum(J.attributes,"id",0),X=J.type!=null?this.getTypeInfo(J.type,J.attributes):null;this.overrides.push(new Bi(J.name,X,J.attributes,Z));continue}if(this._isUniformVar(Q)){let J=Q,Z=this._getAttributeNum(J.attributes,"group",0),X=this._getAttributeNum(J.attributes,"binding",0),W=this.getTypeInfo(J.type,J.attributes),H=new kY(J.name,W,Z,X,J.attributes,s9.Uniform,J.access);H.access||(H.access="read"),this.uniforms.push(H);continue}if(this._isStorageVar(Q)){let J=Q,Z=this._getAttributeNum(J.attributes,"group",0),X=this._getAttributeNum(J.attributes,"binding",0),W=this.getTypeInfo(J.type,J.attributes),H=this._isStorageTexture(W),F=new kY(J.name,W,Z,X,J.attributes,H?s9.StorageTexture:s9.Storage,J.access);F.access||(F.access="read"),this.storage.push(F);continue}if(this._isTextureVar(Q)){let J=Q,Z=this._getAttributeNum(J.attributes,"group",0),X=this._getAttributeNum(J.attributes,"binding",0),W=this.getTypeInfo(J.type,J.attributes),H=this._isStorageTexture(W),F=new kY(J.name,W,Z,X,J.attributes,H?s9.StorageTexture:s9.Texture,J.access);F.access||(F.access="read"),H?this.storage.push(F):this.textures.push(F);continue}if(this._isSamplerVar(Q)){let J=Q,Z=this._getAttributeNum(J.attributes,"group",0),X=this._getAttributeNum(J.attributes,"binding",0),W=this.getTypeInfo(J.type,J.attributes),H=new kY(J.name,W,Z,X,J.attributes,s9.Sampler,J.access);this.samplers.push(H);continue}}for(let Q of $)if(Q instanceof XZ){let J=this._getAttribute(Q,"vertex"),Z=this._getAttribute(Q,"fragment"),X=this._getAttribute(Q,"compute"),W=J||Z||X,H=new Oi(Q.name,W==null?void 0:W.name,Q.attributes);H.attributes=Q.attributes,H.startLine=Q.startLine,H.endLine=Q.endLine,this.functions.push(H),this._functions.get(Q.name).info=H,W&&(this._functions.get(Q.name).inUse=!0,H.inUse=!0,H.resources=this._findResources(Q,!!W),H.inputs=this._getInputs(Q.args),H.outputs=this._getOutputs(Q.returnType),this.entry[W.name].push(H)),H.arguments=Q.args.map((F)=>new Ri(F.name,this.getTypeInfo(F.type,F.attributes),F.attributes)),H.returnType=Q.returnType?this.getTypeInfo(Q.returnType,Q.attributes):null;continue}for(let Q of this._functions.values())Q.info&&(Q.info.inUse=Q.inUse,this._addCalls(Q.node,Q.info.calls));for(let Q of this._functions.values())Q.node.search((J)=>{var Z,X,W;if(J instanceof JM){if(J.value)if(z1(J.value))for(let H of J.value)for(let F of this.overrides)H===F.name&&((Z=Q.info)===null||Z===void 0||Z.overrides.push(F));else for(let H of this.overrides)J.value===H.name&&((X=Q.info)===null||X===void 0||X.overrides.push(H))}else if(J instanceof c6)for(let H of this.overrides)J.name===H.name&&((W=Q.info)===null||W===void 0||W.overrides.push(H))});for(let Q of this.uniforms)this._markStructsInUse(Q.type);for(let Q of this.storage)this._markStructsInUse(Q.type)}getFunctionInfo($){for(let Q of this.functions)if(Q.name==$)return Q;return null}getStructInfo($){for(let Q of this.structs)if(Q.name==$)return Q;return null}getOverrideInfo($){for(let Q of this.overrides)if(Q.name==$)return Q;return null}_markStructsInUse($){if($)if($.isStruct){if($.inUse=!0,$.members)for(let Q of $.members)this._markStructsInUse(Q.type)}else if($.isArray)this._markStructsInUse($.format);else if($.isTemplate)$.format&&this._markStructsInUse($.format);else{let Q=this._getAlias($.name);Q&&this._markStructsInUse(Q)}}_addCalls($,Q){var J;for(let Z of $.calls){let X=(J=this._functions.get(Z.name))===null||J===void 0?void 0:J.info;X&&Q.add(X)}}findResource($,Q,J){if(J){for(let Z of this.entry.compute)if(Z.name===J){for(let X of Z.resources)if(X.group==$&&X.binding==Q)return X}for(let Z of this.entry.vertex)if(Z.name===J){for(let X of Z.resources)if(X.group==$&&X.binding==Q)return X}for(let Z of this.entry.fragment)if(Z.name===J){for(let X of Z.resources)if(X.group==$&&X.binding==Q)return X}}for(let Z of this.uniforms)if(Z.group==$&&Z.binding==Q)return Z;for(let Z of this.storage)if(Z.group==$&&Z.binding==Q)return Z;for(let Z of this.textures)if(Z.group==$&&Z.binding==Q)return Z;for(let Z of this.samplers)if(Z.group==$&&Z.binding==Q)return Z;return null}_findResource($){for(let Q of this.uniforms)if(Q.name==$)return Q;for(let Q of this.storage)if(Q.name==$)return Q;for(let Q of this.textures)if(Q.name==$)return Q;for(let Q of this.samplers)if(Q.name==$)return Q;return null}_markStructsFromAST($){let Q=this.getTypeInfo($,null);this._markStructsInUse(Q)}_findResources($,Q){let J=[],Z=this,X=[];return $.search((W)=>{if(W instanceof IY)X.push({});else if(W instanceof GY)X.pop();else if(W instanceof B3){let H=W;Q&&H.type!==null&&this._markStructsFromAST(H.type),X.length>0&&(X[X.length-1][H.name]=H)}else if(W instanceof w7){let H=W;Q&&H.type!==null&&this._markStructsFromAST(H.type)}else if(W instanceof ZZ){let H=W;Q&&H.type!==null&&this._markStructsFromAST(H.type),X.length>0&&(X[X.length-1][H.name]=H)}else if(W instanceof c6){let H=W;if(X.length>0){if(X[X.length-1][H.name])return}let F=Z._findResource(H.name);F&&J.push(F)}else if(W instanceof uU){let H=W,F=Z._functions.get(H.name);F&&(Q&&(F.inUse=!0),$.calls.add(F.node),F.resources===null&&(F.resources=Z._findResources(F.node,Q)),J.push(...F.resources))}else if(W instanceof lU){let H=W,F=Z._functions.get(H.name);F&&(Q&&(F.inUse=!0),$.calls.add(F.node),F.resources===null&&(F.resources=Z._findResources(F.node,Q)),J.push(...F.resources))}}),[...new Map(J.map((W)=>[W.name,W])).values()]}getBindGroups(){let $=[];function Q(J,Z){J>=$.length&&($.length=J+1),$[J]===void 0&&($[J]=[]),Z>=$[J].length&&($[J].length=Z+1)}for(let J of this.uniforms)Q(J.group,J.binding),$[J.group][J.binding]=J;for(let J of this.storage)Q(J.group,J.binding),$[J.group][J.binding]=J;for(let J of this.textures)Q(J.group,J.binding),$[J.group][J.binding]=J;for(let J of this.samplers)Q(J.group,J.binding),$[J.group][J.binding]=J;return $}_getOutputs($,Q=void 0){if(Q===void 0&&(Q=[]),$ instanceof z3)this._getStructOutputs($,Q);else{let J=this._getOutputInfo($);J!==null&&Q.push(J)}return Q}_getStructOutputs($,Q){for(let J of $.members)if(J.type instanceof z3)this._getStructOutputs(J.type,Q);else{let Z=this._getAttribute(J,"location")||this._getAttribute(J,"builtin");if(Z!==null){let X=this.getTypeInfo(J.type,J.type.attributes),W=this._parseInt(Z.value),H=new vP(J.name,X,Z.name,W);Q.push(H)}}}_getOutputInfo($){let Q=this._getAttribute($,"location")||this._getAttribute($,"builtin");if(Q!==null){let J=this.getTypeInfo($,$.attributes),Z=this._parseInt(Q.value);return new vP("",J,Q.name,Z)}return null}_getInputs($,Q=void 0){Q===void 0&&(Q=[]);for(let J of $)if(J.type instanceof z3)this._getStructInputs(J.type,Q);else{let Z=this._getInputInfo(J);Z!==null&&Q.push(Z)}return Q}_getStructInputs($,Q){for(let J of $.members)if(J.type instanceof z3)this._getStructInputs(J.type,Q);else{let Z=this._getInputInfo(J);Z!==null&&Q.push(Z)}}_getInputInfo($){let Q=this._getAttribute($,"location")||this._getAttribute($,"builtin");if(Q!==null){let J=this._getAttribute($,"interpolation"),Z=this.getTypeInfo($.type,$.attributes),X=this._parseInt(Q.value),W=new zi($.name,Z,Q.name,X);return J!==null&&(W.interpolation=this._parseString(J.value)),W}return null}_parseString($){return $ instanceof Array&&($=$[0]),$}_parseInt($){$ instanceof Array&&($=$[0]);let Q=parseInt($);return isNaN(Q)?$:Q}_getAlias($){for(let Q of this.aliases)if(Q.name==$)return Q.type;return null}_getAliasInfo($){return new Ai($.name,this.getTypeInfo($.type,null))}getTypeInfoByName($){for(let Q of this.structs)if(Q.name==$)return Q;for(let Q of this.aliases)if(Q.name==$)return Q.type;return null}getTypeInfo($,Q=null){if(this._types.has($))return this._types.get($);if($ instanceof SY){let Z=$.type?this.getTypeInfo($.type,$.attributes):null,X=new gU($.name,Z,Q);return this._types.set($,X),this._updateTypeInfo(X),X}if($ instanceof KZ){let Z=$,X=Z.format?this.getTypeInfo(Z.format,Z.attributes):null,W=new B8(Z.name,Q);return W.format=X,W.count=Z.count,this._types.set($,W),this._updateTypeInfo(W),W}if($ instanceof z3){let Z=$,X=new z8(Z.name,Q);X.startLine=Z.startLine,X.endLine=Z.endLine;for(let W of Z.members){let H=this.getTypeInfo(W.type,W.attributes);X.members.push(new hP(W.name,H,W.attributes))}return this._types.set($,X),this._updateTypeInfo(X),X}if($ instanceof JZ){let Z=$,X=Z.format instanceof K1,W=Z.format?X?this.getTypeInfo(Z.format,null):new Y4(Z.format,null):null,H=new o9(Z.name,W,Q,Z.access);return this._types.set($,H),this._updateTypeInfo(H),H}if($ instanceof m){let Z=$,X=Z.format?this.getTypeInfo(Z.format,null):null,W=new o9(Z.name,X,Q,Z.access);return this._types.set($,W),this._updateTypeInfo(W),W}let J=new Y4($.name,Q);return this._types.set($,J),this._updateTypeInfo(J),J}_updateTypeInfo($){var Q,J,Z;let X=this._getTypeSize($);if($.size=(Q=X==null?void 0:X.size)!==null&&Q!==void 0?Q:0,$ instanceof B8&&$.format){let W=this._getTypeSize($.format);$.stride=Math.max((J=W==null?void 0:W.size)!==null&&J!==void 0?J:0,(Z=W==null?void 0:W.align)!==null&&Z!==void 0?Z:0),this._updateTypeInfo($.format)}$ instanceof gU&&this._updateTypeInfo($.format),$ instanceof z8&&this._updateStructInfo($)}_updateStructInfo($){var Q;let J=0,Z=0,X=0,W=0;for(let H=0,F=$.members.length;H<F;++H){let V=$.members[H],D=this._getTypeSize(V);if(!D)continue;(Q=this._getAlias(V.type.name))!==null&&Q!==void 0||V.type;let{align:C,size:z}=D;J=this._roundUp(C,J+Z),Z=z,X=J,W=Math.max(W,C),V.offset=J,V.size=z,this._updateTypeInfo(V.type)}$.size=this._roundUp(W,X+Z),$.align=W}_getTypeSize($){var Q,J;if($==null)return null;let Z=this._getAttributeNum($.attributes,"size",0),X=this._getAttributeNum($.attributes,"align",0);if($ instanceof hP&&($=$.type),$ instanceof Y4){let W=this._getAlias($.name);W!==null&&($=W)}{let W=R3._typeInfo[$.name];if(W!==void 0){let H=((Q=$.format)===null||Q===void 0?void 0:Q.name)==="f16"?2:1;return new MY(Math.max(X,W.align/H),Math.max(Z,W.size/H))}}{let W=R3._typeInfo[$.name.substring(0,$.name.length-1)];if(W){let H=$.name[$.name.length-1]==="h"?2:1;return new MY(Math.max(X,W.align/H),Math.max(Z,W.size/H))}}if($ instanceof B8){let W=$,H=8,F=8,V=this._getTypeSize(W.format);return V!==null&&(F=V.size,H=V.align),F=W.count*this._getAttributeNum((J=$==null?void 0:$.attributes)!==null&&J!==void 0?J:null,"stride",this._roundUp(H,F)),Z&&(F=Z),new MY(Math.max(X,H),Math.max(Z,F))}if($ instanceof z8){let W=0,H=0,F=0,V=0,D=0;for(let C of $.members){let z=this._getTypeSize(C.type);z!==null&&(W=Math.max(z.align,W),F=this._roundUp(z.align,F+V),V=z.size,D=F)}return H=this._roundUp(W,D+V),new MY(Math.max(X,W),Math.max(Z,H))}return null}_isUniformVar($){return $ instanceof B3&&$.storage=="uniform"}_isStorageVar($){return $ instanceof B3&&$.storage=="storage"}_isTextureVar($){return $ instanceof B3&&$.type!==null&&R3._textureTypes.indexOf($.type.name)!=-1}_isSamplerVar($){return $ instanceof B3&&$.type!==null&&R3._samplerTypes.indexOf($.type.name)!=-1}_getAttribute($,Q){let J=$;if(!J||!J.attributes)return null;let Z=J.attributes;for(let X of Z)if(X.name==Q)return X;return null}_getAttributeNum($,Q,J){if($===null)return J;for(let Z of $)if(Z.name==Q){let X=Z!==null&&Z.value!==null?Z.value:J;return X instanceof Array&&(X=X[0]),typeof X=="number"?X:typeof X=="string"?parseInt(X):J}return J}_roundUp($,Q){return Math.ceil(Q/$)*$}}R3._typeInfo={f16:{align:2,size:2},i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},atomic:{align:4,size:4},vec2:{align:8,size:8},vec3:{align:16,size:12},vec4:{align:16,size:16},mat2x2:{align:8,size:16},mat3x2:{align:8,size:24},mat4x2:{align:8,size:32},mat2x3:{align:16,size:32},mat3x3:{align:16,size:48},mat4x3:{align:16,size:64},mat2x4:{align:16,size:32},mat3x4:{align:16,size:48},mat4x4:{align:16,size:64}},R3._textureTypes=I.any_texture_type.map(($)=>$.name),R3._samplerTypes=I.sampler_type.map(($)=>$.name);var ZM=0;class KM{constructor($,Q,J){this.id=ZM++,this.name=$,this.value=Q,this.node=J}clone(){return new KM(this.name,this.value,this.node)}}class XM{constructor($){this.id=ZM++,this.name=$.name,this.node=$}clone(){return new XM(this.node)}}class YM{constructor($){this.parent=null,this.variables=new Map,this.functions=new Map,this.currentFunctionName="",this.id=ZM++,$&&(this.parent=$,this.currentFunctionName=$.currentFunctionName)}getVariable($){var Q;return this.variables.has($)?(Q=this.variables.get($))!==null&&Q!==void 0?Q:null:this.parent?this.parent.getVariable($):null}getFunction($){var Q;return this.functions.has($)?(Q=this.functions.get($))!==null&&Q!==void 0?Q:null:this.parent?this.parent.getFunction($):null}createVariable($,Q,J){this.variables.set($,new KM($,Q,J!=null?J:null))}setVariable($,Q,J){let Z=this.getVariable($);Z!==null?Z.value=Q:this.createVariable($,Q,J)}getVariableValue($){var Q;let J=this.getVariable($);return(Q=J==null?void 0:J.value)!==null&&Q!==void 0?Q:null}clone(){return new YM(this)}}class hi{evalExpression($,Q){return null}getTypeInfo($){return null}getVariableName($,Q){return""}}class vi{constructor($){this.exec=$}getTypeInfo($){return this.exec.getTypeInfo($)}All($,Q){let J=this.exec.evalExpression($.args[0],Q),Z=!0;if(J instanceof E)return J.data.forEach((X)=>{X||(Z=!1)}),new g(Z?1:0,this.getTypeInfo("bool"));throw Error(`All() expects a vector argument. Line ${$.line}`)}Any($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E){let Z=J.data.some((X)=>X);return new g(Z?1:0,this.getTypeInfo("bool"))}throw Error(`Any() expects a vector argument. Line ${$.line}`)}Select($,Q){let J=this.exec.evalExpression($.args[2],Q);if(!(J instanceof g))throw Error(`Select() expects a bool condition. Line ${$.line}`);return J.value?this.exec.evalExpression($.args[1],Q):this.exec.evalExpression($.args[0],Q)}ArrayLength($,Q){let J=$.args[0];J instanceof k5&&(J=J.right);let Z=this.exec.evalExpression(J,Q);if(Z instanceof V5&&Z.typeInfo.size===0){let X=Z.typeInfo,W=Z.buffer.byteLength/X.stride;return new g(W,this.getTypeInfo("u32"))}return new g(Z.typeInfo.size,this.getTypeInfo("u32"))}Abs($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.abs(X)),J.typeInfo);let Z=J;return new g(Math.abs(Z.value),Z.typeInfo)}Acos($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.acos(X)),J.typeInfo);return new g(Math.acos(J.value),J.typeInfo)}Acosh($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.acosh(X)),J.typeInfo);return new g(Math.acosh(J.value),J.typeInfo)}Asin($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.asin(X)),J.typeInfo);return new g(Math.asin(J.value),J.typeInfo)}Asinh($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.asinh(X)),J.typeInfo);return new g(Math.asinh(J.value),J.typeInfo)}Atan($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.atan(X)),J.typeInfo);return new g(Math.atan(J.value),J.typeInfo)}Atanh($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.atanh(X)),J.typeInfo);return new g(Math.atanh(J.value),J.typeInfo)}Atan2($,Q){let J=this.exec.evalExpression($.args[0],Q),Z=this.exec.evalExpression($.args[1],Q);if(J instanceof E&&Z instanceof E)return new E(J.data.map((H,F)=>Math.atan2(H,Z.data[F])),J.typeInfo);let X=J,W=Z;return new g(Math.atan2(X.value,W.value),J.typeInfo)}Ceil($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.ceil(X)),J.typeInfo);return new g(Math.ceil(J.value),J.typeInfo)}_clamp($,Q,J){return Math.min(Math.max($,Q),J)}Clamp($,Q){let J=this.exec.evalExpression($.args[0],Q),Z=this.exec.evalExpression($.args[1],Q),X=this.exec.evalExpression($.args[2],Q);if(J instanceof E&&Z instanceof E&&X instanceof E)return new E(J.data.map((V,D)=>this._clamp(V,Z.data[D],X.data[D])),J.typeInfo);let W=J,H=Z,F=X;return new g(this._clamp(W.value,H.value,F.value),J.typeInfo)}Cos($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.cos(X)),J.typeInfo);return new g(Math.cos(J.value),J.typeInfo)}Cosh($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.cosh(X)),J.typeInfo);return new g(Math.cos(J.value),J.typeInfo)}CountLeadingZeros($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.clz32(X)),J.typeInfo);return new g(Math.clz32(J.value),J.typeInfo)}_countOneBits($){let Q=0;for(;$!==0;)1&$&&Q++,$>>=1;return Q}CountOneBits($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>this._countOneBits(X)),J.typeInfo);let Z=J;return new g(this._countOneBits(Z.value),J.typeInfo)}_countTrailingZeros($){if($===0)return 32;let Q=0;for(;!(1&$);)$>>=1,Q++;return Q}CountTrailingZeros($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>this._countTrailingZeros(X)),J.typeInfo);let Z=J;return new g(this._countTrailingZeros(Z.value),J.typeInfo)}Cross($,Q){let J=this.exec.evalExpression($.args[0],Q),Z=this.exec.evalExpression($.args[1],Q);if(J instanceof E&&Z instanceof E){if(J.data.length!==3||Z.data.length!==3)return console.error(`Cross() expects 3D vectors. Line ${$.line}`),null;let X=J.data,W=Z.data;return new E([X[1]*W[2]-W[1]*X[2],X[2]*W[0]-W[2]*X[0],X[0]*W[1]-W[0]*X[1]],J.typeInfo)}return console.error(`Cross() expects vector arguments. Line ${$.line}`),null}Degrees($,Q){let J=this.exec.evalExpression($.args[0],Q),Z=180/Math.PI;if(J instanceof E)return new E(J.data.map((X)=>X*Z),J.typeInfo);return new g(J.value*Z,this.getTypeInfo("f32"))}Determinant($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof f1){let Z=J.data,X=J.typeInfo.getTypeName(),W=X.endsWith("h")?this.getTypeInfo("f16"):this.getTypeInfo("f32");if(X==="mat2x2"||X==="mat2x2f"||X==="mat2x2h")return new g(Z[0]*Z[3]-Z[1]*Z[2],W);if(X==="mat2x3"||X==="mat2x3f"||X==="mat2x3h")return new g(Z[0]*(Z[4]*Z[8]-Z[5]*Z[7])-Z[1]*(Z[3]*Z[8]-Z[5]*Z[6])+Z[2]*(Z[3]*Z[7]-Z[4]*Z[6]),W);if(X==="mat2x4"||X==="mat2x4f"||X==="mat2x4h")console.error(`TODO: Determinant for ${X}`);else if(X==="mat3x2"||X==="mat3x2f"||X==="mat3x2h")console.error(`TODO: Determinant for ${X}`);else{if(X==="mat3x3"||X==="mat3x3f"||X==="mat3x3h")return new g(Z[0]*(Z[4]*Z[8]-Z[5]*Z[7])-Z[1]*(Z[3]*Z[8]-Z[5]*Z[6])+Z[2]*(Z[3]*Z[7]-Z[4]*Z[6]),W);X==="mat3x4"||X==="mat3x4f"||X==="mat3x4h"||X==="mat4x2"||X==="mat4x2f"||X==="mat4x2h"||X==="mat4x3"||X==="mat4x3f"||X==="mat4x3h"?console.error(`TODO: Determinant for ${X}`):X!=="mat4x4"&&X!=="mat4x4f"&&X!=="mat4x4h"||console.error(`TODO: Determinant for ${X}`)}}return console.error(`Determinant expects a matrix argument. Line ${$.line}`),null}Distance($,Q){let J=this.exec.evalExpression($.args[0],Q),Z=this.exec.evalExpression($.args[1],Q);if(J instanceof E&&Z instanceof E){let H=0;for(let F=0;F<J.data.length;++F)H+=(J.data[F]-Z.data[F])*(J.data[F]-Z.data[F]);return new g(Math.sqrt(H),this.getTypeInfo("f32"))}let X=J,W=Z;return new g(Math.abs(X.value-W.value),J.typeInfo)}_dot($,Q){let J=0;for(let Z=0;Z<$.length;++Z)J+=Q[Z]*$[Z];return J}Dot($,Q){let J=this.exec.evalExpression($.args[0],Q),Z=this.exec.evalExpression($.args[1],Q);return J instanceof E&&Z instanceof E?new g(this._dot(J.data,Z.data),this.getTypeInfo("f32")):(console.error(`Dot() expects vector arguments. Line ${$.line}`),null)}Dot4U8Packed($,Q){return console.error(`TODO: dot4U8Packed. Line ${$.line}`),null}Dot4I8Packed($,Q){return console.error(`TODO: dot4I8Packed. Line ${$.line}`),null}Exp($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.exp(X)),J.typeInfo);return new g(Math.exp(J.value),J.typeInfo)}Exp2($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.pow(2,X)),J.typeInfo);return new g(Math.pow(2,J.value),J.typeInfo)}ExtractBits($,Q){let J=this.exec.evalExpression($.args[0],Q),Z=this.exec.evalExpression($.args[1],Q),X=this.exec.evalExpression($.args[2],Q);if(Z.typeInfo.name!=="u32"&&Z.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 offset argument. Line ${$.line}`),null;if(X.typeInfo.name!=="u32"&&X.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 count argument. Line ${$.line}`),null;let W=Z.value,H=X.value;if(J instanceof E)return new E(J.data.map((V)=>V>>W&(1<<H)-1),J.typeInfo);if(J.typeInfo.name!=="i32"&&J.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 argument. Line ${$.line}`),null;let F=J.value;return new g(F>>W&(1<<H)-1,this.getTypeInfo("i32"))}FaceForward($,Q){let J=this.exec.evalExpression($.args[0],Q),Z=this.exec.evalExpression($.args[1],Q),X=this.exec.evalExpression($.args[2],Q);if(J instanceof E&&Z instanceof E&&X instanceof E){let W=this._dot(Z.data,X.data);return new E(W<0?Array.from(J.data):J.data.map((H)=>-H),J.typeInfo)}return console.error(`FaceForward() expects vector arguments. Line ${$.line}`),null}_firstLeadingBit($){return $===0?-1:31-Math.clz32($)}FirstLeadingBit($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>this._firstLeadingBit(X)),J.typeInfo);let Z=J;return new g(this._firstLeadingBit(Z.value),J.typeInfo)}_firstTrailingBit($){return $===0?-1:Math.log2($&-$)}FirstTrailingBit($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>this._firstTrailingBit(X)),J.typeInfo);let Z=J;return new g(this._firstTrailingBit(Z.value),J.typeInfo)}Floor($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.floor(X)),J.typeInfo);return new g(Math.floor(J.value),J.typeInfo)}Fma($,Q){let J=this.exec.evalExpression($.args[0],Q),Z=this.exec.evalExpression($.args[1],Q),X=this.exec.evalExpression($.args[2],Q);if(J instanceof E&&Z instanceof E&&X instanceof E)return J.data.length!==Z.data.length||J.data.length!==X.data.length?(console.error(`Fma() expects vectors of the same length. Line ${$.line}`),null):new E(J.data.map((V,D)=>V*Z.data[D]+X.data[D]),J.typeInfo);let W=J,H=Z,F=X;return new g(W.value*H.value+F.value,W.typeInfo)}Fract($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>X-Math.floor(X)),J.typeInfo);let Z=J;return new g(Z.value-Math.floor(Z.value),J.typeInfo)}Frexp($,Q){return console.error(`TODO: frexp. Line ${$.line}`),null}InsertBits($,Q){let J=this.exec.evalExpression($.args[0],Q),Z=this.exec.evalExpression($.args[1],Q),X=this.exec.evalExpression($.args[2],Q),W=this.exec.evalExpression($.args[3],Q);if(X.typeInfo.name!=="u32"&&X.typeInfo.name!=="x32")return console.error(`InsertBits() expects an i32 offset argument. Line ${$.line}`),null;let H=X.value,F=(1<<W.value)-1<<H,V=~F;if(J instanceof E&&Z instanceof E)return new E(J.data.map((z,R)=>z&V|Z.data[R]<<H&F),J.typeInfo);let D=J.value,C=Z.value;return new g(D&V|C<<H&F,J.typeInfo)}InverseSqrt($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>1/Math.sqrt(X)),J.typeInfo);return new g(1/Math.sqrt(J.value),J.typeInfo)}Ldexp($,Q){return console.error(`TODO: ldexp. Line ${$.line}`),null}Length($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E){let X=0;return J.data.forEach((W)=>{X+=W*W}),new g(Math.sqrt(X),this.getTypeInfo("f32"))}return new g(Math.abs(J.value),J.typeInfo)}Log($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.log(X)),J.typeInfo);return new g(Math.log(J.value),J.typeInfo)}Log2($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.log2(X)),J.typeInfo);return new g(Math.log2(J.value),J.typeInfo)}Max($,Q){let J=this.exec.evalExpression($.args[0],Q),Z=this.exec.evalExpression($.args[1],Q);if(J instanceof E&&Z instanceof E)return new E(J.data.map((H,F)=>Math.max(H,Z.data[F])),J.typeInfo);let X=J,W=Z;return new g(Math.max(X.value,W.value),J.typeInfo)}Min($,Q){let J=this.exec.evalExpression($.args[0],Q),Z=this.exec.evalExpression($.args[1],Q);if(J instanceof E&&Z instanceof E)return new E(J.data.map((H,F)=>Math.min(H,Z.data[F])),J.typeInfo);let X=J,W=Z;return new g(Math.min(X.value,W.value),J.typeInfo)}Mix($,Q){let J=this.exec.evalExpression($.args[0],Q),Z=this.exec.evalExpression($.args[1],Q),X=this.exec.evalExpression($.args[2],Q);if(J instanceof E&&Z instanceof E&&X instanceof E)return new E(J.data.map((F,V)=>J.data[V]*(1-X.data[V])+Z.data[V]*X.data[V]),J.typeInfo);let W=Z,H=X;return new g(J.value*(1-H.value)+W.value*H.value,J.typeInfo)}Modf($,Q){let J=this.exec.evalExpression($.args[0],Q),Z=this.exec.evalExpression($.args[1],Q);if(J instanceof E&&Z instanceof E)return new E(J.data.map((W,H)=>W%Z.data[H]),J.typeInfo);let X=Z;return new g(J.value%X.value,J.typeInfo)}Normalize($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E){let Z=this.Length($,Q).value;return new E(J.data.map((X)=>X/Z),J.typeInfo)}return console.error(`Normalize() expects a vector argument. Line ${$.line}`),null}Pow($,Q){let J=this.exec.evalExpression($.args[0],Q),Z=this.exec.evalExpression($.args[1],Q);if(J instanceof E&&Z instanceof E)return new E(J.data.map((H,F)=>Math.pow(H,Z.data[F])),J.typeInfo);let X=J,W=Z;return new g(Math.pow(X.value,W.value),J.typeInfo)}QuantizeToF16($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((Z)=>Z),J.typeInfo);return new g(J.value,J.typeInfo)}Radians($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((Z)=>Z*Math.PI/180),J.typeInfo);return new g(J.value*Math.PI/180,this.getTypeInfo("f32"))}Reflect($,Q){let J=this.exec.evalExpression($.args[0],Q),Z=this.exec.evalExpression($.args[1],Q);if(J instanceof E&&Z instanceof E){let X=this._dot(J.data,Z.data);return new E(J.data.map((W,H)=>W-2*X*Z.data[H]),J.typeInfo)}return console.error(`Reflect() expects vector arguments. Line ${$.line}`),null}Refract($,Q){let J=this.exec.evalExpression($.args[0],Q),Z=this.exec.evalExpression($.args[1],Q),X=this.exec.evalExpression($.args[2],Q);if(J instanceof E&&Z instanceof E&&X instanceof g){let W=this._dot(Z.data,J.data);return new E(J.data.map((H,F)=>{let V=1-X.value*X.value*(1-W*W);if(V<0)return 0;let D=Math.sqrt(V);return X.value*H-(X.value*W+D)*Z.data[F]}),J.typeInfo)}return console.error(`Refract() expects vector arguments and a scalar argument. Line ${$.line}`),null}ReverseBits($,Q){return console.error(`TODO: reverseBits. Line ${$.line}`),null}Round($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.round(X)),J.typeInfo);return new g(Math.round(J.value),J.typeInfo)}Saturate($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.min(Math.max(X,0),1)),J.typeInfo);return new g(Math.min(Math.max(J.value,0),1),J.typeInfo)}Sign($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.sign(X)),J.typeInfo);return new g(Math.sign(J.value),J.typeInfo)}Sin($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.sin(X)),J.typeInfo);return new g(Math.sin(J.value),J.typeInfo)}Sinh($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.sinh(X)),J.typeInfo);return new g(Math.sinh(J.value),J.typeInfo)}_smoothstep($,Q,J){let Z=Math.min(Math.max((J-$)/(Q-$),0),1);return Z*Z*(3-2*Z)}SmoothStep($,Q){let J=this.exec.evalExpression($.args[0],Q),Z=this.exec.evalExpression($.args[1],Q),X=this.exec.evalExpression($.args[2],Q);if(X instanceof E&&J instanceof E&&Z instanceof E)return new E(X.data.map((V,D)=>this._smoothstep(J.data[D],Z.data[D],V)),X.typeInfo);let W=J,H=Z,F=X;return new g(this._smoothstep(W.value,H.value,F.value),X.typeInfo)}Sqrt($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.sqrt(X)),J.typeInfo);return new g(Math.sqrt(J.value),J.typeInfo)}Step($,Q){let J=this.exec.evalExpression($.args[0],Q),Z=this.exec.evalExpression($.args[1],Q);if(Z instanceof E&&J instanceof E)return new E(Z.data.map((W,H)=>W<J.data[H]?0:1),Z.typeInfo);let X=J;return new g(Z.value<X.value?0:1,X.typeInfo)}Tan($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.tan(X)),J.typeInfo);return new g(Math.tan(J.value),J.typeInfo)}Tanh($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.tanh(X)),J.typeInfo);return new g(Math.tanh(J.value),J.typeInfo)}_getTransposeType($){let Q=$.getTypeName();return Q==="mat2x2f"||Q==="mat2x2h"?$:Q==="mat2x3f"?this.getTypeInfo("mat3x2f"):Q==="mat2x3h"?this.getTypeInfo("mat3x2h"):Q==="mat2x4f"?this.getTypeInfo("mat4x2f"):Q==="mat2x4h"?this.getTypeInfo("mat4x2h"):Q==="mat3x2f"?this.getTypeInfo("mat2x3f"):Q==="mat3x2h"?this.getTypeInfo("mat2x3h"):Q==="mat3x3f"||Q==="mat3x3h"?$:Q==="mat3x4f"?this.getTypeInfo("mat4x3f"):Q==="mat3x4h"?this.getTypeInfo("mat4x3h"):Q==="mat4x2f"?this.getTypeInfo("mat2x4f"):Q==="mat4x2h"?this.getTypeInfo("mat2x4h"):Q==="mat4x3f"?this.getTypeInfo("mat3x4f"):Q==="mat4x3h"?this.getTypeInfo("mat3x4h"):(Q==="mat4x4f"||Q==="mat4x4h"||console.error(`Invalid matrix type ${Q}`),$)}Transpose($,Q){let J=this.exec.evalExpression($.args[0],Q);if(!(J instanceof f1))return console.error(`Transpose() expects a matrix argument. Line ${$.line}`),null;let Z=this._getTransposeType(J.typeInfo);if(J.typeInfo.name==="mat2x2"||J.typeInfo.name==="mat2x2f"||J.typeInfo.name==="mat2x2h"){let X=J.data;return new f1([X[0],X[2],X[1],X[3]],Z)}if(J.typeInfo.name==="mat2x3"||J.typeInfo.name==="mat2x3f"||J.typeInfo.name==="mat2x3h"){let X=J.data;return new f1([X[0],X[3],X[6],X[1],X[4],X[7]],Z)}if(J.typeInfo.name==="mat2x4"||J.typeInfo.name==="mat2x4f"||J.typeInfo.name==="mat2x4h"){let X=J.data;return new f1([X[0],X[4],X[8],X[12],X[1],X[5],X[9],X[13]],Z)}if(J.typeInfo.name==="mat3x2"||J.typeInfo.name==="mat3x2f"||J.typeInfo.name==="mat3x2h"){let X=J.data;return new f1([X[0],X[3],X[1],X[4],X[2],X[5]],Z)}if(J.typeInfo.name==="mat3x3"||J.typeInfo.name==="mat3x3f"||J.typeInfo.name==="mat3x3h"){let X=J.data;return new f1([X[0],X[3],X[6],X[1],X[4],X[7],X[2],X[5],X[8]],Z)}if(J.typeInfo.name==="mat3x4"||J.typeInfo.name==="mat3x4f"||J.typeInfo.name==="mat3x4h"){let X=J.data;return new f1([X[0],X[4],X[8],X[12],X[1],X[5],X[9],X[13],X[2],X[6],X[10],X[14]],Z)}if(J.typeInfo.name==="mat4x2"||J.typeInfo.name==="mat4x2f"||J.typeInfo.name==="mat4x2h"){let X=J.data;return new f1([X[0],X[4],X[1],X[5],X[2],X[6]],Z)}if(J.typeInfo.name==="mat4x3"||J.typeInfo.name==="mat4x3f"||J.typeInfo.name==="mat4x3h"){let X=J.data;return new f1([X[0],X[4],X[8],X[1],X[5],X[9],X[2],X[6],X[10]],Z)}if(J.typeInfo.name==="mat4x4"||J.typeInfo.name==="mat4x4f"||J.typeInfo.name==="mat4x4h"){let X=J.data;return new f1([X[0],X[4],X[8],X[12],X[1],X[5],X[9],X[13],X[2],X[6],X[10],X[14],X[3],X[7],X[11],X[15]],Z)}return console.error(`Invalid matrix type ${J.typeInfo.name}`),null}Trunc($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof E)return new E(J.data.map((X)=>Math.trunc(X)),J.typeInfo);return new g(Math.trunc(J.value),J.typeInfo)}Dpdx($,Q){return console.error(`TODO: dpdx. Line ${$.line}`),null}DpdxCoarse($,Q){return console.error(`TODO: dpdxCoarse. Line ${$.line}`),null}DpdxFine($,Q){return console.error("TODO: dpdxFine"),null}Dpdy($,Q){return console.error("TODO: dpdy"),null}DpdyCoarse($,Q){return console.error("TODO: dpdyCoarse"),null}DpdyFine($,Q){return console.error("TODO: dpdyFine"),null}Fwidth($,Q){return console.error("TODO: fwidth"),null}FwidthCoarse($,Q){return console.error("TODO: fwidthCoarse"),null}FwidthFine($,Q){return console.error("TODO: fwidthFine"),null}TextureDimensions($,Q){let J=$.args[0],Z=$.args.length>1?this.exec.evalExpression($.args[1],Q).value:0;if(J instanceof c6){let X=J.name,W=Q.getVariableValue(X);if(W instanceof A8){if(Z<0||Z>=W.mipLevelCount)return console.error(`Invalid mip level for textureDimensions. Line ${$.line}`),null;let H=W.getMipLevelSize(Z),F=W.dimension;return F==="1d"?new g(H[0],this.getTypeInfo("u32")):F==="3d"?new E(H,this.getTypeInfo("vec3u")):F==="2d"?new E(H.slice(0,2),this.getTypeInfo("vec2u")):(console.error(`Invalid texture dimension ${F} not found. Line ${$.line}`),null)}return console.error(`Texture ${X} not found. Line ${$.line}`),null}return console.error(`Invalid texture argument for textureDimensions. Line ${$.line}`),null}TextureGather($,Q){return console.error("TODO: textureGather"),null}TextureGatherCompare($,Q){return console.error("TODO: textureGatherCompare"),null}TextureLoad($,Q){let J=$.args[0],Z=this.exec.evalExpression($.args[1],Q),X=$.args.length>2?this.exec.evalExpression($.args[2],Q).value:0;if(!(Z instanceof E)||Z.data.length!==2)return console.error(`Invalid UV argument for textureLoad. Line ${$.line}`),null;if(J instanceof c6){let W=J.name,H=Q.getVariableValue(W);if(H instanceof A8){let F=Math.floor(Z.data[0]),V=Math.floor(Z.data[1]);if(F<0||F>=H.width||V<0||V>=H.height)return console.error(`Texture ${W} out of bounds. Line ${$.line}`),null;let D=H.getPixel(F,V,0,X);return D===null?(console.error(`Invalid texture format for textureLoad. Line ${$.line}`),null):new E(D,this.getTypeInfo("vec4f"))}return console.error(`Texture ${W} not found. Line ${$.line}`),null}return console.error(`Invalid texture argument for textureLoad. Line ${$.line}`),null}TextureNumLayers($,Q){let J=$.args[0];if(J instanceof c6){let Z=J.name,X=Q.getVariableValue(Z);return X instanceof A8?new g(X.depthOrArrayLayers,this.getTypeInfo("u32")):(console.error(`Texture ${Z} not found. Line ${$.line}`),null)}return console.error(`Invalid texture argument for textureNumLayers. Line ${$.line}`),null}TextureNumLevels($,Q){let J=$.args[0];if(J instanceof c6){let Z=J.name,X=Q.getVariableValue(Z);return X instanceof A8?new g(X.mipLevelCount,this.getTypeInfo("u32")):(console.error(`Texture ${Z} not found. Line ${$.line}`),null)}return console.error(`Invalid texture argument for textureNumLevels. Line ${$.line}`),null}TextureNumSamples($,Q){let J=$.args[0];if(J instanceof c6){let Z=J.name,X=Q.getVariableValue(Z);return X instanceof A8?new g(X.sampleCount,this.getTypeInfo("u32")):(console.error(`Texture ${Z} not found. Line ${$.line}`),null)}return console.error(`Invalid texture argument for textureNumSamples. Line ${$.line}`),null}TextureSample($,Q){return console.error("TODO: textureSample"),null}TextureSampleBias($,Q){return console.error("TODO: textureSampleBias"),null}TextureSampleCompare($,Q){return console.error("TODO: textureSampleCompare"),null}TextureSampleCompareLevel($,Q){return console.error("TODO: textureSampleCompareLevel"),null}TextureSampleGrad($,Q){return console.error("TODO: textureSampleGrad"),null}TextureSampleLevel($,Q){return console.error("TODO: textureSampleLevel"),null}TextureSampleBaseClampToEdge($,Q){return console.error("TODO: textureSampleBaseClampToEdge"),null}TextureStore($,Q){let J=$.args[0],Z=this.exec.evalExpression($.args[1],Q),X=$.args.length===4?this.exec.evalExpression($.args[2],Q).value:0,W=$.args.length===4?this.exec.evalExpression($.args[3],Q).data:this.exec.evalExpression($.args[2],Q).data;if(W.length!==4)return console.error(`Invalid value argument for textureStore. Line ${$.line}`),null;if(!(Z instanceof E)||Z.data.length!==2)return console.error(`Invalid UV argument for textureStore. Line ${$.line}`),null;if(J instanceof c6){let H=J.name,F=Q.getVariableValue(H);if(F instanceof A8){let V=F.getMipLevelSize(0),D=Math.floor(Z.data[0]),C=Math.floor(Z.data[1]);return D<0||D>=V[0]||C<0||C>=V[1]?(console.error(`Texture ${H} out of bounds. Line ${$.line}`),null):(F.setPixel(D,C,0,X,Array.from(W)),null)}return console.error(`Texture ${H} not found. Line ${$.line}`),null}return console.error(`Invalid texture argument for textureStore. Line ${$.line}`),null}AtomicLoad($,Q){let J=$.args[0];J instanceof k5&&(J=J.right);let Z=this.exec.getVariableName(J,Q);return Q.getVariable(Z).value.getSubData(this.exec,J.postfix,Q)}AtomicStore($,Q){let J=$.args[0];J instanceof k5&&(J=J.right);let Z=this.exec.getVariableName(J,Q),X=Q.getVariable(Z),W=$.args[1],H=this.exec.evalExpression(W,Q),F=X.value.getSubData(this.exec,J.postfix,Q);return F instanceof g&&H instanceof g&&(F.value=H.value),X.value instanceof V5&&X.value.setDataValue(this.exec,F,J.postfix,Q),null}AtomicAdd($,Q){let J=$.args[0];J instanceof k5&&(J=J.right);let Z=this.exec.getVariableName(J,Q),X=Q.getVariable(Z),W=$.args[1],H=this.exec.evalExpression(W,Q),F=X.value.getSubData(this.exec,J.postfix,Q),V=new g(F.value,F.typeInfo);return F instanceof g&&H instanceof g&&(F.value+=H.value),X.value instanceof V5&&X.value.setDataValue(this.exec,F,J.postfix,Q),V}AtomicSub($,Q){let J=$.args[0];J instanceof k5&&(J=J.right);let Z=this.exec.getVariableName(J,Q),X=Q.getVariable(Z),W=$.args[1],H=this.exec.evalExpression(W,Q),F=X.value.getSubData(this.exec,J.postfix,Q),V=new g(F.value,F.typeInfo);return F instanceof g&&H instanceof g&&(F.value-=H.value),X.value instanceof V5&&X.value.setDataValue(this.exec,F,J.postfix,Q),V}AtomicMax($,Q){let J=$.args[0];J instanceof k5&&(J=J.right);let Z=this.exec.getVariableName(J,Q),X=Q.getVariable(Z),W=$.args[1],H=this.exec.evalExpression(W,Q),F=X.value.getSubData(this.exec,J.postfix,Q),V=new g(F.value,F.typeInfo);return F instanceof g&&H instanceof g&&(F.value=Math.max(F.value,H.value)),X.value instanceof V5&&X.value.setDataValue(this.exec,F,J.postfix,Q),V}AtomicMin($,Q){let J=$.args[0];J instanceof k5&&(J=J.right);let Z=this.exec.getVariableName(J,Q),X=Q.getVariable(Z),W=$.args[1],H=this.exec.evalExpression(W,Q),F=X.value.getSubData(this.exec,J.postfix,Q),V=new g(F.value,F.typeInfo);return F instanceof g&&H instanceof g&&(F.value=Math.min(F.value,H.value)),X.value instanceof V5&&X.value.setDataValue(this.exec,F,J.postfix,Q),V}AtomicAnd($,Q){let J=$.args[0];J instanceof k5&&(J=J.right);let Z=this.exec.getVariableName(J,Q),X=Q.getVariable(Z),W=$.args[1],H=this.exec.evalExpression(W,Q),F=X.value.getSubData(this.exec,J.postfix,Q),V=new g(F.value,F.typeInfo);return F instanceof g&&H instanceof g&&(F.value=F.value&H.value),X.value instanceof V5&&X.value.setDataValue(this.exec,F,J.postfix,Q),V}AtomicOr($,Q){let J=$.args[0];J instanceof k5&&(J=J.right);let Z=this.exec.getVariableName(J,Q),X=Q.getVariable(Z),W=$.args[1],H=this.exec.evalExpression(W,Q),F=X.value.getSubData(this.exec,J.postfix,Q),V=new g(F.value,F.typeInfo);return F instanceof g&&H instanceof g&&(F.value=F.value|H.value),X.value instanceof V5&&X.value.setDataValue(this.exec,F,J.postfix,Q),V}AtomicXor($,Q){let J=$.args[0];J instanceof k5&&(J=J.right);let Z=this.exec.getVariableName(J,Q),X=Q.getVariable(Z),W=$.args[1],H=this.exec.evalExpression(W,Q),F=X.value.getSubData(this.exec,J.postfix,Q),V=new g(F.value,F.typeInfo);return F instanceof g&&H instanceof g&&(F.value=F.value^H.value),X.value instanceof V5&&X.value.setDataValue(this.exec,F,J.postfix,Q),V}AtomicExchange($,Q){let J=$.args[0];J instanceof k5&&(J=J.right);let Z=this.exec.getVariableName(J,Q),X=Q.getVariable(Z),W=$.args[1],H=this.exec.evalExpression(W,Q),F=X.value.getSubData(this.exec,J.postfix,Q),V=new g(F.value,F.typeInfo);return F instanceof g&&H instanceof g&&(F.value=H.value),X.value instanceof V5&&X.value.setDataValue(this.exec,F,J.postfix,Q),V}AtomicCompareExchangeWeak($,Q){return console.error("TODO: atomicCompareExchangeWeak"),null}Pack4x8snorm($,Q){return console.error("TODO: pack4x8snorm"),null}Pack4x8unorm($,Q){return console.error("TODO: pack4x8unorm"),null}Pack4xI8($,Q){return console.error("TODO: pack4xI8"),null}Pack4xU8($,Q){return console.error("TODO: pack4xU8"),null}Pack4x8Clamp($,Q){return console.error("TODO: pack4x8Clamp"),null}Pack4xU8Clamp($,Q){return console.error("TODO: pack4xU8Clamp"),null}Pack2x16snorm($,Q){return console.error("TODO: pack2x16snorm"),null}Pack2x16unorm($,Q){return console.error("TODO: pack2x16unorm"),null}Pack2x16float($,Q){return console.error("TODO: pack2x16float"),null}Unpack4x8snorm($,Q){return console.error("TODO: unpack4x8snorm"),null}Unpack4x8unorm($,Q){return console.error("TODO: unpack4x8unorm"),null}Unpack4xI8($,Q){return console.error("TODO: unpack4xI8"),null}Unpack4xU8($,Q){return console.error("TODO: unpack4xU8"),null}Unpack2x16snorm($,Q){return console.error("TODO: unpack2x16snorm"),null}Unpack2x16unorm($,Q){return console.error("TODO: unpack2x16unorm"),null}Unpack2x16float($,Q){return console.error("TODO: unpack2x16float"),null}StorageBarrier($,Q){return null}TextureBarrier($,Q){return null}WorkgroupBarrier($,Q){return null}WorkgroupUniformLoad($,Q){return null}SubgroupAdd($,Q){return console.error("TODO: subgroupAdd"),null}SubgroupExclusiveAdd($,Q){return console.error("TODO: subgroupExclusiveAdd"),null}SubgroupInclusiveAdd($,Q){return console.error("TODO: subgroupInclusiveAdd"),null}SubgroupAll($,Q){return console.error("TODO: subgroupAll"),null}SubgroupAnd($,Q){return console.error("TODO: subgroupAnd"),null}SubgroupAny($,Q){return console.error("TODO: subgroupAny"),null}SubgroupBallot($,Q){return console.error("TODO: subgroupBallot"),null}SubgroupBroadcast($,Q){return console.error("TODO: subgroupBroadcast"),null}SubgroupBroadcastFirst($,Q){return console.error("TODO: subgroupBroadcastFirst"),null}SubgroupElect($,Q){return console.error("TODO: subgroupElect"),null}SubgroupMax($,Q){return console.error("TODO: subgroupMax"),null}SubgroupMin($,Q){return console.error("TODO: subgroupMin"),null}SubgroupMul($,Q){return console.error("TODO: subgroupMul"),null}SubgroupExclusiveMul($,Q){return console.error("TODO: subgroupExclusiveMul"),null}SubgroupInclusiveMul($,Q){return console.error("TODO: subgroupInclusiveMul"),null}SubgroupOr($,Q){return console.error("TODO: subgroupOr"),null}SubgroupShuffle($,Q){return console.error("TODO: subgroupShuffle"),null}SubgroupShuffleDown($,Q){return console.error("TODO: subgroupShuffleDown"),null}SubgroupShuffleUp($,Q){return console.error("TODO: subgroupShuffleUp"),null}SubgroupShuffleXor($,Q){return console.error("TODO: subgroupShuffleXor"),null}SubgroupXor($,Q){return console.error("TODO: subgroupXor"),null}QuadBroadcast($,Q){return console.error("TODO: quadBroadcast"),null}QuadSwapDiagonal($,Q){return console.error("TODO: quadSwapDiagonal"),null}QuadSwapX($,Q){return console.error("TODO: quadSwapX"),null}QuadSwapY($,Q){return console.error("TODO: quadSwapY"),null}}var LP={vec2:2,vec2f:2,vec2i:2,vec2u:2,vec2b:2,vec2h:2,vec3:3,vec3f:3,vec3i:3,vec3u:3,vec3b:3,vec3h:3,vec4:4,vec4f:4,vec4i:4,vec4u:4,vec4b:4,vec4h:4},P6={mat2x2:[2,2,4],mat2x2f:[2,2,4],mat2x2h:[2,2,4],mat2x3:[2,3,6],mat2x3f:[2,3,6],mat2x3h:[2,3,6],mat2x4:[2,4,8],mat2x4f:[2,4,8],mat2x4h:[2,4,8],mat3x2:[3,2,6],mat3x2f:[3,2,6],mat3x2h:[3,2,6],mat3x3:[3,3,9],mat3x3f:[3,3,9],mat3x3h:[3,3,9],mat3x4:[3,4,12],mat3x4f:[3,4,12],mat3x4h:[3,4,12],mat4x2:[4,2,8],mat4x2f:[4,2,8],mat4x2h:[4,2,8],mat4x3:[4,3,12],mat4x3f:[4,3,12],mat4x3h:[4,3,12],mat4x4:[4,4,16],mat4x4f:[4,4,16],mat4x4h:[4,4,16]};class K6 extends hi{constructor($,Q){var J;super(),this.ast=$!=null?$:[],this.reflection=new R3,this.reflection.updateAST(this.ast),this.context=(J=Q==null?void 0:Q.clone())!==null&&J!==void 0?J:new YM,this.builtins=new vi(this),this.typeInfo={bool:this.getTypeInfo(K1.bool),i32:this.getTypeInfo(K1.i32),u32:this.getTypeInfo(K1.u32),f32:this.getTypeInfo(K1.f32),f16:this.getTypeInfo(K1.f16),vec2f:this.getTypeInfo(m.vec2f),vec2u:this.getTypeInfo(m.vec2u),vec2i:this.getTypeInfo(m.vec2i),vec2h:this.getTypeInfo(m.vec2h),vec3f:this.getTypeInfo(m.vec3f),vec3u:this.getTypeInfo(m.vec3u),vec3i:this.getTypeInfo(m.vec3i),vec3h:this.getTypeInfo(m.vec3h),vec4f:this.getTypeInfo(m.vec4f),vec4u:this.getTypeInfo(m.vec4u),vec4i:this.getTypeInfo(m.vec4i),vec4h:this.getTypeInfo(m.vec4h),mat2x2f:this.getTypeInfo(m.mat2x2f),mat2x3f:this.getTypeInfo(m.mat2x3f),mat2x4f:this.getTypeInfo(m.mat2x4f),mat3x2f:this.getTypeInfo(m.mat3x2f),mat3x3f:this.getTypeInfo(m.mat3x3f),mat3x4f:this.getTypeInfo(m.mat3x4f),mat4x2f:this.getTypeInfo(m.mat4x2f),mat4x3f:this.getTypeInfo(m.mat4x3f),mat4x4f:this.getTypeInfo(m.mat4x4f)}}getVariableValue($){var Q,J;let Z=(J=(Q=this.context.getVariable($))===null||Q===void 0?void 0:Q.value)!==null&&J!==void 0?J:null;if(Z===null)return null;if(Z instanceof g)return Z.value;if(Z instanceof E)return Array.from(Z.data);if(Z instanceof f1)return Array.from(Z.data);if(Z instanceof V5&&Z.typeInfo instanceof B8){if(Z.typeInfo.format.name==="u32")return Array.from(new Uint32Array(Z.buffer,Z.offset,Z.typeInfo.count));if(Z.typeInfo.format.name==="i32")return Array.from(new Int32Array(Z.buffer,Z.offset,Z.typeInfo.count));if(Z.typeInfo.format.name==="f32")return Array.from(new Float32Array(Z.buffer,Z.offset,Z.typeInfo.count))}return console.error(`Unsupported return variable type ${Z.typeInfo.name}`),null}execute($){($=$!=null?$:{}).constants&&this._setOverrides($.constants,this.context),this._execStatements(this.ast,this.context)}dispatchWorkgroups($,Q,J,Z){let X=this.context.clone();(Z=Z!=null?Z:{}).constants&&this._setOverrides(Z.constants,X),this._execStatements(this.ast,X);let W=X.getFunction($);if(!W)return void console.error(`Function ${$} not found`);if(typeof Q=="number")Q=[Q,1,1];else{if(Q.length===0)return void console.error("Invalid dispatch count");Q.length===1?Q=[Q[0],1,1]:Q.length===2?Q=[Q[0],Q[1],1]:Q.length>3&&(Q=[Q[0],Q[1],Q[2]])}let H=Q[0],F=Q[1],V=Q[2],D=this.getTypeInfo("vec3u");X.setVariable("@num_workgroups",new E(Q,D));let C=this.reflection.getFunctionInfo($);C===null&&console.error(`Function ${$} not found in reflection data`);for(let z in J)for(let R in J[z]){let k=J[z][R];X.variables.forEach((P)=>{var S;let T=P.node;if(T==null?void 0:T.attributes){let _=null,v=null;for(let L of T.attributes)L.name==="binding"?_=L.value:L.name==="group"&&(v=L.value);if(R==_&&z==v){let L=!1;for(let f of C.resources)if(f.name===P.name&&f.group===parseInt(z)&&f.binding===parseInt(R)){L=!0;break}if(L)if(k.texture!==void 0&&k.descriptor!==void 0){let f=new A8(k.texture,this.getTypeInfo(T.type),k.descriptor,(S=k.texture.view)!==null&&S!==void 0?S:null);P.value=f}else k.uniform!==void 0?P.value=new V5(k.uniform,this.getTypeInfo(T.type)):P.value=new V5(k,this.getTypeInfo(T.type))}}})}for(let z=0;z<V;++z)for(let R=0;R<F;++R)for(let k=0;k<H;++k)X.setVariable("@workgroup_id",new E([k,R,z],this.getTypeInfo("vec3u"))),this._dispatchWorkgroup(W,[k,R,z],X)}execStatement($,Q){if($ instanceof iP)return this.evalExpression($.value,Q);if($ instanceof sP){if($.condition){let J=this.evalExpression($.condition,Q);if(!(J instanceof g))throw Error("Invalid break-if condition");if(!J.value)return null}return K6._breakObj}if($ instanceof oP)return K6._continueObj;if($ instanceof ZZ)this._let($,Q);else if($ instanceof B3)this._var($,Q);else if($ instanceof wY)this._const($,Q);else if($ instanceof XZ)this._function($,Q);else{if($ instanceof uP)return this._if($,Q);if($ instanceof pP)return this._switch($,Q);if($ instanceof mP)return this._for($,Q);if($ instanceof fP)return this._while($,Q);if($ instanceof lP)return this._loop($,Q);if($ instanceof yU){let J=Q.clone();return J.currentFunctionName=Q.currentFunctionName,this._execStatements($.body,J)}if($ instanceof dP)this._assign($,Q);else if($ instanceof cP)this._increment($,Q);else{if($ instanceof z3)return null;if($ instanceof dU){let J=$.name;Q.getVariable(J)===null&&Q.setVariable(J,new g(0,this.getTypeInfo("u32")))}else if($ instanceof lU)this._call($,Q);else{if($ instanceof nP)return null;if($ instanceof pU)return null;console.error("Invalid statement type.",$,`Line ${$.line}`)}}}return null}evalExpression($,Q){return $ instanceof l4?this._evalBinaryOp($,Q):$ instanceof T5?this._evalLiteral($,Q):$ instanceof c6?this._evalVariable($,Q):$ instanceof uU?this._evalCall($,Q):$ instanceof w7?this._evalCreate($,Q):$ instanceof aP?this._evalConst($,Q):$ instanceof rP?this._evalBitcast($,Q):$ instanceof k5?this._evalUnaryOp($,Q):(console.error("Invalid expression type",$,`Line ${$.line}`),null)}getTypeInfo($){var Q;if($ instanceof K1){let Z=this.reflection.getTypeInfo($);if(Z!==null)return Z}let J=(Q=this.typeInfo[$])!==null&&Q!==void 0?Q:null;return J!==null||(J=this.reflection.getTypeInfoByName($)),J}_setOverrides($,Q){for(let J in $){let Z=$[J],X=this.reflection.getOverrideInfo(J);X!==null?(X.type===null&&(X.type=this.getTypeInfo("u32")),X.type.name==="u32"||X.type.name==="i32"||X.type.name==="f32"||X.type.name==="f16"?Q.setVariable(J,new g(Z,X.type)):X.type.name==="bool"?Q.setVariable(J,new g(Z?1:0,X.type)):X.type.name==="vec2"||X.type.name==="vec3"||X.type.name==="vec4"||X.type.name==="vec2f"||X.type.name==="vec3f"||X.type.name==="vec4f"||X.type.name==="vec2i"||X.type.name==="vec3i"||X.type.name==="vec4i"||X.type.name==="vec2u"||X.type.name==="vec3u"||X.type.name==="vec4u"||X.type.name==="vec2h"||X.type.name==="vec3h"||X.type.name==="vec4h"?Q.setVariable(J,new E(Z,X.type)):console.error(`Invalid constant type for ${J}`)):console.error(`Override ${J} does not exist in the shader.`)}}_dispatchWorkgroup($,Q,J){let Z=[1,1,1];for(let D of $.node.attributes)if(D.name==="workgroup_size"){if(D.value.length>0){let C=J.getVariableValue(D.value[0]);Z[0]=C instanceof g?C.value:parseInt(D.value[0])}if(D.value.length>1){let C=J.getVariableValue(D.value[1]);Z[1]=C instanceof g?C.value:parseInt(D.value[1])}if(D.value.length>2){let C=J.getVariableValue(D.value[2]);Z[2]=C instanceof g?C.value:parseInt(D.value[2])}}let X=this.getTypeInfo("vec3u"),W=this.getTypeInfo("u32");J.setVariable("@workgroup_size",new E(Z,X));let H=Z[0],F=Z[1],V=Z[2];for(let D=0,C=0;D<V;++D)for(let z=0;z<F;++z)for(let R=0;R<H;++R,++C){let k=[R,z,D],P=[R+Q[0]*Z[0],z+Q[1]*Z[1],D+Q[2]*Z[2]];J.setVariable("@local_invocation_id",new E(k,X)),J.setVariable("@global_invocation_id",new E(P,X)),J.setVariable("@local_invocation_index",new g(C,W)),this._dispatchExec($,J)}}_dispatchExec($,Q){for(let J of $.node.args)for(let Z of J.attributes)if(Z.name==="builtin"){let X=`@${Z.value}`,W=Q.getVariable(X);W!==void 0&&Q.variables.set(J.name,W)}this._execStatements($.node.body,Q)}getVariableName($,Q){for(;$ instanceof k5;)$=$.right;return $ instanceof c6?$.name:(console.error("Unknown variable type",$,"Line",$.line),null)}_execStatements($,Q){for(let J of $){if(J instanceof Array){let X=Q.clone(),W=this._execStatements(J,X);if(W)return W;continue}let Z=this.execStatement(J,Q);if(Z)return Z}return null}_call($,Q){let J=Q.clone();J.currentFunctionName=$.name;let Z=Q.getFunction($.name);if(Z){for(let X=0;X<Z.node.args.length;++X){let W=Z.node.args[X],H=this.evalExpression($.args[X],J);J.setVariable(W.name,H,W)}this._execStatements(Z.node.body,J)}else if($.isBuiltin)this._callBuiltinFunction($,J);else this.getTypeInfo($.name)&&this._evalCreate($,Q)}_increment($,Q){let J=this.getVariableName($.variable,Q),Z=Q.getVariable(J);Z?$.operator==="++"?Z.value instanceof g?Z.value.value++:console.error(`Variable ${J} is not a scalar. Line ${$.line}`):$.operator==="--"?Z.value instanceof g?Z.value.value--:console.error(`Variable ${J} is not a scalar. Line ${$.line}`):console.error(`Unknown increment operator ${$.operator}. Line ${$.line}`):console.error(`Variable ${J} not found. Line ${$.line}`)}_getVariableData($,Q){if($ instanceof c6){let J=this.getVariableName($,Q),Z=Q.getVariable(J);return Z===null?(console.error(`Variable ${J} not found. Line ${$.line}`),null):Z.value.getSubData(this,$.postfix,Q)}if($ instanceof k5){if($.operator==="*"){let J=this._getVariableData($.right,Q);return J instanceof x$?J.reference.getSubData(this,$.postfix,Q):(console.error(`Variable ${$.right} is not a pointer. Line ${$.line}`),null)}if($.operator==="&"){let J=this._getVariableData($.right,Q);return new x$(J)}}return null}_assign($,Q){let J=null,Z="<var>",X=null;if($.variable instanceof k5){let F=this._getVariableData($.variable,Q),V=this.evalExpression($.value,Q),D=$.operator;if(D==="="){if(F instanceof g||F instanceof E||F instanceof f1){if(V instanceof g||V instanceof E||V instanceof f1&&F.data.length===V.data.length)return void F.data.set(V.data);console.error(`Invalid assignment. Line ${$.line}`)}else if(F instanceof V5&&V instanceof V5&&F.buffer.byteLength-F.offset>=V.buffer.byteLength-V.offset)return void(F.buffer.byteLength%4==0?new Uint32Array(F.buffer,F.offset,F.typeInfo.size/4).set(new Uint32Array(V.buffer,V.offset,V.typeInfo.size/4)):new Uint8Array(F.buffer,F.offset,F.typeInfo.size).set(new Uint8Array(V.buffer,V.offset,V.typeInfo.size)));return console.error(`Invalid assignment. Line ${$.line}`),null}if(D==="+=")return F instanceof g||F instanceof E||F instanceof f1?V instanceof g||V instanceof E||V instanceof f1?void F.data.set(V.data.map((C,z)=>F.data[z]+C)):void console.error(`Invalid assignment . Line ${$.line}`):void console.error(`Invalid assignment. Line ${$.line}`);if(D==="-=")return(F instanceof g||F instanceof E||F instanceof f1)&&(V instanceof g||V instanceof E||V instanceof f1)?void F.data.set(V.data.map((C,z)=>F.data[z]-C)):void console.error(`Invalid assignment. Line ${$.line}`)}if($.variable instanceof k5){if($.variable.operator==="*"){Z=this.getVariableName($.variable.right,Q);let F=Q.getVariable(Z);if(!(F&&F.value instanceof x$))return void console.error(`Variable ${Z} is not a pointer. Line ${$.line}`);J=F.value.reference;let V=$.variable.postfix;if(!V){let D=$.variable.right;for(;D instanceof k5;){if(D.postfix){V=D.postfix;break}D=D.right}}V&&(J=J.getSubData(this,V,Q))}}else{X=$.variable.postfix,Z=this.getVariableName($.variable,Q);let F=Q.getVariable(Z);if(F===null)return void console.error(`Variable ${Z} not found. Line ${$.line}`);J=F.value}if(J instanceof x$&&(J=J.reference),J===null)return void console.error(`Variable ${Z} not found. Line ${$.line}`);let W=this.evalExpression($.value,Q),H=$.operator;if(H!=="="){let F=J.getSubData(this,X,Q);if(F instanceof E&&W instanceof g){let V=F.data,D=W.value;if(H==="+=")for(let C=0;C<V.length;++C)V[C]+=D;else if(H==="-=")for(let C=0;C<V.length;++C)V[C]-=D;else if(H==="*=")for(let C=0;C<V.length;++C)V[C]*=D;else if(H==="/=")for(let C=0;C<V.length;++C)V[C]/=D;else if(H==="%=")for(let C=0;C<V.length;++C)V[C]%=D;else if(H==="&=")for(let C=0;C<V.length;++C)V[C]&=D;else if(H==="|=")for(let C=0;C<V.length;++C)V[C]|=D;else if(H==="^=")for(let C=0;C<V.length;++C)V[C]^=D;else if(H==="<<=")for(let C=0;C<V.length;++C)V[C]<<=D;else if(H===">>=")for(let C=0;C<V.length;++C)V[C]>>=D;else console.error(`Invalid operator ${H}. Line ${$.line}`)}else if(F instanceof E&&W instanceof E){let V=F.data,D=W.data;if(V.length!==D.length)return void console.error(`Vector length mismatch. Line ${$.line}`);if(H==="+=")for(let C=0;C<V.length;++C)V[C]+=D[C];else if(H==="-=")for(let C=0;C<V.length;++C)V[C]-=D[C];else if(H==="*=")for(let C=0;C<V.length;++C)V[C]*=D[C];else if(H==="/=")for(let C=0;C<V.length;++C)V[C]/=D[C];else if(H==="%=")for(let C=0;C<V.length;++C)V[C]%=D[C];else if(H==="&=")for(let C=0;C<V.length;++C)V[C]&=D[C];else if(H==="|=")for(let C=0;C<V.length;++C)V[C]|=D[C];else if(H==="^=")for(let C=0;C<V.length;++C)V[C]^=D[C];else if(H==="<<=")for(let C=0;C<V.length;++C)V[C]<<=D[C];else if(H===">>=")for(let C=0;C<V.length;++C)V[C]>>=D[C];else console.error(`Invalid operator ${H}. Line ${$.line}`)}else{if(!(F instanceof g&&W instanceof g))return void console.error(`Invalid type for ${$.operator} operator. Line ${$.line}`);H==="+="?F.value+=W.value:H==="-="?F.value-=W.value:H==="*="?F.value*=W.value:H==="/="?F.value/=W.value:H==="%="?F.value%=W.value:H==="&="?F.value&=W.value:H==="|="?F.value|=W.value:H==="^="?F.value^=W.value:H==="<<="?F.value<<=W.value:H===">>="?F.value>>=W.value:console.error(`Invalid operator ${H}. Line ${$.line}`)}return void(J instanceof V5&&J.setDataValue(this,F,X,Q))}if(J instanceof V5)J.setDataValue(this,W,X,Q);else if(X){if(!(J instanceof E||J instanceof f1))return void console.error(`Variable ${Z} is not a vector or matrix. Line ${$.line}`);if(X instanceof g$){let F=this.evalExpression(X.index,Q).value;if(J instanceof E){if(!(W instanceof g))return void console.error(`Invalid assignment to ${Z}. Line ${$.line}`);J.data[F]=W.value}else{if(!(J instanceof f1))return void console.error(`Invalid assignment to ${Z}. Line ${$.line}`);{let V=this.evalExpression(X.index,Q).value;if(V<0)return void console.error(`Invalid assignment to ${Z}. Line ${$.line}`);if(!(W instanceof E))return void console.error(`Invalid assignment to ${Z}. Line ${$.line}`);{let D=J.typeInfo.getTypeName();if(D==="mat2x2"||D==="mat2x2f"||D==="mat2x2h"){if(!(V<2&&W.data.length===2))return void console.error(`Invalid assignment to ${Z}. Line ${$.line}`);J.data[2*V]=W.data[0],J.data[2*V+1]=W.data[1]}else if(D==="mat2x3"||D==="mat2x3f"||D==="mat2x3h"){if(!(V<2&&W.data.length===3))return void console.error(`Invalid assignment to ${Z}. Line ${$.line}`);J.data[3*V]=W.data[0],J.data[3*V+1]=W.data[1],J.data[3*V+2]=W.data[2]}else if(D==="mat2x4"||D==="mat2x4f"||D==="mat2x4h"){if(!(V<2&&W.data.length===4))return void console.error(`Invalid assignment to ${Z}. Line ${$.line}`);J.data[4*V]=W.data[0],J.data[4*V+1]=W.data[1],J.data[4*V+2]=W.data[2],J.data[4*V+3]=W.data[3]}else if(D==="mat3x2"||D==="mat3x2f"||D==="mat3x2h"){if(!(V<3&&W.data.length===2))return void console.error(`Invalid assignment to ${Z}. Line ${$.line}`);J.data[2*V]=W.data[0],J.data[2*V+1]=W.data[1]}else if(D==="mat3x3"||D==="mat3x3f"||D==="mat3x3h"){if(!(V<3&&W.data.length===3))return void console.error(`Invalid assignment to ${Z}. Line ${$.line}`);J.data[3*V]=W.data[0],J.data[3*V+1]=W.data[1],J.data[3*V+2]=W.data[2]}else if(D==="mat3x4"||D==="mat3x4f"||D==="mat3x4h"){if(!(V<3&&W.data.length===4))return void console.error(`Invalid assignment to ${Z}. Line ${$.line}`);J.data[4*V]=W.data[0],J.data[4*V+1]=W.data[1],J.data[4*V+2]=W.data[2],J.data[4*V+3]=W.data[3]}else if(D==="mat4x2"||D==="mat4x2f"||D==="mat4x2h"){if(!(V<4&&W.data.length===2))return void console.error(`Invalid assignment to ${Z}. Line ${$.line}`);J.data[2*V]=W.data[0],J.data[2*V+1]=W.data[1]}else if(D==="mat4x3"||D==="mat4x3f"||D==="mat4x3h"){if(!(V<4&&W.data.length===3))return void console.error(`Invalid assignment to ${Z}. Line ${$.line}`);J.data[3*V]=W.data[0],J.data[3*V+1]=W.data[1],J.data[3*V+2]=W.data[2]}else{if(D!=="mat4x4"&&D!=="mat4x4f"&&D!=="mat4x4h")return void console.error(`Invalid assignment to ${Z}. Line ${$.line}`);if(!(V<4&&W.data.length===4))return void console.error(`Invalid assignment to ${Z}. Line ${$.line}`);J.data[4*V]=W.data[0],J.data[4*V+1]=W.data[1],J.data[4*V+2]=W.data[2],J.data[4*V+3]=W.data[3]}}}}}else if(X instanceof a9){let F=X.value;if(!(J instanceof E))return void console.error(`Invalid assignment to ${F}. Variable ${Z} is not a vector. Line ${$.line}`);if(W instanceof g){if(F.length>1)return void console.error(`Invalid assignment to ${F} for variable ${Z}. Line ${$.line}`);if(F==="x")J.data[0]=W.value;else if(F==="y"){if(J.data.length<2)return void console.error(`Invalid assignment to ${F} for variable ${Z}. Line ${$.line}`);J.data[1]=W.value}else if(F==="z"){if(J.data.length<3)return void console.error(`Invalid assignment to ${F} for variable ${Z}. Line ${$.line}`);J.data[2]=W.value}else if(F==="w"){if(J.data.length<4)return void console.error(`Invalid assignment to ${F} for variable ${Z}. Line ${$.line}`);J.data[3]=W.value}}else{if(!(W instanceof E))return void console.error(`Invalid assignment to ${Z}. Line ${$.line}`);if(F.length!==W.data.length)return void console.error(`Invalid assignment to ${F} for variable ${Z}. Line ${$.line}`);for(let V=0;V<F.length;++V){let D=F[V];if(D==="x"||D==="r")J.data[0]=W.data[V];else if(D==="y"||D==="g"){if(W.data.length<2)return void console.error(`Invalid assignment to ${D} for variable ${Z}. Line ${$.line}`);J.data[1]=W.data[V]}else if(D==="z"||D==="b"){if(W.data.length<3)return void console.error(`Invalid assignment to ${D} for variable ${Z}. Line ${$.line}`);J.data[2]=W.data[V]}else{if(D!=="w"&&D!=="a")return void console.error(`Invalid assignment to ${D} for variable ${Z}. Line ${$.line}`);if(W.data.length<4)return void console.error(`Invalid assignment to ${D} for variable ${Z}. Line ${$.line}`);J.data[3]=W.data[V]}}}}}else J instanceof g&&W instanceof g?J.value=W.value:J instanceof E&&W instanceof E||J instanceof f1&&W instanceof f1?J.data.set(W.data):console.error(`Invalid assignment to ${Z}. Line ${$.line}`)}_function($,Q){let J=new XM($);Q.functions.set($.name,J)}_const($,Q){let J=null;$.value!==null&&(J=this.evalExpression($.value,Q)),Q.createVariable($.name,J,$)}_let($,Q){let J=null;if($.value!==null){if(J=this.evalExpression($.value,Q),J===null)return void console.error(`Invalid value for variable ${$.name}. Line ${$.line}`);$.value instanceof k5||(J=J.clone())}else{let Z=$.type.name;if(Z==="f32"||Z==="i32"||Z==="u32"||Z==="bool"||Z==="f16"||Z==="vec2"||Z==="vec3"||Z==="vec4"||Z==="vec2f"||Z==="vec3f"||Z==="vec4f"||Z==="vec2i"||Z==="vec3i"||Z==="vec4i"||Z==="vec2u"||Z==="vec3u"||Z==="vec4u"||Z==="vec2h"||Z==="vec3h"||Z==="vec4h"||Z==="vec2b"||Z==="vec3b"||Z==="vec4b"||Z==="mat2x2"||Z==="mat2x3"||Z==="mat2x4"||Z==="mat3x2"||Z==="mat3x3"||Z==="mat3x4"||Z==="mat4x2"||Z==="mat4x3"||Z==="mat4x4"||Z==="mat2x2f"||Z==="mat2x3f"||Z==="mat2x4f"||Z==="mat3x2f"||Z==="mat3x3f"||Z==="mat3x4f"||Z==="mat4x2f"||Z==="mat4x3f"||Z==="mat4x4f"||Z==="mat2x2h"||Z==="mat2x3h"||Z==="mat2x4h"||Z==="mat3x2h"||Z==="mat3x3h"||Z==="mat3x4h"||Z==="mat4x2h"||Z==="mat4x3h"||Z==="mat4x4h"||Z==="array"){let X=new w7($.type,[]);J=this._evalCreate(X,Q)}}Q.createVariable($.name,J,$)}_var($,Q){let J=null;if($.value!==null){if(J=this.evalExpression($.value,Q),J===null)return void console.error(`Invalid value for variable ${$.name}. Line ${$.line}`);$.value instanceof k5||(J=J.clone())}else{if($.type===null)return void console.error(`Variable ${$.name} has no type. Line ${$.line}`);let Z=$.type.name;if(Z==="f32"||Z==="i32"||Z==="u32"||Z==="bool"||Z==="f16"||Z==="vec2"||Z==="vec3"||Z==="vec4"||Z==="vec2f"||Z==="vec3f"||Z==="vec4f"||Z==="vec2i"||Z==="vec3i"||Z==="vec4i"||Z==="vec2u"||Z==="vec3u"||Z==="vec4u"||Z==="vec2h"||Z==="vec3h"||Z==="vec4h"||Z==="vec2b"||Z==="vec3b"||Z==="vec4b"||Z==="mat2x2"||Z==="mat2x3"||Z==="mat2x4"||Z==="mat3x2"||Z==="mat3x3"||Z==="mat3x4"||Z==="mat4x2"||Z==="mat4x3"||Z==="mat4x4"||Z==="mat2x2f"||Z==="mat2x3f"||Z==="mat2x4f"||Z==="mat3x2f"||Z==="mat3x3f"||Z==="mat3x4f"||Z==="mat4x2f"||Z==="mat4x3f"||Z==="mat4x4f"||Z==="mat2x2h"||Z==="mat2x3h"||Z==="mat2x4h"||Z==="mat3x2h"||Z==="mat3x3h"||Z==="mat3x4h"||Z==="mat4x2h"||Z==="mat4x3h"||Z==="mat4x4h"||$.type instanceof KZ||$.type instanceof z3||$.type instanceof m){let X=new w7($.type,[]);J=this._evalCreate(X,Q)}}Q.createVariable($.name,J,$)}_switch($,Q){Q=Q.clone();let J=this.evalExpression($.condition,Q);if(!(J instanceof g))return console.error(`Invalid if condition. Line ${$.line}`),null;let Z=null;for(let X of $.cases)if(X instanceof $M)for(let W of X.selectors){if(W instanceof TY){Z=X;continue}let H=this.evalExpression(W,Q);if(!(H instanceof g))return console.error(`Invalid case selector. Line ${$.line}`),null;if(H.value===J.value)return this._execStatements(X.body,Q)}else X instanceof QM&&(Z=X);return Z?this._execStatements(Z.body,Q):null}_if($,Q){Q=Q.clone();let J=this.evalExpression($.condition,Q);if(!(J instanceof g))return console.error(`Invalid if condition. Line ${$.line}`),null;if(J.value)return this._execStatements($.body,Q);for(let Z of $.elseif){let X=this.evalExpression(Z.condition,Q);if(!(X instanceof g))return console.error(`Invalid if condition. Line ${$.line}`),null;if(X.value)return this._execStatements(Z.body,Q)}return $.else?this._execStatements($.else,Q):null}_getScalarValue($){return $ instanceof g?$.value:(console.error("Expected scalar value.",$),0)}_for($,Q){for(Q=Q.clone(),this.execStatement($.init,Q);this._getScalarValue(this.evalExpression($.condition,Q));){let J=this._execStatements($.body,Q);if(J===K6._breakObj)break;if(J!==null&&J!==K6._continueObj)return J;this.execStatement($.increment,Q)}return null}_loop($,Q){for(Q=Q.clone();;){let J=this._execStatements($.body,Q);if(J===K6._breakObj)break;if(J===K6._continueObj){if($.continuing){if(this._execStatements($.continuing.body,Q)===K6._breakObj)break}}else if(J!==null)return J}return null}_while($,Q){for(Q=Q.clone();this._getScalarValue(this.evalExpression($.condition,Q));){let J=this._execStatements($.body,Q);if(J===K6._breakObj)break;if(J!==K6._continueObj&&J!==null)return J}return null}_evalBitcast($,Q){let J=this.evalExpression($.value,Q),Z=$.type;if(J instanceof g){let X=Ci(J.value,J.typeInfo.name,Z.name);return new g(X,this.getTypeInfo(Z))}if(J instanceof E){let X=J.typeInfo.getTypeName(),W="";if(X.endsWith("f"))W="f32";else if(X.endsWith("i"))W="i32";else if(X.endsWith("u"))W="u32";else if(X.endsWith("b"))W="bool";else{if(!X.endsWith("h"))return console.error(`Unknown vector type ${X}. Line ${$.line}`),null;W="f16"}let H=Z.getTypeName(),F="";if(H.endsWith("f"))F="f32";else if(H.endsWith("i"))F="i32";else if(H.endsWith("u"))F="u32";else if(H.endsWith("b"))F="bool";else{if(!H.endsWith("h"))return console.error(`Unknown vector type ${F}. Line ${$.line}`),null;F="f16"}let V=function(D,C,z){if(C===z)return D;let R=Array(D.length);for(let k=0;k<D.length;k++)R[k]=Ci(D[k],C,z);return R}(Array.from(J.data),W,F);return new E(V,this.getTypeInfo(Z))}return console.error(`TODO: bitcast for ${J.typeInfo.name}. Line ${$.line}`),null}_evalConst($,Q){return Q.getVariableValue($.name).clone().getSubData(this,$.postfix,Q)}_evalCreate($,Q){var J;if($ instanceof w7){if($.type===null)return bU.void;switch($.type.getTypeName()){case"bool":case"i32":case"u32":case"f32":case"f16":return this._callConstructorValue($,Q);case"vec2":case"vec3":case"vec4":case"vec2f":case"vec3f":case"vec4f":case"vec2h":case"vec3h":case"vec4h":case"vec2i":case"vec3i":case"vec4i":case"vec2u":case"vec3u":case"vec4u":case"vec2b":case"vec3b":case"vec4b":return this._callConstructorVec($,Q);case"mat2x2":case"mat2x2f":case"mat2x2h":case"mat2x3":case"mat2x3f":case"mat2x3h":case"mat2x4":case"mat2x4f":case"mat2x4h":case"mat3x2":case"mat3x2f":case"mat3x2h":case"mat3x3":case"mat3x3f":case"mat3x3h":case"mat3x4":case"mat3x4f":case"mat3x4h":case"mat4x2":case"mat4x2f":case"mat4x2h":case"mat4x3":case"mat4x3f":case"mat4x3h":case"mat4x4":case"mat4x4f":case"mat4x4h":return this._callConstructorMatrix($,Q)}}let Z=$ instanceof w7?$.type.name:$.name,X=$ instanceof w7?this.getTypeInfo($.type):this.getTypeInfo($.name);if(X===null)return console.error(`Unknown type ${Z}. Line ${$.line}`),null;if(X.size===0)return null;let W=new V5(new ArrayBuffer(X.size),X,0);if(X instanceof z8){if($.args)for(let H=0;H<$.args.length;++H){let F=X.members[H],V=$.args[H],D=this.evalExpression(V,Q);W.setData(this,D,F.type,F.offset,Q)}}else if(X instanceof B8){let H=0;if($.args)for(let F=0;F<$.args.length;++F){let V=$.args[F],D=this.evalExpression(V,Q);X.format===null&&(((J=D.typeInfo)===null||J===void 0?void 0:J.name)==="x32"?X.format=this.getTypeInfo("i32"):X.format=D.typeInfo),W.setData(this,D,X.format,H,Q),H+=X.stride}}else console.error(`Unknown type "${Z}". Line ${$.line}`);return $ instanceof w7?W.getSubData(this,$.postfix,Q):W}_evalLiteral($,Q){let J=this.getTypeInfo($.type),Z=J.name;if(Z==="x32"||Z==="u32"||Z==="f32"||Z==="f16"||Z==="i32"||Z==="bool")return new g($.scalarValue,J);return Z==="vec2"||Z==="vec3"||Z==="vec4"||Z==="vec2f"||Z==="vec3f"||Z==="vec4f"||Z==="vec2h"||Z==="vec3h"||Z==="vec4h"||Z==="vec2i"||Z==="vec3i"||Z==="vec4i"||Z==="vec2u"||Z==="vec3u"||Z==="vec4u"?this._callConstructorVec($,Q):Z==="mat2x2"||Z==="mat2x3"||Z==="mat2x4"||Z==="mat3x2"||Z==="mat3x3"||Z==="mat3x4"||Z==="mat4x2"||Z==="mat4x3"||Z==="mat4x4"||Z==="mat2x2f"||Z==="mat2x3f"||Z==="mat2x4f"||Z==="mat3x2f"||Z==="mat3x3f"||Z==="mat3x4f"||Z==="mat4x2f"||Z==="mat4x3f"||Z==="mat4x4f"||Z==="mat2x2h"||Z==="mat2x3h"||Z==="mat2x4h"||Z==="mat3x2h"||Z==="mat3x3h"||Z==="mat3x4h"||Z==="mat4x2h"||Z==="mat4x3h"||Z==="mat4x4h"?this._callConstructorMatrix($,Q):$.value}_evalVariable($,Q){let J=Q.getVariableValue($.name);return J===null?J:J.getSubData(this,$.postfix,Q)}_maxFormatTypeInfo($){let Q=$[0];if(Q.name==="f32")return Q;for(let J=1;J<$.length;++J){let Z=K6._priority.get(Q.name);K6._priority.get($[J].name)<Z&&(Q=$[J])}return Q.name==="x32"?this.getTypeInfo("i32"):Q}_evalUnaryOp($,Q){let J=this.evalExpression($.right,Q);if($.operator==="&")return new x$(J);if($.operator==="*")return J instanceof x$?J.reference.getSubData(this,$.postfix,Q):(console.error(`Invalid dereference. Line ${$.line}`),null);let Z=J instanceof g?J.value:J instanceof E?Array.from(J.data):null;switch($.operator){case"+":{if(z1(Z)){let H=Z.map((F,V)=>+F);return new E(H,J.typeInfo)}let X=Z,W=this._maxFormatTypeInfo([J.typeInfo,J.typeInfo]);return new g(+X,W)}case"-":{if(z1(Z)){let H=Z.map((F,V)=>-F);return new E(H,J.typeInfo)}let X=Z,W=this._maxFormatTypeInfo([J.typeInfo,J.typeInfo]);return new g(-X,W)}case"!":{if(z1(Z)){let H=Z.map((F,V)=>F?0:1);return new E(H,J.typeInfo)}let X=Z,W=this._maxFormatTypeInfo([J.typeInfo,J.typeInfo]);return new g(X?0:1,W)}case"~":{if(z1(Z)){let H=Z.map((F,V)=>~F);return new E(H,J.typeInfo)}let X=Z,W=this._maxFormatTypeInfo([J.typeInfo,J.typeInfo]);return new g(~X,W)}}return console.error(`Invalid unary operator ${$.operator}. Line ${$.line}`),null}_evalBinaryOp($,Q){let J=this.evalExpression($.left,Q),Z=this.evalExpression($.right,Q),X=J instanceof g?J.value:J instanceof E||J instanceof f1?Array.from(J.data):null,W=Z instanceof g?Z.value:Z instanceof E||Z instanceof f1?Array.from(Z.data):null;switch($.operator){case"+":{if(z1(X)&&z1(W)){let D=X,C=W;if(D.length!==C.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let z=D.map((R,k)=>R+C[k]);return new E(z,J.typeInfo)}if(z1(X)){let D=W,C=X.map((z,R)=>z+D);return new E(C,J.typeInfo)}if(z1(W)){let D=X,C=W.map((z,R)=>D+z);return new E(C,Z.typeInfo)}let H=X,F=W,V=this._maxFormatTypeInfo([J.typeInfo,Z.typeInfo]);return new g(H+F,V)}case"-":{if(z1(X)&&z1(W)){let D=X,C=W;if(D.length!==C.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let z=D.map((R,k)=>R-C[k]);return new E(z,J.typeInfo)}if(z1(X)){let D=W,C=X.map((z,R)=>z-D);return new E(C,J.typeInfo)}if(z1(W)){let D=X,C=W.map((z,R)=>D-z);return new E(C,Z.typeInfo)}let H=X,F=W,V=this._maxFormatTypeInfo([J.typeInfo,Z.typeInfo]);return new g(H-F,V)}case"*":{if(z1(X)&&z1(W)){let D=X,C=W;if(J instanceof f1&&Z instanceof f1){let z=function(S,T,_,v){if(P6[T.name]===void 0||P6[v.name]===void 0)return null;let L=P6[T.name][0],f=P6[T.name][1],l=P6[v.name][0];if(L!==P6[v.name][1])return null;let J1=Array(l*f);for(let Y1=0;Y1<f;Y1++)for(let H1=0;H1<l;H1++){let Q1=0;for(let W1=0;W1<L;W1++)Q1+=S[W1*f+Y1]*_[H1*L+W1];J1[Y1*l+H1]=Q1}return J1}(D,J.typeInfo,C,Z.typeInfo);if(z===null)return console.error(`Matrix multiplication failed. Line ${$.line}.`),null;let R=P6[Z.typeInfo.name][0],k=P6[J.typeInfo.name][1],P=this.getTypeInfo(`mat${R}x${k}f`);return new f1(z,P)}if(J instanceof f1&&Z instanceof E){let z=function(R,k,P,S){if(P6[k.name]===void 0||LP[S.name]===void 0)return null;let T=P6[k.name][0],_=P6[k.name][1];if(T!==P.length)return null;let v=Array(_);for(let L=0;L<_;L++){let f=0;for(let l=0;l<T;l++)f+=R[l*_+L]*P[l];v[L]=f}return v}(D,J.typeInfo,C,Z.typeInfo);return z===null?(console.error(`Matrix vector multiplication failed. Line ${$.line}.`),null):new E(z,Z.typeInfo)}if(J instanceof E&&Z instanceof f1){let z=function(R,k,P,S){if(LP[k.name]===void 0||P6[S.name]===void 0)return null;let T=P6[S.name][0],_=P6[S.name][1];if(_!==R.length)return null;let v=[];for(let L=0;L<T;L++){let f=0;for(let l=0;l<_;l++)f+=R[l]*P[l*T+L];v[L]=f}return v}(D,J.typeInfo,C,Z.typeInfo);return z===null?(console.error(`Matrix vector multiplication failed. Line ${$.line}.`),null):new E(z,J.typeInfo)}{if(D.length!==C.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let z=D.map((R,k)=>R*C[k]);return new E(z,J.typeInfo)}}if(z1(X)){let D=W,C=X.map((z,R)=>z*D);return J instanceof f1?new f1(C,J.typeInfo):new E(C,J.typeInfo)}if(z1(W)){let D=X,C=W.map((z,R)=>D*z);return Z instanceof f1?new f1(C,Z.typeInfo):new E(C,Z.typeInfo)}let H=X,F=W,V=this._maxFormatTypeInfo([J.typeInfo,Z.typeInfo]);return new g(H*F,V)}case"%":{if(z1(X)&&z1(W)){let D=X,C=W;if(D.length!==C.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let z=D.map((R,k)=>R%C[k]);return new E(z,J.typeInfo)}if(z1(X)){let D=W,C=X.map((z,R)=>z%D);return new E(C,J.typeInfo)}if(z1(W)){let D=X,C=W.map((z,R)=>D%z);return new E(C,Z.typeInfo)}let H=X,F=W,V=this._maxFormatTypeInfo([J.typeInfo,Z.typeInfo]);return new g(H%F,V)}case"/":{if(z1(X)&&z1(W)){let D=X,C=W;if(D.length!==C.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let z=D.map((R,k)=>R/C[k]);return new E(z,J.typeInfo)}if(z1(X)){let D=W,C=X.map((z,R)=>z/D);return new E(C,J.typeInfo)}if(z1(W)){let D=X,C=W.map((z,R)=>D/z);return new E(C,Z.typeInfo)}let H=X,F=W,V=this._maxFormatTypeInfo([J.typeInfo,Z.typeInfo]);return new g(H/F,V)}case"&":{if(z1(X)&&z1(W)){let D=X,C=W;if(D.length!==C.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let z=D.map((R,k)=>R&C[k]);return new E(z,J.typeInfo)}if(z1(X)){let D=W,C=X.map((z,R)=>z&D);return new E(C,J.typeInfo)}if(z1(W)){let D=X,C=W.map((z,R)=>D&z);return new E(C,Z.typeInfo)}let H=X,F=W,V=this._maxFormatTypeInfo([J.typeInfo,Z.typeInfo]);return new g(H&F,V)}case"|":{if(z1(X)&&z1(W)){let D=X,C=W;if(D.length!==C.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let z=D.map((R,k)=>R|C[k]);return new E(z,J.typeInfo)}if(z1(X)){let D=W,C=X.map((z,R)=>z|D);return new E(C,J.typeInfo)}if(z1(W)){let D=X,C=W.map((z,R)=>D|z);return new E(C,Z.typeInfo)}let H=X,F=W,V=this._maxFormatTypeInfo([J.typeInfo,Z.typeInfo]);return new g(H|F,V)}case"^":{if(z1(X)&&z1(W)){let D=X,C=W;if(D.length!==C.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let z=D.map((R,k)=>R^C[k]);return new E(z,J.typeInfo)}if(z1(X)){let D=W,C=X.map((z,R)=>z^D);return new E(C,J.typeInfo)}if(z1(W)){let D=X,C=W.map((z,R)=>D^z);return new E(C,Z.typeInfo)}let H=X,F=W,V=this._maxFormatTypeInfo([J.typeInfo,Z.typeInfo]);return new g(H^F,V)}case"<<":{if(z1(X)&&z1(W)){let D=X,C=W;if(D.length!==C.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let z=D.map((R,k)=>R<<C[k]);return new E(z,J.typeInfo)}if(z1(X)){let D=W,C=X.map((z,R)=>z<<D);return new E(C,J.typeInfo)}if(z1(W)){let D=X,C=W.map((z,R)=>D<<z);return new E(C,Z.typeInfo)}let H=X,F=W,V=this._maxFormatTypeInfo([J.typeInfo,Z.typeInfo]);return new g(H<<F,V)}case">>":{if(z1(X)&&z1(W)){let D=X,C=W;if(D.length!==C.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let z=D.map((R,k)=>R>>C[k]);return new E(z,J.typeInfo)}if(z1(X)){let D=W,C=X.map((z,R)=>z>>D);return new E(C,J.typeInfo)}if(z1(W)){let D=X,C=W.map((z,R)=>D>>z);return new E(C,Z.typeInfo)}let H=X,F=W,V=this._maxFormatTypeInfo([J.typeInfo,Z.typeInfo]);return new g(H>>F,V)}case">":if(z1(X)&&z1(W)){let H=X,F=W;if(H.length!==F.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let V=H.map((D,C)=>D>F[C]?1:0);return new E(V,J.typeInfo)}if(z1(X)){let H=W,F=X.map((V,D)=>V>H?1:0);return new E(F,J.typeInfo)}if(z1(W)){let H=X,F=W.map((V,D)=>H>V?1:0);return new E(F,Z.typeInfo)}return new g(X>W?1:0,this.getTypeInfo("bool"));case"<":if(z1(X)&&z1(W)){let H=X,F=W;if(H.length!==F.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let V=H.map((D,C)=>D<F[C]?1:0);return new E(V,J.typeInfo)}if(z1(X)){let H=W,F=X.map((V,D)=>V<H?1:0);return new E(F,J.typeInfo)}if(z1(W)){let H=X,F=W.map((V,D)=>H<V?1:0);return new E(F,Z.typeInfo)}return new g(X<W?1:0,this.getTypeInfo("bool"));case"==":if(z1(X)&&z1(W)){let H=X,F=W;if(H.length!==F.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let V=H.map((D,C)=>D===F[C]?1:0);return new E(V,J.typeInfo)}if(z1(X)){let H=W,F=X.map((V,D)=>V==H?1:0);return new E(F,J.typeInfo)}if(z1(W)){let H=X,F=W.map((V,D)=>H==V?1:0);return new E(F,Z.typeInfo)}return new g(X===W?1:0,this.getTypeInfo("bool"));case"!=":if(z1(X)&&z1(W)){let H=X,F=W;if(H.length!==F.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let V=H.map((D,C)=>D!==F[C]?1:0);return new E(V,J.typeInfo)}if(z1(X)){let H=W,F=X.map((V,D)=>V!==H?1:0);return new E(F,J.typeInfo)}if(z1(W)){let H=X,F=W.map((V,D)=>H!==V?1:0);return new E(F,Z.typeInfo)}return new g(X!==W?1:0,this.getTypeInfo("bool"));case">=":if(z1(X)&&z1(W)){let H=X,F=W;if(H.length!==F.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let V=H.map((D,C)=>D>=F[C]?1:0);return new E(V,J.typeInfo)}if(z1(X)){let H=W,F=X.map((V,D)=>V>=H?1:0);return new E(F,J.typeInfo)}if(z1(W)){let H=X,F=W.map((V,D)=>H>=V?1:0);return new E(F,Z.typeInfo)}return new g(X>=W?1:0,this.getTypeInfo("bool"));case"<=":if(z1(X)&&z1(W)){let H=X,F=W;if(H.length!==F.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let V=H.map((D,C)=>D<=F[C]?1:0);return new E(V,J.typeInfo)}if(z1(X)){let H=W,F=X.map((V,D)=>V<=H?1:0);return new E(F,J.typeInfo)}if(z1(W)){let H=X,F=W.map((V,D)=>H<=V?1:0);return new E(F,Z.typeInfo)}return new g(X<=W?1:0,this.getTypeInfo("bool"));case"&&":if(z1(X)&&z1(W)){let H=X,F=W;if(H.length!==F.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let V=H.map((D,C)=>D&&F[C]?1:0);return new E(V,J.typeInfo)}if(z1(X)){let H=W,F=X.map((V,D)=>V&&H?1:0);return new E(F,J.typeInfo)}if(z1(W)){let H=X,F=W.map((V,D)=>H&&V?1:0);return new E(F,Z.typeInfo)}return new g(X&&W?1:0,this.getTypeInfo("bool"));case"||":if(z1(X)&&z1(W)){let H=X,F=W;if(H.length!==F.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let V=H.map((D,C)=>D||F[C]?1:0);return new E(V,J.typeInfo)}if(z1(X)){let H=W,F=X.map((V,D)=>V||H?1:0);return new E(F,J.typeInfo)}if(z1(W)){let H=X,F=W.map((V,D)=>H||V?1:0);return new E(F,Z.typeInfo)}return new g(X||W?1:0,this.getTypeInfo("bool"))}return console.error(`Unknown operator ${$.operator}. Line ${$.line}`),null}_evalCall($,Q){if($.cachedReturnValue!==null)return $.cachedReturnValue;let J=Q.clone();J.currentFunctionName=$.name;let Z=Q.getFunction($.name);if(!Z){if($.isBuiltin)return this._callBuiltinFunction($,J);return this.getTypeInfo($.name)?this._evalCreate($,Q):(console.error(`Unknown function "${$.name}". Line ${$.line}`),null)}for(let X=0;X<Z.node.args.length;++X){let W=Z.node.args[X],H=this.evalExpression($.args[X],J);J.createVariable(W.name,H,W)}return this._execStatements(Z.node.body,J)}_callBuiltinFunction($,Q){switch($.name){case"all":return this.builtins.All($,Q);case"any":return this.builtins.Any($,Q);case"select":return this.builtins.Select($,Q);case"arrayLength":return this.builtins.ArrayLength($,Q);case"abs":return this.builtins.Abs($,Q);case"acos":return this.builtins.Acos($,Q);case"acosh":return this.builtins.Acosh($,Q);case"asin":return this.builtins.Asin($,Q);case"asinh":return this.builtins.Asinh($,Q);case"atan":return this.builtins.Atan($,Q);case"atanh":return this.builtins.Atanh($,Q);case"atan2":return this.builtins.Atan2($,Q);case"ceil":return this.builtins.Ceil($,Q);case"clamp":return this.builtins.Clamp($,Q);case"cos":return this.builtins.Cos($,Q);case"cosh":return this.builtins.Cosh($,Q);case"countLeadingZeros":return this.builtins.CountLeadingZeros($,Q);case"countOneBits":return this.builtins.CountOneBits($,Q);case"countTrailingZeros":return this.builtins.CountTrailingZeros($,Q);case"cross":return this.builtins.Cross($,Q);case"degrees":return this.builtins.Degrees($,Q);case"determinant":return this.builtins.Determinant($,Q);case"distance":return this.builtins.Distance($,Q);case"dot":return this.builtins.Dot($,Q);case"dot4U8Packed":return this.builtins.Dot4U8Packed($,Q);case"dot4I8Packed":return this.builtins.Dot4I8Packed($,Q);case"exp":return this.builtins.Exp($,Q);case"exp2":return this.builtins.Exp2($,Q);case"extractBits":return this.builtins.ExtractBits($,Q);case"faceForward":return this.builtins.FaceForward($,Q);case"firstLeadingBit":return this.builtins.FirstLeadingBit($,Q);case"firstTrailingBit":return this.builtins.FirstTrailingBit($,Q);case"floor":return this.builtins.Floor($,Q);case"fma":return this.builtins.Fma($,Q);case"fract":return this.builtins.Fract($,Q);case"frexp":return this.builtins.Frexp($,Q);case"insertBits":return this.builtins.InsertBits($,Q);case"inverseSqrt":return this.builtins.InverseSqrt($,Q);case"ldexp":return this.builtins.Ldexp($,Q);case"length":return this.builtins.Length($,Q);case"log":return this.builtins.Log($,Q);case"log2":return this.builtins.Log2($,Q);case"max":return this.builtins.Max($,Q);case"min":return this.builtins.Min($,Q);case"mix":return this.builtins.Mix($,Q);case"modf":return this.builtins.Modf($,Q);case"normalize":return this.builtins.Normalize($,Q);case"pow":return this.builtins.Pow($,Q);case"quantizeToF16":return this.builtins.QuantizeToF16($,Q);case"radians":return this.builtins.Radians($,Q);case"reflect":return this.builtins.Reflect($,Q);case"refract":return this.builtins.Refract($,Q);case"reverseBits":return this.builtins.ReverseBits($,Q);case"round":return this.builtins.Round($,Q);case"saturate":return this.builtins.Saturate($,Q);case"sign":return this.builtins.Sign($,Q);case"sin":return this.builtins.Sin($,Q);case"sinh":return this.builtins.Sinh($,Q);case"smoothstep":return this.builtins.SmoothStep($,Q);case"sqrt":return this.builtins.Sqrt($,Q);case"step":return this.builtins.Step($,Q);case"tan":return this.builtins.Tan($,Q);case"tanh":return this.builtins.Tanh($,Q);case"transpose":return this.builtins.Transpose($,Q);case"trunc":return this.builtins.Trunc($,Q);case"dpdx":return this.builtins.Dpdx($,Q);case"dpdxCoarse":return this.builtins.DpdxCoarse($,Q);case"dpdxFine":return this.builtins.DpdxFine($,Q);case"dpdy":return this.builtins.Dpdy($,Q);case"dpdyCoarse":return this.builtins.DpdyCoarse($,Q);case"dpdyFine":return this.builtins.DpdyFine($,Q);case"fwidth":return this.builtins.Fwidth($,Q);case"fwidthCoarse":return this.builtins.FwidthCoarse($,Q);case"fwidthFine":return this.builtins.FwidthFine($,Q);case"textureDimensions":return this.builtins.TextureDimensions($,Q);case"textureGather":return this.builtins.TextureGather($,Q);case"textureGatherCompare":return this.builtins.TextureGatherCompare($,Q);case"textureLoad":return this.builtins.TextureLoad($,Q);case"textureNumLayers":return this.builtins.TextureNumLayers($,Q);case"textureNumLevels":return this.builtins.TextureNumLevels($,Q);case"textureNumSamples":return this.builtins.TextureNumSamples($,Q);case"textureSample":return this.builtins.TextureSample($,Q);case"textureSampleBias":return this.builtins.TextureSampleBias($,Q);case"textureSampleCompare":return this.builtins.TextureSampleCompare($,Q);case"textureSampleCompareLevel":return this.builtins.TextureSampleCompareLevel($,Q);case"textureSampleGrad":return this.builtins.TextureSampleGrad($,Q);case"textureSampleLevel":return this.builtins.TextureSampleLevel($,Q);case"textureSampleBaseClampToEdge":return this.builtins.TextureSampleBaseClampToEdge($,Q);case"textureStore":return this.builtins.TextureStore($,Q);case"atomicLoad":return this.builtins.AtomicLoad($,Q);case"atomicStore":return this.builtins.AtomicStore($,Q);case"atomicAdd":return this.builtins.AtomicAdd($,Q);case"atomicSub":return this.builtins.AtomicSub($,Q);case"atomicMax":return this.builtins.AtomicMax($,Q);case"atomicMin":return this.builtins.AtomicMin($,Q);case"atomicAnd":return this.builtins.AtomicAnd($,Q);case"atomicOr":return this.builtins.AtomicOr($,Q);case"atomicXor":return this.builtins.AtomicXor($,Q);case"atomicExchange":return this.builtins.AtomicExchange($,Q);case"atomicCompareExchangeWeak":return this.builtins.AtomicCompareExchangeWeak($,Q);case"pack4x8snorm":return this.builtins.Pack4x8snorm($,Q);case"pack4x8unorm":return this.builtins.Pack4x8unorm($,Q);case"pack4xI8":return this.builtins.Pack4xI8($,Q);case"pack4xU8":return this.builtins.Pack4xU8($,Q);case"pack4x8Clamp":return this.builtins.Pack4x8Clamp($,Q);case"pack4xU8Clamp":return this.builtins.Pack4xU8Clamp($,Q);case"pack2x16snorm":return this.builtins.Pack2x16snorm($,Q);case"pack2x16unorm":return this.builtins.Pack2x16unorm($,Q);case"pack2x16float":return this.builtins.Pack2x16float($,Q);case"unpack4x8snorm":return this.builtins.Unpack4x8snorm($,Q);case"unpack4x8unorm":return this.builtins.Unpack4x8unorm($,Q);case"unpack4xI8":return this.builtins.Unpack4xI8($,Q);case"unpack4xU8":return this.builtins.Unpack4xU8($,Q);case"unpack2x16snorm":return this.builtins.Unpack2x16snorm($,Q);case"unpack2x16unorm":return this.builtins.Unpack2x16unorm($,Q);case"unpack2x16float":return this.builtins.Unpack2x16float($,Q);case"storageBarrier":return this.builtins.StorageBarrier($,Q);case"textureBarrier":return this.builtins.TextureBarrier($,Q);case"workgroupBarrier":return this.builtins.WorkgroupBarrier($,Q);case"workgroupUniformLoad":return this.builtins.WorkgroupUniformLoad($,Q);case"subgroupAdd":return this.builtins.SubgroupAdd($,Q);case"subgroupExclusiveAdd":return this.builtins.SubgroupExclusiveAdd($,Q);case"subgroupInclusiveAdd":return this.builtins.SubgroupInclusiveAdd($,Q);case"subgroupAll":return this.builtins.SubgroupAll($,Q);case"subgroupAnd":return this.builtins.SubgroupAnd($,Q);case"subgroupAny":return this.builtins.SubgroupAny($,Q);case"subgroupBallot":return this.builtins.SubgroupBallot($,Q);case"subgroupBroadcast":return this.builtins.SubgroupBroadcast($,Q);case"subgroupBroadcastFirst":return this.builtins.SubgroupBroadcastFirst($,Q);case"subgroupElect":return this.builtins.SubgroupElect($,Q);case"subgroupMax":return this.builtins.SubgroupMax($,Q);case"subgroupMin":return this.builtins.SubgroupMin($,Q);case"subgroupMul":return this.builtins.SubgroupMul($,Q);case"subgroupExclusiveMul":return this.builtins.SubgroupExclusiveMul($,Q);case"subgroupInclusiveMul":return this.builtins.SubgroupInclusiveMul($,Q);case"subgroupOr":return this.builtins.SubgroupOr($,Q);case"subgroupShuffle":return this.builtins.SubgroupShuffle($,Q);case"subgroupShuffleDown":return this.builtins.SubgroupShuffleDown($,Q);case"subgroupShuffleUp":return this.builtins.SubgroupShuffleUp($,Q);case"subgroupShuffleXor":return this.builtins.SubgroupShuffleXor($,Q);case"subgroupXor":return this.builtins.SubgroupXor($,Q);case"quadBroadcast":return this.builtins.QuadBroadcast($,Q);case"quadSwapDiagonal":return this.builtins.QuadSwapDiagonal($,Q);case"quadSwapX":return this.builtins.QuadSwapX($,Q);case"quadSwapY":return this.builtins.QuadSwapY($,Q)}let J=Q.getFunction($.name);if(J){let Z=Q.clone();for(let X=0;X<J.node.args.length;++X){let W=J.node.args[X],H=this.evalExpression($.args[X],Z);Z.setVariable(W.name,H,W)}return this._execStatements(J.node.body,Z)}return null}_callConstructorValue($,Q){if(!$.args||$.args.length===0)return new g(0,this.getTypeInfo($.type));let J=this.evalExpression($.args[0],Q);return J.typeInfo=this.getTypeInfo($.type),J.getSubData(this,$.postfix,Q).clone()}_callConstructorVec($,Q){let J=this.getTypeInfo($.type),Z=$.type.getTypeName(),X=LP[Z];if(X===void 0)return console.error(`Invalid vec constructor ${Z}. Line ${$.line}`),null;let W=[];if($ instanceof T5)if($.isVector){let H=$.vectorValue;for(let F of H)W.push(F)}else W.push($.scalarValue);else if($.args)for(let H of $.args){let F=this.evalExpression(H,Q);if(F instanceof E){let V=F.data;for(let D=0;D<V.length;++D){let C=V[D];W.push(C)}}else if(F instanceof g){let V=F.value;W.push(V)}}if($.type instanceof m&&$.type.format===null&&($.type.format=m.f32),W.length===0){let H=Array(X).fill(0);return new E(H,J).getSubData(this,$.postfix,Q)}if(W.length===1)for(;W.length<X;)W.push(W[0]);if(W.length<X)return console.error(`Invalid vec constructor. Line ${$.line}`),null;return new E(W.length>X?W.slice(0,X):W,J).getSubData(this,$.postfix,Q)}_callConstructorMatrix($,Q){let J=this.getTypeInfo($.type),Z=$.type.getTypeName(),X=P6[Z];if(X===void 0)return console.error(`Invalid matrix constructor ${Z}. Line ${$.line}`),null;let W=[];if($ instanceof T5)if($.isVector){let H=$.vectorValue;for(let F of H)W.push(F)}else W.push($.scalarValue);else if($.args)for(let H of $.args){let F=this.evalExpression(H,Q);F instanceof E?W.push(...F.data):F instanceof g?W.push(F.value):F instanceof f1&&W.push(...F.data)}if(J instanceof o9&&J.format===null&&(J.format=this.getTypeInfo("f32")),W.length===0){let H=Array(X[2]).fill(0);return new f1(H,J).getSubData(this,$.postfix,Q)}return W.length!==X[2]?(console.error(`Invalid matrix constructor. Line ${$.line}`),null):new f1(W,J).getSubData(this,$.postfix,Q)}}K6._breakObj=new p4(new Y4("BREAK",null),null),K6._continueObj=new p4(new Y4("CONTINUE",null),null),K6._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);class _i{constructor(){this.constants=new Map,this.aliases=new Map,this.structs=new Map}}class xi{constructor(){this._tokens=[],this._current=0,this._currentLine=1,this._deferArrayCountEval=[],this._currentLoop=[],this._context=new _i,this._exec=new K6,this._forwardTypeCount=0}parse($){this._initialize($),this._deferArrayCountEval.length=0;let Q=[];for(;!this._isAtEnd();){let J=this._global_decl_or_directive();if(!J)break;Q.push(J)}if(this._deferArrayCountEval.length>0){for(let J of this._deferArrayCountEval){let{arrayType:Z,countNode:X}=J;if(X instanceof c6){let W=X.name,H=this._context.constants.get(W);if(H)try{let F=H.constEvaluate(this._exec);Z.count=F}catch(F){}}}this._deferArrayCountEval.length=0}if(this._forwardTypeCount>0)for(let J of Q)J.search((Z)=>{Z instanceof gP||Z instanceof SY?Z.type=this._forwardType(Z.type):Z instanceof KZ?Z.format=this._forwardType(Z.format):Z instanceof B3||Z instanceof ZZ||Z instanceof wY?Z.type=this._forwardType(Z.type):Z instanceof XZ?Z.returnType=this._forwardType(Z.returnType):Z instanceof xP&&(Z.type=this._forwardType(Z.type))});return Q}_forwardType($){if($ instanceof _P){let Q=this._getType($.name);if(Q)return Q}else $ instanceof SY?$.type=this._forwardType($.type):$ instanceof KZ&&($.format=this._forwardType($.format));return $}_initialize($){if($)if(typeof $=="string"){let Q=new ji($);this._tokens=Q.scanTokens()}else this._tokens=$;else this._tokens=[];this._current=0}_updateNode($,Q){return $.line=Q!=null?Q:this._currentLine,$}_error($,Q){return{token:$,message:Q,toString:()=>`${Q}`}}_isAtEnd(){return this._current>=this._tokens.length||this._peek().type==I.eof}_match($){if($ instanceof b)return!!this._check($)&&(this._advance(),!0);for(let Q=0,J=$.length;Q<J;++Q){let Z=$[Q];if(this._check(Z))return this._advance(),!0}return!1}_consume($,Q){if(this._check($))return this._advance();throw this._error(this._peek(),`${Q}. Line:${this._currentLine}`)}_check($){if(this._isAtEnd())return!1;let Q=this._peek();if($ instanceof Array){let J=Q.type,Z=!1;for(let X of $){if(J===X)return!0;X===I.tokens.name&&(Z=!0)}if(Z){let X=I.tokens.name.rule.exec(Q.lexeme);if(X&&X.index==0&&X[0]==Q.lexeme)return!0}return!1}if(Q.type===$)return!0;if($===I.tokens.name){let J=I.tokens.name.rule.exec(Q.lexeme);return J&&J.index==0&&J[0]==Q.lexeme}return!1}_advance(){var $,Q;return this._currentLine=(Q=($=this._peek())===null||$===void 0?void 0:$.line)!==null&&Q!==void 0?Q:-1,this._isAtEnd()||this._current++,this._previous()}_peek(){return this._tokens[this._current]}_previous(){return this._tokens[this._current-1]}_global_decl_or_directive(){for(;this._match(I.tokens.semicolon)&&!this._isAtEnd(););if(this._match(I.keywords.alias)){let Q=this._type_alias();return this._consume(I.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([Q]),Q}if(this._match(I.keywords.diagnostic)){let Q=this._diagnostic();return this._consume(I.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([Q]),Q}if(this._match(I.keywords.requires)){let Q=this._requires_directive();return this._consume(I.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([Q]),Q}if(this._match(I.keywords.enable)){let Q=this._enable_directive();return this._consume(I.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([Q]),Q}let $=this._attribute();if(this._check(I.keywords.var)){let Q=this._global_variable_decl();return Q!=null&&(Q.attributes=$),this._consume(I.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([Q]),Q}if(this._check(I.keywords.override)){let Q=this._override_variable_decl();return Q!=null&&(Q.attributes=$),this._consume(I.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([Q]),Q}if(this._check(I.keywords.let)){let Q=this._global_let_decl();return Q!=null&&(Q.attributes=$),this._consume(I.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([Q]),Q}if(this._check(I.keywords.const)){let Q=this._global_const_decl();return Q!=null&&(Q.attributes=$),this._consume(I.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([Q]),Q}if(this._check(I.keywords.struct)){let Q=this._struct_decl();return Q!=null&&(Q.attributes=$),this._exec.reflection.updateAST([Q]),Q}if(this._check(I.keywords.fn)){let Q=this._function_decl();return Q!=null&&(Q.attributes=$),this._exec.reflection.updateAST([Q]),Q}return null}_function_decl(){if(!this._match(I.keywords.fn))return null;let $=this._currentLine,Q=this._consume(I.tokens.ident,"Expected function name.").toString();this._consume(I.tokens.paren_left,"Expected '(' for function arguments.");let J=[];if(!this._check(I.tokens.paren_right))do{if(this._check(I.tokens.paren_right))break;let H=this._attribute(),F=this._consume(I.tokens.name,"Expected argument name.").toString();this._consume(I.tokens.colon,"Expected ':' for argument type.");let V=this._attribute(),D=this._type_decl();D!=null&&(D.attributes=V,J.push(this._updateNode(new xP(F,D,H))))}while(this._match(I.tokens.comma));this._consume(I.tokens.paren_right,"Expected ')' after function arguments.");let Z=null;if(this._match(I.tokens.arrow)){let H=this._attribute();Z=this._type_decl(),Z!=null&&(Z.attributes=H)}let X=this._compound_statement(),W=this._currentLine;return this._updateNode(new XZ(Q,J,Z,X,$,W),$)}_compound_statement(){let $=[];for(this._consume(I.tokens.brace_left,"Expected '{' for block.");!this._check(I.tokens.brace_right);){let Q=this._statement();Q!==null&&$.push(Q)}return this._consume(I.tokens.brace_right,"Expected '}' for block."),$}_statement(){for(;this._match(I.tokens.semicolon)&&!this._isAtEnd(););if(this._check(I.tokens.attr)&&this._attribute(),this._check(I.keywords.if))return this._if_statement();if(this._check(I.keywords.switch))return this._switch_statement();if(this._check(I.keywords.loop))return this._loop_statement();if(this._check(I.keywords.for))return this._for_statement();if(this._check(I.keywords.while))return this._while_statement();if(this._check(I.keywords.continuing))return this._continuing_statement();if(this._check(I.keywords.static_assert))return this._static_assert_statement();if(this._check(I.tokens.brace_left))return this._compound_statement();let $=null;if(this._check(I.keywords.return))$=this._return_statement();else if(this._check([I.keywords.var,I.keywords.let,I.keywords.const]))$=this._variable_statement();else if(this._match(I.keywords.discard))$=this._updateNode(new Gi);else if(this._match(I.keywords.break)){let Q=this._updateNode(new sP);if(this._currentLoop.length>0){let J=this._currentLoop[this._currentLoop.length-1];Q.loopId=J.id}$=Q,this._check(I.keywords.if)&&(this._advance(),Q.condition=this._optional_paren_expression())}else if(this._match(I.keywords.continue)){let Q=this._updateNode(new oP);if(!(this._currentLoop.length>0))throw this._error(this._peek(),`Continue statement must be inside a loop. Line: ${Q.line}`);{let J=this._currentLoop[this._currentLoop.length-1];Q.loopId=J.id}$=Q}else $=this._increment_decrement_statement()||this._func_call_statement()||this._assignment_statement();return $!=null&&this._consume(I.tokens.semicolon,"Expected ';' after statement."),$}_static_assert_statement(){if(!this._match(I.keywords.static_assert))return null;let $=this._currentLine,Q=this._optional_paren_expression();return this._updateNode(new Si(Q),$)}_while_statement(){if(!this._match(I.keywords.while))return null;let $=this._updateNode(new fP(null,null));return this._currentLoop.push($),$.condition=this._optional_paren_expression(),this._check(I.tokens.attr)&&this._attribute(),$.body=this._compound_statement(),this._currentLoop.pop(),$}_continuing_statement(){let $=this._currentLoop.length>0?this._currentLoop[this._currentLoop.length-1].id:-1;if(!this._match(I.keywords.continuing))return null;let Q=this._currentLine,J=this._compound_statement();return this._updateNode(new yU(J,$),Q)}_for_statement(){if(!this._match(I.keywords.for))return null;this._consume(I.tokens.paren_left,"Expected '('.");let $=this._updateNode(new mP(null,null,null,null));return this._currentLoop.push($),$.init=this._check(I.tokens.semicolon)?null:this._for_init(),this._consume(I.tokens.semicolon,"Expected ';'."),$.condition=this._check(I.tokens.semicolon)?null:this._short_circuit_or_expression(),this._consume(I.tokens.semicolon,"Expected ';'."),$.increment=this._check(I.tokens.paren_right)?null:this._for_increment(),this._consume(I.tokens.paren_right,"Expected ')'."),this._check(I.tokens.attr)&&this._attribute(),$.body=this._compound_statement(),this._currentLoop.pop(),$}_for_init(){return this._variable_statement()||this._func_call_statement()||this._assignment_statement()}_for_increment(){return this._func_call_statement()||this._increment_decrement_statement()||this._assignment_statement()}_variable_statement(){if(this._check(I.keywords.var)){let $=this._variable_decl();if($===null)throw this._error(this._peek(),"Variable declaration expected.");let Q=null;return this._match(I.tokens.equal)&&(Q=this._short_circuit_or_expression()),this._updateNode(new B3($.name,$.type,$.storage,$.access,Q),$.line)}if(this._match(I.keywords.let)){let $=this._currentLine,Q=this._consume(I.tokens.name,"Expected name for let.").toString(),J=null;if(this._match(I.tokens.colon)){let X=this._attribute();J=this._type_decl(),J!=null&&(J.attributes=X)}this._consume(I.tokens.equal,"Expected '=' for let.");let Z=this._short_circuit_or_expression();return this._updateNode(new ZZ(Q,J,null,null,Z),$)}if(this._match(I.keywords.const)){let $=this._currentLine,Q=this._consume(I.tokens.name,"Expected name for const.").toString(),J=null;if(this._match(I.tokens.colon)){let X=this._attribute();J=this._type_decl(),J!=null&&(J.attributes=X)}this._consume(I.tokens.equal,"Expected '=' for const.");let Z=this._short_circuit_or_expression();return J===null&&Z instanceof T5&&(J=Z.type),this._updateNode(new wY(Q,J,null,null,Z),$)}return null}_increment_decrement_statement(){let $=this._current,Q=this._unary_expression();if(Q==null)return null;if(!this._check(I.increment_operators))return this._current=$,null;let J=this._consume(I.increment_operators,"Expected increment operator");return this._updateNode(new cP(J.type===I.tokens.plus_plus?QZ.increment:QZ.decrement,Q))}_assignment_statement(){let $=null,Q=this._currentLine;if(this._check(I.tokens.brace_right))return null;let J=this._match(I.tokens.underscore);if(J||($=this._unary_expression()),!J&&$==null)return null;let Z=this._consume(I.assignment_operators,"Expected assignment operator."),X=this._short_circuit_or_expression();return this._updateNode(new dP(PY.parse(Z.lexeme),$,X),Q)}_func_call_statement(){if(!this._check(I.tokens.ident))return null;let $=this._currentLine,Q=this._current,J=this._consume(I.tokens.ident,"Expected function name."),Z=this._argument_expression_list();return Z===null?(this._current=Q,null):this._updateNode(new lU(J.lexeme,Z),$)}_loop_statement(){if(!this._match(I.keywords.loop))return null;this._check(I.tokens.attr)&&this._attribute(),this._consume(I.tokens.brace_left,"Expected '{' for loop.");let $=this._updateNode(new lP([],null));this._currentLoop.push($);let Q=this._statement();for(;Q!==null;){if(Array.isArray(Q))for(let J of Q)$.body.push(J);else $.body.push(Q);if(Q instanceof yU){$.continuing=Q;break}Q=this._statement()}return this._currentLoop.pop(),this._consume(I.tokens.brace_right,"Expected '}' for loop."),$}_switch_statement(){if(!this._match(I.keywords.switch))return null;let $=this._updateNode(new pP(null,[]));if(this._currentLoop.push($),$.condition=this._optional_paren_expression(),this._check(I.tokens.attr)&&this._attribute(),this._consume(I.tokens.brace_left,"Expected '{' for switch."),$.cases=this._switch_body(),$.cases==null||$.cases.length==0)throw this._error(this._previous(),"Expected 'case' or 'default'.");return this._consume(I.tokens.brace_right,"Expected '}' for switch."),this._currentLoop.pop(),$}_switch_body(){let $=[],Q=!1;for(;this._check([I.keywords.default,I.keywords.case]);){if(this._match(I.keywords.case)){let J=this._case_selectors();for(let X of J)if(X instanceof TY){if(Q)throw this._error(this._previous(),"Multiple default cases in switch statement.");Q=!0;break}this._match(I.tokens.colon),this._check(I.tokens.attr)&&this._attribute(),this._consume(I.tokens.brace_left,"Exected '{' for switch case.");let Z=this._case_body();this._consume(I.tokens.brace_right,"Exected '}' for switch case."),$.push(this._updateNode(new $M(J,Z)))}if(this._match(I.keywords.default)){if(Q)throw this._error(this._previous(),"Multiple default cases in switch statement.");this._match(I.tokens.colon),this._check(I.tokens.attr)&&this._attribute(),this._consume(I.tokens.brace_left,"Exected '{' for switch default.");let J=this._case_body();this._consume(I.tokens.brace_right,"Exected '}' for switch default."),$.push(this._updateNode(new QM(J)))}}return $}_case_selectors(){let $=[];for(this._match(I.keywords.default)?$.push(this._updateNode(new TY)):$.push(this._shift_expression());this._match(I.tokens.comma);)this._match(I.keywords.default)?$.push(this._updateNode(new TY)):$.push(this._shift_expression());return $}_case_body(){if(this._match(I.keywords.fallthrough))return this._consume(I.tokens.semicolon,"Expected ';'"),[];let $=this._statement();if($==null)return[];$ instanceof Array||($=[$]);let Q=this._case_body();return Q.length==0?$:[...$,Q[0]]}_if_statement(){if(!this._match(I.keywords.if))return null;let $=this._currentLine,Q=this._optional_paren_expression();this._check(I.tokens.attr)&&this._attribute();let J=this._compound_statement(),Z=[];this._match_elseif()&&(this._check(I.tokens.attr)&&this._attribute(),Z=this._elseif_statement(Z));let X=null;return this._match(I.keywords.else)&&(this._check(I.tokens.attr)&&this._attribute(),X=this._compound_statement()),this._updateNode(new uP(Q,J,Z,X),$)}_match_elseif(){return this._tokens[this._current].type===I.keywords.else&&this._tokens[this._current+1].type===I.keywords.if&&(this._advance(),this._advance(),!0)}_elseif_statement($=[]){let Q=this._optional_paren_expression(),J=this._compound_statement();return $.push(this._updateNode(new Ei(Q,J))),this._match_elseif()&&(this._check(I.tokens.attr)&&this._attribute(),this._elseif_statement($)),$}_return_statement(){if(!this._match(I.keywords.return))return null;let $=this._short_circuit_or_expression();return this._updateNode(new iP($))}_short_circuit_or_expression(){let $=this._short_circuit_and_expr();for(;this._match(I.tokens.or_or);)$=this._updateNode(new l4(this._previous().toString(),$,this._short_circuit_and_expr()));return $}_short_circuit_and_expr(){let $=this._inclusive_or_expression();for(;this._match(I.tokens.and_and);)$=this._updateNode(new l4(this._previous().toString(),$,this._inclusive_or_expression()));return $}_inclusive_or_expression(){let $=this._exclusive_or_expression();for(;this._match(I.tokens.or);)$=this._updateNode(new l4(this._previous().toString(),$,this._exclusive_or_expression()));return $}_exclusive_or_expression(){let $=this._and_expression();for(;this._match(I.tokens.xor);)$=this._updateNode(new l4(this._previous().toString(),$,this._and_expression()));return $}_and_expression(){let $=this._equality_expression();for(;this._match(I.tokens.and);)$=this._updateNode(new l4(this._previous().toString(),$,this._equality_expression()));return $}_equality_expression(){let $=this._relational_expression();return this._match([I.tokens.equal_equal,I.tokens.not_equal])?this._updateNode(new l4(this._previous().toString(),$,this._relational_expression())):$}_relational_expression(){let $=this._shift_expression();for(;this._match([I.tokens.less_than,I.tokens.greater_than,I.tokens.less_than_equal,I.tokens.greater_than_equal]);)$=this._updateNode(new l4(this._previous().toString(),$,this._shift_expression()));return $}_shift_expression(){let $=this._additive_expression();for(;this._match([I.tokens.shift_left,I.tokens.shift_right]);)$=this._updateNode(new l4(this._previous().toString(),$,this._additive_expression()));return $}_additive_expression(){let $=this._multiplicative_expression();for(;this._match([I.tokens.plus,I.tokens.minus]);)$=this._updateNode(new l4(this._previous().toString(),$,this._multiplicative_expression()));return $}_multiplicative_expression(){let $=this._unary_expression();for(;this._match([I.tokens.star,I.tokens.forward_slash,I.tokens.modulo]);)$=this._updateNode(new l4(this._previous().toString(),$,this._unary_expression()));return $}_unary_expression(){return this._match([I.tokens.minus,I.tokens.bang,I.tokens.tilde,I.tokens.star,I.tokens.and])?this._updateNode(new k5(this._previous().toString(),this._unary_expression())):this._singular_expression()}_singular_expression(){let $=this._primary_expression(),Q=this._postfix_expression();return Q&&($.postfix=Q),$}_postfix_expression(){if(this._match(I.tokens.bracket_left)){let $=this._short_circuit_or_expression();this._consume(I.tokens.bracket_right,"Expected ']'.");let Q=this._updateNode(new g$($)),J=this._postfix_expression();return J&&(Q.postfix=J),Q}if(this._match(I.tokens.period)){let $=this._consume(I.tokens.name,"Expected member name."),Q=this._postfix_expression(),J=this._updateNode(new a9($.lexeme));return Q&&(J.postfix=Q),J}return null}_getStruct($){if(this._context.aliases.has($))return this._context.aliases.get($).type;if(this._context.structs.has($))return this._context.structs.get($);return null}_getType($){let Q=this._getStruct($);if(Q!==null)return Q;switch($){case"void":return K1.void;case"bool":return K1.bool;case"i32":return K1.i32;case"u32":return K1.u32;case"f32":return K1.f32;case"f16":return K1.f16;case"vec2f":return m.vec2f;case"vec3f":return m.vec3f;case"vec4f":return m.vec4f;case"vec2i":return m.vec2i;case"vec3i":return m.vec3i;case"vec4i":return m.vec4i;case"vec2u":return m.vec2u;case"vec3u":return m.vec3u;case"vec4u":return m.vec4u;case"vec2h":return m.vec2h;case"vec3h":return m.vec3h;case"vec4h":return m.vec4h;case"mat2x2f":return m.mat2x2f;case"mat2x3f":return m.mat2x3f;case"mat2x4f":return m.mat2x4f;case"mat3x2f":return m.mat3x2f;case"mat3x3f":return m.mat3x3f;case"mat3x4f":return m.mat3x4f;case"mat4x2f":return m.mat4x2f;case"mat4x3f":return m.mat4x3f;case"mat4x4f":return m.mat4x4f;case"mat2x2h":return m.mat2x2h;case"mat2x3h":return m.mat2x3h;case"mat2x4h":return m.mat2x4h;case"mat3x2h":return m.mat3x2h;case"mat3x3h":return m.mat3x3h;case"mat3x4h":return m.mat3x4h;case"mat4x2h":return m.mat4x2h;case"mat4x3h":return m.mat4x3h;case"mat4x4h":return m.mat4x4h;case"mat2x2i":return m.mat2x2i;case"mat2x3i":return m.mat2x3i;case"mat2x4i":return m.mat2x4i;case"mat3x2i":return m.mat3x2i;case"mat3x3i":return m.mat3x3i;case"mat3x4i":return m.mat3x4i;case"mat4x2i":return m.mat4x2i;case"mat4x3i":return m.mat4x3i;case"mat4x4i":return m.mat4x4i;case"mat2x2u":return m.mat2x2u;case"mat2x3u":return m.mat2x3u;case"mat2x4u":return m.mat2x4u;case"mat3x2u":return m.mat3x2u;case"mat3x3u":return m.mat3x3u;case"mat3x4u":return m.mat3x4u;case"mat4x2u":return m.mat4x2u;case"mat4x3u":return m.mat4x3u;case"mat4x4u":return m.mat4x4u}return null}_validateTypeRange($,Q){if(Q.name==="i32"){if($<-2147483648||$>2147483647)throw this._error(this._previous(),`Value out of range for i32: ${$}. Line: ${this._currentLine}.`)}else if(Q.name==="u32"&&($<0||$>4294967295))throw this._error(this._previous(),`Value out of range for u32: ${$}. Line: ${this._currentLine}.`)}_primary_expression(){if(this._match(I.tokens.ident)){let J=this._previous().toString();if(this._check(I.tokens.paren_left)){let Z=this._argument_expression_list(),X=this._getType(J);return X!==null?this._updateNode(new w7(X,Z)):this._updateNode(new uU(J,Z))}if(this._context.constants.has(J)){let Z=this._context.constants.get(J);return this._updateNode(new aP(J,Z.value))}return this._updateNode(new c6(J))}if(this._match(I.tokens.int_literal)){let J=this._previous().toString(),Z=J.endsWith("i")||J.endsWith("i")?K1.i32:J.endsWith("u")||J.endsWith("U")?K1.u32:K1.x32,X=parseInt(J);return this._validateTypeRange(X,Z),this._updateNode(new T5(new g(X,this._exec.getTypeInfo(Z)),Z))}if(this._match(I.tokens.uint_literal)){let J=parseInt(this._previous().toString());return this._validateTypeRange(J,K1.u32),this._updateNode(new T5(new g(J,this._exec.getTypeInfo(K1.u32)),K1.u32))}if(this._match([I.tokens.decimal_float_literal,I.tokens.hex_float_literal])){let J=this._previous().toString(),Z=J.endsWith("h");Z&&(J=J.substring(0,J.length-1));let X=parseFloat(J);this._validateTypeRange(X,Z?K1.f16:K1.f32);let W=Z?K1.f16:K1.f32;return this._updateNode(new T5(new g(X,this._exec.getTypeInfo(W)),W))}if(this._match([I.keywords.true,I.keywords.false])){let J=this._previous().toString()===I.keywords.true.rule;return this._updateNode(new T5(new g(J?1:0,this._exec.getTypeInfo(K1.bool)),K1.bool))}if(this._check(I.tokens.paren_left))return this._paren_expression();if(this._match(I.keywords.bitcast)){this._consume(I.tokens.less_than,"Expected '<'.");let J=this._type_decl();this._consume(I.tokens.greater_than,"Expected '>'.");let Z=this._paren_expression();return this._updateNode(new rP(J,Z))}let $=this._type_decl(),Q=this._argument_expression_list();return this._updateNode(new w7($,Q))}_argument_expression_list(){if(!this._match(I.tokens.paren_left))return null;let $=[];do{if(this._check(I.tokens.paren_right))break;let Q=this._short_circuit_or_expression();$.push(Q)}while(this._match(I.tokens.comma));return this._consume(I.tokens.paren_right,"Expected ')' for agument list"),$}_optional_paren_expression(){this._match(I.tokens.paren_left);let $=this._short_circuit_or_expression();return this._match(I.tokens.paren_right),$}_paren_expression(){this._consume(I.tokens.paren_left,"Expected '('.");let $=this._short_circuit_or_expression();return this._consume(I.tokens.paren_right,"Expected ')'."),$}_struct_decl(){if(!this._match(I.keywords.struct))return null;let $=this._currentLine,Q=this._consume(I.tokens.ident,"Expected name for struct.").toString();this._consume(I.tokens.brace_left,"Expected '{' for struct body.");let J=[];for(;!this._check(I.tokens.brace_right);){let W=this._attribute(),H=this._consume(I.tokens.name,"Expected variable name.").toString();this._consume(I.tokens.colon,"Expected ':' for struct member type.");let F=this._attribute(),V=this._type_decl();V!=null&&(V.attributes=F),this._check(I.tokens.brace_right)?this._match(I.tokens.comma):this._consume(I.tokens.comma,"Expected ',' for struct member."),J.push(this._updateNode(new gP(H,V,W)))}this._consume(I.tokens.brace_right,"Expected '}' after struct body.");let Z=this._currentLine,X=this._updateNode(new z3(Q,J,$,Z),$);return this._context.structs.set(Q,X),X}_global_variable_decl(){let $=this._variable_decl();if(!$)return null;if(this._match(I.tokens.equal)){let Q=this._const_expression();$.value=Q}if($.type!==null&&$.value instanceof T5){if($.value.type.name!=="x32"){if($.type.getTypeName()!==$.value.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${$.value.type.name} to ${$.type.name}. Line:${this._currentLine}`)}$.value.isScalar&&this._validateTypeRange($.value.scalarValue,$.type),$.value.type=$.type}else $.type===null&&$.value instanceof T5&&($.type=$.value.type.name==="x32"?K1.i32:$.value.type,$.value.isScalar&&this._validateTypeRange($.value.scalarValue,$.type));return $}_override_variable_decl(){let $=this._override_decl();return $&&this._match(I.tokens.equal)&&($.value=this._const_expression()),$}_global_const_decl(){var $;if(!this._match(I.keywords.const))return null;let Q=this._consume(I.tokens.name,"Expected variable name"),J=this._currentLine,Z=null;if(this._match(I.tokens.colon)){let F=this._attribute();Z=this._type_decl(),Z!=null&&(Z.attributes=F)}let X=null;this._consume(I.tokens.equal,"const declarations require an assignment");let W=this._short_circuit_or_expression();try{let F=[K1.f32],V=W.constEvaluate(this._exec,F);V instanceof g&&this._validateTypeRange(V.value,F[0]),F[0]instanceof m&&F[0].format===null&&V.typeInfo instanceof o9&&V.typeInfo.format!==null&&(V.typeInfo.format.name==="f16"?F[0].format=K1.f16:V.typeInfo.format.name==="f32"?F[0].format=K1.f32:V.typeInfo.format.name==="i32"?F[0].format=K1.i32:V.typeInfo.format.name==="u32"?F[0].format=K1.u32:V.typeInfo.format.name==="bool"?F[0].format=K1.bool:console.error(`TODO: impelement template format type ${V.typeInfo.format.name}`)),X=this._updateNode(new T5(V,F[0])),this._exec.context.setVariable(Q.toString(),V)}catch(F){X=W}if(Z!==null&&X instanceof T5){if(X.type.name!=="x32"){if(Z.getTypeName()!==X.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${X.type.name} to ${Z.name}. Line:${this._currentLine}`)}X.type=Z,X.isScalar&&this._validateTypeRange(X.scalarValue,X.type)}else Z===null&&X instanceof T5&&(Z=($=X==null?void 0:X.type)!==null&&$!==void 0?$:K1.f32,Z===K1.x32&&(Z=K1.i32));let H=this._updateNode(new wY(Q.toString(),Z,"","",X),J);return this._context.constants.set(H.name,H),H}_global_let_decl(){if(!this._match(I.keywords.let))return null;let $=this._currentLine,Q=this._consume(I.tokens.name,"Expected variable name"),J=null;if(this._match(I.tokens.colon)){let X=this._attribute();J=this._type_decl(),J!=null&&(J.attributes=X)}let Z=null;if(this._match(I.tokens.equal)&&(Z=this._const_expression()),J!==null&&Z instanceof T5){if(Z.type.name!=="x32"){if(J.getTypeName()!==Z.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${Z.type.name} to ${J.name}. Line:${this._currentLine}`)}Z.type=J}else J===null&&Z instanceof T5&&(J=Z.type.name==="x32"?K1.i32:Z.type);return Z instanceof T5&&Z.isScalar&&this._validateTypeRange(Z.scalarValue,J),this._updateNode(new ZZ(Q.toString(),J,"","",Z),$)}_const_expression(){return this._short_circuit_or_expression()}_variable_decl(){if(!this._match(I.keywords.var))return null;let $=this._currentLine,Q="",J="";this._match(I.tokens.less_than)&&(Q=this._consume(I.storage_class,"Expected storage_class.").toString(),this._match(I.tokens.comma)&&(J=this._consume(I.access_mode,"Expected access_mode.").toString()),this._consume(I.tokens.greater_than,"Expected '>'."));let Z=this._consume(I.tokens.name,"Expected variable name"),X=null;if(this._match(I.tokens.colon)){let W=this._attribute();X=this._type_decl(),X!=null&&(X.attributes=W)}return this._updateNode(new B3(Z.toString(),X,Q,J,null),$)}_override_decl(){if(!this._match(I.keywords.override))return null;let $=this._consume(I.tokens.name,"Expected variable name"),Q=null;if(this._match(I.tokens.colon)){let J=this._attribute();Q=this._type_decl(),Q!=null&&(Q.attributes=J)}return this._updateNode(new dU($.toString(),Q,null))}_diagnostic(){this._consume(I.tokens.paren_left,"Expected '('");let $=this._consume(I.tokens.ident,"Expected severity control name.");this._consume(I.tokens.comma,"Expected ','");let Q=this._consume(I.tokens.ident,"Expected diagnostic rule name.").toString();if(this._match(I.tokens.period))Q+=`.${this._consume(I.tokens.ident,"Expected diagnostic message.").toString()}`;return this._consume(I.tokens.paren_right,"Expected ')'"),this._updateNode(new nP($.toString(),Q))}_enable_directive(){let $=this._consume(I.tokens.ident,"identity expected.");return this._updateNode(new Ti($.toString()))}_requires_directive(){let $=[this._consume(I.tokens.ident,"identity expected.").toString()];for(;this._match(I.tokens.comma);){let Q=this._consume(I.tokens.ident,"identity expected.");$.push(Q.toString())}return this._updateNode(new Ii($))}_type_alias(){let $=this._consume(I.tokens.ident,"identity expected.");this._consume(I.tokens.equal,"Expected '=' for type alias.");let Q=this._type_decl();if(Q===null)throw this._error(this._peek(),"Expected Type for Alias.");this._context.aliases.has(Q.name)&&(Q=this._context.aliases.get(Q.name).type);let J=this._updateNode(new pU($.toString(),Q));return this._context.aliases.set(J.name,J),J}_type_decl(){if(this._check([I.tokens.ident,...I.texel_format,I.keywords.bool,I.keywords.f32,I.keywords.i32,I.keywords.u32])){let J=this._advance().toString();if(this._context.structs.has(J))return this._context.structs.get(J);if(this._context.aliases.has(J))return this._context.aliases.get(J).type;if(!this._getType(J)){let Z=this._updateNode(new _P(J));return this._forwardTypeCount++,Z}return this._updateNode(new K1(J))}let $=this._texture_sampler_types();if($)return $;if(this._check(I.template_types)){let J=this._advance().toString(),Z=null,X=null;return this._match(I.tokens.less_than)&&(Z=this._type_decl(),X=null,this._match(I.tokens.comma)&&(X=this._consume(I.access_mode,"Expected access_mode for pointer").toString()),this._consume(I.tokens.greater_than,"Expected '>' for type.")),this._updateNode(new m(J,Z,X))}if(this._match(I.keywords.ptr)){let J=this._previous().toString();this._consume(I.tokens.less_than,"Expected '<' for pointer.");let Z=this._consume(I.storage_class,"Expected storage_class for pointer");this._consume(I.tokens.comma,"Expected ',' for pointer.");let X=this._type_decl(),W=null;return this._match(I.tokens.comma)&&(W=this._consume(I.access_mode,"Expected access_mode for pointer").toString()),this._consume(I.tokens.greater_than,"Expected '>' for pointer."),this._updateNode(new SY(J,Z.toString(),X,W))}let Q=this._attribute();if(this._match(I.keywords.array)){let J=null,Z=-1,X=this._previous(),W=null;if(this._match(I.tokens.less_than)){J=this._type_decl(),this._context.aliases.has(J.name)&&(J=this._context.aliases.get(J.name).type);let F="";if(this._match(I.tokens.comma)){W=this._shift_expression();try{F=W.constEvaluate(this._exec).toString(),W=null}catch(V){F="1"}}this._consume(I.tokens.greater_than,"Expected '>' for array."),Z=F?parseInt(F):0}let H=this._updateNode(new KZ(X.toString(),Q,J,Z));return W&&this._deferArrayCountEval.push({arrayType:H,countNode:W}),H}return null}_texture_sampler_types(){if(this._match(I.sampler_type))return this._updateNode(new JZ(this._previous().toString(),null,null));if(this._match(I.depth_texture_type))return this._updateNode(new JZ(this._previous().toString(),null,null));if(this._match(I.sampled_texture_type)||this._match(I.multisampled_texture_type)){let $=this._previous();this._consume(I.tokens.less_than,"Expected '<' for sampler type.");let Q=this._type_decl();return this._consume(I.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new JZ($.toString(),Q,null))}if(this._match(I.storage_texture_type)){let $=this._previous();this._consume(I.tokens.less_than,"Expected '<' for sampler type.");let Q=this._consume(I.texel_format,"Invalid texel format.").toString();this._consume(I.tokens.comma,"Expected ',' after texel format.");let J=this._consume(I.access_mode,"Expected access mode for storage texture type.").toString();return this._consume(I.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new JZ($.toString(),Q,J))}return null}_attribute(){let $=[];for(;this._match(I.tokens.attr);){let Q=this._consume(I.attribute_name,"Expected attribute name"),J=this._updateNode(new JM(Q.toString(),null));if(this._match(I.tokens.paren_left)){if(J.value=this._consume(I.literal_or_ident,"Expected attribute value").toString(),this._check(I.tokens.comma)){this._advance();do{let Z=this._consume(I.literal_or_ident,"Expected attribute value").toString();J.value instanceof Array||(J.value=[J.value]),J.value.push(Z)}while(this._match(I.tokens.comma))}this._consume(I.tokens.paren_right,"Expected ')'")}$.push(J)}return $.length==0?null:$}}class WM extends R3{constructor($){super(),$&&this.update($)}update($){let Q=new xi().parse($);this.updateAST(Q)}}function qM($){let Q={attributes:[],bindings:[]},J;try{J=tq1($)}catch(W){return X1.error(W.message)(),Q}for(let W of J.uniforms){let H=[];for(let F of W.type?.members||[])H.push({name:F.name,type:gi(F.type)});Q.bindings.push({type:"uniform",name:W.name,group:W.group,location:W.binding,members:H})}for(let W of J.textures)Q.bindings.push({type:"texture",name:W.name,group:W.group,location:W.binding});for(let W of J.samplers)Q.bindings.push({type:"sampler",name:W.name,group:W.group,location:W.binding});let Z=J.entry.vertex[0],X=Z?.inputs.length||0;for(let W=0;W<X;W++){let H=Z.inputs[W];if(H.locationType==="location"){let F=gi(H.type);Q.attributes.push({name:H.name,location:Number(H.location),type:F})}}return Q}function gi($){return $.format?`${$.name}<${$.format.name}>`:$.name}function tq1($){try{return new WM($)}catch(Q){if(Q instanceof Error)throw Q;let J="WGSL parse error";if(typeof Q==="object"&&Q?.message)J+=`: ${Q.message} `;if(typeof Q==="object"&&Q?.token)J+=Q.token.line||"";throw Error(J,{cause:Q})}}var i_1=1/Math.PI*180,n_1=0.005555555555555556*Math.PI,eq1={EPSILON:0.000000000001,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1};globalThis.mathgl=globalThis.mathgl||{config:{...eq1}};var f5=globalThis.mathgl.config;function HM($,{precision:Q=f5.precision}={}){return $=$H1($),`${parseFloat($.toPrecision(Q))}`}function R8($){return Array.isArray($)||ArrayBuffer.isView($)&&!($ instanceof DataView)}function n4($,Q,J){return JH1($,(Z)=>Math.max(Q,Math.min(J,Z)))}function y$($,Q,J){if(R8($))return $.map((Z,X)=>y$(Z,Q[X],J));return J*Q+(1-J)*$}function O8($,Q,J){let Z=f5.EPSILON;if(J)f5.EPSILON=J;try{if($===Q)return!0;if(R8($)&&R8(Q)){if($.length!==Q.length)return!1;for(let X=0;X<$.length;++X)if(!O8($[X],Q[X]))return!1;return!0}if($&&$.equals)return $.equals(Q);if(Q&&Q.equals)return Q.equals($);if(typeof $==="number"&&typeof Q==="number")return Math.abs($-Q)<=f5.EPSILON*Math.max(1,Math.abs($),Math.abs(Q));return!1}finally{f5.EPSILON=Z}}function $H1($){return Math.round($/f5.EPSILON)*f5.EPSILON}function QH1($){return $.clone?$.clone():Array($.length)}function JH1($,Q,J){if(R8($)){let Z=$;J=J||QH1(Z);for(let X=0;X<J.length&&X<Z.length;++X){let W=typeof $==="number"?$:$[X];J[X]=Q(W,X,J)}return J}return Q($)}class EY extends Array{clone(){return new this.constructor().copy(this)}fromArray($,Q=0){for(let J=0;J<this.ELEMENTS;++J)this[J]=$[J+Q];return this.check()}toArray($=[],Q=0){for(let J=0;J<this.ELEMENTS;++J)$[Q+J]=this[J];return $}toObject($){return $}from($){return Array.isArray($)?this.copy($):this.fromObject($)}to($){if($===this)return this;return R8($)?this.toArray($):this.toObject($)}toTarget($){return $?this.to($):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(f5)}formatString($){let Q="";for(let J=0;J<this.ELEMENTS;++J)Q+=(J>0?", ":"")+HM(this[J],$);return`${$.printTypes?this.constructor.name:""}[${Q}]`}equals($){if(!$||this.length!==$.length)return!1;for(let Q=0;Q<this.ELEMENTS;++Q)if(!O8(this[Q],$[Q]))return!1;return!0}exactEquals($){if(!$||this.length!==$.length)return!1;for(let Q=0;Q<this.ELEMENTS;++Q)if(this[Q]!==$[Q])return!1;return!0}negate(){for(let $=0;$<this.ELEMENTS;++$)this[$]=-this[$];return this.check()}lerp($,Q,J){if(J===void 0)return this.lerp(this,$,Q);for(let Z=0;Z<this.ELEMENTS;++Z){let X=$[Z],W=typeof Q==="number"?Q:Q[Z];this[Z]=X+J*(W-X)}return this.check()}min($){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]=Math.min($[Q],this[Q]);return this.check()}max($){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]=Math.max($[Q],this[Q]);return this.check()}clamp($,Q){for(let J=0;J<this.ELEMENTS;++J)this[J]=Math.min(Math.max(this[J],$[J]),Q[J]);return this.check()}add(...$){for(let Q of $)for(let J=0;J<this.ELEMENTS;++J)this[J]+=Q[J];return this.check()}subtract(...$){for(let Q of $)for(let J=0;J<this.ELEMENTS;++J)this[J]-=Q[J];return this.check()}scale($){if(typeof $==="number")for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]*=$;else for(let Q=0;Q<this.ELEMENTS&&Q<$.length;++Q)this[Q]*=$[Q];return this.check()}multiplyByScalar($){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]*=$;return this.check()}check(){if(f5.debug&&!this.validate())throw Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);return this}validate(){let $=this.length===this.ELEMENTS;for(let Q=0;Q<this.ELEMENTS;++Q)$=$&&Number.isFinite(this[Q]);return $}sub($){return this.subtract($)}setScalar($){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]=$;return this.check()}addScalar($){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]+=$;return this.check()}subScalar($){return this.addScalar(-$)}multiplyScalar($){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]*=$;return this.check()}divideScalar($){return this.multiplyByScalar(1/$)}clampScalar($,Q){for(let J=0;J<this.ELEMENTS;++J)this[J]=Math.min(Math.max(this[J],$),Q);return this.check()}get elements(){return this}}function ZH1($,Q){if($.length!==Q)return!1;for(let J=0;J<$.length;++J)if(!Number.isFinite($[J]))return!1;return!0}function X6($){if(!Number.isFinite($))throw Error(`Invalid number ${JSON.stringify($)}`);return $}function iU($,Q,J=""){if(f5.debug&&!ZH1($,Q))throw Error(`math.gl: ${J} some fields set to invalid numbers'`);return $}function FM($,Q){if(!$)throw Error(`math.gl assertion ${Q}`)}class UM extends EY{get x(){return this[0]}set x($){this[0]=X6($)}get y(){return this[1]}set y($){this[1]=X6($)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let $=0;for(let Q=0;Q<this.ELEMENTS;++Q)$+=this[Q]*this[Q];return $}magnitudeSquared(){return this.lengthSquared()}distance($){return Math.sqrt(this.distanceSquared($))}distanceSquared($){let Q=0;for(let J=0;J<this.ELEMENTS;++J){let Z=this[J]-$[J];Q+=Z*Z}return X6(Q)}dot($){let Q=0;for(let J=0;J<this.ELEMENTS;++J)Q+=this[J]*$[J];return X6(Q)}normalize(){let $=this.magnitude();if($!==0)for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]/=$;return this.check()}multiply(...$){for(let Q of $)for(let J=0;J<this.ELEMENTS;++J)this[J]*=Q[J];return this.check()}divide(...$){for(let Q of $)for(let J=0;J<this.ELEMENTS;++J)this[J]/=Q[J];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo($){return this.distance($)}distanceToSquared($){return this.distanceSquared($)}getComponent($){return FM($>=0&&$<this.ELEMENTS,"index is out of range"),X6(this[$])}setComponent($,Q){return FM($>=0&&$<this.ELEMENTS,"index is out of range"),this[$]=Q,this.check()}addVectors($,Q){return this.copy($).add(Q)}subVectors($,Q){return this.copy($).subtract(Q)}multiplyVectors($,Q){return this.copy($).multiply(Q)}addScaledVector($,Q){return this.add(new this.constructor($).multiplyScalar(Q))}}var k3={};QJ(k3,{zero:()=>GH1,transformMat4:()=>VM,transformMat3:()=>SH1,transformMat2d:()=>wH1,transformMat2:()=>MH1,subtract:()=>bi,sub:()=>vH1,str:()=>EH1,squaredLength:()=>pi,squaredDistance:()=>di,sqrLen:()=>bH1,sqrDist:()=>yH1,set:()=>WH1,scaleAndAdd:()=>CH1,scale:()=>DH1,round:()=>NH1,rotate:()=>TH1,random:()=>PH1,normalize:()=>BH1,negate:()=>AH1,multiply:()=>fi,mul:()=>_H1,min:()=>UH1,max:()=>VH1,lerp:()=>kH1,length:()=>li,len:()=>hH1,inverse:()=>zH1,fromValues:()=>XH1,forEach:()=>fH1,floor:()=>FH1,exactEquals:()=>jH1,equals:()=>LH1,dot:()=>RH1,divide:()=>mi,div:()=>xH1,distance:()=>ci,dist:()=>gH1,cross:()=>OH1,create:()=>yi,copy:()=>YH1,clone:()=>KH1,ceil:()=>HH1,angle:()=>IH1,add:()=>qH1});var R0=0.000001,N5=typeof Float32Array<"u"?Float32Array:Array,O3=Math.random;function s4($){if($>=0)return Math.round($);return $%0.5===0?Math.floor($):Math.round($)}var Kx1=Math.PI/180;function yi(){let $=new N5(2);if(N5!=Float32Array)$[0]=0,$[1]=0;return $}function KH1($){let Q=new N5(2);return Q[0]=$[0],Q[1]=$[1],Q}function XH1($,Q){let J=new N5(2);return J[0]=$,J[1]=Q,J}function YH1($,Q){return $[0]=Q[0],$[1]=Q[1],$}function WH1($,Q,J){return $[0]=Q,$[1]=J,$}function qH1($,Q,J){return $[0]=Q[0]+J[0],$[1]=Q[1]+J[1],$}function bi($,Q,J){return $[0]=Q[0]-J[0],$[1]=Q[1]-J[1],$}function fi($,Q,J){return $[0]=Q[0]*J[0],$[1]=Q[1]*J[1],$}function mi($,Q,J){return $[0]=Q[0]/J[0],$[1]=Q[1]/J[1],$}function HH1($,Q){return $[0]=Math.ceil(Q[0]),$[1]=Math.ceil(Q[1]),$}function FH1($,Q){return $[0]=Math.floor(Q[0]),$[1]=Math.floor(Q[1]),$}function UH1($,Q,J){return $[0]=Math.min(Q[0],J[0]),$[1]=Math.min(Q[1],J[1]),$}function VH1($,Q,J){return $[0]=Math.max(Q[0],J[0]),$[1]=Math.max(Q[1],J[1]),$}function NH1($,Q){return $[0]=s4(Q[0]),$[1]=s4(Q[1]),$}function DH1($,Q,J){return $[0]=Q[0]*J,$[1]=Q[1]*J,$}function CH1($,Q,J,Z){return $[0]=Q[0]+J[0]*Z,$[1]=Q[1]+J[1]*Z,$}function ci($,Q){let J=Q[0]-$[0],Z=Q[1]-$[1];return Math.sqrt(J*J+Z*Z)}function di($,Q){let J=Q[0]-$[0],Z=Q[1]-$[1];return J*J+Z*Z}function li($){let Q=$[0],J=$[1];return Math.sqrt(Q*Q+J*J)}function pi($){let Q=$[0],J=$[1];return Q*Q+J*J}function AH1($,Q){return $[0]=-Q[0],$[1]=-Q[1],$}function zH1($,Q){return $[0]=1/Q[0],$[1]=1/Q[1],$}function BH1($,Q){let J=Q[0],Z=Q[1],X=J*J+Z*Z;if(X>0)X=1/Math.sqrt(X);return $[0]=Q[0]*X,$[1]=Q[1]*X,$}function RH1($,Q){return $[0]*Q[0]+$[1]*Q[1]}function OH1($,Q,J){let Z=Q[0]*J[1]-Q[1]*J[0];return $[0]=$[1]=0,$[2]=Z,$}function kH1($,Q,J,Z){let X=Q[0],W=Q[1];return $[0]=X+Z*(J[0]-X),$[1]=W+Z*(J[1]-W),$}function PH1($,Q){Q=Q===void 0?1:Q;let J=O3()*2*Math.PI;return $[0]=Math.cos(J)*Q,$[1]=Math.sin(J)*Q,$}function MH1($,Q,J){let Z=Q[0],X=Q[1];return $[0]=J[0]*Z+J[2]*X,$[1]=J[1]*Z+J[3]*X,$}function wH1($,Q,J){let Z=Q[0],X=Q[1];return $[0]=J[0]*Z+J[2]*X+J[4],$[1]=J[1]*Z+J[3]*X+J[5],$}function SH1($,Q,J){let Z=Q[0],X=Q[1];return $[0]=J[0]*Z+J[3]*X+J[6],$[1]=J[1]*Z+J[4]*X+J[7],$}function VM($,Q,J){let Z=Q[0],X=Q[1];return $[0]=J[0]*Z+J[4]*X+J[12],$[1]=J[1]*Z+J[5]*X+J[13],$}function TH1($,Q,J,Z){let X=Q[0]-J[0],W=Q[1]-J[1],H=Math.sin(Z),F=Math.cos(Z);return $[0]=X*F-W*H+J[0],$[1]=X*H+W*F+J[1],$}function IH1($,Q){let J=$[0],Z=$[1],X=Q[0],W=Q[1],H=Math.sqrt((J*J+Z*Z)*(X*X+W*W)),F=H&&(J*X+Z*W)/H;return Math.acos(Math.min(Math.max(F,-1),1))}function GH1($){return $[0]=0,$[1]=0,$}function EH1($){return`vec2(${$[0]}, ${$[1]})`}function jH1($,Q){return $[0]===Q[0]&&$[1]===Q[1]}function LH1($,Q){let J=$[0],Z=$[1],X=Q[0],W=Q[1];return Math.abs(J-X)<=R0*Math.max(1,Math.abs(J),Math.abs(X))&&Math.abs(Z-W)<=R0*Math.max(1,Math.abs(Z),Math.abs(W))}var hH1=li,vH1=bi,_H1=fi,xH1=mi,gH1=ci,yH1=di,bH1=pi,fH1=function(){let $=yi();return function(Q,J,Z,X,W,H){let F,V;if(!J)J=2;if(!Z)Z=0;if(X)V=Math.min(X*J+Z,Q.length);else V=Q.length;for(F=Z;F<V;F+=J)$[0]=Q[F],$[1]=Q[F+1],W($,$,H),Q[F]=$[0],Q[F+1]=$[1];return Q}}();function ui($,Q,J){let Z=Q[0],X=Q[1],W=J[3]*Z+J[7]*X||1;return $[0]=(J[0]*Z+J[4]*X)/W,$[1]=(J[1]*Z+J[5]*X)/W,$}function sU($,Q,J){let Z=Q[0],X=Q[1],W=Q[2],H=J[3]*Z+J[7]*X+J[11]*W||1;return $[0]=(J[0]*Z+J[4]*X+J[8]*W)/H,$[1]=(J[1]*Z+J[5]*X+J[9]*W)/H,$[2]=(J[2]*Z+J[6]*X+J[10]*W)/H,$}function ii($,Q,J){let Z=Q[0],X=Q[1];return $[0]=J[0]*Z+J[2]*X,$[1]=J[1]*Z+J[3]*X,$[2]=Q[2],$}var YZ={};QJ(YZ,{zero:()=>YF1,transformQuat:()=>AM,transformMat4:()=>jY,transformMat3:()=>CM,subtract:()=>oi,sub:()=>FF1,str:()=>WF1,squaredLength:()=>$n,squaredDistance:()=>ei,sqrLen:()=>AF1,sqrDist:()=>DF1,slerp:()=>JF1,set:()=>lH1,scaleAndAdd:()=>rH1,scale:()=>aH1,round:()=>oH1,rotateZ:()=>RM,rotateY:()=>BM,rotateX:()=>zM,random:()=>XF1,normalize:()=>$F1,negate:()=>tH1,multiply:()=>ai,mul:()=>UF1,min:()=>nH1,max:()=>sH1,lerp:()=>QF1,length:()=>si,len:()=>CF1,inverse:()=>eH1,hermite:()=>ZF1,fromValues:()=>cH1,forEach:()=>zF1,floor:()=>iH1,exactEquals:()=>qF1,equals:()=>HF1,dot:()=>NM,divide:()=>ri,div:()=>VF1,distance:()=>ti,dist:()=>NF1,cross:()=>DM,create:()=>ni,copy:()=>dH1,clone:()=>mH1,ceil:()=>uH1,bezier:()=>KF1,angle:()=>OM,add:()=>pH1});function ni(){let $=new N5(3);if(N5!=Float32Array)$[0]=0,$[1]=0,$[2]=0;return $}function mH1($){let Q=new N5(3);return Q[0]=$[0],Q[1]=$[1],Q[2]=$[2],Q}function si($){let Q=$[0],J=$[1],Z=$[2];return Math.sqrt(Q*Q+J*J+Z*Z)}function cH1($,Q,J){let Z=new N5(3);return Z[0]=$,Z[1]=Q,Z[2]=J,Z}function dH1($,Q){return $[0]=Q[0],$[1]=Q[1],$[2]=Q[2],$}function lH1($,Q,J,Z){return $[0]=Q,$[1]=J,$[2]=Z,$}function pH1($,Q,J){return $[0]=Q[0]+J[0],$[1]=Q[1]+J[1],$[2]=Q[2]+J[2],$}function oi($,Q,J){return $[0]=Q[0]-J[0],$[1]=Q[1]-J[1],$[2]=Q[2]-J[2],$}function ai($,Q,J){return $[0]=Q[0]*J[0],$[1]=Q[1]*J[1],$[2]=Q[2]*J[2],$}function ri($,Q,J){return $[0]=Q[0]/J[0],$[1]=Q[1]/J[1],$[2]=Q[2]/J[2],$}function uH1($,Q){return $[0]=Math.ceil(Q[0]),$[1]=Math.ceil(Q[1]),$[2]=Math.ceil(Q[2]),$}function iH1($,Q){return $[0]=Math.floor(Q[0]),$[1]=Math.floor(Q[1]),$[2]=Math.floor(Q[2]),$}function nH1($,Q,J){return $[0]=Math.min(Q[0],J[0]),$[1]=Math.min(Q[1],J[1]),$[2]=Math.min(Q[2],J[2]),$}function sH1($,Q,J){return $[0]=Math.max(Q[0],J[0]),$[1]=Math.max(Q[1],J[1]),$[2]=Math.max(Q[2],J[2]),$}function oH1($,Q){return $[0]=s4(Q[0]),$[1]=s4(Q[1]),$[2]=s4(Q[2]),$}function aH1($,Q,J){return $[0]=Q[0]*J,$[1]=Q[1]*J,$[2]=Q[2]*J,$}function rH1($,Q,J,Z){return $[0]=Q[0]+J[0]*Z,$[1]=Q[1]+J[1]*Z,$[2]=Q[2]+J[2]*Z,$}function ti($,Q){let J=Q[0]-$[0],Z=Q[1]-$[1],X=Q[2]-$[2];return Math.sqrt(J*J+Z*Z+X*X)}function ei($,Q){let J=Q[0]-$[0],Z=Q[1]-$[1],X=Q[2]-$[2];return J*J+Z*Z+X*X}function $n($){let Q=$[0],J=$[1],Z=$[2];return Q*Q+J*J+Z*Z}function tH1($,Q){return $[0]=-Q[0],$[1]=-Q[1],$[2]=-Q[2],$}function eH1($,Q){return $[0]=1/Q[0],$[1]=1/Q[1],$[2]=1/Q[2],$}function $F1($,Q){let J=Q[0],Z=Q[1],X=Q[2],W=J*J+Z*Z+X*X;if(W>0)W=1/Math.sqrt(W);return $[0]=Q[0]*W,$[1]=Q[1]*W,$[2]=Q[2]*W,$}function NM($,Q){return $[0]*Q[0]+$[1]*Q[1]+$[2]*Q[2]}function DM($,Q,J){let Z=Q[0],X=Q[1],W=Q[2],H=J[0],F=J[1],V=J[2];return $[0]=X*V-W*F,$[1]=W*H-Z*V,$[2]=Z*F-X*H,$}function QF1($,Q,J,Z){let X=Q[0],W=Q[1],H=Q[2];return $[0]=X+Z*(J[0]-X),$[1]=W+Z*(J[1]-W),$[2]=H+Z*(J[2]-H),$}function JF1($,Q,J,Z){let X=Math.acos(Math.min(Math.max(NM(Q,J),-1),1)),W=Math.sin(X),H=Math.sin((1-Z)*X)/W,F=Math.sin(Z*X)/W;return $[0]=H*Q[0]+F*J[0],$[1]=H*Q[1]+F*J[1],$[2]=H*Q[2]+F*J[2],$}function ZF1($,Q,J,Z,X,W){let H=W*W,F=H*(2*W-3)+1,V=H*(W-2)+W,D=H*(W-1),C=H*(3-2*W);return $[0]=Q[0]*F+J[0]*V+Z[0]*D+X[0]*C,$[1]=Q[1]*F+J[1]*V+Z[1]*D+X[1]*C,$[2]=Q[2]*F+J[2]*V+Z[2]*D+X[2]*C,$}function KF1($,Q,J,Z,X,W){let H=1-W,F=H*H,V=W*W,D=F*H,C=3*W*F,z=3*V*H,R=V*W;return $[0]=Q[0]*D+J[0]*C+Z[0]*z+X[0]*R,$[1]=Q[1]*D+J[1]*C+Z[1]*z+X[1]*R,$[2]=Q[2]*D+J[2]*C+Z[2]*z+X[2]*R,$}function XF1($,Q){Q=Q===void 0?1:Q;let J=O3()*2*Math.PI,Z=O3()*2-1,X=Math.sqrt(1-Z*Z)*Q;return $[0]=Math.cos(J)*X,$[1]=Math.sin(J)*X,$[2]=Z*Q,$}function jY($,Q,J){let Z=Q[0],X=Q[1],W=Q[2],H=J[3]*Z+J[7]*X+J[11]*W+J[15];return H=H||1,$[0]=(J[0]*Z+J[4]*X+J[8]*W+J[12])/H,$[1]=(J[1]*Z+J[5]*X+J[9]*W+J[13])/H,$[2]=(J[2]*Z+J[6]*X+J[10]*W+J[14])/H,$}function CM($,Q,J){let Z=Q[0],X=Q[1],W=Q[2];return $[0]=Z*J[0]+X*J[3]+W*J[6],$[1]=Z*J[1]+X*J[4]+W*J[7],$[2]=Z*J[2]+X*J[5]+W*J[8],$}function AM($,Q,J){let Z=J[0],X=J[1],W=J[2],H=J[3],F=Q[0],V=Q[1],D=Q[2],C=X*D-W*V,z=W*F-Z*D,R=Z*V-X*F,k=X*R-W*z,P=W*C-Z*R,S=Z*z-X*C,T=H*2;return C*=T,z*=T,R*=T,k*=2,P*=2,S*=2,$[0]=F+C+k,$[1]=V+z+P,$[2]=D+R+S,$}function zM($,Q,J,Z){let X=[],W=[];return X[0]=Q[0]-J[0],X[1]=Q[1]-J[1],X[2]=Q[2]-J[2],W[0]=X[0],W[1]=X[1]*Math.cos(Z)-X[2]*Math.sin(Z),W[2]=X[1]*Math.sin(Z)+X[2]*Math.cos(Z),$[0]=W[0]+J[0],$[1]=W[1]+J[1],$[2]=W[2]+J[2],$}function BM($,Q,J,Z){let X=[],W=[];return X[0]=Q[0]-J[0],X[1]=Q[1]-J[1],X[2]=Q[2]-J[2],W[0]=X[2]*Math.sin(Z)+X[0]*Math.cos(Z),W[1]=X[1],W[2]=X[2]*Math.cos(Z)-X[0]*Math.sin(Z),$[0]=W[0]+J[0],$[1]=W[1]+J[1],$[2]=W[2]+J[2],$}function RM($,Q,J,Z){let X=[],W=[];return X[0]=Q[0]-J[0],X[1]=Q[1]-J[1],X[2]=Q[2]-J[2],W[0]=X[0]*Math.cos(Z)-X[1]*Math.sin(Z),W[1]=X[0]*Math.sin(Z)+X[1]*Math.cos(Z),W[2]=X[2],$[0]=W[0]+J[0],$[1]=W[1]+J[1],$[2]=W[2]+J[2],$}function OM($,Q){let J=$[0],Z=$[1],X=$[2],W=Q[0],H=Q[1],F=Q[2],V=Math.sqrt((J*J+Z*Z+X*X)*(W*W+H*H+F*F)),D=V&&NM($,Q)/V;return Math.acos(Math.min(Math.max(D,-1),1))}function YF1($){return $[0]=0,$[1]=0,$[2]=0,$}function WF1($){return`vec3(${$[0]}, ${$[1]}, ${$[2]})`}function qF1($,Q){return $[0]===Q[0]&&$[1]===Q[1]&&$[2]===Q[2]}function HF1($,Q){let J=$[0],Z=$[1],X=$[2],W=Q[0],H=Q[1],F=Q[2];return Math.abs(J-W)<=R0*Math.max(1,Math.abs(J),Math.abs(W))&&Math.abs(Z-H)<=R0*Math.max(1,Math.abs(Z),Math.abs(H))&&Math.abs(X-F)<=R0*Math.max(1,Math.abs(X),Math.abs(F))}var FF1=oi,UF1=ai,VF1=ri,NF1=ti,DF1=ei,CF1=si,AF1=$n,zF1=function(){let $=ni();return function(Q,J,Z,X,W,H){let F,V;if(!J)J=3;if(!Z)Z=0;if(X)V=Math.min(X*J+Z,Q.length);else V=Q.length;for(F=Z;F<V;F+=J)$[0]=Q[F],$[1]=Q[F+1],$[2]=Q[F+2],W($,$,H),Q[F]=$[0],Q[F+1]=$[1],Q[F+2]=$[2];return Q}}();var kM=[0,0,0],oU;class Y6 extends UM{static get ZERO(){if(!oU)oU=new Y6(0,0,0),Object.freeze(oU);return oU}constructor($=0,Q=0,J=0){super(-0,-0,-0);if(arguments.length===1&&R8($))this.copy($);else{if(f5.debug)X6($),X6(Q),X6(J);this[0]=$,this[1]=Q,this[2]=J}}set($,Q,J){return this[0]=$,this[1]=Q,this[2]=J,this.check()}copy($){return this[0]=$[0],this[1]=$[1],this[2]=$[2],this.check()}fromObject($){if(f5.debug)X6($.x),X6($.y),X6($.z);return this[0]=$.x,this[1]=$.y,this[2]=$.z,this.check()}toObject($){return $.x=this[0],$.y=this[1],$.z=this[2],$}get ELEMENTS(){return 3}get z(){return this[2]}set z($){this[2]=X6($)}angle($){return OM(this,$)}cross($){return DM(this,this,$),this.check()}rotateX({radians:$,origin:Q=kM}){return zM(this,this,Q,$),this.check()}rotateY({radians:$,origin:Q=kM}){return BM(this,this,Q,$),this.check()}rotateZ({radians:$,origin:Q=kM}){return RM(this,this,Q,$),this.check()}transform($){return this.transformAsPoint($)}transformAsPoint($){return jY(this,this,$),this.check()}transformAsVector($){return sU(this,this,$),this.check()}transformByMatrix3($){return CM(this,this,$),this.check()}transformByMatrix2($){return ii(this,this,$),this.check()}transformByQuaternion($){return AM(this,this,$),this.check()}}class PM extends EY{toString(){let $="[";if(f5.printRowMajor){$+="row-major:";for(let Q=0;Q<this.RANK;++Q)for(let J=0;J<this.RANK;++J)$+=` ${this[J*this.RANK+Q]}`}else{$+="column-major:";for(let Q=0;Q<this.ELEMENTS;++Q)$+=` ${this[Q]}`}return $+="]",$}getElementIndex($,Q){return Q*this.RANK+$}getElement($,Q){return this[Q*this.RANK+$]}setElement($,Q,J){return this[Q*this.RANK+$]=X6(J),this}getColumn($,Q=Array(this.RANK).fill(-0)){let J=$*this.RANK;for(let Z=0;Z<this.RANK;++Z)Q[Z]=this[J+Z];return Q}setColumn($,Q){let J=$*this.RANK;for(let Z=0;Z<this.RANK;++Z)this[J+Z]=Q[Z];return this}}var h5={};QJ(h5,{transpose:()=>MM,translate:()=>TM,targetTo:()=>fF1,subtract:()=>Yn,sub:()=>sF1,str:()=>mF1,set:()=>PF1,scale:()=>IM,rotateZ:()=>LM,rotateY:()=>jM,rotateX:()=>EM,rotate:()=>GM,perspectiveZO:()=>gF1,perspectiveNO:()=>Kn,perspectiveFromFieldOfView:()=>yF1,perspective:()=>_M,orthoZO:()=>bF1,orthoNO:()=>Xn,ortho:()=>xM,multiplyScalarAndAdd:()=>pF1,multiplyScalar:()=>lF1,multiply:()=>LY,mul:()=>nF1,lookAt:()=>gM,invert:()=>wM,identity:()=>Qn,getTranslation:()=>LF1,getScaling:()=>Zn,getRotation:()=>hF1,frustum:()=>vM,fromZRotation:()=>EF1,fromYRotation:()=>GF1,fromXRotation:()=>IF1,fromValues:()=>kF1,fromTranslation:()=>wF1,fromScaling:()=>SF1,fromRotationTranslationScaleOrigin:()=>xF1,fromRotationTranslationScale:()=>_F1,fromRotationTranslation:()=>Jn,fromRotation:()=>TF1,fromQuat2:()=>jF1,fromQuat:()=>hM,frob:()=>cF1,exactEquals:()=>uF1,equals:()=>iF1,determinant:()=>SM,decompose:()=>vF1,create:()=>BF1,copy:()=>OF1,clone:()=>RF1,adjoint:()=>MF1,add:()=>dF1});function BF1(){let $=new N5(16);if(N5!=Float32Array)$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[11]=0,$[12]=0,$[13]=0,$[14]=0;return $[0]=1,$[5]=1,$[10]=1,$[15]=1,$}function RF1($){let Q=new N5(16);return Q[0]=$[0],Q[1]=$[1],Q[2]=$[2],Q[3]=$[3],Q[4]=$[4],Q[5]=$[5],Q[6]=$[6],Q[7]=$[7],Q[8]=$[8],Q[9]=$[9],Q[10]=$[10],Q[11]=$[11],Q[12]=$[12],Q[13]=$[13],Q[14]=$[14],Q[15]=$[15],Q}function OF1($,Q){return $[0]=Q[0],$[1]=Q[1],$[2]=Q[2],$[3]=Q[3],$[4]=Q[4],$[5]=Q[5],$[6]=Q[6],$[7]=Q[7],$[8]=Q[8],$[9]=Q[9],$[10]=Q[10],$[11]=Q[11],$[12]=Q[12],$[13]=Q[13],$[14]=Q[14],$[15]=Q[15],$}function kF1($,Q,J,Z,X,W,H,F,V,D,C,z,R,k,P,S){let T=new N5(16);return T[0]=$,T[1]=Q,T[2]=J,T[3]=Z,T[4]=X,T[5]=W,T[6]=H,T[7]=F,T[8]=V,T[9]=D,T[10]=C,T[11]=z,T[12]=R,T[13]=k,T[14]=P,T[15]=S,T}function PF1($,Q,J,Z,X,W,H,F,V,D,C,z,R,k,P,S,T){return $[0]=Q,$[1]=J,$[2]=Z,$[3]=X,$[4]=W,$[5]=H,$[6]=F,$[7]=V,$[8]=D,$[9]=C,$[10]=z,$[11]=R,$[12]=k,$[13]=P,$[14]=S,$[15]=T,$}function Qn($){return $[0]=1,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=1,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[10]=1,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}function MM($,Q){if($===Q){let J=Q[1],Z=Q[2],X=Q[3],W=Q[6],H=Q[7],F=Q[11];$[1]=Q[4],$[2]=Q[8],$[3]=Q[12],$[4]=J,$[6]=Q[9],$[7]=Q[13],$[8]=Z,$[9]=W,$[11]=Q[14],$[12]=X,$[13]=H,$[14]=F}else $[0]=Q[0],$[1]=Q[4],$[2]=Q[8],$[3]=Q[12],$[4]=Q[1],$[5]=Q[5],$[6]=Q[9],$[7]=Q[13],$[8]=Q[2],$[9]=Q[6],$[10]=Q[10],$[11]=Q[14],$[12]=Q[3],$[13]=Q[7],$[14]=Q[11],$[15]=Q[15];return $}function wM($,Q){let J=Q[0],Z=Q[1],X=Q[2],W=Q[3],H=Q[4],F=Q[5],V=Q[6],D=Q[7],C=Q[8],z=Q[9],R=Q[10],k=Q[11],P=Q[12],S=Q[13],T=Q[14],_=Q[15],v=J*F-Z*H,L=J*V-X*H,f=J*D-W*H,l=Z*V-X*F,J1=Z*D-W*F,Y1=X*D-W*V,H1=C*S-z*P,Q1=C*T-R*P,W1=C*_-k*P,R1=z*T-R*S,C1=z*_-k*S,O1=R*_-k*T,x1=v*O1-L*C1+f*R1+l*W1-J1*Q1+Y1*H1;if(!x1)return null;return x1=1/x1,$[0]=(F*O1-V*C1+D*R1)*x1,$[1]=(X*C1-Z*O1-W*R1)*x1,$[2]=(S*Y1-T*J1+_*l)*x1,$[3]=(R*J1-z*Y1-k*l)*x1,$[4]=(V*W1-H*O1-D*Q1)*x1,$[5]=(J*O1-X*W1+W*Q1)*x1,$[6]=(T*f-P*Y1-_*L)*x1,$[7]=(C*Y1-R*f+k*L)*x1,$[8]=(H*C1-F*W1+D*H1)*x1,$[9]=(Z*W1-J*C1-W*H1)*x1,$[10]=(P*J1-S*f+_*v)*x1,$[11]=(z*f-C*J1-k*v)*x1,$[12]=(F*Q1-H*R1-V*H1)*x1,$[13]=(J*R1-Z*Q1+X*H1)*x1,$[14]=(S*L-P*l-T*v)*x1,$[15]=(C*l-z*L+R*v)*x1,$}function MF1($,Q){let J=Q[0],Z=Q[1],X=Q[2],W=Q[3],H=Q[4],F=Q[5],V=Q[6],D=Q[7],C=Q[8],z=Q[9],R=Q[10],k=Q[11],P=Q[12],S=Q[13],T=Q[14],_=Q[15],v=J*F-Z*H,L=J*V-X*H,f=J*D-W*H,l=Z*V-X*F,J1=Z*D-W*F,Y1=X*D-W*V,H1=C*S-z*P,Q1=C*T-R*P,W1=C*_-k*P,R1=z*T-R*S,C1=z*_-k*S,O1=R*_-k*T;return $[0]=F*O1-V*C1+D*R1,$[1]=X*C1-Z*O1-W*R1,$[2]=S*Y1-T*J1+_*l,$[3]=R*J1-z*Y1-k*l,$[4]=V*W1-H*O1-D*Q1,$[5]=J*O1-X*W1+W*Q1,$[6]=T*f-P*Y1-_*L,$[7]=C*Y1-R*f+k*L,$[8]=H*C1-F*W1+D*H1,$[9]=Z*W1-J*C1-W*H1,$[10]=P*J1-S*f+_*v,$[11]=z*f-C*J1-k*v,$[12]=F*Q1-H*R1-V*H1,$[13]=J*R1-Z*Q1+X*H1,$[14]=S*L-P*l-T*v,$[15]=C*l-z*L+R*v,$}function SM($){let Q=$[0],J=$[1],Z=$[2],X=$[3],W=$[4],H=$[5],F=$[6],V=$[7],D=$[8],C=$[9],z=$[10],R=$[11],k=$[12],P=$[13],S=$[14],T=$[15],_=Q*H-J*W,v=Q*F-Z*W,L=J*F-Z*H,f=D*P-C*k,l=D*S-z*k,J1=C*S-z*P,Y1=Q*J1-J*l+Z*f,H1=W*J1-H*l+F*f,Q1=D*L-C*v+z*_,W1=k*L-P*v+S*_;return V*Y1-X*H1+T*Q1-R*W1}function LY($,Q,J){let Z=Q[0],X=Q[1],W=Q[2],H=Q[3],F=Q[4],V=Q[5],D=Q[6],C=Q[7],z=Q[8],R=Q[9],k=Q[10],P=Q[11],S=Q[12],T=Q[13],_=Q[14],v=Q[15],L=J[0],f=J[1],l=J[2],J1=J[3];return $[0]=L*Z+f*F+l*z+J1*S,$[1]=L*X+f*V+l*R+J1*T,$[2]=L*W+f*D+l*k+J1*_,$[3]=L*H+f*C+l*P+J1*v,L=J[4],f=J[5],l=J[6],J1=J[7],$[4]=L*Z+f*F+l*z+J1*S,$[5]=L*X+f*V+l*R+J1*T,$[6]=L*W+f*D+l*k+J1*_,$[7]=L*H+f*C+l*P+J1*v,L=J[8],f=J[9],l=J[10],J1=J[11],$[8]=L*Z+f*F+l*z+J1*S,$[9]=L*X+f*V+l*R+J1*T,$[10]=L*W+f*D+l*k+J1*_,$[11]=L*H+f*C+l*P+J1*v,L=J[12],f=J[13],l=J[14],J1=J[15],$[12]=L*Z+f*F+l*z+J1*S,$[13]=L*X+f*V+l*R+J1*T,$[14]=L*W+f*D+l*k+J1*_,$[15]=L*H+f*C+l*P+J1*v,$}function TM($,Q,J){let Z=J[0],X=J[1],W=J[2],H,F,V,D,C,z,R,k,P,S,T,_;if(Q===$)$[12]=Q[0]*Z+Q[4]*X+Q[8]*W+Q[12],$[13]=Q[1]*Z+Q[5]*X+Q[9]*W+Q[13],$[14]=Q[2]*Z+Q[6]*X+Q[10]*W+Q[14],$[15]=Q[3]*Z+Q[7]*X+Q[11]*W+Q[15];else H=Q[0],F=Q[1],V=Q[2],D=Q[3],C=Q[4],z=Q[5],R=Q[6],k=Q[7],P=Q[8],S=Q[9],T=Q[10],_=Q[11],$[0]=H,$[1]=F,$[2]=V,$[3]=D,$[4]=C,$[5]=z,$[6]=R,$[7]=k,$[8]=P,$[9]=S,$[10]=T,$[11]=_,$[12]=H*Z+C*X+P*W+Q[12],$[13]=F*Z+z*X+S*W+Q[13],$[14]=V*Z+R*X+T*W+Q[14],$[15]=D*Z+k*X+_*W+Q[15];return $}function IM($,Q,J){let Z=J[0],X=J[1],W=J[2];return $[0]=Q[0]*Z,$[1]=Q[1]*Z,$[2]=Q[2]*Z,$[3]=Q[3]*Z,$[4]=Q[4]*X,$[5]=Q[5]*X,$[6]=Q[6]*X,$[7]=Q[7]*X,$[8]=Q[8]*W,$[9]=Q[9]*W,$[10]=Q[10]*W,$[11]=Q[11]*W,$[12]=Q[12],$[13]=Q[13],$[14]=Q[14],$[15]=Q[15],$}function GM($,Q,J,Z){let X=Z[0],W=Z[1],H=Z[2],F=Math.sqrt(X*X+W*W+H*H),V,D,C,z,R,k,P,S,T,_,v,L,f,l,J1,Y1,H1,Q1,W1,R1,C1,O1,x1,U1;if(F<R0)return null;if(F=1/F,X*=F,W*=F,H*=F,D=Math.sin(J),V=Math.cos(J),C=1-V,z=Q[0],R=Q[1],k=Q[2],P=Q[3],S=Q[4],T=Q[5],_=Q[6],v=Q[7],L=Q[8],f=Q[9],l=Q[10],J1=Q[11],Y1=X*X*C+V,H1=W*X*C+H*D,Q1=H*X*C-W*D,W1=X*W*C-H*D,R1=W*W*C+V,C1=H*W*C+X*D,O1=X*H*C+W*D,x1=W*H*C-X*D,U1=H*H*C+V,$[0]=z*Y1+S*H1+L*Q1,$[1]=R*Y1+T*H1+f*Q1,$[2]=k*Y1+_*H1+l*Q1,$[3]=P*Y1+v*H1+J1*Q1,$[4]=z*W1+S*R1+L*C1,$[5]=R*W1+T*R1+f*C1,$[6]=k*W1+_*R1+l*C1,$[7]=P*W1+v*R1+J1*C1,$[8]=z*O1+S*x1+L*U1,$[9]=R*O1+T*x1+f*U1,$[10]=k*O1+_*x1+l*U1,$[11]=P*O1+v*x1+J1*U1,Q!==$)$[12]=Q[12],$[13]=Q[13],$[14]=Q[14],$[15]=Q[15];return $}function EM($,Q,J){let Z=Math.sin(J),X=Math.cos(J),W=Q[4],H=Q[5],F=Q[6],V=Q[7],D=Q[8],C=Q[9],z=Q[10],R=Q[11];if(Q!==$)$[0]=Q[0],$[1]=Q[1],$[2]=Q[2],$[3]=Q[3],$[12]=Q[12],$[13]=Q[13],$[14]=Q[14],$[15]=Q[15];return $[4]=W*X+D*Z,$[5]=H*X+C*Z,$[6]=F*X+z*Z,$[7]=V*X+R*Z,$[8]=D*X-W*Z,$[9]=C*X-H*Z,$[10]=z*X-F*Z,$[11]=R*X-V*Z,$}function jM($,Q,J){let Z=Math.sin(J),X=Math.cos(J),W=Q[0],H=Q[1],F=Q[2],V=Q[3],D=Q[8],C=Q[9],z=Q[10],R=Q[11];if(Q!==$)$[4]=Q[4],$[5]=Q[5],$[6]=Q[6],$[7]=Q[7],$[12]=Q[12],$[13]=Q[13],$[14]=Q[14],$[15]=Q[15];return $[0]=W*X-D*Z,$[1]=H*X-C*Z,$[2]=F*X-z*Z,$[3]=V*X-R*Z,$[8]=W*Z+D*X,$[9]=H*Z+C*X,$[10]=F*Z+z*X,$[11]=V*Z+R*X,$}function LM($,Q,J){let Z=Math.sin(J),X=Math.cos(J),W=Q[0],H=Q[1],F=Q[2],V=Q[3],D=Q[4],C=Q[5],z=Q[6],R=Q[7];if(Q!==$)$[8]=Q[8],$[9]=Q[9],$[10]=Q[10],$[11]=Q[11],$[12]=Q[12],$[13]=Q[13],$[14]=Q[14],$[15]=Q[15];return $[0]=W*X+D*Z,$[1]=H*X+C*Z,$[2]=F*X+z*Z,$[3]=V*X+R*Z,$[4]=D*X-W*Z,$[5]=C*X-H*Z,$[6]=z*X-F*Z,$[7]=R*X-V*Z,$}function wF1($,Q){return $[0]=1,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=1,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[10]=1,$[11]=0,$[12]=Q[0],$[13]=Q[1],$[14]=Q[2],$[15]=1,$}function SF1($,Q){return $[0]=Q[0],$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=Q[1],$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[10]=Q[2],$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}function TF1($,Q,J){let Z=J[0],X=J[1],W=J[2],H=Math.sqrt(Z*Z+X*X+W*W),F,V,D;if(H<R0)return null;return H=1/H,Z*=H,X*=H,W*=H,V=Math.sin(Q),F=Math.cos(Q),D=1-F,$[0]=Z*Z*D+F,$[1]=X*Z*D+W*V,$[2]=W*Z*D-X*V,$[3]=0,$[4]=Z*X*D-W*V,$[5]=X*X*D+F,$[6]=W*X*D+Z*V,$[7]=0,$[8]=Z*W*D+X*V,$[9]=X*W*D-Z*V,$[10]=W*W*D+F,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}function IF1($,Q){let J=Math.sin(Q),Z=Math.cos(Q);return $[0]=1,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=Z,$[6]=J,$[7]=0,$[8]=0,$[9]=-J,$[10]=Z,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}function GF1($,Q){let J=Math.sin(Q),Z=Math.cos(Q);return $[0]=Z,$[1]=0,$[2]=-J,$[3]=0,$[4]=0,$[5]=1,$[6]=0,$[7]=0,$[8]=J,$[9]=0,$[10]=Z,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}function EF1($,Q){let J=Math.sin(Q),Z=Math.cos(Q);return $[0]=Z,$[1]=J,$[2]=0,$[3]=0,$[4]=-J,$[5]=Z,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[10]=1,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}function Jn($,Q,J){let Z=Q[0],X=Q[1],W=Q[2],H=Q[3],F=Z+Z,V=X+X,D=W+W,C=Z*F,z=Z*V,R=Z*D,k=X*V,P=X*D,S=W*D,T=H*F,_=H*V,v=H*D;return $[0]=1-(k+S),$[1]=z+v,$[2]=R-_,$[3]=0,$[4]=z-v,$[5]=1-(C+S),$[6]=P+T,$[7]=0,$[8]=R+_,$[9]=P-T,$[10]=1-(C+k),$[11]=0,$[12]=J[0],$[13]=J[1],$[14]=J[2],$[15]=1,$}function jF1($,Q){let J=new N5(3),Z=-Q[0],X=-Q[1],W=-Q[2],H=Q[3],F=Q[4],V=Q[5],D=Q[6],C=Q[7],z=Z*Z+X*X+W*W+H*H;if(z>0)J[0]=(F*H+C*Z+V*W-D*X)*2/z,J[1]=(V*H+C*X+D*Z-F*W)*2/z,J[2]=(D*H+C*W+F*X-V*Z)*2/z;else J[0]=(F*H+C*Z+V*W-D*X)*2,J[1]=(V*H+C*X+D*Z-F*W)*2,J[2]=(D*H+C*W+F*X-V*Z)*2;return Jn($,Q,J),$}function LF1($,Q){return $[0]=Q[12],$[1]=Q[13],$[2]=Q[14],$}function Zn($,Q){let J=Q[0],Z=Q[1],X=Q[2],W=Q[4],H=Q[5],F=Q[6],V=Q[8],D=Q[9],C=Q[10];return $[0]=Math.sqrt(J*J+Z*Z+X*X),$[1]=Math.sqrt(W*W+H*H+F*F),$[2]=Math.sqrt(V*V+D*D+C*C),$}function hF1($,Q){let J=new N5(3);Zn(J,Q);let Z=1/J[0],X=1/J[1],W=1/J[2],H=Q[0]*Z,F=Q[1]*X,V=Q[2]*W,D=Q[4]*Z,C=Q[5]*X,z=Q[6]*W,R=Q[8]*Z,k=Q[9]*X,P=Q[10]*W,S=H+C+P,T=0;if(S>0)T=Math.sqrt(S+1)*2,$[3]=0.25*T,$[0]=(z-k)/T,$[1]=(R-V)/T,$[2]=(F-D)/T;else if(H>C&&H>P)T=Math.sqrt(1+H-C-P)*2,$[3]=(z-k)/T,$[0]=0.25*T,$[1]=(F+D)/T,$[2]=(R+V)/T;else if(C>P)T=Math.sqrt(1+C-H-P)*2,$[3]=(R-V)/T,$[0]=(F+D)/T,$[1]=0.25*T,$[2]=(z+k)/T;else T=Math.sqrt(1+P-H-C)*2,$[3]=(F-D)/T,$[0]=(R+V)/T,$[1]=(z+k)/T,$[2]=0.25*T;return $}function vF1($,Q,J,Z){Q[0]=Z[12],Q[1]=Z[13],Q[2]=Z[14];let X=Z[0],W=Z[1],H=Z[2],F=Z[4],V=Z[5],D=Z[6],C=Z[8],z=Z[9],R=Z[10];J[0]=Math.sqrt(X*X+W*W+H*H),J[1]=Math.sqrt(F*F+V*V+D*D),J[2]=Math.sqrt(C*C+z*z+R*R);let k=1/J[0],P=1/J[1],S=1/J[2],T=X*k,_=W*P,v=H*S,L=F*k,f=V*P,l=D*S,J1=C*k,Y1=z*P,H1=R*S,Q1=T+f+H1,W1=0;if(Q1>0)W1=Math.sqrt(Q1+1)*2,$[3]=0.25*W1,$[0]=(l-Y1)/W1,$[1]=(J1-v)/W1,$[2]=(_-L)/W1;else if(T>f&&T>H1)W1=Math.sqrt(1+T-f-H1)*2,$[3]=(l-Y1)/W1,$[0]=0.25*W1,$[1]=(_+L)/W1,$[2]=(J1+v)/W1;else if(f>H1)W1=Math.sqrt(1+f-T-H1)*2,$[3]=(J1-v)/W1,$[0]=(_+L)/W1,$[1]=0.25*W1,$[2]=(l+Y1)/W1;else W1=Math.sqrt(1+H1-T-f)*2,$[3]=(_-L)/W1,$[0]=(J1+v)/W1,$[1]=(l+Y1)/W1,$[2]=0.25*W1;return $}function _F1($,Q,J,Z){let X=Q[0],W=Q[1],H=Q[2],F=Q[3],V=X+X,D=W+W,C=H+H,z=X*V,R=X*D,k=X*C,P=W*D,S=W*C,T=H*C,_=F*V,v=F*D,L=F*C,f=Z[0],l=Z[1],J1=Z[2];return $[0]=(1-(P+T))*f,$[1]=(R+L)*f,$[2]=(k-v)*f,$[3]=0,$[4]=(R-L)*l,$[5]=(1-(z+T))*l,$[6]=(S+_)*l,$[7]=0,$[8]=(k+v)*J1,$[9]=(S-_)*J1,$[10]=(1-(z+P))*J1,$[11]=0,$[12]=J[0],$[13]=J[1],$[14]=J[2],$[15]=1,$}function xF1($,Q,J,Z,X){let W=Q[0],H=Q[1],F=Q[2],V=Q[3],D=W+W,C=H+H,z=F+F,R=W*D,k=W*C,P=W*z,S=H*C,T=H*z,_=F*z,v=V*D,L=V*C,f=V*z,l=Z[0],J1=Z[1],Y1=Z[2],H1=X[0],Q1=X[1],W1=X[2],R1=(1-(S+_))*l,C1=(k+f)*l,O1=(P-L)*l,x1=(k-f)*J1,U1=(1-(R+_))*J1,T1=(T+v)*J1,I1=(P+L)*Y1,V0=(T-v)*Y1,Z1=(1-(R+S))*Y1;return $[0]=R1,$[1]=C1,$[2]=O1,$[3]=0,$[4]=x1,$[5]=U1,$[6]=T1,$[7]=0,$[8]=I1,$[9]=V0,$[10]=Z1,$[11]=0,$[12]=J[0]+H1-(R1*H1+x1*Q1+I1*W1),$[13]=J[1]+Q1-(C1*H1+U1*Q1+V0*W1),$[14]=J[2]+W1-(O1*H1+T1*Q1+Z1*W1),$[15]=1,$}function hM($,Q){let J=Q[0],Z=Q[1],X=Q[2],W=Q[3],H=J+J,F=Z+Z,V=X+X,D=J*H,C=Z*H,z=Z*F,R=X*H,k=X*F,P=X*V,S=W*H,T=W*F,_=W*V;return $[0]=1-z-P,$[1]=C+_,$[2]=R-T,$[3]=0,$[4]=C-_,$[5]=1-D-P,$[6]=k+S,$[7]=0,$[8]=R+T,$[9]=k-S,$[10]=1-D-z,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}function vM($,Q,J,Z,X,W,H){let F=1/(J-Q),V=1/(X-Z),D=1/(W-H);return $[0]=W*2*F,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=W*2*V,$[6]=0,$[7]=0,$[8]=(J+Q)*F,$[9]=(X+Z)*V,$[10]=(H+W)*D,$[11]=-1,$[12]=0,$[13]=0,$[14]=H*W*2*D,$[15]=0,$}function Kn($,Q,J,Z,X){let W=1/Math.tan(Q/2);if($[0]=W/J,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=W,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[11]=-1,$[12]=0,$[13]=0,$[15]=0,X!=null&&X!==1/0){let H=1/(Z-X);$[10]=(X+Z)*H,$[14]=2*X*Z*H}else $[10]=-1,$[14]=-2*Z;return $}var _M=Kn;function gF1($,Q,J,Z,X){let W=1/Math.tan(Q/2);if($[0]=W/J,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=W,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[11]=-1,$[12]=0,$[13]=0,$[15]=0,X!=null&&X!==1/0){let H=1/(Z-X);$[10]=X*H,$[14]=X*Z*H}else $[10]=-1,$[14]=-Z;return $}function yF1($,Q,J,Z){let X=Math.tan(Q.upDegrees*Math.PI/180),W=Math.tan(Q.downDegrees*Math.PI/180),H=Math.tan(Q.leftDegrees*Math.PI/180),F=Math.tan(Q.rightDegrees*Math.PI/180),V=2/(H+F),D=2/(X+W);return $[0]=V,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=D,$[6]=0,$[7]=0,$[8]=-((H-F)*V*0.5),$[9]=(X-W)*D*0.5,$[10]=Z/(J-Z),$[11]=-1,$[12]=0,$[13]=0,$[14]=Z*J/(J-Z),$[15]=0,$}function Xn($,Q,J,Z,X,W,H){let F=1/(Q-J),V=1/(Z-X),D=1/(W-H);return $[0]=-2*F,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=-2*V,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[10]=2*D,$[11]=0,$[12]=(Q+J)*F,$[13]=(X+Z)*V,$[14]=(H+W)*D,$[15]=1,$}var xM=Xn;function bF1($,Q,J,Z,X,W,H){let F=1/(Q-J),V=1/(Z-X),D=1/(W-H);return $[0]=-2*F,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=-2*V,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[10]=D,$[11]=0,$[12]=(Q+J)*F,$[13]=(X+Z)*V,$[14]=W*D,$[15]=1,$}function gM($,Q,J,Z){let X,W,H,F,V,D,C,z,R,k,P=Q[0],S=Q[1],T=Q[2],_=Z[0],v=Z[1],L=Z[2],f=J[0],l=J[1],J1=J[2];if(Math.abs(P-f)<R0&&Math.abs(S-l)<R0&&Math.abs(T-J1)<R0)return Qn($);if(z=P-f,R=S-l,k=T-J1,X=1/Math.sqrt(z*z+R*R+k*k),z*=X,R*=X,k*=X,W=v*k-L*R,H=L*z-_*k,F=_*R-v*z,X=Math.sqrt(W*W+H*H+F*F),!X)W=0,H=0,F=0;else X=1/X,W*=X,H*=X,F*=X;if(V=R*F-k*H,D=k*W-z*F,C=z*H-R*W,X=Math.sqrt(V*V+D*D+C*C),!X)V=0,D=0,C=0;else X=1/X,V*=X,D*=X,C*=X;return $[0]=W,$[1]=V,$[2]=z,$[3]=0,$[4]=H,$[5]=D,$[6]=R,$[7]=0,$[8]=F,$[9]=C,$[10]=k,$[11]=0,$[12]=-(W*P+H*S+F*T),$[13]=-(V*P+D*S+C*T),$[14]=-(z*P+R*S+k*T),$[15]=1,$}function fF1($,Q,J,Z){let X=Q[0],W=Q[1],H=Q[2],F=Z[0],V=Z[1],D=Z[2],C=X-J[0],z=W-J[1],R=H-J[2],k=C*C+z*z+R*R;if(k>0)k=1/Math.sqrt(k),C*=k,z*=k,R*=k;let P=V*R-D*z,S=D*C-F*R,T=F*z-V*C;if(k=P*P+S*S+T*T,k>0)k=1/Math.sqrt(k),P*=k,S*=k,T*=k;return $[0]=P,$[1]=S,$[2]=T,$[3]=0,$[4]=z*T-R*S,$[5]=R*P-C*T,$[6]=C*S-z*P,$[7]=0,$[8]=C,$[9]=z,$[10]=R,$[11]=0,$[12]=X,$[13]=W,$[14]=H,$[15]=1,$}function mF1($){return`mat4(${$[0]}, ${$[1]}, ${$[2]}, ${$[3]}, ${$[4]}, ${$[5]}, ${$[6]}, ${$[7]}, ${$[8]}, ${$[9]}, ${$[10]}, ${$[11]}, ${$[12]}, ${$[13]}, ${$[14]}, ${$[15]})`}function cF1($){return Math.sqrt($[0]*$[0]+$[1]*$[1]+$[2]*$[2]+$[3]*$[3]+$[4]*$[4]+$[5]*$[5]+$[6]*$[6]+$[7]*$[7]+$[8]*$[8]+$[9]*$[9]+$[10]*$[10]+$[11]*$[11]+$[12]*$[12]+$[13]*$[13]+$[14]*$[14]+$[15]*$[15])}function dF1($,Q,J){return $[0]=Q[0]+J[0],$[1]=Q[1]+J[1],$[2]=Q[2]+J[2],$[3]=Q[3]+J[3],$[4]=Q[4]+J[4],$[5]=Q[5]+J[5],$[6]=Q[6]+J[6],$[7]=Q[7]+J[7],$[8]=Q[8]+J[8],$[9]=Q[9]+J[9],$[10]=Q[10]+J[10],$[11]=Q[11]+J[11],$[12]=Q[12]+J[12],$[13]=Q[13]+J[13],$[14]=Q[14]+J[14],$[15]=Q[15]+J[15],$}function Yn($,Q,J){return $[0]=Q[0]-J[0],$[1]=Q[1]-J[1],$[2]=Q[2]-J[2],$[3]=Q[3]-J[3],$[4]=Q[4]-J[4],$[5]=Q[5]-J[5],$[6]=Q[6]-J[6],$[7]=Q[7]-J[7],$[8]=Q[8]-J[8],$[9]=Q[9]-J[9],$[10]=Q[10]-J[10],$[11]=Q[11]-J[11],$[12]=Q[12]-J[12],$[13]=Q[13]-J[13],$[14]=Q[14]-J[14],$[15]=Q[15]-J[15],$}function lF1($,Q,J){return $[0]=Q[0]*J,$[1]=Q[1]*J,$[2]=Q[2]*J,$[3]=Q[3]*J,$[4]=Q[4]*J,$[5]=Q[5]*J,$[6]=Q[6]*J,$[7]=Q[7]*J,$[8]=Q[8]*J,$[9]=Q[9]*J,$[10]=Q[10]*J,$[11]=Q[11]*J,$[12]=Q[12]*J,$[13]=Q[13]*J,$[14]=Q[14]*J,$[15]=Q[15]*J,$}function pF1($,Q,J,Z){return $[0]=Q[0]+J[0]*Z,$[1]=Q[1]+J[1]*Z,$[2]=Q[2]+J[2]*Z,$[3]=Q[3]+J[3]*Z,$[4]=Q[4]+J[4]*Z,$[5]=Q[5]+J[5]*Z,$[6]=Q[6]+J[6]*Z,$[7]=Q[7]+J[7]*Z,$[8]=Q[8]+J[8]*Z,$[9]=Q[9]+J[9]*Z,$[10]=Q[10]+J[10]*Z,$[11]=Q[11]+J[11]*Z,$[12]=Q[12]+J[12]*Z,$[13]=Q[13]+J[13]*Z,$[14]=Q[14]+J[14]*Z,$[15]=Q[15]+J[15]*Z,$}function uF1($,Q){return $[0]===Q[0]&&$[1]===Q[1]&&$[2]===Q[2]&&$[3]===Q[3]&&$[4]===Q[4]&&$[5]===Q[5]&&$[6]===Q[6]&&$[7]===Q[7]&&$[8]===Q[8]&&$[9]===Q[9]&&$[10]===Q[10]&&$[11]===Q[11]&&$[12]===Q[12]&&$[13]===Q[13]&&$[14]===Q[14]&&$[15]===Q[15]}function iF1($,Q){let J=$[0],Z=$[1],X=$[2],W=$[3],H=$[4],F=$[5],V=$[6],D=$[7],C=$[8],z=$[9],R=$[10],k=$[11],P=$[12],S=$[13],T=$[14],_=$[15],v=Q[0],L=Q[1],f=Q[2],l=Q[3],J1=Q[4],Y1=Q[5],H1=Q[6],Q1=Q[7],W1=Q[8],R1=Q[9],C1=Q[10],O1=Q[11],x1=Q[12],U1=Q[13],T1=Q[14],I1=Q[15];return Math.abs(J-v)<=R0*Math.max(1,Math.abs(J),Math.abs(v))&&Math.abs(Z-L)<=R0*Math.max(1,Math.abs(Z),Math.abs(L))&&Math.abs(X-f)<=R0*Math.max(1,Math.abs(X),Math.abs(f))&&Math.abs(W-l)<=R0*Math.max(1,Math.abs(W),Math.abs(l))&&Math.abs(H-J1)<=R0*Math.max(1,Math.abs(H),Math.abs(J1))&&Math.abs(F-Y1)<=R0*Math.max(1,Math.abs(F),Math.abs(Y1))&&Math.abs(V-H1)<=R0*Math.max(1,Math.abs(V),Math.abs(H1))&&Math.abs(D-Q1)<=R0*Math.max(1,Math.abs(D),Math.abs(Q1))&&Math.abs(C-W1)<=R0*Math.max(1,Math.abs(C),Math.abs(W1))&&Math.abs(z-R1)<=R0*Math.max(1,Math.abs(z),Math.abs(R1))&&Math.abs(R-C1)<=R0*Math.max(1,Math.abs(R),Math.abs(C1))&&Math.abs(k-O1)<=R0*Math.max(1,Math.abs(k),Math.abs(O1))&&Math.abs(P-x1)<=R0*Math.max(1,Math.abs(P),Math.abs(x1))&&Math.abs(S-U1)<=R0*Math.max(1,Math.abs(S),Math.abs(U1))&&Math.abs(T-T1)<=R0*Math.max(1,Math.abs(T),Math.abs(T1))&&Math.abs(_-I1)<=R0*Math.max(1,Math.abs(_),Math.abs(I1))}var nF1=LY,sF1=Yn;var P3={};QJ(P3,{zero:()=>CU1,transformQuat:()=>DU1,transformMat4:()=>yM,subtract:()=>qn,sub:()=>RU1,str:()=>AU1,squaredLength:()=>Dn,squaredDistance:()=>Vn,sqrLen:()=>SU1,sqrDist:()=>MU1,set:()=>tF1,scaleAndAdd:()=>YU1,scale:()=>XU1,round:()=>KU1,random:()=>NU1,normalize:()=>HU1,negate:()=>WU1,multiply:()=>Hn,mul:()=>OU1,min:()=>JU1,max:()=>ZU1,lerp:()=>VU1,length:()=>Nn,len:()=>wU1,inverse:()=>qU1,fromValues:()=>aF1,forEach:()=>TU1,floor:()=>QU1,exactEquals:()=>zU1,equals:()=>BU1,dot:()=>FU1,divide:()=>Fn,div:()=>kU1,distance:()=>Un,dist:()=>PU1,cross:()=>UU1,create:()=>Wn,copy:()=>rF1,clone:()=>oF1,ceil:()=>$U1,add:()=>eF1});function Wn(){let $=new N5(4);if(N5!=Float32Array)$[0]=0,$[1]=0,$[2]=0,$[3]=0;return $}function oF1($){let Q=new N5(4);return Q[0]=$[0],Q[1]=$[1],Q[2]=$[2],Q[3]=$[3],Q}function aF1($,Q,J,Z){let X=new N5(4);return X[0]=$,X[1]=Q,X[2]=J,X[3]=Z,X}function rF1($,Q){return $[0]=Q[0],$[1]=Q[1],$[2]=Q[2],$[3]=Q[3],$}function tF1($,Q,J,Z,X){return $[0]=Q,$[1]=J,$[2]=Z,$[3]=X,$}function eF1($,Q,J){return $[0]=Q[0]+J[0],$[1]=Q[1]+J[1],$[2]=Q[2]+J[2],$[3]=Q[3]+J[3],$}function qn($,Q,J){return $[0]=Q[0]-J[0],$[1]=Q[1]-J[1],$[2]=Q[2]-J[2],$[3]=Q[3]-J[3],$}function Hn($,Q,J){return $[0]=Q[0]*J[0],$[1]=Q[1]*J[1],$[2]=Q[2]*J[2],$[3]=Q[3]*J[3],$}function Fn($,Q,J){return $[0]=Q[0]/J[0],$[1]=Q[1]/J[1],$[2]=Q[2]/J[2],$[3]=Q[3]/J[3],$}function $U1($,Q){return $[0]=Math.ceil(Q[0]),$[1]=Math.ceil(Q[1]),$[2]=Math.ceil(Q[2]),$[3]=Math.ceil(Q[3]),$}function QU1($,Q){return $[0]=Math.floor(Q[0]),$[1]=Math.floor(Q[1]),$[2]=Math.floor(Q[2]),$[3]=Math.floor(Q[3]),$}function JU1($,Q,J){return $[0]=Math.min(Q[0],J[0]),$[1]=Math.min(Q[1],J[1]),$[2]=Math.min(Q[2],J[2]),$[3]=Math.min(Q[3],J[3]),$}function ZU1($,Q,J){return $[0]=Math.max(Q[0],J[0]),$[1]=Math.max(Q[1],J[1]),$[2]=Math.max(Q[2],J[2]),$[3]=Math.max(Q[3],J[3]),$}function KU1($,Q){return $[0]=s4(Q[0]),$[1]=s4(Q[1]),$[2]=s4(Q[2]),$[3]=s4(Q[3]),$}function XU1($,Q,J){return $[0]=Q[0]*J,$[1]=Q[1]*J,$[2]=Q[2]*J,$[3]=Q[3]*J,$}function YU1($,Q,J,Z){return $[0]=Q[0]+J[0]*Z,$[1]=Q[1]+J[1]*Z,$[2]=Q[2]+J[2]*Z,$[3]=Q[3]+J[3]*Z,$}function Un($,Q){let J=Q[0]-$[0],Z=Q[1]-$[1],X=Q[2]-$[2],W=Q[3]-$[3];return Math.sqrt(J*J+Z*Z+X*X+W*W)}function Vn($,Q){let J=Q[0]-$[0],Z=Q[1]-$[1],X=Q[2]-$[2],W=Q[3]-$[3];return J*J+Z*Z+X*X+W*W}function Nn($){let Q=$[0],J=$[1],Z=$[2],X=$[3];return Math.sqrt(Q*Q+J*J+Z*Z+X*X)}function Dn($){let Q=$[0],J=$[1],Z=$[2],X=$[3];return Q*Q+J*J+Z*Z+X*X}function WU1($,Q){return $[0]=-Q[0],$[1]=-Q[1],$[2]=-Q[2],$[3]=-Q[3],$}function qU1($,Q){return $[0]=1/Q[0],$[1]=1/Q[1],$[2]=1/Q[2],$[3]=1/Q[3],$}function HU1($,Q){let J=Q[0],Z=Q[1],X=Q[2],W=Q[3],H=J*J+Z*Z+X*X+W*W;if(H>0)H=1/Math.sqrt(H);return $[0]=J*H,$[1]=Z*H,$[2]=X*H,$[3]=W*H,$}function FU1($,Q){return $[0]*Q[0]+$[1]*Q[1]+$[2]*Q[2]+$[3]*Q[3]}function UU1($,Q,J,Z){let X=J[0]*Z[1]-J[1]*Z[0],W=J[0]*Z[2]-J[2]*Z[0],H=J[0]*Z[3]-J[3]*Z[0],F=J[1]*Z[2]-J[2]*Z[1],V=J[1]*Z[3]-J[3]*Z[1],D=J[2]*Z[3]-J[3]*Z[2],C=Q[0],z=Q[1],R=Q[2],k=Q[3];return $[0]=z*D-R*V+k*F,$[1]=-(C*D)+R*H-k*W,$[2]=C*V-z*H+k*X,$[3]=-(C*F)+z*W-R*X,$}function VU1($,Q,J,Z){let X=Q[0],W=Q[1],H=Q[2],F=Q[3];return $[0]=X+Z*(J[0]-X),$[1]=W+Z*(J[1]-W),$[2]=H+Z*(J[2]-H),$[3]=F+Z*(J[3]-F),$}function NU1($,Q){Q=Q===void 0?1:Q;let J,Z,X,W,H,F;do J=O3()*2-1,Z=O3()*2-1,H=J*J+Z*Z;while(H>=1);do X=O3()*2-1,W=O3()*2-1,F=X*X+W*W;while(F>=1);let V=Math.sqrt((1-H)/F);return $[0]=Q*J,$[1]=Q*Z,$[2]=Q*X*V,$[3]=Q*W*V,$}function yM($,Q,J){let Z=Q[0],X=Q[1],W=Q[2],H=Q[3];return $[0]=J[0]*Z+J[4]*X+J[8]*W+J[12]*H,$[1]=J[1]*Z+J[5]*X+J[9]*W+J[13]*H,$[2]=J[2]*Z+J[6]*X+J[10]*W+J[14]*H,$[3]=J[3]*Z+J[7]*X+J[11]*W+J[15]*H,$}function DU1($,Q,J){let Z=Q[0],X=Q[1],W=Q[2],H=J[0],F=J[1],V=J[2],D=J[3],C=D*Z+F*W-V*X,z=D*X+V*Z-H*W,R=D*W+H*X-F*Z,k=-H*Z-F*X-V*W;return $[0]=C*D+k*-H+z*-V-R*-F,$[1]=z*D+k*-F+R*-H-C*-V,$[2]=R*D+k*-V+C*-F-z*-H,$[3]=Q[3],$}function CU1($){return $[0]=0,$[1]=0,$[2]=0,$[3]=0,$}function AU1($){return`vec4(${$[0]}, ${$[1]}, ${$[2]}, ${$[3]})`}function zU1($,Q){return $[0]===Q[0]&&$[1]===Q[1]&&$[2]===Q[2]&&$[3]===Q[3]}function BU1($,Q){let J=$[0],Z=$[1],X=$[2],W=$[3],H=Q[0],F=Q[1],V=Q[2],D=Q[3];return Math.abs(J-H)<=R0*Math.max(1,Math.abs(J),Math.abs(H))&&Math.abs(Z-F)<=R0*Math.max(1,Math.abs(Z),Math.abs(F))&&Math.abs(X-V)<=R0*Math.max(1,Math.abs(X),Math.abs(V))&&Math.abs(W-D)<=R0*Math.max(1,Math.abs(W),Math.abs(D))}var RU1=qn,OU1=Hn,kU1=Fn,PU1=Un,MU1=Vn,wU1=Nn,SU1=Dn,TU1=function(){let $=Wn();return function(Q,J,Z,X,W,H){let F,V;if(!J)J=4;if(!Z)Z=0;if(X)V=Math.min(X*J+Z,Q.length);else V=Q.length;for(F=Z;F<V;F+=J)$[0]=Q[F],$[1]=Q[F+1],$[2]=Q[F+2],$[3]=Q[F+3],W($,$,H),Q[F]=$[0],Q[F+1]=$[1],Q[F+2]=$[2],Q[F+3]=$[3];return Q}}();var mM;(function($){$[$.COL0ROW0=0]="COL0ROW0",$[$.COL0ROW1=1]="COL0ROW1",$[$.COL0ROW2=2]="COL0ROW2",$[$.COL0ROW3=3]="COL0ROW3",$[$.COL1ROW0=4]="COL1ROW0",$[$.COL1ROW1=5]="COL1ROW1",$[$.COL1ROW2=6]="COL1ROW2",$[$.COL1ROW3=7]="COL1ROW3",$[$.COL2ROW0=8]="COL2ROW0",$[$.COL2ROW1=9]="COL2ROW1",$[$.COL2ROW2=10]="COL2ROW2",$[$.COL2ROW3=11]="COL2ROW3",$[$.COL3ROW0=12]="COL3ROW0",$[$.COL3ROW1=13]="COL3ROW1",$[$.COL3ROW2=14]="COL3ROW2",$[$.COL3ROW3=15]="COL3ROW3"})(mM||(mM={}));var IU1=45*Math.PI/180,GU1=1,bM=0.1,fM=500,EU1=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class W6 extends PM{static get IDENTITY(){return LU1()}static get ZERO(){return jU1()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return mM}constructor($){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0);if(arguments.length===1&&Array.isArray($))this.copy($);else this.identity()}copy($){return this[0]=$[0],this[1]=$[1],this[2]=$[2],this[3]=$[3],this[4]=$[4],this[5]=$[5],this[6]=$[6],this[7]=$[7],this[8]=$[8],this[9]=$[9],this[10]=$[10],this[11]=$[11],this[12]=$[12],this[13]=$[13],this[14]=$[14],this[15]=$[15],this.check()}set($,Q,J,Z,X,W,H,F,V,D,C,z,R,k,P,S){return this[0]=$,this[1]=Q,this[2]=J,this[3]=Z,this[4]=X,this[5]=W,this[6]=H,this[7]=F,this[8]=V,this[9]=D,this[10]=C,this[11]=z,this[12]=R,this[13]=k,this[14]=P,this[15]=S,this.check()}setRowMajor($,Q,J,Z,X,W,H,F,V,D,C,z,R,k,P,S){return this[0]=$,this[1]=X,this[2]=V,this[3]=R,this[4]=Q,this[5]=W,this[6]=D,this[7]=k,this[8]=J,this[9]=H,this[10]=C,this[11]=P,this[12]=Z,this[13]=F,this[14]=z,this[15]=S,this.check()}toRowMajor($){return $[0]=this[0],$[1]=this[4],$[2]=this[8],$[3]=this[12],$[4]=this[1],$[5]=this[5],$[6]=this[9],$[7]=this[13],$[8]=this[2],$[9]=this[6],$[10]=this[10],$[11]=this[14],$[12]=this[3],$[13]=this[7],$[14]=this[11],$[15]=this[15],$}identity(){return this.copy(EU1)}fromObject($){return this.check()}fromQuaternion($){return hM(this,$),this.check()}frustum($){let{left:Q,right:J,bottom:Z,top:X,near:W=bM,far:H=fM}=$;if(H===1/0)hU1(this,Q,J,Z,X,W);else vM(this,Q,J,Z,X,W,H);return this.check()}lookAt($){let{eye:Q,center:J=[0,0,0],up:Z=[0,1,0]}=$;return gM(this,Q,J,Z),this.check()}ortho($){let{left:Q,right:J,bottom:Z,top:X,near:W=bM,far:H=fM}=$;return xM(this,Q,J,Z,X,W,H),this.check()}orthographic($){let{fovy:Q=IU1,aspect:J=GU1,focalDistance:Z=1,near:X=bM,far:W=fM}=$;Cn(Q);let H=Q/2,F=Z*Math.tan(H),V=F*J;return this.ortho({left:-V,right:V,bottom:-F,top:F,near:X,far:W})}perspective($){let{fovy:Q=45*Math.PI/180,aspect:J=1,near:Z=0.1,far:X=500}=$;return Cn(Q),_M(this,Q,J,Z,X),this.check()}determinant(){return SM(this)}getScale($=[-0,-0,-0]){return $[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),$[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),$[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),$}getTranslation($=[-0,-0,-0]){return $[0]=this[12],$[1]=this[13],$[2]=this[14],$}getRotation($,Q){$=$||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],Q=Q||[-0,-0,-0];let J=this.getScale(Q),Z=1/J[0],X=1/J[1],W=1/J[2];return $[0]=this[0]*Z,$[1]=this[1]*X,$[2]=this[2]*W,$[3]=0,$[4]=this[4]*Z,$[5]=this[5]*X,$[6]=this[6]*W,$[7]=0,$[8]=this[8]*Z,$[9]=this[9]*X,$[10]=this[10]*W,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}getRotationMatrix3($,Q){$=$||[-0,-0,-0,-0,-0,-0,-0,-0,-0],Q=Q||[-0,-0,-0];let J=this.getScale(Q),Z=1/J[0],X=1/J[1],W=1/J[2];return $[0]=this[0]*Z,$[1]=this[1]*X,$[2]=this[2]*W,$[3]=this[4]*Z,$[4]=this[5]*X,$[5]=this[6]*W,$[6]=this[8]*Z,$[7]=this[9]*X,$[8]=this[10]*W,$}transpose(){return MM(this,this),this.check()}invert(){return wM(this,this),this.check()}multiplyLeft($){return LY(this,$,this),this.check()}multiplyRight($){return LY(this,this,$),this.check()}rotateX($){return EM(this,this,$),this.check()}rotateY($){return jM(this,this,$),this.check()}rotateZ($){return LM(this,this,$),this.check()}rotateXYZ($){return this.rotateX($[0]).rotateY($[1]).rotateZ($[2])}rotateAxis($,Q){return GM(this,this,$,Q),this.check()}scale($){return IM(this,this,Array.isArray($)?$:[$,$,$]),this.check()}translate($){return TM(this,this,$),this.check()}transform($,Q){if($.length===4)return Q=yM(Q||[-0,-0,-0,-0],$,this),iU(Q,4),Q;return this.transformAsPoint($,Q)}transformAsPoint($,Q){let{length:J}=$,Z;switch(J){case 2:Z=VM(Q||[-0,-0],$,this);break;case 3:Z=jY(Q||[-0,-0,-0],$,this);break;default:throw Error("Illegal vector")}return iU(Z,$.length),Z}transformAsVector($,Q){let J;switch($.length){case 2:J=ui(Q||[-0,-0],$,this);break;case 3:J=sU(Q||[-0,-0,-0],$,this);break;default:throw Error("Illegal vector")}return iU(J,$.length),J}transformPoint($,Q){return this.transformAsPoint($,Q)}transformVector($,Q){return this.transformAsPoint($,Q)}transformDirection($,Q){return this.transformAsVector($,Q)}makeRotationX($){return this.identity().rotateX($)}makeTranslation($,Q,J){return this.identity().translate([$,Q,J])}}var aU,rU;function jU1(){if(!aU)aU=new W6([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(aU);return aU}function LU1(){if(!rU)rU=new W6,Object.freeze(rU);return rU}function Cn($){if($>Math.PI*2)throw Error("expected radians")}function hU1($,Q,J,Z,X,W){let H=2*W/(J-Q),F=2*W/(X-Z),V=(J+Q)/(J-Q),D=(X+Z)/(X-Z),C=-1,z=-1,R=-2*W;return $[0]=H,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=F,$[6]=0,$[7]=0,$[8]=V,$[9]=D,$[10]=-1,$[11]=-1,$[12]=0,$[13]=0,$[14]=R,$[15]=0,$}function cM($,Q=[],J=0){let Z=Math.fround($),X=$-Z;return Q[J]=Z,Q[J+1]=X,Q}function An($){return $-Math.fround($)}function zn($){let Q=new Float32Array(32);for(let J=0;J<4;++J)for(let Z=0;Z<4;++Z){let X=J*4+Z;cM($[Z*4+J],Q,X*2)}return Q}var dM={name:"fp32",vs:`#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND

// All these functions are for substituting tan() function from Intel GPU only
const float TWO_PI = 6.2831854820251465;
const float PI_2 = 1.5707963705062866;
const float PI_16 = 0.1963495463132858;

const float SIN_TABLE_0 = 0.19509032368659973;
const float SIN_TABLE_1 = 0.3826834261417389;
const float SIN_TABLE_2 = 0.5555702447891235;
const float SIN_TABLE_3 = 0.7071067690849304;

const float COS_TABLE_0 = 0.9807852506637573;
const float COS_TABLE_1 = 0.9238795042037964;
const float COS_TABLE_2 = 0.8314695954322815;
const float COS_TABLE_3 = 0.7071067690849304;

const float INVERSE_FACTORIAL_3 = 1.666666716337204e-01; // 1/3!
const float INVERSE_FACTORIAL_5 = 8.333333767950535e-03; // 1/5!
const float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04; // 1/7!
const float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06; // 1/9!

float sin_taylor_fp32(float a) {
  float r, s, t, x;

  if (a == 0.0) {
    return 0.0;
  }

  x = -a * a;
  s = a;
  r = a;

  r = r * x;
  t = r * INVERSE_FACTORIAL_3;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_5;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_7;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_9;
  s = s + t;

  return s;
}

void sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {
  if (a == 0.0) {
    sin_t = 0.0;
    cos_t = 1.0;
  }
  sin_t = sin_taylor_fp32(a);
  cos_t = sqrt(1.0 - sin_t * sin_t);
}

float tan_taylor_fp32(float a) {
    float sin_a;
    float cos_a;

    if (a == 0.0) {
        return 0.0;
    }

    // 2pi range reduction
    float z = floor(a / TWO_PI);
    float r = a - TWO_PI * z;

    float t;
    float q = floor(r / PI_2 + 0.5);
    int j = int(q);

    if (j < -2 || j > 2) {
        return 1.0 / 0.0;
    }

    t = r - PI_2 * q;

    q = floor(t / PI_16 + 0.5);
    int k = int(q);
    int abs_k = int(abs(float(k)));

    if (abs_k > 4) {
        return 1.0 / 0.0;
    } else {
        t = t - PI_16 * q;
    }

    float u = 0.0;
    float v = 0.0;

    float sin_t, cos_t;
    float s, c;
    sincos_taylor_fp32(t, sin_t, cos_t);

    if (k == 0) {
        s = sin_t;
        c = cos_t;
    } else {
        if (abs(float(abs_k) - 1.0) < 0.5) {
            u = COS_TABLE_0;
            v = SIN_TABLE_0;
        } else if (abs(float(abs_k) - 2.0) < 0.5) {
            u = COS_TABLE_1;
            v = SIN_TABLE_1;
        } else if (abs(float(abs_k) - 3.0) < 0.5) {
            u = COS_TABLE_2;
            v = SIN_TABLE_2;
        } else if (abs(float(abs_k) - 4.0) < 0.5) {
            u = COS_TABLE_3;
            v = SIN_TABLE_3;
        }
        if (k > 0) {
            s = u * sin_t + v * cos_t;
            c = u * cos_t - v * sin_t;
        } else {
            s = u * sin_t - v * cos_t;
            c = u * cos_t + v * sin_t;
        }
    }

    if (j == 0) {
        sin_a = s;
        cos_a = c;
    } else if (j == 1) {
        sin_a = c;
        cos_a = -s;
    } else if (j == -1) {
        sin_a = -c;
        cos_a = s;
    } else {
        sin_a = -s;
        cos_a = -c;
    }
    return sin_a / cos_a;
}
#endif

float tan_fp32(float a) {
#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND
  return tan_taylor_fp32(a);
#else
  return tan(a);
#endif
}
`};var Bn=`
uniform fp64arithmeticUniforms {
  uniform float ONE;
} fp64;

/*
About LUMA_FP64_CODE_ELIMINATION_WORKAROUND

The purpose of this workaround is to prevent shader compilers from
optimizing away necessary arithmetic operations by swapping their sequences
or transform the equation to some 'equivalent' form.

The method is to multiply an artifical variable, ONE, which will be known to
the compiler to be 1 only at runtime. The whole expression is then represented
as a polynomial with respective to ONE. In the coefficients of all terms, only one a
and one b should appear

err = (a + b) * ONE^6 - a * ONE^5 - (a + b) * ONE^4 + a * ONE^3 - b - (a + b) * ONE^2 + a * ONE
*/

// Divide float number to high and low floats to extend fraction bits
vec2 split(float a) {
  const float SPLIT = 4097.0;
  float t = a * SPLIT;
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float a_hi = t * fp64.ONE - (t - a);
  float a_lo = a * fp64.ONE - a_hi;
#else
  float a_hi = t - (t - a);
  float a_lo = a - a_hi;
#endif
  return vec2(a_hi, a_lo);
}

// Divide float number again when high float uses too many fraction bits
vec2 split2(vec2 a) {
  vec2 b = split(a.x);
  b.y += a.y;
  return b;
}

// Special sum operation when a > b
vec2 quickTwoSum(float a, float b) {
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float sum = (a + b) * fp64.ONE;
  float err = b - (sum - a) * fp64.ONE;
#else
  float sum = a + b;
  float err = b - (sum - a);
#endif
  return vec2(sum, err);
}

// General sum operation
vec2 twoSum(float a, float b) {
  float s = (a + b);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float v = (s * fp64.ONE - a) * fp64.ONE;
  float err = (a - (s - v) * fp64.ONE) * fp64.ONE * fp64.ONE * fp64.ONE + (b - v);
#else
  float v = s - a;
  float err = (a - (s - v)) + (b - v);
#endif
  return vec2(s, err);
}

vec2 twoSub(float a, float b) {
  float s = (a - b);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float v = (s * fp64.ONE - a) * fp64.ONE;
  float err = (a - (s - v) * fp64.ONE) * fp64.ONE * fp64.ONE * fp64.ONE - (b + v);
#else
  float v = s - a;
  float err = (a - (s - v)) - (b + v);
#endif
  return vec2(s, err);
}

vec2 twoSqr(float a) {
  float prod = a * a;
  vec2 a_fp64 = split(a);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float err = ((a_fp64.x * a_fp64.x - prod) * fp64.ONE + 2.0 * a_fp64.x *
    a_fp64.y * fp64.ONE * fp64.ONE) + a_fp64.y * a_fp64.y * fp64.ONE * fp64.ONE * fp64.ONE;
#else
  float err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;
#endif
  return vec2(prod, err);
}

vec2 twoProd(float a, float b) {
  float prod = a * b;
  vec2 a_fp64 = split(a);
  vec2 b_fp64 = split(b);
  float err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +
    a_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;
  return vec2(prod, err);
}

vec2 sum_fp64(vec2 a, vec2 b) {
  vec2 s, t;
  s = twoSum(a.x, b.x);
  t = twoSum(a.y, b.y);
  s.y += t.x;
  s = quickTwoSum(s.x, s.y);
  s.y += t.y;
  s = quickTwoSum(s.x, s.y);
  return s;
}

vec2 sub_fp64(vec2 a, vec2 b) {
  vec2 s, t;
  s = twoSub(a.x, b.x);
  t = twoSub(a.y, b.y);
  s.y += t.x;
  s = quickTwoSum(s.x, s.y);
  s.y += t.y;
  s = quickTwoSum(s.x, s.y);
  return s;
}

vec2 mul_fp64(vec2 a, vec2 b) {
  vec2 prod = twoProd(a.x, b.x);
  // y component is for the error
  prod.y += a.x * b.y;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  prod = split2(prod);
#endif
  prod = quickTwoSum(prod.x, prod.y);
  prod.y += a.y * b.x;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  prod = split2(prod);
#endif
  prod = quickTwoSum(prod.x, prod.y);
  return prod;
}

vec2 div_fp64(vec2 a, vec2 b) {
  float xn = 1.0 / b.x;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  vec2 yn = mul_fp64(a, vec2(xn, 0));
#else
  vec2 yn = a * xn;
#endif
  float diff = (sub_fp64(a, mul_fp64(b, yn))).x;
  vec2 prod = twoProd(xn, diff);
  return sum_fp64(yn, prod);
}

vec2 sqrt_fp64(vec2 a) {
  if (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);
  if (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);

  float x = 1.0 / sqrt(a.x);
  float yn = a.x * x;
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  vec2 yn_sqr = twoSqr(yn) * fp64.ONE;
#else
  vec2 yn_sqr = twoSqr(yn);
#endif
  float diff = sub_fp64(a, yn_sqr).x;
  vec2 prod = twoProd(x * 0.5, diff);
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  return sum_fp64(split(yn), prod);
#else
  return sum_fp64(vec2(yn, 0.0), prod);
#endif
}
`;var vU1={ONE:1},lM={name:"fp64arithmetic",vs:Bn,defaultUniforms:vU1,uniformTypes:{ONE:"f32"},fp64ify:cM,fp64LowPart:An,fp64ifyMatrix4:zn};var _U1=[0,1,1,1];var tU={props:{},uniforms:{},name:"picking",uniformTypes:{isActive:"f32",isAttribute:"f32",isHighlightActive:"f32",useFloatColors:"f32",highlightedObjectColor:"vec3<f32>",highlightColor:"vec4<f32>"},defaultUniforms:{isActive:!1,isAttribute:!1,isHighlightActive:!1,useFloatColors:!0,highlightedObjectColor:[0,0,0],highlightColor:_U1},vs:`uniform pickingUniforms {
  float isActive;
  float isAttribute;
  float isHighlightActive;
  float useFloatColors;
  vec3 highlightedObjectColor;
  vec4 highlightColor;
} picking;

out vec4 picking_vRGBcolor_Avalid;

// Normalize unsigned byte color to 0-1 range
vec3 picking_normalizeColor(vec3 color) {
  return picking.useFloatColors > 0.5 ? color : color / 255.0;
}

// Normalize unsigned byte color to 0-1 range
vec4 picking_normalizeColor(vec4 color) {
  return picking.useFloatColors > 0.5 ? color : color / 255.0;
}

bool picking_isColorZero(vec3 color) {
  return dot(color, vec3(1.0)) < 0.00001;
}

bool picking_isColorValid(vec3 color) {
  return dot(color, vec3(1.0)) > 0.00001;
}

// Check if this vertex is highlighted 
bool isVertexHighlighted(vec3 vertexColor) {
  vec3 highlightedObjectColor = picking_normalizeColor(picking.highlightedObjectColor);
  return
    bool(picking.isHighlightActive) && picking_isColorZero(abs(vertexColor - highlightedObjectColor));
}

// Set the current picking color
void picking_setPickingColor(vec3 pickingColor) {
  pickingColor = picking_normalizeColor(pickingColor);

  if (bool(picking.isActive)) {
    // Use alpha as the validity flag. If pickingColor is [0, 0, 0] fragment is non-pickable
    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));

    if (!bool(picking.isAttribute)) {
      // Stores the picking color so that the fragment shader can render it during picking
      picking_vRGBcolor_Avalid.rgb = pickingColor;
    }
  } else {
    // Do the comparison with selected item color in vertex shader as it should mean fewer compares
    picking_vRGBcolor_Avalid.a = float(isVertexHighlighted(pickingColor));
  }
}

void picking_setPickingAttribute(float value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.r = value;
  }
}

void picking_setPickingAttribute(vec2 value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.rg = value;
  }
}

void picking_setPickingAttribute(vec3 value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.rgb = value;
  }
}
`,fs:`uniform pickingUniforms {
  float isActive;
  float isAttribute;
  float isHighlightActive;
  float useFloatColors;
  vec3 highlightedObjectColor;
  vec4 highlightColor;
} picking;

in vec4 picking_vRGBcolor_Avalid;

/*
 * Returns highlight color if this item is selected.
 */
vec4 picking_filterHighlightColor(vec4 color) {
  // If we are still picking, we don't highlight
  if (picking.isActive > 0.5) {
    return color;
  }

  bool selected = bool(picking_vRGBcolor_Avalid.a);

  if (selected) {
    // Blend in highlight color based on its alpha value
    float highLightAlpha = picking.highlightColor.a;
    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);
    float highLightRatio = highLightAlpha / blendedAlpha;

    vec3 blendedRGB = mix(color.rgb, picking.highlightColor.rgb, highLightRatio);
    return vec4(blendedRGB, blendedAlpha);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 picking_filterPickingColor(vec4 color) {
  if (bool(picking.isActive)) {
    if (picking_vRGBcolor_Avalid.a == 0.0) {
      discard;
    }
    return picking_vRGBcolor_Avalid;
  }
  return color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 picking_filterColor(vec4 color) {
  vec4 highlightColor = picking_filterHighlightColor(color);
  return picking_filterPickingColor(highlightColor);
}
`,getUniforms:xU1};function xU1($={},Q){let J={};if($.highlightedObjectColor===void 0);else if($.highlightedObjectColor===null)J.isHighlightActive=!1;else{J.isHighlightActive=!0;let Z=$.highlightedObjectColor.slice(0,3);J.highlightedObjectColor=Z}if($.highlightColor){let Z=Array.from($.highlightColor,(X)=>X/255);if(!Number.isFinite(Z[3]))Z[3]=1;J.highlightColor=Z}if($.isActive!==void 0)J.isActive=Boolean($.isActive),J.isAttribute=Boolean($.isAttribute);if($.useFloatColors!==void 0)J.useFloatColors=Boolean($.useFloatColors);return J}var pM=`precision highp int;

// #if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))
struct AmbientLight {
  vec3 color;
};

struct PointLight {
  vec3 color;
  vec3 position;
  vec3 attenuation; // 2nd order x:Constant-y:Linear-z:Exponential
};

struct DirectionalLight {
  vec3 color;
  vec3 direction;
};

uniform lightingUniforms {
  int enabled;
  int lightType;

  int directionalLightCount;
  int pointLightCount;

  vec3 ambientColor;

  vec3 lightColor0;
  vec3 lightPosition0;
  vec3 lightDirection0;
  vec3 lightAttenuation0;

  vec3 lightColor1;
  vec3 lightPosition1;
  vec3 lightDirection1;
  vec3 lightAttenuation1;

  vec3 lightColor2;
  vec3 lightPosition2;
  vec3 lightDirection2;
  vec3 lightAttenuation2;
} lighting;

PointLight lighting_getPointLight(int index) {
  switch (index) {
    case 0:
      return PointLight(lighting.lightColor0, lighting.lightPosition0, lighting.lightAttenuation0);
    case 1:
      return PointLight(lighting.lightColor1, lighting.lightPosition1, lighting.lightAttenuation1);
    case 2:
    default:  
      return PointLight(lighting.lightColor2, lighting.lightPosition2, lighting.lightAttenuation2);
  }
}

DirectionalLight lighting_getDirectionalLight(int index) {
  switch (index) {
    case 0:
      return DirectionalLight(lighting.lightColor0, lighting.lightDirection0);
    case 1:
      return DirectionalLight(lighting.lightColor1, lighting.lightDirection1);
    case 2:
    default:   
      return DirectionalLight(lighting.lightColor2, lighting.lightDirection2);
  }
} 

float getPointLightAttenuation(PointLight pointLight, float distance) {
  return pointLight.attenuation.x
       + pointLight.attenuation.y * distance
       + pointLight.attenuation.z * distance * distance;
}

// #endif
`;var Rn=`// #if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))
struct AmbientLight {
  color: vec3<f32>,
};

struct PointLight {
  color: vec3<f32>,
  position: vec3<f32>,
  attenuation: vec3<f32>, // 2nd order x:Constant-y:Linear-z:Exponential
};

struct DirectionalLight {
  color: vec3<f32>,
  direction: vec3<f32>,
};

struct lightingUniforms {
  enabled: i32,
  pointLightCount: i32,
  directionalLightCount: i32,

  ambientColor: vec3<f32>,

  // TODO - support multiple lights by uncommenting arrays below
  lightType: i32,
  lightColor: vec3<f32>,
  lightDirection: vec3<f32>,
  lightPosition: vec3<f32>,
  lightAttenuation: vec3<f32>,

  // AmbientLight ambientLight;
  // PointLight pointLight[MAX_LIGHTS];
  // DirectionalLight directionalLight[MAX_LIGHTS];
};

// Binding 0:1 is reserved for lighting (Note: could go into separate bind group as it is stable across draw calls)
@binding(1) @group(0) var<uniform> lighting : lightingUniforms;

fn lighting_getPointLight(index: i32) -> PointLight {
  return PointLight(lighting.lightColor, lighting.lightPosition, lighting.lightAttenuation);
}

fn lighting_getDirectionalLight(index: i32) -> DirectionalLight {
  return DirectionalLight(lighting.lightColor, lighting.lightDirection);
} 

fn getPointLightAttenuation(pointLight: PointLight, distance: f32) -> f32 {
  return pointLight.attenuation.x
       + pointLight.attenuation.y * distance
       + pointLight.attenuation.z * distance * distance;
}
`;var On=3,gU1=255,vY;(function($){$[$.POINT=0]="POINT",$[$.DIRECTIONAL=1]="DIRECTIONAL"})(vY||(vY={}));var hY={props:{},uniforms:{},name:"lighting",defines:{MAX_LIGHTS:On},uniformTypes:{enabled:"i32",lightType:"i32",directionalLightCount:"i32",pointLightCount:"i32",ambientLightColor:"vec3<f32>",lightColor0:"vec3<f32>",lightPosition0:"vec3<f32>",lightDirection0:"vec3<f32>",lightAttenuation0:"vec3<f32>",lightColor1:"vec3<f32>",lightPosition1:"vec3<f32>",lightDirection1:"vec3<f32>",lightAttenuation1:"vec3<f32>",lightColor2:"vec3<f32>",lightPosition2:"vec3<f32>",lightDirection2:"vec3<f32>",lightAttenuation2:"vec3<f32>"},defaultUniforms:{enabled:1,lightType:vY.POINT,directionalLightCount:0,pointLightCount:0,ambientLightColor:[0.1,0.1,0.1],lightColor0:[1,1,1],lightPosition0:[1,1,2],lightDirection0:[1,1,1],lightAttenuation0:[1,0,0],lightColor1:[1,1,1],lightPosition1:[1,1,2],lightDirection1:[1,1,1],lightAttenuation1:[1,0,0],lightColor2:[1,1,1],lightPosition2:[1,1,2],lightDirection2:[1,1,1],lightAttenuation2:[1,0,0]},source:Rn,vs:pM,fs:pM,getUniforms:yU1};function yU1($,Q={}){if($=$?{...$}:$,!$)return{...hY.defaultUniforms};if($.lights)$={...$,...fU1($.lights),lights:void 0};let{ambientLight:J,pointLights:Z,directionalLights:X}=$||{};if(!(J||Z&&Z.length>0||X&&X.length>0))return{...hY.defaultUniforms,enabled:0};let H={...hY.defaultUniforms,...Q,...bU1({ambientLight:J,pointLights:Z,directionalLights:X})};if($.enabled!==void 0)H.enabled=$.enabled?1:0;return H}function bU1({ambientLight:$,pointLights:Q=[],directionalLights:J=[]}){let Z={};Z.ambientLightColor=uM($);let X=0;for(let W of Q){Z.lightType=vY.POINT;let H=X;Z[`lightColor${H}`]=uM(W),Z[`lightPosition${H}`]=W.position,Z[`lightAttenuation${H}`]=W.attenuation||[1,0,0],X++}for(let W of J){Z.lightType=vY.DIRECTIONAL;let H=X;Z[`lightColor${H}`]=uM(W),Z[`lightDirection${H}`]=W.direction,X++}if(X>On)X1.warn("MAX_LIGHTS exceeded")();return Z.directionalLightCount=J.length,Z.pointLightCount=Q.length,Z}function fU1($){let Q={pointLights:[],directionalLights:[]};for(let J of $||[])switch(J.type){case"ambient":Q.ambientLight=J;break;case"directional":Q.directionalLights?.push(J);break;case"point":Q.pointLights?.push(J);break;default:}return Q}function uM($={}){let{color:Q=[0,0,0],intensity:J=1}=$;return Q.map((Z)=>Z*J/gU1)}var kn=`uniform phongMaterialUniforms {
  uniform float ambient;
  uniform float diffuse;
  uniform float shininess;
  uniform vec3  specularColor;
} material;
`,Pn=`uniform phongMaterialUniforms {
  uniform float ambient;
  uniform float diffuse;
  uniform float shininess;
  uniform vec3  specularColor;
} material;

vec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {
  vec3 halfway_direction = normalize(light_direction + view_direction);
  float lambertian = dot(light_direction, normal_worldspace);
  float specular = 0.0;
  if (lambertian > 0.0) {
    float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);
    specular = pow(specular_angle, material.shininess);
  }
  lambertian = max(lambertian, 0.0);
  return (lambertian * material.diffuse * surfaceColor + specular * material.specularColor) * color;
}

vec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {
  vec3 lightColor = surfaceColor;

  if (lighting.enabled == 0) {
    return lightColor;
  }

  vec3 view_direction = normalize(cameraPosition - position_worldspace);
  lightColor = material.ambient * surfaceColor * lighting.ambientColor;

  for (int i = 0; i < lighting.pointLightCount; i++) {
    PointLight pointLight = lighting_getPointLight(i);
    vec3 light_position_worldspace = pointLight.position;
    vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
    float light_attenuation = getPointLightAttenuation(pointLight, distance(light_position_worldspace, position_worldspace));
    lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color / light_attenuation);
  }

  int totalLights = min(MAX_LIGHTS, lighting.pointLightCount + lighting.directionalLightCount);
  for (int i = lighting.pointLightCount; i < totalLights; i++) {
    DirectionalLight directionalLight = lighting_getDirectionalLight(i);
    lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
  }
  
  return lightColor;
}
`;var Mn=`struct phongMaterialUniforms {
  ambient: f32,
  diffuse: f32,
  shininess: f32,
  specularColor: vec3<f32>,
};

@binding(2) @group(0) var<uniform> phongMaterial : phongMaterialUniforms;

fn lighting_getLightColor(surfaceColor: vec3<f32>, light_direction: vec3<f32>, view_direction: vec3<f32>, normal_worldspace: vec3<f32>, color: vec3<f32>) -> vec3<f32> {
  let halfway_direction: vec3<f32> = normalize(light_direction + view_direction);
  var lambertian: f32 = dot(light_direction, normal_worldspace);
  var specular: f32 = 0.0;
  if (lambertian > 0.0) {
    let specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);
    specular = pow(specular_angle, phongMaterial.shininess);
  }
  lambertian = max(lambertian, 0.0);
  return (lambertian * phongMaterial.diffuse * surfaceColor + specular * phongMaterial.specularColor) * color;
}

fn lighting_getLightColor2(surfaceColor: vec3<f32>, cameraPosition: vec3<f32>, position_worldspace: vec3<f32>, normal_worldspace: vec3<f32>) -> vec3<f32> {
  var lightColor: vec3<f32> = surfaceColor;

  if (lighting.enabled == 0) {
    return lightColor;
  }

  let view_direction: vec3<f32> = normalize(cameraPosition - position_worldspace);
  lightColor = phongMaterial.ambient * surfaceColor * lighting.ambientColor;

  if (lighting.lightType == 0) {
    let pointLight: PointLight  = lighting_getPointLight(0);
    let light_position_worldspace: vec3<f32> = pointLight.position;
    let light_direction: vec3<f32> = normalize(light_position_worldspace - position_worldspace);
    lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
  } else if (lighting.lightType == 1) {
    var directionalLight: DirectionalLight = lighting_getDirectionalLight(0);
    lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
  }
  
  return lightColor;
  /*
  for (int i = 0; i < MAX_LIGHTS; i++) {
    if (i >= lighting.pointLightCount) {
      break;
    }
    PointLight pointLight = lighting.pointLight[i];
    vec3 light_position_worldspace = pointLight.position;
    vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
    lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
  }

  for (int i = 0; i < MAX_LIGHTS; i++) {
    if (i >= lighting.directionalLightCount) {
      break;
    }
    DirectionalLight directionalLight = lighting.directionalLight[i];
    lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
  }
  */
}

fn lighting_getSpecularLightColor(cameraPosition: vec3<f32>, position_worldspace: vec3<f32>, normal_worldspace: vec3<f32>) -> vec3<f32>{
  var lightColor = vec3<f32>(0, 0, 0);
  let surfaceColor = vec3<f32>(0, 0, 0);

  if (lighting.enabled == 0) {
    let view_direction = normalize(cameraPosition - position_worldspace);

    switch (lighting.lightType) {
      case 0, default: {
        let pointLight: PointLight = lighting_getPointLight(0);
        let light_position_worldspace: vec3<f32> = pointLight.position;
        let light_direction: vec3<f32> = normalize(light_position_worldspace - position_worldspace);
        lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
      }
      case 1: {
        let directionalLight: DirectionalLight = lighting_getDirectionalLight(0);
        lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
      }
    }
  }
  return lightColor;
}
`;var eU={props:{},name:"gouraudMaterial",vs:Pn.replace("phongMaterial","gouraudMaterial"),fs:kn.replace("phongMaterial","gouraudMaterial"),source:Mn.replaceAll("phongMaterial","gouraudMaterial"),defines:{LIGHTING_VERTEX:1},dependencies:[hY],uniformTypes:{ambient:"f32",diffuse:"f32",shininess:"f32",specularColor:"vec3<f32>"},defaultUniforms:{ambient:0.35,diffuse:0.6,shininess:32,specularColor:[0.15,0.15,0.15]},getUniforms($){let Q={...$};if(Q.specularColor)Q.specularColor=Q.specularColor.map((J)=>J/255);return{...eU.defaultUniforms,...Q}}};var iM={name:"layer",vs:`uniform layerUniforms {
  uniform float opacity;
} layer;
`,fs:`uniform layerUniforms {
  uniform float opacity;
} layer;
`,getUniforms:($)=>{return{opacity:Math.pow($.opacity,0.45454545454545453)}},uniformTypes:{opacity:"f32"}};var $V={name:"geometry",source:`const SMOOTH_EDGE_RADIUS: f32 = 0.5;

struct VertexGeometry {
  position: vec4<f32>,
  worldPosition: vec3<f32>,
  worldPositionAlt: vec3<f32>,
  normal: vec3<f32>,
  uv: vec2<f32>,
  pickingColor: vec3<f32>,
};

var<private> geometry_: VertexGeometry = VertexGeometry(
  vec4<f32>(0.0, 0.0, 1.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec2<f32>(0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0)
);

struct FragmentGeometry {
  uv: vec2<f32>,
};

var<private> fragmentGeometry: FragmentGeometry;

fn smoothedge(edge: f32, x: f32) -> f32 {
  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);
}
`,vs:`#define SMOOTH_EDGE_RADIUS 0.5

struct VertexGeometry {
  vec4 position;
  vec3 worldPosition;
  vec3 worldPositionAlt;
  vec3 normal;
  vec2 uv;
  vec3 pickingColor;
} geometry = VertexGeometry(
  vec4(0.0, 0.0, 1.0, 0.0),
  vec3(0.0),
  vec3(0.0),
  vec3(0.0),
  vec2(0.0),
  vec3(0.0)
);
`,fs:`#define SMOOTH_EDGE_RADIUS 0.5

struct FragmentGeometry {
  vec2 uv;
} geometry;

float smoothedge(float edge, float x) {
  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);
}
`};var wn=25,E0;(function($){$[$.Start=1]="Start",$[$.Move=2]="Move",$[$.End=4]="End",$[$.Cancel=8]="Cancel"})(E0||(E0={}));var n0;(function($){$[$.None=0]="None",$[$.Left=1]="Left",$[$.Right=2]="Right",$[$.Up=4]="Up",$[$.Down=8]="Down",$[$.Horizontal=3]="Horizontal",$[$.Vertical=12]="Vertical",$[$.All=15]="All"})(n0||(n0={}));var h1;(function($){$[$.Possible=1]="Possible",$[$.Began=2]="Began",$[$.Changed=4]="Changed",$[$.Ended=8]="Ended",$[$.Recognized=8]="Recognized",$[$.Cancelled=16]="Cancelled",$[$.Failed=32]="Failed"})(h1||(h1={}));var Sn="compute",nM="auto",_Y="manipulation",b$="none",xY="pan-x",gY="pan-y";function sM($){if($.includes(b$))return b$;let Q=$.includes(xY),J=$.includes(gY);if(Q&&J)return b$;if(Q||J)return Q?xY:gY;if($.includes(_Y))return _Y;return nM}class QV{constructor($,Q){this.actions="",this.manager=$,this.set(Q)}set($){if($===Sn)$=this.compute();if(this.manager.element)this.manager.element.style.touchAction=$,this.actions=$}update(){this.set(this.manager.options.touchAction)}compute(){let $=[];for(let Q of this.manager.recognizers)if(Q.options.enable)$=$.concat(Q.getTouchAction());return sM($.join(" "))}}function WZ($){return $.trim().split(/\s+/g)}function JV($,Q,J){if(!$)return;for(let Z of WZ(Q))$.addEventListener(Z,J,!1)}function ZV($,Q,J){if(!$)return;for(let Z of WZ(Q))$.removeEventListener(Z,J,!1)}function oM($){return($.ownerDocument||$).defaultView}function aM($,Q){let J=$;while(J){if(J===Q)return!0;J=J.parentNode}return!1}function KV($){let Q=$.length;if(Q===1)return{x:Math.round($[0].clientX),y:Math.round($[0].clientY)};let J=0,Z=0,X=0;while(X<Q)J+=$[X].clientX,Z+=$[X].clientY,X++;return{x:Math.round(J/Q),y:Math.round(Z/Q)}}function rM($){let Q=[],J=0;while(J<$.pointers.length)Q[J]={clientX:Math.round($.pointers[J].clientX),clientY:Math.round($.pointers[J].clientY)},J++;return{timeStamp:Date.now(),pointers:Q,center:KV(Q),deltaX:$.deltaX,deltaY:$.deltaY}}function XV($,Q){let J=Q.x-$.x,Z=Q.y-$.y;return Math.sqrt(J*J+Z*Z)}function tM($,Q){let J=Q.clientX-$.clientX,Z=Q.clientY-$.clientY;return Math.sqrt(J*J+Z*Z)}function Tn($,Q){let J=Q.x-$.x,Z=Q.y-$.y;return Math.atan2(Z,J)*180/Math.PI}function eM($,Q){let J=Q.clientX-$.clientX,Z=Q.clientY-$.clientY;return Math.atan2(Z,J)*180/Math.PI}function YV($,Q){if($===Q)return n0.None;if(Math.abs($)>=Math.abs(Q))return $<0?n0.Left:n0.Right;return Q<0?n0.Up:n0.Down}function In($,Q){let J=Q.center,Z=$.offsetDelta,X=$.prevDelta,W=$.prevInput;if(Q.eventType===E0.Start||W?.eventType===E0.End)X=$.prevDelta={x:W?.deltaX||0,y:W?.deltaY||0},Z=$.offsetDelta={x:J.x,y:J.y};return{deltaX:X.x+(J.x-Z.x),deltaY:X.y+(J.y-Z.y)}}function WV($,Q,J){return{x:Q/$||0,y:J/$||0}}function Gn($,Q){return tM(Q[0],Q[1])/tM($[0],$[1])}function En($,Q){return eM(Q[1],Q[0])-eM($[1],$[0])}function jn($,Q){let J=$.lastInterval||Q,Z=Q.timeStamp-J.timeStamp,X,W,H,F;if(Q.eventType!==E0.Cancel&&(Z>wn||J.velocity===void 0)){let V=Q.deltaX-J.deltaX,D=Q.deltaY-J.deltaY,C=WV(Z,V,D);W=C.x,H=C.y,X=Math.abs(C.x)>Math.abs(C.y)?C.x:C.y,F=YV(V,D),$.lastInterval=Q}else X=J.velocity,W=J.velocityX,H=J.velocityY,F=J.direction;Q.velocity=X,Q.velocityX=W,Q.velocityY=H,Q.direction=F}function Ln($,Q){let{session:J}=$,{pointers:Z}=Q,{length:X}=Z;if(!J.firstInput)J.firstInput=rM(Q);if(X>1&&!J.firstMultiple)J.firstMultiple=rM(Q);else if(X===1)J.firstMultiple=!1;let{firstInput:W,firstMultiple:H}=J,F=H?H.center:W.center,V=Q.center=KV(Z);Q.timeStamp=Date.now(),Q.deltaTime=Q.timeStamp-W.timeStamp,Q.angle=Tn(F,V),Q.distance=XV(F,V);let{deltaX:D,deltaY:C}=In(J,Q);Q.deltaX=D,Q.deltaY=C,Q.offsetDirection=YV(Q.deltaX,Q.deltaY);let z=WV(Q.deltaTime,Q.deltaX,Q.deltaY);Q.overallVelocityX=z.x,Q.overallVelocityY=z.y,Q.overallVelocity=Math.abs(z.x)>Math.abs(z.y)?z.x:z.y,Q.scale=H?Gn(H.pointers,Z):1,Q.rotation=H?En(H.pointers,Z):0,Q.maxPointers=!J.prevInput?Q.pointers.length:Q.pointers.length>J.prevInput.maxPointers?Q.pointers.length:J.prevInput.maxPointers;let R=$.element;if(aM(Q.srcEvent.target,R))R=Q.srcEvent.target;return Q.target=R,jn(J,Q),Q}function hn($,Q,J){let Z=J.pointers.length,X=J.changedPointers.length,W=Q&E0.Start&&Z-X===0,H=Q&(E0.End|E0.Cancel)&&Z-X===0;if(J.isFirst=Boolean(W),J.isFinal=Boolean(H),W)$.session={};J.eventType=Q;let F=Ln($,J);$.emit("hammer.input",F),$.recognize(F),$.session.prevInput=F}class qV{constructor($){this.evEl="",this.evWin="",this.evTarget="",this.domHandler=(Q)=>{if(this.manager.options.enable)this.handler(Q)},this.manager=$,this.element=$.element,this.target=$.options.inputTarget||$.element}callback($,Q){hn(this.manager,$,Q)}init(){JV(this.element,this.evEl,this.domHandler),JV(this.target,this.evTarget,this.domHandler),JV(oM(this.element),this.evWin,this.domHandler)}destroy(){ZV(this.element,this.evEl,this.domHandler),ZV(this.target,this.evTarget,this.domHandler),ZV(oM(this.element),this.evWin,this.domHandler)}}var mU1={pointerdown:E0.Start,pointermove:E0.Move,pointerup:E0.End,pointercancel:E0.Cancel,pointerout:E0.Cancel},cU1="pointerdown",dU1="pointermove pointerup pointercancel";class HV extends qV{constructor($){super($);this.evEl=cU1,this.evWin=dU1,this.store=this.manager.session.pointerEvents=[],this.init()}handler($){let{store:Q}=this,J=!1,Z=mU1[$.type],X=$.pointerType,W=X==="touch",H=Q.findIndex((F)=>F.pointerId===$.pointerId);if(Z&E0.Start&&($.buttons||W)){if(H<0)Q.push($),H=Q.length-1}else if(Z&(E0.End|E0.Cancel))J=!0;if(H<0)return;if(Q[H]=$,this.callback(Z,{pointers:Q,changedPointers:[$],eventType:Z,pointerType:X,srcEvent:$}),J)Q.splice(H,1)}}var lU1=["","webkit","Moz","MS","ms","o"];function vn($,Q){let J=Q[0].toUpperCase()+Q.slice(1);for(let Z of lU1){let X=Z?Z+J:Q;if(X in $)return X}return}var pU1=1,_n=2,xn={touchAction:"compute",enable:!0,inputTarget:null,cssProps:{userSelect:"none",userDrag:"none",touchCallout:"none",tapHighlightColor:"rgba(0,0,0,0)"}};class FV{constructor($,Q){this.options={...xn,...Q,cssProps:{...xn.cssProps,...Q.cssProps},inputTarget:Q.inputTarget||$},this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=$,this.input=new HV(this),this.touchAction=new QV(this,this.options.touchAction),this.toggleCssProps(!0)}set($){if(Object.assign(this.options,$),$.touchAction)this.touchAction.update();if($.inputTarget)this.input.destroy(),this.input.target=$.inputTarget,this.input.init();return this}stop($){this.session.stopped=$?_n:pU1}recognize($){let{session:Q}=this;if(Q.stopped)return;if(this.session.prevented)$.srcEvent.preventDefault();let J,{recognizers:Z}=this,{curRecognizer:X}=Q;if(!X||X&&X.state&h1.Recognized)X=Q.curRecognizer=null;let W=0;while(W<Z.length){if(J=Z[W],Q.stopped!==_n&&(!X||J===X||J.canRecognizeWith(X)))J.recognize($);else J.reset();if(!X&&J.state&(h1.Began|h1.Changed|h1.Ended))X=Q.curRecognizer=J;W++}}get($){let{recognizers:Q}=this;for(let J=0;J<Q.length;J++)if(Q[J].options.event===$)return Q[J];return null}add($){if(Array.isArray($)){for(let J of $)this.add(J);return this}let Q=this.get($.options.event);if(Q)this.remove(Q);return this.recognizers.push($),$.manager=this,this.touchAction.update(),$}remove($){if(Array.isArray($)){for(let J of $)this.remove(J);return this}let Q=typeof $==="string"?this.get($):$;if(Q){let{recognizers:J}=this,Z=J.indexOf(Q);if(Z!==-1)J.splice(Z,1),this.touchAction.update()}return this}on($,Q){if(!$||!Q)return;let{handlers:J}=this;for(let Z of WZ($))J[Z]=J[Z]||[],J[Z].push(Q)}off($,Q){if(!$)return;let{handlers:J}=this;for(let Z of WZ($))if(!Q)delete J[Z];else if(J[Z])J[Z].splice(J[Z].indexOf(Q),1)}emit($,Q){let J=this.handlers[$]&&this.handlers[$].slice();if(!J||!J.length)return;let Z=Q;Z.type=$,Z.preventDefault=function(){Q.srcEvent.preventDefault()};let X=0;while(X<J.length)J[X](Z),X++}destroy(){this.toggleCssProps(!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}toggleCssProps($){let{element:Q}=this;if(!Q)return;for(let[J,Z]of Object.entries(this.options.cssProps)){let X=vn(Q.style,J);if($)this.oldCssProps[X]=Q.style[X],Q.style[X]=Z;else Q.style[X]=this.oldCssProps[X]||""}if(!$)this.oldCssProps={}}}var uU1=1;function gn(){return uU1++}function $w($){if($&h1.Cancelled)return"cancel";else if($&h1.Ended)return"end";else if($&h1.Changed)return"move";else if($&h1.Began)return"start";return""}class r9{constructor($){this.options=$,this.id=gn(),this.state=h1.Possible,this.simultaneous={},this.requireFail=[]}set($){return Object.assign(this.options,$),this.manager.touchAction.update(),this}recognizeWith($){if(Array.isArray($)){for(let Z of $)this.recognizeWith(Z);return this}let Q;if(typeof $==="string"){if(Q=this.manager.get($),!Q)throw Error(`Cannot find recognizer ${$}`)}else Q=$;let{simultaneous:J}=this;if(!J[Q.id])J[Q.id]=Q,Q.recognizeWith(this);return this}dropRecognizeWith($){if(Array.isArray($)){for(let J of $)this.dropRecognizeWith(J);return this}let Q;if(typeof $==="string")Q=this.manager.get($);else Q=$;if(Q)delete this.simultaneous[Q.id];return this}requireFailure($){if(Array.isArray($)){for(let Z of $)this.requireFailure(Z);return this}let Q;if(typeof $==="string"){if(Q=this.manager.get($),!Q)throw Error(`Cannot find recognizer ${$}`)}else Q=$;let{requireFail:J}=this;if(J.indexOf(Q)===-1)J.push(Q),Q.requireFailure(this);return this}dropRequireFailure($){if(Array.isArray($)){for(let J of $)this.dropRequireFailure(J);return this}let Q;if(typeof $==="string")Q=this.manager.get($);else Q=$;if(Q){let J=this.requireFail.indexOf(Q);if(J>-1)this.requireFail.splice(J,1)}return this}hasRequireFailures(){return Boolean(this.requireFail.find(($)=>$.options.enable))}canRecognizeWith($){return Boolean(this.simultaneous[$.id])}emit($){if(!$)return;let{state:Q}=this;if(Q<h1.Ended)this.manager.emit(this.options.event+$w(Q),$);if(this.manager.emit(this.options.event,$),$.additionalEvent)this.manager.emit($.additionalEvent,$);if(Q>=h1.Ended)this.manager.emit(this.options.event+$w(Q),$)}tryEmit($){if(this.canEmit())this.emit($);else this.state=h1.Failed}canEmit(){let $=0;while($<this.requireFail.length){if(!(this.requireFail[$].state&(h1.Failed|h1.Possible)))return!1;$++}return!0}recognize($){let Q={...$};if(!this.options.enable){this.reset(),this.state=h1.Failed;return}if(this.state&(h1.Recognized|h1.Cancelled|h1.Failed))this.state=h1.Possible;if(this.state=this.process(Q),this.state&(h1.Began|h1.Changed|h1.Ended|h1.Cancelled))this.tryEmit(Q)}getEventNames(){return[this.options.event]}reset(){}}class t9 extends r9{attrTest($){let Q=this.options.pointers;return Q===0||$.pointers.length===Q}process($){let{state:Q}=this,{eventType:J}=$,Z=Q&(h1.Began|h1.Changed),X=this.attrTest($);if(Z&&(J&E0.Cancel||!X))return Q|h1.Cancelled;else if(Z||X){if(J&E0.End)return Q|h1.Ended;else if(!(Q&h1.Began))return h1.Began;return Q|h1.Changed}return h1.Failed}}class qZ extends r9{constructor($={}){super({enable:!0,event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10,...$});this.pTime=null,this.pCenter=null,this._timer=null,this._input=null,this.count=0}getTouchAction(){return[_Y]}process($){let{options:Q}=this,J=$.pointers.length===Q.pointers,Z=$.distance<Q.threshold,X=$.deltaTime<Q.time;if(this.reset(),$.eventType&E0.Start&&this.count===0)return this.failTimeout();if(Z&&X&&J){if($.eventType!==E0.End)return this.failTimeout();let W=this.pTime?$.timeStamp-this.pTime<Q.interval:!0,H=!this.pCenter||XV(this.pCenter,$.center)<Q.posThreshold;if(this.pTime=$.timeStamp,this.pCenter=$.center,!H||!W)this.count=1;else this.count+=1;if(this._input=$,this.count%Q.taps===0){if(!this.hasRequireFailures())return h1.Recognized;return this._timer=setTimeout(()=>{this.state=h1.Recognized,this.tryEmit(this._input)},Q.interval),h1.Began}}return h1.Failed}failTimeout(){return this._timer=setTimeout(()=>{this.state=h1.Failed},this.options.interval),h1.Failed}reset(){clearTimeout(this._timer)}emit($){if(this.state===h1.Recognized)$.tapCount=this.count,this.manager.emit(this.options.event,$)}}var iU1=["","start","move","end","cancel","up","down","left","right"];class f$ extends t9{constructor($={}){super({enable:!0,pointers:1,event:"pan",threshold:10,direction:n0.All,...$});this.pX=null,this.pY=null}getTouchAction(){let{options:{direction:$}}=this,Q=[];if($&n0.Horizontal)Q.push(gY);if($&n0.Vertical)Q.push(xY);return Q}getEventNames(){return iU1.map(($)=>this.options.event+$)}directionTest($){let{options:Q}=this,J=!0,{distance:Z}=$,{direction:X}=$,W=$.deltaX,H=$.deltaY;if(!(X&Q.direction))if(Q.direction&n0.Horizontal)X=W===0?n0.None:W<0?n0.Left:n0.Right,J=W!==this.pX,Z=Math.abs($.deltaX);else X=H===0?n0.None:H<0?n0.Up:n0.Down,J=H!==this.pY,Z=Math.abs($.deltaY);return $.direction=X,J&&Z>Q.threshold&&Boolean(X&Q.direction)}attrTest($){return super.attrTest($)&&(Boolean(this.state&h1.Began)||!(this.state&h1.Began)&&this.directionTest($))}emit($){this.pX=$.deltaX,this.pY=$.deltaY;let Q=n0[$.direction].toLowerCase();if(Q)$.additionalEvent=this.options.event+Q;super.emit($)}}var nU1=["","start","move","end","cancel","in","out"];class yY extends t9{constructor($={}){super({enable:!0,event:"pinch",threshold:0,pointers:2,...$})}getTouchAction(){return[b$]}getEventNames(){return nU1.map(($)=>this.options.event+$)}attrTest($){return super.attrTest($)&&(Math.abs($.scale-1)>this.options.threshold||Boolean(this.state&h1.Began))}emit($){if($.scale!==1){let Q=$.scale<1?"in":"out";$.additionalEvent=this.options.event+Q}super.emit($)}}class k8{constructor($,Q,J){this.element=$,this.callback=Q,this.options=J}}var yn=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",vb1=typeof window<"u"?window:global;var rU1=yn.indexOf("firefox")!==-1,bn=4.000244140625,tU1=40,eU1=0.25;class Qw extends k8{constructor($,Q,J){super($,Q,{enable:!0,...J});this.handleEvent=(Z)=>{if(!this.options.enable)return;let X=Z.deltaY;if(globalThis.WheelEvent){if(rU1&&Z.deltaMode===globalThis.WheelEvent.DOM_DELTA_PIXEL)X/=globalThis.devicePixelRatio;if(Z.deltaMode===globalThis.WheelEvent.DOM_DELTA_LINE)X*=tU1}if(X!==0&&X%bn===0)X=Math.floor(X/bn);if(Z.shiftKey&&X)X=X*eU1;this.callback({type:"wheel",center:{x:Z.clientX,y:Z.clientY},delta:-X,srcEvent:Z,pointerType:"mouse",target:Z.target})},$.addEventListener("wheel",this.handleEvent,{passive:!1})}destroy(){this.element.removeEventListener("wheel",this.handleEvent)}enableEventType($,Q){if($==="wheel")this.options.enable=Q}}var fn=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"];class Jw extends k8{constructor($,Q,J){super($,Q,{enable:!0,...J});this.handleEvent=(X)=>{this.handleOverEvent(X),this.handleOutEvent(X),this.handleEnterEvent(X),this.handleLeaveEvent(X),this.handleMoveEvent(X)},this.pressed=!1;let{enable:Z}=this.options;this.enableMoveEvent=Z,this.enableLeaveEvent=Z,this.enableEnterEvent=Z,this.enableOutEvent=Z,this.enableOverEvent=Z,fn.forEach((X)=>$.addEventListener(X,this.handleEvent))}destroy(){fn.forEach(($)=>this.element.removeEventListener($,this.handleEvent))}enableEventType($,Q){switch($){case"pointermove":this.enableMoveEvent=Q;break;case"pointerover":this.enableOverEvent=Q;break;case"pointerout":this.enableOutEvent=Q;break;case"pointerenter":this.enableEnterEvent=Q;break;case"pointerleave":this.enableLeaveEvent=Q;break;default:}}handleOverEvent($){if(this.enableOverEvent&&$.type==="mouseover")this._emit("pointerover",$)}handleOutEvent($){if(this.enableOutEvent&&$.type==="mouseout")this._emit("pointerout",$)}handleEnterEvent($){if(this.enableEnterEvent&&$.type==="mouseenter")this._emit("pointerenter",$)}handleLeaveEvent($){if(this.enableLeaveEvent&&$.type==="mouseleave")this._emit("pointerleave",$)}handleMoveEvent($){if(this.enableMoveEvent)switch($.type){case"mousedown":if($.button>=0)this.pressed=!0;break;case"mousemove":if($.buttons===0)this.pressed=!1;if(!this.pressed)this._emit("pointermove",$);break;case"mouseup":this.pressed=!1;break;default:}}_emit($,Q){this.callback({type:$,center:{x:Q.clientX,y:Q.clientY},srcEvent:Q,pointerType:"mouse",target:Q.target})}}var mn=["keydown","keyup"];class Zw extends k8{constructor($,Q,J){super($,Q,{enable:!0,tabIndex:0,...J});this.handleEvent=(Z)=>{let X=Z.target||Z.srcElement;if(X.tagName==="INPUT"&&X.type==="text"||X.tagName==="TEXTAREA")return;if(this.enableDownEvent&&Z.type==="keydown")this.callback({type:"keydown",srcEvent:Z,key:Z.key,target:Z.target});if(this.enableUpEvent&&Z.type==="keyup")this.callback({type:"keyup",srcEvent:Z,key:Z.key,target:Z.target})},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,$.tabIndex=this.options.tabIndex,$.style.outline="none",mn.forEach((Z)=>$.addEventListener(Z,this.handleEvent))}destroy(){mn.forEach(($)=>this.element.removeEventListener($,this.handleEvent))}enableEventType($,Q){if($==="keydown")this.enableDownEvent=Q;if($==="keyup")this.enableUpEvent=Q}}class Kw extends k8{constructor($,Q,J){super($,Q,J);this.handleEvent=(Z)=>{if(!this.options.enable)return;this.callback({type:"contextmenu",center:{x:Z.clientX,y:Z.clientY},srcEvent:Z,pointerType:"mouse",target:Z.target})},$.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType($,Q){if($==="contextmenu")this.options.enable=Q}}var $V1={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};function cn($){let Q=$V1[$.srcEvent.type];if(!Q)return null;let{buttons:J,button:Z}=$.srcEvent,X=!1,W=!1,H=!1;if(Q===2)X=Boolean(J&1),W=Boolean(J&4),H=Boolean(J&2);else X=Z===0,W=Z===1,H=Z===2;return{leftButton:X,middleButton:W,rightButton:H}}function dn($,Q){let J=$.center;if(!J)return null;let Z=Q.getBoundingClientRect(),X=Z.width/Q.offsetWidth||1,W=Z.height/Q.offsetHeight||1,H={x:(J.x-Z.left-Q.clientLeft)/X,y:(J.y-Z.top-Q.clientTop)/W};return{center:J,offsetCenter:H}}var QV1={srcElement:"root",priority:0};class Xw{constructor($,Q){this.handleEvent=(J)=>{if(this.isEmpty())return;let Z=this._normalizeEvent(J),X=J.srcEvent.target;while(X&&X!==Z.rootElement){if(this._emit(Z,X),Z.handled)return;X=X.parentNode}this._emit(Z,"root")},this.eventManager=$,this.recognizerName=Q,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add($,Q,J,Z=!1,X=!1){let{handlers:W,handlersByElement:H}=this,F={...QV1,...J},V=H.get(F.srcElement);if(!V)V=[],H.set(F.srcElement,V);let D={type:$,handler:Q,srcElement:F.srcElement,priority:F.priority};if(Z)D.once=!0;if(X)D.passive=!0;W.push(D),this._active=this._active||!D.passive;let C=V.length-1;while(C>=0){if(V[C].priority>=D.priority)break;C--}V.splice(C+1,0,D)}remove($,Q){let{handlers:J,handlersByElement:Z}=this;for(let X=J.length-1;X>=0;X--){let W=J[X];if(W.type===$&&W.handler===Q){J.splice(X,1);let H=Z.get(W.srcElement);if(H.splice(H.indexOf(W),1),H.length===0)Z.delete(W.srcElement)}}this._active=J.some((X)=>!X.passive)}_emit($,Q){let J=this.handlersByElement.get(Q);if(J){let Z=!1,X=()=>{$.handled=!0},W=()=>{$.handled=!0,Z=!0},H=[];for(let F=0;F<J.length;F++){let{type:V,handler:D,once:C}=J[F];if(D({...$,type:V,stopPropagation:X,stopImmediatePropagation:W}),C)H.push(J[F]);if(Z)break}for(let F=0;F<H.length;F++){let{type:V,handler:D}=H[F];this.remove(V,D)}}}_normalizeEvent($){let Q=this.eventManager.getElement();return{...$,...cn($),...dn($,Q),preventDefault:()=>{$.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:Q}}}function JV1($){if("recognizer"in $)return $;let Q,J=Array.isArray($)?[...$]:[$];if(typeof J[0]==="function"){let Z=J.shift(),X=J.shift()||{};Q=new Z(X)}else Q=J.shift();return{recognizer:Q,recognizeWith:typeof J[0]==="string"?[J[0]]:J[0],requireFailure:typeof J[1]==="string"?[J[1]]:J[1]}}class UV{constructor($=null,Q={}){if(this._onBasicInput=(J)=>{this.manager.emit(J.srcEvent.type,J)},this._onOtherEvent=(J)=>{this.manager.emit(J.type,J)},this.options={recognizers:[],events:{},touchAction:"compute",tabIndex:0,cssProps:{},...Q},this.events=new Map,this.element=$,!$)return;this.manager=new FV($,this.options);for(let J of this.options.recognizers){let{recognizer:Z,recognizeWith:X,requireFailure:W}=JV1(J);if(this.manager.add(Z),X)Z.recognizeWith(X);if(W)Z.requireFailure(W)}this.manager.on("hammer.input",this._onBasicInput),this.wheelInput=new Qw($,this._onOtherEvent,{enable:!1}),this.moveInput=new Jw($,this._onOtherEvent,{enable:!1}),this.keyInput=new Zw($,this._onOtherEvent,{enable:!1,tabIndex:Q.tabIndex}),this.contextmenuInput=new Kw($,this._onOtherEvent,{enable:!1}),this.on(this.options.events)}getElement(){return this.element}destroy(){if(!this.element)return;this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy()}on($,Q,J){this._addEventHandler($,Q,J,!1)}once($,Q,J){this._addEventHandler($,Q,J,!0)}watch($,Q,J){this._addEventHandler($,Q,J,!1,!0)}off($,Q){this._removeEventHandler($,Q)}_toggleRecognizer($,Q){let{manager:J}=this;if(!J)return;let Z=J.get($);if(Z)Z.set({enable:Q}),J.touchAction.update();this.wheelInput?.enableEventType($,Q),this.moveInput?.enableEventType($,Q),this.keyInput?.enableEventType($,Q),this.contextmenuInput?.enableEventType($,Q)}_addEventHandler($,Q,J,Z,X){if(typeof $!=="string"){J=Q;for(let[V,D]of Object.entries($))this._addEventHandler(V,D,J,Z,X);return}let{manager:W,events:H}=this;if(!W)return;let F=H.get($);if(!F){let V=this._getRecognizerName($)||$;if(F=new Xw(this,V),H.set($,F),W)W.on($,F.handleEvent)}if(F.add($,Q,J,Z,X),!F.isEmpty())this._toggleRecognizer(F.recognizerName,!0)}_removeEventHandler($,Q){if(typeof $!=="string"){for(let[X,W]of Object.entries($))this._removeEventHandler(X,W);return}let{events:J}=this,Z=J.get($);if(!Z)return;if(Z.remove($,Q),Z.isEmpty()){let{recognizerName:X}=Z,W=!1;for(let H of J.values())if(H.recognizerName===X&&!H.isEmpty()){W=!0;break}if(!W)this._toggleRecognizer(X,!1)}}_getRecognizerName($){return this.manager.recognizers.find((Q)=>{return Q.getEventNames().includes($)})?.options.event}}var Q0={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(Q0,"IDENTITY",{get:()=>{return S1.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0}});var a5={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},q6={common:0,meters:1,pixels:2},bY={click:"onClick",dblclick:"onClick",panstart:"onDragStart",panmove:"onDrag",panend:"onDragEnd"},Yw={multipan:[f$,{threshold:10,direction:n0.Vertical,pointers:2}],pinch:[yY,{},null,["multipan"]],pan:[f$,{threshold:1},["pinch"],["multipan"]],dblclick:[qZ,{event:"dblclick",taps:2}],click:[qZ,{event:"click"},null,["dblclick"]]};function ZV1($,Q){if($===Q)return!0;if(Array.isArray($)){let J=$.length;if(!Q||Q.length!==J)return!1;for(let Z=0;Z<J;Z++)if($[Z]!==Q[Z])return!1;return!0}return!1}function M3($){let Q={},J;return(Z)=>{for(let X in Z)if(!ZV1(Z[X],Q[X])){J=$(Z),Q=Z;break}return J}}var ln=[0,0,0,0],KV1=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],pn=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],XV1=[0,0,0],un=[0,0,0],YV1=M3(qV1);function Ww($,Q,J=un){if(J.length<3)J=[J[0],J[1],0];let Z=J,X,W=!0;if(Q===Q0.LNGLAT_OFFSETS||Q===Q0.METER_OFFSETS)X=J;else X=$.isGeospatial?[Math.fround($.longitude),Math.fround($.latitude),0]:null;switch($.projectionMode){case a5.WEB_MERCATOR:if(Q===Q0.LNGLAT||Q===Q0.CARTESIAN)X=[0,0,0],W=!1;break;case a5.WEB_MERCATOR_AUTO_OFFSET:if(Q===Q0.LNGLAT)Z=X;else if(Q===Q0.CARTESIAN)Z=[Math.fround($.center[0]),Math.fround($.center[1]),0],X=$.unprojectPosition(Z),Z[0]-=J[0],Z[1]-=J[1],Z[2]-=J[2];break;case a5.IDENTITY:Z=$.position.map(Math.fround),Z[2]=Z[2]||0;break;case a5.GLOBE:W=!1,X=null;break;default:W=!1}return{geospatialOrigin:X,shaderCoordinateOrigin:Z,offsetMode:W}}function WV1($,Q,J){let{viewMatrixUncentered:Z,projectionMatrix:X}=$,{viewMatrix:W,viewProjectionMatrix:H}=$,F=ln,V=ln,D=$.cameraPosition,{geospatialOrigin:C,shaderCoordinateOrigin:z,offsetMode:R}=Ww($,Q,J);if(R)V=$.projectPosition(C||z),D=[D[0]-V[0],D[1]-V[1],D[2]-V[2]],V[3]=1,F=P3.transformMat4([],V,H),W=Z||W,H=h5.multiply([],X,W),H=h5.multiply([],H,KV1);return{viewMatrix:W,viewProjectionMatrix:H,projectionCenter:F,originCommon:V,cameraPosCommon:D,shaderCoordinateOrigin:z,geospatialOrigin:C}}function nn({viewport:$,devicePixelRatio:Q=1,modelMatrix:J=null,coordinateSystem:Z=Q0.DEFAULT,coordinateOrigin:X=un,autoWrapLongitude:W=!1}){if(Z===Q0.DEFAULT)Z=$.isGeospatial?Q0.LNGLAT:Q0.CARTESIAN;let H=YV1({viewport:$,devicePixelRatio:Q,coordinateSystem:Z,coordinateOrigin:X});return H.wrapLongitude=W,H.modelMatrix=J||pn,H}function qV1({viewport:$,devicePixelRatio:Q,coordinateSystem:J,coordinateOrigin:Z}){let{projectionCenter:X,viewProjectionMatrix:W,originCommon:H,cameraPosCommon:F,shaderCoordinateOrigin:V,geospatialOrigin:D}=WV1($,J,Z),C=$.getDistanceScales(),z=[$.width*Q,$.height*Q],R=P3.transformMat4([],[0,0,-$.focalDistance,1],$.projectionMatrix)[3]||1,k={coordinateSystem:J,projectionMode:$.projectionMode,coordinateOrigin:V,commonOrigin:H.slice(0,3),center:X,pseudoMeters:Boolean($._pseudoMeters),viewportSize:z,devicePixelRatio:Q,focalDistance:R,commonUnitsPerMeter:C.unitsPerMeter,commonUnitsPerWorldUnit:C.unitsPerMeter,commonUnitsPerWorldUnit2:XV1,scale:$.scale,wrapLongitude:!1,viewProjectionMatrix:W,modelMatrix:pn,cameraPosition:F};if(D){let P=$.getDistanceScales(D);switch(J){case Q0.METER_OFFSETS:k.commonUnitsPerWorldUnit=P.unitsPerMeter,k.commonUnitsPerWorldUnit2=P.unitsPerMeter2;break;case Q0.LNGLAT:case Q0.LNGLAT_OFFSETS:if(!$._pseudoMeters)k.commonUnitsPerMeter=P.unitsPerMeter;k.commonUnitsPerWorldUnit=P.unitsPerDegree,k.commonUnitsPerWorldUnit2=P.unitsPerDegree2;break;case Q0.CARTESIAN:k.commonUnitsPerWorldUnit=[1,1,P.unitsPerMeter[2]],k.commonUnitsPerWorldUnit2=[0,0,P.unitsPerMeter2[2]];break;default:break}}return k}var HV1=Object.keys(Q0).map(($)=>`const COORDINATE_SYSTEM_${$}: i32 = ${Q0[$]};`).join(""),FV1=Object.keys(a5).map(($)=>`const PROJECTION_MODE_${$}: i32 = ${a5[$]};`).join(""),UV1=Object.keys(q6).map(($)=>`const UNIT_${$.toUpperCase()}: i32 = ${q6[$]};`).join(""),VV1=`${HV1}
${FV1}
${UV1}

const TILE_SIZE: f32 = 512.0;
const PI: f32 = 3.1415926536;
const WORLD_SCALE: f32 = TILE_SIZE / (PI * 2.0);
const ZERO_64_LOW: vec3<f32> = vec3<f32>(0.0, 0.0, 0.0);
const EARTH_RADIUS: f32 = 6370972.0; // meters
const GLOBE_RADIUS: f32 = 256.0;

// -----------------------------------------------------------------------------
// Uniform block (converted from GLSL uniform block)
// -----------------------------------------------------------------------------
struct ProjectUniforms {
  wrapLongitude: i32,
  coordinateSystem: i32,
  commonUnitsPerMeter: vec3<f32>,
  projectionMode: i32,
  scale: f32,
  commonUnitsPerWorldUnit: vec3<f32>,
  commonUnitsPerWorldUnit2: vec3<f32>,
  center: vec4<f32>,
  modelMatrix: mat4x4<f32>,
  viewProjectionMatrix: mat4x4<f32>,
  viewportSize: vec2<f32>,
  devicePixelRatio: f32,
  focalDistance: f32,
  cameraPosition: vec3<f32>,
  coordinateOrigin: vec3<f32>,
  commonOrigin: vec3<f32>,
  pseudoMeters: i32,
};

@group(0) @binding(0)
var<uniform> project: ProjectUniforms;

// -----------------------------------------------------------------------------
// Geometry data
// (In your GLSL code, "geometry" was assumed to be available globally. In WGSL,
// you might supply this via vertex attributes or a uniform. Here we define a
// uniform struct for demonstration.)
// -----------------------------------------------------------------------------

// Structure to carry additional geometry data used by deck.gl filters.
struct Geometry {
  worldPosition: vec3<f32>,
  worldPositionAlt: vec3<f32>,
  position: vec4<f32>,
  uv: vec2<f32>,
  pickingColor: vec3<f32>,
};

// @group(0) @binding(1)
var<private> geometry: Geometry;
`,sn=`${VV1}

// -----------------------------------------------------------------------------
// Functions
// -----------------------------------------------------------------------------

// Returns an adjustment factor for commonUnitsPerMeter
fn _project_size_at_latitude(lat: f32) -> f32 {
  let y = clamp(lat, -89.9, 89.9);
  return 1.0 / cos(radians(y));
}

// Overloaded version: scales a value in meters at a given latitude.
fn _project_size_at_latitude_m(meters: f32, lat: f32) -> f32 {
  return meters * project.commonUnitsPerMeter.z * _project_size_at_latitude(lat);
}

// Computes a non-linear scale factor based on geometry.
// (Note: This function relies on "geometry" being provided.)
fn project_size() -> f32 {
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR &&
      project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT &&
      project.pseudoMeters == 0) {
    if (geometry.position.w == 0.0) {
      return _project_size_at_latitude(geometry.worldPosition.y);
    }
    let y: f32 = geometry.position.y / TILE_SIZE * 2.0 - 1.0;
    let y2 = y * y;
    let y4 = y2 * y2;
    let y6 = y4 * y2;
    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;
  }
  return 1.0;
}

// Overloads to scale offsets (meters to world units)
fn project_size_float(meters: f32) -> f32 {
  return meters * project.commonUnitsPerMeter.z * project_size();
}

fn project_size_vec2(meters: vec2<f32>) -> vec2<f32> {
  return meters * project.commonUnitsPerMeter.xy * project_size();
}

fn project_size_vec3(meters: vec3<f32>) -> vec3<f32> {
  return meters * project.commonUnitsPerMeter * project_size();
}

fn project_size_vec4(meters: vec4<f32>) -> vec4<f32> {
  return vec4<f32>(meters.xyz * project.commonUnitsPerMeter, meters.w);
}

// Returns a rotation matrix aligning the zaxis with the given up vector.
fn project_get_orientation_matrix(up: vec3<f32>) -> mat3x3<f32> {
  let uz = normalize(up);
  let ux = select(
    vec3<f32>(1.0, 0.0, 0.0),
    normalize(vec3<f32>(uz.y, -uz.x, 0.0)),
    abs(uz.z) == 1.0
  );
  let uy = cross(uz, ux);
  return mat3x3<f32>(ux, uy, uz);
}

// Since WGSL does not support "out" parameters, we return a struct.
struct RotationResult {
  needsRotation: bool,
  transform: mat3x3<f32>,
};

fn project_needs_rotation(commonPosition: vec3<f32>) -> RotationResult {
  if (project.projectionMode == PROJECTION_MODE_GLOBE) {
    return RotationResult(true, project_get_orientation_matrix(commonPosition));
  } else {
    return RotationResult(false, mat3x3<f32>());  // identity alternative if needed
  };
}

// Projects a normal vector from the current coordinate system to world space.
fn project_normal(vector: vec3<f32>) -> vec3<f32> {
  let normal_modelspace = project.modelMatrix * vec4<f32>(vector, 0.0);
  var n = normalize(normal_modelspace.xyz * project.commonUnitsPerMeter);
  let rotResult = project_needs_rotation(geometry.position.xyz);
  if (rotResult.needsRotation) {
    n = rotResult.transform * n;
  }
  return n;
}

// Applies a scale offset based on y-offset (dy)
fn project_offset_(offset: vec4<f32>) -> vec4<f32> {
  let dy: f32 = offset.y;
  let commonUnitsPerWorldUnit = project.commonUnitsPerWorldUnit + project.commonUnitsPerWorldUnit2 * dy;
  return vec4<f32>(offset.xyz * commonUnitsPerWorldUnit, offset.w);
}

// Projects lng/lat coordinates to a unit tile [0,1]
fn project_mercator_(lnglat: vec2<f32>) -> vec2<f32> {
  var x = lnglat.x;
  if (project.wrapLongitude != 0) {
    x = ((x + 180.0) % 360.0) - 180.0;
  }
  let y = clamp(lnglat.y, -89.9, 89.9);
  return vec2<f32>(
    radians(x) + PI,
    PI + log(tan(PI * 0.25 + radians(y) * 0.5))
  ) * WORLD_SCALE;
}

// Projects lng/lat/z coordinates for a globe projection.
fn project_globe_(lnglatz: vec3<f32>) -> vec3<f32> {
  let lambda = radians(lnglatz.x);
  let phi = radians(lnglatz.y);
  let cosPhi = cos(phi);
  let D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;
  return vec3<f32>(
    sin(lambda) * cosPhi,
    -cos(lambda) * cosPhi,
    sin(phi)
  ) * D;
}

// Projects positions (with an optional 64-bit low part) from the input
// coordinate system to the common space.
fn project_position_vec4_f64(position: vec4<f32>, position64Low: vec3<f32>) -> vec4<f32> {
  var position_world = project.modelMatrix * position;

  // Work around for a Mac+NVIDIA bug:
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4<f32>(
        project_mercator_(position_world.xy),
        _project_size_at_latitude_m(position_world.z, position_world.y),
        position_world.w
      );
    }
    if (project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {
      position_world = vec4f(position_world.xyz + project.coordinateOrigin, position_world.w);
    }
  }
  if (project.projectionMode == PROJECTION_MODE_GLOBE) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4<f32>(
        project_globe_(position_world.xyz),
        position_world.w
      );
    }
  }
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      if (abs(position_world.y - project.coordinateOrigin.y) > 0.25) {
        return vec4<f32>(
          project_mercator_(position_world.xy) - project.commonOrigin.xy,
          project_size_float(position_world.z),
          position_world.w
        );
      }
    }
  }
  if (project.projectionMode == PROJECTION_MODE_IDENTITY ||
      (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&
       (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
        project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {
    position_world = vec4f(position_world.xyz - project.coordinateOrigin, position_world.w);
  }

  return project_offset_(position_world) +
         project_offset_(project.modelMatrix * vec4<f32>(position64Low, 0.0));
}

// Overloaded versions for different input types.
fn project_position_vec4_f32(position: vec4<f32>) -> vec4<f32> {
  return project_position_vec4_f64(position, ZERO_64_LOW);
}

fn project_position_vec3_f64(position: vec3<f32>, position64Low: vec3<f32>) -> vec3<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 1.0), position64Low);
  return projected_position.xyz;
}

fn project_position_vec3_f32(position: vec3<f32>) -> vec3<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 1.0), ZERO_64_LOW);
  return projected_position.xyz;
}

fn project_position_vec2_f32(position: vec2<f32>) -> vec2<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 0.0, 1.0), ZERO_64_LOW);
  return projected_position.xy;
}

// Transforms a common space position to clip space.
fn project_common_position_to_clipspace_with_projection(position: vec4<f32>, viewProjectionMatrix: mat4x4<f32>, center: vec4<f32>) -> vec4<f32> {
  return viewProjectionMatrix * position + center;
}

// Uses the project viewProjectionMatrix and center.
fn project_common_position_to_clipspace(position: vec4<f32>) -> vec4<f32> {
  return project_common_position_to_clipspace_with_projection(position, project.viewProjectionMatrix, project.center);
}

// Returns a clip space offset corresponding to a given number of screen pixels.
fn project_pixel_size_to_clipspace(pixels: vec2<f32>) -> vec2<f32> {
  let offset = pixels / project.viewportSize * project.devicePixelRatio * 2.0;
  return offset * project.focalDistance;
}

fn project_meter_size_to_pixel(meters: f32) -> f32 {
  return project_size_float(meters) * project.scale;
}

fn project_unit_size_to_pixel(size: f32, unit: i32) -> f32 {
  if (unit == UNIT_METERS) {
    return project_meter_size_to_pixel(size);
  } else if (unit == UNIT_COMMON) {
    return size * project.scale;
  }
  // UNIT_PIXELS: no scaling applied.
  return size;
}

fn project_pixel_size_float(pixels: f32) -> f32 {
  return pixels / project.scale;
}

fn project_pixel_size_vec2(pixels: vec2<f32>) -> vec2<f32> {
  return pixels / project.scale;
}
`;var NV1=Object.keys(Q0).map(($)=>`const int COORDINATE_SYSTEM_${$} = ${Q0[$]};`).join(""),DV1=Object.keys(a5).map(($)=>`const int PROJECTION_MODE_${$} = ${a5[$]};`).join(""),CV1=Object.keys(q6).map(($)=>`const int UNIT_${$.toUpperCase()} = ${q6[$]};`).join(""),on=`${NV1}
${DV1}
${CV1}
uniform projectUniforms {
bool wrapLongitude;
int coordinateSystem;
vec3 commonUnitsPerMeter;
int projectionMode;
float scale;
vec3 commonUnitsPerWorldUnit;
vec3 commonUnitsPerWorldUnit2;
vec4 center;
mat4 modelMatrix;
mat4 viewProjectionMatrix;
vec2 viewportSize;
float devicePixelRatio;
float focalDistance;
vec3 cameraPosition;
vec3 coordinateOrigin;
vec3 commonOrigin;
bool pseudoMeters;
} project;
const float TILE_SIZE = 512.0;
const float PI = 3.1415926536;
const float WORLD_SCALE = TILE_SIZE / (PI * 2.0);
const vec3 ZERO_64_LOW = vec3(0.0);
const float EARTH_RADIUS = 6370972.0;
const float GLOBE_RADIUS = 256.0;
float project_size_at_latitude(float lat) {
float y = clamp(lat, -89.9, 89.9);
return 1.0 / cos(radians(y));
}
float project_size() {
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR &&
project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT &&
project.pseudoMeters == false) {
if (geometry.position.w == 0.0) {
return project_size_at_latitude(geometry.worldPosition.y);
}
float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;
float y2 = y * y;
float y4 = y2 * y2;
float y6 = y4 * y2;
return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;
}
return 1.0;
}
float project_size_at_latitude(float meters, float lat) {
return meters * project.commonUnitsPerMeter.z * project_size_at_latitude(lat);
}
float project_size(float meters) {
return meters * project.commonUnitsPerMeter.z * project_size();
}
vec2 project_size(vec2 meters) {
return meters * project.commonUnitsPerMeter.xy * project_size();
}
vec3 project_size(vec3 meters) {
return meters * project.commonUnitsPerMeter * project_size();
}
vec4 project_size(vec4 meters) {
return vec4(meters.xyz * project.commonUnitsPerMeter, meters.w);
}
mat3 project_get_orientation_matrix(vec3 up) {
vec3 uz = normalize(up);
vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));
vec3 uy = cross(uz, ux);
return mat3(ux, uy, uz);
}
bool project_needs_rotation(vec3 commonPosition, out mat3 transform) {
if (project.projectionMode == PROJECTION_MODE_GLOBE) {
transform = project_get_orientation_matrix(commonPosition);
return true;
}
return false;
}
vec3 project_normal(vec3 vector) {
vec4 normal_modelspace = project.modelMatrix * vec4(vector, 0.0);
vec3 n = normalize(normal_modelspace.xyz * project.commonUnitsPerMeter);
mat3 rotation;
if (project_needs_rotation(geometry.position.xyz, rotation)) {
n = rotation * n;
}
return n;
}
vec4 project_offset_(vec4 offset) {
float dy = offset.y;
vec3 commonUnitsPerWorldUnit = project.commonUnitsPerWorldUnit + project.commonUnitsPerWorldUnit2 * dy;
return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);
}
vec2 project_mercator_(vec2 lnglat) {
float x = lnglat.x;
if (project.wrapLongitude) {
x = mod(x + 180., 360.0) - 180.;
}
float y = clamp(lnglat.y, -89.9, 89.9);
return vec2(
radians(x) + PI,
PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))
) * WORLD_SCALE;
}
vec3 project_globe_(vec3 lnglatz) {
float lambda = radians(lnglatz.x);
float phi = radians(lnglatz.y);
float cosPhi = cos(phi);
float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;
return vec3(
sin(lambda) * cosPhi,
-cos(lambda) * cosPhi,
sin(phi)
) * D;
}
vec4 project_position(vec4 position, vec3 position64Low) {
vec4 position_world = project.modelMatrix * position;
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
return vec4(
project_mercator_(position_world.xy),
project_size_at_latitude(position_world.z, position_world.y),
position_world.w
);
}
if (project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {
position_world.xyz += project.coordinateOrigin;
}
}
if (project.projectionMode == PROJECTION_MODE_GLOBE) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
return vec4(
project_globe_(position_world.xyz),
position_world.w
);
}
}
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
if (abs(position_world.y - project.coordinateOrigin.y) > 0.25) {
return vec4(
project_mercator_(position_world.xy) - project.commonOrigin.xy,
project_size(position_world.z),
position_world.w
);
}
}
}
if (project.projectionMode == PROJECTION_MODE_IDENTITY ||
(project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&
(project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {
position_world.xyz -= project.coordinateOrigin;
}
return project_offset_(position_world) + project_offset_(project.modelMatrix * vec4(position64Low, 0.0));
}
vec4 project_position(vec4 position) {
return project_position(position, ZERO_64_LOW);
}
vec3 project_position(vec3 position, vec3 position64Low) {
vec4 projected_position = project_position(vec4(position, 1.0), position64Low);
return projected_position.xyz;
}
vec3 project_position(vec3 position) {
vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);
return projected_position.xyz;
}
vec2 project_position(vec2 position) {
vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);
return projected_position.xy;
}
vec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {
return viewProjectionMatrix * position + center;
}
vec4 project_common_position_to_clipspace(vec4 position) {
return project_common_position_to_clipspace(position, project.viewProjectionMatrix, project.center);
}
vec2 project_pixel_size_to_clipspace(vec2 pixels) {
vec2 offset = pixels / project.viewportSize * project.devicePixelRatio * 2.0;
return offset * project.focalDistance;
}
float project_size_to_pixel(float meters) {
return project_size(meters) * project.scale;
}
float project_size_to_pixel(float size, int unit) {
if (unit == UNIT_METERS) return project_size_to_pixel(size);
if (unit == UNIT_COMMON) return size * project.scale;
return size;
}
float project_pixel_size(float pixels) {
return pixels / project.scale;
}
vec2 project_pixel_size(vec2 pixels) {
return pixels / project.scale;
}
`;var AV1={};function zV1($=AV1){if("viewport"in $)return nn($);return{}}var HZ={name:"project",dependencies:[dM,$V],source:sn,vs:on,getUniforms:zV1,uniformTypes:{wrapLongitude:"f32",coordinateSystem:"i32",commonUnitsPerMeter:"vec3<f32>",projectionMode:"i32",scale:"f32",commonUnitsPerWorldUnit:"vec3<f32>",commonUnitsPerWorldUnit2:"vec3<f32>",center:"vec4<f32>",modelMatrix:"mat4x4<f32>",viewProjectionMatrix:"mat4x4<f32>",viewportSize:"vec2<f32>",devicePixelRatio:"f32",focalDistance:"f32",cameraPosition:"vec3<f32>",coordinateOrigin:"vec3<f32>",commonOrigin:"vec3<f32>",pseudoMeters:"f32"}};var BV1=`// Define a structure to hold both the clip-space position and the common position.
struct ProjectResult {
  clipPosition: vec4<f32>,
  commonPosition: vec4<f32>,
};

// This function mimics the GLSL version with the 'out' parameter by returning both values.
fn project_position_to_clipspace_and_commonspace(
    position: vec3<f32>,
    position64Low: vec3<f32>,
    offset: vec3<f32>
) -> ProjectResult {
  // Compute the projected position.
  let projectedPosition: vec3<f32> = project_position_vec3_f64(position, position64Low);

  // Start with the provided offset.
  var finalOffset: vec3<f32> = offset;

  // Get whether a rotation is needed and the rotation matrix.
  let rotationResult = project_needs_rotation(projectedPosition);

  // If rotation is needed, update the offset.
  if (rotationResult.needsRotation) {
    finalOffset = rotationResult.transform * offset;
  }

  // Compute the common position.
  let commonPosition: vec4<f32> = vec4<f32>(projectedPosition + finalOffset, 1.0);

  // Convert to clip-space.
  let clipPosition: vec4<f32> = project_common_position_to_clipspace(commonPosition);

  return ProjectResult(clipPosition, commonPosition);
}

// A convenience overload that returns only the clip-space position.
fn project_position_to_clipspace(
    position: vec3<f32>,
    position64Low: vec3<f32>,
    offset: vec3<f32>
) -> vec4<f32> {
  return project_position_to_clipspace_and_commonspace(position, position64Low, offset).clipPosition;
}
`,RV1=`vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition
) {
  vec3 projectedPosition = project_position(position, position64Low);
  mat3 rotation;
  if (project_needs_rotation(projectedPosition, rotation)) {
    // offset is specified as ENU
    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe
    offset = rotation * offset;
  }
  commonPosition = vec4(projectedPosition + offset, 1.0);
  return project_common_position_to_clipspace(commonPosition);
}

vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset
) {
  vec4 commonPosition;
  return project_position_to_clipspace(position, position64Low, offset, commonPosition);
}
`,o4={name:"project32",dependencies:[HZ],source:BV1,vs:RV1};function qw(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function e9($,Q){let J=P3.transformMat4([],Q,$);return P3.scale(J,J,1/J[3]),J}function Hw($,Q){let J=$%Q;return J<0?Q+J:J}function fY($,Q,J){return $<Q?Q:$>J?J:$}function OV1($){return Math.log($)*Math.LOG2E}var FZ=Math.log2||OV1;function S7($,Q){if(!$)throw Error(Q||"@math.gl/web-mercator: assertion failed.")}var T7=Math.PI,an=T7/4,a4=T7/180,Fw=180/T7,UZ=512,VV=40030000,VZ=85.051129,rn=1.5;function Uw($){return FZ($)}function P8($){let[Q,J]=$;S7(Number.isFinite(Q)),S7(Number.isFinite(J)&&J>=-90&&J<=90,"invalid latitude");let Z=Q*a4,X=J*a4,W=UZ*(Z+T7)/(2*T7),H=UZ*(T7+Math.log(Math.tan(an+X*0.5)))/(2*T7);return[W,H]}function W4($){let[Q,J]=$,Z=Q/UZ*(2*T7)-T7,X=2*(Math.atan(Math.exp(J/UZ*(2*T7)-T7))-an);return[Z*Fw,X*Fw]}function Vw($){let{latitude:Q}=$;S7(Number.isFinite(Q));let J=Math.cos(Q*a4);return Uw(VV*J)-9}function mY($){let Q=Math.cos($*a4);return UZ/VV/Q}function NZ($){let{latitude:Q,longitude:J,highPrecision:Z=!1}=$;S7(Number.isFinite(Q)&&Number.isFinite(J));let X=UZ,W=Math.cos(Q*a4),H=X/360,F=H/W,V=X/VV/W,D={unitsPerMeter:[V,V,V],metersPerUnit:[1/V,1/V,1/V],unitsPerDegree:[H,F,V],degreesPerUnit:[1/H,1/F,1/V]};if(Z){let C=a4*Math.tan(Q*a4)/W,z=H*C/2,R=X/VV*C,k=R/F*V;D.unitsPerDegree2=[0,z,R],D.unitsPerMeter2=[k,0,k]}return D}function cY($,Q){let[J,Z,X]=$,[W,H,F]=Q,{unitsPerMeter:V,unitsPerMeter2:D}=NZ({longitude:J,latitude:Z,highPrecision:!0}),C=P8($);C[0]+=W*(V[0]+D[0]*H),C[1]+=H*(V[1]+D[1]*H);let z=W4(C),R=(X||0)+(F||0);return Number.isFinite(X)||Number.isFinite(F)?[z[0],z[1],R]:z}function NV($){let{height:Q,pitch:J,bearing:Z,altitude:X,scale:W,center:H}=$,F=qw();h5.translate(F,F,[0,0,-X]),h5.rotateX(F,F,-J*a4),h5.rotateZ(F,F,Z*a4);let V=W/Q;if(h5.scale(F,F,[V,V,V]),H)h5.translate(F,F,YZ.negate([],H));return F}function Nw($){let{width:Q,height:J,altitude:Z,pitch:X=0,offset:W,center:H,scale:F,nearZMultiplier:V=1,farZMultiplier:D=1}=$,{fovy:C=m$(rn)}=$;if(Z!==void 0)C=m$(Z);let z=C*a4,R=X*a4,k=dY(C),P=k;if(H)P+=H[2]*F/Math.cos(R)/J;let S=z*(0.5+(W?W[1]:0)/J),T=Math.sin(S)*P/Math.sin(fY(Math.PI/2-R-S,0.01,Math.PI-0.01)),_=Math.sin(R)*T+P,v=P*10,L=Math.min(_*D,v);return{fov:z,aspect:Q/J,focalDistance:k,near:V,far:L}}function m$($){return 2*Math.atan(0.5/$)*Fw}function dY($){return 0.5/Math.tan(0.5*$*a4)}function DZ($,Q){let[J,Z,X=0]=$;return S7(Number.isFinite(J)&&Number.isFinite(Z)&&Number.isFinite(X)),e9(Q,[J,Z,X,1])}function $2($,Q,J=0){let[Z,X,W]=$;if(S7(Number.isFinite(Z)&&Number.isFinite(X),"invalid pixel coordinate"),Number.isFinite(W))return e9(Q,[Z,X,W,1]);let H=e9(Q,[Z,X,0,1]),F=e9(Q,[Z,X,1,1]),V=H[2],D=F[2],C=V===D?0:((J||0)-V)/(D-V);return k3.lerp([],H,F,C)}function DV($){let{width:Q,height:J,bounds:Z,minExtent:X=0,maxZoom:W=24,offset:H=[0,0]}=$,[[F,V],[D,C]]=Z,z=kV1($.padding),R=P8([F,fY(C,-VZ,VZ)]),k=P8([D,fY(V,-VZ,VZ)]),P=[Math.max(Math.abs(k[0]-R[0]),X),Math.max(Math.abs(k[1]-R[1]),X)],S=[Q-z.left-z.right-Math.abs(H[0])*2,J-z.top-z.bottom-Math.abs(H[1])*2];S7(S[0]>0&&S[1]>0);let T=S[0]/P[0],_=S[1]/P[1],v=(z.right-z.left)/2/T,L=(z.top-z.bottom)/2/_,f=[(k[0]+R[0])/2+v,(k[1]+R[1])/2+L],l=W4(f),J1=Math.min(W,FZ(Math.abs(Math.min(T,_))));return S7(Number.isFinite(J1)),{longitude:l[0],latitude:l[1],zoom:J1}}function kV1($=0){if(typeof $==="number")return{top:$,bottom:$,left:$,right:$};return S7(Number.isFinite($.top)&&Number.isFinite($.bottom)&&Number.isFinite($.left)&&Number.isFinite($.right)),$}var tn=Math.PI/180;function CV($,Q=0){let{width:J,height:Z,unproject:X}=$,W={targetZ:Q},H=X([0,Z],W),F=X([J,Z],W),V,D,C=$.fovy?0.5*$.fovy*tn:Math.atan(0.5/$.altitude),z=(90-$.pitch)*tn;if(C>z-0.01)V=en($,0,Q),D=en($,J,Q);else V=X([0,0],W),D=X([J,0],W);return[H,F,D,V]}function en($,Q,J){let{pixelUnprojectionMatrix:Z}=$,X=e9(Z,[Q,0,1,1]),W=e9(Z,[Q,$.height,1,1]),F=(J*$.distanceScales.unitsPerMeter[2]-X[2])/(W[2]-X[2]),V=k3.lerp([],X,W,F),D=W4(V);return D.push(J),D}var Qs=512;function Dw($){let{width:Q,height:J,pitch:Z=0}=$,{longitude:X,latitude:W,zoom:H,bearing:F=0}=$;if(X<-180||X>180)X=Hw(X+180,360)-180;if(F<-180||F>180)F=Hw(F+180,360)-180;let V=FZ(J/Qs);if(H<=V)H=V,W=0;else{let D=J/2/Math.pow(2,H),C=W4([0,D])[1];if(W<C)W=C;else{let z=W4([0,Qs-D])[1];if(W>z)W=z}}return{width:Q,height:J,longitude:X,latitude:W,zoom:H,pitch:Z,bearing:F}}var Js=`
uniform shadowUniforms {
  bool drawShadowMap;
  bool useShadowMap;
  vec4 color;
  highp int lightId;
  float lightCount;
  mat4 viewProjectionMatrix0;
  mat4 viewProjectionMatrix1;
  vec4 projectCenter0;
  vec4 projectCenter1;
} shadow;
`,wV1=`
const int max_lights = 2;

out vec3 shadow_vPosition[max_lights];

vec4 shadow_setVertexPosition(vec4 position_commonspace) {
  mat4 viewProjectionMatrices[max_lights];
  viewProjectionMatrices[0] = shadow.viewProjectionMatrix0;
  viewProjectionMatrices[1] = shadow.viewProjectionMatrix1;
  vec4 projectCenters[max_lights];
  projectCenters[0] = shadow.projectCenter0;
  projectCenters[1] = shadow.projectCenter1;

  if (shadow.drawShadowMap) {
    return project_common_position_to_clipspace(position_commonspace, viewProjectionMatrices[shadow.lightId], projectCenters[shadow.lightId]);
  }
  if (shadow.useShadowMap) {
    for (int i = 0; i < max_lights; i++) {
      if(i < int(shadow.lightCount)) {
        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, viewProjectionMatrices[i], projectCenters[i]);
        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;
      }
    }
  }
  return gl_Position;
}
`,SV1=`
${Js}
${wV1}
`,TV1=`
const int max_lights = 2;
uniform sampler2D shadow_uShadowMap0;
uniform sampler2D shadow_uShadowMap1;

in vec3 shadow_vPosition[max_lights];

const vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);
const vec4 bitUnpackShift = 1.0 / bitPackShift;
const vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);

float shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {
  vec4 rgbaDepth = texture(shadowMap, position.xy);

  float z = dot(rgbaDepth, bitUnpackShift);
  return smoothstep(0.001, 0.01, position.z - z);
}

vec4 shadow_filterShadowColor(vec4 color) {
  if (shadow.drawShadowMap) {
    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);
    rgbaDepth -= rgbaDepth.gbaa * bitMask;
    return rgbaDepth;
  }
  if (shadow.useShadowMap) {
    float shadowAlpha = 0.0;
    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);
    if(shadow.lightCount > 1.0) {
      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);
    }
    shadowAlpha *= shadow.color.a / shadow.lightCount;
    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);

    return vec4(
      mix(color.rgb, shadow.color.rgb, shadowAlpha / blendedAlpha),
      blendedAlpha
    );
  }
  return color;
}
`,IV1=`
${Js}
${TV1}
`,GV1=M3(vV1),EV1=M3(_V1),jV1=[0,0,0,1],LV1=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];function hV1($,Q){let[J,Z,X]=$,W=$2([J,Z,X],Q);if(Number.isFinite(X))return W;return[W[0],W[1],0]}function vV1({viewport:$,center:Q}){return new W6($.viewProjectionMatrix).invert().transform(Q)}function _V1({viewport:$,shadowMatrices:Q}){let J=[],Z=$.pixelUnprojectionMatrix,X=$.isGeospatial?void 0:1,W=[[0,0,X],[$.width,0,X],[0,$.height,X],[$.width,$.height,X],[0,0,-1],[$.width,0,-1],[0,$.height,-1],[$.width,$.height,-1]].map((H)=>hV1(H,Z));for(let H of Q){let F=H.clone().translate(new Y6($.center).negate()),V=W.map((C)=>F.transform(C)),D=new W6().ortho({left:Math.min(...V.map((C)=>C[0])),right:Math.max(...V.map((C)=>C[0])),bottom:Math.min(...V.map((C)=>C[1])),top:Math.max(...V.map((C)=>C[1])),near:Math.min(...V.map((C)=>-C[2])),far:Math.max(...V.map((C)=>-C[2]))});J.push(D.multiplyRight(H))}return J}function xV1($){let{shadowEnabled:Q=!0,project:J}=$;if(!Q||!J||!$.shadowMatrices||!$.shadowMatrices.length)return{drawShadowMap:!1,useShadowMap:!1,shadow_uShadowMap0:$.dummyShadowMap,shadow_uShadowMap1:$.dummyShadowMap};let Z=HZ.getUniforms(J),X=GV1({viewport:J.viewport,center:Z.center}),W=[],H=EV1({shadowMatrices:$.shadowMatrices,viewport:J.viewport}).slice();for(let V=0;V<$.shadowMatrices.length;V++){let D=H[V],C=D.clone().translate(new Y6(J.viewport.center).negate());if(Z.coordinateSystem===Q0.LNGLAT&&Z.projectionMode===a5.WEB_MERCATOR)H[V]=C,W[V]=X;else H[V]=D.clone().multiplyRight(LV1),W[V]=C.transform(X)}let F={drawShadowMap:Boolean($.drawToShadowMap),useShadowMap:$.shadowMaps?$.shadowMaps.length>0:!1,color:$.shadowColor||jV1,lightId:$.shadowLightId||0,lightCount:$.shadowMatrices.length,shadow_uShadowMap0:$.dummyShadowMap,shadow_uShadowMap1:$.dummyShadowMap};for(let V=0;V<H.length;V++)F[`viewProjectionMatrix${V}`]=H[V],F[`projectCenter${V}`]=W[V];for(let V=0;V<2;V++)F[`shadow_uShadowMap${V}`]=$.shadowMaps&&$.shadowMaps[V]||$.dummyShadowMap;return F}var AV={name:"shadow",dependencies:[HZ],vs:SV1,fs:IV1,inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    position = shadow_setVertexPosition(geometry.position);
    `,"fs:DECKGL_FILTER_COLOR":`
    color = shadow_filterShadowColor(color);
    `},getUniforms:xV1,uniformTypes:{drawShadowMap:"f32",useShadowMap:"f32",color:"vec4<f32>",lightId:"i32",lightCount:"f32",viewProjectionMatrix0:"mat4x4<f32>",viewProjectionMatrix1:"mat4x4<f32>",projectCenter0:"vec4<f32>",projectCenter1:"vec4<f32>"}};var r4={...tU,defaultUniforms:{...tU.defaultUniforms,useFloatColors:!1},inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    // for picking depth values
    picking_setPickingAttribute(position.z / position.w);
  `,"vs:DECKGL_FILTER_COLOR":`
  picking_setPickingColor(geometry.pickingColor);
  `,"fs:DECKGL_FILTER_COLOR":{order:99,injection:`
  // use highlight color if this fragment belongs to the selected object.
  color = picking_filterHighlightColor(color);

  // use picking color if rendering to picking FBO.
  color = picking_filterPickingColor(color);
    `}}};var gV1=[$V],yV1=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"],bV1=[];function Zs($){let Q=C3.getDefaultShaderAssembler();for(let Z of gV1)Q.addDefaultModule(Z);let J=$==="glsl"?yV1:bV1;for(let Z of J)Q.addShaderHook(Z);return Q}var fV1=[255,255,255];var mV1=0;class Cw{constructor($={}){this.type="ambient";let{color:Q=fV1}=$,{intensity:J=1}=$;this.id=$.id||`ambient-${mV1++}`,this.color=Q,this.intensity=J}}var cV1=[255,255,255],dV1=1,lV1=[0,0,-1],pV1=0;class zV{constructor($={}){this.type="directional";let{color:Q=cV1}=$,{intensity:J=dV1}=$,{direction:Z=lV1}=$,{_shadow:X=!1}=$;this.id=$.id||`directional-${pV1++}`,this.color=Q,this.intensity=J,this.type="directional",this.direction=new Y6(Z).normalize().toArray(),this.shadow=X}getProjectedLight($){return this}}class BV{constructor($,Q={id:"pass"}){let{id:J}=Q;this.id=J,this.device=$,this.props={...Q}}setProps($){Object.assign(this.props,$)}render($){}cleanup(){}}class Q2 extends BV{constructor(){super(...arguments);this._lastRenderIndex=-1}render($){let[Q,J]=this.device.canvasContext.getDrawingBufferSize(),Z=$.clearCanvas??!0,X=$.clearColor??(Z?[0,0,0,0]:!1),W=Z?1:!1,H=Z?0:!1,F=$.colorMask??15,V={viewport:[0,0,Q,J]};if($.colorMask)V.colorMask=F;if($.scissorRect)V.scissorRect=$.scissorRect;let D=this.device.beginRenderPass({framebuffer:$.target,parameters:V,clearColor:X,clearDepth:W,clearStencil:H});try{return this._drawLayers(D,$)}finally{D.end(),this.device.submit()}}_drawLayers($,Q){let{target:J,shaderModuleProps:Z,viewports:X,views:W,onViewportActive:H,clearStack:F=!0}=Q;if(Q.pass=Q.pass||"unknown",F)this._lastRenderIndex=-1;let V=[];for(let D of X){let C=W&&W[D.id];H?.(D);let z=this._getDrawLayerParams(D,Q),R=D.subViewports||[D];for(let k of R){let P=this._drawLayersInViewport($,{target:J,shaderModuleProps:Z,viewport:k,view:C,pass:Q.pass,layers:Q.layers},z);V.push(P)}}return V}_getDrawLayerParams($,{layers:Q,pass:J,isPicking:Z=!1,layerFilter:X,cullRect:W,effects:H,shaderModuleProps:F},V=!1){let D=[],C=Xs(this._lastRenderIndex+1),z={layer:Q[0],viewport:$,isPicking:Z,renderPass:J,cullRect:W},R={};for(let k=0;k<Q.length;k++){let P=Q[k],S=this._shouldDrawLayer(P,z,X,R),T={shouldDrawLayer:S};if(S&&!V)T.shouldDrawLayer=!0,T.layerRenderIndex=C(P,S),T.shaderModuleProps=this._getShaderModuleProps(P,H,J,F),T.layerParameters={...P.context.deck?.props.parameters,...this.getLayerParameters(P,k,$)};D[k]=T}return D}_drawLayersInViewport($,{layers:Q,shaderModuleProps:J,pass:Z,target:X,viewport:W,view:H},F){let V=uV1(this.device,{shaderModuleProps:J,target:X,viewport:W});if(H&&H.props.clear){let C=H.props.clear===!0?{color:!0,depth:!0}:H.props.clear;this.device.beginRenderPass({framebuffer:X,parameters:{viewport:V,scissorRect:V},clearColor:C.color?[0,0,0,0]:!1,clearDepth:C.depth?1:!1}).end()}let D={totalCount:Q.length,visibleCount:0,compositeCount:0,pickableCount:0};$.setParameters({viewport:V});for(let C=0;C<Q.length;C++){let z=Q[C],R=F[C],{shouldDrawLayer:k}=R;if(k&&z.props.pickable)D.pickableCount++;if(z.isComposite)D.compositeCount++;if(z.isDrawable&&R.shouldDrawLayer){let{layerRenderIndex:P,shaderModuleProps:S,layerParameters:T}=R;if(D.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,P),S.project)S.project.viewport=W;z.context.renderPass=$;try{z._drawLayer({renderPass:$,shaderModuleProps:S,uniforms:{layerIndex:P},parameters:T})}catch(_){z.raiseError(_,`drawing ${z} to ${Z}`)}}}return D}shouldDrawLayer($){return!0}getShaderModuleProps($,Q,J){return null}getLayerParameters($,Q,J){return $.props.parameters}_shouldDrawLayer($,Q,J,Z){if(!($.props.visible&&this.shouldDrawLayer($)))return!1;Q.layer=$;let W=$.parent;while(W){if(!W.props.visible||!W.filterSubLayer(Q))return!1;Q.layer=W,W=W.parent}if(J){let H=Q.layer.id;if(!(H in Z))Z[H]=J(Q);if(!Z[H])return!1}return $.activateViewport(Q.viewport),!0}_getShaderModuleProps($,Q,J,Z){let X=this.device.canvasContext.cssToDeviceRatio(),W=$.internalState?.propsInTransition||$.props,H={layer:W,picking:{isActive:!1},project:{viewport:$.context.viewport,devicePixelRatio:X,modelMatrix:W.modelMatrix,coordinateSystem:W.coordinateSystem,coordinateOrigin:W.coordinateOrigin,autoWrapLongitude:$.wrapLongitude}};if(Q)for(let F of Q)Ks(H,F.getShaderModuleProps?.($,H));return Ks(H,this.getShaderModuleProps($,Q,H),Z)}}function Xs($=0,Q={}){let J={},Z=(X,W)=>{let H=X.props._offset,F=X.id,V=X.parent&&X.parent.id,D;if(V&&!(V in Q))Z(X.parent,!1);if(V in J){let C=J[V]=J[V]||Xs(Q[V],Q);D=C(X,W),J[F]=C}else if(Number.isFinite(H))D=H+(Q[V]||0),J[F]=null;else D=$;if(W&&D>=$)$=D+1;return Q[F]=D,D};return Z}function uV1($,{shaderModuleProps:Q,target:J,viewport:Z}){let X=Q?.project?.devicePixelRatio??$.canvasContext.cssToDeviceRatio(),[,W]=$.canvasContext.getDrawingBufferSize(),H=J?J.height:W,F=Z;return[F.x*X,H-(F.y+F.height)*X,F.width*X,F.height*X]}function Ks($,...Q){for(let J of Q)if(J)for(let Z in J)if($[Z])Object.assign($[Z],J[Z]);else $[Z]=J[Z];return $}class RV extends Q2{constructor($,Q){super($,Q);let J=$.createTexture({format:"rgba8unorm",width:1,height:1,sampler:{minFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},mipmaps:!0}),Z=$.createTexture({format:"depth16unorm",width:1,height:1,mipmaps:!1});this.fbo=$.createFramebuffer({id:"shadowmap",width:1,height:1,colorAttachments:[J],depthStencilAttachment:Z})}delete(){if(this.fbo)this.fbo.destroy(),this.fbo=null}getShadowMap(){return this.fbo.colorAttachments[0].texture}render($){let Q=this.fbo,J=this.device.canvasContext.cssToDeviceRatio(),Z=$.viewports[0],X=Z.width*J,W=Z.height*J,H=[1,1,1,1];if(X!==Q.width||W!==Q.height)Q.resize({width:X,height:W});super.render({...$,clearColor:H,target:Q,pass:"shadow"})}getLayerParameters($,Q,J){return{...$.props.parameters,blend:!1,depthWriteEnabled:!0,depthCompare:"less-equal"}}shouldDrawLayer($){return $.props.shadowEnabled!==!1}getShaderModuleProps($,Q,J){return{shadow:{project:J.project,drawToShadowMap:!0}}}}var iV1={color:[255,255,255],intensity:1},Ys=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:0.9,direction:[1,-8,-2.5]}],nV1=[0,0,0,0.7843137254901961];class lY{constructor($={}){this.id="lighting-effect",this.shadowColor=nV1,this.shadow=!1,this.directionalLights=[],this.pointLights=[],this.shadowPasses=[],this.dummyShadowMap=null,this.setProps($)}setup($){this.context=$;let{device:Q,deck:J}=$;if(this.shadow&&!this.dummyShadowMap)this._createShadowPasses(Q),J._addDefaultShaderModule(AV),this.dummyShadowMap=Q.createTexture({width:1,height:1})}setProps($){this.ambientLight=void 0,this.directionalLights=[],this.pointLights=[];for(let Q in $){let J=$[Q];switch(J.type){case"ambient":this.ambientLight=J;break;case"directional":this.directionalLights.push(J);break;case"point":this.pointLights.push(J);break;default:}}if(this._applyDefaultLights(),this.shadow=this.directionalLights.some((Q)=>Q.shadow),this.context)this.setup(this.context);this.props=$}preRender({layers:$,layerFilter:Q,viewports:J,onViewportActive:Z,views:X}){if(!this.shadow)return;this.shadowMatrices=this._calculateMatrices();for(let W=0;W<this.shadowPasses.length;W++)this.shadowPasses[W].render({layers:$,layerFilter:Q,viewports:J,onViewportActive:Z,views:X,shaderModuleProps:{shadow:{shadowLightId:W,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}}})}getShaderModuleProps($,Q){let J=this.shadow?{project:Q.project,shadowMaps:this.shadowPasses.map((W)=>W.getShadowMap()),dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{},Z={enabled:!0,ambientLight:this.ambientLight,directionalLights:this.directionalLights.map((W)=>W.getProjectedLight({layer:$})),pointLights:this.pointLights.map((W)=>W.getProjectedLight({layer:$}))},X=$.props.material;return{shadow:J,lighting:Z,phongMaterial:X,gouraudMaterial:X}}cleanup($){for(let Q of this.shadowPasses)Q.delete();if(this.shadowPasses.length=0,this.dummyShadowMap)this.dummyShadowMap.destroy(),this.dummyShadowMap=null,$.deck._removeDefaultShaderModule(AV)}_calculateMatrices(){let $=[];for(let Q of this.directionalLights){let J=new W6().lookAt({eye:new Y6(Q.direction).negate()});$.push(J)}return $}_createShadowPasses($){for(let Q=0;Q<this.directionalLights.length;Q++){let J=new RV($);this.shadowPasses[Q]=J}}_applyDefaultLights(){let{ambientLight:$,pointLights:Q,directionalLights:J}=this;if(!$&&Q.length===0&&J.length===0)this.ambientLight=new Cw(iV1),this.directionalLights.push(new zV(Ys[0]),new zV(Ys[1]))}}class Ws{constructor($={}){this._pool=[],this.opts={overAlloc:2,poolSize:100},this.setOptions($)}setOptions($){Object.assign(this.opts,$)}allocate($,Q,{size:J=1,type:Z,padding:X=0,copy:W=!1,initialize:H=!1,maxCount:F}){let V=Z||$&&$.constructor||Float32Array,D=Q*J+X;if(ArrayBuffer.isView($)){if(D<=$.length)return $;if(D*$.BYTES_PER_ELEMENT<=$.buffer.byteLength)return new V($.buffer,0,D)}let C=1/0;if(F)C=F*J+X;let z=this._allocate(V,D,H,C);if($&&W)z.set($);else if(!H)z.fill(0,0,4);return this._release($),z}release($){this._release($)}_allocate($,Q,J,Z){let X=Math.max(Math.ceil(Q*this.opts.overAlloc),1);if(X>Z)X=Z;let W=this._pool,H=$.BYTES_PER_ELEMENT*X,F=W.findIndex((V)=>V.byteLength>=H);if(F>=0){let V=new $(W.splice(F,1)[0],0,X);if(J)V.fill(0);return V}return new $(X)}_release($){if(!ArrayBuffer.isView($))return;let Q=this._pool,{buffer:J}=$,{byteLength:Z}=J,X=Q.findIndex((W)=>W.byteLength>=Z);if(X<0)Q.push(J);else if(X>0||Q.length<this.opts.poolSize)Q.splice(X,0,J);if(Q.length>this.opts.poolSize)Q.shift()}}var I7=new Ws;function AZ(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Hs($){return[$[12],$[13],$[14]]}function Fs($){return{left:CZ($[3]+$[0],$[7]+$[4],$[11]+$[8],$[15]+$[12]),right:CZ($[3]-$[0],$[7]-$[4],$[11]-$[8],$[15]-$[12]),bottom:CZ($[3]+$[1],$[7]+$[5],$[11]+$[9],$[15]+$[13]),top:CZ($[3]-$[1],$[7]-$[5],$[11]-$[9],$[15]-$[13]),near:CZ($[3]+$[2],$[7]+$[6],$[11]+$[10],$[15]+$[14]),far:CZ($[3]-$[2],$[7]-$[6],$[11]-$[10],$[15]-$[14])}}var qs=new Y6;function CZ($,Q,J,Z){qs.set($,Q,J);let X=qs.len();return{distance:Z/X,normal:new Y6(-$/X,-Q/X,-J/X)}}function sV1($){return $-Math.fround($)}var pY;function OV($,Q){let{size:J=1,startIndex:Z=0}=Q,X=Q.endIndex!==void 0?Q.endIndex:$.length,W=(X-Z)/J;pY=I7.allocate(pY,W,{type:Float32Array,size:J*2});let H=Z,F=0;while(H<X){for(let V=0;V<J;V++){let D=$[H++];pY[F+V]=D,pY[F+V+J]=sV1(D)}F+=J*2}return pY.subarray(0,W*J*2)}function Us($){let Q=null,J=!1;for(let Z of $){if(!Z)continue;if(!Q)Q=Z;else{if(!J)Q=[[Q[0][0],Q[0][1]],[Q[1][0],Q[1][1]]],J=!0;Q[0][0]=Math.min(Q[0][0],Z[0][0]),Q[0][1]=Math.min(Q[0][1],Z[0][1]),Q[1][0]=Math.max(Q[1][0],Z[1][0]),Q[1][1]=Math.max(Q[1][1],Z[1][1])}}return Q}var oV1=Math.PI/180,aV1=AZ(),Vs=[0,0,0],rV1={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};function tV1({width:$,height:Q,orthographic:J,fovyRadians:Z,focalDistance:X,padding:W,near:H,far:F}){let V=$/Q,D=J?new W6().orthographic({fovy:Z,aspect:V,focalDistance:X,near:H,far:F}):new W6().perspective({fovy:Z,aspect:V,near:H,far:F});if(W){let{left:C=0,right:z=0,top:R=0,bottom:k=0}=W,P=n4((C+$-z)/2,0,$)-$/2,S=n4((R+Q-k)/2,0,Q)-Q/2;D[8]-=P*2/$,D[9]+=S*2/Q}return D}class kV{constructor($={}){this._frustumPlanes={},this.id=$.id||this.constructor.displayName||"viewport",this.x=$.x||0,this.y=$.y||0,this.width=$.width||1,this.height=$.height||1,this.zoom=$.zoom||0,this.padding=$.padding,this.distanceScales=$.distanceScales||rV1,this.focalDistance=$.focalDistance||1,this.position=$.position||Vs,this.modelMatrix=$.modelMatrix||null;let{longitude:Q,latitude:J}=$;this.isGeospatial=Number.isFinite(J)&&Number.isFinite(Q),this._initProps($),this._initMatrices($),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get subViewports(){return null}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){if(this.isGeospatial)return this.zoom<12?a5.WEB_MERCATOR:a5.WEB_MERCATOR_AUTO_OFFSET;return a5.IDENTITY}equals($){if(!($ instanceof kV))return!1;if(this===$)return!0;return $.width===this.width&&$.height===this.height&&$.scale===this.scale&&O8($.projectionMatrix,this.projectionMatrix)&&O8($.viewMatrix,this.viewMatrix)}project($,{topLeft:Q=!0}={}){let J=this.projectPosition($),Z=DZ(J,this.pixelProjectionMatrix),[X,W]=Z,H=Q?W:this.height-W;return $.length===2?[X,H]:[X,H,Z[2]]}unproject($,{topLeft:Q=!0,targetZ:J}={}){let[Z,X,W]=$,H=Q?X:this.height-X,F=J&&J*this.distanceScales.unitsPerMeter[2],V=$2([Z,H,W],this.pixelUnprojectionMatrix,F),[D,C,z]=this.unprojectPosition(V);if(Number.isFinite(W))return[D,C,z];return Number.isFinite(J)?[D,C,J]:[D,C]}projectPosition($){let[Q,J]=this.projectFlat($),Z=($[2]||0)*this.distanceScales.unitsPerMeter[2];return[Q,J,Z]}unprojectPosition($){let[Q,J]=this.unprojectFlat($),Z=($[2]||0)*this.distanceScales.metersPerUnit[2];return[Q,J,Z]}projectFlat($){if(this.isGeospatial){let Q=P8($);return Q[1]=n4(Q[1],-318,830),Q}return $}unprojectFlat($){if(this.isGeospatial)return W4($);return $}getBounds($={}){let Q={targetZ:$.z||0},J=this.unproject([0,0],Q),Z=this.unproject([this.width,0],Q),X=this.unproject([0,this.height],Q),W=this.unproject([this.width,this.height],Q);return[Math.min(J[0],Z[0],X[0],W[0]),Math.min(J[1],Z[1],X[1],W[1]),Math.max(J[0],Z[0],X[0],W[0]),Math.max(J[1],Z[1],X[1],W[1])]}getDistanceScales($){if($&&this.isGeospatial)return NZ({longitude:$[0],latitude:$[1],highPrecision:!0});return this.distanceScales}containsPixel({x:$,y:Q,width:J=1,height:Z=1}){return $<this.x+this.width&&this.x<$+J&&Q<this.y+this.height&&this.y<Q+Z}getFrustumPlanes(){if(this._frustumPlanes.near)return this._frustumPlanes;return Object.assign(this._frustumPlanes,Fs(this.viewProjectionMatrix)),this._frustumPlanes}panByPosition($,Q){return null}_initProps($){let{longitude:Q,latitude:J}=$;if(this.isGeospatial){if(!Number.isFinite($.zoom))this.zoom=Vw({latitude:J})+Math.log2(this.focalDistance);this.distanceScales=$.distanceScales||NZ({latitude:J,longitude:Q})}let Z=Math.pow(2,this.zoom);this.scale=Z;let{position:X,modelMatrix:W}=$,H=Vs;if(X)H=W?new W6(W).transformAsVector(X,[]):X;if(this.isGeospatial){let F=this.projectPosition([Q,J,0]);this.center=new Y6(H).scale(this.distanceScales.unitsPerMeter).add(F)}else this.center=this.projectPosition(H)}_initMatrices($){let{viewMatrix:Q=aV1,projectionMatrix:J=null,orthographic:Z=!1,fovyRadians:X,fovy:W=75,near:H=0.1,far:F=1000,padding:V=null,focalDistance:D=1}=$;this.viewMatrixUncentered=Q,this.viewMatrix=new W6().multiplyRight(Q).translate(new Y6(this.center).negate()),this.projectionMatrix=J||tV1({width:this.width,height:this.height,orthographic:Z,fovyRadians:X||W*oV1,focalDistance:D,padding:V,near:H,far:F});let C=AZ();h5.multiply(C,C,this.projectionMatrix),h5.multiply(C,C,this.viewMatrix),this.viewProjectionMatrix=C,this.viewMatrixInverse=h5.invert([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=Hs(this.viewMatrixInverse);let z=AZ(),R=AZ();if(h5.scale(z,z,[this.width/2,-this.height/2,1]),h5.translate(z,z,[1,-1,0]),h5.multiply(R,z,this.viewProjectionMatrix),this.pixelProjectionMatrix=R,this.pixelUnprojectionMatrix=h5.invert(AZ(),this.pixelProjectionMatrix),!this.pixelUnprojectionMatrix)S1.warn("Pixel project matrix not invertible")()}}kV.displayName="Viewport";var PV=kV;class uY extends PV{constructor($={}){let{latitude:Q=0,longitude:J=0,zoom:Z=0,pitch:X=0,bearing:W=0,nearZMultiplier:H=0.1,farZMultiplier:F=1.01,nearZ:V,farZ:D,orthographic:C=!1,projectionMatrix:z,repeat:R=!1,worldOffset:k=0,position:P,padding:S,legacyMeterSizes:T=!1}=$,{width:_,height:v,altitude:L=1.5}=$,f=Math.pow(2,Z);_=_||1,v=v||1;let l,J1=null;if(z)L=z[5]/2,l=m$(L);else{if($.fovy)l=$.fovy,L=dY(l);else l=m$(L);let H1;if(S){let{top:Q1=0,bottom:W1=0}=S;H1=[0,n4((Q1+v-W1)/2,0,v)-v/2]}if(J1=Nw({width:_,height:v,scale:f,center:P&&[0,0,P[2]*mY(Q)],offset:H1,pitch:X,fovy:l,nearZMultiplier:H,farZMultiplier:F}),Number.isFinite(V))J1.near=V;if(Number.isFinite(D))J1.far=D}let Y1=NV({height:v,pitch:X,bearing:W,scale:f,altitude:L});if(k)Y1=new W6().translate([512*k,0,0]).multiplyLeft(Y1);super({...$,width:_,height:v,viewMatrix:Y1,longitude:J,latitude:Q,zoom:Z,...J1,fovy:l,focalDistance:L});this.latitude=Q,this.longitude=J,this.zoom=Z,this.pitch=X,this.bearing=W,this.altitude=L,this.fovy=l,this.orthographic=C,this._subViewports=R?[]:null,this._pseudoMeters=T,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){let $=this.getBounds(),Q=Math.floor(($[0]+180)/360),J=Math.ceil(($[2]-180)/360);for(let Z=Q;Z<=J;Z++){let X=Z?new uY({...this,worldOffset:Z}):this;this._subViewports.push(X)}}return this._subViewports}projectPosition($){if(this._pseudoMeters)return super.projectPosition($);let[Q,J]=this.projectFlat($),Z=($[2]||0)*mY($[1]);return[Q,J,Z]}unprojectPosition($){if(this._pseudoMeters)return super.unprojectPosition($);let[Q,J]=this.unprojectFlat($),Z=($[2]||0)/mY(J);return[Q,J,Z]}addMetersToLngLat($,Q){return cY($,Q)}panByPosition($,Q){let J=$2(Q,this.pixelUnprojectionMatrix),Z=this.projectFlat($),X=k3.add([],Z,k3.negate([],J)),W=k3.add([],this.center,X),[H,F]=this.unprojectFlat(W);return{longitude:H,latitude:F}}getBounds($={}){let Q=CV(this,$.z||0);return[Math.min(Q[0][0],Q[1][0],Q[2][0],Q[3][0]),Math.min(Q[0][1],Q[1][1],Q[2][1],Q[3][1]),Math.max(Q[0][0],Q[1][0],Q[2][0],Q[3][0]),Math.max(Q[0][1],Q[1][1],Q[2][1],Q[3][1])]}fitBounds($,Q={}){let{width:J,height:Z}=this,{longitude:X,latitude:W,zoom:H}=DV({width:J,height:Z,bounds:$,...Q});return new uY({width:J,height:Z,longitude:X,latitude:W,zoom:H})}}uY.displayName="WebMercatorViewport";var MV=uY;var Ns=[0,0,0];function Aw($,Q,J=!1){let Z=Q.projectPosition($);if(J&&Q instanceof MV){let[X,W,H=0]=$,F=Q.getDistanceScales([X,W]);Z[2]=H*F.unitsPerMeter[2]}return Z}function eV1($){let{viewport:Q,modelMatrix:J,coordinateOrigin:Z}=$,{coordinateSystem:X,fromCoordinateSystem:W,fromCoordinateOrigin:H}=$;if(X===Q0.DEFAULT)X=Q.isGeospatial?Q0.LNGLAT:Q0.CARTESIAN;if(W===void 0)W=X;if(H===void 0)H=Z;return{viewport:Q,coordinateSystem:X,coordinateOrigin:Z,modelMatrix:J,fromCoordinateSystem:W,fromCoordinateOrigin:H}}function zw($,{viewport:Q,modelMatrix:J,coordinateSystem:Z,coordinateOrigin:X,offsetMode:W}){let[H,F,V=0]=$;if(J)[H,F,V]=P3.transformMat4([],[H,F,V,1],J);switch(Z){case Q0.LNGLAT:return Aw([H,F,V],Q,W);case Q0.LNGLAT_OFFSETS:return Aw([H+X[0],F+X[1],V+(X[2]||0)],Q,W);case Q0.METER_OFFSETS:return Aw(cY(X,[H,F,V]),Q,W);case Q0.CARTESIAN:default:return Q.isGeospatial?[H+X[0],F+X[1],V+X[2]]:Q.projectPosition([H,F,V])}}function Ds($,Q){let{viewport:J,coordinateSystem:Z,coordinateOrigin:X,modelMatrix:W,fromCoordinateSystem:H,fromCoordinateOrigin:F}=eV1(Q),{autoOffset:V=!0}=Q,{geospatialOrigin:D=Ns,shaderCoordinateOrigin:C=Ns,offsetMode:z=!1}=V?Ww(J,Z,X):{},R=zw($,{viewport:J,modelMatrix:W,coordinateSystem:H,coordinateOrigin:F,offsetMode:z});if(z){let k=J.projectPosition(D||C);YZ.sub(R,R,k)}return R}var $N1=1,QN1=1;class zZ{time=0;channels=new Map;animations=new Map;playing=!1;lastEngineTime=-1;constructor(){}addChannel($){let{delay:Q=0,duration:J=Number.POSITIVE_INFINITY,rate:Z=1,repeat:X=1}=$,W=$N1++,H={time:0,delay:Q,duration:J,rate:Z,repeat:X};return this._setChannelTime(H,this.time),this.channels.set(W,H),W}removeChannel($){this.channels.delete($);for(let[Q,J]of this.animations)if(J.channel===$)this.detachAnimation(Q)}isFinished($){let Q=this.channels.get($);if(Q===void 0)return!1;return this.time>=Q.delay+Q.duration*Q.repeat}getTime($){if($===void 0)return this.time;let Q=this.channels.get($);if(Q===void 0)return-1;return Q.time}setTime($){this.time=Math.max(0,$);let Q=this.channels.values();for(let Z of Q)this._setChannelTime(Z,this.time);let J=this.animations.values();for(let Z of J){let{animation:X,channel:W}=Z;X.setTime(this.getTime(W))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation($,Q){let J=QN1++;return this.animations.set(J,{animation:$,channel:Q}),$.setTime(this.getTime(Q)),J}detachAnimation($){this.animations.delete($)}update($){if(this.playing){if(this.lastEngineTime===-1)this.lastEngineTime=$;this.setTime(this.time+($-this.lastEngineTime)),this.lastEngineTime=$}}_setChannelTime($,Q){let J=Q-$.delay,Z=$.duration*$.repeat;if(J>=Z)$.time=$.duration*$.rate;else $.time=Math.max(0,J)%$.duration,$.time*=$.rate}}function Cs($){return typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame($):setTimeout($,16.666666666666668)}function As($){return typeof window<"u"&&window.cancelAnimationFrame?window.cancelAnimationFrame($):clearTimeout($)}var JN1=0,ZN1={device:null,onAddHTML:()=>"",onInitialize:async()=>{return null},onRender:()=>{},onFinalize:()=>{},onError:($)=>console.error($),stats:rJ.stats.get(`animation-loop-${JN1++}`),useDevicePixels:!0,autoResizeViewport:!1,autoResizeDrawingBuffer:!1};class wV{device=null;canvas=null;props;animationProps=null;timeline=null;stats;cpuTime;gpuTime;frameRate;display;needsRedraw="initialized";_initialized=!1;_running=!1;_animationFrameId=null;_nextFramePromise=null;_resolveNextFrame=null;_cpuStartTime=0;_error=null;constructor($){if(this.props={...ZN1,...$},$=this.props,!$.device)throw Error("No device provided");let{useDevicePixels:Q=!0}=this.props;this.stats=$.stats||new M7({id:"animation-loop-stats"}),this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this.setProps({autoResizeViewport:$.autoResizeViewport,autoResizeDrawingBuffer:$.autoResizeDrawingBuffer,useDevicePixels:Q}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}destroy(){this.stop(),this._setDisplay(null)}delete(){this.destroy()}setError($){if(this.props.onError($),this._error=Error(),this.device?.canvasContext?.canvas instanceof HTMLCanvasElement){let J=document.createElement("h1");J.innerHTML=$.message,J.style.position="absolute",J.style.top="20%",J.style.left="10px",J.style.color="black",J.style.backgroundColor="red",document.body.appendChild(J)}}setNeedsRedraw($){return this.needsRedraw=this.needsRedraw||$,this}setProps($){if("autoResizeViewport"in $)this.props.autoResizeViewport=$.autoResizeViewport||!1;if("autoResizeDrawingBuffer"in $)this.props.autoResizeDrawingBuffer=$.autoResizeDrawingBuffer||!1;if("useDevicePixels"in $)this.props.useDevicePixels=$.useDevicePixels||!1;return this}async start(){if(this._running)return this;this._running=!0;try{let $;if(!this._initialized)this._initialized=!0,await this._initDevice(),this._initialize(),await this.props.onInitialize(this._getAnimationProps());if(!this._running)return null;if($!==!1)this._cancelAnimationFrame(),this._requestAnimationFrame();return this}catch($){let Q=$ instanceof Error?$:Error("Unknown error");throw this.props.onError(Q),Q}}stop(){if(this._running){if(this.animationProps&&!this._error)this.props.onFinalize(this.animationProps);this._cancelAnimationFrame(),this._nextFramePromise=null,this._resolveNextFrame=null,this._running=!1}return this}redraw(){if(this.device?.isLost||this._error)return this;if(this._beginFrameTimers(),this._setupFrame(),this._updateAnimationProps(),this._renderFrame(this._getAnimationProps()),this._clearNeedsRedraw(),this._resolveNextFrame)this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null;return this._endFrameTimers(),this}attachTimeline($){return this.timeline=$,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){if(this.setNeedsRedraw("waitForRender"),!this._nextFramePromise)this._nextFramePromise=new Promise(($)=>{this._resolveNextFrame=$});return this._nextFramePromise}async toDataURL(){if(this.setNeedsRedraw("toDataURL"),await this.waitForRender(),this.canvas instanceof HTMLCanvasElement)return this.canvas.toDataURL();throw Error("OffscreenCanvas")}_initialize(){this._startEventHandling(),this._initializeAnimationProps(),this._updateAnimationProps(),this._resizeCanvasDrawingBuffer(),this._resizeViewport()}_setDisplay($){if(this.display)this.display.destroy(),this.display.animationLoop=null;if($)$.animationLoop=this;this.display=$}_requestAnimationFrame(){if(!this._running)return;this._animationFrameId=Cs(this._animationFrame.bind(this))}_cancelAnimationFrame(){if(this._animationFrameId===null)return;As(this._animationFrameId),this._animationFrameId=null}_animationFrame(){if(!this._running)return;this.redraw(),this._requestAnimationFrame()}_renderFrame($){if(this.display){this.display._renderFrame($);return}this.props.onRender(this._getAnimationProps()),this.device?.submit()}_clearNeedsRedraw(){this.needsRedraw=!1}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport()}_initializeAnimationProps(){let $=this.device?.canvasContext?.canvas;if(!this.device||!$)throw Error("loop");this.animationProps={animationLoop:this,device:this.device,canvas:$,timeline:this.timeline,useDevicePixels:this.props.useDevicePixels,needsRedraw:!1,width:1,height:1,aspect:1,time:0,startTime:Date.now(),engineTime:0,tick:0,tock:0,_mousePosition:null}}_getAnimationProps(){if(!this.animationProps)throw Error("animationProps");return this.animationProps}_updateAnimationProps(){if(!this.animationProps)return;let{width:$,height:Q,aspect:J}=this._getSizeAndAspect();if($!==this.animationProps.width||Q!==this.animationProps.height)this.setNeedsRedraw("drawing buffer resized");if(J!==this.animationProps.aspect)this.setNeedsRedraw("drawing buffer aspect changed");if(this.animationProps.width=$,this.animationProps.height=Q,this.animationProps.aspect=J,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline)this.timeline.update(this.animationProps.engineTime);this.animationProps.tick=Math.floor(this.animationProps.time/1000*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime}async _initDevice(){if(this.device=await this.props.device,!this.device)throw Error("No device provided");this.canvas=this.device.canvasContext?.canvas||null}_createInfoDiv(){if(this.canvas&&this.props.onAddHTML){let $=document.createElement("div");document.body.appendChild($),$.style.position="relative";let Q=document.createElement("div");if(Q.style.position="absolute",Q.style.left="10px",Q.style.bottom="10px",Q.style.width="300px",Q.style.background="white",this.canvas instanceof HTMLCanvasElement)$.appendChild(this.canvas);$.appendChild(Q);let J=this.props.onAddHTML(Q);if(J)Q.innerHTML=J}}_getSizeAndAspect(){if(!this.device)return{width:1,height:1,aspect:1};let[$,Q]=this.device?.canvasContext?.getPixelSize()||[1,1],J=1,Z=this.device?.canvasContext?.canvas;if(Z&&Z.clientHeight)J=Z.clientWidth/Z.clientHeight;else if($>0&&Q>0)J=$/Q;return{width:$,height:Q,aspect:J}}_resizeViewport(){if(this.props.autoResizeViewport&&this.device.gl)this.device.gl.viewport(0,0,this.device.gl.drawingBufferWidth,this.device.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){if(this.props.autoResizeDrawingBuffer)this.device?.canvasContext?.resize({useDevicePixels:this.props.useDevicePixels})}_beginFrameTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this.cpuTime.timeStart()}_endFrameTimers(){this.cpuTime.timeEnd()}_startEventHandling(){if(this.canvas)this.canvas.addEventListener("mousemove",this._onMousemove.bind(this)),this.canvas.addEventListener("mouseleave",this._onMouseleave.bind(this))}_onMousemove($){if($ instanceof MouseEvent)this._getAnimationProps()._mousePosition=[$.offsetX,$.offsetY]}_onMouseleave($){this._getAnimationProps()._mousePosition=null}}var Bw={};function J2($="id"){Bw[$]=Bw[$]||1;let Q=Bw[$]++;return`${$}-${Q}`}class Rw{id;userData={};topology;bufferLayout=[];vertexCount;indices;attributes;constructor($){if(this.id=$.id||J2("geometry"),this.topology=$.topology,this.indices=$.indices||null,this.attributes=$.attributes,this.vertexCount=$.vertexCount,this.bufferLayout=$.bufferLayout||[],this.indices){if(!(this.indices.usage&U0.INDEX))throw Error("Index buffer must have INDEX usage")}}destroy(){this.indices?.destroy();for(let $ of Object.values(this.attributes))$.destroy()}getVertexCount(){return this.vertexCount}getAttributes(){return this.attributes}getIndexes(){return this.indices||null}_calculateVertexCount($){return $.byteLength/12}}function zs($,Q){if(Q instanceof Rw)return Q;let J=KN1($,Q),{attributes:Z,bufferLayout:X}=XN1($,Q);return new Rw({topology:Q.topology||"triangle-list",bufferLayout:X,vertexCount:Q.vertexCount,indices:J,attributes:Z})}function KN1($,Q){if(!Q.indices)return;let J=Q.indices.value;return $.createBuffer({usage:U0.INDEX,data:J})}function XN1($,Q){let J=[],Z={};for(let[W,H]of Object.entries(Q.attributes)){let F=W;switch(W){case"POSITION":F="positions";break;case"NORMAL":F="normals";break;case"TEXCOORD_0":F="texCoords";break;case"COLOR_0":F="colors";break}if(H){Z[F]=$.createBuffer({data:H.value,id:`${W}-buffer`});let{value:V,size:D,normalized:C}=H;J.push({name:F,format:GP(V,D,C)})}}let X=Q._calculateVertexCount(Q.attributes,Q.indices);return{attributes:Z,bufferLayout:J,vertexCount:X}}class SV{static defaultProps={...A3.defaultProps};static getDefaultPipelineFactory($){return $._lumaData.defaultPipelineFactory=$._lumaData.defaultPipelineFactory||new SV($),$._lumaData.defaultPipelineFactory}device;destroyPolicy;_hashCounter=0;_hashes={};_renderPipelineCache={};_computePipelineCache={};constructor($){this.device=$,this.destroyPolicy=$.props._factoryDestroyPolicy}createRenderPipeline($){let Q={...A3.defaultProps,...$},J=this._hashRenderPipeline(Q);if(!this._renderPipelineCache[J]){let Z=this.device.createRenderPipeline({...Q,id:Q.id?`${Q.id}-cached`:void 0});Z.hash=J,this._renderPipelineCache[J]={pipeline:Z,useCount:0}}return this._renderPipelineCache[J].useCount++,this._renderPipelineCache[J].pipeline}createComputePipeline($){let Q={...tJ.defaultProps,...$},J=this._hashComputePipeline(Q);if(!this._computePipelineCache[J]){let Z=this.device.createComputePipeline({...Q,id:Q.id?`${Q.id}-cached`:void 0});Z.hash=J,this._computePipelineCache[J]={pipeline:Z,useCount:0}}return this._computePipelineCache[J].useCount++,this._computePipelineCache[J].pipeline}release($){let Q=$.hash,J=$ instanceof tJ?this._computePipelineCache:this._renderPipelineCache;if(J[Q].useCount--,J[Q].useCount===0){if(this.destroyPolicy==="unused")J[Q].pipeline.destroy(),delete J[Q]}}_hashComputePipeline($){return`${this._getHash($.shader.source)}`}_hashRenderPipeline($){let Q=$.vs?this._getHash($.vs.source):0,J=$.fs?this._getHash($.fs.source):0,Z="-",X=this._getHash(JSON.stringify($.bufferLayout));switch(this.device.type){case"webgl":return`${Q}/${J}V-BL${X}`;default:let W=this._getHash(JSON.stringify($.parameters));return`${Q}/${J}V-T${$.topology}P${W}BL${X}`}}_getHash($){if(this._hashes[$]===void 0)this._hashes[$]=this._hashCounter++;return this._hashes[$]}}class TV{static defaultProps={...v$.defaultProps};static getDefaultShaderFactory($){return $._lumaData.defaultShaderFactory||=new TV($),$._lumaData.defaultShaderFactory}device;destroyPolicy;_cache={};constructor($){this.device=$,this.destroyPolicy=$.props._factoryDestroyPolicy}createShader($){let Q=this._hashShader($),J=this._cache[Q];if(!J){let Z=this.device.createShader({...$,id:$.id?`${$.id}-cached`:void 0});this._cache[Q]=J={shader:Z,useCount:0}}return J.useCount++,J.shader}release($){let Q=this._hashShader($),J=this._cache[Q];if(J){if(J.useCount--,J.useCount===0){if(this.destroyPolicy==="unused")delete this._cache[Q],J.shader.destroy()}}}_hashShader($){return`${$.stage}:${$.source}`}}function Bs($,Q){let J={},Z="Values";if($.attributes.length===0&&!$.varyings?.length)return{"No attributes or varyings":{["Values"]:"N/A"}};for(let X of $.attributes)if(X){let W=`${X.location} ${X.name}: ${X.type}`;J[`in ${W}`]={["Values"]:X.stepMode||"vertex"}}for(let X of $.varyings||[]){let W=`${X.location} ${X.name}`;J[`out ${W}`]={["Values"]:JSON.stringify(X)}}return J}var m5=null,Ow=null;function Rs($,{id:Q,minimap:J,opaque:Z,top:X="0",left:W="0",rgbaScale:H=1}){if(!m5)m5=document.createElement("canvas"),m5.id=Q,m5.title=Q,m5.style.zIndex="100",m5.style.position="absolute",m5.style.top=X,m5.style.left=W,m5.style.border="blue 5px solid",m5.style.transform="scaleY(-1)",document.body.appendChild(m5),Ow=m5.getContext("2d");if(m5.width!==$.width||m5.height!==$.height)m5.width=$.width/2,m5.height=$.height/2,m5.style.width="400px",m5.style.height="400px";let F=$.device.readPixelsToArrayWebGL($),V=Ow?.createImageData($.width,$.height);if(V){for(let C=0;C<F.length;C+=4)V.data[0+C+0]=F[C+0]*H,V.data[0+C+1]=F[C+1]*H,V.data[0+C+2]=F[C+2]*H,V.data[0+C+3]=Z?255:F[C+3]*H;Ow?.putImageData(V,0,0)}}function IV($,Q,J){if($===Q)return!0;if(!J||!$||!Q)return!1;if(Array.isArray($)){if(!Array.isArray(Q)||$.length!==Q.length)return!1;for(let Z=0;Z<$.length;Z++)if(!IV($[Z],Q[Z],J-1))return!1;return!0}if(Array.isArray(Q))return!1;if(typeof $==="object"&&typeof Q==="object"){let Z=Object.keys($),X=Object.keys(Q);if(Z.length!==X.length)return!1;for(let W of Z){if(!Q.hasOwnProperty(W))return!1;if(!IV($[W],Q[W],J-1))return!1}return!0}return!1}function Os($){return ArrayBuffer.isView($)&&!($ instanceof DataView)}function ks($){if(Array.isArray($))return $.length===0||typeof $[0]==="number";return!1}function iY($){return Os($)||ks($)}function YN1($){return iY($)||typeof $==="number"||typeof $==="boolean"}function GV($){let Q={bindings:{},uniforms:{}};return Object.keys($).forEach((J)=>{let Z=$[J];if(YN1(Z))Q.uniforms[J]=Z;else Q.bindings[J]=Z}),Q}class kw{options={disableWarnings:!1};modules;moduleUniforms;moduleBindings;constructor($,Q){Object.assign(this.options,Q);let J=sJ(Object.values($).filter((Z)=>Z.dependencies));for(let Z of J)$[Z.name]=Z;X1.log(1,"Creating ShaderInputs with modules",Object.keys($))(),this.modules=$,this.moduleUniforms={},this.moduleBindings={};for(let[Z,X]of Object.entries($))if(this._addModule(X),X.name&&Z!==X.name&&!this.options.disableWarnings)X1.warn(`Module name: ${Z} vs ${X.name}`)()}destroy(){}setProps($){for(let Q of Object.keys($)){let J=Q,Z=$[J]||{},X=this.modules[J];if(!X){if(!this.options.disableWarnings)X1.warn(`Module ${Q} not found`)();continue}let W=this.moduleUniforms[J],H=this.moduleBindings[J],F=X.getUniforms?.(Z,W)||Z,{uniforms:V,bindings:D}=GV(F);this.moduleUniforms[J]={...W,...V},this.moduleBindings[J]={...H,...D}}}getModules(){return Object.values(this.modules)}getUniformValues(){return this.moduleUniforms}getBindingValues(){let $={};for(let Q of Object.values(this.moduleBindings))Object.assign($,Q);return $}getDebugTable(){let $={};for(let[Q,J]of Object.entries(this.moduleUniforms))for(let[Z,X]of Object.entries(J))$[`${Q}.${Z}`]={type:this.modules[Q].uniformTypes?.[Z],value:String(X)};return $}_addModule($){let Q=$.name;this.moduleUniforms[Q]=$.defaultUniforms||{},this.moduleBindings[Q]={}}}var WN1="";async function Ps($,Q){let J=new Image;return J.crossOrigin=Q?.crossOrigin||"anonymous",J.src=$.startsWith("http")?$:WN1+$,await J.decode(),Q?await createImageBitmap(J,Q):await createImageBitmap(J)}class nY{device;id;texture;sampler;view;ready;isReady=!1;destroyed=!1;resolveReady=()=>{};rejectReady=()=>{};get[Symbol.toStringTag](){return"AsyncTexture"}toString(){return`AsyncTexture:"${this.id}"(${this.isReady?"ready":"loading"})`}constructor($,Q){if(this.device=$,this.id=Q.id||J2("async-texture"),typeof Q?.data==="string"&&Q.dimension==="2d")Q={...Q,data:Ps(Q.data)};this.ready=new Promise((J,Z)=>{this.resolveReady=()=>{this.isReady=!0,J()},this.rejectReady=Z}),this.initAsync(Q)}async initAsync($){let Q=$.data,J;try{J=await Ms(Q)}catch(X){this.rejectReady(X)}if(this.destroyed)return;let Z={...$,data:J};this.texture=this.device.createTexture(Z),this.sampler=this.texture.sampler,this.view=this.texture.view,this.isReady=!0,this.resolveReady()}destroy(){if(this.texture)this.texture.destroy(),this.texture=null;this.destroyed=!0}resize($){if(!this.isReady)throw Error("Cannot resize texture before it is ready");if($.width===this.texture.width&&$.height===this.texture.height)return!1;if(this.texture){let Q=this.texture;this.texture=Q.clone($),Q.destroy()}return!0}}async function Ms($){if($=await $,Array.isArray($))return await Promise.all($.map(Ms));if($&&typeof $==="object"&&$.constructor===Object){let Q=$,J=await Promise.all(Object.values(Q)),Z=Object.keys(Q),X={};for(let W=0;W<Z.length;W++)X[Z[W]]=J[W];return X}return $}var c$=2,qN1=1e4;class c5{static defaultProps={...A3.defaultProps,source:void 0,vs:null,fs:null,id:"unnamed",handle:void 0,userData:{},defines:{},modules:[],moduleSettings:void 0,geometry:null,indexBuffer:null,attributes:{},constantAttributes:{},varyings:[],isInstanced:void 0,instanceCount:0,vertexCount:0,shaderInputs:void 0,pipelineFactory:void 0,shaderFactory:void 0,transformFeedback:void 0,shaderAssembler:C3.getDefaultShaderAssembler(),debugShaders:void 0,disableWarnings:void 0};device;id;source;vs;fs;pipelineFactory;shaderFactory;userData={};parameters;topology;bufferLayout;isInstanced=void 0;instanceCount=0;vertexCount;indexBuffer=null;bufferAttributes={};constantAttributes={};bindings={};uniforms={};vertexArray;transformFeedback=null;pipeline;shaderInputs;_uniformStore;_attributeInfos={};_gpuGeometry=null;_getModuleUniforms;props;_pipelineNeedsUpdate="newly created";_needsRedraw="initializing";_destroyed=!1;_lastDrawTimestamp=-1;get[Symbol.toStringTag](){return"Model"}toString(){return`Model(${this.id})`}constructor($,Q){this.props={...c5.defaultProps,...Q},Q=this.props,this.id=Q.id||J2("model"),this.device=$,Object.assign(this.userData,Q.userData);let J=Object.fromEntries(this.props.modules?.map((F)=>[F.name,F])||[]),Z=Q.shaderInputs||new kw(J,{disableWarnings:this.props.disableWarnings});this.setShaderInputs(Z);let X=FN1($),W=(this.props.modules?.length>0?this.props.modules:this.shaderInputs?.getModules())||[];if(this.device.type==="webgpu"&&this.props.source){let{source:F,getUniforms:V}=this.props.shaderAssembler.assembleWGSLShader({platformInfo:X,...this.props,modules:W});this.source=F,this._getModuleUniforms=V,this.props.shaderLayout||=qM(this.source)}else{let{vs:F,fs:V,getUniforms:D}=this.props.shaderAssembler.assembleGLSLShaderPair({platformInfo:X,...this.props,modules:W});this.vs=F,this.fs=V,this._getModuleUniforms=D}if(this.vertexCount=this.props.vertexCount,this.instanceCount=this.props.instanceCount,this.topology=this.props.topology,this.bufferLayout=this.props.bufferLayout,this.parameters=this.props.parameters,Q.geometry)this.setGeometry(Q.geometry);if(this.pipelineFactory=Q.pipelineFactory||SV.getDefaultPipelineFactory(this.device),this.shaderFactory=Q.shaderFactory||TV.getDefaultShaderFactory(this.device),this.pipeline=this._updatePipeline(),this.vertexArray=$.createVertexArray({renderPipeline:this.pipeline}),this._gpuGeometry)this._setGeometryAttributes(this._gpuGeometry);if("isInstanced"in Q)this.isInstanced=Q.isInstanced;if(Q.instanceCount)this.setInstanceCount(Q.instanceCount);if(Q.vertexCount)this.setVertexCount(Q.vertexCount);if(Q.indexBuffer)this.setIndexBuffer(Q.indexBuffer);if(Q.attributes)this.setAttributes(Q.attributes);if(Q.constantAttributes)this.setConstantAttributes(Q.constantAttributes);if(Q.bindings)this.setBindings(Q.bindings);if(Q.uniforms)this.setUniformsWebGL(Q.uniforms);if(Q.moduleSettings)this.updateModuleSettingsWebGL(Q.moduleSettings);if(Q.transformFeedback)this.transformFeedback=Q.transformFeedback;Object.seal(this)}destroy(){if(this._destroyed)return;if(this.pipelineFactory.release(this.pipeline),this.shaderFactory.release(this.pipeline.vs),this.pipeline.fs)this.shaderFactory.release(this.pipeline.fs);this._uniformStore.destroy(),this._gpuGeometry?.destroy(),this._destroyed=!0}needsRedraw(){if(this._getBindingsUpdateTimestamp()>this._lastDrawTimestamp)this.setNeedsRedraw("contents of bound textures or buffers updated");let $=this._needsRedraw;return this._needsRedraw=!1,$}setNeedsRedraw($){this._needsRedraw||=$}predraw(){this.updateShaderInputs(),this.pipeline=this._updatePipeline()}draw($){let Q=this._areBindingsLoading();if(Q)return X1.info(c$,`>>> DRAWING ABORTED ${this.id}: ${Q} not loaded`)(),!1;try{$.pushDebugGroup(`${this}.predraw(${$})`),this.predraw()}finally{$.popDebugGroup()}let J;try{$.pushDebugGroup(`${this}.draw(${$})`),this._logDrawCallStart(),this.pipeline=this._updatePipeline();let Z=this._getBindings();if(this.pipeline.setBindings(Z,{disableWarnings:this.props.disableWarnings}),!Pw(this.uniforms))this.pipeline.setUniformsWebGL(this.uniforms);let{indexBuffer:X}=this.vertexArray,W=X?X.byteLength/(X.indexType==="uint32"?4:2):void 0;J=this.pipeline.draw({renderPass:$,vertexArray:this.vertexArray,isInstanced:this.isInstanced,vertexCount:this.vertexCount,instanceCount:this.instanceCount,indexCount:W,transformFeedback:this.transformFeedback||void 0,parameters:this.parameters,topology:this.topology})}finally{$.popDebugGroup(),this._logDrawCallEnd()}if(this._logFramebuffer($),J)this._lastDrawTimestamp=this.device.timestamp,this._needsRedraw=!1;else this._needsRedraw="waiting for resource initialization";return J}setGeometry($){this._gpuGeometry?.destroy();let Q=$&&zs(this.device,$);if(Q){this.setTopology(Q.topology||"triangle-list");let J=new $Z(this.bufferLayout);if(this.bufferLayout=J.mergeBufferLayouts(Q.bufferLayout,this.bufferLayout),this.vertexArray)this._setGeometryAttributes(Q)}this._gpuGeometry=Q}setTopology($){if($!==this.topology)this.topology=$,this._setPipelineNeedsUpdate("topology")}setBufferLayout($){let Q=new $Z(this.bufferLayout);if(this.bufferLayout=this._gpuGeometry?Q.mergeBufferLayouts($,this._gpuGeometry.bufferLayout):$,this._setPipelineNeedsUpdate("bufferLayout"),this.pipeline=this._updatePipeline(),this.vertexArray=this.device.createVertexArray({renderPipeline:this.pipeline}),this._gpuGeometry)this._setGeometryAttributes(this._gpuGeometry)}setParameters($){if(!IV($,this.parameters,2))this.parameters=$,this._setPipelineNeedsUpdate("parameters")}setInstanceCount($){if(this.instanceCount=$,this.isInstanced===void 0&&$>0)this.isInstanced=!0;this.setNeedsRedraw("instanceCount")}setVertexCount($){this.vertexCount=$,this.setNeedsRedraw("vertexCount")}setShaderInputs($){this.shaderInputs=$,this._uniformStore=new _U(this.shaderInputs.modules);for(let[Q,J]of Object.entries(this.shaderInputs.modules))if(HN1(J)){let Z=this._uniformStore.getManagedUniformBuffer(this.device,Q);this.bindings[`${Q}Uniforms`]=Z}this.setNeedsRedraw("shaderInputs")}updateShaderInputs(){this._uniformStore.setUniforms(this.shaderInputs.getUniformValues()),this.setBindings(this.shaderInputs.getBindingValues()),this.setNeedsRedraw("shaderInputs")}setBindings($){Object.assign(this.bindings,$),this.setNeedsRedraw("bindings")}setTransformFeedback($){this.transformFeedback=$,this.setNeedsRedraw("transformFeedback")}setIndexBuffer($){this.vertexArray.setIndexBuffer($),this.setNeedsRedraw("indexBuffer")}setAttributes($,Q){let J=Q?.disableWarnings??this.props.disableWarnings;if($.indices)X1.warn(`Model:${this.id} setAttributes() - indexBuffer should be set using setIndexBuffer()`)();this.bufferLayout=EP(this.pipeline.shaderLayout,this.bufferLayout);let Z=new $Z(this.bufferLayout);for(let[X,W]of Object.entries($)){let H=Z.getBufferLayout(X);if(!H){if(!J)X1.warn(`Model(${this.id}): Missing layout for buffer "${X}".`)();continue}let F=Z.getAttributeNamesForBuffer(H),V=!1;for(let D of F){let C=this._attributeInfos[D];if(C){let z=this.device.type==="webgpu"?Z.getBufferIndex(C.bufferName):C.location;this.vertexArray.setBuffer(z,W),V=!0}}if(!V&&!J)X1.warn(`Model(${this.id}): Ignoring buffer "${W.id}" for unknown attribute "${X}"`)()}this.setNeedsRedraw("attributes")}setConstantAttributes($,Q){for(let[J,Z]of Object.entries($)){let X=this._attributeInfos[J];if(X)this.vertexArray.setConstantWebGL(X.location,Z);else if(!(Q?.disableWarnings??this.props.disableWarnings))X1.warn(`Model "${this.id}: Ignoring constant supplied for unknown attribute "${J}"`)()}this.setNeedsRedraw("constants")}setUniforms($){this.setUniformsWebGL($)}setUniformsWebGL($){if(!Pw($))this.pipeline.setUniformsWebGL($),Object.assign(this.uniforms,$);this.setNeedsRedraw("uniforms")}updateModuleSettingsWebGL($){let{bindings:Q,uniforms:J}=GV(this._getModuleUniforms($));Object.assign(this.bindings,Q),Object.assign(this.uniforms,J),this.setNeedsRedraw("moduleSettings")}_areBindingsLoading(){for(let $ of Object.values(this.bindings))if($ instanceof nY&&!$.isReady)return $.id;return!1}_getBindings(){let $={};for(let[Q,J]of Object.entries(this.bindings))if(J instanceof nY){if(J.isReady)$[Q]=J.texture}else $[Q]=J;return $}_getBindingsUpdateTimestamp(){let $=0;for(let Q of Object.values(this.bindings))if(Q instanceof h$)$=Math.max($,Q.texture.updateTimestamp);else if(Q instanceof U0||Q instanceof A0)$=Math.max($,Q.updateTimestamp);else if(Q instanceof nY)$=Q.texture?Math.max($,Q.texture.updateTimestamp):1/0;else if(!(Q instanceof n9))$=Math.max($,Q.buffer.updateTimestamp);return $}_setGeometryAttributes($){let Q={...$.attributes};for(let[J]of Object.entries(Q))if(!this.pipeline.shaderLayout.attributes.find((Z)=>Z.name===J)&&J!=="positions")delete Q[J];this.vertexCount=$.vertexCount,this.setIndexBuffer($.indices||null),this.setAttributes($.attributes,{disableWarnings:!0}),this.setAttributes(Q,{disableWarnings:this.props.disableWarnings}),this.setNeedsRedraw("geometry attributes")}_setPipelineNeedsUpdate($){this._pipelineNeedsUpdate||=$,this.setNeedsRedraw($)}_updatePipeline(){if(this._pipelineNeedsUpdate){let $=null,Q=null;if(this.pipeline)X1.log(1,`Model ${this.id}: Recreating pipeline because "${this._pipelineNeedsUpdate}".`)(),$=this.pipeline.vs,Q=this.pipeline.fs;this._pipelineNeedsUpdate=!1;let J=this.shaderFactory.createShader({id:`${this.id}-vertex`,stage:"vertex",source:this.source||this.vs,debugShaders:this.props.debugShaders}),Z=null;if(this.source)Z=J;else if(this.fs)Z=this.shaderFactory.createShader({id:`${this.id}-fragment`,stage:"fragment",source:this.source||this.fs,debugShaders:this.props.debugShaders});if(this.pipeline=this.pipelineFactory.createRenderPipeline({...this.props,bufferLayout:this.bufferLayout,topology:this.topology,parameters:this.parameters,bindings:this._getBindings(),vs:J,fs:Z}),this._attributeInfos=hU(this.pipeline.shaderLayout,this.bufferLayout),$)this.shaderFactory.release($);if(Q)this.shaderFactory.release(Q)}return this.pipeline}_lastLogTime=0;_logOpen=!1;_logDrawCallStart(){let $=X1.level>3?0:qN1;if(X1.level<2||Date.now()-this._lastLogTime<$)return;this._lastLogTime=Date.now(),this._logOpen=!0,X1.group(c$,`>>> DRAWING MODEL ${this.id}`,{collapsed:X1.level<=2})()}_logDrawCallEnd(){if(this._logOpen){let $=Bs(this.pipeline.shaderLayout,this.id);X1.table(c$,$)();let Q=this.shaderInputs.getDebugTable();for(let[Z,X]of Object.entries(this.uniforms))Q[Z]={value:X};X1.table(c$,Q)();let J=this._getAttributeDebugTable();X1.table(c$,this._attributeInfos)(),X1.table(c$,J)(),X1.groupEnd(c$)(),this._logOpen=!1}}_drawCount=0;_logFramebuffer($){let Q=this.device.props.debugFramebuffers;if(this._drawCount++,!Q)return;let J=$.props.framebuffer;if(J)Rs(J,{id:J.id,minimap:!0})}_getAttributeDebugTable(){let $={};for(let[Q,J]of Object.entries(this._attributeInfos)){let Z=this.vertexArray.attributes[J.location];$[J.location]={name:Q,type:J.shaderType,values:Z?this._getBufferOrConstantValues(Z,J.bufferDataType):"null"}}if(this.vertexArray.indexBuffer){let{indexBuffer:Q}=this.vertexArray,J=Q.indexType==="uint32"?new Uint32Array(Q.debugData):new Uint16Array(Q.debugData);$.indices={name:"indices",type:Q.indexType,values:J.toString()}}return $}_getBufferOrConstantValues($,Q){let J=OY(Q);return($ instanceof U0?new J($.debugData):$).toString()}}function HN1($){return Boolean($.uniformTypes&&!Pw($.uniformTypes))}function FN1($){return{type:$.type,shaderLanguage:$.info.shadingLanguage,shaderLanguageVersion:$.info.shadingLanguageVersion,gpu:$.info.gpu,features:$.features}}function Pw($){for(let Q in $)return!1;return!0}class M8{device;model;transformFeedback;static defaultProps={...c5.defaultProps,outputs:void 0,feedbackBuffers:void 0};static isSupported($){return $?.info?.type==="webgl"}constructor($,Q=M8.defaultProps){if(!M8.isSupported($))throw Error("BufferTransform not yet implemented on WebGPU");this.device=$,this.model=new c5(this.device,{id:Q.id||"buffer-transform-model",fs:Q.fs||OP(),topology:Q.topology||"point-list",varyings:Q.outputs||Q.varyings,...Q}),this.transformFeedback=this.device.createTransformFeedback({layout:this.model.pipeline.shaderLayout,buffers:Q.feedbackBuffers}),this.model.setTransformFeedback(this.transformFeedback),Object.seal(this)}destroy(){if(this.model)this.model.destroy()}delete(){this.destroy()}run($){if($?.inputBuffers)this.model.setAttributes($.inputBuffers);if($?.outputBuffers)this.transformFeedback.setBuffers($.outputBuffers);let Q=this.device.beginRenderPass($);this.model.draw(Q),Q.end()}getBuffer($){return this.transformFeedback.getBuffer($)}readAsync($){let Q=this.getBuffer($);if(!Q)throw Error("BufferTransform#getBuffer");if(Q instanceof U0)return Q.readAsync();let{buffer:J,byteOffset:Z=0,byteLength:X=J.byteLength}=Q;return J.readAsync(Z,X)}}class q4{id;topology;vertexCount;indices;attributes;userData={};constructor($){let{attributes:Q={},indices:J=null,vertexCount:Z=null}=$;if(this.id=$.id||J2("geometry"),this.topology=$.topology,J)this.indices=ArrayBuffer.isView(J)?{value:J,size:1}:J;this.attributes={};for(let[X,W]of Object.entries(Q)){let H=ArrayBuffer.isView(W)?{value:W}:W;if(!ArrayBuffer.isView(H.value))throw Error(`${this._print(X)}: must be typed array or object with value as typed array`);if((X==="POSITION"||X==="positions")&&!H.size)H.size=3;if(X==="indices"){if(this.indices)throw Error("Multiple indices detected");this.indices=H}else this.attributes[X]=H}if(this.indices&&this.indices.isIndexed!==void 0)this.indices=Object.assign({},this.indices),delete this.indices.isIndexed;this.vertexCount=Z||this._calculateVertexCount(this.attributes,this.indices)}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print($){return`Geometry ${this.id} attribute ${$}`}_setAttributes($,Q){return this}_calculateVertexCount($,Q){if(Q)return Q.value.length;let J=1/0;for(let Z of Object.values($)){let{value:X,size:W,constant:H}=Z;if(!H&&X&&W!==void 0&&W>=1)J=Math.min(J,X.length/W)}return J}}var UN1={blendColorOperation:"add",blendColorSrcFactor:"one",blendColorDstFactor:"zero",blendAlphaOperation:"add",blendAlphaSrcFactor:"constant-alpha",blendAlphaDstFactor:"zero"};class BZ extends Q2{constructor(){super(...arguments);this._colorEncoderState=null}render($){if("pickingFBO"in $)return this._drawPickingBuffer($);return super.render($)}_drawPickingBuffer({layers:$,layerFilter:Q,views:J,viewports:Z,onViewportActive:X,pickingFBO:W,deviceRect:{x:H,y:F,width:V,height:D},cullRect:C,effects:z,pass:R="picking",pickZ:k,shaderModuleProps:P}){this.pickZ=k;let S=this._resetColorEncoder(k),T=[H,F,V,D],_=super.render({target:W,layers:$,layerFilter:Q,views:J,viewports:Z,onViewportActive:X,cullRect:C,effects:z?.filter((L)=>L.useInPicking),pass:R,isPicking:!0,shaderModuleProps:P,clearColor:[0,0,0,0],colorMask:15,scissorRect:T});return this._colorEncoderState=null,{decodePickingColor:S&&NN1.bind(null,S),stats:_}}shouldDrawLayer($){let{pickable:Q,operation:J}=$.props;return Q&&J.includes("draw")||J.includes("terrain")||J.includes("mask")}getShaderModuleProps($,Q,J){return{picking:{isActive:1,isAttribute:this.pickZ},lighting:{enabled:!1}}}getLayerParameters($,Q,J){let Z={...$.props.parameters},{pickable:X,operation:W}=$.props;if(!this._colorEncoderState||W.includes("terrain"))Z.blend=!1;else if(X&&W.includes("draw"))Object.assign(Z,UN1),Z.blend=!0,Z.blendColor=VN1(this._colorEncoderState,$,J);return Z}_resetColorEncoder($){return this._colorEncoderState=$?null:{byLayer:new Map,byAlpha:[]},this._colorEncoderState}}function VN1($,Q,J){let{byLayer:Z,byAlpha:X}=$,W,H=Z.get(Q);if(H)H.viewports.push(J),W=H.a;else if(W=Z.size+1,W<=255)H={a:W,layer:Q,viewports:[J]},Z.set(Q,H),X[W]=H;else S1.warn("Too many pickable layers, only picking the first 255")(),W=0;return[0,0,0,W/255]}function NN1($,Q){let J=$.byAlpha[Q[3]];return J&&{pickedLayer:J.layer,pickedViewports:J.viewports,pickedObjectIndex:J.layer.decodePickingColor(Q)}}var Z2={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},d$=Symbol.for("component"),H4=Symbol.for("propTypes"),EV=Symbol.for("deprecatedProps"),w8=Symbol.for("asyncPropDefaults"),w3=Symbol.for("asyncPropOriginal"),G7=Symbol.for("asyncPropResolved");function RZ($,Q=()=>!0){if(!Array.isArray($))return Q($)?[$]:[];return ws($,Q,[])}function ws($,Q,J){let Z=-1;while(++Z<$.length){let X=$[Z];if(Array.isArray(X))ws(X,Q,J);else if(Q(X))J.push(X)}return J}function Ss({target:$,source:Q,start:J=0,count:Z=1}){let X=Q.length,W=Z*X,H=0;for(let F=J;H<X;H++)$[F++]=Q[H];while(H<W)if(H<W-H)$.copyWithin(J+H,J,J+H),H*=2;else $.copyWithin(J+H,J,J+W-H),H=W;return $}class jV{constructor($,Q,J){this._loadCount=0,this._subscribers=new Set,this.id=$,this.context=J,this.setData(Q)}subscribe($){this._subscribers.add($)}unsubscribe($){this._subscribers.delete($)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then(()=>this.getData())}setData($,Q){if($===this._data&&!Q)return;this._data=$;let J=++this._loadCount,Z=$;if(typeof $==="string")Z=p9($);if(Z instanceof Promise)this.isLoaded=!1,this._loader=Z.then((X)=>{if(this._loadCount===J)this.isLoaded=!0,this._error=void 0,this._content=X}).catch((X)=>{if(this._loadCount===J)this.isLoaded=!0,this._error=X||!0});else this.isLoaded=!0,this._error=void 0,this._content=$;for(let X of this._subscribers)X.onChange(this.getData())}}class LV{constructor($){this.protocol=$.protocol||"resource://",this._context={device:$.device,gl:$.device?.gl,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains($){if($.startsWith(this.protocol))return!0;return $ in this._resources}add({resourceId:$,data:Q,forceUpdate:J=!1,persistent:Z=!0}){let X=this._resources[$];if(X)X.setData(Q,J);else X=new jV($,Q,this._context),this._resources[$]=X;X.persistent=Z}remove($){let Q=this._resources[$];if(Q)Q.delete(),delete this._resources[$]}unsubscribe({consumerId:$}){let Q=this._consumers[$];if(Q){for(let J in Q){let Z=Q[J],X=this._resources[Z.resourceId];if(X)X.unsubscribe(Z)}delete this._consumers[$],this.prune()}}subscribe({resourceId:$,onChange:Q,consumerId:J,requestId:Z="default"}){let{_resources:X,protocol:W}=this;if($.startsWith(W)){if($=$.replace(W,""),!X[$])this.add({resourceId:$,data:null,persistent:!1})}let H=X[$];if(this._track(J,Z,H,Q),H)return H.getData();return}prune(){if(!this._pruneRequest)this._pruneRequest=setTimeout(()=>this._prune(),0)}finalize(){for(let $ in this._resources)this._resources[$].delete()}_track($,Q,J,Z){let X=this._consumers,W=X[$]=X[$]||{},H=W[Q],F=H&&H.resourceId&&this._resources[H.resourceId];if(F)F.unsubscribe(H),this.prune();if(J){if(H)H.onChange=Z,H.resourceId=J.id;else H={onChange:Z,resourceId:J.id};W[Q]=H,J.subscribe(H)}}_prune(){this._pruneRequest=null;for(let $ of Object.keys(this._resources)){let Q=this._resources[$];if(!Q.persistent&&!Q.inUse())Q.delete(),delete this._resources[$]}}}var DN1="layerManager.setLayers",CN1="layerManager.activateViewport";class hV{constructor($,Q){this._lastRenderedLayers=[],this._needsRedraw=!1,this._needsUpdate=!1,this._nextLayers=null,this._debug=!1,this._defaultShaderModulesChanged=!1,this.activateViewport=(H)=>{if(U5(CN1,this,H),H)this.context.viewport=H};let{deck:J,stats:Z,viewport:X,timeline:W}=Q||{};this.layers=[],this.resourceManager=new LV({device:$,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,device:$,gl:$?.gl,deck:J,shaderAssembler:Zs($?.info?.shadingLanguage||"glsl"),defaultShaderModules:[iM],renderPass:void 0,stats:Z||new M7({id:"deck.gl"}),viewport:X||new PV({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:W||new zZ,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(let $ of this.layers)this._finalizeLayer($)}needsRedraw($={clearRedrawFlags:!1}){let Q=this._needsRedraw;if($.clearRedrawFlags)this._needsRedraw=!1;for(let J of this.layers){let Z=J.getNeedsRedraw($);Q=Q||Z}return Q}needsUpdate(){if(this._nextLayers&&this._nextLayers!==this._lastRenderedLayers)return"layers changed";if(this._defaultShaderModulesChanged)return"shader modules changed";return this._needsUpdate}setNeedsRedraw($){this._needsRedraw=this._needsRedraw||$}setNeedsUpdate($){this._needsUpdate=this._needsUpdate||$}getLayers({layerIds:$}={}){return $?this.layers.filter((Q)=>$.find((J)=>Q.id.indexOf(J)===0)):this.layers}setProps($){if("debug"in $)this._debug=$.debug;if("userData"in $)this.context.userData=$.userData;if("layers"in $)this._nextLayers=$.layers;if("onError"in $)this.context.onError=$.onError}setLayers($,Q){U5(DN1,this,Q,$),this._lastRenderedLayers=$;let J=RZ($,Boolean);for(let Z of J)Z.context=this.context;this._updateLayers(this.layers,J)}updateLayers(){let $=this.needsUpdate();if($)this.setNeedsRedraw(`updating layers: ${$}`),this.setLayers(this._nextLayers||this._lastRenderedLayers,$);this._nextLayers=null}addDefaultShaderModule($){let{defaultShaderModules:Q}=this.context;if(!Q.find((J)=>J.name===$.name))Q.push($),this._defaultShaderModulesChanged=!0}removeDefaultShaderModule($){let{defaultShaderModules:Q}=this.context,J=Q.findIndex((Z)=>Z.name===$.name);if(J>=0)Q.splice(J,1),this._defaultShaderModulesChanged=!0}_handleError($,Q,J){J.raiseError(Q,`${$} of ${J}`)}_updateLayers($,Q){let J={};for(let W of $)if(J[W.id])S1.warn(`Multiple old layers with same id ${W.id}`)();else J[W.id]=W;if(this._defaultShaderModulesChanged){for(let W of $)W.setNeedsUpdate(),W.setChangeFlags({extensionsChanged:!0});this._defaultShaderModulesChanged=!1}let Z=[];this._updateSublayersRecursively(Q,J,Z),this._finalizeOldLayers(J);let X=!1;for(let W of Z)if(W.hasUniformTransition()){X=`Uniform transition in ${W}`;break}this._needsUpdate=X,this.layers=Z}_updateSublayersRecursively($,Q,J){for(let Z of $){Z.context=this.context;let X=Q[Z.id];if(X===null)S1.warn(`Multiple new layers with same id ${Z.id}`)();Q[Z.id]=null;let W=null;try{if(this._debug&&X!==Z)Z.validateProps();if(!X)this._initializeLayer(Z);else this._transferLayerState(X,Z),this._updateLayer(Z);J.push(Z),W=Z.isComposite?Z.getSubLayers():null}catch(H){this._handleError("matching",H,Z)}if(W)this._updateSublayersRecursively(W,Q,J)}}_finalizeOldLayers($){for(let Q in $){let J=$[Q];if(J)this._finalizeLayer(J)}}_initializeLayer($){try{$._initialize(),$.lifecycle=Z2.INITIALIZED}catch(Q){this._handleError("initialization",Q,$)}}_transferLayerState($,Q){if(Q._transferState($),Q.lifecycle=Z2.MATCHED,Q!==$)$.lifecycle=Z2.AWAITING_GC}_updateLayer($){try{$._update()}catch(Q){this._handleError("update",Q,$)}}_finalizeLayer($){this._needsRedraw=this._needsRedraw||`finalized ${$}`,$.lifecycle=Z2.AWAITING_FINALIZATION;try{$._finalize(),$.lifecycle=Z2.FINALIZED}catch(Q){this._handleError("finalization",Q,$)}}}function r5($,Q,J){if($===Q)return!0;if(!J||!$||!Q)return!1;if(Array.isArray($)){if(!Array.isArray(Q)||$.length!==Q.length)return!1;for(let Z=0;Z<$.length;Z++)if(!r5($[Z],Q[Z],J-1))return!1;return!0}if(Array.isArray(Q))return!1;if(typeof $==="object"&&typeof Q==="object"){let Z=Object.keys($),X=Object.keys(Q);if(Z.length!==X.length)return!1;for(let W of Z){if(!Q.hasOwnProperty(W))return!1;if(!r5($[W],Q[W],J-1))return!1}return!0}return!1}class vV{constructor($){this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=$.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=$.eventManager,this._eventCallbacks={onViewStateChange:$.onViewStateChange,onInteractionStateChange:$.onInteractionStateChange},Object.seal(this),this.setProps($)}finalize(){for(let $ in this.controllers){let Q=this.controllers[$];if(Q)Q.finalize()}this.controllers={}}needsRedraw($={clearRedrawFlags:!1}){let Q=this._needsRedraw;if($.clearRedrawFlags)this._needsRedraw=!1;return Q}setNeedsUpdate($){this._needsUpdate=this._needsUpdate||$,this._needsRedraw=this._needsRedraw||$}updateViewStates(){for(let $ in this.controllers){let Q=this.controllers[$];if(Q)Q.updateTransition()}}getViewports($){if($)return this._viewports.filter((Q)=>Q.containsPixel($));return this._viewports}getViews(){let $={};return this.views.forEach((Q)=>{$[Q.id]=Q}),$}getView($){return this.views.find((Q)=>Q.id===$)}getViewState($){let Q=typeof $==="string"?this.getView($):$,J=Q&&this.viewState[Q.getViewStateId()]||this.viewState;return Q?Q.filterViewState(J):J}getViewport($){return this._viewportMap[$]}unproject($,Q){let J=this.getViewports(),Z={x:$[0],y:$[1]};for(let X=J.length-1;X>=0;--X){let W=J[X];if(W.containsPixel(Z)){let H=$.slice();return H[0]-=W.x,H[1]-=W.y,W.unproject(H,Q)}}return null}setProps($){if($.views)this._setViews($.views);if($.viewState)this._setViewState($.viewState);if("width"in $||"height"in $)this._setSize($.width,$.height);if(!this._isUpdating)this._update()}_update(){if(this._isUpdating=!0,this._needsUpdate)this._needsUpdate=!1,this._rebuildViewports();if(this._needsUpdate)this._needsUpdate=!1,this._rebuildViewports();this._isUpdating=!1}_setSize($,Q){if($!==this.width||Q!==this.height)this.width=$,this.height=Q,this.setNeedsUpdate("Size changed")}_setViews($){if($=RZ($,Boolean),this._diffViews($,this.views))this.setNeedsUpdate("views changed");this.views=$}_setViewState($){if($){if(!r5($,this.viewState,3))this.setNeedsUpdate("viewState changed");this.viewState=$}else S1.warn("missing `viewState` or `initialViewState`")()}_createController($,Q){return new Q.type({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._eventCallbacks.onViewStateChange,onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:(X)=>this.getView($.id)?.makeViewport({viewState:X,width:this.width,height:this.height})})}_updateController($,Q,J,Z){let X=$.controller;if(X&&J){let W={...Q,...X,id:$.id,x:J.x,y:J.y,width:J.width,height:J.height};if(!Z||Z.constructor!==X.type)Z=this._createController($,W);if(Z)Z.setProps(W);return Z}return null}_rebuildViewports(){let{views:$}=this,Q=this.controllers;this._viewports=[],this.controllers={};let J=!1;for(let Z=$.length;Z--;){let X=$[Z],W=this.getViewState(X),H=X.makeViewport({viewState:W,width:this.width,height:this.height}),F=Q[X.id],V=Boolean(X.controller);if(V&&!F)J=!0;if((J||!V)&&F)F.finalize(),F=null;if(this.controllers[X.id]=this._updateController(X,W,H,F),H)this._viewports.unshift(H)}for(let Z in Q){let X=Q[Z];if(X&&!this.controllers[Z])X.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach(($)=>{if($.id)this._viewportMap[$.id]=this._viewportMap[$.id]||$})}_diffViews($,Q){if($.length!==Q.length)return!0;return $.some((J,Z)=>!$[Z].equals(Q[Z]))}}var AN1=/([0-9]+\.?[0-9]*)(%|px)/;function S8($){switch(typeof $){case"number":return{position:$,relative:!1};case"string":let Q=AN1.exec($);if(Q&&Q.length>=3){let J=Q[2]==="%",Z=parseFloat(Q[1]);return{position:J?Z/100:Z,relative:J}}default:throw Error(`Could not parse position string ${$}`)}}function T8($,Q){return $.relative?Math.round($.position*Q):$.position}class t4{constructor($){let{id:Q,x:J=0,y:Z=0,width:X="100%",height:W="100%",padding:H=null}=$;this.id=Q||this.constructor.displayName||"view",this.props={...$,id:this.id},this._x=S8(J),this._y=S8(Z),this._width=S8(X),this._height=S8(W),this._padding=H&&{left:S8(H.left||0),right:S8(H.right||0),top:S8(H.top||0),bottom:S8(H.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals($){if(this===$)return!0;return this.constructor===$.constructor&&r5(this.props,$.props,2)}makeViewport({width:$,height:Q,viewState:J}){J=this.filterViewState(J);let Z=this.getDimensions({width:$,height:Q});if(!Z.height||!Z.width)return null;return new(this.getViewportType(J))({...J,...this.props,...Z})}getViewStateId(){let{viewState:$}=this.props;if(typeof $==="string")return $;return $?.id||this.id}filterViewState($){if(this.props.viewState&&typeof this.props.viewState==="object"){if(!this.props.viewState.id)return this.props.viewState;let Q={...$};for(let J in this.props.viewState)if(J!=="id")Q[J]=this.props.viewState[J];return Q}return $}getDimensions({width:$,height:Q}){let J={x:T8(this._x,$),y:T8(this._y,Q),width:T8(this._width,$),height:T8(this._height,Q)};if(this._padding)J.padding={left:T8(this._padding.left,$),top:T8(this._padding.top,Q),right:T8(this._padding.right,$),bottom:T8(this._padding.bottom,Q)};return J}get controller(){let $=this.props.controller;if(!$)return null;if($===!0)return{type:this.ControllerType};if(typeof $==="function")return{type:$};return{type:this.ControllerType,...$}}}class S3{constructor($){this._inProgress=!1,this._handle=null,this.time=0,this.settings={duration:0},this._timeline=$}get inProgress(){return this._inProgress}start($){this.cancel(),this.settings=$,this._inProgress=!0,this.settings.onStart?.(this)}end(){if(this._inProgress)this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,this.settings.onEnd?.(this)}cancel(){if(this._inProgress)this.settings.onInterrupt?.(this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1}update(){if(!this._inProgress)return!1;if(this._handle===null){let{_timeline:$,settings:Q}=this;this._handle=$.addChannel({delay:$.getTime(),duration:Q.duration})}if(this.time=this._timeline.getTime(this._handle),this._onUpdate(),this.settings.onUpdate?.(this),this._timeline.isFinished(this._handle))this.end();return!0}_onUpdate(){}}var Ts=()=>{},Mw={BREAK:1,SNAP_TO_END:2,IGNORE:3},zN1=($)=>$,BN1=Mw.BREAK;class _V{constructor($){this._onTransitionUpdate=(Q)=>{let{time:J,settings:{interpolator:Z,startProps:X,endProps:W,duration:H,easing:F}}=Q,V=F(J/H),D=Z.interpolateProps(X,W,V);this.propsInTransition=this.getControllerState({...this.props,...D}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})},this.getControllerState=$.getControllerState,this.propsInTransition=null,this.transition=new S3($.timeline),this.onViewStateChange=$.onViewStateChange||Ts,this.onStateChange=$.onStateChange||Ts}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange($){let Q=!1,J=this.props;if(this.props=$,!J||this._shouldIgnoreViewportChange(J,$))return!1;if(this._isTransitionEnabled($)){let Z=J;if(this.transition.inProgress){let{interruption:X,endProps:W}=this.transition.settings;Z={...J,...X===Mw.SNAP_TO_END?W:this.propsInTransition||J}}this._triggerTransition(Z,$),Q=!0}else this.transition.cancel();return Q}updateTransition(){this.transition.update()}_isTransitionEnabled($){let{transitionDuration:Q,transitionInterpolator:J}=$;return(Q>0||Q==="auto")&&Boolean(J)}_isUpdateDueToCurrentTransition($){if(this.transition.inProgress&&this.propsInTransition)return this.transition.settings.interpolator.arePropsEqual($,this.propsInTransition);return!1}_shouldIgnoreViewportChange($,Q){if(this.transition.inProgress)return this.transition.settings.interruption===Mw.IGNORE||this._isUpdateDueToCurrentTransition(Q);if(this._isTransitionEnabled(Q))return Q.transitionInterpolator.arePropsEqual($,Q);return!0}_triggerTransition($,Q){let J=this.getControllerState($),Z=this.getControllerState(Q).shortestPathFrom(J),X=Q.transitionInterpolator,W=X.getDuration?X.getDuration($,Q):Q.transitionDuration;if(W===0)return;let H=X.initializeProps($,Z);this.propsInTransition={};let F={duration:W,easing:Q.transitionEasing||zN1,interpolator:X,interruption:Q.transitionInterruption||BN1,startProps:H.start,endProps:H.end,onStart:Q.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(Q.onTransitionInterrupt),onEnd:this._onTransitionEnd(Q.onTransitionEnd)};this.transition.start(F),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd($){return(Q)=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),$?.(Q)}}}function t0($,Q){if(!$)throw Error(Q||"deck.gl: assertion failed.")}class xV{constructor($){let{compare:Q,extract:J,required:Z}=$;this._propsToCompare=Q,this._propsToExtract=J||Q,this._requiredProps=Z}arePropsEqual($,Q){for(let J of this._propsToCompare)if(!(J in $)||!(J in Q)||!O8($[J],Q[J]))return!1;return!0}initializeProps($,Q){let J={},Z={};for(let X of this._propsToExtract)if(X in $||X in Q)J[X]=$[X],Z[X]=Q[X];return this._checkRequiredProps(J),this._checkRequiredProps(Z),{start:J,end:Z}}getDuration($,Q){return Q.transitionDuration}_checkRequiredProps($){if(!this._requiredProps)return;this._requiredProps.forEach((Q)=>{let J=$[Q];t0(Number.isFinite(J)||Array.isArray(J),`${Q} is required for transition`)})}}var RN1=["longitude","latitude","zoom","bearing","pitch"],ON1=["longitude","latitude","zoom"];class OZ extends xV{constructor($={}){let Q=Array.isArray($)?$:$.transitionProps,J=Array.isArray($)?{}:$;J.transitionProps=Array.isArray(Q)?{compare:Q,required:Q}:Q||{compare:RN1,required:ON1};super(J.transitionProps);this.opts=J}initializeProps($,Q){let J=super.initializeProps($,Q),{makeViewport:Z,around:X}=this.opts;if(Z&&X){let W=Z($),H=Z(Q),F=W.unproject(X);J.start.around=X,Object.assign(J.end,{around:H.project(F),aroundPosition:F,width:Q.width,height:Q.height})}return J}interpolateProps($,Q,J){let Z={};for(let X of this._propsToExtract)Z[X]=y$($[X]||0,Q[X]||0,J);if(Q.aroundPosition&&this.opts.makeViewport){let X=this.opts.makeViewport({...Q,...Z});Object.assign(Z,X.panByPosition(Q.aroundPosition,y$($.around,Q.around,J)))}return Z}}var I8={transitionDuration:0},kN1=300,gV=($)=>1-(1-$)*(1-$),kZ={WHEEL:["wheel"],PAN:["panstart","panmove","panend"],PINCH:["pinchstart","pinchmove","pinchend"],MULTI_PAN:["multipanstart","multipanmove","multipanend"],DOUBLE_CLICK:["dblclick"],KEYBOARD:["keydown"]},l$={};class yV{constructor($){this.state={},this._events={},this._interactionState={isDragging:!1},this._customEvents=[],this._eventStartBlocked=null,this._panMove=!1,this.invertPan=!1,this.dragMode="rotate",this.inertia=0,this.scrollZoom=!0,this.dragPan=!0,this.dragRotate=!0,this.doubleClickZoom=!0,this.touchZoom=!0,this.touchRotate=!1,this.keyboard=!0,this.transitionManager=new _V({...$,getControllerState:(Q)=>new this.ControllerState(Q),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=$.eventManager,this.onViewStateChange=$.onViewStateChange||(()=>{}),this.onStateChange=$.onStateChange||(()=>{}),this.makeViewport=$.makeViewport}set events($){if(this.toggleEvents(this._customEvents,!1),this.toggleEvents($,!0),this._customEvents=$,this.props)this.setProps(this.props)}finalize(){for(let $ in this._events)if(this._events[$])this.eventManager?.off($,this.handleEvent);this.transitionManager.finalize()}handleEvent($){this._controllerState=void 0;let Q=this._eventStartBlocked;switch($.type){case"panstart":return Q?!1:this._onPanStart($);case"panmove":return this._onPan($);case"panend":return this._onPanEnd($);case"pinchstart":return Q?!1:this._onPinchStart($);case"pinchmove":return this._onPinch($);case"pinchend":return this._onPinchEnd($);case"multipanstart":return Q?!1:this._onMultiPanStart($);case"multipanmove":return this._onMultiPan($);case"multipanend":return this._onMultiPanEnd($);case"dblclick":return this._onDoubleClick($);case"wheel":return this._onWheel($);case"keydown":return this._onKeyDown($);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter($){let{x:Q,y:J}=this.props,{offsetCenter:Z}=$;return[Z.x-Q,Z.y-J]}isPointInBounds($,Q){let{width:J,height:Z}=this.props;if(Q&&Q.handled)return!1;let X=$[0]>=0&&$[0]<=J&&$[1]>=0&&$[1]<=Z;if(X&&Q)Q.stopPropagation();return X}isFunctionKeyPressed($){let{srcEvent:Q}=$;return Boolean(Q.metaKey||Q.altKey||Q.ctrlKey||Q.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents($){let Q=setTimeout(()=>{if(this._eventStartBlocked===Q)this._eventStartBlocked=null},$);this._eventStartBlocked=Q}setProps($){if($.dragMode)this.dragMode=$.dragMode;if(this.props=$,!("transitionInterpolator"in $))$.transitionInterpolator=this._getTransitionProps().transitionInterpolator;this.transitionManager.processViewStateChange($);let{inertia:Q}=$;this.inertia=Number.isFinite(Q)?Q:Q===!0?kN1:0;let{scrollZoom:J=!0,dragPan:Z=!0,dragRotate:X=!0,doubleClickZoom:W=!0,touchZoom:H=!0,touchRotate:F=!1,keyboard:V=!0}=$,D=Boolean(this.onViewStateChange);this.toggleEvents(kZ.WHEEL,D&&J),this.toggleEvents(kZ.PAN,D),this.toggleEvents(kZ.PINCH,D&&(H||F)),this.toggleEvents(kZ.MULTI_PAN,D&&F),this.toggleEvents(kZ.DOUBLE_CLICK,D&&W),this.toggleEvents(kZ.KEYBOARD,D&&V),this.scrollZoom=J,this.dragPan=Z,this.dragRotate=X,this.doubleClickZoom=W,this.touchZoom=H,this.touchRotate=F,this.keyboard=V}updateTransition(){this.transitionManager.updateTransition()}toggleEvents($,Q){if(this.eventManager)$.forEach((J)=>{if(this._events[J]!==Q)if(this._events[J]=Q,Q)this.eventManager.on(J,this.handleEvent);else this.eventManager.off(J,this.handleEvent)})}updateViewport($,Q=null,J={}){let Z={...$.getViewportProps(),...Q},X=this.controllerState!==$;if(this.state=$.getState(),this._setInteractionState(J),X){let W=this.controllerState&&this.controllerState.getViewportProps();if(this.onViewStateChange)this.onViewStateChange({viewState:Z,interactionState:this._interactionState,oldViewState:W,viewId:this.props.id})}}_onTransition($){this.onViewStateChange({...$,interactionState:this._interactionState,viewId:this.props.id})}_setInteractionState($){Object.assign(this._interactionState,$),this.onStateChange(this._interactionState)}_onPanStart($){let Q=this.getCenter($);if(!this.isPointInBounds(Q,$))return!1;let J=this.isFunctionKeyPressed($)||$.rightButton||!1;if(this.invertPan||this.dragMode==="pan")J=!J;let Z=this.controllerState[J?"panStart":"rotateStart"]({pos:Q});return this._panMove=J,this.updateViewport(Z,I8,{isDragging:!0}),!0}_onPan($){if(!this.isDragging())return!1;return this._panMove?this._onPanMove($):this._onPanRotate($)}_onPanEnd($){if(!this.isDragging())return!1;return this._panMove?this._onPanMoveEnd($):this._onPanRotateEnd($)}_onPanMove($){if(!this.dragPan)return!1;let Q=this.getCenter($),J=this.controllerState.pan({pos:Q});return this.updateViewport(J,I8,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd($){let{inertia:Q}=this;if(this.dragPan&&Q&&$.velocity){let J=this.getCenter($),Z=[J[0]+$.velocityX*Q/2,J[1]+$.velocityY*Q/2],X=this.controllerState.pan({pos:Z}).panEnd();this.updateViewport(X,{...this._getTransitionProps(),transitionDuration:Q,transitionEasing:gV},{isDragging:!1,isPanning:!0})}else{let J=this.controllerState.panEnd();this.updateViewport(J,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate($){if(!this.dragRotate)return!1;let Q=this.getCenter($),J=this.controllerState.rotate({pos:Q});return this.updateViewport(J,I8,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd($){let{inertia:Q}=this;if(this.dragRotate&&Q&&$.velocity){let J=this.getCenter($),Z=[J[0]+$.velocityX*Q/2,J[1]+$.velocityY*Q/2],X=this.controllerState.rotate({pos:Z}).rotateEnd();this.updateViewport(X,{...this._getTransitionProps(),transitionDuration:Q,transitionEasing:gV},{isDragging:!1,isRotating:!0})}else{let J=this.controllerState.rotateEnd();this.updateViewport(J,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel($){if(!this.scrollZoom)return!1;let Q=this.getCenter($);if(!this.isPointInBounds(Q,$))return!1;$.srcEvent.preventDefault();let{speed:J=0.01,smooth:Z=!1}=this.scrollZoom===!0?{}:this.scrollZoom,{delta:X}=$,W=2/(1+Math.exp(-Math.abs(X*J)));if(X<0&&W!==0)W=1/W;let H=Z?{...this._getTransitionProps({around:Q}),transitionDuration:250}:I8,F=this.controllerState.zoom({pos:Q,scale:W});return this.updateViewport(F,H,{isZooming:!0,isPanning:!0}),!0}_onMultiPanStart($){let Q=this.getCenter($);if(!this.isPointInBounds(Q,$))return!1;let J=this.controllerState.rotateStart({pos:Q});return this.updateViewport(J,I8,{isDragging:!0}),!0}_onMultiPan($){if(!this.touchRotate)return!1;if(!this.isDragging())return!1;let Q=this.getCenter($);Q[0]-=$.deltaX;let J=this.controllerState.rotate({pos:Q});return this.updateViewport(J,I8,{isDragging:!0,isRotating:!0}),!0}_onMultiPanEnd($){if(!this.isDragging())return!1;let{inertia:Q}=this;if(this.touchRotate&&Q&&$.velocityY){let J=this.getCenter($),Z=[J[0],J[1]+=$.velocityY*Q/2],X=this.controllerState.rotate({pos:Z});this.updateViewport(X,{...this._getTransitionProps(),transitionDuration:Q,transitionEasing:gV},{isDragging:!1,isRotating:!0}),this.blockEvents(Q)}else{let J=this.controllerState.rotateEnd();this.updateViewport(J,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart($){let Q=this.getCenter($);if(!this.isPointInBounds(Q,$))return!1;let J=this.controllerState.zoomStart({pos:Q}).rotateStart({pos:Q});return l$._startPinchRotation=$.rotation,l$._lastPinchEvent=$,this.updateViewport(J,I8,{isDragging:!0}),!0}_onPinch($){if(!this.touchZoom&&!this.touchRotate)return!1;if(!this.isDragging())return!1;let Q=this.controllerState;if(this.touchZoom){let{scale:J}=$,Z=this.getCenter($);Q=Q.zoom({pos:Z,scale:J})}if(this.touchRotate){let{rotation:J}=$;Q=Q.rotate({deltaAngleX:l$._startPinchRotation-J})}return this.updateViewport(Q,I8,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),l$._lastPinchEvent=$,!0}_onPinchEnd($){if(!this.isDragging())return!1;let{inertia:Q}=this,{_lastPinchEvent:J}=l$;if(this.touchZoom&&Q&&J&&$.scale!==J.scale){let Z=this.getCenter($),X=this.controllerState.rotateEnd(),W=Math.log2($.scale),H=(W-Math.log2(J.scale))/($.deltaTime-J.deltaTime),F=Math.pow(2,W+H*Q/2);X=X.zoom({pos:Z,scale:F}).zoomEnd(),this.updateViewport(X,{...this._getTransitionProps({around:Z}),transitionDuration:Q,transitionEasing:gV},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(Q)}else{let Z=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(Z,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return l$._startPinchRotation=null,l$._lastPinchEvent=null,!0}_onDoubleClick($){if(!this.doubleClickZoom)return!1;let Q=this.getCenter($);if(!this.isPointInBounds(Q,$))return!1;let J=this.isFunctionKeyPressed($),Z=this.controllerState.zoom({pos:Q,scale:J?0.5:2});return this.updateViewport(Z,this._getTransitionProps({around:Q}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown($){if(!this.keyboard)return!1;let Q=this.isFunctionKeyPressed($),{zoomSpeed:J,moveSpeed:Z,rotateSpeedX:X,rotateSpeedY:W}=this.keyboard===!0?{}:this.keyboard,{controllerState:H}=this,F,V={};switch($.srcEvent.code){case"Minus":F=Q?H.zoomOut(J).zoomOut(J):H.zoomOut(J),V.isZooming=!0;break;case"Equal":F=Q?H.zoomIn(J).zoomIn(J):H.zoomIn(J),V.isZooming=!0;break;case"ArrowLeft":if(Q)F=H.rotateLeft(X),V.isRotating=!0;else F=H.moveLeft(Z),V.isPanning=!0;break;case"ArrowRight":if(Q)F=H.rotateRight(X),V.isRotating=!0;else F=H.moveRight(Z),V.isPanning=!0;break;case"ArrowUp":if(Q)F=H.rotateUp(W),V.isRotating=!0;else F=H.moveUp(Z),V.isPanning=!0;break;case"ArrowDown":if(Q)F=H.rotateDown(W),V.isRotating=!0;else F=H.moveDown(Z),V.isPanning=!0;break;default:return!1}return this.updateViewport(F,this._getTransitionProps(),V),!0}_getTransitionProps($){let{transition:Q}=this;if(!Q||!Q.transitionInterpolator)return I8;return $?{...Q,transitionInterpolator:new OZ({...$,...Q.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:Q}}class bV{constructor($,Q){this._viewportProps=this.applyConstraints($),this._state=Q}getViewportProps(){return this._viewportProps}getState(){return this._state}}var Is=5,PN1=1.2;class Gs extends bV{constructor($){let{width:Q,height:J,latitude:Z,longitude:X,zoom:W,bearing:H=0,pitch:F=0,altitude:V=1.5,position:D=[0,0,0],maxZoom:C=20,minZoom:z=0,maxPitch:R=60,minPitch:k=0,startPanLngLat:P,startZoomLngLat:S,startRotatePos:T,startBearing:_,startPitch:v,startZoom:L,normalize:f=!0}=$;t0(Number.isFinite(X)),t0(Number.isFinite(Z)),t0(Number.isFinite(W));super({width:Q,height:J,latitude:Z,longitude:X,zoom:W,bearing:H,pitch:F,altitude:V,maxZoom:C,minZoom:z,maxPitch:R,minPitch:k,normalize:f,position:D},{startPanLngLat:P,startZoomLngLat:S,startRotatePos:T,startBearing:_,startPitch:v,startZoom:L});this.makeViewport=$.makeViewport}panStart({pos:$}){return this._getUpdatedState({startPanLngLat:this._unproject($)})}pan({pos:$,startPos:Q}){let J=this.getState().startPanLngLat||this._unproject(Q);if(!J)return this;let X=this.makeViewport(this.getViewportProps()).panByPosition(J,$);return this._getUpdatedState(X)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:$}){return this._getUpdatedState({startRotatePos:$,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:$,deltaAngleX:Q=0,deltaAngleY:J=0}){let{startRotatePos:Z,startBearing:X,startPitch:W}=this.getState();if(!Z||X===void 0||W===void 0)return this;let H;if($)H=this._getNewRotation($,Z,W,X);else H={bearing:X+Q,pitch:W+J};return this._getUpdatedState(H)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:$}){return this._getUpdatedState({startZoomLngLat:this._unproject($),startZoom:this.getViewportProps().zoom})}zoom({pos:$,startPos:Q,scale:J}){let{startZoom:Z,startZoomLngLat:X}=this.getState();if(!X)Z=this.getViewportProps().zoom,X=this._unproject(Q)||this._unproject($);if(!X)return this;let{maxZoom:W,minZoom:H}=this.getViewportProps(),F=Z+Math.log2(J);F=n4(F,H,W);let V=this.makeViewport({...this.getViewportProps(),zoom:F});return this._getUpdatedState({zoom:F,...V.panByPosition(X,$)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn($=2){return this._zoomFromCenter($)}zoomOut($=2){return this._zoomFromCenter(1/$)}moveLeft($=100){return this._panFromCenter([$,0])}moveRight($=100){return this._panFromCenter([-$,0])}moveUp($=100){return this._panFromCenter([0,$])}moveDown($=100){return this._panFromCenter([0,-$])}rotateLeft($=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-$})}rotateRight($=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+$})}rotateUp($=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+$})}rotateDown($=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-$})}shortestPathFrom($){let Q=$.getViewportProps(),J={...this.getViewportProps()},{bearing:Z,longitude:X}=J;if(Math.abs(Z-Q.bearing)>180)J.bearing=Z<0?Z+360:Z-360;if(Math.abs(X-Q.longitude)>180)J.longitude=X<0?X+360:X-360;return J}applyConstraints($){let{maxZoom:Q,minZoom:J,zoom:Z}=$;$.zoom=n4(Z,J,Q);let{maxPitch:X,minPitch:W,pitch:H}=$;$.pitch=n4(H,W,X);let{normalize:F=!0}=$;if(F)Object.assign($,Dw($));return $}_zoomFromCenter($){let{width:Q,height:J}=this.getViewportProps();return this.zoom({pos:[Q/2,J/2],scale:$})}_panFromCenter($){let{width:Q,height:J}=this.getViewportProps();return this.pan({startPos:[Q/2,J/2],pos:[Q/2+$[0],J/2+$[1]]})}_getUpdatedState($){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...$})}_unproject($){let Q=this.makeViewport(this.getViewportProps());return $&&Q.unproject($)}_getNewRotation($,Q,J,Z){let X=$[0]-Q[0],W=$[1]-Q[1],H=$[1],F=Q[1],{width:V,height:D}=this.getViewportProps(),C=X/V,z=0;if(W>0){if(Math.abs(D-F)>Is)z=W/(F-D)*PN1}else if(W<0){if(F>Is)z=1-H/F}z=n4(z,-1,1);let{minPitch:R,maxPitch:k}=this.getViewportProps(),P=Z+180*C,S=J;if(z>0)S=J+z*(k-J);else if(z<0)S=J-z*(R-J);return{pitch:S,bearing:P}}}class fV extends yV{constructor(){super(...arguments);this.ControllerState=Gs,this.transition={transitionDuration:300,transitionInterpolator:new OZ({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})},this.dragMode="pan"}setProps($){$.position=$.position||[0,0,0];let Q=this.props;if(super.setProps($),!Q||Q.height!==$.height)this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...$,...this.state}))}}class ww extends t4{constructor($={}){super($)}getViewportType(){return MV}get ControllerType(){return fV}}ww.displayName="MapView";var Es=ww;var MN1=new lY;function wN1($,Q){let J=$.order??1/0,Z=Q.order??1/0;return J-Z}class mV{constructor($){this._resolvedEffects=[],this._defaultEffects=[],this.effects=[],this._context=$,this._needsRedraw="Initial render",this._setEffects([])}addDefaultEffect($){let Q=this._defaultEffects;if(!Q.find((J)=>J.id===$.id)){let J=Q.findIndex((Z)=>wN1(Z,$)>0);if(J<0)Q.push($);else Q.splice(J,0,$);$.setup(this._context),this._setEffects(this.effects)}}setProps($){if("effects"in $){if(!r5($.effects,this.effects,1))this._setEffects($.effects)}}needsRedraw($={clearRedrawFlags:!1}){let Q=this._needsRedraw;if($.clearRedrawFlags)this._needsRedraw=!1;return Q}getEffects(){return this._resolvedEffects}_setEffects($){let Q={};for(let Z of this.effects)Q[Z.id]=Z;let J=[];for(let Z of $){let X=Q[Z.id],W=Z;if(X&&X!==Z)if(X.setProps)X.setProps(Z.props),W=X;else X.cleanup(this._context);else if(!X)Z.setup(this._context);J.push(W),delete Q[Z.id]}for(let Z in Q)Q[Z].cleanup(this._context);if(this.effects=J,this._resolvedEffects=J.concat(this._defaultEffects),!$.some((Z)=>Z instanceof lY))this._resolvedEffects.push(MN1);this._needsRedraw="effects changed"}finalize(){for(let $ of this._resolvedEffects)$.cleanup(this._context);this.effects.length=0,this._resolvedEffects.length=0,this._defaultEffects.length=0}}class cV extends Q2{shouldDrawLayer($){let{operation:Q}=$.props;return Q.includes("draw")||Q.includes("terrain")}}var SN1="deckRenderer.renderLayers";class dV{constructor($){this.device=$,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new cV($),this.pickLayersPass=new BZ($),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps($){if(this.layerFilter!==$.layerFilter)this.layerFilter=$.layerFilter,this._needsRedraw="layerFilter changed";if(this.drawPickingColors!==$.drawPickingColors)this.drawPickingColors=$.drawPickingColors,this._needsRedraw="drawPickingColors changed"}renderLayers($){if(!$.viewports.length)return;let Q=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass,J={layerFilter:this.layerFilter,isPicking:this.drawPickingColors,...$};if(J.effects)this._preRender(J.effects,J);let Z=this.lastPostProcessEffect?this.renderBuffers[0]:J.target;if(this.lastPostProcessEffect)J.clearColor=[0,0,0,0],J.clearCanvas=!0;let X=Q.render({...J,target:Z});if(J.effects)this._postRender(J.effects,J);this.renderCount++,U5(SN1,this,X,$)}needsRedraw($={clearRedrawFlags:!1}){let Q=this._needsRedraw;if($.clearRedrawFlags)this._needsRedraw=!1;return Q}finalize(){let{renderBuffers:$}=this;for(let Q of $)Q.delete();$.length=0}_preRender($,Q){this.lastPostProcessEffect=null,Q.preRenderStats=Q.preRenderStats||{};for(let J of $)if(Q.preRenderStats[J.id]=J.preRender(Q),J.postRender)this.lastPostProcessEffect=J.id;if(this.lastPostProcessEffect)this._resizeRenderBuffers()}_resizeRenderBuffers(){let{renderBuffers:$}=this,Q=this.device.canvasContext.getDrawingBufferSize();if($.length===0)[0,1].map((J)=>{let Z=this.device.createTexture({sampler:{minFilter:"linear",magFilter:"linear"}});$.push(this.device.createFramebuffer({id:`deck-renderbuffer-${J}`,colorAttachments:[Z]}))});for(let J of $)J.resize(Q)}_postRender($,Q){let{renderBuffers:J}=this,Z={...Q,inputBuffer:J[0],swapBuffer:J[1]};for(let X of $)if(X.postRender){Z.target=X.id===this.lastPostProcessEffect?Q.target:void 0;let W=X.postRender(Z);Z.inputBuffer=W,Z.swapBuffer=W===J[0]?J[1]:J[0]}}}var TN1={pickedColor:null,pickedObjectIndex:-1};function js({pickedColors:$,decodePickingColor:Q,deviceX:J,deviceY:Z,deviceRadius:X,deviceRect:W}){let{x:H,y:F,width:V,height:D}=W,C=X*X,z=-1,R=0;for(let k=0;k<D;k++){let P=k+F-Z,S=P*P;if(S>C)R+=4*V;else for(let T=0;T<V;T++){if($[R+3]-1>=0){let v=T+H-J,L=v*v+S;if(L<=C)C=L,z=R}R+=4}}if(z>=0){let k=$.slice(z,z+4),P=Q(k);if(P){let S=Math.floor(z/4/V),T=z/4-S*V;return{...P,pickedColor:k,pickedX:H+T,pickedY:F+S}}S1.error("Picked non-existent layer. Is picking buffer corrupt?")()}return TN1}function Ls({pickedColors:$,decodePickingColor:Q}){let J=new Map;if($){for(let Z=0;Z<$.length;Z+=4)if($[Z+3]-1>=0){let W=$.slice(Z,Z+4),H=W.join(",");if(!J.has(H)){let F=Q(W);if(F)J.set(H,{...F,color:W});else S1.error("Picked non-existent layer. Is picking buffer corrupt?")()}}}return Array.from(J.values())}function Sw({pickInfo:$,viewports:Q,pixelRatio:J,x:Z,y:X,z:W}){let H=Q[0];if(Q.length>1)H=IN1($?.pickedViewports||Q,{x:Z,y:X});let F;if(H){let V=[Z-H.x,X-H.y];if(W!==void 0)V[2]=W;F=H.unproject(V)}return{color:null,layer:null,viewport:H,index:-1,picked:!1,x:Z,y:X,pixel:[Z,X],coordinate:F,devicePixel:$&&"pickedX"in $?[$.pickedX,$.pickedY]:void 0,pixelRatio:J}}function hs($){let{pickInfo:Q,lastPickedInfo:J,mode:Z,layers:X}=$,{pickedColor:W,pickedLayer:H,pickedObjectIndex:F}=Q,V=H?[H]:[];if(Z==="hover"){let{index:z,layerId:R}=J,k=H?H.props.id:null;if(k!==R||F!==z){if(k!==R){let P=X.find((S)=>S.props.id===R);if(P)V.unshift(P)}J.layerId=k,J.index=F,J.info=null}}let D=Sw($),C=new Map;return C.set(null,D),V.forEach((z)=>{let R={...D};if(z===H)R.color=W,R.index=F,R.picked=!0;R=Tw({layer:z,info:R,mode:Z});let k=R.layer;if(z===H&&Z==="hover")J.info=R;if(C.set(k.id,R),Z==="hover")k.updateAutoHighlight(R)}),C}function Tw({layer:$,info:Q,mode:J}){while($&&Q){let Z=Q.layer||null;Q.sourceLayer=Z,Q.layer=$,Q=$.getPickingInfo({info:Q,mode:J,sourceLayer:Z}),$=$.parent}return Q}function IN1($,Q){for(let J=$.length-1;J>=0;J--){let Z=$[J];if(Z.containsPixel(Q))return Z}return $[0]}class lV{constructor($){this._pickable=!0,this.device=$,this.pickLayersPass=new BZ($),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps($){if("layerFilter"in $)this.layerFilter=$.layerFilter;if("_pickable"in $)this._pickable=$._pickable}finalize(){if(this.pickingFBO)this.pickingFBO.destroy();if(this.depthFBO)this.depthFBO.destroy()}pickObject($){return this._pickClosestObject($)}pickObjects($){return this._pickVisibleObjects($)}getLastPickedObject({x:$,y:Q,layers:J,viewports:Z},X=this.lastPickedInfo.info){let W=X&&X.layer&&X.layer.id,H=X&&X.viewport&&X.viewport.id,F=W?J.find((z)=>z.id===W):null,V=H&&Z.find((z)=>z.id===H)||Z[0],D=V&&V.unproject([$-V.x,Q-V.y]);return{...X,...{x:$,y:Q,viewport:V,coordinate:D,layer:F}}}_resizeBuffer(){if(!this.pickingFBO){if(this.pickingFBO=this.device.createFramebuffer({colorAttachments:["rgba8unorm"],depthStencilAttachment:"depth16unorm"}),this.device.isTextureFormatRenderable("rgba32float")){let Q=this.device.createFramebuffer({colorAttachments:["rgba32float"],depthStencilAttachment:"depth16unorm"});this.depthFBO=Q}}let{canvas:$}=this.device.getDefaultCanvasContext();this.pickingFBO?.resize({width:$.width,height:$.height}),this.depthFBO?.resize({width:$.width,height:$.height})}_getPickable($){if(this._pickable===!1)return null;let Q=$.filter((J)=>this.pickLayersPass.shouldDrawLayer(J)&&!J.isComposite);return Q.length?Q:null}_pickClosestObject({layers:$,views:Q,viewports:J,x:Z,y:X,radius:W=0,depth:H=1,mode:F="query",unproject3D:V,onViewportActive:D,effects:C}){let z=this.device.canvasContext.cssToDeviceRatio(),R=this._getPickable($);if(!R||J.length===0)return{result:[],emptyInfo:Sw({viewports:J,x:Z,y:X,pixelRatio:z})};this._resizeBuffer();let k=this.device.canvasContext.cssToDevicePixels([Z,X],!0),P=[k.x+Math.floor(k.width/2),k.y+Math.floor(k.height/2)],S=Math.round(W*z),{width:T,height:_}=this.pickingFBO,v=this._getPickingRect({deviceX:P[0],deviceY:P[1],deviceRadius:S,deviceWidth:T,deviceHeight:_}),L={x:Z-W,y:X-W,width:W*2+1,height:W*2+1},f,l=[],J1=new Set;for(let Y1=0;Y1<H;Y1++){let H1;if(v){let W1=this._drawAndSample({layers:R,views:Q,viewports:J,onViewportActive:D,deviceRect:v,cullRect:L,effects:C,pass:`picking:${F}`});H1=js({...W1,deviceX:P[0],deviceY:P[1],deviceRadius:S,deviceRect:v})}else H1={pickedColor:null,pickedObjectIndex:-1};let Q1;if(H1.pickedLayer&&V&&this.depthFBO){let{pickedColors:W1}=this._drawAndSample({layers:[H1.pickedLayer],views:Q,viewports:J,onViewportActive:D,deviceRect:{x:H1.pickedX,y:H1.pickedY,width:1,height:1},cullRect:L,effects:C,pass:`picking:${F}:z`},!0);if(W1[3])Q1=W1[0]}if(H1.pickedLayer&&Y1+1<H)J1.add(H1.pickedLayer),H1.pickedLayer.disablePickingIndex(H1.pickedObjectIndex);f=hs({pickInfo:H1,lastPickedInfo:this.lastPickedInfo,mode:F,layers:R,viewports:J,x:Z,y:X,z:Q1,pixelRatio:z});for(let W1 of f.values())if(W1.layer)l.push(W1);if(!H1.pickedColor)break}for(let Y1 of J1)Y1.restorePickingColors();return{result:l,emptyInfo:f.get(null)}}_pickVisibleObjects({layers:$,views:Q,viewports:J,x:Z,y:X,width:W=1,height:H=1,mode:F="query",maxObjects:V=null,onViewportActive:D,effects:C}){let z=this._getPickable($);if(!z||J.length===0)return[];this._resizeBuffer();let R=this.device.canvasContext.cssToDeviceRatio(),k=this.device.canvasContext.cssToDevicePixels([Z,X],!0),P=k.x,S=k.y+k.height,T=this.device.canvasContext.cssToDevicePixels([Z+W,X+H],!0),_=T.x+T.width,v=T.y,L={x:P,y:v,width:_-P,height:S-v},f=this._drawAndSample({layers:z,views:Q,viewports:J,onViewportActive:D,deviceRect:L,cullRect:{x:Z,y:X,width:W,height:H},effects:C,pass:`picking:${F}`}),l=Ls(f),J1=new Map,Y1=[],H1=Number.isFinite(V);for(let Q1=0;Q1<l.length;Q1++){if(H1&&Y1.length>=V)break;let W1=l[Q1],R1={color:W1.pickedColor,layer:null,index:W1.pickedObjectIndex,picked:!0,x:Z,y:X,pixelRatio:R};R1=Tw({layer:W1.pickedLayer,info:R1,mode:F});let C1=R1.layer.id;if(!J1.has(C1))J1.set(C1,new Set);let O1=J1.get(C1),x1=R1.object??R1.index;if(!O1.has(x1))O1.add(x1),Y1.push(R1)}return Y1}_drawAndSample({layers:$,views:Q,viewports:J,onViewportActive:Z,deviceRect:X,cullRect:W,effects:H,pass:F},V=!1){let D=V?this.depthFBO:this.pickingFBO,C={layers:$,layerFilter:this.layerFilter,views:Q,viewports:J,onViewportActive:Z,pickingFBO:D,deviceRect:X,cullRect:W,effects:H,pass:F,pickZ:V,preRenderStats:{},isPicking:!0};for(let _ of H)if(_.useInPicking)C.preRenderStats[_.id]=_.preRender(C);let{decodePickingColor:z}=this.pickLayersPass.render(C),{x:R,y:k,width:P,height:S}=X,T=new(V?Float32Array:Uint8Array)(P*S*4);return this.device.readPixelsToArrayWebGL(D,{sourceX:R,sourceY:k,sourceWidth:P,sourceHeight:S,target:T}),{pickedColors:T,decodePickingColor:z}}_getPickingRect({deviceX:$,deviceY:Q,deviceRadius:J,deviceWidth:Z,deviceHeight:X}){let W=Math.max(0,$-J),H=Math.max(0,Q-J),F=Math.min(Z,$+J+1)-W,V=Math.min(X,Q+J+1)-H;if(F<=0||V<=0)return null;return{x:W,y:H,width:F,height:V}}}var GN1={"top-left":{top:0,left:0},"top-right":{top:0,right:0},"bottom-left":{bottom:0,left:0},"bottom-right":{bottom:0,right:0},fill:{top:0,left:0,bottom:0,right:0}},EN1="top-left",vs="__root";class Iw{constructor({deck:$,parentElement:Q}){this.defaultWidgets=[],this.widgets=[],this.resolvedWidgets=[],this.containers={},this.lastViewports={},this.deck=$,this.parentElement=Q}getWidgets(){return this.resolvedWidgets}setProps($){if($.widgets&&!r5($.widgets,this.widgets,1))this._setWidgets($.widgets)}finalize(){for(let $ of this.getWidgets())this._remove($);this.defaultWidgets.length=0,this.resolvedWidgets.length=0;for(let $ in this.containers)this.containers[$].remove()}addDefault($){if(!this.defaultWidgets.find((Q)=>Q.id===$.id))this._add($),this.defaultWidgets.push($),this._setWidgets(this.widgets)}_setWidgets($){let Q={};for(let J of this.resolvedWidgets)Q[J.id]=J;this.resolvedWidgets.length=0;for(let J of this.defaultWidgets)Q[J.id]=null,this.resolvedWidgets.push(J);for(let J of $){let Z=Q[J.id];if(!Z)this._add(J);else if(Z.viewId!==J.viewId||Z.placement!==J.placement)this._remove(Z),this._add(J);else if(J!==Z)Z.setProps(J.props),J=Z;Q[J.id]=null,this.resolvedWidgets.push(J)}for(let J in Q){let Z=Q[J];if(Z)this._remove(Z)}this.widgets=$}_add($){let{viewId:Q=null,placement:J=EN1}=$,Z=$.onAdd({deck:this.deck,viewId:Q});if(Z)this._getContainer(Q,J).append(Z);$._element=Z}_remove($){if($.onRemove?.(),$._element)$._element.remove();$._element=void 0}_getContainer($,Q){let J=$||vs,Z=this.containers[J];if(!Z)Z=document.createElement("div"),Z.style.pointerEvents="none",Z.style.position="absolute",Z.style.overflow="hidden",this.parentElement?.append(Z),this.containers[J]=Z;let X=Z.querySelector(`.${Q}`);if(!X)X=document.createElement("div"),X.className=Q,X.style.position="absolute",X.style.zIndex="2",Object.assign(X.style,GN1[Q]),Z.append(X);return X}_updateContainers(){let $=this.deck.width,Q=this.deck.height;for(let J in this.containers){let Z=this.lastViewports[J]||null,X=J===vs||Z,W=this.containers[J];if(X)W.style.display="block",W.style.left=`${Z?Z.x:0}px`,W.style.top=`${Z?Z.y:0}px`,W.style.width=`${Z?Z.width:$}px`,W.style.height=`${Z?Z.height:Q}px`;else W.style.display="none"}}onRedraw({viewports:$,layers:Q}){let J=$.reduce((Z,X)=>{return Z[X.id]=X,Z},{});for(let Z of this.getWidgets()){let{viewId:X}=Z;if(X){let W=J[X];if(W){if(Z.onViewportChange)Z.onViewportChange(W);Z.onRedraw?.({viewports:[W],layers:Q})}}else{if(Z.onViewportChange)for(let W of $)Z.onViewportChange(W);Z.onRedraw?.({viewports:$,layers:Q})}}this.lastViewports=J,this._updateContainers()}onHover($,Q){for(let J of this.getWidgets()){let{viewId:Z}=J;if(!Z||Z===$.viewport?.id)J.onHover?.($,Q)}}onEvent($,Q){let J=bY[Q.type];if(!J)return;for(let Z of this.getWidgets()){let{viewId:X}=Z;if(!X||X===$.viewport?.id)Z[J]?.($,Q)}}}var jN1={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class pV{constructor(){this.id="default-tooltip",this.placement="fill",this.props={},this.isVisible=!1}onAdd({deck:$}){let Q=document.createElement("div");return Q.className="deck-tooltip",Object.assign(Q.style,jN1),this.deck=$,this.element=Q,Q}onRemove(){this.deck=void 0,this.element=void 0}setProps(){}onViewportChange($){if(this.isVisible&&$.id===this.lastViewport?.id&&$!==this.lastViewport)this.setTooltip(null)}onHover($){let{deck:Q}=this,J=Q&&Q.props.getTooltip;if(!J)return;let Z=J($);this.lastViewport=$.viewport,this.setTooltip(Z,$.x,$.y)}setTooltip($,Q,J){let Z=this.element;if(!Z)return;if(typeof $==="string")Z.innerText=$;else if(!$){this.isVisible=!1,Z.style.display="none";return}else{if($.text)Z.innerText=$.text;if($.html)Z.innerHTML=$.html;if($.className)Z.className=$.className}if(this.isVisible=!0,Z.style.display="block",Z.style.transform=`translate(${Q}px, ${J}px)`,$&&typeof $==="object"&&"style"in $)Object.assign(Z.style,$.style)}}var K2;(function($){$[$.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",$[$.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",$[$.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",$[$.POINTS=0]="POINTS",$[$.LINES=1]="LINES",$[$.LINE_LOOP=2]="LINE_LOOP",$[$.LINE_STRIP=3]="LINE_STRIP",$[$.TRIANGLES=4]="TRIANGLES",$[$.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",$[$.TRIANGLE_FAN=6]="TRIANGLE_FAN",$[$.ZERO=0]="ZERO",$[$.ONE=1]="ONE",$[$.SRC_COLOR=768]="SRC_COLOR",$[$.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",$[$.SRC_ALPHA=770]="SRC_ALPHA",$[$.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",$[$.DST_ALPHA=772]="DST_ALPHA",$[$.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",$[$.DST_COLOR=774]="DST_COLOR",$[$.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",$[$.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",$[$.CONSTANT_COLOR=32769]="CONSTANT_COLOR",$[$.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",$[$.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",$[$.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",$[$.FUNC_ADD=32774]="FUNC_ADD",$[$.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",$[$.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",$[$.BLEND_EQUATION=32777]="BLEND_EQUATION",$[$.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",$[$.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",$[$.BLEND_DST_RGB=32968]="BLEND_DST_RGB",$[$.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",$[$.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",$[$.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",$[$.BLEND_COLOR=32773]="BLEND_COLOR",$[$.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",$[$.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",$[$.LINE_WIDTH=2849]="LINE_WIDTH",$[$.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",$[$.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",$[$.CULL_FACE_MODE=2885]="CULL_FACE_MODE",$[$.FRONT_FACE=2886]="FRONT_FACE",$[$.DEPTH_RANGE=2928]="DEPTH_RANGE",$[$.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",$[$.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",$[$.DEPTH_FUNC=2932]="DEPTH_FUNC",$[$.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",$[$.STENCIL_FUNC=2962]="STENCIL_FUNC",$[$.STENCIL_FAIL=2964]="STENCIL_FAIL",$[$.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",$[$.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",$[$.STENCIL_REF=2967]="STENCIL_REF",$[$.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",$[$.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",$[$.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",$[$.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",$[$.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",$[$.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",$[$.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",$[$.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",$[$.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",$[$.VIEWPORT=2978]="VIEWPORT",$[$.SCISSOR_BOX=3088]="SCISSOR_BOX",$[$.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",$[$.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",$[$.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",$[$.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",$[$.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",$[$.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",$[$.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",$[$.RED_BITS=3410]="RED_BITS",$[$.GREEN_BITS=3411]="GREEN_BITS",$[$.BLUE_BITS=3412]="BLUE_BITS",$[$.ALPHA_BITS=3413]="ALPHA_BITS",$[$.DEPTH_BITS=3414]="DEPTH_BITS",$[$.STENCIL_BITS=3415]="STENCIL_BITS",$[$.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",$[$.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",$[$.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",$[$.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",$[$.SAMPLES=32937]="SAMPLES",$[$.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",$[$.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",$[$.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",$[$.VENDOR=7936]="VENDOR",$[$.RENDERER=7937]="RENDERER",$[$.VERSION=7938]="VERSION",$[$.IMPLEMENTATION_COLOR_READ_TYPE=35738]="IMPLEMENTATION_COLOR_READ_TYPE",$[$.IMPLEMENTATION_COLOR_READ_FORMAT=35739]="IMPLEMENTATION_COLOR_READ_FORMAT",$[$.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",$[$.STATIC_DRAW=35044]="STATIC_DRAW",$[$.STREAM_DRAW=35040]="STREAM_DRAW",$[$.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",$[$.ARRAY_BUFFER=34962]="ARRAY_BUFFER",$[$.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",$[$.BUFFER_SIZE=34660]="BUFFER_SIZE",$[$.BUFFER_USAGE=34661]="BUFFER_USAGE",$[$.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",$[$.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",$[$.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",$[$.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",$[$.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",$[$.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",$[$.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",$[$.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",$[$.CULL_FACE=2884]="CULL_FACE",$[$.FRONT=1028]="FRONT",$[$.BACK=1029]="BACK",$[$.FRONT_AND_BACK=1032]="FRONT_AND_BACK",$[$.BLEND=3042]="BLEND",$[$.DEPTH_TEST=2929]="DEPTH_TEST",$[$.DITHER=3024]="DITHER",$[$.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",$[$.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",$[$.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",$[$.SCISSOR_TEST=3089]="SCISSOR_TEST",$[$.STENCIL_TEST=2960]="STENCIL_TEST",$[$.NO_ERROR=0]="NO_ERROR",$[$.INVALID_ENUM=1280]="INVALID_ENUM",$[$.INVALID_VALUE=1281]="INVALID_VALUE",$[$.INVALID_OPERATION=1282]="INVALID_OPERATION",$[$.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",$[$.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",$[$.CW=2304]="CW",$[$.CCW=2305]="CCW",$[$.DONT_CARE=4352]="DONT_CARE",$[$.FASTEST=4353]="FASTEST",$[$.NICEST=4354]="NICEST",$[$.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",$[$.BYTE=5120]="BYTE",$[$.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",$[$.SHORT=5122]="SHORT",$[$.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",$[$.INT=5124]="INT",$[$.UNSIGNED_INT=5125]="UNSIGNED_INT",$[$.FLOAT=5126]="FLOAT",$[$.DOUBLE=5130]="DOUBLE",$[$.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",$[$.ALPHA=6406]="ALPHA",$[$.RGB=6407]="RGB",$[$.RGBA=6408]="RGBA",$[$.LUMINANCE=6409]="LUMINANCE",$[$.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",$[$.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",$[$.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",$[$.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",$[$.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",$[$.VERTEX_SHADER=35633]="VERTEX_SHADER",$[$.COMPILE_STATUS=35713]="COMPILE_STATUS",$[$.DELETE_STATUS=35712]="DELETE_STATUS",$[$.LINK_STATUS=35714]="LINK_STATUS",$[$.VALIDATE_STATUS=35715]="VALIDATE_STATUS",$[$.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",$[$.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",$[$.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",$[$.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",$[$.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",$[$.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",$[$.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",$[$.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",$[$.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",$[$.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",$[$.SHADER_TYPE=35663]="SHADER_TYPE",$[$.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",$[$.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",$[$.NEVER=512]="NEVER",$[$.LESS=513]="LESS",$[$.EQUAL=514]="EQUAL",$[$.LEQUAL=515]="LEQUAL",$[$.GREATER=516]="GREATER",$[$.NOTEQUAL=517]="NOTEQUAL",$[$.GEQUAL=518]="GEQUAL",$[$.ALWAYS=519]="ALWAYS",$[$.KEEP=7680]="KEEP",$[$.REPLACE=7681]="REPLACE",$[$.INCR=7682]="INCR",$[$.DECR=7683]="DECR",$[$.INVERT=5386]="INVERT",$[$.INCR_WRAP=34055]="INCR_WRAP",$[$.DECR_WRAP=34056]="DECR_WRAP",$[$.NEAREST=9728]="NEAREST",$[$.LINEAR=9729]="LINEAR",$[$.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",$[$.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",$[$.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",$[$.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",$[$.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",$[$.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",$[$.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",$[$.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",$[$.TEXTURE_2D=3553]="TEXTURE_2D",$[$.TEXTURE=5890]="TEXTURE",$[$.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",$[$.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",$[$.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",$[$.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",$[$.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",$[$.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",$[$.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",$[$.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",$[$.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",$[$.TEXTURE0=33984]="TEXTURE0",$[$.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",$[$.REPEAT=10497]="REPEAT",$[$.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",$[$.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",$[$.TEXTURE_WIDTH=4096]="TEXTURE_WIDTH",$[$.TEXTURE_HEIGHT=4097]="TEXTURE_HEIGHT",$[$.FLOAT_VEC2=35664]="FLOAT_VEC2",$[$.FLOAT_VEC3=35665]="FLOAT_VEC3",$[$.FLOAT_VEC4=35666]="FLOAT_VEC4",$[$.INT_VEC2=35667]="INT_VEC2",$[$.INT_VEC3=35668]="INT_VEC3",$[$.INT_VEC4=35669]="INT_VEC4",$[$.BOOL=35670]="BOOL",$[$.BOOL_VEC2=35671]="BOOL_VEC2",$[$.BOOL_VEC3=35672]="BOOL_VEC3",$[$.BOOL_VEC4=35673]="BOOL_VEC4",$[$.FLOAT_MAT2=35674]="FLOAT_MAT2",$[$.FLOAT_MAT3=35675]="FLOAT_MAT3",$[$.FLOAT_MAT4=35676]="FLOAT_MAT4",$[$.SAMPLER_2D=35678]="SAMPLER_2D",$[$.SAMPLER_CUBE=35680]="SAMPLER_CUBE",$[$.LOW_FLOAT=36336]="LOW_FLOAT",$[$.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",$[$.HIGH_FLOAT=36338]="HIGH_FLOAT",$[$.LOW_INT=36339]="LOW_INT",$[$.MEDIUM_INT=36340]="MEDIUM_INT",$[$.HIGH_INT=36341]="HIGH_INT",$[$.FRAMEBUFFER=36160]="FRAMEBUFFER",$[$.RENDERBUFFER=36161]="RENDERBUFFER",$[$.RGBA4=32854]="RGBA4",$[$.RGB5_A1=32855]="RGB5_A1",$[$.RGB565=36194]="RGB565",$[$.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",$[$.STENCIL_INDEX=6401]="STENCIL_INDEX",$[$.STENCIL_INDEX8=36168]="STENCIL_INDEX8",$[$.DEPTH_STENCIL=34041]="DEPTH_STENCIL",$[$.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",$[$.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",$[$.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",$[$.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",$[$.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",$[$.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",$[$.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",$[$.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",$[$.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",$[$.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",$[$.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",$[$.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",$[$.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",$[$.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",$[$.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",$[$.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",$[$.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",$[$.NONE=0]="NONE",$[$.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",$[$.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",$[$.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",$[$.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",$[$.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",$[$.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",$[$.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",$[$.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",$[$.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER",$[$.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",$[$.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",$[$.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",$[$.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",$[$.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",$[$.READ_BUFFER=3074]="READ_BUFFER",$[$.UNPACK_ROW_LENGTH=3314]="UNPACK_ROW_LENGTH",$[$.UNPACK_SKIP_ROWS=3315]="UNPACK_SKIP_ROWS",$[$.UNPACK_SKIP_PIXELS=3316]="UNPACK_SKIP_PIXELS",$[$.PACK_ROW_LENGTH=3330]="PACK_ROW_LENGTH",$[$.PACK_SKIP_ROWS=3331]="PACK_SKIP_ROWS",$[$.PACK_SKIP_PIXELS=3332]="PACK_SKIP_PIXELS",$[$.TEXTURE_BINDING_3D=32874]="TEXTURE_BINDING_3D",$[$.UNPACK_SKIP_IMAGES=32877]="UNPACK_SKIP_IMAGES",$[$.UNPACK_IMAGE_HEIGHT=32878]="UNPACK_IMAGE_HEIGHT",$[$.MAX_3D_TEXTURE_SIZE=32883]="MAX_3D_TEXTURE_SIZE",$[$.MAX_ELEMENTS_VERTICES=33000]="MAX_ELEMENTS_VERTICES",$[$.MAX_ELEMENTS_INDICES=33001]="MAX_ELEMENTS_INDICES",$[$.MAX_TEXTURE_LOD_BIAS=34045]="MAX_TEXTURE_LOD_BIAS",$[$.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657]="MAX_FRAGMENT_UNIFORM_COMPONENTS",$[$.MAX_VERTEX_UNIFORM_COMPONENTS=35658]="MAX_VERTEX_UNIFORM_COMPONENTS",$[$.MAX_ARRAY_TEXTURE_LAYERS=35071]="MAX_ARRAY_TEXTURE_LAYERS",$[$.MIN_PROGRAM_TEXEL_OFFSET=35076]="MIN_PROGRAM_TEXEL_OFFSET",$[$.MAX_PROGRAM_TEXEL_OFFSET=35077]="MAX_PROGRAM_TEXEL_OFFSET",$[$.MAX_VARYING_COMPONENTS=35659]="MAX_VARYING_COMPONENTS",$[$.FRAGMENT_SHADER_DERIVATIVE_HINT=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT",$[$.RASTERIZER_DISCARD=35977]="RASTERIZER_DISCARD",$[$.VERTEX_ARRAY_BINDING=34229]="VERTEX_ARRAY_BINDING",$[$.MAX_VERTEX_OUTPUT_COMPONENTS=37154]="MAX_VERTEX_OUTPUT_COMPONENTS",$[$.MAX_FRAGMENT_INPUT_COMPONENTS=37157]="MAX_FRAGMENT_INPUT_COMPONENTS",$[$.MAX_SERVER_WAIT_TIMEOUT=37137]="MAX_SERVER_WAIT_TIMEOUT",$[$.MAX_ELEMENT_INDEX=36203]="MAX_ELEMENT_INDEX",$[$.RED=6403]="RED",$[$.RGB8=32849]="RGB8",$[$.RGBA8=32856]="RGBA8",$[$.RGB10_A2=32857]="RGB10_A2",$[$.TEXTURE_3D=32879]="TEXTURE_3D",$[$.TEXTURE_WRAP_R=32882]="TEXTURE_WRAP_R",$[$.TEXTURE_MIN_LOD=33082]="TEXTURE_MIN_LOD",$[$.TEXTURE_MAX_LOD=33083]="TEXTURE_MAX_LOD",$[$.TEXTURE_BASE_LEVEL=33084]="TEXTURE_BASE_LEVEL",$[$.TEXTURE_MAX_LEVEL=33085]="TEXTURE_MAX_LEVEL",$[$.TEXTURE_COMPARE_MODE=34892]="TEXTURE_COMPARE_MODE",$[$.TEXTURE_COMPARE_FUNC=34893]="TEXTURE_COMPARE_FUNC",$[$.SRGB=35904]="SRGB",$[$.SRGB8=35905]="SRGB8",$[$.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",$[$.COMPARE_REF_TO_TEXTURE=34894]="COMPARE_REF_TO_TEXTURE",$[$.RGBA32F=34836]="RGBA32F",$[$.RGB32F=34837]="RGB32F",$[$.RGBA16F=34842]="RGBA16F",$[$.RGB16F=34843]="RGB16F",$[$.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",$[$.TEXTURE_BINDING_2D_ARRAY=35869]="TEXTURE_BINDING_2D_ARRAY",$[$.R11F_G11F_B10F=35898]="R11F_G11F_B10F",$[$.RGB9_E5=35901]="RGB9_E5",$[$.RGBA32UI=36208]="RGBA32UI",$[$.RGB32UI=36209]="RGB32UI",$[$.RGBA16UI=36214]="RGBA16UI",$[$.RGB16UI=36215]="RGB16UI",$[$.RGBA8UI=36220]="RGBA8UI",$[$.RGB8UI=36221]="RGB8UI",$[$.RGBA32I=36226]="RGBA32I",$[$.RGB32I=36227]="RGB32I",$[$.RGBA16I=36232]="RGBA16I",$[$.RGB16I=36233]="RGB16I",$[$.RGBA8I=36238]="RGBA8I",$[$.RGB8I=36239]="RGB8I",$[$.RED_INTEGER=36244]="RED_INTEGER",$[$.RGB_INTEGER=36248]="RGB_INTEGER",$[$.RGBA_INTEGER=36249]="RGBA_INTEGER",$[$.R8=33321]="R8",$[$.RG8=33323]="RG8",$[$.R16F=33325]="R16F",$[$.R32F=33326]="R32F",$[$.RG16F=33327]="RG16F",$[$.RG32F=33328]="RG32F",$[$.R8I=33329]="R8I",$[$.R8UI=33330]="R8UI",$[$.R16I=33331]="R16I",$[$.R16UI=33332]="R16UI",$[$.R32I=33333]="R32I",$[$.R32UI=33334]="R32UI",$[$.RG8I=33335]="RG8I",$[$.RG8UI=33336]="RG8UI",$[$.RG16I=33337]="RG16I",$[$.RG16UI=33338]="RG16UI",$[$.RG32I=33339]="RG32I",$[$.RG32UI=33340]="RG32UI",$[$.R8_SNORM=36756]="R8_SNORM",$[$.RG8_SNORM=36757]="RG8_SNORM",$[$.RGB8_SNORM=36758]="RGB8_SNORM",$[$.RGBA8_SNORM=36759]="RGBA8_SNORM",$[$.RGB10_A2UI=36975]="RGB10_A2UI",$[$.TEXTURE_IMMUTABLE_FORMAT=37167]="TEXTURE_IMMUTABLE_FORMAT",$[$.TEXTURE_IMMUTABLE_LEVELS=33503]="TEXTURE_IMMUTABLE_LEVELS",$[$.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",$[$.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",$[$.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",$[$.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",$[$.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",$[$.HALF_FLOAT=5131]="HALF_FLOAT",$[$.RG=33319]="RG",$[$.RG_INTEGER=33320]="RG_INTEGER",$[$.INT_2_10_10_10_REV=36255]="INT_2_10_10_10_REV",$[$.CURRENT_QUERY=34917]="CURRENT_QUERY",$[$.QUERY_RESULT=34918]="QUERY_RESULT",$[$.QUERY_RESULT_AVAILABLE=34919]="QUERY_RESULT_AVAILABLE",$[$.ANY_SAMPLES_PASSED=35887]="ANY_SAMPLES_PASSED",$[$.ANY_SAMPLES_PASSED_CONSERVATIVE=36202]="ANY_SAMPLES_PASSED_CONSERVATIVE",$[$.MAX_DRAW_BUFFERS=34852]="MAX_DRAW_BUFFERS",$[$.DRAW_BUFFER0=34853]="DRAW_BUFFER0",$[$.DRAW_BUFFER1=34854]="DRAW_BUFFER1",$[$.DRAW_BUFFER2=34855]="DRAW_BUFFER2",$[$.DRAW_BUFFER3=34856]="DRAW_BUFFER3",$[$.DRAW_BUFFER4=34857]="DRAW_BUFFER4",$[$.DRAW_BUFFER5=34858]="DRAW_BUFFER5",$[$.DRAW_BUFFER6=34859]="DRAW_BUFFER6",$[$.DRAW_BUFFER7=34860]="DRAW_BUFFER7",$[$.DRAW_BUFFER8=34861]="DRAW_BUFFER8",$[$.DRAW_BUFFER9=34862]="DRAW_BUFFER9",$[$.DRAW_BUFFER10=34863]="DRAW_BUFFER10",$[$.DRAW_BUFFER11=34864]="DRAW_BUFFER11",$[$.DRAW_BUFFER12=34865]="DRAW_BUFFER12",$[$.DRAW_BUFFER13=34866]="DRAW_BUFFER13",$[$.DRAW_BUFFER14=34867]="DRAW_BUFFER14",$[$.DRAW_BUFFER15=34868]="DRAW_BUFFER15",$[$.MAX_COLOR_ATTACHMENTS=36063]="MAX_COLOR_ATTACHMENTS",$[$.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",$[$.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",$[$.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",$[$.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",$[$.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",$[$.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",$[$.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",$[$.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",$[$.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",$[$.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",$[$.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",$[$.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",$[$.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",$[$.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",$[$.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15",$[$.SAMPLER_3D=35679]="SAMPLER_3D",$[$.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",$[$.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",$[$.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",$[$.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",$[$.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",$[$.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",$[$.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",$[$.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",$[$.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",$[$.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",$[$.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",$[$.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY",$[$.MAX_SAMPLES=36183]="MAX_SAMPLES",$[$.SAMPLER_BINDING=35097]="SAMPLER_BINDING",$[$.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",$[$.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",$[$.PIXEL_PACK_BUFFER_BINDING=35053]="PIXEL_PACK_BUFFER_BINDING",$[$.PIXEL_UNPACK_BUFFER_BINDING=35055]="PIXEL_UNPACK_BUFFER_BINDING",$[$.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",$[$.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",$[$.COPY_READ_BUFFER_BINDING=36662]="COPY_READ_BUFFER_BINDING",$[$.COPY_WRITE_BUFFER_BINDING=36663]="COPY_WRITE_BUFFER_BINDING",$[$.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",$[$.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",$[$.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",$[$.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",$[$.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",$[$.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",$[$.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",$[$.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",$[$.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",$[$.UNSIGNED_NORMALIZED=35863]="UNSIGNED_NORMALIZED",$[$.SIGNED_NORMALIZED=36764]="SIGNED_NORMALIZED",$[$.VERTEX_ATTRIB_ARRAY_INTEGER=35069]="VERTEX_ATTRIB_ARRAY_INTEGER",$[$.VERTEX_ATTRIB_ARRAY_DIVISOR=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR",$[$.TRANSFORM_FEEDBACK_BUFFER_MODE=35967]="TRANSFORM_FEEDBACK_BUFFER_MODE",$[$.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968]="MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",$[$.TRANSFORM_FEEDBACK_VARYINGS=35971]="TRANSFORM_FEEDBACK_VARYINGS",$[$.TRANSFORM_FEEDBACK_BUFFER_START=35972]="TRANSFORM_FEEDBACK_BUFFER_START",$[$.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973]="TRANSFORM_FEEDBACK_BUFFER_SIZE",$[$.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976]="TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",$[$.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978]="MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",$[$.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979]="MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",$[$.INTERLEAVED_ATTRIBS=35980]="INTERLEAVED_ATTRIBS",$[$.SEPARATE_ATTRIBS=35981]="SEPARATE_ATTRIBS",$[$.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER",$[$.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983]="TRANSFORM_FEEDBACK_BUFFER_BINDING",$[$.TRANSFORM_FEEDBACK=36386]="TRANSFORM_FEEDBACK",$[$.TRANSFORM_FEEDBACK_PAUSED=36387]="TRANSFORM_FEEDBACK_PAUSED",$[$.TRANSFORM_FEEDBACK_ACTIVE=36388]="TRANSFORM_FEEDBACK_ACTIVE",$[$.TRANSFORM_FEEDBACK_BINDING=36389]="TRANSFORM_FEEDBACK_BINDING",$[$.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",$[$.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",$[$.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298]="FRAMEBUFFER_ATTACHMENT_RED_SIZE",$[$.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299]="FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",$[$.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300]="FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",$[$.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301]="FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",$[$.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302]="FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",$[$.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303]="FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",$[$.FRAMEBUFFER_DEFAULT=33304]="FRAMEBUFFER_DEFAULT",$[$.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",$[$.DRAW_FRAMEBUFFER_BINDING=36006]="DRAW_FRAMEBUFFER_BINDING",$[$.READ_FRAMEBUFFER_BINDING=36010]="READ_FRAMEBUFFER_BINDING",$[$.RENDERBUFFER_SAMPLES=36011]="RENDERBUFFER_SAMPLES",$[$.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",$[$.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182]="FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",$[$.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",$[$.UNIFORM_BUFFER_BINDING=35368]="UNIFORM_BUFFER_BINDING",$[$.UNIFORM_BUFFER_START=35369]="UNIFORM_BUFFER_START",$[$.UNIFORM_BUFFER_SIZE=35370]="UNIFORM_BUFFER_SIZE",$[$.MAX_VERTEX_UNIFORM_BLOCKS=35371]="MAX_VERTEX_UNIFORM_BLOCKS",$[$.MAX_FRAGMENT_UNIFORM_BLOCKS=35373]="MAX_FRAGMENT_UNIFORM_BLOCKS",$[$.MAX_COMBINED_UNIFORM_BLOCKS=35374]="MAX_COMBINED_UNIFORM_BLOCKS",$[$.MAX_UNIFORM_BUFFER_BINDINGS=35375]="MAX_UNIFORM_BUFFER_BINDINGS",$[$.MAX_UNIFORM_BLOCK_SIZE=35376]="MAX_UNIFORM_BLOCK_SIZE",$[$.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377]="MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",$[$.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379]="MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",$[$.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380]="UNIFORM_BUFFER_OFFSET_ALIGNMENT",$[$.ACTIVE_UNIFORM_BLOCKS=35382]="ACTIVE_UNIFORM_BLOCKS",$[$.UNIFORM_TYPE=35383]="UNIFORM_TYPE",$[$.UNIFORM_SIZE=35384]="UNIFORM_SIZE",$[$.UNIFORM_BLOCK_INDEX=35386]="UNIFORM_BLOCK_INDEX",$[$.UNIFORM_OFFSET=35387]="UNIFORM_OFFSET",$[$.UNIFORM_ARRAY_STRIDE=35388]="UNIFORM_ARRAY_STRIDE",$[$.UNIFORM_MATRIX_STRIDE=35389]="UNIFORM_MATRIX_STRIDE",$[$.UNIFORM_IS_ROW_MAJOR=35390]="UNIFORM_IS_ROW_MAJOR",$[$.UNIFORM_BLOCK_BINDING=35391]="UNIFORM_BLOCK_BINDING",$[$.UNIFORM_BLOCK_DATA_SIZE=35392]="UNIFORM_BLOCK_DATA_SIZE",$[$.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394]="UNIFORM_BLOCK_ACTIVE_UNIFORMS",$[$.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395]="UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",$[$.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396]="UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",$[$.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398]="UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",$[$.OBJECT_TYPE=37138]="OBJECT_TYPE",$[$.SYNC_CONDITION=37139]="SYNC_CONDITION",$[$.SYNC_STATUS=37140]="SYNC_STATUS",$[$.SYNC_FLAGS=37141]="SYNC_FLAGS",$[$.SYNC_FENCE=37142]="SYNC_FENCE",$[$.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE",$[$.UNSIGNALED=37144]="UNSIGNALED",$[$.SIGNALED=37145]="SIGNALED",$[$.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",$[$.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",$[$.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",$[$.WAIT_FAILED=37149]="WAIT_FAILED",$[$.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT",$[$.COLOR=6144]="COLOR",$[$.DEPTH=6145]="DEPTH",$[$.STENCIL=6146]="STENCIL",$[$.MIN=32775]="MIN",$[$.MAX=32776]="MAX",$[$.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",$[$.STREAM_READ=35041]="STREAM_READ",$[$.STREAM_COPY=35042]="STREAM_COPY",$[$.STATIC_READ=35045]="STATIC_READ",$[$.STATIC_COPY=35046]="STATIC_COPY",$[$.DYNAMIC_READ=35049]="DYNAMIC_READ",$[$.DYNAMIC_COPY=35050]="DYNAMIC_COPY",$[$.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",$[$.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8",$[$.INVALID_INDEX=4294967295]="INVALID_INDEX",$[$.TIMEOUT_IGNORED=-1]="TIMEOUT_IGNORED",$[$.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447]="MAX_CLIENT_WAIT_TIMEOUT_WEBGL",$[$.UNMASKED_VENDOR_WEBGL=37445]="UNMASKED_VENDOR_WEBGL",$[$.UNMASKED_RENDERER_WEBGL=37446]="UNMASKED_RENDERER_WEBGL",$[$.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047]="MAX_TEXTURE_MAX_ANISOTROPY_EXT",$[$.TEXTURE_MAX_ANISOTROPY_EXT=34046]="TEXTURE_MAX_ANISOTROPY_EXT",$[$.R16_EXT=33322]="R16_EXT",$[$.RG16_EXT=33324]="RG16_EXT",$[$.RGB16_EXT=32852]="RGB16_EXT",$[$.RGBA16_EXT=32859]="RGBA16_EXT",$[$.R16_SNORM_EXT=36760]="R16_SNORM_EXT",$[$.RG16_SNORM_EXT=36761]="RG16_SNORM_EXT",$[$.RGB16_SNORM_EXT=36762]="RGB16_SNORM_EXT",$[$.RGBA16_SNORM_EXT=36763]="RGBA16_SNORM_EXT",$[$.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",$[$.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",$[$.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",$[$.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",$[$.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",$[$.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",$[$.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",$[$.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",$[$.COMPRESSED_RED_RGTC1_EXT=36283]="COMPRESSED_RED_RGTC1_EXT",$[$.COMPRESSED_SIGNED_RED_RGTC1_EXT=36284]="COMPRESSED_SIGNED_RED_RGTC1_EXT",$[$.COMPRESSED_RED_GREEN_RGTC2_EXT=36285]="COMPRESSED_RED_GREEN_RGTC2_EXT",$[$.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT=36286]="COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT",$[$.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",$[$.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",$[$.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",$[$.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",$[$.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",$[$.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",$[$.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",$[$.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",$[$.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",$[$.COMPRESSED_RGBA8_ETC2_EAC=37493]="COMPRESSED_RGBA8_ETC2_EAC",$[$.COMPRESSED_SRGB8_ETC2=37494]="COMPRESSED_SRGB8_ETC2",$[$.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37495]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",$[$.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37496]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",$[$.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37497]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",$[$.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",$[$.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",$[$.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",$[$.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",$[$.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",$[$.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",$[$.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",$[$.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",$[$.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",$[$.COMPRESSED_RGBA_ASTC_5x4_KHR=37809]="COMPRESSED_RGBA_ASTC_5x4_KHR",$[$.COMPRESSED_RGBA_ASTC_5x5_KHR=37810]="COMPRESSED_RGBA_ASTC_5x5_KHR",$[$.COMPRESSED_RGBA_ASTC_6x5_KHR=37811]="COMPRESSED_RGBA_ASTC_6x5_KHR",$[$.COMPRESSED_RGBA_ASTC_6x6_KHR=37812]="COMPRESSED_RGBA_ASTC_6x6_KHR",$[$.COMPRESSED_RGBA_ASTC_8x5_KHR=37813]="COMPRESSED_RGBA_ASTC_8x5_KHR",$[$.COMPRESSED_RGBA_ASTC_8x6_KHR=37814]="COMPRESSED_RGBA_ASTC_8x6_KHR",$[$.COMPRESSED_RGBA_ASTC_8x8_KHR=37815]="COMPRESSED_RGBA_ASTC_8x8_KHR",$[$.COMPRESSED_RGBA_ASTC_10x5_KHR=37816]="COMPRESSED_RGBA_ASTC_10x5_KHR",$[$.COMPRESSED_RGBA_ASTC_10x6_KHR=37817]="COMPRESSED_RGBA_ASTC_10x6_KHR",$[$.COMPRESSED_RGBA_ASTC_10x8_KHR=37818]="COMPRESSED_RGBA_ASTC_10x8_KHR",$[$.COMPRESSED_RGBA_ASTC_10x10_KHR=37819]="COMPRESSED_RGBA_ASTC_10x10_KHR",$[$.COMPRESSED_RGBA_ASTC_12x10_KHR=37820]="COMPRESSED_RGBA_ASTC_12x10_KHR",$[$.COMPRESSED_RGBA_ASTC_12x12_KHR=37821]="COMPRESSED_RGBA_ASTC_12x12_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR=37840]="COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR=37841]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR=37842]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR=37843]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR=37844]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR=37845]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR=37846]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR=37847]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR=37848]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR=37849]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR=37850]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR=37851]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR=37852]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR=37853]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR",$[$.QUERY_COUNTER_BITS_EXT=34916]="QUERY_COUNTER_BITS_EXT",$[$.CURRENT_QUERY_EXT=34917]="CURRENT_QUERY_EXT",$[$.QUERY_RESULT_EXT=34918]="QUERY_RESULT_EXT",$[$.QUERY_RESULT_AVAILABLE_EXT=34919]="QUERY_RESULT_AVAILABLE_EXT",$[$.TIME_ELAPSED_EXT=35007]="TIME_ELAPSED_EXT",$[$.TIMESTAMP_EXT=36392]="TIMESTAMP_EXT",$[$.GPU_DISJOINT_EXT=36795]="GPU_DISJOINT_EXT",$[$.COMPLETION_STATUS_KHR=37297]="COMPLETION_STATUS_KHR",$[$.DEPTH_CLAMP_EXT=34383]="DEPTH_CLAMP_EXT",$[$.FIRST_VERTEX_CONVENTION_WEBGL=36429]="FIRST_VERTEX_CONVENTION_WEBGL",$[$.LAST_VERTEX_CONVENTION_WEBGL=36430]="LAST_VERTEX_CONVENTION_WEBGL",$[$.PROVOKING_VERTEX_WEBL=36431]="PROVOKING_VERTEX_WEBL",$[$.POLYGON_MODE_WEBGL=2880]="POLYGON_MODE_WEBGL",$[$.POLYGON_OFFSET_LINE_WEBGL=10754]="POLYGON_OFFSET_LINE_WEBGL",$[$.LINE_WEBGL=6913]="LINE_WEBGL",$[$.FILL_WEBGL=6914]="FILL_WEBGL",$[$.MAX_CLIP_DISTANCES_WEBGL=3378]="MAX_CLIP_DISTANCES_WEBGL",$[$.MAX_CULL_DISTANCES_WEBGL=33529]="MAX_CULL_DISTANCES_WEBGL",$[$.MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL=33530]="MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL",$[$.CLIP_DISTANCE0_WEBGL=12288]="CLIP_DISTANCE0_WEBGL",$[$.CLIP_DISTANCE1_WEBGL=12289]="CLIP_DISTANCE1_WEBGL",$[$.CLIP_DISTANCE2_WEBGL=12290]="CLIP_DISTANCE2_WEBGL",$[$.CLIP_DISTANCE3_WEBGL=12291]="CLIP_DISTANCE3_WEBGL",$[$.CLIP_DISTANCE4_WEBGL=12292]="CLIP_DISTANCE4_WEBGL",$[$.CLIP_DISTANCE5_WEBGL=12293]="CLIP_DISTANCE5_WEBGL",$[$.CLIP_DISTANCE6_WEBGL=12294]="CLIP_DISTANCE6_WEBGL",$[$.CLIP_DISTANCE7_WEBGL=12295]="CLIP_DISTANCE7_WEBGL",$[$.POLYGON_OFFSET_CLAMP_EXT=36379]="POLYGON_OFFSET_CLAMP_EXT",$[$.LOWER_LEFT_EXT=36001]="LOWER_LEFT_EXT",$[$.UPPER_LEFT_EXT=36002]="UPPER_LEFT_EXT",$[$.NEGATIVE_ONE_TO_ONE_EXT=37726]="NEGATIVE_ONE_TO_ONE_EXT",$[$.ZERO_TO_ONE_EXT=37727]="ZERO_TO_ONE_EXT",$[$.CLIP_ORIGIN_EXT=37724]="CLIP_ORIGIN_EXT",$[$.CLIP_DEPTH_MODE_EXT=37725]="CLIP_DEPTH_MODE_EXT",$[$.SRC1_COLOR_WEBGL=35065]="SRC1_COLOR_WEBGL",$[$.SRC1_ALPHA_WEBGL=34185]="SRC1_ALPHA_WEBGL",$[$.ONE_MINUS_SRC1_COLOR_WEBGL=35066]="ONE_MINUS_SRC1_COLOR_WEBGL",$[$.ONE_MINUS_SRC1_ALPHA_WEBGL=35067]="ONE_MINUS_SRC1_ALPHA_WEBGL",$[$.MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL=35068]="MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL",$[$.MIRROR_CLAMP_TO_EDGE_EXT=34627]="MIRROR_CLAMP_TO_EDGE_EXT"})(K2||(K2={}));var oY={[3042]:!1,[32773]:new Float32Array([0,0,0,0]),[32777]:32774,[34877]:32774,[32969]:1,[32968]:0,[32971]:1,[32970]:0,[3106]:new Float32Array([0,0,0,0]),[3107]:[!0,!0,!0,!0],[2884]:!1,[2885]:1029,[2929]:!1,[2931]:1,[2932]:513,[2928]:new Float32Array([0,1]),[2930]:!0,[3024]:!0,[35725]:null,[36006]:null,[36007]:null,[34229]:null,[34964]:null,[2886]:2305,[33170]:4352,[2849]:1,[32823]:!1,[32824]:0,[10752]:0,[32926]:!1,[32928]:!1,[32938]:1,[32939]:!1,[3089]:!1,[3088]:new Int32Array([0,0,1024,1024]),[2960]:!1,[2961]:0,[2968]:4294967295,[36005]:4294967295,[2962]:519,[2967]:0,[2963]:4294967295,[34816]:519,[36003]:0,[36004]:4294967295,[2964]:7680,[2965]:7680,[2966]:7680,[34817]:7680,[34818]:7680,[34819]:7680,[2978]:[0,0,1024,1024],[36389]:null,[36662]:null,[36663]:null,[35053]:null,[35055]:null,[35723]:4352,[36010]:null,[35977]:!1,[3333]:4,[3317]:4,[37440]:!1,[37441]:!1,[37443]:37444,[3330]:0,[3332]:0,[3331]:0,[3314]:0,[32878]:0,[3316]:0,[3315]:0,[32877]:0},I5=($,Q,J)=>Q?$.enable(J):$.disable(J),_s=($,Q,J)=>$.hint(J,Q),F4=($,Q,J)=>$.pixelStorei(J,Q),xs=($,Q,J)=>{let Z=J===36006?36009:36008;return $.bindFramebuffer(Z,Q)},sY=($,Q,J)=>{let X={[34964]:34962,[36662]:36662,[36663]:36663,[35053]:35051,[35055]:35052}[J];$.bindBuffer(X,Q)};function Gw($){return Array.isArray($)||ArrayBuffer.isView($)&&!($ instanceof DataView)}var gs={[3042]:I5,[32773]:($,Q)=>$.blendColor(...Q),[32777]:"blendEquation",[34877]:"blendEquation",[32969]:"blendFunc",[32968]:"blendFunc",[32971]:"blendFunc",[32970]:"blendFunc",[3106]:($,Q)=>$.clearColor(...Q),[3107]:($,Q)=>$.colorMask(...Q),[2884]:I5,[2885]:($,Q)=>$.cullFace(Q),[2929]:I5,[2931]:($,Q)=>$.clearDepth(Q),[2932]:($,Q)=>$.depthFunc(Q),[2928]:($,Q)=>$.depthRange(...Q),[2930]:($,Q)=>$.depthMask(Q),[3024]:I5,[35723]:_s,[35725]:($,Q)=>$.useProgram(Q),[36007]:($,Q)=>$.bindRenderbuffer(36161,Q),[36389]:($,Q)=>$.bindTransformFeedback?.(36386,Q),[34229]:($,Q)=>$.bindVertexArray(Q),[36006]:xs,[36010]:xs,[34964]:sY,[36662]:sY,[36663]:sY,[35053]:sY,[35055]:sY,[2886]:($,Q)=>$.frontFace(Q),[33170]:_s,[2849]:($,Q)=>$.lineWidth(Q),[32823]:I5,[32824]:"polygonOffset",[10752]:"polygonOffset",[35977]:I5,[32926]:I5,[32928]:I5,[32938]:"sampleCoverage",[32939]:"sampleCoverage",[3089]:I5,[3088]:($,Q)=>$.scissor(...Q),[2960]:I5,[2961]:($,Q)=>$.clearStencil(Q),[2968]:($,Q)=>$.stencilMaskSeparate(1028,Q),[36005]:($,Q)=>$.stencilMaskSeparate(1029,Q),[2962]:"stencilFuncFront",[2967]:"stencilFuncFront",[2963]:"stencilFuncFront",[34816]:"stencilFuncBack",[36003]:"stencilFuncBack",[36004]:"stencilFuncBack",[2964]:"stencilOpFront",[2965]:"stencilOpFront",[2966]:"stencilOpFront",[34817]:"stencilOpBack",[34818]:"stencilOpBack",[34819]:"stencilOpBack",[2978]:($,Q)=>$.viewport(...Q),[34383]:I5,[10754]:I5,[12288]:I5,[12289]:I5,[12290]:I5,[12291]:I5,[12292]:I5,[12293]:I5,[12294]:I5,[12295]:I5,[3333]:F4,[3317]:F4,[37440]:F4,[37441]:F4,[37443]:F4,[3330]:F4,[3332]:F4,[3331]:F4,[3314]:F4,[32878]:F4,[3316]:F4,[3315]:F4,[32877]:F4,framebuffer:($,Q)=>{let J=Q&&"handle"in Q?Q.handle:Q;return $.bindFramebuffer(36160,J)},blend:($,Q)=>Q?$.enable(3042):$.disable(3042),blendColor:($,Q)=>$.blendColor(...Q),blendEquation:($,Q)=>{let J=typeof Q==="number"?[Q,Q]:Q;$.blendEquationSeparate(...J)},blendFunc:($,Q)=>{let J=Q?.length===2?[...Q,...Q]:Q;$.blendFuncSeparate(...J)},clearColor:($,Q)=>$.clearColor(...Q),clearDepth:($,Q)=>$.clearDepth(Q),clearStencil:($,Q)=>$.clearStencil(Q),colorMask:($,Q)=>$.colorMask(...Q),cull:($,Q)=>Q?$.enable(2884):$.disable(2884),cullFace:($,Q)=>$.cullFace(Q),depthTest:($,Q)=>Q?$.enable(2929):$.disable(2929),depthFunc:($,Q)=>$.depthFunc(Q),depthMask:($,Q)=>$.depthMask(Q),depthRange:($,Q)=>$.depthRange(...Q),dither:($,Q)=>Q?$.enable(3024):$.disable(3024),derivativeHint:($,Q)=>{$.hint(35723,Q)},frontFace:($,Q)=>$.frontFace(Q),mipmapHint:($,Q)=>$.hint(33170,Q),lineWidth:($,Q)=>$.lineWidth(Q),polygonOffsetFill:($,Q)=>Q?$.enable(32823):$.disable(32823),polygonOffset:($,Q)=>$.polygonOffset(...Q),sampleCoverage:($,Q)=>$.sampleCoverage(Q[0],Q[1]||!1),scissorTest:($,Q)=>Q?$.enable(3089):$.disable(3089),scissor:($,Q)=>$.scissor(...Q),stencilTest:($,Q)=>Q?$.enable(2960):$.disable(2960),stencilMask:($,Q)=>{Q=Gw(Q)?Q:[Q,Q];let[J,Z]=Q;$.stencilMaskSeparate(1028,J),$.stencilMaskSeparate(1029,Z)},stencilFunc:($,Q)=>{Q=Gw(Q)&&Q.length===3?[...Q,...Q]:Q;let[J,Z,X,W,H,F]=Q;$.stencilFuncSeparate(1028,J,Z,X),$.stencilFuncSeparate(1029,W,H,F)},stencilOp:($,Q)=>{Q=Gw(Q)&&Q.length===3?[...Q,...Q]:Q;let[J,Z,X,W,H,F]=Q;$.stencilOpSeparate(1028,J,Z,X),$.stencilOpSeparate(1029,W,H,F)},viewport:($,Q)=>$.viewport(...Q)};function D5($,Q,J){return Q[$]!==void 0?Q[$]:J[$]}var ys={blendEquation:($,Q,J)=>$.blendEquationSeparate(D5(32777,Q,J),D5(34877,Q,J)),blendFunc:($,Q,J)=>$.blendFuncSeparate(D5(32969,Q,J),D5(32968,Q,J),D5(32971,Q,J),D5(32970,Q,J)),polygonOffset:($,Q,J)=>$.polygonOffset(D5(32824,Q,J),D5(10752,Q,J)),sampleCoverage:($,Q,J)=>$.sampleCoverage(D5(32938,Q,J),D5(32939,Q,J)),stencilFuncFront:($,Q,J)=>$.stencilFuncSeparate(1028,D5(2962,Q,J),D5(2967,Q,J),D5(2963,Q,J)),stencilFuncBack:($,Q,J)=>$.stencilFuncSeparate(1029,D5(34816,Q,J),D5(36003,Q,J),D5(36004,Q,J)),stencilOpFront:($,Q,J)=>$.stencilOpSeparate(1028,D5(2964,Q,J),D5(2965,Q,J),D5(2966,Q,J)),stencilOpBack:($,Q,J)=>$.stencilOpSeparate(1029,D5(34817,Q,J),D5(34818,Q,J),D5(34819,Q,J))},Ew={enable:($,Q)=>$({[Q]:!0}),disable:($,Q)=>$({[Q]:!1}),pixelStorei:($,Q,J)=>$({[Q]:J}),hint:($,Q,J)=>$({[Q]:J}),useProgram:($,Q)=>$({[35725]:Q}),bindRenderbuffer:($,Q,J)=>$({[36007]:J}),bindTransformFeedback:($,Q,J)=>$({[36389]:J}),bindVertexArray:($,Q)=>$({[34229]:Q}),bindFramebuffer:($,Q,J)=>{switch(Q){case 36160:return $({[36006]:J,[36010]:J});case 36009:return $({[36006]:J});case 36008:return $({[36010]:J});default:return null}},bindBuffer:($,Q,J)=>{let Z={[34962]:[34964],[36662]:[36662],[36663]:[36663],[35051]:[35053],[35052]:[35055]}[Q];if(Z)return $({[Z]:J});return{valueChanged:!0}},blendColor:($,Q,J,Z,X)=>$({[32773]:new Float32Array([Q,J,Z,X])}),blendEquation:($,Q)=>$({[32777]:Q,[34877]:Q}),blendEquationSeparate:($,Q,J)=>$({[32777]:Q,[34877]:J}),blendFunc:($,Q,J)=>$({[32969]:Q,[32968]:J,[32971]:Q,[32970]:J}),blendFuncSeparate:($,Q,J,Z,X)=>$({[32969]:Q,[32968]:J,[32971]:Z,[32970]:X}),clearColor:($,Q,J,Z,X)=>$({[3106]:new Float32Array([Q,J,Z,X])}),clearDepth:($,Q)=>$({[2931]:Q}),clearStencil:($,Q)=>$({[2961]:Q}),colorMask:($,Q,J,Z,X)=>$({[3107]:[Q,J,Z,X]}),cullFace:($,Q)=>$({[2885]:Q}),depthFunc:($,Q)=>$({[2932]:Q}),depthRange:($,Q,J)=>$({[2928]:new Float32Array([Q,J])}),depthMask:($,Q)=>$({[2930]:Q}),frontFace:($,Q)=>$({[2886]:Q}),lineWidth:($,Q)=>$({[2849]:Q}),polygonOffset:($,Q,J)=>$({[32824]:Q,[10752]:J}),sampleCoverage:($,Q,J)=>$({[32938]:Q,[32939]:J}),scissor:($,Q,J,Z,X)=>$({[3088]:new Int32Array([Q,J,Z,X])}),stencilMask:($,Q)=>$({[2968]:Q,[36005]:Q}),stencilMaskSeparate:($,Q,J)=>$({[Q===1028?2968:36005]:J}),stencilFunc:($,Q,J,Z)=>$({[2962]:Q,[2967]:J,[2963]:Z,[34816]:Q,[36003]:J,[36004]:Z}),stencilFuncSeparate:($,Q,J,Z,X)=>$({[Q===1028?2962:34816]:J,[Q===1028?2967:36003]:Z,[Q===1028?2963:36004]:X}),stencilOp:($,Q,J,Z)=>$({[2964]:Q,[2965]:J,[2966]:Z,[34817]:Q,[34818]:J,[34819]:Z}),stencilOpSeparate:($,Q,J,Z,X)=>$({[Q===1028?2964:34817]:J,[Q===1028?2965:34818]:Z,[Q===1028?2966:34819]:X}),viewport:($,Q,J,Z,X)=>$({[2978]:[Q,J,Z,X]})},T3=($,Q)=>$.isEnabled(Q),jw={[3042]:T3,[2884]:T3,[2929]:T3,[3024]:T3,[32823]:T3,[32926]:T3,[32928]:T3,[3089]:T3,[2960]:T3,[35977]:T3},bs=new Set([34016,36388,36387,35983,35368,34965,35739,35738,3074,34853,34854,34855,34856,34857,34858,34859,34860,34861,34862,34863,34864,34865,34866,34867,34868,35097,32873,35869,32874,34068]);function E7($,Q){if(LN1(Q))return;let J={};for(let X in Q){let W=Number(X),H=gs[X];if(H)if(typeof H==="string")J[H]=!0;else H($,Q[X],W)}let Z=$.state&&$.state.cache;if(Z)for(let X in J){let W=ys[X];W($,Q,Z)}}function uV($,Q=oY){if(typeof Q==="number"){let X=Q,W=jw[X];return W?W($,X):$.getParameter(X)}let J=Array.isArray(Q)?Q:Object.keys(Q),Z={};for(let X of J){let W=jw[X];Z[X]=W?W($,Number(X)):$.getParameter(Number(X))}return Z}function fs($){E7($,oY)}function LN1($){for(let Q in $)return!1;return!0}function ms($,Q){if($===Q)return!0;let J=Array.isArray($)||ArrayBuffer.isView($),Z=Array.isArray(Q)||ArrayBuffer.isView(Q);if(J&&Z&&$.length===Q.length){for(let X=0;X<$.length;++X)if($[X]!==Q[X])return!1;return!0}return!1}class I3{static get($){return $.state}gl;program=null;stateStack=[];enable=!0;cache=null;log;initialized=!1;constructor($,Q){this.gl=$,this.log=Q?.log||(()=>{}),this._updateCache=this._updateCache.bind(this),Object.seal(this)}push($={}){this.stateStack.push({})}pop(){let $=this.stateStack[this.stateStack.length-1];E7(this.gl,$),this.stateStack.pop()}trackState($,Q){if(this.cache=Q.copyState?uV($):Object.assign({},oY),this.initialized)throw Error("WebGLStateTracker");this.initialized=!0,this.gl.state=this,vN1($);for(let J in Ew){let Z=Ew[J];hN1($,J,Z)}cs($,"getParameter"),cs($,"isEnabled")}_updateCache($){let Q=!1,J,Z=this.stateStack.length>0?this.stateStack[this.stateStack.length-1]:null;for(let X in $){let W=$[X],H=this.cache[X];if(!ms(W,H)){if(Q=!0,J=H,Z&&!(X in Z))Z[X]=H;this.cache[X]=W}}return{valueChanged:Q,oldValue:J}}}function cs($,Q){let J=$[Q].bind($);$[Q]=function(X){if(X===void 0||bs.has(X))return J(X);let W=I3.get($);if(!(X in W.cache))W.cache[X]=J(X);return W.enable?W.cache[X]:J(X)},Object.defineProperty($[Q],"name",{value:`${Q}-from-cache`,configurable:!1})}function hN1($,Q,J){if(!$[Q])return;let Z=$[Q].bind($);$[Q]=function(...W){let H=I3.get($),{valueChanged:F,oldValue:V}=J(H._updateCache,...W);if(F)Z(...W);return V},Object.defineProperty($[Q],"name",{value:`${Q}-to-cache`,configurable:!1})}function vN1($){let Q=$.useProgram.bind($);$.useProgram=function(Z){let X=I3.get($);if(X.program!==Z)Q(Z),X.program=Z}}function ds($,Q,J){let Z="",X={preserveDrawingBuffer:!0,...J},W=null;if(W||=$.getContext("webgl2",X),X.failIfMajorPerformanceCaveat)Z||="Only software GPU is available. Set `failIfMajorPerformanceCaveat: false` to allow.";if(!W&&!J.failIfMajorPerformanceCaveat)X.failIfMajorPerformanceCaveat=!1,W=$.getContext("webgl2",X),W.luma||={},W.luma.softwareRenderer=!0;if(!W){if(W=$.getContext("webgl",{}),W)W=null,Z||="Your browser only supports WebGL1"}if(!W)throw Z||="Your browser does not support WebGL",Error(`Failed to create WebGL context: ${Z}`);let{onContextLost:H,onContextRestored:F}=Q;return $.addEventListener("webglcontextlost",(V)=>H(V),!1),$.addEventListener("webglcontextrestored",(V)=>F(V),!1),W.luma||={},W}function G3($,Q,J){if(J[Q]===void 0)J[Q]=$.getExtension(Q)||null;return J[Q]}function ls($,Q){let J=$.getParameter(7936),Z=$.getParameter(7937);G3($,"WEBGL_debug_renderer_info",Q);let X=Q.WEBGL_debug_renderer_info,W=$.getParameter(X?X.UNMASKED_VENDOR_WEBGL:7936),H=$.getParameter(X?X.UNMASKED_RENDERER_WEBGL:7937),F=W||J,V=H||Z,D=$.getParameter(7938),C=ps(F,V),z=_N1(F,V),R=xN1(F,V);return{type:"webgl",gpu:C,gpuType:R,gpuBackend:z,vendor:F,renderer:V,version:D,shadingLanguage:"glsl",shadingLanguageVersion:300}}function ps($,Q){if(/NVIDIA/i.exec($)||/NVIDIA/i.exec(Q))return"nvidia";if(/INTEL/i.exec($)||/INTEL/i.exec(Q))return"intel";if(/Apple/i.exec($)||/Apple/i.exec(Q))return"apple";if(/AMD/i.exec($)||/AMD/i.exec(Q)||/ATI/i.exec($)||/ATI/i.exec(Q))return"amd";if(/SwiftShader/i.exec($)||/SwiftShader/i.exec(Q))return"software";return"unknown"}function _N1($,Q){if(/Metal/i.exec($)||/Metal/i.exec(Q))return"metal";if(/ANGLE/i.exec($)||/ANGLE/i.exec(Q))return"opengl";return"unknown"}function xN1($,Q){if(/SwiftShader/i.exec($)||/SwiftShader/i.exec(Q))return"cpu";switch(ps($,Q)){case"intel":return"integrated";case"software":return"cpu";case"unknown":return"unknown";default:return"discrete"}}function iV($){switch($){case"uint8":return 5121;case"sint8":return 5120;case"unorm8":return 5121;case"snorm8":return 5120;case"uint16":return 5123;case"sint16":return 5122;case"unorm16":return 5123;case"snorm16":return 5122;case"uint32":return 5125;case"sint32":return 5124;case"float16":return 5131;case"float32":return 5126}throw Error(String($))}var aY="WEBGL_compressed_texture_s3tc",rY="WEBGL_compressed_texture_s3tc_srgb",PZ="EXT_texture_compression_rgtc",MZ="EXT_texture_compression_bptc",gN1="WEBGL_compressed_texture_etc",yN1="WEBGL_compressed_texture_astc",bN1="WEBGL_compressed_texture_etc1",fN1="WEBGL_compressed_texture_pvrtc",mN1="WEBGL_compressed_texture_atc",us="EXT_texture_norm16",is="EXT_render_snorm",cN1="EXT_color_buffer_float",nV={"float32-renderable-webgl":["EXT_color_buffer_float"],"float16-renderable-webgl":["EXT_color_buffer_half_float"],"rgb9e5ufloat-renderable-webgl":["WEBGL_render_shared_exponent"],"snorm8-renderable-webgl":[is],"norm16-renderable-webgl":[us],"snorm16-renderable-webgl":[us,is],"float32-filterable":["OES_texture_float_linear"],"float16-filterable-webgl":["OES_texture_half_float_linear"],"texture-filterable-anisotropic-webgl":["EXT_texture_filter_anisotropic"],"texture-blend-float-webgl":["EXT_float_blend"],"texture-compression-bc":[aY,rY,PZ,MZ],"texture-compression-bc5-webgl":[PZ],"texture-compression-bc7-webgl":[MZ],"texture-compression-etc2":[gN1],"texture-compression-astc":[yN1],"texture-compression-etc1-webgl":[bN1],"texture-compression-pvrtc-webgl":[fN1],"texture-compression-atc-webgl":[mN1]};function ns($){return $ in nV}function ss($,Q,J){return(nV[Q]||[]).every((X)=>G3($,X,J))}var Lw={r8unorm:{gl:33321,rb:!0},r8snorm:{gl:36756},r8uint:{gl:33330,rb:!0},r8sint:{gl:33329,rb:!0},rg8unorm:{gl:33323,rb:!0},rg8snorm:{gl:36757},rg8uint:{gl:33336,rb:!0},rg8sint:{gl:33335,rb:!0},r16uint:{gl:33332,rb:!0},r16sint:{gl:33331,rb:!0},r16float:{gl:33325,rb:!0},"r16unorm-webgl":{gl:33322,rb:!0},"r16snorm-webgl":{gl:36760},"rgba4unorm-webgl":{gl:32854,rb:!0},"rgb565unorm-webgl":{gl:36194,rb:!0},"rgb5a1unorm-webgl":{gl:32855,rb:!0},"rgb8unorm-webgl":{gl:32849},"rgb8snorm-webgl":{gl:36758},rgba8unorm:{gl:32856},"rgba8unorm-srgb":{gl:35907},rgba8snorm:{gl:36759},rgba8uint:{gl:36220},rgba8sint:{gl:36238},bgra8unorm:{},"bgra8unorm-srgb":{},rg16uint:{gl:33338},rg16sint:{gl:33337},rg16float:{gl:33327,rb:!0},"rg16unorm-webgl":{gl:33324},"rg16snorm-webgl":{gl:36761},r32uint:{gl:33334,rb:!0},r32sint:{gl:33333,rb:!0},r32float:{gl:33326},rgb9e5ufloat:{gl:35901},rg11b10ufloat:{gl:35898,rb:!0},rgb10a2unorm:{gl:32857,rb:!0},"rgb10a2uint-webgl":{gl:36975,rb:!0},"rgb16unorm-webgl":{gl:32852},"rgb16snorm-webgl":{gl:36762},rg32uint:{gl:33340,rb:!0},rg32sint:{gl:33339,rb:!0},rg32float:{gl:33328,rb:!0},rgba16uint:{gl:36214,rb:!0},rgba16sint:{gl:36232,rb:!0},rgba16float:{gl:34842},"rgba16unorm-webgl":{gl:32859,rb:!0},"rgba16snorm-webgl":{gl:36763},"rgb32float-webgl":{gl:34837,x:cN1,dataFormat:6407,types:[5126]},rgba32uint:{gl:36208,rb:!0},rgba32sint:{gl:36226,rb:!0},rgba32float:{gl:34836,rb:!0},stencil8:{gl:36168,rb:!0},depth16unorm:{gl:33189,dataFormat:6402,types:[5123],rb:!0},depth24plus:{gl:33190,dataFormat:6402,types:[5125]},depth32float:{gl:36012,dataFormat:6402,types:[5126],rb:!0},"depth24plus-stencil8":{gl:35056,rb:!0,depthTexture:!0,dataFormat:34041,types:[34042]},"depth32float-stencil8":{gl:36013,dataFormat:34041,types:[36269],rb:!0},"bc1-rgb-unorm-webgl":{gl:33776,x:aY},"bc1-rgb-unorm-srgb-webgl":{gl:35916,x:rY},"bc1-rgba-unorm":{gl:33777,x:aY},"bc1-rgba-unorm-srgb":{gl:35916,x:rY},"bc2-rgba-unorm":{gl:33778,x:aY},"bc2-rgba-unorm-srgb":{gl:35918,x:rY},"bc3-rgba-unorm":{gl:33779,x:aY},"bc3-rgba-unorm-srgb":{gl:35919,x:rY},"bc4-r-unorm":{gl:36283,x:PZ},"bc4-r-snorm":{gl:36284,x:PZ},"bc5-rg-unorm":{gl:36285,x:PZ},"bc5-rg-snorm":{gl:36286,x:PZ},"bc6h-rgb-ufloat":{gl:36495,x:MZ},"bc6h-rgb-float":{gl:36494,x:MZ},"bc7-rgba-unorm":{gl:36492,x:MZ},"bc7-rgba-unorm-srgb":{gl:36493,x:MZ},"etc2-rgb8unorm":{gl:37492},"etc2-rgb8unorm-srgb":{gl:37494},"etc2-rgb8a1unorm":{gl:37496},"etc2-rgb8a1unorm-srgb":{gl:37497},"etc2-rgba8unorm":{gl:37493},"etc2-rgba8unorm-srgb":{gl:37495},"eac-r11unorm":{gl:37488},"eac-r11snorm":{gl:37489},"eac-rg11unorm":{gl:37490},"eac-rg11snorm":{gl:37491},"astc-4x4-unorm":{gl:37808},"astc-4x4-unorm-srgb":{gl:37840},"astc-5x4-unorm":{gl:37809},"astc-5x4-unorm-srgb":{gl:37841},"astc-5x5-unorm":{gl:37810},"astc-5x5-unorm-srgb":{gl:37842},"astc-6x5-unorm":{gl:37811},"astc-6x5-unorm-srgb":{gl:37843},"astc-6x6-unorm":{gl:37812},"astc-6x6-unorm-srgb":{gl:37844},"astc-8x5-unorm":{gl:37813},"astc-8x5-unorm-srgb":{gl:37845},"astc-8x6-unorm":{gl:37814},"astc-8x6-unorm-srgb":{gl:37846},"astc-8x8-unorm":{gl:37815},"astc-8x8-unorm-srgb":{gl:37847},"astc-10x5-unorm":{gl:37819},"astc-10x5-unorm-srgb":{gl:37851},"astc-10x6-unorm":{gl:37817},"astc-10x6-unorm-srgb":{gl:37849},"astc-10x8-unorm":{gl:37818},"astc-10x8-unorm-srgb":{gl:37850},"astc-10x10-unorm":{gl:37819},"astc-10x10-unorm-srgb":{gl:37851},"astc-12x10-unorm":{gl:37820},"astc-12x10-unorm-srgb":{gl:37852},"astc-12x12-unorm":{gl:37821},"astc-12x12-unorm-srgb":{gl:37853},"pvrtc-rgb4unorm-webgl":{gl:35840},"pvrtc-rgba4unorm-webgl":{gl:35842},"pvrtc-rbg2unorm-webgl":{gl:35841},"pvrtc-rgba2unorm-webgl":{gl:35843},"etc1-rbg-unorm-webgl":{gl:36196},"atc-rgb-unorm-webgl":{gl:35986},"atc-rgba-unorm-webgl":{gl:35986},"atc-rgbai-unorm-webgl":{gl:34798}};function os($,Q,J){let Z=Q.create,X=Lw[Q.format];if(X?.gl===void 0)Z=!1;if(X?.x)Z=Z&&Boolean(G3($,X.x,J));return{format:Q.format,create:Z&&Q.create,render:Z&&Q.render,filter:Z&&Q.filter,blend:Z&&Q.blend,store:Z&&Q.store}}function sV($){let Q=Lw[$],J=lN1($),Z=oJ($);return{internalFormat:J,format:Q?.dataFormat||dN1(Z.channels,Z.integer,Z.normalized,J),type:Z.dataType?iV(Z.dataType):Q?.types?.[0]||5121,compressed:Z.compressed||!1}}function as($){switch(oJ($).attachment){case"depth":return 36096;case"stencil":return 36128;case"depth-stencil":return 33306;default:throw Error(`Not a depth stencil format: ${$}`)}}function dN1($,Q,J,Z){if(Z===6408||Z===6407)return Z;switch($){case"r":return Q&&!J?36244:6403;case"rg":return Q&&!J?33320:33319;case"rgb":return Q&&!J?36248:6407;case"rgba":return Q&&!J?36249:6408;case"bgra":throw Error("bgra pixels not supported by WebGL");default:return 6408}}function lN1($){let J=Lw[$]?.gl;if(J===void 0)throw Error(`Unsupported texture format ${$}`);return J}var rs={"depth-clip-control":"EXT_depth_clamp","timer-query-webgl":"EXT_disjoint_timer_query_webgl2","compilation-status-async-webgl":"KHR_parallel_shader_compile","polygon-mode-webgl":"WEBGL_polygon_mode","provoking-vertex-webgl":"WEBGL_provoking_vertex","shader-clip-cull-distance-webgl":"WEBGL_clip_cull_distance","shader-noperspective-interpolation-webgl":"NV_shader_noperspective_interpolation","shader-conservative-depth-webgl":"EXT_conservative_depth"};class hw extends jU{gl;extensions;testedFeatures=new Set;constructor($,Q,J){super([],J);this.gl=$,this.extensions=Q,G3($,"EXT_color_buffer_float",Q)}*[Symbol.iterator](){let $=this.getFeatures();for(let Q of $)if(this.has(Q))yield Q;return[]}has($){if(this.disabledFeatures?.[$])return!1;if(!this.testedFeatures.has($)){if(this.testedFeatures.add($),ns($)&&ss(this.gl,$,this.extensions))this.features.add($);if(this.getWebGLFeature($))this.features.add($)}return this.features.has($)}initializeFeatures(){let $=this.getFeatures().filter((Q)=>Q!=="polygon-mode-webgl");for(let Q of $)this.has(Q)}getFeatures(){return[...Object.keys(rs),...Object.keys(nV)]}getWebGLFeature($){let Q=rs[$];return typeof Q==="string"?Boolean(G3(this.gl,Q,this.extensions)):Boolean(Q)}}class vw extends EU{get maxTextureDimension1D(){return 0}get maxTextureDimension2D(){return this.getParameter(3379)}get maxTextureDimension3D(){return this.getParameter(32883)}get maxTextureArrayLayers(){return this.getParameter(35071)}get maxBindGroups(){return 0}get maxDynamicUniformBuffersPerPipelineLayout(){return 0}get maxDynamicStorageBuffersPerPipelineLayout(){return 0}get maxSampledTexturesPerShaderStage(){return this.getParameter(35660)}get maxSamplersPerShaderStage(){return this.getParameter(35661)}get maxStorageBuffersPerShaderStage(){return 0}get maxStorageTexturesPerShaderStage(){return 0}get maxUniformBuffersPerShaderStage(){return this.getParameter(35375)}get maxUniformBufferBindingSize(){return this.getParameter(35376)}get maxStorageBufferBindingSize(){return 0}get minUniformBufferOffsetAlignment(){return this.getParameter(35380)}get minStorageBufferOffsetAlignment(){return 0}get maxVertexBuffers(){return 16}get maxVertexAttributes(){return this.getParameter(34921)}get maxVertexBufferArrayStride(){return 2048}get maxInterStageShaderComponents(){return this.getParameter(35659)}get maxComputeWorkgroupStorageSize(){return 0}get maxComputeInvocationsPerWorkgroup(){return 0}get maxComputeWorkgroupSizeX(){return 0}get maxComputeWorkgroupSizeY(){return 0}get maxComputeWorkgroupSizeZ(){return 0}get maxComputeWorkgroupsPerDimension(){return 0}gl;limits={};constructor($){super();this.gl=$}getParameter($){if(this.limits[$]===void 0)this.limits[$]=this.gl.getParameter($);return this.limits[$]||0}}class G8 extends _${device;gl;handle;colorAttachments=[];depthStencilAttachment=null;constructor($,Q){super($,Q);let J=Q.handle===null;if(this.device=$,this.gl=$.gl,this.handle=this.props.handle||J?this.props.handle:this.gl.createFramebuffer(),!J)$.setSpectorMetadata(this.handle,{id:this.props.id,props:this.props}),this.autoCreateAttachmentTextures(),this.updateAttachments()}destroy(){if(super.destroy(),!this.destroyed&&this.handle!==null)this.gl.deleteFramebuffer(this.handle)}updateAttachments(){let $=this.gl.bindFramebuffer(36160,this.handle);for(let Q=0;Q<this.colorAttachments.length;++Q){let J=this.colorAttachments[Q];if(J){let Z=36064+Q;this._attachTextureView(Z,J)}}if(this.depthStencilAttachment){let Q=as(this.depthStencilAttachment.props.format);this._attachTextureView(Q,this.depthStencilAttachment)}if(this.device.props.debug){let Q=this.gl.checkFramebufferStatus(36160);if(Q!==36053)throw Error(`Framebuffer ${uN1(Q)}`)}this.gl.bindFramebuffer(36160,$)}_attachTextureView($,Q){let{gl:J}=this.device,{texture:Z}=Q,X=Q.props.baseMipLevel,W=Q.props.baseArrayLayer;switch(J.bindTexture(Z.glTarget,Z.handle),Z.glTarget){case 35866:case 32879:J.framebufferTextureLayer(36160,$,Z.handle,X,W);break;case 34067:let H=pN1(W);J.framebufferTexture2D(36160,$,H,Z.handle,X);break;case 3553:J.framebufferTexture2D(36160,$,3553,Z.handle,X);break;default:throw Error("Illegal texture type")}J.bindTexture(Z.glTarget,null)}}function pN1($){return $<34069?$+34069:$}function uN1($){switch($){case 36053:return"success";case 36054:return"Mismatched attachments";case 36055:return"No attachments";case 36057:return"Height/width mismatch";case 36061:return"Unsupported or split attachments";case 36182:return"Samples mismatch";default:return`${$}`}}class _w extends DY{device;format="rgba8unorm";depthStencilFormat="depth24plus";presentationSize;_framebuffer=null;get[Symbol.toStringTag](){return"WebGLCanvasContext"}constructor($,Q){super(Q);this.device=$,this.presentationSize=[-1,-1],this._setAutoCreatedCanvasId(`${this.device.id}-canvas`),this.update()}getCurrentFramebuffer(){return this.update(),this._framebuffer=this._framebuffer||new G8(this.device,{handle:null}),this._framebuffer}update(){let $=this.getPixelSize();if($[0]!==this.presentationSize[0]||$[1]!==this.presentationSize[1])this.presentationSize=$,this.resize()}resize($){if(!this.device.gl)return;if(this.canvas){let Q=this.getDevicePixelRatio($?.useDevicePixels);this.setDevicePixelRatio(Q,$);return}}commit(){}}async function oV($,Q){let J=document.getElementsByTagName("head")[0];if(!J)throw Error("loadScript");let Z=document.createElement("script");if(Z.setAttribute("type","text/javascript"),Z.setAttribute("src",$),Q)Z.id=Q;return new Promise((X,W)=>{Z.onload=X,Z.onerror=(H)=>W(Error(`Unable to load script '${$}': ${H}`)),J.appendChild(Z)})}var iN1=1,U4=null,ts=!1,aV={debugSpectorJS:X1.get("debug-spectorjs"),debugSpectorJSUrl:"https://cdn.jsdelivr.net/npm/spectorjs@0.9.30/dist/spector.bundle.js",gl:void 0};async function es($){if(!globalThis.SPECTOR)try{await oV($.debugSpectorJSUrl||aV.debugSpectorJSUrl)}catch(Q){X1.warn(String(Q))}}function $o($){if($={...aV,...$},!$.debugSpectorJS)return null;if(!U4&&globalThis.SPECTOR&&!globalThis.luma?.spector){X1.probe(iN1,"SPECTOR found and initialized. Start with `luma.spector.displayUI()`")();let{Spector:Q}=globalThis.SPECTOR;if(U4=new Q,globalThis.luma)globalThis.luma.spector=U4}if(!U4)return null;if(!ts)ts=!0,U4.spyCanvases(),U4?.onCaptureStarted.add((Q)=>X1.info("Spector capture started:",Q)()),U4?.onCapture.add((Q)=>{X1.info("Spector capture complete:",Q)(),U4?.getResultUI(),U4?.resultView.display(),U4?.resultView.addCapture(Q)});if($.gl){let Q=$.gl,J=Q.device;U4?.startCapture($.gl,500),Q.device=J,new Promise((Z)=>setTimeout(Z,2000)).then((Z)=>{X1.info("Spector capture stopped after 2 seconds")(),U4?.stopCapture()})}return U4}var nN1="https://unpkg.com/webgl-debug@2.0.1/index.js";function Jo($){return $.luma=$.luma||{},$.luma}async function Zo(){if(O6()&&!globalThis.WebGLDebugUtils)globalThis.global=globalThis.global||globalThis,globalThis.global.module={},await oV(nN1)}function Ko($,Q={}){return Q.debugWebGL||Q.traceWebGL?oN1($,Q):sN1($)}function sN1($){let Q=Jo($);return Q.realContext?Q.realContext:$}function oN1($,Q){if(!globalThis.WebGLDebugUtils)return X1.warn("webgl-debug not loaded")(),$;let J=Jo($);if(J.debugContext)return J.debugContext;globalThis.WebGLDebugUtils.init({...K2,...$});let Z=globalThis.WebGLDebugUtils.makeDebugContext($,aN1.bind(null,Q),rN1.bind(null,Q));for(let H in K2)if(!(H in Z)&&typeof K2[H]==="number")Z[H]=K2[H];class X{}Object.setPrototypeOf(Z,Object.getPrototypeOf($)),Object.setPrototypeOf(X,Z);let W=Object.create(X);return J.realContext=$,J.debugContext=W,W.debug=!0,W}function Qo($,Q){Q=Array.from(Q).map((Z)=>Z===void 0?"undefined":Z);let J=globalThis.WebGLDebugUtils.glFunctionArgsToString($,Q);return J=`${J.slice(0,100)}${J.length>100?"...":""}`,`gl.${$}(${J})`}function aN1($,Q,J,Z){Z=Array.from(Z).map((F)=>F===void 0?"undefined":F);let X=globalThis.WebGLDebugUtils.glEnumToString(Q),W=globalThis.WebGLDebugUtils.glFunctionArgsToString(J,Z),H=`${X} in gl.${J}(${W})`;X1.error(H)();debugger}function rN1($,Q,J){let Z="";if(X1.level>=1){if(Z=Qo(Q,J),$.traceWebGL)X1.log(1,Z)()}for(let X of J)if(X===void 0){Z=Z||Qo(Q,J);debugger}}var xw={};function Xo($="id"){xw[$]=xw[$]||1;let Q=xw[$]++;return`${$}-${Q}`}class E3 extends U0{device;gl;handle;glTarget;glUsage;glIndexType=5123;byteLength;bytesUsed;constructor($,Q={}){super($,Q);this.device=$,this.gl=this.device.gl;let J=typeof Q==="object"?Q.handle:void 0;if(this.handle=J||this.gl.createBuffer(),$.setSpectorMetadata(this.handle,{...this.props,data:typeof this.props.data}),this.glTarget=tN1(this.props.usage),this.glUsage=eN1(this.props.usage),this.glIndexType=this.props.indexType==="uint32"?5125:5123,Q.data)this._initWithData(Q.data,Q.byteOffset,Q.byteLength);else this._initWithByteLength(Q.byteLength||0)}_initWithData($,Q=0,J=$.byteLength+Q){let Z=this.glTarget;this.gl.bindBuffer(Z,this.handle),this.gl.bufferData(Z,J,this.glUsage),this.gl.bufferSubData(Z,Q,$),this.gl.bindBuffer(Z,null),this.bytesUsed=J,this.byteLength=J,this._setDebugData($,Q,J),this.trackAllocatedMemory(J)}_initWithByteLength($){let Q=$;if($===0)Q=new Float32Array(0);let J=this.glTarget;return this.gl.bindBuffer(J,this.handle),this.gl.bufferData(J,Q,this.glUsage),this.gl.bindBuffer(J,null),this.bytesUsed=$,this.byteLength=$,this._setDebugData(null,0,$),this.trackAllocatedMemory($),this}destroy(){if(!this.destroyed&&this.handle)this.removeStats(),this.trackDeallocatedMemory(),this.gl.deleteBuffer(this.handle),this.destroyed=!0,this.handle=null}write($,Q=0){this.gl.bindBuffer(36663,this.handle),this.gl.bufferSubData(36663,Q,$),this.gl.bindBuffer(36663,null),this._setDebugData($,Q,$.byteLength)}async readAsync($=0,Q){return this.readSyncWebGL($,Q)}readSyncWebGL($=0,Q){Q=Q??this.byteLength-$;let J=new Uint8Array(Q),Z=0;return this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,$,J,Z,Q),this.gl.bindBuffer(36662,null),this._setDebugData(J,$,Q),J}}function tN1($){if($&U0.INDEX)return 34963;if($&U0.VERTEX)return 34962;if($&U0.UNIFORM)return 35345;return 34962}function eN1($){if($&U0.INDEX)return 35044;if($&U0.VERTEX)return 35044;if($&U0.UNIFORM)return 35048;return 35044}function Wo($){let Q=$.split(/\r?\n/),J=[];for(let Z of Q){if(Z.length<=1)continue;let X=Z.split(":");if(X.length===2){let[z,R]=X;J.push({message:R.trim(),type:Yo(z),lineNum:0,linePos:0});continue}let[W,H,F,...V]=X,D=parseInt(F,10);if(isNaN(D))D=0;let C=parseInt(H,10);if(isNaN(C))C=0;J.push({message:V.join(":").trim(),type:Yo(W),lineNum:D,linePos:C})}return J}function Yo($){let Q=["warning","error","info"],J=$.toLowerCase();return Q.includes(J)?J:"info"}class gw extends v${device;handle;constructor($,Q){super($,Q);switch(this.device=$,this.props.stage){case"vertex":this.handle=this.props.handle||this.device.gl.createShader(35633);break;case"fragment":this.handle=this.props.handle||this.device.gl.createShader(35632);break;default:throw Error(this.props.stage)}this._compile(this.source)}destroy(){if(this.handle)this.removeStats(),this.device.gl.deleteShader(this.handle),this.destroyed=!0}get asyncCompilationStatus(){return this._waitForCompilationComplete().then(()=>this.compilationStatus)}async getCompilationInfo(){return await this._waitForCompilationComplete(),this.getCompilationInfoSync()}getCompilationInfoSync(){let $=this.device.gl.getShaderInfoLog(this.handle);return $?Wo($):[]}getTranslatedSource(){return this.device.getExtension("WEBGL_debug_shaders").WEBGL_debug_shaders?.getTranslatedShaderSource(this.handle)||null}async _compile($){$=$.startsWith("#version ")?$:`#version 300 es
${$}`;let{gl:Q}=this.device;if(Q.shaderSource(this.handle,$),Q.compileShader(this.handle),!this.device.props.debug){this.compilationStatus="pending";return}if(!this.device.features.has("compilation-status-async-webgl")){if(this._getCompilationStatus(),this.debugShader(),this.compilationStatus==="error")throw Error(`GLSL compilation errors in ${this.props.stage} shader ${this.props.id}`);return}X1.once(1,"Shader compilation is asynchronous")(),await this._waitForCompilationComplete(),X1.info(2,`Shader ${this.id} - async compilation complete: ${this.compilationStatus}`)(),this._getCompilationStatus(),this.debugShader()}async _waitForCompilationComplete(){let $=async(Z)=>await new Promise((X)=>setTimeout(X,Z)),Q=10;if(!this.device.features.has("compilation-status-async-webgl")){await $(10);return}let{gl:J}=this.device;for(;;){if(J.getShaderParameter(this.handle,37297))return;await $(10)}}_getCompilationStatus(){this.compilationStatus=this.device.gl.getShaderParameter(this.handle,35713)?"success":"error"}}function Ho($,Q,J,Z){if(ZD1(Q))return Z($);let X=$;X.pushState();try{return $D1($,Q),E7(X.gl,J),Z($)}finally{X.popState()}}function $D1($,Q){let J=$,{gl:Z}=J;if(Q.cullMode)switch(Q.cullMode){case"none":Z.disable(2884);break;case"front":Z.enable(2884),Z.cullFace(1028);break;case"back":Z.enable(2884),Z.cullFace(1029);break}if(Q.frontFace)Z.frontFace(p$("frontFace",Q.frontFace,{ccw:2305,cw:2304}));if(Q.unclippedDepth){if($.features.has("depth-clip-control"))Z.enable(34383)}if(Q.depthBias!==void 0)Z.enable(32823),Z.polygonOffset(Q.depthBias,Q.depthBiasSlopeScale||0);if(Q.provokingVertex){if($.features.has("provoking-vertex-webgl")){let W=J.getExtension("WEBGL_provoking_vertex").WEBGL_provoking_vertex,H=p$("provokingVertex",Q.provokingVertex,{first:36429,last:36430});W?.provokingVertexWEBGL(H)}}if(Q.polygonMode||Q.polygonOffsetLine){if($.features.has("polygon-mode-webgl")){if(Q.polygonMode){let W=J.getExtension("WEBGL_polygon_mode").WEBGL_polygon_mode,H=p$("polygonMode",Q.polygonMode,{fill:6914,line:6913});W?.polygonModeWEBGL(1028,H),W?.polygonModeWEBGL(1029,H)}if(Q.polygonOffsetLine)Z.enable(10754)}}if($.features.has("shader-clip-cull-distance-webgl")){if(Q.clipDistance0)Z.enable(12288);if(Q.clipDistance1)Z.enable(12289);if(Q.clipDistance2)Z.enable(12290);if(Q.clipDistance3)Z.enable(12291);if(Q.clipDistance4)Z.enable(12292);if(Q.clipDistance5)Z.enable(12293);if(Q.clipDistance6)Z.enable(12294);if(Q.clipDistance7)Z.enable(12295)}if(Q.depthWriteEnabled!==void 0)Z.depthMask(JD1("depthWriteEnabled",Q.depthWriteEnabled));if(Q.depthCompare)Q.depthCompare!=="always"?Z.enable(2929):Z.disable(2929),Z.depthFunc(tV("depthCompare",Q.depthCompare));if(Q.stencilWriteMask){let X=Q.stencilWriteMask;Z.stencilMaskSeparate(1028,X),Z.stencilMaskSeparate(1029,X)}if(Q.stencilReadMask)X1.warn("stencilReadMask not supported under WebGL");if(Q.stencilCompare){let X=Q.stencilReadMask||4294967295,W=tV("depthCompare",Q.stencilCompare);Q.stencilCompare!=="always"?Z.enable(2960):Z.disable(2960),Z.stencilFuncSeparate(1028,W,0,X),Z.stencilFuncSeparate(1029,W,0,X)}if(Q.stencilPassOperation&&Q.stencilFailOperation&&Q.stencilDepthFailOperation){let X=yw("stencilPassOperation",Q.stencilPassOperation),W=yw("stencilFailOperation",Q.stencilFailOperation),H=yw("stencilDepthFailOperation",Q.stencilDepthFailOperation);Z.stencilOpSeparate(1028,W,H,X),Z.stencilOpSeparate(1029,W,H,X)}switch(Q.blend){case!0:Z.enable(3042);break;case!1:Z.disable(3042);break;default:}if(Q.blendColorOperation||Q.blendAlphaOperation){let X=qo("blendColorOperation",Q.blendColorOperation||"add"),W=qo("blendAlphaOperation",Q.blendAlphaOperation||"add");Z.blendEquationSeparate(X,W);let H=rV("blendColorSrcFactor",Q.blendColorSrcFactor||"one"),F=rV("blendColorDstFactor",Q.blendColorDstFactor||"zero"),V=rV("blendAlphaSrcFactor",Q.blendAlphaSrcFactor||"one"),D=rV("blendAlphaDstFactor",Q.blendAlphaDstFactor||"zero");Z.blendFuncSeparate(H,F,V,D)}}function tV($,Q){return p$($,Q,{never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519})}function yw($,Q){return p$($,Q,{keep:7680,zero:0,replace:7681,invert:5386,"increment-clamp":7682,"decrement-clamp":7683,"increment-wrap":34055,"decrement-wrap":34056})}function qo($,Q){return p$($,Q,{add:32774,subtract:32778,"reverse-subtract":32779,min:32775,max:32776})}function rV($,Q){return p$($,Q,{one:1,zero:0,"src-color":768,"one-minus-src-color":769,"dst-color":774,"one-minus-dst-color":775,"src-alpha":770,"one-minus-src-alpha":771,"dst-alpha":772,"one-minus-dst-alpha":773,"src-alpha-saturated":776,"constant-color":32769,"one-minus-constant-color":32770,"constant-alpha":32771,"one-minus-constant-alpha":32772})}function QD1($,Q){return`Illegal parameter ${Q} for ${$}`}function p$($,Q,J){if(!(Q in J))throw Error(QD1($,Q));return J[Q]}function JD1($,Q){return Q}function ZD1($){let Q=!0;for(let J in $){Q=!1;break}return Q}function eV($){let Q={};if($.addressModeU)Q[10242]=bw($.addressModeU);if($.addressModeV)Q[10243]=bw($.addressModeV);if($.addressModeW)Q[32882]=bw($.addressModeW);if($.magFilter)Q[10240]=fw($.magFilter);if($.minFilter||$.mipmapFilter)Q[10241]=KD1($.minFilter||"linear",$.mipmapFilter);if($.lodMinClamp!==void 0)Q[33082]=$.lodMinClamp;if($.lodMaxClamp!==void 0)Q[33083]=$.lodMaxClamp;if($.type==="comparison-sampler")Q[34892]=34894;if($.compare)Q[34893]=tV("compare",$.compare);if($.maxAnisotropy)Q[34046]=$.maxAnisotropy;return Q}function bw($){switch($){case"clamp-to-edge":return 33071;case"repeat":return 10497;case"mirror-repeat":return 33648}}function fw($){switch($){case"nearest":return 9728;case"linear":return 9729}}function KD1($,Q="none"){if(!Q)return fw($);switch(Q){case"none":return fw($);case"nearest":return $==="nearest"?9984:9986;case"linear":return $==="nearest"?9985:9987}}class wZ extends n9{device;handle;parameters;constructor($,Q){super($,Q);this.device=$,this.parameters=eV(Q),this.handle=this.handle||this.device.gl.createSampler(),this._setSamplerParameters(this.parameters)}destroy(){if(this.handle)this.device.gl.deleteSampler(this.handle),this.handle=void 0}toString(){return`Sampler(${this.id},${JSON.stringify(this.props)})`}_setSamplerParameters($){for(let[Q,J]of Object.entries($)){let Z=Number(Q);switch(Z){case 33082:case 33083:this.device.gl.samplerParameterf(this.handle,Z,J);break;default:this.device.gl.samplerParameteri(this.handle,Z,J);break}}}}class E8 extends h${device;gl;handle;texture;constructor($,Q){super($,{...A0.defaultProps,...Q});this.device=$,this.gl=this.device.gl,this.handle=null,this.texture=Q.texture}}var XD1="Failed to deduce GL constant from typed array";function Fo($){switch(ArrayBuffer.isView($)?$.constructor:$){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:return 5121;case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw Error(XD1)}}function Uo($,Q){let{clamped:J=!0}=Q||{};switch($){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return J?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw Error("Failed to deduce typed array type from GL constant")}}function mw($){switch($){case 6406:case 33326:case 6403:case 36244:return 1;case 33339:case 33340:case 33328:case 33320:case 33319:return 2;case 6407:case 36248:case 34837:return 3;case 6408:case 36249:case 34836:return 4;default:return 0}}function Vo($){switch($){case 5121:return 1;case 33635:case 32819:case 32820:return 2;case 5126:return 4;default:return 0}}function u$($,Q,J){if(YD1(Q))return J($);let{nocatch:Z=!0}=Q,X=I3.get($);X.push(),E7($,Q);let W;if(Z)W=J($),X.pop();else try{W=J($)}finally{X.pop()}return W}function YD1($){for(let Q in $)return!1;return!0}function No($,Q,J){let{dimension:Z,width:X,height:W,depth:H=0}=J,{glInternalFormat:F}=J,V=J.glTarget;switch(Z){case"2d-array":case"3d":$.texStorage3D(V,Q,F,X,W,H);break;default:$.texStorage2D(V,Q,F,X,W)}}function cw($,Q,J,Z){let{width:X,height:W}=Z,{dimension:H,depth:F=0,mipLevel:V=0}=Z,{x:D=0,y:C=0,z=0}=Z,{glFormat:R,glType:k}=Z,P=Co(Z.glTarget,H,F),S=Z.flipY?{[37440]:!0}:{};u$($,S,()=>{switch(H){case"2d-array":case"3d":$.bindTexture(P,Q),$.texSubImage3D(P,V,D,C,z,X,W,F,R,k,J),$.bindTexture(P,null);break;case"2d":case"cube":$.bindTexture(P,Q),$.texSubImage2D(P,V,D,C,X,W,R,k,J),$.bindTexture(P,null);break;default:throw Error(H)}})}function dw($,Q,J){let{dimension:Z,width:X,height:W,depth:H=0,mipLevel:F=0,byteOffset:V=0}=J,{x:D=0,y:C=0,z=0}=J,{glFormat:R,glType:k,compressed:P}=J,S=Co(J.glTarget,Z,H);switch(Z){case"2d-array":case"3d":if(P)$.compressedTexSubImage3D(S,F,D,C,z,X,W,H,R,Q,V);else $.texSubImage3D(S,F,D,C,z,X,W,H,R,k,Q,V);break;case"2d":case"cube":if(P)$.compressedTexSubImage2D(S,F,D,C,X,W,R,Q,V);else $.texSubImage2D(S,F,D,C,X,W,R,k,Q,V);break;default:throw Error(Z)}}function Do($){switch($){case"1d":break;case"2d":return 3553;case"3d":return 32879;case"cube":return 34067;case"2d-array":return 35866;case"cube-array":break}throw Error($)}function Co($,Q,J){return Q==="cube"?34069+J:$}function Ao($,Q){let{sourceX:J=0,sourceY:Z=0,sourceAttachment:X=0}=Q||{},{target:W=null,sourceWidth:H,sourceHeight:F,sourceDepth:V,sourceFormat:D,sourceType:C}=Q||{},{framebuffer:z,deleteFramebuffer:R}=Bo($),{gl:k,handle:P}=z;H||=z.width,F||=z.height;let S=z.colorAttachments[X]?.texture;if(!S)throw Error(`Invalid framebuffer attachment ${X}`);V=S?.depth||1,D||=S?.glFormat||6408,C||=S?.glType||5121,W=qD1(W,C,D,H,F,V),C=C||Fo(W);let T=k.bindFramebuffer(36160,P);if(k.readBuffer(36064+X),k.readPixels(J,Z,H,F,D,C,W),k.readBuffer(36064),k.bindFramebuffer(36160,T||null),R)z.destroy();return W}function zo($,Q){let{target:J,sourceX:Z=0,sourceY:X=0,sourceFormat:W=6408,targetByteOffset:H=0}=Q||{},{sourceWidth:F,sourceHeight:V,sourceType:D}=Q||{},{framebuffer:C,deleteFramebuffer:z}=Bo($);F=F||C.width,V=V||C.height;let R=C;D=D||5121;let k=J;if(!k){let S=mw(W),T=Vo(D),_=H+F*V*S*T;k=R.device.createBuffer({byteLength:_})}let P=$.device.createCommandEncoder();if(P.copyTextureToBuffer({sourceTexture:$,width:F,height:V,origin:[Z,X],destinationBuffer:k,byteOffset:H}),P.destroy(),z)C.destroy();return k}function Bo($){if(!($ instanceof _$))return{framebuffer:WD1($),deleteFramebuffer:!0};return{framebuffer:$,deleteFramebuffer:!1}}function WD1($,Q){let{device:J,width:Z,height:X,id:W}=$;return J.createFramebuffer({...Q,id:`framebuffer-for-${W}`,width:Z,height:X,colorAttachments:[$]})}function qD1($,Q,J,Z,X,W){if($)return $;Q||=5121;let H=Uo(Q,{clamped:!1}),F=mw(J);return new H(Z*X*F)}class j8 extends A0{device;gl;handle;sampler=void 0;view=void 0;mipmaps;compressed;glTarget;glFormat;glType;glInternalFormat;textureUnit=0;constructor($,Q){super($,Q);let J={...this.props};J.data=Q.data,this.device=$,this.gl=this.device.gl,this.glTarget=Do(this.props.dimension);let Z=sV(this.props.format);this.glInternalFormat=Z.internalFormat,this.glFormat=Z.format,this.glType=Z.type,this.compressed=Z.compressed,this.mipmaps=Boolean(this.props.mipmaps),this._initialize(J),Object.seal(this)}_initialize($){this.handle=this.props.handle||this.gl.createTexture(),this.device.setSpectorMetadata(this.handle,{...this.props,data:$.data});let{width:Q,height:J}=$;if(!Q||!J){let Z=A0.getTextureDataSize($.data);Q=Z?.width||1,J=Z?.height||1}if(this.width=Q,this.height=J,this.depth=$.depth,this.setSampler($.sampler),this.view=new E8(this.device,{...this.props,texture:this}),this.bind(),No(this.gl,this.mipLevels,this),$.data)switch($.dimension){case"1d":this.setTexture1DData($.data);break;case"2d":this.setTexture2DData($.data);break;case"3d":this.setTexture3DData($.data);break;case"cube":this.setTextureCubeData($.data);break;case"2d-array":this.setTextureArrayData($.data);break;case"cube-array":this.setTextureCubeArrayData($.data);break;default:throw Error($.dimension)}if(this.mipmaps)this.generateMipmap()}destroy(){if(this.handle)this.gl.deleteTexture(this.handle),this.removeStats(),this.trackDeallocatedMemory("Texture"),this.destroyed=!0}createView($){return new E8(this.device,{...$,texture:this})}setSampler($={}){let Q;if($ instanceof wZ)this.sampler=$,Q=$.props;else this.sampler=new wZ(this.device,$),Q=$;let J=eV(Q);this._setSamplerParameters(J)}generateMipmap($){if(!(this.device.isTextureFormatRenderable(this.props.format)&&this.device.isTextureFormatFilterable(this.props.format))){if(X1.warn(`${this} is not renderable or filterable, may not be able to generate mipmaps`)(),!$?.force)return}try{this.gl.bindTexture(this.glTarget,this.handle),this.gl.generateMipmap(this.glTarget)}catch(J){X1.warn(`Error generating mipmap for ${this}: ${J.message}`)()}finally{this.gl.bindTexture(this.glTarget,null)}}copyExternalImage($){let Q=A0.getExternalImageSize($.image),J={...A0.defaultCopyExternalImageOptions,...Q,...$},{image:Z,depth:X,mipLevel:W,x:H,y:F,z:V,flipY:D}=J,{width:C,height:z}=J,{dimension:R,glTarget:k,glFormat:P,glInternalFormat:S,glType:T}=this;if(C=Math.min(C,this.width-H),z=Math.min(z,this.height-F),$.sourceX||$.sourceY)throw Error("WebGL does not support sourceX/sourceY)");return cw(this.device.gl,this.handle,Z,{dimension:R,mipLevel:W,x:H,y:F,z:V,width:C,height:z,depth:X,glFormat:P,glInternalFormat:S,glType:T,glTarget:k,flipY:D}),{width:J.width,height:J.height}}setTexture1DData($){throw Error("setTexture1DData not supported in WebGL.")}setTexture2DData($,Q=0){this.bind();let J=A0.normalizeTextureData($,this);if(J.length>1&&this.props.mipmaps!==!1)X1.warn(`Texture ${this.id} mipmap and multiple LODs.`)();for(let Z=0;Z<J.length;Z++){let X=J[Z];this._setMipLevel(Q,Z,X)}this.unbind()}setTexture3DData($){if(this.props.dimension!=="3d")throw Error(this.id);if(ArrayBuffer.isView($))this.bind(),dw(this.device.gl,$,this),this.unbind()}setTextureCubeData($,Q=0){if(this.props.dimension!=="cube")throw Error(this.id);for(let J of A0.CubeFaces)this.setTextureCubeFaceData($[J],J)}setTextureArrayData($){if(this.props.dimension!=="2d-array")throw Error(this.id);throw Error("setTextureArrayData not implemented.")}setTextureCubeArrayData($){throw Error("setTextureCubeArrayData not supported in WebGL2.")}setTextureCubeFaceData($,Q,J=0){if(Array.isArray($)&&$.length>1&&this.props.mipmaps!==!1)X1.warn(`${this.id} has mipmap and multiple LODs.`)();let Z=A0.CubeFaces.indexOf(Q);this.setTexture2DData($,Z)}update(){throw Error("Texture.update() not implemented. Use ExternalTexture")}setImageDataForFace($){let{face:Q,width:J,height:Z,pixels:X,data:W,format:H=6408,type:F=5121}=$,{gl:V}=this,D=X||W;if(this.bind(),D instanceof Promise)D.then((C)=>this.setImageDataForFace(Object.assign({},$,{face:Q,data:C,pixels:C})));else if(this.width||this.height)V.texImage2D(Q,0,H,J,Z,0,H,F,D);else V.texImage2D(Q,0,H,H,F,D)}_getImageDataMap($){for(let Q=0;Q<A0.CubeFaces.length;++Q){let J=A0.CubeFaces[Q];if($[J])$[34069+Q]=$[J],delete $[J]}return $}_setSamplerParameters($){X1.log(1,`${this.id} sampler parameters`,this.device.getGLKeys($))(),this.gl.bindTexture(this.glTarget,this.handle);for(let[Q,J]of Object.entries($)){let Z=Number(Q),X=J;switch(Z){case 33082:case 33083:this.gl.texParameterf(this.glTarget,Z,X);break;case 10241:this.gl.texParameteri(this.glTarget,Z,X);break;case 10242:case 10243:this.gl.texParameteri(this.glTarget,Z,X);break;case 34046:if(this.device.features.has("texture-filterable-anisotropic-webgl"))this.gl.texParameteri(this.glTarget,Z,X);break;default:this.gl.texParameteri(this.glTarget,Z,X);break}}this.gl.bindTexture(this.glTarget,null)}_setMipLevel($,Q,J,Z=this.glTarget){if(A0.isExternalImage(J)){cw(this.device.gl,this.handle,J,{...this,depth:$,mipLevel:Q,glTarget:Z,flipY:this.props.flipY});return}if(A0.isTextureLevelData(J)){dw(this.device.gl,J.data,{...this,depth:$,mipLevel:Q,glTarget:Z});return}throw Error("Texture: invalid image data")}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind($){let{gl:Q}=this;if($!==void 0)this.textureUnit=$,Q.activeTexture(33984+$);return Q.bindTexture(this.glTarget,this.handle),$}unbind($){let{gl:Q}=this;if($!==void 0)this.textureUnit=$,Q.activeTexture(33984+$);return Q.bindTexture(this.glTarget,null),$}}var HD1=[1,2,4,8];class lw extends C8{device;glParameters;constructor($,Q){super($,Q);this.device=$;let J;if(!Q?.parameters?.viewport)if(Q?.framebuffer){let{width:X,height:W}=Q.framebuffer;J=[0,0,X,W]}else{let[X,W]=$.getCanvasContext().getDrawingBufferSize();J=[0,0,X,W]}if(this.device.pushState(),this.setParameters({viewport:J,...this.props.parameters}),this.props.framebuffer?.handle)if(this.props.framebuffer){let X=this.props.framebuffer.colorAttachments.map((W,H)=>36064+H);this.device.gl.drawBuffers(X)}else this.device.gl.drawBuffers([1029]);this.clear()}end(){this.device.popState()}pushDebugGroup($){}popDebugGroup(){}insertDebugMarker($){}setParameters($={}){let Q={...this.glParameters};if(Q.framebuffer=this.props.framebuffer||null,this.props.depthReadOnly)Q.depthMask=!this.props.depthReadOnly;if(Q.stencilMask=this.props.stencilReadOnly?0:1,Q[35977]=this.props.discard,$.viewport)if($.viewport.length>=6)Q.viewport=$.viewport.slice(0,4),Q.depthRange=[$.viewport[4],$.viewport[5]];else Q.viewport=$.viewport;if($.scissorRect)Q.scissorTest=!0,Q.scissor=$.scissorRect;if($.blendConstant)Q.blendColor=$.blendConstant;if($.stencilReference)console.warn("RenderPassParameters.stencilReference not yet implemented in WebGL"),$[2967]=$.stencilReference;if($.colorMask)Q.colorMask=HD1.map((J)=>Boolean(J&$.colorMask));this.glParameters=Q,E7(this.device.gl,Q)}beginOcclusionQuery($){this.props.occlusionQuerySet?.beginOcclusionQuery()}endOcclusionQuery(){this.props.occlusionQuerySet?.endOcclusionQuery()}clear(){let $={...this.glParameters},Q=0;if(this.props.clearColors)this.props.clearColors.forEach((J,Z)=>{if(J)this.clearColorBuffer(Z,J)});if(this.props.clearColor!==!1&&this.props.clearColors===void 0)Q|=16384,$.clearColor=this.props.clearColor;if(this.props.clearDepth!==!1)Q|=256,$.clearDepth=this.props.clearDepth;if(this.props.clearStencil!==!1)Q|=1024,$.clearStencil=this.props.clearStencil;if(Q!==0)u$(this.device.gl,$,()=>{this.device.gl.clear(Q)})}clearColorBuffer($=0,Q=[0,0,0,0]){u$(this.device.gl,{framebuffer:this.props.framebuffer},()=>{switch(Q.constructor){case Int8Array:case Int16Array:case Int32Array:this.device.gl.clearBufferiv(6144,$,Q);break;case Uint8Array:case Uint8ClampedArray:case Uint16Array:case Uint32Array:this.device.gl.clearBufferuiv(6144,$,Q);break;case Float32Array:this.device.gl.clearBufferfv(6144,$,Q);break;default:throw Error("clearColorBuffer: color must be typed array")}})}}function Ro($){return FD1.includes($)}var FD1=[35678,35680,35679,35682,36289,36292,36293,36298,36299,36300,36303,36306,36307,36308,36311],Oo={[5126]:[5126,1,"float","f32","float32"],[35664]:[5126,2,"vec2","vec2<f32>","float32x2"],[35665]:[5126,3,"vec3","vec3<f32>","float32x3"],[35666]:[5126,4,"vec4","vec4<f32>","float32x4"],[5124]:[5124,1,"int","i32","sint32"],[35667]:[5124,2,"ivec2","vec2<i32>","sint32x2"],[35668]:[5124,3,"ivec3","vec3<i32>","sint32x3"],[35669]:[5124,4,"ivec4","vec4<i32>","sint32x4"],[5125]:[5125,1,"uint","u32","uint32"],[36294]:[5125,2,"uvec2","vec2<u32>","uint32x2"],[36295]:[5125,3,"uvec3","vec3<u32>","uint32x3"],[36296]:[5125,4,"uvec4","vec4<u32>","uint32x4"],[35670]:[5126,1,"bool","f32","float32"],[35671]:[5126,2,"bvec2","vec2<f32>","float32x2"],[35672]:[5126,3,"bvec3","vec3<f32>","float32x3"],[35673]:[5126,4,"bvec4","vec4<f32>","float32x4"],[35674]:[5126,8,"mat2","mat2x2<f32>"],[35685]:[5126,8,"mat2x3","mat2x3<f32>"],[35686]:[5126,8,"mat2x4","mat2x4<f32>"],[35687]:[5126,12,"mat3x2","mat3x2<f32>"],[35675]:[5126,12,"mat3","mat3x3<f32>"],[35688]:[5126,12,"mat3x4","mat3x4<f32>"],[35689]:[5126,16,"mat4x2","mat4x2<f32>"],[35690]:[5126,16,"mat4x3","mat4x3<f32>"],[35676]:[5126,16,"mat4","mat4x4<f32>"]};function pw($){let Q=Oo[$];if(!Q)throw Error("uniform");let[J,Z,,X]=Q;return{format:X,components:Z,glType:J}}function ko($){let Q=Oo[$];if(!Q)throw Error("attribute");let[,J,,Z,X]=Q;return{attributeType:Z,vertexFormat:X,components:J}}function Po($,Q){let J={attributes:[],bindings:[]};J.attributes=UD1($,Q);let Z=DD1($,Q);for(let F of Z){let V=F.uniforms.map((D)=>({name:D.name,format:D.format,byteOffset:D.byteOffset,byteStride:D.byteStride,arrayLength:D.arrayLength}));J.bindings.push({type:"uniform",name:F.name,group:0,location:F.location,visibility:(F.vertex?1:0)&(F.fragment?2:0),minBindingSize:F.byteLength,uniforms:V})}let X=ND1($,Q),W=0;for(let F of X)if(Ro(F.type)){let{viewDimension:V,sampleType:D}=AD1(F.type);J.bindings.push({type:"texture",name:F.name,group:0,location:W,viewDimension:V,sampleType:D}),F.textureUnit=W,W+=1}if(X.length)J.uniforms=X;let H=VD1($,Q);if(H?.length)J.varyings=H;return J}function UD1($,Q){let J=[],Z=$.getProgramParameter(Q,35721);for(let X=0;X<Z;X++){let W=$.getActiveAttrib(Q,X);if(!W)throw Error("activeInfo");let{name:H,type:F}=W,V=$.getAttribLocation(Q,H);if(V>=0){let{attributeType:D}=ko(F),C=/instance/i.test(H)?"instance":"vertex";J.push({name:H,location:V,stepMode:C,type:D})}}return J.sort((X,W)=>X.location-W.location),J}function VD1($,Q){let J=[],Z=$.getProgramParameter(Q,35971);for(let X=0;X<Z;X++){let W=$.getTransformFeedbackVarying(Q,X);if(!W)throw Error("activeInfo");let{name:H,type:F,size:V}=W,{glType:D,components:C}=pw(F),z={location:X,name:H,type:D,size:V*C};J.push(z)}return J.sort((X,W)=>X.location-W.location),J}function ND1($,Q){let J=[],Z=$.getProgramParameter(Q,35718);for(let X=0;X<Z;X++){let W=$.getActiveUniform(Q,X);if(!W)throw Error("activeInfo");let{name:H,size:F,type:V}=W,{name:D,isArray:C}=zD1(H),z=$.getUniformLocation(Q,D),R={location:z,name:D,size:F,type:V,isArray:C};if(J.push(R),R.size>1)for(let k=0;k<R.size;k++){let P=`${D}[${k}]`;z=$.getUniformLocation(Q,P);let S={...R,name:P,location:z};J.push(S)}}return J}function DD1($,Q){let J=(W,H)=>$.getActiveUniformBlockParameter(Q,W,H),Z=[],X=$.getProgramParameter(Q,35382);for(let W=0;W<X;W++){let H={name:$.getActiveUniformBlockName(Q,W)||"",location:J(W,35391),byteLength:J(W,35392),vertex:J(W,35396),fragment:J(W,35398),uniformCount:J(W,35394),uniforms:[]},F=J(W,35395)||[],V=$.getActiveUniforms(Q,F,35383),D=$.getActiveUniforms(Q,F,35384),C=$.getActiveUniforms(Q,F,35387),z=$.getActiveUniforms(Q,F,35388);for(let R=0;R<H.uniformCount;++R){let k=$.getActiveUniform(Q,F[R]);if(!k)throw Error("activeInfo");H.uniforms.push({name:k.name,format:pw(V[R]).format,type:V[R],arrayLength:D[R],byteOffset:C[R],byteStride:z[R]})}Z.push(H)}return Z.sort((W,H)=>W.location-H.location),Z}var CD1={[35678]:["2d","float"],[35680]:["cube","float"],[35679]:["3d","float"],[35682]:["3d","depth"],[36289]:["2d-array","float"],[36292]:["2d-array","depth"],[36293]:["cube","float"],[36298]:["2d","sint"],[36299]:["3d","sint"],[36300]:["cube","sint"],[36303]:["2d-array","uint"],[36306]:["2d","uint"],[36307]:["3d","uint"],[36308]:["cube","uint"],[36311]:["2d-array","uint"]};function AD1($){let Q=CD1[$];if(!Q)throw Error("sampler");let[J,Z]=Q;return{viewDimension:J,sampleType:Z}}function zD1($){if($[$.length-1]!=="]")return{name:$,length:1,isArray:!1};let J=/([^[]*)(\[[0-9]+\])?/.exec($);if(!J||J.length<2)throw Error(`Failed to parse GLSL uniform name ${$}`);return{name:J[1],length:J[2]?1:0,isArray:Boolean(J[2])}}function Mo($,Q,J,Z){let X=$,W=Z;if(W===!0)W=1;if(W===!1)W=0;let H=typeof W==="number"?[W]:W;switch(J){case 35678:case 35680:case 35679:case 35682:case 36289:case 36292:case 36293:case 36298:case 36299:case 36300:case 36303:case 36306:case 36307:case 36308:case 36311:if(typeof Z!=="number")throw Error("samplers must be set to integers");return $.uniform1i(Q,Z);case 5126:return $.uniform1fv(Q,H);case 35664:return $.uniform2fv(Q,H);case 35665:return $.uniform3fv(Q,H);case 35666:return $.uniform4fv(Q,H);case 5124:return $.uniform1iv(Q,H);case 35667:return $.uniform2iv(Q,H);case 35668:return $.uniform3iv(Q,H);case 35669:return $.uniform4iv(Q,H);case 35670:return $.uniform1iv(Q,H);case 35671:return $.uniform2iv(Q,H);case 35672:return $.uniform3iv(Q,H);case 35673:return $.uniform4iv(Q,H);case 5125:return X.uniform1uiv(Q,H,1);case 36294:return X.uniform2uiv(Q,H,2);case 36295:return X.uniform3uiv(Q,H,3);case 36296:return X.uniform4uiv(Q,H,4);case 35674:return $.uniformMatrix2fv(Q,!1,H);case 35675:return $.uniformMatrix3fv(Q,!1,H);case 35676:return $.uniformMatrix4fv(Q,!1,H);case 35685:return X.uniformMatrix2x3fv(Q,!1,H);case 35686:return X.uniformMatrix2x4fv(Q,!1,H);case 35687:return X.uniformMatrix3x2fv(Q,!1,H);case 35688:return X.uniformMatrix3x4fv(Q,!1,H);case 35689:return X.uniformMatrix4x2fv(Q,!1,H);case 35690:return X.uniformMatrix4x3fv(Q,!1,H)}throw Error("Illegal uniform")}function BD1($){return iY($)!==null||typeof $==="number"||typeof $==="boolean"}function wo($){let Q={bindings:{},uniforms:{}};return Object.keys($).forEach((J)=>{let Z=$[J];if(BD1(Z))Q.uniforms[J]=Z;else Q.bindings[J]=Z}),Q}function So($){switch($){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 3;case"triangle-list":return 4;case"triangle-strip":return 5;default:throw Error($)}}function To($){switch($){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 1;case"triangle-list":return 4;case"triangle-strip":return 4;default:throw Error($)}}var Io=4;class uw extends A3{device;handle;vs;fs;introspectedLayout;uniforms={};bindings={};varyings=null;_uniformCount=0;_uniformSetters={};constructor($,Q){super($,Q);this.device=$,this.handle=this.props.handle||this.device.gl.createProgram(),this.device.setSpectorMetadata(this.handle,{id:this.props.id}),this.vs=Q.vs,this.fs=Q.fs;let{varyings:J,bufferMode:Z=35981}=Q;if(J&&J.length>0)this.varyings=J,this.device.gl.transformFeedbackVaryings(this.handle,J,Z);this._linkShaders(),X1.time(1,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.introspectedLayout=Po(this.device.gl,this.handle),X1.timeEnd(1,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.shaderLayout=RD1(this.introspectedLayout,Q.shaderLayout)}destroy(){if(this.handle)this.device.gl.deleteProgram(this.handle),this.destroyed=!0}setBindings($,Q){for(let[J,Z]of Object.entries($)){let X=this.shaderLayout.bindings.find((W)=>W.name===J)||this.shaderLayout.bindings.find((W)=>W.name===`${J}Uniforms`);if(!X){let W=this.shaderLayout.bindings.map((H)=>`"${H.name}"`).join(", ");if(!Q?.disableWarnings)X1.warn(`No binding "${J}" in render pipeline "${this.id}", expected one of ${W}`,Z)();continue}if(!Z)X1.warn(`Unsetting binding "${J}" in render pipeline "${this.id}"`)();switch(X.type){case"uniform":if(!(Z instanceof E3)&&!(Z.buffer instanceof E3))throw Error("buffer value");break;case"texture":if(!(Z instanceof E8||Z instanceof j8||Z instanceof G8))throw Error("texture value");break;case"sampler":X1.warn(`Ignoring sampler ${J}`)();break;default:throw Error(X.type)}this.bindings[J]=Z}}draw($){let{renderPass:Q,parameters:J=this.props.parameters,topology:Z=this.props.topology,vertexArray:X,vertexCount:W,instanceCount:H,isInstanced:F=!1,firstVertex:V=0,transformFeedback:D}=$,C=So(Z),z=Boolean(X.indexBuffer),R=X.indexBuffer?.glIndexType;if(this.linkStatus!=="success")return X1.info(2,`RenderPipeline:${this.id}.draw() aborted - waiting for shader linking`)(),!1;if(!this._areTexturesRenderable())return X1.info(2,`RenderPipeline:${this.id}.draw() aborted - textures not yet loaded`)(),!1;if(this.device.gl.useProgram(this.handle),X.bindBeforeRender(Q),D)D.begin(this.props.topology);this._applyBindings(),this._applyUniforms();let k=Q;return Ho(this.device,J,k.glParameters,()=>{if(z&&F)this.device.gl.drawElementsInstanced(C,W||0,R,V,H||0);else if(z)this.device.gl.drawElements(C,W||0,R,V);else if(F)this.device.gl.drawArraysInstanced(C,V,W||0,H||0);else this.device.gl.drawArrays(C,V,W||0);if(D)D.end()}),X.unbindAfterRender(Q),!0}setUniformsWebGL($){let{bindings:Q}=wo($);Object.keys(Q).forEach((J)=>{X1.warn(`Unsupported value "${JSON.stringify(Q[J])}" used in setUniforms() for key ${J}. Use setBindings() instead?`)()}),Object.assign(this.uniforms,$)}async _linkShaders(){let{gl:$}=this.device;if($.attachShader(this.handle,this.vs.handle),$.attachShader(this.handle,this.fs.handle),X1.time(Io,`linkProgram for ${this.id}`)(),$.linkProgram(this.handle),X1.timeEnd(Io,`linkProgram for ${this.id}`)(),X1.level===0);if(!this.device.features.has("compilation-status-async-webgl")){let J=this._getLinkStatus();this._reportLinkStatus(J);return}X1.once(1,"RenderPipeline linking is asynchronous")(),await this._waitForLinkComplete(),X1.info(2,`RenderPipeline ${this.id} - async linking complete: ${this.linkStatus}`)();let Q=this._getLinkStatus();this._reportLinkStatus(Q)}async _reportLinkStatus($){switch($){case"success":return;default:switch(this.vs.compilationStatus){case"error":throw this.vs.debugShader(),Error(`Error during compilation of shader ${this.vs.id}`);case"pending":this.vs.asyncCompilationStatus.then(()=>this.vs.debugShader());break;case"success":break}switch(this.fs?.compilationStatus){case"error":throw this.fs.debugShader(),Error(`Error during compilation of shader ${this.fs.id}`);case"pending":this.fs.asyncCompilationStatus.then(()=>this.fs.debugShader());break;case"success":break}let Q=this.device.gl.getProgramInfoLog(this.handle);throw Error(`Error during ${$}: ${Q}`)}}_getLinkStatus(){let{gl:$}=this.device;if(!$.getProgramParameter(this.handle,35714))return this.linkStatus="error","linking";if($.validateProgram(this.handle),!$.getProgramParameter(this.handle,35715))return this.linkStatus="error","validation";return this.linkStatus="success","success"}async _waitForLinkComplete(){let $=async(Z)=>await new Promise((X)=>setTimeout(X,Z)),Q=10;if(!this.device.features.has("compilation-status-async-webgl")){await $(10);return}let{gl:J}=this.device;for(;;){if(J.getProgramParameter(this.handle,37297))return;await $(10)}}_areTexturesRenderable(){let $=!0;for(let Q of this.shaderLayout.bindings)if(!this.bindings[Q.name]&&!this.bindings[Q.name.replace(/Uniforms$/,"")])X1.warn(`Binding ${Q.name} not found in ${this.id}`)(),$=!1;return $}_applyBindings(){if(this.linkStatus!=="success")return;let{gl:$}=this.device;$.useProgram(this.handle);let Q=0,J=0;for(let Z of this.shaderLayout.bindings){let X=this.bindings[Z.name]||this.bindings[Z.name.replace(/Uniforms$/,"")];if(!X)throw Error(`No value for binding ${Z.name} in ${this.id}`);switch(Z.type){case"uniform":let{name:W}=Z,H=$.getUniformBlockIndex(this.handle,W);if(H===4294967295)throw Error(`Invalid uniform block name ${W}`);if($.uniformBlockBinding(this.handle,J,H),X instanceof E3)$.bindBufferBase(35345,J,X.handle);else $.bindBufferRange(35345,J,X.buffer.handle,X.offset||0,X.size||X.buffer.byteLength-X.offset);J+=1;break;case"texture":if(!(X instanceof E8||X instanceof j8||X instanceof G8))throw Error("texture");let F;if(X instanceof E8)F=X.texture;else if(X instanceof j8)F=X;else if(X instanceof G8&&X.colorAttachments[0]instanceof E8)X1.warn("Passing framebuffer in texture binding may be deprecated. Use fbo.colorAttachments[0] instead")(),F=X.colorAttachments[0].texture;else throw Error("No texture");$.activeTexture(33984+Q),$.bindTexture(F.glTarget,F.handle),Q+=1;break;case"sampler":break;case"storage":case"read-only-storage":throw Error(`binding type '${Z.type}' not supported in WebGL`)}}}_applyUniforms(){for(let $ of this.shaderLayout.uniforms||[]){let{name:Q,location:J,type:Z,textureUnit:X}=$,W=this.uniforms[Q]??X;if(W!==void 0)Mo(this.device.gl,J,Z,W)}}}function RD1($,Q){let J={...$,attributes:$.attributes.map((Z)=>({...Z}))};for(let Z of Q?.attributes||[]){let X=J.attributes.find((W)=>W.name===Z.name);if(!X)X1.warn(`shader layout attribute ${Z.name} not present in shader`);else X.type=Z.type||X.type,X.stepMode=Z.stepMode||X.stepMode}return J}class iw extends AY{device;commands=[];constructor($){super($,{});this.device=$}submitCommands($=this.commands){for(let Q of $)switch(Q.name){case"copy-buffer-to-buffer":OD1(this.device,Q.options);break;case"copy-buffer-to-texture":kD1(this.device,Q.options);break;case"copy-texture-to-buffer":PD1(this.device,Q.options);break;case"copy-texture-to-texture":MD1(this.device,Q.options);break;default:throw Error(Q.name)}}}function OD1($,Q){let{sourceBuffer:J,destinationBuffer:Z}=Q;$.gl.bindBuffer(36662,J.handle),$.gl.bindBuffer(36663,Z.handle),$.gl.copyBufferSubData(36662,36663,Q.sourceOffset??0,Q.destinationOffset??0,Q.size),$.gl.bindBuffer(36662,null),$.gl.bindBuffer(36663,null)}function kD1($,Q){throw Error("Not implemented")}function PD1($,Q){let{sourceTexture:J,mipLevel:Z=0,aspect:X="all",width:W=Q.sourceTexture.width,height:H=Q.sourceTexture.height,depthOrArrayLayers:F=0,origin:V=[0,0],destinationBuffer:D,byteOffset:C=0,bytesPerRow:z,rowsPerImage:R}=Q;if(X!=="all")throw Error("aspect not supported in WebGL");if(Z!==0||F!==0||z||R)throw Error("not implemented");let{framebuffer:k,destroyFramebuffer:P}=Go(J),S;try{let T=D,_=W||k.width,v=H||k.height,L=sV(k.colorAttachments[0].texture.props.format),f=L.format,l=L.type;$.gl.bindBuffer(35051,T.handle),S=$.gl.bindFramebuffer(36160,k.handle),$.gl.readPixels(V[0],V[1],_,v,f,l,C)}finally{if($.gl.bindBuffer(35051,null),S!==void 0)$.gl.bindFramebuffer(36160,S);if(P)k.destroy()}}function MD1($,Q){let{sourceTexture:J,destinationMipLevel:Z=0,origin:X=[0,0],destinationOrigin:W=[0,0],destinationTexture:H}=Q,{width:F=Q.destinationTexture.width,height:V=Q.destinationTexture.height}=Q,{framebuffer:D,destroyFramebuffer:C}=Go(J),[z,R]=X,[k,P,S]=W,T=$.gl.bindFramebuffer(36160,D.handle),_=null,v;if(H instanceof j8)_=H,F=Number.isFinite(F)?F:_.width,V=Number.isFinite(V)?V:_.height,_.bind(0),v=_.glTarget;else throw Error("invalid destination");switch(v){case 3553:case 34067:$.gl.copyTexSubImage2D(v,Z,k,P,z,R,F,V);break;case 35866:case 32879:$.gl.copyTexSubImage3D(v,Z,k,P,S,z,R,F,V);break;default:}if(_)_.unbind();if($.gl.bindFramebuffer(36160,T),C)D.destroy()}function Go($){if($ instanceof A0){let{width:Q,height:J,id:Z}=$;return{framebuffer:$.device.createFramebuffer({id:`framebuffer-for-${Z}`,width:Q,height:J,colorAttachments:[$]}),destroyFramebuffer:!0}}return{framebuffer:$,destroyFramebuffer:!1}}class nw extends CY{device;commandBuffer;constructor($,Q){super($,Q);this.device=$,this.commandBuffer=new iw($)}destroy(){}finish(){this.commandBuffer.submitCommands()}copyBufferToBuffer($){this.commandBuffer.commands.push({name:"copy-buffer-to-buffer",options:$})}copyBufferToTexture($){this.commandBuffer.commands.push({name:"copy-buffer-to-texture",options:$})}copyTextureToBuffer($){this.commandBuffer.commands.push({name:"copy-texture-to-buffer",options:$})}copyTextureToTexture($){this.commandBuffer.commands.push({name:"copy-texture-to-texture",options:$})}pushDebugGroup($){}popDebugGroup(){}insertDebugMarker($){}resolveQuerySet($,Q,J){}}function Eo($){let{target:Q,source:J,start:Z=0,count:X=1}=$,W=J.length,H=X*W,F=0;for(let V=Z;F<W;F++)Q[V++]=J[F];while(F<H)if(F<H-F)Q.copyWithin(Z+F,Z,Z+F),F*=2;else Q.copyWithin(Z+F,Z,Z+H-F),F=H;return $.target}class $N extends zY{get[Symbol.toStringTag](){return"VertexArray"}device;handle;buffer=null;bufferValue=null;static isConstantAttributeZeroSupported($){return Ek()==="Chrome"}constructor($,Q){super($,Q);this.device=$,this.handle=this.device.gl.createVertexArray()}destroy(){if(super.destroy(),this.buffer)this.buffer?.destroy();if(this.handle)this.device.gl.deleteVertexArray(this.handle),this.handle=void 0}setIndexBuffer($){let Q=$;if(Q&&Q.glTarget!==34963)throw Error("Use .setBuffer()");this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34963,Q?Q.handle:null),this.indexBuffer=Q,this.device.gl.bindVertexArray(null)}setBuffer($,Q){let J=Q;if(J.glTarget===34963)throw Error("Use .setIndexBuffer()");let{size:Z,type:X,stride:W,offset:H,normalized:F,integer:V,divisor:D}=this._getAccessor($);if(this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34962,J.handle),V)this.device.gl.vertexAttribIPointer($,Z,X,W,H);else this.device.gl.vertexAttribPointer($,Z,X,F,W,H);this.device.gl.bindBuffer(34962,null),this.device.gl.enableVertexAttribArray($),this.device.gl.vertexAttribDivisor($,D||0),this.attributes[$]=J,this.device.gl.bindVertexArray(null)}setConstantWebGL($,Q){this._enable($,!1),this.attributes[$]=Q}bindBeforeRender(){this.device.gl.bindVertexArray(this.handle),this._applyConstantAttributes()}unbindAfterRender(){this.device.gl.bindVertexArray(null)}_applyConstantAttributes(){for(let $=0;$<this.maxVertexAttributes;++$){let Q=this.attributes[$];if(ArrayBuffer.isView(Q))this.device.setConstantAttributeWebGL($,Q)}}_getAccessor($){let Q=this.attributeInfos[$];if(!Q)throw Error(`Unknown attribute location ${$}`);let J=iV(Q.bufferDataType);return{size:Q.bufferComponents,type:J,stride:Q.byteStride,offset:Q.byteOffset,normalized:Q.normalized,integer:Q.integer,divisor:Q.stepMode==="instance"?1:0}}_enable($,Q=!0){let Z=$N.isConstantAttributeZeroSupported(this.device)||$!==0;if(Q||Z){if($=Number($),this.device.gl.bindVertexArray(this.handle),Q)this.device.gl.enableVertexAttribArray($);else this.device.gl.disableVertexAttribArray($);this.device.gl.bindVertexArray(null)}}getConstantBuffer($,Q){let J=wD1(Q),Z=J.byteLength*$,X=J.length*$;if(this.buffer&&Z!==this.buffer.byteLength)throw Error(`Buffer size is immutable, byte length ${Z} !== ${this.buffer.byteLength}.`);let W=!this.buffer;if(this.buffer=this.buffer||this.device.createBuffer({byteLength:Z}),W=W||!SD1(J,this.bufferValue),W){let H=SP(Q.constructor,X);Eo({target:H,source:J,start:0,count:X}),this.buffer.write(H),this.bufferValue=Q}return this.buffer}}function wD1($){if(Array.isArray($))return new Float32Array($);return $}function SD1($,Q){if(!$||!Q||$.length!==Q.length||$.constructor!==Q.constructor)return!1;for(let J=0;J<$.length;++J)if($[J]!==Q[J])return!1;return!0}class sw extends BY{device;gl;handle;layout;buffers={};unusedBuffers={};bindOnUse=!0;_bound=!1;constructor($,Q){super($,Q);if(this.device=$,this.gl=$.gl,this.handle=this.props.handle||this.gl.createTransformFeedback(),this.layout=this.props.layout,Q.buffers)this.setBuffers(Q.buffers);Object.seal(this)}destroy(){this.gl.deleteTransformFeedback(this.handle),super.destroy()}begin($="point-list"){if(this.gl.bindTransformFeedback(36386,this.handle),this.bindOnUse)this._bindBuffers();this.gl.beginTransformFeedback(To($))}end(){if(this.gl.endTransformFeedback(),this.bindOnUse)this._unbindBuffers();this.gl.bindTransformFeedback(36386,null)}setBuffers($){this.buffers={},this.unusedBuffers={},this.bind(()=>{for(let Q in $)this.setBuffer(Q,$[Q])})}setBuffer($,Q){let J=this._getVaryingIndex($),{buffer:Z,byteLength:X,byteOffset:W}=this._getBufferRange(Q);if(J<0){this.unusedBuffers[$]=Z,X1.warn(`${this.id} unusedBuffers varying buffer ${$}`)();return}if(this.buffers[J]={buffer:Z,byteLength:X,byteOffset:W},!this.bindOnUse)this._bindBuffer(J,Z,W,X)}getBuffer($){if(jo($))return this.buffers[$]||null;let Q=this._getVaryingIndex($);return Q>=0?this.buffers[Q]:null}bind($=this.handle){if(typeof $!=="function")return this.gl.bindTransformFeedback(36386,$),this;let Q;if(!this._bound)this.gl.bindTransformFeedback(36386,this.handle),this._bound=!0,Q=$(),this._bound=!1,this.gl.bindTransformFeedback(36386,null);else Q=$();return Q}unbind(){this.bind(null)}_getBufferRange($){if($ instanceof E3)return{buffer:$,byteOffset:0,byteLength:$.byteLength};let{buffer:Q,byteOffset:J=0,byteLength:Z=$.buffer.byteLength}=$;return{buffer:Q,byteOffset:J,byteLength:Z}}_getVaryingIndex($){if(jo($))return Number($);for(let Q of this.layout.varyings)if($===Q.name)return Q.location;return-1}_bindBuffers(){for(let $ in this.buffers){let{buffer:Q,byteLength:J,byteOffset:Z}=this._getBufferRange(this.buffers[$]);this._bindBuffer(Number($),Q,Z,J)}}_unbindBuffers(){for(let $ in this.buffers)this.gl.bindBufferBase(35982,Number($),null)}_bindBuffer($,Q,J=0,Z){let X=Q&&Q.handle;if(!X||Z===void 0)this.gl.bindBufferBase(35982,$,X);else this.gl.bindBufferRange(35982,$,X,J,Z)}}function jo($){if(typeof $==="number")return Number.isInteger($);return/^\d+$/.test($)}class ow extends RY{device;handle;target=null;_queryPending=!1;_pollingPromise=null;get[Symbol.toStringTag](){return"Query"}constructor($,Q){super($,Q);if(this.device=$,Q.count>1)throw Error("WebGL QuerySet can only have one value");this.handle=this.device.gl.createQuery(),Object.seal(this)}destroy(){this.device.gl.deleteQuery(this.handle)}beginTimestampQuery(){return this._begin(35007)}endTimestampQuery(){this._end()}beginOcclusionQuery($){return this._begin($?.conservative?36202:35887)}endOcclusionQuery(){this._end()}beginTransformFeedbackQuery(){return this._begin(35976)}endTransformFeedbackQuery(){this._end()}async resolveQuery(){return[await this.pollQuery()]}_begin($){if(this._queryPending)return;this.target=$,this.device.gl.beginQuery(this.target,this.handle);return}_end(){if(this._queryPending)return;if(this.target)this.device.gl.endQuery(this.target),this.target=null,this._queryPending=!0;return}isResultAvailable(){if(!this._queryPending)return!1;let $=this.device.gl.getQueryParameter(this.handle,34919);if($)this._queryPending=!1;return $}isTimerDisjoint(){return this.device.gl.getParameter(36795)}getResult(){return this.device.gl.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}pollQuery($=Number.POSITIVE_INFINITY){if(this._pollingPromise)return this._pollingPromise;let Q=0;return this._pollingPromise=new Promise((J,Z)=>{let X=()=>{if(this.isResultAvailable())J(this.getResult()),this._pollingPromise=null;else if(Q++>$)Z("Timed out"),this._pollingPromise=null;else requestAnimationFrame(X)};requestAnimationFrame(X)}),this._pollingPromise}}class j3 extends d4{type="webgl";handle;features;limits;info;canvasContext;lost;_resolveContextLost;gl;debug=!1;_canvasSizeInfo={clientWidth:0,clientHeight:0,devicePixelRatio:1};_extensions={};_polyfilled=!1;spectorJS;constructor($){super({...$,id:$.id||Xo("webgl-device")});let Q=d4._getCanvasContextProps($);if(!Q)throw Error("WebGLDevice requires props.createCanvasContext to be set");let J=Q.canvas?.gl?.device;if(J)throw Error(`WebGL context already attached to device ${J.id}`);this.canvasContext=new _w(this,Q),this.lost=new Promise((D)=>{this._resolveContextLost=D});let Z={...$.webgl};if(Q.alphaMode==="premultiplied")Z.premultipliedAlpha=!0;if($.powerPreference!==void 0)Z.powerPreference=$.powerPreference;let W=this.props._handle||ds(this.canvasContext.canvas,{onContextLost:(D)=>this._resolveContextLost?.({reason:"destroyed",message:"Entered sleep mode, or too many apps or browser tabs are using the GPU."}),onContextRestored:(D)=>console.log("WebGL context restored")},Z);if(!W)throw Error("WebGL context creation failed");if(J=W.device,J){if($._reuseDevices)return X1.log(1,`Not creating a new Device, instead returning a reference to Device ${J.id} already attached to WebGL context`,J)(),J._reused=!0,J;throw Error(`WebGL context already attached to device ${J.id}`)}if(this.handle=W,this.gl=W,this.spectorJS=$o({...this.props,gl:this.handle}),this.gl.device=this,this.gl._version=2,this.info=ls(this.gl,this._extensions),this.limits=new vw(this.gl),this.features=new hw(this.gl,this._extensions,this.props._disabledFeatures),this.props._initializeFeatures)this.features.initializeFeatures();if(Q.autoResize!==!1)this.canvasContext.resize();new I3(this.gl,{log:(...D)=>X1.log(1,...D)()}).trackState(this.gl,{copyState:!1});let F=$.debugWebGL||$.debug,V=$.debugWebGL;if(F){if(this.gl=Ko(this.gl,{debugWebGL:F,traceWebGL:V}),X1.warn("WebGL debug mode activated. Performance reduced.")(),$.debugWebGL)X1.level=Math.max(X1.level,1)}}destroy(){if(!this.props._reuseDevices&&!this._reused)delete this.gl.device}get isLost(){return this.gl.isContextLost()}createCanvasContext($){throw Error("WebGL only supports a single canvas")}createBuffer($){let Q=this._normalizeBufferProps($);return new E3(this,Q)}createTexture($){return new j8(this,$)}createExternalTexture($){throw Error("createExternalTexture() not implemented")}createSampler($){return new wZ(this,$)}createShader($){return new gw(this,$)}createFramebuffer($){return new G8(this,$)}createVertexArray($){return new $N(this,$)}createTransformFeedback($){return new sw(this,$)}createQuerySet($){return new ow(this,$)}createRenderPipeline($){return new uw(this,$)}beginRenderPass($){return new lw(this,$)}createComputePipeline($){throw Error("ComputePipeline not supported in WebGL")}beginComputePass($){throw Error("ComputePass not supported in WebGL")}renderPass=null;createCommandEncoder($={}){return new nw(this,$)}submit(){this.renderPass?.end(),this.renderPass=null}readPixelsToArrayWebGL($,Q){return Ao($,Q)}readPixelsToBufferWebGL($,Q){return zo($,Q)}setParametersWebGL($){E7(this.gl,$)}getParametersWebGL($){return uV(this.gl,$)}withParametersWebGL($,Q){return u$(this.gl,$,Q)}resetWebGL(){X1.warn("WebGLDevice.resetWebGL is deprecated, use only for debugging")(),fs(this.gl)}_getDeviceSpecificTextureFormatCapabilities($){return os(this.gl,$,this._extensions)}loseDevice(){let $=!1,J=this.getExtension("WEBGL_lose_context").WEBGL_lose_context;if(J)$=!0,J.loseContext();return this._resolveContextLost?.({reason:"destroyed",message:"Application triggered context loss"}),$}pushState(){I3.get(this.gl).push()}popState(){I3.get(this.gl).pop()}setSpectorMetadata($,Q){$.__SPECTOR_Metadata=Q}getGLKey($,Q){let J=Number($);for(let Z in this.gl)if(this.gl[Z]===J)return`GL.${Z}`;return Q?.emptyIfUnknown?"":String($)}getGLKeys($){let Q={emptyIfUnknown:!0};return Object.entries($).reduce((J,[Z,X])=>{return J[`${Z}:${this.getGLKey(Z,Q)}`]=`${X}:${this.getGLKey(X,Q)}`,J},{})}_constants;setConstantAttributeWebGL($,Q){let J=this.limits.maxVertexAttributes;this._constants=this._constants||Array(J).fill(null);let Z=this._constants[$];if(Z&&ED1(Z,Q))X1.info(1,`setConstantAttributeWebGL(${$}) could have been skipped, value unchanged`)();switch(this._constants[$]=Q,Q.constructor){case Float32Array:TD1(this,$,Q);break;case Int32Array:ID1(this,$,Q);break;case Uint32Array:GD1(this,$,Q);break;default:throw Error("constant")}}getExtension($){return G3(this.gl,$,this._extensions),this._extensions}}function TD1($,Q,J){switch(J.length){case 1:$.gl.vertexAttrib1fv(Q,J);break;case 2:$.gl.vertexAttrib2fv(Q,J);break;case 3:$.gl.vertexAttrib3fv(Q,J);break;case 4:$.gl.vertexAttrib4fv(Q,J);break;default:}}function ID1($,Q,J){$.gl.vertexAttribI4iv(Q,J)}function GD1($,Q,J){$.gl.vertexAttribI4uiv(Q,J)}function ED1($,Q){if(!$||!Q||$.length!==Q.length||$.constructor!==Q.constructor)return!1;for(let J=0;J<$.length;++J)if($[J]!==Q[J])return!1;return!0}var jD1={WEBGL_depth_texture:{UNSIGNED_INT_24_8_WEBGL:34042},OES_element_index_uint:{},OES_texture_float:{},OES_texture_half_float:{HALF_FLOAT_OES:5131},EXT_color_buffer_float:{},OES_standard_derivatives:{FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723},EXT_frag_depth:{},EXT_blend_minmax:{MIN_EXT:32775,MAX_EXT:32776},EXT_shader_texture_lod:{}},LD1=($)=>({drawBuffersWEBGL(Q){return $.drawBuffers(Q)},COLOR_ATTACHMENT0_WEBGL:36064,COLOR_ATTACHMENT1_WEBGL:36065,COLOR_ATTACHMENT2_WEBGL:36066,COLOR_ATTACHMENT3_WEBGL:36067}),hD1=($)=>({VERTEX_ARRAY_BINDING_OES:34229,createVertexArrayOES(){return $.createVertexArray()},deleteVertexArrayOES(Q){return $.deleteVertexArray(Q)},isVertexArrayOES(Q){return $.isVertexArray(Q)},bindVertexArrayOES(Q){return $.bindVertexArray(Q)}}),vD1=($)=>({VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,drawArraysInstancedANGLE(...Q){return $.drawArraysInstanced(...Q)},drawElementsInstancedANGLE(...Q){return $.drawElementsInstanced(...Q)},vertexAttribDivisorANGLE(...Q){return $.vertexAttribDivisor(...Q)}});function Lo($=!0){let Q=HTMLCanvasElement.prototype;if(!$&&Q.originalGetContext){Q.getContext=Q.originalGetContext,Q.originalGetContext=void 0;return}Q.originalGetContext=Q.getContext,Q.getContext=function(J,Z){if(J==="webgl"||J==="experimental-webgl"){let X=this.originalGetContext("webgl2",Z);if(X instanceof HTMLElement)_D1(X);return X}return this.originalGetContext(J,Z)}}function _D1($){$.getExtension("EXT_color_buffer_float");let Q={...jD1,WEBGL_disjoint_timer_query:$.getExtension("EXT_disjoint_timer_query_webgl2"),WEBGL_draw_buffers:LD1($),OES_vertex_array_object:hD1($),ANGLE_instanced_arrays:vD1($)},J=$.getExtension;$.getExtension=function(X){let W=J.call($,X);if(W)return W;if(X in Q)return Q[X];return null};let Z=$.getSupportedExtensions;$.getSupportedExtensions=function(){return(Z.apply($)||[])?.concat(Object.keys(Q))}}var QN=1;class ho extends LU{type="webgl";constructor(){super();d4.defaultProps={...d4.defaultProps,...aV},j3.adapter=this}isSupported(){return typeof WebGL2RenderingContext<"u"}enforceWebGL2($){Lo($)}async attach($){if($ instanceof j3)return $;if($?.device instanceof d4)return $.device;if(!xD1($))throw Error("Invalid WebGL2RenderingContext");return new j3({_handle:$,createCanvasContext:{canvas:$.canvas,autoResize:!1}})}async create($={}){X1.groupCollapsed(QN,"WebGLDevice created")();let Q=[];if($.debugWebGL||$.debug)Q.push(Zo());if($.debugSpectorJS)Q.push(es($));let J=await Promise.allSettled(Q);for(let W of J)if(W.status==="rejected")X1.error(`Failed to initialize debug libraries ${W.reason}`)();let Z=new j3($),X=`${Z._reused?"Reusing":"Created"} device with WebGL2 ${Z.debug?"debug ":""}context: ${Z.info.vendor}, ${Z.info.renderer} for canvas: ${Z.canvasContext.id}`;return X1.probe(QN,X)(),X1.table(QN,Z.info)(),X1.groupEnd(QN)(),Z}}function xD1($){if(typeof WebGL2RenderingContext<"u"&&$ instanceof WebGL2RenderingContext)return!0;return Boolean($&&Number.isFinite($._version))}var JN=new ho;function X2(){}var gD1=({isDragging:$})=>$?"grabbing":"grab",vo={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,parameters:{},parent:null,device:null,deviceProps:{},gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,widgets:[],onDeviceInitialized:X2,onWebGLInitialized:X2,onResize:X2,onViewStateChange:X2,onInteractionStateChange:X2,onBeforeRender:X2,onAfterRender:X2,onLoad:X2,onError:($)=>S1.error($.message,$.cause)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:gD1,getTooltip:null,debug:!1,drawPickingColors:!1};class ZN{constructor($){if(this.width=0,this.height=0,this.userData={},this.device=null,this.canvas=null,this.viewManager=null,this.layerManager=null,this.effectManager=null,this.deckRenderer=null,this.deckPicker=null,this.eventManager=null,this.widgetManager=null,this.tooltip=null,this.animationLoop=null,this.cursorState={isHovering:!1,isDragging:!1},this.stats=new M7({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this._lastPointerDownInfo=null,this._onPointerMove=(J)=>{let{_pickRequest:Z}=this;if(J.type==="pointerleave")Z.x=-1,Z.y=-1,Z.radius=0;else if(J.leftButton||J.rightButton)return;else{let X=J.offsetCenter;if(!X)return;Z.x=X.x,Z.y=X.y,Z.radius=this.props.pickingRadius}if(this.layerManager)this.layerManager.context.mousePosition={x:Z.x,y:Z.y};Z.event=J},this._onEvent=(J)=>{let Z=bY[J.type],X=J.offsetCenter;if(!Z||!X||!this.layerManager)return;let W=this.layerManager.getLayers(),H=this.deckPicker.getLastPickedObject({x:X.x,y:X.y,layers:W,viewports:this.getViewports(X)},this._lastPointerDownInfo),{layer:F}=H,V=F&&(F[Z]||F.props[Z]),D=this.props[Z],C=!1;if(V)C=V.call(F,H,J);if(!C)D?.(H,J),this.widgetManager.onEvent(H,J)},this._onPointerDown=(J)=>{if(this.device?.type==="webgpu")return;let Z=J.offsetCenter,X=this._pick("pickObject","pickObject Time",{x:Z.x,y:Z.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=X.result[0]||X.emptyInfo},this.props={...vo,...$},$=this.props,$.viewState&&$.initialViewState)S1.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")();if(this.viewState=this.props.initialViewState,$.device)this.device=$.device;let Q=this.device;if(!Q&&$.gl){if($.gl instanceof WebGLRenderingContext)S1.error("WebGL1 context not supported.")();Q=JN.attach($.gl)}if(!Q)Q=rJ.createDevice({type:"best-available",_reuseDevices:!0,adapters:[JN],...$.deviceProps,createCanvasContext:{canvas:this._createCanvas($),useDevicePixels:this.props.useDevicePixels,autoResize:!1}});if(this.animationLoop=this._createAnimationLoop(Q,$),this.setProps($),$._typedArrayManagerProps)I7.setOptions($._typedArrayManagerProps);this.animationLoop.start()}finalize(){if(this.animationLoop?.stop(),this.animationLoop?.destroy(),this.animationLoop=null,this._lastPointerDownInfo=null,this.layerManager?.finalize(),this.layerManager=null,this.viewManager?.finalize(),this.viewManager=null,this.effectManager?.finalize(),this.effectManager=null,this.deckRenderer?.finalize(),this.deckRenderer=null,this.deckPicker?.finalize(),this.deckPicker=null,this.eventManager?.destroy(),this.eventManager=null,this.widgetManager?.finalize(),this.widgetManager=null,!this.props.canvas&&!this.props.device&&!this.props.gl&&this.canvas)this.canvas.parentElement?.removeChild(this.canvas),this.canvas=null}setProps($){if(this.stats.get("setProps Time").timeStart(),"onLayerHover"in $)S1.removed("onLayerHover","onHover")();if("onLayerClick"in $)S1.removed("onLayerClick","onClick")();if($.initialViewState&&!r5(this.props.initialViewState,$.initialViewState,3))this.viewState=$.initialViewState;Object.assign(this.props,$),this._setCanvasSize(this.props);let Q=Object.create(this.props);if(Object.assign(Q,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop?.setProps(Q),this.layerManager)this.viewManager.setProps(Q),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(Q),this.effectManager.setProps(Q),this.deckRenderer.setProps(Q),this.deckPicker.setProps(Q),this.widgetManager.setProps(Q);this.stats.get("setProps Time").timeEnd()}needsRedraw($={clearRedrawFlags:!1}){if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let Q=this._needsRedraw;if($.clearRedrawFlags)this._needsRedraw=!1;let J=this.viewManager.needsRedraw($),Z=this.layerManager.needsRedraw($),X=this.effectManager.needsRedraw($),W=this.deckRenderer.needsRedraw($);return Q=Q||J||Z||X||W,Q}redraw($){if(!this.layerManager)return;let Q=this.needsRedraw({clearRedrawFlags:!0});if(Q=$||Q,!Q)return;if(this.stats.get("Redraw Count").incrementCount(),this.props._customRender)this.props._customRender(Q);else this._drawLayers(Q)}get isInitialized(){return this.viewManager!==null}getViews(){return t0(this.viewManager),this.viewManager.views}getViewports($){return t0(this.viewManager),this.viewManager.getViewports($)}getCanvas(){return this.canvas}pickObject($){let Q=this._pick("pickObject","pickObject Time",$).result;return Q.length?Q[0]:null}pickMultipleObjects($){return $.depth=$.depth||10,this._pick("pickObject","pickMultipleObjects Time",$).result}pickObjects($){return this._pick("pickObjects","pickObjects Time",$)}_addResources($,Q=!1){for(let J in $)this.layerManager.resourceManager.add({resourceId:J,data:$[J],forceUpdate:Q})}_removeResources($){for(let Q of $)this.layerManager.resourceManager.remove(Q)}_addDefaultEffect($){this.effectManager.addDefaultEffect($)}_addDefaultShaderModule($){this.layerManager.addDefaultShaderModule($)}_removeDefaultShaderModule($){this.layerManager?.removeDefaultShaderModule($)}_pick($,Q,J){t0(this.deckPicker);let{stats:Z}=this;Z.get("Pick Count").incrementCount(),Z.get(Q).timeStart();let X=this.deckPicker[$]({layers:this.layerManager.getLayers(J),views:this.viewManager.getViews(),viewports:this.getViewports(J),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...J});return Z.get(Q).timeEnd(),X}_createCanvas($){let Q=$.canvas;if(typeof Q==="string")Q=document.getElementById(Q),t0(Q);if(!Q)Q=document.createElement("canvas"),Q.id=$.id||"deckgl-overlay",($.parent||document.body).appendChild(Q);return Object.assign(Q.style,$.style),Q}_setCanvasSize($){if(!this.canvas)return;let{width:Q,height:J}=$;if(Q||Q===0){let Z=Number.isFinite(Q)?`${Q}px`:Q;this.canvas.style.width=Z}if(J||J===0){let Z=Number.isFinite(J)?`${J}px`:J;this.canvas.style.position=$.style?.position||"absolute",this.canvas.style.height=Z}}_updateCanvasSize(){let{canvas:$}=this;if(!$)return;let Q=$.clientWidth??$.width,J=$.clientHeight??$.height;if(Q!==this.width||J!==this.height)this.width=Q,this.height=J,this.viewManager?.setProps({width:Q,height:J}),this.layerManager?.activateViewport(this.getViewports()[0]),this.props.onResize({width:Q,height:J})}_createAnimationLoop($,Q){let{gl:J,onError:Z,useDevicePixels:X}=Q;return new wV({device:$,useDevicePixels:X,autoResizeDrawingBuffer:!J,autoResizeViewport:!1,onInitialize:(W)=>this._setDevice(W.device),onRender:this._onRenderFrame.bind(this),onError:Z})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){let{views:$}=this.props,Q=Array.isArray($)?$:$?[$]:[new Es({id:"default-view"})];if(Q.length&&this.props.controller)Q[0].props.controller=this.props.controller;return Q}_onContextLost(){let{onError:$}=this.props;if(this.animationLoop&&$)$(Error("WebGL context is lost"))}_pickAndCallback(){if(this.device?.type==="webgpu")return;let{_pickRequest:$}=this;if($.event){let{result:Q,emptyInfo:J}=this._pick("pickObject","pickObject Time",$);this.cursorState.isHovering=Q.length>0;let Z=J,X=!1;for(let W of Q)Z=W,X=W.layer?.onHover(W,$.event)||X;if(!X)this.props.onHover?.(Z,$.event),this.widgetManager.onHover(Z,$.event);$.event=null}}_updateCursor(){let $=this.props.parent||this.canvas;if($)$.style.cursor=this.props.getCursor(this.cursorState)}_setDevice($){if(this.device=$,!this.animationLoop)return;if(!this.canvas)this.canvas=this.device.canvasContext?.canvas;if(this.device.type==="webgl")this.device.setParametersWebGL({blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515});if(this.props.onDeviceInitialized(this.device),this.device.type==="webgl")this.props.onWebGLInitialized(this.device.gl);let Q=new zZ;Q.play(),this.animationLoop.attachTimeline(Q),this.eventManager=new UV(this.props.parent||this.canvas,{touchAction:this.props.touchAction,recognizers:Object.keys(Yw).map((Z)=>{let[X,W,H,F]=Yw[Z],V=this.props.eventRecognizerOptions?.[Z],D={...W,...V,event:Z};return{recognizer:new X(D),recognizeWith:H,requestFailure:F}}),events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(let Z in bY)this.eventManager.on(Z,this._onEvent);this.viewManager=new vV({timeline:Q,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});let J=this.viewManager.getViewports()[0];this.layerManager=new hV(this.device,{deck:this,stats:this.stats,viewport:J,timeline:Q}),this.effectManager=new mV({deck:this,device:this.device}),this.deckRenderer=new dV(this.device),this.deckPicker=new lV(this.device),this.widgetManager=new Iw({deck:this,parentElement:this.canvas?.parentElement}),this.widgetManager.addDefault(new pV),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers($,Q){let{device:J,gl:Z}=this.layerManager.context;this.props.onBeforeRender({device:J,gl:Z});let X={target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",effects:this.effectManager.getEffects(),...Q};if(this.deckRenderer?.renderLayers(X),X.pass==="screen")this.widgetManager.onRedraw({viewports:X.viewports,layers:X.layers});this.props.onAfterRender({device:J,gl:Z})}_onRenderFrame(){if(this._getFrameStats(),this._metricsCounter++%60===0){if(this._getMetrics(),this.stats.reset(),S1.table(4,this.metrics)(),this.props._onMetrics)this.props._onMetrics(this.metrics)}if(this._updateCanvasSize(),this._updateCursor(),this.layerManager.updateLayers(),this.device?.type!=="webgpu")this._pickAndCallback();if(this.redraw(),this.viewManager)this.viewManager.updateViewStates()}_onViewStateChange($){let Q=this.props.onViewStateChange($)||$.viewState;if(this.viewState){if(this.viewState={...this.viewState,[$.viewId]:Q},!this.props.viewState){if(this.viewManager)this.viewManager.setProps({viewState:this.viewState})}}}_onInteractionStateChange($){this.cursorState.isDragging=$.isDragging||!1,this.props.onInteractionStateChange($)}_getFrameStats(){let{stats:$}=this;$.get("frameRate").timeEnd(),$.get("frameRate").timeStart();let Q=this.animationLoop.stats;$.get("GPU Time").addTime(Q.get("GPU Time").lastTiming),$.get("CPU Time").addTime(Q.get("CPU Time").lastTiming)}_getMetrics(){let{metrics:$,stats:Q}=this;$.fps=Q.get("frameRate").getHz(),$.setPropsTime=Q.get("setProps Time").time,$.updateAttributesTime=Q.get("Update Attributes").time,$.framesRedrawn=Q.get("Redraw Count").count,$.pickTime=Q.get("pickObject Time").time+Q.get("pickMultipleObjects Time").time+Q.get("pickObjects Time").time,$.pickCount=Q.get("Pick Count").count,$.gpuTime=Q.get("GPU Time").time,$.cpuTime=Q.get("CPU Time").time,$.gpuTimePerFrame=Q.get("GPU Time").getAverageTime(),$.cpuTimePerFrame=Q.get("CPU Time").getAverageTime();let J=rJ.stats.get("Memory Usage");$.bufferMemory=J.get("Buffer Memory").count,$.textureMemory=J.get("Texture Memory").count,$.renderbufferMemory=J.get("Renderbuffer Memory").count,$.gpuMemory=J.get("GPU Memory").count}}ZN.defaultProps=vo;ZN.VERSION=Eu;var aw=ZN;function _o($){switch($){case"float64":return Float64Array;case"uint8":case"unorm8":return Uint8ClampedArray;default:return OY($)}}var xo=xU;function tY($,Q,J){let Z=J==="webgpu"&&Q.type==="uint8"?"unorm8":Q.type;return{attribute:$,format:Q.size>1?`${Z}x${Q.size}`:Q.type,byteOffset:Q.offset||0}}function Y2($){return $.stride||$.size*$.bytesPerElement}function go($,Q){return $.type===Q.type&&$.size===Q.size&&Y2($)===Y2(Q)&&($.offset||0)===(Q.offset||0)}function rw($,Q){if(Q.offset)S1.removed("shaderAttribute.offset","vertexOffset, elementOffset")();let J=Y2($),Z=Q.vertexOffset!==void 0?Q.vertexOffset:$.vertexOffset||0,X=Q.elementOffset||0,W=Z*J+X*$.bytesPerElement+($.offset||0);return{...Q,offset:W,stride:J}}function yD1($,Q){let J=rw($,Q);return{high:J,low:{...J,offset:J.offset+$.size*4}}}class KN{constructor($,Q,J){this._buffer=null,this.device=$,this.id=Q.id||"",this.size=Q.size||1;let Z=Q.logicalType||Q.type,X=Z==="float64",{defaultValue:W}=Q;W=Number.isFinite(W)?[W]:W||Array(this.size).fill(0);let H;if(X)H="float32";else if(!Z&&Q.isIndexed)H="uint32";else H=Z||"float32";let F=_o(Z||H);if(this.doublePrecision=X,X&&Q.fp64===!1)F=Float32Array;this.value=null,this.settings={...Q,defaultType:F,defaultValue:W,logicalType:Z,type:H,normalized:H.includes("norm"),size:this.size,bytesPerElement:F.BYTES_PER_ELEMENT},this.state={...J,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1}}get isConstant(){return this.state.constant}get buffer(){return this._buffer}get byteOffset(){let $=this.getAccessor();if($.vertexOffset)return $.vertexOffset*Y2($);return 0}get numInstances(){return this.state.numInstances}set numInstances($){this.state.numInstances=$}delete(){if(this._buffer)this._buffer.delete(),this._buffer=null;I7.release(this.state.allocatedValue)}getBuffer(){if(this.state.constant)return null;return this.state.externalBuffer||this._buffer}getValue($=this.id,Q=null){let J={};if(this.state.constant){let Z=this.value;if(Q){let X=rw(this.getAccessor(),Q),W=X.offset/Z.BYTES_PER_ELEMENT,H=X.size||this.size;J[$]=Z.subarray(W,W+H)}else J[$]=Z}else J[$]=this.getBuffer();if(this.doublePrecision)if(this.value instanceof Float64Array)J[`${$}64Low`]=J[$];else J[`${$}64Low`]=new Float32Array(this.size);return J}_getBufferLayout($=this.id,Q=null){let J=this.getAccessor(),Z=[],X={name:this.id,byteStride:Y2(J),attributes:Z};if(this.doublePrecision){let W=yD1(J,Q||{});Z.push(tY($,{...J,...W.high},this.device.type),tY(`${$}64Low`,{...J,...W.low},this.device.type))}else if(Q){let W=rw(J,Q);Z.push(tY($,{...J,...W},this.device.type))}else Z.push(tY($,J,this.device.type));return X}setAccessor($){this.state.bufferAccessor=$}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let $=null;if(this.state.constant&&this.value){let Q=Array.from(this.value);$=[Q,Q]}else{let{value:Q,numInstances:J,size:Z}=this,X=J*Z;if(Q&&X&&Q.length>=X){let W=Array(Z).fill(1/0),H=Array(Z).fill(-1/0);for(let F=0;F<X;)for(let V=0;V<Z;V++){let D=Q[F++];if(D<W[V])W[V]=D;if(D>H[V])H[V]=D}$=[W,H]}}return this.state.bounds=$,$}setData($){let{state:Q}=this,J;if(ArrayBuffer.isView($))J={value:$};else if($ instanceof U0)J={buffer:$};else J=$;let Z={...this.settings,...J};if(ArrayBuffer.isView(J.value)){if(!J.type)if(this.doublePrecision&&J.value instanceof Float64Array)Z.type="float32";else{let W=xo(J.value);Z.type=Z.normalized?W.replace("int","norm"):W}Z.bytesPerElement=J.value.BYTES_PER_ELEMENT,Z.stride=Y2(Z)}if(Q.bounds=null,J.constant){let X=J.value;if(X=this._normalizeValue(X,[],0),this.settings.normalized)X=this.normalizeConstant(X);if(!(!Q.constant||!this._areValuesEqual(X,this.value)))return!1;Q.externalBuffer=null,Q.constant=!0,this.value=ArrayBuffer.isView(X)?X:new Float32Array(X)}else if(J.buffer){let X=J.buffer;Q.externalBuffer=X,Q.constant=!1,this.value=J.value||null}else if(J.value){this._checkExternalBuffer(J);let X=J.value;Q.externalBuffer=null,Q.constant=!1,this.value=X;let{buffer:W}=this,H=Y2(Z),F=(Z.vertexOffset||0)*H;if(this.doublePrecision&&X instanceof Float64Array)X=OV(X,Z);if(this.settings.isIndexed){let D=this.settings.defaultType;if(X.constructor!==D)X=new D(X)}let V=X.byteLength+F+H*2;if(!W||W.byteLength<V)W=this._createBuffer(V);W.write(X,F)}return this.setAccessor(Z),!0}updateSubBuffer($={}){this.state.bounds=null;let Q=this.value,{startOffset:J=0,endOffset:Z}=$;this.buffer.write(this.doublePrecision&&Q instanceof Float64Array?OV(Q,{size:this.size,startIndex:J,endIndex:Z}):Q.subarray(J,Z),J*Q.BYTES_PER_ELEMENT+this.byteOffset)}allocate($,Q=!1){let{state:J}=this,Z=J.allocatedValue,X=I7.allocate(Z,$+1,{size:this.size,type:this.settings.defaultType,copy:Q});this.value=X;let{byteOffset:W}=this,{buffer:H}=this;if(!H||H.byteLength<X.byteLength+W){if(H=this._createBuffer(X.byteLength+W),Q&&Z)H.write(Z instanceof Float64Array?OV(Z,this):Z,W)}return J.allocatedValue=X,J.constant=!1,J.externalBuffer=null,this.setAccessor(this.settings),!0}_checkExternalBuffer($){let{value:Q}=$;if(!ArrayBuffer.isView(Q))throw Error(`Attribute ${this.id} value is not TypedArray`);let J=this.settings.defaultType,Z=!1;if(this.doublePrecision)Z=Q.BYTES_PER_ELEMENT<4;if(Z)throw Error(`Attribute ${this.id} does not support ${Q.constructor.name}`);if(!(Q instanceof J)&&this.settings.normalized&&!("normalized"in $))S1.warn(`Attribute ${this.id} is normalized`)()}normalizeConstant($){switch(this.settings.type){case"snorm8":return new Float32Array($).map((Q)=>(Q+128)/255*2-1);case"snorm16":return new Float32Array($).map((Q)=>(Q+32768)/65535*2-1);case"unorm8":return new Float32Array($).map((Q)=>Q/255);case"unorm16":return new Float32Array($).map((Q)=>Q/65535);default:return $}}_normalizeValue($,Q,J){let{defaultValue:Z,size:X}=this.settings;if(Number.isFinite($))return Q[J]=$,Q;if(!$){let W=X;while(--W>=0)Q[J+W]=Z[W];return Q}switch(X){case 4:Q[J+3]=Number.isFinite($[3])?$[3]:Z[3];case 3:Q[J+2]=Number.isFinite($[2])?$[2]:Z[2];case 2:Q[J+1]=Number.isFinite($[1])?$[1]:Z[1];case 1:Q[J+0]=Number.isFinite($[0])?$[0]:Z[0];break;default:let W=X;while(--W>=0)Q[J+W]=Number.isFinite($[W])?$[W]:Z[W]}return Q}_areValuesEqual($,Q){if(!$||!Q)return!1;let{size:J}=this;for(let Z=0;Z<J;Z++)if($[Z]!==Q[Z])return!1;return!0}_createBuffer($){if(this._buffer)this._buffer.destroy();let{isIndexed:Q,type:J}=this.settings;return this._buffer=this.device.createBuffer({...this._buffer?.props,id:this.id,usage:(Q?U0.INDEX:U0.VERTEX)|U0.COPY_DST,indexType:Q?J:void 0,byteLength:$}),this._buffer}}var yo=[],bo=[];function L8($,Q=0,J=1/0){let Z=yo,X={index:-1,data:$,target:[]};if(!$)Z=yo;else if(typeof $[Symbol.iterator]==="function")Z=$;else if($.length>0)bo.length=$.length,Z=bo;if(Q>0||Number.isFinite(J))Z=(Array.isArray(Z)?Z:Array.from(Z)).slice(Q,J),X.index=Q-1;return{iterable:Z,objectInfo:X}}function XN($){return $&&$[Symbol.asyncIterator]}function YN($,Q){let{size:J,stride:Z,offset:X,startIndices:W,nested:H}=Q,F=$.BYTES_PER_ELEMENT,V=Z?Z/F:J,D=X?X/F:0,C=Math.floor(($.length-D)/V);return(z,{index:R,target:k})=>{if(!W){let _=R*V+D;for(let v=0;v<J;v++)k[v]=$[_+v];return k}let P=W[R],S=W[R+1]||C,T;if(H){T=Array(S-P);for(let _=P;_<S;_++){let v=_*V+D;k=Array(J);for(let L=0;L<J;L++)k[L]=$[v+L];T[_-P]=k}}else if(V===J)T=$.subarray(P*J+D,S*J+D);else{T=new $.constructor((S-P)*J);let _=0;for(let v=P;v<S;v++){let L=v*V+D;for(let f=0;f<J;f++)T[_++]=$[L+f]}}return T}}var fo=[],eY=[[0,1/0]];function mo($,Q){if($===eY)return $;if(Q[0]<0)Q[0]=0;if(Q[0]>=Q[1])return $;let J=[],Z=$.length,X=0;for(let W=0;W<Z;W++){let H=$[W];if(H[1]<Q[0])J.push(H),X=W+1;else if(H[0]>Q[1])J.push(H);else Q=[Math.min(H[0],Q[0]),Math.max(H[1],Q[1])]}return J.splice(X,0,Q),J}var fD1={interpolation:{duration:0,easing:($)=>$},spring:{stiffness:0.05,damping:0.5}};function WN($,Q){if(!$)return null;if(Number.isFinite($))$={type:"interpolation",duration:$};let J=$.type||"interpolation";return{...fD1[J],...Q,...$,type:J}}class SZ extends KN{constructor($,Q){super($,Q,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,layoutChanged:!1,updateRanges:eY});this.constant=!1,this.settings.update=Q.update||(Q.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices($){this.state.startIndices=$}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:$=!1}={}){let Q=this.state.needsRedraw;return this.state.needsRedraw=Q&&!$,Q}layoutChanged(){return this.state.layoutChanged}setAccessor($){var Q;(Q=this.state).layoutChanged||(Q.layoutChanged=!go($,this.getAccessor())),super.setAccessor($)}getUpdateTriggers(){let{accessor:$}=this.settings;return[this.id].concat(typeof $!=="function"&&$||[])}supportsTransition(){return Boolean(this.settings.transition)}getTransitionSetting($){if(!$||!this.supportsTransition())return null;let{accessor:Q}=this.settings,J=this.settings.transition,Z=Array.isArray(Q)?$[Q.find((X)=>$[X])]:$[Q];return WN(Z,J)}setNeedsUpdate($=this.id,Q){if(this.state.needsUpdate=this.state.needsUpdate||$,this.setNeedsRedraw($),Q){let{startRow:J=0,endRow:Z=1/0}=Q;this.state.updateRanges=mo(this.state.updateRanges,[J,Z])}else this.state.updateRanges=eY}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=fo}setNeedsRedraw($=this.id){this.state.needsRedraw=this.state.needsRedraw||$}allocate($){let{state:Q,settings:J}=this;if(J.noAlloc)return!1;if(J.update)return super.allocate($,Q.updateRanges!==eY),!0;return!1}updateBuffer({numInstances:$,data:Q,props:J,context:Z}){if(!this.needsUpdate())return!1;let{state:{updateRanges:X},settings:{update:W,noAlloc:H}}=this,F=!0;if(W){for(let[V,D]of X)W.call(Z,this,{data:Q,startRow:V,endRow:D,props:J,numInstances:$});if(!this.value);else if(this.constant||!this.buffer||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(let[V,D]of X){let C=Number.isFinite(V)?this.getVertexOffset(V):0,z=Number.isFinite(D)?this.getVertexOffset(D):H||!Number.isFinite($)?this.value.length:$*this.size;super.updateSubBuffer({startOffset:C,endOffset:z})}this._checkAttributeArray()}else F=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),F}setConstantValue($){if(this.device.type==="webgpu"||$===void 0||typeof $==="function")return!1;if(this.setData({constant:!0,value:$}))this.setNeedsRedraw();return this.clearNeedsUpdate(),!0}setExternalBuffer($){let{state:Q}=this;if(!$)return Q.lastExternalBuffer=null,!1;if(this.clearNeedsUpdate(),Q.lastExternalBuffer===$)return!0;return Q.lastExternalBuffer=$,this.setNeedsRedraw(),this.setData($),!0}setBinaryValue($,Q=null){let{state:J,settings:Z}=this;if(!$)return J.binaryValue=null,J.binaryAccessor=null,!1;if(Z.noAlloc)return!1;if(J.binaryValue===$)return this.clearNeedsUpdate(),!0;if(J.binaryValue=$,this.setNeedsRedraw(),Z.transform||Q!==this.startIndices){if(ArrayBuffer.isView($))$={value:$};let W=$;t0(ArrayBuffer.isView(W.value),`invalid ${Z.accessor}`);let H=Boolean(W.size)&&W.size!==this.size;return J.binaryAccessor=YN(W.value,{size:W.size||this.size,stride:W.stride,offset:W.offset,startIndices:Q,nested:H}),!1}return this.clearNeedsUpdate(),this.setData($),!0}getVertexOffset($){let{startIndices:Q}=this;return(Q?$<Q.length?Q[$]:this.numInstances:$)*this.size}getValue(){let $=this.settings.shaderAttributes,Q=super.getValue();if(!$)return Q;for(let J in $)Object.assign(Q,super.getValue(J,$[J]));return Q}getBufferLayout($){this.state.layoutChanged=!1;let Q=this.settings.shaderAttributes,J=super._getBufferLayout(),{stepMode:Z}=this.settings;if(Z==="dynamic")J.stepMode=$?$.isInstanced?"instance":"vertex":"instance";else J.stepMode=Z??"vertex";if(!Q)return J;for(let X in Q){let W=super._getBufferLayout(X,Q[X]);J.attributes.push(...W.attributes)}return J}_autoUpdater($,{data:Q,startRow:J,endRow:Z,props:X,numInstances:W}){if($.constant){if(this.context.device.type!=="webgpu")return}let{settings:H,state:F,value:V,size:D,startIndices:C}=$,{accessor:z,transform:R}=H,k=F.binaryAccessor||(typeof z==="function"?z:X[z]);if(typeof k!=="function")k=()=>k;t0(typeof k==="function",`accessor "${z}" is not a function`);let P=$.getVertexOffset(J),{iterable:S,objectInfo:T}=L8(Q,J,Z);for(let _ of S){T.index++;let v=k(_,T);if(R)v=R.call(this,v);if(C){let L=(T.index<C.length-1?C[T.index+1]:W)-C[T.index];if(v&&Array.isArray(v[0])){let f=P;for(let l of v)$._normalizeValue(l,V,f),f+=D}else if(v&&v.length>D)V.set(v,P);else $._normalizeValue(v,T.target,0),Ss({target:V,source:T.target,start:P,count:L});P+=L*D}else $._normalizeValue(v,V,P),P+=D}}_validateAttributeUpdaters(){let{settings:$}=this;if(!($.noAlloc||typeof $.update==="function"))throw Error(`Attribute ${this.id} missing update or accessor`)}_checkAttributeArray(){let{value:$}=this,Q=Math.min(4,this.size);if($&&$.length>=Q){let J=!0;switch(Q){case 4:J=J&&Number.isFinite($[3]);case 3:J=J&&Number.isFinite($[2]);case 2:J=J&&Number.isFinite($[1]);case 1:J=J&&Number.isFinite($[0]);break;default:J=!1}if(!J)throw Error(`Illegal attribute generated for ${this.id}`)}}}function tw($){let{source:Q,target:J,start:Z=0,size:X,getData:W}=$,H=$.end||J.length,F=Q.length,V=H-Z;if(F>V){J.set(Q.subarray(0,V),Z);return}if(J.set(Q,Z),!W)return;let D=F;while(D<V){let C=W(D,Q);for(let z=0;z<X;z++)J[Z+D]=C[z]||0,D++}}function co({source:$,target:Q,size:J,getData:Z,sourceStartIndices:X,targetStartIndices:W}){if(!X||!W)return tw({source:$,target:Q,size:J,getData:Z}),Q;let H=0,F=0,V=Z&&((C,z)=>Z(C+F,z)),D=Math.min(X.length,W.length);for(let C=1;C<D;C++){let z=X[C]*J,R=W[C]*J;tw({source:$.subarray(H,z),target:Q,start:F,end:R,size:J,getData:V}),H=z,F=R}if(F<Q.length)tw({source:[],target:Q,start:F,size:J,getData:V});return Q}function lo($){let{device:Q,settings:J,value:Z}=$,X=new SZ(Q,J);return X.setData({value:Z instanceof Float64Array?new Float64Array(0):new Float32Array(0),normalized:J.normalized}),X}function qN($){switch($){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw Error(`No defined attribute type for size "${$}"`)}}function HN($){switch($){case 1:return"float32";case 2:return"float32x2";case 3:return"float32x3";case 4:return"float32x4";default:throw Error("invalid type size")}}function FN($){$.push($.shift())}function po($,Q){let{doublePrecision:J,settings:Z,value:X,size:W}=$,H=J&&X instanceof Float64Array?2:1,F=0,{shaderAttributes:V}=$.settings;if(V)for(let D of Object.values(V))F=Math.max(F,D.vertexOffset??0);return(Z.noAlloc?X.length:(Q+F)*W)*H}function UN({device:$,source:Q,target:J}){if(!J||J.byteLength<Q.byteLength)J?.destroy(),J=$.createBuffer({byteLength:Q.byteLength,usage:Q.usage});return J}function VN({device:$,buffer:Q,attribute:J,fromLength:Z,toLength:X,fromStartIndices:W,getData:H=(F)=>F}){let F=J.doublePrecision&&J.value instanceof Float64Array?2:1,V=J.size*F,D=J.byteOffset,C=J.settings.bytesPerElement<4?D/J.settings.bytesPerElement*4:D,z=J.startIndices,R=W&&z,k=J.isConstant;if(!R&&Q&&Z>=X)return Q;let P=J.value instanceof Float64Array?Float32Array:J.value.constructor,S=k?J.value:new P(J.getBuffer().readSyncWebGL(D,X*P.BYTES_PER_ELEMENT).buffer);if(J.settings.normalized&&!k){let L=H;H=(f,l)=>J.normalizeConstant(L(f,l))}let T=k?(L,f)=>H(S,f):(L,f)=>H(S.subarray(L+D,L+D+V),f),_=Q?new Float32Array(Q.readSyncWebGL(C,Z*4).buffer):new Float32Array(0),v=new Float32Array(X);if(co({source:_,target:v,sourceStartIndices:W,targetStartIndices:z,size:V,getData:T}),!Q||Q.byteLength<v.byteLength+C)Q?.destroy(),Q=$.createBuffer({byteLength:v.byteLength+C,usage:35050});return Q.write(v,C),Q}class $W{constructor({device:$,attribute:Q,timeline:J}){this.buffers=[],this.currentLength=0,this.device=$,this.transition=new S3(J),this.attribute=Q,this.attributeInTransition=lo(Q),this.currentStartIndices=Q.startIndices}get inProgress(){return this.transition.inProgress}start($,Q,J=1/0){this.settings=$,this.currentStartIndices=this.attribute.startIndices,this.currentLength=po(this.attribute,Q),this.transition.start({...$,duration:J})}update(){let $=this.transition.update();if($)this.onUpdate();return $}setBuffer($){this.attributeInTransition.setData({buffer:$,normalized:this.attribute.settings.normalized,value:this.attributeInTransition.value})}cancel(){this.transition.cancel()}delete(){this.cancel();for(let $ of this.buffers)$.destroy();this.buffers.length=0}}class NN extends $W{constructor({device:$,attribute:Q,timeline:J}){super({device:$,attribute:Q,timeline:J});this.type="interpolation",this.transform=lD1($,Q)}start($,Q){let J=this.currentLength,Z=this.currentStartIndices;if(super.start($,Q,$.duration),$.duration<=0){this.transition.cancel();return}let{buffers:X,attribute:W}=this;FN(X),X[0]=VN({device:this.device,buffer:X[0],attribute:W,fromLength:J,toLength:this.currentLength,fromStartIndices:Z,getData:$.enter}),X[1]=UN({device:this.device,source:X[0],target:X[1]}),this.setBuffer(X[1]);let{transform:H}=this,F=H.model,V=Math.floor(this.currentLength/W.size);if(io(W))V/=2;if(F.setVertexCount(V),W.isConstant)F.setAttributes({aFrom:X[0]}),F.setConstantAttributes({aTo:W.value});else F.setAttributes({aFrom:X[0],aTo:W.getBuffer()});H.transformFeedback.setBuffers({vCurrent:X[1]})}onUpdate(){let{duration:$,easing:Q}=this.settings,{time:J}=this.transition,Z=J/$;if(Q)Z=Q(Z);let{model:X}=this.transform,W={time:Z};X.shaderInputs.setProps({interpolation:W}),this.transform.run({discard:!0})}delete(){super.delete(),this.transform.destroy()}}var mD1=`uniform interpolationUniforms {
  float time;
} interpolation;
`,uo={name:"interpolation",vs:mD1,uniformTypes:{time:"f32"}},cD1=`#version 300 es
#define SHADER_NAME interpolation-transition-vertex-shader

in ATTRIBUTE_TYPE aFrom;
in ATTRIBUTE_TYPE aTo;
out ATTRIBUTE_TYPE vCurrent;

void main(void) {
  vCurrent = mix(aFrom, aTo, interpolation.time);
  gl_Position = vec4(0.0);
}
`,dD1=`#version 300 es
#define SHADER_NAME interpolation-transition-vertex-shader

in ATTRIBUTE_TYPE aFrom;
in ATTRIBUTE_TYPE aFrom64Low;
in ATTRIBUTE_TYPE aTo;
in ATTRIBUTE_TYPE aTo64Low;
out ATTRIBUTE_TYPE vCurrent;
out ATTRIBUTE_TYPE vCurrent64Low;

vec2 mix_fp64(vec2 a, vec2 b, float x) {
  vec2 range = sub_fp64(b, a);
  return sum_fp64(a, mul_fp64(range, vec2(x, 0.0)));
}

void main(void) {
  for (int i=0; i<ATTRIBUTE_SIZE; i++) {
    vec2 value = mix_fp64(vec2(aFrom[i], aFrom64Low[i]), vec2(aTo[i], aTo64Low[i]), interpolation.time);
    vCurrent[i] = value.x;
    vCurrent64Low[i] = value.y;
  }
  gl_Position = vec4(0.0);
}
`;function io($){return $.doublePrecision&&$.value instanceof Float64Array}function lD1($,Q){let J=Q.size,Z=qN(J),X=HN(J),W=Q.getBufferLayout();if(io(Q))return new M8($,{vs:dD1,bufferLayout:[{name:"aFrom",byteStride:8*J,attributes:[{attribute:"aFrom",format:X,byteOffset:0},{attribute:"aFrom64Low",format:X,byteOffset:4*J}]},{name:"aTo",byteStride:8*J,attributes:[{attribute:"aTo",format:X,byteOffset:0},{attribute:"aTo64Low",format:X,byteOffset:4*J}]}],modules:[lM,uo],defines:{ATTRIBUTE_TYPE:Z,ATTRIBUTE_SIZE:J},moduleSettings:{},varyings:["vCurrent","vCurrent64Low"],bufferMode:35980,disableWarnings:!0});return new M8($,{vs:cD1,bufferLayout:[{name:"aFrom",format:X},{name:"aTo",format:W.attributes[0].format}],modules:[uo],defines:{ATTRIBUTE_TYPE:Z},varyings:["vCurrent"],disableWarnings:!0})}class DN extends $W{constructor({device:$,attribute:Q,timeline:J}){super({device:$,attribute:Q,timeline:J});this.type="spring",this.texture=oD1($),this.framebuffer=aD1($,this.texture),this.transform=sD1($,Q)}start($,Q){let J=this.currentLength,Z=this.currentStartIndices;super.start($,Q);let{buffers:X,attribute:W}=this;for(let F=0;F<2;F++)X[F]=VN({device:this.device,buffer:X[F],attribute:W,fromLength:J,toLength:this.currentLength,fromStartIndices:Z,getData:$.enter});X[2]=UN({device:this.device,source:X[0],target:X[2]}),this.setBuffer(X[1]);let{model:H}=this.transform;if(H.setVertexCount(Math.floor(this.currentLength/W.size)),W.isConstant)H.setConstantAttributes({aTo:W.value});else H.setAttributes({aTo:W.getBuffer()})}onUpdate(){let{buffers:$,transform:Q,framebuffer:J,transition:Z}=this,X=this.settings;Q.model.setAttributes({aPrev:$[0],aCur:$[1]}),Q.transformFeedback.setBuffers({vNext:$[2]});let W={stiffness:X.stiffness,damping:X.damping};if(Q.model.shaderInputs.setProps({spring:W}),Q.run({framebuffer:J,discard:!1,parameters:{viewport:[0,0,1,1]},clearColor:[0,0,0,0]}),FN($),this.setBuffer($[1]),!(this.device.readPixelsToArrayWebGL(J)[0]>0))Z.end()}delete(){super.delete(),this.transform.destroy(),this.texture.destroy(),this.framebuffer.destroy()}}var pD1=`uniform springUniforms {
  float damping;
  float stiffness;
} spring;
`,uD1={name:"spring",vs:pD1,uniformTypes:{damping:"f32",stiffness:"f32"}},iD1=`#version 300 es
#define SHADER_NAME spring-transition-vertex-shader

#define EPSILON 0.00001

in ATTRIBUTE_TYPE aPrev;
in ATTRIBUTE_TYPE aCur;
in ATTRIBUTE_TYPE aTo;
out ATTRIBUTE_TYPE vNext;
out float vIsTransitioningFlag;

ATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {
  ATTRIBUTE_TYPE velocity = cur - prev;
  ATTRIBUTE_TYPE delta = dest - cur;
  ATTRIBUTE_TYPE force = delta * spring.stiffness;
  ATTRIBUTE_TYPE resistance = velocity * spring.damping;
  return force - resistance + velocity + cur;
}

void main(void) {
  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;
  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;

  vNext = getNextValue(aCur, aPrev, aTo);
  gl_Position = vec4(0, 0, 0, 1);
  gl_PointSize = 100.0;
}
`,nD1=`#version 300 es
#define SHADER_NAME spring-transition-is-transitioning-fragment-shader

in float vIsTransitioningFlag;

out vec4 fragColor;

void main(void) {
  if (vIsTransitioningFlag == 0.0) {
    discard;
  }
  fragColor = vec4(1.0);
}`;function sD1($,Q){let J=qN(Q.size),Z=HN(Q.size);return new M8($,{vs:iD1,fs:nD1,bufferLayout:[{name:"aPrev",format:Z},{name:"aCur",format:Z},{name:"aTo",format:Q.getBufferLayout().attributes[0].format}],varyings:["vNext"],modules:[uD1],defines:{ATTRIBUTE_TYPE:J},parameters:{depthCompare:"always",blendColorOperation:"max",blendColorSrcFactor:"one",blendColorDstFactor:"one",blendAlphaOperation:"max",blendAlphaSrcFactor:"one",blendAlphaDstFactor:"one"}})}function oD1($){return $.createTexture({data:new Uint8Array(4),format:"rgba8unorm",mipmaps:!1,width:1,height:1})}function aD1($,Q){return $.createFramebuffer({id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,colorAttachments:[Q]})}var rD1={interpolation:NN,spring:DN};class CN{constructor($,{id:Q,timeline:J}){if(!$)throw Error("AttributeTransitionManager is constructed without device");this.id=Q,this.device=$,this.timeline=J,this.transitions={},this.needsRedraw=!1,this.numInstances=1}finalize(){for(let $ in this.transitions)this._removeTransition($)}update({attributes:$,transitions:Q,numInstances:J}){this.numInstances=J||1;for(let Z in $){let X=$[Z],W=X.getTransitionSetting(Q);if(!W)continue;this._updateAttribute(Z,X,W)}for(let Z in this.transitions){let X=$[Z];if(!X||!X.getTransitionSetting(Q))this._removeTransition(Z)}}hasAttribute($){let Q=this.transitions[$];return Q&&Q.inProgress}getAttributes(){let $={};for(let Q in this.transitions){let J=this.transitions[Q];if(J.inProgress)$[Q]=J.attributeInTransition}return $}run(){if(this.numInstances===0)return!1;for(let Q in this.transitions)if(this.transitions[Q].update())this.needsRedraw=!0;let $=this.needsRedraw;return this.needsRedraw=!1,$}_removeTransition($){this.transitions[$].delete(),delete this.transitions[$]}_updateAttribute($,Q,J){let Z=this.transitions[$],X=!Z||Z.type!==J.type;if(X){if(Z)this._removeTransition($);let W=rD1[J.type];if(W)this.transitions[$]=new W({attribute:Q,timeline:this.timeline,device:this.device});else S1.error(`unsupported transition type '${J.type}'`)(),X=!1}if(X||Q.needsRedraw())this.needsRedraw=!0,this.transitions[$].start(J,this.numInstances)}}var no="attributeManager.invalidate",tD1="attributeManager.updateStart",eD1="attributeManager.updateEnd",$C1="attribute.updateStart",QC1="attribute.allocate",JC1="attribute.updateEnd";class AN{constructor($,{id:Q="attribute-manager",stats:J,timeline:Z}={}){this.mergeBoundsMemoized=M3(Us),this.id=Q,this.device=$,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=J,this.attributeTransitionManager=new CN($,{id:`${Q}-transitions`,timeline:Z}),Object.seal(this)}finalize(){for(let $ in this.attributes)this.attributes[$].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw($={clearRedrawFlags:!1}){let Q=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!$.clearRedrawFlags,Q&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add($){this._add($)}addInstanced($){this._add($,{stepMode:"instance"})}remove($){for(let Q of $)if(this.attributes[Q]!==void 0)this.attributes[Q].delete(),delete this.attributes[Q]}invalidate($,Q){let J=this._invalidateTrigger($,Q);U5(no,this,$,J)}invalidateAll($){for(let Q in this.attributes)this.attributes[Q].setNeedsUpdate(Q,$);U5(no,this,"all")}update({data:$,numInstances:Q,startIndices:J=null,transitions:Z,props:X={},buffers:W={},context:H={}}){let F=!1;if(U5(tD1,this),this.stats)this.stats.get("Update Attributes").timeStart();for(let V in this.attributes){let D=this.attributes[V],C=D.settings.accessor;if(D.startIndices=J,D.numInstances=Q,X[V])S1.removed(`props.${V}`,`data.attributes.${V}`)();if(D.setExternalBuffer(W[V]));else if(D.setBinaryValue(typeof C==="string"?W[C]:void 0,$.startIndices));else if(typeof C==="string"&&!W[C]&&D.setConstantValue(X[C]));else if(D.needsUpdate())F=!0,this._updateAttribute({attribute:D,numInstances:Q,data:$,props:X,context:H});this.needsRedraw=this.needsRedraw||D.needsRedraw()}if(F)U5(eD1,this,Q);if(this.stats)this.stats.get("Update Attributes").timeEnd();this.attributeTransitionManager.update({attributes:this.attributes,numInstances:Q,transitions:Z})}updateTransition(){let{attributeTransitionManager:$}=this,Q=$.run();return this.needsRedraw=this.needsRedraw||Q,Q}getAttributes(){return{...this.attributes,...this.attributeTransitionManager.getAttributes()}}getBounds($){let Q=$.map((J)=>this.attributes[J]?.getBounds());return this.mergeBoundsMemoized(Q)}getChangedAttributes($={clearChangedFlags:!1}){let{attributes:Q,attributeTransitionManager:J}=this,Z={...J.getAttributes()};for(let X in Q){let W=Q[X];if(W.needsRedraw($)&&!J.hasAttribute(X))Z[X]=W}return Z}getBufferLayouts($){return Object.values(this.getAttributes()).map((Q)=>Q.getBufferLayout($))}_add($,Q){for(let J in $){let Z=$[J],X={...Z,id:J,size:Z.isIndexed&&1||Z.size||1,...Q};this.attributes[J]=new SZ(this.device,X)}this._mapUpdateTriggersToAttributes()}_mapUpdateTriggersToAttributes(){let $={};for(let Q in this.attributes)this.attributes[Q].getUpdateTriggers().forEach((Z)=>{if(!$[Z])$[Z]=[];$[Z].push(Q)});this.updateTriggers=$}_invalidateTrigger($,Q){let{attributes:J,updateTriggers:Z}=this,X=Z[$];if(X)X.forEach((W)=>{let H=J[W];if(H)H.setNeedsUpdate(H.id,Q)});return X}_updateAttribute($){let{attribute:Q,numInstances:J}=$;if(U5($C1,Q),Q.constant){Q.setConstantValue(Q.value);return}if(Q.allocate(J))U5(QC1,Q,J);if(Q.updateBuffer($))this.needsRedraw=!0,U5(JC1,Q,J)}}class zN extends S3{get value(){return this._value}_onUpdate(){let{time:$,settings:{fromValue:Q,toValue:J,duration:Z,easing:X}}=this,W=X($/Z);this._value=y$(Q,J,W)}}var so=0.00001;function oo($,Q,J,Z,X){let W=Q-$,F=(J-Q)*X,V=-W*Z;return F+V+W+Q}function ZC1($,Q,J,Z,X){if(Array.isArray(J)){let W=[];for(let H=0;H<J.length;H++)W[H]=oo($[H],Q[H],J[H],Z,X);return W}return oo($,Q,J,Z,X)}function ao($,Q){if(Array.isArray($)){let J=0;for(let Z=0;Z<$.length;Z++){let X=$[Z]-Q[Z];J+=X*X}return Math.sqrt(J)}return Math.abs($-Q)}class BN extends S3{get value(){return this._currValue}_onUpdate(){let{fromValue:$,toValue:Q,damping:J,stiffness:Z}=this.settings,{_prevValue:X=$,_currValue:W=$}=this,H=ZC1(X,W,Q,J,Z),F=ao(H,Q),V=ao(H,W);if(F<so&&V<so)H=Q,this.end();this._prevValue=W,this._currValue=H}}var KC1={interpolation:zN,spring:BN};class RN{constructor($){this.transitions=new Map,this.timeline=$}get active(){return this.transitions.size>0}add($,Q,J,Z){let{transitions:X}=this;if(X.has($)){let F=X.get($),{value:V=F.settings.fromValue}=F;Q=V,this.remove($)}if(Z=WN(Z),!Z)return;let W=KC1[Z.type];if(!W){S1.error(`unsupported transition type '${Z.type}'`)();return}let H=new W(this.timeline);H.start({...Z,fromValue:Q,toValue:J}),X.set($,H)}remove($){let{transitions:Q}=this;if(Q.has($))Q.get($).cancel(),Q.delete($)}update(){let $={};for(let[Q,J]of this.transitions)if(J.update(),$[Q]=J.value,!J.inProgress)this.remove(Q);return $}clear(){for(let $ of this.transitions.keys())this.remove($)}}function to($){let Q=$[H4];for(let J in Q){let Z=Q[J],{validate:X}=Z;if(X&&!X($[J],Z))throw Error(`Invalid prop ${J}: ${$[J]}`)}}function eo($,Q){let J=$a({newProps:$,oldProps:Q,propTypes:$[H4],ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),Z=YC1($,Q),X=!1;if(!Z)X=WC1($,Q);return{dataChanged:Z,propsChanged:J,updateTriggersChanged:X,extensionsChanged:qC1($,Q),transitionsChanged:XC1($,Q)}}function XC1($,Q){if(!$.transitions)return!1;let J={},Z=$[H4],X=!1;for(let W in $.transitions){let H=Z[W],F=H&&H.type;if((F==="number"||F==="color"||F==="array")&&ew($[W],Q[W],H))J[W]=!0,X=!0}return X?J:!1}function $a({newProps:$,oldProps:Q,ignoreProps:J={},propTypes:Z={},triggerName:X="props"}){if(Q===$)return!1;if(typeof $!=="object"||$===null)return`${X} changed shallowly`;if(typeof Q!=="object"||Q===null)return`${X} changed shallowly`;for(let W of Object.keys($))if(!(W in J)){if(!(W in Q))return`${X}.${W} added`;let H=ew($[W],Q[W],Z[W]);if(H)return`${X}.${W} ${H}`}for(let W of Object.keys(Q))if(!(W in J)){if(!(W in $))return`${X}.${W} dropped`;if(!Object.hasOwnProperty.call($,W)){let H=ew($[W],Q[W],Z[W]);if(H)return`${X}.${W} ${H}`}}return!1}function ew($,Q,J){let Z=J&&J.equal;if(Z&&!Z($,Q,J))return"changed deeply";if(!Z){if(Z=$&&Q&&$.equals,Z&&!Z.call($,Q))return"changed deeply"}if(!Z&&Q!==$)return"changed shallowly";return null}function YC1($,Q){if(Q===null)return"oldProps is null, initial diff";let J=!1,{dataComparator:Z,_dataDiff:X}=$;if(Z){if(!Z($.data,Q.data))J="Data comparator detected a change"}else if($.data!==Q.data)J="A new data container was supplied";if(J&&X)J=X($.data,Q.data)||J;return J}function WC1($,Q){if(Q===null)return{all:!0};if("all"in $.updateTriggers){if(ro($,Q,"all"))return{all:!0}}let J={},Z=!1;for(let X in $.updateTriggers)if(X!=="all"){if(ro($,Q,X))J[X]=!0,Z=!0}return Z?J:!1}function qC1($,Q){if(Q===null)return!0;let J=Q.extensions,{extensions:Z}=$;if(Z===J)return!1;if(!J||!Z)return!0;if(Z.length!==J.length)return!0;for(let X=0;X<Z.length;X++)if(!Z[X].equals(J[X]))return!0;return!1}function ro($,Q,J){let Z=$.updateTriggers[J];Z=Z===void 0||Z===null?{}:Z;let X=Q.updateTriggers[J];return X=X===void 0||X===null?{}:X,$a({oldProps:X,newProps:Z,triggerName:J})}function Qa($){if(!FC1($))throw Error("count(): argument not an object");if(typeof $.count==="function")return $.count();if(Number.isFinite($.size))return $.size;if(Number.isFinite($.length))return $.length;if(HC1($))return Object.keys($).length;throw Error("count(): argument not a container")}function HC1($){return $!==null&&typeof $==="object"&&$.constructor===Object}function FC1($){return $!==null&&typeof $==="object"}function $S($,Q){if(!Q)return $;let J={...$,...Q};if("defines"in Q)J.defines={...$.defines,...Q.defines};if("modules"in Q){if(J.modules=($.modules||[]).concat(Q.modules),Q.modules.some((Z)=>Z.name==="project64")){let Z=J.modules.findIndex((X)=>X.name==="project32");if(Z>=0)J.modules.splice(Z,1)}}if("inject"in Q)if(!$.inject)J.inject=Q.inject;else{let Z={...$.inject};for(let X in Q.inject)Z[X]=(Z[X]||"")+Q.inject[X];J.inject=Z}return J}var UC1={minFilter:"linear",mipmapFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},QS={};function Ja($,Q,J,Z){if(J instanceof A0)return J;else if(J.constructor&&J.constructor.name!=="Object")J={data:J};let X=null;if(J.compressed)X={minFilter:"linear",mipmapFilter:J.data.length>1?"nearest":"linear"};let W=Q.createTexture({...J,sampler:{...UC1,...X,...Z},mipmaps:!0});return QS[W.id]=$,W}function Za($,Q){if(!Q||!(Q instanceof A0))return;if(QS[Q.id]===$)Q.delete(),delete QS[Q.id]}var VC1={boolean:{validate($,Q){return!0},equal($,Q,J){return Boolean($)===Boolean(Q)}},number:{validate($,Q){return Number.isFinite($)&&(!("max"in Q)||$<=Q.max)&&(!("min"in Q)||$>=Q.min)}},color:{validate($,Q){return Q.optional&&!$||JS($)&&($.length===3||$.length===4)},equal($,Q,J){return r5($,Q,1)}},accessor:{validate($,Q){let J=ON($);return J==="function"||J===ON(Q.value)},equal($,Q,J){if(typeof Q==="function")return!0;return r5($,Q,1)}},array:{validate($,Q){return Q.optional&&!$||JS($)},equal($,Q,J){let{compare:Z}=J,X=Number.isInteger(Z)?Z:Z?1:0;return Z?r5($,Q,X):$===Q}},object:{equal($,Q,J){if(J.ignore)return!0;let{compare:Z}=J,X=Number.isInteger(Z)?Z:Z?1:0;return Z?r5($,Q,X):$===Q}},function:{validate($,Q){return Q.optional&&!$||typeof $==="function"},equal($,Q,J){return!J.compare&&J.ignore!==!1||$===Q}},data:{transform:($,Q,J)=>{if(!$)return $;let{dataTransform:Z}=J.props;if(Z)return Z($);if(typeof $.shape==="string"&&$.shape.endsWith("-table")&&Array.isArray($.data))return $.data;return $}},image:{transform:($,Q,J)=>{let Z=J.context;if(!Z||!Z.device)return null;return Ja(J.id,Z.device,$,{...Q.parameters,...J.props.textureParameters})},release:($,Q,J)=>{Za(J.id,$)}}};function Ka($){let Q={},J={},Z={};for(let[X,W]of Object.entries($)){let H=W?.deprecatedFor;if(H)Z[X]=Array.isArray(H)?H:[H];else{let F=NC1(X,W);Q[X]=F,J[X]=F.value}}return{propTypes:Q,defaultProps:J,deprecatedProps:Z}}function NC1($,Q){switch(ON(Q)){case"object":return QW($,Q);case"array":return QW($,{type:"array",value:Q,compare:!1});case"boolean":return QW($,{type:"boolean",value:Q});case"number":return QW($,{type:"number",value:Q});case"function":return QW($,{type:"function",value:Q,compare:!0});default:return{name:$,type:"unknown",value:Q}}}function QW($,Q){if(!("type"in Q)){if(!("value"in Q))return{name:$,type:"object",value:Q};return{name:$,type:ON(Q.value),...Q}}return{name:$,...VC1[Q.type],...Q}}function JS($){return Array.isArray($)||ArrayBuffer.isView($)}function ON($){if(JS($))return"array";if($===null)return"null";return typeof $}function Xa($,Q){let J;for(let W=Q.length-1;W>=0;W--){let H=Q[W];if("extensions"in H)J=H.extensions}let Z=ZS($.constructor,J),X=Object.create(Z);X[d$]=$,X[w3]={},X[G7]={};for(let W=0;W<Q.length;++W){let H=Q[W];for(let F in H)X[F]=H[F]}return Object.freeze(X),X}var DC1="_mergedDefaultProps";function ZS($,Q){if(!($ instanceof kN.constructor))return{};let J=DC1;if(Q)for(let X of Q){let W=X.constructor;if(W)J+=`:${W.extensionName||W.name}`}let Z=Ya($,J);if(!Z)return $[J]=CC1($,Q||[]);return Z}function CC1($,Q){if(!$.prototype)return null;let Z=Object.getPrototypeOf($),X=ZS(Z),W=Ya($,"defaultProps")||{},H=Ka(W),F=Object.assign(Object.create(null),X,H.defaultProps),V=Object.assign(Object.create(null),X?.[H4],H.propTypes),D=Object.assign(Object.create(null),X?.[EV],H.deprecatedProps);for(let C of Q){let z=ZS(C.constructor);if(z)Object.assign(F,z),Object.assign(V,z[H4]),Object.assign(D,z[EV])}if(AC1(F,$),BC1(F,V),zC1(F,D),F[H4]=V,F[EV]=D,Q.length===0&&!KS($,"_propTypes"))$._propTypes=V;return F}function AC1($,Q){let J=OC1(Q);Object.defineProperties($,{id:{writable:!0,value:J}})}function zC1($,Q){for(let J in Q)Object.defineProperty($,J,{enumerable:!1,set(Z){let X=`${this.id}: ${J}`;for(let W of Q[J])if(!KS(this,W))this[W]=Z;S1.deprecated(X,Q[J].join("/"))()}})}function BC1($,Q){let J={},Z={};for(let X in Q){let W=Q[X],{name:H,value:F}=W;if(W.async)J[H]=F,Z[H]=RC1(H)}$[w8]=J,$[w3]={},Object.defineProperties($,Z)}function RC1($){return{enumerable:!0,set(Q){if(typeof Q==="string"||Q instanceof Promise||XN(Q))this[w3][$]=Q;else this[G7][$]=Q},get(){if(this[G7]){if($ in this[G7])return this[G7][$]||this[w8][$];if($ in this[w3]){let Q=this[d$]&&this[d$].internalState;if(Q&&Q.hasAsyncProp($))return Q.getAsyncProp($)||this[w8][$]}}return this[w8][$]}}}function KS($,Q){return Object.prototype.hasOwnProperty.call($,Q)}function Ya($,Q){return KS($,Q)&&$[Q]}function OC1($){let Q=$.componentName;if(!Q)S1.warn(`${$.name}.componentName not specified`)();return Q||$.name}var kC1=0;class PN{constructor(...$){this.props=Xa(this,$),this.id=this.props.id,this.count=kC1++}clone($){let{props:Q}=this,J={};for(let Z in Q[w8])if(Z in Q[G7])J[Z]=Q[G7][Z];else if(Z in Q[w3])J[Z]=Q[w3][Z];return new this.constructor({...Q,...J,...$})}}PN.componentName="Component";PN.defaultProps={};var kN=PN;var PC1=Object.freeze({});class MN{constructor($){this.component=$,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(let $ in this.asyncProps){let Q=this.asyncProps[$];if(Q&&Q.type&&Q.type.release)Q.type.release(Q.resolvedValue,Q.type,this.component)}this.asyncProps={},this.component=null,this.resetOldProps()}getOldProps(){return this.oldAsyncProps||this.oldProps||PC1}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component?this.component.props:null}hasAsyncProp($){return $ in this.asyncProps}getAsyncProp($){let Q=this.asyncProps[$];return Q&&Q.resolvedValue}isAsyncPropLoading($){if($){let Q=this.asyncProps[$];return Boolean(Q&&Q.pendingLoadCount>0&&Q.pendingLoadCount!==Q.resolvedLoadCount)}for(let Q in this.asyncProps)if(this.isAsyncPropLoading(Q))return!0;return!1}reloadAsyncProp($,Q){this._watchPromise($,Promise.resolve(Q))}setAsyncProps($){this.component=$[d$]||this.component;let Q=$[G7]||{},J=$[w3]||$,Z=$[w8]||{};for(let X in Q){let W=Q[X];this._createAsyncPropData(X,Z[X]),this._updateAsyncProp(X,W),Q[X]=this.getAsyncProp(X)}for(let X in J){let W=J[X];this._createAsyncPropData(X,Z[X]),this._updateAsyncProp(X,W)}}_fetch($,Q){return null}_onResolve($,Q){}_onError($,Q){}_updateAsyncProp($,Q){if(!this._didAsyncInputValueChange($,Q))return;if(typeof Q==="string")Q=this._fetch($,Q);if(Q instanceof Promise){this._watchPromise($,Q);return}if(XN(Q)){this._resolveAsyncIterable($,Q);return}this._setPropValue($,Q)}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(let $ in this.asyncProps)Object.defineProperty(this.oldAsyncProps,$,{enumerable:!0,value:this.oldProps[$]})}}_didAsyncInputValueChange($,Q){let J=this.asyncProps[$];if(Q===J.resolvedValue||Q===J.lastValue)return!1;return J.lastValue=Q,!0}_setPropValue($,Q){this._freezeAsyncOldProps();let J=this.asyncProps[$];if(J)Q=this._postProcessValue(J,Q),J.resolvedValue=Q,J.pendingLoadCount++,J.resolvedLoadCount=J.pendingLoadCount}_setAsyncPropValue($,Q,J){let Z=this.asyncProps[$];if(Z&&J>=Z.resolvedLoadCount&&Q!==void 0)this._freezeAsyncOldProps(),Z.resolvedValue=Q,Z.resolvedLoadCount=J,this.onAsyncPropUpdated($,Q)}_watchPromise($,Q){let J=this.asyncProps[$];if(J){J.pendingLoadCount++;let Z=J.pendingLoadCount;Q.then((X)=>{if(!this.component)return;X=this._postProcessValue(J,X),this._setAsyncPropValue($,X,Z),this._onResolve($,X)}).catch((X)=>{this._onError($,X)})}}async _resolveAsyncIterable($,Q){if($!=="data"){this._setPropValue($,Q);return}let J=this.asyncProps[$];if(!J)return;J.pendingLoadCount++;let Z=J.pendingLoadCount,X=[],W=0;for await(let H of Q){if(!this.component)return;let{dataTransform:F}=this.component.props;if(F)X=F(H,X);else X=X.concat(H);Object.defineProperty(X,"__diff",{enumerable:!1,value:[{startRow:W,endRow:X.length}]}),W=X.length,this._setAsyncPropValue($,X,Z)}this._onResolve($,X)}_postProcessValue($,Q){let J=$.type;if(J&&this.component){if(J.release)J.release($.resolvedValue,J,this.component);if(J.transform)return J.transform(Q,J,this.component)}return Q}_createAsyncPropData($,Q){if(!this.asyncProps[$]){let Z=this.component&&this.component.props[H4];this.asyncProps[$]={type:Z&&Z[$],lastValue:null,resolvedValue:Q,pendingLoadCount:0,resolvedLoadCount:0}}}}class wN extends MN{constructor({attributeManager:$,layer:Q}){super(Q);this.attributeManager=$,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}_fetch($,Q){let J=this.layer,Z=J?.props.fetch;if(Z)return Z(Q,{propName:$,layer:J});return super._fetch($,Q)}_onResolve($,Q){let J=this.layer;if(J){let Z=J.props.onDataLoad;if($==="data"&&Z)Z(Q,{propName:$,layer:J})}}_onError($,Q){let J=this.layer;if(J)J.raiseError(Q,`loading ${$} of ${this.layer}`)}}var MC1="layer.changeFlag",wC1="layer.initialize",SC1="layer.update",TC1="layer.finalize",IC1="layer.matched",Wa=16777215,GC1=Object.freeze([]),EC1=M3(({oldViewport:$,viewport:Q})=>{return $.equals(Q)}),j7=new Uint8ClampedArray(0),jC1={data:{type:"data",value:GC1,async:!0},dataComparator:{type:"function",value:null,optional:!0},_dataDiff:{type:"function",value:($)=>$&&$.__diff,optional:!0},dataTransform:{type:"function",value:null,optional:!0},onDataLoad:{type:"function",value:null,optional:!0},onError:{type:"function",value:null,optional:!0},fetch:{type:"function",value:($,{propName:Q,layer:J,loaders:Z,loadOptions:X,signal:W})=>{let{resourceManager:H}=J.context;if(X=X||J.getLoadOptions(),Z=Z||J.props.loaders,W)X={...X,fetch:{...X?.fetch,signal:W}};let F=H.contains($);if(!F&&!X)H.add({resourceId:$,data:p9($,Z),persistent:!1}),F=!0;if(F)return H.subscribe({resourceId:$,onChange:(V)=>J.internalState?.reloadAsyncProp(Q,V),consumerId:J.id,requestId:Q});return p9($,Z,X)}},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:"draw",onHover:{type:"function",value:null,optional:!0},onClick:{type:"function",value:null,optional:!0},onDragStart:{type:"function",value:null,optional:!0},onDrag:{type:"function",value:null,optional:!0},onDragEnd:{type:"function",value:null,optional:!0},coordinateSystem:Q0.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:2},loadOptions:{type:"object",value:null,optional:!0,ignore:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,ignore:!0},getPolygonOffset:{type:"function",value:({layerIndex:$})=>[0,-$*100]},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class SN extends kN{constructor(){super(...arguments);this.internalState=null,this.lifecycle=Z2.NO_STATE,this.parent=null}static get componentName(){return Object.prototype.hasOwnProperty.call(this,"layerName")?this.layerName:""}get root(){let $=this;while($.parent)$=$.parent;return $}toString(){return`${this.constructor.layerName||this.constructor.name}({id: '${this.props.id}'})`}project($){t0(this.internalState);let Q=this.internalState.viewport||this.context.viewport,J=zw($,{viewport:Q,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[Z,X,W]=DZ(J,Q.pixelProjectionMatrix);return $.length===2?[Z,X]:[Z,X,W]}unproject($){return t0(this.internalState),(this.internalState.viewport||this.context.viewport).unproject($)}projectPosition($,Q){t0(this.internalState);let J=this.internalState.viewport||this.context.viewport;return Ds($,{viewport:J,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...Q})}get isComposite(){return!1}get isDrawable(){return!0}setState($){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,$),this.setNeedsRedraw()}setNeedsRedraw(){if(this.internalState)this.internalState.needsRedraw=!0}setNeedsUpdate(){if(this.internalState)this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0}get isLoaded(){return this.internalState?!this.internalState.isAsyncPropLoading():!1}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){let $=this.state;return $&&($.models||$.model&&[$.model])||[]}setShaderModuleProps(...$){for(let Q of this.getModels())Q.shaderInputs.setProps(...$)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){let{coordinateSystem:$}=this.props;return $===Q0.DEFAULT||$===Q0.LNGLAT||$===Q0.CARTESIAN}onHover($,Q){if(this.props.onHover)return this.props.onHover($,Q)||!1;return!1}onClick($,Q){if(this.props.onClick)return this.props.onClick($,Q)||!1;return!1}nullPickingColor(){return[0,0,0]}encodePickingColor($,Q=[]){return Q[0]=$+1&255,Q[1]=$+1>>8&255,Q[2]=$+1>>8>>8&255,Q}decodePickingColor($){t0($ instanceof Uint8Array);let[Q,J,Z]=$;return Q+J*256+Z*65536-1}getNumInstances(){if(Number.isFinite(this.props.numInstances))return this.props.numInstances;if(this.state&&this.state.numInstances!==void 0)return this.state.numInstances;return Qa(this.props.data)}getStartIndices(){if(this.props.startIndices)return this.props.startIndices;if(this.state&&this.state.startIndices)return this.state.startIndices;return null}getBounds(){return this.getAttributeManager()?.getBounds(["positions","instancePositions"])}getShaders($){$=$S($,{disableWarnings:!0,modules:this.context.defaultShaderModules});for(let Q of this.props.extensions)$=$S($,Q.getShaders.call(this,Q));return $}shouldUpdateState($){return $.changeFlags.propsOrDataChanged}updateState($){let Q=this.getAttributeManager(),{dataChanged:J}=$.changeFlags;if(J&&Q)if(Array.isArray(J))for(let Z of J)Q.invalidateAll(Z);else Q.invalidateAll();if(Q){let{props:Z}=$,X=this.internalState.hasPickingBuffer,W=Number.isInteger(Z.highlightedObjectIndex)||Z.pickable||Z.extensions.some((H)=>H.getNeedsPickingBuffer.call(this,H));if(X!==W){this.internalState.hasPickingBuffer=W;let{pickingColors:H,instancePickingColors:F}=Q.attributes,V=H||F;if(V){if(W&&V.constant)V.constant=!1,Q.invalidate(V.id);if(!V.value&&!W)V.constant=!0,V.value=[0,0,0]}}}}finalizeState($){for(let J of this.getModels())J.destroy();let Q=this.getAttributeManager();if(Q)Q.finalize();if(this.context)this.context.resourceManager.unsubscribe({consumerId:this.id});if(this.internalState)this.internalState.uniformTransitions.clear(),this.internalState.finalize()}draw($){for(let Q of this.getModels())Q.draw($.renderPass)}getPickingInfo({info:$,mode:Q,sourceLayer:J}){let{index:Z}=$;if(Z>=0){if(Array.isArray(this.props.data))$.object=this.props.data[Z]}return $}raiseError($,Q){if(Q)$=Error(`${Q}: ${$.message}`,{cause:$});if(!this.props.onError?.($))this.context?.onError?.($,this)}getNeedsRedraw($={clearRedrawFlags:!1}){return this._getNeedsRedraw($)}needsUpdate(){if(!this.internalState)return!1;return this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams())}hasUniformTransition(){return this.internalState?.uniformTransitions.active||!1}activateViewport($){if(!this.internalState)return;let Q=this.internalState.viewport;if(this.internalState.viewport=$,!Q||!EC1({oldViewport:Q,viewport:$}))if(this.setChangeFlags({viewportChanged:!0}),this.isComposite){if(this.needsUpdate())this.setNeedsUpdate()}else this._update()}invalidateAttribute($="all"){let Q=this.getAttributeManager();if(!Q)return;if($==="all")Q.invalidateAll();else Q.invalidate($)}updateAttributes($){let Q=!1;for(let J in $)if($[J].layoutChanged())Q=!0;for(let J of this.getModels())this._setModelAttributes(J,$,Q)}_updateAttributes(){let $=this.getAttributeManager();if(!$)return;let Q=this.props,J=this.getNumInstances(),Z=this.getStartIndices();$.update({data:Q.data,numInstances:J,startIndices:Z,props:Q,transitions:Q.transitions,buffers:Q.data.attributes,context:this});let X=$.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(X)}_updateAttributeTransition(){let $=this.getAttributeManager();if($)$.updateTransition()}_updateUniformTransition(){let{uniformTransitions:$}=this.internalState;if($.active){let Q=$.update(),J=Object.create(this.props);for(let Z in Q)Object.defineProperty(J,Z,{value:Q[Z]});return J}return this.props}calculateInstancePickingColors($,{numInstances:Q}){if($.constant)return;let J=Math.floor(j7.length/4);if(this.internalState.usesPickingColorCache=!0,J<Q){if(Q>Wa)S1.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")();j7=I7.allocate(j7,Q,{size:4,copy:!0,maxCount:Math.max(Q,Wa)});let Z=Math.floor(j7.length/4),X=[0,0,0];for(let W=J;W<Z;W++)this.encodePickingColor(W,X),j7[W*4+0]=X[0],j7[W*4+1]=X[1],j7[W*4+2]=X[2],j7[W*4+3]=0}$.value=j7.subarray(0,Q*4)}_setModelAttributes($,Q,J=!1){if(!Object.keys(Q).length)return;if(J){let H=this.getAttributeManager();$.setBufferLayout(H.getBufferLayouts($)),Q=H.getAttributes()}let Z=$.userData?.excludeAttributes||{},X={},W={};for(let H in Q){if(Z[H])continue;let F=Q[H].getValue();for(let V in F){let D=F[V];if(D instanceof U0)if(Q[H].settings.isIndexed)$.setIndexBuffer(D);else X[V]=D;else if(D)W[V]=D}}$.setAttributes(X),$.setConstantAttributes(W)}disablePickingIndex($){let Q=this.props.data;if(!("attributes"in Q)){this._disablePickingIndex($);return}let{pickingColors:J,instancePickingColors:Z}=this.getAttributeManager().attributes,X=J||Z,W=X&&Q.attributes&&Q.attributes[X.id];if(W&&W.value){let H=W.value,F=this.encodePickingColor($);for(let V=0;V<Q.length;V++){let D=X.getVertexOffset(V);if(H[D]===F[0]&&H[D+1]===F[1]&&H[D+2]===F[2])this._disablePickingIndex(V)}}else this._disablePickingIndex($)}_disablePickingIndex($){let{pickingColors:Q,instancePickingColors:J}=this.getAttributeManager().attributes,Z=Q||J;if(!Z)return;let X=Z.getVertexOffset($),W=Z.getVertexOffset($+1);Z.buffer.write(new Uint8Array(W-X),X)}restorePickingColors(){let{pickingColors:$,instancePickingColors:Q}=this.getAttributeManager().attributes,J=$||Q;if(!J)return;if(this.internalState.usesPickingColorCache&&J.value.buffer!==j7.buffer)J.value=j7.subarray(0,J.value.length);J.updateSubBuffer({startOffset:0})}_initialize(){t0(!this.internalState),t0(Number.isFinite(this.props.coordinateSystem)),U5(wC1,this);let $=this._getAttributeManager();if($)$.addInstanced({instancePickingColors:{type:"uint8",size:4,noAlloc:!0,update:this.calculateInstancePickingColors}});this.internalState=new wN({attributeManager:$,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>{return S1.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),$}}),this.internalState.uniformTransitions=new RN(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(let Q of this.props.extensions)Q.initializeState.call(this,this.context,Q);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState($){U5(IC1,this,this===$);let{state:Q,internalState:J}=$;if(this===$)return;this.internalState=J,this.state=Q,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps())}_update(){let $=this.needsUpdate();if(U5(SC1,this,$),!$)return;let Q=this.props,J=this.context,Z=this.internalState,X=J.viewport,W=this._updateUniformTransition();Z.propsInTransition=W,J.viewport=Z.viewport||X,this.props=W;try{let H=this._getUpdateParams(),F=this.getModels();if(J.device)this.updateState(H);else try{this.updateState(H)}catch(D){}for(let D of this.props.extensions)D.updateState.call(this,H,D);this.setNeedsRedraw(),this._updateAttributes();let V=this.getModels()[0]!==F[0];this._postUpdate(H,V)}finally{J.viewport=X,this.props=Q,this._clearChangeFlags(),Z.needsUpdate=!1,Z.resetOldProps()}}_finalize(){U5(TC1,this),this.finalizeState(this.context);for(let $ of this.props.extensions)$.finalizeState.call(this,this.context,$)}_drawLayer({renderPass:$,shaderModuleProps:Q=null,uniforms:J={},parameters:Z={}}){this._updateAttributeTransition();let X=this.props,W=this.context;this.props=this.internalState.propsInTransition||X;try{if(Q)this.setShaderModuleProps(Q);let{getPolygonOffset:H}=this.props,F=H&&H(J)||[0,0];if(W.device instanceof j3)W.device.setParametersWebGL({polygonOffset:F});for(let V of this.getModels())if(V.device.type==="webgpu")V.setParameters({...V.parameters,...Z});else V.setParameters(Z);if(W.device instanceof j3)W.device.withParametersWebGL(Z,()=>{let V={renderPass:$,shaderModuleProps:Q,uniforms:J,parameters:Z,context:W};for(let D of this.props.extensions)D.draw.call(this,V,D);this.draw(V)});else{let V={renderPass:$,shaderModuleProps:Q,uniforms:J,parameters:Z,context:W};for(let D of this.props.extensions)D.draw.call(this,V,D);this.draw(V)}}finally{this.props=X}}getChangeFlags(){return this.internalState?.changeFlags}setChangeFlags($){if(!this.internalState)return;let{changeFlags:Q}=this.internalState;for(let Z in $)if($[Z]){let X=!1;switch(Z){case"dataChanged":let W=$[Z],H=Q[Z];if(W&&Array.isArray(H))Q.dataChanged=Array.isArray(W)?H.concat(W):W,X=!0;default:if(!Q[Z])Q[Z]=$[Z],X=!0}if(X)U5(MC1,this,Z,$)}let J=Boolean(Q.dataChanged||Q.updateTriggersChanged||Q.propsChanged||Q.extensionsChanged);Q.propsOrDataChanged=J,Q.somethingChanged=J||Q.viewportChanged||Q.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps($,Q){let J=eo($,Q);if(J.updateTriggersChanged){for(let Z in J.updateTriggersChanged)if(J.updateTriggersChanged[Z])this.invalidateAttribute(Z)}if(J.transitionsChanged)for(let Z in J.transitionsChanged)this.internalState.uniformTransitions.add(Z,Q[Z],$[Z],$.transitions?.[Z]);return this.setChangeFlags(J)}validateProps(){to(this.props)}updateAutoHighlight($){if(this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex))this._updateAutoHighlight($)}_updateAutoHighlight($){let Q={highlightedObjectColor:$.picked?$.color:null},{highlightColor:J}=this.props;if($.picked&&typeof J==="function")Q.highlightColor=J($);this.setShaderModuleProps({picking:Q}),this.setNeedsRedraw()}_getAttributeManager(){let $=this.context;return new AN($.device,{id:this.props.id,stats:$.stats,timeline:$.timeline})}_postUpdate($,Q){let{props:J,oldProps:Z}=$,X=this.state.model;if(X?.isInstanced)X.setInstanceCount(this.getNumInstances());let{autoHighlight:W,highlightedObjectIndex:H,highlightColor:F}=J;if(Q||Z.autoHighlight!==W||Z.highlightedObjectIndex!==H||Z.highlightColor!==F){let V={};if(Array.isArray(F))V.highlightColor=F;if(Q||Z.autoHighlight!==W||H!==Z.highlightedObjectIndex)V.highlightedObjectColor=Number.isFinite(H)&&H>=0?this.encodePickingColor(H):null;this.setShaderModuleProps({picking:V})}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw($){if(!this.internalState)return!1;let Q=!1;Q=Q||this.internalState.needsRedraw&&this.id;let J=this.getAttributeManager(),Z=J?J.getNeedsRedraw($):!1;if(Q=Q||Z,Q)for(let X of this.props.extensions)X.onNeedsRedraw.call(this,X);return this.internalState.needsRedraw=this.internalState.needsRedraw&&!$.clearRedrawFlags,Q}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}SN.defaultProps=jC1;SN.layerName="Layer";var M6=SN;var LC1="compositeLayer.renderLayers";class XS extends M6{get isComposite(){return!0}get isDrawable(){return!1}get isLoaded(){return super.isLoaded&&this.getSubLayers().every(($)=>$.isLoaded)}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState($){}setState($){super.setState($),this.setNeedsUpdate()}getPickingInfo({info:$}){let{object:Q}=$;if(!(Q&&Q.__source&&Q.__source.parent&&Q.__source.parent.id===this.id))return $;return $.object=Q.__source.object,$.index=Q.__source.index,$}filterSubLayer($){return!0}shouldRenderSubLayer($,Q){return Q&&Q.length}getSubLayerClass($,Q){let{_subLayerProps:J}=this.props;return J&&J[$]&&J[$].type||Q}getSubLayerRow($,Q,J){return $.__source={parent:this,object:Q,index:J},$}getSubLayerAccessor($){if(typeof $==="function"){let Q={index:-1,data:this.props.data,target:[]};return(J,Z)=>{if(J&&J.__source)return Q.index=J.__source.index,$(J.__source.object,Q);return $(J,Z)}}return $}getSubLayerProps($={}){let{opacity:Q,pickable:J,visible:Z,parameters:X,getPolygonOffset:W,highlightedObjectIndex:H,autoHighlight:F,highlightColor:V,coordinateSystem:D,coordinateOrigin:C,wrapLongitude:z,positionFormat:R,modelMatrix:k,extensions:P,fetch:S,operation:T,_subLayerProps:_}=this.props,v={id:"",updateTriggers:{},opacity:Q,pickable:J,visible:Z,parameters:X,getPolygonOffset:W,highlightedObjectIndex:H,autoHighlight:F,highlightColor:V,coordinateSystem:D,coordinateOrigin:C,wrapLongitude:z,positionFormat:R,modelMatrix:k,extensions:P,fetch:S,operation:T},L=_&&$.id&&_[$.id],f=L&&L.updateTriggers,l=$.id||"sublayer";if(L){let J1=this.props[H4],Y1=$.type?$.type._propTypes:{};for(let H1 in L){let Q1=Y1[H1]||J1[H1];if(Q1&&Q1.type==="accessor")L[H1]=this.getSubLayerAccessor(L[H1])}}Object.assign(v,$,L),v.id=`${this.props.id}-${l}`,v.updateTriggers={all:this.props.updateTriggers?.all,...$.updateTriggers,...f};for(let J1 of P){let Y1=J1.getSubLayerProps.call(this,J1);if(Y1)Object.assign(v,Y1,{updateTriggers:Object.assign(v.updateTriggers,Y1.updateTriggers)})}return v}_updateAutoHighlight($){for(let Q of this.getSubLayers())Q.updateAutoHighlight($)}_getAttributeManager(){return null}_postUpdate($,Q){let J=this.internalState.subLayers,Z=!J||this.needsUpdate();if(Z){let X=this.renderLayers();J=RZ(X,Boolean),this.internalState.subLayers=J}U5(LC1,this,Z,J);for(let X of J)X.parent=this}}XS.layerName="CompositeLayer";var JW=XS;class i${constructor($){this.indexStarts=[0],this.vertexStarts=[0],this.vertexCount=0,this.instanceCount=0;let{attributes:Q={}}=$;this.typedArrayManager=I7,this.attributes={},this._attributeDefs=Q,this.opts=$,this.updateGeometry($)}updateGeometry($){Object.assign(this.opts,$);let{data:Q,buffers:J={},getGeometry:Z,geometryBuffer:X,positionFormat:W,dataChanged:H,normalize:F=!0}=this.opts;if(this.data=Q,this.getGeometry=Z,this.positionSize=X&&X.size||(W==="XY"?2:3),this.buffers=J,this.normalize=F,X){if(t0(Q.startIndices),this.getGeometry=this.getGeometryFromBuffer(X),!F)J.vertexPositions=X}if(this.geometryBuffer=J.vertexPositions,Array.isArray(H))for(let V of H)this._rebuildGeometry(V);else this._rebuildGeometry()}updatePartialGeometry({startRow:$,endRow:Q}){this._rebuildGeometry({startRow:$,endRow:Q})}getGeometryFromBuffer($){let Q=$.value||$;if(!ArrayBuffer.isView(Q))return null;return YN(Q,{size:this.positionSize,offset:$.offset,stride:$.stride,startIndices:this.data.startIndices})}_allocate($,Q){let{attributes:J,buffers:Z,_attributeDefs:X,typedArrayManager:W}=this;for(let H in X)if(H in Z)W.release(J[H]),J[H]=null;else{let F=X[H];F.copy=Q,J[H]=W.allocate(J[H],$,F)}}_forEachGeometry($,Q,J){let{data:Z,getGeometry:X}=this,{iterable:W,objectInfo:H}=L8(Z,Q,J);for(let F of W){H.index++;let V=X?X(F,H):null;$(V,H.index)}}_rebuildGeometry($){if(!this.data)return;let{indexStarts:Q,vertexStarts:J,instanceCount:Z}=this,{data:X,geometryBuffer:W}=this,{startRow:H=0,endRow:F=1/0}=$||{},V={};if(!$)Q=[0],J=[0];if(this.normalize||!W)this._forEachGeometry((C,z)=>{let R=C&&this.normalizeGeometry(C);V[z]=R,J[z+1]=J[z]+(R?this.getGeometrySize(R):0)},H,F),Z=J[J.length-1];else if(J=X.startIndices,Z=J[X.length]||0,ArrayBuffer.isView(W))Z=Z||W.length/this.positionSize;else if(W instanceof U0){let C=this.positionSize*4;Z=Z||W.byteLength/C}else if(W.buffer){let C=W.stride||this.positionSize*4;Z=Z||W.buffer.byteLength/C}else if(W.value){let C=W.value,z=W.stride/C.BYTES_PER_ELEMENT||this.positionSize;Z=Z||C.length/z}this._allocate(Z,Boolean($)),this.indexStarts=Q,this.vertexStarts=J,this.instanceCount=Z;let D={};this._forEachGeometry((C,z)=>{let R=V[z]||C;D.vertexStart=J[z],D.indexStart=Q[z];let k=z<J.length-1?J[z+1]:Z;D.geometrySize=k-J[z],D.geometryIndex=z,this.updateGeometryAttributes(R,D)},H,F),this.vertexCount=Q[Q.length-1]}}var qa={name:"icon",vs:`uniform iconUniforms {
  float sizeScale;
  vec2 iconsTextureDim;
  float sizeMinPixels;
  float sizeMaxPixels;
  bool billboard;
  highp int sizeUnits;
  float alphaCutoff;
} icon;
`,fs:`uniform iconUniforms {
  float sizeScale;
  vec2 iconsTextureDim;
  float sizeMinPixels;
  float sizeMaxPixels;
  bool billboard;
  highp int sizeUnits;
  float alphaCutoff;
} icon;
`,uniformTypes:{sizeScale:"f32",iconsTextureDim:"vec2<f32>",sizeMinPixels:"f32",sizeMaxPixels:"f32",billboard:"f32",sizeUnits:"i32",alphaCutoff:"f32"}};var Ha=`#version 300 es
#define SHADER_NAME icon-layer-vertex-shader
in vec2 positions;
in vec3 instancePositions;
in vec3 instancePositions64Low;
in float instanceSizes;
in float instanceAngles;
in vec4 instanceColors;
in vec3 instancePickingColors;
in vec4 instanceIconFrames;
in float instanceColorModes;
in vec2 instanceOffsets;
in vec2 instancePixelOffset;
out float vColorMode;
out vec4 vColor;
out vec2 vTextureCoords;
out vec2 uv;
vec2 rotate_by_angle(vec2 vertex, float angle) {
float angle_radian = angle * PI / 180.0;
float cos_angle = cos(angle_radian);
float sin_angle = sin(angle_radian);
mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);
return rotationMatrix * vertex;
}
void main(void) {
geometry.worldPosition = instancePositions;
geometry.uv = positions;
geometry.pickingColor = instancePickingColors;
uv = positions;
vec2 iconSize = instanceIconFrames.zw;
float sizePixels = clamp(
project_size_to_pixel(instanceSizes * icon.sizeScale, icon.sizeUnits),
icon.sizeMinPixels, icon.sizeMaxPixels
);
float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;
vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;
pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;
pixelOffset += instancePixelOffset;
pixelOffset.y *= -1.0;
if (icon.billboard)  {
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
vec3 offset = vec3(pixelOffset, 0.0);
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
} else {
vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);
DECKGL_FILTER_SIZE(offset_common, geometry);
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
vTextureCoords = mix(
instanceIconFrames.xy,
instanceIconFrames.xy + iconSize,
(positions.xy + 1.0) / 2.0
) / icon.iconsTextureDim;
vColor = instanceColors;
DECKGL_FILTER_COLOR(vColor, geometry);
vColorMode = instanceColorModes;
}
`;var Fa=`#version 300 es
#define SHADER_NAME icon-layer-fragment-shader
precision highp float;
uniform sampler2D iconsTexture;
in float vColorMode;
in vec4 vColor;
in vec2 vTextureCoords;
in vec2 uv;
out vec4 fragColor;
void main(void) {
geometry.uv = uv;
vec4 texColor = texture(iconsTexture, vTextureCoords);
vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);
float a = texColor.a * layer.opacity * vColor.a;
if (a < icon.alphaCutoff) {
discard;
}
fragColor = vec4(color, a);
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`;var hC1=1024,vC1=4,Ua=()=>{},Va={minFilter:"linear",mipmapFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},_C1={x:0,y:0,width:0,height:0};function xC1($){return Math.pow(2,Math.ceil(Math.log2($)))}function gC1($,Q,J,Z){let X=Math.min(J/Q.width,Z/Q.height),W=Math.floor(Q.width*X),H=Math.floor(Q.height*X);if(X===1)return{image:Q,width:W,height:H};return $.canvas.height=H,$.canvas.width=W,$.clearRect(0,0,W,H),$.drawImage(Q,0,0,Q.width,Q.height,0,0,W,H),{image:$.canvas,width:W,height:H}}function ZW($){return $&&($.id||$.url)}function yC1($,Q,J,Z){let{width:X,height:W,device:H}=$,F=H.createTexture({format:"rgba8unorm",width:Q,height:J,sampler:Z,mipmaps:!0}),V=H.createCommandEncoder();return V.copyTextureToTexture({sourceTexture:$,destinationTexture:F,width:X,height:W}),V.finish(),$.destroy(),F}function Na($,Q,J){for(let Z=0;Z<Q.length;Z++){let{icon:X,xOffset:W}=Q[Z],H=ZW(X);$[H]={...X,x:W,y:J}}}function bC1({icons:$,buffer:Q,mapping:J={},xOffset:Z=0,yOffset:X=0,rowHeight:W=0,canvasWidth:H}){let F=[];for(let V=0;V<$.length;V++){let D=$[V],C=ZW(D);if(!J[C]){let{height:z,width:R}=D;if(Z+R+Q>H)Na(J,F,X),Z=0,X=W+X+Q,W=0,F=[];F.push({icon:D,xOffset:Z}),Z=Z+R+Q,W=Math.max(W,z)}}if(F.length>0)Na(J,F,X);return{mapping:J,rowHeight:W,xOffset:Z,yOffset:X,canvasWidth:H,canvasHeight:xC1(W+X+Q)}}function fC1($,Q,J){if(!$||!Q)return null;J=J||{};let Z={},{iterable:X,objectInfo:W}=L8($);for(let H of X){W.index++;let F=Q(H,W),V=ZW(F);if(!F)throw Error("Icon is missing.");if(!F.url)throw Error("Icon url is missing.");if(!Z[V]&&(!J[V]||F.url!==J[V].url))Z[V]={...F,source:H,sourceIndex:W.index}}return Z}class TN{constructor($,{onUpdate:Q=Ua,onError:J=Ua}){this._loadOptions=null,this._texture=null,this._externalTexture=null,this._mapping={},this._samplerParameters=null,this._pendingCount=0,this._autoPacking=!1,this._xOffset=0,this._yOffset=0,this._rowHeight=0,this._buffer=vC1,this._canvasWidth=hC1,this._canvasHeight=0,this._canvas=null,this.device=$,this.onUpdate=Q,this.onError=J}finalize(){this._texture?.delete()}getTexture(){return this._texture||this._externalTexture}getIconMapping($){let Q=this._autoPacking?ZW($):$;return this._mapping[Q]||_C1}setProps({loadOptions:$,autoPacking:Q,iconAtlas:J,iconMapping:Z,textureParameters:X}){if($)this._loadOptions=$;if(Q!==void 0)this._autoPacking=Q;if(Z)this._mapping=Z;if(J)this._texture?.delete(),this._texture=null,this._externalTexture=J;if(X)this._samplerParameters=X}get isLoaded(){return this._pendingCount===0}packIcons($,Q){if(!this._autoPacking||typeof document>"u")return;let J=Object.values(fC1($,Q,this._mapping)||{});if(J.length>0){let{mapping:Z,xOffset:X,yOffset:W,rowHeight:H,canvasHeight:F}=bC1({icons:J,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset});if(this._rowHeight=H,this._mapping=Z,this._xOffset=X,this._yOffset=W,this._canvasHeight=F,!this._texture)this._texture=this.device.createTexture({format:"rgba8unorm",width:this._canvasWidth,height:this._canvasHeight,sampler:this._samplerParameters||Va,mipmaps:!0});if(this._texture.height!==this._canvasHeight)this._texture=yC1(this._texture,this._canvasWidth,this._canvasHeight,this._samplerParameters||Va);this.onUpdate(),this._canvas=this._canvas||document.createElement("canvas"),this._loadIcons(J)}}_loadIcons($){let Q=this._canvas.getContext("2d",{willReadFrequently:!0});for(let J of $)this._pendingCount++,p9(J.url,this._loadOptions).then((Z)=>{let X=ZW(J),W=this._mapping[X],{x:H,y:F,width:V,height:D}=W,{image:C,width:z,height:R}=gC1(Q,Z,V,D);this._texture?.copyExternalImage({image:C,x:H+(V-z)/2,y:F+(D-R)/2,width:z,height:R}),W.width=z,W.height=R,this._texture.generateMipmap(),this.onUpdate()}).catch((Z)=>{this.onError({url:J.url,source:J.source,sourceIndex:J.sourceIndex,loadOptions:this._loadOptions,error:Z})}).finally(()=>{this._pendingCount--})}}var Da=[0,0,0,255],mC1={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:0.05,min:0,max:1},getPosition:{type:"accessor",value:($)=>$.position},getIcon:{type:"accessor",value:($)=>$.icon},getColor:{type:"accessor",value:Da},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,optional:!0},textureParameters:{type:"object",ignore:!0,value:null}};class IN extends M6{getShaders(){return super.getShaders({vs:Ha,fs:Fa,modules:[o4,r4,qa]})}initializeState(){this.state={iconManager:new TN(this.context.device,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})},this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:"uint8",accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getColor",defaultValue:Da},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}updateState($){super.updateState($);let{props:Q,oldProps:J,changeFlags:Z}=$,X=this.getAttributeManager(),{iconAtlas:W,iconMapping:H,data:F,getIcon:V,textureParameters:D}=Q,{iconManager:C}=this.state;if(typeof W==="string")return;let z=W||this.internalState.isAsyncPropLoading("iconAtlas");if(C.setProps({loadOptions:Q.loadOptions,autoPacking:!z,iconAtlas:W,iconMapping:z?H:null,textureParameters:D}),z){if(J.iconMapping!==Q.iconMapping)X.invalidate("getIcon")}else if(Z.dataChanged||Z.updateTriggersChanged&&(Z.updateTriggersChanged.all||Z.updateTriggersChanged.getIcon))C.packIcons(F,V);if(Z.extensionsChanged)this.state.model?.destroy(),this.state.model=this._getModel(),X.invalidateAll()}get isLoaded(){return super.isLoaded&&this.state.iconManager.isLoaded}finalizeState($){super.finalizeState($),this.state.iconManager.finalize()}draw({uniforms:$}){let{sizeScale:Q,sizeMinPixels:J,sizeMaxPixels:Z,sizeUnits:X,billboard:W,alphaCutoff:H}=this.props,{iconManager:F}=this.state,V=F.getTexture();if(V){let D=this.state.model,C={iconsTexture:V,iconsTextureDim:[V.width,V.height],sizeUnits:q6[X],sizeScale:Q,sizeMinPixels:J,sizeMaxPixels:Z,billboard:W,alphaCutoff:H};D.shaderInputs.setProps({icon:C}),D.draw(this.context.renderPass)}}_getModel(){let $=[-1,-1,1,-1,-1,1,1,1];return new c5(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new q4({topology:"triangle-strip",attributes:{positions:{size:2,value:new Float32Array($)}}}),isInstanced:!0})}_onUpdate(){this.setNeedsRedraw()}_onError($){let Q=this.getCurrentLayer()?.props.onIconError;if(Q)Q($);else S1.error($.error.message)()}getInstanceOffset($){let{width:Q,height:J,anchorX:Z=Q/2,anchorY:X=J/2}=this.state.iconManager.getIconMapping($);return[Q/2-Z,J/2-X]}getInstanceColorMode($){return this.state.iconManager.getIconMapping($).mask?1:0}getInstanceIconFrame($){let{x:Q,y:J,width:Z,height:X}=this.state.iconManager.getIconMapping($);return[Q,J,Z,X]}}IN.defaultProps=mC1;IN.layerName="IconLayer";var GN=IN;var Ca={name:"scatterplot",vs:`uniform scatterplotUniforms {
  float radiusScale;
  float radiusMinPixels;
  float radiusMaxPixels;
  float lineWidthScale;
  float lineWidthMinPixels;
  float lineWidthMaxPixels;
  float stroked;
  float filled;
  bool antialiasing;
  bool billboard;
  highp int radiusUnits;
  highp int lineWidthUnits;
} scatterplot;
`,fs:`uniform scatterplotUniforms {
  float radiusScale;
  float radiusMinPixels;
  float radiusMaxPixels;
  float lineWidthScale;
  float lineWidthMinPixels;
  float lineWidthMaxPixels;
  float stroked;
  float filled;
  bool antialiasing;
  bool billboard;
  highp int radiusUnits;
  highp int lineWidthUnits;
} scatterplot;
`,source:"",uniformTypes:{radiusScale:"f32",radiusMinPixels:"f32",radiusMaxPixels:"f32",lineWidthScale:"f32",lineWidthMinPixels:"f32",lineWidthMaxPixels:"f32",stroked:"f32",filled:"f32",antialiasing:"f32",billboard:"f32",radiusUnits:"i32",lineWidthUnits:"i32"}};var Aa=`#version 300 es
#define SHADER_NAME scatterplot-layer-vertex-shader
in vec3 positions;
in vec3 instancePositions;
in vec3 instancePositions64Low;
in float instanceRadius;
in float instanceLineWidths;
in vec4 instanceFillColors;
in vec4 instanceLineColors;
in vec3 instancePickingColors;
out vec4 vFillColor;
out vec4 vLineColor;
out vec2 unitPosition;
out float innerUnitRadius;
out float outerRadiusPixels;
void main(void) {
geometry.worldPosition = instancePositions;
outerRadiusPixels = clamp(
project_size_to_pixel(scatterplot.radiusScale * instanceRadius, scatterplot.radiusUnits),
scatterplot.radiusMinPixels, scatterplot.radiusMaxPixels
);
float lineWidthPixels = clamp(
project_size_to_pixel(scatterplot.lineWidthScale * instanceLineWidths, scatterplot.lineWidthUnits),
scatterplot.lineWidthMinPixels, scatterplot.lineWidthMaxPixels
);
outerRadiusPixels += scatterplot.stroked * lineWidthPixels / 2.0;
float edgePadding = scatterplot.antialiasing ? (outerRadiusPixels + SMOOTH_EDGE_RADIUS) / outerRadiusPixels : 1.0;
unitPosition = edgePadding * positions.xy;
geometry.uv = unitPosition;
geometry.pickingColor = instancePickingColors;
innerUnitRadius = 1.0 - scatterplot.stroked * lineWidthPixels / outerRadiusPixels;
if (scatterplot.billboard) {
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
vec3 offset = edgePadding * positions * outerRadiusPixels;
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
} else {
vec3 offset = edgePadding * positions * project_pixel_size(outerRadiusPixels);
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vFillColor, geometry);
vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vLineColor, geometry);
}
`;var za=`#version 300 es
#define SHADER_NAME scatterplot-layer-fragment-shader
precision highp float;
in vec4 vFillColor;
in vec4 vLineColor;
in vec2 unitPosition;
in float innerUnitRadius;
in float outerRadiusPixels;
out vec4 fragColor;
void main(void) {
geometry.uv = unitPosition;
float distToCenter = length(unitPosition) * outerRadiusPixels;
float inCircle = scatterplot.antialiasing ?
smoothedge(distToCenter, outerRadiusPixels) :
step(distToCenter, outerRadiusPixels);
if (inCircle == 0.0) {
discard;
}
if (scatterplot.stroked > 0.5) {
float isLine = scatterplot.antialiasing ?
smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :
step(innerUnitRadius * outerRadiusPixels, distToCenter);
if (scatterplot.filled > 0.5) {
fragColor = mix(vFillColor, vLineColor, isLine);
} else {
if (isLine == 0.0) {
discard;
}
fragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);
}
} else if (scatterplot.filled < 0.5) {
discard;
} else {
fragColor = vFillColor;
}
fragColor.a *= inCircle;
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`;var Ba=`// TODO(ibgreen): Hack for Layer uniforms (move to new "color" module?)

struct LayerUniforms {
  opacity: f32,
};

var<private> layer: LayerUniforms = LayerUniforms(1.0);
// @group(0) @binding(1) var<uniform> layer: LayerUniforms;

// Main shaders

struct ScatterplotUniforms {
  radiusScale: f32,
  radiusMinPixels: f32,
  radiusMaxPixels: f32,
  lineWidthScale: f32,
  lineWidthMinPixels: f32,
  lineWidthMaxPixels: f32,
  stroked: f32,
  filled: i32,
  antialiasing: i32,
  billboard: i32,
  radiusUnits: i32,
  lineWidthUnits: i32,
};

struct ConstantAttributeUniforms {
 instancePositions: vec3<f32>,
 instancePositions64Low: vec3<f32>,
 instanceRadius: f32,
 instanceLineWidths: f32,
 instanceFillColors: vec4<f32>,
 instanceLineColors: vec4<f32>,
 instancePickingColors: vec3<f32>,

 instancePositionsConstant: i32,
 instancePositions64LowConstant: i32,
 instanceRadiusConstant: i32,
 instanceLineWidthsConstant: i32,
 instanceFillColorsConstant: i32,
 instanceLineColorsConstant: i32,
 instancePickingColorsConstant: i32
};

@group(0) @binding(2) var<uniform> scatterplot: ScatterplotUniforms;

struct ConstantAttributes {
  instancePositions: vec3<f32>,
  instancePositions64Low: vec3<f32>,
  instanceRadius: f32,
  instanceLineWidths: f32,
  instanceFillColors: vec4<f32>,
  instanceLineColors: vec4<f32>,
  instancePickingColors: vec3<f32>
};

const constants = ConstantAttributes(
  vec3<f32>(0.0),
  vec3<f32>(0.0),
  0.0,
  0.0,
  vec4<f32>(0.0, 0.0, 0.0, 1.0),
  vec4<f32>(0.0, 0.0, 0.0, 1.0),
  vec3<f32>(0.0)
);

struct Attributes {
  @builtin(instance_index) instanceIndex : u32,
  @builtin(vertex_index) vertexIndex : u32,
  @location(0) positions: vec3<f32>,
  @location(1) instancePositions: vec3<f32>,
  @location(2) instancePositions64Low: vec3<f32>,
  @location(3) instanceRadius: f32,
  @location(4) instanceLineWidths: f32,
  @location(5) instanceFillColors: vec4<f32>,
  @location(6) instanceLineColors: vec4<f32>,
  @location(7) instancePickingColors: vec3<f32>
};

struct Varyings {
  @builtin(position) position: vec4<f32>,
  @location(0) vFillColor: vec4<f32>,
  @location(1) vLineColor: vec4<f32>,
  @location(2) unitPosition: vec2<f32>,
  @location(3) innerUnitRadius: f32,
  @location(4) outerRadiusPixels: f32,
};

@vertex
fn vertexMain(attributes: Attributes) -> Varyings {
  var varyings: Varyings;

  // Draw an inline geometry constant array clip space triangle to verify that rendering works.
  // var positions = array<vec2<f32>, 3>(vec2(0.0, 0.5), vec2(-0.5, -0.5), vec2(0.5, -0.5));
  // if (attributes.instanceIndex == 0) {
  //   varyings.position = vec4<f32>(positions[attributes.vertexIndex], 0.0, 1.0);
  //   return varyings;
  // }

  // var geometry: Geometry;
  // geometry.worldPosition = instancePositions;

  // Multiply out radius and clamp to limits
  varyings.outerRadiusPixels = clamp(
    project_unit_size_to_pixel(scatterplot.radiusScale * attributes.instanceRadius, scatterplot.radiusUnits),
    scatterplot.radiusMinPixels, scatterplot.radiusMaxPixels
  );

  // Multiply out line width and clamp to limits
  let lineWidthPixels = clamp(
    project_unit_size_to_pixel(scatterplot.lineWidthScale * attributes.instanceLineWidths, scatterplot.lineWidthUnits),
    scatterplot.lineWidthMinPixels, scatterplot.lineWidthMaxPixels
  );

  // outer radius needs to offset by half stroke width
  varyings.outerRadiusPixels += scatterplot.stroked * lineWidthPixels / 2.0;
  // Expand geometry to accommodate edge smoothing
  let edgePadding = select(
    (varyings.outerRadiusPixels + SMOOTH_EDGE_RADIUS) / varyings.outerRadiusPixels,
    1.0,
    scatterplot.antialiasing != 0
  );

  // position on the containing square in [-1, 1] space
  varyings.unitPosition = edgePadding * attributes.positions.xy;
  geometry.uv = varyings.unitPosition;
  geometry.pickingColor = attributes.instancePickingColors;

  varyings.innerUnitRadius = 1.0 - scatterplot.stroked * lineWidthPixels / varyings.outerRadiusPixels;

  if (scatterplot.billboard != 0) {
    varyings.position = project_position_to_clipspace(attributes.instancePositions, attributes.instancePositions64Low, vec3<f32>(0.0)); // TODO , geometry.position);
    // DECKGL_FILTER_GL_POSITION(varyings.position, geometry);
    let offset = attributes.positions; // * edgePadding * varyings.outerRadiusPixels;
    // DECKGL_FILTER_SIZE(offset, geometry);
    let clipPixels = project_pixel_size_to_clipspace(offset.xy);
    varyings.position.x = clipPixels.x;
    varyings.position.y = clipPixels.y;
  } else {
    let offset = edgePadding * attributes.positions * project_pixel_size_float(varyings.outerRadiusPixels);
    // DECKGL_FILTER_SIZE(offset, geometry);
    varyings.position = project_position_to_clipspace(attributes.instancePositions, attributes.instancePositions64Low, offset); // TODO , geometry.position);
    // DECKGL_FILTER_GL_POSITION(varyings.position, geometry);
  }

  // Apply opacity to instance color, or return instance picking color
  varyings.vFillColor = vec4<f32>(attributes.instanceFillColors.rgb, attributes.instanceFillColors.a * layer.opacity);
  // DECKGL_FILTER_COLOR(varyings.vFillColor, geometry);
  varyings.vLineColor = vec4<f32>(attributes.instanceLineColors.rgb, attributes.instanceLineColors.a * layer.opacity);
  // DECKGL_FILTER_COLOR(varyings.vLineColor, geometry);

  return varyings;
}

@fragment
fn fragmentMain(varyings: Varyings) -> @location(0) vec4<f32> {
  // var geometry: Geometry;
  // geometry.uv = unitPosition;

  let distToCenter = length(varyings.unitPosition) * varyings.outerRadiusPixels;
  let inCircle = select(
    smoothedge(distToCenter, varyings.outerRadiusPixels),
    step(distToCenter, varyings.outerRadiusPixels),
    scatterplot.antialiasing != 0
  );

  if (inCircle == 0.0) {
    // discard;
  }

  var fragColor: vec4<f32>;

  if (scatterplot.stroked != 0) {
    let isLine = select(
      smoothedge(varyings.innerUnitRadius * varyings.outerRadiusPixels, distToCenter),
      step(varyings.innerUnitRadius * varyings.outerRadiusPixels, distToCenter),
      scatterplot.antialiasing != 0
    );

    if (scatterplot.filled != 0) {
      fragColor = mix(varyings.vFillColor, varyings.vLineColor, isLine);
    } else {
      if (isLine == 0.0) {
        // discard;
      }
      fragColor = vec4<f32>(varyings.vLineColor.rgb, varyings.vLineColor.a * isLine);
    }
  } else if (scatterplot.filled == 0) {
    // discard;
  } else {
    fragColor = varyings.vFillColor;
  }

  fragColor.a *= inCircle;
  // DECKGL_FILTER_COLOR(fragColor, geometry);

  return fragColor;
  // return vec4<f32>(0, 0, 1, 1);
}
`;var Ra=[0,0,0,255],cC1={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:($)=>$.position},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:Ra},getLineColor:{type:"accessor",value:Ra},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class EN extends M6{getShaders(){return super.getShaders({vs:Aa,fs:za,source:Ba,modules:[o4,r4,Ca]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState($){if(super.updateState($),$.changeFlags.extensionsChanged)this.state.model?.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll()}draw({uniforms:$}){let{radiusUnits:Q,radiusScale:J,radiusMinPixels:Z,radiusMaxPixels:X,stroked:W,filled:H,billboard:F,antialiasing:V,lineWidthUnits:D,lineWidthScale:C,lineWidthMinPixels:z,lineWidthMaxPixels:R}=this.props,k={stroked:W,filled:H,billboard:F,antialiasing:V,radiusUnits:q6[Q],radiusScale:J,radiusMinPixels:Z,radiusMaxPixels:X,lineWidthUnits:q6[D],lineWidthScale:C,lineWidthMinPixels:z,lineWidthMaxPixels:R},P=this.state.model;P.shaderInputs.setProps({scatterplot:k}),P.draw(this.context.renderPass)}_getModel(){let $=[-1,-1,0,1,-1,0,-1,1,0,1,1,0];return new c5(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new q4({topology:"triangle-strip",attributes:{positions:{size:3,value:new Float32Array($)}}}),isInstanced:!0})}}EN.defaultProps=cC1;EN.layerName="ScatterplotLayer";var Oa=EN;var jN={CLOCKWISE:1,COUNTER_CLOCKWISE:-1};function KW($,Q,J={}){if(ka($,J)!==Q)return dC1($,J),!0;return!1}function ka($,Q={}){return Math.sign(LN($,Q))}var YS={x:0,y:1,z:2};function LN($,Q={}){let{start:J=0,end:Z=$.length,plane:X="xy"}=Q,W=Q.size||2,H=0,F=YS[X[0]],V=YS[X[1]];for(let D=J,C=Z-W;D<Z;D+=W)H+=($[D+F]-$[C+F])*($[D+V]+$[C+V]),C=D;return H/2}function dC1($,Q){let{start:J=0,end:Z=$.length,size:X=2}=Q,W=(Z-J)/X,H=Math.floor(W/2);for(let F=0;F<H;++F){let V=J+F*X,D=J+(W-1-F)*X;for(let C=0;C<X;++C){let z=$[V+C];$[V+C]=$[D+C],$[D+C]=z}}}function d6($,Q){let J=Q.length,Z=$.length;if(Z>0){let X=!0;for(let W=0;W<J;W++)if($[Z-J+W]!==Q[W]){X=!1;break}if(X)return!1}for(let X=0;X<J;X++)$[Z+X]=Q[X];return!0}function XW($,Q){let J=Q.length;for(let Z=0;Z<J;Z++)$[Z]=Q[Z]}function W2($,Q,J,Z,X=[]){let W=Z+Q*J;for(let H=0;H<J;H++)X[H]=$[W+H];return X}function hN($,Q,J,Z,X=[]){let W,H;if(J&8)W=(Z[3]-$[1])/(Q[1]-$[1]),H=3;else if(J&4)W=(Z[1]-$[1])/(Q[1]-$[1]),H=1;else if(J&2)W=(Z[2]-$[0])/(Q[0]-$[0]),H=2;else if(J&1)W=(Z[0]-$[0])/(Q[0]-$[0]),H=0;else return null;for(let F=0;F<$.length;F++)X[F]=(H&1)===F?Z[H]:W*(Q[F]-$[F])+$[F];return X}function YW($,Q){let J=0;if($[0]<Q[0])J|=1;else if($[0]>Q[2])J|=2;if($[1]<Q[1])J|=4;else if($[1]>Q[3])J|=8;return J}function WW($,Q){let{size:J=2,broken:Z=!1,gridResolution:X=10,gridOffset:W=[0,0],startIndex:H=0,endIndex:F=$.length}=Q||{},V=(F-H)/J,D=[],C=[D],z=W2($,0,J,H),R,k,P=wa(z,X,W,[]),S=[];d6(D,z);for(let T=1;T<V;T++){R=W2($,T,J,H,R),k=YW(R,P);while(k){hN(z,R,k,P,S);let _=YW(S,P);if(_)hN(z,S,_,P,S),k=_;if(d6(D,S),XW(z,S),uC1(P,X,k),Z&&D.length>J)D=[],C.push(D),d6(D,z);k=YW(R,P)}d6(D,R),XW(z,R)}return Z?C:C[0]}var Pa=0,pC1=1;function qW($,Q=null,J){if(!$.length)return[];let{size:Z=2,gridResolution:X=10,gridOffset:W=[0,0],edgeTypes:H=!1}=J||{},F=[],V=[{pos:$,types:H?Array($.length/Z).fill(pC1):null,holes:Q||[]}],D=[[],[]],C=[];while(V.length){let{pos:z,types:R,holes:k}=V.shift();iC1(z,Z,k[0]||z.length,D),C=wa(D[0],X,W,C);let P=YW(D[1],C);if(P){let S=Ma(z,R,Z,0,k[0]||z.length,C,P),T={pos:S[0].pos,types:S[0].types,holes:[]},_={pos:S[1].pos,types:S[1].types,holes:[]};V.push(T,_);for(let v=0;v<k.length;v++){if(S=Ma(z,R,Z,k[v],k[v+1]||z.length,C,P),S[0]){if(T.holes.push(T.pos.length),T.pos=vN(T.pos,S[0].pos),H)T.types=vN(T.types,S[0].types)}if(S[1]){if(_.holes.push(_.pos.length),_.pos=vN(_.pos,S[1].pos),H)_.types=vN(_.types,S[1].types)}}}else{let S={positions:z};if(H)S.edgeTypes=R;if(k.length)S.holeIndices=k;F.push(S)}}return F}function Ma($,Q,J,Z,X,W,H){let F=(X-Z)/J,V=[],D=[],C=[],z=[],R=[],k,P,S,T=W2($,F-1,J,Z),_=Math.sign(H&8?T[1]-W[3]:T[0]-W[2]),v=Q&&Q[F-1],L=0,f=0;for(let l=0;l<F;l++){if(k=W2($,l,J,Z,k),P=Math.sign(H&8?k[1]-W[3]:k[0]-W[2]),S=Q&&Q[Z/J+l],P&&_&&_!==P)hN(T,k,H,W,R),d6(V,R)&&C.push(v),d6(D,R)&&z.push(v);if(P<=0)d6(V,k)&&C.push(S),L-=P;else if(C.length)C[C.length-1]=Pa;if(P>=0)d6(D,k)&&z.push(S),f+=P;else if(z.length)z[z.length-1]=Pa;XW(T,k),_=P,v=S}return[L?{pos:V,types:Q&&C}:null,f?{pos:D,types:Q&&z}:null]}function wa($,Q,J,Z){let X=Math.floor(($[0]-J[0])/Q)*Q+J[0],W=Math.floor(($[1]-J[1])/Q)*Q+J[1];return Z[0]=X,Z[1]=W,Z[2]=X+Q,Z[3]=W+Q,Z}function uC1($,Q,J){if(J&8)$[1]+=Q,$[3]+=Q;else if(J&4)$[1]-=Q,$[3]-=Q;else if(J&2)$[0]+=Q,$[2]+=Q;else if(J&1)$[0]-=Q,$[2]-=Q}function iC1($,Q,J,Z){let X=1/0,W=-1/0,H=1/0,F=-1/0;for(let V=0;V<J;V+=Q){let D=$[V],C=$[V+1];X=D<X?D:X,W=D>W?D:W,H=C<H?C:H,F=C>F?C:F}return Z[0][0]=X,Z[0][1]=H,Z[1][0]=W,Z[1][1]=F,Z}function vN($,Q){for(let J=0;J<Q.length;J++)$.push(Q[J]);return $}var nC1=85.051129;function WS($,Q){let{size:J=2,startIndex:Z=0,endIndex:X=$.length,normalize:W=!0}=Q||{},H=$.slice(Z,X);Sa(H,J,0,X-Z);let F=WW(H,{size:J,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(W)for(let V of F)Ta(V,J);return F}function qS($,Q=null,J){let{size:Z=2,normalize:X=!0,edgeTypes:W=!1}=J||{};Q=Q||[];let H=[],F=[],V=0,D=0;for(let z=0;z<=Q.length;z++){let R=Q[z]||$.length,k=D,P=sC1($,Z,V,R);for(let S=P;S<R;S++)H[D++]=$[S];for(let S=V;S<P;S++)H[D++]=$[S];Sa(H,Z,k,D),oC1(H,Z,k,D,J?.maxLatitude),V=R,F[z]=D}F.pop();let C=qW(H,F,{size:Z,gridResolution:360,gridOffset:[-180,-180],edgeTypes:W});if(X)for(let z of C)Ta(z.positions,Z);return C}function sC1($,Q,J,Z){let X=-1,W=-1;for(let H=J+1;H<Z;H+=Q){let F=Math.abs($[H]);if(F>X)X=F,W=H-1}return W}function oC1($,Q,J,Z,X=nC1){let W=$[J],H=$[Z-Q];if(Math.abs(W-H)>180){let F=W2($,0,Q,J);F[0]+=Math.round((H-W)/360)*360,d6($,F),F[1]=Math.sign(F[1])*X,d6($,F),F[0]=W,d6($,F)}}function Sa($,Q,J,Z){let X=$[0],W;for(let H=J;H<Z;H+=Q){W=$[H];let F=W-X;if(F>180||F<-180)W-=Math.round(F/360)*360;$[H]=X=W}}function Ta($,Q){let J,Z=$.length/Q;for(let W=0;W<Z;W++)if(J=$[W*Q],(J+180)%360!==0)break;let X=-Math.round(J/360)*360;if(X===0)return;for(let W=0;W<Z;W++)$[W*Q]+=X}function Ia($,Q,J,Z){let X;if(Array.isArray($[0])){let W=$.length*Q;X=Array(W);for(let H=0;H<$.length;H++)for(let F=0;F<Q;F++)X[H*Q+F]=$[H][F]||0}else X=$;if(J)return WW(X,{size:Q,gridResolution:J});if(Z)return WS(X,{size:Q});return X}var rC1=1,tC1=2,HS=4;class _N extends i${constructor($){super({...$,attributes:{positions:{size:3,padding:18,initialize:!0,type:$.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}})}get($){return this.attributes[$]}getGeometryFromBuffer($){if(this.normalize)return super.getGeometryFromBuffer($);return null}normalizeGeometry($){if(this.normalize)return Ia($,this.positionSize,this.opts.resolution,this.opts.wrapLongitude);return $}getGeometrySize($){if(Ga($)){let J=0;for(let Z of $)J+=this.getGeometrySize(Z);return J}let Q=this.getPathLength($);if(Q<2)return 0;if(this.isClosed($))return Q<3?0:Q+2;return Q}updateGeometryAttributes($,Q){if(Q.geometrySize===0)return;if($&&Ga($))for(let J of $){let Z=this.getGeometrySize(J);Q.geometrySize=Z,this.updateGeometryAttributes(J,Q),Q.vertexStart+=Z}else this._updateSegmentTypes($,Q),this._updatePositions($,Q)}_updateSegmentTypes($,Q){let J=this.attributes.segmentTypes,Z=$?this.isClosed($):!1,{vertexStart:X,geometrySize:W}=Q;if(J.fill(0,X,X+W),Z)J[X]=HS,J[X+W-2]=HS;else J[X]+=rC1,J[X+W-2]+=tC1;J[X+W-1]=HS}_updatePositions($,Q){let{positions:J}=this.attributes;if(!J||!$)return;let{vertexStart:Z,geometrySize:X}=Q,W=[,,,];for(let H=Z,F=0;F<X;H++,F++)this.getPointOnPath($,F,W),J[H*3]=W[0],J[H*3+1]=W[1],J[H*3+2]=W[2]}getPathLength($){return $.length/this.positionSize}getPointOnPath($,Q,J=[]){let{positionSize:Z}=this;if(Q*Z>=$.length)Q+=1-$.length/Z;let X=Q*Z;return J[0]=$[X],J[1]=$[X+1],J[2]=Z===3&&$[X+2]||0,J}isClosed($){if(!this.normalize)return Boolean(this.opts.loop);let{positionSize:Q}=this,J=$.length-Q;return $[0]===$[J]&&$[1]===$[J+1]&&(Q===2||$[2]===$[J+2])}}function Ga($){return Array.isArray($[0])}var Ea={name:"path",vs:`uniform pathUniforms {
  float widthScale;
  float widthMinPixels;
  float widthMaxPixels;
  float jointType;
  float capType;
  float miterLimit;
  bool billboard;
  highp int widthUnits;
} path;
`,fs:`uniform pathUniforms {
  float widthScale;
  float widthMinPixels;
  float widthMaxPixels;
  float jointType;
  float capType;
  float miterLimit;
  bool billboard;
  highp int widthUnits;
} path;
`,uniformTypes:{widthScale:"f32",widthMinPixels:"f32",widthMaxPixels:"f32",jointType:"f32",capType:"f32",miterLimit:"f32",billboard:"f32",widthUnits:"i32"}};var ja=`#version 300 es
#define SHADER_NAME path-layer-vertex-shader
in vec2 positions;
in float instanceTypes;
in vec3 instanceStartPositions;
in vec3 instanceEndPositions;
in vec3 instanceLeftPositions;
in vec3 instanceRightPositions;
in vec3 instanceLeftPositions64Low;
in vec3 instanceStartPositions64Low;
in vec3 instanceEndPositions64Low;
in vec3 instanceRightPositions64Low;
in float instanceStrokeWidths;
in vec4 instanceColors;
in vec3 instancePickingColors;
uniform float opacity;
out vec4 vColor;
out vec2 vCornerOffset;
out float vMiterLength;
out vec2 vPathPosition;
out float vPathLength;
out float vJointType;
const float EPSILON = 0.001;
const vec3 ZERO_OFFSET = vec3(0.0);
float flipIfTrue(bool flag) {
return -(float(flag) * 2. - 1.);
}
vec3 getLineJoinOffset(
vec3 prevPoint, vec3 currPoint, vec3 nextPoint,
vec2 width
) {
bool isEnd = positions.x > 0.0;
float sideOfPath = positions.y;
float isJoint = float(sideOfPath == 0.0);
vec3 deltaA3 = (currPoint - prevPoint);
vec3 deltaB3 = (nextPoint - currPoint);
mat3 rotationMatrix;
bool needsRotation = !path.billboard && project_needs_rotation(currPoint, rotationMatrix);
if (needsRotation) {
deltaA3 = deltaA3 * rotationMatrix;
deltaB3 = deltaB3 * rotationMatrix;
}
vec2 deltaA = deltaA3.xy / width;
vec2 deltaB = deltaB3.xy / width;
float lenA = length(deltaA);
float lenB = length(deltaB);
vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);
vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);
vec2 perpA = vec2(-dirA.y, dirA.x);
vec2 perpB = vec2(-dirB.y, dirB.x);
vec2 tangent = dirA + dirB;
tangent = length(tangent) > 0. ? normalize(tangent) : perpA;
vec2 miterVec = vec2(-tangent.y, tangent.x);
vec2 dir = isEnd ? dirA : dirB;
vec2 perp = isEnd ? perpA : perpB;
float L = isEnd ? lenA : lenB;
float sinHalfA = abs(dot(miterVec, perp));
float cosHalfA = abs(dot(dirA, miterVec));
float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);
float cornerPosition = sideOfPath * turnDirection;
float miterSize = 1.0 / max(sinHalfA, EPSILON);
miterSize = mix(
min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),
miterSize,
step(0.0, cornerPosition)
);
vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))
* (sideOfPath + isJoint * turnDirection);
bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));
bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));
bool isCap = isStartCap || isEndCap;
if (isCap) {
offsetVec = mix(perp * sideOfPath, dir * path.capType * 4.0 * flipIfTrue(isStartCap), isJoint);
vJointType = path.capType;
} else {
vJointType = path.jointType;
}
vPathLength = L;
vCornerOffset = offsetVec;
vMiterLength = dot(vCornerOffset, miterVec * turnDirection);
vMiterLength = isCap ? isJoint : vMiterLength;
vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);
vPathPosition = vec2(
dot(offsetFromStartOfPath, perp),
dot(offsetFromStartOfPath, dir)
);
geometry.uv = vPathPosition;
float isValid = step(instanceTypes, 3.5);
vec3 offset = vec3(offsetVec * width * isValid, 0.0);
if (needsRotation) {
offset = rotationMatrix * offset;
}
return offset;
}
void clipLine(inout vec4 position, vec4 refPosition) {
if (position.w < EPSILON) {
float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);
position = refPosition + (position - refPosition) * r;
}
}
void main() {
geometry.pickingColor = instancePickingColors;
vColor = vec4(instanceColors.rgb, instanceColors.a * layer.opacity);
float isEnd = positions.x;
vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);
vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);
vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);
vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);
vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);
vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);
geometry.worldPosition = currPosition;
vec2 widthPixels = vec2(clamp(
project_size_to_pixel(instanceStrokeWidths * path.widthScale, path.widthUnits),
path.widthMinPixels, path.widthMaxPixels) / 2.0);
vec3 width;
if (path.billboard) {
vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);
vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);
vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);
clipLine(prevPositionScreen, currPositionScreen);
clipLine(nextPositionScreen, currPositionScreen);
clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));
width = vec3(widthPixels, 0.0);
DECKGL_FILTER_SIZE(width, geometry);
vec3 offset = getLineJoinOffset(
prevPositionScreen.xyz / prevPositionScreen.w,
currPositionScreen.xyz / currPositionScreen.w,
nextPositionScreen.xyz / nextPositionScreen.w,
project_pixel_size_to_clipspace(width.xy)
);
DECKGL_FILTER_GL_POSITION(currPositionScreen, geometry);
gl_Position = vec4(currPositionScreen.xyz + offset * currPositionScreen.w, currPositionScreen.w);
} else {
prevPosition = project_position(prevPosition, prevPosition64Low);
currPosition = project_position(currPosition, currPosition64Low);
nextPosition = project_position(nextPosition, nextPosition64Low);
width = vec3(project_pixel_size(widthPixels), 0.0);
DECKGL_FILTER_SIZE(width, geometry);
vec3 offset = getLineJoinOffset(prevPosition, currPosition, nextPosition, width.xy);
geometry.position = vec4(currPosition + offset, 1.0);
gl_Position = project_common_position_to_clipspace(geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
DECKGL_FILTER_COLOR(vColor, geometry);
}
`;var La=`#version 300 es
#define SHADER_NAME path-layer-fragment-shader
precision highp float;
in vec4 vColor;
in vec2 vCornerOffset;
in float vMiterLength;
in vec2 vPathPosition;
in float vPathLength;
in float vJointType;
out vec4 fragColor;
void main(void) {
geometry.uv = vPathPosition;
if (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {
if (vJointType > 0.5 && length(vCornerOffset) > 1.0) {
discard;
}
if (vJointType < 0.5 && vMiterLength > path.miterLimit + 1.0) {
discard;
}
}
fragColor = vColor;
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`;var ha=[0,0,0,255],eC1={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},jointRounded:!1,capRounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:($)=>$.path},getColor:{type:"accessor",value:ha},getWidth:{type:"accessor",value:1},rounded:{deprecatedFor:["jointRounded","capRounded"]}},FS={enter:($,Q)=>{return Q.length?Q.subarray(Q.length-$.length):$}};class xN extends M6{getShaders(){return super.getShaders({vs:ja,fs:La,modules:[o4,r4,Ea]})}get wrapLongitude(){return!1}getBounds(){return this.getAttributeManager()?.getBounds(["vertexPositions"])}initializeState(){this.getAttributeManager().addInstanced({vertexPositions:{size:3,vertexOffset:1,type:"float64",fp64:this.use64bitPositions(),transition:FS,accessor:"getPath",update:this.calculatePositions,noAlloc:!0,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:"uint8",update:this.calculateSegmentTypes,noAlloc:!0},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:FS,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:"unorm8",accessor:"getColor",transition:FS,defaultValue:ha},instancePickingColors:{size:4,type:"uint8",accessor:(J,{index:Z,target:X})=>this.encodePickingColor(J&&J.__source?J.__source.index:Z,X)}}),this.setState({pathTesselator:new _N({fp64:this.use64bitPositions()})})}updateState($){super.updateState($);let{props:Q,changeFlags:J}=$,Z=this.getAttributeManager();if(J.dataChanged||J.updateTriggersChanged&&(J.updateTriggersChanged.all||J.updateTriggersChanged.getPath)){let{pathTesselator:W}=this.state,H=Q.data.attributes||{};if(W.updateGeometry({data:Q.data,geometryBuffer:H.getPath,buffers:H,normalize:!Q._pathType,loop:Q._pathType==="loop",getGeometry:Q.getPath,positionFormat:Q.positionFormat,wrapLongitude:Q.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:J.dataChanged}),this.setState({numInstances:W.instanceCount,startIndices:W.vertexStarts}),!J.dataChanged)Z.invalidateAll()}if(J.extensionsChanged)this.state.model?.destroy(),this.state.model=this._getModel(),Z.invalidateAll()}getPickingInfo($){let Q=super.getPickingInfo($),{index:J}=Q,Z=this.props.data;if(Z[0]&&Z[0].__source)Q.object=Z.find((X)=>X.__source.index===J);return Q}disablePickingIndex($){let Q=this.props.data;if(Q[0]&&Q[0].__source){for(let J=0;J<Q.length;J++)if(Q[J].__source.index===$)this._disablePickingIndex(J)}else super.disablePickingIndex($)}draw({uniforms:$}){let{jointRounded:Q,capRounded:J,billboard:Z,miterLimit:X,widthUnits:W,widthScale:H,widthMinPixels:F,widthMaxPixels:V}=this.props,D=this.state.model,C={jointType:Number(Q),capType:Number(J),billboard:Z,widthUnits:q6[W],widthScale:H,miterLimit:X,widthMinPixels:F,widthMaxPixels:V};D.shaderInputs.setProps({path:C}),D.draw(this.context.renderPass)}_getModel(){let $=[0,1,2,1,4,2,1,3,4,3,5,4],Q=[0,0,0,-1,0,1,1,-1,1,1,1,0];return new c5(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new q4({topology:"triangle-list",attributes:{indices:new Uint16Array($),positions:{value:new Float32Array(Q),size:2}}}),isInstanced:!0})}calculatePositions($){let{pathTesselator:Q}=this.state;$.startIndices=Q.vertexStarts,$.value=Q.get("positions")}calculateSegmentTypes($){let{pathTesselator:Q}=this.state;$.startIndices=Q.vertexStarts,$.value=Q.get("segmentTypes")}}xN.defaultProps=eC1;xN.layerName="PathLayer";var va=xN;var la=p1(ba(),1);var mN=jN.CLOCKWISE,fa=jN.COUNTER_CLOCKWISE,q2={isClosed:!0};function CA1($){if($=$&&$.positions||$,!Array.isArray($)&&!ArrayBuffer.isView($))throw Error("invalid polygon")}function IZ($){return"positions"in $?$.positions:$}function VW($){return"holeIndices"in $?$.holeIndices:null}function AA1($){return Array.isArray($[0])}function zA1($){return $.length>=1&&$[0].length>=2&&Number.isFinite($[0][0])}function BA1($){let Q=$[0],J=$[$.length-1];return Q[0]===J[0]&&Q[1]===J[1]&&Q[2]===J[2]}function RA1($,Q,J,Z){for(let X=0;X<Q;X++)if($[J+X]!==$[Z-Q+X])return!1;return!0}function ma($,Q,J,Z,X){let W=Q,H=J.length;for(let F=0;F<H;F++)for(let V=0;V<Z;V++)$[W++]=J[F][V]||0;if(!BA1(J))for(let F=0;F<Z;F++)$[W++]=J[0][F]||0;return q2.start=Q,q2.end=W,q2.size=Z,KW($,X,q2),W}function ca($,Q,J,Z,X=0,W,H){W=W||J.length;let F=W-X;if(F<=0)return Q;let V=Q;for(let D=0;D<F;D++)$[V++]=J[X+D];if(!RA1(J,Z,X,W))for(let D=0;D<Z;D++)$[V++]=J[X+D];return q2.start=Q,q2.end=V,q2.size=Z,KW($,H,q2),V}function pa($,Q){CA1($);let J=[],Z=[];if("positions"in $){let{positions:X,holeIndices:W}=$;if(W){let H=0;for(let F=0;F<=W.length;F++)H=ca(J,H,X,Q,W[F-1],W[F],F===0?mN:fa),Z.push(H);return Z.pop(),{positions:J,holeIndices:Z}}$=X}if(!AA1($))return ca(J,0,$,Q,0,J.length,mN),J;if(!zA1($)){let X=0;for(let[W,H]of $.entries())X=ma(J,X,H,Q,W===0?mN:fa),Z.push(X);return Z.pop(),{positions:J,holeIndices:Z}}return ma(J,0,$,Q,mN),J}function CS($,Q,J){let Z=$.length/3,X=0;for(let W=0;W<Z;W++){let H=(W+1)%Z;X+=$[W*3+Q]*$[H*3+J],X-=$[H*3+Q]*$[W*3+J]}return Math.abs(X/2)}function da($,Q,J,Z){let X=$.length/3;for(let W=0;W<X;W++){let H=W*3,F=$[H+0],V=$[H+1],D=$[H+2];$[H+Q]=F,$[H+J]=V,$[H+Z]=D}}function ua($,Q,J,Z){let X=VW($);if(X)X=X.map((F)=>F/Q);let W=IZ($),H=Z&&Q===3;if(J){let F=W.length;W=W.slice();let V=[];for(let D=0;D<F;D+=Q){if(V[0]=W[D],V[1]=W[D+1],H)V[2]=W[D+2];let C=J(V);if(W[D]=C[0],W[D+1]=C[1],H)W[D+2]=C[2]}}if(H){let F=CS(W,0,1),V=CS(W,0,2),D=CS(W,1,2);if(!F&&!V&&!D)return[];if(F>V&&F>D);else if(V>D){if(!J)W=W.slice();da(W,0,2,1)}else{if(!J)W=W.slice();da(W,2,0,1)}}return la.default(W,X,Q)}class cN extends i${constructor($){let{fp64:Q,IndexType:J=Uint32Array}=$;super({...$,attributes:{positions:{size:3,type:Q?Float64Array:Float32Array},vertexValid:{type:Uint16Array,size:1},indices:{type:J,size:1}}})}get($){let{attributes:Q}=this;if($==="indices")return Q.indices&&Q.indices.subarray(0,this.vertexCount);return Q[$]}updateGeometry($){super.updateGeometry($);let Q=this.buffers.indices;if(Q)this.vertexCount=(Q.value||Q).length;else if(this.data&&!this.getGeometry)throw Error("missing indices buffer")}normalizeGeometry($){if(this.normalize){let Q=pa($,this.positionSize);if(this.opts.resolution)return qW(IZ(Q),VW(Q),{size:this.positionSize,gridResolution:this.opts.resolution,edgeTypes:!0});if(this.opts.wrapLongitude)return qS(IZ(Q),VW(Q),{size:this.positionSize,maxLatitude:86,edgeTypes:!0});return Q}return $}getGeometrySize($){if(ia($)){let Q=0;for(let J of $)Q+=this.getGeometrySize(J);return Q}return IZ($).length/this.positionSize}getGeometryFromBuffer($){if(this.normalize||!this.buffers.indices)return super.getGeometryFromBuffer($);return null}updateGeometryAttributes($,Q){if($&&ia($))for(let J of $){let Z=this.getGeometrySize(J);Q.geometrySize=Z,this.updateGeometryAttributes(J,Q),Q.vertexStart+=Z,Q.indexStart=this.indexStarts[Q.geometryIndex+1]}else{let J=$;this._updateIndices(J,Q),this._updatePositions(J,Q),this._updateVertexValid(J,Q)}}_updateIndices($,{geometryIndex:Q,vertexStart:J,indexStart:Z}){let{attributes:X,indexStarts:W,typedArrayManager:H}=this,F=X.indices;if(!F||!$)return;let V=Z,D=ua($,this.positionSize,this.opts.preproject,this.opts.full3d);F=H.allocate(F,Z+D.length,{copy:!0});for(let C=0;C<D.length;C++)F[V++]=D[C]+J;W[Q+1]=Z+D.length,X.indices=F}_updatePositions($,{vertexStart:Q,geometrySize:J}){let{attributes:{positions:Z},positionSize:X}=this;if(!Z||!$)return;let W=IZ($);for(let H=Q,F=0;F<J;H++,F++){let V=W[F*X],D=W[F*X+1],C=X>2?W[F*X+2]:0;Z[H*3]=V,Z[H*3+1]=D,Z[H*3+2]=C}}_updateVertexValid($,{vertexStart:Q,geometrySize:J}){let{positionSize:Z}=this,X=this.attributes.vertexValid,W=$&&VW($);if($&&$.edgeTypes)X.set($.edgeTypes,Q);else X.fill(1,Q,Q+J);if(W)for(let H=0;H<W.length;H++)X[Q+W[H]/Z-1]=0;X[Q+J-1]=0}}function ia($){return Array.isArray($)&&$.length>0&&!Number.isFinite($[0])}var na={name:"solidPolygon",vs:`uniform solidPolygonUniforms {
  bool extruded;
  bool isWireframe;
  float elevationScale;
} solidPolygon;
`,fs:`uniform solidPolygonUniforms {
  bool extruded;
  bool isWireframe;
  float elevationScale;
} solidPolygon;
`,uniformTypes:{extruded:"f32",isWireframe:"f32",elevationScale:"f32"}};var dN=`in vec4 fillColors;
in vec4 lineColors;
in vec3 pickingColors;
out vec4 vColor;
struct PolygonProps {
vec3 positions;
vec3 positions64Low;
vec3 normal;
float elevations;
};
vec3 project_offset_normal(vec3 vector) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {
return normalize(vector * project.commonUnitsPerWorldUnit);
}
return project_normal(vector);
}
void calculatePosition(PolygonProps props) {
vec3 pos = props.positions;
vec3 pos64Low = props.positions64Low;
vec3 normal = props.normal;
vec4 colors = solidPolygon.isWireframe ? lineColors : fillColors;
geometry.worldPosition = props.positions;
geometry.pickingColor = pickingColors;
if (solidPolygon.extruded) {
pos.z += props.elevations * solidPolygon.elevationScale;
}
gl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
if (solidPolygon.extruded) {
#ifdef IS_SIDE_VERTEX
normal = project_offset_normal(normal);
#else
normal = project_normal(normal);
#endif
geometry.normal = normal;
vec3 lightColor = lighting_getLightColor(colors.rgb, project.cameraPosition, geometry.position.xyz, geometry.normal);
vColor = vec4(lightColor, colors.a * layer.opacity);
} else {
vColor = vec4(colors.rgb, colors.a * layer.opacity);
}
DECKGL_FILTER_COLOR(vColor, geometry);
}
`;var sa=`#version 300 es
#define SHADER_NAME solid-polygon-layer-vertex-shader
in vec3 vertexPositions;
in vec3 vertexPositions64Low;
in float elevations;
${dN}
void main(void) {
PolygonProps props;
props.positions = vertexPositions;
props.positions64Low = vertexPositions64Low;
props.elevations = elevations;
props.normal = vec3(0.0, 0.0, 1.0);
calculatePosition(props);
}
`;var oa=`#version 300 es
#define SHADER_NAME solid-polygon-layer-vertex-shader-side
#define IS_SIDE_VERTEX
in vec2 positions;
in vec3 vertexPositions;
in vec3 nextVertexPositions;
in vec3 vertexPositions64Low;
in vec3 nextVertexPositions64Low;
in float elevations;
in float instanceVertexValid;
${dN}
void main(void) {
if(instanceVertexValid < 0.5){
gl_Position = vec4(0.);
return;
}
PolygonProps props;
vec3 pos;
vec3 pos64Low;
vec3 nextPos;
vec3 nextPos64Low;
#if RING_WINDING_ORDER_CW == 1
pos = vertexPositions;
pos64Low = vertexPositions64Low;
nextPos = nextVertexPositions;
nextPos64Low = nextVertexPositions64Low;
#else
pos = nextVertexPositions;
pos64Low = nextVertexPositions64Low;
nextPos = vertexPositions;
nextPos64Low = vertexPositions64Low;
#endif
props.positions = mix(pos, nextPos, positions.x);
props.positions64Low = mix(pos64Low, nextPos64Low, positions.x);
props.normal = vec3(
pos.y - nextPos.y + (pos64Low.y - nextPos64Low.y),
nextPos.x - pos.x + (nextPos64Low.x - pos64Low.x),
0.0);
props.elevations = elevations * positions.y;
calculatePosition(props);
}
`;var aa=`#version 300 es
#define SHADER_NAME solid-polygon-layer-fragment-shader
precision highp float;
in vec4 vColor;
out vec4 fragColor;
void main(void) {
fragColor = vColor;
geometry.uv = vec2(0.);
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`;var pN=[0,0,0,255],kA1={filled:!0,extruded:!1,wireframe:!1,_normalize:!0,_windingOrder:"CW",_full3d:!1,elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:($)=>$.polygon},getElevation:{type:"accessor",value:1000},getFillColor:{type:"accessor",value:pN},getLineColor:{type:"accessor",value:pN},material:!0},lN={enter:($,Q)=>{return Q.length?Q.subarray(Q.length-$.length):$}};class uN extends M6{getShaders($){return super.getShaders({vs:$==="top"?sa:oa,fs:aa,defines:{RING_WINDING_ORDER_CW:!this.props._normalize&&this.props._windingOrder==="CCW"?0:1},modules:[o4,eU,r4,na]})}get wrapLongitude(){return!1}getBounds(){return this.getAttributeManager()?.getBounds(["vertexPositions"])}initializeState(){let{viewport:$}=this.context,{coordinateSystem:Q}=this.props,{_full3d:J}=this.props;if($.isGeospatial&&Q===Q0.DEFAULT)Q=Q0.LNGLAT;let Z;if(Q===Q0.LNGLAT)if(J)Z=$.projectPosition.bind($);else Z=$.projectFlat.bind($);this.setState({numInstances:0,polygonTesselator:new cN({preproject:Z,fp64:this.use64bitPositions(),IndexType:Uint32Array})});let X=this.getAttributeManager(),W=!0;X.remove(["instancePickingColors"]),X.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:W},vertexPositions:{size:3,type:"float64",stepMode:"dynamic",fp64:this.use64bitPositions(),transition:lN,accessor:"getPolygon",update:this.calculatePositions,noAlloc:W,shaderAttributes:{nextVertexPositions:{vertexOffset:1}}},instanceVertexValid:{size:1,type:"uint16",stepMode:"instance",update:this.calculateVertexValid,noAlloc:W},elevations:{size:1,stepMode:"dynamic",transition:lN,accessor:"getElevation"},fillColors:{size:this.props.colorFormat.length,type:"unorm8",stepMode:"dynamic",transition:lN,accessor:"getFillColor",defaultValue:pN},lineColors:{size:this.props.colorFormat.length,type:"unorm8",stepMode:"dynamic",transition:lN,accessor:"getLineColor",defaultValue:pN},pickingColors:{size:4,type:"uint8",stepMode:"dynamic",accessor:(H,{index:F,target:V})=>this.encodePickingColor(H&&H.__source?H.__source.index:F,V)}})}getPickingInfo($){let Q=super.getPickingInfo($),{index:J}=Q,Z=this.props.data;if(Z[0]&&Z[0].__source)Q.object=Z.find((X)=>X.__source.index===J);return Q}disablePickingIndex($){let Q=this.props.data;if(Q[0]&&Q[0].__source){for(let J=0;J<Q.length;J++)if(Q[J].__source.index===$)this._disablePickingIndex(J)}else super.disablePickingIndex($)}draw({uniforms:$}){let{extruded:Q,filled:J,wireframe:Z,elevationScale:X}=this.props,{topModel:W,sideModel:H,wireframeModel:F,polygonTesselator:V}=this.state,D={extruded:Boolean(Q),elevationScale:X,isWireframe:!1};if(F&&Z)F.setInstanceCount(V.instanceCount-1),F.shaderInputs.setProps({solidPolygon:{...D,isWireframe:!0}}),F.draw(this.context.renderPass);if(H&&J)H.setInstanceCount(V.instanceCount-1),H.shaderInputs.setProps({solidPolygon:D}),H.draw(this.context.renderPass);if(W&&J)W.setVertexCount(V.vertexCount),W.shaderInputs.setProps({solidPolygon:D}),W.draw(this.context.renderPass)}updateState($){super.updateState($),this.updateGeometry($);let{props:Q,oldProps:J,changeFlags:Z}=$,X=this.getAttributeManager();if(Z.extensionsChanged||Q.filled!==J.filled||Q.extruded!==J.extruded)this.state.models?.forEach((H)=>H.destroy()),this.setState(this._getModels()),X.invalidateAll()}updateGeometry({props:$,oldProps:Q,changeFlags:J}){if(J.dataChanged||J.updateTriggersChanged&&(J.updateTriggersChanged.all||J.updateTriggersChanged.getPolygon)){let{polygonTesselator:X}=this.state,W=$.data.attributes||{};if(X.updateGeometry({data:$.data,normalize:$._normalize,geometryBuffer:W.getPolygon,buffers:W,getGeometry:$.getPolygon,positionFormat:$.positionFormat,wrapLongitude:$.wrapLongitude,resolution:this.context.viewport.resolution,fp64:this.use64bitPositions(),dataChanged:J.dataChanged,full3d:$._full3d}),this.setState({numInstances:X.instanceCount,startIndices:X.vertexStarts}),!J.dataChanged)this.getAttributeManager().invalidateAll()}}_getModels(){let{id:$,filled:Q,extruded:J}=this.props,Z,X,W;if(Q){let H=this.getShaders("top");H.defines.NON_INSTANCED_MODEL=1;let F=this.getAttributeManager().getBufferLayouts({isInstanced:!1});Z=new c5(this.context.device,{...H,id:`${$}-top`,topology:"triangle-list",bufferLayout:F,isIndexed:!0,userData:{excludeAttributes:{instanceVertexValid:!0}}})}if(J){let H=this.getAttributeManager().getBufferLayouts({isInstanced:!0});X=new c5(this.context.device,{...this.getShaders("side"),id:`${$}-side`,bufferLayout:H,geometry:new q4({topology:"triangle-strip",attributes:{positions:{size:2,value:new Float32Array([1,0,0,0,1,1,0,1])}}}),isInstanced:!0,userData:{excludeAttributes:{indices:!0}}}),W=new c5(this.context.device,{...this.getShaders("side"),id:`${$}-wireframe`,bufferLayout:H,geometry:new q4({topology:"line-strip",attributes:{positions:{size:2,value:new Float32Array([1,0,0,0,0,1,1,1])}}}),isInstanced:!0,userData:{excludeAttributes:{indices:!0}}})}return{models:[X,W,Z].filter(Boolean),topModel:Z,sideModel:X,wireframeModel:W}}calculateIndices($){let{polygonTesselator:Q}=this.state;$.startIndices=Q.indexStarts,$.value=Q.get("indices")}calculatePositions($){let{polygonTesselator:Q}=this.state;$.startIndices=Q.vertexStarts,$.value=Q.get("positions")}calculateVertexValid($){$.value=this.state.polygonTesselator.get("vertexValid")}}uN.defaultProps=kA1;uN.layerName="SolidPolygonLayer";var ra=uN;function ta({data:$,getIndex:Q,dataRange:J,replace:Z}){let{startRow:X=0,endRow:W=1/0}=J,H=$.length,F=H,V=H;for(let R=0;R<H;R++){let k=Q($[R]);if(F>R&&k>=X)F=R;if(k>=W){V=R;break}}let D=F,z=V-F!==Z.length?$.slice(V):void 0;for(let R=0;R<Z.length;R++)$[D++]=Z[R];if(z){for(let R=0;R<z.length;R++)$[D++]=z[R];$.length=D}return{startRow:F,endRow:F+Z.length}}function ea($,Q){if(!$)return null;let J="startIndices"in $?$.startIndices[Q]:Q,Z=$.featureIds.value[J];if(J!==-1)return PA1($,Z,J);return null}function PA1($,Q,J){let Z={properties:{...$.properties[Q]}};for(let X in $.numericProps)Z.properties[X]=$.numericProps[X].value[J];return Z}function $r($,Q){let J={points:null,lines:null,polygons:null};for(let Z in J){let X=$[Z].globalFeatureIds.value;J[Z]=new Uint8ClampedArray(X.length*4);let W=[];for(let H=0;H<X.length;H++)Q(X[H],W),J[Z][H*4+0]=W[0],J[Z][H*4+1]=W[1],J[Z][H*4+2]=W[2],J[Z][H*4+3]=255}return J}var Qr={name:"sdf",vs:`uniform sdfUniforms {
  float gamma;
  bool enabled;
  float buffer;
  float outlineBuffer;
  vec4 outlineColor;
} sdf;
`,fs:`uniform sdfUniforms {
  float gamma;
  bool enabled;
  float buffer;
  float outlineBuffer;
  vec4 outlineColor;
} sdf;
`,uniformTypes:{gamma:"f32",enabled:"f32",buffer:"f32",outlineBuffer:"f32",outlineColor:"vec4<f32>"}};var Jr=`#version 300 es
#define SHADER_NAME multi-icon-layer-fragment-shader
precision highp float;
uniform sampler2D iconsTexture;
in vec4 vColor;
in vec2 vTextureCoords;
in vec2 uv;
out vec4 fragColor;
void main(void) {
geometry.uv = uv;
if (!bool(picking.isActive)) {
float alpha = texture(iconsTexture, vTextureCoords).a;
vec4 color = vColor;
if (sdf.enabled) {
float distance = alpha;
alpha = smoothstep(sdf.buffer - sdf.gamma, sdf.buffer + sdf.gamma, distance);
if (sdf.outlineBuffer > 0.0) {
float inFill = alpha;
float inBorder = smoothstep(sdf.outlineBuffer - sdf.gamma, sdf.outlineBuffer + sdf.gamma, distance);
color = mix(sdf.outlineColor, vColor, inFill);
alpha = inBorder;
}
}
float a = alpha * color.a;
if (a < icon.alphaCutoff) {
discard;
}
fragColor = vec4(color.rgb, a * layer.opacity);
}
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`;var AS=0.75,Zr=[],MA1={getIconOffsets:{type:"accessor",value:($)=>$.offsets},alphaCutoff:0.001,smoothing:0.1,outlineWidth:0,outlineColor:{type:"color",value:[0,0,0,255]}};class iN extends GN{getShaders(){let $=super.getShaders();return{...$,modules:[...$.modules,Qr],fs:Jr}}initializeState(){super.initializeState(),this.getAttributeManager().addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:"uint8",size:3,accessor:(Q,{index:J,target:Z})=>this.encodePickingColor(J,Z)}})}updateState($){super.updateState($);let{props:Q,oldProps:J}=$,{outlineColor:Z}=Q;if(Z!==J.outlineColor)Z=Z.map((X)=>X/255),Z[3]=Number.isFinite(Z[3])?Z[3]:1,this.setState({outlineColor:Z});if(!Q.sdf&&Q.outlineWidth)S1.warn(`${this.id}: fontSettings.sdf is required to render outline`)()}draw($){let{sdf:Q,smoothing:J,outlineWidth:Z}=this.props,{outlineColor:X}=this.state,W=Z?Math.max(J,AS*(1-Z)):-1,H=this.state.model,F={buffer:AS,outlineBuffer:W,gamma:J,enabled:Boolean(Q),outlineColor:X};if(H.shaderInputs.setProps({sdf:F}),super.draw($),Q&&Z){let{iconManager:V}=this.state;if(V.getTexture())H.shaderInputs.setProps({sdf:{...F,outlineBuffer:AS}}),H.draw(this.context.renderPass)}}getInstanceOffset($){return $?Array.from($).flatMap((Q)=>super.getInstanceOffset(Q)):Zr}getInstanceColorMode($){return 1}getInstanceIconFrame($){return $?Array.from($).flatMap((Q)=>super.getInstanceIconFrame(Q)):Zr}}iN.defaultProps=MA1;iN.layerName="MultiIconLayer";var Kr=iN;class nN{constructor({fontSize:$=24,buffer:Q=3,radius:J=8,cutoff:Z=0.25,fontFamily:X="sans-serif",fontWeight:W="normal",fontStyle:H="normal",lang:F=null}={}){this.buffer=Q,this.cutoff=Z,this.radius=J,this.lang=F;let V=this.size=$+Q*4,D=this._createCanvas(V),C=this.ctx=D.getContext("2d",{willReadFrequently:!0});C.font=`${H} ${W} ${$}px ${X}`,C.textBaseline="alphabetic",C.textAlign="left",C.fillStyle="black",this.gridOuter=new Float64Array(V*V),this.gridInner=new Float64Array(V*V),this.f=new Float64Array(V),this.z=new Float64Array(V+1),this.v=new Uint16Array(V)}_createCanvas($){let Q=document.createElement("canvas");return Q.width=Q.height=$,Q}draw($){let{width:Q,actualBoundingBoxAscent:J,actualBoundingBoxDescent:Z,actualBoundingBoxLeft:X,actualBoundingBoxRight:W}=this.ctx.measureText($),H=Math.ceil(J),F=0,V=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(W-X))),D=Math.min(this.size-this.buffer,H+Math.ceil(Z)),C=V+2*this.buffer,z=D+2*this.buffer,R=Math.max(C*z,0),k=new Uint8ClampedArray(R),P={data:k,width:C,height:z,glyphWidth:V,glyphHeight:D,glyphTop:H,glyphLeft:0,glyphAdvance:Q};if(V===0||D===0)return P;let{ctx:S,buffer:T,gridInner:_,gridOuter:v}=this;if(this.lang)S.lang=this.lang;S.clearRect(T,T,V,D),S.fillText($,T,T+H);let L=S.getImageData(T,T,V,D);v.fill(100000000000000000000,0,R),_.fill(0,0,R);for(let f=0;f<D;f++)for(let l=0;l<V;l++){let J1=L.data[4*(f*V+l)+3]/255;if(J1===0)continue;let Y1=(f+T)*C+l+T;if(J1===1)v[Y1]=0,_[Y1]=100000000000000000000;else{let H1=0.5-J1;v[Y1]=H1>0?H1*H1:0,_[Y1]=H1<0?H1*H1:0}}Xr(v,0,0,C,z,C,this.f,this.v,this.z),Xr(_,T,T,V,D,C,this.f,this.v,this.z);for(let f=0;f<R;f++){let l=Math.sqrt(v[f])-Math.sqrt(_[f]);k[f]=Math.round(255-255*(l/this.radius+this.cutoff))}return P}}function Xr($,Q,J,Z,X,W,H,F,V){for(let D=Q;D<Q+Z;D++)Yr($,J*W+D,W,X,H,F,V);for(let D=J;D<J+X;D++)Yr($,D*W+Q,1,Z,H,F,V)}function Yr($,Q,J,Z,X,W,H){W[0]=0,H[0]=-100000000000000000000,H[1]=100000000000000000000,X[0]=$[Q];for(let F=1,V=0,D=0;F<Z;F++){X[F]=$[Q+F*J];let C=F*F;do{let z=W[V];D=(X[F]-X[z]+C-z*z)/(F-z)/2}while(D<=H[V]&&--V>-1);V++,W[V]=F,H[V]=D,H[V+1]=100000000000000000000}for(let F=0,V=0;F<Z;F++){while(H[V+1]<F)V++;let D=W[V],C=F-D;$[Q+F*J]=X[D]+C*C}}var wA1=32,SA1=[];function TA1($){return Math.pow(2,Math.ceil(Math.log2($)))}function Wr({characterSet:$,getFontWidth:Q,fontHeight:J,buffer:Z,maxCanvasWidth:X,mapping:W={},xOffset:H=0,yOffset:F=0}){let V=0,D=H,C=J+Z*2;for(let z of $)if(!W[z]){let R=Q(z);if(D+R+Z*2>X)D=0,V++;W[z]={x:D+Z,y:F+V*C+Z,width:R,height:C,layoutWidth:R,layoutHeight:J},D+=R+Z*2}return{mapping:W,xOffset:D,yOffset:F+V*C,canvasHeight:TA1(F+(V+1)*C)}}function qr($,Q,J,Z){let X=0;for(let W=Q;W<J;W++){let H=$[W];X+=Z[H]?.layoutWidth||0}return X}function Hr($,Q,J,Z,X,W){let H=Q,F=0;for(let V=Q;V<J;V++){let D=qr($,V,V+1,X);if(F+D>Z){if(H<V)W.push(V);H=V,F=0}F+=D}return F}function IA1($,Q,J,Z,X,W){let H=Q,F=Q,V=Q,D=0;for(let C=Q;C<J;C++){if($[C]===" ")V=C+1;else if($[C+1]===" "||C+1===J)V=C+1;if(V>F){let z=qr($,F,V,X);if(D+z>Z){if(H<F)W.push(F),H=F,D=0;if(z>Z)z=Hr($,F,V,Z,X,W),H=W[W.length-1]}F=V,D+=z}}return D}function GA1($,Q,J,Z,X=0,W){if(W===void 0)W=$.length;let H=[];if(Q==="break-all")Hr($,X,W,J,Z,H);else IA1($,X,W,J,Z,H);return H}function EA1($,Q,J,Z,X,W){let H=0,F=0;for(let V=Q;V<J;V++){let D=$[V],C=Z[D];if(C){if(!F)F=C.layoutHeight;X[V]=H+C.layoutWidth/2,H+=C.layoutWidth}else S1.warn(`Missing character: ${D} (${D.codePointAt(0)})`)(),X[V]=H,H+=wA1}W[0]=H,W[1]=F}function Fr($,Q,J,Z,X){let W=Array.from($),H=W.length,F=Array(H),V=Array(H),D=Array(H),C=(J==="break-word"||J==="break-all")&&isFinite(Z)&&Z>0,z=[0,0],R=[0,0],k=0,P=0,S=0;for(let T=0;T<=H;T++){let _=W[T];if(_===`
`||T===H)S=T;if(S>P){let v=C?GA1(W,J,Z,X,P,S):SA1;for(let L=0;L<=v.length;L++){let f=L===0?P:v[L-1],l=L<v.length?v[L]:S;EA1(W,f,l,X,F,R);for(let J1=f;J1<l;J1++){let Y1=F[J1]-R[0]/2,H1=W[J1],Q1=X[H1]?.layoutOffsetY||0;V[J1]=k+R[1]/2+Q1,D[J1]=R[0]}k=k+R[1]*Q,z[0]=Math.max(z[0],R[0])}P=S}if(_===`
`)F[P]=0,V[P]=0,D[P]=0,P++}return z[1]=k,{x:F,y:V,rowWidth:D,size:z}}function Ur({value:$,length:Q,stride:J,offset:Z,startIndices:X,characterSet:W}){let H=$.BYTES_PER_ELEMENT,F=J?J/H:1,V=Z?Z/H:0,D=X[Q]||Math.ceil(($.length-V)/F),C=W&&new Set,z=Array(Q),R=$;if(F>1||V>0){R=new $.constructor(D);for(let P=0;P<D;P++)R[P]=$[P*F+V]}for(let k=0;k<Q;k++){let P=X[k],S=X[k+1]||D,T=R.subarray(P,S);if(z[k]=String.fromCodePoint.apply(null,T),C)T.forEach(C.add,C)}if(C)for(let k of C)W.add(String.fromCodePoint(k));return{texts:z,characterCount:D}}class NW{constructor($=5){this._cache={},this._order=[],this.limit=$}get($){let Q=this._cache[$];if(Q)this._deleteOrder($),this._appendOrder($);return Q}set($,Q){if(!this._cache[$]){if(Object.keys(this._cache).length===this.limit)this.delete(this._order[0]);this._cache[$]=Q,this._appendOrder($)}else this.delete($),this._cache[$]=Q,this._appendOrder($)}delete($){if(this._cache[$])delete this._cache[$],this._deleteOrder($)}_deleteOrder($){let Q=this._order.indexOf($);if(Q>=0)this._order.splice(Q,1)}_appendOrder($){this._order.push($)}}function jA1(){let $=[];for(let Q=32;Q<128;Q++)$.push(String.fromCharCode(Q));return $}var s$={fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:jA1(),fontSize:64,buffer:4,sdf:!1,cutoff:0.25,radius:12,smoothing:0.1},Vr=1024,Nr=0.9,Dr=1.2,Ar=3,sN=new NW(Ar);function LA1($,Q){let J;if(typeof Q==="string")J=new Set(Array.from(Q));else J=new Set(Q);let Z=sN.get($);if(!Z)return J;for(let X in Z.mapping)if(J.has(X))J.delete(X);return J}function hA1($,Q){for(let J=0;J<$.length;J++)Q.data[4*J+3]=$[J]}function Cr($,Q,J,Z){$.font=`${Z} ${J}px ${Q}`,$.fillStyle="#000",$.textBaseline="alphabetic",$.textAlign="left"}function zr($){S1.assert(Number.isFinite($)&&$>=Ar,"Invalid cache limit"),sN=new NW($)}class oN{constructor(){this.props={...s$}}get atlas(){return this._atlas}get mapping(){return this._atlas&&this._atlas.mapping}get scale(){let{fontSize:$,buffer:Q}=this.props;return($*Dr+Q*2)/$}setProps($={}){Object.assign(this.props,$),this._key=this._getKey();let Q=LA1(this._key,this.props.characterSet),J=sN.get(this._key);if(J&&Q.size===0){if(this._atlas!==J)this._atlas=J;return}let Z=this._generateFontAtlas(Q,J);this._atlas=Z,sN.set(this._key,Z)}_generateFontAtlas($,Q){let{fontFamily:J,fontWeight:Z,fontSize:X,buffer:W,sdf:H,radius:F,cutoff:V}=this.props,D=Q&&Q.data;if(!D)D=document.createElement("canvas"),D.width=Vr;let C=D.getContext("2d",{willReadFrequently:!0});Cr(C,J,X,Z);let{mapping:z,canvasHeight:R,xOffset:k,yOffset:P}=Wr({getFontWidth:(S)=>C.measureText(S).width,fontHeight:X*Dr,buffer:W,characterSet:$,maxCanvasWidth:Vr,...Q&&{mapping:Q.mapping,xOffset:Q.xOffset,yOffset:Q.yOffset}});if(D.height!==R){let S=C.getImageData(0,0,D.width,D.height);D.height=R,C.putImageData(S,0,0)}if(Cr(C,J,X,Z),H){let S=new nN({fontSize:X,buffer:W,radius:F,cutoff:V,fontFamily:J,fontWeight:`${Z}`});for(let T of $){let{data:_,width:v,height:L,glyphTop:f}=S.draw(T);z[T].width=v,z[T].layoutOffsetY=X*Nr-f;let l=C.createImageData(v,L);hA1(_,l),C.putImageData(l,z[T].x,z[T].y)}}else for(let S of $)C.fillText(S,z[S].x,z[S].y+W+X*Nr);return{xOffset:k,yOffset:P,mapping:z,data:D,width:D.width,height:D.height}}_getKey(){let{fontFamily:$,fontWeight:Q,fontSize:J,buffer:Z,sdf:X,radius:W,cutoff:H}=this.props;if(X)return`${$} ${Q} ${J} ${Z} ${W} ${H}`;return`${$} ${Q} ${J} ${Z}`}}var Br={name:"textBackground",vs:`uniform textBackgroundUniforms {
  bool billboard;
  float sizeScale;
  float sizeMinPixels;
  float sizeMaxPixels;
  vec4 borderRadius;
  vec4 padding;
  highp int sizeUnits;
  bool stroked;
} textBackground;
`,fs:`uniform textBackgroundUniforms {
  bool billboard;
  float sizeScale;
  float sizeMinPixels;
  float sizeMaxPixels;
  vec4 borderRadius;
  vec4 padding;
  highp int sizeUnits;
  bool stroked;
} textBackground;
`,uniformTypes:{billboard:"f32",sizeScale:"f32",sizeMinPixels:"f32",sizeMaxPixels:"f32",borderRadius:"vec4<f32>",padding:"vec4<f32>",sizeUnits:"i32",stroked:"f32"}};var Rr=`#version 300 es
#define SHADER_NAME text-background-layer-vertex-shader
in vec2 positions;
in vec3 instancePositions;
in vec3 instancePositions64Low;
in vec4 instanceRects;
in float instanceSizes;
in float instanceAngles;
in vec2 instancePixelOffsets;
in float instanceLineWidths;
in vec4 instanceFillColors;
in vec4 instanceLineColors;
in vec3 instancePickingColors;
out vec4 vFillColor;
out vec4 vLineColor;
out float vLineWidth;
out vec2 uv;
out vec2 dimensions;
vec2 rotate_by_angle(vec2 vertex, float angle) {
float angle_radian = radians(angle);
float cos_angle = cos(angle_radian);
float sin_angle = sin(angle_radian);
mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);
return rotationMatrix * vertex;
}
void main(void) {
geometry.worldPosition = instancePositions;
geometry.uv = positions;
geometry.pickingColor = instancePickingColors;
uv = positions;
vLineWidth = instanceLineWidths;
float sizePixels = clamp(
project_size_to_pixel(instanceSizes * textBackground.sizeScale, textBackground.sizeUnits),
textBackground.sizeMinPixels, textBackground.sizeMaxPixels
);
dimensions = instanceRects.zw * sizePixels + textBackground.padding.xy + textBackground.padding.zw;
vec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-textBackground.padding.xy, textBackground.padding.zw, positions);
pixelOffset = rotate_by_angle(pixelOffset, instanceAngles);
pixelOffset += instancePixelOffsets;
pixelOffset.y *= -1.0;
if (textBackground.billboard)  {
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
vec3 offset = vec3(pixelOffset, 0.0);
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
} else {
vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);
DECKGL_FILTER_SIZE(offset_common, geometry);
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vFillColor, geometry);
vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vLineColor, geometry);
}
`;var Or=`#version 300 es
#define SHADER_NAME text-background-layer-fragment-shader
precision highp float;
in vec4 vFillColor;
in vec4 vLineColor;
in float vLineWidth;
in vec2 uv;
in vec2 dimensions;
out vec4 fragColor;
float round_rect(vec2 p, vec2 size, vec4 radii) {
vec2 pixelPositionCB = (p - 0.5) * size;
vec2 sizeCB = size * 0.5;
float maxBorderRadius = min(size.x, size.y) * 0.5;
vec4 borderRadius = vec4(min(radii, maxBorderRadius));
borderRadius.xy =
(pixelPositionCB.x > 0.0) ? borderRadius.xy : borderRadius.zw;
borderRadius.x = (pixelPositionCB.y > 0.0) ? borderRadius.x : borderRadius.y;
vec2 q = abs(pixelPositionCB) - sizeCB + borderRadius.x;
return -(min(max(q.x, q.y), 0.0) + length(max(q, 0.0)) - borderRadius.x);
}
float rect(vec2 p, vec2 size) {
vec2 pixelPosition = p * size;
return min(min(pixelPosition.x, size.x - pixelPosition.x),
min(pixelPosition.y, size.y - pixelPosition.y));
}
vec4 get_stroked_fragColor(float dist) {
float isBorder = smoothedge(dist, vLineWidth);
return mix(vFillColor, vLineColor, isBorder);
}
void main(void) {
geometry.uv = uv;
if (textBackground.borderRadius != vec4(0.0)) {
float distToEdge = round_rect(uv, dimensions, textBackground.borderRadius);
if (textBackground.stroked) {
fragColor = get_stroked_fragColor(distToEdge);
} else {
fragColor = vFillColor;
}
float shapeAlpha = smoothedge(-distToEdge, 0.0);
fragColor.a *= shapeAlpha;
} else {
if (textBackground.stroked) {
float distToEdge = rect(uv, dimensions);
fragColor = get_stroked_fragColor(distToEdge);
} else {
fragColor = vFillColor;
}
}
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`;var vA1={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,borderRadius:{type:"object",value:0},padding:{type:"array",value:[0,0,0,0]},getPosition:{type:"accessor",value:($)=>$.position},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},getBoundingRect:{type:"accessor",value:[0,0,0,0]},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1}};class aN extends M6{getShaders(){return super.getShaders({vs:Rr,fs:Or,modules:[o4,r4,Br]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instanceRects:{size:4,accessor:"getBoundingRect"},instancePixelOffsets:{size:2,transition:!0,accessor:"getPixelOffset"},instanceFillColors:{size:4,transition:!0,type:"unorm8",accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,type:"unorm8",accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState($){super.updateState($);let{changeFlags:Q}=$;if(Q.extensionsChanged)this.state.model?.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll()}draw({uniforms:$}){let{billboard:Q,sizeScale:J,sizeUnits:Z,sizeMinPixels:X,sizeMaxPixels:W,getLineWidth:H}=this.props,{padding:F,borderRadius:V}=this.props;if(F.length<4)F=[F[0],F[1],F[0],F[1]];if(!Array.isArray(V))V=[V,V,V,V];let D=this.state.model,C={billboard:Q,stroked:Boolean(H),borderRadius:V,padding:F,sizeUnits:q6[Z],sizeScale:J,sizeMinPixels:X,sizeMaxPixels:W};D.shaderInputs.setProps({textBackground:C}),D.draw(this.context.renderPass)}_getModel(){let $=[0,0,1,0,0,1,1,1];return new c5(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new q4({topology:"triangle-strip",vertexCount:4,attributes:{positions:{size:2,value:new Float32Array($)}}}),isInstanced:!0})}}aN.defaultProps=vA1;aN.layerName="TextBackgroundLayer";var kr=aN;var Pr={start:1,middle:0,end:-1},Mr={top:1,center:0,bottom:-1},zS=[0,0,0,255],_A1=1,xA1={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,background:!1,getBackgroundColor:{type:"accessor",value:[255,255,255,255]},getBorderColor:{type:"accessor",value:zS},getBorderWidth:{type:"accessor",value:0},backgroundBorderRadius:{type:"object",value:0},backgroundPadding:{type:"array",value:[0,0,0,0]},characterSet:{type:"object",value:s$.characterSet},fontFamily:s$.fontFamily,fontWeight:s$.fontWeight,lineHeight:_A1,outlineWidth:{type:"number",value:0,min:0},outlineColor:{type:"color",value:zS},fontSettings:{type:"object",value:{},compare:1},wordBreak:"break-word",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:($)=>$.text},getPosition:{type:"accessor",value:($)=>$.position},getColor:{type:"accessor",value:zS},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]},backgroundColor:{deprecatedFor:["background","getBackgroundColor"]}};class rN extends JW{constructor(){super(...arguments);this.getBoundingRect=($,Q)=>{let{size:[J,Z]}=this.transformParagraph($,Q),{fontSize:X}=this.state.fontAtlasManager.props;J/=X,Z/=X;let{getTextAnchor:W,getAlignmentBaseline:H}=this.props,F=Pr[typeof W==="function"?W($,Q):W],V=Mr[typeof H==="function"?H($,Q):H];return[(F-1)*J/2,(V-1)*Z/2,J,Z]},this.getIconOffsets=($,Q)=>{let{getTextAnchor:J,getAlignmentBaseline:Z}=this.props,{x:X,y:W,rowWidth:H,size:[F,V]}=this.transformParagraph($,Q),D=Pr[typeof J==="function"?J($,Q):J],C=Mr[typeof Z==="function"?Z($,Q):Z],z=X.length,R=Array(z*2),k=0;for(let P=0;P<z;P++){let S=(1-D)*(F-H[P])/2;R[k++]=(D-1)*F/2+S+X[P],R[k++]=(C-1)*V/2+W[P]}return R}}initializeState(){if(this.state={styleVersion:0,fontAtlasManager:new oN},this.props.maxWidth>0)S1.once(1,"v8.9 breaking change: TextLayer maxWidth is now relative to text size")()}updateState($){let{props:Q,oldProps:J,changeFlags:Z}=$;if(Z.dataChanged||Z.updateTriggersChanged&&(Z.updateTriggersChanged.all||Z.updateTriggersChanged.getText))this._updateText();if(this._updateFontAtlas()||Q.lineHeight!==J.lineHeight||Q.wordBreak!==J.wordBreak||Q.maxWidth!==J.maxWidth)this.setState({styleVersion:this.state.styleVersion+1})}getPickingInfo({info:$}){return $.object=$.index>=0?this.props.data[$.index]:null,$}_updateFontAtlas(){let{fontSettings:$,fontFamily:Q,fontWeight:J}=this.props,{fontAtlasManager:Z,characterSet:X}=this.state,W={...$,characterSet:X,fontFamily:Q,fontWeight:J};if(!Z.mapping)return Z.setProps(W),!0;for(let H in W)if(W[H]!==Z.props[H])return Z.setProps(W),!0;return!1}_updateText(){let{data:$,characterSet:Q}=this.props,J=$.attributes?.getText,{getText:Z}=this.props,X=$.startIndices,W,H=Q==="auto"&&new Set;if(J&&X){let{texts:F,characterCount:V}=Ur({...ArrayBuffer.isView(J)?{value:J}:J,length:$.length,startIndices:X,characterSet:H});W=V,Z=(D,{index:C})=>F[C]}else{let{iterable:F,objectInfo:V}=L8($);X=[0],W=0;for(let D of F){V.index++;let C=Array.from(Z(D,V)||"");if(H)C.forEach(H.add,H);W+=C.length,X.push(W)}}this.setState({getText:Z,startIndices:X,numInstances:W,characterSet:H||Q})}transformParagraph($,Q){let{fontAtlasManager:J}=this.state,Z=J.mapping,X=this.state.getText,{wordBreak:W,lineHeight:H,maxWidth:F}=this.props,V=X($,Q)||"";return Fr(V,H,W,F*J.props.fontSize,Z)}renderLayers(){let{startIndices:$,numInstances:Q,getText:J,fontAtlasManager:{scale:Z,atlas:X,mapping:W},styleVersion:H}=this.state,{data:F,_dataDiff:V,getPosition:D,getColor:C,getSize:z,getAngle:R,getPixelOffset:k,getBackgroundColor:P,getBorderColor:S,getBorderWidth:T,backgroundBorderRadius:_,backgroundPadding:v,background:L,billboard:f,fontSettings:l,outlineWidth:J1,outlineColor:Y1,sizeScale:H1,sizeUnits:Q1,sizeMinPixels:W1,sizeMaxPixels:R1,transitions:C1,updateTriggers:O1}=this.props,x1=this.getSubLayerClass("characters",Kr),U1=this.getSubLayerClass("background",kr);return[L&&new U1({getFillColor:P,getLineColor:S,getLineWidth:T,borderRadius:_,padding:v,getPosition:D,getSize:z,getAngle:R,getPixelOffset:k,billboard:f,sizeScale:H1,sizeUnits:Q1,sizeMinPixels:W1,sizeMaxPixels:R1,transitions:C1&&{getPosition:C1.getPosition,getAngle:C1.getAngle,getSize:C1.getSize,getFillColor:C1.getBackgroundColor,getLineColor:C1.getBorderColor,getLineWidth:C1.getBorderWidth,getPixelOffset:C1.getPixelOffset}},this.getSubLayerProps({id:"background",updateTriggers:{getPosition:O1.getPosition,getAngle:O1.getAngle,getSize:O1.getSize,getFillColor:O1.getBackgroundColor,getLineColor:O1.getBorderColor,getLineWidth:O1.getBorderWidth,getPixelOffset:O1.getPixelOffset,getBoundingRect:{getText:O1.getText,getTextAnchor:O1.getTextAnchor,getAlignmentBaseline:O1.getAlignmentBaseline,styleVersion:H}}}),{data:F.attributes&&F.attributes.background?{length:F.length,attributes:F.attributes.background}:F,_dataDiff:V,autoHighlight:!1,getBoundingRect:this.getBoundingRect}),new x1({sdf:l.sdf,smoothing:Number.isFinite(l.smoothing)?l.smoothing:s$.smoothing,outlineWidth:J1/(l.radius||s$.radius),outlineColor:Y1,iconAtlas:X,iconMapping:W,getPosition:D,getColor:C,getSize:z,getAngle:R,getPixelOffset:k,billboard:f,sizeScale:H1*Z,sizeUnits:Q1,sizeMinPixels:W1*Z,sizeMaxPixels:R1*Z,transitions:C1&&{getPosition:C1.getPosition,getAngle:C1.getAngle,getColor:C1.getColor,getSize:C1.getSize,getPixelOffset:C1.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{all:O1.getText,getPosition:O1.getPosition,getAngle:O1.getAngle,getColor:O1.getColor,getSize:O1.getSize,getPixelOffset:O1.getPixelOffset,getIconOffsets:{getTextAnchor:O1.getTextAnchor,getAlignmentBaseline:O1.getAlignmentBaseline,styleVersion:H}}}),{data:F,_dataDiff:V,startIndices:$,numInstances:Q,getIconOffsets:this.getIconOffsets,getIcon:J})]}static set fontAtlasCacheLimit($){zr($)}}rN.defaultProps=xA1;rN.layerName="TextLayer";var wr=rN;var DW={circle:{type:Oa,props:{filled:"filled",stroked:"stroked",lineWidthMaxPixels:"lineWidthMaxPixels",lineWidthMinPixels:"lineWidthMinPixels",lineWidthScale:"lineWidthScale",lineWidthUnits:"lineWidthUnits",pointRadiusMaxPixels:"radiusMaxPixels",pointRadiusMinPixels:"radiusMinPixels",pointRadiusScale:"radiusScale",pointRadiusUnits:"radiusUnits",pointAntialiasing:"antialiasing",pointBillboard:"billboard",getFillColor:"getFillColor",getLineColor:"getLineColor",getLineWidth:"getLineWidth",getPointRadius:"getRadius"}},icon:{type:GN,props:{iconAtlas:"iconAtlas",iconMapping:"iconMapping",iconSizeMaxPixels:"sizeMaxPixels",iconSizeMinPixels:"sizeMinPixels",iconSizeScale:"sizeScale",iconSizeUnits:"sizeUnits",iconAlphaCutoff:"alphaCutoff",iconBillboard:"billboard",getIcon:"getIcon",getIconAngle:"getAngle",getIconColor:"getColor",getIconPixelOffset:"getPixelOffset",getIconSize:"getSize"}},text:{type:wr,props:{textSizeMaxPixels:"sizeMaxPixels",textSizeMinPixels:"sizeMinPixels",textSizeScale:"sizeScale",textSizeUnits:"sizeUnits",textBackground:"background",textBackgroundPadding:"backgroundPadding",textFontFamily:"fontFamily",textFontWeight:"fontWeight",textLineHeight:"lineHeight",textMaxWidth:"maxWidth",textOutlineColor:"outlineColor",textOutlineWidth:"outlineWidth",textWordBreak:"wordBreak",textCharacterSet:"characterSet",textBillboard:"billboard",textFontSettings:"fontSettings",getText:"getText",getTextAngle:"getAngle",getTextColor:"getColor",getTextPixelOffset:"getPixelOffset",getTextSize:"getSize",getTextAnchor:"getTextAnchor",getTextAlignmentBaseline:"getAlignmentBaseline",getTextBackgroundColor:"getBackgroundColor",getTextBorderColor:"getBorderColor",getTextBorderWidth:"getBorderWidth"}}},CW={type:va,props:{lineWidthUnits:"widthUnits",lineWidthScale:"widthScale",lineWidthMinPixels:"widthMinPixels",lineWidthMaxPixels:"widthMaxPixels",lineJointRounded:"jointRounded",lineCapRounded:"capRounded",lineMiterLimit:"miterLimit",lineBillboard:"billboard",getLineColor:"getColor",getLineWidth:"getWidth"}},tN={type:ra,props:{extruded:"extruded",filled:"filled",wireframe:"wireframe",elevationScale:"elevationScale",material:"material",_full3d:"_full3d",getElevation:"getElevation",getFillColor:"getFillColor",getLineColor:"getLineColor"}};function GZ({type:$,props:Q}){let J={};for(let Z in Q)J[Z]=$.defaultProps[Q[Z]];return J}function eN($,Q){let{transitions:J,updateTriggers:Z}=$.props,X={updateTriggers:{},transitions:J&&{getPosition:J.geometry}};for(let W in Q){let H=Q[W],F=$.props[W];if(W.startsWith("get")){if(F=$.getSubLayerAccessor(F),X.updateTriggers[H]=Z[W],J)X.transitions[H]=J[W]}X[H]=F}return X}function Tr($){if(Array.isArray($))return $;switch(S1.assert($.type,"GeoJSON does not have type"),$.type){case"Feature":return[$];case"FeatureCollection":return S1.assert(Array.isArray($.features),"GeoJSON does not have features array"),$.features;default:return[{geometry:$}]}}function BS($,Q,J={}){let Z={pointFeatures:[],lineFeatures:[],polygonFeatures:[],polygonOutlineFeatures:[]},{startRow:X=0,endRow:W=$.length}=J;for(let H=X;H<W;H++){let F=$[H],{geometry:V}=F;if(!V)continue;if(V.type==="GeometryCollection"){S1.assert(Array.isArray(V.geometries),"GeoJSON does not have geometries array");let{geometries:D}=V;for(let C=0;C<D.length;C++){let z=D[C];Sr(z,Z,Q,F,H)}}else Sr(V,Z,Q,F,H)}return Z}function Sr($,Q,J,Z,X){let{type:W,coordinates:H}=$,{pointFeatures:F,lineFeatures:V,polygonFeatures:D,polygonOutlineFeatures:C}=Q;if(!yA1(W,H)){S1.warn(`${W} coordinates are malformed`)();return}switch(W){case"Point":F.push(J({geometry:$},Z,X));break;case"MultiPoint":H.forEach((z)=>{F.push(J({geometry:{type:"Point",coordinates:z}},Z,X))});break;case"LineString":V.push(J({geometry:$},Z,X));break;case"MultiLineString":H.forEach((z)=>{V.push(J({geometry:{type:"LineString",coordinates:z}},Z,X))});break;case"Polygon":D.push(J({geometry:$},Z,X)),H.forEach((z)=>{C.push(J({geometry:{type:"LineString",coordinates:z}},Z,X))});break;case"MultiPolygon":H.forEach((z)=>{D.push(J({geometry:{type:"Polygon",coordinates:z}},Z,X)),z.forEach((R)=>{C.push(J({geometry:{type:"LineString",coordinates:R}},Z,X))})});break;default:}}var gA1={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4};function yA1($,Q){let J=gA1[$];S1.assert(J,`Unknown GeoJSON type ${$}`);while(Q&&--J>0)Q=Q[0];return Q&&Number.isFinite(Q[0])}function Ir(){return{points:{},lines:{},polygons:{},polygonsOutline:{}}}function $D($){return $.geometry.coordinates}function Gr($,Q){let J=Ir(),{pointFeatures:Z,lineFeatures:X,polygonFeatures:W,polygonOutlineFeatures:H}=$;return J.points.data=Z,J.points._dataDiff=Q.pointFeatures&&(()=>Q.pointFeatures),J.points.getPosition=$D,J.lines.data=X,J.lines._dataDiff=Q.lineFeatures&&(()=>Q.lineFeatures),J.lines.getPath=$D,J.polygons.data=W,J.polygons._dataDiff=Q.polygonFeatures&&(()=>Q.polygonFeatures),J.polygons.getPolygon=$D,J.polygonsOutline.data=H,J.polygonsOutline._dataDiff=Q.polygonOutlineFeatures&&(()=>Q.polygonOutlineFeatures),J.polygonsOutline.getPath=$D,J}function Er($,Q){let J=Ir(),{points:Z,lines:X,polygons:W}=$,H=$r($,Q);if(J.points.data={length:Z.positions.value.length/Z.positions.size,attributes:{...Z.attributes,getPosition:Z.positions,instancePickingColors:{size:4,value:H.points}},properties:Z.properties,numericProps:Z.numericProps,featureIds:Z.featureIds},J.lines.data={length:X.pathIndices.value.length-1,startIndices:X.pathIndices.value,attributes:{...X.attributes,getPath:X.positions,instancePickingColors:{size:4,value:H.lines}},properties:X.properties,numericProps:X.numericProps,featureIds:X.featureIds},J.lines._pathType="open",J.polygons.data={length:W.polygonIndices.value.length-1,startIndices:W.polygonIndices.value,attributes:{...W.attributes,getPolygon:W.positions,pickingColors:{size:4,value:H.polygons}},properties:W.properties,numericProps:W.numericProps,featureIds:W.featureIds},J.polygons._normalize=!1,W.triangles)J.polygons.data.attributes.indices=W.triangles.value;return J.polygonsOutline.data={length:W.primitivePolygonIndices.value.length-1,startIndices:W.primitivePolygonIndices.value,attributes:{...W.attributes,getPath:W.positions,instancePickingColors:{size:4,value:H.polygons}},properties:W.properties,numericProps:W.numericProps,featureIds:W.featureIds},J.polygonsOutline._pathType="open",J}var bA1=["points","linestrings","polygons"],fA1={...GZ(DW.circle),...GZ(DW.icon),...GZ(DW.text),...GZ(CW),...GZ(tN),stroked:!0,filled:!0,extruded:!1,wireframe:!1,_full3d:!1,iconAtlas:{type:"object",value:null},iconMapping:{type:"object",value:{}},getIcon:{type:"accessor",value:($)=>$.properties.icon},getText:{type:"accessor",value:($)=>$.properties.text},pointType:"circle",getRadius:{deprecatedFor:"getPointRadius"}};class QD extends JW{initializeState(){this.state={layerProps:{},features:{},featuresDiff:{}}}updateState({props:$,changeFlags:Q}){if(!Q.dataChanged)return;let{data:J}=this.props,Z=J&&"points"in J&&"polygons"in J&&"lines"in J;if(this.setState({binary:Z}),Z)this._updateStateBinary({props:$,changeFlags:Q});else this._updateStateJSON({props:$,changeFlags:Q})}_updateStateBinary({props:$,changeFlags:Q}){let J=Er($.data,this.encodePickingColor);this.setState({layerProps:J})}_updateStateJSON({props:$,changeFlags:Q}){let J=Tr($.data),Z=this.getSubLayerRow.bind(this),X={},W={};if(Array.isArray(Q.dataChanged)){let F=this.state.features;for(let V in F)X[V]=F[V].slice(),W[V]=[];for(let V of Q.dataChanged){let D=BS(J,Z,V);for(let C in F)W[C].push(ta({data:X[C],getIndex:(z)=>z.__source.index,dataRange:V,replace:D[C]}))}}else X=BS(J,Z);let H=Gr(X,W);this.setState({features:X,featuresDiff:W,layerProps:H})}getPickingInfo($){let Q=super.getPickingInfo($),{index:J,sourceLayer:Z}=Q;if(Q.featureType=bA1.find((X)=>Z.id.startsWith(`${this.id}-${X}-`)),J>=0&&Z.id.startsWith(`${this.id}-points-text`)&&this.state.binary)Q.index=this.props.data.points.globalFeatureIds.value[J];return Q}_updateAutoHighlight($){let Q=`${this.id}-points-`,J=$.featureType==="points";for(let Z of this.getSubLayers())if(Z.id.startsWith(Q)===J)Z.updateAutoHighlight($)}_renderPolygonLayer(){let{extruded:$,wireframe:Q}=this.props,{layerProps:J}=this.state,Z="polygons-fill",X=this.shouldRenderSubLayer("polygons-fill",J.polygons?.data)&&this.getSubLayerClass("polygons-fill",tN.type);if(X){let W=eN(this,tN.props),H=$&&Q;if(!H)delete W.getLineColor;return W.updateTriggers.lineColors=H,new X(W,this.getSubLayerProps({id:"polygons-fill",updateTriggers:W.updateTriggers}),J.polygons)}return null}_renderLineLayers(){let{extruded:$,stroked:Q}=this.props,{layerProps:J}=this.state,Z="polygons-stroke",X="linestrings",W=!$&&Q&&this.shouldRenderSubLayer("polygons-stroke",J.polygonsOutline?.data)&&this.getSubLayerClass("polygons-stroke",CW.type),H=this.shouldRenderSubLayer("linestrings",J.lines?.data)&&this.getSubLayerClass("linestrings",CW.type);if(W||H){let F=eN(this,CW.props);return[W&&new W(F,this.getSubLayerProps({id:"polygons-stroke",updateTriggers:F.updateTriggers}),J.polygonsOutline),H&&new H(F,this.getSubLayerProps({id:"linestrings",updateTriggers:F.updateTriggers}),J.lines)]}return null}_renderPointLayers(){let{pointType:$}=this.props,{layerProps:Q,binary:J}=this.state,{highlightedObjectIndex:Z}=this.props;if(!J&&Number.isFinite(Z))Z=Q.points.data.findIndex((H)=>H.__source.index===Z);let X=new Set($.split("+")),W=[];for(let H of X){let F=`points-${H}`,V=DW[H],D=V&&this.shouldRenderSubLayer(F,Q.points?.data)&&this.getSubLayerClass(F,V.type);if(D){let C=eN(this,V.props),z=Q.points;if(H==="text"&&J){let{instancePickingColors:R,...k}=z.data.attributes;z={...z,data:{...z.data,attributes:k}}}W.push(new D(C,this.getSubLayerProps({id:F,updateTriggers:C.updateTriggers,highlightedObjectIndex:Z}),z))}}return W}renderLayers(){let{extruded:$}=this.props,Q=this._renderPolygonLayer(),J=this._renderLineLayers(),Z=this._renderPointLayers();return[!$&&Q,J,Z,$&&Q]}getSubLayerAccessor($){let{binary:Q}=this.state;if(!Q||typeof $!=="function")return super.getSubLayerAccessor($);return(J,Z)=>{let{data:X,index:W}=Z,H=ea(X,W);return $(H,Z)}}}QD.layerName="GeoJsonLayer";QD.defaultProps=fA1;var RS=QD;var _r=p1(X5(),1),t5=p1(X5(),1);var JD=p1(X5(),1),cA1=typeof window<"u"?JD.useLayoutEffect:JD.useEffect,jr=cA1;var KD=p1(X5(),1),Lr=p1(X5(),1);function EZ($,Q){while($){if($===Q)return!0;$=Object.getPrototypeOf($)}return!1}var OS=p1(X5(),1),dA1={position:"absolute",zIndex:-1};function ZD($,Q){if(typeof $==="function")return $(Q);if(Array.isArray($))return $.map((J)=>ZD(J,Q));if(jZ($)){if(lA1($))return Q.style=dA1,OS.cloneElement($,Q);if(pA1($))return OS.cloneElement($,Q)}return $}function jZ($){return $&&typeof $==="object"&&"type"in $||!1}function lA1($){return $.props?.mapStyle}function pA1($){let Q=$.type;return Q&&Q.deckGLViewProps}function kS($){if(typeof $==="function")return Lr.createElement(t4,{},$);if(Array.isArray($))return $.map(kS);if(jZ($)){if($.type===KD.Fragment)return kS($.props.children);if(EZ($.type,t4))return $}return $}function PS({children:$,layers:Q=[],views:J=null}){let Z=[],X=[],W={};if(KD.Children.forEach(kS($),(H)=>{if(jZ(H)){let F=H.type;if(EZ(F,M6)){let V=uA1(F,H.props);X.push(V)}else Z.push(H);if(EZ(F,t4)&&F!==t4&&H.props.id){let V=new F(H.props);W[V.id]=V}}else if(H)Z.push(H)}),Object.keys(W).length>0){if(Array.isArray(J))J.forEach((H)=>{W[H.id]=H});else if(J)W[J.id]=J;J=Object.values(W)}return Q=X.length>0?[...X,...Q]:Q,{layers:Q,children:Z,views:J}}function uA1($,Q){let J={},Z=$.defaultProps||{};for(let X in Q)if(Z[X]!==Q[X])J[X]=Q[X];return new $(J)}var MS=p1(X5(),1);var hr=p1(X5(),1),vr=hr.createContext();function wS({children:$,deck:Q,ContextProvider:J=vr.Provider}){let{viewManager:Z}=Q||{};if(!Z||!Z.views.length)return[];let X={},W=Z.views[0].id;for(let H of $){let F=W,V=H;if(jZ(H)&&EZ(H.type,t4))F=H.props.id||W,V=H.props.children;let D=Z.getViewport(F),C=Z.getViewState(F);if(D){C.padding=D.padding;let{x:z,y:R,width:k,height:P}=D;if(V=ZD(V,{x:z,y:R,width:k,height:P,viewport:D,viewState:C}),!X[F])X[F]={viewport:D,children:[]};X[F].children.push(V)}}return Object.keys(X).map((H)=>{let{viewport:F,children:V}=X[H],{x:D,y:C,width:z,height:R}=F,k={position:"absolute",left:D,top:C,width:z,height:R},P=`view-${H}`,S=MS.createElement("div",{key:P,id:P,style:k},...V),T={deck:Q,viewport:F,container:Q.canvas.offsetParent,eventManager:Q.eventManager,onViewStateChange:(v)=>{v.viewId=H,Q._onViewStateChange(v)},widgets:[]},_=`view-${H}-context`;return MS.createElement(J,{key:_,value:T},S)})}var iA1={mixBlendMode:null};function SS({width:$,height:Q,style:J}){let Z={position:"absolute",zIndex:0,left:0,top:0,width:$,height:Q},X={left:0,top:0};if(J)for(let W in J)if(W in iA1)X[W]=J[W];else Z[W]=J[W];return{containerStyle:Z,canvasStyle:X}}function nA1($){return{get deck(){return $.deck},pickObject:(Q)=>$.deck.pickObject(Q),pickMultipleObjects:(Q)=>$.deck.pickMultipleObjects(Q),pickObjects:(Q)=>$.deck.pickObjects(Q)}}function xr($){if($.redrawReason)$.deck._drawLayers($.redrawReason),$.redrawReason=null}function sA1($,Q,J){let Z=new Q({...J,_customRender:J.deviceProps?.adapters?.[0]?.type==="webgpu"?void 0:(X)=>{$.redrawReason=X;let W=Z.getViewports();if($.lastRenderedViewports!==W)$.forceUpdate();else xr($)}});return Z}function oA1($,Q){let[J,Z]=t5.useState(0),W=t5.useRef({control:null,version:J,forceUpdate:()=>Z((l)=>l+1)}).current,H=t5.useRef(null),F=t5.useRef(null),V=t5.useMemo(()=>PS($),[$.layers,$.views,$.children]),D=!0,C=(l)=>{if(D&&$.viewState)return W.viewStateUpdateRequested=l,null;return W.viewStateUpdateRequested=null,$.onViewStateChange?.(l)},z=(l)=>{if(D)W.interactionStateUpdateRequested=l;else W.interactionStateUpdateRequested=null,$.onInteractionStateChange?.(l)},R=t5.useMemo(()=>{let l={widgets:[],...$,style:null,width:"100%",height:"100%",parent:H.current,canvas:F.current,layers:V.layers,views:V.views,onViewStateChange:C,onInteractionStateChange:z};if(delete l._customRender,W.deck)W.deck.setProps(l);return l},[$]);t5.useEffect(()=>{let l=$.Deck||aw;return W.deck=sA1(W,l,{...R,parent:H.current,canvas:F.current}),()=>W.deck?.finalize()},[]),jr(()=>{xr(W);let{viewStateUpdateRequested:l,interactionStateUpdateRequested:J1}=W;if(l)C(l);if(J1)z(J1)}),t5.useImperativeHandle(Q,()=>nA1(W),[]);let k=W.deck&&W.deck.isInitialized?W.deck.getViewports():void 0,{ContextProvider:P,width:S="100%",height:T="100%",id:_,style:v}=$,{containerStyle:L,canvasStyle:f}=t5.useMemo(()=>SS({width:S,height:T,style:v}),[S,T,v]);if(!W.viewStateUpdateRequested&&W.lastRenderedViewports===k||W.version!==J){W.lastRenderedViewports=k,W.version=J;let l=wS({children:V.children,deck:W.deck,ContextProvider:P}),J1=t5.createElement("canvas",{key:"canvas",id:_||"deckgl-overlay",ref:F,style:f});W.control=t5.createElement("div",{id:`${_||"deckgl"}-wrapper`,ref:H,style:L},[J1,l])}return D=!1,W.control}var aA1=_r.forwardRef(oA1),AW=aA1;var XD=p1(O5(),1),rA1={longitude:-122.41669,latitude:37.7853,zoom:13,pitch:0,bearing:0};function gr({config:$,filters:Q=[]}){let{db:J,tableVersion:Z}=m6(),[X,W]=YD.useState([]);if(YD.useEffect(()=>{if(console.log(Z),!J||Z<1)return;debugger;new S$(J,$,Q).execute().then((V)=>{debugger;let D=V.reduce((C,z)=>{if(z&&z.simplified_geom_geojson)try{C.push(JSON.parse(z.simplified_geom_geojson))}catch(R){console.error("Error parsing GeoJSON:",R)}return C},[]);debugger;W(D)})},[J,Z]),console.log("Rendering MapWidget",X?.length),Z<1)return XD.jsxDEV("div",{children:"Map will load after initial data is loaded."},void 0,!1,void 0,this);let H=[new RS({id:"geojson-layer",data:X,pickable:!0,stroked:!1,filled:!0,extruded:!0,pointType:"circle",lineWidthScale:20,lineWidthMinPixels:2,getFillColor:[160,160,180,200],getPointRadius:100,getLineWidth:1,getElevation:30})];if(Z==0)return XD.jsxDEV("span",{children:"Waiting"},void 0,!1,void 0,this);return XD.jsxDEV(AW,{initialViewState:rA1,controller:!0,layers:H,getTooltip:({object:F})=>{if(F&&F.properties){let V=$.params.columns?.find((D)=>D.column==="org_unit_name");if(V)return F.properties[V.label||V.column];return F.properties.name}return null}},void 0,!1,void 0,this)}var h8=p1(X5(),1);var zW=p1(O5(),1);function yr({config:$,onFilterChange:Q,filters:J}){let{db:Z}=m6(),[X,W]=h8.useState([]),[H,F]=h8.useState([]);h8.useEffect(()=>{if(console.log(`FilterWidget ${$.id} useEffect (fetchOptions) running. Filters:`,J),!Z)return;(async()=>{let C=await Z.connect(),z=`SELECT DISTINCT ${$.source.column} FROM ${$.source.dataSource}`,R=[];if($.dependsOn&&J[$.dependsOn]&&J[$.dependsOn].length>0){let T=J[$.dependsOn],_=T.map(()=>"?").join(", ");z+=` WHERE ${$.dependsOn} IN (${_})`,R=T}let S=(await(await C.prepare(z)).query(...R)).toArray().map((T)=>T[$.source.column]);W(S),console.log(`FilterWidget ${$.id} fetched options:`,S)})()},[Z,$,J]),h8.useEffect(()=>{let D=J[$.id]||[];if(H.length!==D.length||H.some((C,z)=>C!==D[z]))console.log(`FilterWidget ${$.id} synchronizing selected from parent. Parent:`,D,"Current:",H),F(D)},[J,$.id,H]),h8.useEffect(()=>{if(X.length>0&&H.length>0){let D=H.filter((C)=>X.includes(C));if(D.length!==H.length)console.log(`FilterWidget ${$.id} clearing invalid selections. New selected:`,D),F(D),Q($.id,D)}},[X,H,$.id,Q]),console.log(`FilterWidget ${$.id} rendering. Selected:`,H);let V=h8.useCallback((D)=>{let C=Array.from(D.target.selectedOptions,(z)=>z.value);console.log(`FilterWidget ${$.id} handleChange. Selected options:`,C),F(C),Q($.id,C)},[$.id,Q]);return zW.jsxDEV("div",{className:"p-4 border rounded-2xl bg-gray-50",children:[zW.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:$.label},void 0,!1,void 0,this),zW.jsxDEV("select",{multiple:!0,onChange:V,value:H,className:"block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:X.map((D)=>zW.jsxDEV("option",{value:D,children:D},D,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}var L7=p1(O5(),1),tA1={keyNumber:zp,table:Bp,map:gr};function eA1({children:$,itemKey:Q}){let{tableVersion:J}=m6();if(J>0)return L7.jsxDEV("div",{children:$},Q,!1,void 0,this);return L7.jsxDEV("div",{},Q,!1,void 0,this)}var br=WD.default.memo(({config:$,filters:Q,onFilterChange:J,disableMap:Z=!1})=>{let X=WD.useCallback((W)=>{switch(W.type){case"ParquetUploadWidget":return L7.jsxDEV(Ap,{className:W.className},"upload",!1,void 0,this);case"Filters":return L7.jsxDEV("div",{className:W.className,children:$.filters.map((H)=>L7.jsxDEV(yr,{config:H,filters:Q,onFilterChange:J},"filter-"+H.id,!1,void 0,this))},"filters",!1,void 0,this);case"Widget":case"ConditionalWidget":{if(W.type==="ConditionalWidget"){if(W.invertCondition?Z:!Z)return null}let H=$.widgets[W.widgetKey];if(!H)throw Error("no widget key for "+W.widgetKey);let F=tA1[H.type];if(!F)throw Error("no widget for "+W.widgetKey+" "+H.type);return L7.jsxDEV("div",{className:W.className,children:L7.jsxDEV(F,{config:H,filters:Q},void 0,!1,void 0,this)},W.widgetKey,!1,void 0,this)}case"Container":return L7.jsxDEV("div",{className:W.className,children:[" ",W.children?.map((H)=>X(H))]},W.key||W.type,!0,void 0,this);default:return null}},[$,Q,J,Z]);return L7.jsxDEV("div",{className:"space-y-4 p-4",children:$.layout?.map((W)=>W.type=="ParquetUploadWidget"?X(W):L7.jsxDEV(eA1,{itemKey:W.key||W.type,children:[" ",X(W)]},W.key||W.type,!0,void 0,this))},void 0,!1,void 0,this)});var TS=p1(O5(),1);function fr(){let{tableVersion:$}=m6(),[Q,J]=qD.useState({}),Z=(W,H)=>{J((F)=>({...F,[W]:H}))},X=qD.useMemo(()=>Q,[Q]);return TS.jsxDEV("div",{className:"space-y-4 p-4",children:TS.jsxDEV(br,{config:oL,filters:X,onFilterChange:Z,disableMap:!0},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var HD=p1(O5(),1);function mr(){return HD.jsxDEV("div",{className:"app",children:HD.jsxDEV(Np,{children:HD.jsxDEV(fr,{},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var IS=p1(O5(),1),$z1=document.getElementById("root"),Qz1=IS.jsxDEV(cr.StrictMode,{children:IS.jsxDEV(mr,{},void 0,!1,void 0,this)},void 0,!1,void 0,this);dr.createRoot($z1).render(Qz1);

//# debugId=2574DD817C93A82964756E2164756E21
//# sourceMappingURL=index-phgkcer7.js.map
