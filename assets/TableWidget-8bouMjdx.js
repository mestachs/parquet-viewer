import{j as e,r as h}from"./index-Cl2KBW3s.js";const p=({value:l})=>{const r=String(l);if(r.startsWith("http")){const t=r.split("|");return t.length===2?e.jsx("a",{href:t[0],target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:t[1]}):e.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:r})}return e.jsx(e.Fragment,{children:l??""})};function u({config:l,data:r}){const[t,a]=h.useState(0),n=10;if(!r.length)return e.jsx("div",{children:"No data."});const o=l.params.columns?l.params.columns.map(s=>s.label||s.column):Object.keys(r[0]),d=l.params.columns?l.params.columns.map(s=>s.label||s.column):Object.keys(r[0]),c=Math.ceil(r.length/n);return e.jsxs(e.Fragment,{children:[e.jsxs("table",{className:"border text-sm w-full",children:[e.jsx("thead",{children:e.jsx("tr",{children:o.map(s=>e.jsx("th",{className:"p-2",children:s},s))})}),e.jsx("tbody",{children:r.slice(t*n,(t+1)*n).map((s,m)=>e.jsx("tr",{className:"border-t",children:d.map(i=>e.jsx("td",{className:"p-2 whitespace-nowrap",children:e.jsx(p,{value:s[i]})},i))},m))})]}),c>1&&e.jsxs("div",{className:"flex items-center justify-end gap-4 py-2",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["Total records: ",r.length]}),e.jsx("button",{className:"rounded border p-2 text-sm disabled:opacity-50",disabled:t===0,onClick:()=>a(s=>s-1),children:"Previous"}),e.jsxs("span",{className:"text-sm",children:["Page ",t+1," of ",c]}),e.jsx("button",{className:"rounded border p-2 text-sm disabled:opacity-50",disabled:(t+1)*n>=r.length,onClick:()=>a(s=>s+1),children:"Next"})]})]})}export{u as TableWidget};
