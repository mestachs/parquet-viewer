import{r as be,g as Tl,R as Uu,u as Sl,j as ao}from"./index-Do8WYFfR.js";function Ml(st,bt){const k=be.useRef(bt);be.useEffect(function(){bt!==k.current&&st.attributionControl!=null&&(k.current!=null&&st.attributionControl.removeAttribution(k.current),bt!=null&&st.attributionControl.addAttribution(bt)),k.current=bt},[st,bt])}const Cl=1;function El(st){return Object.freeze({__version:Cl,map:st})}const qu=be.createContext(null);function Gu(){const st=be.use(qu);if(st==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return st}function Al(st){function bt(k,pt){const{instance:at}=st(k).current;return be.useImperativeHandle(pt,()=>at),null}return be.forwardRef(bt)}function zl(st,bt){const k=be.useRef(void 0);be.useEffect(function(){return bt!=null&&st.instance.on(bt),k.current=bt,function(){k.current!=null&&st.instance.off(k.current),k.current=null}},[st,bt])}function Ku(st,bt){const k=st.pane??bt.pane;return k?{...st,pane:k}:st}var uo={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var kl=uo.exports,Vu;function Xu(){return Vu||(Vu=1,(function(st,bt){(function(k,pt){pt(bt)})(kl,(function(k){var pt="1.9.4";function at(t){var n,r,s,a;for(r=1,s=arguments.length;r<s;r++){a=arguments[r];for(n in a)t[n]=a[n]}return t}var Nt=Object.create||(function(){function t(){}return function(n){return t.prototype=n,new t}})();function Tt(t,n){var r=Array.prototype.slice;if(t.bind)return t.bind.apply(t,r.call(arguments,1));var s=r.call(arguments,2);return function(){return t.apply(n,s.length?s.concat(r.call(arguments)):arguments)}}var $=0;function q(t){return"_leaflet_id"in t||(t._leaflet_id=++$),t._leaflet_id}function ot(t,n,r){var s,a,c,x;return x=function(){s=!1,a&&(c.apply(r,a),a=!1)},c=function(){s?a=arguments:(t.apply(r,arguments),setTimeout(x,n),s=!0)},c}function ee(t,n,r){var s=n[1],a=n[0],c=s-a;return t===s&&r?t:((t-a)%c+c)%c+a}function _(){return!1}function gt(t,n){if(n===!1)return t;var r=Math.pow(10,n===void 0?6:n);return Math.round(t*r)/r}function yt(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Pt(t){return yt(t).split(/\s+/)}function mt(t,n){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?Nt(t.options):{});for(var r in n)t.options[r]=n[r];return t.options}function Bt(t,n,r){var s=[];for(var a in t)s.push(encodeURIComponent(r?a.toUpperCase():a)+"="+encodeURIComponent(t[a]));return(!n||n.indexOf("?")===-1?"?":"&")+s.join("&")}var Jt=/\{ *([\w_ -]+) *\}/g;function Gt(t,n){return t.replace(Jt,function(r,s){var a=n[s];if(a===void 0)throw new Error("No value provided for variable "+r);return typeof a=="function"&&(a=a(n)),a})}var It=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function le(t,n){for(var r=0;r<t.length;r++)if(t[r]===n)return r;return-1}var Wt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function $t(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var vt=0;function A(t){var n=+new Date,r=Math.max(0,16-(n-vt));return vt=n+r,window.setTimeout(t,r)}var O=window.requestAnimationFrame||$t("RequestAnimationFrame")||A,Q=window.cancelAnimationFrame||$t("CancelAnimationFrame")||$t("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function G(t,n,r){if(r&&O===A)t.call(n);else return O.call(window,Tt(t,n))}function tt(t){t&&Q.call(window,t)}var lt={__proto__:null,extend:at,create:Nt,bind:Tt,get lastId(){return $},stamp:q,throttle:ot,wrapNum:ee,falseFn:_,formatNum:gt,trim:yt,splitWords:Pt,setOptions:mt,getParamString:Bt,template:Gt,isArray:It,indexOf:le,emptyImageUrl:Wt,requestFn:O,cancelFn:Q,requestAnimFrame:G,cancelAnimFrame:tt};function K(){}K.extend=function(t){var n=function(){mt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=n.__super__=this.prototype,s=Nt(r);s.constructor=n,n.prototype=s;for(var a in this)Object.prototype.hasOwnProperty.call(this,a)&&a!=="prototype"&&a!=="__super__"&&(n[a]=this[a]);return t.statics&&at(n,t.statics),t.includes&&(Zt(t.includes),at.apply(null,[s].concat(t.includes))),at(s,t),delete s.statics,delete s.includes,s.options&&(s.options=r.options?Nt(r.options):{},at(s.options,t.options)),s._initHooks=[],s.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var c=0,x=s._initHooks.length;c<x;c++)s._initHooks[c].call(this)}},n},K.include=function(t){var n=this.prototype.options;return at(this.prototype,t),t.options&&(this.prototype.options=n,this.mergeOptions(t.options)),this},K.mergeOptions=function(t){return at(this.prototype.options,t),this},K.addInitHook=function(t){var n=Array.prototype.slice.call(arguments,1),r=typeof t=="function"?t:function(){this[t].apply(this,n)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(r),this};function Zt(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=It(t)?t:[t];for(var n=0;n<t.length;n++)t[n]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var xt={on:function(t,n,r){if(typeof t=="object")for(var s in t)this._on(s,t[s],n);else{t=Pt(t);for(var a=0,c=t.length;a<c;a++)this._on(t[a],n,r)}return this},off:function(t,n,r){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var s in t)this._off(s,t[s],n);else{t=Pt(t);for(var a=arguments.length===1,c=0,x=t.length;c<x;c++)a?this._off(t[c]):this._off(t[c],n,r)}return this},_on:function(t,n,r,s){if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}if(this._listens(t,n,r)===!1){r===this&&(r=void 0);var a={fn:n,ctx:r};s&&(a.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(a)}},_off:function(t,n,r){var s,a,c;if(this._events&&(s=this._events[t],!!s)){if(arguments.length===1){if(this._firingCount)for(a=0,c=s.length;a<c;a++)s[a].fn=_;delete this._events[t];return}if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}var x=this._listens(t,n,r);if(x!==!1){var S=s[x];this._firingCount&&(S.fn=_,this._events[t]=s=s.slice()),s.splice(x,1)}}},fire:function(t,n,r){if(!this.listens(t,r))return this;var s=at({},n,{type:t,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var a=this._events[t];if(a){this._firingCount=this._firingCount+1||1;for(var c=0,x=a.length;c<x;c++){var S=a[c],z=S.fn;S.once&&this.off(t,z,S.ctx),z.call(S.ctx||this,s)}this._firingCount--}}return r&&this._propagateEvent(s),this},listens:function(t,n,r,s){typeof t!="string"&&console.warn('"string" type argument expected');var a=n;typeof n!="function"&&(s=!!n,a=void 0,r=void 0);var c=this._events&&this._events[t];if(c&&c.length&&this._listens(t,a,r)!==!1)return!0;if(s){for(var x in this._eventParents)if(this._eventParents[x].listens(t,n,r,s))return!0}return!1},_listens:function(t,n,r){if(!this._events)return!1;var s=this._events[t]||[];if(!n)return!!s.length;r===this&&(r=void 0);for(var a=0,c=s.length;a<c;a++)if(s[a].fn===n&&s[a].ctx===r)return a;return!1},once:function(t,n,r){if(typeof t=="object")for(var s in t)this._on(s,t[s],n,!0);else{t=Pt(t);for(var a=0,c=t.length;a<c;a++)this._on(t[a],n,r,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[q(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[q(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,at({layer:t.target,propagatedFrom:t.target},t),!0)}};xt.addEventListener=xt.on,xt.removeEventListener=xt.clearAllEventListeners=xt.off,xt.addOneTimeEventListener=xt.once,xt.fireEvent=xt.fire,xt.hasEventListeners=xt.listens;var Ht=K.extend(xt);function v(t,n,r){this.x=r?Math.round(t):t,this.y=r?Math.round(n):n}var T=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};v.prototype={clone:function(){return new v(this.x,this.y)},add:function(t){return this.clone()._add(h(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(h(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new v(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new v(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=T(this.x),this.y=T(this.y),this},distanceTo:function(t){t=h(t);var n=t.x-this.x,r=t.y-this.y;return Math.sqrt(n*n+r*r)},equals:function(t){return t=h(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=h(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+gt(this.x)+", "+gt(this.y)+")"}};function h(t,n,r){return t instanceof v?t:It(t)?new v(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new v(t.x,t.y):new v(t,n,r)}function d(t,n){if(t)for(var r=n?[t,n]:t,s=0,a=r.length;s<a;s++)this.extend(r[s])}d.prototype={extend:function(t){var n,r;if(!t)return this;if(t instanceof v||typeof t[0]=="number"||"x"in t)n=r=h(t);else if(t=m(t),n=t.min,r=t.max,!n||!r)return this;return!this.min&&!this.max?(this.min=n.clone(),this.max=r.clone()):(this.min.x=Math.min(n.x,this.min.x),this.max.x=Math.max(r.x,this.max.x),this.min.y=Math.min(n.y,this.min.y),this.max.y=Math.max(r.y,this.max.y)),this},getCenter:function(t){return h((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return h(this.min.x,this.max.y)},getTopRight:function(){return h(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var n,r;return typeof t[0]=="number"||t instanceof v?t=h(t):t=m(t),t instanceof d?(n=t.min,r=t.max):n=r=t,n.x>=this.min.x&&r.x<=this.max.x&&n.y>=this.min.y&&r.y<=this.max.y},intersects:function(t){t=m(t);var n=this.min,r=this.max,s=t.min,a=t.max,c=a.x>=n.x&&s.x<=r.x,x=a.y>=n.y&&s.y<=r.y;return c&&x},overlaps:function(t){t=m(t);var n=this.min,r=this.max,s=t.min,a=t.max,c=a.x>n.x&&s.x<r.x,x=a.y>n.y&&s.y<r.y;return c&&x},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var n=this.min,r=this.max,s=Math.abs(n.x-r.x)*t,a=Math.abs(n.y-r.y)*t;return m(h(n.x-s,n.y-a),h(r.x+s,r.y+a))},equals:function(t){return t?(t=m(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function m(t,n){return!t||t instanceof d?t:new d(t,n)}function y(t,n){if(t)for(var r=n?[t,n]:t,s=0,a=r.length;s<a;s++)this.extend(r[s])}y.prototype={extend:function(t){var n=this._southWest,r=this._northEast,s,a;if(t instanceof g)s=t,a=t;else if(t instanceof y){if(s=t._southWest,a=t._northEast,!s||!a)return this}else return t?this.extend(C(t)||w(t)):this;return!n&&!r?(this._southWest=new g(s.lat,s.lng),this._northEast=new g(a.lat,a.lng)):(n.lat=Math.min(s.lat,n.lat),n.lng=Math.min(s.lng,n.lng),r.lat=Math.max(a.lat,r.lat),r.lng=Math.max(a.lng,r.lng)),this},pad:function(t){var n=this._southWest,r=this._northEast,s=Math.abs(n.lat-r.lat)*t,a=Math.abs(n.lng-r.lng)*t;return new y(new g(n.lat-s,n.lng-a),new g(r.lat+s,r.lng+a))},getCenter:function(){return new g((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new g(this.getNorth(),this.getWest())},getSouthEast:function(){return new g(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof g||"lat"in t?t=C(t):t=w(t);var n=this._southWest,r=this._northEast,s,a;return t instanceof y?(s=t.getSouthWest(),a=t.getNorthEast()):s=a=t,s.lat>=n.lat&&a.lat<=r.lat&&s.lng>=n.lng&&a.lng<=r.lng},intersects:function(t){t=w(t);var n=this._southWest,r=this._northEast,s=t.getSouthWest(),a=t.getNorthEast(),c=a.lat>=n.lat&&s.lat<=r.lat,x=a.lng>=n.lng&&s.lng<=r.lng;return c&&x},overlaps:function(t){t=w(t);var n=this._southWest,r=this._northEast,s=t.getSouthWest(),a=t.getNorthEast(),c=a.lat>n.lat&&s.lat<r.lat,x=a.lng>n.lng&&s.lng<r.lng;return c&&x},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,n){return t?(t=w(t),this._southWest.equals(t.getSouthWest(),n)&&this._northEast.equals(t.getNorthEast(),n)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function w(t,n){return t instanceof y?t:new y(t,n)}function g(t,n,r){if(isNaN(t)||isNaN(n))throw new Error("Invalid LatLng object: ("+t+", "+n+")");this.lat=+t,this.lng=+n,r!==void 0&&(this.alt=+r)}g.prototype={equals:function(t,n){if(!t)return!1;t=C(t);var r=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return r<=(n===void 0?1e-9:n)},toString:function(t){return"LatLng("+gt(this.lat,t)+", "+gt(this.lng,t)+")"},distanceTo:function(t){return I.distance(this,C(t))},wrap:function(){return I.wrapLatLng(this)},toBounds:function(t){var n=180*t/40075017,r=n/Math.cos(Math.PI/180*this.lat);return w([this.lat-n,this.lng-r],[this.lat+n,this.lng+r])},clone:function(){return new g(this.lat,this.lng,this.alt)}};function C(t,n,r){return t instanceof g?t:It(t)&&typeof t[0]!="object"?t.length===3?new g(t[0],t[1],t[2]):t.length===2?new g(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new g(t.lat,"lng"in t?t.lng:t.lon,t.alt):n===void 0?null:new g(t,n,r)}var B={latLngToPoint:function(t,n){var r=this.projection.project(t),s=this.scale(n);return this.transformation._transform(r,s)},pointToLatLng:function(t,n){var r=this.scale(n),s=this.transformation.untransform(t,r);return this.projection.unproject(s)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var n=this.projection.bounds,r=this.scale(t),s=this.transformation.transform(n.min,r),a=this.transformation.transform(n.max,r);return new d(s,a)},infinite:!1,wrapLatLng:function(t){var n=this.wrapLng?ee(t.lng,this.wrapLng,!0):t.lng,r=this.wrapLat?ee(t.lat,this.wrapLat,!0):t.lat,s=t.alt;return new g(r,n,s)},wrapLatLngBounds:function(t){var n=t.getCenter(),r=this.wrapLatLng(n),s=n.lat-r.lat,a=n.lng-r.lng;if(s===0&&a===0)return t;var c=t.getSouthWest(),x=t.getNorthEast(),S=new g(c.lat-s,c.lng-a),z=new g(x.lat-s,x.lng-a);return new y(S,z)}},I=at({},B,{wrapLng:[-180,180],R:6371e3,distance:function(t,n){var r=Math.PI/180,s=t.lat*r,a=n.lat*r,c=Math.sin((n.lat-t.lat)*r/2),x=Math.sin((n.lng-t.lng)*r/2),S=c*c+Math.cos(s)*Math.cos(a)*x*x,z=2*Math.atan2(Math.sqrt(S),Math.sqrt(1-S));return this.R*z}}),X=6378137,U={R:X,MAX_LATITUDE:85.0511287798,project:function(t){var n=Math.PI/180,r=this.MAX_LATITUDE,s=Math.max(Math.min(r,t.lat),-r),a=Math.sin(s*n);return new v(this.R*t.lng*n,this.R*Math.log((1+a)/(1-a))/2)},unproject:function(t){var n=180/Math.PI;return new g((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*n,t.x*n/this.R)},bounds:(function(){var t=X*Math.PI;return new d([-t,-t],[t,t])})()};function ht(t,n,r,s){if(It(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=n,this._c=r,this._d=s}ht.prototype={transform:function(t,n){return this._transform(t.clone(),n)},_transform:function(t,n){return n=n||1,t.x=n*(this._a*t.x+this._b),t.y=n*(this._c*t.y+this._d),t},untransform:function(t,n){return n=n||1,new v((t.x/n-this._b)/this._a,(t.y/n-this._d)/this._c)}};function V(t,n,r,s){return new ht(t,n,r,s)}var dt=at({},I,{code:"EPSG:3857",projection:U,transformation:(function(){var t=.5/(Math.PI*U.R);return V(t,.5,-t,.5)})()}),wt=at({},dt,{code:"EPSG:900913"});function Ct(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function nt(t,n){var r="",s,a,c,x,S,z;for(s=0,c=t.length;s<c;s++){for(S=t[s],a=0,x=S.length;a<x;a++)z=S[a],r+=(a?"L":"M")+z.x+" "+z.y;r+=n?_t.svg?"z":"x":""}return r||"M0 0"}var H=document.documentElement.style,j="ActiveXObject"in window,Ut=j&&!document.addEventListener,kt="msLaunchUri"in navigator&&!("documentMode"in document),Vt=cn("webkit"),Ft=cn("android"),me=cn("android 2")||cn("android 3"),ie=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ke=Ft&&cn("Google")&&ie<537&&!("AudioNode"in window),_e=!!window.opera,Qt=!kt&&cn("chrome"),Ue=cn("gecko")&&!Vt&&!_e&&!j,Ve=!Qt&&cn("safari"),hi=cn("phantom"),ho="OTransition"in H,ms=navigator.platform.indexOf("Win")===0,lo=j&&"transition"in H,Ir="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!me,co="MozPerspective"in H,vs=!window.L_DISABLE_3D&&(lo||Ir||co)&&!ho&&!hi,li=typeof orientation<"u"||cn("mobile"),gs=li&&Vt,ys=li&&Ir,fo=!window.PointerEvent&&window.MSPointerEvent,_o=!!(window.PointerEvent||fo),po="ontouchstart"in window||!!window.TouchEvent,xs=!window.L_NO_TOUCH&&(po||_o),tr=li&&_e,ws=li&&Ue,er=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,mo=(function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",_,n),window.removeEventListener("testPassiveEventSupport",_,n)}catch{}return t})(),vo=(function(){return!!document.createElement("canvas").getContext})(),nr=!!(document.createElementNS&&Ct("svg").createSVGRect),go=!!nr&&(function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),yo=!nr&&(function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var n=t.firstChild;return n.style.behavior="url(#default#VML)",n&&typeof n.adj=="object"}catch{return!1}})(),xo=navigator.platform.indexOf("Mac")===0,bs=navigator.platform.indexOf("Linux")===0;function cn(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var _t={ie:j,ielt9:Ut,edge:kt,webkit:Vt,android:Ft,android23:me,androidStock:ke,opera:_e,chrome:Qt,gecko:Ue,safari:Ve,phantom:hi,opera12:ho,win:ms,ie3d:lo,webkit3d:Ir,gecko3d:co,any3d:vs,mobile:li,mobileWebkit:gs,mobileWebkit3d:ys,msPointer:fo,pointer:_o,touch:xs,touchNative:po,mobileOpera:tr,mobileGecko:ws,retina:er,passiveEvents:mo,canvas:vo,svg:nr,vml:yo,inlineSvg:go,mac:xo,linux:bs},Zr=_t.msPointer?"MSPointerDown":"pointerdown",wo=_t.msPointer?"MSPointerMove":"pointermove",Rr=_t.msPointer?"MSPointerUp":"pointerup",Nr=_t.msPointer?"MSPointerCancel":"pointercancel",Oi={touchstart:Zr,touchmove:wo,touchend:Rr,touchcancel:Nr},Fr={touchstart:To,touchmove:Bi,touchend:Bi,touchcancel:Bi},On={},ir=!1;function ci(t,n,r){return n==="touchstart"&&Po(),Fr[n]?(r=Fr[n].bind(this,r),t.addEventListener(Oi[n],r,!1),r):(console.warn("wrong event specified:",n),_)}function bo(t,n,r){if(!Oi[n]){console.warn("wrong event specified:",n);return}t.removeEventListener(Oi[n],r,!1)}function Lo(t){On[t.pointerId]=t}function Ls(t){On[t.pointerId]&&(On[t.pointerId]=t)}function Dr(t){delete On[t.pointerId]}function Po(){ir||(document.addEventListener(Zr,Lo,!0),document.addEventListener(wo,Ls,!0),document.addEventListener(Rr,Dr,!0),document.addEventListener(Nr,Dr,!0),ir=!0)}function Bi(t,n){if(n.pointerType!==(n.MSPOINTER_TYPE_MOUSE||"mouse")){n.touches=[];for(var r in On)n.touches.push(On[r]);n.changedTouches=[n],t(n)}}function To(t,n){n.MSPOINTER_TYPE_TOUCH&&n.pointerType===n.MSPOINTER_TYPE_TOUCH&&Ee(n),Bi(t,n)}function So(t){var n={},r,s;for(s in t)r=t[s],n[s]=r&&r.bind?r.bind(t):r;return t=n,n.type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n}var Ps=200;function Ts(t,n){t.addEventListener("dblclick",n);var r=0,s;function a(c){if(c.detail!==1){s=c.detail;return}if(!(c.pointerType==="mouse"||c.sourceCapabilities&&!c.sourceCapabilities.firesTouchEvents)){var x=ur(c);if(!(x.some(function(z){return z instanceof HTMLLabelElement&&z.attributes.for})&&!x.some(function(z){return z instanceof HTMLInputElement||z instanceof HTMLSelectElement}))){var S=Date.now();S-r<=Ps?(s++,s===2&&n(So(c))):s=1,r=S}}}return t.addEventListener("click",a),{dblclick:n,simDblclick:a}}function Ss(t,n){t.removeEventListener("dblclick",n.dblclick),t.removeEventListener("click",n.simDblclick)}var Wr=Ri(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Jn=Ri(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Mo=Jn==="webkitTransition"||Jn==="OTransition"?Jn+"End":"transitionend";function Co(t){return typeof t=="string"?document.getElementById(t):t}function Ii(t,n){var r=t.style[n]||t.currentStyle&&t.currentStyle[n];if((!r||r==="auto")&&document.defaultView){var s=document.defaultView.getComputedStyle(t,null);r=s?s[n]:null}return r==="auto"?null:r}function oe(t,n,r){var s=document.createElement(t);return s.className=n||"",r&&r.appendChild(s),s}function ve(t){var n=t.parentNode;n&&n.removeChild(t)}function ce(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function se(t){var n=t.parentNode;n&&n.lastChild!==t&&n.appendChild(t)}function fi(t){var n=t.parentNode;n&&n.firstChild!==t&&n.insertBefore(t,n.firstChild)}function jr(t,n){if(t.classList!==void 0)return t.classList.contains(n);var r=Pe(t);return r.length>0&&new RegExp("(^|\\s)"+n+"(\\s|$)").test(r)}function Kt(t,n){if(t.classList!==void 0)for(var r=Pt(n),s=0,a=r.length;s<a;s++)t.classList.add(r[s]);else if(!jr(t,n)){var c=Pe(t);Hr(t,(c?c+" ":"")+n)}}function ye(t,n){t.classList!==void 0?t.classList.remove(n):Hr(t,yt((" "+Pe(t)+" ").replace(" "+n+" "," ")))}function Hr(t,n){t.className.baseVal===void 0?t.className=n:t.className.baseVal=n}function Pe(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Xe(t,n){"opacity"in t.style?t.style.opacity=n:"filter"in t.style&&Zi(t,n)}function Zi(t,n){var r=!1,s="DXImageTransform.Microsoft.Alpha";try{r=t.filters.item(s)}catch{if(n===1)return}n=Math.round(n*100),r?(r.Enabled=n!==100,r.Opacity=n):t.style.filter+=" progid:"+s+"(opacity="+n+")"}function Ri(t){for(var n=document.documentElement.style,r=0;r<t.length;r++)if(t[r]in n)return t[r];return!1}function Mn(t,n,r){var s=n||new v(0,0);t.style[Wr]=(_t.ie3d?"translate("+s.x+"px,"+s.y+"px)":"translate3d("+s.x+"px,"+s.y+"px,0)")+(r?" scale("+r+")":"")}function ae(t,n){t._leaflet_pos=n,_t.any3d?Mn(t,n):(t.style.left=n.x+"px",t.style.top=n.y+"px")}function Bn(t){return t._leaflet_pos||new v(0,0)}var di,_i,rr;if("onselectstart"in document)di=function(){ut(window,"selectstart",Ee)},_i=function(){fe(window,"selectstart",Ee)};else{var pi=Ri(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);di=function(){if(pi){var t=document.documentElement.style;rr=t[pi],t[pi]="none"}},_i=function(){pi&&(document.documentElement.style[pi]=rr,rr=void 0)}}function or(){ut(window,"dragstart",Ee)}function Fe(){fe(window,"dragstart",Ee)}var sr,Ye;function Ur(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Ni(),sr=t,Ye=t.style.outlineStyle,t.style.outlineStyle="none",ut(window,"keydown",Ni))}function Ni(){sr&&(sr.style.outlineStyle=Ye,sr=void 0,Ye=void 0,fe(window,"keydown",Ni))}function Cn(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function mi(t){var n=t.getBoundingClientRect();return{x:n.width/t.offsetWidth||1,y:n.height/t.offsetHeight||1,boundingClientRect:n}}var Vr={__proto__:null,TRANSFORM:Wr,TRANSITION:Jn,TRANSITION_END:Mo,get:Co,getStyle:Ii,create:oe,remove:ve,empty:ce,toFront:se,toBack:fi,hasClass:jr,addClass:Kt,removeClass:ye,setClass:Hr,getClass:Pe,setOpacity:Xe,testProp:Ri,setTransform:Mn,setPosition:ae,getPosition:Bn,get disableTextSelection(){return di},get enableTextSelection(){return _i},disableImageDrag:or,enableImageDrag:Fe,preventOutline:Ur,restoreOutline:Ni,getSizedParentNode:Cn,getScale:mi};function ut(t,n,r,s){if(n&&typeof n=="object")for(var a in n)Yr(t,a,n[a],r);else{n=Pt(n);for(var c=0,x=n.length;c<x;c++)Yr(t,n[c],r,s)}return this}var Oe="_leaflet_events";function fe(t,n,r,s){if(arguments.length===1)Eo(t),delete t[Oe];else if(n&&typeof n=="object")for(var a in n)ar(t,a,n[a],r);else if(n=Pt(n),arguments.length===2)Eo(t,function(S){return le(n,S)!==-1});else for(var c=0,x=n.length;c<x;c++)ar(t,n[c],r,s);return this}function Eo(t,n){for(var r in t[Oe]){var s=r.split(/\d/)[0];(!n||n(s))&&ar(t,s,null,null,r)}}var Fi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Yr(t,n,r,s){var a=n+q(r)+(s?"_"+q(s):"");if(t[Oe]&&t[Oe][a])return this;var c=function(S){return r.call(s||t,S||window.event)},x=c;!_t.touchNative&&_t.pointer&&n.indexOf("touch")===0?c=ci(t,n,c):_t.touch&&n==="dblclick"?c=Ts(t,c):"addEventListener"in t?n==="touchstart"||n==="touchmove"||n==="wheel"||n==="mousewheel"?t.addEventListener(Fi[n]||n,c,_t.passiveEvents?{passive:!1}:!1):n==="mouseenter"||n==="mouseleave"?(c=function(S){S=S||window.event,Wi(t,S)&&x(S)},t.addEventListener(Fi[n],c,!1)):t.addEventListener(n,x,!1):t.attachEvent("on"+n,c),t[Oe]=t[Oe]||{},t[Oe][a]=c}function ar(t,n,r,s,a){a=a||n+q(r)+(s?"_"+q(s):"");var c=t[Oe]&&t[Oe][a];if(!c)return this;!_t.touchNative&&_t.pointer&&n.indexOf("touch")===0?bo(t,n,c):_t.touch&&n==="dblclick"?Ss(t,c):"removeEventListener"in t?t.removeEventListener(Fi[n]||n,c,!1):t.detachEvent("on"+n,c),t[Oe][a]=null}function mn(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function In(t){return Yr(t,"wheel",mn),this}function Di(t){return ut(t,"mousedown touchstart dblclick contextmenu",mn),t._leaflet_disable_click=!0,this}function Ee(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Zn(t){return Ee(t),mn(t),this}function ur(t){if(t.composedPath)return t.composedPath();for(var n=[],r=t.target;r;)n.push(r),r=r.parentNode;return n}function hr(t,n){if(!n)return new v(t.clientX,t.clientY);var r=mi(n),s=r.boundingClientRect;return new v((t.clientX-s.left)/r.x-n.clientLeft,(t.clientY-s.top)/r.y-n.clientTop)}var Ao=_t.linux&&_t.chrome?window.devicePixelRatio:_t.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function lr(t){return _t.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Ao:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Wi(t,n){var r=n.relatedTarget;if(!r)return!0;try{for(;r&&r!==t;)r=r.parentNode}catch{return!1}return r!==t}var zo={__proto__:null,on:ut,off:fe,stopPropagation:mn,disableScrollPropagation:In,disableClickPropagation:Di,preventDefault:Ee,stop:Zn,getPropagationPath:ur,getMousePosition:hr,getWheelDelta:lr,isExternalTarget:Wi,addListener:ut,removeListener:fe},qe=Ht.extend({run:function(t,n,r,s){this.stop(),this._el=t,this._inProgress=!0,this._duration=r||.25,this._easeOutPower=1/Math.max(s||.5,.2),this._startPos=Bn(t),this._offset=n.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=G(this._animate,this),this._step()},_step:function(t){var n=+new Date-this._startTime,r=this._duration*1e3;n<r?this._runFrame(this._easeOut(n/r),t):(this._runFrame(1),this._complete())},_runFrame:function(t,n){var r=this._startPos.add(this._offset.multiplyBy(t));n&&r._round(),ae(this._el,r),this.fire("step")},_complete:function(){tt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),ne=Ht.extend({options:{crs:dt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,n){n=mt(this,n),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=Tt(this._onResize,this),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.zoom!==void 0&&(this._zoom=this._limitZoom(n.zoom)),n.center&&n.zoom!==void 0&&this.setView(C(n.center),n.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Jn&&_t.any3d&&!_t.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ut(this._proxy,Mo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,r){if(n=n===void 0?this._zoom:this._limitZoom(n),t=this._limitCenter(C(t),n,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&r!==!0){r.animate!==void 0&&(r.zoom=at({animate:r.animate},r.zoom),r.pan=at({animate:r.animate,duration:r.duration},r.pan));var s=this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,r.zoom):this._tryAnimatedPan(t,r.pan);if(s)return clearTimeout(this._sizeTimer),this}return this._resetView(t,n,r.pan&&r.pan.noMoveStart),this},setZoom:function(t,n){return this._loaded?this.setView(this.getCenter(),t,{zoom:n}):(this._zoom=t,this)},zoomIn:function(t,n){return t=t||(_t.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,n)},zoomOut:function(t,n){return t=t||(_t.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,n)},setZoomAround:function(t,n,r){var s=this.getZoomScale(n),a=this.getSize().divideBy(2),c=t instanceof v?t:this.latLngToContainerPoint(t),x=c.subtract(a).multiplyBy(1-1/s),S=this.containerPointToLatLng(a.add(x));return this.setView(S,n,{zoom:r})},_getBoundsCenterZoom:function(t,n){n=n||{},t=t.getBounds?t.getBounds():w(t);var r=h(n.paddingTopLeft||n.padding||[0,0]),s=h(n.paddingBottomRight||n.padding||[0,0]),a=this.getBoundsZoom(t,!1,r.add(s));if(a=typeof n.maxZoom=="number"?Math.min(n.maxZoom,a):a,a===1/0)return{center:t.getCenter(),zoom:a};var c=s.subtract(r).divideBy(2),x=this.project(t.getSouthWest(),a),S=this.project(t.getNorthEast(),a),z=this.unproject(x.add(S).divideBy(2).add(c),a);return{center:z,zoom:a}},fitBounds:function(t,n){if(t=w(t),!t.isValid())throw new Error("Bounds are not valid.");var r=this._getBoundsCenterZoom(t,n);return this.setView(r.center,r.zoom,n)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,n){return this.setView(t,this._zoom,{pan:n})},panBy:function(t,n){if(t=h(t).round(),n=n||{},!t.x&&!t.y)return this.fire("moveend");if(n.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qe,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),n.animate!==!1){Kt(this._mapPane,"leaflet-pan-anim");var r=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,r,n.duration||.25,n.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,n,r){if(r=r||{},r.animate===!1||!_t.any3d)return this.setView(t,n,r);this._stop();var s=this.project(this.getCenter()),a=this.project(t),c=this.getSize(),x=this._zoom;t=C(t),n=n===void 0?x:n;var S=Math.max(c.x,c.y),z=S*this.getZoomScale(x,n),W=a.distanceTo(s)||1,it=1.42,Et=it*it;function St(we){var Ki=we?-1:1,Ho=we?z:S,Uo=z*z-S*S+Ki*Et*Et*W*W,Cr=2*Ho*Et*W,Er=Uo/Cr,eo=Math.sqrt(Er*Er+1)-Er,Vo=eo<1e-9?-18:Math.log(eo);return Vo}function Ie(we){return(Math.exp(we)-Math.exp(-we))/2}function ze(we){return(Math.exp(we)+Math.exp(-we))/2}function sn(we){return Ie(we)/ze(we)}var Re=St(0);function Ln(we){return S*(ze(Re)/ze(Re+it*we))}function Wo(we){return S*(ze(Re)*sn(Re+it*we)-Ie(Re))/Et}function Gi(we){return 1-Math.pow(1-we,1.5)}var Qr=Date.now(),to=(St(1)-Re)/it,jo=r.duration?1e3*r.duration:1e3*to*.8;function Mr(){var we=(Date.now()-Qr)/jo,Ki=Gi(we)*to;we<=1?(this._flyToFrame=G(Mr,this),this._move(this.unproject(s.add(a.subtract(s).multiplyBy(Wo(Ki)/W)),x),this.getScaleZoom(S/Ln(Ki),x),{flyTo:!0})):this._move(t,n)._moveEnd(!0)}return this._moveStart(!0,r.noMoveStart),Mr.call(this),this},flyToBounds:function(t,n){var r=this._getBoundsCenterZoom(t,n);return this.flyTo(r.center,r.zoom,n)},setMaxBounds:function(t){return t=w(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var n=this.options.minZoom;return this.options.minZoom=t,this._loaded&&n!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var n=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&n!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,n){this._enforcingBounds=!0;var r=this.getCenter(),s=this._limitCenter(r,this._zoom,w(t));return r.equals(s)||this.panTo(s,n),this._enforcingBounds=!1,this},panInside:function(t,n){n=n||{};var r=h(n.paddingTopLeft||n.padding||[0,0]),s=h(n.paddingBottomRight||n.padding||[0,0]),a=this.project(this.getCenter()),c=this.project(t),x=this.getPixelBounds(),S=m([x.min.add(r),x.max.subtract(s)]),z=S.getSize();if(!S.contains(c)){this._enforcingBounds=!0;var W=c.subtract(S.getCenter()),it=S.extend(c).getSize().subtract(z);a.x+=W.x<0?-it.x:it.x,a.y+=W.y<0?-it.y:it.y,this.panTo(this.unproject(a),n),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=at({animate:!1,pan:!0},t===!0?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),s=n.divideBy(2).round(),a=r.divideBy(2).round(),c=s.subtract(a);return!c.x&&!c.y?this:(t.animate&&t.pan?this.panBy(c):(t.pan&&this._rawPanBy(c),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(Tt(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:r}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=at({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=Tt(this._handleGeolocationResponse,this),r=Tt(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,r,t):navigator.geolocation.getCurrentPosition(n,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var n=t.code,r=t.message||(n===1?"permission denied":n===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:n,message:"Geolocation error: "+r+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var n=t.coords.latitude,r=t.coords.longitude,s=new g(n,r),a=s.toBounds(t.coords.accuracy*2),c=this._locateOptions;if(c.setView){var x=this.getBoundsZoom(a);this.setView(s,c.maxZoom?Math.min(x,c.maxZoom):x)}var S={latlng:s,bounds:a,timestamp:t.timestamp};for(var z in t.coords)typeof t.coords[z]=="number"&&(S[z]=t.coords[z]);this.fire("locationfound",S)}},addHandler:function(t,n){if(!n)return this;var r=this[t]=new n(this);return this._handlers.push(r),this.options[t]&&r.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ve(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(tt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ve(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,n){var r="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),s=oe("div",r,n||this._mapPane);return t&&(this._panes[t]=s),s},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),n=this.unproject(t.getBottomLeft()),r=this.unproject(t.getTopRight());return new y(n,r)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,n,r){t=w(t),r=h(r||[0,0]);var s=this.getZoom()||0,a=this.getMinZoom(),c=this.getMaxZoom(),x=t.getNorthWest(),S=t.getSouthEast(),z=this.getSize().subtract(r),W=m(this.project(S,s),this.project(x,s)).getSize(),it=_t.any3d?this.options.zoomSnap:1,Et=z.x/W.x,St=z.y/W.y,Ie=n?Math.max(Et,St):Math.min(Et,St);return s=this.getScaleZoom(Ie,s),it&&(s=Math.round(s/(it/100))*(it/100),s=n?Math.ceil(s/it)*it:Math.floor(s/it)*it),Math.max(a,Math.min(c,s))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new v(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,n){var r=this._getTopLeftPoint(t,n);return new d(r,r.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,n){var r=this.options.crs;return n=n===void 0?this._zoom:n,r.scale(t)/r.scale(n)},getScaleZoom:function(t,n){var r=this.options.crs;n=n===void 0?this._zoom:n;var s=r.zoom(t*r.scale(n));return isNaN(s)?1/0:s},project:function(t,n){return n=n===void 0?this._zoom:n,this.options.crs.latLngToPoint(C(t),n)},unproject:function(t,n){return n=n===void 0?this._zoom:n,this.options.crs.pointToLatLng(h(t),n)},layerPointToLatLng:function(t){var n=h(t).add(this.getPixelOrigin());return this.unproject(n)},latLngToLayerPoint:function(t){var n=this.project(C(t))._round();return n._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(C(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(w(t))},distance:function(t,n){return this.options.crs.distance(C(t),C(n))},containerPointToLayerPoint:function(t){return h(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return h(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var n=this.containerPointToLayerPoint(h(t));return this.layerPointToLatLng(n)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(C(t)))},mouseEventToContainerPoint:function(t){return hr(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var n=this._container=Co(t);if(n){if(n._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ut(n,"scroll",this._onScroll,this),this._containerId=q(n)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&_t.any3d,Kt(t,"leaflet-container"+(_t.touch?" leaflet-touch":"")+(_t.retina?" leaflet-retina":"")+(_t.ielt9?" leaflet-oldie":"")+(_t.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var n=Ii(t,"position");n!=="absolute"&&n!=="relative"&&n!=="fixed"&&n!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ae(this._mapPane,new v(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Kt(t.markerPane,"leaflet-zoom-hide"),Kt(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,n,r){ae(this._mapPane,new v(0,0));var s=!this._loaded;this._loaded=!0,n=this._limitZoom(n),this.fire("viewprereset");var a=this._zoom!==n;this._moveStart(a,r)._move(t,n)._moveEnd(a),this.fire("viewreset"),s&&this.fire("load")},_moveStart:function(t,n){return t&&this.fire("zoomstart"),n||this.fire("movestart"),this},_move:function(t,n,r,s){n===void 0&&(n=this._zoom);var a=this._zoom!==n;return this._zoom=n,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),s?r&&r.pinch&&this.fire("zoom",r):((a||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return tt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ae(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[q(this._container)]=this;var n=t?fe:ut;n(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&n(window,"resize",this._onResize,this),_t.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){tt(this._resizeRequest),this._resizeRequest=G(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,n){for(var r=[],s,a=n==="mouseout"||n==="mouseover",c=t.target||t.srcElement,x=!1;c;){if(s=this._targets[q(c)],s&&(n==="click"||n==="preclick")&&this._draggableMoved(s)){x=!0;break}if(s&&s.listens(n,!0)&&(a&&!Wi(c,t)||(r.push(s),a))||c===this._container)break;c=c.parentNode}return!r.length&&!x&&!a&&this.listens(n,!0)&&(r=[this]),r},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var n=t.target||t.srcElement;if(!(!this._loaded||n._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(n))){var r=t.type;r==="mousedown"&&Ur(n),this._fireDOMEvent(t,r)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,r){if(t.type==="click"){var s=at({},t);s.type="preclick",this._fireDOMEvent(s,s.type,r)}var a=this._findEventTargets(t,n);if(r){for(var c=[],x=0;x<r.length;x++)r[x].listens(n,!0)&&c.push(r[x]);a=c.concat(a)}if(a.length){n==="contextmenu"&&Ee(t);var S=a[0],z={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var W=S.getLatLng&&(!S._radius||S._radius<=10);z.containerPoint=W?this.latLngToContainerPoint(S.getLatLng()):this.mouseEventToContainerPoint(t),z.layerPoint=this.containerPointToLayerPoint(z.containerPoint),z.latlng=W?S.getLatLng():this.layerPointToLatLng(z.layerPoint)}for(x=0;x<a.length;x++)if(a[x].fire(n,z,!0),z.originalEvent._stopped||a[x].options.bubblingMouseEvents===!1&&le(this._mouseEvents,n)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,n=this._handlers.length;t<n;t++)this._handlers[t].disable()},whenReady:function(t,n){return this._loaded?t.call(n||this,{target:this}):this.on("load",t,n),this},_getMapPanePos:function(){return Bn(this._mapPane)||new v(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,n){var r=t&&n!==void 0?this._getNewPixelOrigin(t,n):this.getPixelOrigin();return r.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,n){var r=this.getSize()._divideBy(2);return this.project(t,n)._subtract(r)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,n,r){var s=this._getNewPixelOrigin(r,n);return this.project(t,n)._subtract(s)},_latLngBoundsToNewLayerBounds:function(t,n,r){var s=this._getNewPixelOrigin(r,n);return m([this.project(t.getSouthWest(),n)._subtract(s),this.project(t.getNorthWest(),n)._subtract(s),this.project(t.getSouthEast(),n)._subtract(s),this.project(t.getNorthEast(),n)._subtract(s)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,n,r){if(!r)return t;var s=this.project(t,n),a=this.getSize().divideBy(2),c=new d(s.subtract(a),s.add(a)),x=this._getBoundsOffset(c,r,n);return Math.abs(x.x)<=1&&Math.abs(x.y)<=1?t:this.unproject(s.add(x),n)},_limitOffset:function(t,n){if(!n)return t;var r=this.getPixelBounds(),s=new d(r.min.add(t),r.max.add(t));return t.add(this._getBoundsOffset(s,n))},_getBoundsOffset:function(t,n,r){var s=m(this.project(n.getNorthEast(),r),this.project(n.getSouthWest(),r)),a=s.min.subtract(t.min),c=s.max.subtract(t.max),x=this._rebound(a.x,-c.x),S=this._rebound(a.y,-c.y);return new v(x,S)},_rebound:function(t,n){return t+n>0?Math.round(t-n)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(n))},_limitZoom:function(t){var n=this.getMinZoom(),r=this.getMaxZoom(),s=_t.any3d?this.options.zoomSnap:1;return s&&(t=Math.round(t/s)*s),Math.max(n,Math.min(r,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,n){var r=this._getCenterOffset(t)._trunc();return(n&&n.animate)!==!0&&!this.getSize().contains(r)?!1:(this.panBy(r,n),!0)},_createAnimProxy:function(){var t=this._proxy=oe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(n){var r=Wr,s=this._proxy.style[r];Mn(this._proxy,this.project(n.center,n.zoom),this.getZoomScale(n.zoom,1)),s===this._proxy.style[r]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ve(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),n=this.getZoom();Mn(this._proxy,this.project(t,n),this.getZoomScale(n,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,n,r){if(this._animatingZoom)return!0;if(r=r||{},!this._zoomAnimated||r.animate===!1||this._nothingToAnimate()||Math.abs(n-this._zoom)>this.options.zoomAnimationThreshold)return!1;var s=this.getZoomScale(n),a=this._getCenterOffset(t)._divideBy(1-1/s);return r.animate!==!0&&!this.getSize().contains(a)?!1:(G(function(){this._moveStart(!0,r.noMoveStart||!1)._animateZoom(t,n,!0)},this),!0)},_animateZoom:function(t,n,r,s){this._mapPane&&(r&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=n,Kt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:n,noUpdate:s}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(Tt(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ji(t,n){return new ne(t,n)}var tn=K.extend({options:{position:"topright"},initialize:function(t){mt(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var n=this._map;return n&&n.removeControl(this),this.options.position=t,n&&n.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var n=this._container=this.onAdd(t),r=this.getPosition(),s=t._controlCorners[r];return Kt(n,"leaflet-control"),r.indexOf("bottom")!==-1?s.insertBefore(n,s.firstChild):s.appendChild(n),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ve(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),vi=function(t){return new tn(t)};ne.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},n="leaflet-",r=this._controlContainer=oe("div",n+"control-container",this._container);function s(a,c){var x=n+a+" "+n+c;t[a+c]=oe("div",x,r)}s("top","left"),s("top","right"),s("bottom","left"),s("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ve(this._controlCorners[t]);ve(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ko=tn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,n,r,s){return r<s?-1:s<r?1:0}},initialize:function(t,n,r){mt(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var s in t)this._addLayer(t[s],s);for(s in n)this._addLayer(n[s],s,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return tn.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,n){return this._addLayer(t,n),this._map?this._update():this},addOverlay:function(t,n){return this._addLayer(t,n,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var n=this._getLayer(q(t));return n&&this._layers.splice(this._layers.indexOf(n),1),this._map?this._update():this},expand:function(){Kt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Kt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",n=this._container=oe("div",t),r=this.options.collapsed;n.setAttribute("aria-haspopup",!0),Di(n),In(n);var s=this._section=oe("section",t+"-list");r&&(this._map.on("click",this.collapse,this),ut(n,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var a=this._layersLink=oe("a",t+"-toggle",n);a.href="#",a.title="Layers",a.setAttribute("role","button"),ut(a,{keydown:function(c){c.keyCode===13&&this._expandSafely()},click:function(c){Ee(c),this._expandSafely()}},this),r||this.expand(),this._baseLayersList=oe("div",t+"-base",s),this._separator=oe("div",t+"-separator",s),this._overlaysList=oe("div",t+"-overlays",s),n.appendChild(s)},_getLayer:function(t){for(var n=0;n<this._layers.length;n++)if(this._layers[n]&&q(this._layers[n].layer)===t)return this._layers[n]},_addLayer:function(t,n,r){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:n,overlay:r}),this.options.sortLayers&&this._layers.sort(Tt(function(s,a){return this.options.sortFunction(s.layer,a.layer,s.name,a.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ce(this._baseLayersList),ce(this._overlaysList),this._layerControlInputs=[];var t,n,r,s,a=0;for(r=0;r<this._layers.length;r++)s=this._layers[r],this._addItem(s),n=n||s.overlay,t=t||!s.overlay,a+=s.overlay?0:1;return this.options.hideSingleBase&&(t=t&&a>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=n&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var n=this._getLayer(q(t.target)),r=n.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;r&&this._map.fire(r,n)},_createRadioElement:function(t,n){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(n?' checked="checked"':"")+"/>",s=document.createElement("div");return s.innerHTML=r,s.firstChild},_addItem:function(t){var n=document.createElement("label"),r=this._map.hasLayer(t.layer),s;t.overlay?(s=document.createElement("input"),s.type="checkbox",s.className="leaflet-control-layers-selector",s.defaultChecked=r):s=this._createRadioElement("leaflet-base-layers_"+q(this),r),this._layerControlInputs.push(s),s.layerId=q(t.layer),ut(s,"click",this._onInputClick,this);var a=document.createElement("span");a.innerHTML=" "+t.name;var c=document.createElement("span");n.appendChild(c),c.appendChild(s),c.appendChild(a);var x=t.overlay?this._overlaysList:this._baseLayersList;return x.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,n,r,s=[],a=[];this._handlingClick=!0;for(var c=t.length-1;c>=0;c--)n=t[c],r=this._getLayer(n.layerId).layer,n.checked?s.push(r):n.checked||a.push(r);for(c=0;c<a.length;c++)this._map.hasLayer(a[c])&&this._map.removeLayer(a[c]);for(c=0;c<s.length;c++)this._map.hasLayer(s[c])||this._map.addLayer(s[c]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,n,r,s=this._map.getZoom(),a=t.length-1;a>=0;a--)n=t[a],r=this._getLayer(n.layerId).layer,n.disabled=r.options.minZoom!==void 0&&s<r.options.minZoom||r.options.maxZoom!==void 0&&s>r.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,ut(t,"click",Ee),this.expand();var n=this;setTimeout(function(){fe(t,"click",Ee),n._preventClick=!1})}}),Ms=function(t,n,r){return new ko(t,n,r)},qr=tn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var n="leaflet-control-zoom",r=oe("div",n+" leaflet-bar"),s=this.options;return this._zoomInButton=this._createButton(s.zoomInText,s.zoomInTitle,n+"-in",r,this._zoomIn),this._zoomOutButton=this._createButton(s.zoomOutText,s.zoomOutTitle,n+"-out",r,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),r},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,n,r,s,a){var c=oe("a",r,s);return c.innerHTML=t,c.href="#",c.title=n,c.setAttribute("role","button"),c.setAttribute("aria-label",n),Di(c),ut(c,"click",Zn),ut(c,"click",a,this),ut(c,"click",this._refocusOnMap,this),c},_updateDisabled:function(){var t=this._map,n="leaflet-disabled";ye(this._zoomInButton,n),ye(this._zoomOutButton,n),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Kt(this._zoomOutButton,n),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Kt(this._zoomInButton,n),this._zoomInButton.setAttribute("aria-disabled","true"))}});ne.mergeOptions({zoomControl:!0}),ne.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new qr,this.addControl(this.zoomControl))});var gi=function(t){return new qr(t)},cr=tn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var n="leaflet-control-scale",r=oe("div",n),s=this.options;return this._addScales(s,n+"-line",r),t.on(s.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),r},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,n,r){t.metric&&(this._mScale=oe("div",n,r)),t.imperial&&(this._iScale=oe("div",n,r))},_update:function(){var t=this._map,n=t.getSize().y/2,r=t.distance(t.containerPointToLatLng([0,n]),t.containerPointToLatLng([this.options.maxWidth,n]));this._updateScales(r)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var n=this._getRoundNum(t),r=n<1e3?n+" m":n/1e3+" km";this._updateScale(this._mScale,r,n/t)},_updateImperial:function(t){var n=t*3.2808399,r,s,a;n>5280?(r=n/5280,s=this._getRoundNum(r),this._updateScale(this._iScale,s+" mi",s/r)):(a=this._getRoundNum(n),this._updateScale(this._iScale,a+" ft",a/n))},_updateScale:function(t,n,r){t.style.width=Math.round(this.options.maxWidth*r)+"px",t.innerHTML=n},_getRoundNum:function(t){var n=Math.pow(10,(Math.floor(t)+"").length-1),r=t/n;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1,n*r}}),Oo=function(t){return new cr(t)},Rn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',yi=tn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(_t.inlineSvg?Rn+" ":"")+"Leaflet</a>"},initialize:function(t){mt(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=oe("div","leaflet-control-attribution"),Di(this._container);for(var n in t._layers)t._layers[n].getAttribution&&this.addAttribution(t._layers[n].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var n in this._attributions)this._attributions[n]&&t.push(n);var r=[];this.options.prefix&&r.push(this.options.prefix),t.length&&r.push(t.join(", ")),this._container.innerHTML=r.join(' <span aria-hidden="true">|</span> ')}}});ne.mergeOptions({attributionControl:!0}),ne.addInitHook(function(){this.options.attributionControl&&new yi().addTo(this)});var Cs=function(t){return new yi(t)};tn.Layers=ko,tn.Zoom=qr,tn.Scale=cr,tn.Attribution=yi,vi.layers=Ms,vi.zoom=gi,vi.scale=Oo,vi.attribution=Cs;var De=K.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});De.addTo=function(t,n){return t.addHandler(n,this),this};var fn={Events:xt},Gr=_t.touch?"touchstart mousedown":"mousedown",Nn=Ht.extend({options:{clickTolerance:3},initialize:function(t,n,r,s){mt(this,s),this._element=t,this._dragStartTarget=n||t,this._preventOutline=r},enable:function(){this._enabled||(ut(this._dragStartTarget,Gr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Nn._dragging===this&&this.finishDrag(!0),fe(this._dragStartTarget,Gr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!jr(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Nn._dragging===this&&this.finishDrag();return}if(!(Nn._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Nn._dragging=this,this._preventOutline&&Ur(this._element),or(),di(),!this._moving)){this.fire("down");var n=t.touches?t.touches[0]:t,r=Cn(this._element);this._startPoint=new v(n.clientX,n.clientY),this._startPos=Bn(this._element),this._parentScale=mi(r);var s=t.type==="mousedown";ut(document,s?"mousemove":"touchmove",this._onMove,this),ut(document,s?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var n=t.touches&&t.touches.length===1?t.touches[0]:t,r=new v(n.clientX,n.clientY)._subtract(this._startPoint);!r.x&&!r.y||Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(r.x/=this._parentScale.x,r.y/=this._parentScale.y,Ee(t),this._moved||(this.fire("dragstart"),this._moved=!0,Kt(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Kt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ae(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){ye(document.body,"leaflet-dragging"),this._lastTarget&&(ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),fe(document,"mousemove touchmove",this._onMove,this),fe(document,"mouseup touchend touchcancel",this._onUp,this),Fe(),_i();var n=this._moved&&this._moving;this._moving=!1,Nn._dragging=!1,n&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Hi(t,n,r){var s,a=[1,4,2,8],c,x,S,z,W,it,Et,St;for(c=0,it=t.length;c<it;c++)t[c]._code=vn(t[c],n);for(S=0;S<4;S++){for(Et=a[S],s=[],c=0,it=t.length,x=it-1;c<it;x=c++)z=t[c],W=t[x],z._code&Et?W._code&Et||(St=We(W,z,Et,n,r),St._code=vn(St,n),s.push(St)):(W._code&Et&&(St=We(W,z,Et,n,r),St._code=vn(St,n),s.push(St)),s.push(z));t=s}return t}function E(t,n){var r,s,a,c,x,S,z,W,it;if(!t||t.length===0)throw new Error("latlngs not passed");je(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Et=C([0,0]),St=w(t),Ie=St.getNorthWest().distanceTo(St.getSouthWest())*St.getNorthEast().distanceTo(St.getNorthWest());Ie<1700&&(Et=Z(t));var ze=t.length,sn=[];for(r=0;r<ze;r++){var Re=C(t[r]);sn.push(n.project(C([Re.lat-Et.lat,Re.lng-Et.lng])))}for(S=z=W=0,r=0,s=ze-1;r<ze;s=r++)a=sn[r],c=sn[s],x=a.y*c.x-c.y*a.x,z+=(a.x+c.x)*x,W+=(a.y+c.y)*x,S+=x*3;S===0?it=sn[0]:it=[z/S,W/S];var Ln=n.unproject(h(it));return C([Ln.lat+Et.lat,Ln.lng+Et.lng])}function Z(t){for(var n=0,r=0,s=0,a=0;a<t.length;a++){var c=C(t[a]);n+=c.lat,r+=c.lng,s++}return C([n/s,r/s])}var F={__proto__:null,clipPolygon:Hi,polygonCenter:E,centroid:Z};function rt(t,n){if(!n||!t.length)return t.slice();var r=n*n;return t=pe(t,r),t=Se(t,r),t}function Rt(t,n,r){return Math.sqrt(gn(t,n,r,!0))}function re(t,n,r){return gn(t,n,r)}function Se(t,n){var r=t.length,s=typeof Uint8Array<"u"?Uint8Array:Array,a=new s(r);a[0]=a[r-1]=1,en(t,a,n,0,r-1);var c,x=[];for(c=0;c<r;c++)a[c]&&x.push(t[c]);return x}function en(t,n,r,s,a){var c=0,x,S,z;for(S=s+1;S<=a-1;S++)z=gn(t[S],t[s],t[a],!0),z>c&&(x=S,c=z);c>r&&(n[x]=1,en(t,n,r,s,x),en(t,n,r,x,a))}function pe(t,n){for(var r=[t[0]],s=1,a=0,c=t.length;s<c;s++)Es(t[s],t[a])>n&&(r.push(t[s]),a=s);return a<c-1&&r.push(t[c-1]),r}var fr;function Bo(t,n,r,s,a){var c=s?fr:vn(t,r),x=vn(n,r),S,z,W;for(fr=x;;){if(!(c|x))return[t,n];if(c&x)return!1;S=c||x,z=We(t,n,S,r,a),W=vn(z,r),S===c?(t=z,c=W):(n=z,x=W)}}function We(t,n,r,s,a){var c=n.x-t.x,x=n.y-t.y,S=s.min,z=s.max,W,it;return r&8?(W=t.x+c*(z.y-t.y)/x,it=z.y):r&4?(W=t.x+c*(S.y-t.y)/x,it=S.y):r&2?(W=z.x,it=t.y+x*(z.x-t.x)/c):r&1&&(W=S.x,it=t.y+x*(S.x-t.x)/c),new v(W,it,a)}function vn(t,n){var r=0;return t.x<n.min.x?r|=1:t.x>n.max.x&&(r|=2),t.y<n.min.y?r|=4:t.y>n.max.y&&(r|=8),r}function Es(t,n){var r=n.x-t.x,s=n.y-t.y;return r*r+s*s}function gn(t,n,r,s){var a=n.x,c=n.y,x=r.x-a,S=r.y-c,z=x*x+S*S,W;return z>0&&(W=((t.x-a)*x+(t.y-c)*S)/z,W>1?(a=r.x,c=r.y):W>0&&(a+=x*W,c+=S*W)),x=t.x-a,S=t.y-c,s?x*x+S*S:new v(a,c)}function je(t){return!It(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Ui(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),je(t)}function ue(t,n){var r,s,a,c,x,S,z,W;if(!t||t.length===0)throw new Error("latlngs not passed");je(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var it=C([0,0]),Et=w(t),St=Et.getNorthWest().distanceTo(Et.getSouthWest())*Et.getNorthEast().distanceTo(Et.getNorthWest());St<1700&&(it=Z(t));var Ie=t.length,ze=[];for(r=0;r<Ie;r++){var sn=C(t[r]);ze.push(n.project(C([sn.lat-it.lat,sn.lng-it.lng])))}for(r=0,s=0;r<Ie-1;r++)s+=ze[r].distanceTo(ze[r+1])/2;if(s===0)W=ze[0];else for(r=0,c=0;r<Ie-1;r++)if(x=ze[r],S=ze[r+1],a=x.distanceTo(S),c+=a,c>s){z=(c-s)/a,W=[S.x-z*(S.x-x.x),S.y-z*(S.y-x.y)];break}var Re=n.unproject(h(W));return C([Re.lat+it.lat,Re.lng+it.lng])}var As={__proto__:null,simplify:rt,pointToSegmentDistance:Rt,closestPointOnSegment:re,clipSegment:Bo,_getEdgeIntersection:We,_getBitCode:vn,_sqClosestPointOnSegment:gn,isFlat:je,_flat:Ui,polylineCenter:ue},dr={project:function(t){return new v(t.lng,t.lat)},unproject:function(t){return new g(t.y,t.x)},bounds:new d([-180,-90],[180,90])},xi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new d([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var n=Math.PI/180,r=this.R,s=t.lat*n,a=this.R_MINOR/r,c=Math.sqrt(1-a*a),x=c*Math.sin(s),S=Math.tan(Math.PI/4-s/2)/Math.pow((1-x)/(1+x),c/2);return s=-r*Math.log(Math.max(S,1e-10)),new v(t.lng*n*r,s)},unproject:function(t){for(var n=180/Math.PI,r=this.R,s=this.R_MINOR/r,a=Math.sqrt(1-s*s),c=Math.exp(-t.y/r),x=Math.PI/2-2*Math.atan(c),S=0,z=.1,W;S<15&&Math.abs(z)>1e-7;S++)W=a*Math.sin(x),W=Math.pow((1-W)/(1+W),a/2),z=Math.PI/2-2*Math.atan(c*W)-x,x+=z;return new g(x*n,t.x*n/r)}},zs={__proto__:null,LonLat:dr,Mercator:xi,SphericalMercator:U},ks=at({},I,{code:"EPSG:3395",projection:xi,transformation:(function(){var t=.5/(Math.PI*xi.R);return V(t,.5,-t,.5)})()}),Io=at({},I,{code:"EPSG:4326",projection:dr,transformation:V(1/180,1,-1/180,.5)}),_r=at({},B,{projection:dr,transformation:V(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,n){var r=n.lng-t.lng,s=n.lat-t.lat;return Math.sqrt(r*r+s*s)},infinite:!0});B.Earth=I,B.EPSG3395=ks,B.EPSG3857=dt,B.EPSG900913=wt,B.EPSG4326=Io,B.Simple=_r;var Ae=Ht.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[q(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[q(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var n=t.target;if(n.hasLayer(this)){if(this._map=n,this._zoomAnimated=n._zoomAnimated,this.getEvents){var r=this.getEvents();n.on(r,this),this.once("remove",function(){n.off(r,this)},this)}this.onAdd(n),this.fire("add"),n.fire("layeradd",{layer:this})}}});ne.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var n=q(t);return this._layers[n]?this:(this._layers[n]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var n=q(t);return this._layers[n]?(this._loaded&&t.onRemove(this),delete this._layers[n],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return q(t)in this._layers},eachLayer:function(t,n){for(var r in this._layers)t.call(n,this._layers[r]);return this},_addLayers:function(t){t=t?It(t)?t:[t]:[];for(var n=0,r=t.length;n<r;n++)this.addLayer(t[n])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[q(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var n=q(t);this._zoomBoundLayers[n]&&(delete this._zoomBoundLayers[n],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,n=-1/0,r=this._getZoomSpan();for(var s in this._zoomBoundLayers){var a=this._zoomBoundLayers[s].options;t=a.minZoom===void 0?t:Math.min(t,a.minZoom),n=a.maxZoom===void 0?n:Math.max(n,a.maxZoom)}this._layersMaxZoom=n===-1/0?void 0:n,this._layersMinZoom=t===1/0?void 0:t,r!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var En=Ae.extend({initialize:function(t,n){mt(this,n),this._layers={};var r,s;if(t)for(r=0,s=t.length;r<s;r++)this.addLayer(t[r])},addLayer:function(t){var n=this.getLayerId(t);return this._layers[n]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var n=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[n]&&this._map.removeLayer(this._layers[n]),delete this._layers[n],this},hasLayer:function(t){var n=typeof t=="number"?t:this.getLayerId(t);return n in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var n=Array.prototype.slice.call(arguments,1),r,s;for(r in this._layers)s=this._layers[r],s[t]&&s[t].apply(s,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,n){for(var r in this._layers)t.call(n,this._layers[r]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return q(t)}}),Zo=function(t,n){return new En(t,n)},nn=En.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),En.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),En.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new y;for(var n in this._layers){var r=this._layers[n];t.extend(r.getBounds?r.getBounds():r.getLatLng())}return t}}),Ro=function(t,n){return new nn(t,n)},$n=K.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){mt(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,n){var r=this._getIconUrl(t);if(!r){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var s=this._createImg(r,n&&n.tagName==="IMG"?n:null);return this._setIconStyles(s,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),s},_setIconStyles:function(t,n){var r=this.options,s=r[n+"Size"];typeof s=="number"&&(s=[s,s]);var a=h(s),c=h(n==="shadow"&&r.shadowAnchor||r.iconAnchor||a&&a.divideBy(2,!0));t.className="leaflet-marker-"+n+" "+(r.className||""),c&&(t.style.marginLeft=-c.x+"px",t.style.marginTop=-c.y+"px"),a&&(t.style.width=a.x+"px",t.style.height=a.y+"px")},_createImg:function(t,n){return n=n||document.createElement("img"),n.src=t,n},_getIconUrl:function(t){return _t.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function pr(t){return new $n(t)}var wi=$n.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof wi.imagePath!="string"&&(wi.imagePath=this._detectIconPath()),(this.options.imagePath||wi.imagePath)+$n.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var n=function(r,s,a){var c=s.exec(r);return c&&c[a]};return t=n(t,/^url\((['"])?(.+)\1\)$/,2),t&&n(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=oe("div","leaflet-default-icon-path",document.body),n=Ii(t,"background-image")||Ii(t,"backgroundImage");if(document.body.removeChild(t),n=this._stripUrl(n),n)return n;var r=document.querySelector('link[href$="leaflet.css"]');return r?r.href.substring(0,r.href.length-11-1):""}}),bi=De.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Nn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Kt(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var n=this._marker,r=n._map,s=this._marker.options.autoPanSpeed,a=this._marker.options.autoPanPadding,c=Bn(n._icon),x=r.getPixelBounds(),S=r.getPixelOrigin(),z=m(x.min._subtract(S).add(a),x.max._subtract(S).subtract(a));if(!z.contains(c)){var W=h((Math.max(z.max.x,c.x)-z.max.x)/(x.max.x-z.max.x)-(Math.min(z.min.x,c.x)-z.min.x)/(x.min.x-z.min.x),(Math.max(z.max.y,c.y)-z.max.y)/(x.max.y-z.max.y)-(Math.min(z.min.y,c.y)-z.min.y)/(x.min.y-z.min.y)).multiplyBy(s);r.panBy(W,{animate:!1}),this._draggable._newPos._add(W),this._draggable._startPos._add(W),ae(n._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=G(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(tt(this._panRequest),this._panRequest=G(this._adjustPan.bind(this,t)))},_onDrag:function(t){var n=this._marker,r=n._shadow,s=Bn(n._icon),a=n._map.layerPointToLatLng(s);r&&ae(r,s),n._latlng=a,t.latlng=a,t.oldLatLng=this._oldLatLng,n.fire("move",t).fire("drag",t)},_onDragEnd:function(t){tt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),yn=Ae.extend({options:{icon:new wi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,n){mt(this,n),this._latlng=C(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var n=this._latlng;return this._latlng=C(t),this.update(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,n="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),r=t.icon.createIcon(this._icon),s=!1;r!==this._icon&&(this._icon&&this._removeIcon(),s=!0,t.title&&(r.title=t.title),r.tagName==="IMG"&&(r.alt=t.alt||"")),Kt(r,n),t.keyboard&&(r.tabIndex="0",r.setAttribute("role","button")),this._icon=r,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ut(r,"focus",this._panOnFocus,this);var a=t.icon.createShadow(this._shadow),c=!1;a!==this._shadow&&(this._removeShadow(),c=!0),a&&(Kt(a,n),a.alt=""),this._shadow=a,t.opacity<1&&this._updateOpacity(),s&&this.getPane().appendChild(this._icon),this._initInteraction(),a&&c&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fe(this._icon,"focus",this._panOnFocus,this),ve(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ve(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&ae(this._icon,t),this._shadow&&ae(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(n)},_initInteraction:function(){if(this.options.interactive&&(Kt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),bi)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new bi(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Xe(this._icon,t),this._shadow&&Xe(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var n=this.options.icon.options,r=n.iconSize?h(n.iconSize):h(0,0),s=n.iconAnchor?h(n.iconAnchor):h(0,0);t.panInside(this._latlng,{paddingTopLeft:s,paddingBottomRight:r.subtract(s)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function mr(t,n){return new yn(t,n)}var Fn=Ae.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return mt(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),vr=Fn.extend({options:{fill:!0,radius:10},initialize:function(t,n){mt(this,n),this._latlng=C(t),this._radius=this.options.radius},setLatLng:function(t){var n=this._latlng;return this._latlng=C(t),this.redraw(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var n=t&&t.radius||this._radius;return Fn.prototype.setStyle.call(this,t),this.setRadius(n),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,n=this._radiusY||t,r=this._clickTolerance(),s=[t+r,n+r];this._pxBounds=new d(this._point.subtract(s),this._point.add(s))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Os(t,n){return new vr(t,n)}var Li=vr.extend({initialize:function(t,n,r){if(typeof n=="number"&&(n=at({},r,{radius:n})),mt(this,n),this._latlng=C(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new y(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Fn.prototype.setStyle,_project:function(){var t=this._latlng.lng,n=this._latlng.lat,r=this._map,s=r.options.crs;if(s.distance===I.distance){var a=Math.PI/180,c=this._mRadius/I.R/a,x=r.project([n+c,t]),S=r.project([n-c,t]),z=x.add(S).divideBy(2),W=r.unproject(z).lat,it=Math.acos((Math.cos(c*a)-Math.sin(n*a)*Math.sin(W*a))/(Math.cos(n*a)*Math.cos(W*a)))/a;(isNaN(it)||it===0)&&(it=c/Math.cos(Math.PI/180*n)),this._point=z.subtract(r.getPixelOrigin()),this._radius=isNaN(it)?0:z.x-r.project([W,t-it]).x,this._radiusY=z.y-x.y}else{var Et=s.unproject(s.project(this._latlng).subtract([this._mRadius,0]));this._point=r.latLngToLayerPoint(this._latlng),this._radius=this._point.x-r.latLngToLayerPoint(Et).x}this._updateBounds()}});function gr(t,n,r){return new Li(t,n,r)}var dn=Fn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,n){mt(this,n),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var n=1/0,r=null,s=gn,a,c,x=0,S=this._parts.length;x<S;x++)for(var z=this._parts[x],W=1,it=z.length;W<it;W++){a=z[W-1],c=z[W];var Et=s(t,a,c,!0);Et<n&&(n=Et,r=s(t,a,c))}return r&&(r.distance=Math.sqrt(n)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ue(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,n){return n=n||this._defaultShape(),t=C(t),n.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new y,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return je(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var n=[],r=je(t),s=0,a=t.length;s<a;s++)r?(n[s]=C(t[s]),this._bounds.extend(n[s])):n[s]=this._convertLatLngs(t[s]);return n},_project:function(){var t=new d;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),n=new v(t,t);this._rawPxBounds&&(this._pxBounds=new d([this._rawPxBounds.min.subtract(n),this._rawPxBounds.max.add(n)]))},_projectLatlngs:function(t,n,r){var s=t[0]instanceof g,a=t.length,c,x;if(s){for(x=[],c=0;c<a;c++)x[c]=this._map.latLngToLayerPoint(t[c]),r.extend(x[c]);n.push(x)}else for(c=0;c<a;c++)this._projectLatlngs(t[c],n,r)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var n=this._parts,r,s,a,c,x,S,z;for(r=0,a=0,c=this._rings.length;r<c;r++)for(z=this._rings[r],s=0,x=z.length;s<x-1;s++)S=Bo(z[s],z[s+1],t,s,!0),S&&(n[a]=n[a]||[],n[a].push(S[0]),(S[1]!==z[s+1]||s===x-2)&&(n[a].push(S[1]),a++))}},_simplifyPoints:function(){for(var t=this._parts,n=this.options.smoothFactor,r=0,s=t.length;r<s;r++)t[r]=rt(t[r],n)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,n){var r,s,a,c,x,S,z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,c=this._parts.length;r<c;r++)for(S=this._parts[r],s=0,x=S.length,a=x-1;s<x;a=s++)if(!(!n&&s===0)&&Rt(t,S[a],S[s])<=z)return!0;return!1}});function Bs(t,n){return new dn(t,n)}dn._flat=Ui;var Qn=dn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return E(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var n=dn.prototype._convertLatLngs.call(this,t),r=n.length;return r>=2&&n[0]instanceof g&&n[0].equals(n[r-1])&&n.pop(),n},_setLatLngs:function(t){dn.prototype._setLatLngs.call(this,t),je(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return je(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,n=this.options.weight,r=new v(n,n);if(t=new d(t.min.subtract(r),t.max.add(r)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var s=0,a=this._rings.length,c;s<a;s++)c=Hi(this._rings[s],t,!0),c.length&&this._parts.push(c)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var n=!1,r,s,a,c,x,S,z,W;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(c=0,z=this._parts.length;c<z;c++)for(r=this._parts[c],x=0,W=r.length,S=W-1;x<W;S=x++)s=r[x],a=r[S],s.y>t.y!=a.y>t.y&&t.x<(a.x-s.x)*(t.y-s.y)/(a.y-s.y)+s.x&&(n=!n);return n||dn.prototype._containsPoint.call(this,t,!0)}});function Is(t,n){return new Qn(t,n)}var An=nn.extend({initialize:function(t,n){mt(this,n),this._layers={},t&&this.addData(t)},addData:function(t){var n=It(t)?t:t.features,r,s,a;if(n){for(r=0,s=n.length;r<s;r++)a=n[r],(a.geometries||a.geometry||a.features||a.coordinates)&&this.addData(a);return this}var c=this.options;if(c.filter&&!c.filter(t))return this;var x=xe(t,c);return x?(x.feature=Wn(t),x.defaultOptions=x.options,this.resetStyle(x),c.onEachFeature&&c.onEachFeature(t,x),this.addLayer(x)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=at({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(n){this._setLayerStyle(n,t)},this)},_setLayerStyle:function(t,n){t.setStyle&&(typeof n=="function"&&(n=n(t.feature)),t.setStyle(n))}});function xe(t,n){var r=t.type==="Feature"?t.geometry:t,s=r?r.coordinates:null,a=[],c=n&&n.pointToLayer,x=n&&n.coordsToLatLng||Kr,S,z,W,it;if(!s&&!r)return null;switch(r.type){case"Point":return S=x(s),Be(c,t,S,n);case"MultiPoint":for(W=0,it=s.length;W<it;W++)S=x(s[W]),a.push(Be(c,t,S,n));return new nn(a);case"LineString":case"MultiLineString":return z=yr(s,r.type==="LineString"?0:1,x),new dn(z,n);case"Polygon":case"MultiPolygon":return z=yr(s,r.type==="Polygon"?1:2,x),new Qn(z,n);case"GeometryCollection":for(W=0,it=r.geometries.length;W<it;W++){var Et=xe({geometry:r.geometries[W],type:"Feature",properties:t.properties},n);Et&&a.push(Et)}return new nn(a);case"FeatureCollection":for(W=0,it=r.features.length;W<it;W++){var St=xe(r.features[W],n);St&&a.push(St)}return new nn(a);default:throw new Error("Invalid GeoJSON object.")}}function Be(t,n,r,s){return t?t(n,r):new yn(r,s&&s.markersInheritOptions&&s)}function Kr(t){return new g(t[1],t[0],t[2])}function yr(t,n,r){for(var s=[],a=0,c=t.length,x;a<c;a++)x=n?yr(t[a],n-1,r):(r||Kr)(t[a]),s.push(x);return s}function xr(t,n){return t=C(t),t.alt!==void 0?[gt(t.lng,n),gt(t.lat,n),gt(t.alt,n)]:[gt(t.lng,n),gt(t.lat,n)]}function wr(t,n,r,s){for(var a=[],c=0,x=t.length;c<x;c++)a.push(n?wr(t[c],je(t[c])?0:n-1,r,s):xr(t[c],s));return!n&&r&&a.length>0&&a.push(a[0].slice()),a}function Dn(t,n){return t.feature?at({},t.feature,{geometry:n}):Wn(n)}function Wn(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Vi={toGeoJSON:function(t){return Dn(this,{type:"Point",coordinates:xr(this.getLatLng(),t)})}};yn.include(Vi),Li.include(Vi),vr.include(Vi),dn.include({toGeoJSON:function(t){var n=!je(this._latlngs),r=wr(this._latlngs,n?1:0,!1,t);return Dn(this,{type:(n?"Multi":"")+"LineString",coordinates:r})}}),Qn.include({toGeoJSON:function(t){var n=!je(this._latlngs),r=n&&!je(this._latlngs[0]),s=wr(this._latlngs,r?2:n?1:0,!0,t);return n||(s=[s]),Dn(this,{type:(r?"Multi":"")+"Polygon",coordinates:s})}}),En.include({toMultiPoint:function(t){var n=[];return this.eachLayer(function(r){n.push(r.toGeoJSON(t).geometry.coordinates)}),Dn(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(t){var n=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(n==="MultiPoint")return this.toMultiPoint(t);var r=n==="GeometryCollection",s=[];return this.eachLayer(function(a){if(a.toGeoJSON){var c=a.toGeoJSON(t);if(r)s.push(c.geometry);else{var x=Wn(c);x.type==="FeatureCollection"?s.push.apply(s,x.features):s.push(x)}}}),r?Dn(this,{geometries:s,type:"GeometryCollection"}):{type:"FeatureCollection",features:s}}});function ti(t,n){return new An(t,n)}var Yi=ti,jn=Ae.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,n,r){this._url=t,this._bounds=w(n),mt(this,r)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Kt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ve(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&se(this._image),this},bringToBack:function(){return this._map&&fi(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=w(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",n=this._image=t?this._url:oe("img");if(Kt(n,"leaflet-image-layer"),this._zoomAnimated&&Kt(n,"leaflet-zoom-animated"),this.options.className&&Kt(n,this.options.className),n.onselectstart=_,n.onmousemove=_,n.onload=Tt(this.fire,this,"load"),n.onerror=Tt(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=n.src;return}n.src=this._url,n.alt=this.options.alt},_animateZoom:function(t){var n=this._map.getZoomScale(t.zoom),r=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Mn(this._image,r,n)},_reset:function(){var t=this._image,n=new d(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),r=n.getSize();ae(t,n.min),t.style.width=r.x+"px",t.style.height=r.y+"px"},_updateOpacity:function(){Xe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),br=function(t,n,r){return new jn(t,n,r)},ei=jn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",n=this._image=t?this._url:oe("video");if(Kt(n,"leaflet-image-layer"),this._zoomAnimated&&Kt(n,"leaflet-zoom-animated"),this.options.className&&Kt(n,this.options.className),n.onselectstart=_,n.onmousemove=_,n.onloadeddata=Tt(this.fire,this,"load"),t){for(var r=n.getElementsByTagName("source"),s=[],a=0;a<r.length;a++)s.push(r[a].src);this._url=r.length>0?s:[n.src];return}It(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(n.style,"objectFit")&&(n.style.objectFit="fill"),n.autoplay=!!this.options.autoplay,n.loop=!!this.options.loop,n.muted=!!this.options.muted,n.playsInline=!!this.options.playsInline;for(var c=0;c<this._url.length;c++){var x=oe("source");x.src=this._url[c],n.appendChild(x)}}});function Zs(t,n,r){return new ei(t,n,r)}var No=jn.extend({_initImage:function(){var t=this._image=this._url;Kt(t,"leaflet-image-layer"),this._zoomAnimated&&Kt(t,"leaflet-zoom-animated"),this.options.className&&Kt(t,this.options.className),t.onselectstart=_,t.onmousemove=_}});function Rs(t,n,r){return new No(t,n,r)}var xn=Ae.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,n){t&&(t instanceof g||It(t))?(this._latlng=C(t),mt(this,n)):(mt(this,t),this._source=n),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Xe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Xe(this._container,1),this.bringToFront(),this.options.interactive&&(Kt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Xe(this._container,0),this._removeTimeout=setTimeout(Tt(ve,void 0,this._container),200)):ve(this._container),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=C(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&se(this._container),this},bringToBack:function(){return this._map&&fi(this._container),this},_prepareOpen:function(t){var n=this._source;if(!n._map)return!1;if(n instanceof nn){n=null;var r=this._source._layers;for(var s in r)if(r[s]._map){n=r[s];break}if(!n)return!1;this._source=n}if(!t)if(n.getCenter)t=n.getCenter();else if(n.getLatLng)t=n.getLatLng();else if(n.getBounds)t=n.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,n=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof n=="string")t.innerHTML=n;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(n)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),n=h(this.options.offset),r=this._getAnchor();this._zoomAnimated?ae(this._container,t.add(r)):n=n.add(t).add(r);var s=this._containerBottom=-n.y,a=this._containerLeft=-Math.round(this._containerWidth/2)+n.x;this._container.style.bottom=s+"px",this._container.style.left=a+"px"}},_getAnchor:function(){return[0,0]}});ne.include({_initOverlay:function(t,n,r,s){var a=n;return a instanceof t||(a=new t(s).setContent(n)),r&&a.setLatLng(r),a}}),Ae.include({_initOverlay:function(t,n,r,s){var a=r;return a instanceof t?(mt(a,s),a._source=this):(a=n&&!s?n:new t(s,this),a.setContent(r)),a}});var Lr=xn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,xn.prototype.openOn.call(this,t)},onAdd:function(t){xn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Fn||this._source.on("preclick",mn))},onRemove:function(t){xn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Fn||this._source.off("preclick",mn))},getEvents:function(){var t=xn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",n=this._container=oe("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),r=this._wrapper=oe("div",t+"-content-wrapper",n);if(this._contentNode=oe("div",t+"-content",r),Di(n),In(this._contentNode),ut(n,"contextmenu",mn),this._tipContainer=oe("div",t+"-tip-container",n),this._tip=oe("div",t+"-tip",this._tipContainer),this.options.closeButton){var s=this._closeButton=oe("a",t+"-close-button",n);s.setAttribute("role","button"),s.setAttribute("aria-label","Close popup"),s.href="#close",s.innerHTML='<span aria-hidden="true">&#215;</span>',ut(s,"click",function(a){Ee(a),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,n=t.style;n.width="",n.whiteSpace="nowrap";var r=t.offsetWidth;r=Math.min(r,this.options.maxWidth),r=Math.max(r,this.options.minWidth),n.width=r+1+"px",n.whiteSpace="",n.height="";var s=t.offsetHeight,a=this.options.maxHeight,c="leaflet-popup-scrolled";a&&s>a?(n.height=a+"px",Kt(t,c)):ye(t,c),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),r=this._getAnchor();ae(this._container,n.add(r))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,n=parseInt(Ii(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+n,s=this._containerWidth,a=new v(this._containerLeft,-r-this._containerBottom);a._add(Bn(this._container));var c=t.layerPointToContainerPoint(a),x=h(this.options.autoPanPadding),S=h(this.options.autoPanPaddingTopLeft||x),z=h(this.options.autoPanPaddingBottomRight||x),W=t.getSize(),it=0,Et=0;c.x+s+z.x>W.x&&(it=c.x+s-W.x+z.x),c.x-it-S.x<0&&(it=c.x-S.x),c.y+r+z.y>W.y&&(Et=c.y+r-W.y+z.y),c.y-Et-S.y<0&&(Et=c.y-S.y),(it||Et)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([it,Et]))}},_getAnchor:function(){return h(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Pr=function(t,n){return new Lr(t,n)};ne.mergeOptions({closePopupOnClick:!0}),ne.include({openPopup:function(t,n,r){return this._initOverlay(Lr,t,n,r).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Ae.include({bindPopup:function(t,n){return this._popup=this._initOverlay(Lr,this._popup,t,n),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof nn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Zn(t);var n=t.layer||t.target;if(this._popup._source===n&&!(n instanceof Fn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=n,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Hn=xn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){xn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){xn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=xn.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",n=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=oe("div",n),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+q(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var n,r,s=this._map,a=this._container,c=s.latLngToContainerPoint(s.getCenter()),x=s.layerPointToContainerPoint(t),S=this.options.direction,z=a.offsetWidth,W=a.offsetHeight,it=h(this.options.offset),Et=this._getAnchor();S==="top"?(n=z/2,r=W):S==="bottom"?(n=z/2,r=0):S==="center"?(n=z/2,r=W/2):S==="right"?(n=0,r=W/2):S==="left"?(n=z,r=W/2):x.x<c.x?(S="right",n=0,r=W/2):(S="left",n=z+(it.x+Et.x)*2,r=W/2),t=t.subtract(h(n,r,!0)).add(it).add(Et),ye(a,"leaflet-tooltip-right"),ye(a,"leaflet-tooltip-left"),ye(a,"leaflet-tooltip-top"),ye(a,"leaflet-tooltip-bottom"),Kt(a,"leaflet-tooltip-"+S),ae(a,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Xe(this._container,t)},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(n)},_getAnchor:function(){return h(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Fo=function(t,n){return new Hn(t,n)};ne.include({openTooltip:function(t,n,r){return this._initOverlay(Hn,t,n,r).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Ae.include({bindTooltip:function(t,n){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Hn,this._tooltip,t,n),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var n=t?"off":"on",r={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?r.add=this._openTooltip:(r.mouseover=this._openTooltip,r.mouseout=this.closeTooltip,r.click=this._openTooltip,this._map?this._addFocusListeners():r.add=this._addFocusListeners),this._tooltip.options.sticky&&(r.mousemove=this._moveTooltip),this[n](r),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof nn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var n=typeof t.getElement=="function"&&t.getElement();n&&(ut(n,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),ut(n,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var n=typeof t.getElement=="function"&&t.getElement();n&&n.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var n=this;this._map.once("moveend",function(){n._openOnceFlag=!1,n._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var n=t.latlng,r,s;this._tooltip.options.sticky&&t.originalEvent&&(r=this._map.mouseEventToContainerPoint(t.originalEvent),s=this._map.containerPointToLayerPoint(r),n=this._map.layerPointToLatLng(s)),this._tooltip.setLatLng(n)}});var f=$n.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var n=t&&t.tagName==="DIV"?t:document.createElement("div"),r=this.options;if(r.html instanceof Element?(ce(n),n.appendChild(r.html)):n.innerHTML=r.html!==!1?r.html:"",r.bgPos){var s=h(r.bgPos);n.style.backgroundPosition=-s.x+"px "+-s.y+"px"}return this._setIconStyles(n,"icon"),n},createShadow:function(){return null}});function Pi(t){return new f(t)}$n.Default=wi;var Un=Ae.extend({options:{tileSize:256,opacity:1,updateWhenIdle:_t.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){mt(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ve(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(se(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=ot(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof v?t:new v(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var n=this.getPane().children,r=-t(-1/0,1/0),s=0,a=n.length,c;s<a;s++)c=n[s].style.zIndex,n[s]!==this._container&&c&&(r=t(r,+c));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!_t.ielt9){Xe(this._container,this.options.opacity);var t=+new Date,n=!1,r=!1;for(var s in this._tiles){var a=this._tiles[s];if(!(!a.current||!a.loaded)){var c=Math.min(1,(t-a.loaded)/200);Xe(a.el,c),c<1?n=!0:(a.active?r=!0:this._onOpaqueTile(a),a.active=!0)}}r&&!this._noPrune&&this._pruneTiles(),n&&(tt(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=oe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,n=this.options.maxZoom;if(t!==void 0){for(var r in this._levels)r=Number(r),this._levels[r].el.children.length||r===t?(this._levels[r].el.style.zIndex=n-Math.abs(t-r),this._onUpdateLevel(r)):(ve(this._levels[r].el),this._removeTilesAtZoom(r),this._onRemoveLevel(r),delete this._levels[r]);var s=this._levels[t],a=this._map;return s||(s=this._levels[t]={},s.el=oe("div","leaflet-tile-container leaflet-zoom-animated",this._container),s.el.style.zIndex=n,s.origin=a.project(a.unproject(a.getPixelOrigin()),t).round(),s.zoom=t,this._setZoomTransform(s,a.getCenter(),a.getZoom()),_(s.el.offsetWidth),this._onCreateLevel(s)),this._level=s,s}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var t,n,r=this._map.getZoom();if(r>this.options.maxZoom||r<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)n=this._tiles[t],n.retain=n.current;for(t in this._tiles)if(n=this._tiles[t],n.current&&!n.active){var s=n.coords;this._retainParent(s.x,s.y,s.z,s.z-5)||this._retainChildren(s.x,s.y,s.z,s.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var n in this._tiles)this._tiles[n].coords.z===t&&this._removeTile(n)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ve(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,n,r,s){var a=Math.floor(t/2),c=Math.floor(n/2),x=r-1,S=new v(+a,+c);S.z=+x;var z=this._tileCoordsToKey(S),W=this._tiles[z];return W&&W.active?(W.retain=!0,!0):(W&&W.loaded&&(W.retain=!0),x>s?this._retainParent(a,c,x,s):!1)},_retainChildren:function(t,n,r,s){for(var a=2*t;a<2*t+2;a++)for(var c=2*n;c<2*n+2;c++){var x=new v(a,c);x.z=r+1;var S=this._tileCoordsToKey(x),z=this._tiles[S];if(z&&z.active){z.retain=!0;continue}else z&&z.loaded&&(z.retain=!0);r+1<s&&this._retainChildren(a,c,r+1,s)}},_resetView:function(t){var n=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),n,n)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var n=this.options;return n.minNativeZoom!==void 0&&t<n.minNativeZoom?n.minNativeZoom:n.maxNativeZoom!==void 0&&n.maxNativeZoom<t?n.maxNativeZoom:t},_setView:function(t,n,r,s){var a=Math.round(n);this.options.maxZoom!==void 0&&a>this.options.maxZoom||this.options.minZoom!==void 0&&a<this.options.minZoom?a=void 0:a=this._clampZoom(a);var c=this.options.updateWhenZooming&&a!==this._tileZoom;(!s||c)&&(this._tileZoom=a,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),a!==void 0&&this._update(t),r||this._pruneTiles(),this._noPrune=!!r),this._setZoomTransforms(t,n)},_setZoomTransforms:function(t,n){for(var r in this._levels)this._setZoomTransform(this._levels[r],t,n)},_setZoomTransform:function(t,n,r){var s=this._map.getZoomScale(r,t.zoom),a=t.origin.multiplyBy(s).subtract(this._map._getNewPixelOrigin(n,r)).round();_t.any3d?Mn(t.el,a,s):ae(t.el,a)},_resetGrid:function(){var t=this._map,n=t.options.crs,r=this._tileSize=this.getTileSize(),s=this._tileZoom,a=this._map.getPixelWorldBounds(this._tileZoom);a&&(this._globalTileRange=this._pxBoundsToTileRange(a)),this._wrapX=n.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,n.wrapLng[0]],s).x/r.x),Math.ceil(t.project([0,n.wrapLng[1]],s).x/r.y)],this._wrapY=n.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([n.wrapLat[0],0],s).y/r.x),Math.ceil(t.project([n.wrapLat[1],0],s).y/r.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var n=this._map,r=n._animatingZoom?Math.max(n._animateToZoom,n.getZoom()):n.getZoom(),s=n.getZoomScale(r,this._tileZoom),a=n.project(t,this._tileZoom).floor(),c=n.getSize().divideBy(s*2);return new d(a.subtract(c),a.add(c))},_update:function(t){var n=this._map;if(n){var r=this._clampZoom(n.getZoom());if(t===void 0&&(t=n.getCenter()),this._tileZoom!==void 0){var s=this._getTiledPixelBounds(t),a=this._pxBoundsToTileRange(s),c=a.getCenter(),x=[],S=this.options.keepBuffer,z=new d(a.getBottomLeft().subtract([S,-S]),a.getTopRight().add([S,-S]));if(!(isFinite(a.min.x)&&isFinite(a.min.y)&&isFinite(a.max.x)&&isFinite(a.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var W in this._tiles){var it=this._tiles[W].coords;(it.z!==this._tileZoom||!z.contains(new v(it.x,it.y)))&&(this._tiles[W].current=!1)}if(Math.abs(r-this._tileZoom)>1){this._setView(t,r);return}for(var Et=a.min.y;Et<=a.max.y;Et++)for(var St=a.min.x;St<=a.max.x;St++){var Ie=new v(St,Et);if(Ie.z=this._tileZoom,!!this._isValidTile(Ie)){var ze=this._tiles[this._tileCoordsToKey(Ie)];ze?ze.current=!0:x.push(Ie)}}if(x.sort(function(Re,Ln){return Re.distanceTo(c)-Ln.distanceTo(c)}),x.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var sn=document.createDocumentFragment();for(St=0;St<x.length;St++)this._addTile(x[St],sn);this._level.el.appendChild(sn)}}}},_isValidTile:function(t){var n=this._map.options.crs;if(!n.infinite){var r=this._globalTileRange;if(!n.wrapLng&&(t.x<r.min.x||t.x>r.max.x)||!n.wrapLat&&(t.y<r.min.y||t.y>r.max.y))return!1}if(!this.options.bounds)return!0;var s=this._tileCoordsToBounds(t);return w(this.options.bounds).overlaps(s)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var n=this._map,r=this.getTileSize(),s=t.scaleBy(r),a=s.add(r),c=n.unproject(s,t.z),x=n.unproject(a,t.z);return[c,x]},_tileCoordsToBounds:function(t){var n=this._tileCoordsToNwSe(t),r=new y(n[0],n[1]);return this.options.noWrap||(r=this._map.wrapLatLngBounds(r)),r},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var n=t.split(":"),r=new v(+n[0],+n[1]);return r.z=+n[2],r},_removeTile:function(t){var n=this._tiles[t];n&&(ve(n.el),delete this._tiles[t],this.fire("tileunload",{tile:n.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Kt(t,"leaflet-tile");var n=this.getTileSize();t.style.width=n.x+"px",t.style.height=n.y+"px",t.onselectstart=_,t.onmousemove=_,_t.ielt9&&this.options.opacity<1&&Xe(t,this.options.opacity)},_addTile:function(t,n){var r=this._getTilePos(t),s=this._tileCoordsToKey(t),a=this.createTile(this._wrapCoords(t),Tt(this._tileReady,this,t));this._initTile(a),this.createTile.length<2&&G(Tt(this._tileReady,this,t,null,a)),ae(a,r),this._tiles[s]={el:a,coords:t,current:!0},n.appendChild(a),this.fire("tileloadstart",{tile:a,coords:t})},_tileReady:function(t,n,r){n&&this.fire("tileerror",{error:n,tile:r,coords:t});var s=this._tileCoordsToKey(t);r=this._tiles[s],r&&(r.loaded=+new Date,this._map._fadeAnimated?(Xe(r.el,0),tt(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),n||(Kt(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),_t.ielt9||!this._map._fadeAnimated?G(this._pruneTiles,this):setTimeout(Tt(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var n=new v(this._wrapX?ee(t.x,this._wrapX):t.x,this._wrapY?ee(t.y,this._wrapY):t.y);return n.z=t.z,n},_pxBoundsToTileRange:function(t){var n=this.getTileSize();return new d(t.min.unscaleBy(n).floor(),t.max.unscaleBy(n).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function rn(t){return new Un(t)}var Yt=Un.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,n){this._url=t,n=mt(this,n),n.detectRetina&&_t.retina&&n.maxZoom>0?(n.tileSize=Math.floor(n.tileSize/2),n.zoomReverse?(n.zoomOffset--,n.minZoom=Math.min(n.maxZoom,n.minZoom+1)):(n.zoomOffset++,n.maxZoom=Math.max(n.minZoom,n.maxZoom-1)),n.minZoom=Math.max(0,n.minZoom)):n.zoomReverse?n.minZoom=Math.min(n.maxZoom,n.minZoom):n.maxZoom=Math.max(n.minZoom,n.maxZoom),typeof n.subdomains=="string"&&(n.subdomains=n.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,n){return this._url===t&&n===void 0&&(n=!0),this._url=t,n||this.redraw(),this},createTile:function(t,n){var r=document.createElement("img");return ut(r,"load",Tt(this._tileOnLoad,this,n,r)),ut(r,"error",Tt(this._tileOnError,this,n,r)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(r.referrerPolicy=this.options.referrerPolicy),r.alt="",r.src=this.getTileUrl(t),r},getTileUrl:function(t){var n={r:_t.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=r),n["-y"]=r}return Gt(this._url,at(n,this.options))},_tileOnLoad:function(t,n){_t.ielt9?setTimeout(Tt(t,this,null,n),0):t(null,n)},_tileOnError:function(t,n,r){var s=this.options.errorTileUrl;s&&n.getAttribute("src")!==s&&(n.src=s),t(r,n)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,n=this.options.maxZoom,r=this.options.zoomReverse,s=this.options.zoomOffset;return r&&(t=n-t),t+s},_getSubdomain:function(t){var n=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[n]},_abortLoading:function(){var t,n;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(n=this._tiles[t].el,n.onload=_,n.onerror=_,!n.complete)){n.src=Wt;var r=this._tiles[t].coords;ve(n),delete this._tiles[t],this.fire("tileabort",{tile:n,coords:r})}},_removeTile:function(t){var n=this._tiles[t];if(n)return n.el.setAttribute("src",Wt),Un.prototype._removeTile.call(this,t)},_tileReady:function(t,n,r){if(!(!this._map||r&&r.getAttribute("src")===Wt))return Un.prototype._tileReady.call(this,t,n,r)}});function Vn(t,n){return new Yt(t,n)}var wn=Yt.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var r=at({},this.defaultWmsParams);for(var s in n)s in this.options||(r[s]=n[s]);n=mt(this,n);var a=n.detectRetina&&_t.retina?2:1,c=this.getTileSize();r.width=c.x*a,r.height=c.y*a,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var n=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[n]=this._crs.code,Yt.prototype.onAdd.call(this,t)},getTileUrl:function(t){var n=this._tileCoordsToNwSe(t),r=this._crs,s=m(r.project(n[0]),r.project(n[1])),a=s.min,c=s.max,x=(this._wmsVersion>=1.3&&this._crs===Io?[a.y,a.x,c.y,c.x]:[a.x,a.y,c.x,c.y]).join(","),S=Yt.prototype.getTileUrl.call(this,t);return S+Bt(this.wmsParams,S,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+x},setParams:function(t,n){return at(this.wmsParams,t),n||this.redraw(),this}});function zn(t,n){return new wn(t,n)}Yt.WMS=wn,Vn.wms=zn;var He=Ae.extend({options:{padding:.1},initialize:function(t){mt(this,t),q(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Kt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,n){var r=this._map.getZoomScale(n,this._zoom),s=this._map.getSize().multiplyBy(.5+this.options.padding),a=this._map.project(this._center,n),c=s.multiplyBy(-r).add(a).subtract(this._map._getNewPixelOrigin(t,n));_t.any3d?Mn(this._container,c,r):ae(this._container,c)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,n=this._map.getSize(),r=this._map.containerPointToLayerPoint(n.multiplyBy(-t)).round();this._bounds=new d(r,r.add(n.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),on=He.extend({options:{tolerance:0},getEvents:function(){var t=He.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){He.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");ut(t,"mousemove",this._onMouseMove,this),ut(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ut(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){tt(this._redrawRequest),delete this._ctx,ve(this._container),fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var n in this._layers)t=this._layers[n],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){He.prototype._update.call(this);var t=this._bounds,n=this._container,r=t.getSize(),s=_t.retina?2:1;ae(n,t.min),n.width=s*r.x,n.height=s*r.y,n.style.width=r.x+"px",n.style.height=r.y+"px",_t.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){He.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[q(t)]=t;var n=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=n),this._drawLast=n,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var n=t._order,r=n.next,s=n.prev;r?r.prev=s:this._drawLast=s,s?s.next=r:this._drawFirst=r,delete t._order,delete this._layers[q(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var n=t.options.dashArray.split(/[, ]+/),r=[],s,a;for(a=0;a<n.length;a++){if(s=Number(n[a]),isNaN(s))return;r.push(s)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||G(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var n=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new d,this._redrawBounds.extend(t._pxBounds.min.subtract([n,n])),this._redrawBounds.extend(t._pxBounds.max.add([n,n]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var n=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,n.x,n.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,n=this._redrawBounds;if(this._ctx.save(),n){var r=n.getSize();this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,r.x,r.y),this._ctx.clip()}this._drawing=!0;for(var s=this._drawFirst;s;s=s.next)t=s.layer,(!n||t._pxBounds&&t._pxBounds.intersects(n))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,n){if(this._drawing){var r,s,a,c,x=t._parts,S=x.length,z=this._ctx;if(S){for(z.beginPath(),r=0;r<S;r++){for(s=0,a=x[r].length;s<a;s++)c=x[r][s],z[s?"lineTo":"moveTo"](c.x,c.y);n&&z.closePath()}this._fillStroke(z,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var n=t._point,r=this._ctx,s=Math.max(Math.round(t._radius),1),a=(Math.max(Math.round(t._radiusY),1)||s)/s;a!==1&&(r.save(),r.scale(1,a)),r.beginPath(),r.arc(n.x,n.y/a,s,0,Math.PI*2,!1),a!==1&&r.restore(),this._fillStroke(r,t)}},_fillStroke:function(t,n){var r=n.options;r.fill&&(t.globalAlpha=r.fillOpacity,t.fillStyle=r.fillColor||r.color,t.fill(r.fillRule||"evenodd")),r.stroke&&r.weight!==0&&(t.setLineDash&&t.setLineDash(n.options&&n.options._dashArray||[]),t.globalAlpha=r.opacity,t.lineWidth=r.weight,t.strokeStyle=r.color,t.lineCap=r.lineCap,t.lineJoin=r.lineJoin,t.stroke())},_onClick:function(t){for(var n=this._map.mouseEventToLayerPoint(t),r,s,a=this._drawFirst;a;a=a.next)r=a.layer,r.options.interactive&&r._containsPoint(n)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(r))&&(s=r);this._fireEvent(s?[s]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var n=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,n)}},_handleMouseOut:function(t){var n=this._hoveredLayer;n&&(ye(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,n){if(!this._mouseHoverThrottled){for(var r,s,a=this._drawFirst;a;a=a.next)r=a.layer,r.options.interactive&&r._containsPoint(n)&&(s=r);s!==this._hoveredLayer&&(this._handleMouseOut(t),s&&(Kt(this._container,"leaflet-interactive"),this._fireEvent([s],t,"mouseover"),this._hoveredLayer=s)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(Tt(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,n,r){this._map._fireDOMEvent(n,r||n.type,t)},_bringToFront:function(t){var n=t._order;if(n){var r=n.next,s=n.prev;if(r)r.prev=s;else return;s?s.next=r:r&&(this._drawFirst=r),n.prev=this._drawLast,this._drawLast.next=n,n.next=null,this._drawLast=n,this._requestRedraw(t)}},_bringToBack:function(t){var n=t._order;if(n){var r=n.next,s=n.prev;if(s)s.next=r;else return;r?r.prev=s:s&&(this._drawLast=s),n.prev=null,n.next=this._drawFirst,this._drawFirst.prev=n,this._drawFirst=n,this._requestRedraw(t)}}});function Xr(t){return _t.canvas?new on(t):null}var Ti=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Ns={_initContainer:function(){this._container=oe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(He.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var n=t._container=Ti("shape");Kt(n,"leaflet-vml-shape "+(this.options.className||"")),n.coordsize="1 1",t._path=Ti("path"),n.appendChild(t._path),this._updateStyle(t),this._layers[q(t)]=t},_addPath:function(t){var n=t._container;this._container.appendChild(n),t.options.interactive&&t.addInteractiveTarget(n)},_removePath:function(t){var n=t._container;ve(n),t.removeInteractiveTarget(n),delete this._layers[q(t)]},_updateStyle:function(t){var n=t._stroke,r=t._fill,s=t.options,a=t._container;a.stroked=!!s.stroke,a.filled=!!s.fill,s.stroke?(n||(n=t._stroke=Ti("stroke")),a.appendChild(n),n.weight=s.weight+"px",n.color=s.color,n.opacity=s.opacity,s.dashArray?n.dashStyle=It(s.dashArray)?s.dashArray.join(" "):s.dashArray.replace(/( *, *)/g," "):n.dashStyle="",n.endcap=s.lineCap.replace("butt","flat"),n.joinstyle=s.lineJoin):n&&(a.removeChild(n),t._stroke=null),s.fill?(r||(r=t._fill=Ti("fill")),a.appendChild(r),r.color=s.fillColor||s.color,r.opacity=s.fillOpacity):r&&(a.removeChild(r),t._fill=null)},_updateCircle:function(t){var n=t._point.round(),r=Math.round(t._radius),s=Math.round(t._radiusY||r);this._setPath(t,t._empty()?"M0 0":"AL "+n.x+","+n.y+" "+r+","+s+" 0,"+65535*360)},_setPath:function(t,n){t._path.v=n},_bringToFront:function(t){se(t._container)},_bringToBack:function(t){fi(t._container)}},Tr=_t.vml?Ti:Ct,ni=He.extend({_initContainer:function(){this._container=Tr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Tr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ve(this._container),fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){He.prototype._update.call(this);var t=this._bounds,n=t.getSize(),r=this._container;(!this._svgSize||!this._svgSize.equals(n))&&(this._svgSize=n,r.setAttribute("width",n.x),r.setAttribute("height",n.y)),ae(r,t.min),r.setAttribute("viewBox",[t.min.x,t.min.y,n.x,n.y].join(" ")),this.fire("update")}},_initPath:function(t){var n=t._path=Tr("path");t.options.className&&Kt(n,t.options.className),t.options.interactive&&Kt(n,"leaflet-interactive"),this._updateStyle(t),this._layers[q(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ve(t._path),t.removeInteractiveTarget(t._path),delete this._layers[q(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var n=t._path,r=t.options;n&&(r.stroke?(n.setAttribute("stroke",r.color),n.setAttribute("stroke-opacity",r.opacity),n.setAttribute("stroke-width",r.weight),n.setAttribute("stroke-linecap",r.lineCap),n.setAttribute("stroke-linejoin",r.lineJoin),r.dashArray?n.setAttribute("stroke-dasharray",r.dashArray):n.removeAttribute("stroke-dasharray"),r.dashOffset?n.setAttribute("stroke-dashoffset",r.dashOffset):n.removeAttribute("stroke-dashoffset")):n.setAttribute("stroke","none"),r.fill?(n.setAttribute("fill",r.fillColor||r.color),n.setAttribute("fill-opacity",r.fillOpacity),n.setAttribute("fill-rule",r.fillRule||"evenodd")):n.setAttribute("fill","none"))},_updatePoly:function(t,n){this._setPath(t,nt(t._parts,n))},_updateCircle:function(t){var n=t._point,r=Math.max(Math.round(t._radius),1),s=Math.max(Math.round(t._radiusY),1)||r,a="a"+r+","+s+" 0 1,0 ",c=t._empty()?"M0 0":"M"+(n.x-r)+","+n.y+a+r*2+",0 "+a+-r*2+",0 ";this._setPath(t,c)},_setPath:function(t,n){t._path.setAttribute("d",n)},_bringToFront:function(t){se(t._path)},_bringToBack:function(t){fi(t._path)}});_t.vml&&ni.include(Ns);function Si(t){return _t.svg||_t.vml?new ni(t):null}ne.include({getRenderer:function(t){var n=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return n||(n=this._renderer=this._createRenderer()),this.hasLayer(n)||this.addLayer(n),n},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var n=this._paneRenderers[t];return n===void 0&&(n=this._createRenderer({pane:t}),this._paneRenderers[t]=n),n},_createRenderer:function(t){return this.options.preferCanvas&&Xr(t)||Si(t)}});var qi=Qn.extend({initialize:function(t,n){Qn.prototype.initialize.call(this,this._boundsToLatLngs(t),n)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=w(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Fs(t,n){return new qi(t,n)}ni.create=Tr,ni.pointsToPath=nt,An.geometryToLayer=xe,An.coordsToLatLng=Kr,An.coordsToLatLngs=yr,An.latLngToCoords=xr,An.latLngsToCoords=wr,An.getFeature=Dn,An.asFeature=Wn,ne.mergeOptions({boxZoom:!0});var Jr=De.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){ut(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ve(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),di(),or(),this._startPoint=this._map.mouseEventToContainerPoint(t),ut(document,{contextmenu:Zn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=oe("div","leaflet-zoom-box",this._container),Kt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var n=new d(this._point,this._startPoint),r=n.getSize();ae(this._box,n.min),this._box.style.width=r.x+"px",this._box.style.height=r.y+"px"},_finish:function(){this._moved&&(ve(this._box),ye(this._container,"leaflet-crosshair")),_i(),Fe(),fe(document,{contextmenu:Zn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(Tt(this._resetState,this),0);var n=new y(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(n).fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ne.addInitHook("addHandler","boxZoom",Jr),ne.mergeOptions({doubleClickZoom:!0});var bn=De.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var n=this._map,r=n.getZoom(),s=n.options.zoomDelta,a=t.originalEvent.shiftKey?r-s:r+s;n.options.doubleClickZoom==="center"?n.setZoom(a):n.setZoomAround(t.containerPoint,a)}});ne.addInitHook("addHandler","doubleClickZoom",bn),ne.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Sr=De.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Nn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Kt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab"),ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var n=w(this._map.options.maxBounds);this._offsetLimit=m(this._map.latLngToContainerPoint(n.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(n.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var n=this._lastTime=+new Date,r=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(r),this._times.push(n),this._prunePositions(n)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),n=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=n.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,n){return t-(t-n)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),n=this._offsetLimit;t.x<n.min.x&&(t.x=this._viscousLimit(t.x,n.min.x)),t.y<n.min.y&&(t.y=this._viscousLimit(t.y,n.min.y)),t.x>n.max.x&&(t.x=this._viscousLimit(t.x,n.max.x)),t.y>n.max.y&&(t.y=this._viscousLimit(t.y,n.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,n=Math.round(t/2),r=this._initialWorldOffset,s=this._draggable._newPos.x,a=(s-n+r)%t+n-r,c=(s+n+r)%t-n-r,x=Math.abs(a+r)<Math.abs(c+r)?a:c;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=x},_onDragEnd:function(t){var n=this._map,r=n.options,s=!r.inertia||t.noInertia||this._times.length<2;if(n.fire("dragend",t),s)n.fire("moveend");else{this._prunePositions(+new Date);var a=this._lastPos.subtract(this._positions[0]),c=(this._lastTime-this._times[0])/1e3,x=r.easeLinearity,S=a.multiplyBy(x/c),z=S.distanceTo([0,0]),W=Math.min(r.inertiaMaxSpeed,z),it=S.multiplyBy(W/z),Et=W/(r.inertiaDeceleration*x),St=it.multiplyBy(-Et/2).round();!St.x&&!St.y?n.fire("moveend"):(St=n._limitOffset(St,n.options.maxBounds),G(function(){n.panBy(St,{duration:Et,easeLinearity:x,noMoveStart:!0,animate:!0})}))}}});ne.addInitHook("addHandler","dragging",Sr),ne.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Yn=De.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),ut(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,n=document.documentElement,r=t.scrollTop||n.scrollTop,s=t.scrollLeft||n.scrollLeft;this._map._container.focus(),window.scrollTo(s,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var n=this._panKeys={},r=this.keyCodes,s,a;for(s=0,a=r.left.length;s<a;s++)n[r.left[s]]=[-1*t,0];for(s=0,a=r.right.length;s<a;s++)n[r.right[s]]=[t,0];for(s=0,a=r.down.length;s<a;s++)n[r.down[s]]=[0,t];for(s=0,a=r.up.length;s<a;s++)n[r.up[s]]=[0,-1*t]},_setZoomDelta:function(t){var n=this._zoomKeys={},r=this.keyCodes,s,a;for(s=0,a=r.zoomIn.length;s<a;s++)n[r.zoomIn[s]]=t;for(s=0,a=r.zoomOut.length;s<a;s++)n[r.zoomOut[s]]=-t},_addHooks:function(){ut(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var n=t.keyCode,r=this._map,s;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(s=this._panKeys[n],t.shiftKey&&(s=h(s).multiplyBy(3)),r.options.maxBounds&&(s=r._limitOffset(h(s),r.options.maxBounds)),r.options.worldCopyJump){var a=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(s)));r.panTo(a)}else r.panBy(s)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else if(n===27&&r._popup&&r._popup.options.closeOnEscapeKey)r.closePopup();else return;Zn(t)}}});ne.addInitHook("addHandler","keyboard",Yn),ne.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Je=De.extend({addHooks:function(){ut(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var n=lr(t),r=this._map.options.wheelDebounceTime;this._delta+=n,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var s=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(Tt(this._performZoom,this),s),Zn(t)},_performZoom:function(){var t=this._map,n=t.getZoom(),r=this._map.options.zoomSnap||0;t._stop();var s=this._delta/(this._map.options.wheelPxPerZoomLevel*4),a=4*Math.log(2/(1+Math.exp(-Math.abs(s))))/Math.LN2,c=r?Math.ceil(a/r)*r:a,x=t._limitZoom(n+(this._delta>0?c:-c))-n;this._delta=0,this._startTime=null,x&&(t.options.scrollWheelZoom==="center"?t.setZoom(n+x):t.setZoomAround(this._lastMousePos,n+x))}});ne.addInitHook("addHandler","scrollWheelZoom",Je);var Do=600;ne.mergeOptions({tapHold:_t.touchNative&&_t.safari&&_t.mobile,tapTolerance:15});var $r=De.extend({addHooks:function(){ut(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var n=t.touches[0];this._startPos=this._newPos=new v(n.clientX,n.clientY),this._holdTimeout=setTimeout(Tt(function(){this._cancel(),this._isTapValid()&&(ut(document,"touchend",Ee),ut(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",n))},this),Do),ut(document,"touchend touchcancel contextmenu",this._cancel,this),ut(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){fe(document,"touchend",Ee),fe(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),fe(document,"touchend touchcancel contextmenu",this._cancel,this),fe(document,"touchmove",this._onMove,this)},_onMove:function(t){var n=t.touches[0];this._newPos=new v(n.clientX,n.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,n){var r=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});r._simulated=!0,n.target.dispatchEvent(r)}});ne.addInitHook("addHandler","tapHold",$r),ne.mergeOptions({touchZoom:_t.touch,bounceAtZoomLimits:!0});var Mi=De.extend({addHooks:function(){Kt(this._map._container,"leaflet-touch-zoom"),ut(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var n=this._map;if(!(!t.touches||t.touches.length!==2||n._animatingZoom||this._zooming)){var r=n.mouseEventToContainerPoint(t.touches[0]),s=n.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=n.getSize()._divideBy(2),this._startLatLng=n.containerPointToLatLng(this._centerPoint),n.options.touchZoom!=="center"&&(this._pinchStartLatLng=n.containerPointToLatLng(r.add(s)._divideBy(2))),this._startDist=r.distanceTo(s),this._startZoom=n.getZoom(),this._moved=!1,this._zooming=!0,n._stop(),ut(document,"touchmove",this._onTouchMove,this),ut(document,"touchend touchcancel",this._onTouchEnd,this),Ee(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var n=this._map,r=n.mouseEventToContainerPoint(t.touches[0]),s=n.mouseEventToContainerPoint(t.touches[1]),a=r.distanceTo(s)/this._startDist;if(this._zoom=n.getScaleZoom(a,this._startZoom),!n.options.bounceAtZoomLimits&&(this._zoom<n.getMinZoom()&&a<1||this._zoom>n.getMaxZoom()&&a>1)&&(this._zoom=n._limitZoom(this._zoom)),n.options.touchZoom==="center"){if(this._center=this._startLatLng,a===1)return}else{var c=r._add(s)._divideBy(2)._subtract(this._centerPoint);if(a===1&&c.x===0&&c.y===0)return;this._center=n.unproject(n.project(this._pinchStartLatLng,this._zoom).subtract(c),this._zoom)}this._moved||(n._moveStart(!0,!1),this._moved=!0),tt(this._animRequest);var x=Tt(n._move,n,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=G(x,this,!0),Ee(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,tt(this._animRequest),fe(document,"touchmove",this._onTouchMove,this),fe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ne.addInitHook("addHandler","touchZoom",Mi),ne.BoxZoom=Jr,ne.DoubleClickZoom=bn,ne.Drag=Sr,ne.Keyboard=Yn,ne.ScrollWheelZoom=Je,ne.TapHold=$r,ne.TouchZoom=Mi,k.Bounds=d,k.Browser=_t,k.CRS=B,k.Canvas=on,k.Circle=Li,k.CircleMarker=vr,k.Class=K,k.Control=tn,k.DivIcon=f,k.DivOverlay=xn,k.DomEvent=zo,k.DomUtil=Vr,k.Draggable=Nn,k.Evented=Ht,k.FeatureGroup=nn,k.GeoJSON=An,k.GridLayer=Un,k.Handler=De,k.Icon=$n,k.ImageOverlay=jn,k.LatLng=g,k.LatLngBounds=y,k.Layer=Ae,k.LayerGroup=En,k.LineUtil=As,k.Map=ne,k.Marker=yn,k.Mixin=fn,k.Path=Fn,k.Point=v,k.PolyUtil=F,k.Polygon=Qn,k.Polyline=dn,k.Popup=Lr,k.PosAnimation=qe,k.Projection=zs,k.Rectangle=qi,k.Renderer=He,k.SVG=ni,k.SVGOverlay=No,k.TileLayer=Yt,k.Tooltip=Hn,k.Transformation=ht,k.Util=lt,k.VideoOverlay=ei,k.bind=Tt,k.bounds=m,k.canvas=Xr,k.circle=gr,k.circleMarker=Os,k.control=vi,k.divIcon=Pi,k.extend=at,k.featureGroup=Ro,k.geoJSON=ti,k.geoJson=Yi,k.gridLayer=rn,k.icon=pr,k.imageOverlay=br,k.latLng=C,k.latLngBounds=w,k.layerGroup=Zo,k.map=ji,k.marker=mr,k.point=h,k.polygon=Is,k.polyline=Bs,k.popup=Pr,k.rectangle=Fs,k.setOptions=mt,k.stamp=q,k.svg=Si,k.svgOverlay=Rs,k.tileLayer=Vn,k.tooltip=Fo,k.transformation=V,k.version=pt,k.videoOverlay=Zs;var qn=window.L;k.noConflict=function(){return window.L=qn,this},window.L=k}))})(uo,uo.exports)),uo.exports}var Sa=Xu();const ps=Tl(Sa);function Ol(st,bt,k){return Object.freeze({instance:st,context:bt,container:k})}function Bl(st,bt){return bt==null?function(pt,at){const Nt=be.useRef(void 0);return Nt.current||(Nt.current=st(pt,at)),Nt}:function(pt,at){const Nt=be.useRef(void 0);Nt.current||(Nt.current=st(pt,at));const Tt=be.useRef(pt),{instance:$}=Nt.current;return be.useEffect(function(){Tt.current!==pt&&(bt($,pt,Tt.current),Tt.current=pt)},[$,pt,bt]),Nt}}function Il(st,bt){be.useEffect(function(){return(bt.layerContainer??bt.map).addLayer(st.instance),function(){bt.layerContainer?.removeLayer(st.instance),bt.map.removeLayer(st.instance)}},[bt,st])}function Zl(st){return function(k){const pt=Gu(),at=st(Ku(k,pt),pt);return Ml(pt.map,k.attribution),zl(at.current,k.eventHandlers),Il(at.current,pt),at}}function Rl(st,bt){const k=Bl(st,bt),pt=Zl(k);return Al(pt)}function Nl(st,bt,k){const{opacity:pt,zIndex:at}=bt;pt!=null&&pt!==k.opacity&&st.setOpacity(pt),at!=null&&at!==k.zIndex&&st.setZIndex(at)}function Ju(){return Gu().map}function Fl({bounds:st,boundsOptions:bt,center:k,children:pt,className:at,id:Nt,placeholder:Tt,style:$,whenReady:q,zoom:ot,...ee},_){const[gt]=be.useState({className:at,id:Nt,style:$}),[yt,Pt]=be.useState(null),mt=be.useRef(void 0);be.useImperativeHandle(_,()=>yt?.map??null,[yt]);const Bt=be.useCallback(Gt=>{if(Gt!==null&&!mt.current){const It=new Sa.Map(Gt,ee);mt.current=It,k!=null&&ot!=null?It.setView(k,ot):st!=null&&It.fitBounds(st,bt),q!=null&&It.whenReady(q),Pt(El(It))}},[]);be.useEffect(()=>()=>{yt?.map.remove()},[yt]);const Jt=yt?Uu.createElement(qu,{value:yt},pt):Tt??null;return Uu.createElement("div",{...gt,ref:Bt},Jt)}const Dl=be.forwardRef(Fl),Wl=Rl(function({url:bt,...k},pt){const at=new Sa.TileLayer(bt,Ku(k,pt));return Ol(at,pt)},function(bt,k,pt){Nl(bt,k,pt);const{url:at}=k;at!=null&&at!==pt.url&&bt.setUrl(at)});var Ta={exports:{}};/*! For license information please see glify-browser.js.LICENSE.txt */var Yu;function jl(){return Yu||(Yu=1,(function(st,bt){(function(k,pt){st.exports=pt(Xu())})(self,(k=>(()=>{var pt={570:$=>{function q(v,T,h){h=h||2;var d,m,y,w,g,C,B,I=T&&T.length,X=I?T[0]*h:v.length,U=ot(v,0,X,h,!0),ht=[];if(!U||U.next===U.prev)return ht;if(I&&(U=(function(dt,wt,Ct,nt){var H,j,Ut,kt=[];for(H=0,j=wt.length;H<j;H++)(Ut=ot(dt,wt[H]*nt,H<j-1?wt[H+1]*nt:dt.length,nt,!1))===Ut.next&&(Ut.steiner=!0),kt.push(le(Ut));for(kt.sort(Bt),H=0;H<kt.length;H++)Ct=Jt(kt[H],Ct);return Ct})(v,T,U,h)),v.length>80*h){d=y=v[0],m=w=v[1];for(var V=h;V<X;V+=h)(g=v[V])<d&&(d=g),(C=v[V+1])<m&&(m=C),g>y&&(y=g),C>w&&(w=C);B=(B=Math.max(y-d,w-m))!==0?32767/B:0}return _(U,ht,h,d,m,B,0),ht}function ot(v,T,h,d,m){var y,w;if(m===Ht(v,T,h,d)>0)for(y=T;y<h;y+=d)w=K(y,v[y],v[y+1],w);else for(y=h-d;y>=T;y-=d)w=K(y,v[y],v[y+1],w);return w&&A(w,w.next)&&(Zt(w),w=w.next),w}function ee(v,T){if(!v)return v;T||(T=v);var h,d=v;do if(h=!1,d.steiner||!A(d,d.next)&&vt(d.prev,d,d.next)!==0)d=d.next;else{if(Zt(d),(d=T=d.prev)===d.next)break;h=!0}while(h||d!==T);return T}function _(v,T,h,d,m,y,w){if(v){!w&&y&&(function(I,X,U,ht){var V=I;do V.z===0&&(V.z=It(V.x,V.y,X,U,ht)),V.prevZ=V.prev,V.nextZ=V.next,V=V.next;while(V!==I);V.prevZ.nextZ=null,V.prevZ=null,(function(dt){var wt,Ct,nt,H,j,Ut,kt,Vt,Ft=1;do{for(Ct=dt,dt=null,j=null,Ut=0;Ct;){for(Ut++,nt=Ct,kt=0,wt=0;wt<Ft&&(kt++,nt=nt.nextZ);wt++);for(Vt=Ft;kt>0||Vt>0&&nt;)kt!==0&&(Vt===0||!nt||Ct.z<=nt.z)?(H=Ct,Ct=Ct.nextZ,kt--):(H=nt,nt=nt.nextZ,Vt--),j?j.nextZ=H:dt=H,H.prevZ=j,j=H;Ct=nt}j.nextZ=null,Ft*=2}while(Ut>1)})(V)})(v,d,m,y);for(var g,C,B=v;v.prev!==v.next;)if(g=v.prev,C=v.next,y?yt(v,d,m,y):gt(v))T.push(g.i/h|0),T.push(v.i/h|0),T.push(C.i/h|0),Zt(v),v=C.next,B=C.next;else if((v=C)===B){w?w===1?_(v=Pt(ee(v),T,h),T,h,d,m,y,2):w===2&&mt(v,T,h,d,m,y):_(ee(v),T,h,d,m,y,1);break}}}function gt(v){var T=v.prev,h=v,d=v.next;if(vt(T,h,d)>=0)return!1;for(var m=T.x,y=h.x,w=d.x,g=T.y,C=h.y,B=d.y,I=m<y?m<w?m:w:y<w?y:w,X=g<C?g<B?g:B:C<B?C:B,U=m>y?m>w?m:w:y>w?y:w,ht=g>C?g>B?g:B:C>B?C:B,V=d.next;V!==T;){if(V.x>=I&&V.x<=U&&V.y>=X&&V.y<=ht&&Wt(m,g,y,C,w,B,V.x,V.y)&&vt(V.prev,V,V.next)>=0)return!1;V=V.next}return!0}function yt(v,T,h,d){var m=v.prev,y=v,w=v.next;if(vt(m,y,w)>=0)return!1;for(var g=m.x,C=y.x,B=w.x,I=m.y,X=y.y,U=w.y,ht=g<C?g<B?g:B:C<B?C:B,V=I<X?I<U?I:U:X<U?X:U,dt=g>C?g>B?g:B:C>B?C:B,wt=I>X?I>U?I:U:X>U?X:U,Ct=It(ht,V,T,h,d),nt=It(dt,wt,T,h,d),H=v.prevZ,j=v.nextZ;H&&H.z>=Ct&&j&&j.z<=nt;){if(H.x>=ht&&H.x<=dt&&H.y>=V&&H.y<=wt&&H!==m&&H!==w&&Wt(g,I,C,X,B,U,H.x,H.y)&&vt(H.prev,H,H.next)>=0||(H=H.prevZ,j.x>=ht&&j.x<=dt&&j.y>=V&&j.y<=wt&&j!==m&&j!==w&&Wt(g,I,C,X,B,U,j.x,j.y)&&vt(j.prev,j,j.next)>=0))return!1;j=j.nextZ}for(;H&&H.z>=Ct;){if(H.x>=ht&&H.x<=dt&&H.y>=V&&H.y<=wt&&H!==m&&H!==w&&Wt(g,I,C,X,B,U,H.x,H.y)&&vt(H.prev,H,H.next)>=0)return!1;H=H.prevZ}for(;j&&j.z<=nt;){if(j.x>=ht&&j.x<=dt&&j.y>=V&&j.y<=wt&&j!==m&&j!==w&&Wt(g,I,C,X,B,U,j.x,j.y)&&vt(j.prev,j,j.next)>=0)return!1;j=j.nextZ}return!0}function Pt(v,T,h){var d=v;do{var m=d.prev,y=d.next.next;!A(m,y)&&O(m,d,d.next,y)&&tt(m,y)&&tt(y,m)&&(T.push(m.i/h|0),T.push(d.i/h|0),T.push(y.i/h|0),Zt(d),Zt(d.next),d=v=y),d=d.next}while(d!==v);return ee(d)}function mt(v,T,h,d,m,y){var w=v;do{for(var g=w.next.next;g!==w.prev;){if(w.i!==g.i&&$t(w,g)){var C=lt(w,g);return w=ee(w,w.next),C=ee(C,C.next),_(w,T,h,d,m,y,0),void _(C,T,h,d,m,y,0)}g=g.next}w=w.next}while(w!==v)}function Bt(v,T){return v.x-T.x}function Jt(v,T){var h=(function(m,y){var w,g=y,C=m.x,B=m.y,I=-1/0;do{if(B<=g.y&&B>=g.next.y&&g.next.y!==g.y){var X=g.x+(B-g.y)*(g.next.x-g.x)/(g.next.y-g.y);if(X<=C&&X>I&&(I=X,w=g.x<g.next.x?g:g.next,X===C))return w}g=g.next}while(g!==y);if(!w)return null;var U,ht=w,V=w.x,dt=w.y,wt=1/0;g=w;do C>=g.x&&g.x>=V&&C!==g.x&&Wt(B<dt?C:I,B,V,dt,B<dt?I:C,B,g.x,g.y)&&(U=Math.abs(B-g.y)/(C-g.x),tt(g,m)&&(U<wt||U===wt&&(g.x>w.x||g.x===w.x&&Gt(w,g)))&&(w=g,wt=U)),g=g.next;while(g!==ht);return w})(v,T);if(!h)return T;var d=lt(h,v);return ee(d,d.next),ee(h,h.next)}function Gt(v,T){return vt(v.prev,v,T.prev)<0&&vt(T.next,v,v.next)<0}function It(v,T,h,d,m){return(v=1431655765&((v=858993459&((v=252645135&((v=16711935&((v=(v-h)*m|0)|v<<8))|v<<4))|v<<2))|v<<1))|(T=1431655765&((T=858993459&((T=252645135&((T=16711935&((T=(T-d)*m|0)|T<<8))|T<<4))|T<<2))|T<<1))<<1}function le(v){var T=v,h=v;do(T.x<h.x||T.x===h.x&&T.y<h.y)&&(h=T),T=T.next;while(T!==v);return h}function Wt(v,T,h,d,m,y,w,g){return(m-w)*(T-g)>=(v-w)*(y-g)&&(v-w)*(d-g)>=(h-w)*(T-g)&&(h-w)*(y-g)>=(m-w)*(d-g)}function $t(v,T){return v.next.i!==T.i&&v.prev.i!==T.i&&!(function(h,d){var m=h;do{if(m.i!==h.i&&m.next.i!==h.i&&m.i!==d.i&&m.next.i!==d.i&&O(m,m.next,h,d))return!0;m=m.next}while(m!==h);return!1})(v,T)&&(tt(v,T)&&tt(T,v)&&(function(h,d){var m=h,y=!1,w=(h.x+d.x)/2,g=(h.y+d.y)/2;do m.y>g!=m.next.y>g&&m.next.y!==m.y&&w<(m.next.x-m.x)*(g-m.y)/(m.next.y-m.y)+m.x&&(y=!y),m=m.next;while(m!==h);return y})(v,T)&&(vt(v.prev,v,T.prev)||vt(v,T.prev,T))||A(v,T)&&vt(v.prev,v,v.next)>0&&vt(T.prev,T,T.next)>0)}function vt(v,T,h){return(T.y-v.y)*(h.x-T.x)-(T.x-v.x)*(h.y-T.y)}function A(v,T){return v.x===T.x&&v.y===T.y}function O(v,T,h,d){var m=G(vt(v,T,h)),y=G(vt(v,T,d)),w=G(vt(h,d,v)),g=G(vt(h,d,T));return m!==y&&w!==g||!(m!==0||!Q(v,h,T))||!(y!==0||!Q(v,d,T))||!(w!==0||!Q(h,v,d))||!(g!==0||!Q(h,T,d))}function Q(v,T,h){return T.x<=Math.max(v.x,h.x)&&T.x>=Math.min(v.x,h.x)&&T.y<=Math.max(v.y,h.y)&&T.y>=Math.min(v.y,h.y)}function G(v){return v>0?1:v<0?-1:0}function tt(v,T){return vt(v.prev,v,v.next)<0?vt(v,T,v.next)>=0&&vt(v,v.prev,T)>=0:vt(v,T,v.prev)<0||vt(v,v.next,T)<0}function lt(v,T){var h=new xt(v.i,v.x,v.y),d=new xt(T.i,T.x,T.y),m=v.next,y=T.prev;return v.next=T,T.prev=v,h.next=m,m.prev=h,d.next=h,h.prev=d,y.next=d,d.prev=y,d}function K(v,T,h,d){var m=new xt(v,T,h);return d?(m.next=d.next,m.prev=d,d.next.prev=m,d.next=m):(m.prev=m,m.next=m),m}function Zt(v){v.next.prev=v.prev,v.prev.next=v.next,v.prevZ&&(v.prevZ.nextZ=v.nextZ),v.nextZ&&(v.nextZ.prevZ=v.prevZ)}function xt(v,T,h){this.i=v,this.x=T,this.y=h,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ht(v,T,h,d){for(var m=0,y=T,w=h-d;y<h;y+=d)m+=(v[w]-v[y])*(v[y+1]+v[w+1]),w=y;return m}$.exports=q,$.exports.default=q,q.deviation=function(v,T,h,d){var m=T&&T.length,y=m?T[0]*h:v.length,w=Math.abs(Ht(v,0,y,h));if(m)for(var g=0,C=T.length;g<C;g++){var B=T[g]*h,I=g<C-1?T[g+1]*h:v.length;w-=Math.abs(Ht(v,B,I,h))}var X=0;for(g=0;g<d.length;g+=3){var U=d[g]*h,ht=d[g+1]*h,V=d[g+2]*h;X+=Math.abs((v[U]-v[V])*(v[ht+1]-v[U+1])-(v[U]-v[ht])*(v[V+1]-v[U+1]))}return w===0&&X===0?0:Math.abs((X-w)/w)},q.flatten=function(v){for(var T=v[0][0].length,h={vertices:[],holes:[],dimensions:T},d=0,m=0;m<v.length;m++){for(var y=0;y<v[m].length;y++)for(var w=0;w<T;w++)h.vertices.push(v[m][y][w]);m>0&&(d+=v[m-1].length,h.holes.push(d))}return h}},543:function($,q,ot){var ee;$=ot.nmd($),(function(){var _,gt="Expected a function",yt="__lodash_hash_undefined__",Pt="__lodash_placeholder__",mt=32,Bt=128,Jt=1/0,Gt=9007199254740991,It=NaN,le=4294967295,Wt=[["ary",Bt],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",mt],["partialRight",64],["rearg",256]],$t="[object Arguments]",vt="[object Array]",A="[object Boolean]",O="[object Date]",Q="[object Error]",G="[object Function]",tt="[object GeneratorFunction]",lt="[object Map]",K="[object Number]",Zt="[object Object]",xt="[object Promise]",Ht="[object RegExp]",v="[object Set]",T="[object String]",h="[object Symbol]",d="[object WeakMap]",m="[object ArrayBuffer]",y="[object DataView]",w="[object Float32Array]",g="[object Float64Array]",C="[object Int8Array]",B="[object Int16Array]",I="[object Int32Array]",X="[object Uint8Array]",U="[object Uint8ClampedArray]",ht="[object Uint16Array]",V="[object Uint32Array]",dt=/\b__p \+= '';/g,wt=/\b(__p \+=) '' \+/g,Ct=/(__e\(.*?\)|\b__t\)) \+\n'';/g,nt=/&(?:amp|lt|gt|quot|#39);/g,H=/[&<>"']/g,j=RegExp(nt.source),Ut=RegExp(H.source),kt=/<%-([\s\S]+?)%>/g,Vt=/<%([\s\S]+?)%>/g,Ft=/<%=([\s\S]+?)%>/g,me=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ie=/^\w*$/,ke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_e=/[\\^$.*+?()[\]{}|]/g,Qt=RegExp(_e.source),Ue=/^\s+/,Ve=/\s/,hi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ho=/\{\n\/\* \[wrapped with (.+)\] \*/,ms=/,? & /,lo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ir=/[()=,{}\[\]\/\s]/,co=/\\(\\)?/g,vs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,li=/\w*$/,gs=/^[-+]0x[0-9a-f]+$/i,ys=/^0b[01]+$/i,fo=/^\[object .+?Constructor\]$/,_o=/^0o[0-7]+$/i,po=/^(?:0|[1-9]\d*)$/,xs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,tr=/($^)/,ws=/['\n\r\u2028\u2029\\]/g,er="\\ud800-\\udfff",mo="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",vo="\\u2700-\\u27bf",nr="a-z\\xdf-\\xf6\\xf8-\\xff",go="A-Z\\xc0-\\xd6\\xd8-\\xde",yo="\\ufe0e\\ufe0f",xo="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bs="["+er+"]",cn="["+xo+"]",_t="["+mo+"]",Zr="\\d+",wo="["+vo+"]",Rr="["+nr+"]",Nr="[^"+er+xo+Zr+vo+nr+go+"]",Oi="\\ud83c[\\udffb-\\udfff]",Fr="[^"+er+"]",On="(?:\\ud83c[\\udde6-\\uddff]){2}",ir="[\\ud800-\\udbff][\\udc00-\\udfff]",ci="["+go+"]",bo="\\u200d",Lo="(?:"+Rr+"|"+Nr+")",Ls="(?:"+ci+"|"+Nr+")",Dr="(?:['](?:d|ll|m|re|s|t|ve))?",Po="(?:['](?:D|LL|M|RE|S|T|VE))?",Bi="(?:"+_t+"|"+Oi+")?",To="["+yo+"]?",So=To+Bi+"(?:"+bo+"(?:"+[Fr,On,ir].join("|")+")"+To+Bi+")*",Ps="(?:"+[wo,On,ir].join("|")+")"+So,Ts="(?:"+[Fr+_t+"?",_t,On,ir,bs].join("|")+")",Ss=RegExp("[']","g"),Wr=RegExp(_t,"g"),Jn=RegExp(Oi+"(?="+Oi+")|"+Ts+So,"g"),Mo=RegExp([ci+"?"+Rr+"+"+Dr+"(?="+[cn,ci,"$"].join("|")+")",Ls+"+"+Po+"(?="+[cn,ci+Lo,"$"].join("|")+")",ci+"?"+Lo+"+"+Dr,ci+"+"+Po,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Zr,Ps].join("|"),"g"),Co=RegExp("["+bo+er+mo+yo+"]"),Ii=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,oe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ve=-1,ce={};ce[w]=ce[g]=ce[C]=ce[B]=ce[I]=ce[X]=ce[U]=ce[ht]=ce[V]=!0,ce[$t]=ce[vt]=ce[m]=ce[A]=ce[y]=ce[O]=ce[Q]=ce[G]=ce[lt]=ce[K]=ce[Zt]=ce[Ht]=ce[v]=ce[T]=ce[d]=!1;var se={};se[$t]=se[vt]=se[m]=se[y]=se[A]=se[O]=se[w]=se[g]=se[C]=se[B]=se[I]=se[lt]=se[K]=se[Zt]=se[Ht]=se[v]=se[T]=se[h]=se[X]=se[U]=se[ht]=se[V]=!0,se[Q]=se[G]=se[d]=!1;var fi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},jr=parseFloat,Kt=parseInt,ye=typeof ot.g=="object"&&ot.g&&ot.g.Object===Object&&ot.g,Hr=typeof self=="object"&&self&&self.Object===Object&&self,Pe=ye||Hr||Function("return this")(),Xe=q&&!q.nodeType&&q,Zi=Xe&&$&&!$.nodeType&&$,Ri=Zi&&Zi.exports===Xe,Mn=Ri&&ye.process,ae=(function(){try{return Zi&&Zi.require&&Zi.require("util").types||Mn&&Mn.binding&&Mn.binding("util")}catch{}})(),Bn=ae&&ae.isArrayBuffer,di=ae&&ae.isDate,_i=ae&&ae.isMap,rr=ae&&ae.isRegExp,pi=ae&&ae.isSet,or=ae&&ae.isTypedArray;function Fe(E,Z,F){switch(F.length){case 0:return E.call(Z);case 1:return E.call(Z,F[0]);case 2:return E.call(Z,F[0],F[1]);case 3:return E.call(Z,F[0],F[1],F[2])}return E.apply(Z,F)}function sr(E,Z,F,rt){for(var Rt=-1,re=E==null?0:E.length;++Rt<re;){var Se=E[Rt];Z(rt,Se,F(Se),E)}return rt}function Ye(E,Z){for(var F=-1,rt=E==null?0:E.length;++F<rt&&Z(E[F],F,E)!==!1;);return E}function Ur(E,Z){for(var F=E==null?0:E.length;F--&&Z(E[F],F,E)!==!1;);return E}function Ni(E,Z){for(var F=-1,rt=E==null?0:E.length;++F<rt;)if(!Z(E[F],F,E))return!1;return!0}function Cn(E,Z){for(var F=-1,rt=E==null?0:E.length,Rt=0,re=[];++F<rt;){var Se=E[F];Z(Se,F,E)&&(re[Rt++]=Se)}return re}function mi(E,Z){return!(E==null||!E.length)&&In(E,Z,0)>-1}function Vr(E,Z,F){for(var rt=-1,Rt=E==null?0:E.length;++rt<Rt;)if(F(Z,E[rt]))return!0;return!1}function ut(E,Z){for(var F=-1,rt=E==null?0:E.length,Rt=Array(rt);++F<rt;)Rt[F]=Z(E[F],F,E);return Rt}function Oe(E,Z){for(var F=-1,rt=Z.length,Rt=E.length;++F<rt;)E[Rt+F]=Z[F];return E}function fe(E,Z,F,rt){var Rt=-1,re=E==null?0:E.length;for(rt&&re&&(F=E[++Rt]);++Rt<re;)F=Z(F,E[Rt],Rt,E);return F}function Eo(E,Z,F,rt){var Rt=E==null?0:E.length;for(rt&&Rt&&(F=E[--Rt]);Rt--;)F=Z(F,E[Rt],Rt,E);return F}function Fi(E,Z){for(var F=-1,rt=E==null?0:E.length;++F<rt;)if(Z(E[F],F,E))return!0;return!1}var Yr=ur("length");function ar(E,Z,F){var rt;return F(E,(function(Rt,re,Se){if(Z(Rt,re,Se))return rt=re,!1})),rt}function mn(E,Z,F,rt){for(var Rt=E.length,re=F+(rt?1:-1);rt?re--:++re<Rt;)if(Z(E[re],re,E))return re;return-1}function In(E,Z,F){return Z==Z?(function(rt,Rt,re){for(var Se=re-1,en=rt.length;++Se<en;)if(rt[Se]===Rt)return Se;return-1})(E,Z,F):mn(E,Ee,F)}function Di(E,Z,F,rt){for(var Rt=F-1,re=E.length;++Rt<re;)if(rt(E[Rt],Z))return Rt;return-1}function Ee(E){return E!=E}function Zn(E,Z){var F=E==null?0:E.length;return F?lr(E,Z)/F:It}function ur(E){return function(Z){return Z==null?_:Z[E]}}function hr(E){return function(Z){return E==null?_:E[Z]}}function Ao(E,Z,F,rt,Rt){return Rt(E,(function(re,Se,en){F=rt?(rt=!1,re):Z(F,re,Se,en)})),F}function lr(E,Z){for(var F,rt=-1,Rt=E.length;++rt<Rt;){var re=Z(E[rt]);re!==_&&(F=F===_?re:F+re)}return F}function Wi(E,Z){for(var F=-1,rt=Array(E);++F<E;)rt[F]=Z(F);return rt}function zo(E){return E&&E.slice(0,Gr(E)+1).replace(Ue,"")}function qe(E){return function(Z){return E(Z)}}function ne(E,Z){return ut(Z,(function(F){return E[F]}))}function ji(E,Z){return E.has(Z)}function tn(E,Z){for(var F=-1,rt=E.length;++F<rt&&In(Z,E[F],0)>-1;);return F}function vi(E,Z){for(var F=E.length;F--&&In(Z,E[F],0)>-1;);return F}var ko=hr({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),Ms=hr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function qr(E){return"\\"+fi[E]}function gi(E){return Co.test(E)}function cr(E){var Z=-1,F=Array(E.size);return E.forEach((function(rt,Rt){F[++Z]=[Rt,rt]})),F}function Oo(E,Z){return function(F){return E(Z(F))}}function Rn(E,Z){for(var F=-1,rt=E.length,Rt=0,re=[];++F<rt;){var Se=E[F];Se!==Z&&Se!==Pt||(E[F]=Pt,re[Rt++]=F)}return re}function yi(E){var Z=-1,F=Array(E.size);return E.forEach((function(rt){F[++Z]=rt})),F}function Cs(E){var Z=-1,F=Array(E.size);return E.forEach((function(rt){F[++Z]=[rt,rt]})),F}function De(E){return gi(E)?(function(Z){for(var F=Jn.lastIndex=0;Jn.test(Z);)++F;return F})(E):Yr(E)}function fn(E){return gi(E)?(function(Z){return Z.match(Jn)||[]})(E):(function(Z){return Z.split("")})(E)}function Gr(E){for(var Z=E.length;Z--&&Ve.test(E.charAt(Z)););return Z}var Nn=hr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Hi=(function E(Z){var F,rt=(Z=Z==null?Pe:Hi.defaults(Pe.Object(),Z,Hi.pick(Pe,oe))).Array,Rt=Z.Date,re=Z.Error,Se=Z.Function,en=Z.Math,pe=Z.Object,fr=Z.RegExp,Bo=Z.String,We=Z.TypeError,vn=rt.prototype,Es=Se.prototype,gn=pe.prototype,je=Z["__core-js_shared__"],Ui=Es.toString,ue=gn.hasOwnProperty,As=0,dr=(F=/[^.]+$/.exec(je&&je.keys&&je.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"",xi=gn.toString,zs=Ui.call(pe),ks=Pe._,Io=fr("^"+Ui.call(ue).replace(_e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_r=Ri?Z.Buffer:_,Ae=Z.Symbol,En=Z.Uint8Array,Zo=_r?_r.allocUnsafe:_,nn=Oo(pe.getPrototypeOf,pe),Ro=pe.create,$n=gn.propertyIsEnumerable,pr=vn.splice,wi=Ae?Ae.isConcatSpreadable:_,bi=Ae?Ae.iterator:_,yn=Ae?Ae.toStringTag:_,mr=(function(){try{var e=Xi(pe,"defineProperty");return e({},"",{}),e}catch{}})(),Fn=Z.clearTimeout!==Pe.clearTimeout&&Z.clearTimeout,vr=Rt&&Rt.now!==Pe.Date.now&&Rt.now,Os=Z.setTimeout!==Pe.setTimeout&&Z.setTimeout,Li=en.ceil,gr=en.floor,dn=pe.getOwnPropertySymbols,Bs=_r?_r.isBuffer:_,Qn=Z.isFinite,Is=vn.join,An=Oo(pe.keys,pe),xe=en.max,Be=en.min,Kr=Rt.now,yr=Z.parseInt,xr=en.random,wr=vn.reverse,Dn=Xi(Z,"DataView"),Wn=Xi(Z,"Map"),Vi=Xi(Z,"Promise"),ti=Xi(Z,"Set"),Yi=Xi(Z,"WeakMap"),jn=Xi(pe,"create"),br=Yi&&new Yi,ei={},Zs=Ji(Dn),No=Ji(Wn),Rs=Ji(Vi),xn=Ji(ti),Lr=Ji(Yi),Pr=Ae?Ae.prototype:_,Hn=Pr?Pr.valueOf:_,Fo=Pr?Pr.toString:_;function f(e){if(Te(e)&&!qt(e)&&!(e instanceof Yt)){if(e instanceof rn)return e;if(ue.call(e,"__wrapped__"))return hu(e)}return new rn(e)}var Pi=(function(){function e(){}return function(i){if(!Le(i))return{};if(Ro)return Ro(i);e.prototype=i;var o=new e;return e.prototype=_,o}})();function Un(){}function rn(e,i){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=_}function Yt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=le,this.__views__=[]}function Vn(e){var i=-1,o=e==null?0:e.length;for(this.clear();++i<o;){var u=e[i];this.set(u[0],u[1])}}function wn(e){var i=-1,o=e==null?0:e.length;for(this.clear();++i<o;){var u=e[i];this.set(u[0],u[1])}}function zn(e){var i=-1,o=e==null?0:e.length;for(this.clear();++i<o;){var u=e[i];this.set(u[0],u[1])}}function He(e){var i=-1,o=e==null?0:e.length;for(this.__data__=new zn;++i<o;)this.add(e[i])}function on(e){var i=this.__data__=new wn(e);this.size=i.size}function Xr(e,i){var o=qt(e),u=!o&&$i(e),l=!o&&!u&&zi(e),p=!o&&!u&&!l&&Or(e),b=o||u||l||p,P=b?Wi(e.length,Bo):[],M=P.length;for(var N in e)!i&&!ue.call(e,N)||b&&(N=="length"||l&&(N=="offset"||N=="parent")||p&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||oi(N,M))||P.push(N);return P}function Ti(e){var i=e.length;return i?e[Ws(0,i-1)]:_}function Ns(e,i){return es(an(e),Yn(i,0,e.length))}function Tr(e){return es(an(e))}function ni(e,i,o){(o!==_&&!kn(e[i],o)||o===_&&!(i in e))&&bn(e,i,o)}function Si(e,i,o){var u=e[i];ue.call(e,i)&&kn(u,o)&&(o!==_||i in e)||bn(e,i,o)}function qi(e,i){for(var o=e.length;o--;)if(kn(e[o][0],i))return o;return-1}function Fs(e,i,o,u){return qn(e,(function(l,p,b){i(u,l,o(l),b)})),u}function Jr(e,i){return e&&Gn(i,Ne(i),e)}function bn(e,i,o){i=="__proto__"&&mr?mr(e,i,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[i]=o}function Sr(e,i){for(var o=-1,u=i.length,l=rt(u),p=e==null;++o<u;)l[o]=p?_:_a(e,i[o]);return l}function Yn(e,i,o){return e==e&&(o!==_&&(e=e<=o?e:o),i!==_&&(e=e>=i?e:i)),e}function Je(e,i,o,u,l,p){var b,P=1&i,M=2&i,N=4&i;if(o&&(b=l?o(e,u,l,p):o(e)),b!==_)return b;if(!Le(e))return e;var R=qt(e);if(R){if(b=(function(D){var J=D.length,At=new D.constructor(J);return J&&typeof D[0]=="string"&&ue.call(D,"index")&&(At.index=D.index,At.input=D.input),At})(e),!P)return an(e,b)}else{var Y=Ge(e),ct=Y==G||Y==tt;if(zi(e))return Ia(e,P);if(Y==Zt||Y==$t||ct&&!l){if(b=M||ct?{}:tu(e),!P)return M?(function(D,J){return Gn(D,$a(D),J)})(e,(function(D,J){return D&&Gn(J,hn(J),D)})(b,e)):(function(D,J){return Gn(D,ea(D),J)})(e,Jr(b,e))}else{if(!se[Y])return l?e:{};b=(function(D,J,At){var et,jt=D.constructor;switch(J){case m:return Gs(D);case A:case O:return new jt(+D);case y:return(function(Dt,he){var Lt=he?Gs(Dt.buffer):Dt.buffer;return new Dt.constructor(Lt,Dt.byteOffset,Dt.byteLength)})(D,At);case w:case g:case C:case B:case I:case X:case U:case ht:case V:return Za(D,At);case lt:return new jt;case K:case T:return new jt(D);case Ht:return(function(Dt){var he=new Dt.constructor(Dt.source,li.exec(Dt));return he.lastIndex=Dt.lastIndex,he})(D);case v:return new jt;case h:return et=D,Hn?pe(Hn.call(et)):{}}})(e,Y,P)}}p||(p=new on);var ft=p.get(e);if(ft)return ft;p.set(e,b),Mu(e)?e.forEach((function(D){b.add(Je(D,i,o,D,e,p))})):Tu(e)&&e.forEach((function(D,J){b.set(J,Je(D,i,o,J,e,p))}));var Mt=R?_:(N?M?$s:Js:M?hn:Ne)(e);return Ye(Mt||e,(function(D,J){Mt&&(D=e[J=D]),Si(b,J,Je(D,i,o,J,e,p))})),b}function Do(e,i,o){var u=o.length;if(e==null)return!u;for(e=pe(e);u--;){var l=o[u],p=i[l],b=e[l];if(b===_&&!(l in e)||!p(b))return!1}return!0}function $r(e,i,o){if(typeof e!="function")throw new We(gt);return oo((function(){e.apply(_,o)}),i)}function Mi(e,i,o,u){var l=-1,p=mi,b=!0,P=e.length,M=[],N=i.length;if(!P)return M;o&&(i=ut(i,qe(o))),u?(p=Vr,b=!1):i.length>=200&&(p=ji,b=!1,i=new He(i));t:for(;++l<P;){var R=e[l],Y=o==null?R:o(R);if(R=u||R!==0?R:0,b&&Y==Y){for(var ct=N;ct--;)if(i[ct]===Y)continue t;M.push(R)}else p(i,Y,u)||M.push(R)}return M}f.templateSettings={escape:kt,evaluate:Vt,interpolate:Ft,variable:"",imports:{_:f}},f.prototype=Un.prototype,f.prototype.constructor=f,rn.prototype=Pi(Un.prototype),rn.prototype.constructor=rn,Yt.prototype=Pi(Un.prototype),Yt.prototype.constructor=Yt,Vn.prototype.clear=function(){this.__data__=jn?jn(null):{},this.size=0},Vn.prototype.delete=function(e){var i=this.has(e)&&delete this.__data__[e];return this.size-=i?1:0,i},Vn.prototype.get=function(e){var i=this.__data__;if(jn){var o=i[e];return o===yt?_:o}return ue.call(i,e)?i[e]:_},Vn.prototype.has=function(e){var i=this.__data__;return jn?i[e]!==_:ue.call(i,e)},Vn.prototype.set=function(e,i){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=jn&&i===_?yt:i,this},wn.prototype.clear=function(){this.__data__=[],this.size=0},wn.prototype.delete=function(e){var i=this.__data__,o=qi(i,e);return!(o<0||(o==i.length-1?i.pop():pr.call(i,o,1),--this.size,0))},wn.prototype.get=function(e){var i=this.__data__,o=qi(i,e);return o<0?_:i[o][1]},wn.prototype.has=function(e){return qi(this.__data__,e)>-1},wn.prototype.set=function(e,i){var o=this.__data__,u=qi(o,e);return u<0?(++this.size,o.push([e,i])):o[u][1]=i,this},zn.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(Wn||wn),string:new Vn}},zn.prototype.delete=function(e){var i=ts(this,e).delete(e);return this.size-=i?1:0,i},zn.prototype.get=function(e){return ts(this,e).get(e)},zn.prototype.has=function(e){return ts(this,e).has(e)},zn.prototype.set=function(e,i){var o=ts(this,e),u=o.size;return o.set(e,i),this.size+=o.size==u?0:1,this},He.prototype.add=He.prototype.push=function(e){return this.__data__.set(e,yt),this},He.prototype.has=function(e){return this.__data__.has(e)},on.prototype.clear=function(){this.__data__=new wn,this.size=0},on.prototype.delete=function(e){var i=this.__data__,o=i.delete(e);return this.size=i.size,o},on.prototype.get=function(e){return this.__data__.get(e)},on.prototype.has=function(e){return this.__data__.has(e)},on.prototype.set=function(e,i){var o=this.__data__;if(o instanceof wn){var u=o.__data__;if(!Wn||u.length<199)return u.push([e,i]),this.size=++o.size,this;o=this.__data__=new zn(u)}return o.set(e,i),this.size=o.size,this};var qn=Da(S),t=Da(z,!0);function n(e,i){var o=!0;return qn(e,(function(u,l,p){return o=!!i(u,l,p)})),o}function r(e,i,o){for(var u=-1,l=e.length;++u<l;){var p=e[u],b=i(p);if(b!=null&&(P===_?b==b&&!pn(b):o(b,P)))var P=b,M=p}return M}function s(e,i){var o=[];return qn(e,(function(u,l,p){i(u,l,p)&&o.push(u)})),o}function a(e,i,o,u,l){var p=-1,b=e.length;for(o||(o=sh),l||(l=[]);++p<b;){var P=e[p];i>0&&o(P)?i>1?a(P,i-1,o,u,l):Oe(l,P):u||(l[l.length]=P)}return l}var c=Wa(),x=Wa(!0);function S(e,i){return e&&c(e,i,Ne)}function z(e,i){return e&&x(e,i,Ne)}function W(e,i){return Cn(i,(function(o){return si(e[o])}))}function it(e,i){for(var o=0,u=(i=Ei(i,e)).length;e!=null&&o<u;)e=e[Kn(i[o++])];return o&&o==u?e:_}function Et(e,i,o){var u=i(e);return qt(e)?u:Oe(u,o(e))}function St(e){return e==null?e===_?"[object Undefined]":"[object Null]":yn&&yn in pe(e)?(function(i){var o=ue.call(i,yn),u=i[yn];try{i[yn]=_;var l=!0}catch{}var p=xi.call(i);return l&&(o?i[yn]=u:delete i[yn]),p})(e):(function(i){return xi.call(i)})(e)}function Ie(e,i){return e>i}function ze(e,i){return e!=null&&ue.call(e,i)}function sn(e,i){return e!=null&&i in pe(e)}function Re(e,i,o){for(var u=o?Vr:mi,l=e[0].length,p=e.length,b=p,P=rt(p),M=1/0,N=[];b--;){var R=e[b];b&&i&&(R=ut(R,qe(i))),M=Be(R.length,M),P[b]=!o&&(i||l>=120&&R.length>=120)?new He(b&&R):_}R=e[0];var Y=-1,ct=P[0];t:for(;++Y<l&&N.length<M;){var ft=R[Y],Mt=i?i(ft):ft;if(ft=o||ft!==0?ft:0,!(ct?ji(ct,Mt):u(N,Mt,o))){for(b=p;--b;){var D=P[b];if(!(D?ji(D,Mt):u(e[b],Mt,o)))continue t}ct&&ct.push(Mt),N.push(ft)}}return N}function Ln(e,i,o){var u=(e=ru(e,i=Ei(i,e)))==null?e:e[Kn(Tn(i))];return u==null?_:Fe(u,e,o)}function Wo(e){return Te(e)&&St(e)==$t}function Gi(e,i,o,u,l){return e===i||(e==null||i==null||!Te(e)&&!Te(i)?e!=e&&i!=i:(function(p,b,P,M,N,R){var Y=qt(p),ct=qt(b),ft=Y?vt:Ge(p),Mt=ct?vt:Ge(b),D=(ft=ft==$t?Zt:ft)==Zt,J=(Mt=Mt==$t?Zt:Mt)==Zt,At=ft==Mt;if(At&&zi(p)){if(!zi(b))return!1;Y=!0,D=!1}if(At&&!D)return R||(R=new on),Y||Or(p)?Ja(p,b,P,M,N,R):(function(Lt,Ot,Ze,Ce,Qe,ge,Ke){switch(Ze){case y:if(Lt.byteLength!=Ot.byteLength||Lt.byteOffset!=Ot.byteOffset)return!1;Lt=Lt.buffer,Ot=Ot.buffer;case m:return!(Lt.byteLength!=Ot.byteLength||!ge(new En(Lt),new En(Ot)));case A:case O:case K:return kn(+Lt,+Ot);case Q:return Lt.name==Ot.name&&Lt.message==Ot.message;case Ht:case T:return Lt==Ot+"";case lt:var Xn=cr;case v:var ki=1&Ce;if(Xn||(Xn=yi),Lt.size!=Ot.size&&!ki)return!1;var Qi=Ke.get(Lt);if(Qi)return Qi==Ot;Ce|=2,Ke.set(Lt,Ot);var ui=Ja(Xn(Lt),Xn(Ot),Ce,Qe,ge,Ke);return Ke.delete(Lt),ui;case h:if(Hn)return Hn.call(Lt)==Hn.call(Ot)}return!1})(p,b,ft,P,M,N,R);if(!(1&P)){var et=D&&ue.call(p,"__wrapped__"),jt=J&&ue.call(b,"__wrapped__");if(et||jt){var Dt=et?p.value():p,he=jt?b.value():b;return R||(R=new on),N(Dt,he,P,M,R)}}return!!At&&(R||(R=new on),(function(Lt,Ot,Ze,Ce,Qe,ge){var Ke=1&Ze,Xn=Js(Lt),ki=Xn.length;if(ki!=Js(Ot).length&&!Ke)return!1;for(var Qi=ki;Qi--;){var ui=Xn[Qi];if(!(Ke?ui in Ot:ue.call(Ot,ui)))return!1}var Wu=ge.get(Lt),ju=ge.get(Ot);if(Wu&&ju)return Wu==Ot&&ju==Lt;var ls=!0;ge.set(Lt,Ot),ge.set(Ot,Lt);for(var Pa=Ke;++Qi<ki;){var cs=Lt[ui=Xn[Qi]],fs=Ot[ui];if(Ce)var Hu=Ke?Ce(fs,cs,ui,Ot,Lt,ge):Ce(cs,fs,ui,Lt,Ot,ge);if(!(Hu===_?cs===fs||Qe(cs,fs,Ze,Ce,ge):Hu)){ls=!1;break}Pa||(Pa=ui=="constructor")}if(ls&&!Pa){var ds=Lt.constructor,_s=Ot.constructor;ds==_s||!("constructor"in Lt)||!("constructor"in Ot)||typeof ds=="function"&&ds instanceof ds&&typeof _s=="function"&&_s instanceof _s||(ls=!1)}return ge.delete(Lt),ge.delete(Ot),ls})(p,b,P,M,N,R))})(e,i,o,u,Gi,l))}function Qr(e,i,o,u){var l=o.length,p=l,b=!u;if(e==null)return!p;for(e=pe(e);l--;){var P=o[l];if(b&&P[2]?P[1]!==e[P[0]]:!(P[0]in e))return!1}for(;++l<p;){var M=(P=o[l])[0],N=e[M],R=P[1];if(b&&P[2]){if(N===_&&!(M in e))return!1}else{var Y=new on;if(u)var ct=u(N,R,M,e,i,Y);if(!(ct===_?Gi(R,N,3,u,Y):ct))return!1}}return!0}function to(e){return!(!Le(e)||(i=e,dr&&dr in i))&&(si(e)?Io:fo).test(Ji(e));var i}function jo(e){return typeof e=="function"?e:e==null?ln:typeof e=="object"?qt(e)?Uo(e[0],e[1]):Ho(e):Du(e)}function Mr(e){if(!ro(e))return An(e);var i=[];for(var o in pe(e))ue.call(e,o)&&o!="constructor"&&i.push(o);return i}function we(e,i){return e<i}function Ki(e,i){var o=-1,u=un(e)?rt(e.length):[];return qn(e,(function(l,p,b){u[++o]=i(l,p,b)})),u}function Ho(e){var i=ta(e);return i.length==1&&i[0][2]?nu(i[0][0],i[0][1]):function(o){return o===e||Qr(o,e,i)}}function Uo(e,i){return na(e)&&eu(i)?nu(Kn(e),i):function(o){var u=_a(o,e);return u===_&&u===i?pa(o,e):Gi(i,u,3)}}function Cr(e,i,o,u,l){e!==i&&c(i,(function(p,b){if(l||(l=new on),Le(p))(function(M,N,R,Y,ct,ft,Mt){var D=ra(M,R),J=ra(N,R),At=Mt.get(J);if(At)ni(M,R,At);else{var et=ft?ft(D,J,R+"",M,N,Mt):_,jt=et===_;if(jt){var Dt=qt(J),he=!Dt&&zi(J),Lt=!Dt&&!he&&Or(J);et=J,Dt||he||Lt?qt(D)?et=D:Me(D)?et=an(D):he?(jt=!1,et=Ia(J,!0)):Lt?(jt=!1,et=Za(J,!0)):et=[]:so(J)||$i(J)?(et=D,$i(D)?et=Au(D):Le(D)&&!si(D)||(et=tu(J))):jt=!1}jt&&(Mt.set(J,et),ct(et,J,Y,ft,Mt),Mt.delete(J)),ni(M,R,et)}})(e,i,b,o,Cr,u,l);else{var P=u?u(ra(e,b),p,b+"",e,i,l):_;P===_&&(P=p),ni(e,b,P)}}),hn)}function Er(e,i){var o=e.length;if(o)return oi(i+=i<0?o:0,o)?e[i]:_}function eo(e,i,o){i=i.length?ut(i,(function(p){return qt(p)?function(b){return it(b,p.length===1?p[0]:p)}:p})):[ln];var u=-1;i=ut(i,qe(zt()));var l=Ki(e,(function(p,b,P){var M=ut(i,(function(N){return N(p)}));return{criteria:M,index:++u,value:p}}));return(function(p,b){var P=p.length;for(p.sort((function(M,N){return(function(R,Y,ct){for(var ft=-1,Mt=R.criteria,D=Y.criteria,J=Mt.length,At=ct.length;++ft<J;){var et=Ra(Mt[ft],D[ft]);if(et)return ft>=At?et:et*(ct[ft]=="desc"?-1:1)}return R.index-Y.index})(M,N,o)}));P--;)p[P]=p[P].value;return p})(l)}function Vo(e,i,o){for(var u=-1,l=i.length,p={};++u<l;){var b=i[u],P=it(e,b);o(P,b)&&no(p,Ei(b,e),P)}return p}function Ds(e,i,o,u){var l=u?Di:In,p=-1,b=i.length,P=e;for(e===i&&(i=an(i)),o&&(P=ut(e,qe(o)));++p<b;)for(var M=0,N=i[p],R=o?o(N):N;(M=l(P,R,M,u))>-1;)P!==e&&pr.call(P,M,1),pr.call(e,M,1);return e}function Ma(e,i){for(var o=e?i.length:0,u=o-1;o--;){var l=i[o];if(o==u||l!==p){var p=l;oi(l)?pr.call(e,l,1):Us(e,l)}}return e}function Ws(e,i){return e+gr(xr()*(i-e+1))}function js(e,i){var o="";if(!e||i<1||i>Gt)return o;do i%2&&(o+=e),(i=gr(i/2))&&(e+=e);while(i);return o}function te(e,i){return oa(iu(e,i,ln),e+"")}function $u(e){return Ti(Br(e))}function Qu(e,i){var o=Br(e);return es(o,Yn(i,0,o.length))}function no(e,i,o,u){if(!Le(e))return e;for(var l=-1,p=(i=Ei(i,e)).length,b=p-1,P=e;P!=null&&++l<p;){var M=Kn(i[l]),N=o;if(M==="__proto__"||M==="constructor"||M==="prototype")return e;if(l!=b){var R=P[M];(N=u?u(R,M,P):_)===_&&(N=Le(R)?R:oi(i[l+1])?[]:{})}Si(P,M,N),P=P[M]}return e}var Ca=br?function(e,i){return br.set(e,i),e}:ln,th=mr?function(e,i){return mr(e,"toString",{configurable:!0,enumerable:!1,value:va(i),writable:!0})}:ln;function eh(e){return es(Br(e))}function Pn(e,i,o){var u=-1,l=e.length;i<0&&(i=-i>l?0:l+i),(o=o>l?l:o)<0&&(o+=l),l=i>o?0:o-i>>>0,i>>>=0;for(var p=rt(l);++u<l;)p[u]=e[u+i];return p}function nh(e,i){var o;return qn(e,(function(u,l,p){return!(o=i(u,l,p))})),!!o}function Yo(e,i,o){var u=0,l=e==null?u:e.length;if(typeof i=="number"&&i==i&&l<=2147483647){for(;u<l;){var p=u+l>>>1,b=e[p];b!==null&&!pn(b)&&(o?b<=i:b<i)?u=p+1:l=p}return l}return Hs(e,i,ln,o)}function Hs(e,i,o,u){var l=0,p=e==null?0:e.length;if(p===0)return 0;for(var b=(i=o(i))!=i,P=i===null,M=pn(i),N=i===_;l<p;){var R=gr((l+p)/2),Y=o(e[R]),ct=Y!==_,ft=Y===null,Mt=Y==Y,D=pn(Y);if(b)var J=u||Mt;else J=N?Mt&&(u||ct):P?Mt&&ct&&(u||!ft):M?Mt&&ct&&!ft&&(u||!D):!ft&&!D&&(u?Y<=i:Y<i);J?l=R+1:p=R}return Be(p,4294967294)}function Ea(e,i){for(var o=-1,u=e.length,l=0,p=[];++o<u;){var b=e[o],P=i?i(b):b;if(!o||!kn(P,M)){var M=P;p[l++]=b===0?0:b}}return p}function Aa(e){return typeof e=="number"?e:pn(e)?It:+e}function _n(e){if(typeof e=="string")return e;if(qt(e))return ut(e,_n)+"";if(pn(e))return Fo?Fo.call(e):"";var i=e+"";return i=="0"&&1/e==-1/0?"-0":i}function Ci(e,i,o){var u=-1,l=mi,p=e.length,b=!0,P=[],M=P;if(o)b=!1,l=Vr;else if(p>=200){var N=i?null:rh(e);if(N)return yi(N);b=!1,l=ji,M=new He}else M=i?[]:P;t:for(;++u<p;){var R=e[u],Y=i?i(R):R;if(R=o||R!==0?R:0,b&&Y==Y){for(var ct=M.length;ct--;)if(M[ct]===Y)continue t;i&&M.push(Y),P.push(R)}else l(M,Y,o)||(M!==P&&M.push(Y),P.push(R))}return P}function Us(e,i){return(e=ru(e,i=Ei(i,e)))==null||delete e[Kn(Tn(i))]}function za(e,i,o,u){return no(e,i,o(it(e,i)),u)}function qo(e,i,o,u){for(var l=e.length,p=u?l:-1;(u?p--:++p<l)&&i(e[p],p,e););return o?Pn(e,u?0:p,u?p+1:l):Pn(e,u?p+1:0,u?l:p)}function ka(e,i){var o=e;return o instanceof Yt&&(o=o.value()),fe(i,(function(u,l){return l.func.apply(l.thisArg,Oe([u],l.args))}),o)}function Vs(e,i,o){var u=e.length;if(u<2)return u?Ci(e[0]):[];for(var l=-1,p=rt(u);++l<u;)for(var b=e[l],P=-1;++P<u;)P!=l&&(p[l]=Mi(p[l]||b,e[P],i,o));return Ci(a(p,1),i,o)}function Oa(e,i,o){for(var u=-1,l=e.length,p=i.length,b={};++u<l;){var P=u<p?i[u]:_;o(b,e[u],P)}return b}function Ys(e){return Me(e)?e:[]}function qs(e){return typeof e=="function"?e:ln}function Ei(e,i){return qt(e)?e:na(e,i)?[e]:uu(de(e))}var ih=te;function Ai(e,i,o){var u=e.length;return o=o===_?u:o,!i&&o>=u?e:Pn(e,i,o)}var Ba=Fn||function(e){return Pe.clearTimeout(e)};function Ia(e,i){if(i)return e.slice();var o=e.length,u=Zo?Zo(o):new e.constructor(o);return e.copy(u),u}function Gs(e){var i=new e.constructor(e.byteLength);return new En(i).set(new En(e)),i}function Za(e,i){var o=i?Gs(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}function Ra(e,i){if(e!==i){var o=e!==_,u=e===null,l=e==e,p=pn(e),b=i!==_,P=i===null,M=i==i,N=pn(i);if(!P&&!N&&!p&&e>i||p&&b&&M&&!P&&!N||u&&b&&M||!o&&M||!l)return 1;if(!u&&!p&&!N&&e<i||N&&o&&l&&!u&&!p||P&&o&&l||!b&&l||!M)return-1}return 0}function Na(e,i,o,u){for(var l=-1,p=e.length,b=o.length,P=-1,M=i.length,N=xe(p-b,0),R=rt(M+N),Y=!u;++P<M;)R[P]=i[P];for(;++l<b;)(Y||l<p)&&(R[o[l]]=e[l]);for(;N--;)R[P++]=e[l++];return R}function Fa(e,i,o,u){for(var l=-1,p=e.length,b=-1,P=o.length,M=-1,N=i.length,R=xe(p-P,0),Y=rt(R+N),ct=!u;++l<R;)Y[l]=e[l];for(var ft=l;++M<N;)Y[ft+M]=i[M];for(;++b<P;)(ct||l<p)&&(Y[ft+o[b]]=e[l++]);return Y}function an(e,i){var o=-1,u=e.length;for(i||(i=rt(u));++o<u;)i[o]=e[o];return i}function Gn(e,i,o,u){var l=!o;o||(o={});for(var p=-1,b=i.length;++p<b;){var P=i[p],M=u?u(o[P],e[P],P,o,e):_;M===_&&(M=e[P]),l?bn(o,P,M):Si(o,P,M)}return o}function Go(e,i){return function(o,u){var l=qt(o)?sr:Fs,p=i?i():{};return l(o,e,zt(u,2),p)}}function Ar(e){return te((function(i,o){var u=-1,l=o.length,p=l>1?o[l-1]:_,b=l>2?o[2]:_;for(p=e.length>3&&typeof p=="function"?(l--,p):_,b&&$e(o[0],o[1],b)&&(p=l<3?_:p,l=1),i=pe(i);++u<l;){var P=o[u];P&&e(i,P,u,p)}return i}))}function Da(e,i){return function(o,u){if(o==null)return o;if(!un(o))return e(o,u);for(var l=o.length,p=i?l:-1,b=pe(o);(i?p--:++p<l)&&u(b[p],p,b)!==!1;);return o}}function Wa(e){return function(i,o,u){for(var l=-1,p=pe(i),b=u(i),P=b.length;P--;){var M=b[e?P:++l];if(o(p[M],M,p)===!1)break}return i}}function ja(e){return function(i){var o=gi(i=de(i))?fn(i):_,u=o?o[0]:i.charAt(0),l=o?Ai(o,1).join(""):i.slice(1);return u[e]()+l}}function zr(e){return function(i){return fe(Nu(Ru(i).replace(Ss,"")),e,"")}}function io(e){return function(){var i=arguments;switch(i.length){case 0:return new e;case 1:return new e(i[0]);case 2:return new e(i[0],i[1]);case 3:return new e(i[0],i[1],i[2]);case 4:return new e(i[0],i[1],i[2],i[3]);case 5:return new e(i[0],i[1],i[2],i[3],i[4]);case 6:return new e(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new e(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var o=Pi(e.prototype),u=e.apply(o,i);return Le(u)?u:o}}function Ha(e){return function(i,o,u){var l=pe(i);if(!un(i)){var p=zt(o,3);i=Ne(i),o=function(P){return p(l[P],P,l)}}var b=e(i,o,u);return b>-1?l[p?i[b]:b]:_}}function Ua(e){return ri((function(i){var o=i.length,u=o,l=rn.prototype.thru;for(e&&i.reverse();u--;){var p=i[u];if(typeof p!="function")throw new We(gt);if(l&&!b&&Qo(p)=="wrapper")var b=new rn([],!0)}for(u=b?u:o;++u<o;){var P=Qo(p=i[u]),M=P=="wrapper"?Qs(p):_;b=M&&ia(M[0])&&M[1]==424&&!M[4].length&&M[9]==1?b[Qo(M[0])].apply(b,M[3]):p.length==1&&ia(p)?b[P]():b.thru(p)}return function(){var N=arguments,R=N[0];if(b&&N.length==1&&qt(R))return b.plant(R).value();for(var Y=0,ct=o?i[Y].apply(this,N):R;++Y<o;)ct=i[Y].call(this,ct);return ct}}))}function Ko(e,i,o,u,l,p,b,P,M,N){var R=i&Bt,Y=1&i,ct=2&i,ft=24&i,Mt=512&i,D=ct?_:io(e);return function J(){for(var At=arguments.length,et=rt(At),jt=At;jt--;)et[jt]=arguments[jt];if(ft)var Dt=kr(J),he=(function(Ce,Qe){for(var ge=Ce.length,Ke=0;ge--;)Ce[ge]===Qe&&++Ke;return Ke})(et,Dt);if(u&&(et=Na(et,u,l,ft)),p&&(et=Fa(et,p,b,ft)),At-=he,ft&&At<N){var Lt=Rn(et,Dt);return qa(e,i,Ko,J.placeholder,o,et,Lt,P,M,N-At)}var Ot=Y?o:this,Ze=ct?Ot[e]:e;return At=et.length,P?et=(function(Ce,Qe){for(var ge=Ce.length,Ke=Be(Qe.length,ge),Xn=an(Ce);Ke--;){var ki=Qe[Ke];Ce[Ke]=oi(ki,ge)?Xn[ki]:_}return Ce})(et,P):Mt&&At>1&&et.reverse(),R&&M<At&&(et.length=M),this&&this!==Pe&&this instanceof J&&(Ze=D||io(Ze)),Ze.apply(Ot,et)}}function Va(e,i){return function(o,u){return(function(l,p,b,P){return S(l,(function(M,N,R){p(P,b(M),N,R)})),P})(o,e,i(u),{})}}function Xo(e,i){return function(o,u){var l;if(o===_&&u===_)return i;if(o!==_&&(l=o),u!==_){if(l===_)return u;typeof o=="string"||typeof u=="string"?(o=_n(o),u=_n(u)):(o=Aa(o),u=Aa(u)),l=e(o,u)}return l}}function Ks(e){return ri((function(i){return i=ut(i,qe(zt())),te((function(o){var u=this;return e(i,(function(l){return Fe(l,u,o)}))}))}))}function Jo(e,i){var o=(i=i===_?" ":_n(i)).length;if(o<2)return o?js(i,e):i;var u=js(i,Li(e/De(i)));return gi(i)?Ai(fn(u),0,e).join(""):u.slice(0,e)}function Ya(e){return function(i,o,u){return u&&typeof u!="number"&&$e(i,o,u)&&(o=u=_),i=ai(i),o===_?(o=i,i=0):o=ai(o),(function(l,p,b,P){for(var M=-1,N=xe(Li((p-l)/(b||1)),0),R=rt(N);N--;)R[P?N:++M]=l,l+=b;return R})(i,o,u=u===_?i<o?1:-1:ai(u),e)}}function $o(e){return function(i,o){return typeof i=="string"&&typeof o=="string"||(i=Sn(i),o=Sn(o)),e(i,o)}}function qa(e,i,o,u,l,p,b,P,M,N){var R=8&i;i|=R?mt:64,4&(i&=~(R?64:mt))||(i&=-4);var Y=[e,i,l,R?p:_,R?b:_,R?_:p,R?_:b,P,M,N],ct=o.apply(_,Y);return ia(e)&&ou(ct,Y),ct.placeholder=u,su(ct,e,i)}function Xs(e){var i=en[e];return function(o,u){if(o=Sn(o),(u=u==null?0:Be(Xt(u),292))&&Qn(o)){var l=(de(o)+"e").split("e");return+((l=(de(i(l[0]+"e"+(+l[1]+u)))+"e").split("e"))[0]+"e"+(+l[1]-u))}return i(o)}}var rh=ti&&1/yi(new ti([,-0]))[1]==Jt?function(e){return new ti(e)}:xa;function Ga(e){return function(i){var o=Ge(i);return o==lt?cr(i):o==v?Cs(i):(function(u,l){return ut(l,(function(p){return[p,u[p]]}))})(i,e(i))}}function ii(e,i,o,u,l,p,b,P){var M=2&i;if(!M&&typeof e!="function")throw new We(gt);var N=u?u.length:0;if(N||(i&=-97,u=l=_),b=b===_?b:xe(Xt(b),0),P=P===_?P:Xt(P),N-=l?l.length:0,64&i){var R=u,Y=l;u=l=_}var ct=M?_:Qs(e),ft=[e,i,o,u,l,R,Y,p,b,P];if(ct&&(function(D,J){var At=D[1],et=J[1],jt=At|et,Dt=jt<131,he=et==Bt&&At==8||et==Bt&&At==256&&D[7].length<=J[8]||et==384&&J[7].length<=J[8]&&At==8;if(!Dt&&!he)return D;1&et&&(D[2]=J[2],jt|=1&At?0:4);var Lt=J[3];if(Lt){var Ot=D[3];D[3]=Ot?Na(Ot,Lt,J[4]):Lt,D[4]=Ot?Rn(D[3],Pt):J[4]}(Lt=J[5])&&(Ot=D[5],D[5]=Ot?Fa(Ot,Lt,J[6]):Lt,D[6]=Ot?Rn(D[5],Pt):J[6]),(Lt=J[7])&&(D[7]=Lt),et&Bt&&(D[8]=D[8]==null?J[8]:Be(D[8],J[8])),D[9]==null&&(D[9]=J[9]),D[0]=J[0],D[1]=jt})(ft,ct),e=ft[0],i=ft[1],o=ft[2],u=ft[3],l=ft[4],!(P=ft[9]=ft[9]===_?M?0:e.length:xe(ft[9]-N,0))&&24&i&&(i&=-25),i&&i!=1)Mt=i==8||i==16?(function(D,J,At){var et=io(D);return function jt(){for(var Dt=arguments.length,he=rt(Dt),Lt=Dt,Ot=kr(jt);Lt--;)he[Lt]=arguments[Lt];var Ze=Dt<3&&he[0]!==Ot&&he[Dt-1]!==Ot?[]:Rn(he,Ot);return(Dt-=Ze.length)<At?qa(D,J,Ko,jt.placeholder,_,he,Ze,_,_,At-Dt):Fe(this&&this!==Pe&&this instanceof jt?et:D,this,he)}})(e,i,P):i!=mt&&i!=33||l.length?Ko.apply(_,ft):(function(D,J,At,et){var jt=1&J,Dt=io(D);return function he(){for(var Lt=-1,Ot=arguments.length,Ze=-1,Ce=et.length,Qe=rt(Ce+Ot),ge=this&&this!==Pe&&this instanceof he?Dt:D;++Ze<Ce;)Qe[Ze]=et[Ze];for(;Ot--;)Qe[Ze++]=arguments[++Lt];return Fe(ge,jt?At:this,Qe)}})(e,i,o,u);else var Mt=(function(D,J,At){var et=1&J,jt=io(D);return function Dt(){return(this&&this!==Pe&&this instanceof Dt?jt:D).apply(et?At:this,arguments)}})(e,i,o);return su((ct?Ca:ou)(Mt,ft),e,i)}function Ka(e,i,o,u){return e===_||kn(e,gn[o])&&!ue.call(u,o)?i:e}function Xa(e,i,o,u,l,p){return Le(e)&&Le(i)&&(p.set(i,e),Cr(e,i,_,Xa,p),p.delete(i)),e}function oh(e){return so(e)?_:e}function Ja(e,i,o,u,l,p){var b=1&o,P=e.length,M=i.length;if(P!=M&&!(b&&M>P))return!1;var N=p.get(e),R=p.get(i);if(N&&R)return N==i&&R==e;var Y=-1,ct=!0,ft=2&o?new He:_;for(p.set(e,i),p.set(i,e);++Y<P;){var Mt=e[Y],D=i[Y];if(u)var J=b?u(D,Mt,Y,i,e,p):u(Mt,D,Y,e,i,p);if(J!==_){if(J)continue;ct=!1;break}if(ft){if(!Fi(i,(function(At,et){if(!ji(ft,et)&&(Mt===At||l(Mt,At,o,u,p)))return ft.push(et)}))){ct=!1;break}}else if(Mt!==D&&!l(Mt,D,o,u,p)){ct=!1;break}}return p.delete(e),p.delete(i),ct}function ri(e){return oa(iu(e,_,fu),e+"")}function Js(e){return Et(e,Ne,ea)}function $s(e){return Et(e,hn,$a)}var Qs=br?function(e){return br.get(e)}:xa;function Qo(e){for(var i=e.name+"",o=ei[i],u=ue.call(ei,i)?o.length:0;u--;){var l=o[u],p=l.func;if(p==null||p==e)return l.name}return i}function kr(e){return(ue.call(f,"placeholder")?f:e).placeholder}function zt(){var e=f.iteratee||ga;return e=e===ga?jo:e,arguments.length?e(arguments[0],arguments[1]):e}function ts(e,i){var o,u,l=e.__data__;return((u=typeof(o=i))=="string"||u=="number"||u=="symbol"||u=="boolean"?o!=="__proto__":o===null)?l[typeof i=="string"?"string":"hash"]:l.map}function ta(e){for(var i=Ne(e),o=i.length;o--;){var u=i[o],l=e[u];i[o]=[u,l,eu(l)]}return i}function Xi(e,i){var o=(function(u,l){return u==null?_:u[l]})(e,i);return to(o)?o:_}var ea=dn?function(e){return e==null?[]:(e=pe(e),Cn(dn(e),(function(i){return $n.call(e,i)})))}:wa,$a=dn?function(e){for(var i=[];e;)Oe(i,ea(e)),e=nn(e);return i}:wa,Ge=St;function Qa(e,i,o){for(var u=-1,l=(i=Ei(i,e)).length,p=!1;++u<l;){var b=Kn(i[u]);if(!(p=e!=null&&o(e,b)))break;e=e[b]}return p||++u!=l?p:!!(l=e==null?0:e.length)&&as(l)&&oi(b,l)&&(qt(e)||$i(e))}function tu(e){return typeof e.constructor!="function"||ro(e)?{}:Pi(nn(e))}function sh(e){return qt(e)||$i(e)||!!(wi&&e&&e[wi])}function oi(e,i){var o=typeof e;return!!(i=i??Gt)&&(o=="number"||o!="symbol"&&po.test(e))&&e>-1&&e%1==0&&e<i}function $e(e,i,o){if(!Le(o))return!1;var u=typeof i;return!!(u=="number"?un(o)&&oi(i,o.length):u=="string"&&i in o)&&kn(o[i],e)}function na(e,i){if(qt(e))return!1;var o=typeof e;return!(o!="number"&&o!="symbol"&&o!="boolean"&&e!=null&&!pn(e))||ie.test(e)||!me.test(e)||i!=null&&e in pe(i)}function ia(e){var i=Qo(e),o=f[i];if(typeof o!="function"||!(i in Yt.prototype))return!1;if(e===o)return!0;var u=Qs(o);return!!u&&e===u[0]}(Dn&&Ge(new Dn(new ArrayBuffer(1)))!=y||Wn&&Ge(new Wn)!=lt||Vi&&Ge(Vi.resolve())!=xt||ti&&Ge(new ti)!=v||Yi&&Ge(new Yi)!=d)&&(Ge=function(e){var i=St(e),o=i==Zt?e.constructor:_,u=o?Ji(o):"";if(u)switch(u){case Zs:return y;case No:return lt;case Rs:return xt;case xn:return v;case Lr:return d}return i});var ah=je?si:ba;function ro(e){var i=e&&e.constructor;return e===(typeof i=="function"&&i.prototype||gn)}function eu(e){return e==e&&!Le(e)}function nu(e,i){return function(o){return o!=null&&o[e]===i&&(i!==_||e in pe(o))}}function iu(e,i,o){return i=xe(i===_?e.length-1:i,0),function(){for(var u=arguments,l=-1,p=xe(u.length-i,0),b=rt(p);++l<p;)b[l]=u[i+l];l=-1;for(var P=rt(i+1);++l<i;)P[l]=u[l];return P[i]=o(b),Fe(e,this,P)}}function ru(e,i){return i.length<2?e:it(e,Pn(i,0,-1))}function ra(e,i){if((i!=="constructor"||typeof e[i]!="function")&&i!="__proto__")return e[i]}var ou=au(Ca),oo=Os||function(e,i){return Pe.setTimeout(e,i)},oa=au(th);function su(e,i,o){var u=i+"";return oa(e,(function(l,p){var b=p.length;if(!b)return l;var P=b-1;return p[P]=(b>1?"& ":"")+p[P],p=p.join(b>2?", ":" "),l.replace(hi,`{
/* [wrapped with `+p+`] */
`)})(u,(function(l,p){return Ye(Wt,(function(b){var P="_."+b[0];p&b[1]&&!mi(l,P)&&l.push(P)})),l.sort()})((function(l){var p=l.match(ho);return p?p[1].split(ms):[]})(u),o)))}function au(e){var i=0,o=0;return function(){var u=Kr(),l=16-(u-o);if(o=u,l>0){if(++i>=800)return arguments[0]}else i=0;return e.apply(_,arguments)}}function es(e,i){var o=-1,u=e.length,l=u-1;for(i=i===_?u:i;++o<i;){var p=Ws(o,l),b=e[p];e[p]=e[o],e[o]=b}return e.length=i,e}var sa,aa,uu=(sa=os((function(e){var i=[];return e.charCodeAt(0)===46&&i.push(""),e.replace(ke,(function(o,u,l,p){i.push(l?p.replace(co,"$1"):u||o)})),i}),(function(e){return aa.size===500&&aa.clear(),e})),aa=sa.cache,sa);function Kn(e){if(typeof e=="string"||pn(e))return e;var i=e+"";return i=="0"&&1/e==-1/0?"-0":i}function Ji(e){if(e!=null){try{return Ui.call(e)}catch{}try{return e+""}catch{}}return""}function hu(e){if(e instanceof Yt)return e.clone();var i=new rn(e.__wrapped__,e.__chain__);return i.__actions__=an(e.__actions__),i.__index__=e.__index__,i.__values__=e.__values__,i}var uh=te((function(e,i){return Me(e)?Mi(e,a(i,1,Me,!0)):[]})),hh=te((function(e,i){var o=Tn(i);return Me(o)&&(o=_),Me(e)?Mi(e,a(i,1,Me,!0),zt(o,2)):[]})),lh=te((function(e,i){var o=Tn(i);return Me(o)&&(o=_),Me(e)?Mi(e,a(i,1,Me,!0),_,o):[]}));function lu(e,i,o){var u=e==null?0:e.length;if(!u)return-1;var l=o==null?0:Xt(o);return l<0&&(l=xe(u+l,0)),mn(e,zt(i,3),l)}function cu(e,i,o){var u=e==null?0:e.length;if(!u)return-1;var l=u-1;return o!==_&&(l=Xt(o),l=o<0?xe(u+l,0):Be(l,u-1)),mn(e,zt(i,3),l,!0)}function fu(e){return e!=null&&e.length?a(e,1):[]}function du(e){return e&&e.length?e[0]:_}var ch=te((function(e){var i=ut(e,Ys);return i.length&&i[0]===e[0]?Re(i):[]})),fh=te((function(e){var i=Tn(e),o=ut(e,Ys);return i===Tn(o)?i=_:o.pop(),o.length&&o[0]===e[0]?Re(o,zt(i,2)):[]})),dh=te((function(e){var i=Tn(e),o=ut(e,Ys);return(i=typeof i=="function"?i:_)&&o.pop(),o.length&&o[0]===e[0]?Re(o,_,i):[]}));function Tn(e){var i=e==null?0:e.length;return i?e[i-1]:_}var _h=te(_u);function _u(e,i){return e&&e.length&&i&&i.length?Ds(e,i):e}var ph=ri((function(e,i){var o=e==null?0:e.length,u=Sr(e,i);return Ma(e,ut(i,(function(l){return oi(l,o)?+l:l})).sort(Ra)),u}));function ua(e){return e==null?e:wr.call(e)}var mh=te((function(e){return Ci(a(e,1,Me,!0))})),vh=te((function(e){var i=Tn(e);return Me(i)&&(i=_),Ci(a(e,1,Me,!0),zt(i,2))})),gh=te((function(e){var i=Tn(e);return i=typeof i=="function"?i:_,Ci(a(e,1,Me,!0),_,i)}));function ha(e){if(!e||!e.length)return[];var i=0;return e=Cn(e,(function(o){if(Me(o))return i=xe(o.length,i),!0})),Wi(i,(function(o){return ut(e,ur(o))}))}function pu(e,i){if(!e||!e.length)return[];var o=ha(e);return i==null?o:ut(o,(function(u){return Fe(i,_,u)}))}var yh=te((function(e,i){return Me(e)?Mi(e,i):[]})),xh=te((function(e){return Vs(Cn(e,Me))})),wh=te((function(e){var i=Tn(e);return Me(i)&&(i=_),Vs(Cn(e,Me),zt(i,2))})),bh=te((function(e){var i=Tn(e);return i=typeof i=="function"?i:_,Vs(Cn(e,Me),_,i)})),Lh=te(ha),Ph=te((function(e){var i=e.length,o=i>1?e[i-1]:_;return o=typeof o=="function"?(e.pop(),o):_,pu(e,o)}));function mu(e){var i=f(e);return i.__chain__=!0,i}function ns(e,i){return i(e)}var Th=ri((function(e){var i=e.length,o=i?e[0]:0,u=this.__wrapped__,l=function(p){return Sr(p,e)};return!(i>1||this.__actions__.length)&&u instanceof Yt&&oi(o)?((u=u.slice(o,+o+(i?1:0))).__actions__.push({func:ns,args:[l],thisArg:_}),new rn(u,this.__chain__).thru((function(p){return i&&!p.length&&p.push(_),p}))):this.thru(l)})),Sh=Go((function(e,i,o){ue.call(e,o)?++e[o]:bn(e,o,1)})),Mh=Ha(lu),Ch=Ha(cu);function vu(e,i){return(qt(e)?Ye:qn)(e,zt(i,3))}function gu(e,i){return(qt(e)?Ur:t)(e,zt(i,3))}var Eh=Go((function(e,i,o){ue.call(e,o)?e[o].push(i):bn(e,o,[i])})),Ah=te((function(e,i,o){var u=-1,l=typeof i=="function",p=un(e)?rt(e.length):[];return qn(e,(function(b){p[++u]=l?Fe(i,b,o):Ln(b,i,o)})),p})),zh=Go((function(e,i,o){bn(e,o,i)}));function is(e,i){return(qt(e)?ut:Ki)(e,zt(i,3))}var kh=Go((function(e,i,o){e[o?0:1].push(i)}),(function(){return[[],[]]})),Oh=te((function(e,i){if(e==null)return[];var o=i.length;return o>1&&$e(e,i[0],i[1])?i=[]:o>2&&$e(i[0],i[1],i[2])&&(i=[i[0]]),eo(e,a(i,1),[])})),rs=vr||function(){return Pe.Date.now()};function yu(e,i,o){return i=o?_:i,i=e&&i==null?e.length:i,ii(e,Bt,_,_,_,_,i)}function xu(e,i){var o;if(typeof i!="function")throw new We(gt);return e=Xt(e),function(){return--e>0&&(o=i.apply(this,arguments)),e<=1&&(i=_),o}}var la=te((function(e,i,o){var u=1;if(o.length){var l=Rn(o,kr(la));u|=mt}return ii(e,u,i,o,l)})),wu=te((function(e,i,o){var u=3;if(o.length){var l=Rn(o,kr(wu));u|=mt}return ii(i,u,e,o,l)}));function bu(e,i,o){var u,l,p,b,P,M,N=0,R=!1,Y=!1,ct=!0;if(typeof e!="function")throw new We(gt);function ft(et){var jt=u,Dt=l;return u=l=_,N=et,b=e.apply(Dt,jt)}function Mt(et){var jt=et-M;return M===_||jt>=i||jt<0||Y&&et-N>=p}function D(){var et=rs();if(Mt(et))return J(et);P=oo(D,(function(jt){var Dt=i-(jt-M);return Y?Be(Dt,p-(jt-N)):Dt})(et))}function J(et){return P=_,ct&&u?ft(et):(u=l=_,b)}function At(){var et=rs(),jt=Mt(et);if(u=arguments,l=this,M=et,jt){if(P===_)return(function(Dt){return N=Dt,P=oo(D,i),R?ft(Dt):b})(M);if(Y)return Ba(P),P=oo(D,i),ft(M)}return P===_&&(P=oo(D,i)),b}return i=Sn(i)||0,Le(o)&&(R=!!o.leading,p=(Y="maxWait"in o)?xe(Sn(o.maxWait)||0,i):p,ct="trailing"in o?!!o.trailing:ct),At.cancel=function(){P!==_&&Ba(P),N=0,u=M=l=P=_},At.flush=function(){return P===_?b:J(rs())},At}var Bh=te((function(e,i){return $r(e,1,i)})),Ih=te((function(e,i,o){return $r(e,Sn(i)||0,o)}));function os(e,i){if(typeof e!="function"||i!=null&&typeof i!="function")throw new We(gt);var o=function(){var u=arguments,l=i?i.apply(this,u):u[0],p=o.cache;if(p.has(l))return p.get(l);var b=e.apply(this,u);return o.cache=p.set(l,b)||p,b};return o.cache=new(os.Cache||zn),o}function ss(e){if(typeof e!="function")throw new We(gt);return function(){var i=arguments;switch(i.length){case 0:return!e.call(this);case 1:return!e.call(this,i[0]);case 2:return!e.call(this,i[0],i[1]);case 3:return!e.call(this,i[0],i[1],i[2])}return!e.apply(this,i)}}os.Cache=zn;var Zh=ih((function(e,i){var o=(i=i.length==1&&qt(i[0])?ut(i[0],qe(zt())):ut(a(i,1),qe(zt()))).length;return te((function(u){for(var l=-1,p=Be(u.length,o);++l<p;)u[l]=i[l].call(this,u[l]);return Fe(e,this,u)}))})),ca=te((function(e,i){var o=Rn(i,kr(ca));return ii(e,mt,_,i,o)})),Lu=te((function(e,i){var o=Rn(i,kr(Lu));return ii(e,64,_,i,o)})),Rh=ri((function(e,i){return ii(e,256,_,_,_,i)}));function kn(e,i){return e===i||e!=e&&i!=i}var Nh=$o(Ie),Fh=$o((function(e,i){return e>=i})),$i=Wo((function(){return arguments})())?Wo:function(e){return Te(e)&&ue.call(e,"callee")&&!$n.call(e,"callee")},qt=rt.isArray,Dh=Bn?qe(Bn):function(e){return Te(e)&&St(e)==m};function un(e){return e!=null&&as(e.length)&&!si(e)}function Me(e){return Te(e)&&un(e)}var zi=Bs||ba,Wh=di?qe(di):function(e){return Te(e)&&St(e)==O};function fa(e){if(!Te(e))return!1;var i=St(e);return i==Q||i=="[object DOMException]"||typeof e.message=="string"&&typeof e.name=="string"&&!so(e)}function si(e){if(!Le(e))return!1;var i=St(e);return i==G||i==tt||i=="[object AsyncFunction]"||i=="[object Proxy]"}function Pu(e){return typeof e=="number"&&e==Xt(e)}function as(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Gt}function Le(e){var i=typeof e;return e!=null&&(i=="object"||i=="function")}function Te(e){return e!=null&&typeof e=="object"}var Tu=_i?qe(_i):function(e){return Te(e)&&Ge(e)==lt};function Su(e){return typeof e=="number"||Te(e)&&St(e)==K}function so(e){if(!Te(e)||St(e)!=Zt)return!1;var i=nn(e);if(i===null)return!0;var o=ue.call(i,"constructor")&&i.constructor;return typeof o=="function"&&o instanceof o&&Ui.call(o)==zs}var da=rr?qe(rr):function(e){return Te(e)&&St(e)==Ht},Mu=pi?qe(pi):function(e){return Te(e)&&Ge(e)==v};function us(e){return typeof e=="string"||!qt(e)&&Te(e)&&St(e)==T}function pn(e){return typeof e=="symbol"||Te(e)&&St(e)==h}var Or=or?qe(or):function(e){return Te(e)&&as(e.length)&&!!ce[St(e)]},jh=$o(we),Hh=$o((function(e,i){return e<=i}));function Cu(e){if(!e)return[];if(un(e))return us(e)?fn(e):an(e);if(bi&&e[bi])return(function(o){for(var u,l=[];!(u=o.next()).done;)l.push(u.value);return l})(e[bi]());var i=Ge(e);return(i==lt?cr:i==v?yi:Br)(e)}function ai(e){return e?(e=Sn(e))===Jt||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:e===0?e:0}function Xt(e){var i=ai(e),o=i%1;return i==i?o?i-o:i:0}function Eu(e){return e?Yn(Xt(e),0,le):0}function Sn(e){if(typeof e=="number")return e;if(pn(e))return It;if(Le(e)){var i=typeof e.valueOf=="function"?e.valueOf():e;e=Le(i)?i+"":i}if(typeof e!="string")return e===0?e:+e;e=zo(e);var o=ys.test(e);return o||_o.test(e)?Kt(e.slice(2),o?2:8):gs.test(e)?It:+e}function Au(e){return Gn(e,hn(e))}function de(e){return e==null?"":_n(e)}var Uh=Ar((function(e,i){if(ro(i)||un(i))Gn(i,Ne(i),e);else for(var o in i)ue.call(i,o)&&Si(e,o,i[o])})),zu=Ar((function(e,i){Gn(i,hn(i),e)})),hs=Ar((function(e,i,o,u){Gn(i,hn(i),e,u)})),Vh=Ar((function(e,i,o,u){Gn(i,Ne(i),e,u)})),Yh=ri(Sr),qh=te((function(e,i){e=pe(e);var o=-1,u=i.length,l=u>2?i[2]:_;for(l&&$e(i[0],i[1],l)&&(u=1);++o<u;)for(var p=i[o],b=hn(p),P=-1,M=b.length;++P<M;){var N=b[P],R=e[N];(R===_||kn(R,gn[N])&&!ue.call(e,N))&&(e[N]=p[N])}return e})),Gh=te((function(e){return e.push(_,Xa),Fe(ku,_,e)}));function _a(e,i,o){var u=e==null?_:it(e,i);return u===_?o:u}function pa(e,i){return e!=null&&Qa(e,i,sn)}var Kh=Va((function(e,i,o){i!=null&&typeof i.toString!="function"&&(i=xi.call(i)),e[i]=o}),va(ln)),Xh=Va((function(e,i,o){i!=null&&typeof i.toString!="function"&&(i=xi.call(i)),ue.call(e,i)?e[i].push(o):e[i]=[o]}),zt),Jh=te(Ln);function Ne(e){return un(e)?Xr(e):Mr(e)}function hn(e){return un(e)?Xr(e,!0):(function(i){if(!Le(i))return(function(p){var b=[];if(p!=null)for(var P in pe(p))b.push(P);return b})(i);var o=ro(i),u=[];for(var l in i)(l!="constructor"||!o&&ue.call(i,l))&&u.push(l);return u})(e)}var $h=Ar((function(e,i,o){Cr(e,i,o)})),ku=Ar((function(e,i,o,u){Cr(e,i,o,u)})),Qh=ri((function(e,i){var o={};if(e==null)return o;var u=!1;i=ut(i,(function(p){return p=Ei(p,e),u||(u=p.length>1),p})),Gn(e,$s(e),o),u&&(o=Je(o,7,oh));for(var l=i.length;l--;)Us(o,i[l]);return o})),tl=ri((function(e,i){return e==null?{}:(function(o,u){return Vo(o,u,(function(l,p){return pa(o,p)}))})(e,i)}));function Ou(e,i){if(e==null)return{};var o=ut($s(e),(function(u){return[u]}));return i=zt(i),Vo(e,o,(function(u,l){return i(u,l[0])}))}var Bu=Ga(Ne),Iu=Ga(hn);function Br(e){return e==null?[]:ne(e,Ne(e))}var el=zr((function(e,i,o){return i=i.toLowerCase(),e+(o?Zu(i):i)}));function Zu(e){return ma(de(e).toLowerCase())}function Ru(e){return(e=de(e))&&e.replace(xs,ko).replace(Wr,"")}var nl=zr((function(e,i,o){return e+(o?"-":"")+i.toLowerCase()})),il=zr((function(e,i,o){return e+(o?" ":"")+i.toLowerCase()})),rl=ja("toLowerCase"),ol=zr((function(e,i,o){return e+(o?"_":"")+i.toLowerCase()})),sl=zr((function(e,i,o){return e+(o?" ":"")+ma(i)})),al=zr((function(e,i,o){return e+(o?" ":"")+i.toUpperCase()})),ma=ja("toUpperCase");function Nu(e,i,o){return e=de(e),(i=o?_:i)===_?(function(u){return Ii.test(u)})(e)?(function(u){return u.match(Mo)||[]})(e):(function(u){return u.match(lo)||[]})(e):e.match(i)||[]}var Fu=te((function(e,i){try{return Fe(e,_,i)}catch(o){return fa(o)?o:new re(o)}})),ul=ri((function(e,i){return Ye(i,(function(o){o=Kn(o),bn(e,o,la(e[o],e))})),e}));function va(e){return function(){return e}}var hl=Ua(),ll=Ua(!0);function ln(e){return e}function ga(e){return jo(typeof e=="function"?e:Je(e,1))}var cl=te((function(e,i){return function(o){return Ln(o,e,i)}})),fl=te((function(e,i){return function(o){return Ln(e,o,i)}}));function ya(e,i,o){var u=Ne(i),l=W(i,u);o!=null||Le(i)&&(l.length||!u.length)||(o=i,i=e,e=this,l=W(i,Ne(i)));var p=!(Le(o)&&"chain"in o&&!o.chain),b=si(e);return Ye(l,(function(P){var M=i[P];e[P]=M,b&&(e.prototype[P]=function(){var N=this.__chain__;if(p||N){var R=e(this.__wrapped__);return(R.__actions__=an(this.__actions__)).push({func:M,args:arguments,thisArg:e}),R.__chain__=N,R}return M.apply(e,Oe([this.value()],arguments))})})),e}function xa(){}var dl=Ks(ut),_l=Ks(Ni),pl=Ks(Fi);function Du(e){return na(e)?ur(Kn(e)):(function(i){return function(o){return it(o,i)}})(e)}var ml=Ya(),vl=Ya(!0);function wa(){return[]}function ba(){return!1}var La,gl=Xo((function(e,i){return e+i}),0),yl=Xs("ceil"),xl=Xo((function(e,i){return e/i}),1),wl=Xs("floor"),bl=Xo((function(e,i){return e*i}),1),Ll=Xs("round"),Pl=Xo((function(e,i){return e-i}),0);return f.after=function(e,i){if(typeof i!="function")throw new We(gt);return e=Xt(e),function(){if(--e<1)return i.apply(this,arguments)}},f.ary=yu,f.assign=Uh,f.assignIn=zu,f.assignInWith=hs,f.assignWith=Vh,f.at=Yh,f.before=xu,f.bind=la,f.bindAll=ul,f.bindKey=wu,f.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return qt(e)?e:[e]},f.chain=mu,f.chunk=function(e,i,o){i=(o?$e(e,i,o):i===_)?1:xe(Xt(i),0);var u=e==null?0:e.length;if(!u||i<1)return[];for(var l=0,p=0,b=rt(Li(u/i));l<u;)b[p++]=Pn(e,l,l+=i);return b},f.compact=function(e){for(var i=-1,o=e==null?0:e.length,u=0,l=[];++i<o;){var p=e[i];p&&(l[u++]=p)}return l},f.concat=function(){var e=arguments.length;if(!e)return[];for(var i=rt(e-1),o=arguments[0],u=e;u--;)i[u-1]=arguments[u];return Oe(qt(o)?an(o):[o],a(i,1))},f.cond=function(e){var i=e==null?0:e.length,o=zt();return e=i?ut(e,(function(u){if(typeof u[1]!="function")throw new We(gt);return[o(u[0]),u[1]]})):[],te((function(u){for(var l=-1;++l<i;){var p=e[l];if(Fe(p[0],this,u))return Fe(p[1],this,u)}}))},f.conforms=function(e){return(function(i){var o=Ne(i);return function(u){return Do(u,i,o)}})(Je(e,1))},f.constant=va,f.countBy=Sh,f.create=function(e,i){var o=Pi(e);return i==null?o:Jr(o,i)},f.curry=function e(i,o,u){var l=ii(i,8,_,_,_,_,_,o=u?_:o);return l.placeholder=e.placeholder,l},f.curryRight=function e(i,o,u){var l=ii(i,16,_,_,_,_,_,o=u?_:o);return l.placeholder=e.placeholder,l},f.debounce=bu,f.defaults=qh,f.defaultsDeep=Gh,f.defer=Bh,f.delay=Ih,f.difference=uh,f.differenceBy=hh,f.differenceWith=lh,f.drop=function(e,i,o){var u=e==null?0:e.length;return u?Pn(e,(i=o||i===_?1:Xt(i))<0?0:i,u):[]},f.dropRight=function(e,i,o){var u=e==null?0:e.length;return u?Pn(e,0,(i=u-(i=o||i===_?1:Xt(i)))<0?0:i):[]},f.dropRightWhile=function(e,i){return e&&e.length?qo(e,zt(i,3),!0,!0):[]},f.dropWhile=function(e,i){return e&&e.length?qo(e,zt(i,3),!0):[]},f.fill=function(e,i,o,u){var l=e==null?0:e.length;return l?(o&&typeof o!="number"&&$e(e,i,o)&&(o=0,u=l),(function(p,b,P,M){var N=p.length;for((P=Xt(P))<0&&(P=-P>N?0:N+P),(M=M===_||M>N?N:Xt(M))<0&&(M+=N),M=P>M?0:Eu(M);P<M;)p[P++]=b;return p})(e,i,o,u)):[]},f.filter=function(e,i){return(qt(e)?Cn:s)(e,zt(i,3))},f.flatMap=function(e,i){return a(is(e,i),1)},f.flatMapDeep=function(e,i){return a(is(e,i),Jt)},f.flatMapDepth=function(e,i,o){return o=o===_?1:Xt(o),a(is(e,i),o)},f.flatten=fu,f.flattenDeep=function(e){return e!=null&&e.length?a(e,Jt):[]},f.flattenDepth=function(e,i){return e!=null&&e.length?a(e,i=i===_?1:Xt(i)):[]},f.flip=function(e){return ii(e,512)},f.flow=hl,f.flowRight=ll,f.fromPairs=function(e){for(var i=-1,o=e==null?0:e.length,u={};++i<o;){var l=e[i];u[l[0]]=l[1]}return u},f.functions=function(e){return e==null?[]:W(e,Ne(e))},f.functionsIn=function(e){return e==null?[]:W(e,hn(e))},f.groupBy=Eh,f.initial=function(e){return e!=null&&e.length?Pn(e,0,-1):[]},f.intersection=ch,f.intersectionBy=fh,f.intersectionWith=dh,f.invert=Kh,f.invertBy=Xh,f.invokeMap=Ah,f.iteratee=ga,f.keyBy=zh,f.keys=Ne,f.keysIn=hn,f.map=is,f.mapKeys=function(e,i){var o={};return i=zt(i,3),S(e,(function(u,l,p){bn(o,i(u,l,p),u)})),o},f.mapValues=function(e,i){var o={};return i=zt(i,3),S(e,(function(u,l,p){bn(o,l,i(u,l,p))})),o},f.matches=function(e){return Ho(Je(e,1))},f.matchesProperty=function(e,i){return Uo(e,Je(i,1))},f.memoize=os,f.merge=$h,f.mergeWith=ku,f.method=cl,f.methodOf=fl,f.mixin=ya,f.negate=ss,f.nthArg=function(e){return e=Xt(e),te((function(i){return Er(i,e)}))},f.omit=Qh,f.omitBy=function(e,i){return Ou(e,ss(zt(i)))},f.once=function(e){return xu(2,e)},f.orderBy=function(e,i,o,u){return e==null?[]:(qt(i)||(i=i==null?[]:[i]),qt(o=u?_:o)||(o=o==null?[]:[o]),eo(e,i,o))},f.over=dl,f.overArgs=Zh,f.overEvery=_l,f.overSome=pl,f.partial=ca,f.partialRight=Lu,f.partition=kh,f.pick=tl,f.pickBy=Ou,f.property=Du,f.propertyOf=function(e){return function(i){return e==null?_:it(e,i)}},f.pull=_h,f.pullAll=_u,f.pullAllBy=function(e,i,o){return e&&e.length&&i&&i.length?Ds(e,i,zt(o,2)):e},f.pullAllWith=function(e,i,o){return e&&e.length&&i&&i.length?Ds(e,i,_,o):e},f.pullAt=ph,f.range=ml,f.rangeRight=vl,f.rearg=Rh,f.reject=function(e,i){return(qt(e)?Cn:s)(e,ss(zt(i,3)))},f.remove=function(e,i){var o=[];if(!e||!e.length)return o;var u=-1,l=[],p=e.length;for(i=zt(i,3);++u<p;){var b=e[u];i(b,u,e)&&(o.push(b),l.push(u))}return Ma(e,l),o},f.rest=function(e,i){if(typeof e!="function")throw new We(gt);return te(e,i=i===_?i:Xt(i))},f.reverse=ua,f.sampleSize=function(e,i,o){return i=(o?$e(e,i,o):i===_)?1:Xt(i),(qt(e)?Ns:Qu)(e,i)},f.set=function(e,i,o){return e==null?e:no(e,i,o)},f.setWith=function(e,i,o,u){return u=typeof u=="function"?u:_,e==null?e:no(e,i,o,u)},f.shuffle=function(e){return(qt(e)?Tr:eh)(e)},f.slice=function(e,i,o){var u=e==null?0:e.length;return u?(o&&typeof o!="number"&&$e(e,i,o)?(i=0,o=u):(i=i==null?0:Xt(i),o=o===_?u:Xt(o)),Pn(e,i,o)):[]},f.sortBy=Oh,f.sortedUniq=function(e){return e&&e.length?Ea(e):[]},f.sortedUniqBy=function(e,i){return e&&e.length?Ea(e,zt(i,2)):[]},f.split=function(e,i,o){return o&&typeof o!="number"&&$e(e,i,o)&&(i=o=_),(o=o===_?le:o>>>0)?(e=de(e))&&(typeof i=="string"||i!=null&&!da(i))&&!(i=_n(i))&&gi(e)?Ai(fn(e),0,o):e.split(i,o):[]},f.spread=function(e,i){if(typeof e!="function")throw new We(gt);return i=i==null?0:xe(Xt(i),0),te((function(o){var u=o[i],l=Ai(o,0,i);return u&&Oe(l,u),Fe(e,this,l)}))},f.tail=function(e){var i=e==null?0:e.length;return i?Pn(e,1,i):[]},f.take=function(e,i,o){return e&&e.length?Pn(e,0,(i=o||i===_?1:Xt(i))<0?0:i):[]},f.takeRight=function(e,i,o){var u=e==null?0:e.length;return u?Pn(e,(i=u-(i=o||i===_?1:Xt(i)))<0?0:i,u):[]},f.takeRightWhile=function(e,i){return e&&e.length?qo(e,zt(i,3),!1,!0):[]},f.takeWhile=function(e,i){return e&&e.length?qo(e,zt(i,3)):[]},f.tap=function(e,i){return i(e),e},f.throttle=function(e,i,o){var u=!0,l=!0;if(typeof e!="function")throw new We(gt);return Le(o)&&(u="leading"in o?!!o.leading:u,l="trailing"in o?!!o.trailing:l),bu(e,i,{leading:u,maxWait:i,trailing:l})},f.thru=ns,f.toArray=Cu,f.toPairs=Bu,f.toPairsIn=Iu,f.toPath=function(e){return qt(e)?ut(e,Kn):pn(e)?[e]:an(uu(de(e)))},f.toPlainObject=Au,f.transform=function(e,i,o){var u=qt(e),l=u||zi(e)||Or(e);if(i=zt(i,4),o==null){var p=e&&e.constructor;o=l?u?new p:[]:Le(e)&&si(p)?Pi(nn(e)):{}}return(l?Ye:S)(e,(function(b,P,M){return i(o,b,P,M)})),o},f.unary=function(e){return yu(e,1)},f.union=mh,f.unionBy=vh,f.unionWith=gh,f.uniq=function(e){return e&&e.length?Ci(e):[]},f.uniqBy=function(e,i){return e&&e.length?Ci(e,zt(i,2)):[]},f.uniqWith=function(e,i){return i=typeof i=="function"?i:_,e&&e.length?Ci(e,_,i):[]},f.unset=function(e,i){return e==null||Us(e,i)},f.unzip=ha,f.unzipWith=pu,f.update=function(e,i,o){return e==null?e:za(e,i,qs(o))},f.updateWith=function(e,i,o,u){return u=typeof u=="function"?u:_,e==null?e:za(e,i,qs(o),u)},f.values=Br,f.valuesIn=function(e){return e==null?[]:ne(e,hn(e))},f.without=yh,f.words=Nu,f.wrap=function(e,i){return ca(qs(i),e)},f.xor=xh,f.xorBy=wh,f.xorWith=bh,f.zip=Lh,f.zipObject=function(e,i){return Oa(e||[],i||[],Si)},f.zipObjectDeep=function(e,i){return Oa(e||[],i||[],no)},f.zipWith=Ph,f.entries=Bu,f.entriesIn=Iu,f.extend=zu,f.extendWith=hs,ya(f,f),f.add=gl,f.attempt=Fu,f.camelCase=el,f.capitalize=Zu,f.ceil=yl,f.clamp=function(e,i,o){return o===_&&(o=i,i=_),o!==_&&(o=(o=Sn(o))==o?o:0),i!==_&&(i=(i=Sn(i))==i?i:0),Yn(Sn(e),i,o)},f.clone=function(e){return Je(e,4)},f.cloneDeep=function(e){return Je(e,5)},f.cloneDeepWith=function(e,i){return Je(e,5,i=typeof i=="function"?i:_)},f.cloneWith=function(e,i){return Je(e,4,i=typeof i=="function"?i:_)},f.conformsTo=function(e,i){return i==null||Do(e,i,Ne(i))},f.deburr=Ru,f.defaultTo=function(e,i){return e==null||e!=e?i:e},f.divide=xl,f.endsWith=function(e,i,o){e=de(e),i=_n(i);var u=e.length,l=o=o===_?u:Yn(Xt(o),0,u);return(o-=i.length)>=0&&e.slice(o,l)==i},f.eq=kn,f.escape=function(e){return(e=de(e))&&Ut.test(e)?e.replace(H,Ms):e},f.escapeRegExp=function(e){return(e=de(e))&&Qt.test(e)?e.replace(_e,"\\$&"):e},f.every=function(e,i,o){var u=qt(e)?Ni:n;return o&&$e(e,i,o)&&(i=_),u(e,zt(i,3))},f.find=Mh,f.findIndex=lu,f.findKey=function(e,i){return ar(e,zt(i,3),S)},f.findLast=Ch,f.findLastIndex=cu,f.findLastKey=function(e,i){return ar(e,zt(i,3),z)},f.floor=wl,f.forEach=vu,f.forEachRight=gu,f.forIn=function(e,i){return e==null?e:c(e,zt(i,3),hn)},f.forInRight=function(e,i){return e==null?e:x(e,zt(i,3),hn)},f.forOwn=function(e,i){return e&&S(e,zt(i,3))},f.forOwnRight=function(e,i){return e&&z(e,zt(i,3))},f.get=_a,f.gt=Nh,f.gte=Fh,f.has=function(e,i){return e!=null&&Qa(e,i,ze)},f.hasIn=pa,f.head=du,f.identity=ln,f.includes=function(e,i,o,u){e=un(e)?e:Br(e),o=o&&!u?Xt(o):0;var l=e.length;return o<0&&(o=xe(l+o,0)),us(e)?o<=l&&e.indexOf(i,o)>-1:!!l&&In(e,i,o)>-1},f.indexOf=function(e,i,o){var u=e==null?0:e.length;if(!u)return-1;var l=o==null?0:Xt(o);return l<0&&(l=xe(u+l,0)),In(e,i,l)},f.inRange=function(e,i,o){return i=ai(i),o===_?(o=i,i=0):o=ai(o),(function(u,l,p){return u>=Be(l,p)&&u<xe(l,p)})(e=Sn(e),i,o)},f.invoke=Jh,f.isArguments=$i,f.isArray=qt,f.isArrayBuffer=Dh,f.isArrayLike=un,f.isArrayLikeObject=Me,f.isBoolean=function(e){return e===!0||e===!1||Te(e)&&St(e)==A},f.isBuffer=zi,f.isDate=Wh,f.isElement=function(e){return Te(e)&&e.nodeType===1&&!so(e)},f.isEmpty=function(e){if(e==null)return!0;if(un(e)&&(qt(e)||typeof e=="string"||typeof e.splice=="function"||zi(e)||Or(e)||$i(e)))return!e.length;var i=Ge(e);if(i==lt||i==v)return!e.size;if(ro(e))return!Mr(e).length;for(var o in e)if(ue.call(e,o))return!1;return!0},f.isEqual=function(e,i){return Gi(e,i)},f.isEqualWith=function(e,i,o){var u=(o=typeof o=="function"?o:_)?o(e,i):_;return u===_?Gi(e,i,_,o):!!u},f.isError=fa,f.isFinite=function(e){return typeof e=="number"&&Qn(e)},f.isFunction=si,f.isInteger=Pu,f.isLength=as,f.isMap=Tu,f.isMatch=function(e,i){return e===i||Qr(e,i,ta(i))},f.isMatchWith=function(e,i,o){return o=typeof o=="function"?o:_,Qr(e,i,ta(i),o)},f.isNaN=function(e){return Su(e)&&e!=+e},f.isNative=function(e){if(ah(e))throw new re("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return to(e)},f.isNil=function(e){return e==null},f.isNull=function(e){return e===null},f.isNumber=Su,f.isObject=Le,f.isObjectLike=Te,f.isPlainObject=so,f.isRegExp=da,f.isSafeInteger=function(e){return Pu(e)&&e>=-9007199254740991&&e<=Gt},f.isSet=Mu,f.isString=us,f.isSymbol=pn,f.isTypedArray=Or,f.isUndefined=function(e){return e===_},f.isWeakMap=function(e){return Te(e)&&Ge(e)==d},f.isWeakSet=function(e){return Te(e)&&St(e)=="[object WeakSet]"},f.join=function(e,i){return e==null?"":Is.call(e,i)},f.kebabCase=nl,f.last=Tn,f.lastIndexOf=function(e,i,o){var u=e==null?0:e.length;if(!u)return-1;var l=u;return o!==_&&(l=(l=Xt(o))<0?xe(u+l,0):Be(l,u-1)),i==i?(function(p,b,P){for(var M=P+1;M--;)if(p[M]===b)return M;return M})(e,i,l):mn(e,Ee,l,!0)},f.lowerCase=il,f.lowerFirst=rl,f.lt=jh,f.lte=Hh,f.max=function(e){return e&&e.length?r(e,ln,Ie):_},f.maxBy=function(e,i){return e&&e.length?r(e,zt(i,2),Ie):_},f.mean=function(e){return Zn(e,ln)},f.meanBy=function(e,i){return Zn(e,zt(i,2))},f.min=function(e){return e&&e.length?r(e,ln,we):_},f.minBy=function(e,i){return e&&e.length?r(e,zt(i,2),we):_},f.stubArray=wa,f.stubFalse=ba,f.stubObject=function(){return{}},f.stubString=function(){return""},f.stubTrue=function(){return!0},f.multiply=bl,f.nth=function(e,i){return e&&e.length?Er(e,Xt(i)):_},f.noConflict=function(){return Pe._===this&&(Pe._=ks),this},f.noop=xa,f.now=rs,f.pad=function(e,i,o){e=de(e);var u=(i=Xt(i))?De(e):0;if(!i||u>=i)return e;var l=(i-u)/2;return Jo(gr(l),o)+e+Jo(Li(l),o)},f.padEnd=function(e,i,o){e=de(e);var u=(i=Xt(i))?De(e):0;return i&&u<i?e+Jo(i-u,o):e},f.padStart=function(e,i,o){e=de(e);var u=(i=Xt(i))?De(e):0;return i&&u<i?Jo(i-u,o)+e:e},f.parseInt=function(e,i,o){return o||i==null?i=0:i&&(i=+i),yr(de(e).replace(Ue,""),i||0)},f.random=function(e,i,o){if(o&&typeof o!="boolean"&&$e(e,i,o)&&(i=o=_),o===_&&(typeof i=="boolean"?(o=i,i=_):typeof e=="boolean"&&(o=e,e=_)),e===_&&i===_?(e=0,i=1):(e=ai(e),i===_?(i=e,e=0):i=ai(i)),e>i){var u=e;e=i,i=u}if(o||e%1||i%1){var l=xr();return Be(e+l*(i-e+jr("1e-"+((l+"").length-1))),i)}return Ws(e,i)},f.reduce=function(e,i,o){var u=qt(e)?fe:Ao,l=arguments.length<3;return u(e,zt(i,4),o,l,qn)},f.reduceRight=function(e,i,o){var u=qt(e)?Eo:Ao,l=arguments.length<3;return u(e,zt(i,4),o,l,t)},f.repeat=function(e,i,o){return i=(o?$e(e,i,o):i===_)?1:Xt(i),js(de(e),i)},f.replace=function(){var e=arguments,i=de(e[0]);return e.length<3?i:i.replace(e[1],e[2])},f.result=function(e,i,o){var u=-1,l=(i=Ei(i,e)).length;for(l||(l=1,e=_);++u<l;){var p=e==null?_:e[Kn(i[u])];p===_&&(u=l,p=o),e=si(p)?p.call(e):p}return e},f.round=Ll,f.runInContext=E,f.sample=function(e){return(qt(e)?Ti:$u)(e)},f.size=function(e){if(e==null)return 0;if(un(e))return us(e)?De(e):e.length;var i=Ge(e);return i==lt||i==v?e.size:Mr(e).length},f.snakeCase=ol,f.some=function(e,i,o){var u=qt(e)?Fi:nh;return o&&$e(e,i,o)&&(i=_),u(e,zt(i,3))},f.sortedIndex=function(e,i){return Yo(e,i)},f.sortedIndexBy=function(e,i,o){return Hs(e,i,zt(o,2))},f.sortedIndexOf=function(e,i){var o=e==null?0:e.length;if(o){var u=Yo(e,i);if(u<o&&kn(e[u],i))return u}return-1},f.sortedLastIndex=function(e,i){return Yo(e,i,!0)},f.sortedLastIndexBy=function(e,i,o){return Hs(e,i,zt(o,2),!0)},f.sortedLastIndexOf=function(e,i){if(e!=null&&e.length){var o=Yo(e,i,!0)-1;if(kn(e[o],i))return o}return-1},f.startCase=sl,f.startsWith=function(e,i,o){return e=de(e),o=o==null?0:Yn(Xt(o),0,e.length),i=_n(i),e.slice(o,o+i.length)==i},f.subtract=Pl,f.sum=function(e){return e&&e.length?lr(e,ln):0},f.sumBy=function(e,i){return e&&e.length?lr(e,zt(i,2)):0},f.template=function(e,i,o){var u=f.templateSettings;o&&$e(e,i,o)&&(i=_),e=de(e),i=hs({},i,u,Ka);var l,p,b=hs({},i.imports,u.imports,Ka),P=Ne(b),M=ne(b,P),N=0,R=i.interpolate||tr,Y="__p += '",ct=fr((i.escape||tr).source+"|"+R.source+"|"+(R===Ft?vs:tr).source+"|"+(i.evaluate||tr).source+"|$","g"),ft="//# sourceURL="+(ue.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ve+"]")+`
`;e.replace(ct,(function(J,At,et,jt,Dt,he){return et||(et=jt),Y+=e.slice(N,he).replace(ws,qr),At&&(l=!0,Y+=`' +
__e(`+At+`) +
'`),Dt&&(p=!0,Y+=`';
`+Dt+`;
__p += '`),et&&(Y+=`' +
((__t = (`+et+`)) == null ? '' : __t) +
'`),N=he+J.length,J})),Y+=`';
`;var Mt=ue.call(i,"variable")&&i.variable;if(Mt){if(Ir.test(Mt))throw new re("Invalid `variable` option passed into `_.template`")}else Y=`with (obj) {
`+Y+`
}
`;Y=(p?Y.replace(dt,""):Y).replace(wt,"$1").replace(Ct,"$1;"),Y="function("+(Mt||"obj")+`) {
`+(Mt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(l?", __e = _.escape":"")+(p?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Y+`return __p
}`;var D=Fu((function(){return Se(P,ft+"return "+Y).apply(_,M)}));if(D.source=Y,fa(D))throw D;return D},f.times=function(e,i){if((e=Xt(e))<1||e>Gt)return[];var o=le,u=Be(e,le);i=zt(i),e-=le;for(var l=Wi(u,i);++o<e;)i(o);return l},f.toFinite=ai,f.toInteger=Xt,f.toLength=Eu,f.toLower=function(e){return de(e).toLowerCase()},f.toNumber=Sn,f.toSafeInteger=function(e){return e?Yn(Xt(e),-9007199254740991,Gt):e===0?e:0},f.toString=de,f.toUpper=function(e){return de(e).toUpperCase()},f.trim=function(e,i,o){if((e=de(e))&&(o||i===_))return zo(e);if(!e||!(i=_n(i)))return e;var u=fn(e),l=fn(i);return Ai(u,tn(u,l),vi(u,l)+1).join("")},f.trimEnd=function(e,i,o){if((e=de(e))&&(o||i===_))return e.slice(0,Gr(e)+1);if(!e||!(i=_n(i)))return e;var u=fn(e);return Ai(u,0,vi(u,fn(i))+1).join("")},f.trimStart=function(e,i,o){if((e=de(e))&&(o||i===_))return e.replace(Ue,"");if(!e||!(i=_n(i)))return e;var u=fn(e);return Ai(u,tn(u,fn(i))).join("")},f.truncate=function(e,i){var o=30,u="...";if(Le(i)){var l="separator"in i?i.separator:l;o="length"in i?Xt(i.length):o,u="omission"in i?_n(i.omission):u}var p=(e=de(e)).length;if(gi(e)){var b=fn(e);p=b.length}if(o>=p)return e;var P=o-De(u);if(P<1)return u;var M=b?Ai(b,0,P).join(""):e.slice(0,P);if(l===_)return M+u;if(b&&(P+=M.length-P),da(l)){if(e.slice(P).search(l)){var N,R=M;for(l.global||(l=fr(l.source,de(li.exec(l))+"g")),l.lastIndex=0;N=l.exec(R);)var Y=N.index;M=M.slice(0,Y===_?P:Y)}}else if(e.indexOf(_n(l),P)!=P){var ct=M.lastIndexOf(l);ct>-1&&(M=M.slice(0,ct))}return M+u},f.unescape=function(e){return(e=de(e))&&j.test(e)?e.replace(nt,Nn):e},f.uniqueId=function(e){var i=++As;return de(e)+i},f.upperCase=al,f.upperFirst=ma,f.each=vu,f.eachRight=gu,f.first=du,ya(f,(La={},S(f,(function(e,i){ue.call(f.prototype,i)||(La[i]=e)})),La),{chain:!1}),f.VERSION="4.17.21",Ye(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){f[e].placeholder=f})),Ye(["drop","take"],(function(e,i){Yt.prototype[e]=function(o){o=o===_?1:xe(Xt(o),0);var u=this.__filtered__&&!i?new Yt(this):this.clone();return u.__filtered__?u.__takeCount__=Be(o,u.__takeCount__):u.__views__.push({size:Be(o,le),type:e+(u.__dir__<0?"Right":"")}),u},Yt.prototype[e+"Right"]=function(o){return this.reverse()[e](o).reverse()}})),Ye(["filter","map","takeWhile"],(function(e,i){var o=i+1,u=o==1||o==3;Yt.prototype[e]=function(l){var p=this.clone();return p.__iteratees__.push({iteratee:zt(l,3),type:o}),p.__filtered__=p.__filtered__||u,p}})),Ye(["head","last"],(function(e,i){var o="take"+(i?"Right":"");Yt.prototype[e]=function(){return this[o](1).value()[0]}})),Ye(["initial","tail"],(function(e,i){var o="drop"+(i?"":"Right");Yt.prototype[e]=function(){return this.__filtered__?new Yt(this):this[o](1)}})),Yt.prototype.compact=function(){return this.filter(ln)},Yt.prototype.find=function(e){return this.filter(e).head()},Yt.prototype.findLast=function(e){return this.reverse().find(e)},Yt.prototype.invokeMap=te((function(e,i){return typeof e=="function"?new Yt(this):this.map((function(o){return Ln(o,e,i)}))})),Yt.prototype.reject=function(e){return this.filter(ss(zt(e)))},Yt.prototype.slice=function(e,i){e=Xt(e);var o=this;return o.__filtered__&&(e>0||i<0)?new Yt(o):(e<0?o=o.takeRight(-e):e&&(o=o.drop(e)),i!==_&&(o=(i=Xt(i))<0?o.dropRight(-i):o.take(i-e)),o)},Yt.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Yt.prototype.toArray=function(){return this.take(le)},S(Yt.prototype,(function(e,i){var o=/^(?:filter|find|map|reject)|While$/.test(i),u=/^(?:head|last)$/.test(i),l=f[u?"take"+(i=="last"?"Right":""):i],p=u||/^find/.test(i);l&&(f.prototype[i]=function(){var b=this.__wrapped__,P=u?[1]:arguments,M=b instanceof Yt,N=P[0],R=M||qt(b),Y=function(At){var et=l.apply(f,Oe([At],P));return u&&ct?et[0]:et};R&&o&&typeof N=="function"&&N.length!=1&&(M=R=!1);var ct=this.__chain__,ft=!!this.__actions__.length,Mt=p&&!ct,D=M&&!ft;if(!p&&R){b=D?b:new Yt(this);var J=e.apply(b,P);return J.__actions__.push({func:ns,args:[Y],thisArg:_}),new rn(J,ct)}return Mt&&D?e.apply(this,P):(J=this.thru(Y),Mt?u?J.value()[0]:J.value():J)})})),Ye(["pop","push","shift","sort","splice","unshift"],(function(e){var i=vn[e],o=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",u=/^(?:pop|shift)$/.test(e);f.prototype[e]=function(){var l=arguments;if(u&&!this.__chain__){var p=this.value();return i.apply(qt(p)?p:[],l)}return this[o]((function(b){return i.apply(qt(b)?b:[],l)}))}})),S(Yt.prototype,(function(e,i){var o=f[i];if(o){var u=o.name+"";ue.call(ei,u)||(ei[u]=[]),ei[u].push({name:i,func:o})}})),ei[Ko(_,2).name]=[{name:"wrapper",func:_}],Yt.prototype.clone=function(){var e=new Yt(this.__wrapped__);return e.__actions__=an(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=an(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=an(this.__views__),e},Yt.prototype.reverse=function(){if(this.__filtered__){var e=new Yt(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Yt.prototype.value=function(){var e=this.__wrapped__.value(),i=this.__dir__,o=qt(e),u=i<0,l=o?e.length:0,p=(function(he,Lt,Ot){for(var Ze=-1,Ce=Ot.length;++Ze<Ce;){var Qe=Ot[Ze],ge=Qe.size;switch(Qe.type){case"drop":he+=ge;break;case"dropRight":Lt-=ge;break;case"take":Lt=Be(Lt,he+ge);break;case"takeRight":he=xe(he,Lt-ge)}}return{start:he,end:Lt}})(0,l,this.__views__),b=p.start,P=p.end,M=P-b,N=u?P:b-1,R=this.__iteratees__,Y=R.length,ct=0,ft=Be(M,this.__takeCount__);if(!o||!u&&l==M&&ft==M)return ka(e,this.__actions__);var Mt=[];t:for(;M--&&ct<ft;){for(var D=-1,J=e[N+=i];++D<Y;){var At=R[D],et=At.iteratee,jt=At.type,Dt=et(J);if(jt==2)J=Dt;else if(!Dt){if(jt==1)continue t;break t}}Mt[ct++]=J}return Mt},f.prototype.at=Th,f.prototype.chain=function(){return mu(this)},f.prototype.commit=function(){return new rn(this.value(),this.__chain__)},f.prototype.next=function(){this.__values__===_&&(this.__values__=Cu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?_:this.__values__[this.__index__++]}},f.prototype.plant=function(e){for(var i,o=this;o instanceof Un;){var u=hu(o);u.__index__=0,u.__values__=_,i?l.__wrapped__=u:i=u;var l=u;o=o.__wrapped__}return l.__wrapped__=e,i},f.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Yt){var i=e;return this.__actions__.length&&(i=new Yt(this)),(i=i.reverse()).__actions__.push({func:ns,args:[ua],thisArg:_}),new rn(i,this.__chain__)}return this.thru(ua)},f.prototype.toJSON=f.prototype.valueOf=f.prototype.value=function(){return ka(this.__wrapped__,this.__actions__)},f.prototype.first=f.prototype.head,bi&&(f.prototype[bi]=function(){return this}),f})();Pe._=Hi,(ee=(function(){return Hi}).call(q,ot,q,$))===_||($.exports=ee)}).call(this)},670:($,q,ot)=>{var ee=ot(289),_=ot(579),gt=ot(586),yt=ot(543);function Pt(Bt){Bt!==void 0&&this.loadFeatureCollection(Bt)}function mt(Bt,Jt){var Gt=Jt.geometry.coordinates[0];if(_(Bt,Gt)){for(var It=1;It<Jt.geometry.coordinates.length;It++)if(_(Bt,Jt.geometry.coordinates[It]))return!1;return!0}return!1}Pt.prototype.searchForOnePolygon=function(Bt,Jt){var Gt=this.rtree.search({minX:Bt,minY:Jt,maxX:Bt,maxY:Jt}),It=[Bt,Jt],le=Gt.map((function(Wt,$t){return this.polygons[Gt[$t].polyId]}),this);return yt.find(le,(function(Wt){return mt(It,Wt)}))},Pt.prototype.searchForMultiplePolygons=function(Bt,Jt,Gt){Gt===-1&&(Gt=Number.MAX_SAFE_INTEGER);var It=[Bt,Jt],le=this.rtree.search({minX:Bt,minY:Jt,maxX:Bt,maxY:Jt}),Wt=le.map((function(vt,A){return this.polygons[le[A].polyId]}),this),$t=0;return{type:"FeatureCollection",features:Wt=Wt.filter((function(vt){return!($t>=Gt||!mt(It,vt)||($t++,0))}))}},Pt.prototype.search=function(Bt,Jt,Gt){return Gt===void 0?this.searchForOnePolygon(Bt,Jt):this.searchForMultiplePolygons(Bt,Jt,Gt)},Pt.prototype.loadFeatureCollection=function(Bt){var Jt=[],Gt=[],It=0;function le(Wt){Gt.push(Wt);var $t=gt.getBoundingBox(Wt.geometry.coordinates[0]);$t.polyId=It++,Jt.push($t)}Bt.features.forEach((function(Wt){if(Wt.geometry&&Wt.geometry.coordinates[0]!==void 0&&Wt.geometry.coordinates[0].length>0)switch(Wt.geometry.type){case"Polygon":le(Wt);break;case"MultiPolygon":for(var $t=Wt.geometry.coordinates,vt=0;vt<$t.length;vt++)le({type:"Feature",properties:Wt.properties,geometry:{type:"Polygon",coordinates:$t[vt]}})}})),this.rtree=new ee().load(Jt),this.polygons=Gt},$.exports=Pt},586:$=>{$.exports={getBoundingBox:function(q){for(var ot=q[0],ee={minX:ot[0],minY:ot[1],maxX:ot[0],maxY:ot[1]},_=1;_<q.length;_++){var gt=q[_],yt=gt[0];yt<ee.minX?ee.minX=yt:yt>ee.maxX&&(ee.maxX=yt);var Pt=gt[1];Pt<ee.minY?ee.minY=Pt:Pt>ee.maxY&&(ee.maxY=Pt)}return ee}}},579:$=>{$.exports=function(q,ot){for(var ee=q[0],_=q[1],gt=!1,yt=0,Pt=ot.length-1;yt<ot.length;Pt=yt++){var mt=ot[yt][0],Bt=ot[yt][1],Jt=ot[Pt][0],Gt=ot[Pt][1];Bt>_!=Gt>_&&ee<(Jt-mt)*(_-Bt)/(Gt-Bt)+mt&&(gt=!gt)}return gt}},314:function($){$.exports=(function(){function q(_,gt,yt,Pt,mt){for(;Pt>yt;){if(Pt-yt>600){var Bt=Pt-yt+1,Jt=gt-yt+1,Gt=Math.log(Bt),It=.5*Math.exp(2*Gt/3),le=.5*Math.sqrt(Gt*It*(Bt-It)/Bt)*(Jt-Bt/2<0?-1:1);q(_,gt,Math.max(yt,Math.floor(gt-Jt*It/Bt+le)),Math.min(Pt,Math.floor(gt+(Bt-Jt)*It/Bt+le)),mt)}var Wt=_[gt],$t=yt,vt=Pt;for(ot(_,yt,gt),mt(_[Pt],Wt)>0&&ot(_,yt,Pt);$t<vt;){for(ot(_,$t,vt),$t++,vt--;mt(_[$t],Wt)<0;)$t++;for(;mt(_[vt],Wt)>0;)vt--}mt(_[yt],Wt)===0?ot(_,yt,vt):ot(_,++vt,Pt),vt<=gt&&(yt=vt+1),gt<=vt&&(Pt=vt-1)}}function ot(_,gt,yt){var Pt=_[gt];_[gt]=_[yt],_[yt]=Pt}function ee(_,gt){return _<gt?-1:_>gt?1:0}return function(_,gt,yt,Pt,mt){q(_,gt,yt||0,Pt||_.length-1,mt||ee)}})()},289:($,q,ot)=>{$.exports=_,$.exports.default=_;var ee=ot(314);function _(A,O){if(!(this instanceof _))return new _(A,O);this._maxEntries=Math.max(4,A||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),O&&this._initFormat(O),this.clear()}function gt(A,O,Q){if(!Q)return O.indexOf(A);for(var G=0;G<O.length;G++)if(Q(A,O[G]))return G;return-1}function yt(A,O){Pt(A,0,A.children.length,O,A)}function Pt(A,O,Q,G,tt){tt||(tt=$t(null)),tt.minX=1/0,tt.minY=1/0,tt.maxX=-1/0,tt.maxY=-1/0;for(var lt,K=O;K<Q;K++)lt=A.children[K],mt(tt,A.leaf?G(lt):lt);return tt}function mt(A,O){return A.minX=Math.min(A.minX,O.minX),A.minY=Math.min(A.minY,O.minY),A.maxX=Math.max(A.maxX,O.maxX),A.maxY=Math.max(A.maxY,O.maxY),A}function Bt(A,O){return A.minX-O.minX}function Jt(A,O){return A.minY-O.minY}function Gt(A){return(A.maxX-A.minX)*(A.maxY-A.minY)}function It(A){return A.maxX-A.minX+(A.maxY-A.minY)}function le(A,O){return A.minX<=O.minX&&A.minY<=O.minY&&O.maxX<=A.maxX&&O.maxY<=A.maxY}function Wt(A,O){return O.minX<=A.maxX&&O.minY<=A.maxY&&O.maxX>=A.minX&&O.maxY>=A.minY}function $t(A){return{children:A,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function vt(A,O,Q,G,tt){for(var lt,K=[O,Q];K.length;)(Q=K.pop())-(O=K.pop())<=G||(lt=O+Math.ceil((Q-O)/G/2)*G,ee(A,lt,O,Q,tt),K.push(O,lt,lt,Q))}_.prototype={all:function(){return this._all(this.data,[])},search:function(A){var O=this.data,Q=[],G=this.toBBox;if(!Wt(A,O))return Q;for(var tt,lt,K,Zt,xt=[];O;){for(tt=0,lt=O.children.length;tt<lt;tt++)K=O.children[tt],Wt(A,Zt=O.leaf?G(K):K)&&(O.leaf?Q.push(K):le(A,Zt)?this._all(K,Q):xt.push(K));O=xt.pop()}return Q},collides:function(A){var O=this.data,Q=this.toBBox;if(!Wt(A,O))return!1;for(var G,tt,lt,K,Zt=[];O;){for(G=0,tt=O.children.length;G<tt;G++)if(lt=O.children[G],Wt(A,K=O.leaf?Q(lt):lt)){if(O.leaf||le(A,K))return!0;Zt.push(lt)}O=Zt.pop()}return!1},load:function(A){if(!A||!A.length)return this;if(A.length<this._minEntries){for(var O=0,Q=A.length;O<Q;O++)this.insert(A[O]);return this}var G=this._build(A.slice(),0,A.length-1,0);if(this.data.children.length)if(this.data.height===G.height)this._splitRoot(this.data,G);else{if(this.data.height<G.height){var tt=this.data;this.data=G,G=tt}this._insert(G,this.data.height-G.height-1,!0)}else this.data=G;return this},insert:function(A){return A&&this._insert(A,this.data.height-1),this},clear:function(){return this.data=$t([]),this},remove:function(A,O){if(!A)return this;for(var Q,G,tt,lt,K=this.data,Zt=this.toBBox(A),xt=[],Ht=[];K||xt.length;){if(K||(K=xt.pop(),G=xt[xt.length-1],Q=Ht.pop(),lt=!0),K.leaf&&(tt=gt(A,K.children,O))!==-1)return K.children.splice(tt,1),xt.push(K),this._condense(xt),this;lt||K.leaf||!le(K,Zt)?G?(Q++,K=G.children[Q],lt=!1):K=null:(xt.push(K),Ht.push(Q),Q=0,G=K,K=K.children[0])}return this},toBBox:function(A){return A},compareMinX:Bt,compareMinY:Jt,toJSON:function(){return this.data},fromJSON:function(A){return this.data=A,this},_all:function(A,O){for(var Q=[];A;)A.leaf?O.push.apply(O,A.children):Q.push.apply(Q,A.children),A=Q.pop();return O},_build:function(A,O,Q,G){var tt,lt=Q-O+1,K=this._maxEntries;if(lt<=K)return yt(tt=$t(A.slice(O,Q+1)),this.toBBox),tt;G||(G=Math.ceil(Math.log(lt)/Math.log(K)),K=Math.ceil(lt/Math.pow(K,G-1))),(tt=$t([])).leaf=!1,tt.height=G;var Zt,xt,Ht,v,T=Math.ceil(lt/K),h=T*Math.ceil(Math.sqrt(K));for(vt(A,O,Q,h,this.compareMinX),Zt=O;Zt<=Q;Zt+=h)for(vt(A,Zt,Ht=Math.min(Zt+h-1,Q),T,this.compareMinY),xt=Zt;xt<=Ht;xt+=T)v=Math.min(xt+T-1,Ht),tt.children.push(this._build(A,xt,v,G-1));return yt(tt,this.toBBox),tt},_chooseSubtree:function(A,O,Q,G){for(var tt,lt,K,Zt,xt,Ht,v,T,h,d;G.push(O),!O.leaf&&G.length-1!==Q;){for(v=T=1/0,tt=0,lt=O.children.length;tt<lt;tt++)xt=Gt(K=O.children[tt]),h=A,d=K,(Ht=(Math.max(d.maxX,h.maxX)-Math.min(d.minX,h.minX))*(Math.max(d.maxY,h.maxY)-Math.min(d.minY,h.minY))-xt)<T?(T=Ht,v=xt<v?xt:v,Zt=K):Ht===T&&xt<v&&(v=xt,Zt=K);O=Zt||O.children[0]}return O},_insert:function(A,O,Q){var G=this.toBBox,tt=Q?A:G(A),lt=[],K=this._chooseSubtree(tt,this.data,O,lt);for(K.children.push(A),mt(K,tt);O>=0&&lt[O].children.length>this._maxEntries;)this._split(lt,O),O--;this._adjustParentBBoxes(tt,lt,O)},_split:function(A,O){var Q=A[O],G=Q.children.length,tt=this._minEntries;this._chooseSplitAxis(Q,tt,G);var lt=this._chooseSplitIndex(Q,tt,G),K=$t(Q.children.splice(lt,Q.children.length-lt));K.height=Q.height,K.leaf=Q.leaf,yt(Q,this.toBBox),yt(K,this.toBBox),O?A[O-1].children.push(K):this._splitRoot(Q,K)},_splitRoot:function(A,O){this.data=$t([A,O]),this.data.height=A.height+1,this.data.leaf=!1,yt(this.data,this.toBBox)},_chooseSplitIndex:function(A,O,Q){var G,tt,lt,K,Zt,xt,Ht,v,T,h,d,m,y,w;for(xt=Ht=1/0,G=O;G<=Q-O;G++)T=tt=Pt(A,0,G,this.toBBox),h=lt=Pt(A,G,Q,this.toBBox),d=Math.max(T.minX,h.minX),m=Math.max(T.minY,h.minY),y=Math.min(T.maxX,h.maxX),w=Math.min(T.maxY,h.maxY),K=Math.max(0,y-d)*Math.max(0,w-m),Zt=Gt(tt)+Gt(lt),K<xt?(xt=K,v=G,Ht=Zt<Ht?Zt:Ht):K===xt&&Zt<Ht&&(Ht=Zt,v=G);return v},_chooseSplitAxis:function(A,O,Q){var G=A.leaf?this.compareMinX:Bt,tt=A.leaf?this.compareMinY:Jt;this._allDistMargin(A,O,Q,G)<this._allDistMargin(A,O,Q,tt)&&A.children.sort(G)},_allDistMargin:function(A,O,Q,G){A.children.sort(G);var tt,lt,K=this.toBBox,Zt=Pt(A,0,O,K),xt=Pt(A,Q-O,Q,K),Ht=It(Zt)+It(xt);for(tt=O;tt<Q-O;tt++)lt=A.children[tt],mt(Zt,A.leaf?K(lt):lt),Ht+=It(Zt);for(tt=Q-O-1;tt>=O;tt--)lt=A.children[tt],mt(xt,A.leaf?K(lt):lt),Ht+=It(xt);return Ht},_adjustParentBBoxes:function(A,O,Q){for(var G=Q;G>=0;G--)mt(O[G],A)},_condense:function(A){for(var O,Q=A.length-1;Q>=0;Q--)A[Q].children.length===0?Q>0?(O=A[Q-1].children).splice(O.indexOf(A[Q]),1):this.clear():yt(A[Q],this.toBBox)},_initFormat:function(A){var O=["return a"," - b",";"];this.compareMinX=new Function("a","b",O.join(A[0])),this.compareMinY=new Function("a","b",O.join(A[1])),this.toBBox=new Function("a","return {minX: a"+A[0]+", minY: a"+A[1]+", maxX: a"+A[2]+", maxY: a"+A[3]+"};")}}},167:$=>{$.exports=k}},at={};function Nt($){var q=at[$];if(q!==void 0)return q.exports;var ot=at[$]={id:$,loaded:!1,exports:{}};return pt[$].call(ot.exports,ot,ot.exports,Nt),ot.loaded=!0,ot.exports}Nt.n=$=>{var q=$&&$.__esModule?()=>$.default:()=>$;return Nt.d(q,{a:q}),q},Nt.d=($,q)=>{for(var ot in q)Nt.o(q,ot)&&!Nt.o($,ot)&&Object.defineProperty($,ot,{enumerable:!0,get:q[ot]})},Nt.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),Nt.o=($,q)=>Object.prototype.hasOwnProperty.call($,q),Nt.r=$=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty($,Symbol.toStringTag,{value:"Module"}),Object.defineProperty($,"__esModule",{value:!0})},Nt.nmd=$=>($.paths=[],$.children||($.children=[]),$);var Tt={};return(()=>{Nt.r(Tt),Nt.d(Tt,{Glify:()=>xt,default:()=>v,glify:()=>Ht});var $=Nt(167);class q extends $.Layer{constructor(h,d){super(),this._userDrawFunc=h,this._frame=null,this._redrawCallbacks=[],this._pane=d,this.options={}}drawing(h){return this._userDrawFunc=h,this}params(h){return $.Util.setOptions(this,h),this}redraw(h){return typeof h=="function"&&this._redrawCallbacks.push(h),this._frame===null&&(this._frame=$.Util.requestAnimFrame(this._redraw,this)),this}isAnimated(){return!!(this._map.options.zoomAnimation&&$.Browser.any3d)}onAdd(h){var d;this._map=h;const m=this.canvas=(d=this.canvas)!==null&&d!==void 0?d:document.createElement("canvas"),y=h.getSize(),w=this.isAnimated();m.width=y.x,m.height=y.y,m.className="leaflet-zoom-"+(w?"animated":"hide");const g=h.getPane(this._pane);if(!g)throw new Error("unable to find pane");return g.appendChild(this.canvas),h.on("moveend",this._reset,this),h.on("resize",this._resize,this),w&&h.on("zoomanim",$.Layer?this._animateZoom:this._animateZoomNoLayer,this),this._reset(),this}onRemove(h){if(this.canvas){const d=h.getPane(this._pane);if(!d)throw new Error("unable to find pane");d.removeChild(this.canvas)}return h.off("moveend",this._reset,this),h.off("resize",this._resize,this),this.isAnimated()&&h.off("zoomanim",$.Layer?this._animateZoom:this._animateZoomNoLayer,this),this}addTo(h){return h.addLayer(this),this}get map(){return this._map}set map(h){this._map=h}_resize(h){this.canvas&&(this.canvas.width=h.newSize.x,this.canvas.height=h.newSize.y)}_reset(){if(this.canvas){const h=this._map.containerPointToLayerPoint([0,0]);$.DomUtil.setPosition(this.canvas,h)}this._redraw()}_redraw(){const{_map:h,canvas:d}=this,m=h.getSize(),y=h.getBounds(),w=180*m.x/(2003750834e-2*(y.getEast()-y.getWest())),g=h.getZoom(),C=new $.LatLng(y.getNorth(),y.getWest()),B=this._unclampedProject(C,0);for(d&&this._userDrawFunc({bounds:y,canvas:d,offset:B,scale:Math.pow(2,g),size:m,zoomScale:w,zoom:g});this._redrawCallbacks.length>0;){const I=this._redrawCallbacks.shift();I&&I(this)}this._frame=null}_animateZoom(h){const{_map:d,canvas:m}=this,y=d.getZoomScale(h.zoom,d.getZoom()),w=this._unclampedLatLngBoundsToNewLayerBounds(d.getBounds(),h.zoom,h.center).min;m&&w&&$.DomUtil.setTransform(m,w,y)}_animateZoomNoLayer(h){const{_map:d,canvas:m}=this;if(m){const y=d.getZoomScale(h.zoom,d.getZoom()),w=d._getCenterOffset(h.center)._multiplyBy(-y).subtract(d._getMapPanePos());$.DomUtil.setTransform(m,w,y)}}_unclampedProject(h,d){var m;const{crs:y}=this._map.options,{R:w}=y.projection,g=Math.PI/180,C=h.lat,B=Math.sin(C*g),I=new $.Point(w*h.lng*g,w*Math.log((1+B)/(1-B))/2),X=(m=y?.scale(d))!==null&&m!==void 0?m:0;return y.transformation._transform(I,X)}_unclampedLatLngBoundsToNewLayerBounds(h,d,m){const y=this._map._getNewPixelOrigin(m,d);return new $.Bounds([this._unclampedProject(h.getSouthWest(),d).subtract(y),this._unclampedProject(h.getNorthWest(),d).subtract(y),this._unclampedProject(h.getSouthEast(),d).subtract(y),this._unclampedProject(h.getNorthEast(),d).subtract(y)])}}function ot(T){return`"${T}" not properly defined`}class ee{constructor(){this.array=new Float32Array(16)}setSize(h,d){return this.array.set([2/h,0,0,0,0,-2/d,0,0,0,0,0,0,-1,1,0,1]),this}translateTo(h,d){const{array:m}=this;return m[12]=m[0]*h-1,m[13]=m[5]*d+1,this}scaleTo(h){const{array:d}=this;return d[0]*=h,d[5]*=h,this}}const _="overlayPane",gt={pane:_};class yt{get data(){if(!this.settings.data)throw new Error(ot("settings.data"));return this.settings.data}get pane(){var h;return(h=this.settings.pane)!==null&&h!==void 0?h:_}get className(){var h;return(h=this.settings.className)!==null&&h!==void 0?h:""}get map(){if(!this.settings.map)throw new Error(ot("settings.map"));return this.settings.map}get sensitivity(){if(typeof this.settings.sensitivity!="number")throw new Error(ot("settings.sensitivity"));return this.settings.sensitivity}get sensitivityHover(){if(typeof this.settings.sensitivityHover!="number")throw new Error(ot("settings.sensitivityHover"));return this.settings.sensitivityHover}get hoverWait(){var h;return(h=this.settings.hoverWait)!==null&&h!==void 0?h:250}get longitudeKey(){if(typeof this.settings.longitudeKey!="number")throw new Error(ot("settings.longitudeKey"));return this.settings.longitudeKey}get latitudeKey(){if(typeof this.settings.latitudeKey!="number")throw new Error(ot("settings.latitudeKey"));return this.settings.latitudeKey}get opacity(){if(typeof this.settings.opacity!="number")throw new Error(ot("settings.opacity"));return this.settings.opacity}get color(){var h;return(h=this.settings.color)!==null&&h!==void 0?h:null}constructor(h){var d,m;this.bytes=0,this.buffers={},this.attributeLocations={},this.uniformLocations={},this.settings={...gt,...h},this.mapMatrix=new ee,this.active=!0,this.vertexShader=null,this.fragmentShader=null,this.program=null,this.matrix=null,this.vertices=null,this.vertexLines=null;try{this.mapCenterPixels=this.map.project(this.map.getCenter(),0)}catch{this.mapCenterPixels={x:-0,y:-0}}const y=!!h.preserveDrawingBuffer,w=this.layer=new q((C=>this.drawOnCanvas(C)),this.pane).addTo(this.map);if(!w.canvas)throw new Error(ot("layer.canvas"));const g=this.canvas=w.canvas;g.width=g.clientWidth,g.height=g.clientHeight,g.style.position="absolute",this.className&&(g.className+=" "+this.className),this.gl=(m=(d=g.getContext("webgl2",{preserveDrawingBuffer:y}))!==null&&d!==void 0?d:g.getContext("webgl",{preserveDrawingBuffer:y}))!==null&&m!==void 0?m:g.getContext("experimental-webgl",{preserveDrawingBuffer:y})}attachShaderVariables(h){if(this.getShaderVariableCount()===0)return this;const{gl:d,settings:m}=this,{shaderVariables:y}=m;let w=0;for(const g in y){if(!y.hasOwnProperty(g))continue;const C=y[g],B=this.getAttributeLocation(g);if(B<0)throw new Error("shader variable "+g+" not found");d.vertexAttribPointer(B,C.size,d[C.type],!!C.normalize,this.bytes*h,w*h),w+=C.size,d.enableVertexAttribArray(B)}return this}getShaderVariableCount(){var h;return Object.keys((h=this.settings.shaderVariables)!==null&&h!==void 0?h:{}).length}setData(h){return this.settings={...this.settings,data:h},this.render()}setup(){const h=this.settings;return h.click&&h.setupClick&&h.setupClick(this.map),h.hover&&h.setupHover&&h.setupHover(this.map,this.hoverWait),this.setupVertexShader().setupFragmentShader().setupProgram()}setupVertexShader(){const{gl:h,settings:d}=this,m=typeof d.vertexShaderSource=="function"?d.vertexShaderSource():d.vertexShaderSource,y=h.createShader(h.VERTEX_SHADER);if(!y)throw new Error("Not able to create vertex");if(!m)throw new Error(ot("settings.vertexShaderSource"));return h.shaderSource(y,m),h.compileShader(y),this.vertexShader=y,this}setupFragmentShader(){const h=this.gl,d=this.settings,m=typeof d.fragmentShaderSource=="function"?d.fragmentShaderSource():d.fragmentShaderSource,y=h.createShader(h.FRAGMENT_SHADER);if(!y)throw new Error("Not able to create fragment");if(!m)throw new Error(ot("settings.fragmentShaderSource"));return h.shaderSource(y,m),h.compileShader(y),this.fragmentShader=y,this}setupProgram(){const{gl:h,vertexShader:d,fragmentShader:m}=this,y=h.createProgram();if(!y)throw new Error("Not able to create program");if(!d)throw new Error(ot("this.vertexShader"));if(!m)throw new Error(ot("this.fragmentShader"));return h.attachShader(y,d),h.attachShader(y,m),h.linkProgram(y),h.useProgram(y),h.blendFuncSeparate(h.SRC_ALPHA,h.ONE_MINUS_SRC_ALPHA,h.ONE,h.ONE_MINUS_SRC_ALPHA),h.enable(h.BLEND),this.program=y,this}addTo(h){return this.layer.addTo(h??this.map),this.active=!0,this.render()}remove(h){if(h===void 0)this.removeInstance(),this.map.removeLayer(this.layer),this.active=!1;else{const d=this.settings.data.features||this.settings.data;typeof(h=h instanceof Array?h:[h])=="number"&&(h=[h]),h.sort(((m,y)=>m-y)).reverse().forEach((m=>{d.splice(m,1)})),this.render()}return this}insert(h,d){const m=Array.isArray(h)?h:[h],y=this.settings.data.features||this.settings.data;for(let w=0;w<m.length;w++)y.splice(d+w,0,m[w]);return this.render()}update(h,d){const m=this.settings.data.features||this.settings.data;if(Array.isArray(h))for(let y=0;y<h.length;y++)m[d+y]=h[y];else m[d]=h;return this.render()}getBuffer(h){if(!this.buffers[h]){const d=this.gl.createBuffer();if(!d)throw new Error("Not able to create buffer");this.buffers[h]=d}return this.buffers[h]}getAttributeLocation(h){if(!this.program)throw new Error(ot("this.program"));return this.attributeLocations[h]!==void 0?this.attributeLocations[h]:this.attributeLocations[h]=this.gl.getAttribLocation(this.program,h)}getUniformLocation(h){if(!this.program)throw new Error(ot("this.program"));if(this.uniformLocations[h]!==void 0)return this.uniformLocations[h];const d=this.gl.getUniformLocation(this.program,h);if(!d)throw new Error("Cannot find location");return this.uniformLocations[h]=d}click(h,d){if(!this.settings.click)return;const m=this.settings.click(h,d);return m!==void 0?m:void 0}hover(h,d){if(!this.settings.hover)return;const m=this.settings.hover(h,d);return m!==void 0?m:void 0}hoverOff(h,d){this.settings.hoverOff&&this.settings.hoverOff(h,d)}}function Pt(){return{r:Math.random(),g:Math.random(),b:Math.random(),a:Math.random()}}yt.defaults=gt;class mt{get length(){return this.array.length}constructor(h){this.pixels=[],this.latLngs=[],this.settings=h,this.vertexCount=0,this.array=[]}fillFromCoordinates(h){var d;const{color:m,opacity:y,project:w,latitudeKey:g,longitudeKey:C,mapCenterPixels:B}=this.settings;for(let I=0;I<h.length;I++){if(Array.isArray(h[I][0])){this.fillFromCoordinates(h[I]);continue}const X=h,U=new $.LatLng(X[I][g],X[I][C]);this.latLngs.push(U);const ht=w(U,0);this.pixels.push(ht),this.push(ht.x-B.x,ht.y-B.y,m.r,m.g,m.b,(d=m.a)!==null&&d!==void 0?d:y),I!==0&&I!==h.length-1&&(this.vertexCount+=1),this.vertexCount+=1}}push(...h){this.array.push(...h)}}function Bt(T,h){const d=Math.PI/180,m=4*Math.PI,y=Math.sin(T*d);return{x:(h+180)/360*256,y:256*(.5-Math.log((1+y)/(1-y))/m)}}function Jt(T,h,d){return(T.x-h.x)*(T.x-h.x)+(T.y-h.y)*(T.y-h.y)<=d*d}function Gt(T,h,d,m,y,w){const g=y-d,C=w-m,B=g*g+C*C;let I,X,U=-1;B!==0&&(U=((T-d)*g+(h-m)*C)/B),U<0?(I=d,X=m):U>1?(I=y,X=w):(I=d+U*g,X=m+U*C);const ht=T-I,V=h-X;return Math.sqrt(ht*ht+V*V)}function It(T,h,d){const m=d.latLngToLayerPoint(T),y=d.latLngToLayerPoint(h);return w=m.x-y.x,g=m.y-y.y,Math.sqrt(w*w+g*g);var w,g}const le={data:{type:"FeatureCollection",features:[]},color:Pt,className:"",opacity:.5,weight:2,sensitivity:.1,sensitivityHover:.03,shaderVariables:{vertex:{type:"FLOAT",start:0,size:2},color:{type:"FLOAT",start:2,size:4}}};class Wt extends yt{get weight(){if(!this.settings.weight)throw new Error("settings.weight not correctly defined");return this.settings.weight}constructor(h){if(super(h),this.scale=1/0,this.bytes=6,this.allVertices=[],this.allVerticesTyped=new Float32Array(0),this.vertices=[],this.aPointSize=-1,this.hoveringFeatures=[],this.settings={...Wt.defaults,...h},!h.data)throw new Error('"data" is missing');this.active=!0,this.setup().render()}render(){this.resetVertices();const{canvas:h,gl:d,layer:m,mapMatrix:y}=this,w=this.getBuffer("vertex");d.bindBuffer(d.ARRAY_BUFFER,w);const g=this.allVerticesTyped.BYTES_PER_ELEMENT;d.bufferData(d.ARRAY_BUFFER,this.allVerticesTyped,d.STATIC_DRAW);const C=this.getAttributeLocation("vertex");return d.vertexAttribPointer(C,2,d.FLOAT,!1,g*this.bytes,0),d.enableVertexAttribArray(C),this.matrix=this.getUniformLocation("matrix"),this.aPointSize=this.getAttributeLocation("pointSize"),y.setSize(h.width,h.height),d.viewport(0,0,h.width,h.height),d.uniformMatrix4fv(this.matrix,!1,y.array),this.attachShaderVariables(g),m.redraw(),this}resetVertices(){const{map:h,opacity:d,color:m,weight:y,latitudeKey:w,longitudeKey:g,data:C,bytes:B,settings:I,mapCenterPixels:X}=this,{eachVertex:U}=I,{features:ht}=C,V=ht.length;let dt,wt,Ct,nt=null,H=null,j=0;typeof m=="function"&&(nt=m),typeof y=="function"&&(H=y);const Ut=h.project.bind(h),kt=[];for(;j<V;j++){dt=ht[j],wt=nt?nt(j,dt):m;const me=H?H(j,dt):y;Ct=(dt.geometry||dt).coordinates,dt.geometry.type!=="MultiLineString"&&(Ct=[Ct]);for(const ie of Ct){const ke=new mt({project:Ut,latitudeKey:w,longitudeKey:g,color:wt,weight:me,opacity:d,mapCenterPixels:X});ke.fillFromCoordinates(ie),kt.push(ke),U&&U(ke)}}const Vt=kt.length,Ft=[];for(let me=0;me<Vt;me++){const ie=kt[me].array,ke=ie.length/B;for(let _e=0;_e<ke;_e++){const Qt=_e*B;_e!==0&&_e!==ke-1&&Ft.push(ie[Qt],ie[Qt+1],ie[Qt+2],ie[Qt+3],ie[Qt+4],ie[Qt+5]),Ft.push(ie[Qt],ie[Qt+1],ie[Qt+2],ie[Qt+3],ie[Qt+4],ie[Qt+5])}}return this.vertices=kt,this.allVertices=Ft,this.allVerticesTyped=new Float32Array(Ft),this}removeInstance(){const h=v.linesInstances.findIndex((d=>d.layer._leaflet_id===this.layer._leaflet_id));return h!==-1&&v.linesInstances.splice(h,1),this}drawOnCanvas(h){if(!this.gl)return this;const{gl:d,data:m,canvas:y,mapMatrix:w,matrix:g,allVertices:C,vertices:B,weight:I,aPointSize:X,bytes:U,mapCenterPixels:ht}=this,{scale:V,offset:dt,zoom:wt}=h;this.scale=V;const Ct=Math.max(wt-4,4);if(d.clear(d.COLOR_BUFFER_BIT),d.viewport(0,0,y.width,y.height),d.vertexAttrib1f(X,Ct),w.setSize(y.width,y.height).scaleTo(V),wt>18)w.translateTo(-dt.x+ht.x,-dt.y+ht.y),d.uniformMatrix4fv(g,!1,w.array),d.drawArrays(d.LINES,0,C.length/U);else if(typeof I=="number")for(let nt=-I;nt<=I;nt+=.5)for(let H=-I;H<=I;H+=.5)w.translateTo(-dt.x+ht.x+H/V,-dt.y+ht.y+nt/V),d.uniformMatrix4fv(g,!1,w.array),d.drawArrays(d.LINES,0,C.length/U);else if(typeof I=="function"){let nt=0;const{features:H}=m;for(let j=0;j<B.length;j++){const Ut=B[j],{vertexCount:kt}=Ut,Vt=I(j,H[j]);for(let Ft=-Vt;Ft<=Vt;Ft+=.5)for(let me=-Vt;me<=Vt;me+=.5)w.translateTo(-dt.x+ht.x+me/V,-dt.y+ht.y+Ft/V),d.uniformMatrix4fv(this.matrix,!1,w.array),d.drawArrays(d.LINES,nt,kt);nt+=kt}}return this}static tryClick(h,d,m){let y=null,w=null;if(m.forEach((g=>{const{latitudeKey:C,longitudeKey:B,sensitivity:I,weight:X,scale:U,active:ht}=g;function V(dt,wt,Ct,nt){Gt(h.latlng.lng,h.latlng.lat,wt[B],wt[C],dt[B],dt[C])<=I+nt/U&&(y=Ct,w=g)}ht&&g.map===d&&g.data.features.forEach(((dt,wt)=>{const Ct=typeof X=="function"?X(wt,dt):X,{coordinates:nt,type:H}=dt.geometry;if(H==="LineString")for(let j=1;j<nt.length;j++)V(nt[j],nt[j-1],dt,Ct);else if(H==="MultiLineString")for(let j=0;j<nt.length;j++){const Ut=nt[j];for(let kt=0;kt<Ut.length;kt++)if(kt===0&&j>0){const Vt=nt[j-1];V(Vt[Vt.length-1],nt[j][kt],dt,Ct)}else kt>0&&V(nt[j][kt],nt[j][kt-1],dt,Ct)}}))})),w&&y){const g=w.click(h,y);return g!==void 0?g:void 0}}static tryHover(h,d,m){const y=[];return m.forEach((w=>{const{sensitivityHover:g,latitudeKey:C,longitudeKey:B,data:I,hoveringFeatures:X,weight:U,scale:ht}=w;function V(nt,H,j,Ut){return Gt(h.latlng.lng,h.latlng.lat,H[B],H[C],nt[B],nt[C])<=g+Ut/ht&&(wt.includes(j)||wt.push(j),!dt.includes(j))}if(!w.active||d!==w.map)return;const dt=X,wt=[];w.hoveringFeatures=wt;const Ct=(0,$.geoJSON)(I.features).getBounds();(function(nt,H){const j=H.getNorthEast(),Ut=H.getSouthWest();return j.lat>nt.lat&&nt.lat>Ut.lat&&j.lng>nt.lng&&nt.lng>Ut.lng})(h.latlng,Ct)&&I.features.forEach(((nt,H)=>{const j=typeof U=="function"?U(H,nt):U,{coordinates:Ut,type:kt}=nt.geometry;let Vt=!1;if(kt==="LineString")for(let Ft=1;Ft<Ut.length&&(Vt=V(Ut[Ft],Ut[Ft-1],nt,j),!Vt);Ft++);else if(kt==="MultiLineString")for(let Ft=0;Ft<Ut.length;Ft++){const me=Ut[Ft];for(let ie=0;ie<me.length;ie++)if(ie===0&&Ft>0){const ke=Ut[Ft-1];if(Vt=V(ke[ke.length-1],Ut[Ft][ie],nt,j),Vt)break}else if(ie>0&&(Vt=V(Ut[Ft][ie],Ut[Ft][ie-1],nt,j),Vt))break}if(Vt){const Ft=w.hover(h,nt);Ft!==void 0&&y.push(Ft)}}));for(let nt=0;nt<dt.length;nt++){const H=dt[nt];wt.includes(H)||w.hoverOff(h,H)}})),y}}Wt.defaults=le;const $t={color:Pt,opacity:.8,className:"",sensitivity:2,sensitivityHover:.03,shaderVariables:{vertex:{type:"FLOAT",start:0,size:2},color:{type:"FLOAT",start:2,size:4},pointSize:{type:"FLOAT",start:6,size:1}}};class vt extends yt{get size(){return typeof this.settings.size=="number"||typeof this.settings.size=="function"?this.settings.size:null}constructor(h){var d;super(h),this.bytes=7,this.latLngLookup={},this.allLatLngLookup=[],this.vertices=[],this.typedVertices=new Float32Array,this.hoveringFeatures=[],this.settings={...$t,...h},this.active=!0;const{data:m,map:y}=this;if(Array.isArray(m))this.dataFormat="Array";else{if(m.type!=="FeatureCollection")throw new Error("unhandled data type. Supported types are Array and GeoJson.FeatureCollection");this.dataFormat="GeoJson.FeatureCollection"}((d=y.options.crs)===null||d===void 0?void 0:d.code)!=="EPSG:3857"&&console.warn("layer designed for SphericalMercator, alternate detected"),this.setup().render()}render(){this.resetVertices();const{gl:h,canvas:d,layer:m,vertices:y,mapMatrix:w}=this,g=this.matrix=this.getUniformLocation("matrix"),C=this.getBuffer("vertices"),B=this.typedVertices=new Float32Array(y),I=B.BYTES_PER_ELEMENT;return w.setSize(d.width,d.height),h.viewport(0,0,d.width,d.height),h.uniformMatrix4fv(g,!1,w.array),h.bindBuffer(h.ARRAY_BUFFER,C),h.bufferData(h.ARRAY_BUFFER,B,h.STATIC_DRAW),this.attachShaderVariables(I),m.redraw(),this}getPointLookup(h){return this.latLngLookup[h]||(this.latLngLookup[h]=[])}addLookup(h){return this.getPointLookup(h.key).push(h),this.allLatLngLookup.push(h),this}resetVertices(){var h,d,m,y,w,g;this.latLngLookup={},this.allLatLngLookup=[],this.vertices=[];const{vertices:C,settings:B,map:I,size:X,latitudeKey:U,longitudeKey:ht,color:V,opacity:dt,data:wt,mapCenterPixels:Ct}=this,{eachVertex:nt}=B;let H,j,Ut,kt,Vt,Ft,me,ie=null;if(!V)throw new Error("color is not properly defined");if(typeof V=="function"&&(ie=V),!X)throw new Error("size is not properly defined");if(typeof X=="function"&&(Ut=X),this.dataFormat==="Array"){const ke=wt.length;for(let _e=0;_e<ke;_e++){kt=wt[_e],me=kt[U].toFixed(2)+"x"+kt[ht].toFixed(2),Vt=new $.LatLng(kt[U],kt[ht]),Ft=I.project(Vt,0),H=ie?ie(_e,Vt):V,H={...H,a:(d=(h=H.a)!==null&&h!==void 0?h:dt)!==null&&d!==void 0?d:0},j=Ut?Ut(_e,Vt):X,C.push(Ft.x-Ct.x,Ft.y-Ct.y,H.r,H.g,H.b,(m=H.a)!==null&&m!==void 0?m:0,j);const Qt={latLng:Vt,key:me,pixel:Ft,chosenColor:H,chosenSize:j,feature:kt};this.addLookup(Qt),nt&&nt(Qt)}}else if(this.dataFormat==="GeoJson.FeatureCollection"){const ke=wt.features.length;for(let _e=0;_e<ke;_e++){const Qt=wt.features[_e];kt=Qt.geometry.coordinates,me=kt[U].toFixed(2)+"x"+kt[ht].toFixed(2),Vt=new $.LatLng(kt[U],kt[ht]),Ft=I.project(Vt,0),H=ie?ie(_e,Qt):V,H={...H,a:(w=(y=H.a)!==null&&y!==void 0?y:dt)!==null&&w!==void 0?w:0},j=Ut?Ut(_e,Vt):X,C.push(Ft.x-Ct.x,Ft.y-Ct.y,H.r,H.g,H.b,(g=H.a)!==null&&g!==void 0?g:0,j);const Ue={latLng:Vt,key:me,pixel:Ft,chosenColor:H,chosenSize:j,feature:Qt};this.addLookup(Ue),nt&&nt(Ue)}}return this}removeInstance(){const h=v.pointsInstances.findIndex((d=>d.layer._leaflet_id===this.layer._leaflet_id));return h!==-1&&v.pointsInstances.splice(h,1),this}pointSize(h){const{map:d,size:m}=this,y=typeof m=="function"?m(h,null):m,w=d.getZoom();return y===null?Math.max(w-4,1):y}drawOnCanvas(h){if(!this.gl)return this;const{gl:d,canvas:m,mapMatrix:y,matrix:w,map:g,allLatLngLookup:C,mapCenterPixels:B}=this,{offset:I}=h,X=g.getZoom(),U=Math.pow(2,X);return y.setSize(m.width,m.height).scaleTo(U).translateTo(-I.x+B.x,-I.y+B.y),d.clear(d.COLOR_BUFFER_BIT),d.viewport(0,0,m.width,m.height),d.uniformMatrix4fv(w,!1,y.array),d.drawArrays(d.POINTS,0,C.length),this}lookup(h){const d=h.lat+.03,m=h.lng+.03,y=[];let w,g,C,B,I,X=h.lat-.03;for(;X<=d;X+=.01)for(w=h.lng-.03;w<=m;w+=.01)if(I=X.toFixed(2)+"x"+w.toFixed(2),B=this.latLngLookup[I],B)for(g=0,C=B.length;g<C;g++)y.push(B[g]);const{map:U}=this;return vt.closest(h,y.length>0?y:this.allLatLngLookup,U)}static closest(h,d,m){return d.length<1?null:d.reduce(((y,w)=>It(h,y.latLng,m)<It(h,w.latLng,m)?y:w))}static tryClick(h,d,m){const y=[],w={};let g,C,B=null;if(m.forEach((V=>{B=V.settings,V.active&&V.map===d&&(C=V.lookup(h.latlng),C!==null&&(w[C.key]=V,y.push(C)))})),y.length<1||!B)return;const I=this.closest(h.latlng,y,d);if(!I)return;const X=w[I.key];if(!X)return;const{sensitivity:U}=X,ht=I.latLng;return Jt(d.latLngToLayerPoint(ht),h.layerPoint,I.chosenSize*(U??1))?(g=X.click(h,I.feature||I.latLng),g===void 0||g):void 0}static tryHover(h,d,m){const y=[];return m.forEach((w=>{const{sensitivityHover:g,hoveringFeatures:C}=w;if(!w.active||w.map!==d)return;const B=C,I=[];w.hoveringFeatures=I;const X=w.lookup(h.latlng);if(X){if(Jt(d.latLngToLayerPoint(X.latLng),h.layerPoint,X.chosenSize*g*30)){let U=X.feature||X.latLng;I.includes(U)||I.push(U);const ht=w.hover(h,U);ht!==void 0&&y.push(ht)}for(let U=0;U<B.length;U++){const ht=B[U];I.includes(ht)||w.hoverOff(h,ht)}}})),y}}vt.defaults=$t,vt.maps=[];var A=Nt(570),O=Nt.n(A),Q=Nt(670),G=Nt.n(Q);function tt(T){switch(T&&T.type||null){case"FeatureCollection":return T.features=T.features.reduce((function(h,d){return h.concat(tt(d))}),[]),T;case"Feature":return T.geometry?tt(T.geometry).map((function(h){var d={type:"Feature",properties:JSON.parse(JSON.stringify(T.properties)),geometry:h};return T.id!==void 0&&(d.id=T.id),d})):[T];case"MultiPoint":return T.coordinates.map((function(h){return{type:"Point",coordinates:h}}));case"MultiPolygon":return T.coordinates.map((function(h){return{type:"Polygon",coordinates:h}}));case"MultiLineString":return T.coordinates.map((function(h){return{type:"LineString",coordinates:h}}));case"GeometryCollection":return T.geometries.map(tt).reduce((function(h,d){return h.concat(d)}),[]);case"Point":case"Polygon":case"LineString":return[T]}}const lt={color:Pt,className:"",opacity:.5,borderOpacity:1,shaderVariables:{vertex:{type:"FLOAT",start:0,size:2},color:{type:"FLOAT",start:2,size:4}},border:!1};class K extends yt{get border(){if(typeof this.settings.border!="boolean")throw new Error(ot("settings.border"));return this.settings.border}get borderOpacity(){if(typeof this.settings.borderOpacity!="number")throw new Error(ot("settings.borderOpacity"));return this.settings.borderOpacity}constructor(h){if(super(h),this.bytes=6,this.polygonLookup=null,this.hoveringFeatures=[],this.settings={...K.defaults,...h},!h.data)throw new Error(ot("settings.data"));if(!h.map)throw new Error(ot("settings.map"));this.setup().render()}render(){this.resetVertices();const{canvas:h,gl:d,layer:m,vertices:y,mapMatrix:w}=this,g=this.getBuffer("vertex"),C=new Float32Array(y),B=C.BYTES_PER_ELEMENT,I=this.getAttributeLocation("vertex");return d.bindBuffer(d.ARRAY_BUFFER,g),d.bufferData(d.ARRAY_BUFFER,C,d.STATIC_DRAW),d.vertexAttribPointer(I,2,d.FLOAT,!1,B*this.bytes,0),d.enableVertexAttribArray(I),this.matrix=this.getUniformLocation("matrix"),d.viewport(0,0,h.width,h.height),w.setSize(h.width,h.height),d.uniformMatrix4fv(this.matrix,!1,w.array),this.attachShaderVariables(B),m.redraw(),this}resetVertices(){this.vertices=[],this.vertexLines=[],this.polygonLookup=new(G());const{vertices:h,vertexLines:d,polygonLookup:m,map:y,border:w,opacity:g,borderOpacity:C,color:B,data:I,mapCenterPixels:X}=this;let U,ht,V,dt,wt,Ct,nt,H,j,Ut,kt=null,Vt=0;switch(I.type){case"Feature":m.loadFeatureCollection({type:"FeatureCollection",features:[I]}),V=tt(I);break;case"MultiPolygon":{const me={type:"MultiPolygon",coordinates:I.coordinates};m.loadFeatureCollection({type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:me}]}),V=tt(I);break}default:m.loadFeatureCollection(I),V=I.features}const Ft=V.length;if(!B)throw new Error(ot("settings.color"));for(typeof B=="function"&&(kt=B);Vt<Ft;Vt++){dt=V[Vt],nt=[],wt=kt!==null?kt(Vt,dt):B;const me=typeof wt.a=="number"?wt.a:g;if(Ct=(dt.geometry||dt).coordinates,dt.geometry.type!=="MultiPolygon"&&(Ct=[Ct]),Ct.length!=0&&Array.isArray(Ct[0])&&Array.isArray(Ct[0][0]))for(let ie in Ct){j=O().flatten(Ct[ie]),H=O()(j.vertices,j.holes,j.dimensions),Ut=Ct[ie][0][0].length;const{longitudeKey:ke,latitudeKey:_e}=this;for(let Qt=0,Ue=H.length;Qt<Ue;Qt++){if(ht=H[Qt],typeof j.vertices[0]!="number")throw new Error("unhandled polygon");nt.push(j.vertices[ht*Ut+ke],j.vertices[ht*Ut+_e])}for(let Qt=0,Ue=nt.length;Qt<Ue;Qt)U=y.project(new $.LatLng(nt[Qt++],nt[Qt++]),0),h.push(U.x-X.x,U.y-X.y,wt.r,wt.g,wt.b,me);if(w){const Qt=[];let Ue=0;for(let Ve=1,hi=j.vertices.length-2;Ve<hi;Ve+=2)(Ve+1)/2!==j.holes[Ue]?(Qt.push(j.vertices[Ve],j.vertices[Ve-1]),Qt.push(j.vertices[Ve+2],j.vertices[Ve+1])):Ue++;for(let Ve=0,hi=Qt.length;Ve<hi;Ve)U=Bt(Qt[Ve++],Qt[Ve++]),d.push(U.x-X.x,U.y-X.y,wt.r,wt.g,wt.b,C)}}}return this}removeInstance(){const h=v.shapesInstances.findIndex((d=>d.layer._leaflet_id===this.layer._leaflet_id));return h!==-1&&v.shapesInstances.splice(h,1),this}drawOnCanvas(h){if(!this.gl)return this;const{scale:d,offset:m,canvas:y}=h,{mapMatrix:w,gl:g,vertices:C,settings:B,vertexLines:I,border:X,mapCenterPixels:U}=this;if(w.setSize(y.width,y.height).scaleTo(d).translateTo(-m.x+U.x,-m.y+U.y),g.clear(g.COLOR_BUFFER_BIT),g.viewport(0,0,y.width,y.height),g.uniformMatrix4fv(this.matrix,!1,w.array),X){const ht=this.getBuffer("vertexLines"),V=new Float32Array(I),dt=V.BYTES_PER_ELEMENT,wt=this.getAttributeLocation("vertex");g.bindBuffer(g.ARRAY_BUFFER,null),g.bindBuffer(g.ARRAY_BUFFER,ht),g.bufferData(g.ARRAY_BUFFER,V,g.STATIC_DRAW),this.settings.shaderVariables!==null&&this.attachShaderVariables(dt),g.vertexAttribPointer(wt,3,g.FLOAT,!1,dt*this.bytes,0),g.enableVertexAttribArray(wt),g.enable(g.DEPTH_TEST),g.viewport(0,0,y.width,y.height),g.drawArrays(g.LINES,0,I.length/this.bytes);const Ct=this.getBuffer("vertex"),nt=new Float32Array(C);g.bindBuffer(g.ARRAY_BUFFER,null),g.bindBuffer(g.ARRAY_BUFFER,Ct),g.bufferData(g.ARRAY_BUFFER,nt,g.STATIC_DRAW),B.shaderVariables!==null&&this.attachShaderVariables(dt),g.vertexAttribPointer(wt,2,g.FLOAT,!1,dt*this.bytes,0),g.enableVertexAttribArray(wt),g.enable(g.DEPTH_TEST),g.viewport(0,0,y.width,y.height)}return g.drawArrays(g.TRIANGLES,0,C.length/this.bytes),this}static tryClick(h,d,m){let y=null,w=null;if(m.forEach((function(g){if(!g.active||g.map!==d||!g.polygonLookup)return;const C=g.polygonLookup.search(h.latlng.lng,h.latlng.lat);C&&(w=g,y=C)})),w&&y){const g=w.click(h,y);return g!==void 0?g:void 0}}static tryHover(h,d,m){const y=[];return m.forEach((function(w){const{hoveringFeatures:g}=w;if(!w.active||w.map!==d||!w.polygonLookup)return;const C=g,B=[];w.hoveringFeatures=B;const I=w.polygonLookup.search(h.latlng.lng,h.latlng.lat);if(I){B.includes(I)||B.push(I);const X=w.hover(h,I);X!==void 0&&y.push(X)}for(let X=0;X<C.length;X++){const U=C[X];B.includes(U)||w.hoverOff(h,U)}})),y}}K.defaults=lt;const Zt={vertex:`uniform mat4 matrix;
attribute vec4 vertex;
attribute vec4 color;
attribute float pointSize;
varying vec4 _color;

void main() {
  //set the size of the point
  gl_PointSize = pointSize;

  //multiply each vertex by a matrix.
  gl_Position = matrix * vertex;

  //pass the color to the fragment shader
  _color = color;
}
`,fragment:{dot:`precision mediump float;
uniform vec4 color;

void main() {
    float border = 0.05;
    float radius = 0.5;
    vec2 center = vec2(0.5);

    vec4 color0 = vec4(0.0);
    vec4 color1 = vec4(color[0], color[1], color[2], color[3]);

    vec2 m = gl_PointCoord.xy - center;
    float dist = radius - sqrt(m.x * m.x + m.y * m.y);

    float t = 0.0;
    if (dist > border) {
        t = 1.0;
    } else if (dist > 0.0) {
        t = dist / border;
    }

    //works for overlapping circles if blending is enabled
    gl_FragColor = mix(color0, color1, t);
}
`,point:`precision mediump float;
varying vec4 _color;

void main() {
  float border = 0.1;
  float radius = 0.5;
  vec2 center = vec2(0.5, 0.5);

  vec4 pointColor = vec4(
    _color[0],
    _color[1],
    _color[2],
    _color[3]
  );

  vec2 m = gl_PointCoord.xy - center;
  float dist1 = radius - sqrt(m.x * m.x + m.y * m.y);

  float t1 = 0.0;
  if (dist1 > border) {
      t1 = 1.0;
  } else if (dist1 > 0.0) {
      t1 = dist1 / border;
  }

  //works for overlapping circles if blending is enabled
  //gl_FragColor = mix(color0, color1, t);

  //border
  float outerBorder = 0.05;
  float innerBorder = 0.8;
  vec4 borderColor = vec4(0, 0, 0, 0.4);
  vec2 uv = gl_PointCoord.xy;
  vec4 clearColor = vec4(0, 0, 0, 0);

  // Offset uv with the center of the circle.
  uv -= center;

  float dist2 =  sqrt(dot(uv, uv));

  float t2 = 1.0 + smoothstep(radius, radius + outerBorder, dist2)
                - smoothstep(radius - innerBorder, radius, dist2);

  gl_FragColor = mix(mix(borderColor, clearColor, t2), pointColor, t1);
}
`,puck:`precision mediump float;
varying vec4 _color;

void main() {
  vec2 center = vec2(0.5);
  vec2 uv = gl_PointCoord.xy - center;
  float smoothing = 0.005;
  vec4 _color1 = vec4(_color[0], _color[1], _color[2], _color[3]);
  float radius1 = 0.3;
  vec4 _color2 = vec4(_color[0], _color[1], _color[2], _color[3]);
  float radius2 = 0.5;
  float dist = length(uv);

  //SMOOTH
  float gamma = 2.2;
  color1.rgb = pow(_color1.rgb, vec3(gamma));
  color2.rgb = pow(_color2.rgb, vec3(gamma));

  vec4 puck = mix(
    mix(
      _color1,
      _color2,
      smoothstep(
        radius1 - smoothing,
        radius1 + smoothing,
        dist
      )
    ),
    vec4(0,0,0,0),
      smoothstep(
        radius2 - smoothing,
        radius2 + smoothing,
        dist
    )
  );

  //Gamma correction (prevents color fringes)
  puck.rgb = pow(puck.rgb, vec3(1.0 / gamma));
  gl_FragColor = puck;
}
`,simpleCircle:`precision mediump float;
varying vec4 _color;

void main() {
    vec4 color1 = vec4(_color[0], _color[1], _color[2], _color[3]);

    //simple circles
    float d = distance (gl_PointCoord, vec2(0.5, 0.5));
    if (d < 0.5 ){
        gl_FragColor = color1;
    } else {
        discard;
    }
}
`,square:`precision mediump float;
varying vec4 _color;

void main() {
    //squares
    gl_FragColor = vec4(_color[0], _color[1], _color[2], _color[3]);
}
`,polygon:`precision mediump float;
varying vec4 _color;

void main() {
  gl_FragColor = vec4(
    _color[0],
    _color[1],
    _color[2],
    _color[3]
  );
}
`}};class xt{constructor(){this.longitudeKey=1,this.latitudeKey=0,this.clickSetupMaps=[],this.hoverSetupMaps=[],this.shader=Zt,this.Points=vt,this.Shapes=K,this.Lines=Wt,this.pointsInstances=[],this.shapesInstances=[],this.linesInstances=[]}longitudeFirst(){return this.longitudeKey=0,this.latitudeKey=1,this}latitudeFirst(){return this.latitudeKey=0,this.longitudeKey=1,this}get instances(){return[...this.pointsInstances,...this.linesInstances,...this.shapesInstances]}points(h){const d=new this.Points({setupClick:this.setupClick.bind(this),setupHover:this.setupHover.bind(this),latitudeKey:Ht.latitudeKey,longitudeKey:Ht.longitudeKey,vertexShaderSource:()=>this.shader.vertex,fragmentShaderSource:()=>this.shader.fragment.point,...h});return this.pointsInstances.push(d),d}lines(h){const d=new this.Lines({setupClick:this.setupClick.bind(this),setupHover:this.setupHover.bind(this),latitudeKey:this.latitudeKey,longitudeKey:this.longitudeKey,vertexShaderSource:()=>this.shader.vertex,fragmentShaderSource:()=>this.shader.fragment.polygon,...h});return this.linesInstances.push(d),d}shapes(h){const d=new this.Shapes({setupClick:this.setupClick.bind(this),setupHover:this.setupHover.bind(this),latitudeKey:this.latitudeKey,longitudeKey:this.longitudeKey,vertexShaderSource:()=>this.shader.vertex,fragmentShaderSource:()=>this.shader.fragment.polygon,...h});return this.shapesInstances.push(d),d}setupClick(h){this.clickSetupMaps.includes(h)||(this.clickSetupMaps.push(h),h.on("click",(d=>{let m;return m=this.Points.tryClick(d,h,this.pointsInstances),m!==void 0?m:(m=this.Lines.tryClick(d,h,this.linesInstances),m!==void 0?m:(m=this.Shapes.tryClick(d,h,this.shapesInstances),m!==void 0?m:void 0))})))}setupHover(h,d,m){this.hoverSetupMaps.includes(h)||(this.hoverSetupMaps.push(h),h.on("mousemove",(function(y,w,g){let C=null;return function(B){const I=g&&!C;C!==null&&clearTimeout(C),C=setTimeout((function(){C=null,g||y(B)}),w),I&&y(B)}})((y=>{this.Points.tryHover(y,h,this.pointsInstances),this.Lines.tryHover(y,h,this.linesInstances),this.Shapes.tryHover(y,h,this.shapesInstances)}),d??0,m)))}}const Ht=new xt,v=Ht;typeof window<"u"&&window.L&&(window.L.glify=Ht,window.L.Glify=xt)})(),Tt})()))})(Ta)),Ta.exports}jl();delete ps.Icon.Default.prototype._getIconUrl;ps.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"});function Hl(st){if(st.length<6)return null;st=st.toLowerCase(),st[0]==="#"&&(st=st.substring(1,st.length));var bt=parseInt(st[0]+st[1],16),k=parseInt(st[2]+st[3],16),pt=parseInt(st[4]+st[5],16);return{r:bt/255,g:k/255,b:pt/255}}const Ul=({config:st,data:bt,filters:k})=>{const pt=Ju(),at=be.useRef(null);return be.useEffect(()=>{if(console.log("GlifyLayer useEffect triggered, data changed:",bt.length),!pt)return;const Nt=st.params?.latitude,Tt=st.params?.longitude;if(!Nt||!Tt){console.error("MapWidget: latitudeColumn or longitudeColumn not provided in config.params");return}const $=bt.map(q=>({latitude:parseFloat(q[Nt]),longitude:parseFloat(q[Tt])})).filter(q=>!isNaN(q.latitude)&&!isNaN(q.longitude));if($.length!==0){if(at.current=ps.glify.points({map:pt,data:$.map(q=>[q.latitude,q.longitude]),color:Hl("#000000"),size:5,opacity:.7}).addTo(pt),$.length>0){const q=$.map(ot=>[ot.latitude,ot.longitude]);pt.fitBounds(q)}return()=>{at.current&&(console.log("Cleanup: removing glifyLayerRef",at.current),pt.removeLayer(at.current),at.current=null)}}},[pt,st,k,bt]),null},Vl=()=>{const st="0123456789ABCDEF";let bt="#";for(let k=0;k<6;k++)bt+=st[Math.floor(Math.random()*16)];return bt},Yl=({data:st,config:bt})=>{const k=Ju(),pt=be.useRef(null);return be.useEffect(()=>{if(!k)return;pt.current&&k.removeLayer(pt.current);const at=[];return st.forEach(Nt=>{if(Nt.org_unit_simplified_geom_geojson)try{const Tt=JSON.parse(Nt.org_unit_simplified_geom_geojson);if(Tt.type==="FeatureCollection")at.push(...Tt.features);else if(Tt.type==="Feature")at.push(Tt);else if(Tt.geometry)at.push({type:"Feature",properties:Nt,geometry:Tt});else{at.push(Tt),Tt.properties={};for(let $ of bt.params.columns)$.label!="org_unit_simplified_geom_geojson"&&(Tt.properties[$.label]=Nt[$.label])}}catch(Tt){console.error("Error parsing GeoJSON:",Tt)}}),at.length>0&&(pt.current=ps.geoJSON(at,{style:Nt=>{const Tt=Vl();return{color:Tt,weight:2,opacity:.7,fillColor:Tt,fillOpacity:.3}},onEachFeature:(Nt,Tt)=>{if(Nt.properties){let $="<table>";for(const q in Nt.properties)Nt.properties[q]!=null&&($+=`<tr><td><b>${q}:</b></td><td>${JSON.stringify(Nt.properties[q])}</td></tr>`);$+="</table>",Tt.bindPopup($)}}}).addTo(k),k.fitBounds(pt.current.getBounds())),()=>{pt.current&&k.removeLayer(pt.current)}},[k,st]),null};function Gl({config:st,data:bt,filters:k}){const{tableVersion:pt}=Sl();return ao.jsx("div",{children:ao.jsxs(Dl,{center:[0,0],zoom:2,style:{height:"500px",width:"100%"},children:[ao.jsx(Wl,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),ao.jsx(Ul,{config:st,data:bt,filters:k},"map-"+pt),ao.jsx(Yl,{config:st,data:bt},"geojson-"+pt)]},"map-"+pt)})}export{Gl as MapWidget};
