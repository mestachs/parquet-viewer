import{r as Te,a as Pl,g as Tl,R as Uu,u as Ml,j as La}from"./index-DqsZ6T-_.js";function Sl(Ct,Ot){const k=Te.useRef(Ot);Te.useEffect(function(){Ot!==k.current&&Ct.attributionControl!=null&&(k.current!=null&&Ct.attributionControl.removeAttribution(k.current),Ot!=null&&Ct.attributionControl.addAttribution(Ot)),k.current=Ot},[Ct,Ot])}Pl();const Cl=1;function El(Ct){return Object.freeze({__version:Cl,map:Ct})}const qu=Te.createContext(null);function Ku(){const Ct=Te.use(qu);if(Ct==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return Ct}function Al(Ct){function Ot(k,Zt){const{instance:mt}=Ct(k).current;return Te.useImperativeHandle(Zt,()=>mt),null}return Te.forwardRef(Ot)}function zl(Ct,Ot){const k=Te.useRef(void 0);Te.useEffect(function(){return Ot!=null&&Ct.instance.on(Ot),k.current=Ot,function(){k.current!=null&&Ct.instance.off(k.current),k.current=null}},[Ct,Ot])}function Gu(Ct,Ot){const k=Ct.pane??Ot.pane;return k?{...Ct,pane:k}:Ct}var ao={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var kl=ao.exports,Vu;function Xu(){return Vu||(Vu=1,(function(Ct,Ot){(function(k,Zt){Zt(Ot)})(kl,(function(k){var Zt="1.9.4";function mt(t){var n,r,s,a;for(r=1,s=arguments.length;r<s;r++){a=arguments[r];for(n in a)t[n]=a[n]}return t}var ne=Object.create||(function(){function t(){}return function(n){return t.prototype=n,new t}})();function Xt(t,n){var r=Array.prototype.slice;if(t.bind)return t.bind.apply(t,r.call(arguments,1));var s=r.call(arguments,2);return function(){return t.apply(n,s.length?s.concat(r.call(arguments)):arguments)}}var Q=0;function it(t){return"_leaflet_id"in t||(t._leaflet_id=++Q),t._leaflet_id}function ot(t,n,r){var s,a,c,x;return x=function(){s=!1,a&&(c.apply(r,a),a=!1)},c=function(){s?a=arguments:(t.apply(r,arguments),setTimeout(x,n),s=!0)},c}function te(t,n,r){var s=n[1],a=n[0],c=s-a;return t===s&&r?t:((t-a)%c+c)%c+a}function _(){return!1}function pt(t,n){if(n===!1)return t;var r=Math.pow(10,n===void 0?6:n);return Math.round(t*r)/r}function vt(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function wt(t){return vt(t).split(/\s+/)}function dt(t,n){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?ne(t.options):{});for(var r in n)t.options[r]=n[r];return t.options}function zt(t,n,r){var s=[];for(var a in t)s.push(encodeURIComponent(r?a.toUpperCase():a)+"="+encodeURIComponent(t[a]));return(!n||n.indexOf("?")===-1?"?":"&")+s.join("&")}var Gt=/\{ *([\w_ -]+) *\}/g;function Yt(t,n){return t.replace(Gt,function(r,s){var a=n[s];if(a===void 0)throw new Error("No value provided for variable "+r);return typeof a=="function"&&(a=a(n)),a})}var kt=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function le(t,n){for(var r=0;r<t.length;r++)if(t[r]===n)return r;return-1}var Ft="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function $t(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var _t=0;function A(t){var n=+new Date,r=Math.max(0,16-(n-_t));return _t=n+r,window.setTimeout(t,r)}var O=window.requestAnimationFrame||$t("RequestAnimationFrame")||A,$=window.cancelAnimationFrame||$t("CancelAnimationFrame")||$t("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function q(t,n,r){if(r&&O===A)t.call(n);else return O.call(window,Xt(t,n))}function J(t){t&&$.call(window,t)}var ut={__proto__:null,extend:mt,create:ne,bind:Xt,get lastId(){return Q},stamp:it,throttle:ot,wrapNum:te,falseFn:_,formatNum:pt,trim:vt,splitWords:wt,setOptions:dt,getParamString:zt,template:Yt,isArray:kt,indexOf:le,emptyImageUrl:Ft,requestFn:O,cancelFn:$,requestAnimFrame:q,cancelAnimFrame:J};function K(){}K.extend=function(t){var n=function(){dt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=n.__super__=this.prototype,s=ne(r);s.constructor=n,n.prototype=s;for(var a in this)Object.prototype.hasOwnProperty.call(this,a)&&a!=="prototype"&&a!=="__super__"&&(n[a]=this[a]);return t.statics&&mt(n,t.statics),t.includes&&(Bt(t.includes),mt.apply(null,[s].concat(t.includes))),mt(s,t),delete s.statics,delete s.includes,s.options&&(s.options=r.options?ne(r.options):{},mt(s.options,t.options)),s._initHooks=[],s.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var c=0,x=s._initHooks.length;c<x;c++)s._initHooks[c].call(this)}},n},K.include=function(t){var n=this.prototype.options;return mt(this.prototype,t),t.options&&(this.prototype.options=n,this.mergeOptions(t.options)),this},K.mergeOptions=function(t){return mt(this.prototype.options,t),this},K.addInitHook=function(t){var n=Array.prototype.slice.call(arguments,1),r=typeof t=="function"?t:function(){this[t].apply(this,n)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(r),this};function Bt(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=kt(t)?t:[t];for(var n=0;n<t.length;n++)t[n]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var gt={on:function(t,n,r){if(typeof t=="object")for(var s in t)this._on(s,t[s],n);else{t=wt(t);for(var a=0,c=t.length;a<c;a++)this._on(t[a],n,r)}return this},off:function(t,n,r){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var s in t)this._off(s,t[s],n);else{t=wt(t);for(var a=arguments.length===1,c=0,x=t.length;c<x;c++)a?this._off(t[c]):this._off(t[c],n,r)}return this},_on:function(t,n,r,s){if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}if(this._listens(t,n,r)===!1){r===this&&(r=void 0);var a={fn:n,ctx:r};s&&(a.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(a)}},_off:function(t,n,r){var s,a,c;if(this._events&&(s=this._events[t],!!s)){if(arguments.length===1){if(this._firingCount)for(a=0,c=s.length;a<c;a++)s[a].fn=_;delete this._events[t];return}if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}var x=this._listens(t,n,r);if(x!==!1){var M=s[x];this._firingCount&&(M.fn=_,this._events[t]=s=s.slice()),s.splice(x,1)}}},fire:function(t,n,r){if(!this.listens(t,r))return this;var s=mt({},n,{type:t,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var a=this._events[t];if(a){this._firingCount=this._firingCount+1||1;for(var c=0,x=a.length;c<x;c++){var M=a[c],z=M.fn;M.once&&this.off(t,z,M.ctx),z.call(M.ctx||this,s)}this._firingCount--}}return r&&this._propagateEvent(s),this},listens:function(t,n,r,s){typeof t!="string"&&console.warn('"string" type argument expected');var a=n;typeof n!="function"&&(s=!!n,a=void 0,r=void 0);var c=this._events&&this._events[t];if(c&&c.length&&this._listens(t,a,r)!==!1)return!0;if(s){for(var x in this._eventParents)if(this._eventParents[x].listens(t,n,r,s))return!0}return!1},_listens:function(t,n,r){if(!this._events)return!1;var s=this._events[t]||[];if(!n)return!!s.length;r===this&&(r=void 0);for(var a=0,c=s.length;a<c;a++)if(s[a].fn===n&&s[a].ctx===r)return a;return!1},once:function(t,n,r){if(typeof t=="object")for(var s in t)this._on(s,t[s],n,!0);else{t=wt(t);for(var a=0,c=t.length;a<c;a++)this._on(t[a],n,r,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[it(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[it(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,mt({layer:t.target,propagatedFrom:t.target},t),!0)}};gt.addEventListener=gt.on,gt.removeEventListener=gt.clearAllEventListeners=gt.off,gt.addOneTimeEventListener=gt.once,gt.fireEvent=gt.fire,gt.hasEventListeners=gt.listens;var Wt=K.extend(gt);function v(t,n,r){this.x=r?Math.round(t):t,this.y=r?Math.round(n):n}var T=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};v.prototype={clone:function(){return new v(this.x,this.y)},add:function(t){return this.clone()._add(h(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(h(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new v(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new v(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=T(this.x),this.y=T(this.y),this},distanceTo:function(t){t=h(t);var n=t.x-this.x,r=t.y-this.y;return Math.sqrt(n*n+r*r)},equals:function(t){return t=h(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=h(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+pt(this.x)+", "+pt(this.y)+")"}};function h(t,n,r){return t instanceof v?t:kt(t)?new v(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new v(t.x,t.y):new v(t,n,r)}function d(t,n){if(t)for(var r=n?[t,n]:t,s=0,a=r.length;s<a;s++)this.extend(r[s])}d.prototype={extend:function(t){var n,r;if(!t)return this;if(t instanceof v||typeof t[0]=="number"||"x"in t)n=r=h(t);else if(t=m(t),n=t.min,r=t.max,!n||!r)return this;return!this.min&&!this.max?(this.min=n.clone(),this.max=r.clone()):(this.min.x=Math.min(n.x,this.min.x),this.max.x=Math.max(r.x,this.max.x),this.min.y=Math.min(n.y,this.min.y),this.max.y=Math.max(r.y,this.max.y)),this},getCenter:function(t){return h((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return h(this.min.x,this.max.y)},getTopRight:function(){return h(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var n,r;return typeof t[0]=="number"||t instanceof v?t=h(t):t=m(t),t instanceof d?(n=t.min,r=t.max):n=r=t,n.x>=this.min.x&&r.x<=this.max.x&&n.y>=this.min.y&&r.y<=this.max.y},intersects:function(t){t=m(t);var n=this.min,r=this.max,s=t.min,a=t.max,c=a.x>=n.x&&s.x<=r.x,x=a.y>=n.y&&s.y<=r.y;return c&&x},overlaps:function(t){t=m(t);var n=this.min,r=this.max,s=t.min,a=t.max,c=a.x>n.x&&s.x<r.x,x=a.y>n.y&&s.y<r.y;return c&&x},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var n=this.min,r=this.max,s=Math.abs(n.x-r.x)*t,a=Math.abs(n.y-r.y)*t;return m(h(n.x-s,n.y-a),h(r.x+s,r.y+a))},equals:function(t){return t?(t=m(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function m(t,n){return!t||t instanceof d?t:new d(t,n)}function y(t,n){if(t)for(var r=n?[t,n]:t,s=0,a=r.length;s<a;s++)this.extend(r[s])}y.prototype={extend:function(t){var n=this._southWest,r=this._northEast,s,a;if(t instanceof g)s=t,a=t;else if(t instanceof y){if(s=t._southWest,a=t._northEast,!s||!a)return this}else return t?this.extend(C(t)||w(t)):this;return!n&&!r?(this._southWest=new g(s.lat,s.lng),this._northEast=new g(a.lat,a.lng)):(n.lat=Math.min(s.lat,n.lat),n.lng=Math.min(s.lng,n.lng),r.lat=Math.max(a.lat,r.lat),r.lng=Math.max(a.lng,r.lng)),this},pad:function(t){var n=this._southWest,r=this._northEast,s=Math.abs(n.lat-r.lat)*t,a=Math.abs(n.lng-r.lng)*t;return new y(new g(n.lat-s,n.lng-a),new g(r.lat+s,r.lng+a))},getCenter:function(){return new g((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new g(this.getNorth(),this.getWest())},getSouthEast:function(){return new g(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof g||"lat"in t?t=C(t):t=w(t);var n=this._southWest,r=this._northEast,s,a;return t instanceof y?(s=t.getSouthWest(),a=t.getNorthEast()):s=a=t,s.lat>=n.lat&&a.lat<=r.lat&&s.lng>=n.lng&&a.lng<=r.lng},intersects:function(t){t=w(t);var n=this._southWest,r=this._northEast,s=t.getSouthWest(),a=t.getNorthEast(),c=a.lat>=n.lat&&s.lat<=r.lat,x=a.lng>=n.lng&&s.lng<=r.lng;return c&&x},overlaps:function(t){t=w(t);var n=this._southWest,r=this._northEast,s=t.getSouthWest(),a=t.getNorthEast(),c=a.lat>n.lat&&s.lat<r.lat,x=a.lng>n.lng&&s.lng<r.lng;return c&&x},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,n){return t?(t=w(t),this._southWest.equals(t.getSouthWest(),n)&&this._northEast.equals(t.getNorthEast(),n)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function w(t,n){return t instanceof y?t:new y(t,n)}function g(t,n,r){if(isNaN(t)||isNaN(n))throw new Error("Invalid LatLng object: ("+t+", "+n+")");this.lat=+t,this.lng=+n,r!==void 0&&(this.alt=+r)}g.prototype={equals:function(t,n){if(!t)return!1;t=C(t);var r=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return r<=(n===void 0?1e-9:n)},toString:function(t){return"LatLng("+pt(this.lat,t)+", "+pt(this.lng,t)+")"},distanceTo:function(t){return I.distance(this,C(t))},wrap:function(){return I.wrapLatLng(this)},toBounds:function(t){var n=180*t/40075017,r=n/Math.cos(Math.PI/180*this.lat);return w([this.lat-n,this.lng-r],[this.lat+n,this.lng+r])},clone:function(){return new g(this.lat,this.lng,this.alt)}};function C(t,n,r){return t instanceof g?t:kt(t)&&typeof t[0]!="object"?t.length===3?new g(t[0],t[1],t[2]):t.length===2?new g(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new g(t.lat,"lng"in t?t.lng:t.lon,t.alt):n===void 0?null:new g(t,n,r)}var B={latLngToPoint:function(t,n){var r=this.projection.project(t),s=this.scale(n);return this.transformation._transform(r,s)},pointToLatLng:function(t,n){var r=this.scale(n),s=this.transformation.untransform(t,r);return this.projection.unproject(s)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var n=this.projection.bounds,r=this.scale(t),s=this.transformation.transform(n.min,r),a=this.transformation.transform(n.max,r);return new d(s,a)},infinite:!1,wrapLatLng:function(t){var n=this.wrapLng?te(t.lng,this.wrapLng,!0):t.lng,r=this.wrapLat?te(t.lat,this.wrapLat,!0):t.lat,s=t.alt;return new g(r,n,s)},wrapLatLngBounds:function(t){var n=t.getCenter(),r=this.wrapLatLng(n),s=n.lat-r.lat,a=n.lng-r.lng;if(s===0&&a===0)return t;var c=t.getSouthWest(),x=t.getNorthEast(),M=new g(c.lat-s,c.lng-a),z=new g(x.lat-s,x.lng-a);return new y(M,z)}},I=mt({},B,{wrapLng:[-180,180],R:6371e3,distance:function(t,n){var r=Math.PI/180,s=t.lat*r,a=n.lat*r,c=Math.sin((n.lat-t.lat)*r/2),x=Math.sin((n.lng-t.lng)*r/2),M=c*c+Math.cos(s)*Math.cos(a)*x*x,z=2*Math.atan2(Math.sqrt(M),Math.sqrt(1-M));return this.R*z}}),G=6378137,U={R:G,MAX_LATITUDE:85.0511287798,project:function(t){var n=Math.PI/180,r=this.MAX_LATITUDE,s=Math.max(Math.min(r,t.lat),-r),a=Math.sin(s*n);return new v(this.R*t.lng*n,this.R*Math.log((1+a)/(1-a))/2)},unproject:function(t){var n=180/Math.PI;return new g((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*n,t.x*n/this.R)},bounds:(function(){var t=G*Math.PI;return new d([-t,-t],[t,t])})()};function at(t,n,r,s){if(kt(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=n,this._c=r,this._d=s}at.prototype={transform:function(t,n){return this._transform(t.clone(),n)},_transform:function(t,n){return n=n||1,t.x=n*(this._a*t.x+this._b),t.y=n*(this._c*t.y+this._d),t},untransform:function(t,n){return n=n||1,new v((t.x/n-this._b)/this._a,(t.y/n-this._d)/this._c)}};function V(t,n,r,s){return new at(t,n,r,s)}var ct=mt({},I,{code:"EPSG:3857",projection:U,transformation:(function(){var t=.5/(Math.PI*U.R);return V(t,.5,-t,.5)})()}),yt=mt({},ct,{code:"EPSG:900913"});function Pt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function et(t,n){var r="",s,a,c,x,M,z;for(s=0,c=t.length;s<c;s++){for(M=t[s],a=0,x=M.length;a<x;a++)z=M[a],r+=(a?"L":"M")+z.x+" "+z.y;r+=n?ft.svg?"z":"x":""}return r||"M0 0"}var j=document.documentElement.style,H="ActiveXObject"in window,Ht=H&&!document.addEventListener,Et="msLaunchUri"in navigator&&!("documentMode"in document),jt=cn("webkit"),Rt=cn("android"),me=cn("android 2")||cn("android 3"),ie=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ke=Rt&&cn("Google")&&ie<537&&!("AudioNode"in window),_e=!!window.opera,Jt=!Et&&cn("chrome"),Ue=cn("gecko")&&!jt&&!_e&&!H,Ve=!Jt&&cn("safari"),hi=cn("phantom"),uo="OTransition"in j,_s=navigator.platform.indexOf("Win")===0,ho=H&&"transition"in j,Ir="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!me,lo="MozPerspective"in j,ps=!window.L_DISABLE_3D&&(ho||Ir||lo)&&!uo&&!hi,li=typeof orientation<"u"||cn("mobile"),ms=li&&jt,vs=li&&Ir,co=!window.PointerEvent&&window.MSPointerEvent,fo=!!(window.PointerEvent||co),_o="ontouchstart"in window||!!window.TouchEvent,gs=!window.L_NO_TOUCH&&(_o||fo),tr=li&&_e,ys=li&&Ue,er=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,po=(function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",_,n),window.removeEventListener("testPassiveEventSupport",_,n)}catch{}return t})(),mo=(function(){return!!document.createElement("canvas").getContext})(),nr=!!(document.createElementNS&&Pt("svg").createSVGRect),vo=!!nr&&(function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),go=!nr&&(function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var n=t.firstChild;return n.style.behavior="url(#default#VML)",n&&typeof n.adj=="object"}catch{return!1}})(),yo=navigator.platform.indexOf("Mac")===0,xs=navigator.platform.indexOf("Linux")===0;function cn(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var ft={ie:H,ielt9:Ht,edge:Et,webkit:jt,android:Rt,android23:me,androidStock:ke,opera:_e,chrome:Jt,gecko:Ue,safari:Ve,phantom:hi,opera12:uo,win:_s,ie3d:ho,webkit3d:Ir,gecko3d:lo,any3d:ps,mobile:li,mobileWebkit:ms,mobileWebkit3d:vs,msPointer:co,pointer:fo,touch:gs,touchNative:_o,mobileOpera:tr,mobileGecko:ys,retina:er,passiveEvents:po,canvas:mo,svg:nr,vml:go,inlineSvg:vo,mac:yo,linux:xs},Zr=ft.msPointer?"MSPointerDown":"pointerdown",xo=ft.msPointer?"MSPointerMove":"pointermove",Rr=ft.msPointer?"MSPointerUp":"pointerup",Nr=ft.msPointer?"MSPointerCancel":"pointercancel",Oi={touchstart:Zr,touchmove:xo,touchend:Rr,touchcancel:Nr},Fr={touchstart:Po,touchmove:Bi,touchend:Bi,touchcancel:Bi},On={},ir=!1;function ci(t,n,r){return n==="touchstart"&&Lo(),Fr[n]?(r=Fr[n].bind(this,r),t.addEventListener(Oi[n],r,!1),r):(console.warn("wrong event specified:",n),_)}function wo(t,n,r){if(!Oi[n]){console.warn("wrong event specified:",n);return}t.removeEventListener(Oi[n],r,!1)}function bo(t){On[t.pointerId]=t}function ws(t){On[t.pointerId]&&(On[t.pointerId]=t)}function Dr(t){delete On[t.pointerId]}function Lo(){ir||(document.addEventListener(Zr,bo,!0),document.addEventListener(xo,ws,!0),document.addEventListener(Rr,Dr,!0),document.addEventListener(Nr,Dr,!0),ir=!0)}function Bi(t,n){if(n.pointerType!==(n.MSPOINTER_TYPE_MOUSE||"mouse")){n.touches=[];for(var r in On)n.touches.push(On[r]);n.changedTouches=[n],t(n)}}function Po(t,n){n.MSPOINTER_TYPE_TOUCH&&n.pointerType===n.MSPOINTER_TYPE_TOUCH&&Ee(n),Bi(t,n)}function To(t){var n={},r,s;for(s in t)r=t[s],n[s]=r&&r.bind?r.bind(t):r;return t=n,n.type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n}var bs=200;function Ls(t,n){t.addEventListener("dblclick",n);var r=0,s;function a(c){if(c.detail!==1){s=c.detail;return}if(!(c.pointerType==="mouse"||c.sourceCapabilities&&!c.sourceCapabilities.firesTouchEvents)){var x=ur(c);if(!(x.some(function(z){return z instanceof HTMLLabelElement&&z.attributes.for})&&!x.some(function(z){return z instanceof HTMLInputElement||z instanceof HTMLSelectElement}))){var M=Date.now();M-r<=bs?(s++,s===2&&n(To(c))):s=1,r=M}}}return t.addEventListener("click",a),{dblclick:n,simDblclick:a}}function Ps(t,n){t.removeEventListener("dblclick",n.dblclick),t.removeEventListener("click",n.simDblclick)}var Wr=Ri(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),$n=Ri(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Mo=$n==="webkitTransition"||$n==="OTransition"?$n+"End":"transitionend";function So(t){return typeof t=="string"?document.getElementById(t):t}function Ii(t,n){var r=t.style[n]||t.currentStyle&&t.currentStyle[n];if((!r||r==="auto")&&document.defaultView){var s=document.defaultView.getComputedStyle(t,null);r=s?s[n]:null}return r==="auto"?null:r}function oe(t,n,r){var s=document.createElement(t);return s.className=n||"",r&&r.appendChild(s),s}function ve(t){var n=t.parentNode;n&&n.removeChild(t)}function ce(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function se(t){var n=t.parentNode;n&&n.lastChild!==t&&n.appendChild(t)}function fi(t){var n=t.parentNode;n&&n.firstChild!==t&&n.insertBefore(t,n.firstChild)}function Hr(t,n){if(t.classList!==void 0)return t.classList.contains(n);var r=Le(t);return r.length>0&&new RegExp("(^|\\s)"+n+"(\\s|$)").test(r)}function qt(t,n){if(t.classList!==void 0)for(var r=wt(n),s=0,a=r.length;s<a;s++)t.classList.add(r[s]);else if(!Hr(t,n)){var c=Le(t);jr(t,(c?c+" ":"")+n)}}function ye(t,n){t.classList!==void 0?t.classList.remove(n):jr(t,vt((" "+Le(t)+" ").replace(" "+n+" "," ")))}function jr(t,n){t.className.baseVal===void 0?t.className=n:t.className.baseVal=n}function Le(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Xe(t,n){"opacity"in t.style?t.style.opacity=n:"filter"in t.style&&Zi(t,n)}function Zi(t,n){var r=!1,s="DXImageTransform.Microsoft.Alpha";try{r=t.filters.item(s)}catch{if(n===1)return}n=Math.round(n*100),r?(r.Enabled=n!==100,r.Opacity=n):t.style.filter+=" progid:"+s+"(opacity="+n+")"}function Ri(t){for(var n=document.documentElement.style,r=0;r<t.length;r++)if(t[r]in n)return t[r];return!1}function Sn(t,n,r){var s=n||new v(0,0);t.style[Wr]=(ft.ie3d?"translate("+s.x+"px,"+s.y+"px)":"translate3d("+s.x+"px,"+s.y+"px,0)")+(r?" scale("+r+")":"")}function ae(t,n){t._leaflet_pos=n,ft.any3d?Sn(t,n):(t.style.left=n.x+"px",t.style.top=n.y+"px")}function Bn(t){return t._leaflet_pos||new v(0,0)}var di,_i,rr;if("onselectstart"in document)di=function(){st(window,"selectstart",Ee)},_i=function(){fe(window,"selectstart",Ee)};else{var pi=Ri(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);di=function(){if(pi){var t=document.documentElement.style;rr=t[pi],t[pi]="none"}},_i=function(){pi&&(document.documentElement.style[pi]=rr,rr=void 0)}}function or(){st(window,"dragstart",Ee)}function Fe(){fe(window,"dragstart",Ee)}var sr,Ye;function Ur(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Ni(),sr=t,Ye=t.style.outlineStyle,t.style.outlineStyle="none",st(window,"keydown",Ni))}function Ni(){sr&&(sr.style.outlineStyle=Ye,sr=void 0,Ye=void 0,fe(window,"keydown",Ni))}function Cn(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function mi(t){var n=t.getBoundingClientRect();return{x:n.width/t.offsetWidth||1,y:n.height/t.offsetHeight||1,boundingClientRect:n}}var Vr={__proto__:null,TRANSFORM:Wr,TRANSITION:$n,TRANSITION_END:Mo,get:So,getStyle:Ii,create:oe,remove:ve,empty:ce,toFront:se,toBack:fi,hasClass:Hr,addClass:qt,removeClass:ye,setClass:jr,getClass:Le,setOpacity:Xe,testProp:Ri,setTransform:Sn,setPosition:ae,getPosition:Bn,get disableTextSelection(){return di},get enableTextSelection(){return _i},disableImageDrag:or,enableImageDrag:Fe,preventOutline:Ur,restoreOutline:Ni,getSizedParentNode:Cn,getScale:mi};function st(t,n,r,s){if(n&&typeof n=="object")for(var a in n)Yr(t,a,n[a],r);else{n=wt(n);for(var c=0,x=n.length;c<x;c++)Yr(t,n[c],r,s)}return this}var Oe="_leaflet_events";function fe(t,n,r,s){if(arguments.length===1)Co(t),delete t[Oe];else if(n&&typeof n=="object")for(var a in n)ar(t,a,n[a],r);else if(n=wt(n),arguments.length===2)Co(t,function(M){return le(n,M)!==-1});else for(var c=0,x=n.length;c<x;c++)ar(t,n[c],r,s);return this}function Co(t,n){for(var r in t[Oe]){var s=r.split(/\d/)[0];(!n||n(s))&&ar(t,s,null,null,r)}}var Fi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Yr(t,n,r,s){var a=n+it(r)+(s?"_"+it(s):"");if(t[Oe]&&t[Oe][a])return this;var c=function(M){return r.call(s||t,M||window.event)},x=c;!ft.touchNative&&ft.pointer&&n.indexOf("touch")===0?c=ci(t,n,c):ft.touch&&n==="dblclick"?c=Ls(t,c):"addEventListener"in t?n==="touchstart"||n==="touchmove"||n==="wheel"||n==="mousewheel"?t.addEventListener(Fi[n]||n,c,ft.passiveEvents?{passive:!1}:!1):n==="mouseenter"||n==="mouseleave"?(c=function(M){M=M||window.event,Wi(t,M)&&x(M)},t.addEventListener(Fi[n],c,!1)):t.addEventListener(n,x,!1):t.attachEvent("on"+n,c),t[Oe]=t[Oe]||{},t[Oe][a]=c}function ar(t,n,r,s,a){a=a||n+it(r)+(s?"_"+it(s):"");var c=t[Oe]&&t[Oe][a];if(!c)return this;!ft.touchNative&&ft.pointer&&n.indexOf("touch")===0?wo(t,n,c):ft.touch&&n==="dblclick"?Ps(t,c):"removeEventListener"in t?t.removeEventListener(Fi[n]||n,c,!1):t.detachEvent("on"+n,c),t[Oe][a]=null}function mn(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function In(t){return Yr(t,"wheel",mn),this}function Di(t){return st(t,"mousedown touchstart dblclick contextmenu",mn),t._leaflet_disable_click=!0,this}function Ee(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Zn(t){return Ee(t),mn(t),this}function ur(t){if(t.composedPath)return t.composedPath();for(var n=[],r=t.target;r;)n.push(r),r=r.parentNode;return n}function hr(t,n){if(!n)return new v(t.clientX,t.clientY);var r=mi(n),s=r.boundingClientRect;return new v((t.clientX-s.left)/r.x-n.clientLeft,(t.clientY-s.top)/r.y-n.clientTop)}var Eo=ft.linux&&ft.chrome?window.devicePixelRatio:ft.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function lr(t){return ft.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Eo:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Wi(t,n){var r=n.relatedTarget;if(!r)return!0;try{for(;r&&r!==t;)r=r.parentNode}catch{return!1}return r!==t}var Ao={__proto__:null,on:st,off:fe,stopPropagation:mn,disableScrollPropagation:In,disableClickPropagation:Di,preventDefault:Ee,stop:Zn,getPropagationPath:ur,getMousePosition:hr,getWheelDelta:lr,isExternalTarget:Wi,addListener:st,removeListener:fe},qe=Wt.extend({run:function(t,n,r,s){this.stop(),this._el=t,this._inProgress=!0,this._duration=r||.25,this._easeOutPower=1/Math.max(s||.5,.2),this._startPos=Bn(t),this._offset=n.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=q(this._animate,this),this._step()},_step:function(t){var n=+new Date-this._startTime,r=this._duration*1e3;n<r?this._runFrame(this._easeOut(n/r),t):(this._runFrame(1),this._complete())},_runFrame:function(t,n){var r=this._startPos.add(this._offset.multiplyBy(t));n&&r._round(),ae(this._el,r),this.fire("step")},_complete:function(){J(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),ee=Wt.extend({options:{crs:ct,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,n){n=dt(this,n),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=Xt(this._onResize,this),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.zoom!==void 0&&(this._zoom=this._limitZoom(n.zoom)),n.center&&n.zoom!==void 0&&this.setView(C(n.center),n.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=$n&&ft.any3d&&!ft.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),st(this._proxy,Mo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,r){if(n=n===void 0?this._zoom:this._limitZoom(n),t=this._limitCenter(C(t),n,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&r!==!0){r.animate!==void 0&&(r.zoom=mt({animate:r.animate},r.zoom),r.pan=mt({animate:r.animate,duration:r.duration},r.pan));var s=this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,r.zoom):this._tryAnimatedPan(t,r.pan);if(s)return clearTimeout(this._sizeTimer),this}return this._resetView(t,n,r.pan&&r.pan.noMoveStart),this},setZoom:function(t,n){return this._loaded?this.setView(this.getCenter(),t,{zoom:n}):(this._zoom=t,this)},zoomIn:function(t,n){return t=t||(ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,n)},zoomOut:function(t,n){return t=t||(ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,n)},setZoomAround:function(t,n,r){var s=this.getZoomScale(n),a=this.getSize().divideBy(2),c=t instanceof v?t:this.latLngToContainerPoint(t),x=c.subtract(a).multiplyBy(1-1/s),M=this.containerPointToLatLng(a.add(x));return this.setView(M,n,{zoom:r})},_getBoundsCenterZoom:function(t,n){n=n||{},t=t.getBounds?t.getBounds():w(t);var r=h(n.paddingTopLeft||n.padding||[0,0]),s=h(n.paddingBottomRight||n.padding||[0,0]),a=this.getBoundsZoom(t,!1,r.add(s));if(a=typeof n.maxZoom=="number"?Math.min(n.maxZoom,a):a,a===1/0)return{center:t.getCenter(),zoom:a};var c=s.subtract(r).divideBy(2),x=this.project(t.getSouthWest(),a),M=this.project(t.getNorthEast(),a),z=this.unproject(x.add(M).divideBy(2).add(c),a);return{center:z,zoom:a}},fitBounds:function(t,n){if(t=w(t),!t.isValid())throw new Error("Bounds are not valid.");var r=this._getBoundsCenterZoom(t,n);return this.setView(r.center,r.zoom,n)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,n){return this.setView(t,this._zoom,{pan:n})},panBy:function(t,n){if(t=h(t).round(),n=n||{},!t.x&&!t.y)return this.fire("moveend");if(n.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qe,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),n.animate!==!1){qt(this._mapPane,"leaflet-pan-anim");var r=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,r,n.duration||.25,n.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,n,r){if(r=r||{},r.animate===!1||!ft.any3d)return this.setView(t,n,r);this._stop();var s=this.project(this.getCenter()),a=this.project(t),c=this.getSize(),x=this._zoom;t=C(t),n=n===void 0?x:n;var M=Math.max(c.x,c.y),z=M*this.getZoomScale(x,n),W=a.distanceTo(s)||1,nt=1.42,Tt=nt*nt;function bt(we){var Gi=we?-1:1,Ho=we?z:M,jo=z*z-M*M+Gi*Tt*Tt*W*W,Cr=2*Ho*Tt*W,Er=jo/Cr,eo=Math.sqrt(Er*Er+1)-Er,Uo=eo<1e-9?-18:Math.log(eo);return Uo}function Ie(we){return(Math.exp(we)-Math.exp(-we))/2}function ze(we){return(Math.exp(we)+Math.exp(-we))/2}function sn(we){return Ie(we)/ze(we)}var Re=bt(0);function Ln(we){return M*(ze(Re)/ze(Re+nt*we))}function Do(we){return M*(ze(Re)*sn(Re+nt*we)-Ie(Re))/Tt}function Ki(we){return 1-Math.pow(1-we,1.5)}var Qr=Date.now(),to=(bt(1)-Re)/nt,Wo=r.duration?1e3*r.duration:1e3*to*.8;function Sr(){var we=(Date.now()-Qr)/Wo,Gi=Ki(we)*to;we<=1?(this._flyToFrame=q(Sr,this),this._move(this.unproject(s.add(a.subtract(s).multiplyBy(Do(Gi)/W)),x),this.getScaleZoom(M/Ln(Gi),x),{flyTo:!0})):this._move(t,n)._moveEnd(!0)}return this._moveStart(!0,r.noMoveStart),Sr.call(this),this},flyToBounds:function(t,n){var r=this._getBoundsCenterZoom(t,n);return this.flyTo(r.center,r.zoom,n)},setMaxBounds:function(t){return t=w(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var n=this.options.minZoom;return this.options.minZoom=t,this._loaded&&n!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var n=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&n!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,n){this._enforcingBounds=!0;var r=this.getCenter(),s=this._limitCenter(r,this._zoom,w(t));return r.equals(s)||this.panTo(s,n),this._enforcingBounds=!1,this},panInside:function(t,n){n=n||{};var r=h(n.paddingTopLeft||n.padding||[0,0]),s=h(n.paddingBottomRight||n.padding||[0,0]),a=this.project(this.getCenter()),c=this.project(t),x=this.getPixelBounds(),M=m([x.min.add(r),x.max.subtract(s)]),z=M.getSize();if(!M.contains(c)){this._enforcingBounds=!0;var W=c.subtract(M.getCenter()),nt=M.extend(c).getSize().subtract(z);a.x+=W.x<0?-nt.x:nt.x,a.y+=W.y<0?-nt.y:nt.y,this.panTo(this.unproject(a),n),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=mt({animate:!1,pan:!0},t===!0?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),s=n.divideBy(2).round(),a=r.divideBy(2).round(),c=s.subtract(a);return!c.x&&!c.y?this:(t.animate&&t.pan?this.panBy(c):(t.pan&&this._rawPanBy(c),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(Xt(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:r}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=mt({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=Xt(this._handleGeolocationResponse,this),r=Xt(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,r,t):navigator.geolocation.getCurrentPosition(n,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var n=t.code,r=t.message||(n===1?"permission denied":n===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:n,message:"Geolocation error: "+r+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var n=t.coords.latitude,r=t.coords.longitude,s=new g(n,r),a=s.toBounds(t.coords.accuracy*2),c=this._locateOptions;if(c.setView){var x=this.getBoundsZoom(a);this.setView(s,c.maxZoom?Math.min(x,c.maxZoom):x)}var M={latlng:s,bounds:a,timestamp:t.timestamp};for(var z in t.coords)typeof t.coords[z]=="number"&&(M[z]=t.coords[z]);this.fire("locationfound",M)}},addHandler:function(t,n){if(!n)return this;var r=this[t]=new n(this);return this._handlers.push(r),this.options[t]&&r.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ve(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(J(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ve(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,n){var r="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),s=oe("div",r,n||this._mapPane);return t&&(this._panes[t]=s),s},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),n=this.unproject(t.getBottomLeft()),r=this.unproject(t.getTopRight());return new y(n,r)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,n,r){t=w(t),r=h(r||[0,0]);var s=this.getZoom()||0,a=this.getMinZoom(),c=this.getMaxZoom(),x=t.getNorthWest(),M=t.getSouthEast(),z=this.getSize().subtract(r),W=m(this.project(M,s),this.project(x,s)).getSize(),nt=ft.any3d?this.options.zoomSnap:1,Tt=z.x/W.x,bt=z.y/W.y,Ie=n?Math.max(Tt,bt):Math.min(Tt,bt);return s=this.getScaleZoom(Ie,s),nt&&(s=Math.round(s/(nt/100))*(nt/100),s=n?Math.ceil(s/nt)*nt:Math.floor(s/nt)*nt),Math.max(a,Math.min(c,s))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new v(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,n){var r=this._getTopLeftPoint(t,n);return new d(r,r.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,n){var r=this.options.crs;return n=n===void 0?this._zoom:n,r.scale(t)/r.scale(n)},getScaleZoom:function(t,n){var r=this.options.crs;n=n===void 0?this._zoom:n;var s=r.zoom(t*r.scale(n));return isNaN(s)?1/0:s},project:function(t,n){return n=n===void 0?this._zoom:n,this.options.crs.latLngToPoint(C(t),n)},unproject:function(t,n){return n=n===void 0?this._zoom:n,this.options.crs.pointToLatLng(h(t),n)},layerPointToLatLng:function(t){var n=h(t).add(this.getPixelOrigin());return this.unproject(n)},latLngToLayerPoint:function(t){var n=this.project(C(t))._round();return n._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(C(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(w(t))},distance:function(t,n){return this.options.crs.distance(C(t),C(n))},containerPointToLayerPoint:function(t){return h(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return h(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var n=this.containerPointToLayerPoint(h(t));return this.layerPointToLatLng(n)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(C(t)))},mouseEventToContainerPoint:function(t){return hr(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var n=this._container=So(t);if(n){if(n._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");st(n,"scroll",this._onScroll,this),this._containerId=it(n)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&ft.any3d,qt(t,"leaflet-container"+(ft.touch?" leaflet-touch":"")+(ft.retina?" leaflet-retina":"")+(ft.ielt9?" leaflet-oldie":"")+(ft.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var n=Ii(t,"position");n!=="absolute"&&n!=="relative"&&n!=="fixed"&&n!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ae(this._mapPane,new v(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(qt(t.markerPane,"leaflet-zoom-hide"),qt(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,n,r){ae(this._mapPane,new v(0,0));var s=!this._loaded;this._loaded=!0,n=this._limitZoom(n),this.fire("viewprereset");var a=this._zoom!==n;this._moveStart(a,r)._move(t,n)._moveEnd(a),this.fire("viewreset"),s&&this.fire("load")},_moveStart:function(t,n){return t&&this.fire("zoomstart"),n||this.fire("movestart"),this},_move:function(t,n,r,s){n===void 0&&(n=this._zoom);var a=this._zoom!==n;return this._zoom=n,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),s?r&&r.pinch&&this.fire("zoom",r):((a||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return J(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ae(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[it(this._container)]=this;var n=t?fe:st;n(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&n(window,"resize",this._onResize,this),ft.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){J(this._resizeRequest),this._resizeRequest=q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,n){for(var r=[],s,a=n==="mouseout"||n==="mouseover",c=t.target||t.srcElement,x=!1;c;){if(s=this._targets[it(c)],s&&(n==="click"||n==="preclick")&&this._draggableMoved(s)){x=!0;break}if(s&&s.listens(n,!0)&&(a&&!Wi(c,t)||(r.push(s),a))||c===this._container)break;c=c.parentNode}return!r.length&&!x&&!a&&this.listens(n,!0)&&(r=[this]),r},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var n=t.target||t.srcElement;if(!(!this._loaded||n._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(n))){var r=t.type;r==="mousedown"&&Ur(n),this._fireDOMEvent(t,r)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,r){if(t.type==="click"){var s=mt({},t);s.type="preclick",this._fireDOMEvent(s,s.type,r)}var a=this._findEventTargets(t,n);if(r){for(var c=[],x=0;x<r.length;x++)r[x].listens(n,!0)&&c.push(r[x]);a=c.concat(a)}if(a.length){n==="contextmenu"&&Ee(t);var M=a[0],z={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var W=M.getLatLng&&(!M._radius||M._radius<=10);z.containerPoint=W?this.latLngToContainerPoint(M.getLatLng()):this.mouseEventToContainerPoint(t),z.layerPoint=this.containerPointToLayerPoint(z.containerPoint),z.latlng=W?M.getLatLng():this.layerPointToLatLng(z.layerPoint)}for(x=0;x<a.length;x++)if(a[x].fire(n,z,!0),z.originalEvent._stopped||a[x].options.bubblingMouseEvents===!1&&le(this._mouseEvents,n)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,n=this._handlers.length;t<n;t++)this._handlers[t].disable()},whenReady:function(t,n){return this._loaded?t.call(n||this,{target:this}):this.on("load",t,n),this},_getMapPanePos:function(){return Bn(this._mapPane)||new v(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,n){var r=t&&n!==void 0?this._getNewPixelOrigin(t,n):this.getPixelOrigin();return r.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,n){var r=this.getSize()._divideBy(2);return this.project(t,n)._subtract(r)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,n,r){var s=this._getNewPixelOrigin(r,n);return this.project(t,n)._subtract(s)},_latLngBoundsToNewLayerBounds:function(t,n,r){var s=this._getNewPixelOrigin(r,n);return m([this.project(t.getSouthWest(),n)._subtract(s),this.project(t.getNorthWest(),n)._subtract(s),this.project(t.getSouthEast(),n)._subtract(s),this.project(t.getNorthEast(),n)._subtract(s)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,n,r){if(!r)return t;var s=this.project(t,n),a=this.getSize().divideBy(2),c=new d(s.subtract(a),s.add(a)),x=this._getBoundsOffset(c,r,n);return Math.abs(x.x)<=1&&Math.abs(x.y)<=1?t:this.unproject(s.add(x),n)},_limitOffset:function(t,n){if(!n)return t;var r=this.getPixelBounds(),s=new d(r.min.add(t),r.max.add(t));return t.add(this._getBoundsOffset(s,n))},_getBoundsOffset:function(t,n,r){var s=m(this.project(n.getNorthEast(),r),this.project(n.getSouthWest(),r)),a=s.min.subtract(t.min),c=s.max.subtract(t.max),x=this._rebound(a.x,-c.x),M=this._rebound(a.y,-c.y);return new v(x,M)},_rebound:function(t,n){return t+n>0?Math.round(t-n)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(n))},_limitZoom:function(t){var n=this.getMinZoom(),r=this.getMaxZoom(),s=ft.any3d?this.options.zoomSnap:1;return s&&(t=Math.round(t/s)*s),Math.max(n,Math.min(r,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,n){var r=this._getCenterOffset(t)._trunc();return(n&&n.animate)!==!0&&!this.getSize().contains(r)?!1:(this.panBy(r,n),!0)},_createAnimProxy:function(){var t=this._proxy=oe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(n){var r=Wr,s=this._proxy.style[r];Sn(this._proxy,this.project(n.center,n.zoom),this.getZoomScale(n.zoom,1)),s===this._proxy.style[r]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ve(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),n=this.getZoom();Sn(this._proxy,this.project(t,n),this.getZoomScale(n,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,n,r){if(this._animatingZoom)return!0;if(r=r||{},!this._zoomAnimated||r.animate===!1||this._nothingToAnimate()||Math.abs(n-this._zoom)>this.options.zoomAnimationThreshold)return!1;var s=this.getZoomScale(n),a=this._getCenterOffset(t)._divideBy(1-1/s);return r.animate!==!0&&!this.getSize().contains(a)?!1:(q(function(){this._moveStart(!0,r.noMoveStart||!1)._animateZoom(t,n,!0)},this),!0)},_animateZoom:function(t,n,r,s){this._mapPane&&(r&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=n,qt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:n,noUpdate:s}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(Xt(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Hi(t,n){return new ee(t,n)}var tn=K.extend({options:{position:"topright"},initialize:function(t){dt(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var n=this._map;return n&&n.removeControl(this),this.options.position=t,n&&n.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var n=this._container=this.onAdd(t),r=this.getPosition(),s=t._controlCorners[r];return qt(n,"leaflet-control"),r.indexOf("bottom")!==-1?s.insertBefore(n,s.firstChild):s.appendChild(n),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ve(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),vi=function(t){return new tn(t)};ee.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},n="leaflet-",r=this._controlContainer=oe("div",n+"control-container",this._container);function s(a,c){var x=n+a+" "+n+c;t[a+c]=oe("div",x,r)}s("top","left"),s("top","right"),s("bottom","left"),s("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ve(this._controlCorners[t]);ve(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var zo=tn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,n,r,s){return r<s?-1:s<r?1:0}},initialize:function(t,n,r){dt(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var s in t)this._addLayer(t[s],s);for(s in n)this._addLayer(n[s],s,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return tn.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,n){return this._addLayer(t,n),this._map?this._update():this},addOverlay:function(t,n){return this._addLayer(t,n,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var n=this._getLayer(it(t));return n&&this._layers.splice(this._layers.indexOf(n),1),this._map?this._update():this},expand:function(){qt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(qt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",n=this._container=oe("div",t),r=this.options.collapsed;n.setAttribute("aria-haspopup",!0),Di(n),In(n);var s=this._section=oe("section",t+"-list");r&&(this._map.on("click",this.collapse,this),st(n,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var a=this._layersLink=oe("a",t+"-toggle",n);a.href="#",a.title="Layers",a.setAttribute("role","button"),st(a,{keydown:function(c){c.keyCode===13&&this._expandSafely()},click:function(c){Ee(c),this._expandSafely()}},this),r||this.expand(),this._baseLayersList=oe("div",t+"-base",s),this._separator=oe("div",t+"-separator",s),this._overlaysList=oe("div",t+"-overlays",s),n.appendChild(s)},_getLayer:function(t){for(var n=0;n<this._layers.length;n++)if(this._layers[n]&&it(this._layers[n].layer)===t)return this._layers[n]},_addLayer:function(t,n,r){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:n,overlay:r}),this.options.sortLayers&&this._layers.sort(Xt(function(s,a){return this.options.sortFunction(s.layer,a.layer,s.name,a.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ce(this._baseLayersList),ce(this._overlaysList),this._layerControlInputs=[];var t,n,r,s,a=0;for(r=0;r<this._layers.length;r++)s=this._layers[r],this._addItem(s),n=n||s.overlay,t=t||!s.overlay,a+=s.overlay?0:1;return this.options.hideSingleBase&&(t=t&&a>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=n&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var n=this._getLayer(it(t.target)),r=n.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;r&&this._map.fire(r,n)},_createRadioElement:function(t,n){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(n?' checked="checked"':"")+"/>",s=document.createElement("div");return s.innerHTML=r,s.firstChild},_addItem:function(t){var n=document.createElement("label"),r=this._map.hasLayer(t.layer),s;t.overlay?(s=document.createElement("input"),s.type="checkbox",s.className="leaflet-control-layers-selector",s.defaultChecked=r):s=this._createRadioElement("leaflet-base-layers_"+it(this),r),this._layerControlInputs.push(s),s.layerId=it(t.layer),st(s,"click",this._onInputClick,this);var a=document.createElement("span");a.innerHTML=" "+t.name;var c=document.createElement("span");n.appendChild(c),c.appendChild(s),c.appendChild(a);var x=t.overlay?this._overlaysList:this._baseLayersList;return x.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,n,r,s=[],a=[];this._handlingClick=!0;for(var c=t.length-1;c>=0;c--)n=t[c],r=this._getLayer(n.layerId).layer,n.checked?s.push(r):n.checked||a.push(r);for(c=0;c<a.length;c++)this._map.hasLayer(a[c])&&this._map.removeLayer(a[c]);for(c=0;c<s.length;c++)this._map.hasLayer(s[c])||this._map.addLayer(s[c]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,n,r,s=this._map.getZoom(),a=t.length-1;a>=0;a--)n=t[a],r=this._getLayer(n.layerId).layer,n.disabled=r.options.minZoom!==void 0&&s<r.options.minZoom||r.options.maxZoom!==void 0&&s>r.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,st(t,"click",Ee),this.expand();var n=this;setTimeout(function(){fe(t,"click",Ee),n._preventClick=!1})}}),Ts=function(t,n,r){return new zo(t,n,r)},qr=tn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var n="leaflet-control-zoom",r=oe("div",n+" leaflet-bar"),s=this.options;return this._zoomInButton=this._createButton(s.zoomInText,s.zoomInTitle,n+"-in",r,this._zoomIn),this._zoomOutButton=this._createButton(s.zoomOutText,s.zoomOutTitle,n+"-out",r,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),r},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,n,r,s,a){var c=oe("a",r,s);return c.innerHTML=t,c.href="#",c.title=n,c.setAttribute("role","button"),c.setAttribute("aria-label",n),Di(c),st(c,"click",Zn),st(c,"click",a,this),st(c,"click",this._refocusOnMap,this),c},_updateDisabled:function(){var t=this._map,n="leaflet-disabled";ye(this._zoomInButton,n),ye(this._zoomOutButton,n),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(qt(this._zoomOutButton,n),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(qt(this._zoomInButton,n),this._zoomInButton.setAttribute("aria-disabled","true"))}});ee.mergeOptions({zoomControl:!0}),ee.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new qr,this.addControl(this.zoomControl))});var gi=function(t){return new qr(t)},cr=tn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var n="leaflet-control-scale",r=oe("div",n),s=this.options;return this._addScales(s,n+"-line",r),t.on(s.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),r},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,n,r){t.metric&&(this._mScale=oe("div",n,r)),t.imperial&&(this._iScale=oe("div",n,r))},_update:function(){var t=this._map,n=t.getSize().y/2,r=t.distance(t.containerPointToLatLng([0,n]),t.containerPointToLatLng([this.options.maxWidth,n]));this._updateScales(r)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var n=this._getRoundNum(t),r=n<1e3?n+" m":n/1e3+" km";this._updateScale(this._mScale,r,n/t)},_updateImperial:function(t){var n=t*3.2808399,r,s,a;n>5280?(r=n/5280,s=this._getRoundNum(r),this._updateScale(this._iScale,s+" mi",s/r)):(a=this._getRoundNum(n),this._updateScale(this._iScale,a+" ft",a/n))},_updateScale:function(t,n,r){t.style.width=Math.round(this.options.maxWidth*r)+"px",t.innerHTML=n},_getRoundNum:function(t){var n=Math.pow(10,(Math.floor(t)+"").length-1),r=t/n;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1,n*r}}),ko=function(t){return new cr(t)},Rn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',yi=tn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ft.inlineSvg?Rn+" ":"")+"Leaflet</a>"},initialize:function(t){dt(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=oe("div","leaflet-control-attribution"),Di(this._container);for(var n in t._layers)t._layers[n].getAttribution&&this.addAttribution(t._layers[n].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var n in this._attributions)this._attributions[n]&&t.push(n);var r=[];this.options.prefix&&r.push(this.options.prefix),t.length&&r.push(t.join(", ")),this._container.innerHTML=r.join(' <span aria-hidden="true">|</span> ')}}});ee.mergeOptions({attributionControl:!0}),ee.addInitHook(function(){this.options.attributionControl&&new yi().addTo(this)});var Ms=function(t){return new yi(t)};tn.Layers=zo,tn.Zoom=qr,tn.Scale=cr,tn.Attribution=yi,vi.layers=Ts,vi.zoom=gi,vi.scale=ko,vi.attribution=Ms;var De=K.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});De.addTo=function(t,n){return t.addHandler(n,this),this};var fn={Events:gt},Kr=ft.touch?"touchstart mousedown":"mousedown",Nn=Wt.extend({options:{clickTolerance:3},initialize:function(t,n,r,s){dt(this,s),this._element=t,this._dragStartTarget=n||t,this._preventOutline=r},enable:function(){this._enabled||(st(this._dragStartTarget,Kr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Nn._dragging===this&&this.finishDrag(!0),fe(this._dragStartTarget,Kr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Hr(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Nn._dragging===this&&this.finishDrag();return}if(!(Nn._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Nn._dragging=this,this._preventOutline&&Ur(this._element),or(),di(),!this._moving)){this.fire("down");var n=t.touches?t.touches[0]:t,r=Cn(this._element);this._startPoint=new v(n.clientX,n.clientY),this._startPos=Bn(this._element),this._parentScale=mi(r);var s=t.type==="mousedown";st(document,s?"mousemove":"touchmove",this._onMove,this),st(document,s?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var n=t.touches&&t.touches.length===1?t.touches[0]:t,r=new v(n.clientX,n.clientY)._subtract(this._startPoint);!r.x&&!r.y||Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(r.x/=this._parentScale.x,r.y/=this._parentScale.y,Ee(t),this._moved||(this.fire("dragstart"),this._moved=!0,qt(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),qt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ae(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){ye(document.body,"leaflet-dragging"),this._lastTarget&&(ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),fe(document,"mousemove touchmove",this._onMove,this),fe(document,"mouseup touchend touchcancel",this._onUp,this),Fe(),_i();var n=this._moved&&this._moving;this._moving=!1,Nn._dragging=!1,n&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function ji(t,n,r){var s,a=[1,4,2,8],c,x,M,z,W,nt,Tt,bt;for(c=0,nt=t.length;c<nt;c++)t[c]._code=vn(t[c],n);for(M=0;M<4;M++){for(Tt=a[M],s=[],c=0,nt=t.length,x=nt-1;c<nt;x=c++)z=t[c],W=t[x],z._code&Tt?W._code&Tt||(bt=We(W,z,Tt,n,r),bt._code=vn(bt,n),s.push(bt)):(W._code&Tt&&(bt=We(W,z,Tt,n,r),bt._code=vn(bt,n),s.push(bt)),s.push(z));t=s}return t}function E(t,n){var r,s,a,c,x,M,z,W,nt;if(!t||t.length===0)throw new Error("latlngs not passed");He(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Tt=C([0,0]),bt=w(t),Ie=bt.getNorthWest().distanceTo(bt.getSouthWest())*bt.getNorthEast().distanceTo(bt.getNorthWest());Ie<1700&&(Tt=Z(t));var ze=t.length,sn=[];for(r=0;r<ze;r++){var Re=C(t[r]);sn.push(n.project(C([Re.lat-Tt.lat,Re.lng-Tt.lng])))}for(M=z=W=0,r=0,s=ze-1;r<ze;s=r++)a=sn[r],c=sn[s],x=a.y*c.x-c.y*a.x,z+=(a.x+c.x)*x,W+=(a.y+c.y)*x,M+=x*3;M===0?nt=sn[0]:nt=[z/M,W/M];var Ln=n.unproject(h(nt));return C([Ln.lat+Tt.lat,Ln.lng+Tt.lng])}function Z(t){for(var n=0,r=0,s=0,a=0;a<t.length;a++){var c=C(t[a]);n+=c.lat,r+=c.lng,s++}return C([n/s,r/s])}var F={__proto__:null,clipPolygon:ji,polygonCenter:E,centroid:Z};function rt(t,n){if(!n||!t.length)return t.slice();var r=n*n;return t=pe(t,r),t=Me(t,r),t}function It(t,n,r){return Math.sqrt(gn(t,n,r,!0))}function re(t,n,r){return gn(t,n,r)}function Me(t,n){var r=t.length,s=typeof Uint8Array<"u"?Uint8Array:Array,a=new s(r);a[0]=a[r-1]=1,en(t,a,n,0,r-1);var c,x=[];for(c=0;c<r;c++)a[c]&&x.push(t[c]);return x}function en(t,n,r,s,a){var c=0,x,M,z;for(M=s+1;M<=a-1;M++)z=gn(t[M],t[s],t[a],!0),z>c&&(x=M,c=z);c>r&&(n[x]=1,en(t,n,r,s,x),en(t,n,r,x,a))}function pe(t,n){for(var r=[t[0]],s=1,a=0,c=t.length;s<c;s++)Ss(t[s],t[a])>n&&(r.push(t[s]),a=s);return a<c-1&&r.push(t[c-1]),r}var fr;function Oo(t,n,r,s,a){var c=s?fr:vn(t,r),x=vn(n,r),M,z,W;for(fr=x;;){if(!(c|x))return[t,n];if(c&x)return!1;M=c||x,z=We(t,n,M,r,a),W=vn(z,r),M===c?(t=z,c=W):(n=z,x=W)}}function We(t,n,r,s,a){var c=n.x-t.x,x=n.y-t.y,M=s.min,z=s.max,W,nt;return r&8?(W=t.x+c*(z.y-t.y)/x,nt=z.y):r&4?(W=t.x+c*(M.y-t.y)/x,nt=M.y):r&2?(W=z.x,nt=t.y+x*(z.x-t.x)/c):r&1&&(W=M.x,nt=t.y+x*(M.x-t.x)/c),new v(W,nt,a)}function vn(t,n){var r=0;return t.x<n.min.x?r|=1:t.x>n.max.x&&(r|=2),t.y<n.min.y?r|=4:t.y>n.max.y&&(r|=8),r}function Ss(t,n){var r=n.x-t.x,s=n.y-t.y;return r*r+s*s}function gn(t,n,r,s){var a=n.x,c=n.y,x=r.x-a,M=r.y-c,z=x*x+M*M,W;return z>0&&(W=((t.x-a)*x+(t.y-c)*M)/z,W>1?(a=r.x,c=r.y):W>0&&(a+=x*W,c+=M*W)),x=t.x-a,M=t.y-c,s?x*x+M*M:new v(a,c)}function He(t){return!kt(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Ui(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),He(t)}function ue(t,n){var r,s,a,c,x,M,z,W;if(!t||t.length===0)throw new Error("latlngs not passed");He(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var nt=C([0,0]),Tt=w(t),bt=Tt.getNorthWest().distanceTo(Tt.getSouthWest())*Tt.getNorthEast().distanceTo(Tt.getNorthWest());bt<1700&&(nt=Z(t));var Ie=t.length,ze=[];for(r=0;r<Ie;r++){var sn=C(t[r]);ze.push(n.project(C([sn.lat-nt.lat,sn.lng-nt.lng])))}for(r=0,s=0;r<Ie-1;r++)s+=ze[r].distanceTo(ze[r+1])/2;if(s===0)W=ze[0];else for(r=0,c=0;r<Ie-1;r++)if(x=ze[r],M=ze[r+1],a=x.distanceTo(M),c+=a,c>s){z=(c-s)/a,W=[M.x-z*(M.x-x.x),M.y-z*(M.y-x.y)];break}var Re=n.unproject(h(W));return C([Re.lat+nt.lat,Re.lng+nt.lng])}var Cs={__proto__:null,simplify:rt,pointToSegmentDistance:It,closestPointOnSegment:re,clipSegment:Oo,_getEdgeIntersection:We,_getBitCode:vn,_sqClosestPointOnSegment:gn,isFlat:He,_flat:Ui,polylineCenter:ue},dr={project:function(t){return new v(t.lng,t.lat)},unproject:function(t){return new g(t.y,t.x)},bounds:new d([-180,-90],[180,90])},xi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new d([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var n=Math.PI/180,r=this.R,s=t.lat*n,a=this.R_MINOR/r,c=Math.sqrt(1-a*a),x=c*Math.sin(s),M=Math.tan(Math.PI/4-s/2)/Math.pow((1-x)/(1+x),c/2);return s=-r*Math.log(Math.max(M,1e-10)),new v(t.lng*n*r,s)},unproject:function(t){for(var n=180/Math.PI,r=this.R,s=this.R_MINOR/r,a=Math.sqrt(1-s*s),c=Math.exp(-t.y/r),x=Math.PI/2-2*Math.atan(c),M=0,z=.1,W;M<15&&Math.abs(z)>1e-7;M++)W=a*Math.sin(x),W=Math.pow((1-W)/(1+W),a/2),z=Math.PI/2-2*Math.atan(c*W)-x,x+=z;return new g(x*n,t.x*n/r)}},Es={__proto__:null,LonLat:dr,Mercator:xi,SphericalMercator:U},As=mt({},I,{code:"EPSG:3395",projection:xi,transformation:(function(){var t=.5/(Math.PI*xi.R);return V(t,.5,-t,.5)})()}),Bo=mt({},I,{code:"EPSG:4326",projection:dr,transformation:V(1/180,1,-1/180,.5)}),_r=mt({},B,{projection:dr,transformation:V(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,n){var r=n.lng-t.lng,s=n.lat-t.lat;return Math.sqrt(r*r+s*s)},infinite:!0});B.Earth=I,B.EPSG3395=As,B.EPSG3857=ct,B.EPSG900913=yt,B.EPSG4326=Bo,B.Simple=_r;var Ae=Wt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[it(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[it(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var n=t.target;if(n.hasLayer(this)){if(this._map=n,this._zoomAnimated=n._zoomAnimated,this.getEvents){var r=this.getEvents();n.on(r,this),this.once("remove",function(){n.off(r,this)},this)}this.onAdd(n),this.fire("add"),n.fire("layeradd",{layer:this})}}});ee.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var n=it(t);return this._layers[n]?this:(this._layers[n]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var n=it(t);return this._layers[n]?(this._loaded&&t.onRemove(this),delete this._layers[n],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return it(t)in this._layers},eachLayer:function(t,n){for(var r in this._layers)t.call(n,this._layers[r]);return this},_addLayers:function(t){t=t?kt(t)?t:[t]:[];for(var n=0,r=t.length;n<r;n++)this.addLayer(t[n])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[it(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var n=it(t);this._zoomBoundLayers[n]&&(delete this._zoomBoundLayers[n],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,n=-1/0,r=this._getZoomSpan();for(var s in this._zoomBoundLayers){var a=this._zoomBoundLayers[s].options;t=a.minZoom===void 0?t:Math.min(t,a.minZoom),n=a.maxZoom===void 0?n:Math.max(n,a.maxZoom)}this._layersMaxZoom=n===-1/0?void 0:n,this._layersMinZoom=t===1/0?void 0:t,r!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var En=Ae.extend({initialize:function(t,n){dt(this,n),this._layers={};var r,s;if(t)for(r=0,s=t.length;r<s;r++)this.addLayer(t[r])},addLayer:function(t){var n=this.getLayerId(t);return this._layers[n]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var n=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[n]&&this._map.removeLayer(this._layers[n]),delete this._layers[n],this},hasLayer:function(t){var n=typeof t=="number"?t:this.getLayerId(t);return n in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var n=Array.prototype.slice.call(arguments,1),r,s;for(r in this._layers)s=this._layers[r],s[t]&&s[t].apply(s,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,n){for(var r in this._layers)t.call(n,this._layers[r]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return it(t)}}),Io=function(t,n){return new En(t,n)},nn=En.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),En.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),En.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new y;for(var n in this._layers){var r=this._layers[n];t.extend(r.getBounds?r.getBounds():r.getLatLng())}return t}}),Zo=function(t,n){return new nn(t,n)},Jn=K.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){dt(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,n){var r=this._getIconUrl(t);if(!r){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var s=this._createImg(r,n&&n.tagName==="IMG"?n:null);return this._setIconStyles(s,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),s},_setIconStyles:function(t,n){var r=this.options,s=r[n+"Size"];typeof s=="number"&&(s=[s,s]);var a=h(s),c=h(n==="shadow"&&r.shadowAnchor||r.iconAnchor||a&&a.divideBy(2,!0));t.className="leaflet-marker-"+n+" "+(r.className||""),c&&(t.style.marginLeft=-c.x+"px",t.style.marginTop=-c.y+"px"),a&&(t.style.width=a.x+"px",t.style.height=a.y+"px")},_createImg:function(t,n){return n=n||document.createElement("img"),n.src=t,n},_getIconUrl:function(t){return ft.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function pr(t){return new Jn(t)}var wi=Jn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof wi.imagePath!="string"&&(wi.imagePath=this._detectIconPath()),(this.options.imagePath||wi.imagePath)+Jn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var n=function(r,s,a){var c=s.exec(r);return c&&c[a]};return t=n(t,/^url\((['"])?(.+)\1\)$/,2),t&&n(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=oe("div","leaflet-default-icon-path",document.body),n=Ii(t,"background-image")||Ii(t,"backgroundImage");if(document.body.removeChild(t),n=this._stripUrl(n),n)return n;var r=document.querySelector('link[href$="leaflet.css"]');return r?r.href.substring(0,r.href.length-11-1):""}}),bi=De.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Nn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),qt(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var n=this._marker,r=n._map,s=this._marker.options.autoPanSpeed,a=this._marker.options.autoPanPadding,c=Bn(n._icon),x=r.getPixelBounds(),M=r.getPixelOrigin(),z=m(x.min._subtract(M).add(a),x.max._subtract(M).subtract(a));if(!z.contains(c)){var W=h((Math.max(z.max.x,c.x)-z.max.x)/(x.max.x-z.max.x)-(Math.min(z.min.x,c.x)-z.min.x)/(x.min.x-z.min.x),(Math.max(z.max.y,c.y)-z.max.y)/(x.max.y-z.max.y)-(Math.min(z.min.y,c.y)-z.min.y)/(x.min.y-z.min.y)).multiplyBy(s);r.panBy(W,{animate:!1}),this._draggable._newPos._add(W),this._draggable._startPos._add(W),ae(n._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=q(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(J(this._panRequest),this._panRequest=q(this._adjustPan.bind(this,t)))},_onDrag:function(t){var n=this._marker,r=n._shadow,s=Bn(n._icon),a=n._map.layerPointToLatLng(s);r&&ae(r,s),n._latlng=a,t.latlng=a,t.oldLatLng=this._oldLatLng,n.fire("move",t).fire("drag",t)},_onDragEnd:function(t){J(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),yn=Ae.extend({options:{icon:new wi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,n){dt(this,n),this._latlng=C(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var n=this._latlng;return this._latlng=C(t),this.update(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,n="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),r=t.icon.createIcon(this._icon),s=!1;r!==this._icon&&(this._icon&&this._removeIcon(),s=!0,t.title&&(r.title=t.title),r.tagName==="IMG"&&(r.alt=t.alt||"")),qt(r,n),t.keyboard&&(r.tabIndex="0",r.setAttribute("role","button")),this._icon=r,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&st(r,"focus",this._panOnFocus,this);var a=t.icon.createShadow(this._shadow),c=!1;a!==this._shadow&&(this._removeShadow(),c=!0),a&&(qt(a,n),a.alt=""),this._shadow=a,t.opacity<1&&this._updateOpacity(),s&&this.getPane().appendChild(this._icon),this._initInteraction(),a&&c&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fe(this._icon,"focus",this._panOnFocus,this),ve(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ve(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&ae(this._icon,t),this._shadow&&ae(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(n)},_initInteraction:function(){if(this.options.interactive&&(qt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),bi)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new bi(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Xe(this._icon,t),this._shadow&&Xe(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var n=this.options.icon.options,r=n.iconSize?h(n.iconSize):h(0,0),s=n.iconAnchor?h(n.iconAnchor):h(0,0);t.panInside(this._latlng,{paddingTopLeft:s,paddingBottomRight:r.subtract(s)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function mr(t,n){return new yn(t,n)}var Fn=Ae.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return dt(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),vr=Fn.extend({options:{fill:!0,radius:10},initialize:function(t,n){dt(this,n),this._latlng=C(t),this._radius=this.options.radius},setLatLng:function(t){var n=this._latlng;return this._latlng=C(t),this.redraw(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var n=t&&t.radius||this._radius;return Fn.prototype.setStyle.call(this,t),this.setRadius(n),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,n=this._radiusY||t,r=this._clickTolerance(),s=[t+r,n+r];this._pxBounds=new d(this._point.subtract(s),this._point.add(s))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function zs(t,n){return new vr(t,n)}var Li=vr.extend({initialize:function(t,n,r){if(typeof n=="number"&&(n=mt({},r,{radius:n})),dt(this,n),this._latlng=C(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new y(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Fn.prototype.setStyle,_project:function(){var t=this._latlng.lng,n=this._latlng.lat,r=this._map,s=r.options.crs;if(s.distance===I.distance){var a=Math.PI/180,c=this._mRadius/I.R/a,x=r.project([n+c,t]),M=r.project([n-c,t]),z=x.add(M).divideBy(2),W=r.unproject(z).lat,nt=Math.acos((Math.cos(c*a)-Math.sin(n*a)*Math.sin(W*a))/(Math.cos(n*a)*Math.cos(W*a)))/a;(isNaN(nt)||nt===0)&&(nt=c/Math.cos(Math.PI/180*n)),this._point=z.subtract(r.getPixelOrigin()),this._radius=isNaN(nt)?0:z.x-r.project([W,t-nt]).x,this._radiusY=z.y-x.y}else{var Tt=s.unproject(s.project(this._latlng).subtract([this._mRadius,0]));this._point=r.latLngToLayerPoint(this._latlng),this._radius=this._point.x-r.latLngToLayerPoint(Tt).x}this._updateBounds()}});function gr(t,n,r){return new Li(t,n,r)}var dn=Fn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,n){dt(this,n),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var n=1/0,r=null,s=gn,a,c,x=0,M=this._parts.length;x<M;x++)for(var z=this._parts[x],W=1,nt=z.length;W<nt;W++){a=z[W-1],c=z[W];var Tt=s(t,a,c,!0);Tt<n&&(n=Tt,r=s(t,a,c))}return r&&(r.distance=Math.sqrt(n)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ue(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,n){return n=n||this._defaultShape(),t=C(t),n.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new y,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return He(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var n=[],r=He(t),s=0,a=t.length;s<a;s++)r?(n[s]=C(t[s]),this._bounds.extend(n[s])):n[s]=this._convertLatLngs(t[s]);return n},_project:function(){var t=new d;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),n=new v(t,t);this._rawPxBounds&&(this._pxBounds=new d([this._rawPxBounds.min.subtract(n),this._rawPxBounds.max.add(n)]))},_projectLatlngs:function(t,n,r){var s=t[0]instanceof g,a=t.length,c,x;if(s){for(x=[],c=0;c<a;c++)x[c]=this._map.latLngToLayerPoint(t[c]),r.extend(x[c]);n.push(x)}else for(c=0;c<a;c++)this._projectLatlngs(t[c],n,r)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var n=this._parts,r,s,a,c,x,M,z;for(r=0,a=0,c=this._rings.length;r<c;r++)for(z=this._rings[r],s=0,x=z.length;s<x-1;s++)M=Oo(z[s],z[s+1],t,s,!0),M&&(n[a]=n[a]||[],n[a].push(M[0]),(M[1]!==z[s+1]||s===x-2)&&(n[a].push(M[1]),a++))}},_simplifyPoints:function(){for(var t=this._parts,n=this.options.smoothFactor,r=0,s=t.length;r<s;r++)t[r]=rt(t[r],n)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,n){var r,s,a,c,x,M,z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,c=this._parts.length;r<c;r++)for(M=this._parts[r],s=0,x=M.length,a=x-1;s<x;a=s++)if(!(!n&&s===0)&&It(t,M[a],M[s])<=z)return!0;return!1}});function ks(t,n){return new dn(t,n)}dn._flat=Ui;var Qn=dn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return E(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var n=dn.prototype._convertLatLngs.call(this,t),r=n.length;return r>=2&&n[0]instanceof g&&n[0].equals(n[r-1])&&n.pop(),n},_setLatLngs:function(t){dn.prototype._setLatLngs.call(this,t),He(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return He(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,n=this.options.weight,r=new v(n,n);if(t=new d(t.min.subtract(r),t.max.add(r)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var s=0,a=this._rings.length,c;s<a;s++)c=ji(this._rings[s],t,!0),c.length&&this._parts.push(c)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var n=!1,r,s,a,c,x,M,z,W;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(c=0,z=this._parts.length;c<z;c++)for(r=this._parts[c],x=0,W=r.length,M=W-1;x<W;M=x++)s=r[x],a=r[M],s.y>t.y!=a.y>t.y&&t.x<(a.x-s.x)*(t.y-s.y)/(a.y-s.y)+s.x&&(n=!n);return n||dn.prototype._containsPoint.call(this,t,!0)}});function Os(t,n){return new Qn(t,n)}var An=nn.extend({initialize:function(t,n){dt(this,n),this._layers={},t&&this.addData(t)},addData:function(t){var n=kt(t)?t:t.features,r,s,a;if(n){for(r=0,s=n.length;r<s;r++)a=n[r],(a.geometries||a.geometry||a.features||a.coordinates)&&this.addData(a);return this}var c=this.options;if(c.filter&&!c.filter(t))return this;var x=xe(t,c);return x?(x.feature=Wn(t),x.defaultOptions=x.options,this.resetStyle(x),c.onEachFeature&&c.onEachFeature(t,x),this.addLayer(x)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=mt({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(n){this._setLayerStyle(n,t)},this)},_setLayerStyle:function(t,n){t.setStyle&&(typeof n=="function"&&(n=n(t.feature)),t.setStyle(n))}});function xe(t,n){var r=t.type==="Feature"?t.geometry:t,s=r?r.coordinates:null,a=[],c=n&&n.pointToLayer,x=n&&n.coordsToLatLng||Gr,M,z,W,nt;if(!s&&!r)return null;switch(r.type){case"Point":return M=x(s),Be(c,t,M,n);case"MultiPoint":for(W=0,nt=s.length;W<nt;W++)M=x(s[W]),a.push(Be(c,t,M,n));return new nn(a);case"LineString":case"MultiLineString":return z=yr(s,r.type==="LineString"?0:1,x),new dn(z,n);case"Polygon":case"MultiPolygon":return z=yr(s,r.type==="Polygon"?1:2,x),new Qn(z,n);case"GeometryCollection":for(W=0,nt=r.geometries.length;W<nt;W++){var Tt=xe({geometry:r.geometries[W],type:"Feature",properties:t.properties},n);Tt&&a.push(Tt)}return new nn(a);case"FeatureCollection":for(W=0,nt=r.features.length;W<nt;W++){var bt=xe(r.features[W],n);bt&&a.push(bt)}return new nn(a);default:throw new Error("Invalid GeoJSON object.")}}function Be(t,n,r,s){return t?t(n,r):new yn(r,s&&s.markersInheritOptions&&s)}function Gr(t){return new g(t[1],t[0],t[2])}function yr(t,n,r){for(var s=[],a=0,c=t.length,x;a<c;a++)x=n?yr(t[a],n-1,r):(r||Gr)(t[a]),s.push(x);return s}function xr(t,n){return t=C(t),t.alt!==void 0?[pt(t.lng,n),pt(t.lat,n),pt(t.alt,n)]:[pt(t.lng,n),pt(t.lat,n)]}function wr(t,n,r,s){for(var a=[],c=0,x=t.length;c<x;c++)a.push(n?wr(t[c],He(t[c])?0:n-1,r,s):xr(t[c],s));return!n&&r&&a.length>0&&a.push(a[0].slice()),a}function Dn(t,n){return t.feature?mt({},t.feature,{geometry:n}):Wn(n)}function Wn(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Vi={toGeoJSON:function(t){return Dn(this,{type:"Point",coordinates:xr(this.getLatLng(),t)})}};yn.include(Vi),Li.include(Vi),vr.include(Vi),dn.include({toGeoJSON:function(t){var n=!He(this._latlngs),r=wr(this._latlngs,n?1:0,!1,t);return Dn(this,{type:(n?"Multi":"")+"LineString",coordinates:r})}}),Qn.include({toGeoJSON:function(t){var n=!He(this._latlngs),r=n&&!He(this._latlngs[0]),s=wr(this._latlngs,r?2:n?1:0,!0,t);return n||(s=[s]),Dn(this,{type:(r?"Multi":"")+"Polygon",coordinates:s})}}),En.include({toMultiPoint:function(t){var n=[];return this.eachLayer(function(r){n.push(r.toGeoJSON(t).geometry.coordinates)}),Dn(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(t){var n=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(n==="MultiPoint")return this.toMultiPoint(t);var r=n==="GeometryCollection",s=[];return this.eachLayer(function(a){if(a.toGeoJSON){var c=a.toGeoJSON(t);if(r)s.push(c.geometry);else{var x=Wn(c);x.type==="FeatureCollection"?s.push.apply(s,x.features):s.push(x)}}}),r?Dn(this,{geometries:s,type:"GeometryCollection"}):{type:"FeatureCollection",features:s}}});function ti(t,n){return new An(t,n)}var Yi=ti,Hn=Ae.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,n,r){this._url=t,this._bounds=w(n),dt(this,r)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(qt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ve(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&se(this._image),this},bringToBack:function(){return this._map&&fi(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=w(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",n=this._image=t?this._url:oe("img");if(qt(n,"leaflet-image-layer"),this._zoomAnimated&&qt(n,"leaflet-zoom-animated"),this.options.className&&qt(n,this.options.className),n.onselectstart=_,n.onmousemove=_,n.onload=Xt(this.fire,this,"load"),n.onerror=Xt(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=n.src;return}n.src=this._url,n.alt=this.options.alt},_animateZoom:function(t){var n=this._map.getZoomScale(t.zoom),r=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Sn(this._image,r,n)},_reset:function(){var t=this._image,n=new d(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),r=n.getSize();ae(t,n.min),t.style.width=r.x+"px",t.style.height=r.y+"px"},_updateOpacity:function(){Xe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),br=function(t,n,r){return new Hn(t,n,r)},ei=Hn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",n=this._image=t?this._url:oe("video");if(qt(n,"leaflet-image-layer"),this._zoomAnimated&&qt(n,"leaflet-zoom-animated"),this.options.className&&qt(n,this.options.className),n.onselectstart=_,n.onmousemove=_,n.onloadeddata=Xt(this.fire,this,"load"),t){for(var r=n.getElementsByTagName("source"),s=[],a=0;a<r.length;a++)s.push(r[a].src);this._url=r.length>0?s:[n.src];return}kt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(n.style,"objectFit")&&(n.style.objectFit="fill"),n.autoplay=!!this.options.autoplay,n.loop=!!this.options.loop,n.muted=!!this.options.muted,n.playsInline=!!this.options.playsInline;for(var c=0;c<this._url.length;c++){var x=oe("source");x.src=this._url[c],n.appendChild(x)}}});function Bs(t,n,r){return new ei(t,n,r)}var Ro=Hn.extend({_initImage:function(){var t=this._image=this._url;qt(t,"leaflet-image-layer"),this._zoomAnimated&&qt(t,"leaflet-zoom-animated"),this.options.className&&qt(t,this.options.className),t.onselectstart=_,t.onmousemove=_}});function Is(t,n,r){return new Ro(t,n,r)}var xn=Ae.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,n){t&&(t instanceof g||kt(t))?(this._latlng=C(t),dt(this,n)):(dt(this,t),this._source=n),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Xe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Xe(this._container,1),this.bringToFront(),this.options.interactive&&(qt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Xe(this._container,0),this._removeTimeout=setTimeout(Xt(ve,void 0,this._container),200)):ve(this._container),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=C(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&se(this._container),this},bringToBack:function(){return this._map&&fi(this._container),this},_prepareOpen:function(t){var n=this._source;if(!n._map)return!1;if(n instanceof nn){n=null;var r=this._source._layers;for(var s in r)if(r[s]._map){n=r[s];break}if(!n)return!1;this._source=n}if(!t)if(n.getCenter)t=n.getCenter();else if(n.getLatLng)t=n.getLatLng();else if(n.getBounds)t=n.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,n=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof n=="string")t.innerHTML=n;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(n)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),n=h(this.options.offset),r=this._getAnchor();this._zoomAnimated?ae(this._container,t.add(r)):n=n.add(t).add(r);var s=this._containerBottom=-n.y,a=this._containerLeft=-Math.round(this._containerWidth/2)+n.x;this._container.style.bottom=s+"px",this._container.style.left=a+"px"}},_getAnchor:function(){return[0,0]}});ee.include({_initOverlay:function(t,n,r,s){var a=n;return a instanceof t||(a=new t(s).setContent(n)),r&&a.setLatLng(r),a}}),Ae.include({_initOverlay:function(t,n,r,s){var a=r;return a instanceof t?(dt(a,s),a._source=this):(a=n&&!s?n:new t(s,this),a.setContent(r)),a}});var Lr=xn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,xn.prototype.openOn.call(this,t)},onAdd:function(t){xn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Fn||this._source.on("preclick",mn))},onRemove:function(t){xn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Fn||this._source.off("preclick",mn))},getEvents:function(){var t=xn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",n=this._container=oe("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),r=this._wrapper=oe("div",t+"-content-wrapper",n);if(this._contentNode=oe("div",t+"-content",r),Di(n),In(this._contentNode),st(n,"contextmenu",mn),this._tipContainer=oe("div",t+"-tip-container",n),this._tip=oe("div",t+"-tip",this._tipContainer),this.options.closeButton){var s=this._closeButton=oe("a",t+"-close-button",n);s.setAttribute("role","button"),s.setAttribute("aria-label","Close popup"),s.href="#close",s.innerHTML='<span aria-hidden="true">&#215;</span>',st(s,"click",function(a){Ee(a),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,n=t.style;n.width="",n.whiteSpace="nowrap";var r=t.offsetWidth;r=Math.min(r,this.options.maxWidth),r=Math.max(r,this.options.minWidth),n.width=r+1+"px",n.whiteSpace="",n.height="";var s=t.offsetHeight,a=this.options.maxHeight,c="leaflet-popup-scrolled";a&&s>a?(n.height=a+"px",qt(t,c)):ye(t,c),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),r=this._getAnchor();ae(this._container,n.add(r))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,n=parseInt(Ii(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+n,s=this._containerWidth,a=new v(this._containerLeft,-r-this._containerBottom);a._add(Bn(this._container));var c=t.layerPointToContainerPoint(a),x=h(this.options.autoPanPadding),M=h(this.options.autoPanPaddingTopLeft||x),z=h(this.options.autoPanPaddingBottomRight||x),W=t.getSize(),nt=0,Tt=0;c.x+s+z.x>W.x&&(nt=c.x+s-W.x+z.x),c.x-nt-M.x<0&&(nt=c.x-M.x),c.y+r+z.y>W.y&&(Tt=c.y+r-W.y+z.y),c.y-Tt-M.y<0&&(Tt=c.y-M.y),(nt||Tt)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([nt,Tt]))}},_getAnchor:function(){return h(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Pr=function(t,n){return new Lr(t,n)};ee.mergeOptions({closePopupOnClick:!0}),ee.include({openPopup:function(t,n,r){return this._initOverlay(Lr,t,n,r).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Ae.include({bindPopup:function(t,n){return this._popup=this._initOverlay(Lr,this._popup,t,n),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof nn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Zn(t);var n=t.layer||t.target;if(this._popup._source===n&&!(n instanceof Fn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=n,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var jn=xn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){xn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){xn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=xn.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",n=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=oe("div",n),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+it(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var n,r,s=this._map,a=this._container,c=s.latLngToContainerPoint(s.getCenter()),x=s.layerPointToContainerPoint(t),M=this.options.direction,z=a.offsetWidth,W=a.offsetHeight,nt=h(this.options.offset),Tt=this._getAnchor();M==="top"?(n=z/2,r=W):M==="bottom"?(n=z/2,r=0):M==="center"?(n=z/2,r=W/2):M==="right"?(n=0,r=W/2):M==="left"?(n=z,r=W/2):x.x<c.x?(M="right",n=0,r=W/2):(M="left",n=z+(nt.x+Tt.x)*2,r=W/2),t=t.subtract(h(n,r,!0)).add(nt).add(Tt),ye(a,"leaflet-tooltip-right"),ye(a,"leaflet-tooltip-left"),ye(a,"leaflet-tooltip-top"),ye(a,"leaflet-tooltip-bottom"),qt(a,"leaflet-tooltip-"+M),ae(a,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Xe(this._container,t)},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(n)},_getAnchor:function(){return h(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),No=function(t,n){return new jn(t,n)};ee.include({openTooltip:function(t,n,r){return this._initOverlay(jn,t,n,r).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Ae.include({bindTooltip:function(t,n){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(jn,this._tooltip,t,n),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var n=t?"off":"on",r={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?r.add=this._openTooltip:(r.mouseover=this._openTooltip,r.mouseout=this.closeTooltip,r.click=this._openTooltip,this._map?this._addFocusListeners():r.add=this._addFocusListeners),this._tooltip.options.sticky&&(r.mousemove=this._moveTooltip),this[n](r),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof nn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var n=typeof t.getElement=="function"&&t.getElement();n&&(st(n,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),st(n,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var n=typeof t.getElement=="function"&&t.getElement();n&&n.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var n=this;this._map.once("moveend",function(){n._openOnceFlag=!1,n._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var n=t.latlng,r,s;this._tooltip.options.sticky&&t.originalEvent&&(r=this._map.mouseEventToContainerPoint(t.originalEvent),s=this._map.containerPointToLayerPoint(r),n=this._map.layerPointToLatLng(s)),this._tooltip.setLatLng(n)}});var f=Jn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var n=t&&t.tagName==="DIV"?t:document.createElement("div"),r=this.options;if(r.html instanceof Element?(ce(n),n.appendChild(r.html)):n.innerHTML=r.html!==!1?r.html:"",r.bgPos){var s=h(r.bgPos);n.style.backgroundPosition=-s.x+"px "+-s.y+"px"}return this._setIconStyles(n,"icon"),n},createShadow:function(){return null}});function Pi(t){return new f(t)}Jn.Default=wi;var Un=Ae.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ft.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){dt(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ve(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(se(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=ot(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof v?t:new v(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var n=this.getPane().children,r=-t(-1/0,1/0),s=0,a=n.length,c;s<a;s++)c=n[s].style.zIndex,n[s]!==this._container&&c&&(r=t(r,+c));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ft.ielt9){Xe(this._container,this.options.opacity);var t=+new Date,n=!1,r=!1;for(var s in this._tiles){var a=this._tiles[s];if(!(!a.current||!a.loaded)){var c=Math.min(1,(t-a.loaded)/200);Xe(a.el,c),c<1?n=!0:(a.active?r=!0:this._onOpaqueTile(a),a.active=!0)}}r&&!this._noPrune&&this._pruneTiles(),n&&(J(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=oe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,n=this.options.maxZoom;if(t!==void 0){for(var r in this._levels)r=Number(r),this._levels[r].el.children.length||r===t?(this._levels[r].el.style.zIndex=n-Math.abs(t-r),this._onUpdateLevel(r)):(ve(this._levels[r].el),this._removeTilesAtZoom(r),this._onRemoveLevel(r),delete this._levels[r]);var s=this._levels[t],a=this._map;return s||(s=this._levels[t]={},s.el=oe("div","leaflet-tile-container leaflet-zoom-animated",this._container),s.el.style.zIndex=n,s.origin=a.project(a.unproject(a.getPixelOrigin()),t).round(),s.zoom=t,this._setZoomTransform(s,a.getCenter(),a.getZoom()),_(s.el.offsetWidth),this._onCreateLevel(s)),this._level=s,s}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var t,n,r=this._map.getZoom();if(r>this.options.maxZoom||r<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)n=this._tiles[t],n.retain=n.current;for(t in this._tiles)if(n=this._tiles[t],n.current&&!n.active){var s=n.coords;this._retainParent(s.x,s.y,s.z,s.z-5)||this._retainChildren(s.x,s.y,s.z,s.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var n in this._tiles)this._tiles[n].coords.z===t&&this._removeTile(n)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ve(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,n,r,s){var a=Math.floor(t/2),c=Math.floor(n/2),x=r-1,M=new v(+a,+c);M.z=+x;var z=this._tileCoordsToKey(M),W=this._tiles[z];return W&&W.active?(W.retain=!0,!0):(W&&W.loaded&&(W.retain=!0),x>s?this._retainParent(a,c,x,s):!1)},_retainChildren:function(t,n,r,s){for(var a=2*t;a<2*t+2;a++)for(var c=2*n;c<2*n+2;c++){var x=new v(a,c);x.z=r+1;var M=this._tileCoordsToKey(x),z=this._tiles[M];if(z&&z.active){z.retain=!0;continue}else z&&z.loaded&&(z.retain=!0);r+1<s&&this._retainChildren(a,c,r+1,s)}},_resetView:function(t){var n=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),n,n)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var n=this.options;return n.minNativeZoom!==void 0&&t<n.minNativeZoom?n.minNativeZoom:n.maxNativeZoom!==void 0&&n.maxNativeZoom<t?n.maxNativeZoom:t},_setView:function(t,n,r,s){var a=Math.round(n);this.options.maxZoom!==void 0&&a>this.options.maxZoom||this.options.minZoom!==void 0&&a<this.options.minZoom?a=void 0:a=this._clampZoom(a);var c=this.options.updateWhenZooming&&a!==this._tileZoom;(!s||c)&&(this._tileZoom=a,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),a!==void 0&&this._update(t),r||this._pruneTiles(),this._noPrune=!!r),this._setZoomTransforms(t,n)},_setZoomTransforms:function(t,n){for(var r in this._levels)this._setZoomTransform(this._levels[r],t,n)},_setZoomTransform:function(t,n,r){var s=this._map.getZoomScale(r,t.zoom),a=t.origin.multiplyBy(s).subtract(this._map._getNewPixelOrigin(n,r)).round();ft.any3d?Sn(t.el,a,s):ae(t.el,a)},_resetGrid:function(){var t=this._map,n=t.options.crs,r=this._tileSize=this.getTileSize(),s=this._tileZoom,a=this._map.getPixelWorldBounds(this._tileZoom);a&&(this._globalTileRange=this._pxBoundsToTileRange(a)),this._wrapX=n.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,n.wrapLng[0]],s).x/r.x),Math.ceil(t.project([0,n.wrapLng[1]],s).x/r.y)],this._wrapY=n.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([n.wrapLat[0],0],s).y/r.x),Math.ceil(t.project([n.wrapLat[1],0],s).y/r.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var n=this._map,r=n._animatingZoom?Math.max(n._animateToZoom,n.getZoom()):n.getZoom(),s=n.getZoomScale(r,this._tileZoom),a=n.project(t,this._tileZoom).floor(),c=n.getSize().divideBy(s*2);return new d(a.subtract(c),a.add(c))},_update:function(t){var n=this._map;if(n){var r=this._clampZoom(n.getZoom());if(t===void 0&&(t=n.getCenter()),this._tileZoom!==void 0){var s=this._getTiledPixelBounds(t),a=this._pxBoundsToTileRange(s),c=a.getCenter(),x=[],M=this.options.keepBuffer,z=new d(a.getBottomLeft().subtract([M,-M]),a.getTopRight().add([M,-M]));if(!(isFinite(a.min.x)&&isFinite(a.min.y)&&isFinite(a.max.x)&&isFinite(a.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var W in this._tiles){var nt=this._tiles[W].coords;(nt.z!==this._tileZoom||!z.contains(new v(nt.x,nt.y)))&&(this._tiles[W].current=!1)}if(Math.abs(r-this._tileZoom)>1){this._setView(t,r);return}for(var Tt=a.min.y;Tt<=a.max.y;Tt++)for(var bt=a.min.x;bt<=a.max.x;bt++){var Ie=new v(bt,Tt);if(Ie.z=this._tileZoom,!!this._isValidTile(Ie)){var ze=this._tiles[this._tileCoordsToKey(Ie)];ze?ze.current=!0:x.push(Ie)}}if(x.sort(function(Re,Ln){return Re.distanceTo(c)-Ln.distanceTo(c)}),x.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var sn=document.createDocumentFragment();for(bt=0;bt<x.length;bt++)this._addTile(x[bt],sn);this._level.el.appendChild(sn)}}}},_isValidTile:function(t){var n=this._map.options.crs;if(!n.infinite){var r=this._globalTileRange;if(!n.wrapLng&&(t.x<r.min.x||t.x>r.max.x)||!n.wrapLat&&(t.y<r.min.y||t.y>r.max.y))return!1}if(!this.options.bounds)return!0;var s=this._tileCoordsToBounds(t);return w(this.options.bounds).overlaps(s)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var n=this._map,r=this.getTileSize(),s=t.scaleBy(r),a=s.add(r),c=n.unproject(s,t.z),x=n.unproject(a,t.z);return[c,x]},_tileCoordsToBounds:function(t){var n=this._tileCoordsToNwSe(t),r=new y(n[0],n[1]);return this.options.noWrap||(r=this._map.wrapLatLngBounds(r)),r},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var n=t.split(":"),r=new v(+n[0],+n[1]);return r.z=+n[2],r},_removeTile:function(t){var n=this._tiles[t];n&&(ve(n.el),delete this._tiles[t],this.fire("tileunload",{tile:n.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){qt(t,"leaflet-tile");var n=this.getTileSize();t.style.width=n.x+"px",t.style.height=n.y+"px",t.onselectstart=_,t.onmousemove=_,ft.ielt9&&this.options.opacity<1&&Xe(t,this.options.opacity)},_addTile:function(t,n){var r=this._getTilePos(t),s=this._tileCoordsToKey(t),a=this.createTile(this._wrapCoords(t),Xt(this._tileReady,this,t));this._initTile(a),this.createTile.length<2&&q(Xt(this._tileReady,this,t,null,a)),ae(a,r),this._tiles[s]={el:a,coords:t,current:!0},n.appendChild(a),this.fire("tileloadstart",{tile:a,coords:t})},_tileReady:function(t,n,r){n&&this.fire("tileerror",{error:n,tile:r,coords:t});var s=this._tileCoordsToKey(t);r=this._tiles[s],r&&(r.loaded=+new Date,this._map._fadeAnimated?(Xe(r.el,0),J(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),n||(qt(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ft.ielt9||!this._map._fadeAnimated?q(this._pruneTiles,this):setTimeout(Xt(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var n=new v(this._wrapX?te(t.x,this._wrapX):t.x,this._wrapY?te(t.y,this._wrapY):t.y);return n.z=t.z,n},_pxBoundsToTileRange:function(t){var n=this.getTileSize();return new d(t.min.unscaleBy(n).floor(),t.max.unscaleBy(n).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function rn(t){return new Un(t)}var Ut=Un.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,n){this._url=t,n=dt(this,n),n.detectRetina&&ft.retina&&n.maxZoom>0?(n.tileSize=Math.floor(n.tileSize/2),n.zoomReverse?(n.zoomOffset--,n.minZoom=Math.min(n.maxZoom,n.minZoom+1)):(n.zoomOffset++,n.maxZoom=Math.max(n.minZoom,n.maxZoom-1)),n.minZoom=Math.max(0,n.minZoom)):n.zoomReverse?n.minZoom=Math.min(n.maxZoom,n.minZoom):n.maxZoom=Math.max(n.minZoom,n.maxZoom),typeof n.subdomains=="string"&&(n.subdomains=n.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,n){return this._url===t&&n===void 0&&(n=!0),this._url=t,n||this.redraw(),this},createTile:function(t,n){var r=document.createElement("img");return st(r,"load",Xt(this._tileOnLoad,this,n,r)),st(r,"error",Xt(this._tileOnError,this,n,r)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(r.referrerPolicy=this.options.referrerPolicy),r.alt="",r.src=this.getTileUrl(t),r},getTileUrl:function(t){var n={r:ft.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=r),n["-y"]=r}return Yt(this._url,mt(n,this.options))},_tileOnLoad:function(t,n){ft.ielt9?setTimeout(Xt(t,this,null,n),0):t(null,n)},_tileOnError:function(t,n,r){var s=this.options.errorTileUrl;s&&n.getAttribute("src")!==s&&(n.src=s),t(r,n)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,n=this.options.maxZoom,r=this.options.zoomReverse,s=this.options.zoomOffset;return r&&(t=n-t),t+s},_getSubdomain:function(t){var n=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[n]},_abortLoading:function(){var t,n;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(n=this._tiles[t].el,n.onload=_,n.onerror=_,!n.complete)){n.src=Ft;var r=this._tiles[t].coords;ve(n),delete this._tiles[t],this.fire("tileabort",{tile:n,coords:r})}},_removeTile:function(t){var n=this._tiles[t];if(n)return n.el.setAttribute("src",Ft),Un.prototype._removeTile.call(this,t)},_tileReady:function(t,n,r){if(!(!this._map||r&&r.getAttribute("src")===Ft))return Un.prototype._tileReady.call(this,t,n,r)}});function Vn(t,n){return new Ut(t,n)}var wn=Ut.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var r=mt({},this.defaultWmsParams);for(var s in n)s in this.options||(r[s]=n[s]);n=dt(this,n);var a=n.detectRetina&&ft.retina?2:1,c=this.getTileSize();r.width=c.x*a,r.height=c.y*a,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var n=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[n]=this._crs.code,Ut.prototype.onAdd.call(this,t)},getTileUrl:function(t){var n=this._tileCoordsToNwSe(t),r=this._crs,s=m(r.project(n[0]),r.project(n[1])),a=s.min,c=s.max,x=(this._wmsVersion>=1.3&&this._crs===Bo?[a.y,a.x,c.y,c.x]:[a.x,a.y,c.x,c.y]).join(","),M=Ut.prototype.getTileUrl.call(this,t);return M+zt(this.wmsParams,M,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+x},setParams:function(t,n){return mt(this.wmsParams,t),n||this.redraw(),this}});function zn(t,n){return new wn(t,n)}Ut.WMS=wn,Vn.wms=zn;var je=Ae.extend({options:{padding:.1},initialize:function(t){dt(this,t),it(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),qt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,n){var r=this._map.getZoomScale(n,this._zoom),s=this._map.getSize().multiplyBy(.5+this.options.padding),a=this._map.project(this._center,n),c=s.multiplyBy(-r).add(a).subtract(this._map._getNewPixelOrigin(t,n));ft.any3d?Sn(this._container,c,r):ae(this._container,c)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,n=this._map.getSize(),r=this._map.containerPointToLayerPoint(n.multiplyBy(-t)).round();this._bounds=new d(r,r.add(n.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),on=je.extend({options:{tolerance:0},getEvents:function(){var t=je.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){je.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");st(t,"mousemove",this._onMouseMove,this),st(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),st(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){J(this._redrawRequest),delete this._ctx,ve(this._container),fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var n in this._layers)t=this._layers[n],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){je.prototype._update.call(this);var t=this._bounds,n=this._container,r=t.getSize(),s=ft.retina?2:1;ae(n,t.min),n.width=s*r.x,n.height=s*r.y,n.style.width=r.x+"px",n.style.height=r.y+"px",ft.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){je.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[it(t)]=t;var n=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=n),this._drawLast=n,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var n=t._order,r=n.next,s=n.prev;r?r.prev=s:this._drawLast=s,s?s.next=r:this._drawFirst=r,delete t._order,delete this._layers[it(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var n=t.options.dashArray.split(/[, ]+/),r=[],s,a;for(a=0;a<n.length;a++){if(s=Number(n[a]),isNaN(s))return;r.push(s)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||q(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var n=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new d,this._redrawBounds.extend(t._pxBounds.min.subtract([n,n])),this._redrawBounds.extend(t._pxBounds.max.add([n,n]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var n=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,n.x,n.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,n=this._redrawBounds;if(this._ctx.save(),n){var r=n.getSize();this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,r.x,r.y),this._ctx.clip()}this._drawing=!0;for(var s=this._drawFirst;s;s=s.next)t=s.layer,(!n||t._pxBounds&&t._pxBounds.intersects(n))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,n){if(this._drawing){var r,s,a,c,x=t._parts,M=x.length,z=this._ctx;if(M){for(z.beginPath(),r=0;r<M;r++){for(s=0,a=x[r].length;s<a;s++)c=x[r][s],z[s?"lineTo":"moveTo"](c.x,c.y);n&&z.closePath()}this._fillStroke(z,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var n=t._point,r=this._ctx,s=Math.max(Math.round(t._radius),1),a=(Math.max(Math.round(t._radiusY),1)||s)/s;a!==1&&(r.save(),r.scale(1,a)),r.beginPath(),r.arc(n.x,n.y/a,s,0,Math.PI*2,!1),a!==1&&r.restore(),this._fillStroke(r,t)}},_fillStroke:function(t,n){var r=n.options;r.fill&&(t.globalAlpha=r.fillOpacity,t.fillStyle=r.fillColor||r.color,t.fill(r.fillRule||"evenodd")),r.stroke&&r.weight!==0&&(t.setLineDash&&t.setLineDash(n.options&&n.options._dashArray||[]),t.globalAlpha=r.opacity,t.lineWidth=r.weight,t.strokeStyle=r.color,t.lineCap=r.lineCap,t.lineJoin=r.lineJoin,t.stroke())},_onClick:function(t){for(var n=this._map.mouseEventToLayerPoint(t),r,s,a=this._drawFirst;a;a=a.next)r=a.layer,r.options.interactive&&r._containsPoint(n)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(r))&&(s=r);this._fireEvent(s?[s]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var n=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,n)}},_handleMouseOut:function(t){var n=this._hoveredLayer;n&&(ye(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,n){if(!this._mouseHoverThrottled){for(var r,s,a=this._drawFirst;a;a=a.next)r=a.layer,r.options.interactive&&r._containsPoint(n)&&(s=r);s!==this._hoveredLayer&&(this._handleMouseOut(t),s&&(qt(this._container,"leaflet-interactive"),this._fireEvent([s],t,"mouseover"),this._hoveredLayer=s)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(Xt(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,n,r){this._map._fireDOMEvent(n,r||n.type,t)},_bringToFront:function(t){var n=t._order;if(n){var r=n.next,s=n.prev;if(r)r.prev=s;else return;s?s.next=r:r&&(this._drawFirst=r),n.prev=this._drawLast,this._drawLast.next=n,n.next=null,this._drawLast=n,this._requestRedraw(t)}},_bringToBack:function(t){var n=t._order;if(n){var r=n.next,s=n.prev;if(s)s.next=r;else return;r?r.prev=s:s&&(this._drawLast=s),n.prev=null,n.next=this._drawFirst,this._drawFirst.prev=n,this._drawFirst=n,this._requestRedraw(t)}}});function Xr(t){return ft.canvas?new on(t):null}var Ti=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Zs={_initContainer:function(){this._container=oe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(je.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var n=t._container=Ti("shape");qt(n,"leaflet-vml-shape "+(this.options.className||"")),n.coordsize="1 1",t._path=Ti("path"),n.appendChild(t._path),this._updateStyle(t),this._layers[it(t)]=t},_addPath:function(t){var n=t._container;this._container.appendChild(n),t.options.interactive&&t.addInteractiveTarget(n)},_removePath:function(t){var n=t._container;ve(n),t.removeInteractiveTarget(n),delete this._layers[it(t)]},_updateStyle:function(t){var n=t._stroke,r=t._fill,s=t.options,a=t._container;a.stroked=!!s.stroke,a.filled=!!s.fill,s.stroke?(n||(n=t._stroke=Ti("stroke")),a.appendChild(n),n.weight=s.weight+"px",n.color=s.color,n.opacity=s.opacity,s.dashArray?n.dashStyle=kt(s.dashArray)?s.dashArray.join(" "):s.dashArray.replace(/( *, *)/g," "):n.dashStyle="",n.endcap=s.lineCap.replace("butt","flat"),n.joinstyle=s.lineJoin):n&&(a.removeChild(n),t._stroke=null),s.fill?(r||(r=t._fill=Ti("fill")),a.appendChild(r),r.color=s.fillColor||s.color,r.opacity=s.fillOpacity):r&&(a.removeChild(r),t._fill=null)},_updateCircle:function(t){var n=t._point.round(),r=Math.round(t._radius),s=Math.round(t._radiusY||r);this._setPath(t,t._empty()?"M0 0":"AL "+n.x+","+n.y+" "+r+","+s+" 0,"+65535*360)},_setPath:function(t,n){t._path.v=n},_bringToFront:function(t){se(t._container)},_bringToBack:function(t){fi(t._container)}},Tr=ft.vml?Ti:Pt,ni=je.extend({_initContainer:function(){this._container=Tr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Tr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ve(this._container),fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){je.prototype._update.call(this);var t=this._bounds,n=t.getSize(),r=this._container;(!this._svgSize||!this._svgSize.equals(n))&&(this._svgSize=n,r.setAttribute("width",n.x),r.setAttribute("height",n.y)),ae(r,t.min),r.setAttribute("viewBox",[t.min.x,t.min.y,n.x,n.y].join(" ")),this.fire("update")}},_initPath:function(t){var n=t._path=Tr("path");t.options.className&&qt(n,t.options.className),t.options.interactive&&qt(n,"leaflet-interactive"),this._updateStyle(t),this._layers[it(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ve(t._path),t.removeInteractiveTarget(t._path),delete this._layers[it(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var n=t._path,r=t.options;n&&(r.stroke?(n.setAttribute("stroke",r.color),n.setAttribute("stroke-opacity",r.opacity),n.setAttribute("stroke-width",r.weight),n.setAttribute("stroke-linecap",r.lineCap),n.setAttribute("stroke-linejoin",r.lineJoin),r.dashArray?n.setAttribute("stroke-dasharray",r.dashArray):n.removeAttribute("stroke-dasharray"),r.dashOffset?n.setAttribute("stroke-dashoffset",r.dashOffset):n.removeAttribute("stroke-dashoffset")):n.setAttribute("stroke","none"),r.fill?(n.setAttribute("fill",r.fillColor||r.color),n.setAttribute("fill-opacity",r.fillOpacity),n.setAttribute("fill-rule",r.fillRule||"evenodd")):n.setAttribute("fill","none"))},_updatePoly:function(t,n){this._setPath(t,et(t._parts,n))},_updateCircle:function(t){var n=t._point,r=Math.max(Math.round(t._radius),1),s=Math.max(Math.round(t._radiusY),1)||r,a="a"+r+","+s+" 0 1,0 ",c=t._empty()?"M0 0":"M"+(n.x-r)+","+n.y+a+r*2+",0 "+a+-r*2+",0 ";this._setPath(t,c)},_setPath:function(t,n){t._path.setAttribute("d",n)},_bringToFront:function(t){se(t._path)},_bringToBack:function(t){fi(t._path)}});ft.vml&&ni.include(Zs);function Mi(t){return ft.svg||ft.vml?new ni(t):null}ee.include({getRenderer:function(t){var n=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return n||(n=this._renderer=this._createRenderer()),this.hasLayer(n)||this.addLayer(n),n},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var n=this._paneRenderers[t];return n===void 0&&(n=this._createRenderer({pane:t}),this._paneRenderers[t]=n),n},_createRenderer:function(t){return this.options.preferCanvas&&Xr(t)||Mi(t)}});var qi=Qn.extend({initialize:function(t,n){Qn.prototype.initialize.call(this,this._boundsToLatLngs(t),n)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=w(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Rs(t,n){return new qi(t,n)}ni.create=Tr,ni.pointsToPath=et,An.geometryToLayer=xe,An.coordsToLatLng=Gr,An.coordsToLatLngs=yr,An.latLngToCoords=xr,An.latLngsToCoords=wr,An.getFeature=Dn,An.asFeature=Wn,ee.mergeOptions({boxZoom:!0});var $r=De.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){st(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ve(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),di(),or(),this._startPoint=this._map.mouseEventToContainerPoint(t),st(document,{contextmenu:Zn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=oe("div","leaflet-zoom-box",this._container),qt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var n=new d(this._point,this._startPoint),r=n.getSize();ae(this._box,n.min),this._box.style.width=r.x+"px",this._box.style.height=r.y+"px"},_finish:function(){this._moved&&(ve(this._box),ye(this._container,"leaflet-crosshair")),_i(),Fe(),fe(document,{contextmenu:Zn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(Xt(this._resetState,this),0);var n=new y(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(n).fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ee.addInitHook("addHandler","boxZoom",$r),ee.mergeOptions({doubleClickZoom:!0});var bn=De.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var n=this._map,r=n.getZoom(),s=n.options.zoomDelta,a=t.originalEvent.shiftKey?r-s:r+s;n.options.doubleClickZoom==="center"?n.setZoom(a):n.setZoomAround(t.containerPoint,a)}});ee.addInitHook("addHandler","doubleClickZoom",bn),ee.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Mr=De.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Nn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}qt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab"),ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var n=w(this._map.options.maxBounds);this._offsetLimit=m(this._map.latLngToContainerPoint(n.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(n.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var n=this._lastTime=+new Date,r=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(r),this._times.push(n),this._prunePositions(n)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),n=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=n.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,n){return t-(t-n)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),n=this._offsetLimit;t.x<n.min.x&&(t.x=this._viscousLimit(t.x,n.min.x)),t.y<n.min.y&&(t.y=this._viscousLimit(t.y,n.min.y)),t.x>n.max.x&&(t.x=this._viscousLimit(t.x,n.max.x)),t.y>n.max.y&&(t.y=this._viscousLimit(t.y,n.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,n=Math.round(t/2),r=this._initialWorldOffset,s=this._draggable._newPos.x,a=(s-n+r)%t+n-r,c=(s+n+r)%t-n-r,x=Math.abs(a+r)<Math.abs(c+r)?a:c;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=x},_onDragEnd:function(t){var n=this._map,r=n.options,s=!r.inertia||t.noInertia||this._times.length<2;if(n.fire("dragend",t),s)n.fire("moveend");else{this._prunePositions(+new Date);var a=this._lastPos.subtract(this._positions[0]),c=(this._lastTime-this._times[0])/1e3,x=r.easeLinearity,M=a.multiplyBy(x/c),z=M.distanceTo([0,0]),W=Math.min(r.inertiaMaxSpeed,z),nt=M.multiplyBy(W/z),Tt=W/(r.inertiaDeceleration*x),bt=nt.multiplyBy(-Tt/2).round();!bt.x&&!bt.y?n.fire("moveend"):(bt=n._limitOffset(bt,n.options.maxBounds),q(function(){n.panBy(bt,{duration:Tt,easeLinearity:x,noMoveStart:!0,animate:!0})}))}}});ee.addInitHook("addHandler","dragging",Mr),ee.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Yn=De.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),st(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,n=document.documentElement,r=t.scrollTop||n.scrollTop,s=t.scrollLeft||n.scrollLeft;this._map._container.focus(),window.scrollTo(s,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var n=this._panKeys={},r=this.keyCodes,s,a;for(s=0,a=r.left.length;s<a;s++)n[r.left[s]]=[-1*t,0];for(s=0,a=r.right.length;s<a;s++)n[r.right[s]]=[t,0];for(s=0,a=r.down.length;s<a;s++)n[r.down[s]]=[0,t];for(s=0,a=r.up.length;s<a;s++)n[r.up[s]]=[0,-1*t]},_setZoomDelta:function(t){var n=this._zoomKeys={},r=this.keyCodes,s,a;for(s=0,a=r.zoomIn.length;s<a;s++)n[r.zoomIn[s]]=t;for(s=0,a=r.zoomOut.length;s<a;s++)n[r.zoomOut[s]]=-t},_addHooks:function(){st(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var n=t.keyCode,r=this._map,s;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(s=this._panKeys[n],t.shiftKey&&(s=h(s).multiplyBy(3)),r.options.maxBounds&&(s=r._limitOffset(h(s),r.options.maxBounds)),r.options.worldCopyJump){var a=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(s)));r.panTo(a)}else r.panBy(s)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else if(n===27&&r._popup&&r._popup.options.closeOnEscapeKey)r.closePopup();else return;Zn(t)}}});ee.addInitHook("addHandler","keyboard",Yn),ee.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var $e=De.extend({addHooks:function(){st(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var n=lr(t),r=this._map.options.wheelDebounceTime;this._delta+=n,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var s=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(Xt(this._performZoom,this),s),Zn(t)},_performZoom:function(){var t=this._map,n=t.getZoom(),r=this._map.options.zoomSnap||0;t._stop();var s=this._delta/(this._map.options.wheelPxPerZoomLevel*4),a=4*Math.log(2/(1+Math.exp(-Math.abs(s))))/Math.LN2,c=r?Math.ceil(a/r)*r:a,x=t._limitZoom(n+(this._delta>0?c:-c))-n;this._delta=0,this._startTime=null,x&&(t.options.scrollWheelZoom==="center"?t.setZoom(n+x):t.setZoomAround(this._lastMousePos,n+x))}});ee.addInitHook("addHandler","scrollWheelZoom",$e);var Fo=600;ee.mergeOptions({tapHold:ft.touchNative&&ft.safari&&ft.mobile,tapTolerance:15});var Jr=De.extend({addHooks:function(){st(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var n=t.touches[0];this._startPos=this._newPos=new v(n.clientX,n.clientY),this._holdTimeout=setTimeout(Xt(function(){this._cancel(),this._isTapValid()&&(st(document,"touchend",Ee),st(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",n))},this),Fo),st(document,"touchend touchcancel contextmenu",this._cancel,this),st(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){fe(document,"touchend",Ee),fe(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),fe(document,"touchend touchcancel contextmenu",this._cancel,this),fe(document,"touchmove",this._onMove,this)},_onMove:function(t){var n=t.touches[0];this._newPos=new v(n.clientX,n.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,n){var r=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});r._simulated=!0,n.target.dispatchEvent(r)}});ee.addInitHook("addHandler","tapHold",Jr),ee.mergeOptions({touchZoom:ft.touch,bounceAtZoomLimits:!0});var Si=De.extend({addHooks:function(){qt(this._map._container,"leaflet-touch-zoom"),st(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var n=this._map;if(!(!t.touches||t.touches.length!==2||n._animatingZoom||this._zooming)){var r=n.mouseEventToContainerPoint(t.touches[0]),s=n.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=n.getSize()._divideBy(2),this._startLatLng=n.containerPointToLatLng(this._centerPoint),n.options.touchZoom!=="center"&&(this._pinchStartLatLng=n.containerPointToLatLng(r.add(s)._divideBy(2))),this._startDist=r.distanceTo(s),this._startZoom=n.getZoom(),this._moved=!1,this._zooming=!0,n._stop(),st(document,"touchmove",this._onTouchMove,this),st(document,"touchend touchcancel",this._onTouchEnd,this),Ee(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var n=this._map,r=n.mouseEventToContainerPoint(t.touches[0]),s=n.mouseEventToContainerPoint(t.touches[1]),a=r.distanceTo(s)/this._startDist;if(this._zoom=n.getScaleZoom(a,this._startZoom),!n.options.bounceAtZoomLimits&&(this._zoom<n.getMinZoom()&&a<1||this._zoom>n.getMaxZoom()&&a>1)&&(this._zoom=n._limitZoom(this._zoom)),n.options.touchZoom==="center"){if(this._center=this._startLatLng,a===1)return}else{var c=r._add(s)._divideBy(2)._subtract(this._centerPoint);if(a===1&&c.x===0&&c.y===0)return;this._center=n.unproject(n.project(this._pinchStartLatLng,this._zoom).subtract(c),this._zoom)}this._moved||(n._moveStart(!0,!1),this._moved=!0),J(this._animRequest);var x=Xt(n._move,n,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=q(x,this,!0),Ee(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,J(this._animRequest),fe(document,"touchmove",this._onTouchMove,this),fe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ee.addInitHook("addHandler","touchZoom",Si),ee.BoxZoom=$r,ee.DoubleClickZoom=bn,ee.Drag=Mr,ee.Keyboard=Yn,ee.ScrollWheelZoom=$e,ee.TapHold=Jr,ee.TouchZoom=Si,k.Bounds=d,k.Browser=ft,k.CRS=B,k.Canvas=on,k.Circle=Li,k.CircleMarker=vr,k.Class=K,k.Control=tn,k.DivIcon=f,k.DivOverlay=xn,k.DomEvent=Ao,k.DomUtil=Vr,k.Draggable=Nn,k.Evented=Wt,k.FeatureGroup=nn,k.GeoJSON=An,k.GridLayer=Un,k.Handler=De,k.Icon=Jn,k.ImageOverlay=Hn,k.LatLng=g,k.LatLngBounds=y,k.Layer=Ae,k.LayerGroup=En,k.LineUtil=Cs,k.Map=ee,k.Marker=yn,k.Mixin=fn,k.Path=Fn,k.Point=v,k.PolyUtil=F,k.Polygon=Qn,k.Polyline=dn,k.Popup=Lr,k.PosAnimation=qe,k.Projection=Es,k.Rectangle=qi,k.Renderer=je,k.SVG=ni,k.SVGOverlay=Ro,k.TileLayer=Ut,k.Tooltip=jn,k.Transformation=at,k.Util=ut,k.VideoOverlay=ei,k.bind=Xt,k.bounds=m,k.canvas=Xr,k.circle=gr,k.circleMarker=zs,k.control=vi,k.divIcon=Pi,k.extend=mt,k.featureGroup=Zo,k.geoJSON=ti,k.geoJson=Yi,k.gridLayer=rn,k.icon=pr,k.imageOverlay=br,k.latLng=C,k.latLngBounds=w,k.layerGroup=Io,k.map=Hi,k.marker=mr,k.point=h,k.polygon=Os,k.polyline=ks,k.popup=Pr,k.rectangle=Rs,k.setOptions=dt,k.stamp=it,k.svg=Mi,k.svgOverlay=Is,k.tileLayer=Vn,k.tooltip=No,k.transformation=V,k.version=Zt,k.videoOverlay=Bs;var qn=window.L;k.noConflict=function(){return window.L=qn,this},window.L=k}))})(ao,ao.exports)),ao.exports}var Ta=Xu();const Ma=Tl(Ta);function Ol(Ct,Ot,k){return Object.freeze({instance:Ct,context:Ot,container:k})}function Bl(Ct,Ot){return Ot==null?function(Zt,mt){const ne=Te.useRef(void 0);return ne.current||(ne.current=Ct(Zt,mt)),ne}:function(Zt,mt){const ne=Te.useRef(void 0);ne.current||(ne.current=Ct(Zt,mt));const Xt=Te.useRef(Zt),{instance:Q}=ne.current;return Te.useEffect(function(){Xt.current!==Zt&&(Ot(Q,Zt,Xt.current),Xt.current=Zt)},[Q,Zt,Ot]),ne}}function Il(Ct,Ot){Te.useEffect(function(){return(Ot.layerContainer??Ot.map).addLayer(Ct.instance),function(){Ot.layerContainer?.removeLayer(Ct.instance),Ot.map.removeLayer(Ct.instance)}},[Ot,Ct])}function Zl(Ct){return function(k){const Zt=Ku(),mt=Ct(Gu(k,Zt),Zt);return Sl(Zt.map,k.attribution),zl(mt.current,k.eventHandlers),Il(mt.current,Zt),mt}}function Rl(Ct,Ot){const k=Bl(Ct,Ot),Zt=Zl(k);return Al(Zt)}function Nl(Ct,Ot,k){const{opacity:Zt,zIndex:mt}=Ot;Zt!=null&&Zt!==k.opacity&&Ct.setOpacity(Zt),mt!=null&&mt!==k.zIndex&&Ct.setZIndex(mt)}function Fl(){return Ku().map}function Dl({bounds:Ct,boundsOptions:Ot,center:k,children:Zt,className:mt,id:ne,placeholder:Xt,style:Q,whenReady:it,zoom:ot,...te},_){const[pt]=Te.useState({className:mt,id:ne,style:Q}),[vt,wt]=Te.useState(null),dt=Te.useRef(void 0);Te.useImperativeHandle(_,()=>vt?.map??null,[vt]);const zt=Te.useCallback(Yt=>{if(Yt!==null&&!dt.current){const kt=new Ta.Map(Yt,te);dt.current=kt,k!=null&&ot!=null?kt.setView(k,ot):Ct!=null&&kt.fitBounds(Ct,Ot),it!=null&&kt.whenReady(it),wt(El(kt))}},[]);Te.useEffect(()=>()=>{vt?.map.remove()},[vt]);const Gt=vt?Uu.createElement(qu,{value:vt},Zt):Xt??null;return Uu.createElement("div",{...pt,ref:zt},Gt)}const Wl=Te.forwardRef(Dl),Hl=Rl(function({url:Ot,...k},Zt){const mt=new Ta.TileLayer(Ot,Gu(k,Zt));return Ol(mt,Zt)},function(Ot,k,Zt){Nl(Ot,k,Zt);const{url:mt}=k;mt!=null&&mt!==Zt.url&&Ot.setUrl(mt)});var Pa={exports:{}};/*! For license information please see glify-browser.js.LICENSE.txt */var Yu;function jl(){return Yu||(Yu=1,(function(Ct,Ot){(function(k,Zt){Ct.exports=Zt(Xu())})(self,(k=>(()=>{var Zt={570:Q=>{function it(v,T,h){h=h||2;var d,m,y,w,g,C,B,I=T&&T.length,G=I?T[0]*h:v.length,U=ot(v,0,G,h,!0),at=[];if(!U||U.next===U.prev)return at;if(I&&(U=(function(ct,yt,Pt,et){var j,H,Ht,Et=[];for(j=0,H=yt.length;j<H;j++)(Ht=ot(ct,yt[j]*et,j<H-1?yt[j+1]*et:ct.length,et,!1))===Ht.next&&(Ht.steiner=!0),Et.push(le(Ht));for(Et.sort(zt),j=0;j<Et.length;j++)Pt=Gt(Et[j],Pt);return Pt})(v,T,U,h)),v.length>80*h){d=y=v[0],m=w=v[1];for(var V=h;V<G;V+=h)(g=v[V])<d&&(d=g),(C=v[V+1])<m&&(m=C),g>y&&(y=g),C>w&&(w=C);B=(B=Math.max(y-d,w-m))!==0?32767/B:0}return _(U,at,h,d,m,B,0),at}function ot(v,T,h,d,m){var y,w;if(m===Wt(v,T,h,d)>0)for(y=T;y<h;y+=d)w=K(y,v[y],v[y+1],w);else for(y=h-d;y>=T;y-=d)w=K(y,v[y],v[y+1],w);return w&&A(w,w.next)&&(Bt(w),w=w.next),w}function te(v,T){if(!v)return v;T||(T=v);var h,d=v;do if(h=!1,d.steiner||!A(d,d.next)&&_t(d.prev,d,d.next)!==0)d=d.next;else{if(Bt(d),(d=T=d.prev)===d.next)break;h=!0}while(h||d!==T);return T}function _(v,T,h,d,m,y,w){if(v){!w&&y&&(function(I,G,U,at){var V=I;do V.z===0&&(V.z=kt(V.x,V.y,G,U,at)),V.prevZ=V.prev,V.nextZ=V.next,V=V.next;while(V!==I);V.prevZ.nextZ=null,V.prevZ=null,(function(ct){var yt,Pt,et,j,H,Ht,Et,jt,Rt=1;do{for(Pt=ct,ct=null,H=null,Ht=0;Pt;){for(Ht++,et=Pt,Et=0,yt=0;yt<Rt&&(Et++,et=et.nextZ);yt++);for(jt=Rt;Et>0||jt>0&&et;)Et!==0&&(jt===0||!et||Pt.z<=et.z)?(j=Pt,Pt=Pt.nextZ,Et--):(j=et,et=et.nextZ,jt--),H?H.nextZ=j:ct=j,j.prevZ=H,H=j;Pt=et}H.nextZ=null,Rt*=2}while(Ht>1)})(V)})(v,d,m,y);for(var g,C,B=v;v.prev!==v.next;)if(g=v.prev,C=v.next,y?vt(v,d,m,y):pt(v))T.push(g.i/h|0),T.push(v.i/h|0),T.push(C.i/h|0),Bt(v),v=C.next,B=C.next;else if((v=C)===B){w?w===1?_(v=wt(te(v),T,h),T,h,d,m,y,2):w===2&&dt(v,T,h,d,m,y):_(te(v),T,h,d,m,y,1);break}}}function pt(v){var T=v.prev,h=v,d=v.next;if(_t(T,h,d)>=0)return!1;for(var m=T.x,y=h.x,w=d.x,g=T.y,C=h.y,B=d.y,I=m<y?m<w?m:w:y<w?y:w,G=g<C?g<B?g:B:C<B?C:B,U=m>y?m>w?m:w:y>w?y:w,at=g>C?g>B?g:B:C>B?C:B,V=d.next;V!==T;){if(V.x>=I&&V.x<=U&&V.y>=G&&V.y<=at&&Ft(m,g,y,C,w,B,V.x,V.y)&&_t(V.prev,V,V.next)>=0)return!1;V=V.next}return!0}function vt(v,T,h,d){var m=v.prev,y=v,w=v.next;if(_t(m,y,w)>=0)return!1;for(var g=m.x,C=y.x,B=w.x,I=m.y,G=y.y,U=w.y,at=g<C?g<B?g:B:C<B?C:B,V=I<G?I<U?I:U:G<U?G:U,ct=g>C?g>B?g:B:C>B?C:B,yt=I>G?I>U?I:U:G>U?G:U,Pt=kt(at,V,T,h,d),et=kt(ct,yt,T,h,d),j=v.prevZ,H=v.nextZ;j&&j.z>=Pt&&H&&H.z<=et;){if(j.x>=at&&j.x<=ct&&j.y>=V&&j.y<=yt&&j!==m&&j!==w&&Ft(g,I,C,G,B,U,j.x,j.y)&&_t(j.prev,j,j.next)>=0||(j=j.prevZ,H.x>=at&&H.x<=ct&&H.y>=V&&H.y<=yt&&H!==m&&H!==w&&Ft(g,I,C,G,B,U,H.x,H.y)&&_t(H.prev,H,H.next)>=0))return!1;H=H.nextZ}for(;j&&j.z>=Pt;){if(j.x>=at&&j.x<=ct&&j.y>=V&&j.y<=yt&&j!==m&&j!==w&&Ft(g,I,C,G,B,U,j.x,j.y)&&_t(j.prev,j,j.next)>=0)return!1;j=j.prevZ}for(;H&&H.z<=et;){if(H.x>=at&&H.x<=ct&&H.y>=V&&H.y<=yt&&H!==m&&H!==w&&Ft(g,I,C,G,B,U,H.x,H.y)&&_t(H.prev,H,H.next)>=0)return!1;H=H.nextZ}return!0}function wt(v,T,h){var d=v;do{var m=d.prev,y=d.next.next;!A(m,y)&&O(m,d,d.next,y)&&J(m,y)&&J(y,m)&&(T.push(m.i/h|0),T.push(d.i/h|0),T.push(y.i/h|0),Bt(d),Bt(d.next),d=v=y),d=d.next}while(d!==v);return te(d)}function dt(v,T,h,d,m,y){var w=v;do{for(var g=w.next.next;g!==w.prev;){if(w.i!==g.i&&$t(w,g)){var C=ut(w,g);return w=te(w,w.next),C=te(C,C.next),_(w,T,h,d,m,y,0),void _(C,T,h,d,m,y,0)}g=g.next}w=w.next}while(w!==v)}function zt(v,T){return v.x-T.x}function Gt(v,T){var h=(function(m,y){var w,g=y,C=m.x,B=m.y,I=-1/0;do{if(B<=g.y&&B>=g.next.y&&g.next.y!==g.y){var G=g.x+(B-g.y)*(g.next.x-g.x)/(g.next.y-g.y);if(G<=C&&G>I&&(I=G,w=g.x<g.next.x?g:g.next,G===C))return w}g=g.next}while(g!==y);if(!w)return null;var U,at=w,V=w.x,ct=w.y,yt=1/0;g=w;do C>=g.x&&g.x>=V&&C!==g.x&&Ft(B<ct?C:I,B,V,ct,B<ct?I:C,B,g.x,g.y)&&(U=Math.abs(B-g.y)/(C-g.x),J(g,m)&&(U<yt||U===yt&&(g.x>w.x||g.x===w.x&&Yt(w,g)))&&(w=g,yt=U)),g=g.next;while(g!==at);return w})(v,T);if(!h)return T;var d=ut(h,v);return te(d,d.next),te(h,h.next)}function Yt(v,T){return _t(v.prev,v,T.prev)<0&&_t(T.next,v,v.next)<0}function kt(v,T,h,d,m){return(v=1431655765&((v=858993459&((v=252645135&((v=16711935&((v=(v-h)*m|0)|v<<8))|v<<4))|v<<2))|v<<1))|(T=1431655765&((T=858993459&((T=252645135&((T=16711935&((T=(T-d)*m|0)|T<<8))|T<<4))|T<<2))|T<<1))<<1}function le(v){var T=v,h=v;do(T.x<h.x||T.x===h.x&&T.y<h.y)&&(h=T),T=T.next;while(T!==v);return h}function Ft(v,T,h,d,m,y,w,g){return(m-w)*(T-g)>=(v-w)*(y-g)&&(v-w)*(d-g)>=(h-w)*(T-g)&&(h-w)*(y-g)>=(m-w)*(d-g)}function $t(v,T){return v.next.i!==T.i&&v.prev.i!==T.i&&!(function(h,d){var m=h;do{if(m.i!==h.i&&m.next.i!==h.i&&m.i!==d.i&&m.next.i!==d.i&&O(m,m.next,h,d))return!0;m=m.next}while(m!==h);return!1})(v,T)&&(J(v,T)&&J(T,v)&&(function(h,d){var m=h,y=!1,w=(h.x+d.x)/2,g=(h.y+d.y)/2;do m.y>g!=m.next.y>g&&m.next.y!==m.y&&w<(m.next.x-m.x)*(g-m.y)/(m.next.y-m.y)+m.x&&(y=!y),m=m.next;while(m!==h);return y})(v,T)&&(_t(v.prev,v,T.prev)||_t(v,T.prev,T))||A(v,T)&&_t(v.prev,v,v.next)>0&&_t(T.prev,T,T.next)>0)}function _t(v,T,h){return(T.y-v.y)*(h.x-T.x)-(T.x-v.x)*(h.y-T.y)}function A(v,T){return v.x===T.x&&v.y===T.y}function O(v,T,h,d){var m=q(_t(v,T,h)),y=q(_t(v,T,d)),w=q(_t(h,d,v)),g=q(_t(h,d,T));return m!==y&&w!==g||!(m!==0||!$(v,h,T))||!(y!==0||!$(v,d,T))||!(w!==0||!$(h,v,d))||!(g!==0||!$(h,T,d))}function $(v,T,h){return T.x<=Math.max(v.x,h.x)&&T.x>=Math.min(v.x,h.x)&&T.y<=Math.max(v.y,h.y)&&T.y>=Math.min(v.y,h.y)}function q(v){return v>0?1:v<0?-1:0}function J(v,T){return _t(v.prev,v,v.next)<0?_t(v,T,v.next)>=0&&_t(v,v.prev,T)>=0:_t(v,T,v.prev)<0||_t(v,v.next,T)<0}function ut(v,T){var h=new gt(v.i,v.x,v.y),d=new gt(T.i,T.x,T.y),m=v.next,y=T.prev;return v.next=T,T.prev=v,h.next=m,m.prev=h,d.next=h,h.prev=d,y.next=d,d.prev=y,d}function K(v,T,h,d){var m=new gt(v,T,h);return d?(m.next=d.next,m.prev=d,d.next.prev=m,d.next=m):(m.prev=m,m.next=m),m}function Bt(v){v.next.prev=v.prev,v.prev.next=v.next,v.prevZ&&(v.prevZ.nextZ=v.nextZ),v.nextZ&&(v.nextZ.prevZ=v.prevZ)}function gt(v,T,h){this.i=v,this.x=T,this.y=h,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Wt(v,T,h,d){for(var m=0,y=T,w=h-d;y<h;y+=d)m+=(v[w]-v[y])*(v[y+1]+v[w+1]),w=y;return m}Q.exports=it,Q.exports.default=it,it.deviation=function(v,T,h,d){var m=T&&T.length,y=m?T[0]*h:v.length,w=Math.abs(Wt(v,0,y,h));if(m)for(var g=0,C=T.length;g<C;g++){var B=T[g]*h,I=g<C-1?T[g+1]*h:v.length;w-=Math.abs(Wt(v,B,I,h))}var G=0;for(g=0;g<d.length;g+=3){var U=d[g]*h,at=d[g+1]*h,V=d[g+2]*h;G+=Math.abs((v[U]-v[V])*(v[at+1]-v[U+1])-(v[U]-v[at])*(v[V+1]-v[U+1]))}return w===0&&G===0?0:Math.abs((G-w)/w)},it.flatten=function(v){for(var T=v[0][0].length,h={vertices:[],holes:[],dimensions:T},d=0,m=0;m<v.length;m++){for(var y=0;y<v[m].length;y++)for(var w=0;w<T;w++)h.vertices.push(v[m][y][w]);m>0&&(d+=v[m-1].length,h.holes.push(d))}return h}},543:function(Q,it,ot){var te;Q=ot.nmd(Q),(function(){var _,pt="Expected a function",vt="__lodash_hash_undefined__",wt="__lodash_placeholder__",dt=32,zt=128,Gt=1/0,Yt=9007199254740991,kt=NaN,le=4294967295,Ft=[["ary",zt],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",dt],["partialRight",64],["rearg",256]],$t="[object Arguments]",_t="[object Array]",A="[object Boolean]",O="[object Date]",$="[object Error]",q="[object Function]",J="[object GeneratorFunction]",ut="[object Map]",K="[object Number]",Bt="[object Object]",gt="[object Promise]",Wt="[object RegExp]",v="[object Set]",T="[object String]",h="[object Symbol]",d="[object WeakMap]",m="[object ArrayBuffer]",y="[object DataView]",w="[object Float32Array]",g="[object Float64Array]",C="[object Int8Array]",B="[object Int16Array]",I="[object Int32Array]",G="[object Uint8Array]",U="[object Uint8ClampedArray]",at="[object Uint16Array]",V="[object Uint32Array]",ct=/\b__p \+= '';/g,yt=/\b(__p \+=) '' \+/g,Pt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,et=/&(?:amp|lt|gt|quot|#39);/g,j=/[&<>"']/g,H=RegExp(et.source),Ht=RegExp(j.source),Et=/<%-([\s\S]+?)%>/g,jt=/<%([\s\S]+?)%>/g,Rt=/<%=([\s\S]+?)%>/g,me=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ie=/^\w*$/,ke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_e=/[\\^$.*+?()[\]{}|]/g,Jt=RegExp(_e.source),Ue=/^\s+/,Ve=/\s/,hi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,uo=/\{\n\/\* \[wrapped with (.+)\] \*/,_s=/,? & /,ho=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ir=/[()=,{}\[\]\/\s]/,lo=/\\(\\)?/g,ps=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,li=/\w*$/,ms=/^[-+]0x[0-9a-f]+$/i,vs=/^0b[01]+$/i,co=/^\[object .+?Constructor\]$/,fo=/^0o[0-7]+$/i,_o=/^(?:0|[1-9]\d*)$/,gs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,tr=/($^)/,ys=/['\n\r\u2028\u2029\\]/g,er="\\ud800-\\udfff",po="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",mo="\\u2700-\\u27bf",nr="a-z\\xdf-\\xf6\\xf8-\\xff",vo="A-Z\\xc0-\\xd6\\xd8-\\xde",go="\\ufe0e\\ufe0f",yo="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",xs="["+er+"]",cn="["+yo+"]",ft="["+po+"]",Zr="\\d+",xo="["+mo+"]",Rr="["+nr+"]",Nr="[^"+er+yo+Zr+mo+nr+vo+"]",Oi="\\ud83c[\\udffb-\\udfff]",Fr="[^"+er+"]",On="(?:\\ud83c[\\udde6-\\uddff]){2}",ir="[\\ud800-\\udbff][\\udc00-\\udfff]",ci="["+vo+"]",wo="\\u200d",bo="(?:"+Rr+"|"+Nr+")",ws="(?:"+ci+"|"+Nr+")",Dr="(?:['’](?:d|ll|m|re|s|t|ve))?",Lo="(?:['’](?:D|LL|M|RE|S|T|VE))?",Bi="(?:"+ft+"|"+Oi+")?",Po="["+go+"]?",To=Po+Bi+"(?:"+wo+"(?:"+[Fr,On,ir].join("|")+")"+Po+Bi+")*",bs="(?:"+[xo,On,ir].join("|")+")"+To,Ls="(?:"+[Fr+ft+"?",ft,On,ir,xs].join("|")+")",Ps=RegExp("['’]","g"),Wr=RegExp(ft,"g"),$n=RegExp(Oi+"(?="+Oi+")|"+Ls+To,"g"),Mo=RegExp([ci+"?"+Rr+"+"+Dr+"(?="+[cn,ci,"$"].join("|")+")",ws+"+"+Lo+"(?="+[cn,ci+bo,"$"].join("|")+")",ci+"?"+bo+"+"+Dr,ci+"+"+Lo,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Zr,bs].join("|"),"g"),So=RegExp("["+wo+er+po+go+"]"),Ii=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,oe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ve=-1,ce={};ce[w]=ce[g]=ce[C]=ce[B]=ce[I]=ce[G]=ce[U]=ce[at]=ce[V]=!0,ce[$t]=ce[_t]=ce[m]=ce[A]=ce[y]=ce[O]=ce[$]=ce[q]=ce[ut]=ce[K]=ce[Bt]=ce[Wt]=ce[v]=ce[T]=ce[d]=!1;var se={};se[$t]=se[_t]=se[m]=se[y]=se[A]=se[O]=se[w]=se[g]=se[C]=se[B]=se[I]=se[ut]=se[K]=se[Bt]=se[Wt]=se[v]=se[T]=se[h]=se[G]=se[U]=se[at]=se[V]=!0,se[$]=se[q]=se[d]=!1;var fi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hr=parseFloat,qt=parseInt,ye=typeof ot.g=="object"&&ot.g&&ot.g.Object===Object&&ot.g,jr=typeof self=="object"&&self&&self.Object===Object&&self,Le=ye||jr||Function("return this")(),Xe=it&&!it.nodeType&&it,Zi=Xe&&Q&&!Q.nodeType&&Q,Ri=Zi&&Zi.exports===Xe,Sn=Ri&&ye.process,ae=(function(){try{return Zi&&Zi.require&&Zi.require("util").types||Sn&&Sn.binding&&Sn.binding("util")}catch{}})(),Bn=ae&&ae.isArrayBuffer,di=ae&&ae.isDate,_i=ae&&ae.isMap,rr=ae&&ae.isRegExp,pi=ae&&ae.isSet,or=ae&&ae.isTypedArray;function Fe(E,Z,F){switch(F.length){case 0:return E.call(Z);case 1:return E.call(Z,F[0]);case 2:return E.call(Z,F[0],F[1]);case 3:return E.call(Z,F[0],F[1],F[2])}return E.apply(Z,F)}function sr(E,Z,F,rt){for(var It=-1,re=E==null?0:E.length;++It<re;){var Me=E[It];Z(rt,Me,F(Me),E)}return rt}function Ye(E,Z){for(var F=-1,rt=E==null?0:E.length;++F<rt&&Z(E[F],F,E)!==!1;);return E}function Ur(E,Z){for(var F=E==null?0:E.length;F--&&Z(E[F],F,E)!==!1;);return E}function Ni(E,Z){for(var F=-1,rt=E==null?0:E.length;++F<rt;)if(!Z(E[F],F,E))return!1;return!0}function Cn(E,Z){for(var F=-1,rt=E==null?0:E.length,It=0,re=[];++F<rt;){var Me=E[F];Z(Me,F,E)&&(re[It++]=Me)}return re}function mi(E,Z){return!(E==null||!E.length)&&In(E,Z,0)>-1}function Vr(E,Z,F){for(var rt=-1,It=E==null?0:E.length;++rt<It;)if(F(Z,E[rt]))return!0;return!1}function st(E,Z){for(var F=-1,rt=E==null?0:E.length,It=Array(rt);++F<rt;)It[F]=Z(E[F],F,E);return It}function Oe(E,Z){for(var F=-1,rt=Z.length,It=E.length;++F<rt;)E[It+F]=Z[F];return E}function fe(E,Z,F,rt){var It=-1,re=E==null?0:E.length;for(rt&&re&&(F=E[++It]);++It<re;)F=Z(F,E[It],It,E);return F}function Co(E,Z,F,rt){var It=E==null?0:E.length;for(rt&&It&&(F=E[--It]);It--;)F=Z(F,E[It],It,E);return F}function Fi(E,Z){for(var F=-1,rt=E==null?0:E.length;++F<rt;)if(Z(E[F],F,E))return!0;return!1}var Yr=ur("length");function ar(E,Z,F){var rt;return F(E,(function(It,re,Me){if(Z(It,re,Me))return rt=re,!1})),rt}function mn(E,Z,F,rt){for(var It=E.length,re=F+(rt?1:-1);rt?re--:++re<It;)if(Z(E[re],re,E))return re;return-1}function In(E,Z,F){return Z==Z?(function(rt,It,re){for(var Me=re-1,en=rt.length;++Me<en;)if(rt[Me]===It)return Me;return-1})(E,Z,F):mn(E,Ee,F)}function Di(E,Z,F,rt){for(var It=F-1,re=E.length;++It<re;)if(rt(E[It],Z))return It;return-1}function Ee(E){return E!=E}function Zn(E,Z){var F=E==null?0:E.length;return F?lr(E,Z)/F:kt}function ur(E){return function(Z){return Z==null?_:Z[E]}}function hr(E){return function(Z){return E==null?_:E[Z]}}function Eo(E,Z,F,rt,It){return It(E,(function(re,Me,en){F=rt?(rt=!1,re):Z(F,re,Me,en)})),F}function lr(E,Z){for(var F,rt=-1,It=E.length;++rt<It;){var re=Z(E[rt]);re!==_&&(F=F===_?re:F+re)}return F}function Wi(E,Z){for(var F=-1,rt=Array(E);++F<E;)rt[F]=Z(F);return rt}function Ao(E){return E&&E.slice(0,Kr(E)+1).replace(Ue,"")}function qe(E){return function(Z){return E(Z)}}function ee(E,Z){return st(Z,(function(F){return E[F]}))}function Hi(E,Z){return E.has(Z)}function tn(E,Z){for(var F=-1,rt=E.length;++F<rt&&In(Z,E[F],0)>-1;);return F}function vi(E,Z){for(var F=E.length;F--&&In(Z,E[F],0)>-1;);return F}var zo=hr({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Ts=hr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function qr(E){return"\\"+fi[E]}function gi(E){return So.test(E)}function cr(E){var Z=-1,F=Array(E.size);return E.forEach((function(rt,It){F[++Z]=[It,rt]})),F}function ko(E,Z){return function(F){return E(Z(F))}}function Rn(E,Z){for(var F=-1,rt=E.length,It=0,re=[];++F<rt;){var Me=E[F];Me!==Z&&Me!==wt||(E[F]=wt,re[It++]=F)}return re}function yi(E){var Z=-1,F=Array(E.size);return E.forEach((function(rt){F[++Z]=rt})),F}function Ms(E){var Z=-1,F=Array(E.size);return E.forEach((function(rt){F[++Z]=[rt,rt]})),F}function De(E){return gi(E)?(function(Z){for(var F=$n.lastIndex=0;$n.test(Z);)++F;return F})(E):Yr(E)}function fn(E){return gi(E)?(function(Z){return Z.match($n)||[]})(E):(function(Z){return Z.split("")})(E)}function Kr(E){for(var Z=E.length;Z--&&Ve.test(E.charAt(Z)););return Z}var Nn=hr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ji=(function E(Z){var F,rt=(Z=Z==null?Le:ji.defaults(Le.Object(),Z,ji.pick(Le,oe))).Array,It=Z.Date,re=Z.Error,Me=Z.Function,en=Z.Math,pe=Z.Object,fr=Z.RegExp,Oo=Z.String,We=Z.TypeError,vn=rt.prototype,Ss=Me.prototype,gn=pe.prototype,He=Z["__core-js_shared__"],Ui=Ss.toString,ue=gn.hasOwnProperty,Cs=0,dr=(F=/[^.]+$/.exec(He&&He.keys&&He.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"",xi=gn.toString,Es=Ui.call(pe),As=Le._,Bo=fr("^"+Ui.call(ue).replace(_e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_r=Ri?Z.Buffer:_,Ae=Z.Symbol,En=Z.Uint8Array,Io=_r?_r.allocUnsafe:_,nn=ko(pe.getPrototypeOf,pe),Zo=pe.create,Jn=gn.propertyIsEnumerable,pr=vn.splice,wi=Ae?Ae.isConcatSpreadable:_,bi=Ae?Ae.iterator:_,yn=Ae?Ae.toStringTag:_,mr=(function(){try{var e=Xi(pe,"defineProperty");return e({},"",{}),e}catch{}})(),Fn=Z.clearTimeout!==Le.clearTimeout&&Z.clearTimeout,vr=It&&It.now!==Le.Date.now&&It.now,zs=Z.setTimeout!==Le.setTimeout&&Z.setTimeout,Li=en.ceil,gr=en.floor,dn=pe.getOwnPropertySymbols,ks=_r?_r.isBuffer:_,Qn=Z.isFinite,Os=vn.join,An=ko(pe.keys,pe),xe=en.max,Be=en.min,Gr=It.now,yr=Z.parseInt,xr=en.random,wr=vn.reverse,Dn=Xi(Z,"DataView"),Wn=Xi(Z,"Map"),Vi=Xi(Z,"Promise"),ti=Xi(Z,"Set"),Yi=Xi(Z,"WeakMap"),Hn=Xi(pe,"create"),br=Yi&&new Yi,ei={},Bs=$i(Dn),Ro=$i(Wn),Is=$i(Vi),xn=$i(ti),Lr=$i(Yi),Pr=Ae?Ae.prototype:_,jn=Pr?Pr.valueOf:_,No=Pr?Pr.toString:_;function f(e){if(Pe(e)&&!Vt(e)&&!(e instanceof Ut)){if(e instanceof rn)return e;if(ue.call(e,"__wrapped__"))return hu(e)}return new rn(e)}var Pi=(function(){function e(){}return function(i){if(!be(i))return{};if(Zo)return Zo(i);e.prototype=i;var o=new e;return e.prototype=_,o}})();function Un(){}function rn(e,i){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=_}function Ut(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=le,this.__views__=[]}function Vn(e){var i=-1,o=e==null?0:e.length;for(this.clear();++i<o;){var u=e[i];this.set(u[0],u[1])}}function wn(e){var i=-1,o=e==null?0:e.length;for(this.clear();++i<o;){var u=e[i];this.set(u[0],u[1])}}function zn(e){var i=-1,o=e==null?0:e.length;for(this.clear();++i<o;){var u=e[i];this.set(u[0],u[1])}}function je(e){var i=-1,o=e==null?0:e.length;for(this.__data__=new zn;++i<o;)this.add(e[i])}function on(e){var i=this.__data__=new wn(e);this.size=i.size}function Xr(e,i){var o=Vt(e),u=!o&&Ji(e),l=!o&&!u&&zi(e),p=!o&&!u&&!l&&Or(e),b=o||u||l||p,P=b?Wi(e.length,Oo):[],S=P.length;for(var N in e)!i&&!ue.call(e,N)||b&&(N=="length"||l&&(N=="offset"||N=="parent")||p&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||oi(N,S))||P.push(N);return P}function Ti(e){var i=e.length;return i?e[Fs(0,i-1)]:_}function Zs(e,i){return ts(an(e),Yn(i,0,e.length))}function Tr(e){return ts(an(e))}function ni(e,i,o){(o!==_&&!kn(e[i],o)||o===_&&!(i in e))&&bn(e,i,o)}function Mi(e,i,o){var u=e[i];ue.call(e,i)&&kn(u,o)&&(o!==_||i in e)||bn(e,i,o)}function qi(e,i){for(var o=e.length;o--;)if(kn(e[o][0],i))return o;return-1}function Rs(e,i,o,u){return qn(e,(function(l,p,b){i(u,l,o(l),b)})),u}function $r(e,i){return e&&Kn(i,Ne(i),e)}function bn(e,i,o){i=="__proto__"&&mr?mr(e,i,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[i]=o}function Mr(e,i){for(var o=-1,u=i.length,l=rt(u),p=e==null;++o<u;)l[o]=p?_:fa(e,i[o]);return l}function Yn(e,i,o){return e==e&&(o!==_&&(e=e<=o?e:o),i!==_&&(e=e>=i?e:i)),e}function $e(e,i,o,u,l,p){var b,P=1&i,S=2&i,N=4&i;if(o&&(b=l?o(e,u,l,p):o(e)),b!==_)return b;if(!be(e))return e;var R=Vt(e);if(R){if(b=(function(D){var X=D.length,Mt=new D.constructor(X);return X&&typeof D[0]=="string"&&ue.call(D,"index")&&(Mt.index=D.index,Mt.input=D.input),Mt})(e),!P)return an(e,b)}else{var Y=Ke(e),ht=Y==q||Y==J;if(zi(e))return Ia(e,P);if(Y==Bt||Y==$t||ht&&!l){if(b=S||ht?{}:tu(e),!P)return S?(function(D,X){return Kn(D,Ja(D),X)})(e,(function(D,X){return D&&Kn(X,hn(X),D)})(b,e)):(function(D,X){return Kn(D,Qs(D),X)})(e,$r(b,e))}else{if(!se[Y])return l?e:{};b=(function(D,X,Mt){var tt,Dt=D.constructor;switch(X){case m:return Ys(D);case A:case O:return new Dt(+D);case y:return(function(Nt,he){var xt=he?Ys(Nt.buffer):Nt.buffer;return new Nt.constructor(xt,Nt.byteOffset,Nt.byteLength)})(D,Mt);case w:case g:case C:case B:case I:case G:case U:case at:case V:return Za(D,Mt);case ut:return new Dt;case K:case T:return new Dt(D);case Wt:return(function(Nt){var he=new Nt.constructor(Nt.source,li.exec(Nt));return he.lastIndex=Nt.lastIndex,he})(D);case v:return new Dt;case h:return tt=D,jn?pe(jn.call(tt)):{}}})(e,Y,P)}}p||(p=new on);var lt=p.get(e);if(lt)return lt;p.set(e,b),Su(e)?e.forEach((function(D){b.add($e(D,i,o,D,e,p))})):Tu(e)&&e.forEach((function(D,X){b.set(X,$e(D,i,o,X,e,p))}));var Lt=R?_:(N?S?Xs:Gs:S?hn:Ne)(e);return Ye(Lt||e,(function(D,X){Lt&&(D=e[X=D]),Mi(b,X,$e(D,i,o,X,e,p))})),b}function Fo(e,i,o){var u=o.length;if(e==null)return!u;for(e=pe(e);u--;){var l=o[u],p=i[l],b=e[l];if(b===_&&!(l in e)||!p(b))return!1}return!0}function Jr(e,i,o){if(typeof e!="function")throw new We(pt);return oo((function(){e.apply(_,o)}),i)}function Si(e,i,o,u){var l=-1,p=mi,b=!0,P=e.length,S=[],N=i.length;if(!P)return S;o&&(i=st(i,qe(o))),u?(p=Vr,b=!1):i.length>=200&&(p=Hi,b=!1,i=new je(i));t:for(;++l<P;){var R=e[l],Y=o==null?R:o(R);if(R=u||R!==0?R:0,b&&Y==Y){for(var ht=N;ht--;)if(i[ht]===Y)continue t;S.push(R)}else p(i,Y,u)||S.push(R)}return S}f.templateSettings={escape:Et,evaluate:jt,interpolate:Rt,variable:"",imports:{_:f}},f.prototype=Un.prototype,f.prototype.constructor=f,rn.prototype=Pi(Un.prototype),rn.prototype.constructor=rn,Ut.prototype=Pi(Un.prototype),Ut.prototype.constructor=Ut,Vn.prototype.clear=function(){this.__data__=Hn?Hn(null):{},this.size=0},Vn.prototype.delete=function(e){var i=this.has(e)&&delete this.__data__[e];return this.size-=i?1:0,i},Vn.prototype.get=function(e){var i=this.__data__;if(Hn){var o=i[e];return o===vt?_:o}return ue.call(i,e)?i[e]:_},Vn.prototype.has=function(e){var i=this.__data__;return Hn?i[e]!==_:ue.call(i,e)},Vn.prototype.set=function(e,i){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=Hn&&i===_?vt:i,this},wn.prototype.clear=function(){this.__data__=[],this.size=0},wn.prototype.delete=function(e){var i=this.__data__,o=qi(i,e);return!(o<0||(o==i.length-1?i.pop():pr.call(i,o,1),--this.size,0))},wn.prototype.get=function(e){var i=this.__data__,o=qi(i,e);return o<0?_:i[o][1]},wn.prototype.has=function(e){return qi(this.__data__,e)>-1},wn.prototype.set=function(e,i){var o=this.__data__,u=qi(o,e);return u<0?(++this.size,o.push([e,i])):o[u][1]=i,this},zn.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(Wn||wn),string:new Vn}},zn.prototype.delete=function(e){var i=Qo(this,e).delete(e);return this.size-=i?1:0,i},zn.prototype.get=function(e){return Qo(this,e).get(e)},zn.prototype.has=function(e){return Qo(this,e).has(e)},zn.prototype.set=function(e,i){var o=Qo(this,e),u=o.size;return o.set(e,i),this.size+=o.size==u?0:1,this},je.prototype.add=je.prototype.push=function(e){return this.__data__.set(e,vt),this},je.prototype.has=function(e){return this.__data__.has(e)},on.prototype.clear=function(){this.__data__=new wn,this.size=0},on.prototype.delete=function(e){var i=this.__data__,o=i.delete(e);return this.size=i.size,o},on.prototype.get=function(e){return this.__data__.get(e)},on.prototype.has=function(e){return this.__data__.has(e)},on.prototype.set=function(e,i){var o=this.__data__;if(o instanceof wn){var u=o.__data__;if(!Wn||u.length<199)return u.push([e,i]),this.size=++o.size,this;o=this.__data__=new zn(u)}return o.set(e,i),this.size=o.size,this};var qn=Da(M),t=Da(z,!0);function n(e,i){var o=!0;return qn(e,(function(u,l,p){return o=!!i(u,l,p)})),o}function r(e,i,o){for(var u=-1,l=e.length;++u<l;){var p=e[u],b=i(p);if(b!=null&&(P===_?b==b&&!pn(b):o(b,P)))var P=b,S=p}return S}function s(e,i){var o=[];return qn(e,(function(u,l,p){i(u,l,p)&&o.push(u)})),o}function a(e,i,o,u,l){var p=-1,b=e.length;for(o||(o=oh),l||(l=[]);++p<b;){var P=e[p];i>0&&o(P)?i>1?a(P,i-1,o,u,l):Oe(l,P):u||(l[l.length]=P)}return l}var c=Wa(),x=Wa(!0);function M(e,i){return e&&c(e,i,Ne)}function z(e,i){return e&&x(e,i,Ne)}function W(e,i){return Cn(i,(function(o){return si(e[o])}))}function nt(e,i){for(var o=0,u=(i=Ei(i,e)).length;e!=null&&o<u;)e=e[Gn(i[o++])];return o&&o==u?e:_}function Tt(e,i,o){var u=i(e);return Vt(e)?u:Oe(u,o(e))}function bt(e){return e==null?e===_?"[object Undefined]":"[object Null]":yn&&yn in pe(e)?(function(i){var o=ue.call(i,yn),u=i[yn];try{i[yn]=_;var l=!0}catch{}var p=xi.call(i);return l&&(o?i[yn]=u:delete i[yn]),p})(e):(function(i){return xi.call(i)})(e)}function Ie(e,i){return e>i}function ze(e,i){return e!=null&&ue.call(e,i)}function sn(e,i){return e!=null&&i in pe(e)}function Re(e,i,o){for(var u=o?Vr:mi,l=e[0].length,p=e.length,b=p,P=rt(p),S=1/0,N=[];b--;){var R=e[b];b&&i&&(R=st(R,qe(i))),S=Be(R.length,S),P[b]=!o&&(i||l>=120&&R.length>=120)?new je(b&&R):_}R=e[0];var Y=-1,ht=P[0];t:for(;++Y<l&&N.length<S;){var lt=R[Y],Lt=i?i(lt):lt;if(lt=o||lt!==0?lt:0,!(ht?Hi(ht,Lt):u(N,Lt,o))){for(b=p;--b;){var D=P[b];if(!(D?Hi(D,Lt):u(e[b],Lt,o)))continue t}ht&&ht.push(Lt),N.push(lt)}}return N}function Ln(e,i,o){var u=(e=ru(e,i=Ei(i,e)))==null?e:e[Gn(Tn(i))];return u==null?_:Fe(u,e,o)}function Do(e){return Pe(e)&&bt(e)==$t}function Ki(e,i,o,u,l){return e===i||(e==null||i==null||!Pe(e)&&!Pe(i)?e!=e&&i!=i:(function(p,b,P,S,N,R){var Y=Vt(p),ht=Vt(b),lt=Y?_t:Ke(p),Lt=ht?_t:Ke(b),D=(lt=lt==$t?Bt:lt)==Bt,X=(Lt=Lt==$t?Bt:Lt)==Bt,Mt=lt==Lt;if(Mt&&zi(p)){if(!zi(b))return!1;Y=!0,D=!1}if(Mt&&!D)return R||(R=new on),Y||Or(p)?$a(p,b,P,S,N,R):(function(xt,At,Ze,Ce,Qe,ge,Ge){switch(Ze){case y:if(xt.byteLength!=At.byteLength||xt.byteOffset!=At.byteOffset)return!1;xt=xt.buffer,At=At.buffer;case m:return!(xt.byteLength!=At.byteLength||!ge(new En(xt),new En(At)));case A:case O:case K:return kn(+xt,+At);case $:return xt.name==At.name&&xt.message==At.message;case Wt:case T:return xt==At+"";case ut:var Xn=cr;case v:var ki=1&Ce;if(Xn||(Xn=yi),xt.size!=At.size&&!ki)return!1;var Qi=Ge.get(xt);if(Qi)return Qi==At;Ce|=2,Ge.set(xt,At);var ui=$a(Xn(xt),Xn(At),Ce,Qe,ge,Ge);return Ge.delete(xt),ui;case h:if(jn)return jn.call(xt)==jn.call(At)}return!1})(p,b,lt,P,S,N,R);if(!(1&P)){var tt=D&&ue.call(p,"__wrapped__"),Dt=X&&ue.call(b,"__wrapped__");if(tt||Dt){var Nt=tt?p.value():p,he=Dt?b.value():b;return R||(R=new on),N(Nt,he,P,S,R)}}return!!Mt&&(R||(R=new on),(function(xt,At,Ze,Ce,Qe,ge){var Ge=1&Ze,Xn=Gs(xt),ki=Xn.length;if(ki!=Gs(At).length&&!Ge)return!1;for(var Qi=ki;Qi--;){var ui=Xn[Qi];if(!(Ge?ui in At:ue.call(At,ui)))return!1}var Wu=ge.get(xt),Hu=ge.get(At);if(Wu&&Hu)return Wu==At&&Hu==xt;var hs=!0;ge.set(xt,At),ge.set(At,xt);for(var ba=Ge;++Qi<ki;){var ls=xt[ui=Xn[Qi]],cs=At[ui];if(Ce)var ju=Ge?Ce(cs,ls,ui,At,xt,ge):Ce(ls,cs,ui,xt,At,ge);if(!(ju===_?ls===cs||Qe(ls,cs,Ze,Ce,ge):ju)){hs=!1;break}ba||(ba=ui=="constructor")}if(hs&&!ba){var fs=xt.constructor,ds=At.constructor;fs==ds||!("constructor"in xt)||!("constructor"in At)||typeof fs=="function"&&fs instanceof fs&&typeof ds=="function"&&ds instanceof ds||(hs=!1)}return ge.delete(xt),ge.delete(At),hs})(p,b,P,S,N,R))})(e,i,o,u,Ki,l))}function Qr(e,i,o,u){var l=o.length,p=l,b=!u;if(e==null)return!p;for(e=pe(e);l--;){var P=o[l];if(b&&P[2]?P[1]!==e[P[0]]:!(P[0]in e))return!1}for(;++l<p;){var S=(P=o[l])[0],N=e[S],R=P[1];if(b&&P[2]){if(N===_&&!(S in e))return!1}else{var Y=new on;if(u)var ht=u(N,R,S,e,i,Y);if(!(ht===_?Ki(R,N,3,u,Y):ht))return!1}}return!0}function to(e){return!(!be(e)||(i=e,dr&&dr in i))&&(si(e)?Bo:co).test($i(e));var i}function Wo(e){return typeof e=="function"?e:e==null?ln:typeof e=="object"?Vt(e)?jo(e[0],e[1]):Ho(e):Du(e)}function Sr(e){if(!ro(e))return An(e);var i=[];for(var o in pe(e))ue.call(e,o)&&o!="constructor"&&i.push(o);return i}function we(e,i){return e<i}function Gi(e,i){var o=-1,u=un(e)?rt(e.length):[];return qn(e,(function(l,p,b){u[++o]=i(l,p,b)})),u}function Ho(e){var i=Js(e);return i.length==1&&i[0][2]?nu(i[0][0],i[0][1]):function(o){return o===e||Qr(o,e,i)}}function jo(e,i){return ta(e)&&eu(i)?nu(Gn(e),i):function(o){var u=fa(o,e);return u===_&&u===i?da(o,e):Ki(i,u,3)}}function Cr(e,i,o,u,l){e!==i&&c(i,(function(p,b){if(l||(l=new on),be(p))(function(S,N,R,Y,ht,lt,Lt){var D=na(S,R),X=na(N,R),Mt=Lt.get(X);if(Mt)ni(S,R,Mt);else{var tt=lt?lt(D,X,R+"",S,N,Lt):_,Dt=tt===_;if(Dt){var Nt=Vt(X),he=!Nt&&zi(X),xt=!Nt&&!he&&Or(X);tt=X,Nt||he||xt?Vt(D)?tt=D:Se(D)?tt=an(D):he?(Dt=!1,tt=Ia(X,!0)):xt?(Dt=!1,tt=Za(X,!0)):tt=[]:so(X)||Ji(X)?(tt=D,Ji(D)?tt=Au(D):be(D)&&!si(D)||(tt=tu(X))):Dt=!1}Dt&&(Lt.set(X,tt),ht(tt,X,Y,lt,Lt),Lt.delete(X)),ni(S,R,tt)}})(e,i,b,o,Cr,u,l);else{var P=u?u(na(e,b),p,b+"",e,i,l):_;P===_&&(P=p),ni(e,b,P)}}),hn)}function Er(e,i){var o=e.length;if(o)return oi(i+=i<0?o:0,o)?e[i]:_}function eo(e,i,o){i=i.length?st(i,(function(p){return Vt(p)?function(b){return nt(b,p.length===1?p[0]:p)}:p})):[ln];var u=-1;i=st(i,qe(St()));var l=Gi(e,(function(p,b,P){var S=st(i,(function(N){return N(p)}));return{criteria:S,index:++u,value:p}}));return(function(p,b){var P=p.length;for(p.sort((function(S,N){return(function(R,Y,ht){for(var lt=-1,Lt=R.criteria,D=Y.criteria,X=Lt.length,Mt=ht.length;++lt<X;){var tt=Ra(Lt[lt],D[lt]);if(tt)return lt>=Mt?tt:tt*(ht[lt]=="desc"?-1:1)}return R.index-Y.index})(S,N,o)}));P--;)p[P]=p[P].value;return p})(l)}function Uo(e,i,o){for(var u=-1,l=i.length,p={};++u<l;){var b=i[u],P=nt(e,b);o(P,b)&&no(p,Ei(b,e),P)}return p}function Ns(e,i,o,u){var l=u?Di:In,p=-1,b=i.length,P=e;for(e===i&&(i=an(i)),o&&(P=st(e,qe(o)));++p<b;)for(var S=0,N=i[p],R=o?o(N):N;(S=l(P,R,S,u))>-1;)P!==e&&pr.call(P,S,1),pr.call(e,S,1);return e}function Sa(e,i){for(var o=e?i.length:0,u=o-1;o--;){var l=i[o];if(o==u||l!==p){var p=l;oi(l)?pr.call(e,l,1):Hs(e,l)}}return e}function Fs(e,i){return e+gr(xr()*(i-e+1))}function Ds(e,i){var o="";if(!e||i<1||i>Yt)return o;do i%2&&(o+=e),(i=gr(i/2))&&(e+=e);while(i);return o}function Qt(e,i){return ia(iu(e,i,ln),e+"")}function $u(e){return Ti(Br(e))}function Ju(e,i){var o=Br(e);return ts(o,Yn(i,0,o.length))}function no(e,i,o,u){if(!be(e))return e;for(var l=-1,p=(i=Ei(i,e)).length,b=p-1,P=e;P!=null&&++l<p;){var S=Gn(i[l]),N=o;if(S==="__proto__"||S==="constructor"||S==="prototype")return e;if(l!=b){var R=P[S];(N=u?u(R,S,P):_)===_&&(N=be(R)?R:oi(i[l+1])?[]:{})}Mi(P,S,N),P=P[S]}return e}var Ca=br?function(e,i){return br.set(e,i),e}:ln,Qu=mr?function(e,i){return mr(e,"toString",{configurable:!0,enumerable:!1,value:pa(i),writable:!0})}:ln;function th(e){return ts(Br(e))}function Pn(e,i,o){var u=-1,l=e.length;i<0&&(i=-i>l?0:l+i),(o=o>l?l:o)<0&&(o+=l),l=i>o?0:o-i>>>0,i>>>=0;for(var p=rt(l);++u<l;)p[u]=e[u+i];return p}function eh(e,i){var o;return qn(e,(function(u,l,p){return!(o=i(u,l,p))})),!!o}function Vo(e,i,o){var u=0,l=e==null?u:e.length;if(typeof i=="number"&&i==i&&l<=2147483647){for(;u<l;){var p=u+l>>>1,b=e[p];b!==null&&!pn(b)&&(o?b<=i:b<i)?u=p+1:l=p}return l}return Ws(e,i,ln,o)}function Ws(e,i,o,u){var l=0,p=e==null?0:e.length;if(p===0)return 0;for(var b=(i=o(i))!=i,P=i===null,S=pn(i),N=i===_;l<p;){var R=gr((l+p)/2),Y=o(e[R]),ht=Y!==_,lt=Y===null,Lt=Y==Y,D=pn(Y);if(b)var X=u||Lt;else X=N?Lt&&(u||ht):P?Lt&&ht&&(u||!lt):S?Lt&&ht&&!lt&&(u||!D):!lt&&!D&&(u?Y<=i:Y<i);X?l=R+1:p=R}return Be(p,4294967294)}function Ea(e,i){for(var o=-1,u=e.length,l=0,p=[];++o<u;){var b=e[o],P=i?i(b):b;if(!o||!kn(P,S)){var S=P;p[l++]=b===0?0:b}}return p}function Aa(e){return typeof e=="number"?e:pn(e)?kt:+e}function _n(e){if(typeof e=="string")return e;if(Vt(e))return st(e,_n)+"";if(pn(e))return No?No.call(e):"";var i=e+"";return i=="0"&&1/e==-1/0?"-0":i}function Ci(e,i,o){var u=-1,l=mi,p=e.length,b=!0,P=[],S=P;if(o)b=!1,l=Vr;else if(p>=200){var N=i?null:ih(e);if(N)return yi(N);b=!1,l=Hi,S=new je}else S=i?[]:P;t:for(;++u<p;){var R=e[u],Y=i?i(R):R;if(R=o||R!==0?R:0,b&&Y==Y){for(var ht=S.length;ht--;)if(S[ht]===Y)continue t;i&&S.push(Y),P.push(R)}else l(S,Y,o)||(S!==P&&S.push(Y),P.push(R))}return P}function Hs(e,i){return(e=ru(e,i=Ei(i,e)))==null||delete e[Gn(Tn(i))]}function za(e,i,o,u){return no(e,i,o(nt(e,i)),u)}function Yo(e,i,o,u){for(var l=e.length,p=u?l:-1;(u?p--:++p<l)&&i(e[p],p,e););return o?Pn(e,u?0:p,u?p+1:l):Pn(e,u?p+1:0,u?l:p)}function ka(e,i){var o=e;return o instanceof Ut&&(o=o.value()),fe(i,(function(u,l){return l.func.apply(l.thisArg,Oe([u],l.args))}),o)}function js(e,i,o){var u=e.length;if(u<2)return u?Ci(e[0]):[];for(var l=-1,p=rt(u);++l<u;)for(var b=e[l],P=-1;++P<u;)P!=l&&(p[l]=Si(p[l]||b,e[P],i,o));return Ci(a(p,1),i,o)}function Oa(e,i,o){for(var u=-1,l=e.length,p=i.length,b={};++u<l;){var P=u<p?i[u]:_;o(b,e[u],P)}return b}function Us(e){return Se(e)?e:[]}function Vs(e){return typeof e=="function"?e:ln}function Ei(e,i){return Vt(e)?e:ta(e,i)?[e]:uu(de(e))}var nh=Qt;function Ai(e,i,o){var u=e.length;return o=o===_?u:o,!i&&o>=u?e:Pn(e,i,o)}var Ba=Fn||function(e){return Le.clearTimeout(e)};function Ia(e,i){if(i)return e.slice();var o=e.length,u=Io?Io(o):new e.constructor(o);return e.copy(u),u}function Ys(e){var i=new e.constructor(e.byteLength);return new En(i).set(new En(e)),i}function Za(e,i){var o=i?Ys(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}function Ra(e,i){if(e!==i){var o=e!==_,u=e===null,l=e==e,p=pn(e),b=i!==_,P=i===null,S=i==i,N=pn(i);if(!P&&!N&&!p&&e>i||p&&b&&S&&!P&&!N||u&&b&&S||!o&&S||!l)return 1;if(!u&&!p&&!N&&e<i||N&&o&&l&&!u&&!p||P&&o&&l||!b&&l||!S)return-1}return 0}function Na(e,i,o,u){for(var l=-1,p=e.length,b=o.length,P=-1,S=i.length,N=xe(p-b,0),R=rt(S+N),Y=!u;++P<S;)R[P]=i[P];for(;++l<b;)(Y||l<p)&&(R[o[l]]=e[l]);for(;N--;)R[P++]=e[l++];return R}function Fa(e,i,o,u){for(var l=-1,p=e.length,b=-1,P=o.length,S=-1,N=i.length,R=xe(p-P,0),Y=rt(R+N),ht=!u;++l<R;)Y[l]=e[l];for(var lt=l;++S<N;)Y[lt+S]=i[S];for(;++b<P;)(ht||l<p)&&(Y[lt+o[b]]=e[l++]);return Y}function an(e,i){var o=-1,u=e.length;for(i||(i=rt(u));++o<u;)i[o]=e[o];return i}function Kn(e,i,o,u){var l=!o;o||(o={});for(var p=-1,b=i.length;++p<b;){var P=i[p],S=u?u(o[P],e[P],P,o,e):_;S===_&&(S=e[P]),l?bn(o,P,S):Mi(o,P,S)}return o}function qo(e,i){return function(o,u){var l=Vt(o)?sr:Rs,p=i?i():{};return l(o,e,St(u,2),p)}}function Ar(e){return Qt((function(i,o){var u=-1,l=o.length,p=l>1?o[l-1]:_,b=l>2?o[2]:_;for(p=e.length>3&&typeof p=="function"?(l--,p):_,b&&Je(o[0],o[1],b)&&(p=l<3?_:p,l=1),i=pe(i);++u<l;){var P=o[u];P&&e(i,P,u,p)}return i}))}function Da(e,i){return function(o,u){if(o==null)return o;if(!un(o))return e(o,u);for(var l=o.length,p=i?l:-1,b=pe(o);(i?p--:++p<l)&&u(b[p],p,b)!==!1;);return o}}function Wa(e){return function(i,o,u){for(var l=-1,p=pe(i),b=u(i),P=b.length;P--;){var S=b[e?P:++l];if(o(p[S],S,p)===!1)break}return i}}function Ha(e){return function(i){var o=gi(i=de(i))?fn(i):_,u=o?o[0]:i.charAt(0),l=o?Ai(o,1).join(""):i.slice(1);return u[e]()+l}}function zr(e){return function(i){return fe(Nu(Ru(i).replace(Ps,"")),e,"")}}function io(e){return function(){var i=arguments;switch(i.length){case 0:return new e;case 1:return new e(i[0]);case 2:return new e(i[0],i[1]);case 3:return new e(i[0],i[1],i[2]);case 4:return new e(i[0],i[1],i[2],i[3]);case 5:return new e(i[0],i[1],i[2],i[3],i[4]);case 6:return new e(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new e(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var o=Pi(e.prototype),u=e.apply(o,i);return be(u)?u:o}}function ja(e){return function(i,o,u){var l=pe(i);if(!un(i)){var p=St(o,3);i=Ne(i),o=function(P){return p(l[P],P,l)}}var b=e(i,o,u);return b>-1?l[p?i[b]:b]:_}}function Ua(e){return ri((function(i){var o=i.length,u=o,l=rn.prototype.thru;for(e&&i.reverse();u--;){var p=i[u];if(typeof p!="function")throw new We(pt);if(l&&!b&&Jo(p)=="wrapper")var b=new rn([],!0)}for(u=b?u:o;++u<o;){var P=Jo(p=i[u]),S=P=="wrapper"?$s(p):_;b=S&&ea(S[0])&&S[1]==424&&!S[4].length&&S[9]==1?b[Jo(S[0])].apply(b,S[3]):p.length==1&&ea(p)?b[P]():b.thru(p)}return function(){var N=arguments,R=N[0];if(b&&N.length==1&&Vt(R))return b.plant(R).value();for(var Y=0,ht=o?i[Y].apply(this,N):R;++Y<o;)ht=i[Y].call(this,ht);return ht}}))}function Ko(e,i,o,u,l,p,b,P,S,N){var R=i&zt,Y=1&i,ht=2&i,lt=24&i,Lt=512&i,D=ht?_:io(e);return function X(){for(var Mt=arguments.length,tt=rt(Mt),Dt=Mt;Dt--;)tt[Dt]=arguments[Dt];if(lt)var Nt=kr(X),he=(function(Ce,Qe){for(var ge=Ce.length,Ge=0;ge--;)Ce[ge]===Qe&&++Ge;return Ge})(tt,Nt);if(u&&(tt=Na(tt,u,l,lt)),p&&(tt=Fa(tt,p,b,lt)),Mt-=he,lt&&Mt<N){var xt=Rn(tt,Nt);return qa(e,i,Ko,X.placeholder,o,tt,xt,P,S,N-Mt)}var At=Y?o:this,Ze=ht?At[e]:e;return Mt=tt.length,P?tt=(function(Ce,Qe){for(var ge=Ce.length,Ge=Be(Qe.length,ge),Xn=an(Ce);Ge--;){var ki=Qe[Ge];Ce[Ge]=oi(ki,ge)?Xn[ki]:_}return Ce})(tt,P):Lt&&Mt>1&&tt.reverse(),R&&S<Mt&&(tt.length=S),this&&this!==Le&&this instanceof X&&(Ze=D||io(Ze)),Ze.apply(At,tt)}}function Va(e,i){return function(o,u){return(function(l,p,b,P){return M(l,(function(S,N,R){p(P,b(S),N,R)})),P})(o,e,i(u),{})}}function Go(e,i){return function(o,u){var l;if(o===_&&u===_)return i;if(o!==_&&(l=o),u!==_){if(l===_)return u;typeof o=="string"||typeof u=="string"?(o=_n(o),u=_n(u)):(o=Aa(o),u=Aa(u)),l=e(o,u)}return l}}function qs(e){return ri((function(i){return i=st(i,qe(St())),Qt((function(o){var u=this;return e(i,(function(l){return Fe(l,u,o)}))}))}))}function Xo(e,i){var o=(i=i===_?" ":_n(i)).length;if(o<2)return o?Ds(i,e):i;var u=Ds(i,Li(e/De(i)));return gi(i)?Ai(fn(u),0,e).join(""):u.slice(0,e)}function Ya(e){return function(i,o,u){return u&&typeof u!="number"&&Je(i,o,u)&&(o=u=_),i=ai(i),o===_?(o=i,i=0):o=ai(o),(function(l,p,b,P){for(var S=-1,N=xe(Li((p-l)/(b||1)),0),R=rt(N);N--;)R[P?N:++S]=l,l+=b;return R})(i,o,u=u===_?i<o?1:-1:ai(u),e)}}function $o(e){return function(i,o){return typeof i=="string"&&typeof o=="string"||(i=Mn(i),o=Mn(o)),e(i,o)}}function qa(e,i,o,u,l,p,b,P,S,N){var R=8&i;i|=R?dt:64,4&(i&=~(R?64:dt))||(i&=-4);var Y=[e,i,l,R?p:_,R?b:_,R?_:p,R?_:b,P,S,N],ht=o.apply(_,Y);return ea(e)&&ou(ht,Y),ht.placeholder=u,su(ht,e,i)}function Ks(e){var i=en[e];return function(o,u){if(o=Mn(o),(u=u==null?0:Be(Kt(u),292))&&Qn(o)){var l=(de(o)+"e").split("e");return+((l=(de(i(l[0]+"e"+(+l[1]+u)))+"e").split("e"))[0]+"e"+(+l[1]-u))}return i(o)}}var ih=ti&&1/yi(new ti([,-0]))[1]==Gt?function(e){return new ti(e)}:ga;function Ka(e){return function(i){var o=Ke(i);return o==ut?cr(i):o==v?Ms(i):(function(u,l){return st(l,(function(p){return[p,u[p]]}))})(i,e(i))}}function ii(e,i,o,u,l,p,b,P){var S=2&i;if(!S&&typeof e!="function")throw new We(pt);var N=u?u.length:0;if(N||(i&=-97,u=l=_),b=b===_?b:xe(Kt(b),0),P=P===_?P:Kt(P),N-=l?l.length:0,64&i){var R=u,Y=l;u=l=_}var ht=S?_:$s(e),lt=[e,i,o,u,l,R,Y,p,b,P];if(ht&&(function(D,X){var Mt=D[1],tt=X[1],Dt=Mt|tt,Nt=Dt<131,he=tt==zt&&Mt==8||tt==zt&&Mt==256&&D[7].length<=X[8]||tt==384&&X[7].length<=X[8]&&Mt==8;if(!Nt&&!he)return D;1&tt&&(D[2]=X[2],Dt|=1&Mt?0:4);var xt=X[3];if(xt){var At=D[3];D[3]=At?Na(At,xt,X[4]):xt,D[4]=At?Rn(D[3],wt):X[4]}(xt=X[5])&&(At=D[5],D[5]=At?Fa(At,xt,X[6]):xt,D[6]=At?Rn(D[5],wt):X[6]),(xt=X[7])&&(D[7]=xt),tt&zt&&(D[8]=D[8]==null?X[8]:Be(D[8],X[8])),D[9]==null&&(D[9]=X[9]),D[0]=X[0],D[1]=Dt})(lt,ht),e=lt[0],i=lt[1],o=lt[2],u=lt[3],l=lt[4],!(P=lt[9]=lt[9]===_?S?0:e.length:xe(lt[9]-N,0))&&24&i&&(i&=-25),i&&i!=1)Lt=i==8||i==16?(function(D,X,Mt){var tt=io(D);return function Dt(){for(var Nt=arguments.length,he=rt(Nt),xt=Nt,At=kr(Dt);xt--;)he[xt]=arguments[xt];var Ze=Nt<3&&he[0]!==At&&he[Nt-1]!==At?[]:Rn(he,At);return(Nt-=Ze.length)<Mt?qa(D,X,Ko,Dt.placeholder,_,he,Ze,_,_,Mt-Nt):Fe(this&&this!==Le&&this instanceof Dt?tt:D,this,he)}})(e,i,P):i!=dt&&i!=33||l.length?Ko.apply(_,lt):(function(D,X,Mt,tt){var Dt=1&X,Nt=io(D);return function he(){for(var xt=-1,At=arguments.length,Ze=-1,Ce=tt.length,Qe=rt(Ce+At),ge=this&&this!==Le&&this instanceof he?Nt:D;++Ze<Ce;)Qe[Ze]=tt[Ze];for(;At--;)Qe[Ze++]=arguments[++xt];return Fe(ge,Dt?Mt:this,Qe)}})(e,i,o,u);else var Lt=(function(D,X,Mt){var tt=1&X,Dt=io(D);return function Nt(){return(this&&this!==Le&&this instanceof Nt?Dt:D).apply(tt?Mt:this,arguments)}})(e,i,o);return su((ht?Ca:ou)(Lt,lt),e,i)}function Ga(e,i,o,u){return e===_||kn(e,gn[o])&&!ue.call(u,o)?i:e}function Xa(e,i,o,u,l,p){return be(e)&&be(i)&&(p.set(i,e),Cr(e,i,_,Xa,p),p.delete(i)),e}function rh(e){return so(e)?_:e}function $a(e,i,o,u,l,p){var b=1&o,P=e.length,S=i.length;if(P!=S&&!(b&&S>P))return!1;var N=p.get(e),R=p.get(i);if(N&&R)return N==i&&R==e;var Y=-1,ht=!0,lt=2&o?new je:_;for(p.set(e,i),p.set(i,e);++Y<P;){var Lt=e[Y],D=i[Y];if(u)var X=b?u(D,Lt,Y,i,e,p):u(Lt,D,Y,e,i,p);if(X!==_){if(X)continue;ht=!1;break}if(lt){if(!Fi(i,(function(Mt,tt){if(!Hi(lt,tt)&&(Lt===Mt||l(Lt,Mt,o,u,p)))return lt.push(tt)}))){ht=!1;break}}else if(Lt!==D&&!l(Lt,D,o,u,p)){ht=!1;break}}return p.delete(e),p.delete(i),ht}function ri(e){return ia(iu(e,_,fu),e+"")}function Gs(e){return Tt(e,Ne,Qs)}function Xs(e){return Tt(e,hn,Ja)}var $s=br?function(e){return br.get(e)}:ga;function Jo(e){for(var i=e.name+"",o=ei[i],u=ue.call(ei,i)?o.length:0;u--;){var l=o[u],p=l.func;if(p==null||p==e)return l.name}return i}function kr(e){return(ue.call(f,"placeholder")?f:e).placeholder}function St(){var e=f.iteratee||ma;return e=e===ma?Wo:e,arguments.length?e(arguments[0],arguments[1]):e}function Qo(e,i){var o,u,l=e.__data__;return((u=typeof(o=i))=="string"||u=="number"||u=="symbol"||u=="boolean"?o!=="__proto__":o===null)?l[typeof i=="string"?"string":"hash"]:l.map}function Js(e){for(var i=Ne(e),o=i.length;o--;){var u=i[o],l=e[u];i[o]=[u,l,eu(l)]}return i}function Xi(e,i){var o=(function(u,l){return u==null?_:u[l]})(e,i);return to(o)?o:_}var Qs=dn?function(e){return e==null?[]:(e=pe(e),Cn(dn(e),(function(i){return Jn.call(e,i)})))}:ya,Ja=dn?function(e){for(var i=[];e;)Oe(i,Qs(e)),e=nn(e);return i}:ya,Ke=bt;function Qa(e,i,o){for(var u=-1,l=(i=Ei(i,e)).length,p=!1;++u<l;){var b=Gn(i[u]);if(!(p=e!=null&&o(e,b)))break;e=e[b]}return p||++u!=l?p:!!(l=e==null?0:e.length)&&ss(l)&&oi(b,l)&&(Vt(e)||Ji(e))}function tu(e){return typeof e.constructor!="function"||ro(e)?{}:Pi(nn(e))}function oh(e){return Vt(e)||Ji(e)||!!(wi&&e&&e[wi])}function oi(e,i){var o=typeof e;return!!(i=i??Yt)&&(o=="number"||o!="symbol"&&_o.test(e))&&e>-1&&e%1==0&&e<i}function Je(e,i,o){if(!be(o))return!1;var u=typeof i;return!!(u=="number"?un(o)&&oi(i,o.length):u=="string"&&i in o)&&kn(o[i],e)}function ta(e,i){if(Vt(e))return!1;var o=typeof e;return!(o!="number"&&o!="symbol"&&o!="boolean"&&e!=null&&!pn(e))||ie.test(e)||!me.test(e)||i!=null&&e in pe(i)}function ea(e){var i=Jo(e),o=f[i];if(typeof o!="function"||!(i in Ut.prototype))return!1;if(e===o)return!0;var u=$s(o);return!!u&&e===u[0]}(Dn&&Ke(new Dn(new ArrayBuffer(1)))!=y||Wn&&Ke(new Wn)!=ut||Vi&&Ke(Vi.resolve())!=gt||ti&&Ke(new ti)!=v||Yi&&Ke(new Yi)!=d)&&(Ke=function(e){var i=bt(e),o=i==Bt?e.constructor:_,u=o?$i(o):"";if(u)switch(u){case Bs:return y;case Ro:return ut;case Is:return gt;case xn:return v;case Lr:return d}return i});var sh=He?si:xa;function ro(e){var i=e&&e.constructor;return e===(typeof i=="function"&&i.prototype||gn)}function eu(e){return e==e&&!be(e)}function nu(e,i){return function(o){return o!=null&&o[e]===i&&(i!==_||e in pe(o))}}function iu(e,i,o){return i=xe(i===_?e.length-1:i,0),function(){for(var u=arguments,l=-1,p=xe(u.length-i,0),b=rt(p);++l<p;)b[l]=u[i+l];l=-1;for(var P=rt(i+1);++l<i;)P[l]=u[l];return P[i]=o(b),Fe(e,this,P)}}function ru(e,i){return i.length<2?e:nt(e,Pn(i,0,-1))}function na(e,i){if((i!=="constructor"||typeof e[i]!="function")&&i!="__proto__")return e[i]}var ou=au(Ca),oo=zs||function(e,i){return Le.setTimeout(e,i)},ia=au(Qu);function su(e,i,o){var u=i+"";return ia(e,(function(l,p){var b=p.length;if(!b)return l;var P=b-1;return p[P]=(b>1?"& ":"")+p[P],p=p.join(b>2?", ":" "),l.replace(hi,`{
/* [wrapped with `+p+`] */
`)})(u,(function(l,p){return Ye(Ft,(function(b){var P="_."+b[0];p&b[1]&&!mi(l,P)&&l.push(P)})),l.sort()})((function(l){var p=l.match(uo);return p?p[1].split(_s):[]})(u),o)))}function au(e){var i=0,o=0;return function(){var u=Gr(),l=16-(u-o);if(o=u,l>0){if(++i>=800)return arguments[0]}else i=0;return e.apply(_,arguments)}}function ts(e,i){var o=-1,u=e.length,l=u-1;for(i=i===_?u:i;++o<i;){var p=Fs(o,l),b=e[p];e[p]=e[o],e[o]=b}return e.length=i,e}var ra,oa,uu=(ra=rs((function(e){var i=[];return e.charCodeAt(0)===46&&i.push(""),e.replace(ke,(function(o,u,l,p){i.push(l?p.replace(lo,"$1"):u||o)})),i}),(function(e){return oa.size===500&&oa.clear(),e})),oa=ra.cache,ra);function Gn(e){if(typeof e=="string"||pn(e))return e;var i=e+"";return i=="0"&&1/e==-1/0?"-0":i}function $i(e){if(e!=null){try{return Ui.call(e)}catch{}try{return e+""}catch{}}return""}function hu(e){if(e instanceof Ut)return e.clone();var i=new rn(e.__wrapped__,e.__chain__);return i.__actions__=an(e.__actions__),i.__index__=e.__index__,i.__values__=e.__values__,i}var ah=Qt((function(e,i){return Se(e)?Si(e,a(i,1,Se,!0)):[]})),uh=Qt((function(e,i){var o=Tn(i);return Se(o)&&(o=_),Se(e)?Si(e,a(i,1,Se,!0),St(o,2)):[]})),hh=Qt((function(e,i){var o=Tn(i);return Se(o)&&(o=_),Se(e)?Si(e,a(i,1,Se,!0),_,o):[]}));function lu(e,i,o){var u=e==null?0:e.length;if(!u)return-1;var l=o==null?0:Kt(o);return l<0&&(l=xe(u+l,0)),mn(e,St(i,3),l)}function cu(e,i,o){var u=e==null?0:e.length;if(!u)return-1;var l=u-1;return o!==_&&(l=Kt(o),l=o<0?xe(u+l,0):Be(l,u-1)),mn(e,St(i,3),l,!0)}function fu(e){return e!=null&&e.length?a(e,1):[]}function du(e){return e&&e.length?e[0]:_}var lh=Qt((function(e){var i=st(e,Us);return i.length&&i[0]===e[0]?Re(i):[]})),ch=Qt((function(e){var i=Tn(e),o=st(e,Us);return i===Tn(o)?i=_:o.pop(),o.length&&o[0]===e[0]?Re(o,St(i,2)):[]})),fh=Qt((function(e){var i=Tn(e),o=st(e,Us);return(i=typeof i=="function"?i:_)&&o.pop(),o.length&&o[0]===e[0]?Re(o,_,i):[]}));function Tn(e){var i=e==null?0:e.length;return i?e[i-1]:_}var dh=Qt(_u);function _u(e,i){return e&&e.length&&i&&i.length?Ns(e,i):e}var _h=ri((function(e,i){var o=e==null?0:e.length,u=Mr(e,i);return Sa(e,st(i,(function(l){return oi(l,o)?+l:l})).sort(Ra)),u}));function sa(e){return e==null?e:wr.call(e)}var ph=Qt((function(e){return Ci(a(e,1,Se,!0))})),mh=Qt((function(e){var i=Tn(e);return Se(i)&&(i=_),Ci(a(e,1,Se,!0),St(i,2))})),vh=Qt((function(e){var i=Tn(e);return i=typeof i=="function"?i:_,Ci(a(e,1,Se,!0),_,i)}));function aa(e){if(!e||!e.length)return[];var i=0;return e=Cn(e,(function(o){if(Se(o))return i=xe(o.length,i),!0})),Wi(i,(function(o){return st(e,ur(o))}))}function pu(e,i){if(!e||!e.length)return[];var o=aa(e);return i==null?o:st(o,(function(u){return Fe(i,_,u)}))}var gh=Qt((function(e,i){return Se(e)?Si(e,i):[]})),yh=Qt((function(e){return js(Cn(e,Se))})),xh=Qt((function(e){var i=Tn(e);return Se(i)&&(i=_),js(Cn(e,Se),St(i,2))})),wh=Qt((function(e){var i=Tn(e);return i=typeof i=="function"?i:_,js(Cn(e,Se),_,i)})),bh=Qt(aa),Lh=Qt((function(e){var i=e.length,o=i>1?e[i-1]:_;return o=typeof o=="function"?(e.pop(),o):_,pu(e,o)}));function mu(e){var i=f(e);return i.__chain__=!0,i}function es(e,i){return i(e)}var Ph=ri((function(e){var i=e.length,o=i?e[0]:0,u=this.__wrapped__,l=function(p){return Mr(p,e)};return!(i>1||this.__actions__.length)&&u instanceof Ut&&oi(o)?((u=u.slice(o,+o+(i?1:0))).__actions__.push({func:es,args:[l],thisArg:_}),new rn(u,this.__chain__).thru((function(p){return i&&!p.length&&p.push(_),p}))):this.thru(l)})),Th=qo((function(e,i,o){ue.call(e,o)?++e[o]:bn(e,o,1)})),Mh=ja(lu),Sh=ja(cu);function vu(e,i){return(Vt(e)?Ye:qn)(e,St(i,3))}function gu(e,i){return(Vt(e)?Ur:t)(e,St(i,3))}var Ch=qo((function(e,i,o){ue.call(e,o)?e[o].push(i):bn(e,o,[i])})),Eh=Qt((function(e,i,o){var u=-1,l=typeof i=="function",p=un(e)?rt(e.length):[];return qn(e,(function(b){p[++u]=l?Fe(i,b,o):Ln(b,i,o)})),p})),Ah=qo((function(e,i,o){bn(e,o,i)}));function ns(e,i){return(Vt(e)?st:Gi)(e,St(i,3))}var zh=qo((function(e,i,o){e[o?0:1].push(i)}),(function(){return[[],[]]})),kh=Qt((function(e,i){if(e==null)return[];var o=i.length;return o>1&&Je(e,i[0],i[1])?i=[]:o>2&&Je(i[0],i[1],i[2])&&(i=[i[0]]),eo(e,a(i,1),[])})),is=vr||function(){return Le.Date.now()};function yu(e,i,o){return i=o?_:i,i=e&&i==null?e.length:i,ii(e,zt,_,_,_,_,i)}function xu(e,i){var o;if(typeof i!="function")throw new We(pt);return e=Kt(e),function(){return--e>0&&(o=i.apply(this,arguments)),e<=1&&(i=_),o}}var ua=Qt((function(e,i,o){var u=1;if(o.length){var l=Rn(o,kr(ua));u|=dt}return ii(e,u,i,o,l)})),wu=Qt((function(e,i,o){var u=3;if(o.length){var l=Rn(o,kr(wu));u|=dt}return ii(i,u,e,o,l)}));function bu(e,i,o){var u,l,p,b,P,S,N=0,R=!1,Y=!1,ht=!0;if(typeof e!="function")throw new We(pt);function lt(tt){var Dt=u,Nt=l;return u=l=_,N=tt,b=e.apply(Nt,Dt)}function Lt(tt){var Dt=tt-S;return S===_||Dt>=i||Dt<0||Y&&tt-N>=p}function D(){var tt=is();if(Lt(tt))return X(tt);P=oo(D,(function(Dt){var Nt=i-(Dt-S);return Y?Be(Nt,p-(Dt-N)):Nt})(tt))}function X(tt){return P=_,ht&&u?lt(tt):(u=l=_,b)}function Mt(){var tt=is(),Dt=Lt(tt);if(u=arguments,l=this,S=tt,Dt){if(P===_)return(function(Nt){return N=Nt,P=oo(D,i),R?lt(Nt):b})(S);if(Y)return Ba(P),P=oo(D,i),lt(S)}return P===_&&(P=oo(D,i)),b}return i=Mn(i)||0,be(o)&&(R=!!o.leading,p=(Y="maxWait"in o)?xe(Mn(o.maxWait)||0,i):p,ht="trailing"in o?!!o.trailing:ht),Mt.cancel=function(){P!==_&&Ba(P),N=0,u=S=l=P=_},Mt.flush=function(){return P===_?b:X(is())},Mt}var Oh=Qt((function(e,i){return Jr(e,1,i)})),Bh=Qt((function(e,i,o){return Jr(e,Mn(i)||0,o)}));function rs(e,i){if(typeof e!="function"||i!=null&&typeof i!="function")throw new We(pt);var o=function(){var u=arguments,l=i?i.apply(this,u):u[0],p=o.cache;if(p.has(l))return p.get(l);var b=e.apply(this,u);return o.cache=p.set(l,b)||p,b};return o.cache=new(rs.Cache||zn),o}function os(e){if(typeof e!="function")throw new We(pt);return function(){var i=arguments;switch(i.length){case 0:return!e.call(this);case 1:return!e.call(this,i[0]);case 2:return!e.call(this,i[0],i[1]);case 3:return!e.call(this,i[0],i[1],i[2])}return!e.apply(this,i)}}rs.Cache=zn;var Ih=nh((function(e,i){var o=(i=i.length==1&&Vt(i[0])?st(i[0],qe(St())):st(a(i,1),qe(St()))).length;return Qt((function(u){for(var l=-1,p=Be(u.length,o);++l<p;)u[l]=i[l].call(this,u[l]);return Fe(e,this,u)}))})),ha=Qt((function(e,i){var o=Rn(i,kr(ha));return ii(e,dt,_,i,o)})),Lu=Qt((function(e,i){var o=Rn(i,kr(Lu));return ii(e,64,_,i,o)})),Zh=ri((function(e,i){return ii(e,256,_,_,_,i)}));function kn(e,i){return e===i||e!=e&&i!=i}var Rh=$o(Ie),Nh=$o((function(e,i){return e>=i})),Ji=Do((function(){return arguments})())?Do:function(e){return Pe(e)&&ue.call(e,"callee")&&!Jn.call(e,"callee")},Vt=rt.isArray,Fh=Bn?qe(Bn):function(e){return Pe(e)&&bt(e)==m};function un(e){return e!=null&&ss(e.length)&&!si(e)}function Se(e){return Pe(e)&&un(e)}var zi=ks||xa,Dh=di?qe(di):function(e){return Pe(e)&&bt(e)==O};function la(e){if(!Pe(e))return!1;var i=bt(e);return i==$||i=="[object DOMException]"||typeof e.message=="string"&&typeof e.name=="string"&&!so(e)}function si(e){if(!be(e))return!1;var i=bt(e);return i==q||i==J||i=="[object AsyncFunction]"||i=="[object Proxy]"}function Pu(e){return typeof e=="number"&&e==Kt(e)}function ss(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Yt}function be(e){var i=typeof e;return e!=null&&(i=="object"||i=="function")}function Pe(e){return e!=null&&typeof e=="object"}var Tu=_i?qe(_i):function(e){return Pe(e)&&Ke(e)==ut};function Mu(e){return typeof e=="number"||Pe(e)&&bt(e)==K}function so(e){if(!Pe(e)||bt(e)!=Bt)return!1;var i=nn(e);if(i===null)return!0;var o=ue.call(i,"constructor")&&i.constructor;return typeof o=="function"&&o instanceof o&&Ui.call(o)==Es}var ca=rr?qe(rr):function(e){return Pe(e)&&bt(e)==Wt},Su=pi?qe(pi):function(e){return Pe(e)&&Ke(e)==v};function as(e){return typeof e=="string"||!Vt(e)&&Pe(e)&&bt(e)==T}function pn(e){return typeof e=="symbol"||Pe(e)&&bt(e)==h}var Or=or?qe(or):function(e){return Pe(e)&&ss(e.length)&&!!ce[bt(e)]},Wh=$o(we),Hh=$o((function(e,i){return e<=i}));function Cu(e){if(!e)return[];if(un(e))return as(e)?fn(e):an(e);if(bi&&e[bi])return(function(o){for(var u,l=[];!(u=o.next()).done;)l.push(u.value);return l})(e[bi]());var i=Ke(e);return(i==ut?cr:i==v?yi:Br)(e)}function ai(e){return e?(e=Mn(e))===Gt||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:e===0?e:0}function Kt(e){var i=ai(e),o=i%1;return i==i?o?i-o:i:0}function Eu(e){return e?Yn(Kt(e),0,le):0}function Mn(e){if(typeof e=="number")return e;if(pn(e))return kt;if(be(e)){var i=typeof e.valueOf=="function"?e.valueOf():e;e=be(i)?i+"":i}if(typeof e!="string")return e===0?e:+e;e=Ao(e);var o=vs.test(e);return o||fo.test(e)?qt(e.slice(2),o?2:8):ms.test(e)?kt:+e}function Au(e){return Kn(e,hn(e))}function de(e){return e==null?"":_n(e)}var jh=Ar((function(e,i){if(ro(i)||un(i))Kn(i,Ne(i),e);else for(var o in i)ue.call(i,o)&&Mi(e,o,i[o])})),zu=Ar((function(e,i){Kn(i,hn(i),e)})),us=Ar((function(e,i,o,u){Kn(i,hn(i),e,u)})),Uh=Ar((function(e,i,o,u){Kn(i,Ne(i),e,u)})),Vh=ri(Mr),Yh=Qt((function(e,i){e=pe(e);var o=-1,u=i.length,l=u>2?i[2]:_;for(l&&Je(i[0],i[1],l)&&(u=1);++o<u;)for(var p=i[o],b=hn(p),P=-1,S=b.length;++P<S;){var N=b[P],R=e[N];(R===_||kn(R,gn[N])&&!ue.call(e,N))&&(e[N]=p[N])}return e})),qh=Qt((function(e){return e.push(_,Xa),Fe(ku,_,e)}));function fa(e,i,o){var u=e==null?_:nt(e,i);return u===_?o:u}function da(e,i){return e!=null&&Qa(e,i,sn)}var Kh=Va((function(e,i,o){i!=null&&typeof i.toString!="function"&&(i=xi.call(i)),e[i]=o}),pa(ln)),Gh=Va((function(e,i,o){i!=null&&typeof i.toString!="function"&&(i=xi.call(i)),ue.call(e,i)?e[i].push(o):e[i]=[o]}),St),Xh=Qt(Ln);function Ne(e){return un(e)?Xr(e):Sr(e)}function hn(e){return un(e)?Xr(e,!0):(function(i){if(!be(i))return(function(p){var b=[];if(p!=null)for(var P in pe(p))b.push(P);return b})(i);var o=ro(i),u=[];for(var l in i)(l!="constructor"||!o&&ue.call(i,l))&&u.push(l);return u})(e)}var $h=Ar((function(e,i,o){Cr(e,i,o)})),ku=Ar((function(e,i,o,u){Cr(e,i,o,u)})),Jh=ri((function(e,i){var o={};if(e==null)return o;var u=!1;i=st(i,(function(p){return p=Ei(p,e),u||(u=p.length>1),p})),Kn(e,Xs(e),o),u&&(o=$e(o,7,rh));for(var l=i.length;l--;)Hs(o,i[l]);return o})),Qh=ri((function(e,i){return e==null?{}:(function(o,u){return Uo(o,u,(function(l,p){return da(o,p)}))})(e,i)}));function Ou(e,i){if(e==null)return{};var o=st(Xs(e),(function(u){return[u]}));return i=St(i),Uo(e,o,(function(u,l){return i(u,l[0])}))}var Bu=Ka(Ne),Iu=Ka(hn);function Br(e){return e==null?[]:ee(e,Ne(e))}var tl=zr((function(e,i,o){return i=i.toLowerCase(),e+(o?Zu(i):i)}));function Zu(e){return _a(de(e).toLowerCase())}function Ru(e){return(e=de(e))&&e.replace(gs,zo).replace(Wr,"")}var el=zr((function(e,i,o){return e+(o?"-":"")+i.toLowerCase()})),nl=zr((function(e,i,o){return e+(o?" ":"")+i.toLowerCase()})),il=Ha("toLowerCase"),rl=zr((function(e,i,o){return e+(o?"_":"")+i.toLowerCase()})),ol=zr((function(e,i,o){return e+(o?" ":"")+_a(i)})),sl=zr((function(e,i,o){return e+(o?" ":"")+i.toUpperCase()})),_a=Ha("toUpperCase");function Nu(e,i,o){return e=de(e),(i=o?_:i)===_?(function(u){return Ii.test(u)})(e)?(function(u){return u.match(Mo)||[]})(e):(function(u){return u.match(ho)||[]})(e):e.match(i)||[]}var Fu=Qt((function(e,i){try{return Fe(e,_,i)}catch(o){return la(o)?o:new re(o)}})),al=ri((function(e,i){return Ye(i,(function(o){o=Gn(o),bn(e,o,ua(e[o],e))})),e}));function pa(e){return function(){return e}}var ul=Ua(),hl=Ua(!0);function ln(e){return e}function ma(e){return Wo(typeof e=="function"?e:$e(e,1))}var ll=Qt((function(e,i){return function(o){return Ln(o,e,i)}})),cl=Qt((function(e,i){return function(o){return Ln(e,o,i)}}));function va(e,i,o){var u=Ne(i),l=W(i,u);o!=null||be(i)&&(l.length||!u.length)||(o=i,i=e,e=this,l=W(i,Ne(i)));var p=!(be(o)&&"chain"in o&&!o.chain),b=si(e);return Ye(l,(function(P){var S=i[P];e[P]=S,b&&(e.prototype[P]=function(){var N=this.__chain__;if(p||N){var R=e(this.__wrapped__);return(R.__actions__=an(this.__actions__)).push({func:S,args:arguments,thisArg:e}),R.__chain__=N,R}return S.apply(e,Oe([this.value()],arguments))})})),e}function ga(){}var fl=qs(st),dl=qs(Ni),_l=qs(Fi);function Du(e){return ta(e)?ur(Gn(e)):(function(i){return function(o){return nt(o,i)}})(e)}var pl=Ya(),ml=Ya(!0);function ya(){return[]}function xa(){return!1}var wa,vl=Go((function(e,i){return e+i}),0),gl=Ks("ceil"),yl=Go((function(e,i){return e/i}),1),xl=Ks("floor"),wl=Go((function(e,i){return e*i}),1),bl=Ks("round"),Ll=Go((function(e,i){return e-i}),0);return f.after=function(e,i){if(typeof i!="function")throw new We(pt);return e=Kt(e),function(){if(--e<1)return i.apply(this,arguments)}},f.ary=yu,f.assign=jh,f.assignIn=zu,f.assignInWith=us,f.assignWith=Uh,f.at=Vh,f.before=xu,f.bind=ua,f.bindAll=al,f.bindKey=wu,f.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Vt(e)?e:[e]},f.chain=mu,f.chunk=function(e,i,o){i=(o?Je(e,i,o):i===_)?1:xe(Kt(i),0);var u=e==null?0:e.length;if(!u||i<1)return[];for(var l=0,p=0,b=rt(Li(u/i));l<u;)b[p++]=Pn(e,l,l+=i);return b},f.compact=function(e){for(var i=-1,o=e==null?0:e.length,u=0,l=[];++i<o;){var p=e[i];p&&(l[u++]=p)}return l},f.concat=function(){var e=arguments.length;if(!e)return[];for(var i=rt(e-1),o=arguments[0],u=e;u--;)i[u-1]=arguments[u];return Oe(Vt(o)?an(o):[o],a(i,1))},f.cond=function(e){var i=e==null?0:e.length,o=St();return e=i?st(e,(function(u){if(typeof u[1]!="function")throw new We(pt);return[o(u[0]),u[1]]})):[],Qt((function(u){for(var l=-1;++l<i;){var p=e[l];if(Fe(p[0],this,u))return Fe(p[1],this,u)}}))},f.conforms=function(e){return(function(i){var o=Ne(i);return function(u){return Fo(u,i,o)}})($e(e,1))},f.constant=pa,f.countBy=Th,f.create=function(e,i){var o=Pi(e);return i==null?o:$r(o,i)},f.curry=function e(i,o,u){var l=ii(i,8,_,_,_,_,_,o=u?_:o);return l.placeholder=e.placeholder,l},f.curryRight=function e(i,o,u){var l=ii(i,16,_,_,_,_,_,o=u?_:o);return l.placeholder=e.placeholder,l},f.debounce=bu,f.defaults=Yh,f.defaultsDeep=qh,f.defer=Oh,f.delay=Bh,f.difference=ah,f.differenceBy=uh,f.differenceWith=hh,f.drop=function(e,i,o){var u=e==null?0:e.length;return u?Pn(e,(i=o||i===_?1:Kt(i))<0?0:i,u):[]},f.dropRight=function(e,i,o){var u=e==null?0:e.length;return u?Pn(e,0,(i=u-(i=o||i===_?1:Kt(i)))<0?0:i):[]},f.dropRightWhile=function(e,i){return e&&e.length?Yo(e,St(i,3),!0,!0):[]},f.dropWhile=function(e,i){return e&&e.length?Yo(e,St(i,3),!0):[]},f.fill=function(e,i,o,u){var l=e==null?0:e.length;return l?(o&&typeof o!="number"&&Je(e,i,o)&&(o=0,u=l),(function(p,b,P,S){var N=p.length;for((P=Kt(P))<0&&(P=-P>N?0:N+P),(S=S===_||S>N?N:Kt(S))<0&&(S+=N),S=P>S?0:Eu(S);P<S;)p[P++]=b;return p})(e,i,o,u)):[]},f.filter=function(e,i){return(Vt(e)?Cn:s)(e,St(i,3))},f.flatMap=function(e,i){return a(ns(e,i),1)},f.flatMapDeep=function(e,i){return a(ns(e,i),Gt)},f.flatMapDepth=function(e,i,o){return o=o===_?1:Kt(o),a(ns(e,i),o)},f.flatten=fu,f.flattenDeep=function(e){return e!=null&&e.length?a(e,Gt):[]},f.flattenDepth=function(e,i){return e!=null&&e.length?a(e,i=i===_?1:Kt(i)):[]},f.flip=function(e){return ii(e,512)},f.flow=ul,f.flowRight=hl,f.fromPairs=function(e){for(var i=-1,o=e==null?0:e.length,u={};++i<o;){var l=e[i];u[l[0]]=l[1]}return u},f.functions=function(e){return e==null?[]:W(e,Ne(e))},f.functionsIn=function(e){return e==null?[]:W(e,hn(e))},f.groupBy=Ch,f.initial=function(e){return e!=null&&e.length?Pn(e,0,-1):[]},f.intersection=lh,f.intersectionBy=ch,f.intersectionWith=fh,f.invert=Kh,f.invertBy=Gh,f.invokeMap=Eh,f.iteratee=ma,f.keyBy=Ah,f.keys=Ne,f.keysIn=hn,f.map=ns,f.mapKeys=function(e,i){var o={};return i=St(i,3),M(e,(function(u,l,p){bn(o,i(u,l,p),u)})),o},f.mapValues=function(e,i){var o={};return i=St(i,3),M(e,(function(u,l,p){bn(o,l,i(u,l,p))})),o},f.matches=function(e){return Ho($e(e,1))},f.matchesProperty=function(e,i){return jo(e,$e(i,1))},f.memoize=rs,f.merge=$h,f.mergeWith=ku,f.method=ll,f.methodOf=cl,f.mixin=va,f.negate=os,f.nthArg=function(e){return e=Kt(e),Qt((function(i){return Er(i,e)}))},f.omit=Jh,f.omitBy=function(e,i){return Ou(e,os(St(i)))},f.once=function(e){return xu(2,e)},f.orderBy=function(e,i,o,u){return e==null?[]:(Vt(i)||(i=i==null?[]:[i]),Vt(o=u?_:o)||(o=o==null?[]:[o]),eo(e,i,o))},f.over=fl,f.overArgs=Ih,f.overEvery=dl,f.overSome=_l,f.partial=ha,f.partialRight=Lu,f.partition=zh,f.pick=Qh,f.pickBy=Ou,f.property=Du,f.propertyOf=function(e){return function(i){return e==null?_:nt(e,i)}},f.pull=dh,f.pullAll=_u,f.pullAllBy=function(e,i,o){return e&&e.length&&i&&i.length?Ns(e,i,St(o,2)):e},f.pullAllWith=function(e,i,o){return e&&e.length&&i&&i.length?Ns(e,i,_,o):e},f.pullAt=_h,f.range=pl,f.rangeRight=ml,f.rearg=Zh,f.reject=function(e,i){return(Vt(e)?Cn:s)(e,os(St(i,3)))},f.remove=function(e,i){var o=[];if(!e||!e.length)return o;var u=-1,l=[],p=e.length;for(i=St(i,3);++u<p;){var b=e[u];i(b,u,e)&&(o.push(b),l.push(u))}return Sa(e,l),o},f.rest=function(e,i){if(typeof e!="function")throw new We(pt);return Qt(e,i=i===_?i:Kt(i))},f.reverse=sa,f.sampleSize=function(e,i,o){return i=(o?Je(e,i,o):i===_)?1:Kt(i),(Vt(e)?Zs:Ju)(e,i)},f.set=function(e,i,o){return e==null?e:no(e,i,o)},f.setWith=function(e,i,o,u){return u=typeof u=="function"?u:_,e==null?e:no(e,i,o,u)},f.shuffle=function(e){return(Vt(e)?Tr:th)(e)},f.slice=function(e,i,o){var u=e==null?0:e.length;return u?(o&&typeof o!="number"&&Je(e,i,o)?(i=0,o=u):(i=i==null?0:Kt(i),o=o===_?u:Kt(o)),Pn(e,i,o)):[]},f.sortBy=kh,f.sortedUniq=function(e){return e&&e.length?Ea(e):[]},f.sortedUniqBy=function(e,i){return e&&e.length?Ea(e,St(i,2)):[]},f.split=function(e,i,o){return o&&typeof o!="number"&&Je(e,i,o)&&(i=o=_),(o=o===_?le:o>>>0)?(e=de(e))&&(typeof i=="string"||i!=null&&!ca(i))&&!(i=_n(i))&&gi(e)?Ai(fn(e),0,o):e.split(i,o):[]},f.spread=function(e,i){if(typeof e!="function")throw new We(pt);return i=i==null?0:xe(Kt(i),0),Qt((function(o){var u=o[i],l=Ai(o,0,i);return u&&Oe(l,u),Fe(e,this,l)}))},f.tail=function(e){var i=e==null?0:e.length;return i?Pn(e,1,i):[]},f.take=function(e,i,o){return e&&e.length?Pn(e,0,(i=o||i===_?1:Kt(i))<0?0:i):[]},f.takeRight=function(e,i,o){var u=e==null?0:e.length;return u?Pn(e,(i=u-(i=o||i===_?1:Kt(i)))<0?0:i,u):[]},f.takeRightWhile=function(e,i){return e&&e.length?Yo(e,St(i,3),!1,!0):[]},f.takeWhile=function(e,i){return e&&e.length?Yo(e,St(i,3)):[]},f.tap=function(e,i){return i(e),e},f.throttle=function(e,i,o){var u=!0,l=!0;if(typeof e!="function")throw new We(pt);return be(o)&&(u="leading"in o?!!o.leading:u,l="trailing"in o?!!o.trailing:l),bu(e,i,{leading:u,maxWait:i,trailing:l})},f.thru=es,f.toArray=Cu,f.toPairs=Bu,f.toPairsIn=Iu,f.toPath=function(e){return Vt(e)?st(e,Gn):pn(e)?[e]:an(uu(de(e)))},f.toPlainObject=Au,f.transform=function(e,i,o){var u=Vt(e),l=u||zi(e)||Or(e);if(i=St(i,4),o==null){var p=e&&e.constructor;o=l?u?new p:[]:be(e)&&si(p)?Pi(nn(e)):{}}return(l?Ye:M)(e,(function(b,P,S){return i(o,b,P,S)})),o},f.unary=function(e){return yu(e,1)},f.union=ph,f.unionBy=mh,f.unionWith=vh,f.uniq=function(e){return e&&e.length?Ci(e):[]},f.uniqBy=function(e,i){return e&&e.length?Ci(e,St(i,2)):[]},f.uniqWith=function(e,i){return i=typeof i=="function"?i:_,e&&e.length?Ci(e,_,i):[]},f.unset=function(e,i){return e==null||Hs(e,i)},f.unzip=aa,f.unzipWith=pu,f.update=function(e,i,o){return e==null?e:za(e,i,Vs(o))},f.updateWith=function(e,i,o,u){return u=typeof u=="function"?u:_,e==null?e:za(e,i,Vs(o),u)},f.values=Br,f.valuesIn=function(e){return e==null?[]:ee(e,hn(e))},f.without=gh,f.words=Nu,f.wrap=function(e,i){return ha(Vs(i),e)},f.xor=yh,f.xorBy=xh,f.xorWith=wh,f.zip=bh,f.zipObject=function(e,i){return Oa(e||[],i||[],Mi)},f.zipObjectDeep=function(e,i){return Oa(e||[],i||[],no)},f.zipWith=Lh,f.entries=Bu,f.entriesIn=Iu,f.extend=zu,f.extendWith=us,va(f,f),f.add=vl,f.attempt=Fu,f.camelCase=tl,f.capitalize=Zu,f.ceil=gl,f.clamp=function(e,i,o){return o===_&&(o=i,i=_),o!==_&&(o=(o=Mn(o))==o?o:0),i!==_&&(i=(i=Mn(i))==i?i:0),Yn(Mn(e),i,o)},f.clone=function(e){return $e(e,4)},f.cloneDeep=function(e){return $e(e,5)},f.cloneDeepWith=function(e,i){return $e(e,5,i=typeof i=="function"?i:_)},f.cloneWith=function(e,i){return $e(e,4,i=typeof i=="function"?i:_)},f.conformsTo=function(e,i){return i==null||Fo(e,i,Ne(i))},f.deburr=Ru,f.defaultTo=function(e,i){return e==null||e!=e?i:e},f.divide=yl,f.endsWith=function(e,i,o){e=de(e),i=_n(i);var u=e.length,l=o=o===_?u:Yn(Kt(o),0,u);return(o-=i.length)>=0&&e.slice(o,l)==i},f.eq=kn,f.escape=function(e){return(e=de(e))&&Ht.test(e)?e.replace(j,Ts):e},f.escapeRegExp=function(e){return(e=de(e))&&Jt.test(e)?e.replace(_e,"\\$&"):e},f.every=function(e,i,o){var u=Vt(e)?Ni:n;return o&&Je(e,i,o)&&(i=_),u(e,St(i,3))},f.find=Mh,f.findIndex=lu,f.findKey=function(e,i){return ar(e,St(i,3),M)},f.findLast=Sh,f.findLastIndex=cu,f.findLastKey=function(e,i){return ar(e,St(i,3),z)},f.floor=xl,f.forEach=vu,f.forEachRight=gu,f.forIn=function(e,i){return e==null?e:c(e,St(i,3),hn)},f.forInRight=function(e,i){return e==null?e:x(e,St(i,3),hn)},f.forOwn=function(e,i){return e&&M(e,St(i,3))},f.forOwnRight=function(e,i){return e&&z(e,St(i,3))},f.get=fa,f.gt=Rh,f.gte=Nh,f.has=function(e,i){return e!=null&&Qa(e,i,ze)},f.hasIn=da,f.head=du,f.identity=ln,f.includes=function(e,i,o,u){e=un(e)?e:Br(e),o=o&&!u?Kt(o):0;var l=e.length;return o<0&&(o=xe(l+o,0)),as(e)?o<=l&&e.indexOf(i,o)>-1:!!l&&In(e,i,o)>-1},f.indexOf=function(e,i,o){var u=e==null?0:e.length;if(!u)return-1;var l=o==null?0:Kt(o);return l<0&&(l=xe(u+l,0)),In(e,i,l)},f.inRange=function(e,i,o){return i=ai(i),o===_?(o=i,i=0):o=ai(o),(function(u,l,p){return u>=Be(l,p)&&u<xe(l,p)})(e=Mn(e),i,o)},f.invoke=Xh,f.isArguments=Ji,f.isArray=Vt,f.isArrayBuffer=Fh,f.isArrayLike=un,f.isArrayLikeObject=Se,f.isBoolean=function(e){return e===!0||e===!1||Pe(e)&&bt(e)==A},f.isBuffer=zi,f.isDate=Dh,f.isElement=function(e){return Pe(e)&&e.nodeType===1&&!so(e)},f.isEmpty=function(e){if(e==null)return!0;if(un(e)&&(Vt(e)||typeof e=="string"||typeof e.splice=="function"||zi(e)||Or(e)||Ji(e)))return!e.length;var i=Ke(e);if(i==ut||i==v)return!e.size;if(ro(e))return!Sr(e).length;for(var o in e)if(ue.call(e,o))return!1;return!0},f.isEqual=function(e,i){return Ki(e,i)},f.isEqualWith=function(e,i,o){var u=(o=typeof o=="function"?o:_)?o(e,i):_;return u===_?Ki(e,i,_,o):!!u},f.isError=la,f.isFinite=function(e){return typeof e=="number"&&Qn(e)},f.isFunction=si,f.isInteger=Pu,f.isLength=ss,f.isMap=Tu,f.isMatch=function(e,i){return e===i||Qr(e,i,Js(i))},f.isMatchWith=function(e,i,o){return o=typeof o=="function"?o:_,Qr(e,i,Js(i),o)},f.isNaN=function(e){return Mu(e)&&e!=+e},f.isNative=function(e){if(sh(e))throw new re("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return to(e)},f.isNil=function(e){return e==null},f.isNull=function(e){return e===null},f.isNumber=Mu,f.isObject=be,f.isObjectLike=Pe,f.isPlainObject=so,f.isRegExp=ca,f.isSafeInteger=function(e){return Pu(e)&&e>=-9007199254740991&&e<=Yt},f.isSet=Su,f.isString=as,f.isSymbol=pn,f.isTypedArray=Or,f.isUndefined=function(e){return e===_},f.isWeakMap=function(e){return Pe(e)&&Ke(e)==d},f.isWeakSet=function(e){return Pe(e)&&bt(e)=="[object WeakSet]"},f.join=function(e,i){return e==null?"":Os.call(e,i)},f.kebabCase=el,f.last=Tn,f.lastIndexOf=function(e,i,o){var u=e==null?0:e.length;if(!u)return-1;var l=u;return o!==_&&(l=(l=Kt(o))<0?xe(u+l,0):Be(l,u-1)),i==i?(function(p,b,P){for(var S=P+1;S--;)if(p[S]===b)return S;return S})(e,i,l):mn(e,Ee,l,!0)},f.lowerCase=nl,f.lowerFirst=il,f.lt=Wh,f.lte=Hh,f.max=function(e){return e&&e.length?r(e,ln,Ie):_},f.maxBy=function(e,i){return e&&e.length?r(e,St(i,2),Ie):_},f.mean=function(e){return Zn(e,ln)},f.meanBy=function(e,i){return Zn(e,St(i,2))},f.min=function(e){return e&&e.length?r(e,ln,we):_},f.minBy=function(e,i){return e&&e.length?r(e,St(i,2),we):_},f.stubArray=ya,f.stubFalse=xa,f.stubObject=function(){return{}},f.stubString=function(){return""},f.stubTrue=function(){return!0},f.multiply=wl,f.nth=function(e,i){return e&&e.length?Er(e,Kt(i)):_},f.noConflict=function(){return Le._===this&&(Le._=As),this},f.noop=ga,f.now=is,f.pad=function(e,i,o){e=de(e);var u=(i=Kt(i))?De(e):0;if(!i||u>=i)return e;var l=(i-u)/2;return Xo(gr(l),o)+e+Xo(Li(l),o)},f.padEnd=function(e,i,o){e=de(e);var u=(i=Kt(i))?De(e):0;return i&&u<i?e+Xo(i-u,o):e},f.padStart=function(e,i,o){e=de(e);var u=(i=Kt(i))?De(e):0;return i&&u<i?Xo(i-u,o)+e:e},f.parseInt=function(e,i,o){return o||i==null?i=0:i&&(i=+i),yr(de(e).replace(Ue,""),i||0)},f.random=function(e,i,o){if(o&&typeof o!="boolean"&&Je(e,i,o)&&(i=o=_),o===_&&(typeof i=="boolean"?(o=i,i=_):typeof e=="boolean"&&(o=e,e=_)),e===_&&i===_?(e=0,i=1):(e=ai(e),i===_?(i=e,e=0):i=ai(i)),e>i){var u=e;e=i,i=u}if(o||e%1||i%1){var l=xr();return Be(e+l*(i-e+Hr("1e-"+((l+"").length-1))),i)}return Fs(e,i)},f.reduce=function(e,i,o){var u=Vt(e)?fe:Eo,l=arguments.length<3;return u(e,St(i,4),o,l,qn)},f.reduceRight=function(e,i,o){var u=Vt(e)?Co:Eo,l=arguments.length<3;return u(e,St(i,4),o,l,t)},f.repeat=function(e,i,o){return i=(o?Je(e,i,o):i===_)?1:Kt(i),Ds(de(e),i)},f.replace=function(){var e=arguments,i=de(e[0]);return e.length<3?i:i.replace(e[1],e[2])},f.result=function(e,i,o){var u=-1,l=(i=Ei(i,e)).length;for(l||(l=1,e=_);++u<l;){var p=e==null?_:e[Gn(i[u])];p===_&&(u=l,p=o),e=si(p)?p.call(e):p}return e},f.round=bl,f.runInContext=E,f.sample=function(e){return(Vt(e)?Ti:$u)(e)},f.size=function(e){if(e==null)return 0;if(un(e))return as(e)?De(e):e.length;var i=Ke(e);return i==ut||i==v?e.size:Sr(e).length},f.snakeCase=rl,f.some=function(e,i,o){var u=Vt(e)?Fi:eh;return o&&Je(e,i,o)&&(i=_),u(e,St(i,3))},f.sortedIndex=function(e,i){return Vo(e,i)},f.sortedIndexBy=function(e,i,o){return Ws(e,i,St(o,2))},f.sortedIndexOf=function(e,i){var o=e==null?0:e.length;if(o){var u=Vo(e,i);if(u<o&&kn(e[u],i))return u}return-1},f.sortedLastIndex=function(e,i){return Vo(e,i,!0)},f.sortedLastIndexBy=function(e,i,o){return Ws(e,i,St(o,2),!0)},f.sortedLastIndexOf=function(e,i){if(e!=null&&e.length){var o=Vo(e,i,!0)-1;if(kn(e[o],i))return o}return-1},f.startCase=ol,f.startsWith=function(e,i,o){return e=de(e),o=o==null?0:Yn(Kt(o),0,e.length),i=_n(i),e.slice(o,o+i.length)==i},f.subtract=Ll,f.sum=function(e){return e&&e.length?lr(e,ln):0},f.sumBy=function(e,i){return e&&e.length?lr(e,St(i,2)):0},f.template=function(e,i,o){var u=f.templateSettings;o&&Je(e,i,o)&&(i=_),e=de(e),i=us({},i,u,Ga);var l,p,b=us({},i.imports,u.imports,Ga),P=Ne(b),S=ee(b,P),N=0,R=i.interpolate||tr,Y="__p += '",ht=fr((i.escape||tr).source+"|"+R.source+"|"+(R===Rt?ps:tr).source+"|"+(i.evaluate||tr).source+"|$","g"),lt="//# sourceURL="+(ue.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ve+"]")+`
`;e.replace(ht,(function(X,Mt,tt,Dt,Nt,he){return tt||(tt=Dt),Y+=e.slice(N,he).replace(ys,qr),Mt&&(l=!0,Y+=`' +
__e(`+Mt+`) +
'`),Nt&&(p=!0,Y+=`';
`+Nt+`;
__p += '`),tt&&(Y+=`' +
((__t = (`+tt+`)) == null ? '' : __t) +
'`),N=he+X.length,X})),Y+=`';
`;var Lt=ue.call(i,"variable")&&i.variable;if(Lt){if(Ir.test(Lt))throw new re("Invalid `variable` option passed into `_.template`")}else Y=`with (obj) {
`+Y+`
}
`;Y=(p?Y.replace(ct,""):Y).replace(yt,"$1").replace(Pt,"$1;"),Y="function("+(Lt||"obj")+`) {
`+(Lt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(l?", __e = _.escape":"")+(p?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Y+`return __p
}`;var D=Fu((function(){return Me(P,lt+"return "+Y).apply(_,S)}));if(D.source=Y,la(D))throw D;return D},f.times=function(e,i){if((e=Kt(e))<1||e>Yt)return[];var o=le,u=Be(e,le);i=St(i),e-=le;for(var l=Wi(u,i);++o<e;)i(o);return l},f.toFinite=ai,f.toInteger=Kt,f.toLength=Eu,f.toLower=function(e){return de(e).toLowerCase()},f.toNumber=Mn,f.toSafeInteger=function(e){return e?Yn(Kt(e),-9007199254740991,Yt):e===0?e:0},f.toString=de,f.toUpper=function(e){return de(e).toUpperCase()},f.trim=function(e,i,o){if((e=de(e))&&(o||i===_))return Ao(e);if(!e||!(i=_n(i)))return e;var u=fn(e),l=fn(i);return Ai(u,tn(u,l),vi(u,l)+1).join("")},f.trimEnd=function(e,i,o){if((e=de(e))&&(o||i===_))return e.slice(0,Kr(e)+1);if(!e||!(i=_n(i)))return e;var u=fn(e);return Ai(u,0,vi(u,fn(i))+1).join("")},f.trimStart=function(e,i,o){if((e=de(e))&&(o||i===_))return e.replace(Ue,"");if(!e||!(i=_n(i)))return e;var u=fn(e);return Ai(u,tn(u,fn(i))).join("")},f.truncate=function(e,i){var o=30,u="...";if(be(i)){var l="separator"in i?i.separator:l;o="length"in i?Kt(i.length):o,u="omission"in i?_n(i.omission):u}var p=(e=de(e)).length;if(gi(e)){var b=fn(e);p=b.length}if(o>=p)return e;var P=o-De(u);if(P<1)return u;var S=b?Ai(b,0,P).join(""):e.slice(0,P);if(l===_)return S+u;if(b&&(P+=S.length-P),ca(l)){if(e.slice(P).search(l)){var N,R=S;for(l.global||(l=fr(l.source,de(li.exec(l))+"g")),l.lastIndex=0;N=l.exec(R);)var Y=N.index;S=S.slice(0,Y===_?P:Y)}}else if(e.indexOf(_n(l),P)!=P){var ht=S.lastIndexOf(l);ht>-1&&(S=S.slice(0,ht))}return S+u},f.unescape=function(e){return(e=de(e))&&H.test(e)?e.replace(et,Nn):e},f.uniqueId=function(e){var i=++Cs;return de(e)+i},f.upperCase=sl,f.upperFirst=_a,f.each=vu,f.eachRight=gu,f.first=du,va(f,(wa={},M(f,(function(e,i){ue.call(f.prototype,i)||(wa[i]=e)})),wa),{chain:!1}),f.VERSION="4.17.21",Ye(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){f[e].placeholder=f})),Ye(["drop","take"],(function(e,i){Ut.prototype[e]=function(o){o=o===_?1:xe(Kt(o),0);var u=this.__filtered__&&!i?new Ut(this):this.clone();return u.__filtered__?u.__takeCount__=Be(o,u.__takeCount__):u.__views__.push({size:Be(o,le),type:e+(u.__dir__<0?"Right":"")}),u},Ut.prototype[e+"Right"]=function(o){return this.reverse()[e](o).reverse()}})),Ye(["filter","map","takeWhile"],(function(e,i){var o=i+1,u=o==1||o==3;Ut.prototype[e]=function(l){var p=this.clone();return p.__iteratees__.push({iteratee:St(l,3),type:o}),p.__filtered__=p.__filtered__||u,p}})),Ye(["head","last"],(function(e,i){var o="take"+(i?"Right":"");Ut.prototype[e]=function(){return this[o](1).value()[0]}})),Ye(["initial","tail"],(function(e,i){var o="drop"+(i?"":"Right");Ut.prototype[e]=function(){return this.__filtered__?new Ut(this):this[o](1)}})),Ut.prototype.compact=function(){return this.filter(ln)},Ut.prototype.find=function(e){return this.filter(e).head()},Ut.prototype.findLast=function(e){return this.reverse().find(e)},Ut.prototype.invokeMap=Qt((function(e,i){return typeof e=="function"?new Ut(this):this.map((function(o){return Ln(o,e,i)}))})),Ut.prototype.reject=function(e){return this.filter(os(St(e)))},Ut.prototype.slice=function(e,i){e=Kt(e);var o=this;return o.__filtered__&&(e>0||i<0)?new Ut(o):(e<0?o=o.takeRight(-e):e&&(o=o.drop(e)),i!==_&&(o=(i=Kt(i))<0?o.dropRight(-i):o.take(i-e)),o)},Ut.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ut.prototype.toArray=function(){return this.take(le)},M(Ut.prototype,(function(e,i){var o=/^(?:filter|find|map|reject)|While$/.test(i),u=/^(?:head|last)$/.test(i),l=f[u?"take"+(i=="last"?"Right":""):i],p=u||/^find/.test(i);l&&(f.prototype[i]=function(){var b=this.__wrapped__,P=u?[1]:arguments,S=b instanceof Ut,N=P[0],R=S||Vt(b),Y=function(Mt){var tt=l.apply(f,Oe([Mt],P));return u&&ht?tt[0]:tt};R&&o&&typeof N=="function"&&N.length!=1&&(S=R=!1);var ht=this.__chain__,lt=!!this.__actions__.length,Lt=p&&!ht,D=S&&!lt;if(!p&&R){b=D?b:new Ut(this);var X=e.apply(b,P);return X.__actions__.push({func:es,args:[Y],thisArg:_}),new rn(X,ht)}return Lt&&D?e.apply(this,P):(X=this.thru(Y),Lt?u?X.value()[0]:X.value():X)})})),Ye(["pop","push","shift","sort","splice","unshift"],(function(e){var i=vn[e],o=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",u=/^(?:pop|shift)$/.test(e);f.prototype[e]=function(){var l=arguments;if(u&&!this.__chain__){var p=this.value();return i.apply(Vt(p)?p:[],l)}return this[o]((function(b){return i.apply(Vt(b)?b:[],l)}))}})),M(Ut.prototype,(function(e,i){var o=f[i];if(o){var u=o.name+"";ue.call(ei,u)||(ei[u]=[]),ei[u].push({name:i,func:o})}})),ei[Ko(_,2).name]=[{name:"wrapper",func:_}],Ut.prototype.clone=function(){var e=new Ut(this.__wrapped__);return e.__actions__=an(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=an(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=an(this.__views__),e},Ut.prototype.reverse=function(){if(this.__filtered__){var e=new Ut(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Ut.prototype.value=function(){var e=this.__wrapped__.value(),i=this.__dir__,o=Vt(e),u=i<0,l=o?e.length:0,p=(function(he,xt,At){for(var Ze=-1,Ce=At.length;++Ze<Ce;){var Qe=At[Ze],ge=Qe.size;switch(Qe.type){case"drop":he+=ge;break;case"dropRight":xt-=ge;break;case"take":xt=Be(xt,he+ge);break;case"takeRight":he=xe(he,xt-ge)}}return{start:he,end:xt}})(0,l,this.__views__),b=p.start,P=p.end,S=P-b,N=u?P:b-1,R=this.__iteratees__,Y=R.length,ht=0,lt=Be(S,this.__takeCount__);if(!o||!u&&l==S&&lt==S)return ka(e,this.__actions__);var Lt=[];t:for(;S--&&ht<lt;){for(var D=-1,X=e[N+=i];++D<Y;){var Mt=R[D],tt=Mt.iteratee,Dt=Mt.type,Nt=tt(X);if(Dt==2)X=Nt;else if(!Nt){if(Dt==1)continue t;break t}}Lt[ht++]=X}return Lt},f.prototype.at=Ph,f.prototype.chain=function(){return mu(this)},f.prototype.commit=function(){return new rn(this.value(),this.__chain__)},f.prototype.next=function(){this.__values__===_&&(this.__values__=Cu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?_:this.__values__[this.__index__++]}},f.prototype.plant=function(e){for(var i,o=this;o instanceof Un;){var u=hu(o);u.__index__=0,u.__values__=_,i?l.__wrapped__=u:i=u;var l=u;o=o.__wrapped__}return l.__wrapped__=e,i},f.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Ut){var i=e;return this.__actions__.length&&(i=new Ut(this)),(i=i.reverse()).__actions__.push({func:es,args:[sa],thisArg:_}),new rn(i,this.__chain__)}return this.thru(sa)},f.prototype.toJSON=f.prototype.valueOf=f.prototype.value=function(){return ka(this.__wrapped__,this.__actions__)},f.prototype.first=f.prototype.head,bi&&(f.prototype[bi]=function(){return this}),f})();Le._=ji,(te=(function(){return ji}).call(it,ot,it,Q))===_||(Q.exports=te)}).call(this)},670:(Q,it,ot)=>{var te=ot(289),_=ot(579),pt=ot(586),vt=ot(543);function wt(zt){zt!==void 0&&this.loadFeatureCollection(zt)}function dt(zt,Gt){var Yt=Gt.geometry.coordinates[0];if(_(zt,Yt)){for(var kt=1;kt<Gt.geometry.coordinates.length;kt++)if(_(zt,Gt.geometry.coordinates[kt]))return!1;return!0}return!1}wt.prototype.searchForOnePolygon=function(zt,Gt){var Yt=this.rtree.search({minX:zt,minY:Gt,maxX:zt,maxY:Gt}),kt=[zt,Gt],le=Yt.map((function(Ft,$t){return this.polygons[Yt[$t].polyId]}),this);return vt.find(le,(function(Ft){return dt(kt,Ft)}))},wt.prototype.searchForMultiplePolygons=function(zt,Gt,Yt){Yt===-1&&(Yt=Number.MAX_SAFE_INTEGER);var kt=[zt,Gt],le=this.rtree.search({minX:zt,minY:Gt,maxX:zt,maxY:Gt}),Ft=le.map((function(_t,A){return this.polygons[le[A].polyId]}),this),$t=0;return{type:"FeatureCollection",features:Ft=Ft.filter((function(_t){return!($t>=Yt||!dt(kt,_t)||($t++,0))}))}},wt.prototype.search=function(zt,Gt,Yt){return Yt===void 0?this.searchForOnePolygon(zt,Gt):this.searchForMultiplePolygons(zt,Gt,Yt)},wt.prototype.loadFeatureCollection=function(zt){var Gt=[],Yt=[],kt=0;function le(Ft){Yt.push(Ft);var $t=pt.getBoundingBox(Ft.geometry.coordinates[0]);$t.polyId=kt++,Gt.push($t)}zt.features.forEach((function(Ft){if(Ft.geometry&&Ft.geometry.coordinates[0]!==void 0&&Ft.geometry.coordinates[0].length>0)switch(Ft.geometry.type){case"Polygon":le(Ft);break;case"MultiPolygon":for(var $t=Ft.geometry.coordinates,_t=0;_t<$t.length;_t++)le({type:"Feature",properties:Ft.properties,geometry:{type:"Polygon",coordinates:$t[_t]}})}})),this.rtree=new te().load(Gt),this.polygons=Yt},Q.exports=wt},586:Q=>{Q.exports={getBoundingBox:function(it){for(var ot=it[0],te={minX:ot[0],minY:ot[1],maxX:ot[0],maxY:ot[1]},_=1;_<it.length;_++){var pt=it[_],vt=pt[0];vt<te.minX?te.minX=vt:vt>te.maxX&&(te.maxX=vt);var wt=pt[1];wt<te.minY?te.minY=wt:wt>te.maxY&&(te.maxY=wt)}return te}}},579:Q=>{Q.exports=function(it,ot){for(var te=it[0],_=it[1],pt=!1,vt=0,wt=ot.length-1;vt<ot.length;wt=vt++){var dt=ot[vt][0],zt=ot[vt][1],Gt=ot[wt][0],Yt=ot[wt][1];zt>_!=Yt>_&&te<(Gt-dt)*(_-zt)/(Yt-zt)+dt&&(pt=!pt)}return pt}},314:function(Q){Q.exports=(function(){function it(_,pt,vt,wt,dt){for(;wt>vt;){if(wt-vt>600){var zt=wt-vt+1,Gt=pt-vt+1,Yt=Math.log(zt),kt=.5*Math.exp(2*Yt/3),le=.5*Math.sqrt(Yt*kt*(zt-kt)/zt)*(Gt-zt/2<0?-1:1);it(_,pt,Math.max(vt,Math.floor(pt-Gt*kt/zt+le)),Math.min(wt,Math.floor(pt+(zt-Gt)*kt/zt+le)),dt)}var Ft=_[pt],$t=vt,_t=wt;for(ot(_,vt,pt),dt(_[wt],Ft)>0&&ot(_,vt,wt);$t<_t;){for(ot(_,$t,_t),$t++,_t--;dt(_[$t],Ft)<0;)$t++;for(;dt(_[_t],Ft)>0;)_t--}dt(_[vt],Ft)===0?ot(_,vt,_t):ot(_,++_t,wt),_t<=pt&&(vt=_t+1),pt<=_t&&(wt=_t-1)}}function ot(_,pt,vt){var wt=_[pt];_[pt]=_[vt],_[vt]=wt}function te(_,pt){return _<pt?-1:_>pt?1:0}return function(_,pt,vt,wt,dt){it(_,pt,vt||0,wt||_.length-1,dt||te)}})()},289:(Q,it,ot)=>{Q.exports=_,Q.exports.default=_;var te=ot(314);function _(A,O){if(!(this instanceof _))return new _(A,O);this._maxEntries=Math.max(4,A||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),O&&this._initFormat(O),this.clear()}function pt(A,O,$){if(!$)return O.indexOf(A);for(var q=0;q<O.length;q++)if($(A,O[q]))return q;return-1}function vt(A,O){wt(A,0,A.children.length,O,A)}function wt(A,O,$,q,J){J||(J=$t(null)),J.minX=1/0,J.minY=1/0,J.maxX=-1/0,J.maxY=-1/0;for(var ut,K=O;K<$;K++)ut=A.children[K],dt(J,A.leaf?q(ut):ut);return J}function dt(A,O){return A.minX=Math.min(A.minX,O.minX),A.minY=Math.min(A.minY,O.minY),A.maxX=Math.max(A.maxX,O.maxX),A.maxY=Math.max(A.maxY,O.maxY),A}function zt(A,O){return A.minX-O.minX}function Gt(A,O){return A.minY-O.minY}function Yt(A){return(A.maxX-A.minX)*(A.maxY-A.minY)}function kt(A){return A.maxX-A.minX+(A.maxY-A.minY)}function le(A,O){return A.minX<=O.minX&&A.minY<=O.minY&&O.maxX<=A.maxX&&O.maxY<=A.maxY}function Ft(A,O){return O.minX<=A.maxX&&O.minY<=A.maxY&&O.maxX>=A.minX&&O.maxY>=A.minY}function $t(A){return{children:A,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _t(A,O,$,q,J){for(var ut,K=[O,$];K.length;)($=K.pop())-(O=K.pop())<=q||(ut=O+Math.ceil(($-O)/q/2)*q,te(A,ut,O,$,J),K.push(O,ut,ut,$))}_.prototype={all:function(){return this._all(this.data,[])},search:function(A){var O=this.data,$=[],q=this.toBBox;if(!Ft(A,O))return $;for(var J,ut,K,Bt,gt=[];O;){for(J=0,ut=O.children.length;J<ut;J++)K=O.children[J],Ft(A,Bt=O.leaf?q(K):K)&&(O.leaf?$.push(K):le(A,Bt)?this._all(K,$):gt.push(K));O=gt.pop()}return $},collides:function(A){var O=this.data,$=this.toBBox;if(!Ft(A,O))return!1;for(var q,J,ut,K,Bt=[];O;){for(q=0,J=O.children.length;q<J;q++)if(ut=O.children[q],Ft(A,K=O.leaf?$(ut):ut)){if(O.leaf||le(A,K))return!0;Bt.push(ut)}O=Bt.pop()}return!1},load:function(A){if(!A||!A.length)return this;if(A.length<this._minEntries){for(var O=0,$=A.length;O<$;O++)this.insert(A[O]);return this}var q=this._build(A.slice(),0,A.length-1,0);if(this.data.children.length)if(this.data.height===q.height)this._splitRoot(this.data,q);else{if(this.data.height<q.height){var J=this.data;this.data=q,q=J}this._insert(q,this.data.height-q.height-1,!0)}else this.data=q;return this},insert:function(A){return A&&this._insert(A,this.data.height-1),this},clear:function(){return this.data=$t([]),this},remove:function(A,O){if(!A)return this;for(var $,q,J,ut,K=this.data,Bt=this.toBBox(A),gt=[],Wt=[];K||gt.length;){if(K||(K=gt.pop(),q=gt[gt.length-1],$=Wt.pop(),ut=!0),K.leaf&&(J=pt(A,K.children,O))!==-1)return K.children.splice(J,1),gt.push(K),this._condense(gt),this;ut||K.leaf||!le(K,Bt)?q?($++,K=q.children[$],ut=!1):K=null:(gt.push(K),Wt.push($),$=0,q=K,K=K.children[0])}return this},toBBox:function(A){return A},compareMinX:zt,compareMinY:Gt,toJSON:function(){return this.data},fromJSON:function(A){return this.data=A,this},_all:function(A,O){for(var $=[];A;)A.leaf?O.push.apply(O,A.children):$.push.apply($,A.children),A=$.pop();return O},_build:function(A,O,$,q){var J,ut=$-O+1,K=this._maxEntries;if(ut<=K)return vt(J=$t(A.slice(O,$+1)),this.toBBox),J;q||(q=Math.ceil(Math.log(ut)/Math.log(K)),K=Math.ceil(ut/Math.pow(K,q-1))),(J=$t([])).leaf=!1,J.height=q;var Bt,gt,Wt,v,T=Math.ceil(ut/K),h=T*Math.ceil(Math.sqrt(K));for(_t(A,O,$,h,this.compareMinX),Bt=O;Bt<=$;Bt+=h)for(_t(A,Bt,Wt=Math.min(Bt+h-1,$),T,this.compareMinY),gt=Bt;gt<=Wt;gt+=T)v=Math.min(gt+T-1,Wt),J.children.push(this._build(A,gt,v,q-1));return vt(J,this.toBBox),J},_chooseSubtree:function(A,O,$,q){for(var J,ut,K,Bt,gt,Wt,v,T,h,d;q.push(O),!O.leaf&&q.length-1!==$;){for(v=T=1/0,J=0,ut=O.children.length;J<ut;J++)gt=Yt(K=O.children[J]),h=A,d=K,(Wt=(Math.max(d.maxX,h.maxX)-Math.min(d.minX,h.minX))*(Math.max(d.maxY,h.maxY)-Math.min(d.minY,h.minY))-gt)<T?(T=Wt,v=gt<v?gt:v,Bt=K):Wt===T&&gt<v&&(v=gt,Bt=K);O=Bt||O.children[0]}return O},_insert:function(A,O,$){var q=this.toBBox,J=$?A:q(A),ut=[],K=this._chooseSubtree(J,this.data,O,ut);for(K.children.push(A),dt(K,J);O>=0&&ut[O].children.length>this._maxEntries;)this._split(ut,O),O--;this._adjustParentBBoxes(J,ut,O)},_split:function(A,O){var $=A[O],q=$.children.length,J=this._minEntries;this._chooseSplitAxis($,J,q);var ut=this._chooseSplitIndex($,J,q),K=$t($.children.splice(ut,$.children.length-ut));K.height=$.height,K.leaf=$.leaf,vt($,this.toBBox),vt(K,this.toBBox),O?A[O-1].children.push(K):this._splitRoot($,K)},_splitRoot:function(A,O){this.data=$t([A,O]),this.data.height=A.height+1,this.data.leaf=!1,vt(this.data,this.toBBox)},_chooseSplitIndex:function(A,O,$){var q,J,ut,K,Bt,gt,Wt,v,T,h,d,m,y,w;for(gt=Wt=1/0,q=O;q<=$-O;q++)T=J=wt(A,0,q,this.toBBox),h=ut=wt(A,q,$,this.toBBox),d=Math.max(T.minX,h.minX),m=Math.max(T.minY,h.minY),y=Math.min(T.maxX,h.maxX),w=Math.min(T.maxY,h.maxY),K=Math.max(0,y-d)*Math.max(0,w-m),Bt=Yt(J)+Yt(ut),K<gt?(gt=K,v=q,Wt=Bt<Wt?Bt:Wt):K===gt&&Bt<Wt&&(Wt=Bt,v=q);return v},_chooseSplitAxis:function(A,O,$){var q=A.leaf?this.compareMinX:zt,J=A.leaf?this.compareMinY:Gt;this._allDistMargin(A,O,$,q)<this._allDistMargin(A,O,$,J)&&A.children.sort(q)},_allDistMargin:function(A,O,$,q){A.children.sort(q);var J,ut,K=this.toBBox,Bt=wt(A,0,O,K),gt=wt(A,$-O,$,K),Wt=kt(Bt)+kt(gt);for(J=O;J<$-O;J++)ut=A.children[J],dt(Bt,A.leaf?K(ut):ut),Wt+=kt(Bt);for(J=$-O-1;J>=O;J--)ut=A.children[J],dt(gt,A.leaf?K(ut):ut),Wt+=kt(gt);return Wt},_adjustParentBBoxes:function(A,O,$){for(var q=$;q>=0;q--)dt(O[q],A)},_condense:function(A){for(var O,$=A.length-1;$>=0;$--)A[$].children.length===0?$>0?(O=A[$-1].children).splice(O.indexOf(A[$]),1):this.clear():vt(A[$],this.toBBox)},_initFormat:function(A){var O=["return a"," - b",";"];this.compareMinX=new Function("a","b",O.join(A[0])),this.compareMinY=new Function("a","b",O.join(A[1])),this.toBBox=new Function("a","return {minX: a"+A[0]+", minY: a"+A[1]+", maxX: a"+A[2]+", maxY: a"+A[3]+"};")}}},167:Q=>{Q.exports=k}},mt={};function ne(Q){var it=mt[Q];if(it!==void 0)return it.exports;var ot=mt[Q]={id:Q,loaded:!1,exports:{}};return Zt[Q].call(ot.exports,ot,ot.exports,ne),ot.loaded=!0,ot.exports}ne.n=Q=>{var it=Q&&Q.__esModule?()=>Q.default:()=>Q;return ne.d(it,{a:it}),it},ne.d=(Q,it)=>{for(var ot in it)ne.o(it,ot)&&!ne.o(Q,ot)&&Object.defineProperty(Q,ot,{enumerable:!0,get:it[ot]})},ne.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),ne.o=(Q,it)=>Object.prototype.hasOwnProperty.call(Q,it),ne.r=Q=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},ne.nmd=Q=>(Q.paths=[],Q.children||(Q.children=[]),Q);var Xt={};return(()=>{ne.r(Xt),ne.d(Xt,{Glify:()=>gt,default:()=>v,glify:()=>Wt});var Q=ne(167);class it extends Q.Layer{constructor(h,d){super(),this._userDrawFunc=h,this._frame=null,this._redrawCallbacks=[],this._pane=d,this.options={}}drawing(h){return this._userDrawFunc=h,this}params(h){return Q.Util.setOptions(this,h),this}redraw(h){return typeof h=="function"&&this._redrawCallbacks.push(h),this._frame===null&&(this._frame=Q.Util.requestAnimFrame(this._redraw,this)),this}isAnimated(){return!!(this._map.options.zoomAnimation&&Q.Browser.any3d)}onAdd(h){var d;this._map=h;const m=this.canvas=(d=this.canvas)!==null&&d!==void 0?d:document.createElement("canvas"),y=h.getSize(),w=this.isAnimated();m.width=y.x,m.height=y.y,m.className="leaflet-zoom-"+(w?"animated":"hide");const g=h.getPane(this._pane);if(!g)throw new Error("unable to find pane");return g.appendChild(this.canvas),h.on("moveend",this._reset,this),h.on("resize",this._resize,this),w&&h.on("zoomanim",Q.Layer?this._animateZoom:this._animateZoomNoLayer,this),this._reset(),this}onRemove(h){if(this.canvas){const d=h.getPane(this._pane);if(!d)throw new Error("unable to find pane");d.removeChild(this.canvas)}return h.off("moveend",this._reset,this),h.off("resize",this._resize,this),this.isAnimated()&&h.off("zoomanim",Q.Layer?this._animateZoom:this._animateZoomNoLayer,this),this}addTo(h){return h.addLayer(this),this}get map(){return this._map}set map(h){this._map=h}_resize(h){this.canvas&&(this.canvas.width=h.newSize.x,this.canvas.height=h.newSize.y)}_reset(){if(this.canvas){const h=this._map.containerPointToLayerPoint([0,0]);Q.DomUtil.setPosition(this.canvas,h)}this._redraw()}_redraw(){const{_map:h,canvas:d}=this,m=h.getSize(),y=h.getBounds(),w=180*m.x/(2003750834e-2*(y.getEast()-y.getWest())),g=h.getZoom(),C=new Q.LatLng(y.getNorth(),y.getWest()),B=this._unclampedProject(C,0);for(d&&this._userDrawFunc({bounds:y,canvas:d,offset:B,scale:Math.pow(2,g),size:m,zoomScale:w,zoom:g});this._redrawCallbacks.length>0;){const I=this._redrawCallbacks.shift();I&&I(this)}this._frame=null}_animateZoom(h){const{_map:d,canvas:m}=this,y=d.getZoomScale(h.zoom,d.getZoom()),w=this._unclampedLatLngBoundsToNewLayerBounds(d.getBounds(),h.zoom,h.center).min;m&&w&&Q.DomUtil.setTransform(m,w,y)}_animateZoomNoLayer(h){const{_map:d,canvas:m}=this;if(m){const y=d.getZoomScale(h.zoom,d.getZoom()),w=d._getCenterOffset(h.center)._multiplyBy(-y).subtract(d._getMapPanePos());Q.DomUtil.setTransform(m,w,y)}}_unclampedProject(h,d){var m;const{crs:y}=this._map.options,{R:w}=y.projection,g=Math.PI/180,C=h.lat,B=Math.sin(C*g),I=new Q.Point(w*h.lng*g,w*Math.log((1+B)/(1-B))/2),G=(m=y?.scale(d))!==null&&m!==void 0?m:0;return y.transformation._transform(I,G)}_unclampedLatLngBoundsToNewLayerBounds(h,d,m){const y=this._map._getNewPixelOrigin(m,d);return new Q.Bounds([this._unclampedProject(h.getSouthWest(),d).subtract(y),this._unclampedProject(h.getNorthWest(),d).subtract(y),this._unclampedProject(h.getSouthEast(),d).subtract(y),this._unclampedProject(h.getNorthEast(),d).subtract(y)])}}function ot(T){return`"${T}" not properly defined`}class te{constructor(){this.array=new Float32Array(16)}setSize(h,d){return this.array.set([2/h,0,0,0,0,-2/d,0,0,0,0,0,0,-1,1,0,1]),this}translateTo(h,d){const{array:m}=this;return m[12]=m[0]*h-1,m[13]=m[5]*d+1,this}scaleTo(h){const{array:d}=this;return d[0]*=h,d[5]*=h,this}}const _="overlayPane",pt={pane:_};class vt{get data(){if(!this.settings.data)throw new Error(ot("settings.data"));return this.settings.data}get pane(){var h;return(h=this.settings.pane)!==null&&h!==void 0?h:_}get className(){var h;return(h=this.settings.className)!==null&&h!==void 0?h:""}get map(){if(!this.settings.map)throw new Error(ot("settings.map"));return this.settings.map}get sensitivity(){if(typeof this.settings.sensitivity!="number")throw new Error(ot("settings.sensitivity"));return this.settings.sensitivity}get sensitivityHover(){if(typeof this.settings.sensitivityHover!="number")throw new Error(ot("settings.sensitivityHover"));return this.settings.sensitivityHover}get hoverWait(){var h;return(h=this.settings.hoverWait)!==null&&h!==void 0?h:250}get longitudeKey(){if(typeof this.settings.longitudeKey!="number")throw new Error(ot("settings.longitudeKey"));return this.settings.longitudeKey}get latitudeKey(){if(typeof this.settings.latitudeKey!="number")throw new Error(ot("settings.latitudeKey"));return this.settings.latitudeKey}get opacity(){if(typeof this.settings.opacity!="number")throw new Error(ot("settings.opacity"));return this.settings.opacity}get color(){var h;return(h=this.settings.color)!==null&&h!==void 0?h:null}constructor(h){var d,m;this.bytes=0,this.buffers={},this.attributeLocations={},this.uniformLocations={},this.settings={...pt,...h},this.mapMatrix=new te,this.active=!0,this.vertexShader=null,this.fragmentShader=null,this.program=null,this.matrix=null,this.vertices=null,this.vertexLines=null;try{this.mapCenterPixels=this.map.project(this.map.getCenter(),0)}catch{this.mapCenterPixels={x:-0,y:-0}}const y=!!h.preserveDrawingBuffer,w=this.layer=new it((C=>this.drawOnCanvas(C)),this.pane).addTo(this.map);if(!w.canvas)throw new Error(ot("layer.canvas"));const g=this.canvas=w.canvas;g.width=g.clientWidth,g.height=g.clientHeight,g.style.position="absolute",this.className&&(g.className+=" "+this.className),this.gl=(m=(d=g.getContext("webgl2",{preserveDrawingBuffer:y}))!==null&&d!==void 0?d:g.getContext("webgl",{preserveDrawingBuffer:y}))!==null&&m!==void 0?m:g.getContext("experimental-webgl",{preserveDrawingBuffer:y})}attachShaderVariables(h){if(this.getShaderVariableCount()===0)return this;const{gl:d,settings:m}=this,{shaderVariables:y}=m;let w=0;for(const g in y){if(!y.hasOwnProperty(g))continue;const C=y[g],B=this.getAttributeLocation(g);if(B<0)throw new Error("shader variable "+g+" not found");d.vertexAttribPointer(B,C.size,d[C.type],!!C.normalize,this.bytes*h,w*h),w+=C.size,d.enableVertexAttribArray(B)}return this}getShaderVariableCount(){var h;return Object.keys((h=this.settings.shaderVariables)!==null&&h!==void 0?h:{}).length}setData(h){return this.settings={...this.settings,data:h},this.render()}setup(){const h=this.settings;return h.click&&h.setupClick&&h.setupClick(this.map),h.hover&&h.setupHover&&h.setupHover(this.map,this.hoverWait),this.setupVertexShader().setupFragmentShader().setupProgram()}setupVertexShader(){const{gl:h,settings:d}=this,m=typeof d.vertexShaderSource=="function"?d.vertexShaderSource():d.vertexShaderSource,y=h.createShader(h.VERTEX_SHADER);if(!y)throw new Error("Not able to create vertex");if(!m)throw new Error(ot("settings.vertexShaderSource"));return h.shaderSource(y,m),h.compileShader(y),this.vertexShader=y,this}setupFragmentShader(){const h=this.gl,d=this.settings,m=typeof d.fragmentShaderSource=="function"?d.fragmentShaderSource():d.fragmentShaderSource,y=h.createShader(h.FRAGMENT_SHADER);if(!y)throw new Error("Not able to create fragment");if(!m)throw new Error(ot("settings.fragmentShaderSource"));return h.shaderSource(y,m),h.compileShader(y),this.fragmentShader=y,this}setupProgram(){const{gl:h,vertexShader:d,fragmentShader:m}=this,y=h.createProgram();if(!y)throw new Error("Not able to create program");if(!d)throw new Error(ot("this.vertexShader"));if(!m)throw new Error(ot("this.fragmentShader"));return h.attachShader(y,d),h.attachShader(y,m),h.linkProgram(y),h.useProgram(y),h.blendFuncSeparate(h.SRC_ALPHA,h.ONE_MINUS_SRC_ALPHA,h.ONE,h.ONE_MINUS_SRC_ALPHA),h.enable(h.BLEND),this.program=y,this}addTo(h){return this.layer.addTo(h??this.map),this.active=!0,this.render()}remove(h){if(h===void 0)this.removeInstance(),this.map.removeLayer(this.layer),this.active=!1;else{const d=this.settings.data.features||this.settings.data;typeof(h=h instanceof Array?h:[h])=="number"&&(h=[h]),h.sort(((m,y)=>m-y)).reverse().forEach((m=>{d.splice(m,1)})),this.render()}return this}insert(h,d){const m=Array.isArray(h)?h:[h],y=this.settings.data.features||this.settings.data;for(let w=0;w<m.length;w++)y.splice(d+w,0,m[w]);return this.render()}update(h,d){const m=this.settings.data.features||this.settings.data;if(Array.isArray(h))for(let y=0;y<h.length;y++)m[d+y]=h[y];else m[d]=h;return this.render()}getBuffer(h){if(!this.buffers[h]){const d=this.gl.createBuffer();if(!d)throw new Error("Not able to create buffer");this.buffers[h]=d}return this.buffers[h]}getAttributeLocation(h){if(!this.program)throw new Error(ot("this.program"));return this.attributeLocations[h]!==void 0?this.attributeLocations[h]:this.attributeLocations[h]=this.gl.getAttribLocation(this.program,h)}getUniformLocation(h){if(!this.program)throw new Error(ot("this.program"));if(this.uniformLocations[h]!==void 0)return this.uniformLocations[h];const d=this.gl.getUniformLocation(this.program,h);if(!d)throw new Error("Cannot find location");return this.uniformLocations[h]=d}click(h,d){if(!this.settings.click)return;const m=this.settings.click(h,d);return m!==void 0?m:void 0}hover(h,d){if(!this.settings.hover)return;const m=this.settings.hover(h,d);return m!==void 0?m:void 0}hoverOff(h,d){this.settings.hoverOff&&this.settings.hoverOff(h,d)}}function wt(){return{r:Math.random(),g:Math.random(),b:Math.random(),a:Math.random()}}vt.defaults=pt;class dt{get length(){return this.array.length}constructor(h){this.pixels=[],this.latLngs=[],this.settings=h,this.vertexCount=0,this.array=[]}fillFromCoordinates(h){var d;const{color:m,opacity:y,project:w,latitudeKey:g,longitudeKey:C,mapCenterPixels:B}=this.settings;for(let I=0;I<h.length;I++){if(Array.isArray(h[I][0])){this.fillFromCoordinates(h[I]);continue}const G=h,U=new Q.LatLng(G[I][g],G[I][C]);this.latLngs.push(U);const at=w(U,0);this.pixels.push(at),this.push(at.x-B.x,at.y-B.y,m.r,m.g,m.b,(d=m.a)!==null&&d!==void 0?d:y),I!==0&&I!==h.length-1&&(this.vertexCount+=1),this.vertexCount+=1}}push(...h){this.array.push(...h)}}function zt(T,h){const d=Math.PI/180,m=4*Math.PI,y=Math.sin(T*d);return{x:(h+180)/360*256,y:256*(.5-Math.log((1+y)/(1-y))/m)}}function Gt(T,h,d){return(T.x-h.x)*(T.x-h.x)+(T.y-h.y)*(T.y-h.y)<=d*d}function Yt(T,h,d,m,y,w){const g=y-d,C=w-m,B=g*g+C*C;let I,G,U=-1;B!==0&&(U=((T-d)*g+(h-m)*C)/B),U<0?(I=d,G=m):U>1?(I=y,G=w):(I=d+U*g,G=m+U*C);const at=T-I,V=h-G;return Math.sqrt(at*at+V*V)}function kt(T,h,d){const m=d.latLngToLayerPoint(T),y=d.latLngToLayerPoint(h);return w=m.x-y.x,g=m.y-y.y,Math.sqrt(w*w+g*g);var w,g}const le={data:{type:"FeatureCollection",features:[]},color:wt,className:"",opacity:.5,weight:2,sensitivity:.1,sensitivityHover:.03,shaderVariables:{vertex:{type:"FLOAT",start:0,size:2},color:{type:"FLOAT",start:2,size:4}}};class Ft extends vt{get weight(){if(!this.settings.weight)throw new Error("settings.weight not correctly defined");return this.settings.weight}constructor(h){if(super(h),this.scale=1/0,this.bytes=6,this.allVertices=[],this.allVerticesTyped=new Float32Array(0),this.vertices=[],this.aPointSize=-1,this.hoveringFeatures=[],this.settings={...Ft.defaults,...h},!h.data)throw new Error('"data" is missing');this.active=!0,this.setup().render()}render(){this.resetVertices();const{canvas:h,gl:d,layer:m,mapMatrix:y}=this,w=this.getBuffer("vertex");d.bindBuffer(d.ARRAY_BUFFER,w);const g=this.allVerticesTyped.BYTES_PER_ELEMENT;d.bufferData(d.ARRAY_BUFFER,this.allVerticesTyped,d.STATIC_DRAW);const C=this.getAttributeLocation("vertex");return d.vertexAttribPointer(C,2,d.FLOAT,!1,g*this.bytes,0),d.enableVertexAttribArray(C),this.matrix=this.getUniformLocation("matrix"),this.aPointSize=this.getAttributeLocation("pointSize"),y.setSize(h.width,h.height),d.viewport(0,0,h.width,h.height),d.uniformMatrix4fv(this.matrix,!1,y.array),this.attachShaderVariables(g),m.redraw(),this}resetVertices(){const{map:h,opacity:d,color:m,weight:y,latitudeKey:w,longitudeKey:g,data:C,bytes:B,settings:I,mapCenterPixels:G}=this,{eachVertex:U}=I,{features:at}=C,V=at.length;let ct,yt,Pt,et=null,j=null,H=0;typeof m=="function"&&(et=m),typeof y=="function"&&(j=y);const Ht=h.project.bind(h),Et=[];for(;H<V;H++){ct=at[H],yt=et?et(H,ct):m;const me=j?j(H,ct):y;Pt=(ct.geometry||ct).coordinates,ct.geometry.type!=="MultiLineString"&&(Pt=[Pt]);for(const ie of Pt){const ke=new dt({project:Ht,latitudeKey:w,longitudeKey:g,color:yt,weight:me,opacity:d,mapCenterPixels:G});ke.fillFromCoordinates(ie),Et.push(ke),U&&U(ke)}}const jt=Et.length,Rt=[];for(let me=0;me<jt;me++){const ie=Et[me].array,ke=ie.length/B;for(let _e=0;_e<ke;_e++){const Jt=_e*B;_e!==0&&_e!==ke-1&&Rt.push(ie[Jt],ie[Jt+1],ie[Jt+2],ie[Jt+3],ie[Jt+4],ie[Jt+5]),Rt.push(ie[Jt],ie[Jt+1],ie[Jt+2],ie[Jt+3],ie[Jt+4],ie[Jt+5])}}return this.vertices=Et,this.allVertices=Rt,this.allVerticesTyped=new Float32Array(Rt),this}removeInstance(){const h=v.linesInstances.findIndex((d=>d.layer._leaflet_id===this.layer._leaflet_id));return h!==-1&&v.linesInstances.splice(h,1),this}drawOnCanvas(h){if(!this.gl)return this;const{gl:d,data:m,canvas:y,mapMatrix:w,matrix:g,allVertices:C,vertices:B,weight:I,aPointSize:G,bytes:U,mapCenterPixels:at}=this,{scale:V,offset:ct,zoom:yt}=h;this.scale=V;const Pt=Math.max(yt-4,4);if(d.clear(d.COLOR_BUFFER_BIT),d.viewport(0,0,y.width,y.height),d.vertexAttrib1f(G,Pt),w.setSize(y.width,y.height).scaleTo(V),yt>18)w.translateTo(-ct.x+at.x,-ct.y+at.y),d.uniformMatrix4fv(g,!1,w.array),d.drawArrays(d.LINES,0,C.length/U);else if(typeof I=="number")for(let et=-I;et<=I;et+=.5)for(let j=-I;j<=I;j+=.5)w.translateTo(-ct.x+at.x+j/V,-ct.y+at.y+et/V),d.uniformMatrix4fv(g,!1,w.array),d.drawArrays(d.LINES,0,C.length/U);else if(typeof I=="function"){let et=0;const{features:j}=m;for(let H=0;H<B.length;H++){const Ht=B[H],{vertexCount:Et}=Ht,jt=I(H,j[H]);for(let Rt=-jt;Rt<=jt;Rt+=.5)for(let me=-jt;me<=jt;me+=.5)w.translateTo(-ct.x+at.x+me/V,-ct.y+at.y+Rt/V),d.uniformMatrix4fv(this.matrix,!1,w.array),d.drawArrays(d.LINES,et,Et);et+=Et}}return this}static tryClick(h,d,m){let y=null,w=null;if(m.forEach((g=>{const{latitudeKey:C,longitudeKey:B,sensitivity:I,weight:G,scale:U,active:at}=g;function V(ct,yt,Pt,et){Yt(h.latlng.lng,h.latlng.lat,yt[B],yt[C],ct[B],ct[C])<=I+et/U&&(y=Pt,w=g)}at&&g.map===d&&g.data.features.forEach(((ct,yt)=>{const Pt=typeof G=="function"?G(yt,ct):G,{coordinates:et,type:j}=ct.geometry;if(j==="LineString")for(let H=1;H<et.length;H++)V(et[H],et[H-1],ct,Pt);else if(j==="MultiLineString")for(let H=0;H<et.length;H++){const Ht=et[H];for(let Et=0;Et<Ht.length;Et++)if(Et===0&&H>0){const jt=et[H-1];V(jt[jt.length-1],et[H][Et],ct,Pt)}else Et>0&&V(et[H][Et],et[H][Et-1],ct,Pt)}}))})),w&&y){const g=w.click(h,y);return g!==void 0?g:void 0}}static tryHover(h,d,m){const y=[];return m.forEach((w=>{const{sensitivityHover:g,latitudeKey:C,longitudeKey:B,data:I,hoveringFeatures:G,weight:U,scale:at}=w;function V(et,j,H,Ht){return Yt(h.latlng.lng,h.latlng.lat,j[B],j[C],et[B],et[C])<=g+Ht/at&&(yt.includes(H)||yt.push(H),!ct.includes(H))}if(!w.active||d!==w.map)return;const ct=G,yt=[];w.hoveringFeatures=yt;const Pt=(0,Q.geoJSON)(I.features).getBounds();(function(et,j){const H=j.getNorthEast(),Ht=j.getSouthWest();return H.lat>et.lat&&et.lat>Ht.lat&&H.lng>et.lng&&et.lng>Ht.lng})(h.latlng,Pt)&&I.features.forEach(((et,j)=>{const H=typeof U=="function"?U(j,et):U,{coordinates:Ht,type:Et}=et.geometry;let jt=!1;if(Et==="LineString")for(let Rt=1;Rt<Ht.length&&(jt=V(Ht[Rt],Ht[Rt-1],et,H),!jt);Rt++);else if(Et==="MultiLineString")for(let Rt=0;Rt<Ht.length;Rt++){const me=Ht[Rt];for(let ie=0;ie<me.length;ie++)if(ie===0&&Rt>0){const ke=Ht[Rt-1];if(jt=V(ke[ke.length-1],Ht[Rt][ie],et,H),jt)break}else if(ie>0&&(jt=V(Ht[Rt][ie],Ht[Rt][ie-1],et,H),jt))break}if(jt){const Rt=w.hover(h,et);Rt!==void 0&&y.push(Rt)}}));for(let et=0;et<ct.length;et++){const j=ct[et];yt.includes(j)||w.hoverOff(h,j)}})),y}}Ft.defaults=le;const $t={color:wt,opacity:.8,className:"",sensitivity:2,sensitivityHover:.03,shaderVariables:{vertex:{type:"FLOAT",start:0,size:2},color:{type:"FLOAT",start:2,size:4},pointSize:{type:"FLOAT",start:6,size:1}}};class _t extends vt{get size(){return typeof this.settings.size=="number"||typeof this.settings.size=="function"?this.settings.size:null}constructor(h){var d;super(h),this.bytes=7,this.latLngLookup={},this.allLatLngLookup=[],this.vertices=[],this.typedVertices=new Float32Array,this.hoveringFeatures=[],this.settings={...$t,...h},this.active=!0;const{data:m,map:y}=this;if(Array.isArray(m))this.dataFormat="Array";else{if(m.type!=="FeatureCollection")throw new Error("unhandled data type. Supported types are Array and GeoJson.FeatureCollection");this.dataFormat="GeoJson.FeatureCollection"}((d=y.options.crs)===null||d===void 0?void 0:d.code)!=="EPSG:3857"&&console.warn("layer designed for SphericalMercator, alternate detected"),this.setup().render()}render(){this.resetVertices();const{gl:h,canvas:d,layer:m,vertices:y,mapMatrix:w}=this,g=this.matrix=this.getUniformLocation("matrix"),C=this.getBuffer("vertices"),B=this.typedVertices=new Float32Array(y),I=B.BYTES_PER_ELEMENT;return w.setSize(d.width,d.height),h.viewport(0,0,d.width,d.height),h.uniformMatrix4fv(g,!1,w.array),h.bindBuffer(h.ARRAY_BUFFER,C),h.bufferData(h.ARRAY_BUFFER,B,h.STATIC_DRAW),this.attachShaderVariables(I),m.redraw(),this}getPointLookup(h){return this.latLngLookup[h]||(this.latLngLookup[h]=[])}addLookup(h){return this.getPointLookup(h.key).push(h),this.allLatLngLookup.push(h),this}resetVertices(){var h,d,m,y,w,g;this.latLngLookup={},this.allLatLngLookup=[],this.vertices=[];const{vertices:C,settings:B,map:I,size:G,latitudeKey:U,longitudeKey:at,color:V,opacity:ct,data:yt,mapCenterPixels:Pt}=this,{eachVertex:et}=B;let j,H,Ht,Et,jt,Rt,me,ie=null;if(!V)throw new Error("color is not properly defined");if(typeof V=="function"&&(ie=V),!G)throw new Error("size is not properly defined");if(typeof G=="function"&&(Ht=G),this.dataFormat==="Array"){const ke=yt.length;for(let _e=0;_e<ke;_e++){Et=yt[_e],me=Et[U].toFixed(2)+"x"+Et[at].toFixed(2),jt=new Q.LatLng(Et[U],Et[at]),Rt=I.project(jt,0),j=ie?ie(_e,jt):V,j={...j,a:(d=(h=j.a)!==null&&h!==void 0?h:ct)!==null&&d!==void 0?d:0},H=Ht?Ht(_e,jt):G,C.push(Rt.x-Pt.x,Rt.y-Pt.y,j.r,j.g,j.b,(m=j.a)!==null&&m!==void 0?m:0,H);const Jt={latLng:jt,key:me,pixel:Rt,chosenColor:j,chosenSize:H,feature:Et};this.addLookup(Jt),et&&et(Jt)}}else if(this.dataFormat==="GeoJson.FeatureCollection"){const ke=yt.features.length;for(let _e=0;_e<ke;_e++){const Jt=yt.features[_e];Et=Jt.geometry.coordinates,me=Et[U].toFixed(2)+"x"+Et[at].toFixed(2),jt=new Q.LatLng(Et[U],Et[at]),Rt=I.project(jt,0),j=ie?ie(_e,Jt):V,j={...j,a:(w=(y=j.a)!==null&&y!==void 0?y:ct)!==null&&w!==void 0?w:0},H=Ht?Ht(_e,jt):G,C.push(Rt.x-Pt.x,Rt.y-Pt.y,j.r,j.g,j.b,(g=j.a)!==null&&g!==void 0?g:0,H);const Ue={latLng:jt,key:me,pixel:Rt,chosenColor:j,chosenSize:H,feature:Jt};this.addLookup(Ue),et&&et(Ue)}}return this}removeInstance(){const h=v.pointsInstances.findIndex((d=>d.layer._leaflet_id===this.layer._leaflet_id));return h!==-1&&v.pointsInstances.splice(h,1),this}pointSize(h){const{map:d,size:m}=this,y=typeof m=="function"?m(h,null):m,w=d.getZoom();return y===null?Math.max(w-4,1):y}drawOnCanvas(h){if(!this.gl)return this;const{gl:d,canvas:m,mapMatrix:y,matrix:w,map:g,allLatLngLookup:C,mapCenterPixels:B}=this,{offset:I}=h,G=g.getZoom(),U=Math.pow(2,G);return y.setSize(m.width,m.height).scaleTo(U).translateTo(-I.x+B.x,-I.y+B.y),d.clear(d.COLOR_BUFFER_BIT),d.viewport(0,0,m.width,m.height),d.uniformMatrix4fv(w,!1,y.array),d.drawArrays(d.POINTS,0,C.length),this}lookup(h){const d=h.lat+.03,m=h.lng+.03,y=[];let w,g,C,B,I,G=h.lat-.03;for(;G<=d;G+=.01)for(w=h.lng-.03;w<=m;w+=.01)if(I=G.toFixed(2)+"x"+w.toFixed(2),B=this.latLngLookup[I],B)for(g=0,C=B.length;g<C;g++)y.push(B[g]);const{map:U}=this;return _t.closest(h,y.length>0?y:this.allLatLngLookup,U)}static closest(h,d,m){return d.length<1?null:d.reduce(((y,w)=>kt(h,y.latLng,m)<kt(h,w.latLng,m)?y:w))}static tryClick(h,d,m){const y=[],w={};let g,C,B=null;if(m.forEach((V=>{B=V.settings,V.active&&V.map===d&&(C=V.lookup(h.latlng),C!==null&&(w[C.key]=V,y.push(C)))})),y.length<1||!B)return;const I=this.closest(h.latlng,y,d);if(!I)return;const G=w[I.key];if(!G)return;const{sensitivity:U}=G,at=I.latLng;return Gt(d.latLngToLayerPoint(at),h.layerPoint,I.chosenSize*(U??1))?(g=G.click(h,I.feature||I.latLng),g===void 0||g):void 0}static tryHover(h,d,m){const y=[];return m.forEach((w=>{const{sensitivityHover:g,hoveringFeatures:C}=w;if(!w.active||w.map!==d)return;const B=C,I=[];w.hoveringFeatures=I;const G=w.lookup(h.latlng);if(G){if(Gt(d.latLngToLayerPoint(G.latLng),h.layerPoint,G.chosenSize*g*30)){let U=G.feature||G.latLng;I.includes(U)||I.push(U);const at=w.hover(h,U);at!==void 0&&y.push(at)}for(let U=0;U<B.length;U++){const at=B[U];I.includes(at)||w.hoverOff(h,at)}}})),y}}_t.defaults=$t,_t.maps=[];var A=ne(570),O=ne.n(A),$=ne(670),q=ne.n($);function J(T){switch(T&&T.type||null){case"FeatureCollection":return T.features=T.features.reduce((function(h,d){return h.concat(J(d))}),[]),T;case"Feature":return T.geometry?J(T.geometry).map((function(h){var d={type:"Feature",properties:JSON.parse(JSON.stringify(T.properties)),geometry:h};return T.id!==void 0&&(d.id=T.id),d})):[T];case"MultiPoint":return T.coordinates.map((function(h){return{type:"Point",coordinates:h}}));case"MultiPolygon":return T.coordinates.map((function(h){return{type:"Polygon",coordinates:h}}));case"MultiLineString":return T.coordinates.map((function(h){return{type:"LineString",coordinates:h}}));case"GeometryCollection":return T.geometries.map(J).reduce((function(h,d){return h.concat(d)}),[]);case"Point":case"Polygon":case"LineString":return[T]}}const ut={color:wt,className:"",opacity:.5,borderOpacity:1,shaderVariables:{vertex:{type:"FLOAT",start:0,size:2},color:{type:"FLOAT",start:2,size:4}},border:!1};class K extends vt{get border(){if(typeof this.settings.border!="boolean")throw new Error(ot("settings.border"));return this.settings.border}get borderOpacity(){if(typeof this.settings.borderOpacity!="number")throw new Error(ot("settings.borderOpacity"));return this.settings.borderOpacity}constructor(h){if(super(h),this.bytes=6,this.polygonLookup=null,this.hoveringFeatures=[],this.settings={...K.defaults,...h},!h.data)throw new Error(ot("settings.data"));if(!h.map)throw new Error(ot("settings.map"));this.setup().render()}render(){this.resetVertices();const{canvas:h,gl:d,layer:m,vertices:y,mapMatrix:w}=this,g=this.getBuffer("vertex"),C=new Float32Array(y),B=C.BYTES_PER_ELEMENT,I=this.getAttributeLocation("vertex");return d.bindBuffer(d.ARRAY_BUFFER,g),d.bufferData(d.ARRAY_BUFFER,C,d.STATIC_DRAW),d.vertexAttribPointer(I,2,d.FLOAT,!1,B*this.bytes,0),d.enableVertexAttribArray(I),this.matrix=this.getUniformLocation("matrix"),d.viewport(0,0,h.width,h.height),w.setSize(h.width,h.height),d.uniformMatrix4fv(this.matrix,!1,w.array),this.attachShaderVariables(B),m.redraw(),this}resetVertices(){this.vertices=[],this.vertexLines=[],this.polygonLookup=new(q());const{vertices:h,vertexLines:d,polygonLookup:m,map:y,border:w,opacity:g,borderOpacity:C,color:B,data:I,mapCenterPixels:G}=this;let U,at,V,ct,yt,Pt,et,j,H,Ht,Et=null,jt=0;switch(I.type){case"Feature":m.loadFeatureCollection({type:"FeatureCollection",features:[I]}),V=J(I);break;case"MultiPolygon":{const me={type:"MultiPolygon",coordinates:I.coordinates};m.loadFeatureCollection({type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:me}]}),V=J(I);break}default:m.loadFeatureCollection(I),V=I.features}const Rt=V.length;if(!B)throw new Error(ot("settings.color"));for(typeof B=="function"&&(Et=B);jt<Rt;jt++){ct=V[jt],et=[],yt=Et!==null?Et(jt,ct):B;const me=typeof yt.a=="number"?yt.a:g;if(Pt=(ct.geometry||ct).coordinates,ct.geometry.type!=="MultiPolygon"&&(Pt=[Pt]),Pt.length!=0&&Array.isArray(Pt[0])&&Array.isArray(Pt[0][0]))for(let ie in Pt){H=O().flatten(Pt[ie]),j=O()(H.vertices,H.holes,H.dimensions),Ht=Pt[ie][0][0].length;const{longitudeKey:ke,latitudeKey:_e}=this;for(let Jt=0,Ue=j.length;Jt<Ue;Jt++){if(at=j[Jt],typeof H.vertices[0]!="number")throw new Error("unhandled polygon");et.push(H.vertices[at*Ht+ke],H.vertices[at*Ht+_e])}for(let Jt=0,Ue=et.length;Jt<Ue;Jt)U=y.project(new Q.LatLng(et[Jt++],et[Jt++]),0),h.push(U.x-G.x,U.y-G.y,yt.r,yt.g,yt.b,me);if(w){const Jt=[];let Ue=0;for(let Ve=1,hi=H.vertices.length-2;Ve<hi;Ve+=2)(Ve+1)/2!==H.holes[Ue]?(Jt.push(H.vertices[Ve],H.vertices[Ve-1]),Jt.push(H.vertices[Ve+2],H.vertices[Ve+1])):Ue++;for(let Ve=0,hi=Jt.length;Ve<hi;Ve)U=zt(Jt[Ve++],Jt[Ve++]),d.push(U.x-G.x,U.y-G.y,yt.r,yt.g,yt.b,C)}}}return this}removeInstance(){const h=v.shapesInstances.findIndex((d=>d.layer._leaflet_id===this.layer._leaflet_id));return h!==-1&&v.shapesInstances.splice(h,1),this}drawOnCanvas(h){if(!this.gl)return this;const{scale:d,offset:m,canvas:y}=h,{mapMatrix:w,gl:g,vertices:C,settings:B,vertexLines:I,border:G,mapCenterPixels:U}=this;if(w.setSize(y.width,y.height).scaleTo(d).translateTo(-m.x+U.x,-m.y+U.y),g.clear(g.COLOR_BUFFER_BIT),g.viewport(0,0,y.width,y.height),g.uniformMatrix4fv(this.matrix,!1,w.array),G){const at=this.getBuffer("vertexLines"),V=new Float32Array(I),ct=V.BYTES_PER_ELEMENT,yt=this.getAttributeLocation("vertex");g.bindBuffer(g.ARRAY_BUFFER,null),g.bindBuffer(g.ARRAY_BUFFER,at),g.bufferData(g.ARRAY_BUFFER,V,g.STATIC_DRAW),this.settings.shaderVariables!==null&&this.attachShaderVariables(ct),g.vertexAttribPointer(yt,3,g.FLOAT,!1,ct*this.bytes,0),g.enableVertexAttribArray(yt),g.enable(g.DEPTH_TEST),g.viewport(0,0,y.width,y.height),g.drawArrays(g.LINES,0,I.length/this.bytes);const Pt=this.getBuffer("vertex"),et=new Float32Array(C);g.bindBuffer(g.ARRAY_BUFFER,null),g.bindBuffer(g.ARRAY_BUFFER,Pt),g.bufferData(g.ARRAY_BUFFER,et,g.STATIC_DRAW),B.shaderVariables!==null&&this.attachShaderVariables(ct),g.vertexAttribPointer(yt,2,g.FLOAT,!1,ct*this.bytes,0),g.enableVertexAttribArray(yt),g.enable(g.DEPTH_TEST),g.viewport(0,0,y.width,y.height)}return g.drawArrays(g.TRIANGLES,0,C.length/this.bytes),this}static tryClick(h,d,m){let y=null,w=null;if(m.forEach((function(g){if(!g.active||g.map!==d||!g.polygonLookup)return;const C=g.polygonLookup.search(h.latlng.lng,h.latlng.lat);C&&(w=g,y=C)})),w&&y){const g=w.click(h,y);return g!==void 0?g:void 0}}static tryHover(h,d,m){const y=[];return m.forEach((function(w){const{hoveringFeatures:g}=w;if(!w.active||w.map!==d||!w.polygonLookup)return;const C=g,B=[];w.hoveringFeatures=B;const I=w.polygonLookup.search(h.latlng.lng,h.latlng.lat);if(I){B.includes(I)||B.push(I);const G=w.hover(h,I);G!==void 0&&y.push(G)}for(let G=0;G<C.length;G++){const U=C[G];B.includes(U)||w.hoverOff(h,U)}})),y}}K.defaults=ut;const Bt={vertex:`uniform mat4 matrix;
attribute vec4 vertex;
attribute vec4 color;
attribute float pointSize;
varying vec4 _color;

void main() {
  //set the size of the point
  gl_PointSize = pointSize;

  //multiply each vertex by a matrix.
  gl_Position = matrix * vertex;

  //pass the color to the fragment shader
  _color = color;
}
`,fragment:{dot:`precision mediump float;
uniform vec4 color;

void main() {
    float border = 0.05;
    float radius = 0.5;
    vec2 center = vec2(0.5);

    vec4 color0 = vec4(0.0);
    vec4 color1 = vec4(color[0], color[1], color[2], color[3]);

    vec2 m = gl_PointCoord.xy - center;
    float dist = radius - sqrt(m.x * m.x + m.y * m.y);

    float t = 0.0;
    if (dist > border) {
        t = 1.0;
    } else if (dist > 0.0) {
        t = dist / border;
    }

    //works for overlapping circles if blending is enabled
    gl_FragColor = mix(color0, color1, t);
}
`,point:`precision mediump float;
varying vec4 _color;

void main() {
  float border = 0.1;
  float radius = 0.5;
  vec2 center = vec2(0.5, 0.5);

  vec4 pointColor = vec4(
    _color[0],
    _color[1],
    _color[2],
    _color[3]
  );

  vec2 m = gl_PointCoord.xy - center;
  float dist1 = radius - sqrt(m.x * m.x + m.y * m.y);

  float t1 = 0.0;
  if (dist1 > border) {
      t1 = 1.0;
  } else if (dist1 > 0.0) {
      t1 = dist1 / border;
  }

  //works for overlapping circles if blending is enabled
  //gl_FragColor = mix(color0, color1, t);

  //border
  float outerBorder = 0.05;
  float innerBorder = 0.8;
  vec4 borderColor = vec4(0, 0, 0, 0.4);
  vec2 uv = gl_PointCoord.xy;
  vec4 clearColor = vec4(0, 0, 0, 0);

  // Offset uv with the center of the circle.
  uv -= center;

  float dist2 =  sqrt(dot(uv, uv));

  float t2 = 1.0 + smoothstep(radius, radius + outerBorder, dist2)
                - smoothstep(radius - innerBorder, radius, dist2);

  gl_FragColor = mix(mix(borderColor, clearColor, t2), pointColor, t1);
}
`,puck:`precision mediump float;
varying vec4 _color;

void main() {
  vec2 center = vec2(0.5);
  vec2 uv = gl_PointCoord.xy - center;
  float smoothing = 0.005;
  vec4 _color1 = vec4(_color[0], _color[1], _color[2], _color[3]);
  float radius1 = 0.3;
  vec4 _color2 = vec4(_color[0], _color[1], _color[2], _color[3]);
  float radius2 = 0.5;
  float dist = length(uv);

  //SMOOTH
  float gamma = 2.2;
  color1.rgb = pow(_color1.rgb, vec3(gamma));
  color2.rgb = pow(_color2.rgb, vec3(gamma));

  vec4 puck = mix(
    mix(
      _color1,
      _color2,
      smoothstep(
        radius1 - smoothing,
        radius1 + smoothing,
        dist
      )
    ),
    vec4(0,0,0,0),
      smoothstep(
        radius2 - smoothing,
        radius2 + smoothing,
        dist
    )
  );

  //Gamma correction (prevents color fringes)
  puck.rgb = pow(puck.rgb, vec3(1.0 / gamma));
  gl_FragColor = puck;
}
`,simpleCircle:`precision mediump float;
varying vec4 _color;

void main() {
    vec4 color1 = vec4(_color[0], _color[1], _color[2], _color[3]);

    //simple circles
    float d = distance (gl_PointCoord, vec2(0.5, 0.5));
    if (d < 0.5 ){
        gl_FragColor = color1;
    } else {
        discard;
    }
}
`,square:`precision mediump float;
varying vec4 _color;

void main() {
    //squares
    gl_FragColor = vec4(_color[0], _color[1], _color[2], _color[3]);
}
`,polygon:`precision mediump float;
varying vec4 _color;

void main() {
  gl_FragColor = vec4(
    _color[0],
    _color[1],
    _color[2],
    _color[3]
  );
}
`}};class gt{constructor(){this.longitudeKey=1,this.latitudeKey=0,this.clickSetupMaps=[],this.hoverSetupMaps=[],this.shader=Bt,this.Points=_t,this.Shapes=K,this.Lines=Ft,this.pointsInstances=[],this.shapesInstances=[],this.linesInstances=[]}longitudeFirst(){return this.longitudeKey=0,this.latitudeKey=1,this}latitudeFirst(){return this.latitudeKey=0,this.longitudeKey=1,this}get instances(){return[...this.pointsInstances,...this.linesInstances,...this.shapesInstances]}points(h){const d=new this.Points({setupClick:this.setupClick.bind(this),setupHover:this.setupHover.bind(this),latitudeKey:Wt.latitudeKey,longitudeKey:Wt.longitudeKey,vertexShaderSource:()=>this.shader.vertex,fragmentShaderSource:()=>this.shader.fragment.point,...h});return this.pointsInstances.push(d),d}lines(h){const d=new this.Lines({setupClick:this.setupClick.bind(this),setupHover:this.setupHover.bind(this),latitudeKey:this.latitudeKey,longitudeKey:this.longitudeKey,vertexShaderSource:()=>this.shader.vertex,fragmentShaderSource:()=>this.shader.fragment.polygon,...h});return this.linesInstances.push(d),d}shapes(h){const d=new this.Shapes({setupClick:this.setupClick.bind(this),setupHover:this.setupHover.bind(this),latitudeKey:this.latitudeKey,longitudeKey:this.longitudeKey,vertexShaderSource:()=>this.shader.vertex,fragmentShaderSource:()=>this.shader.fragment.polygon,...h});return this.shapesInstances.push(d),d}setupClick(h){this.clickSetupMaps.includes(h)||(this.clickSetupMaps.push(h),h.on("click",(d=>{let m;return m=this.Points.tryClick(d,h,this.pointsInstances),m!==void 0?m:(m=this.Lines.tryClick(d,h,this.linesInstances),m!==void 0?m:(m=this.Shapes.tryClick(d,h,this.shapesInstances),m!==void 0?m:void 0))})))}setupHover(h,d,m){this.hoverSetupMaps.includes(h)||(this.hoverSetupMaps.push(h),h.on("mousemove",(function(y,w,g){let C=null;return function(B){const I=g&&!C;C!==null&&clearTimeout(C),C=setTimeout((function(){C=null,g||y(B)}),w),I&&y(B)}})((y=>{this.Points.tryHover(y,h,this.pointsInstances),this.Lines.tryHover(y,h,this.linesInstances),this.Shapes.tryHover(y,h,this.shapesInstances)}),d??0,m)))}}const Wt=new gt,v=Wt;typeof window<"u"&&window.L&&(window.L.glify=Wt,window.L.Glify=gt)})(),Xt})()))})(Pa)),Pa.exports}jl();delete Ma.Icon.Default.prototype._getIconUrl;Ma.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"});const Ul=({config:Ct,data:Ot})=>{const k=Fl(),Zt=Te.useRef(null);return Te.useEffect(()=>{if(!k)return;Zt.current&&k.removeLayer(Zt.current);const mt=Ct.params?.latitude,ne=Ct.params?.longitude;if(!mt||!ne){console.error("MapWidget: latitudeColumn or longitudeColumn not provided in config.params");return}const Xt=Ot.map(Q=>({latitude:parseFloat(Q[mt]),longitude:parseFloat(Q[ne])})).filter(Q=>!isNaN(Q.latitude)&&!isNaN(Q.longitude));if(Ot.length>0)debugger;if(Xt.length!==0){if(Zt.current=Ma.glify.points({map:k,data:Xt.map(Q=>[Q.latitude,Q.longitude]),color:"red",size:5,opacity:.7}).addTo(k),Xt.length>0){const Q=Xt.map(it=>[it.latitude,it.longitude]);k.fitBounds(Q)}return()=>{Zt.current&&k.removeLayer(Zt.current)}}},[k,Ct,Ot]),null};function Yl({config:Ct,data:Ot}){const{tableVersion:k}=Ml();return La.jsxs(Wl,{center:[0,0],zoom:2,style:{height:"500px",width:"100%"},children:[La.jsx(Hl,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),La.jsx(Ul,{config:Ct,data:Ot},"map-"+k)]},"map-"+k)}export{Yl as MapWidget};
