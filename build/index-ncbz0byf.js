var Pe0=Object.create;var{getPrototypeOf:ke0,defineProperty:OR,getOwnPropertyNames:rJ0,getOwnPropertyDescriptor:je0}=Object,iJ0=Object.prototype.hasOwnProperty;var r1=($,Q,J)=>{J=$!=null?Pe0(ke0($)):{};let K=Q||!$||!$.__esModule?OR(J,"default",{value:$,enumerable:!0}):J;for(let Y of rJ0($))if(!iJ0.call(K,Y))OR(K,Y,{get:()=>$[Y],enumerable:!0});return K},lJ0=new WeakMap,F3=($)=>{var Q=lJ0.get($),J;if(Q)return Q;if(Q=OR({},"__esModule",{value:!0}),$&&typeof $==="object"||typeof $==="function")rJ0($).map((K)=>!iJ0.call(Q,K)&&OR(Q,K,{get:()=>$[K],enumerable:!(J=je0($,K))||J.enumerable}));return lJ0.set($,Q),Q},C0=($,Q)=>()=>(Q||$((Q={exports:{}}).exports,Q),Q.exports);var OQ=($,Q)=>{for(var J in Q)OR($,J,{get:Q[J],enumerable:!0,configurable:!0,set:(K)=>Q[J]=()=>K})};var h=($,Q)=>()=>($&&(Q=$($=0)),Q);var z7=C0((Ee0,SP)=>{(function(){function $(d,A0){Object.defineProperty(K.prototype,d,{get:function(){console.warn("%s(...) is deprecated in plain JavaScript React classes. %s",A0[0],A0[1])}})}function Q(d){if(d===null||typeof d!=="object")return null;return d=e0&&d[e0]||d["@@iterator"],typeof d==="function"?d:null}function J(d,A0){d=(d=d.constructor)&&(d.displayName||d.name)||"ReactClass";var Q1=d+"."+A0;P1[Q1]||(console.error("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",A0,d),P1[Q1]=!0)}function K(d,A0,Q1){this.props=d,this.context=A0,this.refs=V5,this.updater=Q1||t0}function Y(){}function Z(d,A0,Q1){this.props=d,this.context=A0,this.refs=V5,this.updater=Q1||t0}function q(d){return""+d}function X(d){try{q(d);var A0=!1}catch(v1){A0=!0}if(A0){A0=console;var Q1=A0.error,$1=typeof Symbol==="function"&&Symbol.toStringTag&&d[Symbol.toStringTag]||d.constructor.name||"Object";return Q1.call(A0,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",$1),q(d)}}function W(d){if(d==null)return null;if(typeof d==="function")return d.$$typeof===d6?null:d.displayName||d.name||null;if(typeof d==="string")return d;switch(d){case t:return"Fragment";case Q0:return"Profiler";case r:return"StrictMode";case d0:return"Suspense";case W1:return"SuspenseList";case B1:return"Activity"}if(typeof d==="object")switch(typeof d.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),d.$$typeof){case o:return"Portal";case W0:return(d.displayName||"Context")+".Provider";case F0:return(d._context.displayName||"Context")+".Consumer";case h0:var A0=d.render;return d=d.displayName,d||(d=A0.displayName||A0.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case z1:return A0=d.displayName||null,A0!==null?A0:W(d.type)||"Memo";case b1:A0=d._payload,d=d._init;try{return W(d(A0))}catch(Q1){}}return null}function F(d){if(d===t)return"<>";if(typeof d==="object"&&d!==null&&d.$$typeof===b1)return"<...>";try{var A0=W(d);return A0?"<"+A0+">":"<...>"}catch(Q1){return"<...>"}}function H(){var d=x1.A;return d===null?null:d.getOwner()}function B(){return Error("react-stack-top-frame")}function z(d){if(b7.call(d,"key")){var A0=Object.getOwnPropertyDescriptor(d,"key").get;if(A0&&A0.isReactWarning)return!1}return d.key!==void 0}function A(d,A0){function Q1(){u3||(u3=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",A0))}Q1.isReactWarning=!0,Object.defineProperty(d,"key",{get:Q1,configurable:!0})}function R(){var d=W(this.type);return lZ[d]||(lZ[d]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),d=this.props.ref,d!==void 0?d:null}function G(d,A0,Q1,$1,v1,R5,W5,Q6){return Q1=R5.ref,d={$$typeof:p,type:d,key:A0,props:R5,_owner:v1},(Q1!==void 0?Q1:null)!==null?Object.defineProperty(d,"ref",{enumerable:!1,get:R}):Object.defineProperty(d,"ref",{enumerable:!1,value:null}),d._store={},Object.defineProperty(d._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(d,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(d,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:W5}),Object.defineProperty(d,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:Q6}),Object.freeze&&(Object.freeze(d.props),Object.freeze(d)),d}function O(d,A0){return A0=G(d.type,A0,void 0,void 0,d._owner,d.props,d._debugStack,d._debugTask),d._store&&(A0._store.validated=d._store.validated),A0}function T(d){return typeof d==="object"&&d!==null&&d.$$typeof===p}function D(d){var A0={"=":"=0",":":"=2"};return"$"+d.replace(/[=:]/g,function(Q1){return A0[Q1]})}function P(d,A0){return typeof d==="object"&&d!==null&&d.key!=null?(X(d.key),D(""+d.key)):A0.toString(36)}function j(){}function E(d){switch(d.status){case"fulfilled":return d.value;case"rejected":throw d.reason;default:switch(typeof d.status==="string"?d.then(j,j):(d.status="pending",d.then(function(A0){d.status==="pending"&&(d.status="fulfilled",d.value=A0)},function(A0){d.status==="pending"&&(d.status="rejected",d.reason=A0)})),d.status){case"fulfilled":return d.value;case"rejected":throw d.reason}}throw d}function L(d,A0,Q1,$1,v1){var R5=typeof d;if(R5==="undefined"||R5==="boolean")d=null;var W5=!1;if(d===null)W5=!0;else switch(R5){case"bigint":case"string":case"number":W5=!0;break;case"object":switch(d.$$typeof){case p:case o:W5=!0;break;case b1:return W5=d._init,L(W5(d._payload),A0,Q1,$1,v1)}}if(W5){W5=d,v1=v1(W5);var Q6=$1===""?"."+P(W5,0):$1;return T5(v1)?(Q1="",Q6!=null&&(Q1=Q6.replace(FH,"$&/")+"/"),L(v1,A0,Q1,"",function(a9){return a9})):v1!=null&&(T(v1)&&(v1.key!=null&&(W5&&W5.key===v1.key||X(v1.key)),Q1=O(v1,Q1+(v1.key==null||W5&&W5.key===v1.key?"":(""+v1.key).replace(FH,"$&/")+"/")+Q6),$1!==""&&W5!=null&&T(W5)&&W5.key==null&&W5._store&&!W5._store.validated&&(Q1._store.validated=2),v1=Q1),A0.push(v1)),1}if(W5=0,Q6=$1===""?".":$1+":",T5(d))for(var j5=0;j5<d.length;j5++)$1=d[j5],R5=Q6+P($1,j5),W5+=L($1,A0,Q1,R5,v1);else if(j5=Q(d),typeof j5==="function")for(j5===d.entries&&(iA||console.warn("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),iA=!0),d=j5.call(d),j5=0;!($1=d.next()).done;)$1=$1.value,R5=Q6+P($1,j5++),W5+=L($1,A0,Q1,R5,v1);else if(R5==="object"){if(typeof d.then==="function")return L(E(d),A0,Q1,$1,v1);throw A0=String(d),Error("Objects are not valid as a React child (found: "+(A0==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":A0)+"). If you meant to render a collection of children, use an array instead.")}return W5}function v(d,A0,Q1){if(d==null)return d;var $1=[],v1=0;return L(d,$1,"","",function(R5){return A0.call(Q1,R5,v1++)}),$1}function f(d){if(d._status===-1){var A0=d._result;A0=A0(),A0.then(function(Q1){if(d._status===0||d._status===-1)d._status=1,d._result=Q1},function(Q1){if(d._status===0||d._status===-1)d._status=2,d._result=Q1}),d._status===-1&&(d._status=0,d._result=A0)}if(d._status===1)return A0=d._result,A0===void 0&&console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,A0),"default"in A0||console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,A0),A0.default;throw d._result}function _(){var d=x1.H;return d===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),d}function M(){}function b(d){if(rZ===null)try{var A0=("require"+Math.random()).slice(0,7);rZ=(SP&&SP[A0]).call(SP,"timers").setImmediate}catch(Q1){rZ=function($1){oA===!1&&(oA=!0,typeof MessageChannel>"u"&&console.error("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var v1=new MessageChannel;v1.port1.onmessage=$1,v1.port2.postMessage(void 0)}}return rZ(d)}function x(d){return 1<d.length&&typeof AggregateError==="function"?AggregateError(d):d[0]}function g(d,A0){A0!==f2-1&&console.error("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),f2=A0}function m(d,A0,Q1){var $1=x1.actQueue;if($1!==null)if($1.length!==0)try{u($1),b(function(){return m(d,A0,Q1)});return}catch(v1){x1.thrownErrors.push(v1)}else x1.actQueue=null;0<x1.thrownErrors.length?($1=x(x1.thrownErrors),x1.thrownErrors.length=0,Q1($1)):A0(d)}function u(d){if(!I2){I2=!0;var A0=0;try{for(;A0<d.length;A0++){var Q1=d[A0];do{x1.didUsePromise=!1;var $1=Q1(!1);if($1!==null){if(x1.didUsePromise){d[A0]=Q1,d.splice(0,A0);return}Q1=$1}else break}while(1)}d.length=0}catch(v1){d.splice(0,A0+1),x1.thrownErrors.push(v1)}finally{I2=!1}}}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var p=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),Q0=Symbol.for("react.profiler"),F0=Symbol.for("react.consumer"),W0=Symbol.for("react.context"),h0=Symbol.for("react.forward_ref"),d0=Symbol.for("react.suspense"),W1=Symbol.for("react.suspense_list"),z1=Symbol.for("react.memo"),b1=Symbol.for("react.lazy"),B1=Symbol.for("react.activity"),e0=Symbol.iterator,P1={},t0={isMounted:function(){return!1},enqueueForceUpdate:function(d){J(d,"forceUpdate")},enqueueReplaceState:function(d){J(d,"replaceState")},enqueueSetState:function(d){J(d,"setState")}},w1=Object.assign,V5={};Object.freeze(V5),K.prototype.isReactComponent={},K.prototype.setState=function(d,A0){if(typeof d!=="object"&&typeof d!=="function"&&d!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,d,A0,"setState")},K.prototype.forceUpdate=function(d){this.updater.enqueueForceUpdate(this,d,"forceUpdate")};var g1={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},w5;for(w5 in g1)g1.hasOwnProperty(w5)&&$(w5,g1[w5]);Y.prototype=K.prototype,g1=Z.prototype=new Y,g1.constructor=Z,w1(g1,K.prototype),g1.isPureReactComponent=!0;var T5=Array.isArray,d6=Symbol.for("react.client.reference"),x1={H:null,A:null,T:null,S:null,V:null,actQueue:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1,didUsePromise:!1,thrownErrors:[],getCurrentStack:null,recentlyCreatedOwnerStacks:0},b7=Object.prototype.hasOwnProperty,o9=console.createTask?console.createTask:function(){return null};g1={react_stack_bottom_frame:function(d){return d()}};var u3,TJ,lZ={},iM=g1.react_stack_bottom_frame.bind(g1,B)(),MD=o9(F(B)),iA=!1,FH=/\/+/g,sA=typeof reportError==="function"?reportError:function(d){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var A0=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d==="object"&&d!==null&&typeof d.message==="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(A0))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",d);return}console.error(d)},oA=!1,rZ=null,f2=0,UH=!1,I2=!1,qY=typeof queueMicrotask==="function"?function(d){queueMicrotask(function(){return queueMicrotask(d)})}:b;g1=Object.freeze({__proto__:null,c:function(d){return _().useMemoCache(d)}}),Ee0.Children={map:v,forEach:function(d,A0,Q1){v(d,function(){A0.apply(this,arguments)},Q1)},count:function(d){var A0=0;return v(d,function(){A0++}),A0},toArray:function(d){return v(d,function(A0){return A0})||[]},only:function(d){if(!T(d))throw Error("React.Children.only expected to receive a single React element child.");return d}},Ee0.Component=K,Ee0.Fragment=t,Ee0.Profiler=Q0,Ee0.PureComponent=Z,Ee0.StrictMode=r,Ee0.Suspense=d0,Ee0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x1,Ee0.__COMPILER_RUNTIME=g1,Ee0.act=function(d){var A0=x1.actQueue,Q1=f2;f2++;var $1=x1.actQueue=A0!==null?A0:[],v1=!1;try{var R5=d()}catch(j5){x1.thrownErrors.push(j5)}if(0<x1.thrownErrors.length)throw g(A0,Q1),d=x(x1.thrownErrors),x1.thrownErrors.length=0,d;if(R5!==null&&typeof R5==="object"&&typeof R5.then==="function"){var W5=R5;return qY(function(){v1||UH||(UH=!0,console.error("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),{then:function(j5,a9){v1=!0,W5.then(function(WQ){if(g(A0,Q1),Q1===0){try{u($1),b(function(){return m(WQ,j5,a9)})}catch(bD){x1.thrownErrors.push(bD)}if(0<x1.thrownErrors.length){var FQ=x(x1.thrownErrors);x1.thrownErrors.length=0,a9(FQ)}}else j5(WQ)},function(WQ){g(A0,Q1),0<x1.thrownErrors.length?(WQ=x(x1.thrownErrors),x1.thrownErrors.length=0,a9(WQ)):a9(WQ)})}}}var Q6=R5;if(g(A0,Q1),Q1===0&&(u($1),$1.length!==0&&qY(function(){v1||UH||(UH=!0,console.error("A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"))}),x1.actQueue=null),0<x1.thrownErrors.length)throw d=x(x1.thrownErrors),x1.thrownErrors.length=0,d;return{then:function(j5,a9){v1=!0,Q1===0?(x1.actQueue=$1,b(function(){return m(Q6,j5,a9)})):j5(Q6)}}},Ee0.cache=function(d){return function(){return d.apply(null,arguments)}},Ee0.captureOwnerStack=function(){var d=x1.getCurrentStack;return d===null?null:d()},Ee0.cloneElement=function(d,A0,Q1){if(d===null||d===void 0)throw Error("The argument must be a React element, but you passed "+d+".");var $1=w1({},d.props),v1=d.key,R5=d._owner;if(A0!=null){var W5;$:{if(b7.call(A0,"ref")&&(W5=Object.getOwnPropertyDescriptor(A0,"ref").get)&&W5.isReactWarning){W5=!1;break $}W5=A0.ref!==void 0}W5&&(R5=H()),z(A0)&&(X(A0.key),v1=""+A0.key);for(Q6 in A0)!b7.call(A0,Q6)||Q6==="key"||Q6==="__self"||Q6==="__source"||Q6==="ref"&&A0.ref===void 0||($1[Q6]=A0[Q6])}var Q6=arguments.length-2;if(Q6===1)$1.children=Q1;else if(1<Q6){W5=Array(Q6);for(var j5=0;j5<Q6;j5++)W5[j5]=arguments[j5+2];$1.children=W5}$1=G(d.type,v1,void 0,void 0,R5,$1,d._debugStack,d._debugTask);for(v1=2;v1<arguments.length;v1++)R5=arguments[v1],T(R5)&&R5._store&&(R5._store.validated=1);return $1},Ee0.createContext=function(d){return d={$$typeof:W0,_currentValue:d,_currentValue2:d,_threadCount:0,Provider:null,Consumer:null},d.Provider=d,d.Consumer={$$typeof:F0,_context:d},d._currentRenderer=null,d._currentRenderer2=null,d},Ee0.createElement=function(d,A0,Q1){for(var $1=2;$1<arguments.length;$1++){var v1=arguments[$1];T(v1)&&v1._store&&(v1._store.validated=1)}if($1={},v1=null,A0!=null)for(j5 in TJ||!("__self"in A0)||"key"in A0||(TJ=!0,console.warn("Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform")),z(A0)&&(X(A0.key),v1=""+A0.key),A0)b7.call(A0,j5)&&j5!=="key"&&j5!=="__self"&&j5!=="__source"&&($1[j5]=A0[j5]);var R5=arguments.length-2;if(R5===1)$1.children=Q1;else if(1<R5){for(var W5=Array(R5),Q6=0;Q6<R5;Q6++)W5[Q6]=arguments[Q6+2];Object.freeze&&Object.freeze(W5),$1.children=W5}if(d&&d.defaultProps)for(j5 in R5=d.defaultProps,R5)$1[j5]===void 0&&($1[j5]=R5[j5]);v1&&A($1,typeof d==="function"?d.displayName||d.name||"Unknown":d);var j5=1e4>x1.recentlyCreatedOwnerStacks++;return G(d,v1,void 0,void 0,H(),$1,j5?Error("react-stack-top-frame"):iM,j5?o9(F(d)):MD)},Ee0.createRef=function(){var d={current:null};return Object.seal(d),d},Ee0.forwardRef=function(d){d!=null&&d.$$typeof===z1?console.error("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof d!=="function"?console.error("forwardRef requires a render function but was given %s.",d===null?"null":typeof d):d.length!==0&&d.length!==2&&console.error("forwardRef render functions accept exactly two parameters: props and ref. %s",d.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),d!=null&&d.defaultProps!=null&&console.error("forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?");var A0={$$typeof:h0,render:d},Q1;return Object.defineProperty(A0,"displayName",{enumerable:!1,configurable:!0,get:function(){return Q1},set:function($1){Q1=$1,d.name||d.displayName||(Object.defineProperty(d,"name",{value:$1}),d.displayName=$1)}}),A0},Ee0.isValidElement=T,Ee0.lazy=function(d){return{$$typeof:b1,_payload:{_status:-1,_result:d},_init:f}},Ee0.memo=function(d,A0){d==null&&console.error("memo: The first argument must be a component. Instead received: %s",d===null?"null":typeof d),A0={$$typeof:z1,type:d,compare:A0===void 0?null:A0};var Q1;return Object.defineProperty(A0,"displayName",{enumerable:!1,configurable:!0,get:function(){return Q1},set:function($1){Q1=$1,d.name||d.displayName||(Object.defineProperty(d,"name",{value:$1}),d.displayName=$1)}}),A0},Ee0.startTransition=function(d){var A0=x1.T,Q1={};x1.T=Q1,Q1._updatedFibers=new Set;try{var $1=d(),v1=x1.S;v1!==null&&v1(Q1,$1),typeof $1==="object"&&$1!==null&&typeof $1.then==="function"&&$1.then(M,sA)}catch(R5){sA(R5)}finally{A0===null&&Q1._updatedFibers&&(d=Q1._updatedFibers.size,Q1._updatedFibers.clear(),10<d&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.")),x1.T=A0}},Ee0.unstable_useCacheRefresh=function(){return _().useCacheRefresh()},Ee0.use=function(d){return _().use(d)},Ee0.useActionState=function(d,A0,Q1){return _().useActionState(d,A0,Q1)},Ee0.useCallback=function(d,A0){return _().useCallback(d,A0)},Ee0.useContext=function(d){var A0=_();return d.$$typeof===F0&&console.error("Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"),A0.useContext(d)},Ee0.useDebugValue=function(d,A0){return _().useDebugValue(d,A0)},Ee0.useDeferredValue=function(d,A0){return _().useDeferredValue(d,A0)},Ee0.useEffect=function(d,A0,Q1){d==null&&console.warn("React Hook useEffect requires an effect callback. Did you forget to pass a callback to the hook?");var $1=_();if(typeof Q1==="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $1.useEffect(d,A0)},Ee0.useId=function(){return _().useId()},Ee0.useImperativeHandle=function(d,A0,Q1){return _().useImperativeHandle(d,A0,Q1)},Ee0.useInsertionEffect=function(d,A0){return d==null&&console.warn("React Hook useInsertionEffect requires an effect callback. Did you forget to pass a callback to the hook?"),_().useInsertionEffect(d,A0)},Ee0.useLayoutEffect=function(d,A0){return d==null&&console.warn("React Hook useLayoutEffect requires an effect callback. Did you forget to pass a callback to the hook?"),_().useLayoutEffect(d,A0)},Ee0.useMemo=function(d,A0){return _().useMemo(d,A0)},Ee0.useOptimistic=function(d,A0){return _().useOptimistic(d,A0)},Ee0.useReducer=function(d,A0,Q1){return _().useReducer(d,A0,Q1)},Ee0.useRef=function(d){return _().useRef(d)},Ee0.useState=function(d){return _().useState(d)},Ee0.useSyncExternalStore=function(d,A0,Q1){return _().useSyncExternalStore(d,A0,Q1)},Ee0.useTransition=function(){return _().useTransition()},Ee0.version="19.1.1",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var sJ0=C0((Le0)=>{(function(){function $(){if(j=!1,f){var u=Le0.unstable_now();b=u;var p=!0;try{$:{D=!1,P&&(P=!1,L(_),_=-1),T=!0;var o=O;try{Q:{Z(u);for(G=J(z);G!==null&&!(G.expirationTime>u&&X());){var t=G.callback;if(typeof t==="function"){G.callback=null,O=G.priorityLevel;var r=t(G.expirationTime<=u);if(u=Le0.unstable_now(),typeof r==="function"){G.callback=r,Z(u),p=!0;break Q}G===J(z)&&K(z),Z(u)}else K(z);G=J(z)}if(G!==null)p=!0;else{var Q0=J(A);Q0!==null&&W(q,Q0.startTime-u),p=!1}}break $}finally{G=null,O=o,T=!1}p=void 0}}finally{p?x():f=!1}}}function Q(u,p){var o=u.length;u.push(p);$:for(;0<o;){var t=o-1>>>1,r=u[t];if(0<Y(r,p))u[t]=p,u[o]=r,o=t;else break $}}function J(u){return u.length===0?null:u[0]}function K(u){if(u.length===0)return null;var p=u[0],o=u.pop();if(o!==p){u[0]=o;$:for(var t=0,r=u.length,Q0=r>>>1;t<Q0;){var F0=2*(t+1)-1,W0=u[F0],h0=F0+1,d0=u[h0];if(0>Y(W0,o))h0<r&&0>Y(d0,W0)?(u[t]=d0,u[h0]=o,t=h0):(u[t]=W0,u[F0]=o,t=F0);else if(h0<r&&0>Y(d0,o))u[t]=d0,u[h0]=o,t=h0;else break $}}return p}function Y(u,p){var o=u.sortIndex-p.sortIndex;return o!==0?o:u.id-p.id}function Z(u){for(var p=J(A);p!==null;){if(p.callback===null)K(A);else if(p.startTime<=u)K(A),p.sortIndex=p.expirationTime,Q(z,p);else break;p=J(A)}}function q(u){if(P=!1,Z(u),!D)if(J(z)!==null)D=!0,f||(f=!0,x());else{var p=J(A);p!==null&&W(q,p.startTime-u)}}function X(){return j?!0:Le0.unstable_now()-b<M?!1:!0}function W(u,p){_=E(function(){u(Le0.unstable_now())},p)}if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error()),Le0.unstable_now=void 0,typeof performance==="object"&&typeof performance.now==="function"){var F=performance;Le0.unstable_now=function(){return F.now()}}else{var H=Date,B=H.now();Le0.unstable_now=function(){return H.now()-B}}var z=[],A=[],R=1,G=null,O=3,T=!1,D=!1,P=!1,j=!1,E=typeof setTimeout==="function"?setTimeout:null,L=typeof clearTimeout==="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null,f=!1,_=-1,M=5,b=-1;if(typeof v==="function")var x=function(){v($)};else if(typeof MessageChannel<"u"){var g=new MessageChannel,m=g.port2;g.port1.onmessage=$,x=function(){m.postMessage(null)}}else x=function(){E($,0)};Le0.unstable_IdlePriority=5,Le0.unstable_ImmediatePriority=1,Le0.unstable_LowPriority=4,Le0.unstable_NormalPriority=3,Le0.unstable_Profiling=null,Le0.unstable_UserBlockingPriority=2,Le0.unstable_cancelCallback=function(u){u.callback=null},Le0.unstable_forceFrameRate=function(u){0>u||125<u?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<u?Math.floor(1000/u):5},Le0.unstable_getCurrentPriorityLevel=function(){return O},Le0.unstable_next=function(u){switch(O){case 1:case 2:case 3:var p=3;break;default:p=O}var o=O;O=p;try{return u()}finally{O=o}},Le0.unstable_requestPaint=function(){j=!0},Le0.unstable_runWithPriority=function(u,p){switch(u){case 1:case 2:case 3:case 4:case 5:break;default:u=3}var o=O;O=u;try{return p()}finally{O=o}},Le0.unstable_scheduleCallback=function(u,p,o){var t=Le0.unstable_now();switch(typeof o==="object"&&o!==null?(o=o.delay,o=typeof o==="number"&&0<o?t+o:t):o=t,u){case 1:var r=-1;break;case 2:r=250;break;case 5:r=1073741823;break;case 4:r=1e4;break;default:r=5000}return r=o+r,u={id:R++,callback:p,priorityLevel:u,startTime:o,expirationTime:r,sortIndex:-1},o>t?(u.sortIndex=o,Q(A,u),J(z)===null&&u===J(A)&&(P?(L(_),_=-1):P=!0,W(q,o-t))):(u.sortIndex=r,Q(z,u),D||T||(D=!0,f||(f=!0,x()))),u},Le0.unstable_shouldYield=X,Le0.unstable_wrapCallback=function(u){var p=O;return function(){var o=O;O=p;try{return u.apply(this,arguments)}finally{O=o}}},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var oJ0=C0((he0)=>{var Rx=r1(z7(),1);(function(){function $(){}function Q(H){return""+H}function J(H,B,z){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;try{Q(A);var R=!1}catch(G){R=!0}return R&&(console.error("The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",typeof Symbol==="function"&&Symbol.toStringTag&&A[Symbol.toStringTag]||A.constructor.name||"Object"),Q(A)),{$$typeof:W,key:A==null?null:""+A,children:H,containerInfo:B,implementation:z}}function K(H,B){if(H==="font")return"";if(typeof B==="string")return B==="use-credentials"?B:""}function Y(H){return H===null?"`null`":H===void 0?"`undefined`":H===""?"an empty string":'something with type "'+typeof H+'"'}function Z(H){return H===null?"`null`":H===void 0?"`undefined`":H===""?"an empty string":typeof H==="string"?JSON.stringify(H):typeof H==="number"?"`"+H+"`":'something with type "'+typeof H+'"'}function q(){var H=F.H;return H===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),H}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var X={d:{f:$,r:function(){throw Error("Invalid form element. requestFormReset must be passed a form that was rendered by React.")},D:$,C:$,L:$,m:$,X:$,S:$,M:$},p:0,findDOMNode:null},W=Symbol.for("react.portal"),F=Rx.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;typeof Map==="function"&&Map.prototype!=null&&typeof Map.prototype.forEach==="function"&&typeof Set==="function"&&Set.prototype!=null&&typeof Set.prototype.clear==="function"&&typeof Set.prototype.forEach==="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),he0.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,he0.createPortal=function(H,B){var z=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!B||B.nodeType!==1&&B.nodeType!==9&&B.nodeType!==11)throw Error("Target container is not a DOM element.");return J(H,B,null,z)},he0.flushSync=function(H){var B=F.T,z=X.p;try{if(F.T=null,X.p=2,H)return H()}finally{F.T=B,X.p=z,X.d.f()&&console.error("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task.")}},he0.preconnect=function(H,B){typeof H==="string"&&H?B!=null&&typeof B!=="object"?console.error("ReactDOM.preconnect(): Expected the `options` argument (second) to be an object but encountered %s instead. The only supported option at this time is `crossOrigin` which accepts a string.",Z(B)):B!=null&&typeof B.crossOrigin!=="string"&&console.error("ReactDOM.preconnect(): Expected the `crossOrigin` option (second argument) to be a string but encountered %s instead. Try removing this option or passing a string value instead.",Y(B.crossOrigin)):console.error("ReactDOM.preconnect(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",Y(H)),typeof H==="string"&&(B?(B=B.crossOrigin,B=typeof B==="string"?B==="use-credentials"?B:"":void 0):B=null,X.d.C(H,B))},he0.prefetchDNS=function(H){if(typeof H!=="string"||!H)console.error("ReactDOM.prefetchDNS(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",Y(H));else if(1<arguments.length){var B=arguments[1];typeof B==="object"&&B.hasOwnProperty("crossOrigin")?console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. It looks like the you are attempting to set a crossOrigin property for this DNS lookup hint. Browsers do not perform DNS queries using CORS and setting this attribute on the resource hint has no effect. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",Z(B)):console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",Z(B))}typeof H==="string"&&X.d.D(H)},he0.preinit=function(H,B){if(typeof H==="string"&&H?B==null||typeof B!=="object"?console.error("ReactDOM.preinit(): Expected the `options` argument (second) to be an object with an `as` property describing the type of resource to be preinitialized but encountered %s instead.",Z(B)):B.as!=="style"&&B.as!=="script"&&console.error('ReactDOM.preinit(): Expected the `as` property in the `options` argument (second) to contain a valid value describing the type of resource to be preinitialized but encountered %s instead. Valid values for `as` are "style" and "script".',Z(B.as)):console.error("ReactDOM.preinit(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",Y(H)),typeof H==="string"&&B&&typeof B.as==="string"){var z=B.as,A=K(z,B.crossOrigin),R=typeof B.integrity==="string"?B.integrity:void 0,G=typeof B.fetchPriority==="string"?B.fetchPriority:void 0;z==="style"?X.d.S(H,typeof B.precedence==="string"?B.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:G}):z==="script"&&X.d.X(H,{crossOrigin:A,integrity:R,fetchPriority:G,nonce:typeof B.nonce==="string"?B.nonce:void 0})}},he0.preinitModule=function(H,B){var z="";if(typeof H==="string"&&H||(z+=" The `href` argument encountered was "+Y(H)+"."),B!==void 0&&typeof B!=="object"?z+=" The `options` argument encountered was "+Y(B)+".":B&&("as"in B)&&B.as!=="script"&&(z+=" The `as` option encountered was "+Z(B.as)+"."),z)console.error("ReactDOM.preinitModule(): Expected up to two arguments, a non-empty `href` string and, optionally, an `options` object with a valid `as` property.%s",z);else switch(z=B&&typeof B.as==="string"?B.as:"script",z){case"script":break;default:z=Z(z),console.error('ReactDOM.preinitModule(): Currently the only supported "as" type for this function is "script" but received "%s" instead. This warning was generated for `href` "%s". In the future other module types will be supported, aligning with the import-attributes proposal. Learn more here: (https://github.com/tc39/proposal-import-attributes)',z,H)}if(typeof H==="string")if(typeof B==="object"&&B!==null){if(B.as==null||B.as==="script")z=K(B.as,B.crossOrigin),X.d.M(H,{crossOrigin:z,integrity:typeof B.integrity==="string"?B.integrity:void 0,nonce:typeof B.nonce==="string"?B.nonce:void 0})}else B==null&&X.d.M(H)},he0.preload=function(H,B){var z="";if(typeof H==="string"&&H||(z+=" The `href` argument encountered was "+Y(H)+"."),B==null||typeof B!=="object"?z+=" The `options` argument encountered was "+Y(B)+".":typeof B.as==="string"&&B.as||(z+=" The `as` option encountered was "+Y(B.as)+"."),z&&console.error('ReactDOM.preload(): Expected two arguments, a non-empty `href` string and an `options` object with an `as` property valid for a `<link rel="preload" as="..." />` tag.%s',z),typeof H==="string"&&typeof B==="object"&&B!==null&&typeof B.as==="string"){z=B.as;var A=K(z,B.crossOrigin);X.d.L(H,z,{crossOrigin:A,integrity:typeof B.integrity==="string"?B.integrity:void 0,nonce:typeof B.nonce==="string"?B.nonce:void 0,type:typeof B.type==="string"?B.type:void 0,fetchPriority:typeof B.fetchPriority==="string"?B.fetchPriority:void 0,referrerPolicy:typeof B.referrerPolicy==="string"?B.referrerPolicy:void 0,imageSrcSet:typeof B.imageSrcSet==="string"?B.imageSrcSet:void 0,imageSizes:typeof B.imageSizes==="string"?B.imageSizes:void 0,media:typeof B.media==="string"?B.media:void 0})}},he0.preloadModule=function(H,B){var z="";typeof H==="string"&&H||(z+=" The `href` argument encountered was "+Y(H)+"."),B!==void 0&&typeof B!=="object"?z+=" The `options` argument encountered was "+Y(B)+".":B&&("as"in B)&&typeof B.as!=="string"&&(z+=" The `as` option encountered was "+Y(B.as)+"."),z&&console.error('ReactDOM.preloadModule(): Expected two arguments, a non-empty `href` string and, optionally, an `options` object with an `as` property valid for a `<link rel="modulepreload" as="..." />` tag.%s',z),typeof H==="string"&&(B?(z=K(B.as,B.crossOrigin),X.d.m(H,{as:typeof B.as==="string"&&B.as!=="script"?B.as:void 0,crossOrigin:z,integrity:typeof B.integrity==="string"?B.integrity:void 0})):X.d.m(H))},he0.requestFormReset=function(H){X.d.r(H)},he0.unstable_batchedUpdates=function(H,B){return H(B)},he0.useFormState=function(H,B,z){return q().useFormState(H,B,z)},he0.useFormStatus=function(){return q().useHostTransitionStatus()},he0.version="19.1.1",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var tJ0=C0((rM1,aJ0)=>{var ve0=r1(oJ0(),1);aJ0.exports=ve0});var eJ0=C0((Se0)=>{var e5=r1(sJ0(),1),HN=r1(z7(),1),Gx=r1(tJ0(),1);(function(){function $(U,N){for(U=U.memoizedState;U!==null&&0<N;)U=U.next,N--;return U}function Q(U,N,V,w){if(V>=N.length)return w;var C=N[V],k=y8(U)?U.slice():E5({},U);return k[C]=Q(U[C],N,V+1,w),k}function J(U,N,V){if(N.length!==V.length)console.warn("copyWithRename() expects paths of the same length");else{for(var w=0;w<V.length-1;w++)if(N[w]!==V[w]){console.warn("copyWithRename() expects paths to be the same except for the deepest key");return}return K(U,N,V,0)}}function K(U,N,V,w){var C=N[w],k=y8(U)?U.slice():E5({},U);return w+1===N.length?(k[V[w]]=k[C],y8(k)?k.splice(C,1):delete k[C]):k[C]=K(U[C],N,V,w+1),k}function Y(U,N,V){var w=N[V],C=y8(U)?U.slice():E5({},U);if(V+1===N.length)return y8(C)?C.splice(w,1):delete C[w],C;return C[w]=Y(U[w],N,V+1),C}function Z(){return!1}function q(){return null}function X(){}function W(){console.error("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://react.dev/link/rules-of-hooks")}function F(){console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")}function H(){}function B(U){var N=[];return U.forEach(function(V){N.push(V)}),N.sort().join(", ")}function z(U,N,V,w){return new Co0(U,N,V,w)}function A(U,N){U.context===Fq&&(dg(U.current,2,N,U,null,null),TH())}function R(U,N){if(i3!==null){var V=N.staleFamilies;N=N.updatedFamilies,DV(),Fb(U.current,N,V),TH()}}function G(U){i3=U}function O(U){return!(!U||U.nodeType!==1&&U.nodeType!==9&&U.nodeType!==11)}function T(U){var N=U,V=U;if(U.alternate)for(;N.return;)N=N.return;else{U=N;do N=U,(N.flags&4098)!==0&&(V=N.return),U=N.return;while(U)}return N.tag===3?V:null}function D(U){if(U.tag===13){var N=U.memoizedState;if(N===null&&(U=U.alternate,U!==null&&(N=U.memoizedState)),N!==null)return N.dehydrated}return null}function P(U){if(T(U)!==U)throw Error("Unable to find node on an unmounted component.")}function j(U){var N=U.alternate;if(!N){if(N=T(U),N===null)throw Error("Unable to find node on an unmounted component.");return N!==U?null:U}for(var V=U,w=N;;){var C=V.return;if(C===null)break;var k=C.alternate;if(k===null){if(w=C.return,w!==null){V=w;continue}break}if(C.child===k.child){for(k=C.child;k;){if(k===V)return P(C),U;if(k===w)return P(C),N;k=k.sibling}throw Error("Unable to find node on an unmounted component.")}if(V.return!==w.return)V=C,w=k;else{for(var I=!1,y=C.child;y;){if(y===V){I=!0,V=C,w=k;break}if(y===w){I=!0,w=C,V=k;break}y=y.sibling}if(!I){for(y=k.child;y;){if(y===V){I=!0,V=k,w=C;break}if(y===w){I=!0,w=k,V=C;break}y=y.sibling}if(!I)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(V.alternate!==w)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(V.tag!==3)throw Error("Unable to find node on an unmounted component.");return V.stateNode.current===V?U:N}function E(U){var N=U.tag;if(N===5||N===26||N===27||N===6)return U;for(U=U.child;U!==null;){if(N=E(U),N!==null)return N;U=U.sibling}return null}function L(U){if(U===null||typeof U!=="object")return null;return U=z$0&&U[z$0]||U["@@iterator"],typeof U==="function"?U:null}function v(U){if(U==null)return null;if(typeof U==="function")return U.$$typeof===ya0?null:U.displayName||U.name||null;if(typeof U==="string")return U;switch(U){case LH:return"Fragment";case og:return"Profiler";case gC:return"StrictMode";case tg:return"Suspense";case eg:return"SuspenseList";case $y:return"Activity"}if(typeof U==="object")switch(typeof U.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),U.$$typeof){case EH:return"Portal";case hJ:return(U.displayName||"Context")+".Provider";case ag:return(U._context.displayName||"Context")+".Consumer";case SV:var N=U.render;return U=U.displayName,U||(U=N.displayName||N.name||"",U=U!==""?"ForwardRef("+U+")":"ForwardRef"),U;case yC:return N=U.displayName||null,N!==null?N:v(U.type)||"Memo";case K3:N=U._payload,U=U._init;try{return v(U(N))}catch(V){}}return null}function f(U){return typeof U.tag==="number"?_(U):typeof U.name==="string"?U.name:null}function _(U){var N=U.type;switch(U.tag){case 31:return"Activity";case 24:return"Cache";case 9:return(N._context.displayName||"Context")+".Consumer";case 10:return(N.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return U=N.render,U=U.displayName||U.name||"",N.displayName||(U!==""?"ForwardRef("+U+")":"ForwardRef");case 7:return"Fragment";case 26:case 27:case 5:return N;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return v(N);case 8:return N===gC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 14:case 15:if(typeof N==="function")return N.displayName||N.name||null;if(typeof N==="string")return N;break;case 29:if(N=U._debugInfo,N!=null){for(var V=N.length-1;0<=V;V--)if(typeof N[V].name==="string")return N[V].name}if(U.return!==null)return _(U.return)}return null}function M(U){return{current:U}}function b(U,N){0>VY?console.error("Unexpected pop."):(N!==Jy[VY]&&console.error("Unexpected Fiber popped."),U.current=Qy[VY],Qy[VY]=null,Jy[VY]=null,VY--)}function x(U,N,V){VY++,Qy[VY]=U.current,Jy[VY]=V,U.current=N}function g(U){return U===null&&console.error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue."),U}function m(U,N){x(Zq,N,U),x(_V,U,U),x(Yq,null,U);var V=N.nodeType;switch(V){case 9:case 11:V=V===9?"#document":"#fragment",N=(N=N.documentElement)?(N=N.namespaceURI)?m30(N):EY:EY;break;default:if(V=N.tagName,N=N.namespaceURI)N=m30(N),N=p30(N,V);else switch(V){case"svg":N=FN;break;case"math":N=PP;break;default:N=EY}}V=V.toLowerCase(),V=t80(null,V),V={context:N,ancestorInfo:V},b(Yq,U),x(Yq,V,U)}function u(U){b(Yq,U),b(_V,U),b(Zq,U)}function p(){return g(Yq.current)}function o(U){U.memoizedState!==null&&x(xC,U,U);var N=g(Yq.current),V=U.type,w=p30(N.context,V);V=t80(N.ancestorInfo,V),w={context:w,ancestorInfo:V},N!==w&&(x(_V,U,U),x(Yq,w,U))}function t(U){_V.current===U&&(b(Yq,U),b(_V,U)),xC.current===U&&(b(xC,U),VR._currentValue=VW)}function r(U){return typeof Symbol==="function"&&Symbol.toStringTag&&U[Symbol.toStringTag]||U.constructor.name||"Object"}function Q0(U){try{return F0(U),!1}catch(N){return!0}}function F0(U){return""+U}function W0(U,N){if(Q0(U))return console.error("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before using it here.",N,r(U)),F0(U)}function h0(U,N){if(Q0(U))return console.error("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before using it here.",N,r(U)),F0(U)}function d0(U){if(Q0(U))return console.error("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before using it here.",r(U)),F0(U)}function W1(U){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var N=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(N.isDisabled)return!0;if(!N.supportsFiber)return console.error("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://react.dev/link/react-devtools"),!0;try{vH=N.inject(U),Y4=N}catch(V){console.error("React instrumentation encountered an error: %s.",V)}return N.checkDCE?!0:!1}function z1(U){if(typeof na0==="function"&&la0(U),Y4&&typeof Y4.setStrictMode==="function")try{Y4.setStrictMode(vH,U)}catch(N){SJ||(SJ=!0,console.error("React instrumentation encountered an error: %s",N))}}function b1(U){A1=U}function B1(){A1!==null&&typeof A1.markCommitStopped==="function"&&A1.markCommitStopped()}function e0(U){A1!==null&&typeof A1.markComponentRenderStarted==="function"&&A1.markComponentRenderStarted(U)}function P1(){A1!==null&&typeof A1.markComponentRenderStopped==="function"&&A1.markComponentRenderStopped()}function t0(U){A1!==null&&typeof A1.markRenderStarted==="function"&&A1.markRenderStarted(U)}function w1(){A1!==null&&typeof A1.markRenderStopped==="function"&&A1.markRenderStopped()}function V5(U,N){A1!==null&&typeof A1.markStateUpdateScheduled==="function"&&A1.markStateUpdateScheduled(U,N)}function g1(U){return U>>>=0,U===0?32:31-(ra0(U)/ia0|0)|0}function w5(U){if(U&1)return"SyncHydrationLane";if(U&2)return"Sync";if(U&4)return"InputContinuousHydration";if(U&8)return"InputContinuous";if(U&16)return"DefaultHydration";if(U&32)return"Default";if(U&128)return"TransitionHydration";if(U&4194048)return"Transition";if(U&62914560)return"Retry";if(U&67108864)return"SelectiveHydration";if(U&134217728)return"IdleHydration";if(U&268435456)return"Idle";if(U&536870912)return"Offscreen";if(U&1073741824)return"Deferred"}function T5(U){var N=U&42;if(N!==0)return N;switch(U&-U){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return U&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return U&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return console.error("Should have found matching lanes. This is a bug in React."),U}}function d6(U,N,V){var w=U.pendingLanes;if(w===0)return 0;var C=0,k=U.suspendedLanes,I=U.pingedLanes;U=U.warmLanes;var y=w&134217727;return y!==0?(w=y&~k,w!==0?C=T5(w):(I&=y,I!==0?C=T5(I):V||(V=y&~U,V!==0&&(C=T5(V))))):(y=w&~k,y!==0?C=T5(y):I!==0?C=T5(I):V||(V=w&~U,V!==0&&(C=T5(V)))),C===0?0:N!==0&&N!==C&&(N&k)===0&&(k=C&-C,V=N&-N,k>=V||k===32&&(V&4194048)!==0)?N:C}function x1(U,N){return(U.pendingLanes&~(U.suspendedLanes&~U.pingedLanes)&N)===0}function b7(U,N){switch(U){case 1:case 2:case 4:case 8:case 64:return N+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return N+5000;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return console.error("Should have found matching lanes. This is a bug in React."),-1}}function o9(){var U=cC;return cC<<=1,(cC&4194048)===0&&(cC=256),U}function u3(){var U=uC;return uC<<=1,(uC&62914560)===0&&(uC=4194304),U}function TJ(U){for(var N=[],V=0;31>V;V++)N.push(U);return N}function lZ(U,N){U.pendingLanes|=N,N!==268435456&&(U.suspendedLanes=0,U.pingedLanes=0,U.warmLanes=0)}function iM(U,N,V,w,C,k){var I=U.pendingLanes;U.pendingLanes=V,U.suspendedLanes=0,U.pingedLanes=0,U.warmLanes=0,U.expiredLanes&=V,U.entangledLanes&=V,U.errorRecoveryDisabledLanes&=V,U.shellSuspendCounter=0;var{entanglements:y,expirationTimes:n,hiddenUpdates:s}=U;for(V=I&~V;0<V;){var O0=31-h4(V),E0=1<<O0;y[O0]=0,n[O0]=-1;var G0=s[O0];if(G0!==null)for(s[O0]=null,O0=0;O0<G0.length;O0++){var v0=G0[O0];v0!==null&&(v0.lane&=-536870913)}V&=~E0}w!==0&&MD(U,w,0),k!==0&&C===0&&U.tag!==0&&(U.suspendedLanes|=k&~(I&~N))}function MD(U,N,V){U.pendingLanes|=N,U.suspendedLanes&=~N;var w=31-h4(N);U.entangledLanes|=N,U.entanglements[w]=U.entanglements[w]|1073741824|V&4194090}function iA(U,N){var V=U.entangledLanes|=N;for(U=U.entanglements;V;){var w=31-h4(V),C=1<<w;C&N|U[w]&N&&(U[w]|=N),V&=~C}}function FH(U){switch(U){case 2:U=1;break;case 8:U=4;break;case 32:U=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:U=128;break;case 268435456:U=134217728;break;default:U=0}return U}function sA(U,N,V){if(NQ)for(U=U.pendingUpdatersLaneMap;0<V;){var w=31-h4(V),C=1<<w;U[w].add(N),V&=~C}}function oA(U,N){if(NQ)for(var{pendingUpdatersLaneMap:V,memoizedUpdaters:w}=U;0<N;){var C=31-h4(N);U=1<<C,C=V[C],0<C.size&&(C.forEach(function(k){var I=k.alternate;I!==null&&w.has(I)||w.add(k)}),C.clear()),N&=~U}}function rZ(U){return U&=-U,Y3!==0&&Y3<U?BQ!==0&&BQ<U?(U&134217727)!==0?_J:mC:BQ:Y3}function f2(){var U=W6.p;if(U!==0)return U;return U=window.event,U===void 0?_J:W$0(U.type)}function UH(U,N){var V=W6.p;try{return W6.p=U,N()}finally{W6.p=V}}function I2(U){delete U[Z4],delete U[N9],delete U[Xy],delete U[sa0],delete U[oa0]}function qY(U){var N=U[Z4];if(N)return N;for(var V=U.parentNode;V;){if(N=V[Xq]||V[Z4]){if(V=N.alternate,N.child!==null||V!==null&&V.child!==null)for(U=s30(U);U!==null;){if(V=U[Z4])return V;U=s30(U)}return N}U=V,V=U.parentNode}return null}function d(U){if(U=U[Z4]||U[Xq]){var N=U.tag;if(N===5||N===6||N===13||N===26||N===27||N===3)return U}return null}function A0(U){var N=U.tag;if(N===5||N===26||N===27||N===6)return U.stateNode;throw Error("getNodeFromInstance: Invalid argument.")}function Q1(U){var N=U[A$0];return N||(N=U[A$0]={hoistableStyles:new Map,hoistableScripts:new Map}),N}function $1(U){U[fV]=!0}function v1(U,N){R5(U,N),R5(U+"Capture",N)}function R5(U,N){a2[U]&&console.error("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",U),a2[U]=N;var V=U.toLowerCase();Wy[V]=U,U==="onDoubleClick"&&(Wy.ondblclick=U);for(U=0;U<N.length;U++)V$0.add(N[U])}function W5(U,N){aa0[N.type]||N.onChange||N.onInput||N.readOnly||N.disabled||N.value==null||(U==="select"?console.error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set `onChange`."):console.error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")),N.onChange||N.readOnly||N.disabled||N.checked==null||console.error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function Q6(U){if(RY.call(G$0,U))return!0;if(RY.call(R$0,U))return!1;if(ta0.test(U))return G$0[U]=!0;return R$0[U]=!0,console.error("Invalid attribute name: `%s`",U),!1}function j5(U,N,V){if(Q6(N)){if(!U.hasAttribute(N)){switch(typeof V){case"symbol":case"object":return V;case"function":return V;case"boolean":if(V===!1)return V}return V===void 0?void 0:null}if(U=U.getAttribute(N),U===""&&V===!0)return!0;return W0(V,N),U===""+V?V:U}}function a9(U,N,V){if(Q6(N))if(V===null)U.removeAttribute(N);else{switch(typeof V){case"undefined":case"function":case"symbol":U.removeAttribute(N);return;case"boolean":var w=N.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){U.removeAttribute(N);return}}W0(V,N),U.setAttribute(N,""+V)}}function WQ(U,N,V){if(V===null)U.removeAttribute(N);else{switch(typeof V){case"undefined":case"function":case"symbol":case"boolean":U.removeAttribute(N);return}W0(V,N),U.setAttribute(N,""+V)}}function FQ(U,N,V,w){if(w===null)U.removeAttribute(V);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":U.removeAttribute(V);return}W0(w,V),U.setAttributeNS(N,V,""+w)}}function bD(){}function $o0(){if(IV===0){O$0=console.log,w$0=console.info,T$0=console.warn,D$0=console.error,C$0=console.group,P$0=console.groupCollapsed,k$0=console.groupEnd;var U={configurable:!0,enumerable:!0,value:bD,writable:!0};Object.defineProperties(console,{info:U,log:U,warn:U,error:U,group:U,groupCollapsed:U,groupEnd:U})}IV++}function Qo0(){if(IV--,IV===0){var U={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:E5({},U,{value:O$0}),info:E5({},U,{value:w$0}),warn:E5({},U,{value:T$0}),error:E5({},U,{value:D$0}),group:E5({},U,{value:C$0}),groupCollapsed:E5({},U,{value:P$0}),groupEnd:E5({},U,{value:k$0})})}0>IV&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function m3(U){if(Fy===void 0)try{throw Error()}catch(V){var N=V.stack.trim().match(/\n( *(at )?)/);Fy=N&&N[1]||"",j$0=-1<V.stack.indexOf(`
    at`)?" (<anonymous>)":-1<V.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fy+U+j$0}function sM(U,N){if(!U||Uy)return"";var V=Hy.get(U);if(V!==void 0)return V;Uy=!0,V=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var w=null;w=j0.H,j0.H=null,$o0();try{var C={DetermineComponentFrameRoot:function(){try{if(N){var G0=function(){throw Error()};if(Object.defineProperty(G0.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(G0,[])}catch(E1){var v0=E1}Reflect.construct(U,[],G0)}else{try{G0.call()}catch(E1){v0=E1}U.call(G0.prototype)}}else{try{throw Error()}catch(E1){v0=E1}(G0=U())&&typeof G0.catch==="function"&&G0.catch(function(){})}}catch(E1){if(E1&&v0&&typeof E1.stack==="string")return[E1.stack,v0.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=C.DetermineComponentFrameRoot(),y=I[0],n=I[1];if(y&&n){var s=y.split(`
`),O0=n.split(`
`);for(I=k=0;k<s.length&&!s[k].includes("DetermineComponentFrameRoot");)k++;for(;I<O0.length&&!O0[I].includes("DetermineComponentFrameRoot");)I++;if(k===s.length||I===O0.length)for(k=s.length-1,I=O0.length-1;1<=k&&0<=I&&s[k]!==O0[I];)I--;for(;1<=k&&0<=I;k--,I--)if(s[k]!==O0[I]){if(k!==1||I!==1)do if(k--,I--,0>I||s[k]!==O0[I]){var E0=`
`+s[k].replace(" at new "," at ");return U.displayName&&E0.includes("<anonymous>")&&(E0=E0.replace("<anonymous>",U.displayName)),typeof U==="function"&&Hy.set(U,E0),E0}while(1<=k&&0<=I);break}}}finally{Uy=!1,j0.H=w,Qo0(),Error.prepareStackTrace=V}return s=(s=U?U.displayName||U.name:"")?m3(s):"",typeof U==="function"&&Hy.set(U,s),s}function M80(U){var N=Error.prepareStackTrace;if(Error.prepareStackTrace=void 0,U=U.stack,Error.prepareStackTrace=N,U.startsWith(`Error: react-stack-top-frame
`)&&(U=U.slice(29)),N=U.indexOf(`
`),N!==-1&&(U=U.slice(N+1)),N=U.indexOf("react_stack_bottom_frame"),N!==-1&&(N=U.lastIndexOf(`
`,N)),N!==-1)U=U.slice(0,N);else return"";return U}function Jo0(U){switch(U.tag){case 26:case 27:case 5:return m3(U.type);case 16:return m3("Lazy");case 13:return m3("Suspense");case 19:return m3("SuspenseList");case 0:case 15:return sM(U.type,!1);case 11:return sM(U.type.render,!1);case 1:return sM(U.type,!0);case 31:return m3("Activity");default:return""}}function b80(U){try{var N="";do{N+=Jo0(U);var V=U._debugInfo;if(V)for(var w=V.length-1;0<=w;w--){var C=V[w];if(typeof C.name==="string"){var k=N,I=C.env,y=m3(C.name+(I?" ["+I+"]":""));N=k+y}}U=U.return}while(U);return N}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function g80(U){return(U=U?U.displayName||U.name:"")?m3(U):""}function gD(){if(Z3===null)return null;var U=Z3._debugOwner;return U!=null?f(U):null}function Ko0(){if(Z3===null)return"";var U=Z3;try{var N="";switch(U.tag===6&&(U=U.return),U.tag){case 26:case 27:case 5:N+=m3(U.type);break;case 13:N+=m3("Suspense");break;case 19:N+=m3("SuspenseList");break;case 31:N+=m3("Activity");break;case 30:case 0:case 15:case 1:U._debugOwner||N!==""||(N+=g80(U.type));break;case 11:U._debugOwner||N!==""||(N+=g80(U.type.render))}for(;U;)if(typeof U.tag==="number"){var V=U;U=V._debugOwner;var w=V._debugStack;U&&w&&(typeof w!=="string"&&(V._debugStack=w=M80(w)),w!==""&&(N+=`
`+w))}else if(U.debugStack!=null){var C=U.debugStack;(U=U.owner)&&C&&(N+=`
`+M80(C))}else break;var k=N}catch(I){k=`
Error generating stack: `+I.message+`
`+I.stack}return k}function _1(U,N,V,w,C,k,I){var y=Z3;oM(U);try{return U!==null&&U._debugTask?U._debugTask.run(N.bind(null,V,w,C,k,I)):N(V,w,C,k,I)}finally{oM(y)}throw Error("runWithFiberInDEV should never be called in production. This is a bug in React.")}function oM(U){j0.getCurrentStack=U===null?null:Ko0,fJ=!1,Z3=U}function p3(U){switch(typeof U){case"bigint":case"boolean":case"number":case"string":case"undefined":return U;case"object":return d0(U),U;default:return""}}function y80(U){var N=U.type;return(U=U.nodeName)&&U.toLowerCase()==="input"&&(N==="checkbox"||N==="radio")}function Yo0(U){var N=y80(U)?"checked":"value",V=Object.getOwnPropertyDescriptor(U.constructor.prototype,N);d0(U[N]);var w=""+U[N];if(!U.hasOwnProperty(N)&&typeof V<"u"&&typeof V.get==="function"&&typeof V.set==="function"){var{get:C,set:k}=V;return Object.defineProperty(U,N,{configurable:!0,get:function(){return C.call(this)},set:function(I){d0(I),w=""+I,k.call(this,I)}}),Object.defineProperty(U,N,{enumerable:V.enumerable}),{getValue:function(){return w},setValue:function(I){d0(I),w=""+I},stopTracking:function(){U._valueTracker=null,delete U[N]}}}}function yD(U){U._valueTracker||(U._valueTracker=Yo0(U))}function x80(U){if(!U)return!1;var N=U._valueTracker;if(!N)return!0;var V=N.getValue(),w="";return U&&(w=y80(U)?U.checked?"true":"false":U.value),U=w,U!==V?(N.setValue(U),!0):!1}function xD(U){if(U=U||(typeof document<"u"?document:void 0),typeof U>"u")return null;try{return U.activeElement||U.body}catch(N){return U.body}}function d3(U){return U.replace(ea0,function(N){return"\\"+N.charCodeAt(0).toString(16)+" "})}function c80(U,N){N.checked===void 0||N.defaultChecked===void 0||L$0||(console.error("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",gD()||"A component",N.type),L$0=!0),N.value===void 0||N.defaultValue===void 0||E$0||(console.error("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",gD()||"A component",N.type),E$0=!0)}function aM(U,N,V,w,C,k,I,y){if(U.name="",I!=null&&typeof I!=="function"&&typeof I!=="symbol"&&typeof I!=="boolean"?(W0(I,"type"),U.type=I):U.removeAttribute("type"),N!=null)if(I==="number"){if(N===0&&U.value===""||U.value!=N)U.value=""+p3(N)}else U.value!==""+p3(N)&&(U.value=""+p3(N));else I!=="submit"&&I!=="reset"||U.removeAttribute("value");N!=null?tM(U,I,p3(N)):V!=null?tM(U,I,p3(V)):w!=null&&U.removeAttribute("value"),C==null&&k!=null&&(U.defaultChecked=!!k),C!=null&&(U.checked=C&&typeof C!=="function"&&typeof C!=="symbol"),y!=null&&typeof y!=="function"&&typeof y!=="symbol"&&typeof y!=="boolean"?(W0(y,"name"),U.name=""+p3(y)):U.removeAttribute("name")}function u80(U,N,V,w,C,k,I,y){if(k!=null&&typeof k!=="function"&&typeof k!=="symbol"&&typeof k!=="boolean"&&(W0(k,"type"),U.type=k),N!=null||V!=null){if(!(k!=="submit"&&k!=="reset"||N!==void 0&&N!==null))return;V=V!=null?""+p3(V):"",N=N!=null?""+p3(N):V,y||N===U.value||(U.value=N),U.defaultValue=N}w=w!=null?w:C,w=typeof w!=="function"&&typeof w!=="symbol"&&!!w,U.checked=y?U.checked:!!w,U.defaultChecked=!!w,I!=null&&typeof I!=="function"&&typeof I!=="symbol"&&typeof I!=="boolean"&&(W0(I,"name"),U.name=I)}function tM(U,N,V){N==="number"&&xD(U.ownerDocument)===U||U.defaultValue===""+V||(U.defaultValue=""+V)}function m80(U,N){N.value==null&&(typeof N.children==="object"&&N.children!==null?HN.Children.forEach(N.children,function(V){V==null||typeof V==="string"||typeof V==="number"||typeof V==="bigint"||v$0||(v$0=!0,console.error("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>."))}):N.dangerouslySetInnerHTML==null||S$0||(S$0=!0,console.error("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected."))),N.selected==null||h$0||(console.error("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),h$0=!0)}function p80(){var U=gD();return U?`

Check the render method of \``+U+"`.":""}function HH(U,N,V,w){if(U=U.options,N){N={};for(var C=0;C<V.length;C++)N["$"+V[C]]=!0;for(V=0;V<U.length;V++)C=N.hasOwnProperty("$"+U[V].value),U[V].selected!==C&&(U[V].selected=C),C&&w&&(U[V].defaultSelected=!0)}else{V=""+p3(V),N=null;for(C=0;C<U.length;C++){if(U[C].value===V){U[C].selected=!0,w&&(U[C].defaultSelected=!0);return}N!==null||U[C].disabled||(N=U[C])}N!==null&&(N.selected=!0)}}function d80(U,N){for(U=0;U<f$0.length;U++){var V=f$0[U];if(N[V]!=null){var w=y8(N[V]);N.multiple&&!w?console.error("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",V,p80()):!N.multiple&&w&&console.error("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",V,p80())}}N.value===void 0||N.defaultValue===void 0||_$0||(console.error("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://react.dev/link/controlled-components"),_$0=!0)}function n80(U,N){N.value===void 0||N.defaultValue===void 0||I$0||(console.error("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://react.dev/link/controlled-components",gD()||"A component"),I$0=!0),N.children!=null&&N.value==null&&console.error("Use the `defaultValue` or `value` props instead of setting children on <textarea>.")}function l80(U,N,V){if(N!=null&&(N=""+p3(N),N!==U.value&&(U.value=N),V==null)){U.defaultValue!==N&&(U.defaultValue=N);return}U.defaultValue=V!=null?""+p3(V):""}function r80(U,N,V,w){if(N==null){if(w!=null){if(V!=null)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(y8(w)){if(1<w.length)throw Error("<textarea> can only have at most one child.");w=w[0]}V=w}V==null&&(V=""),N=V}V=p3(N),U.defaultValue=V,w=U.textContent,w===V&&w!==""&&w!==null&&(U.value=w)}function i80(U,N){return U.serverProps===void 0&&U.serverTail.length===0&&U.children.length===1&&3<U.distanceFromLeaf&&U.distanceFromLeaf>15-N?i80(U.children[0],N):U}function t9(U){return"  "+"  ".repeat(U)}function NH(U){return"+ "+"  ".repeat(U)}function M2(U){return"- "+"  ".repeat(U)}function s80(U){switch(U.tag){case 26:case 27:case 5:return U.type;case 16:return"Lazy";case 13:return"Suspense";case 19:return"SuspenseList";case 0:case 15:return U=U.type,U.displayName||U.name||null;case 11:return U=U.type.render,U.displayName||U.name||null;case 1:return U=U.type,U.displayName||U.name||null;default:return null}}function aA(U,N){return M$0.test(U)?(U=JSON.stringify(U),U.length>N-2?8>N?'{"..."}':"{"+U.slice(0,N-7)+'..."}':"{"+U+"}"):U.length>N?5>N?'{"..."}':U.slice(0,N-3)+"...":U}function cD(U,N,V){var w=120-2*V;if(N===null)return NH(V)+aA(U,w)+`
`;if(typeof N==="string"){for(var C=0;C<N.length&&C<U.length&&N.charCodeAt(C)===U.charCodeAt(C);C++);return C>w-8&&10<C&&(U="..."+U.slice(C-8),N="..."+N.slice(C-8)),NH(V)+aA(U,w)+`
`+M2(V)+aA(N,w)+`
`}return t9(V)+aA(U,w)+`
`}function eM(U){return Object.prototype.toString.call(U).replace(/^\[object (.*)\]$/,function(N,V){return V})}function tA(U,N){switch(typeof U){case"string":return U=JSON.stringify(U),U.length>N?5>N?'"..."':U.slice(0,N-4)+'..."':U;case"object":if(U===null)return"null";if(y8(U))return"[...]";if(U.$$typeof===Kq)return(N=v(U.type))?"<"+N+">":"<...>";var V=eM(U);if(V==="Object"){V="",N-=2;for(var w in U)if(U.hasOwnProperty(w)){var C=JSON.stringify(w);if(C!=='"'+w+'"'&&(w=C),N-=w.length-2,C=tA(U[w],15>N?N:15),N-=C.length,0>N){V+=V===""?"...":", ...";break}V+=(V===""?"":",")+w+":"+C}return"{"+V+"}"}return V;case"function":return(N=U.displayName||U.name)?"function "+N:"function";default:return String(U)}}function BH(U,N){return typeof U!=="string"||M$0.test(U)?"{"+tA(U,N-2)+"}":U.length>N-2?5>N?'"..."':'"'+U.slice(0,N-5)+'..."':'"'+U+'"'}function $b(U,N,V){var w=120-V.length-U.length,C=[],k;for(k in N)if(N.hasOwnProperty(k)&&k!=="children"){var I=BH(N[k],120-V.length-k.length-1);w-=k.length+I.length+2,C.push(k+"="+I)}return C.length===0?V+"<"+U+`>
`:0<w?V+"<"+U+" "+C.join(" ")+`>
`:V+"<"+U+`
`+V+"  "+C.join(`
`+V+"  ")+`
`+V+`>
`}function Zo0(U,N,V){var w="",C=E5({},N),k;for(k in U)if(U.hasOwnProperty(k)){delete C[k];var I=120-2*V-k.length-2,y=tA(U[k],I);N.hasOwnProperty(k)?(I=tA(N[k],I),w+=NH(V)+k+": "+y+`
`,w+=M2(V)+k+": "+I+`
`):w+=NH(V)+k+": "+y+`
`}for(var n in C)C.hasOwnProperty(n)&&(U=tA(C[n],120-2*V-n.length-2),w+=M2(V)+n+": "+U+`
`);return w}function qo0(U,N,V,w){var C="",k=new Map;for(s in V)V.hasOwnProperty(s)&&k.set(s.toLowerCase(),s);if(k.size===1&&k.has("children"))C+=$b(U,N,t9(w));else{for(var I in N)if(N.hasOwnProperty(I)&&I!=="children"){var y=120-2*(w+1)-I.length-1,n=k.get(I.toLowerCase());if(n!==void 0){k.delete(I.toLowerCase());var s=N[I];n=V[n];var O0=BH(s,y);y=BH(n,y),typeof s==="object"&&s!==null&&typeof n==="object"&&n!==null&&eM(s)==="Object"&&eM(n)==="Object"&&(2<Object.keys(s).length||2<Object.keys(n).length||-1<O0.indexOf("...")||-1<y.indexOf("..."))?C+=t9(w+1)+I+`={{
`+Zo0(s,n,w+2)+t9(w+1)+`}}
`:(C+=NH(w+1)+I+"="+O0+`
`,C+=M2(w+1)+I+"="+y+`
`)}else C+=t9(w+1)+I+"="+BH(N[I],y)+`
`}k.forEach(function(E0){if(E0!=="children"){var G0=120-2*(w+1)-E0.length-1;C+=M2(w+1)+E0+"="+BH(V[E0],G0)+`
`}}),C=C===""?t9(w)+"<"+U+`>
`:t9(w)+"<"+U+`
`+C+t9(w)+`>
`}if(U=V.children,N=N.children,typeof U==="string"||typeof U==="number"||typeof U==="bigint"){if(k="",typeof N==="string"||typeof N==="number"||typeof N==="bigint")k=""+N;C+=cD(k,""+U,w+1)}else if(typeof N==="string"||typeof N==="number"||typeof N==="bigint")C=U==null?C+cD(""+N,null,w+1):C+cD(""+N,void 0,w+1);return C}function o80(U,N){var V=s80(U);if(V===null){V="";for(U=U.child;U;)V+=o80(U,N),U=U.sibling;return V}return t9(N)+"<"+V+`>
`}function Qb(U,N){var V=i80(U,N);if(V!==U&&(U.children.length!==1||U.children[0]!==V))return t9(N)+`...
`+Qb(V,N+1);V="";var w=U.fiber._debugInfo;if(w)for(var C=0;C<w.length;C++){var k=w[C].name;typeof k==="string"&&(V+=t9(N)+"<"+k+`>
`,N++)}if(w="",C=U.fiber.pendingProps,U.fiber.tag===6)w=cD(C,U.serverProps,N),N++;else if(k=s80(U.fiber),k!==null)if(U.serverProps===void 0){w=N;var I=120-2*w-k.length-2,y="";for(s in C)if(C.hasOwnProperty(s)&&s!=="children"){var n=BH(C[s],15);if(I-=s.length+n.length+2,0>I){y+=" ...";break}y+=" "+s+"="+n}w=t9(w)+"<"+k+y+`>
`,N++}else U.serverProps===null?(w=$b(k,C,NH(N)),N++):typeof U.serverProps==="string"?console.error("Should not have matched a non HostText fiber to a Text node. This is a bug in React."):(w=qo0(k,C,U.serverProps,N),N++);var s="";C=U.fiber.child;for(k=0;C&&k<U.children.length;)I=U.children[k],I.fiber===C?(s+=Qb(I,N),k++):s+=o80(C,N),C=C.sibling;C&&0<U.children.length&&(s+=t9(N)+`...
`),C=U.serverTail,U.serverProps===null&&N--;for(U=0;U<C.length;U++)k=C[U],s=typeof k==="string"?s+(M2(N)+aA(k,120-2*N)+`
`):s+$b(k.type,k.props,M2(N));return V+w+s}function Jb(U){try{return`

`+Qb(U,0)}catch(N){return""}}function a80(U,N,V){for(var w=N,C=null,k=0;w;)w===U&&(k=0),C={fiber:w,children:C!==null?[C]:[],serverProps:w===N?V:w===U?null:void 0,serverTail:[],distanceFromLeaf:k},k++,w=w.return;return C!==null?Jb(C).replaceAll(/^[+-]/gm,">"):""}function t80(U,N){var V=E5({},U||g$0),w={tag:N};if(b$0.indexOf(N)!==-1&&(V.aTagInScope=null,V.buttonTagInScope=null,V.nobrTagInScope=null),Qt0.indexOf(N)!==-1&&(V.pTagInButtonScope=null),$t0.indexOf(N)!==-1&&N!=="address"&&N!=="div"&&N!=="p"&&(V.listItemTagAutoclosing=null,V.dlItemTagAutoclosing=null),V.current=w,N==="form"&&(V.formTag=w),N==="a"&&(V.aTagInScope=w),N==="button"&&(V.buttonTagInScope=w),N==="nobr"&&(V.nobrTagInScope=w),N==="p"&&(V.pTagInButtonScope=w),N==="li"&&(V.listItemTagAutoclosing=w),N==="dd"||N==="dt")V.dlItemTagAutoclosing=w;return N==="#document"||N==="html"?V.containerTagInScope=null:V.containerTagInScope||(V.containerTagInScope=w),U!==null||N!=="#document"&&N!=="html"&&N!=="body"?V.implicitRootScope===!0&&(V.implicitRootScope=!1):V.implicitRootScope=!0,V}function e80(U,N,V){switch(N){case"select":return U==="hr"||U==="option"||U==="optgroup"||U==="script"||U==="template"||U==="#text";case"optgroup":return U==="option"||U==="#text";case"option":return U==="#text";case"tr":return U==="th"||U==="td"||U==="style"||U==="script"||U==="template";case"tbody":case"thead":case"tfoot":return U==="tr"||U==="style"||U==="script"||U==="template";case"colgroup":return U==="col"||U==="template";case"table":return U==="caption"||U==="colgroup"||U==="tbody"||U==="tfoot"||U==="thead"||U==="style"||U==="script"||U==="template";case"head":return U==="base"||U==="basefont"||U==="bgsound"||U==="link"||U==="meta"||U==="title"||U==="noscript"||U==="noframes"||U==="style"||U==="script"||U==="template";case"html":if(V)break;return U==="head"||U==="body"||U==="frameset";case"frameset":return U==="frame";case"#document":if(!V)return U==="html"}switch(U){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return N!=="h1"&&N!=="h2"&&N!=="h3"&&N!=="h4"&&N!=="h5"&&N!=="h6";case"rp":case"rt":return Jt0.indexOf(N)===-1;case"caption":case"col":case"colgroup":case"frameset":case"frame":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return N==null;case"head":return V||N===null;case"html":return V&&N==="#document"||N===null;case"body":return V&&(N==="#document"||N==="html")||N===null}return!0}function Xo0(U,N){switch(U){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return N.pTagInButtonScope;case"form":return N.formTag||N.pTagInButtonScope;case"li":return N.listItemTagAutoclosing;case"dd":case"dt":return N.dlItemTagAutoclosing;case"button":return N.buttonTagInScope;case"a":return N.aTagInScope;case"nobr":return N.nobrTagInScope}return null}function $40(U,N){for(;U;){switch(U.tag){case 5:case 26:case 27:if(U.type===N)return U}U=U.return}return null}function Kb(U,N){N=N||g$0;var V=N.current;if(N=(V=e80(U,V&&V.tag,N.implicitRootScope)?null:V)?null:Xo0(U,N),N=V||N,!N)return!0;var w=N.tag;if(N=String(!!V)+"|"+U+"|"+w,pC[N])return!1;pC[N]=!0;var C=(N=Z3)?$40(N.return,w):null,k=N!==null&&C!==null?a80(C,N,null):"",I="<"+U+">";return V?(V="",w==="table"&&U==="tr"&&(V+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),console.error(`In HTML, %s cannot be a child of <%s>.%s
This will cause a hydration error.%s`,I,w,V,k)):console.error(`In HTML, %s cannot be a descendant of <%s>.
This will cause a hydration error.%s`,I,w,k),N&&(U=N.return,C===null||U===null||C===U&&U._debugOwner===N._debugOwner||_1(C,function(){console.error(`<%s> cannot contain a nested %s.
See this log for the ancestor stack trace.`,w,I)})),!1}function uD(U,N,V){if(V||e80("#text",N,!1))return!0;if(V="#text|"+N,pC[V])return!1;pC[V]=!0;var w=(V=Z3)?$40(V,N):null;return V=V!==null&&w!==null?a80(w,V,V.tag!==6?{children:null}:null):"",/\S/.test(U)?console.error(`In HTML, text nodes cannot be a child of <%s>.
This will cause a hydration error.%s`,N,V):console.error(`In HTML, whitespace text nodes cannot be a child of <%s>. Make sure you don't have any extra whitespace between tags on each line of your source code.
This will cause a hydration error.%s`,N,V),!1}function eA(U,N){if(N){var V=U.firstChild;if(V&&V===U.lastChild&&V.nodeType===3){V.nodeValue=N;return}}U.textContent=N}function Wo0(U){return U.replace(Zt0,function(N,V){return V.toUpperCase()})}function Q40(U,N,V){var w=N.indexOf("--")===0;w||(-1<N.indexOf("-")?SH.hasOwnProperty(N)&&SH[N]||(SH[N]=!0,console.error("Unsupported style property %s. Did you mean %s?",N,Wo0(N.replace(Yt0,"ms-")))):Kt0.test(N)?SH.hasOwnProperty(N)&&SH[N]||(SH[N]=!0,console.error("Unsupported vendor-prefixed style property %s. Did you mean %s?",N,N.charAt(0).toUpperCase()+N.slice(1))):!c$0.test(V)||By.hasOwnProperty(V)&&By[V]||(By[V]=!0,console.error(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,N,V.replace(c$0,""))),typeof V==="number"&&(isNaN(V)?u$0||(u$0=!0,console.error("`NaN` is an invalid value for the `%s` css style property.",N)):isFinite(V)||m$0||(m$0=!0,console.error("`Infinity` is an invalid value for the `%s` css style property.",N)))),V==null||typeof V==="boolean"||V===""?w?U.setProperty(N,""):N==="float"?U.cssFloat="":U[N]="":w?U.setProperty(N,V):typeof V!=="number"||V===0||p$0.has(N)?N==="float"?U.cssFloat=V:(h0(V,N),U[N]=(""+V).trim()):U[N]=V+"px"}function J40(U,N,V){if(N!=null&&typeof N!=="object")throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");if(N&&Object.freeze(N),U=U.style,V!=null){if(N){var w={};if(V){for(var C in V)if(V.hasOwnProperty(C)&&!N.hasOwnProperty(C))for(var k=Ny[C]||[C],I=0;I<k.length;I++)w[k[I]]=C}for(var y in N)if(N.hasOwnProperty(y)&&(!V||V[y]!==N[y]))for(C=Ny[y]||[y],k=0;k<C.length;k++)w[C[k]]=y;y={};for(var n in N)for(C=Ny[n]||[n],k=0;k<C.length;k++)y[C[k]]=n;n={};for(var s in w)if(C=w[s],(k=y[s])&&C!==k&&(I=C+","+k,!n[I])){n[I]=!0,I=console;var O0=N[C];I.error.call(I,"%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",O0==null||typeof O0==="boolean"||O0===""?"Removing":"Updating",C,k)}}for(var E0 in V)!V.hasOwnProperty(E0)||N!=null&&N.hasOwnProperty(E0)||(E0.indexOf("--")===0?U.setProperty(E0,""):E0==="float"?U.cssFloat="":U[E0]="");for(var G0 in N)s=N[G0],N.hasOwnProperty(G0)&&V[G0]!==s&&Q40(U,G0,s)}else for(w in N)N.hasOwnProperty(w)&&Q40(U,w,N[w])}function $V(U){if(U.indexOf("-")===-1)return!1;switch(U){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function K40(U){return qt0.get(U)||U}function Fo0(U,N){if(RY.call(fH,N)&&fH[N])return!0;if(Wt0.test(N)){if(U="aria-"+N.slice(4).toLowerCase(),U=d$0.hasOwnProperty(U)?U:null,U==null)return console.error("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",N),fH[N]=!0;if(N!==U)return console.error("Invalid ARIA attribute `%s`. Did you mean `%s`?",N,U),fH[N]=!0}if(Xt0.test(N)){if(U=N.toLowerCase(),U=d$0.hasOwnProperty(U)?U:null,U==null)return fH[N]=!0,!1;N!==U&&(console.error("Unknown ARIA attribute `%s`. Did you mean `%s`?",N,U),fH[N]=!0)}return!0}function Uo0(U,N){var V=[],w;for(w in N)Fo0(U,w)||V.push(w);N=V.map(function(C){return"`"+C+"`"}).join(", "),V.length===1?console.error("Invalid aria prop %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",N,U):1<V.length&&console.error("Invalid aria props %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",N,U)}function Ho0(U,N,V,w){if(RY.call(v4,N)&&v4[N])return!0;var C=N.toLowerCase();if(C==="onfocusin"||C==="onfocusout")return console.error("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),v4[N]=!0;if(typeof V==="function"&&(U==="form"&&N==="action"||U==="input"&&N==="formAction"||U==="button"&&N==="formAction"))return!0;if(w!=null){if(U=w.possibleRegistrationNames,w.registrationNameDependencies.hasOwnProperty(N))return!0;if(w=U.hasOwnProperty(C)?U[C]:null,w!=null)return console.error("Invalid event handler property `%s`. Did you mean `%s`?",N,w),v4[N]=!0;if(l$0.test(N))return console.error("Unknown event handler property `%s`. It will be ignored.",N),v4[N]=!0}else if(l$0.test(N))return Ft0.test(N)&&console.error("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",N),v4[N]=!0;if(Ut0.test(N)||Ht0.test(N))return!0;if(C==="innerhtml")return console.error("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),v4[N]=!0;if(C==="aria")return console.error("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),v4[N]=!0;if(C==="is"&&V!==null&&V!==void 0&&typeof V!=="string")return console.error("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof V),v4[N]=!0;if(typeof V==="number"&&isNaN(V))return console.error("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",N),v4[N]=!0;if(nC.hasOwnProperty(C)){if(C=nC[C],C!==N)return console.error("Invalid DOM property `%s`. Did you mean `%s`?",N,C),v4[N]=!0}else if(N!==C)return console.error("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",N,C),v4[N]=!0;switch(N){case"dangerouslySetInnerHTML":case"children":case"style":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":return!0;case"innerText":case"textContent":return!0}switch(typeof V){case"boolean":switch(N){case"autoFocus":case"checked":case"multiple":case"muted":case"selected":case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"capture":case"download":case"inert":return!0;default:if(C=N.toLowerCase().slice(0,5),C==="data-"||C==="aria-")return!0;return V?console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',V,N,N,V,N):console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',V,N,N,V,N,N,N),v4[N]=!0}case"function":case"symbol":return v4[N]=!0,!1;case"string":if(V==="false"||V==="true"){switch(N){case"checked":case"selected":case"multiple":case"muted":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"inert":break;default:return!0}console.error("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",V,N,V==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',N,V),v4[N]=!0}}return!0}function No0(U,N,V){var w=[],C;for(C in N)Ho0(U,C,N[C],V)||w.push(C);N=w.map(function(k){return"`"+k+"`"}).join(", "),w.length===1?console.error("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://react.dev/link/attribute-behavior ",N,U):1<w.length&&console.error("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://react.dev/link/attribute-behavior ",N,U)}function QV(U){return Nt0.test(""+U)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":U}function Yb(U){return U=U.target||U.srcElement||window,U.correspondingUseElement&&(U=U.correspondingUseElement),U.nodeType===3?U.parentNode:U}function Y40(U){var N=d(U);if(N&&(U=N.stateNode)){var V=U[N9]||null;$:switch(U=N.stateNode,N.type){case"input":if(aM(U,V.value,V.defaultValue,V.defaultValue,V.checked,V.defaultChecked,V.type,V.name),N=V.name,V.type==="radio"&&N!=null){for(V=U;V.parentNode;)V=V.parentNode;W0(N,"name"),V=V.querySelectorAll('input[name="'+d3(""+N)+'"][type="radio"]');for(N=0;N<V.length;N++){var w=V[N];if(w!==U&&w.form===U.form){var C=w[N9]||null;if(!C)throw Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");aM(w,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(N=0;N<V.length;N++)w=V[N],w.form===U.form&&x80(w)}break $;case"textarea":l80(U,V.value,V.defaultValue);break $;case"select":N=V.value,N!=null&&HH(U,!!V.multiple,N,!1)}}}function Z40(U,N,V){if(zy)return U(N,V);zy=!0;try{var w=U(N);return w}finally{if(zy=!1,IH!==null||MH!==null){if(TH(),IH&&(N=IH,U=MH,MH=IH=null,Y40(N),U))for(N=0;N<U.length;N++)Y40(U[N])}}}function JV(U,N){var V=U.stateNode;if(V===null)return null;var w=V[N9]||null;if(w===null)return null;V=w[N];$:switch(N){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(U=U.type,w=!(U==="button"||U==="input"||U==="select"||U==="textarea")),U=!w;break $;default:U=!1}if(U)return null;if(V&&typeof V!=="function")throw Error("Expected `"+N+"` listener to be a function, instead got a value of `"+typeof V+"` type.");return V}function q40(){if(lC)return lC;var U,N=Vy,V=N.length,w,C="value"in Wq?Wq.value:Wq.textContent,k=C.length;for(U=0;U<V&&N[U]===C[U];U++);var I=V-U;for(w=1;w<=I&&N[V-w]===C[k-w];w++);return lC=C.slice(U,1<w?1-w:void 0)}function mD(U){var N=U.keyCode;return"charCode"in U?(U=U.charCode,U===0&&N===13&&(U=13)):U=N,U===10&&(U=13),32<=U||U===13?U:0}function pD(){return!0}function X40(){return!1}function W9(U){function N(V,w,C,k,I){this._reactName=V,this._targetInst=C,this.type=w,this.nativeEvent=k,this.target=I,this.currentTarget=null;for(var y in U)U.hasOwnProperty(y)&&(V=U[y],this[y]=V?V(k):k[y]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?pD:X40,this.isPropagationStopped=X40,this}return E5(N.prototype,{preventDefault:function(){this.defaultPrevented=!0;var V=this.nativeEvent;V&&(V.preventDefault?V.preventDefault():typeof V.returnValue!=="unknown"&&(V.returnValue=!1),this.isDefaultPrevented=pD)},stopPropagation:function(){var V=this.nativeEvent;V&&(V.stopPropagation?V.stopPropagation():typeof V.cancelBubble!=="unknown"&&(V.cancelBubble=!0),this.isPropagationStopped=pD)},persist:function(){},isPersistent:pD}),N}function Bo0(U){var N=this.nativeEvent;return N.getModifierState?N.getModifierState(U):(U=kt0[U])?!!N[U]:!1}function Zb(){return Bo0}function W40(U,N){switch(U){case"keyup":return gt0.indexOf(N.keyCode)!==-1;case"keydown":return N.keyCode!==o$0;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F40(U){return U=U.detail,typeof U==="object"&&"data"in U?U.data:null}function zo0(U,N){switch(U){case"compositionend":return F40(N);case"keypress":if(N.which!==t$0)return null;return $Q0=!0,e$0;case"textInput":return U=N.data,U===e$0&&$Q0?null:U;default:return null}}function Ao0(U,N){if(bH)return U==="compositionend"||!wy&&W40(U,N)?(U=q40(),lC=Vy=Wq=null,bH=!1,U):null;switch(U){case"paste":return null;case"keypress":if(!(N.ctrlKey||N.altKey||N.metaKey)||N.ctrlKey&&N.altKey){if(N.char&&1<N.char.length)return N.char;if(N.which)return String.fromCharCode(N.which)}return null;case"compositionend":return a$0&&N.locale!=="ko"?null:N.data;default:return null}}function U40(U){var N=U&&U.nodeName&&U.nodeName.toLowerCase();return N==="input"?!!xt0[U.type]:N==="textarea"?!0:!1}function Vo0(U){if(!IJ)return!1;U="on"+U;var N=U in document;return N||(N=document.createElement("div"),N.setAttribute(U,"return;"),N=typeof N[U]==="function"),N}function H40(U,N,V,w){IH?MH?MH.push(w):MH=[w]:IH=w,N=EC(N,"onChange"),0<N.length&&(V=new rC("onChange","change",null,V,w),U.push({event:V,listeners:N}))}function Ro0(U){_30(U,0)}function dD(U){var N=A0(U);if(x80(N))return U}function N40(U,N){if(U==="change")return N}function B40(){cV&&(cV.detachEvent("onpropertychange",z40),uV=cV=null)}function z40(U){if(U.propertyName==="value"&&dD(uV)){var N=[];H40(N,uV,U,Yb(U)),Z40(Ro0,N)}}function Go0(U,N,V){U==="focusin"?(B40(),cV=N,uV=V,cV.attachEvent("onpropertychange",z40)):U==="focusout"&&B40()}function Oo0(U){if(U==="selectionchange"||U==="keyup"||U==="keydown")return dD(uV)}function wo0(U,N){if(U==="click")return dD(N)}function To0(U,N){if(U==="input"||U==="change")return dD(N)}function Do0(U,N){return U===N&&(U!==0||1/U===1/N)||U!==U&&N!==N}function KV(U,N){if(S4(U,N))return!0;if(typeof U!=="object"||U===null||typeof N!=="object"||N===null)return!1;var V=Object.keys(U),w=Object.keys(N);if(V.length!==w.length)return!1;for(w=0;w<V.length;w++){var C=V[w];if(!RY.call(N,C)||!S4(U[C],N[C]))return!1}return!0}function A40(U){for(;U&&U.firstChild;)U=U.firstChild;return U}function V40(U,N){var V=A40(U);U=0;for(var w;V;){if(V.nodeType===3){if(w=U+V.textContent.length,U<=N&&w>=N)return{node:V,offset:N-U};U=w}$:{for(;V;){if(V.nextSibling){V=V.nextSibling;break $}V=V.parentNode}V=void 0}V=A40(V)}}function R40(U,N){return U&&N?U===N?!0:U&&U.nodeType===3?!1:N&&N.nodeType===3?R40(U,N.parentNode):("contains"in U)?U.contains(N):U.compareDocumentPosition?!!(U.compareDocumentPosition(N)&16):!1:!1}function G40(U){U=U!=null&&U.ownerDocument!=null&&U.ownerDocument.defaultView!=null?U.ownerDocument.defaultView:window;for(var N=xD(U.document);N instanceof U.HTMLIFrameElement;){try{var V=typeof N.contentWindow.location.href==="string"}catch(w){V=!1}if(V)U=N.contentWindow;else break;N=xD(U.document)}return N}function qb(U){var N=U&&U.nodeName&&U.nodeName.toLowerCase();return N&&(N==="input"&&(U.type==="text"||U.type==="search"||U.type==="tel"||U.type==="url"||U.type==="password")||N==="textarea"||U.contentEditable==="true")}function O40(U,N,V){var w=V.window===V?V.document:V.nodeType===9?V:V.ownerDocument;Dy||gH==null||gH!==xD(w)||(w=gH,("selectionStart"in w)&&qb(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),mV&&KV(mV,w)||(mV=w,w=EC(Ty,"onSelect"),0<w.length&&(N=new rC("onSelect","select",null,N,V),U.push({event:N,listeners:w}),N.target=gH)))}function b2(U,N){var V={};return V[U.toLowerCase()]=N.toLowerCase(),V["Webkit"+U]="webkit"+N,V["Moz"+U]="moz"+N,V}function g2(U){if(Cy[U])return Cy[U];if(!yH[U])return U;var N=yH[U],V;for(V in N)if(N.hasOwnProperty(V)&&V in JQ0)return Cy[U]=N[V];return U}function UQ(U,N){XQ0.set(U,N),v1(N,[U])}function e9(U,N){if(typeof U==="object"&&U!==null){var V=ky.get(U);if(V!==void 0)return V;return N={value:U,source:N,stack:b80(N)},ky.set(U,N),N}return{value:U,source:N,stack:b80(N)}}function nD(){for(var U=xH,N=jy=xH=0;N<U;){var V=r3[N];r3[N++]=null;var w=r3[N];r3[N++]=null;var C=r3[N];r3[N++]=null;var k=r3[N];if(r3[N++]=null,w!==null&&C!==null){var I=w.pending;I===null?C.next=C:(C.next=I.next,I.next=C),w.pending=C}k!==0&&w40(V,C,k)}}function lD(U,N,V,w){r3[xH++]=U,r3[xH++]=N,r3[xH++]=V,r3[xH++]=w,jy|=w,U.lanes|=w,U=U.alternate,U!==null&&(U.lanes|=w)}function Xb(U,N,V,w){return lD(U,N,V,w),rD(U)}function F9(U,N){return lD(U,null,null,N),rD(U)}function w40(U,N,V){U.lanes|=V;var w=U.alternate;w!==null&&(w.lanes|=V);for(var C=!1,k=U.return;k!==null;)k.childLanes|=V,w=k.alternate,w!==null&&(w.childLanes|=V),k.tag===22&&(U=k.stateNode,U===null||U._visibility&sC||(C=!0)),U=k,k=k.return;return U.tag===3?(k=U.stateNode,C&&N!==null&&(C=31-h4(V),U=k.hiddenUpdates,w=U[C],w===null?U[C]=[N]:w.push(N),N.lane=V|536870912),k):null}function rD(U){if(UR>We0)throw HW=UR=0,HR=Jx=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");HW>Fe0&&(HW=0,HR=null,console.error("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render.")),U.alternate===null&&(U.flags&4098)!==0&&k30(U);for(var N=U,V=N.return;V!==null;)N.alternate===null&&(N.flags&4098)!==0&&k30(U),N=V,V=N.return;return N.tag===3?N.stateNode:null}function y2(U){if(i3===null)return U;var N=i3(U);return N===void 0?U:N.current}function Wb(U){if(i3===null)return U;var N=i3(U);return N===void 0?U!==null&&U!==void 0&&typeof U.render==="function"&&(N=y2(U.render),U.render!==N)?(N={$$typeof:SV,render:N},U.displayName!==void 0&&(N.displayName=U.displayName),N):U:N.current}function T40(U,N){if(i3===null)return!1;var V=U.elementType;N=N.type;var w=!1,C=typeof N==="object"&&N!==null?N.$$typeof:null;switch(U.tag){case 1:typeof N==="function"&&(w=!0);break;case 0:typeof N==="function"?w=!0:C===K3&&(w=!0);break;case 11:C===SV?w=!0:C===K3&&(w=!0);break;case 14:case 15:C===yC?w=!0:C===K3&&(w=!0);break;default:return!1}return w&&(U=i3(V),U!==void 0&&U===i3(N))?!0:!1}function D40(U){i3!==null&&typeof WeakSet==="function"&&(cH===null&&(cH=new WeakSet),cH.add(U))}function Fb(U,N,V){var{alternate:w,child:C,sibling:k,tag:I,type:y}=U,n=null;switch(I){case 0:case 15:case 1:n=y;break;case 11:n=y.render}if(i3===null)throw Error("Expected resolveFamily to be set during hot reload.");var s=!1;if(y=!1,n!==null&&(n=i3(n),n!==void 0&&(V.has(n)?y=!0:N.has(n)&&(I===1?y=!0:s=!0))),cH!==null&&(cH.has(U)||w!==null&&cH.has(w))&&(y=!0),y&&(U._debugNeedsRemount=!0),y||s)w=F9(U,2),w!==null&&y7(w,U,2);C===null||y||Fb(C,N,V),k!==null&&Fb(k,N,V)}function Co0(U,N,V,w){this.tag=U,this.key=V,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=N,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null,this.actualDuration=-0,this.actualStartTime=-1.1,this.treeBaseDuration=this.selfBaseDuration=-0,this._debugTask=this._debugStack=this._debugOwner=this._debugInfo=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,FQ0||typeof Object.preventExtensions!=="function"||Object.preventExtensions(this)}function Ub(U){return U=U.prototype,!(!U||!U.isReactComponent)}function XY(U,N){var V=U.alternate;switch(V===null?(V=z(U.tag,N,U.key,U.mode),V.elementType=U.elementType,V.type=U.type,V.stateNode=U.stateNode,V._debugOwner=U._debugOwner,V._debugStack=U._debugStack,V._debugTask=U._debugTask,V._debugHookTypes=U._debugHookTypes,V.alternate=U,U.alternate=V):(V.pendingProps=N,V.type=U.type,V.flags=0,V.subtreeFlags=0,V.deletions=null,V.actualDuration=-0,V.actualStartTime=-1.1),V.flags=U.flags&65011712,V.childLanes=U.childLanes,V.lanes=U.lanes,V.child=U.child,V.memoizedProps=U.memoizedProps,V.memoizedState=U.memoizedState,V.updateQueue=U.updateQueue,N=U.dependencies,V.dependencies=N===null?null:{lanes:N.lanes,firstContext:N.firstContext,_debugThenableState:N._debugThenableState},V.sibling=U.sibling,V.index=U.index,V.ref=U.ref,V.refCleanup=U.refCleanup,V.selfBaseDuration=U.selfBaseDuration,V.treeBaseDuration=U.treeBaseDuration,V._debugInfo=U._debugInfo,V._debugNeedsRemount=U._debugNeedsRemount,V.tag){case 0:case 15:V.type=y2(U.type);break;case 1:V.type=y2(U.type);break;case 11:V.type=Wb(U.type)}return V}function C40(U,N){U.flags&=65011714;var V=U.alternate;return V===null?(U.childLanes=0,U.lanes=N,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null,U.selfBaseDuration=0,U.treeBaseDuration=0):(U.childLanes=V.childLanes,U.lanes=V.lanes,U.child=V.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=V.memoizedProps,U.memoizedState=V.memoizedState,U.updateQueue=V.updateQueue,U.type=V.type,N=V.dependencies,U.dependencies=N===null?null:{lanes:N.lanes,firstContext:N.firstContext,_debugThenableState:N._debugThenableState},U.selfBaseDuration=V.selfBaseDuration,U.treeBaseDuration=V.treeBaseDuration),U}function Hb(U,N,V,w,C,k){var I=0,y=U;if(typeof U==="function")Ub(U)&&(I=1),y=y2(y);else if(typeof U==="string")I=p(),I=Ca0(U,V,I)?26:U==="html"||U==="head"||U==="body"?27:5;else $:switch(U){case $y:return N=z(31,V,N,C),N.elementType=$y,N.lanes=k,N;case LH:return x2(V.children,C,k,N);case gC:I=8,C|=q4,C|=zQ;break;case og:return U=V,w=C,typeof U.id!=="string"&&console.error('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof U.id),N=z(12,U,N,w|x8),N.elementType=og,N.lanes=k,N.stateNode={effectDuration:0,passiveEffectDuration:0},N;case tg:return N=z(13,V,N,C),N.elementType=tg,N.lanes=k,N;case eg:return N=z(19,V,N,C),N.elementType=eg,N.lanes=k,N;default:if(typeof U==="object"&&U!==null)switch(U.$$typeof){case ba0:case hJ:I=10;break $;case ag:I=9;break $;case SV:I=11,y=Wb(y);break $;case yC:I=14;break $;case K3:I=16,y=null;break $}if(y="",U===void 0||typeof U==="object"&&U!==null&&Object.keys(U).length===0)y+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.";U===null?V="null":y8(U)?V="array":U!==void 0&&U.$$typeof===Kq?(V="<"+(v(U.type)||"Unknown")+" />",y=" Did you accidentally export a JSX literal instead of a component?"):V=typeof U,(I=w?f(w):null)&&(y+=`

Check the render method of \``+I+"`."),I=29,V=Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(V+"."+y)),y=null}return N=z(I,V,N,C),N.elementType=U,N.type=y,N.lanes=k,N._debugOwner=w,N}function iD(U,N,V){return N=Hb(U.type,U.key,U.props,U._owner,N,V),N._debugOwner=U._owner,N._debugStack=U._debugStack,N._debugTask=U._debugTask,N}function x2(U,N,V,w){return U=z(7,U,w,N),U.lanes=V,U}function Nb(U,N,V){return U=z(6,U,null,N),U.lanes=V,U}function Bb(U,N,V){return N=z(4,U.children!==null?U.children:[],U.key,N),N.lanes=V,N.stateNode={containerInfo:U.containerInfo,pendingChildren:null,implementation:U.implementation},N}function c2(U,N){u2(),uH[mH++]=aC,uH[mH++]=oC,oC=U,aC=N}function P40(U,N,V){u2(),s3[o3++]=OY,s3[o3++]=wY,s3[o3++]=e2,e2=U;var w=OY;U=wY;var C=32-h4(w)-1;w&=~(1<<C),V+=1;var k=32-h4(N)+C;if(30<k){var I=C-C%5;k=(w&(1<<I)-1).toString(32),w>>=I,C-=I,OY=1<<32-h4(N)+C|V<<C|w,wY=k+U}else OY=1<<k|V<<C|w,wY=U}function zb(U){u2(),U.return!==null&&(c2(U,1),P40(U,1,0))}function Ab(U){for(;U===oC;)oC=uH[--mH],uH[mH]=null,aC=uH[--mH],uH[mH]=null;for(;U===e2;)e2=s3[--o3],s3[o3]=null,wY=s3[--o3],s3[o3]=null,OY=s3[--o3],s3[o3]=null}function u2(){t5||console.error("Expected to be hydrating. This is a bug in React. Please file an issue.")}function m2(U,N){if(U.return===null){if(a3===null)a3={fiber:U,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:N};else{if(a3.fiber!==U)throw Error("Saw multiple hydration diff roots in a pass. This is a bug in React.");a3.distanceFromLeaf>N&&(a3.distanceFromLeaf=N)}return a3}var V=m2(U.return,N+1).children;if(0<V.length&&V[V.length-1].fiber===U)return V=V[V.length-1],V.distanceFromLeaf>N&&(V.distanceFromLeaf=N),V;return N={fiber:U,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:N},V.push(N),N}function Vb(U,N){TY||(U=m2(U,0),U.serverProps=null,N!==null&&(N=l30(N),U.serverTail.push(N)))}function p2(U){var N="",V=a3;throw V!==null&&(a3=null,N=Jb(V)),qV(e9(Error(`Hydration failed because the server rendered HTML didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

https://react.dev/link/hydration-mismatch`+N),U)),Ey}function k40(U){var{stateNode:N,type:V,memoizedProps:w}=U;switch(N[Z4]=U,N[N9]=w,fg(V,w),V){case"dialog":x5("cancel",N),x5("close",N);break;case"iframe":case"object":case"embed":x5("load",N);break;case"video":case"audio":for(V=0;V<NR.length;V++)x5(NR[V],N);break;case"source":x5("error",N);break;case"img":case"image":case"link":x5("error",N),x5("load",N);break;case"details":x5("toggle",N);break;case"input":W5("input",w),x5("invalid",N),c80(N,w),u80(N,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0),yD(N);break;case"option":m80(N,w);break;case"select":W5("select",w),x5("invalid",N),d80(N,w);break;case"textarea":W5("textarea",w),x5("invalid",N),n80(N,w),r80(N,w.value,w.defaultValue,w.children),yD(N)}V=w.children,typeof V!=="string"&&typeof V!=="number"&&typeof V!=="bigint"||N.textContent===""+V||w.suppressHydrationWarning===!0||b30(N.textContent,V)?(w.popover!=null&&(x5("beforetoggle",N),x5("toggle",N)),w.onScroll!=null&&x5("scroll",N),w.onScrollEnd!=null&&x5("scrollend",N),w.onClick!=null&&(N.onclick=LC),N=!0):N=!1,N||p2(U)}function j40(U){for(_4=U.return;_4;)switch(_4.tag){case 5:case 13:MJ=!1;return;case 27:case 3:MJ=!0;return;default:_4=_4.return}}function YV(U){if(U!==_4)return!1;if(!t5)return j40(U),t5=!0,!1;var N=U.tag,V;if(V=N!==3&&N!==27){if(V=N===5)V=U.type,V=!(V!=="form"&&V!=="button")||yg(U.type,U.memoizedProps);V=!V}if(V&&D7){for(V=D7;V;){var w=m2(U,0),C=l30(V);w.serverTail.push(C),V=C.type==="Suspense"?i30(V):l3(V.nextSibling)}p2(U)}if(j40(U),N===13){if(U=U.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");D7=i30(U)}else N===27?(N=D7,Jq(U.type)?(U=zx,zx=null,D7=U):D7=N):D7=_4?l3(U.stateNode.nextSibling):null;return!0}function ZV(){D7=_4=null,TY=t5=!1}function E40(){var U=$W;return U!==null&&(M4===null?M4=U:M4.push.apply(M4,U),$W=null),U}function qV(U){$W===null?$W=[U]:$W.push(U)}function L40(){var U=a3;if(U!==null){a3=null;for(var N=Jb(U);0<U.children.length;)U=U.children[0];_1(U.fiber,function(){console.error(`A tree hydrated but some attributes of the server rendered HTML didn't match the client properties. This won't be patched up. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

%s%s`,"https://react.dev/link/hydration-mismatch",N)})}}function sD(){pH=tC=null,dH=!1}function iZ(U,N,V){x(Ly,N._currentValue,U),N._currentValue=V,x(hy,N._currentRenderer,U),N._currentRenderer!==void 0&&N._currentRenderer!==null&&N._currentRenderer!==BQ0&&console.error("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),N._currentRenderer=BQ0}function WY(U,N){U._currentValue=Ly.current;var V=hy.current;b(hy,N),U._currentRenderer=V,b(Ly,N)}function Rb(U,N,V){for(;U!==null;){var w=U.alternate;if((U.childLanes&N)!==N?(U.childLanes|=N,w!==null&&(w.childLanes|=N)):w!==null&&(w.childLanes&N)!==N&&(w.childLanes|=N),U===V)break;U=U.return}U!==V&&console.error("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function Gb(U,N,V,w){var C=U.child;C!==null&&(C.return=U);for(;C!==null;){var k=C.dependencies;if(k!==null){var I=C.child;k=k.firstContext;$:for(;k!==null;){var y=k;k=C;for(var n=0;n<N.length;n++)if(y.context===N[n]){k.lanes|=V,y=k.alternate,y!==null&&(y.lanes|=V),Rb(k.return,V,U),w||(I=null);break $}k=y.next}}else if(C.tag===18){if(I=C.return,I===null)throw Error("We just came from a parent so we must have had a parent. This is a bug in React.");I.lanes|=V,k=I.alternate,k!==null&&(k.lanes|=V),Rb(I,V,U),I=null}else I=C.child;if(I!==null)I.return=C;else for(I=C;I!==null;){if(I===U){I=null;break}if(C=I.sibling,C!==null){C.return=I.return,I=C;break}I=I.return}C=I}}function XV(U,N,V,w){U=null;for(var C=N,k=!1;C!==null;){if(!k){if((C.flags&524288)!==0)k=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var I=C.alternate;if(I===null)throw Error("Should have a current fiber. This is a bug in React.");if(I=I.memoizedProps,I!==null){var y=C.type;S4(C.pendingProps.value,I.value)||(U!==null?U.push(y):U=[y])}}else if(C===xC.current){if(I=C.alternate,I===null)throw Error("Should have a current fiber. This is a bug in React.");I.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(U!==null?U.push(VR):U=[VR])}C=C.return}U!==null&&Gb(N,U,V,w),N.flags|=262144}function oD(U){for(U=U.firstContext;U!==null;){if(!S4(U.context._currentValue,U.memoizedValue))return!0;U=U.next}return!1}function d2(U){tC=U,pH=null,U=U.dependencies,U!==null&&(U.firstContext=null)}function Y7(U){return dH&&console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo()."),h40(tC,U)}function aD(U,N){return tC===null&&d2(U),h40(U,N)}function h40(U,N){var V=N._currentValue;if(N={context:N,memoizedValue:V,next:null},pH===null){if(U===null)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");pH=N,U.dependencies={lanes:0,firstContext:N,_debugThenableState:null},U.flags|=524288}else pH=pH.next=N;return V}function Ob(){return{controller:new rt0,data:new Map,refCount:0}}function n2(U){U.controller.signal.aborted&&console.warn("A cache instance was retained after it was already freed. This likely indicates a bug in React."),U.refCount++}function WV(U){U.refCount--,0>U.refCount&&console.warn("A cache instance was released after it was already freed. This likely indicates a bug in React."),U.refCount===0&&it0(st0,function(){U.controller.abort()})}function FY(){var U=QW;return QW=0,U}function tD(U){var N=QW;return QW=U,N}function FV(U){var N=QW;return QW+=U,N}function wb(U){B9=nH(),0>U.actualStartTime&&(U.actualStartTime=B9)}function Tb(U){if(0<=B9){var N=nH()-B9;U.actualDuration+=N,U.selfBaseDuration=N,B9=-1}}function v40(U){if(0<=B9){var N=nH()-B9;U.actualDuration+=N,B9=-1}}function DJ(){if(0<=B9){var U=nH()-B9;B9=-1,QW+=U}}function CJ(){B9=nH()}function eD(U){for(var N=U.child;N;)U.actualDuration+=N.actualDuration,N=N.sibling}function Po0(U,N){if(pV===null){var V=pV=[];vy=0,JW=hg(),lH={status:"pending",value:void 0,then:function(w){V.push(w)}}}return vy++,N.then(S40,S40),N}function S40(){if(--vy===0&&pV!==null){lH!==null&&(lH.status="fulfilled");var U=pV;pV=null,JW=0,lH=null;for(var N=0;N<U.length;N++)(0,U[N])()}}function ko0(U,N){var V=[],w={status:"pending",value:null,reason:null,then:function(C){V.push(C)}};return U.then(function(){w.status="fulfilled",w.value=N;for(var C=0;C<V.length;C++)(0,V[C])(N)},function(C){w.status="rejected",w.reason=C;for(C=0;C<V.length;C++)(0,V[C])(void 0)}),w}function Db(){var U=KW.current;return U!==null?U:f6.pooledCache}function $C(U,N){N===null?x(KW,KW.current,U):x(KW,N.pool,U)}function _40(){var U=Db();return U===null?null:{parent:q8._currentValue,pool:U}}function f40(){return{didWarnAboutUncachedPromise:!1,thenables:[]}}function I40(U){return U=U.status,U==="fulfilled"||U==="rejected"}function QC(){}function M40(U,N,V){j0.actQueue!==null&&(j0.didUsePromise=!0);var w=U.thenables;switch(V=w[V],V===void 0?w.push(N):V!==N&&(U.didWarnAboutUncachedPromise||(U.didWarnAboutUncachedPromise=!0,console.error("A component was suspended by an uncached promise. Creating promises inside a Client Component or hook is not yet supported, except via a Suspense-compatible library or framework.")),N.then(QC,QC),N=V),N.status){case"fulfilled":return N.value;case"rejected":throw U=N.reason,g40(U),U;default:if(typeof N.status==="string")N.then(QC,QC);else{if(U=f6,U!==null&&100<U.shellSuspendCounter)throw Error("An unknown Component is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.");U=N,U.status="pending",U.then(function(C){if(N.status==="pending"){var k=N;k.status="fulfilled",k.value=C}},function(C){if(N.status==="pending"){var k=N;k.status="rejected",k.reason=C}})}switch(N.status){case"fulfilled":return N.value;case"rejected":throw U=N.reason,g40(U),U}throw aV=N,YP=!0,oV}}function b40(){if(aV===null)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var U=aV;return aV=null,YP=!1,U}function g40(U){if(U===oV||U===KP)throw Error("Hooks are not supported inside an async component. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.")}function Cb(U){U.updateQueue={baseState:U.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pb(U,N){U=U.updateQueue,N.updateQueue===U&&(N.updateQueue={baseState:U.baseState,firstBaseUpdate:U.firstBaseUpdate,lastBaseUpdate:U.lastBaseUpdate,shared:U.shared,callbacks:null})}function sZ(U){return{lane:U,tag:GQ0,payload:null,callback:null,next:null}}function oZ(U,N,V){var w=U.updateQueue;if(w===null)return null;if(w=w.shared,fy===w&&!TQ0){var C=_(U);console.error(`An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback.

Please update the following component: %s`,C),TQ0=!0}if((F6&I4)!==q3)return C=w.pending,C===null?N.next=N:(N.next=C.next,C.next=N),w.pending=N,N=rD(U),w40(U,null,V),N;return lD(U,w,N,V),rD(U)}function UV(U,N,V){if(N=N.updateQueue,N!==null&&(N=N.shared,(V&4194048)!==0)){var w=N.lanes;w&=U.pendingLanes,V|=w,N.lanes=V,iA(U,V)}}function JC(U,N){var{updateQueue:V,alternate:w}=U;if(w!==null&&(w=w.updateQueue,V===w)){var C=null,k=null;if(V=V.firstBaseUpdate,V!==null){do{var I={lane:V.lane,tag:V.tag,payload:V.payload,callback:null,next:null};k===null?C=k=I:k=k.next=I,V=V.next}while(V!==null);k===null?C=k=N:k=k.next=N}else C=k=N;V={baseState:w.baseState,firstBaseUpdate:C,lastBaseUpdate:k,shared:w.shared,callbacks:w.callbacks},U.updateQueue=V;return}U=V.lastBaseUpdate,U===null?V.firstBaseUpdate=N:U.next=N,V.lastBaseUpdate=N}function HV(){if(Iy){var U=lH;if(U!==null)throw U}}function NV(U,N,V,w){Iy=!1;var C=U.updateQueue;Uq=!1,fy=C.shared;var{firstBaseUpdate:k,lastBaseUpdate:I}=C,y=C.shared.pending;if(y!==null){C.shared.pending=null;var n=y,s=n.next;n.next=null,I===null?k=s:I.next=s,I=n;var O0=U.alternate;O0!==null&&(O0=O0.updateQueue,y=O0.lastBaseUpdate,y!==I&&(y===null?O0.firstBaseUpdate=s:y.next=s,O0.lastBaseUpdate=n))}if(k!==null){var E0=C.baseState;I=0,O0=s=n=null,y=k;do{var G0=y.lane&-536870913,v0=G0!==y.lane;if(v0?(I5&G0)===G0:(w&G0)===G0){G0!==0&&G0===JW&&(Iy=!0),O0!==null&&(O0=O0.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});$:{G0=U;var E1=y,J5=N,I6=V;switch(E1.tag){case OQ0:if(E1=E1.payload,typeof E1==="function"){dH=!0;var c5=E1.call(I6,E0,J5);if(G0.mode&q4){z1(!0);try{E1.call(I6,E0,J5)}finally{z1(!1)}}dH=!1,E0=c5;break $}E0=E1;break $;case _y:G0.flags=G0.flags&-65537|128;case GQ0:if(c5=E1.payload,typeof c5==="function"){if(dH=!0,E1=c5.call(I6,E0,J5),G0.mode&q4){z1(!0);try{c5.call(I6,E0,J5)}finally{z1(!1)}}dH=!1}else E1=c5;if(E1===null||E1===void 0)break $;E0=E5({},E0,E1);break $;case wQ0:Uq=!0}}G0=y.callback,G0!==null&&(U.flags|=64,v0&&(U.flags|=8192),v0=C.callbacks,v0===null?C.callbacks=[G0]:v0.push(G0))}else v0={lane:G0,tag:y.tag,payload:y.payload,callback:y.callback,next:null},O0===null?(s=O0=v0,n=E0):O0=O0.next=v0,I|=G0;if(y=y.next,y===null)if(y=C.shared.pending,y===null)break;else v0=y,y=v0.next,v0.next=null,C.lastBaseUpdate=v0,C.shared.pending=null}while(1);O0===null&&(n=E0),C.baseState=n,C.firstBaseUpdate=s,C.lastBaseUpdate=O0,k===null&&(C.shared.lanes=0),zq|=I,U.lanes=I,U.memoizedState=E0}fy=null}function y40(U,N){if(typeof U!=="function")throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+U);U.call(N)}function jo0(U,N){var V=U.shared.hiddenCallbacks;if(V!==null)for(U.shared.hiddenCallbacks=null,U=0;U<V.length;U++)y40(V[U],N)}function x40(U,N){var V=U.callbacks;if(V!==null)for(U.callbacks=null,U=0;U<V.length;U++)y40(V[U],N)}function c40(U,N){var V=yJ;x(ZP,V,U),x(rH,N,U),yJ=V|N.baseLanes}function kb(U){x(ZP,yJ,U),x(rH,rH.current,U)}function jb(U){yJ=ZP.current,b(rH,U),b(ZP,U)}function f5(){var U=k0;$$===null?$$=[U]:$$.push(U)}function s0(){var U=k0;if($$!==null&&(CY++,$$[CY]!==U)){var N=_(F5);if(!DQ0.has(N)&&(DQ0.add(N),$$!==null)){for(var V="",w=0;w<=CY;w++){var C=$$[w],k=w===CY?U:C;for(C=w+1+". "+C;30>C.length;)C+=" ";C+=k+`
`,V+=C}console.error(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://react.dev/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,N,V)}}}function zH(U){U===void 0||U===null||y8(U)||console.error("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",k0,typeof U)}function KC(){var U=_(F5);PQ0.has(U)||(PQ0.add(U),console.error("ReactDOM.useFormState has been renamed to React.useActionState. Please update %s to use React.useActionState.",U))}function g7(){throw Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function Eb(U,N){if(eV)return!1;if(N===null)return console.error("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",k0),!1;U.length!==N.length&&console.error(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,k0,"["+N.join(", ")+"]","["+U.join(", ")+"]");for(var V=0;V<N.length&&V<U.length;V++)if(!S4(U[V],N[V]))return!1;return!0}function Lb(U,N,V,w,C,k){if(Hq=k,F5=N,$$=U!==null?U._debugHookTypes:null,CY=-1,eV=U!==null&&U.type!==N.type,Object.prototype.toString.call(V)==="[object AsyncFunction]"||Object.prototype.toString.call(V)==="[object AsyncGeneratorFunction]")k=_(F5),My.has(k)||(My.add(k),console.error("%s is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.",k===null?"An unknown Component":"<"+k+">"));N.memoizedState=null,N.updateQueue=null,N.lanes=0,j0.H=U!==null&&U.memoizedState!==null?gy:$$!==null?kQ0:by,ZW=k=(N.mode&q4)!==n6;var I=yy(V,w,C);if(ZW=!1,sH&&(I=hb(N,V,w,C)),k){z1(!0);try{I=hb(N,V,w,C)}finally{z1(!1)}}return u40(U,N),I}function u40(U,N){N._debugHookTypes=$$,N.dependencies===null?DY!==null&&(N.dependencies={lanes:0,firstContext:null,_debugThenableState:DY}):N.dependencies._debugThenableState=DY,j0.H=WP;var V=j6!==null&&j6.next!==null;if(Hq=0,$$=k0=l7=j6=F5=null,CY=-1,U!==null&&(U.flags&65011712)!==(N.flags&65011712)&&console.error("Internal React error: Expected static flag was missing. Please notify the React team."),qP=!1,tV=0,DY=null,V)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");U===null||O8||(U=U.dependencies,U!==null&&oD(U)&&(O8=!0)),YP?(YP=!1,U=!0):U=!1,U&&(N=_(N)||"Unknown",CQ0.has(N)||My.has(N)||(CQ0.add(N),console.error("`use` was called from inside a try/catch block. This is not allowed and can lead to unexpected behavior. To handle errors triggered by `use`, wrap your component in a error boundary.")))}function hb(U,N,V,w){F5=U;var C=0;do{if(sH&&(DY=null),tV=0,sH=!1,C>=at0)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");if(C+=1,eV=!1,l7=j6=null,U.updateQueue!=null){var k=U.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}CY=-1,j0.H=jQ0,k=yy(N,V,w)}while(sH);return k}function Eo0(){var U=j0.H,N=U.useState()[0];return N=typeof N.then==="function"?BV(N):N,U=U.useState()[0],(j6!==null?j6.memoizedState:null)!==U&&(F5.flags|=1024),N}function vb(){var U=XP!==0;return XP=0,U}function Sb(U,N,V){N.updateQueue=U.updateQueue,N.flags=(N.mode&zQ)!==n6?N.flags&-402655237:N.flags&-2053,U.lanes&=~V}function _b(U){if(qP){for(U=U.memoizedState;U!==null;){var N=U.queue;N!==null&&(N.pending=null),U=U.next}qP=!1}Hq=0,$$=l7=j6=F5=null,CY=-1,k0=null,sH=!1,tV=XP=0,DY=null}function U9(){var U={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return l7===null?F5.memoizedState=l7=U:l7=l7.next=U,l7}function O6(){if(j6===null){var U=F5.alternate;U=U!==null?U.memoizedState:null}else U=j6.next;var N=l7===null?F5.memoizedState:l7.next;if(N!==null)l7=N,j6=U;else{if(U===null){if(F5.alternate===null)throw Error("Update hook called on initial render. This is likely a bug in React. Please file an issue.");throw Error("Rendered more hooks than during the previous render.")}j6=U,U={memoizedState:j6.memoizedState,baseState:j6.baseState,baseQueue:j6.baseQueue,queue:j6.queue,next:null},l7===null?F5.memoizedState=l7=U:l7=l7.next=U}return l7}function fb(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function BV(U){var N=tV;return tV+=1,DY===null&&(DY=f40()),U=M40(DY,U,N),N=F5,(l7===null?N.memoizedState:l7.next)===null&&(N=N.alternate,j0.H=N!==null&&N.memoizedState!==null?gy:by),U}function aZ(U){if(U!==null&&typeof U==="object"){if(typeof U.then==="function")return BV(U);if(U.$$typeof===hJ)return Y7(U)}throw Error("An unsupported type was passed to use(): "+String(U))}function l2(U){var N=null,V=F5.updateQueue;if(V!==null&&(N=V.memoCache),N==null){var w=F5.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(N={data:w.data.map(function(C){return C.slice()}),index:0})))}if(N==null&&(N={data:[],index:0}),V===null&&(V=fb(),F5.updateQueue=V),V.memoCache=N,V=N.data[N.index],V===void 0||eV)for(V=N.data[N.index]=Array(U),w=0;w<U;w++)V[w]=ga0;else V.length!==U&&console.error("Expected a constant size argument for each invocation of useMemoCache. The previous cache was allocated with size %s but size %s was requested.",V.length,U);return N.index++,V}function HQ(U,N){return typeof N==="function"?N(U):N}function Ib(U,N,V){var w=U9();if(V!==void 0){var C=V(N);if(ZW){z1(!0);try{V(N)}finally{z1(!1)}}}else C=N;return w.memoizedState=w.baseState=C,U={pending:null,lanes:0,dispatch:null,lastRenderedReducer:U,lastRenderedState:C},w.queue=U,U=U.dispatch=So0.bind(null,F5,U),[w.memoizedState,U]}function AH(U){var N=O6();return Mb(N,j6,U)}function Mb(U,N,V){var w=U.queue;if(w===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");w.lastRenderedReducer=V;var C=U.baseQueue,k=w.pending;if(k!==null){if(C!==null){var I=C.next;C.next=k.next,k.next=I}N.baseQueue!==C&&console.error("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),N.baseQueue=C=k,w.pending=null}if(k=U.baseState,C===null)U.memoizedState=k;else{N=C.next;var y=I=null,n=null,s=N,O0=!1;do{var E0=s.lane&-536870913;if(E0!==s.lane?(I5&E0)===E0:(Hq&E0)===E0){var G0=s.revertLane;if(G0===0)n!==null&&(n=n.next={lane:0,revertLane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),E0===JW&&(O0=!0);else if((Hq&G0)===G0){s=s.next,G0===JW&&(O0=!0);continue}else E0={lane:0,revertLane:s.revertLane,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null},n===null?(y=n=E0,I=k):n=n.next=E0,F5.lanes|=G0,zq|=G0;E0=s.action,ZW&&V(k,E0),k=s.hasEagerState?s.eagerState:V(k,E0)}else G0={lane:E0,revertLane:s.revertLane,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null},n===null?(y=n=G0,I=k):n=n.next=G0,F5.lanes|=E0,zq|=E0;s=s.next}while(s!==null&&s!==N);if(n===null?I=k:n.next=y,!S4(k,U.memoizedState)&&(O8=!0,O0&&(V=lH,V!==null)))throw V;U.memoizedState=k,U.baseState=I,U.baseQueue=n,w.lastRenderedState=k}return C===null&&(w.lanes=0),[U.memoizedState,w.dispatch]}function zV(U){var N=O6(),V=N.queue;if(V===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");V.lastRenderedReducer=U;var{dispatch:w,pending:C}=V,k=N.memoizedState;if(C!==null){V.pending=null;var I=C=C.next;do k=U(k,I.action),I=I.next;while(I!==C);S4(k,N.memoizedState)||(O8=!0),N.memoizedState=k,N.baseQueue===null&&(N.baseState=k),V.lastRenderedState=k}return[k,w]}function bb(U,N,V){var w=F5,C=U9();if(t5){if(V===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");var k=V();iH||k===V()||(console.error("The result of getServerSnapshot should be cached to avoid an infinite loop"),iH=!0)}else{if(k=N(),iH||(V=N(),S4(k,V)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),iH=!0)),f6===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");(I5&124)!==0||m40(w,N,k)}return C.memoizedState=k,V={value:k,getSnapshot:N},C.queue=V,WC(d40.bind(null,w,V,U),[U]),w.flags|=2048,RH(e3|X8,XC(),p40.bind(null,w,V,k,N),null),k}function YC(U,N,V){var w=F5,C=O6(),k=t5;if(k){if(V===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");V=V()}else if(V=N(),!iH){var I=N();S4(V,I)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),iH=!0)}if(I=!S4((j6||C).memoizedState,V))C.memoizedState=V,O8=!0;C=C.queue;var y=d40.bind(null,w,C,U);if(H9(2048,X8,y,[U]),C.getSnapshot!==N||I||l7!==null&&l7.memoizedState.tag&e3){if(w.flags|=2048,RH(e3|X8,XC(),p40.bind(null,w,C,V,N),null),f6===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");k||(Hq&124)!==0||m40(w,N,V)}return V}function m40(U,N,V){U.flags|=16384,U={getSnapshot:N,value:V},N=F5.updateQueue,N===null?(N=fb(),F5.updateQueue=N,N.stores=[U]):(V=N.stores,V===null?N.stores=[U]:V.push(U))}function p40(U,N,V,w){N.value=V,N.getSnapshot=w,n40(N)&&l40(U)}function d40(U,N,V){return V(function(){n40(N)&&l40(U)})}function n40(U){var N=U.getSnapshot;U=U.value;try{var V=N();return!S4(U,V)}catch(w){return!0}}function l40(U){var N=F9(U,2);N!==null&&y7(N,U,2)}function gb(U){var N=U9();if(typeof U==="function"){var V=U;if(U=V(),ZW){z1(!0);try{V()}finally{z1(!1)}}}return N.memoizedState=N.baseState=U,N.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:HQ,lastRenderedState:U},N}function yb(U){U=gb(U);var N=U.queue,V=H90.bind(null,F5,N);return N.dispatch=V,[U.memoizedState,V]}function xb(U){var N=U9();N.memoizedState=N.baseState=U;var V={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return N.queue=V,N=tb.bind(null,F5,!0,V),V.dispatch=N,[U,N]}function r40(U,N){var V=O6();return i40(V,j6,U,N)}function i40(U,N,V,w){return U.baseState=V,Mb(U,j6,typeof w==="function"?w:HQ)}function s40(U,N){var V=O6();if(j6!==null)return i40(V,j6,U,N);return V.baseState=U,[U,V.queue.dispatch]}function Lo0(U,N,V,w,C){if(NC(U))throw Error("Cannot update form state while rendering.");if(U=N.action,U!==null){var k={payload:C,action:U,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){k.listeners.push(I)}};j0.T!==null?V(!0):k.isTransition=!1,w(k),V=N.pending,V===null?(k.next=N.pending=k,o40(N,k)):(k.next=V.next,N.pending=V.next=k)}}function o40(U,N){var{action:V,payload:w}=N,C=U.state;if(N.isTransition){var k=j0.T,I={};j0.T=I,j0.T._updatedFibers=new Set;try{var y=V(C,w),n=j0.S;n!==null&&n(I,y),a40(U,N,y)}catch(s){cb(U,N,s)}finally{j0.T=k,k===null&&I._updatedFibers&&(U=I._updatedFibers.size,I._updatedFibers.clear(),10<U&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}else try{I=V(C,w),a40(U,N,I)}catch(s){cb(U,N,s)}}function a40(U,N,V){V!==null&&typeof V==="object"&&typeof V.then==="function"?(V.then(function(w){t40(U,N,w)},function(w){return cb(U,N,w)}),N.isTransition||console.error("An async function with useActionState was called outside of a transition. This is likely not what you intended (for example, isPending will not update correctly). Either call the returned function inside startTransition, or pass it to an `action` or `formAction` prop.")):t40(U,N,V)}function t40(U,N,V){N.status="fulfilled",N.value=V,e40(N),U.state=V,N=U.pending,N!==null&&(V=N.next,V===N?U.pending=null:(V=V.next,N.next=V,o40(U,V)))}function cb(U,N,V){var w=U.pending;if(U.pending=null,w!==null){w=w.next;do N.status="rejected",N.reason=V,e40(N),N=N.next;while(N!==w)}U.action=null}function e40(U){U=U.listeners;for(var N=0;N<U.length;N++)(0,U[N])()}function $90(U,N){return N}function VH(U,N){if(t5){var V=f6.formState;if(V!==null){$:{var w=F5;if(t5){if(D7){Q:{var C=D7;for(var k=MJ;C.nodeType!==8;){if(!k){C=null;break Q}if(C=l3(C.nextSibling),C===null){C=null;break Q}}k=C.data,C=k===Ux||k===PJ0?C:null}if(C){D7=l3(C.nextSibling),w=C.data===Ux;break $}}p2(w)}w=!1}w&&(N=V[0])}}return V=U9(),V.memoizedState=V.baseState=N,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$90,lastRenderedState:N},V.queue=w,V=H90.bind(null,F5,w),w.dispatch=V,w=gb(!1),k=tb.bind(null,F5,!1,w.queue),w=U9(),C={state:N,dispatch:null,action:U,pending:null},w.queue=C,V=Lo0.bind(null,F5,C,k,V),C.dispatch=V,w.memoizedState=U,[N,V,!1]}function ZC(U){var N=O6();return Q90(N,j6,U)}function Q90(U,N,V){if(N=Mb(U,N,$90)[0],U=AH(HQ)[0],typeof N==="object"&&N!==null&&typeof N.then==="function")try{var w=BV(N)}catch(I){if(I===oV)throw KP;throw I}else w=N;N=O6();var C=N.queue,k=C.dispatch;return V!==N.memoizedState&&(F5.flags|=2048,RH(e3|X8,XC(),ho0.bind(null,C,V),null)),[w,k,U]}function ho0(U,N){U.action=N}function qC(U){var N=O6(),V=j6;if(V!==null)return Q90(N,V,U);O6(),N=N.memoizedState,V=O6();var w=V.queue.dispatch;return V.memoizedState=U,[N,w,!1]}function RH(U,N,V,w){return U={tag:U,create:V,deps:w,inst:N,next:null},N=F5.updateQueue,N===null&&(N=fb(),F5.updateQueue=N),V=N.lastEffect,V===null?N.lastEffect=U.next=U:(w=V.next,V.next=U,U.next=w,N.lastEffect=U),U}function XC(){return{destroy:void 0,resource:void 0}}function ub(U){var N=U9();return U={current:U},N.memoizedState=U}function r2(U,N,V,w){var C=U9();w=w===void 0?null:w,F5.flags|=U,C.memoizedState=RH(e3|N,XC(),V,w)}function H9(U,N,V,w){var C=O6();w=w===void 0?null:w;var k=C.memoizedState.inst;j6!==null&&w!==null&&Eb(w,j6.memoizedState.deps)?C.memoizedState=RH(N,k,V,w):(F5.flags|=U,C.memoizedState=RH(e3|N,k,V,w))}function WC(U,N){(F5.mode&zQ)!==n6&&(F5.mode&WQ0)===n6?r2(276826112,X8,U,N):r2(8390656,X8,U,N)}function mb(U,N){var V=4194308;return(F5.mode&zQ)!==n6&&(V|=134217728),r2(V,c8,U,N)}function J90(U,N){if(typeof N==="function"){U=U();var V=N(U);return function(){typeof V==="function"?V():N(null)}}if(N!==null&&N!==void 0)return N.hasOwnProperty("current")||console.error("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(N).join(", ")+"}"),U=U(),N.current=U,function(){N.current=null}}function pb(U,N,V){typeof N!=="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",N!==null?typeof N:"null"),V=V!==null&&V!==void 0?V.concat([U]):null;var w=4194308;(F5.mode&zQ)!==n6&&(w|=134217728),r2(w,c8,J90.bind(null,N,U),V)}function FC(U,N,V){typeof N!=="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",N!==null?typeof N:"null"),V=V!==null&&V!==void 0?V.concat([U]):null,H9(4,c8,J90.bind(null,N,U),V)}function db(U,N){return U9().memoizedState=[U,N===void 0?null:N],U}function UC(U,N){var V=O6();N=N===void 0?null:N;var w=V.memoizedState;if(N!==null&&Eb(N,w[1]))return w[0];return V.memoizedState=[U,N],U}function nb(U,N){var V=U9();N=N===void 0?null:N;var w=U();if(ZW){z1(!0);try{U()}finally{z1(!1)}}return V.memoizedState=[w,N],w}function HC(U,N){var V=O6();N=N===void 0?null:N;var w=V.memoizedState;if(N!==null&&Eb(N,w[1]))return w[0];if(w=U(),ZW){z1(!0);try{U()}finally{z1(!1)}}return V.memoizedState=[w,N],w}function lb(U,N){var V=U9();return rb(V,U,N)}function K90(U,N){var V=O6();return Z90(V,j6.memoizedState,U,N)}function Y90(U,N){var V=O6();return j6===null?rb(V,U,N):Z90(V,j6.memoizedState,U,N)}function rb(U,N,V){if(V===void 0||(Hq&1073741824)!==0)return U.memoizedState=N;return U.memoizedState=V,U=q30(),F5.lanes|=U,zq|=U,V}function Z90(U,N,V,w){if(S4(V,N))return V;if(rH.current!==null)return U=rb(U,V,w),S4(U,N)||(O8=!0),U;if((Hq&42)===0)return O8=!0,U.memoizedState=V;return U=q30(),F5.lanes|=U,zq|=U,N}function q90(U,N,V,w,C){var k=W6.p;W6.p=k!==0&&k<BQ?k:BQ;var I=j0.T,y={};j0.T=y,tb(U,!1,N,V),y._updatedFibers=new Set;try{var n=C(),s=j0.S;if(s!==null&&s(y,n),n!==null&&typeof n==="object"&&typeof n.then==="function"){var O0=ko0(n,w);AV(U,N,O0,J3(U))}else AV(U,N,w,J3(U))}catch(E0){AV(U,N,{then:function(){},status:"rejected",reason:E0},J3(U))}finally{W6.p=k,j0.T=I,I===null&&y._updatedFibers&&(U=y._updatedFibers.size,y._updatedFibers.clear(),10<U&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}function ib(U,N,V,w){if(U.tag!==5)throw Error("Expected the form instance to be a HostComponent. This is a bug in React.");var C=X90(U).queue;q90(U,C,N,VW,V===null?H:function(){return W90(U),V(w)})}function X90(U){var N=U.memoizedState;if(N!==null)return N;N={memoizedState:VW,baseState:VW,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:HQ,lastRenderedState:VW},next:null};var V={};return N.next={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:HQ,lastRenderedState:V},next:null},U.memoizedState=N,U=U.alternate,U!==null&&(U.memoizedState=N),N}function W90(U){j0.T===null&&console.error("requestFormReset was called outside a transition or action. To fix, move to an action, or wrap with startTransition.");var N=X90(U).next.queue;AV(U,N,{},J3(U))}function sb(){var U=gb(!1);return U=q90.bind(null,F5,U.queue,!0,!1),U9().memoizedState=U,[!1,U]}function F90(){var U=AH(HQ)[0],N=O6().memoizedState;return[typeof U==="boolean"?U:BV(U),N]}function U90(){var U=zV(HQ)[0],N=O6().memoizedState;return[typeof U==="boolean"?U:BV(U),N]}function i2(){return Y7(VR)}function ob(){var U=U9(),N=f6.identifierPrefix;if(t5){var V=wY,w=OY;V=(w&~(1<<32-h4(w)-1)).toString(32)+V,N="«"+N+"R"+V,V=XP++,0<V&&(N+="H"+V.toString(32)),N+="»"}else V=ot0++,N="«"+N+"r"+V.toString(32)+"»";return U.memoizedState=N}function ab(){return U9().memoizedState=vo0.bind(null,F5)}function vo0(U,N){for(var V=U.return;V!==null;){switch(V.tag){case 24:case 3:var w=J3(V);U=sZ(w);var C=oZ(V,U,w);C!==null&&(y7(C,V,w),UV(C,V,w)),V=Ob(),N!==null&&N!==void 0&&C!==null&&console.error("The seed argument is not enabled outside experimental channels."),U.payload={cache:V};return}V=V.return}}function So0(U,N,V){var w=arguments;typeof w[3]==="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),w=J3(U);var C={lane:w,revertLane:0,action:V,hasEagerState:!1,eagerState:null,next:null};NC(U)?N90(N,C):(C=Xb(U,N,C,w),C!==null&&(y7(C,U,w),B90(C,N,w))),V5(U,w)}function H90(U,N,V){var w=arguments;typeof w[3]==="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),w=J3(U),AV(U,N,V,w),V5(U,w)}function AV(U,N,V,w){var C={lane:w,revertLane:0,action:V,hasEagerState:!1,eagerState:null,next:null};if(NC(U))N90(N,C);else{var k=U.alternate;if(U.lanes===0&&(k===null||k.lanes===0)&&(k=N.lastRenderedReducer,k!==null)){var I=j0.H;j0.H=VQ;try{var y=N.lastRenderedState,n=k(y,V);if(C.hasEagerState=!0,C.eagerState=n,S4(n,y))return lD(U,N,C,0),f6===null&&nD(),!1}catch(s){}finally{j0.H=I}}if(V=Xb(U,N,C,w),V!==null)return y7(V,U,w),B90(V,N,w),!0}return!1}function tb(U,N,V,w){if(j0.T===null&&JW===0&&console.error("An optimistic state update occurred outside a transition or action. To fix, move the update to an action, or wrap with startTransition."),w={lane:2,revertLane:hg(),action:w,hasEagerState:!1,eagerState:null,next:null},NC(U)){if(N)throw Error("Cannot update optimistic state while rendering.");console.error("Cannot call startTransition while rendering.")}else N=Xb(U,V,w,2),N!==null&&y7(N,U,2);V5(U,2)}function NC(U){var N=U.alternate;return U===F5||N!==null&&N===F5}function N90(U,N){sH=qP=!0;var V=U.pending;V===null?N.next=N:(N.next=V.next,V.next=N),U.pending=N}function B90(U,N,V){if((V&4194048)!==0){var w=N.lanes;w&=U.pendingLanes,V|=w,N.lanes=V,iA(U,V)}}function M8(U){var N=P5;return U!=null&&(P5=N===null?U:N.concat(U)),N}function BC(U,N,V){for(var w=Object.keys(U.props),C=0;C<w.length;C++){var k=w[C];if(k!=="children"&&k!=="key"){N===null&&(N=iD(U,V.mode,0),N._debugInfo=P5,N.return=V),_1(N,function(I){console.error("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",I)},k);break}}}function zC(U){var N=$R;return $R+=1,oH===null&&(oH=f40()),M40(oH,U,N)}function VV(U,N){N=N.props.ref,U.ref=N!==void 0?N:null}function AC(U,N){if(N.$$typeof===Ma0)throw Error(`A React Element from an older version of React was rendered. This is not supported. It can happen if:
- Multiple copies of the "react" package is used.
- A library pre-bundled an old copy of "react" or "react/jsx-runtime".
- A compiler tries to "inline" JSX instead of using the runtime.`);throw U=Object.prototype.toString.call(N),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}function VC(U,N){var V=_(U)||"Component";uQ0[V]||(uQ0[V]=!0,N=N.displayName||N.name||"Component",U.tag===3?console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  root.render(%s)`,N,N,N):console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  <%s>{%s}</%s>`,N,N,V,N,V))}function RC(U,N){var V=_(U)||"Component";mQ0[V]||(mQ0[V]=!0,N=String(N),U.tag===3?console.error(`Symbols are not valid as a React child.
  root.render(%s)`,N):console.error(`Symbols are not valid as a React child.
  <%s>%s</%s>`,V,N,V))}function z90(U){function N($0,K0){if(U){var X0=$0.deletions;X0===null?($0.deletions=[K0],$0.flags|=16):X0.push(K0)}}function V($0,K0){if(!U)return null;for(;K0!==null;)N($0,K0),K0=K0.sibling;return null}function w($0){for(var K0=new Map;$0!==null;)$0.key!==null?K0.set($0.key,$0):K0.set($0.index,$0),$0=$0.sibling;return K0}function C($0,K0){return $0=XY($0,K0),$0.index=0,$0.sibling=null,$0}function k($0,K0,X0){if($0.index=X0,!U)return $0.flags|=1048576,K0;if(X0=$0.alternate,X0!==null)return X0=X0.index,X0<K0?($0.flags|=67108866,K0):X0;return $0.flags|=67108866,K0}function I($0){return U&&$0.alternate===null&&($0.flags|=67108866),$0}function y($0,K0,X0,S0){if(K0===null||K0.tag!==6)return K0=Nb(X0,$0.mode,S0),K0.return=$0,K0._debugOwner=$0,K0._debugTask=$0._debugTask,K0._debugInfo=P5,K0;return K0=C(K0,X0),K0.return=$0,K0._debugInfo=P5,K0}function n($0,K0,X0,S0){var q1=X0.type;if(q1===LH)return K0=O0($0,K0,X0.props.children,S0,X0.key),BC(X0,K0,$0),K0;if(K0!==null&&(K0.elementType===q1||T40(K0,X0)||typeof q1==="object"&&q1!==null&&q1.$$typeof===K3&&Nq(q1)===K0.type))return K0=C(K0,X0.props),VV(K0,X0),K0.return=$0,K0._debugOwner=X0._owner,K0._debugInfo=P5,K0;return K0=iD(X0,$0.mode,S0),VV(K0,X0),K0.return=$0,K0._debugInfo=P5,K0}function s($0,K0,X0,S0){if(K0===null||K0.tag!==4||K0.stateNode.containerInfo!==X0.containerInfo||K0.stateNode.implementation!==X0.implementation)return K0=Bb(X0,$0.mode,S0),K0.return=$0,K0._debugInfo=P5,K0;return K0=C(K0,X0.children||[]),K0.return=$0,K0._debugInfo=P5,K0}function O0($0,K0,X0,S0,q1){if(K0===null||K0.tag!==7)return K0=x2(X0,$0.mode,S0,q1),K0.return=$0,K0._debugOwner=$0,K0._debugTask=$0._debugTask,K0._debugInfo=P5,K0;return K0=C(K0,X0),K0.return=$0,K0._debugInfo=P5,K0}function E0($0,K0,X0){if(typeof K0==="string"&&K0!==""||typeof K0==="number"||typeof K0==="bigint")return K0=Nb(""+K0,$0.mode,X0),K0.return=$0,K0._debugOwner=$0,K0._debugTask=$0._debugTask,K0._debugInfo=P5,K0;if(typeof K0==="object"&&K0!==null){switch(K0.$$typeof){case Kq:return X0=iD(K0,$0.mode,X0),VV(X0,K0),X0.return=$0,$0=M8(K0._debugInfo),X0._debugInfo=P5,P5=$0,X0;case EH:return K0=Bb(K0,$0.mode,X0),K0.return=$0,K0._debugInfo=P5,K0;case K3:var S0=M8(K0._debugInfo);return K0=Nq(K0),$0=E0($0,K0,X0),P5=S0,$0}if(y8(K0)||L(K0))return X0=x2(K0,$0.mode,X0,null),X0.return=$0,X0._debugOwner=$0,X0._debugTask=$0._debugTask,$0=M8(K0._debugInfo),X0._debugInfo=P5,P5=$0,X0;if(typeof K0.then==="function")return S0=M8(K0._debugInfo),$0=E0($0,zC(K0),X0),P5=S0,$0;if(K0.$$typeof===hJ)return E0($0,aD($0,K0),X0);AC($0,K0)}return typeof K0==="function"&&VC($0,K0),typeof K0==="symbol"&&RC($0,K0),null}function G0($0,K0,X0,S0){var q1=K0!==null?K0.key:null;if(typeof X0==="string"&&X0!==""||typeof X0==="number"||typeof X0==="bigint")return q1!==null?null:y($0,K0,""+X0,S0);if(typeof X0==="object"&&X0!==null){switch(X0.$$typeof){case Kq:return X0.key===q1?(q1=M8(X0._debugInfo),$0=n($0,K0,X0,S0),P5=q1,$0):null;case EH:return X0.key===q1?s($0,K0,X0,S0):null;case K3:return q1=M8(X0._debugInfo),X0=Nq(X0),$0=G0($0,K0,X0,S0),P5=q1,$0}if(y8(X0)||L(X0)){if(q1!==null)return null;return q1=M8(X0._debugInfo),$0=O0($0,K0,X0,S0,null),P5=q1,$0}if(typeof X0.then==="function")return q1=M8(X0._debugInfo),$0=G0($0,K0,zC(X0),S0),P5=q1,$0;if(X0.$$typeof===hJ)return G0($0,K0,aD($0,X0),S0);AC($0,X0)}return typeof X0==="function"&&VC($0,X0),typeof X0==="symbol"&&RC($0,X0),null}function v0($0,K0,X0,S0,q1){if(typeof S0==="string"&&S0!==""||typeof S0==="number"||typeof S0==="bigint")return $0=$0.get(X0)||null,y(K0,$0,""+S0,q1);if(typeof S0==="object"&&S0!==null){switch(S0.$$typeof){case Kq:return X0=$0.get(S0.key===null?X0:S0.key)||null,$0=M8(S0._debugInfo),K0=n(K0,X0,S0,q1),P5=$0,K0;case EH:return $0=$0.get(S0.key===null?X0:S0.key)||null,s(K0,$0,S0,q1);case K3:var B5=M8(S0._debugInfo);return S0=Nq(S0),K0=v0($0,K0,X0,S0,q1),P5=B5,K0}if(y8(S0)||L(S0))return X0=$0.get(X0)||null,$0=M8(S0._debugInfo),K0=O0(K0,X0,S0,q1,null),P5=$0,K0;if(typeof S0.then==="function")return B5=M8(S0._debugInfo),K0=v0($0,K0,X0,zC(S0),q1),P5=B5,K0;if(S0.$$typeof===hJ)return v0($0,K0,X0,aD(K0,S0),q1);AC(K0,S0)}return typeof S0==="function"&&VC(K0,S0),typeof S0==="symbol"&&RC(K0,S0),null}function E1($0,K0,X0,S0){if(typeof X0!=="object"||X0===null)return S0;switch(X0.$$typeof){case Kq:case EH:X($0,K0,X0);var q1=X0.key;if(typeof q1!=="string")break;if(S0===null){S0=new Set,S0.add(q1);break}if(!S0.has(q1)){S0.add(q1);break}_1(K0,function(){console.error("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.",q1)});break;case K3:X0=Nq(X0),E1($0,K0,X0,S0)}return S0}function J5($0,K0,X0,S0){for(var q1=null,B5=null,L1=null,z5=K0,G5=K0=0,l6=null;z5!==null&&G5<X0.length;G5++){z5.index>G5?(l6=z5,z5=null):l6=z5.sibling;var c7=G0($0,z5,X0[G5],S0);if(c7===null){z5===null&&(z5=l6);break}q1=E1($0,c7,X0[G5],q1),U&&z5&&c7.alternate===null&&N($0,z5),K0=k(c7,K0,G5),L1===null?B5=c7:L1.sibling=c7,L1=c7,z5=l6}if(G5===X0.length)return V($0,z5),t5&&c2($0,G5),B5;if(z5===null){for(;G5<X0.length;G5++)z5=E0($0,X0[G5],S0),z5!==null&&(q1=E1($0,z5,X0[G5],q1),K0=k(z5,K0,G5),L1===null?B5=z5:L1.sibling=z5,L1=z5);return t5&&c2($0,G5),B5}for(z5=w(z5);G5<X0.length;G5++)l6=v0(z5,$0,G5,X0[G5],S0),l6!==null&&(q1=E1($0,l6,X0[G5],q1),U&&l6.alternate!==null&&z5.delete(l6.key===null?G5:l6.key),K0=k(l6,K0,G5),L1===null?B5=l6:L1.sibling=l6,L1=l6);return U&&z5.forEach(function(hY){return N($0,hY)}),t5&&c2($0,G5),B5}function I6($0,K0,X0,S0){if(X0==null)throw Error("An iterable object provided no iterator.");for(var q1=null,B5=null,L1=K0,z5=K0=0,G5=null,l6=null,c7=X0.next();L1!==null&&!c7.done;z5++,c7=X0.next()){L1.index>z5?(G5=L1,L1=null):G5=L1.sibling;var hY=G0($0,L1,c7.value,S0);if(hY===null){L1===null&&(L1=G5);break}l6=E1($0,hY,c7.value,l6),U&&L1&&hY.alternate===null&&N($0,L1),K0=k(hY,K0,z5),B5===null?q1=hY:B5.sibling=hY,B5=hY,L1=G5}if(c7.done)return V($0,L1),t5&&c2($0,z5),q1;if(L1===null){for(;!c7.done;z5++,c7=X0.next())L1=E0($0,c7.value,S0),L1!==null&&(l6=E1($0,L1,c7.value,l6),K0=k(L1,K0,z5),B5===null?q1=L1:B5.sibling=L1,B5=L1);return t5&&c2($0,z5),q1}for(L1=w(L1);!c7.done;z5++,c7=X0.next())G5=v0(L1,$0,z5,c7.value,S0),G5!==null&&(l6=E1($0,G5,c7.value,l6),U&&G5.alternate!==null&&L1.delete(G5.key===null?z5:G5.key),K0=k(G5,K0,z5),B5===null?q1=G5:B5.sibling=G5,B5=G5);return U&&L1.forEach(function(Ce0){return N($0,Ce0)}),t5&&c2($0,z5),q1}function c5($0,K0,X0,S0){if(typeof X0==="object"&&X0!==null&&X0.type===LH&&X0.key===null&&(BC(X0,null,$0),X0=X0.props.children),typeof X0==="object"&&X0!==null){switch(X0.$$typeof){case Kq:var q1=M8(X0._debugInfo);$:{for(var B5=X0.key;K0!==null;){if(K0.key===B5){if(B5=X0.type,B5===LH){if(K0.tag===7){V($0,K0.sibling),S0=C(K0,X0.props.children),S0.return=$0,S0._debugOwner=X0._owner,S0._debugInfo=P5,BC(X0,S0,$0),$0=S0;break $}}else if(K0.elementType===B5||T40(K0,X0)||typeof B5==="object"&&B5!==null&&B5.$$typeof===K3&&Nq(B5)===K0.type){V($0,K0.sibling),S0=C(K0,X0.props),VV(S0,X0),S0.return=$0,S0._debugOwner=X0._owner,S0._debugInfo=P5,$0=S0;break $}V($0,K0);break}else N($0,K0);K0=K0.sibling}X0.type===LH?(S0=x2(X0.props.children,$0.mode,S0,X0.key),S0.return=$0,S0._debugOwner=$0,S0._debugTask=$0._debugTask,S0._debugInfo=P5,BC(X0,S0,$0),$0=S0):(S0=iD(X0,$0.mode,S0),VV(S0,X0),S0.return=$0,S0._debugInfo=P5,$0=S0)}return $0=I($0),P5=q1,$0;case EH:$:{q1=X0;for(X0=q1.key;K0!==null;){if(K0.key===X0)if(K0.tag===4&&K0.stateNode.containerInfo===q1.containerInfo&&K0.stateNode.implementation===q1.implementation){V($0,K0.sibling),S0=C(K0,q1.children||[]),S0.return=$0,$0=S0;break $}else{V($0,K0);break}else N($0,K0);K0=K0.sibling}S0=Bb(q1,$0.mode,S0),S0.return=$0,$0=S0}return I($0);case K3:return q1=M8(X0._debugInfo),X0=Nq(X0),$0=c5($0,K0,X0,S0),P5=q1,$0}if(y8(X0))return q1=M8(X0._debugInfo),$0=J5($0,K0,X0,S0),P5=q1,$0;if(L(X0)){if(q1=M8(X0._debugInfo),B5=L(X0),typeof B5!=="function")throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");var L1=B5.call(X0);if(L1===X0){if($0.tag!==0||Object.prototype.toString.call($0.type)!=="[object GeneratorFunction]"||Object.prototype.toString.call(L1)!=="[object Generator]")xQ0||console.error("Using Iterators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. You can also use an Iterable that can iterate multiple times over the same items."),xQ0=!0}else X0.entries!==B5||cy||(console.error("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),cy=!0);return $0=I6($0,K0,L1,S0),P5=q1,$0}if(typeof X0.then==="function")return q1=M8(X0._debugInfo),$0=c5($0,K0,zC(X0),S0),P5=q1,$0;if(X0.$$typeof===hJ)return c5($0,K0,aD($0,X0),S0);AC($0,X0)}if(typeof X0==="string"&&X0!==""||typeof X0==="number"||typeof X0==="bigint")return q1=""+X0,K0!==null&&K0.tag===6?(V($0,K0.sibling),S0=C(K0,q1),S0.return=$0,$0=S0):(V($0,K0),S0=Nb(q1,$0.mode,S0),S0.return=$0,S0._debugOwner=$0,S0._debugTask=$0._debugTask,S0._debugInfo=P5,$0=S0),I($0);return typeof X0==="function"&&VC($0,X0),typeof X0==="symbol"&&RC($0,X0),V($0,K0)}return function($0,K0,X0,S0){var q1=P5;P5=null;try{$R=0;var B5=c5($0,K0,X0,S0);return oH=null,B5}catch(l6){if(l6===oV||l6===KP)throw l6;var L1=z(29,l6,null,$0.mode);L1.lanes=S0,L1.return=$0;var z5=L1._debugInfo=P5;if(L1._debugOwner=$0._debugOwner,L1._debugTask=$0._debugTask,z5!=null){for(var G5=z5.length-1;0<=G5;G5--)if(typeof z5[G5].stack==="string"){L1._debugOwner=z5[G5],L1._debugTask=z5[G5].debugTask;break}}return L1}finally{P5=q1}}}function tZ(U){var N=U.alternate;x(W8,W8.current&tH,U),x(Q$,U,U),gJ===null&&(N===null||rH.current!==null?gJ=U:N.memoizedState!==null&&(gJ=U))}function A90(U){if(U.tag===22){if(x(W8,W8.current,U),x(Q$,U,U),gJ===null){var N=U.alternate;N!==null&&N.memoizedState!==null&&(gJ=U)}}else eZ(U)}function eZ(U){x(W8,W8.current,U),x(Q$,Q$.current,U)}function UY(U){b(Q$,U),gJ===U&&(gJ=null),b(W8,U)}function GC(U){for(var N=U;N!==null;){if(N.tag===13){var V=N.memoizedState;if(V!==null&&(V=V.dehydrated,V===null||V.data===jY||cg(V)))return N}else if(N.tag===19&&N.memoizedProps.revealOrder!==void 0){if((N.flags&128)!==0)return N}else if(N.child!==null){N.child.return=N,N=N.child;continue}if(N===U)break;for(;N.sibling===null;){if(N.return===null||N.return===U)return null;N=N.return}N.sibling.return=N.return,N=N.sibling}return null}function eb(U){if(U!==null&&typeof U!=="function"){var N=String(U);$J0.has(N)||($J0.add(N),console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",U))}}function $g(U,N,V,w){var C=U.memoizedState,k=V(w,C);if(U.mode&q4){z1(!0);try{k=V(w,C)}finally{z1(!1)}}k===void 0&&(N=v(N)||"Component",oQ0.has(N)||(oQ0.add(N),console.error("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",N))),C=k===null||k===void 0?C:E5({},C,k),U.memoizedState=C,U.lanes===0&&(U.updateQueue.baseState=C)}function V90(U,N,V,w,C,k,I){var y=U.stateNode;if(typeof y.shouldComponentUpdate==="function"){if(V=y.shouldComponentUpdate(w,k,I),U.mode&q4){z1(!0);try{V=y.shouldComponentUpdate(w,k,I)}finally{z1(!1)}}return V===void 0&&console.error("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",v(N)||"Component"),V}return N.prototype&&N.prototype.isPureReactComponent?!KV(V,w)||!KV(C,k):!0}function R90(U,N,V,w){var C=N.state;typeof N.componentWillReceiveProps==="function"&&N.componentWillReceiveProps(V,w),typeof N.UNSAFE_componentWillReceiveProps==="function"&&N.UNSAFE_componentWillReceiveProps(V,w),N.state!==C&&(U=_(U)||"Component",nQ0.has(U)||(nQ0.add(U),console.error("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",U)),uy.enqueueReplaceState(N,N.state,null))}function s2(U,N){var V=N;if("ref"in N){V={};for(var w in N)w!=="ref"&&(V[w]=N[w])}if(U=U.defaultProps){V===N&&(V=E5({},V));for(var C in U)V[C]===void 0&&(V[C]=U[C])}return V}function G90(U){my(U),console.warn(`%s

%s
`,eH?"An error occurred in the <"+eH+"> component.":"An error occurred in one of your React components.",`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.`)}function O90(U){var N=eH?"The above error occurred in the <"+eH+"> component.":"The above error occurred in one of your React components.",V="React will try to recreate this component tree from scratch using the error boundary you provided, "+((py||"Anonymous")+".");if(typeof U==="object"&&U!==null&&typeof U.environmentName==="string"){var w=U.environmentName;U=[`%o

%s

%s
`,U,N,V].slice(0),typeof U[0]==="string"?U.splice(0,1,_J0+U[0],fJ0,EP+w+EP,IJ0):U.splice(0,0,_J0,fJ0,EP+w+EP,IJ0),U.unshift(console),w=Te0.apply(console.error,U),w()}else console.error(`%o

%s

%s
`,U,N,V)}function w90(U){my(U)}function OC(U,N){try{eH=N.source?_(N.source):null,py=null;var V=N.value;if(j0.actQueue!==null)j0.thrownErrors.push(V);else{var w=U.onUncaughtError;w(V,{componentStack:N.stack})}}catch(C){setTimeout(function(){throw C})}}function T90(U,N,V){try{eH=V.source?_(V.source):null,py=_(N);var w=U.onCaughtError;w(V.value,{componentStack:V.stack,errorBoundary:N.tag===1?N.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function Qg(U,N,V){return V=sZ(V),V.tag=_y,V.payload={element:null},V.callback=function(){_1(N.source,OC,U,N)},V}function Jg(U){return U=sZ(U),U.tag=_y,U}function Kg(U,N,V,w){var C=V.type.getDerivedStateFromError;if(typeof C==="function"){var k=w.value;U.payload=function(){return C(k)},U.callback=function(){D40(V),_1(w.source,T90,N,V,w)}}var I=V.stateNode;I!==null&&typeof I.componentDidCatch==="function"&&(U.callback=function(){D40(V),_1(w.source,T90,N,V,w),typeof C!=="function"&&(Vq===null?Vq=new Set([this]):Vq.add(this)),tt0(this,w),typeof C==="function"||(V.lanes&2)===0&&console.error("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",_(V)||"Unknown")})}function _o0(U,N,V,w,C){if(V.flags|=32768,NQ&&CV(U,C),w!==null&&typeof w==="object"&&typeof w.then==="function"){if(N=V.alternate,N!==null&&XV(N,V,C,!0),t5&&(TY=!0),V=Q$.current,V!==null){switch(V.tag){case 13:return gJ===null?Dg():V.alternate===null&&C7===kY&&(C7=ry),V.flags&=-257,V.flags|=65536,V.lanes=C,w===Sy?V.flags|=16384:(N=V.updateQueue,N===null?V.updateQueue=new Set([w]):N.add(w),kg(U,w,C)),!1;case 22:return V.flags|=65536,w===Sy?V.flags|=16384:(N=V.updateQueue,N===null?(N={transitions:null,markerInstances:null,retryQueue:new Set([w])},V.updateQueue=N):(V=N.retryQueue,V===null?N.retryQueue=new Set([w]):V.add(w)),kg(U,w,C)),!1}throw Error("Unexpected Suspense handler tag ("+V.tag+"). This is a bug in React.")}return kg(U,w,C),Dg(),!1}if(t5)return TY=!0,N=Q$.current,N!==null?((N.flags&65536)===0&&(N.flags|=256),N.flags|=65536,N.lanes=C,w!==Ey&&qV(e9(Error("There was an error while hydrating but React was able to recover by instead client rendering from the nearest Suspense boundary.",{cause:w}),V))):(w!==Ey&&qV(e9(Error("There was an error while hydrating but React was able to recover by instead client rendering the entire root.",{cause:w}),V)),U=U.current.alternate,U.flags|=65536,C&=-C,U.lanes|=C,w=e9(w,V),C=Qg(U.stateNode,w,C),JC(U,C),C7!==qW&&(C7=KN)),!1;var k=e9(Error("There was an error during concurrent rendering but React was able to recover by instead synchronously rendering the entire root.",{cause:w}),V);if(WR===null?WR=[k]:WR.push(k),C7!==qW&&(C7=KN),N===null)return!0;w=e9(w,V),V=N;do{switch(V.tag){case 3:return V.flags|=65536,U=C&-C,V.lanes|=U,U=Qg(V.stateNode,w,U),JC(V,U),!1;case 1:if(N=V.type,k=V.stateNode,(V.flags&128)===0&&(typeof N.getDerivedStateFromError==="function"||k!==null&&typeof k.componentDidCatch==="function"&&(Vq===null||!Vq.has(k))))return V.flags|=65536,C&=-C,V.lanes|=C,C=Jg(C),Kg(C,U,V,w),JC(V,C),!1}V=V.return}while(V!==null);return!1}function b8(U,N,V,w){N.child=U===null?pQ0(N,null,V,w):aH(N,U.child,V,w)}function D90(U,N,V,w,C){V=V.render;var k=N.ref;if("ref"in w){var I={};for(var y in w)y!=="ref"&&(I[y]=w[y])}else I=w;if(d2(N),e0(N),w=Lb(U,N,V,I,k,C),y=vb(),P1(),U!==null&&!O8)return Sb(U,N,C),HY(U,N,C);return t5&&y&&zb(N),N.flags|=1,b8(U,N,w,C),N.child}function C90(U,N,V,w,C){if(U===null){var k=V.type;if(typeof k==="function"&&!Ub(k)&&k.defaultProps===void 0&&V.compare===null)return V=y2(k),N.tag=15,N.type=V,Zg(N,k),P90(U,N,V,w,C);return U=Hb(V.type,null,w,N,N.mode,C),U.ref=N.ref,U.return=N,N.child=U}if(k=U.child,!Hg(U,C)){var I=k.memoizedProps;if(V=V.compare,V=V!==null?V:KV,V(I,w)&&U.ref===N.ref)return HY(U,N,C)}return N.flags|=1,U=XY(k,w),U.ref=N.ref,U.return=N,N.child=U}function P90(U,N,V,w,C){if(U!==null){var k=U.memoizedProps;if(KV(k,w)&&U.ref===N.ref&&N.type===U.type)if(O8=!1,N.pendingProps=w=k,Hg(U,C))(U.flags&131072)!==0&&(O8=!0);else return N.lanes=U.lanes,HY(U,N,C)}return Yg(U,N,V,w,C)}function k90(U,N,V){var w=N.pendingProps,C=w.children,k=U!==null?U.memoizedState:null;if(w.mode==="hidden"){if((N.flags&128)!==0){if(w=k!==null?k.baseLanes|V:V,U!==null){C=N.child=U.child;for(k=0;C!==null;)k=k|C.lanes|C.childLanes,C=C.sibling;N.childLanes=k&~w}else N.childLanes=0,N.child=null;return j90(U,N,w,V)}if((V&536870912)!==0)N.memoizedState={baseLanes:0,cachePool:null},U!==null&&$C(N,k!==null?k.cachePool:null),k!==null?c40(N,k):kb(N),A90(N);else return N.lanes=N.childLanes=536870912,j90(U,N,k!==null?k.baseLanes|V:V,V)}else k!==null?($C(N,k.cachePool),c40(N,k),eZ(N),N.memoizedState=null):(U!==null&&$C(N,null),kb(N),eZ(N));return b8(U,N,C,V),N.child}function j90(U,N,V,w){var C=Db();return C=C===null?null:{parent:q8._currentValue,pool:C},N.memoizedState={baseLanes:V,cachePool:C},U!==null&&$C(N,null),kb(N),A90(N),U!==null&&XV(U,N,w,!0),null}function wC(U,N){var V=N.ref;if(V===null)U!==null&&U.ref!==null&&(N.flags|=4194816);else{if(typeof V!=="function"&&typeof V!=="object")throw Error("Expected ref to be a function, an object returned by React.createRef(), or undefined/null.");if(U===null||U.ref!==V)N.flags|=4194816}}function Yg(U,N,V,w,C){if(V.prototype&&typeof V.prototype.render==="function"){var k=v(V)||"Unknown";JJ0[k]||(console.error("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",k,k),JJ0[k]=!0)}if(N.mode&q4&&AQ.recordLegacyContextWarning(N,null),U===null&&(Zg(N,N.type),V.contextTypes&&(k=v(V)||"Unknown",YJ0[k]||(YJ0[k]=!0,console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with React.useContext() instead. (https://react.dev/link/legacy-context)",k)))),d2(N),e0(N),V=Lb(U,N,V,w,void 0,C),w=vb(),P1(),U!==null&&!O8)return Sb(U,N,C),HY(U,N,C);return t5&&w&&zb(N),N.flags|=1,b8(U,N,V,C),N.child}function E90(U,N,V,w,C,k){if(d2(N),e0(N),CY=-1,eV=U!==null&&U.type!==N.type,N.updateQueue=null,V=hb(N,w,V,C),u40(U,N),w=vb(),P1(),U!==null&&!O8)return Sb(U,N,k),HY(U,N,k);return t5&&w&&zb(N),N.flags|=1,b8(U,N,V,k),N.child}function L90(U,N,V,w,C){switch(q(N)){case!1:var k=N.stateNode,I=new N.type(N.memoizedProps,k.context).state;k.updater.enqueueSetState(k,I,null);break;case!0:N.flags|=128,N.flags|=65536,k=Error("Simulated error coming from DevTools");var y=C&-C;if(N.lanes|=y,I=f6,I===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");y=Jg(y),Kg(y,I,N,e9(k,N)),JC(N,y)}if(d2(N),N.stateNode===null){if(I=Fq,k=V.contextType,"contextType"in V&&k!==null&&(k===void 0||k.$$typeof!==hJ)&&!eQ0.has(V)&&(eQ0.add(V),y=k===void 0?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof k!=="object"?" However, it is set to a "+typeof k+".":k.$$typeof===ag?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(k).join(", ")+"}.",console.error("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",v(V)||"Component",y)),typeof k==="object"&&k!==null&&(I=Y7(k)),k=new V(w,I),N.mode&q4){z1(!0);try{k=new V(w,I)}finally{z1(!1)}}if(I=N.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=uy,N.stateNode=k,k._reactInternals=N,k._reactInternalInstance=dQ0,typeof V.getDerivedStateFromProps==="function"&&I===null&&(I=v(V)||"Component",lQ0.has(I)||(lQ0.add(I),console.error("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",I,k.state===null?"null":"undefined",I))),typeof V.getDerivedStateFromProps==="function"||typeof k.getSnapshotBeforeUpdate==="function"){var n=y=I=null;if(typeof k.componentWillMount==="function"&&k.componentWillMount.__suppressDeprecationWarning!==!0?I="componentWillMount":typeof k.UNSAFE_componentWillMount==="function"&&(I="UNSAFE_componentWillMount"),typeof k.componentWillReceiveProps==="function"&&k.componentWillReceiveProps.__suppressDeprecationWarning!==!0?y="componentWillReceiveProps":typeof k.UNSAFE_componentWillReceiveProps==="function"&&(y="UNSAFE_componentWillReceiveProps"),typeof k.componentWillUpdate==="function"&&k.componentWillUpdate.__suppressDeprecationWarning!==!0?n="componentWillUpdate":typeof k.UNSAFE_componentWillUpdate==="function"&&(n="UNSAFE_componentWillUpdate"),I!==null||y!==null||n!==null){k=v(V)||"Component";var s=typeof V.getDerivedStateFromProps==="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";iQ0.has(k)||(iQ0.add(k),console.error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://react.dev/link/unsafe-component-lifecycles`,k,s,I!==null?`
  `+I:"",y!==null?`
  `+y:"",n!==null?`
  `+n:""))}}k=N.stateNode,I=v(V)||"Component",k.render||(V.prototype&&typeof V.prototype.render==="function"?console.error("No `render` method found on the %s instance: did you accidentally return an object from the constructor?",I):console.error("No `render` method found on the %s instance: you may have forgotten to define `render`.",I)),!k.getInitialState||k.getInitialState.isReactClassApproved||k.state||console.error("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",I),k.getDefaultProps&&!k.getDefaultProps.isReactClassApproved&&console.error("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",I),k.contextType&&console.error("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",I),V.childContextTypes&&!tQ0.has(V)&&(tQ0.add(V),console.error("%s uses the legacy childContextTypes API which was removed in React 19. Use React.createContext() instead. (https://react.dev/link/legacy-context)",I)),V.contextTypes&&!aQ0.has(V)&&(aQ0.add(V),console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with static contextType instead. (https://react.dev/link/legacy-context)",I)),typeof k.componentShouldUpdate==="function"&&console.error("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",I),V.prototype&&V.prototype.isPureReactComponent&&typeof k.shouldComponentUpdate<"u"&&console.error("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",v(V)||"A pure component"),typeof k.componentDidUnmount==="function"&&console.error("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",I),typeof k.componentDidReceiveProps==="function"&&console.error("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",I),typeof k.componentWillRecieveProps==="function"&&console.error("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",I),typeof k.UNSAFE_componentWillRecieveProps==="function"&&console.error("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",I),y=k.props!==w,k.props!==void 0&&y&&console.error("When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",I),k.defaultProps&&console.error("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",I,I),typeof k.getSnapshotBeforeUpdate!=="function"||typeof k.componentDidUpdate==="function"||rQ0.has(V)||(rQ0.add(V),console.error("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",v(V))),typeof k.getDerivedStateFromProps==="function"&&console.error("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",I),typeof k.getDerivedStateFromError==="function"&&console.error("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",I),typeof V.getSnapshotBeforeUpdate==="function"&&console.error("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",I),(y=k.state)&&(typeof y!=="object"||y8(y))&&console.error("%s.state: must be set to an object or null",I),typeof k.getChildContext==="function"&&typeof V.childContextTypes!=="object"&&console.error("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",I),k=N.stateNode,k.props=w,k.state=N.memoizedState,k.refs={},Cb(N),I=V.contextType,k.context=typeof I==="object"&&I!==null?Y7(I):Fq,k.state===w&&(I=v(V)||"Component",sQ0.has(I)||(sQ0.add(I),console.error("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",I))),N.mode&q4&&AQ.recordLegacyContextWarning(N,k),AQ.recordUnsafeLifecycleWarnings(N,k),k.state=N.memoizedState,I=V.getDerivedStateFromProps,typeof I==="function"&&($g(N,V,I,w),k.state=N.memoizedState),typeof V.getDerivedStateFromProps==="function"||typeof k.getSnapshotBeforeUpdate==="function"||typeof k.UNSAFE_componentWillMount!=="function"&&typeof k.componentWillMount!=="function"||(I=k.state,typeof k.componentWillMount==="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount==="function"&&k.UNSAFE_componentWillMount(),I!==k.state&&(console.error("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",_(N)||"Component"),uy.enqueueReplaceState(k,k.state,null)),NV(N,w,k,C),HV(),k.state=N.memoizedState),typeof k.componentDidMount==="function"&&(N.flags|=4194308),(N.mode&zQ)!==n6&&(N.flags|=134217728),k=!0}else if(U===null){k=N.stateNode;var O0=N.memoizedProps;y=s2(V,O0),k.props=y;var E0=k.context;n=V.contextType,I=Fq,typeof n==="object"&&n!==null&&(I=Y7(n)),s=V.getDerivedStateFromProps,n=typeof s==="function"||typeof k.getSnapshotBeforeUpdate==="function",O0=N.pendingProps!==O0,n||typeof k.UNSAFE_componentWillReceiveProps!=="function"&&typeof k.componentWillReceiveProps!=="function"||(O0||E0!==I)&&R90(N,k,w,I),Uq=!1;var G0=N.memoizedState;k.state=G0,NV(N,w,k,C),HV(),E0=N.memoizedState,O0||G0!==E0||Uq?(typeof s==="function"&&($g(N,V,s,w),E0=N.memoizedState),(y=Uq||V90(N,V,y,w,G0,E0,I))?(n||typeof k.UNSAFE_componentWillMount!=="function"&&typeof k.componentWillMount!=="function"||(typeof k.componentWillMount==="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount==="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount==="function"&&(N.flags|=4194308),(N.mode&zQ)!==n6&&(N.flags|=134217728)):(typeof k.componentDidMount==="function"&&(N.flags|=4194308),(N.mode&zQ)!==n6&&(N.flags|=134217728),N.memoizedProps=w,N.memoizedState=E0),k.props=w,k.state=E0,k.context=I,k=y):(typeof k.componentDidMount==="function"&&(N.flags|=4194308),(N.mode&zQ)!==n6&&(N.flags|=134217728),k=!1)}else{k=N.stateNode,Pb(U,N),I=N.memoizedProps,n=s2(V,I),k.props=n,s=N.pendingProps,G0=k.context,E0=V.contextType,y=Fq,typeof E0==="object"&&E0!==null&&(y=Y7(E0)),O0=V.getDerivedStateFromProps,(E0=typeof O0==="function"||typeof k.getSnapshotBeforeUpdate==="function")||typeof k.UNSAFE_componentWillReceiveProps!=="function"&&typeof k.componentWillReceiveProps!=="function"||(I!==s||G0!==y)&&R90(N,k,w,y),Uq=!1,G0=N.memoizedState,k.state=G0,NV(N,w,k,C),HV();var v0=N.memoizedState;I!==s||G0!==v0||Uq||U!==null&&U.dependencies!==null&&oD(U.dependencies)?(typeof O0==="function"&&($g(N,V,O0,w),v0=N.memoizedState),(n=Uq||V90(N,V,n,w,G0,v0,y)||U!==null&&U.dependencies!==null&&oD(U.dependencies))?(E0||typeof k.UNSAFE_componentWillUpdate!=="function"&&typeof k.componentWillUpdate!=="function"||(typeof k.componentWillUpdate==="function"&&k.componentWillUpdate(w,v0,y),typeof k.UNSAFE_componentWillUpdate==="function"&&k.UNSAFE_componentWillUpdate(w,v0,y)),typeof k.componentDidUpdate==="function"&&(N.flags|=4),typeof k.getSnapshotBeforeUpdate==="function"&&(N.flags|=1024)):(typeof k.componentDidUpdate!=="function"||I===U.memoizedProps&&G0===U.memoizedState||(N.flags|=4),typeof k.getSnapshotBeforeUpdate!=="function"||I===U.memoizedProps&&G0===U.memoizedState||(N.flags|=1024),N.memoizedProps=w,N.memoizedState=v0),k.props=w,k.state=v0,k.context=y,k=n):(typeof k.componentDidUpdate!=="function"||I===U.memoizedProps&&G0===U.memoizedState||(N.flags|=4),typeof k.getSnapshotBeforeUpdate!=="function"||I===U.memoizedProps&&G0===U.memoizedState||(N.flags|=1024),k=!1)}if(y=k,wC(U,N),I=(N.flags&128)!==0,y||I){if(y=N.stateNode,oM(N),I&&typeof V.getDerivedStateFromError!=="function")V=null,B9=-1;else{if(e0(N),V=hQ0(y),N.mode&q4){z1(!0);try{hQ0(y)}finally{z1(!1)}}P1()}N.flags|=1,U!==null&&I?(N.child=aH(N,U.child,null,C),N.child=aH(N,null,V,C)):b8(U,N,V,C),N.memoizedState=y.state,U=N.child}else U=HY(U,N,C);return C=N.stateNode,k&&C.props!==w&&($N||console.error("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",_(N)||"a component"),$N=!0),U}function h90(U,N,V,w){return ZV(),N.flags|=256,b8(U,N,V,w),N.child}function Zg(U,N){N&&N.childContextTypes&&console.error(`childContextTypes cannot be defined on a function component.
  %s.childContextTypes = ...`,N.displayName||N.name||"Component"),typeof N.getDerivedStateFromProps==="function"&&(U=v(N)||"Unknown",ZJ0[U]||(console.error("%s: Function components do not support getDerivedStateFromProps.",U),ZJ0[U]=!0)),typeof N.contextType==="object"&&N.contextType!==null&&(N=v(N)||"Unknown",KJ0[N]||(console.error("%s: Function components do not support contextType.",N),KJ0[N]=!0))}function qg(U){return{baseLanes:U,cachePool:_40()}}function Xg(U,N,V){return U=U!==null?U.childLanes&~V:0,N&&(U|=W3),U}function v90(U,N,V){var w,C=N.pendingProps;Z(N)&&(N.flags|=128);var k=!1,I=(N.flags&128)!==0;if((w=I)||(w=U!==null&&U.memoizedState===null?!1:(W8.current&QR)!==0),w&&(k=!0,N.flags&=-129),w=(N.flags&32)!==0,N.flags&=-33,U===null){if(t5){if(k?tZ(N):eZ(N),t5){var y=D7,n;if(!(n=!y)){$:{var s=y;for(n=MJ;s.nodeType!==8;){if(!n){n=null;break $}if(s=l3(s.nextSibling),s===null){n=null;break $}}n=s}n!==null?(u2(),N.memoizedState={dehydrated:n,treeContext:e2!==null?{id:OY,overflow:wY}:null,retryLane:536870912,hydrationErrors:null},s=z(18,null,null,n6),s.stateNode=n,s.return=N,N.child=s,_4=N,D7=null,n=!0):n=!1,n=!n}n&&(Vb(N,y),p2(N))}if(y=N.memoizedState,y!==null&&(y=y.dehydrated,y!==null))return cg(y)?N.lanes=32:N.lanes=536870912,null;UY(N)}if(y=C.children,C=C.fallback,k)return eZ(N),k=N.mode,y=TC({mode:"hidden",children:y},k),C=x2(C,k,V,null),y.return=N,C.return=N,y.sibling=C,N.child=y,k=N.child,k.memoizedState=qg(V),k.childLanes=Xg(U,w,V),N.memoizedState=ny,C;return tZ(N),Wg(N,y)}var O0=U.memoizedState;if(O0!==null&&(y=O0.dehydrated,y!==null)){if(I)N.flags&256?(tZ(N),N.flags&=-257,N=Fg(U,N,V)):N.memoizedState!==null?(eZ(N),N.child=U.child,N.flags|=128,N=null):(eZ(N),k=C.fallback,y=N.mode,C=TC({mode:"visible",children:C.children},y),k=x2(k,y,V,null),k.flags|=2,C.return=N,k.return=N,C.sibling=k,N.child=C,aH(N,U.child,null,V),C=N.child,C.memoizedState=qg(V),C.childLanes=Xg(U,w,V),N.memoizedState=ny,N=k);else if(tZ(N),t5&&console.error("We should not be hydrating here. This is a bug in React. Please file a bug."),cg(y)){if(w=y.nextSibling&&y.nextSibling.dataset,w){n=w.dgst;var E0=w.msg;s=w.stck;var G0=w.cstck}y=E0,w=n,C=s,n=k=G0,k=y?Error(y):Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."),k.stack=C||"",k.digest=w,w=n===void 0?null:n,C={value:k,source:null,stack:w},typeof w==="string"&&ky.set(k,C),qV(C),N=Fg(U,N,V)}else if(O8||XV(U,N,V,!1),w=(V&U.childLanes)!==0,O8||w){if(w=f6,w!==null&&(C=V&-V,C=(C&42)!==0?1:FH(C),C=(C&(w.suspendedLanes|V))!==0?0:C,C!==0&&C!==O0.retryLane))throw O0.retryLane=C,F9(U,C),y7(w,U,C),QJ0;y.data===jY||Dg(),N=Fg(U,N,V)}else y.data===jY?(N.flags|=192,N.child=U.child,N=null):(U=O0.treeContext,D7=l3(y.nextSibling),_4=N,t5=!0,$W=null,TY=!1,a3=null,MJ=!1,U!==null&&(u2(),s3[o3++]=OY,s3[o3++]=wY,s3[o3++]=e2,OY=U.id,wY=U.overflow,e2=N),N=Wg(N,C.children),N.flags|=4096);return N}if(k)return eZ(N),k=C.fallback,y=N.mode,n=U.child,s=n.sibling,C=XY(n,{mode:"hidden",children:C.children}),C.subtreeFlags=n.subtreeFlags&65011712,s!==null?k=XY(s,k):(k=x2(k,y,V,null),k.flags|=2),k.return=N,C.return=N,C.sibling=k,N.child=C,C=k,k=N.child,y=U.child.memoizedState,y===null?y=qg(V):(n=y.cachePool,n!==null?(s=q8._currentValue,n=n.parent!==s?{parent:s,pool:s}:n):n=_40(),y={baseLanes:y.baseLanes|V,cachePool:n}),k.memoizedState=y,k.childLanes=Xg(U,w,V),N.memoizedState=ny,C;return tZ(N),V=U.child,U=V.sibling,V=XY(V,{mode:"visible",children:C.children}),V.return=N,V.sibling=null,U!==null&&(w=N.deletions,w===null?(N.deletions=[U],N.flags|=16):w.push(U)),N.child=V,N.memoizedState=null,V}function Wg(U,N){return N=TC({mode:"visible",children:N},U.mode),N.return=U,U.child=N}function TC(U,N){return U=z(22,U,null,N),U.lanes=0,U.stateNode={_visibility:sC,_pendingMarkers:null,_retryCache:null,_transitions:null},U}function Fg(U,N,V){return aH(N,U.child,null,V),U=Wg(N,N.pendingProps.children),U.flags|=2,N.memoizedState=null,U}function S90(U,N,V){U.lanes|=N;var w=U.alternate;w!==null&&(w.lanes|=N),Rb(U.return,N,V)}function _90(U,N){var V=y8(U);return U=!V&&typeof L(U)==="function",V||U?(V=V?"array":"iterable",console.error("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",V,N,V),!1):!0}function Ug(U,N,V,w,C){var k=U.memoizedState;k===null?U.memoizedState={isBackwards:N,rendering:null,renderingStartTime:0,last:w,tail:V,tailMode:C}:(k.isBackwards=N,k.rendering=null,k.renderingStartTime=0,k.last=w,k.tail=V,k.tailMode=C)}function f90(U,N,V){var w=N.pendingProps,C=w.revealOrder,k=w.tail;if(w=w.children,C!==void 0&&C!=="forwards"&&C!=="backwards"&&C!=="together"&&!qJ0[C])if(qJ0[C]=!0,typeof C==="string")switch(C.toLowerCase()){case"together":case"forwards":case"backwards":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',C,C.toLowerCase());break;case"forward":case"backward":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',C,C.toLowerCase());break;default:console.error('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',C)}else console.error('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',C);k===void 0||dy[k]||(k!=="collapsed"&&k!=="hidden"?(dy[k]=!0,console.error('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',k)):C!=="forwards"&&C!=="backwards"&&(dy[k]=!0,console.error('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',k)));$:if((C==="forwards"||C==="backwards")&&w!==void 0&&w!==null&&w!==!1)if(y8(w)){for(var I=0;I<w.length;I++)if(!_90(w[I],I))break $}else if(I=L(w),typeof I==="function"){if(I=I.call(w))for(var y=I.next(),n=0;!y.done;y=I.next()){if(!_90(y.value,n))break $;n++}}else console.error('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',C);if(b8(U,N,w,V),w=W8.current,(w&QR)!==0)w=w&tH|QR,N.flags|=128;else{if(U!==null&&(U.flags&128)!==0)$:for(U=N.child;U!==null;){if(U.tag===13)U.memoizedState!==null&&S90(U,V,N);else if(U.tag===19)S90(U,V,N);else if(U.child!==null){U.child.return=U,U=U.child;continue}if(U===N)break $;for(;U.sibling===null;){if(U.return===null||U.return===N)break $;U=U.return}U.sibling.return=U.return,U=U.sibling}w&=tH}switch(x(W8,w,N),C){case"forwards":V=N.child;for(C=null;V!==null;)U=V.alternate,U!==null&&GC(U)===null&&(C=V),V=V.sibling;V=C,V===null?(C=N.child,N.child=null):(C=V.sibling,V.sibling=null),Ug(N,!1,C,V,k);break;case"backwards":V=null,C=N.child;for(N.child=null;C!==null;){if(U=C.alternate,U!==null&&GC(U)===null){N.child=C;break}U=C.sibling,C.sibling=V,V=C,C=U}Ug(N,!0,V,null,k);break;case"together":Ug(N,!1,null,null,void 0);break;default:N.memoizedState=null}return N.child}function HY(U,N,V){if(U!==null&&(N.dependencies=U.dependencies),B9=-1,zq|=N.lanes,(V&N.childLanes)===0)if(U!==null){if(XV(U,N,V,!1),(V&N.childLanes)===0)return null}else return null;if(U!==null&&N.child!==U.child)throw Error("Resuming work not yet implemented.");if(N.child!==null){U=N.child,V=XY(U,U.pendingProps),N.child=V;for(V.return=N;U.sibling!==null;)U=U.sibling,V=V.sibling=XY(U,U.pendingProps),V.return=N;V.sibling=null}return N.child}function Hg(U,N){if((U.lanes&N)!==0)return!0;return U=U.dependencies,U!==null&&oD(U)?!0:!1}function fo0(U,N,V){switch(N.tag){case 3:m(N,N.stateNode.containerInfo),iZ(N,q8,U.memoizedState.cache),ZV();break;case 27:case 5:o(N);break;case 4:m(N,N.stateNode.containerInfo);break;case 10:iZ(N,N.type,N.memoizedProps.value);break;case 12:(V&N.childLanes)!==0&&(N.flags|=4),N.flags|=2048;var w=N.stateNode;w.effectDuration=-0,w.passiveEffectDuration=-0;break;case 13:if(w=N.memoizedState,w!==null){if(w.dehydrated!==null)return tZ(N),N.flags|=128,null;if((V&N.child.childLanes)!==0)return v90(U,N,V);return tZ(N),U=HY(U,N,V),U!==null?U.sibling:null}tZ(N);break;case 19:var C=(U.flags&128)!==0;if(w=(V&N.childLanes)!==0,w||(XV(U,N,V,!1),w=(V&N.childLanes)!==0),C){if(w)return f90(U,N,V);N.flags|=128}if(C=N.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),x(W8,W8.current,N),w)break;else return null;case 22:case 23:return N.lanes=0,k90(U,N,V);case 24:iZ(N,q8,U.memoizedState.cache)}return HY(U,N,V)}function Ng(U,N,V){if(N._debugNeedsRemount&&U!==null){V=Hb(N.type,N.key,N.pendingProps,N._debugOwner||null,N.mode,N.lanes),V._debugStack=N._debugStack,V._debugTask=N._debugTask;var w=N.return;if(w===null)throw Error("Cannot swap the root fiber.");if(U.alternate=null,N.alternate=null,V.index=N.index,V.sibling=N.sibling,V.return=N.return,V.ref=N.ref,V._debugInfo=N._debugInfo,N===w.child)w.child=V;else{var C=w.child;if(C===null)throw Error("Expected parent to have a child.");for(;C.sibling!==N;)if(C=C.sibling,C===null)throw Error("Expected to find the previous sibling.");C.sibling=V}return N=w.deletions,N===null?(w.deletions=[U],w.flags|=16):N.push(U),V.flags|=2,V}if(U!==null)if(U.memoizedProps!==N.pendingProps||N.type!==U.type)O8=!0;else{if(!Hg(U,V)&&(N.flags&128)===0)return O8=!1,fo0(U,N,V);O8=(U.flags&131072)!==0?!0:!1}else{if(O8=!1,w=t5)u2(),w=(N.flags&1048576)!==0;w&&(w=N.index,u2(),P40(N,aC,w))}switch(N.lanes=0,N.tag){case 16:$:if(w=N.pendingProps,U=Nq(N.elementType),N.type=U,typeof U==="function")Ub(U)?(w=s2(U,w),N.tag=1,N.type=U=y2(U),N=L90(null,N,U,w,V)):(N.tag=0,Zg(N,U),N.type=U=y2(U),N=Yg(null,N,U,w,V));else{if(U!==void 0&&U!==null){if(C=U.$$typeof,C===SV){N.tag=11,N.type=U=Wb(U),N=D90(null,N,U,w,V);break $}else if(C===yC){N.tag=14,N=C90(null,N,U,w,V);break $}}throw N="",U!==null&&typeof U==="object"&&U.$$typeof===K3&&(N=" Did you wrap a component in React.lazy() more than once?"),U=v(U)||U,Error("Element type is invalid. Received a promise that resolves to: "+U+". Lazy element type must resolve to a class or function."+N)}return N;case 0:return Yg(U,N,N.type,N.pendingProps,V);case 1:return w=N.type,C=s2(w,N.pendingProps),L90(U,N,w,C,V);case 3:$:{if(m(N,N.stateNode.containerInfo),U===null)throw Error("Should have a current fiber. This is a bug in React.");w=N.pendingProps;var k=N.memoizedState;C=k.element,Pb(U,N),NV(N,w,null,V);var I=N.memoizedState;if(w=I.cache,iZ(N,q8,w),w!==k.cache&&Gb(N,[q8],V,!0),HV(),w=I.element,k.isDehydrated)if(k={element:w,isDehydrated:!1,cache:I.cache},N.updateQueue.baseState=k,N.memoizedState=k,N.flags&256){N=h90(U,N,w,V);break $}else if(w!==C){C=e9(Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),N),qV(C),N=h90(U,N,w,V);break $}else{switch(U=N.stateNode.containerInfo,U.nodeType){case 9:U=U.body;break;default:U=U.nodeName==="HTML"?U.ownerDocument.body:U}D7=l3(U.firstChild),_4=N,t5=!0,$W=null,TY=!1,a3=null,MJ=!0,U=pQ0(N,null,w,V);for(N.child=U;U;)U.flags=U.flags&-3|4096,U=U.sibling}else{if(ZV(),w===C){N=HY(U,N,V);break $}b8(U,N,w,V)}N=N.child}return N;case 26:return wC(U,N),U===null?(U=t30(N.type,null,N.pendingProps,null))?N.memoizedState=U:t5||(U=N.type,V=N.pendingProps,w=g(Zq.current),w=hC(w).createElement(U),w[Z4]=N,w[N9]=V,g8(w,U,V),$1(w),N.stateNode=w):N.memoizedState=t30(N.type,U.memoizedProps,N.pendingProps,U.memoizedState),null;case 27:return o(N),U===null&&t5&&(w=g(Zq.current),C=p(),w=N.stateNode=o30(N.type,N.pendingProps,w,C,!1),TY||(C=u30(w,N.type,N.pendingProps,C),C!==null&&(m2(N,0).serverProps=C)),_4=N,MJ=!0,C=D7,Jq(N.type)?(zx=C,D7=l3(w.firstChild)):D7=C),b8(U,N,N.pendingProps.children,V),wC(U,N),U===null&&(N.flags|=4194304),N.child;case 5:return U===null&&t5&&(k=p(),w=Kb(N.type,k.ancestorInfo),C=D7,(I=!C)||(I=Va0(C,N.type,N.pendingProps,MJ),I!==null?(N.stateNode=I,TY||(k=u30(I,N.type,N.pendingProps,k),k!==null&&(m2(N,0).serverProps=k)),_4=N,D7=l3(I.firstChild),MJ=!1,k=!0):k=!1,I=!k),I&&(w&&Vb(N,C),p2(N))),o(N),C=N.type,k=N.pendingProps,I=U!==null?U.memoizedProps:null,w=k.children,yg(C,k)?w=null:I!==null&&yg(C,I)&&(N.flags|=32),N.memoizedState!==null&&(C=Lb(U,N,Eo0,null,null,V),VR._currentValue=C),wC(U,N),b8(U,N,w,V),N.child;case 6:return U===null&&t5&&(U=N.pendingProps,V=p(),w=V.ancestorInfo.current,U=w!=null?uD(U,w.tag,V.ancestorInfo.implicitRootScope):!0,V=D7,(w=!V)||(w=Ra0(V,N.pendingProps,MJ),w!==null?(N.stateNode=w,_4=N,D7=null,w=!0):w=!1,w=!w),w&&(U&&Vb(N,V),p2(N))),null;case 13:return v90(U,N,V);case 4:return m(N,N.stateNode.containerInfo),w=N.pendingProps,U===null?N.child=aH(N,null,w,V):b8(U,N,w,V),N.child;case 11:return D90(U,N,N.type,N.pendingProps,V);case 7:return b8(U,N,N.pendingProps,V),N.child;case 8:return b8(U,N,N.pendingProps.children,V),N.child;case 12:return N.flags|=4,N.flags|=2048,w=N.stateNode,w.effectDuration=-0,w.passiveEffectDuration=-0,b8(U,N,N.pendingProps.children,V),N.child;case 10:return w=N.type,C=N.pendingProps,k=C.value,"value"in C||XJ0||(XJ0=!0,console.error("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?")),iZ(N,w,k),b8(U,N,C.children,V),N.child;case 9:return C=N.type._context,w=N.pendingProps.children,typeof w!=="function"&&console.error("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),d2(N),C=Y7(C),e0(N),w=yy(w,C,void 0),P1(),N.flags|=1,b8(U,N,w,V),N.child;case 14:return C90(U,N,N.type,N.pendingProps,V);case 15:return P90(U,N,N.type,N.pendingProps,V);case 19:return f90(U,N,V);case 31:return w=N.pendingProps,V=N.mode,w={mode:w.mode,children:w.children},U===null?(U=TC(w,V),U.ref=N.ref,N.child=U,U.return=N,N=U):(U=XY(U.child,w),U.ref=N.ref,N.child=U,U.return=N,N=U),N;case 22:return k90(U,N,V);case 24:return d2(N),w=Y7(q8),U===null?(C=Db(),C===null&&(C=f6,k=Ob(),C.pooledCache=k,n2(k),k!==null&&(C.pooledCacheLanes|=V),C=k),N.memoizedState={parent:w,cache:C},Cb(N),iZ(N,q8,C)):((U.lanes&V)!==0&&(Pb(U,N),NV(N,null,null,V),HV()),C=U.memoizedState,k=N.memoizedState,C.parent!==w?(C={parent:w,cache:w},N.memoizedState=C,N.lanes===0&&(N.memoizedState=N.updateQueue.baseState=C),iZ(N,q8,w)):(w=k.cache,iZ(N,q8,w),w!==C.cache&&Gb(N,[q8],V,!0))),b8(U,N,N.pendingProps.children,V),N.child;case 29:throw N.pendingProps}throw Error("Unknown unit of work tag ("+N.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function NY(U){U.flags|=4}function I90(U,N){if(N.type!=="stylesheet"||(N.state.loading&J$)!==AW)U.flags&=-16777217;else if(U.flags|=16777216,!K$0(N)){if(N=Q$.current,N!==null&&((I5&4194048)===I5?gJ!==null:(I5&62914560)!==I5&&(I5&536870912)===0||N!==gJ))throw aV=Sy,RQ0;U.flags|=8192}}function DC(U,N){N!==null&&(U.flags|=4),U.flags&16384&&(N=U.tag!==22?u3():536870912,U.lanes|=N,FW|=N)}function RV(U,N){if(!t5)switch(U.tailMode){case"hidden":N=U.tail;for(var V=null;N!==null;)N.alternate!==null&&(V=N),N=N.sibling;V===null?U.tail=null:V.sibling=null;break;case"collapsed":V=U.tail;for(var w=null;V!==null;)V.alternate!==null&&(w=V),V=V.sibling;w===null?N||U.tail===null?U.tail=null:U.tail.sibling=null:w.sibling=null}}function Z7(U){var N=U.alternate!==null&&U.alternate.child===U.child,V=0,w=0;if(N)if((U.mode&x8)!==n6){for(var{selfBaseDuration:C,child:k}=U;k!==null;)V|=k.lanes|k.childLanes,w|=k.subtreeFlags&65011712,w|=k.flags&65011712,C+=k.treeBaseDuration,k=k.sibling;U.treeBaseDuration=C}else for(C=U.child;C!==null;)V|=C.lanes|C.childLanes,w|=C.subtreeFlags&65011712,w|=C.flags&65011712,C.return=U,C=C.sibling;else if((U.mode&x8)!==n6){C=U.actualDuration,k=U.selfBaseDuration;for(var I=U.child;I!==null;)V|=I.lanes|I.childLanes,w|=I.subtreeFlags,w|=I.flags,C+=I.actualDuration,k+=I.treeBaseDuration,I=I.sibling;U.actualDuration=C,U.treeBaseDuration=k}else for(C=U.child;C!==null;)V|=C.lanes|C.childLanes,w|=C.subtreeFlags,w|=C.flags,C.return=U,C=C.sibling;return U.subtreeFlags|=w,U.childLanes=V,N}function Io0(U,N,V){var w=N.pendingProps;switch(Ab(N),N.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Z7(N),null;case 1:return Z7(N),null;case 3:if(V=N.stateNode,w=null,U!==null&&(w=U.memoizedState.cache),N.memoizedState.cache!==w&&(N.flags|=2048),WY(q8,N),u(N),V.pendingContext&&(V.context=V.pendingContext,V.pendingContext=null),U===null||U.child===null)YV(N)?(L40(),NY(N)):U===null||U.memoizedState.isDehydrated&&(N.flags&256)===0||(N.flags|=1024,E40());return Z7(N),null;case 26:return V=N.memoizedState,U===null?(NY(N),V!==null?(Z7(N),I90(N,V)):(Z7(N),N.flags&=-16777217)):V?V!==U.memoizedState?(NY(N),Z7(N),I90(N,V)):(Z7(N),N.flags&=-16777217):(U.memoizedProps!==w&&NY(N),Z7(N),N.flags&=-16777217),null;case 27:t(N),V=g(Zq.current);var C=N.type;if(U!==null&&N.stateNode!=null)U.memoizedProps!==w&&NY(N);else{if(!w){if(N.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return Z7(N),null}U=p(),YV(N)?k40(N,U):(U=o30(C,w,V,U,!0),N.stateNode=U,NY(N))}return Z7(N),null;case 5:if(t(N),V=N.type,U!==null&&N.stateNode!=null)U.memoizedProps!==w&&NY(N);else{if(!w){if(N.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return Z7(N),null}if(C=p(),YV(N))k40(N,C);else{switch(U=g(Zq.current),Kb(V,C.ancestorInfo),C=C.context,U=hC(U),C){case FN:U=U.createElementNS(_H,V);break;case PP:U=U.createElementNS(dC,V);break;default:switch(V){case"svg":U=U.createElementNS(_H,V);break;case"math":U=U.createElementNS(dC,V);break;case"script":U=U.createElement("div"),U.innerHTML="<script></script>",U=U.removeChild(U.firstChild);break;case"select":U=typeof w.is==="string"?U.createElement("select",{is:w.is}):U.createElement("select"),w.multiple?U.multiple=!0:w.size&&(U.size=w.size);break;default:U=typeof w.is==="string"?U.createElement(V,{is:w.is}):U.createElement(V),V.indexOf("-")===-1&&(V!==V.toLowerCase()&&console.error("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",V),Object.prototype.toString.call(U)!=="[object HTMLUnknownElement]"||RY.call(jJ0,V)||(jJ0[V]=!0,console.error("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",V)))}}U[Z4]=N,U[N9]=w;$:for(C=N.child;C!==null;){if(C.tag===5||C.tag===6)U.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===N)break $;for(;C.sibling===null;){if(C.return===null||C.return===N)break $;C=C.return}C.sibling.return=C.return,C=C.sibling}N.stateNode=U;$:switch(g8(U,V,w),V){case"button":case"input":case"select":case"textarea":U=!!w.autoFocus;break $;case"img":U=!0;break $;default:U=!1}U&&NY(N)}}return Z7(N),N.flags&=-16777217,null;case 6:if(U&&N.stateNode!=null)U.memoizedProps!==w&&NY(N);else{if(typeof w!=="string"&&N.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");if(U=g(Zq.current),V=p(),YV(N)){U=N.stateNode,V=N.memoizedProps,C=!TY,w=null;var k=_4;if(k!==null)switch(k.tag){case 3:C&&(C=r30(U,V,w),C!==null&&(m2(N,0).serverProps=C));break;case 27:case 5:w=k.memoizedProps,C&&(C=r30(U,V,w),C!==null&&(m2(N,0).serverProps=C))}U[Z4]=N,U=U.nodeValue===V||w!==null&&w.suppressHydrationWarning===!0||b30(U.nodeValue,V)?!0:!1,U||p2(N)}else C=V.ancestorInfo.current,C!=null&&uD(w,C.tag,V.ancestorInfo.implicitRootScope),U=hC(U).createTextNode(w),U[Z4]=N,N.stateNode=U}return Z7(N),null;case 13:if(w=N.memoizedState,U===null||U.memoizedState!==null&&U.memoizedState.dehydrated!==null){if(C=YV(N),w!==null&&w.dehydrated!==null){if(U===null){if(!C)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(C=N.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");C[Z4]=N,Z7(N),(N.mode&x8)!==n6&&w!==null&&(C=N.child,C!==null&&(N.treeBaseDuration-=C.treeBaseDuration))}else L40(),ZV(),(N.flags&128)===0&&(N.memoizedState=null),N.flags|=4,Z7(N),(N.mode&x8)!==n6&&w!==null&&(C=N.child,C!==null&&(N.treeBaseDuration-=C.treeBaseDuration));C=!1}else C=E40(),U!==null&&U.memoizedState!==null&&(U.memoizedState.hydrationErrors=C),C=!0;if(!C){if(N.flags&256)return UY(N),N;return UY(N),null}}if(UY(N),(N.flags&128)!==0)return N.lanes=V,(N.mode&x8)!==n6&&eD(N),N;return V=w!==null,U=U!==null&&U.memoizedState!==null,V&&(w=N.child,C=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(C=w.alternate.memoizedState.cachePool.pool),k=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(k=w.memoizedState.cachePool.pool),k!==C&&(w.flags|=2048)),V!==U&&V&&(N.child.flags|=8192),DC(N,N.updateQueue),Z7(N),(N.mode&x8)!==n6&&V&&(U=N.child,U!==null&&(N.treeBaseDuration-=U.treeBaseDuration)),null;case 4:return u(N),U===null&&Sg(N.stateNode.containerInfo),Z7(N),null;case 10:return WY(N.type,N),Z7(N),null;case 19:if(b(W8,N),C=N.memoizedState,C===null)return Z7(N),null;if(w=(N.flags&128)!==0,k=C.rendering,k===null)if(w)RV(C,!1);else{if(C7!==kY||U!==null&&(U.flags&128)!==0)for(U=N.child;U!==null;){if(k=GC(U),k!==null){N.flags|=128,RV(C,!1),U=k.updateQueue,N.updateQueue=U,DC(N,U),N.subtreeFlags=0,U=V;for(V=N.child;V!==null;)C40(V,U),V=V.sibling;return x(W8,W8.current&tH|QR,N),N.child}U=U.sibling}C.tail!==null&&vJ()>NP&&(N.flags|=128,w=!0,RV(C,!1),N.lanes=4194304)}else{if(!w)if(U=GC(k),U!==null){if(N.flags|=128,w=!0,U=U.updateQueue,N.updateQueue=U,DC(N,U),RV(C,!0),C.tail===null&&C.tailMode==="hidden"&&!k.alternate&&!t5)return Z7(N),null}else 2*vJ()-C.renderingStartTime>NP&&V!==536870912&&(N.flags|=128,w=!0,RV(C,!1),N.lanes=4194304);C.isBackwards?(k.sibling=N.child,N.child=k):(U=C.last,U!==null?U.sibling=k:N.child=k,C.last=k)}if(C.tail!==null)return U=C.tail,C.rendering=U,C.tail=U.sibling,C.renderingStartTime=vJ(),U.sibling=null,V=W8.current,V=w?V&tH|QR:V&tH,x(W8,V,N),U;return Z7(N),null;case 22:case 23:return UY(N),jb(N),w=N.memoizedState!==null,U!==null?U.memoizedState!==null!==w&&(N.flags|=8192):w&&(N.flags|=8192),w?(V&536870912)!==0&&(N.flags&128)===0&&(Z7(N),N.subtreeFlags&6&&(N.flags|=8192)):Z7(N),V=N.updateQueue,V!==null&&DC(N,V.retryQueue),V=null,U!==null&&U.memoizedState!==null&&U.memoizedState.cachePool!==null&&(V=U.memoizedState.cachePool.pool),w=null,N.memoizedState!==null&&N.memoizedState.cachePool!==null&&(w=N.memoizedState.cachePool.pool),w!==V&&(N.flags|=2048),U!==null&&b(KW,N),null;case 24:return V=null,U!==null&&(V=U.memoizedState.cache),N.memoizedState.cache!==V&&(N.flags|=2048),WY(q8,N),Z7(N),null;case 25:return null;case 30:return null}throw Error("Unknown unit of work tag ("+N.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Mo0(U,N){switch(Ab(N),N.tag){case 1:return U=N.flags,U&65536?(N.flags=U&-65537|128,(N.mode&x8)!==n6&&eD(N),N):null;case 3:return WY(q8,N),u(N),U=N.flags,(U&65536)!==0&&(U&128)===0?(N.flags=U&-65537|128,N):null;case 26:case 27:case 5:return t(N),null;case 13:if(UY(N),U=N.memoizedState,U!==null&&U.dehydrated!==null){if(N.alternate===null)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");ZV()}return U=N.flags,U&65536?(N.flags=U&-65537|128,(N.mode&x8)!==n6&&eD(N),N):null;case 19:return b(W8,N),null;case 4:return u(N),null;case 10:return WY(N.type,N),null;case 22:case 23:return UY(N),jb(N),U!==null&&b(KW,N),U=N.flags,U&65536?(N.flags=U&-65537|128,(N.mode&x8)!==n6&&eD(N),N):null;case 24:return WY(q8,N),null;case 25:return null;default:return null}}function M90(U,N){switch(Ab(N),N.tag){case 3:WY(q8,N),u(N);break;case 26:case 27:case 5:t(N);break;case 4:u(N);break;case 13:UY(N);break;case 19:b(W8,N);break;case 10:WY(N.type,N);break;case 22:case 23:UY(N),jb(N),U!==null&&b(KW,N);break;case 24:WY(q8,N)}}function PJ(U){return(U.mode&x8)!==n6}function b90(U,N){PJ(U)?(CJ(),GV(N,U),DJ()):GV(N,U)}function Bg(U,N,V){PJ(U)?(CJ(),GH(V,U,N),DJ()):GH(V,U,N)}function GV(U,N){try{var V=N.updateQueue,w=V!==null?V.lastEffect:null;if(w!==null){var C=w.next;V=C;do{if((V.tag&U)===U&&((U&X8)!==t3?A1!==null&&typeof A1.markComponentPassiveEffectMountStarted==="function"&&A1.markComponentPassiveEffectMountStarted(N):(U&c8)!==t3&&A1!==null&&typeof A1.markComponentLayoutEffectMountStarted==="function"&&A1.markComponentLayoutEffectMountStarted(N),w=void 0,(U&f4)!==t3&&(XN=!0),w=_1(N,et0,V),(U&f4)!==t3&&(XN=!1),(U&X8)!==t3?A1!==null&&typeof A1.markComponentPassiveEffectMountStopped==="function"&&A1.markComponentPassiveEffectMountStopped():(U&c8)!==t3&&A1!==null&&typeof A1.markComponentLayoutEffectMountStopped==="function"&&A1.markComponentLayoutEffectMountStopped(),w!==void 0&&typeof w!=="function")){var k=void 0;k=(V.tag&c8)!==0?"useLayoutEffect":(V.tag&f4)!==0?"useInsertionEffect":"useEffect";var I=void 0;I=w===null?" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof w.then==="function"?`

It looks like you wrote `+k+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+k+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://react.dev/link/hooks-data-fetching`:" You returned: "+w,_1(N,function(y,n){console.error("%s must not return anything besides a function, which is used for clean-up.%s",y,n)},k,I)}V=V.next}while(V!==C)}}catch(y){P6(N,N.return,y)}}function GH(U,N,V){try{var w=N.updateQueue,C=w!==null?w.lastEffect:null;if(C!==null){var k=C.next;w=k;do{if((w.tag&U)===U){var I=w.inst,y=I.destroy;y!==void 0&&(I.destroy=void 0,(U&X8)!==t3?A1!==null&&typeof A1.markComponentPassiveEffectUnmountStarted==="function"&&A1.markComponentPassiveEffectUnmountStarted(N):(U&c8)!==t3&&A1!==null&&typeof A1.markComponentLayoutEffectUnmountStarted==="function"&&A1.markComponentLayoutEffectUnmountStarted(N),(U&f4)!==t3&&(XN=!0),C=N,_1(C,$e0,C,V,y),(U&f4)!==t3&&(XN=!1),(U&X8)!==t3?A1!==null&&typeof A1.markComponentPassiveEffectUnmountStopped==="function"&&A1.markComponentPassiveEffectUnmountStopped():(U&c8)!==t3&&A1!==null&&typeof A1.markComponentLayoutEffectUnmountStopped==="function"&&A1.markComponentLayoutEffectUnmountStopped())}w=w.next}while(w!==k)}}catch(n){P6(N,N.return,n)}}function g90(U,N){PJ(U)?(CJ(),GV(N,U),DJ()):GV(N,U)}function zg(U,N,V){PJ(U)?(CJ(),GH(V,U,N),DJ()):GH(V,U,N)}function y90(U){var N=U.updateQueue;if(N!==null){var V=U.stateNode;U.type.defaultProps||"ref"in U.memoizedProps||$N||(V.props!==U.memoizedProps&&console.error("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",_(U)||"instance"),V.state!==U.memoizedState&&console.error("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",_(U)||"instance"));try{_1(U,x40,N,V)}catch(w){P6(U,U.return,w)}}}function bo0(U,N,V){return U.getSnapshotBeforeUpdate(N,V)}function go0(U,N){var{memoizedProps:V,memoizedState:w}=N;N=U.stateNode,U.type.defaultProps||"ref"in U.memoizedProps||$N||(N.props!==U.memoizedProps&&console.error("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",_(U)||"instance"),N.state!==U.memoizedState&&console.error("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",_(U)||"instance"));try{var C=s2(U.type,V,U.elementType===U.type),k=_1(U,bo0,N,C,w);V=WJ0,k!==void 0||V.has(U.type)||(V.add(U.type),_1(U,function(){console.error("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",_(U))})),N.__reactInternalSnapshotBeforeUpdate=k}catch(I){P6(U,U.return,I)}}function x90(U,N,V){V.props=s2(U.type,U.memoizedProps),V.state=U.memoizedState,PJ(U)?(CJ(),_1(U,MQ0,U,N,V),DJ()):_1(U,MQ0,U,N,V)}function yo0(U){var N=U.ref;if(N!==null){switch(U.tag){case 26:case 27:case 5:var V=U.stateNode;break;case 30:V=U.stateNode;break;default:V=U.stateNode}if(typeof N==="function")if(PJ(U))try{CJ(),U.refCleanup=N(V)}finally{DJ()}else U.refCleanup=N(V);else typeof N==="string"?console.error("String refs are no longer supported."):N.hasOwnProperty("current")||console.error("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",_(U)),N.current=V}}function OV(U,N){try{_1(U,yo0,U)}catch(V){P6(U,N,V)}}function kJ(U,N){var{ref:V,refCleanup:w}=U;if(V!==null)if(typeof w==="function")try{if(PJ(U))try{CJ(),_1(U,w)}finally{DJ(U)}else _1(U,w)}catch(C){P6(U,N,C)}finally{U.refCleanup=null,U=U.alternate,U!=null&&(U.refCleanup=null)}else if(typeof V==="function")try{if(PJ(U))try{CJ(),_1(U,V,null)}finally{DJ(U)}else _1(U,V,null)}catch(C){P6(U,N,C)}else V.current=null}function c90(U,N,V,w){var C=U.memoizedProps,k=C.id,I=C.onCommit;C=C.onRender,N=N===null?"mount":"update",$P&&(N="nested-update"),typeof C==="function"&&C(k,N,U.actualDuration,U.treeBaseDuration,U.actualStartTime,V),typeof I==="function"&&I(U.memoizedProps.id,N,w,V)}function xo0(U,N,V,w){var C=U.memoizedProps;U=C.id,C=C.onPostCommit,N=N===null?"mount":"update",$P&&(N="nested-update"),typeof C==="function"&&C(U,N,w,V)}function u90(U){var{type:N,memoizedProps:V,stateNode:w}=U;try{_1(U,Xa0,w,N,V,U)}catch(C){P6(U,U.return,C)}}function Ag(U,N,V){try{_1(U,Wa0,U.stateNode,U.type,V,N,U)}catch(w){P6(U,U.return,w)}}function m90(U){return U.tag===5||U.tag===3||U.tag===26||U.tag===27&&Jq(U.type)||U.tag===4}function Vg(U){$:for(;;){for(;U.sibling===null;){if(U.return===null||m90(U.return))return null;U=U.return}U.sibling.return=U.return;for(U=U.sibling;U.tag!==5&&U.tag!==6&&U.tag!==18;){if(U.tag===27&&Jq(U.type))continue $;if(U.flags&2)continue $;if(U.child===null||U.tag===4)continue $;else U.child.return=U,U=U.child}if(!(U.flags&2))return U.stateNode}}function Rg(U,N,V){var w=U.tag;if(w===5||w===6)U=U.stateNode,N?(V.nodeType===9?V.body:V.nodeName==="HTML"?V.ownerDocument.body:V).insertBefore(U,N):(N=V.nodeType===9?V.body:V.nodeName==="HTML"?V.ownerDocument.body:V,N.appendChild(U),V=V._reactRootContainer,V!==null&&V!==void 0||N.onclick!==null||(N.onclick=LC));else if(w!==4&&(w===27&&Jq(U.type)&&(V=U.stateNode,N=null),U=U.child,U!==null))for(Rg(U,N,V),U=U.sibling;U!==null;)Rg(U,N,V),U=U.sibling}function CC(U,N,V){var w=U.tag;if(w===5||w===6)U=U.stateNode,N?V.insertBefore(U,N):V.appendChild(U);else if(w!==4&&(w===27&&Jq(U.type)&&(V=U.stateNode),U=U.child,U!==null))for(CC(U,N,V),U=U.sibling;U!==null;)CC(U,N,V),U=U.sibling}function co0(U){for(var N,V=U.return;V!==null;){if(m90(V)){N=V;break}V=V.return}if(N==null)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");switch(N.tag){case 27:N=N.stateNode,V=Vg(U),CC(U,V,N);break;case 5:V=N.stateNode,N.flags&32&&(d30(V),N.flags&=-33),N=Vg(U),CC(U,N,V);break;case 3:case 4:N=N.stateNode.containerInfo,V=Vg(U),Rg(U,V,N);break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function p90(U){var{stateNode:N,memoizedProps:V}=U;try{_1(U,Ta0,U.type,V,N,U)}catch(w){P6(U,U.return,w)}}function uo0(U,N){if(U=U.containerInfo,Hx=LP,U=G40(U),qb(U)){if("selectionStart"in U)var V={start:U.selectionStart,end:U.selectionEnd};else $:{V=(V=U.ownerDocument)&&V.defaultView||window;var w=V.getSelection&&V.getSelection();if(w&&w.rangeCount!==0){V=w.anchorNode;var{anchorOffset:C,focusNode:k}=w;w=w.focusOffset;try{V.nodeType,k.nodeType}catch(E1){V=null;break $}var I=0,y=-1,n=-1,s=0,O0=0,E0=U,G0=null;Q:for(;;){for(var v0;;){if(E0!==V||C!==0&&E0.nodeType!==3||(y=I+C),E0!==k||w!==0&&E0.nodeType!==3||(n=I+w),E0.nodeType===3&&(I+=E0.nodeValue.length),(v0=E0.firstChild)===null)break;G0=E0,E0=v0}for(;;){if(E0===U)break Q;if(G0===V&&++s===C&&(y=I),G0===k&&++O0===w&&(n=I),(v0=E0.nextSibling)!==null)break;E0=G0,G0=E0.parentNode}E0=v0}V=y===-1||n===-1?null:{start:y,end:n}}else V=null}V=V||{start:0,end:0}}else V=null;Nx={focusedElem:U,selectionRange:V},LP=!1;for(w8=N;w8!==null;)if(N=w8,U=N.child,(N.subtreeFlags&1024)!==0&&U!==null)U.return=N,w8=U;else for(;w8!==null;){switch(U=N=w8,V=U.alternate,C=U.flags,U.tag){case 0:break;case 11:case 15:break;case 1:(C&1024)!==0&&V!==null&&go0(U,V);break;case 3:if((C&1024)!==0){if(U=U.stateNode.containerInfo,V=U.nodeType,V===9)xg(U);else if(V===1)switch(U.nodeName){case"HEAD":case"HTML":case"BODY":xg(U);break;default:U.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((C&1024)!==0)throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}if(U=N.sibling,U!==null){U.return=N.return,w8=U;break}w8=N.return}}function d90(U,N,V){var w=V.flags;switch(V.tag){case 0:case 11:case 15:zY(U,V),w&4&&b90(V,c8|e3);break;case 1:if(zY(U,V),w&4)if(U=V.stateNode,N===null)V.type.defaultProps||"ref"in V.memoizedProps||$N||(U.props!==V.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",_(V)||"instance"),U.state!==V.memoizedState&&console.error("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",_(V)||"instance")),PJ(V)?(CJ(),_1(V,xy,V,U),DJ()):_1(V,xy,V,U);else{var C=s2(V.type,N.memoizedProps);N=N.memoizedState,V.type.defaultProps||"ref"in V.memoizedProps||$N||(U.props!==V.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",_(V)||"instance"),U.state!==V.memoizedState&&console.error("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",_(V)||"instance")),PJ(V)?(CJ(),_1(V,_Q0,V,U,C,N,U.__reactInternalSnapshotBeforeUpdate),DJ()):_1(V,_Q0,V,U,C,N,U.__reactInternalSnapshotBeforeUpdate)}w&64&&y90(V),w&512&&OV(V,V.return);break;case 3:if(N=FY(),zY(U,V),w&64&&(w=V.updateQueue,w!==null)){if(C=null,V.child!==null)switch(V.child.tag){case 27:case 5:C=V.child.stateNode;break;case 1:C=V.child.stateNode}try{_1(V,x40,w,C)}catch(I){P6(V,V.return,I)}}U.effectDuration+=tD(N);break;case 27:N===null&&w&4&&p90(V);case 26:case 5:zY(U,V),N===null&&w&4&&u90(V),w&512&&OV(V,V.return);break;case 12:if(w&4){w=FY(),zY(U,V),U=V.stateNode,U.effectDuration+=FV(w);try{_1(V,c90,V,N,eC,U.effectDuration)}catch(I){P6(V,V.return,I)}}else zY(U,V);break;case 13:zY(U,V),w&4&&r90(U,V),w&64&&(U=V.memoizedState,U!==null&&(U=U.dehydrated,U!==null&&(V=oo0.bind(null,V),Ga0(U,V))));break;case 22:if(w=V.memoizedState!==null||PY,!w){N=N!==null&&N.memoizedState!==null||x7,C=PY;var k=x7;PY=w,(x7=N)&&!k?AY(U,V,(V.subtreeFlags&8772)!==0):zY(U,V),PY=C,x7=k}break;case 30:break;default:zY(U,V)}}function n90(U){var N=U.alternate;N!==null&&(U.alternate=null,n90(N)),U.child=null,U.deletions=null,U.sibling=null,U.tag===5&&(N=U.stateNode,N!==null&&I2(N)),U.stateNode=null,U._debugOwner=null,U.return=null,U.dependencies=null,U.memoizedProps=null,U.memoizedState=null,U.pendingProps=null,U.stateNode=null,U.updateQueue=null}function BY(U,N,V){for(V=V.child;V!==null;)l90(U,N,V),V=V.sibling}function l90(U,N,V){if(Y4&&typeof Y4.onCommitFiberUnmount==="function")try{Y4.onCommitFiberUnmount(vH,V)}catch(k){SJ||(SJ=!0,console.error("React instrumentation encountered an error: %s",k))}switch(V.tag){case 26:x7||kJ(V,N),BY(U,N,V),V.memoizedState?V.memoizedState.count--:V.stateNode&&(V=V.stateNode,V.parentNode.removeChild(V));break;case 27:x7||kJ(V,N);var w=r7,C=z9;Jq(V.type)&&(r7=V.stateNode,z9=!1),BY(U,N,V),_1(V,jV,V.stateNode),r7=w,z9=C;break;case 5:x7||kJ(V,N);case 6:if(w=r7,C=z9,r7=null,BY(U,N,V),r7=w,z9=C,r7!==null)if(z9)try{_1(V,Ha0,r7,V.stateNode)}catch(k){P6(V,N,k)}else try{_1(V,Ua0,r7,V.stateNode)}catch(k){P6(V,N,k)}break;case 18:r7!==null&&(z9?(U=r7,n30(U.nodeType===9?U.body:U.nodeName==="HTML"?U.ownerDocument.body:U,V.stateNode),vV(U)):n30(r7,V.stateNode));break;case 4:w=r7,C=z9,r7=V.stateNode.containerInfo,z9=!0,BY(U,N,V),r7=w,z9=C;break;case 0:case 11:case 14:case 15:x7||GH(f4,V,N),x7||Bg(V,N,c8),BY(U,N,V);break;case 1:x7||(kJ(V,N),w=V.stateNode,typeof w.componentWillUnmount==="function"&&x90(V,N,w)),BY(U,N,V);break;case 21:BY(U,N,V);break;case 22:x7=(w=x7)||V.memoizedState!==null,BY(U,N,V),x7=w;break;default:BY(U,N,V)}}function r90(U,N){if(N.memoizedState===null&&(U=N.alternate,U!==null&&(U=U.memoizedState,U!==null&&(U=U.dehydrated,U!==null))))try{_1(N,wa0,U)}catch(V){P6(N,N.return,V)}}function mo0(U){switch(U.tag){case 13:case 19:var N=U.stateNode;return N===null&&(N=U.stateNode=new FJ0),N;case 22:return U=U.stateNode,N=U._retryCache,N===null&&(N=U._retryCache=new FJ0),N;default:throw Error("Unexpected Suspense handler tag ("+U.tag+"). This is a bug in React.")}}function Gg(U,N){var V=mo0(U);N.forEach(function(w){var C=ao0.bind(null,U,w);if(!V.has(w)){if(V.add(w),NQ)if(QN!==null&&JN!==null)CV(JN,QN);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");w.then(C,C)}})}function $3(U,N){var V=N.deletions;if(V!==null)for(var w=0;w<V.length;w++){var C=U,k=N,I=V[w],y=k;$:for(;y!==null;){switch(y.tag){case 27:if(Jq(y.type)){r7=y.stateNode,z9=!1;break $}break;case 5:r7=y.stateNode,z9=!1;break $;case 3:case 4:r7=y.stateNode.containerInfo,z9=!0;break $}y=y.return}if(r7===null)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");l90(C,k,I),r7=null,z9=!1,C=I,k=C.alternate,k!==null&&(k.return=null),C.return=null}if(N.subtreeFlags&13878)for(N=N.child;N!==null;)i90(N,U),N=N.sibling}function i90(U,N){var{alternate:V,flags:w}=U;switch(U.tag){case 0:case 11:case 14:case 15:$3(N,U),Q3(U),w&4&&(GH(f4|e3,U,U.return),GV(f4|e3,U),Bg(U,U.return,c8|e3));break;case 1:$3(N,U),Q3(U),w&512&&(x7||V===null||kJ(V,V.return)),w&64&&PY&&(U=U.updateQueue,U!==null&&(w=U.callbacks,w!==null&&(V=U.shared.hiddenCallbacks,U.shared.hiddenCallbacks=V===null?w:V.concat(w))));break;case 26:var C=RQ;if($3(N,U),Q3(U),w&512&&(x7||V===null||kJ(V,V.return)),w&4)if(N=V!==null?V.memoizedState:null,w=U.memoizedState,V===null)if(w===null)if(U.stateNode===null){$:{w=U.type,V=U.memoizedProps,N=C.ownerDocument||C;Q:switch(w){case"title":if(C=N.getElementsByTagName("title")[0],!C||C[fV]||C[Z4]||C.namespaceURI===_H||C.hasAttribute("itemprop"))C=N.createElement(w),N.head.insertBefore(C,N.querySelector("head > title"));g8(C,w,V),C[Z4]=U,$1(C),w=C;break $;case"link":var k=Q$0("link","href",N).get(w+(V.href||""));if(k){for(var I=0;I<k.length;I++)if(C=k[I],C.getAttribute("href")===(V.href==null||V.href===""?null:V.href)&&C.getAttribute("rel")===(V.rel==null?null:V.rel)&&C.getAttribute("title")===(V.title==null?null:V.title)&&C.getAttribute("crossorigin")===(V.crossOrigin==null?null:V.crossOrigin)){k.splice(I,1);break Q}}C=N.createElement(w),g8(C,w,V),N.head.appendChild(C);break;case"meta":if(k=Q$0("meta","content",N).get(w+(V.content||""))){for(I=0;I<k.length;I++)if(C=k[I],W0(V.content,"content"),C.getAttribute("content")===(V.content==null?null:""+V.content)&&C.getAttribute("name")===(V.name==null?null:V.name)&&C.getAttribute("property")===(V.property==null?null:V.property)&&C.getAttribute("http-equiv")===(V.httpEquiv==null?null:V.httpEquiv)&&C.getAttribute("charset")===(V.charSet==null?null:V.charSet)){k.splice(I,1);break Q}}C=N.createElement(w),g8(C,w,V),N.head.appendChild(C);break;default:throw Error('getNodesForType encountered a type it did not expect: "'+w+'". This is a bug in React.')}C[Z4]=U,$1(C),w=C}U.stateNode=w}else J$0(C,U.type,U.stateNode);else U.stateNode=$$0(C,w,U.memoizedProps);else N!==w?(N===null?V.stateNode!==null&&(V=V.stateNode,V.parentNode.removeChild(V)):N.count--,w===null?J$0(C,U.type,U.stateNode):$$0(C,w,U.memoizedProps)):w===null&&U.stateNode!==null&&Ag(U,U.memoizedProps,V.memoizedProps);break;case 27:$3(N,U),Q3(U),w&512&&(x7||V===null||kJ(V,V.return)),V!==null&&w&4&&Ag(U,U.memoizedProps,V.memoizedProps);break;case 5:if($3(N,U),Q3(U),w&512&&(x7||V===null||kJ(V,V.return)),U.flags&32){N=U.stateNode;try{_1(U,d30,N)}catch(O0){P6(U,U.return,O0)}}w&4&&U.stateNode!=null&&(N=U.memoizedProps,Ag(U,N,V!==null?V.memoizedProps:N)),w&1024&&(ly=!0,U.type!=="form"&&console.error("Unexpected host component type. Expected a form. This is a bug in React."));break;case 6:if($3(N,U),Q3(U),w&4){if(U.stateNode===null)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");w=U.memoizedProps,V=V!==null?V.memoizedProps:w,N=U.stateNode;try{_1(U,Fa0,N,V,w)}catch(O0){P6(U,U.return,O0)}}break;case 3:if(C=FY(),kP=null,k=RQ,RQ=vC(N.containerInfo),$3(N,U),RQ=k,Q3(U),w&4&&V!==null&&V.memoizedState.isDehydrated)try{_1(U,Oa0,N.containerInfo)}catch(O0){P6(U,U.return,O0)}ly&&(ly=!1,s90(U)),N.effectDuration+=tD(C);break;case 4:w=RQ,RQ=vC(U.stateNode.containerInfo),$3(N,U),Q3(U),RQ=w;break;case 12:w=FY(),$3(N,U),Q3(U),U.stateNode.effectDuration+=FV(w);break;case 13:$3(N,U),Q3(U),U.child.flags&8192&&U.memoizedState!==null!==(V!==null&&V.memoizedState!==null)&&(ty=vJ()),w&4&&(w=U.updateQueue,w!==null&&(U.updateQueue=null,Gg(U,w)));break;case 22:C=U.memoizedState!==null;var y=V!==null&&V.memoizedState!==null,n=PY,s=x7;if(PY=n||C,x7=s||y,$3(N,U),x7=s,PY=n,Q3(U),w&8192)$:for(N=U.stateNode,N._visibility=C?N._visibility&~sC:N._visibility|sC,C&&(V===null||y||PY||x7||o2(U)),V=null,N=U;;){if(N.tag===5||N.tag===26){if(V===null){y=V=N;try{k=y.stateNode,C?_1(y,Na0,k):_1(y,za0,y.stateNode,y.memoizedProps)}catch(O0){P6(y,y.return,O0)}}}else if(N.tag===6){if(V===null){y=N;try{I=y.stateNode,C?_1(y,Ba0,I):_1(y,Aa0,I,y.memoizedProps)}catch(O0){P6(y,y.return,O0)}}}else if((N.tag!==22&&N.tag!==23||N.memoizedState===null||N===U)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===U)break $;for(;N.sibling===null;){if(N.return===null||N.return===U)break $;V===N&&(V=null),N=N.return}V===N&&(V=null),N.sibling.return=N.return,N=N.sibling}w&4&&(w=U.updateQueue,w!==null&&(V=w.retryQueue,V!==null&&(w.retryQueue=null,Gg(U,V))));break;case 19:$3(N,U),Q3(U),w&4&&(w=U.updateQueue,w!==null&&(U.updateQueue=null,Gg(U,w)));break;case 30:break;case 21:break;default:$3(N,U),Q3(U)}}function Q3(U){var N=U.flags;if(N&2){try{_1(U,co0,U)}catch(V){P6(U,U.return,V)}U.flags&=-3}N&4096&&(U.flags&=-4097)}function s90(U){if(U.subtreeFlags&1024)for(U=U.child;U!==null;){var N=U;s90(N),N.tag===5&&N.flags&1024&&N.stateNode.reset(),U=U.sibling}}function zY(U,N){if(N.subtreeFlags&8772)for(N=N.child;N!==null;)d90(U,N.alternate,N),N=N.sibling}function o90(U){switch(U.tag){case 0:case 11:case 14:case 15:Bg(U,U.return,c8),o2(U);break;case 1:kJ(U,U.return);var N=U.stateNode;typeof N.componentWillUnmount==="function"&&x90(U,U.return,N),o2(U);break;case 27:_1(U,jV,U.stateNode);case 26:case 5:kJ(U,U.return),o2(U);break;case 22:U.memoizedState===null&&o2(U);break;case 30:o2(U);break;default:o2(U)}}function o2(U){for(U=U.child;U!==null;)o90(U),U=U.sibling}function a90(U,N,V,w){var C=V.flags;switch(V.tag){case 0:case 11:case 15:AY(U,V,w),b90(V,c8);break;case 1:if(AY(U,V,w),N=V.stateNode,typeof N.componentDidMount==="function"&&_1(V,xy,V,N),N=V.updateQueue,N!==null){U=V.stateNode;try{_1(V,jo0,N,U)}catch(k){P6(V,V.return,k)}}w&&C&64&&y90(V),OV(V,V.return);break;case 27:p90(V);case 26:case 5:AY(U,V,w),w&&N===null&&C&4&&u90(V),OV(V,V.return);break;case 12:if(w&&C&4){C=FY(),AY(U,V,w),w=V.stateNode,w.effectDuration+=FV(C);try{_1(V,c90,V,N,eC,w.effectDuration)}catch(k){P6(V,V.return,k)}}else AY(U,V,w);break;case 13:AY(U,V,w),w&&C&4&&r90(U,V);break;case 22:V.memoizedState===null&&AY(U,V,w),OV(V,V.return);break;case 30:break;default:AY(U,V,w)}}function AY(U,N,V){V=V&&(N.subtreeFlags&8772)!==0;for(N=N.child;N!==null;)a90(U,N.alternate,N,V),N=N.sibling}function Og(U,N){var V=null;U!==null&&U.memoizedState!==null&&U.memoizedState.cachePool!==null&&(V=U.memoizedState.cachePool.pool),U=null,N.memoizedState!==null&&N.memoizedState.cachePool!==null&&(U=N.memoizedState.cachePool.pool),U!==V&&(U!=null&&n2(U),V!=null&&WV(V))}function wg(U,N){U=null,N.alternate!==null&&(U=N.alternate.memoizedState.cache),N=N.memoizedState.cache,N!==U&&(n2(N),U!=null&&WV(U))}function jJ(U,N,V,w){if(N.subtreeFlags&10256)for(N=N.child;N!==null;)t90(U,N,V,w),N=N.sibling}function t90(U,N,V,w){var C=N.flags;switch(N.tag){case 0:case 11:case 15:jJ(U,N,V,w),C&2048&&g90(N,X8|e3);break;case 1:jJ(U,N,V,w);break;case 3:var k=FY();jJ(U,N,V,w),C&2048&&(V=null,N.alternate!==null&&(V=N.alternate.memoizedState.cache),N=N.memoizedState.cache,N!==V&&(n2(N),V!=null&&WV(V))),U.passiveEffectDuration+=tD(k);break;case 12:if(C&2048){C=FY(),jJ(U,N,V,w),U=N.stateNode,U.passiveEffectDuration+=FV(C);try{_1(N,xo0,N,N.alternate,eC,U.passiveEffectDuration)}catch(y){P6(N,N.return,y)}}else jJ(U,N,V,w);break;case 13:jJ(U,N,V,w);break;case 23:break;case 22:k=N.stateNode;var I=N.alternate;N.memoizedState!==null?k._visibility&GY?jJ(U,N,V,w):wV(U,N):k._visibility&GY?jJ(U,N,V,w):(k._visibility|=GY,OH(U,N,V,w,(N.subtreeFlags&10256)!==0)),C&2048&&Og(I,N);break;case 24:jJ(U,N,V,w),C&2048&&wg(N.alternate,N);break;default:jJ(U,N,V,w)}}function OH(U,N,V,w,C){C=C&&(N.subtreeFlags&10256)!==0;for(N=N.child;N!==null;)e90(U,N,V,w,C),N=N.sibling}function e90(U,N,V,w,C){var k=N.flags;switch(N.tag){case 0:case 11:case 15:OH(U,N,V,w,C),g90(N,X8);break;case 23:break;case 22:var I=N.stateNode;N.memoizedState!==null?I._visibility&GY?OH(U,N,V,w,C):wV(U,N):(I._visibility|=GY,OH(U,N,V,w,C)),C&&k&2048&&Og(N.alternate,N);break;case 24:OH(U,N,V,w,C),C&&k&2048&&wg(N.alternate,N);break;default:OH(U,N,V,w,C)}}function wV(U,N){if(N.subtreeFlags&10256)for(N=N.child;N!==null;){var V=U,w=N,C=w.flags;switch(w.tag){case 22:wV(V,w),C&2048&&Og(w.alternate,w);break;case 24:wV(V,w),C&2048&&wg(w.alternate,w);break;default:wV(V,w)}N=N.sibling}}function wH(U){if(U.subtreeFlags&JR)for(U=U.child;U!==null;)$30(U),U=U.sibling}function $30(U){switch(U.tag){case 26:wH(U),U.flags&JR&&U.memoizedState!==null&&ka0(RQ,U.memoizedState,U.memoizedProps);break;case 5:wH(U);break;case 3:case 4:var N=RQ;RQ=vC(U.stateNode.containerInfo),wH(U),RQ=N;break;case 22:U.memoizedState===null&&(N=U.alternate,N!==null&&N.memoizedState!==null?(N=JR,JR=16777216,wH(U),JR=N):wH(U));break;default:wH(U)}}function Q30(U){var N=U.alternate;if(N!==null&&(U=N.child,U!==null)){N.child=null;do N=U.sibling,U.sibling=null,U=N;while(U!==null)}}function TV(U){var N=U.deletions;if((U.flags&16)!==0){if(N!==null)for(var V=0;V<N.length;V++){var w=N[V];w8=w,Y30(w,U)}Q30(U)}if(U.subtreeFlags&10256)for(U=U.child;U!==null;)J30(U),U=U.sibling}function J30(U){switch(U.tag){case 0:case 11:case 15:TV(U),U.flags&2048&&zg(U,U.return,X8|e3);break;case 3:var N=FY();TV(U),U.stateNode.passiveEffectDuration+=tD(N);break;case 12:N=FY(),TV(U),U.stateNode.passiveEffectDuration+=FV(N);break;case 22:N=U.stateNode,U.memoizedState!==null&&N._visibility&GY&&(U.return===null||U.return.tag!==13)?(N._visibility&=~GY,PC(U)):TV(U);break;default:TV(U)}}function PC(U){var N=U.deletions;if((U.flags&16)!==0){if(N!==null)for(var V=0;V<N.length;V++){var w=N[V];w8=w,Y30(w,U)}Q30(U)}for(U=U.child;U!==null;)K30(U),U=U.sibling}function K30(U){switch(U.tag){case 0:case 11:case 15:zg(U,U.return,X8),PC(U);break;case 22:var N=U.stateNode;N._visibility&GY&&(N._visibility&=~GY,PC(U));break;default:PC(U)}}function Y30(U,N){for(;w8!==null;){var V=w8,w=V;switch(w.tag){case 0:case 11:case 15:zg(w,N,X8);break;case 23:case 22:w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(w=w.memoizedState.cachePool.pool,w!=null&&n2(w));break;case 24:WV(w.memoizedState.cache)}if(w=V.child,w!==null)w.return=V,w8=w;else $:for(V=U;w8!==null;){w=w8;var{sibling:C,return:k}=w;if(n90(w),w===V){w8=null;break $}if(C!==null){C.return=k,w8=C;break $}w8=k}}}function po0(){Je0.forEach(function(U){return U()})}function Z30(){var U=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return U||j0.actQueue===null||console.error("The current testing environment is not configured to support act(...)"),U}function J3(U){if((F6&I4)!==q3&&I5!==0)return I5&-I5;var N=j0.T;return N!==null?(N._updatedFibers||(N._updatedFibers=new Set),N._updatedFibers.add(U),U=JW,U!==0?U:hg()):f2()}function q30(){W3===0&&(W3=(I5&536870912)===0||t5?o9():536870912);var U=Q$.current;return U!==null&&(U.flags|=32),W3}function y7(U,N,V){if(XN&&console.error("useInsertionEffect must not schedule updates."),Kx&&(BP=!0),U===f6&&(N6===XW||N6===WW)||U.cancelPendingCommit!==null)DH(U,0),$q(U,I5,W3,!1);if(lZ(U,V),(F6&I4)!==0&&U===f6){if(fJ)switch(N.tag){case 0:case 11:case 15:U=h5&&_(h5)||"Unknown",OJ0.has(U)||(OJ0.add(U),N=_(N)||"Unknown",console.error("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://react.dev/link/setstate-in-render",N,U,U));break;case 1:GJ0||(console.error("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),GJ0=!0)}}else NQ&&sA(U,N,V),eo0(N),U===f6&&((F6&I4)===q3&&(Aq|=V),C7===qW&&$q(U,I5,W3,!1)),EJ(U)}function X30(U,N,V){if((F6&(I4|GQ))!==q3)throw Error("Should not already be working.");var w=!V&&(N&124)===0&&(N&U.expiredLanes)===0||x1(U,N),C=w?no0(U,N):Cg(U,N,!0),k=w;do{if(C===kY){ZN&&!w&&$q(U,N,0,!1);break}else{if(V=U.current.alternate,k&&!do0(V)){C=Cg(U,N,!1),k=!1;continue}if(C===KN){if(k=N,U.errorRecoveryDisabledLanes&k)var I=0;else I=U.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){N=I;$:{C=U;var y=I;I=WR;var n=C.current.memoizedState.isDehydrated;if(n&&(DH(C,y).flags|=256),y=Cg(C,y,!1),y!==KN){if(oy&&!n){C.errorRecoveryDisabledLanes|=k,Aq|=k,C=qW;break $}C=M4,M4=I,C!==null&&(M4===null?M4=C:M4.push.apply(M4,C))}C=y}if(k=!1,C!==KN)continue}}if(C===YR){DH(U,0),$q(U,N,0,!0);break}$:{switch(w=U,C){case kY:case YR:throw Error("Root did not complete. This is a bug in React.");case qW:if((N&4194048)!==N)break;case UP:$q(w,N,W3,!Bq);break $;case KN:M4=null;break;case ry:case UJ0:break;default:throw Error("Unknown root exit status.")}if(j0.actQueue!==null)Pg(w,V,N,M4,FR,HP,W3,Aq,FW);else{if((N&62914560)===N&&(k=ty+NJ0-vJ(),10<k)){if($q(w,N,W3,!Bq),d6(w,0,!0)!==0)break $;w.timeoutHandle=EJ0(W30.bind(null,w,V,M4,FR,HP,N,W3,Aq,FW,Bq,C,qe0,zQ0,0),k);break $}W30(w,V,M4,FR,HP,N,W3,Aq,FW,Bq,C,Ye0,zQ0,0)}}}break}while(1);EJ(U)}function W30(U,N,V,w,C,k,I,y,n,s,O0,E0,G0,v0){if(U.timeoutHandle=zW,E0=N.subtreeFlags,E0&8192||(E0&16785408)===16785408){if(AR={stylesheets:null,count:0,unsuspend:Pa0},$30(N),E0=ja0(),E0!==null){U.cancelPendingCommit=E0(Pg.bind(null,U,N,k,V,w,C,I,y,n,O0,Ze0,G0,v0)),$q(U,k,I,!s);return}}Pg(U,N,k,V,w,C,I,y,n)}function do0(U){for(var N=U;;){var V=N.tag;if((V===0||V===11||V===15)&&N.flags&16384&&(V=N.updateQueue,V!==null&&(V=V.stores,V!==null)))for(var w=0;w<V.length;w++){var C=V[w],k=C.getSnapshot;C=C.value;try{if(!S4(k(),C))return!1}catch(I){return!1}}if(V=N.child,N.subtreeFlags&16384&&V!==null)V.return=N,N=V;else{if(N===U)break;for(;N.sibling===null;){if(N.return===null||N.return===U)return!0;N=N.return}N.sibling.return=N.return,N=N.sibling}}return!0}function $q(U,N,V,w){N&=~ay,N&=~Aq,U.suspendedLanes|=N,U.pingedLanes&=~N,w&&(U.warmLanes|=N),w=U.expirationTimes;for(var C=N;0<C;){var k=31-h4(C),I=1<<k;w[k]=-1,C&=~I}V!==0&&MD(U,V,N)}function TH(){return(F6&(I4|GQ))===q3?(PV(0,!1),!1):!0}function Tg(){if(h5!==null){if(N6===A9)var U=h5.return;else U=h5,sD(),_b(U),oH=null,$R=0,U=h5;for(;U!==null;)M90(U.alternate,U),U=U.return;h5=null}}function DH(U,N){var V=U.timeoutHandle;V!==zW&&(U.timeoutHandle=zW,Oe0(V)),V=U.cancelPendingCommit,V!==null&&(U.cancelPendingCommit=null,V()),Tg(),f6=U,h5=V=XY(U.current,null),I5=N,N6=A9,X3=null,Bq=!1,ZN=x1(U,N),oy=!1,C7=kY,FW=W3=ay=Aq=zq=0,M4=WR=null,HP=!1,(N&8)!==0&&(N|=N&32);var w=U.entangledLanes;if(w!==0)for(U=U.entanglements,w&=N;0<w;){var C=31-h4(w),k=1<<C;N|=U[C],w&=~k}return yJ=N,nD(),N=NQ0(),1000<N-HQ0&&(j0.recentlyCreatedOwnerStacks=0,HQ0=N),AQ.discardPendingWarnings(),V}function F30(U,N){F5=null,j0.H=WP,j0.getCurrentStack=null,fJ=!1,Z3=null,N===oV||N===KP?(N=b40(),N6=qR):N===RQ0?(N=b40(),N6=HJ0):N6=N===QJ0?sy:N!==null&&typeof N==="object"&&typeof N.then==="function"?YN:ZR,X3=N;var V=h5;if(V===null)C7=YR,OC(U,e9(N,U.current));else switch(V.mode&x8&&Tb(V),P1(),N6){case ZR:A1!==null&&typeof A1.markComponentErrored==="function"&&A1.markComponentErrored(V,N,I5);break;case XW:case WW:case qR:case YN:case XR:A1!==null&&typeof A1.markComponentSuspended==="function"&&A1.markComponentSuspended(V,N,I5)}}function U30(){var U=j0.H;return j0.H=WP,U===null?WP:U}function H30(){var U=j0.A;return j0.A=Qe0,U}function Dg(){C7=qW,Bq||(I5&4194048)!==I5&&Q$.current!==null||(ZN=!0),(zq&134217727)===0&&(Aq&134217727)===0||f6===null||$q(f6,I5,W3,!1)}function Cg(U,N,V){var w=F6;F6|=I4;var C=U30(),k=H30();if(f6!==U||I5!==N){if(NQ){var I=U.memoizedUpdaters;0<I.size&&(CV(U,I5),I.clear()),oA(U,N)}FR=null,DH(U,N)}t0(N),N=!1,I=C7;$:do try{if(N6!==A9&&h5!==null){var y=h5,n=X3;switch(N6){case sy:Tg(),I=UP;break $;case qR:case XW:case WW:case YN:Q$.current===null&&(N=!0);var s=N6;if(N6=A9,X3=null,CH(U,y,n,s),V&&ZN){I=kY;break $}break;default:s=N6,N6=A9,X3=null,CH(U,y,n,s)}}N30(),I=C7;break}catch(O0){F30(U,O0)}while(1);return N&&U.shellSuspendCounter++,sD(),F6=w,j0.H=C,j0.A=k,w1(),h5===null&&(f6=null,I5=0,nD()),I}function N30(){for(;h5!==null;)B30(h5)}function no0(U,N){var V=F6;F6|=I4;var w=U30(),C=H30();if(f6!==U||I5!==N){if(NQ){var k=U.memoizedUpdaters;0<k.size&&(CV(U,I5),k.clear()),oA(U,N)}FR=null,NP=vJ()+BJ0,DH(U,N)}else ZN=x1(U,N);t0(N);$:do try{if(N6!==A9&&h5!==null)Q:switch(N=h5,k=X3,N6){case ZR:N6=A9,X3=null,CH(U,N,k,ZR);break;case XW:case WW:if(I40(k)){N6=A9,X3=null,z30(N);break}N=function(){N6!==XW&&N6!==WW||f6!==U||(N6=XR),EJ(U)},k.then(N,N);break $;case qR:N6=XR;break $;case HJ0:N6=iy;break $;case XR:I40(k)?(N6=A9,X3=null,z30(N)):(N6=A9,X3=null,CH(U,N,k,XR));break;case iy:var I=null;switch(h5.tag){case 26:I=h5.memoizedState;case 5:case 27:var y=h5;if(I?K$0(I):1){N6=A9,X3=null;var n=y.sibling;if(n!==null)h5=n;else{var s=y.return;s!==null?(h5=s,kC(s)):h5=null}break Q}break;default:console.error("Unexpected type of fiber triggered a suspensey commit. This is a bug in React.")}N6=A9,X3=null,CH(U,N,k,iy);break;case YN:N6=A9,X3=null,CH(U,N,k,YN);break;case sy:Tg(),C7=UP;break $;default:throw Error("Unexpected SuspendedReason. This is a bug in React.")}j0.actQueue!==null?N30():lo0();break}catch(O0){F30(U,O0)}while(1);if(sD(),j0.H=w,j0.A=C,F6=V,h5!==null)return A1!==null&&typeof A1.markRenderYielded==="function"&&A1.markRenderYielded(),kY;return w1(),f6=null,I5=0,nD(),C7}function lo0(){for(;h5!==null&&!ua0();)B30(h5)}function B30(U){var N=U.alternate;(U.mode&x8)!==n6?(wb(U),N=_1(U,Ng,N,U,yJ),Tb(U)):N=_1(U,Ng,N,U,yJ),U.memoizedProps=U.pendingProps,N===null?kC(U):h5=N}function z30(U){var N=_1(U,ro0,U);U.memoizedProps=U.pendingProps,N===null?kC(U):h5=N}function ro0(U){var N=U.alternate,V=(U.mode&x8)!==n6;switch(V&&wb(U),U.tag){case 15:case 0:N=E90(N,U,U.pendingProps,U.type,void 0,I5);break;case 11:N=E90(N,U,U.pendingProps,U.type.render,U.ref,I5);break;case 5:_b(U);default:M90(N,U),U=h5=C40(U,yJ),N=Ng(N,U,yJ)}return V&&Tb(U),N}function CH(U,N,V,w){sD(),_b(N),oH=null,$R=0;var C=N.return;try{if(_o0(U,C,N,V,I5)){C7=YR,OC(U,e9(V,U.current)),h5=null;return}}catch(k){if(C!==null)throw h5=C,k;C7=YR,OC(U,e9(V,U.current)),h5=null;return}if(N.flags&32768){if(t5||w===ZR)U=!0;else if(ZN||(I5&536870912)!==0)U=!1;else if(Bq=U=!0,w===XW||w===WW||w===qR||w===YN)w=Q$.current,w!==null&&w.tag===13&&(w.flags|=16384);A30(N,U)}else kC(N)}function kC(U){var N=U;do{if((N.flags&32768)!==0){A30(N,Bq);return}var V=N.alternate;if(U=N.return,wb(N),V=_1(N,Io0,V,N,yJ),(N.mode&x8)!==n6&&v40(N),V!==null){h5=V;return}if(N=N.sibling,N!==null){h5=N;return}h5=N=U}while(N!==null);C7===kY&&(C7=UJ0)}function A30(U,N){do{var V=Mo0(U.alternate,U);if(V!==null){V.flags&=32767,h5=V;return}if((U.mode&x8)!==n6){v40(U),V=U.actualDuration;for(var w=U.child;w!==null;)V+=w.actualDuration,w=w.sibling;U.actualDuration=V}if(V=U.return,V!==null&&(V.flags|=32768,V.subtreeFlags=0,V.deletions=null),!N&&(U=U.sibling,U!==null)){h5=U;return}h5=U=V}while(U!==null);C7=UP,h5=null}function Pg(U,N,V,w,C,k,I,y,n){U.cancelPendingCommit=null;do DV();while(u8!==UW);if(AQ.flushLegacyContextWarning(),AQ.flushPendingUnsafeLifecycleWarnings(),(F6&(I4|GQ))!==q3)throw Error("Should not already be working.");if(A1!==null&&typeof A1.markCommitStarted==="function"&&A1.markCommitStarted(V),N===null)B1();else{if(V===0&&console.error("finishedLanes should not be empty during a commit. This is a bug in React."),N===U.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");if(k=N.lanes|N.childLanes,k|=jy,iM(U,V,k,I,y,n),U===f6&&(h5=f6=null,I5=0),qN=N,Rq=U,Gq=V,$x=k,Qx=C,RJ0=w,(N.subtreeFlags&10256)!==0||(N.flags&10256)!==0?(U.callbackNode=null,U.callbackPriority=0,to0(hH,function(){return w30(!0),null})):(U.callbackNode=null,U.callbackPriority=0),eC=nH(),w=(N.flags&13878)!==0,(N.subtreeFlags&13878)!==0||w){w=j0.T,j0.T=null,C=W6.p,W6.p=Y3,I=F6,F6|=GQ;try{uo0(U,N,V)}finally{F6=I,W6.p=C,j0.T=w}}u8=zJ0,V30(),R30(),G30()}}function V30(){if(u8===zJ0){u8=UW;var U=Rq,N=qN,V=Gq,w=(N.flags&13878)!==0;if((N.subtreeFlags&13878)!==0||w){w=j0.T,j0.T=null;var C=W6.p;W6.p=Y3;var k=F6;F6|=GQ;try{QN=V,JN=U,i90(N,U),JN=QN=null,V=Nx;var I=G40(U.containerInfo),y=V.focusedElem,n=V.selectionRange;if(I!==y&&y&&y.ownerDocument&&R40(y.ownerDocument.documentElement,y)){if(n!==null&&qb(y)){var{start:s,end:O0}=n;if(O0===void 0&&(O0=s),"selectionStart"in y)y.selectionStart=s,y.selectionEnd=Math.min(O0,y.value.length);else{var E0=y.ownerDocument||document,G0=E0&&E0.defaultView||window;if(G0.getSelection){var v0=G0.getSelection(),E1=y.textContent.length,J5=Math.min(n.start,E1),I6=n.end===void 0?J5:Math.min(n.end,E1);!v0.extend&&J5>I6&&(I=I6,I6=J5,J5=I);var c5=V40(y,J5),$0=V40(y,I6);if(c5&&$0&&(v0.rangeCount!==1||v0.anchorNode!==c5.node||v0.anchorOffset!==c5.offset||v0.focusNode!==$0.node||v0.focusOffset!==$0.offset)){var K0=E0.createRange();K0.setStart(c5.node,c5.offset),v0.removeAllRanges(),J5>I6?(v0.addRange(K0),v0.extend($0.node,$0.offset)):(K0.setEnd($0.node,$0.offset),v0.addRange(K0))}}}}E0=[];for(v0=y;v0=v0.parentNode;)v0.nodeType===1&&E0.push({element:v0,left:v0.scrollLeft,top:v0.scrollTop});typeof y.focus==="function"&&y.focus();for(y=0;y<E0.length;y++){var X0=E0[y];X0.element.scrollLeft=X0.left,X0.element.scrollTop=X0.top}}LP=!!Hx,Nx=Hx=null}finally{F6=k,W6.p=C,j0.T=w}}U.current=N,u8=AJ0}}function R30(){if(u8===AJ0){u8=UW;var U=Rq,N=qN,V=Gq,w=(N.flags&8772)!==0;if((N.subtreeFlags&8772)!==0||w){w=j0.T,j0.T=null;var C=W6.p;W6.p=Y3;var k=F6;F6|=GQ;try{A1!==null&&typeof A1.markLayoutEffectsStarted==="function"&&A1.markLayoutEffectsStarted(V),QN=V,JN=U,d90(U,N.alternate,N),JN=QN=null,A1!==null&&typeof A1.markLayoutEffectsStopped==="function"&&A1.markLayoutEffectsStopped()}finally{F6=k,W6.p=C,j0.T=w}}u8=VJ0}}function G30(){if(u8===Xe0||u8===VJ0){u8=UW,ma0();var U=Rq,N=qN,V=Gq,w=RJ0,C=(N.subtreeFlags&10256)!==0||(N.flags&10256)!==0;C?u8=ey:(u8=UW,qN=Rq=null,O30(U,U.pendingLanes),HW=0,HR=null);var k=U.pendingLanes;if(k===0&&(Vq=null),C||P30(U),C=rZ(V),N=N.stateNode,Y4&&typeof Y4.onCommitFiberRoot==="function")try{var I=(N.current.flags&128)===128;switch(C){case Y3:var y=Yy;break;case BQ:y=Zy;break;case _J:y=hH;break;case mC:y=qy;break;default:y=hH}Y4.onCommitFiberRoot(vH,N,y,I)}catch(E0){SJ||(SJ=!0,console.error("React instrumentation encountered an error: %s",E0))}if(NQ&&U.memoizedUpdaters.clear(),po0(),w!==null){I=j0.T,y=W6.p,W6.p=Y3,j0.T=null;try{var n=U.onRecoverableError;for(N=0;N<w.length;N++){var s=w[N],O0=io0(s.stack);_1(s.source,n,s.value,O0)}}finally{j0.T=I,W6.p=y}}(Gq&3)!==0&&DV(),EJ(U),k=U.pendingLanes,(V&4194090)!==0&&(k&42)!==0?(QP=!0,U===Jx?UR++:(UR=0,Jx=U)):UR=0,PV(0,!1),B1()}}function io0(U){return U={componentStack:U},Object.defineProperty(U,"digest",{get:function(){console.error('You are accessing "digest" from the errorInfo object passed to onRecoverableError. This property is no longer provided as part of errorInfo but can be accessed as a property of the Error instance itself.')}}),U}function O30(U,N){(U.pooledCacheLanes&=N)===0&&(N=U.pooledCache,N!=null&&(U.pooledCache=null,WV(N)))}function DV(U){return V30(),R30(),G30(),w30(U)}function w30(){if(u8!==ey)return!1;var U=Rq,N=$x;$x=0;var V=rZ(Gq),w=_J===0||_J>V?_J:V;V=j0.T;var C=W6.p;try{W6.p=w,j0.T=null,w=Qx,Qx=null;var k=Rq,I=Gq;if(u8=UW,qN=Rq=null,Gq=0,(F6&(I4|GQ))!==q3)throw Error("Cannot flush passive effects while already rendering.");Kx=!0,BP=!1,A1!==null&&typeof A1.markPassiveEffectsStarted==="function"&&A1.markPassiveEffectsStarted(I);var y=F6;if(F6|=GQ,J30(k.current),t90(k,k.current,I,w),A1!==null&&typeof A1.markPassiveEffectsStopped==="function"&&A1.markPassiveEffectsStopped(),P30(k),F6=y,PV(0,!1),BP?k===HR?HW++:(HW=0,HR=k):HW=0,BP=Kx=!1,Y4&&typeof Y4.onPostCommitFiberRoot==="function")try{Y4.onPostCommitFiberRoot(vH,k)}catch(s){SJ||(SJ=!0,console.error("React instrumentation encountered an error: %s",s))}var n=k.current.stateNode;return n.effectDuration=0,n.passiveEffectDuration=0,!0}finally{W6.p=C,j0.T=V,O30(U,N)}}function T30(U,N,V){N=e9(V,N),N=Qg(U.stateNode,N,2),U=oZ(U,N,2),U!==null&&(lZ(U,2),EJ(U))}function P6(U,N,V){if(XN=!1,U.tag===3)T30(U,U,V);else{for(;N!==null;){if(N.tag===3){T30(N,U,V);return}if(N.tag===1){var w=N.stateNode;if(typeof N.type.getDerivedStateFromError==="function"||typeof w.componentDidCatch==="function"&&(Vq===null||!Vq.has(w))){U=e9(V,U),V=Jg(2),w=oZ(N,V,2),w!==null&&(Kg(V,w,N,U),lZ(w,2),EJ(w));return}}N=N.return}console.error(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Potential causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,V)}}function kg(U,N,V){var w=U.pingCache;if(w===null){w=U.pingCache=new Ke0;var C=new Set;w.set(N,C)}else C=w.get(N),C===void 0&&(C=new Set,w.set(N,C));C.has(V)||(oy=!0,C.add(V),w=so0.bind(null,U,N,V),NQ&&CV(U,V),N.then(w,w))}function so0(U,N,V){var w=U.pingCache;w!==null&&w.delete(N),U.pingedLanes|=U.suspendedLanes&V,U.warmLanes&=~V,Z30()&&j0.actQueue===null&&console.error(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`),f6===U&&(I5&V)===V&&(C7===qW||C7===ry&&(I5&62914560)===I5&&vJ()-ty<NJ0?(F6&I4)===q3&&DH(U,0):ay|=V,FW===I5&&(FW=0)),EJ(U)}function D30(U,N){N===0&&(N=u3()),U=F9(U,N),U!==null&&(lZ(U,N),EJ(U))}function oo0(U){var N=U.memoizedState,V=0;N!==null&&(V=N.retryLane),D30(U,V)}function ao0(U,N){var V=0;switch(U.tag){case 13:var{stateNode:w,memoizedState:C}=U;C!==null&&(V=C.retryLane);break;case 19:w=U.stateNode;break;case 22:w=U.stateNode._retryCache;break;default:throw Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}w!==null&&w.delete(N),D30(U,V)}function jg(U,N,V){if((N.subtreeFlags&67117056)!==0)for(N=N.child;N!==null;){var w=U,C=N,k=C.type===gC;k=V||k,C.tag!==22?C.flags&67108864?k&&_1(C,C30,w,C,(C.mode&WQ0)===n6):jg(w,C,k):C.memoizedState===null&&(k&&C.flags&8192?_1(C,C30,w,C):C.subtreeFlags&67108864&&_1(C,jg,w,C,k)),N=N.sibling}}function C30(U,N){var V=2<arguments.length&&arguments[2]!==void 0?arguments[2]:!0;z1(!0);try{o90(N),V&&K30(N),a90(U,N.alternate,N,!1),V&&e90(U,N,0,null,!1,0)}finally{z1(!1)}}function P30(U){var N=!0;U.current.mode&(q4|zQ)||(N=!1),jg(U,U.current,N)}function k30(U){if((F6&I4)===q3){var N=U.tag;if(N===3||N===1||N===0||N===11||N===14||N===15){if(N=_(U)||"ReactComponent",zP!==null){if(zP.has(N))return;zP.add(N)}else zP=new Set([N]);_1(U,function(){console.error("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")})}}}function CV(U,N){NQ&&U.memoizedUpdaters.forEach(function(V){sA(U,V,N)})}function to0(U,N){var V=j0.actQueue;return V!==null?(V.push(N),Ue0):Ky(U,N)}function eo0(U){Z30()&&j0.actQueue===null&&_1(U,function(){console.error(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`,_(U))})}function EJ(U){U!==WN&&U.next===null&&(WN===null?AP=WN=U:WN=WN.next=U),VP=!0,j0.actQueue!==null?Zx||(Zx=!0,h30()):Yx||(Yx=!0,h30())}function PV(U,N){if(!qx&&VP){qx=!0;do{var V=!1;for(var w=AP;w!==null;){if(!N)if(U!==0){var C=w.pendingLanes;if(C===0)var k=0;else{var{suspendedLanes:I,pingedLanes:y}=w;k=(1<<31-h4(42|U)+1)-1,k&=C&~(I&~y),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(V=!0,L30(w,k))}else k=I5,k=d6(w,w===f6?k:0,w.cancelPendingCommit!==null||w.timeoutHandle!==zW),(k&3)===0||x1(w,k)||(V=!0,L30(w,k));w=w.next}}while(V);qx=!1}}function $a0(){Eg()}function Eg(){VP=Zx=Yx=!1;var U=0;NW!==0&&(Za0()&&(U=NW),NW=0);for(var N=vJ(),V=null,w=AP;w!==null;){var C=w.next,k=j30(w,N);if(k===0)w.next=null,V===null?AP=C:V.next=C,C===null&&(WN=V);else if(V=w,U!==0||(k&3)!==0)VP=!0;w=C}PV(U,!1)}function j30(U,N){for(var{suspendedLanes:V,pingedLanes:w,expirationTimes:C}=U,k=U.pendingLanes&-62914561;0<k;){var I=31-h4(k),y=1<<I,n=C[I];if(n===-1){if((y&V)===0||(y&w)!==0)C[I]=b7(y,N)}else n<=N&&(U.expiredLanes|=y);k&=~y}if(N=f6,V=I5,V=d6(U,U===N?V:0,U.cancelPendingCommit!==null||U.timeoutHandle!==zW),w=U.callbackNode,V===0||U===N&&(N6===XW||N6===WW)||U.cancelPendingCommit!==null)return w!==null&&Lg(w),U.callbackNode=null,U.callbackPriority=0;if((V&3)===0||x1(U,V)){if(N=V&-V,N!==U.callbackPriority||j0.actQueue!==null&&w!==Xx)Lg(w);else return N;switch(rZ(V)){case Y3:case BQ:V=Zy;break;case _J:V=hH;break;case mC:V=qy;break;default:V=hH}return w=E30.bind(null,U),j0.actQueue!==null?(j0.actQueue.push(w),V=Xx):V=Ky(V,w),U.callbackPriority=N,U.callbackNode=V,N}return w!==null&&Lg(w),U.callbackPriority=2,U.callbackNode=null,2}function E30(U,N){if(QP=$P=!1,u8!==UW&&u8!==ey)return U.callbackNode=null,U.callbackPriority=0,null;var V=U.callbackNode;if(DV(!0)&&U.callbackNode!==V)return null;var w=I5;if(w=d6(U,U===f6?w:0,U.cancelPendingCommit!==null||U.timeoutHandle!==zW),w===0)return null;return X30(U,w,N),j30(U,vJ()),U.callbackNode!=null&&U.callbackNode===V?E30.bind(null,U):null}function L30(U,N){if(DV())return null;$P=QP,QP=!1,X30(U,N,!0)}function Lg(U){U!==Xx&&U!==null&&ca0(U)}function h30(){j0.actQueue!==null&&j0.actQueue.push(function(){return Eg(),null}),we0(function(){(F6&(I4|GQ))!==q3?Ky(Yy,$a0):Eg()})}function hg(){return NW===0&&(NW=o9()),NW}function v30(U){if(U==null||typeof U==="symbol"||typeof U==="boolean")return null;if(typeof U==="function")return U;return W0(U,"action"),QV(""+U)}function S30(U,N){var V=N.ownerDocument.createElement("input");return V.name=N.name,V.value=N.value,U.id&&V.setAttribute("form",U.id),N.parentNode.insertBefore(V,N),U=new FormData(U),V.parentNode.removeChild(V),U}function Qa0(U,N,V,w,C){if(N==="submit"&&V&&V.stateNode===C){var k=v30((C[N9]||null).action),I=w.submitter;I&&(N=(N=I[N9]||null)?v30(N.formAction):I.getAttribute("formAction"),N!==null&&(k=N,I=null));var y=new rC("action","action",null,w,C);U.push({event:y,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(NW!==0){var n=I?S30(C,I):new FormData(C),s={pending:!0,data:n,method:C.method,action:k};Object.freeze(s),ib(V,s,null,n)}}else typeof k==="function"&&(y.preventDefault(),n=I?S30(C,I):new FormData(C),s={pending:!0,data:n,method:C.method,action:k},Object.freeze(s),ib(V,s,k,n))},currentTarget:C}]})}}function jC(U,N,V){U.currentTarget=V;try{N(U)}catch(w){my(w)}U.currentTarget=null}function _30(U,N){N=(N&4)!==0;for(var V=0;V<U.length;V++){var w=U[V];$:{var C=void 0,k=w.event;if(w=w.listeners,N)for(var I=w.length-1;0<=I;I--){var y=w[I],n=y.instance,s=y.currentTarget;if(y=y.listener,n!==C&&k.isPropagationStopped())break $;n!==null?_1(n,jC,k,y,s):jC(k,y,s),C=n}else for(I=0;I<w.length;I++){if(y=w[I],n=y.instance,s=y.currentTarget,y=y.listener,n!==C&&k.isPropagationStopped())break $;n!==null?_1(n,jC,k,y,s):jC(k,y,s),C=n}}}}function x5(U,N){Wx.has(U)||console.error('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',U);var V=N[Xy];V===void 0&&(V=N[Xy]=new Set);var w=U+"__bubble";V.has(w)||(f30(N,U,2,!1),V.add(w))}function vg(U,N,V){Wx.has(U)&&!N&&console.error('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',U);var w=0;N&&(w|=4),f30(V,U,w,N)}function Sg(U){if(!U[RP]){U[RP]=!0,V$0.forEach(function(V){V!=="selectionchange"&&(Wx.has(V)||vg(V,!1,U),vg(V,!0,U))});var N=U.nodeType===9?U:U.ownerDocument;N===null||N[RP]||(N[RP]=!0,vg("selectionchange",!1,N))}}function f30(U,N,V,w){switch(W$0(N)){case Y3:var C=Sa0;break;case BQ:C=_a0;break;default:C=lg}V=C.bind(null,N,V,U),C=void 0,!Ay||N!=="touchstart"&&N!=="touchmove"&&N!=="wheel"||(C=!0),w?C!==void 0?U.addEventListener(N,V,{capture:!0,passive:C}):U.addEventListener(N,V,!0):C!==void 0?U.addEventListener(N,V,{passive:C}):U.addEventListener(N,V,!1)}function _g(U,N,V,w,C){var k=w;if((N&1)===0&&(N&2)===0&&w!==null)$:for(;;){if(w===null)return;var I=w.tag;if(I===3||I===4){var y=w.stateNode.containerInfo;if(y===C)break;if(I===4)for(I=w.return;I!==null;){var n=I.tag;if((n===3||n===4)&&I.stateNode.containerInfo===C)return;I=I.return}for(;y!==null;){if(I=qY(y),I===null)return;if(n=I.tag,n===5||n===6||n===26||n===27){w=k=I;continue $}y=y.parentNode}}w=w.return}Z40(function(){var s=k,O0=Yb(V),E0=[];$:{var G0=XQ0.get(U);if(G0!==void 0){var v0=rC,E1=U;switch(U){case"keypress":if(mD(V)===0)break $;case"keydown":case"keyup":v0=Et0;break;case"focusin":E1="focus",v0=Oy;break;case"focusout":E1="blur",v0=Oy;break;case"beforeblur":case"afterblur":v0=Oy;break;case"click":if(V.button===2)break $;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v0=r$0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v0=At0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v0=vt0;break;case KQ0:case YQ0:case ZQ0:v0=Gt0;break;case qQ0:v0=_t0;break;case"scroll":case"scrollend":v0=Bt0;break;case"wheel":v0=It0;break;case"copy":case"cut":case"paste":v0=wt0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v0=s$0;break;case"toggle":case"beforetoggle":v0=bt0}var J5=(N&4)!==0,I6=!J5&&(U==="scroll"||U==="scrollend"),c5=J5?G0!==null?G0+"Capture":null:G0;J5=[];for(var $0=s,K0;$0!==null;){var X0=$0;if(K0=X0.stateNode,X0=X0.tag,X0!==5&&X0!==26&&X0!==27||K0===null||c5===null||(X0=JV($0,c5),X0!=null&&J5.push(kV($0,X0,K0))),I6)break;$0=$0.return}0<J5.length&&(G0=new v0(G0,E1,null,V,O0),E0.push({event:G0,listeners:J5}))}}if((N&7)===0){$:{if(G0=U==="mouseover"||U==="pointerover",v0=U==="mouseout"||U==="pointerout",G0&&V!==MV&&(E1=V.relatedTarget||V.fromElement)&&(qY(E1)||E1[Xq]))break $;if(v0||G0){if(G0=O0.window===O0?O0:(G0=O0.ownerDocument)?G0.defaultView||G0.parentWindow:window,v0){if(E1=V.relatedTarget||V.toElement,v0=s,E1=E1?qY(E1):null,E1!==null&&(I6=T(E1),J5=E1.tag,E1!==I6||J5!==5&&J5!==27&&J5!==6))E1=null}else v0=null,E1=s;if(v0!==E1){if(J5=r$0,X0="onMouseLeave",c5="onMouseEnter",$0="mouse",U==="pointerout"||U==="pointerover")J5=s$0,X0="onPointerLeave",c5="onPointerEnter",$0="pointer";if(I6=v0==null?G0:A0(v0),K0=E1==null?G0:A0(E1),G0=new J5(X0,$0+"leave",v0,V,O0),G0.target=I6,G0.relatedTarget=K0,X0=null,qY(O0)===s&&(J5=new J5(c5,$0+"enter",E1,V,O0),J5.target=K0,J5.relatedTarget=I6,X0=J5),I6=X0,v0&&E1)Q:{J5=v0,c5=E1,$0=0;for(K0=J5;K0;K0=PH(K0))$0++;K0=0;for(X0=c5;X0;X0=PH(X0))K0++;for(;0<$0-K0;)J5=PH(J5),$0--;for(;0<K0-$0;)c5=PH(c5),K0--;for(;$0--;){if(J5===c5||c5!==null&&J5===c5.alternate)break Q;J5=PH(J5),c5=PH(c5)}J5=null}else J5=null;v0!==null&&I30(E0,G0,v0,J5,!1),E1!==null&&I6!==null&&I30(E0,I6,E1,J5,!0)}}}$:{if(G0=s?A0(s):window,v0=G0.nodeName&&G0.nodeName.toLowerCase(),v0==="select"||v0==="input"&&G0.type==="file")var S0=N40;else if(U40(G0))if(QQ0)S0=To0;else{S0=Oo0;var q1=Go0}else v0=G0.nodeName,!v0||v0.toLowerCase()!=="input"||G0.type!=="checkbox"&&G0.type!=="radio"?s&&$V(s.elementType)&&(S0=N40):S0=wo0;if(S0&&(S0=S0(U,s))){H40(E0,S0,V,O0);break $}q1&&q1(U,G0,s),U==="focusout"&&s&&G0.type==="number"&&s.memoizedProps.value!=null&&tM(G0,"number",G0.value)}switch(q1=s?A0(s):window,U){case"focusin":if(U40(q1)||q1.contentEditable==="true")gH=q1,Ty=s,mV=null;break;case"focusout":mV=Ty=gH=null;break;case"mousedown":Dy=!0;break;case"contextmenu":case"mouseup":case"dragend":Dy=!1,O40(E0,V,O0);break;case"selectionchange":if(ct0)break;case"keydown":case"keyup":O40(E0,V,O0)}var B5;if(wy)$:{switch(U){case"compositionstart":var L1="onCompositionStart";break $;case"compositionend":L1="onCompositionEnd";break $;case"compositionupdate":L1="onCompositionUpdate";break $}L1=void 0}else bH?W40(U,V)&&(L1="onCompositionEnd"):U==="keydown"&&V.keyCode===o$0&&(L1="onCompositionStart");if(L1&&(a$0&&V.locale!=="ko"&&(bH||L1!=="onCompositionStart"?L1==="onCompositionEnd"&&bH&&(B5=q40()):(Wq=O0,Vy=("value"in Wq)?Wq.value:Wq.textContent,bH=!0)),q1=EC(s,L1),0<q1.length&&(L1=new i$0(L1,U,null,V,O0),E0.push({event:L1,listeners:q1}),B5?L1.data=B5:(B5=F40(V),B5!==null&&(L1.data=B5)))),B5=yt0?zo0(U,V):Ao0(U,V))L1=EC(s,"onBeforeInput"),0<L1.length&&(q1=new Dt0("onBeforeInput","beforeinput",null,V,O0),E0.push({event:q1,listeners:L1}),q1.data=B5);Qa0(E0,U,s,V,O0)}_30(E0,N)})}function kV(U,N,V){return{instance:U,listener:N,currentTarget:V}}function EC(U,N){for(var V=N+"Capture",w=[];U!==null;){var C=U,k=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||k===null||(C=JV(U,V),C!=null&&w.unshift(kV(U,C,k)),C=JV(U,N),C!=null&&w.push(kV(U,C,k))),U.tag===3)return w;U=U.return}return[]}function PH(U){if(U===null)return null;do U=U.return;while(U&&U.tag!==5&&U.tag!==27);return U?U:null}function I30(U,N,V,w,C){for(var k=N._reactName,I=[];V!==null&&V!==w;){var y=V,n=y.alternate,s=y.stateNode;if(y=y.tag,n!==null&&n===w)break;y!==5&&y!==26&&y!==27||s===null||(n=s,C?(s=JV(V,k),s!=null&&I.unshift(kV(V,s,n))):C||(s=JV(V,k),s!=null&&I.push(kV(V,s,n)))),V=V.return}I.length!==0&&U.push({event:N,listeners:I})}function fg(U,N){Uo0(U,N),U!=="input"&&U!=="textarea"&&U!=="select"||N==null||N.value!==null||n$0||(n$0=!0,U==="select"&&N.multiple?console.error("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",U):console.error("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",U));var V={registrationNameDependencies:a2,possibleRegistrationNames:Wy};$V(U)||typeof N.is==="string"||No0(U,N,V),N.contentEditable&&!N.suppressContentEditableWarning&&N.children!=null&&console.error("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional.")}function G8(U,N,V,w){N!==V&&(V=Qq(V),Qq(N)!==V&&(w[U]=N))}function Ja0(U,N,V){N.forEach(function(w){V[g30(w)]=w==="style"?Mg(U):U.getAttribute(w)})}function LJ(U,N){N===!1?console.error("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",U,U,U):console.error("Expected `%s` listener to be a function, instead got a value of `%s` type.",U,typeof N)}function M30(U,N){return U=U.namespaceURI===dC||U.namespaceURI===_H?U.ownerDocument.createElementNS(U.namespaceURI,U.tagName):U.ownerDocument.createElement(U.tagName),U.innerHTML=N,U.innerHTML}function Qq(U){return Q0(U)&&(console.error("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before using it here.",r(U)),F0(U)),(typeof U==="string"?U:""+U).replace(He0,`
`).replace(Ne0,"")}function b30(U,N){return N=Qq(N),Qq(U)===N?!0:!1}function LC(){}function k6(U,N,V,w,C,k){switch(V){case"children":if(typeof w==="string")uD(w,N,!1),N==="body"||N==="textarea"&&w===""||eA(U,w);else if(typeof w==="number"||typeof w==="bigint")uD(""+w,N,!1),N!=="body"&&eA(U,""+w);break;case"className":WQ(U,"class",w);break;case"tabIndex":WQ(U,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":WQ(U,V,w);break;case"style":J40(U,w,k);break;case"data":if(N!=="object"){WQ(U,"data",w);break}case"src":case"href":if(w===""&&(N!=="a"||V!=="href")){V==="src"?console.error('An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',V,V):console.error('An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',V,V),U.removeAttribute(V);break}if(w==null||typeof w==="function"||typeof w==="symbol"||typeof w==="boolean"){U.removeAttribute(V);break}W0(w,V),w=QV(""+w),U.setAttribute(V,w);break;case"action":case"formAction":if(w!=null&&(N==="form"?V==="formAction"?console.error("You can only pass the formAction prop to <input> or <button>. Use the action prop on <form>."):typeof w==="function"&&(C.encType==null&&C.method==null||wP||(wP=!0,console.error("Cannot specify a encType or method for a form that specifies a function as the action. React provides those automatically. They will get overridden.")),C.target==null||OP||(OP=!0,console.error("Cannot specify a target for a form that specifies a function as the action. The function will always be executed in the same window."))):N==="input"||N==="button"?V==="action"?console.error("You can only pass the action prop to <form>. Use the formAction prop on <input> or <button>."):N!=="input"||C.type==="submit"||C.type==="image"||GP?N!=="button"||C.type==null||C.type==="submit"||GP?typeof w==="function"&&(C.name==null||DJ0||(DJ0=!0,console.error('Cannot specify a "name" prop for a button that specifies a function as a formAction. React needs it to encode which action should be invoked. It will get overridden.')),C.formEncType==null&&C.formMethod==null||wP||(wP=!0,console.error("Cannot specify a formEncType or formMethod for a button that specifies a function as a formAction. React provides those automatically. They will get overridden.")),C.formTarget==null||OP||(OP=!0,console.error("Cannot specify a formTarget for a button that specifies a function as a formAction. The function will always be executed in the same window."))):(GP=!0,console.error('A button can only specify a formAction along with type="submit" or no type.')):(GP=!0,console.error('An input can only specify a formAction along with type="submit" or type="image".')):V==="action"?console.error("You can only pass the action prop to <form>."):console.error("You can only pass the formAction prop to <input> or <button>.")),typeof w==="function"){U.setAttribute(V,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k==="function"&&(V==="formAction"?(N!=="input"&&k6(U,N,"name",C.name,C,null),k6(U,N,"formEncType",C.formEncType,C,null),k6(U,N,"formMethod",C.formMethod,C,null),k6(U,N,"formTarget",C.formTarget,C,null)):(k6(U,N,"encType",C.encType,C,null),k6(U,N,"method",C.method,C,null),k6(U,N,"target",C.target,C,null)));if(w==null||typeof w==="symbol"||typeof w==="boolean"){U.removeAttribute(V);break}W0(w,V),w=QV(""+w),U.setAttribute(V,w);break;case"onClick":w!=null&&(typeof w!=="function"&&LJ(V,w),U.onclick=LC);break;case"onScroll":w!=null&&(typeof w!=="function"&&LJ(V,w),x5("scroll",U));break;case"onScrollEnd":w!=null&&(typeof w!=="function"&&LJ(V,w),x5("scrollend",U));break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!=="object"||!("__html"in w))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(V=w.__html,V!=null){if(C.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");U.innerHTML=V}}break;case"multiple":U.multiple=w&&typeof w!=="function"&&typeof w!=="symbol";break;case"muted":U.muted=w&&typeof w!=="function"&&typeof w!=="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w==="function"||typeof w==="boolean"||typeof w==="symbol"){U.removeAttribute("xlink:href");break}W0(w,V),V=QV(""+w),U.setAttributeNS(BW,"xlink:href",V);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!=="function"&&typeof w!=="symbol"?(W0(w,V),U.setAttribute(V,""+w)):U.removeAttribute(V);break;case"inert":w!==""||TP[V]||(TP[V]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",V));case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!=="function"&&typeof w!=="symbol"?U.setAttribute(V,""):U.removeAttribute(V);break;case"capture":case"download":w===!0?U.setAttribute(V,""):w!==!1&&w!=null&&typeof w!=="function"&&typeof w!=="symbol"?(W0(w,V),U.setAttribute(V,w)):U.removeAttribute(V);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!=="function"&&typeof w!=="symbol"&&!isNaN(w)&&1<=w?(W0(w,V),U.setAttribute(V,w)):U.removeAttribute(V);break;case"rowSpan":case"start":w==null||typeof w==="function"||typeof w==="symbol"||isNaN(w)?U.removeAttribute(V):(W0(w,V),U.setAttribute(V,w));break;case"popover":x5("beforetoggle",U),x5("toggle",U),a9(U,"popover",w);break;case"xlinkActuate":FQ(U,BW,"xlink:actuate",w);break;case"xlinkArcrole":FQ(U,BW,"xlink:arcrole",w);break;case"xlinkRole":FQ(U,BW,"xlink:role",w);break;case"xlinkShow":FQ(U,BW,"xlink:show",w);break;case"xlinkTitle":FQ(U,BW,"xlink:title",w);break;case"xlinkType":FQ(U,BW,"xlink:type",w);break;case"xmlBase":FQ(U,Fx,"xml:base",w);break;case"xmlLang":FQ(U,Fx,"xml:lang",w);break;case"xmlSpace":FQ(U,Fx,"xml:space",w);break;case"is":k!=null&&console.error('Cannot update the "is" prop after it has been initialized.'),a9(U,"is",w);break;case"innerText":case"textContent":break;case"popoverTarget":CJ0||w==null||typeof w!=="object"||(CJ0=!0,console.error("The `popoverTarget` prop expects the ID of an Element as a string. Received %s instead.",w));default:!(2<V.length)||V[0]!=="o"&&V[0]!=="O"||V[1]!=="n"&&V[1]!=="N"?(V=K40(V),a9(U,V,w)):a2.hasOwnProperty(V)&&w!=null&&typeof w!=="function"&&LJ(V,w)}}function Ig(U,N,V,w,C,k){switch(V){case"style":J40(U,w,k);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!=="object"||!("__html"in w))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(V=w.__html,V!=null){if(C.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");U.innerHTML=V}}break;case"children":typeof w==="string"?eA(U,w):(typeof w==="number"||typeof w==="bigint")&&eA(U,""+w);break;case"onScroll":w!=null&&(typeof w!=="function"&&LJ(V,w),x5("scroll",U));break;case"onScrollEnd":w!=null&&(typeof w!=="function"&&LJ(V,w),x5("scrollend",U));break;case"onClick":w!=null&&(typeof w!=="function"&&LJ(V,w),U.onclick=LC);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(a2.hasOwnProperty(V))w!=null&&typeof w!=="function"&&LJ(V,w);else $:{if(V[0]==="o"&&V[1]==="n"&&(C=V.endsWith("Capture"),N=V.slice(2,C?V.length-7:void 0),k=U[N9]||null,k=k!=null?k[V]:null,typeof k==="function"&&U.removeEventListener(N,k,C),typeof w==="function")){typeof k!=="function"&&k!==null&&(V in U?U[V]=null:U.hasAttribute(V)&&U.removeAttribute(V)),U.addEventListener(N,w,C);break $}V in U?U[V]=w:w===!0?U.setAttribute(V,""):a9(U,V,w)}}}function g8(U,N,V){switch(fg(N,V),N){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":x5("error",U),x5("load",U);var w=!1,C=!1,k;for(k in V)if(V.hasOwnProperty(k)){var I=V[k];if(I!=null)switch(k){case"src":w=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(N+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:k6(U,N,k,I,V,null)}}C&&k6(U,N,"srcSet",V.srcSet,V,null),w&&k6(U,N,"src",V.src,V,null);return;case"input":W5("input",V),x5("invalid",U);var y=k=I=C=null,n=null,s=null;for(w in V)if(V.hasOwnProperty(w)){var O0=V[w];if(O0!=null)switch(w){case"name":C=O0;break;case"type":I=O0;break;case"checked":n=O0;break;case"defaultChecked":s=O0;break;case"value":k=O0;break;case"defaultValue":y=O0;break;case"children":case"dangerouslySetInnerHTML":if(O0!=null)throw Error(N+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:k6(U,N,w,O0,V,null)}}c80(U,V),u80(U,k,y,n,s,I,C,!1),yD(U);return;case"select":W5("select",V),x5("invalid",U),w=I=k=null;for(C in V)if(V.hasOwnProperty(C)&&(y=V[C],y!=null))switch(C){case"value":k=y;break;case"defaultValue":I=y;break;case"multiple":w=y;default:k6(U,N,C,y,V,null)}d80(U,V),N=k,V=I,U.multiple=!!w,N!=null?HH(U,!!w,N,!1):V!=null&&HH(U,!!w,V,!0);return;case"textarea":W5("textarea",V),x5("invalid",U),k=C=w=null;for(I in V)if(V.hasOwnProperty(I)&&(y=V[I],y!=null))switch(I){case"value":w=y;break;case"defaultValue":C=y;break;case"children":k=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:k6(U,N,I,y,V,null)}n80(U,V),r80(U,w,C,k),yD(U);return;case"option":m80(U,V);for(n in V)if(V.hasOwnProperty(n)&&(w=V[n],w!=null))switch(n){case"selected":U.selected=w&&typeof w!=="function"&&typeof w!=="symbol";break;default:k6(U,N,n,w,V,null)}return;case"dialog":x5("beforetoggle",U),x5("toggle",U),x5("cancel",U),x5("close",U);break;case"iframe":case"object":x5("load",U);break;case"video":case"audio":for(w=0;w<NR.length;w++)x5(NR[w],U);break;case"image":x5("error",U),x5("load",U);break;case"details":x5("toggle",U);break;case"embed":case"source":case"link":x5("error",U),x5("load",U);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(s in V)if(V.hasOwnProperty(s)&&(w=V[s],w!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(N+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:k6(U,N,s,w,V,null)}return;default:if($V(N)){for(O0 in V)V.hasOwnProperty(O0)&&(w=V[O0],w!==void 0&&Ig(U,N,O0,w,V,void 0));return}}for(y in V)V.hasOwnProperty(y)&&(w=V[y],w!=null&&k6(U,N,y,w,V,null))}function Ka0(U,N,V,w){switch(fg(N,w),N){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,k=null,I=null,y=null,n=null,s=null,O0=null;for(v0 in V){var E0=V[v0];if(V.hasOwnProperty(v0)&&E0!=null)switch(v0){case"checked":break;case"value":break;case"defaultValue":n=E0;default:w.hasOwnProperty(v0)||k6(U,N,v0,null,w,E0)}}for(var G0 in w){var v0=w[G0];if(E0=V[G0],w.hasOwnProperty(G0)&&(v0!=null||E0!=null))switch(G0){case"type":k=v0;break;case"name":C=v0;break;case"checked":s=v0;break;case"defaultChecked":O0=v0;break;case"value":I=v0;break;case"defaultValue":y=v0;break;case"children":case"dangerouslySetInnerHTML":if(v0!=null)throw Error(N+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:v0!==E0&&k6(U,N,G0,v0,w,E0)}}N=V.type==="checkbox"||V.type==="radio"?V.checked!=null:V.value!=null,w=w.type==="checkbox"||w.type==="radio"?w.checked!=null:w.value!=null,N||!w||TJ0||(console.error("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),TJ0=!0),!N||w||wJ0||(console.error("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),wJ0=!0),aM(U,I,y,n,s,O0,k,C);return;case"select":v0=I=y=G0=null;for(k in V)if(n=V[k],V.hasOwnProperty(k)&&n!=null)switch(k){case"value":break;case"multiple":v0=n;default:w.hasOwnProperty(k)||k6(U,N,k,null,w,n)}for(C in w)if(k=w[C],n=V[C],w.hasOwnProperty(C)&&(k!=null||n!=null))switch(C){case"value":G0=k;break;case"defaultValue":y=k;break;case"multiple":I=k;default:k!==n&&k6(U,N,C,k,w,n)}w=y,N=I,V=v0,G0!=null?HH(U,!!N,G0,!1):!!V!==!!N&&(w!=null?HH(U,!!N,w,!0):HH(U,!!N,N?[]:"",!1));return;case"textarea":v0=G0=null;for(y in V)if(C=V[y],V.hasOwnProperty(y)&&C!=null&&!w.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:k6(U,N,y,null,w,C)}for(I in w)if(C=w[I],k=V[I],w.hasOwnProperty(I)&&(C!=null||k!=null))switch(I){case"value":G0=C;break;case"defaultValue":v0=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:C!==k&&k6(U,N,I,C,w,k)}l80(U,G0,v0);return;case"option":for(var E1 in V)if(G0=V[E1],V.hasOwnProperty(E1)&&G0!=null&&!w.hasOwnProperty(E1))switch(E1){case"selected":U.selected=!1;break;default:k6(U,N,E1,null,w,G0)}for(n in w)if(G0=w[n],v0=V[n],w.hasOwnProperty(n)&&G0!==v0&&(G0!=null||v0!=null))switch(n){case"selected":U.selected=G0&&typeof G0!=="function"&&typeof G0!=="symbol";break;default:k6(U,N,n,G0,w,v0)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var J5 in V)G0=V[J5],V.hasOwnProperty(J5)&&G0!=null&&!w.hasOwnProperty(J5)&&k6(U,N,J5,null,w,G0);for(s in w)if(G0=w[s],v0=V[s],w.hasOwnProperty(s)&&G0!==v0&&(G0!=null||v0!=null))switch(s){case"children":case"dangerouslySetInnerHTML":if(G0!=null)throw Error(N+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:k6(U,N,s,G0,w,v0)}return;default:if($V(N)){for(var I6 in V)G0=V[I6],V.hasOwnProperty(I6)&&G0!==void 0&&!w.hasOwnProperty(I6)&&Ig(U,N,I6,void 0,w,G0);for(O0 in w)G0=w[O0],v0=V[O0],!w.hasOwnProperty(O0)||G0===v0||G0===void 0&&v0===void 0||Ig(U,N,O0,G0,w,v0);return}}for(var c5 in V)G0=V[c5],V.hasOwnProperty(c5)&&G0!=null&&!w.hasOwnProperty(c5)&&k6(U,N,c5,null,w,G0);for(E0 in w)G0=w[E0],v0=V[E0],!w.hasOwnProperty(E0)||G0===v0||G0==null&&v0==null||k6(U,N,E0,G0,w,v0)}function g30(U){switch(U){case"class":return"className";case"for":return"htmlFor";default:return U}}function Mg(U){var N={};U=U.style;for(var V=0;V<U.length;V++){var w=U[V];N[w]=U.getPropertyValue(w)}return N}function y30(U,N,V){if(N!=null&&typeof N!=="object")console.error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");else{var w,C=w="",k;for(k in N)if(N.hasOwnProperty(k)){var I=N[k];I!=null&&typeof I!=="boolean"&&I!==""&&(k.indexOf("--")===0?(h0(I,k),w+=C+k+":"+(""+I).trim()):typeof I!=="number"||I===0||p$0.has(k)?(h0(I,k),w+=C+k.replace(y$0,"-$1").toLowerCase().replace(x$0,"-ms-")+":"+(""+I).trim()):w+=C+k.replace(y$0,"-$1").toLowerCase().replace(x$0,"-ms-")+":"+I+"px",C=";")}w=w||null,N=U.getAttribute("style"),N!==w&&(w=Qq(w),Qq(N)!==w&&(V.style=Mg(U)))}}function n3(U,N,V,w,C,k){if(C.delete(V),U=U.getAttribute(V),U===null)switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":return}else if(w!=null)switch(typeof w){case"function":case"symbol":case"boolean":break;default:if(W0(w,N),U===""+w)return}G8(N,U,w,k)}function x30(U,N,V,w,C,k){if(C.delete(V),U=U.getAttribute(V),U===null){switch(typeof w){case"function":case"symbol":return}if(!w)return}else switch(typeof w){case"function":case"symbol":break;default:if(w)return}G8(N,U,w,k)}function bg(U,N,V,w,C,k){if(C.delete(V),U=U.getAttribute(V),U===null)switch(typeof w){case"undefined":case"function":case"symbol":return}else if(w!=null)switch(typeof w){case"function":case"symbol":break;default:if(W0(w,V),U===""+w)return}G8(N,U,w,k)}function c30(U,N,V,w,C,k){if(C.delete(V),U=U.getAttribute(V),U===null)switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":return;default:if(isNaN(w))return}else if(w!=null)switch(typeof w){case"function":case"symbol":case"boolean":break;default:if(!isNaN(w)&&(W0(w,N),U===""+w))return}G8(N,U,w,k)}function gg(U,N,V,w,C,k){if(C.delete(V),U=U.getAttribute(V),U===null)switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":return}else if(w!=null)switch(typeof w){case"function":case"symbol":case"boolean":break;default:if(W0(w,N),V=QV(""+w),U===V)return}G8(N,U,w,k)}function u30(U,N,V,w){for(var C={},k=new Set,I=U.attributes,y=0;y<I.length;y++)switch(I[y].name.toLowerCase()){case"value":break;case"checked":break;case"selected":break;default:k.add(I[y].name)}if($V(N)){for(var n in V)if(V.hasOwnProperty(n)){var s=V[n];if(s!=null){if(a2.hasOwnProperty(n))typeof s!=="function"&&LJ(n,s);else if(V.suppressHydrationWarning!==!0)switch(n){case"children":typeof s!=="string"&&typeof s!=="number"||G8("children",U.textContent,s,C);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":I=U.innerHTML,s=s?s.__html:void 0,s!=null&&(s=M30(U,s),G8(n,I,s,C));continue;case"style":k.delete(n),y30(U,s,C);continue;case"offsetParent":case"offsetTop":case"offsetLeft":case"offsetWidth":case"offsetHeight":case"isContentEditable":case"outerText":case"outerHTML":k.delete(n.toLowerCase()),console.error("Assignment to read-only property will result in a no-op: `%s`",n);continue;case"className":k.delete("class"),I=j5(U,"class",s),G8("className",I,s,C);continue;default:w.context===EY&&N!=="svg"&&N!=="math"?k.delete(n.toLowerCase()):k.delete(n),I=j5(U,n,s),G8(n,I,s,C)}}}}else for(s in V)if(V.hasOwnProperty(s)&&(n=V[s],n!=null)){if(a2.hasOwnProperty(s))typeof n!=="function"&&LJ(s,n);else if(V.suppressHydrationWarning!==!0)switch(s){case"children":typeof n!=="string"&&typeof n!=="number"||G8("children",U.textContent,n,C);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"value":case"checked":case"selected":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":I=U.innerHTML,n=n?n.__html:void 0,n!=null&&(n=M30(U,n),I!==n&&(C[s]={__html:I}));continue;case"className":n3(U,s,"class",n,k,C);continue;case"tabIndex":n3(U,s,"tabindex",n,k,C);continue;case"style":k.delete(s),y30(U,n,C);continue;case"multiple":k.delete(s),G8(s,U.multiple,n,C);continue;case"muted":k.delete(s),G8(s,U.muted,n,C);continue;case"autoFocus":k.delete("autofocus"),G8(s,U.autofocus,n,C);continue;case"data":if(N!=="object"){k.delete(s),I=U.getAttribute("data"),G8(s,I,n,C);continue}case"src":case"href":if(!(n!==""||N==="a"&&s==="href"||N==="object"&&s==="data")){s==="src"?console.error('An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',s,s):console.error('An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',s,s);continue}gg(U,s,s,n,k,C);continue;case"action":case"formAction":if(I=U.getAttribute(s),typeof n==="function"){k.delete(s.toLowerCase()),s==="formAction"?(k.delete("name"),k.delete("formenctype"),k.delete("formmethod"),k.delete("formtarget")):(k.delete("enctype"),k.delete("method"),k.delete("target"));continue}else if(I===Be0){k.delete(s.toLowerCase()),G8(s,"function",n,C);continue}gg(U,s,s.toLowerCase(),n,k,C);continue;case"xlinkHref":gg(U,s,"xlink:href",n,k,C);continue;case"contentEditable":bg(U,s,"contenteditable",n,k,C);continue;case"spellCheck":bg(U,s,"spellcheck",n,k,C);continue;case"draggable":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":bg(U,s,s,n,k,C);continue;case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x30(U,s,s.toLowerCase(),n,k,C);continue;case"capture":case"download":$:{y=U;var O0=I=s,E0=C;if(k.delete(O0),y=y.getAttribute(O0),y===null)switch(typeof n){case"undefined":case"function":case"symbol":break $;default:if(n===!1)break $}else if(n!=null)switch(typeof n){case"function":case"symbol":break;case"boolean":if(n===!0&&y==="")break $;break;default:if(W0(n,I),y===""+n)break $}G8(I,y,n,E0)}continue;case"cols":case"rows":case"size":case"span":$:{if(y=U,O0=I=s,E0=C,k.delete(O0),y=y.getAttribute(O0),y===null)switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":break $;default:if(isNaN(n)||1>n)break $}else if(n!=null)switch(typeof n){case"function":case"symbol":case"boolean":break;default:if(!(isNaN(n)||1>n)&&(W0(n,I),y===""+n))break $}G8(I,y,n,E0)}continue;case"rowSpan":c30(U,s,"rowspan",n,k,C);continue;case"start":c30(U,s,s,n,k,C);continue;case"xHeight":n3(U,s,"x-height",n,k,C);continue;case"xlinkActuate":n3(U,s,"xlink:actuate",n,k,C);continue;case"xlinkArcrole":n3(U,s,"xlink:arcrole",n,k,C);continue;case"xlinkRole":n3(U,s,"xlink:role",n,k,C);continue;case"xlinkShow":n3(U,s,"xlink:show",n,k,C);continue;case"xlinkTitle":n3(U,s,"xlink:title",n,k,C);continue;case"xlinkType":n3(U,s,"xlink:type",n,k,C);continue;case"xmlBase":n3(U,s,"xml:base",n,k,C);continue;case"xmlLang":n3(U,s,"xml:lang",n,k,C);continue;case"xmlSpace":n3(U,s,"xml:space",n,k,C);continue;case"inert":n!==""||TP[s]||(TP[s]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",s)),x30(U,s,s,n,k,C);continue;default:if(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N"){y=K40(s),I=!1,w.context===EY&&N!=="svg"&&N!=="math"?k.delete(y.toLowerCase()):(O0=s.toLowerCase(),O0=nC.hasOwnProperty(O0)?nC[O0]||null:null,O0!==null&&O0!==s&&(I=!0,k.delete(O0)),k.delete(y));$:if(O0=U,E0=y,y=n,Q6(E0))if(O0.hasAttribute(E0))O0=O0.getAttribute(E0),W0(y,E0),y=O0===""+y?y:O0;else{switch(typeof y){case"function":case"symbol":break $;case"boolean":if(O0=E0.toLowerCase().slice(0,5),O0!=="data-"&&O0!=="aria-")break $}y=y===void 0?void 0:null}else y=void 0;I||G8(s,y,n,C)}}}return 0<k.size&&V.suppressHydrationWarning!==!0&&Ja0(U,k,C),Object.keys(C).length===0?null:C}function Ya0(U,N){switch(U.length){case 0:return"";case 1:return U[0];case 2:return U[0]+" "+N+" "+U[1];default:return U.slice(0,-1).join(", ")+", "+N+" "+U[U.length-1]}}function hC(U){return U.nodeType===9?U:U.ownerDocument}function m30(U){switch(U){case _H:return FN;case dC:return PP;default:return EY}}function p30(U,N){if(U===EY)switch(N){case"svg":return FN;case"math":return PP;default:return EY}return U===FN&&N==="foreignObject"?EY:U}function yg(U,N){return U==="textarea"||U==="noscript"||typeof N.children==="string"||typeof N.children==="number"||typeof N.children==="bigint"||typeof N.dangerouslySetInnerHTML==="object"&&N.dangerouslySetInnerHTML!==null&&N.dangerouslySetInnerHTML.__html!=null}function Za0(){var U=window.event;if(U&&U.type==="popstate"){if(U===Bx)return!1;return Bx=U,!0}return Bx=null,!1}function qa0(U){setTimeout(function(){throw U})}function Xa0(U,N,V){switch(N){case"button":case"input":case"select":case"textarea":V.autoFocus&&U.focus();break;case"img":V.src?U.src=V.src:V.srcSet&&(U.srcset=V.srcSet)}}function Wa0(U,N,V,w){Ka0(U,N,V,w),U[N9]=w}function d30(U){eA(U,"")}function Fa0(U,N,V){U.nodeValue=V}function Jq(U){return U==="head"}function Ua0(U,N){U.removeChild(N)}function Ha0(U,N){(U.nodeType===9?U.body:U.nodeName==="HTML"?U.ownerDocument.body:U).removeChild(N)}function n30(U,N){var V=N,w=0,C=0;do{var k=V.nextSibling;if(U.removeChild(V),k&&k.nodeType===8)if(V=k.data,V===CP){if(0<w&&8>w){V=w;var I=U.ownerDocument;if(V&Ae0&&jV(I.documentElement),V&Ve0&&jV(I.body),V&Re0)for(V=I.head,jV(V),I=V.firstChild;I;){var{nextSibling:y,nodeName:n}=I;I[fV]||n==="SCRIPT"||n==="STYLE"||n==="LINK"&&I.rel.toLowerCase()==="stylesheet"||V.removeChild(I),I=y}}if(C===0){U.removeChild(k),vV(N);return}C--}else V===DP||V===jY||V===BR?C++:w=V.charCodeAt(0)-48;else w=0;V=k}while(V);vV(N)}function Na0(U){U=U.style,typeof U.setProperty==="function"?U.setProperty("display","none","important"):U.display="none"}function Ba0(U){U.nodeValue=""}function za0(U,N){N=N[Ge0],N=N!==void 0&&N!==null&&N.hasOwnProperty("display")?N.display:null,U.style.display=N==null||typeof N==="boolean"?"":(""+N).trim()}function Aa0(U,N){U.nodeValue=N}function xg(U){var N=U.firstChild;N&&N.nodeType===10&&(N=N.nextSibling);for(;N;){var V=N;switch(N=N.nextSibling,V.nodeName){case"HTML":case"HEAD":case"BODY":xg(V),I2(V);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(V.rel.toLowerCase()==="stylesheet")continue}U.removeChild(V)}}function Va0(U,N,V,w){for(;U.nodeType===1;){var C=V;if(U.nodeName.toLowerCase()!==N.toLowerCase()){if(!w&&(U.nodeName!=="INPUT"||U.type!=="hidden"))break}else if(!w)if(N==="input"&&U.type==="hidden"){W0(C.name,"name");var k=C.name==null?null:""+C.name;if(C.type==="hidden"&&U.getAttribute("name")===k)return U}else return U;else if(!U[fV])switch(N){case"meta":if(!U.hasAttribute("itemprop"))break;return U;case"link":if(k=U.getAttribute("rel"),k==="stylesheet"&&U.hasAttribute("data-precedence"))break;else if(k!==C.rel||U.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||U.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||U.getAttribute("title")!==(C.title==null?null:C.title))break;return U;case"style":if(U.hasAttribute("data-precedence"))break;return U;case"script":if(k=U.getAttribute("src"),(k!==(C.src==null?null:C.src)||U.getAttribute("type")!==(C.type==null?null:C.type)||U.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&k&&U.hasAttribute("async")&&!U.hasAttribute("itemprop"))break;return U;default:return U}if(U=l3(U.nextSibling),U===null)break}return null}function Ra0(U,N,V){if(N==="")return null;for(;U.nodeType!==3;){if((U.nodeType!==1||U.nodeName!=="INPUT"||U.type!=="hidden")&&!V)return null;if(U=l3(U.nextSibling),U===null)return null}return U}function cg(U){return U.data===BR||U.data===jY&&U.ownerDocument.readyState===kJ0}function Ga0(U,N){var V=U.ownerDocument;if(U.data!==jY||V.readyState===kJ0)N();else{var w=function(){N(),V.removeEventListener("DOMContentLoaded",w)};V.addEventListener("DOMContentLoaded",w),U._reactRetry=w}}function l3(U){for(;U!=null;U=U.nextSibling){var N=U.nodeType;if(N===1||N===3)break;if(N===8){if(N=U.data,N===DP||N===BR||N===jY||N===Ux||N===PJ0)break;if(N===CP)return null}}return U}function l30(U){if(U.nodeType===1){for(var N=U.nodeName.toLowerCase(),V={},w=U.attributes,C=0;C<w.length;C++){var k=w[C];V[g30(k.name)]=k.name.toLowerCase()==="style"?Mg(U):k.value}return{type:N,props:V}}return U.nodeType===8?{type:"Suspense",props:{}}:U.nodeValue}function r30(U,N,V){return V===null||V[ze0]!==!0?(U.nodeValue===N?U=null:(N=Qq(N),U=Qq(U.nodeValue)===N?null:U.nodeValue),U):null}function i30(U){U=U.nextSibling;for(var N=0;U;){if(U.nodeType===8){var V=U.data;if(V===CP){if(N===0)return l3(U.nextSibling);N--}else V!==DP&&V!==BR&&V!==jY||N++}U=U.nextSibling}return null}function s30(U){U=U.previousSibling;for(var N=0;U;){if(U.nodeType===8){var V=U.data;if(V===DP||V===BR||V===jY){if(N===0)return U;N--}else V===CP&&N++}U=U.previousSibling}return null}function Oa0(U){vV(U)}function wa0(U){vV(U)}function o30(U,N,V,w,C){switch(C&&Kb(U,w.ancestorInfo),N=hC(V),U){case"html":if(U=N.documentElement,!U)throw Error("React expected an <html> element (document.documentElement) to exist in the Document but one was not found. React never removes the documentElement for any Document it renders into so the cause is likely in some other script running on this page.");return U;case"head":if(U=N.head,!U)throw Error("React expected a <head> element (document.head) to exist in the Document but one was not found. React never removes the head for any Document it renders into so the cause is likely in some other script running on this page.");return U;case"body":if(U=N.body,!U)throw Error("React expected a <body> element (document.body) to exist in the Document but one was not found. React never removes the body for any Document it renders into so the cause is likely in some other script running on this page.");return U;default:throw Error("resolveSingletonInstance was called with an element type that is not supported. This is a bug in React.")}}function Ta0(U,N,V,w){if(!V[Xq]&&d(V)){var C=V.tagName.toLowerCase();console.error("You are mounting a new %s component when a previous one has not first unmounted. It is an error to render more than one %s component at a time and attributes and children of these components will likely fail in unpredictable ways. Please only render a single instance of <%s> and if you need to mount a new one, ensure any previous ones have unmounted first.",C,C,C)}switch(U){case"html":case"head":case"body":break;default:console.error("acquireSingletonInstance was called with an element type that is not supported. This is a bug in React.")}for(C=V.attributes;C.length;)V.removeAttributeNode(C[0]);g8(V,U,N),V[Z4]=w,V[N9]=N}function jV(U){for(var N=U.attributes;N.length;)U.removeAttributeNode(N[0]);I2(U)}function vC(U){return typeof U.getRootNode==="function"?U.getRootNode():U.nodeType===9?U:U.ownerDocument}function a30(U,N,V){var w=UN;if(w&&typeof N==="string"&&N){var C=d3(N);C='link[rel="'+U+'"][href="'+C+'"]',typeof V==="string"&&(C+='[crossorigin="'+V+'"]'),SJ0.has(C)||(SJ0.add(C),U={rel:U,crossOrigin:V,href:N},w.querySelector(C)===null&&(N=w.createElement("link"),g8(N,"link",U),$1(N),w.head.appendChild(N)))}}function t30(U,N,V,w){var C=(C=Zq.current)?vC(C):null;if(!C)throw Error('"resourceRoot" was expected to exist. This is a bug in React.');switch(U){case"meta":case"title":return null;case"style":return typeof V.precedence==="string"&&typeof V.href==="string"?(V=kH(V.href),N=Q1(C).hoistableStyles,w=N.get(V),w||(w={type:"style",instance:null,count:0,state:null},N.set(V,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(V.rel==="stylesheet"&&typeof V.href==="string"&&typeof V.precedence==="string"){U=kH(V.href);var k=Q1(C).hoistableStyles,I=k.get(U);if(!I&&(C=C.ownerDocument||C,I={type:"stylesheet",instance:null,count:0,state:{loading:AW,preload:null}},k.set(U,I),(k=C.querySelector(EV(U)))&&!k._p&&(I.instance=k,I.state.loading=zR|J$),!K$.has(U))){var y={rel:"preload",as:"style",href:V.href,crossOrigin:V.crossOrigin,integrity:V.integrity,media:V.media,hrefLang:V.hrefLang,referrerPolicy:V.referrerPolicy};K$.set(U,y),k||Da0(C,U,y,I.state)}if(N&&w===null)throw V=`

  - `+SC(N)+`
  + `+SC(V),Error("Expected <link> not to update to be updated to a stylesheet with precedence. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+V);return I}if(N&&w!==null)throw V=`

  - `+SC(N)+`
  + `+SC(V),Error("Expected stylesheet with precedence to not be updated to a different kind of <link>. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+V);return null;case"script":return N=V.async,V=V.src,typeof V==="string"&&N&&typeof N!=="function"&&typeof N!=="symbol"?(V=jH(V),N=Q1(C).hoistableScripts,w=N.get(V),w||(w={type:"script",instance:null,count:0,state:null},N.set(V,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error('getResource encountered a type it did not expect: "'+U+'". this is a bug in React.')}}function SC(U){var N=0,V="<link";return typeof U.rel==="string"?(N++,V+=' rel="'+U.rel+'"'):RY.call(U,"rel")&&(N++,V+=' rel="'+(U.rel===null?"null":"invalid type "+typeof U.rel)+'"'),typeof U.href==="string"?(N++,V+=' href="'+U.href+'"'):RY.call(U,"href")&&(N++,V+=' href="'+(U.href===null?"null":"invalid type "+typeof U.href)+'"'),typeof U.precedence==="string"?(N++,V+=' precedence="'+U.precedence+'"'):RY.call(U,"precedence")&&(N++,V+=" precedence={"+(U.precedence===null?"null":"invalid type "+typeof U.precedence)+"}"),Object.getOwnPropertyNames(U).length>N&&(V+=" ..."),V+" />"}function kH(U){return'href="'+d3(U)+'"'}function EV(U){return'link[rel="stylesheet"]['+U+"]"}function e30(U){return E5({},U,{"data-precedence":U.precedence,precedence:null})}function Da0(U,N,V,w){U.querySelector('link[rel="preload"][as="style"]['+N+"]")?w.loading=zR:(N=U.createElement("link"),w.preload=N,N.addEventListener("load",function(){return w.loading|=zR}),N.addEventListener("error",function(){return w.loading|=hJ0}),g8(N,"link",V),$1(N),U.head.appendChild(N))}function jH(U){return'[src="'+d3(U)+'"]'}function LV(U){return"script[async]"+U}function $$0(U,N,V){if(N.count++,N.instance===null)switch(N.type){case"style":var w=U.querySelector('style[data-href~="'+d3(V.href)+'"]');if(w)return N.instance=w,$1(w),w;var C=E5({},V,{"data-href":V.href,"data-precedence":V.precedence,href:null,precedence:null});return w=(U.ownerDocument||U).createElement("style"),$1(w),g8(w,"style",C),_C(w,V.precedence,U),N.instance=w;case"stylesheet":C=kH(V.href);var k=U.querySelector(EV(C));if(k)return N.state.loading|=J$,N.instance=k,$1(k),k;w=e30(V),(C=K$.get(C))&&ug(w,C),k=(U.ownerDocument||U).createElement("link"),$1(k);var I=k;return I._p=new Promise(function(y,n){I.onload=y,I.onerror=n}),g8(k,"link",w),N.state.loading|=J$,_C(k,V.precedence,U),N.instance=k;case"script":if(k=jH(V.src),C=U.querySelector(LV(k)))return N.instance=C,$1(C),C;if(w=V,C=K$.get(k))w=E5({},V),mg(w,C);return U=U.ownerDocument||U,C=U.createElement("script"),$1(C),g8(C,"link",w),U.head.appendChild(C),N.instance=C;case"void":return null;default:throw Error('acquireResource encountered a resource type it did not expect: "'+N.type+'". this is a bug in React.')}else N.type==="stylesheet"&&(N.state.loading&J$)===AW&&(w=N.instance,N.state.loading|=J$,_C(w,V.precedence,U));return N.instance}function _C(U,N,V){for(var w=V.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=w.length?w[w.length-1]:null,k=C,I=0;I<w.length;I++){var y=w[I];if(y.dataset.precedence===N)k=y;else if(k!==C)break}k?k.parentNode.insertBefore(U,k.nextSibling):(N=V.nodeType===9?V.head:V,N.insertBefore(U,N.firstChild))}function ug(U,N){U.crossOrigin==null&&(U.crossOrigin=N.crossOrigin),U.referrerPolicy==null&&(U.referrerPolicy=N.referrerPolicy),U.title==null&&(U.title=N.title)}function mg(U,N){U.crossOrigin==null&&(U.crossOrigin=N.crossOrigin),U.referrerPolicy==null&&(U.referrerPolicy=N.referrerPolicy),U.integrity==null&&(U.integrity=N.integrity)}function Q$0(U,N,V){if(kP===null){var w=new Map,C=kP=new Map;C.set(V,w)}else C=kP,w=C.get(V),w||(w=new Map,C.set(V,w));if(w.has(U))return w;w.set(U,null),V=V.getElementsByTagName(U);for(C=0;C<V.length;C++){var k=V[C];if(!(k[fV]||k[Z4]||U==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!==_H){var I=k.getAttribute(N)||"";I=U+I;var y=w.get(I);y?y.push(k):w.set(I,[k])}}return w}function J$0(U,N,V){U=U.ownerDocument||U,U.head.insertBefore(V,N==="title"?U.querySelector("head > title"):null)}function Ca0(U,N,V){var w=!V.ancestorInfo.containerTagInScope;if(V.context===FN||N.itemProp!=null)return!w||N.itemProp==null||U!=="meta"&&U!=="title"&&U!=="style"&&U!=="link"&&U!=="script"||console.error("Cannot render a <%s> outside the main document if it has an `itemProp` prop. `itemProp` suggests the tag belongs to an `itemScope` which can appear anywhere in the DOM. If you were intending for React to hoist this <%s> remove the `itemProp` prop. Otherwise, try moving this tag into the <head> or <body> of the Document.",U,U),!1;switch(U){case"meta":case"title":return!0;case"style":if(typeof N.precedence!=="string"||typeof N.href!=="string"||N.href===""){w&&console.error('Cannot render a <style> outside the main document without knowing its precedence and a unique href key. React can hoist and deduplicate <style> tags if you provide a `precedence` prop along with an `href` prop that does not conflict with the `href` values used in any other hoisted <style> or <link rel="stylesheet" ...> tags.  Note that hoisting <style> tags is considered an advanced feature that most will not use directly. Consider moving the <style> tag to the <head> or consider adding a `precedence="default"` and `href="some unique resource identifier"`.');break}return!0;case"link":if(typeof N.rel!=="string"||typeof N.href!=="string"||N.href===""||N.onLoad||N.onError){if(N.rel==="stylesheet"&&typeof N.precedence==="string"){U=N.href;var{onError:C,disabled:k}=N;V=[],N.onLoad&&V.push("`onLoad`"),C&&V.push("`onError`"),k!=null&&V.push("`disabled`"),C=Ya0(V,"and"),C+=V.length===1?" prop":" props",k=V.length===1?"an "+C:"the "+C,V.length&&console.error('React encountered a <link rel="stylesheet" href="%s" ... /> with a `precedence` prop that also included %s. The presence of loading and error handlers indicates an intent to manage the stylesheet loading state from your from your Component code and React will not hoist or deduplicate this stylesheet. If your intent was to have React hoist and deduplciate this stylesheet using the `precedence` prop remove the %s, otherwise remove the `precedence` prop.',U,k,C)}w&&(typeof N.rel!=="string"||typeof N.href!=="string"||N.href===""?console.error("Cannot render a <link> outside the main document without a `rel` and `href` prop. Try adding a `rel` and/or `href` prop to this <link> or moving the link into the <head> tag"):(N.onError||N.onLoad)&&console.error("Cannot render a <link> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."));break}switch(N.rel){case"stylesheet":return U=N.precedence,N=N.disabled,typeof U!=="string"&&w&&console.error('Cannot render a <link rel="stylesheet" /> outside the main document without knowing its precedence. Consider adding precedence="default" or moving it into the root <head> tag.'),typeof U==="string"&&N==null;default:return!0}case"script":if(U=N.async&&typeof N.async!=="function"&&typeof N.async!=="symbol",!U||N.onLoad||N.onError||!N.src||typeof N.src!=="string"){w&&(U?N.onLoad||N.onError?console.error("Cannot render a <script> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."):console.error("Cannot render a <script> outside the main document without `async={true}` and a non-empty `src` prop. Ensure there is a valid `src` and either make the script async or move it into the root <head> tag or somewhere in the <body>."):console.error('Cannot render a sync or defer <script> outside the main document without knowing its order. Try adding async="" or moving it into the root <head> tag.'));break}return!0;case"noscript":case"template":w&&console.error("Cannot render <%s> outside the main document. Try moving it into the root <head> tag.",U)}return!1}function K$0(U){return U.type==="stylesheet"&&(U.state.loading&vJ0)===AW?!1:!0}function Pa0(){}function ka0(U,N,V){if(AR===null)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var w=AR;if(N.type==="stylesheet"&&(typeof V.media!=="string"||matchMedia(V.media).matches!==!1)&&(N.state.loading&J$)===AW){if(N.instance===null){var C=kH(V.href),k=U.querySelector(EV(C));if(k){U=k._p,U!==null&&typeof U==="object"&&typeof U.then==="function"&&(w.count++,w=fC.bind(w),U.then(w,w)),N.state.loading|=J$,N.instance=k,$1(k);return}k=U.ownerDocument||U,V=e30(V),(C=K$.get(C))&&ug(V,C),k=k.createElement("link"),$1(k);var I=k;I._p=new Promise(function(y,n){I.onload=y,I.onerror=n}),g8(k,"link",V),N.instance=k}w.stylesheets===null&&(w.stylesheets=new Map),w.stylesheets.set(N,U),(U=N.state.preload)&&(N.state.loading&vJ0)===AW&&(w.count++,N=fC.bind(w),U.addEventListener("load",N),U.addEventListener("error",N))}}function ja0(){if(AR===null)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var U=AR;return U.stylesheets&&U.count===0&&pg(U,U.stylesheets),0<U.count?function(N){var V=setTimeout(function(){if(U.stylesheets&&pg(U,U.stylesheets),U.unsuspend){var w=U.unsuspend;U.unsuspend=null,w()}},60000);return U.unsuspend=N,function(){U.unsuspend=null,clearTimeout(V)}}:null}function fC(){if(this.count--,this.count===0){if(this.stylesheets)pg(this,this.stylesheets);else if(this.unsuspend){var U=this.unsuspend;this.unsuspend=null,U()}}}function pg(U,N){U.stylesheets=null,U.unsuspend!==null&&(U.count++,jP=new Map,N.forEach(Ea0,U),jP=null,fC.call(U))}function Ea0(U,N){if(!(N.state.loading&J$)){var V=jP.get(U);if(V)var w=V.get(Ax);else{V=new Map,jP.set(U,V);for(var C=U.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<C.length;k++){var I=C[k];if(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")V.set(I.dataset.precedence,I),w=I}w&&V.set(Ax,w)}C=N.instance,I=C.getAttribute("data-precedence"),k=V.get(I)||w,k===w&&V.set(Ax,C),V.set(I,C),this.count++,w=fC.bind(this),C.addEventListener("load",w),C.addEventListener("error",w),k?k.parentNode.insertBefore(C,k.nextSibling):(U=U.nodeType===9?U.head:U,U.insertBefore(C,U.firstChild)),N.state.loading|=J$}}function La0(U,N,V,w,C,k,I,y){this.tag=1,this.containerInfo=U,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=zW,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=TJ(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=TJ(0),this.hiddenUpdates=TJ(null),this.identifierPrefix=w,this.onUncaughtError=C,this.onCaughtError=k,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map,this.passiveEffectDuration=this.effectDuration=-0,this.memoizedUpdaters=new Set,U=this.pendingUpdatersLaneMap=[];for(N=0;31>N;N++)U.push(new Set);this._debugRootType=V?"hydrateRoot()":"createRoot()"}function Y$0(U,N,V,w,C,k,I,y,n,s,O0,E0){return U=new La0(U,N,V,I,y,n,s,E0),N=dt0,k===!0&&(N|=q4|zQ),NQ&&(N|=x8),k=z(3,null,null,N),U.current=k,k.stateNode=U,N=Ob(),n2(N),U.pooledCache=N,n2(N),k.memoizedState={element:w,isDehydrated:V,cache:N},Cb(k),U}function Z$0(U){if(!U)return Fq;return U=Fq,U}function dg(U,N,V,w,C,k){if(Y4&&typeof Y4.onScheduleFiberRoot==="function")try{Y4.onScheduleFiberRoot(vH,w,V)}catch(I){SJ||(SJ=!0,console.error("React instrumentation encountered an error: %s",I))}A1!==null&&typeof A1.markRenderScheduled==="function"&&A1.markRenderScheduled(N),C=Z$0(C),w.context===null?w.context=C:w.pendingContext=C,fJ&&Z3!==null&&!MJ0&&(MJ0=!0,console.error(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,_(Z3)||"Unknown")),w=sZ(N),w.payload={element:V},k=k===void 0?null:k,k!==null&&(typeof k!=="function"&&console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",k),w.callback=k),V=oZ(U,w,N),V!==null&&(y7(V,U,N),UV(V,U,N))}function q$0(U,N){if(U=U.memoizedState,U!==null&&U.dehydrated!==null){var V=U.retryLane;U.retryLane=V!==0&&V<N?V:N}}function ng(U,N){q$0(U,N),(U=U.alternate)&&q$0(U,N)}function X$0(U){if(U.tag===13){var N=F9(U,67108864);N!==null&&y7(N,U,67108864),ng(U,67108864)}}function ha0(){return Z3}function va0(){for(var U=new Map,N=1,V=0;31>V;V++){var w=w5(N);U.set(N,w),N*=2}return U}function Sa0(U,N,V,w){var C=j0.T;j0.T=null;var k=W6.p;try{W6.p=Y3,lg(U,N,V,w)}finally{W6.p=k,j0.T=C}}function _a0(U,N,V,w){var C=j0.T;j0.T=null;var k=W6.p;try{W6.p=BQ,lg(U,N,V,w)}finally{W6.p=k,j0.T=C}}function lg(U,N,V,w){if(LP){var C=rg(w);if(C===null)_g(U,N,w,hP,V),F$0(U,w);else if(fa0(C,U,N,V,w))w.stopPropagation();else if(F$0(U,w),N&4&&-1<De0.indexOf(U)){for(;C!==null;){var k=d(C);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var I=T5(k.pendingLanes);if(I!==0){var y=k;y.pendingLanes|=2;for(y.entangledLanes|=2;I;){var n=1<<31-h4(I);y.entanglements[1]|=n,I&=~n}EJ(k),(F6&(I4|GQ))===q3&&(NP=vJ()+BJ0,PV(0,!1))}}break;case 13:y=F9(k,2),y!==null&&y7(y,k,2),TH(),ng(k,2)}if(k=rg(w),k===null&&_g(U,N,w,hP,V),k===C)break;C=k}C!==null&&w.stopPropagation()}else _g(U,N,w,null,V)}}function rg(U){return U=Yb(U),ig(U)}function ig(U){if(hP=null,U=qY(U),U!==null){var N=T(U);if(N===null)U=null;else{var V=N.tag;if(V===13){if(U=D(N),U!==null)return U;U=null}else if(V===3){if(N.stateNode.current.memoizedState.isDehydrated)return N.tag===3?N.stateNode.containerInfo:null;U=null}else N!==U&&(U=null)}}return hP=U,null}function W$0(U){switch(U){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return Y3;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return BQ;case"message":switch(pa0()){case Yy:return Y3;case Zy:return BQ;case hH:case da0:return _J;case qy:return mC;default:return _J}default:return _J}}function F$0(U,N){switch(U){case"focusin":case"focusout":Oq=null;break;case"dragenter":case"dragleave":wq=null;break;case"mouseover":case"mouseout":Tq=null;break;case"pointerover":case"pointerout":RR.delete(N.pointerId);break;case"gotpointercapture":case"lostpointercapture":GR.delete(N.pointerId)}}function hV(U,N,V,w,C,k){if(U===null||U.nativeEvent!==k)return U={blockedOn:N,domEventName:V,eventSystemFlags:w,nativeEvent:k,targetContainers:[C]},N!==null&&(N=d(N),N!==null&&X$0(N)),U;return U.eventSystemFlags|=w,N=U.targetContainers,C!==null&&N.indexOf(C)===-1&&N.push(C),U}function fa0(U,N,V,w,C){switch(N){case"focusin":return Oq=hV(Oq,U,N,V,w,C),!0;case"dragenter":return wq=hV(wq,U,N,V,w,C),!0;case"mouseover":return Tq=hV(Tq,U,N,V,w,C),!0;case"pointerover":var k=C.pointerId;return RR.set(k,hV(RR.get(k)||null,U,N,V,w,C)),!0;case"gotpointercapture":return k=C.pointerId,GR.set(k,hV(GR.get(k)||null,U,N,V,w,C)),!0}return!1}function U$0(U){var N=qY(U.target);if(N!==null){var V=T(N);if(V!==null){if(N=V.tag,N===13){if(N=D(V),N!==null){U.blockedOn=N,UH(U.priority,function(){if(V.tag===13){var w=J3(V);w=FH(w);var C=F9(V,w);C!==null&&y7(C,V,w),ng(V,w)}});return}}else if(N===3&&V.stateNode.current.memoizedState.isDehydrated){U.blockedOn=V.tag===3?V.stateNode.containerInfo:null;return}}}U.blockedOn=null}function IC(U){if(U.blockedOn!==null)return!1;for(var N=U.targetContainers;0<N.length;){var V=rg(U.nativeEvent);if(V===null){V=U.nativeEvent;var w=new V.constructor(V.type,V),C=w;MV!==null&&console.error("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),MV=C,V.target.dispatchEvent(w),MV===null&&console.error("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),MV=null}else return N=d(V),N!==null&&X$0(N),U.blockedOn=V,!1;N.shift()}return!0}function H$0(U,N,V){IC(U)&&V.delete(N)}function Ia0(){Vx=!1,Oq!==null&&IC(Oq)&&(Oq=null),wq!==null&&IC(wq)&&(wq=null),Tq!==null&&IC(Tq)&&(Tq=null),RR.forEach(H$0),GR.forEach(H$0)}function MC(U,N){U.blockedOn===N&&(U.blockedOn=null,Vx||(Vx=!0,e5.unstable_scheduleCallback(e5.unstable_NormalPriority,Ia0)))}function N$0(U){vP!==U&&(vP=U,e5.unstable_scheduleCallback(e5.unstable_NormalPriority,function(){vP===U&&(vP=null);for(var N=0;N<U.length;N+=3){var V=U[N],w=U[N+1],C=U[N+2];if(typeof w!=="function")if(ig(w||V)===null)continue;else break;var k=d(V);k!==null&&(U.splice(N,3),N-=3,V={pending:!0,data:C,method:V.method,action:w},Object.freeze(V),ib(k,V,w,C))}}))}function vV(U){function N(n){return MC(n,U)}Oq!==null&&MC(Oq,U),wq!==null&&MC(wq,U),Tq!==null&&MC(Tq,U),RR.forEach(N),GR.forEach(N);for(var V=0;V<Dq.length;V++){var w=Dq[V];w.blockedOn===U&&(w.blockedOn=null)}for(;0<Dq.length&&(V=Dq[0],V.blockedOn===null);)U$0(V),V.blockedOn===null&&Dq.shift();if(V=(U.ownerDocument||U).$$reactFormReplay,V!=null)for(w=0;w<V.length;w+=3){var C=V[w],k=V[w+1],I=C[N9]||null;if(typeof k==="function")I||N$0(V);else if(I){var y=null;if(k&&k.hasAttribute("formAction")){if(C=k,I=k[N9]||null)y=I.formAction;else if(ig(C)!==null)continue}else y=I.action;typeof y==="function"?V[w+1]=y:(V.splice(w,3),w-=3),N$0(V)}}}function sg(U){this._internalRoot=U}function bC(U){this._internalRoot=U}function B$0(U){U[Xq]&&(U._reactRootContainer?console.error("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):console.error("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var E5=Object.assign,Ma0=Symbol.for("react.element"),Kq=Symbol.for("react.transitional.element"),EH=Symbol.for("react.portal"),LH=Symbol.for("react.fragment"),gC=Symbol.for("react.strict_mode"),og=Symbol.for("react.profiler"),ba0=Symbol.for("react.provider"),ag=Symbol.for("react.consumer"),hJ=Symbol.for("react.context"),SV=Symbol.for("react.forward_ref"),tg=Symbol.for("react.suspense"),eg=Symbol.for("react.suspense_list"),yC=Symbol.for("react.memo"),K3=Symbol.for("react.lazy"),$y=Symbol.for("react.activity"),ga0=Symbol.for("react.memo_cache_sentinel"),z$0=Symbol.iterator,ya0=Symbol.for("react.client.reference"),y8=Array.isArray,j0=HN.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W6=Gx.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xa0=Object.freeze({pending:!1,data:null,method:null,action:null}),Qy=[],Jy=[],VY=-1,Yq=M(null),_V=M(null),Zq=M(null),xC=M(null),RY=Object.prototype.hasOwnProperty,Ky=e5.unstable_scheduleCallback,ca0=e5.unstable_cancelCallback,ua0=e5.unstable_shouldYield,ma0=e5.unstable_requestPaint,vJ=e5.unstable_now,pa0=e5.unstable_getCurrentPriorityLevel,Yy=e5.unstable_ImmediatePriority,Zy=e5.unstable_UserBlockingPriority,hH=e5.unstable_NormalPriority,da0=e5.unstable_LowPriority,qy=e5.unstable_IdlePriority,na0=e5.log,la0=e5.unstable_setDisableYieldValue,vH=null,Y4=null,A1=null,SJ=!1,NQ=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u",h4=Math.clz32?Math.clz32:g1,ra0=Math.log,ia0=Math.LN2,cC=256,uC=4194304,Y3=2,BQ=8,_J=32,mC=268435456,qq=Math.random().toString(36).slice(2),Z4="__reactFiber$"+qq,N9="__reactProps$"+qq,Xq="__reactContainer$"+qq,Xy="__reactEvents$"+qq,sa0="__reactListeners$"+qq,oa0="__reactHandles$"+qq,A$0="__reactResources$"+qq,fV="__reactMarker$"+qq,V$0=new Set,a2={},Wy={},aa0={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},ta0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),R$0={},G$0={},IV=0,O$0,w$0,T$0,D$0,C$0,P$0,k$0;bD.__reactDisabledLog=!0;var Fy,j$0,Uy=!1,Hy=new(typeof WeakMap==="function"?WeakMap:Map),Z3=null,fJ=!1,ea0=/[\n"\\]/g,E$0=!1,L$0=!1,h$0=!1,v$0=!1,S$0=!1,_$0=!1,f$0=["value","defaultValue"],I$0=!1,M$0=/["'&<>\n\t]|^\s|\s$/,$t0="address applet area article aside base basefont bgsound blockquote body br button caption center col colgroup dd details dir div dl dt embed fieldset figcaption figure footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html iframe img input isindex li link listing main marquee menu menuitem meta nav noembed noframes noscript object ol p param plaintext pre script section select source style summary table tbody td template textarea tfoot th thead title tr track ul wbr xmp".split(" "),b$0="applet caption html table td th marquee object template foreignObject desc title".split(" "),Qt0=b$0.concat(["button"]),Jt0="dd dt li option optgroup p rp rt".split(" "),g$0={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null,containerTagInScope:null,implicitRootScope:!1},pC={},Ny={animation:"animationDelay animationDirection animationDuration animationFillMode animationIterationCount animationName animationPlayState animationTimingFunction".split(" "),background:"backgroundAttachment backgroundClip backgroundColor backgroundImage backgroundOrigin backgroundPositionX backgroundPositionY backgroundRepeat backgroundSize".split(" "),backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:"borderBottomColor borderBottomStyle borderBottomWidth borderImageOutset borderImageRepeat borderImageSlice borderImageSource borderImageWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderTopColor borderTopStyle borderTopWidth".split(" "),borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:"fontFamily fontFeatureSettings fontKerning fontLanguageOverride fontSize fontSizeAdjust fontStretch fontStyle fontVariant fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition fontWeight lineHeight".split(" "),fontVariant:"fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition".split(" "),gap:["columnGap","rowGap"],grid:"gridAutoColumns gridAutoFlow gridAutoRows gridTemplateAreas gridTemplateColumns gridTemplateRows".split(" "),gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:"maskClip maskComposite maskImage maskMode maskOrigin maskPositionX maskPositionY maskRepeat maskSize".split(" "),maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},y$0=/([A-Z])/g,x$0=/^ms-/,Kt0=/^(?:webkit|moz|o)[A-Z]/,Yt0=/^-ms-/,Zt0=/-(.)/g,c$0=/;\s*$/,SH={},By={},u$0=!1,m$0=!1,p$0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),dC="http://www.w3.org/1998/Math/MathML",_H="http://www.w3.org/2000/svg",qt0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nC={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",fetchpriority:"fetchPriority",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",inert:"inert",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",popover:"popover",popovertarget:"popoverTarget",popovertargetaction:"popoverTargetAction",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",transformorigin:"transformOrigin","transform-origin":"transformOrigin",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},d$0={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},fH={},Xt0=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wt0=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),n$0=!1,v4={},l$0=/^on./,Ft0=/^on[^A-Z]/,Ut0=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ht0=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nt0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i,MV=null,IH=null,MH=null,zy=!1,IJ=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ay=!1;if(IJ)try{var bV={};Object.defineProperty(bV,"passive",{get:function(){Ay=!0}}),window.addEventListener("test",bV,bV),window.removeEventListener("test",bV,bV)}catch(U){Ay=!1}var Wq=null,Vy=null,lC=null,t2={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(U){return U.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rC=W9(t2),gV=E5({},t2,{view:0,detail:0}),Bt0=W9(gV),Ry,Gy,yV,iC=E5({},gV,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zb,button:0,buttons:0,relatedTarget:function(U){return U.relatedTarget===void 0?U.fromElement===U.srcElement?U.toElement:U.fromElement:U.relatedTarget},movementX:function(U){if("movementX"in U)return U.movementX;return U!==yV&&(yV&&U.type==="mousemove"?(Ry=U.screenX-yV.screenX,Gy=U.screenY-yV.screenY):Gy=Ry=0,yV=U),Ry},movementY:function(U){return"movementY"in U?U.movementY:Gy}}),r$0=W9(iC),zt0=E5({},iC,{dataTransfer:0}),At0=W9(zt0),Vt0=E5({},gV,{relatedTarget:0}),Oy=W9(Vt0),Rt0=E5({},t2,{animationName:0,elapsedTime:0,pseudoElement:0}),Gt0=W9(Rt0),Ot0=E5({},t2,{clipboardData:function(U){return"clipboardData"in U?U.clipboardData:window.clipboardData}}),wt0=W9(Ot0),Tt0=E5({},t2,{data:0}),i$0=W9(Tt0),Dt0=i$0,Ct0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pt0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kt0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},jt0=E5({},gV,{key:function(U){if(U.key){var N=Ct0[U.key]||U.key;if(N!=="Unidentified")return N}return U.type==="keypress"?(U=mD(U),U===13?"Enter":String.fromCharCode(U)):U.type==="keydown"||U.type==="keyup"?Pt0[U.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zb,charCode:function(U){return U.type==="keypress"?mD(U):0},keyCode:function(U){return U.type==="keydown"||U.type==="keyup"?U.keyCode:0},which:function(U){return U.type==="keypress"?mD(U):U.type==="keydown"||U.type==="keyup"?U.keyCode:0}}),Et0=W9(jt0),Lt0=E5({},iC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),s$0=W9(Lt0),ht0=E5({},gV,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zb}),vt0=W9(ht0),St0=E5({},t2,{propertyName:0,elapsedTime:0,pseudoElement:0}),_t0=W9(St0),ft0=E5({},iC,{deltaX:function(U){return"deltaX"in U?U.deltaX:("wheelDeltaX"in U)?-U.wheelDeltaX:0},deltaY:function(U){return"deltaY"in U?U.deltaY:("wheelDeltaY"in U)?-U.wheelDeltaY:("wheelDelta"in U)?-U.wheelDelta:0},deltaZ:0,deltaMode:0}),It0=W9(ft0),Mt0=E5({},t2,{newState:0,oldState:0}),bt0=W9(Mt0),gt0=[9,13,27,32],o$0=229,wy=IJ&&"CompositionEvent"in window,xV=null;IJ&&"documentMode"in document&&(xV=document.documentMode);var yt0=IJ&&"TextEvent"in window&&!xV,a$0=IJ&&(!wy||xV&&8<xV&&11>=xV),t$0=32,e$0=String.fromCharCode(t$0),$Q0=!1,bH=!1,xt0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},cV=null,uV=null,QQ0=!1;IJ&&(QQ0=Vo0("input")&&(!document.documentMode||9<document.documentMode));var S4=typeof Object.is==="function"?Object.is:Do0,ct0=IJ&&"documentMode"in document&&11>=document.documentMode,gH=null,Ty=null,mV=null,Dy=!1,yH={animationend:b2("Animation","AnimationEnd"),animationiteration:b2("Animation","AnimationIteration"),animationstart:b2("Animation","AnimationStart"),transitionrun:b2("Transition","TransitionRun"),transitionstart:b2("Transition","TransitionStart"),transitioncancel:b2("Transition","TransitionCancel"),transitionend:b2("Transition","TransitionEnd")},Cy={},JQ0={};IJ&&(JQ0=document.createElement("div").style,("AnimationEvent"in window)||(delete yH.animationend.animation,delete yH.animationiteration.animation,delete yH.animationstart.animation),("TransitionEvent"in window)||delete yH.transitionend.transition);var KQ0=g2("animationend"),YQ0=g2("animationiteration"),ZQ0=g2("animationstart"),ut0=g2("transitionrun"),mt0=g2("transitionstart"),pt0=g2("transitioncancel"),qQ0=g2("transitionend"),XQ0=new Map,Py="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Py.push("scrollEnd");var ky=new WeakMap,sC=1,GY=2,r3=[],xH=0,jy=0,Fq={};Object.freeze(Fq);var i3=null,cH=null,n6=0,dt0=1,x8=2,q4=8,zQ=16,WQ0=64,FQ0=!1;try{var UQ0=Object.preventExtensions({});}catch(U){FQ0=!0}var uH=[],mH=0,oC=null,aC=0,s3=[],o3=0,e2=null,OY=1,wY="",_4=null,D7=null,t5=!1,TY=!1,a3=null,$W=null,MJ=!1,Ey=Error("Hydration Mismatch Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),HQ0=0;if(typeof performance==="object"&&typeof performance.now==="function")var nt0=performance,NQ0=function(){return nt0.now()};else{var lt0=Date;NQ0=function(){return lt0.now()}}var Ly=M(null),hy=M(null),BQ0={},tC=null,pH=null,dH=!1,rt0=typeof AbortController<"u"?AbortController:function(){var U=[],N=this.signal={aborted:!1,addEventListener:function(V,w){U.push(w)}};this.abort=function(){N.aborted=!0,U.forEach(function(V){return V()})}},it0=e5.unstable_scheduleCallback,st0=e5.unstable_NormalPriority,q8={$$typeof:hJ,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0,_currentRenderer:null,_currentRenderer2:null},nH=e5.unstable_now,zQ0=-0,eC=-0,B9=-1.1,QW=-0,$P=!1,QP=!1,pV=null,vy=0,JW=0,lH=null,AQ0=j0.S;j0.S=function(U,N){typeof N==="object"&&N!==null&&typeof N.then==="function"&&Po0(U,N),AQ0!==null&&AQ0(U,N)};var KW=M(null),AQ={recordUnsafeLifecycleWarnings:function(){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},dV=[],nV=[],lV=[],rV=[],iV=[],sV=[],YW=new Set;AQ.recordUnsafeLifecycleWarnings=function(U,N){YW.has(U.type)||(typeof N.componentWillMount==="function"&&N.componentWillMount.__suppressDeprecationWarning!==!0&&dV.push(U),U.mode&q4&&typeof N.UNSAFE_componentWillMount==="function"&&nV.push(U),typeof N.componentWillReceiveProps==="function"&&N.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&lV.push(U),U.mode&q4&&typeof N.UNSAFE_componentWillReceiveProps==="function"&&rV.push(U),typeof N.componentWillUpdate==="function"&&N.componentWillUpdate.__suppressDeprecationWarning!==!0&&iV.push(U),U.mode&q4&&typeof N.UNSAFE_componentWillUpdate==="function"&&sV.push(U))},AQ.flushPendingUnsafeLifecycleWarnings=function(){var U=new Set;0<dV.length&&(dV.forEach(function(y){U.add(_(y)||"Component"),YW.add(y.type)}),dV=[]);var N=new Set;0<nV.length&&(nV.forEach(function(y){N.add(_(y)||"Component"),YW.add(y.type)}),nV=[]);var V=new Set;0<lV.length&&(lV.forEach(function(y){V.add(_(y)||"Component"),YW.add(y.type)}),lV=[]);var w=new Set;0<rV.length&&(rV.forEach(function(y){w.add(_(y)||"Component"),YW.add(y.type)}),rV=[]);var C=new Set;0<iV.length&&(iV.forEach(function(y){C.add(_(y)||"Component"),YW.add(y.type)}),iV=[]);var k=new Set;if(0<sV.length&&(sV.forEach(function(y){k.add(_(y)||"Component"),YW.add(y.type)}),sV=[]),0<N.size){var I=B(N);console.error(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,I)}0<w.size&&(I=B(w),console.error(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state

Please update the following components: %s`,I)),0<k.size&&(I=B(k),console.error(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,I)),0<U.size&&(I=B(U),console.warn(`componentWillMount has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,I)),0<V.size&&(I=B(V),console.warn(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,I)),0<C.size&&(I=B(C),console.warn(`componentWillUpdate has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,I))};var JP=new Map,VQ0=new Set;AQ.recordLegacyContextWarning=function(U,N){var V=null;for(var w=U;w!==null;)w.mode&q4&&(V=w),w=w.return;V===null?console.error("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue."):!VQ0.has(U.type)&&(w=JP.get(V),U.type.contextTypes!=null||U.type.childContextTypes!=null||N!==null&&typeof N.getChildContext==="function")&&(w===void 0&&(w=[],JP.set(V,w)),w.push(U))},AQ.flushLegacyContextWarning=function(){JP.forEach(function(U){if(U.length!==0){var N=U[0],V=new Set;U.forEach(function(C){V.add(_(C)||"Component"),VQ0.add(C.type)});var w=B(V);_1(N,function(){console.error(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://react.dev/link/legacy-context`,w)})}})},AQ.discardPendingWarnings=function(){dV=[],nV=[],lV=[],rV=[],iV=[],sV=[],JP=new Map};var oV=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`."),RQ0=Error("Suspense Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),KP=Error("Suspense Exception: This is not a real error! It's an implementation detail of `useActionState` to interrupt the current render. You must either rethrow it immediately, or move the `useActionState` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary."),Sy={then:function(){console.error('Internal React error: A listener was unexpectedly attached to a "noop" thenable. This is a bug in React. Please file an issue.')}},aV=null,YP=!1,t3=0,e3=1,f4=2,c8=4,X8=8,GQ0=0,OQ0=1,wQ0=2,_y=3,Uq=!1,TQ0=!1,fy=null,Iy=!1,rH=M(null),ZP=M(0),iH,DQ0=new Set,CQ0=new Set,My=new Set,PQ0=new Set,Hq=0,F5=null,j6=null,l7=null,qP=!1,sH=!1,ZW=!1,XP=0,tV=0,DY=null,ot0=0,at0=25,k0=null,$$=null,CY=-1,eV=!1,WP={readContext:Y7,use:aZ,useCallback:g7,useContext:g7,useEffect:g7,useImperativeHandle:g7,useLayoutEffect:g7,useInsertionEffect:g7,useMemo:g7,useReducer:g7,useRef:g7,useState:g7,useDebugValue:g7,useDeferredValue:g7,useTransition:g7,useSyncExternalStore:g7,useId:g7,useHostTransitionStatus:g7,useFormState:g7,useActionState:g7,useOptimistic:g7,useMemoCache:g7,useCacheRefresh:g7},by=null,kQ0=null,gy=null,jQ0=null,bJ=null,VQ=null,FP=null;by={readContext:function(U){return Y7(U)},use:aZ,useCallback:function(U,N){return k0="useCallback",f5(),zH(N),db(U,N)},useContext:function(U){return k0="useContext",f5(),Y7(U)},useEffect:function(U,N){return k0="useEffect",f5(),zH(N),WC(U,N)},useImperativeHandle:function(U,N,V){return k0="useImperativeHandle",f5(),zH(V),pb(U,N,V)},useInsertionEffect:function(U,N){k0="useInsertionEffect",f5(),zH(N),r2(4,f4,U,N)},useLayoutEffect:function(U,N){return k0="useLayoutEffect",f5(),zH(N),mb(U,N)},useMemo:function(U,N){k0="useMemo",f5(),zH(N);var V=j0.H;j0.H=bJ;try{return nb(U,N)}finally{j0.H=V}},useReducer:function(U,N,V){k0="useReducer",f5();var w=j0.H;j0.H=bJ;try{return Ib(U,N,V)}finally{j0.H=w}},useRef:function(U){return k0="useRef",f5(),ub(U)},useState:function(U){k0="useState",f5();var N=j0.H;j0.H=bJ;try{return yb(U)}finally{j0.H=N}},useDebugValue:function(){k0="useDebugValue",f5()},useDeferredValue:function(U,N){return k0="useDeferredValue",f5(),lb(U,N)},useTransition:function(){return k0="useTransition",f5(),sb()},useSyncExternalStore:function(U,N,V){return k0="useSyncExternalStore",f5(),bb(U,N,V)},useId:function(){return k0="useId",f5(),ob()},useFormState:function(U,N){return k0="useFormState",f5(),KC(),VH(U,N)},useActionState:function(U,N){return k0="useActionState",f5(),VH(U,N)},useOptimistic:function(U){return k0="useOptimistic",f5(),xb(U)},useHostTransitionStatus:i2,useMemoCache:l2,useCacheRefresh:function(){return k0="useCacheRefresh",f5(),ab()}},kQ0={readContext:function(U){return Y7(U)},use:aZ,useCallback:function(U,N){return k0="useCallback",s0(),db(U,N)},useContext:function(U){return k0="useContext",s0(),Y7(U)},useEffect:function(U,N){return k0="useEffect",s0(),WC(U,N)},useImperativeHandle:function(U,N,V){return k0="useImperativeHandle",s0(),pb(U,N,V)},useInsertionEffect:function(U,N){k0="useInsertionEffect",s0(),r2(4,f4,U,N)},useLayoutEffect:function(U,N){return k0="useLayoutEffect",s0(),mb(U,N)},useMemo:function(U,N){k0="useMemo",s0();var V=j0.H;j0.H=bJ;try{return nb(U,N)}finally{j0.H=V}},useReducer:function(U,N,V){k0="useReducer",s0();var w=j0.H;j0.H=bJ;try{return Ib(U,N,V)}finally{j0.H=w}},useRef:function(U){return k0="useRef",s0(),ub(U)},useState:function(U){k0="useState",s0();var N=j0.H;j0.H=bJ;try{return yb(U)}finally{j0.H=N}},useDebugValue:function(){k0="useDebugValue",s0()},useDeferredValue:function(U,N){return k0="useDeferredValue",s0(),lb(U,N)},useTransition:function(){return k0="useTransition",s0(),sb()},useSyncExternalStore:function(U,N,V){return k0="useSyncExternalStore",s0(),bb(U,N,V)},useId:function(){return k0="useId",s0(),ob()},useActionState:function(U,N){return k0="useActionState",s0(),VH(U,N)},useFormState:function(U,N){return k0="useFormState",s0(),KC(),VH(U,N)},useOptimistic:function(U){return k0="useOptimistic",s0(),xb(U)},useHostTransitionStatus:i2,useMemoCache:l2,useCacheRefresh:function(){return k0="useCacheRefresh",s0(),ab()}},gy={readContext:function(U){return Y7(U)},use:aZ,useCallback:function(U,N){return k0="useCallback",s0(),UC(U,N)},useContext:function(U){return k0="useContext",s0(),Y7(U)},useEffect:function(U,N){k0="useEffect",s0(),H9(2048,X8,U,N)},useImperativeHandle:function(U,N,V){return k0="useImperativeHandle",s0(),FC(U,N,V)},useInsertionEffect:function(U,N){return k0="useInsertionEffect",s0(),H9(4,f4,U,N)},useLayoutEffect:function(U,N){return k0="useLayoutEffect",s0(),H9(4,c8,U,N)},useMemo:function(U,N){k0="useMemo",s0();var V=j0.H;j0.H=VQ;try{return HC(U,N)}finally{j0.H=V}},useReducer:function(U,N,V){k0="useReducer",s0();var w=j0.H;j0.H=VQ;try{return AH(U,N,V)}finally{j0.H=w}},useRef:function(){return k0="useRef",s0(),O6().memoizedState},useState:function(){k0="useState",s0();var U=j0.H;j0.H=VQ;try{return AH(HQ)}finally{j0.H=U}},useDebugValue:function(){k0="useDebugValue",s0()},useDeferredValue:function(U,N){return k0="useDeferredValue",s0(),K90(U,N)},useTransition:function(){return k0="useTransition",s0(),F90()},useSyncExternalStore:function(U,N,V){return k0="useSyncExternalStore",s0(),YC(U,N,V)},useId:function(){return k0="useId",s0(),O6().memoizedState},useFormState:function(U){return k0="useFormState",s0(),KC(),ZC(U)},useActionState:function(U){return k0="useActionState",s0(),ZC(U)},useOptimistic:function(U,N){return k0="useOptimistic",s0(),r40(U,N)},useHostTransitionStatus:i2,useMemoCache:l2,useCacheRefresh:function(){return k0="useCacheRefresh",s0(),O6().memoizedState}},jQ0={readContext:function(U){return Y7(U)},use:aZ,useCallback:function(U,N){return k0="useCallback",s0(),UC(U,N)},useContext:function(U){return k0="useContext",s0(),Y7(U)},useEffect:function(U,N){k0="useEffect",s0(),H9(2048,X8,U,N)},useImperativeHandle:function(U,N,V){return k0="useImperativeHandle",s0(),FC(U,N,V)},useInsertionEffect:function(U,N){return k0="useInsertionEffect",s0(),H9(4,f4,U,N)},useLayoutEffect:function(U,N){return k0="useLayoutEffect",s0(),H9(4,c8,U,N)},useMemo:function(U,N){k0="useMemo",s0();var V=j0.H;j0.H=FP;try{return HC(U,N)}finally{j0.H=V}},useReducer:function(U,N,V){k0="useReducer",s0();var w=j0.H;j0.H=FP;try{return zV(U,N,V)}finally{j0.H=w}},useRef:function(){return k0="useRef",s0(),O6().memoizedState},useState:function(){k0="useState",s0();var U=j0.H;j0.H=FP;try{return zV(HQ)}finally{j0.H=U}},useDebugValue:function(){k0="useDebugValue",s0()},useDeferredValue:function(U,N){return k0="useDeferredValue",s0(),Y90(U,N)},useTransition:function(){return k0="useTransition",s0(),U90()},useSyncExternalStore:function(U,N,V){return k0="useSyncExternalStore",s0(),YC(U,N,V)},useId:function(){return k0="useId",s0(),O6().memoizedState},useFormState:function(U){return k0="useFormState",s0(),KC(),qC(U)},useActionState:function(U){return k0="useActionState",s0(),qC(U)},useOptimistic:function(U,N){return k0="useOptimistic",s0(),s40(U,N)},useHostTransitionStatus:i2,useMemoCache:l2,useCacheRefresh:function(){return k0="useCacheRefresh",s0(),O6().memoizedState}},bJ={readContext:function(U){return F(),Y7(U)},use:function(U){return W(),aZ(U)},useCallback:function(U,N){return k0="useCallback",W(),f5(),db(U,N)},useContext:function(U){return k0="useContext",W(),f5(),Y7(U)},useEffect:function(U,N){return k0="useEffect",W(),f5(),WC(U,N)},useImperativeHandle:function(U,N,V){return k0="useImperativeHandle",W(),f5(),pb(U,N,V)},useInsertionEffect:function(U,N){k0="useInsertionEffect",W(),f5(),r2(4,f4,U,N)},useLayoutEffect:function(U,N){return k0="useLayoutEffect",W(),f5(),mb(U,N)},useMemo:function(U,N){k0="useMemo",W(),f5();var V=j0.H;j0.H=bJ;try{return nb(U,N)}finally{j0.H=V}},useReducer:function(U,N,V){k0="useReducer",W(),f5();var w=j0.H;j0.H=bJ;try{return Ib(U,N,V)}finally{j0.H=w}},useRef:function(U){return k0="useRef",W(),f5(),ub(U)},useState:function(U){k0="useState",W(),f5();var N=j0.H;j0.H=bJ;try{return yb(U)}finally{j0.H=N}},useDebugValue:function(){k0="useDebugValue",W(),f5()},useDeferredValue:function(U,N){return k0="useDeferredValue",W(),f5(),lb(U,N)},useTransition:function(){return k0="useTransition",W(),f5(),sb()},useSyncExternalStore:function(U,N,V){return k0="useSyncExternalStore",W(),f5(),bb(U,N,V)},useId:function(){return k0="useId",W(),f5(),ob()},useFormState:function(U,N){return k0="useFormState",W(),f5(),VH(U,N)},useActionState:function(U,N){return k0="useActionState",W(),f5(),VH(U,N)},useOptimistic:function(U){return k0="useOptimistic",W(),f5(),xb(U)},useMemoCache:function(U){return W(),l2(U)},useHostTransitionStatus:i2,useCacheRefresh:function(){return k0="useCacheRefresh",f5(),ab()}},VQ={readContext:function(U){return F(),Y7(U)},use:function(U){return W(),aZ(U)},useCallback:function(U,N){return k0="useCallback",W(),s0(),UC(U,N)},useContext:function(U){return k0="useContext",W(),s0(),Y7(U)},useEffect:function(U,N){k0="useEffect",W(),s0(),H9(2048,X8,U,N)},useImperativeHandle:function(U,N,V){return k0="useImperativeHandle",W(),s0(),FC(U,N,V)},useInsertionEffect:function(U,N){return k0="useInsertionEffect",W(),s0(),H9(4,f4,U,N)},useLayoutEffect:function(U,N){return k0="useLayoutEffect",W(),s0(),H9(4,c8,U,N)},useMemo:function(U,N){k0="useMemo",W(),s0();var V=j0.H;j0.H=VQ;try{return HC(U,N)}finally{j0.H=V}},useReducer:function(U,N,V){k0="useReducer",W(),s0();var w=j0.H;j0.H=VQ;try{return AH(U,N,V)}finally{j0.H=w}},useRef:function(){return k0="useRef",W(),s0(),O6().memoizedState},useState:function(){k0="useState",W(),s0();var U=j0.H;j0.H=VQ;try{return AH(HQ)}finally{j0.H=U}},useDebugValue:function(){k0="useDebugValue",W(),s0()},useDeferredValue:function(U,N){return k0="useDeferredValue",W(),s0(),K90(U,N)},useTransition:function(){return k0="useTransition",W(),s0(),F90()},useSyncExternalStore:function(U,N,V){return k0="useSyncExternalStore",W(),s0(),YC(U,N,V)},useId:function(){return k0="useId",W(),s0(),O6().memoizedState},useFormState:function(U){return k0="useFormState",W(),s0(),ZC(U)},useActionState:function(U){return k0="useActionState",W(),s0(),ZC(U)},useOptimistic:function(U,N){return k0="useOptimistic",W(),s0(),r40(U,N)},useMemoCache:function(U){return W(),l2(U)},useHostTransitionStatus:i2,useCacheRefresh:function(){return k0="useCacheRefresh",s0(),O6().memoizedState}},FP={readContext:function(U){return F(),Y7(U)},use:function(U){return W(),aZ(U)},useCallback:function(U,N){return k0="useCallback",W(),s0(),UC(U,N)},useContext:function(U){return k0="useContext",W(),s0(),Y7(U)},useEffect:function(U,N){k0="useEffect",W(),s0(),H9(2048,X8,U,N)},useImperativeHandle:function(U,N,V){return k0="useImperativeHandle",W(),s0(),FC(U,N,V)},useInsertionEffect:function(U,N){return k0="useInsertionEffect",W(),s0(),H9(4,f4,U,N)},useLayoutEffect:function(U,N){return k0="useLayoutEffect",W(),s0(),H9(4,c8,U,N)},useMemo:function(U,N){k0="useMemo",W(),s0();var V=j0.H;j0.H=VQ;try{return HC(U,N)}finally{j0.H=V}},useReducer:function(U,N,V){k0="useReducer",W(),s0();var w=j0.H;j0.H=VQ;try{return zV(U,N,V)}finally{j0.H=w}},useRef:function(){return k0="useRef",W(),s0(),O6().memoizedState},useState:function(){k0="useState",W(),s0();var U=j0.H;j0.H=VQ;try{return zV(HQ)}finally{j0.H=U}},useDebugValue:function(){k0="useDebugValue",W(),s0()},useDeferredValue:function(U,N){return k0="useDeferredValue",W(),s0(),Y90(U,N)},useTransition:function(){return k0="useTransition",W(),s0(),U90()},useSyncExternalStore:function(U,N,V){return k0="useSyncExternalStore",W(),s0(),YC(U,N,V)},useId:function(){return k0="useId",W(),s0(),O6().memoizedState},useFormState:function(U){return k0="useFormState",W(),s0(),qC(U)},useActionState:function(U){return k0="useActionState",W(),s0(),qC(U)},useOptimistic:function(U,N){return k0="useOptimistic",W(),s0(),s40(U,N)},useMemoCache:function(U){return W(),l2(U)},useHostTransitionStatus:i2,useCacheRefresh:function(){return k0="useCacheRefresh",s0(),O6().memoizedState}};var EQ0={react_stack_bottom_frame:function(U,N,V){var w=fJ;fJ=!0;try{return U(N,V)}finally{fJ=w}}},yy=EQ0.react_stack_bottom_frame.bind(EQ0),LQ0={react_stack_bottom_frame:function(U){var N=fJ;fJ=!0;try{return U.render()}finally{fJ=N}}},hQ0=LQ0.react_stack_bottom_frame.bind(LQ0),vQ0={react_stack_bottom_frame:function(U,N){try{N.componentDidMount()}catch(V){P6(U,U.return,V)}}},xy=vQ0.react_stack_bottom_frame.bind(vQ0),SQ0={react_stack_bottom_frame:function(U,N,V,w,C){try{N.componentDidUpdate(V,w,C)}catch(k){P6(U,U.return,k)}}},_Q0=SQ0.react_stack_bottom_frame.bind(SQ0),fQ0={react_stack_bottom_frame:function(U,N){var V=N.stack;U.componentDidCatch(N.value,{componentStack:V!==null?V:""})}},tt0=fQ0.react_stack_bottom_frame.bind(fQ0),IQ0={react_stack_bottom_frame:function(U,N,V){try{V.componentWillUnmount()}catch(w){P6(U,N,w)}}},MQ0=IQ0.react_stack_bottom_frame.bind(IQ0),bQ0={react_stack_bottom_frame:function(U){U.resourceKind!=null&&console.error("Expected only SimpleEffects when enableUseEffectCRUDOverload is disabled, got %s",U.resourceKind);var N=U.create;return U=U.inst,N=N(),U.destroy=N}},et0=bQ0.react_stack_bottom_frame.bind(bQ0),gQ0={react_stack_bottom_frame:function(U,N,V){try{V()}catch(w){P6(U,N,w)}}},$e0=gQ0.react_stack_bottom_frame.bind(gQ0),yQ0={react_stack_bottom_frame:function(U){var N=U._init;return N(U._payload)}},Nq=yQ0.react_stack_bottom_frame.bind(yQ0),oH=null,$R=0,P5=null,cy,xQ0=cy=!1,cQ0={},uQ0={},mQ0={};X=function(U,N,V){if(V!==null&&typeof V==="object"&&V._store&&(!V._store.validated&&V.key==null||V._store.validated===2)){if(typeof V._store!=="object")throw Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");V._store.validated=1;var w=_(U),C=w||"null";if(!cQ0[C]){cQ0[C]=!0,V=V._owner,U=U._debugOwner;var k="";U&&typeof U.tag==="number"&&(C=_(U))&&(k=`

Check the render method of \``+C+"`."),k||w&&(k=`

Check the top-level render call using <`+w+">.");var I="";V!=null&&U!==V&&(w=null,typeof V.tag==="number"?w=_(V):typeof V.name==="string"&&(w=V.name),w&&(I=" It was passed a child from "+w+".")),_1(N,function(){console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',k,I)})}}};var aH=z90(!0),pQ0=z90(!1),Q$=M(null),gJ=null,tH=1,QR=2,W8=M(0),dQ0={},nQ0=new Set,lQ0=new Set,rQ0=new Set,iQ0=new Set,sQ0=new Set,oQ0=new Set,aQ0=new Set,tQ0=new Set,eQ0=new Set,$J0=new Set;Object.freeze(dQ0);var uy={enqueueSetState:function(U,N,V){U=U._reactInternals;var w=J3(U),C=sZ(w);C.payload=N,V!==void 0&&V!==null&&(eb(V),C.callback=V),N=oZ(U,C,w),N!==null&&(y7(N,U,w),UV(N,U,w)),V5(U,w)},enqueueReplaceState:function(U,N,V){U=U._reactInternals;var w=J3(U),C=sZ(w);C.tag=OQ0,C.payload=N,V!==void 0&&V!==null&&(eb(V),C.callback=V),N=oZ(U,C,w),N!==null&&(y7(N,U,w),UV(N,U,w)),V5(U,w)},enqueueForceUpdate:function(U,N){U=U._reactInternals;var V=J3(U),w=sZ(V);w.tag=wQ0,N!==void 0&&N!==null&&(eb(N),w.callback=N),N=oZ(U,w,V),N!==null&&(y7(N,U,V),UV(N,U,V)),A1!==null&&typeof A1.markForceUpdateScheduled==="function"&&A1.markForceUpdateScheduled(U,V)}},my=typeof reportError==="function"?reportError:function(U){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U==="object"&&U!==null&&typeof U.message==="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(N))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",U);return}console.error(U)},eH=null,py=null,QJ0=Error("This is not a real error. It's an implementation detail of React's selective hydration feature. If this leaks into userspace, it's a bug in React. Please file an issue."),O8=!1,JJ0={},KJ0={},YJ0={},ZJ0={},$N=!1,qJ0={},dy={},ny={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},XJ0=!1,WJ0=null;WJ0=new Set;var PY=!1,x7=!1,ly=!1,FJ0=typeof WeakSet==="function"?WeakSet:Set,w8=null,QN=null,JN=null,r7=null,z9=!1,RQ=null,JR=8192,Qe0={getCacheForType:function(U){var N=Y7(q8),V=N.data.get(U);return V===void 0&&(V=U(),N.data.set(U,V)),V},getOwner:function(){return Z3}};if(typeof Symbol==="function"&&Symbol.for){var KR=Symbol.for;KR("selector.component"),KR("selector.has_pseudo_class"),KR("selector.role"),KR("selector.test_id"),KR("selector.text")}var Je0=[],Ke0=typeof WeakMap==="function"?WeakMap:Map,q3=0,I4=2,GQ=4,kY=0,YR=1,KN=2,ry=3,qW=4,UP=6,UJ0=5,F6=q3,f6=null,h5=null,I5=0,A9=0,ZR=1,XW=2,qR=3,HJ0=4,iy=5,YN=6,XR=7,sy=8,WW=9,N6=A9,X3=null,Bq=!1,ZN=!1,oy=!1,yJ=0,C7=kY,zq=0,Aq=0,ay=0,W3=0,FW=0,WR=null,M4=null,HP=!1,ty=0,NJ0=300,NP=1/0,BJ0=500,FR=null,Vq=null,Ye0=0,Ze0=1,qe0=2,UW=0,zJ0=1,AJ0=2,VJ0=3,Xe0=4,ey=5,u8=0,Rq=null,qN=null,Gq=0,$x=0,Qx=null,RJ0=null,We0=50,UR=0,Jx=null,Kx=!1,BP=!1,Fe0=50,HW=0,HR=null,XN=!1,zP=null,GJ0=!1,OJ0=new Set,Ue0={},AP=null,WN=null,Yx=!1,Zx=!1,VP=!1,qx=!1,NW=0,Xx={};(function(){for(var U=0;U<Py.length;U++){var N=Py[U],V=N.toLowerCase();N=N[0].toUpperCase()+N.slice(1),UQ(V,"on"+N)}UQ(KQ0,"onAnimationEnd"),UQ(YQ0,"onAnimationIteration"),UQ(ZQ0,"onAnimationStart"),UQ("dblclick","onDoubleClick"),UQ("focusin","onFocus"),UQ("focusout","onBlur"),UQ(ut0,"onTransitionRun"),UQ(mt0,"onTransitionStart"),UQ(pt0,"onTransitionCancel"),UQ(qQ0,"onTransitionEnd")})(),R5("onMouseEnter",["mouseout","mouseover"]),R5("onMouseLeave",["mouseout","mouseover"]),R5("onPointerEnter",["pointerout","pointerover"]),R5("onPointerLeave",["pointerout","pointerover"]),v1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),v1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),v1("onBeforeInput",["compositionend","keypress","textInput","paste"]),v1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),v1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),v1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var NR="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(NR)),RP="_reactListening"+Math.random().toString(36).slice(2),wJ0=!1,TJ0=!1,GP=!1,DJ0=!1,OP=!1,wP=!1,CJ0=!1,TP={},He0=/\r\n?/g,Ne0=/\u0000|\uFFFD/g,BW="http://www.w3.org/1999/xlink",Fx="http://www.w3.org/XML/1998/namespace",Be0="javascript:throw new Error('React form unexpectedly submitted.')",ze0="suppressHydrationWarning",DP="$",CP="/$",jY="$?",BR="$!",Ae0=1,Ve0=2,Re0=4,Ux="F!",PJ0="F",kJ0="complete",Ge0="style",EY=0,FN=1,PP=2,Hx=null,Nx=null,jJ0={dialog:!0,webview:!0},Bx=null,EJ0=typeof setTimeout==="function"?setTimeout:void 0,Oe0=typeof clearTimeout==="function"?clearTimeout:void 0,zW=-1,LJ0=typeof Promise==="function"?Promise:void 0,we0=typeof queueMicrotask==="function"?queueMicrotask:typeof LJ0<"u"?function(U){return LJ0.resolve(null).then(U).catch(qa0)}:EJ0,zx=null,AW=0,zR=1,hJ0=2,vJ0=3,J$=4,K$=new Map,SJ0=new Set,LY=W6.d;W6.d={f:function(){var U=LY.f(),N=TH();return U||N},r:function(U){var N=d(U);N!==null&&N.tag===5&&N.type==="form"?W90(N):LY.r(U)},D:function(U){LY.D(U),a30("dns-prefetch",U,null)},C:function(U,N){LY.C(U,N),a30("preconnect",U,N)},L:function(U,N,V){LY.L(U,N,V);var w=UN;if(w&&U&&N){var C='link[rel="preload"][as="'+d3(N)+'"]';N==="image"?V&&V.imageSrcSet?(C+='[imagesrcset="'+d3(V.imageSrcSet)+'"]',typeof V.imageSizes==="string"&&(C+='[imagesizes="'+d3(V.imageSizes)+'"]')):C+='[href="'+d3(U)+'"]':C+='[href="'+d3(U)+'"]';var k=C;switch(N){case"style":k=kH(U);break;case"script":k=jH(U)}K$.has(k)||(U=E5({rel:"preload",href:N==="image"&&V&&V.imageSrcSet?void 0:U,as:N},V),K$.set(k,U),w.querySelector(C)!==null||N==="style"&&w.querySelector(EV(k))||N==="script"&&w.querySelector(LV(k))||(N=w.createElement("link"),g8(N,"link",U),$1(N),w.head.appendChild(N)))}},m:function(U,N){LY.m(U,N);var V=UN;if(V&&U){var w=N&&typeof N.as==="string"?N.as:"script",C='link[rel="modulepreload"][as="'+d3(w)+'"][href="'+d3(U)+'"]',k=C;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=jH(U)}if(!K$.has(k)&&(U=E5({rel:"modulepreload",href:U},N),K$.set(k,U),V.querySelector(C)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(V.querySelector(LV(k)))return}w=V.createElement("link"),g8(w,"link",U),$1(w),V.head.appendChild(w)}}},X:function(U,N){LY.X(U,N);var V=UN;if(V&&U){var w=Q1(V).hoistableScripts,C=jH(U),k=w.get(C);k||(k=V.querySelector(LV(C)),k||(U=E5({src:U,async:!0},N),(N=K$.get(C))&&mg(U,N),k=V.createElement("script"),$1(k),g8(k,"link",U),V.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},w.set(C,k))}},S:function(U,N,V){LY.S(U,N,V);var w=UN;if(w&&U){var C=Q1(w).hoistableStyles,k=kH(U);N=N||"default";var I=C.get(k);if(!I){var y={loading:AW,preload:null};if(I=w.querySelector(EV(k)))y.loading=zR|J$;else{U=E5({rel:"stylesheet",href:U,"data-precedence":N},V),(V=K$.get(k))&&ug(U,V);var n=I=w.createElement("link");$1(n),g8(n,"link",U),n._p=new Promise(function(s,O0){n.onload=s,n.onerror=O0}),n.addEventListener("load",function(){y.loading|=zR}),n.addEventListener("error",function(){y.loading|=hJ0}),y.loading|=J$,_C(I,N,w)}I={type:"stylesheet",instance:I,count:1,state:y},C.set(k,I)}}},M:function(U,N){LY.M(U,N);var V=UN;if(V&&U){var w=Q1(V).hoistableScripts,C=jH(U),k=w.get(C);k||(k=V.querySelector(LV(C)),k||(U=E5({src:U,async:!0,type:"module"},N),(N=K$.get(C))&&mg(U,N),k=V.createElement("script"),$1(k),g8(k,"link",U),V.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},w.set(C,k))}}};var UN=typeof document>"u"?null:document,kP=null,AR=null,Ax=null,jP=null,VW=xa0,VR={$$typeof:hJ,Provider:null,Consumer:null,_currentValue:VW,_currentValue2:VW,_threadCount:0},_J0="%c%s%c ",fJ0="background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px",IJ0="",EP=" ",Te0=Function.prototype.bind,MJ0=!1,bJ0=null,gJ0=null,yJ0=null,xJ0=null,cJ0=null,uJ0=null,mJ0=null,pJ0=null,dJ0=null;bJ0=function(U,N,V,w){N=$(U,N),N!==null&&(V=Q(N.memoizedState,V,0,w),N.memoizedState=V,N.baseState=V,U.memoizedProps=E5({},U.memoizedProps),V=F9(U,2),V!==null&&y7(V,U,2))},gJ0=function(U,N,V){N=$(U,N),N!==null&&(V=Y(N.memoizedState,V,0),N.memoizedState=V,N.baseState=V,U.memoizedProps=E5({},U.memoizedProps),V=F9(U,2),V!==null&&y7(V,U,2))},yJ0=function(U,N,V,w){N=$(U,N),N!==null&&(V=J(N.memoizedState,V,w),N.memoizedState=V,N.baseState=V,U.memoizedProps=E5({},U.memoizedProps),V=F9(U,2),V!==null&&y7(V,U,2))},xJ0=function(U,N,V){U.pendingProps=Q(U.memoizedProps,N,0,V),U.alternate&&(U.alternate.pendingProps=U.pendingProps),N=F9(U,2),N!==null&&y7(N,U,2)},cJ0=function(U,N){U.pendingProps=Y(U.memoizedProps,N,0),U.alternate&&(U.alternate.pendingProps=U.pendingProps),N=F9(U,2),N!==null&&y7(N,U,2)},uJ0=function(U,N,V){U.pendingProps=J(U.memoizedProps,N,V),U.alternate&&(U.alternate.pendingProps=U.pendingProps),N=F9(U,2),N!==null&&y7(N,U,2)},mJ0=function(U){var N=F9(U,2);N!==null&&y7(N,U,2)},pJ0=function(U){q=U},dJ0=function(U){Z=U};var LP=!0,hP=null,Vx=!1,Oq=null,wq=null,Tq=null,RR=new Map,GR=new Map,Dq=[],De0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" "),vP=null;if(bC.prototype.render=sg.prototype.render=function(U){var N=this._internalRoot;if(N===null)throw Error("Cannot update an unmounted root.");var V=arguments;typeof V[1]==="function"?console.error("does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):O(V[1])?console.error("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof V[1]<"u"&&console.error("You passed a second argument to root.render(...) but it only accepts one argument."),V=U;var w=N.current,C=J3(w);dg(w,C,V,N,null,null)},bC.prototype.unmount=sg.prototype.unmount=function(){var U=arguments;if(typeof U[0]==="function"&&console.error("does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."),U=this._internalRoot,U!==null){this._internalRoot=null;var N=U.containerInfo;(F6&(I4|GQ))!==q3&&console.error("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),dg(U.current,2,null,U,null,null),TH(),N[Xq]=null}},bC.prototype.unstable_scheduleHydration=function(U){if(U){var N=f2();U={blockedOn:null,target:U,priority:N};for(var V=0;V<Dq.length&&N!==0&&N<Dq[V].priority;V++);Dq.splice(V,0,U),V===0&&U$0(U)}},function(){var U=HN.version;if(U!=="19.1.1")throw Error(`Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:
  - react:      `+(U+`
  - react-dom:  19.1.1
Learn more: https://react.dev/warnings/version-mismatch`))}(),typeof Map==="function"&&Map.prototype!=null&&typeof Map.prototype.forEach==="function"&&typeof Set==="function"&&Set.prototype!=null&&typeof Set.prototype.clear==="function"&&typeof Set.prototype.forEach==="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://react.dev/link/react-polyfills"),W6.findDOMNode=function(U){var N=U._reactInternals;if(N===void 0){if(typeof U.render==="function")throw Error("Unable to find node on an unmounted component.");throw U=Object.keys(U).join(","),Error("Argument appears to not be a ReactComponent. Keys: "+U)}return U=j(N),U=U!==null?E(U):null,U=U===null?null:U.stateNode,U},!function(){var U={bundleType:1,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:j0,reconcilerVersion:"19.1.1"};return U.overrideHookState=bJ0,U.overrideHookStateDeletePath=gJ0,U.overrideHookStateRenamePath=yJ0,U.overrideProps=xJ0,U.overridePropsDeletePath=cJ0,U.overridePropsRenamePath=uJ0,U.scheduleUpdate=mJ0,U.setErrorHandler=pJ0,U.setSuspenseHandler=dJ0,U.scheduleRefresh=R,U.scheduleRoot=A,U.setRefreshHandler=G,U.getCurrentFiber=ha0,U.getLaneLabelMap=va0,U.injectProfilingHooks=b1,W1(U)}()&&IJ&&window.top===window.self&&(-1<navigator.userAgent.indexOf("Chrome")&&navigator.userAgent.indexOf("Edge")===-1||-1<navigator.userAgent.indexOf("Firefox"))){var nJ0=window.location.protocol;/^(https?|file):$/.test(nJ0)&&console.info("%cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools"+(nJ0==="file:"?`
You might need to use a local HTTP server (instead of file://): https://react.dev/link/react-devtools-faq`:""),"font-weight:bold")}Se0.createRoot=function(U,N){if(!O(U))throw Error("Target container is not a DOM element.");B$0(U);var V=!1,w="",C=G90,k=O90,I=w90,y=null;return N!==null&&N!==void 0&&(N.hydrate?console.warn("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof N==="object"&&N!==null&&N.$$typeof===Kq&&console.error(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),N.unstable_strictMode===!0&&(V=!0),N.identifierPrefix!==void 0&&(w=N.identifierPrefix),N.onUncaughtError!==void 0&&(C=N.onUncaughtError),N.onCaughtError!==void 0&&(k=N.onCaughtError),N.onRecoverableError!==void 0&&(I=N.onRecoverableError),N.unstable_transitionCallbacks!==void 0&&(y=N.unstable_transitionCallbacks)),N=Y$0(U,1,!1,null,null,V,w,C,k,I,y,null),U[Xq]=N.current,Sg(U),new sg(N)},Se0.hydrateRoot=function(U,N,V){if(!O(U))throw Error("Target container is not a DOM element.");B$0(U),N===void 0&&console.error("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var w=!1,C="",k=G90,I=O90,y=w90,n=null,s=null;return V!==null&&V!==void 0&&(V.unstable_strictMode===!0&&(w=!0),V.identifierPrefix!==void 0&&(C=V.identifierPrefix),V.onUncaughtError!==void 0&&(k=V.onUncaughtError),V.onCaughtError!==void 0&&(I=V.onCaughtError),V.onRecoverableError!==void 0&&(y=V.onRecoverableError),V.unstable_transitionCallbacks!==void 0&&(n=V.unstable_transitionCallbacks),V.formState!==void 0&&(s=V.formState)),N=Y$0(U,1,!0,N,V!=null?V:null,w,C,k,I,y,n,s),N.context=Z$0(null),V=N.current,w=J3(V),w=FH(w),C=sZ(w),C.callback=null,oZ(V,C,w),V=w,N.current.lanes=V,lZ(N,V),EJ(N),U[Xq]=N.current,Sg(U),new bC(N)},Se0.version="19.1.1",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var QK0=C0((Qb1,$K0)=>{var _e0=r1(eJ0(),1);$K0.exports=_e0});var V9={};OQ(V9,{default:()=>be0,__values:()=>fP,__spreadArrays:()=>VK0,__spreadArray:()=>RK0,__spread:()=>AK0,__setFunctionName:()=>UK0,__runInitializers:()=>WK0,__rewriteRelativeImportExtension:()=>hK0,__rest:()=>YK0,__read:()=>Dx,__propKey:()=>FK0,__param:()=>qK0,__metadata:()=>HK0,__makeTemplateObject:()=>TK0,__importStar:()=>DK0,__importDefault:()=>CK0,__generator:()=>BK0,__extends:()=>KK0,__exportStar:()=>zK0,__esDecorate:()=>XK0,__disposeResources:()=>LK0,__decorate:()=>ZK0,__createBinding:()=>IP,__classPrivateFieldSet:()=>kK0,__classPrivateFieldIn:()=>jK0,__classPrivateFieldGet:()=>PK0,__awaiter:()=>NK0,__await:()=>NN,__asyncValues:()=>wK0,__asyncGenerator:()=>GK0,__asyncDelegator:()=>OK0,__assign:()=>_P,__addDisposableResource:()=>EK0});function KK0($,Q){if(typeof Q!=="function"&&Q!==null)throw TypeError("Class extends value "+String(Q)+" is not a constructor or null");Ox($,Q);function J(){this.constructor=$}$.prototype=Q===null?Object.create(Q):(J.prototype=Q.prototype,new J)}function YK0($,Q){var J={};for(var K in $)if(Object.prototype.hasOwnProperty.call($,K)&&Q.indexOf(K)<0)J[K]=$[K];if($!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var Y=0,K=Object.getOwnPropertySymbols($);Y<K.length;Y++)if(Q.indexOf(K[Y])<0&&Object.prototype.propertyIsEnumerable.call($,K[Y]))J[K[Y]]=$[K[Y]]}return J}function ZK0($,Q,J,K){var Y=arguments.length,Z=Y<3?Q:K===null?K=Object.getOwnPropertyDescriptor(Q,J):K,q;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate($,Q,J,K);else for(var X=$.length-1;X>=0;X--)if(q=$[X])Z=(Y<3?q(Z):Y>3?q(Q,J,Z):q(Q,J))||Z;return Y>3&&Z&&Object.defineProperty(Q,J,Z),Z}function qK0($,Q){return function(J,K){Q(J,K,$)}}function XK0($,Q,J,K,Y,Z){function q(T){if(T!==void 0&&typeof T!=="function")throw TypeError("Function expected");return T}var X=K.kind,W=X==="getter"?"get":X==="setter"?"set":"value",F=!Q&&$?K.static?$:$.prototype:null,H=Q||(F?Object.getOwnPropertyDescriptor(F,K.name):{}),B,z=!1;for(var A=J.length-1;A>=0;A--){var R={};for(var G in K)R[G]=G==="access"?{}:K[G];for(var G in K.access)R.access[G]=K.access[G];R.addInitializer=function(T){if(z)throw TypeError("Cannot add initializers after decoration has completed");Z.push(q(T||null))};var O=(0,J[A])(X==="accessor"?{get:H.get,set:H.set}:H[W],R);if(X==="accessor"){if(O===void 0)continue;if(O===null||typeof O!=="object")throw TypeError("Object expected");if(B=q(O.get))H.get=B;if(B=q(O.set))H.set=B;if(B=q(O.init))Y.unshift(B)}else if(B=q(O))if(X==="field")Y.unshift(B);else H[W]=B}if(F)Object.defineProperty(F,K.name,H);z=!0}function WK0($,Q,J){var K=arguments.length>2;for(var Y=0;Y<Q.length;Y++)J=K?Q[Y].call($,J):Q[Y].call($);return K?J:void 0}function FK0($){return typeof $==="symbol"?$:"".concat($)}function UK0($,Q,J){if(typeof Q==="symbol")Q=Q.description?"[".concat(Q.description,"]"):"";return Object.defineProperty($,"name",{configurable:!0,value:J?"".concat(J," ",Q):Q})}function HK0($,Q){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata($,Q)}function NK0($,Q,J,K){function Y(Z){return Z instanceof J?Z:new J(function(q){q(Z)})}return new(J||(J=Promise))(function(Z,q){function X(H){try{F(K.next(H))}catch(B){q(B)}}function W(H){try{F(K.throw(H))}catch(B){q(B)}}function F(H){H.done?Z(H.value):Y(H.value).then(X,W)}F((K=K.apply($,Q||[])).next())})}function BK0($,Q){var J={label:0,sent:function(){if(Z[0]&1)throw Z[1];return Z[1]},trys:[],ops:[]},K,Y,Z,q=Object.create((typeof Iterator==="function"?Iterator:Object).prototype);return q.next=X(0),q.throw=X(1),q.return=X(2),typeof Symbol==="function"&&(q[Symbol.iterator]=function(){return this}),q;function X(F){return function(H){return W([F,H])}}function W(F){if(K)throw TypeError("Generator is already executing.");while(q&&(q=0,F[0]&&(J=0)),J)try{if(K=1,Y&&(Z=F[0]&2?Y.return:F[0]?Y.throw||((Z=Y.return)&&Z.call(Y),0):Y.next)&&!(Z=Z.call(Y,F[1])).done)return Z;if(Y=0,Z)F=[F[0]&2,Z.value];switch(F[0]){case 0:case 1:Z=F;break;case 4:return J.label++,{value:F[1],done:!1};case 5:J.label++,Y=F[1],F=[0];continue;case 7:F=J.ops.pop(),J.trys.pop();continue;default:if((Z=J.trys,!(Z=Z.length>0&&Z[Z.length-1]))&&(F[0]===6||F[0]===2)){J=0;continue}if(F[0]===3&&(!Z||F[1]>Z[0]&&F[1]<Z[3])){J.label=F[1];break}if(F[0]===6&&J.label<Z[1]){J.label=Z[1],Z=F;break}if(Z&&J.label<Z[2]){J.label=Z[2],J.ops.push(F);break}if(Z[2])J.ops.pop();J.trys.pop();continue}F=Q.call($,J)}catch(H){F=[6,H],Y=0}finally{K=Z=0}if(F[0]&5)throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}}function zK0($,Q){for(var J in $)if(J!=="default"&&!Object.prototype.hasOwnProperty.call(Q,J))IP(Q,$,J)}function fP($){var Q=typeof Symbol==="function"&&Symbol.iterator,J=Q&&$[Q],K=0;if(J)return J.call($);if($&&typeof $.length==="number")return{next:function(){if($&&K>=$.length)$=void 0;return{value:$&&$[K++],done:!$}}};throw TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dx($,Q){var J=typeof Symbol==="function"&&$[Symbol.iterator];if(!J)return $;var K=J.call($),Y,Z=[],q;try{while((Q===void 0||Q-- >0)&&!(Y=K.next()).done)Z.push(Y.value)}catch(X){q={error:X}}finally{try{if(Y&&!Y.done&&(J=K.return))J.call(K)}finally{if(q)throw q.error}}return Z}function AK0(){for(var $=[],Q=0;Q<arguments.length;Q++)$=$.concat(Dx(arguments[Q]));return $}function VK0(){for(var $=0,Q=0,J=arguments.length;Q<J;Q++)$+=arguments[Q].length;for(var K=Array($),Y=0,Q=0;Q<J;Q++)for(var Z=arguments[Q],q=0,X=Z.length;q<X;q++,Y++)K[Y]=Z[q];return K}function RK0($,Q,J){if(J||arguments.length===2){for(var K=0,Y=Q.length,Z;K<Y;K++)if(Z||!(K in Q)){if(!Z)Z=Array.prototype.slice.call(Q,0,K);Z[K]=Q[K]}}return $.concat(Z||Array.prototype.slice.call(Q))}function NN($){return this instanceof NN?(this.v=$,this):new NN($)}function GK0($,Q,J){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var K=J.apply($,Q||[]),Y,Z=[];return Y=Object.create((typeof AsyncIterator==="function"?AsyncIterator:Object).prototype),X("next"),X("throw"),X("return",q),Y[Symbol.asyncIterator]=function(){return this},Y;function q(A){return function(R){return Promise.resolve(R).then(A,B)}}function X(A,R){if(K[A]){if(Y[A]=function(G){return new Promise(function(O,T){Z.push([A,G,O,T])>1||W(A,G)})},R)Y[A]=R(Y[A])}}function W(A,R){try{F(K[A](R))}catch(G){z(Z[0][3],G)}}function F(A){A.value instanceof NN?Promise.resolve(A.value.v).then(H,B):z(Z[0][2],A)}function H(A){W("next",A)}function B(A){W("throw",A)}function z(A,R){if(A(R),Z.shift(),Z.length)W(Z[0][0],Z[0][1])}}function OK0($){var Q,J;return Q={},K("next"),K("throw",function(Y){throw Y}),K("return"),Q[Symbol.iterator]=function(){return this},Q;function K(Y,Z){Q[Y]=$[Y]?function(q){return(J=!J)?{value:NN($[Y](q)),done:!1}:Z?Z(q):q}:Z}}function wK0($){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var Q=$[Symbol.asyncIterator],J;return Q?Q.call($):($=typeof fP==="function"?fP($):$[Symbol.iterator](),J={},K("next"),K("throw"),K("return"),J[Symbol.asyncIterator]=function(){return this},J);function K(Z){J[Z]=$[Z]&&function(q){return new Promise(function(X,W){q=$[Z](q),Y(X,W,q.done,q.value)})}}function Y(Z,q,X,W){Promise.resolve(W).then(function(F){Z({value:F,done:X})},q)}}function TK0($,Q){if(Object.defineProperty)Object.defineProperty($,"raw",{value:Q});else $.raw=Q;return $}function DK0($){if($&&$.__esModule)return $;var Q={};if($!=null){for(var J=Tx($),K=0;K<J.length;K++)if(J[K]!=="default")IP(Q,$,J[K])}return Ie0(Q,$),Q}function CK0($){return $&&$.__esModule?$:{default:$}}function PK0($,Q,J,K){if(J==="a"&&!K)throw TypeError("Private accessor was defined without a getter");if(typeof Q==="function"?$!==Q||!K:!Q.has($))throw TypeError("Cannot read private member from an object whose class did not declare it");return J==="m"?K:J==="a"?K.call($):K?K.value:Q.get($)}function kK0($,Q,J,K,Y){if(K==="m")throw TypeError("Private method is not writable");if(K==="a"&&!Y)throw TypeError("Private accessor was defined without a setter");if(typeof Q==="function"?$!==Q||!Y:!Q.has($))throw TypeError("Cannot write private member to an object whose class did not declare it");return K==="a"?Y.call($,J):Y?Y.value=J:Q.set($,J),J}function jK0($,Q){if(Q===null||typeof Q!=="object"&&typeof Q!=="function")throw TypeError("Cannot use 'in' operator on non-object");return typeof $==="function"?Q===$:$.has(Q)}function EK0($,Q,J){if(Q!==null&&Q!==void 0){if(typeof Q!=="object"&&typeof Q!=="function")throw TypeError("Object expected.");var K,Y;if(J){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");K=Q[Symbol.asyncDispose]}if(K===void 0){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");if(K=Q[Symbol.dispose],J)Y=K}if(typeof K!=="function")throw TypeError("Object not disposable.");if(Y)K=function(){try{Y.call(this)}catch(Z){return Promise.reject(Z)}};$.stack.push({value:Q,dispose:K,async:J})}else if(J)$.stack.push({async:!0});return Q}function LK0($){function Q(Z){$.error=$.hasError?new Me0(Z,$.error,"An error was suppressed during disposal."):Z,$.hasError=!0}var J,K=0;function Y(){while(J=$.stack.pop())try{if(!J.async&&K===1)return K=0,$.stack.push(J),Promise.resolve().then(Y);if(J.dispose){var Z=J.dispose.call(J.value);if(J.async)return K|=2,Promise.resolve(Z).then(Y,function(q){return Q(q),Y()})}else K|=1}catch(q){Q(q)}if(K===1)return $.hasError?Promise.reject($.error):Promise.resolve();if($.hasError)throw $.error}return Y()}function hK0($,Q){if(typeof $==="string"&&/^\.\.?\//.test($))return $.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(J,K,Y,Z,q){return K?Q?".jsx":".js":Y&&(!Z||!q)?J:Y+Z+"."+q.toLowerCase()+"js"});return $}var Ox=function($,Q){return Ox=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,K){J.__proto__=K}||function(J,K){for(var Y in K)if(Object.prototype.hasOwnProperty.call(K,Y))J[Y]=K[Y]},Ox($,Q)},_P=function(){return _P=Object.assign||function(Q){for(var J,K=1,Y=arguments.length;K<Y;K++){J=arguments[K];for(var Z in J)if(Object.prototype.hasOwnProperty.call(J,Z))Q[Z]=J[Z]}return Q},_P.apply(this,arguments)},IP,Ie0,Tx=function($){return Tx=Object.getOwnPropertyNames||function(Q){var J=[];for(var K in Q)if(Object.prototype.hasOwnProperty.call(Q,K))J[J.length]=K;return J},Tx($)},Me0,be0;var R9=h(()=>{IP=Object.create?function($,Q,J,K){if(K===void 0)K=J;var Y=Object.getOwnPropertyDescriptor(Q,J);if(!Y||("get"in Y?!Q.__esModule:Y.writable||Y.configurable))Y={enumerable:!0,get:function(){return Q[J]}};Object.defineProperty($,K,Y)}:function($,Q,J,K){if(K===void 0)K=J;$[K]=Q[J]};Ie0=Object.create?function($,Q){Object.defineProperty($,"default",{enumerable:!0,value:Q})}:function($,Q){$.default=Q};Me0=typeof SuppressedError==="function"?SuppressedError:function($,Q,J){var K=Error(J);return K.name="SuppressedError",K.error=$,K.suppressed=Q,K};be0={__extends:KK0,__assign:_P,__rest:YK0,__decorate:ZK0,__param:qK0,__esDecorate:XK0,__runInitializers:WK0,__propKey:FK0,__setFunctionName:UK0,__metadata:HK0,__awaiter:NK0,__generator:BK0,__createBinding:IP,__exportStar:zK0,__values:fP,__read:Dx,__spread:AK0,__spreadArrays:VK0,__spreadArray:RK0,__await:NN,__asyncGenerator:GK0,__asyncDelegator:OK0,__asyncValues:wK0,__makeTemplateObject:TK0,__importStar:DK0,__importDefault:CK0,__classPrivateFieldGet:PK0,__classPrivateFieldSet:kK0,__classPrivateFieldIn:jK0,__addDisposableResource:EK0,__disposeResources:LK0,__rewriteRelativeImportExtension:hK0}});var Cq=C0((vK0)=>{Object.defineProperty(vK0,"__esModule",{value:!0});vK0.encodeUtf8=vK0.decodeUtf8=void 0;var ge0=new TextDecoder("utf-8"),ye0=($)=>ge0.decode($);vK0.decodeUtf8=ye0;var xe0=new TextEncoder,ce0=($)=>xe0.encode($);vK0.encodeUtf8=ce0});var Pq=C0((fK0)=>{Object.defineProperty(fK0,"__esModule",{value:!0});fK0.isFlatbuffersByteBuffer=fK0.isReadableNodeStream=fK0.isWritableNodeStream=fK0.isReadableDOMStream=fK0.isWritableDOMStream=fK0.isFetchResponse=fK0.isFSReadStream=fK0.isFileHandle=fK0.isUnderlyingSink=fK0.isIteratorResult=fK0.isArrayLike=fK0.isArrowJSON=fK0.isAsyncIterable=fK0.isIterable=fK0.isObservable=fK0.isPromise=fK0.isObject=void 0;var Cx=($)=>typeof $==="number",_K0=($)=>typeof $==="boolean",q7=($)=>typeof $==="function",me0=($)=>$!=null&&Object($)===$;fK0.isObject=me0;var pe0=($)=>{return fK0.isObject($)&&q7($.then)};fK0.isPromise=pe0;var de0=($)=>{return fK0.isObject($)&&q7($.subscribe)};fK0.isObservable=de0;var ne0=($)=>{return fK0.isObject($)&&q7($[Symbol.iterator])};fK0.isIterable=ne0;var le0=($)=>{return fK0.isObject($)&&q7($[Symbol.asyncIterator])};fK0.isAsyncIterable=le0;var re0=($)=>{return fK0.isObject($)&&fK0.isObject($.schema)};fK0.isArrowJSON=re0;var ie0=($)=>{return fK0.isObject($)&&Cx($.length)};fK0.isArrayLike=ie0;var se0=($)=>{return fK0.isObject($)&&"done"in $&&"value"in $};fK0.isIteratorResult=se0;var oe0=($)=>{return fK0.isObject($)&&q7($.abort)&&q7($.close)&&q7($.start)&&q7($.write)};fK0.isUnderlyingSink=oe0;var ae0=($)=>{return fK0.isObject($)&&q7($.stat)&&Cx($.fd)};fK0.isFileHandle=ae0;var te0=($)=>{return fK0.isReadableNodeStream($)&&Cx($.bytesRead)};fK0.isFSReadStream=te0;var ee0=($)=>{return fK0.isObject($)&&fK0.isReadableDOMStream($.body)};fK0.isFetchResponse=ee0;var MP=($)=>("_getDOMStream"in $)&&("_getNodeStream"in $),$01=($)=>{return fK0.isObject($)&&q7($.abort)&&q7($.getWriter)&&!MP($)};fK0.isWritableDOMStream=$01;var Q01=($)=>{return fK0.isObject($)&&q7($.cancel)&&q7($.getReader)&&!MP($)};fK0.isReadableDOMStream=Q01;var J01=($)=>{return fK0.isObject($)&&q7($.end)&&q7($.write)&&_K0($.writable)&&!MP($)};fK0.isWritableNodeStream=J01;var K01=($)=>{return fK0.isObject($)&&q7($.read)&&q7($.pipe)&&_K0($.readable)&&!MP($)};fK0.isReadableNodeStream=K01;var Y01=($)=>{return fK0.isObject($)&&q7($.clear)&&q7($.bytes)&&q7($.position)&&q7($.setPosition)&&q7($.capacity)&&q7($.getBufferIdentifier)&&q7($.createLong)};fK0.isFlatbuffersByteBuffer=Y01});var T8=C0((gK0)=>{Object.defineProperty(gK0,"__esModule",{value:!0});gK0.compareArrayLike=gK0.rebaseValueOffsets=gK0.toUint8ClampedArrayAsyncIterator=gK0.toFloat64ArrayAsyncIterator=gK0.toFloat32ArrayAsyncIterator=gK0.toUint32ArrayAsyncIterator=gK0.toUint16ArrayAsyncIterator=gK0.toUint8ArrayAsyncIterator=gK0.toInt32ArrayAsyncIterator=gK0.toInt16ArrayAsyncIterator=gK0.toInt8ArrayAsyncIterator=gK0.toArrayBufferViewAsyncIterator=gK0.toUint8ClampedArrayIterator=gK0.toFloat64ArrayIterator=gK0.toFloat32ArrayIterator=gK0.toUint32ArrayIterator=gK0.toUint16ArrayIterator=gK0.toUint8ArrayIterator=gK0.toInt32ArrayIterator=gK0.toInt16ArrayIterator=gK0.toInt8ArrayIterator=gK0.toArrayBufferViewIterator=gK0.toUint8ClampedArray=gK0.toFloat64Array=gK0.toFloat32Array=gK0.toBigUint64Array=gK0.toUint32Array=gK0.toUint16Array=gK0.toUint8Array=gK0.toBigInt64Array=gK0.toInt32Array=gK0.toInt16Array=gK0.toInt8Array=gK0.toArrayBufferView=gK0.joinUint8Arrays=gK0.memcpy=void 0;var i7=(R9(),F3(V9)),G01=Cq(),BN=Pq(),jx=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function O01($){let Q=$[0]?[$[0]]:[],J,K,Y,Z;for(let q,X,W=0,F=0,H=$.length;++W<H;){if(q=Q[F],X=$[W],!q||!X||q.buffer!==X.buffer||X.byteOffset<q.byteOffset){X&&(Q[++F]=X);continue}if({byteOffset:J,byteLength:Y}=q,{byteOffset:K,byteLength:Z}=X,J+Y<K||K+Z<J){X&&(Q[++F]=X);continue}Q[F]=new Uint8Array(q.buffer,J,K-J+Z)}return Q}function Px($,Q,J=0,K=Q.byteLength){let Y=$.byteLength,Z=new Uint8Array($.buffer,$.byteOffset,Y),q=new Uint8Array(Q.buffer,Q.byteOffset,Math.min(K,Y));return Z.set(q,J),$}gK0.memcpy=Px;function w01($,Q){let J=O01($),K=J.reduce((H,B)=>H+B.byteLength,0),Y,Z,q,X=0,W=-1,F=Math.min(Q||Number.POSITIVE_INFINITY,K);for(let H=J.length;++W<H;){if(Y=J[W],Z=Y.subarray(0,Math.min(Y.length,F-X)),F<=X+Z.length){if(Z.length<Y.length)J[W]=Y.subarray(Z.length);else if(Z.length===Y.length)W++;q?Px(q,Z,X):q=Z;break}Px(q||(q=new Uint8Array(F)),Z,X),X+=Z.length}return[q||new Uint8Array(0),J.slice(W),K-(q?q.byteLength:0)]}gK0.joinUint8Arrays=w01;function b4($,Q){let J=(0,BN.isIteratorResult)(Q)?Q.value:Q;if(J instanceof $){if($===Uint8Array)return new $(J.buffer,J.byteOffset,J.byteLength);return J}if(!J)return new $(0);if(typeof J==="string")J=(0,G01.encodeUtf8)(J);if(J instanceof ArrayBuffer)return new $(J);if(J instanceof jx)return new $(J);if((0,BN.isFlatbuffersByteBuffer)(J))return b4($,J.bytes());return!ArrayBuffer.isView(J)?$.from(J):J.byteLength<=0?new $(0):new $(J.buffer,J.byteOffset,J.byteLength/$.BYTES_PER_ELEMENT)}gK0.toArrayBufferView=b4;var T01=($)=>b4(Int8Array,$);gK0.toInt8Array=T01;var D01=($)=>b4(Int16Array,$);gK0.toInt16Array=D01;var C01=($)=>b4(Int32Array,$);gK0.toInt32Array=C01;var P01=($)=>b4(BigInt64Array,$);gK0.toBigInt64Array=P01;var k01=($)=>b4(Uint8Array,$);gK0.toUint8Array=k01;var j01=($)=>b4(Uint16Array,$);gK0.toUint16Array=j01;var E01=($)=>b4(Uint32Array,$);gK0.toUint32Array=E01;var L01=($)=>b4(BigUint64Array,$);gK0.toBigUint64Array=L01;var h01=($)=>b4(Float32Array,$);gK0.toFloat32Array=h01;var v01=($)=>b4(Float64Array,$);gK0.toFloat64Array=v01;var S01=($)=>b4(Uint8ClampedArray,$);gK0.toUint8ClampedArray=S01;var kx=($)=>{return $.next(),$};function*xJ($,Q){let J=function*(Y){yield Y},K=typeof Q==="string"?J(Q):ArrayBuffer.isView(Q)?J(Q):Q instanceof ArrayBuffer?J(Q):Q instanceof jx?J(Q):!(0,BN.isIterable)(Q)?J(Q):Q;return yield*kx(function*(Y){let Z=null;do Z=Y.next(yield b4($,Z));while(!Z.done)}(K[Symbol.iterator]())),new $}gK0.toArrayBufferViewIterator=xJ;var _01=($)=>xJ(Int8Array,$);gK0.toInt8ArrayIterator=_01;var f01=($)=>xJ(Int16Array,$);gK0.toInt16ArrayIterator=f01;var I01=($)=>xJ(Int32Array,$);gK0.toInt32ArrayIterator=I01;var M01=($)=>xJ(Uint8Array,$);gK0.toUint8ArrayIterator=M01;var b01=($)=>xJ(Uint16Array,$);gK0.toUint16ArrayIterator=b01;var g01=($)=>xJ(Uint32Array,$);gK0.toUint32ArrayIterator=g01;var y01=($)=>xJ(Float32Array,$);gK0.toFloat32ArrayIterator=y01;var x01=($)=>xJ(Float64Array,$);gK0.toFloat64ArrayIterator=x01;var c01=($)=>xJ(Uint8ClampedArray,$);gK0.toUint8ClampedArrayIterator=c01;function wQ($,Q){return i7.__asyncGenerator(this,arguments,function*(){if((0,BN.isPromise)(Q))return yield i7.__await(yield i7.__await(yield*i7.__asyncDelegator(i7.__asyncValues(wQ($,yield i7.__await(Q))))));let K=function(q){return i7.__asyncGenerator(this,arguments,function*(){yield yield i7.__await(yield i7.__await(q))})},Y=function(q){return i7.__asyncGenerator(this,arguments,function*(){yield i7.__await(yield*i7.__asyncDelegator(i7.__asyncValues(kx(function*(X){let W=null;do W=X.next(yield W===null||W===void 0?void 0:W.value);while(!W.done)}(q[Symbol.iterator]())))))})},Z=typeof Q==="string"?K(Q):ArrayBuffer.isView(Q)?K(Q):Q instanceof ArrayBuffer?K(Q):Q instanceof jx?K(Q):(0,BN.isIterable)(Q)?Y(Q):!(0,BN.isAsyncIterable)(Q)?K(Q):Q;return yield i7.__await(yield*i7.__asyncDelegator(i7.__asyncValues(kx(function(q){return i7.__asyncGenerator(this,arguments,function*(){let X=null;do X=yield i7.__await(q.next(yield yield i7.__await(b4($,X))));while(!X.done)})}(Z[Symbol.asyncIterator]()))))),yield i7.__await(new $)})}gK0.toArrayBufferViewAsyncIterator=wQ;var u01=($)=>wQ(Int8Array,$);gK0.toInt8ArrayAsyncIterator=u01;var m01=($)=>wQ(Int16Array,$);gK0.toInt16ArrayAsyncIterator=m01;var p01=($)=>wQ(Int32Array,$);gK0.toInt32ArrayAsyncIterator=p01;var d01=($)=>wQ(Uint8Array,$);gK0.toUint8ArrayAsyncIterator=d01;var n01=($)=>wQ(Uint16Array,$);gK0.toUint16ArrayAsyncIterator=n01;var l01=($)=>wQ(Uint32Array,$);gK0.toUint32ArrayAsyncIterator=l01;var r01=($)=>wQ(Float32Array,$);gK0.toFloat32ArrayAsyncIterator=r01;var i01=($)=>wQ(Float64Array,$);gK0.toFloat64ArrayAsyncIterator=i01;var s01=($)=>wQ(Uint8ClampedArray,$);gK0.toUint8ClampedArrayAsyncIterator=s01;function o01($,Q,J){if($!==0){J=J.slice(0,Q);for(let K=-1,Y=J.length;++K<Y;)J[K]+=$}return J.subarray(0,Q)}gK0.rebaseValueOffsets=o01;function a01($,Q){let J=0,K=$.length;if(K!==Q.length)return!1;if(K>0)do if($[J]!==Q[J])return!1;while(++J<K);return!0}gK0.compareArrayLike=a01});var wR=C0((cK0)=>{Object.defineProperty(cK0,"__esModule",{value:!0});var r6=(R9(),F3(V9)),g4=T8();cK0.default={fromIterable($){return bP(f11($))},fromAsyncIterable($){return bP(I11($))},fromDOMStream($){return bP(M11($))},fromNodeStream($){return bP(b11($))},toDOMStream($,Q){throw Error('"toDOMStream" not available in this environment')},toNodeStream($,Q){throw Error('"toNodeStream" not available in this environment')}};var bP=($)=>{return $.next(),$};function*f11($){let Q,J=!1,K=[],Y,Z,q,X=0;function W(){if(Z==="peek")return(0,g4.joinUint8Arrays)(K,q)[0];return[Y,K,X]=(0,g4.joinUint8Arrays)(K,q),Y}({cmd:Z,size:q}=(yield(()=>null)())||{cmd:"read",size:0});let F=(0,g4.toUint8ArrayIterator)($)[Symbol.iterator]();try{do{if({done:Q,value:Y}=Number.isNaN(q-X)?F.next():F.next(q-X),!Q&&Y.byteLength>0)K.push(Y),X+=Y.byteLength;if(Q||q<=X)do({cmd:Z,size:q}=yield W());while(q<X)}while(!Q)}catch(H){(J=!0)&&typeof F.throw==="function"&&F.throw(H)}finally{J===!1&&typeof F.return==="function"&&F.return(null)}return null}function I11($){return r6.__asyncGenerator(this,arguments,function*(){let J,K=!1,Y=[],Z,q,X,W=0;function F(){if(q==="peek")return(0,g4.joinUint8Arrays)(Y,X)[0];return[Z,Y,W]=(0,g4.joinUint8Arrays)(Y,X),Z}({cmd:q,size:X}=(yield yield r6.__await((()=>null)()))||{cmd:"read",size:0});let H=(0,g4.toUint8ArrayAsyncIterator)($)[Symbol.asyncIterator]();try{do{if({done:J,value:Z}=Number.isNaN(X-W)?yield r6.__await(H.next()):yield r6.__await(H.next(X-W)),!J&&Z.byteLength>0)Y.push(Z),W+=Z.byteLength;if(J||X<=W)do({cmd:q,size:X}=yield yield r6.__await(F()));while(X<W)}while(!J)}catch(B){(K=!0)&&typeof H.throw==="function"&&(yield r6.__await(H.throw(B)))}finally{K===!1&&typeof H.return==="function"&&(yield r6.__await(H.return(new Uint8Array(0))))}return yield r6.__await(null)})}function M11($){return r6.__asyncGenerator(this,arguments,function*(){let J=!1,K=!1,Y=[],Z,q,X,W=0;function F(){if(q==="peek")return(0,g4.joinUint8Arrays)(Y,X)[0];return[Z,Y,W]=(0,g4.joinUint8Arrays)(Y,X),Z}({cmd:q,size:X}=(yield yield r6.__await((()=>null)()))||{cmd:"read",size:0});let H=new xK0($);try{do{if({done:J,value:Z}=Number.isNaN(X-W)?yield r6.__await(H.read()):yield r6.__await(H.read(X-W)),!J&&Z.byteLength>0)Y.push((0,g4.toUint8Array)(Z)),W+=Z.byteLength;if(J||X<=W)do({cmd:q,size:X}=yield yield r6.__await(F()));while(X<W)}while(!J)}catch(B){(K=!0)&&(yield r6.__await(H.cancel(B)))}finally{K===!1?yield r6.__await(H.cancel()):$.locked&&H.releaseLock()}return yield r6.__await(null)})}class xK0{constructor($){this.source=$,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){if(this.reader)this.reader.releaseLock();this.reader=null}cancel($){return r6.__awaiter(this,void 0,void 0,function*(){let{reader:Q,source:J}=this;Q&&(yield Q.cancel($).catch(()=>{})),J&&(J.locked&&this.releaseLock())})}read($){return r6.__awaiter(this,void 0,void 0,function*(){if($===0)return{done:this.reader==null,value:new Uint8Array(0)};let Q=yield this.reader.read();return!Q.done&&(Q.value=(0,g4.toUint8Array)(Q)),Q})}}var Ex=($,Q)=>{let J=(Y)=>K([Q,Y]),K;return[Q,J,new Promise((Y)=>(K=Y)&&$.once(Q,J))]};function b11($){return r6.__asyncGenerator(this,arguments,function*(){let J=[],K="error",Y=!1,Z=null,q,X,W=0,F=[],H;function B(){if(q==="peek")return(0,g4.joinUint8Arrays)(F,X)[0];return[H,F,W]=(0,g4.joinUint8Arrays)(F,X),H}if({cmd:q,size:X}=(yield yield r6.__await((()=>null)()))||{cmd:"read",size:0},$.isTTY)return yield yield r6.__await(new Uint8Array(0)),yield r6.__await(null);try{J[0]=Ex($,"end"),J[1]=Ex($,"error");do{if(J[2]=Ex($,"readable"),[K,Z]=yield r6.__await(Promise.race(J.map((A)=>A[2]))),K==="error")break;if(!(Y=K==="end")){if(!Number.isFinite(X-W))H=(0,g4.toUint8Array)($.read());else if(H=(0,g4.toUint8Array)($.read(X-W)),H.byteLength<X-W)H=(0,g4.toUint8Array)($.read());if(H.byteLength>0)F.push(H),W+=H.byteLength}if(Y||X<=W)do({cmd:q,size:X}=yield yield r6.__await(B()));while(X<W)}while(!Y)}finally{yield r6.__await(z(J,K==="error"?Z:null))}return yield r6.__await(null);function z(A,R){return H=F=null,new Promise((G,O)=>{for(let[T,D]of A)$.off(T,D);try{let T=$.destroy;T&&T.call($,R),R=void 0}catch(T){R=T||R}finally{R!=null?O(R):G()}})}})}});var gP=C0((mK0)=>{Object.defineProperty(mK0,"__esModule",{value:!0});mK0.MetadataVersion=void 0;var uK0;(function($){$[$.V1=0]="V1",$[$.V2=1]="V2",$[$.V3=2]="V3",$[$.V4=3]="V4",$[$.V5=4]="V5"})(uK0||(mK0.MetadataVersion=uK0={}))});var Lx=C0((nK0)=>{Object.defineProperty(nK0,"__esModule",{value:!0});nK0.UnionMode=void 0;var dK0;(function($){$[$.Sparse=0]="Sparse",$[$.Dense=1]="Dense"})(dK0||(nK0.UnionMode=dK0={}))});var hx=C0((iK0)=>{Object.defineProperty(iK0,"__esModule",{value:!0});iK0.Precision=void 0;var rK0;(function($){$[$.HALF=0]="HALF",$[$.SINGLE=1]="SINGLE",$[$.DOUBLE=2]="DOUBLE"})(rK0||(iK0.Precision=rK0={}))});var vx=C0((aK0)=>{Object.defineProperty(aK0,"__esModule",{value:!0});aK0.DateUnit=void 0;var oK0;(function($){$[$.DAY=0]="DAY",$[$.MILLISECOND=1]="MILLISECOND"})(oK0||(aK0.DateUnit=oK0={}))});var TR=C0(($Y0)=>{Object.defineProperty($Y0,"__esModule",{value:!0});$Y0.TimeUnit=void 0;var eK0;(function($){$[$.SECOND=0]="SECOND",$[$.MILLISECOND=1]="MILLISECOND",$[$.MICROSECOND=2]="MICROSECOND",$[$.NANOSECOND=3]="NANOSECOND"})(eK0||($Y0.TimeUnit=eK0={}))});var Sx=C0((KY0)=>{Object.defineProperty(KY0,"__esModule",{value:!0});KY0.IntervalUnit=void 0;var JY0;(function($){$[$.YEAR_MONTH=0]="YEAR_MONTH",$[$.DAY_TIME=1]="DAY_TIME",$[$.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(JY0||(KY0.IntervalUnit=JY0={}))});var GW=C0((ZY0)=>{Object.defineProperty(ZY0,"__esModule",{value:!0});ZY0.SIZE_PREFIX_LENGTH=ZY0.FILE_IDENTIFIER_LENGTH=ZY0.SIZEOF_INT=ZY0.SIZEOF_SHORT=void 0;ZY0.SIZEOF_SHORT=2;ZY0.SIZEOF_INT=4;ZY0.FILE_IDENTIFIER_LENGTH=4;ZY0.SIZE_PREFIX_LENGTH=4});var fx=C0((XY0)=>{Object.defineProperty(XY0,"__esModule",{value:!0});XY0.isLittleEndian=XY0.float64=XY0.float32=XY0.int32=void 0;XY0.int32=new Int32Array(2);XY0.float32=new Float32Array(XY0.int32.buffer);XY0.float64=new Float64Array(XY0.int32.buffer);XY0.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1});var Ix=C0((UY0)=>{Object.defineProperty(UY0,"__esModule",{value:!0});UY0.Encoding=void 0;var FY0;(function($){$[$.UTF8_BYTES=1]="UTF8_BYTES",$[$.UTF16_STRING=2]="UTF16_STRING"})(FY0||(UY0.Encoding=FY0={}))});var bx=C0((NY0)=>{Object.defineProperty(NY0,"__esModule",{value:!0});NY0.ByteBuffer=void 0;var cJ=GW(),G9=fx(),p11=Ix();class Mx{constructor($){this.bytes_=$,this.position_=0,this.text_decoder_=new TextDecoder}static allocate($){return new Mx(new Uint8Array($))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition($){this.position_=$}capacity(){return this.bytes_.length}readInt8($){return this.readUint8($)<<24>>24}readUint8($){return this.bytes_[$]}readInt16($){return this.readUint16($)<<16>>16}readUint16($){return this.bytes_[$]|this.bytes_[$+1]<<8}readInt32($){return this.bytes_[$]|this.bytes_[$+1]<<8|this.bytes_[$+2]<<16|this.bytes_[$+3]<<24}readUint32($){return this.readInt32($)>>>0}readInt64($){return BigInt.asIntN(64,BigInt(this.readUint32($))+(BigInt(this.readUint32($+4))<<BigInt(32)))}readUint64($){return BigInt.asUintN(64,BigInt(this.readUint32($))+(BigInt(this.readUint32($+4))<<BigInt(32)))}readFloat32($){return G9.int32[0]=this.readInt32($),G9.float32[0]}readFloat64($){return G9.int32[G9.isLittleEndian?0:1]=this.readInt32($),G9.int32[G9.isLittleEndian?1:0]=this.readInt32($+4),G9.float64[0]}writeInt8($,Q){this.bytes_[$]=Q}writeUint8($,Q){this.bytes_[$]=Q}writeInt16($,Q){this.bytes_[$]=Q,this.bytes_[$+1]=Q>>8}writeUint16($,Q){this.bytes_[$]=Q,this.bytes_[$+1]=Q>>8}writeInt32($,Q){this.bytes_[$]=Q,this.bytes_[$+1]=Q>>8,this.bytes_[$+2]=Q>>16,this.bytes_[$+3]=Q>>24}writeUint32($,Q){this.bytes_[$]=Q,this.bytes_[$+1]=Q>>8,this.bytes_[$+2]=Q>>16,this.bytes_[$+3]=Q>>24}writeInt64($,Q){this.writeInt32($,Number(BigInt.asIntN(32,Q))),this.writeInt32($+4,Number(BigInt.asIntN(32,Q>>BigInt(32))))}writeUint64($,Q){this.writeUint32($,Number(BigInt.asUintN(32,Q))),this.writeUint32($+4,Number(BigInt.asUintN(32,Q>>BigInt(32))))}writeFloat32($,Q){G9.float32[0]=Q,this.writeInt32($,G9.int32[0])}writeFloat64($,Q){G9.float64[0]=Q,this.writeInt32($,G9.int32[G9.isLittleEndian?0:1]),this.writeInt32($+4,G9.int32[G9.isLittleEndian?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+cJ.SIZEOF_INT+cJ.FILE_IDENTIFIER_LENGTH)throw Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let $="";for(let Q=0;Q<cJ.FILE_IDENTIFIER_LENGTH;Q++)$+=String.fromCharCode(this.readInt8(this.position_+cJ.SIZEOF_INT+Q));return $}__offset($,Q){let J=$-this.readInt32($);return Q<this.readInt16(J)?this.readInt16(J+Q):0}__union($,Q){return $.bb_pos=Q+this.readInt32(Q),$.bb=this,$}__string($,Q){$+=this.readInt32($);let J=this.readInt32($);$+=cJ.SIZEOF_INT;let K=this.bytes_.subarray($,$+J);if(Q===p11.Encoding.UTF8_BYTES)return K;else return this.text_decoder_.decode(K)}__union_with_string($,Q){if(typeof $==="string")return this.__string(Q);return this.__union($,Q)}__indirect($){return $+this.readInt32($)}__vector($){return $+this.readInt32($)+cJ.SIZEOF_INT}__vector_len($){return this.readInt32($+this.readInt32($))}__has_identifier($){if($.length!=cJ.FILE_IDENTIFIER_LENGTH)throw Error("FlatBuffers: file identifier must be length "+cJ.FILE_IDENTIFIER_LENGTH);for(let Q=0;Q<cJ.FILE_IDENTIFIER_LENGTH;Q++)if($.charCodeAt(Q)!=this.readInt8(this.position()+cJ.SIZEOF_INT+Q))return!1;return!0}createScalarList($,Q){let J=[];for(let K=0;K<Q;++K){let Y=$(K);if(Y!==null)J.push(Y)}return J}createObjList($,Q){let J=[];for(let K=0;K<Q;++K){let Y=$(K);if(Y!==null)J.push(Y.unpack())}return J}}NY0.ByteBuffer=Mx});var RY0=C0((AY0)=>{Object.defineProperty(AY0,"__esModule",{value:!0});AY0.Builder=void 0;var zY0=bx(),U3=GW();class gx{constructor($){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let Q;if(!$)Q=1024;else Q=$;this.bb=zY0.ByteBuffer.allocate(Q),this.space=Q}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults($){this.force_defaults=$}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep($,Q){if($>this.minalign)this.minalign=$;let J=~(this.bb.capacity()-this.space+Q)+1&$-1;while(this.space<J+$+Q){let K=this.bb.capacity();this.bb=gx.growByteBuffer(this.bb),this.space+=this.bb.capacity()-K}this.pad(J)}pad($){for(let Q=0;Q<$;Q++)this.bb.writeInt8(--this.space,0)}writeInt8($){this.bb.writeInt8(this.space-=1,$)}writeInt16($){this.bb.writeInt16(this.space-=2,$)}writeInt32($){this.bb.writeInt32(this.space-=4,$)}writeInt64($){this.bb.writeInt64(this.space-=8,$)}writeFloat32($){this.bb.writeFloat32(this.space-=4,$)}writeFloat64($){this.bb.writeFloat64(this.space-=8,$)}addInt8($){this.prep(1,0),this.writeInt8($)}addInt16($){this.prep(2,0),this.writeInt16($)}addInt32($){this.prep(4,0),this.writeInt32($)}addInt64($){this.prep(8,0),this.writeInt64($)}addFloat32($){this.prep(4,0),this.writeFloat32($)}addFloat64($){this.prep(8,0),this.writeFloat64($)}addFieldInt8($,Q,J){if(this.force_defaults||Q!=J)this.addInt8(Q),this.slot($)}addFieldInt16($,Q,J){if(this.force_defaults||Q!=J)this.addInt16(Q),this.slot($)}addFieldInt32($,Q,J){if(this.force_defaults||Q!=J)this.addInt32(Q),this.slot($)}addFieldInt64($,Q,J){if(this.force_defaults||Q!==J)this.addInt64(Q),this.slot($)}addFieldFloat32($,Q,J){if(this.force_defaults||Q!=J)this.addFloat32(Q),this.slot($)}addFieldFloat64($,Q,J){if(this.force_defaults||Q!=J)this.addFloat64(Q),this.slot($)}addFieldOffset($,Q,J){if(this.force_defaults||Q!=J)this.addOffset(Q),this.slot($)}addFieldStruct($,Q,J){if(Q!=J)this.nested(Q),this.slot($)}nested($){if($!=this.offset())throw TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw TypeError("FlatBuffers: object serialization must not be nested.")}slot($){if(this.vtable!==null)this.vtable[$]=this.offset()}offset(){return this.bb.capacity()-this.space}static growByteBuffer($){let Q=$.capacity();if(Q&3221225472)throw Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");let J=Q<<1,K=zY0.ByteBuffer.allocate(J);return K.setPosition(J-Q),K.bytes().set($.bytes(),J-Q),K}addOffset($){this.prep(U3.SIZEOF_INT,0),this.writeInt32(this.offset()-$+U3.SIZEOF_INT)}startObject($){if(this.notNested(),this.vtable==null)this.vtable=[];this.vtable_in_use=$;for(let Q=0;Q<$;Q++)this.vtable[Q]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw Error("FlatBuffers: endObject called without startObject");this.addInt32(0);let $=this.offset(),Q=this.vtable_in_use-1;for(;Q>=0&&this.vtable[Q]==0;Q--);let J=Q+1;for(;Q>=0;Q--)this.addInt16(this.vtable[Q]!=0?$-this.vtable[Q]:0);let K=2;this.addInt16($-this.object_start);let Y=(J+K)*U3.SIZEOF_SHORT;this.addInt16(Y);let Z=0,q=this.space;$:for(Q=0;Q<this.vtables.length;Q++){let X=this.bb.capacity()-this.vtables[Q];if(Y==this.bb.readInt16(X)){for(let W=U3.SIZEOF_SHORT;W<Y;W+=U3.SIZEOF_SHORT)if(this.bb.readInt16(q+W)!=this.bb.readInt16(X+W))continue $;Z=this.vtables[Q];break}}if(Z)this.space=this.bb.capacity()-$,this.bb.writeInt32(this.space,Z-$);else this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-$,this.offset()-$);return this.isNested=!1,$}finish($,Q,J){let K=J?U3.SIZE_PREFIX_LENGTH:0;if(Q){let Y=Q;if(this.prep(this.minalign,U3.SIZEOF_INT+U3.FILE_IDENTIFIER_LENGTH+K),Y.length!=U3.FILE_IDENTIFIER_LENGTH)throw TypeError("FlatBuffers: file identifier must be length "+U3.FILE_IDENTIFIER_LENGTH);for(let Z=U3.FILE_IDENTIFIER_LENGTH-1;Z>=0;Z--)this.writeInt8(Y.charCodeAt(Z))}if(this.prep(this.minalign,U3.SIZEOF_INT+K),this.addOffset($),K)this.addInt32(this.bb.capacity()-this.space);this.bb.setPosition(this.space)}finishSizePrefixed($,Q){this.finish($,Q,!0)}requiredField($,Q){let J=this.bb.capacity()-$,K=J-this.bb.readInt32(J);if(!(Q<this.bb.readInt16(K)&&this.bb.readInt16(K+Q)!=0))throw TypeError("FlatBuffers: field "+Q+" must be set")}startVector($,Q,J){this.notNested(),this.vector_num_elems=Q,this.prep(U3.SIZEOF_INT,$*Q),this.prep(J,$*Q)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString($){if(!$)return 0;if(!this.string_maps)this.string_maps=new Map;if(this.string_maps.has($))return this.string_maps.get($);let Q=this.createString($);return this.string_maps.set($,Q),Q}createString($){if($===null||$===void 0)return 0;let Q;if($ instanceof Uint8Array)Q=$;else Q=this.text_encoder.encode($);return this.addInt8(0),this.startVector(1,Q.length,1),this.bb.setPosition(this.space-=Q.length),this.bb.bytes().set(Q,this.space),this.endVector()}createByteVector($){if($===null||$===void 0)return 0;return this.startVector(1,$.length,1),this.bb.setPosition(this.space-=$.length),this.bb.bytes().set($,this.space),this.endVector()}createObjectOffset($){if($===null)return 0;if(typeof $==="string")return this.createString($);else return $.pack(this)}createObjectOffsetList($){let Q=[];for(let J=0;J<$.length;++J){let K=$[J];if(K!==null)Q.push(this.createObjectOffset(K));else throw TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return Q}createStructOffsetList($,Q){return Q(this,$.length),this.createObjectOffsetList($.slice().reverse()),this.endVector()}}AY0.Builder=gx});var k5=C0((H3)=>{Object.defineProperty(H3,"__esModule",{value:!0});H3.ByteBuffer=H3.Builder=H3.Encoding=H3.isLittleEndian=H3.float64=H3.float32=H3.int32=H3.SIZE_PREFIX_LENGTH=H3.FILE_IDENTIFIER_LENGTH=H3.SIZEOF_INT=H3.SIZEOF_SHORT=void 0;var d11=GW();Object.defineProperty(H3,"SIZEOF_SHORT",{enumerable:!0,get:function(){return d11.SIZEOF_SHORT}});var n11=GW();Object.defineProperty(H3,"SIZEOF_INT",{enumerable:!0,get:function(){return n11.SIZEOF_INT}});var l11=GW();Object.defineProperty(H3,"FILE_IDENTIFIER_LENGTH",{enumerable:!0,get:function(){return l11.FILE_IDENTIFIER_LENGTH}});var r11=GW();Object.defineProperty(H3,"SIZE_PREFIX_LENGTH",{enumerable:!0,get:function(){return r11.SIZE_PREFIX_LENGTH}});var yP=fx();Object.defineProperty(H3,"int32",{enumerable:!0,get:function(){return yP.int32}});Object.defineProperty(H3,"float32",{enumerable:!0,get:function(){return yP.float32}});Object.defineProperty(H3,"float64",{enumerable:!0,get:function(){return yP.float64}});Object.defineProperty(H3,"isLittleEndian",{enumerable:!0,get:function(){return yP.isLittleEndian}});var i11=Ix();Object.defineProperty(H3,"Encoding",{enumerable:!0,get:function(){return i11.Encoding}});var s11=RY0();Object.defineProperty(H3,"Builder",{enumerable:!0,get:function(){return s11.Builder}});var o11=bx();Object.defineProperty(H3,"ByteBuffer",{enumerable:!0,get:function(){return o11.ByteBuffer}})});var TY0=C0((OY0)=>{Object.defineProperty(OY0,"__esModule",{value:!0});OY0.BodyCompressionMethod=void 0;var GY0;(function($){$[$.BUFFER=0]="BUFFER"})(GY0||(OY0.BodyCompressionMethod=GY0={}))});var kY0=C0((CY0)=>{Object.defineProperty(CY0,"__esModule",{value:!0});CY0.CompressionType=void 0;var DY0;(function($){$[$.LZ4_FRAME=0]="LZ4_FRAME",$[$.ZSTD=1]="ZSTD"})(DY0||(CY0.CompressionType=DY0={}))});var vY0=C0((LY0)=>{Object.defineProperty(LY0,"__esModule",{value:!0});LY0.BodyCompression=void 0;var t11=k5(),jY0=TY0(),EY0=kY0();class kq{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsBodyCompression($,Q){return(Q||new kq).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsBodyCompression($,Q){return $.setPosition($.position()+t11.SIZE_PREFIX_LENGTH),(Q||new kq).__init($.readInt32($.position())+$.position(),$)}codec(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt8(this.bb_pos+$):EY0.CompressionType.LZ4_FRAME}method(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.readInt8(this.bb_pos+$):jY0.BodyCompressionMethod.BUFFER}static startBodyCompression($){$.startObject(2)}static addCodec($,Q){$.addFieldInt8(0,Q,EY0.CompressionType.LZ4_FRAME)}static addMethod($,Q){$.addFieldInt8(1,Q,jY0.BodyCompressionMethod.BUFFER)}static endBodyCompression($){return $.endObject()}static createBodyCompression($,Q,J){return kq.startBodyCompression($),kq.addCodec($,Q),kq.addMethod($,J),kq.endBodyCompression($)}}LY0.BodyCompression=kq});var jq=C0((_Y0)=>{Object.defineProperty(_Y0,"__esModule",{value:!0});_Y0.Buffer=void 0;class SY0{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer($,Q,J){return $.prep(8,16),$.writeInt64(BigInt(J!==null&&J!==void 0?J:0)),$.writeInt64(BigInt(Q!==null&&Q!==void 0?Q:0)),$.offset()}}_Y0.Buffer=SY0});var yx=C0((MY0)=>{Object.defineProperty(MY0,"__esModule",{value:!0});MY0.FieldNode=void 0;class IY0{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode($,Q,J){return $.prep(8,16),$.writeInt64(BigInt(J!==null&&J!==void 0?J:0)),$.writeInt64(BigInt(Q!==null&&Q!==void 0?Q:0)),$.offset()}}MY0.FieldNode=IY0});var cP=C0((gY0)=>{Object.defineProperty(gY0,"__esModule",{value:!0});gY0.RecordBatch=void 0;var e11=k5(),$51=vY0(),Q51=jq(),J51=yx();class xP{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsRecordBatch($,Q){return(Q||new xP).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsRecordBatch($,Q){return $.setPosition($.position()+e11.SIZE_PREFIX_LENGTH),(Q||new xP).__init($.readInt32($.position())+$.position(),$)}length(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt64(this.bb_pos+$):BigInt("0")}nodes($,Q){let J=this.bb.__offset(this.bb_pos,6);return J?(Q||new J51.FieldNode).__init(this.bb.__vector(this.bb_pos+J)+$*16,this.bb):null}nodesLength(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__vector_len(this.bb_pos+$):0}buffers($,Q){let J=this.bb.__offset(this.bb_pos,8);return J?(Q||new Q51.Buffer).__init(this.bb.__vector(this.bb_pos+J)+$*16,this.bb):null}buffersLength(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.__vector_len(this.bb_pos+$):0}compression($){let Q=this.bb.__offset(this.bb_pos,10);return Q?($||new $51.BodyCompression).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}static startRecordBatch($){$.startObject(4)}static addLength($,Q){$.addFieldInt64(0,Q,BigInt("0"))}static addNodes($,Q){$.addFieldOffset(1,Q,0)}static startNodesVector($,Q){$.startVector(16,Q,8)}static addBuffers($,Q){$.addFieldOffset(2,Q,0)}static startBuffersVector($,Q){$.startVector(16,Q,8)}static addCompression($,Q){$.addFieldOffset(3,Q,0)}static endRecordBatch($){return $.endObject()}}gY0.RecordBatch=xP});var xx=C0((xY0)=>{Object.defineProperty(xY0,"__esModule",{value:!0});xY0.DictionaryBatch=void 0;var K51=k5(),Y51=cP();class uP{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsDictionaryBatch($,Q){return(Q||new uP).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsDictionaryBatch($,Q){return $.setPosition($.position()+K51.SIZE_PREFIX_LENGTH),(Q||new uP).__init($.readInt32($.position())+$.position(),$)}id(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt64(this.bb_pos+$):BigInt("0")}data($){let Q=this.bb.__offset(this.bb_pos,6);return Q?($||new Y51.RecordBatch).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}isDelta(){let $=this.bb.__offset(this.bb_pos,8);return $?!!this.bb.readInt8(this.bb_pos+$):!1}static startDictionaryBatch($){$.startObject(3)}static addId($,Q){$.addFieldInt64(0,Q,BigInt("0"))}static addData($,Q){$.addFieldOffset(1,Q,0)}static addIsDelta($,Q){$.addFieldInt8(2,+Q,0)}static endDictionaryBatch($){return $.endObject()}}xY0.DictionaryBatch=uP});var cx=C0((mY0)=>{Object.defineProperty(mY0,"__esModule",{value:!0});mY0.Endianness=void 0;var uY0;(function($){$[$.Little=0]="Little",$[$.Big=1]="Big"})(uY0||(mY0.Endianness=uY0={}))});var rY0=C0((nY0)=>{Object.defineProperty(nY0,"__esModule",{value:!0});nY0.DictionaryKind=void 0;var dY0;(function($){$[$.DenseArray=0]="DenseArray"})(dY0||(nY0.DictionaryKind=dY0={}))});var Lq=C0((iY0)=>{Object.defineProperty(iY0,"__esModule",{value:!0});iY0.Int=void 0;var Z51=k5();class Eq{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsInt($,Q){return(Q||new Eq).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsInt($,Q){return $.setPosition($.position()+Z51.SIZE_PREFIX_LENGTH),(Q||new Eq).__init($.readInt32($.position())+$.position(),$)}bitWidth(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt32(this.bb_pos+$):0}isSigned(){let $=this.bb.__offset(this.bb_pos,6);return $?!!this.bb.readInt8(this.bb_pos+$):!1}static startInt($){$.startObject(2)}static addBitWidth($,Q){$.addFieldInt32(0,Q,0)}static addIsSigned($,Q){$.addFieldInt8(1,+Q,0)}static endInt($){return $.endObject()}static createInt($,Q,J){return Eq.startInt($),Eq.addBitWidth($,Q),Eq.addIsSigned($,J),Eq.endInt($)}}iY0.Int=Eq});var ux=C0((aY0)=>{Object.defineProperty(aY0,"__esModule",{value:!0});aY0.DictionaryEncoding=void 0;var q51=k5(),oY0=rY0(),X51=Lq();class mP{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsDictionaryEncoding($,Q){return(Q||new mP).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsDictionaryEncoding($,Q){return $.setPosition($.position()+q51.SIZE_PREFIX_LENGTH),(Q||new mP).__init($.readInt32($.position())+$.position(),$)}id(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt64(this.bb_pos+$):BigInt("0")}indexType($){let Q=this.bb.__offset(this.bb_pos,6);return Q?($||new X51.Int).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}isOrdered(){let $=this.bb.__offset(this.bb_pos,8);return $?!!this.bb.readInt8(this.bb_pos+$):!1}dictionaryKind(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.readInt16(this.bb_pos+$):oY0.DictionaryKind.DenseArray}static startDictionaryEncoding($){$.startObject(4)}static addId($,Q){$.addFieldInt64(0,Q,BigInt("0"))}static addIndexType($,Q){$.addFieldOffset(1,Q,0)}static addIsOrdered($,Q){$.addFieldInt8(2,+Q,0)}static addDictionaryKind($,Q){$.addFieldInt16(3,Q,oY0.DictionaryKind.DenseArray)}static endDictionaryEncoding($){return $.endObject()}}aY0.DictionaryEncoding=mP});var zN=C0((eY0)=>{Object.defineProperty(eY0,"__esModule",{value:!0});eY0.KeyValue=void 0;var W51=k5();class hq{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsKeyValue($,Q){return(Q||new hq).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsKeyValue($,Q){return $.setPosition($.position()+W51.SIZE_PREFIX_LENGTH),(Q||new hq).__init($.readInt32($.position())+$.position(),$)}key($){let Q=this.bb.__offset(this.bb_pos,4);return Q?this.bb.__string(this.bb_pos+Q,$):null}value($){let Q=this.bb.__offset(this.bb_pos,6);return Q?this.bb.__string(this.bb_pos+Q,$):null}static startKeyValue($){$.startObject(2)}static addKey($,Q){$.addFieldOffset(0,Q,0)}static addValue($,Q){$.addFieldOffset(1,Q,0)}static endKeyValue($){return $.endObject()}static createKeyValue($,Q,J){return hq.startKeyValue($),hq.addKey($,Q),hq.addValue($,J),hq.endKeyValue($)}}eY0.KeyValue=hq});var mx=C0((QZ0)=>{Object.defineProperty(QZ0,"__esModule",{value:!0});QZ0.Binary=void 0;var F51=k5();class AN{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsBinary($,Q){return(Q||new AN).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsBinary($,Q){return $.setPosition($.position()+F51.SIZE_PREFIX_LENGTH),(Q||new AN).__init($.readInt32($.position())+$.position(),$)}static startBinary($){$.startObject(0)}static endBinary($){return $.endObject()}static createBinary($){return AN.startBinary($),AN.endBinary($)}}QZ0.Binary=AN});var px=C0((KZ0)=>{Object.defineProperty(KZ0,"__esModule",{value:!0});KZ0.Bool=void 0;var U51=k5();class VN{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsBool($,Q){return(Q||new VN).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsBool($,Q){return $.setPosition($.position()+U51.SIZE_PREFIX_LENGTH),(Q||new VN).__init($.readInt32($.position())+$.position(),$)}static startBool($){$.startObject(0)}static endBool($){return $.endObject()}static createBool($){return VN.startBool($),VN.endBool($)}}KZ0.Bool=VN});var pP=C0((qZ0)=>{Object.defineProperty(qZ0,"__esModule",{value:!0});qZ0.Date=void 0;var H51=k5(),ZZ0=vx();class OW{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsDate($,Q){return(Q||new OW).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsDate($,Q){return $.setPosition($.position()+H51.SIZE_PREFIX_LENGTH),(Q||new OW).__init($.readInt32($.position())+$.position(),$)}unit(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):ZZ0.DateUnit.MILLISECOND}static startDate($){$.startObject(1)}static addUnit($,Q){$.addFieldInt16(0,Q,ZZ0.DateUnit.MILLISECOND)}static endDate($){return $.endObject()}static createDate($,Q){return OW.startDate($),OW.addUnit($,Q),OW.endDate($)}}qZ0.Date=OW});var dP=C0((WZ0)=>{Object.defineProperty(WZ0,"__esModule",{value:!0});WZ0.Decimal=void 0;var N51=k5();class vY{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsDecimal($,Q){return(Q||new vY).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsDecimal($,Q){return $.setPosition($.position()+N51.SIZE_PREFIX_LENGTH),(Q||new vY).__init($.readInt32($.position())+$.position(),$)}precision(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt32(this.bb_pos+$):0}scale(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.readInt32(this.bb_pos+$):0}bitWidth(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.readInt32(this.bb_pos+$):128}static startDecimal($){$.startObject(3)}static addPrecision($,Q){$.addFieldInt32(0,Q,0)}static addScale($,Q){$.addFieldInt32(1,Q,0)}static addBitWidth($,Q){$.addFieldInt32(2,Q,128)}static endDecimal($){return $.endObject()}static createDecimal($,Q,J,K){return vY.startDecimal($),vY.addPrecision($,Q),vY.addScale($,J),vY.addBitWidth($,K),vY.endDecimal($)}}WZ0.Decimal=vY});var nP=C0((HZ0)=>{Object.defineProperty(HZ0,"__esModule",{value:!0});HZ0.Duration=void 0;var B51=k5(),UZ0=TR();class wW{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsDuration($,Q){return(Q||new wW).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsDuration($,Q){return $.setPosition($.position()+B51.SIZE_PREFIX_LENGTH),(Q||new wW).__init($.readInt32($.position())+$.position(),$)}unit(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):UZ0.TimeUnit.MILLISECOND}static startDuration($){$.startObject(1)}static addUnit($,Q){$.addFieldInt16(0,Q,UZ0.TimeUnit.MILLISECOND)}static endDuration($){return $.endObject()}static createDuration($,Q){return wW.startDuration($),wW.addUnit($,Q),wW.endDuration($)}}HZ0.Duration=wW});var lP=C0((BZ0)=>{Object.defineProperty(BZ0,"__esModule",{value:!0});BZ0.FixedSizeBinary=void 0;var z51=k5();class TW{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsFixedSizeBinary($,Q){return(Q||new TW).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsFixedSizeBinary($,Q){return $.setPosition($.position()+z51.SIZE_PREFIX_LENGTH),(Q||new TW).__init($.readInt32($.position())+$.position(),$)}byteWidth(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt32(this.bb_pos+$):0}static startFixedSizeBinary($){$.startObject(1)}static addByteWidth($,Q){$.addFieldInt32(0,Q,0)}static endFixedSizeBinary($){return $.endObject()}static createFixedSizeBinary($,Q){return TW.startFixedSizeBinary($),TW.addByteWidth($,Q),TW.endFixedSizeBinary($)}}BZ0.FixedSizeBinary=TW});var rP=C0((AZ0)=>{Object.defineProperty(AZ0,"__esModule",{value:!0});AZ0.FixedSizeList=void 0;var A51=k5();class DW{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsFixedSizeList($,Q){return(Q||new DW).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsFixedSizeList($,Q){return $.setPosition($.position()+A51.SIZE_PREFIX_LENGTH),(Q||new DW).__init($.readInt32($.position())+$.position(),$)}listSize(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt32(this.bb_pos+$):0}static startFixedSizeList($){$.startObject(1)}static addListSize($,Q){$.addFieldInt32(0,Q,0)}static endFixedSizeList($){return $.endObject()}static createFixedSizeList($,Q){return DW.startFixedSizeList($),DW.addListSize($,Q),DW.endFixedSizeList($)}}AZ0.FixedSizeList=DW});var iP=C0((GZ0)=>{Object.defineProperty(GZ0,"__esModule",{value:!0});GZ0.FloatingPoint=void 0;var V51=k5(),RZ0=hx();class CW{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsFloatingPoint($,Q){return(Q||new CW).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsFloatingPoint($,Q){return $.setPosition($.position()+V51.SIZE_PREFIX_LENGTH),(Q||new CW).__init($.readInt32($.position())+$.position(),$)}precision(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):RZ0.Precision.HALF}static startFloatingPoint($){$.startObject(1)}static addPrecision($,Q){$.addFieldInt16(0,Q,RZ0.Precision.HALF)}static endFloatingPoint($){return $.endObject()}static createFloatingPoint($,Q){return CW.startFloatingPoint($),CW.addPrecision($,Q),CW.endFloatingPoint($)}}GZ0.FloatingPoint=CW});var sP=C0((TZ0)=>{Object.defineProperty(TZ0,"__esModule",{value:!0});TZ0.Interval=void 0;var R51=k5(),wZ0=Sx();class PW{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsInterval($,Q){return(Q||new PW).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsInterval($,Q){return $.setPosition($.position()+R51.SIZE_PREFIX_LENGTH),(Q||new PW).__init($.readInt32($.position())+$.position(),$)}unit(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):wZ0.IntervalUnit.YEAR_MONTH}static startInterval($){$.startObject(1)}static addUnit($,Q){$.addFieldInt16(0,Q,wZ0.IntervalUnit.YEAR_MONTH)}static endInterval($){return $.endObject()}static createInterval($,Q){return PW.startInterval($),PW.addUnit($,Q),PW.endInterval($)}}TZ0.Interval=PW});var dx=C0((CZ0)=>{Object.defineProperty(CZ0,"__esModule",{value:!0});CZ0.LargeBinary=void 0;var G51=k5();class RN{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsLargeBinary($,Q){return(Q||new RN).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsLargeBinary($,Q){return $.setPosition($.position()+G51.SIZE_PREFIX_LENGTH),(Q||new RN).__init($.readInt32($.position())+$.position(),$)}static startLargeBinary($){$.startObject(0)}static endLargeBinary($){return $.endObject()}static createLargeBinary($){return RN.startLargeBinary($),RN.endLargeBinary($)}}CZ0.LargeBinary=RN});var EZ0=C0((kZ0)=>{Object.defineProperty(kZ0,"__esModule",{value:!0});kZ0.LargeList=void 0;var O51=k5();class GN{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsLargeList($,Q){return(Q||new GN).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsLargeList($,Q){return $.setPosition($.position()+O51.SIZE_PREFIX_LENGTH),(Q||new GN).__init($.readInt32($.position())+$.position(),$)}static startLargeList($){$.startObject(0)}static endLargeList($){return $.endObject()}static createLargeList($){return GN.startLargeList($),GN.endLargeList($)}}kZ0.LargeList=GN});var nx=C0((LZ0)=>{Object.defineProperty(LZ0,"__esModule",{value:!0});LZ0.LargeUtf8=void 0;var w51=k5();class ON{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsLargeUtf8($,Q){return(Q||new ON).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsLargeUtf8($,Q){return $.setPosition($.position()+w51.SIZE_PREFIX_LENGTH),(Q||new ON).__init($.readInt32($.position())+$.position(),$)}static startLargeUtf8($){$.startObject(0)}static endLargeUtf8($){return $.endObject()}static createLargeUtf8($){return ON.startLargeUtf8($),ON.endLargeUtf8($)}}LZ0.LargeUtf8=ON});var lx=C0((vZ0)=>{Object.defineProperty(vZ0,"__esModule",{value:!0});vZ0.List=void 0;var T51=k5();class wN{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsList($,Q){return(Q||new wN).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsList($,Q){return $.setPosition($.position()+T51.SIZE_PREFIX_LENGTH),(Q||new wN).__init($.readInt32($.position())+$.position(),$)}static startList($){$.startObject(0)}static endList($){return $.endObject()}static createList($){return wN.startList($),wN.endList($)}}vZ0.List=wN});var oP=C0((_Z0)=>{Object.defineProperty(_Z0,"__esModule",{value:!0});_Z0.Map=void 0;var D51=k5();class kW{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsMap($,Q){return(Q||new kW).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsMap($,Q){return $.setPosition($.position()+D51.SIZE_PREFIX_LENGTH),(Q||new kW).__init($.readInt32($.position())+$.position(),$)}keysSorted(){let $=this.bb.__offset(this.bb_pos,4);return $?!!this.bb.readInt8(this.bb_pos+$):!1}static startMap($){$.startObject(1)}static addKeysSorted($,Q){$.addFieldInt8(0,+Q,0)}static endMap($){return $.endObject()}static createMap($,Q){return kW.startMap($),kW.addKeysSorted($,Q),kW.endMap($)}}_Z0.Map=kW});var rx=C0((IZ0)=>{Object.defineProperty(IZ0,"__esModule",{value:!0});IZ0.Null=void 0;var C51=k5();class TN{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsNull($,Q){return(Q||new TN).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsNull($,Q){return $.setPosition($.position()+C51.SIZE_PREFIX_LENGTH),(Q||new TN).__init($.readInt32($.position())+$.position(),$)}static startNull($){$.startObject(0)}static endNull($){return $.endObject()}static createNull($){return TN.startNull($),TN.endNull($)}}IZ0.Null=TN});var yZ0=C0((bZ0)=>{Object.defineProperty(bZ0,"__esModule",{value:!0});bZ0.RunEndEncoded=void 0;var P51=k5();class DN{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsRunEndEncoded($,Q){return(Q||new DN).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsRunEndEncoded($,Q){return $.setPosition($.position()+P51.SIZE_PREFIX_LENGTH),(Q||new DN).__init($.readInt32($.position())+$.position(),$)}static startRunEndEncoded($){$.startObject(0)}static endRunEndEncoded($){return $.endObject()}static createRunEndEncoded($){return DN.startRunEndEncoded($),DN.endRunEndEncoded($)}}bZ0.RunEndEncoded=DN});var ix=C0((xZ0)=>{Object.defineProperty(xZ0,"__esModule",{value:!0});xZ0.Struct_=void 0;var k51=k5();class CN{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsStruct_($,Q){return(Q||new CN).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsStruct_($,Q){return $.setPosition($.position()+k51.SIZE_PREFIX_LENGTH),(Q||new CN).__init($.readInt32($.position())+$.position(),$)}static startStruct_($){$.startObject(0)}static endStruct_($){return $.endObject()}static createStruct_($){return CN.startStruct_($),CN.endStruct_($)}}xZ0.Struct_=CN});var aP=C0((mZ0)=>{Object.defineProperty(mZ0,"__esModule",{value:!0});mZ0.Time=void 0;var j51=k5(),uZ0=TR();class vq{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsTime($,Q){return(Q||new vq).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsTime($,Q){return $.setPosition($.position()+j51.SIZE_PREFIX_LENGTH),(Q||new vq).__init($.readInt32($.position())+$.position(),$)}unit(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):uZ0.TimeUnit.MILLISECOND}bitWidth(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.readInt32(this.bb_pos+$):32}static startTime($){$.startObject(2)}static addUnit($,Q){$.addFieldInt16(0,Q,uZ0.TimeUnit.MILLISECOND)}static addBitWidth($,Q){$.addFieldInt32(1,Q,32)}static endTime($){return $.endObject()}static createTime($,Q,J){return vq.startTime($),vq.addUnit($,Q),vq.addBitWidth($,J),vq.endTime($)}}mZ0.Time=vq});var tP=C0((nZ0)=>{Object.defineProperty(nZ0,"__esModule",{value:!0});nZ0.Timestamp=void 0;var E51=k5(),dZ0=TR();class Sq{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsTimestamp($,Q){return(Q||new Sq).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsTimestamp($,Q){return $.setPosition($.position()+E51.SIZE_PREFIX_LENGTH),(Q||new Sq).__init($.readInt32($.position())+$.position(),$)}unit(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):dZ0.TimeUnit.SECOND}timezone($){let Q=this.bb.__offset(this.bb_pos,6);return Q?this.bb.__string(this.bb_pos+Q,$):null}static startTimestamp($){$.startObject(2)}static addUnit($,Q){$.addFieldInt16(0,Q,dZ0.TimeUnit.SECOND)}static addTimezone($,Q){$.addFieldOffset(1,Q,0)}static endTimestamp($){return $.endObject()}static createTimestamp($,Q,J){return Sq.startTimestamp($),Sq.addUnit($,Q),Sq.addTimezone($,J),Sq.endTimestamp($)}}nZ0.Timestamp=Sq});var eP=C0((iZ0)=>{Object.defineProperty(iZ0,"__esModule",{value:!0});iZ0.Union=void 0;var L51=k5(),rZ0=Lx();class _q{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsUnion($,Q){return(Q||new _q).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsUnion($,Q){return $.setPosition($.position()+L51.SIZE_PREFIX_LENGTH),(Q||new _q).__init($.readInt32($.position())+$.position(),$)}mode(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):rZ0.UnionMode.Sparse}typeIds($){let Q=this.bb.__offset(this.bb_pos,6);return Q?this.bb.readInt32(this.bb.__vector(this.bb_pos+Q)+$*4):0}typeIdsLength(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__vector_len(this.bb_pos+$):0}typeIdsArray(){let $=this.bb.__offset(this.bb_pos,6);return $?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+$),this.bb.__vector_len(this.bb_pos+$)):null}static startUnion($){$.startObject(2)}static addMode($,Q){$.addFieldInt16(0,Q,rZ0.UnionMode.Sparse)}static addTypeIds($,Q){$.addFieldOffset(1,Q,0)}static createTypeIdsVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addInt32(Q[J]);return $.endVector()}static startTypeIdsVector($,Q){$.startVector(4,Q,4)}static endUnion($){return $.endObject()}static createUnion($,Q,J){return _q.startUnion($),_q.addMode($,Q),_q.addTypeIds($,J),_q.endUnion($)}}iZ0.Union=_q});var sx=C0((oZ0)=>{Object.defineProperty(oZ0,"__esModule",{value:!0});oZ0.Utf8=void 0;var h51=k5();class PN{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsUtf8($,Q){return(Q||new PN).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsUtf8($,Q){return $.setPosition($.position()+h51.SIZE_PREFIX_LENGTH),(Q||new PN).__init($.readInt32($.position())+$.position(),$)}static startUtf8($){$.startObject(0)}static endUtf8($){return $.endObject()}static createUtf8($){return PN.startUtf8($),PN.endUtf8($)}}oZ0.Utf8=PN});var kN=C0((wq0)=>{Object.defineProperty(wq0,"__esModule",{value:!0});wq0.unionListToType=wq0.unionToType=wq0.Type=void 0;var tZ0=mx(),eZ0=px(),$q0=pP(),Qq0=dP(),Jq0=nP(),Kq0=lP(),Yq0=rP(),Zq0=iP(),qq0=Lq(),Xq0=sP(),Wq0=dx(),Fq0=EZ0(),Uq0=nx(),Hq0=lx(),Nq0=oP(),Bq0=rx(),zq0=yZ0(),Aq0=ix(),Vq0=aP(),Rq0=tP(),Gq0=eP(),Oq0=sx(),$k;(function($){$[$.NONE=0]="NONE",$[$.Null=1]="Null",$[$.Int=2]="Int",$[$.FloatingPoint=3]="FloatingPoint",$[$.Binary=4]="Binary",$[$.Utf8=5]="Utf8",$[$.Bool=6]="Bool",$[$.Decimal=7]="Decimal",$[$.Date=8]="Date",$[$.Time=9]="Time",$[$.Timestamp=10]="Timestamp",$[$.Interval=11]="Interval",$[$.List=12]="List",$[$.Struct_=13]="Struct_",$[$.Union=14]="Union",$[$.FixedSizeBinary=15]="FixedSizeBinary",$[$.FixedSizeList=16]="FixedSizeList",$[$.Map=17]="Map",$[$.Duration=18]="Duration",$[$.LargeBinary=19]="LargeBinary",$[$.LargeUtf8=20]="LargeUtf8",$[$.LargeList=21]="LargeList",$[$.RunEndEncoded=22]="RunEndEncoded"})($k||(wq0.Type=$k={}));function v51($,Q){switch($k[$]){case"NONE":return null;case"Null":return Q(new Bq0.Null);case"Int":return Q(new qq0.Int);case"FloatingPoint":return Q(new Zq0.FloatingPoint);case"Binary":return Q(new tZ0.Binary);case"Utf8":return Q(new Oq0.Utf8);case"Bool":return Q(new eZ0.Bool);case"Decimal":return Q(new Qq0.Decimal);case"Date":return Q(new $q0.Date);case"Time":return Q(new Vq0.Time);case"Timestamp":return Q(new Rq0.Timestamp);case"Interval":return Q(new Xq0.Interval);case"List":return Q(new Hq0.List);case"Struct_":return Q(new Aq0.Struct_);case"Union":return Q(new Gq0.Union);case"FixedSizeBinary":return Q(new Kq0.FixedSizeBinary);case"FixedSizeList":return Q(new Yq0.FixedSizeList);case"Map":return Q(new Nq0.Map);case"Duration":return Q(new Jq0.Duration);case"LargeBinary":return Q(new Wq0.LargeBinary);case"LargeUtf8":return Q(new Uq0.LargeUtf8);case"LargeList":return Q(new Fq0.LargeList);case"RunEndEncoded":return Q(new zq0.RunEndEncoded);default:return null}}wq0.unionToType=v51;function S51($,Q,J){switch($k[$]){case"NONE":return null;case"Null":return Q(J,new Bq0.Null);case"Int":return Q(J,new qq0.Int);case"FloatingPoint":return Q(J,new Zq0.FloatingPoint);case"Binary":return Q(J,new tZ0.Binary);case"Utf8":return Q(J,new Oq0.Utf8);case"Bool":return Q(J,new eZ0.Bool);case"Decimal":return Q(J,new Qq0.Decimal);case"Date":return Q(J,new $q0.Date);case"Time":return Q(J,new Vq0.Time);case"Timestamp":return Q(J,new Rq0.Timestamp);case"Interval":return Q(J,new Xq0.Interval);case"List":return Q(J,new Hq0.List);case"Struct_":return Q(J,new Aq0.Struct_);case"Union":return Q(J,new Gq0.Union);case"FixedSizeBinary":return Q(J,new Kq0.FixedSizeBinary);case"FixedSizeList":return Q(J,new Yq0.FixedSizeList);case"Map":return Q(J,new Nq0.Map);case"Duration":return Q(J,new Jq0.Duration);case"LargeBinary":return Q(J,new Wq0.LargeBinary);case"LargeUtf8":return Q(J,new Uq0.LargeUtf8);case"LargeList":return Q(J,new Fq0.LargeList);case"RunEndEncoded":return Q(J,new zq0.RunEndEncoded);default:return null}}wq0.unionListToType=S51});var ox=C0((Cq0)=>{Object.defineProperty(Cq0,"__esModule",{value:!0});Cq0.Field=void 0;var I51=k5(),M51=ux(),b51=zN(),Dq0=kN();class DR{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsField($,Q){return(Q||new DR).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsField($,Q){return $.setPosition($.position()+I51.SIZE_PREFIX_LENGTH),(Q||new DR).__init($.readInt32($.position())+$.position(),$)}name($){let Q=this.bb.__offset(this.bb_pos,4);return Q?this.bb.__string(this.bb_pos+Q,$):null}nullable(){let $=this.bb.__offset(this.bb_pos,6);return $?!!this.bb.readInt8(this.bb_pos+$):!1}typeType(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.readUint8(this.bb_pos+$):Dq0.Type.NONE}type($){let Q=this.bb.__offset(this.bb_pos,10);return Q?this.bb.__union($,this.bb_pos+Q):null}dictionary($){let Q=this.bb.__offset(this.bb_pos,12);return Q?($||new M51.DictionaryEncoding).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}children($,Q){let J=this.bb.__offset(this.bb_pos,14);return J?(Q||new DR).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}childrenLength(){let $=this.bb.__offset(this.bb_pos,14);return $?this.bb.__vector_len(this.bb_pos+$):0}customMetadata($,Q){let J=this.bb.__offset(this.bb_pos,16);return J?(Q||new b51.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}customMetadataLength(){let $=this.bb.__offset(this.bb_pos,16);return $?this.bb.__vector_len(this.bb_pos+$):0}static startField($){$.startObject(7)}static addName($,Q){$.addFieldOffset(0,Q,0)}static addNullable($,Q){$.addFieldInt8(1,+Q,0)}static addTypeType($,Q){$.addFieldInt8(2,Q,Dq0.Type.NONE)}static addType($,Q){$.addFieldOffset(3,Q,0)}static addDictionary($,Q){$.addFieldOffset(4,Q,0)}static addChildren($,Q){$.addFieldOffset(5,Q,0)}static createChildrenVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startChildrenVector($,Q){$.startVector(4,Q,4)}static addCustomMetadata($,Q){$.addFieldOffset(6,Q,0)}static createCustomMetadataVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startCustomMetadataVector($,Q){$.startVector(4,Q,4)}static endField($){return $.endObject()}}Cq0.Field=DR});var Qk=C0((jq0)=>{Object.defineProperty(jq0,"__esModule",{value:!0});jq0.Schema=void 0;var g51=k5(),kq0=cx(),y51=ox(),x51=zN();class uJ{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsSchema($,Q){return(Q||new uJ).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsSchema($,Q){return $.setPosition($.position()+g51.SIZE_PREFIX_LENGTH),(Q||new uJ).__init($.readInt32($.position())+$.position(),$)}endianness(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):kq0.Endianness.Little}fields($,Q){let J=this.bb.__offset(this.bb_pos,6);return J?(Q||new y51.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}fieldsLength(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__vector_len(this.bb_pos+$):0}customMetadata($,Q){let J=this.bb.__offset(this.bb_pos,8);return J?(Q||new x51.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}customMetadataLength(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.__vector_len(this.bb_pos+$):0}features($){let Q=this.bb.__offset(this.bb_pos,10);return Q?this.bb.readInt64(this.bb.__vector(this.bb_pos+Q)+$*8):BigInt(0)}featuresLength(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.__vector_len(this.bb_pos+$):0}static startSchema($){$.startObject(4)}static addEndianness($,Q){$.addFieldInt16(0,Q,kq0.Endianness.Little)}static addFields($,Q){$.addFieldOffset(1,Q,0)}static createFieldsVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startFieldsVector($,Q){$.startVector(4,Q,4)}static addCustomMetadata($,Q){$.addFieldOffset(2,Q,0)}static createCustomMetadataVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startCustomMetadataVector($,Q){$.startVector(4,Q,4)}static addFeatures($,Q){$.addFieldOffset(3,Q,0)}static createFeaturesVector($,Q){$.startVector(8,Q.length,8);for(let J=Q.length-1;J>=0;J--)$.addInt64(Q[J]);return $.endVector()}static startFeaturesVector($,Q){$.startVector(8,Q,8)}static endSchema($){return $.endObject()}static finishSchemaBuffer($,Q){$.finish(Q)}static finishSizePrefixedSchemaBuffer($,Q){$.finish(Q,void 0,!0)}static createSchema($,Q,J,K,Y){return uJ.startSchema($),uJ.addEndianness($,Q),uJ.addFields($,J),uJ.addCustomMetadata($,K),uJ.addFeatures($,Y),uJ.endSchema($)}}jq0.Schema=uJ});var Sq0=C0((hq0)=>{Object.defineProperty(hq0,"__esModule",{value:!0});hq0.SparseMatrixCompressedAxis=void 0;var Lq0;(function($){$[$.Row=0]="Row",$[$.Column=1]="Column"})(Lq0||(hq0.SparseMatrixCompressedAxis=Lq0={}))});var gq0=C0((Mq0)=>{Object.defineProperty(Mq0,"__esModule",{value:!0});Mq0.SparseMatrixIndexCSX=void 0;var c51=k5(),_q0=jq(),fq0=Lq(),Iq0=Sq0();class Jk{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsSparseMatrixIndexCSX($,Q){return(Q||new Jk).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsSparseMatrixIndexCSX($,Q){return $.setPosition($.position()+c51.SIZE_PREFIX_LENGTH),(Q||new Jk).__init($.readInt32($.position())+$.position(),$)}compressedAxis(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):Iq0.SparseMatrixCompressedAxis.Row}indptrType($){let Q=this.bb.__offset(this.bb_pos,6);return Q?($||new fq0.Int).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}indptrBuffer($){let Q=this.bb.__offset(this.bb_pos,8);return Q?($||new _q0.Buffer).__init(this.bb_pos+Q,this.bb):null}indicesType($){let Q=this.bb.__offset(this.bb_pos,10);return Q?($||new fq0.Int).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}indicesBuffer($){let Q=this.bb.__offset(this.bb_pos,12);return Q?($||new _q0.Buffer).__init(this.bb_pos+Q,this.bb):null}static startSparseMatrixIndexCSX($){$.startObject(5)}static addCompressedAxis($,Q){$.addFieldInt16(0,Q,Iq0.SparseMatrixCompressedAxis.Row)}static addIndptrType($,Q){$.addFieldOffset(1,Q,0)}static addIndptrBuffer($,Q){$.addFieldStruct(2,Q,0)}static addIndicesType($,Q){$.addFieldOffset(3,Q,0)}static addIndicesBuffer($,Q){$.addFieldStruct(4,Q,0)}static endSparseMatrixIndexCSX($){let Q=$.endObject();return $.requiredField(Q,6),$.requiredField(Q,8),$.requiredField(Q,10),$.requiredField(Q,12),Q}}Mq0.SparseMatrixIndexCSX=Jk});var cq0=C0((yq0)=>{Object.defineProperty(yq0,"__esModule",{value:!0});yq0.SparseTensorIndexCOO=void 0;var u51=k5(),m51=jq(),p51=Lq();class Kk{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsSparseTensorIndexCOO($,Q){return(Q||new Kk).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsSparseTensorIndexCOO($,Q){return $.setPosition($.position()+u51.SIZE_PREFIX_LENGTH),(Q||new Kk).__init($.readInt32($.position())+$.position(),$)}indicesType($){let Q=this.bb.__offset(this.bb_pos,4);return Q?($||new p51.Int).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}indicesStrides($){let Q=this.bb.__offset(this.bb_pos,6);return Q?this.bb.readInt64(this.bb.__vector(this.bb_pos+Q)+$*8):BigInt(0)}indicesStridesLength(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__vector_len(this.bb_pos+$):0}indicesBuffer($){let Q=this.bb.__offset(this.bb_pos,8);return Q?($||new m51.Buffer).__init(this.bb_pos+Q,this.bb):null}isCanonical(){let $=this.bb.__offset(this.bb_pos,10);return $?!!this.bb.readInt8(this.bb_pos+$):!1}static startSparseTensorIndexCOO($){$.startObject(4)}static addIndicesType($,Q){$.addFieldOffset(0,Q,0)}static addIndicesStrides($,Q){$.addFieldOffset(1,Q,0)}static createIndicesStridesVector($,Q){$.startVector(8,Q.length,8);for(let J=Q.length-1;J>=0;J--)$.addInt64(Q[J]);return $.endVector()}static startIndicesStridesVector($,Q){$.startVector(8,Q,8)}static addIndicesBuffer($,Q){$.addFieldStruct(2,Q,0)}static addIsCanonical($,Q){$.addFieldInt8(3,+Q,0)}static endSparseTensorIndexCOO($){let Q=$.endObject();return $.requiredField(Q,4),$.requiredField(Q,8),Q}}yq0.SparseTensorIndexCOO=Kk});var nq0=C0((pq0)=>{Object.defineProperty(pq0,"__esModule",{value:!0});pq0.SparseTensorIndexCSF=void 0;var d51=k5(),uq0=jq(),mq0=Lq();class Yk{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsSparseTensorIndexCSF($,Q){return(Q||new Yk).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsSparseTensorIndexCSF($,Q){return $.setPosition($.position()+d51.SIZE_PREFIX_LENGTH),(Q||new Yk).__init($.readInt32($.position())+$.position(),$)}indptrType($){let Q=this.bb.__offset(this.bb_pos,4);return Q?($||new mq0.Int).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}indptrBuffers($,Q){let J=this.bb.__offset(this.bb_pos,6);return J?(Q||new uq0.Buffer).__init(this.bb.__vector(this.bb_pos+J)+$*16,this.bb):null}indptrBuffersLength(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__vector_len(this.bb_pos+$):0}indicesType($){let Q=this.bb.__offset(this.bb_pos,8);return Q?($||new mq0.Int).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}indicesBuffers($,Q){let J=this.bb.__offset(this.bb_pos,10);return J?(Q||new uq0.Buffer).__init(this.bb.__vector(this.bb_pos+J)+$*16,this.bb):null}indicesBuffersLength(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.__vector_len(this.bb_pos+$):0}axisOrder($){let Q=this.bb.__offset(this.bb_pos,12);return Q?this.bb.readInt32(this.bb.__vector(this.bb_pos+Q)+$*4):0}axisOrderLength(){let $=this.bb.__offset(this.bb_pos,12);return $?this.bb.__vector_len(this.bb_pos+$):0}axisOrderArray(){let $=this.bb.__offset(this.bb_pos,12);return $?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+$),this.bb.__vector_len(this.bb_pos+$)):null}static startSparseTensorIndexCSF($){$.startObject(5)}static addIndptrType($,Q){$.addFieldOffset(0,Q,0)}static addIndptrBuffers($,Q){$.addFieldOffset(1,Q,0)}static startIndptrBuffersVector($,Q){$.startVector(16,Q,8)}static addIndicesType($,Q){$.addFieldOffset(2,Q,0)}static addIndicesBuffers($,Q){$.addFieldOffset(3,Q,0)}static startIndicesBuffersVector($,Q){$.startVector(16,Q,8)}static addAxisOrder($,Q){$.addFieldOffset(4,Q,0)}static createAxisOrderVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addInt32(Q[J]);return $.endVector()}static startAxisOrderVector($,Q){$.startVector(4,Q,4)}static endSparseTensorIndexCSF($){let Q=$.endObject();return $.requiredField(Q,4),$.requiredField(Q,6),$.requiredField(Q,8),$.requiredField(Q,10),$.requiredField(Q,12),Q}}pq0.SparseTensorIndexCSF=Yk});var aq0=C0((sq0)=>{Object.defineProperty(sq0,"__esModule",{value:!0});sq0.unionListToSparseTensorIndex=sq0.unionToSparseTensorIndex=sq0.SparseTensorIndex=void 0;var lq0=gq0(),rq0=cq0(),iq0=nq0(),Zk;(function($){$[$.NONE=0]="NONE",$[$.SparseTensorIndexCOO=1]="SparseTensorIndexCOO",$[$.SparseMatrixIndexCSX=2]="SparseMatrixIndexCSX",$[$.SparseTensorIndexCSF=3]="SparseTensorIndexCSF"})(Zk||(sq0.SparseTensorIndex=Zk={}));function n51($,Q){switch(Zk[$]){case"NONE":return null;case"SparseTensorIndexCOO":return Q(new rq0.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return Q(new lq0.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return Q(new iq0.SparseTensorIndexCSF);default:return null}}sq0.unionToSparseTensorIndex=n51;function l51($,Q,J){switch(Zk[$]){case"NONE":return null;case"SparseTensorIndexCOO":return Q(J,new rq0.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return Q(J,new lq0.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return Q(J,new iq0.SparseTensorIndexCSF);default:return null}}sq0.unionListToSparseTensorIndex=l51});var ax=C0((tq0)=>{Object.defineProperty(tq0,"__esModule",{value:!0});tq0.TensorDim=void 0;var s51=k5();class fq{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsTensorDim($,Q){return(Q||new fq).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsTensorDim($,Q){return $.setPosition($.position()+s51.SIZE_PREFIX_LENGTH),(Q||new fq).__init($.readInt32($.position())+$.position(),$)}size(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt64(this.bb_pos+$):BigInt("0")}name($){let Q=this.bb.__offset(this.bb_pos,6);return Q?this.bb.__string(this.bb_pos+Q,$):null}static startTensorDim($){$.startObject(2)}static addSize($,Q){$.addFieldInt64(0,Q,BigInt("0"))}static addName($,Q){$.addFieldOffset(1,Q,0)}static endTensorDim($){return $.endObject()}static createTensorDim($,Q,J){return fq.startTensorDim($),fq.addSize($,Q),fq.addName($,J),fq.endTensorDim($)}}tq0.TensorDim=fq});var YX0=C0((JX0)=>{Object.defineProperty(JX0,"__esModule",{value:!0});JX0.SparseTensor=void 0;var o51=k5(),a51=jq(),$X0=aq0(),t51=ax(),QX0=kN();class qk{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsSparseTensor($,Q){return(Q||new qk).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsSparseTensor($,Q){return $.setPosition($.position()+o51.SIZE_PREFIX_LENGTH),(Q||new qk).__init($.readInt32($.position())+$.position(),$)}typeType(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readUint8(this.bb_pos+$):QX0.Type.NONE}type($){let Q=this.bb.__offset(this.bb_pos,6);return Q?this.bb.__union($,this.bb_pos+Q):null}shape($,Q){let J=this.bb.__offset(this.bb_pos,8);return J?(Q||new t51.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}shapeLength(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.__vector_len(this.bb_pos+$):0}nonZeroLength(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.readInt64(this.bb_pos+$):BigInt("0")}sparseIndexType(){let $=this.bb.__offset(this.bb_pos,12);return $?this.bb.readUint8(this.bb_pos+$):$X0.SparseTensorIndex.NONE}sparseIndex($){let Q=this.bb.__offset(this.bb_pos,14);return Q?this.bb.__union($,this.bb_pos+Q):null}data($){let Q=this.bb.__offset(this.bb_pos,16);return Q?($||new a51.Buffer).__init(this.bb_pos+Q,this.bb):null}static startSparseTensor($){$.startObject(7)}static addTypeType($,Q){$.addFieldInt8(0,Q,QX0.Type.NONE)}static addType($,Q){$.addFieldOffset(1,Q,0)}static addShape($,Q){$.addFieldOffset(2,Q,0)}static createShapeVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startShapeVector($,Q){$.startVector(4,Q,4)}static addNonZeroLength($,Q){$.addFieldInt64(3,Q,BigInt("0"))}static addSparseIndexType($,Q){$.addFieldInt8(4,Q,$X0.SparseTensorIndex.NONE)}static addSparseIndex($,Q){$.addFieldOffset(5,Q,0)}static addData($,Q){$.addFieldStruct(6,Q,0)}static endSparseTensor($){let Q=$.endObject();return $.requiredField(Q,6),$.requiredField(Q,8),$.requiredField(Q,14),$.requiredField(Q,16),Q}static finishSparseTensorBuffer($,Q){$.finish(Q)}static finishSizePrefixedSparseTensorBuffer($,Q){$.finish(Q,void 0,!0)}}JX0.SparseTensor=qk});var WX0=C0((qX0)=>{Object.defineProperty(qX0,"__esModule",{value:!0});qX0.Tensor=void 0;var e51=k5(),$61=jq(),Q61=ax(),ZX0=kN();class Xk{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsTensor($,Q){return(Q||new Xk).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsTensor($,Q){return $.setPosition($.position()+e51.SIZE_PREFIX_LENGTH),(Q||new Xk).__init($.readInt32($.position())+$.position(),$)}typeType(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readUint8(this.bb_pos+$):ZX0.Type.NONE}type($){let Q=this.bb.__offset(this.bb_pos,6);return Q?this.bb.__union($,this.bb_pos+Q):null}shape($,Q){let J=this.bb.__offset(this.bb_pos,8);return J?(Q||new Q61.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}shapeLength(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.__vector_len(this.bb_pos+$):0}strides($){let Q=this.bb.__offset(this.bb_pos,10);return Q?this.bb.readInt64(this.bb.__vector(this.bb_pos+Q)+$*8):BigInt(0)}stridesLength(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.__vector_len(this.bb_pos+$):0}data($){let Q=this.bb.__offset(this.bb_pos,12);return Q?($||new $61.Buffer).__init(this.bb_pos+Q,this.bb):null}static startTensor($){$.startObject(5)}static addTypeType($,Q){$.addFieldInt8(0,Q,ZX0.Type.NONE)}static addType($,Q){$.addFieldOffset(1,Q,0)}static addShape($,Q){$.addFieldOffset(2,Q,0)}static createShapeVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startShapeVector($,Q){$.startVector(4,Q,4)}static addStrides($,Q){$.addFieldOffset(3,Q,0)}static createStridesVector($,Q){$.startVector(8,Q.length,8);for(let J=Q.length-1;J>=0;J--)$.addInt64(Q[J]);return $.endVector()}static startStridesVector($,Q){$.startVector(8,Q,8)}static addData($,Q){$.addFieldStruct(4,Q,0)}static endTensor($){let Q=$.endObject();return $.requiredField(Q,6),$.requiredField(Q,8),$.requiredField(Q,12),Q}static finishTensorBuffer($,Q){$.finish(Q)}static finishSizePrefixedTensorBuffer($,Q){$.finish(Q,void 0,!0)}}qX0.Tensor=Xk});var Fk=C0((zX0)=>{Object.defineProperty(zX0,"__esModule",{value:!0});zX0.unionListToMessageHeader=zX0.unionToMessageHeader=zX0.MessageHeader=void 0;var FX0=xx(),UX0=cP(),HX0=Qk(),NX0=YX0(),BX0=WX0(),Wk;(function($){$[$.NONE=0]="NONE",$[$.Schema=1]="Schema",$[$.DictionaryBatch=2]="DictionaryBatch",$[$.RecordBatch=3]="RecordBatch",$[$.Tensor=4]="Tensor",$[$.SparseTensor=5]="SparseTensor"})(Wk||(zX0.MessageHeader=Wk={}));function J61($,Q){switch(Wk[$]){case"NONE":return null;case"Schema":return Q(new HX0.Schema);case"DictionaryBatch":return Q(new FX0.DictionaryBatch);case"RecordBatch":return Q(new UX0.RecordBatch);case"Tensor":return Q(new BX0.Tensor);case"SparseTensor":return Q(new NX0.SparseTensor);default:return null}}zX0.unionToMessageHeader=J61;function K61($,Q,J){switch(Wk[$]){case"NONE":return null;case"Schema":return Q(J,new HX0.Schema);case"DictionaryBatch":return Q(J,new FX0.DictionaryBatch);case"RecordBatch":return Q(J,new UX0.RecordBatch);case"Tensor":return Q(J,new BX0.Tensor);case"SparseTensor":return Q(J,new NX0.SparseTensor);default:return null}}zX0.unionListToMessageHeader=K61});var A7=C0((SY)=>{Object.defineProperty(SY,"__esModule",{value:!0});SY.BufferType=SY.Type=SY.MessageHeader=SY.IntervalUnit=SY.TimeUnit=SY.DateUnit=SY.Precision=SY.UnionMode=SY.MetadataVersion=void 0;var q61=gP();Object.defineProperty(SY,"MetadataVersion",{enumerable:!0,get:function(){return q61.MetadataVersion}});var X61=Lx();Object.defineProperty(SY,"UnionMode",{enumerable:!0,get:function(){return X61.UnionMode}});var W61=hx();Object.defineProperty(SY,"Precision",{enumerable:!0,get:function(){return W61.Precision}});var F61=vx();Object.defineProperty(SY,"DateUnit",{enumerable:!0,get:function(){return F61.DateUnit}});var U61=TR();Object.defineProperty(SY,"TimeUnit",{enumerable:!0,get:function(){return U61.TimeUnit}});var H61=Sx();Object.defineProperty(SY,"IntervalUnit",{enumerable:!0,get:function(){return H61.IntervalUnit}});var N61=Fk();Object.defineProperty(SY,"MessageHeader",{enumerable:!0,get:function(){return N61.MessageHeader}});var VX0;(function($){$[$.NONE=0]="NONE",$[$.Null=1]="Null",$[$.Int=2]="Int",$[$.Float=3]="Float",$[$.Binary=4]="Binary",$[$.Utf8=5]="Utf8",$[$.Bool=6]="Bool",$[$.Decimal=7]="Decimal",$[$.Date=8]="Date",$[$.Time=9]="Time",$[$.Timestamp=10]="Timestamp",$[$.Interval=11]="Interval",$[$.List=12]="List",$[$.Struct=13]="Struct",$[$.Union=14]="Union",$[$.FixedSizeBinary=15]="FixedSizeBinary",$[$.FixedSizeList=16]="FixedSizeList",$[$.Map=17]="Map",$[$.Duration=18]="Duration",$[$.LargeBinary=19]="LargeBinary",$[$.LargeUtf8=20]="LargeUtf8",$[$.Dictionary=-1]="Dictionary",$[$.Int8=-2]="Int8",$[$.Int16=-3]="Int16",$[$.Int32=-4]="Int32",$[$.Int64=-5]="Int64",$[$.Uint8=-6]="Uint8",$[$.Uint16=-7]="Uint16",$[$.Uint32=-8]="Uint32",$[$.Uint64=-9]="Uint64",$[$.Float16=-10]="Float16",$[$.Float32=-11]="Float32",$[$.Float64=-12]="Float64",$[$.DateDay=-13]="DateDay",$[$.DateMillisecond=-14]="DateMillisecond",$[$.TimestampSecond=-15]="TimestampSecond",$[$.TimestampMillisecond=-16]="TimestampMillisecond",$[$.TimestampMicrosecond=-17]="TimestampMicrosecond",$[$.TimestampNanosecond=-18]="TimestampNanosecond",$[$.TimeSecond=-19]="TimeSecond",$[$.TimeMillisecond=-20]="TimeMillisecond",$[$.TimeMicrosecond=-21]="TimeMicrosecond",$[$.TimeNanosecond=-22]="TimeNanosecond",$[$.DenseUnion=-23]="DenseUnion",$[$.SparseUnion=-24]="SparseUnion",$[$.IntervalDayTime=-25]="IntervalDayTime",$[$.IntervalYearMonth=-26]="IntervalYearMonth",$[$.DurationSecond=-27]="DurationSecond",$[$.DurationMillisecond=-28]="DurationMillisecond",$[$.DurationMicrosecond=-29]="DurationMicrosecond",$[$.DurationNanosecond=-30]="DurationNanosecond"})(VX0||(SY.Type=VX0={}));var RX0;(function($){$[$.OFFSET=0]="OFFSET",$[$.DATA=1]="DATA",$[$.VALIDITY=2]="VALIDITY",$[$.TYPE=3]="TYPE"})(RX0||(SY.BufferType=RX0={}))});var CR=C0((wX0)=>{Object.defineProperty(wX0,"__esModule",{value:!0});wX0.valueToString=void 0;var z61=void 0;function OX0($){if($===null)return"null";if($===z61)return"undefined";switch(typeof $){case"number":return`${$}`;case"bigint":return`${$}`;case"string":return`"${$}"`}if(typeof $[Symbol.toPrimitive]==="function")return $[Symbol.toPrimitive]("string");if(ArrayBuffer.isView($)){if($ instanceof BigInt64Array||$ instanceof BigUint64Array)return`[${[...$].map((Q)=>OX0(Q))}]`;return`[${$}]`}return ArrayBuffer.isView($)?`[${$}]`:JSON.stringify($,(Q,J)=>typeof J==="bigint"?`${J}`:J)}wX0.valueToString=OX0});var Iq=C0((DX0)=>{Object.defineProperty(DX0,"__esModule",{value:!0});DX0.divideBigInts=DX0.bigIntToNumber=void 0;function Uk($){if(typeof $==="bigint"&&($<Number.MIN_SAFE_INTEGER||$>Number.MAX_SAFE_INTEGER))throw TypeError(`${$} is not safe to convert to a number.`);return Number($)}DX0.bigIntToNumber=Uk;function A61($,Q){return Uk($/Q)+Uk($%Q)/Uk(Q)}DX0.divideBigInts=A61});var Nk=C0((kX0)=>{Object.defineProperty(kX0,"__esModule",{value:!0});kX0.BN=kX0.bigNumToBigInt=kX0.bigNumToString=kX0.bigNumToNumber=kX0.isArrowBigNumSymbol=void 0;var R61=T8(),Hk=Iq();kX0.isArrowBigNumSymbol=Symbol.for("isArrowBigNum");function TQ($,...Q){if(Q.length===0)return Object.setPrototypeOf((0,R61.toArrayBufferView)(this.TypedArray,$),this.constructor.prototype);return Object.setPrototypeOf(new this.TypedArray($,...Q),this.constructor.prototype)}TQ.prototype[kX0.isArrowBigNumSymbol]=!0;TQ.prototype.toJSON=function(){return`"${LN(this)}"`};TQ.prototype.valueOf=function($){return ex(this,$)};TQ.prototype.toString=function(){return LN(this)};TQ.prototype[Symbol.toPrimitive]=function($="default"){switch($){case"number":return ex(this);case"string":return LN(this);case"default":return PX0(this)}return LN(this)};function jN(...$){return TQ.apply(this,$)}function EN(...$){return TQ.apply(this,$)}function PR(...$){return TQ.apply(this,$)}Object.setPrototypeOf(jN.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(EN.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(PR.prototype,Object.create(Uint32Array.prototype));Object.assign(jN.prototype,TQ.prototype,{constructor:jN,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(EN.prototype,TQ.prototype,{constructor:EN,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(PR.prototype,TQ.prototype,{constructor:PR,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});var G61=BigInt(4294967296)*BigInt(4294967296),O61=G61-BigInt(1);function ex($,Q){let{buffer:J,byteOffset:K,byteLength:Y,signed:Z}=$,q=new BigUint64Array(J,K,Y/8),X=Z&&q.at(-1)&BigInt(1)<<BigInt(63),W=BigInt(0),F=0;if(X){for(let H of q)W|=(H^O61)*(BigInt(1)<<BigInt(64*F++));W*=BigInt(-1),W-=BigInt(1)}else for(let H of q)W|=H*(BigInt(1)<<BigInt(64*F++));if(typeof Q==="number"){let H=BigInt(Math.pow(10,Q)),B=W/H,z=W%H;return(0,Hk.bigIntToNumber)(B)+(0,Hk.bigIntToNumber)(z)/(0,Hk.bigIntToNumber)(H)}return(0,Hk.bigIntToNumber)(W)}kX0.bigNumToNumber=ex;function LN($){if($.byteLength===8)return`${new $.BigIntArray($.buffer,$.byteOffset,1)[0]}`;if(!$.signed)return tx($);let Q=new Uint16Array($.buffer,$.byteOffset,$.byteLength/2);if(new Int16Array([Q.at(-1)])[0]>=0)return tx($);Q=Q.slice();let K=1;for(let Z=0;Z<Q.length;Z++){let q=Q[Z],X=~q+K;Q[Z]=X,K&=q===0?1:0}return`-${tx(Q)}`}kX0.bigNumToString=LN;function PX0($){if($.byteLength===8)return new $.BigIntArray($.buffer,$.byteOffset,1)[0];else return LN($)}kX0.bigNumToBigInt=PX0;function tx($){let Q="",J=new Uint32Array(2),K=new Uint16Array($.buffer,$.byteOffset,$.byteLength/2),Y=new Uint32Array((K=new Uint16Array(K).reverse()).buffer),Z=-1,q=K.length-1;do{for(J[0]=K[Z=0];Z<q;)K[Z++]=J[1]=J[0]/10,J[0]=(J[0]-J[1]*10<<16)+K[Z];K[Z]=J[1]=J[0]/10,J[0]=J[0]-J[1]*10,Q=`${J[0]}${Q}`}while(Y[0]||Y[1]||Y[2]||Y[3]);return Q!==null&&Q!==void 0?Q:"0"}class $c{static new($,Q){switch(Q){case!0:return new jN($);case!1:return new EN($)}switch($.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new jN($)}if($.byteLength===16)return new PR($);return new EN($)}static signed($){return new jN($)}static unsigned($){return new EN($)}static decimal($){return new PR($)}constructor($,Q){return $c.new($,Q)}}kX0.BN=$c});var i6=C0((z20)=>{var LX0,hX0,vX0,SX0,_X0,fX0,IX0,MX0,bX0,gX0,yX0,xX0,cX0,uX0,mX0,pX0,dX0,nX0,lX0,rX0,iX0,sX0;Object.defineProperty(z20,"__esModule",{value:!0});z20.Map_=z20.FixedSizeList=z20.FixedSizeBinary=z20.SparseUnion=z20.DenseUnion=z20.Union=z20.Struct=z20.List=z20.DurationNanosecond=z20.DurationMicrosecond=z20.DurationMillisecond=z20.DurationSecond=z20.Duration=z20.IntervalYearMonth=z20.IntervalDayTime=z20.Interval=z20.TimestampNanosecond=z20.TimestampMicrosecond=z20.TimestampMillisecond=z20.TimestampSecond=z20.Timestamp=z20.TimeNanosecond=z20.TimeMicrosecond=z20.TimeMillisecond=z20.TimeSecond=z20.Time=z20.DateMillisecond=z20.DateDay=z20.Date_=z20.Decimal=z20.Bool=z20.LargeUtf8=z20.Utf8=z20.LargeBinary=z20.Binary=z20.Float64=z20.Float32=z20.Float16=z20.Float=z20.Uint64=z20.Uint32=z20.Uint16=z20.Uint8=z20.Int64=z20.Int32=z20.Int16=z20.Int8=z20.Int=z20.Null=z20.DataType=void 0;z20.strideForType=z20.Dictionary=void 0;var C61=Iq(),U1=A7();class M6{static isNull($){return($===null||$===void 0?void 0:$.typeId)===U1.Type.Null}static isInt($){return($===null||$===void 0?void 0:$.typeId)===U1.Type.Int}static isFloat($){return($===null||$===void 0?void 0:$.typeId)===U1.Type.Float}static isBinary($){return($===null||$===void 0?void 0:$.typeId)===U1.Type.Binary}static isLargeBinary($){return($===null||$===void 0?void 0:$.typeId)===U1.Type.LargeBinary}static isUtf8($){return($===null||$===void 0?void 0:$.typeId)===U1.Type.Utf8}static isLargeUtf8($){return($===null||$===void 0?void 0:$.typeId)===U1.Type.LargeUtf8}static isBool($){return($===null||$===void 0?void 0:$.typeId)===U1.Type.Bool}static isDecimal($){return($===null||$===void 0?void 0:$.typeId)===U1.Type.Decimal}static isDate($){return($===null||$===void 0?void 0:$.typeId)===U1.Type.Date}static isTime($){return($===null||$===void 0?void 0:$.typeId)===U1.Type.Time}static isTimestamp($){return($===null||$===void 0?void 0:$.typeId)===U1.Type.Timestamp}static isInterval($){return($===null||$===void 0?void 0:$.typeId)===U1.Type.Interval}static isDuration($){return($===null||$===void 0?void 0:$.typeId)===U1.Type.Duration}static isList($){return($===null||$===void 0?void 0:$.typeId)===U1.Type.List}static isStruct($){return($===null||$===void 0?void 0:$.typeId)===U1.Type.Struct}static isUnion($){return($===null||$===void 0?void 0:$.typeId)===U1.Type.Union}static isFixedSizeBinary($){return($===null||$===void 0?void 0:$.typeId)===U1.Type.FixedSizeBinary}static isFixedSizeList($){return($===null||$===void 0?void 0:$.typeId)===U1.Type.FixedSizeList}static isMap($){return($===null||$===void 0?void 0:$.typeId)===U1.Type.Map}static isDictionary($){return($===null||$===void 0?void 0:$.typeId)===U1.Type.Dictionary}static isDenseUnion($){return M6.isUnion($)&&$.mode===U1.UnionMode.Dense}static isSparseUnion($){return M6.isUnion($)&&$.mode===U1.UnionMode.Sparse}constructor($){this.typeId=$}}z20.DataType=M6;LX0=Symbol.toStringTag;M6[LX0]=(($)=>{return $.children=null,$.ArrayType=Array,$.OffsetArrayType=Int32Array,$[Symbol.toStringTag]="DataType"})(M6.prototype);class Bk extends M6{constructor(){super(U1.Type.Null)}toString(){return"Null"}}z20.Null=Bk;hX0=Symbol.toStringTag;Bk[hX0]=(($)=>$[Symbol.toStringTag]="Null")(Bk.prototype);class Y$ extends M6{constructor($,Q){super(U1.Type.Int);this.isSigned=$,this.bitWidth=Q}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}z20.Int=Y$;vX0=Symbol.toStringTag;Y$[vX0]=(($)=>{return $.isSigned=null,$.bitWidth=null,$[Symbol.toStringTag]="Int"})(Y$.prototype);class Qc extends Y${constructor(){super(!0,8)}get ArrayType(){return Int8Array}}z20.Int8=Qc;class Jc extends Y${constructor(){super(!0,16)}get ArrayType(){return Int16Array}}z20.Int16=Jc;class Kc extends Y${constructor(){super(!0,32)}get ArrayType(){return Int32Array}}z20.Int32=Kc;class Yc extends Y${constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}z20.Int64=Yc;class Zc extends Y${constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}z20.Uint8=Zc;class qc extends Y${constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}z20.Uint16=qc;class Xc extends Y${constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}z20.Uint32=Xc;class Wc extends Y${constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}z20.Uint64=Wc;Object.defineProperty(Qc.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(Jc.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(Kc.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(Yc.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(Zc.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(qc.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(Xc.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(Wc.prototype,"ArrayType",{value:BigUint64Array});class jW extends M6{constructor($){super(U1.Type.Float);this.precision=$}get ArrayType(){switch(this.precision){case U1.Precision.HALF:return Uint16Array;case U1.Precision.SINGLE:return Float32Array;case U1.Precision.DOUBLE:return Float64Array}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}z20.Float=jW;SX0=Symbol.toStringTag;jW[SX0]=(($)=>{return $.precision=null,$[Symbol.toStringTag]="Float"})(jW.prototype);class Fc extends jW{constructor(){super(U1.Precision.HALF)}}z20.Float16=Fc;class Uc extends jW{constructor(){super(U1.Precision.SINGLE)}}z20.Float32=Uc;class Hc extends jW{constructor(){super(U1.Precision.DOUBLE)}}z20.Float64=Hc;Object.defineProperty(Fc.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(Uc.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(Hc.prototype,"ArrayType",{value:Float64Array});class zk extends M6{constructor(){super(U1.Type.Binary)}toString(){return"Binary"}}z20.Binary=zk;_X0=Symbol.toStringTag;zk[_X0]=(($)=>{return $.ArrayType=Uint8Array,$[Symbol.toStringTag]="Binary"})(zk.prototype);class Ak extends M6{constructor(){super(U1.Type.LargeBinary)}toString(){return"LargeBinary"}}z20.LargeBinary=Ak;fX0=Symbol.toStringTag;Ak[fX0]=(($)=>{return $.ArrayType=Uint8Array,$.OffsetArrayType=BigInt64Array,$[Symbol.toStringTag]="LargeBinary"})(Ak.prototype);class Vk extends M6{constructor(){super(U1.Type.Utf8)}toString(){return"Utf8"}}z20.Utf8=Vk;IX0=Symbol.toStringTag;Vk[IX0]=(($)=>{return $.ArrayType=Uint8Array,$[Symbol.toStringTag]="Utf8"})(Vk.prototype);class Rk extends M6{constructor(){super(U1.Type.LargeUtf8)}toString(){return"LargeUtf8"}}z20.LargeUtf8=Rk;MX0=Symbol.toStringTag;Rk[MX0]=(($)=>{return $.ArrayType=Uint8Array,$.OffsetArrayType=BigInt64Array,$[Symbol.toStringTag]="LargeUtf8"})(Rk.prototype);class Gk extends M6{constructor(){super(U1.Type.Bool)}toString(){return"Bool"}}z20.Bool=Gk;bX0=Symbol.toStringTag;Gk[bX0]=(($)=>{return $.ArrayType=Uint8Array,$[Symbol.toStringTag]="Bool"})(Gk.prototype);class Ok extends M6{constructor($,Q,J=128){super(U1.Type.Decimal);this.scale=$,this.precision=Q,this.bitWidth=J}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}z20.Decimal=Ok;gX0=Symbol.toStringTag;Ok[gX0]=(($)=>{return $.scale=null,$.precision=null,$.ArrayType=Uint32Array,$[Symbol.toStringTag]="Decimal"})(Ok.prototype);class hN extends M6{constructor($){super(U1.Type.Date);this.unit=$}toString(){return`Date${(this.unit+1)*32}<${U1.DateUnit[this.unit]}>`}get ArrayType(){return this.unit===U1.DateUnit.DAY?Int32Array:BigInt64Array}}z20.Date_=hN;yX0=Symbol.toStringTag;hN[yX0]=(($)=>{return $.unit=null,$[Symbol.toStringTag]="Date"})(hN.prototype);class oX0 extends hN{constructor(){super(U1.DateUnit.DAY)}}z20.DateDay=oX0;class aX0 extends hN{constructor(){super(U1.DateUnit.MILLISECOND)}}z20.DateMillisecond=aX0;class Mq extends M6{constructor($,Q){super(U1.Type.Time);this.unit=$,this.bitWidth=Q}toString(){return`Time${this.bitWidth}<${U1.TimeUnit[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}z20.Time=Mq;xX0=Symbol.toStringTag;Mq[xX0]=(($)=>{return $.unit=null,$.bitWidth=null,$[Symbol.toStringTag]="Time"})(Mq.prototype);class tX0 extends Mq{constructor(){super(U1.TimeUnit.SECOND,32)}}z20.TimeSecond=tX0;class eX0 extends Mq{constructor(){super(U1.TimeUnit.MILLISECOND,32)}}z20.TimeMillisecond=eX0;class $20 extends Mq{constructor(){super(U1.TimeUnit.MICROSECOND,64)}}z20.TimeMicrosecond=$20;class Q20 extends Mq{constructor(){super(U1.TimeUnit.NANOSECOND,64)}}z20.TimeNanosecond=Q20;class bq extends M6{constructor($,Q){super(U1.Type.Timestamp);this.unit=$,this.timezone=Q}toString(){return`Timestamp<${U1.TimeUnit[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}z20.Timestamp=bq;cX0=Symbol.toStringTag;bq[cX0]=(($)=>{return $.unit=null,$.timezone=null,$.ArrayType=BigInt64Array,$[Symbol.toStringTag]="Timestamp"})(bq.prototype);class J20 extends bq{constructor($){super(U1.TimeUnit.SECOND,$)}}z20.TimestampSecond=J20;class K20 extends bq{constructor($){super(U1.TimeUnit.MILLISECOND,$)}}z20.TimestampMillisecond=K20;class Y20 extends bq{constructor($){super(U1.TimeUnit.MICROSECOND,$)}}z20.TimestampMicrosecond=Y20;class Z20 extends bq{constructor($){super(U1.TimeUnit.NANOSECOND,$)}}z20.TimestampNanosecond=Z20;class vN extends M6{constructor($){super(U1.Type.Interval);this.unit=$}toString(){return`Interval<${U1.IntervalUnit[this.unit]}>`}}z20.Interval=vN;uX0=Symbol.toStringTag;vN[uX0]=(($)=>{return $.unit=null,$.ArrayType=Int32Array,$[Symbol.toStringTag]="Interval"})(vN.prototype);class q20 extends vN{constructor(){super(U1.IntervalUnit.DAY_TIME)}}z20.IntervalDayTime=q20;class X20 extends vN{constructor(){super(U1.IntervalUnit.YEAR_MONTH)}}z20.IntervalYearMonth=X20;class gq extends M6{constructor($){super(U1.Type.Duration);this.unit=$}toString(){return`Duration<${U1.TimeUnit[this.unit]}>`}}z20.Duration=gq;mX0=Symbol.toStringTag;gq[mX0]=(($)=>{return $.unit=null,$.ArrayType=BigInt64Array,$[Symbol.toStringTag]="Duration"})(gq.prototype);class W20 extends gq{constructor(){super(U1.TimeUnit.SECOND)}}z20.DurationSecond=W20;class F20 extends gq{constructor(){super(U1.TimeUnit.MILLISECOND)}}z20.DurationMillisecond=F20;class U20 extends gq{constructor(){super(U1.TimeUnit.MICROSECOND)}}z20.DurationMicrosecond=U20;class H20 extends gq{constructor(){super(U1.TimeUnit.NANOSECOND)}}z20.DurationNanosecond=H20;class wk extends M6{constructor($){super(U1.Type.List);this.children=[$]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}z20.List=wk;pX0=Symbol.toStringTag;wk[pX0]=(($)=>{return $.children=null,$[Symbol.toStringTag]="List"})(wk.prototype);class Tk extends M6{constructor($){super(U1.Type.Struct);this.children=$}toString(){return`Struct<{${this.children.map(($)=>`${$.name}:${$.type}`).join(", ")}}>`}}z20.Struct=Tk;dX0=Symbol.toStringTag;Tk[dX0]=(($)=>{return $.children=null,$[Symbol.toStringTag]="Struct"})(Tk.prototype);class SN extends M6{constructor($,Q,J){super(U1.Type.Union);this.mode=$,this.children=J,this.typeIds=Q=Int32Array.from(Q),this.typeIdToChildIndex=Q.reduce((K,Y,Z)=>(K[Y]=Z)&&K||K,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(($)=>`${$.type}`).join(" | ")}>`}}z20.Union=SN;nX0=Symbol.toStringTag;SN[nX0]=(($)=>{return $.mode=null,$.typeIds=null,$.children=null,$.typeIdToChildIndex=null,$.ArrayType=Int8Array,$[Symbol.toStringTag]="Union"})(SN.prototype);class N20 extends SN{constructor($,Q){super(U1.UnionMode.Dense,$,Q)}}z20.DenseUnion=N20;class B20 extends SN{constructor($,Q){super(U1.UnionMode.Sparse,$,Q)}}z20.SparseUnion=B20;class Dk extends M6{constructor($){super(U1.Type.FixedSizeBinary);this.byteWidth=$}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}z20.FixedSizeBinary=Dk;lX0=Symbol.toStringTag;Dk[lX0]=(($)=>{return $.byteWidth=null,$.ArrayType=Uint8Array,$[Symbol.toStringTag]="FixedSizeBinary"})(Dk.prototype);class Ck extends M6{constructor($,Q){super(U1.Type.FixedSizeList);this.listSize=$,this.children=[Q]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}z20.FixedSizeList=Ck;rX0=Symbol.toStringTag;Ck[rX0]=(($)=>{return $.children=null,$.listSize=null,$[Symbol.toStringTag]="FixedSizeList"})(Ck.prototype);class Pk extends M6{constructor($,Q=!1){var J,K,Y;super(U1.Type.Map);if(this.children=[$],this.keysSorted=Q,$){if($.name="entries",(J=$===null||$===void 0?void 0:$.type)===null||J===void 0?void 0:J.children){let Z=(K=$===null||$===void 0?void 0:$.type)===null||K===void 0?void 0:K.children[0];if(Z)Z.name="key";let q=(Y=$===null||$===void 0?void 0:$.type)===null||Y===void 0?void 0:Y.children[1];if(q)q.name="value"}}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(($)=>`${$.name}:${$.type}`).join(", ")}}>`}}z20.Map_=Pk;iX0=Symbol.toStringTag;Pk[iX0]=(($)=>{return $.children=null,$.keysSorted=null,$[Symbol.toStringTag]="Map_"})(Pk.prototype);var P61=(($)=>()=>++$)(-1);class kk extends M6{constructor($,Q,J,K){super(U1.Type.Dictionary);this.indices=Q,this.dictionary=$,this.isOrdered=K||!1,this.id=J==null?P61():(0,C61.bigIntToNumber)(J)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}z20.Dictionary=kk;sX0=Symbol.toStringTag;kk[sX0]=(($)=>{return $.id=null,$.indices=null,$.isOrdered=null,$.dictionary=null,$[Symbol.toStringTag]="Dictionary"})(kk.prototype);function k61($){let Q=$;switch($.typeId){case U1.Type.Decimal:return $.bitWidth/32;case U1.Type.Interval:return 1+Q.unit;case U1.Type.FixedSizeList:return Q.listSize;case U1.Type.FixedSizeBinary:return Q.byteWidth;default:return 1}}z20.strideForType=k61});var O9=C0((O20)=>{Object.defineProperty(O20,"__esModule",{value:!0});O20.Visitor=void 0;var D0=A7(),R20=i6();class Y6{visitMany($,...Q){return $.map((J,K)=>this.visit(J,...Q.map((Y)=>Y[K])))}visit(...$){return this.getVisitFn($[0],!1).apply(this,$)}getVisitFn($,Q=!0){return D71(this,$,Q)}getVisitFnByTypeId($,Q=!0){return _N(this,$,Q)}visitNull($,...Q){return null}visitBool($,...Q){return null}visitInt($,...Q){return null}visitFloat($,...Q){return null}visitUtf8($,...Q){return null}visitLargeUtf8($,...Q){return null}visitBinary($,...Q){return null}visitLargeBinary($,...Q){return null}visitFixedSizeBinary($,...Q){return null}visitDate($,...Q){return null}visitTimestamp($,...Q){return null}visitTime($,...Q){return null}visitDecimal($,...Q){return null}visitList($,...Q){return null}visitStruct($,...Q){return null}visitUnion($,...Q){return null}visitDictionary($,...Q){return null}visitInterval($,...Q){return null}visitDuration($,...Q){return null}visitFixedSizeList($,...Q){return null}visitMap($,...Q){return null}}O20.Visitor=Y6;function D71($,Q,J=!0){if(typeof Q==="number")return _N($,Q,J);if(typeof Q==="string"&&Q in D0.Type)return _N($,D0.Type[Q],J);if(Q&&Q instanceof R20.DataType)return _N($,G20(Q),J);if((Q===null||Q===void 0?void 0:Q.type)&&Q.type instanceof R20.DataType)return _N($,G20(Q.type),J);return _N($,D0.Type.NONE,J)}function _N($,Q,J=!0){let K=null;switch(Q){case D0.Type.Null:K=$.visitNull;break;case D0.Type.Bool:K=$.visitBool;break;case D0.Type.Int:K=$.visitInt;break;case D0.Type.Int8:K=$.visitInt8||$.visitInt;break;case D0.Type.Int16:K=$.visitInt16||$.visitInt;break;case D0.Type.Int32:K=$.visitInt32||$.visitInt;break;case D0.Type.Int64:K=$.visitInt64||$.visitInt;break;case D0.Type.Uint8:K=$.visitUint8||$.visitInt;break;case D0.Type.Uint16:K=$.visitUint16||$.visitInt;break;case D0.Type.Uint32:K=$.visitUint32||$.visitInt;break;case D0.Type.Uint64:K=$.visitUint64||$.visitInt;break;case D0.Type.Float:K=$.visitFloat;break;case D0.Type.Float16:K=$.visitFloat16||$.visitFloat;break;case D0.Type.Float32:K=$.visitFloat32||$.visitFloat;break;case D0.Type.Float64:K=$.visitFloat64||$.visitFloat;break;case D0.Type.Utf8:K=$.visitUtf8;break;case D0.Type.LargeUtf8:K=$.visitLargeUtf8;break;case D0.Type.Binary:K=$.visitBinary;break;case D0.Type.LargeBinary:K=$.visitLargeBinary;break;case D0.Type.FixedSizeBinary:K=$.visitFixedSizeBinary;break;case D0.Type.Date:K=$.visitDate;break;case D0.Type.DateDay:K=$.visitDateDay||$.visitDate;break;case D0.Type.DateMillisecond:K=$.visitDateMillisecond||$.visitDate;break;case D0.Type.Timestamp:K=$.visitTimestamp;break;case D0.Type.TimestampSecond:K=$.visitTimestampSecond||$.visitTimestamp;break;case D0.Type.TimestampMillisecond:K=$.visitTimestampMillisecond||$.visitTimestamp;break;case D0.Type.TimestampMicrosecond:K=$.visitTimestampMicrosecond||$.visitTimestamp;break;case D0.Type.TimestampNanosecond:K=$.visitTimestampNanosecond||$.visitTimestamp;break;case D0.Type.Time:K=$.visitTime;break;case D0.Type.TimeSecond:K=$.visitTimeSecond||$.visitTime;break;case D0.Type.TimeMillisecond:K=$.visitTimeMillisecond||$.visitTime;break;case D0.Type.TimeMicrosecond:K=$.visitTimeMicrosecond||$.visitTime;break;case D0.Type.TimeNanosecond:K=$.visitTimeNanosecond||$.visitTime;break;case D0.Type.Decimal:K=$.visitDecimal;break;case D0.Type.List:K=$.visitList;break;case D0.Type.Struct:K=$.visitStruct;break;case D0.Type.Union:K=$.visitUnion;break;case D0.Type.DenseUnion:K=$.visitDenseUnion||$.visitUnion;break;case D0.Type.SparseUnion:K=$.visitSparseUnion||$.visitUnion;break;case D0.Type.Dictionary:K=$.visitDictionary;break;case D0.Type.Interval:K=$.visitInterval;break;case D0.Type.IntervalDayTime:K=$.visitIntervalDayTime||$.visitInterval;break;case D0.Type.IntervalYearMonth:K=$.visitIntervalYearMonth||$.visitInterval;break;case D0.Type.Duration:K=$.visitDuration;break;case D0.Type.DurationSecond:K=$.visitDurationSecond||$.visitDuration;break;case D0.Type.DurationMillisecond:K=$.visitDurationMillisecond||$.visitDuration;break;case D0.Type.DurationMicrosecond:K=$.visitDurationMicrosecond||$.visitDuration;break;case D0.Type.DurationNanosecond:K=$.visitDurationNanosecond||$.visitDuration;break;case D0.Type.FixedSizeList:K=$.visitFixedSizeList;break;case D0.Type.Map:K=$.visitMap;break}if(typeof K==="function")return K;if(!J)return()=>null;throw Error(`Unrecognized type '${D0.Type[Q]}'`)}function G20($){switch($.typeId){case D0.Type.Null:return D0.Type.Null;case D0.Type.Int:{let{bitWidth:Q,isSigned:J}=$;switch(Q){case 8:return J?D0.Type.Int8:D0.Type.Uint8;case 16:return J?D0.Type.Int16:D0.Type.Uint16;case 32:return J?D0.Type.Int32:D0.Type.Uint32;case 64:return J?D0.Type.Int64:D0.Type.Uint64}return D0.Type.Int}case D0.Type.Float:switch($.precision){case D0.Precision.HALF:return D0.Type.Float16;case D0.Precision.SINGLE:return D0.Type.Float32;case D0.Precision.DOUBLE:return D0.Type.Float64}return D0.Type.Float;case D0.Type.Binary:return D0.Type.Binary;case D0.Type.LargeBinary:return D0.Type.LargeBinary;case D0.Type.Utf8:return D0.Type.Utf8;case D0.Type.LargeUtf8:return D0.Type.LargeUtf8;case D0.Type.Bool:return D0.Type.Bool;case D0.Type.Decimal:return D0.Type.Decimal;case D0.Type.Time:switch($.unit){case D0.TimeUnit.SECOND:return D0.Type.TimeSecond;case D0.TimeUnit.MILLISECOND:return D0.Type.TimeMillisecond;case D0.TimeUnit.MICROSECOND:return D0.Type.TimeMicrosecond;case D0.TimeUnit.NANOSECOND:return D0.Type.TimeNanosecond}return D0.Type.Time;case D0.Type.Timestamp:switch($.unit){case D0.TimeUnit.SECOND:return D0.Type.TimestampSecond;case D0.TimeUnit.MILLISECOND:return D0.Type.TimestampMillisecond;case D0.TimeUnit.MICROSECOND:return D0.Type.TimestampMicrosecond;case D0.TimeUnit.NANOSECOND:return D0.Type.TimestampNanosecond}return D0.Type.Timestamp;case D0.Type.Date:switch($.unit){case D0.DateUnit.DAY:return D0.Type.DateDay;case D0.DateUnit.MILLISECOND:return D0.Type.DateMillisecond}return D0.Type.Date;case D0.Type.Interval:switch($.unit){case D0.IntervalUnit.DAY_TIME:return D0.Type.IntervalDayTime;case D0.IntervalUnit.YEAR_MONTH:return D0.Type.IntervalYearMonth}return D0.Type.Interval;case D0.Type.Duration:switch($.unit){case D0.TimeUnit.SECOND:return D0.Type.DurationSecond;case D0.TimeUnit.MILLISECOND:return D0.Type.DurationMillisecond;case D0.TimeUnit.MICROSECOND:return D0.Type.DurationMicrosecond;case D0.TimeUnit.NANOSECOND:return D0.Type.DurationNanosecond}return D0.Type.Duration;case D0.Type.Map:return D0.Type.Map;case D0.Type.List:return D0.Type.List;case D0.Type.Struct:return D0.Type.Struct;case D0.Type.Union:switch($.mode){case D0.UnionMode.Dense:return D0.Type.DenseUnion;case D0.UnionMode.Sparse:return D0.Type.SparseUnion}return D0.Type.Union;case D0.Type.FixedSizeBinary:return D0.Type.FixedSizeBinary;case D0.Type.FixedSizeList:return D0.Type.FixedSizeList;case D0.Type.Dictionary:return D0.Type.Dictionary}throw Error(`Unrecognized type '${D0.Type[$.typeId]}'`)}Y6.prototype.visitInt8=null;Y6.prototype.visitInt16=null;Y6.prototype.visitInt32=null;Y6.prototype.visitInt64=null;Y6.prototype.visitUint8=null;Y6.prototype.visitUint16=null;Y6.prototype.visitUint32=null;Y6.prototype.visitUint64=null;Y6.prototype.visitFloat16=null;Y6.prototype.visitFloat32=null;Y6.prototype.visitFloat64=null;Y6.prototype.visitDateDay=null;Y6.prototype.visitDateMillisecond=null;Y6.prototype.visitTimestampSecond=null;Y6.prototype.visitTimestampMillisecond=null;Y6.prototype.visitTimestampMicrosecond=null;Y6.prototype.visitTimestampNanosecond=null;Y6.prototype.visitTimeSecond=null;Y6.prototype.visitTimeMillisecond=null;Y6.prototype.visitTimeMicrosecond=null;Y6.prototype.visitTimeNanosecond=null;Y6.prototype.visitDenseUnion=null;Y6.prototype.visitSparseUnion=null;Y6.prototype.visitIntervalDayTime=null;Y6.prototype.visitIntervalYearMonth=null;Y6.prototype.visitDuration=null;Y6.prototype.visitDurationSecond=null;Y6.prototype.visitDurationMillisecond=null;Y6.prototype.visitDurationMicrosecond=null;Y6.prototype.visitDurationNanosecond=null});var kR=C0((D20)=>{Object.defineProperty(D20,"__esModule",{value:!0});D20.float64ToUint16=D20.uint16ToFloat64=void 0;var T20=new Float64Array(1),fN=new Uint32Array(T20.buffer);function C71($){let Q=($&31744)>>10,J=($&1023)/1024,K=Math.pow(-1,($&32768)>>15);switch(Q){case 31:return K*(J?Number.NaN:1/0);case 0:return K*(J?0.00006103515625*J:0)}return K*Math.pow(2,Q-15)*(1+J)}D20.uint16ToFloat64=C71;function P71($){if($!==$)return 32256;T20[0]=$;let Q=(fN[1]&2147483648)>>16&65535,J=fN[1]&2146435072,K=0;if(J>=1089470464)if(fN[0]>0)J=31744;else J=(J&2080374784)>>16,K=(fN[1]&1048575)>>10;else if(J<=1056964608)K=1048576+(fN[1]&1048575),K=1048576+(K<<(J>>20)-998)>>21,J=0;else J=J-1056964608>>10,K=(fN[1]&1048575)+512>>10;return Q|J|K&65535}D20.float64ToUint16=P71});var N3=C0((h20)=>{Object.defineProperty(h20,"__esModule",{value:!0});h20.instance=h20.setDuration=h20.setDurationNanosecond=h20.setDurationMicrosecond=h20.setDurationMillisecond=h20.setDurationSecond=h20.setIntervalYearMonth=h20.setIntervalDayTime=h20.setIntervalValue=h20.setDecimal=h20.setTime=h20.setTimeNanosecond=h20.setTimeMicrosecond=h20.setTimeMillisecond=h20.setTimeSecond=h20.setTimestamp=h20.setTimestampNanosecond=h20.setTimestampMicrosecond=h20.setTimestampMillisecond=h20.setTimestampSecond=h20.setDate=h20.setFixedSizeBinary=h20.setDateMillisecond=h20.setDateDay=h20.setAnyFloat=h20.setFloat16=h20.setFloat=h20.setInt=h20.setVariableWidthBytes=h20.setEpochMsToDays=h20.SetVisitor=void 0;var j71=y4(),E71=O9(),P20=Iq(),L71=Cq(),h71=kR(),D8=A7();class l1 extends E71.Visitor{}h20.SetVisitor=l1;function K5($){return(Q,J,K)=>{if(Q.setValid(J,K!=null))return $(Q,J,K)}}var v71=($,Q,J)=>{$[Q]=Math.floor(J/86400000)};h20.setEpochMsToDays=v71;var S71=($,Q,J,K)=>{if(J+1<Q.length){let Y=(0,P20.bigIntToNumber)(Q[J]),Z=(0,P20.bigIntToNumber)(Q[J+1]);$.set(K.subarray(0,Z-Y),Y)}};h20.setVariableWidthBytes=S71;var _71=({offset:$,values:Q},J,K)=>{let Y=$+J;K?Q[Y>>3]|=1<<Y%8:Q[Y>>3]&=~(1<<Y%8)},f71=({values:$},Q,J)=>{$[Q]=J};h20.setInt=f71;var I71=({values:$},Q,J)=>{$[Q]=J};h20.setFloat=I71;var M71=({values:$},Q,J)=>{$[Q]=(0,h71.float64ToUint16)(J)};h20.setFloat16=M71;var b71=($,Q,J)=>{switch($.type.precision){case D8.Precision.HALF:return h20.setFloat16($,Q,J);case D8.Precision.SINGLE:case D8.Precision.DOUBLE:return h20.setFloat($,Q,J)}};h20.setAnyFloat=b71;var g71=({values:$},Q,J)=>{h20.setEpochMsToDays($,Q,J.valueOf())};h20.setDateDay=g71;var y71=({values:$},Q,J)=>{$[Q]=BigInt(J)};h20.setDateMillisecond=y71;var x71=({stride:$,values:Q},J,K)=>{Q.set(K.subarray(0,$),$*J)};h20.setFixedSizeBinary=x71;var k20=({values:$,valueOffsets:Q},J,K)=>h20.setVariableWidthBytes($,Q,J,K),j20=({values:$,valueOffsets:Q},J,K)=>h20.setVariableWidthBytes($,Q,J,(0,L71.encodeUtf8)(K)),c71=($,Q,J)=>{$.type.unit===D8.DateUnit.DAY?h20.setDateDay($,Q,J):h20.setDateMillisecond($,Q,J)};h20.setDate=c71;var u71=({values:$},Q,J)=>{$[Q]=BigInt(J/1000)};h20.setTimestampSecond=u71;var m71=({values:$},Q,J)=>{$[Q]=BigInt(J)};h20.setTimestampMillisecond=m71;var p71=({values:$},Q,J)=>{$[Q]=BigInt(J*1000)};h20.setTimestampMicrosecond=p71;var d71=({values:$},Q,J)=>{$[Q]=BigInt(J*1e6)};h20.setTimestampNanosecond=d71;var n71=($,Q,J)=>{switch($.type.unit){case D8.TimeUnit.SECOND:return h20.setTimestampSecond($,Q,J);case D8.TimeUnit.MILLISECOND:return h20.setTimestampMillisecond($,Q,J);case D8.TimeUnit.MICROSECOND:return h20.setTimestampMicrosecond($,Q,J);case D8.TimeUnit.NANOSECOND:return h20.setTimestampNanosecond($,Q,J)}};h20.setTimestamp=n71;var l71=({values:$},Q,J)=>{$[Q]=J};h20.setTimeSecond=l71;var r71=({values:$},Q,J)=>{$[Q]=J};h20.setTimeMillisecond=r71;var i71=({values:$},Q,J)=>{$[Q]=J};h20.setTimeMicrosecond=i71;var s71=({values:$},Q,J)=>{$[Q]=J};h20.setTimeNanosecond=s71;var o71=($,Q,J)=>{switch($.type.unit){case D8.TimeUnit.SECOND:return h20.setTimeSecond($,Q,J);case D8.TimeUnit.MILLISECOND:return h20.setTimeMillisecond($,Q,J);case D8.TimeUnit.MICROSECOND:return h20.setTimeMicrosecond($,Q,J);case D8.TimeUnit.NANOSECOND:return h20.setTimeNanosecond($,Q,J)}};h20.setTime=o71;var a71=({values:$,stride:Q},J,K)=>{$.set(K.subarray(0,Q),Q*J)};h20.setDecimal=a71;var t71=($,Q,J)=>{let K=$.children[0],Y=$.valueOffsets,Z=h20.instance.getVisitFn(K);if(Array.isArray(J))for(let q=-1,X=Y[Q],W=Y[Q+1];X<W;)Z(K,X++,J[++q]);else for(let q=-1,X=Y[Q],W=Y[Q+1];X<W;)Z(K,X++,J.get(++q))},e71=($,Q,J)=>{let K=$.children[0],{valueOffsets:Y}=$,Z=h20.instance.getVisitFn(K),{[Q]:q,[Q+1]:X}=Y,W=J instanceof Map?J.entries():Object.entries(J);for(let F of W)if(Z(K,q,F),++q>=X)break},$81=($,Q)=>(J,K,Y,Z)=>K&&J(K,$,Q[Z]),Q81=($,Q)=>(J,K,Y,Z)=>K&&J(K,$,Q.get(Z)),J81=($,Q)=>(J,K,Y,Z)=>K&&J(K,$,Q.get(Y.name)),K81=($,Q)=>(J,K,Y,Z)=>K&&J(K,$,Q[Y.name]),Y81=($,Q,J)=>{let K=$.type.children.map((Z)=>h20.instance.getVisitFn(Z.type)),Y=J instanceof Map?J81(Q,J):J instanceof j71.Vector?Q81(Q,J):Array.isArray(J)?$81(Q,J):K81(Q,J);$.type.children.forEach((Z,q)=>Y(K[q],$.children[q],Z,q))},Z81=($,Q,J)=>{$.type.mode===D8.UnionMode.Dense?E20($,Q,J):L20($,Q,J)},E20=($,Q,J)=>{let K=$.type.typeIdToChildIndex[$.typeIds[Q]],Y=$.children[K];h20.instance.visit(Y,$.valueOffsets[Q],J)},L20=($,Q,J)=>{let K=$.type.typeIdToChildIndex[$.typeIds[Q]],Y=$.children[K];h20.instance.visit(Y,Q,J)},q81=($,Q,J)=>{var K;(K=$.dictionary)===null||K===void 0||K.set($.values[Q],J)},X81=($,Q,J)=>{$.type.unit===D8.IntervalUnit.DAY_TIME?h20.setIntervalDayTime($,Q,J):h20.setIntervalYearMonth($,Q,J)};h20.setIntervalValue=X81;var W81=({values:$},Q,J)=>{$.set(J.subarray(0,2),2*Q)};h20.setIntervalDayTime=W81;var F81=({values:$},Q,J)=>{$[Q]=J[0]*12+J[1]%12};h20.setIntervalYearMonth=F81;var U81=({values:$},Q,J)=>{$[Q]=J};h20.setDurationSecond=U81;var H81=({values:$},Q,J)=>{$[Q]=J};h20.setDurationMillisecond=H81;var N81=({values:$},Q,J)=>{$[Q]=J};h20.setDurationMicrosecond=N81;var B81=({values:$},Q,J)=>{$[Q]=J};h20.setDurationNanosecond=B81;var z81=($,Q,J)=>{switch($.type.unit){case D8.TimeUnit.SECOND:return h20.setDurationSecond($,Q,J);case D8.TimeUnit.MILLISECOND:return h20.setDurationMillisecond($,Q,J);case D8.TimeUnit.MICROSECOND:return h20.setDurationMicrosecond($,Q,J);case D8.TimeUnit.NANOSECOND:return h20.setDurationNanosecond($,Q,J)}};h20.setDuration=z81;var A81=($,Q,J)=>{let{stride:K}=$,Y=$.children[0],Z=h20.instance.getVisitFn(Y);if(Array.isArray(J))for(let q=-1,X=Q*K;++q<K;)Z(Y,X+q,J[q]);else for(let q=-1,X=Q*K;++q<K;)Z(Y,X+q,J.get(q))};l1.prototype.visitBool=K5(_71);l1.prototype.visitInt=K5(h20.setInt);l1.prototype.visitInt8=K5(h20.setInt);l1.prototype.visitInt16=K5(h20.setInt);l1.prototype.visitInt32=K5(h20.setInt);l1.prototype.visitInt64=K5(h20.setInt);l1.prototype.visitUint8=K5(h20.setInt);l1.prototype.visitUint16=K5(h20.setInt);l1.prototype.visitUint32=K5(h20.setInt);l1.prototype.visitUint64=K5(h20.setInt);l1.prototype.visitFloat=K5(h20.setAnyFloat);l1.prototype.visitFloat16=K5(h20.setFloat16);l1.prototype.visitFloat32=K5(h20.setFloat);l1.prototype.visitFloat64=K5(h20.setFloat);l1.prototype.visitUtf8=K5(j20);l1.prototype.visitLargeUtf8=K5(j20);l1.prototype.visitBinary=K5(k20);l1.prototype.visitLargeBinary=K5(k20);l1.prototype.visitFixedSizeBinary=K5(h20.setFixedSizeBinary);l1.prototype.visitDate=K5(h20.setDate);l1.prototype.visitDateDay=K5(h20.setDateDay);l1.prototype.visitDateMillisecond=K5(h20.setDateMillisecond);l1.prototype.visitTimestamp=K5(h20.setTimestamp);l1.prototype.visitTimestampSecond=K5(h20.setTimestampSecond);l1.prototype.visitTimestampMillisecond=K5(h20.setTimestampMillisecond);l1.prototype.visitTimestampMicrosecond=K5(h20.setTimestampMicrosecond);l1.prototype.visitTimestampNanosecond=K5(h20.setTimestampNanosecond);l1.prototype.visitTime=K5(h20.setTime);l1.prototype.visitTimeSecond=K5(h20.setTimeSecond);l1.prototype.visitTimeMillisecond=K5(h20.setTimeMillisecond);l1.prototype.visitTimeMicrosecond=K5(h20.setTimeMicrosecond);l1.prototype.visitTimeNanosecond=K5(h20.setTimeNanosecond);l1.prototype.visitDecimal=K5(h20.setDecimal);l1.prototype.visitList=K5(t71);l1.prototype.visitStruct=K5(Y81);l1.prototype.visitUnion=K5(Z81);l1.prototype.visitDenseUnion=K5(E20);l1.prototype.visitSparseUnion=K5(L20);l1.prototype.visitDictionary=K5(q81);l1.prototype.visitInterval=K5(h20.setIntervalValue);l1.prototype.visitIntervalDayTime=K5(h20.setIntervalDayTime);l1.prototype.visitIntervalYearMonth=K5(h20.setIntervalYearMonth);l1.prototype.visitDuration=K5(h20.setDuration);l1.prototype.visitDurationSecond=K5(h20.setDurationSecond);l1.prototype.visitDurationMillisecond=K5(h20.setDurationMillisecond);l1.prototype.visitDurationMicrosecond=K5(h20.setDurationMicrosecond);l1.prototype.visitDurationNanosecond=K5(h20.setDurationNanosecond);l1.prototype.visitFixedSizeList=K5(A81);l1.prototype.visitMap=K5(e71);h20.instance=new l1});var Ek=C0((m20)=>{Object.defineProperty(m20,"__esModule",{value:!0});m20.StructRow=void 0;var x20=CR(),vc=EW(),R81=N3(),DQ=Symbol.for("parent"),IN=Symbol.for("rowIndex");class Sc{constructor($,Q){return this[DQ]=$,this[IN]=Q,new Proxy(this,new u20)}toArray(){return Object.values(this.toJSON())}toJSON(){let $=this[IN],Q=this[DQ],J=Q.type.children,K={};for(let Y=-1,Z=J.length;++Y<Z;)K[J[Y].name]=vc.instance.visit(Q.children[Y],$);return K}toString(){return`{${[...this].map(([$,Q])=>`${(0,x20.valueToString)($)}: ${(0,x20.valueToString)(Q)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new c20(this[DQ],this[IN])}}m20.StructRow=Sc;class c20{constructor($,Q){this.childIndex=0,this.children=$.children,this.rowIndex=Q,this.childFields=$.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){let $=this.childIndex;if($<this.numChildren)return this.childIndex=$+1,{done:!1,value:[this.childFields[$].name,vc.instance.visit(this.children[$],this.rowIndex)]};return{done:!0,value:null}}}Object.defineProperties(Sc.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[DQ]:{writable:!0,enumerable:!1,configurable:!1,value:null},[IN]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class u20{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys($){return $[DQ].type.children.map((Q)=>Q.name)}has($,Q){return $[DQ].type.children.findIndex((J)=>J.name===Q)!==-1}getOwnPropertyDescriptor($,Q){if($[DQ].type.children.findIndex((J)=>J.name===Q)!==-1)return{writable:!0,enumerable:!0,configurable:!0};return}get($,Q){if(Reflect.has($,Q))return $[Q];let J=$[DQ].type.children.findIndex((K)=>K.name===Q);if(J!==-1){let K=vc.instance.visit($[DQ].children[J],$[IN]);return Reflect.set($,Q,K),K}}set($,Q,J){let K=$[DQ].type.children.findIndex((Y)=>Y.name===Q);if(K!==-1)return R81.instance.visit($[DQ].children[K],$[IN],J),Reflect.set($,Q,J);else if(Reflect.has($,Q)||typeof Q==="symbol")return Reflect.set($,Q,J);return!1}}});var EW=C0((zW0)=>{Object.defineProperty(zW0,"__esModule",{value:!0});zW0.instance=zW0.GetVisitor=void 0;var G81=Nk(),d20=y4(),O81=O9(),w81=jR(),T81=Ek(),LW=Iq(),D81=Cq(),n20=kR(),X4=A7();class u1 extends O81.Visitor{}zW0.GetVisitor=u1;function t1($){return(Q,J)=>Q.getValid(J)?$(Q,J):null}var C81=($,Q)=>86400000*$[Q],P81=($,Q)=>null,l20=($,Q,J)=>{if(J+1>=Q.length)return null;let K=(0,LW.bigIntToNumber)(Q[J]),Y=(0,LW.bigIntToNumber)(Q[J+1]);return $.subarray(K,Y)},k81=({offset:$,values:Q},J)=>{let K=$+J;return(Q[K>>3]&1<<K%8)!==0},r20=({values:$},Q)=>C81($,Q),i20=({values:$},Q)=>(0,LW.bigIntToNumber)($[Q]),xq=({stride:$,values:Q},J)=>Q[$*J],j81=({stride:$,values:Q},J)=>(0,n20.uint16ToFloat64)(Q[$*J]),s20=({values:$},Q)=>$[Q],E81=({stride:$,values:Q},J)=>Q.subarray($*J,$*(J+1)),o20=({values:$,valueOffsets:Q},J)=>l20($,Q,J),a20=({values:$,valueOffsets:Q},J)=>{let K=l20($,Q,J);return K!==null?(0,D81.decodeUtf8)(K):null},L81=({values:$},Q)=>$[Q],h81=({type:$,values:Q},J)=>$.precision!==X4.Precision.HALF?Q[J]:(0,n20.uint16ToFloat64)(Q[J]),v81=($,Q)=>$.type.unit===X4.DateUnit.DAY?r20($,Q):i20($,Q),t20=({values:$},Q)=>1000*(0,LW.bigIntToNumber)($[Q]),e20=({values:$},Q)=>(0,LW.bigIntToNumber)($[Q]),$W0=({values:$},Q)=>(0,LW.divideBigInts)($[Q],BigInt(1000)),QW0=({values:$},Q)=>(0,LW.divideBigInts)($[Q],BigInt(1e6)),S81=($,Q)=>{switch($.type.unit){case X4.TimeUnit.SECOND:return t20($,Q);case X4.TimeUnit.MILLISECOND:return e20($,Q);case X4.TimeUnit.MICROSECOND:return $W0($,Q);case X4.TimeUnit.NANOSECOND:return QW0($,Q)}},JW0=({values:$},Q)=>$[Q],KW0=({values:$},Q)=>$[Q],YW0=({values:$},Q)=>$[Q],ZW0=({values:$},Q)=>$[Q],_81=($,Q)=>{switch($.type.unit){case X4.TimeUnit.SECOND:return JW0($,Q);case X4.TimeUnit.MILLISECOND:return KW0($,Q);case X4.TimeUnit.MICROSECOND:return YW0($,Q);case X4.TimeUnit.NANOSECOND:return ZW0($,Q)}},f81=({values:$,stride:Q},J)=>G81.BN.decimal($.subarray(Q*J,Q*(J+1))),I81=($,Q)=>{let{valueOffsets:J,stride:K,children:Y}=$,{[Q*K]:Z,[Q*K+1]:q}=J,W=Y[0].slice(Z,q-Z);return new d20.Vector([W])},M81=($,Q)=>{let{valueOffsets:J,children:K}=$,{[Q]:Y,[Q+1]:Z}=J,q=K[0];return new w81.MapRow(q.slice(Y,Z-Y))},b81=($,Q)=>{return new T81.StructRow($,Q)},g81=($,Q)=>{return $.type.mode===X4.UnionMode.Dense?qW0($,Q):XW0($,Q)},qW0=($,Q)=>{let J=$.type.typeIdToChildIndex[$.typeIds[Q]],K=$.children[J];return zW0.instance.visit(K,$.valueOffsets[Q])},XW0=($,Q)=>{let J=$.type.typeIdToChildIndex[$.typeIds[Q]],K=$.children[J];return zW0.instance.visit(K,Q)},y81=($,Q)=>{var J;return(J=$.dictionary)===null||J===void 0?void 0:J.get($.values[Q])},x81=($,Q)=>$.type.unit===X4.IntervalUnit.DAY_TIME?WW0($,Q):FW0($,Q),WW0=({values:$},Q)=>$.subarray(2*Q,2*(Q+1)),FW0=({values:$},Q)=>{let J=$[Q],K=new Int32Array(2);return K[0]=Math.trunc(J/12),K[1]=Math.trunc(J%12),K},UW0=({values:$},Q)=>$[Q],HW0=({values:$},Q)=>$[Q],NW0=({values:$},Q)=>$[Q],BW0=({values:$},Q)=>$[Q],c81=($,Q)=>{switch($.type.unit){case X4.TimeUnit.SECOND:return UW0($,Q);case X4.TimeUnit.MILLISECOND:return HW0($,Q);case X4.TimeUnit.MICROSECOND:return NW0($,Q);case X4.TimeUnit.NANOSECOND:return BW0($,Q)}},u81=($,Q)=>{let{stride:J,children:K}=$,Z=K[0].slice(Q*J,J);return new d20.Vector([Z])};u1.prototype.visitNull=t1(P81);u1.prototype.visitBool=t1(k81);u1.prototype.visitInt=t1(L81);u1.prototype.visitInt8=t1(xq);u1.prototype.visitInt16=t1(xq);u1.prototype.visitInt32=t1(xq);u1.prototype.visitInt64=t1(s20);u1.prototype.visitUint8=t1(xq);u1.prototype.visitUint16=t1(xq);u1.prototype.visitUint32=t1(xq);u1.prototype.visitUint64=t1(s20);u1.prototype.visitFloat=t1(h81);u1.prototype.visitFloat16=t1(j81);u1.prototype.visitFloat32=t1(xq);u1.prototype.visitFloat64=t1(xq);u1.prototype.visitUtf8=t1(a20);u1.prototype.visitLargeUtf8=t1(a20);u1.prototype.visitBinary=t1(o20);u1.prototype.visitLargeBinary=t1(o20);u1.prototype.visitFixedSizeBinary=t1(E81);u1.prototype.visitDate=t1(v81);u1.prototype.visitDateDay=t1(r20);u1.prototype.visitDateMillisecond=t1(i20);u1.prototype.visitTimestamp=t1(S81);u1.prototype.visitTimestampSecond=t1(t20);u1.prototype.visitTimestampMillisecond=t1(e20);u1.prototype.visitTimestampMicrosecond=t1($W0);u1.prototype.visitTimestampNanosecond=t1(QW0);u1.prototype.visitTime=t1(_81);u1.prototype.visitTimeSecond=t1(JW0);u1.prototype.visitTimeMillisecond=t1(KW0);u1.prototype.visitTimeMicrosecond=t1(YW0);u1.prototype.visitTimeNanosecond=t1(ZW0);u1.prototype.visitDecimal=t1(f81);u1.prototype.visitList=t1(I81);u1.prototype.visitStruct=t1(b81);u1.prototype.visitUnion=t1(g81);u1.prototype.visitDenseUnion=t1(qW0);u1.prototype.visitSparseUnion=t1(XW0);u1.prototype.visitDictionary=t1(y81);u1.prototype.visitInterval=t1(x81);u1.prototype.visitIntervalDayTime=t1(WW0);u1.prototype.visitIntervalYearMonth=t1(FW0);u1.prototype.visitDuration=t1(c81);u1.prototype.visitDurationSecond=t1(UW0);u1.prototype.visitDurationMillisecond=t1(HW0);u1.prototype.visitDurationMicrosecond=t1(NW0);u1.prototype.visitDurationNanosecond=t1(BW0);u1.prototype.visitFixedSizeList=t1(u81);u1.prototype.visitMap=t1(M81);zW0.instance=new u1});var jR=C0((GW0)=>{Object.defineProperty(GW0,"__esModule",{value:!0});GW0.MapRow=GW0._kKeysAsStrings=GW0.kKeysAsStrings=GW0.kVals=GW0.kKeys=void 0;var p81=y4(),AW0=CR(),_c=EW(),d81=N3();GW0.kKeys=Symbol.for("keys");GW0.kVals=Symbol.for("vals");GW0.kKeysAsStrings=Symbol.for("kKeysAsStrings");GW0._kKeysAsStrings=Symbol.for("_kKeysAsStrings");class fc{constructor($){return this[GW0.kKeys]=new p81.Vector([$.children[0]]).memoize(),this[GW0.kVals]=$.children[1],new Proxy(this,new RW0)}get[GW0.kKeysAsStrings](){return this[GW0._kKeysAsStrings]||(this[GW0._kKeysAsStrings]=Array.from(this[GW0.kKeys].toArray(),String))}[Symbol.iterator](){return new VW0(this[GW0.kKeys],this[GW0.kVals])}get size(){return this[GW0.kKeys].length}toArray(){return Object.values(this.toJSON())}toJSON(){let $=this[GW0.kKeys],Q=this[GW0.kVals],J={};for(let K=-1,Y=$.length;++K<Y;)J[$.get(K)]=_c.instance.visit(Q,K);return J}toString(){return`{${[...this].map(([$,Q])=>`${(0,AW0.valueToString)($)}: ${(0,AW0.valueToString)(Q)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}GW0.MapRow=fc;class VW0{constructor($,Q){this.keys=$,this.vals=Q,this.keyIndex=0,this.numKeys=$.length}[Symbol.iterator](){return this}next(){let $=this.keyIndex;if($===this.numKeys)return{done:!0,value:null};return this.keyIndex++,{done:!1,value:[this.keys.get($),_c.instance.visit(this.vals,$)]}}}class RW0{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys($){return $[GW0.kKeysAsStrings]}has($,Q){return $[GW0.kKeysAsStrings].includes(Q)}getOwnPropertyDescriptor($,Q){if($[GW0.kKeysAsStrings].indexOf(Q)!==-1)return{writable:!0,enumerable:!0,configurable:!0};return}get($,Q){if(Reflect.has($,Q))return $[Q];let J=$[GW0.kKeysAsStrings].indexOf(Q);if(J!==-1){let K=_c.instance.visit(Reflect.get($,GW0.kVals),J);return Reflect.set($,Q,K),K}}set($,Q,J){let K=$[GW0.kKeysAsStrings].indexOf(Q);if(K!==-1)return d81.instance.visit(Reflect.get($,GW0.kVals),K,J),Reflect.set($,Q,J);else if(Reflect.has($,Q))return Reflect.set($,Q,J);return!1}}Object.defineProperties(fc.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[GW0.kKeys]:{writable:!0,enumerable:!1,configurable:!1,value:null},[GW0.kVals]:{writable:!0,enumerable:!1,configurable:!1,value:null},[GW0._kKeysAsStrings]:{writable:!0,enumerable:!1,configurable:!1,value:null}})});var MN=C0((PW0)=>{Object.defineProperty(PW0,"__esModule",{value:!0});PW0.createElementComparator=PW0.wrapIndex=PW0.clampRange=void 0;var CW0=y4(),n81=jR(),l81=Ek(),r81=T8(),wW0;function i81($,Q,J,K){let{length:Y=0}=$,Z=typeof Q!=="number"?0:Q,q=typeof J!=="number"?Y:J;return Z<0&&(Z=(Z%Y+Y)%Y),q<0&&(q=(q%Y+Y)%Y),q<Z&&(wW0=Z,Z=q,q=wW0),q>Y&&(q=Y),K?K($,Z,q):[Z,q]}PW0.clampRange=i81;var s81=($,Q)=>$<0?Q+$:$;PW0.wrapIndex=s81;var TW0=($)=>$!==$;function ER($){if(typeof $!=="object"||$===null){if(TW0($))return TW0;return(J)=>J===$}if($ instanceof Date){let J=$.valueOf();return(K)=>K instanceof Date?K.valueOf()===J:!1}if(ArrayBuffer.isView($))return(J)=>J?(0,r81.compareArrayLike)($,J):!1;if($ instanceof Map)return a81($);if(Array.isArray($))return o81($);if($ instanceof CW0.Vector)return t81($);return e81($,!0)}PW0.createElementComparator=ER;function o81($){let Q=[];for(let J=-1,K=$.length;++J<K;)Q[J]=ER($[J]);return vk(Q)}function a81($){let Q=-1,J=[];for(let K of $.values())J[++Q]=ER(K);return vk(J)}function t81($){let Q=[];for(let J=-1,K=$.length;++J<K;)Q[J]=ER($.get(J));return vk(Q)}function e81($,Q=!1){let J=Object.keys($);if(!Q&&J.length===0)return()=>!1;let K=[];for(let Y=-1,Z=J.length;++Y<Z;)K[Y]=ER($[J[Y]]);return vk(K,J)}function vk($,Q){return(J)=>{if(!J||typeof J!=="object")return!1;switch(J.constructor){case Array:return $41($,J);case Map:return DW0($,J,J.keys());case n81.MapRow:case l81.StructRow:case Object:case void 0:return DW0($,J,Q||Object.keys(J))}return J instanceof CW0.Vector?Q41($,J):!1}}function $41($,Q){let J=$.length;if(Q.length!==J)return!1;for(let K=-1;++K<J;)if(!$[K](Q[K]))return!1;return!0}function Q41($,Q){let J=$.length;if(Q.length!==J)return!1;for(let K=-1;++K<J;)if(!$[K](Q.get(K)))return!1;return!0}function DW0($,Q,J){let K=J[Symbol.iterator](),Y=Q instanceof Map?Q.keys():Object.keys(Q)[Symbol.iterator](),Z=Q instanceof Map?Q.values():Object.values(Q)[Symbol.iterator](),q=0,X=$.length,W=Z.next(),F=K.next(),H=Y.next();for(;q<X&&!F.done&&!H.done&&!W.done;++q,F=K.next(),H=Y.next(),W=Z.next())if(F.value!==H.value||!$[q](W.value))break;if(q===X&&F.done&&H.done&&W.done)return!0;return K.return&&K.return(),Y.return&&Y.return(),Z.return&&Z.return(),!1}});var _W=C0((vW0)=>{Object.defineProperty(vW0,"__esModule",{value:!0});vW0.popcnt_uint32=vW0.popcnt_array=vW0.popcnt_bit_range=vW0.BitIterator=vW0.packBools=vW0.truncateBitmap=vW0.setBool=vW0.getBit=vW0.getBool=void 0;function jW0($,Q,J,K){return(J&1<<K)!==0}vW0.getBool=jW0;function EW0($,Q,J,K){return(J&1<<K)>>K}vW0.getBit=EW0;function Y41($,Q,J){return J?!!($[Q>>3]|=1<<Q%8)||!0:!($[Q>>3]&=~(1<<Q%8))&&!1}vW0.setBool=Y41;function Z41($,Q,J){let K=J.byteLength+7&-8;if($>0||J.byteLength<K){let Y=new Uint8Array(K);return Y.set($%8===0?J.subarray($>>3):LW0(new _k(J,$,Q,null,jW0)).subarray(0,K)),Y}return J}vW0.truncateBitmap=Z41;function LW0($){let Q=[],J=0,K=0,Y=0;for(let q of $)if(q&&(Y|=1<<K),++K===8)Q[J++]=Y,Y=K=0;if(J===0||K>0)Q[J++]=Y;let Z=new Uint8Array(Q.length+7&-8);return Z.set(Q),Z}vW0.packBools=LW0;class _k{constructor($,Q,J,K,Y){this.bytes=$,this.length=J,this.context=K,this.get=Y,this.bit=Q%8,this.byteIndex=Q>>3,this.byte=$[this.byteIndex++],this.index=0}next(){if(this.index<this.length){if(this.bit===8)this.bit=0,this.byte=this.bytes[this.byteIndex++];return{value:this.get(this.context,this.index++,this.byte,this.bit++)}}return{done:!0,value:null}}[Symbol.iterator](){return this}}vW0.BitIterator=_k;function Ic($,Q,J){if(J-Q<=0)return 0;if(J-Q<8){let Z=0;for(let q of new _k($,Q,J-Q,$,EW0))Z+=q;return Z}let K=J>>3<<3,Y=Q+(Q%8===0?0:8-Q%8);return Ic($,Q,Y)+Ic($,K,J)+hW0($,Y>>3,K-Y>>3)}vW0.popcnt_bit_range=Ic;function hW0($,Q,J){let K=0,Y=Math.trunc(Q),Z=new DataView($.buffer,$.byteOffset,$.byteLength),q=J===void 0?$.byteLength:Y+J;while(q-Y>=4)K+=Sk(Z.getUint32(Y)),Y+=4;while(q-Y>=2)K+=Sk(Z.getUint16(Y)),Y+=2;while(q-Y>=1)K+=Sk(Z.getUint8(Y)),Y+=1;return K}vW0.popcnt_array=hW0;function Sk($){let Q=Math.trunc($);return Q=Q-(Q>>>1&1431655765),Q=(Q&858993459)+(Q>>>2&858993459),(Q+(Q>>>4)&252645135)*16843009>>>24}vW0.popcnt_uint32=Sk});var dJ=C0((_W0)=>{Object.defineProperty(_W0,"__esModule",{value:!0});_W0.makeData=_W0.Data=_W0.kUnknownNullCount=void 0;var z41=y4(),pJ=A7(),w9=i6(),Mc=_W();_W0.kUnknownNullCount=-1;class b6{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){let{type:$}=this;if(w9.DataType.isSparseUnion($))return this.children.some((Q)=>Q.nullable);else if(w9.DataType.isDenseUnion($))return this.children.some((Q)=>Q.nullable);return this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let $=0,{valueOffsets:Q,values:J,nullBitmap:K,typeIds:Y}=this;return Q&&($+=Q.byteLength),J&&($+=J.byteLength),K&&($+=K.byteLength),Y&&($+=Y.byteLength),this.children.reduce((Z,q)=>Z+q.byteLength,$)}get nullCount(){if(w9.DataType.isUnion(this.type))return this.children.reduce((J,K)=>J+K.nullCount,0);let $=this._nullCount,Q;if($<=_W0.kUnknownNullCount&&(Q=this.nullBitmap))this._nullCount=$=Q.length===0?0:this.length-(0,Mc.popcnt_bit_range)(Q,this.offset,this.offset+this.length);return $}constructor($,Q,J,K,Y,Z=[],q){this.type=$,this.children=Z,this.dictionary=q,this.offset=Math.floor(Math.max(Q||0,0)),this.length=Math.floor(Math.max(J||0,0)),this._nullCount=Math.floor(Math.max(K||0,-1));let X;if(Y instanceof b6)this.stride=Y.stride,this.values=Y.values,this.typeIds=Y.typeIds,this.nullBitmap=Y.nullBitmap,this.valueOffsets=Y.valueOffsets;else if(this.stride=(0,w9.strideForType)($),Y)(X=Y[0])&&(this.valueOffsets=X),(X=Y[1])&&(this.values=X),(X=Y[2])&&(this.nullBitmap=X),(X=Y[3])&&(this.typeIds=X)}getValid($){let{type:Q}=this;if(w9.DataType.isUnion(Q)){let J=Q,K=this.children[J.typeIdToChildIndex[this.typeIds[$]]],Y=J.mode===pJ.UnionMode.Dense?this.valueOffsets[$]:$;return K.getValid(Y)}if(this.nullable&&this.nullCount>0){let J=this.offset+$;return(this.nullBitmap[J>>3]&1<<J%8)!==0}return!0}setValid($,Q){let J,{type:K}=this;if(w9.DataType.isUnion(K)){let Y=K,Z=this.children[Y.typeIdToChildIndex[this.typeIds[$]]],q=Y.mode===pJ.UnionMode.Dense?this.valueOffsets[$]:$;J=Z.getValid(q),Z.setValid(q,Q)}else{let{nullBitmap:Y}=this,{offset:Z,length:q}=this,X=Z+$,W=1<<X%8,F=X>>3;if(!Y||Y.byteLength<=F)if(Y=new Uint8Array((Z+q+63&-64)>>3).fill(255),this.nullCount>0)Y.set((0,Mc.truncateBitmap)(Z,q,this.nullBitmap),0),Object.assign(this,{nullBitmap:Y});else Object.assign(this,{nullBitmap:Y,_nullCount:0});let H=Y[F];J=(H&W)!==0,Y[F]=Q?H|W:H&~W}if(J!==!!Q)this._nullCount=this.nullCount+(Q?-1:1);return Q}clone($=this.type,Q=this.offset,J=this.length,K=this._nullCount,Y=this,Z=this.children){return new b6($,Q,J,K,Y,Z,this.dictionary)}slice($,Q){let{stride:J,typeId:K,children:Y}=this,Z=+(this._nullCount===0)-1,q=K===16?J:1,X=this._sliceBuffers($,Q,J,K);return this.clone(this.type,this.offset+$,Q,Z,X,Y.length===0||this.valueOffsets?Y:this._sliceChildren(Y,q*$,q*Q))}_changeLengthAndBackfillNullBitmap($){if(this.typeId===pJ.Type.Null)return this.clone(this.type,0,$,0);let{length:Q,nullCount:J}=this,K=new Uint8Array(($+63&-64)>>3).fill(255,0,Q>>3);if(K[Q>>3]=(1<<Q-(Q&-8))-1,J>0)K.set((0,Mc.truncateBitmap)(this.offset,Q,this.nullBitmap),0);let Y=this.buffers;return Y[pJ.BufferType.VALIDITY]=K,this.clone(this.type,0,$,J+($-Q),Y)}_sliceBuffers($,Q,J,K){let Y,{buffers:Z}=this;return(Y=Z[pJ.BufferType.TYPE])&&(Z[pJ.BufferType.TYPE]=Y.subarray($,$+Q)),(Y=Z[pJ.BufferType.OFFSET])&&(Z[pJ.BufferType.OFFSET]=Y.subarray($,$+Q+1))||(Y=Z[pJ.BufferType.DATA])&&(Z[pJ.BufferType.DATA]=K===6?Y:Y.subarray(J*$,J*($+Q))),Z}_sliceChildren($,Q,J){return $.map((K)=>K.slice(Q,J))}}_W0.Data=b6;b6.prototype.children=Object.freeze([]);var A41=O9(),D5=T8();class LR extends A41.Visitor{visit($){return this.getVisitFn($.type).call(this,$)}visitNull($){let{["type"]:Q,["offset"]:J=0,["length"]:K=0}=$;return new b6(Q,J,K,K)}visitBool($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,D5.toUint8Array)($.nullBitmap),Y=(0,D5.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:Z=Y.length>>3,["nullCount"]:q=$.nullBitmap?-1:0}=$;return new b6(Q,J,Z,q,[void 0,Y,K])}visitInt($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,D5.toUint8Array)($.nullBitmap),Y=(0,D5.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:Z=Y.length,["nullCount"]:q=$.nullBitmap?-1:0}=$;return new b6(Q,J,Z,q,[void 0,Y,K])}visitFloat($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,D5.toUint8Array)($.nullBitmap),Y=(0,D5.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:Z=Y.length,["nullCount"]:q=$.nullBitmap?-1:0}=$;return new b6(Q,J,Z,q,[void 0,Y,K])}visitUtf8($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,D5.toUint8Array)($.data),Y=(0,D5.toUint8Array)($.nullBitmap),Z=(0,D5.toInt32Array)($.valueOffsets),{["length"]:q=Z.length-1,["nullCount"]:X=$.nullBitmap?-1:0}=$;return new b6(Q,J,q,X,[Z,K,Y])}visitLargeUtf8($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,D5.toUint8Array)($.data),Y=(0,D5.toUint8Array)($.nullBitmap),Z=(0,D5.toBigInt64Array)($.valueOffsets),{["length"]:q=Z.length-1,["nullCount"]:X=$.nullBitmap?-1:0}=$;return new b6(Q,J,q,X,[Z,K,Y])}visitBinary($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,D5.toUint8Array)($.data),Y=(0,D5.toUint8Array)($.nullBitmap),Z=(0,D5.toInt32Array)($.valueOffsets),{["length"]:q=Z.length-1,["nullCount"]:X=$.nullBitmap?-1:0}=$;return new b6(Q,J,q,X,[Z,K,Y])}visitLargeBinary($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,D5.toUint8Array)($.data),Y=(0,D5.toUint8Array)($.nullBitmap),Z=(0,D5.toBigInt64Array)($.valueOffsets),{["length"]:q=Z.length-1,["nullCount"]:X=$.nullBitmap?-1:0}=$;return new b6(Q,J,q,X,[Z,K,Y])}visitFixedSizeBinary($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,D5.toUint8Array)($.nullBitmap),Y=(0,D5.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:Z=Y.length/(0,w9.strideForType)(Q),["nullCount"]:q=$.nullBitmap?-1:0}=$;return new b6(Q,J,Z,q,[void 0,Y,K])}visitDate($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,D5.toUint8Array)($.nullBitmap),Y=(0,D5.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:Z=Y.length/(0,w9.strideForType)(Q),["nullCount"]:q=$.nullBitmap?-1:0}=$;return new b6(Q,J,Z,q,[void 0,Y,K])}visitTimestamp($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,D5.toUint8Array)($.nullBitmap),Y=(0,D5.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:Z=Y.length/(0,w9.strideForType)(Q),["nullCount"]:q=$.nullBitmap?-1:0}=$;return new b6(Q,J,Z,q,[void 0,Y,K])}visitTime($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,D5.toUint8Array)($.nullBitmap),Y=(0,D5.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:Z=Y.length/(0,w9.strideForType)(Q),["nullCount"]:q=$.nullBitmap?-1:0}=$;return new b6(Q,J,Z,q,[void 0,Y,K])}visitDecimal($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,D5.toUint8Array)($.nullBitmap),Y=(0,D5.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:Z=Y.length/(0,w9.strideForType)(Q),["nullCount"]:q=$.nullBitmap?-1:0}=$;return new b6(Q,J,Z,q,[void 0,Y,K])}visitList($){let{["type"]:Q,["offset"]:J=0,["child"]:K}=$,Y=(0,D5.toUint8Array)($.nullBitmap),Z=(0,D5.toInt32Array)($.valueOffsets),{["length"]:q=Z.length-1,["nullCount"]:X=$.nullBitmap?-1:0}=$;return new b6(Q,J,q,X,[Z,void 0,Y],[K])}visitStruct($){let{["type"]:Q,["offset"]:J=0,["children"]:K=[]}=$,Y=(0,D5.toUint8Array)($.nullBitmap),{length:Z=K.reduce((X,{length:W})=>Math.max(X,W),0),nullCount:q=$.nullBitmap?-1:0}=$;return new b6(Q,J,Z,q,[void 0,void 0,Y],K)}visitUnion($){let{["type"]:Q,["offset"]:J=0,["children"]:K=[]}=$,Y=(0,D5.toArrayBufferView)(Q.ArrayType,$.typeIds),{["length"]:Z=Y.length,["nullCount"]:q=-1}=$;if(w9.DataType.isSparseUnion(Q))return new b6(Q,J,Z,q,[void 0,void 0,void 0,Y],K);let X=(0,D5.toInt32Array)($.valueOffsets);return new b6(Q,J,Z,q,[X,void 0,void 0,Y],K)}visitDictionary($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,D5.toUint8Array)($.nullBitmap),Y=(0,D5.toArrayBufferView)(Q.indices.ArrayType,$.data),{["dictionary"]:Z=new z41.Vector([new LR().visit({type:Q.dictionary})])}=$,{["length"]:q=Y.length,["nullCount"]:X=$.nullBitmap?-1:0}=$;return new b6(Q,J,q,X,[void 0,Y,K],[],Z)}visitInterval($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,D5.toUint8Array)($.nullBitmap),Y=(0,D5.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:Z=Y.length/(0,w9.strideForType)(Q),["nullCount"]:q=$.nullBitmap?-1:0}=$;return new b6(Q,J,Z,q,[void 0,Y,K])}visitDuration($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,D5.toUint8Array)($.nullBitmap),Y=(0,D5.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:Z=Y.length,["nullCount"]:q=$.nullBitmap?-1:0}=$;return new b6(Q,J,Z,q,[void 0,Y,K])}visitFixedSizeList($){let{["type"]:Q,["offset"]:J=0,["child"]:K=new LR().visit({type:Q.valueType})}=$,Y=(0,D5.toUint8Array)($.nullBitmap),{["length"]:Z=K.length/(0,w9.strideForType)(Q),["nullCount"]:q=$.nullBitmap?-1:0}=$;return new b6(Q,J,Z,q,[void 0,void 0,Y],[K])}visitMap($){let{["type"]:Q,["offset"]:J=0,["child"]:K=new LR().visit({type:Q.childType})}=$,Y=(0,D5.toUint8Array)($.nullBitmap),Z=(0,D5.toInt32Array)($.valueOffsets),{["length"]:q=Z.length-1,["nullCount"]:X=$.nullBitmap?-1:0}=$;return new b6(Q,J,q,X,[Z,void 0,Y],[K])}}var V41=new LR;function R41($){return V41.visit($)}_W0.makeData=R41});var Ik=C0((bW0)=>{Object.defineProperty(bW0,"__esModule",{value:!0});bW0.wrapChunkedIndexOf=bW0.wrapChunkedCall2=bW0.wrapChunkedCall1=bW0.isChunkedValid=bW0.binarySearch=bW0.sliceChunks=bW0.computeChunkOffsets=bW0.computeChunkNullCounts=bW0.computeChunkNullable=bW0.ChunkedIterator=void 0;class MW0{constructor($=0,Q){this.numChunks=$,this.getChunkIterator=Q,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){while(this.chunkIndex<this.numChunks){let $=this.chunkIterator.next();if(!$.done)return $;if(++this.chunkIndex<this.numChunks)this.chunkIterator=this.getChunkIterator(this.chunkIndex)}return{done:!0,value:null}}[Symbol.iterator](){return this}}bW0.ChunkedIterator=MW0;function O41($){return $.some((Q)=>Q.nullable)}bW0.computeChunkNullable=O41;function w41($){return $.reduce((Q,J)=>Q+J.nullCount,0)}bW0.computeChunkNullCounts=w41;function T41($){return $.reduce((Q,J,K)=>{return Q[K+1]=Q[K]+J.length,Q},new Uint32Array($.length+1))}bW0.computeChunkOffsets=T41;function D41($,Q,J,K){let Y=[];for(let Z=-1,q=$.length;++Z<q;){let X=$[Z],W=Q[Z],{length:F}=X;if(W>=K)break;if(J>=W+F)continue;if(W>=J&&W+F<=K){Y.push(X);continue}let H=Math.max(0,J-W),B=Math.min(K-W,F);Y.push(X.slice(H,B-H))}if(Y.length===0)Y.push($[0].slice(0,0));return Y}bW0.sliceChunks=D41;function fk($,Q,J,K){let Y=0,Z=0,q=Q.length-1;do{if(Y>=q-1)return J<Q[q]?K($,Y,J-Q[Y]):null;Z=Y+Math.trunc((q-Y)*0.5),J<Q[Z]?q=Z:Y=Z}while(Y<q)}bW0.binarySearch=fk;function C41($,Q){return $.getValid(Q)}bW0.isChunkedValid=C41;function P41($){function Q(J,K,Y){return $(J[K],Y)}return function(J){let K=this.data;return fk(K,this._offsets,J,Q)}}bW0.wrapChunkedCall1=P41;function k41($){let Q;function J(K,Y,Z){return $(K[Y],Z,Q)}return function(K,Y){let Z=this.data;Q=Y;let q=fk(Z,this._offsets,K,J);return Q=void 0,q}}bW0.wrapChunkedCall2=k41;function j41($){let Q;function J(K,Y,Z){let q=Z,X=0,W=0;for(let F=Y-1,H=K.length;++F<H;){let B=K[F];if(~(X=$(B,Q,q)))return W+X;q=0,W+=B.length}return-1}return function(K,Y){Q=K;let Z=this.data,q=typeof Y!=="number"?J(Z,0,0):fk(Z,this._offsets,Y,J);return Q=void 0,q}}bW0.wrapChunkedIndexOf=j41});var Mk=C0((pW0)=>{Object.defineProperty(pW0,"__esModule",{value:!0});pW0.instance=pW0.IndexOfVisitor=void 0;var yW0=A7(),b41=O9(),cW0=EW(),xW0=_W(),uW0=MN();class m1 extends b41.Visitor{}pW0.IndexOfVisitor=m1;function g41($,Q){return Q===null&&$.length>0?0:-1}function y41($,Q){let{nullBitmap:J}=$;if(!J||$.nullCount<=0)return-1;let K=0;for(let Y of new xW0.BitIterator(J,$.offset+(Q||0),$.length,J,xW0.getBool)){if(!Y)return K;++K}return-1}function Y5($,Q,J){if(Q===void 0)return-1;if(Q===null)switch($.typeId){case yW0.Type.Union:break;case yW0.Type.Dictionary:break;default:return y41($,J)}let K=cW0.instance.getVisitFn($),Y=(0,uW0.createElementComparator)(Q);for(let Z=(J||0)-1,q=$.length;++Z<q;)if(Y(K($,Z)))return Z;return-1}function mW0($,Q,J){let K=cW0.instance.getVisitFn($),Y=(0,uW0.createElementComparator)(Q);for(let Z=(J||0)-1,q=$.length;++Z<q;)if(Y(K($,Z)))return Z;return-1}m1.prototype.visitNull=g41;m1.prototype.visitBool=Y5;m1.prototype.visitInt=Y5;m1.prototype.visitInt8=Y5;m1.prototype.visitInt16=Y5;m1.prototype.visitInt32=Y5;m1.prototype.visitInt64=Y5;m1.prototype.visitUint8=Y5;m1.prototype.visitUint16=Y5;m1.prototype.visitUint32=Y5;m1.prototype.visitUint64=Y5;m1.prototype.visitFloat=Y5;m1.prototype.visitFloat16=Y5;m1.prototype.visitFloat32=Y5;m1.prototype.visitFloat64=Y5;m1.prototype.visitUtf8=Y5;m1.prototype.visitLargeUtf8=Y5;m1.prototype.visitBinary=Y5;m1.prototype.visitLargeBinary=Y5;m1.prototype.visitFixedSizeBinary=Y5;m1.prototype.visitDate=Y5;m1.prototype.visitDateDay=Y5;m1.prototype.visitDateMillisecond=Y5;m1.prototype.visitTimestamp=Y5;m1.prototype.visitTimestampSecond=Y5;m1.prototype.visitTimestampMillisecond=Y5;m1.prototype.visitTimestampMicrosecond=Y5;m1.prototype.visitTimestampNanosecond=Y5;m1.prototype.visitTime=Y5;m1.prototype.visitTimeSecond=Y5;m1.prototype.visitTimeMillisecond=Y5;m1.prototype.visitTimeMicrosecond=Y5;m1.prototype.visitTimeNanosecond=Y5;m1.prototype.visitDecimal=Y5;m1.prototype.visitList=Y5;m1.prototype.visitStruct=Y5;m1.prototype.visitUnion=Y5;m1.prototype.visitDenseUnion=mW0;m1.prototype.visitSparseUnion=mW0;m1.prototype.visitDictionary=Y5;m1.prototype.visitInterval=Y5;m1.prototype.visitIntervalDayTime=Y5;m1.prototype.visitIntervalYearMonth=Y5;m1.prototype.visitDuration=Y5;m1.prototype.visitDurationSecond=Y5;m1.prototype.visitDurationMillisecond=Y5;m1.prototype.visitDurationMicrosecond=Y5;m1.prototype.visitDurationNanosecond=Y5;m1.prototype.visitFixedSizeList=Y5;m1.prototype.visitMap=Y5;pW0.instance=new m1});var bk=C0((rW0)=>{Object.defineProperty(rW0,"__esModule",{value:!0});rW0.instance=rW0.IteratorVisitor=void 0;var c41=O9(),u41=A7(),bc=i6(),nW0=Ik();class p1 extends c41.Visitor{}rW0.IteratorVisitor=p1;function e1($){let{type:Q}=$;if($.nullCount===0&&$.stride===1&&(bc.DataType.isInt(Q)&&Q.bitWidth!==64||bc.DataType.isTime(Q)&&Q.bitWidth!==64||bc.DataType.isFloat(Q)&&Q.precision!==u41.Precision.HALF))return new nW0.ChunkedIterator($.data.length,(K)=>{let Y=$.data[K];return Y.values.subarray(0,Y.length)[Symbol.iterator]()});let J=0;return new nW0.ChunkedIterator($.data.length,(K)=>{let Z=$.data[K].length,q=$.slice(J,J+Z);return J+=Z,new lW0(q)})}class lW0{constructor($){this.vector=$,this.index=0}next(){if(this.index<this.vector.length)return{value:this.vector.get(this.index++)};return{done:!0,value:null}}[Symbol.iterator](){return this}}p1.prototype.visitNull=e1;p1.prototype.visitBool=e1;p1.prototype.visitInt=e1;p1.prototype.visitInt8=e1;p1.prototype.visitInt16=e1;p1.prototype.visitInt32=e1;p1.prototype.visitInt64=e1;p1.prototype.visitUint8=e1;p1.prototype.visitUint16=e1;p1.prototype.visitUint32=e1;p1.prototype.visitUint64=e1;p1.prototype.visitFloat=e1;p1.prototype.visitFloat16=e1;p1.prototype.visitFloat32=e1;p1.prototype.visitFloat64=e1;p1.prototype.visitUtf8=e1;p1.prototype.visitLargeUtf8=e1;p1.prototype.visitBinary=e1;p1.prototype.visitLargeBinary=e1;p1.prototype.visitFixedSizeBinary=e1;p1.prototype.visitDate=e1;p1.prototype.visitDateDay=e1;p1.prototype.visitDateMillisecond=e1;p1.prototype.visitTimestamp=e1;p1.prototype.visitTimestampSecond=e1;p1.prototype.visitTimestampMillisecond=e1;p1.prototype.visitTimestampMicrosecond=e1;p1.prototype.visitTimestampNanosecond=e1;p1.prototype.visitTime=e1;p1.prototype.visitTimeSecond=e1;p1.prototype.visitTimeMillisecond=e1;p1.prototype.visitTimeMicrosecond=e1;p1.prototype.visitTimeNanosecond=e1;p1.prototype.visitDecimal=e1;p1.prototype.visitList=e1;p1.prototype.visitStruct=e1;p1.prototype.visitUnion=e1;p1.prototype.visitDenseUnion=e1;p1.prototype.visitSparseUnion=e1;p1.prototype.visitDictionary=e1;p1.prototype.visitInterval=e1;p1.prototype.visitIntervalDayTime=e1;p1.prototype.visitIntervalYearMonth=e1;p1.prototype.visitDuration=e1;p1.prototype.visitDurationSecond=e1;p1.prototype.visitDurationMillisecond=e1;p1.prototype.visitDurationMicrosecond=e1;p1.prototype.visitDurationNanosecond=e1;p1.prototype.visitFixedSizeList=e1;p1.prototype.visitMap=e1;rW0.instance=new p1});var y4=C0((KF0)=>{var eW0;Object.defineProperty(KF0,"__esModule",{value:!0});KF0.makeVector=KF0.Vector=void 0;var _Y=A7(),sW0=MN(),bN=i6(),T9=dJ(),lJ=Ik(),oW0=EW(),aW0=N3(),tW0=Mk(),p41=bk(),$F0={},QF0={};class E6{constructor($){var Q,J,K;let Y=$[0]instanceof E6?$.flatMap((q)=>q.data):$;if(Y.length===0||Y.some((q)=>!(q instanceof T9.Data)))throw TypeError("Vector constructor expects an Array of Data instances.");let Z=(Q=Y[0])===null||Q===void 0?void 0:Q.type;switch(Y.length){case 0:this._offsets=[0];break;case 1:{let{get:q,set:X,indexOf:W}=$F0[Z.typeId],F=Y[0];this.isValid=(H)=>(0,lJ.isChunkedValid)(F,H),this.get=(H)=>q(F,H),this.set=(H,B)=>X(F,H,B),this.indexOf=(H)=>W(F,H),this._offsets=[0,F.length];break}default:Object.setPrototypeOf(this,QF0[Z.typeId]),this._offsets=(0,lJ.computeChunkOffsets)(Y);break}this.data=Y,this.type=Z,this.stride=(0,bN.strideForType)(Z),this.numChildren=(K=(J=Z.children)===null||J===void 0?void 0:J.length)!==null&&K!==void 0?K:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce(($,Q)=>$+Q.byteLength,0)}get nullable(){return(0,lJ.computeChunkNullable)(this.data)}get nullCount(){return(0,lJ.computeChunkNullCounts)(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${_Y.Type[this.type.typeId]}Vector`}isValid($){return!1}get($){return null}at($){return this.get((0,sW0.wrapIndex)($,this.length))}set($,Q){return}indexOf($,Q){return-1}includes($,Q){return this.indexOf($,Q)>-1}[Symbol.iterator](){return p41.instance.visit(this)}concat(...$){return new E6(this.data.concat($.flatMap((Q)=>Q.data).flat(Number.POSITIVE_INFINITY)))}slice($,Q){return new E6((0,sW0.clampRange)(this,$,Q,({data:J,_offsets:K},Y,Z)=>(0,lJ.sliceChunks)(J,K,Y,Z)))}toJSON(){return[...this]}toArray(){let{type:$,data:Q,length:J,stride:K,ArrayType:Y}=this;switch($.typeId){case _Y.Type.Int:case _Y.Type.Float:case _Y.Type.Decimal:case _Y.Type.Time:case _Y.Type.Timestamp:switch(Q.length){case 0:return new Y;case 1:return Q[0].values.subarray(0,J*K);default:return Q.reduce((Z,{values:q,length:X})=>{return Z.array.set(q.subarray(0,X*K),Z.offset),Z.offset+=X*K,Z},{array:new Y(J*K),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild($){var Q;return this.getChildAt((Q=this.type.children)===null||Q===void 0?void 0:Q.findIndex((J)=>J.name===$))}getChildAt($){if($>-1&&$<this.numChildren)return new E6(this.data.map(({children:Q})=>Q[$]));return null}get isMemoized(){if(bN.DataType.isDictionary(this.type))return this.data[0].dictionary.isMemoized;return!1}memoize(){if(bN.DataType.isDictionary(this.type)){let $=new gk(this.data[0].dictionary),Q=this.data.map((J)=>{let K=J.clone();return K.dictionary=$,K});return new E6(Q)}return new gk(this)}unmemoize(){if(bN.DataType.isDictionary(this.type)&&this.isMemoized){let $=this.data[0].dictionary.unmemoize(),Q=this.data.map((J)=>{let K=J.clone();return K.dictionary=$,K});return new E6(Q)}return this}}KF0.Vector=E6;eW0=Symbol.toStringTag;E6[eW0]=(($)=>{$.type=bN.DataType.prototype,$.data=[],$.length=0,$.stride=1,$.numChildren=0,$._offsets=new Uint32Array([0]),$[Symbol.isConcatSpreadable]=!0;let Q=Object.keys(_Y.Type).map((J)=>_Y.Type[J]).filter((J)=>typeof J==="number"&&J!==_Y.Type.NONE);for(let J of Q){let K=oW0.instance.getVisitFnByTypeId(J),Y=aW0.instance.getVisitFnByTypeId(J),Z=tW0.instance.getVisitFnByTypeId(J);$F0[J]={get:K,set:Y,indexOf:Z},QF0[J]=Object.create($,{["isValid"]:{value:(0,lJ.wrapChunkedCall1)(lJ.isChunkedValid)},["get"]:{value:(0,lJ.wrapChunkedCall1)(oW0.instance.getVisitFnByTypeId(J))},["set"]:{value:(0,lJ.wrapChunkedCall2)(aW0.instance.getVisitFnByTypeId(J))},["indexOf"]:{value:(0,lJ.wrapChunkedIndexOf)(tW0.instance.getVisitFnByTypeId(J))}})}return"Vector"})(E6.prototype);class gk extends E6{constructor($){super($.data);let Q=this.get,J=this.set,K=this.slice,Y=Array(this.length);Object.defineProperty(this,"get",{value(Z){let q=Y[Z];if(q!==void 0)return q;let X=Q.call(this,Z);return Y[Z]=X,X}}),Object.defineProperty(this,"set",{value(Z,q){J.call(this,Z,q),Y[Z]=q}}),Object.defineProperty(this,"slice",{value:(Z,q)=>new gk(K.call(this,Z,q))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new E6(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}var nJ=i6();function JF0($){if($){if($ instanceof T9.Data)return new E6([$]);if($ instanceof E6)return new E6($.data);if($.type instanceof bN.DataType)return new E6([(0,T9.makeData)($)]);if(Array.isArray($))return new E6($.flatMap((Q)=>d41(Q)));if(ArrayBuffer.isView($)){if($ instanceof DataView)$=new Uint8Array($.buffer);let Q={offset:0,length:$.length,nullCount:-1,data:$};if($ instanceof Int8Array)return new E6([(0,T9.makeData)(Object.assign(Object.assign({},Q),{type:new nJ.Int8}))]);if($ instanceof Int16Array)return new E6([(0,T9.makeData)(Object.assign(Object.assign({},Q),{type:new nJ.Int16}))]);if($ instanceof Int32Array)return new E6([(0,T9.makeData)(Object.assign(Object.assign({},Q),{type:new nJ.Int32}))]);if($ instanceof BigInt64Array)return new E6([(0,T9.makeData)(Object.assign(Object.assign({},Q),{type:new nJ.Int64}))]);if($ instanceof Uint8Array||$ instanceof Uint8ClampedArray)return new E6([(0,T9.makeData)(Object.assign(Object.assign({},Q),{type:new nJ.Uint8}))]);if($ instanceof Uint16Array)return new E6([(0,T9.makeData)(Object.assign(Object.assign({},Q),{type:new nJ.Uint16}))]);if($ instanceof Uint32Array)return new E6([(0,T9.makeData)(Object.assign(Object.assign({},Q),{type:new nJ.Uint32}))]);if($ instanceof BigUint64Array)return new E6([(0,T9.makeData)(Object.assign(Object.assign({},Q),{type:new nJ.Uint64}))]);if($ instanceof Float32Array)return new E6([(0,T9.makeData)(Object.assign(Object.assign({},Q),{type:new nJ.Float32}))]);if($ instanceof Float64Array)return new E6([(0,T9.makeData)(Object.assign(Object.assign({},Q),{type:new nJ.Float64}))]);throw Error("Unrecognized input")}}throw Error("Unrecognized input")}KF0.makeVector=JF0;function d41($){return $ instanceof T9.Data?[$]:$ instanceof E6?$.data:JF0($).data}});var WF0=C0((qF0)=>{Object.defineProperty(qF0,"__esModule",{value:!0});qF0.createIsValidFunction=void 0;var ZF0=CR();function l41($){if(!$||$.length<=0)return function(Y){return!0};let Q="",J=$.filter((K)=>K===K);if(J.length>0)Q=`
    switch (x) {${J.map((K)=>`
        case ${r41(K)}:`).join("")}
            return false;
    }`;if($.length!==J.length)Q=`if (x !== x) return false;
${Q}`;return Function("x",`${Q}
return true;`)}qF0.createIsValidFunction=l41;function r41($){if(typeof $!=="bigint")return(0,ZF0.valueToString)($);return`${(0,ZF0.valueToString)($)}n`}});var fY=C0((NF0)=>{Object.defineProperty(NF0,"__esModule",{value:!0});NF0.OffsetsBufferBuilder=NF0.BitmapBufferBuilder=NF0.DataBufferBuilder=NF0.BufferBuilder=void 0;var i41=T8();function gc($,Q){let J=Math.ceil($)*Q-1;return(J-J%64+64||64)/Q}function FF0($,Q=0){return $.length>=Q?$.subarray(0,Q):(0,i41.memcpy)(new $.constructor(Q),$,0)}class yc{constructor($,Q=0,J=1){this.length=Math.ceil(Q/J),this.buffer=new $(this.length),this.stride=J,this.BYTES_PER_ELEMENT=$.BYTES_PER_ELEMENT,this.ArrayType=$}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set($,Q){return this}append($){return this.set(this.length,$)}reserve($){if($>0){this.length+=$;let Q=this.stride,J=this.length*Q,K=this.buffer.length;if(J>=K)this._resize(K===0?gc(J*1,this.BYTES_PER_ELEMENT):gc(J*2,this.BYTES_PER_ELEMENT))}return this}flush($=this.length){$=gc($*this.stride,this.BYTES_PER_ELEMENT);let Q=FF0(this.buffer,$);return this.clear(),Q}clear(){return this.length=0,this.buffer=new this.ArrayType,this}_resize($){return this.buffer=FF0(this.buffer,$)}}NF0.BufferBuilder=yc;class yk extends yc{last(){return this.get(this.length-1)}get($){return this.buffer[$]}set($,Q){return this.reserve($-this.length+1),this.buffer[$*this.stride]=Q,this}}NF0.DataBufferBuilder=yk;class UF0 extends yk{constructor(){super(Uint8Array,0,0.125);this.numValid=0}get numInvalid(){return this.length-this.numValid}get($){return this.buffer[$>>3]>>$%8&1}set($,Q){let{buffer:J}=this.reserve($-this.length+1),K=$>>3,Y=$%8,Z=J[K]>>Y&1;return Q?Z===0&&(J[K]|=1<<Y,++this.numValid):Z===1&&(J[K]&=~(1<<Y),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}NF0.BitmapBufferBuilder=UF0;class HF0 extends yk{constructor($){super($.OffsetArrayType,1,1)}append($){return this.set(this.length-1,$)}set($,Q){let J=this.length-1,K=this.reserve($-J+1).buffer;if(J<$++&&J>=0)K.fill(K[J],J,$);return K[$]=K[$-1]+Q,this}flush($=this.length-1){if($>this.length)this.set($-1,this.BYTES_PER_ELEMENT>4?BigInt(0):0);return super.flush($+1)}}NF0.OffsetsBufferBuilder=HF0});var X7=C0((RF0)=>{Object.defineProperty(RF0,"__esModule",{value:!0});RF0.VariableWidthBuilder=RF0.FixedWidthBuilder=RF0.Builder=void 0;var t41=y4(),e41=dJ(),zF0=jR(),$91=i6(),Q91=WF0(),xc=fY();class rJ{static throughNode($){throw Error('"throughNode" not available in this environment')}static throughDOM($){throw Error('"throughDOM" not available in this environment')}constructor({type:$,nullValues:Q}){if(this.length=0,this.finished=!1,this.type=$,this.children=[],this.nullValues=Q,this.stride=(0,$91.strideForType)($),this._nulls=new xc.BitmapBufferBuilder,Q&&Q.length>0)this._isValid=(0,Q91.createIsValidFunction)(Q)}toVector(){return new t41.Vector([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let $=0,{_offsets:Q,_values:J,_nulls:K,_typeIds:Y,children:Z}=this;return Q&&($+=Q.byteLength),J&&($+=J.byteLength),K&&($+=K.byteLength),Y&&($+=Y.byteLength),Z.reduce((q,X)=>q+X.byteLength,$)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let $=0;return this._offsets&&($+=this._offsets.reservedByteLength),this._values&&($+=this._values.reservedByteLength),this._nulls&&($+=this._nulls.reservedByteLength),this._typeIds&&($+=this._typeIds.reservedByteLength),this.children.reduce((Q,J)=>Q+J.reservedByteLength,$)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append($){return this.set(this.length,$)}isValid($){return this._isValid($)}set($,Q){if(this.setValid($,this.isValid(Q)))this.setValue($,Q);return this}setValue($,Q){this._setValue(this,$,Q)}setValid($,Q){return this.length=this._nulls.set($,+Q).length,Q}addChild($,Q=`${this.numChildren}`){throw Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt($){return this.children[$]||null}flush(){let $,Q,J,K,{type:Y,length:Z,nullCount:q,_typeIds:X,_offsets:W,_values:F,_nulls:H}=this;if(Q=X===null||X===void 0?void 0:X.flush(Z))K=W===null||W===void 0?void 0:W.flush(Z);else if(K=W===null||W===void 0?void 0:W.flush(Z))$=F===null||F===void 0?void 0:F.flush(W.last());else $=F===null||F===void 0?void 0:F.flush(Z);if(q>0)J=H===null||H===void 0?void 0:H.flush(Z);let B=this.children.map((z)=>z.flush());return this.clear(),(0,e41.makeData)({type:Y,length:Z,nullCount:q,children:B,child:B[0],data:$,typeIds:Q,nullBitmap:J,valueOffsets:K})}finish(){this.finished=!0;for(let $ of this.children)$.finish();return this}clear(){var $,Q,J,K;this.length=0,($=this._nulls)===null||$===void 0||$.clear(),(Q=this._values)===null||Q===void 0||Q.clear(),(J=this._offsets)===null||J===void 0||J.clear(),(K=this._typeIds)===null||K===void 0||K.clear();for(let Y of this.children)Y.clear();return this}}RF0.Builder=rJ;rJ.prototype.length=1;rJ.prototype.stride=1;rJ.prototype.children=null;rJ.prototype.finished=!1;rJ.prototype.nullValues=null;rJ.prototype._isValid=()=>!0;class AF0 extends rJ{constructor($){super($);this._values=new xc.DataBufferBuilder(this.ArrayType,0,this.stride)}setValue($,Q){let J=this._values;return J.reserve($-J.length+1),super.setValue($,Q)}}RF0.FixedWidthBuilder=AF0;class VF0 extends rJ{constructor($){super($);this._pendingLength=0,this._offsets=new xc.OffsetsBufferBuilder($.type)}setValue($,Q){let J=this._pending||(this._pending=new Map),K=J.get($);K&&(this._pendingLength-=K.length),this._pendingLength+=Q instanceof zF0.MapRow?Q[zF0.kKeys].length:Q.length,J.set($,Q)}setValid($,Q){if(!super.setValid($,Q))return(this._pending||(this._pending=new Map)).set($,void 0),!1;return!0}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){let $=this._pending,Q=this._pendingLength;if(this._pendingLength=0,this._pending=void 0,$&&$.size>0)this._flushPending($,Q);return this}}RF0.VariableWidthBuilder=VF0});var cc=C0((wF0)=>{Object.defineProperty(wF0,"__esModule",{value:!0});wF0.Block=void 0;class OF0{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock($,Q,J,K){return $.prep(8,24),$.writeInt64(BigInt(K!==null&&K!==void 0?K:0)),$.pad(4),$.writeInt32(J),$.writeInt64(BigInt(Q!==null&&Q!==void 0?Q:0)),$.offset()}}wF0.Block=OF0});var jF0=C0((PF0)=>{Object.defineProperty(PF0,"__esModule",{value:!0});PF0.Footer=void 0;var Y91=k5(),DF0=cc(),Z91=zN(),CF0=gP(),q91=Qk();class xk{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsFooter($,Q){return(Q||new xk).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsFooter($,Q){return $.setPosition($.position()+Y91.SIZE_PREFIX_LENGTH),(Q||new xk).__init($.readInt32($.position())+$.position(),$)}version(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):CF0.MetadataVersion.V1}schema($){let Q=this.bb.__offset(this.bb_pos,6);return Q?($||new q91.Schema).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}dictionaries($,Q){let J=this.bb.__offset(this.bb_pos,8);return J?(Q||new DF0.Block).__init(this.bb.__vector(this.bb_pos+J)+$*24,this.bb):null}dictionariesLength(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.__vector_len(this.bb_pos+$):0}recordBatches($,Q){let J=this.bb.__offset(this.bb_pos,10);return J?(Q||new DF0.Block).__init(this.bb.__vector(this.bb_pos+J)+$*24,this.bb):null}recordBatchesLength(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.__vector_len(this.bb_pos+$):0}customMetadata($,Q){let J=this.bb.__offset(this.bb_pos,12);return J?(Q||new Z91.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}customMetadataLength(){let $=this.bb.__offset(this.bb_pos,12);return $?this.bb.__vector_len(this.bb_pos+$):0}static startFooter($){$.startObject(5)}static addVersion($,Q){$.addFieldInt16(0,Q,CF0.MetadataVersion.V1)}static addSchema($,Q){$.addFieldOffset(1,Q,0)}static addDictionaries($,Q){$.addFieldOffset(2,Q,0)}static startDictionariesVector($,Q){$.startVector(24,Q,8)}static addRecordBatches($,Q){$.addFieldOffset(3,Q,0)}static startRecordBatchesVector($,Q){$.startVector(24,Q,8)}static addCustomMetadata($,Q){$.addFieldOffset(4,Q,0)}static createCustomMetadataVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startCustomMetadataVector($,Q){$.startVector(4,Q,4)}static endFooter($){return $.endObject()}static finishFooterBuffer($,Q){$.finish(Q)}static finishSizePrefixedFooterBuffer($,Q){$.finish(Q,void 0,!0)}}PF0.Footer=xk});var D9=C0((EF0)=>{Object.defineProperty(EF0,"__esModule",{value:!0});EF0.Field=EF0.Schema=void 0;var X91=A7(),W91=i6();class CQ{constructor($=[],Q,J,K=X91.MetadataVersion.V5){if(this.fields=$||[],this.metadata=Q||new Map,!J)J=uc(this.fields);this.dictionaries=J,this.metadataVersion=K}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(($)=>$.name)}toString(){return`Schema<{ ${this.fields.map(($,Q)=>`${Q}: ${$}`).join(", ")} }>`}select($){let Q=new Set($),J=this.fields.filter((K)=>Q.has(K.name));return new CQ(J,this.metadata)}selectAt($){let Q=$.map((J)=>this.fields[J]).filter(Boolean);return new CQ(Q,this.metadata)}assign(...$){let Q=$[0]instanceof CQ?$[0]:Array.isArray($[0])?new CQ($[0]):new CQ($),J=[...this.fields],K=ck(ck(new Map,this.metadata),Q.metadata),Y=Q.fields.filter((q)=>{let X=J.findIndex((W)=>W.name===q.name);return~X?(J[X]=q.clone({metadata:ck(ck(new Map,J[X].metadata),q.metadata)}))&&!1:!0}),Z=uc(Y,new Map);return new CQ([...J,...Y],K,new Map([...this.dictionaries,...Z]))}}EF0.Schema=CQ;CQ.prototype.fields=null;CQ.prototype.metadata=null;CQ.prototype.dictionaries=null;class cq{static new(...$){let[Q,J,K,Y]=$;if($[0]&&typeof $[0]==="object")({name:Q}=$[0]),J===void 0&&(J=$[0].type),K===void 0&&(K=$[0].nullable),Y===void 0&&(Y=$[0].metadata);return new cq(`${Q}`,J,K,Y)}constructor($,Q,J=!1,K){this.name=$,this.type=Q,this.nullable=J,this.metadata=K||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...$){let[Q,J,K,Y]=$;return!$[0]||typeof $[0]!=="object"?[Q=this.name,J=this.type,K=this.nullable,Y=this.metadata]=$:{name:Q=this.name,type:J=this.type,nullable:K=this.nullable,metadata:Y=this.metadata}=$[0],cq.new(Q,J,K,Y)}}EF0.Field=cq;cq.prototype.type=null;cq.prototype.name=null;cq.prototype.nullable=null;cq.prototype.metadata=null;function ck($,Q){return new Map([...$||new Map,...Q||new Map])}function uc($,Q=new Map){for(let J=-1,K=$.length;++J<K;){let Z=$[J].type;if(W91.DataType.isDictionary(Z)){if(!Q.has(Z.id))Q.set(Z.id,Z.dictionary);else if(Q.get(Z.id)!==Z.dictionary)throw Error("Cannot create Schema containing two different dictionaries with the same Id")}if(Z.children&&Z.children.length>0)uc(Z.children,Q)}return Q}});var pc=C0((IF0)=>{Object.defineProperty(IF0,"__esModule",{value:!0});IF0.FileBlock=IF0.Footer=void 0;var U91=cc(),iJ=jF0(),_F0=k5(),H91=_F0.Builder,N91=_F0.ByteBuffer,hF0=D9(),vF0=A7(),B91=T8(),SF0=Iq();class mc{static decode($){$=new N91((0,B91.toUint8Array)($));let Q=iJ.Footer.getRootAsFooter($),J=hF0.Schema.decode(Q.schema(),new Map,Q.version());return new fF0(J,Q)}static encode($){let Q=new H91,J=hF0.Schema.encode(Q,$.schema);iJ.Footer.startRecordBatchesVector(Q,$.numRecordBatches);for(let Z of[...$.recordBatches()].slice().reverse())fW.encode(Q,Z);let K=Q.endVector();iJ.Footer.startDictionariesVector(Q,$.numDictionaries);for(let Z of[...$.dictionaryBatches()].slice().reverse())fW.encode(Q,Z);let Y=Q.endVector();return iJ.Footer.startFooter(Q),iJ.Footer.addSchema(Q,J),iJ.Footer.addVersion(Q,vF0.MetadataVersion.V5),iJ.Footer.addRecordBatches(Q,K),iJ.Footer.addDictionaries(Q,Y),iJ.Footer.finishFooterBuffer(Q,iJ.Footer.endFooter(Q)),Q.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor($,Q=vF0.MetadataVersion.V5,J,K){this.schema=$,this.version=Q,J&&(this._recordBatches=J),K&&(this._dictionaryBatches=K)}*recordBatches(){for(let $,Q=-1,J=this.numRecordBatches;++Q<J;)if($=this.getRecordBatch(Q))yield $}*dictionaryBatches(){for(let $,Q=-1,J=this.numDictionaries;++Q<J;)if($=this.getDictionaryBatch(Q))yield $}getRecordBatch($){return $>=0&&$<this.numRecordBatches&&this._recordBatches[$]||null}getDictionaryBatch($){return $>=0&&$<this.numDictionaries&&this._dictionaryBatches[$]||null}}IF0.Footer=mc;class fF0 extends mc{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor($,Q){super($,Q.version());this._footer=Q}getRecordBatch($){if($>=0&&$<this.numRecordBatches){let Q=this._footer.recordBatches($);if(Q)return fW.decode(Q)}return null}getDictionaryBatch($){if($>=0&&$<this.numDictionaries){let Q=this._footer.dictionaries($);if(Q)return fW.decode(Q)}return null}}class fW{static decode($){return new fW($.metaDataLength(),$.bodyLength(),$.offset())}static encode($,Q){let{metaDataLength:J}=Q,K=BigInt(Q.offset),Y=BigInt(Q.bodyLength);return U91.Block.createBlock($,K,J,Y)}constructor($,Q,J){this.metaDataLength=$,this.offset=(0,SF0.bigIntToNumber)(J),this.bodyLength=(0,SF0.bigIntToNumber)(Q)}}IF0.FileBlock=fW});var SR=C0((xF0)=>{Object.defineProperty(xF0,"__esModule",{value:!0});xF0.AsyncQueue=xF0.ReadableInterop=xF0.ArrowJSON=xF0.ITERATOR_DONE=void 0;var hR=(R9(),F3(V9)),bF0=wR();xF0.ITERATOR_DONE=Object.freeze({done:!0,value:void 0});class gF0{constructor($){this._json=$}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}xF0.ArrowJSON=gF0;class dc{tee(){return this._getDOMStream().tee()}pipe($,Q){return this._getNodeStream().pipe($,Q)}pipeTo($,Q){return this._getDOMStream().pipeTo($,Q)}pipeThrough($,Q){return this._getDOMStream().pipeThrough($,Q)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}xF0.ReadableInterop=dc;class yF0 extends dc{constructor(){super();this._values=[],this.resolvers=[],this._closedPromise=new Promise(($)=>this._closedPromiseResolve=$)}get closed(){return this._closedPromise}cancel($){return hR.__awaiter(this,void 0,void 0,function*(){yield this.return($)})}write($){if(this._ensureOpen())this.resolvers.length<=0?this._values.push($):this.resolvers.shift().resolve({done:!1,value:$})}abort($){if(this._closedPromiseResolve)this.resolvers.length<=0?this._error={error:$}:this.resolvers.shift().reject({done:!0,value:$})}close(){if(this._closedPromiseResolve){let{resolvers:$}=this;while($.length>0)$.shift().resolve(xF0.ITERATOR_DONE);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream($){return bF0.default.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,$)}toNodeStream($){return bF0.default.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,$)}throw($){return hR.__awaiter(this,void 0,void 0,function*(){return yield this.abort($),xF0.ITERATOR_DONE})}return($){return hR.__awaiter(this,void 0,void 0,function*(){return yield this.close(),xF0.ITERATOR_DONE})}read($){return hR.__awaiter(this,void 0,void 0,function*(){return(yield this.next($,"read")).value})}peek($){return hR.__awaiter(this,void 0,void 0,function*(){return(yield this.next($,"peek")).value})}next(...$){if(this._values.length>0)return Promise.resolve({done:!1,value:this._values.shift()});else if(this._error)return Promise.reject({done:!0,value:this._error.error});else if(!this._closedPromiseResolve)return Promise.resolve(xF0.ITERATOR_DONE);else return new Promise((Q,J)=>{this.resolvers.push({resolve:Q,reject:J})})}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw Error("AsyncQueue is closed")}}xF0.AsyncQueue=yF0});var dq=C0((dF0)=>{Object.defineProperty(dF0,"__esModule",{value:!0});dF0.AsyncByteStream=dF0.ByteStream=dF0.AsyncByteQueue=void 0;var pq=(R9(),F3(V9)),uq=wR(),uF0=Cq(),_R=SR(),nc=T8(),gN=Pq();class lc extends _R.AsyncQueue{write($){if(($=(0,nc.toUint8Array)($)).byteLength>0)return super.write($)}toString($=!1){return $?(0,uF0.decodeUtf8)(this.toUint8Array(!0)):this.toUint8Array(!1).then(uF0.decodeUtf8)}toUint8Array($=!1){return $?(0,nc.joinUint8Arrays)(this._values)[0]:(()=>pq.__awaiter(this,void 0,void 0,function*(){var Q,J,K,Y;let Z=[],q=0;try{for(var X=!0,W=pq.__asyncValues(this),F;F=yield W.next(),Q=F.done,!Q;X=!0){Y=F.value,X=!1;let H=Y;Z.push(H),q+=H.byteLength}}catch(H){J={error:H}}finally{try{if(!X&&!Q&&(K=W.return))yield K.call(W)}finally{if(J)throw J.error}}return(0,nc.joinUint8Arrays)(Z,q)[0]}))()}}dF0.AsyncByteQueue=lc;class mF0{constructor($){if($)this.source=new pF0(uq.default.fromIterable($))}[Symbol.iterator](){return this}next($){return this.source.next($)}throw($){return this.source.throw($)}return($){return this.source.return($)}peek($){return this.source.peek($)}read($){return this.source.read($)}}dF0.ByteStream=mF0;class rc{constructor($){if($ instanceof rc)this.source=$.source;else if($ instanceof lc)this.source=new mq(uq.default.fromAsyncIterable($));else if((0,gN.isReadableNodeStream)($))this.source=new mq(uq.default.fromNodeStream($));else if((0,gN.isReadableDOMStream)($))this.source=new mq(uq.default.fromDOMStream($));else if((0,gN.isFetchResponse)($))this.source=new mq(uq.default.fromDOMStream($.body));else if((0,gN.isIterable)($))this.source=new mq(uq.default.fromIterable($));else if((0,gN.isPromise)($))this.source=new mq(uq.default.fromAsyncIterable($));else if((0,gN.isAsyncIterable)($))this.source=new mq(uq.default.fromAsyncIterable($))}[Symbol.asyncIterator](){return this}next($){return this.source.next($)}throw($){return this.source.throw($)}return($){return this.source.return($)}get closed(){return this.source.closed}cancel($){return this.source.cancel($)}peek($){return this.source.peek($)}read($){return this.source.read($)}}dF0.AsyncByteStream=rc;class pF0{constructor($){this.source=$}cancel($){this.return($)}peek($){return this.next($,"peek").value}read($){return this.next($,"read").value}next($,Q="read"){return this.source.next({cmd:Q,size:$})}throw($){return Object.create(this.source.throw&&this.source.throw($)||_R.ITERATOR_DONE)}return($){return Object.create(this.source.return&&this.source.return($)||_R.ITERATOR_DONE)}}class mq{constructor($){this.source=$,this._closedPromise=new Promise((Q)=>this._closedPromiseResolve=Q)}cancel($){return pq.__awaiter(this,void 0,void 0,function*(){yield this.return($)})}get closed(){return this._closedPromise}read($){return pq.__awaiter(this,void 0,void 0,function*(){return(yield this.next($,"read")).value})}peek($){return pq.__awaiter(this,void 0,void 0,function*(){return(yield this.next($,"peek")).value})}next($){return pq.__awaiter(this,arguments,void 0,function*(Q,J="read"){return yield this.source.next({cmd:J,size:Q})})}throw($){return pq.__awaiter(this,void 0,void 0,function*(){let Q=this.source.throw&&(yield this.source.throw($))||_R.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(Q)})}return($){return pq.__awaiter(this,void 0,void 0,function*(){let Q=this.source.return&&(yield this.source.return($))||_R.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(Q)})}}});var ic=C0((sF0)=>{Object.defineProperty(sF0,"__esModule",{value:!0});sF0.AsyncRandomAccessFile=sF0.RandomAccessFile=void 0;var nq=(R9(),F3(V9)),lF0=dq(),O91=T8();class rF0 extends lF0.ByteStream{constructor($,Q){super();this.position=0,this.buffer=(0,O91.toUint8Array)($),this.size=Q===void 0?this.buffer.byteLength:Q}readInt32($){let{buffer:Q,byteOffset:J}=this.readAt($,4);return new DataView(Q,J).getInt32(0,!0)}seek($){return this.position=Math.min($,this.size),$<this.size}read($){let{buffer:Q,size:J,position:K}=this;if(Q&&K<J){if(typeof $!=="number")$=Number.POSITIVE_INFINITY;return this.position=Math.min(J,K+Math.min(J-K,$)),Q.subarray(K,this.position)}return null}readAt($,Q){let J=this.buffer,K=Math.min(this.size,$+Q);return J?J.subarray($,K):new Uint8Array(Q)}close(){this.buffer&&(this.buffer=null)}throw($){return this.close(),{done:!0,value:$}}return($){return this.close(),{done:!0,value:$}}}sF0.RandomAccessFile=rF0;class iF0 extends lF0.AsyncByteStream{constructor($,Q){super();if(this.position=0,this._handle=$,typeof Q==="number")this.size=Q;else this._pending=(()=>nq.__awaiter(this,void 0,void 0,function*(){this.size=(yield $.stat()).size,delete this._pending}))()}readInt32($){return nq.__awaiter(this,void 0,void 0,function*(){let{buffer:Q,byteOffset:J}=yield this.readAt($,4);return new DataView(Q,J).getInt32(0,!0)})}seek($){return nq.__awaiter(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min($,this.size),$<this.size})}read($){return nq.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:Q,size:J,position:K}=this;if(Q&&K<J){if(typeof $!=="number")$=Number.POSITIVE_INFINITY;let Y=K,Z=0,q=0,X=Math.min(J,Y+Math.min(J-Y,$)),W=new Uint8Array(Math.max(0,(this.position=X)-Y));while((Y+=q)<X&&(Z+=q)<W.byteLength)({bytesRead:q}=yield Q.read(W,Z,W.byteLength-Z,Y));return W}return null})}readAt($,Q){return nq.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:J,size:K}=this;if(J&&$+Q<K){let Y=Math.min(K,$+Q),Z=new Uint8Array(Y-$);return(yield J.read(Z,0,Q,$)).buffer}return new Uint8Array(Q)})}close(){return nq.__awaiter(this,void 0,void 0,function*(){let $=this._handle;this._handle=null,$&&(yield $.close())})}throw($){return nq.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:$}})}return($){return nq.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:$}})}}sF0.AsyncRandomAccessFile=iF0});var oc=C0((aF0)=>{Object.defineProperty(aF0,"__esModule",{value:!0});aF0.Int128=aF0.Int64=aF0.Uint64=aF0.BaseInt64=void 0;var T91=65536;function yN($){if($<0)$=4294967295+$+1;return`0x${$.toString(16)}`}var xN=8,sc=[1,10,100,1000,1e4,1e5,1e6,1e7,1e8];class uk{constructor($){this.buffer=$}high(){return this.buffer[1]}low(){return this.buffer[0]}_times($){let Q=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),J=new Uint32Array([$.buffer[1]>>>16,$.buffer[1]&65535,$.buffer[0]>>>16,$.buffer[0]&65535]),K=Q[3]*J[3];this.buffer[0]=K&65535;let Y=K>>>16;return K=Q[2]*J[3],Y+=K,K=Q[3]*J[2]>>>0,Y+=K,this.buffer[0]+=Y<<16,this.buffer[1]=Y>>>0<K?T91:0,this.buffer[1]+=Y>>>16,this.buffer[1]+=Q[1]*J[3]+Q[2]*J[2]+Q[3]*J[1],this.buffer[1]+=Q[0]*J[3]+Q[1]*J[2]+Q[2]*J[1]+Q[3]*J[0]<<16,this}_plus($){let Q=this.buffer[0]+$.buffer[0]>>>0;if(this.buffer[1]+=$.buffer[1],Q<this.buffer[0]>>>0)++this.buffer[1];this.buffer[0]=Q}lessThan($){return this.buffer[1]<$.buffer[1]||this.buffer[1]===$.buffer[1]&&this.buffer[0]<$.buffer[0]}equals($){return this.buffer[1]===$.buffer[1]&&this.buffer[0]==$.buffer[0]}greaterThan($){return $.lessThan(this)}hex(){return`${yN(this.buffer[1])} ${yN(this.buffer[0])}`}}aF0.BaseInt64=uk;class B6 extends uk{times($){return this._times($),this}plus($){return this._plus($),this}static from($,Q=new Uint32Array(2)){return B6.fromString(typeof $==="string"?$:$.toString(),Q)}static fromNumber($,Q=new Uint32Array(2)){return B6.fromString($.toString(),Q)}static fromString($,Q=new Uint32Array(2)){let J=$.length,K=new B6(Q);for(let Y=0;Y<J;){let Z=xN<J-Y?xN:J-Y,q=new B6(new Uint32Array([Number.parseInt($.slice(Y,Y+Z),10),0])),X=new B6(new Uint32Array([sc[Z],0]));K.times(X),K.plus(q),Y+=Z}return K}static convertArray($){let Q=new Uint32Array($.length*2);for(let J=-1,K=$.length;++J<K;)B6.from($[J],new Uint32Array(Q.buffer,Q.byteOffset+2*J*4,2));return Q}static multiply($,Q){return new B6(new Uint32Array($.buffer)).times(Q)}static add($,Q){return new B6(new Uint32Array($.buffer)).plus(Q)}}aF0.Uint64=B6;class Z$ extends uk{negate(){if(this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0)++this.buffer[1];return this}times($){return this._times($),this}plus($){return this._plus($),this}lessThan($){let Q=this.buffer[1]<<0,J=$.buffer[1]<<0;return Q<J||Q===J&&this.buffer[0]<$.buffer[0]}static from($,Q=new Uint32Array(2)){return Z$.fromString(typeof $==="string"?$:$.toString(),Q)}static fromNumber($,Q=new Uint32Array(2)){return Z$.fromString($.toString(),Q)}static fromString($,Q=new Uint32Array(2)){let J=$.startsWith("-"),K=$.length,Y=new Z$(Q);for(let Z=J?1:0;Z<K;){let q=xN<K-Z?xN:K-Z,X=new Z$(new Uint32Array([Number.parseInt($.slice(Z,Z+q),10),0])),W=new Z$(new Uint32Array([sc[q],0]));Y.times(W),Y.plus(X),Z+=q}return J?Y.negate():Y}static convertArray($){let Q=new Uint32Array($.length*2);for(let J=-1,K=$.length;++J<K;)Z$.from($[J],new Uint32Array(Q.buffer,Q.byteOffset+2*J*4,2));return Q}static multiply($,Q){return new Z$(new Uint32Array($.buffer)).times(Q)}static add($,Q){return new Z$(new Uint32Array($.buffer)).plus(Q)}}aF0.Int64=Z$;class sJ{constructor($){this.buffer=$}high(){return new Z$(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new Z$(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){if(this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0)++this.buffer[1];if(this.buffer[1]==0)++this.buffer[2];if(this.buffer[2]==0)++this.buffer[3];return this}times($){let Q=new B6(new Uint32Array([this.buffer[3],0])),J=new B6(new Uint32Array([this.buffer[2],0])),K=new B6(new Uint32Array([this.buffer[1],0])),Y=new B6(new Uint32Array([this.buffer[0],0])),Z=new B6(new Uint32Array([$.buffer[3],0])),q=new B6(new Uint32Array([$.buffer[2],0])),X=new B6(new Uint32Array([$.buffer[1],0])),W=new B6(new Uint32Array([$.buffer[0],0])),F=B6.multiply(Y,W);this.buffer[0]=F.low();let H=new B6(new Uint32Array([F.high(),0]));return F=B6.multiply(K,W),H.plus(F),F=B6.multiply(Y,X),H.plus(F),this.buffer[1]=H.low(),this.buffer[3]=H.lessThan(F)?1:0,this.buffer[2]=H.high(),new B6(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(B6.multiply(J,W)).plus(B6.multiply(K,X)).plus(B6.multiply(Y,q)),this.buffer[3]+=B6.multiply(Q,W).plus(B6.multiply(J,X)).plus(B6.multiply(K,q)).plus(B6.multiply(Y,Z)).low(),this}plus($){let Q=new Uint32Array(4);if(Q[3]=this.buffer[3]+$.buffer[3]>>>0,Q[2]=this.buffer[2]+$.buffer[2]>>>0,Q[1]=this.buffer[1]+$.buffer[1]>>>0,Q[0]=this.buffer[0]+$.buffer[0]>>>0,Q[0]<this.buffer[0]>>>0)++Q[1];if(Q[1]<this.buffer[1]>>>0)++Q[2];if(Q[2]<this.buffer[2]>>>0)++Q[3];return this.buffer[3]=Q[3],this.buffer[2]=Q[2],this.buffer[1]=Q[1],this.buffer[0]=Q[0],this}hex(){return`${yN(this.buffer[3])} ${yN(this.buffer[2])} ${yN(this.buffer[1])} ${yN(this.buffer[0])}`}static multiply($,Q){return new sJ(new Uint32Array($.buffer)).times(Q)}static add($,Q){return new sJ(new Uint32Array($.buffer)).plus(Q)}static from($,Q=new Uint32Array(4)){return sJ.fromString(typeof $==="string"?$:$.toString(),Q)}static fromNumber($,Q=new Uint32Array(4)){return sJ.fromString($.toString(),Q)}static fromString($,Q=new Uint32Array(4)){let J=$.startsWith("-"),K=$.length,Y=new sJ(Q);for(let Z=J?1:0;Z<K;){let q=xN<K-Z?xN:K-Z,X=new sJ(new Uint32Array([Number.parseInt($.slice(Z,Z+q),10),0,0,0])),W=new sJ(new Uint32Array([sc[q],0,0,0]));Y.times(W),Y.plus(X),Z+=q}return J?Y.negate():Y}static convertArray($){let Q=new Uint32Array($.length*4);for(let J=-1,K=$.length;++J<K;)sJ.from($[J],new Uint32Array(Q.buffer,Q.byteOffset+16*J,4));return Q}}aF0.Int128=sJ});var KU0=C0((QU0)=>{Object.defineProperty(QU0,"__esModule",{value:!0});QU0.JSONVectorLoader=QU0.VectorLoader=void 0;var P7=dJ(),k91=D9(),q$=i6(),j91=O9(),eF0=_W(),E91=Cq(),mk=oc(),pk=A7(),oJ=T8();class ac extends j91.Visitor{constructor($,Q,J,K,Y=pk.MetadataVersion.V5){super();this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=$,this.nodes=Q,this.buffers=J,this.dictionaries=K,this.metadataVersion=Y}visit($){return super.visit($ instanceof k91.Field?$.type:$)}visitNull($,{length:Q}=this.nextFieldNode()){return(0,P7.makeData)({type:$,length:Q})}visitBool($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,P7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitInt($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,P7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitFloat($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,P7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitUtf8($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,P7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),valueOffsets:this.readOffsets($),data:this.readData($)})}visitLargeUtf8($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,P7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),valueOffsets:this.readOffsets($),data:this.readData($)})}visitBinary($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,P7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),valueOffsets:this.readOffsets($),data:this.readData($)})}visitLargeBinary($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,P7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),valueOffsets:this.readOffsets($),data:this.readData($)})}visitFixedSizeBinary($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,P7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitDate($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,P7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitTimestamp($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,P7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitTime($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,P7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitDecimal($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,P7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitList($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,P7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),valueOffsets:this.readOffsets($),child:this.visit($.children[0])})}visitStruct($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,P7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),children:this.visitMany($.children)})}visitUnion($,{length:Q,nullCount:J}=this.nextFieldNode()){if(this.metadataVersion<pk.MetadataVersion.V5)this.readNullBitmap($,J);return $.mode===pk.UnionMode.Sparse?this.visitSparseUnion($,{length:Q,nullCount:J}):this.visitDenseUnion($,{length:Q,nullCount:J})}visitDenseUnion($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,P7.makeData)({type:$,length:Q,nullCount:J,typeIds:this.readTypeIds($),valueOffsets:this.readOffsets($),children:this.visitMany($.children)})}visitSparseUnion($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,P7.makeData)({type:$,length:Q,nullCount:J,typeIds:this.readTypeIds($),children:this.visitMany($.children)})}visitDictionary($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,P7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($.indices),dictionary:this.readDictionary($)})}visitInterval($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,P7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitDuration($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,P7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitFixedSizeList($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,P7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),child:this.visit($.children[0])})}visitMap($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,P7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),valueOffsets:this.readOffsets($),child:this.visit($.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap($,Q,J=this.nextBufferRange()){return Q>0&&this.readData($,J)||new Uint8Array(0)}readOffsets($,Q){return this.readData($,Q)}readTypeIds($,Q){return this.readData($,Q)}readData($,{length:Q,offset:J}=this.nextBufferRange()){return this.bytes.subarray(J,J+Q)}readDictionary($){return this.dictionaries.get($.id)}}QU0.VectorLoader=ac;class $U0 extends ac{constructor($,Q,J,K,Y){super(new Uint8Array(0),Q,J,K,Y);this.sources=$}readNullBitmap($,Q,{offset:J}=this.nextBufferRange()){return Q<=0?new Uint8Array(0):(0,eF0.packBools)(this.sources[J])}readOffsets($,{offset:Q}=this.nextBufferRange()){return(0,oJ.toArrayBufferView)(Uint8Array,(0,oJ.toArrayBufferView)($.OffsetArrayType,this.sources[Q]))}readTypeIds($,{offset:Q}=this.nextBufferRange()){return(0,oJ.toArrayBufferView)(Uint8Array,(0,oJ.toArrayBufferView)($.ArrayType,this.sources[Q]))}readData($,{offset:Q}=this.nextBufferRange()){let{sources:J}=this;if(q$.DataType.isTimestamp($))return(0,oJ.toArrayBufferView)(Uint8Array,mk.Int64.convertArray(J[Q]));else if((q$.DataType.isInt($)||q$.DataType.isTime($))&&$.bitWidth===64||q$.DataType.isDuration($))return(0,oJ.toArrayBufferView)(Uint8Array,mk.Int64.convertArray(J[Q]));else if(q$.DataType.isDate($)&&$.unit===pk.DateUnit.MILLISECOND)return(0,oJ.toArrayBufferView)(Uint8Array,mk.Int64.convertArray(J[Q]));else if(q$.DataType.isDecimal($))return(0,oJ.toArrayBufferView)(Uint8Array,mk.Int128.convertArray(J[Q]));else if(q$.DataType.isBinary($)||q$.DataType.isLargeBinary($)||q$.DataType.isFixedSizeBinary($))return L91(J[Q]);else if(q$.DataType.isBool($))return(0,eF0.packBools)(J[Q]);else if(q$.DataType.isUtf8($)||q$.DataType.isLargeUtf8($))return(0,E91.encodeUtf8)(J[Q].join(""));return(0,oJ.toArrayBufferView)(Uint8Array,(0,oJ.toArrayBufferView)($.ArrayType,J[Q].map((K)=>+K)))}}QU0.JSONVectorLoader=$U0;function L91($){let Q=$.join(""),J=new Uint8Array(Q.length/2);for(let K=0;K<Q.length;K+=2)J[K>>1]=Number.parseInt(Q.slice(K,K+2),16);return J}});var dk=C0((ZU0)=>{Object.defineProperty(ZU0,"__esModule",{value:!0});ZU0.BinaryBuilder=void 0;var v91=fY(),S91=X7(),_91=T8();class YU0 extends S91.VariableWidthBuilder{constructor($){super($);this._values=new v91.BufferBuilder(Uint8Array)}get byteLength(){let $=this._pendingLength+this.length*4;return this._offsets&&($+=this._offsets.byteLength),this._values&&($+=this._values.byteLength),this._nulls&&($+=this._nulls.byteLength),$}setValue($,Q){return super.setValue($,(0,_91.toUint8Array)(Q))}_flushPending($,Q){let J=this._offsets,K=this._values.reserve(Q).buffer,Y=0;for(let[Z,q]of $)if(q===void 0)J.set(Z,0);else{let X=q.length;K.set(q,Y),J.set(Z,X),Y+=X}}}ZU0.BinaryBuilder=YU0});var nk=C0((WU0)=>{Object.defineProperty(WU0,"__esModule",{value:!0});WU0.LargeBinaryBuilder=void 0;var f91=T8(),I91=fY(),M91=X7();class XU0 extends M91.VariableWidthBuilder{constructor($){super($);this._values=new I91.BufferBuilder(Uint8Array)}get byteLength(){let $=this._pendingLength+this.length*4;return this._offsets&&($+=this._offsets.byteLength),this._values&&($+=this._values.byteLength),this._nulls&&($+=this._nulls.byteLength),$}setValue($,Q){return super.setValue($,(0,f91.toUint8Array)(Q))}_flushPending($,Q){let J=this._offsets,K=this._values.reserve(Q).buffer,Y=0;for(let[Z,q]of $)if(q===void 0)J.set(Z,BigInt(0));else{let X=q.length;K.set(q,Y),J.set(Z,BigInt(X)),Y+=X}}}WU0.LargeBinaryBuilder=XU0});var tc=C0((HU0)=>{Object.defineProperty(HU0,"__esModule",{value:!0});HU0.BoolBuilder=void 0;var b91=fY(),g91=X7();class UU0 extends g91.Builder{constructor($){super($);this._values=new b91.BitmapBufferBuilder}setValue($,Q){this._values.set($,+Q)}}HU0.BoolBuilder=UU0});var Ju=C0((BU0)=>{Object.defineProperty(BU0,"__esModule",{value:!0});BU0.DateMillisecondBuilder=BU0.DateDayBuilder=BU0.DateBuilder=void 0;var y91=X7(),ec=N3();class fR extends y91.FixedWidthBuilder{}BU0.DateBuilder=fR;fR.prototype._setValue=ec.setDate;class $u extends fR{}BU0.DateDayBuilder=$u;$u.prototype._setValue=ec.setDateDay;class Qu extends fR{}BU0.DateMillisecondBuilder=Qu;Qu.prototype._setValue=ec.setDateMillisecond});var Yu=C0((AU0)=>{Object.defineProperty(AU0,"__esModule",{value:!0});AU0.DecimalBuilder=void 0;var u91=X7(),m91=N3();class Ku extends u91.FixedWidthBuilder{}AU0.DecimalBuilder=Ku;Ku.prototype._setValue=m91.setDecimal});var Zu=C0((OU0)=>{Object.defineProperty(OU0,"__esModule",{value:!0});OU0.DictionaryBuilder=void 0;var p91=i6(),d91=X7(),RU0=IR();class GU0 extends d91.Builder{constructor({type:$,nullValues:Q,dictionaryHashFunction:J}){super({type:new p91.Dictionary($.dictionary,$.indices,$.id,$.isOrdered)});if(this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=(0,RU0.makeBuilder)({type:this.type.indices,nullValues:Q}),this.dictionary=(0,RU0.makeBuilder)({type:this.type.dictionary,nullValues:null}),typeof J==="function")this.valueToKey=J}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid($){return this.indices.isValid($)}setValid($,Q){let J=this.indices;return Q=J.setValid($,Q),this.length=J.length,Q}setValue($,Q){let J=this._keysToIndices,K=this.valueToKey(Q),Y=J[K];if(Y===void 0)J[K]=Y=this._dictionaryOffset+this.dictionary.append(Q).length-1;return this.indices.setValue($,Y)}flush(){let $=this.type,Q=this._dictionary,J=this.dictionary.toVector(),K=this.indices.flush().clone($);return K.dictionary=Q?Q.concat(J):J,this.finished||(this._dictionaryOffset+=J.length),this._dictionary=K.dictionary,this.clear(),K}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey($){return typeof $==="string"?$:`${$}`}}OU0.DictionaryBuilder=GU0});var Xu=C0((TU0)=>{Object.defineProperty(TU0,"__esModule",{value:!0});TU0.FixedSizeBinaryBuilder=void 0;var n91=X7(),l91=N3();class qu extends n91.FixedWidthBuilder{}TU0.FixedSizeBinaryBuilder=qu;qu.prototype._setValue=l91.setFixedSizeBinary});var Wu=C0((PU0)=>{Object.defineProperty(PU0,"__esModule",{value:!0});PU0.FixedSizeListBuilder=void 0;var r91=D9(),i91=X7(),s91=i6();class CU0 extends i91.Builder{setValue($,Q){let[J]=this.children,K=$*this.stride;for(let Y=-1,Z=Q.length;++Y<Z;)J.set(K+Y,Q[Y])}addChild($,Q="0"){if(this.numChildren>0)throw Error("FixedSizeListBuilder can only have one child.");let J=this.children.push($);return this.type=new s91.FixedSizeList(this.type.listSize,new r91.Field(Q,$.type,!0)),J}}PU0.FixedSizeListBuilder=CU0});var Fu=C0((hU0)=>{Object.defineProperty(hU0,"__esModule",{value:!0});hU0.Float64Builder=hU0.Float32Builder=hU0.Float16Builder=hU0.FloatBuilder=void 0;var o91=kR(),a91=X7();class MR extends a91.FixedWidthBuilder{setValue($,Q){this._values.set($,Q)}}hU0.FloatBuilder=MR;class jU0 extends MR{setValue($,Q){super.setValue($,(0,o91.float64ToUint16)(Q))}}hU0.Float16Builder=jU0;class EU0 extends MR{}hU0.Float32Builder=EU0;class LU0 extends MR{}hU0.Float64Builder=LU0});var Bu=C0((SU0)=>{Object.defineProperty(SU0,"__esModule",{value:!0});SU0.IntervalYearMonthBuilder=SU0.IntervalDayTimeBuilder=SU0.IntervalBuilder=void 0;var Q31=X7(),Uu=N3();class bR extends Q31.FixedWidthBuilder{}SU0.IntervalBuilder=bR;bR.prototype._setValue=Uu.setIntervalValue;class Hu extends bR{}SU0.IntervalDayTimeBuilder=Hu;Hu.prototype._setValue=Uu.setIntervalDayTime;class Nu extends bR{}SU0.IntervalYearMonthBuilder=Nu;Nu.prototype._setValue=Uu.setIntervalYearMonth});var Gu=C0((fU0)=>{Object.defineProperty(fU0,"__esModule",{value:!0});fU0.DurationNanosecondBuilder=fU0.DurationMicrosecondBuilder=fU0.DurationMillisecondBuilder=fU0.DurationSecondBuilder=fU0.DurationBuilder=void 0;var Y31=X7(),gR=N3();class IW extends Y31.FixedWidthBuilder{}fU0.DurationBuilder=IW;IW.prototype._setValue=gR.setDuration;class zu extends IW{}fU0.DurationSecondBuilder=zu;zu.prototype._setValue=gR.setDurationSecond;class Au extends IW{}fU0.DurationMillisecondBuilder=Au;Au.prototype._setValue=gR.setDurationMillisecond;class Vu extends IW{}fU0.DurationMicrosecondBuilder=Vu;Vu.prototype._setValue=gR.setDurationMicrosecond;class Ru extends IW{}fU0.DurationNanosecondBuilder=Ru;Ru.prototype._setValue=gR.setDurationNanosecond});var Ou=C0((pU0)=>{Object.defineProperty(pU0,"__esModule",{value:!0});pU0.Uint64Builder=pU0.Uint32Builder=pU0.Uint16Builder=pU0.Uint8Builder=pU0.Int64Builder=pU0.Int32Builder=pU0.Int16Builder=pU0.Int8Builder=pU0.IntBuilder=void 0;var F31=X7();class aJ extends F31.FixedWidthBuilder{setValue($,Q){this._values.set($,Q)}}pU0.IntBuilder=aJ;class MU0 extends aJ{}pU0.Int8Builder=MU0;class bU0 extends aJ{}pU0.Int16Builder=bU0;class gU0 extends aJ{}pU0.Int32Builder=gU0;class yU0 extends aJ{}pU0.Int64Builder=yU0;class xU0 extends aJ{}pU0.Uint8Builder=xU0;class cU0 extends aJ{}pU0.Uint16Builder=cU0;class uU0 extends aJ{}pU0.Uint32Builder=uU0;class mU0 extends aJ{}pU0.Uint64Builder=mU0});var wu=C0((lU0)=>{Object.defineProperty(lU0,"__esModule",{value:!0});lU0.ListBuilder=void 0;var G31=D9(),O31=i6(),w31=fY(),T31=X7();class nU0 extends T31.VariableWidthBuilder{constructor($){super($);this._offsets=new w31.OffsetsBufferBuilder($.type)}addChild($,Q="0"){if(this.numChildren>0)throw Error("ListBuilder can only have one child.");return this.children[this.numChildren]=$,this.type=new O31.List(new G31.Field(Q,$.type,!0)),this.numChildren-1}_flushPending($){let Q=this._offsets,[J]=this.children;for(let[K,Y]of $)if(typeof Y>"u")Q.set(K,0);else{let Z=Y,q=Z.length,X=Q.set(K,q).buffer[K];for(let W=-1;++W<q;)J.set(X+W,Z[W])}}}lU0.ListBuilder=nU0});var Tu=C0((sU0)=>{Object.defineProperty(sU0,"__esModule",{value:!0});sU0.MapBuilder=void 0;var D31=D9(),C31=i6(),P31=X7();class iU0 extends P31.VariableWidthBuilder{set($,Q){return super.set($,Q)}setValue($,Q){let J=Q instanceof Map?Q:new Map(Object.entries(Q)),K=this._pending||(this._pending=new Map),Y=K.get($);Y&&(this._pendingLength-=Y.size),this._pendingLength+=J.size,K.set($,J)}addChild($,Q=`${this.numChildren}`){if(this.numChildren>0)throw Error("ListBuilder can only have one child.");return this.children[this.numChildren]=$,this.type=new C31.Map_(new D31.Field(Q,$.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending($){let Q=this._offsets,[J]=this.children;for(let[K,Y]of $)if(Y===void 0)Q.set(K,0);else{let{[K]:Z,[K+1]:q}=Q.set(K,Y.size).buffer;for(let X of Y.entries())if(J.set(Z,X),++Z>=q)break}}}sU0.MapBuilder=iU0});var Du=C0((tU0)=>{Object.defineProperty(tU0,"__esModule",{value:!0});tU0.NullBuilder=void 0;var k31=X7();class aU0 extends k31.Builder{setValue($,Q){}setValid($,Q){return this.length=Math.max($+1,this.length),Q}}tU0.NullBuilder=aU0});var Cu=C0((QH0)=>{Object.defineProperty(QH0,"__esModule",{value:!0});QH0.StructBuilder=void 0;var j31=D9(),E31=X7(),L31=i6();class $H0 extends E31.Builder{setValue($,Q){let{children:J,type:K}=this;switch(Array.isArray(Q)||Q.constructor){case!0:return K.children.forEach((Y,Z)=>J[Z].set($,Q[Z]));case Map:return K.children.forEach((Y,Z)=>J[Z].set($,Q.get(Y.name)));default:return K.children.forEach((Y,Z)=>J[Z].set($,Q[Y.name]))}}setValid($,Q){if(!super.setValid($,Q))this.children.forEach((J)=>J.setValid($,Q));return Q}addChild($,Q=`${this.numChildren}`){let J=this.children.push($);return this.type=new L31.Struct([...this.type.children,new j31.Field(Q,$.type,!0)]),J}}QH0.StructBuilder=$H0});var Lu=C0((KH0)=>{Object.defineProperty(KH0,"__esModule",{value:!0});KH0.TimestampNanosecondBuilder=KH0.TimestampMicrosecondBuilder=KH0.TimestampMillisecondBuilder=KH0.TimestampSecondBuilder=KH0.TimestampBuilder=void 0;var h31=X7(),yR=N3();class MW extends h31.FixedWidthBuilder{}KH0.TimestampBuilder=MW;MW.prototype._setValue=yR.setTimestamp;class Pu extends MW{}KH0.TimestampSecondBuilder=Pu;Pu.prototype._setValue=yR.setTimestampSecond;class ku extends MW{}KH0.TimestampMillisecondBuilder=ku;ku.prototype._setValue=yR.setTimestampMillisecond;class ju extends MW{}KH0.TimestampMicrosecondBuilder=ju;ju.prototype._setValue=yR.setTimestampMicrosecond;class Eu extends MW{}KH0.TimestampNanosecondBuilder=Eu;Eu.prototype._setValue=yR.setTimestampNanosecond});var fu=C0((ZH0)=>{Object.defineProperty(ZH0,"__esModule",{value:!0});ZH0.TimeNanosecondBuilder=ZH0.TimeMicrosecondBuilder=ZH0.TimeMillisecondBuilder=ZH0.TimeSecondBuilder=ZH0.TimeBuilder=void 0;var I31=X7(),xR=N3();class bW extends I31.FixedWidthBuilder{}ZH0.TimeBuilder=bW;bW.prototype._setValue=xR.setTime;class hu extends bW{}ZH0.TimeSecondBuilder=hu;hu.prototype._setValue=xR.setTimeSecond;class vu extends bW{}ZH0.TimeMillisecondBuilder=vu;vu.prototype._setValue=xR.setTimeMillisecond;class Su extends bW{}ZH0.TimeMicrosecondBuilder=Su;Su.prototype._setValue=xR.setTimeMicrosecond;class _u extends bW{}ZH0.TimeNanosecondBuilder=_u;_u.prototype._setValue=xR.setTimeNanosecond});var Iu=C0((UH0)=>{Object.defineProperty(UH0,"__esModule",{value:!0});UH0.DenseUnionBuilder=UH0.SparseUnionBuilder=UH0.UnionBuilder=void 0;var x31=D9(),XH0=fY(),c31=X7(),u31=i6();class lk extends c31.Builder{constructor($){super($);if(this._typeIds=new XH0.DataBufferBuilder(Int8Array,0,1),typeof $.valueToChildTypeId==="function")this._valueToChildTypeId=$.valueToChildTypeId}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append($,Q){return this.set(this.length,$,Q)}set($,Q,J){if(J===void 0)J=this._valueToChildTypeId(this,Q,$);return this.setValue($,Q,J),this}setValue($,Q,J){this._typeIds.set($,J);let K=this.type.typeIdToChildIndex[J],Y=this.children[K];Y===null||Y===void 0||Y.set($,Q)}addChild($,Q=`${this.children.length}`){let J=this.children.push($),{type:{children:K,mode:Y,typeIds:Z}}=this,q=[...K,new x31.Field(Q,$.type)];return this.type=new u31.Union(Y,[...Z,J],q),J}_valueToChildTypeId($,Q,J){throw Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}UH0.UnionBuilder=lk;class WH0 extends lk{}UH0.SparseUnionBuilder=WH0;class FH0 extends lk{constructor($){super($);this._offsets=new XH0.DataBufferBuilder(Int32Array)}setValue($,Q,J){let K=this._typeIds.set($,J).buffer[$],Y=this.getChildAt(this.type.typeIdToChildIndex[K]),Z=this._offsets.set($,Y.length).buffer[$];Y===null||Y===void 0||Y.set(Z,Q)}}UH0.DenseUnionBuilder=FH0});var bu=C0((NH0)=>{Object.defineProperty(NH0,"__esModule",{value:!0});NH0.Utf8Builder=void 0;var d31=Cq(),n31=dk(),l31=fY(),r31=X7();class Mu extends r31.VariableWidthBuilder{constructor($){super($);this._values=new l31.BufferBuilder(Uint8Array)}get byteLength(){let $=this._pendingLength+this.length*4;return this._offsets&&($+=this._offsets.byteLength),this._values&&($+=this._values.byteLength),this._nulls&&($+=this._nulls.byteLength),$}setValue($,Q){return super.setValue($,(0,d31.encodeUtf8)(Q))}_flushPending($,Q){}}NH0.Utf8Builder=Mu;Mu.prototype._flushPending=n31.BinaryBuilder.prototype._flushPending});var yu=C0((zH0)=>{Object.defineProperty(zH0,"__esModule",{value:!0});zH0.LargeUtf8Builder=void 0;var i31=Cq(),s31=fY(),o31=X7(),a31=nk();class gu extends o31.VariableWidthBuilder{constructor($){super($);this._values=new s31.BufferBuilder(Uint8Array)}get byteLength(){let $=this._pendingLength+this.length*4;return this._offsets&&($+=this._offsets.byteLength),this._values&&($+=this._values.byteLength),this._nulls&&($+=this._nulls.byteLength),$}setValue($,Q){return super.setValue($,(0,i31.encodeUtf8)(Q))}_flushPending($,Q){}}zH0.LargeUtf8Builder=gu;gu.prototype._flushPending=a31.LargeBinaryBuilder.prototype._flushPending});var GH0=C0((VH0)=>{Object.defineProperty(VH0,"__esModule",{value:!0});VH0.instance=VH0.GetBuilderCtor=void 0;var t31=O9(),e31=dk(),$$1=nk(),Q$1=tc(),xu=Ju(),J$1=Yu(),K$1=Zu(),Y$1=Xu(),Z$1=Wu(),rk=Fu(),cu=Bu(),cR=Gu(),IY=Ou(),q$1=wu(),X$1=Tu(),W$1=Du(),F$1=Cu(),uR=Lu(),mR=fu(),uu=Iu(),U$1=bu(),H$1=yu();class mu extends t31.Visitor{visitNull(){return W$1.NullBuilder}visitBool(){return Q$1.BoolBuilder}visitInt(){return IY.IntBuilder}visitInt8(){return IY.Int8Builder}visitInt16(){return IY.Int16Builder}visitInt32(){return IY.Int32Builder}visitInt64(){return IY.Int64Builder}visitUint8(){return IY.Uint8Builder}visitUint16(){return IY.Uint16Builder}visitUint32(){return IY.Uint32Builder}visitUint64(){return IY.Uint64Builder}visitFloat(){return rk.FloatBuilder}visitFloat16(){return rk.Float16Builder}visitFloat32(){return rk.Float32Builder}visitFloat64(){return rk.Float64Builder}visitUtf8(){return U$1.Utf8Builder}visitLargeUtf8(){return H$1.LargeUtf8Builder}visitBinary(){return e31.BinaryBuilder}visitLargeBinary(){return $$1.LargeBinaryBuilder}visitFixedSizeBinary(){return Y$1.FixedSizeBinaryBuilder}visitDate(){return xu.DateBuilder}visitDateDay(){return xu.DateDayBuilder}visitDateMillisecond(){return xu.DateMillisecondBuilder}visitTimestamp(){return uR.TimestampBuilder}visitTimestampSecond(){return uR.TimestampSecondBuilder}visitTimestampMillisecond(){return uR.TimestampMillisecondBuilder}visitTimestampMicrosecond(){return uR.TimestampMicrosecondBuilder}visitTimestampNanosecond(){return uR.TimestampNanosecondBuilder}visitTime(){return mR.TimeBuilder}visitTimeSecond(){return mR.TimeSecondBuilder}visitTimeMillisecond(){return mR.TimeMillisecondBuilder}visitTimeMicrosecond(){return mR.TimeMicrosecondBuilder}visitTimeNanosecond(){return mR.TimeNanosecondBuilder}visitDecimal(){return J$1.DecimalBuilder}visitList(){return q$1.ListBuilder}visitStruct(){return F$1.StructBuilder}visitUnion(){return uu.UnionBuilder}visitDenseUnion(){return uu.DenseUnionBuilder}visitSparseUnion(){return uu.SparseUnionBuilder}visitDictionary(){return K$1.DictionaryBuilder}visitInterval(){return cu.IntervalBuilder}visitIntervalDayTime(){return cu.IntervalDayTimeBuilder}visitIntervalYearMonth(){return cu.IntervalYearMonthBuilder}visitDuration(){return cR.DurationBuilder}visitDurationSecond(){return cR.DurationSecondBuilder}visitDurationMillisecond(){return cR.DurationMillisecondBuilder}visitDurationMicrosecond(){return cR.DurationMicrosecondBuilder}visitDurationNanosecond(){return cR.DurationNanosecondBuilder}visitFixedSizeList(){return Z$1.FixedSizeListBuilder}visitMap(){return X$1.MapBuilder}}VH0.GetBuilderCtor=mu;VH0.instance=new mu});var lR=C0((OH0)=>{Object.defineProperty(OH0,"__esModule",{value:!0});OH0.compareTypes=OH0.compareFields=OH0.compareSchemas=OH0.instance=OH0.TypeComparator=void 0;var B$1=O9();class d1 extends B$1.Visitor{compareSchemas($,Q){return $===Q||Q instanceof $.constructor&&this.compareManyFields($.fields,Q.fields)}compareManyFields($,Q){return $===Q||Array.isArray($)&&Array.isArray(Q)&&$.length===Q.length&&$.every((J,K)=>this.compareFields(J,Q[K]))}compareFields($,Q){return $===Q||Q instanceof $.constructor&&$.name===Q.name&&$.nullable===Q.nullable&&this.visit($.type,Q.type)}}OH0.TypeComparator=d1;function x4($,Q){return Q instanceof $.constructor}function gW($,Q){return $===Q||x4($,Q)}function MY($,Q){return $===Q||x4($,Q)&&$.bitWidth===Q.bitWidth&&$.isSigned===Q.isSigned}function ik($,Q){return $===Q||x4($,Q)&&$.precision===Q.precision}function z$1($,Q){return $===Q||x4($,Q)&&$.byteWidth===Q.byteWidth}function pu($,Q){return $===Q||x4($,Q)&&$.unit===Q.unit}function pR($,Q){return $===Q||x4($,Q)&&$.unit===Q.unit&&$.timezone===Q.timezone}function dR($,Q){return $===Q||x4($,Q)&&$.unit===Q.unit&&$.bitWidth===Q.bitWidth}function A$1($,Q){return $===Q||x4($,Q)&&$.children.length===Q.children.length&&OH0.instance.compareManyFields($.children,Q.children)}function V$1($,Q){return $===Q||x4($,Q)&&$.children.length===Q.children.length&&OH0.instance.compareManyFields($.children,Q.children)}function du($,Q){return $===Q||x4($,Q)&&$.mode===Q.mode&&$.typeIds.every((J,K)=>J===Q.typeIds[K])&&OH0.instance.compareManyFields($.children,Q.children)}function R$1($,Q){return $===Q||x4($,Q)&&$.id===Q.id&&$.isOrdered===Q.isOrdered&&OH0.instance.visit($.indices,Q.indices)&&OH0.instance.visit($.dictionary,Q.dictionary)}function nu($,Q){return $===Q||x4($,Q)&&$.unit===Q.unit}function nR($,Q){return $===Q||x4($,Q)&&$.unit===Q.unit}function G$1($,Q){return $===Q||x4($,Q)&&$.listSize===Q.listSize&&$.children.length===Q.children.length&&OH0.instance.compareManyFields($.children,Q.children)}function O$1($,Q){return $===Q||x4($,Q)&&$.keysSorted===Q.keysSorted&&$.children.length===Q.children.length&&OH0.instance.compareManyFields($.children,Q.children)}d1.prototype.visitNull=gW;d1.prototype.visitBool=gW;d1.prototype.visitInt=MY;d1.prototype.visitInt8=MY;d1.prototype.visitInt16=MY;d1.prototype.visitInt32=MY;d1.prototype.visitInt64=MY;d1.prototype.visitUint8=MY;d1.prototype.visitUint16=MY;d1.prototype.visitUint32=MY;d1.prototype.visitUint64=MY;d1.prototype.visitFloat=ik;d1.prototype.visitFloat16=ik;d1.prototype.visitFloat32=ik;d1.prototype.visitFloat64=ik;d1.prototype.visitUtf8=gW;d1.prototype.visitLargeUtf8=gW;d1.prototype.visitBinary=gW;d1.prototype.visitLargeBinary=gW;d1.prototype.visitFixedSizeBinary=z$1;d1.prototype.visitDate=pu;d1.prototype.visitDateDay=pu;d1.prototype.visitDateMillisecond=pu;d1.prototype.visitTimestamp=pR;d1.prototype.visitTimestampSecond=pR;d1.prototype.visitTimestampMillisecond=pR;d1.prototype.visitTimestampMicrosecond=pR;d1.prototype.visitTimestampNanosecond=pR;d1.prototype.visitTime=dR;d1.prototype.visitTimeSecond=dR;d1.prototype.visitTimeMillisecond=dR;d1.prototype.visitTimeMicrosecond=dR;d1.prototype.visitTimeNanosecond=dR;d1.prototype.visitDecimal=gW;d1.prototype.visitList=A$1;d1.prototype.visitStruct=V$1;d1.prototype.visitUnion=du;d1.prototype.visitDenseUnion=du;d1.prototype.visitSparseUnion=du;d1.prototype.visitDictionary=R$1;d1.prototype.visitInterval=nu;d1.prototype.visitIntervalDayTime=nu;d1.prototype.visitIntervalYearMonth=nu;d1.prototype.visitDuration=nR;d1.prototype.visitDurationSecond=nR;d1.prototype.visitDurationMillisecond=nR;d1.prototype.visitDurationMicrosecond=nR;d1.prototype.visitDurationNanosecond=nR;d1.prototype.visitFixedSizeList=G$1;d1.prototype.visitMap=O$1;OH0.instance=new d1;function w$1($,Q){return OH0.instance.compareSchemas($,Q)}OH0.compareSchemas=w$1;function T$1($,Q){return OH0.instance.compareFields($,Q)}OH0.compareFields=T$1;function D$1($,Q){return OH0.instance.visit($,Q)}OH0.compareTypes=D$1});var IR=C0((PH0)=>{Object.defineProperty(PH0,"__esModule",{value:!0});PH0.builderThroughAsyncIterable=PH0.builderThroughIterable=PH0.tableFromJSON=PH0.vectorFromArray=PH0.makeBuilder=void 0;var cN=(R9(),F3(V9)),lu=D9(),X$=i6(),j$1=dJ(),TH0=y4(),E$1=GH0(),L$1=uN(),h$1=lq(),v$1=lR();function ok($){let Q=$.type,J=new(E$1.instance.getVisitFn(Q)())($);if(Q.children&&Q.children.length>0){let K=$.children||[],Y={nullValues:$.nullValues},Z=Array.isArray(K)?(q,X)=>K[X]||Y:({name:q})=>K[q]||Y;for(let[q,X]of Q.children.entries()){let{type:W}=X,F=Z(X,q);J.children.push(ok(Object.assign(Object.assign({},F),{type:W})))}}return J}PH0.makeBuilder=ok;function DH0($,Q){if($ instanceof j$1.Data||$ instanceof TH0.Vector||$.type instanceof X$.DataType||ArrayBuffer.isView($))return(0,TH0.makeVector)($);let J={type:Q!==null&&Q!==void 0?Q:sk($),nullValues:[null]},K=[...CH0(J)($)],Y=K.length===1?K[0]:K.reduce((Z,q)=>Z.concat(q));if(X$.DataType.isDictionary(Y.type))return Y.memoize();return Y}PH0.vectorFromArray=DH0;function S$1($){let Q=DH0($),J=new h$1.RecordBatch(new lu.Schema(Q.type.children),Q.data[0]);return new L$1.Table(J)}PH0.tableFromJSON=S$1;function sk($){if($.length===0)return new X$.Null;let Q=0,J=0,K=0,Y=0,Z=0,q=0,X=0,W=0;for(let F of $){if(F==null){++Q;continue}switch(typeof F){case"bigint":++q;continue;case"boolean":++X;continue;case"number":++Y;continue;case"string":++Z;continue;case"object":if(Array.isArray(F))++J;else if(Object.prototype.toString.call(F)==="[object Date]")++W;else++K;continue}throw TypeError("Unable to infer Vector type from input values, explicit type declaration expected.")}if(Y+Q===$.length)return new X$.Float64;else if(Z+Q===$.length)return new X$.Dictionary(new X$.Utf8,new X$.Int32);else if(q+Q===$.length)return new X$.Int64;else if(X+Q===$.length)return new X$.Bool;else if(W+Q===$.length)return new X$.TimestampMillisecond;else if(J+Q===$.length){let F=$,H=sk(F[F.findIndex((B)=>B!=null)]);if(F.every((B)=>B==null||(0,v$1.compareTypes)(H,sk(B))))return new X$.List(new lu.Field("",H,!0))}else if(K+Q===$.length){let F=new Map;for(let H of $)for(let B of Object.keys(H))if(!F.has(B)&&H[B]!=null)F.set(B,new lu.Field(B,sk([H[B]]),!0));return new X$.Struct([...F.values()])}throw TypeError("Unable to infer Vector type from input values, explicit type declaration expected.")}function CH0($){let{["queueingStrategy"]:Q="count"}=$,{["highWaterMark"]:J=Q!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=$,K=Q!=="bytes"?"length":"byteLength";return function*(Y){let Z=0,q=ok($);for(let X of Y)if(q.append(X)[K]>=J)++Z&&(yield q.toVector());if(q.finish().length>0||Z===0)yield q.toVector()}}PH0.builderThroughIterable=CH0;function _$1($){let{["queueingStrategy"]:Q="count"}=$,{["highWaterMark"]:J=Q!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=$,K=Q!=="bytes"?"length":"byteLength";return function(Y){return cN.__asyncGenerator(this,arguments,function*(){var Z,q,X,W;let F=0,H=ok($);try{for(var B=!0,z=cN.__asyncValues(Y),A;A=yield cN.__await(z.next()),Z=A.done,!Z;B=!0){W=A.value,B=!1;let R=W;if(H.append(R)[K]>=J)++F&&(yield yield cN.__await(H.toVector()))}}catch(R){q={error:R}}finally{try{if(!B&&!Z&&(X=z.return))yield cN.__await(X.call(z))}finally{if(q)throw q.error}}if(H.finish().length>0||F===0)yield yield cN.__await(H.toVector())})}}PH0.builderThroughAsyncIterable=_$1});var hH0=C0((EH0)=>{Object.defineProperty(EH0,"__esModule",{value:!0});EH0.distributeVectorsIntoRecordBatches=void 0;var jH0=dJ(),g$1=i6(),y$1=lq();function x$1($,Q){return c$1($,Q.map((J)=>J.data.concat()))}EH0.distributeVectorsIntoRecordBatches=x$1;function c$1($,Q){let J=[...$.fields],K=[],Y={numBatches:Q.reduce((B,z)=>Math.max(B,z.length),0)},Z=0,q=0,X=-1,W=Q.length,F,H=[];while(Y.numBatches-- >0){for(q=Number.POSITIVE_INFINITY,X=-1;++X<W;)H[X]=F=Q[X].shift(),q=Math.min(q,F?F.length:q);if(Number.isFinite(q)){if(H=u$1(J,q,H,Q,Y),q>0)K[Z++]=(0,jH0.makeData)({type:new g$1.Struct(J),length:q,nullCount:0,children:H.slice()})}}return[$=$.assign(J),K.map((B)=>new y$1.RecordBatch($,B))]}function u$1($,Q,J,K,Y){var Z;let q=(Q+63&-64)>>3;for(let X=-1,W=K.length;++X<W;){let F=J[X],H=F===null||F===void 0?void 0:F.length;if(H>=Q)if(H===Q)J[X]=F;else J[X]=F.slice(0,Q),Y.numBatches=Math.max(Y.numBatches,K[X].unshift(F.slice(Q,H-Q)));else{let B=$[X];$[X]=B.clone({nullable:!0}),J[X]=(Z=F===null||F===void 0?void 0:F._changeLengthAndBackfillNullBitmap(Q))!==null&&Z!==void 0?Z:(0,jH0.makeData)({type:B.type,length:Q,nullCount:Q,nullBitmap:new Uint8Array(q)})}}return J}});var uN=C0((fH0)=>{var _H0;Object.defineProperty(fH0,"__esModule",{value:!0});fH0.tableFromArrays=fH0.makeTable=fH0.Table=void 0;var ru=A7(),iu=dJ(),m$1=IR(),rR=y4(),yW=D9(),vH0=i6(),p$1=lR(),su=hH0(),rq=Ik(),d$1=EW(),n$1=N3(),l$1=Mk(),r$1=bk(),SH0=MN(),mN=lq();class W${constructor(...$){var Q,J;if($.length===0)return this.batches=[],this.schema=new yW.Schema([]),this._offsets=[0],this;let K,Y;if($[0]instanceof yW.Schema)K=$.shift();if($.at(-1)instanceof Uint32Array)Y=$.pop();let Z=(X)=>{if(X){if(X instanceof mN.RecordBatch)return[X];else if(X instanceof W$)return X.batches;else if(X instanceof iu.Data){if(X.type instanceof vH0.Struct)return[new mN.RecordBatch(new yW.Schema(X.type.children),X)]}else if(Array.isArray(X))return X.flatMap((W)=>Z(W));else if(typeof X[Symbol.iterator]==="function")return[...X].flatMap((W)=>Z(W));else if(typeof X==="object"){let W=Object.keys(X),F=W.map((z)=>new rR.Vector([X[z]])),H=K!==null&&K!==void 0?K:new yW.Schema(W.map((z,A)=>new yW.Field(String(z),F[A].type,F[A].nullable))),[,B]=(0,su.distributeVectorsIntoRecordBatches)(H,F);return B.length===0?[new mN.RecordBatch(X)]:B}}return[]},q=$.flatMap((X)=>Z(X));if(K=(J=K!==null&&K!==void 0?K:(Q=q[0])===null||Q===void 0?void 0:Q.schema)!==null&&J!==void 0?J:new yW.Schema([]),!(K instanceof yW.Schema))throw TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(let X of q){if(!(X instanceof mN.RecordBatch))throw TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!(0,p$1.compareSchemas)(K,X.schema))throw TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=K,this.batches=q,this._offsets=Y!==null&&Y!==void 0?Y:(0,rq.computeChunkOffsets)(this.data)}get data(){return this.batches.map(({data:$})=>$)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce(($,Q)=>$+Q.length,0)}get nullCount(){if(this._nullCount===-1)this._nullCount=(0,rq.computeChunkNullCounts)(this.data);return this._nullCount}isValid($){return!1}get($){return null}at($){return this.get((0,SH0.wrapIndex)($,this.numRows))}set($,Q){return}indexOf($,Q){return-1}[Symbol.iterator](){if(this.batches.length>0)return r$1.instance.visit(new rR.Vector(this.data));return[][Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...$){let Q=this.schema,J=this.data.concat($.flatMap(({data:K})=>K));return new W$(Q,J.map((K)=>new mN.RecordBatch(Q,K)))}slice($,Q){let J=this.schema;[$,Q]=(0,SH0.clampRange)({length:this.numRows},$,Q);let K=(0,rq.sliceChunks)(this.data,this._offsets,$,Q);return new W$(J,K.map((Y)=>new mN.RecordBatch(J,Y)))}getChild($){return this.getChildAt(this.schema.fields.findIndex((Q)=>Q.name===$))}getChildAt($){if($>-1&&$<this.schema.fields.length){let Q=this.data.map((J)=>J.children[$]);if(Q.length===0){let{type:J}=this.schema.fields[$],K=(0,iu.makeData)({type:J,length:0,nullCount:0});Q.push(K._changeLengthAndBackfillNullBitmap(this.numRows))}return new rR.Vector(Q)}return null}setChild($,Q){var J;return this.setChildAt((J=this.schema.fields)===null||J===void 0?void 0:J.findIndex((K)=>K.name===$),Q)}setChildAt($,Q){let J=this.schema,K=[...this.batches];if($>-1&&$<this.numCols){if(!Q)Q=new rR.Vector([(0,iu.makeData)({type:new vH0.Null,length:this.numRows})]);let Y=J.fields.slice(),Z=Y[$].clone({type:Q.type}),q=this.schema.fields.map((X,W)=>this.getChildAt(W));[Y[$],q[$]]=[Z,Q],[J,K]=(0,su.distributeVectorsIntoRecordBatches)(J,q)}return new W$(J,K)}select($){let Q=this.schema.fields.reduce((J,K,Y)=>J.set(K.name,Y),new Map);return this.selectAt($.map((J)=>Q.get(J)).filter((J)=>J>-1))}selectAt($){let Q=this.schema.selectAt($),J=this.batches.map((K)=>K.selectAt($));return new W$(Q,J)}assign($){let Q=this.schema.fields,[J,K]=$.schema.fields.reduce((q,X,W)=>{let[F,H]=q,B=Q.findIndex((z)=>z.name===X.name);return~B?H[B]=W:F.push(W),q},[[],[]]),Y=this.schema.assign($.schema),Z=[...Q.map((q,X)=>[X,K[X]]).map(([q,X])=>X===void 0?this.getChildAt(q):$.getChildAt(X)),...J.map((q)=>$.getChildAt(q))].filter(Boolean);return new W$(...(0,su.distributeVectorsIntoRecordBatches)(Y,Z))}}fH0.Table=W$;_H0=Symbol.toStringTag;W$[_H0]=(($)=>{return $.schema=null,$.batches=[],$._offsets=new Uint32Array([0]),$._nullCount=-1,$[Symbol.isConcatSpreadable]=!0,$.isValid=(0,rq.wrapChunkedCall1)(rq.isChunkedValid),$.get=(0,rq.wrapChunkedCall1)(d$1.instance.getVisitFn(ru.Type.Struct)),$.set=(0,rq.wrapChunkedCall2)(n$1.instance.getVisitFn(ru.Type.Struct)),$.indexOf=(0,rq.wrapChunkedIndexOf)(l$1.instance.getVisitFn(ru.Type.Struct)),"Table"})(W$.prototype);function i$1($){let Q={},J=Object.entries($);for(let[K,Y]of J)Q[K]=(0,rR.makeVector)(Y);return new W$(Q)}fH0.makeTable=i$1;function s$1($){let Q={},J=Object.entries($);for(let[K,Y]of J)Q[K]=(0,m$1.vectorFromArray)(Y);return new W$(Q)}fH0.tableFromArrays=s$1});var lq=C0((xH0)=>{var bH0;Object.defineProperty(xH0,"__esModule",{value:!0});xH0._InternalEmptyPlaceholderRecordBatch=xH0.RecordBatch=void 0;var F$=dJ(),t$1=uN(),ak=y4(),tk=D9(),bY=i6(),e$1=MN(),$Q1=EW(),QQ1=N3(),JQ1=Mk(),KQ1=bk();class gY{constructor(...$){switch($.length){case 2:{if([this.schema]=$,!(this.schema instanceof tk.Schema))throw TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=(0,F$.makeData)({nullCount:0,type:new bY.Struct(this.schema.fields),children:this.schema.fields.map((Q)=>(0,F$.makeData)({type:Q.type,nullCount:0}))})]=$,!(this.data instanceof F$.Data))throw TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=MH0(this.schema,this.data.children);break}case 1:{let[Q]=$,{fields:J,children:K,length:Y}=Object.keys(Q).reduce((X,W,F)=>{return X.children[F]=Q[W],X.length=Math.max(X.length,Q[W].length),X.fields[F]=tk.Field.new({name:W,type:Q[W].type,nullable:!0}),X},{length:0,fields:[],children:[]}),Z=new tk.Schema(J),q=(0,F$.makeData)({type:new bY.Struct(J),length:Y,children:K,nullCount:0});[this.schema,this.data]=MH0(Z,q.children,Y);break}default:throw TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=gH0(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid($){return this.data.getValid($)}get($){return $Q1.instance.visit(this.data,$)}at($){return this.get((0,e$1.wrapIndex)($,this.numRows))}set($,Q){return QQ1.instance.visit(this.data,$,Q)}indexOf($,Q){return JQ1.instance.visit(this.data,$,Q)}[Symbol.iterator](){return KQ1.instance.visit(new ak.Vector([this.data]))}toArray(){return[...this]}concat(...$){return new t$1.Table(this.schema,[this,...$])}slice($,Q){let[J]=new ak.Vector([this.data]).slice($,Q).data;return new gY(this.schema,J)}getChild($){var Q;return this.getChildAt((Q=this.schema.fields)===null||Q===void 0?void 0:Q.findIndex((J)=>J.name===$))}getChildAt($){if($>-1&&$<this.schema.fields.length)return new ak.Vector([this.data.children[$]]);return null}setChild($,Q){var J;return this.setChildAt((J=this.schema.fields)===null||J===void 0?void 0:J.findIndex((K)=>K.name===$),Q)}setChildAt($,Q){let J=this.schema,K=this.data;if($>-1&&$<this.numCols){if(!Q)Q=new ak.Vector([(0,F$.makeData)({type:new bY.Null,length:this.numRows})]);let Y=J.fields.slice(),Z=K.children.slice(),q=Y[$].clone({type:Q.type});[Y[$],Z[$]]=[q,Q.data[0]],J=new tk.Schema(Y,new Map(this.schema.metadata)),K=(0,F$.makeData)({type:new bY.Struct(Y),children:Z})}return new gY(J,K)}select($){let Q=this.schema.select($),J=new bY.Struct(Q.fields),K=[];for(let Y of $){let Z=this.schema.fields.findIndex((q)=>q.name===Y);if(~Z)K[Z]=this.data.children[Z]}return new gY(Q,(0,F$.makeData)({type:J,length:this.numRows,children:K}))}selectAt($){let Q=this.schema.selectAt($),J=$.map((Y)=>this.data.children[Y]).filter(Boolean),K=(0,F$.makeData)({type:new bY.Struct(Q.fields),length:this.numRows,children:J});return new gY(Q,K)}}xH0.RecordBatch=gY;bH0=Symbol.toStringTag;gY[bH0]=(($)=>{return $._nullCount=-1,$[Symbol.isConcatSpreadable]=!0,"RecordBatch"})(gY.prototype);function MH0($,Q,J=Q.reduce((K,Y)=>Math.max(K,Y.length),0)){var K;let Y=[...$.fields],Z=[...Q],q=(J+63&-64)>>3;for(let[X,W]of $.fields.entries()){let F=Q[X];if(!F||F.length!==J)Y[X]=W.clone({nullable:!0}),Z[X]=(K=F===null||F===void 0?void 0:F._changeLengthAndBackfillNullBitmap(J))!==null&&K!==void 0?K:(0,F$.makeData)({type:W.type,length:J,nullCount:J,nullBitmap:new Uint8Array(q)})}return[$.assign(Y),(0,F$.makeData)({type:new bY.Struct(Y),length:J,children:Z})]}function gH0($,Q,J=new Map){var K,Y;if(((K=$===null||$===void 0?void 0:$.length)!==null&&K!==void 0?K:0)>0&&($===null||$===void 0?void 0:$.length)===(Q===null||Q===void 0?void 0:Q.length))for(let Z=-1,q=$.length;++Z<q;){let{type:X}=$[Z],W=Q[Z];for(let F of[W,...((Y=W===null||W===void 0?void 0:W.dictionary)===null||Y===void 0?void 0:Y.data)||[]])gH0(X.children,F===null||F===void 0?void 0:F.children,J);if(bY.DataType.isDictionary(X)){let{id:F}=X;if(!J.has(F)){if(W===null||W===void 0?void 0:W.dictionary)J.set(F,W.dictionary)}else if(J.get(F)!==W.dictionary)throw Error("Cannot create Schema containing two different dictionaries with the same Id")}}return J}class yH0 extends gY{constructor($){let Q=$.fields.map((K)=>(0,F$.makeData)({type:K.type})),J=(0,F$.makeData)({type:new bY.Struct($.fields),nullCount:0,children:Q});super($,J)}}xH0._InternalEmptyPlaceholderRecordBatch=yH0});var nH0=C0((pH0)=>{Object.defineProperty(pH0,"__esModule",{value:!0});pH0.Message=void 0;var ZQ1=k5(),qQ1=zN(),uH0=Fk(),mH0=gP();class kQ{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsMessage($,Q){return(Q||new kQ).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsMessage($,Q){return $.setPosition($.position()+ZQ1.SIZE_PREFIX_LENGTH),(Q||new kQ).__init($.readInt32($.position())+$.position(),$)}version(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):mH0.MetadataVersion.V1}headerType(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.readUint8(this.bb_pos+$):uH0.MessageHeader.NONE}header($){let Q=this.bb.__offset(this.bb_pos,8);return Q?this.bb.__union($,this.bb_pos+Q):null}bodyLength(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.readInt64(this.bb_pos+$):BigInt("0")}customMetadata($,Q){let J=this.bb.__offset(this.bb_pos,12);return J?(Q||new qQ1.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}customMetadataLength(){let $=this.bb.__offset(this.bb_pos,12);return $?this.bb.__vector_len(this.bb_pos+$):0}static startMessage($){$.startObject(5)}static addVersion($,Q){$.addFieldInt16(0,Q,mH0.MetadataVersion.V1)}static addHeaderType($,Q){$.addFieldInt8(1,Q,uH0.MessageHeader.NONE)}static addHeader($,Q){$.addFieldOffset(2,Q,0)}static addBodyLength($,Q){$.addFieldInt64(3,Q,BigInt("0"))}static addCustomMetadata($,Q){$.addFieldOffset(4,Q,0)}static createCustomMetadataVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startCustomMetadataVector($,Q){$.startVector(4,Q,4)}static endMessage($){return $.endObject()}static finishMessageBuffer($,Q){$.finish(Q)}static finishSizePrefixedMessageBuffer($,Q){$.finish(Q,void 0,!0)}static createMessage($,Q,J,K,Y,Z){return kQ.startMessage($),kQ.addVersion($,Q),kQ.addHeaderType($,J),kQ.addHeader($,K),kQ.addBodyLength($,Y),kQ.addCustomMetadata($,Z),kQ.endMessage($)}}pH0.Message=kQ});var JN0=C0(($N0)=>{Object.defineProperty($N0,"__esModule",{value:!0});$N0.instance=$N0.TypeAssembler=void 0;var XQ1=O9(),lH0=rx(),ek=Lq(),ou=iP(),rH0=mx(),iH0=dx(),sH0=px(),oH0=sx(),aH0=nx(),iR=dP(),au=pP(),$j=aP(),Qj=tP(),tu=sP(),eu=nP(),tH0=lx(),eH0=ix(),pN=eP(),sR=ux(),$m=lP(),Qm=rP(),Jm=oP();class Km extends XQ1.Visitor{visit($,Q){return $==null||Q==null?void 0:super.visit($,Q)}visitNull($,Q){return lH0.Null.startNull(Q),lH0.Null.endNull(Q)}visitInt($,Q){return ek.Int.startInt(Q),ek.Int.addBitWidth(Q,$.bitWidth),ek.Int.addIsSigned(Q,$.isSigned),ek.Int.endInt(Q)}visitFloat($,Q){return ou.FloatingPoint.startFloatingPoint(Q),ou.FloatingPoint.addPrecision(Q,$.precision),ou.FloatingPoint.endFloatingPoint(Q)}visitBinary($,Q){return rH0.Binary.startBinary(Q),rH0.Binary.endBinary(Q)}visitLargeBinary($,Q){return iH0.LargeBinary.startLargeBinary(Q),iH0.LargeBinary.endLargeBinary(Q)}visitBool($,Q){return sH0.Bool.startBool(Q),sH0.Bool.endBool(Q)}visitUtf8($,Q){return oH0.Utf8.startUtf8(Q),oH0.Utf8.endUtf8(Q)}visitLargeUtf8($,Q){return aH0.LargeUtf8.startLargeUtf8(Q),aH0.LargeUtf8.endLargeUtf8(Q)}visitDecimal($,Q){return iR.Decimal.startDecimal(Q),iR.Decimal.addScale(Q,$.scale),iR.Decimal.addPrecision(Q,$.precision),iR.Decimal.addBitWidth(Q,$.bitWidth),iR.Decimal.endDecimal(Q)}visitDate($,Q){return au.Date.startDate(Q),au.Date.addUnit(Q,$.unit),au.Date.endDate(Q)}visitTime($,Q){return $j.Time.startTime(Q),$j.Time.addUnit(Q,$.unit),$j.Time.addBitWidth(Q,$.bitWidth),$j.Time.endTime(Q)}visitTimestamp($,Q){let J=$.timezone&&Q.createString($.timezone)||void 0;if(Qj.Timestamp.startTimestamp(Q),Qj.Timestamp.addUnit(Q,$.unit),J!==void 0)Qj.Timestamp.addTimezone(Q,J);return Qj.Timestamp.endTimestamp(Q)}visitInterval($,Q){return tu.Interval.startInterval(Q),tu.Interval.addUnit(Q,$.unit),tu.Interval.endInterval(Q)}visitDuration($,Q){return eu.Duration.startDuration(Q),eu.Duration.addUnit(Q,$.unit),eu.Duration.endDuration(Q)}visitList($,Q){return tH0.List.startList(Q),tH0.List.endList(Q)}visitStruct($,Q){return eH0.Struct_.startStruct_(Q),eH0.Struct_.endStruct_(Q)}visitUnion($,Q){pN.Union.startTypeIdsVector(Q,$.typeIds.length);let J=pN.Union.createTypeIdsVector(Q,$.typeIds);return pN.Union.startUnion(Q),pN.Union.addMode(Q,$.mode),pN.Union.addTypeIds(Q,J),pN.Union.endUnion(Q)}visitDictionary($,Q){let J=this.visit($.indices,Q);if(sR.DictionaryEncoding.startDictionaryEncoding(Q),sR.DictionaryEncoding.addId(Q,BigInt($.id)),sR.DictionaryEncoding.addIsOrdered(Q,$.isOrdered),J!==void 0)sR.DictionaryEncoding.addIndexType(Q,J);return sR.DictionaryEncoding.endDictionaryEncoding(Q)}visitFixedSizeBinary($,Q){return $m.FixedSizeBinary.startFixedSizeBinary(Q),$m.FixedSizeBinary.addByteWidth(Q,$.byteWidth),$m.FixedSizeBinary.endFixedSizeBinary(Q)}visitFixedSizeList($,Q){return Qm.FixedSizeList.startFixedSizeList(Q),Qm.FixedSizeList.addListSize(Q,$.listSize),Qm.FixedSizeList.endFixedSizeList(Q)}visitMap($,Q){return Jm.Map.startMap(Q),Jm.Map.addKeysSorted(Q,$.keysSorted),Jm.Map.endMap(Q)}}$N0.TypeAssembler=Km;$N0.instance=new Km});var HN0=C0((FN0)=>{Object.defineProperty(FN0,"__esModule",{value:!0});FN0.fieldFromJSON=FN0.dictionaryBatchFromJSON=FN0.recordBatchFromJSON=FN0.schemaFromJSON=void 0;var dN=D9(),g6=i6(),cW=uW(),xW=A7();function FQ1($,Q=new Map){return new dN.Schema(HQ1($,Q),Jj($.metadata),Q)}FN0.schemaFromJSON=FQ1;function qN0($){return new cW.RecordBatch($.count,XN0($.columns),WN0($.columns))}FN0.recordBatchFromJSON=qN0;function UQ1($){return new cW.DictionaryBatch(qN0($.data),$.id,$.isDelta)}FN0.dictionaryBatchFromJSON=UQ1;function HQ1($,Q){return($.fields||[]).filter(Boolean).map((J)=>dN.Field.fromJSON(J,Q))}function KN0($,Q){return($.children||[]).filter(Boolean).map((J)=>dN.Field.fromJSON(J,Q))}function XN0($){return($||[]).reduce((Q,J)=>[...Q,new cW.FieldNode(J.count,NQ1(J.VALIDITY)),...XN0(J.children)],[])}function WN0($,Q=[]){for(let J=-1,K=($||[]).length;++J<K;){let Y=$[J];Y.VALIDITY&&Q.push(new cW.BufferRegion(Q.length,Y.VALIDITY.length)),Y.TYPE_ID&&Q.push(new cW.BufferRegion(Q.length,Y.TYPE_ID.length)),Y.OFFSET&&Q.push(new cW.BufferRegion(Q.length,Y.OFFSET.length)),Y.DATA&&Q.push(new cW.BufferRegion(Q.length,Y.DATA.length)),Q=WN0(Y.children,Q)}return Q}function NQ1($){return($||[]).reduce((Q,J)=>Q+ +(J===0),0)}function BQ1($,Q){let J,K,Y,Z,q,X;if(!Q||!(Z=$.dictionary))q=ZN0($,KN0($,Q)),Y=new dN.Field($.name,q,$.nullable,Jj($.metadata));else if(!Q.has(J=Z.id))K=(K=Z.indexType)?YN0(K):new g6.Int32,Q.set(J,q=ZN0($,KN0($,Q))),X=new g6.Dictionary(q,K,J,Z.isOrdered),Y=new dN.Field($.name,X,$.nullable,Jj($.metadata));else K=(K=Z.indexType)?YN0(K):new g6.Int32,X=new g6.Dictionary(Q.get(J),K,J,Z.isOrdered),Y=new dN.Field($.name,X,$.nullable,Jj($.metadata));return Y||null}FN0.fieldFromJSON=BQ1;function Jj($=[]){return new Map($.map(({key:Q,value:J})=>[Q,J]))}function YN0($){return new g6.Int($.isSigned,$.bitWidth)}function ZN0($,Q){let J=$.type.name;switch(J){case"NONE":return new g6.Null;case"null":return new g6.Null;case"binary":return new g6.Binary;case"largebinary":return new g6.LargeBinary;case"utf8":return new g6.Utf8;case"largeutf8":return new g6.LargeUtf8;case"bool":return new g6.Bool;case"list":return new g6.List((Q||[])[0]);case"struct":return new g6.Struct(Q||[]);case"struct_":return new g6.Struct(Q||[])}switch(J){case"int":{let K=$.type;return new g6.Int(K.isSigned,K.bitWidth)}case"floatingpoint":{let K=$.type;return new g6.Float(xW.Precision[K.precision])}case"decimal":{let K=$.type;return new g6.Decimal(K.scale,K.precision,K.bitWidth)}case"date":{let K=$.type;return new g6.Date_(xW.DateUnit[K.unit])}case"time":{let K=$.type;return new g6.Time(xW.TimeUnit[K.unit],K.bitWidth)}case"timestamp":{let K=$.type;return new g6.Timestamp(xW.TimeUnit[K.unit],K.timezone)}case"interval":{let K=$.type;return new g6.Interval(xW.IntervalUnit[K.unit])}case"duration":{let K=$.type;return new g6.Duration(xW.TimeUnit[K.unit])}case"union":{let K=$.type,[Y,...Z]=(K.mode+"").toLowerCase(),q=Y.toUpperCase()+Z.join("");return new g6.Union(xW.UnionMode[q],K.typeIds||[],Q||[])}case"fixedsizebinary":{let K=$.type;return new g6.FixedSizeBinary(K.byteWidth)}case"fixedsizelist":{let K=$.type;return new g6.FixedSizeList(K.listSize,(Q||[])[0])}case"map":{let K=$.type;return new g6.Map_((Q||[])[0],K.keysSorted)}}throw Error(`Unrecognized type: "${J}"`)}});var uW=C0((RN0)=>{Object.defineProperty(RN0,"__esModule",{value:!0});RN0.FieldNode=RN0.BufferRegion=RN0.DictionaryBatch=RN0.RecordBatch=RN0.Message=void 0;var VN0=k5(),yY=Qk(),RQ1=Lq(),sq=cP(),nN=xx(),GQ1=jq(),jQ=ox(),OQ1=yx(),k7=kN(),oq=zN(),NN0=cx(),wQ1=iP(),TQ1=dP(),DQ1=pP(),CQ1=aP(),PQ1=tP(),kQ1=sP(),jQ1=nP(),EQ1=eP(),LQ1=lP(),hQ1=rP(),vQ1=oP(),iq=nH0(),C8=D9(),SQ1=T8(),aq=Iq(),V7=A7(),Ym=JN0(),Yj=HN0(),_Q1=VN0.Builder,fQ1=VN0.ByteBuffer,y6=i6();class mW{static fromJSON($,Q){let J=new mW(0,V7.MetadataVersion.V5,Q);return J._createHeader=IQ1($,Q),J}static decode($){$=new fQ1((0,SQ1.toUint8Array)($));let Q=iq.Message.getRootAsMessage($),J=Q.bodyLength(),K=Q.version(),Y=Q.headerType(),Z=new mW(J,K,Y);return Z._createHeader=MQ1(Q,Y),Z}static encode($){let Q=new _Q1,J=-1;if($.isSchema())J=C8.Schema.encode(Q,$.header());else if($.isRecordBatch())J=U$.encode(Q,$.header());else if($.isDictionaryBatch())J=tJ.encode(Q,$.header());return iq.Message.startMessage(Q),iq.Message.addVersion(Q,V7.MetadataVersion.V5),iq.Message.addHeader(Q,J),iq.Message.addHeaderType(Q,$.headerType),iq.Message.addBodyLength(Q,BigInt($.bodyLength)),iq.Message.finishMessageBuffer(Q,iq.Message.endMessage(Q)),Q.asUint8Array()}static from($,Q=0){if($ instanceof C8.Schema)return new mW(0,V7.MetadataVersion.V5,V7.MessageHeader.Schema,$);if($ instanceof U$)return new mW(Q,V7.MetadataVersion.V5,V7.MessageHeader.RecordBatch,$);if($ instanceof tJ)return new mW(Q,V7.MetadataVersion.V5,V7.MessageHeader.DictionaryBatch,$);throw Error(`Unrecognized Message header: ${$}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===V7.MessageHeader.Schema}isRecordBatch(){return this.headerType===V7.MessageHeader.RecordBatch}isDictionaryBatch(){return this.headerType===V7.MessageHeader.DictionaryBatch}constructor($,Q,J,K){this._version=Q,this._headerType=J,this.body=new Uint8Array(0),K&&(this._createHeader=()=>K),this._bodyLength=(0,aq.bigIntToNumber)($)}}RN0.Message=mW;class U${get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor($,Q,J){this._nodes=Q,this._buffers=J,this._length=(0,aq.bigIntToNumber)($)}}RN0.RecordBatch=U$;class tJ{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor($,Q,J=!1){this._data=$,this._isDelta=J,this._id=(0,aq.bigIntToNumber)(Q)}}RN0.DictionaryBatch=tJ;class pW{constructor($,Q){this.offset=(0,aq.bigIntToNumber)($),this.length=(0,aq.bigIntToNumber)(Q)}}RN0.BufferRegion=pW;class dW{constructor($,Q){this.length=(0,aq.bigIntToNumber)($),this.nullCount=(0,aq.bigIntToNumber)(Q)}}RN0.FieldNode=dW;function IQ1($,Q){return()=>{switch(Q){case V7.MessageHeader.Schema:return C8.Schema.fromJSON($);case V7.MessageHeader.RecordBatch:return U$.fromJSON($);case V7.MessageHeader.DictionaryBatch:return tJ.fromJSON($)}throw Error(`Unrecognized Message type: { name: ${V7.MessageHeader[Q]}, type: ${Q} }`)}}function MQ1($,Q){return()=>{switch(Q){case V7.MessageHeader.Schema:return C8.Schema.decode($.header(new yY.Schema),new Map,$.version());case V7.MessageHeader.RecordBatch:return U$.decode($.header(new sq.RecordBatch),$.version());case V7.MessageHeader.DictionaryBatch:return tJ.decode($.header(new nN.DictionaryBatch),$.version())}throw Error(`Unrecognized Message type: { name: ${V7.MessageHeader[Q]}, type: ${Q} }`)}}C8.Field.encode=lQ1;C8.Field.decode=dQ1;C8.Field.fromJSON=Yj.fieldFromJSON;C8.Schema.encode=nQ1;C8.Schema.decode=bQ1;C8.Schema.fromJSON=Yj.schemaFromJSON;U$.encode=rQ1;U$.decode=gQ1;U$.fromJSON=Yj.recordBatchFromJSON;tJ.encode=iQ1;tJ.decode=yQ1;tJ.fromJSON=Yj.dictionaryBatchFromJSON;dW.encode=sQ1;dW.decode=cQ1;pW.encode=oQ1;pW.decode=xQ1;function bQ1($,Q=new Map,J=V7.MetadataVersion.V5){let K=pQ1($,Q);return new C8.Schema(K,Kj($),Q,J)}function gQ1($,Q=V7.MetadataVersion.V5){if($.compression()!==null)throw Error("Record batch compression not implemented");return new U$($.length(),uQ1($),mQ1($,Q))}function yQ1($,Q=V7.MetadataVersion.V5){return new tJ(U$.decode($.data(),Q),$.id(),$.isDelta())}function xQ1($){return new pW($.offset(),$.length())}function cQ1($){return new dW($.length(),$.nullCount())}function uQ1($){let Q=[];for(let J,K=-1,Y=-1,Z=$.nodesLength();++K<Z;)if(J=$.nodes(K))Q[++Y]=dW.decode(J);return Q}function mQ1($,Q){let J=[];for(let K,Y=-1,Z=-1,q=$.buffersLength();++Y<q;)if(K=$.buffers(Y)){if(Q<V7.MetadataVersion.V4)K.bb_pos+=8*(Y+1);J[++Z]=pW.decode(K)}return J}function pQ1($,Q){let J=[];for(let K,Y=-1,Z=-1,q=$.fieldsLength();++Y<q;)if(K=$.fields(Y))J[++Z]=C8.Field.decode(K,Q);return J}function BN0($,Q){let J=[];for(let K,Y=-1,Z=-1,q=$.childrenLength();++Y<q;)if(K=$.children(Y))J[++Z]=C8.Field.decode(K,Q);return J}function dQ1($,Q){let J,K,Y,Z,q,X;if(!Q||!(X=$.dictionary()))Y=AN0($,BN0($,Q)),K=new C8.Field($.name(),Y,$.nullable(),Kj($));else if(!Q.has(J=(0,aq.bigIntToNumber)(X.id())))Z=(Z=X.indexType())?zN0(Z):new y6.Int32,Q.set(J,Y=AN0($,BN0($,Q))),q=new y6.Dictionary(Y,Z,J,X.isOrdered()),K=new C8.Field($.name(),q,$.nullable(),Kj($));else Z=(Z=X.indexType())?zN0(Z):new y6.Int32,q=new y6.Dictionary(Q.get(J),Z,J,X.isOrdered()),K=new C8.Field($.name(),q,$.nullable(),Kj($));return K||null}function Kj($){let Q=new Map;if($){for(let J,K,Y=-1,Z=Math.trunc($.customMetadataLength());++Y<Z;)if((J=$.customMetadata(Y))&&(K=J.key())!=null)Q.set(K,J.value())}return Q}function zN0($){return new y6.Int($.isSigned(),$.bitWidth())}function AN0($,Q){let J=$.typeType();switch(J){case k7.Type.NONE:return new y6.Null;case k7.Type.Null:return new y6.Null;case k7.Type.Binary:return new y6.Binary;case k7.Type.LargeBinary:return new y6.LargeBinary;case k7.Type.Utf8:return new y6.Utf8;case k7.Type.LargeUtf8:return new y6.LargeUtf8;case k7.Type.Bool:return new y6.Bool;case k7.Type.List:return new y6.List((Q||[])[0]);case k7.Type.Struct_:return new y6.Struct(Q||[])}switch(J){case k7.Type.Int:{let K=$.type(new RQ1.Int);return new y6.Int(K.isSigned(),K.bitWidth())}case k7.Type.FloatingPoint:{let K=$.type(new wQ1.FloatingPoint);return new y6.Float(K.precision())}case k7.Type.Decimal:{let K=$.type(new TQ1.Decimal);return new y6.Decimal(K.scale(),K.precision(),K.bitWidth())}case k7.Type.Date:{let K=$.type(new DQ1.Date);return new y6.Date_(K.unit())}case k7.Type.Time:{let K=$.type(new CQ1.Time);return new y6.Time(K.unit(),K.bitWidth())}case k7.Type.Timestamp:{let K=$.type(new PQ1.Timestamp);return new y6.Timestamp(K.unit(),K.timezone())}case k7.Type.Interval:{let K=$.type(new kQ1.Interval);return new y6.Interval(K.unit())}case k7.Type.Duration:{let K=$.type(new jQ1.Duration);return new y6.Duration(K.unit())}case k7.Type.Union:{let K=$.type(new EQ1.Union);return new y6.Union(K.mode(),K.typeIdsArray()||[],Q||[])}case k7.Type.FixedSizeBinary:{let K=$.type(new LQ1.FixedSizeBinary);return new y6.FixedSizeBinary(K.byteWidth())}case k7.Type.FixedSizeList:{let K=$.type(new hQ1.FixedSizeList);return new y6.FixedSizeList(K.listSize(),(Q||[])[0])}case k7.Type.Map:{let K=$.type(new vQ1.Map);return new y6.Map_((Q||[])[0],K.keysSorted())}}throw Error(`Unrecognized type: "${k7.Type[J]}" (${J})`)}function nQ1($,Q){let J=Q.fields.map((Z)=>C8.Field.encode($,Z));yY.Schema.startFieldsVector($,J.length);let K=yY.Schema.createFieldsVector($,J),Y=!(Q.metadata&&Q.metadata.size>0)?-1:yY.Schema.createCustomMetadataVector($,[...Q.metadata].map(([Z,q])=>{let X=$.createString(`${Z}`),W=$.createString(`${q}`);return oq.KeyValue.startKeyValue($),oq.KeyValue.addKey($,X),oq.KeyValue.addValue($,W),oq.KeyValue.endKeyValue($)}));if(yY.Schema.startSchema($),yY.Schema.addFields($,K),yY.Schema.addEndianness($,aQ1?NN0.Endianness.Little:NN0.Endianness.Big),Y!==-1)yY.Schema.addCustomMetadata($,Y);return yY.Schema.endSchema($)}function lQ1($,Q){let J=-1,K=-1,Y=-1,Z=Q.type,q=Q.typeId;if(!y6.DataType.isDictionary(Z))K=Ym.instance.visit(Z,$);else q=Z.dictionary.typeId,Y=Ym.instance.visit(Z,$),K=Ym.instance.visit(Z.dictionary,$);let X=(Z.children||[]).map((H)=>C8.Field.encode($,H)),W=jQ.Field.createChildrenVector($,X),F=!(Q.metadata&&Q.metadata.size>0)?-1:jQ.Field.createCustomMetadataVector($,[...Q.metadata].map(([H,B])=>{let z=$.createString(`${H}`),A=$.createString(`${B}`);return oq.KeyValue.startKeyValue($),oq.KeyValue.addKey($,z),oq.KeyValue.addValue($,A),oq.KeyValue.endKeyValue($)}));if(Q.name)J=$.createString(Q.name);if(jQ.Field.startField($),jQ.Field.addType($,K),jQ.Field.addTypeType($,q),jQ.Field.addChildren($,W),jQ.Field.addNullable($,!!Q.nullable),J!==-1)jQ.Field.addName($,J);if(Y!==-1)jQ.Field.addDictionary($,Y);if(F!==-1)jQ.Field.addCustomMetadata($,F);return jQ.Field.endField($)}function rQ1($,Q){let J=Q.nodes||[],K=Q.buffers||[];sq.RecordBatch.startNodesVector($,J.length);for(let q of J.slice().reverse())dW.encode($,q);let Y=$.endVector();sq.RecordBatch.startBuffersVector($,K.length);for(let q of K.slice().reverse())pW.encode($,q);let Z=$.endVector();return sq.RecordBatch.startRecordBatch($),sq.RecordBatch.addLength($,BigInt(Q.length)),sq.RecordBatch.addNodes($,Y),sq.RecordBatch.addBuffers($,Z),sq.RecordBatch.endRecordBatch($)}function iQ1($,Q){let J=U$.encode($,Q.data);return nN.DictionaryBatch.startDictionaryBatch($),nN.DictionaryBatch.addId($,BigInt(Q.id)),nN.DictionaryBatch.addIsDelta($,Q.isDelta),nN.DictionaryBatch.addData($,J),nN.DictionaryBatch.endDictionaryBatch($)}function sQ1($,Q){return OQ1.FieldNode.createFieldNode($,BigInt(Q.length),BigInt(Q.nullCount))}function oQ1($,Q){return GQ1.Buffer.createBuffer($,BigInt(Q.offset),BigInt(Q.length))}var aQ1=(()=>{let $=new ArrayBuffer(2);return new DataView($).setInt16(0,256,!0),new Int16Array($)[0]===256})()});var Xj=C0((kN0)=>{Object.defineProperty(kN0,"__esModule",{value:!0});kN0.magicX2AndPadding=kN0.magicAndPadding=kN0.magicLength=kN0.checkForMagicArrowString=kN0.MAGIC=kN0.MAGIC_STR=kN0.PADDING=kN0.JSONMessageReader=kN0.AsyncMessageReader=kN0.MessageReader=void 0;var tq=(R9(),F3(V9)),eq=A7(),ON0=k5(),oR=uW(),JJ1=Pq(),KJ1=ic(),wN0=T8(),Zj=dq(),EQ=SR(),Zm=($)=>`Expected ${eq.MessageHeader[$]} Message in stream, but was null or length 0.`,qm=($)=>`Header pointer of flatbuffer-encoded ${eq.MessageHeader[$]} Message is null or length 0.`,TN0=($,Q)=>`Expected to read ${$} metadata bytes, but only read ${Q}.`,DN0=($,Q)=>`Expected to read ${$} bytes for message body, but only read ${Q}.`;class Xm{constructor($){this.source=$ instanceof Zj.ByteStream?$:new Zj.ByteStream($)}[Symbol.iterator](){return this}next(){let $;if(($=this.readMetadataLength()).done)return EQ.ITERATOR_DONE;if($.value===-1&&($=this.readMetadataLength()).done)return EQ.ITERATOR_DONE;if(($=this.readMetadata($.value)).done)return EQ.ITERATOR_DONE;return $}throw($){return this.source.throw($)}return($){return this.source.return($)}readMessage($){let Q;if((Q=this.next()).done)return null;if($!=null&&Q.value.headerType!==$)throw Error(Zm($));return Q.value}readMessageBody($){if($<=0)return new Uint8Array(0);let Q=(0,wN0.toUint8Array)(this.source.read($));if(Q.byteLength<$)throw Error(DN0($,Q.byteLength));return Q.byteOffset%8===0&&Q.byteOffset+Q.byteLength<=Q.buffer.byteLength?Q:Q.slice()}readSchema($=!1){let Q=eq.MessageHeader.Schema,J=this.readMessage(Q),K=J===null||J===void 0?void 0:J.header();if($&&!K)throw Error(qm(Q));return K}readMetadataLength(){let $=this.source.read(kN0.PADDING),Q=$&&new ON0.ByteBuffer($),J=(Q===null||Q===void 0?void 0:Q.readInt32(0))||0;return{done:J===0,value:J}}readMetadata($){let Q=this.source.read($);if(!Q)return EQ.ITERATOR_DONE;if(Q.byteLength<$)throw Error(TN0($,Q.byteLength));return{done:!1,value:oR.Message.decode(Q)}}}kN0.MessageReader=Xm;class CN0{constructor($,Q){this.source=$ instanceof Zj.AsyncByteStream?$:(0,JJ1.isFileHandle)($)?new KJ1.AsyncRandomAccessFile($,Q):new Zj.AsyncByteStream($)}[Symbol.asyncIterator](){return this}next(){return tq.__awaiter(this,void 0,void 0,function*(){let $;if(($=yield this.readMetadataLength()).done)return EQ.ITERATOR_DONE;if($.value===-1&&($=yield this.readMetadataLength()).done)return EQ.ITERATOR_DONE;if(($=yield this.readMetadata($.value)).done)return EQ.ITERATOR_DONE;return $})}throw($){return tq.__awaiter(this,void 0,void 0,function*(){return yield this.source.throw($)})}return($){return tq.__awaiter(this,void 0,void 0,function*(){return yield this.source.return($)})}readMessage($){return tq.__awaiter(this,void 0,void 0,function*(){let Q;if((Q=yield this.next()).done)return null;if($!=null&&Q.value.headerType!==$)throw Error(Zm($));return Q.value})}readMessageBody($){return tq.__awaiter(this,void 0,void 0,function*(){if($<=0)return new Uint8Array(0);let Q=(0,wN0.toUint8Array)(yield this.source.read($));if(Q.byteLength<$)throw Error(DN0($,Q.byteLength));return Q.byteOffset%8===0&&Q.byteOffset+Q.byteLength<=Q.buffer.byteLength?Q:Q.slice()})}readSchema(){return tq.__awaiter(this,arguments,void 0,function*($=!1){let Q=eq.MessageHeader.Schema,J=yield this.readMessage(Q),K=J===null||J===void 0?void 0:J.header();if($&&!K)throw Error(qm(Q));return K})}readMetadataLength(){return tq.__awaiter(this,void 0,void 0,function*(){let $=yield this.source.read(kN0.PADDING),Q=$&&new ON0.ByteBuffer($),J=(Q===null||Q===void 0?void 0:Q.readInt32(0))||0;return{done:J===0,value:J}})}readMetadata($){return tq.__awaiter(this,void 0,void 0,function*(){let Q=yield this.source.read($);if(!Q)return EQ.ITERATOR_DONE;if(Q.byteLength<$)throw Error(TN0($,Q.byteLength));return{done:!1,value:oR.Message.decode(Q)}})}}kN0.AsyncMessageReader=CN0;class PN0 extends Xm{constructor($){super(new Uint8Array(0));this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=$ instanceof EQ.ArrowJSON?$:new EQ.ArrowJSON($)}next(){let{_json:$}=this;if(!this._schema)return this._schema=!0,{done:!1,value:oR.Message.fromJSON($.schema,eq.MessageHeader.Schema)};if(this._dictionaryIndex<$.dictionaries.length){let Q=$.dictionaries[this._dictionaryIndex++];return this._body=Q.data.columns,{done:!1,value:oR.Message.fromJSON(Q,eq.MessageHeader.DictionaryBatch)}}if(this._batchIndex<$.batches.length){let Q=$.batches[this._batchIndex++];return this._body=Q.columns,{done:!1,value:oR.Message.fromJSON(Q,eq.MessageHeader.RecordBatch)}}return this._body=[],EQ.ITERATOR_DONE}readMessageBody($){return Q(this._body);function Q(J){return(J||[]).reduce((K,Y)=>[...K,...Y.VALIDITY&&[Y.VALIDITY]||[],...Y.TYPE_ID&&[Y.TYPE_ID]||[],...Y.OFFSET&&[Y.OFFSET]||[],...Y.DATA&&[Y.DATA]||[],...Q(Y.children)],[])}}readMessage($){let Q;if((Q=this.next()).done)return null;if($!=null&&Q.value.headerType!==$)throw Error(Zm($));return Q.value}readSchema(){let $=eq.MessageHeader.Schema,Q=this.readMessage($),J=Q===null||Q===void 0?void 0:Q.header();if(!Q||!J)throw Error(qm($));return J}}kN0.JSONMessageReader=PN0;kN0.PADDING=4;kN0.MAGIC_STR="ARROW1";kN0.MAGIC=new Uint8Array(kN0.MAGIC_STR.length);for(let $=0;$<kN0.MAGIC_STR.length;$+=1)kN0.MAGIC[$]=kN0.MAGIC_STR.codePointAt($);function YJ1($,Q=0){for(let J=-1,K=kN0.MAGIC.length;++J<K;)if(kN0.MAGIC[J]!==$[Q+J])return!1;return!0}kN0.checkForMagicArrowString=YJ1;kN0.magicLength=kN0.MAGIC.length;kN0.magicAndPadding=kN0.magicLength+kN0.PADDING;kN0.magicX2AndPadding=kN0.magicLength*2+kN0.PADDING});var JG=C0((gN0)=>{Object.defineProperty(gN0,"__esModule",{value:!0});gN0.AsyncRecordBatchFileReader=gN0.RecordBatchFileReader=gN0.AsyncRecordBatchStreamReader=gN0.RecordBatchStreamReader=gN0.RecordBatchReader=void 0;var x6=(R9(),F3(V9)),UJ1=dJ(),EN0=y4(),HJ1=i6(),Wj=A7(),_N0=pc(),LN0=wR(),hN0=dq(),eR=ic(),fN0=KU0(),Fm=lq(),nW=SR(),N$=Xj(),H$=Pq();class xY extends nW.ReadableInterop{constructor($){super();this._impl=$}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw($){return this._impl.throw($)}return($){return this._impl.return($)}cancel(){return this._impl.cancel()}reset($){return this._impl.reset($),this._DOMStream=void 0,this._nodeStream=void 0,this}open($){let Q=this._impl.open($);return(0,H$.isPromise)(Q)?Q.then(()=>this):this}readRecordBatch($){return this._impl.isFile()?this._impl.readRecordBatch($):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return LN0.default.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return LN0.default.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode($){throw Error('"throughNode" not available in this environment')}static throughDOM($,Q){throw Error('"throughDOM" not available in this environment')}static from($){if($ instanceof xY)return $;else if((0,H$.isArrowJSON)($))return NJ1($);else if((0,H$.isFileHandle)($))return AJ1($);else if((0,H$.isPromise)($))return(()=>x6.__awaiter(this,void 0,void 0,function*(){return yield xY.from(yield $)}))();else if((0,H$.isFetchResponse)($)||(0,H$.isReadableDOMStream)($)||(0,H$.isReadableNodeStream)($)||(0,H$.isAsyncIterable)($))return zJ1(new hN0.AsyncByteStream($));return BJ1(new hN0.ByteStream($))}static readAll($){if($ instanceof xY)return $.isSync()?vN0($):SN0($);else if((0,H$.isArrowJSON)($)||ArrayBuffer.isView($)||(0,H$.isIterable)($)||(0,H$.isIteratorResult)($))return vN0($);return SN0($)}}gN0.RecordBatchReader=xY;class lN extends xY{constructor($){super($);this._impl=$}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return x6.__asyncGenerator(this,arguments,function*(){yield x6.__await(yield*x6.__asyncDelegator(x6.__asyncValues(this[Symbol.iterator]())))})}}gN0.RecordBatchStreamReader=lN;class rN extends xY{constructor($){super($);this._impl=$}readAll(){return x6.__awaiter(this,void 0,void 0,function*(){var $,Q,J,K;let Y=[];try{for(var Z=!0,q=x6.__asyncValues(this),X;X=yield q.next(),$=X.done,!$;Z=!0){K=X.value,Z=!1;let W=K;Y.push(W)}}catch(W){Q={error:W}}finally{try{if(!Z&&!$&&(J=q.return))yield J.call(q)}finally{if(Q)throw Q.error}}return Y})}[Symbol.iterator](){throw Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}gN0.AsyncRecordBatchStreamReader=rN;class Fj extends lN{constructor($){super($);this._impl=$}}gN0.RecordBatchFileReader=Fj;class Um extends rN{constructor($){super($);this._impl=$}}gN0.AsyncRecordBatchFileReader=Um;class Hm{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor($=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=$}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset($){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=$,this.dictionaries=new Map,this}_loadRecordBatch($,Q){let J=this._loadVectors($,Q,this.schema.fields),K=(0,UJ1.makeData)({type:new HJ1.Struct(this.schema.fields),length:$.length,children:J});return new Fm.RecordBatch(this.schema,K)}_loadDictionaryBatch($,Q){let{id:J,isDelta:K}=$,{dictionaries:Y,schema:Z}=this,q=Y.get(J),X=Z.dictionaries.get(J),W=this._loadVectors($.data,Q,[X]);return(q&&K?q.concat(new EN0.Vector(W)):new EN0.Vector(W)).memoize()}_loadVectors($,Q,J){return new fN0.VectorLoader(Q,$.nodes,$.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(J)}}class $G extends Hm{constructor($,Q){super(Q);this._reader=!(0,H$.isArrowJSON)($)?new N$.MessageReader(this._handle=$):new N$.JSONMessageReader(this._handle=$)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){if(!this.closed&&(this.closed=!0))this.reset()._reader.return(),this._reader=null,this.dictionaries=null}open($){if(!this.closed){if(this.autoDestroy=bN0(this,$),!(this.schema||(this.schema=this._reader.readSchema())))this.cancel()}return this}throw($){if(!this.closed&&this.autoDestroy&&(this.closed=!0))return this.reset()._reader.throw($);return nW.ITERATOR_DONE}return($){if(!this.closed&&this.autoDestroy&&(this.closed=!0))return this.reset()._reader.return($);return nW.ITERATOR_DONE}next(){if(this.closed)return nW.ITERATOR_DONE;let $,{_reader:Q}=this;while($=this._readNextMessageAndValidate())if($.isSchema())this.reset($.header());else if($.isRecordBatch()){this._recordBatchIndex++;let J=$.header(),K=Q.readMessageBody($.bodyLength);return{done:!1,value:this._loadRecordBatch(J,K)}}else if($.isDictionaryBatch()){this._dictionaryIndex++;let J=$.header(),K=Q.readMessageBody($.bodyLength),Y=this._loadDictionaryBatch(J,K);this.dictionaries.set(J.id,Y)}if(this.schema&&this._recordBatchIndex===0)return this._recordBatchIndex++,{done:!1,value:new Fm._InternalEmptyPlaceholderRecordBatch(this.schema)};return this.return()}_readNextMessageAndValidate($){return this._reader.readMessage($)}}class QG extends Hm{constructor($,Q){super(Q);this._reader=new N$.AsyncMessageReader(this._handle=$)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return x6.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&(this.closed=!0))yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null})}open($){return x6.__awaiter(this,void 0,void 0,function*(){if(!this.closed){if(this.autoDestroy=bN0(this,$),!(this.schema||(this.schema=yield this._reader.readSchema())))yield this.cancel()}return this})}throw($){return x6.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&this.autoDestroy&&(this.closed=!0))return yield this.reset()._reader.throw($);return nW.ITERATOR_DONE})}return($){return x6.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&this.autoDestroy&&(this.closed=!0))return yield this.reset()._reader.return($);return nW.ITERATOR_DONE})}next(){return x6.__awaiter(this,void 0,void 0,function*(){if(this.closed)return nW.ITERATOR_DONE;let $,{_reader:Q}=this;while($=yield this._readNextMessageAndValidate())if($.isSchema())yield this.reset($.header());else if($.isRecordBatch()){this._recordBatchIndex++;let J=$.header(),K=yield Q.readMessageBody($.bodyLength);return{done:!1,value:this._loadRecordBatch(J,K)}}else if($.isDictionaryBatch()){this._dictionaryIndex++;let J=$.header(),K=yield Q.readMessageBody($.bodyLength),Y=this._loadDictionaryBatch(J,K);this.dictionaries.set(J.id,Y)}if(this.schema&&this._recordBatchIndex===0)return this._recordBatchIndex++,{done:!1,value:new Fm._InternalEmptyPlaceholderRecordBatch(this.schema)};return yield this.return()})}_readNextMessageAndValidate($){return x6.__awaiter(this,void 0,void 0,function*(){return yield this._reader.readMessage($)})}}class Nm extends $G{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor($,Q){super($ instanceof eR.RandomAccessFile?$:new eR.RandomAccessFile($),Q)}isSync(){return!0}isFile(){return!0}open($){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(let Q of this._footer.dictionaryBatches())Q&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open($)}readRecordBatch($){var Q;if(this.closed)return null;if(!this._footer)this.open();let J=(Q=this._footer)===null||Q===void 0?void 0:Q.getRecordBatch($);if(J&&this._handle.seek(J.offset)){let K=this._reader.readMessage(Wj.MessageHeader.RecordBatch);if(K===null||K===void 0?void 0:K.isRecordBatch()){let Y=K.header(),Z=this._reader.readMessageBody(K.bodyLength);return this._loadRecordBatch(Y,Z)}}return null}_readDictionaryBatch($){var Q;let J=(Q=this._footer)===null||Q===void 0?void 0:Q.getDictionaryBatch($);if(J&&this._handle.seek(J.offset)){let K=this._reader.readMessage(Wj.MessageHeader.DictionaryBatch);if(K===null||K===void 0?void 0:K.isDictionaryBatch()){let Y=K.header(),Z=this._reader.readMessageBody(K.bodyLength),q=this._loadDictionaryBatch(Y,Z);this.dictionaries.set(Y.id,q)}}}_readFooter(){let{_handle:$}=this,Q=$.size-N$.magicAndPadding,J=$.readInt32(Q),K=$.readAt(Q-J,J);return _N0.Footer.decode(K)}_readNextMessageAndValidate($){var Q;if(!this._footer)this.open();if(this._footer&&this._recordBatchIndex<this.numRecordBatches){let J=(Q=this._footer)===null||Q===void 0?void 0:Q.getRecordBatch(this._recordBatchIndex);if(J&&this._handle.seek(J.offset))return this._reader.readMessage($)}return null}}class IN0 extends QG{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor($,...Q){let J=typeof Q[0]!=="number"?Q.shift():void 0,K=Q[0]instanceof Map?Q.shift():void 0;super($ instanceof eR.AsyncRandomAccessFile?$:new eR.AsyncRandomAccessFile($,J),K)}isFile(){return!0}isAsync(){return!0}open($){let Q=Object.create(null,{open:{get:()=>super.open}});return x6.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(let J of this._footer.dictionaryBatches())J&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield Q.open.call(this,$)})}readRecordBatch($){return x6.__awaiter(this,void 0,void 0,function*(){var Q;if(this.closed)return null;if(!this._footer)yield this.open();let J=(Q=this._footer)===null||Q===void 0?void 0:Q.getRecordBatch($);if(J&&(yield this._handle.seek(J.offset))){let K=yield this._reader.readMessage(Wj.MessageHeader.RecordBatch);if(K===null||K===void 0?void 0:K.isRecordBatch()){let Y=K.header(),Z=yield this._reader.readMessageBody(K.bodyLength);return this._loadRecordBatch(Y,Z)}}return null})}_readDictionaryBatch($){return x6.__awaiter(this,void 0,void 0,function*(){var Q;let J=(Q=this._footer)===null||Q===void 0?void 0:Q.getDictionaryBatch($);if(J&&(yield this._handle.seek(J.offset))){let K=yield this._reader.readMessage(Wj.MessageHeader.DictionaryBatch);if(K===null||K===void 0?void 0:K.isDictionaryBatch()){let Y=K.header(),Z=yield this._reader.readMessageBody(K.bodyLength),q=this._loadDictionaryBatch(Y,Z);this.dictionaries.set(Y.id,q)}}})}_readFooter(){return x6.__awaiter(this,void 0,void 0,function*(){let{_handle:$}=this;$._pending&&(yield $._pending);let Q=$.size-N$.magicAndPadding,J=yield $.readInt32(Q),K=yield $.readAt(Q-J,J);return _N0.Footer.decode(K)})}_readNextMessageAndValidate($){return x6.__awaiter(this,void 0,void 0,function*(){if(!this._footer)yield this.open();if(this._footer&&this._recordBatchIndex<this.numRecordBatches){let Q=this._footer.getRecordBatch(this._recordBatchIndex);if(Q&&(yield this._handle.seek(Q.offset)))return yield this._reader.readMessage($)}return null})}}class MN0 extends $G{constructor($,Q){super($,Q)}_loadVectors($,Q,J){return new fN0.JSONVectorLoader(Q,$.nodes,$.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(J)}}function bN0($,Q){return Q&&typeof Q.autoDestroy==="boolean"?Q.autoDestroy:$.autoDestroy}function*vN0($){let Q=xY.from($);try{if(!Q.open({autoDestroy:!1}).closed)do yield Q;while(!Q.reset().open().closed)}finally{Q.cancel()}}function SN0($){return x6.__asyncGenerator(this,arguments,function*(){let J=yield x6.__await(xY.from($));try{if(!(yield x6.__await(J.open({autoDestroy:!1}))).closed)do yield yield x6.__await(J);while(!(yield x6.__await(J.reset().open())).closed)}finally{yield x6.__await(J.cancel())}})}function NJ1($){return new lN(new MN0($))}function BJ1($){let Q=$.peek(N$.magicLength+7&-8);return Q&&Q.byteLength>=4?!(0,N$.checkForMagicArrowString)(Q)?new lN(new $G($)):new Fj(new Nm($.read())):new lN(new $G(function*(){}()))}function zJ1($){return x6.__awaiter(this,void 0,void 0,function*(){let Q=yield $.peek(N$.magicLength+7&-8);return Q&&Q.byteLength>=4?!(0,N$.checkForMagicArrowString)(Q)?new rN(new QG($)):new Fj(new Nm(yield $.read())):new rN(new QG(function(){return x6.__asyncGenerator(this,arguments,function*(){})}()))})}function AJ1($){return x6.__awaiter(this,void 0,void 0,function*(){let{size:Q}=yield $.stat(),J=new eR.AsyncRandomAccessFile($,Q);if(Q>=N$.magicX2AndPadding&&(0,N$.checkForMagicArrowString)(yield J.readAt(0,N$.magicLength+7&-8)))return new Um(new IN0(J));return new rN(new QG(J))})}});var dN0=C0((mN0)=>{Object.defineProperty(mN0,"__esModule",{value:!0});mN0.VectorAssembler=void 0;var wJ1=y4(),TJ1=O9(),xN0=A7(),DJ1=lq(),uN0=T8(),zm=_W(),Am=uW(),Bm=i6(),cN0=Iq();class j7 extends TJ1.Visitor{static assemble(...$){let Q=(K)=>K.flatMap((Y)=>Array.isArray(Y)?Q(Y):Y instanceof DJ1.RecordBatch?Y.data.children:Y.data),J=new j7;return J.visitMany(Q($)),J}constructor(){super();this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit($){if($ instanceof wJ1.Vector)return this.visitMany($.data),this;let{type:Q}=$;if(!Bm.DataType.isDictionary(Q)){let{length:J}=$;if(J>2147483647)throw RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(Bm.DataType.isUnion(Q))this.nodes.push(new Am.FieldNode(J,0));else{let{nullCount:K}=$;if(!Bm.DataType.isNull(Q))LQ.call(this,K<=0?new Uint8Array(0):(0,zm.truncateBitmap)($.offset,J,$.nullBitmap));this.nodes.push(new Am.FieldNode(J,K))}}return super.visit($)}visitNull($){return this}visitDictionary($){return this.visit($.clone($.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}mN0.VectorAssembler=j7;function LQ($){let Q=$.byteLength+7&-8;return this.buffers.push($),this.bufferRegions.push(new Am.BufferRegion(this._byteLength,Q)),this._byteLength+=Q,this}function CJ1($){var Q;let{type:J,length:K,typeIds:Y,valueOffsets:Z}=$;if(LQ.call(this,Y),J.mode===xN0.UnionMode.Sparse)return Vm.call(this,$);else if(J.mode===xN0.UnionMode.Dense)if($.offset<=0)return LQ.call(this,Z),Vm.call(this,$);else{let q=new Int32Array(K),X=Object.create(null),W=Object.create(null);for(let F,H,B=-1;++B<K;){if((F=Y[B])===void 0)continue;if((H=X[F])===void 0)H=X[F]=Z[B];q[B]=Z[B]-H,W[F]=((Q=W[F])!==null&&Q!==void 0?Q:0)+1}LQ.call(this,q),this.visitMany($.children.map((F,H)=>{let B=J.typeIds[H],z=X[B],A=W[B];return F.slice(z,Math.min(K,A))}))}return this}function PJ1($){let Q;if($.nullCount>=$.length)return LQ.call(this,new Uint8Array(0));else if((Q=$.values)instanceof Uint8Array)return LQ.call(this,(0,zm.truncateBitmap)($.offset,$.length,Q));return LQ.call(this,(0,zm.packBools)($.values))}function cY($){return LQ.call(this,$.values.subarray(0,$.length*$.stride))}function Uj($){let{length:Q,values:J,valueOffsets:K}=$,Y=(0,cN0.bigIntToNumber)(K[0]),Z=(0,cN0.bigIntToNumber)(K[Q]),q=Math.min(Z-Y,J.byteLength-Y);return LQ.call(this,(0,uN0.rebaseValueOffsets)(-Y,Q+1,K)),LQ.call(this,J.subarray(Y,Y+q)),this}function Rm($){let{length:Q,valueOffsets:J}=$;if(J){let{[0]:K,[Q]:Y}=J;return LQ.call(this,(0,uN0.rebaseValueOffsets)(-K,Q+1,J)),this.visit($.children[0].slice(K,Y-K))}return this.visit($.children[0])}function Vm($){return this.visitMany($.type.children.map((Q,J)=>$.children[J]).filter(Boolean))[0]}j7.prototype.visitBool=PJ1;j7.prototype.visitInt=cY;j7.prototype.visitFloat=cY;j7.prototype.visitUtf8=Uj;j7.prototype.visitLargeUtf8=Uj;j7.prototype.visitBinary=Uj;j7.prototype.visitLargeBinary=Uj;j7.prototype.visitFixedSizeBinary=cY;j7.prototype.visitDate=cY;j7.prototype.visitTimestamp=cY;j7.prototype.visitTime=cY;j7.prototype.visitDecimal=cY;j7.prototype.visitList=Rm;j7.prototype.visitStruct=Vm;j7.prototype.visitUnion=CJ1;j7.prototype.visitInterval=cY;j7.prototype.visitDuration=cY;j7.prototype.visitFixedSizeList=Rm;j7.prototype.visitMap=Rm});var iN0=C0((lN0)=>{Object.defineProperty(lN0,"__esModule",{value:!0});lN0.JSONTypeAssembler=void 0;var kJ1=O9(),s7=kN(),lW=A7();class nN0 extends kJ1.Visitor{visit($){return $==null?void 0:super.visit($)}visitNull({typeId:$}){return{name:s7.Type[$].toLowerCase()}}visitInt({typeId:$,bitWidth:Q,isSigned:J}){return{name:s7.Type[$].toLowerCase(),bitWidth:Q,isSigned:J}}visitFloat({typeId:$,precision:Q}){return{name:s7.Type[$].toLowerCase(),precision:lW.Precision[Q]}}visitBinary({typeId:$}){return{name:s7.Type[$].toLowerCase()}}visitLargeBinary({typeId:$}){return{name:s7.Type[$].toLowerCase()}}visitBool({typeId:$}){return{name:s7.Type[$].toLowerCase()}}visitUtf8({typeId:$}){return{name:s7.Type[$].toLowerCase()}}visitLargeUtf8({typeId:$}){return{name:s7.Type[$].toLowerCase()}}visitDecimal({typeId:$,scale:Q,precision:J,bitWidth:K}){return{name:s7.Type[$].toLowerCase(),scale:Q,precision:J,bitWidth:K}}visitDate({typeId:$,unit:Q}){return{name:s7.Type[$].toLowerCase(),unit:lW.DateUnit[Q]}}visitTime({typeId:$,unit:Q,bitWidth:J}){return{name:s7.Type[$].toLowerCase(),unit:lW.TimeUnit[Q],bitWidth:J}}visitTimestamp({typeId:$,timezone:Q,unit:J}){return{name:s7.Type[$].toLowerCase(),unit:lW.TimeUnit[J],timezone:Q}}visitInterval({typeId:$,unit:Q}){return{name:s7.Type[$].toLowerCase(),unit:lW.IntervalUnit[Q]}}visitDuration({typeId:$,unit:Q}){return{name:s7.Type[$].toLocaleLowerCase(),unit:lW.TimeUnit[Q]}}visitList({typeId:$}){return{name:s7.Type[$].toLowerCase()}}visitStruct({typeId:$}){return{name:s7.Type[$].toLowerCase()}}visitUnion({typeId:$,mode:Q,typeIds:J}){return{name:s7.Type[$].toLowerCase(),mode:lW.UnionMode[Q].toUpperCase(),typeIds:[...J]}}visitDictionary($){return this.visit($.dictionary)}visitFixedSizeBinary({typeId:$,byteWidth:Q}){return{name:s7.Type[$].toLowerCase(),byteWidth:Q}}visitFixedSizeList({typeId:$,listSize:Q}){return{name:s7.Type[$].toLowerCase(),listSize:Q}}visitMap({typeId:$,keysSorted:Q}){return{name:s7.Type[$].toLowerCase(),keysSorted:Q}}}lN0.JSONTypeAssembler=nN0});var aN0=C0((sN0)=>{Object.defineProperty(sN0,"__esModule",{value:!0});sN0.JSONVectorAssembler=void 0;var jJ1=Nk(),KG=y4(),EJ1=O9(),LJ1=A7(),Gm=A7(),Hj=_W(),Om=i6();class Tm extends EJ1.Visitor{static assemble(...$){let Q=new Tm;return $.map(({schema:J,data:K})=>{return Q.visitMany(J.fields,K.children)})}visit({name:$},Q){let{length:J}=Q,{offset:K,nullCount:Y,nullBitmap:Z}=Q,q=Om.DataType.isDictionary(Q.type)?Q.type.indices:Q.type,X=Object.assign([],Q.buffers,{[LJ1.BufferType.VALIDITY]:void 0});return Object.assign({name:$,count:J,VALIDITY:Om.DataType.isNull(q)||Om.DataType.isUnion(q)?void 0:Y<=0?Array.from({length:J},()=>1):[...new Hj.BitIterator(Z,K,J,null,Hj.getBit)]},super.visit(Q.clone(q,K,J,0,X)))}visitNull(){return{}}visitBool({values:$,offset:Q,length:J}){return{DATA:[...new Hj.BitIterator($,Q,J,null,Hj.getBool)]}}visitInt($){return{DATA:$.type.bitWidth<64?[...$.values]:[...$X($.values,2)]}}visitFloat($){return{DATA:[...$.values]}}visitUtf8($){return{DATA:[...new KG.Vector([$])],OFFSET:[...$.valueOffsets]}}visitLargeUtf8($){return{DATA:[...new KG.Vector([$])],OFFSET:[...$X($.valueOffsets,2)]}}visitBinary($){return{DATA:[...wm(new KG.Vector([$]))],OFFSET:[...$.valueOffsets]}}visitLargeBinary($){return{DATA:[...wm(new KG.Vector([$]))],OFFSET:[...$X($.valueOffsets,2)]}}visitFixedSizeBinary($){return{DATA:[...wm(new KG.Vector([$]))]}}visitDate($){return{DATA:$.type.unit===Gm.DateUnit.DAY?[...$.values]:[...$X($.values,2)]}}visitTimestamp($){return{DATA:[...$X($.values,2)]}}visitTime($){return{DATA:$.type.unit<Gm.TimeUnit.MICROSECOND?[...$.values]:[...$X($.values,2)]}}visitDecimal($){return{DATA:[...$X($.values,4)]}}visitList($){return{OFFSET:[...$.valueOffsets],children:this.visitMany($.type.children,$.children)}}visitStruct($){return{children:this.visitMany($.type.children,$.children)}}visitUnion($){return{TYPE_ID:[...$.typeIds],OFFSET:$.type.mode===Gm.UnionMode.Dense?[...$.valueOffsets]:void 0,children:this.visitMany($.type.children,$.children)}}visitInterval($){return{DATA:[...$.values]}}visitDuration($){return{DATA:[...$X($.values,2)]}}visitFixedSizeList($){return{children:this.visitMany($.type.children,$.children)}}visitMap($){return{OFFSET:[...$.valueOffsets],children:this.visitMany($.type.children,$.children)}}}sN0.JSONVectorAssembler=Tm;function*wm($){for(let Q of $)yield Q.reduce((J,K)=>{return`${J}${("0"+(K&255).toString(16)).slice(-2)}`},"").toUpperCase()}function*$X($,Q){let J=new Uint32Array($.buffer);for(let K=-1,Y=J.length/Q;++K<Y;)yield`${jJ1.BN.new(J.subarray((K+0)*Q,(K+1)*Q),!1)}`}});var zj=C0((KB0)=>{Object.defineProperty(KB0,"__esModule",{value:!0});KB0.RecordBatchJSONWriter=KB0.RecordBatchFileWriter=KB0.RecordBatchStreamWriter=KB0.RecordBatchWriter=void 0;var tN0=(R9(),F3(V9)),Pm=uN(),hJ1=Xj(),vJ1=y4(),SJ1=i6(),Nj=uW(),Dm=uW(),iN=pc(),km=A7(),eN0=lR(),Cm=dq(),$B0=dN0(),_J1=iN0(),QB0=aN0(),fJ1=T8(),Bj=lq(),IJ1=SR(),eJ=Pq();class YG extends IJ1.ReadableInterop{static throughNode($){throw Error('"throughNode" not available in this environment')}static throughDOM($,Q){throw Error('"throughDOM" not available in this environment')}constructor($){super();this._position=0,this._started=!1,this._sink=new Cm.AsyncByteQueue,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,(0,eJ.isObject)($)||($={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof $.autoDestroy==="boolean"?$.autoDestroy:!0,this._writeLegacyIpcFormat=typeof $.writeLegacyIpcFormat==="boolean"?$.writeLegacyIpcFormat:!1}toString($=!1){return this._sink.toString($)}toUint8Array($=!1){return this._sink.toUint8Array($)}writeAll($){if((0,eJ.isPromise)($))return $.then((Q)=>this.writeAll(Q));else if((0,eJ.isAsyncIterable)($))return vm(this,$);return hm(this,$)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream($){return this._sink.toDOMStream($)}toNodeStream($){return this._sink.toNodeStream($)}close(){return this.reset()._sink.close()}abort($){return this.reset()._sink.abort($)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset($=this._sink,Q=null){if($===this._sink||$ instanceof Cm.AsyncByteQueue)this._sink=$;else if(this._sink=new Cm.AsyncByteQueue,$&&(0,eJ.isWritableDOMStream)($))this.toDOMStream({type:"bytes"}).pipeTo($);else if($&&(0,eJ.isWritableNodeStream)($))this.toNodeStream({objectMode:!1}).pipe($);if(this._started&&this._schema)this._writeFooter(this._schema);if(this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,!Q||!(0,eN0.compareSchemas)(Q,this._schema))if(Q==null)this._position=0,this._schema=null;else this._started=!0,this._schema=Q,this._writeSchema(Q);return this}write($){let Q=null;if(!this._sink)throw Error("RecordBatchWriter is closed");else if($==null)return this.finish()&&void 0;else if($ instanceof Pm.Table&&!(Q=$.schema))return this.finish()&&void 0;else if($ instanceof Bj.RecordBatch&&!(Q=$.schema))return this.finish()&&void 0;if(Q&&!(0,eN0.compareSchemas)(Q,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,Q)}if($ instanceof Bj.RecordBatch){if(!($ instanceof Bj._InternalEmptyPlaceholderRecordBatch))this._writeRecordBatch($)}else if($ instanceof Pm.Table)this.writeAll($.batches);else if((0,eJ.isIterable)($))this.writeAll($)}_writeMessage($,Q=8){let J=Q-1,K=Nj.Message.encode($),Y=K.byteLength,Z=!this._writeLegacyIpcFormat?8:4,q=Y+Z+J&~J,X=q-Y-Z;if($.headerType===km.MessageHeader.RecordBatch)this._recordBatchBlocks.push(new iN.FileBlock(q,$.bodyLength,this._position));else if($.headerType===km.MessageHeader.DictionaryBatch)this._dictionaryBlocks.push(new iN.FileBlock(q,$.bodyLength,this._position));if(!this._writeLegacyIpcFormat)this._write(Int32Array.of(-1));if(this._write(Int32Array.of(q-Z)),Y>0)this._write(K);return this._writePadding(X)}_write($){if(this._started){let Q=(0,fJ1.toUint8Array)($);if(Q&&Q.byteLength>0)this._sink.write(Q),this._position+=Q.byteLength}return this}_writeSchema($){return this._writeMessage(Nj.Message.from($))}_writeFooter($){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(hJ1.MAGIC)}_writePadding($){return $>0?this._write(new Uint8Array($)):this}_writeRecordBatch($){let{byteLength:Q,nodes:J,bufferRegions:K,buffers:Y}=$B0.VectorAssembler.assemble($),Z=new Dm.RecordBatch($.numRows,J,K),q=Nj.Message.from(Z,Q);return this._writeDictionaries($)._writeMessage(q)._writeBodyBuffers(Y)}_writeDictionaryBatch($,Q,J=!1){let{byteLength:K,nodes:Y,bufferRegions:Z,buffers:q}=$B0.VectorAssembler.assemble(new vJ1.Vector([$])),X=new Dm.RecordBatch($.length,Y,Z),W=new Dm.DictionaryBatch(X,Q,J),F=Nj.Message.from(W,K);return this._writeMessage(F)._writeBodyBuffers(q)}_writeBodyBuffers($){let Q,J,K;for(let Y=-1,Z=$.length;++Y<Z;)if((Q=$[Y])&&(J=Q.byteLength)>0){if(this._write(Q),(K=(J+7&-8)-J)>0)this._writePadding(K)}return this}_writeDictionaries($){var Q,J;for(let[K,Y]of $.dictionaries){let Z=(Q=Y===null||Y===void 0?void 0:Y.data)!==null&&Q!==void 0?Q:[],q=this._seenDictionaries.get(K),X=(J=this._dictionaryDeltaOffsets.get(K))!==null&&J!==void 0?J:0;if(!q||q.data[0]!==Z[0])for(let[W,F]of Z.entries())this._writeDictionaryBatch(F,K,W>0);else if(X<Z.length)for(let W of Z.slice(X))this._writeDictionaryBatch(W,K,!0);this._seenDictionaries.set(K,Y),this._dictionaryDeltaOffsets.set(K,Z.length)}return this}}KB0.RecordBatchWriter=YG;class jm extends YG{static writeAll($,Q){let J=new jm(Q);if((0,eJ.isPromise)($))return $.then((K)=>J.writeAll(K));else if((0,eJ.isAsyncIterable)($))return vm(J,$);return hm(J,$)}}KB0.RecordBatchStreamWriter=jm;class Em extends YG{static writeAll($){let Q=new Em;if((0,eJ.isPromise)($))return $.then((J)=>Q.writeAll(J));else if((0,eJ.isAsyncIterable)($))return vm(Q,$);return hm(Q,$)}constructor(){super();this._autoDestroy=!0}_writeSchema($){return this._writeMagic()._writePadding(2)}_writeDictionaryBatch($,Q,J=!1){if(!J&&this._seenDictionaries.has(Q))throw Error("The Arrow File format does not support replacement dictionaries. ");return super._writeDictionaryBatch($,Q,J)}_writeFooter($){let Q=iN.Footer.encode(new iN.Footer($,km.MetadataVersion.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter($)._write(Q)._write(Int32Array.of(Q.byteLength))._writeMagic()}}KB0.RecordBatchFileWriter=Em;class Lm extends YG{static writeAll($){return new Lm().writeAll($)}constructor(){super();this._autoDestroy=!0,this._recordBatches=[],this._recordBatchesWithDictionaries=[]}_writeMessage(){return this}_writeFooter($){return this}_writeSchema($){return this._write(`{
  "schema": ${JSON.stringify({fields:$.fields.map((Q)=>JB0(Q))},null,2)}`)}_writeDictionaries($){if($.dictionaries.size>0)this._recordBatchesWithDictionaries.push($);return this}_writeDictionaryBatch($,Q,J=!1){return this._write(this._dictionaryBlocks.length===0?"    ":`,
    `),this._write(MJ1($,Q,J)),this._dictionaryBlocks.push(new iN.FileBlock(0,0,0)),this}_writeRecordBatch($){return this._writeDictionaries($),this._recordBatches.push($),this}close(){if(this._recordBatchesWithDictionaries.length>0){this._write(`,
  "dictionaries": [
`);for(let $ of this._recordBatchesWithDictionaries)super._writeDictionaries($);this._write(`
  ]`)}if(this._recordBatches.length>0){for(let $=-1,Q=this._recordBatches.length;++$<Q;)this._write($===0?`,
  "batches": [
    `:`,
    `),this._write(bJ1(this._recordBatches[$])),this._recordBatchBlocks.push(new iN.FileBlock(0,0,0));this._write(`
  ]`)}if(this._schema)this._write(`
}`);return this._recordBatchesWithDictionaries=[],this._recordBatches=[],super.close()}}KB0.RecordBatchJSONWriter=Lm;function hm($,Q){let J=Q;if(Q instanceof Pm.Table)J=Q.batches,$.reset(void 0,Q.schema);for(let K of J)$.write(K);return $.finish()}function vm($,Q){return tN0.__awaiter(this,void 0,void 0,function*(){var J,K,Y,Z,q,X,W;try{for(J=!0,K=tN0.__asyncValues(Q);Y=yield K.next(),Z=Y.done,!Z;J=!0){W=Y.value,J=!1;let F=W;$.write(F)}}catch(F){q={error:F}}finally{try{if(!J&&!Z&&(X=K.return))yield X.call(K)}finally{if(q)throw q.error}}return $.finish()})}function JB0({name:$,type:Q,nullable:J}){let K=new _J1.JSONTypeAssembler;return{name:$,nullable:J,type:K.visit(Q),children:(Q.children||[]).map((Y)=>JB0(Y)),dictionary:!SJ1.DataType.isDictionary(Q)?void 0:{id:Q.id,isOrdered:Q.isOrdered,indexType:K.visit(Q.indices)}}}function MJ1($,Q,J=!1){let[K]=QB0.JSONVectorAssembler.assemble(new Bj.RecordBatch({[Q]:$}));return JSON.stringify({id:Q,isDelta:J,data:{count:$.length,columns:K}},null,2)}function bJ1($){let[Q]=QB0.JSONVectorAssembler.assemble($);return JSON.stringify({count:$.numRows,columns:Q},null,2)}});var FB0=C0((XB0)=>{Object.defineProperty(XB0,"__esModule",{value:!0});XB0.toDOMStream=void 0;var Aj=(R9(),F3(V9)),qB0=T8(),ZB0=Pq();function cJ1($,Q){if((0,ZB0.isAsyncIterable)($))return mJ1($,Q);if((0,ZB0.isIterable)($))return uJ1($,Q);throw Error("toDOMStream() must be called with an Iterable or AsyncIterable")}XB0.toDOMStream=cJ1;function uJ1($,Q){let J=null,K=(Q===null||Q===void 0?void 0:Q.type)==="bytes"||!1,Y=(Q===null||Q===void 0?void 0:Q.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},Q),{start(q){Z(q,J||(J=$[Symbol.iterator]()))},pull(q){J?Z(q,J):q.close()},cancel(){((J===null||J===void 0?void 0:J.return)&&J.return()||!0)&&(J=null)}}),Object.assign({highWaterMark:K?Y:void 0},Q));function Z(q,X){let W,F=null,H=q.desiredSize||null;while(!(F=X.next(K?H:null)).done){if(ArrayBuffer.isView(F.value)&&(W=(0,qB0.toUint8Array)(F.value)))H!=null&&K&&(H=H-W.byteLength+1),F.value=W;if(q.enqueue(F.value),H!=null&&--H<=0)return}q.close()}}function mJ1($,Q){let J=null,K=(Q===null||Q===void 0?void 0:Q.type)==="bytes"||!1,Y=(Q===null||Q===void 0?void 0:Q.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},Q),{start(q){return Aj.__awaiter(this,void 0,void 0,function*(){yield Z(q,J||(J=$[Symbol.asyncIterator]()))})},pull(q){return Aj.__awaiter(this,void 0,void 0,function*(){J?yield Z(q,J):q.close()})},cancel(){return Aj.__awaiter(this,void 0,void 0,function*(){((J===null||J===void 0?void 0:J.return)&&(yield J.return())||!0)&&(J=null)})}}),Object.assign({highWaterMark:K?Y:void 0},Q));function Z(q,X){return Aj.__awaiter(this,void 0,void 0,function*(){let W,F=null,H=q.desiredSize||null;while(!(F=yield X.next(K?H:null)).done){if(ArrayBuffer.isView(F.value)&&(W=(0,qB0.toUint8Array)(F.value)))H!=null&&K&&(H=H-W.byteLength+1),F.value=W;if(q.enqueue(F.value),H!=null&&--H<=0)return}q.close()})}}});var zB0=C0((NB0)=>{Object.defineProperty(NB0,"__esModule",{value:!0});NB0.BuilderTransform=NB0.builderThroughDOMStream=void 0;var pJ1=(R9(),F3(V9)),dJ1=IR();function nJ1($){return new Sm($)}NB0.builderThroughDOMStream=nJ1;class Sm{constructor($){this._numChunks=0,this._finished=!1,this._bufferedSize=0;let{["readableStrategy"]:Q,["writableStrategy"]:J,["queueingStrategy"]:K="count"}=$,Y=pJ1.__rest($,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=(0,dJ1.makeBuilder)(Y),this._getSize=K!=="bytes"?UB0:HB0;let{["highWaterMark"]:Z=K==="bytes"?Math.pow(2,14):1000}=Object.assign({},Q),{["highWaterMark"]:q=K==="bytes"?Math.pow(2,14):1000}=Object.assign({},J);this.readable=new ReadableStream({["cancel"]:()=>{this._builder.clear()},["pull"]:(X)=>{this._maybeFlush(this._builder,this._controller=X)},["start"]:(X)=>{this._maybeFlush(this._builder,this._controller=X)}},{highWaterMark:Z,size:K!=="bytes"?UB0:HB0}),this.writable=new WritableStream({["abort"]:()=>{this._builder.clear()},["write"]:()=>{this._maybeFlush(this._builder,this._controller)},["close"]:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:q,size:(X)=>this._writeValueAndReturnChunkSize(X)})}_writeValueAndReturnChunkSize($){let Q=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append($)),this._bufferedSize-Q}_maybeFlush($,Q){if(Q==null)return;if(this._bufferedSize>=Q.desiredSize)++this._numChunks&&this._enqueue(Q,$.toVector());if($.finished){if($.length>0||this._numChunks===0)++this._numChunks&&this._enqueue(Q,$.toVector());if(!this._finished&&(this._finished=!0))this._enqueue(Q,null)}}_enqueue($,Q){this._bufferedSize=0,this._controller=null,Q==null?$.close():$.enqueue(Q)}}NB0.BuilderTransform=Sm;var UB0=($)=>{var Q;return(Q=$===null||$===void 0?void 0:$.length)!==null&&Q!==void 0?Q:0},HB0=($)=>{var Q;return(Q=$===null||$===void 0?void 0:$.byteLength)!==null&&Q!==void 0?Q:0}});var RB0=C0((AB0)=>{Object.defineProperty(AB0,"__esModule",{value:!0});AB0.recordBatchReaderThroughDOMStream=void 0;var ZG=(R9(),F3(V9)),rJ1=dq(),iJ1=JG();function sJ1($,Q){let J=new rJ1.AsyncByteQueue,K=null,Y=new ReadableStream({cancel(){return ZG.__awaiter(this,void 0,void 0,function*(){yield J.close()})},start(X){return ZG.__awaiter(this,void 0,void 0,function*(){yield q(X,K||(K=yield Z()))})},pull(X){return ZG.__awaiter(this,void 0,void 0,function*(){K?yield q(X,K):X.close()})}});return{writable:new WritableStream(J,Object.assign({highWaterMark:Math.pow(2,14)},$)),readable:Y};function Z(){return ZG.__awaiter(this,void 0,void 0,function*(){return yield(yield iJ1.RecordBatchReader.from(J)).open(Q)})}function q(X,W){return ZG.__awaiter(this,void 0,void 0,function*(){let F=X.desiredSize,H=null;while(!(H=yield W.next()).done)if(X.enqueue(H.value),F!=null&&--F<=0)return;X.close()})}}AB0.recordBatchReaderThroughDOMStream=sJ1});var wB0=C0((GB0)=>{Object.defineProperty(GB0,"__esModule",{value:!0});GB0.recordBatchWriterThroughDOMStream=void 0;var Vj=(R9(),F3(V9)),oJ1=dq();function aJ1($,Q){let J=new this($),K=new oJ1.AsyncByteStream(J),Y=new ReadableStream({cancel(){return Vj.__awaiter(this,void 0,void 0,function*(){yield K.cancel()})},pull(q){return Vj.__awaiter(this,void 0,void 0,function*(){yield Z(q)})},start(q){return Vj.__awaiter(this,void 0,void 0,function*(){yield Z(q)})}},Object.assign({highWaterMark:Math.pow(2,14)},Q));return{writable:new WritableStream(J,$),readable:Y};function Z(q){return Vj.__awaiter(this,void 0,void 0,function*(){let X=null,W=q.desiredSize;while(X=yield K.read(W||null))if(q.enqueue(X),W!=null&&(W-=X.byteLength)<=0)return;q.close()})}}GB0.recordBatchWriterThroughDOMStream=aJ1});var jB0=C0((PB0)=>{Object.defineProperty(PB0,"__esModule",{value:!0});PB0.tableToIPC=PB0.tableFromIPC=void 0;var TB0=uN(),tJ1=Pq(),eJ1=JG(),DB0=zj();function CB0($){let Q=eJ1.RecordBatchReader.from($);if((0,tJ1.isPromise)(Q))return Q.then((J)=>CB0(J));if(Q.isAsync())return Q.readAll().then((J)=>new TB0.Table(J));return new TB0.Table(Q.readAll())}PB0.tableFromIPC=CB0;function $K1($,Q="stream"){return(Q==="stream"?DB0.RecordBatchStreamWriter:DB0.RecordBatchFileWriter).writeAll($).toUint8Array(!0)}PB0.tableToIPC=$K1});var xm=C0((T0)=>{Object.defineProperty(T0,"__esModule",{value:!0});T0.DenseUnion=T0.Union=T0.Struct=T0.List=T0.Decimal=T0.TimeNanosecond=T0.TimeMicrosecond=T0.TimeMillisecond=T0.TimeSecond=T0.Time=T0.TimestampNanosecond=T0.TimestampMicrosecond=T0.TimestampMillisecond=T0.TimestampSecond=T0.Timestamp=T0.DateMillisecond=T0.DateDay=T0.Date_=T0.FixedSizeBinary=T0.LargeBinary=T0.Binary=T0.LargeUtf8=T0.Utf8=T0.Float64=T0.Float32=T0.Float16=T0.Float=T0.Uint64=T0.Uint32=T0.Uint16=T0.Uint8=T0.Int64=T0.Int32=T0.Int16=T0.Int8=T0.Int=T0.Bool=T0.Null=T0.DataType=T0.makeData=T0.Data=T0.MetadataVersion=T0.IntervalUnit=T0.UnionMode=T0.Precision=T0.TimeUnit=T0.DateUnit=T0.BufferType=T0.Type=T0.MessageHeader=void 0;T0.TimeBuilder=T0.Uint64Builder=T0.Uint32Builder=T0.Uint16Builder=T0.Uint8Builder=T0.Int64Builder=T0.Int32Builder=T0.Int16Builder=T0.Int8Builder=T0.IntBuilder=T0.Float64Builder=T0.Float32Builder=T0.Float16Builder=T0.FloatBuilder=T0.FixedSizeBinaryBuilder=T0.DictionaryBuilder=T0.DecimalBuilder=T0.DateMillisecondBuilder=T0.DateDayBuilder=T0.DateBuilder=T0.NullBuilder=T0.BoolBuilder=T0.builderThroughAsyncIterable=T0.builderThroughIterable=T0.tableFromJSON=T0.vectorFromArray=T0.makeBuilder=T0.Builder=T0.StructRow=T0.MapRow=T0.Field=T0.Schema=T0.Visitor=T0.makeVector=T0.Vector=T0.tableFromArrays=T0.makeTable=T0.Table=T0.Map_=T0.FixedSizeList=T0.DurationNanosecond=T0.DurationMicrosecond=T0.DurationMillisecond=T0.DurationSecond=T0.Duration=T0.IntervalYearMonth=T0.IntervalDayTime=T0.Interval=T0.Dictionary=T0.SparseUnion=void 0;T0.util=T0.RecordBatch=T0.Message=T0.JSONMessageReader=T0.AsyncMessageReader=T0.MessageReader=T0.tableFromIPC=T0.tableToIPC=T0.RecordBatchJSONWriter=T0.RecordBatchStreamWriter=T0.RecordBatchFileWriter=T0.RecordBatchWriter=T0.AsyncRecordBatchStreamReader=T0.AsyncRecordBatchFileReader=T0.RecordBatchStreamReader=T0.RecordBatchFileReader=T0.RecordBatchReader=T0.AsyncByteQueue=T0.AsyncByteStream=T0.ByteStream=T0.DenseUnionBuilder=T0.SparseUnionBuilder=T0.UnionBuilder=T0.StructBuilder=T0.MapBuilder=T0.FixedSizeListBuilder=T0.ListBuilder=T0.LargeBinaryBuilder=T0.BinaryBuilder=T0.LargeUtf8Builder=T0.Utf8Builder=T0.DurationNanosecondBuilder=T0.DurationMicrosecondBuilder=T0.DurationMillisecondBuilder=T0.DurationSecondBuilder=T0.DurationBuilder=T0.IntervalYearMonthBuilder=T0.IntervalDayTimeBuilder=T0.IntervalBuilder=T0.TimestampNanosecondBuilder=T0.TimestampMicrosecondBuilder=T0.TimestampMillisecondBuilder=T0.TimestampSecondBuilder=T0.TimestampBuilder=T0.TimeNanosecondBuilder=T0.TimeMicrosecondBuilder=T0.TimeMillisecondBuilder=T0.TimeSecondBuilder=void 0;var JK1=Fk();Object.defineProperty(T0,"MessageHeader",{enumerable:!0,get:function(){return JK1.MessageHeader}});var QX=A7();Object.defineProperty(T0,"Type",{enumerable:!0,get:function(){return QX.Type}});Object.defineProperty(T0,"BufferType",{enumerable:!0,get:function(){return QX.BufferType}});Object.defineProperty(T0,"DateUnit",{enumerable:!0,get:function(){return QX.DateUnit}});Object.defineProperty(T0,"TimeUnit",{enumerable:!0,get:function(){return QX.TimeUnit}});Object.defineProperty(T0,"Precision",{enumerable:!0,get:function(){return QX.Precision}});Object.defineProperty(T0,"UnionMode",{enumerable:!0,get:function(){return QX.UnionMode}});Object.defineProperty(T0,"IntervalUnit",{enumerable:!0,get:function(){return QX.IntervalUnit}});Object.defineProperty(T0,"MetadataVersion",{enumerable:!0,get:function(){return QX.MetadataVersion}});var EB0=dJ();Object.defineProperty(T0,"Data",{enumerable:!0,get:function(){return EB0.Data}});Object.defineProperty(T0,"makeData",{enumerable:!0,get:function(){return EB0.makeData}});var i1=i6();Object.defineProperty(T0,"DataType",{enumerable:!0,get:function(){return i1.DataType}});Object.defineProperty(T0,"Null",{enumerable:!0,get:function(){return i1.Null}});Object.defineProperty(T0,"Bool",{enumerable:!0,get:function(){return i1.Bool}});Object.defineProperty(T0,"Int",{enumerable:!0,get:function(){return i1.Int}});Object.defineProperty(T0,"Int8",{enumerable:!0,get:function(){return i1.Int8}});Object.defineProperty(T0,"Int16",{enumerable:!0,get:function(){return i1.Int16}});Object.defineProperty(T0,"Int32",{enumerable:!0,get:function(){return i1.Int32}});Object.defineProperty(T0,"Int64",{enumerable:!0,get:function(){return i1.Int64}});Object.defineProperty(T0,"Uint8",{enumerable:!0,get:function(){return i1.Uint8}});Object.defineProperty(T0,"Uint16",{enumerable:!0,get:function(){return i1.Uint16}});Object.defineProperty(T0,"Uint32",{enumerable:!0,get:function(){return i1.Uint32}});Object.defineProperty(T0,"Uint64",{enumerable:!0,get:function(){return i1.Uint64}});Object.defineProperty(T0,"Float",{enumerable:!0,get:function(){return i1.Float}});Object.defineProperty(T0,"Float16",{enumerable:!0,get:function(){return i1.Float16}});Object.defineProperty(T0,"Float32",{enumerable:!0,get:function(){return i1.Float32}});Object.defineProperty(T0,"Float64",{enumerable:!0,get:function(){return i1.Float64}});Object.defineProperty(T0,"Utf8",{enumerable:!0,get:function(){return i1.Utf8}});Object.defineProperty(T0,"LargeUtf8",{enumerable:!0,get:function(){return i1.LargeUtf8}});Object.defineProperty(T0,"Binary",{enumerable:!0,get:function(){return i1.Binary}});Object.defineProperty(T0,"LargeBinary",{enumerable:!0,get:function(){return i1.LargeBinary}});Object.defineProperty(T0,"FixedSizeBinary",{enumerable:!0,get:function(){return i1.FixedSizeBinary}});Object.defineProperty(T0,"Date_",{enumerable:!0,get:function(){return i1.Date_}});Object.defineProperty(T0,"DateDay",{enumerable:!0,get:function(){return i1.DateDay}});Object.defineProperty(T0,"DateMillisecond",{enumerable:!0,get:function(){return i1.DateMillisecond}});Object.defineProperty(T0,"Timestamp",{enumerable:!0,get:function(){return i1.Timestamp}});Object.defineProperty(T0,"TimestampSecond",{enumerable:!0,get:function(){return i1.TimestampSecond}});Object.defineProperty(T0,"TimestampMillisecond",{enumerable:!0,get:function(){return i1.TimestampMillisecond}});Object.defineProperty(T0,"TimestampMicrosecond",{enumerable:!0,get:function(){return i1.TimestampMicrosecond}});Object.defineProperty(T0,"TimestampNanosecond",{enumerable:!0,get:function(){return i1.TimestampNanosecond}});Object.defineProperty(T0,"Time",{enumerable:!0,get:function(){return i1.Time}});Object.defineProperty(T0,"TimeSecond",{enumerable:!0,get:function(){return i1.TimeSecond}});Object.defineProperty(T0,"TimeMillisecond",{enumerable:!0,get:function(){return i1.TimeMillisecond}});Object.defineProperty(T0,"TimeMicrosecond",{enumerable:!0,get:function(){return i1.TimeMicrosecond}});Object.defineProperty(T0,"TimeNanosecond",{enumerable:!0,get:function(){return i1.TimeNanosecond}});Object.defineProperty(T0,"Decimal",{enumerable:!0,get:function(){return i1.Decimal}});Object.defineProperty(T0,"List",{enumerable:!0,get:function(){return i1.List}});Object.defineProperty(T0,"Struct",{enumerable:!0,get:function(){return i1.Struct}});Object.defineProperty(T0,"Union",{enumerable:!0,get:function(){return i1.Union}});Object.defineProperty(T0,"DenseUnion",{enumerable:!0,get:function(){return i1.DenseUnion}});Object.defineProperty(T0,"SparseUnion",{enumerable:!0,get:function(){return i1.SparseUnion}});Object.defineProperty(T0,"Dictionary",{enumerable:!0,get:function(){return i1.Dictionary}});Object.defineProperty(T0,"Interval",{enumerable:!0,get:function(){return i1.Interval}});Object.defineProperty(T0,"IntervalDayTime",{enumerable:!0,get:function(){return i1.IntervalDayTime}});Object.defineProperty(T0,"IntervalYearMonth",{enumerable:!0,get:function(){return i1.IntervalYearMonth}});Object.defineProperty(T0,"Duration",{enumerable:!0,get:function(){return i1.Duration}});Object.defineProperty(T0,"DurationSecond",{enumerable:!0,get:function(){return i1.DurationSecond}});Object.defineProperty(T0,"DurationMillisecond",{enumerable:!0,get:function(){return i1.DurationMillisecond}});Object.defineProperty(T0,"DurationMicrosecond",{enumerable:!0,get:function(){return i1.DurationMicrosecond}});Object.defineProperty(T0,"DurationNanosecond",{enumerable:!0,get:function(){return i1.DurationNanosecond}});Object.defineProperty(T0,"FixedSizeList",{enumerable:!0,get:function(){return i1.FixedSizeList}});Object.defineProperty(T0,"Map_",{enumerable:!0,get:function(){return i1.Map_}});var fm=uN();Object.defineProperty(T0,"Table",{enumerable:!0,get:function(){return fm.Table}});Object.defineProperty(T0,"makeTable",{enumerable:!0,get:function(){return fm.makeTable}});Object.defineProperty(T0,"tableFromArrays",{enumerable:!0,get:function(){return fm.tableFromArrays}});var LB0=y4();Object.defineProperty(T0,"Vector",{enumerable:!0,get:function(){return LB0.Vector}});Object.defineProperty(T0,"makeVector",{enumerable:!0,get:function(){return LB0.makeVector}});var KK1=O9();Object.defineProperty(T0,"Visitor",{enumerable:!0,get:function(){return KK1.Visitor}});var hB0=D9();Object.defineProperty(T0,"Schema",{enumerable:!0,get:function(){return hB0.Schema}});Object.defineProperty(T0,"Field",{enumerable:!0,get:function(){return hB0.Field}});var YK1=jR();Object.defineProperty(T0,"MapRow",{enumerable:!0,get:function(){return YK1.MapRow}});var ZK1=Ek();Object.defineProperty(T0,"StructRow",{enumerable:!0,get:function(){return ZK1.StructRow}});var qK1=X7();Object.defineProperty(T0,"Builder",{enumerable:!0,get:function(){return qK1.Builder}});var qG=IR();Object.defineProperty(T0,"makeBuilder",{enumerable:!0,get:function(){return qG.makeBuilder}});Object.defineProperty(T0,"vectorFromArray",{enumerable:!0,get:function(){return qG.vectorFromArray}});Object.defineProperty(T0,"tableFromJSON",{enumerable:!0,get:function(){return qG.tableFromJSON}});Object.defineProperty(T0,"builderThroughIterable",{enumerable:!0,get:function(){return qG.builderThroughIterable}});Object.defineProperty(T0,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return qG.builderThroughAsyncIterable}});var XK1=tc();Object.defineProperty(T0,"BoolBuilder",{enumerable:!0,get:function(){return XK1.BoolBuilder}});var WK1=Du();Object.defineProperty(T0,"NullBuilder",{enumerable:!0,get:function(){return WK1.NullBuilder}});var Im=Ju();Object.defineProperty(T0,"DateBuilder",{enumerable:!0,get:function(){return Im.DateBuilder}});Object.defineProperty(T0,"DateDayBuilder",{enumerable:!0,get:function(){return Im.DateDayBuilder}});Object.defineProperty(T0,"DateMillisecondBuilder",{enumerable:!0,get:function(){return Im.DateMillisecondBuilder}});var FK1=Yu();Object.defineProperty(T0,"DecimalBuilder",{enumerable:!0,get:function(){return FK1.DecimalBuilder}});var UK1=Zu();Object.defineProperty(T0,"DictionaryBuilder",{enumerable:!0,get:function(){return UK1.DictionaryBuilder}});var HK1=Xu();Object.defineProperty(T0,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return HK1.FixedSizeBinaryBuilder}});var Rj=Fu();Object.defineProperty(T0,"FloatBuilder",{enumerable:!0,get:function(){return Rj.FloatBuilder}});Object.defineProperty(T0,"Float16Builder",{enumerable:!0,get:function(){return Rj.Float16Builder}});Object.defineProperty(T0,"Float32Builder",{enumerable:!0,get:function(){return Rj.Float32Builder}});Object.defineProperty(T0,"Float64Builder",{enumerable:!0,get:function(){return Rj.Float64Builder}});var uY=Ou();Object.defineProperty(T0,"IntBuilder",{enumerable:!0,get:function(){return uY.IntBuilder}});Object.defineProperty(T0,"Int8Builder",{enumerable:!0,get:function(){return uY.Int8Builder}});Object.defineProperty(T0,"Int16Builder",{enumerable:!0,get:function(){return uY.Int16Builder}});Object.defineProperty(T0,"Int32Builder",{enumerable:!0,get:function(){return uY.Int32Builder}});Object.defineProperty(T0,"Int64Builder",{enumerable:!0,get:function(){return uY.Int64Builder}});Object.defineProperty(T0,"Uint8Builder",{enumerable:!0,get:function(){return uY.Uint8Builder}});Object.defineProperty(T0,"Uint16Builder",{enumerable:!0,get:function(){return uY.Uint16Builder}});Object.defineProperty(T0,"Uint32Builder",{enumerable:!0,get:function(){return uY.Uint32Builder}});Object.defineProperty(T0,"Uint64Builder",{enumerable:!0,get:function(){return uY.Uint64Builder}});var XG=fu();Object.defineProperty(T0,"TimeBuilder",{enumerable:!0,get:function(){return XG.TimeBuilder}});Object.defineProperty(T0,"TimeSecondBuilder",{enumerable:!0,get:function(){return XG.TimeSecondBuilder}});Object.defineProperty(T0,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return XG.TimeMillisecondBuilder}});Object.defineProperty(T0,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return XG.TimeMicrosecondBuilder}});Object.defineProperty(T0,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return XG.TimeNanosecondBuilder}});var WG=Lu();Object.defineProperty(T0,"TimestampBuilder",{enumerable:!0,get:function(){return WG.TimestampBuilder}});Object.defineProperty(T0,"TimestampSecondBuilder",{enumerable:!0,get:function(){return WG.TimestampSecondBuilder}});Object.defineProperty(T0,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return WG.TimestampMillisecondBuilder}});Object.defineProperty(T0,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return WG.TimestampMicrosecondBuilder}});Object.defineProperty(T0,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return WG.TimestampNanosecondBuilder}});var Mm=Bu();Object.defineProperty(T0,"IntervalBuilder",{enumerable:!0,get:function(){return Mm.IntervalBuilder}});Object.defineProperty(T0,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return Mm.IntervalDayTimeBuilder}});Object.defineProperty(T0,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return Mm.IntervalYearMonthBuilder}});var FG=Gu();Object.defineProperty(T0,"DurationBuilder",{enumerable:!0,get:function(){return FG.DurationBuilder}});Object.defineProperty(T0,"DurationSecondBuilder",{enumerable:!0,get:function(){return FG.DurationSecondBuilder}});Object.defineProperty(T0,"DurationMillisecondBuilder",{enumerable:!0,get:function(){return FG.DurationMillisecondBuilder}});Object.defineProperty(T0,"DurationMicrosecondBuilder",{enumerable:!0,get:function(){return FG.DurationMicrosecondBuilder}});Object.defineProperty(T0,"DurationNanosecondBuilder",{enumerable:!0,get:function(){return FG.DurationNanosecondBuilder}});var NK1=bu();Object.defineProperty(T0,"Utf8Builder",{enumerable:!0,get:function(){return NK1.Utf8Builder}});var BK1=yu();Object.defineProperty(T0,"LargeUtf8Builder",{enumerable:!0,get:function(){return BK1.LargeUtf8Builder}});var zK1=dk();Object.defineProperty(T0,"BinaryBuilder",{enumerable:!0,get:function(){return zK1.BinaryBuilder}});var AK1=nk();Object.defineProperty(T0,"LargeBinaryBuilder",{enumerable:!0,get:function(){return AK1.LargeBinaryBuilder}});var VK1=wu();Object.defineProperty(T0,"ListBuilder",{enumerable:!0,get:function(){return VK1.ListBuilder}});var RK1=Wu();Object.defineProperty(T0,"FixedSizeListBuilder",{enumerable:!0,get:function(){return RK1.FixedSizeListBuilder}});var GK1=Tu();Object.defineProperty(T0,"MapBuilder",{enumerable:!0,get:function(){return GK1.MapBuilder}});var OK1=Cu();Object.defineProperty(T0,"StructBuilder",{enumerable:!0,get:function(){return OK1.StructBuilder}});var bm=Iu();Object.defineProperty(T0,"UnionBuilder",{enumerable:!0,get:function(){return bm.UnionBuilder}});Object.defineProperty(T0,"SparseUnionBuilder",{enumerable:!0,get:function(){return bm.SparseUnionBuilder}});Object.defineProperty(T0,"DenseUnionBuilder",{enumerable:!0,get:function(){return bm.DenseUnionBuilder}});var gm=dq();Object.defineProperty(T0,"ByteStream",{enumerable:!0,get:function(){return gm.ByteStream}});Object.defineProperty(T0,"AsyncByteStream",{enumerable:!0,get:function(){return gm.AsyncByteStream}});Object.defineProperty(T0,"AsyncByteQueue",{enumerable:!0,get:function(){return gm.AsyncByteQueue}});var UG=JG();Object.defineProperty(T0,"RecordBatchReader",{enumerable:!0,get:function(){return UG.RecordBatchReader}});Object.defineProperty(T0,"RecordBatchFileReader",{enumerable:!0,get:function(){return UG.RecordBatchFileReader}});Object.defineProperty(T0,"RecordBatchStreamReader",{enumerable:!0,get:function(){return UG.RecordBatchStreamReader}});Object.defineProperty(T0,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return UG.AsyncRecordBatchFileReader}});Object.defineProperty(T0,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return UG.AsyncRecordBatchStreamReader}});var Gj=zj();Object.defineProperty(T0,"RecordBatchWriter",{enumerable:!0,get:function(){return Gj.RecordBatchWriter}});Object.defineProperty(T0,"RecordBatchFileWriter",{enumerable:!0,get:function(){return Gj.RecordBatchFileWriter}});Object.defineProperty(T0,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return Gj.RecordBatchStreamWriter}});Object.defineProperty(T0,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return Gj.RecordBatchJSONWriter}});var vB0=jB0();Object.defineProperty(T0,"tableToIPC",{enumerable:!0,get:function(){return vB0.tableToIPC}});Object.defineProperty(T0,"tableFromIPC",{enumerable:!0,get:function(){return vB0.tableFromIPC}});var ym=Xj();Object.defineProperty(T0,"MessageReader",{enumerable:!0,get:function(){return ym.MessageReader}});Object.defineProperty(T0,"AsyncMessageReader",{enumerable:!0,get:function(){return ym.AsyncMessageReader}});Object.defineProperty(T0,"JSONMessageReader",{enumerable:!0,get:function(){return ym.JSONMessageReader}});var wK1=uW();Object.defineProperty(T0,"Message",{enumerable:!0,get:function(){return wK1.Message}});var TK1=lq();Object.defineProperty(T0,"RecordBatch",{enumerable:!0,get:function(){return TK1.RecordBatch}});var DK1=Nk(),CK1=oc(),PK1=_W(),kK1=kR(),jK1=T8(),EK1=MN(),LK1=CR(),_m=lR();T0.util=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},DK1),CK1),PK1),kK1),jK1),EK1),LK1),{compareSchemas:_m.compareSchemas,compareFields:_m.compareFields,compareTypes:_m.compareTypes})});var Oj=C0((w0)=>{Object.defineProperty(w0,"__esModule",{value:!0});w0.Union=w0.StructRow=w0.Struct=w0.List=w0.Decimal=w0.TimeNanosecond=w0.TimeMicrosecond=w0.TimeMillisecond=w0.TimeSecond=w0.Time=w0.TimestampNanosecond=w0.TimestampMicrosecond=w0.TimestampMillisecond=w0.TimestampSecond=w0.Timestamp=w0.DateMillisecond=w0.DateDay=w0.Date_=w0.FixedSizeBinary=w0.LargeBinary=w0.Binary=w0.LargeUtf8=w0.Utf8=w0.Float64=w0.Float32=w0.Float16=w0.Float=w0.Uint64=w0.Uint32=w0.Uint16=w0.Uint8=w0.Int64=w0.Int32=w0.Int16=w0.Int8=w0.Int=w0.Bool=w0.Null=w0.DataType=w0.makeData=w0.Data=w0.BufferType=w0.UnionMode=w0.Type=w0.TimeUnit=w0.Precision=w0.MetadataVersion=w0.MessageHeader=w0.IntervalUnit=w0.DateUnit=void 0;w0.LargeBinaryBuilder=w0.BinaryBuilder=w0.builderThroughAsyncIterable=w0.builderThroughIterable=w0.makeBuilder=w0.Builder=w0.util=w0.RecordBatch=w0.Message=w0.JSONMessageReader=w0.AsyncMessageReader=w0.MessageReader=w0.tableToIPC=w0.tableFromIPC=w0.RecordBatchJSONWriter=w0.RecordBatchStreamWriter=w0.RecordBatchFileWriter=w0.RecordBatchWriter=w0.AsyncRecordBatchStreamReader=w0.AsyncRecordBatchFileReader=w0.RecordBatchStreamReader=w0.RecordBatchFileReader=w0.RecordBatchReader=w0.AsyncByteQueue=w0.AsyncByteStream=w0.ByteStream=w0.tableFromJSON=w0.vectorFromArray=w0.makeVector=w0.Vector=w0.Visitor=w0.Field=w0.Schema=w0.tableFromArrays=w0.makeTable=w0.Table=w0.MapRow=w0.Map_=w0.FixedSizeList=w0.DurationNanosecond=w0.DurationMicrosecond=w0.DurationMillisecond=w0.DurationSecond=w0.Duration=w0.IntervalYearMonth=w0.IntervalDayTime=w0.Interval=w0.Dictionary=w0.SparseUnion=w0.DenseUnion=void 0;w0.LargeUtf8Builder=w0.Utf8Builder=w0.SparseUnionBuilder=w0.DenseUnionBuilder=w0.UnionBuilder=w0.TimeNanosecondBuilder=w0.TimeMicrosecondBuilder=w0.TimeMillisecondBuilder=w0.TimeSecondBuilder=w0.TimeBuilder=w0.TimestampNanosecondBuilder=w0.TimestampMicrosecondBuilder=w0.TimestampMillisecondBuilder=w0.TimestampSecondBuilder=w0.TimestampBuilder=w0.StructBuilder=w0.NullBuilder=w0.MapBuilder=w0.ListBuilder=w0.Uint64Builder=w0.Uint32Builder=w0.Uint16Builder=w0.Uint8Builder=w0.Int64Builder=w0.Int32Builder=w0.Int16Builder=w0.Int8Builder=w0.IntBuilder=w0.DurationNanosecondBuilder=w0.DurationMicrosecondBuilder=w0.DurationMillisecondBuilder=w0.DurationSecondBuilder=w0.DurationBuilder=w0.IntervalYearMonthBuilder=w0.IntervalDayTimeBuilder=w0.IntervalBuilder=w0.Float64Builder=w0.Float32Builder=w0.Float16Builder=w0.FloatBuilder=w0.FixedSizeListBuilder=w0.FixedSizeBinaryBuilder=w0.DictionaryBuilder=w0.DecimalBuilder=w0.DateMillisecondBuilder=w0.DateDayBuilder=w0.DateBuilder=w0.BoolBuilder=void 0;var SK1=wR(),_K1=X7(),cm=JG(),um=zj(),fK1=FB0(),IK1=zB0(),mm=RB0(),pm=wB0();SK1.default.toDOMStream=fK1.toDOMStream;_K1.Builder.throughDOM=IK1.builderThroughDOMStream;cm.RecordBatchReader.throughDOM=mm.recordBatchReaderThroughDOMStream;cm.RecordBatchFileReader.throughDOM=mm.recordBatchReaderThroughDOMStream;cm.RecordBatchStreamReader.throughDOM=mm.recordBatchReaderThroughDOMStream;um.RecordBatchWriter.throughDOM=pm.recordBatchWriterThroughDOMStream;um.RecordBatchFileWriter.throughDOM=pm.recordBatchWriterThroughDOMStream;um.RecordBatchStreamWriter.throughDOM=pm.recordBatchWriterThroughDOMStream;var i0=xm();Object.defineProperty(w0,"DateUnit",{enumerable:!0,get:function(){return i0.DateUnit}});Object.defineProperty(w0,"IntervalUnit",{enumerable:!0,get:function(){return i0.IntervalUnit}});Object.defineProperty(w0,"MessageHeader",{enumerable:!0,get:function(){return i0.MessageHeader}});Object.defineProperty(w0,"MetadataVersion",{enumerable:!0,get:function(){return i0.MetadataVersion}});Object.defineProperty(w0,"Precision",{enumerable:!0,get:function(){return i0.Precision}});Object.defineProperty(w0,"TimeUnit",{enumerable:!0,get:function(){return i0.TimeUnit}});Object.defineProperty(w0,"Type",{enumerable:!0,get:function(){return i0.Type}});Object.defineProperty(w0,"UnionMode",{enumerable:!0,get:function(){return i0.UnionMode}});Object.defineProperty(w0,"BufferType",{enumerable:!0,get:function(){return i0.BufferType}});Object.defineProperty(w0,"Data",{enumerable:!0,get:function(){return i0.Data}});Object.defineProperty(w0,"makeData",{enumerable:!0,get:function(){return i0.makeData}});Object.defineProperty(w0,"DataType",{enumerable:!0,get:function(){return i0.DataType}});Object.defineProperty(w0,"Null",{enumerable:!0,get:function(){return i0.Null}});Object.defineProperty(w0,"Bool",{enumerable:!0,get:function(){return i0.Bool}});Object.defineProperty(w0,"Int",{enumerable:!0,get:function(){return i0.Int}});Object.defineProperty(w0,"Int8",{enumerable:!0,get:function(){return i0.Int8}});Object.defineProperty(w0,"Int16",{enumerable:!0,get:function(){return i0.Int16}});Object.defineProperty(w0,"Int32",{enumerable:!0,get:function(){return i0.Int32}});Object.defineProperty(w0,"Int64",{enumerable:!0,get:function(){return i0.Int64}});Object.defineProperty(w0,"Uint8",{enumerable:!0,get:function(){return i0.Uint8}});Object.defineProperty(w0,"Uint16",{enumerable:!0,get:function(){return i0.Uint16}});Object.defineProperty(w0,"Uint32",{enumerable:!0,get:function(){return i0.Uint32}});Object.defineProperty(w0,"Uint64",{enumerable:!0,get:function(){return i0.Uint64}});Object.defineProperty(w0,"Float",{enumerable:!0,get:function(){return i0.Float}});Object.defineProperty(w0,"Float16",{enumerable:!0,get:function(){return i0.Float16}});Object.defineProperty(w0,"Float32",{enumerable:!0,get:function(){return i0.Float32}});Object.defineProperty(w0,"Float64",{enumerable:!0,get:function(){return i0.Float64}});Object.defineProperty(w0,"Utf8",{enumerable:!0,get:function(){return i0.Utf8}});Object.defineProperty(w0,"LargeUtf8",{enumerable:!0,get:function(){return i0.LargeUtf8}});Object.defineProperty(w0,"Binary",{enumerable:!0,get:function(){return i0.Binary}});Object.defineProperty(w0,"LargeBinary",{enumerable:!0,get:function(){return i0.LargeBinary}});Object.defineProperty(w0,"FixedSizeBinary",{enumerable:!0,get:function(){return i0.FixedSizeBinary}});Object.defineProperty(w0,"Date_",{enumerable:!0,get:function(){return i0.Date_}});Object.defineProperty(w0,"DateDay",{enumerable:!0,get:function(){return i0.DateDay}});Object.defineProperty(w0,"DateMillisecond",{enumerable:!0,get:function(){return i0.DateMillisecond}});Object.defineProperty(w0,"Timestamp",{enumerable:!0,get:function(){return i0.Timestamp}});Object.defineProperty(w0,"TimestampSecond",{enumerable:!0,get:function(){return i0.TimestampSecond}});Object.defineProperty(w0,"TimestampMillisecond",{enumerable:!0,get:function(){return i0.TimestampMillisecond}});Object.defineProperty(w0,"TimestampMicrosecond",{enumerable:!0,get:function(){return i0.TimestampMicrosecond}});Object.defineProperty(w0,"TimestampNanosecond",{enumerable:!0,get:function(){return i0.TimestampNanosecond}});Object.defineProperty(w0,"Time",{enumerable:!0,get:function(){return i0.Time}});Object.defineProperty(w0,"TimeSecond",{enumerable:!0,get:function(){return i0.TimeSecond}});Object.defineProperty(w0,"TimeMillisecond",{enumerable:!0,get:function(){return i0.TimeMillisecond}});Object.defineProperty(w0,"TimeMicrosecond",{enumerable:!0,get:function(){return i0.TimeMicrosecond}});Object.defineProperty(w0,"TimeNanosecond",{enumerable:!0,get:function(){return i0.TimeNanosecond}});Object.defineProperty(w0,"Decimal",{enumerable:!0,get:function(){return i0.Decimal}});Object.defineProperty(w0,"List",{enumerable:!0,get:function(){return i0.List}});Object.defineProperty(w0,"Struct",{enumerable:!0,get:function(){return i0.Struct}});Object.defineProperty(w0,"StructRow",{enumerable:!0,get:function(){return i0.StructRow}});Object.defineProperty(w0,"Union",{enumerable:!0,get:function(){return i0.Union}});Object.defineProperty(w0,"DenseUnion",{enumerable:!0,get:function(){return i0.DenseUnion}});Object.defineProperty(w0,"SparseUnion",{enumerable:!0,get:function(){return i0.SparseUnion}});Object.defineProperty(w0,"Dictionary",{enumerable:!0,get:function(){return i0.Dictionary}});Object.defineProperty(w0,"Interval",{enumerable:!0,get:function(){return i0.Interval}});Object.defineProperty(w0,"IntervalDayTime",{enumerable:!0,get:function(){return i0.IntervalDayTime}});Object.defineProperty(w0,"IntervalYearMonth",{enumerable:!0,get:function(){return i0.IntervalYearMonth}});Object.defineProperty(w0,"Duration",{enumerable:!0,get:function(){return i0.Duration}});Object.defineProperty(w0,"DurationSecond",{enumerable:!0,get:function(){return i0.DurationSecond}});Object.defineProperty(w0,"DurationMillisecond",{enumerable:!0,get:function(){return i0.DurationMillisecond}});Object.defineProperty(w0,"DurationMicrosecond",{enumerable:!0,get:function(){return i0.DurationMicrosecond}});Object.defineProperty(w0,"DurationNanosecond",{enumerable:!0,get:function(){return i0.DurationNanosecond}});Object.defineProperty(w0,"FixedSizeList",{enumerable:!0,get:function(){return i0.FixedSizeList}});Object.defineProperty(w0,"Map_",{enumerable:!0,get:function(){return i0.Map_}});Object.defineProperty(w0,"MapRow",{enumerable:!0,get:function(){return i0.MapRow}});Object.defineProperty(w0,"Table",{enumerable:!0,get:function(){return i0.Table}});Object.defineProperty(w0,"makeTable",{enumerable:!0,get:function(){return i0.makeTable}});Object.defineProperty(w0,"tableFromArrays",{enumerable:!0,get:function(){return i0.tableFromArrays}});Object.defineProperty(w0,"Schema",{enumerable:!0,get:function(){return i0.Schema}});Object.defineProperty(w0,"Field",{enumerable:!0,get:function(){return i0.Field}});Object.defineProperty(w0,"Visitor",{enumerable:!0,get:function(){return i0.Visitor}});Object.defineProperty(w0,"Vector",{enumerable:!0,get:function(){return i0.Vector}});Object.defineProperty(w0,"makeVector",{enumerable:!0,get:function(){return i0.makeVector}});Object.defineProperty(w0,"vectorFromArray",{enumerable:!0,get:function(){return i0.vectorFromArray}});Object.defineProperty(w0,"tableFromJSON",{enumerable:!0,get:function(){return i0.tableFromJSON}});Object.defineProperty(w0,"ByteStream",{enumerable:!0,get:function(){return i0.ByteStream}});Object.defineProperty(w0,"AsyncByteStream",{enumerable:!0,get:function(){return i0.AsyncByteStream}});Object.defineProperty(w0,"AsyncByteQueue",{enumerable:!0,get:function(){return i0.AsyncByteQueue}});Object.defineProperty(w0,"RecordBatchReader",{enumerable:!0,get:function(){return i0.RecordBatchReader}});Object.defineProperty(w0,"RecordBatchFileReader",{enumerable:!0,get:function(){return i0.RecordBatchFileReader}});Object.defineProperty(w0,"RecordBatchStreamReader",{enumerable:!0,get:function(){return i0.RecordBatchStreamReader}});Object.defineProperty(w0,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return i0.AsyncRecordBatchFileReader}});Object.defineProperty(w0,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return i0.AsyncRecordBatchStreamReader}});Object.defineProperty(w0,"RecordBatchWriter",{enumerable:!0,get:function(){return i0.RecordBatchWriter}});Object.defineProperty(w0,"RecordBatchFileWriter",{enumerable:!0,get:function(){return i0.RecordBatchFileWriter}});Object.defineProperty(w0,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return i0.RecordBatchStreamWriter}});Object.defineProperty(w0,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return i0.RecordBatchJSONWriter}});Object.defineProperty(w0,"tableFromIPC",{enumerable:!0,get:function(){return i0.tableFromIPC}});Object.defineProperty(w0,"tableToIPC",{enumerable:!0,get:function(){return i0.tableToIPC}});Object.defineProperty(w0,"MessageReader",{enumerable:!0,get:function(){return i0.MessageReader}});Object.defineProperty(w0,"AsyncMessageReader",{enumerable:!0,get:function(){return i0.AsyncMessageReader}});Object.defineProperty(w0,"JSONMessageReader",{enumerable:!0,get:function(){return i0.JSONMessageReader}});Object.defineProperty(w0,"Message",{enumerable:!0,get:function(){return i0.Message}});Object.defineProperty(w0,"RecordBatch",{enumerable:!0,get:function(){return i0.RecordBatch}});Object.defineProperty(w0,"util",{enumerable:!0,get:function(){return i0.util}});Object.defineProperty(w0,"Builder",{enumerable:!0,get:function(){return i0.Builder}});Object.defineProperty(w0,"makeBuilder",{enumerable:!0,get:function(){return i0.makeBuilder}});Object.defineProperty(w0,"builderThroughIterable",{enumerable:!0,get:function(){return i0.builderThroughIterable}});Object.defineProperty(w0,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return i0.builderThroughAsyncIterable}});var $5=xm();Object.defineProperty(w0,"BinaryBuilder",{enumerable:!0,get:function(){return $5.BinaryBuilder}});Object.defineProperty(w0,"LargeBinaryBuilder",{enumerable:!0,get:function(){return $5.LargeBinaryBuilder}});Object.defineProperty(w0,"BoolBuilder",{enumerable:!0,get:function(){return $5.BoolBuilder}});Object.defineProperty(w0,"DateBuilder",{enumerable:!0,get:function(){return $5.DateBuilder}});Object.defineProperty(w0,"DateDayBuilder",{enumerable:!0,get:function(){return $5.DateDayBuilder}});Object.defineProperty(w0,"DateMillisecondBuilder",{enumerable:!0,get:function(){return $5.DateMillisecondBuilder}});Object.defineProperty(w0,"DecimalBuilder",{enumerable:!0,get:function(){return $5.DecimalBuilder}});Object.defineProperty(w0,"DictionaryBuilder",{enumerable:!0,get:function(){return $5.DictionaryBuilder}});Object.defineProperty(w0,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return $5.FixedSizeBinaryBuilder}});Object.defineProperty(w0,"FixedSizeListBuilder",{enumerable:!0,get:function(){return $5.FixedSizeListBuilder}});Object.defineProperty(w0,"FloatBuilder",{enumerable:!0,get:function(){return $5.FloatBuilder}});Object.defineProperty(w0,"Float16Builder",{enumerable:!0,get:function(){return $5.Float16Builder}});Object.defineProperty(w0,"Float32Builder",{enumerable:!0,get:function(){return $5.Float32Builder}});Object.defineProperty(w0,"Float64Builder",{enumerable:!0,get:function(){return $5.Float64Builder}});Object.defineProperty(w0,"IntervalBuilder",{enumerable:!0,get:function(){return $5.IntervalBuilder}});Object.defineProperty(w0,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return $5.IntervalDayTimeBuilder}});Object.defineProperty(w0,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return $5.IntervalYearMonthBuilder}});Object.defineProperty(w0,"DurationBuilder",{enumerable:!0,get:function(){return $5.DurationBuilder}});Object.defineProperty(w0,"DurationSecondBuilder",{enumerable:!0,get:function(){return $5.DurationSecondBuilder}});Object.defineProperty(w0,"DurationMillisecondBuilder",{enumerable:!0,get:function(){return $5.DurationMillisecondBuilder}});Object.defineProperty(w0,"DurationMicrosecondBuilder",{enumerable:!0,get:function(){return $5.DurationMicrosecondBuilder}});Object.defineProperty(w0,"DurationNanosecondBuilder",{enumerable:!0,get:function(){return $5.DurationNanosecondBuilder}});Object.defineProperty(w0,"IntBuilder",{enumerable:!0,get:function(){return $5.IntBuilder}});Object.defineProperty(w0,"Int8Builder",{enumerable:!0,get:function(){return $5.Int8Builder}});Object.defineProperty(w0,"Int16Builder",{enumerable:!0,get:function(){return $5.Int16Builder}});Object.defineProperty(w0,"Int32Builder",{enumerable:!0,get:function(){return $5.Int32Builder}});Object.defineProperty(w0,"Int64Builder",{enumerable:!0,get:function(){return $5.Int64Builder}});Object.defineProperty(w0,"Uint8Builder",{enumerable:!0,get:function(){return $5.Uint8Builder}});Object.defineProperty(w0,"Uint16Builder",{enumerable:!0,get:function(){return $5.Uint16Builder}});Object.defineProperty(w0,"Uint32Builder",{enumerable:!0,get:function(){return $5.Uint32Builder}});Object.defineProperty(w0,"Uint64Builder",{enumerable:!0,get:function(){return $5.Uint64Builder}});Object.defineProperty(w0,"ListBuilder",{enumerable:!0,get:function(){return $5.ListBuilder}});Object.defineProperty(w0,"MapBuilder",{enumerable:!0,get:function(){return $5.MapBuilder}});Object.defineProperty(w0,"NullBuilder",{enumerable:!0,get:function(){return $5.NullBuilder}});Object.defineProperty(w0,"StructBuilder",{enumerable:!0,get:function(){return $5.StructBuilder}});Object.defineProperty(w0,"TimestampBuilder",{enumerable:!0,get:function(){return $5.TimestampBuilder}});Object.defineProperty(w0,"TimestampSecondBuilder",{enumerable:!0,get:function(){return $5.TimestampSecondBuilder}});Object.defineProperty(w0,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return $5.TimestampMillisecondBuilder}});Object.defineProperty(w0,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return $5.TimestampMicrosecondBuilder}});Object.defineProperty(w0,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return $5.TimestampNanosecondBuilder}});Object.defineProperty(w0,"TimeBuilder",{enumerable:!0,get:function(){return $5.TimeBuilder}});Object.defineProperty(w0,"TimeSecondBuilder",{enumerable:!0,get:function(){return $5.TimeSecondBuilder}});Object.defineProperty(w0,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return $5.TimeMillisecondBuilder}});Object.defineProperty(w0,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return $5.TimeMicrosecondBuilder}});Object.defineProperty(w0,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return $5.TimeNanosecondBuilder}});Object.defineProperty(w0,"UnionBuilder",{enumerable:!0,get:function(){return $5.UnionBuilder}});Object.defineProperty(w0,"DenseUnionBuilder",{enumerable:!0,get:function(){return $5.DenseUnionBuilder}});Object.defineProperty(w0,"SparseUnionBuilder",{enumerable:!0,get:function(){return $5.SparseUnionBuilder}});Object.defineProperty(w0,"Utf8Builder",{enumerable:!0,get:function(){return $5.Utf8Builder}});Object.defineProperty(w0,"LargeUtf8Builder",{enumerable:!0,get:function(){return $5.LargeUtf8Builder}})});var HG=C0((zd1,oB0)=>{var{create:yK1,defineProperty:Tj,getOwnPropertyDescriptor:xK1,getOwnPropertyNames:cK1,getPrototypeOf:uK1}=Object,mK1=Object.prototype.hasOwnProperty,pK1=($,Q)=>()=>(Q||$((Q={exports:{}}).exports,Q),Q.exports),dK1=($,Q)=>{for(var J in Q)Tj($,J,{get:Q[J],enumerable:!0})},_B0=($,Q,J,K)=>{if(Q&&typeof Q=="object"||typeof Q=="function")for(let Y of cK1(Q))!mK1.call($,Y)&&Y!==J&&Tj($,Y,{get:()=>Q[Y],enumerable:!(K=xK1(Q,Y))||K.enumerable});return $},om=($,Q,J)=>(J=$!=null?yK1(uK1($)):{},_B0(Q||!$||!$.__esModule?Tj(J,"default",{value:$,enumerable:!0}):J,$)),nK1=($)=>_B0(Tj({},"__esModule",{value:!0}),$),lK1=pK1(($,Q)=>{Q.exports=Worker}),fB0={};dK1(fB0,{AsyncDuckDB:()=>JY1,AsyncDuckDBConnection:()=>uB0,AsyncDuckDBDispatcher:()=>YY1,AsyncPreparedStatement:()=>mB0,AsyncResultStreamIterator:()=>am,ConsoleLogger:()=>iK1,DuckDBAccessMode:()=>IB0,DuckDBDataProtocol:()=>nB0,IsArrowBuffer:()=>eK1,IsDuckDBWasmRetry:()=>$Y1,LogEvent:()=>yB0,LogLevel:()=>bB0,LogOrigin:()=>xB0,LogTopic:()=>gB0,PACKAGE_NAME:()=>lB0,PACKAGE_VERSION:()=>rB0,PACKAGE_VERSION_MAJOR:()=>FY1,PACKAGE_VERSION_MINOR:()=>UY1,PACKAGE_VERSION_PATCH:()=>HY1,StatusCode:()=>cB0,TokenType:()=>MB0,VoidLogger:()=>rK1,WorkerRequestType:()=>pB0,WorkerResponseType:()=>dB0,WorkerTask:()=>r5,createWorker:()=>RY1,getJsDelivrBundles:()=>zY1,getLogEventLabel:()=>oK1,getLogLevelLabel:()=>sK1,getLogOriginLabel:()=>tK1,getLogTopicLabel:()=>aK1,getPlatformFeatures:()=>sB0,isFirefox:()=>NY1,isNode:()=>$p,isSafari:()=>BY1,selectBundle:()=>AY1});oB0.exports=nK1(fB0);var IB0=(($)=>($[$.UNDEFINED=0]="UNDEFINED",$[$.AUTOMATIC=1]="AUTOMATIC",$[$.READ_ONLY=2]="READ_ONLY",$[$.READ_WRITE=3]="READ_WRITE",$))(IB0||{}),MB0=(($)=>($[$.IDENTIFIER=0]="IDENTIFIER",$[$.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",$[$.STRING_CONSTANT=2]="STRING_CONSTANT",$[$.OPERATOR=3]="OPERATOR",$[$.KEYWORD=4]="KEYWORD",$[$.COMMENT=5]="COMMENT",$))(MB0||{}),bB0=(($)=>($[$.NONE=0]="NONE",$[$.DEBUG=1]="DEBUG",$[$.INFO=2]="INFO",$[$.WARNING=3]="WARNING",$[$.ERROR=4]="ERROR",$))(bB0||{}),gB0=(($)=>($[$.NONE=0]="NONE",$[$.CONNECT=1]="CONNECT",$[$.DISCONNECT=2]="DISCONNECT",$[$.OPEN=3]="OPEN",$[$.QUERY=4]="QUERY",$[$.INSTANTIATE=5]="INSTANTIATE",$))(gB0||{}),yB0=(($)=>($[$.NONE=0]="NONE",$[$.OK=1]="OK",$[$.ERROR=2]="ERROR",$[$.START=3]="START",$[$.RUN=4]="RUN",$[$.CAPTURE=5]="CAPTURE",$))(yB0||{}),xB0=(($)=>($[$.NONE=0]="NONE",$[$.WEB_WORKER=1]="WEB_WORKER",$[$.NODE_WORKER=2]="NODE_WORKER",$[$.BINDINGS=3]="BINDINGS",$[$.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",$))(xB0||{}),rK1=class{log($){}},iK1=class{constructor($=2){this.level=$}log($){$.level>=this.level&&console.log($)}};function sK1($){switch($){case 0:return"NONE";case 1:return"DEBUG";case 2:return"INFO";case 3:return"WARNING";case 4:return"ERROR";default:return"?"}}function oK1($){switch($){case 0:return"NONE";case 1:return"OK";case 2:return"ERROR";case 3:return"START";case 4:return"RUN";case 5:return"CAPTURE";default:return"?"}}function aK1($){switch($){case 1:return"CONNECT";case 2:return"DISCONNECT";case 5:return"INSTANTIATE";case 3:return"OPEN";case 4:return"QUERY";default:return"?"}}function tK1($){switch($){case 0:return"NONE";case 1:return"WEB WORKER";case 2:return"NODE WORKER";case 3:return"DUCKDB BINDINGS";case 4:return"DUCKDB";default:return"?"}}var cB0=(($)=>($[$.SUCCESS=0]="SUCCESS",$[$.MAX_ARROW_ERROR=255]="MAX_ARROW_ERROR",$[$.DUCKDB_WASM_RETRY=256]="DUCKDB_WASM_RETRY",$))(cB0||{});function eK1($){return $<=255}function $Y1($){return $===256}var rW=om(Oj()),uB0=class{constructor($,Q){this._bindings=$,this._conn=Q}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe($){return $(this._bindings,this._conn)}async query($){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:$});let Q=await this._bindings.runQuery(this._conn,$),J=rW.RecordBatchReader.from(Q);return console.assert(J.isSync(),"Reader is not sync"),console.assert(J.isFile(),"Reader is not file"),new rW.Table(J)}async send($,Q=!1){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:$});let J=await this._bindings.startPendingQuery(this._conn,$,Q);for(;J==null;)J=await this._bindings.pollPendingQuery(this._conn);let K=new am(this._bindings,this._conn,J),Y=await rW.RecordBatchReader.from(K);return console.assert(Y.isAsync()),console.assert(Y.isStream()),Y}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames($){return await this._bindings.getTableNames(this._conn,$)}async prepare($){let Q=await this._bindings.createPrepared(this._conn,$);return new mB0(this._bindings,this._conn,Q)}async insertArrowTable($,Q){let J=rW.tableToIPC($,"stream");await this.insertArrowFromIPCStream(J,Q)}async insertArrowFromIPCStream($,Q){await this._bindings.insertArrowFromIPCStream(this._conn,$,Q)}async insertCSVFromPath($,Q){await this._bindings.insertCSVFromPath(this._conn,$,Q)}async insertJSONFromPath($,Q){await this._bindings.insertJSONFromPath(this._conn,$,Q)}},am=class{constructor($,Q,J){this.db=$,this.conn=Q,this.header=J,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let $=null;for(this._inFlight!=null&&($=await this._inFlight,this._inFlight=null);$==null;)$=await this.db.fetchQueryResults(this.conn);return this._depleted=$.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:$}}[Symbol.asyncIterator](){return this}},mB0=class{constructor($,Q,J){this.bindings=$,this.connectionId=Q,this.statementId=J}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...$){let Q=await this.bindings.runPrepared(this.connectionId,this.statementId,$),J=rW.RecordBatchReader.from(Q);return console.assert(J.isSync()),console.assert(J.isFile()),new rW.Table(J)}async send(...$){let Q=await this.bindings.sendPrepared(this.connectionId,this.statementId,$),J=new am(this.bindings,this.connectionId,Q),K=await rW.RecordBatchReader.from(J);return console.assert(K.isAsync()),console.assert(K.isStream()),K}},pB0=(($)=>($.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",$.CLOSE_PREPARED="CLOSE_PREPARED",$.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",$.REGISTER_OPFS_FILE_NAME="REGISTER_OPFS_FILE_NAME",$.CONNECT="CONNECT",$.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",$.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",$.CREATE_PREPARED="CREATE_PREPARED",$.DISCONNECT="DISCONNECT",$.DROP_FILE="DROP_FILE",$.DROP_FILES="DROP_FILES",$.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",$.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",$.FLUSH_FILES="FLUSH_FILES",$.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",$.GET_TABLE_NAMES="GET_TABLE_NAMES",$.GET_VERSION="GET_VERSION",$.GLOB_FILE_INFOS="GLOB_FILE_INFOS",$.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",$.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",$.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",$.INSTANTIATE="INSTANTIATE",$.OPEN="OPEN",$.PING="PING",$.POLL_PENDING_QUERY="POLL_PENDING_QUERY",$.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",$.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",$.REGISTER_FILE_URL="REGISTER_FILE_URL",$.RESET="RESET",$.RUN_PREPARED="RUN_PREPARED",$.RUN_QUERY="RUN_QUERY",$.SEND_PREPARED="SEND_PREPARED",$.START_PENDING_QUERY="START_PENDING_QUERY",$.TOKENIZE="TOKENIZE",$))(pB0||{}),dB0=(($)=>($.CONNECTION_INFO="CONNECTION_INFO",$.ERROR="ERROR",$.FEATURE_FLAGS="FEATURE_FLAGS",$.FILE_BUFFER="FILE_BUFFER",$.FILE_INFOS="FILE_INFOS",$.FILE_SIZE="FILE_SIZE",$.FILE_STATISTICS="FILE_STATISTICS",$.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",$.LOG="LOG",$.PROGRESS_UPDATE="PROGRESS_UPDATE",$.OK="OK",$.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",$.QUERY_PLAN="QUERY_PLAN",$.QUERY_RESULT="QUERY_RESULT",$.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",$.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",$.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",$.REGISTERED_FILE="REGISTERED_FILE",$.SCRIPT_TOKENS="SCRIPT_TOKENS",$.SUCCESS="SUCCESS",$.TABLE_NAMES="TABLE_NAMES",$.VERSION_STRING="VERSION_STRING",$))(dB0||{}),r5=class{constructor($,Q){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=$,this.data=Q,this.promise=new Promise((J,K)=>{this.promiseResolver=J,this.promiseRejecter=K})}},d5=om(Oj());function wj($){switch($.typeId){case d5.Type.Binary:return{sqlType:"binary"};case d5.Type.Bool:return{sqlType:"bool"};case d5.Type.Date:return{sqlType:"date"};case d5.Type.DateDay:return{sqlType:"date32[d]"};case d5.Type.DateMillisecond:return{sqlType:"date64[ms]"};case d5.Type.Decimal:{let Q=$;return{sqlType:"decimal",precision:Q.precision,scale:Q.scale}}case d5.Type.Float:return{sqlType:"float"};case d5.Type.Float16:return{sqlType:"float16"};case d5.Type.Float32:return{sqlType:"float32"};case d5.Type.Float64:return{sqlType:"float64"};case d5.Type.Int:return{sqlType:"int32"};case d5.Type.Int16:return{sqlType:"int16"};case d5.Type.Int32:return{sqlType:"int32"};case d5.Type.Int64:return{sqlType:"int64"};case d5.Type.Uint16:return{sqlType:"uint16"};case d5.Type.Uint32:return{sqlType:"uint32"};case d5.Type.Uint64:return{sqlType:"uint64"};case d5.Type.Uint8:return{sqlType:"uint8"};case d5.Type.IntervalDayTime:return{sqlType:"interval[dt]"};case d5.Type.IntervalYearMonth:return{sqlType:"interval[m]"};case d5.Type.List:return{sqlType:"list",valueType:wj($.valueType)};case d5.Type.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:$.byteWidth};case d5.Type.Null:return{sqlType:"null"};case d5.Type.Utf8:return{sqlType:"utf8"};case d5.Type.Struct:return{sqlType:"struct",fields:$.children.map((Q)=>sm(Q.name,Q.type))};case d5.Type.Map:{let Q=$;return{sqlType:"map",keyType:wj(Q.keyType),valueType:wj(Q.valueType)}}case d5.Type.Time:return{sqlType:"time[s]"};case d5.Type.TimeMicrosecond:return{sqlType:"time[us]"};case d5.Type.TimeMillisecond:return{sqlType:"time[ms]"};case d5.Type.TimeNanosecond:return{sqlType:"time[ns]"};case d5.Type.TimeSecond:return{sqlType:"time[s]"};case d5.Type.Timestamp:return{sqlType:"timestamp",timezone:$.timezone||void 0};case d5.Type.TimestampSecond:return{sqlType:"timestamp[s]",timezone:$.timezone||void 0};case d5.Type.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:$.timezone||void 0};case d5.Type.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:$.timezone||void 0};case d5.Type.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:$.timezone||void 0}}throw Error("unsupported arrow type: ".concat($.toString()))}function sm($,Q){let J=wj(Q);return J.name=$,J}var QY1=new TextEncoder,JY1=class{constructor($,Q=null){this._onInstantiationProgress=[],this._onExecutionProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=$,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),Q!=null&&this.attach(Q)}get logger(){return this._logger}attach($){this._worker=$,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((Q,J)=>{this._workerShutdownResolver=Q})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask($,Q=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let J=this._nextMessageId++;return this._pendingRequests.set(J,$),this._worker.postMessage({messageId:J,type:$.type,data:$.data},Q),await $.promise}onMessage($){var Q;let J=$.data;switch(J.type){case"PROGRESS_UPDATE":{for(let Y of this._onExecutionProgress)Y(J.data);return}case"LOG":{this._logger.log(J.data);return}case"INSTANTIATE_PROGRESS":{for(let Y of this._onInstantiationProgress)Y(J.data);return}}let K=this._pendingRequests.get(J.requestId);if(!K){console.warn("unassociated response: [".concat(J.requestId,", ").concat(J.type.toString(),"]"));return}if(this._pendingRequests.delete(J.requestId),J.type=="ERROR"){let Y=Error(J.data.message);Y.name=J.data.name,(Q=Object.getOwnPropertyDescriptor(Y,"stack"))!=null&&Q.writable&&(Y.stack=J.data.stack),K.promiseRejecter(Y);return}switch(K.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"REGISTER_OPFS_FILE_NAME":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(J.type=="OK"){K.promiseResolver(J.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],J.type=="OK"){K.promiseResolver(J.data);return}break;case"GLOB_FILE_INFOS":if(J.type=="FILE_INFOS"){K.promiseResolver(J.data);return}break;case"GET_VERSION":if(J.type=="VERSION_STRING"){K.promiseResolver(J.data);return}break;case"GET_FEATURE_FLAGS":if(J.type=="FEATURE_FLAGS"){K.promiseResolver(J.data);return}break;case"GET_TABLE_NAMES":if(J.type=="TABLE_NAMES"){K.promiseResolver(J.data);return}break;case"TOKENIZE":if(J.type=="SCRIPT_TOKENS"){K.promiseResolver(J.data);return}break;case"COPY_FILE_TO_BUFFER":if(J.type=="FILE_BUFFER"){K.promiseResolver(J.data);return}break;case"EXPORT_FILE_STATISTICS":if(J.type=="FILE_STATISTICS"){K.promiseResolver(J.data);return}break;case"CONNECT":if(J.type=="CONNECTION_INFO"){K.promiseResolver(J.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(J.type=="QUERY_RESULT"){K.promiseResolver(J.data);return}break;case"SEND_PREPARED":if(J.type=="QUERY_RESULT_HEADER"){K.promiseResolver(J.data);return}break;case"START_PENDING_QUERY":if(J.type=="QUERY_RESULT_HEADER_OR_NULL"){K.promiseResolver(J.data);return}break;case"POLL_PENDING_QUERY":if(J.type=="QUERY_RESULT_HEADER_OR_NULL"){K.promiseResolver(J.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],J.type=="SUCCESS"){K.promiseResolver(J.data);return}break;case"FETCH_QUERY_RESULTS":if(J.type=="QUERY_RESULT_CHUNK"){K.promiseResolver(J.data);return}break;case"CREATE_PREPARED":if(J.type=="PREPARED_STATEMENT_ID"){K.promiseResolver(J.data);return}break}K.promiseRejecter(Error("unexpected response type: ".concat(J.type.toString())))}onError($){console.error($),console.error("error in duckdb worker: ".concat($.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}async reset(){let $=new r5("RESET",null);return await this.postTask($)}async ping(){let $=new r5("PING",null);await this.postTask($)}async dropFile($){let Q=new r5("DROP_FILE",$);return await this.postTask(Q)}async dropFiles(){let $=new r5("DROP_FILES",null);return await this.postTask($)}async flushFiles(){let $=new r5("FLUSH_FILES",null);return await this.postTask($)}async instantiate($,Q=null,J=(K)=>{}){this._onInstantiationProgress.push(J);let K=new r5("INSTANTIATE",[$,Q]);return await this.postTask(K)}async getVersion(){let $=new r5("GET_VERSION",null);return await this.postTask($)}async getFeatureFlags(){let $=new r5("GET_FEATURE_FLAGS",null);return await this.postTask($)}async open($){let Q=new r5("OPEN",$);await this.postTask(Q)}async tokenize($){let Q=new r5("TOKENIZE",$);return await this.postTask(Q)}async connectInternal(){let $=new r5("CONNECT",null);return await this.postTask($)}async connect(){let $=await this.connectInternal();return new uB0(this,$)}async disconnect($){let Q=new r5("DISCONNECT",$);await this.postTask(Q)}async runQuery($,Q){let J=new r5("RUN_QUERY",[$,Q]);return await this.postTask(J)}async startPendingQuery($,Q,J=!1){let K=new r5("START_PENDING_QUERY",[$,Q,J]);return await this.postTask(K)}async pollPendingQuery($){let Q=new r5("POLL_PENDING_QUERY",$);return await this.postTask(Q)}async cancelPendingQuery($){let Q=new r5("CANCEL_PENDING_QUERY",$);return await this.postTask(Q)}async fetchQueryResults($){let Q=new r5("FETCH_QUERY_RESULTS",$);return await this.postTask(Q)}async getTableNames($,Q){let J=new r5("GET_TABLE_NAMES",[$,Q]);return await this.postTask(J)}async createPrepared($,Q){let J=new r5("CREATE_PREPARED",[$,Q]);return await this.postTask(J)}async closePrepared($,Q){let J=new r5("CLOSE_PREPARED",[$,Q]);await this.postTask(J)}async runPrepared($,Q,J){let K=new r5("RUN_PREPARED",[$,Q,J]);return await this.postTask(K)}async sendPrepared($,Q,J){let K=new r5("SEND_PREPARED",[$,Q,J]);return await this.postTask(K)}async globFiles($){let Q=new r5("GLOB_FILE_INFOS",$);return await this.postTask(Q)}async registerFileText($,Q){let J=QY1.encode(Q);await this.registerFileBuffer($,J)}async registerFileURL($,Q,J,K){Q===void 0&&(Q=$);let Y=new r5("REGISTER_FILE_URL",[$,Q,J,K]);await this.postTask(Y)}async registerEmptyFileBuffer($){}async registerFileBuffer($,Q){let J=new r5("REGISTER_FILE_BUFFER",[$,Q]);await this.postTask(J,[Q.buffer])}async registerFileHandle($,Q,J,K){let Y=new r5("REGISTER_FILE_HANDLE",[$,Q,J,K]);await this.postTask(Y,[])}async registerOPFSFileName($){let Q=new r5("REGISTER_OPFS_FILE_NAME",[$]);await this.postTask(Q,[])}async collectFileStatistics($,Q){let J=new r5("COLLECT_FILE_STATISTICS",[$,Q]);await this.postTask(J,[])}async exportFileStatistics($){let Q=new r5("EXPORT_FILE_STATISTICS",$);return await this.postTask(Q,[])}async copyFileToBuffer($){let Q=new r5("COPY_FILE_TO_BUFFER",$);return await this.postTask(Q)}async copyFileToPath($,Q){let J=new r5("COPY_FILE_TO_PATH",[$,Q]);await this.postTask(J)}async insertArrowFromIPCStream($,Q,J){if(Q.length==0)return;let K=new r5("INSERT_ARROW_FROM_IPC_STREAM",[$,Q,J]);await this.postTask(K,[Q.buffer])}async insertCSVFromPath($,Q,J){if(J.columns!==void 0){let Y=[];for(let Z in J.columns){let q=J.columns[Z];Y.push(sm(Z,q))}J.columnsFlat=Y,delete J.columns}let K=new r5("IMPORT_CSV_FROM_PATH",[$,Q,J]);await this.postTask(K)}async insertJSONFromPath($,Q,J){if(J.columns!==void 0){let Y=[];for(let Z in J.columns){let q=J.columns[Z];Y.push(sm(Z,q))}J.columnsFlat=Y,delete J.columns}let K=new r5("IMPORT_JSON_FROM_PATH",[$,Q,J]);await this.postTask(K)}};function KY1(){let $=new TextDecoder;return(Q)=>(typeof SharedArrayBuffer<"u"&&Q.buffer instanceof SharedArrayBuffer&&(Q=new Uint8Array(Q)),$.decode(Q))}var Bd1=KY1(),nB0=(($)=>($[$.BUFFER=0]="BUFFER",$[$.NODE_FS=1]="NODE_FS",$[$.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",$[$.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",$[$.HTTP=4]="HTTP",$[$.S3=5]="S3",$))(nB0||{}),YY1=class{constructor(){this._bindings=null,this._nextMessageId=0}log($){this.postMessage({messageId:this._nextMessageId++,requestId:0,type:"LOG",data:$},[])}sendOK($){this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"OK",data:null},[])}failWith($,Q){let J={name:Q.name,message:Q.message,stack:Q.stack||void 0};this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"ERROR",data:J},[])}async onMessage($){switch($.type){case"PING":this.sendOK($);return;case"INSTANTIATE":this._bindings!=null&&this.failWith($,Error("duckdb already initialized"));try{this._bindings=await this.instantiate($.data[0],$.data[1],(Q)=>{this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"INSTANTIATE_PROGRESS",data:Q},[])}),this.sendOK($)}catch(Q){console.log(Q),this._bindings=null,this.failWith($,Q)}return;default:break}if(!this._bindings)return this.failWith($,Error("duckdb is not initialized"));try{switch($.type){case"GET_VERSION":this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"VERSION_STRING",data:this._bindings.getVersion()},[]);break;case"GET_FEATURE_FLAGS":this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"FEATURE_FLAGS",data:this._bindings.getFeatureFlags()},[]);break;case"RESET":this._bindings.reset(),this.sendOK($);break;case"OPEN":{let Q=$.data.path;Q!=null&&Q.startsWith("opfs://")&&(await this._bindings.prepareDBFileHandle(Q,3),$.data.useDirectIO=!0),this._bindings.open($.data),this.sendOK($);break}case"DROP_FILE":this._bindings.dropFile($.data),this.sendOK($);break;case"DROP_FILES":this._bindings.dropFiles(),this.sendOK($);break;case"FLUSH_FILES":this._bindings.flushFiles(),this.sendOK($);break;case"CONNECT":{let Q=this._bindings.connect();this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"CONNECTION_INFO",data:Q.useUnsafe((J,K)=>K)},[]);break}case"DISCONNECT":this._bindings.disconnect($.data),this.sendOK($);break;case"CREATE_PREPARED":{let Q=this._bindings.createPrepared($.data[0],$.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"PREPARED_STATEMENT_ID",data:Q},[]);break}case"CLOSE_PREPARED":{this._bindings.closePrepared($.data[0],$.data[1]),this.sendOK($);break}case"RUN_PREPARED":{let Q=this._bindings.runPrepared($.data[0],$.data[1],$.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"QUERY_RESULT",data:Q},[Q.buffer]);break}case"RUN_QUERY":{let Q=this._bindings.runQuery($.data[0],$.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"QUERY_RESULT",data:Q},[Q.buffer]);break}case"SEND_PREPARED":{let Q=this._bindings.sendPrepared($.data[0],$.data[1],$.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"QUERY_RESULT_HEADER",data:Q},[Q.buffer]);break}case"START_PENDING_QUERY":{let Q=this._bindings.startPendingQuery($.data[0],$.data[1],$.data[2]),J=[];Q&&J.push(Q.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:Q},J);break}case"POLL_PENDING_QUERY":{let Q=this._bindings.pollPendingQuery($.data),J=[];Q&&J.push(Q.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:Q},J);break}case"CANCEL_PENDING_QUERY":{let Q=this._bindings.cancelPendingQuery($.data);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"SUCCESS",data:Q},[]);break}case"FETCH_QUERY_RESULTS":{let Q=this._bindings.fetchQueryResults($.data),J=Q?[Q.buffer]:[];this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"QUERY_RESULT_CHUNK",data:Q},J);break}case"GET_TABLE_NAMES":{let Q=this._bindings.getTableNames($.data[0],$.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"TABLE_NAMES",data:Q},[]);break}case"GLOB_FILE_INFOS":{let Q=this._bindings.globFiles($.data);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"FILE_INFOS",data:Q},[]);break}case"REGISTER_FILE_URL":this._bindings.registerFileURL($.data[0],$.data[1],$.data[2],$.data[3]),this.sendOK($);break;case"REGISTER_FILE_BUFFER":this._bindings.registerFileBuffer($.data[0],$.data[1]),this.sendOK($);break;case"REGISTER_FILE_HANDLE":await this._bindings.registerFileHandleAsync($.data[0],$.data[1],$.data[2],$.data[3]),this.sendOK($);break;case"COPY_FILE_TO_PATH":this._bindings.copyFileToPath($.data[0],$.data[1]),this.sendOK($);break;case"COPY_FILE_TO_BUFFER":{let Q=this._bindings.copyFileToBuffer($.data);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"FILE_BUFFER",data:Q},[]);break}case"COLLECT_FILE_STATISTICS":this._bindings.collectFileStatistics($.data[0],$.data[1]),this.sendOK($);break;case"REGISTER_OPFS_FILE_NAME":this._bindings.registerOPFSFileName($.data[0]),this.sendOK($);break;case"EXPORT_FILE_STATISTICS":{this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"FILE_STATISTICS",data:this._bindings.exportFileStatistics($.data)},[]);break}case"INSERT_ARROW_FROM_IPC_STREAM":{this._bindings.insertArrowFromIPCStream($.data[0],$.data[1],$.data[2]),this.sendOK($);break}case"IMPORT_CSV_FROM_PATH":{this._bindings.insertCSVFromPath($.data[0],$.data[1],$.data[2]),this.sendOK($);break}case"IMPORT_JSON_FROM_PATH":{this._bindings.insertJSONFromPath($.data[0],$.data[1],$.data[2]),this.sendOK($);break}case"TOKENIZE":{let Q=this._bindings.tokenize($.data);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"SCRIPT_TOKENS",data:Q},[]);break}}}catch(Q){return console.log(Q),this.failWith($,Q)}}},ZY1=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),qY1=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),XY1=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),WY1=()=>(async($)=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate($)}catch(Q){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),tm={name:"@duckdb/duckdb-wasm",version:"1.30.0",description:"DuckDB powered by WebAssembly",license:"MIT",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^17.0.0"},devDependencies:{"@types/emscripten":"^1.39.10","@types/jasmine":"^5.1.4","@typescript-eslint/eslint-plugin":"^6.21.0","@typescript-eslint/parser":"^6.21.0",esbuild:"^0.20.2",eslint:"^8.57.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.34.0","fast-glob":"^3.3.2",jasmine:"^5.1.0","jasmine-core":"^5.1.2","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.11.1",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-coverage":"^2.2.1","karma-firefox-launcher":"^2.1.3","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.1.0","karma-sourcemap-loader":"^0.4.0","karma-spec-reporter":"^0.0.36","make-dir":"^4.0.0",nyc:"^15.1.0",prettier:"^3.2.5",puppeteer:"^22.8.0",rimraf:"^5.0.5",s3rver:"^3.7.1",typedoc:"^0.25.13",typescript:"^5.3.3","wasm-feature-detect":"^1.6.1","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",format:'prettier --write "**/*.+(js|ts)"',report:"node ./coverage.mjs","test:node":"node --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/tests-*","!dist/duckdb-browser-mvp.worker.js.map","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-node-blocking.d.ts",import:"./dist/duckdb-node-blocking.mjs",require:"./dist/duckdb-node-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},lB0=tm.name,rB0=tm.version,em=tm.version.split("."),FY1=em[0],UY1=em[1],HY1=em[2],$p=()=>typeof navigator>"u",iB0=()=>$p()?"node":navigator.userAgent,NY1=()=>iB0().includes("Firefox"),BY1=()=>/^((?!chrome|android).)*safari/i.test(iB0());function zY1(){let $="https://cdn.jsdelivr.net/npm/".concat(lB0,"@").concat(rB0,"/dist/");return{mvp:{mainModule:"".concat($,"duckdb-mvp.wasm"),mainWorker:"".concat($,"duckdb-browser-mvp.worker.js")},eh:{mainModule:"".concat($,"duckdb-eh.wasm"),mainWorker:"".concat($,"duckdb-browser-eh.worker.js")}}}var dm=null,nm=null,lm=null,rm=null,im=null;async function sB0(){return dm==null&&(dm=typeof BigInt64Array<"u"),nm==null&&(nm=await qY1()),lm==null&&(lm=await WY1()),rm==null&&(rm=await XY1()),im==null&&(im=await ZY1()),{bigInt64Array:dm,crossOriginIsolated:$p()||globalThis.crossOriginIsolated||!1,wasmExceptions:nm,wasmSIMD:rm,wasmThreads:lm,wasmBulkMemory:im}}async function AY1($){let Q=await sB0();if(Q.wasmExceptions){if(Q.wasmSIMD&&Q.wasmThreads&&Q.crossOriginIsolated&&$.coi)return{mainModule:$.coi.mainModule,mainWorker:$.coi.mainWorker,pthreadWorker:$.coi.pthreadWorker};if($.eh)return{mainModule:$.eh.mainModule,mainWorker:$.eh.mainWorker,pthreadWorker:null}}return{mainModule:$.mvp.mainModule,mainWorker:$.mvp.mainWorker,pthreadWorker:null}}var VY1=om(lK1());async function RY1($){let Q=new Request($),J=await fetch(Q),K=URL.createObjectURL(await J.blob());return new VY1.default(K)}});var Qp=C0((_Y1)=>{var E7=r1(z7(),1);function sN(){return sN=Object.assign||function($){for(var Q=1;Q<arguments.length;Q++){var J=arguments[Q];for(var K in J)if(Object.prototype.hasOwnProperty.call(J,K))$[K]=J[K]}return $},sN.apply(this,arguments)}var Cd1=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator",Pd1=typeof Symbol<"u"?Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")):"@@asyncIterator";function GY1($,Q){try{var J=$()}catch(K){return Q(!0,K)}if(J&&J.then)return J.then(Q.bind(null,!1),Q.bind(null,!0));return Q(!1,value)}var OY1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E7.useLayoutEffect:E7.useEffect,wY1=function(Q){var J=E7.useRef(Q);return OY1(function(){J.current=Q}),E7.useCallback(function(){return J.current},[J])},TY1={status:"not-requested",loading:!1,result:void 0,error:void 0},tB0={status:"loading",loading:!0,result:void 0,error:void 0},DY1=function(Q){return tB0},CY1=function(Q,J){return{status:"success",loading:!1,result:Q,error:void 0}},PY1=function(Q,J){return{status:"error",loading:!1,result:void 0,error:Q}},aB0=function(){},kY1={initialState:function(Q){return Q&&Q.executeOnMount?tB0:TY1},executeOnMount:!0,executeOnUpdate:!0,setLoading:DY1,setResult:CY1,setError:PY1,onSuccess:aB0,onError:aB0},jY1=function(Q){return sN({},kY1,{},Q)},EY1=function(Q){var J=E7.useState(function(){return Q.initialState(Q)}),K=J[0],Y=J[1],Z=E7.useCallback(function(){return Y(Q.initialState(Q))},[Y,Q]),q=E7.useCallback(function(){return Y(Q.setLoading(K))},[K,Y]),X=E7.useCallback(function(H){return Y(Q.setResult(H,K))},[K,Y]),W=E7.useCallback(function(H){return Y(Q.setError(H,K))},[K,Y]),F=E7.useCallback(function(H){return Y(sN({},K,{},H))},[K,Y]);return{value:K,set:Y,merge:F,reset:Z,setLoading:q,setResult:X,setError:W}},LY1=function(){var Q=E7.useRef(!1);return E7.useEffect(function(){return Q.current=!0,function(){Q.current=!1}},[]),function(){return Q.current}},hY1=function(){var Q=E7.useRef(null);return{set:function(K){return Q.current=K},get:function(){return Q.current},is:function(K){return Q.current===K}}},eB0=function(Q,J,K){!J&&(J=[]);var Y=jY1(K),Z=E7.useState(null),q=Z[0],X=Z[1],W=EY1(Y),F=LY1(),H=hY1(),B=function(T){return F()&&H.is(T)},z=function(){for(var T=arguments.length,D=Array(T),P=0;P<T;P++)D[P]=arguments[P];var j=function(){try{return Promise.resolve(Q.apply(void 0,D))}catch(E){return Promise.reject(E)}}();return X(D),H.set(j),W.setLoading(),j.then(function(E){if(B(j))W.setResult(E);Y.onSuccess(E,{isCurrent:function(){return H.is(j)}})},function(E){if(B(j))W.setError(E);Y.onError(E,{isCurrent:function(){return H.is(j)}})}),j},A=wY1(z),R=E7.useCallback(function(){return A().apply(void 0,arguments)},[A]),G=!F();return E7.useEffect(function(){var O=function(){return A().apply(void 0,J)};G&&Y.executeOnMount&&O(),!G&&Y.executeOnUpdate&&O()},J),sN({},W.value,{set:W.set,merge:W.merge,reset:W.reset,execute:R,currentPromise:H.get(),currentParams:q})};function $z0($,Q,J){return eB0($,Q,J)}var vY1=function(Q,J,K){var Y=E7.useRef(),Z=function(){for(var X=arguments.length,W=Array(X),F=0;F<X;F++)W[F]=arguments[F];try{if(Y.current)Y.current.abort();var H=new AbortController;return Y.current=H,Promise.resolve(GY1(function(){return Promise.resolve(Q.apply(void 0,[H.signal].concat(W)))},function(B,z){if(Y.current===H)Y.current=void 0;if(B)throw z;return z}))}catch(B){return Promise.reject(B)}};return $z0(Z,J,K)},SY1=function(Q,J){return eB0(Q,[],sN({},J,{executeOnMount:!1,executeOnUpdate:!1}))};_Y1.useAsync=$z0;_Y1.useAsyncAbortable=vY1;_Y1.useAsyncCallback=SY1});var Vz0=C0((jd1,Az0)=>{var{create:bY1,defineProperty:Pj,getOwnPropertyDescriptor:gY1,getOwnPropertyNames:yY1,getPrototypeOf:xY1}=Object,cY1=Object.prototype.hasOwnProperty,uY1=($,Q)=>{for(var J in Q)Pj($,J,{get:Q[J],enumerable:!0})},Qz0=($,Q,J,K)=>{if(Q&&typeof Q==="object"||typeof Q==="function"){for(let Y of yY1(Q))if(!cY1.call($,Y)&&Y!==J)Pj($,Y,{get:()=>Q[Y],enumerable:!(K=gY1(Q,Y))||K.enumerable})}return $},Jz0=($,Q,J)=>(J=$!=null?bY1(xY1($)):{},Qz0(Q||!$||!$.__esModule?Pj(J,"default",{value:$,enumerable:!0}):J,$)),mY1=($)=>Qz0(Pj({},"__esModule",{value:!0}),$),L7=($,Q,J)=>{return new Promise((K,Y)=>{var Z=(W)=>{try{X(J.next(W))}catch(F){Y(F)}},q=(W)=>{try{X(J.throw(W))}catch(F){Y(F)}},X=(W)=>W.done?K(W.value):Promise.resolve(W.value).then(Z,q);X((J=J.apply($,Q)).next())})},Kz0={};uY1(Kz0,{ARROW_MIME_TYPE:()=>Wz0,AsyncDuckDB:()=>pY1.AsyncDuckDB,CSV_MIME_TYPE:()=>Hz0,InsertFileError:()=>oN,PARQUET_MIME_TYPE:()=>Nz0,arrayBufferToArrow:()=>Xp,arrowToArrayBuffer:()=>Uz0,arrowToJSON:()=>JZ1,cardinalities:()=>$Z1,drop:()=>eY1,exportArrow:()=>KZ1,exportCsv:()=>YZ1,exportParquet:()=>ZZ1,getDuckDB:()=>Zz0,getTempFilename:()=>BG,initializeDuckDb:()=>Yz0,insertArrow:()=>Kp,insertArrowTable:()=>zz0,insertCSV:()=>Jp,insertFile:()=>FZ1,insertParquet:()=>Yp,isArrow:()=>QZ1,isArrowFile:()=>Fz0,isParquetFile:()=>Bz0,runQuery:()=>B$,useDuckDb:()=>qz0,useDuckDbQuery:()=>aY1});Az0.exports=mY1(Kz0);var pY1=HG(),dY1=Qp(),Dj=Jz0(HG()),nY1=HG(),lY1="\x1B[31m",rY1="\x1B[0m",iY1=($,Q,J=void 0)=>{let Y=(J!=null?J:performance.now())-Q,Z;switch(!0){case Y>=1000:Z=`${(Y/1000).toFixed(1)}s`;break;case Y>=1:Z=`${Y.toFixed(0)}ms`;break;default:Z=`${Y.toFixed(3)}ms`;break}return`${lY1}[${Z}] ${rY1}${$}`},Zp=($,Q,J=void 0)=>{console.debug(iY1($,Q,J))},Cj,NG;function Yz0($){return L7(this,null,function*(){let{debug:Q=!1,config:J}=$||{};if(Cj=Q,NG===void 0)NG=sY1(J);return NG})}var sY1=($)=>L7(null,null,function*(){let Q=performance.now(),J=Dj.getJsDelivrBundles(),K=yield Dj.selectBundle(J),Y=URL.createObjectURL(new Blob([`importScripts("${K.mainWorker}");`],{type:"text/javascript"})),Z=new Worker(Y),q=Cj?new Dj.ConsoleLogger:new Dj.VoidLogger,X=new nY1.AsyncDuckDB(q,Z);if(yield X.instantiate(K.mainModule,K.pthreadWorker),URL.revokeObjectURL(Y),$){if($.path){let F=yield(yield fetch($.path)).arrayBuffer(),H=$.path.match(/[^/]*$/);if(H)$.path=H[0];yield X.registerFileBuffer($.path,new Uint8Array(F))}yield X.open($)}if(Cj){if(Zp("DuckDB initialized",Q),$)console.debug(`DuckDbConfig: ${JSON.stringify($,null,2)}`)}return X}),Zz0=()=>L7(null,null,function*(){if(NG)return NG;return yield Yz0()}),qz0=()=>{let{result:$,loading:Q,error:J}=(0,dY1.useAsync)(()=>L7(null,null,function*(){return yield Zz0()}),[]);return{db:$,loading:Q,error:J}},oY1=Qp(),B$=($,Q)=>L7(null,null,function*(){let J=performance.now(),K=yield $.connect(),Y=yield K.query(Q);return yield K.close(),Cj&&Zp(`Run query: ${Q}`,J),Y}),aY1=($)=>{let{db:Q}=qz0(),{result:J,loading:K,error:Y}=(0,oY1.useAsync)(()=>L7(null,null,function*(){if(!Q||!$)return;return yield B$(Q,$)}),[Q,$]);return{arrow:J,loading:K,error:Y}},tY1=($,Q)=>L7(null,null,function*(){let J=yield B$($,`select table_type from information_schema.tables where table_name = '${Q}'`);if(J.numRows===1){let K=J.get(0),Y=K==null?void 0:K.toArray()[0];switch(Y){case"BASE TABLE":return"Table";case"VIEW":return"View";default:throw Error(`Unexpected table type: ${Y}`)}}return}),eY1=($,Q)=>L7(null,null,function*(){let J=yield tY1($,Q);if(J==="Table")yield B$($,`drop table if exists "${Q}"`);else if(J==="View")yield B$($,`drop view if exists "${Q}"`)}),Xz0=($,Q)=>L7(null,null,function*(){let J=yield B$($,`select column_name, data_type from information_schema.columns where table_name = '${Q}'`),K=new Map;for(let Y=0;Y<J.numRows;Y++){let Z=J.get(Y);if(Z){let[q,X]=Z.toArray();K.set(q,X)}}return K}),$Z1=($,Q)=>L7(null,null,function*(){let J=yield Xz0($,Q),K=Array.from(J.keys()),Z=(yield B$($,`select count(distinct columns(*)) from "${Q}"`)).get(0);if(!Z)throw Error(`Expected a single row of cardinalities: ${Q}`);let q=Z.toArray();if(q.length!==K.length)throw Error(`Unexpected length mismatch: ${Q}`);let X={};for(let W=0;W<K.length;W++)X[K[W]]=q[W];return X}),BG=()=>{let $=Date.now().toString(),Q=Math.random().toString(36).substring(2);return`file-${$}-${Q}`},qp=Oj(),Wz0="application/vnd.apache.arrow.file",QZ1=($)=>$ instanceof qp.Table,Fz0=($)=>L7(null,null,function*(){try{let Q=yield $.arrayBuffer();return Xp(Q),!0}catch(Q){}return!1}),Xp=($)=>{return(0,qp.tableFromIPC)(new Uint8Array($))},Uz0=($)=>{return(0,qp.tableToIPC)($,"file").buffer};function JZ1($){let Q=[];for(let J=0;J<$.numRows;J++){let K=$.get(J);if(K)Q.push(K.toJSON())}return Q}var Hz0="text/csv",Nz0="application/vnd.apache.parquet",Bz0=($)=>L7(null,null,function*(){return(yield $.slice(0,4).text()).startsWith("PAR1")}),KZ1=($,Q,J)=>L7(null,null,function*(){let K=J||Wp(Q,"arrow"),Y=yield B$($,`SELECT * FROM '${Q}'`),Z=Uz0(Y);return new File([Z],K,{type:Wz0})}),YZ1=($,Q,J,K=",")=>L7(null,null,function*(){let Y=J||Wp(Q,"csv"),Z=BG();yield B$($,`COPY '${Q}' TO '${Z}' WITH (HEADER 1, DELIMITER '${K}')`);let q=yield $.copyFileToBuffer(Z);return yield $.dropFile(Z),new File([q],Y,{type:Hz0})}),ZZ1=($,Q,J,K="zstd")=>L7(null,null,function*(){let Y=J||Wp(Q,"parquet"),Z=BG();yield B$($,`COPY '${Q}' TO '${Z}' (FORMAT PARQUET, COMPRESSION ${K})`);let q=yield $.copyFileToBuffer(Z);return yield $.dropFile(Z),new File([q],Y,{type:Nz0})}),qZ1=($,Q)=>{let J=$.split("."),K=J.length>1?J.pop():"",Y=J.join(".");if(Q.includes(K))return Y;return $},Wp=($,Q)=>{return`${qZ1($,["arrow","csv","parquet"])}.${Q}`},XZ1=Jz0(HG()),WZ1=($,Q)=>L7(null,null,function*(){let J=yield Xz0($,Q),K=Array.from(J.keys());for(let Y=0;Y<K.length;Y++){let Z=K[Y];if(Z.toLowerCase().includes("year"))yield B$($,`ALTER TABLE "${Q}" ALTER COLUMN "${Z}" SET DATA TYPE VARCHAR`)}}),oN=class extends Error{constructor($,Q){super(Q);this.title=$,this.name="InsertFileError"}},FZ1=($,Q,J,K=!1)=>L7(null,null,function*(){let Y=performance.now();if(yield UZ1($,Q,J),K)Zp(`Imported ${Q.name}`,Y)}),UZ1=($,Q,J)=>L7(null,null,function*(){try{let K=J||Q.name;if(yield Bz0(Q)){yield Yp($,Q,K);return}if(yield Fz0(Q)){yield Kp($,Q,K);return}switch(Q.name.toLowerCase().split(".").at(-1)){case"arrow":yield Kp($,Q,K);return;case"parquet":yield Yp($,Q,K);return;case"csv":yield Jp($,Q,K);return}return yield Jp($,Q,K)}catch(K){if(console.error(K),K instanceof oN)throw K;else throw new oN("Invalid file type","Only CSV, Parquet, or Arrow files are supported")}}),Jp=($,Q,J)=>L7(null,null,function*(){try{let K=yield Q.text(),Y=BG();yield $.registerFileText(Y,K);let Z=yield $.connect();yield Z.insertCSVFromPath(Y,{name:J,schema:"main",detect:!0}),yield Z.close(),$.dropFile(Y),yield WZ1($,J)}catch(K){if(console.error(K),Q.type==="text/csv"||Q.name.toLowerCase().endsWith(".csv"))throw new oN("CSV import failed","Sorry, we couldn't import that CSV. Please try again.");throw K}}),Kp=($,Q,J)=>L7(null,null,function*(){try{let K=yield Q.arrayBuffer(),Y=Xp(K);yield zz0($,Y,J)}catch(K){throw console.error(K),new oN("Arrow import failed","Sorry, we couldn't import that file")}}),zz0=($,Q,J)=>L7(null,null,function*(){let K=yield $.connect();yield K.insertArrowTable(Q,{name:J}),yield K.close()}),Yp=($,Q,J)=>L7(null,null,function*(){try{let K=`${BG()}.parquet`;yield $.registerFileHandle(K,Q,XZ1.DuckDBDataProtocol.BROWSER_FILEREADER,!0),yield B$($,`CREATE TABLE '${J}' AS SELECT * FROM '${K}'`),yield $.dropFile(K)}catch(K){throw console.error(K),new oN("Parquet import failed","Sorry, we couldn't import that file")}})});var R7=C0((HZ1)=>{var iW=r1(z7(),1);(function(){function $(r){if(r==null)return null;if(typeof r==="function")return r.$$typeof===_?null:r.displayName||r.name||null;if(typeof r==="string")return r;switch(r){case R:return"Fragment";case O:return"Profiler";case G:return"StrictMode";case j:return"Suspense";case E:return"SuspenseList";case f:return"Activity"}if(typeof r==="object")switch(typeof r.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),r.$$typeof){case A:return"Portal";case D:return(r.displayName||"Context")+".Provider";case T:return(r._context.displayName||"Context")+".Consumer";case P:var Q0=r.render;return r=r.displayName,r||(r=Q0.displayName||Q0.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case L:return Q0=r.displayName||null,Q0!==null?Q0:$(r.type)||"Memo";case v:Q0=r._payload,r=r._init;try{return $(r(Q0))}catch(F0){}}return null}function Q(r){return""+r}function J(r){try{Q(r);var Q0=!1}catch(h0){Q0=!0}if(Q0){Q0=console;var F0=Q0.error,W0=typeof Symbol==="function"&&Symbol.toStringTag&&r[Symbol.toStringTag]||r.constructor.name||"Object";return F0.call(Q0,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",W0),Q(r)}}function K(r){if(r===R)return"<>";if(typeof r==="object"&&r!==null&&r.$$typeof===v)return"<...>";try{var Q0=$(r);return Q0?"<"+Q0+">":"<...>"}catch(F0){return"<...>"}}function Y(){var r=M.A;return r===null?null:r.getOwner()}function Z(){return Error("react-stack-top-frame")}function q(r){if(b.call(r,"key")){var Q0=Object.getOwnPropertyDescriptor(r,"key").get;if(Q0&&Q0.isReactWarning)return!1}return r.key!==void 0}function X(r,Q0){function F0(){m||(m=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",Q0))}F0.isReactWarning=!0,Object.defineProperty(r,"key",{get:F0,configurable:!0})}function W(){var r=$(this.type);return u[r]||(u[r]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),r=this.props.ref,r!==void 0?r:null}function F(r,Q0,F0,W0,h0,d0,W1,z1){return F0=d0.ref,r={$$typeof:z,type:r,key:Q0,props:d0,_owner:h0},(F0!==void 0?F0:null)!==null?Object.defineProperty(r,"ref",{enumerable:!1,get:W}):Object.defineProperty(r,"ref",{enumerable:!1,value:null}),r._store={},Object.defineProperty(r._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(r,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(r,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:W1}),Object.defineProperty(r,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:z1}),Object.freeze&&(Object.freeze(r.props),Object.freeze(r)),r}function H(r,Q0,F0,W0,h0,d0,W1,z1){var b1=Q0.children;if(b1!==void 0)if(W0)if(x(b1)){for(W0=0;W0<b1.length;W0++)B(b1[W0]);Object.freeze&&Object.freeze(b1)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else B(b1);if(b.call(Q0,"key")){b1=$(r);var B1=Object.keys(Q0).filter(function(P1){return P1!=="key"});W0=0<B1.length?"{key: someKey, "+B1.join(": ..., ")+": ...}":"{key: someKey}",t[b1+W0]||(B1=0<B1.length?"{"+B1.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,W0,b1,B1,b1),t[b1+W0]=!0)}if(b1=null,F0!==void 0&&(J(F0),b1=""+F0),q(Q0)&&(J(Q0.key),b1=""+Q0.key),"key"in Q0){F0={};for(var e0 in Q0)e0!=="key"&&(F0[e0]=Q0[e0])}else F0=Q0;return b1&&X(F0,typeof r==="function"?r.displayName||r.name||"Unknown":r),F(r,b1,d0,h0,Y(),F0,W1,z1)}function B(r){typeof r==="object"&&r!==null&&r.$$typeof===z&&r._store&&(r._store.validated=1)}var z=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),D=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),_=Symbol.for("react.client.reference"),M=iW.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,b=Object.prototype.hasOwnProperty,x=Array.isArray,g=console.createTask?console.createTask:function(){return null};iW={react_stack_bottom_frame:function(r){return r()}};var m,u={},p=iW.react_stack_bottom_frame.bind(iW,Z)(),o=g(K(Z)),t={};HZ1.Fragment=R,HZ1.jsxDEV=function(r,Q0,F0,W0,h0,d0){var W1=1e4>M.recentlyCreatedOwnerStacks++;return H(r,Q0,F0,W0,h0,d0,W1?Error("react-stack-top-frame"):p,W1?g(K(r)):o)}})()});function Oz0({children:$}){let{db:Q}=Rz0.useDuckDb(),[J,K]=aN.useState(0),Y=()=>K((Z)=>Z+1);return wz0.jsxDEV(Gz0.Provider,{value:{db:Q,tableVersion:J,refreshTables:Y},children:$},void 0,!1,void 0,this)}function W4(){let $=aN.useContext(Gz0);if(!$)throw Error("useDuckDB must be used within a DuckDBProvider");return $}var aN,Rz0,wz0,Gz0;var $K=h(()=>{aN=r1(z7(),1),Rz0=r1(Vz0(),1),wz0=r1(R7(),1),Gz0=aN.createContext(null)});class pY{config;filters;db;constructor($,Q,J){this.db=$,this.config=Q,console.log("QueryModel constructor - incoming filters:",J),this.filters=J||[],console.log("QueryModel constructor - this.filters after assignment:",this.filters)}buildSQL(){let $=this.config.params,Q=$.dataSource.split("__")[0],J=$.queryMode==="aggregate",K=[];if(J){for(let H of $.metrics??[])if(typeof H==="string")K.push(H);else if(H.sqlExpression&&H.label)K.push(`${H.sqlExpression} AS "${H.label}"`);else if(H.aggregate&&typeof H.column!=="string"&&H.column?.column_name&&H.label)K.push(`${H.aggregate}(${H.column.column_name}) AS "${H.label}"`);if($.groupBy?.length)K.unshift(...$.groupBy)}else if($.columns&&$.columns.length>0){let H=$.columns.map((B)=>{return B.label?`${B.column} AS "${B.label}"`:B.column});K.push(H.join(", "))}else K.push("*");if(K.length===0&&$.groupBy?.length)K.push(...$.groupBy);else if(K.length===0)K.push("*");let Y=`SELECT ${K.join(", ")} FROM ${Q}`,Z=[],q=$.adhocFilters??[],X=[];for(let H of this.filters){if(H.comparator&&Array.isArray(H.comparator)&&H.comparator.length===0)continue;X.push(H)}let W=[...q,...X],F=[];for(let H of W){let B=this.filterToSQL(H);if(B)F.push(B.sql),Z=Z.concat(B.params)}if(F.length)Y+=` WHERE ${F.join(" AND ")}`;if(J&&$.groupBy?.length)Y+=` GROUP BY ${$.groupBy.join(", ")}`;if($.rowLimit)Y+=` LIMIT ${$.rowLimit}`;return{sql:Y,params:Z}}filterToSQL($){if($.operator==="IN"&&Array.isArray($.comparator)){let Q=$.comparator.map(()=>"?").join(", ");return{sql:`${$.subject} IN (${Q})`,params:$.comparator}}if($.operator==="=")return{sql:`${$.subject} = ?`,params:[$.comparator]};return null}async execute(){let $=await this.db.connect(),Q=this.config.params.dataSource.split("__")[0];try{if((await $.query(`SELECT 1 FROM information_schema.tables WHERE table_name = '${Q}'`)).numRows===0)return console.warn(`Table '${Q}' does not exist.`),[];let{sql:K,params:Y}=this.buildSQL();return console.log(this.config.label,"executing query "+K,Y),(await(await $.prepare(K)).query(...Y)).toArray()}catch(J){return console.error("Error executing query:",J),[]}finally{await $.close()}}}var Pz0={};OQ(Pz0,{KeyNumberWidget:()=>SZ1});function SZ1({config:$,filters:Q=[]}){let{db:J,tableVersion:K}=W4(),[Y,Z]=jj.useState(null);return jj.useEffect(()=>{if(!J)return;new pY(J,$,Q).execute().then((X)=>{if(X.length===0)return Z(null);let W=Object.values(X[0])[0];Z(typeof W==="number"?W:Number(W))})},[J,$,Q,K]),kj.jsxDEV("div",{className:"p-4 bg-white shadow rounded-2xl text-center",children:[$.label&&kj.jsxDEV("div",{className:"text-gray-500 text-sm",children:$.label},void 0,!1,void 0,this),kj.jsxDEV("div",{className:"text-3xl font-semibold",children:Y!==null?Y.toLocaleString():"—"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}var jj,kj;var kz0=h(()=>{$K();jj=r1(z7(),1),kj=r1(R7(),1)});var jz0={};OQ(jz0,{TableWidget:()=>_Z1});function _Z1({config:$,filters:Q=[]}){let{db:J,tableVersion:K}=W4(),[Y,Z]=Ej.useState([]);if(Ej.useEffect(()=>{if(!J)return;new pY(J,$,Q).execute().then(Z)},[J,$,Q,K]),!Y.length)return dY.jsxDEV("div",{children:"Loading…"},void 0,!1,void 0,this);let q=$.params.columns?$.params.columns.map((W)=>W.label||W.column):Object.keys(Y[0]),X=$.params.columns?$.params.columns.map((W)=>W.label||W.column):Object.keys(Y[0]);return dY.jsxDEV("table",{className:"border text-sm w-full",children:[dY.jsxDEV("thead",{children:dY.jsxDEV("tr",{children:q.map((W)=>dY.jsxDEV("th",{className:"p-2 bg-gray-100",children:W},W,!1,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this),dY.jsxDEV("tbody",{children:Y.map((W,F)=>dY.jsxDEV("tr",{className:"border-t",children:X.map((H)=>dY.jsxDEV("td",{className:"p-2",children:String(W[H])},H,!1,void 0,this))},F,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}var Ej,dY;var Ez0=h(()=>{$K();Ej=r1(z7(),1),dY=r1(R7(),1)});function JX($,Q){if(!$)throw Error(Q||"loader assertion failed.")}var QK,fZ1,IZ1,MZ1,bZ1,sW,Lz0,gZ1;var hz0=h(()=>{QK={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document},fZ1=QK.self||QK.window||QK.global||{},IZ1=QK.window||QK.self||QK.global||{},MZ1=QK.global||QK.self||QK.window||{},bZ1=QK.document||{},sW=Boolean(typeof process!=="object"||String(process)!=="[object process]"||!0),Lz0=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),gZ1=Lz0&&parseFloat(Lz0[1])||0});var Lj,yZ1,hj,xZ1,Bp;var zp=h(()=>{Lj=globalThis,yZ1=globalThis.document||{},hj=globalThis.process||{},xZ1=globalThis.console,Bp=globalThis.navigator||{}});function vj($){if(typeof window<"u"&&window.process?.type==="renderer")return!0;if(typeof process<"u"&&Boolean(process.versions?.electron))return!0;let Q=typeof navigator<"u"&&navigator.userAgent,J=$||Q;return Boolean(J&&J.indexOf("Electron")>=0)}function c4(){return!(typeof process==="object"&&String(process)==="[object process]"&&!process?.browser)||vj()}var Ap=()=>{};function Vp($){if(!$&&!c4())return"Node";if(vj($))return"Electron";if(($||Bp.userAgent||"").indexOf("Edge")>-1)return"Edge";if(globalThis.chrome)return"Chrome";if(globalThis.safari)return"Safari";if(globalThis.mozInnerScreenX)return"Firefox";return"Unknown"}var vz0=h(()=>{Ap();zp()});var Rp="4.1.0";var KX=h(()=>{zp();Ap();vz0()});function uZ1($){try{let Q=window[$],J="__storage_test__";return Q.setItem("__storage_test__","__storage_test__"),Q.removeItem("__storage_test__"),Q}catch(Q){return null}}class Gp{constructor($,Q,J="sessionStorage"){this.storage=uZ1(J),this.id=$,this.config=Q,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration($){if(Object.assign(this.config,$),this.storage){let Q=JSON.stringify(this.config);this.storage.setItem(this.id,Q)}}_loadConfiguration(){let $={};if(this.storage){let Q=this.storage.getItem(this.id);$=Q?JSON.parse(Q):{}}return Object.assign(this.config,$),this}}function Sz0($){let Q;if($<10)Q=`${$.toFixed(2)}ms`;else if($<100)Q=`${$.toFixed(1)}ms`;else if($<1000)Q=`${$.toFixed(0)}ms`;else Q=`${($/1000).toFixed(2)}s`;return Q}function _z0($,Q=8){let J=Math.max(Q-$.length,0);return`${" ".repeat(J)}${$}`}function fz0($){if(typeof $!=="string")return $;return $=$.toUpperCase(),Sj[$]||Sj.WHITE}function Iz0($,Q,J){if(!c4&&typeof $==="string"){if(Q)$=`\x1B[${fz0(Q)}m${$}\x1B[39m`;if(J)$=`\x1B[${fz0(J)+mZ1}m${$}\x1B[49m`}return $}var Sj,mZ1=10;var Mz0=h(()=>{KX();(function($){$[$.BLACK=30]="BLACK",$[$.RED=31]="RED",$[$.GREEN=32]="GREEN",$[$.YELLOW=33]="YELLOW",$[$.BLUE=34]="BLUE",$[$.MAGENTA=35]="MAGENTA",$[$.CYAN=36]="CYAN",$[$.WHITE=37]="WHITE",$[$.BRIGHT_BLACK=90]="BRIGHT_BLACK",$[$.BRIGHT_RED=91]="BRIGHT_RED",$[$.BRIGHT_GREEN=92]="BRIGHT_GREEN",$[$.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",$[$.BRIGHT_BLUE=94]="BRIGHT_BLUE",$[$.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",$[$.BRIGHT_CYAN=96]="BRIGHT_CYAN",$[$.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(Sj||(Sj={}))});function bz0($,Q=["constructor"]){let J=Object.getPrototypeOf($),K=Object.getOwnPropertyNames(J),Y=$;for(let Z of K){let q=Y[Z];if(typeof q==="function"){if(!Q.find((X)=>Z===X))Y[Z]=q.bind($)}}}function AG($,Q){if(!$)throw Error(Q||"Assertion failed")}function oW(){let $;if(c4()&&Lj.performance)$=Lj?.performance?.now?.();else if("hrtime"in hj){let Q=hj?.hrtime?.();$=Q[0]*1000+Q[1]/1e6}else $=Date.now();return $}var gz0=h(()=>{KX()});function eN(){}class B3{constructor({id:$}={id:""}){this.VERSION=Rp,this._startTs=oW(),this._deltaTs=oW(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=$,this.userData={},this._storage=new Gp(`__probe-${this.id}__`,pZ1),this.timeStamp(`${this.id} started`),bz0(this),Object.seal(this)}set level($){this.setLevel($)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((oW()-this._startTs).toPrecision(10))}getDelta(){return Number((oW()-this._deltaTs).toPrecision(10))}set priority($){this.level=$}get priority(){return this.level}getPriority(){return this.level}enable($=!0){return this._storage.setConfiguration({enabled:$}),this}setLevel($){return this._storage.setConfiguration({level:$}),this}get($){return this._storage.config[$]}set($,Q){this._storage.setConfiguration({[$]:Q})}settings(){if(console.table)console.table(this._storage.config);else console.log(this._storage.config)}assert($,Q){if(!$)throw Error(Q||"Assertion failed")}warn($){return this._getLogFunction(0,$,tN.warn,arguments,xz0)}error($){return this._getLogFunction(0,$,tN.error,arguments)}deprecated($,Q){return this.warn(`\`${$}\` is deprecated and will be removed in a later version. Use \`${Q}\` instead`)}removed($,Q){return this.error(`\`${$}\` has been removed. Use \`${Q}\` instead`)}probe($,Q){return this._getLogFunction($,Q,tN.log,arguments,{time:!0,once:!0})}log($,Q){return this._getLogFunction($,Q,tN.debug,arguments)}info($,Q){return this._getLogFunction($,Q,console.info,arguments)}once($,Q){return this._getLogFunction($,Q,tN.debug||tN.info,arguments,xz0)}table($,Q,J){if(Q)return this._getLogFunction($,Q,console.table||eN,J&&[J],{tag:nZ1(Q)});return eN}time($,Q){return this._getLogFunction($,Q,console.time?console.time:console.info)}timeEnd($,Q){return this._getLogFunction($,Q,console.timeEnd?console.timeEnd:console.info)}timeStamp($,Q){return this._getLogFunction($,Q,console.timeStamp||eN)}group($,Q,J={collapsed:!1}){let K=cz0({logLevel:$,message:Q,opts:J}),{collapsed:Y}=J;return K.method=(Y?console.groupCollapsed:console.group)||console.info,this._getLogFunction(K)}groupCollapsed($,Q,J={}){return this.group($,Q,Object.assign({},J,{collapsed:!0}))}groupEnd($){return this._getLogFunction($,"",console.groupEnd||eN)}withGroup($,Q,J){this.group($,Q)();try{J()}finally{this.groupEnd($)()}}trace(){if(console.trace)console.trace()}_shouldLog($){return this.isEnabled()&&this.getLevel()>=uz0($)}_getLogFunction($,Q,J,K,Y){if(this._shouldLog($)){Y=cz0({logLevel:$,message:Q,args:K,opts:Y}),J=J||Y.method,AG(J),Y.total=this.getTotal(),Y.delta=this.getDelta(),this._deltaTs=oW();let Z=Y.tag||Y.message;if(Y.once&&Z)if(!yz0[Z])yz0[Z]=oW();else return eN;return Q=dZ1(this.id,Y.message,Y),J.bind(console,Q,...Y.args)}return eN}}function uz0($){if(!$)return 0;let Q;switch(typeof $){case"number":Q=$;break;case"object":Q=$.logLevel||$.priority||0;break;default:return 0}return AG(Number.isFinite(Q)&&Q>=0),Q}function cz0($){let{logLevel:Q,message:J}=$;$.logLevel=uz0(Q);let K=$.args?Array.from($.args):[];while(K.length&&K.shift()!==J);switch(typeof Q){case"string":case"function":if(J!==void 0)K.unshift(J);$.message=Q;break;case"object":Object.assign($,Q);break;default:}if(typeof $.message==="function")$.message=$.message();let Y=typeof $.message;return AG(Y==="string"||Y==="object"),Object.assign($,{args:K},$.opts)}function dZ1($,Q,J){if(typeof Q==="string"){let K=J.time?_z0(Sz0(J.total)):"";Q=J.time?`${$}: ${K}  ${Q}`:`${$}: ${Q}`,Q=Iz0(Q,J.color,J.background)}return Q}function nZ1($){for(let Q in $)for(let J in $[Q])return J||"untitled";return"empty"}var tN,pZ1,yz0,xz0;var Op=h(()=>{KX();Mz0();gz0();tN={debug:c4()?console.debug||console.log:console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},pZ1={enabled:!0,level:0};yz0={},xz0={once:!0};B3.VERSION=Rp});var mz0=h(()=>{globalThis.probe={}});var hn1;var VG=h(()=>{Op();Op();mz0();hn1=new B3({id:"@probe.gl/log"})});function rZ1(){let $=new B3({id:"loaders.gl"});return globalThis.loaders=globalThis.loaders||{},globalThis.loaders.log=$,globalThis.loaders.version=lZ1,globalThis.probe=globalThis.probe||{},globalThis.probe.loaders=$,$}var wp="4.3.3",lZ1,Tp;var pz0=h(()=>{VG();lZ1=wp[0]>="0"&&wp[0]<="9"?`v${wp}`:"";Tp=rZ1()});function Dp($,Q){return dz0($||{},Q)}function dz0($,Q,J=0){if(J>3)return Q;let K={...$};for(let[Y,Z]of Object.entries(Q))if(Z&&typeof Z==="object"&&!Array.isArray(Z))K[Y]=dz0(K[Y]||{},Q[Y],J+1);else K[Y]=Q[Y];return K}function iZ1(){if(!globalThis._loadersgl_?.version)globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.3.3";return globalThis._loadersgl_.version}var nz0="latest",Cp;var Pp=h(()=>{Cp=iZ1()});function u4($,Q){if(!$)throw Error(Q||"loaders.gl assertion failed.")}var JK,yn1,xn1,cn1,un1,z$,rz0,lz0,mn1;var RG=h(()=>{JK={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document},yn1=JK.self||JK.window||JK.global||{},xn1=JK.window||JK.self||JK.global||{},cn1=JK.global||JK.self||JK.window||{},un1=JK.document||{},z$=typeof process!=="object"||String(process)!=="[object process]"||!0,rz0=typeof window<"u"&&typeof window.orientation<"u",lz0=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),mn1=lz0&&parseFloat(lz0[1])||0});class _j{name;workerThread;isRunning=!0;result;_resolve=()=>{};_reject=()=>{};constructor($,Q){this.name=$,this.workerThread=Q,this.result=new Promise((J,K)=>{this._resolve=J,this._reject=K})}postMessage($,Q){this.workerThread.postMessage({source:"loaders.gl",type:$,payload:Q})}done($){u4(this.isRunning),this.isRunning=!1,this._resolve($)}error($){u4(this.isRunning),this.isRunning=!1,this._reject($)}}var iz0=()=>{};class GG{terminate(){}}function sz0($){u4($.source&&!$.url||!$.source&&$.url);let Q=kp.get($.source||$.url);if(!Q){if($.url)Q=sZ1($.url),kp.set($.url,Q);if($.source)Q=oz0($.source),kp.set($.source,Q)}return u4(Q),Q}function sZ1($){if(!$.startsWith("http"))return $;let Q=oZ1($);return oz0(Q)}function oz0($){let Q=new Blob([$],{type:"application/javascript"});return URL.createObjectURL(Q)}function oZ1($){return`try {
  importScripts('${$}');
} catch (error) {
  console.error(error);
  throw error;
}`}var kp;var az0=h(()=>{kp=new Map});function jp($,Q=!0,J){let K=J||new Set;if(!$);else if(tz0($))K.add($);else if(tz0($.buffer))K.add($.buffer);else if(ArrayBuffer.isView($));else if(Q&&typeof $==="object")for(let Y in $)jp($[Y],Q,K);return J===void 0?Array.from(K):[]}function tz0($){if(!$)return!1;if($ instanceof ArrayBuffer)return!0;if(typeof MessagePort<"u"&&$ instanceof MessagePort)return!0;if(typeof ImageBitmap<"u"&&$ instanceof ImageBitmap)return!0;if(typeof OffscreenCanvas<"u"&&$ instanceof OffscreenCanvas)return!0;return!1}class aW{name;source;url;terminated=!1;worker;onMessage;onError;_loadableURL="";static isSupported(){return typeof Worker<"u"&&z$||typeof GG<"u"&&!z$}constructor($){let{name:Q,source:J,url:K}=$;u4(J||K),this.name=Q,this.source=J,this.url=K,this.onMessage=Ep,this.onError=(Y)=>console.log(Y),this.worker=z$?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=Ep,this.onError=Ep,this.worker.terminate(),this.terminated=!0}get isRunning(){return Boolean(this.onMessage)}postMessage($,Q){Q=Q||jp($),this.worker.postMessage($,Q)}_getErrorFromErrorEvent($){let Q="Failed to load ";if(Q+=`worker ${this.name} from ${this.url}. `,$.message)Q+=`${$.message} in `;if($.lineno)Q+=`:${$.lineno}:${$.colno}`;return Error(Q)}_createBrowserWorker(){this._loadableURL=sz0({source:this.source,url:this.url});let $=new Worker(this._loadableURL,{name:this.name});return $.onmessage=(Q)=>{if(!Q.data)this.onError(Error("No data received"));else this.onMessage(Q.data)},$.onerror=(Q)=>{this.onError(this._getErrorFromErrorEvent(Q)),this.terminated=!0},$.onmessageerror=(Q)=>console.error(Q),$}_createNodeWorker(){let $;if(this.url){let J=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;$=new GG(J,{eval:!1})}else if(this.source)$=new GG(this.source,{eval:!0});else throw Error("no worker");return $.on("message",(Q)=>{this.onMessage(Q)}),$.on("error",(Q)=>{this.onError(Q)}),$.on("exit",(Q)=>{}),$}}var Ep=()=>{};var Lp=h(()=>{RG();az0()});class fj{name="unnamed";source;url;maxConcurrency=1;maxMobileConcurrency=1;onDebug=()=>{};reuseWorkers=!0;props={};jobQueue=[];idleQueue=[];count=0;isDestroyed=!1;static isSupported(){return aW.isSupported()}constructor($){this.source=$.source,this.url=$.url,this.setProps($)}destroy(){this.idleQueue.forEach(($)=>$.destroy()),this.isDestroyed=!0}setProps($){if(this.props={...this.props,...$},$.name!==void 0)this.name=$.name;if($.maxConcurrency!==void 0)this.maxConcurrency=$.maxConcurrency;if($.maxMobileConcurrency!==void 0)this.maxMobileConcurrency=$.maxMobileConcurrency;if($.reuseWorkers!==void 0)this.reuseWorkers=$.reuseWorkers;if($.onDebug!==void 0)this.onDebug=$.onDebug}async startJob($,Q=(K,Y,Z)=>K.done(Z),J=(K,Y)=>K.error(Y)){let K=new Promise((Y)=>{return this.jobQueue.push({name:$,onMessage:Q,onError:J,onStart:Y}),this});return this._startQueuedJob(),await K}async _startQueuedJob(){if(!this.jobQueue.length)return;let $=this._getAvailableWorker();if(!$)return;let Q=this.jobQueue.shift();if(Q){this.onDebug({message:"Starting job",name:Q.name,workerThread:$,backlog:this.jobQueue.length});let J=new _j(Q.name,$);$.onMessage=(K)=>Q.onMessage(J,K.type,K.payload),$.onError=(K)=>Q.onError(J,K),Q.onStart(J);try{await J.result}catch(K){console.error(`Worker exception: ${K}`)}finally{this.returnWorkerToQueue($)}}}returnWorkerToQueue($){if(!z$||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency())$.destroy(),this.count--;else this.idleQueue.push($);if(!this.isDestroyed)this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;let $=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new aW({name:$,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return rz0?this.maxMobileConcurrency:this.maxConcurrency}}var ez0=h(()=>{RG();Lp();iz0()});class vQ{props;workerPools=new Map;static _workerFarm;static isSupported(){return aW.isSupported()}static getWorkerFarm($={}){return vQ._workerFarm=vQ._workerFarm||new vQ({}),vQ._workerFarm.setProps($),vQ._workerFarm}constructor($){this.props={...aZ1},this.setProps($),this.workerPools=new Map}destroy(){for(let $ of this.workerPools.values())$.destroy();this.workerPools=new Map}setProps($){this.props={...this.props,...$};for(let Q of this.workerPools.values())Q.setProps(this._getWorkerPoolProps())}getWorkerPool($){let{name:Q,source:J,url:K}=$,Y=this.workerPools.get(Q);if(!Y)Y=new fj({name:Q,source:J,url:K}),Y.setProps(this._getWorkerPoolProps()),this.workerPools.set(Q,Y);return Y}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}var aZ1;var $A0=h(()=>{ez0();Lp();aZ1={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}}});function hp($,Q={}){let J=Q[$.id]||{},K=z$?`${$.id}-worker.js`:`${$.id}-worker-node.js`,Y=J.workerUrl;if(!Y&&$.id==="compression")Y=Q.workerUrl;if(Q._workerType==="test")if(z$)Y=`modules/${$.module}/dist/${K}`;else Y=`modules/${$.module}/src/workers/${$.id}-worker-node.ts`;if(!Y){let Z=$.version;if(Z==="latest")Z=nz0;let q=Z?`@${Z}`:"";Y=`https://unpkg.com/@loaders.gl/${$.module}${q}/dist/${K}`}return u4(Y),Y}var QA0=h(()=>{RG();Pp()});function vp($,Q=Cp){u4($,"no worker provided");let J=$.version;if(!Q||!J)return!1;return!0}var JA0=h(()=>{Pp()});var Sp=h(()=>{RG();$A0();QA0();JA0()});function _p($,Q){if(!vQ.isSupported())return!1;if(!z$&&!Q?._nodeWorkers)return!1;return $.worker&&Q?.worker}async function fp($,Q,J,K,Y){let Z=$.id,q=hp($,J),W=vQ.getWorkerFarm(J).getWorkerPool({name:Z,url:q});J=JSON.parse(JSON.stringify(J)),K=JSON.parse(JSON.stringify(K||{}));let F=await W.startJob("process-on-worker",tZ1.bind(null,Y));return F.postMessage("process",{input:Q,options:J,context:K}),await(await F.result).result}async function tZ1($,Q,J,K){switch(J){case"done":Q.done(K);break;case"error":Q.error(Error(K.error));break;case"process":let{id:Y,input:Z,options:q}=K;try{let X=await $(Z,q);Q.postMessage("done",{id:Y,result:X})}catch(X){let W=X instanceof Error?X.message:"unknown error";Q.postMessage("error",{id:Y,error:W})}break;default:console.warn(`parse-with-worker unknown message ${J}`)}}var KA0=h(()=>{Sp()});function Ip($,Q,J){if(J=J||$.byteLength,$.byteLength<J||Q.byteLength<J)return!1;let K=new Uint8Array($),Y=new Uint8Array(Q);for(let Z=0;Z<K.length;++Z)if(K[Z]!==Y[Z])return!1;return!0}function Mp(...$){return YA0($)}function YA0($){let Q=$.map((Z)=>Z instanceof ArrayBuffer?new Uint8Array(Z):Z),J=Q.reduce((Z,q)=>Z+q.byteLength,0),K=new Uint8Array(J),Y=0;for(let Z of Q)K.set(Z,Y),Y+=Z.byteLength;return K.buffer}async function bp($){let Q=[];for await(let J of $)Q.push(J);return Mp(...Q)}var ZA0=()=>{};function OG(){let $;if(typeof window<"u"&&window.performance)$=window.performance.now();else if(typeof process<"u"&&process.hrtime){let Q=process.hrtime();$=Q[0]*1000+Q[1]/1e6}else $=Date.now();return $}class $B{constructor($,Q){this.sampleSize=1,this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this.name=$,this.type=Q,this.reset()}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}setSampleSize($){return this.sampleSize=$,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount($){return this._count+=$,this._samples++,this._checkSampling(),this}subtractCount($){return this._count-=$,this._samples++,this._checkSampling(),this}addTime($){return this._time+=$,this.lastTiming=$,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=OG(),this._timerPending=!0,this}timeEnd(){if(!this._timerPending)return this;return this.addTime(OG()-this._startTime),this._timerPending=!1,this._checkSampling(),this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1000):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1000):0}_checkSampling(){if(this._samples===this.sampleSize)this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0}}var gp=()=>{};class SQ{constructor($){this.stats={},this.id=$.id,this.stats={},this._initializeStats($.stats),Object.seal(this)}get($,Q="count"){return this._getOrCreate({name:$,type:Q})}get size(){return Object.keys(this.stats).length}reset(){for(let $ of Object.values(this.stats))$.reset();return this}forEach($){for(let Q of Object.values(this.stats))$(Q)}getTable(){let $={};return this.forEach((Q)=>{$[Q.name]={time:Q.time||0,count:Q.count||0,average:Q.getAverageTime()||0,hz:Q.getHz()||0}}),$}_initializeStats($=[]){$.forEach((Q)=>this._getOrCreate(Q))}_getOrCreate($){let{name:Q,type:J}=$,K=this.stats[Q];if(!K){if($ instanceof $B)K=$;else K=new $B(Q,J);this.stats[Q]=K}return K}}var qA0=h(()=>{gp()});var wG=h(()=>{qA0();gp()});function yp($){for(let Q in XA0)if($.startsWith(Q)){let J=XA0[Q];$=$.replace(Q,J)}if(!$.startsWith("http://")&&!$.startsWith("https://"))$=`${eZ1}${$}`;return $}var eZ1="",XA0;var WA0=h(()=>{XA0={}});function FA0($){return $}function UA0($){return $&&typeof $==="object"&&$.isBuffer}function Ij($){if(UA0($))return FA0($);if($ instanceof ArrayBuffer)return $;if(ArrayBuffer.isView($)){if($.byteOffset===0&&$.byteLength===$.buffer.byteLength)return $.buffer;return $.buffer.slice($.byteOffset,$.byteOffset+$.byteLength)}if(typeof $==="string"){let Q=$;return new TextEncoder().encode(Q).buffer}if($&&typeof $==="object"&&$._toArrayBuffer)return $._toArrayBuffer();throw Error("toArrayBuffer")}var HA0=()=>{};function NA0(){if(typeof process<"u"&&typeof process.cwd<"u")return process.cwd();let $=window.location?.pathname;return $?.slice(0,$.lastIndexOf("/")+1)||""}var tW={};OQ(tW,{resolve:()=>Yq1,join:()=>Kq1,filename:()=>Qq1,dirname:()=>Jq1});function Qq1($){let Q=$?$.lastIndexOf("/"):-1;return Q>=0?$.substr(Q+1):""}function Jq1($){let Q=$?$.lastIndexOf("/"):-1;return Q>=0?$.substr(0,Q):""}function Kq1(...$){return $=$.map((J,K)=>{if(K)J=J.replace(new RegExp("^/"),"");if(K!==$.length-1)J=J.replace(new RegExp("/$"),"");return J}),$.join("/")}function Yq1(...$){let Q=[];for(let Z=0;Z<$.length;Z++)Q[Z]=$[Z];let J="",K=!1,Y;for(let Z=Q.length-1;Z>=-1&&!K;Z--){let q;if(Z>=0)q=Q[Z];else{if(Y===void 0)Y=NA0();q=Y}if(q.length===0)continue;J=`${q}/${J}`,K=q.charCodeAt(0)===TG}if(J=Zq1(J,!K),K)return`/${J}`;else if(J.length>0)return J;return"."}function Zq1($,Q){let J="",K=-1,Y=0,Z,q=!1;for(let X=0;X<=$.length;++X){if(X<$.length)Z=$.charCodeAt(X);else if(Z===TG)break;else Z=TG;if(Z===TG){if(K===X-1||Y===1);else if(K!==X-1&&Y===2){if(J.length<2||!q||J.charCodeAt(J.length-1)!==xp||J.charCodeAt(J.length-2)!==xp){if(J.length>2){let W=J.length-1,F=W;for(;F>=0;--F)if(J.charCodeAt(F)===TG)break;if(F!==W){J=F===-1?"":J.slice(0,F),K=X,Y=0,q=!1;continue}}else if(J.length===2||J.length===1){J="",K=X,Y=0,q=!1;continue}}if(Q){if(J.length>0)J+="/..";else J="..";q=!0}}else{let W=$.slice(K+1,X);if(J.length>0)J+=`/${W}`;else J=W;q=!1}K=X,Y=0}else if(Z===xp&&Y!==-1)++Y;else Y=-1}return J}var TG=47,xp=46;var BA0=()=>{};var A$=h(()=>{hz0();pz0();KA0();ZA0();WA0();HA0();BA0()});var qq1=($)=>typeof $==="boolean",DG=($)=>typeof $==="function",eW=($)=>$!==null&&typeof $==="object",cp=($)=>eW($)&&$.constructor==={}.constructor,zA0=($)=>Boolean($)&&typeof $[Symbol.iterator]==="function",AA0=($)=>$&&typeof $[Symbol.asyncIterator]==="function",V$=($)=>typeof Response<"u"&&$ instanceof Response||$&&$.arrayBuffer&&$.text&&$.json,R$=($)=>typeof Blob<"u"&&$ instanceof Blob,VA0=($)=>$&&typeof $==="object"&&$.isBuffer,Xq1=($)=>typeof ReadableStream<"u"&&$ instanceof ReadableStream||eW($)&&DG($.tee)&&DG($.cancel)&&DG($.getReader),Wq1=($)=>eW($)&&DG($.read)&&DG($.pipe)&&qq1($.readable),Mj=($)=>Xq1($)||Wq1($);var up;var RA0=h(()=>{up=class up extends Error{constructor($,Q){super($);this.reason=Q.reason,this.url=Q.url,this.response=Q.response}reason;url;response}});function mp($,Q){if($.toLowerCase()===Q.toLowerCase())return!0;return!1}function GA0($){let Q=Uq1.exec($);if(Q)return Q[1];return $}function pp($){let Q=Fq1.exec($);if(Q)return Q[1];return""}var Fq1,Uq1;var dp=h(()=>{Fq1=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,Uq1=/^([-\w.]+\/[-\w.+]+)/});function wA0($){let Q=$.match(OA0);return Q&&Q[0]}function QB($){return $.replace(OA0,"")}function TA0($){if($.length<50)return $;let Q=$.slice($.length-15);return`${$.substr(0,32)}...${Q}`}var OA0;var CG=h(()=>{OA0=/\?.*/});function $F($){if(V$($))return $.url;if(R$($))return $.name||"";if(typeof $==="string")return $;return""}function PG($){if(V$($)){let Q=$,J=Q.headers.get("content-type")||"",K=QB(Q.url);return GA0(J)||pp(K)}if(R$($))return $.type||"";if(typeof $==="string")return pp($);return""}function DA0($){if(V$($))return $.headers["content-length"]||-1;if(R$($))return $.size;if(typeof $==="string")return $.length;if($ instanceof ArrayBuffer)return $.byteLength;if(ArrayBuffer.isView($))return $.byteLength;return-1}var bj=h(()=>{dp();CG()});async function gj($){if(V$($))return $;let Q={},J=DA0($);if(J>=0)Q["content-length"]=String(J);let K=$F($),Y=PG($);if(Y)Q["content-type"]=Y;let Z=await Nq1($);if(Z)Q["x-first-bytes"]=Z;if(typeof $==="string")$=new TextEncoder().encode($);let q=new Response($,{headers:Q});return Object.defineProperty(q,"url",{value:K}),q}async function CA0($){if(!$.ok)throw await Hq1($)}async function Hq1($){let Q=TA0($.url),J=`Failed to fetch resource (${$.status}) ${$.statusText}: ${Q}`;J=J.length>100?`${J.slice(0,100)}...`:J;let K={reason:$.statusText,url:$.url,response:$};try{let Y=$.headers.get("Content-Type");K.reason=!$.bodyUsed&&Y?.includes("application/json")?await $.json():await $.text()}catch(Y){}return new up(J,K)}async function Nq1($){if(typeof $==="string")return`data:,${$.slice(0,5)}`;if($ instanceof Blob){let J=$.slice(0,5);return await new Promise((K)=>{let Y=new FileReader;Y.onload=(Z)=>K(Z?.target?.result),Y.readAsDataURL(J)})}if($ instanceof ArrayBuffer){let J=$.slice(0,5);return`data:base64,${Bq1(J)}`}return null}function Bq1($){let Q="",J=new Uint8Array($);for(let K=0;K<J.byteLength;K++)Q+=String.fromCharCode(J[K]);return btoa(Q)}var np=h(()=>{RA0();bj();CG()});function zq1($){return!Aq1($)&&!Vq1($)}function Aq1($){return $.startsWith("http:")||$.startsWith("https:")}function Vq1($){return $.startsWith("data:")}async function lp($,Q){if(typeof $==="string"){let J=yp($);if(zq1(J)){if(globalThis.loaders?.fetchNode)return globalThis.loaders?.fetchNode(J,Q)}return await fetch(J,Q)}return await gj($)}var PA0=h(()=>{A$();np()});class ip{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}class sp{console;constructor(){this.console=console}log(...$){return this.console.log.bind(this.console,...$)}info(...$){return this.console.info.bind(this.console,...$)}warn(...$){return this.console.warn.bind(this.console,...$)}error(...$){return this.console.error.bind(this.console,...$)}}var rp;var op=h(()=>{VG();rp=new B3({id:"loaders.gl"})});var ap,kA0;var jA0=h(()=>{A$();op();ap={fetch:null,mimeType:void 0,nothrow:!1,log:new sp,useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:sW,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},kA0={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"}});function tp(){globalThis.loaders=globalThis.loaders||{};let{loaders:$}=globalThis;if(!$._state)$._state={};return $._state}function ep(){let $=tp();return $.globalOptions=$.globalOptions||{...ap},$.globalOptions}function hA0($,Q,J,K){return J=J||[],J=Array.isArray(J)?J:[J],Rq1($,J),Oq1(Q,$,K)}function Rq1($,Q){EA0($,null,ap,kA0,Q);for(let J of Q){let K=$&&$[J.id]||{},Y=J.options&&J.options[J.id]||{},Z=J.deprecatedOptions&&J.deprecatedOptions[J.id]||{};EA0(K,J.id,Y,Z,Q)}}function EA0($,Q,J,K,Y){let Z=Q||"Top level",q=Q?`${Q}.`:"";for(let X in $){let W=!Q&&eW($[X]),F=X==="baseUri"&&!Q,H=X==="workerUrl"&&Q;if(!(X in J)&&!F&&!H){if(X in K)rp.warn(`${Z} loader option '${q}${X}' no longer supported, use '${K[X]}'`)();else if(!W){let B=Gq1(X,Y);rp.warn(`${Z} loader option '${q}${X}' not recognized. ${B}`)()}}}}function Gq1($,Q){let J=$.toLowerCase(),K="";for(let Y of Q)for(let Z in Y.options){if($===Z)return`Did you mean '${Y.id}.${Z}'?`;let q=Z.toLowerCase();if(J.startsWith(q)||q.startsWith(J))K=K||`Did you mean '${Y.id}.${Z}'?`}return K}function Oq1($,Q,J){let Y={...$.options||{}};if(wq1(Y,J),Y.log===null)Y.log=new ip;return LA0(Y,ep()),LA0(Y,Q),Y}function LA0($,Q){for(let J in Q)if(J in Q){let K=Q[J];if(cp(K)&&cp($[J]))$[J]={...$[J],...Q[J]};else $[J]=Q[J]}}function wq1($,Q){if(Q&&!("baseUri"in $))$.baseUri=Q}var yj=h(()=>{op();jA0()});function kG($){if(!$)return!1;if(Array.isArray($))$=$[0];return Array.isArray($?.extensions)}function jG($){JX($,"null loader"),JX(kG($),"invalid loader");let Q;if(Array.isArray($))Q=$[1],$=$[0],$={...$,options:{...$.options,...Q}};if($?.parseTextSync||$?.parseText)$.text=!0;if(!$.text)$.binary=!0;return $}var EG=h(()=>{A$()});function $d($){let Q=vA0();$=Array.isArray($)?$:[$];for(let J of $){let K=jG(J);if(!Q.find((Y)=>K===Y))Q.unshift(K)}}function SA0(){return vA0()}var vA0=()=>{let $=tp();return $.loaderRegistry=$.loaderRegistry||[],$.loaderRegistry};var Qd=h(()=>{EG();yj()});async function IA0($,Q=[],J,K){if(!MA0($))return null;let Y=_A0($,Q,{...J,nothrow:!0},K);if(Y)return Y;if(R$($))$=await $.slice(0,10).arrayBuffer(),Y=_A0($,Q,J,K);if(!Y&&!J?.nothrow)throw Error(bA0($));return Y}function _A0($,Q=[],J,K){if(!MA0($))return null;if(Q&&!Array.isArray(Q))return jG(Q);let Y=[];if(Q)Y=Y.concat(Q);if(!J?.ignoreRegisteredLoaders)Y.push(...SA0());Cq1(Y);let Z=Dq1($,Y,J,K);if(!Z&&!J?.nothrow)throw Error(bA0($));return Z}function Dq1($,Q,J,K){let Y=$F($),Z=PG($),q=QB(Y)||K?.url,X=null,W="";if(J?.mimeType)X=Jd(Q,J?.mimeType),W=`match forced by supplied MIME type ${J?.mimeType}`;if(X=X||Pq1(Q,q),W=W||(X?`matched url ${q}`:""),X=X||Jd(Q,Z),W=W||(X?`matched MIME type ${Z}`:""),X=X||jq1(Q,$),W=W||(X?`matched initial data ${gA0($)}`:""),J?.fallbackMimeType)X=X||Jd(Q,J?.fallbackMimeType),W=W||(X?`matched fallback MIME type ${Z}`:"");if(W)Tp.log(1,`selectLoader selected ${X?.name}: ${W}.`);return X}function MA0($){if($ instanceof Response){if($.status===204)return!1}return!0}function bA0($){let Q=$F($),J=PG($),K="No valid loader found (";K+=Q?`${tW.filename(Q)}, `:"no url provided, ",K+=`MIME type: ${J?`"${J}"`:"not provided"}, `;let Y=$?gA0($):"";return K+=Y?` first bytes: "${Y}"`:"first bytes: not available",K+=")",K}function Cq1($){for(let Q of $)jG(Q)}function Pq1($,Q){let J=Q&&Tq1.exec(Q),K=J&&J[1];return K?kq1($,K):null}function kq1($,Q){Q=Q.toLowerCase();for(let J of $)for(let K of J.extensions)if(K.toLowerCase()===Q)return J;return null}function Jd($,Q){for(let J of $){if(J.mimeTypes?.some((K)=>mp(Q,K)))return J;if(mp(Q,`application/x.${J.id}`))return J}return null}function jq1($,Q){if(!Q)return null;for(let J of $)if(typeof Q==="string"){if(Eq1(Q,J))return J}else if(ArrayBuffer.isView(Q)){if(fA0(Q.buffer,Q.byteOffset,J))return J}else if(Q instanceof ArrayBuffer){if(fA0(Q,0,J))return J}return null}function Eq1($,Q){if(Q.testText)return Q.testText($);return(Array.isArray(Q.tests)?Q.tests:[Q.tests]).some((K)=>$.startsWith(K))}function fA0($,Q,J){return(Array.isArray(J.tests)?J.tests:[J.tests]).some((Y)=>Lq1($,Q,J,Y))}function Lq1($,Q,J,K){if(K instanceof ArrayBuffer)return Ip(K,$,K.byteLength);switch(typeof K){case"function":return K($);case"string":let Y=Kd($,Q,K.length);return K===Y;default:return!1}}function gA0($,Q=5){if(typeof $==="string")return $.slice(0,Q);else if(ArrayBuffer.isView($))return Kd($.buffer,$.byteOffset,Q);else if($ instanceof ArrayBuffer)return Kd($,0,Q);return""}function Kd($,Q,J){if($.byteLength<Q+J)return"";let K=new DataView($),Y="";for(let Z=0;Z<J;Z++)Y+=String.fromCharCode(K.getUint8(Q+Z));return Y}var Tq1;var yA0=h(()=>{A$();EG();bj();dp();Qd();CG();Tq1=/\.([^.]+)$/});function*xA0($,Q){let J=Q?.chunkSize||262144,K=0,Y=new TextEncoder;while(K<$.length){let Z=Math.min($.length-K,J),q=$.slice(K,K+Z);K+=Z,yield Y.encode(q)}}function*cA0($,Q={}){let{chunkSize:J=262144}=Q,K=0;while(K<$.byteLength){let Y=Math.min($.byteLength-K,J),Z=new ArrayBuffer(Y),q=new Uint8Array($,K,Y);new Uint8Array(Z).set(q),K+=Y,yield Z}}async function*uA0($,Q){let J=Q?.chunkSize||1048576,K=0;while(K<$.size){let Y=K+J,Z=await $.slice(K,Y).arrayBuffer();K=Y,yield Z}}function Yd($,Q){return sW?hq1($,Q):vq1($,Q)}async function*hq1($,Q){let J=$.getReader(),K;try{while(!0){let Y=K||J.read();if(Q?._streamReadAhead)K=J.read();let{done:Z,value:q}=await Y;if(Z)return;yield Ij(q)}}catch(Y){J.releaseLock()}}async function*vq1($,Q){for await(let J of $)yield Ij(J)}var mA0=h(()=>{A$()});function pA0($,Q){if(typeof $==="string")return xA0($,Q);if($ instanceof ArrayBuffer)return cA0($,Q);if(R$($))return uA0($,Q);if(Mj($))return Yd($,Q);if(V$($))return Yd($.body,Q);throw Error("makeIterator")}var dA0=h(()=>{mA0()});function Sq1($,Q,J){if(Q.text&&typeof $==="string")return $;if(VA0($))$=$.buffer;if($ instanceof ArrayBuffer){let K=$;if(Q.text&&!Q.binary)return new TextDecoder("utf8").decode(K);return K}if(ArrayBuffer.isView($)){if(Q.text&&!Q.binary)return new TextDecoder("utf8").decode($);let K=$.buffer,Y=$.byteLength||$.length;if($.byteOffset!==0||Y!==K.byteLength)K=K.slice($.byteOffset,$.byteOffset+Y);return K}throw Error(nA0)}async function lA0($,Q,J){let K=$ instanceof ArrayBuffer||ArrayBuffer.isView($);if(typeof $==="string"||K)return Sq1($,Q,J);if(R$($))$=await gj($);if(V$($)){let Y=$;return await CA0(Y),Q.binary?await Y.arrayBuffer():await Y.text()}if(Mj($))$=pA0($,J);if(zA0($)||AA0($))return bp($);throw Error(nA0)}var nA0="Cannot convert supplied data type";var rA0=h(()=>{A$();dA0();np()});function xj($,Q){let J=ep(),K=$||J;if(typeof K.fetch==="function")return K.fetch;if(eW(K.fetch))return(Y)=>lp(Y,K.fetch);if(Q?.fetch)return Q?.fetch;return lp}var Zd=h(()=>{PA0();yj()});function iA0($,Q,J){if(J)return J;let K={fetch:xj(Q,$),...$};if(K.url){let Y=QB(K.url);K.baseUrl=Y,K.queryString=wA0(K.url),K.filename=tW.filename(Y),K.baseUrl=tW.dirname(Y)}if(!Array.isArray(K.loaders))K.loaders=null;return K}function sA0($,Q){if($&&!Array.isArray($))return $;let J;if($)J=Array.isArray($)?$:[$];if(Q&&Q.loaders){let K=Array.isArray(Q.loaders)?Q.loaders:[Q.loaders];J=J?[...J,...K]:K}return J&&J.length?J:void 0}var oA0=h(()=>{Zd();CG();A$()});async function LG($,Q,J,K){if(Q&&!Array.isArray(Q)&&!kG(Q))K=void 0,J=Q,Q=void 0;$=await $,J=J||{};let Y=$F($),q=sA0(Q,K),X=await IA0($,q,J);if(!X)return null;return J=hA0(J,X,q,Y),K=iA0({url:Y,_parse:LG,loaders:q},J,K||null),await _q1(X,$,J,K)}async function _q1($,Q,J,K){if(vp($),J=Dp($.options,J),V$(Q)){let Z=Q,{ok:q,redirected:X,status:W,statusText:F,type:H,url:B}=Z,z=Object.fromEntries(Z.headers.entries());K.response={headers:z,ok:q,redirected:X,status:W,statusText:F,type:H,url:B}}Q=await lA0(Q,$,J);let Y=$;if(Y.parseTextSync&&typeof Q==="string")return Y.parseTextSync(Q,J,K);if(_p($,J))return await fp($,Q,J,K,LG);if(Y.parseText&&typeof Q==="string")return await Y.parseText(Q,J,K);if(Y.parse)return await Y.parse(Q,J,K);throw u4(!Y.parseSync),Error(`${$.id} loader - no parser found and worker is disabled`)}var aA0=h(()=>{A$();Sp();EG();yj();rA0();oA0();bj();yA0()});async function YX($,Q,J,K){let Y,Z;if(!Array.isArray(Q)&&!kG(Q))Y=[],Z=Q,K=void 0;else Y=Q,Z=J;let q=xj(Z),X=$;if(typeof $==="string")X=await q($);if(R$($))X=await q($);return Array.isArray(Y)?await LG(X,Y,Z):await LG(X,Y,Z)}var tA0=h(()=>{EG();Zd();aA0()});var hG=h(()=>{Qd();tA0()});var eA0="4.3.3";function $V0($){switch($){case"auto":return Xd||qd||Wd;case"imagebitmap":return Xd;case"image":return qd;case"data":return Wd;default:throw Error(`@loaders.gl/images: image ${$} not supported in this environment`)}}function QV0(){if(Xd)return"imagebitmap";if(qd)return"image";if(Wd)return"data";throw Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}var fq1,qd,Xd,Iq1,Wd;var JV0=h(()=>{A$();fq1=globalThis.loaders?.parseImageNode,qd=typeof Image<"u",Xd=typeof ImageBitmap<"u",Iq1=Boolean(fq1),Wd=sW?!0:Iq1});function Mq1($){let Q=bq1($);if(!Q)throw Error("Not an image");return Q}function KV0($){switch(Mq1($)){case"data":return $;case"image":case"imagebitmap":let Q=document.createElement("canvas"),J=Q.getContext("2d");if(!J)throw Error("getImageData");return Q.width=$.width,Q.height=$.height,J.drawImage($,0,0),J.getImageData(0,0,$.width,$.height);default:throw Error("getImageData")}}function bq1($){if(typeof ImageBitmap<"u"&&$ instanceof ImageBitmap)return"imagebitmap";if(typeof Image<"u"&&$ instanceof Image)return"image";if($&&typeof $==="object"&&$.data&&$.width&&$.height)return"data";return null}function cj($){return $&&(gq1.test($)||yq1.test($))}function YV0($,Q){if(cj(Q)){let K=new TextDecoder().decode($);try{if(typeof unescape==="function"&&typeof encodeURIComponent==="function")K=unescape(encodeURIComponent(K))}catch(Z){throw Error(Z.message)}return`data:image/svg+xml;base64,${btoa(K)}`}return Fd($,Q)}function Fd($,Q){if(cj(Q))throw Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array($)])}var gq1,yq1;var Ud=h(()=>{gq1=/^data:image\/svg\+xml/,yq1=/\.svg((\?|#).*)?$/});async function uj($,Q,J){let K=YV0($,J),Y=self.URL||self.webkitURL,Z=typeof K!=="string"&&Y.createObjectURL(K);try{return await xq1(Z||K,Q)}finally{if(Z)Y.revokeObjectURL(Z)}}async function xq1($,Q){let J=new Image;if(J.src=$,Q.image&&Q.image.decode&&J.decode)return await J.decode(),J;return await new Promise((K,Y)=>{try{J.onload=()=>K(J),J.onerror=(Z)=>{let q=Z instanceof Error?Z.message:"error";Y(Error(q))}}catch(Z){Y(Z)}})}var Hd=h(()=>{Ud()});async function qV0($,Q,J){let K;if(cj(J))K=await uj($,Q,J);else K=Fd($,J);let Y=Q&&Q.imagebitmap;return await uq1(K,Y)}async function uq1($,Q=null){if(mq1(Q)||!ZV0)Q=null;if(Q)try{return await createImageBitmap($,Q)}catch(J){console.warn(J),ZV0=!1}return await createImageBitmap($)}function mq1($){for(let Q in $||cq1)return!1;return!0}var cq1,ZV0=!0;var XV0=h(()=>{Ud();Hd();cq1={}});function WV0($){if(!lq1($,"ftyp",4))return null;if(($[8]&96)===0)return null;return pq1($)}function pq1($){switch(dq1($,8,12).replace("\x00"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}function dq1($,Q,J){return String.fromCharCode(...$.slice(Q,J))}function nq1($){return[...$].map((Q)=>Q.charCodeAt(0))}function lq1($,Q,J=0){let K=nq1(Q);for(let Y=0;Y<K.length;++Y)if(K[Y]!==$[Y+J])return!1;return!0}function mj($){let Q=SG($);return iq1(Q)||aq1(Q)||sq1(Q)||oq1(Q)||rq1(Q)}function rq1($){let Q=new Uint8Array($ instanceof DataView?$.buffer:$),J=WV0(Q);if(!J)return null;return{mimeType:J.mimeType,width:0,height:0}}function iq1($){let Q=SG($);if(!(Q.byteLength>=24&&Q.getUint32(0,KK)===2303741511))return null;return{mimeType:"image/png",width:Q.getUint32(16,KK),height:Q.getUint32(20,KK)}}function sq1($){let Q=SG($);if(!(Q.byteLength>=10&&Q.getUint32(0,KK)===1195984440))return null;return{mimeType:"image/gif",width:Q.getUint16(6,vG),height:Q.getUint16(8,vG)}}function oq1($){let Q=SG($);if(!(Q.byteLength>=14&&Q.getUint16(0,KK)===16973&&Q.getUint32(2,vG)===Q.byteLength))return null;return{mimeType:"image/bmp",width:Q.getUint32(18,vG),height:Q.getUint32(22,vG)}}function aq1($){let Q=SG($);if(!(Q.byteLength>=3&&Q.getUint16(0,KK)===65496&&Q.getUint8(2)===255))return null;let{tableMarkers:K,sofMarkers:Y}=tq1(),Z=2;while(Z+9<Q.byteLength){let q=Q.getUint16(Z,KK);if(Y.has(q))return{mimeType:"image/jpeg",height:Q.getUint16(Z+5,KK),width:Q.getUint16(Z+7,KK)};if(!K.has(q))return null;Z+=2,Z+=Q.getUint16(Z,KK)}return null}function tq1(){let $=new Set([65499,65476,65484,65501,65534]);for(let J=65504;J<65520;++J)$.add(J);return{tableMarkers:$,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}function SG($){if($ instanceof DataView)return $;if(ArrayBuffer.isView($))return new DataView($.buffer);if($ instanceof ArrayBuffer)return new DataView($);throw Error("toDataView")}var KK=!1,vG=!0;var Nd=()=>{};async function FV0($,Q){let{mimeType:J}=mj($)||{},K=globalThis.loaders?.parseImageNode;return JX(K),await K($,J)}var UV0=h(()=>{A$();Nd()});async function HV0($,Q,J){Q=Q||{};let Y=(Q.image||{}).type||"auto",{url:Z}=J||{},q=eq1(Y),X;switch(q){case"imagebitmap":X=await qV0($,Q,Z);break;case"image":X=await uj($,Q,Z);break;case"data":X=await FV0($,Q);break;default:JX(!1)}if(Y==="data")X=KV0(X);return X}function eq1($){switch($){case"auto":case"data":return QV0();default:return $V0($),$}}var NV0=h(()=>{A$();JV0();Hd();XV0();UV0()});var $X1,QX1,JX1,Bd;var BV0=h(()=>{NV0();Nd();$X1=["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],QX1=["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],JX1={image:{type:"auto",decode:!0}},Bd={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:eA0,mimeTypes:QX1,extensions:$X1,parse:HV0,tests:[($)=>Boolean(mj(new DataView($)))],options:JX1}});var zV0=h(()=>{BV0()});var KX1,I1;var p8=h(()=>{VG();KX1=new B3({id:"deck"}),I1=KX1});var ZX,AV0=($)=>({"layer.changeFlag":(Q,J,K)=>{$.log(3,`${Q.id} ${J}: `,K[J])()},"layer.initialize":(Q)=>{$.log(1,`Initializing ${Q}`)()},"layer.update":(Q,J)=>{if(J){let K=Q.getChangeFlags();$.log(2,`Updating ${Q} because: ${Object.keys(K).filter((Y)=>K[Y]).join(", ")}`)()}else $.log(4,`${Q} does not need update`)()},"layer.matched":(Q,J)=>{if(J)$.log(4,`Matched ${Q}, state transfered`)()},"layer.finalize":(Q)=>{$.log(1,`Finalizing ${Q}`)()},"compositeLayer.renderLayers":(Q,J,K)=>{if(J)$.log(2,`Composite layer rendered new subLayers ${Q}`,K)();else $.log(4,`Composite layer reused subLayers ${Q}`,K)()},"layerManager.setLayers":(Q,J,K)=>{if(J)$.log(2,`Updating ${K.length} deck layers`)()},"layerManager.activateViewport":(Q,J)=>{$.log(3,"Viewport changed",J)()},"attributeManager.invalidate":(Q,J,K)=>{$.log(1,K?`invalidated attributes ${K} (${J}) for ${Q.id}`:`invalidated all attributes for ${Q.id}`)()},"attributeManager.updateStart":(Q)=>{ZX.attributeUpdateMessages.length=0,ZX.attributeManagerUpdateStart=Date.now()},"attributeManager.updateEnd":(Q,J)=>{let K=Math.round(Date.now()-ZX.attributeManagerUpdateStart);$.groupCollapsed(2,`Updated attributes for ${J} instances in ${Q.id} in ${K}ms`)();for(let Y of ZX.attributeUpdateMessages)$.log(3,Y)();$.groupEnd(2)()},"attribute.updateStart":(Q)=>{ZX.attributeUpdateStart=Date.now()},"attribute.allocate":(Q,J)=>{let K=`${Q.id} allocated ${J}`;ZX.attributeUpdateMessages.push(K)},"attribute.updateEnd":(Q,J)=>{let K=Math.round(Date.now()-ZX.attributeUpdateStart),Y=`${Q.id} updated ${J} in ${K}ms`;ZX.attributeUpdateMessages.push(Y)},"deckRenderer.renderLayers":(Q,J,K)=>{let{pass:Y,redrawReason:Z,stats:q}=K;for(let X of J){let{totalCount:W,visibleCount:F,compositeCount:H,pickableCount:B}=X,A=W-H-F;if($.log(2,`RENDER #${Q.renderCount}   ${F} (of ${W} layers) to ${Y} because ${Z}   (${A} hidden, ${H} composite ${B} pickable)`)(),q)q.get("Redraw Layers").add(F)}}});var VV0=h(()=>{ZX={attributeUpdateStart:-1,attributeManagerUpdateStart:-1,attributeUpdateMessages:[]}});function RV0($){pj=$}function h7($,Q,J,K){if(I1.level>0&&pj[$])pj[$].call(null,Q,J,K)}var pj;var QF=h(()=>{p8();VV0();pj={};pj=AV0(I1)});function YX1($){let Q=$[0],J=$[$.length-1];return Q==="{"&&J==="}"||Q==="["&&J==="]"}var GV0;var OV0=h(()=>{GV0={dataType:null,batchType:null,id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:YX1,parseTextSync:JSON.parse}});function ZX1(){let Q=globalThis.deck&&globalThis.deck.VERSION;if(Q&&Q!=="9.1.15")throw Error(`deck.gl - multiple versions detected: ${Q} vs 9.1.15`);if(!Q)I1.log(1,"deck.gl 9.1.15")(),globalThis.deck={...globalThis.deck,VERSION:"9.1.15",version:"9.1.15",log:I1,_registerLoggers:RV0},$d([GV0,[Bd,{imagebitmap:{premultiplyAlpha:"none"}}]]);return"9.1.15"}var wV0;var TV0=h(()=>{hG();zV0();p8();QF();OV0();wV0=ZX1()});function dj($,Q){if(!$)throw Error(Q||"shadertools: assertion failed.")}function CV0($){let Q={};for(let[J,K]of Object.entries($))Q[J]=qX1(K);return Q}function qX1($){let Q=DV0($);if(Q!=="object")return{value:$,...zd[Q],type:Q};if(typeof $==="object"){if(!$)return{type:"object",value:null};if($.type!==void 0)return{...$,...zd[$.type],type:$.type};if($.value===void 0)return{type:"object",value:$};return Q=DV0($.value),{...$,...zd[Q],type:Q}}throw Error("props")}function DV0($){if(Array.isArray($)||ArrayBuffer.isView($))return"array";return typeof $}var zd;var PV0=h(()=>{zd={number:{type:"number",validate($,Q){return Number.isFinite($)&&typeof Q==="object"&&(Q.max===void 0||$<=Q.max)&&(Q.min===void 0||$>=Q.min)}},array:{type:"array",validate($,Q){return Array.isArray($)||ArrayBuffer.isView($)}}}});var kV0=`#ifdef MODULE_LOGDEPTH
  logdepth_adjustPosition(gl_Position);
#endif
`,jV0=`#ifdef MODULE_MATERIAL
  fragColor = material_filterColor(fragColor);
#endif

#ifdef MODULE_LIGHTING
  fragColor = lighting_filterColor(fragColor);
#endif

#ifdef MODULE_FOG
  fragColor = fog_filterColor(fragColor);
#endif

#ifdef MODULE_PICKING
  fragColor = picking_filterHighlightColor(fragColor);
  fragColor = picking_filterPickingColor(fragColor);
#endif

#ifdef MODULE_LOGDEPTH
  logdepth_setFragDepth();
#endif
`;function hV0($){let Q={vertex:{},fragment:{}};for(let J in $){let K=$[J],Y=WX1(J);if(typeof K==="string")K={order:0,injection:K};Q[Y][J]=K}return Q}function WX1($){let Q=$.slice(0,2);switch(Q){case"vs":return"vertex";case"fs":return"fragment";default:throw Error(Q)}}function fG($,Q,J,K=!1){let Y=Q==="vertex";for(let Z in J){let q=J[Z];q.sort((W,F)=>W.order-F.order),Ad.length=q.length;for(let W=0,F=q.length;W<F;++W)Ad[W]=q[W].injection;let X=`${Ad.join(`
`)}
`;switch(Z){case"vs:#decl":if(Y)$=$.replace(_G,X);break;case"vs:#main-start":if(Y)$=$.replace(EV0,(W)=>W+X);break;case"vs:#main-end":if(Y)$=$.replace(LV0,(W)=>X+W);break;case"fs:#decl":if(!Y)$=$.replace(_G,X);break;case"fs:#main-start":if(!Y)$=$.replace(EV0,(W)=>W+X);break;case"fs:#main-end":if(!Y)$=$.replace(LV0,(W)=>X+W);break;default:$=$.replace(Z,(W)=>W+X)}}if($=$.replace(_G,""),K)$=$.replace(/\}\s*$/,(Z)=>Z+XX1[Q]);return $}var XX1,EV0,LV0,Ad,_G="__LUMA_INJECT_DECLARATIONS__";var Vd=h(()=>{XX1={vertex:kV0,fragment:jV0},EV0=/void\s+main\s*\([^)]*\)\s*\{\n?/,LV0=/}\n?[^{}]*$/,Ad=[]});function JB($){$.map((Q)=>FX1(Q))}function FX1($){if($.instance)return;JB($.dependencies||[]);let{propTypes:Q={},deprecations:J=[],inject:K={}}=$,Y={normalizedInjections:hV0(K),parsedDeprecations:UX1(J)};if(Q)Y.propValidators=CV0(Q);$.instance=Y;let Z={};if(Q)Z=Object.entries(Q).reduce((q,[X,W])=>{let F=W?.value;if(F)q[X]=F;return q},{});$.defaultUniforms={...$.defaultUniforms,...Z}}function Rd($,Q,J){$.deprecations?.forEach((K)=>{if(K.regex?.test(Q))if(K.deprecated)J.deprecated(K.old,K.new)();else J.removed(K.old,K.new)()})}function UX1($){return $.forEach((Q)=>{switch(Q.type){case"function":Q.regex=new RegExp(`\\b${Q.old}\\(`);break;default:Q.regex=new RegExp(`${Q.type} ${Q.old};`)}}),$}var nj=h(()=>{PV0();Vd()});function KB($){JB($);let Q={},J={};vV0({modules:$,level:0,moduleMap:Q,moduleDepth:J});let K=Object.keys(J).sort((Y,Z)=>J[Z]-J[Y]).map((Y)=>Q[Y]);return JB(K),K}function vV0($){let{modules:Q,level:J,moduleMap:K,moduleDepth:Y}=$;if(J>=5)throw Error("Possible loop in shader dependency graph");for(let Z of Q)if(K[Z.name]=Z,Y[Z.name]===void 0||Y[Z.name]<J)Y[Z.name]=J;for(let Z of Q)if(Z.dependencies)vV0({modules:Z.dependencies,level:J+1,moduleMap:K,moduleDepth:Y})}var Gd=h(()=>{nj()});function SV0($){switch($?.gpu.toLowerCase()){case"apple":return`#define APPLE_GPU
// Apple optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"nvidia":return`#define NVIDIA_GPU
// Nvidia optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
`;case"intel":return`#define INTEL_GPU
// Intel optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Intel's built-in 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"amd":return`#define AMD_GPU
`;default:return`#define DEFAULT_GPU
// Prevent driver from optimizing away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Headless Chrome's software shader 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// If the GPU doesn't have full 32 bits precision, will causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`}}function fV0($,Q){if(Number($.match(/^#version[ \t]+(\d+)/m)?.[1]||100)!==300)throw Error("luma.gl v9 only supports GLSL 3.00 shader sources");switch(Q){case"vertex":return $=_V0($,HX1),$;case"fragment":return $=_V0($,NX1),$;default:throw Error(Q)}}function _V0($,Q){for(let[J,K]of Q)$=$.replace(J,K);return $}function Od($){return new RegExp(`\\b${$}[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)`,"g")}var IV0,HX1,NX1;var MV0=h(()=>{IV0=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,`#version 300 es
`],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],HX1=[...IV0,[Od("attribute"),"in $1"],[Od("varying"),"out $1"]],NX1=[...IV0,[Od("varying"),"in $1"]]});function wd($,Q){let J="";for(let K in $){let Y=$[K];if(J+=`void ${Y.signature} {
`,Y.header)J+=`  ${Y.header}`;if(Q[K]){let Z=Q[K];Z.sort((q,X)=>q.order-X.order);for(let q of Z)J+=`  ${q.injection}
`}if(Y.footer)J+=`  ${Y.footer}`;J+=`}
`}return J}function Td($){let Q={vertex:{},fragment:{}};for(let J of $){let K,Y;if(typeof J!=="string")K=J,Y=K.hook;else K={},Y=J;Y=Y.trim();let[Z,q]=Y.split(":"),X=Y.replace(/\(.+/,""),W=Object.assign(K,{signature:q});switch(Z){case"vs":Q.vertex[X]=W;break;case"fs":Q.fragment[X]=W;break;default:throw Error(Z)}}return Q}function bV0($,Q){return{name:BX1($,Q),language:"glsl",version:zX1($)}}function BX1($,Q="unnamed"){let K=/#define[^\S\r\n]*SHADER_NAME[^\S\r\n]*([A-Za-z0-9_-]+)\s*/.exec($);return K?K[1]:Q}function zX1($){let Q=100,J=$.match(/[^\s]+/g);if(J&&J.length>=2&&J[0]==="#version"){let K=parseInt(J[1],10);if(Number.isFinite(K))Q=K}if(Q!==100&&Q!==300)throw Error(`Invalid GLSL version ${Q}`);return Q}function xV0($){let Q=KB($.modules||[]);return{source:VX1($.platformInfo,{...$,source:$.source,stage:"vertex",modules:Q}),getUniforms:uV0(Q)}}function cV0($){let{vs:Q,fs:J}=$,K=KB($.modules||[]);return{vs:gV0($.platformInfo,{...$,source:Q,stage:"vertex",modules:K}),fs:gV0($.platformInfo,{...$,source:J,stage:"fragment",modules:K}),getUniforms:uV0(K)}}function VX1($,Q){let{source:J,stage:K,modules:Y,hookFunctions:Z=[],inject:q={},log:X}=Q;dj(typeof J==="string","shader source must be a string");let W=J,F="",H=Td(Z),B={},z={},A={};for(let G in q){let O=typeof q[G]==="string"?{injection:q[G],order:0}:q[G],T=/^(v|f)s:(#)?([\w-]+)$/.exec(G);if(T){let D=T[2],P=T[3];if(D)if(P==="decl")z[G]=[O];else A[G]=[O];else B[G]=[O]}else A[G]=[O]}let R=Y;for(let G of R){if(X)Rd(G,W,X);let O=mV0(G,"wgsl");F+=O;let T=G.injections?.[K]||{};for(let D in T){let P=/^(v|f)s:#([\w-]+)$/.exec(D);if(P){let E=P[2]==="decl"?z:A;E[D]=E[D]||[],E[D].push(T[D])}else B[D]=B[D]||[],B[D].push(T[D])}}return F+=yV0,F=fG(F,K,z),F+=wd(H[K],B),F+=W,F=fG(F,K,A),F}function gV0($,Q){let{id:J,source:K,stage:Y,language:Z="glsl",modules:q,defines:X={},hookFunctions:W=[],inject:F={},prologue:H=!0,log:B}=Q;dj(typeof K==="string","shader source must be a string");let z=Z==="glsl"?bV0(K).version:-1,A=$.shaderLanguageVersion,R=z===100?"#version 100":"#version 300 es",O=K.split(`
`).slice(1).join(`
`),T={};q.forEach((v)=>{Object.assign(T,v.defines)}),Object.assign(T,X);let D="";switch(Z){case"wgsl":break;case"glsl":D=H?`${R}

// ----- PROLOGUE -------------------------
${RX1({id:J,source:K,stage:Y})}
${`#define SHADER_TYPE_${Y.toUpperCase()}`}

${SV0($)}
${Y==="fragment"?AX1:""}

// ----- APPLICATION DEFINES -------------------------

${GX1(T)}

`:`${R}
`;break}let P=Td(W),j={},E={},L={};for(let v in F){let f=typeof F[v]==="string"?{injection:F[v],order:0}:F[v],_=/^(v|f)s:(#)?([\w-]+)$/.exec(v);if(_){let M=_[2],b=_[3];if(M)if(b==="decl")E[v]=[f];else L[v]=[f];else j[v]=[f]}else L[v]=[f]}for(let v of q){if(B)Rd(v,O,B);let f=mV0(v,Y);D+=f;let _=v.instance?.normalizedInjections[Y]||{};for(let M in _){let b=/^(v|f)s:#([\w-]+)$/.exec(M);if(b){let g=b[2]==="decl"?E:L;g[M]=g[M]||[],g[M].push(_[M])}else j[M]=j[M]||[],j[M].push(_[M])}}if(D+="// ----- MAIN SHADER SOURCE -------------------------",D+=yV0,D=fG(D,Y,E),D+=wd(P[Y],j),D+=O,D=fG(D,Y,L),Z==="glsl"&&z!==A)D=fV0(D,Y);return D.trim()}function uV0($){return function(J){let K={};for(let Y of $){let Z=Y.getUniforms?.(J,K);Object.assign(K,Z)}return K}}function RX1($){let{id:Q,source:J,stage:K}=$;return Q&&J.indexOf("SHADER_NAME")===-1?`
#define SHADER_NAME ${Q}_${K}`:""}function GX1($={}){let Q="";for(let J in $){let K=$[J];if(K||Number.isFinite(K))Q+=`#define ${J.toUpperCase()} ${$[J]}
`}return Q}function mV0($,Q){let J;switch(Q){case"vertex":J=$.vs||"";break;case"fragment":J=$.fs||"";break;case"wgsl":J=$.source||"";break;default:dj(!1)}if(!$.name)throw Error("Shader module must have a name");let K=$.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),Y=`// ----- MODULE ${$.name} ---------------

`;if(Q!=="wgsl")Y+=`#define MODULE_${K}
`;return Y+=`${J}
`,Y}var yV0,AX1=`precision highp float;
`;var pV0=h(()=>{Gd();Vd();MV0();nj();yV0=`

${_G}
`});function dV0($,Q){let J=$.split(`
`),K=[],Y=!0,Z=null;for(let q of J){let X=q.match(OX1),W=q.match(wX1);if(X)Z=X[1],Y=Boolean(Q?.defines?.[Z]);else if(W)Y=!0;else if(Y)K.push(q)}return K.join(`
`)}var OX1,wX1;var nV0=h(()=>{OX1=/^\s*\#\s*ifdef\s*([a-zA-Z_]+)\s*$/,wX1=/^\s*\#\s*endif\s*$/});class YK{static defaultShaderAssembler;_hookFunctions=[];_defaultModules=[];static getDefaultShaderAssembler(){return YK.defaultShaderAssembler=YK.defaultShaderAssembler||new YK,YK.defaultShaderAssembler}addDefaultModule($){if(!this._defaultModules.find((Q)=>Q.name===(typeof $==="string"?$:$.name)))this._defaultModules.push($)}removeDefaultModule($){let Q=typeof $==="string"?$:$.name;this._defaultModules=this._defaultModules.filter((J)=>J.name!==Q)}addShaderHook($,Q){if(Q)$=Object.assign(Q,{hook:$});this._hookFunctions.push($)}assembleWGSLShader($){let Q=this._getModuleList($.modules),J=this._hookFunctions,{source:K,getUniforms:Y}=xV0({...$,source:$.source,modules:Q,hookFunctions:J});return{source:$.platformInfo.shaderLanguage==="wgsl"?dV0(K):K,getUniforms:Y,modules:Q}}assembleGLSLShaderPair($){let Q=this._getModuleList($.modules),J=this._hookFunctions;return{...cV0({...$,vs:$.vs,fs:$.fs,modules:Q,hookFunctions:J}),modules:Q}}_getModuleList($=[]){let Q=Array(this._defaultModules.length+$.length),J={},K=0;for(let Y=0,Z=this._defaultModules.length;Y<Z;++Y){let q=this._defaultModules[Y],X=q.name;Q[K++]=q,J[X]=!0}for(let Y=0,Z=$.length;Y<Z;++Y){let q=$[Y],X=q.name;if(!J[X])Q[K++]=q,J[X]=!0}return Q.length=K,JB(Q),Q}}var lV0=h(()=>{nj();pV0();nV0()});function Dd($){let{input:Q,inputChannels:J,output:K}=$||{};if(!Q)return`#version 300 es
out vec4 transform_output;
void main() {
  transform_output = vec4(0);
}`;if(!J)throw Error("inputChannels");let Y=TX1(J),Z=rV0(Q,J);return`#version 300 es
in ${Y} ${Q};
out vec4 ${K};
void main() {
  ${K} = ${Z};
}`}function TX1($){switch($){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw Error(`invalid channels: ${$}`)}}function rV0($,Q){switch(Q){case 1:return`vec4(${$}, 0.0, 0.0, 1.0)`;case 2:return`vec4(${$}, 0.0, 1.0)`;case 3:return`vec4(${$}, 1.0)`;case 4:return $;default:throw Error(`invalid channels: ${Q}`)}}class iV0{stats=new Map;getStats($){return this.get($)}get($){if(!this.stats.has($))this.stats.set($,new SQ({id:$}));return this.stats.get($)}}var lj;var Cd=h(()=>{wG();lj=new iV0});var u0;var ZK=h(()=>{VG();u0=new B3({id:"luma.gl"})});function qX($="id"){Pd[$]=Pd[$]||1;let Q=Pd[$]++;return`${$}-${Q}`}var Pd;var IG=h(()=>{Pd={}});function DX1($,Q){let J={...Q};for(let K in $)if($[K]!==void 0)J[K]=$[K];return J}var O5;var m4=h(()=>{IG();O5=class O5{static defaultProps={id:"undefined",handle:void 0,userData:void 0};toString(){return`${this[Symbol.toStringTag]||this.constructor.name}:"${this.id}"`}id;props;userData={};_device;destroyed=!1;allocatedBytes=0;_attachedResources=new Set;constructor($,Q,J){if(!$)throw Error("no device");this._device=$,this.props=DX1(Q,J);let K=this.props.id!=="undefined"?this.props.id:qX(this[Symbol.toStringTag]);this.props.id=K,this.id=K,this.userData=this.props.userData||{},this.addStats()}destroy(){this.destroyResource()}delete(){return this.destroy(),this}getProps(){return this.props}attachResource($){this._attachedResources.add($)}detachResource($){this._attachedResources.delete($)}destroyAttachedResource($){if(this._attachedResources.delete($))$.destroy()}destroyAttachedResources(){for(let $ of Object.values(this._attachedResources))$.destroy();this._attachedResources=new Set}destroyResource(){this.destroyAttachedResources(),this.removeStats(),this.destroyed=!0}removeStats(){let $=this._device.statsManager.getStats("Resource Counts"),Q=this[Symbol.toStringTag];$.get(`${Q}s Active`).decrementCount()}trackAllocatedMemory($,Q=this[Symbol.toStringTag]){let J=this._device.statsManager.getStats("Resource Counts");J.get("GPU Memory").addCount($),J.get(`${Q} Memory`).addCount($),this.allocatedBytes=$}trackDeallocatedMemory($=this[Symbol.toStringTag]){let Q=this._device.statsManager.getStats("Resource Counts");Q.get("GPU Memory").subtractCount(this.allocatedBytes),Q.get(`${$} Memory`).subtractCount(this.allocatedBytes),this.allocatedBytes=0}addStats(){let $=this._device.statsManager.getStats("Resource Counts"),Q=this[Symbol.toStringTag];$.get("Resources Created").incrementCount(),$.get(`${Q}s Created`).incrementCount(),$.get(`${Q}s Active`).incrementCount()}}});var u5;var rj=h(()=>{m4();u5=class u5 extends O5{static defaultProps={...O5.defaultProps,usage:0,byteLength:0,byteOffset:0,data:null,indexType:"uint16",mappedAtCreation:!1};static MAP_READ=1;static MAP_WRITE=2;static COPY_SRC=4;static COPY_DST=8;static INDEX=16;static VERTEX=32;static UNIFORM=64;static STORAGE=128;static INDIRECT=256;static QUERY_RESOLVE=512;get[Symbol.toStringTag](){return"Buffer"}usage;indexType;updateTimestamp;constructor($,Q){let J={...Q};if((Q.usage||0)&u5.INDEX&&!Q.indexType){if(Q.data instanceof Uint32Array)J.indexType="uint32";else if(Q.data instanceof Uint16Array)J.indexType="uint16"}delete J.data;super($,J,u5.defaultProps);this.usage=J.usage||0,this.indexType=J.indexType,this.updateTimestamp=$.incrementTimestamp()}clone($){return this.device.createBuffer({...this.props,...$})}readSyncWebGL($,Q){throw Error("not implemented")}static DEBUG_DATA_MAX_LENGTH=32;debugData=new ArrayBuffer(0);_setDebugData($,Q,J){let K=ArrayBuffer.isView($)?$.buffer:$,Y=Math.min($?$.byteLength:J,u5.DEBUG_DATA_MAX_LENGTH);if(K===null)this.debugData=new ArrayBuffer(Y);else if(Q===0&&J===K.byteLength)this.debugData=K.slice(0,Y);else this.debugData=K.slice(Q,Q+Y)}}});function ij($){let Q=sV0[$],J=CX1(Q),K=$.includes("norm"),Y=!K&&!$.startsWith("float"),Z=$.startsWith("s");return{dataType:sV0[$],byteLength:J,integer:Y,signed:Z,normalized:K}}function CX1($){return PX1[$]}var sV0,PX1;var kd=h(()=>{sV0={uint8:"uint8",sint8:"sint8",unorm8:"uint8",snorm8:"sint8",uint16:"uint16",sint16:"sint16",unorm16:"uint16",snorm16:"sint16",float16:"float16",float32:"float32",uint32:"uint32",sint32:"sint32"},PX1={uint8:1,sint8:1,uint16:2,sint16:2,float16:2,float32:4,uint32:4,sint32:4}});function sj($){let Q=kX1[$];if(!Q)throw Error(`Unsupported texture format ${$}`);return Q}var kX1;var jd=h(()=>{kX1={r8unorm:{},r8snorm:{render:"snorm8-renderable-webgl"},r8uint:{},r8sint:{},rg8unorm:{},rg8snorm:{render:"snorm8-renderable-webgl"},rg8uint:{},rg8sint:{},r16uint:{},r16sint:{},r16float:{render:"float16-renderable-webgl",filter:"float16-filterable-webgl"},"r16unorm-webgl":{f:"norm16-renderable-webgl"},"r16snorm-webgl":{f:"snorm16-renderable-webgl"},"rgba4unorm-webgl":{channels:"rgba",bitsPerChannel:[4,4,4,4],packed:!0},"rgb565unorm-webgl":{channels:"rgb",bitsPerChannel:[5,6,5,0],packed:!0},"rgb5a1unorm-webgl":{channels:"rgba",bitsPerChannel:[5,5,5,1],packed:!0},"rgb8unorm-webgl":{},"rgb8snorm-webgl":{},rgba8unorm:{},"rgba8unorm-srgb":{},rgba8snorm:{render:"snorm8-renderable-webgl"},rgba8uint:{},rgba8sint:{},bgra8unorm:{},"bgra8unorm-srgb":{},rg16uint:{},rg16sint:{},rg16float:{render:"float16-renderable-webgl",filter:"float16-filterable-webgl"},"rg16unorm-webgl":{render:"norm16-renderable-webgl"},"rg16snorm-webgl":{render:"snorm16-renderable-webgl"},r32uint:{},r32sint:{},r32float:{render:"float32-renderable-webgl",filter:"float32-filterable"},rgb9e5ufloat:{channels:"rgb",packed:!0,render:"rgb9e5ufloat-renderable-webgl"},rg11b10ufloat:{channels:"rgb",bitsPerChannel:[11,11,10,0],packed:!0,p:1,render:"float32-renderable-webgl"},rgb10a2unorm:{channels:"rgba",bitsPerChannel:[10,10,10,2],packed:!0,p:1},"rgb10a2uint-webgl":{channels:"rgba",bitsPerChannel:[10,10,10,2],packed:!0,p:1,wgpu:!1},"rgb16unorm-webgl":{f:"norm16-renderable-webgl"},"rgb16snorm-webgl":{f:"norm16-renderable-webgl"},rg32uint:{},rg32sint:{},rg32float:{render:!1,filter:"float32-filterable"},rgba16uint:{},rgba16sint:{},rgba16float:{render:"float16-renderable-webgl",filter:"float16-filterable-webgl"},"rgba16unorm-webgl":{render:"norm16-renderable-webgl"},"rgba16snorm-webgl":{render:"snorm16-renderable-webgl"},"rgb32float-webgl":{render:"float32-renderable-webgl",filter:"float32-filterable"},rgba32uint:{},rgba32sint:{},rgba32float:{render:"float32-renderable-webgl",filter:"float32-filterable"},stencil8:{attachment:"stencil",bitsPerChannel:[8,0,0,0],dataType:"uint8"},depth16unorm:{attachment:"depth",bitsPerChannel:[16,0,0,0],dataType:"uint16"},depth24plus:{attachment:"depth",bitsPerChannel:[24,0,0,0],dataType:"uint32"},depth32float:{attachment:"depth",bitsPerChannel:[32,0,0,0],dataType:"float32"},"depth24plus-stencil8":{attachment:"depth-stencil",bitsPerChannel:[24,8,0,0],packed:!0},"depth32float-stencil8":{attachment:"depth-stencil",bitsPerChannel:[32,8,0,0],packed:!0},"bc1-rgb-unorm-webgl":{f:"texture-compression-bc"},"bc1-rgb-unorm-srgb-webgl":{f:"texture-compression-bc"},"bc1-rgba-unorm":{f:"texture-compression-bc"},"bc1-rgba-unorm-srgb":{f:"texture-compression-bc"},"bc2-rgba-unorm":{f:"texture-compression-bc"},"bc2-rgba-unorm-srgb":{f:"texture-compression-bc"},"bc3-rgba-unorm":{f:"texture-compression-bc"},"bc3-rgba-unorm-srgb":{f:"texture-compression-bc"},"bc4-r-unorm":{f:"texture-compression-bc"},"bc4-r-snorm":{f:"texture-compression-bc"},"bc5-rg-unorm":{f:"texture-compression-bc"},"bc5-rg-snorm":{f:"texture-compression-bc"},"bc6h-rgb-ufloat":{f:"texture-compression-bc"},"bc6h-rgb-float":{f:"texture-compression-bc"},"bc7-rgba-unorm":{f:"texture-compression-bc"},"bc7-rgba-unorm-srgb":{f:"texture-compression-bc"},"etc2-rgb8unorm":{f:"texture-compression-etc2"},"etc2-rgb8unorm-srgb":{f:"texture-compression-etc2"},"etc2-rgb8a1unorm":{f:"texture-compression-etc2"},"etc2-rgb8a1unorm-srgb":{f:"texture-compression-etc2"},"etc2-rgba8unorm":{f:"texture-compression-etc2"},"etc2-rgba8unorm-srgb":{f:"texture-compression-etc2"},"eac-r11unorm":{f:"texture-compression-etc2"},"eac-r11snorm":{f:"texture-compression-etc2"},"eac-rg11unorm":{f:"texture-compression-etc2"},"eac-rg11snorm":{f:"texture-compression-etc2"},"astc-4x4-unorm":{f:"texture-compression-astc"},"astc-4x4-unorm-srgb":{f:"texture-compression-astc"},"astc-5x4-unorm":{f:"texture-compression-astc"},"astc-5x4-unorm-srgb":{f:"texture-compression-astc"},"astc-5x5-unorm":{f:"texture-compression-astc"},"astc-5x5-unorm-srgb":{f:"texture-compression-astc"},"astc-6x5-unorm":{f:"texture-compression-astc"},"astc-6x5-unorm-srgb":{f:"texture-compression-astc"},"astc-6x6-unorm":{f:"texture-compression-astc"},"astc-6x6-unorm-srgb":{f:"texture-compression-astc"},"astc-8x5-unorm":{f:"texture-compression-astc"},"astc-8x5-unorm-srgb":{f:"texture-compression-astc"},"astc-8x6-unorm":{f:"texture-compression-astc"},"astc-8x6-unorm-srgb":{f:"texture-compression-astc"},"astc-8x8-unorm":{f:"texture-compression-astc"},"astc-8x8-unorm-srgb":{f:"texture-compression-astc"},"astc-10x5-unorm":{f:"texture-compression-astc"},"astc-10x5-unorm-srgb":{f:"texture-compression-astc"},"astc-10x6-unorm":{f:"texture-compression-astc"},"astc-10x6-unorm-srgb":{f:"texture-compression-astc"},"astc-10x8-unorm":{f:"texture-compression-astc"},"astc-10x8-unorm-srgb":{f:"texture-compression-astc"},"astc-10x10-unorm":{f:"texture-compression-astc"},"astc-10x10-unorm-srgb":{f:"texture-compression-astc"},"astc-12x10-unorm":{f:"texture-compression-astc"},"astc-12x10-unorm-srgb":{f:"texture-compression-astc"},"astc-12x12-unorm":{f:"texture-compression-astc"},"astc-12x12-unorm-srgb":{f:"texture-compression-astc"},"pvrtc-rgb4unorm-webgl":{f:"texture-compression-pvrtc-webgl"},"pvrtc-rgba4unorm-webgl":{f:"texture-compression-pvrtc-webgl"},"pvrtc-rbg2unorm-webgl":{f:"texture-compression-pvrtc-webgl"},"pvrtc-rgba2unorm-webgl":{f:"texture-compression-pvrtc-webgl"},"etc1-rbg-unorm-webgl":{f:"texture-compression-etc1-webgl"},"atc-rgb-unorm-webgl":{f:"texture-compression-atc-webgl"},"atc-rgba-unorm-webgl":{f:"texture-compression-atc-webgl"},"atc-rgbai-unorm-webgl":{f:"texture-compression-atc-webgl"}}});function Ed($){return jX1.some((Q)=>$.startsWith(Q))}function YB($){let Q=LX1($);if(Ed($)){Q.channels="rgb",Q.components=3,Q.bytesPerPixel=1,Q.srgb=!1,Q.compressed=!0;let K=hX1($);if(K)Q.blockWidth=K.blockWidth,Q.blockHeight=K.blockHeight}let J=EX1.exec($);if(J){let[,K,Y,Z,q,X]=J,W=`${Z}${Y}`,F=ij(W),H=F.byteLength*8,B=K.length,z=[H,B>=2?H:0,B>=3?H:0,B>=4?H:0];if(Q={format:$,attachment:Q.attachment,dataType:F.dataType,components:B,channels:K,integer:F.integer,signed:F.signed,normalized:F.normalized,bitsPerChannel:z,bytesPerPixel:F.byteLength*K.length,packed:Q.packed,srgb:Q.srgb},X==="-webgl")Q.webgl=!0;if(q==="-srgb")Q.srgb=!0}if($.endsWith("-webgl"))Q.webgl=!0;if($.endsWith("-srgb"))Q.srgb=!0;return Q}function LX1($){let Q=sj($),J=Q.bytesPerPixel||1,K=Q.bitsPerChannel||[8,8,8,8];return delete Q.bitsPerChannel,delete Q.bytesPerPixel,delete Q.f,delete Q.render,delete Q.filter,delete Q.blend,delete Q.store,{...Q,format:$,attachment:Q.attachment||"color",channels:Q.channels||"r",components:Q.components||Q.channels?.length||1,bytesPerPixel:J,bitsPerChannel:K,dataType:Q.dataType||"uint8",srgb:Q.srgb??!1,packed:Q.packed??!1,webgl:Q.webgl??!1,integer:Q.integer??!1,signed:Q.signed??!1,normalized:Q.normalized??!1,compressed:Q.compressed??!1}}function hX1($){let J=/.*-(\d+)x(\d+)-.*/.exec($);if(J){let[,K,Y]=J;return{blockWidth:Number(K),blockHeight:Number(Y)}}return null}var jX1,EX1;var oj=h(()=>{kd();jd();jX1=["bc1","bc2","bc3","bc4","bc5","bc6","bc7","etc1","etc2","eac","atc","astc","pvrtc"],EX1=/^(r|rg|rgb|rgba|bgra)([0-9]*)([a-z]*)(-srgb)?(-webgl)?$/});function oV0($){let Q=sj($),J={format:$,create:Q.f??!0,render:Q.render??!0,filter:Q.filter??!0,blend:Q.blend??!0,store:Q.store??!0},K=YB($),Y=$.startsWith("depth")||$.startsWith("stencil"),Z=K?.signed,q=K?.integer,X=K?.webgl;return J.render&&=!Z,J.filter&&=!Y&&!Z&&!q&&!X,J}var aV0=h(()=>{oj();jd()});class aj{}var tj,G$;var Ld=h(()=>{Cd();ZK();IG();rj();oj();aV0();tj=class tj{features;disabledFeatures;constructor($=[],Q){this.features=new Set($),this.disabledFeatures=Q||{}}*[Symbol.iterator](){yield*this.features}has($){return!this.disabledFeatures?.[$]&&this.features.has($)}};G$=class G${static defaultProps={id:null,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,createCanvasContext:void 0,onError:($)=>u0.error($.message)(),_reuseDevices:!1,_requestMaxLimits:!0,_factoryDestroyPolicy:"unused",_initializeFeatures:!0,_disabledFeatures:{"compilation-status-async-webgl":!0},_resourceDefaults:{},webgl:{},debug:u0.get("debug")||void 0,debugShaders:u0.get("debug-shaders")||void 0,debugFramebuffers:Boolean(u0.get("debug-framebuffers")),debugWebGL:Boolean(u0.get("debug-webgl")),debugSpectorJS:void 0,debugSpectorJSUrl:void 0,_handle:void 0};get[Symbol.toStringTag](){return"Device"}constructor($){this.props={...G$.defaultProps,...$},this.id=this.props.id||qX(this[Symbol.toStringTag].toLowerCase())}id;props;userData={};statsManager=lj;timestamp=0;_reused=!1;_lumaData={};getTextureFormatCapabilities($){let Q=oV0($),J=(Z)=>(typeof Z==="string"?this.features.has(Z):Z)??!0,K=J(Q.create),Y={format:$,create:K,render:K&&J(Q.render),filter:K&&J(Q.filter),blend:K&&J(Q.blend),store:K&&J(Q.store)};return this._getDeviceSpecificTextureFormatCapabilities(Y)}isTextureFormatSupported($,Q){return this.getTextureFormatCapabilities($).create}isTextureFormatFilterable($){return this.getTextureFormatCapabilities($).filter}isTextureFormatRenderable($){return this.getTextureFormatCapabilities($).render}isTextureFormatCompressed($){return Ed($)}loseDevice(){return!1}reportError($){this.props.onError($)}getDefaultCanvasContext(){if(!this.canvasContext)throw Error("Device has no default CanvasContext. See props.createCanvasContext");return this.canvasContext}createCommandEncoder($={}){throw Error("not implemented")}incrementTimestamp(){return this.timestamp++}onError($){this.props.onError($)}getCanvasContext(){return this.getDefaultCanvasContext()}readPixelsToArrayWebGL($,Q){throw Error("not implemented")}readPixelsToBufferWebGL($,Q){throw Error("not implemented")}setParametersWebGL($){throw Error("not implemented")}getParametersWebGL($){throw Error("not implemented")}withParametersWebGL($,Q){throw Error("not implemented")}clearWebGL($){throw Error("not implemented")}resetWebGL(){throw Error("not implemented")}static _getCanvasContextProps($){return $.createCanvasContext===!0?{}:$.createCanvasContext}_normalizeBufferProps($){if($ instanceof ArrayBuffer||ArrayBuffer.isView($))$={data:$};let Q={...$};if(($.usage||0)&u5.INDEX&&!$.indexType)if($.data instanceof Uint32Array)Q.indexType="uint32";else if($.data instanceof Uint16Array)Q.indexType="uint16";else u0.warn("indices buffer content must be of integer type")();return Q}}});function fX1(){if(SX1()||typeof window>"u")return Promise.resolve();return new Promise(($)=>{window.addEventListener("load",()=>$())})}var vX1,SX1=()=>vX1&&document.readyState==="complete",_X1="set luma.log.level=1 (or higher) to trace rendering",tV0="No matching device found. Ensure `@luma.gl/webgl` and/or `@luma.gl/webgpu` modules are imported.",ZB,qB;var eV0=h(()=>{KX();Ld();Cd();ZK();vX1=c4()&&typeof document<"u";ZB=class ZB{static defaultProps={...G$.defaultProps,type:"best-available",adapters:void 0,waitForPageLoad:!0};static pageLoaded=fX1().then(()=>{u0.probe(2,"DOM is loaded")()});stats=lj;log=u0;VERSION="9.1.10";spector;preregisteredAdapters=new Map;constructor(){if(globalThis.luma){if(globalThis.luma.VERSION!==this.VERSION)throw u0.error(`Found luma.gl ${globalThis.luma.VERSION} while initialzing ${this.VERSION}`)(),u0.error("'yarn why @luma.gl/core' can help identify the source of the conflict")(),Error("luma.gl - multiple versions detected: see console log");u0.error("This version of luma.gl has already been initialized")()}u0.log(1,`${this.VERSION} - ${_X1}`)(),globalThis.luma=this}registerAdapters($){for(let Q of $)this.preregisteredAdapters.set(Q.type,Q)}getSupportedAdapters($=[]){let Q=this.getAdapterMap($);return Array.from(Q).map(([,J])=>J).filter((J)=>J.isSupported?.()).map((J)=>J.type)}getBestAvailableAdapter($=[]){let Q=this.getAdapterMap($);if(Q.get("webgpu")?.isSupported?.())return"webgpu";if(Q.get("webgl")?.isSupported?.())return"webgl";return null}setDefaultDeviceProps($){Object.assign(ZB.defaultProps,$)}async createDevice($={}){if($={...ZB.defaultProps,...$},$.waitForPageLoad)await ZB.pageLoaded;let Q=this.getAdapterMap($.adapters),J=$.type||"";if(J==="best-available")J=this.getBestAvailableAdapter($.adapters)||J;let Z=await(this.getAdapterMap($.adapters)||Q).get(J)?.create?.($);if(Z)return Z;throw Error(tV0)}async attachDevice($){let Q=this.getAdapterMap($.adapters),J="";if($.handle instanceof WebGL2RenderingContext)J="webgl";if($.createCanvasContext)await ZB.pageLoaded;if($.handle===null)J="unknown";let Y=await Q.get(J)?.attach?.(null);if(Y)return Y;throw Error(tV0)}enforceWebGL2($=!0,Q=[]){let K=this.getAdapterMap(Q).get("webgl");if(!K)u0.warn("enforceWebGL2: webgl adapter not found")();K?.enforceWebGL2?.($)}getAdapterMap($=[]){let Q=new Map(this.preregisteredAdapters);for(let J of $)Q.set(J.type,J);return Q}registerDevices($){u0.warn("luma.registerDevices() is deprecated, use luma.registerAdapters() instead");for(let Q of $){let J=Q.adapter;if(J)this.preregisteredAdapters.set(J.type,J)}}};qB=new ZB});class ej{}function IX1($){if(typeof $==="string"){let Q=document.getElementById($);if(!Q)throw Error(`${$} is not an HTML element`);return Q}else if($)return $;return document.body}function MX1($){let Q=document.getElementById($);if(!(Q instanceof HTMLCanvasElement))throw Error("Object is not a canvas element");return Q}function bX1($){let{width:Q,height:J}=$,K=document.createElement("canvas");return K.id=qX("lumagl-auto-created-canvas"),K.width=Q||1,K.height=J||1,K.style.width=Number.isFinite(Q)?`${Q}px`:"100%",K.style.height=Number.isFinite(J)?`${J}px`:"100%",K}function gX1($,Q,J,K,Y){let Z=$,q=$R0(Z[0],Q,J),X=QR0(Z[1],Q,K,Y),W=$R0(Z[0]+1,Q,J),F=W===J-1?W:W-1;W=QR0(Z[1]+1,Q,K,Y);let H;if(Y)W=W===0?W:W+1,H=X,X=W;else H=W===K-1?W:W-1;return{x:q,y:X,width:Math.max(F-q+1,1),height:Math.max(H-X+1,1)}}function $R0($,Q,J){return Math.min(Math.round($*Q),J-1)}function QR0($,Q,J,K){return K?Math.max(0,J-1-Math.round($*Q)):Math.min(Math.round($*Q),J-1)}var MG;var JR0=h(()=>{KX();ZK();IG();MG=class MG{static defaultProps={canvas:null,width:800,height:600,useDevicePixels:!0,autoResize:!0,container:null,visible:!0,alphaMode:"opaque",colorSpace:"srgb"};id;props;canvas;htmlCanvas;offscreenCanvas;type;width=1;height=1;resizeObserver;_canvasSizeInfo={clientWidth:0,clientHeight:0,devicePixelRatio:1};toString(){return`${this[Symbol.toStringTag]}(${this.id})`}constructor($){if(this.props={...MG.defaultProps,...$},$=this.props,!c4()){this.id="node-canvas-context",this.type="node",this.width=this.props.width,this.height=this.props.height,this.canvas=null;return}if(!$.canvas){let Q=bX1($),J=IX1($?.container||null);if(J.insertBefore(Q,J.firstChild),this.canvas=Q,!$?.visible)this.canvas.style.visibility="hidden"}else if(typeof $.canvas==="string")this.canvas=MX1($.canvas);else this.canvas=$.canvas;if(this.canvas instanceof HTMLCanvasElement)this.id=this.canvas.id,this.type="html-canvas",this.htmlCanvas=this.canvas;else this.id="offscreen-canvas",this.type="offscreen-canvas",this.offscreenCanvas=this.canvas;if(this.canvas instanceof HTMLCanvasElement&&$.autoResize)this.resizeObserver=new ResizeObserver((Q)=>{for(let J of Q)if(J.target===this.canvas)this.update()}),this.resizeObserver.observe(this.canvas)}getDevicePixelRatio($){if(typeof OffscreenCanvas<"u"&&this.canvas instanceof OffscreenCanvas)return 1;if($=$===void 0?this.props.useDevicePixels:$,!$||$<=0)return 1;if($===!0)return typeof window<"u"&&window.devicePixelRatio||1;return $}getPixelSize(){switch(this.type){case"node":return[this.width,this.height];case"offscreen-canvas":return[this.canvas.width,this.canvas.height];case"html-canvas":let $=this.getDevicePixelRatio(),Q=this.canvas;return Q.parentElement?[Q.clientWidth*$,Q.clientHeight*$]:[this.canvas.width,this.canvas.height];default:throw Error(this.type)}}getAspect(){let[$,Q]=this.getPixelSize();return $/Q}cssToDeviceRatio(){try{let[$]=this.getDrawingBufferSize(),Q=this._canvasSizeInfo.clientWidth||this.htmlCanvas?.clientWidth;return Q?$/Q:1}catch{return 1}}cssToDevicePixels($,Q=!0){let J=this.cssToDeviceRatio(),[K,Y]=this.getDrawingBufferSize();return gX1($,J,K,Y,Q)}setDevicePixelRatio($,Q={}){if(!this.htmlCanvas)return;let J="width"in Q?Q.width:this.htmlCanvas.clientWidth,K="height"in Q?Q.height:this.htmlCanvas.clientHeight;if(!J||!K)u0.log(1,"Canvas clientWidth/clientHeight is 0")(),$=1,J=this.htmlCanvas.width||1,K=this.htmlCanvas.height||1;let Y=this._canvasSizeInfo;if(Y.clientWidth!==J||Y.clientHeight!==K||Y.devicePixelRatio!==$){let Z=$,q=Math.floor(J*Z),X=Math.floor(K*Z);if(this.htmlCanvas.width=q,this.htmlCanvas.height=X,this.device.gl){let[F,H]=this.getDrawingBufferSize();if(F!==q||H!==X)Z=Math.min(F/J,H/K),this.htmlCanvas.width=Math.floor(J*Z),this.htmlCanvas.height=Math.floor(K*Z),u0.warn("Device pixel ratio clamped")();this._canvasSizeInfo.clientWidth=J,this._canvasSizeInfo.clientHeight=K,this._canvasSizeInfo.devicePixelRatio=$}}}getDrawingBufferSize(){let $=this.device.gl;if(!$)return this.getPixelSize();return[$.drawingBufferWidth,$.drawingBufferHeight]}_setAutoCreatedCanvasId($){if(this.htmlCanvas?.id==="lumagl-auto-created-canvas")this.htmlCanvas.id=$}}});var i5;var hd=h(()=>{m4();i5=class i5 extends O5{static COPY_SRC=1;static COPY_DST=2;static TEXTURE=4;static STORAGE=8;static RENDER_ATTACHMENT=16;static CubeFaces=["+X","-X","+Y","-Y","+Z","-Z"];static defaultProps={...O5.defaultProps,data:null,dimension:"2d",format:"rgba8unorm",width:void 0,height:void 0,depth:1,mipmaps:!1,compressed:!1,usage:0,mipLevels:void 0,samples:void 0,sampler:{},view:void 0,flipY:void 0};get[Symbol.toStringTag](){return"Texture"}toString(){return`Texture(${this.id},${this.format},${this.width}x${this.height})`}dimension;format;width;height;depth;mipLevels;updateTimestamp;constructor($,Q){Q=i5.normalizeProps($,Q);super($,Q,i5.defaultProps);if(this.dimension=this.props.dimension,this.format=this.props.format,this.width=this.props.width,this.height=this.props.height,this.depth=this.props.depth,this.props.width===void 0||this.props.height===void 0){let J=i5.getTextureDataSize(this.props.data);this.width=J?.width||1,this.height=J?.height||1}if(this.props.mipmaps&&this.props.mipLevels===void 0)this.props.mipLevels="pyramid";this.mipLevels=this.props.mipLevels==="pyramid"?i5.getMipLevelCount(this.width,this.height):this.props.mipLevels||1,this.updateTimestamp=$.incrementTimestamp()}clone($){return this.device.createTexture({...this.props,...$})}static isExternalImage($){return typeof ImageData<"u"&&$ instanceof ImageData||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap||typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&$ instanceof HTMLVideoElement||typeof VideoFrame<"u"&&$ instanceof VideoFrame||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&$ instanceof OffscreenCanvas}static getExternalImageSize($){if(typeof ImageData<"u"&&$ instanceof ImageData||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&$ instanceof OffscreenCanvas)return{width:$.width,height:$.height};if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement)return{width:$.naturalWidth,height:$.naturalHeight};if(typeof HTMLVideoElement<"u"&&$ instanceof HTMLVideoElement)return{width:$.videoWidth,height:$.videoHeight};if(typeof VideoFrame<"u"&&$ instanceof VideoFrame)return{width:$.displayWidth,height:$.displayHeight};throw Error("Unknown image type")}static isTextureLevelData($){let Q=$?.data;return ArrayBuffer.isView(Q)}static getTextureDataSize($){if(!$)return null;if(ArrayBuffer.isView($))return null;if(Array.isArray($))return i5.getTextureDataSize($[0]);if(i5.isExternalImage($))return i5.getExternalImageSize($);if($&&typeof $==="object"&&$.constructor===Object){let J=Object.values($)[0];return{width:J.width,height:J.height}}throw Error("texture size deduction failed")}static normalizeTextureData($,Q){let J;if(ArrayBuffer.isView($))J=[{data:$,width:Q.width,height:Q.height}];else if(!Array.isArray($))J=[$];else J=$;return J}static getMipLevelCount($,Q){return Math.floor(Math.log2(Math.max($,Q)))+1}static getCubeFaceDepth($){switch($){case"+X":return 0;case"-X":return 1;case"+Y":return 2;case"-Y":return 3;case"+Z":return 4;case"-Z":return 5;default:throw Error($)}}static defaultCopyExternalImageOptions={image:void 0,sourceX:0,sourceY:0,width:void 0,height:void 0,depth:1,mipLevel:0,x:0,y:0,z:0,aspect:"all",colorSpace:"srgb",premultipliedAlpha:!1,flipY:!1};static normalizeProps($,Q){let J={...Q},K=$?.props?._resourceDefaults?.texture||{};Object.assign(J,K);let{width:Y,height:Z}=J;if(typeof Y==="number")J.width=Math.max(1,Math.ceil(Y));if(typeof Z==="number")J.height=Math.max(1,Math.ceil(Z));return J}}});var JF;var KR0=h(()=>{m4();JF=class JF extends O5{static defaultProps={...O5.defaultProps,format:void 0,dimension:void 0,aspect:"all",baseMipLevel:0,mipLevelCount:void 0,baseArrayLayer:0,arrayLayerCount:void 0};get[Symbol.toStringTag](){return"TextureView"}constructor($,Q){super($,Q,JF.defaultProps)}}});function ZR0($,Q,J){let K="",Y=Q.split(/\r?\n/),Z=$.slice().sort((q,X)=>q.lineNum-X.lineNum);switch(J?.showSourceCode||"no"){case"all":let q=0;for(let X=1;X<=Y.length;X++){K+=qR0(Y[X-1],X,J);while(Z.length>q&&Z[q].lineNum===X){let W=Z[q++];K+=YR0(W,Y,W.lineNum,{...J,inlineSource:!1})}}return K;case"issues":case"no":for(let X of $)K+=YR0(X,Y,X.lineNum,{inlineSource:J?.showSourceCode!=="no"});return K}}function YR0($,Q,J,K){if(K?.inlineSource){let Z=yX1(Q,J),q=$.linePos>0?`${" ".repeat($.linePos+5)}^^^
`:"";return`
${Z}${q}${$.type.toUpperCase()}: ${$.message}

`}let Y=$.type==="error"?"red":"#8B4000";return K?.html?`<div class='luma-compiler-log-error' style="color:${Y};"><b> ${$.type.toUpperCase()}: ${$.message}</b></div>`:`${$.type.toUpperCase()}: ${$.message}`}function yX1($,Q,J){let K="";for(let Y=Q-2;Y<=Q;Y++){let Z=$[Y-1];if(Z!==void 0)K+=qR0(Z,Q,J)}return K}function qR0($,Q,J){let K=J?.html?cX1($):$;return`${xX1(String(Q),4)}: ${K}${J?.html?"<br/>":`
`}`}function xX1($,Q){let J="";for(let K=$.length;K<Q;++K)J+=" ";return J+$}function cX1($){return $.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")}function uX1($){return XR0($.source)||$.id||qX(`unnamed ${$.stage}-shader`)}function XR0($,Q="unnamed"){let K=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/.exec($);return K?K[1]:Q}var KF;var WR0=h(()=>{m4();IG();KF=class KF extends O5{static defaultProps={...O5.defaultProps,language:"auto",stage:void 0,source:"",sourceMap:null,entryPoint:"main",debugShaders:void 0};get[Symbol.toStringTag](){return"Shader"}stage;source;compilationStatus="pending";constructor($,Q){Q={...Q,debugShaders:Q.debugShaders||$.props.debugShaders||"errors"};super($,{id:uX1(Q),...Q},KF.defaultProps);this.stage=this.props.stage,this.source=this.props.source}getCompilationInfoSync(){return null}getTranslatedSource(){return null}async debugShader(){let $=this.props.debugShaders;switch($){case"never":return;case"errors":if(this.compilationStatus==="success")return;break;case"warnings":case"always":break}let Q=await this.getCompilationInfo();if($==="warnings"&&Q?.length===0)return;this._displayShaderLog(Q)}_displayShaderLog($){if(typeof document>"u"||!document?.createElement)return;let Q=XR0(this.source),J=`${this.stage} ${Q}`,K=ZR0($,this.source,{showSourceCode:"all",html:!0}),Y=this.getTranslatedSource();if(Y)K+=`<br /><br /><h1>Translated Source</h1><br /><br /><code style="user-select:text;"><pre>${Y}</pre></code>`;let Z=document.createElement("Button");Z.innerHTML=`
<h1>Shader Compilation Error in ${J}</h1><br /><br />
<code style="user-select:text;"><pre>
${K}
</pre></code>`,Z.style.top="10px",Z.style.left="10px",Z.style.position="absolute",Z.style.zIndex="9999",Z.style.width="100%",Z.style.textAlign="left",document.body.appendChild(Z),document.getElementsByClassName("luma-compiler-log-error")[0]?.scrollIntoView(),Z.onclick=()=>{let X=`data:text/plain,${encodeURIComponent(this.source)}`;navigator.clipboard.writeText(X)}}}});var XX;var FR0=h(()=>{m4();XX=class XX extends O5{static defaultProps={...O5.defaultProps,type:"color-sampler",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge",addressModeW:"clamp-to-edge",magFilter:"nearest",minFilter:"nearest",mipmapFilter:"none",lodMinClamp:0,lodMaxClamp:32,compare:"less-equal",maxAnisotropy:1};get[Symbol.toStringTag](){return"Sampler"}constructor($,Q){Q=XX.normalizeProps($,Q);super($,Q,XX.defaultProps)}static normalizeProps($,Q){let J=$?.props?._resourceDefaults?.sampler||{};return{...Q,...J}}}});var YF;var UR0=h(()=>{m4();hd();ZK();YF=class YF extends O5{static defaultProps={...O5.defaultProps,width:1,height:1,colorAttachments:[],depthStencilAttachment:null};get[Symbol.toStringTag](){return"Framebuffer"}width;height;constructor($,Q={}){super($,Q,YF.defaultProps);this.width=this.props.width,this.height=this.props.height}clone($){let Q=this.colorAttachments.map((K)=>K.texture.clone($)),J=this.depthStencilAttachment&&this.depthStencilAttachment.texture.clone($);return this.device.createFramebuffer({...this.props,colorAttachments:Q,depthStencilAttachment:J})}resize($){let Q=!$;if($){let[J,K]=Array.isArray($)?$:[$.width,$.height];Q=Q||K!==this.height||J!==this.width,this.width=J,this.height=K}if(Q)u0.log(2,`Resizing framebuffer ${this.id} to ${this.width}x${this.height}`)(),this.resizeAttachments(this.width,this.height)}autoCreateAttachmentTextures(){if(this.props.colorAttachments.length===0&&!this.props.depthStencilAttachment)throw Error("Framebuffer has noattachments");this.colorAttachments=this.props.colorAttachments.map((Q,J)=>{if(typeof Q==="string"){let K=this.createColorTexture(Q,J);return this.attachResource(K),K.view}if(Q instanceof i5)return Q.view;return Q});let $=this.props.depthStencilAttachment;if($)if(typeof $==="string"){let Q=this.createDepthStencilTexture($);this.attachResource(Q),this.depthStencilAttachment=Q.view}else if($ instanceof i5)this.depthStencilAttachment=$.view;else this.depthStencilAttachment=$}createColorTexture($,Q){return this.device.createTexture({id:`${this.id}-color-attachment-${Q}`,usage:i5.RENDER_ATTACHMENT,format:$,width:this.width,height:this.height,sampler:{magFilter:"linear",minFilter:"linear"}})}createDepthStencilTexture($){return this.device.createTexture({id:`${this.id}-depth-stencil-attachment`,usage:i5.RENDER_ATTACHMENT,format:$,width:this.width,height:this.height,mipmaps:!1})}resizeAttachments($,Q){for(let J=0;J<this.colorAttachments.length;++J)if(this.colorAttachments[J]){let K=this.colorAttachments[J].texture.clone({width:$,height:Q});this.destroyAttachedResource(this.colorAttachments[J]),this.colorAttachments[J]=K.view,this.attachResource(K.view)}if(this.depthStencilAttachment){let J=this.depthStencilAttachment.texture.clone({width:$,height:Q});this.destroyAttachedResource(this.depthStencilAttachment),this.depthStencilAttachment=J.view,this.attachResource(J)}this.updateAttachments()}}});var qK;var HR0=h(()=>{m4();qK=class qK extends O5{static defaultProps={...O5.defaultProps,vs:null,vertexEntryPoint:"vertexMain",vsConstants:{},fs:null,fragmentEntryPoint:"fragmentMain",fsConstants:{},shaderLayout:null,bufferLayout:[],topology:"triangle-list",parameters:{},bindings:{},uniforms:{}};get[Symbol.toStringTag](){return"RenderPipeline"}shaderLayout;bufferLayout;linkStatus="pending";hash="";constructor($,Q){super($,Q,qK.defaultProps);this.shaderLayout=this.props.shaderLayout,this.bufferLayout=this.props.bufferLayout||[]}setUniformsWebGL($){throw Error("Use uniform blocks")}}});var nY;var NR0=h(()=>{m4();nY=class nY extends O5{static defaultClearColor=[0,0,0,1];static defaultClearDepth=1;static defaultClearStencil=0;static defaultProps={...O5.defaultProps,framebuffer:null,parameters:void 0,clearColor:nY.defaultClearColor,clearColors:void 0,clearDepth:nY.defaultClearDepth,clearStencil:nY.defaultClearStencil,depthReadOnly:!1,stencilReadOnly:!1,discard:!1,occlusionQuerySet:void 0,timestampQuerySet:void 0,beginTimestampIndex:void 0,endTimestampIndex:void 0};get[Symbol.toStringTag](){return"RenderPass"}constructor($,Q){Q=nY.normalizeProps($,Q);super($,Q,nY.defaultProps)}static normalizeProps($,Q){return{...$.props._resourceDefaults?.renderPass,...Q}}}});var XB;var BR0=h(()=>{m4();XB=class XB extends O5{static defaultProps={...O5.defaultProps,shader:void 0,entryPoint:void 0,constants:{},shaderLayout:void 0};get[Symbol.toStringTag](){return"ComputePipeline"}hash="";shaderLayout;constructor($,Q){super($,Q,XB.defaultProps);this.shaderLayout=Q.shaderLayout}}});var bG;var zR0=h(()=>{m4();bG=class bG extends O5{static defaultProps={...O5.defaultProps,measureExecutionTime:void 0};get[Symbol.toStringTag](){return"CommandEncoder"}constructor($,Q){super($,Q,bG.defaultProps)}}});var gG;var AR0=h(()=>{m4();gG=class gG extends O5{static defaultProps={...O5.defaultProps};get[Symbol.toStringTag](){return"CommandBuffer"}constructor($,Q){super($,Q,gG.defaultProps)}}});function VR0($){let[Q,J]=pX1[$],K=Q==="i32"||Q==="u32",Y=Q!=="u32",Z=dX1[Q]*J,q=mX1(Q,J);return{dataType:Q,components:J,defaultVertexFormat:q,byteLength:Z,integer:K,signed:Y}}function mX1($,Q){let J;switch($){case"f32":J="float32";break;case"i32":J="sint32";break;case"u32":J="uint32";break;case"f16":return Q<=2?"float16x2":"float16x4"}if(Q===1)return J;return`${J}x${Q}`}var pX1,dX1;var RR0=h(()=>{pX1={f32:["f32",1],"vec2<f32>":["f32",2],"vec3<f32>":["f32",3],"vec4<f32>":["f32",4],f16:["f16",1],"vec2<f16>":["f16",2],"vec3<f16>":["f16",3],"vec4<f16>":["f16",4],i32:["i32",1],"vec2<i32>":["i32",2],"vec3<i32>":["i32",3],"vec4<i32>":["i32",4],u32:["u32",1],"vec2<u32>":["u32",2],"vec3<u32>":["u32",3],"vec4<u32>":["u32",4]},dX1={f32:4,f16:2,i32:4,u32:4}});function vd($){let Q;if($.endsWith("-webgl"))$.replace("-webgl",""),Q=!0;let[J,K]=$.split("x"),Y=J,Z=K?parseInt(K):1,q=ij(Y),X={type:Y,components:Z,byteLength:q.byteLength*Z,integer:q.integer,signed:q.signed,normalized:q.normalized};if(Q)X.webglOnly=!0;return X}var GR0=h(()=>{kd()});function $E($,Q){let J={};for(let K of $.attributes){let Y=nX1($,Q,K.name);if(Y)J[K.name]=Y}return J}function OR0($,Q,J=16){let K=$E($,Q),Y=Array(J).fill(null);for(let Z of Object.values(K))Y[Z.location]=Z;return Y}function nX1($,Q,J){let K=lX1($,J),Y=rX1(Q,J);if(!K)return null;let Z=VR0(K.type),q=Y?.vertexFormat||Z.defaultVertexFormat,X=vd(q);return{attributeName:Y?.attributeName||K.name,bufferName:Y?.bufferName||K.name,location:K.location,shaderType:K.type,shaderDataType:Z.dataType,shaderComponents:Z.components,vertexFormat:q,bufferDataType:X.type,bufferComponents:X.components,normalized:X.normalized,integer:Z.integer,stepMode:Y?.stepMode||K.stepMode||"vertex",byteOffset:Y?.byteOffset||0,byteStride:Y?.byteStride||0}}function lX1($,Q){let J=$.attributes.find((K)=>K.name===Q);if(!J)u0.warn(`shader layout attribute "${Q}" not present in shader`);return J||null}function rX1($,Q){iX1($);let J=sX1($,Q);if(J)return J;if(J=oX1($,Q),J)return J;return u0.warn(`layout for attribute "${Q}" not present in buffer layout`),null}function iX1($){for(let Q of $)if(Q.attributes&&Q.format||!Q.attributes&&!Q.format)u0.warn(`BufferLayout ${name} must have either 'attributes' or 'format' field`)}function sX1($,Q){for(let J of $)if(J.format&&J.name===Q)return{attributeName:J.name,bufferName:Q,stepMode:J.stepMode,vertexFormat:J.format,byteOffset:0,byteStride:J.byteStride||0};return null}function oX1($,Q){for(let J of $){let K=J.byteStride;if(typeof J.byteStride!=="number")for(let Z of J.attributes||[]){let q=vd(Z.format);K+=q.byteLength}let Y=J.attributes?.find((Z)=>Z.attribute===Q);if(Y)return{attributeName:Y.attribute,bufferName:J.name,stepMode:J.stepMode,vertexFormat:Y.format,byteOffset:Y.byteOffset,byteStride:K}}return null}var Sd=h(()=>{ZK();RR0();GR0()});var yG;var wR0=h(()=>{Sd();m4();yG=class yG extends O5{static defaultProps={...O5.defaultProps,renderPipeline:null};get[Symbol.toStringTag](){return"VertexArray"}maxVertexAttributes;attributeInfos;indexBuffer=null;attributes;constructor($,Q){super($,Q,yG.defaultProps);this.maxVertexAttributes=$.limits.maxVertexAttributes,this.attributes=Array(this.maxVertexAttributes).fill(null);let{shaderLayout:J,bufferLayout:K}=Q.renderPipeline||{};if(!J||!K)throw Error("VertexArray");this.attributeInfos=OR0(J,K,this.maxVertexAttributes)}setConstantWebGL($,Q){this.device.reportError(Error("constant attributes not supported"))}}});var xG;var TR0=h(()=>{m4();xG=class xG extends O5{static defaultProps={...O5.defaultProps,layout:void 0,buffers:{}};get[Symbol.toStringTag](){return"TransformFeedback"}constructor($,Q){super($,Q,xG.defaultProps)}}});var cG;var DR0=h(()=>{m4();cG=class cG extends O5{static defaultProps={...O5.defaultProps,type:void 0,count:void 0};get[Symbol.toStringTag](){return"QuerySet"}constructor($,Q){super($,Q,cG.defaultProps)}}});function CR0($){return aX1[$]}function PR0($,Q){switch(Q){case 1:return $;case 2:return $+$%2;default:return $+(4-$%4)%4}}var aX1;var kR0=h(()=>{aX1={f32:{type:"f32",components:1},i32:{type:"i32",components:1},u32:{type:"u32",components:1},"vec2<f32>":{type:"f32",components:2},"vec3<f32>":{type:"f32",components:3},"vec4<f32>":{type:"f32",components:4},"vec2<i32>":{type:"i32",components:2},"vec3<i32>":{type:"i32",components:3},"vec4<i32>":{type:"i32",components:4},"vec2<u32>":{type:"u32",components:2},"vec3<u32>":{type:"u32",components:3},"vec4<u32>":{type:"u32",components:4},"mat2x2<f32>":{type:"f32",components:4},"mat2x3<f32>":{type:"f32",components:6},"mat2x4<f32>":{type:"f32",components:8},"mat3x2<f32>":{type:"f32",components:6},"mat3x3<f32>":{type:"f32",components:9},"mat3x4<f32>":{type:"f32",components:12},"mat4x2<f32>":{type:"f32",components:8},"mat4x3<f32>":{type:"f32",components:12},"mat4x4<f32>":{type:"f32",components:16}}});function _d($){if(!QE||QE.byteLength<$)QE=new ArrayBuffer($);return QE}function fd($,Q){let J=_d($.BYTES_PER_ELEMENT*Q);return new $(J,0,Q)}var QE;function tX1($){return ArrayBuffer.isView($)&&!($ instanceof DataView)}function WB($){if(Array.isArray($))return $.length===0||typeof $[0]==="number";return tX1($)}class Id{layout={};byteLength;constructor($){let Q=0;for(let[K,Y]of Object.entries($)){let Z=CR0(Y),{type:q,components:X}=Z;Q=PR0(Q,X);let W=Q;Q+=X,this.layout[K]={type:q,size:X,offset:W}}Q+=(4-Q%4)%4;let J=Q*4;this.byteLength=Math.max(J,jR0)}getData($){let Q=Math.max(this.byteLength,jR0),J=_d(Q),K={i32:new Int32Array(J),u32:new Uint32Array(J),f32:new Float32Array(J),f16:new Uint16Array(J)};for(let[Y,Z]of Object.entries($)){let q=this.layout[Y];if(!q){u0.warn(`Supplied uniform value ${Y} not present in uniform block layout`)();continue}let{type:X,size:W,offset:F}=q,H=K[X];if(W===1){if(typeof Z!=="number"&&typeof Z!=="boolean"){u0.warn(`Supplied value for single component uniform ${Y} is not a number: ${Z}`)();continue}H[F]=Number(Z)}else{if(!WB(Z)){u0.warn(`Supplied value for multi component / array uniform ${Y} is not a numeric array: ${Z}`)();continue}H.set(Z,F)}}return new Uint8Array(J)}has($){return Boolean(this.layout[$])}get($){return this.layout[$]}}var jR0=1024;var ER0=h(()=>{kR0();ZK()});function LR0($,Q,J=16){if($!==Q)return!1;let K=$,Y=Q;if(!WB(K))return!1;if(WB(Y)&&K.length===Y.length){for(let Z=0;Z<K.length;++Z)if(Y[Z]!==K[Z])return!1}return!0}function hR0($){if(WB($))return $.slice();return $}var vR0=()=>{};class Md{name;uniforms={};modifiedUniforms={};modified=!0;bindingLayout={};needsRedraw="initialized";constructor($){if(this.name=$?.name||"unnamed",$?.name&&$?.shaderLayout){let Q=$?.shaderLayout.bindings?.find((K)=>K.type==="uniform"&&K.name===$?.name);if(!Q)throw Error($?.name);let J=Q;for(let K of J.uniforms||[])this.bindingLayout[K.name]=K}}setUniforms($){for(let[Q,J]of Object.entries($))if(this._setUniform(Q,J),!this.needsRedraw)this.setNeedsRedraw(`${this.name}.${Q}=${J}`)}setNeedsRedraw($){this.needsRedraw=this.needsRedraw||$}getAllUniforms(){return this.modifiedUniforms={},this.needsRedraw=!1,this.uniforms||{}}_setUniform($,Q){if(LR0(this.uniforms[$],Q))return;this.uniforms[$]=hR0(Q),this.modifiedUniforms[$]=!0,this.modified=!0}}var SR0=h(()=>{vR0()});class JE{uniformBlocks=new Map;uniformBufferLayouts=new Map;uniformBuffers=new Map;constructor($){for(let[Q,J]of Object.entries($)){let K=Q,Y=new Id(J.uniformTypes||{});this.uniformBufferLayouts.set(K,Y);let Z=new Md({name:Q});Z.setUniforms(J.defaultUniforms||{}),this.uniformBlocks.set(K,Z)}}destroy(){for(let $ of this.uniformBuffers.values())$.destroy()}setUniforms($){for(let[Q,J]of Object.entries($))this.uniformBlocks.get(Q)?.setUniforms(J);this.updateUniformBuffers()}getUniformBufferByteLength($){return this.uniformBufferLayouts.get($)?.byteLength||0}getUniformBufferData($){let Q=this.uniformBlocks.get($)?.getAllUniforms()||{};return this.uniformBufferLayouts.get($)?.getData(Q)}createUniformBuffer($,Q,J){if(J)this.setUniforms(J);let K=this.getUniformBufferByteLength(Q),Y=$.createBuffer({usage:u5.UNIFORM|u5.COPY_DST,byteLength:K}),Z=this.getUniformBufferData(Q);return Y.write(Z),Y}getManagedUniformBuffer($,Q){if(!this.uniformBuffers.get(Q)){let J=this.getUniformBufferByteLength(Q),K=$.createBuffer({usage:u5.UNIFORM|u5.COPY_DST,byteLength:J});this.uniformBuffers.set(Q,K)}return this.uniformBuffers.get(Q)}updateUniformBuffers(){let $=!1;for(let Q of this.uniformBlocks.keys()){let J=this.updateUniformBuffer(Q);$||=J}if($)u0.log(3,`UniformStore.updateUniformBuffers(): ${$}`)();return $}updateUniformBuffer($){let Q=this.uniformBlocks.get($),J=this.uniformBuffers.get($),K=!1;if(J&&Q?.needsRedraw){K||=Q.needsRedraw;let Y=this.getUniformBufferData($);J=this.uniformBuffers.get($),J?.write(Y);let Z=this.uniformBlocks.get($)?.getAllUniforms();u0.log(4,`Writing to uniform buffer ${String($)}`,Y,Z)()}return K}}var _R0=h(()=>{rj();ZK();SR0();ER0()});function KE($){let Q=ArrayBuffer.isView($)?$.constructor:$;switch(Q){case Float32Array:return"float32";case Uint16Array:return"uint16";case Uint32Array:return"uint32";case Uint8Array:case Uint8ClampedArray:return"uint8";case Int8Array:return"sint8";case Int16Array:return"sint16";case Int32Array:return"sint32";default:throw Error(Q.constructor.name)}}function uG($){switch($){case"float32":return Float32Array;case"uint32":return Uint32Array;case"sint32":return Int32Array;case"uint16":case"unorm16":return Uint16Array;case"sint16":case"snorm16":return Int16Array;case"uint8":case"unorm8":return Uint8Array;case"sint8":case"snorm8":return Int8Array;default:throw Error($)}}function bd($,Q,J){if(!Q||Q>4)throw Error(`size ${Q}`);let K=Q,Y=KE($);if(Y==="uint8"&&J&&K===1)return"unorm8-webgl";if(Y==="uint8"&&J&&K===3)return"unorm8x3-webgl";if(Y==="uint8"||Y==="sint8"){if(K===1||K===3)throw Error(`size: ${Q}`);if(J)Y=Y.replace("int","norm");return`${Y}x${K}`}if(Y==="uint16"||Y==="sint16"){if(K===1||K===3)throw Error(`size: ${Q}`);if(J)Y=Y.replace("int","norm");return`${Y}x${K}`}if(K===1)return Y;return`${Y}x${K}`}class FB{bufferLayouts;constructor($){this.bufferLayouts=$}getBufferLayout($){return this.bufferLayouts.find((Q)=>Q.name===$)||null}getAttributeNamesForBuffer($){return $.attributes?$.attributes?.map((Q)=>Q.attribute):[$.name]}mergeBufferLayouts($,Q){let J=[...$];for(let K of Q){let Y=J.findIndex((Z)=>Z.name===K.name);if(Y<0)J.push(K);else J[Y]=K}return J}getBufferIndex($){let Q=this.bufferLayouts.findIndex((J)=>J.name===$);if(Q===-1)u0.warn(`BufferLayout: Missing buffer for "${$}".`)();return Q}}var fR0=h(()=>{ZK()});function gd($,Q){let J=Object.fromEntries($.attributes.map((Y)=>[Y.name,Y.location])),K=Q.slice();return K.sort((Y,Z)=>{let q=Y.attributes?Y.attributes.map((H)=>H.attribute):[Y.name],X=Z.attributes?Z.attributes.map((H)=>H.attribute):[Z.name],W=Math.min(...q.map((H)=>J[H])),F=Math.min(...X.map((H)=>J[H]));return W-F}),K}var v5=h(()=>{eV0();Ld();JR0();rj();hd();KR0();WR0();FR0();UR0();HR0();NR0();BR0();zR0();AR0();wR0();TR0();DR0();_R0();oj();ZK();fR0();Sd()});class z3{constructor($,Q){this.name=$,this.attributes=Q,this.size=0}get isArray(){return!1}get isStruct(){return!1}get isTemplate(){return!1}get isPointer(){return!1}getTypeName(){return this.name}}class cd{constructor($,Q,J){this.name=$,this.type=Q,this.attributes=J,this.offset=0,this.size=0}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class mG{constructor($,Q,J,K,Y,Z,q){this.name=$,this.type=Q,this.group=J,this.binding=K,this.attributes=Y,this.resourceType=Z,this.access=q}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get size(){return this.type.size}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class bR0{constructor($,Q){this.name=$,this.type=Q}}class gR0{constructor($,Q,J,K){this.name=$,this.type=Q,this.locationType=J,this.location=K,this.interpolation=null}}class ud{constructor($,Q,J,K){this.name=$,this.type=Q,this.locationType=J,this.location=K}}class yR0{constructor($,Q,J,K){this.name=$,this.type=Q,this.attributes=J,this.id=K}}class xR0{constructor($,Q,J){this.name=$,this.type=Q,this.attributes=J}}class cR0{constructor($,Q=null,J){this.stage=null,this.inputs=[],this.outputs=[],this.arguments=[],this.returnType=null,this.resources=[],this.overrides=[],this.startLine=-1,this.endLine=-1,this.inUse=!1,this.calls=new Set,this.name=$,this.stage=Q,this.attributes=J}}class uR0{constructor(){this.vertex=[],this.fragment=[],this.compute=[]}}function eX1($){var Q=(32768&$)>>15,J=(31744&$)>>10,K=1023&$;return J==0?(Q?-1:1)*Math.pow(2,-14)*(K/Math.pow(2,10)):J==31?K?NaN:1/0*(Q?-1:1):(Q?-1:1)*Math.pow(2,J-15)*(1+K/Math.pow(2,10))}function Q21($){mR0[0]=$;let Q=$21[0],J=Q>>31&1,K=Q>>23&255,Y=8388607&Q;if(K===255)return F4[0]=J<<15|31744|(Y!==0?512:0),F4[0];if(K===0){if(Y===0)return F4[0]=J<<15,F4[0];Y|=8388608;let Z=113;for(;!(8388608&Y);)Y<<=1,Z--;return K=127-Z,Y&=8388607,K>0?(Y=(Y>>126-K)+(Y>>127-K&1),F4[0]=J<<15|K<<10|Y>>13,F4[0]):(F4[0]=J<<15,F4[0])}return K=K-127+15,K>=31?(F4[0]=J<<15|31744,F4[0]):K<=0?K<-10?(F4[0]=J<<15,F4[0]):(Y=(8388608|Y)>>1-K,F4[0]=J<<15|Y>>13,F4[0]):(Y>>=13,F4[0]=J<<15|K<<10|Y,F4[0])}function IR0($){let Q=112+($>>6&31)<<23|(63&$)<<17;return ld[0]=Q,pR0[0]}function J21($,Q,J,K,Y,Z,q,X,W){let F=K*(q>>=Y)*(Z>>=Y)+J*q+Q*X;switch(W){case"r8unorm":return[U6($,F,"8unorm",1)[0]];case"r8snorm":return[U6($,F,"8snorm",1)[0]];case"r8uint":return[U6($,F,"8uint",1)[0]];case"r8sint":return[U6($,F,"8sint",1)[0]];case"rg8unorm":{let H=U6($,F,"8unorm",2);return[H[0],H[1]]}case"rg8snorm":{let H=U6($,F,"8snorm",2);return[H[0],H[1]]}case"rg8uint":{let H=U6($,F,"8uint",2);return[H[0],H[1]]}case"rg8sint":{let H=U6($,F,"8sint",2);return[H[0],H[1]]}case"rgba8unorm-srgb":case"rgba8unorm":{let H=U6($,F,"8unorm",4);return[H[0],H[1],H[2],H[3]]}case"rgba8snorm":{let H=U6($,F,"8snorm",4);return[H[0],H[1],H[2],H[3]]}case"rgba8uint":{let H=U6($,F,"8uint",4);return[H[0],H[1],H[2],H[3]]}case"rgba8sint":{let H=U6($,F,"8sint",4);return[H[0],H[1],H[2],H[3]]}case"bgra8unorm-srgb":case"bgra8unorm":{let H=U6($,F,"8unorm",4);return[H[2],H[1],H[0],H[3]]}case"r16uint":return[U6($,F,"16uint",1)[0]];case"r16sint":return[U6($,F,"16sint",1)[0]];case"r16float":return[U6($,F,"16float",1)[0]];case"rg16uint":{let H=U6($,F,"16uint",2);return[H[0],H[1]]}case"rg16sint":{let H=U6($,F,"16sint",2);return[H[0],H[1]]}case"rg16float":{let H=U6($,F,"16float",2);return[H[0],H[1]]}case"rgba16uint":{let H=U6($,F,"16uint",4);return[H[0],H[1],H[2],H[3]]}case"rgba16sint":{let H=U6($,F,"16sint",4);return[H[0],H[1],H[2],H[3]]}case"rgba16float":{let H=U6($,F,"16float",4);return[H[0],H[1],H[2],H[3]]}case"r32uint":return[U6($,F,"32uint",1)[0]];case"r32sint":return[U6($,F,"32sint",1)[0]];case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return[U6($,F,"32float",1)[0]];case"rg32uint":{let H=U6($,F,"32uint",2);return[H[0],H[1]]}case"rg32sint":{let H=U6($,F,"32sint",2);return[H[0],H[1]]}case"rg32float":{let H=U6($,F,"32float",2);return[H[0],H[1]]}case"rgba32uint":{let H=U6($,F,"32uint",4);return[H[0],H[1],H[2],H[3]]}case"rgba32sint":{let H=U6($,F,"32sint",4);return[H[0],H[1],H[2],H[3]]}case"rgba32float":{let H=U6($,F,"32float",4);return[H[0],H[1],H[2],H[3]]}case"rg11b10ufloat":{let H=new Uint32Array($.buffer,F,1)[0],B=(4192256&H)>>11,z=(4290772992&H)>>22;return[IR0(2047&H),IR0(B),function(A){let R=112+(A>>5&31)<<23|(31&A)<<18;return ld[0]=R,pR0[0]}(z),1]}}return null}function U6($,Q,J,K){let Y=[0,0,0,0];for(let Z=0;Z<K;++Z)switch(J){case"8unorm":Y[Z]=$[Q]/255,Q++;break;case"8snorm":Y[Z]=$[Q]/255*2-1,Q++;break;case"8uint":Y[Z]=$[Q],Q++;break;case"8sint":Y[Z]=$[Q]-127,Q++;break;case"16uint":Y[Z]=$[Q]|$[Q+1]<<8,Q+=2;break;case"16sint":Y[Z]=($[Q]|$[Q+1]<<8)-32768,Q+=2;break;case"16float":Y[Z]=eX1($[Q]|$[Q+1]<<8),Q+=2;break;case"32uint":case"32sint":Y[Z]=$[Q]|$[Q+1]<<8|$[Q+2]<<16|$[Q+3]<<24,Q+=4;break;case"32float":Y[Z]=new Float32Array($.buffer,Q,1)[0],Q+=4}return Y}function z6($,Q,J,K,Y){for(let Z=0;Z<K;++Z)switch(J){case"8unorm":$[Q]=255*Y[Z],Q++;break;case"8snorm":$[Q]=0.5*(Y[Z]+1)*255,Q++;break;case"8uint":$[Q]=Y[Z],Q++;break;case"8sint":$[Q]=Y[Z]+127,Q++;break;case"16uint":new Uint16Array($.buffer,Q,1)[0]=Y[Z],Q+=2;break;case"16sint":new Int16Array($.buffer,Q,1)[0]=Y[Z],Q+=2;break;case"16float":{let q=Q21(Y[Z]);new Uint16Array($.buffer,Q,1)[0]=q,Q+=2;break}case"32uint":new Uint32Array($.buffer,Q,1)[0]=Y[Z],Q+=4;break;case"32sint":new Int32Array($.buffer,Q,1)[0]=Y[Z],Q+=4;break;case"32float":new Float32Array($.buffer,Q,1)[0]=Y[Z],Q+=4}return Y}class T${constructor(){this.id=T$._id++,this.line=0}get isAstNode(){return!0}get astNodeType(){return""}search($){$(this)}searchBlock($,Q){if($){Q(iG.instance);for(let J of $)J instanceof Array?this.searchBlock(J,Q):J.search(Q);Q(sG.instance)}}constEvaluate($,Q){throw Error("Cannot evaluate node")}constEvaluateString($){return this.constEvaluate($).toString()}}class w${constructor($,Q){this.parent=null,this.typeInfo=$,this.parent=Q,this.id=w$._id++}clone(){throw`Clone: Not implemented for ${this.constructor.name}`}setDataValue($,Q,J,K){console.error(`SetDataValue: Not implemented for ${this.constructor.name}`)}getSubData($,Q,J){return console.error(`GetDataValue: Not implemented for ${this.constructor.name}`),null}toString(){return`<${this.typeInfo.getTypeName()}>`}}function K21($,Q,J){let K=Q.length;return K===2?J==="f32"?new a(new Float32Array(Q),$.getTypeInfo("vec2f")):J==="i32"||J==="bool"?new a(new Int32Array(Q),$.getTypeInfo("vec2i")):J==="u32"?new a(new Uint32Array(Q),$.getTypeInfo("vec2u")):J==="f16"?new a(new Float32Array(Q),$.getTypeInfo("vec2h")):(console.error(`getSubData: Unknown format ${J}`),null):K===3?J==="f32"?new a(new Float32Array(Q),$.getTypeInfo("vec3f")):J==="i32"||J==="bool"?new a(new Int32Array(Q),$.getTypeInfo("vec3i")):J==="u32"?new a(new Uint32Array(Q),$.getTypeInfo("vec3u")):J==="f16"?new a(new Float32Array(Q),$.getTypeInfo("vec3h")):(console.error(`getSubData: Unknown format ${J}`),null):K===4?J==="f32"?new a(new Float32Array(Q),$.getTypeInfo("vec4f")):J==="i32"||J==="bool"?new a(new Int32Array(Q),$.getTypeInfo("vec4i")):J==="u32"?new a(new Uint32Array(Q),$.getTypeInfo("vec4u")):J==="f16"?new a(new Float32Array(Q),$.getTypeInfo("vec4h")):(console.error(`getSubData: Unknown format ${J}`),null):(console.error(`getSubData: Invalid vector size ${Q.length}`),null)}class B0{constructor($,Q,J){this.name=$,this.type=Q,this.rule=J}toString(){return this.name}}class i{}class nd{constructor($,Q,J,K,Y){this.type=$,this.lexeme=Q,this.line=J,this.start=K,this.end=Y}toString(){return this.lexeme}isTemplateType(){return i.template_types.indexOf(this.type)!=-1}isArrayType(){return this.type==i.keywords.array}isArrayOrTemplateType(){return this.isArrayType()||this.isTemplateType()}}class oR0{constructor($){this._tokens=[],this._start=0,this._current=0,this._line=1,this._source=$!=null?$:""}scanTokens(){for(;!this._isAtEnd();)if(this._start=this._current,!this.scanToken())throw`Invalid syntax at line ${this._line}`;return this._tokens.push(new nd(i.eof,"",this._line,this._current,this._current)),this._tokens}scanToken(){let $=this._advance();if($==`
`)return this._line++,!0;if(this._isWhitespace($))return!0;if($=="/"){if(this._peekAhead()=="/"){for(;$!=`
`;){if(this._isAtEnd())return!0;$=this._advance()}return this._line++,!0}if(this._peekAhead()=="*"){this._advance();let Z=1;for(;Z>0;){if(this._isAtEnd())return!0;if($=this._advance(),$==`
`)this._line++;else if($=="*"){if(this._peekAhead()=="/"&&(this._advance(),Z--,Z==0))return!0}else $=="/"&&this._peekAhead()=="*"&&(this._advance(),Z++)}return!0}}let Q=i.simpleTokens[$];if(Q)return this._addToken(Q),!0;let J=i.none,K=this._isAlpha($),Y=$==="_";if(this._isAlphaNumeric($)){let Z=this._peekAhead();for(;this._isAlphaNumeric(Z);)$+=this._advance(),Z=this._peekAhead()}if(K){let Z=i.keywords[$];if(Z)return this._addToken(Z),!0}if(K||Y)return this._addToken(i.tokens.ident),!0;for(;;){let Z=this._findType($),q=this._peekAhead();if($=="-"&&this._tokens.length>0){if(q=="=")return this._current++,$+=q,this._addToken(i.tokens.minus_equal),!0;if(q=="-")return this._current++,$+=q,this._addToken(i.tokens.minus_minus),!0;let X=this._tokens.length-1;if((i.literal_or_ident.indexOf(this._tokens[X].type)!=-1||this._tokens[X].type==i.tokens.paren_right)&&q!=">")return this._addToken(Z),!0}if($==">"&&(q==">"||q=="=")){let X=!1,W=this._tokens.length-1;for(let F=0;F<5&&W>=0&&i.assignment_operators.indexOf(this._tokens[W].type)===-1;++F,--W)if(this._tokens[W].type===i.tokens.less_than){W>0&&this._tokens[W-1].isArrayOrTemplateType()&&(X=!0);break}if(X)return this._addToken(Z),!0}if(Z===i.none){let X=$,W=0,F=2;for(let H=0;H<F;++H)if(X+=this._peekAhead(H),Z=this._findType(X),Z!==i.none){W=H;break}if(Z===i.none)return J!==i.none&&(this._current--,this._addToken(J),!0);$=X,this._current+=W+1}if(J=Z,this._isAtEnd())break;$+=this._advance()}return J!==i.none&&(this._addToken(J),!0)}_findType($){for(let J in i.regexTokens){let K=i.regexTokens[J];if(this._match($,K.rule))return K}return i.literalTokens[$]||i.none}_match($,Q){let J=Q.exec($);return J&&J.index==0&&J[0]==$}_isAtEnd(){return this._current>=this._source.length}_isAlpha($){return!this._isNumeric($)&&!this._isWhitespace($)&&$!=="_"&&$!=="."&&$!=="("&&$!==")"&&$!=="["&&$!=="]"&&$!=="{"&&$!=="}"&&$!==","&&$!==";"&&$!==":"&&$!=="="&&$!=="!"&&$!=="<"&&$!==">"&&$!=="+"&&$!=="-"&&$!=="*"&&$!=="/"&&$!=="%"&&$!=="&"&&$!=="|"&&$!=="^"&&$!=="~"&&$!=="@"&&$!=="#"&&$!=="?"&&$!=="'"&&$!=="`"&&$!=='"'&&$!=="\\"&&$!==`
`&&$!=="\r"&&$!=="\t"&&$!=="\x00"}_isNumeric($){return $>="0"&&$<="9"}_isAlphaNumeric($){return this._isAlpha($)||this._isNumeric($)||$==="_"}_isWhitespace($){return $==" "||$=="\t"||$=="\r"}_advance($=0){let Q=this._source[this._current];return $=$||0,$++,this._current+=$,Q}_peekAhead($=0){return $=$||0,this._current+$>=this._source.length?"\x00":this._source[this._current+$]}_addToken($){let Q=this._source.substring(this._start,this._current);this._tokens.push(new nd($,Q,this._line,this._start,this._current))}}function H1($){return Array.isArray($)||($==null?void 0:$.buffer)instanceof ArrayBuffer}function MR0($,Q,J){if(Q===J)return $;if(Q==="f32"){if(J==="i32"||J==="x32")return XE[0]=$,Y21[0];if(J==="u32")return XE[0]=$,Z21[0]}else if(Q==="i32"||Q==="x32"){if(J==="f32")return WE[0]=$,q21[0];if(J==="u32")return WE[0]=$,X21[0]}else if(Q==="u32"){if(J==="f32")return FE[0]=$,W21[0];if(J==="i32"||J==="x32")return FE[0]=$,F21[0]}return console.error(`Unsupported cast from ${Q} to ${J}`),$}class aR0{constructor($){this.resources=null,this.inUse=!1,this.info=null,this.node=$}}class dG{constructor($,Q){this.align=$,this.size=Q}}class FK{constructor(){this.uniforms=[],this.storage=[],this.textures=[],this.samplers=[],this.aliases=[],this.overrides=[],this.structs=[],this.entry=new uR0,this.functions=[],this._types=new Map,this._functions=new Map}_isStorageTexture($){return $.name=="texture_storage_1d"||$.name=="texture_storage_2d"||$.name=="texture_storage_2d_array"||$.name=="texture_storage_3d"}updateAST($){for(let Q of $)Q instanceof zB&&this._functions.set(Q.name,new aR0(Q));for(let Q of $)if(Q instanceof XK){let J=this.getTypeInfo(Q,null);J instanceof rY&&this.structs.push(J)}for(let Q of $)if(Q instanceof NE)this.aliases.push(this._getAliasInfo(Q));else{if(Q instanceof UE){let J=Q,K=this._getAttributeNum(J.attributes,"id",0),Y=J.type!=null?this.getTypeInfo(J.type,J.attributes):null;this.overrides.push(new yR0(J.name,Y,J.attributes,K));continue}if(this._isUniformVar(Q)){let J=Q,K=this._getAttributeNum(J.attributes,"group",0),Y=this._getAttributeNum(J.attributes,"binding",0),Z=this.getTypeInfo(J.type,J.attributes),q=new mG(J.name,Z,K,Y,J.attributes,WX.Uniform,J.access);q.access||(q.access="read"),this.uniforms.push(q);continue}if(this._isStorageVar(Q)){let J=Q,K=this._getAttributeNum(J.attributes,"group",0),Y=this._getAttributeNum(J.attributes,"binding",0),Z=this.getTypeInfo(J.type,J.attributes),q=this._isStorageTexture(Z),X=new mG(J.name,Z,K,Y,J.attributes,q?WX.StorageTexture:WX.Storage,J.access);X.access||(X.access="read"),this.storage.push(X);continue}if(this._isTextureVar(Q)){let J=Q,K=this._getAttributeNum(J.attributes,"group",0),Y=this._getAttributeNum(J.attributes,"binding",0),Z=this.getTypeInfo(J.type,J.attributes),q=this._isStorageTexture(Z),X=new mG(J.name,Z,K,Y,J.attributes,q?WX.StorageTexture:WX.Texture,J.access);X.access||(X.access="read"),q?this.storage.push(X):this.textures.push(X);continue}if(this._isSamplerVar(Q)){let J=Q,K=this._getAttributeNum(J.attributes,"group",0),Y=this._getAttributeNum(J.attributes,"binding",0),Z=this.getTypeInfo(J.type,J.attributes),q=new mG(J.name,Z,K,Y,J.attributes,WX.Sampler,J.access);this.samplers.push(q);continue}}for(let Q of $)if(Q instanceof zB){let J=this._getAttribute(Q,"vertex"),K=this._getAttribute(Q,"fragment"),Y=this._getAttribute(Q,"compute"),Z=J||K||Y,q=new cR0(Q.name,Z==null?void 0:Z.name,Q.attributes);q.attributes=Q.attributes,q.startLine=Q.startLine,q.endLine=Q.endLine,this.functions.push(q),this._functions.get(Q.name).info=q,Z&&(this._functions.get(Q.name).inUse=!0,q.inUse=!0,q.resources=this._findResources(Q,!!Z),q.inputs=this._getInputs(Q.args),q.outputs=this._getOutputs(Q.returnType),this.entry[Z.name].push(q)),q.arguments=Q.args.map((X)=>new xR0(X.name,this.getTypeInfo(X.type,X.attributes),X.attributes)),q.returnType=Q.returnType?this.getTypeInfo(Q.returnType,Q.attributes):null;continue}for(let Q of this._functions.values())Q.info&&(Q.info.inUse=Q.inUse,this._addCalls(Q.node,Q.info.calls));for(let Q of this._functions.values())Q.node.search((J)=>{var K,Y,Z;if(J instanceof Un){if(J.value)if(H1(J.value))for(let q of J.value)for(let X of this.overrides)q===X.name&&((K=Q.info)===null||K===void 0||K.overrides.push(X));else for(let q of this.overrides)J.value===q.name&&((Y=Q.info)===null||Y===void 0||Y.overrides.push(q))}else if(J instanceof C9)for(let q of this.overrides)J.name===q.name&&((Z=Q.info)===null||Z===void 0||Z.overrides.push(q))});for(let Q of this.uniforms)this._markStructsInUse(Q.type);for(let Q of this.storage)this._markStructsInUse(Q.type)}getFunctionInfo($){for(let Q of this.functions)if(Q.name==$)return Q;return null}getStructInfo($){for(let Q of this.structs)if(Q.name==$)return Q;return null}getOverrideInfo($){for(let Q of this.overrides)if(Q.name==$)return Q;return null}_markStructsInUse($){if($)if($.isStruct){if($.inUse=!0,$.members)for(let Q of $.members)this._markStructsInUse(Q.type)}else if($.isArray)this._markStructsInUse($.format);else if($.isTemplate)$.format&&this._markStructsInUse($.format);else{let Q=this._getAlias($.name);Q&&this._markStructsInUse(Q)}}_addCalls($,Q){var J;for(let K of $.calls){let Y=(J=this._functions.get(K.name))===null||J===void 0?void 0:J.info;Y&&Q.add(Y)}}findResource($,Q,J){if(J){for(let K of this.entry.compute)if(K.name===J){for(let Y of K.resources)if(Y.group==$&&Y.binding==Q)return Y}for(let K of this.entry.vertex)if(K.name===J){for(let Y of K.resources)if(Y.group==$&&Y.binding==Q)return Y}for(let K of this.entry.fragment)if(K.name===J){for(let Y of K.resources)if(Y.group==$&&Y.binding==Q)return Y}}for(let K of this.uniforms)if(K.group==$&&K.binding==Q)return K;for(let K of this.storage)if(K.group==$&&K.binding==Q)return K;for(let K of this.textures)if(K.group==$&&K.binding==Q)return K;for(let K of this.samplers)if(K.group==$&&K.binding==Q)return K;return null}_findResource($){for(let Q of this.uniforms)if(Q.name==$)return Q;for(let Q of this.storage)if(Q.name==$)return Q;for(let Q of this.textures)if(Q.name==$)return Q;for(let Q of this.samplers)if(Q.name==$)return Q;return null}_markStructsFromAST($){let Q=this.getTypeInfo($,null);this._markStructsInUse(Q)}_findResources($,Q){let J=[],K=this,Y=[];return $.search((Z)=>{if(Z instanceof iG)Y.push({});else if(Z instanceof sG)Y.pop();else if(Z instanceof WK){let q=Z;Q&&q.type!==null&&this._markStructsFromAST(q.type),Y.length>0&&(Y[Y.length-1][q.name]=q)}else if(Z instanceof _Q){let q=Z;Q&&q.type!==null&&this._markStructsFromAST(q.type)}else if(Z instanceof NB){let q=Z;Q&&q.type!==null&&this._markStructsFromAST(q.type),Y.length>0&&(Y[Y.length-1][q.name]=q)}else if(Z instanceof C9){let q=Z;if(Y.length>0){if(Y[Y.length-1][q.name])return}let X=K._findResource(q.name);X&&J.push(X)}else if(Z instanceof BE){let q=Z,X=K._functions.get(q.name);X&&(Q&&(X.inUse=!0),$.calls.add(X.node),X.resources===null&&(X.resources=K._findResources(X.node,Q)),J.push(...X.resources))}else if(Z instanceof HE){let q=Z,X=K._functions.get(q.name);X&&(Q&&(X.inUse=!0),$.calls.add(X.node),X.resources===null&&(X.resources=K._findResources(X.node,Q)),J.push(...X.resources))}}),[...new Map(J.map((Z)=>[Z.name,Z])).values()]}getBindGroups(){let $=[];function Q(J,K){J>=$.length&&($.length=J+1),$[J]===void 0&&($[J]=[]),K>=$[J].length&&($[J].length=K+1)}for(let J of this.uniforms)Q(J.group,J.binding),$[J.group][J.binding]=J;for(let J of this.storage)Q(J.group,J.binding),$[J.group][J.binding]=J;for(let J of this.textures)Q(J.group,J.binding),$[J.group][J.binding]=J;for(let J of this.samplers)Q(J.group,J.binding),$[J.group][J.binding]=J;return $}_getOutputs($,Q=void 0){if(Q===void 0&&(Q=[]),$ instanceof XK)this._getStructOutputs($,Q);else{let J=this._getOutputInfo($);J!==null&&Q.push(J)}return Q}_getStructOutputs($,Q){for(let J of $.members)if(J.type instanceof XK)this._getStructOutputs(J.type,Q);else{let K=this._getAttribute(J,"location")||this._getAttribute(J,"builtin");if(K!==null){let Y=this.getTypeInfo(J.type,J.type.attributes),Z=this._parseInt(K.value),q=new ud(J.name,Y,K.name,Z);Q.push(q)}}}_getOutputInfo($){let Q=this._getAttribute($,"location")||this._getAttribute($,"builtin");if(Q!==null){let J=this.getTypeInfo($,$.attributes),K=this._parseInt(Q.value);return new ud("",J,Q.name,K)}return null}_getInputs($,Q=void 0){Q===void 0&&(Q=[]);for(let J of $)if(J.type instanceof XK)this._getStructInputs(J.type,Q);else{let K=this._getInputInfo(J);K!==null&&Q.push(K)}return Q}_getStructInputs($,Q){for(let J of $.members)if(J.type instanceof XK)this._getStructInputs(J.type,Q);else{let K=this._getInputInfo(J);K!==null&&Q.push(K)}}_getInputInfo($){let Q=this._getAttribute($,"location")||this._getAttribute($,"builtin");if(Q!==null){let J=this._getAttribute($,"interpolation"),K=this.getTypeInfo($.type,$.attributes),Y=this._parseInt(Q.value),Z=new gR0($.name,K,Q.name,Y);return J!==null&&(Z.interpolation=this._parseString(J.value)),Z}return null}_parseString($){return $ instanceof Array&&($=$[0]),$}_parseInt($){$ instanceof Array&&($=$[0]);let Q=parseInt($);return isNaN(Q)?$:Q}_getAlias($){for(let Q of this.aliases)if(Q.name==$)return Q.type;return null}_getAliasInfo($){return new bR0($.name,this.getTypeInfo($.type,null))}getTypeInfoByName($){for(let Q of this.structs)if(Q.name==$)return Q;for(let Q of this.aliases)if(Q.name==$)return Q.type;return null}getTypeInfo($,Q=null){if(this._types.has($))return this._types.get($);if($ instanceof lG){let K=$.type?this.getTypeInfo($.type,$.attributes):null,Y=new YE($.name,K,Q);return this._types.set($,Y),this._updateTypeInfo(Y),Y}if($ instanceof BB){let K=$,Y=K.format?this.getTypeInfo(K.format,K.attributes):null,Z=new iY(K.name,Q);return Z.format=Y,Z.count=K.count,this._types.set($,Z),this._updateTypeInfo(Z),Z}if($ instanceof XK){let K=$,Y=new rY(K.name,Q);Y.startLine=K.startLine,Y.endLine=K.endLine;for(let Z of K.members){let q=this.getTypeInfo(Z.type,Z.attributes);Y.members.push(new cd(Z.name,q,Z.attributes))}return this._types.set($,Y),this._updateTypeInfo(Y),Y}if($ instanceof HB){let K=$,Y=K.format instanceof x0,Z=K.format?Y?this.getTypeInfo(K.format,null):new z3(K.format,null):null,q=new FX(K.name,Z,Q,K.access);return this._types.set($,q),this._updateTypeInfo(q),q}if($ instanceof z0){let K=$,Y=K.format?this.getTypeInfo(K.format,null):null,Z=new FX(K.name,Y,Q,K.access);return this._types.set($,Z),this._updateTypeInfo(Z),Z}let J=new z3($.name,Q);return this._types.set($,J),this._updateTypeInfo(J),J}_updateTypeInfo($){var Q,J,K;let Y=this._getTypeSize($);if($.size=(Q=Y==null?void 0:Y.size)!==null&&Q!==void 0?Q:0,$ instanceof iY&&$.format){let Z=this._getTypeSize($.format);$.stride=Math.max((J=Z==null?void 0:Z.size)!==null&&J!==void 0?J:0,(K=Z==null?void 0:Z.align)!==null&&K!==void 0?K:0),this._updateTypeInfo($.format)}$ instanceof YE&&this._updateTypeInfo($.format),$ instanceof rY&&this._updateStructInfo($)}_updateStructInfo($){var Q;let J=0,K=0,Y=0,Z=0;for(let q=0,X=$.members.length;q<X;++q){let W=$.members[q],F=this._getTypeSize(W);if(!F)continue;(Q=this._getAlias(W.type.name))!==null&&Q!==void 0||W.type;let{align:H,size:B}=F;J=this._roundUp(H,J+K),K=B,Y=J,Z=Math.max(Z,H),W.offset=J,W.size=B,this._updateTypeInfo(W.type)}$.size=this._roundUp(Z,Y+K),$.align=Z}_getTypeSize($){var Q,J;if($==null)return null;let K=this._getAttributeNum($.attributes,"size",0),Y=this._getAttributeNum($.attributes,"align",0);if($ instanceof cd&&($=$.type),$ instanceof z3){let Z=this._getAlias($.name);Z!==null&&($=Z)}{let Z=FK._typeInfo[$.name];if(Z!==void 0){let q=((Q=$.format)===null||Q===void 0?void 0:Q.name)==="f16"?2:1;return new dG(Math.max(Y,Z.align/q),Math.max(K,Z.size/q))}}{let Z=FK._typeInfo[$.name.substring(0,$.name.length-1)];if(Z){let q=$.name[$.name.length-1]==="h"?2:1;return new dG(Math.max(Y,Z.align/q),Math.max(K,Z.size/q))}}if($ instanceof iY){let Z=$,q=8,X=8,W=this._getTypeSize(Z.format);return W!==null&&(X=W.size,q=W.align),X=Z.count*this._getAttributeNum((J=$==null?void 0:$.attributes)!==null&&J!==void 0?J:null,"stride",this._roundUp(q,X)),K&&(X=K),new dG(Math.max(Y,q),Math.max(K,X))}if($ instanceof rY){let Z=0,q=0,X=0,W=0,F=0;for(let H of $.members){let B=this._getTypeSize(H.type);B!==null&&(Z=Math.max(B.align,Z),X=this._roundUp(B.align,X+W),W=B.size,F=X)}return q=this._roundUp(Z,F+W),new dG(Math.max(Y,Z),Math.max(K,q))}return null}_isUniformVar($){return $ instanceof WK&&$.storage=="uniform"}_isStorageVar($){return $ instanceof WK&&$.storage=="storage"}_isTextureVar($){return $ instanceof WK&&$.type!==null&&FK._textureTypes.indexOf($.type.name)!=-1}_isSamplerVar($){return $ instanceof WK&&$.type!==null&&FK._samplerTypes.indexOf($.type.name)!=-1}_getAttribute($,Q){let J=$;if(!J||!J.attributes)return null;let K=J.attributes;for(let Y of K)if(Y.name==Q)return Y;return null}_getAttributeNum($,Q,J){if($===null)return J;for(let K of $)if(K.name==Q){let Y=K!==null&&K.value!==null?K.value:J;return Y instanceof Array&&(Y=Y[0]),typeof Y=="number"?Y:typeof Y=="string"?parseInt(Y):J}return J}_roundUp($,Q){return Math.ceil(Q/$)*$}}class Nn{constructor($,Q,J){this.id=Hn++,this.name=$,this.value=Q,this.node=J}clone(){return new Nn(this.name,this.value,this.node)}}class Bn{constructor($){this.id=Hn++,this.name=$.name,this.node=$}clone(){return new Bn(this.node)}}class zn{constructor($){this.parent=null,this.variables=new Map,this.functions=new Map,this.currentFunctionName="",this.id=Hn++,$&&(this.parent=$,this.currentFunctionName=$.currentFunctionName)}getVariable($){var Q;return this.variables.has($)?(Q=this.variables.get($))!==null&&Q!==void 0?Q:null:this.parent?this.parent.getVariable($):null}getFunction($){var Q;return this.functions.has($)?(Q=this.functions.get($))!==null&&Q!==void 0?Q:null:this.parent?this.parent.getFunction($):null}createVariable($,Q,J){this.variables.set($,new Nn($,Q,J!=null?J:null))}setVariable($,Q,J){let K=this.getVariable($);K!==null?K.value=Q:this.createVariable($,Q,J)}getVariableValue($){var Q;let J=this.getVariable($);return(Q=J==null?void 0:J.value)!==null&&Q!==void 0?Q:null}clone(){return new zn(this)}}class tR0{evalExpression($,Q){return null}getTypeInfo($){return null}getVariableName($,Q){return""}}class eR0{constructor($){this.exec=$}getTypeInfo($){return this.exec.getTypeInfo($)}All($,Q){let J=this.exec.evalExpression($.args[0],Q),K=!0;if(J instanceof a)return J.data.forEach((Y)=>{Y||(K=!1)}),new U0(K?1:0,this.getTypeInfo("bool"));throw Error(`All() expects a vector argument. Line ${$.line}`)}Any($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a){let K=J.data.some((Y)=>Y);return new U0(K?1:0,this.getTypeInfo("bool"))}throw Error(`Any() expects a vector argument. Line ${$.line}`)}Select($,Q){let J=this.exec.evalExpression($.args[2],Q);if(!(J instanceof U0))throw Error(`Select() expects a bool condition. Line ${$.line}`);return J.value?this.exec.evalExpression($.args[1],Q):this.exec.evalExpression($.args[0],Q)}ArrayLength($,Q){let J=$.args[0];J instanceof u7&&(J=J.right);let K=this.exec.evalExpression(J,Q);if(K instanceof v7&&K.typeInfo.size===0){let Y=K.typeInfo,Z=K.buffer.byteLength/Y.stride;return new U0(Z,this.getTypeInfo("u32"))}return new U0(K.typeInfo.size,this.getTypeInfo("u32"))}Abs($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.abs(Y)),J.typeInfo);let K=J;return new U0(Math.abs(K.value),K.typeInfo)}Acos($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.acos(Y)),J.typeInfo);return new U0(Math.acos(J.value),J.typeInfo)}Acosh($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.acosh(Y)),J.typeInfo);return new U0(Math.acosh(J.value),J.typeInfo)}Asin($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.asin(Y)),J.typeInfo);return new U0(Math.asin(J.value),J.typeInfo)}Asinh($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.asinh(Y)),J.typeInfo);return new U0(Math.asinh(J.value),J.typeInfo)}Atan($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.atan(Y)),J.typeInfo);return new U0(Math.atan(J.value),J.typeInfo)}Atanh($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.atanh(Y)),J.typeInfo);return new U0(Math.atanh(J.value),J.typeInfo)}Atan2($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q);if(J instanceof a&&K instanceof a)return new a(J.data.map((q,X)=>Math.atan2(q,K.data[X])),J.typeInfo);let Y=J,Z=K;return new U0(Math.atan2(Y.value,Z.value),J.typeInfo)}Ceil($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.ceil(Y)),J.typeInfo);return new U0(Math.ceil(J.value),J.typeInfo)}_clamp($,Q,J){return Math.min(Math.max($,Q),J)}Clamp($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q),Y=this.exec.evalExpression($.args[2],Q);if(J instanceof a&&K instanceof a&&Y instanceof a)return new a(J.data.map((W,F)=>this._clamp(W,K.data[F],Y.data[F])),J.typeInfo);let Z=J,q=K,X=Y;return new U0(this._clamp(Z.value,q.value,X.value),J.typeInfo)}Cos($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.cos(Y)),J.typeInfo);return new U0(Math.cos(J.value),J.typeInfo)}Cosh($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.cosh(Y)),J.typeInfo);return new U0(Math.cos(J.value),J.typeInfo)}CountLeadingZeros($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.clz32(Y)),J.typeInfo);return new U0(Math.clz32(J.value),J.typeInfo)}_countOneBits($){let Q=0;for(;$!==0;)1&$&&Q++,$>>=1;return Q}CountOneBits($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>this._countOneBits(Y)),J.typeInfo);let K=J;return new U0(this._countOneBits(K.value),J.typeInfo)}_countTrailingZeros($){if($===0)return 32;let Q=0;for(;!(1&$);)$>>=1,Q++;return Q}CountTrailingZeros($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>this._countTrailingZeros(Y)),J.typeInfo);let K=J;return new U0(this._countTrailingZeros(K.value),J.typeInfo)}Cross($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q);if(J instanceof a&&K instanceof a){if(J.data.length!==3||K.data.length!==3)return console.error(`Cross() expects 3D vectors. Line ${$.line}`),null;let Y=J.data,Z=K.data;return new a([Y[1]*Z[2]-Z[1]*Y[2],Y[2]*Z[0]-Z[2]*Y[0],Y[0]*Z[1]-Z[0]*Y[1]],J.typeInfo)}return console.error(`Cross() expects vector arguments. Line ${$.line}`),null}Degrees($,Q){let J=this.exec.evalExpression($.args[0],Q),K=180/Math.PI;if(J instanceof a)return new a(J.data.map((Y)=>Y*K),J.typeInfo);return new U0(J.value*K,this.getTypeInfo("f32"))}Determinant($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof Q5){let K=J.data,Y=J.typeInfo.getTypeName(),Z=Y.endsWith("h")?this.getTypeInfo("f16"):this.getTypeInfo("f32");if(Y==="mat2x2"||Y==="mat2x2f"||Y==="mat2x2h")return new U0(K[0]*K[3]-K[1]*K[2],Z);if(Y==="mat2x3"||Y==="mat2x3f"||Y==="mat2x3h")return new U0(K[0]*(K[4]*K[8]-K[5]*K[7])-K[1]*(K[3]*K[8]-K[5]*K[6])+K[2]*(K[3]*K[7]-K[4]*K[6]),Z);if(Y==="mat2x4"||Y==="mat2x4f"||Y==="mat2x4h")console.error(`TODO: Determinant for ${Y}`);else if(Y==="mat3x2"||Y==="mat3x2f"||Y==="mat3x2h")console.error(`TODO: Determinant for ${Y}`);else{if(Y==="mat3x3"||Y==="mat3x3f"||Y==="mat3x3h")return new U0(K[0]*(K[4]*K[8]-K[5]*K[7])-K[1]*(K[3]*K[8]-K[5]*K[6])+K[2]*(K[3]*K[7]-K[4]*K[6]),Z);Y==="mat3x4"||Y==="mat3x4f"||Y==="mat3x4h"||Y==="mat4x2"||Y==="mat4x2f"||Y==="mat4x2h"||Y==="mat4x3"||Y==="mat4x3f"||Y==="mat4x3h"?console.error(`TODO: Determinant for ${Y}`):Y!=="mat4x4"&&Y!=="mat4x4f"&&Y!=="mat4x4h"||console.error(`TODO: Determinant for ${Y}`)}}return console.error(`Determinant expects a matrix argument. Line ${$.line}`),null}Distance($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q);if(J instanceof a&&K instanceof a){let q=0;for(let X=0;X<J.data.length;++X)q+=(J.data[X]-K.data[X])*(J.data[X]-K.data[X]);return new U0(Math.sqrt(q),this.getTypeInfo("f32"))}let Y=J,Z=K;return new U0(Math.abs(Y.value-Z.value),J.typeInfo)}_dot($,Q){let J=0;for(let K=0;K<$.length;++K)J+=Q[K]*$[K];return J}Dot($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q);return J instanceof a&&K instanceof a?new U0(this._dot(J.data,K.data),this.getTypeInfo("f32")):(console.error(`Dot() expects vector arguments. Line ${$.line}`),null)}Dot4U8Packed($,Q){return console.error(`TODO: dot4U8Packed. Line ${$.line}`),null}Dot4I8Packed($,Q){return console.error(`TODO: dot4I8Packed. Line ${$.line}`),null}Exp($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.exp(Y)),J.typeInfo);return new U0(Math.exp(J.value),J.typeInfo)}Exp2($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.pow(2,Y)),J.typeInfo);return new U0(Math.pow(2,J.value),J.typeInfo)}ExtractBits($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q),Y=this.exec.evalExpression($.args[2],Q);if(K.typeInfo.name!=="u32"&&K.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 offset argument. Line ${$.line}`),null;if(Y.typeInfo.name!=="u32"&&Y.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 count argument. Line ${$.line}`),null;let Z=K.value,q=Y.value;if(J instanceof a)return new a(J.data.map((W)=>W>>Z&(1<<q)-1),J.typeInfo);if(J.typeInfo.name!=="i32"&&J.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 argument. Line ${$.line}`),null;let X=J.value;return new U0(X>>Z&(1<<q)-1,this.getTypeInfo("i32"))}FaceForward($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q),Y=this.exec.evalExpression($.args[2],Q);if(J instanceof a&&K instanceof a&&Y instanceof a){let Z=this._dot(K.data,Y.data);return new a(Z<0?Array.from(J.data):J.data.map((q)=>-q),J.typeInfo)}return console.error(`FaceForward() expects vector arguments. Line ${$.line}`),null}_firstLeadingBit($){return $===0?-1:31-Math.clz32($)}FirstLeadingBit($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>this._firstLeadingBit(Y)),J.typeInfo);let K=J;return new U0(this._firstLeadingBit(K.value),J.typeInfo)}_firstTrailingBit($){return $===0?-1:Math.log2($&-$)}FirstTrailingBit($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>this._firstTrailingBit(Y)),J.typeInfo);let K=J;return new U0(this._firstTrailingBit(K.value),J.typeInfo)}Floor($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.floor(Y)),J.typeInfo);return new U0(Math.floor(J.value),J.typeInfo)}Fma($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q),Y=this.exec.evalExpression($.args[2],Q);if(J instanceof a&&K instanceof a&&Y instanceof a)return J.data.length!==K.data.length||J.data.length!==Y.data.length?(console.error(`Fma() expects vectors of the same length. Line ${$.line}`),null):new a(J.data.map((W,F)=>W*K.data[F]+Y.data[F]),J.typeInfo);let Z=J,q=K,X=Y;return new U0(Z.value*q.value+X.value,Z.typeInfo)}Fract($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Y-Math.floor(Y)),J.typeInfo);let K=J;return new U0(K.value-Math.floor(K.value),J.typeInfo)}Frexp($,Q){return console.error(`TODO: frexp. Line ${$.line}`),null}InsertBits($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q),Y=this.exec.evalExpression($.args[2],Q),Z=this.exec.evalExpression($.args[3],Q);if(Y.typeInfo.name!=="u32"&&Y.typeInfo.name!=="x32")return console.error(`InsertBits() expects an i32 offset argument. Line ${$.line}`),null;let q=Y.value,X=(1<<Z.value)-1<<q,W=~X;if(J instanceof a&&K instanceof a)return new a(J.data.map((B,z)=>B&W|K.data[z]<<q&X),J.typeInfo);let F=J.value,H=K.value;return new U0(F&W|H<<q&X,J.typeInfo)}InverseSqrt($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>1/Math.sqrt(Y)),J.typeInfo);return new U0(1/Math.sqrt(J.value),J.typeInfo)}Ldexp($,Q){return console.error(`TODO: ldexp. Line ${$.line}`),null}Length($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a){let Y=0;return J.data.forEach((Z)=>{Y+=Z*Z}),new U0(Math.sqrt(Y),this.getTypeInfo("f32"))}return new U0(Math.abs(J.value),J.typeInfo)}Log($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.log(Y)),J.typeInfo);return new U0(Math.log(J.value),J.typeInfo)}Log2($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.log2(Y)),J.typeInfo);return new U0(Math.log2(J.value),J.typeInfo)}Max($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q);if(J instanceof a&&K instanceof a)return new a(J.data.map((q,X)=>Math.max(q,K.data[X])),J.typeInfo);let Y=J,Z=K;return new U0(Math.max(Y.value,Z.value),J.typeInfo)}Min($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q);if(J instanceof a&&K instanceof a)return new a(J.data.map((q,X)=>Math.min(q,K.data[X])),J.typeInfo);let Y=J,Z=K;return new U0(Math.min(Y.value,Z.value),J.typeInfo)}Mix($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q),Y=this.exec.evalExpression($.args[2],Q);if(J instanceof a&&K instanceof a&&Y instanceof a)return new a(J.data.map((X,W)=>J.data[W]*(1-Y.data[W])+K.data[W]*Y.data[W]),J.typeInfo);let Z=K,q=Y;return new U0(J.value*(1-q.value)+Z.value*q.value,J.typeInfo)}Modf($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q);if(J instanceof a&&K instanceof a)return new a(J.data.map((Z,q)=>Z%K.data[q]),J.typeInfo);let Y=K;return new U0(J.value%Y.value,J.typeInfo)}Normalize($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a){let K=this.Length($,Q).value;return new a(J.data.map((Y)=>Y/K),J.typeInfo)}return console.error(`Normalize() expects a vector argument. Line ${$.line}`),null}Pow($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q);if(J instanceof a&&K instanceof a)return new a(J.data.map((q,X)=>Math.pow(q,K.data[X])),J.typeInfo);let Y=J,Z=K;return new U0(Math.pow(Y.value,Z.value),J.typeInfo)}QuantizeToF16($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((K)=>K),J.typeInfo);return new U0(J.value,J.typeInfo)}Radians($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((K)=>K*Math.PI/180),J.typeInfo);return new U0(J.value*Math.PI/180,this.getTypeInfo("f32"))}Reflect($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q);if(J instanceof a&&K instanceof a){let Y=this._dot(J.data,K.data);return new a(J.data.map((Z,q)=>Z-2*Y*K.data[q]),J.typeInfo)}return console.error(`Reflect() expects vector arguments. Line ${$.line}`),null}Refract($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q),Y=this.exec.evalExpression($.args[2],Q);if(J instanceof a&&K instanceof a&&Y instanceof U0){let Z=this._dot(K.data,J.data);return new a(J.data.map((q,X)=>{let W=1-Y.value*Y.value*(1-Z*Z);if(W<0)return 0;let F=Math.sqrt(W);return Y.value*q-(Y.value*Z+F)*K.data[X]}),J.typeInfo)}return console.error(`Refract() expects vector arguments and a scalar argument. Line ${$.line}`),null}ReverseBits($,Q){return console.error(`TODO: reverseBits. Line ${$.line}`),null}Round($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.round(Y)),J.typeInfo);return new U0(Math.round(J.value),J.typeInfo)}Saturate($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.min(Math.max(Y,0),1)),J.typeInfo);return new U0(Math.min(Math.max(J.value,0),1),J.typeInfo)}Sign($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.sign(Y)),J.typeInfo);return new U0(Math.sign(J.value),J.typeInfo)}Sin($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.sin(Y)),J.typeInfo);return new U0(Math.sin(J.value),J.typeInfo)}Sinh($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.sinh(Y)),J.typeInfo);return new U0(Math.sinh(J.value),J.typeInfo)}_smoothstep($,Q,J){let K=Math.min(Math.max((J-$)/(Q-$),0),1);return K*K*(3-2*K)}SmoothStep($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q),Y=this.exec.evalExpression($.args[2],Q);if(Y instanceof a&&J instanceof a&&K instanceof a)return new a(Y.data.map((W,F)=>this._smoothstep(J.data[F],K.data[F],W)),Y.typeInfo);let Z=J,q=K,X=Y;return new U0(this._smoothstep(Z.value,q.value,X.value),Y.typeInfo)}Sqrt($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.sqrt(Y)),J.typeInfo);return new U0(Math.sqrt(J.value),J.typeInfo)}Step($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q);if(K instanceof a&&J instanceof a)return new a(K.data.map((Z,q)=>Z<J.data[q]?0:1),K.typeInfo);let Y=J;return new U0(K.value<Y.value?0:1,Y.typeInfo)}Tan($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.tan(Y)),J.typeInfo);return new U0(Math.tan(J.value),J.typeInfo)}Tanh($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.tanh(Y)),J.typeInfo);return new U0(Math.tanh(J.value),J.typeInfo)}_getTransposeType($){let Q=$.getTypeName();return Q==="mat2x2f"||Q==="mat2x2h"?$:Q==="mat2x3f"?this.getTypeInfo("mat3x2f"):Q==="mat2x3h"?this.getTypeInfo("mat3x2h"):Q==="mat2x4f"?this.getTypeInfo("mat4x2f"):Q==="mat2x4h"?this.getTypeInfo("mat4x2h"):Q==="mat3x2f"?this.getTypeInfo("mat2x3f"):Q==="mat3x2h"?this.getTypeInfo("mat2x3h"):Q==="mat3x3f"||Q==="mat3x3h"?$:Q==="mat3x4f"?this.getTypeInfo("mat4x3f"):Q==="mat3x4h"?this.getTypeInfo("mat4x3h"):Q==="mat4x2f"?this.getTypeInfo("mat2x4f"):Q==="mat4x2h"?this.getTypeInfo("mat2x4h"):Q==="mat4x3f"?this.getTypeInfo("mat3x4f"):Q==="mat4x3h"?this.getTypeInfo("mat3x4h"):(Q==="mat4x4f"||Q==="mat4x4h"||console.error(`Invalid matrix type ${Q}`),$)}Transpose($,Q){let J=this.exec.evalExpression($.args[0],Q);if(!(J instanceof Q5))return console.error(`Transpose() expects a matrix argument. Line ${$.line}`),null;let K=this._getTransposeType(J.typeInfo);if(J.typeInfo.name==="mat2x2"||J.typeInfo.name==="mat2x2f"||J.typeInfo.name==="mat2x2h"){let Y=J.data;return new Q5([Y[0],Y[2],Y[1],Y[3]],K)}if(J.typeInfo.name==="mat2x3"||J.typeInfo.name==="mat2x3f"||J.typeInfo.name==="mat2x3h"){let Y=J.data;return new Q5([Y[0],Y[3],Y[6],Y[1],Y[4],Y[7]],K)}if(J.typeInfo.name==="mat2x4"||J.typeInfo.name==="mat2x4f"||J.typeInfo.name==="mat2x4h"){let Y=J.data;return new Q5([Y[0],Y[4],Y[8],Y[12],Y[1],Y[5],Y[9],Y[13]],K)}if(J.typeInfo.name==="mat3x2"||J.typeInfo.name==="mat3x2f"||J.typeInfo.name==="mat3x2h"){let Y=J.data;return new Q5([Y[0],Y[3],Y[1],Y[4],Y[2],Y[5]],K)}if(J.typeInfo.name==="mat3x3"||J.typeInfo.name==="mat3x3f"||J.typeInfo.name==="mat3x3h"){let Y=J.data;return new Q5([Y[0],Y[3],Y[6],Y[1],Y[4],Y[7],Y[2],Y[5],Y[8]],K)}if(J.typeInfo.name==="mat3x4"||J.typeInfo.name==="mat3x4f"||J.typeInfo.name==="mat3x4h"){let Y=J.data;return new Q5([Y[0],Y[4],Y[8],Y[12],Y[1],Y[5],Y[9],Y[13],Y[2],Y[6],Y[10],Y[14]],K)}if(J.typeInfo.name==="mat4x2"||J.typeInfo.name==="mat4x2f"||J.typeInfo.name==="mat4x2h"){let Y=J.data;return new Q5([Y[0],Y[4],Y[1],Y[5],Y[2],Y[6]],K)}if(J.typeInfo.name==="mat4x3"||J.typeInfo.name==="mat4x3f"||J.typeInfo.name==="mat4x3h"){let Y=J.data;return new Q5([Y[0],Y[4],Y[8],Y[1],Y[5],Y[9],Y[2],Y[6],Y[10]],K)}if(J.typeInfo.name==="mat4x4"||J.typeInfo.name==="mat4x4f"||J.typeInfo.name==="mat4x4h"){let Y=J.data;return new Q5([Y[0],Y[4],Y[8],Y[12],Y[1],Y[5],Y[9],Y[13],Y[2],Y[6],Y[10],Y[14],Y[3],Y[7],Y[11],Y[15]],K)}return console.error(`Invalid matrix type ${J.typeInfo.name}`),null}Trunc($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof a)return new a(J.data.map((Y)=>Math.trunc(Y)),J.typeInfo);return new U0(Math.trunc(J.value),J.typeInfo)}Dpdx($,Q){return console.error(`TODO: dpdx. Line ${$.line}`),null}DpdxCoarse($,Q){return console.error(`TODO: dpdxCoarse. Line ${$.line}`),null}DpdxFine($,Q){return console.error("TODO: dpdxFine"),null}Dpdy($,Q){return console.error("TODO: dpdy"),null}DpdyCoarse($,Q){return console.error("TODO: dpdyCoarse"),null}DpdyFine($,Q){return console.error("TODO: dpdyFine"),null}Fwidth($,Q){return console.error("TODO: fwidth"),null}FwidthCoarse($,Q){return console.error("TODO: fwidthCoarse"),null}FwidthFine($,Q){return console.error("TODO: fwidthFine"),null}TextureDimensions($,Q){let J=$.args[0],K=$.args.length>1?this.exec.evalExpression($.args[1],Q).value:0;if(J instanceof C9){let Y=J.name,Z=Q.getVariableValue(Y);if(Z instanceof lY){if(K<0||K>=Z.mipLevelCount)return console.error(`Invalid mip level for textureDimensions. Line ${$.line}`),null;let q=Z.getMipLevelSize(K),X=Z.dimension;return X==="1d"?new U0(q[0],this.getTypeInfo("u32")):X==="3d"?new a(q,this.getTypeInfo("vec3u")):X==="2d"?new a(q.slice(0,2),this.getTypeInfo("vec2u")):(console.error(`Invalid texture dimension ${X} not found. Line ${$.line}`),null)}return console.error(`Texture ${Y} not found. Line ${$.line}`),null}return console.error(`Invalid texture argument for textureDimensions. Line ${$.line}`),null}TextureGather($,Q){return console.error("TODO: textureGather"),null}TextureGatherCompare($,Q){return console.error("TODO: textureGatherCompare"),null}TextureLoad($,Q){let J=$.args[0],K=this.exec.evalExpression($.args[1],Q),Y=$.args.length>2?this.exec.evalExpression($.args[2],Q).value:0;if(!(K instanceof a)||K.data.length!==2)return console.error(`Invalid UV argument for textureLoad. Line ${$.line}`),null;if(J instanceof C9){let Z=J.name,q=Q.getVariableValue(Z);if(q instanceof lY){let X=Math.floor(K.data[0]),W=Math.floor(K.data[1]);if(X<0||X>=q.width||W<0||W>=q.height)return console.error(`Texture ${Z} out of bounds. Line ${$.line}`),null;let F=q.getPixel(X,W,0,Y);return F===null?(console.error(`Invalid texture format for textureLoad. Line ${$.line}`),null):new a(F,this.getTypeInfo("vec4f"))}return console.error(`Texture ${Z} not found. Line ${$.line}`),null}return console.error(`Invalid texture argument for textureLoad. Line ${$.line}`),null}TextureNumLayers($,Q){let J=$.args[0];if(J instanceof C9){let K=J.name,Y=Q.getVariableValue(K);return Y instanceof lY?new U0(Y.depthOrArrayLayers,this.getTypeInfo("u32")):(console.error(`Texture ${K} not found. Line ${$.line}`),null)}return console.error(`Invalid texture argument for textureNumLayers. Line ${$.line}`),null}TextureNumLevels($,Q){let J=$.args[0];if(J instanceof C9){let K=J.name,Y=Q.getVariableValue(K);return Y instanceof lY?new U0(Y.mipLevelCount,this.getTypeInfo("u32")):(console.error(`Texture ${K} not found. Line ${$.line}`),null)}return console.error(`Invalid texture argument for textureNumLevels. Line ${$.line}`),null}TextureNumSamples($,Q){let J=$.args[0];if(J instanceof C9){let K=J.name,Y=Q.getVariableValue(K);return Y instanceof lY?new U0(Y.sampleCount,this.getTypeInfo("u32")):(console.error(`Texture ${K} not found. Line ${$.line}`),null)}return console.error(`Invalid texture argument for textureNumSamples. Line ${$.line}`),null}TextureSample($,Q){return console.error("TODO: textureSample"),null}TextureSampleBias($,Q){return console.error("TODO: textureSampleBias"),null}TextureSampleCompare($,Q){return console.error("TODO: textureSampleCompare"),null}TextureSampleCompareLevel($,Q){return console.error("TODO: textureSampleCompareLevel"),null}TextureSampleGrad($,Q){return console.error("TODO: textureSampleGrad"),null}TextureSampleLevel($,Q){return console.error("TODO: textureSampleLevel"),null}TextureSampleBaseClampToEdge($,Q){return console.error("TODO: textureSampleBaseClampToEdge"),null}TextureStore($,Q){let J=$.args[0],K=this.exec.evalExpression($.args[1],Q),Y=$.args.length===4?this.exec.evalExpression($.args[2],Q).value:0,Z=$.args.length===4?this.exec.evalExpression($.args[3],Q).data:this.exec.evalExpression($.args[2],Q).data;if(Z.length!==4)return console.error(`Invalid value argument for textureStore. Line ${$.line}`),null;if(!(K instanceof a)||K.data.length!==2)return console.error(`Invalid UV argument for textureStore. Line ${$.line}`),null;if(J instanceof C9){let q=J.name,X=Q.getVariableValue(q);if(X instanceof lY){let W=X.getMipLevelSize(0),F=Math.floor(K.data[0]),H=Math.floor(K.data[1]);return F<0||F>=W[0]||H<0||H>=W[1]?(console.error(`Texture ${q} out of bounds. Line ${$.line}`),null):(X.setPixel(F,H,0,Y,Array.from(Z)),null)}return console.error(`Texture ${q} not found. Line ${$.line}`),null}return console.error(`Invalid texture argument for textureStore. Line ${$.line}`),null}AtomicLoad($,Q){let J=$.args[0];J instanceof u7&&(J=J.right);let K=this.exec.getVariableName(J,Q);return Q.getVariable(K).value.getSubData(this.exec,J.postfix,Q)}AtomicStore($,Q){let J=$.args[0];J instanceof u7&&(J=J.right);let K=this.exec.getVariableName(J,Q),Y=Q.getVariable(K),Z=$.args[1],q=this.exec.evalExpression(Z,Q),X=Y.value.getSubData(this.exec,J.postfix,Q);return X instanceof U0&&q instanceof U0&&(X.value=q.value),Y.value instanceof v7&&Y.value.setDataValue(this.exec,X,J.postfix,Q),null}AtomicAdd($,Q){let J=$.args[0];J instanceof u7&&(J=J.right);let K=this.exec.getVariableName(J,Q),Y=Q.getVariable(K),Z=$.args[1],q=this.exec.evalExpression(Z,Q),X=Y.value.getSubData(this.exec,J.postfix,Q),W=new U0(X.value,X.typeInfo);return X instanceof U0&&q instanceof U0&&(X.value+=q.value),Y.value instanceof v7&&Y.value.setDataValue(this.exec,X,J.postfix,Q),W}AtomicSub($,Q){let J=$.args[0];J instanceof u7&&(J=J.right);let K=this.exec.getVariableName(J,Q),Y=Q.getVariable(K),Z=$.args[1],q=this.exec.evalExpression(Z,Q),X=Y.value.getSubData(this.exec,J.postfix,Q),W=new U0(X.value,X.typeInfo);return X instanceof U0&&q instanceof U0&&(X.value-=q.value),Y.value instanceof v7&&Y.value.setDataValue(this.exec,X,J.postfix,Q),W}AtomicMax($,Q){let J=$.args[0];J instanceof u7&&(J=J.right);let K=this.exec.getVariableName(J,Q),Y=Q.getVariable(K),Z=$.args[1],q=this.exec.evalExpression(Z,Q),X=Y.value.getSubData(this.exec,J.postfix,Q),W=new U0(X.value,X.typeInfo);return X instanceof U0&&q instanceof U0&&(X.value=Math.max(X.value,q.value)),Y.value instanceof v7&&Y.value.setDataValue(this.exec,X,J.postfix,Q),W}AtomicMin($,Q){let J=$.args[0];J instanceof u7&&(J=J.right);let K=this.exec.getVariableName(J,Q),Y=Q.getVariable(K),Z=$.args[1],q=this.exec.evalExpression(Z,Q),X=Y.value.getSubData(this.exec,J.postfix,Q),W=new U0(X.value,X.typeInfo);return X instanceof U0&&q instanceof U0&&(X.value=Math.min(X.value,q.value)),Y.value instanceof v7&&Y.value.setDataValue(this.exec,X,J.postfix,Q),W}AtomicAnd($,Q){let J=$.args[0];J instanceof u7&&(J=J.right);let K=this.exec.getVariableName(J,Q),Y=Q.getVariable(K),Z=$.args[1],q=this.exec.evalExpression(Z,Q),X=Y.value.getSubData(this.exec,J.postfix,Q),W=new U0(X.value,X.typeInfo);return X instanceof U0&&q instanceof U0&&(X.value=X.value&q.value),Y.value instanceof v7&&Y.value.setDataValue(this.exec,X,J.postfix,Q),W}AtomicOr($,Q){let J=$.args[0];J instanceof u7&&(J=J.right);let K=this.exec.getVariableName(J,Q),Y=Q.getVariable(K),Z=$.args[1],q=this.exec.evalExpression(Z,Q),X=Y.value.getSubData(this.exec,J.postfix,Q),W=new U0(X.value,X.typeInfo);return X instanceof U0&&q instanceof U0&&(X.value=X.value|q.value),Y.value instanceof v7&&Y.value.setDataValue(this.exec,X,J.postfix,Q),W}AtomicXor($,Q){let J=$.args[0];J instanceof u7&&(J=J.right);let K=this.exec.getVariableName(J,Q),Y=Q.getVariable(K),Z=$.args[1],q=this.exec.evalExpression(Z,Q),X=Y.value.getSubData(this.exec,J.postfix,Q),W=new U0(X.value,X.typeInfo);return X instanceof U0&&q instanceof U0&&(X.value=X.value^q.value),Y.value instanceof v7&&Y.value.setDataValue(this.exec,X,J.postfix,Q),W}AtomicExchange($,Q){let J=$.args[0];J instanceof u7&&(J=J.right);let K=this.exec.getVariableName(J,Q),Y=Q.getVariable(K),Z=$.args[1],q=this.exec.evalExpression(Z,Q),X=Y.value.getSubData(this.exec,J.postfix,Q),W=new U0(X.value,X.typeInfo);return X instanceof U0&&q instanceof U0&&(X.value=q.value),Y.value instanceof v7&&Y.value.setDataValue(this.exec,X,J.postfix,Q),W}AtomicCompareExchangeWeak($,Q){return console.error("TODO: atomicCompareExchangeWeak"),null}Pack4x8snorm($,Q){return console.error("TODO: pack4x8snorm"),null}Pack4x8unorm($,Q){return console.error("TODO: pack4x8unorm"),null}Pack4xI8($,Q){return console.error("TODO: pack4xI8"),null}Pack4xU8($,Q){return console.error("TODO: pack4xU8"),null}Pack4x8Clamp($,Q){return console.error("TODO: pack4x8Clamp"),null}Pack4xU8Clamp($,Q){return console.error("TODO: pack4xU8Clamp"),null}Pack2x16snorm($,Q){return console.error("TODO: pack2x16snorm"),null}Pack2x16unorm($,Q){return console.error("TODO: pack2x16unorm"),null}Pack2x16float($,Q){return console.error("TODO: pack2x16float"),null}Unpack4x8snorm($,Q){return console.error("TODO: unpack4x8snorm"),null}Unpack4x8unorm($,Q){return console.error("TODO: unpack4x8unorm"),null}Unpack4xI8($,Q){return console.error("TODO: unpack4xI8"),null}Unpack4xU8($,Q){return console.error("TODO: unpack4xU8"),null}Unpack2x16snorm($,Q){return console.error("TODO: unpack2x16snorm"),null}Unpack2x16unorm($,Q){return console.error("TODO: unpack2x16unorm"),null}Unpack2x16float($,Q){return console.error("TODO: unpack2x16float"),null}StorageBarrier($,Q){return null}TextureBarrier($,Q){return null}WorkgroupBarrier($,Q){return null}WorkgroupUniformLoad($,Q){return null}SubgroupAdd($,Q){return console.error("TODO: subgroupAdd"),null}SubgroupExclusiveAdd($,Q){return console.error("TODO: subgroupExclusiveAdd"),null}SubgroupInclusiveAdd($,Q){return console.error("TODO: subgroupInclusiveAdd"),null}SubgroupAll($,Q){return console.error("TODO: subgroupAll"),null}SubgroupAnd($,Q){return console.error("TODO: subgroupAnd"),null}SubgroupAny($,Q){return console.error("TODO: subgroupAny"),null}SubgroupBallot($,Q){return console.error("TODO: subgroupBallot"),null}SubgroupBroadcast($,Q){return console.error("TODO: subgroupBroadcast"),null}SubgroupBroadcastFirst($,Q){return console.error("TODO: subgroupBroadcastFirst"),null}SubgroupElect($,Q){return console.error("TODO: subgroupElect"),null}SubgroupMax($,Q){return console.error("TODO: subgroupMax"),null}SubgroupMin($,Q){return console.error("TODO: subgroupMin"),null}SubgroupMul($,Q){return console.error("TODO: subgroupMul"),null}SubgroupExclusiveMul($,Q){return console.error("TODO: subgroupExclusiveMul"),null}SubgroupInclusiveMul($,Q){return console.error("TODO: subgroupInclusiveMul"),null}SubgroupOr($,Q){return console.error("TODO: subgroupOr"),null}SubgroupShuffle($,Q){return console.error("TODO: subgroupShuffle"),null}SubgroupShuffleDown($,Q){return console.error("TODO: subgroupShuffleDown"),null}SubgroupShuffleUp($,Q){return console.error("TODO: subgroupShuffleUp"),null}SubgroupShuffleXor($,Q){return console.error("TODO: subgroupShuffleXor"),null}SubgroupXor($,Q){return console.error("TODO: subgroupXor"),null}QuadBroadcast($,Q){return console.error("TODO: quadBroadcast"),null}QuadSwapDiagonal($,Q){return console.error("TODO: quadSwapDiagonal"),null}QuadSwapX($,Q){return console.error("TODO: quadSwapX"),null}QuadSwapY($,Q){return console.error("TODO: quadSwapY"),null}}class $G0{constructor(){this.constants=new Map,this.aliases=new Map,this.structs=new Map}}class QG0{constructor(){this._tokens=[],this._current=0,this._currentLine=1,this._deferArrayCountEval=[],this._currentLoop=[],this._context=new $G0,this._exec=new U4,this._forwardTypeCount=0}parse($){this._initialize($),this._deferArrayCountEval.length=0;let Q=[];for(;!this._isAtEnd();){let J=this._global_decl_or_directive();if(!J)break;Q.push(J)}if(this._deferArrayCountEval.length>0){for(let J of this._deferArrayCountEval){let{arrayType:K,countNode:Y}=J;if(Y instanceof C9){let Z=Y.name,q=this._context.constants.get(Z);if(q)try{let X=q.constEvaluate(this._exec);K.count=X}catch(X){}}}this._deferArrayCountEval.length=0}if(this._forwardTypeCount>0)for(let J of Q)J.search((K)=>{K instanceof dd||K instanceof lG?K.type=this._forwardType(K.type):K instanceof BB?K.format=this._forwardType(K.format):K instanceof WK||K instanceof NB||K instanceof nG?K.type=this._forwardType(K.type):K instanceof zB?K.returnType=this._forwardType(K.returnType):K instanceof pd&&(K.type=this._forwardType(K.type))});return Q}_forwardType($){if($ instanceof md){let Q=this._getType($.name);if(Q)return Q}else $ instanceof lG?$.type=this._forwardType($.type):$ instanceof BB&&($.format=this._forwardType($.format));return $}_initialize($){if($)if(typeof $=="string"){let Q=new oR0($);this._tokens=Q.scanTokens()}else this._tokens=$;else this._tokens=[];this._current=0}_updateNode($,Q){return $.line=Q!=null?Q:this._currentLine,$}_error($,Q){return{token:$,message:Q,toString:()=>`${Q}`}}_isAtEnd(){return this._current>=this._tokens.length||this._peek().type==i.eof}_match($){if($ instanceof B0)return!!this._check($)&&(this._advance(),!0);for(let Q=0,J=$.length;Q<J;++Q){let K=$[Q];if(this._check(K))return this._advance(),!0}return!1}_consume($,Q){if(this._check($))return this._advance();throw this._error(this._peek(),`${Q}. Line:${this._currentLine}`)}_check($){if(this._isAtEnd())return!1;let Q=this._peek();if($ instanceof Array){let J=Q.type,K=!1;for(let Y of $){if(J===Y)return!0;Y===i.tokens.name&&(K=!0)}if(K){let Y=i.tokens.name.rule.exec(Q.lexeme);if(Y&&Y.index==0&&Y[0]==Q.lexeme)return!0}return!1}if(Q.type===$)return!0;if($===i.tokens.name){let J=i.tokens.name.rule.exec(Q.lexeme);return J&&J.index==0&&J[0]==Q.lexeme}return!1}_advance(){var $,Q;return this._currentLine=(Q=($=this._peek())===null||$===void 0?void 0:$.line)!==null&&Q!==void 0?Q:-1,this._isAtEnd()||this._current++,this._previous()}_peek(){return this._tokens[this._current]}_previous(){return this._tokens[this._current-1]}_global_decl_or_directive(){for(;this._match(i.tokens.semicolon)&&!this._isAtEnd(););if(this._match(i.keywords.alias)){let Q=this._type_alias();return this._consume(i.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([Q]),Q}if(this._match(i.keywords.diagnostic)){let Q=this._diagnostic();return this._consume(i.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([Q]),Q}if(this._match(i.keywords.requires)){let Q=this._requires_directive();return this._consume(i.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([Q]),Q}if(this._match(i.keywords.enable)){let Q=this._enable_directive();return this._consume(i.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([Q]),Q}let $=this._attribute();if(this._check(i.keywords.var)){let Q=this._global_variable_decl();return Q!=null&&(Q.attributes=$),this._consume(i.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([Q]),Q}if(this._check(i.keywords.override)){let Q=this._override_variable_decl();return Q!=null&&(Q.attributes=$),this._consume(i.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([Q]),Q}if(this._check(i.keywords.let)){let Q=this._global_let_decl();return Q!=null&&(Q.attributes=$),this._consume(i.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([Q]),Q}if(this._check(i.keywords.const)){let Q=this._global_const_decl();return Q!=null&&(Q.attributes=$),this._consume(i.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([Q]),Q}if(this._check(i.keywords.struct)){let Q=this._struct_decl();return Q!=null&&(Q.attributes=$),this._exec.reflection.updateAST([Q]),Q}if(this._check(i.keywords.fn)){let Q=this._function_decl();return Q!=null&&(Q.attributes=$),this._exec.reflection.updateAST([Q]),Q}return null}_function_decl(){if(!this._match(i.keywords.fn))return null;let $=this._currentLine,Q=this._consume(i.tokens.ident,"Expected function name.").toString();this._consume(i.tokens.paren_left,"Expected '(' for function arguments.");let J=[];if(!this._check(i.tokens.paren_right))do{if(this._check(i.tokens.paren_right))break;let q=this._attribute(),X=this._consume(i.tokens.name,"Expected argument name.").toString();this._consume(i.tokens.colon,"Expected ':' for argument type.");let W=this._attribute(),F=this._type_decl();F!=null&&(F.attributes=W,J.push(this._updateNode(new pd(X,F,q))))}while(this._match(i.tokens.comma));this._consume(i.tokens.paren_right,"Expected ')' after function arguments.");let K=null;if(this._match(i.tokens.arrow)){let q=this._attribute();K=this._type_decl(),K!=null&&(K.attributes=q)}let Y=this._compound_statement(),Z=this._currentLine;return this._updateNode(new zB(Q,J,K,Y,$,Z),$)}_compound_statement(){let $=[];for(this._consume(i.tokens.brace_left,"Expected '{' for block.");!this._check(i.tokens.brace_right);){let Q=this._statement();Q!==null&&$.push(Q)}return this._consume(i.tokens.brace_right,"Expected '}' for block."),$}_statement(){for(;this._match(i.tokens.semicolon)&&!this._isAtEnd(););if(this._check(i.tokens.attr)&&this._attribute(),this._check(i.keywords.if))return this._if_statement();if(this._check(i.keywords.switch))return this._switch_statement();if(this._check(i.keywords.loop))return this._loop_statement();if(this._check(i.keywords.for))return this._for_statement();if(this._check(i.keywords.while))return this._while_statement();if(this._check(i.keywords.continuing))return this._continuing_statement();if(this._check(i.keywords.static_assert))return this._static_assert_statement();if(this._check(i.tokens.brace_left))return this._compound_statement();let $=null;if(this._check(i.keywords.return))$=this._return_statement();else if(this._check([i.keywords.var,i.keywords.let,i.keywords.const]))$=this._variable_statement();else if(this._match(i.keywords.discard))$=this._updateNode(new iR0);else if(this._match(i.keywords.break)){let Q=this._updateNode(new Jn);if(this._currentLoop.length>0){let J=this._currentLoop[this._currentLoop.length-1];Q.loopId=J.id}$=Q,this._check(i.keywords.if)&&(this._advance(),Q.condition=this._optional_paren_expression())}else if(this._match(i.keywords.continue)){let Q=this._updateNode(new Kn);if(!(this._currentLoop.length>0))throw this._error(this._peek(),`Continue statement must be inside a loop. Line: ${Q.line}`);{let J=this._currentLoop[this._currentLoop.length-1];Q.loopId=J.id}$=Q}else $=this._increment_decrement_statement()||this._func_call_statement()||this._assignment_statement();return $!=null&&this._consume(i.tokens.semicolon,"Expected ';' after statement."),$}_static_assert_statement(){if(!this._match(i.keywords.static_assert))return null;let $=this._currentLine,Q=this._optional_paren_expression();return this._updateNode(new nR0(Q),$)}_while_statement(){if(!this._match(i.keywords.while))return null;let $=this._updateNode(new rd(null,null));return this._currentLoop.push($),$.condition=this._optional_paren_expression(),this._check(i.tokens.attr)&&this._attribute(),$.body=this._compound_statement(),this._currentLoop.pop(),$}_continuing_statement(){let $=this._currentLoop.length>0?this._currentLoop[this._currentLoop.length-1].id:-1;if(!this._match(i.keywords.continuing))return null;let Q=this._currentLine,J=this._compound_statement();return this._updateNode(new ZE(J,$),Q)}_for_statement(){if(!this._match(i.keywords.for))return null;this._consume(i.tokens.paren_left,"Expected '('.");let $=this._updateNode(new id(null,null,null,null));return this._currentLoop.push($),$.init=this._check(i.tokens.semicolon)?null:this._for_init(),this._consume(i.tokens.semicolon,"Expected ';'."),$.condition=this._check(i.tokens.semicolon)?null:this._short_circuit_or_expression(),this._consume(i.tokens.semicolon,"Expected ';'."),$.increment=this._check(i.tokens.paren_right)?null:this._for_increment(),this._consume(i.tokens.paren_right,"Expected ')'."),this._check(i.tokens.attr)&&this._attribute(),$.body=this._compound_statement(),this._currentLoop.pop(),$}_for_init(){return this._variable_statement()||this._func_call_statement()||this._assignment_statement()}_for_increment(){return this._func_call_statement()||this._increment_decrement_statement()||this._assignment_statement()}_variable_statement(){if(this._check(i.keywords.var)){let $=this._variable_decl();if($===null)throw this._error(this._peek(),"Variable declaration expected.");let Q=null;return this._match(i.tokens.equal)&&(Q=this._short_circuit_or_expression()),this._updateNode(new WK($.name,$.type,$.storage,$.access,Q),$.line)}if(this._match(i.keywords.let)){let $=this._currentLine,Q=this._consume(i.tokens.name,"Expected name for let.").toString(),J=null;if(this._match(i.tokens.colon)){let Y=this._attribute();J=this._type_decl(),J!=null&&(J.attributes=Y)}this._consume(i.tokens.equal,"Expected '=' for let.");let K=this._short_circuit_or_expression();return this._updateNode(new NB(Q,J,null,null,K),$)}if(this._match(i.keywords.const)){let $=this._currentLine,Q=this._consume(i.tokens.name,"Expected name for const.").toString(),J=null;if(this._match(i.tokens.colon)){let Y=this._attribute();J=this._type_decl(),J!=null&&(J.attributes=Y)}this._consume(i.tokens.equal,"Expected '=' for const.");let K=this._short_circuit_or_expression();return J===null&&K instanceof o7&&(J=K.type),this._updateNode(new nG(Q,J,null,null,K),$)}return null}_increment_decrement_statement(){let $=this._current,Q=this._unary_expression();if(Q==null)return null;if(!this._check(i.increment_operators))return this._current=$,null;let J=this._consume(i.increment_operators,"Expected increment operator");return this._updateNode(new sd(J.type===i.tokens.plus_plus?UB.increment:UB.decrement,Q))}_assignment_statement(){let $=null,Q=this._currentLine;if(this._check(i.tokens.brace_right))return null;let J=this._match(i.tokens.underscore);if(J||($=this._unary_expression()),!J&&$==null)return null;let K=this._consume(i.assignment_operators,"Expected assignment operator."),Y=this._short_circuit_or_expression();return this._updateNode(new od(pG.parse(K.lexeme),$,Y),Q)}_func_call_statement(){if(!this._check(i.tokens.ident))return null;let $=this._currentLine,Q=this._current,J=this._consume(i.tokens.ident,"Expected function name."),K=this._argument_expression_list();return K===null?(this._current=Q,null):this._updateNode(new HE(J.lexeme,K),$)}_loop_statement(){if(!this._match(i.keywords.loop))return null;this._check(i.tokens.attr)&&this._attribute(),this._consume(i.tokens.brace_left,"Expected '{' for loop.");let $=this._updateNode(new ad([],null));this._currentLoop.push($);let Q=this._statement();for(;Q!==null;){if(Array.isArray(Q))for(let J of Q)$.body.push(J);else $.body.push(Q);if(Q instanceof ZE){$.continuing=Q;break}Q=this._statement()}return this._currentLoop.pop(),this._consume(i.tokens.brace_right,"Expected '}' for loop."),$}_switch_statement(){if(!this._match(i.keywords.switch))return null;let $=this._updateNode(new td(null,[]));if(this._currentLoop.push($),$.condition=this._optional_paren_expression(),this._check(i.tokens.attr)&&this._attribute(),this._consume(i.tokens.brace_left,"Expected '{' for switch."),$.cases=this._switch_body(),$.cases==null||$.cases.length==0)throw this._error(this._previous(),"Expected 'case' or 'default'.");return this._consume(i.tokens.brace_right,"Expected '}' for switch."),this._currentLoop.pop(),$}_switch_body(){let $=[],Q=!1;for(;this._check([i.keywords.default,i.keywords.case]);){if(this._match(i.keywords.case)){let J=this._case_selectors();for(let Y of J)if(Y instanceof rG){if(Q)throw this._error(this._previous(),"Multiple default cases in switch statement.");Q=!0;break}this._match(i.tokens.colon),this._check(i.tokens.attr)&&this._attribute(),this._consume(i.tokens.brace_left,"Exected '{' for switch case.");let K=this._case_body();this._consume(i.tokens.brace_right,"Exected '}' for switch case."),$.push(this._updateNode(new Wn(J,K)))}if(this._match(i.keywords.default)){if(Q)throw this._error(this._previous(),"Multiple default cases in switch statement.");this._match(i.tokens.colon),this._check(i.tokens.attr)&&this._attribute(),this._consume(i.tokens.brace_left,"Exected '{' for switch default.");let J=this._case_body();this._consume(i.tokens.brace_right,"Exected '}' for switch default."),$.push(this._updateNode(new Fn(J)))}}return $}_case_selectors(){let $=[];for(this._match(i.keywords.default)?$.push(this._updateNode(new rG)):$.push(this._shift_expression());this._match(i.tokens.comma);)this._match(i.keywords.default)?$.push(this._updateNode(new rG)):$.push(this._shift_expression());return $}_case_body(){if(this._match(i.keywords.fallthrough))return this._consume(i.tokens.semicolon,"Expected ';'"),[];let $=this._statement();if($==null)return[];$ instanceof Array||($=[$]);let Q=this._case_body();return Q.length==0?$:[...$,Q[0]]}_if_statement(){if(!this._match(i.keywords.if))return null;let $=this._currentLine,Q=this._optional_paren_expression();this._check(i.tokens.attr)&&this._attribute();let J=this._compound_statement(),K=[];this._match_elseif()&&(this._check(i.tokens.attr)&&this._attribute(),K=this._elseif_statement(K));let Y=null;return this._match(i.keywords.else)&&(this._check(i.tokens.attr)&&this._attribute(),Y=this._compound_statement()),this._updateNode(new ed(Q,J,K,Y),$)}_match_elseif(){return this._tokens[this._current].type===i.keywords.else&&this._tokens[this._current+1].type===i.keywords.if&&(this._advance(),this._advance(),!0)}_elseif_statement($=[]){let Q=this._optional_paren_expression(),J=this._compound_statement();return $.push(this._updateNode(new sR0(Q,J))),this._match_elseif()&&(this._check(i.tokens.attr)&&this._attribute(),this._elseif_statement($)),$}_return_statement(){if(!this._match(i.keywords.return))return null;let $=this._short_circuit_or_expression();return this._updateNode(new $n($))}_short_circuit_or_expression(){let $=this._short_circuit_and_expr();for(;this._match(i.tokens.or_or);)$=this._updateNode(new O$(this._previous().toString(),$,this._short_circuit_and_expr()));return $}_short_circuit_and_expr(){let $=this._inclusive_or_expression();for(;this._match(i.tokens.and_and);)$=this._updateNode(new O$(this._previous().toString(),$,this._inclusive_or_expression()));return $}_inclusive_or_expression(){let $=this._exclusive_or_expression();for(;this._match(i.tokens.or);)$=this._updateNode(new O$(this._previous().toString(),$,this._exclusive_or_expression()));return $}_exclusive_or_expression(){let $=this._and_expression();for(;this._match(i.tokens.xor);)$=this._updateNode(new O$(this._previous().toString(),$,this._and_expression()));return $}_and_expression(){let $=this._equality_expression();for(;this._match(i.tokens.and);)$=this._updateNode(new O$(this._previous().toString(),$,this._equality_expression()));return $}_equality_expression(){let $=this._relational_expression();return this._match([i.tokens.equal_equal,i.tokens.not_equal])?this._updateNode(new O$(this._previous().toString(),$,this._relational_expression())):$}_relational_expression(){let $=this._shift_expression();for(;this._match([i.tokens.less_than,i.tokens.greater_than,i.tokens.less_than_equal,i.tokens.greater_than_equal]);)$=this._updateNode(new O$(this._previous().toString(),$,this._shift_expression()));return $}_shift_expression(){let $=this._additive_expression();for(;this._match([i.tokens.shift_left,i.tokens.shift_right]);)$=this._updateNode(new O$(this._previous().toString(),$,this._additive_expression()));return $}_additive_expression(){let $=this._multiplicative_expression();for(;this._match([i.tokens.plus,i.tokens.minus]);)$=this._updateNode(new O$(this._previous().toString(),$,this._multiplicative_expression()));return $}_multiplicative_expression(){let $=this._unary_expression();for(;this._match([i.tokens.star,i.tokens.forward_slash,i.tokens.modulo]);)$=this._updateNode(new O$(this._previous().toString(),$,this._unary_expression()));return $}_unary_expression(){return this._match([i.tokens.minus,i.tokens.bang,i.tokens.tilde,i.tokens.star,i.tokens.and])?this._updateNode(new u7(this._previous().toString(),this._unary_expression())):this._singular_expression()}_singular_expression(){let $=this._primary_expression(),Q=this._postfix_expression();return Q&&($.postfix=Q),$}_postfix_expression(){if(this._match(i.tokens.bracket_left)){let $=this._short_circuit_or_expression();this._consume(i.tokens.bracket_right,"Expected ']'.");let Q=this._updateNode(new qF($)),J=this._postfix_expression();return J&&(Q.postfix=J),Q}if(this._match(i.tokens.period)){let $=this._consume(i.tokens.name,"Expected member name."),Q=this._postfix_expression(),J=this._updateNode(new UX($.lexeme));return Q&&(J.postfix=Q),J}return null}_getStruct($){if(this._context.aliases.has($))return this._context.aliases.get($).type;if(this._context.structs.has($))return this._context.structs.get($);return null}_getType($){let Q=this._getStruct($);if(Q!==null)return Q;switch($){case"void":return x0.void;case"bool":return x0.bool;case"i32":return x0.i32;case"u32":return x0.u32;case"f32":return x0.f32;case"f16":return x0.f16;case"vec2f":return z0.vec2f;case"vec3f":return z0.vec3f;case"vec4f":return z0.vec4f;case"vec2i":return z0.vec2i;case"vec3i":return z0.vec3i;case"vec4i":return z0.vec4i;case"vec2u":return z0.vec2u;case"vec3u":return z0.vec3u;case"vec4u":return z0.vec4u;case"vec2h":return z0.vec2h;case"vec3h":return z0.vec3h;case"vec4h":return z0.vec4h;case"mat2x2f":return z0.mat2x2f;case"mat2x3f":return z0.mat2x3f;case"mat2x4f":return z0.mat2x4f;case"mat3x2f":return z0.mat3x2f;case"mat3x3f":return z0.mat3x3f;case"mat3x4f":return z0.mat3x4f;case"mat4x2f":return z0.mat4x2f;case"mat4x3f":return z0.mat4x3f;case"mat4x4f":return z0.mat4x4f;case"mat2x2h":return z0.mat2x2h;case"mat2x3h":return z0.mat2x3h;case"mat2x4h":return z0.mat2x4h;case"mat3x2h":return z0.mat3x2h;case"mat3x3h":return z0.mat3x3h;case"mat3x4h":return z0.mat3x4h;case"mat4x2h":return z0.mat4x2h;case"mat4x3h":return z0.mat4x3h;case"mat4x4h":return z0.mat4x4h;case"mat2x2i":return z0.mat2x2i;case"mat2x3i":return z0.mat2x3i;case"mat2x4i":return z0.mat2x4i;case"mat3x2i":return z0.mat3x2i;case"mat3x3i":return z0.mat3x3i;case"mat3x4i":return z0.mat3x4i;case"mat4x2i":return z0.mat4x2i;case"mat4x3i":return z0.mat4x3i;case"mat4x4i":return z0.mat4x4i;case"mat2x2u":return z0.mat2x2u;case"mat2x3u":return z0.mat2x3u;case"mat2x4u":return z0.mat2x4u;case"mat3x2u":return z0.mat3x2u;case"mat3x3u":return z0.mat3x3u;case"mat3x4u":return z0.mat3x4u;case"mat4x2u":return z0.mat4x2u;case"mat4x3u":return z0.mat4x3u;case"mat4x4u":return z0.mat4x4u}return null}_validateTypeRange($,Q){if(Q.name==="i32"){if($<-2147483648||$>2147483647)throw this._error(this._previous(),`Value out of range for i32: ${$}. Line: ${this._currentLine}.`)}else if(Q.name==="u32"&&($<0||$>4294967295))throw this._error(this._previous(),`Value out of range for u32: ${$}. Line: ${this._currentLine}.`)}_primary_expression(){if(this._match(i.tokens.ident)){let J=this._previous().toString();if(this._check(i.tokens.paren_left)){let K=this._argument_expression_list(),Y=this._getType(J);return Y!==null?this._updateNode(new _Q(Y,K)):this._updateNode(new BE(J,K))}if(this._context.constants.has(J)){let K=this._context.constants.get(J);return this._updateNode(new Yn(J,K.value))}return this._updateNode(new C9(J))}if(this._match(i.tokens.int_literal)){let J=this._previous().toString(),K=J.endsWith("i")||J.endsWith("i")?x0.i32:J.endsWith("u")||J.endsWith("U")?x0.u32:x0.x32,Y=parseInt(J);return this._validateTypeRange(Y,K),this._updateNode(new o7(new U0(Y,this._exec.getTypeInfo(K)),K))}if(this._match(i.tokens.uint_literal)){let J=parseInt(this._previous().toString());return this._validateTypeRange(J,x0.u32),this._updateNode(new o7(new U0(J,this._exec.getTypeInfo(x0.u32)),x0.u32))}if(this._match([i.tokens.decimal_float_literal,i.tokens.hex_float_literal])){let J=this._previous().toString(),K=J.endsWith("h");K&&(J=J.substring(0,J.length-1));let Y=parseFloat(J);this._validateTypeRange(Y,K?x0.f16:x0.f32);let Z=K?x0.f16:x0.f32;return this._updateNode(new o7(new U0(Y,this._exec.getTypeInfo(Z)),Z))}if(this._match([i.keywords.true,i.keywords.false])){let J=this._previous().toString()===i.keywords.true.rule;return this._updateNode(new o7(new U0(J?1:0,this._exec.getTypeInfo(x0.bool)),x0.bool))}if(this._check(i.tokens.paren_left))return this._paren_expression();if(this._match(i.keywords.bitcast)){this._consume(i.tokens.less_than,"Expected '<'.");let J=this._type_decl();this._consume(i.tokens.greater_than,"Expected '>'.");let K=this._paren_expression();return this._updateNode(new Zn(J,K))}let $=this._type_decl(),Q=this._argument_expression_list();return this._updateNode(new _Q($,Q))}_argument_expression_list(){if(!this._match(i.tokens.paren_left))return null;let $=[];do{if(this._check(i.tokens.paren_right))break;let Q=this._short_circuit_or_expression();$.push(Q)}while(this._match(i.tokens.comma));return this._consume(i.tokens.paren_right,"Expected ')' for agument list"),$}_optional_paren_expression(){this._match(i.tokens.paren_left);let $=this._short_circuit_or_expression();return this._match(i.tokens.paren_right),$}_paren_expression(){this._consume(i.tokens.paren_left,"Expected '('.");let $=this._short_circuit_or_expression();return this._consume(i.tokens.paren_right,"Expected ')'."),$}_struct_decl(){if(!this._match(i.keywords.struct))return null;let $=this._currentLine,Q=this._consume(i.tokens.ident,"Expected name for struct.").toString();this._consume(i.tokens.brace_left,"Expected '{' for struct body.");let J=[];for(;!this._check(i.tokens.brace_right);){let Z=this._attribute(),q=this._consume(i.tokens.name,"Expected variable name.").toString();this._consume(i.tokens.colon,"Expected ':' for struct member type.");let X=this._attribute(),W=this._type_decl();W!=null&&(W.attributes=X),this._check(i.tokens.brace_right)?this._match(i.tokens.comma):this._consume(i.tokens.comma,"Expected ',' for struct member."),J.push(this._updateNode(new dd(q,W,Z)))}this._consume(i.tokens.brace_right,"Expected '}' after struct body.");let K=this._currentLine,Y=this._updateNode(new XK(Q,J,$,K),$);return this._context.structs.set(Q,Y),Y}_global_variable_decl(){let $=this._variable_decl();if(!$)return null;if(this._match(i.tokens.equal)){let Q=this._const_expression();$.value=Q}if($.type!==null&&$.value instanceof o7){if($.value.type.name!=="x32"){if($.type.getTypeName()!==$.value.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${$.value.type.name} to ${$.type.name}. Line:${this._currentLine}`)}$.value.isScalar&&this._validateTypeRange($.value.scalarValue,$.type),$.value.type=$.type}else $.type===null&&$.value instanceof o7&&($.type=$.value.type.name==="x32"?x0.i32:$.value.type,$.value.isScalar&&this._validateTypeRange($.value.scalarValue,$.type));return $}_override_variable_decl(){let $=this._override_decl();return $&&this._match(i.tokens.equal)&&($.value=this._const_expression()),$}_global_const_decl(){var $;if(!this._match(i.keywords.const))return null;let Q=this._consume(i.tokens.name,"Expected variable name"),J=this._currentLine,K=null;if(this._match(i.tokens.colon)){let X=this._attribute();K=this._type_decl(),K!=null&&(K.attributes=X)}let Y=null;this._consume(i.tokens.equal,"const declarations require an assignment");let Z=this._short_circuit_or_expression();try{let X=[x0.f32],W=Z.constEvaluate(this._exec,X);W instanceof U0&&this._validateTypeRange(W.value,X[0]),X[0]instanceof z0&&X[0].format===null&&W.typeInfo instanceof FX&&W.typeInfo.format!==null&&(W.typeInfo.format.name==="f16"?X[0].format=x0.f16:W.typeInfo.format.name==="f32"?X[0].format=x0.f32:W.typeInfo.format.name==="i32"?X[0].format=x0.i32:W.typeInfo.format.name==="u32"?X[0].format=x0.u32:W.typeInfo.format.name==="bool"?X[0].format=x0.bool:console.error(`TODO: impelement template format type ${W.typeInfo.format.name}`)),Y=this._updateNode(new o7(W,X[0])),this._exec.context.setVariable(Q.toString(),W)}catch(X){Y=Z}if(K!==null&&Y instanceof o7){if(Y.type.name!=="x32"){if(K.getTypeName()!==Y.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${Y.type.name} to ${K.name}. Line:${this._currentLine}`)}Y.type=K,Y.isScalar&&this._validateTypeRange(Y.scalarValue,Y.type)}else K===null&&Y instanceof o7&&(K=($=Y==null?void 0:Y.type)!==null&&$!==void 0?$:x0.f32,K===x0.x32&&(K=x0.i32));let q=this._updateNode(new nG(Q.toString(),K,"","",Y),J);return this._context.constants.set(q.name,q),q}_global_let_decl(){if(!this._match(i.keywords.let))return null;let $=this._currentLine,Q=this._consume(i.tokens.name,"Expected variable name"),J=null;if(this._match(i.tokens.colon)){let Y=this._attribute();J=this._type_decl(),J!=null&&(J.attributes=Y)}let K=null;if(this._match(i.tokens.equal)&&(K=this._const_expression()),J!==null&&K instanceof o7){if(K.type.name!=="x32"){if(J.getTypeName()!==K.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${K.type.name} to ${J.name}. Line:${this._currentLine}`)}K.type=J}else J===null&&K instanceof o7&&(J=K.type.name==="x32"?x0.i32:K.type);return K instanceof o7&&K.isScalar&&this._validateTypeRange(K.scalarValue,J),this._updateNode(new NB(Q.toString(),J,"","",K),$)}_const_expression(){return this._short_circuit_or_expression()}_variable_decl(){if(!this._match(i.keywords.var))return null;let $=this._currentLine,Q="",J="";this._match(i.tokens.less_than)&&(Q=this._consume(i.storage_class,"Expected storage_class.").toString(),this._match(i.tokens.comma)&&(J=this._consume(i.access_mode,"Expected access_mode.").toString()),this._consume(i.tokens.greater_than,"Expected '>'."));let K=this._consume(i.tokens.name,"Expected variable name"),Y=null;if(this._match(i.tokens.colon)){let Z=this._attribute();Y=this._type_decl(),Y!=null&&(Y.attributes=Z)}return this._updateNode(new WK(K.toString(),Y,Q,J,null),$)}_override_decl(){if(!this._match(i.keywords.override))return null;let $=this._consume(i.tokens.name,"Expected variable name"),Q=null;if(this._match(i.tokens.colon)){let J=this._attribute();Q=this._type_decl(),Q!=null&&(Q.attributes=J)}return this._updateNode(new UE($.toString(),Q,null))}_diagnostic(){this._consume(i.tokens.paren_left,"Expected '('");let $=this._consume(i.tokens.ident,"Expected severity control name.");this._consume(i.tokens.comma,"Expected ','");let Q=this._consume(i.tokens.ident,"Expected diagnostic rule name.").toString();if(this._match(i.tokens.period))Q+=`.${this._consume(i.tokens.ident,"Expected diagnostic message.").toString()}`;return this._consume(i.tokens.paren_right,"Expected ')'"),this._updateNode(new Qn($.toString(),Q))}_enable_directive(){let $=this._consume(i.tokens.ident,"identity expected.");return this._updateNode(new lR0($.toString()))}_requires_directive(){let $=[this._consume(i.tokens.ident,"identity expected.").toString()];for(;this._match(i.tokens.comma);){let Q=this._consume(i.tokens.ident,"identity expected.");$.push(Q.toString())}return this._updateNode(new rR0($))}_type_alias(){let $=this._consume(i.tokens.ident,"identity expected.");this._consume(i.tokens.equal,"Expected '=' for type alias.");let Q=this._type_decl();if(Q===null)throw this._error(this._peek(),"Expected Type for Alias.");this._context.aliases.has(Q.name)&&(Q=this._context.aliases.get(Q.name).type);let J=this._updateNode(new NE($.toString(),Q));return this._context.aliases.set(J.name,J),J}_type_decl(){if(this._check([i.tokens.ident,...i.texel_format,i.keywords.bool,i.keywords.f32,i.keywords.i32,i.keywords.u32])){let J=this._advance().toString();if(this._context.structs.has(J))return this._context.structs.get(J);if(this._context.aliases.has(J))return this._context.aliases.get(J).type;if(!this._getType(J)){let K=this._updateNode(new md(J));return this._forwardTypeCount++,K}return this._updateNode(new x0(J))}let $=this._texture_sampler_types();if($)return $;if(this._check(i.template_types)){let J=this._advance().toString(),K=null,Y=null;return this._match(i.tokens.less_than)&&(K=this._type_decl(),Y=null,this._match(i.tokens.comma)&&(Y=this._consume(i.access_mode,"Expected access_mode for pointer").toString()),this._consume(i.tokens.greater_than,"Expected '>' for type.")),this._updateNode(new z0(J,K,Y))}if(this._match(i.keywords.ptr)){let J=this._previous().toString();this._consume(i.tokens.less_than,"Expected '<' for pointer.");let K=this._consume(i.storage_class,"Expected storage_class for pointer");this._consume(i.tokens.comma,"Expected ',' for pointer.");let Y=this._type_decl(),Z=null;return this._match(i.tokens.comma)&&(Z=this._consume(i.access_mode,"Expected access_mode for pointer").toString()),this._consume(i.tokens.greater_than,"Expected '>' for pointer."),this._updateNode(new lG(J,K.toString(),Y,Z))}let Q=this._attribute();if(this._match(i.keywords.array)){let J=null,K=-1,Y=this._previous(),Z=null;if(this._match(i.tokens.less_than)){J=this._type_decl(),this._context.aliases.has(J.name)&&(J=this._context.aliases.get(J.name).type);let X="";if(this._match(i.tokens.comma)){Z=this._shift_expression();try{X=Z.constEvaluate(this._exec).toString(),Z=null}catch(W){X="1"}}this._consume(i.tokens.greater_than,"Expected '>' for array."),K=X?parseInt(X):0}let q=this._updateNode(new BB(Y.toString(),Q,J,K));return Z&&this._deferArrayCountEval.push({arrayType:q,countNode:Z}),q}return null}_texture_sampler_types(){if(this._match(i.sampler_type))return this._updateNode(new HB(this._previous().toString(),null,null));if(this._match(i.depth_texture_type))return this._updateNode(new HB(this._previous().toString(),null,null));if(this._match(i.sampled_texture_type)||this._match(i.multisampled_texture_type)){let $=this._previous();this._consume(i.tokens.less_than,"Expected '<' for sampler type.");let Q=this._type_decl();return this._consume(i.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new HB($.toString(),Q,null))}if(this._match(i.storage_texture_type)){let $=this._previous();this._consume(i.tokens.less_than,"Expected '<' for sampler type.");let Q=this._consume(i.texel_format,"Invalid texel format.").toString();this._consume(i.tokens.comma,"Expected ',' after texel format.");let J=this._consume(i.access_mode,"Expected access mode for storage texture type.").toString();return this._consume(i.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new HB($.toString(),Q,J))}return null}_attribute(){let $=[];for(;this._match(i.tokens.attr);){let Q=this._consume(i.attribute_name,"Expected attribute name"),J=this._updateNode(new Un(Q.toString(),null));if(this._match(i.tokens.paren_left)){if(J.value=this._consume(i.literal_or_ident,"Expected attribute value").toString(),this._check(i.tokens.comma)){this._advance();do{let K=this._consume(i.literal_or_ident,"Expected attribute value").toString();J.value instanceof Array||(J.value=[J.value]),J.value.push(K)}while(this._match(i.tokens.comma))}this._consume(i.tokens.paren_right,"Expected ')'")}$.push(J)}return $.length==0?null:$}}var rY,iY,YE,FX,WX,mR0,$21,F4,ld,pR0,yd,iG,sG,dR0,$7,zB,nR0,rd,ZE,id,WK,UE,NB,nG,UB,pG,V0,N0,sd,od,HE,ad,td,ed,$n,lR0,rR0,Qn,NE,iR0,Jn,Kn,x0,md,XK,z0,lG,BB,HB,D$,UX,_Q,BE,C9,Yn,o7,Zn,qF,qn,u7,O$,Xn,rG,Wn,Fn,pd,sR0,dd,Un,qE,ZF,U0,a,Q5,v7,lY,XE,Y21,Z21,WE,q21,X21,FE,W21,F21,Hn=0,xd,p4,U4,An;var JG0=h(()=>{rY=class rY extends z3{constructor($,Q){super($,Q),this.members=[],this.align=0,this.startLine=-1,this.endLine=-1,this.inUse=!1}get isStruct(){return!0}};iY=class iY extends z3{constructor($,Q){super($,Q),this.count=0,this.stride=0}get isArray(){return!0}getTypeName(){return`array<${this.format.getTypeName()}, ${this.count}>`}};YE=class YE extends z3{constructor($,Q,J){super($,J),this.format=Q}get isPointer(){return!0}getTypeName(){return`&${this.format.getTypeName()}`}};FX=class FX extends z3{constructor($,Q,J,K){super($,J),this.format=Q,this.access=K}get isTemplate(){return!0}getTypeName(){let $=this.name;if(this.format!==null){if($==="vec2"||$==="vec3"||$==="vec4"||$==="mat2x2"||$==="mat2x3"||$==="mat2x4"||$==="mat3x2"||$==="mat3x3"||$==="mat3x4"||$==="mat4x2"||$==="mat4x3"||$==="mat4x4"){if(this.format.name==="f32")return $+="f",$;if(this.format.name==="i32")return $+="i",$;if(this.format.name==="u32")return $+="u",$;if(this.format.name==="bool")return $+="b",$;if(this.format.name==="f16")return $+="h",$}$+=`<${this.format.name}>`}else if($==="vec2"||$==="vec3"||$==="vec4")return $;return $}};(($)=>{$[$.Uniform=0]="Uniform",$[$.Storage=1]="Storage",$[$.Texture=2]="Texture",$[$.Sampler=3]="Sampler",$[$.StorageTexture=4]="StorageTexture"})(WX||(WX={}));mR0=new Float32Array(1),$21=new Int32Array(mR0.buffer),F4=new Uint16Array(1);ld=new Uint32Array(1),pR0=new Float32Array(ld.buffer,0,1);yd={r8unorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8snorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8uint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8sint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg8unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8snorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"rgba8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8snorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},bgra8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bgra8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r16uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16float:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg16uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba16uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r32uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg32uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba32uint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32sint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32float:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rg11b10ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},stencil8:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!1,hasStencil:!0,channels:1},depth16unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},depth24plus:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,depthOnlyFormat:"depth32float",channels:1},"depth24plus-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,depthOnlyFormat:"depth32float",channels:1},depth32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},"depth32float-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,stencilOnlyFormat:"depth32float",channels:1},rgb9e5ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bc1-rgba-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc1-rgba-unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc4-r-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc4-r-snorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc5-rg-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc5-rg-snorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc6h-rgb-ufloat":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc6h-rgb-float":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"eac-r11unorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-r11snorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-rg11unorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"eac-rg11snorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"astc-4x4-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-4x4-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x5-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-5x5-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x6-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-6x6-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-8x5-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x5-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x6-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x6-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x8-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-8x8-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-10x5-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x5-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x6-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x6-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x8-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x8-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x10-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-10x10-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x12-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4},"astc-12x12-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4}};T$._id=0;iG=class iG extends T${};iG.instance=new iG;sG=class sG extends T${};sG.instance=new sG;dR0=new Set(["all","all","any","select","arrayLength","abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","clamp","cos","cosh","countLeadingZeros","countOneBits","countTrailingZeros","cross","degrees","determinant","distance","dot","dot4U8Packed","dot4I8Packed","exp","exp2","extractBits","faceForward","firstLeadingBit","firstTrailingBit","floor","fma","fract","frexp","insertBits","inverseSqrt","ldexp","length","log","log2","max","min","mix","modf","normalize","pow","quantizeToF16","radians","reflect","refract","reverseBits","round","saturate","sign","sin","sinh","smoothStep","sqrt","step","tan","tanh","transpose","trunc","dpdx","dpdxCoarse","dpdxFine","dpdy","dpdyCoarse","dpdyFine","fwidth","fwidthCoarse","fwidthFine","textureDimensions","textureGather","textureGatherCompare","textureLoad","textureNumLayers","textureNumLevels","textureNumSamples","textureSample","textureSampleBias","textureSampleCompare","textureSampleCompareLevel","textureSampleGrad","textureSampleLevel","textureSampleBaseClampToEdge","textureStore","atomicLoad","atomicStore","atomicAdd","atomicSub","atomicMax","atomicMin","atomicAnd","atomicOr","atomicXor","atomicExchange","atomicCompareExchangeWeak","pack4x8snorm","pack4x8unorm","pack4xI8","pack4xU8","pack4x8Clamp","pack4xU8Clamp","pack2x16snorm","pack2x16unorm","pack2x16float","unpack4x8snorm","unpack4x8unorm","unpack4xI8","unpack4xU8","unpack2x16snorm","unpack2x16unorm","unpack2x16float","storageBarrier","textureBarrier","workgroupBarrier","workgroupUniformLoad","subgroupAdd","subgroupExclusiveAdd","subgroupInclusiveAdd","subgroupAll","subgroupAnd","subgroupAny","subgroupBallot","subgroupBroadcast","subgroupBroadcastFirst","subgroupElect","subgroupMax","subgroupMin","subgroupMul","subgroupExclusiveMul","subgroupInclusiveMul","subgroupOr","subgroupShuffle","subgroupShuffleDown","subgroupShuffleUp","subgroupShuffleXor","subgroupXor","quadBroadcast","quadSwapDiagonal","quadSwapX","quadSwapY"]);$7=class $7 extends T${constructor(){super()}};zB=class zB extends $7{constructor($,Q,J,K,Y,Z){super(),this.calls=new Set,this.name=$,this.args=Q,this.returnType=J,this.body=K,this.startLine=Y,this.endLine=Z}get astNodeType(){return"function"}search($){if(this.attributes)for(let Q of this.attributes)$(Q);$(this);for(let Q of this.args)$(Q);this.searchBlock(this.body,$)}};nR0=class nR0 extends $7{constructor($){super(),this.expression=$}get astNodeType(){return"staticAssert"}search($){this.expression.search($)}};rd=class rd extends $7{constructor($,Q){super(),this.condition=$,this.body=Q}get astNodeType(){return"while"}search($){this.condition.search($),this.searchBlock(this.body,$)}};ZE=class ZE extends $7{constructor($,Q){super(),this.body=$,this.loopId=Q}get astNodeType(){return"continuing"}search($){this.searchBlock(this.body,$)}};id=class id extends $7{constructor($,Q,J,K){super(),this.init=$,this.condition=Q,this.increment=J,this.body=K}get astNodeType(){return"for"}search($){var Q,J,K;(Q=this.init)===null||Q===void 0||Q.search($),(J=this.condition)===null||J===void 0||J.search($),(K=this.increment)===null||K===void 0||K.search($),this.searchBlock(this.body,$)}};WK=class WK extends $7{constructor($,Q,J,K,Y){super(),this.attributes=null,this.name=$,this.type=Q,this.storage=J,this.access=K,this.value=Y}get astNodeType(){return"var"}search($){var Q;$(this),(Q=this.value)===null||Q===void 0||Q.search($)}};UE=class UE extends $7{constructor($,Q,J){super(),this.attributes=null,this.name=$,this.type=Q,this.value=J}get astNodeType(){return"override"}search($){var Q;(Q=this.value)===null||Q===void 0||Q.search($)}};NB=class NB extends $7{constructor($,Q,J,K,Y){super(),this.attributes=null,this.name=$,this.type=Q,this.storage=J,this.access=K,this.value=Y}get astNodeType(){return"let"}search($){var Q;$(this),(Q=this.value)===null||Q===void 0||Q.search($)}};nG=class nG extends $7{constructor($,Q,J,K,Y){super(),this.attributes=null,this.name=$,this.type=Q,this.storage=J,this.access=K,this.value=Y}get astNodeType(){return"const"}constEvaluate($,Q){return this.value.constEvaluate($,Q)}search($){var Q;$(this),(Q=this.value)===null||Q===void 0||Q.search($)}};(($)=>{$.increment="++",$.decrement="--"})(UB||(UB={})),(($)=>{$.parse=function(Q){let J=Q;if(J=="parse")throw Error("Invalid value for IncrementOperator");return $[J]}})(UB||(UB={}));sd=class sd extends $7{constructor($,Q){super(),this.operator=$,this.variable=Q}get astNodeType(){return"increment"}search($){this.variable.search($)}};(($)=>{$.assign="=",$.addAssign="+=",$.subtractAssin="-=",$.multiplyAssign="*=",$.divideAssign="/=",$.moduloAssign="%=",$.andAssign="&=",$.orAssign="|=",$.xorAssign="^=",$.shiftLeftAssign="<<=",$.shiftRightAssign=">>="})(pG||(pG={})),(($)=>{$.parse=function(Q){let J=Q;if(J=="parse")throw Error("Invalid value for AssignOperator");return J}})(pG||(pG={}));od=class od extends $7{constructor($,Q,J){super(),this.operator=$,this.variable=Q,this.value=J}get astNodeType(){return"assign"}search($){this.variable.search($),this.value.search($)}};HE=class HE extends $7{constructor($,Q){super(),this.name=$,this.args=Q}get astNodeType(){return"call"}isBuiltin(){return dR0.has(this.name)}search($){for(let Q of this.args)Q.search($);$(this)}};ad=class ad extends $7{constructor($,Q){super(),this.body=$,this.continuing=Q}get astNodeType(){return"loop"}search($){var Q;this.searchBlock(this.body,$),(Q=this.continuing)===null||Q===void 0||Q.search($)}};td=class td extends $7{constructor($,Q){super(),this.condition=$,this.cases=Q}get astNodeType(){return"switch"}search($){$(this);for(let Q of this.cases)Q.search($)}};ed=class ed extends $7{constructor($,Q,J,K){super(),this.condition=$,this.body=Q,this.elseif=J,this.else=K}get astNodeType(){return"if"}search($){this.condition.search($),this.searchBlock(this.body,$),this.searchBlock(this.elseif,$),this.searchBlock(this.else,$)}};$n=class $n extends $7{constructor($){super(),this.value=$}get astNodeType(){return"return"}search($){var Q;(Q=this.value)===null||Q===void 0||Q.search($)}};lR0=class lR0 extends $7{constructor($){super(),this.name=$}get astNodeType(){return"enable"}};rR0=class rR0 extends $7{constructor($){super(),this.extensions=$}get astNodeType(){return"requires"}};Qn=class Qn extends $7{constructor($,Q){super(),this.severity=$,this.rule=Q}get astNodeType(){return"diagnostic"}};NE=class NE extends $7{constructor($,Q){super(),this.name=$,this.type=Q}get astNodeType(){return"alias"}};iR0=class iR0 extends $7{constructor(){super()}get astNodeType(){return"discard"}};Jn=class Jn extends $7{constructor(){super(),this.condition=null,this.loopId=-1}get astNodeType(){return"break"}};Kn=class Kn extends $7{constructor(){super(),this.loopId=-1}get astNodeType(){return"continue"}};x0=class x0 extends $7{constructor($){super(),this.attributes=null,this.name=$}get astNodeType(){return"type"}get isStruct(){return!1}get isArray(){return!1}static maxFormatType($){let Q=$[0];if(Q.name==="f32")return Q;for(let J=1;J<$.length;++J){let K=x0._priority.get(Q.name);x0._priority.get($[J].name)<K&&(Q=$[J])}return Q.name==="x32"?x0.i32:Q}getTypeName(){return this.name}};x0.x32=new x0("x32"),x0.f32=new x0("f32"),x0.i32=new x0("i32"),x0.u32=new x0("u32"),x0.f16=new x0("f16"),x0.bool=new x0("bool"),x0.void=new x0("void"),x0._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);md=class md extends x0{constructor($){super($)}};XK=class XK extends x0{constructor($,Q,J,K){super($),this.members=Q,this.startLine=J,this.endLine=K}get astNodeType(){return"struct"}get isStruct(){return!0}getMemberIndex($){for(let Q=0;Q<this.members.length;Q++)if(this.members[Q].name==$)return Q;return-1}search($){for(let Q of this.members)$(Q)}};z0=class z0 extends x0{constructor($,Q,J){super($),this.format=Q,this.access=J}get astNodeType(){return"template"}getTypeName(){let $=this.name;if(this.format!==null){if($==="vec2"||$==="vec3"||$==="vec4"||$==="mat2x2"||$==="mat2x3"||$==="mat2x4"||$==="mat3x2"||$==="mat3x3"||$==="mat3x4"||$==="mat4x2"||$==="mat4x3"||$==="mat4x4"){if(this.format.name==="f32")return $+="f",$;if(this.format.name==="i32")return $+="i",$;if(this.format.name==="u32")return $+="u",$;if(this.format.name==="bool")return $+="b",$;if(this.format.name==="f16")return $+="h",$}$+=`<${this.format.name}>`}else if($==="vec2"||$==="vec3"||$==="vec4")return $;return $}};z0.vec2f=new z0("vec2",x0.f32,null),z0.vec3f=new z0("vec3",x0.f32,null),z0.vec4f=new z0("vec4",x0.f32,null),z0.vec2i=new z0("vec2",x0.i32,null),z0.vec3i=new z0("vec3",x0.i32,null),z0.vec4i=new z0("vec4",x0.i32,null),z0.vec2u=new z0("vec2",x0.u32,null),z0.vec3u=new z0("vec3",x0.u32,null),z0.vec4u=new z0("vec4",x0.u32,null),z0.vec2h=new z0("vec2",x0.f16,null),z0.vec3h=new z0("vec3",x0.f16,null),z0.vec4h=new z0("vec4",x0.f16,null),z0.vec2b=new z0("vec2",x0.bool,null),z0.vec3b=new z0("vec3",x0.bool,null),z0.vec4b=new z0("vec4",x0.bool,null),z0.mat2x2f=new z0("mat2x2",x0.f32,null),z0.mat2x3f=new z0("mat2x3",x0.f32,null),z0.mat2x4f=new z0("mat2x4",x0.f32,null),z0.mat3x2f=new z0("mat3x2",x0.f32,null),z0.mat3x3f=new z0("mat3x3",x0.f32,null),z0.mat3x4f=new z0("mat3x4",x0.f32,null),z0.mat4x2f=new z0("mat4x2",x0.f32,null),z0.mat4x3f=new z0("mat4x3",x0.f32,null),z0.mat4x4f=new z0("mat4x4",x0.f32,null),z0.mat2x2h=new z0("mat2x2",x0.f16,null),z0.mat2x3h=new z0("mat2x3",x0.f16,null),z0.mat2x4h=new z0("mat2x4",x0.f16,null),z0.mat3x2h=new z0("mat3x2",x0.f16,null),z0.mat3x3h=new z0("mat3x3",x0.f16,null),z0.mat3x4h=new z0("mat3x4",x0.f16,null),z0.mat4x2h=new z0("mat4x2",x0.f16,null),z0.mat4x3h=new z0("mat4x3",x0.f16,null),z0.mat4x4h=new z0("mat4x4",x0.f16,null),z0.mat2x2i=new z0("mat2x2",x0.i32,null),z0.mat2x3i=new z0("mat2x3",x0.i32,null),z0.mat2x4i=new z0("mat2x4",x0.i32,null),z0.mat3x2i=new z0("mat3x2",x0.i32,null),z0.mat3x3i=new z0("mat3x3",x0.i32,null),z0.mat3x4i=new z0("mat3x4",x0.i32,null),z0.mat4x2i=new z0("mat4x2",x0.i32,null),z0.mat4x3i=new z0("mat4x3",x0.i32,null),z0.mat4x4i=new z0("mat4x4",x0.i32,null),z0.mat2x2u=new z0("mat2x2",x0.u32,null),z0.mat2x3u=new z0("mat2x3",x0.u32,null),z0.mat2x4u=new z0("mat2x4",x0.u32,null),z0.mat3x2u=new z0("mat3x2",x0.u32,null),z0.mat3x3u=new z0("mat3x3",x0.u32,null),z0.mat3x4u=new z0("mat3x4",x0.u32,null),z0.mat4x2u=new z0("mat4x2",x0.u32,null),z0.mat4x3u=new z0("mat4x3",x0.u32,null),z0.mat4x4u=new z0("mat4x4",x0.u32,null);lG=class lG extends x0{constructor($,Q,J,K){super($),this.storage=Q,this.type=J,this.access=K}get astNodeType(){return"pointer"}};BB=class BB extends x0{constructor($,Q,J,K){super($),this.attributes=Q,this.format=J,this.count=K}get astNodeType(){return"array"}get isArray(){return!0}};HB=class HB extends x0{constructor($,Q,J){super($),this.format=Q,this.access=J}get astNodeType(){return"sampler"}};D$=class D$ extends T${constructor(){super(),this.postfix=null}};UX=class UX extends D${constructor($){super(),this.value=$}get astNodeType(){return"stringExpr"}toString(){return this.value}constEvaluateString(){return this.value}};_Q=class _Q extends D${constructor($,Q){super(),this.type=$,this.args=Q}get astNodeType(){return"createExpr"}search($){if($(this),this.args)for(let Q of this.args)Q.search($)}constEvaluate($,Q){return Q&&(Q[0]=this.type),$.evalExpression(this,$.context)}};BE=class BE extends D${constructor($,Q){super(),this.cachedReturnValue=null,this.name=$,this.args=Q}get astNodeType(){return"callExpr"}setCachedReturnValue($){this.cachedReturnValue=$}get isBuiltin(){return dR0.has(this.name)}constEvaluate($,Q){return $.evalExpression(this,$.context)}search($){for(let Q of this.args)Q.search($);$(this)}};C9=class C9 extends D${constructor($){super(),this.name=$}get astNodeType(){return"varExpr"}search($){$(this),this.postfix&&this.postfix.search($)}constEvaluate($,Q){return $.evalExpression(this,$.context)}};Yn=class Yn extends D${constructor($,Q){super(),this.name=$,this.initializer=Q}get astNodeType(){return"constExpr"}constEvaluate($,Q){if(this.initializer){let J=$.evalExpression(this.initializer,$.context);return J!==null&&this.postfix?J.getSubData($,this.postfix,$.context):J}return null}search($){this.initializer.search($)}};o7=class o7 extends D${constructor($,Q){super(),this.value=$,this.type=Q}get astNodeType(){return"literalExpr"}constEvaluate($,Q){return Q!==void 0&&(Q[0]=this.type),this.value}get isScalar(){return this.value instanceof U0}get isVector(){return this.value instanceof a||this.value instanceof Q5}get scalarValue(){return this.value instanceof U0?this.value.value:(console.error("Value is not scalar."),0)}get vectorValue(){return this.value instanceof a||this.value instanceof Q5?this.value.data:(console.error("Value is not a vector or matrix."),new Float32Array(0))}};Zn=class Zn extends D${constructor($,Q){super(),this.type=$,this.value=Q}get astNodeType(){return"bitcastExpr"}search($){this.value.search($)}};qF=class qF extends D${constructor($){super(),this.index=$}search($){this.index.search($)}};qn=class qn extends D${constructor(){super()}};u7=class u7 extends qn{constructor($,Q){super(),this.operator=$,this.right=Q}get astNodeType(){return"unaryOp"}constEvaluate($,Q){return $.evalExpression(this,$.context)}search($){this.right.search($)}};O$=class O$ extends qn{constructor($,Q,J){super(),this.operator=$,this.left=Q,this.right=J}get astNodeType(){return"binaryOp"}_getPromotedType($,Q){return $.name===Q.name?$:$.name==="f32"||Q.name==="f32"?x0.f32:$.name==="u32"||Q.name==="u32"?x0.u32:x0.i32}constEvaluate($,Q){return $.evalExpression(this,$.context)}search($){this.left.search($),this.right.search($)}};Xn=class Xn extends T${constructor($){super(),this.body=$}search($){$(this),this.searchBlock(this.body,$)}};rG=class rG extends D${constructor(){super()}get astNodeType(){return"default"}};Wn=class Wn extends Xn{constructor($,Q){super(Q),this.selectors=$}get astNodeType(){return"case"}search($){this.searchBlock(this.body,$)}};Fn=class Fn extends Xn{constructor($){super($)}get astNodeType(){return"default"}search($){this.searchBlock(this.body,$)}};pd=class pd extends T${constructor($,Q,J){super(),this.name=$,this.type=Q,this.attributes=J}get astNodeType(){return"argument"}};sR0=class sR0 extends T${constructor($,Q){super(),this.condition=$,this.body=Q}get astNodeType(){return"elseif"}search($){this.condition.search($),this.searchBlock(this.body,$)}};dd=class dd extends T${constructor($,Q,J){super(),this.name=$,this.type=Q,this.attributes=J}get astNodeType(){return"member"}};Un=class Un extends T${constructor($,Q){super(),this.name=$,this.value=Q}get astNodeType(){return"attribute"}};w$._id=0;qE=class qE extends w${constructor(){super(new z3("void",null),null)}toString(){return"void"}};qE.void=new qE;ZF=class ZF extends w${constructor($){super(new YE("pointer",$.typeInfo,null),null),this.reference=$}clone(){return this}setDataValue($,Q,J,K){this.reference.setDataValue($,Q,J,K)}getSubData($,Q,J){return Q?this.reference.getSubData($,Q,J):this}toString(){return`&${this.reference.toString()}`}};U0=class U0 extends w${constructor($,Q,J=null){super(Q,J),$ instanceof Int32Array||$ instanceof Uint32Array||$ instanceof Float32Array?this.data=$:this.typeInfo.name==="x32"?$-Math.floor($)!==0?this.data=new Float32Array([$]):this.data=$>=0?new Uint32Array([$]):new Int32Array([$]):this.typeInfo.name==="i32"||this.typeInfo.name==="bool"?this.data=new Int32Array([$]):this.typeInfo.name==="u32"?this.data=new Uint32Array([$]):this.typeInfo.name==="f32"||this.typeInfo.name==="f16"?this.data=new Float32Array([$]):console.error("ScalarData2: Invalid type",Q)}clone(){if(this.data instanceof Float32Array)return new U0(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new U0(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new U0(new Uint32Array(this.data),this.typeInfo,null);throw"ScalarData: Invalid data type"}get value(){return this.data[0]}set value($){this.data[0]=$}setDataValue($,Q,J,K){if(J)return void console.error("SetDataValue: Scalar data does not support postfix",J);if(!(Q instanceof U0))return void console.error("SetDataValue: Invalid value",Q);let Y=Q.data[0];this.typeInfo.name==="i32"||this.typeInfo.name==="u32"?Y=Math.floor(Y):this.typeInfo.name==="bool"&&(Y=Y?1:0),this.data[0]=Y}getSubData($,Q,J){return Q?(console.error("getSubData: Scalar data does not support postfix",Q),null):this}toString(){return`${this.value}`}};a=class a extends w${constructor($,Q,J=null){if(super(Q,J),$ instanceof Float32Array||$ instanceof Uint32Array||$ instanceof Int32Array)this.data=$;else{let K=this.typeInfo.name;K==="vec2f"||K==="vec3f"||K==="vec4f"?this.data=new Float32Array($):K==="vec2i"||K==="vec3i"||K==="vec4i"?this.data=new Int32Array($):K==="vec2u"||K==="vec3u"||K==="vec4u"?this.data=new Uint32Array($):K==="vec2h"||K==="vec3h"||K==="vec4h"?this.data=new Float32Array($):K==="vec2b"||K==="vec3b"||K==="vec4b"?this.data=new Int32Array($):K==="vec2"||K==="vec3"||K==="vec4"?this.data=new Float32Array($):console.error(`VectorData: Invalid type ${K}`)}}clone(){if(this.data instanceof Float32Array)return new a(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new a(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new a(new Uint32Array(this.data),this.typeInfo,null);throw"VectorData: Invalid data type"}setDataValue($,Q,J,K){J instanceof UX?console.error("TODO: Set vector postfix"):Q instanceof a?this.data=Q.data:console.error("SetDataValue: Invalid value",Q)}getSubData($,Q,J){if(Q===null)return this;let K=$.getTypeInfo("f32");if(this.typeInfo instanceof FX)K=this.typeInfo.format||K;else{let Z=this.typeInfo.name;Z==="vec2f"||Z==="vec3f"||Z==="vec4f"?K=$.getTypeInfo("f32"):Z==="vec2i"||Z==="vec3i"||Z==="vec4i"?K=$.getTypeInfo("i32"):Z==="vec2b"||Z==="vec3b"||Z==="vec4b"?K=$.getTypeInfo("bool"):Z==="vec2u"||Z==="vec3u"||Z==="vec4u"?K=$.getTypeInfo("u32"):Z==="vec2h"||Z==="vec3h"||Z==="vec4h"?K=$.getTypeInfo("f16"):console.error(`GetSubData: Unknown type ${Z}`)}let Y=this;for(;Q!==null&&Y!==null;){if(Q instanceof qF){let Z=Q.index,q=-1;if(Z instanceof o7){if(!(Z.value instanceof U0))return console.error(`GetSubData: Invalid array index ${Z.value}`),null;q=Z.value.value}else{let X=$.evalExpression(Z,J);if(!(X instanceof U0))return console.error("GetSubData: Unknown index type",Z),null;q=X.value}if(q<0||q>=Y.data.length)return console.error("GetSubData: Index out of range",q),null;if(Y.data instanceof Float32Array){let X=new Float32Array(Y.data.buffer,Y.data.byteOffset+4*q,1);return new U0(X,K)}if(Y.data instanceof Int32Array){let X=new Int32Array(Y.data.buffer,Y.data.byteOffset+4*q,1);return new U0(X,K)}if(Y.data instanceof Uint32Array){let X=new Uint32Array(Y.data.buffer,Y.data.byteOffset+4*q,1);return new U0(X,K)}throw"GetSubData: Invalid data type"}if(!(Q instanceof UX))return console.error("GetSubData: Unknown postfix",Q),null;{let Z=Q.value.toLowerCase();if(Z.length===1){let X=0;if(Z==="x"||Z==="r")X=0;else if(Z==="y"||Z==="g")X=1;else if(Z==="z"||Z==="b")X=2;else{if(Z!=="w"&&Z!=="a")return console.error(`GetSubData: Unknown member ${Z}`),null;X=3}if(this.data instanceof Float32Array){let W=new Float32Array(this.data.buffer,this.data.byteOffset+4*X,1);return new U0(W,K,this)}if(this.data instanceof Int32Array){let W=new Int32Array(this.data.buffer,this.data.byteOffset+4*X,1);return new U0(W,K,this)}if(this.data instanceof Uint32Array){let W=new Uint32Array(this.data.buffer,this.data.byteOffset+4*X,1);return new U0(W,K,this)}}let q=[];for(let X of Z)X==="x"||X==="r"?q.push(this.data[0]):X==="y"||X==="g"?q.push(this.data[1]):X==="z"||X==="b"?q.push(this.data[2]):X==="w"||X==="a"?q.push(this.data[3]):console.error(`GetDataValue: Unknown member ${X}`);Y=K21($,q,K.name)}Q=Q.postfix}return Y}toString(){let $=`${this.data[0]}`;for(let Q=1;Q<this.data.length;++Q)$+=`, ${this.data[Q]}`;return $}};Q5=class Q5 extends w${constructor($,Q,J=null){super(Q,J),$ instanceof Float32Array?this.data=$:this.data=new Float32Array($)}clone(){return new Q5(new Float32Array(this.data),this.typeInfo,null)}setDataValue($,Q,J,K){J instanceof UX?console.error("TODO: Set matrix postfix"):Q instanceof Q5?this.data=Q.data:console.error("SetDataValue: Invalid value",Q)}getSubData($,Q,J){if(Q===null)return this;let K=this.typeInfo.name;if($.getTypeInfo("f32"),this.typeInfo instanceof FX)this.typeInfo.format;else if(K.endsWith("f"))$.getTypeInfo("f32");else if(K.endsWith("i"))$.getTypeInfo("i32");else if(K.endsWith("u"))$.getTypeInfo("u32");else{if(!K.endsWith("h"))return console.error(`GetDataValue: Unknown type ${K}`),null;$.getTypeInfo("f16")}if(Q instanceof qF){let Y=Q.index,Z=-1;if(Y instanceof o7){if(!(Y.value instanceof U0))return console.error(`GetDataValue: Invalid array index ${Y.value}`),null;Z=Y.value.value}else{let W=$.evalExpression(Y,J);if(!(W instanceof U0))return console.error("GetDataValue: Unknown index type",Y),null;Z=W.value}if(Z<0||Z>=this.data.length)return console.error("GetDataValue: Index out of range",Z),null;let q=K.endsWith("h")?"h":"f",X;if(K==="mat2x2"||K==="mat2x2f"||K==="mat2x2h"||K==="mat3x2"||K==="mat3x2f"||K==="mat3x2h"||K==="mat4x2"||K==="mat4x2f"||K==="mat4x2h")X=new a(new Float32Array(this.data.buffer,this.data.byteOffset+2*Z*4,2),$.getTypeInfo(`vec2${q}`));else if(K==="mat2x3"||K==="mat2x3f"||K==="mat2x3h"||K==="mat3x3"||K==="mat3x3f"||K==="mat3x3h"||K==="mat4x3"||K==="mat4x3f"||K==="mat4x3h")X=new a(new Float32Array(this.data.buffer,this.data.byteOffset+3*Z*4,3),$.getTypeInfo(`vec3${q}`));else{if(K!=="mat2x4"&&K!=="mat2x4f"&&K!=="mat2x4h"&&K!=="mat3x4"&&K!=="mat3x4f"&&K!=="mat3x4h"&&K!=="mat4x4"&&K!=="mat4x4f"&&K!=="mat4x4h")return console.error(`GetDataValue: Unknown type ${K}`),null;X=new a(new Float32Array(this.data.buffer,this.data.byteOffset+4*Z*4,4),$.getTypeInfo(`vec4${q}`))}return Q.postfix?X.getSubData($,Q.postfix,J):X}return console.error("GetDataValue: Invalid postfix",Q),null}toString(){let $=`${this.data[0]}`;for(let Q=1;Q<this.data.length;++Q)$+=`, ${this.data[Q]}`;return $}};v7=class v7 extends w${constructor($,Q,J=0,K=null){super(Q,K),this.buffer=$ instanceof ArrayBuffer?$:$.buffer,this.offset=J}clone(){let $=new Uint8Array(new Uint8Array(this.buffer,this.offset,this.typeInfo.size));return new v7($.buffer,this.typeInfo,0,null)}setDataValue($,Q,J,K){if(Q===null)return void console.log("setDataValue: NULL data.");let Y=this.offset,Z=this.typeInfo;for(;J;){if(J instanceof qF)if(Z instanceof iY){let q=J.index;if(q instanceof o7){if(!(q.value instanceof U0))return void console.error(`SetDataValue: Invalid index type ${q.value}`);Y+=q.value.value*Z.stride}else{let X=$.evalExpression(q,K);if(!(X instanceof U0))return void console.error("SetDataValue: Unknown index type",q);Y+=X.value*Z.stride}Z=Z.format}else console.error(`SetDataValue: Type ${Z.getTypeName()} is not an array`);else{if(!(J instanceof UX))return void console.error("SetDataValue: Unknown postfix type",J);{let q=J.value;if(Z instanceof rY){let X=!1;for(let W of Z.members)if(W.name===q){Y+=W.offset,Z=W.type,X=!0;break}if(!X)return void console.error(`SetDataValue: Member ${q} not found`)}else if(Z instanceof z3){let X=Z.getTypeName(),W=0;if(q==="x"||q==="r")W=0;else if(q==="y"||q==="g")W=1;else if(q==="z"||q==="b")W=2;else{if(q!=="w"&&q!=="a")return void console.error(`SetDataValue: Unknown member ${q}`);W=3}if(!(Q instanceof U0))return void console.error("SetDataValue: Invalid value",Q);let F=Q.value;return X==="vec2f"?void(new Float32Array(this.buffer,Y,2)[W]=F):X==="vec3f"?void(new Float32Array(this.buffer,Y,3)[W]=F):X==="vec4f"?void(new Float32Array(this.buffer,Y,4)[W]=F):X==="vec2i"?void(new Int32Array(this.buffer,Y,2)[W]=F):X==="vec3i"?void(new Int32Array(this.buffer,Y,3)[W]=F):X==="vec4i"?void(new Int32Array(this.buffer,Y,4)[W]=F):X==="vec2u"?void(new Uint32Array(this.buffer,Y,2)[W]=F):X==="vec3u"?void(new Uint32Array(this.buffer,Y,3)[W]=F):X==="vec4u"?void(new Uint32Array(this.buffer,Y,4)[W]=F):void console.error(`SetDataValue: Type ${X} is not a struct`)}}}J=J.postfix}this.setData($,Q,Z,Y,K)}setData($,Q,J,K,Y){let Z=J.getTypeName();if(Z!=="f32"&&Z!=="f16")if(Z!=="i32"&&Z!=="atomic<i32>"&&Z!=="x32")if(Z!=="u32"&&Z!=="atomic<u32>")if(Z!=="bool"){if(Z==="vec2f"||Z==="vec2h"){let q=new Float32Array(this.buffer,K,2);return void(Q instanceof a?(q[0]=Q.data[0],q[1]=Q.data[1]):(q[0]=Q[0],q[1]=Q[1]))}if(Z==="vec3f"||Z==="vec3h"){let q=new Float32Array(this.buffer,K,3);return void(Q instanceof a?(q[0]=Q.data[0],q[1]=Q.data[1],q[2]=Q.data[2]):(q[0]=Q[0],q[1]=Q[1],q[2]=Q[2]))}if(Z==="vec4f"||Z==="vec4h"){let q=new Float32Array(this.buffer,K,4);return void(Q instanceof a?(q[0]=Q.data[0],q[1]=Q.data[1],q[2]=Q.data[2],q[3]=Q.data[3]):(q[0]=Q[0],q[1]=Q[1],q[2]=Q[2],q[3]=Q[3]))}if(Z==="vec2i"){let q=new Int32Array(this.buffer,K,2);return void(Q instanceof a?(q[0]=Q.data[0],q[1]=Q.data[1]):(q[0]=Q[0],q[1]=Q[1]))}if(Z==="vec3i"){let q=new Int32Array(this.buffer,K,3);return void(Q instanceof a?(q[0]=Q.data[0],q[1]=Q.data[1],q[2]=Q.data[2]):(q[0]=Q[0],q[1]=Q[1],q[2]=Q[2]))}if(Z==="vec4i"){let q=new Int32Array(this.buffer,K,4);return void(Q instanceof a?(q[0]=Q.data[0],q[1]=Q.data[1],q[2]=Q.data[2],q[3]=Q.data[3]):(q[0]=Q[0],q[1]=Q[1],q[2]=Q[2],q[3]=Q[3]))}if(Z==="vec2u"){let q=new Uint32Array(this.buffer,K,2);return void(Q instanceof a?(q[0]=Q.data[0],q[1]=Q.data[1]):(q[0]=Q[0],q[1]=Q[1]))}if(Z==="vec3u"){let q=new Uint32Array(this.buffer,K,3);return void(Q instanceof a?(q[0]=Q.data[0],q[1]=Q.data[1],q[2]=Q.data[2]):(q[0]=Q[0],q[1]=Q[1],q[2]=Q[2]))}if(Z==="vec4u"){let q=new Uint32Array(this.buffer,K,4);return void(Q instanceof a?(q[0]=Q.data[0],q[1]=Q.data[1],q[2]=Q.data[2],q[3]=Q.data[3]):(q[0]=Q[0],q[1]=Q[1],q[2]=Q[2],q[3]=Q[3]))}if(Z==="vec2b"){let q=new Uint32Array(this.buffer,K,2);return void(Q instanceof a?(q[0]=Q.data[0],q[1]=Q.data[1]):(q[0]=Q[0],q[1]=Q[1]))}if(Z==="vec3b"){let q=new Uint32Array(this.buffer,K,3);return void(Q instanceof a?(q[0]=Q.data[0],q[1]=Q.data[1],q[2]=Q.data[2]):(q[0]=Q[0],q[1]=Q[1],q[2]=Q[2]))}if(Z==="vec4b"){let q=new Uint32Array(this.buffer,K,4);return void(Q instanceof a?(q[0]=Q.data[0],q[1]=Q.data[1],q[2]=Q.data[2],q[3]=Q.data[3]):(q[0]=Q[0],q[1]=Q[1],q[2]=Q[2],q[3]=Q[3]))}if(Z==="mat2x2f"||Z==="mat2x2h"){let q=new Float32Array(this.buffer,K,4);return void(Q instanceof Q5?(q[0]=Q.data[0],q[1]=Q.data[1],q[2]=Q.data[2],q[3]=Q.data[3]):(q[0]=Q[0],q[1]=Q[1],q[2]=Q[2],q[3]=Q[3]))}if(Z==="mat2x3f"||Z==="mat2x3h"){let q=new Float32Array(this.buffer,K,6);return void(Q instanceof Q5?(q[0]=Q.data[0],q[1]=Q.data[1],q[2]=Q.data[2],q[3]=Q.data[3],q[4]=Q.data[4],q[5]=Q.data[5]):(q[0]=Q[0],q[1]=Q[1],q[2]=Q[2],q[3]=Q[3],q[4]=Q[4],q[5]=Q[5]))}if(Z==="mat2x4f"||Z==="mat2x4h"){let q=new Float32Array(this.buffer,K,8);return void(Q instanceof Q5?(q[0]=Q.data[0],q[1]=Q.data[1],q[2]=Q.data[2],q[3]=Q.data[3],q[4]=Q.data[4],q[5]=Q.data[5],q[6]=Q.data[6],q[7]=Q.data[7]):(q[0]=Q[0],q[1]=Q[1],q[2]=Q[2],q[3]=Q[3],q[4]=Q[4],q[5]=Q[5],q[6]=Q[6],q[7]=Q[7]))}if(Z==="mat3x2f"||Z==="mat3x2h"){let q=new Float32Array(this.buffer,K,6);return void(Q instanceof Q5?(q[0]=Q.data[0],q[1]=Q.data[1],q[2]=Q.data[2],q[3]=Q.data[3],q[4]=Q.data[4],q[5]=Q.data[5]):(q[0]=Q[0],q[1]=Q[1],q[2]=Q[2],q[3]=Q[3],q[4]=Q[4],q[5]=Q[5]))}if(Z==="mat3x3f"||Z==="mat3x3h"){let q=new Float32Array(this.buffer,K,9);return void(Q instanceof Q5?(q[0]=Q.data[0],q[1]=Q.data[1],q[2]=Q.data[2],q[3]=Q.data[3],q[4]=Q.data[4],q[5]=Q.data[5],q[6]=Q.data[6],q[7]=Q.data[7],q[8]=Q.data[8]):(q[0]=Q[0],q[1]=Q[1],q[2]=Q[2],q[3]=Q[3],q[4]=Q[4],q[5]=Q[5],q[6]=Q[6],q[7]=Q[7],q[8]=Q[8]))}if(Z==="mat3x4f"||Z==="mat3x4h"){let q=new Float32Array(this.buffer,K,12);return void(Q instanceof Q5?(q[0]=Q.data[0],q[1]=Q.data[1],q[2]=Q.data[2],q[3]=Q.data[3],q[4]=Q.data[4],q[5]=Q.data[5],q[6]=Q.data[6],q[7]=Q.data[7],q[8]=Q.data[8],q[9]=Q.data[9],q[10]=Q.data[10],q[11]=Q.data[11]):(q[0]=Q[0],q[1]=Q[1],q[2]=Q[2],q[3]=Q[3],q[4]=Q[4],q[5]=Q[5],q[6]=Q[6],q[7]=Q[7],q[8]=Q[8],q[9]=Q[9],q[10]=Q[10],q[11]=Q[11]))}if(Z==="mat4x2f"||Z==="mat4x2h"){let q=new Float32Array(this.buffer,K,8);return void(Q instanceof Q5?(q[0]=Q.data[0],q[1]=Q.data[1],q[2]=Q.data[2],q[3]=Q.data[3],q[4]=Q.data[4],q[5]=Q.data[5],q[6]=Q.data[6],q[7]=Q.data[7]):(q[0]=Q[0],q[1]=Q[1],q[2]=Q[2],q[3]=Q[3],q[4]=Q[4],q[5]=Q[5],q[6]=Q[6],q[7]=Q[7]))}if(Z==="mat4x3f"||Z==="mat4x3h"){let q=new Float32Array(this.buffer,K,12);return void(Q instanceof Q5?(q[0]=Q.data[0],q[1]=Q.data[1],q[2]=Q.data[2],q[3]=Q.data[3],q[4]=Q.data[4],q[5]=Q.data[5],q[6]=Q.data[6],q[7]=Q.data[7],q[8]=Q.data[8],q[9]=Q.data[9],q[10]=Q.data[10],q[11]=Q.data[11]):(q[0]=Q[0],q[1]=Q[1],q[2]=Q[2],q[3]=Q[3],q[4]=Q[4],q[5]=Q[5],q[6]=Q[6],q[7]=Q[7],q[8]=Q[8],q[9]=Q[9],q[10]=Q[10],q[11]=Q[11]))}if(Z==="mat4x4f"||Z==="mat4x4h"){let q=new Float32Array(this.buffer,K,16);return void(Q instanceof Q5?(q[0]=Q.data[0],q[1]=Q.data[1],q[2]=Q.data[2],q[3]=Q.data[3],q[4]=Q.data[4],q[5]=Q.data[5],q[6]=Q.data[6],q[7]=Q.data[7],q[8]=Q.data[8],q[9]=Q.data[9],q[10]=Q.data[10],q[11]=Q.data[11],q[12]=Q.data[12],q[13]=Q.data[13],q[14]=Q.data[14],q[15]=Q.data[15]):(q[0]=Q[0],q[1]=Q[1],q[2]=Q[2],q[3]=Q[3],q[4]=Q[4],q[5]=Q[5],q[6]=Q[6],q[7]=Q[7],q[8]=Q[8],q[9]=Q[9],q[10]=Q[10],q[11]=Q[11],q[12]=Q[12],q[13]=Q[13],q[14]=Q[14],q[15]=Q[15]))}if(Q instanceof v7){if(J===Q.typeInfo)return void new Uint8Array(this.buffer,K,Q.buffer.byteLength).set(new Uint8Array(Q.buffer));console.error("SetDataValue: Type mismatch",Z,Q.typeInfo.getTypeName())}else console.error(`SetData: Unknown type ${Z}`)}else Q instanceof U0&&(new Int32Array(this.buffer,K,1)[0]=Q.value);else Q instanceof U0&&(new Uint32Array(this.buffer,K,1)[0]=Q.value);else Q instanceof U0&&(new Int32Array(this.buffer,K,1)[0]=Q.value);else Q instanceof U0&&(new Float32Array(this.buffer,K,1)[0]=Q.value)}getSubData($,Q,J){var K,Y,Z;if(Q===null)return this;let q=this.offset,X=this.typeInfo;for(;Q;){if(Q instanceof qF){let F=Q.index,H=F instanceof D$?$.evalExpression(F,J):F,B=0;if(H instanceof U0?B=H.value:typeof H=="number"?B=H:console.error("GetDataValue: Invalid index type",F),X instanceof iY)q+=B*X.stride,X=X.format;else{let z=X.getTypeName();z==="mat4x4"||z==="mat4x4f"||z==="mat4x4h"?(q+=16*B,X=$.getTypeInfo("vec4f")):console.error(`getDataValue: Type ${X.getTypeName()} is not an array`)}}else{if(!(Q instanceof UX))return console.error("GetDataValue: Unknown postfix type",Q),null;{let F=Q.value;if(X instanceof rY){let H=!1;for(let B of X.members)if(B.name===F){q+=B.offset,X=B.type,H=!0;break}if(!H)return console.error(`GetDataValue: Member ${F} not found`),null}else if(X instanceof z3){let H=X.getTypeName();if(H==="vec2f"||H==="vec3f"||H==="vec4f"||H==="vec2i"||H==="vec3i"||H==="vec4i"||H==="vec2u"||H==="vec3u"||H==="vec4u"||H==="vec2b"||H==="vec3b"||H==="vec4b"||H==="vec2h"||H==="vec3h"||H==="vec4h"||H==="vec2"||H==="vec3"||H==="vec4"){if(F.length>0&&F.length<5){let B="f",z=[];for(let A=0;A<F.length;++A){let R=F[A].toLowerCase(),G=0;if(R==="x"||R==="r")G=0;else if(R==="y"||R==="g")G=1;else if(R==="z"||R==="b")G=2;else{if(R!=="w"&&R!=="a")return console.error(`Unknown member ${F}`),null;G=3}if(F.length===1){if(H.endsWith("f"))return this.buffer.byteLength<q+4*G+4?(console.log("Insufficient buffer data"),null):new U0(new Float32Array(this.buffer,q+4*G,1),$.getTypeInfo("f32"),this);if(H.endsWith("h"))return new U0(new Float32Array(this.buffer,q+4*G,1),$.getTypeInfo("f16"),this);if(H.endsWith("i"))return new U0(new Int32Array(this.buffer,q+4*G,1),$.getTypeInfo("i32"),this);if(H.endsWith("b"))return new U0(new Int32Array(this.buffer,q+4*G,1),$.getTypeInfo("bool"),this);if(H.endsWith("u"))return new U0(new Uint32Array(this.buffer,q+4*G,1),$.getTypeInfo("i32"),this)}if(H==="vec2f")z.push(new Float32Array(this.buffer,q,2)[G]);else if(H==="vec3f"){if(q+12>=this.buffer.byteLength)return console.log("Insufficient buffer data"),null;let O=new Float32Array(this.buffer,q,3);z.push(O[G])}else if(H==="vec4f")z.push(new Float32Array(this.buffer,q,4)[G]);else if(H==="vec2i")B="i",z.push(new Int32Array(this.buffer,q,2)[G]);else if(H==="vec3i")B="i",z.push(new Int32Array(this.buffer,q,3)[G]);else if(H==="vec4i")B="i",z.push(new Int32Array(this.buffer,q,4)[G]);else if(H==="vec2u"){B="u";let O=new Uint32Array(this.buffer,q,2);z.push(O[G])}else H==="vec3u"?(B="u",z.push(new Uint32Array(this.buffer,q,3)[G])):H==="vec4u"&&(B="u",z.push(new Uint32Array(this.buffer,q,4)[G]))}return z.length===2?X=$.getTypeInfo(`vec2${B}`):z.length===3?X=$.getTypeInfo(`vec3${B}`):z.length===4?X=$.getTypeInfo(`vec4${B}`):console.error(`GetDataValue: Invalid vector length ${z.length}`),new a(z,X,null)}return console.error(`GetDataValue: Unknown member ${F}`),null}return console.error(`GetDataValue: Type ${H} is not a struct`),null}}}Q=Q.postfix}let W=X.getTypeName();return W==="f32"?new U0(new Float32Array(this.buffer,q,1),X,this):W==="i32"?new U0(new Int32Array(this.buffer,q,1),X,this):W==="u32"?new U0(new Uint32Array(this.buffer,q,1),X,this):W==="vec2f"?new a(new Float32Array(this.buffer,q,2),X,this):W==="vec3f"?new a(new Float32Array(this.buffer,q,3),X,this):W==="vec4f"?new a(new Float32Array(this.buffer,q,4),X,this):W==="vec2i"?new a(new Int32Array(this.buffer,q,2),X,this):W==="vec3i"?new a(new Int32Array(this.buffer,q,3),X,this):W==="vec4i"?new a(new Int32Array(this.buffer,q,4),X,this):W==="vec2u"?new a(new Uint32Array(this.buffer,q,2),X,this):W==="vec3u"?new a(new Uint32Array(this.buffer,q,3),X,this):W==="vec4u"?new a(new Uint32Array(this.buffer,q,4),X,this):X instanceof FX&&X.name==="atomic"?((K=X.format)===null||K===void 0?void 0:K.name)==="u32"?new U0(new Uint32Array(this.buffer,q,1)[0],X.format,this):((Y=X.format)===null||Y===void 0?void 0:Y.name)==="i32"?new U0(new Int32Array(this.buffer,q,1)[0],X.format,this):(console.error(`GetDataValue: Invalid atomic format ${(Z=X.format)===null||Z===void 0?void 0:Z.name}`),null):new v7(this.buffer,X,q,this)}toString(){let $="";if(this.typeInfo instanceof iY)if(this.typeInfo.format.name==="f32"){let Q=new Float32Array(this.buffer,this.offset);$=`[${Q[0]}`;for(let J=1;J<Q.length;++J)$+=`, ${Q[J]}`}else if(this.typeInfo.format.name==="i32"){let Q=new Int32Array(this.buffer,this.offset);$=`[${Q[0]}`;for(let J=1;J<Q.length;++J)$+=`, ${Q[J]}`}else if(this.typeInfo.format.name==="u32"){let Q=new Uint32Array(this.buffer,this.offset);$=`[${Q[0]}`;for(let J=1;J<Q.length;++J)$+=`, ${Q[J]}`}else if(this.typeInfo.format.name==="vec2f"){let Q=new Float32Array(this.buffer,this.offset);$=`[${Q[0]}, ${Q[1]}]`;for(let J=1;J<Q.length/2;++J)$+=`, [${Q[2*J]}, ${Q[2*J+1]}]`}else if(this.typeInfo.format.name==="vec3f"){let Q=new Float32Array(this.buffer,this.offset);$=`[${Q[0]}, ${Q[1]}, ${Q[2]}]`;for(let J=4;J<Q.length;J+=4)$+=`, [${Q[J]}, ${Q[J+1]}, ${Q[J+2]}]`}else if(this.typeInfo.format.name==="vec4f"){let Q=new Float32Array(this.buffer,this.offset);$=`[${Q[0]}, ${Q[1]}, ${Q[2]}, ${Q[3]}]`;for(let J=4;J<Q.length;J+=4)$+=`, [${Q[J]}, ${Q[J+1]}, ${Q[J+2]}, ${Q[J+3]}]`}else $="[...]";else this.typeInfo instanceof rY?$+="{...}":$="[...]";return $}};lY=class lY extends w${constructor($,Q,J,K){super(Q,null),this.data=$,this.descriptor=J,this.view=K}clone(){return new lY(this.data,this.typeInfo,this.descriptor,this.view)}get width(){var $,Q;let J=this.descriptor.size;return J instanceof Array&&J.length>0?($=J[0])!==null&&$!==void 0?$:0:J instanceof Object&&(Q=J.width)!==null&&Q!==void 0?Q:0}get height(){var $,Q;let J=this.descriptor.size;return J instanceof Array&&J.length>1?($=J[1])!==null&&$!==void 0?$:0:J instanceof Object&&(Q=J.height)!==null&&Q!==void 0?Q:0}get depthOrArrayLayers(){var $,Q;let J=this.descriptor.size;return J instanceof Array&&J.length>2?($=J[2])!==null&&$!==void 0?$:0:J instanceof Object&&(Q=J.depthOrArrayLayers)!==null&&Q!==void 0?Q:0}get format(){var $;return this.descriptor&&($=this.descriptor.format)!==null&&$!==void 0?$:"rgba8unorm"}get sampleCount(){var $;return this.descriptor&&($=this.descriptor.sampleCount)!==null&&$!==void 0?$:1}get mipLevelCount(){var $;return this.descriptor&&($=this.descriptor.mipLevelCount)!==null&&$!==void 0?$:1}get dimension(){var $;return this.descriptor&&($=this.descriptor.dimension)!==null&&$!==void 0?$:"2d"}getMipLevelSize($){if($>=this.mipLevelCount)return[0,0,0];let Q=[this.width,this.height,this.depthOrArrayLayers];for(let J=0;J<Q.length;++J)Q[J]=Math.max(1,Q[J]>>$);return Q}get texelByteSize(){let $=this.format,Q=yd[$];return Q?Q.isDepthStencil?4:Q.bytesPerBlock:0}get bytesPerRow(){return this.width*this.texelByteSize}get isDepthStencil(){let $=this.format,Q=yd[$];return!!Q&&Q.isDepthStencil}getGpuSize(){let $=this.format,Q=yd[$],J=this.width;if(!$||J<=0||!Q)return-1;let K=this.height,Y=this.depthOrArrayLayers,Z=this.dimension;return J/Q.blockWidth*(Z==="1d"?1:K/Q.blockHeight)*Q.bytesPerBlock*Y}getPixel($,Q,J=0,K=0){let Y=this.texelByteSize,Z=this.bytesPerRow,q=this.height,X=this.data[K];return J21(new Uint8Array(X),$,Q,J,K,q,Z,Y,this.format)}setPixel($,Q,J,K,Y){let Z=this.texelByteSize,q=this.bytesPerRow,X=this.height,W=this.data[K];(function(F,H,B,z,A,R,G,O,T,D){let P=z*(G>>=A)*(R>>=A)+B*G+H*O;switch(T){case"r8unorm":return void z6(F,P,"8unorm",1,D);case"r8snorm":return void z6(F,P,"8snorm",1,D);case"r8uint":return void z6(F,P,"8uint",1,D);case"r8sint":return void z6(F,P,"8sint",1,D);case"rg8unorm":return void z6(F,P,"8unorm",2,D);case"rg8snorm":return void z6(F,P,"8snorm",2,D);case"rg8uint":return void z6(F,P,"8uint",2,D);case"rg8sint":return void z6(F,P,"8sint",2,D);case"rgba8unorm-srgb":case"rgba8unorm":case"bgra8unorm-srgb":case"bgra8unorm":return void z6(F,P,"8unorm",4,D);case"rgba8snorm":return void z6(F,P,"8snorm",4,D);case"rgba8uint":return void z6(F,P,"8uint",4,D);case"rgba8sint":return void z6(F,P,"8sint",4,D);case"r16uint":return void z6(F,P,"16uint",1,D);case"r16sint":return void z6(F,P,"16sint",1,D);case"r16float":return void z6(F,P,"16float",1,D);case"rg16uint":return void z6(F,P,"16uint",2,D);case"rg16sint":return void z6(F,P,"16sint",2,D);case"rg16float":return void z6(F,P,"16float",2,D);case"rgba16uint":return void z6(F,P,"16uint",4,D);case"rgba16sint":return void z6(F,P,"16sint",4,D);case"rgba16float":return void z6(F,P,"16float",4,D);case"r32uint":return void z6(F,P,"32uint",1,D);case"r32sint":return void z6(F,P,"32sint",1,D);case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return void z6(F,P,"32float",1,D);case"rg32uint":return void z6(F,P,"32uint",2,D);case"rg32sint":return void z6(F,P,"32sint",2,D);case"rg32float":return void z6(F,P,"32float",2,D);case"rgba32uint":return void z6(F,P,"32uint",4,D);case"rgba32sint":return void z6(F,P,"32sint",4,D);case"rgba32float":return void z6(F,P,"32float",4,D);case"rg11b10ufloat":console.error("TODO: rg11b10ufloat not supported for writing")}})(new Uint8Array(W),$,Q,J,K,X,q,Z,this.format,Y)}};(($)=>{$[$.token=0]="token",$[$.keyword=1]="keyword",$[$.reserved=2]="reserved"})(N0||(N0={}));V0=i,i.none=new B0("",N0.reserved,""),i.eof=new B0("EOF",N0.token,""),i.reserved={asm:new B0("asm",N0.reserved,"asm"),bf16:new B0("bf16",N0.reserved,"bf16"),do:new B0("do",N0.reserved,"do"),enum:new B0("enum",N0.reserved,"enum"),f16:new B0("f16",N0.reserved,"f16"),f64:new B0("f64",N0.reserved,"f64"),handle:new B0("handle",N0.reserved,"handle"),i8:new B0("i8",N0.reserved,"i8"),i16:new B0("i16",N0.reserved,"i16"),i64:new B0("i64",N0.reserved,"i64"),mat:new B0("mat",N0.reserved,"mat"),premerge:new B0("premerge",N0.reserved,"premerge"),regardless:new B0("regardless",N0.reserved,"regardless"),typedef:new B0("typedef",N0.reserved,"typedef"),u8:new B0("u8",N0.reserved,"u8"),u16:new B0("u16",N0.reserved,"u16"),u64:new B0("u64",N0.reserved,"u64"),unless:new B0("unless",N0.reserved,"unless"),using:new B0("using",N0.reserved,"using"),vec:new B0("vec",N0.reserved,"vec"),void:new B0("void",N0.reserved,"void")},i.keywords={array:new B0("array",N0.keyword,"array"),atomic:new B0("atomic",N0.keyword,"atomic"),bool:new B0("bool",N0.keyword,"bool"),f32:new B0("f32",N0.keyword,"f32"),i32:new B0("i32",N0.keyword,"i32"),mat2x2:new B0("mat2x2",N0.keyword,"mat2x2"),mat2x3:new B0("mat2x3",N0.keyword,"mat2x3"),mat2x4:new B0("mat2x4",N0.keyword,"mat2x4"),mat3x2:new B0("mat3x2",N0.keyword,"mat3x2"),mat3x3:new B0("mat3x3",N0.keyword,"mat3x3"),mat3x4:new B0("mat3x4",N0.keyword,"mat3x4"),mat4x2:new B0("mat4x2",N0.keyword,"mat4x2"),mat4x3:new B0("mat4x3",N0.keyword,"mat4x3"),mat4x4:new B0("mat4x4",N0.keyword,"mat4x4"),ptr:new B0("ptr",N0.keyword,"ptr"),sampler:new B0("sampler",N0.keyword,"sampler"),sampler_comparison:new B0("sampler_comparison",N0.keyword,"sampler_comparison"),struct:new B0("struct",N0.keyword,"struct"),texture_1d:new B0("texture_1d",N0.keyword,"texture_1d"),texture_2d:new B0("texture_2d",N0.keyword,"texture_2d"),texture_2d_array:new B0("texture_2d_array",N0.keyword,"texture_2d_array"),texture_3d:new B0("texture_3d",N0.keyword,"texture_3d"),texture_cube:new B0("texture_cube",N0.keyword,"texture_cube"),texture_cube_array:new B0("texture_cube_array",N0.keyword,"texture_cube_array"),texture_multisampled_2d:new B0("texture_multisampled_2d",N0.keyword,"texture_multisampled_2d"),texture_storage_1d:new B0("texture_storage_1d",N0.keyword,"texture_storage_1d"),texture_storage_2d:new B0("texture_storage_2d",N0.keyword,"texture_storage_2d"),texture_storage_2d_array:new B0("texture_storage_2d_array",N0.keyword,"texture_storage_2d_array"),texture_storage_3d:new B0("texture_storage_3d",N0.keyword,"texture_storage_3d"),texture_depth_2d:new B0("texture_depth_2d",N0.keyword,"texture_depth_2d"),texture_depth_2d_array:new B0("texture_depth_2d_array",N0.keyword,"texture_depth_2d_array"),texture_depth_cube:new B0("texture_depth_cube",N0.keyword,"texture_depth_cube"),texture_depth_cube_array:new B0("texture_depth_cube_array",N0.keyword,"texture_depth_cube_array"),texture_depth_multisampled_2d:new B0("texture_depth_multisampled_2d",N0.keyword,"texture_depth_multisampled_2d"),texture_external:new B0("texture_external",N0.keyword,"texture_external"),u32:new B0("u32",N0.keyword,"u32"),vec2:new B0("vec2",N0.keyword,"vec2"),vec3:new B0("vec3",N0.keyword,"vec3"),vec4:new B0("vec4",N0.keyword,"vec4"),bitcast:new B0("bitcast",N0.keyword,"bitcast"),block:new B0("block",N0.keyword,"block"),break:new B0("break",N0.keyword,"break"),case:new B0("case",N0.keyword,"case"),continue:new B0("continue",N0.keyword,"continue"),continuing:new B0("continuing",N0.keyword,"continuing"),default:new B0("default",N0.keyword,"default"),diagnostic:new B0("diagnostic",N0.keyword,"diagnostic"),discard:new B0("discard",N0.keyword,"discard"),else:new B0("else",N0.keyword,"else"),enable:new B0("enable",N0.keyword,"enable"),fallthrough:new B0("fallthrough",N0.keyword,"fallthrough"),false:new B0("false",N0.keyword,"false"),fn:new B0("fn",N0.keyword,"fn"),for:new B0("for",N0.keyword,"for"),function:new B0("function",N0.keyword,"function"),if:new B0("if",N0.keyword,"if"),let:new B0("let",N0.keyword,"let"),const:new B0("const",N0.keyword,"const"),loop:new B0("loop",N0.keyword,"loop"),while:new B0("while",N0.keyword,"while"),private:new B0("private",N0.keyword,"private"),read:new B0("read",N0.keyword,"read"),read_write:new B0("read_write",N0.keyword,"read_write"),return:new B0("return",N0.keyword,"return"),requires:new B0("requires",N0.keyword,"requires"),storage:new B0("storage",N0.keyword,"storage"),switch:new B0("switch",N0.keyword,"switch"),true:new B0("true",N0.keyword,"true"),alias:new B0("alias",N0.keyword,"alias"),type:new B0("type",N0.keyword,"type"),uniform:new B0("uniform",N0.keyword,"uniform"),var:new B0("var",N0.keyword,"var"),override:new B0("override",N0.keyword,"override"),workgroup:new B0("workgroup",N0.keyword,"workgroup"),write:new B0("write",N0.keyword,"write"),r8unorm:new B0("r8unorm",N0.keyword,"r8unorm"),r8snorm:new B0("r8snorm",N0.keyword,"r8snorm"),r8uint:new B0("r8uint",N0.keyword,"r8uint"),r8sint:new B0("r8sint",N0.keyword,"r8sint"),r16uint:new B0("r16uint",N0.keyword,"r16uint"),r16sint:new B0("r16sint",N0.keyword,"r16sint"),r16float:new B0("r16float",N0.keyword,"r16float"),rg8unorm:new B0("rg8unorm",N0.keyword,"rg8unorm"),rg8snorm:new B0("rg8snorm",N0.keyword,"rg8snorm"),rg8uint:new B0("rg8uint",N0.keyword,"rg8uint"),rg8sint:new B0("rg8sint",N0.keyword,"rg8sint"),r32uint:new B0("r32uint",N0.keyword,"r32uint"),r32sint:new B0("r32sint",N0.keyword,"r32sint"),r32float:new B0("r32float",N0.keyword,"r32float"),rg16uint:new B0("rg16uint",N0.keyword,"rg16uint"),rg16sint:new B0("rg16sint",N0.keyword,"rg16sint"),rg16float:new B0("rg16float",N0.keyword,"rg16float"),rgba8unorm:new B0("rgba8unorm",N0.keyword,"rgba8unorm"),rgba8unorm_srgb:new B0("rgba8unorm_srgb",N0.keyword,"rgba8unorm_srgb"),rgba8snorm:new B0("rgba8snorm",N0.keyword,"rgba8snorm"),rgba8uint:new B0("rgba8uint",N0.keyword,"rgba8uint"),rgba8sint:new B0("rgba8sint",N0.keyword,"rgba8sint"),bgra8unorm:new B0("bgra8unorm",N0.keyword,"bgra8unorm"),bgra8unorm_srgb:new B0("bgra8unorm_srgb",N0.keyword,"bgra8unorm_srgb"),rgb10a2unorm:new B0("rgb10a2unorm",N0.keyword,"rgb10a2unorm"),rg11b10float:new B0("rg11b10float",N0.keyword,"rg11b10float"),rg32uint:new B0("rg32uint",N0.keyword,"rg32uint"),rg32sint:new B0("rg32sint",N0.keyword,"rg32sint"),rg32float:new B0("rg32float",N0.keyword,"rg32float"),rgba16uint:new B0("rgba16uint",N0.keyword,"rgba16uint"),rgba16sint:new B0("rgba16sint",N0.keyword,"rgba16sint"),rgba16float:new B0("rgba16float",N0.keyword,"rgba16float"),rgba32uint:new B0("rgba32uint",N0.keyword,"rgba32uint"),rgba32sint:new B0("rgba32sint",N0.keyword,"rgba32sint"),rgba32float:new B0("rgba32float",N0.keyword,"rgba32float"),static_assert:new B0("static_assert",N0.keyword,"static_assert")},i.tokens={decimal_float_literal:new B0("decimal_float_literal",N0.token,/((-?[0-9]*\.[0-9]+|-?[0-9]+\.[0-9]*)((e|E)(\+|-)?[0-9]+)?[fh]?)|(-?[0-9]+(e|E)(\+|-)?[0-9]+[fh]?)|(-?[0-9]+[fh])/),hex_float_literal:new B0("hex_float_literal",N0.token,/-?0x((([0-9a-fA-F]*\.[0-9a-fA-F]+|[0-9a-fA-F]+\.[0-9a-fA-F]*)((p|P)(\+|-)?[0-9]+[fh]?)?)|([0-9a-fA-F]+(p|P)(\+|-)?[0-9]+[fh]?))/),int_literal:new B0("int_literal",N0.token,/-?0x[0-9a-fA-F]+|0i?|-?[1-9][0-9]*i?/),uint_literal:new B0("uint_literal",N0.token,/0x[0-9a-fA-F]+u|0u|[1-9][0-9]*u/),name:new B0("name",N0.token,/([_\p{XID_Start}][\p{XID_Continue}]+)|([\p{XID_Start}])/u),ident:new B0("ident",N0.token,/[_a-zA-Z][0-9a-zA-Z_]*/),and:new B0("and",N0.token,"&"),and_and:new B0("and_and",N0.token,"&&"),arrow:new B0("arrow ",N0.token,"->"),attr:new B0("attr",N0.token,"@"),forward_slash:new B0("forward_slash",N0.token,"/"),bang:new B0("bang",N0.token,"!"),bracket_left:new B0("bracket_left",N0.token,"["),bracket_right:new B0("bracket_right",N0.token,"]"),brace_left:new B0("brace_left",N0.token,"{"),brace_right:new B0("brace_right",N0.token,"}"),colon:new B0("colon",N0.token,":"),comma:new B0("comma",N0.token,","),equal:new B0("equal",N0.token,"="),equal_equal:new B0("equal_equal",N0.token,"=="),not_equal:new B0("not_equal",N0.token,"!="),greater_than:new B0("greater_than",N0.token,">"),greater_than_equal:new B0("greater_than_equal",N0.token,">="),shift_right:new B0("shift_right",N0.token,">>"),less_than:new B0("less_than",N0.token,"<"),less_than_equal:new B0("less_than_equal",N0.token,"<="),shift_left:new B0("shift_left",N0.token,"<<"),modulo:new B0("modulo",N0.token,"%"),minus:new B0("minus",N0.token,"-"),minus_minus:new B0("minus_minus",N0.token,"--"),period:new B0("period",N0.token,"."),plus:new B0("plus",N0.token,"+"),plus_plus:new B0("plus_plus",N0.token,"++"),or:new B0("or",N0.token,"|"),or_or:new B0("or_or",N0.token,"||"),paren_left:new B0("paren_left",N0.token,"("),paren_right:new B0("paren_right",N0.token,")"),semicolon:new B0("semicolon",N0.token,";"),star:new B0("star",N0.token,"*"),tilde:new B0("tilde",N0.token,"~"),underscore:new B0("underscore",N0.token,"_"),xor:new B0("xor",N0.token,"^"),plus_equal:new B0("plus_equal",N0.token,"+="),minus_equal:new B0("minus_equal",N0.token,"-="),times_equal:new B0("times_equal",N0.token,"*="),division_equal:new B0("division_equal",N0.token,"/="),modulo_equal:new B0("modulo_equal",N0.token,"%="),and_equal:new B0("and_equal",N0.token,"&="),or_equal:new B0("or_equal",N0.token,"|="),xor_equal:new B0("xor_equal",N0.token,"^="),shift_right_equal:new B0("shift_right_equal",N0.token,">>="),shift_left_equal:new B0("shift_left_equal",N0.token,"<<=")},i.simpleTokens={"@":V0.tokens.attr,"{":V0.tokens.brace_left,"}":V0.tokens.brace_right,":":V0.tokens.colon,",":V0.tokens.comma,"(":V0.tokens.paren_left,")":V0.tokens.paren_right,";":V0.tokens.semicolon},i.literalTokens={"&":V0.tokens.and,"&&":V0.tokens.and_and,"->":V0.tokens.arrow,"/":V0.tokens.forward_slash,"!":V0.tokens.bang,"[":V0.tokens.bracket_left,"]":V0.tokens.bracket_right,"=":V0.tokens.equal,"==":V0.tokens.equal_equal,"!=":V0.tokens.not_equal,">":V0.tokens.greater_than,">=":V0.tokens.greater_than_equal,">>":V0.tokens.shift_right,"<":V0.tokens.less_than,"<=":V0.tokens.less_than_equal,"<<":V0.tokens.shift_left,"%":V0.tokens.modulo,"-":V0.tokens.minus,"--":V0.tokens.minus_minus,".":V0.tokens.period,"+":V0.tokens.plus,"++":V0.tokens.plus_plus,"|":V0.tokens.or,"||":V0.tokens.or_or,"*":V0.tokens.star,"~":V0.tokens.tilde,_:V0.tokens.underscore,"^":V0.tokens.xor,"+=":V0.tokens.plus_equal,"-=":V0.tokens.minus_equal,"*=":V0.tokens.times_equal,"/=":V0.tokens.division_equal,"%=":V0.tokens.modulo_equal,"&=":V0.tokens.and_equal,"|=":V0.tokens.or_equal,"^=":V0.tokens.xor_equal,">>=":V0.tokens.shift_right_equal,"<<=":V0.tokens.shift_left_equal},i.regexTokens={decimal_float_literal:V0.tokens.decimal_float_literal,hex_float_literal:V0.tokens.hex_float_literal,int_literal:V0.tokens.int_literal,uint_literal:V0.tokens.uint_literal,ident:V0.tokens.ident},i.storage_class=[V0.keywords.function,V0.keywords.private,V0.keywords.workgroup,V0.keywords.uniform,V0.keywords.storage],i.access_mode=[V0.keywords.read,V0.keywords.write,V0.keywords.read_write],i.sampler_type=[V0.keywords.sampler,V0.keywords.sampler_comparison],i.sampled_texture_type=[V0.keywords.texture_1d,V0.keywords.texture_2d,V0.keywords.texture_2d_array,V0.keywords.texture_3d,V0.keywords.texture_cube,V0.keywords.texture_cube_array],i.multisampled_texture_type=[V0.keywords.texture_multisampled_2d],i.storage_texture_type=[V0.keywords.texture_storage_1d,V0.keywords.texture_storage_2d,V0.keywords.texture_storage_2d_array,V0.keywords.texture_storage_3d],i.depth_texture_type=[V0.keywords.texture_depth_2d,V0.keywords.texture_depth_2d_array,V0.keywords.texture_depth_cube,V0.keywords.texture_depth_cube_array,V0.keywords.texture_depth_multisampled_2d],i.texture_external_type=[V0.keywords.texture_external],i.any_texture_type=[...V0.sampled_texture_type,...V0.multisampled_texture_type,...V0.storage_texture_type,...V0.depth_texture_type,...V0.texture_external_type],i.texel_format=[V0.keywords.r8unorm,V0.keywords.r8snorm,V0.keywords.r8uint,V0.keywords.r8sint,V0.keywords.r16uint,V0.keywords.r16sint,V0.keywords.r16float,V0.keywords.rg8unorm,V0.keywords.rg8snorm,V0.keywords.rg8uint,V0.keywords.rg8sint,V0.keywords.r32uint,V0.keywords.r32sint,V0.keywords.r32float,V0.keywords.rg16uint,V0.keywords.rg16sint,V0.keywords.rg16float,V0.keywords.rgba8unorm,V0.keywords.rgba8unorm_srgb,V0.keywords.rgba8snorm,V0.keywords.rgba8uint,V0.keywords.rgba8sint,V0.keywords.bgra8unorm,V0.keywords.bgra8unorm_srgb,V0.keywords.rgb10a2unorm,V0.keywords.rg11b10float,V0.keywords.rg32uint,V0.keywords.rg32sint,V0.keywords.rg32float,V0.keywords.rgba16uint,V0.keywords.rgba16sint,V0.keywords.rgba16float,V0.keywords.rgba32uint,V0.keywords.rgba32sint,V0.keywords.rgba32float],i.const_literal=[V0.tokens.int_literal,V0.tokens.uint_literal,V0.tokens.decimal_float_literal,V0.tokens.hex_float_literal,V0.keywords.true,V0.keywords.false],i.literal_or_ident=[V0.tokens.ident,V0.tokens.int_literal,V0.tokens.uint_literal,V0.tokens.decimal_float_literal,V0.tokens.hex_float_literal,V0.tokens.name],i.element_count_expression=[V0.tokens.int_literal,V0.tokens.uint_literal,V0.tokens.ident],i.template_types=[V0.keywords.vec2,V0.keywords.vec3,V0.keywords.vec4,V0.keywords.mat2x2,V0.keywords.mat2x3,V0.keywords.mat2x4,V0.keywords.mat3x2,V0.keywords.mat3x3,V0.keywords.mat3x4,V0.keywords.mat4x2,V0.keywords.mat4x3,V0.keywords.mat4x4,V0.keywords.atomic,V0.keywords.bitcast,...V0.any_texture_type],i.attribute_name=[V0.tokens.ident,V0.keywords.block,V0.keywords.diagnostic],i.assignment_operators=[V0.tokens.equal,V0.tokens.plus_equal,V0.tokens.minus_equal,V0.tokens.times_equal,V0.tokens.division_equal,V0.tokens.modulo_equal,V0.tokens.and_equal,V0.tokens.or_equal,V0.tokens.xor_equal,V0.tokens.shift_right_equal,V0.tokens.shift_left_equal],i.increment_operators=[V0.tokens.plus_plus,V0.tokens.minus_minus];XE=new Float32Array(1),Y21=new Uint32Array(XE.buffer),Z21=new Uint32Array(XE.buffer),WE=new Int32Array(1),q21=new Float32Array(WE.buffer),X21=new Uint32Array(WE.buffer),FE=new Uint32Array(1),W21=new Float32Array(FE.buffer),F21=new Int32Array(FE.buffer);FK._typeInfo={f16:{align:2,size:2},i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},atomic:{align:4,size:4},vec2:{align:8,size:8},vec3:{align:16,size:12},vec4:{align:16,size:16},mat2x2:{align:8,size:16},mat3x2:{align:8,size:24},mat4x2:{align:8,size:32},mat2x3:{align:16,size:32},mat3x3:{align:16,size:48},mat4x3:{align:16,size:64},mat2x4:{align:16,size:32},mat3x4:{align:16,size:48},mat4x4:{align:16,size:64}},FK._textureTypes=i.any_texture_type.map(($)=>$.name),FK._samplerTypes=i.sampler_type.map(($)=>$.name);xd={vec2:2,vec2f:2,vec2i:2,vec2u:2,vec2b:2,vec2h:2,vec3:3,vec3f:3,vec3i:3,vec3u:3,vec3b:3,vec3h:3,vec4:4,vec4f:4,vec4i:4,vec4u:4,vec4b:4,vec4h:4},p4={mat2x2:[2,2,4],mat2x2f:[2,2,4],mat2x2h:[2,2,4],mat2x3:[2,3,6],mat2x3f:[2,3,6],mat2x3h:[2,3,6],mat2x4:[2,4,8],mat2x4f:[2,4,8],mat2x4h:[2,4,8],mat3x2:[3,2,6],mat3x2f:[3,2,6],mat3x2h:[3,2,6],mat3x3:[3,3,9],mat3x3f:[3,3,9],mat3x3h:[3,3,9],mat3x4:[3,4,12],mat3x4f:[3,4,12],mat3x4h:[3,4,12],mat4x2:[4,2,8],mat4x2f:[4,2,8],mat4x2h:[4,2,8],mat4x3:[4,3,12],mat4x3f:[4,3,12],mat4x3h:[4,3,12],mat4x4:[4,4,16],mat4x4f:[4,4,16],mat4x4h:[4,4,16]};U4=class U4 extends tR0{constructor($,Q){var J;super(),this.ast=$!=null?$:[],this.reflection=new FK,this.reflection.updateAST(this.ast),this.context=(J=Q==null?void 0:Q.clone())!==null&&J!==void 0?J:new zn,this.builtins=new eR0(this),this.typeInfo={bool:this.getTypeInfo(x0.bool),i32:this.getTypeInfo(x0.i32),u32:this.getTypeInfo(x0.u32),f32:this.getTypeInfo(x0.f32),f16:this.getTypeInfo(x0.f16),vec2f:this.getTypeInfo(z0.vec2f),vec2u:this.getTypeInfo(z0.vec2u),vec2i:this.getTypeInfo(z0.vec2i),vec2h:this.getTypeInfo(z0.vec2h),vec3f:this.getTypeInfo(z0.vec3f),vec3u:this.getTypeInfo(z0.vec3u),vec3i:this.getTypeInfo(z0.vec3i),vec3h:this.getTypeInfo(z0.vec3h),vec4f:this.getTypeInfo(z0.vec4f),vec4u:this.getTypeInfo(z0.vec4u),vec4i:this.getTypeInfo(z0.vec4i),vec4h:this.getTypeInfo(z0.vec4h),mat2x2f:this.getTypeInfo(z0.mat2x2f),mat2x3f:this.getTypeInfo(z0.mat2x3f),mat2x4f:this.getTypeInfo(z0.mat2x4f),mat3x2f:this.getTypeInfo(z0.mat3x2f),mat3x3f:this.getTypeInfo(z0.mat3x3f),mat3x4f:this.getTypeInfo(z0.mat3x4f),mat4x2f:this.getTypeInfo(z0.mat4x2f),mat4x3f:this.getTypeInfo(z0.mat4x3f),mat4x4f:this.getTypeInfo(z0.mat4x4f)}}getVariableValue($){var Q,J;let K=(J=(Q=this.context.getVariable($))===null||Q===void 0?void 0:Q.value)!==null&&J!==void 0?J:null;if(K===null)return null;if(K instanceof U0)return K.value;if(K instanceof a)return Array.from(K.data);if(K instanceof Q5)return Array.from(K.data);if(K instanceof v7&&K.typeInfo instanceof iY){if(K.typeInfo.format.name==="u32")return Array.from(new Uint32Array(K.buffer,K.offset,K.typeInfo.count));if(K.typeInfo.format.name==="i32")return Array.from(new Int32Array(K.buffer,K.offset,K.typeInfo.count));if(K.typeInfo.format.name==="f32")return Array.from(new Float32Array(K.buffer,K.offset,K.typeInfo.count))}return console.error(`Unsupported return variable type ${K.typeInfo.name}`),null}execute($){($=$!=null?$:{}).constants&&this._setOverrides($.constants,this.context),this._execStatements(this.ast,this.context)}dispatchWorkgroups($,Q,J,K){let Y=this.context.clone();(K=K!=null?K:{}).constants&&this._setOverrides(K.constants,Y),this._execStatements(this.ast,Y);let Z=Y.getFunction($);if(!Z)return void console.error(`Function ${$} not found`);if(typeof Q=="number")Q=[Q,1,1];else{if(Q.length===0)return void console.error("Invalid dispatch count");Q.length===1?Q=[Q[0],1,1]:Q.length===2?Q=[Q[0],Q[1],1]:Q.length>3&&(Q=[Q[0],Q[1],Q[2]])}let q=Q[0],X=Q[1],W=Q[2],F=this.getTypeInfo("vec3u");Y.setVariable("@num_workgroups",new a(Q,F));let H=this.reflection.getFunctionInfo($);H===null&&console.error(`Function ${$} not found in reflection data`);for(let B in J)for(let z in J[B]){let A=J[B][z];Y.variables.forEach((R)=>{var G;let O=R.node;if(O==null?void 0:O.attributes){let T=null,D=null;for(let P of O.attributes)P.name==="binding"?T=P.value:P.name==="group"&&(D=P.value);if(z==T&&B==D){let P=!1;for(let j of H.resources)if(j.name===R.name&&j.group===parseInt(B)&&j.binding===parseInt(z)){P=!0;break}if(P)if(A.texture!==void 0&&A.descriptor!==void 0){let j=new lY(A.texture,this.getTypeInfo(O.type),A.descriptor,(G=A.texture.view)!==null&&G!==void 0?G:null);R.value=j}else A.uniform!==void 0?R.value=new v7(A.uniform,this.getTypeInfo(O.type)):R.value=new v7(A,this.getTypeInfo(O.type))}}})}for(let B=0;B<W;++B)for(let z=0;z<X;++z)for(let A=0;A<q;++A)Y.setVariable("@workgroup_id",new a([A,z,B],this.getTypeInfo("vec3u"))),this._dispatchWorkgroup(Z,[A,z,B],Y)}execStatement($,Q){if($ instanceof $n)return this.evalExpression($.value,Q);if($ instanceof Jn){if($.condition){let J=this.evalExpression($.condition,Q);if(!(J instanceof U0))throw Error("Invalid break-if condition");if(!J.value)return null}return U4._breakObj}if($ instanceof Kn)return U4._continueObj;if($ instanceof NB)this._let($,Q);else if($ instanceof WK)this._var($,Q);else if($ instanceof nG)this._const($,Q);else if($ instanceof zB)this._function($,Q);else{if($ instanceof ed)return this._if($,Q);if($ instanceof td)return this._switch($,Q);if($ instanceof id)return this._for($,Q);if($ instanceof rd)return this._while($,Q);if($ instanceof ad)return this._loop($,Q);if($ instanceof ZE){let J=Q.clone();return J.currentFunctionName=Q.currentFunctionName,this._execStatements($.body,J)}if($ instanceof od)this._assign($,Q);else if($ instanceof sd)this._increment($,Q);else{if($ instanceof XK)return null;if($ instanceof UE){let J=$.name;Q.getVariable(J)===null&&Q.setVariable(J,new U0(0,this.getTypeInfo("u32")))}else if($ instanceof HE)this._call($,Q);else{if($ instanceof Qn)return null;if($ instanceof NE)return null;console.error("Invalid statement type.",$,`Line ${$.line}`)}}}return null}evalExpression($,Q){return $ instanceof O$?this._evalBinaryOp($,Q):$ instanceof o7?this._evalLiteral($,Q):$ instanceof C9?this._evalVariable($,Q):$ instanceof BE?this._evalCall($,Q):$ instanceof _Q?this._evalCreate($,Q):$ instanceof Yn?this._evalConst($,Q):$ instanceof Zn?this._evalBitcast($,Q):$ instanceof u7?this._evalUnaryOp($,Q):(console.error("Invalid expression type",$,`Line ${$.line}`),null)}getTypeInfo($){var Q;if($ instanceof x0){let K=this.reflection.getTypeInfo($);if(K!==null)return K}let J=(Q=this.typeInfo[$])!==null&&Q!==void 0?Q:null;return J!==null||(J=this.reflection.getTypeInfoByName($)),J}_setOverrides($,Q){for(let J in $){let K=$[J],Y=this.reflection.getOverrideInfo(J);Y!==null?(Y.type===null&&(Y.type=this.getTypeInfo("u32")),Y.type.name==="u32"||Y.type.name==="i32"||Y.type.name==="f32"||Y.type.name==="f16"?Q.setVariable(J,new U0(K,Y.type)):Y.type.name==="bool"?Q.setVariable(J,new U0(K?1:0,Y.type)):Y.type.name==="vec2"||Y.type.name==="vec3"||Y.type.name==="vec4"||Y.type.name==="vec2f"||Y.type.name==="vec3f"||Y.type.name==="vec4f"||Y.type.name==="vec2i"||Y.type.name==="vec3i"||Y.type.name==="vec4i"||Y.type.name==="vec2u"||Y.type.name==="vec3u"||Y.type.name==="vec4u"||Y.type.name==="vec2h"||Y.type.name==="vec3h"||Y.type.name==="vec4h"?Q.setVariable(J,new a(K,Y.type)):console.error(`Invalid constant type for ${J}`)):console.error(`Override ${J} does not exist in the shader.`)}}_dispatchWorkgroup($,Q,J){let K=[1,1,1];for(let F of $.node.attributes)if(F.name==="workgroup_size"){if(F.value.length>0){let H=J.getVariableValue(F.value[0]);K[0]=H instanceof U0?H.value:parseInt(F.value[0])}if(F.value.length>1){let H=J.getVariableValue(F.value[1]);K[1]=H instanceof U0?H.value:parseInt(F.value[1])}if(F.value.length>2){let H=J.getVariableValue(F.value[2]);K[2]=H instanceof U0?H.value:parseInt(F.value[2])}}let Y=this.getTypeInfo("vec3u"),Z=this.getTypeInfo("u32");J.setVariable("@workgroup_size",new a(K,Y));let q=K[0],X=K[1],W=K[2];for(let F=0,H=0;F<W;++F)for(let B=0;B<X;++B)for(let z=0;z<q;++z,++H){let A=[z,B,F],R=[z+Q[0]*K[0],B+Q[1]*K[1],F+Q[2]*K[2]];J.setVariable("@local_invocation_id",new a(A,Y)),J.setVariable("@global_invocation_id",new a(R,Y)),J.setVariable("@local_invocation_index",new U0(H,Z)),this._dispatchExec($,J)}}_dispatchExec($,Q){for(let J of $.node.args)for(let K of J.attributes)if(K.name==="builtin"){let Y=`@${K.value}`,Z=Q.getVariable(Y);Z!==void 0&&Q.variables.set(J.name,Z)}this._execStatements($.node.body,Q)}getVariableName($,Q){for(;$ instanceof u7;)$=$.right;return $ instanceof C9?$.name:(console.error("Unknown variable type",$,"Line",$.line),null)}_execStatements($,Q){for(let J of $){if(J instanceof Array){let Y=Q.clone(),Z=this._execStatements(J,Y);if(Z)return Z;continue}let K=this.execStatement(J,Q);if(K)return K}return null}_call($,Q){let J=Q.clone();J.currentFunctionName=$.name;let K=Q.getFunction($.name);if(K){for(let Y=0;Y<K.node.args.length;++Y){let Z=K.node.args[Y],q=this.evalExpression($.args[Y],J);J.setVariable(Z.name,q,Z)}this._execStatements(K.node.body,J)}else if($.isBuiltin)this._callBuiltinFunction($,J);else this.getTypeInfo($.name)&&this._evalCreate($,Q)}_increment($,Q){let J=this.getVariableName($.variable,Q),K=Q.getVariable(J);K?$.operator==="++"?K.value instanceof U0?K.value.value++:console.error(`Variable ${J} is not a scalar. Line ${$.line}`):$.operator==="--"?K.value instanceof U0?K.value.value--:console.error(`Variable ${J} is not a scalar. Line ${$.line}`):console.error(`Unknown increment operator ${$.operator}. Line ${$.line}`):console.error(`Variable ${J} not found. Line ${$.line}`)}_getVariableData($,Q){if($ instanceof C9){let J=this.getVariableName($,Q),K=Q.getVariable(J);return K===null?(console.error(`Variable ${J} not found. Line ${$.line}`),null):K.value.getSubData(this,$.postfix,Q)}if($ instanceof u7){if($.operator==="*"){let J=this._getVariableData($.right,Q);return J instanceof ZF?J.reference.getSubData(this,$.postfix,Q):(console.error(`Variable ${$.right} is not a pointer. Line ${$.line}`),null)}if($.operator==="&"){let J=this._getVariableData($.right,Q);return new ZF(J)}}return null}_assign($,Q){let J=null,K="<var>",Y=null;if($.variable instanceof u7){let X=this._getVariableData($.variable,Q),W=this.evalExpression($.value,Q),F=$.operator;if(F==="="){if(X instanceof U0||X instanceof a||X instanceof Q5){if(W instanceof U0||W instanceof a||W instanceof Q5&&X.data.length===W.data.length)return void X.data.set(W.data);console.error(`Invalid assignment. Line ${$.line}`)}else if(X instanceof v7&&W instanceof v7&&X.buffer.byteLength-X.offset>=W.buffer.byteLength-W.offset)return void(X.buffer.byteLength%4==0?new Uint32Array(X.buffer,X.offset,X.typeInfo.size/4).set(new Uint32Array(W.buffer,W.offset,W.typeInfo.size/4)):new Uint8Array(X.buffer,X.offset,X.typeInfo.size).set(new Uint8Array(W.buffer,W.offset,W.typeInfo.size)));return console.error(`Invalid assignment. Line ${$.line}`),null}if(F==="+=")return X instanceof U0||X instanceof a||X instanceof Q5?W instanceof U0||W instanceof a||W instanceof Q5?void X.data.set(W.data.map((H,B)=>X.data[B]+H)):void console.error(`Invalid assignment . Line ${$.line}`):void console.error(`Invalid assignment. Line ${$.line}`);if(F==="-=")return(X instanceof U0||X instanceof a||X instanceof Q5)&&(W instanceof U0||W instanceof a||W instanceof Q5)?void X.data.set(W.data.map((H,B)=>X.data[B]-H)):void console.error(`Invalid assignment. Line ${$.line}`)}if($.variable instanceof u7){if($.variable.operator==="*"){K=this.getVariableName($.variable.right,Q);let X=Q.getVariable(K);if(!(X&&X.value instanceof ZF))return void console.error(`Variable ${K} is not a pointer. Line ${$.line}`);J=X.value.reference;let W=$.variable.postfix;if(!W){let F=$.variable.right;for(;F instanceof u7;){if(F.postfix){W=F.postfix;break}F=F.right}}W&&(J=J.getSubData(this,W,Q))}}else{Y=$.variable.postfix,K=this.getVariableName($.variable,Q);let X=Q.getVariable(K);if(X===null)return void console.error(`Variable ${K} not found. Line ${$.line}`);J=X.value}if(J instanceof ZF&&(J=J.reference),J===null)return void console.error(`Variable ${K} not found. Line ${$.line}`);let Z=this.evalExpression($.value,Q),q=$.operator;if(q!=="="){let X=J.getSubData(this,Y,Q);if(X instanceof a&&Z instanceof U0){let W=X.data,F=Z.value;if(q==="+=")for(let H=0;H<W.length;++H)W[H]+=F;else if(q==="-=")for(let H=0;H<W.length;++H)W[H]-=F;else if(q==="*=")for(let H=0;H<W.length;++H)W[H]*=F;else if(q==="/=")for(let H=0;H<W.length;++H)W[H]/=F;else if(q==="%=")for(let H=0;H<W.length;++H)W[H]%=F;else if(q==="&=")for(let H=0;H<W.length;++H)W[H]&=F;else if(q==="|=")for(let H=0;H<W.length;++H)W[H]|=F;else if(q==="^=")for(let H=0;H<W.length;++H)W[H]^=F;else if(q==="<<=")for(let H=0;H<W.length;++H)W[H]<<=F;else if(q===">>=")for(let H=0;H<W.length;++H)W[H]>>=F;else console.error(`Invalid operator ${q}. Line ${$.line}`)}else if(X instanceof a&&Z instanceof a){let W=X.data,F=Z.data;if(W.length!==F.length)return void console.error(`Vector length mismatch. Line ${$.line}`);if(q==="+=")for(let H=0;H<W.length;++H)W[H]+=F[H];else if(q==="-=")for(let H=0;H<W.length;++H)W[H]-=F[H];else if(q==="*=")for(let H=0;H<W.length;++H)W[H]*=F[H];else if(q==="/=")for(let H=0;H<W.length;++H)W[H]/=F[H];else if(q==="%=")for(let H=0;H<W.length;++H)W[H]%=F[H];else if(q==="&=")for(let H=0;H<W.length;++H)W[H]&=F[H];else if(q==="|=")for(let H=0;H<W.length;++H)W[H]|=F[H];else if(q==="^=")for(let H=0;H<W.length;++H)W[H]^=F[H];else if(q==="<<=")for(let H=0;H<W.length;++H)W[H]<<=F[H];else if(q===">>=")for(let H=0;H<W.length;++H)W[H]>>=F[H];else console.error(`Invalid operator ${q}. Line ${$.line}`)}else{if(!(X instanceof U0&&Z instanceof U0))return void console.error(`Invalid type for ${$.operator} operator. Line ${$.line}`);q==="+="?X.value+=Z.value:q==="-="?X.value-=Z.value:q==="*="?X.value*=Z.value:q==="/="?X.value/=Z.value:q==="%="?X.value%=Z.value:q==="&="?X.value&=Z.value:q==="|="?X.value|=Z.value:q==="^="?X.value^=Z.value:q==="<<="?X.value<<=Z.value:q===">>="?X.value>>=Z.value:console.error(`Invalid operator ${q}. Line ${$.line}`)}return void(J instanceof v7&&J.setDataValue(this,X,Y,Q))}if(J instanceof v7)J.setDataValue(this,Z,Y,Q);else if(Y){if(!(J instanceof a||J instanceof Q5))return void console.error(`Variable ${K} is not a vector or matrix. Line ${$.line}`);if(Y instanceof qF){let X=this.evalExpression(Y.index,Q).value;if(J instanceof a){if(!(Z instanceof U0))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);J.data[X]=Z.value}else{if(!(J instanceof Q5))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);{let W=this.evalExpression(Y.index,Q).value;if(W<0)return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);if(!(Z instanceof a))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);{let F=J.typeInfo.getTypeName();if(F==="mat2x2"||F==="mat2x2f"||F==="mat2x2h"){if(!(W<2&&Z.data.length===2))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);J.data[2*W]=Z.data[0],J.data[2*W+1]=Z.data[1]}else if(F==="mat2x3"||F==="mat2x3f"||F==="mat2x3h"){if(!(W<2&&Z.data.length===3))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);J.data[3*W]=Z.data[0],J.data[3*W+1]=Z.data[1],J.data[3*W+2]=Z.data[2]}else if(F==="mat2x4"||F==="mat2x4f"||F==="mat2x4h"){if(!(W<2&&Z.data.length===4))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);J.data[4*W]=Z.data[0],J.data[4*W+1]=Z.data[1],J.data[4*W+2]=Z.data[2],J.data[4*W+3]=Z.data[3]}else if(F==="mat3x2"||F==="mat3x2f"||F==="mat3x2h"){if(!(W<3&&Z.data.length===2))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);J.data[2*W]=Z.data[0],J.data[2*W+1]=Z.data[1]}else if(F==="mat3x3"||F==="mat3x3f"||F==="mat3x3h"){if(!(W<3&&Z.data.length===3))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);J.data[3*W]=Z.data[0],J.data[3*W+1]=Z.data[1],J.data[3*W+2]=Z.data[2]}else if(F==="mat3x4"||F==="mat3x4f"||F==="mat3x4h"){if(!(W<3&&Z.data.length===4))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);J.data[4*W]=Z.data[0],J.data[4*W+1]=Z.data[1],J.data[4*W+2]=Z.data[2],J.data[4*W+3]=Z.data[3]}else if(F==="mat4x2"||F==="mat4x2f"||F==="mat4x2h"){if(!(W<4&&Z.data.length===2))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);J.data[2*W]=Z.data[0],J.data[2*W+1]=Z.data[1]}else if(F==="mat4x3"||F==="mat4x3f"||F==="mat4x3h"){if(!(W<4&&Z.data.length===3))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);J.data[3*W]=Z.data[0],J.data[3*W+1]=Z.data[1],J.data[3*W+2]=Z.data[2]}else{if(F!=="mat4x4"&&F!=="mat4x4f"&&F!=="mat4x4h")return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);if(!(W<4&&Z.data.length===4))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);J.data[4*W]=Z.data[0],J.data[4*W+1]=Z.data[1],J.data[4*W+2]=Z.data[2],J.data[4*W+3]=Z.data[3]}}}}}else if(Y instanceof UX){let X=Y.value;if(!(J instanceof a))return void console.error(`Invalid assignment to ${X}. Variable ${K} is not a vector. Line ${$.line}`);if(Z instanceof U0){if(X.length>1)return void console.error(`Invalid assignment to ${X} for variable ${K}. Line ${$.line}`);if(X==="x")J.data[0]=Z.value;else if(X==="y"){if(J.data.length<2)return void console.error(`Invalid assignment to ${X} for variable ${K}. Line ${$.line}`);J.data[1]=Z.value}else if(X==="z"){if(J.data.length<3)return void console.error(`Invalid assignment to ${X} for variable ${K}. Line ${$.line}`);J.data[2]=Z.value}else if(X==="w"){if(J.data.length<4)return void console.error(`Invalid assignment to ${X} for variable ${K}. Line ${$.line}`);J.data[3]=Z.value}}else{if(!(Z instanceof a))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);if(X.length!==Z.data.length)return void console.error(`Invalid assignment to ${X} for variable ${K}. Line ${$.line}`);for(let W=0;W<X.length;++W){let F=X[W];if(F==="x"||F==="r")J.data[0]=Z.data[W];else if(F==="y"||F==="g"){if(Z.data.length<2)return void console.error(`Invalid assignment to ${F} for variable ${K}. Line ${$.line}`);J.data[1]=Z.data[W]}else if(F==="z"||F==="b"){if(Z.data.length<3)return void console.error(`Invalid assignment to ${F} for variable ${K}. Line ${$.line}`);J.data[2]=Z.data[W]}else{if(F!=="w"&&F!=="a")return void console.error(`Invalid assignment to ${F} for variable ${K}. Line ${$.line}`);if(Z.data.length<4)return void console.error(`Invalid assignment to ${F} for variable ${K}. Line ${$.line}`);J.data[3]=Z.data[W]}}}}}else J instanceof U0&&Z instanceof U0?J.value=Z.value:J instanceof a&&Z instanceof a||J instanceof Q5&&Z instanceof Q5?J.data.set(Z.data):console.error(`Invalid assignment to ${K}. Line ${$.line}`)}_function($,Q){let J=new Bn($);Q.functions.set($.name,J)}_const($,Q){let J=null;$.value!==null&&(J=this.evalExpression($.value,Q)),Q.createVariable($.name,J,$)}_let($,Q){let J=null;if($.value!==null){if(J=this.evalExpression($.value,Q),J===null)return void console.error(`Invalid value for variable ${$.name}. Line ${$.line}`);$.value instanceof u7||(J=J.clone())}else{let K=$.type.name;if(K==="f32"||K==="i32"||K==="u32"||K==="bool"||K==="f16"||K==="vec2"||K==="vec3"||K==="vec4"||K==="vec2f"||K==="vec3f"||K==="vec4f"||K==="vec2i"||K==="vec3i"||K==="vec4i"||K==="vec2u"||K==="vec3u"||K==="vec4u"||K==="vec2h"||K==="vec3h"||K==="vec4h"||K==="vec2b"||K==="vec3b"||K==="vec4b"||K==="mat2x2"||K==="mat2x3"||K==="mat2x4"||K==="mat3x2"||K==="mat3x3"||K==="mat3x4"||K==="mat4x2"||K==="mat4x3"||K==="mat4x4"||K==="mat2x2f"||K==="mat2x3f"||K==="mat2x4f"||K==="mat3x2f"||K==="mat3x3f"||K==="mat3x4f"||K==="mat4x2f"||K==="mat4x3f"||K==="mat4x4f"||K==="mat2x2h"||K==="mat2x3h"||K==="mat2x4h"||K==="mat3x2h"||K==="mat3x3h"||K==="mat3x4h"||K==="mat4x2h"||K==="mat4x3h"||K==="mat4x4h"||K==="array"){let Y=new _Q($.type,[]);J=this._evalCreate(Y,Q)}}Q.createVariable($.name,J,$)}_var($,Q){let J=null;if($.value!==null){if(J=this.evalExpression($.value,Q),J===null)return void console.error(`Invalid value for variable ${$.name}. Line ${$.line}`);$.value instanceof u7||(J=J.clone())}else{if($.type===null)return void console.error(`Variable ${$.name} has no type. Line ${$.line}`);let K=$.type.name;if(K==="f32"||K==="i32"||K==="u32"||K==="bool"||K==="f16"||K==="vec2"||K==="vec3"||K==="vec4"||K==="vec2f"||K==="vec3f"||K==="vec4f"||K==="vec2i"||K==="vec3i"||K==="vec4i"||K==="vec2u"||K==="vec3u"||K==="vec4u"||K==="vec2h"||K==="vec3h"||K==="vec4h"||K==="vec2b"||K==="vec3b"||K==="vec4b"||K==="mat2x2"||K==="mat2x3"||K==="mat2x4"||K==="mat3x2"||K==="mat3x3"||K==="mat3x4"||K==="mat4x2"||K==="mat4x3"||K==="mat4x4"||K==="mat2x2f"||K==="mat2x3f"||K==="mat2x4f"||K==="mat3x2f"||K==="mat3x3f"||K==="mat3x4f"||K==="mat4x2f"||K==="mat4x3f"||K==="mat4x4f"||K==="mat2x2h"||K==="mat2x3h"||K==="mat2x4h"||K==="mat3x2h"||K==="mat3x3h"||K==="mat3x4h"||K==="mat4x2h"||K==="mat4x3h"||K==="mat4x4h"||$.type instanceof BB||$.type instanceof XK||$.type instanceof z0){let Y=new _Q($.type,[]);J=this._evalCreate(Y,Q)}}Q.createVariable($.name,J,$)}_switch($,Q){Q=Q.clone();let J=this.evalExpression($.condition,Q);if(!(J instanceof U0))return console.error(`Invalid if condition. Line ${$.line}`),null;let K=null;for(let Y of $.cases)if(Y instanceof Wn)for(let Z of Y.selectors){if(Z instanceof rG){K=Y;continue}let q=this.evalExpression(Z,Q);if(!(q instanceof U0))return console.error(`Invalid case selector. Line ${$.line}`),null;if(q.value===J.value)return this._execStatements(Y.body,Q)}else Y instanceof Fn&&(K=Y);return K?this._execStatements(K.body,Q):null}_if($,Q){Q=Q.clone();let J=this.evalExpression($.condition,Q);if(!(J instanceof U0))return console.error(`Invalid if condition. Line ${$.line}`),null;if(J.value)return this._execStatements($.body,Q);for(let K of $.elseif){let Y=this.evalExpression(K.condition,Q);if(!(Y instanceof U0))return console.error(`Invalid if condition. Line ${$.line}`),null;if(Y.value)return this._execStatements(K.body,Q)}return $.else?this._execStatements($.else,Q):null}_getScalarValue($){return $ instanceof U0?$.value:(console.error("Expected scalar value.",$),0)}_for($,Q){for(Q=Q.clone(),this.execStatement($.init,Q);this._getScalarValue(this.evalExpression($.condition,Q));){let J=this._execStatements($.body,Q);if(J===U4._breakObj)break;if(J!==null&&J!==U4._continueObj)return J;this.execStatement($.increment,Q)}return null}_loop($,Q){for(Q=Q.clone();;){let J=this._execStatements($.body,Q);if(J===U4._breakObj)break;if(J===U4._continueObj){if($.continuing){if(this._execStatements($.continuing.body,Q)===U4._breakObj)break}}else if(J!==null)return J}return null}_while($,Q){for(Q=Q.clone();this._getScalarValue(this.evalExpression($.condition,Q));){let J=this._execStatements($.body,Q);if(J===U4._breakObj)break;if(J!==U4._continueObj&&J!==null)return J}return null}_evalBitcast($,Q){let J=this.evalExpression($.value,Q),K=$.type;if(J instanceof U0){let Y=MR0(J.value,J.typeInfo.name,K.name);return new U0(Y,this.getTypeInfo(K))}if(J instanceof a){let Y=J.typeInfo.getTypeName(),Z="";if(Y.endsWith("f"))Z="f32";else if(Y.endsWith("i"))Z="i32";else if(Y.endsWith("u"))Z="u32";else if(Y.endsWith("b"))Z="bool";else{if(!Y.endsWith("h"))return console.error(`Unknown vector type ${Y}. Line ${$.line}`),null;Z="f16"}let q=K.getTypeName(),X="";if(q.endsWith("f"))X="f32";else if(q.endsWith("i"))X="i32";else if(q.endsWith("u"))X="u32";else if(q.endsWith("b"))X="bool";else{if(!q.endsWith("h"))return console.error(`Unknown vector type ${X}. Line ${$.line}`),null;X="f16"}let W=function(F,H,B){if(H===B)return F;let z=Array(F.length);for(let A=0;A<F.length;A++)z[A]=MR0(F[A],H,B);return z}(Array.from(J.data),Z,X);return new a(W,this.getTypeInfo(K))}return console.error(`TODO: bitcast for ${J.typeInfo.name}. Line ${$.line}`),null}_evalConst($,Q){return Q.getVariableValue($.name).clone().getSubData(this,$.postfix,Q)}_evalCreate($,Q){var J;if($ instanceof _Q){if($.type===null)return qE.void;switch($.type.getTypeName()){case"bool":case"i32":case"u32":case"f32":case"f16":return this._callConstructorValue($,Q);case"vec2":case"vec3":case"vec4":case"vec2f":case"vec3f":case"vec4f":case"vec2h":case"vec3h":case"vec4h":case"vec2i":case"vec3i":case"vec4i":case"vec2u":case"vec3u":case"vec4u":case"vec2b":case"vec3b":case"vec4b":return this._callConstructorVec($,Q);case"mat2x2":case"mat2x2f":case"mat2x2h":case"mat2x3":case"mat2x3f":case"mat2x3h":case"mat2x4":case"mat2x4f":case"mat2x4h":case"mat3x2":case"mat3x2f":case"mat3x2h":case"mat3x3":case"mat3x3f":case"mat3x3h":case"mat3x4":case"mat3x4f":case"mat3x4h":case"mat4x2":case"mat4x2f":case"mat4x2h":case"mat4x3":case"mat4x3f":case"mat4x3h":case"mat4x4":case"mat4x4f":case"mat4x4h":return this._callConstructorMatrix($,Q)}}let K=$ instanceof _Q?$.type.name:$.name,Y=$ instanceof _Q?this.getTypeInfo($.type):this.getTypeInfo($.name);if(Y===null)return console.error(`Unknown type ${K}. Line ${$.line}`),null;if(Y.size===0)return null;let Z=new v7(new ArrayBuffer(Y.size),Y,0);if(Y instanceof rY){if($.args)for(let q=0;q<$.args.length;++q){let X=Y.members[q],W=$.args[q],F=this.evalExpression(W,Q);Z.setData(this,F,X.type,X.offset,Q)}}else if(Y instanceof iY){let q=0;if($.args)for(let X=0;X<$.args.length;++X){let W=$.args[X],F=this.evalExpression(W,Q);Y.format===null&&(((J=F.typeInfo)===null||J===void 0?void 0:J.name)==="x32"?Y.format=this.getTypeInfo("i32"):Y.format=F.typeInfo),Z.setData(this,F,Y.format,q,Q),q+=Y.stride}}else console.error(`Unknown type "${K}". Line ${$.line}`);return $ instanceof _Q?Z.getSubData(this,$.postfix,Q):Z}_evalLiteral($,Q){let J=this.getTypeInfo($.type),K=J.name;if(K==="x32"||K==="u32"||K==="f32"||K==="f16"||K==="i32"||K==="bool")return new U0($.scalarValue,J);return K==="vec2"||K==="vec3"||K==="vec4"||K==="vec2f"||K==="vec3f"||K==="vec4f"||K==="vec2h"||K==="vec3h"||K==="vec4h"||K==="vec2i"||K==="vec3i"||K==="vec4i"||K==="vec2u"||K==="vec3u"||K==="vec4u"?this._callConstructorVec($,Q):K==="mat2x2"||K==="mat2x3"||K==="mat2x4"||K==="mat3x2"||K==="mat3x3"||K==="mat3x4"||K==="mat4x2"||K==="mat4x3"||K==="mat4x4"||K==="mat2x2f"||K==="mat2x3f"||K==="mat2x4f"||K==="mat3x2f"||K==="mat3x3f"||K==="mat3x4f"||K==="mat4x2f"||K==="mat4x3f"||K==="mat4x4f"||K==="mat2x2h"||K==="mat2x3h"||K==="mat2x4h"||K==="mat3x2h"||K==="mat3x3h"||K==="mat3x4h"||K==="mat4x2h"||K==="mat4x3h"||K==="mat4x4h"?this._callConstructorMatrix($,Q):$.value}_evalVariable($,Q){let J=Q.getVariableValue($.name);return J===null?J:J.getSubData(this,$.postfix,Q)}_maxFormatTypeInfo($){let Q=$[0];if(Q.name==="f32")return Q;for(let J=1;J<$.length;++J){let K=U4._priority.get(Q.name);U4._priority.get($[J].name)<K&&(Q=$[J])}return Q.name==="x32"?this.getTypeInfo("i32"):Q}_evalUnaryOp($,Q){let J=this.evalExpression($.right,Q);if($.operator==="&")return new ZF(J);if($.operator==="*")return J instanceof ZF?J.reference.getSubData(this,$.postfix,Q):(console.error(`Invalid dereference. Line ${$.line}`),null);let K=J instanceof U0?J.value:J instanceof a?Array.from(J.data):null;switch($.operator){case"+":{if(H1(K)){let q=K.map((X,W)=>+X);return new a(q,J.typeInfo)}let Y=K,Z=this._maxFormatTypeInfo([J.typeInfo,J.typeInfo]);return new U0(+Y,Z)}case"-":{if(H1(K)){let q=K.map((X,W)=>-X);return new a(q,J.typeInfo)}let Y=K,Z=this._maxFormatTypeInfo([J.typeInfo,J.typeInfo]);return new U0(-Y,Z)}case"!":{if(H1(K)){let q=K.map((X,W)=>X?0:1);return new a(q,J.typeInfo)}let Y=K,Z=this._maxFormatTypeInfo([J.typeInfo,J.typeInfo]);return new U0(Y?0:1,Z)}case"~":{if(H1(K)){let q=K.map((X,W)=>~X);return new a(q,J.typeInfo)}let Y=K,Z=this._maxFormatTypeInfo([J.typeInfo,J.typeInfo]);return new U0(~Y,Z)}}return console.error(`Invalid unary operator ${$.operator}. Line ${$.line}`),null}_evalBinaryOp($,Q){let J=this.evalExpression($.left,Q),K=this.evalExpression($.right,Q),Y=J instanceof U0?J.value:J instanceof a||J instanceof Q5?Array.from(J.data):null,Z=K instanceof U0?K.value:K instanceof a||K instanceof Q5?Array.from(K.data):null;switch($.operator){case"+":{if(H1(Y)&&H1(Z)){let F=Y,H=Z;if(F.length!==H.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let B=F.map((z,A)=>z+H[A]);return new a(B,J.typeInfo)}if(H1(Y)){let F=Z,H=Y.map((B,z)=>B+F);return new a(H,J.typeInfo)}if(H1(Z)){let F=Y,H=Z.map((B,z)=>F+B);return new a(H,K.typeInfo)}let q=Y,X=Z,W=this._maxFormatTypeInfo([J.typeInfo,K.typeInfo]);return new U0(q+X,W)}case"-":{if(H1(Y)&&H1(Z)){let F=Y,H=Z;if(F.length!==H.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let B=F.map((z,A)=>z-H[A]);return new a(B,J.typeInfo)}if(H1(Y)){let F=Z,H=Y.map((B,z)=>B-F);return new a(H,J.typeInfo)}if(H1(Z)){let F=Y,H=Z.map((B,z)=>F-B);return new a(H,K.typeInfo)}let q=Y,X=Z,W=this._maxFormatTypeInfo([J.typeInfo,K.typeInfo]);return new U0(q-X,W)}case"*":{if(H1(Y)&&H1(Z)){let F=Y,H=Z;if(J instanceof Q5&&K instanceof Q5){let B=function(G,O,T,D){if(p4[O.name]===void 0||p4[D.name]===void 0)return null;let P=p4[O.name][0],j=p4[O.name][1],E=p4[D.name][0];if(P!==p4[D.name][1])return null;let L=Array(E*j);for(let v=0;v<j;v++)for(let f=0;f<E;f++){let _=0;for(let M=0;M<P;M++)_+=G[M*j+v]*T[f*P+M];L[v*E+f]=_}return L}(F,J.typeInfo,H,K.typeInfo);if(B===null)return console.error(`Matrix multiplication failed. Line ${$.line}.`),null;let z=p4[K.typeInfo.name][0],A=p4[J.typeInfo.name][1],R=this.getTypeInfo(`mat${z}x${A}f`);return new Q5(B,R)}if(J instanceof Q5&&K instanceof a){let B=function(z,A,R,G){if(p4[A.name]===void 0||xd[G.name]===void 0)return null;let O=p4[A.name][0],T=p4[A.name][1];if(O!==R.length)return null;let D=Array(T);for(let P=0;P<T;P++){let j=0;for(let E=0;E<O;E++)j+=z[E*T+P]*R[E];D[P]=j}return D}(F,J.typeInfo,H,K.typeInfo);return B===null?(console.error(`Matrix vector multiplication failed. Line ${$.line}.`),null):new a(B,K.typeInfo)}if(J instanceof a&&K instanceof Q5){let B=function(z,A,R,G){if(xd[A.name]===void 0||p4[G.name]===void 0)return null;let O=p4[G.name][0],T=p4[G.name][1];if(T!==z.length)return null;let D=[];for(let P=0;P<O;P++){let j=0;for(let E=0;E<T;E++)j+=z[E]*R[E*O+P];D[P]=j}return D}(F,J.typeInfo,H,K.typeInfo);return B===null?(console.error(`Matrix vector multiplication failed. Line ${$.line}.`),null):new a(B,J.typeInfo)}{if(F.length!==H.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let B=F.map((z,A)=>z*H[A]);return new a(B,J.typeInfo)}}if(H1(Y)){let F=Z,H=Y.map((B,z)=>B*F);return J instanceof Q5?new Q5(H,J.typeInfo):new a(H,J.typeInfo)}if(H1(Z)){let F=Y,H=Z.map((B,z)=>F*B);return K instanceof Q5?new Q5(H,K.typeInfo):new a(H,K.typeInfo)}let q=Y,X=Z,W=this._maxFormatTypeInfo([J.typeInfo,K.typeInfo]);return new U0(q*X,W)}case"%":{if(H1(Y)&&H1(Z)){let F=Y,H=Z;if(F.length!==H.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let B=F.map((z,A)=>z%H[A]);return new a(B,J.typeInfo)}if(H1(Y)){let F=Z,H=Y.map((B,z)=>B%F);return new a(H,J.typeInfo)}if(H1(Z)){let F=Y,H=Z.map((B,z)=>F%B);return new a(H,K.typeInfo)}let q=Y,X=Z,W=this._maxFormatTypeInfo([J.typeInfo,K.typeInfo]);return new U0(q%X,W)}case"/":{if(H1(Y)&&H1(Z)){let F=Y,H=Z;if(F.length!==H.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let B=F.map((z,A)=>z/H[A]);return new a(B,J.typeInfo)}if(H1(Y)){let F=Z,H=Y.map((B,z)=>B/F);return new a(H,J.typeInfo)}if(H1(Z)){let F=Y,H=Z.map((B,z)=>F/B);return new a(H,K.typeInfo)}let q=Y,X=Z,W=this._maxFormatTypeInfo([J.typeInfo,K.typeInfo]);return new U0(q/X,W)}case"&":{if(H1(Y)&&H1(Z)){let F=Y,H=Z;if(F.length!==H.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let B=F.map((z,A)=>z&H[A]);return new a(B,J.typeInfo)}if(H1(Y)){let F=Z,H=Y.map((B,z)=>B&F);return new a(H,J.typeInfo)}if(H1(Z)){let F=Y,H=Z.map((B,z)=>F&B);return new a(H,K.typeInfo)}let q=Y,X=Z,W=this._maxFormatTypeInfo([J.typeInfo,K.typeInfo]);return new U0(q&X,W)}case"|":{if(H1(Y)&&H1(Z)){let F=Y,H=Z;if(F.length!==H.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let B=F.map((z,A)=>z|H[A]);return new a(B,J.typeInfo)}if(H1(Y)){let F=Z,H=Y.map((B,z)=>B|F);return new a(H,J.typeInfo)}if(H1(Z)){let F=Y,H=Z.map((B,z)=>F|B);return new a(H,K.typeInfo)}let q=Y,X=Z,W=this._maxFormatTypeInfo([J.typeInfo,K.typeInfo]);return new U0(q|X,W)}case"^":{if(H1(Y)&&H1(Z)){let F=Y,H=Z;if(F.length!==H.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let B=F.map((z,A)=>z^H[A]);return new a(B,J.typeInfo)}if(H1(Y)){let F=Z,H=Y.map((B,z)=>B^F);return new a(H,J.typeInfo)}if(H1(Z)){let F=Y,H=Z.map((B,z)=>F^B);return new a(H,K.typeInfo)}let q=Y,X=Z,W=this._maxFormatTypeInfo([J.typeInfo,K.typeInfo]);return new U0(q^X,W)}case"<<":{if(H1(Y)&&H1(Z)){let F=Y,H=Z;if(F.length!==H.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let B=F.map((z,A)=>z<<H[A]);return new a(B,J.typeInfo)}if(H1(Y)){let F=Z,H=Y.map((B,z)=>B<<F);return new a(H,J.typeInfo)}if(H1(Z)){let F=Y,H=Z.map((B,z)=>F<<B);return new a(H,K.typeInfo)}let q=Y,X=Z,W=this._maxFormatTypeInfo([J.typeInfo,K.typeInfo]);return new U0(q<<X,W)}case">>":{if(H1(Y)&&H1(Z)){let F=Y,H=Z;if(F.length!==H.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let B=F.map((z,A)=>z>>H[A]);return new a(B,J.typeInfo)}if(H1(Y)){let F=Z,H=Y.map((B,z)=>B>>F);return new a(H,J.typeInfo)}if(H1(Z)){let F=Y,H=Z.map((B,z)=>F>>B);return new a(H,K.typeInfo)}let q=Y,X=Z,W=this._maxFormatTypeInfo([J.typeInfo,K.typeInfo]);return new U0(q>>X,W)}case">":if(H1(Y)&&H1(Z)){let q=Y,X=Z;if(q.length!==X.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let W=q.map((F,H)=>F>X[H]?1:0);return new a(W,J.typeInfo)}if(H1(Y)){let q=Z,X=Y.map((W,F)=>W>q?1:0);return new a(X,J.typeInfo)}if(H1(Z)){let q=Y,X=Z.map((W,F)=>q>W?1:0);return new a(X,K.typeInfo)}return new U0(Y>Z?1:0,this.getTypeInfo("bool"));case"<":if(H1(Y)&&H1(Z)){let q=Y,X=Z;if(q.length!==X.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let W=q.map((F,H)=>F<X[H]?1:0);return new a(W,J.typeInfo)}if(H1(Y)){let q=Z,X=Y.map((W,F)=>W<q?1:0);return new a(X,J.typeInfo)}if(H1(Z)){let q=Y,X=Z.map((W,F)=>q<W?1:0);return new a(X,K.typeInfo)}return new U0(Y<Z?1:0,this.getTypeInfo("bool"));case"==":if(H1(Y)&&H1(Z)){let q=Y,X=Z;if(q.length!==X.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let W=q.map((F,H)=>F===X[H]?1:0);return new a(W,J.typeInfo)}if(H1(Y)){let q=Z,X=Y.map((W,F)=>W==q?1:0);return new a(X,J.typeInfo)}if(H1(Z)){let q=Y,X=Z.map((W,F)=>q==W?1:0);return new a(X,K.typeInfo)}return new U0(Y===Z?1:0,this.getTypeInfo("bool"));case"!=":if(H1(Y)&&H1(Z)){let q=Y,X=Z;if(q.length!==X.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let W=q.map((F,H)=>F!==X[H]?1:0);return new a(W,J.typeInfo)}if(H1(Y)){let q=Z,X=Y.map((W,F)=>W!==q?1:0);return new a(X,J.typeInfo)}if(H1(Z)){let q=Y,X=Z.map((W,F)=>q!==W?1:0);return new a(X,K.typeInfo)}return new U0(Y!==Z?1:0,this.getTypeInfo("bool"));case">=":if(H1(Y)&&H1(Z)){let q=Y,X=Z;if(q.length!==X.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let W=q.map((F,H)=>F>=X[H]?1:0);return new a(W,J.typeInfo)}if(H1(Y)){let q=Z,X=Y.map((W,F)=>W>=q?1:0);return new a(X,J.typeInfo)}if(H1(Z)){let q=Y,X=Z.map((W,F)=>q>=W?1:0);return new a(X,K.typeInfo)}return new U0(Y>=Z?1:0,this.getTypeInfo("bool"));case"<=":if(H1(Y)&&H1(Z)){let q=Y,X=Z;if(q.length!==X.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let W=q.map((F,H)=>F<=X[H]?1:0);return new a(W,J.typeInfo)}if(H1(Y)){let q=Z,X=Y.map((W,F)=>W<=q?1:0);return new a(X,J.typeInfo)}if(H1(Z)){let q=Y,X=Z.map((W,F)=>q<=W?1:0);return new a(X,K.typeInfo)}return new U0(Y<=Z?1:0,this.getTypeInfo("bool"));case"&&":if(H1(Y)&&H1(Z)){let q=Y,X=Z;if(q.length!==X.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let W=q.map((F,H)=>F&&X[H]?1:0);return new a(W,J.typeInfo)}if(H1(Y)){let q=Z,X=Y.map((W,F)=>W&&q?1:0);return new a(X,J.typeInfo)}if(H1(Z)){let q=Y,X=Z.map((W,F)=>q&&W?1:0);return new a(X,K.typeInfo)}return new U0(Y&&Z?1:0,this.getTypeInfo("bool"));case"||":if(H1(Y)&&H1(Z)){let q=Y,X=Z;if(q.length!==X.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let W=q.map((F,H)=>F||X[H]?1:0);return new a(W,J.typeInfo)}if(H1(Y)){let q=Z,X=Y.map((W,F)=>W||q?1:0);return new a(X,J.typeInfo)}if(H1(Z)){let q=Y,X=Z.map((W,F)=>q||W?1:0);return new a(X,K.typeInfo)}return new U0(Y||Z?1:0,this.getTypeInfo("bool"))}return console.error(`Unknown operator ${$.operator}. Line ${$.line}`),null}_evalCall($,Q){if($.cachedReturnValue!==null)return $.cachedReturnValue;let J=Q.clone();J.currentFunctionName=$.name;let K=Q.getFunction($.name);if(!K){if($.isBuiltin)return this._callBuiltinFunction($,J);return this.getTypeInfo($.name)?this._evalCreate($,Q):(console.error(`Unknown function "${$.name}". Line ${$.line}`),null)}for(let Y=0;Y<K.node.args.length;++Y){let Z=K.node.args[Y],q=this.evalExpression($.args[Y],J);J.createVariable(Z.name,q,Z)}return this._execStatements(K.node.body,J)}_callBuiltinFunction($,Q){switch($.name){case"all":return this.builtins.All($,Q);case"any":return this.builtins.Any($,Q);case"select":return this.builtins.Select($,Q);case"arrayLength":return this.builtins.ArrayLength($,Q);case"abs":return this.builtins.Abs($,Q);case"acos":return this.builtins.Acos($,Q);case"acosh":return this.builtins.Acosh($,Q);case"asin":return this.builtins.Asin($,Q);case"asinh":return this.builtins.Asinh($,Q);case"atan":return this.builtins.Atan($,Q);case"atanh":return this.builtins.Atanh($,Q);case"atan2":return this.builtins.Atan2($,Q);case"ceil":return this.builtins.Ceil($,Q);case"clamp":return this.builtins.Clamp($,Q);case"cos":return this.builtins.Cos($,Q);case"cosh":return this.builtins.Cosh($,Q);case"countLeadingZeros":return this.builtins.CountLeadingZeros($,Q);case"countOneBits":return this.builtins.CountOneBits($,Q);case"countTrailingZeros":return this.builtins.CountTrailingZeros($,Q);case"cross":return this.builtins.Cross($,Q);case"degrees":return this.builtins.Degrees($,Q);case"determinant":return this.builtins.Determinant($,Q);case"distance":return this.builtins.Distance($,Q);case"dot":return this.builtins.Dot($,Q);case"dot4U8Packed":return this.builtins.Dot4U8Packed($,Q);case"dot4I8Packed":return this.builtins.Dot4I8Packed($,Q);case"exp":return this.builtins.Exp($,Q);case"exp2":return this.builtins.Exp2($,Q);case"extractBits":return this.builtins.ExtractBits($,Q);case"faceForward":return this.builtins.FaceForward($,Q);case"firstLeadingBit":return this.builtins.FirstLeadingBit($,Q);case"firstTrailingBit":return this.builtins.FirstTrailingBit($,Q);case"floor":return this.builtins.Floor($,Q);case"fma":return this.builtins.Fma($,Q);case"fract":return this.builtins.Fract($,Q);case"frexp":return this.builtins.Frexp($,Q);case"insertBits":return this.builtins.InsertBits($,Q);case"inverseSqrt":return this.builtins.InverseSqrt($,Q);case"ldexp":return this.builtins.Ldexp($,Q);case"length":return this.builtins.Length($,Q);case"log":return this.builtins.Log($,Q);case"log2":return this.builtins.Log2($,Q);case"max":return this.builtins.Max($,Q);case"min":return this.builtins.Min($,Q);case"mix":return this.builtins.Mix($,Q);case"modf":return this.builtins.Modf($,Q);case"normalize":return this.builtins.Normalize($,Q);case"pow":return this.builtins.Pow($,Q);case"quantizeToF16":return this.builtins.QuantizeToF16($,Q);case"radians":return this.builtins.Radians($,Q);case"reflect":return this.builtins.Reflect($,Q);case"refract":return this.builtins.Refract($,Q);case"reverseBits":return this.builtins.ReverseBits($,Q);case"round":return this.builtins.Round($,Q);case"saturate":return this.builtins.Saturate($,Q);case"sign":return this.builtins.Sign($,Q);case"sin":return this.builtins.Sin($,Q);case"sinh":return this.builtins.Sinh($,Q);case"smoothstep":return this.builtins.SmoothStep($,Q);case"sqrt":return this.builtins.Sqrt($,Q);case"step":return this.builtins.Step($,Q);case"tan":return this.builtins.Tan($,Q);case"tanh":return this.builtins.Tanh($,Q);case"transpose":return this.builtins.Transpose($,Q);case"trunc":return this.builtins.Trunc($,Q);case"dpdx":return this.builtins.Dpdx($,Q);case"dpdxCoarse":return this.builtins.DpdxCoarse($,Q);case"dpdxFine":return this.builtins.DpdxFine($,Q);case"dpdy":return this.builtins.Dpdy($,Q);case"dpdyCoarse":return this.builtins.DpdyCoarse($,Q);case"dpdyFine":return this.builtins.DpdyFine($,Q);case"fwidth":return this.builtins.Fwidth($,Q);case"fwidthCoarse":return this.builtins.FwidthCoarse($,Q);case"fwidthFine":return this.builtins.FwidthFine($,Q);case"textureDimensions":return this.builtins.TextureDimensions($,Q);case"textureGather":return this.builtins.TextureGather($,Q);case"textureGatherCompare":return this.builtins.TextureGatherCompare($,Q);case"textureLoad":return this.builtins.TextureLoad($,Q);case"textureNumLayers":return this.builtins.TextureNumLayers($,Q);case"textureNumLevels":return this.builtins.TextureNumLevels($,Q);case"textureNumSamples":return this.builtins.TextureNumSamples($,Q);case"textureSample":return this.builtins.TextureSample($,Q);case"textureSampleBias":return this.builtins.TextureSampleBias($,Q);case"textureSampleCompare":return this.builtins.TextureSampleCompare($,Q);case"textureSampleCompareLevel":return this.builtins.TextureSampleCompareLevel($,Q);case"textureSampleGrad":return this.builtins.TextureSampleGrad($,Q);case"textureSampleLevel":return this.builtins.TextureSampleLevel($,Q);case"textureSampleBaseClampToEdge":return this.builtins.TextureSampleBaseClampToEdge($,Q);case"textureStore":return this.builtins.TextureStore($,Q);case"atomicLoad":return this.builtins.AtomicLoad($,Q);case"atomicStore":return this.builtins.AtomicStore($,Q);case"atomicAdd":return this.builtins.AtomicAdd($,Q);case"atomicSub":return this.builtins.AtomicSub($,Q);case"atomicMax":return this.builtins.AtomicMax($,Q);case"atomicMin":return this.builtins.AtomicMin($,Q);case"atomicAnd":return this.builtins.AtomicAnd($,Q);case"atomicOr":return this.builtins.AtomicOr($,Q);case"atomicXor":return this.builtins.AtomicXor($,Q);case"atomicExchange":return this.builtins.AtomicExchange($,Q);case"atomicCompareExchangeWeak":return this.builtins.AtomicCompareExchangeWeak($,Q);case"pack4x8snorm":return this.builtins.Pack4x8snorm($,Q);case"pack4x8unorm":return this.builtins.Pack4x8unorm($,Q);case"pack4xI8":return this.builtins.Pack4xI8($,Q);case"pack4xU8":return this.builtins.Pack4xU8($,Q);case"pack4x8Clamp":return this.builtins.Pack4x8Clamp($,Q);case"pack4xU8Clamp":return this.builtins.Pack4xU8Clamp($,Q);case"pack2x16snorm":return this.builtins.Pack2x16snorm($,Q);case"pack2x16unorm":return this.builtins.Pack2x16unorm($,Q);case"pack2x16float":return this.builtins.Pack2x16float($,Q);case"unpack4x8snorm":return this.builtins.Unpack4x8snorm($,Q);case"unpack4x8unorm":return this.builtins.Unpack4x8unorm($,Q);case"unpack4xI8":return this.builtins.Unpack4xI8($,Q);case"unpack4xU8":return this.builtins.Unpack4xU8($,Q);case"unpack2x16snorm":return this.builtins.Unpack2x16snorm($,Q);case"unpack2x16unorm":return this.builtins.Unpack2x16unorm($,Q);case"unpack2x16float":return this.builtins.Unpack2x16float($,Q);case"storageBarrier":return this.builtins.StorageBarrier($,Q);case"textureBarrier":return this.builtins.TextureBarrier($,Q);case"workgroupBarrier":return this.builtins.WorkgroupBarrier($,Q);case"workgroupUniformLoad":return this.builtins.WorkgroupUniformLoad($,Q);case"subgroupAdd":return this.builtins.SubgroupAdd($,Q);case"subgroupExclusiveAdd":return this.builtins.SubgroupExclusiveAdd($,Q);case"subgroupInclusiveAdd":return this.builtins.SubgroupInclusiveAdd($,Q);case"subgroupAll":return this.builtins.SubgroupAll($,Q);case"subgroupAnd":return this.builtins.SubgroupAnd($,Q);case"subgroupAny":return this.builtins.SubgroupAny($,Q);case"subgroupBallot":return this.builtins.SubgroupBallot($,Q);case"subgroupBroadcast":return this.builtins.SubgroupBroadcast($,Q);case"subgroupBroadcastFirst":return this.builtins.SubgroupBroadcastFirst($,Q);case"subgroupElect":return this.builtins.SubgroupElect($,Q);case"subgroupMax":return this.builtins.SubgroupMax($,Q);case"subgroupMin":return this.builtins.SubgroupMin($,Q);case"subgroupMul":return this.builtins.SubgroupMul($,Q);case"subgroupExclusiveMul":return this.builtins.SubgroupExclusiveMul($,Q);case"subgroupInclusiveMul":return this.builtins.SubgroupInclusiveMul($,Q);case"subgroupOr":return this.builtins.SubgroupOr($,Q);case"subgroupShuffle":return this.builtins.SubgroupShuffle($,Q);case"subgroupShuffleDown":return this.builtins.SubgroupShuffleDown($,Q);case"subgroupShuffleUp":return this.builtins.SubgroupShuffleUp($,Q);case"subgroupShuffleXor":return this.builtins.SubgroupShuffleXor($,Q);case"subgroupXor":return this.builtins.SubgroupXor($,Q);case"quadBroadcast":return this.builtins.QuadBroadcast($,Q);case"quadSwapDiagonal":return this.builtins.QuadSwapDiagonal($,Q);case"quadSwapX":return this.builtins.QuadSwapX($,Q);case"quadSwapY":return this.builtins.QuadSwapY($,Q)}let J=Q.getFunction($.name);if(J){let K=Q.clone();for(let Y=0;Y<J.node.args.length;++Y){let Z=J.node.args[Y],q=this.evalExpression($.args[Y],K);K.setVariable(Z.name,q,Z)}return this._execStatements(J.node.body,K)}return null}_callConstructorValue($,Q){if(!$.args||$.args.length===0)return new U0(0,this.getTypeInfo($.type));let J=this.evalExpression($.args[0],Q);return J.typeInfo=this.getTypeInfo($.type),J.getSubData(this,$.postfix,Q).clone()}_callConstructorVec($,Q){let J=this.getTypeInfo($.type),K=$.type.getTypeName(),Y=xd[K];if(Y===void 0)return console.error(`Invalid vec constructor ${K}. Line ${$.line}`),null;let Z=[];if($ instanceof o7)if($.isVector){let q=$.vectorValue;for(let X of q)Z.push(X)}else Z.push($.scalarValue);else if($.args)for(let q of $.args){let X=this.evalExpression(q,Q);if(X instanceof a){let W=X.data;for(let F=0;F<W.length;++F){let H=W[F];Z.push(H)}}else if(X instanceof U0){let W=X.value;Z.push(W)}}if($.type instanceof z0&&$.type.format===null&&($.type.format=z0.f32),Z.length===0){let q=Array(Y).fill(0);return new a(q,J).getSubData(this,$.postfix,Q)}if(Z.length===1)for(;Z.length<Y;)Z.push(Z[0]);if(Z.length<Y)return console.error(`Invalid vec constructor. Line ${$.line}`),null;return new a(Z.length>Y?Z.slice(0,Y):Z,J).getSubData(this,$.postfix,Q)}_callConstructorMatrix($,Q){let J=this.getTypeInfo($.type),K=$.type.getTypeName(),Y=p4[K];if(Y===void 0)return console.error(`Invalid matrix constructor ${K}. Line ${$.line}`),null;let Z=[];if($ instanceof o7)if($.isVector){let q=$.vectorValue;for(let X of q)Z.push(X)}else Z.push($.scalarValue);else if($.args)for(let q of $.args){let X=this.evalExpression(q,Q);X instanceof a?Z.push(...X.data):X instanceof U0?Z.push(X.value):X instanceof Q5&&Z.push(...X.data)}if(J instanceof FX&&J.format===null&&(J.format=this.getTypeInfo("f32")),Z.length===0){let q=Array(Y[2]).fill(0);return new Q5(q,J).getSubData(this,$.postfix,Q)}return Z.length!==Y[2]?(console.error(`Invalid matrix constructor. Line ${$.line}`),null):new Q5(Z,J).getSubData(this,$.postfix,Q)}};U4._breakObj=new w$(new z3("BREAK",null),null),U4._continueObj=new w$(new z3("CONTINUE",null),null),U4._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);An=class An extends FK{constructor($){super(),$&&this.update($)}update($){let Q=new QG0().parse($);this.updateAST(Q)}}});function Vn($){let Q={attributes:[],bindings:[]},J;try{J=U21($)}catch(Z){return u0.error(Z.message)(),Q}for(let Z of J.uniforms){let q=[];for(let X of Z.type?.members||[])q.push({name:X.name,type:KG0(X.type)});Q.bindings.push({type:"uniform",name:Z.name,group:Z.group,location:Z.binding,members:q})}for(let Z of J.textures)Q.bindings.push({type:"texture",name:Z.name,group:Z.group,location:Z.binding});for(let Z of J.samplers)Q.bindings.push({type:"sampler",name:Z.name,group:Z.group,location:Z.binding});let K=J.entry.vertex[0],Y=K?.inputs.length||0;for(let Z=0;Z<Y;Z++){let q=K.inputs[Z];if(q.locationType==="location"){let X=KG0(q.type);Q.attributes.push({name:q.name,location:Number(q.location),type:X})}}return Q}function KG0($){return $.format?`${$.name}<${$.format.name}>`:$.name}function U21($){try{return new An($)}catch(Q){if(Q instanceof Error)throw Q;let J="WGSL parse error";if(typeof Q==="object"&&Q?.message)J+=`: ${Q.message} `;if(typeof Q==="object"&&Q?.token)J+=Q.token.line||"";throw Error(J,{cause:Q})}}var YG0=h(()=>{v5();JG0()});function Rn($,{precision:Q=P8.precision}={}){return $=N21($),`${parseFloat($.toPrecision(Q))}`}function sY($){return Array.isArray($)||ArrayBuffer.isView($)&&!($ instanceof DataView)}function C$($,Q,J){return z21($,(K)=>Math.max(Q,Math.min(J,K)))}function XF($,Q,J){if(sY($))return $.map((K,Y)=>XF(K,Q[Y],J));return J*Q+(1-J)*$}function oY($,Q,J){let K=P8.EPSILON;if(J)P8.EPSILON=J;try{if($===Q)return!0;if(sY($)&&sY(Q)){if($.length!==Q.length)return!1;for(let Y=0;Y<$.length;++Y)if(!oY($[Y],Q[Y]))return!1;return!0}if($&&$.equals)return $.equals(Q);if(Q&&Q.equals)return Q.equals($);if(typeof $==="number"&&typeof Q==="number")return Math.abs($-Q)<=P8.EPSILON*Math.max(1,Math.abs($),Math.abs(Q));return!1}finally{P8.EPSILON=K}}function N21($){return Math.round($/P8.EPSILON)*P8.EPSILON}function B21($){return $.clone?$.clone():Array($.length)}function z21($,Q,J){if(sY($)){let K=$;J=J||B21(K);for(let Y=0;Y<J.length&&Y<K.length;++Y){let Z=typeof $==="number"?$:$[Y];J[Y]=Q(Z,Y,J)}return J}return Q($)}var At1,Vt1,H21,P8;var AB=h(()=>{At1=1/Math.PI*180,Vt1=0.005555555555555556*Math.PI,H21={EPSILON:0.000000000001,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1};globalThis.mathgl=globalThis.mathgl||{config:{...H21}};P8=globalThis.mathgl.config});var oG;var Gn=h(()=>{AB();oG=class oG extends Array{clone(){return new this.constructor().copy(this)}fromArray($,Q=0){for(let J=0;J<this.ELEMENTS;++J)this[J]=$[J+Q];return this.check()}toArray($=[],Q=0){for(let J=0;J<this.ELEMENTS;++J)$[Q+J]=this[J];return $}toObject($){return $}from($){return Array.isArray($)?this.copy($):this.fromObject($)}to($){if($===this)return this;return sY($)?this.toArray($):this.toObject($)}toTarget($){return $?this.to($):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(P8)}formatString($){let Q="";for(let J=0;J<this.ELEMENTS;++J)Q+=(J>0?", ":"")+Rn(this[J],$);return`${$.printTypes?this.constructor.name:""}[${Q}]`}equals($){if(!$||this.length!==$.length)return!1;for(let Q=0;Q<this.ELEMENTS;++Q)if(!oY(this[Q],$[Q]))return!1;return!0}exactEquals($){if(!$||this.length!==$.length)return!1;for(let Q=0;Q<this.ELEMENTS;++Q)if(this[Q]!==$[Q])return!1;return!0}negate(){for(let $=0;$<this.ELEMENTS;++$)this[$]=-this[$];return this.check()}lerp($,Q,J){if(J===void 0)return this.lerp(this,$,Q);for(let K=0;K<this.ELEMENTS;++K){let Y=$[K],Z=typeof Q==="number"?Q:Q[K];this[K]=Y+J*(Z-Y)}return this.check()}min($){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]=Math.min($[Q],this[Q]);return this.check()}max($){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]=Math.max($[Q],this[Q]);return this.check()}clamp($,Q){for(let J=0;J<this.ELEMENTS;++J)this[J]=Math.min(Math.max(this[J],$[J]),Q[J]);return this.check()}add(...$){for(let Q of $)for(let J=0;J<this.ELEMENTS;++J)this[J]+=Q[J];return this.check()}subtract(...$){for(let Q of $)for(let J=0;J<this.ELEMENTS;++J)this[J]-=Q[J];return this.check()}scale($){if(typeof $==="number")for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]*=$;else for(let Q=0;Q<this.ELEMENTS&&Q<$.length;++Q)this[Q]*=$[Q];return this.check()}multiplyByScalar($){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]*=$;return this.check()}check(){if(P8.debug&&!this.validate())throw Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);return this}validate(){let $=this.length===this.ELEMENTS;for(let Q=0;Q<this.ELEMENTS;++Q)$=$&&Number.isFinite(this[Q]);return $}sub($){return this.subtract($)}setScalar($){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]=$;return this.check()}addScalar($){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]+=$;return this.check()}subScalar($){return this.addScalar(-$)}multiplyScalar($){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]*=$;return this.check()}divideScalar($){return this.multiplyByScalar(1/$)}clampScalar($,Q){for(let J=0;J<this.ELEMENTS;++J)this[J]=Math.min(Math.max(this[J],$),Q);return this.check()}get elements(){return this}}});function A21($,Q){if($.length!==Q)return!1;for(let J=0;J<$.length;++J)if(!Number.isFinite($[J]))return!1;return!0}function H4($){if(!Number.isFinite($))throw Error(`Invalid number ${JSON.stringify($)}`);return $}function zE($,Q,J=""){if(P8.debug&&!A21($,Q))throw Error(`math.gl: ${J} some fields set to invalid numbers'`);return $}var aG=h(()=>{AB()});function On($,Q){if(!$)throw Error(`math.gl assertion ${Q}`)}var wn;var ZG0=h(()=>{Gn();aG();wn=class wn extends oG{get x(){return this[0]}set x($){this[0]=H4($)}get y(){return this[1]}set y($){this[1]=H4($)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let $=0;for(let Q=0;Q<this.ELEMENTS;++Q)$+=this[Q]*this[Q];return $}magnitudeSquared(){return this.lengthSquared()}distance($){return Math.sqrt(this.distanceSquared($))}distanceSquared($){let Q=0;for(let J=0;J<this.ELEMENTS;++J){let K=this[J]-$[J];Q+=K*K}return H4(Q)}dot($){let Q=0;for(let J=0;J<this.ELEMENTS;++J)Q+=this[J]*$[J];return H4(Q)}normalize(){let $=this.magnitude();if($!==0)for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]/=$;return this.check()}multiply(...$){for(let Q of $)for(let J=0;J<this.ELEMENTS;++J)this[J]*=Q[J];return this.check()}divide(...$){for(let Q of $)for(let J=0;J<this.ELEMENTS;++J)this[J]/=Q[J];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo($){return this.distance($)}distanceToSquared($){return this.distanceSquared($)}getComponent($){return On($>=0&&$<this.ELEMENTS,"index is out of range"),H4(this[$])}setComponent($,Q){return On($>=0&&$<this.ELEMENTS,"index is out of range"),this[$]=Q,this.check()}addVectors($,Q){return this.copy($).add(Q)}subVectors($,Q){return this.copy($).subtract(Q)}multiplyVectors($,Q){return this.copy($).multiply(Q)}addScaledVector($,Q){return this.add(new this.constructor($).multiplyScalar(Q))}}});function P$($){if($>=0)return Math.round($);return $%0.5===0?Math.floor($):Math.round($)}var m5=0.000001,L6,UK,Et1;var WF=h(()=>{L6=typeof Float32Array<"u"?Float32Array:Array,UK=Math.random;Et1=Math.PI/180});var HK={};OQ(HK,{zero:()=>c21,transformMat4:()=>Tn,transformMat3:()=>g21,transformMat2d:()=>b21,transformMat2:()=>M21,subtract:()=>XG0,sub:()=>n21,str:()=>u21,squaredLength:()=>BG0,squaredDistance:()=>HG0,sqrLen:()=>o21,sqrDist:()=>s21,set:()=>O21,scaleAndAdd:()=>E21,scale:()=>j21,round:()=>k21,rotate:()=>y21,random:()=>I21,normalize:()=>v21,negate:()=>L21,multiply:()=>WG0,mul:()=>l21,min:()=>C21,max:()=>P21,lerp:()=>f21,length:()=>NG0,len:()=>d21,inverse:()=>h21,fromValues:()=>R21,forEach:()=>a21,floor:()=>D21,exactEquals:()=>m21,equals:()=>p21,dot:()=>S21,divide:()=>FG0,div:()=>r21,distance:()=>UG0,dist:()=>i21,cross:()=>_21,create:()=>qG0,copy:()=>G21,clone:()=>V21,ceil:()=>T21,angle:()=>x21,add:()=>w21});function qG0(){let $=new L6(2);if(L6!=Float32Array)$[0]=0,$[1]=0;return $}function V21($){let Q=new L6(2);return Q[0]=$[0],Q[1]=$[1],Q}function R21($,Q){let J=new L6(2);return J[0]=$,J[1]=Q,J}function G21($,Q){return $[0]=Q[0],$[1]=Q[1],$}function O21($,Q,J){return $[0]=Q,$[1]=J,$}function w21($,Q,J){return $[0]=Q[0]+J[0],$[1]=Q[1]+J[1],$}function XG0($,Q,J){return $[0]=Q[0]-J[0],$[1]=Q[1]-J[1],$}function WG0($,Q,J){return $[0]=Q[0]*J[0],$[1]=Q[1]*J[1],$}function FG0($,Q,J){return $[0]=Q[0]/J[0],$[1]=Q[1]/J[1],$}function T21($,Q){return $[0]=Math.ceil(Q[0]),$[1]=Math.ceil(Q[1]),$}function D21($,Q){return $[0]=Math.floor(Q[0]),$[1]=Math.floor(Q[1]),$}function C21($,Q,J){return $[0]=Math.min(Q[0],J[0]),$[1]=Math.min(Q[1],J[1]),$}function P21($,Q,J){return $[0]=Math.max(Q[0],J[0]),$[1]=Math.max(Q[1],J[1]),$}function k21($,Q){return $[0]=P$(Q[0]),$[1]=P$(Q[1]),$}function j21($,Q,J){return $[0]=Q[0]*J,$[1]=Q[1]*J,$}function E21($,Q,J,K){return $[0]=Q[0]+J[0]*K,$[1]=Q[1]+J[1]*K,$}function UG0($,Q){let J=Q[0]-$[0],K=Q[1]-$[1];return Math.sqrt(J*J+K*K)}function HG0($,Q){let J=Q[0]-$[0],K=Q[1]-$[1];return J*J+K*K}function NG0($){let Q=$[0],J=$[1];return Math.sqrt(Q*Q+J*J)}function BG0($){let Q=$[0],J=$[1];return Q*Q+J*J}function L21($,Q){return $[0]=-Q[0],$[1]=-Q[1],$}function h21($,Q){return $[0]=1/Q[0],$[1]=1/Q[1],$}function v21($,Q){let J=Q[0],K=Q[1],Y=J*J+K*K;if(Y>0)Y=1/Math.sqrt(Y);return $[0]=Q[0]*Y,$[1]=Q[1]*Y,$}function S21($,Q){return $[0]*Q[0]+$[1]*Q[1]}function _21($,Q,J){let K=Q[0]*J[1]-Q[1]*J[0];return $[0]=$[1]=0,$[2]=K,$}function f21($,Q,J,K){let Y=Q[0],Z=Q[1];return $[0]=Y+K*(J[0]-Y),$[1]=Z+K*(J[1]-Z),$}function I21($,Q){Q=Q===void 0?1:Q;let J=UK()*2*Math.PI;return $[0]=Math.cos(J)*Q,$[1]=Math.sin(J)*Q,$}function M21($,Q,J){let K=Q[0],Y=Q[1];return $[0]=J[0]*K+J[2]*Y,$[1]=J[1]*K+J[3]*Y,$}function b21($,Q,J){let K=Q[0],Y=Q[1];return $[0]=J[0]*K+J[2]*Y+J[4],$[1]=J[1]*K+J[3]*Y+J[5],$}function g21($,Q,J){let K=Q[0],Y=Q[1];return $[0]=J[0]*K+J[3]*Y+J[6],$[1]=J[1]*K+J[4]*Y+J[7],$}function Tn($,Q,J){let K=Q[0],Y=Q[1];return $[0]=J[0]*K+J[4]*Y+J[12],$[1]=J[1]*K+J[5]*Y+J[13],$}function y21($,Q,J,K){let Y=Q[0]-J[0],Z=Q[1]-J[1],q=Math.sin(K),X=Math.cos(K);return $[0]=Y*X-Z*q+J[0],$[1]=Y*q+Z*X+J[1],$}function x21($,Q){let J=$[0],K=$[1],Y=Q[0],Z=Q[1],q=Math.sqrt((J*J+K*K)*(Y*Y+Z*Z)),X=q&&(J*Y+K*Z)/q;return Math.acos(Math.min(Math.max(X,-1),1))}function c21($){return $[0]=0,$[1]=0,$}function u21($){return`vec2(${$[0]}, ${$[1]})`}function m21($,Q){return $[0]===Q[0]&&$[1]===Q[1]}function p21($,Q){let J=$[0],K=$[1],Y=Q[0],Z=Q[1];return Math.abs(J-Y)<=m5*Math.max(1,Math.abs(J),Math.abs(Y))&&Math.abs(K-Z)<=m5*Math.max(1,Math.abs(K),Math.abs(Z))}var d21,n21,l21,r21,i21,s21,o21,a21;var Dn=h(()=>{WF();d21=NG0,n21=XG0,l21=WG0,r21=FG0,i21=UG0,s21=HG0,o21=BG0,a21=function(){let $=qG0();return function(Q,J,K,Y,Z,q){let X,W;if(!J)J=2;if(!K)K=0;if(Y)W=Math.min(Y*J+K,Q.length);else W=Q.length;for(X=K;X<W;X+=J)$[0]=Q[X],$[1]=Q[X+1],Z($,$,q),Q[X]=$[0],Q[X+1]=$[1];return Q}}()});function zG0($,Q,J){let K=Q[0],Y=Q[1],Z=J[3]*K+J[7]*Y||1;return $[0]=(J[0]*K+J[4]*Y)/Z,$[1]=(J[1]*K+J[5]*Y)/Z,$}function AE($,Q,J){let K=Q[0],Y=Q[1],Z=Q[2],q=J[3]*K+J[7]*Y+J[11]*Z||1;return $[0]=(J[0]*K+J[4]*Y+J[8]*Z)/q,$[1]=(J[1]*K+J[5]*Y+J[9]*Z)/q,$[2]=(J[2]*K+J[6]*Y+J[10]*Z)/q,$}function AG0($,Q,J){let K=Q[0],Y=Q[1];return $[0]=J[0]*K+J[2]*Y,$[1]=J[1]*K+J[3]*Y,$[2]=Q[2],$}var UF={};OQ(UF,{zero:()=>VW1,transformQuat:()=>kn,transformMat4:()=>eG,transformMat3:()=>Pn,subtract:()=>RG0,sub:()=>wW1,str:()=>RW1,squaredLength:()=>DG0,squaredDistance:()=>TG0,sqrLen:()=>kW1,sqrDist:()=>PW1,slerp:()=>NW1,set:()=>$W1,scaleAndAdd:()=>WW1,scale:()=>XW1,round:()=>qW1,rotateZ:()=>Ln,rotateY:()=>En,rotateX:()=>jn,random:()=>AW1,normalize:()=>Cn,negate:()=>FW1,multiply:()=>GG0,mul:()=>TW1,min:()=>YW1,max:()=>ZW1,lerp:()=>HW1,length:()=>VG0,len:()=>vn,inverse:()=>UW1,hermite:()=>BW1,fromValues:()=>RE,forEach:()=>jW1,floor:()=>KW1,exactEquals:()=>GW1,equals:()=>OW1,dot:()=>tG,divide:()=>OG0,div:()=>DW1,distance:()=>wG0,dist:()=>CW1,cross:()=>FF,create:()=>VE,copy:()=>e21,clone:()=>t21,ceil:()=>JW1,bezier:()=>zW1,angle:()=>hn,add:()=>QW1});function VE(){let $=new L6(3);if(L6!=Float32Array)$[0]=0,$[1]=0,$[2]=0;return $}function t21($){let Q=new L6(3);return Q[0]=$[0],Q[1]=$[1],Q[2]=$[2],Q}function VG0($){let Q=$[0],J=$[1],K=$[2];return Math.sqrt(Q*Q+J*J+K*K)}function RE($,Q,J){let K=new L6(3);return K[0]=$,K[1]=Q,K[2]=J,K}function e21($,Q){return $[0]=Q[0],$[1]=Q[1],$[2]=Q[2],$}function $W1($,Q,J,K){return $[0]=Q,$[1]=J,$[2]=K,$}function QW1($,Q,J){return $[0]=Q[0]+J[0],$[1]=Q[1]+J[1],$[2]=Q[2]+J[2],$}function RG0($,Q,J){return $[0]=Q[0]-J[0],$[1]=Q[1]-J[1],$[2]=Q[2]-J[2],$}function GG0($,Q,J){return $[0]=Q[0]*J[0],$[1]=Q[1]*J[1],$[2]=Q[2]*J[2],$}function OG0($,Q,J){return $[0]=Q[0]/J[0],$[1]=Q[1]/J[1],$[2]=Q[2]/J[2],$}function JW1($,Q){return $[0]=Math.ceil(Q[0]),$[1]=Math.ceil(Q[1]),$[2]=Math.ceil(Q[2]),$}function KW1($,Q){return $[0]=Math.floor(Q[0]),$[1]=Math.floor(Q[1]),$[2]=Math.floor(Q[2]),$}function YW1($,Q,J){return $[0]=Math.min(Q[0],J[0]),$[1]=Math.min(Q[1],J[1]),$[2]=Math.min(Q[2],J[2]),$}function ZW1($,Q,J){return $[0]=Math.max(Q[0],J[0]),$[1]=Math.max(Q[1],J[1]),$[2]=Math.max(Q[2],J[2]),$}function qW1($,Q){return $[0]=P$(Q[0]),$[1]=P$(Q[1]),$[2]=P$(Q[2]),$}function XW1($,Q,J){return $[0]=Q[0]*J,$[1]=Q[1]*J,$[2]=Q[2]*J,$}function WW1($,Q,J,K){return $[0]=Q[0]+J[0]*K,$[1]=Q[1]+J[1]*K,$[2]=Q[2]+J[2]*K,$}function wG0($,Q){let J=Q[0]-$[0],K=Q[1]-$[1],Y=Q[2]-$[2];return Math.sqrt(J*J+K*K+Y*Y)}function TG0($,Q){let J=Q[0]-$[0],K=Q[1]-$[1],Y=Q[2]-$[2];return J*J+K*K+Y*Y}function DG0($){let Q=$[0],J=$[1],K=$[2];return Q*Q+J*J+K*K}function FW1($,Q){return $[0]=-Q[0],$[1]=-Q[1],$[2]=-Q[2],$}function UW1($,Q){return $[0]=1/Q[0],$[1]=1/Q[1],$[2]=1/Q[2],$}function Cn($,Q){let J=Q[0],K=Q[1],Y=Q[2],Z=J*J+K*K+Y*Y;if(Z>0)Z=1/Math.sqrt(Z);return $[0]=Q[0]*Z,$[1]=Q[1]*Z,$[2]=Q[2]*Z,$}function tG($,Q){return $[0]*Q[0]+$[1]*Q[1]+$[2]*Q[2]}function FF($,Q,J){let K=Q[0],Y=Q[1],Z=Q[2],q=J[0],X=J[1],W=J[2];return $[0]=Y*W-Z*X,$[1]=Z*q-K*W,$[2]=K*X-Y*q,$}function HW1($,Q,J,K){let Y=Q[0],Z=Q[1],q=Q[2];return $[0]=Y+K*(J[0]-Y),$[1]=Z+K*(J[1]-Z),$[2]=q+K*(J[2]-q),$}function NW1($,Q,J,K){let Y=Math.acos(Math.min(Math.max(tG(Q,J),-1),1)),Z=Math.sin(Y),q=Math.sin((1-K)*Y)/Z,X=Math.sin(K*Y)/Z;return $[0]=q*Q[0]+X*J[0],$[1]=q*Q[1]+X*J[1],$[2]=q*Q[2]+X*J[2],$}function BW1($,Q,J,K,Y,Z){let q=Z*Z,X=q*(2*Z-3)+1,W=q*(Z-2)+Z,F=q*(Z-1),H=q*(3-2*Z);return $[0]=Q[0]*X+J[0]*W+K[0]*F+Y[0]*H,$[1]=Q[1]*X+J[1]*W+K[1]*F+Y[1]*H,$[2]=Q[2]*X+J[2]*W+K[2]*F+Y[2]*H,$}function zW1($,Q,J,K,Y,Z){let q=1-Z,X=q*q,W=Z*Z,F=X*q,H=3*Z*X,B=3*W*q,z=W*Z;return $[0]=Q[0]*F+J[0]*H+K[0]*B+Y[0]*z,$[1]=Q[1]*F+J[1]*H+K[1]*B+Y[1]*z,$[2]=Q[2]*F+J[2]*H+K[2]*B+Y[2]*z,$}function AW1($,Q){Q=Q===void 0?1:Q;let J=UK()*2*Math.PI,K=UK()*2-1,Y=Math.sqrt(1-K*K)*Q;return $[0]=Math.cos(J)*Y,$[1]=Math.sin(J)*Y,$[2]=K*Q,$}function eG($,Q,J){let K=Q[0],Y=Q[1],Z=Q[2],q=J[3]*K+J[7]*Y+J[11]*Z+J[15];return q=q||1,$[0]=(J[0]*K+J[4]*Y+J[8]*Z+J[12])/q,$[1]=(J[1]*K+J[5]*Y+J[9]*Z+J[13])/q,$[2]=(J[2]*K+J[6]*Y+J[10]*Z+J[14])/q,$}function Pn($,Q,J){let K=Q[0],Y=Q[1],Z=Q[2];return $[0]=K*J[0]+Y*J[3]+Z*J[6],$[1]=K*J[1]+Y*J[4]+Z*J[7],$[2]=K*J[2]+Y*J[5]+Z*J[8],$}function kn($,Q,J){let K=J[0],Y=J[1],Z=J[2],q=J[3],X=Q[0],W=Q[1],F=Q[2],H=Y*F-Z*W,B=Z*X-K*F,z=K*W-Y*X,A=Y*z-Z*B,R=Z*H-K*z,G=K*B-Y*H,O=q*2;return H*=O,B*=O,z*=O,A*=2,R*=2,G*=2,$[0]=X+H+A,$[1]=W+B+R,$[2]=F+z+G,$}function jn($,Q,J,K){let Y=[],Z=[];return Y[0]=Q[0]-J[0],Y[1]=Q[1]-J[1],Y[2]=Q[2]-J[2],Z[0]=Y[0],Z[1]=Y[1]*Math.cos(K)-Y[2]*Math.sin(K),Z[2]=Y[1]*Math.sin(K)+Y[2]*Math.cos(K),$[0]=Z[0]+J[0],$[1]=Z[1]+J[1],$[2]=Z[2]+J[2],$}function En($,Q,J,K){let Y=[],Z=[];return Y[0]=Q[0]-J[0],Y[1]=Q[1]-J[1],Y[2]=Q[2]-J[2],Z[0]=Y[2]*Math.sin(K)+Y[0]*Math.cos(K),Z[1]=Y[1],Z[2]=Y[2]*Math.cos(K)-Y[0]*Math.sin(K),$[0]=Z[0]+J[0],$[1]=Z[1]+J[1],$[2]=Z[2]+J[2],$}function Ln($,Q,J,K){let Y=[],Z=[];return Y[0]=Q[0]-J[0],Y[1]=Q[1]-J[1],Y[2]=Q[2]-J[2],Z[0]=Y[0]*Math.cos(K)-Y[1]*Math.sin(K),Z[1]=Y[0]*Math.sin(K)+Y[1]*Math.cos(K),Z[2]=Y[2],$[0]=Z[0]+J[0],$[1]=Z[1]+J[1],$[2]=Z[2]+J[2],$}function hn($,Q){let J=$[0],K=$[1],Y=$[2],Z=Q[0],q=Q[1],X=Q[2],W=Math.sqrt((J*J+K*K+Y*Y)*(Z*Z+q*q+X*X)),F=W&&tG($,Q)/W;return Math.acos(Math.min(Math.max(F,-1),1))}function VW1($){return $[0]=0,$[1]=0,$[2]=0,$}function RW1($){return`vec3(${$[0]}, ${$[1]}, ${$[2]})`}function GW1($,Q){return $[0]===Q[0]&&$[1]===Q[1]&&$[2]===Q[2]}function OW1($,Q){let J=$[0],K=$[1],Y=$[2],Z=Q[0],q=Q[1],X=Q[2];return Math.abs(J-Z)<=m5*Math.max(1,Math.abs(J),Math.abs(Z))&&Math.abs(K-q)<=m5*Math.max(1,Math.abs(K),Math.abs(q))&&Math.abs(Y-X)<=m5*Math.max(1,Math.abs(Y),Math.abs(X))}var wW1,TW1,DW1,CW1,PW1,vn,kW1,jW1;var $O=h(()=>{WF();wW1=RG0,TW1=GG0,DW1=OG0,CW1=wG0,PW1=TG0,vn=VG0,kW1=DG0,jW1=function(){let $=VE();return function(Q,J,K,Y,Z,q){let X,W;if(!J)J=3;if(!K)K=0;if(Y)W=Math.min(Y*J+K,Q.length);else W=Q.length;for(X=K;X<W;X+=J)$[0]=Q[X],$[1]=Q[X+1],$[2]=Q[X+2],Z($,$,q),Q[X]=$[0],Q[X+1]=$[1],Q[X+2]=$[2];return Q}}()});var Sn,GE,N4;var CG0=h(()=>{ZG0();AB();aG();$O();Sn=[0,0,0];N4=class N4 extends wn{static get ZERO(){if(!GE)GE=new N4(0,0,0),Object.freeze(GE);return GE}constructor($=0,Q=0,J=0){super(-0,-0,-0);if(arguments.length===1&&sY($))this.copy($);else{if(P8.debug)H4($),H4(Q),H4(J);this[0]=$,this[1]=Q,this[2]=J}}set($,Q,J){return this[0]=$,this[1]=Q,this[2]=J,this.check()}copy($){return this[0]=$[0],this[1]=$[1],this[2]=$[2],this.check()}fromObject($){if(P8.debug)H4($.x),H4($.y),H4($.z);return this[0]=$.x,this[1]=$.y,this[2]=$.z,this.check()}toObject($){return $.x=this[0],$.y=this[1],$.z=this[2],$}get ELEMENTS(){return 3}get z(){return this[2]}set z($){this[2]=H4($)}angle($){return hn(this,$)}cross($){return FF(this,this,$),this.check()}rotateX({radians:$,origin:Q=Sn}){return jn(this,this,Q,$),this.check()}rotateY({radians:$,origin:Q=Sn}){return En(this,this,Q,$),this.check()}rotateZ({radians:$,origin:Q=Sn}){return Ln(this,this,Q,$),this.check()}transform($){return this.transformAsPoint($)}transformAsPoint($){return eG(this,this,$),this.check()}transformAsVector($){return AE(this,this,$),this.check()}transformByMatrix3($){return Pn(this,this,$),this.check()}transformByMatrix2($){return AG0(this,this,$),this.check()}transformByQuaternion($){return kn(this,this,$),this.check()}}});var _n;var PG0=h(()=>{Gn();aG();AB();_n=class _n extends oG{toString(){let $="[";if(P8.printRowMajor){$+="row-major:";for(let Q=0;Q<this.RANK;++Q)for(let J=0;J<this.RANK;++J)$+=` ${this[J*this.RANK+Q]}`}else{$+="column-major:";for(let Q=0;Q<this.ELEMENTS;++Q)$+=` ${this[Q]}`}return $+="]",$}getElementIndex($,Q){return Q*this.RANK+$}getElement($,Q){return this[Q*this.RANK+$]}setElement($,Q,J){return this[Q*this.RANK+$]=H4(J),this}getColumn($,Q=Array(this.RANK).fill(-0)){let J=$*this.RANK;for(let K=0;K<this.RANK;++K)Q[K]=this[J+K];return Q}setColumn($,Q){let J=$*this.RANK;for(let K=0;K<this.RANK;++K)this[J+K]=Q[K];return this}}});function kG0(){let $=new L6(9);if(L6!=Float32Array)$[1]=0,$[2]=0,$[3]=0,$[5]=0,$[6]=0,$[7]=0;return $[0]=1,$[4]=1,$[8]=1,$}var fn=h(()=>{WF()});var F8={};OQ(F8,{transpose:()=>In,translate:()=>gn,targetTo:()=>iW1,subtract:()=>_G0,sub:()=>KF1,str:()=>sW1,set:()=>SW1,scale:()=>yn,rotateZ:()=>mn,rotateY:()=>un,rotateX:()=>cn,rotate:()=>xn,perspectiveZO:()=>nW1,perspectiveNO:()=>vG0,perspectiveFromFieldOfView:()=>lW1,perspective:()=>nn,orthoZO:()=>rW1,orthoNO:()=>SG0,ortho:()=>ln,multiplyScalarAndAdd:()=>eW1,multiplyScalar:()=>tW1,multiply:()=>QO,mul:()=>JF1,lookAt:()=>rn,invert:()=>Mn,identity:()=>EG0,getTranslation:()=>cW1,getScaling:()=>hG0,getRotation:()=>uW1,frustum:()=>dn,fromZRotation:()=>yW1,fromYRotation:()=>gW1,fromXRotation:()=>bW1,fromValues:()=>vW1,fromTranslation:()=>fW1,fromScaling:()=>IW1,fromRotationTranslationScaleOrigin:()=>dW1,fromRotationTranslationScale:()=>pW1,fromRotationTranslation:()=>LG0,fromRotation:()=>MW1,fromQuat2:()=>xW1,fromQuat:()=>pn,frob:()=>oW1,exactEquals:()=>$F1,equals:()=>QF1,determinant:()=>bn,decompose:()=>mW1,create:()=>EW1,copy:()=>hW1,clone:()=>LW1,adjoint:()=>_W1,add:()=>aW1});function EW1(){let $=new L6(16);if(L6!=Float32Array)$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[11]=0,$[12]=0,$[13]=0,$[14]=0;return $[0]=1,$[5]=1,$[10]=1,$[15]=1,$}function LW1($){let Q=new L6(16);return Q[0]=$[0],Q[1]=$[1],Q[2]=$[2],Q[3]=$[3],Q[4]=$[4],Q[5]=$[5],Q[6]=$[6],Q[7]=$[7],Q[8]=$[8],Q[9]=$[9],Q[10]=$[10],Q[11]=$[11],Q[12]=$[12],Q[13]=$[13],Q[14]=$[14],Q[15]=$[15],Q}function hW1($,Q){return $[0]=Q[0],$[1]=Q[1],$[2]=Q[2],$[3]=Q[3],$[4]=Q[4],$[5]=Q[5],$[6]=Q[6],$[7]=Q[7],$[8]=Q[8],$[9]=Q[9],$[10]=Q[10],$[11]=Q[11],$[12]=Q[12],$[13]=Q[13],$[14]=Q[14],$[15]=Q[15],$}function vW1($,Q,J,K,Y,Z,q,X,W,F,H,B,z,A,R,G){let O=new L6(16);return O[0]=$,O[1]=Q,O[2]=J,O[3]=K,O[4]=Y,O[5]=Z,O[6]=q,O[7]=X,O[8]=W,O[9]=F,O[10]=H,O[11]=B,O[12]=z,O[13]=A,O[14]=R,O[15]=G,O}function SW1($,Q,J,K,Y,Z,q,X,W,F,H,B,z,A,R,G,O){return $[0]=Q,$[1]=J,$[2]=K,$[3]=Y,$[4]=Z,$[5]=q,$[6]=X,$[7]=W,$[8]=F,$[9]=H,$[10]=B,$[11]=z,$[12]=A,$[13]=R,$[14]=G,$[15]=O,$}function EG0($){return $[0]=1,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=1,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[10]=1,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}function In($,Q){if($===Q){let J=Q[1],K=Q[2],Y=Q[3],Z=Q[6],q=Q[7],X=Q[11];$[1]=Q[4],$[2]=Q[8],$[3]=Q[12],$[4]=J,$[6]=Q[9],$[7]=Q[13],$[8]=K,$[9]=Z,$[11]=Q[14],$[12]=Y,$[13]=q,$[14]=X}else $[0]=Q[0],$[1]=Q[4],$[2]=Q[8],$[3]=Q[12],$[4]=Q[1],$[5]=Q[5],$[6]=Q[9],$[7]=Q[13],$[8]=Q[2],$[9]=Q[6],$[10]=Q[10],$[11]=Q[14],$[12]=Q[3],$[13]=Q[7],$[14]=Q[11],$[15]=Q[15];return $}function Mn($,Q){let J=Q[0],K=Q[1],Y=Q[2],Z=Q[3],q=Q[4],X=Q[5],W=Q[6],F=Q[7],H=Q[8],B=Q[9],z=Q[10],A=Q[11],R=Q[12],G=Q[13],O=Q[14],T=Q[15],D=J*X-K*q,P=J*W-Y*q,j=J*F-Z*q,E=K*W-Y*X,L=K*F-Z*X,v=Y*F-Z*W,f=H*G-B*R,_=H*O-z*R,M=H*T-A*R,b=B*O-z*G,x=B*T-A*G,g=z*T-A*O,m=D*g-P*x+j*b+E*M-L*_+v*f;if(!m)return null;return m=1/m,$[0]=(X*g-W*x+F*b)*m,$[1]=(Y*x-K*g-Z*b)*m,$[2]=(G*v-O*L+T*E)*m,$[3]=(z*L-B*v-A*E)*m,$[4]=(W*M-q*g-F*_)*m,$[5]=(J*g-Y*M+Z*_)*m,$[6]=(O*j-R*v-T*P)*m,$[7]=(H*v-z*j+A*P)*m,$[8]=(q*x-X*M+F*f)*m,$[9]=(K*M-J*x-Z*f)*m,$[10]=(R*L-G*j+T*D)*m,$[11]=(B*j-H*L-A*D)*m,$[12]=(X*_-q*b-W*f)*m,$[13]=(J*b-K*_+Y*f)*m,$[14]=(G*P-R*E-O*D)*m,$[15]=(H*E-B*P+z*D)*m,$}function _W1($,Q){let J=Q[0],K=Q[1],Y=Q[2],Z=Q[3],q=Q[4],X=Q[5],W=Q[6],F=Q[7],H=Q[8],B=Q[9],z=Q[10],A=Q[11],R=Q[12],G=Q[13],O=Q[14],T=Q[15],D=J*X-K*q,P=J*W-Y*q,j=J*F-Z*q,E=K*W-Y*X,L=K*F-Z*X,v=Y*F-Z*W,f=H*G-B*R,_=H*O-z*R,M=H*T-A*R,b=B*O-z*G,x=B*T-A*G,g=z*T-A*O;return $[0]=X*g-W*x+F*b,$[1]=Y*x-K*g-Z*b,$[2]=G*v-O*L+T*E,$[3]=z*L-B*v-A*E,$[4]=W*M-q*g-F*_,$[5]=J*g-Y*M+Z*_,$[6]=O*j-R*v-T*P,$[7]=H*v-z*j+A*P,$[8]=q*x-X*M+F*f,$[9]=K*M-J*x-Z*f,$[10]=R*L-G*j+T*D,$[11]=B*j-H*L-A*D,$[12]=X*_-q*b-W*f,$[13]=J*b-K*_+Y*f,$[14]=G*P-R*E-O*D,$[15]=H*E-B*P+z*D,$}function bn($){let Q=$[0],J=$[1],K=$[2],Y=$[3],Z=$[4],q=$[5],X=$[6],W=$[7],F=$[8],H=$[9],B=$[10],z=$[11],A=$[12],R=$[13],G=$[14],O=$[15],T=Q*q-J*Z,D=Q*X-K*Z,P=J*X-K*q,j=F*R-H*A,E=F*G-B*A,L=H*G-B*R,v=Q*L-J*E+K*j,f=Z*L-q*E+X*j,_=F*P-H*D+B*T,M=A*P-R*D+G*T;return W*v-Y*f+O*_-z*M}function QO($,Q,J){let K=Q[0],Y=Q[1],Z=Q[2],q=Q[3],X=Q[4],W=Q[5],F=Q[6],H=Q[7],B=Q[8],z=Q[9],A=Q[10],R=Q[11],G=Q[12],O=Q[13],T=Q[14],D=Q[15],P=J[0],j=J[1],E=J[2],L=J[3];return $[0]=P*K+j*X+E*B+L*G,$[1]=P*Y+j*W+E*z+L*O,$[2]=P*Z+j*F+E*A+L*T,$[3]=P*q+j*H+E*R+L*D,P=J[4],j=J[5],E=J[6],L=J[7],$[4]=P*K+j*X+E*B+L*G,$[5]=P*Y+j*W+E*z+L*O,$[6]=P*Z+j*F+E*A+L*T,$[7]=P*q+j*H+E*R+L*D,P=J[8],j=J[9],E=J[10],L=J[11],$[8]=P*K+j*X+E*B+L*G,$[9]=P*Y+j*W+E*z+L*O,$[10]=P*Z+j*F+E*A+L*T,$[11]=P*q+j*H+E*R+L*D,P=J[12],j=J[13],E=J[14],L=J[15],$[12]=P*K+j*X+E*B+L*G,$[13]=P*Y+j*W+E*z+L*O,$[14]=P*Z+j*F+E*A+L*T,$[15]=P*q+j*H+E*R+L*D,$}function gn($,Q,J){let K=J[0],Y=J[1],Z=J[2],q,X,W,F,H,B,z,A,R,G,O,T;if(Q===$)$[12]=Q[0]*K+Q[4]*Y+Q[8]*Z+Q[12],$[13]=Q[1]*K+Q[5]*Y+Q[9]*Z+Q[13],$[14]=Q[2]*K+Q[6]*Y+Q[10]*Z+Q[14],$[15]=Q[3]*K+Q[7]*Y+Q[11]*Z+Q[15];else q=Q[0],X=Q[1],W=Q[2],F=Q[3],H=Q[4],B=Q[5],z=Q[6],A=Q[7],R=Q[8],G=Q[9],O=Q[10],T=Q[11],$[0]=q,$[1]=X,$[2]=W,$[3]=F,$[4]=H,$[5]=B,$[6]=z,$[7]=A,$[8]=R,$[9]=G,$[10]=O,$[11]=T,$[12]=q*K+H*Y+R*Z+Q[12],$[13]=X*K+B*Y+G*Z+Q[13],$[14]=W*K+z*Y+O*Z+Q[14],$[15]=F*K+A*Y+T*Z+Q[15];return $}function yn($,Q,J){let K=J[0],Y=J[1],Z=J[2];return $[0]=Q[0]*K,$[1]=Q[1]*K,$[2]=Q[2]*K,$[3]=Q[3]*K,$[4]=Q[4]*Y,$[5]=Q[5]*Y,$[6]=Q[6]*Y,$[7]=Q[7]*Y,$[8]=Q[8]*Z,$[9]=Q[9]*Z,$[10]=Q[10]*Z,$[11]=Q[11]*Z,$[12]=Q[12],$[13]=Q[13],$[14]=Q[14],$[15]=Q[15],$}function xn($,Q,J,K){let Y=K[0],Z=K[1],q=K[2],X=Math.sqrt(Y*Y+Z*Z+q*q),W,F,H,B,z,A,R,G,O,T,D,P,j,E,L,v,f,_,M,b,x,g,m,u;if(X<m5)return null;if(X=1/X,Y*=X,Z*=X,q*=X,F=Math.sin(J),W=Math.cos(J),H=1-W,B=Q[0],z=Q[1],A=Q[2],R=Q[3],G=Q[4],O=Q[5],T=Q[6],D=Q[7],P=Q[8],j=Q[9],E=Q[10],L=Q[11],v=Y*Y*H+W,f=Z*Y*H+q*F,_=q*Y*H-Z*F,M=Y*Z*H-q*F,b=Z*Z*H+W,x=q*Z*H+Y*F,g=Y*q*H+Z*F,m=Z*q*H-Y*F,u=q*q*H+W,$[0]=B*v+G*f+P*_,$[1]=z*v+O*f+j*_,$[2]=A*v+T*f+E*_,$[3]=R*v+D*f+L*_,$[4]=B*M+G*b+P*x,$[5]=z*M+O*b+j*x,$[6]=A*M+T*b+E*x,$[7]=R*M+D*b+L*x,$[8]=B*g+G*m+P*u,$[9]=z*g+O*m+j*u,$[10]=A*g+T*m+E*u,$[11]=R*g+D*m+L*u,Q!==$)$[12]=Q[12],$[13]=Q[13],$[14]=Q[14],$[15]=Q[15];return $}function cn($,Q,J){let K=Math.sin(J),Y=Math.cos(J),Z=Q[4],q=Q[5],X=Q[6],W=Q[7],F=Q[8],H=Q[9],B=Q[10],z=Q[11];if(Q!==$)$[0]=Q[0],$[1]=Q[1],$[2]=Q[2],$[3]=Q[3],$[12]=Q[12],$[13]=Q[13],$[14]=Q[14],$[15]=Q[15];return $[4]=Z*Y+F*K,$[5]=q*Y+H*K,$[6]=X*Y+B*K,$[7]=W*Y+z*K,$[8]=F*Y-Z*K,$[9]=H*Y-q*K,$[10]=B*Y-X*K,$[11]=z*Y-W*K,$}function un($,Q,J){let K=Math.sin(J),Y=Math.cos(J),Z=Q[0],q=Q[1],X=Q[2],W=Q[3],F=Q[8],H=Q[9],B=Q[10],z=Q[11];if(Q!==$)$[4]=Q[4],$[5]=Q[5],$[6]=Q[6],$[7]=Q[7],$[12]=Q[12],$[13]=Q[13],$[14]=Q[14],$[15]=Q[15];return $[0]=Z*Y-F*K,$[1]=q*Y-H*K,$[2]=X*Y-B*K,$[3]=W*Y-z*K,$[8]=Z*K+F*Y,$[9]=q*K+H*Y,$[10]=X*K+B*Y,$[11]=W*K+z*Y,$}function mn($,Q,J){let K=Math.sin(J),Y=Math.cos(J),Z=Q[0],q=Q[1],X=Q[2],W=Q[3],F=Q[4],H=Q[5],B=Q[6],z=Q[7];if(Q!==$)$[8]=Q[8],$[9]=Q[9],$[10]=Q[10],$[11]=Q[11],$[12]=Q[12],$[13]=Q[13],$[14]=Q[14],$[15]=Q[15];return $[0]=Z*Y+F*K,$[1]=q*Y+H*K,$[2]=X*Y+B*K,$[3]=W*Y+z*K,$[4]=F*Y-Z*K,$[5]=H*Y-q*K,$[6]=B*Y-X*K,$[7]=z*Y-W*K,$}function fW1($,Q){return $[0]=1,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=1,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[10]=1,$[11]=0,$[12]=Q[0],$[13]=Q[1],$[14]=Q[2],$[15]=1,$}function IW1($,Q){return $[0]=Q[0],$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=Q[1],$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[10]=Q[2],$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}function MW1($,Q,J){let K=J[0],Y=J[1],Z=J[2],q=Math.sqrt(K*K+Y*Y+Z*Z),X,W,F;if(q<m5)return null;return q=1/q,K*=q,Y*=q,Z*=q,W=Math.sin(Q),X=Math.cos(Q),F=1-X,$[0]=K*K*F+X,$[1]=Y*K*F+Z*W,$[2]=Z*K*F-Y*W,$[3]=0,$[4]=K*Y*F-Z*W,$[5]=Y*Y*F+X,$[6]=Z*Y*F+K*W,$[7]=0,$[8]=K*Z*F+Y*W,$[9]=Y*Z*F-K*W,$[10]=Z*Z*F+X,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}function bW1($,Q){let J=Math.sin(Q),K=Math.cos(Q);return $[0]=1,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=K,$[6]=J,$[7]=0,$[8]=0,$[9]=-J,$[10]=K,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}function gW1($,Q){let J=Math.sin(Q),K=Math.cos(Q);return $[0]=K,$[1]=0,$[2]=-J,$[3]=0,$[4]=0,$[5]=1,$[6]=0,$[7]=0,$[8]=J,$[9]=0,$[10]=K,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}function yW1($,Q){let J=Math.sin(Q),K=Math.cos(Q);return $[0]=K,$[1]=J,$[2]=0,$[3]=0,$[4]=-J,$[5]=K,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[10]=1,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}function LG0($,Q,J){let K=Q[0],Y=Q[1],Z=Q[2],q=Q[3],X=K+K,W=Y+Y,F=Z+Z,H=K*X,B=K*W,z=K*F,A=Y*W,R=Y*F,G=Z*F,O=q*X,T=q*W,D=q*F;return $[0]=1-(A+G),$[1]=B+D,$[2]=z-T,$[3]=0,$[4]=B-D,$[5]=1-(H+G),$[6]=R+O,$[7]=0,$[8]=z+T,$[9]=R-O,$[10]=1-(H+A),$[11]=0,$[12]=J[0],$[13]=J[1],$[14]=J[2],$[15]=1,$}function xW1($,Q){let J=new L6(3),K=-Q[0],Y=-Q[1],Z=-Q[2],q=Q[3],X=Q[4],W=Q[5],F=Q[6],H=Q[7],B=K*K+Y*Y+Z*Z+q*q;if(B>0)J[0]=(X*q+H*K+W*Z-F*Y)*2/B,J[1]=(W*q+H*Y+F*K-X*Z)*2/B,J[2]=(F*q+H*Z+X*Y-W*K)*2/B;else J[0]=(X*q+H*K+W*Z-F*Y)*2,J[1]=(W*q+H*Y+F*K-X*Z)*2,J[2]=(F*q+H*Z+X*Y-W*K)*2;return LG0($,Q,J),$}function cW1($,Q){return $[0]=Q[12],$[1]=Q[13],$[2]=Q[14],$}function hG0($,Q){let J=Q[0],K=Q[1],Y=Q[2],Z=Q[4],q=Q[5],X=Q[6],W=Q[8],F=Q[9],H=Q[10];return $[0]=Math.sqrt(J*J+K*K+Y*Y),$[1]=Math.sqrt(Z*Z+q*q+X*X),$[2]=Math.sqrt(W*W+F*F+H*H),$}function uW1($,Q){let J=new L6(3);hG0(J,Q);let K=1/J[0],Y=1/J[1],Z=1/J[2],q=Q[0]*K,X=Q[1]*Y,W=Q[2]*Z,F=Q[4]*K,H=Q[5]*Y,B=Q[6]*Z,z=Q[8]*K,A=Q[9]*Y,R=Q[10]*Z,G=q+H+R,O=0;if(G>0)O=Math.sqrt(G+1)*2,$[3]=0.25*O,$[0]=(B-A)/O,$[1]=(z-W)/O,$[2]=(X-F)/O;else if(q>H&&q>R)O=Math.sqrt(1+q-H-R)*2,$[3]=(B-A)/O,$[0]=0.25*O,$[1]=(X+F)/O,$[2]=(z+W)/O;else if(H>R)O=Math.sqrt(1+H-q-R)*2,$[3]=(z-W)/O,$[0]=(X+F)/O,$[1]=0.25*O,$[2]=(B+A)/O;else O=Math.sqrt(1+R-q-H)*2,$[3]=(X-F)/O,$[0]=(z+W)/O,$[1]=(B+A)/O,$[2]=0.25*O;return $}function mW1($,Q,J,K){Q[0]=K[12],Q[1]=K[13],Q[2]=K[14];let Y=K[0],Z=K[1],q=K[2],X=K[4],W=K[5],F=K[6],H=K[8],B=K[9],z=K[10];J[0]=Math.sqrt(Y*Y+Z*Z+q*q),J[1]=Math.sqrt(X*X+W*W+F*F),J[2]=Math.sqrt(H*H+B*B+z*z);let A=1/J[0],R=1/J[1],G=1/J[2],O=Y*A,T=Z*R,D=q*G,P=X*A,j=W*R,E=F*G,L=H*A,v=B*R,f=z*G,_=O+j+f,M=0;if(_>0)M=Math.sqrt(_+1)*2,$[3]=0.25*M,$[0]=(E-v)/M,$[1]=(L-D)/M,$[2]=(T-P)/M;else if(O>j&&O>f)M=Math.sqrt(1+O-j-f)*2,$[3]=(E-v)/M,$[0]=0.25*M,$[1]=(T+P)/M,$[2]=(L+D)/M;else if(j>f)M=Math.sqrt(1+j-O-f)*2,$[3]=(L-D)/M,$[0]=(T+P)/M,$[1]=0.25*M,$[2]=(E+v)/M;else M=Math.sqrt(1+f-O-j)*2,$[3]=(T-P)/M,$[0]=(L+D)/M,$[1]=(E+v)/M,$[2]=0.25*M;return $}function pW1($,Q,J,K){let Y=Q[0],Z=Q[1],q=Q[2],X=Q[3],W=Y+Y,F=Z+Z,H=q+q,B=Y*W,z=Y*F,A=Y*H,R=Z*F,G=Z*H,O=q*H,T=X*W,D=X*F,P=X*H,j=K[0],E=K[1],L=K[2];return $[0]=(1-(R+O))*j,$[1]=(z+P)*j,$[2]=(A-D)*j,$[3]=0,$[4]=(z-P)*E,$[5]=(1-(B+O))*E,$[6]=(G+T)*E,$[7]=0,$[8]=(A+D)*L,$[9]=(G-T)*L,$[10]=(1-(B+R))*L,$[11]=0,$[12]=J[0],$[13]=J[1],$[14]=J[2],$[15]=1,$}function dW1($,Q,J,K,Y){let Z=Q[0],q=Q[1],X=Q[2],W=Q[3],F=Z+Z,H=q+q,B=X+X,z=Z*F,A=Z*H,R=Z*B,G=q*H,O=q*B,T=X*B,D=W*F,P=W*H,j=W*B,E=K[0],L=K[1],v=K[2],f=Y[0],_=Y[1],M=Y[2],b=(1-(G+T))*E,x=(A+j)*E,g=(R-P)*E,m=(A-j)*L,u=(1-(z+T))*L,p=(O+D)*L,o=(R+P)*v,t=(O-D)*v,r=(1-(z+G))*v;return $[0]=b,$[1]=x,$[2]=g,$[3]=0,$[4]=m,$[5]=u,$[6]=p,$[7]=0,$[8]=o,$[9]=t,$[10]=r,$[11]=0,$[12]=J[0]+f-(b*f+m*_+o*M),$[13]=J[1]+_-(x*f+u*_+t*M),$[14]=J[2]+M-(g*f+p*_+r*M),$[15]=1,$}function pn($,Q){let J=Q[0],K=Q[1],Y=Q[2],Z=Q[3],q=J+J,X=K+K,W=Y+Y,F=J*q,H=K*q,B=K*X,z=Y*q,A=Y*X,R=Y*W,G=Z*q,O=Z*X,T=Z*W;return $[0]=1-B-R,$[1]=H+T,$[2]=z-O,$[3]=0,$[4]=H-T,$[5]=1-F-R,$[6]=A+G,$[7]=0,$[8]=z+O,$[9]=A-G,$[10]=1-F-B,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}function dn($,Q,J,K,Y,Z,q){let X=1/(J-Q),W=1/(Y-K),F=1/(Z-q);return $[0]=Z*2*X,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=Z*2*W,$[6]=0,$[7]=0,$[8]=(J+Q)*X,$[9]=(Y+K)*W,$[10]=(q+Z)*F,$[11]=-1,$[12]=0,$[13]=0,$[14]=q*Z*2*F,$[15]=0,$}function vG0($,Q,J,K,Y){let Z=1/Math.tan(Q/2);if($[0]=Z/J,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=Z,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[11]=-1,$[12]=0,$[13]=0,$[15]=0,Y!=null&&Y!==1/0){let q=1/(K-Y);$[10]=(Y+K)*q,$[14]=2*Y*K*q}else $[10]=-1,$[14]=-2*K;return $}function nW1($,Q,J,K,Y){let Z=1/Math.tan(Q/2);if($[0]=Z/J,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=Z,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[11]=-1,$[12]=0,$[13]=0,$[15]=0,Y!=null&&Y!==1/0){let q=1/(K-Y);$[10]=Y*q,$[14]=Y*K*q}else $[10]=-1,$[14]=-K;return $}function lW1($,Q,J,K){let Y=Math.tan(Q.upDegrees*Math.PI/180),Z=Math.tan(Q.downDegrees*Math.PI/180),q=Math.tan(Q.leftDegrees*Math.PI/180),X=Math.tan(Q.rightDegrees*Math.PI/180),W=2/(q+X),F=2/(Y+Z);return $[0]=W,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=F,$[6]=0,$[7]=0,$[8]=-((q-X)*W*0.5),$[9]=(Y-Z)*F*0.5,$[10]=K/(J-K),$[11]=-1,$[12]=0,$[13]=0,$[14]=K*J/(J-K),$[15]=0,$}function SG0($,Q,J,K,Y,Z,q){let X=1/(Q-J),W=1/(K-Y),F=1/(Z-q);return $[0]=-2*X,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=-2*W,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[10]=2*F,$[11]=0,$[12]=(Q+J)*X,$[13]=(Y+K)*W,$[14]=(q+Z)*F,$[15]=1,$}function rW1($,Q,J,K,Y,Z,q){let X=1/(Q-J),W=1/(K-Y),F=1/(Z-q);return $[0]=-2*X,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=-2*W,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[10]=F,$[11]=0,$[12]=(Q+J)*X,$[13]=(Y+K)*W,$[14]=Z*F,$[15]=1,$}function rn($,Q,J,K){let Y,Z,q,X,W,F,H,B,z,A,R=Q[0],G=Q[1],O=Q[2],T=K[0],D=K[1],P=K[2],j=J[0],E=J[1],L=J[2];if(Math.abs(R-j)<m5&&Math.abs(G-E)<m5&&Math.abs(O-L)<m5)return EG0($);if(B=R-j,z=G-E,A=O-L,Y=1/Math.sqrt(B*B+z*z+A*A),B*=Y,z*=Y,A*=Y,Z=D*A-P*z,q=P*B-T*A,X=T*z-D*B,Y=Math.sqrt(Z*Z+q*q+X*X),!Y)Z=0,q=0,X=0;else Y=1/Y,Z*=Y,q*=Y,X*=Y;if(W=z*X-A*q,F=A*Z-B*X,H=B*q-z*Z,Y=Math.sqrt(W*W+F*F+H*H),!Y)W=0,F=0,H=0;else Y=1/Y,W*=Y,F*=Y,H*=Y;return $[0]=Z,$[1]=W,$[2]=B,$[3]=0,$[4]=q,$[5]=F,$[6]=z,$[7]=0,$[8]=X,$[9]=H,$[10]=A,$[11]=0,$[12]=-(Z*R+q*G+X*O),$[13]=-(W*R+F*G+H*O),$[14]=-(B*R+z*G+A*O),$[15]=1,$}function iW1($,Q,J,K){let Y=Q[0],Z=Q[1],q=Q[2],X=K[0],W=K[1],F=K[2],H=Y-J[0],B=Z-J[1],z=q-J[2],A=H*H+B*B+z*z;if(A>0)A=1/Math.sqrt(A),H*=A,B*=A,z*=A;let R=W*z-F*B,G=F*H-X*z,O=X*B-W*H;if(A=R*R+G*G+O*O,A>0)A=1/Math.sqrt(A),R*=A,G*=A,O*=A;return $[0]=R,$[1]=G,$[2]=O,$[3]=0,$[4]=B*O-z*G,$[5]=z*R-H*O,$[6]=H*G-B*R,$[7]=0,$[8]=H,$[9]=B,$[10]=z,$[11]=0,$[12]=Y,$[13]=Z,$[14]=q,$[15]=1,$}function sW1($){return`mat4(${$[0]}, ${$[1]}, ${$[2]}, ${$[3]}, ${$[4]}, ${$[5]}, ${$[6]}, ${$[7]}, ${$[8]}, ${$[9]}, ${$[10]}, ${$[11]}, ${$[12]}, ${$[13]}, ${$[14]}, ${$[15]})`}function oW1($){return Math.sqrt($[0]*$[0]+$[1]*$[1]+$[2]*$[2]+$[3]*$[3]+$[4]*$[4]+$[5]*$[5]+$[6]*$[6]+$[7]*$[7]+$[8]*$[8]+$[9]*$[9]+$[10]*$[10]+$[11]*$[11]+$[12]*$[12]+$[13]*$[13]+$[14]*$[14]+$[15]*$[15])}function aW1($,Q,J){return $[0]=Q[0]+J[0],$[1]=Q[1]+J[1],$[2]=Q[2]+J[2],$[3]=Q[3]+J[3],$[4]=Q[4]+J[4],$[5]=Q[5]+J[5],$[6]=Q[6]+J[6],$[7]=Q[7]+J[7],$[8]=Q[8]+J[8],$[9]=Q[9]+J[9],$[10]=Q[10]+J[10],$[11]=Q[11]+J[11],$[12]=Q[12]+J[12],$[13]=Q[13]+J[13],$[14]=Q[14]+J[14],$[15]=Q[15]+J[15],$}function _G0($,Q,J){return $[0]=Q[0]-J[0],$[1]=Q[1]-J[1],$[2]=Q[2]-J[2],$[3]=Q[3]-J[3],$[4]=Q[4]-J[4],$[5]=Q[5]-J[5],$[6]=Q[6]-J[6],$[7]=Q[7]-J[7],$[8]=Q[8]-J[8],$[9]=Q[9]-J[9],$[10]=Q[10]-J[10],$[11]=Q[11]-J[11],$[12]=Q[12]-J[12],$[13]=Q[13]-J[13],$[14]=Q[14]-J[14],$[15]=Q[15]-J[15],$}function tW1($,Q,J){return $[0]=Q[0]*J,$[1]=Q[1]*J,$[2]=Q[2]*J,$[3]=Q[3]*J,$[4]=Q[4]*J,$[5]=Q[5]*J,$[6]=Q[6]*J,$[7]=Q[7]*J,$[8]=Q[8]*J,$[9]=Q[9]*J,$[10]=Q[10]*J,$[11]=Q[11]*J,$[12]=Q[12]*J,$[13]=Q[13]*J,$[14]=Q[14]*J,$[15]=Q[15]*J,$}function eW1($,Q,J,K){return $[0]=Q[0]+J[0]*K,$[1]=Q[1]+J[1]*K,$[2]=Q[2]+J[2]*K,$[3]=Q[3]+J[3]*K,$[4]=Q[4]+J[4]*K,$[5]=Q[5]+J[5]*K,$[6]=Q[6]+J[6]*K,$[7]=Q[7]+J[7]*K,$[8]=Q[8]+J[8]*K,$[9]=Q[9]+J[9]*K,$[10]=Q[10]+J[10]*K,$[11]=Q[11]+J[11]*K,$[12]=Q[12]+J[12]*K,$[13]=Q[13]+J[13]*K,$[14]=Q[14]+J[14]*K,$[15]=Q[15]+J[15]*K,$}function $F1($,Q){return $[0]===Q[0]&&$[1]===Q[1]&&$[2]===Q[2]&&$[3]===Q[3]&&$[4]===Q[4]&&$[5]===Q[5]&&$[6]===Q[6]&&$[7]===Q[7]&&$[8]===Q[8]&&$[9]===Q[9]&&$[10]===Q[10]&&$[11]===Q[11]&&$[12]===Q[12]&&$[13]===Q[13]&&$[14]===Q[14]&&$[15]===Q[15]}function QF1($,Q){let J=$[0],K=$[1],Y=$[2],Z=$[3],q=$[4],X=$[5],W=$[6],F=$[7],H=$[8],B=$[9],z=$[10],A=$[11],R=$[12],G=$[13],O=$[14],T=$[15],D=Q[0],P=Q[1],j=Q[2],E=Q[3],L=Q[4],v=Q[5],f=Q[6],_=Q[7],M=Q[8],b=Q[9],x=Q[10],g=Q[11],m=Q[12],u=Q[13],p=Q[14],o=Q[15];return Math.abs(J-D)<=m5*Math.max(1,Math.abs(J),Math.abs(D))&&Math.abs(K-P)<=m5*Math.max(1,Math.abs(K),Math.abs(P))&&Math.abs(Y-j)<=m5*Math.max(1,Math.abs(Y),Math.abs(j))&&Math.abs(Z-E)<=m5*Math.max(1,Math.abs(Z),Math.abs(E))&&Math.abs(q-L)<=m5*Math.max(1,Math.abs(q),Math.abs(L))&&Math.abs(X-v)<=m5*Math.max(1,Math.abs(X),Math.abs(v))&&Math.abs(W-f)<=m5*Math.max(1,Math.abs(W),Math.abs(f))&&Math.abs(F-_)<=m5*Math.max(1,Math.abs(F),Math.abs(_))&&Math.abs(H-M)<=m5*Math.max(1,Math.abs(H),Math.abs(M))&&Math.abs(B-b)<=m5*Math.max(1,Math.abs(B),Math.abs(b))&&Math.abs(z-x)<=m5*Math.max(1,Math.abs(z),Math.abs(x))&&Math.abs(A-g)<=m5*Math.max(1,Math.abs(A),Math.abs(g))&&Math.abs(R-m)<=m5*Math.max(1,Math.abs(R),Math.abs(m))&&Math.abs(G-u)<=m5*Math.max(1,Math.abs(G),Math.abs(u))&&Math.abs(O-p)<=m5*Math.max(1,Math.abs(O),Math.abs(p))&&Math.abs(T-o)<=m5*Math.max(1,Math.abs(T),Math.abs(o))}var nn,ln,JF1,KF1;var sn=h(()=>{WF();nn=vG0;ln=SG0;JF1=QO,KF1=_G0});var fQ={};OQ(fQ,{zero:()=>AF1,transformQuat:()=>zF1,transformMat4:()=>en,subtract:()=>xG0,sub:()=>GF1,str:()=>VF1,squaredLength:()=>an,squaredDistance:()=>dG0,sqrLen:()=>PF1,sqrDist:()=>DF1,set:()=>gG0,scaleAndAdd:()=>FF1,scale:()=>mG0,round:()=>WF1,random:()=>BF1,normalize:()=>tn,negate:()=>UF1,multiply:()=>cG0,mul:()=>OF1,min:()=>qF1,max:()=>XF1,lerp:()=>lG0,length:()=>on,len:()=>CF1,inverse:()=>HF1,fromValues:()=>MG0,forEach:()=>kF1,floor:()=>ZF1,exactEquals:()=>rG0,equals:()=>RF1,dot:()=>nG0,divide:()=>uG0,div:()=>wF1,distance:()=>pG0,dist:()=>TF1,cross:()=>NF1,create:()=>fG0,copy:()=>bG0,clone:()=>IG0,ceil:()=>YF1,add:()=>yG0});function fG0(){let $=new L6(4);if(L6!=Float32Array)$[0]=0,$[1]=0,$[2]=0,$[3]=0;return $}function IG0($){let Q=new L6(4);return Q[0]=$[0],Q[1]=$[1],Q[2]=$[2],Q[3]=$[3],Q}function MG0($,Q,J,K){let Y=new L6(4);return Y[0]=$,Y[1]=Q,Y[2]=J,Y[3]=K,Y}function bG0($,Q){return $[0]=Q[0],$[1]=Q[1],$[2]=Q[2],$[3]=Q[3],$}function gG0($,Q,J,K,Y){return $[0]=Q,$[1]=J,$[2]=K,$[3]=Y,$}function yG0($,Q,J){return $[0]=Q[0]+J[0],$[1]=Q[1]+J[1],$[2]=Q[2]+J[2],$[3]=Q[3]+J[3],$}function xG0($,Q,J){return $[0]=Q[0]-J[0],$[1]=Q[1]-J[1],$[2]=Q[2]-J[2],$[3]=Q[3]-J[3],$}function cG0($,Q,J){return $[0]=Q[0]*J[0],$[1]=Q[1]*J[1],$[2]=Q[2]*J[2],$[3]=Q[3]*J[3],$}function uG0($,Q,J){return $[0]=Q[0]/J[0],$[1]=Q[1]/J[1],$[2]=Q[2]/J[2],$[3]=Q[3]/J[3],$}function YF1($,Q){return $[0]=Math.ceil(Q[0]),$[1]=Math.ceil(Q[1]),$[2]=Math.ceil(Q[2]),$[3]=Math.ceil(Q[3]),$}function ZF1($,Q){return $[0]=Math.floor(Q[0]),$[1]=Math.floor(Q[1]),$[2]=Math.floor(Q[2]),$[3]=Math.floor(Q[3]),$}function qF1($,Q,J){return $[0]=Math.min(Q[0],J[0]),$[1]=Math.min(Q[1],J[1]),$[2]=Math.min(Q[2],J[2]),$[3]=Math.min(Q[3],J[3]),$}function XF1($,Q,J){return $[0]=Math.max(Q[0],J[0]),$[1]=Math.max(Q[1],J[1]),$[2]=Math.max(Q[2],J[2]),$[3]=Math.max(Q[3],J[3]),$}function WF1($,Q){return $[0]=P$(Q[0]),$[1]=P$(Q[1]),$[2]=P$(Q[2]),$[3]=P$(Q[3]),$}function mG0($,Q,J){return $[0]=Q[0]*J,$[1]=Q[1]*J,$[2]=Q[2]*J,$[3]=Q[3]*J,$}function FF1($,Q,J,K){return $[0]=Q[0]+J[0]*K,$[1]=Q[1]+J[1]*K,$[2]=Q[2]+J[2]*K,$[3]=Q[3]+J[3]*K,$}function pG0($,Q){let J=Q[0]-$[0],K=Q[1]-$[1],Y=Q[2]-$[2],Z=Q[3]-$[3];return Math.sqrt(J*J+K*K+Y*Y+Z*Z)}function dG0($,Q){let J=Q[0]-$[0],K=Q[1]-$[1],Y=Q[2]-$[2],Z=Q[3]-$[3];return J*J+K*K+Y*Y+Z*Z}function on($){let Q=$[0],J=$[1],K=$[2],Y=$[3];return Math.sqrt(Q*Q+J*J+K*K+Y*Y)}function an($){let Q=$[0],J=$[1],K=$[2],Y=$[3];return Q*Q+J*J+K*K+Y*Y}function UF1($,Q){return $[0]=-Q[0],$[1]=-Q[1],$[2]=-Q[2],$[3]=-Q[3],$}function HF1($,Q){return $[0]=1/Q[0],$[1]=1/Q[1],$[2]=1/Q[2],$[3]=1/Q[3],$}function tn($,Q){let J=Q[0],K=Q[1],Y=Q[2],Z=Q[3],q=J*J+K*K+Y*Y+Z*Z;if(q>0)q=1/Math.sqrt(q);return $[0]=J*q,$[1]=K*q,$[2]=Y*q,$[3]=Z*q,$}function nG0($,Q){return $[0]*Q[0]+$[1]*Q[1]+$[2]*Q[2]+$[3]*Q[3]}function NF1($,Q,J,K){let Y=J[0]*K[1]-J[1]*K[0],Z=J[0]*K[2]-J[2]*K[0],q=J[0]*K[3]-J[3]*K[0],X=J[1]*K[2]-J[2]*K[1],W=J[1]*K[3]-J[3]*K[1],F=J[2]*K[3]-J[3]*K[2],H=Q[0],B=Q[1],z=Q[2],A=Q[3];return $[0]=B*F-z*W+A*X,$[1]=-(H*F)+z*q-A*Z,$[2]=H*W-B*q+A*Y,$[3]=-(H*X)+B*Z-z*Y,$}function lG0($,Q,J,K){let Y=Q[0],Z=Q[1],q=Q[2],X=Q[3];return $[0]=Y+K*(J[0]-Y),$[1]=Z+K*(J[1]-Z),$[2]=q+K*(J[2]-q),$[3]=X+K*(J[3]-X),$}function BF1($,Q){Q=Q===void 0?1:Q;let J,K,Y,Z,q,X;do J=UK()*2-1,K=UK()*2-1,q=J*J+K*K;while(q>=1);do Y=UK()*2-1,Z=UK()*2-1,X=Y*Y+Z*Z;while(X>=1);let W=Math.sqrt((1-q)/X);return $[0]=Q*J,$[1]=Q*K,$[2]=Q*Y*W,$[3]=Q*Z*W,$}function en($,Q,J){let K=Q[0],Y=Q[1],Z=Q[2],q=Q[3];return $[0]=J[0]*K+J[4]*Y+J[8]*Z+J[12]*q,$[1]=J[1]*K+J[5]*Y+J[9]*Z+J[13]*q,$[2]=J[2]*K+J[6]*Y+J[10]*Z+J[14]*q,$[3]=J[3]*K+J[7]*Y+J[11]*Z+J[15]*q,$}function zF1($,Q,J){let K=Q[0],Y=Q[1],Z=Q[2],q=J[0],X=J[1],W=J[2],F=J[3],H=F*K+X*Z-W*Y,B=F*Y+W*K-q*Z,z=F*Z+q*Y-X*K,A=-q*K-X*Y-W*Z;return $[0]=H*F+A*-q+B*-W-z*-X,$[1]=B*F+A*-X+z*-q-H*-W,$[2]=z*F+A*-W+H*-X-B*-q,$[3]=Q[3],$}function AF1($){return $[0]=0,$[1]=0,$[2]=0,$[3]=0,$}function VF1($){return`vec4(${$[0]}, ${$[1]}, ${$[2]}, ${$[3]})`}function rG0($,Q){return $[0]===Q[0]&&$[1]===Q[1]&&$[2]===Q[2]&&$[3]===Q[3]}function RF1($,Q){let J=$[0],K=$[1],Y=$[2],Z=$[3],q=Q[0],X=Q[1],W=Q[2],F=Q[3];return Math.abs(J-q)<=m5*Math.max(1,Math.abs(J),Math.abs(q))&&Math.abs(K-X)<=m5*Math.max(1,Math.abs(K),Math.abs(X))&&Math.abs(Y-W)<=m5*Math.max(1,Math.abs(Y),Math.abs(W))&&Math.abs(Z-F)<=m5*Math.max(1,Math.abs(Z),Math.abs(F))}var GF1,OF1,wF1,TF1,DF1,CF1,PF1,kF1;var OE=h(()=>{WF();GF1=xG0,OF1=cG0,wF1=uG0,TF1=pG0,DF1=dG0,CF1=on,PF1=an,kF1=function(){let $=fG0();return function(Q,J,K,Y,Z,q){let X,W;if(!J)J=4;if(!K)K=0;if(Y)W=Math.min(Y*J+K,Q.length);else W=Q.length;for(X=K;X<W;X+=J)$[0]=Q[X],$[1]=Q[X+1],$[2]=Q[X+2],$[3]=Q[X+3],Z($,$,q),Q[X]=$[0],Q[X+1]=$[1],Q[X+2]=$[2],Q[X+3]=$[3];return Q}}()});function hF1(){if(!wE)wE=new B4([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(wE);return wE}function vF1(){if(!TE)TE=new B4,Object.freeze(TE);return TE}function iG0($){if($>Math.PI*2)throw Error("expected radians")}function SF1($,Q,J,K,Y,Z){let q=2*Z/(J-Q),X=2*Z/(Y-K),W=(J+Q)/(J-Q),F=(Y+K)/(Y-K),H=-1,B=-1,z=-2*Z;return $[0]=q,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=X,$[6]=0,$[7]=0,$[8]=W,$[9]=F,$[10]=-1,$[11]=-1,$[12]=0,$[13]=0,$[14]=z,$[15]=0,$}var Jl,jF1,EF1=1,$l=0.1,Ql=500,LF1,B4,wE,TE;var sG0=h(()=>{PG0();aG();sn();Dn();$O();OE();(function($){$[$.COL0ROW0=0]="COL0ROW0",$[$.COL0ROW1=1]="COL0ROW1",$[$.COL0ROW2=2]="COL0ROW2",$[$.COL0ROW3=3]="COL0ROW3",$[$.COL1ROW0=4]="COL1ROW0",$[$.COL1ROW1=5]="COL1ROW1",$[$.COL1ROW2=6]="COL1ROW2",$[$.COL1ROW3=7]="COL1ROW3",$[$.COL2ROW0=8]="COL2ROW0",$[$.COL2ROW1=9]="COL2ROW1",$[$.COL2ROW2=10]="COL2ROW2",$[$.COL2ROW3=11]="COL2ROW3",$[$.COL3ROW0=12]="COL3ROW0",$[$.COL3ROW1=13]="COL3ROW1",$[$.COL3ROW2=14]="COL3ROW2",$[$.COL3ROW3=15]="COL3ROW3"})(Jl||(Jl={}));jF1=45*Math.PI/180,LF1=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);B4=class B4 extends _n{static get IDENTITY(){return vF1()}static get ZERO(){return hF1()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return Jl}constructor($){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0);if(arguments.length===1&&Array.isArray($))this.copy($);else this.identity()}copy($){return this[0]=$[0],this[1]=$[1],this[2]=$[2],this[3]=$[3],this[4]=$[4],this[5]=$[5],this[6]=$[6],this[7]=$[7],this[8]=$[8],this[9]=$[9],this[10]=$[10],this[11]=$[11],this[12]=$[12],this[13]=$[13],this[14]=$[14],this[15]=$[15],this.check()}set($,Q,J,K,Y,Z,q,X,W,F,H,B,z,A,R,G){return this[0]=$,this[1]=Q,this[2]=J,this[3]=K,this[4]=Y,this[5]=Z,this[6]=q,this[7]=X,this[8]=W,this[9]=F,this[10]=H,this[11]=B,this[12]=z,this[13]=A,this[14]=R,this[15]=G,this.check()}setRowMajor($,Q,J,K,Y,Z,q,X,W,F,H,B,z,A,R,G){return this[0]=$,this[1]=Y,this[2]=W,this[3]=z,this[4]=Q,this[5]=Z,this[6]=F,this[7]=A,this[8]=J,this[9]=q,this[10]=H,this[11]=R,this[12]=K,this[13]=X,this[14]=B,this[15]=G,this.check()}toRowMajor($){return $[0]=this[0],$[1]=this[4],$[2]=this[8],$[3]=this[12],$[4]=this[1],$[5]=this[5],$[6]=this[9],$[7]=this[13],$[8]=this[2],$[9]=this[6],$[10]=this[10],$[11]=this[14],$[12]=this[3],$[13]=this[7],$[14]=this[11],$[15]=this[15],$}identity(){return this.copy(LF1)}fromObject($){return this.check()}fromQuaternion($){return pn(this,$),this.check()}frustum($){let{left:Q,right:J,bottom:K,top:Y,near:Z=$l,far:q=Ql}=$;if(q===1/0)SF1(this,Q,J,K,Y,Z);else dn(this,Q,J,K,Y,Z,q);return this.check()}lookAt($){let{eye:Q,center:J=[0,0,0],up:K=[0,1,0]}=$;return rn(this,Q,J,K),this.check()}ortho($){let{left:Q,right:J,bottom:K,top:Y,near:Z=$l,far:q=Ql}=$;return ln(this,Q,J,K,Y,Z,q),this.check()}orthographic($){let{fovy:Q=jF1,aspect:J=EF1,focalDistance:K=1,near:Y=$l,far:Z=Ql}=$;iG0(Q);let q=Q/2,X=K*Math.tan(q),W=X*J;return this.ortho({left:-W,right:W,bottom:-X,top:X,near:Y,far:Z})}perspective($){let{fovy:Q=45*Math.PI/180,aspect:J=1,near:K=0.1,far:Y=500}=$;return iG0(Q),nn(this,Q,J,K,Y),this.check()}determinant(){return bn(this)}getScale($=[-0,-0,-0]){return $[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),$[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),$[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),$}getTranslation($=[-0,-0,-0]){return $[0]=this[12],$[1]=this[13],$[2]=this[14],$}getRotation($,Q){$=$||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],Q=Q||[-0,-0,-0];let J=this.getScale(Q),K=1/J[0],Y=1/J[1],Z=1/J[2];return $[0]=this[0]*K,$[1]=this[1]*Y,$[2]=this[2]*Z,$[3]=0,$[4]=this[4]*K,$[5]=this[5]*Y,$[6]=this[6]*Z,$[7]=0,$[8]=this[8]*K,$[9]=this[9]*Y,$[10]=this[10]*Z,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}getRotationMatrix3($,Q){$=$||[-0,-0,-0,-0,-0,-0,-0,-0,-0],Q=Q||[-0,-0,-0];let J=this.getScale(Q),K=1/J[0],Y=1/J[1],Z=1/J[2];return $[0]=this[0]*K,$[1]=this[1]*Y,$[2]=this[2]*Z,$[3]=this[4]*K,$[4]=this[5]*Y,$[5]=this[6]*Z,$[6]=this[8]*K,$[7]=this[9]*Y,$[8]=this[10]*Z,$}transpose(){return In(this,this),this.check()}invert(){return Mn(this,this),this.check()}multiplyLeft($){return QO(this,$,this),this.check()}multiplyRight($){return QO(this,this,$),this.check()}rotateX($){return cn(this,this,$),this.check()}rotateY($){return un(this,this,$),this.check()}rotateZ($){return mn(this,this,$),this.check()}rotateXYZ($){return this.rotateX($[0]).rotateY($[1]).rotateZ($[2])}rotateAxis($,Q){return xn(this,this,$,Q),this.check()}scale($){return yn(this,this,Array.isArray($)?$:[$,$,$]),this.check()}translate($){return gn(this,this,$),this.check()}transform($,Q){if($.length===4)return Q=en(Q||[-0,-0,-0,-0],$,this),zE(Q,4),Q;return this.transformAsPoint($,Q)}transformAsPoint($,Q){let{length:J}=$,K;switch(J){case 2:K=Tn(Q||[-0,-0],$,this);break;case 3:K=eG(Q||[-0,-0,-0],$,this);break;default:throw Error("Illegal vector")}return zE(K,$.length),K}transformAsVector($,Q){let J;switch($.length){case 2:J=zG0(Q||[-0,-0],$,this);break;case 3:J=AE(Q||[-0,-0,-0],$,this);break;default:throw Error("Illegal vector")}return zE(J,$.length),J}transformPoint($,Q){return this.transformAsPoint($,Q)}transformVector($,Q){return this.transformAsPoint($,Q)}transformDirection($,Q){return this.transformAsVector($,Q)}makeRotationX($){return this.identity().rotateX($)}makeTranslation($,Q,J){return this.identity().translate([$,Q,J])}}});function oG0(){let $=new L6(4);if(L6!=Float32Array)$[0]=0,$[1]=0,$[2]=0;return $[3]=1,$}function _F1($,Q,J){J=J*0.5;let K=Math.sin(J);return $[0]=K*Q[0],$[1]=K*Q[1],$[2]=K*Q[2],$[3]=Math.cos(J),$}function Kl($,Q,J,K){let Y=Q[0],Z=Q[1],q=Q[2],X=Q[3],W=J[0],F=J[1],H=J[2],B=J[3],z,A,R,G,O;if(z=Y*W+Z*F+q*H+X*B,z<0)z=-z,W=-W,F=-F,H=-H,B=-B;if(1-z>m5)A=Math.acos(z),O=Math.sin(A),R=Math.sin((1-K)*A)/O,G=Math.sin(K*A)/O;else R=1-K,G=K;return $[0]=R*Y+G*W,$[1]=R*Z+G*F,$[2]=R*q+G*H,$[3]=R*X+G*B,$}function fF1($,Q){let J=Q[0]+Q[4]+Q[8],K;if(J>0)K=Math.sqrt(J+1),$[3]=0.5*K,K=0.5/K,$[0]=(Q[5]-Q[7])*K,$[1]=(Q[6]-Q[2])*K,$[2]=(Q[1]-Q[3])*K;else{let Y=0;if(Q[4]>Q[0])Y=1;if(Q[8]>Q[Y*3+Y])Y=2;let Z=(Y+1)%3,q=(Y+2)%3;K=Math.sqrt(Q[Y*3+Y]-Q[Z*3+Z]-Q[q*3+q]+1),$[Y]=0.5*K,K=0.5/K,$[3]=(Q[Z*3+q]-Q[q*3+Z])*K,$[Z]=(Q[Z*3+Y]+Q[Y*3+Z])*K,$[q]=(Q[q*3+Y]+Q[Y*3+q])*K}return $}var aG0,rt1,it1,st1;var tG0=h(()=>{WF();fn();$O();OE();aG0=tn,rt1=function(){let $=VE(),Q=RE(1,0,0),J=RE(0,1,0);return function(K,Y,Z){let q=tG(Y,Z);if(q<-0.999999){if(FF($,Q,Y),vn($)<0.000001)FF($,J,Y);return Cn($,$),_F1(K,$,Math.PI),K}else if(q>0.999999)return K[0]=0,K[1]=0,K[2]=0,K[3]=1,K;return FF($,Y,Z),K[0]=$[0],K[1]=$[1],K[2]=$[2],K[3]=1+q,aG0(K,K)}}(),it1=function(){let $=oG0(),Q=oG0();return function(J,K,Y,Z,q,X){return Kl($,K,q,X),Kl(Q,Y,Z,X),Kl(J,$,Q,2*X*(1-X)),J}}(),st1=function(){let $=kG0();return function(Q,J,K,Y){return $[0]=K[0],$[3]=K[1],$[6]=K[2],$[1]=Y[0],$[4]=Y[1],$[7]=Y[2],$[2]=-J[0],$[5]=-J[1],$[8]=-J[2],aG0(Q,fF1(Q,$))}}()});var ot1,at1,tt1,et1;var eG0=h(()=>{ot1=Math.PI/2,at1=Math.PI/4,tt1=Math.PI/6,et1=Math.PI*2});var z4=h(()=>{CG0();sG0();eG0();AB();fn();sn();tG0();Dn();$O();OE()});function Yl($,Q=[],J=0){let K=Math.fround($),Y=$-K;return Q[J]=K,Q[J+1]=Y,Q}function $O0($){return $-Math.fround($)}function QO0($){let Q=new Float32Array(32);for(let J=0;J<4;++J)for(let K=0;K<4;++K){let Y=J*4+K;Yl($[K*4+J],Q,Y*2)}return Q}var Zl;var JO0=h(()=>{Zl={name:"fp32",vs:`#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND

// All these functions are for substituting tan() function from Intel GPU only
const float TWO_PI = 6.2831854820251465;
const float PI_2 = 1.5707963705062866;
const float PI_16 = 0.1963495463132858;

const float SIN_TABLE_0 = 0.19509032368659973;
const float SIN_TABLE_1 = 0.3826834261417389;
const float SIN_TABLE_2 = 0.5555702447891235;
const float SIN_TABLE_3 = 0.7071067690849304;

const float COS_TABLE_0 = 0.9807852506637573;
const float COS_TABLE_1 = 0.9238795042037964;
const float COS_TABLE_2 = 0.8314695954322815;
const float COS_TABLE_3 = 0.7071067690849304;

const float INVERSE_FACTORIAL_3 = 1.666666716337204e-01; // 1/3!
const float INVERSE_FACTORIAL_5 = 8.333333767950535e-03; // 1/5!
const float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04; // 1/7!
const float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06; // 1/9!

float sin_taylor_fp32(float a) {
  float r, s, t, x;

  if (a == 0.0) {
    return 0.0;
  }

  x = -a * a;
  s = a;
  r = a;

  r = r * x;
  t = r * INVERSE_FACTORIAL_3;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_5;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_7;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_9;
  s = s + t;

  return s;
}

void sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {
  if (a == 0.0) {
    sin_t = 0.0;
    cos_t = 1.0;
  }
  sin_t = sin_taylor_fp32(a);
  cos_t = sqrt(1.0 - sin_t * sin_t);
}

float tan_taylor_fp32(float a) {
    float sin_a;
    float cos_a;

    if (a == 0.0) {
        return 0.0;
    }

    // 2pi range reduction
    float z = floor(a / TWO_PI);
    float r = a - TWO_PI * z;

    float t;
    float q = floor(r / PI_2 + 0.5);
    int j = int(q);

    if (j < -2 || j > 2) {
        return 1.0 / 0.0;
    }

    t = r - PI_2 * q;

    q = floor(t / PI_16 + 0.5);
    int k = int(q);
    int abs_k = int(abs(float(k)));

    if (abs_k > 4) {
        return 1.0 / 0.0;
    } else {
        t = t - PI_16 * q;
    }

    float u = 0.0;
    float v = 0.0;

    float sin_t, cos_t;
    float s, c;
    sincos_taylor_fp32(t, sin_t, cos_t);

    if (k == 0) {
        s = sin_t;
        c = cos_t;
    } else {
        if (abs(float(abs_k) - 1.0) < 0.5) {
            u = COS_TABLE_0;
            v = SIN_TABLE_0;
        } else if (abs(float(abs_k) - 2.0) < 0.5) {
            u = COS_TABLE_1;
            v = SIN_TABLE_1;
        } else if (abs(float(abs_k) - 3.0) < 0.5) {
            u = COS_TABLE_2;
            v = SIN_TABLE_2;
        } else if (abs(float(abs_k) - 4.0) < 0.5) {
            u = COS_TABLE_3;
            v = SIN_TABLE_3;
        }
        if (k > 0) {
            s = u * sin_t + v * cos_t;
            c = u * cos_t - v * sin_t;
        } else {
            s = u * sin_t - v * cos_t;
            c = u * cos_t + v * sin_t;
        }
    }

    if (j == 0) {
        sin_a = s;
        cos_a = c;
    } else if (j == 1) {
        sin_a = c;
        cos_a = -s;
    } else if (j == -1) {
        sin_a = -c;
        cos_a = s;
    } else {
        sin_a = -s;
        cos_a = -c;
    }
    return sin_a / cos_a;
}
#endif

float tan_fp32(float a) {
#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND
  return tan_taylor_fp32(a);
#else
  return tan(a);
#endif
}
`}});var KO0=`
uniform fp64arithmeticUniforms {
  uniform float ONE;
} fp64;

/*
About LUMA_FP64_CODE_ELIMINATION_WORKAROUND

The purpose of this workaround is to prevent shader compilers from
optimizing away necessary arithmetic operations by swapping their sequences
or transform the equation to some 'equivalent' form.

The method is to multiply an artifical variable, ONE, which will be known to
the compiler to be 1 only at runtime. The whole expression is then represented
as a polynomial with respective to ONE. In the coefficients of all terms, only one a
and one b should appear

err = (a + b) * ONE^6 - a * ONE^5 - (a + b) * ONE^4 + a * ONE^3 - b - (a + b) * ONE^2 + a * ONE
*/

// Divide float number to high and low floats to extend fraction bits
vec2 split(float a) {
  const float SPLIT = 4097.0;
  float t = a * SPLIT;
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float a_hi = t * fp64.ONE - (t - a);
  float a_lo = a * fp64.ONE - a_hi;
#else
  float a_hi = t - (t - a);
  float a_lo = a - a_hi;
#endif
  return vec2(a_hi, a_lo);
}

// Divide float number again when high float uses too many fraction bits
vec2 split2(vec2 a) {
  vec2 b = split(a.x);
  b.y += a.y;
  return b;
}

// Special sum operation when a > b
vec2 quickTwoSum(float a, float b) {
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float sum = (a + b) * fp64.ONE;
  float err = b - (sum - a) * fp64.ONE;
#else
  float sum = a + b;
  float err = b - (sum - a);
#endif
  return vec2(sum, err);
}

// General sum operation
vec2 twoSum(float a, float b) {
  float s = (a + b);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float v = (s * fp64.ONE - a) * fp64.ONE;
  float err = (a - (s - v) * fp64.ONE) * fp64.ONE * fp64.ONE * fp64.ONE + (b - v);
#else
  float v = s - a;
  float err = (a - (s - v)) + (b - v);
#endif
  return vec2(s, err);
}

vec2 twoSub(float a, float b) {
  float s = (a - b);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float v = (s * fp64.ONE - a) * fp64.ONE;
  float err = (a - (s - v) * fp64.ONE) * fp64.ONE * fp64.ONE * fp64.ONE - (b + v);
#else
  float v = s - a;
  float err = (a - (s - v)) - (b + v);
#endif
  return vec2(s, err);
}

vec2 twoSqr(float a) {
  float prod = a * a;
  vec2 a_fp64 = split(a);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float err = ((a_fp64.x * a_fp64.x - prod) * fp64.ONE + 2.0 * a_fp64.x *
    a_fp64.y * fp64.ONE * fp64.ONE) + a_fp64.y * a_fp64.y * fp64.ONE * fp64.ONE * fp64.ONE;
#else
  float err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;
#endif
  return vec2(prod, err);
}

vec2 twoProd(float a, float b) {
  float prod = a * b;
  vec2 a_fp64 = split(a);
  vec2 b_fp64 = split(b);
  float err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +
    a_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;
  return vec2(prod, err);
}

vec2 sum_fp64(vec2 a, vec2 b) {
  vec2 s, t;
  s = twoSum(a.x, b.x);
  t = twoSum(a.y, b.y);
  s.y += t.x;
  s = quickTwoSum(s.x, s.y);
  s.y += t.y;
  s = quickTwoSum(s.x, s.y);
  return s;
}

vec2 sub_fp64(vec2 a, vec2 b) {
  vec2 s, t;
  s = twoSub(a.x, b.x);
  t = twoSub(a.y, b.y);
  s.y += t.x;
  s = quickTwoSum(s.x, s.y);
  s.y += t.y;
  s = quickTwoSum(s.x, s.y);
  return s;
}

vec2 mul_fp64(vec2 a, vec2 b) {
  vec2 prod = twoProd(a.x, b.x);
  // y component is for the error
  prod.y += a.x * b.y;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  prod = split2(prod);
#endif
  prod = quickTwoSum(prod.x, prod.y);
  prod.y += a.y * b.x;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  prod = split2(prod);
#endif
  prod = quickTwoSum(prod.x, prod.y);
  return prod;
}

vec2 div_fp64(vec2 a, vec2 b) {
  float xn = 1.0 / b.x;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  vec2 yn = mul_fp64(a, vec2(xn, 0));
#else
  vec2 yn = a * xn;
#endif
  float diff = (sub_fp64(a, mul_fp64(b, yn))).x;
  vec2 prod = twoProd(xn, diff);
  return sum_fp64(yn, prod);
}

vec2 sqrt_fp64(vec2 a) {
  if (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);
  if (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);

  float x = 1.0 / sqrt(a.x);
  float yn = a.x * x;
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  vec2 yn_sqr = twoSqr(yn) * fp64.ONE;
#else
  vec2 yn_sqr = twoSqr(yn);
#endif
  float diff = sub_fp64(a, yn_sqr).x;
  vec2 prod = twoProd(x * 0.5, diff);
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  return sum_fp64(split(yn), prod);
#else
  return sum_fp64(vec2(yn, 0.0), prod);
#endif
}
`;var bF1,ql;var YO0=h(()=>{bF1={ONE:1},ql={name:"fp64arithmetic",vs:KO0,defaultUniforms:bF1,uniformTypes:{ONE:"f32"},fp64ify:Yl,fp64LowPart:$O0,fp64ifyMatrix4:QO0}});function yF1($={},Q){let J={};if($.highlightedObjectColor===void 0);else if($.highlightedObjectColor===null)J.isHighlightActive=!1;else{J.isHighlightActive=!0;let K=$.highlightedObjectColor.slice(0,3);J.highlightedObjectColor=K}if($.highlightColor){let K=Array.from($.highlightColor,(Y)=>Y/255);if(!Number.isFinite(K[3]))K[3]=1;J.highlightColor=K}if($.isActive!==void 0)J.isActive=Boolean($.isActive),J.isAttribute=Boolean($.isAttribute);if($.useFloatColors!==void 0)J.useFloatColors=Boolean($.useFloatColors);return J}var gF1,DE;var ZO0=h(()=>{gF1=[0,1,1,1],DE={props:{},uniforms:{},name:"picking",uniformTypes:{isActive:"f32",isAttribute:"f32",isHighlightActive:"f32",useFloatColors:"f32",highlightedObjectColor:"vec3<f32>",highlightColor:"vec4<f32>"},defaultUniforms:{isActive:!1,isAttribute:!1,isHighlightActive:!1,useFloatColors:!0,highlightedObjectColor:[0,0,0],highlightColor:gF1},vs:`uniform pickingUniforms {
  float isActive;
  float isAttribute;
  float isHighlightActive;
  float useFloatColors;
  vec3 highlightedObjectColor;
  vec4 highlightColor;
} picking;

out vec4 picking_vRGBcolor_Avalid;

// Normalize unsigned byte color to 0-1 range
vec3 picking_normalizeColor(vec3 color) {
  return picking.useFloatColors > 0.5 ? color : color / 255.0;
}

// Normalize unsigned byte color to 0-1 range
vec4 picking_normalizeColor(vec4 color) {
  return picking.useFloatColors > 0.5 ? color : color / 255.0;
}

bool picking_isColorZero(vec3 color) {
  return dot(color, vec3(1.0)) < 0.00001;
}

bool picking_isColorValid(vec3 color) {
  return dot(color, vec3(1.0)) > 0.00001;
}

// Check if this vertex is highlighted 
bool isVertexHighlighted(vec3 vertexColor) {
  vec3 highlightedObjectColor = picking_normalizeColor(picking.highlightedObjectColor);
  return
    bool(picking.isHighlightActive) && picking_isColorZero(abs(vertexColor - highlightedObjectColor));
}

// Set the current picking color
void picking_setPickingColor(vec3 pickingColor) {
  pickingColor = picking_normalizeColor(pickingColor);

  if (bool(picking.isActive)) {
    // Use alpha as the validity flag. If pickingColor is [0, 0, 0] fragment is non-pickable
    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));

    if (!bool(picking.isAttribute)) {
      // Stores the picking color so that the fragment shader can render it during picking
      picking_vRGBcolor_Avalid.rgb = pickingColor;
    }
  } else {
    // Do the comparison with selected item color in vertex shader as it should mean fewer compares
    picking_vRGBcolor_Avalid.a = float(isVertexHighlighted(pickingColor));
  }
}

void picking_setPickingAttribute(float value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.r = value;
  }
}

void picking_setPickingAttribute(vec2 value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.rg = value;
  }
}

void picking_setPickingAttribute(vec3 value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.rgb = value;
  }
}
`,fs:`uniform pickingUniforms {
  float isActive;
  float isAttribute;
  float isHighlightActive;
  float useFloatColors;
  vec3 highlightedObjectColor;
  vec4 highlightColor;
} picking;

in vec4 picking_vRGBcolor_Avalid;

/*
 * Returns highlight color if this item is selected.
 */
vec4 picking_filterHighlightColor(vec4 color) {
  // If we are still picking, we don't highlight
  if (picking.isActive > 0.5) {
    return color;
  }

  bool selected = bool(picking_vRGBcolor_Avalid.a);

  if (selected) {
    // Blend in highlight color based on its alpha value
    float highLightAlpha = picking.highlightColor.a;
    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);
    float highLightRatio = highLightAlpha / blendedAlpha;

    vec3 blendedRGB = mix(color.rgb, picking.highlightColor.rgb, highLightRatio);
    return vec4(blendedRGB, blendedAlpha);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 picking_filterPickingColor(vec4 color) {
  if (bool(picking.isActive)) {
    if (picking_vRGBcolor_Avalid.a == 0.0) {
      discard;
    }
    return picking_vRGBcolor_Avalid;
  }
  return color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 picking_filterColor(vec4 color) {
  vec4 highlightColor = picking_filterHighlightColor(color);
  return picking_filterPickingColor(highlightColor);
}
`,getUniforms:yF1}});var Xl=`precision highp int;

// #if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))
struct AmbientLight {
  vec3 color;
};

struct PointLight {
  vec3 color;
  vec3 position;
  vec3 attenuation; // 2nd order x:Constant-y:Linear-z:Exponential
};

struct DirectionalLight {
  vec3 color;
  vec3 direction;
};

uniform lightingUniforms {
  int enabled;
  int lightType;

  int directionalLightCount;
  int pointLightCount;

  vec3 ambientColor;

  vec3 lightColor0;
  vec3 lightPosition0;
  vec3 lightDirection0;
  vec3 lightAttenuation0;

  vec3 lightColor1;
  vec3 lightPosition1;
  vec3 lightDirection1;
  vec3 lightAttenuation1;

  vec3 lightColor2;
  vec3 lightPosition2;
  vec3 lightDirection2;
  vec3 lightAttenuation2;
} lighting;

PointLight lighting_getPointLight(int index) {
  switch (index) {
    case 0:
      return PointLight(lighting.lightColor0, lighting.lightPosition0, lighting.lightAttenuation0);
    case 1:
      return PointLight(lighting.lightColor1, lighting.lightPosition1, lighting.lightAttenuation1);
    case 2:
    default:  
      return PointLight(lighting.lightColor2, lighting.lightPosition2, lighting.lightAttenuation2);
  }
}

DirectionalLight lighting_getDirectionalLight(int index) {
  switch (index) {
    case 0:
      return DirectionalLight(lighting.lightColor0, lighting.lightDirection0);
    case 1:
      return DirectionalLight(lighting.lightColor1, lighting.lightDirection1);
    case 2:
    default:   
      return DirectionalLight(lighting.lightColor2, lighting.lightDirection2);
  }
} 

float getPointLightAttenuation(PointLight pointLight, float distance) {
  return pointLight.attenuation.x
       + pointLight.attenuation.y * distance
       + pointLight.attenuation.z * distance * distance;
}

// #endif
`;var qO0=`// #if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))
struct AmbientLight {
  color: vec3<f32>,
};

struct PointLight {
  color: vec3<f32>,
  position: vec3<f32>,
  attenuation: vec3<f32>, // 2nd order x:Constant-y:Linear-z:Exponential
};

struct DirectionalLight {
  color: vec3<f32>,
  direction: vec3<f32>,
};

struct lightingUniforms {
  enabled: i32,
  pointLightCount: i32,
  directionalLightCount: i32,

  ambientColor: vec3<f32>,

  // TODO - support multiple lights by uncommenting arrays below
  lightType: i32,
  lightColor: vec3<f32>,
  lightDirection: vec3<f32>,
  lightPosition: vec3<f32>,
  lightAttenuation: vec3<f32>,

  // AmbientLight ambientLight;
  // PointLight pointLight[MAX_LIGHTS];
  // DirectionalLight directionalLight[MAX_LIGHTS];
};

// Binding 0:1 is reserved for lighting (Note: could go into separate bind group as it is stable across draw calls)
@binding(1) @group(0) var<uniform> lighting : lightingUniforms;

fn lighting_getPointLight(index: i32) -> PointLight {
  return PointLight(lighting.lightColor, lighting.lightPosition, lighting.lightAttenuation);
}

fn lighting_getDirectionalLight(index: i32) -> DirectionalLight {
  return DirectionalLight(lighting.lightColor, lighting.lightDirection);
} 

fn getPointLightAttenuation(pointLight: PointLight, distance: f32) -> f32 {
  return pointLight.attenuation.x
       + pointLight.attenuation.y * distance
       + pointLight.attenuation.z * distance * distance;
}
`;function cF1($,Q={}){if($=$?{...$}:$,!$)return{...JO.defaultUniforms};if($.lights)$={...$,...mF1($.lights),lights:void 0};let{ambientLight:J,pointLights:K,directionalLights:Y}=$||{};if(!(J||K&&K.length>0||Y&&Y.length>0))return{...JO.defaultUniforms,enabled:0};let q={...JO.defaultUniforms,...Q,...uF1({ambientLight:J,pointLights:K,directionalLights:Y})};if($.enabled!==void 0)q.enabled=$.enabled?1:0;return q}function uF1({ambientLight:$,pointLights:Q=[],directionalLights:J=[]}){let K={};K.ambientLightColor=Wl($);let Y=0;for(let Z of Q){K.lightType=KO.POINT;let q=Y;K[`lightColor${q}`]=Wl(Z),K[`lightPosition${q}`]=Z.position,K[`lightAttenuation${q}`]=Z.attenuation||[1,0,0],Y++}for(let Z of J){K.lightType=KO.DIRECTIONAL;let q=Y;K[`lightColor${q}`]=Wl(Z),K[`lightDirection${q}`]=Z.direction,Y++}if(Y>XO0)u0.warn("MAX_LIGHTS exceeded")();return K.directionalLightCount=J.length,K.pointLightCount=Q.length,K}function mF1($){let Q={pointLights:[],directionalLights:[]};for(let J of $||[])switch(J.type){case"ambient":Q.ambientLight=J;break;case"directional":Q.directionalLights?.push(J);break;case"point":Q.pointLights?.push(J);break;default:}return Q}function Wl($={}){let{color:Q=[0,0,0],intensity:J=1}=$;return Q.map((K)=>K*J/xF1)}var XO0=3,xF1=255,KO,JO;var WO0=h(()=>{v5();(function($){$[$.POINT=0]="POINT",$[$.DIRECTIONAL=1]="DIRECTIONAL"})(KO||(KO={}));JO={props:{},uniforms:{},name:"lighting",defines:{MAX_LIGHTS:XO0},uniformTypes:{enabled:"i32",lightType:"i32",directionalLightCount:"i32",pointLightCount:"i32",ambientLightColor:"vec3<f32>",lightColor0:"vec3<f32>",lightPosition0:"vec3<f32>",lightDirection0:"vec3<f32>",lightAttenuation0:"vec3<f32>",lightColor1:"vec3<f32>",lightPosition1:"vec3<f32>",lightDirection1:"vec3<f32>",lightAttenuation1:"vec3<f32>",lightColor2:"vec3<f32>",lightPosition2:"vec3<f32>",lightDirection2:"vec3<f32>",lightAttenuation2:"vec3<f32>"},defaultUniforms:{enabled:1,lightType:KO.POINT,directionalLightCount:0,pointLightCount:0,ambientLightColor:[0.1,0.1,0.1],lightColor0:[1,1,1],lightPosition0:[1,1,2],lightDirection0:[1,1,1],lightAttenuation0:[1,0,0],lightColor1:[1,1,1],lightPosition1:[1,1,2],lightDirection1:[1,1,1],lightAttenuation1:[1,0,0],lightColor2:[1,1,1],lightPosition2:[1,1,2],lightDirection2:[1,1,1],lightAttenuation2:[1,0,0]},source:qO0,vs:Xl,fs:Xl,getUniforms:cF1}});var FO0=`uniform phongMaterialUniforms {
  uniform float ambient;
  uniform float diffuse;
  uniform float shininess;
  uniform vec3  specularColor;
} material;
`,UO0=`uniform phongMaterialUniforms {
  uniform float ambient;
  uniform float diffuse;
  uniform float shininess;
  uniform vec3  specularColor;
} material;

vec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {
  vec3 halfway_direction = normalize(light_direction + view_direction);
  float lambertian = dot(light_direction, normal_worldspace);
  float specular = 0.0;
  if (lambertian > 0.0) {
    float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);
    specular = pow(specular_angle, material.shininess);
  }
  lambertian = max(lambertian, 0.0);
  return (lambertian * material.diffuse * surfaceColor + specular * material.specularColor) * color;
}

vec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {
  vec3 lightColor = surfaceColor;

  if (lighting.enabled == 0) {
    return lightColor;
  }

  vec3 view_direction = normalize(cameraPosition - position_worldspace);
  lightColor = material.ambient * surfaceColor * lighting.ambientColor;

  for (int i = 0; i < lighting.pointLightCount; i++) {
    PointLight pointLight = lighting_getPointLight(i);
    vec3 light_position_worldspace = pointLight.position;
    vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
    float light_attenuation = getPointLightAttenuation(pointLight, distance(light_position_worldspace, position_worldspace));
    lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color / light_attenuation);
  }

  int totalLights = min(MAX_LIGHTS, lighting.pointLightCount + lighting.directionalLightCount);
  for (int i = lighting.pointLightCount; i < totalLights; i++) {
    DirectionalLight directionalLight = lighting_getDirectionalLight(i);
    lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
  }
  
  return lightColor;
}
`;var HO0=`struct phongMaterialUniforms {
  ambient: f32,
  diffuse: f32,
  shininess: f32,
  specularColor: vec3<f32>,
};

@binding(2) @group(0) var<uniform> phongMaterial : phongMaterialUniforms;

fn lighting_getLightColor(surfaceColor: vec3<f32>, light_direction: vec3<f32>, view_direction: vec3<f32>, normal_worldspace: vec3<f32>, color: vec3<f32>) -> vec3<f32> {
  let halfway_direction: vec3<f32> = normalize(light_direction + view_direction);
  var lambertian: f32 = dot(light_direction, normal_worldspace);
  var specular: f32 = 0.0;
  if (lambertian > 0.0) {
    let specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);
    specular = pow(specular_angle, phongMaterial.shininess);
  }
  lambertian = max(lambertian, 0.0);
  return (lambertian * phongMaterial.diffuse * surfaceColor + specular * phongMaterial.specularColor) * color;
}

fn lighting_getLightColor2(surfaceColor: vec3<f32>, cameraPosition: vec3<f32>, position_worldspace: vec3<f32>, normal_worldspace: vec3<f32>) -> vec3<f32> {
  var lightColor: vec3<f32> = surfaceColor;

  if (lighting.enabled == 0) {
    return lightColor;
  }

  let view_direction: vec3<f32> = normalize(cameraPosition - position_worldspace);
  lightColor = phongMaterial.ambient * surfaceColor * lighting.ambientColor;

  if (lighting.lightType == 0) {
    let pointLight: PointLight  = lighting_getPointLight(0);
    let light_position_worldspace: vec3<f32> = pointLight.position;
    let light_direction: vec3<f32> = normalize(light_position_worldspace - position_worldspace);
    lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
  } else if (lighting.lightType == 1) {
    var directionalLight: DirectionalLight = lighting_getDirectionalLight(0);
    lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
  }
  
  return lightColor;
  /*
  for (int i = 0; i < MAX_LIGHTS; i++) {
    if (i >= lighting.pointLightCount) {
      break;
    }
    PointLight pointLight = lighting.pointLight[i];
    vec3 light_position_worldspace = pointLight.position;
    vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
    lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
  }

  for (int i = 0; i < MAX_LIGHTS; i++) {
    if (i >= lighting.directionalLightCount) {
      break;
    }
    DirectionalLight directionalLight = lighting.directionalLight[i];
    lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
  }
  */
}

fn lighting_getSpecularLightColor(cameraPosition: vec3<f32>, position_worldspace: vec3<f32>, normal_worldspace: vec3<f32>) -> vec3<f32>{
  var lightColor = vec3<f32>(0, 0, 0);
  let surfaceColor = vec3<f32>(0, 0, 0);

  if (lighting.enabled == 0) {
    let view_direction = normalize(cameraPosition - position_worldspace);

    switch (lighting.lightType) {
      case 0, default: {
        let pointLight: PointLight = lighting_getPointLight(0);
        let light_position_worldspace: vec3<f32> = pointLight.position;
        let light_direction: vec3<f32> = normalize(light_position_worldspace - position_worldspace);
        lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
      }
      case 1: {
        let directionalLight: DirectionalLight = lighting_getDirectionalLight(0);
        lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
      }
    }
  }
  return lightColor;
}
`;var CE;var NO0=h(()=>{WO0();CE={props:{},name:"gouraudMaterial",vs:UO0.replace("phongMaterial","gouraudMaterial"),fs:FO0.replace("phongMaterial","gouraudMaterial"),source:HO0.replaceAll("phongMaterial","gouraudMaterial"),defines:{LIGHTING_VERTEX:1},dependencies:[JO],uniformTypes:{ambient:"f32",diffuse:"f32",shininess:"f32",specularColor:"vec3<f32>"},defaultUniforms:{ambient:0.35,diffuse:0.6,shininess:32,specularColor:[0.15,0.15,0.15]},getUniforms($){let Q={...$};if(Q.specularColor)Q.specularColor=Q.specularColor.map((J)=>J/255);return{...CE.defaultUniforms,...Q}}}});var aY=h(()=>{Gd();lV0();YG0();JO0();YO0();ZO0();NO0()});var Fl;var BO0=h(()=>{Fl={name:"layer",vs:`uniform layerUniforms {
  uniform float opacity;
} layer;
`,fs:`uniform layerUniforms {
  uniform float opacity;
} layer;
`,getUniforms:($)=>{return{opacity:Math.pow($.opacity,0.45454545454545453)}},uniformTypes:{opacity:"f32"}}});var PE;var Ul=h(()=>{PE={name:"geometry",source:`const SMOOTH_EDGE_RADIUS: f32 = 0.5;

struct VertexGeometry {
  position: vec4<f32>,
  worldPosition: vec3<f32>,
  worldPositionAlt: vec3<f32>,
  normal: vec3<f32>,
  uv: vec2<f32>,
  pickingColor: vec3<f32>,
};

var<private> geometry_: VertexGeometry = VertexGeometry(
  vec4<f32>(0.0, 0.0, 1.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec2<f32>(0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0)
);

struct FragmentGeometry {
  uv: vec2<f32>,
};

var<private> fragmentGeometry: FragmentGeometry;

fn smoothedge(edge: f32, x: f32) -> f32 {
  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);
}
`,vs:`#define SMOOTH_EDGE_RADIUS 0.5

struct VertexGeometry {
  vec4 position;
  vec3 worldPosition;
  vec3 worldPositionAlt;
  vec3 normal;
  vec2 uv;
  vec3 pickingColor;
} geometry = VertexGeometry(
  vec4(0.0, 0.0, 1.0, 0.0),
  vec3(0.0),
  vec3(0.0),
  vec3(0.0),
  vec2(0.0),
  vec3(0.0)
);
`,fs:`#define SMOOTH_EDGE_RADIUS 0.5

struct FragmentGeometry {
  vec2 uv;
} geometry;

float smoothedge(float edge, float x) {
  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);
}
`}});var zO0=25,A6,Q7;var A3=h(()=>{(function($){$[$.Start=1]="Start",$[$.Move=2]="Move",$[$.End=4]="End",$[$.Cancel=8]="Cancel"})(A6||(A6={}));(function($){$[$.None=0]="None",$[$.Left=1]="Left",$[$.Right=2]="Right",$[$.Up=4]="Up",$[$.Down=8]="Down",$[$.Horizontal=3]="Horizontal",$[$.Vertical=12]="Vertical",$[$.All=15]="All"})(Q7||(Q7={}))});var n1;var IQ=h(()=>{(function($){$[$.Possible=1]="Possible",$[$.Began=2]="Began",$[$.Changed=4]="Changed",$[$.Ended=8]="Ended",$[$.Recognized=8]="Recognized",$[$.Cancelled=16]="Cancelled",$[$.Failed=32]="Failed"})(n1||(n1={}))});var AO0="compute",Hl="auto",YO="manipulation",HF="none",ZO="pan-x",qO="pan-y";function Nl($){if($.includes(HF))return HF;let Q=$.includes(ZO),J=$.includes(qO);if(Q&&J)return HF;if(Q||J)return Q?ZO:qO;if($.includes(YO))return YO;return Hl}var VO0=()=>{};class kE{constructor($,Q){this.actions="",this.manager=$,this.set(Q)}set($){if($===AO0)$=this.compute();if(this.manager.element)this.manager.element.style.touchAction=$,this.actions=$}update(){this.set(this.manager.options.touchAction)}compute(){let $=[];for(let Q of this.manager.recognizers)if(Q.options.enable)$=$.concat(Q.getTouchAction());return Nl($.join(" "))}}var Bl=h(()=>{VO0()});function RB($){return $.trim().split(/\s+/g)}function jE($,Q,J){if(!$)return;for(let K of RB(Q))$.addEventListener(K,J,!1)}function EE($,Q,J){if(!$)return;for(let K of RB(Q))$.removeEventListener(K,J,!1)}var RO0=()=>{};function zl($){return($.ownerDocument||$).defaultView}function Al($,Q){let J=$;while(J){if(J===Q)return!0;J=J.parentNode}return!1}function LE($){let Q=$.length;if(Q===1)return{x:Math.round($[0].clientX),y:Math.round($[0].clientY)};let J=0,K=0,Y=0;while(Y<Q)J+=$[Y].clientX,K+=$[Y].clientY,Y++;return{x:Math.round(J/Q),y:Math.round(K/Q)}}function Vl($){let Q=[],J=0;while(J<$.pointers.length)Q[J]={clientX:Math.round($.pointers[J].clientX),clientY:Math.round($.pointers[J].clientY)},J++;return{timeStamp:Date.now(),pointers:Q,center:LE(Q),deltaX:$.deltaX,deltaY:$.deltaY}}var GO0=()=>{};function hE($,Q){let J=Q.x-$.x,K=Q.y-$.y;return Math.sqrt(J*J+K*K)}function Rl($,Q){let J=Q.clientX-$.clientX,K=Q.clientY-$.clientY;return Math.sqrt(J*J+K*K)}function OO0($,Q){let J=Q.x-$.x,K=Q.y-$.y;return Math.atan2(K,J)*180/Math.PI}function Gl($,Q){let J=Q.clientX-$.clientX,K=Q.clientY-$.clientY;return Math.atan2(K,J)*180/Math.PI}function vE($,Q){if($===Q)return Q7.None;if(Math.abs($)>=Math.abs(Q))return $<0?Q7.Left:Q7.Right;return Q<0?Q7.Up:Q7.Down}var Ol=h(()=>{A3()});function wO0($,Q){let J=Q.center,K=$.offsetDelta,Y=$.prevDelta,Z=$.prevInput;if(Q.eventType===A6.Start||Z?.eventType===A6.End)Y=$.prevDelta={x:Z?.deltaX||0,y:Z?.deltaY||0},K=$.offsetDelta={x:J.x,y:J.y};return{deltaX:Y.x+(J.x-K.x),deltaY:Y.y+(J.y-K.y)}}var TO0=h(()=>{A3()});function SE($,Q,J){return{x:Q/$||0,y:J/$||0}}function DO0($,Q){return Rl(Q[0],Q[1])/Rl($[0],$[1])}var CO0=()=>{};function PO0($,Q){return Gl(Q[1],Q[0])-Gl($[1],$[0])}var kO0=()=>{};function jO0($,Q){let J=$.lastInterval||Q,K=Q.timeStamp-J.timeStamp,Y,Z,q,X;if(Q.eventType!==A6.Cancel&&(K>zO0||J.velocity===void 0)){let W=Q.deltaX-J.deltaX,F=Q.deltaY-J.deltaY,H=SE(K,W,F);Z=H.x,q=H.y,Y=Math.abs(H.x)>Math.abs(H.y)?H.x:H.y,X=vE(W,F),$.lastInterval=Q}else Y=J.velocity,Z=J.velocityX,q=J.velocityY,X=J.direction;Q.velocity=Y,Q.velocityX=Z,Q.velocityY=q,Q.direction=X}var EO0=h(()=>{A3();Ol()});function LO0($,Q){let{session:J}=$,{pointers:K}=Q,{length:Y}=K;if(!J.firstInput)J.firstInput=Vl(Q);if(Y>1&&!J.firstMultiple)J.firstMultiple=Vl(Q);else if(Y===1)J.firstMultiple=!1;let{firstInput:Z,firstMultiple:q}=J,X=q?q.center:Z.center,W=Q.center=LE(K);Q.timeStamp=Date.now(),Q.deltaTime=Q.timeStamp-Z.timeStamp,Q.angle=OO0(X,W),Q.distance=hE(X,W);let{deltaX:F,deltaY:H}=wO0(J,Q);Q.deltaX=F,Q.deltaY=H,Q.offsetDirection=vE(Q.deltaX,Q.deltaY);let B=SE(Q.deltaTime,Q.deltaX,Q.deltaY);Q.overallVelocityX=B.x,Q.overallVelocityY=B.y,Q.overallVelocity=Math.abs(B.x)>Math.abs(B.y)?B.x:B.y,Q.scale=q?DO0(q.pointers,K):1,Q.rotation=q?PO0(q.pointers,K):0,Q.maxPointers=!J.prevInput?Q.pointers.length:Q.pointers.length>J.prevInput.maxPointers?Q.pointers.length:J.prevInput.maxPointers;let z=$.element;if(Al(Q.srcEvent.target,z))z=Q.srcEvent.target;return Q.target=z,jO0(J,Q),Q}var hO0=h(()=>{GO0();Ol();TO0();CO0();kO0();EO0()});function vO0($,Q,J){let K=J.pointers.length,Y=J.changedPointers.length,Z=Q&A6.Start&&K-Y===0,q=Q&(A6.End|A6.Cancel)&&K-Y===0;if(J.isFirst=Boolean(Z),J.isFinal=Boolean(q),Z)$.session={};J.eventType=Q;let X=LO0($,J);$.emit("hammer.input",X),$.recognize(X),$.session.prevInput=X}var SO0=h(()=>{A3();hO0()});class _E{constructor($){this.evEl="",this.evWin="",this.evTarget="",this.domHandler=(Q)=>{if(this.manager.options.enable)this.handler(Q)},this.manager=$,this.element=$.element,this.target=$.options.inputTarget||$.element}callback($,Q){vO0(this.manager,$,Q)}init(){jE(this.element,this.evEl,this.domHandler),jE(this.target,this.evTarget,this.domHandler),jE(zl(this.element),this.evWin,this.domHandler)}destroy(){EE(this.element,this.evEl,this.domHandler),EE(this.target,this.evTarget,this.domHandler),EE(zl(this.element),this.evWin,this.domHandler)}}var wl=h(()=>{RO0();SO0()});var pF1,dF1="pointerdown",nF1="pointermove pointerup pointercancel",fE;var Tl=h(()=>{A3();wl();pF1={pointerdown:A6.Start,pointermove:A6.Move,pointerup:A6.End,pointercancel:A6.Cancel,pointerout:A6.Cancel};fE=class fE extends _E{constructor($){super($);this.evEl=dF1,this.evWin=nF1,this.store=this.manager.session.pointerEvents=[],this.init()}handler($){let{store:Q}=this,J=!1,K=pF1[$.type],Y=$.pointerType,Z=Y==="touch",q=Q.findIndex((X)=>X.pointerId===$.pointerId);if(K&A6.Start&&($.buttons||Z)){if(q<0)Q.push($),q=Q.length-1}else if(K&(A6.End|A6.Cancel))J=!0;if(q<0)return;if(Q[q]=$,this.callback(K,{pointers:Q,changedPointers:[$],eventType:K,pointerType:Y,srcEvent:$}),J)Q.splice(q,1)}}});function _O0($,Q){let J=Q[0].toUpperCase()+Q.slice(1);for(let K of lF1){let Y=K?K+J:Q;if(Y in $)return Y}return}var lF1;var fO0=h(()=>{lF1=["","webkit","Moz","MS","ms","o"]});class IE{constructor($,Q){this.options={...MO0,...Q,cssProps:{...MO0.cssProps,...Q.cssProps},inputTarget:Q.inputTarget||$},this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=$,this.input=new fE(this),this.touchAction=new kE(this,this.options.touchAction),this.toggleCssProps(!0)}set($){if(Object.assign(this.options,$),$.touchAction)this.touchAction.update();if($.inputTarget)this.input.destroy(),this.input.target=$.inputTarget,this.input.init();return this}stop($){this.session.stopped=$?IO0:rF1}recognize($){let{session:Q}=this;if(Q.stopped)return;if(this.session.prevented)$.srcEvent.preventDefault();let J,{recognizers:K}=this,{curRecognizer:Y}=Q;if(!Y||Y&&Y.state&n1.Recognized)Y=Q.curRecognizer=null;let Z=0;while(Z<K.length){if(J=K[Z],Q.stopped!==IO0&&(!Y||J===Y||J.canRecognizeWith(Y)))J.recognize($);else J.reset();if(!Y&&J.state&(n1.Began|n1.Changed|n1.Ended))Y=Q.curRecognizer=J;Z++}}get($){let{recognizers:Q}=this;for(let J=0;J<Q.length;J++)if(Q[J].options.event===$)return Q[J];return null}add($){if(Array.isArray($)){for(let J of $)this.add(J);return this}let Q=this.get($.options.event);if(Q)this.remove(Q);return this.recognizers.push($),$.manager=this,this.touchAction.update(),$}remove($){if(Array.isArray($)){for(let J of $)this.remove(J);return this}let Q=typeof $==="string"?this.get($):$;if(Q){let{recognizers:J}=this,K=J.indexOf(Q);if(K!==-1)J.splice(K,1),this.touchAction.update()}return this}on($,Q){if(!$||!Q)return;let{handlers:J}=this;for(let K of RB($))J[K]=J[K]||[],J[K].push(Q)}off($,Q){if(!$)return;let{handlers:J}=this;for(let K of RB($))if(!Q)delete J[K];else if(J[K])J[K].splice(J[K].indexOf(Q),1)}emit($,Q){let J=this.handlers[$]&&this.handlers[$].slice();if(!J||!J.length)return;let K=Q;K.type=$,K.preventDefault=function(){Q.srcEvent.preventDefault()};let Y=0;while(Y<J.length)J[Y](K),Y++}destroy(){this.toggleCssProps(!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}toggleCssProps($){let{element:Q}=this;if(!Q)return;for(let[J,K]of Object.entries(this.options.cssProps)){let Y=_O0(Q.style,J);if($)this.oldCssProps[Y]=Q.style[Y],Q.style[Y]=K;else Q.style[Y]=this.oldCssProps[Y]||""}if(!$)this.oldCssProps={}}}var rF1=1,IO0=2,MO0;var bO0=h(()=>{Bl();Tl();fO0();IQ();MO0={touchAction:"compute",enable:!0,inputTarget:null,cssProps:{userSelect:"none",userDrag:"none",touchCallout:"none",tapHighlightColor:"rgba(0,0,0,0)"}}});function gO0(){return iF1++}var iF1=1;function Dl($){if($&n1.Cancelled)return"cancel";else if($&n1.Ended)return"end";else if($&n1.Changed)return"move";else if($&n1.Began)return"start";return""}var yO0=h(()=>{IQ()});class HX{constructor($){this.options=$,this.id=gO0(),this.state=n1.Possible,this.simultaneous={},this.requireFail=[]}set($){return Object.assign(this.options,$),this.manager.touchAction.update(),this}recognizeWith($){if(Array.isArray($)){for(let K of $)this.recognizeWith(K);return this}let Q;if(typeof $==="string"){if(Q=this.manager.get($),!Q)throw Error(`Cannot find recognizer ${$}`)}else Q=$;let{simultaneous:J}=this;if(!J[Q.id])J[Q.id]=Q,Q.recognizeWith(this);return this}dropRecognizeWith($){if(Array.isArray($)){for(let J of $)this.dropRecognizeWith(J);return this}let Q;if(typeof $==="string")Q=this.manager.get($);else Q=$;if(Q)delete this.simultaneous[Q.id];return this}requireFailure($){if(Array.isArray($)){for(let K of $)this.requireFailure(K);return this}let Q;if(typeof $==="string"){if(Q=this.manager.get($),!Q)throw Error(`Cannot find recognizer ${$}`)}else Q=$;let{requireFail:J}=this;if(J.indexOf(Q)===-1)J.push(Q),Q.requireFailure(this);return this}dropRequireFailure($){if(Array.isArray($)){for(let J of $)this.dropRequireFailure(J);return this}let Q;if(typeof $==="string")Q=this.manager.get($);else Q=$;if(Q){let J=this.requireFail.indexOf(Q);if(J>-1)this.requireFail.splice(J,1)}return this}hasRequireFailures(){return Boolean(this.requireFail.find(($)=>$.options.enable))}canRecognizeWith($){return Boolean(this.simultaneous[$.id])}emit($){if(!$)return;let{state:Q}=this;if(Q<n1.Ended)this.manager.emit(this.options.event+Dl(Q),$);if(this.manager.emit(this.options.event,$),$.additionalEvent)this.manager.emit($.additionalEvent,$);if(Q>=n1.Ended)this.manager.emit(this.options.event+Dl(Q),$)}tryEmit($){if(this.canEmit())this.emit($);else this.state=n1.Failed}canEmit(){let $=0;while($<this.requireFail.length){if(!(this.requireFail[$].state&(n1.Failed|n1.Possible)))return!1;$++}return!0}recognize($){let Q={...$};if(!this.options.enable){this.reset(),this.state=n1.Failed;return}if(this.state&(n1.Recognized|n1.Cancelled|n1.Failed))this.state=n1.Possible;if(this.state=this.process(Q),this.state&(n1.Began|n1.Changed|n1.Ended|n1.Cancelled))this.tryEmit(Q)}getEventNames(){return[this.options.event]}reset(){}}var XO=h(()=>{IQ();yO0()});var NX;var GB=h(()=>{XO();IQ();A3();NX=class NX extends HX{attrTest($){let Q=this.options.pointers;return Q===0||$.pointers.length===Q}process($){let{state:Q}=this,{eventType:J}=$,K=Q&(n1.Began|n1.Changed),Y=this.attrTest($);if(K&&(J&A6.Cancel||!Y))return Q|n1.Cancelled;else if(K||Y){if(J&A6.End)return Q|n1.Ended;else if(!(Q&n1.Began))return n1.Began;return Q|n1.Changed}return n1.Failed}}});var OB;var xO0=h(()=>{XO();A3();IQ();OB=class OB extends HX{constructor($={}){super({enable:!0,event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10,...$});this.pTime=null,this.pCenter=null,this._timer=null,this._input=null,this.count=0}getTouchAction(){return[YO]}process($){let{options:Q}=this,J=$.pointers.length===Q.pointers,K=$.distance<Q.threshold,Y=$.deltaTime<Q.time;if(this.reset(),$.eventType&A6.Start&&this.count===0)return this.failTimeout();if(K&&Y&&J){if($.eventType!==A6.End)return this.failTimeout();let Z=this.pTime?$.timeStamp-this.pTime<Q.interval:!0,q=!this.pCenter||hE(this.pCenter,$.center)<Q.posThreshold;if(this.pTime=$.timeStamp,this.pCenter=$.center,!q||!Z)this.count=1;else this.count+=1;if(this._input=$,this.count%Q.taps===0){if(!this.hasRequireFailures())return n1.Recognized;return this._timer=setTimeout(()=>{this.state=n1.Recognized,this.tryEmit(this._input)},Q.interval),n1.Began}}return n1.Failed}failTimeout(){return this._timer=setTimeout(()=>{this.state=n1.Failed},this.options.interval),n1.Failed}reset(){clearTimeout(this._timer)}emit($){if(this.state===n1.Recognized)$.tapCount=this.count,this.manager.emit(this.options.event,$)}}});var sF1,NF;var Cl=h(()=>{GB();A3();IQ();sF1=["","start","move","end","cancel","up","down","left","right"];NF=class NF extends NX{constructor($={}){super({enable:!0,pointers:1,event:"pan",threshold:10,direction:Q7.All,...$});this.pX=null,this.pY=null}getTouchAction(){let{options:{direction:$}}=this,Q=[];if($&Q7.Horizontal)Q.push(qO);if($&Q7.Vertical)Q.push(ZO);return Q}getEventNames(){return sF1.map(($)=>this.options.event+$)}directionTest($){let{options:Q}=this,J=!0,{distance:K}=$,{direction:Y}=$,Z=$.deltaX,q=$.deltaY;if(!(Y&Q.direction))if(Q.direction&Q7.Horizontal)Y=Z===0?Q7.None:Z<0?Q7.Left:Q7.Right,J=Z!==this.pX,K=Math.abs($.deltaX);else Y=q===0?Q7.None:q<0?Q7.Up:Q7.Down,J=q!==this.pY,K=Math.abs($.deltaY);return $.direction=Y,J&&K>Q.threshold&&Boolean(Y&Q.direction)}attrTest($){return super.attrTest($)&&(Boolean(this.state&n1.Began)||!(this.state&n1.Began)&&this.directionTest($))}emit($){this.pX=$.deltaX,this.pY=$.deltaY;let Q=Q7[$.direction].toLowerCase();if(Q)$.additionalEvent=this.options.event+Q;super.emit($)}}});var cO0=h(()=>{GB();A3();Cl()});var oF1,WO;var uO0=h(()=>{GB();IQ();oF1=["","start","move","end","cancel","in","out"];WO=class WO extends NX{constructor($={}){super({enable:!0,event:"pinch",threshold:0,pointers:2,...$})}getTouchAction(){return[HF]}getEventNames(){return oF1.map(($)=>this.options.event+$)}attrTest($){return super.attrTest($)&&(Math.abs($.scale-1)>this.options.threshold||Boolean(this.state&n1.Began))}emit($){if($.scale!==1){let Q=$.scale<1?"in":"out";$.additionalEvent=this.options.event+Q}super.emit($)}}});var mO0=h(()=>{GB();IQ()});var pO0=h(()=>{XO();IQ();A3()});var Pl=h(()=>{A3();IQ();A3();bO0();wl();Bl();Tl();XO();GB();xO0();Cl();cO0();uO0();mO0();pO0()});class tY{constructor($,Q,J){this.element=$,this.callback=Q,this.options=J}}var dO0,q55;var nO0=h(()=>{dO0=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",q55=typeof window<"u"?window:global});var $U1,lO0=4.000244140625,QU1=40,JU1=0.25,kl;var rO0=h(()=>{nO0();$U1=dO0.indexOf("firefox")!==-1;kl=class kl extends tY{constructor($,Q,J){super($,Q,{enable:!0,...J});this.handleEvent=(K)=>{if(!this.options.enable)return;let Y=K.deltaY;if(globalThis.WheelEvent){if($U1&&K.deltaMode===globalThis.WheelEvent.DOM_DELTA_PIXEL)Y/=globalThis.devicePixelRatio;if(K.deltaMode===globalThis.WheelEvent.DOM_DELTA_LINE)Y*=QU1}if(Y!==0&&Y%lO0===0)Y=Math.floor(Y/lO0);if(K.shiftKey&&Y)Y=Y*JU1;this.callback({type:"wheel",center:{x:K.clientX,y:K.clientY},delta:-Y,srcEvent:K,pointerType:"mouse",target:K.target})},$.addEventListener("wheel",this.handleEvent,{passive:!1})}destroy(){this.element.removeEventListener("wheel",this.handleEvent)}enableEventType($,Q){if($==="wheel")this.options.enable=Q}}});var iO0,jl;var sO0=h(()=>{iO0=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"];jl=class jl extends tY{constructor($,Q,J){super($,Q,{enable:!0,...J});this.handleEvent=(Y)=>{this.handleOverEvent(Y),this.handleOutEvent(Y),this.handleEnterEvent(Y),this.handleLeaveEvent(Y),this.handleMoveEvent(Y)},this.pressed=!1;let{enable:K}=this.options;this.enableMoveEvent=K,this.enableLeaveEvent=K,this.enableEnterEvent=K,this.enableOutEvent=K,this.enableOverEvent=K,iO0.forEach((Y)=>$.addEventListener(Y,this.handleEvent))}destroy(){iO0.forEach(($)=>this.element.removeEventListener($,this.handleEvent))}enableEventType($,Q){switch($){case"pointermove":this.enableMoveEvent=Q;break;case"pointerover":this.enableOverEvent=Q;break;case"pointerout":this.enableOutEvent=Q;break;case"pointerenter":this.enableEnterEvent=Q;break;case"pointerleave":this.enableLeaveEvent=Q;break;default:}}handleOverEvent($){if(this.enableOverEvent&&$.type==="mouseover")this._emit("pointerover",$)}handleOutEvent($){if(this.enableOutEvent&&$.type==="mouseout")this._emit("pointerout",$)}handleEnterEvent($){if(this.enableEnterEvent&&$.type==="mouseenter")this._emit("pointerenter",$)}handleLeaveEvent($){if(this.enableLeaveEvent&&$.type==="mouseleave")this._emit("pointerleave",$)}handleMoveEvent($){if(this.enableMoveEvent)switch($.type){case"mousedown":if($.button>=0)this.pressed=!0;break;case"mousemove":if($.buttons===0)this.pressed=!1;if(!this.pressed)this._emit("pointermove",$);break;case"mouseup":this.pressed=!1;break;default:}}_emit($,Q){this.callback({type:$,center:{x:Q.clientX,y:Q.clientY},srcEvent:Q,pointerType:"mouse",target:Q.target})}}});var oO0,El;var aO0=h(()=>{oO0=["keydown","keyup"];El=class El extends tY{constructor($,Q,J){super($,Q,{enable:!0,tabIndex:0,...J});this.handleEvent=(K)=>{let Y=K.target||K.srcElement;if(Y.tagName==="INPUT"&&Y.type==="text"||Y.tagName==="TEXTAREA")return;if(this.enableDownEvent&&K.type==="keydown")this.callback({type:"keydown",srcEvent:K,key:K.key,target:K.target});if(this.enableUpEvent&&K.type==="keyup")this.callback({type:"keyup",srcEvent:K,key:K.key,target:K.target})},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,$.tabIndex=this.options.tabIndex,$.style.outline="none",oO0.forEach((K)=>$.addEventListener(K,this.handleEvent))}destroy(){oO0.forEach(($)=>this.element.removeEventListener($,this.handleEvent))}enableEventType($,Q){if($==="keydown")this.enableDownEvent=Q;if($==="keyup")this.enableUpEvent=Q}}});var Ll;var tO0=h(()=>{Ll=class Ll extends tY{constructor($,Q,J){super($,Q,J);this.handleEvent=(K)=>{if(!this.options.enable)return;this.callback({type:"contextmenu",center:{x:K.clientX,y:K.clientY},srcEvent:K,pointerType:"mouse",target:K.target})},$.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType($,Q){if($==="contextmenu")this.options.enable=Q}}});function eO0($){let Q=KU1[$.srcEvent.type];if(!Q)return null;let{buttons:J,button:K}=$.srcEvent,Y=!1,Z=!1,q=!1;if(Q===2)Y=Boolean(J&1),Z=Boolean(J&4),q=Boolean(J&2);else Y=K===0,Z=K===1,q=K===2;return{leftButton:Y,middleButton:Z,rightButton:q}}function $w0($,Q){let J=$.center;if(!J)return null;let K=Q.getBoundingClientRect(),Y=K.width/Q.offsetWidth||1,Z=K.height/Q.offsetHeight||1,q={x:(J.x-K.left-Q.clientLeft)/Y,y:(J.y-K.top-Q.clientTop)/Z};return{center:J,offsetCenter:q}}var KU1;var Qw0=h(()=>{KU1={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4}});class hl{constructor($,Q){this.handleEvent=(J)=>{if(this.isEmpty())return;let K=this._normalizeEvent(J),Y=J.srcEvent.target;while(Y&&Y!==K.rootElement){if(this._emit(K,Y),K.handled)return;Y=Y.parentNode}this._emit(K,"root")},this.eventManager=$,this.recognizerName=Q,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add($,Q,J,K=!1,Y=!1){let{handlers:Z,handlersByElement:q}=this,X={...YU1,...J},W=q.get(X.srcElement);if(!W)W=[],q.set(X.srcElement,W);let F={type:$,handler:Q,srcElement:X.srcElement,priority:X.priority};if(K)F.once=!0;if(Y)F.passive=!0;Z.push(F),this._active=this._active||!F.passive;let H=W.length-1;while(H>=0){if(W[H].priority>=F.priority)break;H--}W.splice(H+1,0,F)}remove($,Q){let{handlers:J,handlersByElement:K}=this;for(let Y=J.length-1;Y>=0;Y--){let Z=J[Y];if(Z.type===$&&Z.handler===Q){J.splice(Y,1);let q=K.get(Z.srcElement);if(q.splice(q.indexOf(Z),1),q.length===0)K.delete(Z.srcElement)}}this._active=J.some((Y)=>!Y.passive)}_emit($,Q){let J=this.handlersByElement.get(Q);if(J){let K=!1,Y=()=>{$.handled=!0},Z=()=>{$.handled=!0,K=!0},q=[];for(let X=0;X<J.length;X++){let{type:W,handler:F,once:H}=J[X];if(F({...$,type:W,stopPropagation:Y,stopImmediatePropagation:Z}),H)q.push(J[X]);if(K)break}for(let X=0;X<q.length;X++){let{type:W,handler:F}=q[X];this.remove(W,F)}}}_normalizeEvent($){let Q=this.eventManager.getElement();return{...$,...eO0($),...$w0($,Q),preventDefault:()=>{$.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:Q}}}var YU1;var Jw0=h(()=>{Qw0();YU1={srcElement:"root",priority:0}});function ZU1($){if("recognizer"in $)return $;let Q,J=Array.isArray($)?[...$]:[$];if(typeof J[0]==="function"){let K=J.shift(),Y=J.shift()||{};Q=new K(Y)}else Q=J.shift();return{recognizer:Q,recognizeWith:typeof J[0]==="string"?[J[0]]:J[0],requireFailure:typeof J[1]==="string"?[J[1]]:J[1]}}class ME{constructor($=null,Q={}){if(this._onBasicInput=(J)=>{this.manager.emit(J.srcEvent.type,J)},this._onOtherEvent=(J)=>{this.manager.emit(J.type,J)},this.options={recognizers:[],events:{},touchAction:"compute",tabIndex:0,cssProps:{},...Q},this.events=new Map,this.element=$,!$)return;this.manager=new IE($,this.options);for(let J of this.options.recognizers){let{recognizer:K,recognizeWith:Y,requireFailure:Z}=ZU1(J);if(this.manager.add(K),Y)K.recognizeWith(Y);if(Z)K.requireFailure(Z)}this.manager.on("hammer.input",this._onBasicInput),this.wheelInput=new kl($,this._onOtherEvent,{enable:!1}),this.moveInput=new jl($,this._onOtherEvent,{enable:!1}),this.keyInput=new El($,this._onOtherEvent,{enable:!1,tabIndex:Q.tabIndex}),this.contextmenuInput=new Ll($,this._onOtherEvent,{enable:!1}),this.on(this.options.events)}getElement(){return this.element}destroy(){if(!this.element)return;this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy()}on($,Q,J){this._addEventHandler($,Q,J,!1)}once($,Q,J){this._addEventHandler($,Q,J,!0)}watch($,Q,J){this._addEventHandler($,Q,J,!1,!0)}off($,Q){this._removeEventHandler($,Q)}_toggleRecognizer($,Q){let{manager:J}=this;if(!J)return;let K=J.get($);if(K)K.set({enable:Q}),J.touchAction.update();this.wheelInput?.enableEventType($,Q),this.moveInput?.enableEventType($,Q),this.keyInput?.enableEventType($,Q),this.contextmenuInput?.enableEventType($,Q)}_addEventHandler($,Q,J,K,Y){if(typeof $!=="string"){J=Q;for(let[W,F]of Object.entries($))this._addEventHandler(W,F,J,K,Y);return}let{manager:Z,events:q}=this;if(!Z)return;let X=q.get($);if(!X){let W=this._getRecognizerName($)||$;if(X=new hl(this,W),q.set($,X),Z)Z.on($,X.handleEvent)}if(X.add($,Q,J,K,Y),!X.isEmpty())this._toggleRecognizer(X.recognizerName,!0)}_removeEventHandler($,Q){if(typeof $!=="string"){for(let[Y,Z]of Object.entries($))this._removeEventHandler(Y,Z);return}let{events:J}=this,K=J.get($);if(!K)return;if(K.remove($,Q),K.isEmpty()){let{recognizerName:Y}=K,Z=!1;for(let q of J.values())if(q.recognizerName===Y&&!q.isEmpty()){Z=!0;break}if(!Z)this._toggleRecognizer(Y,!1)}}_getRecognizerName($){return this.manager.recognizers.find((Q)=>{return Q.getEventNames().includes($)})?.options.event}}var Kw0=h(()=>{Pl();rO0();sO0();aO0();tO0();Jw0()});var vl=h(()=>{Kw0();Pl()});var C5,d8,A4,FO,Sl;var MQ=h(()=>{p8();vl();C5={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(C5,"IDENTITY",{get:()=>{return I1.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0}});d8={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},A4={common:0,meters:1,pixels:2},FO={click:"onClick",dblclick:"onClick",panstart:"onDragStart",panmove:"onDrag",panend:"onDragEnd"},Sl={multipan:[NF,{threshold:10,direction:Q7.Vertical,pointers:2}],pinch:[WO,{},null,["multipan"]],pan:[NF,{threshold:1},["pinch"],["multipan"]],dblclick:[OB,{event:"dblclick",taps:2}],click:[OB,{event:"click"},null,["dblclick"]]}});function qU1($,Q){if($===Q)return!0;if(Array.isArray($)){let J=$.length;if(!Q||Q.length!==J)return!1;for(let K=0;K<J;K++)if($[K]!==Q[K])return!1;return!0}return!1}function NK($){let Q={},J;return(K)=>{for(let Y in K)if(!qU1(K[Y],Q[Y])){J=$(K),Q=K;break}return J}}function _l($,Q,J=qw0){if(J.length<3)J=[J[0],J[1],0];let K=J,Y,Z=!0;if(Q===C5.LNGLAT_OFFSETS||Q===C5.METER_OFFSETS)Y=J;else Y=$.isGeospatial?[Math.fround($.longitude),Math.fround($.latitude),0]:null;switch($.projectionMode){case d8.WEB_MERCATOR:if(Q===C5.LNGLAT||Q===C5.CARTESIAN)Y=[0,0,0],Z=!1;break;case d8.WEB_MERCATOR_AUTO_OFFSET:if(Q===C5.LNGLAT)K=Y;else if(Q===C5.CARTESIAN)K=[Math.fround($.center[0]),Math.fround($.center[1]),0],Y=$.unprojectPosition(K),K[0]-=J[0],K[1]-=J[1],K[2]-=J[2];break;case d8.IDENTITY:K=$.position.map(Math.fround),K[2]=K[2]||0;break;case d8.GLOBE:Z=!1,Y=null;break;default:Z=!1}return{geospatialOrigin:Y,shaderCoordinateOrigin:K,offsetMode:Z}}function UU1($,Q,J){let{viewMatrixUncentered:K,projectionMatrix:Y}=$,{viewMatrix:Z,viewProjectionMatrix:q}=$,X=Yw0,W=Yw0,F=$.cameraPosition,{geospatialOrigin:H,shaderCoordinateOrigin:B,offsetMode:z}=_l($,Q,J);if(z)W=$.projectPosition(H||B),F=[F[0]-W[0],F[1]-W[1],F[2]-W[2]],W[3]=1,X=fQ.transformMat4([],W,q),Z=K||Z,q=F8.multiply([],Y,Z),q=F8.multiply([],q,XU1);return{viewMatrix:Z,viewProjectionMatrix:q,projectionCenter:X,originCommon:W,cameraPosCommon:F,shaderCoordinateOrigin:B,geospatialOrigin:H}}function Xw0({viewport:$,devicePixelRatio:Q=1,modelMatrix:J=null,coordinateSystem:K=C5.DEFAULT,coordinateOrigin:Y=qw0,autoWrapLongitude:Z=!1}){if(K===C5.DEFAULT)K=$.isGeospatial?C5.LNGLAT:C5.CARTESIAN;let q=FU1({viewport:$,devicePixelRatio:Q,coordinateSystem:K,coordinateOrigin:Y});return q.wrapLongitude=Z,q.modelMatrix=J||Zw0,q}function HU1({viewport:$,devicePixelRatio:Q,coordinateSystem:J,coordinateOrigin:K}){let{projectionCenter:Y,viewProjectionMatrix:Z,originCommon:q,cameraPosCommon:X,shaderCoordinateOrigin:W,geospatialOrigin:F}=UU1($,J,K),H=$.getDistanceScales(),B=[$.width*Q,$.height*Q],z=fQ.transformMat4([],[0,0,-$.focalDistance,1],$.projectionMatrix)[3]||1,A={coordinateSystem:J,projectionMode:$.projectionMode,coordinateOrigin:W,commonOrigin:q.slice(0,3),center:Y,pseudoMeters:Boolean($._pseudoMeters),viewportSize:B,devicePixelRatio:Q,focalDistance:z,commonUnitsPerMeter:H.unitsPerMeter,commonUnitsPerWorldUnit:H.unitsPerMeter,commonUnitsPerWorldUnit2:WU1,scale:$.scale,wrapLongitude:!1,viewProjectionMatrix:Z,modelMatrix:Zw0,cameraPosition:X};if(F){let R=$.getDistanceScales(F);switch(J){case C5.METER_OFFSETS:A.commonUnitsPerWorldUnit=R.unitsPerMeter,A.commonUnitsPerWorldUnit2=R.unitsPerMeter2;break;case C5.LNGLAT:case C5.LNGLAT_OFFSETS:if(!$._pseudoMeters)A.commonUnitsPerMeter=R.unitsPerMeter;A.commonUnitsPerWorldUnit=R.unitsPerDegree,A.commonUnitsPerWorldUnit2=R.unitsPerDegree2;break;case C5.CARTESIAN:A.commonUnitsPerWorldUnit=[1,1,R.unitsPerMeter[2]],A.commonUnitsPerWorldUnit2=[0,0,R.unitsPerMeter2[2]];break;default:break}}return A}var Yw0,XU1,Zw0,WU1,qw0,FU1;var fl=h(()=>{z4();MQ();Yw0=[0,0,0,0],XU1=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],Zw0=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],WU1=[0,0,0],qw0=[0,0,0],FU1=NK(HU1)});var NU1,BU1,zU1,AU1,Ww0;var Fw0=h(()=>{MQ();NU1=Object.keys(C5).map(($)=>`const COORDINATE_SYSTEM_${$}: i32 = ${C5[$]};`).join(""),BU1=Object.keys(d8).map(($)=>`const PROJECTION_MODE_${$}: i32 = ${d8[$]};`).join(""),zU1=Object.keys(A4).map(($)=>`const UNIT_${$.toUpperCase()}: i32 = ${A4[$]};`).join(""),AU1=`${NU1}
${BU1}
${zU1}

const TILE_SIZE: f32 = 512.0;
const PI: f32 = 3.1415926536;
const WORLD_SCALE: f32 = TILE_SIZE / (PI * 2.0);
const ZERO_64_LOW: vec3<f32> = vec3<f32>(0.0, 0.0, 0.0);
const EARTH_RADIUS: f32 = 6370972.0; // meters
const GLOBE_RADIUS: f32 = 256.0;

// -----------------------------------------------------------------------------
// Uniform block (converted from GLSL uniform block)
// -----------------------------------------------------------------------------
struct ProjectUniforms {
  wrapLongitude: i32,
  coordinateSystem: i32,
  commonUnitsPerMeter: vec3<f32>,
  projectionMode: i32,
  scale: f32,
  commonUnitsPerWorldUnit: vec3<f32>,
  commonUnitsPerWorldUnit2: vec3<f32>,
  center: vec4<f32>,
  modelMatrix: mat4x4<f32>,
  viewProjectionMatrix: mat4x4<f32>,
  viewportSize: vec2<f32>,
  devicePixelRatio: f32,
  focalDistance: f32,
  cameraPosition: vec3<f32>,
  coordinateOrigin: vec3<f32>,
  commonOrigin: vec3<f32>,
  pseudoMeters: i32,
};

@group(0) @binding(0)
var<uniform> project: ProjectUniforms;

// -----------------------------------------------------------------------------
// Geometry data
// (In your GLSL code, "geometry" was assumed to be available globally. In WGSL,
// you might supply this via vertex attributes or a uniform. Here we define a
// uniform struct for demonstration.)
// -----------------------------------------------------------------------------

// Structure to carry additional geometry data used by deck.gl filters.
struct Geometry {
  worldPosition: vec3<f32>,
  worldPositionAlt: vec3<f32>,
  position: vec4<f32>,
  uv: vec2<f32>,
  pickingColor: vec3<f32>,
};

// @group(0) @binding(1)
var<private> geometry: Geometry;
`,Ww0=`${AU1}

// -----------------------------------------------------------------------------
// Functions
// -----------------------------------------------------------------------------

// Returns an adjustment factor for commonUnitsPerMeter
fn _project_size_at_latitude(lat: f32) -> f32 {
  let y = clamp(lat, -89.9, 89.9);
  return 1.0 / cos(radians(y));
}

// Overloaded version: scales a value in meters at a given latitude.
fn _project_size_at_latitude_m(meters: f32, lat: f32) -> f32 {
  return meters * project.commonUnitsPerMeter.z * _project_size_at_latitude(lat);
}

// Computes a non-linear scale factor based on geometry.
// (Note: This function relies on "geometry" being provided.)
fn project_size() -> f32 {
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR &&
      project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT &&
      project.pseudoMeters == 0) {
    if (geometry.position.w == 0.0) {
      return _project_size_at_latitude(geometry.worldPosition.y);
    }
    let y: f32 = geometry.position.y / TILE_SIZE * 2.0 - 1.0;
    let y2 = y * y;
    let y4 = y2 * y2;
    let y6 = y4 * y2;
    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;
  }
  return 1.0;
}

// Overloads to scale offsets (meters to world units)
fn project_size_float(meters: f32) -> f32 {
  return meters * project.commonUnitsPerMeter.z * project_size();
}

fn project_size_vec2(meters: vec2<f32>) -> vec2<f32> {
  return meters * project.commonUnitsPerMeter.xy * project_size();
}

fn project_size_vec3(meters: vec3<f32>) -> vec3<f32> {
  return meters * project.commonUnitsPerMeter * project_size();
}

fn project_size_vec4(meters: vec4<f32>) -> vec4<f32> {
  return vec4<f32>(meters.xyz * project.commonUnitsPerMeter, meters.w);
}

// Returns a rotation matrix aligning the z‑axis with the given up vector.
fn project_get_orientation_matrix(up: vec3<f32>) -> mat3x3<f32> {
  let uz = normalize(up);
  let ux = select(
    vec3<f32>(1.0, 0.0, 0.0),
    normalize(vec3<f32>(uz.y, -uz.x, 0.0)),
    abs(uz.z) == 1.0
  );
  let uy = cross(uz, ux);
  return mat3x3<f32>(ux, uy, uz);
}

// Since WGSL does not support "out" parameters, we return a struct.
struct RotationResult {
  needsRotation: bool,
  transform: mat3x3<f32>,
};

fn project_needs_rotation(commonPosition: vec3<f32>) -> RotationResult {
  if (project.projectionMode == PROJECTION_MODE_GLOBE) {
    return RotationResult(true, project_get_orientation_matrix(commonPosition));
  } else {
    return RotationResult(false, mat3x3<f32>());  // identity alternative if needed
  };
}

// Projects a normal vector from the current coordinate system to world space.
fn project_normal(vector: vec3<f32>) -> vec3<f32> {
  let normal_modelspace = project.modelMatrix * vec4<f32>(vector, 0.0);
  var n = normalize(normal_modelspace.xyz * project.commonUnitsPerMeter);
  let rotResult = project_needs_rotation(geometry.position.xyz);
  if (rotResult.needsRotation) {
    n = rotResult.transform * n;
  }
  return n;
}

// Applies a scale offset based on y-offset (dy)
fn project_offset_(offset: vec4<f32>) -> vec4<f32> {
  let dy: f32 = offset.y;
  let commonUnitsPerWorldUnit = project.commonUnitsPerWorldUnit + project.commonUnitsPerWorldUnit2 * dy;
  return vec4<f32>(offset.xyz * commonUnitsPerWorldUnit, offset.w);
}

// Projects lng/lat coordinates to a unit tile [0,1]
fn project_mercator_(lnglat: vec2<f32>) -> vec2<f32> {
  var x = lnglat.x;
  if (project.wrapLongitude != 0) {
    x = ((x + 180.0) % 360.0) - 180.0;
  }
  let y = clamp(lnglat.y, -89.9, 89.9);
  return vec2<f32>(
    radians(x) + PI,
    PI + log(tan(PI * 0.25 + radians(y) * 0.5))
  ) * WORLD_SCALE;
}

// Projects lng/lat/z coordinates for a globe projection.
fn project_globe_(lnglatz: vec3<f32>) -> vec3<f32> {
  let lambda = radians(lnglatz.x);
  let phi = radians(lnglatz.y);
  let cosPhi = cos(phi);
  let D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;
  return vec3<f32>(
    sin(lambda) * cosPhi,
    -cos(lambda) * cosPhi,
    sin(phi)
  ) * D;
}

// Projects positions (with an optional 64-bit low part) from the input
// coordinate system to the common space.
fn project_position_vec4_f64(position: vec4<f32>, position64Low: vec3<f32>) -> vec4<f32> {
  var position_world = project.modelMatrix * position;

  // Work around for a Mac+NVIDIA bug:
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4<f32>(
        project_mercator_(position_world.xy),
        _project_size_at_latitude_m(position_world.z, position_world.y),
        position_world.w
      );
    }
    if (project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {
      position_world = vec4f(position_world.xyz + project.coordinateOrigin, position_world.w);
    }
  }
  if (project.projectionMode == PROJECTION_MODE_GLOBE) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4<f32>(
        project_globe_(position_world.xyz),
        position_world.w
      );
    }
  }
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      if (abs(position_world.y - project.coordinateOrigin.y) > 0.25) {
        return vec4<f32>(
          project_mercator_(position_world.xy) - project.commonOrigin.xy,
          project_size_float(position_world.z),
          position_world.w
        );
      }
    }
  }
  if (project.projectionMode == PROJECTION_MODE_IDENTITY ||
      (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&
       (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
        project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {
    position_world = vec4f(position_world.xyz - project.coordinateOrigin, position_world.w);
  }

  return project_offset_(position_world) +
         project_offset_(project.modelMatrix * vec4<f32>(position64Low, 0.0));
}

// Overloaded versions for different input types.
fn project_position_vec4_f32(position: vec4<f32>) -> vec4<f32> {
  return project_position_vec4_f64(position, ZERO_64_LOW);
}

fn project_position_vec3_f64(position: vec3<f32>, position64Low: vec3<f32>) -> vec3<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 1.0), position64Low);
  return projected_position.xyz;
}

fn project_position_vec3_f32(position: vec3<f32>) -> vec3<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 1.0), ZERO_64_LOW);
  return projected_position.xyz;
}

fn project_position_vec2_f32(position: vec2<f32>) -> vec2<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 0.0, 1.0), ZERO_64_LOW);
  return projected_position.xy;
}

// Transforms a common space position to clip space.
fn project_common_position_to_clipspace_with_projection(position: vec4<f32>, viewProjectionMatrix: mat4x4<f32>, center: vec4<f32>) -> vec4<f32> {
  return viewProjectionMatrix * position + center;
}

// Uses the project viewProjectionMatrix and center.
fn project_common_position_to_clipspace(position: vec4<f32>) -> vec4<f32> {
  return project_common_position_to_clipspace_with_projection(position, project.viewProjectionMatrix, project.center);
}

// Returns a clip space offset corresponding to a given number of screen pixels.
fn project_pixel_size_to_clipspace(pixels: vec2<f32>) -> vec2<f32> {
  let offset = pixels / project.viewportSize * project.devicePixelRatio * 2.0;
  return offset * project.focalDistance;
}

fn project_meter_size_to_pixel(meters: f32) -> f32 {
  return project_size_float(meters) * project.scale;
}

fn project_unit_size_to_pixel(size: f32, unit: i32) -> f32 {
  if (unit == UNIT_METERS) {
    return project_meter_size_to_pixel(size);
  } else if (unit == UNIT_COMMON) {
    return size * project.scale;
  }
  // UNIT_PIXELS: no scaling applied.
  return size;
}

fn project_pixel_size_float(pixels: f32) -> f32 {
  return pixels / project.scale;
}

fn project_pixel_size_vec2(pixels: vec2<f32>) -> vec2<f32> {
  return pixels / project.scale;
}
`});var VU1,RU1,GU1,Uw0;var Hw0=h(()=>{MQ();VU1=Object.keys(C5).map(($)=>`const int COORDINATE_SYSTEM_${$} = ${C5[$]};`).join(""),RU1=Object.keys(d8).map(($)=>`const int PROJECTION_MODE_${$} = ${d8[$]};`).join(""),GU1=Object.keys(A4).map(($)=>`const int UNIT_${$.toUpperCase()} = ${A4[$]};`).join(""),Uw0=`${VU1}
${RU1}
${GU1}
uniform projectUniforms {
bool wrapLongitude;
int coordinateSystem;
vec3 commonUnitsPerMeter;
int projectionMode;
float scale;
vec3 commonUnitsPerWorldUnit;
vec3 commonUnitsPerWorldUnit2;
vec4 center;
mat4 modelMatrix;
mat4 viewProjectionMatrix;
vec2 viewportSize;
float devicePixelRatio;
float focalDistance;
vec3 cameraPosition;
vec3 coordinateOrigin;
vec3 commonOrigin;
bool pseudoMeters;
} project;
const float TILE_SIZE = 512.0;
const float PI = 3.1415926536;
const float WORLD_SCALE = TILE_SIZE / (PI * 2.0);
const vec3 ZERO_64_LOW = vec3(0.0);
const float EARTH_RADIUS = 6370972.0;
const float GLOBE_RADIUS = 256.0;
float project_size_at_latitude(float lat) {
float y = clamp(lat, -89.9, 89.9);
return 1.0 / cos(radians(y));
}
float project_size() {
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR &&
project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT &&
project.pseudoMeters == false) {
if (geometry.position.w == 0.0) {
return project_size_at_latitude(geometry.worldPosition.y);
}
float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;
float y2 = y * y;
float y4 = y2 * y2;
float y6 = y4 * y2;
return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;
}
return 1.0;
}
float project_size_at_latitude(float meters, float lat) {
return meters * project.commonUnitsPerMeter.z * project_size_at_latitude(lat);
}
float project_size(float meters) {
return meters * project.commonUnitsPerMeter.z * project_size();
}
vec2 project_size(vec2 meters) {
return meters * project.commonUnitsPerMeter.xy * project_size();
}
vec3 project_size(vec3 meters) {
return meters * project.commonUnitsPerMeter * project_size();
}
vec4 project_size(vec4 meters) {
return vec4(meters.xyz * project.commonUnitsPerMeter, meters.w);
}
mat3 project_get_orientation_matrix(vec3 up) {
vec3 uz = normalize(up);
vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));
vec3 uy = cross(uz, ux);
return mat3(ux, uy, uz);
}
bool project_needs_rotation(vec3 commonPosition, out mat3 transform) {
if (project.projectionMode == PROJECTION_MODE_GLOBE) {
transform = project_get_orientation_matrix(commonPosition);
return true;
}
return false;
}
vec3 project_normal(vec3 vector) {
vec4 normal_modelspace = project.modelMatrix * vec4(vector, 0.0);
vec3 n = normalize(normal_modelspace.xyz * project.commonUnitsPerMeter);
mat3 rotation;
if (project_needs_rotation(geometry.position.xyz, rotation)) {
n = rotation * n;
}
return n;
}
vec4 project_offset_(vec4 offset) {
float dy = offset.y;
vec3 commonUnitsPerWorldUnit = project.commonUnitsPerWorldUnit + project.commonUnitsPerWorldUnit2 * dy;
return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);
}
vec2 project_mercator_(vec2 lnglat) {
float x = lnglat.x;
if (project.wrapLongitude) {
x = mod(x + 180., 360.0) - 180.;
}
float y = clamp(lnglat.y, -89.9, 89.9);
return vec2(
radians(x) + PI,
PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))
) * WORLD_SCALE;
}
vec3 project_globe_(vec3 lnglatz) {
float lambda = radians(lnglatz.x);
float phi = radians(lnglatz.y);
float cosPhi = cos(phi);
float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;
return vec3(
sin(lambda) * cosPhi,
-cos(lambda) * cosPhi,
sin(phi)
) * D;
}
vec4 project_position(vec4 position, vec3 position64Low) {
vec4 position_world = project.modelMatrix * position;
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
return vec4(
project_mercator_(position_world.xy),
project_size_at_latitude(position_world.z, position_world.y),
position_world.w
);
}
if (project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {
position_world.xyz += project.coordinateOrigin;
}
}
if (project.projectionMode == PROJECTION_MODE_GLOBE) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
return vec4(
project_globe_(position_world.xyz),
position_world.w
);
}
}
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
if (abs(position_world.y - project.coordinateOrigin.y) > 0.25) {
return vec4(
project_mercator_(position_world.xy) - project.commonOrigin.xy,
project_size(position_world.z),
position_world.w
);
}
}
}
if (project.projectionMode == PROJECTION_MODE_IDENTITY ||
(project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&
(project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {
position_world.xyz -= project.coordinateOrigin;
}
return project_offset_(position_world) + project_offset_(project.modelMatrix * vec4(position64Low, 0.0));
}
vec4 project_position(vec4 position) {
return project_position(position, ZERO_64_LOW);
}
vec3 project_position(vec3 position, vec3 position64Low) {
vec4 projected_position = project_position(vec4(position, 1.0), position64Low);
return projected_position.xyz;
}
vec3 project_position(vec3 position) {
vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);
return projected_position.xyz;
}
vec2 project_position(vec2 position) {
vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);
return projected_position.xy;
}
vec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {
return viewProjectionMatrix * position + center;
}
vec4 project_common_position_to_clipspace(vec4 position) {
return project_common_position_to_clipspace(position, project.viewProjectionMatrix, project.center);
}
vec2 project_pixel_size_to_clipspace(vec2 pixels) {
vec2 offset = pixels / project.viewportSize * project.devicePixelRatio * 2.0;
return offset * project.focalDistance;
}
float project_size_to_pixel(float meters) {
return project_size(meters) * project.scale;
}
float project_size_to_pixel(float size, int unit) {
if (unit == UNIT_METERS) return project_size_to_pixel(size);
if (unit == UNIT_COMMON) return size * project.scale;
return size;
}
float project_pixel_size(float pixels) {
return pixels / project.scale;
}
vec2 project_pixel_size(vec2 pixels) {
return pixels / project.scale;
}
`});function wU1($=OU1){if("viewport"in $)return Xw0($);return{}}var OU1,wB;var Il=h(()=>{aY();Ul();fl();Fw0();Hw0();OU1={};wB={name:"project",dependencies:[Zl,PE],source:Ww0,vs:Uw0,getUniforms:wU1,uniformTypes:{wrapLongitude:"f32",coordinateSystem:"i32",commonUnitsPerMeter:"vec3<f32>",projectionMode:"i32",scale:"f32",commonUnitsPerWorldUnit:"vec3<f32>",commonUnitsPerWorldUnit2:"vec3<f32>",center:"vec4<f32>",modelMatrix:"mat4x4<f32>",viewProjectionMatrix:"mat4x4<f32>",viewportSize:"vec2<f32>",devicePixelRatio:"f32",focalDistance:"f32",cameraPosition:"vec3<f32>",coordinateOrigin:"vec3<f32>",commonOrigin:"vec3<f32>",pseudoMeters:"f32"}}});var TU1=`// Define a structure to hold both the clip-space position and the common position.
struct ProjectResult {
  clipPosition: vec4<f32>,
  commonPosition: vec4<f32>,
};

// This function mimics the GLSL version with the 'out' parameter by returning both values.
fn project_position_to_clipspace_and_commonspace(
    position: vec3<f32>,
    position64Low: vec3<f32>,
    offset: vec3<f32>
) -> ProjectResult {
  // Compute the projected position.
  let projectedPosition: vec3<f32> = project_position_vec3_f64(position, position64Low);

  // Start with the provided offset.
  var finalOffset: vec3<f32> = offset;

  // Get whether a rotation is needed and the rotation matrix.
  let rotationResult = project_needs_rotation(projectedPosition);

  // If rotation is needed, update the offset.
  if (rotationResult.needsRotation) {
    finalOffset = rotationResult.transform * offset;
  }

  // Compute the common position.
  let commonPosition: vec4<f32> = vec4<f32>(projectedPosition + finalOffset, 1.0);

  // Convert to clip-space.
  let clipPosition: vec4<f32> = project_common_position_to_clipspace(commonPosition);

  return ProjectResult(clipPosition, commonPosition);
}

// A convenience overload that returns only the clip-space position.
fn project_position_to_clipspace(
    position: vec3<f32>,
    position64Low: vec3<f32>,
    offset: vec3<f32>
) -> vec4<f32> {
  return project_position_to_clipspace_and_commonspace(position, position64Low, offset).clipPosition;
}
`,DU1=`vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition
) {
  vec3 projectedPosition = project_position(position, position64Low);
  mat3 rotation;
  if (project_needs_rotation(projectedPosition, rotation)) {
    // offset is specified as ENU
    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe
    offset = rotation * offset;
  }
  commonPosition = vec4(projectedPosition + offset, 1.0);
  return project_common_position_to_clipspace(commonPosition);
}

vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset
) {
  vec4 commonPosition;
  return project_position_to_clipspace(position, position64Low, offset, commonPosition);
}
`,k$;var Nw0=h(()=>{Il();k$={name:"project32",dependencies:[wB],source:TU1,vs:DU1}});function Ml(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function BX($,Q){let J=fQ.transformMat4([],Q,$);return fQ.scale(J,J,1/J[3]),J}function bl($,Q){let J=$%Q;return J<0?Q+J:J}function UO($,Q,J){return $<Q?Q:$>J?J:$}function CU1($){return Math.log($)*Math.LOG2E}var TB;var BF=h(()=>{z4();TB=Math.log2||CU1});function bQ($,Q){if(!$)throw Error(Q||"@math.gl/web-mercator: assertion failed.")}function yl($){return TB($)}function eY($){let[Q,J]=$;bQ(Number.isFinite(Q)),bQ(Number.isFinite(J)&&J>=-90&&J<=90,"invalid latitude");let K=Q*j$,Y=J*j$,Z=DB*(K+gQ)/(2*gQ),q=DB*(gQ+Math.log(Math.tan(Bw0+Y*0.5)))/(2*gQ);return[Z,q]}function V3($){let[Q,J]=$,K=Q/DB*(2*gQ)-gQ,Y=2*(Math.atan(Math.exp(J/DB*(2*gQ)-gQ))-Bw0);return[K*gl,Y*gl]}function xl($){let{latitude:Q}=$;bQ(Number.isFinite(Q));let J=Math.cos(Q*j$);return yl(bE*J)-9}function HO($){let Q=Math.cos($*j$);return DB/bE/Q}function PB($){let{latitude:Q,longitude:J,highPrecision:K=!1}=$;bQ(Number.isFinite(Q)&&Number.isFinite(J));let Y=DB,Z=Math.cos(Q*j$),q=Y/360,X=q/Z,W=Y/bE/Z,F={unitsPerMeter:[W,W,W],metersPerUnit:[1/W,1/W,1/W],unitsPerDegree:[q,X,W],degreesPerUnit:[1/q,1/X,1/W]};if(K){let H=j$*Math.tan(Q*j$)/Z,B=q*H/2,z=Y/bE*H,A=z/X*W;F.unitsPerDegree2=[0,B,z],F.unitsPerMeter2=[A,0,A]}return F}function NO($,Q){let[J,K,Y]=$,[Z,q,X]=Q,{unitsPerMeter:W,unitsPerMeter2:F}=PB({longitude:J,latitude:K,highPrecision:!0}),H=eY($);H[0]+=Z*(W[0]+F[0]*q),H[1]+=q*(W[1]+F[1]*q);let B=V3(H),z=(Y||0)+(X||0);return Number.isFinite(Y)||Number.isFinite(X)?[B[0],B[1],z]:B}function gE($){let{height:Q,pitch:J,bearing:K,altitude:Y,scale:Z,center:q}=$,X=Ml();F8.translate(X,X,[0,0,-Y]),F8.rotateX(X,X,-J*j$),F8.rotateZ(X,X,K*j$);let W=Z/Q;if(F8.scale(X,X,[W,W,W]),q)F8.translate(X,X,UF.negate([],q));return X}function cl($){let{width:Q,height:J,altitude:K,pitch:Y=0,offset:Z,center:q,scale:X,nearZMultiplier:W=1,farZMultiplier:F=1}=$,{fovy:H=zF(zw0)}=$;if(K!==void 0)H=zF(K);let B=H*j$,z=Y*j$,A=BO(H),R=A;if(q)R+=q[2]*X/Math.cos(z)/J;let G=B*(0.5+(Z?Z[1]:0)/J),O=Math.sin(G)*R/Math.sin(UO(Math.PI/2-z-G,0.01,Math.PI-0.01)),T=Math.sin(z)*O+R,D=R*10,P=Math.min(T*F,D);return{fov:B,aspect:Q/J,focalDistance:A,near:W,far:P}}function zF($){return 2*Math.atan(0.5/$)*gl}function BO($){return 0.5/Math.tan(0.5*$*j$)}function kB($,Q){let[J,K,Y=0]=$;return bQ(Number.isFinite(J)&&Number.isFinite(K)&&Number.isFinite(Y)),BX(Q,[J,K,Y,1])}function zX($,Q,J=0){let[K,Y,Z]=$;if(bQ(Number.isFinite(K)&&Number.isFinite(Y),"invalid pixel coordinate"),Number.isFinite(Z))return BX(Q,[K,Y,Z,1]);let q=BX(Q,[K,Y,0,1]),X=BX(Q,[K,Y,1,1]),W=q[2],F=X[2],H=W===F?0:((J||0)-W)/(F-W);return HK.lerp([],q,X,H)}var gQ,Bw0,j$,gl,DB=512,bE=40030000,CB=85.051129,zw0=1.5;var AF=h(()=>{BF();z4();gQ=Math.PI,Bw0=gQ/4,j$=gQ/180,gl=180/gQ});function yE($){let{width:Q,height:J,bounds:K,minExtent:Y=0,maxZoom:Z=24,offset:q=[0,0]}=$,[[X,W],[F,H]]=K,B=PU1($.padding),z=eY([X,UO(H,-CB,CB)]),A=eY([F,UO(W,-CB,CB)]),R=[Math.max(Math.abs(A[0]-z[0]),Y),Math.max(Math.abs(A[1]-z[1]),Y)],G=[Q-B.left-B.right-Math.abs(q[0])*2,J-B.top-B.bottom-Math.abs(q[1])*2];bQ(G[0]>0&&G[1]>0);let O=G[0]/R[0],T=G[1]/R[1],D=(B.right-B.left)/2/O,P=(B.top-B.bottom)/2/T,j=[(A[0]+z[0])/2+D,(A[1]+z[1])/2+P],E=V3(j),L=Math.min(Z,TB(Math.abs(Math.min(O,T))));return bQ(Number.isFinite(L)),{longitude:E[0],latitude:E[1],zoom:L}}function PU1($=0){if(typeof $==="number")return{top:$,bottom:$,left:$,right:$};return bQ(Number.isFinite($.top)&&Number.isFinite($.bottom)&&Number.isFinite($.left)&&Number.isFinite($.right)),$}var ul=h(()=>{BF();AF()});function xE($,Q=0){let{width:J,height:K,unproject:Y}=$,Z={targetZ:Q},q=Y([0,K],Z),X=Y([J,K],Z),W,F,H=$.fovy?0.5*$.fovy*Aw0:Math.atan(0.5/$.altitude),B=(90-$.pitch)*Aw0;if(H>B-0.01)W=Vw0($,0,Q),F=Vw0($,J,Q);else W=Y([0,0],Z),F=Y([J,0],Z);return[q,X,F,W]}function Vw0($,Q,J){let{pixelUnprojectionMatrix:K}=$,Y=BX(K,[Q,0,1,1]),Z=BX(K,[Q,$.height,1,1]),X=(J*$.distanceScales.unitsPerMeter[2]-Y[2])/(Z[2]-Y[2]),W=HK.lerp([],Y,Z,X),F=V3(W);return F.push(J),F}var Aw0;var ml=h(()=>{z4();AF();BF();Aw0=Math.PI/180});var pl=h(()=>{BF();AF();ul();ml()});function dl($){let{width:Q,height:J,pitch:K=0}=$,{longitude:Y,latitude:Z,zoom:q,bearing:X=0}=$;if(Y<-180||Y>180)Y=bl(Y+180,360)-180;if(X<-180||X>180)X=bl(X+180,360)-180;let W=TB(J/Gw0);if(q<=W)q=W,Z=0;else{let F=J/2/Math.pow(2,q),H=V3([0,F])[1];if(Z<H)Z=H;else{let B=V3([0,Gw0-F])[1];if(Z>B)Z=B}}return{width:Q,height:J,longitude:Y,latitude:Z,zoom:q,pitch:K,bearing:X}}var Gw0=512;var Ow0=h(()=>{AF();BF()});var ww0=h(()=>{BF();AF()});var VF=h(()=>{pl();ml();ul();Ow0();ww0();AF();pl()});function MU1($,Q){let[J,K,Y]=$,Z=zX([J,K,Y],Q);if(Number.isFinite(Y))return Z;return[Z[0],Z[1],0]}function bU1({viewport:$,center:Q}){return new B4($.viewProjectionMatrix).invert().transform(Q)}function gU1({viewport:$,shadowMatrices:Q}){let J=[],K=$.pixelUnprojectionMatrix,Y=$.isGeospatial?void 0:1,Z=[[0,0,Y],[$.width,0,Y],[0,$.height,Y],[$.width,$.height,Y],[0,0,-1],[$.width,0,-1],[0,$.height,-1],[$.width,$.height,-1]].map((q)=>MU1(q,K));for(let q of Q){let X=q.clone().translate(new N4($.center).negate()),W=Z.map((H)=>X.transform(H)),F=new B4().ortho({left:Math.min(...W.map((H)=>H[0])),right:Math.max(...W.map((H)=>H[0])),bottom:Math.min(...W.map((H)=>H[1])),top:Math.max(...W.map((H)=>H[1])),near:Math.min(...W.map((H)=>-H[2])),far:Math.max(...W.map((H)=>-H[2]))});J.push(F.multiplyRight(q))}return J}function yU1($){let{shadowEnabled:Q=!0,project:J}=$;if(!Q||!J||!$.shadowMatrices||!$.shadowMatrices.length)return{drawShadowMap:!1,useShadowMap:!1,shadow_uShadowMap0:$.dummyShadowMap,shadow_uShadowMap1:$.dummyShadowMap};let K=wB.getUniforms(J),Y=SU1({viewport:J.viewport,center:K.center}),Z=[],q=_U1({shadowMatrices:$.shadowMatrices,viewport:J.viewport}).slice();for(let W=0;W<$.shadowMatrices.length;W++){let F=q[W],H=F.clone().translate(new N4(J.viewport.center).negate());if(K.coordinateSystem===C5.LNGLAT&&K.projectionMode===d8.WEB_MERCATOR)q[W]=H,Z[W]=Y;else q[W]=F.clone().multiplyRight(IU1),Z[W]=H.transform(Y)}let X={drawShadowMap:Boolean($.drawToShadowMap),useShadowMap:$.shadowMaps?$.shadowMaps.length>0:!1,color:$.shadowColor||fU1,lightId:$.shadowLightId||0,lightCount:$.shadowMatrices.length,shadow_uShadowMap0:$.dummyShadowMap,shadow_uShadowMap1:$.dummyShadowMap};for(let W=0;W<q.length;W++)X[`viewProjectionMatrix${W}`]=q[W],X[`projectCenter${W}`]=Z[W];for(let W=0;W<2;W++)X[`shadow_uShadowMap${W}`]=$.shadowMaps&&$.shadowMaps[W]||$.dummyShadowMap;return X}var Tw0=`
uniform shadowUniforms {
  bool drawShadowMap;
  bool useShadowMap;
  vec4 color;
  highp int lightId;
  float lightCount;
  mat4 viewProjectionMatrix0;
  mat4 viewProjectionMatrix1;
  vec4 projectCenter0;
  vec4 projectCenter1;
} shadow;
`,EU1=`
const int max_lights = 2;

out vec3 shadow_vPosition[max_lights];

vec4 shadow_setVertexPosition(vec4 position_commonspace) {
  mat4 viewProjectionMatrices[max_lights];
  viewProjectionMatrices[0] = shadow.viewProjectionMatrix0;
  viewProjectionMatrices[1] = shadow.viewProjectionMatrix1;
  vec4 projectCenters[max_lights];
  projectCenters[0] = shadow.projectCenter0;
  projectCenters[1] = shadow.projectCenter1;

  if (shadow.drawShadowMap) {
    return project_common_position_to_clipspace(position_commonspace, viewProjectionMatrices[shadow.lightId], projectCenters[shadow.lightId]);
  }
  if (shadow.useShadowMap) {
    for (int i = 0; i < max_lights; i++) {
      if(i < int(shadow.lightCount)) {
        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, viewProjectionMatrices[i], projectCenters[i]);
        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;
      }
    }
  }
  return gl_Position;
}
`,LU1,hU1=`
const int max_lights = 2;
uniform sampler2D shadow_uShadowMap0;
uniform sampler2D shadow_uShadowMap1;

in vec3 shadow_vPosition[max_lights];

const vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);
const vec4 bitUnpackShift = 1.0 / bitPackShift;
const vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);

float shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {
  vec4 rgbaDepth = texture(shadowMap, position.xy);

  float z = dot(rgbaDepth, bitUnpackShift);
  return smoothstep(0.001, 0.01, position.z - z);
}

vec4 shadow_filterShadowColor(vec4 color) {
  if (shadow.drawShadowMap) {
    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);
    rgbaDepth -= rgbaDepth.gbaa * bitMask;
    return rgbaDepth;
  }
  if (shadow.useShadowMap) {
    float shadowAlpha = 0.0;
    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);
    if(shadow.lightCount > 1.0) {
      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);
    }
    shadowAlpha *= shadow.color.a / shadow.lightCount;
    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);

    return vec4(
      mix(color.rgb, shadow.color.rgb, shadowAlpha / blendedAlpha),
      blendedAlpha
    );
  }
  return color;
}
`,vU1,SU1,_U1,fU1,IU1,cE;var Dw0=h(()=>{MQ();Il();z4();VF();LU1=`
${Tw0}
${EU1}
`,vU1=`
${Tw0}
${hU1}
`,SU1=NK(bU1),_U1=NK(gU1),fU1=[0,0,0,1],IU1=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];cE={name:"shadow",dependencies:[wB],vs:LU1,fs:vU1,inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    position = shadow_setVertexPosition(geometry.position);
    `,"fs:DECKGL_FILTER_COLOR":`
    color = shadow_filterShadowColor(color);
    `},getUniforms:yU1,uniformTypes:{drawShadowMap:"f32",useShadowMap:"f32",color:"vec4<f32>",lightId:"i32",lightCount:"f32",viewProjectionMatrix0:"mat4x4<f32>",viewProjectionMatrix1:"mat4x4<f32>",projectCenter0:"vec4<f32>",projectCenter1:"vec4<f32>"}}});var E$;var Cw0=h(()=>{aY();E$={...DE,defaultUniforms:{...DE.defaultUniforms,useFloatColors:!1},inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    // for picking depth values
    picking_setPickingAttribute(position.z / position.w);
  `,"vs:DECKGL_FILTER_COLOR":`
  picking_setPickingColor(geometry.pickingColor);
  `,"fs:DECKGL_FILTER_COLOR":{order:99,injection:`
  // use highlight color if this fragment belongs to the selected object.
  color = picking_filterHighlightColor(color);

  // use picking color if rendering to picking FBO.
  color = picking_filterPickingColor(color);
    `}}}});function Pw0($){let Q=YK.getDefaultShaderAssembler();for(let K of xU1)Q.addDefaultModule(K);let J=$==="glsl"?cU1:uU1;for(let K of J)Q.addShaderHook(K);return Q}var xU1,cU1,uU1;var nl=h(()=>{aY();BO0();Ul();Nw0();Cw0();xU1=[PE],cU1=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"],uU1=[]});class ll{constructor($={}){this.type="ambient";let{color:Q=mU1}=$,{intensity:J=1}=$;this.id=$.id||`ambient-${pU1++}`,this.color=Q,this.intensity=J}}var mU1,pU1=0;var kw0=h(()=>{mU1=[255,255,255]});class uE{constructor($={}){this.type="directional";let{color:Q=dU1}=$,{intensity:J=nU1}=$,{direction:K=lU1}=$,{_shadow:Y=!1}=$;this.id=$.id||`directional-${rU1++}`,this.color=Q,this.intensity=J,this.type="directional",this.direction=new N4(K).normalize().toArray(),this.shadow=Y}getProjectedLight($){return this}}var dU1,nU1=1,lU1,rU1=0;var jw0=h(()=>{z4();dU1=[255,255,255],lU1=[0,0,-1]});class mE{constructor($,Q={id:"pass"}){let{id:J}=Q;this.id=J,this.device=$,this.props={...Q}}setProps($){Object.assign(this.props,$)}render($){}cleanup(){}}function Lw0($=0,Q={}){let J={},K=(Y,Z)=>{let q=Y.props._offset,X=Y.id,W=Y.parent&&Y.parent.id,F;if(W&&!(W in Q))K(Y.parent,!1);if(W in J){let H=J[W]=J[W]||Lw0(Q[W],Q);F=H(Y,Z),J[X]=H}else if(Number.isFinite(q))F=q+(Q[W]||0),J[X]=null;else F=$;if(Z&&F>=$)$=F+1;return Q[X]=F,F};return K}function iU1($,{shaderModuleProps:Q,target:J,viewport:K}){let Y=Q?.project?.devicePixelRatio??$.canvasContext.cssToDeviceRatio(),[,Z]=$.canvasContext.getDrawingBufferSize(),q=J?J.height:Z,X=K;return[X.x*Y,q-(X.y+X.height)*Y,X.width*Y,X.height*Y]}function Ew0($,...Q){for(let J of Q)if(J)for(let K in J)if($[K])Object.assign($[K],J[K]);else $[K]=J[K];return $}var AX;var pE=h(()=>{AX=class AX extends mE{constructor(){super(...arguments);this._lastRenderIndex=-1}render($){let[Q,J]=this.device.canvasContext.getDrawingBufferSize(),K=$.clearCanvas??!0,Y=$.clearColor??(K?[0,0,0,0]:!1),Z=K?1:!1,q=K?0:!1,X=$.colorMask??15,W={viewport:[0,0,Q,J]};if($.colorMask)W.colorMask=X;if($.scissorRect)W.scissorRect=$.scissorRect;let F=this.device.beginRenderPass({framebuffer:$.target,parameters:W,clearColor:Y,clearDepth:Z,clearStencil:q});try{return this._drawLayers(F,$)}finally{F.end(),this.device.submit()}}_drawLayers($,Q){let{target:J,shaderModuleProps:K,viewports:Y,views:Z,onViewportActive:q,clearStack:X=!0}=Q;if(Q.pass=Q.pass||"unknown",X)this._lastRenderIndex=-1;let W=[];for(let F of Y){let H=Z&&Z[F.id];q?.(F);let B=this._getDrawLayerParams(F,Q),z=F.subViewports||[F];for(let A of z){let R=this._drawLayersInViewport($,{target:J,shaderModuleProps:K,viewport:A,view:H,pass:Q.pass,layers:Q.layers},B);W.push(R)}}return W}_getDrawLayerParams($,{layers:Q,pass:J,isPicking:K=!1,layerFilter:Y,cullRect:Z,effects:q,shaderModuleProps:X},W=!1){let F=[],H=Lw0(this._lastRenderIndex+1),B={layer:Q[0],viewport:$,isPicking:K,renderPass:J,cullRect:Z},z={};for(let A=0;A<Q.length;A++){let R=Q[A],G=this._shouldDrawLayer(R,B,Y,z),O={shouldDrawLayer:G};if(G&&!W)O.shouldDrawLayer=!0,O.layerRenderIndex=H(R,G),O.shaderModuleProps=this._getShaderModuleProps(R,q,J,X),O.layerParameters={...R.context.deck?.props.parameters,...this.getLayerParameters(R,A,$)};F[A]=O}return F}_drawLayersInViewport($,{layers:Q,shaderModuleProps:J,pass:K,target:Y,viewport:Z,view:q},X){let W=iU1(this.device,{shaderModuleProps:J,target:Y,viewport:Z});if(q&&q.props.clear){let H=q.props.clear===!0?{color:!0,depth:!0}:q.props.clear;this.device.beginRenderPass({framebuffer:Y,parameters:{viewport:W,scissorRect:W},clearColor:H.color?[0,0,0,0]:!1,clearDepth:H.depth?1:!1}).end()}let F={totalCount:Q.length,visibleCount:0,compositeCount:0,pickableCount:0};$.setParameters({viewport:W});for(let H=0;H<Q.length;H++){let B=Q[H],z=X[H],{shouldDrawLayer:A}=z;if(A&&B.props.pickable)F.pickableCount++;if(B.isComposite)F.compositeCount++;if(B.isDrawable&&z.shouldDrawLayer){let{layerRenderIndex:R,shaderModuleProps:G,layerParameters:O}=z;if(F.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,R),G.project)G.project.viewport=Z;B.context.renderPass=$;try{B._drawLayer({renderPass:$,shaderModuleProps:G,uniforms:{layerIndex:R},parameters:O})}catch(T){B.raiseError(T,`drawing ${B} to ${K}`)}}}return F}shouldDrawLayer($){return!0}getShaderModuleProps($,Q,J){return null}getLayerParameters($,Q,J){return $.props.parameters}_shouldDrawLayer($,Q,J,K){if(!($.props.visible&&this.shouldDrawLayer($)))return!1;Q.layer=$;let Z=$.parent;while(Z){if(!Z.props.visible||!Z.filterSubLayer(Q))return!1;Q.layer=Z,Z=Z.parent}if(J){let q=Q.layer.id;if(!(q in K))K[q]=J(Q);if(!K[q])return!1}return $.activateViewport(Q.viewport),!0}_getShaderModuleProps($,Q,J,K){let Y=this.device.canvasContext.cssToDeviceRatio(),Z=$.internalState?.propsInTransition||$.props,q={layer:Z,picking:{isActive:!1},project:{viewport:$.context.viewport,devicePixelRatio:Y,modelMatrix:Z.modelMatrix,coordinateSystem:Z.coordinateSystem,coordinateOrigin:Z.coordinateOrigin,autoWrapLongitude:$.wrapLongitude}};if(Q)for(let X of Q)Ew0(q,X.getShaderModuleProps?.($,q));return Ew0(q,this.getShaderModuleProps($,Q,q),K)}}});var dE;var hw0=h(()=>{pE();dE=class dE extends AX{constructor($,Q){super($,Q);let J=$.createTexture({format:"rgba8unorm",width:1,height:1,sampler:{minFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},mipmaps:!0}),K=$.createTexture({format:"depth16unorm",width:1,height:1,mipmaps:!1});this.fbo=$.createFramebuffer({id:"shadowmap",width:1,height:1,colorAttachments:[J],depthStencilAttachment:K})}delete(){if(this.fbo)this.fbo.destroy(),this.fbo=null}getShadowMap(){return this.fbo.colorAttachments[0].texture}render($){let Q=this.fbo,J=this.device.canvasContext.cssToDeviceRatio(),K=$.viewports[0],Y=K.width*J,Z=K.height*J,q=[1,1,1,1];if(Y!==Q.width||Z!==Q.height)Q.resize({width:Y,height:Z});super.render({...$,clearColor:q,target:Q,pass:"shadow"})}getLayerParameters($,Q,J){return{...$.props.parameters,blend:!1,depthWriteEnabled:!0,depthCompare:"less-equal"}}shouldDrawLayer($){return $.props.shadowEnabled!==!1}getShaderModuleProps($,Q,J){return{shadow:{project:J.project,drawToShadowMap:!0}}}}});class zO{constructor($={}){this.id="lighting-effect",this.shadowColor=oU1,this.shadow=!1,this.directionalLights=[],this.pointLights=[],this.shadowPasses=[],this.dummyShadowMap=null,this.setProps($)}setup($){this.context=$;let{device:Q,deck:J}=$;if(this.shadow&&!this.dummyShadowMap)this._createShadowPasses(Q),J._addDefaultShaderModule(cE),this.dummyShadowMap=Q.createTexture({width:1,height:1})}setProps($){this.ambientLight=void 0,this.directionalLights=[],this.pointLights=[];for(let Q in $){let J=$[Q];switch(J.type){case"ambient":this.ambientLight=J;break;case"directional":this.directionalLights.push(J);break;case"point":this.pointLights.push(J);break;default:}}if(this._applyDefaultLights(),this.shadow=this.directionalLights.some((Q)=>Q.shadow),this.context)this.setup(this.context);this.props=$}preRender({layers:$,layerFilter:Q,viewports:J,onViewportActive:K,views:Y}){if(!this.shadow)return;this.shadowMatrices=this._calculateMatrices();for(let Z=0;Z<this.shadowPasses.length;Z++)this.shadowPasses[Z].render({layers:$,layerFilter:Q,viewports:J,onViewportActive:K,views:Y,shaderModuleProps:{shadow:{shadowLightId:Z,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}}})}getShaderModuleProps($,Q){let J=this.shadow?{project:Q.project,shadowMaps:this.shadowPasses.map((Z)=>Z.getShadowMap()),dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{},K={enabled:!0,ambientLight:this.ambientLight,directionalLights:this.directionalLights.map((Z)=>Z.getProjectedLight({layer:$})),pointLights:this.pointLights.map((Z)=>Z.getProjectedLight({layer:$}))},Y=$.props.material;return{shadow:J,lighting:K,phongMaterial:Y,gouraudMaterial:Y}}cleanup($){for(let Q of this.shadowPasses)Q.delete();if(this.shadowPasses.length=0,this.dummyShadowMap)this.dummyShadowMap.destroy(),this.dummyShadowMap=null,$.deck._removeDefaultShaderModule(cE)}_calculateMatrices(){let $=[];for(let Q of this.directionalLights){let J=new B4().lookAt({eye:new N4(Q.direction).negate()});$.push(J)}return $}_createShadowPasses($){for(let Q=0;Q<this.directionalLights.length;Q++){let J=new dE($);this.shadowPasses[Q]=J}}_applyDefaultLights(){let{ambientLight:$,pointLights:Q,directionalLights:J}=this;if(!$&&Q.length===0&&J.length===0)this.ambientLight=new ll(sU1),this.directionalLights.push(new uE(vw0[0]),new uE(vw0[1]))}}var sU1,vw0,oU1;var Sw0=h(()=>{kw0();jw0();z4();hw0();Dw0();sU1={color:[255,255,255],intensity:1},vw0=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:0.9,direction:[1,-8,-2.5]}],oU1=[0,0,0,0.7843137254901961]});class _w0{constructor($={}){this._pool=[],this.opts={overAlloc:2,poolSize:100},this.setOptions($)}setOptions($){Object.assign(this.opts,$)}allocate($,Q,{size:J=1,type:K,padding:Y=0,copy:Z=!1,initialize:q=!1,maxCount:X}){let W=K||$&&$.constructor||Float32Array,F=Q*J+Y;if(ArrayBuffer.isView($)){if(F<=$.length)return $;if(F*$.BYTES_PER_ELEMENT<=$.buffer.byteLength)return new W($.buffer,0,F)}let H=1/0;if(X)H=X*J+Y;let B=this._allocate(W,F,q,H);if($&&Z)B.set($);else if(!q)B.fill(0,0,4);return this._release($),B}release($){this._release($)}_allocate($,Q,J,K){let Y=Math.max(Math.ceil(Q*this.opts.overAlloc),1);if(Y>K)Y=K;let Z=this._pool,q=$.BYTES_PER_ELEMENT*Y,X=Z.findIndex((W)=>W.byteLength>=q);if(X>=0){let W=new $(Z.splice(X,1)[0],0,Y);if(J)W.fill(0);return W}return new $(Y)}_release($){if(!ArrayBuffer.isView($))return;let Q=this._pool,{buffer:J}=$,{byteLength:K}=J,Y=Q.findIndex((Z)=>Z.byteLength>=K);if(Y<0)Q.push(J);else if(Y>0||Q.length<this.opts.poolSize)Q.splice(Y,0,J);if(Q.length>this.opts.poolSize)Q.shift()}}var yQ;var jB=h(()=>{yQ=new _w0});function LB(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Iw0($){return[$[12],$[13],$[14]]}function Mw0($){return{left:EB($[3]+$[0],$[7]+$[4],$[11]+$[8],$[15]+$[12]),right:EB($[3]-$[0],$[7]-$[4],$[11]-$[8],$[15]-$[12]),bottom:EB($[3]+$[1],$[7]+$[5],$[11]+$[9],$[15]+$[13]),top:EB($[3]-$[1],$[7]-$[5],$[11]-$[9],$[15]-$[13]),near:EB($[3]+$[2],$[7]+$[6],$[11]+$[10],$[15]+$[14]),far:EB($[3]-$[2],$[7]-$[6],$[11]-$[10],$[15]-$[14])}}function EB($,Q,J,K){fw0.set($,Q,J);let Y=fw0.len();return{distance:K/Y,normal:new N4(-$/Y,-Q/Y,-J/Y)}}function aU1($){return $-Math.fround($)}function nE($,Q){let{size:J=1,startIndex:K=0}=Q,Y=Q.endIndex!==void 0?Q.endIndex:$.length,Z=(Y-K)/J;AO=yQ.allocate(AO,Z,{type:Float32Array,size:J*2});let q=K,X=0;while(q<Y){for(let W=0;W<J;W++){let F=$[q++];AO[X+W]=F,AO[X+W+J]=aU1(F)}X+=J*2}return AO.subarray(0,Z*J*2)}function bw0($){let Q=null,J=!1;for(let K of $){if(!K)continue;if(!Q)Q=K;else{if(!J)Q=[[Q[0][0],Q[0][1]],[Q[1][0],Q[1][1]]],J=!0;Q[0][0]=Math.min(Q[0][0],K[0][0]),Q[0][1]=Math.min(Q[0][1],K[0][1]),Q[1][0]=Math.max(Q[1][0],K[1][0]),Q[1][1]=Math.max(Q[1][1],K[1][1])}}return Q}var fw0,AO;var lE=h(()=>{jB();z4();fw0=new N4});function QH1({width:$,height:Q,orthographic:J,fovyRadians:K,focalDistance:Y,padding:Z,near:q,far:X}){let W=$/Q,F=J?new B4().orthographic({fovy:K,aspect:W,focalDistance:Y,near:q,far:X}):new B4().perspective({fovy:K,aspect:W,near:q,far:X});if(Z){let{left:H=0,right:B=0,top:z=0,bottom:A=0}=Z,R=C$((H+$-B)/2,0,$)-$/2,G=C$((z+Q-A)/2,0,Q)-Q/2;F[8]-=R*2/$,F[9]+=G*2/Q}return F}class rE{constructor($={}){this._frustumPlanes={},this.id=$.id||this.constructor.displayName||"viewport",this.x=$.x||0,this.y=$.y||0,this.width=$.width||1,this.height=$.height||1,this.zoom=$.zoom||0,this.padding=$.padding,this.distanceScales=$.distanceScales||$H1,this.focalDistance=$.focalDistance||1,this.position=$.position||gw0,this.modelMatrix=$.modelMatrix||null;let{longitude:Q,latitude:J}=$;this.isGeospatial=Number.isFinite(J)&&Number.isFinite(Q),this._initProps($),this._initMatrices($),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get subViewports(){return null}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){if(this.isGeospatial)return this.zoom<12?d8.WEB_MERCATOR:d8.WEB_MERCATOR_AUTO_OFFSET;return d8.IDENTITY}equals($){if(!($ instanceof rE))return!1;if(this===$)return!0;return $.width===this.width&&$.height===this.height&&$.scale===this.scale&&oY($.projectionMatrix,this.projectionMatrix)&&oY($.viewMatrix,this.viewMatrix)}project($,{topLeft:Q=!0}={}){let J=this.projectPosition($),K=kB(J,this.pixelProjectionMatrix),[Y,Z]=K,q=Q?Z:this.height-Z;return $.length===2?[Y,q]:[Y,q,K[2]]}unproject($,{topLeft:Q=!0,targetZ:J}={}){let[K,Y,Z]=$,q=Q?Y:this.height-Y,X=J&&J*this.distanceScales.unitsPerMeter[2],W=zX([K,q,Z],this.pixelUnprojectionMatrix,X),[F,H,B]=this.unprojectPosition(W);if(Number.isFinite(Z))return[F,H,B];return Number.isFinite(J)?[F,H,J]:[F,H]}projectPosition($){let[Q,J]=this.projectFlat($),K=($[2]||0)*this.distanceScales.unitsPerMeter[2];return[Q,J,K]}unprojectPosition($){let[Q,J]=this.unprojectFlat($),K=($[2]||0)*this.distanceScales.metersPerUnit[2];return[Q,J,K]}projectFlat($){if(this.isGeospatial){let Q=eY($);return Q[1]=C$(Q[1],-318,830),Q}return $}unprojectFlat($){if(this.isGeospatial)return V3($);return $}getBounds($={}){let Q={targetZ:$.z||0},J=this.unproject([0,0],Q),K=this.unproject([this.width,0],Q),Y=this.unproject([0,this.height],Q),Z=this.unproject([this.width,this.height],Q);return[Math.min(J[0],K[0],Y[0],Z[0]),Math.min(J[1],K[1],Y[1],Z[1]),Math.max(J[0],K[0],Y[0],Z[0]),Math.max(J[1],K[1],Y[1],Z[1])]}getDistanceScales($){if($&&this.isGeospatial)return PB({longitude:$[0],latitude:$[1],highPrecision:!0});return this.distanceScales}containsPixel({x:$,y:Q,width:J=1,height:K=1}){return $<this.x+this.width&&this.x<$+J&&Q<this.y+this.height&&this.y<Q+K}getFrustumPlanes(){if(this._frustumPlanes.near)return this._frustumPlanes;return Object.assign(this._frustumPlanes,Mw0(this.viewProjectionMatrix)),this._frustumPlanes}panByPosition($,Q){return null}_initProps($){let{longitude:Q,latitude:J}=$;if(this.isGeospatial){if(!Number.isFinite($.zoom))this.zoom=xl({latitude:J})+Math.log2(this.focalDistance);this.distanceScales=$.distanceScales||PB({latitude:J,longitude:Q})}let K=Math.pow(2,this.zoom);this.scale=K;let{position:Y,modelMatrix:Z}=$,q=gw0;if(Y)q=Z?new B4(Z).transformAsVector(Y,[]):Y;if(this.isGeospatial){let X=this.projectPosition([Q,J,0]);this.center=new N4(q).scale(this.distanceScales.unitsPerMeter).add(X)}else this.center=this.projectPosition(q)}_initMatrices($){let{viewMatrix:Q=eU1,projectionMatrix:J=null,orthographic:K=!1,fovyRadians:Y,fovy:Z=75,near:q=0.1,far:X=1000,padding:W=null,focalDistance:F=1}=$;this.viewMatrixUncentered=Q,this.viewMatrix=new B4().multiplyRight(Q).translate(new N4(this.center).negate()),this.projectionMatrix=J||QH1({width:this.width,height:this.height,orthographic:K,fovyRadians:Y||Z*tU1,focalDistance:F,padding:W,near:q,far:X});let H=LB();F8.multiply(H,H,this.projectionMatrix),F8.multiply(H,H,this.viewMatrix),this.viewProjectionMatrix=H,this.viewMatrixInverse=F8.invert([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=Iw0(this.viewMatrixInverse);let B=LB(),z=LB();if(F8.scale(B,B,[this.width/2,-this.height/2,1]),F8.translate(B,B,[1,-1,0]),F8.multiply(z,B,this.viewProjectionMatrix),this.pixelProjectionMatrix=z,this.pixelUnprojectionMatrix=F8.invert(LB(),this.pixelProjectionMatrix),!this.pixelUnprojectionMatrix)I1.warn("Pixel project matrix not invertible")()}}var tU1,eU1,gw0,$H1,iE;var rl=h(()=>{p8();lE();z4();VF();MQ();tU1=Math.PI/180,eU1=LB(),gw0=[0,0,0],$H1={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};rE.displayName="Viewport";iE=rE});var VO,sE;var il=h(()=>{rl();VF();z4();VO=class VO extends iE{constructor($={}){let{latitude:Q=0,longitude:J=0,zoom:K=0,pitch:Y=0,bearing:Z=0,nearZMultiplier:q=0.1,farZMultiplier:X=1.01,nearZ:W,farZ:F,orthographic:H=!1,projectionMatrix:B,repeat:z=!1,worldOffset:A=0,position:R,padding:G,legacyMeterSizes:O=!1}=$,{width:T,height:D,altitude:P=1.5}=$,j=Math.pow(2,K);T=T||1,D=D||1;let E,L=null;if(B)P=B[5]/2,E=zF(P);else{if($.fovy)E=$.fovy,P=BO(E);else E=zF(P);let f;if(G){let{top:_=0,bottom:M=0}=G;f=[0,C$((_+D-M)/2,0,D)-D/2]}if(L=cl({width:T,height:D,scale:j,center:R&&[0,0,R[2]*HO(Q)],offset:f,pitch:Y,fovy:E,nearZMultiplier:q,farZMultiplier:X}),Number.isFinite(W))L.near=W;if(Number.isFinite(F))L.far=F}let v=gE({height:D,pitch:Y,bearing:Z,scale:j,altitude:P});if(A)v=new B4().translate([512*A,0,0]).multiplyLeft(v);super({...$,width:T,height:D,viewMatrix:v,longitude:J,latitude:Q,zoom:K,...L,fovy:E,focalDistance:P});this.latitude=Q,this.longitude=J,this.zoom=K,this.pitch=Y,this.bearing=Z,this.altitude=P,this.fovy=E,this.orthographic=H,this._subViewports=z?[]:null,this._pseudoMeters=O,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){let $=this.getBounds(),Q=Math.floor(($[0]+180)/360),J=Math.ceil(($[2]-180)/360);for(let K=Q;K<=J;K++){let Y=K?new VO({...this,worldOffset:K}):this;this._subViewports.push(Y)}}return this._subViewports}projectPosition($){if(this._pseudoMeters)return super.projectPosition($);let[Q,J]=this.projectFlat($),K=($[2]||0)*HO($[1]);return[Q,J,K]}unprojectPosition($){if(this._pseudoMeters)return super.unprojectPosition($);let[Q,J]=this.unprojectFlat($),K=($[2]||0)/HO(J);return[Q,J,K]}addMetersToLngLat($,Q){return NO($,Q)}panByPosition($,Q){let J=zX(Q,this.pixelUnprojectionMatrix),K=this.projectFlat($),Y=HK.add([],K,HK.negate([],J)),Z=HK.add([],this.center,Y),[q,X]=this.unprojectFlat(Z);return{longitude:q,latitude:X}}getBounds($={}){let Q=xE(this,$.z||0);return[Math.min(Q[0][0],Q[1][0],Q[2][0],Q[3][0]),Math.min(Q[0][1],Q[1][1],Q[2][1],Q[3][1]),Math.max(Q[0][0],Q[1][0],Q[2][0],Q[3][0]),Math.max(Q[0][1],Q[1][1],Q[2][1],Q[3][1])]}fitBounds($,Q={}){let{width:J,height:K}=this,{longitude:Y,latitude:Z,zoom:q}=yE({width:J,height:K,bounds:$,...Q});return new VO({width:J,height:K,longitude:Y,latitude:Z,zoom:q})}};VO.displayName="WebMercatorViewport";sE=VO});function sl($,Q,J=!1){let K=Q.projectPosition($);if(J&&Q instanceof sE){let[Y,Z,q=0]=$,X=Q.getDistanceScales([Y,Z]);K[2]=q*X.unitsPerMeter[2]}return K}function JH1($){let{viewport:Q,modelMatrix:J,coordinateOrigin:K}=$,{coordinateSystem:Y,fromCoordinateSystem:Z,fromCoordinateOrigin:q}=$;if(Y===C5.DEFAULT)Y=Q.isGeospatial?C5.LNGLAT:C5.CARTESIAN;if(Z===void 0)Z=Y;if(q===void 0)q=K;return{viewport:Q,coordinateSystem:Y,coordinateOrigin:K,modelMatrix:J,fromCoordinateSystem:Z,fromCoordinateOrigin:q}}function ol($,{viewport:Q,modelMatrix:J,coordinateSystem:K,coordinateOrigin:Y,offsetMode:Z}){let[q,X,W=0]=$;if(J)[q,X,W]=fQ.transformMat4([],[q,X,W,1],J);switch(K){case C5.LNGLAT:return sl([q,X,W],Q,Z);case C5.LNGLAT_OFFSETS:return sl([q+Y[0],X+Y[1],W+(Y[2]||0)],Q,Z);case C5.METER_OFFSETS:return sl(NO(Y,[q,X,W]),Q,Z);case C5.CARTESIAN:default:return Q.isGeospatial?[q+Y[0],X+Y[1],W+Y[2]]:Q.projectPosition([q,X,W])}}function xw0($,Q){let{viewport:J,coordinateSystem:K,coordinateOrigin:Y,modelMatrix:Z,fromCoordinateSystem:q,fromCoordinateOrigin:X}=JH1(Q),{autoOffset:W=!0}=Q,{geospatialOrigin:F=yw0,shaderCoordinateOrigin:H=yw0,offsetMode:B=!1}=W?_l(J,K,Y):{},z=ol($,{viewport:J,modelMatrix:Z,coordinateSystem:q,coordinateOrigin:X,offsetMode:B});if(B){let A=J.projectPosition(F||H);UF.sub(z,z,A)}return z}var yw0;var cw0=h(()=>{MQ();fl();il();z4();VF();yw0=[0,0,0]});class hB{time=0;channels=new Map;animations=new Map;playing=!1;lastEngineTime=-1;constructor(){}addChannel($){let{delay:Q=0,duration:J=Number.POSITIVE_INFINITY,rate:K=1,repeat:Y=1}=$,Z=KH1++,q={time:0,delay:Q,duration:J,rate:K,repeat:Y};return this._setChannelTime(q,this.time),this.channels.set(Z,q),Z}removeChannel($){this.channels.delete($);for(let[Q,J]of this.animations)if(J.channel===$)this.detachAnimation(Q)}isFinished($){let Q=this.channels.get($);if(Q===void 0)return!1;return this.time>=Q.delay+Q.duration*Q.repeat}getTime($){if($===void 0)return this.time;let Q=this.channels.get($);if(Q===void 0)return-1;return Q.time}setTime($){this.time=Math.max(0,$);let Q=this.channels.values();for(let K of Q)this._setChannelTime(K,this.time);let J=this.animations.values();for(let K of J){let{animation:Y,channel:Z}=K;Y.setTime(this.getTime(Z))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation($,Q){let J=YH1++;return this.animations.set(J,{animation:$,channel:Q}),$.setTime(this.getTime(Q)),J}detachAnimation($){this.animations.delete($)}update($){if(this.playing){if(this.lastEngineTime===-1)this.lastEngineTime=$;this.setTime(this.time+($-this.lastEngineTime)),this.lastEngineTime=$}}_setChannelTime($,Q){let J=Q-$.delay,K=$.duration*$.repeat;if(J>=K)$.time=$.duration*$.rate;else $.time=Math.max(0,J)%$.duration,$.time*=$.rate}}var KH1=1,YH1=1;function uw0($){return typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame($):setTimeout($,16.666666666666668)}function mw0($){return typeof window<"u"&&window.cancelAnimationFrame?window.cancelAnimationFrame($):clearTimeout($)}class oE{device=null;canvas=null;props;animationProps=null;timeline=null;stats;cpuTime;gpuTime;frameRate;display;needsRedraw="initialized";_initialized=!1;_running=!1;_animationFrameId=null;_nextFramePromise=null;_resolveNextFrame=null;_cpuStartTime=0;_error=null;constructor($){if(this.props={...qH1,...$},$=this.props,!$.device)throw Error("No device provided");let{useDevicePixels:Q=!0}=this.props;this.stats=$.stats||new SQ({id:"animation-loop-stats"}),this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this.setProps({autoResizeViewport:$.autoResizeViewport,autoResizeDrawingBuffer:$.autoResizeDrawingBuffer,useDevicePixels:Q}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}destroy(){this.stop(),this._setDisplay(null)}delete(){this.destroy()}setError($){if(this.props.onError($),this._error=Error(),this.device?.canvasContext?.canvas instanceof HTMLCanvasElement){let J=document.createElement("h1");J.innerHTML=$.message,J.style.position="absolute",J.style.top="20%",J.style.left="10px",J.style.color="black",J.style.backgroundColor="red",document.body.appendChild(J)}}setNeedsRedraw($){return this.needsRedraw=this.needsRedraw||$,this}setProps($){if("autoResizeViewport"in $)this.props.autoResizeViewport=$.autoResizeViewport||!1;if("autoResizeDrawingBuffer"in $)this.props.autoResizeDrawingBuffer=$.autoResizeDrawingBuffer||!1;if("useDevicePixels"in $)this.props.useDevicePixels=$.useDevicePixels||!1;return this}async start(){if(this._running)return this;this._running=!0;try{let $;if(!this._initialized)this._initialized=!0,await this._initDevice(),this._initialize(),await this.props.onInitialize(this._getAnimationProps());if(!this._running)return null;if($!==!1)this._cancelAnimationFrame(),this._requestAnimationFrame();return this}catch($){let Q=$ instanceof Error?$:Error("Unknown error");throw this.props.onError(Q),Q}}stop(){if(this._running){if(this.animationProps&&!this._error)this.props.onFinalize(this.animationProps);this._cancelAnimationFrame(),this._nextFramePromise=null,this._resolveNextFrame=null,this._running=!1}return this}redraw(){if(this.device?.isLost||this._error)return this;if(this._beginFrameTimers(),this._setupFrame(),this._updateAnimationProps(),this._renderFrame(this._getAnimationProps()),this._clearNeedsRedraw(),this._resolveNextFrame)this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null;return this._endFrameTimers(),this}attachTimeline($){return this.timeline=$,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){if(this.setNeedsRedraw("waitForRender"),!this._nextFramePromise)this._nextFramePromise=new Promise(($)=>{this._resolveNextFrame=$});return this._nextFramePromise}async toDataURL(){if(this.setNeedsRedraw("toDataURL"),await this.waitForRender(),this.canvas instanceof HTMLCanvasElement)return this.canvas.toDataURL();throw Error("OffscreenCanvas")}_initialize(){this._startEventHandling(),this._initializeAnimationProps(),this._updateAnimationProps(),this._resizeCanvasDrawingBuffer(),this._resizeViewport()}_setDisplay($){if(this.display)this.display.destroy(),this.display.animationLoop=null;if($)$.animationLoop=this;this.display=$}_requestAnimationFrame(){if(!this._running)return;this._animationFrameId=uw0(this._animationFrame.bind(this))}_cancelAnimationFrame(){if(this._animationFrameId===null)return;mw0(this._animationFrameId),this._animationFrameId=null}_animationFrame(){if(!this._running)return;this.redraw(),this._requestAnimationFrame()}_renderFrame($){if(this.display){this.display._renderFrame($);return}this.props.onRender(this._getAnimationProps()),this.device?.submit()}_clearNeedsRedraw(){this.needsRedraw=!1}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport()}_initializeAnimationProps(){let $=this.device?.canvasContext?.canvas;if(!this.device||!$)throw Error("loop");this.animationProps={animationLoop:this,device:this.device,canvas:$,timeline:this.timeline,useDevicePixels:this.props.useDevicePixels,needsRedraw:!1,width:1,height:1,aspect:1,time:0,startTime:Date.now(),engineTime:0,tick:0,tock:0,_mousePosition:null}}_getAnimationProps(){if(!this.animationProps)throw Error("animationProps");return this.animationProps}_updateAnimationProps(){if(!this.animationProps)return;let{width:$,height:Q,aspect:J}=this._getSizeAndAspect();if($!==this.animationProps.width||Q!==this.animationProps.height)this.setNeedsRedraw("drawing buffer resized");if(J!==this.animationProps.aspect)this.setNeedsRedraw("drawing buffer aspect changed");if(this.animationProps.width=$,this.animationProps.height=Q,this.animationProps.aspect=J,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline)this.timeline.update(this.animationProps.engineTime);this.animationProps.tick=Math.floor(this.animationProps.time/1000*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime}async _initDevice(){if(this.device=await this.props.device,!this.device)throw Error("No device provided");this.canvas=this.device.canvasContext?.canvas||null}_createInfoDiv(){if(this.canvas&&this.props.onAddHTML){let $=document.createElement("div");document.body.appendChild($),$.style.position="relative";let Q=document.createElement("div");if(Q.style.position="absolute",Q.style.left="10px",Q.style.bottom="10px",Q.style.width="300px",Q.style.background="white",this.canvas instanceof HTMLCanvasElement)$.appendChild(this.canvas);$.appendChild(Q);let J=this.props.onAddHTML(Q);if(J)Q.innerHTML=J}}_getSizeAndAspect(){if(!this.device)return{width:1,height:1,aspect:1};let[$,Q]=this.device?.canvasContext?.getPixelSize()||[1,1],J=1,K=this.device?.canvasContext?.canvas;if(K&&K.clientHeight)J=K.clientWidth/K.clientHeight;else if($>0&&Q>0)J=$/Q;return{width:$,height:Q,aspect:J}}_resizeViewport(){if(this.props.autoResizeViewport&&this.device.gl)this.device.gl.viewport(0,0,this.device.gl.drawingBufferWidth,this.device.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){if(this.props.autoResizeDrawingBuffer)this.device?.canvasContext?.resize({useDevicePixels:this.props.useDevicePixels})}_beginFrameTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this.cpuTime.timeStart()}_endFrameTimers(){this.cpuTime.timeEnd()}_startEventHandling(){if(this.canvas)this.canvas.addEventListener("mousemove",this._onMousemove.bind(this)),this.canvas.addEventListener("mouseleave",this._onMouseleave.bind(this))}_onMousemove($){if($ instanceof MouseEvent)this._getAnimationProps()._mousePosition=[$.offsetX,$.offsetY]}_onMouseleave($){this._getAnimationProps()._mousePosition=null}}var ZH1=0,qH1;var pw0=h(()=>{v5();wG();qH1={device:null,onAddHTML:()=>"",onInitialize:async()=>{return null},onRender:()=>{},onFinalize:()=>{},onError:($)=>console.error($),stats:qB.stats.get(`animation-loop-${ZH1++}`),useDevicePixels:!0,autoResizeViewport:!1,autoResizeDrawingBuffer:!1}});function VX($="id"){al[$]=al[$]||1;let Q=al[$]++;return`${$}-${Q}`}var al;var RO=h(()=>{al={}});class tl{id;userData={};topology;bufferLayout=[];vertexCount;indices;attributes;constructor($){if(this.id=$.id||VX("geometry"),this.topology=$.topology,this.indices=$.indices||null,this.attributes=$.attributes,this.vertexCount=$.vertexCount,this.bufferLayout=$.bufferLayout||[],this.indices){if(!(this.indices.usage&u5.INDEX))throw Error("Index buffer must have INDEX usage")}}destroy(){this.indices?.destroy();for(let $ of Object.values(this.attributes))$.destroy()}getVertexCount(){return this.vertexCount}getAttributes(){return this.attributes}getIndexes(){return this.indices||null}_calculateVertexCount($){return $.byteLength/12}}function dw0($,Q){if(Q instanceof tl)return Q;let J=XH1($,Q),{attributes:K,bufferLayout:Y}=WH1($,Q);return new tl({topology:Q.topology||"triangle-list",bufferLayout:Y,vertexCount:Q.vertexCount,indices:J,attributes:K})}function XH1($,Q){if(!Q.indices)return;let J=Q.indices.value;return $.createBuffer({usage:u5.INDEX,data:J})}function WH1($,Q){let J=[],K={};for(let[Z,q]of Object.entries(Q.attributes)){let X=Z;switch(Z){case"POSITION":X="positions";break;case"NORMAL":X="normals";break;case"TEXCOORD_0":X="texCoords";break;case"COLOR_0":X="colors";break}if(q){K[X]=$.createBuffer({data:q.value,id:`${Z}-buffer`});let{value:W,size:F,normalized:H}=q;J.push({name:X,format:bd(W,F,H)})}}let Y=Q._calculateVertexCount(Q.attributes,Q.indices);return{attributes:K,bufferLayout:J,vertexCount:Y}}var nw0=h(()=>{v5();RO()});var aE;var lw0=h(()=>{v5();aE=class aE{static defaultProps={...qK.defaultProps};static getDefaultPipelineFactory($){return $._lumaData.defaultPipelineFactory=$._lumaData.defaultPipelineFactory||new aE($),$._lumaData.defaultPipelineFactory}device;destroyPolicy;_hashCounter=0;_hashes={};_renderPipelineCache={};_computePipelineCache={};constructor($){this.device=$,this.destroyPolicy=$.props._factoryDestroyPolicy}createRenderPipeline($){let Q={...qK.defaultProps,...$},J=this._hashRenderPipeline(Q);if(!this._renderPipelineCache[J]){let K=this.device.createRenderPipeline({...Q,id:Q.id?`${Q.id}-cached`:void 0});K.hash=J,this._renderPipelineCache[J]={pipeline:K,useCount:0}}return this._renderPipelineCache[J].useCount++,this._renderPipelineCache[J].pipeline}createComputePipeline($){let Q={...XB.defaultProps,...$},J=this._hashComputePipeline(Q);if(!this._computePipelineCache[J]){let K=this.device.createComputePipeline({...Q,id:Q.id?`${Q.id}-cached`:void 0});K.hash=J,this._computePipelineCache[J]={pipeline:K,useCount:0}}return this._computePipelineCache[J].useCount++,this._computePipelineCache[J].pipeline}release($){let Q=$.hash,J=$ instanceof XB?this._computePipelineCache:this._renderPipelineCache;if(J[Q].useCount--,J[Q].useCount===0){if(this.destroyPolicy==="unused")J[Q].pipeline.destroy(),delete J[Q]}}_hashComputePipeline($){return`${this._getHash($.shader.source)}`}_hashRenderPipeline($){let Q=$.vs?this._getHash($.vs.source):0,J=$.fs?this._getHash($.fs.source):0,K="-",Y=this._getHash(JSON.stringify($.bufferLayout));switch(this.device.type){case"webgl":return`${Q}/${J}V-BL${Y}`;default:let Z=this._getHash(JSON.stringify($.parameters));return`${Q}/${J}V-T${$.topology}P${Z}BL${Y}`}}_getHash($){if(this._hashes[$]===void 0)this._hashes[$]=this._hashCounter++;return this._hashes[$]}}});var tE;var rw0=h(()=>{v5();tE=class tE{static defaultProps={...KF.defaultProps};static getDefaultShaderFactory($){return $._lumaData.defaultShaderFactory||=new tE($),$._lumaData.defaultShaderFactory}device;destroyPolicy;_cache={};constructor($){this.device=$,this.destroyPolicy=$.props._factoryDestroyPolicy}createShader($){let Q=this._hashShader($),J=this._cache[Q];if(!J){let K=this.device.createShader({...$,id:$.id?`${$.id}-cached`:void 0});this._cache[Q]=J={shader:K,useCount:0}}return J.useCount++,J.shader}release($){let Q=this._hashShader($),J=this._cache[Q];if(J){if(J.useCount--,J.useCount===0){if(this.destroyPolicy==="unused")delete this._cache[Q],J.shader.destroy()}}}_hashShader($){return`${$.stage}:${$.source}`}}});function iw0($,Q){let J={},K="Values";if($.attributes.length===0&&!$.varyings?.length)return{"No attributes or varyings":{["Values"]:"N/A"}};for(let Y of $.attributes)if(Y){let Z=`${Y.location} ${Y.name}: ${Y.type}`;J[`in ${Z}`]={["Values"]:Y.stepMode||"vertex"}}for(let Y of $.varyings||[]){let Z=`${Y.location} ${Y.name}`;J[`out ${Z}`]={["Values"]:JSON.stringify(Y)}}return J}function sw0($,{id:Q,minimap:J,opaque:K,top:Y="0",left:Z="0",rgbaScale:q=1}){if(!k8)k8=document.createElement("canvas"),k8.id=Q,k8.title=Q,k8.style.zIndex="100",k8.style.position="absolute",k8.style.top=Y,k8.style.left=Z,k8.style.border="blue 5px solid",k8.style.transform="scaleY(-1)",document.body.appendChild(k8),el=k8.getContext("2d");if(k8.width!==$.width||k8.height!==$.height)k8.width=$.width/2,k8.height=$.height/2,k8.style.width="400px",k8.style.height="400px";let X=$.device.readPixelsToArrayWebGL($),W=el?.createImageData($.width,$.height);if(W){for(let H=0;H<X.length;H+=4)W.data[0+H+0]=X[H+0]*q,W.data[0+H+1]=X[H+1]*q,W.data[0+H+2]=X[H+2]*q,W.data[0+H+3]=K?255:X[H+3]*q;el?.putImageData(W,0,0)}}var k8=null,el=null;function eE($,Q,J){if($===Q)return!0;if(!J||!$||!Q)return!1;if(Array.isArray($)){if(!Array.isArray(Q)||$.length!==Q.length)return!1;for(let K=0;K<$.length;K++)if(!eE($[K],Q[K],J-1))return!1;return!0}if(Array.isArray(Q))return!1;if(typeof $==="object"&&typeof Q==="object"){let K=Object.keys($),Y=Object.keys(Q);if(K.length!==Y.length)return!1;for(let Z of K){if(!Q.hasOwnProperty(Z))return!1;if(!eE($[Z],Q[Z],J-1))return!1}return!0}return!1}function ow0($){return ArrayBuffer.isView($)&&!($ instanceof DataView)}function aw0($){if(Array.isArray($))return $.length===0||typeof $[0]==="number";return!1}function GO($){return ow0($)||aw0($)}var $r=()=>{};function FH1($){return GO($)||typeof $==="number"||typeof $==="boolean"}function $L($){let Q={bindings:{},uniforms:{}};return Object.keys($).forEach((J)=>{let K=$[J];if(FH1(K))Q.uniforms[J]=K;else Q.bindings[J]=K}),Q}var Qr=h(()=>{$r()});class Jr{options={disableWarnings:!1};modules;moduleUniforms;moduleBindings;constructor($,Q){Object.assign(this.options,Q);let J=KB(Object.values($).filter((K)=>K.dependencies));for(let K of J)$[K.name]=K;u0.log(1,"Creating ShaderInputs with modules",Object.keys($))(),this.modules=$,this.moduleUniforms={},this.moduleBindings={};for(let[K,Y]of Object.entries($))if(this._addModule(Y),Y.name&&K!==Y.name&&!this.options.disableWarnings)u0.warn(`Module name: ${K} vs ${Y.name}`)()}destroy(){}setProps($){for(let Q of Object.keys($)){let J=Q,K=$[J]||{},Y=this.modules[J];if(!Y){if(!this.options.disableWarnings)u0.warn(`Module ${Q} not found`)();continue}let Z=this.moduleUniforms[J],q=this.moduleBindings[J],X=Y.getUniforms?.(K,Z)||K,{uniforms:W,bindings:F}=$L(X);this.moduleUniforms[J]={...Z,...W},this.moduleBindings[J]={...q,...F}}}getModules(){return Object.values(this.modules)}getUniformValues(){return this.moduleUniforms}getBindingValues(){let $={};for(let Q of Object.values(this.moduleBindings))Object.assign($,Q);return $}getDebugTable(){let $={};for(let[Q,J]of Object.entries(this.moduleUniforms))for(let[K,Y]of Object.entries(J))$[`${Q}.${K}`]={type:this.modules[Q].uniformTypes?.[K],value:String(Y)};return $}_addModule($){let Q=$.name;this.moduleUniforms[Q]=$.defaultUniforms||{},this.moduleBindings[Q]={}}}var tw0=h(()=>{v5();aY();Qr()});async function ew0($,Q){let J=new Image;return J.crossOrigin=Q?.crossOrigin||"anonymous",J.src=$.startsWith("http")?$:UH1+$,await J.decode(),Q?await createImageBitmap(J,Q):await createImageBitmap(J)}var UH1="";async function $T0($){if($=await $,Array.isArray($))return await Promise.all($.map($T0));if($&&typeof $==="object"&&$.constructor===Object){let Q=$,J=await Promise.all(Object.values(Q)),K=Object.keys(Q),Y={};for(let Z=0;Z<K.length;Z++)Y[K[Z]]=J[Z];return Y}return $}var OO;var QT0=h(()=>{RO();OO=class OO{device;id;texture;sampler;view;ready;isReady=!1;destroyed=!1;resolveReady=()=>{};rejectReady=()=>{};get[Symbol.toStringTag](){return"AsyncTexture"}toString(){return`AsyncTexture:"${this.id}"(${this.isReady?"ready":"loading"})`}constructor($,Q){if(this.device=$,this.id=Q.id||VX("async-texture"),typeof Q?.data==="string"&&Q.dimension==="2d")Q={...Q,data:ew0(Q.data)};this.ready=new Promise((J,K)=>{this.resolveReady=()=>{this.isReady=!0,J()},this.rejectReady=K}),this.initAsync(Q)}async initAsync($){let Q=$.data,J;try{J=await $T0(Q)}catch(Y){this.rejectReady(Y)}if(this.destroyed)return;let K={...$,data:J};this.texture=this.device.createTexture(K),this.sampler=this.texture.sampler,this.view=this.texture.view,this.isReady=!0,this.resolveReady()}destroy(){if(this.texture)this.texture.destroy(),this.texture=null;this.destroyed=!0}resize($){if(!this.isReady)throw Error("Cannot resize texture before it is ready");if($.width===this.texture.width&&$.height===this.texture.height)return!1;if(this.texture){let Q=this.texture;this.texture=Q.clone($),Q.destroy()}return!0}}});function NH1($){return Boolean($.uniformTypes&&!Kr($.uniformTypes))}function BH1($){return{type:$.type,shaderLanguage:$.info.shadingLanguage,shaderLanguageVersion:$.info.shadingLanguageVersion,gpu:$.info.gpu,features:$.features}}function Kr($){for(let Q in $)return!1;return!0}var RF=2,HH1=1e4,j8;var Yr=h(()=>{v5();aY();nw0();lw0();rw0();RO();tw0();QT0();Qr();j8=class j8{static defaultProps={...qK.defaultProps,source:void 0,vs:null,fs:null,id:"unnamed",handle:void 0,userData:{},defines:{},modules:[],moduleSettings:void 0,geometry:null,indexBuffer:null,attributes:{},constantAttributes:{},varyings:[],isInstanced:void 0,instanceCount:0,vertexCount:0,shaderInputs:void 0,pipelineFactory:void 0,shaderFactory:void 0,transformFeedback:void 0,shaderAssembler:YK.getDefaultShaderAssembler(),debugShaders:void 0,disableWarnings:void 0};device;id;source;vs;fs;pipelineFactory;shaderFactory;userData={};parameters;topology;bufferLayout;isInstanced=void 0;instanceCount=0;vertexCount;indexBuffer=null;bufferAttributes={};constantAttributes={};bindings={};uniforms={};vertexArray;transformFeedback=null;pipeline;shaderInputs;_uniformStore;_attributeInfos={};_gpuGeometry=null;_getModuleUniforms;props;_pipelineNeedsUpdate="newly created";_needsRedraw="initializing";_destroyed=!1;_lastDrawTimestamp=-1;get[Symbol.toStringTag](){return"Model"}toString(){return`Model(${this.id})`}constructor($,Q){this.props={...j8.defaultProps,...Q},Q=this.props,this.id=Q.id||VX("model"),this.device=$,Object.assign(this.userData,Q.userData);let J=Object.fromEntries(this.props.modules?.map((X)=>[X.name,X])||[]),K=Q.shaderInputs||new Jr(J,{disableWarnings:this.props.disableWarnings});this.setShaderInputs(K);let Y=BH1($),Z=(this.props.modules?.length>0?this.props.modules:this.shaderInputs?.getModules())||[];if(this.device.type==="webgpu"&&this.props.source){let{source:X,getUniforms:W}=this.props.shaderAssembler.assembleWGSLShader({platformInfo:Y,...this.props,modules:Z});this.source=X,this._getModuleUniforms=W,this.props.shaderLayout||=Vn(this.source)}else{let{vs:X,fs:W,getUniforms:F}=this.props.shaderAssembler.assembleGLSLShaderPair({platformInfo:Y,...this.props,modules:Z});this.vs=X,this.fs=W,this._getModuleUniforms=F}if(this.vertexCount=this.props.vertexCount,this.instanceCount=this.props.instanceCount,this.topology=this.props.topology,this.bufferLayout=this.props.bufferLayout,this.parameters=this.props.parameters,Q.geometry)this.setGeometry(Q.geometry);if(this.pipelineFactory=Q.pipelineFactory||aE.getDefaultPipelineFactory(this.device),this.shaderFactory=Q.shaderFactory||tE.getDefaultShaderFactory(this.device),this.pipeline=this._updatePipeline(),this.vertexArray=$.createVertexArray({renderPipeline:this.pipeline}),this._gpuGeometry)this._setGeometryAttributes(this._gpuGeometry);if("isInstanced"in Q)this.isInstanced=Q.isInstanced;if(Q.instanceCount)this.setInstanceCount(Q.instanceCount);if(Q.vertexCount)this.setVertexCount(Q.vertexCount);if(Q.indexBuffer)this.setIndexBuffer(Q.indexBuffer);if(Q.attributes)this.setAttributes(Q.attributes);if(Q.constantAttributes)this.setConstantAttributes(Q.constantAttributes);if(Q.bindings)this.setBindings(Q.bindings);if(Q.uniforms)this.setUniformsWebGL(Q.uniforms);if(Q.moduleSettings)this.updateModuleSettingsWebGL(Q.moduleSettings);if(Q.transformFeedback)this.transformFeedback=Q.transformFeedback;Object.seal(this)}destroy(){if(this._destroyed)return;if(this.pipelineFactory.release(this.pipeline),this.shaderFactory.release(this.pipeline.vs),this.pipeline.fs)this.shaderFactory.release(this.pipeline.fs);this._uniformStore.destroy(),this._gpuGeometry?.destroy(),this._destroyed=!0}needsRedraw(){if(this._getBindingsUpdateTimestamp()>this._lastDrawTimestamp)this.setNeedsRedraw("contents of bound textures or buffers updated");let $=this._needsRedraw;return this._needsRedraw=!1,$}setNeedsRedraw($){this._needsRedraw||=$}predraw(){this.updateShaderInputs(),this.pipeline=this._updatePipeline()}draw($){let Q=this._areBindingsLoading();if(Q)return u0.info(RF,`>>> DRAWING ABORTED ${this.id}: ${Q} not loaded`)(),!1;try{$.pushDebugGroup(`${this}.predraw(${$})`),this.predraw()}finally{$.popDebugGroup()}let J;try{$.pushDebugGroup(`${this}.draw(${$})`),this._logDrawCallStart(),this.pipeline=this._updatePipeline();let K=this._getBindings();if(this.pipeline.setBindings(K,{disableWarnings:this.props.disableWarnings}),!Kr(this.uniforms))this.pipeline.setUniformsWebGL(this.uniforms);let{indexBuffer:Y}=this.vertexArray,Z=Y?Y.byteLength/(Y.indexType==="uint32"?4:2):void 0;J=this.pipeline.draw({renderPass:$,vertexArray:this.vertexArray,isInstanced:this.isInstanced,vertexCount:this.vertexCount,instanceCount:this.instanceCount,indexCount:Z,transformFeedback:this.transformFeedback||void 0,parameters:this.parameters,topology:this.topology})}finally{$.popDebugGroup(),this._logDrawCallEnd()}if(this._logFramebuffer($),J)this._lastDrawTimestamp=this.device.timestamp,this._needsRedraw=!1;else this._needsRedraw="waiting for resource initialization";return J}setGeometry($){this._gpuGeometry?.destroy();let Q=$&&dw0(this.device,$);if(Q){this.setTopology(Q.topology||"triangle-list");let J=new FB(this.bufferLayout);if(this.bufferLayout=J.mergeBufferLayouts(Q.bufferLayout,this.bufferLayout),this.vertexArray)this._setGeometryAttributes(Q)}this._gpuGeometry=Q}setTopology($){if($!==this.topology)this.topology=$,this._setPipelineNeedsUpdate("topology")}setBufferLayout($){let Q=new FB(this.bufferLayout);if(this.bufferLayout=this._gpuGeometry?Q.mergeBufferLayouts($,this._gpuGeometry.bufferLayout):$,this._setPipelineNeedsUpdate("bufferLayout"),this.pipeline=this._updatePipeline(),this.vertexArray=this.device.createVertexArray({renderPipeline:this.pipeline}),this._gpuGeometry)this._setGeometryAttributes(this._gpuGeometry)}setParameters($){if(!eE($,this.parameters,2))this.parameters=$,this._setPipelineNeedsUpdate("parameters")}setInstanceCount($){if(this.instanceCount=$,this.isInstanced===void 0&&$>0)this.isInstanced=!0;this.setNeedsRedraw("instanceCount")}setVertexCount($){this.vertexCount=$,this.setNeedsRedraw("vertexCount")}setShaderInputs($){this.shaderInputs=$,this._uniformStore=new JE(this.shaderInputs.modules);for(let[Q,J]of Object.entries(this.shaderInputs.modules))if(NH1(J)){let K=this._uniformStore.getManagedUniformBuffer(this.device,Q);this.bindings[`${Q}Uniforms`]=K}this.setNeedsRedraw("shaderInputs")}updateShaderInputs(){this._uniformStore.setUniforms(this.shaderInputs.getUniformValues()),this.setBindings(this.shaderInputs.getBindingValues()),this.setNeedsRedraw("shaderInputs")}setBindings($){Object.assign(this.bindings,$),this.setNeedsRedraw("bindings")}setTransformFeedback($){this.transformFeedback=$,this.setNeedsRedraw("transformFeedback")}setIndexBuffer($){this.vertexArray.setIndexBuffer($),this.setNeedsRedraw("indexBuffer")}setAttributes($,Q){let J=Q?.disableWarnings??this.props.disableWarnings;if($.indices)u0.warn(`Model:${this.id} setAttributes() - indexBuffer should be set using setIndexBuffer()`)();this.bufferLayout=gd(this.pipeline.shaderLayout,this.bufferLayout);let K=new FB(this.bufferLayout);for(let[Y,Z]of Object.entries($)){let q=K.getBufferLayout(Y);if(!q){if(!J)u0.warn(`Model(${this.id}): Missing layout for buffer "${Y}".`)();continue}let X=K.getAttributeNamesForBuffer(q),W=!1;for(let F of X){let H=this._attributeInfos[F];if(H){let B=this.device.type==="webgpu"?K.getBufferIndex(H.bufferName):H.location;this.vertexArray.setBuffer(B,Z),W=!0}}if(!W&&!J)u0.warn(`Model(${this.id}): Ignoring buffer "${Z.id}" for unknown attribute "${Y}"`)()}this.setNeedsRedraw("attributes")}setConstantAttributes($,Q){for(let[J,K]of Object.entries($)){let Y=this._attributeInfos[J];if(Y)this.vertexArray.setConstantWebGL(Y.location,K);else if(!(Q?.disableWarnings??this.props.disableWarnings))u0.warn(`Model "${this.id}: Ignoring constant supplied for unknown attribute "${J}"`)()}this.setNeedsRedraw("constants")}setUniforms($){this.setUniformsWebGL($)}setUniformsWebGL($){if(!Kr($))this.pipeline.setUniformsWebGL($),Object.assign(this.uniforms,$);this.setNeedsRedraw("uniforms")}updateModuleSettingsWebGL($){let{bindings:Q,uniforms:J}=$L(this._getModuleUniforms($));Object.assign(this.bindings,Q),Object.assign(this.uniforms,J),this.setNeedsRedraw("moduleSettings")}_areBindingsLoading(){for(let $ of Object.values(this.bindings))if($ instanceof OO&&!$.isReady)return $.id;return!1}_getBindings(){let $={};for(let[Q,J]of Object.entries(this.bindings))if(J instanceof OO){if(J.isReady)$[Q]=J.texture}else $[Q]=J;return $}_getBindingsUpdateTimestamp(){let $=0;for(let Q of Object.values(this.bindings))if(Q instanceof JF)$=Math.max($,Q.texture.updateTimestamp);else if(Q instanceof u5||Q instanceof i5)$=Math.max($,Q.updateTimestamp);else if(Q instanceof OO)$=Q.texture?Math.max($,Q.texture.updateTimestamp):1/0;else if(!(Q instanceof XX))$=Math.max($,Q.buffer.updateTimestamp);return $}_setGeometryAttributes($){let Q={...$.attributes};for(let[J]of Object.entries(Q))if(!this.pipeline.shaderLayout.attributes.find((K)=>K.name===J)&&J!=="positions")delete Q[J];this.vertexCount=$.vertexCount,this.setIndexBuffer($.indices||null),this.setAttributes($.attributes,{disableWarnings:!0}),this.setAttributes(Q,{disableWarnings:this.props.disableWarnings}),this.setNeedsRedraw("geometry attributes")}_setPipelineNeedsUpdate($){this._pipelineNeedsUpdate||=$,this.setNeedsRedraw($)}_updatePipeline(){if(this._pipelineNeedsUpdate){let $=null,Q=null;if(this.pipeline)u0.log(1,`Model ${this.id}: Recreating pipeline because "${this._pipelineNeedsUpdate}".`)(),$=this.pipeline.vs,Q=this.pipeline.fs;this._pipelineNeedsUpdate=!1;let J=this.shaderFactory.createShader({id:`${this.id}-vertex`,stage:"vertex",source:this.source||this.vs,debugShaders:this.props.debugShaders}),K=null;if(this.source)K=J;else if(this.fs)K=this.shaderFactory.createShader({id:`${this.id}-fragment`,stage:"fragment",source:this.source||this.fs,debugShaders:this.props.debugShaders});if(this.pipeline=this.pipelineFactory.createRenderPipeline({...this.props,bufferLayout:this.bufferLayout,topology:this.topology,parameters:this.parameters,bindings:this._getBindings(),vs:J,fs:K}),this._attributeInfos=$E(this.pipeline.shaderLayout,this.bufferLayout),$)this.shaderFactory.release($);if(Q)this.shaderFactory.release(Q)}return this.pipeline}_lastLogTime=0;_logOpen=!1;_logDrawCallStart(){let $=u0.level>3?0:HH1;if(u0.level<2||Date.now()-this._lastLogTime<$)return;this._lastLogTime=Date.now(),this._logOpen=!0,u0.group(RF,`>>> DRAWING MODEL ${this.id}`,{collapsed:u0.level<=2})()}_logDrawCallEnd(){if(this._logOpen){let $=iw0(this.pipeline.shaderLayout,this.id);u0.table(RF,$)();let Q=this.shaderInputs.getDebugTable();for(let[K,Y]of Object.entries(this.uniforms))Q[K]={value:Y};u0.table(RF,Q)();let J=this._getAttributeDebugTable();u0.table(RF,this._attributeInfos)(),u0.table(RF,J)(),u0.groupEnd(RF)(),this._logOpen=!1}}_drawCount=0;_logFramebuffer($){let Q=this.device.props.debugFramebuffers;if(this._drawCount++,!Q)return;let J=$.props.framebuffer;if(J)sw0(J,{id:J.id,minimap:!0})}_getAttributeDebugTable(){let $={};for(let[Q,J]of Object.entries(this._attributeInfos)){let K=this.vertexArray.attributes[J.location];$[J.location]={name:Q,type:J.shaderType,values:K?this._getBufferOrConstantValues(K,J.bufferDataType):"null"}}if(this.vertexArray.indexBuffer){let{indexBuffer:Q}=this.vertexArray,J=Q.indexType==="uint32"?new Uint32Array(Q.debugData):new Uint16Array(Q.debugData);$.indices={name:"indices",type:Q.indexType,values:J.toString()}}return $}_getBufferOrConstantValues($,Q){let J=uG(Q);return($ instanceof u5?new J($.debugData):$).toString()}}});var $Z;var JT0=h(()=>{v5();aY();Yr();$Z=class $Z{device;model;transformFeedback;static defaultProps={...j8.defaultProps,outputs:void 0,feedbackBuffers:void 0};static isSupported($){return $?.info?.type==="webgl"}constructor($,Q=$Z.defaultProps){if(!$Z.isSupported($))throw Error("BufferTransform not yet implemented on WebGPU");this.device=$,this.model=new j8(this.device,{id:Q.id||"buffer-transform-model",fs:Q.fs||Dd(),topology:Q.topology||"point-list",varyings:Q.outputs||Q.varyings,...Q}),this.transformFeedback=this.device.createTransformFeedback({layout:this.model.pipeline.shaderLayout,buffers:Q.feedbackBuffers}),this.model.setTransformFeedback(this.transformFeedback),Object.seal(this)}destroy(){if(this.model)this.model.destroy()}delete(){this.destroy()}run($){if($?.inputBuffers)this.model.setAttributes($.inputBuffers);if($?.outputBuffers)this.transformFeedback.setBuffers($.outputBuffers);let Q=this.device.beginRenderPass($);this.model.draw(Q),Q.end()}getBuffer($){return this.transformFeedback.getBuffer($)}readAsync($){let Q=this.getBuffer($);if(!Q)throw Error("BufferTransform#getBuffer");if(Q instanceof u5)return Q.readAsync();let{buffer:J,byteOffset:K=0,byteLength:Y=J.byteLength}=Q;return J.readAsync(K,Y)}}});class R3{id;topology;vertexCount;indices;attributes;userData={};constructor($){let{attributes:Q={},indices:J=null,vertexCount:K=null}=$;if(this.id=$.id||VX("geometry"),this.topology=$.topology,J)this.indices=ArrayBuffer.isView(J)?{value:J,size:1}:J;this.attributes={};for(let[Y,Z]of Object.entries(Q)){let q=ArrayBuffer.isView(Z)?{value:Z}:Z;if(!ArrayBuffer.isView(q.value))throw Error(`${this._print(Y)}: must be typed array or object with value as typed array`);if((Y==="POSITION"||Y==="positions")&&!q.size)q.size=3;if(Y==="indices"){if(this.indices)throw Error("Multiple indices detected");this.indices=q}else this.attributes[Y]=q}if(this.indices&&this.indices.isIndexed!==void 0)this.indices=Object.assign({},this.indices),delete this.indices.isIndexed;this.vertexCount=K||this._calculateVertexCount(this.attributes,this.indices)}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print($){return`Geometry ${this.id} attribute ${$}`}_setAttributes($,Q){return this}_calculateVertexCount($,Q){if(Q)return Q.value.length;let J=1/0;for(let K of Object.values($)){let{value:Y,size:Z,constant:q}=K;if(!q&&Y&&Z!==void 0&&Z>=1)J=Math.min(J,Y.length/Z)}return J}}var KT0=h(()=>{RO()});var G3=h(()=>{pw0();Yr();JT0();KT0()});function AH1($,Q,J){let{byLayer:K,byAlpha:Y}=$,Z,q=K.get(Q);if(q)q.viewports.push(J),Z=q.a;else if(Z=K.size+1,Z<=255)q={a:Z,layer:Q,viewports:[J]},K.set(Q,q),Y[Z]=q;else I1.warn("Too many pickable layers, only picking the first 255")(),Z=0;return[0,0,0,Z/255]}function VH1($,Q){let J=$.byAlpha[Q[3]];return J&&{pickedLayer:J.layer,pickedViewports:J.viewports,pickedObjectIndex:J.layer.decodePickingColor(Q)}}var zH1,vB;var Zr=h(()=>{pE();p8();zH1={blendColorOperation:"add",blendColorSrcFactor:"one",blendColorDstFactor:"zero",blendAlphaOperation:"add",blendAlphaSrcFactor:"constant-alpha",blendAlphaDstFactor:"zero"};vB=class vB extends AX{constructor(){super(...arguments);this._colorEncoderState=null}render($){if("pickingFBO"in $)return this._drawPickingBuffer($);return super.render($)}_drawPickingBuffer({layers:$,layerFilter:Q,views:J,viewports:K,onViewportActive:Y,pickingFBO:Z,deviceRect:{x:q,y:X,width:W,height:F},cullRect:H,effects:B,pass:z="picking",pickZ:A,shaderModuleProps:R}){this.pickZ=A;let G=this._resetColorEncoder(A),O=[q,X,W,F],T=super.render({target:Z,layers:$,layerFilter:Q,views:J,viewports:K,onViewportActive:Y,cullRect:H,effects:B?.filter((P)=>P.useInPicking),pass:z,isPicking:!0,shaderModuleProps:R,clearColor:[0,0,0,0],colorMask:15,scissorRect:O});return this._colorEncoderState=null,{decodePickingColor:G&&VH1.bind(null,G),stats:T}}shouldDrawLayer($){let{pickable:Q,operation:J}=$.props;return Q&&J.includes("draw")||J.includes("terrain")||J.includes("mask")}getShaderModuleProps($,Q,J){return{picking:{isActive:1,isAttribute:this.pickZ},lighting:{enabled:!1}}}getLayerParameters($,Q,J){let K={...$.props.parameters},{pickable:Y,operation:Z}=$.props;if(!this._colorEncoderState||Z.includes("terrain"))K.blend=!1;else if(Y&&Z.includes("draw"))Object.assign(K,zH1),K.blend=!0,K.blendColor=AH1(this._colorEncoderState,$,J);return K}_resetColorEncoder($){return this._colorEncoderState=$?null:{byLayer:new Map,byAlpha:[]},this._colorEncoderState}}});var RX,GF,O3,QL,QZ,BK,xQ;var GX=h(()=>{RX={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},GF=Symbol.for("component"),O3=Symbol.for("propTypes"),QL=Symbol.for("deprecatedProps"),QZ=Symbol.for("asyncPropDefaults"),BK=Symbol.for("asyncPropOriginal"),xQ=Symbol.for("asyncPropResolved")});function SB($,Q=()=>!0){if(!Array.isArray($))return Q($)?[$]:[];return YT0($,Q,[])}function YT0($,Q,J){let K=-1;while(++K<$.length){let Y=$[K];if(Array.isArray(Y))YT0(Y,Q,J);else if(Q(Y))J.push(Y)}return J}function ZT0({target:$,source:Q,start:J=0,count:K=1}){let Y=Q.length,Z=K*Y,q=0;for(let X=J;q<Y;q++)$[X++]=Q[q];while(q<Z)if(q<Z-q)$.copyWithin(J+q,J,J+q),q*=2;else $.copyWithin(J+q,J,J+Z-q),q=Z;return $}class JL{constructor($,Q,J){this._loadCount=0,this._subscribers=new Set,this.id=$,this.context=J,this.setData(Q)}subscribe($){this._subscribers.add($)}unsubscribe($){this._subscribers.delete($)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then(()=>this.getData())}setData($,Q){if($===this._data&&!Q)return;this._data=$;let J=++this._loadCount,K=$;if(typeof $==="string")K=YX($);if(K instanceof Promise)this.isLoaded=!1,this._loader=K.then((Y)=>{if(this._loadCount===J)this.isLoaded=!0,this._error=void 0,this._content=Y}).catch((Y)=>{if(this._loadCount===J)this.isLoaded=!0,this._error=Y||!0});else this.isLoaded=!0,this._error=void 0,this._content=$;for(let Y of this._subscribers)Y.onChange(this.getData())}}var qT0=h(()=>{hG()});class KL{constructor($){this.protocol=$.protocol||"resource://",this._context={device:$.device,gl:$.device?.gl,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains($){if($.startsWith(this.protocol))return!0;return $ in this._resources}add({resourceId:$,data:Q,forceUpdate:J=!1,persistent:K=!0}){let Y=this._resources[$];if(Y)Y.setData(Q,J);else Y=new JL($,Q,this._context),this._resources[$]=Y;Y.persistent=K}remove($){let Q=this._resources[$];if(Q)Q.delete(),delete this._resources[$]}unsubscribe({consumerId:$}){let Q=this._consumers[$];if(Q){for(let J in Q){let K=Q[J],Y=this._resources[K.resourceId];if(Y)Y.unsubscribe(K)}delete this._consumers[$],this.prune()}}subscribe({resourceId:$,onChange:Q,consumerId:J,requestId:K="default"}){let{_resources:Y,protocol:Z}=this;if($.startsWith(Z)){if($=$.replace(Z,""),!Y[$])this.add({resourceId:$,data:null,persistent:!1})}let q=Y[$];if(this._track(J,K,q,Q),q)return q.getData();return}prune(){if(!this._pruneRequest)this._pruneRequest=setTimeout(()=>this._prune(),0)}finalize(){for(let $ in this._resources)this._resources[$].delete()}_track($,Q,J,K){let Y=this._consumers,Z=Y[$]=Y[$]||{},q=Z[Q],X=q&&q.resourceId&&this._resources[q.resourceId];if(X)X.unsubscribe(q),this.prune();if(J){if(q)q.onChange=K,q.resourceId=J.id;else q={onChange:K,resourceId:J.id};Z[Q]=q,J.subscribe(q)}}_prune(){this._pruneRequest=null;for(let $ of Object.keys(this._resources)){let Q=this._resources[$];if(!Q.persistent&&!Q.inUse())Q.delete(),delete this._resources[$]}}}var XT0=h(()=>{qT0()});class YL{constructor($,Q){this._lastRenderedLayers=[],this._needsRedraw=!1,this._needsUpdate=!1,this._nextLayers=null,this._debug=!1,this._defaultShaderModulesChanged=!1,this.activateViewport=(q)=>{if(h7(GH1,this,q),q)this.context.viewport=q};let{deck:J,stats:K,viewport:Y,timeline:Z}=Q||{};this.layers=[],this.resourceManager=new KL({device:$,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,device:$,gl:$?.gl,deck:J,shaderAssembler:Pw0($?.info?.shadingLanguage||"glsl"),defaultShaderModules:[Fl],renderPass:void 0,stats:K||new SQ({id:"deck.gl"}),viewport:Y||new iE({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:Z||new hB,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(let $ of this.layers)this._finalizeLayer($)}needsRedraw($={clearRedrawFlags:!1}){let Q=this._needsRedraw;if($.clearRedrawFlags)this._needsRedraw=!1;for(let J of this.layers){let K=J.getNeedsRedraw($);Q=Q||K}return Q}needsUpdate(){if(this._nextLayers&&this._nextLayers!==this._lastRenderedLayers)return"layers changed";if(this._defaultShaderModulesChanged)return"shader modules changed";return this._needsUpdate}setNeedsRedraw($){this._needsRedraw=this._needsRedraw||$}setNeedsUpdate($){this._needsUpdate=this._needsUpdate||$}getLayers({layerIds:$}={}){return $?this.layers.filter((Q)=>$.find((J)=>Q.id.indexOf(J)===0)):this.layers}setProps($){if("debug"in $)this._debug=$.debug;if("userData"in $)this.context.userData=$.userData;if("layers"in $)this._nextLayers=$.layers;if("onError"in $)this.context.onError=$.onError}setLayers($,Q){h7(RH1,this,Q,$),this._lastRenderedLayers=$;let J=SB($,Boolean);for(let K of J)K.context=this.context;this._updateLayers(this.layers,J)}updateLayers(){let $=this.needsUpdate();if($)this.setNeedsRedraw(`updating layers: ${$}`),this.setLayers(this._nextLayers||this._lastRenderedLayers,$);this._nextLayers=null}addDefaultShaderModule($){let{defaultShaderModules:Q}=this.context;if(!Q.find((J)=>J.name===$.name))Q.push($),this._defaultShaderModulesChanged=!0}removeDefaultShaderModule($){let{defaultShaderModules:Q}=this.context,J=Q.findIndex((K)=>K.name===$.name);if(J>=0)Q.splice(J,1),this._defaultShaderModulesChanged=!0}_handleError($,Q,J){J.raiseError(Q,`${$} of ${J}`)}_updateLayers($,Q){let J={};for(let Z of $)if(J[Z.id])I1.warn(`Multiple old layers with same id ${Z.id}`)();else J[Z.id]=Z;if(this._defaultShaderModulesChanged){for(let Z of $)Z.setNeedsUpdate(),Z.setChangeFlags({extensionsChanged:!0});this._defaultShaderModulesChanged=!1}let K=[];this._updateSublayersRecursively(Q,J,K),this._finalizeOldLayers(J);let Y=!1;for(let Z of K)if(Z.hasUniformTransition()){Y=`Uniform transition in ${Z}`;break}this._needsUpdate=Y,this.layers=K}_updateSublayersRecursively($,Q,J){for(let K of $){K.context=this.context;let Y=Q[K.id];if(Y===null)I1.warn(`Multiple new layers with same id ${K.id}`)();Q[K.id]=null;let Z=null;try{if(this._debug&&Y!==K)K.validateProps();if(!Y)this._initializeLayer(K);else this._transferLayerState(Y,K),this._updateLayer(K);J.push(K),Z=K.isComposite?K.getSubLayers():null}catch(q){this._handleError("matching",q,K)}if(Z)this._updateSublayersRecursively(Z,Q,J)}}_finalizeOldLayers($){for(let Q in $){let J=$[Q];if(J)this._finalizeLayer(J)}}_initializeLayer($){try{$._initialize(),$.lifecycle=RX.INITIALIZED}catch(Q){this._handleError("initialization",Q,$)}}_transferLayerState($,Q){if(Q._transferState($),Q.lifecycle=RX.MATCHED,Q!==$)$.lifecycle=RX.AWAITING_GC}_updateLayer($){try{$._update()}catch(Q){this._handleError("update",Q,$)}}_finalizeLayer($){this._needsRedraw=this._needsRedraw||`finalized ${$}`,$.lifecycle=RX.AWAITING_FINALIZATION;try{$._finalize(),$.lifecycle=RX.FINALIZED}catch(Q){this._handleError("finalization",Q,$)}}}var RH1="layerManager.setLayers",GH1="layerManager.activateViewport";var WT0=h(()=>{G3();nl();GX();p8();QF();wG();XT0();rl()});function n8($,Q,J){if($===Q)return!0;if(!J||!$||!Q)return!1;if(Array.isArray($)){if(!Array.isArray(Q)||$.length!==Q.length)return!1;for(let K=0;K<$.length;K++)if(!n8($[K],Q[K],J-1))return!1;return!0}if(Array.isArray(Q))return!1;if(typeof $==="object"&&typeof Q==="object"){let K=Object.keys($),Y=Object.keys(Q);if(K.length!==Y.length)return!1;for(let Z of K){if(!Q.hasOwnProperty(Z))return!1;if(!n8($[Z],Q[Z],J-1))return!1}return!0}return!1}class ZL{constructor($){this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=$.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=$.eventManager,this._eventCallbacks={onViewStateChange:$.onViewStateChange,onInteractionStateChange:$.onInteractionStateChange},Object.seal(this),this.setProps($)}finalize(){for(let $ in this.controllers){let Q=this.controllers[$];if(Q)Q.finalize()}this.controllers={}}needsRedraw($={clearRedrawFlags:!1}){let Q=this._needsRedraw;if($.clearRedrawFlags)this._needsRedraw=!1;return Q}setNeedsUpdate($){this._needsUpdate=this._needsUpdate||$,this._needsRedraw=this._needsRedraw||$}updateViewStates(){for(let $ in this.controllers){let Q=this.controllers[$];if(Q)Q.updateTransition()}}getViewports($){if($)return this._viewports.filter((Q)=>Q.containsPixel($));return this._viewports}getViews(){let $={};return this.views.forEach((Q)=>{$[Q.id]=Q}),$}getView($){return this.views.find((Q)=>Q.id===$)}getViewState($){let Q=typeof $==="string"?this.getView($):$,J=Q&&this.viewState[Q.getViewStateId()]||this.viewState;return Q?Q.filterViewState(J):J}getViewport($){return this._viewportMap[$]}unproject($,Q){let J=this.getViewports(),K={x:$[0],y:$[1]};for(let Y=J.length-1;Y>=0;--Y){let Z=J[Y];if(Z.containsPixel(K)){let q=$.slice();return q[0]-=Z.x,q[1]-=Z.y,Z.unproject(q,Q)}}return null}setProps($){if($.views)this._setViews($.views);if($.viewState)this._setViewState($.viewState);if("width"in $||"height"in $)this._setSize($.width,$.height);if(!this._isUpdating)this._update()}_update(){if(this._isUpdating=!0,this._needsUpdate)this._needsUpdate=!1,this._rebuildViewports();if(this._needsUpdate)this._needsUpdate=!1,this._rebuildViewports();this._isUpdating=!1}_setSize($,Q){if($!==this.width||Q!==this.height)this.width=$,this.height=Q,this.setNeedsUpdate("Size changed")}_setViews($){if($=SB($,Boolean),this._diffViews($,this.views))this.setNeedsUpdate("views changed");this.views=$}_setViewState($){if($){if(!n8($,this.viewState,3))this.setNeedsUpdate("viewState changed");this.viewState=$}else I1.warn("missing `viewState` or `initialViewState`")()}_createController($,Q){return new Q.type({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._eventCallbacks.onViewStateChange,onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:(Y)=>this.getView($.id)?.makeViewport({viewState:Y,width:this.width,height:this.height})})}_updateController($,Q,J,K){let Y=$.controller;if(Y&&J){let Z={...Q,...Y,id:$.id,x:J.x,y:J.y,width:J.width,height:J.height};if(!K||K.constructor!==Y.type)K=this._createController($,Z);if(K)K.setProps(Z);return K}return null}_rebuildViewports(){let{views:$}=this,Q=this.controllers;this._viewports=[],this.controllers={};let J=!1;for(let K=$.length;K--;){let Y=$[K],Z=this.getViewState(Y),q=Y.makeViewport({viewState:Z,width:this.width,height:this.height}),X=Q[Y.id],W=Boolean(Y.controller);if(W&&!X)J=!0;if((J||!W)&&X)X.finalize(),X=null;if(this.controllers[Y.id]=this._updateController(Y,Z,q,X),q)this._viewports.unshift(q)}for(let K in Q){let Y=Q[K];if(Y&&!this.controllers[K])Y.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach(($)=>{if($.id)this._viewportMap[$.id]=this._viewportMap[$.id]||$})}_diffViews($,Q){if($.length!==Q.length)return!0;return $.some((J,K)=>!$[K].equals(Q[K]))}}var FT0=h(()=>{p8()});function JZ($){switch(typeof $){case"number":return{position:$,relative:!1};case"string":let Q=OH1.exec($);if(Q&&Q.length>=3){let J=Q[2]==="%",K=parseFloat(Q[1]);return{position:J?K/100:K,relative:J}}default:throw Error(`Could not parse position string ${$}`)}}function KZ($,Q){return $.relative?Math.round($.position*Q):$.position}var OH1;var UT0=h(()=>{OH1=/([0-9]+\.?[0-9]*)(%|px)/});class L${constructor($){let{id:Q,x:J=0,y:K=0,width:Y="100%",height:Z="100%",padding:q=null}=$;this.id=Q||this.constructor.displayName||"view",this.props={...$,id:this.id},this._x=JZ(J),this._y=JZ(K),this._width=JZ(Y),this._height=JZ(Z),this._padding=q&&{left:JZ(q.left||0),right:JZ(q.right||0),top:JZ(q.top||0),bottom:JZ(q.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals($){if(this===$)return!0;return this.constructor===$.constructor&&n8(this.props,$.props,2)}makeViewport({width:$,height:Q,viewState:J}){J=this.filterViewState(J);let K=this.getDimensions({width:$,height:Q});if(!K.height||!K.width)return null;return new(this.getViewportType(J))({...J,...this.props,...K})}getViewStateId(){let{viewState:$}=this.props;if(typeof $==="string")return $;return $?.id||this.id}filterViewState($){if(this.props.viewState&&typeof this.props.viewState==="object"){if(!this.props.viewState.id)return this.props.viewState;let Q={...$};for(let J in this.props.viewState)if(J!=="id")Q[J]=this.props.viewState[J];return Q}return $}getDimensions({width:$,height:Q}){let J={x:KZ(this._x,$),y:KZ(this._y,Q),width:KZ(this._width,$),height:KZ(this._height,Q)};if(this._padding)J.padding={left:KZ(this._padding.left,$),top:KZ(this._padding.top,Q),right:KZ(this._padding.right,$),bottom:KZ(this._padding.bottom,Q)};return J}get controller(){let $=this.props.controller;if(!$)return null;if($===!0)return{type:this.ControllerType};if(typeof $==="function")return{type:$};return{type:this.ControllerType,...$}}}var qr=h(()=>{UT0()});class zK{constructor($){this._inProgress=!1,this._handle=null,this.time=0,this.settings={duration:0},this._timeline=$}get inProgress(){return this._inProgress}start($){this.cancel(),this.settings=$,this._inProgress=!0,this.settings.onStart?.(this)}end(){if(this._inProgress)this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,this.settings.onEnd?.(this)}cancel(){if(this._inProgress)this.settings.onInterrupt?.(this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1}update(){if(!this._inProgress)return!1;if(this._handle===null){let{_timeline:$,settings:Q}=this;this._handle=$.addChannel({delay:$.getTime(),duration:Q.duration})}if(this.time=this._timeline.getTime(this._handle),this._onUpdate(),this.settings.onUpdate?.(this),this._timeline.isFinished(this._handle))this.end();return!0}_onUpdate(){}}class qL{constructor($){this._onTransitionUpdate=(Q)=>{let{time:J,settings:{interpolator:K,startProps:Y,endProps:Z,duration:q,easing:X}}=Q,W=X(J/q),F=K.interpolateProps(Y,Z,W);this.propsInTransition=this.getControllerState({...this.props,...F}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})},this.getControllerState=$.getControllerState,this.propsInTransition=null,this.transition=new zK($.timeline),this.onViewStateChange=$.onViewStateChange||HT0,this.onStateChange=$.onStateChange||HT0}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange($){let Q=!1,J=this.props;if(this.props=$,!J||this._shouldIgnoreViewportChange(J,$))return!1;if(this._isTransitionEnabled($)){let K=J;if(this.transition.inProgress){let{interruption:Y,endProps:Z}=this.transition.settings;K={...J,...Y===Xr.SNAP_TO_END?Z:this.propsInTransition||J}}this._triggerTransition(K,$),Q=!0}else this.transition.cancel();return Q}updateTransition(){this.transition.update()}_isTransitionEnabled($){let{transitionDuration:Q,transitionInterpolator:J}=$;return(Q>0||Q==="auto")&&Boolean(J)}_isUpdateDueToCurrentTransition($){if(this.transition.inProgress&&this.propsInTransition)return this.transition.settings.interpolator.arePropsEqual($,this.propsInTransition);return!1}_shouldIgnoreViewportChange($,Q){if(this.transition.inProgress)return this.transition.settings.interruption===Xr.IGNORE||this._isUpdateDueToCurrentTransition(Q);if(this._isTransitionEnabled(Q))return Q.transitionInterpolator.arePropsEqual($,Q);return!0}_triggerTransition($,Q){let J=this.getControllerState($),K=this.getControllerState(Q).shortestPathFrom(J),Y=Q.transitionInterpolator,Z=Y.getDuration?Y.getDuration($,Q):Q.transitionDuration;if(Z===0)return;let q=Y.initializeProps($,K);this.propsInTransition={};let X={duration:Z,easing:Q.transitionEasing||wH1,interpolator:Y,interruption:Q.transitionInterruption||TH1,startProps:q.start,endProps:q.end,onStart:Q.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(Q.onTransitionInterrupt),onEnd:this._onTransitionEnd(Q.onTransitionEnd)};this.transition.start(X),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd($){return(Q)=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),$?.(Q)}}}var HT0=()=>{},Xr,wH1=($)=>$,TH1;var NT0=h(()=>{Xr={BREAK:1,SNAP_TO_END:2,IGNORE:3},TH1=Xr.BREAK});function W7($,Q){if(!$)throw Error(Q||"deck.gl: assertion failed.")}class XL{constructor($){let{compare:Q,extract:J,required:K}=$;this._propsToCompare=Q,this._propsToExtract=J||Q,this._requiredProps=K}arePropsEqual($,Q){for(let J of this._propsToCompare)if(!(J in $)||!(J in Q)||!oY($[J],Q[J]))return!1;return!0}initializeProps($,Q){let J={},K={};for(let Y of this._propsToExtract)if(Y in $||Y in Q)J[Y]=$[Y],K[Y]=Q[Y];return this._checkRequiredProps(J),this._checkRequiredProps(K),{start:J,end:K}}getDuration($,Q){return Q.transitionDuration}_checkRequiredProps($){if(!this._requiredProps)return;this._requiredProps.forEach((Q)=>{let J=$[Q];W7(Number.isFinite(J)||Array.isArray(J),`${Q} is required for transition`)})}}var BT0=h(()=>{z4()});var DH1,CH1,_B;var Wr=h(()=>{BT0();z4();DH1=["longitude","latitude","zoom","bearing","pitch"],CH1=["longitude","latitude","zoom"];_B=class _B extends XL{constructor($={}){let Q=Array.isArray($)?$:$.transitionProps,J=Array.isArray($)?{}:$;J.transitionProps=Array.isArray(Q)?{compare:Q,required:Q}:Q||{compare:DH1,required:CH1};super(J.transitionProps);this.opts=J}initializeProps($,Q){let J=super.initializeProps($,Q),{makeViewport:K,around:Y}=this.opts;if(K&&Y){let Z=K($),q=K(Q),X=Z.unproject(Y);J.start.around=Y,Object.assign(J.end,{around:q.project(X),aroundPosition:X,width:Q.width,height:Q.height})}return J}interpolateProps($,Q,J){let K={};for(let Y of this._propsToExtract)K[Y]=XF($[Y]||0,Q[Y]||0,J);if(Q.aroundPosition&&this.opts.makeViewport){let Y=this.opts.makeViewport({...Q,...K});Object.assign(K,Y.panByPosition(Q.aroundPosition,XF($.around,Q.around,J)))}return K}}});class FL{constructor($){this.state={},this._events={},this._interactionState={isDragging:!1},this._customEvents=[],this._eventStartBlocked=null,this._panMove=!1,this.invertPan=!1,this.dragMode="rotate",this.inertia=0,this.scrollZoom=!0,this.dragPan=!0,this.dragRotate=!0,this.doubleClickZoom=!0,this.touchZoom=!0,this.touchRotate=!1,this.keyboard=!0,this.transitionManager=new qL({...$,getControllerState:(Q)=>new this.ControllerState(Q),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=$.eventManager,this.onViewStateChange=$.onViewStateChange||(()=>{}),this.onStateChange=$.onStateChange||(()=>{}),this.makeViewport=$.makeViewport}set events($){if(this.toggleEvents(this._customEvents,!1),this.toggleEvents($,!0),this._customEvents=$,this.props)this.setProps(this.props)}finalize(){for(let $ in this._events)if(this._events[$])this.eventManager?.off($,this.handleEvent);this.transitionManager.finalize()}handleEvent($){this._controllerState=void 0;let Q=this._eventStartBlocked;switch($.type){case"panstart":return Q?!1:this._onPanStart($);case"panmove":return this._onPan($);case"panend":return this._onPanEnd($);case"pinchstart":return Q?!1:this._onPinchStart($);case"pinchmove":return this._onPinch($);case"pinchend":return this._onPinchEnd($);case"multipanstart":return Q?!1:this._onMultiPanStart($);case"multipanmove":return this._onMultiPan($);case"multipanend":return this._onMultiPanEnd($);case"dblclick":return this._onDoubleClick($);case"wheel":return this._onWheel($);case"keydown":return this._onKeyDown($);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter($){let{x:Q,y:J}=this.props,{offsetCenter:K}=$;return[K.x-Q,K.y-J]}isPointInBounds($,Q){let{width:J,height:K}=this.props;if(Q&&Q.handled)return!1;let Y=$[0]>=0&&$[0]<=J&&$[1]>=0&&$[1]<=K;if(Y&&Q)Q.stopPropagation();return Y}isFunctionKeyPressed($){let{srcEvent:Q}=$;return Boolean(Q.metaKey||Q.altKey||Q.ctrlKey||Q.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents($){let Q=setTimeout(()=>{if(this._eventStartBlocked===Q)this._eventStartBlocked=null},$);this._eventStartBlocked=Q}setProps($){if($.dragMode)this.dragMode=$.dragMode;if(this.props=$,!("transitionInterpolator"in $))$.transitionInterpolator=this._getTransitionProps().transitionInterpolator;this.transitionManager.processViewStateChange($);let{inertia:Q}=$;this.inertia=Number.isFinite(Q)?Q:Q===!0?PH1:0;let{scrollZoom:J=!0,dragPan:K=!0,dragRotate:Y=!0,doubleClickZoom:Z=!0,touchZoom:q=!0,touchRotate:X=!1,keyboard:W=!0}=$,F=Boolean(this.onViewStateChange);this.toggleEvents(fB.WHEEL,F&&J),this.toggleEvents(fB.PAN,F),this.toggleEvents(fB.PINCH,F&&(q||X)),this.toggleEvents(fB.MULTI_PAN,F&&X),this.toggleEvents(fB.DOUBLE_CLICK,F&&Z),this.toggleEvents(fB.KEYBOARD,F&&W),this.scrollZoom=J,this.dragPan=K,this.dragRotate=Y,this.doubleClickZoom=Z,this.touchZoom=q,this.touchRotate=X,this.keyboard=W}updateTransition(){this.transitionManager.updateTransition()}toggleEvents($,Q){if(this.eventManager)$.forEach((J)=>{if(this._events[J]!==Q)if(this._events[J]=Q,Q)this.eventManager.on(J,this.handleEvent);else this.eventManager.off(J,this.handleEvent)})}updateViewport($,Q=null,J={}){let K={...$.getViewportProps(),...Q},Y=this.controllerState!==$;if(this.state=$.getState(),this._setInteractionState(J),Y){let Z=this.controllerState&&this.controllerState.getViewportProps();if(this.onViewStateChange)this.onViewStateChange({viewState:K,interactionState:this._interactionState,oldViewState:Z,viewId:this.props.id})}}_onTransition($){this.onViewStateChange({...$,interactionState:this._interactionState,viewId:this.props.id})}_setInteractionState($){Object.assign(this._interactionState,$),this.onStateChange(this._interactionState)}_onPanStart($){let Q=this.getCenter($);if(!this.isPointInBounds(Q,$))return!1;let J=this.isFunctionKeyPressed($)||$.rightButton||!1;if(this.invertPan||this.dragMode==="pan")J=!J;let K=this.controllerState[J?"panStart":"rotateStart"]({pos:Q});return this._panMove=J,this.updateViewport(K,YZ,{isDragging:!0}),!0}_onPan($){if(!this.isDragging())return!1;return this._panMove?this._onPanMove($):this._onPanRotate($)}_onPanEnd($){if(!this.isDragging())return!1;return this._panMove?this._onPanMoveEnd($):this._onPanRotateEnd($)}_onPanMove($){if(!this.dragPan)return!1;let Q=this.getCenter($),J=this.controllerState.pan({pos:Q});return this.updateViewport(J,YZ,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd($){let{inertia:Q}=this;if(this.dragPan&&Q&&$.velocity){let J=this.getCenter($),K=[J[0]+$.velocityX*Q/2,J[1]+$.velocityY*Q/2],Y=this.controllerState.pan({pos:K}).panEnd();this.updateViewport(Y,{...this._getTransitionProps(),transitionDuration:Q,transitionEasing:WL},{isDragging:!1,isPanning:!0})}else{let J=this.controllerState.panEnd();this.updateViewport(J,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate($){if(!this.dragRotate)return!1;let Q=this.getCenter($),J=this.controllerState.rotate({pos:Q});return this.updateViewport(J,YZ,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd($){let{inertia:Q}=this;if(this.dragRotate&&Q&&$.velocity){let J=this.getCenter($),K=[J[0]+$.velocityX*Q/2,J[1]+$.velocityY*Q/2],Y=this.controllerState.rotate({pos:K}).rotateEnd();this.updateViewport(Y,{...this._getTransitionProps(),transitionDuration:Q,transitionEasing:WL},{isDragging:!1,isRotating:!0})}else{let J=this.controllerState.rotateEnd();this.updateViewport(J,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel($){if(!this.scrollZoom)return!1;let Q=this.getCenter($);if(!this.isPointInBounds(Q,$))return!1;$.srcEvent.preventDefault();let{speed:J=0.01,smooth:K=!1}=this.scrollZoom===!0?{}:this.scrollZoom,{delta:Y}=$,Z=2/(1+Math.exp(-Math.abs(Y*J)));if(Y<0&&Z!==0)Z=1/Z;let q=K?{...this._getTransitionProps({around:Q}),transitionDuration:250}:YZ,X=this.controllerState.zoom({pos:Q,scale:Z});return this.updateViewport(X,q,{isZooming:!0,isPanning:!0}),!0}_onMultiPanStart($){let Q=this.getCenter($);if(!this.isPointInBounds(Q,$))return!1;let J=this.controllerState.rotateStart({pos:Q});return this.updateViewport(J,YZ,{isDragging:!0}),!0}_onMultiPan($){if(!this.touchRotate)return!1;if(!this.isDragging())return!1;let Q=this.getCenter($);Q[0]-=$.deltaX;let J=this.controllerState.rotate({pos:Q});return this.updateViewport(J,YZ,{isDragging:!0,isRotating:!0}),!0}_onMultiPanEnd($){if(!this.isDragging())return!1;let{inertia:Q}=this;if(this.touchRotate&&Q&&$.velocityY){let J=this.getCenter($),K=[J[0],J[1]+=$.velocityY*Q/2],Y=this.controllerState.rotate({pos:K});this.updateViewport(Y,{...this._getTransitionProps(),transitionDuration:Q,transitionEasing:WL},{isDragging:!1,isRotating:!0}),this.blockEvents(Q)}else{let J=this.controllerState.rotateEnd();this.updateViewport(J,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart($){let Q=this.getCenter($);if(!this.isPointInBounds(Q,$))return!1;let J=this.controllerState.zoomStart({pos:Q}).rotateStart({pos:Q});return OF._startPinchRotation=$.rotation,OF._lastPinchEvent=$,this.updateViewport(J,YZ,{isDragging:!0}),!0}_onPinch($){if(!this.touchZoom&&!this.touchRotate)return!1;if(!this.isDragging())return!1;let Q=this.controllerState;if(this.touchZoom){let{scale:J}=$,K=this.getCenter($);Q=Q.zoom({pos:K,scale:J})}if(this.touchRotate){let{rotation:J}=$;Q=Q.rotate({deltaAngleX:OF._startPinchRotation-J})}return this.updateViewport(Q,YZ,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),OF._lastPinchEvent=$,!0}_onPinchEnd($){if(!this.isDragging())return!1;let{inertia:Q}=this,{_lastPinchEvent:J}=OF;if(this.touchZoom&&Q&&J&&$.scale!==J.scale){let K=this.getCenter($),Y=this.controllerState.rotateEnd(),Z=Math.log2($.scale),q=(Z-Math.log2(J.scale))/($.deltaTime-J.deltaTime),X=Math.pow(2,Z+q*Q/2);Y=Y.zoom({pos:K,scale:X}).zoomEnd(),this.updateViewport(Y,{...this._getTransitionProps({around:K}),transitionDuration:Q,transitionEasing:WL},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(Q)}else{let K=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(K,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return OF._startPinchRotation=null,OF._lastPinchEvent=null,!0}_onDoubleClick($){if(!this.doubleClickZoom)return!1;let Q=this.getCenter($);if(!this.isPointInBounds(Q,$))return!1;let J=this.isFunctionKeyPressed($),K=this.controllerState.zoom({pos:Q,scale:J?0.5:2});return this.updateViewport(K,this._getTransitionProps({around:Q}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown($){if(!this.keyboard)return!1;let Q=this.isFunctionKeyPressed($),{zoomSpeed:J,moveSpeed:K,rotateSpeedX:Y,rotateSpeedY:Z}=this.keyboard===!0?{}:this.keyboard,{controllerState:q}=this,X,W={};switch($.srcEvent.code){case"Minus":X=Q?q.zoomOut(J).zoomOut(J):q.zoomOut(J),W.isZooming=!0;break;case"Equal":X=Q?q.zoomIn(J).zoomIn(J):q.zoomIn(J),W.isZooming=!0;break;case"ArrowLeft":if(Q)X=q.rotateLeft(Y),W.isRotating=!0;else X=q.moveLeft(K),W.isPanning=!0;break;case"ArrowRight":if(Q)X=q.rotateRight(Y),W.isRotating=!0;else X=q.moveRight(K),W.isPanning=!0;break;case"ArrowUp":if(Q)X=q.rotateUp(Z),W.isRotating=!0;else X=q.moveUp(K),W.isPanning=!0;break;case"ArrowDown":if(Q)X=q.rotateDown(Z),W.isRotating=!0;else X=q.moveDown(K),W.isPanning=!0;break;default:return!1}return this.updateViewport(X,this._getTransitionProps(),W),!0}_getTransitionProps($){let{transition:Q}=this;if(!Q||!Q.transitionInterpolator)return YZ;return $?{...Q,transitionInterpolator:new _B({...$,...Q.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:Q}}var YZ,PH1=300,WL=($)=>1-(1-$)*(1-$),fB,OF;var zT0=h(()=>{NT0();Wr();YZ={transitionDuration:0},fB={WHEEL:["wheel"],PAN:["panstart","panmove","panend"],PINCH:["pinchstart","pinchmove","pinchend"],MULTI_PAN:["multipanstart","multipanmove","multipanend"],DOUBLE_CLICK:["dblclick"],KEYBOARD:["keydown"]},OF={}});class UL{constructor($,Q){this._viewportProps=this.applyConstraints($),this._state=Q}getViewportProps(){return this._viewportProps}getState(){return this._state}}var AT0=5,kH1=1.2,VT0,HL;var RT0=h(()=>{z4();zT0();VF();Wr();VT0=class VT0 extends UL{constructor($){let{width:Q,height:J,latitude:K,longitude:Y,zoom:Z,bearing:q=0,pitch:X=0,altitude:W=1.5,position:F=[0,0,0],maxZoom:H=20,minZoom:B=0,maxPitch:z=60,minPitch:A=0,startPanLngLat:R,startZoomLngLat:G,startRotatePos:O,startBearing:T,startPitch:D,startZoom:P,normalize:j=!0}=$;W7(Number.isFinite(Y)),W7(Number.isFinite(K)),W7(Number.isFinite(Z));super({width:Q,height:J,latitude:K,longitude:Y,zoom:Z,bearing:q,pitch:X,altitude:W,maxZoom:H,minZoom:B,maxPitch:z,minPitch:A,normalize:j,position:F},{startPanLngLat:R,startZoomLngLat:G,startRotatePos:O,startBearing:T,startPitch:D,startZoom:P});this.makeViewport=$.makeViewport}panStart({pos:$}){return this._getUpdatedState({startPanLngLat:this._unproject($)})}pan({pos:$,startPos:Q}){let J=this.getState().startPanLngLat||this._unproject(Q);if(!J)return this;let Y=this.makeViewport(this.getViewportProps()).panByPosition(J,$);return this._getUpdatedState(Y)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:$}){return this._getUpdatedState({startRotatePos:$,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:$,deltaAngleX:Q=0,deltaAngleY:J=0}){let{startRotatePos:K,startBearing:Y,startPitch:Z}=this.getState();if(!K||Y===void 0||Z===void 0)return this;let q;if($)q=this._getNewRotation($,K,Z,Y);else q={bearing:Y+Q,pitch:Z+J};return this._getUpdatedState(q)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:$}){return this._getUpdatedState({startZoomLngLat:this._unproject($),startZoom:this.getViewportProps().zoom})}zoom({pos:$,startPos:Q,scale:J}){let{startZoom:K,startZoomLngLat:Y}=this.getState();if(!Y)K=this.getViewportProps().zoom,Y=this._unproject(Q)||this._unproject($);if(!Y)return this;let{maxZoom:Z,minZoom:q}=this.getViewportProps(),X=K+Math.log2(J);X=C$(X,q,Z);let W=this.makeViewport({...this.getViewportProps(),zoom:X});return this._getUpdatedState({zoom:X,...W.panByPosition(Y,$)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn($=2){return this._zoomFromCenter($)}zoomOut($=2){return this._zoomFromCenter(1/$)}moveLeft($=100){return this._panFromCenter([$,0])}moveRight($=100){return this._panFromCenter([-$,0])}moveUp($=100){return this._panFromCenter([0,$])}moveDown($=100){return this._panFromCenter([0,-$])}rotateLeft($=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-$})}rotateRight($=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+$})}rotateUp($=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+$})}rotateDown($=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-$})}shortestPathFrom($){let Q=$.getViewportProps(),J={...this.getViewportProps()},{bearing:K,longitude:Y}=J;if(Math.abs(K-Q.bearing)>180)J.bearing=K<0?K+360:K-360;if(Math.abs(Y-Q.longitude)>180)J.longitude=Y<0?Y+360:Y-360;return J}applyConstraints($){let{maxZoom:Q,minZoom:J,zoom:K}=$;$.zoom=C$(K,J,Q);let{maxPitch:Y,minPitch:Z,pitch:q}=$;$.pitch=C$(q,Z,Y);let{normalize:X=!0}=$;if(X)Object.assign($,dl($));return $}_zoomFromCenter($){let{width:Q,height:J}=this.getViewportProps();return this.zoom({pos:[Q/2,J/2],scale:$})}_panFromCenter($){let{width:Q,height:J}=this.getViewportProps();return this.pan({startPos:[Q/2,J/2],pos:[Q/2+$[0],J/2+$[1]]})}_getUpdatedState($){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...$})}_unproject($){let Q=this.makeViewport(this.getViewportProps());return $&&Q.unproject($)}_getNewRotation($,Q,J,K){let Y=$[0]-Q[0],Z=$[1]-Q[1],q=$[1],X=Q[1],{width:W,height:F}=this.getViewportProps(),H=Y/W,B=0;if(Z>0){if(Math.abs(F-X)>AT0)B=Z/(X-F)*kH1}else if(Z<0){if(X>AT0)B=1-q/X}B=C$(B,-1,1);let{minPitch:z,maxPitch:A}=this.getViewportProps(),R=K+180*H,G=J;if(B>0)G=J+B*(A-J);else if(B<0)G=J-B*(z-J);return{pitch:G,bearing:R}}};HL=class HL extends FL{constructor(){super(...arguments);this.ControllerState=VT0,this.transition={transitionDuration:300,transitionInterpolator:new _B({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})},this.dragMode="pan"}setProps($){$.position=$.position||[0,0,0];let Q=this.props;if(super.setProps($),!Q||Q.height!==$.height)this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...$,...this.state}))}}});var Fr,GT0;var OT0=h(()=>{qr();il();RT0();Fr=class Fr extends L${constructor($={}){super($)}getViewportType(){return sE}get ControllerType(){return HL}};Fr.displayName="MapView";GT0=Fr});function EH1($,Q){let J=$.order??1/0,K=Q.order??1/0;return J-K}class NL{constructor($){this._resolvedEffects=[],this._defaultEffects=[],this.effects=[],this._context=$,this._needsRedraw="Initial render",this._setEffects([])}addDefaultEffect($){let Q=this._defaultEffects;if(!Q.find((J)=>J.id===$.id)){let J=Q.findIndex((K)=>EH1(K,$)>0);if(J<0)Q.push($);else Q.splice(J,0,$);$.setup(this._context),this._setEffects(this.effects)}}setProps($){if("effects"in $){if(!n8($.effects,this.effects,1))this._setEffects($.effects)}}needsRedraw($={clearRedrawFlags:!1}){let Q=this._needsRedraw;if($.clearRedrawFlags)this._needsRedraw=!1;return Q}getEffects(){return this._resolvedEffects}_setEffects($){let Q={};for(let K of this.effects)Q[K.id]=K;let J=[];for(let K of $){let Y=Q[K.id],Z=K;if(Y&&Y!==K)if(Y.setProps)Y.setProps(K.props),Z=Y;else Y.cleanup(this._context);else if(!Y)K.setup(this._context);J.push(Z),delete Q[K.id]}for(let K in Q)Q[K].cleanup(this._context);if(this.effects=J,this._resolvedEffects=J.concat(this._defaultEffects),!$.some((K)=>K instanceof zO))this._resolvedEffects.push(jH1);this._needsRedraw="effects changed"}finalize(){for(let $ of this._resolvedEffects)$.cleanup(this._context);this.effects.length=0,this._resolvedEffects.length=0,this._defaultEffects.length=0}}var jH1;var wT0=h(()=>{Sw0();jH1=new zO});var BL;var TT0=h(()=>{pE();BL=class BL extends AX{shouldDrawLayer($){let{operation:Q}=$.props;return Q.includes("draw")||Q.includes("terrain")}}});class zL{constructor($){this.device=$,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new BL($),this.pickLayersPass=new vB($),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps($){if(this.layerFilter!==$.layerFilter)this.layerFilter=$.layerFilter,this._needsRedraw="layerFilter changed";if(this.drawPickingColors!==$.drawPickingColors)this.drawPickingColors=$.drawPickingColors,this._needsRedraw="drawPickingColors changed"}renderLayers($){if(!$.viewports.length)return;let Q=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass,J={layerFilter:this.layerFilter,isPicking:this.drawPickingColors,...$};if(J.effects)this._preRender(J.effects,J);let K=this.lastPostProcessEffect?this.renderBuffers[0]:J.target;if(this.lastPostProcessEffect)J.clearColor=[0,0,0,0],J.clearCanvas=!0;let Y=Q.render({...J,target:K});if(J.effects)this._postRender(J.effects,J);this.renderCount++,h7(LH1,this,Y,$)}needsRedraw($={clearRedrawFlags:!1}){let Q=this._needsRedraw;if($.clearRedrawFlags)this._needsRedraw=!1;return Q}finalize(){let{renderBuffers:$}=this;for(let Q of $)Q.delete();$.length=0}_preRender($,Q){this.lastPostProcessEffect=null,Q.preRenderStats=Q.preRenderStats||{};for(let J of $)if(Q.preRenderStats[J.id]=J.preRender(Q),J.postRender)this.lastPostProcessEffect=J.id;if(this.lastPostProcessEffect)this._resizeRenderBuffers()}_resizeRenderBuffers(){let{renderBuffers:$}=this,Q=this.device.canvasContext.getDrawingBufferSize();if($.length===0)[0,1].map((J)=>{let K=this.device.createTexture({sampler:{minFilter:"linear",magFilter:"linear"}});$.push(this.device.createFramebuffer({id:`deck-renderbuffer-${J}`,colorAttachments:[K]}))});for(let J of $)J.resize(Q)}_postRender($,Q){let{renderBuffers:J}=this,K={...Q,inputBuffer:J[0],swapBuffer:J[1]};for(let Y of $)if(Y.postRender){K.target=Y.id===this.lastPostProcessEffect?Q.target:void 0;let Z=Y.postRender(K);K.inputBuffer=Z,K.swapBuffer=Z===J[0]?J[1]:J[0]}}}var LH1="deckRenderer.renderLayers";var DT0=h(()=>{QF();TT0();Zr()});function CT0({pickedColors:$,decodePickingColor:Q,deviceX:J,deviceY:K,deviceRadius:Y,deviceRect:Z}){let{x:q,y:X,width:W,height:F}=Z,H=Y*Y,B=-1,z=0;for(let A=0;A<F;A++){let R=A+X-K,G=R*R;if(G>H)z+=4*W;else for(let O=0;O<W;O++){if($[z+3]-1>=0){let D=O+q-J,P=D*D+G;if(P<=H)H=P,B=z}z+=4}}if(B>=0){let A=$.slice(B,B+4),R=Q(A);if(R){let G=Math.floor(B/4/W),O=B/4-G*W;return{...R,pickedColor:A,pickedX:q+O,pickedY:X+G}}I1.error("Picked non-existent layer. Is picking buffer corrupt?")()}return hH1}function PT0({pickedColors:$,decodePickingColor:Q}){let J=new Map;if($){for(let K=0;K<$.length;K+=4)if($[K+3]-1>=0){let Z=$.slice(K,K+4),q=Z.join(",");if(!J.has(q)){let X=Q(Z);if(X)J.set(q,{...X,color:Z});else I1.error("Picked non-existent layer. Is picking buffer corrupt?")()}}}return Array.from(J.values())}var hH1;var kT0=h(()=>{p8();hH1={pickedColor:null,pickedObjectIndex:-1}});function Ur({pickInfo:$,viewports:Q,pixelRatio:J,x:K,y:Y,z:Z}){let q=Q[0];if(Q.length>1)q=vH1($?.pickedViewports||Q,{x:K,y:Y});let X;if(q){let W=[K-q.x,Y-q.y];if(Z!==void 0)W[2]=Z;X=q.unproject(W)}return{color:null,layer:null,viewport:q,index:-1,picked:!1,x:K,y:Y,pixel:[K,Y],coordinate:X,devicePixel:$&&"pickedX"in $?[$.pickedX,$.pickedY]:void 0,pixelRatio:J}}function jT0($){let{pickInfo:Q,lastPickedInfo:J,mode:K,layers:Y}=$,{pickedColor:Z,pickedLayer:q,pickedObjectIndex:X}=Q,W=q?[q]:[];if(K==="hover"){let{index:B,layerId:z}=J,A=q?q.props.id:null;if(A!==z||X!==B){if(A!==z){let R=Y.find((G)=>G.props.id===z);if(R)W.unshift(R)}J.layerId=A,J.index=X,J.info=null}}let F=Ur($),H=new Map;return H.set(null,F),W.forEach((B)=>{let z={...F};if(B===q)z.color=Z,z.index=X,z.picked=!0;z=Hr({layer:B,info:z,mode:K});let A=z.layer;if(B===q&&K==="hover")J.info=z;if(H.set(A.id,z),K==="hover")A.updateAutoHighlight(z)}),H}function Hr({layer:$,info:Q,mode:J}){while($&&Q){let K=Q.layer||null;Q.sourceLayer=K,Q.layer=$,Q=$.getPickingInfo({info:Q,mode:J,sourceLayer:K}),$=$.parent}return Q}function vH1($,Q){for(let J=$.length-1;J>=0;J--){let K=$[J];if(K.containsPixel(Q))return K}return $[0]}class AL{constructor($){this._pickable=!0,this.device=$,this.pickLayersPass=new vB($),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps($){if("layerFilter"in $)this.layerFilter=$.layerFilter;if("_pickable"in $)this._pickable=$._pickable}finalize(){if(this.pickingFBO)this.pickingFBO.destroy();if(this.depthFBO)this.depthFBO.destroy()}pickObject($){return this._pickClosestObject($)}pickObjects($){return this._pickVisibleObjects($)}getLastPickedObject({x:$,y:Q,layers:J,viewports:K},Y=this.lastPickedInfo.info){let Z=Y&&Y.layer&&Y.layer.id,q=Y&&Y.viewport&&Y.viewport.id,X=Z?J.find((B)=>B.id===Z):null,W=q&&K.find((B)=>B.id===q)||K[0],F=W&&W.unproject([$-W.x,Q-W.y]);return{...Y,...{x:$,y:Q,viewport:W,coordinate:F,layer:X}}}_resizeBuffer(){if(!this.pickingFBO){if(this.pickingFBO=this.device.createFramebuffer({colorAttachments:["rgba8unorm"],depthStencilAttachment:"depth16unorm"}),this.device.isTextureFormatRenderable("rgba32float")){let Q=this.device.createFramebuffer({colorAttachments:["rgba32float"],depthStencilAttachment:"depth16unorm"});this.depthFBO=Q}}let{canvas:$}=this.device.getDefaultCanvasContext();this.pickingFBO?.resize({width:$.width,height:$.height}),this.depthFBO?.resize({width:$.width,height:$.height})}_getPickable($){if(this._pickable===!1)return null;let Q=$.filter((J)=>this.pickLayersPass.shouldDrawLayer(J)&&!J.isComposite);return Q.length?Q:null}_pickClosestObject({layers:$,views:Q,viewports:J,x:K,y:Y,radius:Z=0,depth:q=1,mode:X="query",unproject3D:W,onViewportActive:F,effects:H}){let B=this.device.canvasContext.cssToDeviceRatio(),z=this._getPickable($);if(!z||J.length===0)return{result:[],emptyInfo:Ur({viewports:J,x:K,y:Y,pixelRatio:B})};this._resizeBuffer();let A=this.device.canvasContext.cssToDevicePixels([K,Y],!0),R=[A.x+Math.floor(A.width/2),A.y+Math.floor(A.height/2)],G=Math.round(Z*B),{width:O,height:T}=this.pickingFBO,D=this._getPickingRect({deviceX:R[0],deviceY:R[1],deviceRadius:G,deviceWidth:O,deviceHeight:T}),P={x:K-Z,y:Y-Z,width:Z*2+1,height:Z*2+1},j,E=[],L=new Set;for(let v=0;v<q;v++){let f;if(D){let M=this._drawAndSample({layers:z,views:Q,viewports:J,onViewportActive:F,deviceRect:D,cullRect:P,effects:H,pass:`picking:${X}`});f=CT0({...M,deviceX:R[0],deviceY:R[1],deviceRadius:G,deviceRect:D})}else f={pickedColor:null,pickedObjectIndex:-1};let _;if(f.pickedLayer&&W&&this.depthFBO){let{pickedColors:M}=this._drawAndSample({layers:[f.pickedLayer],views:Q,viewports:J,onViewportActive:F,deviceRect:{x:f.pickedX,y:f.pickedY,width:1,height:1},cullRect:P,effects:H,pass:`picking:${X}:z`},!0);if(M[3])_=M[0]}if(f.pickedLayer&&v+1<q)L.add(f.pickedLayer),f.pickedLayer.disablePickingIndex(f.pickedObjectIndex);j=jT0({pickInfo:f,lastPickedInfo:this.lastPickedInfo,mode:X,layers:z,viewports:J,x:K,y:Y,z:_,pixelRatio:B});for(let M of j.values())if(M.layer)E.push(M);if(!f.pickedColor)break}for(let v of L)v.restorePickingColors();return{result:E,emptyInfo:j.get(null)}}_pickVisibleObjects({layers:$,views:Q,viewports:J,x:K,y:Y,width:Z=1,height:q=1,mode:X="query",maxObjects:W=null,onViewportActive:F,effects:H}){let B=this._getPickable($);if(!B||J.length===0)return[];this._resizeBuffer();let z=this.device.canvasContext.cssToDeviceRatio(),A=this.device.canvasContext.cssToDevicePixels([K,Y],!0),R=A.x,G=A.y+A.height,O=this.device.canvasContext.cssToDevicePixels([K+Z,Y+q],!0),T=O.x+O.width,D=O.y,P={x:R,y:D,width:T-R,height:G-D},j=this._drawAndSample({layers:B,views:Q,viewports:J,onViewportActive:F,deviceRect:P,cullRect:{x:K,y:Y,width:Z,height:q},effects:H,pass:`picking:${X}`}),E=PT0(j),L=new Map,v=[],f=Number.isFinite(W);for(let _=0;_<E.length;_++){if(f&&v.length>=W)break;let M=E[_],b={color:M.pickedColor,layer:null,index:M.pickedObjectIndex,picked:!0,x:K,y:Y,pixelRatio:z};b=Hr({layer:M.pickedLayer,info:b,mode:X});let x=b.layer.id;if(!L.has(x))L.set(x,new Set);let g=L.get(x),m=b.object??b.index;if(!g.has(m))g.add(m),v.push(b)}return v}_drawAndSample({layers:$,views:Q,viewports:J,onViewportActive:K,deviceRect:Y,cullRect:Z,effects:q,pass:X},W=!1){let F=W?this.depthFBO:this.pickingFBO,H={layers:$,layerFilter:this.layerFilter,views:Q,viewports:J,onViewportActive:K,pickingFBO:F,deviceRect:Y,cullRect:Z,effects:q,pass:X,pickZ:W,preRenderStats:{},isPicking:!0};for(let T of q)if(T.useInPicking)H.preRenderStats[T.id]=T.preRender(H);let{decodePickingColor:B}=this.pickLayersPass.render(H),{x:z,y:A,width:R,height:G}=Y,O=new(W?Float32Array:Uint8Array)(R*G*4);return this.device.readPixelsToArrayWebGL(F,{sourceX:z,sourceY:A,sourceWidth:R,sourceHeight:G,target:O}),{pickedColors:O,decodePickingColor:B}}_getPickingRect({deviceX:$,deviceY:Q,deviceRadius:J,deviceWidth:K,deviceHeight:Y}){let Z=Math.max(0,$-J),q=Math.max(0,Q-J),X=Math.min(K,$+J+1)-Z,W=Math.min(Y,Q+J+1)-q;if(X<=0||W<=0)return null;return{x:Z,y:q,width:X,height:W}}}var ET0=h(()=>{Zr();kT0()});class Nr{constructor({deck:$,parentElement:Q}){this.defaultWidgets=[],this.widgets=[],this.resolvedWidgets=[],this.containers={},this.lastViewports={},this.deck=$,this.parentElement=Q}getWidgets(){return this.resolvedWidgets}setProps($){if($.widgets&&!n8($.widgets,this.widgets,1))this._setWidgets($.widgets)}finalize(){for(let $ of this.getWidgets())this._remove($);this.defaultWidgets.length=0,this.resolvedWidgets.length=0;for(let $ in this.containers)this.containers[$].remove()}addDefault($){if(!this.defaultWidgets.find((Q)=>Q.id===$.id))this._add($),this.defaultWidgets.push($),this._setWidgets(this.widgets)}_setWidgets($){let Q={};for(let J of this.resolvedWidgets)Q[J.id]=J;this.resolvedWidgets.length=0;for(let J of this.defaultWidgets)Q[J.id]=null,this.resolvedWidgets.push(J);for(let J of $){let K=Q[J.id];if(!K)this._add(J);else if(K.viewId!==J.viewId||K.placement!==J.placement)this._remove(K),this._add(J);else if(J!==K)K.setProps(J.props),J=K;Q[J.id]=null,this.resolvedWidgets.push(J)}for(let J in Q){let K=Q[J];if(K)this._remove(K)}this.widgets=$}_add($){let{viewId:Q=null,placement:J=_H1}=$,K=$.onAdd({deck:this.deck,viewId:Q});if(K)this._getContainer(Q,J).append(K);$._element=K}_remove($){if($.onRemove?.(),$._element)$._element.remove();$._element=void 0}_getContainer($,Q){let J=$||LT0,K=this.containers[J];if(!K)K=document.createElement("div"),K.style.pointerEvents="none",K.style.position="absolute",K.style.overflow="hidden",this.parentElement?.append(K),this.containers[J]=K;let Y=K.querySelector(`.${Q}`);if(!Y)Y=document.createElement("div"),Y.className=Q,Y.style.position="absolute",Y.style.zIndex="2",Object.assign(Y.style,SH1[Q]),K.append(Y);return Y}_updateContainers(){let $=this.deck.width,Q=this.deck.height;for(let J in this.containers){let K=this.lastViewports[J]||null,Y=J===LT0||K,Z=this.containers[J];if(Y)Z.style.display="block",Z.style.left=`${K?K.x:0}px`,Z.style.top=`${K?K.y:0}px`,Z.style.width=`${K?K.width:$}px`,Z.style.height=`${K?K.height:Q}px`;else Z.style.display="none"}}onRedraw({viewports:$,layers:Q}){let J=$.reduce((K,Y)=>{return K[Y.id]=Y,K},{});for(let K of this.getWidgets()){let{viewId:Y}=K;if(Y){let Z=J[Y];if(Z){if(K.onViewportChange)K.onViewportChange(Z);K.onRedraw?.({viewports:[Z],layers:Q})}}else{if(K.onViewportChange)for(let Z of $)K.onViewportChange(Z);K.onRedraw?.({viewports:$,layers:Q})}}this.lastViewports=J,this._updateContainers()}onHover($,Q){for(let J of this.getWidgets()){let{viewId:K}=J;if(!K||K===$.viewport?.id)J.onHover?.($,Q)}}onEvent($,Q){let J=FO[Q.type];if(!J)return;for(let K of this.getWidgets()){let{viewId:Y}=K;if(!Y||Y===$.viewport?.id)K[J]?.($,Q)}}}var SH1,_H1="top-left",LT0="__root";var hT0=h(()=>{MQ();SH1={"top-left":{top:0,left:0},"top-right":{top:0,right:0},"bottom-left":{bottom:0,left:0},"bottom-right":{bottom:0,right:0},fill:{top:0,left:0,bottom:0,right:0}}});class VL{constructor(){this.id="default-tooltip",this.placement="fill",this.props={},this.isVisible=!1}onAdd({deck:$}){let Q=document.createElement("div");return Q.className="deck-tooltip",Object.assign(Q.style,fH1),this.deck=$,this.element=Q,Q}onRemove(){this.deck=void 0,this.element=void 0}setProps(){}onViewportChange($){if(this.isVisible&&$.id===this.lastViewport?.id&&$!==this.lastViewport)this.setTooltip(null)}onHover($){let{deck:Q}=this,J=Q&&Q.props.getTooltip;if(!J)return;let K=J($);this.lastViewport=$.viewport,this.setTooltip(K,$.x,$.y)}setTooltip($,Q,J){let K=this.element;if(!K)return;if(typeof $==="string")K.innerText=$;else if(!$){this.isVisible=!1,K.style.display="none";return}else{if($.text)K.innerText=$.text;if($.html)K.innerHTML=$.html;if($.className)K.className=$.className}if(this.isVisible=!0,K.style.display="block",K.style.transform=`translate(${Q}px, ${J}px)`,$&&typeof $==="object"&&"style"in $)Object.assign(K.style,$.style)}}var fH1;var vT0=h(()=>{fH1={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"}});var OX;var ST0=h(()=>{(function($){$[$.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",$[$.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",$[$.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",$[$.POINTS=0]="POINTS",$[$.LINES=1]="LINES",$[$.LINE_LOOP=2]="LINE_LOOP",$[$.LINE_STRIP=3]="LINE_STRIP",$[$.TRIANGLES=4]="TRIANGLES",$[$.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",$[$.TRIANGLE_FAN=6]="TRIANGLE_FAN",$[$.ZERO=0]="ZERO",$[$.ONE=1]="ONE",$[$.SRC_COLOR=768]="SRC_COLOR",$[$.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",$[$.SRC_ALPHA=770]="SRC_ALPHA",$[$.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",$[$.DST_ALPHA=772]="DST_ALPHA",$[$.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",$[$.DST_COLOR=774]="DST_COLOR",$[$.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",$[$.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",$[$.CONSTANT_COLOR=32769]="CONSTANT_COLOR",$[$.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",$[$.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",$[$.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",$[$.FUNC_ADD=32774]="FUNC_ADD",$[$.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",$[$.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",$[$.BLEND_EQUATION=32777]="BLEND_EQUATION",$[$.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",$[$.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",$[$.BLEND_DST_RGB=32968]="BLEND_DST_RGB",$[$.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",$[$.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",$[$.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",$[$.BLEND_COLOR=32773]="BLEND_COLOR",$[$.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",$[$.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",$[$.LINE_WIDTH=2849]="LINE_WIDTH",$[$.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",$[$.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",$[$.CULL_FACE_MODE=2885]="CULL_FACE_MODE",$[$.FRONT_FACE=2886]="FRONT_FACE",$[$.DEPTH_RANGE=2928]="DEPTH_RANGE",$[$.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",$[$.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",$[$.DEPTH_FUNC=2932]="DEPTH_FUNC",$[$.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",$[$.STENCIL_FUNC=2962]="STENCIL_FUNC",$[$.STENCIL_FAIL=2964]="STENCIL_FAIL",$[$.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",$[$.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",$[$.STENCIL_REF=2967]="STENCIL_REF",$[$.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",$[$.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",$[$.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",$[$.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",$[$.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",$[$.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",$[$.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",$[$.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",$[$.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",$[$.VIEWPORT=2978]="VIEWPORT",$[$.SCISSOR_BOX=3088]="SCISSOR_BOX",$[$.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",$[$.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",$[$.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",$[$.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",$[$.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",$[$.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",$[$.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",$[$.RED_BITS=3410]="RED_BITS",$[$.GREEN_BITS=3411]="GREEN_BITS",$[$.BLUE_BITS=3412]="BLUE_BITS",$[$.ALPHA_BITS=3413]="ALPHA_BITS",$[$.DEPTH_BITS=3414]="DEPTH_BITS",$[$.STENCIL_BITS=3415]="STENCIL_BITS",$[$.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",$[$.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",$[$.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",$[$.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",$[$.SAMPLES=32937]="SAMPLES",$[$.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",$[$.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",$[$.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",$[$.VENDOR=7936]="VENDOR",$[$.RENDERER=7937]="RENDERER",$[$.VERSION=7938]="VERSION",$[$.IMPLEMENTATION_COLOR_READ_TYPE=35738]="IMPLEMENTATION_COLOR_READ_TYPE",$[$.IMPLEMENTATION_COLOR_READ_FORMAT=35739]="IMPLEMENTATION_COLOR_READ_FORMAT",$[$.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",$[$.STATIC_DRAW=35044]="STATIC_DRAW",$[$.STREAM_DRAW=35040]="STREAM_DRAW",$[$.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",$[$.ARRAY_BUFFER=34962]="ARRAY_BUFFER",$[$.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",$[$.BUFFER_SIZE=34660]="BUFFER_SIZE",$[$.BUFFER_USAGE=34661]="BUFFER_USAGE",$[$.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",$[$.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",$[$.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",$[$.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",$[$.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",$[$.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",$[$.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",$[$.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",$[$.CULL_FACE=2884]="CULL_FACE",$[$.FRONT=1028]="FRONT",$[$.BACK=1029]="BACK",$[$.FRONT_AND_BACK=1032]="FRONT_AND_BACK",$[$.BLEND=3042]="BLEND",$[$.DEPTH_TEST=2929]="DEPTH_TEST",$[$.DITHER=3024]="DITHER",$[$.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",$[$.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",$[$.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",$[$.SCISSOR_TEST=3089]="SCISSOR_TEST",$[$.STENCIL_TEST=2960]="STENCIL_TEST",$[$.NO_ERROR=0]="NO_ERROR",$[$.INVALID_ENUM=1280]="INVALID_ENUM",$[$.INVALID_VALUE=1281]="INVALID_VALUE",$[$.INVALID_OPERATION=1282]="INVALID_OPERATION",$[$.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",$[$.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",$[$.CW=2304]="CW",$[$.CCW=2305]="CCW",$[$.DONT_CARE=4352]="DONT_CARE",$[$.FASTEST=4353]="FASTEST",$[$.NICEST=4354]="NICEST",$[$.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",$[$.BYTE=5120]="BYTE",$[$.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",$[$.SHORT=5122]="SHORT",$[$.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",$[$.INT=5124]="INT",$[$.UNSIGNED_INT=5125]="UNSIGNED_INT",$[$.FLOAT=5126]="FLOAT",$[$.DOUBLE=5130]="DOUBLE",$[$.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",$[$.ALPHA=6406]="ALPHA",$[$.RGB=6407]="RGB",$[$.RGBA=6408]="RGBA",$[$.LUMINANCE=6409]="LUMINANCE",$[$.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",$[$.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",$[$.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",$[$.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",$[$.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",$[$.VERTEX_SHADER=35633]="VERTEX_SHADER",$[$.COMPILE_STATUS=35713]="COMPILE_STATUS",$[$.DELETE_STATUS=35712]="DELETE_STATUS",$[$.LINK_STATUS=35714]="LINK_STATUS",$[$.VALIDATE_STATUS=35715]="VALIDATE_STATUS",$[$.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",$[$.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",$[$.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",$[$.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",$[$.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",$[$.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",$[$.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",$[$.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",$[$.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",$[$.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",$[$.SHADER_TYPE=35663]="SHADER_TYPE",$[$.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",$[$.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",$[$.NEVER=512]="NEVER",$[$.LESS=513]="LESS",$[$.EQUAL=514]="EQUAL",$[$.LEQUAL=515]="LEQUAL",$[$.GREATER=516]="GREATER",$[$.NOTEQUAL=517]="NOTEQUAL",$[$.GEQUAL=518]="GEQUAL",$[$.ALWAYS=519]="ALWAYS",$[$.KEEP=7680]="KEEP",$[$.REPLACE=7681]="REPLACE",$[$.INCR=7682]="INCR",$[$.DECR=7683]="DECR",$[$.INVERT=5386]="INVERT",$[$.INCR_WRAP=34055]="INCR_WRAP",$[$.DECR_WRAP=34056]="DECR_WRAP",$[$.NEAREST=9728]="NEAREST",$[$.LINEAR=9729]="LINEAR",$[$.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",$[$.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",$[$.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",$[$.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",$[$.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",$[$.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",$[$.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",$[$.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",$[$.TEXTURE_2D=3553]="TEXTURE_2D",$[$.TEXTURE=5890]="TEXTURE",$[$.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",$[$.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",$[$.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",$[$.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",$[$.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",$[$.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",$[$.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",$[$.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",$[$.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",$[$.TEXTURE0=33984]="TEXTURE0",$[$.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",$[$.REPEAT=10497]="REPEAT",$[$.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",$[$.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",$[$.TEXTURE_WIDTH=4096]="TEXTURE_WIDTH",$[$.TEXTURE_HEIGHT=4097]="TEXTURE_HEIGHT",$[$.FLOAT_VEC2=35664]="FLOAT_VEC2",$[$.FLOAT_VEC3=35665]="FLOAT_VEC3",$[$.FLOAT_VEC4=35666]="FLOAT_VEC4",$[$.INT_VEC2=35667]="INT_VEC2",$[$.INT_VEC3=35668]="INT_VEC3",$[$.INT_VEC4=35669]="INT_VEC4",$[$.BOOL=35670]="BOOL",$[$.BOOL_VEC2=35671]="BOOL_VEC2",$[$.BOOL_VEC3=35672]="BOOL_VEC3",$[$.BOOL_VEC4=35673]="BOOL_VEC4",$[$.FLOAT_MAT2=35674]="FLOAT_MAT2",$[$.FLOAT_MAT3=35675]="FLOAT_MAT3",$[$.FLOAT_MAT4=35676]="FLOAT_MAT4",$[$.SAMPLER_2D=35678]="SAMPLER_2D",$[$.SAMPLER_CUBE=35680]="SAMPLER_CUBE",$[$.LOW_FLOAT=36336]="LOW_FLOAT",$[$.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",$[$.HIGH_FLOAT=36338]="HIGH_FLOAT",$[$.LOW_INT=36339]="LOW_INT",$[$.MEDIUM_INT=36340]="MEDIUM_INT",$[$.HIGH_INT=36341]="HIGH_INT",$[$.FRAMEBUFFER=36160]="FRAMEBUFFER",$[$.RENDERBUFFER=36161]="RENDERBUFFER",$[$.RGBA4=32854]="RGBA4",$[$.RGB5_A1=32855]="RGB5_A1",$[$.RGB565=36194]="RGB565",$[$.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",$[$.STENCIL_INDEX=6401]="STENCIL_INDEX",$[$.STENCIL_INDEX8=36168]="STENCIL_INDEX8",$[$.DEPTH_STENCIL=34041]="DEPTH_STENCIL",$[$.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",$[$.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",$[$.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",$[$.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",$[$.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",$[$.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",$[$.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",$[$.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",$[$.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",$[$.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",$[$.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",$[$.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",$[$.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",$[$.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",$[$.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",$[$.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",$[$.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",$[$.NONE=0]="NONE",$[$.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",$[$.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",$[$.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",$[$.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",$[$.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",$[$.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",$[$.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",$[$.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",$[$.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER",$[$.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",$[$.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",$[$.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",$[$.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",$[$.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",$[$.READ_BUFFER=3074]="READ_BUFFER",$[$.UNPACK_ROW_LENGTH=3314]="UNPACK_ROW_LENGTH",$[$.UNPACK_SKIP_ROWS=3315]="UNPACK_SKIP_ROWS",$[$.UNPACK_SKIP_PIXELS=3316]="UNPACK_SKIP_PIXELS",$[$.PACK_ROW_LENGTH=3330]="PACK_ROW_LENGTH",$[$.PACK_SKIP_ROWS=3331]="PACK_SKIP_ROWS",$[$.PACK_SKIP_PIXELS=3332]="PACK_SKIP_PIXELS",$[$.TEXTURE_BINDING_3D=32874]="TEXTURE_BINDING_3D",$[$.UNPACK_SKIP_IMAGES=32877]="UNPACK_SKIP_IMAGES",$[$.UNPACK_IMAGE_HEIGHT=32878]="UNPACK_IMAGE_HEIGHT",$[$.MAX_3D_TEXTURE_SIZE=32883]="MAX_3D_TEXTURE_SIZE",$[$.MAX_ELEMENTS_VERTICES=33000]="MAX_ELEMENTS_VERTICES",$[$.MAX_ELEMENTS_INDICES=33001]="MAX_ELEMENTS_INDICES",$[$.MAX_TEXTURE_LOD_BIAS=34045]="MAX_TEXTURE_LOD_BIAS",$[$.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657]="MAX_FRAGMENT_UNIFORM_COMPONENTS",$[$.MAX_VERTEX_UNIFORM_COMPONENTS=35658]="MAX_VERTEX_UNIFORM_COMPONENTS",$[$.MAX_ARRAY_TEXTURE_LAYERS=35071]="MAX_ARRAY_TEXTURE_LAYERS",$[$.MIN_PROGRAM_TEXEL_OFFSET=35076]="MIN_PROGRAM_TEXEL_OFFSET",$[$.MAX_PROGRAM_TEXEL_OFFSET=35077]="MAX_PROGRAM_TEXEL_OFFSET",$[$.MAX_VARYING_COMPONENTS=35659]="MAX_VARYING_COMPONENTS",$[$.FRAGMENT_SHADER_DERIVATIVE_HINT=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT",$[$.RASTERIZER_DISCARD=35977]="RASTERIZER_DISCARD",$[$.VERTEX_ARRAY_BINDING=34229]="VERTEX_ARRAY_BINDING",$[$.MAX_VERTEX_OUTPUT_COMPONENTS=37154]="MAX_VERTEX_OUTPUT_COMPONENTS",$[$.MAX_FRAGMENT_INPUT_COMPONENTS=37157]="MAX_FRAGMENT_INPUT_COMPONENTS",$[$.MAX_SERVER_WAIT_TIMEOUT=37137]="MAX_SERVER_WAIT_TIMEOUT",$[$.MAX_ELEMENT_INDEX=36203]="MAX_ELEMENT_INDEX",$[$.RED=6403]="RED",$[$.RGB8=32849]="RGB8",$[$.RGBA8=32856]="RGBA8",$[$.RGB10_A2=32857]="RGB10_A2",$[$.TEXTURE_3D=32879]="TEXTURE_3D",$[$.TEXTURE_WRAP_R=32882]="TEXTURE_WRAP_R",$[$.TEXTURE_MIN_LOD=33082]="TEXTURE_MIN_LOD",$[$.TEXTURE_MAX_LOD=33083]="TEXTURE_MAX_LOD",$[$.TEXTURE_BASE_LEVEL=33084]="TEXTURE_BASE_LEVEL",$[$.TEXTURE_MAX_LEVEL=33085]="TEXTURE_MAX_LEVEL",$[$.TEXTURE_COMPARE_MODE=34892]="TEXTURE_COMPARE_MODE",$[$.TEXTURE_COMPARE_FUNC=34893]="TEXTURE_COMPARE_FUNC",$[$.SRGB=35904]="SRGB",$[$.SRGB8=35905]="SRGB8",$[$.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",$[$.COMPARE_REF_TO_TEXTURE=34894]="COMPARE_REF_TO_TEXTURE",$[$.RGBA32F=34836]="RGBA32F",$[$.RGB32F=34837]="RGB32F",$[$.RGBA16F=34842]="RGBA16F",$[$.RGB16F=34843]="RGB16F",$[$.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",$[$.TEXTURE_BINDING_2D_ARRAY=35869]="TEXTURE_BINDING_2D_ARRAY",$[$.R11F_G11F_B10F=35898]="R11F_G11F_B10F",$[$.RGB9_E5=35901]="RGB9_E5",$[$.RGBA32UI=36208]="RGBA32UI",$[$.RGB32UI=36209]="RGB32UI",$[$.RGBA16UI=36214]="RGBA16UI",$[$.RGB16UI=36215]="RGB16UI",$[$.RGBA8UI=36220]="RGBA8UI",$[$.RGB8UI=36221]="RGB8UI",$[$.RGBA32I=36226]="RGBA32I",$[$.RGB32I=36227]="RGB32I",$[$.RGBA16I=36232]="RGBA16I",$[$.RGB16I=36233]="RGB16I",$[$.RGBA8I=36238]="RGBA8I",$[$.RGB8I=36239]="RGB8I",$[$.RED_INTEGER=36244]="RED_INTEGER",$[$.RGB_INTEGER=36248]="RGB_INTEGER",$[$.RGBA_INTEGER=36249]="RGBA_INTEGER",$[$.R8=33321]="R8",$[$.RG8=33323]="RG8",$[$.R16F=33325]="R16F",$[$.R32F=33326]="R32F",$[$.RG16F=33327]="RG16F",$[$.RG32F=33328]="RG32F",$[$.R8I=33329]="R8I",$[$.R8UI=33330]="R8UI",$[$.R16I=33331]="R16I",$[$.R16UI=33332]="R16UI",$[$.R32I=33333]="R32I",$[$.R32UI=33334]="R32UI",$[$.RG8I=33335]="RG8I",$[$.RG8UI=33336]="RG8UI",$[$.RG16I=33337]="RG16I",$[$.RG16UI=33338]="RG16UI",$[$.RG32I=33339]="RG32I",$[$.RG32UI=33340]="RG32UI",$[$.R8_SNORM=36756]="R8_SNORM",$[$.RG8_SNORM=36757]="RG8_SNORM",$[$.RGB8_SNORM=36758]="RGB8_SNORM",$[$.RGBA8_SNORM=36759]="RGBA8_SNORM",$[$.RGB10_A2UI=36975]="RGB10_A2UI",$[$.TEXTURE_IMMUTABLE_FORMAT=37167]="TEXTURE_IMMUTABLE_FORMAT",$[$.TEXTURE_IMMUTABLE_LEVELS=33503]="TEXTURE_IMMUTABLE_LEVELS",$[$.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",$[$.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",$[$.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",$[$.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",$[$.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",$[$.HALF_FLOAT=5131]="HALF_FLOAT",$[$.RG=33319]="RG",$[$.RG_INTEGER=33320]="RG_INTEGER",$[$.INT_2_10_10_10_REV=36255]="INT_2_10_10_10_REV",$[$.CURRENT_QUERY=34917]="CURRENT_QUERY",$[$.QUERY_RESULT=34918]="QUERY_RESULT",$[$.QUERY_RESULT_AVAILABLE=34919]="QUERY_RESULT_AVAILABLE",$[$.ANY_SAMPLES_PASSED=35887]="ANY_SAMPLES_PASSED",$[$.ANY_SAMPLES_PASSED_CONSERVATIVE=36202]="ANY_SAMPLES_PASSED_CONSERVATIVE",$[$.MAX_DRAW_BUFFERS=34852]="MAX_DRAW_BUFFERS",$[$.DRAW_BUFFER0=34853]="DRAW_BUFFER0",$[$.DRAW_BUFFER1=34854]="DRAW_BUFFER1",$[$.DRAW_BUFFER2=34855]="DRAW_BUFFER2",$[$.DRAW_BUFFER3=34856]="DRAW_BUFFER3",$[$.DRAW_BUFFER4=34857]="DRAW_BUFFER4",$[$.DRAW_BUFFER5=34858]="DRAW_BUFFER5",$[$.DRAW_BUFFER6=34859]="DRAW_BUFFER6",$[$.DRAW_BUFFER7=34860]="DRAW_BUFFER7",$[$.DRAW_BUFFER8=34861]="DRAW_BUFFER8",$[$.DRAW_BUFFER9=34862]="DRAW_BUFFER9",$[$.DRAW_BUFFER10=34863]="DRAW_BUFFER10",$[$.DRAW_BUFFER11=34864]="DRAW_BUFFER11",$[$.DRAW_BUFFER12=34865]="DRAW_BUFFER12",$[$.DRAW_BUFFER13=34866]="DRAW_BUFFER13",$[$.DRAW_BUFFER14=34867]="DRAW_BUFFER14",$[$.DRAW_BUFFER15=34868]="DRAW_BUFFER15",$[$.MAX_COLOR_ATTACHMENTS=36063]="MAX_COLOR_ATTACHMENTS",$[$.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",$[$.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",$[$.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",$[$.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",$[$.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",$[$.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",$[$.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",$[$.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",$[$.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",$[$.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",$[$.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",$[$.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",$[$.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",$[$.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",$[$.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15",$[$.SAMPLER_3D=35679]="SAMPLER_3D",$[$.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",$[$.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",$[$.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",$[$.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",$[$.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",$[$.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",$[$.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",$[$.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",$[$.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",$[$.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",$[$.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",$[$.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY",$[$.MAX_SAMPLES=36183]="MAX_SAMPLES",$[$.SAMPLER_BINDING=35097]="SAMPLER_BINDING",$[$.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",$[$.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",$[$.PIXEL_PACK_BUFFER_BINDING=35053]="PIXEL_PACK_BUFFER_BINDING",$[$.PIXEL_UNPACK_BUFFER_BINDING=35055]="PIXEL_UNPACK_BUFFER_BINDING",$[$.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",$[$.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",$[$.COPY_READ_BUFFER_BINDING=36662]="COPY_READ_BUFFER_BINDING",$[$.COPY_WRITE_BUFFER_BINDING=36663]="COPY_WRITE_BUFFER_BINDING",$[$.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",$[$.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",$[$.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",$[$.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",$[$.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",$[$.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",$[$.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",$[$.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",$[$.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",$[$.UNSIGNED_NORMALIZED=35863]="UNSIGNED_NORMALIZED",$[$.SIGNED_NORMALIZED=36764]="SIGNED_NORMALIZED",$[$.VERTEX_ATTRIB_ARRAY_INTEGER=35069]="VERTEX_ATTRIB_ARRAY_INTEGER",$[$.VERTEX_ATTRIB_ARRAY_DIVISOR=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR",$[$.TRANSFORM_FEEDBACK_BUFFER_MODE=35967]="TRANSFORM_FEEDBACK_BUFFER_MODE",$[$.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968]="MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",$[$.TRANSFORM_FEEDBACK_VARYINGS=35971]="TRANSFORM_FEEDBACK_VARYINGS",$[$.TRANSFORM_FEEDBACK_BUFFER_START=35972]="TRANSFORM_FEEDBACK_BUFFER_START",$[$.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973]="TRANSFORM_FEEDBACK_BUFFER_SIZE",$[$.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976]="TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",$[$.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978]="MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",$[$.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979]="MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",$[$.INTERLEAVED_ATTRIBS=35980]="INTERLEAVED_ATTRIBS",$[$.SEPARATE_ATTRIBS=35981]="SEPARATE_ATTRIBS",$[$.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER",$[$.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983]="TRANSFORM_FEEDBACK_BUFFER_BINDING",$[$.TRANSFORM_FEEDBACK=36386]="TRANSFORM_FEEDBACK",$[$.TRANSFORM_FEEDBACK_PAUSED=36387]="TRANSFORM_FEEDBACK_PAUSED",$[$.TRANSFORM_FEEDBACK_ACTIVE=36388]="TRANSFORM_FEEDBACK_ACTIVE",$[$.TRANSFORM_FEEDBACK_BINDING=36389]="TRANSFORM_FEEDBACK_BINDING",$[$.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",$[$.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",$[$.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298]="FRAMEBUFFER_ATTACHMENT_RED_SIZE",$[$.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299]="FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",$[$.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300]="FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",$[$.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301]="FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",$[$.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302]="FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",$[$.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303]="FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",$[$.FRAMEBUFFER_DEFAULT=33304]="FRAMEBUFFER_DEFAULT",$[$.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",$[$.DRAW_FRAMEBUFFER_BINDING=36006]="DRAW_FRAMEBUFFER_BINDING",$[$.READ_FRAMEBUFFER_BINDING=36010]="READ_FRAMEBUFFER_BINDING",$[$.RENDERBUFFER_SAMPLES=36011]="RENDERBUFFER_SAMPLES",$[$.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",$[$.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182]="FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",$[$.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",$[$.UNIFORM_BUFFER_BINDING=35368]="UNIFORM_BUFFER_BINDING",$[$.UNIFORM_BUFFER_START=35369]="UNIFORM_BUFFER_START",$[$.UNIFORM_BUFFER_SIZE=35370]="UNIFORM_BUFFER_SIZE",$[$.MAX_VERTEX_UNIFORM_BLOCKS=35371]="MAX_VERTEX_UNIFORM_BLOCKS",$[$.MAX_FRAGMENT_UNIFORM_BLOCKS=35373]="MAX_FRAGMENT_UNIFORM_BLOCKS",$[$.MAX_COMBINED_UNIFORM_BLOCKS=35374]="MAX_COMBINED_UNIFORM_BLOCKS",$[$.MAX_UNIFORM_BUFFER_BINDINGS=35375]="MAX_UNIFORM_BUFFER_BINDINGS",$[$.MAX_UNIFORM_BLOCK_SIZE=35376]="MAX_UNIFORM_BLOCK_SIZE",$[$.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377]="MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",$[$.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379]="MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",$[$.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380]="UNIFORM_BUFFER_OFFSET_ALIGNMENT",$[$.ACTIVE_UNIFORM_BLOCKS=35382]="ACTIVE_UNIFORM_BLOCKS",$[$.UNIFORM_TYPE=35383]="UNIFORM_TYPE",$[$.UNIFORM_SIZE=35384]="UNIFORM_SIZE",$[$.UNIFORM_BLOCK_INDEX=35386]="UNIFORM_BLOCK_INDEX",$[$.UNIFORM_OFFSET=35387]="UNIFORM_OFFSET",$[$.UNIFORM_ARRAY_STRIDE=35388]="UNIFORM_ARRAY_STRIDE",$[$.UNIFORM_MATRIX_STRIDE=35389]="UNIFORM_MATRIX_STRIDE",$[$.UNIFORM_IS_ROW_MAJOR=35390]="UNIFORM_IS_ROW_MAJOR",$[$.UNIFORM_BLOCK_BINDING=35391]="UNIFORM_BLOCK_BINDING",$[$.UNIFORM_BLOCK_DATA_SIZE=35392]="UNIFORM_BLOCK_DATA_SIZE",$[$.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394]="UNIFORM_BLOCK_ACTIVE_UNIFORMS",$[$.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395]="UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",$[$.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396]="UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",$[$.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398]="UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",$[$.OBJECT_TYPE=37138]="OBJECT_TYPE",$[$.SYNC_CONDITION=37139]="SYNC_CONDITION",$[$.SYNC_STATUS=37140]="SYNC_STATUS",$[$.SYNC_FLAGS=37141]="SYNC_FLAGS",$[$.SYNC_FENCE=37142]="SYNC_FENCE",$[$.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE",$[$.UNSIGNALED=37144]="UNSIGNALED",$[$.SIGNALED=37145]="SIGNALED",$[$.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",$[$.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",$[$.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",$[$.WAIT_FAILED=37149]="WAIT_FAILED",$[$.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT",$[$.COLOR=6144]="COLOR",$[$.DEPTH=6145]="DEPTH",$[$.STENCIL=6146]="STENCIL",$[$.MIN=32775]="MIN",$[$.MAX=32776]="MAX",$[$.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",$[$.STREAM_READ=35041]="STREAM_READ",$[$.STREAM_COPY=35042]="STREAM_COPY",$[$.STATIC_READ=35045]="STATIC_READ",$[$.STATIC_COPY=35046]="STATIC_COPY",$[$.DYNAMIC_READ=35049]="DYNAMIC_READ",$[$.DYNAMIC_COPY=35050]="DYNAMIC_COPY",$[$.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",$[$.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8",$[$.INVALID_INDEX=4294967295]="INVALID_INDEX",$[$.TIMEOUT_IGNORED=-1]="TIMEOUT_IGNORED",$[$.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447]="MAX_CLIENT_WAIT_TIMEOUT_WEBGL",$[$.UNMASKED_VENDOR_WEBGL=37445]="UNMASKED_VENDOR_WEBGL",$[$.UNMASKED_RENDERER_WEBGL=37446]="UNMASKED_RENDERER_WEBGL",$[$.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047]="MAX_TEXTURE_MAX_ANISOTROPY_EXT",$[$.TEXTURE_MAX_ANISOTROPY_EXT=34046]="TEXTURE_MAX_ANISOTROPY_EXT",$[$.R16_EXT=33322]="R16_EXT",$[$.RG16_EXT=33324]="RG16_EXT",$[$.RGB16_EXT=32852]="RGB16_EXT",$[$.RGBA16_EXT=32859]="RGBA16_EXT",$[$.R16_SNORM_EXT=36760]="R16_SNORM_EXT",$[$.RG16_SNORM_EXT=36761]="RG16_SNORM_EXT",$[$.RGB16_SNORM_EXT=36762]="RGB16_SNORM_EXT",$[$.RGBA16_SNORM_EXT=36763]="RGBA16_SNORM_EXT",$[$.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",$[$.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",$[$.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",$[$.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",$[$.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",$[$.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",$[$.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",$[$.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",$[$.COMPRESSED_RED_RGTC1_EXT=36283]="COMPRESSED_RED_RGTC1_EXT",$[$.COMPRESSED_SIGNED_RED_RGTC1_EXT=36284]="COMPRESSED_SIGNED_RED_RGTC1_EXT",$[$.COMPRESSED_RED_GREEN_RGTC2_EXT=36285]="COMPRESSED_RED_GREEN_RGTC2_EXT",$[$.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT=36286]="COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT",$[$.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",$[$.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",$[$.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",$[$.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",$[$.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",$[$.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",$[$.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",$[$.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",$[$.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",$[$.COMPRESSED_RGBA8_ETC2_EAC=37493]="COMPRESSED_RGBA8_ETC2_EAC",$[$.COMPRESSED_SRGB8_ETC2=37494]="COMPRESSED_SRGB8_ETC2",$[$.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37495]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",$[$.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37496]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",$[$.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37497]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",$[$.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",$[$.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",$[$.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",$[$.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",$[$.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",$[$.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",$[$.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",$[$.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",$[$.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",$[$.COMPRESSED_RGBA_ASTC_5x4_KHR=37809]="COMPRESSED_RGBA_ASTC_5x4_KHR",$[$.COMPRESSED_RGBA_ASTC_5x5_KHR=37810]="COMPRESSED_RGBA_ASTC_5x5_KHR",$[$.COMPRESSED_RGBA_ASTC_6x5_KHR=37811]="COMPRESSED_RGBA_ASTC_6x5_KHR",$[$.COMPRESSED_RGBA_ASTC_6x6_KHR=37812]="COMPRESSED_RGBA_ASTC_6x6_KHR",$[$.COMPRESSED_RGBA_ASTC_8x5_KHR=37813]="COMPRESSED_RGBA_ASTC_8x5_KHR",$[$.COMPRESSED_RGBA_ASTC_8x6_KHR=37814]="COMPRESSED_RGBA_ASTC_8x6_KHR",$[$.COMPRESSED_RGBA_ASTC_8x8_KHR=37815]="COMPRESSED_RGBA_ASTC_8x8_KHR",$[$.COMPRESSED_RGBA_ASTC_10x5_KHR=37816]="COMPRESSED_RGBA_ASTC_10x5_KHR",$[$.COMPRESSED_RGBA_ASTC_10x6_KHR=37817]="COMPRESSED_RGBA_ASTC_10x6_KHR",$[$.COMPRESSED_RGBA_ASTC_10x8_KHR=37818]="COMPRESSED_RGBA_ASTC_10x8_KHR",$[$.COMPRESSED_RGBA_ASTC_10x10_KHR=37819]="COMPRESSED_RGBA_ASTC_10x10_KHR",$[$.COMPRESSED_RGBA_ASTC_12x10_KHR=37820]="COMPRESSED_RGBA_ASTC_12x10_KHR",$[$.COMPRESSED_RGBA_ASTC_12x12_KHR=37821]="COMPRESSED_RGBA_ASTC_12x12_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR=37840]="COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR=37841]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR=37842]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR=37843]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR=37844]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR=37845]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR=37846]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR=37847]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR=37848]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR=37849]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR=37850]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR=37851]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR=37852]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR=37853]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR",$[$.QUERY_COUNTER_BITS_EXT=34916]="QUERY_COUNTER_BITS_EXT",$[$.CURRENT_QUERY_EXT=34917]="CURRENT_QUERY_EXT",$[$.QUERY_RESULT_EXT=34918]="QUERY_RESULT_EXT",$[$.QUERY_RESULT_AVAILABLE_EXT=34919]="QUERY_RESULT_AVAILABLE_EXT",$[$.TIME_ELAPSED_EXT=35007]="TIME_ELAPSED_EXT",$[$.TIMESTAMP_EXT=36392]="TIMESTAMP_EXT",$[$.GPU_DISJOINT_EXT=36795]="GPU_DISJOINT_EXT",$[$.COMPLETION_STATUS_KHR=37297]="COMPLETION_STATUS_KHR",$[$.DEPTH_CLAMP_EXT=34383]="DEPTH_CLAMP_EXT",$[$.FIRST_VERTEX_CONVENTION_WEBGL=36429]="FIRST_VERTEX_CONVENTION_WEBGL",$[$.LAST_VERTEX_CONVENTION_WEBGL=36430]="LAST_VERTEX_CONVENTION_WEBGL",$[$.PROVOKING_VERTEX_WEBL=36431]="PROVOKING_VERTEX_WEBL",$[$.POLYGON_MODE_WEBGL=2880]="POLYGON_MODE_WEBGL",$[$.POLYGON_OFFSET_LINE_WEBGL=10754]="POLYGON_OFFSET_LINE_WEBGL",$[$.LINE_WEBGL=6913]="LINE_WEBGL",$[$.FILL_WEBGL=6914]="FILL_WEBGL",$[$.MAX_CLIP_DISTANCES_WEBGL=3378]="MAX_CLIP_DISTANCES_WEBGL",$[$.MAX_CULL_DISTANCES_WEBGL=33529]="MAX_CULL_DISTANCES_WEBGL",$[$.MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL=33530]="MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL",$[$.CLIP_DISTANCE0_WEBGL=12288]="CLIP_DISTANCE0_WEBGL",$[$.CLIP_DISTANCE1_WEBGL=12289]="CLIP_DISTANCE1_WEBGL",$[$.CLIP_DISTANCE2_WEBGL=12290]="CLIP_DISTANCE2_WEBGL",$[$.CLIP_DISTANCE3_WEBGL=12291]="CLIP_DISTANCE3_WEBGL",$[$.CLIP_DISTANCE4_WEBGL=12292]="CLIP_DISTANCE4_WEBGL",$[$.CLIP_DISTANCE5_WEBGL=12293]="CLIP_DISTANCE5_WEBGL",$[$.CLIP_DISTANCE6_WEBGL=12294]="CLIP_DISTANCE6_WEBGL",$[$.CLIP_DISTANCE7_WEBGL=12295]="CLIP_DISTANCE7_WEBGL",$[$.POLYGON_OFFSET_CLAMP_EXT=36379]="POLYGON_OFFSET_CLAMP_EXT",$[$.LOWER_LEFT_EXT=36001]="LOWER_LEFT_EXT",$[$.UPPER_LEFT_EXT=36002]="UPPER_LEFT_EXT",$[$.NEGATIVE_ONE_TO_ONE_EXT=37726]="NEGATIVE_ONE_TO_ONE_EXT",$[$.ZERO_TO_ONE_EXT=37727]="ZERO_TO_ONE_EXT",$[$.CLIP_ORIGIN_EXT=37724]="CLIP_ORIGIN_EXT",$[$.CLIP_DEPTH_MODE_EXT=37725]="CLIP_DEPTH_MODE_EXT",$[$.SRC1_COLOR_WEBGL=35065]="SRC1_COLOR_WEBGL",$[$.SRC1_ALPHA_WEBGL=34185]="SRC1_ALPHA_WEBGL",$[$.ONE_MINUS_SRC1_COLOR_WEBGL=35066]="ONE_MINUS_SRC1_COLOR_WEBGL",$[$.ONE_MINUS_SRC1_ALPHA_WEBGL=35067]="ONE_MINUS_SRC1_ALPHA_WEBGL",$[$.MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL=35068]="MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL",$[$.MIRROR_CLAMP_TO_EDGE_EXT=34627]="MIRROR_CLAMP_TO_EDGE_EXT"})(OX||(OX={}))});var _T0=h(()=>{ST0()});function Br($){return Array.isArray($)||ArrayBuffer.isView($)&&!($ instanceof DataView)}function S7($,Q,J){return Q[$]!==void 0?Q[$]:J[$]}var TO,a7=($,Q,J)=>Q?$.enable(J):$.disable(J),fT0=($,Q,J)=>$.hint(J,Q),w3=($,Q,J)=>$.pixelStorei(J,Q),IT0=($,Q,J)=>{let K=J===36006?36009:36008;return $.bindFramebuffer(K,Q)},wO=($,Q,J)=>{let Y={[34964]:34962,[36662]:36662,[36663]:36663,[35053]:35051,[35055]:35052}[J];$.bindBuffer(Y,Q)},MT0,bT0,zr,AK=($,Q)=>$.isEnabled(Q),Ar,gT0;var Vr=h(()=>{TO={[3042]:!1,[32773]:new Float32Array([0,0,0,0]),[32777]:32774,[34877]:32774,[32969]:1,[32968]:0,[32971]:1,[32970]:0,[3106]:new Float32Array([0,0,0,0]),[3107]:[!0,!0,!0,!0],[2884]:!1,[2885]:1029,[2929]:!1,[2931]:1,[2932]:513,[2928]:new Float32Array([0,1]),[2930]:!0,[3024]:!0,[35725]:null,[36006]:null,[36007]:null,[34229]:null,[34964]:null,[2886]:2305,[33170]:4352,[2849]:1,[32823]:!1,[32824]:0,[10752]:0,[32926]:!1,[32928]:!1,[32938]:1,[32939]:!1,[3089]:!1,[3088]:new Int32Array([0,0,1024,1024]),[2960]:!1,[2961]:0,[2968]:4294967295,[36005]:4294967295,[2962]:519,[2967]:0,[2963]:4294967295,[34816]:519,[36003]:0,[36004]:4294967295,[2964]:7680,[2965]:7680,[2966]:7680,[34817]:7680,[34818]:7680,[34819]:7680,[2978]:[0,0,1024,1024],[36389]:null,[36662]:null,[36663]:null,[35053]:null,[35055]:null,[35723]:4352,[36010]:null,[35977]:!1,[3333]:4,[3317]:4,[37440]:!1,[37441]:!1,[37443]:37444,[3330]:0,[3332]:0,[3331]:0,[3314]:0,[32878]:0,[3316]:0,[3315]:0,[32877]:0};MT0={[3042]:a7,[32773]:($,Q)=>$.blendColor(...Q),[32777]:"blendEquation",[34877]:"blendEquation",[32969]:"blendFunc",[32968]:"blendFunc",[32971]:"blendFunc",[32970]:"blendFunc",[3106]:($,Q)=>$.clearColor(...Q),[3107]:($,Q)=>$.colorMask(...Q),[2884]:a7,[2885]:($,Q)=>$.cullFace(Q),[2929]:a7,[2931]:($,Q)=>$.clearDepth(Q),[2932]:($,Q)=>$.depthFunc(Q),[2928]:($,Q)=>$.depthRange(...Q),[2930]:($,Q)=>$.depthMask(Q),[3024]:a7,[35723]:fT0,[35725]:($,Q)=>$.useProgram(Q),[36007]:($,Q)=>$.bindRenderbuffer(36161,Q),[36389]:($,Q)=>$.bindTransformFeedback?.(36386,Q),[34229]:($,Q)=>$.bindVertexArray(Q),[36006]:IT0,[36010]:IT0,[34964]:wO,[36662]:wO,[36663]:wO,[35053]:wO,[35055]:wO,[2886]:($,Q)=>$.frontFace(Q),[33170]:fT0,[2849]:($,Q)=>$.lineWidth(Q),[32823]:a7,[32824]:"polygonOffset",[10752]:"polygonOffset",[35977]:a7,[32926]:a7,[32928]:a7,[32938]:"sampleCoverage",[32939]:"sampleCoverage",[3089]:a7,[3088]:($,Q)=>$.scissor(...Q),[2960]:a7,[2961]:($,Q)=>$.clearStencil(Q),[2968]:($,Q)=>$.stencilMaskSeparate(1028,Q),[36005]:($,Q)=>$.stencilMaskSeparate(1029,Q),[2962]:"stencilFuncFront",[2967]:"stencilFuncFront",[2963]:"stencilFuncFront",[34816]:"stencilFuncBack",[36003]:"stencilFuncBack",[36004]:"stencilFuncBack",[2964]:"stencilOpFront",[2965]:"stencilOpFront",[2966]:"stencilOpFront",[34817]:"stencilOpBack",[34818]:"stencilOpBack",[34819]:"stencilOpBack",[2978]:($,Q)=>$.viewport(...Q),[34383]:a7,[10754]:a7,[12288]:a7,[12289]:a7,[12290]:a7,[12291]:a7,[12292]:a7,[12293]:a7,[12294]:a7,[12295]:a7,[3333]:w3,[3317]:w3,[37440]:w3,[37441]:w3,[37443]:w3,[3330]:w3,[3332]:w3,[3331]:w3,[3314]:w3,[32878]:w3,[3316]:w3,[3315]:w3,[32877]:w3,framebuffer:($,Q)=>{let J=Q&&"handle"in Q?Q.handle:Q;return $.bindFramebuffer(36160,J)},blend:($,Q)=>Q?$.enable(3042):$.disable(3042),blendColor:($,Q)=>$.blendColor(...Q),blendEquation:($,Q)=>{let J=typeof Q==="number"?[Q,Q]:Q;$.blendEquationSeparate(...J)},blendFunc:($,Q)=>{let J=Q?.length===2?[...Q,...Q]:Q;$.blendFuncSeparate(...J)},clearColor:($,Q)=>$.clearColor(...Q),clearDepth:($,Q)=>$.clearDepth(Q),clearStencil:($,Q)=>$.clearStencil(Q),colorMask:($,Q)=>$.colorMask(...Q),cull:($,Q)=>Q?$.enable(2884):$.disable(2884),cullFace:($,Q)=>$.cullFace(Q),depthTest:($,Q)=>Q?$.enable(2929):$.disable(2929),depthFunc:($,Q)=>$.depthFunc(Q),depthMask:($,Q)=>$.depthMask(Q),depthRange:($,Q)=>$.depthRange(...Q),dither:($,Q)=>Q?$.enable(3024):$.disable(3024),derivativeHint:($,Q)=>{$.hint(35723,Q)},frontFace:($,Q)=>$.frontFace(Q),mipmapHint:($,Q)=>$.hint(33170,Q),lineWidth:($,Q)=>$.lineWidth(Q),polygonOffsetFill:($,Q)=>Q?$.enable(32823):$.disable(32823),polygonOffset:($,Q)=>$.polygonOffset(...Q),sampleCoverage:($,Q)=>$.sampleCoverage(Q[0],Q[1]||!1),scissorTest:($,Q)=>Q?$.enable(3089):$.disable(3089),scissor:($,Q)=>$.scissor(...Q),stencilTest:($,Q)=>Q?$.enable(2960):$.disable(2960),stencilMask:($,Q)=>{Q=Br(Q)?Q:[Q,Q];let[J,K]=Q;$.stencilMaskSeparate(1028,J),$.stencilMaskSeparate(1029,K)},stencilFunc:($,Q)=>{Q=Br(Q)&&Q.length===3?[...Q,...Q]:Q;let[J,K,Y,Z,q,X]=Q;$.stencilFuncSeparate(1028,J,K,Y),$.stencilFuncSeparate(1029,Z,q,X)},stencilOp:($,Q)=>{Q=Br(Q)&&Q.length===3?[...Q,...Q]:Q;let[J,K,Y,Z,q,X]=Q;$.stencilOpSeparate(1028,J,K,Y),$.stencilOpSeparate(1029,Z,q,X)},viewport:($,Q)=>$.viewport(...Q)};bT0={blendEquation:($,Q,J)=>$.blendEquationSeparate(S7(32777,Q,J),S7(34877,Q,J)),blendFunc:($,Q,J)=>$.blendFuncSeparate(S7(32969,Q,J),S7(32968,Q,J),S7(32971,Q,J),S7(32970,Q,J)),polygonOffset:($,Q,J)=>$.polygonOffset(S7(32824,Q,J),S7(10752,Q,J)),sampleCoverage:($,Q,J)=>$.sampleCoverage(S7(32938,Q,J),S7(32939,Q,J)),stencilFuncFront:($,Q,J)=>$.stencilFuncSeparate(1028,S7(2962,Q,J),S7(2967,Q,J),S7(2963,Q,J)),stencilFuncBack:($,Q,J)=>$.stencilFuncSeparate(1029,S7(34816,Q,J),S7(36003,Q,J),S7(36004,Q,J)),stencilOpFront:($,Q,J)=>$.stencilOpSeparate(1028,S7(2964,Q,J),S7(2965,Q,J),S7(2966,Q,J)),stencilOpBack:($,Q,J)=>$.stencilOpSeparate(1029,S7(34817,Q,J),S7(34818,Q,J),S7(34819,Q,J))},zr={enable:($,Q)=>$({[Q]:!0}),disable:($,Q)=>$({[Q]:!1}),pixelStorei:($,Q,J)=>$({[Q]:J}),hint:($,Q,J)=>$({[Q]:J}),useProgram:($,Q)=>$({[35725]:Q}),bindRenderbuffer:($,Q,J)=>$({[36007]:J}),bindTransformFeedback:($,Q,J)=>$({[36389]:J}),bindVertexArray:($,Q)=>$({[34229]:Q}),bindFramebuffer:($,Q,J)=>{switch(Q){case 36160:return $({[36006]:J,[36010]:J});case 36009:return $({[36006]:J});case 36008:return $({[36010]:J});default:return null}},bindBuffer:($,Q,J)=>{let K={[34962]:[34964],[36662]:[36662],[36663]:[36663],[35051]:[35053],[35052]:[35055]}[Q];if(K)return $({[K]:J});return{valueChanged:!0}},blendColor:($,Q,J,K,Y)=>$({[32773]:new Float32Array([Q,J,K,Y])}),blendEquation:($,Q)=>$({[32777]:Q,[34877]:Q}),blendEquationSeparate:($,Q,J)=>$({[32777]:Q,[34877]:J}),blendFunc:($,Q,J)=>$({[32969]:Q,[32968]:J,[32971]:Q,[32970]:J}),blendFuncSeparate:($,Q,J,K,Y)=>$({[32969]:Q,[32968]:J,[32971]:K,[32970]:Y}),clearColor:($,Q,J,K,Y)=>$({[3106]:new Float32Array([Q,J,K,Y])}),clearDepth:($,Q)=>$({[2931]:Q}),clearStencil:($,Q)=>$({[2961]:Q}),colorMask:($,Q,J,K,Y)=>$({[3107]:[Q,J,K,Y]}),cullFace:($,Q)=>$({[2885]:Q}),depthFunc:($,Q)=>$({[2932]:Q}),depthRange:($,Q,J)=>$({[2928]:new Float32Array([Q,J])}),depthMask:($,Q)=>$({[2930]:Q}),frontFace:($,Q)=>$({[2886]:Q}),lineWidth:($,Q)=>$({[2849]:Q}),polygonOffset:($,Q,J)=>$({[32824]:Q,[10752]:J}),sampleCoverage:($,Q,J)=>$({[32938]:Q,[32939]:J}),scissor:($,Q,J,K,Y)=>$({[3088]:new Int32Array([Q,J,K,Y])}),stencilMask:($,Q)=>$({[2968]:Q,[36005]:Q}),stencilMaskSeparate:($,Q,J)=>$({[Q===1028?2968:36005]:J}),stencilFunc:($,Q,J,K)=>$({[2962]:Q,[2967]:J,[2963]:K,[34816]:Q,[36003]:J,[36004]:K}),stencilFuncSeparate:($,Q,J,K,Y)=>$({[Q===1028?2962:34816]:J,[Q===1028?2967:36003]:K,[Q===1028?2963:36004]:Y}),stencilOp:($,Q,J,K)=>$({[2964]:Q,[2965]:J,[2966]:K,[34817]:Q,[34818]:J,[34819]:K}),stencilOpSeparate:($,Q,J,K,Y)=>$({[Q===1028?2964:34817]:J,[Q===1028?2965:34818]:K,[Q===1028?2966:34819]:Y}),viewport:($,Q,J,K,Y)=>$({[2978]:[Q,J,K,Y]})},Ar={[3042]:AK,[2884]:AK,[2929]:AK,[3024]:AK,[32823]:AK,[32926]:AK,[32928]:AK,[3089]:AK,[2960]:AK,[35977]:AK},gT0=new Set([34016,36388,36387,35983,35368,34965,35739,35738,3074,34853,34854,34855,34856,34857,34858,34859,34860,34861,34862,34863,34864,34865,34866,34867,34868,35097,32873,35869,32874,34068])});function cQ($,Q){if(IH1(Q))return;let J={};for(let Y in Q){let Z=Number(Y),q=MT0[Y];if(q)if(typeof q==="string")J[q]=!0;else q($,Q[Y],Z)}let K=$.state&&$.state.cache;if(K)for(let Y in J){let Z=bT0[Y];Z($,Q,K)}}function RL($,Q=TO){if(typeof Q==="number"){let Y=Q,Z=Ar[Y];return Z?Z($,Y):$.getParameter(Y)}let J=Array.isArray(Q)?Q:Object.keys(Q),K={};for(let Y of J){let Z=Ar[Y];K[Y]=Z?Z($,Number(Y)):$.getParameter(Number(Y))}return K}function yT0($){cQ($,TO)}function IH1($){for(let Q in $)return!1;return!0}var IB=h(()=>{Vr()});function xT0($,Q){if($===Q)return!0;let J=Array.isArray($)||ArrayBuffer.isView($),K=Array.isArray(Q)||ArrayBuffer.isView(Q);if(J&&K&&$.length===Q.length){for(let Y=0;Y<$.length;++Y)if($[Y]!==Q[Y])return!1;return!0}return!1}class VK{static get($){return $.state}gl;program=null;stateStack=[];enable=!0;cache=null;log;initialized=!1;constructor($,Q){this.gl=$,this.log=Q?.log||(()=>{}),this._updateCache=this._updateCache.bind(this),Object.seal(this)}push($={}){this.stateStack.push({})}pop(){let $=this.stateStack[this.stateStack.length-1];cQ(this.gl,$),this.stateStack.pop()}trackState($,Q){if(this.cache=Q.copyState?RL($):Object.assign({},TO),this.initialized)throw Error("WebGLStateTracker");this.initialized=!0,this.gl.state=this,bH1($);for(let J in zr){let K=zr[J];MH1($,J,K)}cT0($,"getParameter"),cT0($,"isEnabled")}_updateCache($){let Q=!1,J,K=this.stateStack.length>0?this.stateStack[this.stateStack.length-1]:null;for(let Y in $){let Z=$[Y],q=this.cache[Y];if(!xT0(Z,q)){if(Q=!0,J=q,K&&!(Y in K))K[Y]=q;this.cache[Y]=Z}}return{valueChanged:Q,oldValue:J}}}function cT0($,Q){let J=$[Q].bind($);$[Q]=function(Y){if(Y===void 0||gT0.has(Y))return J(Y);let Z=VK.get($);if(!(Y in Z.cache))Z.cache[Y]=J(Y);return Z.enable?Z.cache[Y]:J(Y)},Object.defineProperty($[Q],"name",{value:`${Q}-from-cache`,configurable:!1})}function MH1($,Q,J){if(!$[Q])return;let K=$[Q].bind($);$[Q]=function(...Z){let q=VK.get($),{valueChanged:X,oldValue:W}=J(q._updateCache,...Z);if(X)K(...Z);return W},Object.defineProperty($[Q],"name",{value:`${Q}-to-cache`,configurable:!1})}function bH1($){let Q=$.useProgram.bind($);$.useProgram=function(K){let Y=VK.get($);if(Y.program!==K)Q(K),Y.program=K}}var Rr=h(()=>{IB();Vr()});function uT0($,Q,J){let K="",Y={preserveDrawingBuffer:!0,...J},Z=null;if(Z||=$.getContext("webgl2",Y),Y.failIfMajorPerformanceCaveat)K||="Only software GPU is available. Set `failIfMajorPerformanceCaveat: false` to allow.";if(!Z&&!J.failIfMajorPerformanceCaveat)Y.failIfMajorPerformanceCaveat=!1,Z=$.getContext("webgl2",Y),Z.luma||={},Z.luma.softwareRenderer=!0;if(!Z){if(Z=$.getContext("webgl",{}),Z)Z=null,K||="Your browser only supports WebGL1"}if(!Z)throw K||="Your browser does not support WebGL",Error(`Failed to create WebGL context: ${K}`);let{onContextLost:q,onContextRestored:X}=Q;return $.addEventListener("webglcontextlost",(W)=>q(W),!1),$.addEventListener("webglcontextrestored",(W)=>X(W),!1),Z.luma||={},Z}function RK($,Q,J){if(J[Q]===void 0)J[Q]=$.getExtension(Q)||null;return J[Q]}function mT0($,Q){let J=$.getParameter(7936),K=$.getParameter(7937);RK($,"WEBGL_debug_renderer_info",Q);let Y=Q.WEBGL_debug_renderer_info,Z=$.getParameter(Y?Y.UNMASKED_VENDOR_WEBGL:7936),q=$.getParameter(Y?Y.UNMASKED_RENDERER_WEBGL:7937),X=Z||J,W=q||K,F=$.getParameter(7938),H=pT0(X,W),B=gH1(X,W),z=yH1(X,W);return{type:"webgl",gpu:H,gpuType:z,gpuBackend:B,vendor:X,renderer:W,version:F,shadingLanguage:"glsl",shadingLanguageVersion:300}}function pT0($,Q){if(/NVIDIA/i.exec($)||/NVIDIA/i.exec(Q))return"nvidia";if(/INTEL/i.exec($)||/INTEL/i.exec(Q))return"intel";if(/Apple/i.exec($)||/Apple/i.exec(Q))return"apple";if(/AMD/i.exec($)||/AMD/i.exec(Q)||/ATI/i.exec($)||/ATI/i.exec(Q))return"amd";if(/SwiftShader/i.exec($)||/SwiftShader/i.exec(Q))return"software";return"unknown"}function gH1($,Q){if(/Metal/i.exec($)||/Metal/i.exec(Q))return"metal";if(/ANGLE/i.exec($)||/ANGLE/i.exec(Q))return"opengl";return"unknown"}function yH1($,Q){if(/SwiftShader/i.exec($)||/SwiftShader/i.exec(Q))return"cpu";switch(pT0($,Q)){case"intel":return"integrated";case"software":return"cpu";case"unknown":return"unknown";default:return"discrete"}}var dT0=()=>{};function GL($){switch($){case"uint8":return 5121;case"sint8":return 5120;case"unorm8":return 5121;case"snorm8":return 5120;case"uint16":return 5123;case"sint16":return 5122;case"unorm16":return 5123;case"snorm16":return 5122;case"uint32":return 5125;case"sint32":return 5124;case"float16":return 5131;case"float32":return 5126}throw Error(String($))}var Gr=()=>{};function rT0($){return $ in OL}function iT0($,Q,J){return(OL[Q]||[]).every((Y)=>RK($,Y,J))}function sT0($,Q,J){let K=Q.create,Y=Or[Q.format];if(Y?.gl===void 0)K=!1;if(Y?.x)K=K&&Boolean(RK($,Y.x,J));return{format:Q.format,create:K&&Q.create,render:K&&Q.render,filter:K&&Q.filter,blend:K&&Q.blend,store:K&&Q.store}}function wL($){let Q=Or[$],J=lH1($),K=YB($);return{internalFormat:J,format:Q?.dataFormat||nH1(K.channels,K.integer,K.normalized,J),type:K.dataType?GL(K.dataType):Q?.types?.[0]||5121,compressed:K.compressed||!1}}function oT0($){switch(YB($).attachment){case"depth":return 36096;case"stencil":return 36128;case"depth-stencil":return 33306;default:throw Error(`Not a depth stencil format: ${$}`)}}function nH1($,Q,J,K){if(K===6408||K===6407)return K;switch($){case"r":return Q&&!J?36244:6403;case"rg":return Q&&!J?33320:33319;case"rgb":return Q&&!J?36248:6407;case"rgba":return Q&&!J?36249:6408;case"bgra":throw Error("bgra pixels not supported by WebGL");default:return 6408}}function lH1($){let J=Or[$]?.gl;if(J===void 0)throw Error(`Unsupported texture format ${$}`);return J}var DO="WEBGL_compressed_texture_s3tc",CO="WEBGL_compressed_texture_s3tc_srgb",MB="EXT_texture_compression_rgtc",bB="EXT_texture_compression_bptc",xH1="WEBGL_compressed_texture_etc",cH1="WEBGL_compressed_texture_astc",uH1="WEBGL_compressed_texture_etc1",mH1="WEBGL_compressed_texture_pvrtc",pH1="WEBGL_compressed_texture_atc",nT0="EXT_texture_norm16",lT0="EXT_render_snorm",dH1="EXT_color_buffer_float",OL,Or;var gB=h(()=>{v5();Gr();OL={"float32-renderable-webgl":["EXT_color_buffer_float"],"float16-renderable-webgl":["EXT_color_buffer_half_float"],"rgb9e5ufloat-renderable-webgl":["WEBGL_render_shared_exponent"],"snorm8-renderable-webgl":[lT0],"norm16-renderable-webgl":[nT0],"snorm16-renderable-webgl":[nT0,lT0],"float32-filterable":["OES_texture_float_linear"],"float16-filterable-webgl":["OES_texture_half_float_linear"],"texture-filterable-anisotropic-webgl":["EXT_texture_filter_anisotropic"],"texture-blend-float-webgl":["EXT_float_blend"],"texture-compression-bc":[DO,CO,MB,bB],"texture-compression-bc5-webgl":[MB],"texture-compression-bc7-webgl":[bB],"texture-compression-etc2":[xH1],"texture-compression-astc":[cH1],"texture-compression-etc1-webgl":[uH1],"texture-compression-pvrtc-webgl":[mH1],"texture-compression-atc-webgl":[pH1]};Or={r8unorm:{gl:33321,rb:!0},r8snorm:{gl:36756},r8uint:{gl:33330,rb:!0},r8sint:{gl:33329,rb:!0},rg8unorm:{gl:33323,rb:!0},rg8snorm:{gl:36757},rg8uint:{gl:33336,rb:!0},rg8sint:{gl:33335,rb:!0},r16uint:{gl:33332,rb:!0},r16sint:{gl:33331,rb:!0},r16float:{gl:33325,rb:!0},"r16unorm-webgl":{gl:33322,rb:!0},"r16snorm-webgl":{gl:36760},"rgba4unorm-webgl":{gl:32854,rb:!0},"rgb565unorm-webgl":{gl:36194,rb:!0},"rgb5a1unorm-webgl":{gl:32855,rb:!0},"rgb8unorm-webgl":{gl:32849},"rgb8snorm-webgl":{gl:36758},rgba8unorm:{gl:32856},"rgba8unorm-srgb":{gl:35907},rgba8snorm:{gl:36759},rgba8uint:{gl:36220},rgba8sint:{gl:36238},bgra8unorm:{},"bgra8unorm-srgb":{},rg16uint:{gl:33338},rg16sint:{gl:33337},rg16float:{gl:33327,rb:!0},"rg16unorm-webgl":{gl:33324},"rg16snorm-webgl":{gl:36761},r32uint:{gl:33334,rb:!0},r32sint:{gl:33333,rb:!0},r32float:{gl:33326},rgb9e5ufloat:{gl:35901},rg11b10ufloat:{gl:35898,rb:!0},rgb10a2unorm:{gl:32857,rb:!0},"rgb10a2uint-webgl":{gl:36975,rb:!0},"rgb16unorm-webgl":{gl:32852},"rgb16snorm-webgl":{gl:36762},rg32uint:{gl:33340,rb:!0},rg32sint:{gl:33339,rb:!0},rg32float:{gl:33328,rb:!0},rgba16uint:{gl:36214,rb:!0},rgba16sint:{gl:36232,rb:!0},rgba16float:{gl:34842},"rgba16unorm-webgl":{gl:32859,rb:!0},"rgba16snorm-webgl":{gl:36763},"rgb32float-webgl":{gl:34837,x:dH1,dataFormat:6407,types:[5126]},rgba32uint:{gl:36208,rb:!0},rgba32sint:{gl:36226,rb:!0},rgba32float:{gl:34836,rb:!0},stencil8:{gl:36168,rb:!0},depth16unorm:{gl:33189,dataFormat:6402,types:[5123],rb:!0},depth24plus:{gl:33190,dataFormat:6402,types:[5125]},depth32float:{gl:36012,dataFormat:6402,types:[5126],rb:!0},"depth24plus-stencil8":{gl:35056,rb:!0,depthTexture:!0,dataFormat:34041,types:[34042]},"depth32float-stencil8":{gl:36013,dataFormat:34041,types:[36269],rb:!0},"bc1-rgb-unorm-webgl":{gl:33776,x:DO},"bc1-rgb-unorm-srgb-webgl":{gl:35916,x:CO},"bc1-rgba-unorm":{gl:33777,x:DO},"bc1-rgba-unorm-srgb":{gl:35916,x:CO},"bc2-rgba-unorm":{gl:33778,x:DO},"bc2-rgba-unorm-srgb":{gl:35918,x:CO},"bc3-rgba-unorm":{gl:33779,x:DO},"bc3-rgba-unorm-srgb":{gl:35919,x:CO},"bc4-r-unorm":{gl:36283,x:MB},"bc4-r-snorm":{gl:36284,x:MB},"bc5-rg-unorm":{gl:36285,x:MB},"bc5-rg-snorm":{gl:36286,x:MB},"bc6h-rgb-ufloat":{gl:36495,x:bB},"bc6h-rgb-float":{gl:36494,x:bB},"bc7-rgba-unorm":{gl:36492,x:bB},"bc7-rgba-unorm-srgb":{gl:36493,x:bB},"etc2-rgb8unorm":{gl:37492},"etc2-rgb8unorm-srgb":{gl:37494},"etc2-rgb8a1unorm":{gl:37496},"etc2-rgb8a1unorm-srgb":{gl:37497},"etc2-rgba8unorm":{gl:37493},"etc2-rgba8unorm-srgb":{gl:37495},"eac-r11unorm":{gl:37488},"eac-r11snorm":{gl:37489},"eac-rg11unorm":{gl:37490},"eac-rg11snorm":{gl:37491},"astc-4x4-unorm":{gl:37808},"astc-4x4-unorm-srgb":{gl:37840},"astc-5x4-unorm":{gl:37809},"astc-5x4-unorm-srgb":{gl:37841},"astc-5x5-unorm":{gl:37810},"astc-5x5-unorm-srgb":{gl:37842},"astc-6x5-unorm":{gl:37811},"astc-6x5-unorm-srgb":{gl:37843},"astc-6x6-unorm":{gl:37812},"astc-6x6-unorm-srgb":{gl:37844},"astc-8x5-unorm":{gl:37813},"astc-8x5-unorm-srgb":{gl:37845},"astc-8x6-unorm":{gl:37814},"astc-8x6-unorm-srgb":{gl:37846},"astc-8x8-unorm":{gl:37815},"astc-8x8-unorm-srgb":{gl:37847},"astc-10x5-unorm":{gl:37819},"astc-10x5-unorm-srgb":{gl:37851},"astc-10x6-unorm":{gl:37817},"astc-10x6-unorm-srgb":{gl:37849},"astc-10x8-unorm":{gl:37818},"astc-10x8-unorm-srgb":{gl:37850},"astc-10x10-unorm":{gl:37819},"astc-10x10-unorm-srgb":{gl:37851},"astc-12x10-unorm":{gl:37820},"astc-12x10-unorm-srgb":{gl:37852},"astc-12x12-unorm":{gl:37821},"astc-12x12-unorm-srgb":{gl:37853},"pvrtc-rgb4unorm-webgl":{gl:35840},"pvrtc-rgba4unorm-webgl":{gl:35842},"pvrtc-rbg2unorm-webgl":{gl:35841},"pvrtc-rgba2unorm-webgl":{gl:35843},"etc1-rbg-unorm-webgl":{gl:36196},"atc-rgb-unorm-webgl":{gl:35986},"atc-rgba-unorm-webgl":{gl:35986},"atc-rgbai-unorm-webgl":{gl:34798}}});var aT0,wr;var tT0=h(()=>{v5();gB();aT0={"depth-clip-control":"EXT_depth_clamp","timer-query-webgl":"EXT_disjoint_timer_query_webgl2","compilation-status-async-webgl":"KHR_parallel_shader_compile","polygon-mode-webgl":"WEBGL_polygon_mode","provoking-vertex-webgl":"WEBGL_provoking_vertex","shader-clip-cull-distance-webgl":"WEBGL_clip_cull_distance","shader-noperspective-interpolation-webgl":"NV_shader_noperspective_interpolation","shader-conservative-depth-webgl":"EXT_conservative_depth"};wr=class wr extends tj{gl;extensions;testedFeatures=new Set;constructor($,Q,J){super([],J);this.gl=$,this.extensions=Q,RK($,"EXT_color_buffer_float",Q)}*[Symbol.iterator](){let $=this.getFeatures();for(let Q of $)if(this.has(Q))yield Q;return[]}has($){if(this.disabledFeatures?.[$])return!1;if(!this.testedFeatures.has($)){if(this.testedFeatures.add($),rT0($)&&iT0(this.gl,$,this.extensions))this.features.add($);if(this.getWebGLFeature($))this.features.add($)}return this.features.has($)}initializeFeatures(){let $=this.getFeatures().filter((Q)=>Q!=="polygon-mode-webgl");for(let Q of $)this.has(Q)}getFeatures(){return[...Object.keys(aT0),...Object.keys(OL)]}getWebGLFeature($){let Q=aT0[$];return typeof Q==="string"?Boolean(RK(this.gl,Q,this.extensions)):Boolean(Q)}}});var Tr;var eT0=h(()=>{v5();Tr=class Tr extends aj{get maxTextureDimension1D(){return 0}get maxTextureDimension2D(){return this.getParameter(3379)}get maxTextureDimension3D(){return this.getParameter(32883)}get maxTextureArrayLayers(){return this.getParameter(35071)}get maxBindGroups(){return 0}get maxDynamicUniformBuffersPerPipelineLayout(){return 0}get maxDynamicStorageBuffersPerPipelineLayout(){return 0}get maxSampledTexturesPerShaderStage(){return this.getParameter(35660)}get maxSamplersPerShaderStage(){return this.getParameter(35661)}get maxStorageBuffersPerShaderStage(){return 0}get maxStorageTexturesPerShaderStage(){return 0}get maxUniformBuffersPerShaderStage(){return this.getParameter(35375)}get maxUniformBufferBindingSize(){return this.getParameter(35376)}get maxStorageBufferBindingSize(){return 0}get minUniformBufferOffsetAlignment(){return this.getParameter(35380)}get minStorageBufferOffsetAlignment(){return 0}get maxVertexBuffers(){return 16}get maxVertexAttributes(){return this.getParameter(34921)}get maxVertexBufferArrayStride(){return 2048}get maxInterStageShaderComponents(){return this.getParameter(35659)}get maxComputeWorkgroupStorageSize(){return 0}get maxComputeInvocationsPerWorkgroup(){return 0}get maxComputeWorkgroupSizeX(){return 0}get maxComputeWorkgroupSizeY(){return 0}get maxComputeWorkgroupSizeZ(){return 0}get maxComputeWorkgroupsPerDimension(){return 0}gl;limits={};constructor($){super();this.gl=$}getParameter($){if(this.limits[$]===void 0)this.limits[$]=this.gl.getParameter($);return this.limits[$]||0}}});function rH1($){return $<34069?$+34069:$}function iH1($){switch($){case 36053:return"success";case 36054:return"Mismatched attachments";case 36055:return"No attachments";case 36057:return"Height/width mismatch";case 36061:return"Unsupported or split attachments";case 36182:return"Samples mismatch";default:return`${$}`}}var ZZ;var TL=h(()=>{v5();gB();ZZ=class ZZ extends YF{device;gl;handle;colorAttachments=[];depthStencilAttachment=null;constructor($,Q){super($,Q);let J=Q.handle===null;if(this.device=$,this.gl=$.gl,this.handle=this.props.handle||J?this.props.handle:this.gl.createFramebuffer(),!J)$.setSpectorMetadata(this.handle,{id:this.props.id,props:this.props}),this.autoCreateAttachmentTextures(),this.updateAttachments()}destroy(){if(super.destroy(),!this.destroyed&&this.handle!==null)this.gl.deleteFramebuffer(this.handle)}updateAttachments(){let $=this.gl.bindFramebuffer(36160,this.handle);for(let Q=0;Q<this.colorAttachments.length;++Q){let J=this.colorAttachments[Q];if(J){let K=36064+Q;this._attachTextureView(K,J)}}if(this.depthStencilAttachment){let Q=oT0(this.depthStencilAttachment.props.format);this._attachTextureView(Q,this.depthStencilAttachment)}if(this.device.props.debug){let Q=this.gl.checkFramebufferStatus(36160);if(Q!==36053)throw Error(`Framebuffer ${iH1(Q)}`)}this.gl.bindFramebuffer(36160,$)}_attachTextureView($,Q){let{gl:J}=this.device,{texture:K}=Q,Y=Q.props.baseMipLevel,Z=Q.props.baseArrayLayer;switch(J.bindTexture(K.glTarget,K.handle),K.glTarget){case 35866:case 32879:J.framebufferTextureLayer(36160,$,K.handle,Y,Z);break;case 34067:let q=rH1(Z);J.framebufferTexture2D(36160,$,q,K.handle,Y);break;case 3553:J.framebufferTexture2D(36160,$,3553,K.handle,Y);break;default:throw Error("Illegal texture type")}J.bindTexture(K.glTarget,null)}}});var Dr;var $D0=h(()=>{v5();TL();Dr=class Dr extends MG{device;format="rgba8unorm";depthStencilFormat="depth24plus";presentationSize;_framebuffer=null;get[Symbol.toStringTag](){return"WebGLCanvasContext"}constructor($,Q){super(Q);this.device=$,this.presentationSize=[-1,-1],this._setAutoCreatedCanvasId(`${this.device.id}-canvas`),this.update()}getCurrentFramebuffer(){return this.update(),this._framebuffer=this._framebuffer||new ZZ(this.device,{handle:null}),this._framebuffer}update(){let $=this.getPixelSize();if($[0]!==this.presentationSize[0]||$[1]!==this.presentationSize[1])this.presentationSize=$,this.resize()}resize($){if(!this.device.gl)return;if(this.canvas){let Q=this.getDevicePixelRatio($?.useDevicePixels);this.setDevicePixelRatio(Q,$);return}}commit(){}}});async function DL($,Q){let J=document.getElementsByTagName("head")[0];if(!J)throw Error("loadScript");let K=document.createElement("script");if(K.setAttribute("type","text/javascript"),K.setAttribute("src",$),Q)K.id=Q;return new Promise((Y,Z)=>{K.onload=Y,K.onerror=(q)=>Z(Error(`Unable to load script '${$}': ${q}`)),J.appendChild(K)})}async function JD0($){if(!globalThis.SPECTOR)try{await DL($.debugSpectorJSUrl||CL.debugSpectorJSUrl)}catch(Q){u0.warn(String(Q))}}function KD0($){if($={...CL,...$},!$.debugSpectorJS)return null;if(!T3&&globalThis.SPECTOR&&!globalThis.luma?.spector){u0.probe(sH1,"SPECTOR found and initialized. Start with `luma.spector.displayUI()`")();let{Spector:Q}=globalThis.SPECTOR;if(T3=new Q,globalThis.luma)globalThis.luma.spector=T3}if(!T3)return null;if(!QD0)QD0=!0,T3.spyCanvases(),T3?.onCaptureStarted.add((Q)=>u0.info("Spector capture started:",Q)()),T3?.onCapture.add((Q)=>{u0.info("Spector capture complete:",Q)(),T3?.getResultUI(),T3?.resultView.display(),T3?.resultView.addCapture(Q)});if($.gl){let Q=$.gl,J=Q.device;T3?.startCapture($.gl,500),Q.device=J,new Promise((K)=>setTimeout(K,2000)).then((K)=>{u0.info("Spector capture stopped after 2 seconds")(),T3?.stopCapture()})}return T3}var sH1=1,T3=null,QD0=!1,CL;var Cr=h(()=>{v5();CL={debugSpectorJS:u0.get("debug-spectorjs"),debugSpectorJSUrl:"https://cdn.jsdelivr.net/npm/spectorjs@0.9.30/dist/spector.bundle.js",gl:void 0}});function ZD0($){return $.luma=$.luma||{},$.luma}async function qD0(){if(c4()&&!globalThis.WebGLDebugUtils)globalThis.global=globalThis.global||globalThis,globalThis.global.module={},await DL(oH1)}function XD0($,Q={}){return Q.debugWebGL||Q.traceWebGL?tH1($,Q):aH1($)}function aH1($){let Q=ZD0($);return Q.realContext?Q.realContext:$}function tH1($,Q){if(!globalThis.WebGLDebugUtils)return u0.warn("webgl-debug not loaded")(),$;let J=ZD0($);if(J.debugContext)return J.debugContext;globalThis.WebGLDebugUtils.init({...OX,...$});let K=globalThis.WebGLDebugUtils.makeDebugContext($,eH1.bind(null,Q),$N1.bind(null,Q));for(let q in OX)if(!(q in K)&&typeof OX[q]==="number")K[q]=OX[q];class Y{}Object.setPrototypeOf(K,Object.getPrototypeOf($)),Object.setPrototypeOf(Y,K);let Z=Object.create(Y);return J.realContext=$,J.debugContext=Z,Z.debug=!0,Z}function YD0($,Q){Q=Array.from(Q).map((K)=>K===void 0?"undefined":K);let J=globalThis.WebGLDebugUtils.glFunctionArgsToString($,Q);return J=`${J.slice(0,100)}${J.length>100?"...":""}`,`gl.${$}(${J})`}function eH1($,Q,J,K){K=Array.from(K).map((X)=>X===void 0?"undefined":X);let Y=globalThis.WebGLDebugUtils.glEnumToString(Q),Z=globalThis.WebGLDebugUtils.glFunctionArgsToString(J,K),q=`${Y} in gl.${J}(${Z})`;u0.error(q)();debugger}function $N1($,Q,J){let K="";if(u0.level>=1){if(K=YD0(Q,J),$.traceWebGL)u0.log(1,K)()}for(let Y of J)if(Y===void 0){K=K||YD0(Q,J);debugger}}var oH1="https://unpkg.com/webgl-debug@2.0.1/index.js";var Pr=h(()=>{v5();_T0();KX()});function WD0($="id"){kr[$]=kr[$]||1;let Q=kr[$]++;return`${$}-${Q}`}var kr;var FD0=h(()=>{kr={}});function QN1($){if($&u5.INDEX)return 34963;if($&u5.VERTEX)return 34962;if($&u5.UNIFORM)return 35345;return 34962}function JN1($){if($&u5.INDEX)return 35044;if($&u5.VERTEX)return 35044;if($&u5.UNIFORM)return 35048;return 35044}var GK;var PL=h(()=>{v5();GK=class GK extends u5{device;gl;handle;glTarget;glUsage;glIndexType=5123;byteLength;bytesUsed;constructor($,Q={}){super($,Q);this.device=$,this.gl=this.device.gl;let J=typeof Q==="object"?Q.handle:void 0;if(this.handle=J||this.gl.createBuffer(),$.setSpectorMetadata(this.handle,{...this.props,data:typeof this.props.data}),this.glTarget=QN1(this.props.usage),this.glUsage=JN1(this.props.usage),this.glIndexType=this.props.indexType==="uint32"?5125:5123,Q.data)this._initWithData(Q.data,Q.byteOffset,Q.byteLength);else this._initWithByteLength(Q.byteLength||0)}_initWithData($,Q=0,J=$.byteLength+Q){let K=this.glTarget;this.gl.bindBuffer(K,this.handle),this.gl.bufferData(K,J,this.glUsage),this.gl.bufferSubData(K,Q,$),this.gl.bindBuffer(K,null),this.bytesUsed=J,this.byteLength=J,this._setDebugData($,Q,J),this.trackAllocatedMemory(J)}_initWithByteLength($){let Q=$;if($===0)Q=new Float32Array(0);let J=this.glTarget;return this.gl.bindBuffer(J,this.handle),this.gl.bufferData(J,Q,this.glUsage),this.gl.bindBuffer(J,null),this.bytesUsed=$,this.byteLength=$,this._setDebugData(null,0,$),this.trackAllocatedMemory($),this}destroy(){if(!this.destroyed&&this.handle)this.removeStats(),this.trackDeallocatedMemory(),this.gl.deleteBuffer(this.handle),this.destroyed=!0,this.handle=null}write($,Q=0){this.gl.bindBuffer(36663,this.handle),this.gl.bufferSubData(36663,Q,$),this.gl.bindBuffer(36663,null),this._setDebugData($,Q,$.byteLength)}async readAsync($=0,Q){return this.readSyncWebGL($,Q)}readSyncWebGL($=0,Q){Q=Q??this.byteLength-$;let J=new Uint8Array(Q),K=0;return this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,$,J,K,Q),this.gl.bindBuffer(36662,null),this._setDebugData(J,$,Q),J}}});function HD0($){let Q=$.split(/\r?\n/),J=[];for(let K of Q){if(K.length<=1)continue;let Y=K.split(":");if(Y.length===2){let[B,z]=Y;J.push({message:z.trim(),type:UD0(B),lineNum:0,linePos:0});continue}let[Z,q,X,...W]=Y,F=parseInt(X,10);if(isNaN(F))F=0;let H=parseInt(q,10);if(isNaN(H))H=0;J.push({message:W.join(":").trim(),type:UD0(Z),lineNum:F,linePos:H})}return J}function UD0($){let Q=["warning","error","info"],J=$.toLowerCase();return Q.includes(J)?J:"info"}var jr;var ND0=h(()=>{v5();jr=class jr extends KF{device;handle;constructor($,Q){super($,Q);switch(this.device=$,this.props.stage){case"vertex":this.handle=this.props.handle||this.device.gl.createShader(35633);break;case"fragment":this.handle=this.props.handle||this.device.gl.createShader(35632);break;default:throw Error(this.props.stage)}this._compile(this.source)}destroy(){if(this.handle)this.removeStats(),this.device.gl.deleteShader(this.handle),this.destroyed=!0}get asyncCompilationStatus(){return this._waitForCompilationComplete().then(()=>this.compilationStatus)}async getCompilationInfo(){return await this._waitForCompilationComplete(),this.getCompilationInfoSync()}getCompilationInfoSync(){let $=this.device.gl.getShaderInfoLog(this.handle);return $?HD0($):[]}getTranslatedSource(){return this.device.getExtension("WEBGL_debug_shaders").WEBGL_debug_shaders?.getTranslatedShaderSource(this.handle)||null}async _compile($){$=$.startsWith("#version ")?$:`#version 300 es
${$}`;let{gl:Q}=this.device;if(Q.shaderSource(this.handle,$),Q.compileShader(this.handle),!this.device.props.debug){this.compilationStatus="pending";return}if(!this.device.features.has("compilation-status-async-webgl")){if(this._getCompilationStatus(),this.debugShader(),this.compilationStatus==="error")throw Error(`GLSL compilation errors in ${this.props.stage} shader ${this.props.id}`);return}u0.once(1,"Shader compilation is asynchronous")(),await this._waitForCompilationComplete(),u0.info(2,`Shader ${this.id} - async compilation complete: ${this.compilationStatus}`)(),this._getCompilationStatus(),this.debugShader()}async _waitForCompilationComplete(){let $=async(K)=>await new Promise((Y)=>setTimeout(Y,K)),Q=10;if(!this.device.features.has("compilation-status-async-webgl")){await $(10);return}let{gl:J}=this.device;for(;;){if(J.getShaderParameter(this.handle,37297))return;await $(10)}}_getCompilationStatus(){this.compilationStatus=this.device.gl.getShaderParameter(this.handle,35713)?"success":"error"}}});function zD0($,Q,J,K){if(qN1(Q))return K($);let Y=$;Y.pushState();try{return KN1($,Q),cQ(Y.gl,J),K($)}finally{Y.popState()}}function KN1($,Q){let J=$,{gl:K}=J;if(Q.cullMode)switch(Q.cullMode){case"none":K.disable(2884);break;case"front":K.enable(2884),K.cullFace(1028);break;case"back":K.enable(2884),K.cullFace(1029);break}if(Q.frontFace)K.frontFace(wF("frontFace",Q.frontFace,{ccw:2305,cw:2304}));if(Q.unclippedDepth){if($.features.has("depth-clip-control"))K.enable(34383)}if(Q.depthBias!==void 0)K.enable(32823),K.polygonOffset(Q.depthBias,Q.depthBiasSlopeScale||0);if(Q.provokingVertex){if($.features.has("provoking-vertex-webgl")){let Z=J.getExtension("WEBGL_provoking_vertex").WEBGL_provoking_vertex,q=wF("provokingVertex",Q.provokingVertex,{first:36429,last:36430});Z?.provokingVertexWEBGL(q)}}if(Q.polygonMode||Q.polygonOffsetLine){if($.features.has("polygon-mode-webgl")){if(Q.polygonMode){let Z=J.getExtension("WEBGL_polygon_mode").WEBGL_polygon_mode,q=wF("polygonMode",Q.polygonMode,{fill:6914,line:6913});Z?.polygonModeWEBGL(1028,q),Z?.polygonModeWEBGL(1029,q)}if(Q.polygonOffsetLine)K.enable(10754)}}if($.features.has("shader-clip-cull-distance-webgl")){if(Q.clipDistance0)K.enable(12288);if(Q.clipDistance1)K.enable(12289);if(Q.clipDistance2)K.enable(12290);if(Q.clipDistance3)K.enable(12291);if(Q.clipDistance4)K.enable(12292);if(Q.clipDistance5)K.enable(12293);if(Q.clipDistance6)K.enable(12294);if(Q.clipDistance7)K.enable(12295)}if(Q.depthWriteEnabled!==void 0)K.depthMask(ZN1("depthWriteEnabled",Q.depthWriteEnabled));if(Q.depthCompare)Q.depthCompare!=="always"?K.enable(2929):K.disable(2929),K.depthFunc(jL("depthCompare",Q.depthCompare));if(Q.stencilWriteMask){let Y=Q.stencilWriteMask;K.stencilMaskSeparate(1028,Y),K.stencilMaskSeparate(1029,Y)}if(Q.stencilReadMask)u0.warn("stencilReadMask not supported under WebGL");if(Q.stencilCompare){let Y=Q.stencilReadMask||4294967295,Z=jL("depthCompare",Q.stencilCompare);Q.stencilCompare!=="always"?K.enable(2960):K.disable(2960),K.stencilFuncSeparate(1028,Z,0,Y),K.stencilFuncSeparate(1029,Z,0,Y)}if(Q.stencilPassOperation&&Q.stencilFailOperation&&Q.stencilDepthFailOperation){let Y=Er("stencilPassOperation",Q.stencilPassOperation),Z=Er("stencilFailOperation",Q.stencilFailOperation),q=Er("stencilDepthFailOperation",Q.stencilDepthFailOperation);K.stencilOpSeparate(1028,Z,q,Y),K.stencilOpSeparate(1029,Z,q,Y)}switch(Q.blend){case!0:K.enable(3042);break;case!1:K.disable(3042);break;default:}if(Q.blendColorOperation||Q.blendAlphaOperation){let Y=BD0("blendColorOperation",Q.blendColorOperation||"add"),Z=BD0("blendAlphaOperation",Q.blendAlphaOperation||"add");K.blendEquationSeparate(Y,Z);let q=kL("blendColorSrcFactor",Q.blendColorSrcFactor||"one"),X=kL("blendColorDstFactor",Q.blendColorDstFactor||"zero"),W=kL("blendAlphaSrcFactor",Q.blendAlphaSrcFactor||"one"),F=kL("blendAlphaDstFactor",Q.blendAlphaDstFactor||"zero");K.blendFuncSeparate(q,X,W,F)}}function jL($,Q){return wF($,Q,{never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519})}function Er($,Q){return wF($,Q,{keep:7680,zero:0,replace:7681,invert:5386,"increment-clamp":7682,"decrement-clamp":7683,"increment-wrap":34055,"decrement-wrap":34056})}function BD0($,Q){return wF($,Q,{add:32774,subtract:32778,"reverse-subtract":32779,min:32775,max:32776})}function kL($,Q){return wF($,Q,{one:1,zero:0,"src-color":768,"one-minus-src-color":769,"dst-color":774,"one-minus-dst-color":775,"src-alpha":770,"one-minus-src-alpha":771,"dst-alpha":772,"one-minus-dst-alpha":773,"src-alpha-saturated":776,"constant-color":32769,"one-minus-constant-color":32770,"constant-alpha":32771,"one-minus-constant-alpha":32772})}function YN1($,Q){return`Illegal parameter ${Q} for ${$}`}function wF($,Q,J){if(!(Q in J))throw Error(YN1($,Q));return J[Q]}function ZN1($,Q){return Q}function qN1($){let Q=!0;for(let J in $){Q=!1;break}return Q}var Lr=h(()=>{v5();IB()});function EL($){let Q={};if($.addressModeU)Q[10242]=hr($.addressModeU);if($.addressModeV)Q[10243]=hr($.addressModeV);if($.addressModeW)Q[32882]=hr($.addressModeW);if($.magFilter)Q[10240]=vr($.magFilter);if($.minFilter||$.mipmapFilter)Q[10241]=XN1($.minFilter||"linear",$.mipmapFilter);if($.lodMinClamp!==void 0)Q[33082]=$.lodMinClamp;if($.lodMaxClamp!==void 0)Q[33083]=$.lodMaxClamp;if($.type==="comparison-sampler")Q[34892]=34894;if($.compare)Q[34893]=jL("compare",$.compare);if($.maxAnisotropy)Q[34046]=$.maxAnisotropy;return Q}function hr($){switch($){case"clamp-to-edge":return 33071;case"repeat":return 10497;case"mirror-repeat":return 33648}}function vr($){switch($){case"nearest":return 9728;case"linear":return 9729}}function XN1($,Q="none"){if(!Q)return vr($);switch(Q){case"none":return vr($);case"nearest":return $==="nearest"?9984:9986;case"linear":return $==="nearest"?9985:9987}}var Sr=h(()=>{Lr()});var yB;var _r=h(()=>{v5();Sr();yB=class yB extends XX{device;handle;parameters;constructor($,Q){super($,Q);this.device=$,this.parameters=EL(Q),this.handle=this.handle||this.device.gl.createSampler(),this._setSamplerParameters(this.parameters)}destroy(){if(this.handle)this.device.gl.deleteSampler(this.handle),this.handle=void 0}toString(){return`Sampler(${this.id},${JSON.stringify(this.props)})`}_setSamplerParameters($){for(let[Q,J]of Object.entries($)){let K=Number(Q);switch(K){case 33082:case 33083:this.device.gl.samplerParameterf(this.handle,K,J);break;default:this.device.gl.samplerParameteri(this.handle,K,J);break}}}}});var qZ;var fr=h(()=>{v5();qZ=class qZ extends JF{device;gl;handle;texture;constructor($,Q){super($,{...i5.defaultProps,...Q});this.device=$,this.gl=this.device.gl,this.handle=null,this.texture=Q.texture}}});function AD0($){switch(ArrayBuffer.isView($)?$.constructor:$){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:return 5121;case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw Error(WN1)}}function VD0($,Q){let{clamped:J=!0}=Q||{};switch($){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return J?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw Error("Failed to deduce typed array type from GL constant")}}var WN1="Failed to deduce GL constant from typed array";var RD0=()=>{};function Ir($){switch($){case 6406:case 33326:case 6403:case 36244:return 1;case 33339:case 33340:case 33328:case 33320:case 33319:return 2;case 6407:case 36248:case 34837:return 3;case 6408:case 36249:case 34836:return 4;default:return 0}}function GD0($){switch($){case 5121:return 1;case 33635:case 32819:case 32820:return 2;case 5126:return 4;default:return 0}}var OD0=()=>{};function TF($,Q,J){if(FN1(Q))return J($);let{nocatch:K=!0}=Q,Y=VK.get($);Y.push(),cQ($,Q);let Z;if(K)Z=J($),Y.pop();else try{Z=J($)}finally{Y.pop()}return Z}function FN1($){for(let Q in $)return!1;return!0}var LL=h(()=>{IB();Rr()});function wD0($,Q,J){let{dimension:K,width:Y,height:Z,depth:q=0}=J,{glInternalFormat:X}=J,W=J.glTarget;switch(K){case"2d-array":case"3d":$.texStorage3D(W,Q,X,Y,Z,q);break;default:$.texStorage2D(W,Q,X,Y,Z)}}function Mr($,Q,J,K){let{width:Y,height:Z}=K,{dimension:q,depth:X=0,mipLevel:W=0}=K,{x:F=0,y:H=0,z:B=0}=K,{glFormat:z,glType:A}=K,R=DD0(K.glTarget,q,X),G=K.flipY?{[37440]:!0}:{};TF($,G,()=>{switch(q){case"2d-array":case"3d":$.bindTexture(R,Q),$.texSubImage3D(R,W,F,H,B,Y,Z,X,z,A,J),$.bindTexture(R,null);break;case"2d":case"cube":$.bindTexture(R,Q),$.texSubImage2D(R,W,F,H,Y,Z,z,A,J),$.bindTexture(R,null);break;default:throw Error(q)}})}function br($,Q,J){let{dimension:K,width:Y,height:Z,depth:q=0,mipLevel:X=0,byteOffset:W=0}=J,{x:F=0,y:H=0,z:B=0}=J,{glFormat:z,glType:A,compressed:R}=J,G=DD0(J.glTarget,K,q);switch(K){case"2d-array":case"3d":if(R)$.compressedTexSubImage3D(G,X,F,H,B,Y,Z,q,z,Q,W);else $.texSubImage3D(G,X,F,H,B,Y,Z,q,z,A,Q,W);break;case"2d":case"cube":if(R)$.compressedTexSubImage2D(G,X,F,H,Y,Z,z,Q,W);else $.texSubImage2D(G,X,F,H,Y,Z,z,A,Q,W);break;default:throw Error(K)}}function TD0($){switch($){case"1d":break;case"2d":return 3553;case"3d":return 32879;case"cube":return 34067;case"2d-array":return 35866;case"cube-array":break}throw Error($)}function DD0($,Q,J){return Q==="cube"?34069+J:$}function CD0($,Q){let{sourceX:J=0,sourceY:K=0,sourceAttachment:Y=0}=Q||{},{target:Z=null,sourceWidth:q,sourceHeight:X,sourceDepth:W,sourceFormat:F,sourceType:H}=Q||{},{framebuffer:B,deleteFramebuffer:z}=kD0($),{gl:A,handle:R}=B;q||=B.width,X||=B.height;let G=B.colorAttachments[Y]?.texture;if(!G)throw Error(`Invalid framebuffer attachment ${Y}`);W=G?.depth||1,F||=G?.glFormat||6408,H||=G?.glType||5121,Z=HN1(Z,H,F,q,X,W),H=H||AD0(Z);let O=A.bindFramebuffer(36160,R);if(A.readBuffer(36064+Y),A.readPixels(J,K,q,X,F,H,Z),A.readBuffer(36064),A.bindFramebuffer(36160,O||null),z)B.destroy();return Z}function PD0($,Q){let{target:J,sourceX:K=0,sourceY:Y=0,sourceFormat:Z=6408,targetByteOffset:q=0}=Q||{},{sourceWidth:X,sourceHeight:W,sourceType:F}=Q||{},{framebuffer:H,deleteFramebuffer:B}=kD0($);X=X||H.width,W=W||H.height;let z=H;F=F||5121;let A=J;if(!A){let G=Ir(Z),O=GD0(F),T=q+X*W*G*O;A=z.device.createBuffer({byteLength:T})}let R=$.device.createCommandEncoder();if(R.copyTextureToBuffer({sourceTexture:$,width:X,height:W,origin:[K,Y],destinationBuffer:A,byteOffset:q}),R.destroy(),B)H.destroy();return A}function kD0($){if(!($ instanceof YF))return{framebuffer:UN1($),deleteFramebuffer:!0};return{framebuffer:$,deleteFramebuffer:!1}}function UN1($,Q){let{device:J,width:K,height:Y,id:Z}=$;return J.createFramebuffer({...Q,id:`framebuffer-for-${Z}`,width:K,height:Y,colorAttachments:[$]})}function HN1($,Q,J,K,Y,Z){if($)return $;Q||=5121;let q=VD0(Q,{clamped:!1}),X=Ir(J);return new q(K*Y*X)}var gr=h(()=>{v5();RD0();OD0();LL()});var XZ;var hL=h(()=>{v5();gB();Sr();_r();fr();gr();XZ=class XZ extends i5{device;gl;handle;sampler=void 0;view=void 0;mipmaps;compressed;glTarget;glFormat;glType;glInternalFormat;textureUnit=0;constructor($,Q){super($,Q);let J={...this.props};J.data=Q.data,this.device=$,this.gl=this.device.gl,this.glTarget=TD0(this.props.dimension);let K=wL(this.props.format);this.glInternalFormat=K.internalFormat,this.glFormat=K.format,this.glType=K.type,this.compressed=K.compressed,this.mipmaps=Boolean(this.props.mipmaps),this._initialize(J),Object.seal(this)}_initialize($){this.handle=this.props.handle||this.gl.createTexture(),this.device.setSpectorMetadata(this.handle,{...this.props,data:$.data});let{width:Q,height:J}=$;if(!Q||!J){let K=i5.getTextureDataSize($.data);Q=K?.width||1,J=K?.height||1}if(this.width=Q,this.height=J,this.depth=$.depth,this.setSampler($.sampler),this.view=new qZ(this.device,{...this.props,texture:this}),this.bind(),wD0(this.gl,this.mipLevels,this),$.data)switch($.dimension){case"1d":this.setTexture1DData($.data);break;case"2d":this.setTexture2DData($.data);break;case"3d":this.setTexture3DData($.data);break;case"cube":this.setTextureCubeData($.data);break;case"2d-array":this.setTextureArrayData($.data);break;case"cube-array":this.setTextureCubeArrayData($.data);break;default:throw Error($.dimension)}if(this.mipmaps)this.generateMipmap()}destroy(){if(this.handle)this.gl.deleteTexture(this.handle),this.removeStats(),this.trackDeallocatedMemory("Texture"),this.destroyed=!0}createView($){return new qZ(this.device,{...$,texture:this})}setSampler($={}){let Q;if($ instanceof yB)this.sampler=$,Q=$.props;else this.sampler=new yB(this.device,$),Q=$;let J=EL(Q);this._setSamplerParameters(J)}generateMipmap($){if(!(this.device.isTextureFormatRenderable(this.props.format)&&this.device.isTextureFormatFilterable(this.props.format))){if(u0.warn(`${this} is not renderable or filterable, may not be able to generate mipmaps`)(),!$?.force)return}try{this.gl.bindTexture(this.glTarget,this.handle),this.gl.generateMipmap(this.glTarget)}catch(J){u0.warn(`Error generating mipmap for ${this}: ${J.message}`)()}finally{this.gl.bindTexture(this.glTarget,null)}}copyExternalImage($){let Q=i5.getExternalImageSize($.image),J={...i5.defaultCopyExternalImageOptions,...Q,...$},{image:K,depth:Y,mipLevel:Z,x:q,y:X,z:W,flipY:F}=J,{width:H,height:B}=J,{dimension:z,glTarget:A,glFormat:R,glInternalFormat:G,glType:O}=this;if(H=Math.min(H,this.width-q),B=Math.min(B,this.height-X),$.sourceX||$.sourceY)throw Error("WebGL does not support sourceX/sourceY)");return Mr(this.device.gl,this.handle,K,{dimension:z,mipLevel:Z,x:q,y:X,z:W,width:H,height:B,depth:Y,glFormat:R,glInternalFormat:G,glType:O,glTarget:A,flipY:F}),{width:J.width,height:J.height}}setTexture1DData($){throw Error("setTexture1DData not supported in WebGL.")}setTexture2DData($,Q=0){this.bind();let J=i5.normalizeTextureData($,this);if(J.length>1&&this.props.mipmaps!==!1)u0.warn(`Texture ${this.id} mipmap and multiple LODs.`)();for(let K=0;K<J.length;K++){let Y=J[K];this._setMipLevel(Q,K,Y)}this.unbind()}setTexture3DData($){if(this.props.dimension!=="3d")throw Error(this.id);if(ArrayBuffer.isView($))this.bind(),br(this.device.gl,$,this),this.unbind()}setTextureCubeData($,Q=0){if(this.props.dimension!=="cube")throw Error(this.id);for(let J of i5.CubeFaces)this.setTextureCubeFaceData($[J],J)}setTextureArrayData($){if(this.props.dimension!=="2d-array")throw Error(this.id);throw Error("setTextureArrayData not implemented.")}setTextureCubeArrayData($){throw Error("setTextureCubeArrayData not supported in WebGL2.")}setTextureCubeFaceData($,Q,J=0){if(Array.isArray($)&&$.length>1&&this.props.mipmaps!==!1)u0.warn(`${this.id} has mipmap and multiple LODs.`)();let K=i5.CubeFaces.indexOf(Q);this.setTexture2DData($,K)}update(){throw Error("Texture.update() not implemented. Use ExternalTexture")}setImageDataForFace($){let{face:Q,width:J,height:K,pixels:Y,data:Z,format:q=6408,type:X=5121}=$,{gl:W}=this,F=Y||Z;if(this.bind(),F instanceof Promise)F.then((H)=>this.setImageDataForFace(Object.assign({},$,{face:Q,data:H,pixels:H})));else if(this.width||this.height)W.texImage2D(Q,0,q,J,K,0,q,X,F);else W.texImage2D(Q,0,q,q,X,F)}_getImageDataMap($){for(let Q=0;Q<i5.CubeFaces.length;++Q){let J=i5.CubeFaces[Q];if($[J])$[34069+Q]=$[J],delete $[J]}return $}_setSamplerParameters($){u0.log(1,`${this.id} sampler parameters`,this.device.getGLKeys($))(),this.gl.bindTexture(this.glTarget,this.handle);for(let[Q,J]of Object.entries($)){let K=Number(Q),Y=J;switch(K){case 33082:case 33083:this.gl.texParameterf(this.glTarget,K,Y);break;case 10241:this.gl.texParameteri(this.glTarget,K,Y);break;case 10242:case 10243:this.gl.texParameteri(this.glTarget,K,Y);break;case 34046:if(this.device.features.has("texture-filterable-anisotropic-webgl"))this.gl.texParameteri(this.glTarget,K,Y);break;default:this.gl.texParameteri(this.glTarget,K,Y);break}}this.gl.bindTexture(this.glTarget,null)}_setMipLevel($,Q,J,K=this.glTarget){if(i5.isExternalImage(J)){Mr(this.device.gl,this.handle,J,{...this,depth:$,mipLevel:Q,glTarget:K,flipY:this.props.flipY});return}if(i5.isTextureLevelData(J)){br(this.device.gl,J.data,{...this,depth:$,mipLevel:Q,glTarget:K});return}throw Error("Texture: invalid image data")}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind($){let{gl:Q}=this;if($!==void 0)this.textureUnit=$,Q.activeTexture(33984+$);return Q.bindTexture(this.glTarget,this.handle),$}unbind($){let{gl:Q}=this;if($!==void 0)this.textureUnit=$,Q.activeTexture(33984+$);return Q.bindTexture(this.glTarget,null),$}}});var NN1,yr;var jD0=h(()=>{v5();LL();IB();NN1=[1,2,4,8];yr=class yr extends nY{device;glParameters;constructor($,Q){super($,Q);this.device=$;let J;if(!Q?.parameters?.viewport)if(Q?.framebuffer){let{width:Y,height:Z}=Q.framebuffer;J=[0,0,Y,Z]}else{let[Y,Z]=$.getCanvasContext().getDrawingBufferSize();J=[0,0,Y,Z]}if(this.device.pushState(),this.setParameters({viewport:J,...this.props.parameters}),this.props.framebuffer?.handle)if(this.props.framebuffer){let Y=this.props.framebuffer.colorAttachments.map((Z,q)=>36064+q);this.device.gl.drawBuffers(Y)}else this.device.gl.drawBuffers([1029]);this.clear()}end(){this.device.popState()}pushDebugGroup($){}popDebugGroup(){}insertDebugMarker($){}setParameters($={}){let Q={...this.glParameters};if(Q.framebuffer=this.props.framebuffer||null,this.props.depthReadOnly)Q.depthMask=!this.props.depthReadOnly;if(Q.stencilMask=this.props.stencilReadOnly?0:1,Q[35977]=this.props.discard,$.viewport)if($.viewport.length>=6)Q.viewport=$.viewport.slice(0,4),Q.depthRange=[$.viewport[4],$.viewport[5]];else Q.viewport=$.viewport;if($.scissorRect)Q.scissorTest=!0,Q.scissor=$.scissorRect;if($.blendConstant)Q.blendColor=$.blendConstant;if($.stencilReference)console.warn("RenderPassParameters.stencilReference not yet implemented in WebGL"),$[2967]=$.stencilReference;if($.colorMask)Q.colorMask=NN1.map((J)=>Boolean(J&$.colorMask));this.glParameters=Q,cQ(this.device.gl,Q)}beginOcclusionQuery($){this.props.occlusionQuerySet?.beginOcclusionQuery()}endOcclusionQuery(){this.props.occlusionQuerySet?.endOcclusionQuery()}clear(){let $={...this.glParameters},Q=0;if(this.props.clearColors)this.props.clearColors.forEach((J,K)=>{if(J)this.clearColorBuffer(K,J)});if(this.props.clearColor!==!1&&this.props.clearColors===void 0)Q|=16384,$.clearColor=this.props.clearColor;if(this.props.clearDepth!==!1)Q|=256,$.clearDepth=this.props.clearDepth;if(this.props.clearStencil!==!1)Q|=1024,$.clearStencil=this.props.clearStencil;if(Q!==0)TF(this.device.gl,$,()=>{this.device.gl.clear(Q)})}clearColorBuffer($=0,Q=[0,0,0,0]){TF(this.device.gl,{framebuffer:this.props.framebuffer},()=>{switch(Q.constructor){case Int8Array:case Int16Array:case Int32Array:this.device.gl.clearBufferiv(6144,$,Q);break;case Uint8Array:case Uint8ClampedArray:case Uint16Array:case Uint32Array:this.device.gl.clearBufferuiv(6144,$,Q);break;case Float32Array:this.device.gl.clearBufferfv(6144,$,Q);break;default:throw Error("clearColorBuffer: color must be typed array")}})}}});function ED0($){return BN1.includes($)}function xr($){let Q=LD0[$];if(!Q)throw Error("uniform");let[J,K,,Y]=Q;return{format:Y,components:K,glType:J}}function hD0($){let Q=LD0[$];if(!Q)throw Error("attribute");let[,J,,K,Y]=Q;return{attributeType:K,vertexFormat:Y,components:J}}var BN1,LD0;var vD0=h(()=>{BN1=[35678,35680,35679,35682,36289,36292,36293,36298,36299,36300,36303,36306,36307,36308,36311],LD0={[5126]:[5126,1,"float","f32","float32"],[35664]:[5126,2,"vec2","vec2<f32>","float32x2"],[35665]:[5126,3,"vec3","vec3<f32>","float32x3"],[35666]:[5126,4,"vec4","vec4<f32>","float32x4"],[5124]:[5124,1,"int","i32","sint32"],[35667]:[5124,2,"ivec2","vec2<i32>","sint32x2"],[35668]:[5124,3,"ivec3","vec3<i32>","sint32x3"],[35669]:[5124,4,"ivec4","vec4<i32>","sint32x4"],[5125]:[5125,1,"uint","u32","uint32"],[36294]:[5125,2,"uvec2","vec2<u32>","uint32x2"],[36295]:[5125,3,"uvec3","vec3<u32>","uint32x3"],[36296]:[5125,4,"uvec4","vec4<u32>","uint32x4"],[35670]:[5126,1,"bool","f32","float32"],[35671]:[5126,2,"bvec2","vec2<f32>","float32x2"],[35672]:[5126,3,"bvec3","vec3<f32>","float32x3"],[35673]:[5126,4,"bvec4","vec4<f32>","float32x4"],[35674]:[5126,8,"mat2","mat2x2<f32>"],[35685]:[5126,8,"mat2x3","mat2x3<f32>"],[35686]:[5126,8,"mat2x4","mat2x4<f32>"],[35687]:[5126,12,"mat3x2","mat3x2<f32>"],[35675]:[5126,12,"mat3","mat3x3<f32>"],[35688]:[5126,12,"mat3x4","mat3x4<f32>"],[35689]:[5126,16,"mat4x2","mat4x2<f32>"],[35690]:[5126,16,"mat4x3","mat4x3<f32>"],[35676]:[5126,16,"mat4","mat4x4<f32>"]}});function SD0($,Q){let J={attributes:[],bindings:[]};J.attributes=zN1($,Q);let K=RN1($,Q);for(let X of K){let W=X.uniforms.map((F)=>({name:F.name,format:F.format,byteOffset:F.byteOffset,byteStride:F.byteStride,arrayLength:F.arrayLength}));J.bindings.push({type:"uniform",name:X.name,group:0,location:X.location,visibility:(X.vertex?1:0)&(X.fragment?2:0),minBindingSize:X.byteLength,uniforms:W})}let Y=VN1($,Q),Z=0;for(let X of Y)if(ED0(X.type)){let{viewDimension:W,sampleType:F}=ON1(X.type);J.bindings.push({type:"texture",name:X.name,group:0,location:Z,viewDimension:W,sampleType:F}),X.textureUnit=Z,Z+=1}if(Y.length)J.uniforms=Y;let q=AN1($,Q);if(q?.length)J.varyings=q;return J}function zN1($,Q){let J=[],K=$.getProgramParameter(Q,35721);for(let Y=0;Y<K;Y++){let Z=$.getActiveAttrib(Q,Y);if(!Z)throw Error("activeInfo");let{name:q,type:X}=Z,W=$.getAttribLocation(Q,q);if(W>=0){let{attributeType:F}=hD0(X),H=/instance/i.test(q)?"instance":"vertex";J.push({name:q,location:W,stepMode:H,type:F})}}return J.sort((Y,Z)=>Y.location-Z.location),J}function AN1($,Q){let J=[],K=$.getProgramParameter(Q,35971);for(let Y=0;Y<K;Y++){let Z=$.getTransformFeedbackVarying(Q,Y);if(!Z)throw Error("activeInfo");let{name:q,type:X,size:W}=Z,{glType:F,components:H}=xr(X),B={location:Y,name:q,type:F,size:W*H};J.push(B)}return J.sort((Y,Z)=>Y.location-Z.location),J}function VN1($,Q){let J=[],K=$.getProgramParameter(Q,35718);for(let Y=0;Y<K;Y++){let Z=$.getActiveUniform(Q,Y);if(!Z)throw Error("activeInfo");let{name:q,size:X,type:W}=Z,{name:F,isArray:H}=wN1(q),B=$.getUniformLocation(Q,F),z={location:B,name:F,size:X,type:W,isArray:H};if(J.push(z),z.size>1)for(let A=0;A<z.size;A++){let R=`${F}[${A}]`;B=$.getUniformLocation(Q,R);let G={...z,name:R,location:B};J.push(G)}}return J}function RN1($,Q){let J=(Z,q)=>$.getActiveUniformBlockParameter(Q,Z,q),K=[],Y=$.getProgramParameter(Q,35382);for(let Z=0;Z<Y;Z++){let q={name:$.getActiveUniformBlockName(Q,Z)||"",location:J(Z,35391),byteLength:J(Z,35392),vertex:J(Z,35396),fragment:J(Z,35398),uniformCount:J(Z,35394),uniforms:[]},X=J(Z,35395)||[],W=$.getActiveUniforms(Q,X,35383),F=$.getActiveUniforms(Q,X,35384),H=$.getActiveUniforms(Q,X,35387),B=$.getActiveUniforms(Q,X,35388);for(let z=0;z<q.uniformCount;++z){let A=$.getActiveUniform(Q,X[z]);if(!A)throw Error("activeInfo");q.uniforms.push({name:A.name,format:xr(W[z]).format,type:W[z],arrayLength:F[z],byteOffset:H[z],byteStride:B[z]})}K.push(q)}return K.sort((Z,q)=>Z.location-q.location),K}function ON1($){let Q=GN1[$];if(!Q)throw Error("sampler");let[J,K]=Q;return{viewDimension:J,sampleType:K}}function wN1($){if($[$.length-1]!=="]")return{name:$,length:1,isArray:!1};let J=/([^[]*)(\[[0-9]+\])?/.exec($);if(!J||J.length<2)throw Error(`Failed to parse GLSL uniform name ${$}`);return{name:J[1],length:J[2]?1:0,isArray:Boolean(J[2])}}var GN1;var _D0=h(()=>{vD0();GN1={[35678]:["2d","float"],[35680]:["cube","float"],[35679]:["3d","float"],[35682]:["3d","depth"],[36289]:["2d-array","float"],[36292]:["2d-array","depth"],[36293]:["cube","float"],[36298]:["2d","sint"],[36299]:["3d","sint"],[36300]:["cube","sint"],[36303]:["2d-array","uint"],[36306]:["2d","uint"],[36307]:["3d","uint"],[36308]:["cube","uint"],[36311]:["2d-array","uint"]}});function fD0($,Q,J,K){let Y=$,Z=K;if(Z===!0)Z=1;if(Z===!1)Z=0;let q=typeof Z==="number"?[Z]:Z;switch(J){case 35678:case 35680:case 35679:case 35682:case 36289:case 36292:case 36293:case 36298:case 36299:case 36300:case 36303:case 36306:case 36307:case 36308:case 36311:if(typeof K!=="number")throw Error("samplers must be set to integers");return $.uniform1i(Q,K);case 5126:return $.uniform1fv(Q,q);case 35664:return $.uniform2fv(Q,q);case 35665:return $.uniform3fv(Q,q);case 35666:return $.uniform4fv(Q,q);case 5124:return $.uniform1iv(Q,q);case 35667:return $.uniform2iv(Q,q);case 35668:return $.uniform3iv(Q,q);case 35669:return $.uniform4iv(Q,q);case 35670:return $.uniform1iv(Q,q);case 35671:return $.uniform2iv(Q,q);case 35672:return $.uniform3iv(Q,q);case 35673:return $.uniform4iv(Q,q);case 5125:return Y.uniform1uiv(Q,q,1);case 36294:return Y.uniform2uiv(Q,q,2);case 36295:return Y.uniform3uiv(Q,q,3);case 36296:return Y.uniform4uiv(Q,q,4);case 35674:return $.uniformMatrix2fv(Q,!1,q);case 35675:return $.uniformMatrix3fv(Q,!1,q);case 35676:return $.uniformMatrix4fv(Q,!1,q);case 35685:return Y.uniformMatrix2x3fv(Q,!1,q);case 35686:return Y.uniformMatrix2x4fv(Q,!1,q);case 35687:return Y.uniformMatrix3x2fv(Q,!1,q);case 35688:return Y.uniformMatrix3x4fv(Q,!1,q);case 35689:return Y.uniformMatrix4x2fv(Q,!1,q);case 35690:return Y.uniformMatrix4x3fv(Q,!1,q)}throw Error("Illegal uniform")}var ID0=()=>{};function TN1($){return GO($)!==null||typeof $==="number"||typeof $==="boolean"}function MD0($){let Q={bindings:{},uniforms:{}};return Object.keys($).forEach((J)=>{let K=$[J];if(TN1(K))Q.uniforms[J]=K;else Q.bindings[J]=K}),Q}var bD0=h(()=>{$r()});function gD0($){switch($){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 3;case"triangle-list":return 4;case"triangle-strip":return 5;default:throw Error($)}}function yD0($){switch($){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 1;case"triangle-list":return 4;case"triangle-strip":return 4;default:throw Error($)}}var cr=()=>{};function DN1($,Q){let J={...$,attributes:$.attributes.map((K)=>({...K}))};for(let K of Q?.attributes||[]){let Y=J.attributes.find((Z)=>Z.name===K.name);if(!Y)u0.warn(`shader layout attribute ${K.name} not present in shader`);else Y.type=K.type||Y.type,Y.stepMode=K.stepMode||Y.stepMode}return J}var xD0=4,ur;var cD0=h(()=>{v5();_D0();Lr();ID0();bD0();PL();TL();hL();fr();cr();ur=class ur extends qK{device;handle;vs;fs;introspectedLayout;uniforms={};bindings={};varyings=null;_uniformCount=0;_uniformSetters={};constructor($,Q){super($,Q);this.device=$,this.handle=this.props.handle||this.device.gl.createProgram(),this.device.setSpectorMetadata(this.handle,{id:this.props.id}),this.vs=Q.vs,this.fs=Q.fs;let{varyings:J,bufferMode:K=35981}=Q;if(J&&J.length>0)this.varyings=J,this.device.gl.transformFeedbackVaryings(this.handle,J,K);this._linkShaders(),u0.time(1,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.introspectedLayout=SD0(this.device.gl,this.handle),u0.timeEnd(1,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.shaderLayout=DN1(this.introspectedLayout,Q.shaderLayout)}destroy(){if(this.handle)this.device.gl.deleteProgram(this.handle),this.destroyed=!0}setBindings($,Q){for(let[J,K]of Object.entries($)){let Y=this.shaderLayout.bindings.find((Z)=>Z.name===J)||this.shaderLayout.bindings.find((Z)=>Z.name===`${J}Uniforms`);if(!Y){let Z=this.shaderLayout.bindings.map((q)=>`"${q.name}"`).join(", ");if(!Q?.disableWarnings)u0.warn(`No binding "${J}" in render pipeline "${this.id}", expected one of ${Z}`,K)();continue}if(!K)u0.warn(`Unsetting binding "${J}" in render pipeline "${this.id}"`)();switch(Y.type){case"uniform":if(!(K instanceof GK)&&!(K.buffer instanceof GK))throw Error("buffer value");break;case"texture":if(!(K instanceof qZ||K instanceof XZ||K instanceof ZZ))throw Error("texture value");break;case"sampler":u0.warn(`Ignoring sampler ${J}`)();break;default:throw Error(Y.type)}this.bindings[J]=K}}draw($){let{renderPass:Q,parameters:J=this.props.parameters,topology:K=this.props.topology,vertexArray:Y,vertexCount:Z,instanceCount:q,isInstanced:X=!1,firstVertex:W=0,transformFeedback:F}=$,H=gD0(K),B=Boolean(Y.indexBuffer),z=Y.indexBuffer?.glIndexType;if(this.linkStatus!=="success")return u0.info(2,`RenderPipeline:${this.id}.draw() aborted - waiting for shader linking`)(),!1;if(!this._areTexturesRenderable())return u0.info(2,`RenderPipeline:${this.id}.draw() aborted - textures not yet loaded`)(),!1;if(this.device.gl.useProgram(this.handle),Y.bindBeforeRender(Q),F)F.begin(this.props.topology);this._applyBindings(),this._applyUniforms();let A=Q;return zD0(this.device,J,A.glParameters,()=>{if(B&&X)this.device.gl.drawElementsInstanced(H,Z||0,z,W,q||0);else if(B)this.device.gl.drawElements(H,Z||0,z,W);else if(X)this.device.gl.drawArraysInstanced(H,W,Z||0,q||0);else this.device.gl.drawArrays(H,W,Z||0);if(F)F.end()}),Y.unbindAfterRender(Q),!0}setUniformsWebGL($){let{bindings:Q}=MD0($);Object.keys(Q).forEach((J)=>{u0.warn(`Unsupported value "${JSON.stringify(Q[J])}" used in setUniforms() for key ${J}. Use setBindings() instead?`)()}),Object.assign(this.uniforms,$)}async _linkShaders(){let{gl:$}=this.device;if($.attachShader(this.handle,this.vs.handle),$.attachShader(this.handle,this.fs.handle),u0.time(xD0,`linkProgram for ${this.id}`)(),$.linkProgram(this.handle),u0.timeEnd(xD0,`linkProgram for ${this.id}`)(),u0.level===0);if(!this.device.features.has("compilation-status-async-webgl")){let J=this._getLinkStatus();this._reportLinkStatus(J);return}u0.once(1,"RenderPipeline linking is asynchronous")(),await this._waitForLinkComplete(),u0.info(2,`RenderPipeline ${this.id} - async linking complete: ${this.linkStatus}`)();let Q=this._getLinkStatus();this._reportLinkStatus(Q)}async _reportLinkStatus($){switch($){case"success":return;default:switch(this.vs.compilationStatus){case"error":throw this.vs.debugShader(),Error(`Error during compilation of shader ${this.vs.id}`);case"pending":this.vs.asyncCompilationStatus.then(()=>this.vs.debugShader());break;case"success":break}switch(this.fs?.compilationStatus){case"error":throw this.fs.debugShader(),Error(`Error during compilation of shader ${this.fs.id}`);case"pending":this.fs.asyncCompilationStatus.then(()=>this.fs.debugShader());break;case"success":break}let Q=this.device.gl.getProgramInfoLog(this.handle);throw Error(`Error during ${$}: ${Q}`)}}_getLinkStatus(){let{gl:$}=this.device;if(!$.getProgramParameter(this.handle,35714))return this.linkStatus="error","linking";if($.validateProgram(this.handle),!$.getProgramParameter(this.handle,35715))return this.linkStatus="error","validation";return this.linkStatus="success","success"}async _waitForLinkComplete(){let $=async(K)=>await new Promise((Y)=>setTimeout(Y,K)),Q=10;if(!this.device.features.has("compilation-status-async-webgl")){await $(10);return}let{gl:J}=this.device;for(;;){if(J.getProgramParameter(this.handle,37297))return;await $(10)}}_areTexturesRenderable(){let $=!0;for(let Q of this.shaderLayout.bindings)if(!this.bindings[Q.name]&&!this.bindings[Q.name.replace(/Uniforms$/,"")])u0.warn(`Binding ${Q.name} not found in ${this.id}`)(),$=!1;return $}_applyBindings(){if(this.linkStatus!=="success")return;let{gl:$}=this.device;$.useProgram(this.handle);let Q=0,J=0;for(let K of this.shaderLayout.bindings){let Y=this.bindings[K.name]||this.bindings[K.name.replace(/Uniforms$/,"")];if(!Y)throw Error(`No value for binding ${K.name} in ${this.id}`);switch(K.type){case"uniform":let{name:Z}=K,q=$.getUniformBlockIndex(this.handle,Z);if(q===4294967295)throw Error(`Invalid uniform block name ${Z}`);if($.uniformBlockBinding(this.handle,J,q),Y instanceof GK)$.bindBufferBase(35345,J,Y.handle);else $.bindBufferRange(35345,J,Y.buffer.handle,Y.offset||0,Y.size||Y.buffer.byteLength-Y.offset);J+=1;break;case"texture":if(!(Y instanceof qZ||Y instanceof XZ||Y instanceof ZZ))throw Error("texture");let X;if(Y instanceof qZ)X=Y.texture;else if(Y instanceof XZ)X=Y;else if(Y instanceof ZZ&&Y.colorAttachments[0]instanceof qZ)u0.warn("Passing framebuffer in texture binding may be deprecated. Use fbo.colorAttachments[0] instead")(),X=Y.colorAttachments[0].texture;else throw Error("No texture");$.activeTexture(33984+Q),$.bindTexture(X.glTarget,X.handle),Q+=1;break;case"sampler":break;case"storage":case"read-only-storage":throw Error(`binding type '${K.type}' not supported in WebGL`)}}}_applyUniforms(){for(let $ of this.shaderLayout.uniforms||[]){let{name:Q,location:J,type:K,textureUnit:Y}=$,Z=this.uniforms[Q]??Y;if(Z!==void 0)fD0(this.device.gl,J,K,Z)}}}});function CN1($,Q){let{sourceBuffer:J,destinationBuffer:K}=Q;$.gl.bindBuffer(36662,J.handle),$.gl.bindBuffer(36663,K.handle),$.gl.copyBufferSubData(36662,36663,Q.sourceOffset??0,Q.destinationOffset??0,Q.size),$.gl.bindBuffer(36662,null),$.gl.bindBuffer(36663,null)}function PN1($,Q){throw Error("Not implemented")}function kN1($,Q){let{sourceTexture:J,mipLevel:K=0,aspect:Y="all",width:Z=Q.sourceTexture.width,height:q=Q.sourceTexture.height,depthOrArrayLayers:X=0,origin:W=[0,0],destinationBuffer:F,byteOffset:H=0,bytesPerRow:B,rowsPerImage:z}=Q;if(Y!=="all")throw Error("aspect not supported in WebGL");if(K!==0||X!==0||B||z)throw Error("not implemented");let{framebuffer:A,destroyFramebuffer:R}=uD0(J),G;try{let O=F,T=Z||A.width,D=q||A.height,P=wL(A.colorAttachments[0].texture.props.format),j=P.format,E=P.type;$.gl.bindBuffer(35051,O.handle),G=$.gl.bindFramebuffer(36160,A.handle),$.gl.readPixels(W[0],W[1],T,D,j,E,H)}finally{if($.gl.bindBuffer(35051,null),G!==void 0)$.gl.bindFramebuffer(36160,G);if(R)A.destroy()}}function jN1($,Q){let{sourceTexture:J,destinationMipLevel:K=0,origin:Y=[0,0],destinationOrigin:Z=[0,0],destinationTexture:q}=Q,{width:X=Q.destinationTexture.width,height:W=Q.destinationTexture.height}=Q,{framebuffer:F,destroyFramebuffer:H}=uD0(J),[B,z]=Y,[A,R,G]=Z,O=$.gl.bindFramebuffer(36160,F.handle),T=null,D;if(q instanceof XZ)T=q,X=Number.isFinite(X)?X:T.width,W=Number.isFinite(W)?W:T.height,T.bind(0),D=T.glTarget;else throw Error("invalid destination");switch(D){case 3553:case 34067:$.gl.copyTexSubImage2D(D,K,A,R,B,z,X,W);break;case 35866:case 32879:$.gl.copyTexSubImage3D(D,K,A,R,G,B,z,X,W);break;default:}if(T)T.unbind();if($.gl.bindFramebuffer(36160,O),H)F.destroy()}function uD0($){if($ instanceof i5){let{width:Q,height:J,id:K}=$;return{framebuffer:$.device.createFramebuffer({id:`framebuffer-for-${K}`,width:Q,height:J,colorAttachments:[$]}),destroyFramebuffer:!0}}return{framebuffer:$,destroyFramebuffer:!1}}var mr;var mD0=h(()=>{v5();hL();gB();mr=class mr extends gG{device;commands=[];constructor($){super($,{});this.device=$}submitCommands($=this.commands){for(let Q of $)switch(Q.name){case"copy-buffer-to-buffer":CN1(this.device,Q.options);break;case"copy-buffer-to-texture":PN1(this.device,Q.options);break;case"copy-texture-to-buffer":kN1(this.device,Q.options);break;case"copy-texture-to-texture":jN1(this.device,Q.options);break;default:throw Error(Q.name)}}}});var pr;var pD0=h(()=>{v5();mD0();pr=class pr extends bG{device;commandBuffer;constructor($,Q){super($,Q);this.device=$,this.commandBuffer=new mr($)}destroy(){}finish(){this.commandBuffer.submitCommands()}copyBufferToBuffer($){this.commandBuffer.commands.push({name:"copy-buffer-to-buffer",options:$})}copyBufferToTexture($){this.commandBuffer.commands.push({name:"copy-buffer-to-texture",options:$})}copyTextureToBuffer($){this.commandBuffer.commands.push({name:"copy-texture-to-buffer",options:$})}copyTextureToTexture($){this.commandBuffer.commands.push({name:"copy-texture-to-texture",options:$})}pushDebugGroup($){}popDebugGroup(){}insertDebugMarker($){}resolveQuerySet($,Q,J){}}});function dD0($){let{target:Q,source:J,start:K=0,count:Y=1}=$,Z=J.length,q=Y*Z,X=0;for(let W=K;X<Z;X++)Q[W++]=J[X];while(X<q)if(X<q-X)Q.copyWithin(K+X,K,K+X),X*=2;else Q.copyWithin(K+X,K,K+q-X),X=q;return $.target}function EN1($){if(Array.isArray($))return new Float32Array($);return $}function LN1($,Q){if(!$||!Q||$.length!==Q.length||$.constructor!==Q.constructor)return!1;for(let J=0;J<$.length;++J)if($[J]!==Q[J])return!1;return!0}var vL;var nD0=h(()=>{v5();KX();Gr();vL=class vL extends yG{get[Symbol.toStringTag](){return"VertexArray"}device;handle;buffer=null;bufferValue=null;static isConstantAttributeZeroSupported($){return Vp()==="Chrome"}constructor($,Q){super($,Q);this.device=$,this.handle=this.device.gl.createVertexArray()}destroy(){if(super.destroy(),this.buffer)this.buffer?.destroy();if(this.handle)this.device.gl.deleteVertexArray(this.handle),this.handle=void 0}setIndexBuffer($){let Q=$;if(Q&&Q.glTarget!==34963)throw Error("Use .setBuffer()");this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34963,Q?Q.handle:null),this.indexBuffer=Q,this.device.gl.bindVertexArray(null)}setBuffer($,Q){let J=Q;if(J.glTarget===34963)throw Error("Use .setIndexBuffer()");let{size:K,type:Y,stride:Z,offset:q,normalized:X,integer:W,divisor:F}=this._getAccessor($);if(this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34962,J.handle),W)this.device.gl.vertexAttribIPointer($,K,Y,Z,q);else this.device.gl.vertexAttribPointer($,K,Y,X,Z,q);this.device.gl.bindBuffer(34962,null),this.device.gl.enableVertexAttribArray($),this.device.gl.vertexAttribDivisor($,F||0),this.attributes[$]=J,this.device.gl.bindVertexArray(null)}setConstantWebGL($,Q){this._enable($,!1),this.attributes[$]=Q}bindBeforeRender(){this.device.gl.bindVertexArray(this.handle),this._applyConstantAttributes()}unbindAfterRender(){this.device.gl.bindVertexArray(null)}_applyConstantAttributes(){for(let $=0;$<this.maxVertexAttributes;++$){let Q=this.attributes[$];if(ArrayBuffer.isView(Q))this.device.setConstantAttributeWebGL($,Q)}}_getAccessor($){let Q=this.attributeInfos[$];if(!Q)throw Error(`Unknown attribute location ${$}`);let J=GL(Q.bufferDataType);return{size:Q.bufferComponents,type:J,stride:Q.byteStride,offset:Q.byteOffset,normalized:Q.normalized,integer:Q.integer,divisor:Q.stepMode==="instance"?1:0}}_enable($,Q=!0){let K=vL.isConstantAttributeZeroSupported(this.device)||$!==0;if(Q||K){if($=Number($),this.device.gl.bindVertexArray(this.handle),Q)this.device.gl.enableVertexAttribArray($);else this.device.gl.disableVertexAttribArray($);this.device.gl.bindVertexArray(null)}}getConstantBuffer($,Q){let J=EN1(Q),K=J.byteLength*$,Y=J.length*$;if(this.buffer&&K!==this.buffer.byteLength)throw Error(`Buffer size is immutable, byte length ${K} !== ${this.buffer.byteLength}.`);let Z=!this.buffer;if(this.buffer=this.buffer||this.device.createBuffer({byteLength:K}),Z=Z||!LN1(J,this.bufferValue),Z){let q=fd(Q.constructor,Y);dD0({target:q,source:J,start:0,count:Y}),this.buffer.write(q),this.bufferValue=Q}return this.buffer}}});function lD0($){if(typeof $==="number")return Number.isInteger($);return/^\d+$/.test($)}var dr;var rD0=h(()=>{v5();SL();cr();dr=class dr extends xG{device;gl;handle;layout;buffers={};unusedBuffers={};bindOnUse=!0;_bound=!1;constructor($,Q){super($,Q);if(this.device=$,this.gl=$.gl,this.handle=this.props.handle||this.gl.createTransformFeedback(),this.layout=this.props.layout,Q.buffers)this.setBuffers(Q.buffers);Object.seal(this)}destroy(){this.gl.deleteTransformFeedback(this.handle),super.destroy()}begin($="point-list"){if(this.gl.bindTransformFeedback(36386,this.handle),this.bindOnUse)this._bindBuffers();this.gl.beginTransformFeedback(yD0($))}end(){if(this.gl.endTransformFeedback(),this.bindOnUse)this._unbindBuffers();this.gl.bindTransformFeedback(36386,null)}setBuffers($){this.buffers={},this.unusedBuffers={},this.bind(()=>{for(let Q in $)this.setBuffer(Q,$[Q])})}setBuffer($,Q){let J=this._getVaryingIndex($),{buffer:K,byteLength:Y,byteOffset:Z}=this._getBufferRange(Q);if(J<0){this.unusedBuffers[$]=K,u0.warn(`${this.id} unusedBuffers varying buffer ${$}`)();return}if(this.buffers[J]={buffer:K,byteLength:Y,byteOffset:Z},!this.bindOnUse)this._bindBuffer(J,K,Z,Y)}getBuffer($){if(lD0($))return this.buffers[$]||null;let Q=this._getVaryingIndex($);return Q>=0?this.buffers[Q]:null}bind($=this.handle){if(typeof $!=="function")return this.gl.bindTransformFeedback(36386,$),this;let Q;if(!this._bound)this.gl.bindTransformFeedback(36386,this.handle),this._bound=!0,Q=$(),this._bound=!1,this.gl.bindTransformFeedback(36386,null);else Q=$();return Q}unbind(){this.bind(null)}_getBufferRange($){if($ instanceof GK)return{buffer:$,byteOffset:0,byteLength:$.byteLength};let{buffer:Q,byteOffset:J=0,byteLength:K=$.buffer.byteLength}=$;return{buffer:Q,byteOffset:J,byteLength:K}}_getVaryingIndex($){if(lD0($))return Number($);for(let Q of this.layout.varyings)if($===Q.name)return Q.location;return-1}_bindBuffers(){for(let $ in this.buffers){let{buffer:Q,byteLength:J,byteOffset:K}=this._getBufferRange(this.buffers[$]);this._bindBuffer(Number($),Q,K,J)}}_unbindBuffers(){for(let $ in this.buffers)this.gl.bindBufferBase(35982,Number($),null)}_bindBuffer($,Q,J=0,K){let Y=Q&&Q.handle;if(!Y||K===void 0)this.gl.bindBufferBase(35982,$,Y);else this.gl.bindBufferRange(35982,$,Y,J,K)}}});var nr;var iD0=h(()=>{v5();nr=class nr extends cG{device;handle;target=null;_queryPending=!1;_pollingPromise=null;get[Symbol.toStringTag](){return"Query"}constructor($,Q){super($,Q);if(this.device=$,Q.count>1)throw Error("WebGL QuerySet can only have one value");this.handle=this.device.gl.createQuery(),Object.seal(this)}destroy(){this.device.gl.deleteQuery(this.handle)}beginTimestampQuery(){return this._begin(35007)}endTimestampQuery(){this._end()}beginOcclusionQuery($){return this._begin($?.conservative?36202:35887)}endOcclusionQuery(){this._end()}beginTransformFeedbackQuery(){return this._begin(35976)}endTransformFeedbackQuery(){this._end()}async resolveQuery(){return[await this.pollQuery()]}_begin($){if(this._queryPending)return;this.target=$,this.device.gl.beginQuery(this.target,this.handle);return}_end(){if(this._queryPending)return;if(this.target)this.device.gl.endQuery(this.target),this.target=null,this._queryPending=!0;return}isResultAvailable(){if(!this._queryPending)return!1;let $=this.device.gl.getQueryParameter(this.handle,34919);if($)this._queryPending=!1;return $}isTimerDisjoint(){return this.device.gl.getParameter(36795)}getResult(){return this.device.gl.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}pollQuery($=Number.POSITIVE_INFINITY){if(this._pollingPromise)return this._pollingPromise;let Q=0;return this._pollingPromise=new Promise((J,K)=>{let Y=()=>{if(this.isResultAvailable())J(this.getResult()),this._pollingPromise=null;else if(Q++>$)K("Timed out"),this._pollingPromise=null;else requestAnimationFrame(Y)};requestAnimationFrame(Y)}),this._pollingPromise}}});function hN1($,Q,J){switch(J.length){case 1:$.gl.vertexAttrib1fv(Q,J);break;case 2:$.gl.vertexAttrib2fv(Q,J);break;case 3:$.gl.vertexAttrib3fv(Q,J);break;case 4:$.gl.vertexAttrib4fv(Q,J);break;default:}}function vN1($,Q,J){$.gl.vertexAttribI4iv(Q,J)}function SN1($,Q,J){$.gl.vertexAttribI4uiv(Q,J)}function _N1($,Q){if(!$||!Q||$.length!==Q.length||$.constructor!==Q.constructor)return!1;for(let J=0;J<$.length;++J)if($[J]!==Q[J])return!1;return!0}var OK;var lr=h(()=>{v5();Rr();dT0();tT0();eT0();$D0();Cr();Pr();gB();FD0();PL();ND0();_r();hL();TL();jD0();cD0();pD0();nD0();rD0();iD0();gr();IB();LL();OK=class OK extends G${type="webgl";handle;features;limits;info;canvasContext;lost;_resolveContextLost;gl;debug=!1;_canvasSizeInfo={clientWidth:0,clientHeight:0,devicePixelRatio:1};_extensions={};_polyfilled=!1;spectorJS;constructor($){super({...$,id:$.id||WD0("webgl-device")});let Q=G$._getCanvasContextProps($);if(!Q)throw Error("WebGLDevice requires props.createCanvasContext to be set");let J=Q.canvas?.gl?.device;if(J)throw Error(`WebGL context already attached to device ${J.id}`);this.canvasContext=new Dr(this,Q),this.lost=new Promise((F)=>{this._resolveContextLost=F});let K={...$.webgl};if(Q.alphaMode==="premultiplied")K.premultipliedAlpha=!0;if($.powerPreference!==void 0)K.powerPreference=$.powerPreference;let Z=this.props._handle||uT0(this.canvasContext.canvas,{onContextLost:(F)=>this._resolveContextLost?.({reason:"destroyed",message:"Entered sleep mode, or too many apps or browser tabs are using the GPU."}),onContextRestored:(F)=>console.log("WebGL context restored")},K);if(!Z)throw Error("WebGL context creation failed");if(J=Z.device,J){if($._reuseDevices)return u0.log(1,`Not creating a new Device, instead returning a reference to Device ${J.id} already attached to WebGL context`,J)(),J._reused=!0,J;throw Error(`WebGL context already attached to device ${J.id}`)}if(this.handle=Z,this.gl=Z,this.spectorJS=KD0({...this.props,gl:this.handle}),this.gl.device=this,this.gl._version=2,this.info=mT0(this.gl,this._extensions),this.limits=new Tr(this.gl),this.features=new wr(this.gl,this._extensions,this.props._disabledFeatures),this.props._initializeFeatures)this.features.initializeFeatures();if(Q.autoResize!==!1)this.canvasContext.resize();new VK(this.gl,{log:(...F)=>u0.log(1,...F)()}).trackState(this.gl,{copyState:!1});let X=$.debugWebGL||$.debug,W=$.debugWebGL;if(X){if(this.gl=XD0(this.gl,{debugWebGL:X,traceWebGL:W}),u0.warn("WebGL debug mode activated. Performance reduced.")(),$.debugWebGL)u0.level=Math.max(u0.level,1)}}destroy(){if(!this.props._reuseDevices&&!this._reused)delete this.gl.device}get isLost(){return this.gl.isContextLost()}createCanvasContext($){throw Error("WebGL only supports a single canvas")}createBuffer($){let Q=this._normalizeBufferProps($);return new GK(this,Q)}createTexture($){return new XZ(this,$)}createExternalTexture($){throw Error("createExternalTexture() not implemented")}createSampler($){return new yB(this,$)}createShader($){return new jr(this,$)}createFramebuffer($){return new ZZ(this,$)}createVertexArray($){return new vL(this,$)}createTransformFeedback($){return new dr(this,$)}createQuerySet($){return new nr(this,$)}createRenderPipeline($){return new ur(this,$)}beginRenderPass($){return new yr(this,$)}createComputePipeline($){throw Error("ComputePipeline not supported in WebGL")}beginComputePass($){throw Error("ComputePass not supported in WebGL")}renderPass=null;createCommandEncoder($={}){return new pr(this,$)}submit(){this.renderPass?.end(),this.renderPass=null}readPixelsToArrayWebGL($,Q){return CD0($,Q)}readPixelsToBufferWebGL($,Q){return PD0($,Q)}setParametersWebGL($){cQ(this.gl,$)}getParametersWebGL($){return RL(this.gl,$)}withParametersWebGL($,Q){return TF(this.gl,$,Q)}resetWebGL(){u0.warn("WebGLDevice.resetWebGL is deprecated, use only for debugging")(),yT0(this.gl)}_getDeviceSpecificTextureFormatCapabilities($){return sT0(this.gl,$,this._extensions)}loseDevice(){let $=!1,J=this.getExtension("WEBGL_lose_context").WEBGL_lose_context;if(J)$=!0,J.loseContext();return this._resolveContextLost?.({reason:"destroyed",message:"Application triggered context loss"}),$}pushState(){VK.get(this.gl).push()}popState(){VK.get(this.gl).pop()}setSpectorMetadata($,Q){$.__SPECTOR_Metadata=Q}getGLKey($,Q){let J=Number($);for(let K in this.gl)if(this.gl[K]===J)return`GL.${K}`;return Q?.emptyIfUnknown?"":String($)}getGLKeys($){let Q={emptyIfUnknown:!0};return Object.entries($).reduce((J,[K,Y])=>{return J[`${K}:${this.getGLKey(K,Q)}`]=`${Y}:${this.getGLKey(Y,Q)}`,J},{})}_constants;setConstantAttributeWebGL($,Q){let J=this.limits.maxVertexAttributes;this._constants=this._constants||Array(J).fill(null);let K=this._constants[$];if(K&&_N1(K,Q))u0.info(1,`setConstantAttributeWebGL(${$}) could have been skipped, value unchanged`)();switch(this._constants[$]=Q,Q.constructor){case Float32Array:hN1(this,$,Q);break;case Int32Array:vN1(this,$,Q);break;case Uint32Array:SN1(this,$,Q);break;default:throw Error("constant")}}getExtension($){return RK(this.gl,$,this._extensions),this._extensions}}});function sD0($=!0){let Q=HTMLCanvasElement.prototype;if(!$&&Q.originalGetContext){Q.getContext=Q.originalGetContext,Q.originalGetContext=void 0;return}Q.originalGetContext=Q.getContext,Q.getContext=function(J,K){if(J==="webgl"||J==="experimental-webgl"){let Y=this.originalGetContext("webgl2",K);if(Y instanceof HTMLElement)gN1(Y);return Y}return this.originalGetContext(J,K)}}function gN1($){$.getExtension("EXT_color_buffer_float");let Q={...fN1,WEBGL_disjoint_timer_query:$.getExtension("EXT_disjoint_timer_query_webgl2"),WEBGL_draw_buffers:IN1($),OES_vertex_array_object:MN1($),ANGLE_instanced_arrays:bN1($)},J=$.getExtension;$.getExtension=function(Y){let Z=J.call($,Y);if(Z)return Z;if(Y in Q)return Q[Y];return null};let K=$.getSupportedExtensions;$.getSupportedExtensions=function(){return(K.apply($)||[])?.concat(Object.keys(Q))}}var fN1,IN1=($)=>({drawBuffersWEBGL(Q){return $.drawBuffers(Q)},COLOR_ATTACHMENT0_WEBGL:36064,COLOR_ATTACHMENT1_WEBGL:36065,COLOR_ATTACHMENT2_WEBGL:36066,COLOR_ATTACHMENT3_WEBGL:36067}),MN1=($)=>({VERTEX_ARRAY_BINDING_OES:34229,createVertexArrayOES(){return $.createVertexArray()},deleteVertexArrayOES(Q){return $.deleteVertexArray(Q)},isVertexArrayOES(Q){return $.isVertexArray(Q)},bindVertexArrayOES(Q){return $.bindVertexArray(Q)}}),bN1=($)=>({VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,drawArraysInstancedANGLE(...Q){return $.drawArraysInstanced(...Q)},drawElementsInstancedANGLE(...Q){return $.drawElementsInstanced(...Q)},vertexAttribDivisorANGLE(...Q){return $.vertexAttribDivisor(...Q)}});var oD0=h(()=>{fN1={WEBGL_depth_texture:{UNSIGNED_INT_24_8_WEBGL:34042},OES_element_index_uint:{},OES_texture_float:{},OES_texture_half_float:{HALF_FLOAT_OES:5131},EXT_color_buffer_float:{},OES_standard_derivatives:{FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723},EXT_frag_depth:{},EXT_blend_minmax:{MIN_EXT:32775,MAX_EXT:32776},EXT_shader_texture_lod:{}}});function yN1($){if(typeof WebGL2RenderingContext<"u"&&$ instanceof WebGL2RenderingContext)return!0;return Boolean($&&Number.isFinite($._version))}var _L=1,aD0,fL;var tD0=h(()=>{v5();lr();oD0();Cr();Pr();aD0=class aD0 extends ej{type="webgl";constructor(){super();G$.defaultProps={...G$.defaultProps,...CL},OK.adapter=this}isSupported(){return typeof WebGL2RenderingContext<"u"}enforceWebGL2($){sD0($)}async attach($){if($ instanceof OK)return $;if($?.device instanceof G$)return $.device;if(!yN1($))throw Error("Invalid WebGL2RenderingContext");return new OK({_handle:$,createCanvasContext:{canvas:$.canvas,autoResize:!1}})}async create($={}){u0.groupCollapsed(_L,"WebGLDevice created")();let Q=[];if($.debugWebGL||$.debug)Q.push(qD0());if($.debugSpectorJS)Q.push(JD0($));let J=await Promise.allSettled(Q);for(let Z of J)if(Z.status==="rejected")u0.error(`Failed to initialize debug libraries ${Z.reason}`)();let K=new OK($),Y=`${K._reused?"Reusing":"Created"} device with WebGL2 ${K.debug?"debug ":""}context: ${K.info.vendor}, ${K.info.renderer} for canvas: ${K.canvasContext.id}`;return u0.probe(_L,Y)(),u0.table(_L,K.info)(),u0.groupEnd(_L)(),K}};fL=new aD0});var SL=h(()=>{tD0();lr();PL()});function wX(){}class IL{constructor($){if(this.width=0,this.height=0,this.userData={},this.device=null,this.canvas=null,this.viewManager=null,this.layerManager=null,this.effectManager=null,this.deckRenderer=null,this.deckPicker=null,this.eventManager=null,this.widgetManager=null,this.tooltip=null,this.animationLoop=null,this.cursorState={isHovering:!1,isDragging:!1},this.stats=new SQ({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this._lastPointerDownInfo=null,this._onPointerMove=(J)=>{let{_pickRequest:K}=this;if(J.type==="pointerleave")K.x=-1,K.y=-1,K.radius=0;else if(J.leftButton||J.rightButton)return;else{let Y=J.offsetCenter;if(!Y)return;K.x=Y.x,K.y=Y.y,K.radius=this.props.pickingRadius}if(this.layerManager)this.layerManager.context.mousePosition={x:K.x,y:K.y};K.event=J},this._onEvent=(J)=>{let K=FO[J.type],Y=J.offsetCenter;if(!K||!Y||!this.layerManager)return;let Z=this.layerManager.getLayers(),q=this.deckPicker.getLastPickedObject({x:Y.x,y:Y.y,layers:Z,viewports:this.getViewports(Y)},this._lastPointerDownInfo),{layer:X}=q,W=X&&(X[K]||X.props[K]),F=this.props[K],H=!1;if(W)H=W.call(X,q,J);if(!H)F?.(q,J),this.widgetManager.onEvent(q,J)},this._onPointerDown=(J)=>{if(this.device?.type==="webgpu")return;let K=J.offsetCenter,Y=this._pick("pickObject","pickObject Time",{x:K.x,y:K.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=Y.result[0]||Y.emptyInfo},this.props={...eD0,...$},$=this.props,$.viewState&&$.initialViewState)I1.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")();if(this.viewState=this.props.initialViewState,$.device)this.device=$.device;let Q=this.device;if(!Q&&$.gl){if($.gl instanceof WebGLRenderingContext)I1.error("WebGL1 context not supported.")();Q=fL.attach($.gl)}if(!Q)Q=qB.createDevice({type:"best-available",_reuseDevices:!0,adapters:[fL],...$.deviceProps,createCanvasContext:{canvas:this._createCanvas($),useDevicePixels:this.props.useDevicePixels,autoResize:!1}});if(this.animationLoop=this._createAnimationLoop(Q,$),this.setProps($),$._typedArrayManagerProps)yQ.setOptions($._typedArrayManagerProps);this.animationLoop.start()}finalize(){if(this.animationLoop?.stop(),this.animationLoop?.destroy(),this.animationLoop=null,this._lastPointerDownInfo=null,this.layerManager?.finalize(),this.layerManager=null,this.viewManager?.finalize(),this.viewManager=null,this.effectManager?.finalize(),this.effectManager=null,this.deckRenderer?.finalize(),this.deckRenderer=null,this.deckPicker?.finalize(),this.deckPicker=null,this.eventManager?.destroy(),this.eventManager=null,this.widgetManager?.finalize(),this.widgetManager=null,!this.props.canvas&&!this.props.device&&!this.props.gl&&this.canvas)this.canvas.parentElement?.removeChild(this.canvas),this.canvas=null}setProps($){if(this.stats.get("setProps Time").timeStart(),"onLayerHover"in $)I1.removed("onLayerHover","onHover")();if("onLayerClick"in $)I1.removed("onLayerClick","onClick")();if($.initialViewState&&!n8(this.props.initialViewState,$.initialViewState,3))this.viewState=$.initialViewState;Object.assign(this.props,$),this._setCanvasSize(this.props);let Q=Object.create(this.props);if(Object.assign(Q,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop?.setProps(Q),this.layerManager)this.viewManager.setProps(Q),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(Q),this.effectManager.setProps(Q),this.deckRenderer.setProps(Q),this.deckPicker.setProps(Q),this.widgetManager.setProps(Q);this.stats.get("setProps Time").timeEnd()}needsRedraw($={clearRedrawFlags:!1}){if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let Q=this._needsRedraw;if($.clearRedrawFlags)this._needsRedraw=!1;let J=this.viewManager.needsRedraw($),K=this.layerManager.needsRedraw($),Y=this.effectManager.needsRedraw($),Z=this.deckRenderer.needsRedraw($);return Q=Q||J||K||Y||Z,Q}redraw($){if(!this.layerManager)return;let Q=this.needsRedraw({clearRedrawFlags:!0});if(Q=$||Q,!Q)return;if(this.stats.get("Redraw Count").incrementCount(),this.props._customRender)this.props._customRender(Q);else this._drawLayers(Q)}get isInitialized(){return this.viewManager!==null}getViews(){return W7(this.viewManager),this.viewManager.views}getViewports($){return W7(this.viewManager),this.viewManager.getViewports($)}getCanvas(){return this.canvas}pickObject($){let Q=this._pick("pickObject","pickObject Time",$).result;return Q.length?Q[0]:null}pickMultipleObjects($){return $.depth=$.depth||10,this._pick("pickObject","pickMultipleObjects Time",$).result}pickObjects($){return this._pick("pickObjects","pickObjects Time",$)}_addResources($,Q=!1){for(let J in $)this.layerManager.resourceManager.add({resourceId:J,data:$[J],forceUpdate:Q})}_removeResources($){for(let Q of $)this.layerManager.resourceManager.remove(Q)}_addDefaultEffect($){this.effectManager.addDefaultEffect($)}_addDefaultShaderModule($){this.layerManager.addDefaultShaderModule($)}_removeDefaultShaderModule($){this.layerManager?.removeDefaultShaderModule($)}_pick($,Q,J){W7(this.deckPicker);let{stats:K}=this;K.get("Pick Count").incrementCount(),K.get(Q).timeStart();let Y=this.deckPicker[$]({layers:this.layerManager.getLayers(J),views:this.viewManager.getViews(),viewports:this.getViewports(J),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...J});return K.get(Q).timeEnd(),Y}_createCanvas($){let Q=$.canvas;if(typeof Q==="string")Q=document.getElementById(Q),W7(Q);if(!Q)Q=document.createElement("canvas"),Q.id=$.id||"deckgl-overlay",($.parent||document.body).appendChild(Q);return Object.assign(Q.style,$.style),Q}_setCanvasSize($){if(!this.canvas)return;let{width:Q,height:J}=$;if(Q||Q===0){let K=Number.isFinite(Q)?`${Q}px`:Q;this.canvas.style.width=K}if(J||J===0){let K=Number.isFinite(J)?`${J}px`:J;this.canvas.style.position=$.style?.position||"absolute",this.canvas.style.height=K}}_updateCanvasSize(){let{canvas:$}=this;if(!$)return;let Q=$.clientWidth??$.width,J=$.clientHeight??$.height;if(Q!==this.width||J!==this.height)this.width=Q,this.height=J,this.viewManager?.setProps({width:Q,height:J}),this.layerManager?.activateViewport(this.getViewports()[0]),this.props.onResize({width:Q,height:J})}_createAnimationLoop($,Q){let{gl:J,onError:K,useDevicePixels:Y}=Q;return new oE({device:$,useDevicePixels:Y,autoResizeDrawingBuffer:!J,autoResizeViewport:!1,onInitialize:(Z)=>this._setDevice(Z.device),onRender:this._onRenderFrame.bind(this),onError:K})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){let{views:$}=this.props,Q=Array.isArray($)?$:$?[$]:[new GT0({id:"default-view"})];if(Q.length&&this.props.controller)Q[0].props.controller=this.props.controller;return Q}_onContextLost(){let{onError:$}=this.props;if(this.animationLoop&&$)$(Error("WebGL context is lost"))}_pickAndCallback(){if(this.device?.type==="webgpu")return;let{_pickRequest:$}=this;if($.event){let{result:Q,emptyInfo:J}=this._pick("pickObject","pickObject Time",$);this.cursorState.isHovering=Q.length>0;let K=J,Y=!1;for(let Z of Q)K=Z,Y=Z.layer?.onHover(Z,$.event)||Y;if(!Y)this.props.onHover?.(K,$.event),this.widgetManager.onHover(K,$.event);$.event=null}}_updateCursor(){let $=this.props.parent||this.canvas;if($)$.style.cursor=this.props.getCursor(this.cursorState)}_setDevice($){if(this.device=$,!this.animationLoop)return;if(!this.canvas)this.canvas=this.device.canvasContext?.canvas;if(this.device.type==="webgl")this.device.setParametersWebGL({blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515});if(this.props.onDeviceInitialized(this.device),this.device.type==="webgl")this.props.onWebGLInitialized(this.device.gl);let Q=new hB;Q.play(),this.animationLoop.attachTimeline(Q),this.eventManager=new ME(this.props.parent||this.canvas,{touchAction:this.props.touchAction,recognizers:Object.keys(Sl).map((K)=>{let[Y,Z,q,X]=Sl[K],W=this.props.eventRecognizerOptions?.[K],F={...Z,...W,event:K};return{recognizer:new Y(F),recognizeWith:q,requestFailure:X}}),events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(let K in FO)this.eventManager.on(K,this._onEvent);this.viewManager=new ZL({timeline:Q,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});let J=this.viewManager.getViewports()[0];this.layerManager=new YL(this.device,{deck:this,stats:this.stats,viewport:J,timeline:Q}),this.effectManager=new NL({deck:this,device:this.device}),this.deckRenderer=new zL(this.device),this.deckPicker=new AL(this.device),this.widgetManager=new Nr({deck:this,parentElement:this.canvas?.parentElement}),this.widgetManager.addDefault(new VL),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers($,Q){let{device:J,gl:K}=this.layerManager.context;this.props.onBeforeRender({device:J,gl:K});let Y={target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",effects:this.effectManager.getEffects(),...Q};if(this.deckRenderer?.renderLayers(Y),Y.pass==="screen")this.widgetManager.onRedraw({viewports:Y.viewports,layers:Y.layers});this.props.onAfterRender({device:J,gl:K})}_onRenderFrame(){if(this._getFrameStats(),this._metricsCounter++%60===0){if(this._getMetrics(),this.stats.reset(),I1.table(4,this.metrics)(),this.props._onMetrics)this.props._onMetrics(this.metrics)}if(this._updateCanvasSize(),this._updateCursor(),this.layerManager.updateLayers(),this.device?.type!=="webgpu")this._pickAndCallback();if(this.redraw(),this.viewManager)this.viewManager.updateViewStates()}_onViewStateChange($){let Q=this.props.onViewStateChange($)||$.viewState;if(this.viewState){if(this.viewState={...this.viewState,[$.viewId]:Q},!this.props.viewState){if(this.viewManager)this.viewManager.setProps({viewState:this.viewState})}}}_onInteractionStateChange($){this.cursorState.isDragging=$.isDragging||!1,this.props.onInteractionStateChange($)}_getFrameStats(){let{stats:$}=this;$.get("frameRate").timeEnd(),$.get("frameRate").timeStart();let Q=this.animationLoop.stats;$.get("GPU Time").addTime(Q.get("GPU Time").lastTiming),$.get("CPU Time").addTime(Q.get("CPU Time").lastTiming)}_getMetrics(){let{metrics:$,stats:Q}=this;$.fps=Q.get("frameRate").getHz(),$.setPropsTime=Q.get("setProps Time").time,$.updateAttributesTime=Q.get("Update Attributes").time,$.framesRedrawn=Q.get("Redraw Count").count,$.pickTime=Q.get("pickObject Time").time+Q.get("pickMultipleObjects Time").time+Q.get("pickObjects Time").time,$.pickCount=Q.get("Pick Count").count,$.gpuTime=Q.get("GPU Time").time,$.cpuTime=Q.get("CPU Time").time,$.gpuTimePerFrame=Q.get("GPU Time").getAverageTime(),$.cpuTimePerFrame=Q.get("CPU Time").getAverageTime();let J=qB.stats.get("Memory Usage");$.bufferMemory=J.get("Buffer Memory").count,$.textureMemory=J.get("Texture Memory").count,$.renderbufferMemory=J.get("Renderbuffer Memory").count,$.gpuMemory=J.get("GPU Memory").count}}var xN1=({isDragging:$})=>$?"grabbing":"grab",eD0,rr;var $C0=h(()=>{WT0();FT0();OT0();wT0();DT0();ET0();hT0();vT0();p8();jB();TV0();v5();SL();G3();G3();wG();vl();MQ();eD0={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,parameters:{},parent:null,device:null,deviceProps:{},gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,widgets:[],onDeviceInitialized:wX,onWebGLInitialized:wX,onResize:wX,onViewStateChange:wX,onInteractionStateChange:wX,onBeforeRender:wX,onAfterRender:wX,onLoad:wX,onError:($)=>I1.error($.message,$.cause)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:xN1,getTooltip:null,debug:!1,drawPickingColors:!1};IL.defaultProps=eD0;IL.VERSION=wV0;rr=IL});function QC0($){switch($){case"float64":return Float64Array;case"uint8":case"unorm8":return Uint8ClampedArray;default:return uG($)}}function PO($,Q,J){let K=J==="webgpu"&&Q.type==="uint8"?"unorm8":Q.type;return{attribute:$,format:Q.size>1?`${K}x${Q.size}`:Q.type,byteOffset:Q.offset||0}}function TX($){return $.stride||$.size*$.bytesPerElement}function KC0($,Q){return $.type===Q.type&&$.size===Q.size&&TX($)===TX(Q)&&($.offset||0)===(Q.offset||0)}var JC0;var ir=h(()=>{v5();JC0=KE});function sr($,Q){if(Q.offset)I1.removed("shaderAttribute.offset","vertexOffset, elementOffset")();let J=TX($),K=Q.vertexOffset!==void 0?Q.vertexOffset:$.vertexOffset||0,Y=Q.elementOffset||0,Z=K*J+Y*$.bytesPerElement+($.offset||0);return{...Q,offset:Z,stride:J}}function cN1($,Q){let J=sr($,Q);return{high:J,low:{...J,offset:J.offset+$.size*4}}}class ML{constructor($,Q,J){this._buffer=null,this.device=$,this.id=Q.id||"",this.size=Q.size||1;let K=Q.logicalType||Q.type,Y=K==="float64",{defaultValue:Z}=Q;Z=Number.isFinite(Z)?[Z]:Z||Array(this.size).fill(0);let q;if(Y)q="float32";else if(!K&&Q.isIndexed)q="uint32";else q=K||"float32";let X=QC0(K||q);if(this.doublePrecision=Y,Y&&Q.fp64===!1)X=Float32Array;this.value=null,this.settings={...Q,defaultType:X,defaultValue:Z,logicalType:K,type:q,normalized:q.includes("norm"),size:this.size,bytesPerElement:X.BYTES_PER_ELEMENT},this.state={...J,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1}}get isConstant(){return this.state.constant}get buffer(){return this._buffer}get byteOffset(){let $=this.getAccessor();if($.vertexOffset)return $.vertexOffset*TX($);return 0}get numInstances(){return this.state.numInstances}set numInstances($){this.state.numInstances=$}delete(){if(this._buffer)this._buffer.delete(),this._buffer=null;yQ.release(this.state.allocatedValue)}getBuffer(){if(this.state.constant)return null;return this.state.externalBuffer||this._buffer}getValue($=this.id,Q=null){let J={};if(this.state.constant){let K=this.value;if(Q){let Y=sr(this.getAccessor(),Q),Z=Y.offset/K.BYTES_PER_ELEMENT,q=Y.size||this.size;J[$]=K.subarray(Z,Z+q)}else J[$]=K}else J[$]=this.getBuffer();if(this.doublePrecision)if(this.value instanceof Float64Array)J[`${$}64Low`]=J[$];else J[`${$}64Low`]=new Float32Array(this.size);return J}_getBufferLayout($=this.id,Q=null){let J=this.getAccessor(),K=[],Y={name:this.id,byteStride:TX(J),attributes:K};if(this.doublePrecision){let Z=cN1(J,Q||{});K.push(PO($,{...J,...Z.high},this.device.type),PO(`${$}64Low`,{...J,...Z.low},this.device.type))}else if(Q){let Z=sr(J,Q);K.push(PO($,{...J,...Z},this.device.type))}else K.push(PO($,J,this.device.type));return Y}setAccessor($){this.state.bufferAccessor=$}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let $=null;if(this.state.constant&&this.value){let Q=Array.from(this.value);$=[Q,Q]}else{let{value:Q,numInstances:J,size:K}=this,Y=J*K;if(Q&&Y&&Q.length>=Y){let Z=Array(K).fill(1/0),q=Array(K).fill(-1/0);for(let X=0;X<Y;)for(let W=0;W<K;W++){let F=Q[X++];if(F<Z[W])Z[W]=F;if(F>q[W])q[W]=F}$=[Z,q]}}return this.state.bounds=$,$}setData($){let{state:Q}=this,J;if(ArrayBuffer.isView($))J={value:$};else if($ instanceof u5)J={buffer:$};else J=$;let K={...this.settings,...J};if(ArrayBuffer.isView(J.value)){if(!J.type)if(this.doublePrecision&&J.value instanceof Float64Array)K.type="float32";else{let Z=JC0(J.value);K.type=K.normalized?Z.replace("int","norm"):Z}K.bytesPerElement=J.value.BYTES_PER_ELEMENT,K.stride=TX(K)}if(Q.bounds=null,J.constant){let Y=J.value;if(Y=this._normalizeValue(Y,[],0),this.settings.normalized)Y=this.normalizeConstant(Y);if(!(!Q.constant||!this._areValuesEqual(Y,this.value)))return!1;Q.externalBuffer=null,Q.constant=!0,this.value=ArrayBuffer.isView(Y)?Y:new Float32Array(Y)}else if(J.buffer){let Y=J.buffer;Q.externalBuffer=Y,Q.constant=!1,this.value=J.value||null}else if(J.value){this._checkExternalBuffer(J);let Y=J.value;Q.externalBuffer=null,Q.constant=!1,this.value=Y;let{buffer:Z}=this,q=TX(K),X=(K.vertexOffset||0)*q;if(this.doublePrecision&&Y instanceof Float64Array)Y=nE(Y,K);if(this.settings.isIndexed){let F=this.settings.defaultType;if(Y.constructor!==F)Y=new F(Y)}let W=Y.byteLength+X+q*2;if(!Z||Z.byteLength<W)Z=this._createBuffer(W);Z.write(Y,X)}return this.setAccessor(K),!0}updateSubBuffer($={}){this.state.bounds=null;let Q=this.value,{startOffset:J=0,endOffset:K}=$;this.buffer.write(this.doublePrecision&&Q instanceof Float64Array?nE(Q,{size:this.size,startIndex:J,endIndex:K}):Q.subarray(J,K),J*Q.BYTES_PER_ELEMENT+this.byteOffset)}allocate($,Q=!1){let{state:J}=this,K=J.allocatedValue,Y=yQ.allocate(K,$+1,{size:this.size,type:this.settings.defaultType,copy:Q});this.value=Y;let{byteOffset:Z}=this,{buffer:q}=this;if(!q||q.byteLength<Y.byteLength+Z){if(q=this._createBuffer(Y.byteLength+Z),Q&&K)q.write(K instanceof Float64Array?nE(K,this):K,Z)}return J.allocatedValue=Y,J.constant=!1,J.externalBuffer=null,this.setAccessor(this.settings),!0}_checkExternalBuffer($){let{value:Q}=$;if(!ArrayBuffer.isView(Q))throw Error(`Attribute ${this.id} value is not TypedArray`);let J=this.settings.defaultType,K=!1;if(this.doublePrecision)K=Q.BYTES_PER_ELEMENT<4;if(K)throw Error(`Attribute ${this.id} does not support ${Q.constructor.name}`);if(!(Q instanceof J)&&this.settings.normalized&&!("normalized"in $))I1.warn(`Attribute ${this.id} is normalized`)()}normalizeConstant($){switch(this.settings.type){case"snorm8":return new Float32Array($).map((Q)=>(Q+128)/255*2-1);case"snorm16":return new Float32Array($).map((Q)=>(Q+32768)/65535*2-1);case"unorm8":return new Float32Array($).map((Q)=>Q/255);case"unorm16":return new Float32Array($).map((Q)=>Q/65535);default:return $}}_normalizeValue($,Q,J){let{defaultValue:K,size:Y}=this.settings;if(Number.isFinite($))return Q[J]=$,Q;if(!$){let Z=Y;while(--Z>=0)Q[J+Z]=K[Z];return Q}switch(Y){case 4:Q[J+3]=Number.isFinite($[3])?$[3]:K[3];case 3:Q[J+2]=Number.isFinite($[2])?$[2]:K[2];case 2:Q[J+1]=Number.isFinite($[1])?$[1]:K[1];case 1:Q[J+0]=Number.isFinite($[0])?$[0]:K[0];break;default:let Z=Y;while(--Z>=0)Q[J+Z]=Number.isFinite($[Z])?$[Z]:K[Z]}return Q}_areValuesEqual($,Q){if(!$||!Q)return!1;let{size:J}=this;for(let K=0;K<J;K++)if($[K]!==Q[K])return!1;return!0}_createBuffer($){if(this._buffer)this._buffer.destroy();let{isIndexed:Q,type:J}=this.settings;return this._buffer=this.device.createBuffer({...this._buffer?.props,id:this.id,usage:(Q?u5.INDEX:u5.VERTEX)|u5.COPY_DST,indexType:Q?J:void 0,byteLength:$}),this._buffer}}var YC0=h(()=>{v5();ir();jB();lE();p8()});function WZ($,Q=0,J=1/0){let K=ZC0,Y={index:-1,data:$,target:[]};if(!$)K=ZC0;else if(typeof $[Symbol.iterator]==="function")K=$;else if($.length>0)qC0.length=$.length,K=qC0;if(Q>0||Number.isFinite(J))K=(Array.isArray(K)?K:Array.from(K)).slice(Q,J),Y.index=Q-1;return{iterable:K,objectInfo:Y}}function bL($){return $&&$[Symbol.asyncIterator]}function gL($,Q){let{size:J,stride:K,offset:Y,startIndices:Z,nested:q}=Q,X=$.BYTES_PER_ELEMENT,W=K?K/X:J,F=Y?Y/X:0,H=Math.floor(($.length-F)/W);return(B,{index:z,target:A})=>{if(!Z){let T=z*W+F;for(let D=0;D<J;D++)A[D]=$[T+D];return A}let R=Z[z],G=Z[z+1]||H,O;if(q){O=Array(G-R);for(let T=R;T<G;T++){let D=T*W+F;A=Array(J);for(let P=0;P<J;P++)A[P]=$[D+P];O[T-R]=A}}else if(W===J)O=$.subarray(R*J+F,G*J+F);else{O=new $.constructor((G-R)*J);let T=0;for(let D=R;D<G;D++){let P=D*W+F;for(let j=0;j<J;j++)O[T++]=$[P+j]}}return O}}var ZC0,qC0;var xB=h(()=>{ZC0=[],qC0=[]});function WC0($,Q){if($===kO)return $;if(Q[0]<0)Q[0]=0;if(Q[0]>=Q[1])return $;let J=[],K=$.length,Y=0;for(let Z=0;Z<K;Z++){let q=$[Z];if(q[1]<Q[0])J.push(q),Y=Z+1;else if(q[0]>Q[1])J.push(q);else Q=[Math.min(q[0],Q[0]),Math.max(q[1],Q[1])]}return J.splice(Y,0,Q),J}var XC0,kO;var FC0=h(()=>{XC0=[],kO=[[0,1/0]]});function yL($,Q){if(!$)return null;if(Number.isFinite($))$={type:"interpolation",duration:$};let J=$.type||"interpolation";return{...mN1[J],...Q,...$,type:J}}var mN1;var or=h(()=>{mN1={interpolation:{duration:0,easing:($)=>$},spring:{stiffness:0.05,damping:0.5}}});var cB;var ar=h(()=>{YC0();xB();FC0();ir();or();cB=class cB extends ML{constructor($,Q){super($,Q,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,layoutChanged:!1,updateRanges:kO});this.constant=!1,this.settings.update=Q.update||(Q.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices($){this.state.startIndices=$}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:$=!1}={}){let Q=this.state.needsRedraw;return this.state.needsRedraw=Q&&!$,Q}layoutChanged(){return this.state.layoutChanged}setAccessor($){var Q;(Q=this.state).layoutChanged||(Q.layoutChanged=!KC0($,this.getAccessor())),super.setAccessor($)}getUpdateTriggers(){let{accessor:$}=this.settings;return[this.id].concat(typeof $!=="function"&&$||[])}supportsTransition(){return Boolean(this.settings.transition)}getTransitionSetting($){if(!$||!this.supportsTransition())return null;let{accessor:Q}=this.settings,J=this.settings.transition,K=Array.isArray(Q)?$[Q.find((Y)=>$[Y])]:$[Q];return yL(K,J)}setNeedsUpdate($=this.id,Q){if(this.state.needsUpdate=this.state.needsUpdate||$,this.setNeedsRedraw($),Q){let{startRow:J=0,endRow:K=1/0}=Q;this.state.updateRanges=WC0(this.state.updateRanges,[J,K])}else this.state.updateRanges=kO}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=XC0}setNeedsRedraw($=this.id){this.state.needsRedraw=this.state.needsRedraw||$}allocate($){let{state:Q,settings:J}=this;if(J.noAlloc)return!1;if(J.update)return super.allocate($,Q.updateRanges!==kO),!0;return!1}updateBuffer({numInstances:$,data:Q,props:J,context:K}){if(!this.needsUpdate())return!1;let{state:{updateRanges:Y},settings:{update:Z,noAlloc:q}}=this,X=!0;if(Z){for(let[W,F]of Y)Z.call(K,this,{data:Q,startRow:W,endRow:F,props:J,numInstances:$});if(!this.value);else if(this.constant||!this.buffer||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(let[W,F]of Y){let H=Number.isFinite(W)?this.getVertexOffset(W):0,B=Number.isFinite(F)?this.getVertexOffset(F):q||!Number.isFinite($)?this.value.length:$*this.size;super.updateSubBuffer({startOffset:H,endOffset:B})}this._checkAttributeArray()}else X=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),X}setConstantValue($){if(this.device.type==="webgpu"||$===void 0||typeof $==="function")return!1;if(this.setData({constant:!0,value:$}))this.setNeedsRedraw();return this.clearNeedsUpdate(),!0}setExternalBuffer($){let{state:Q}=this;if(!$)return Q.lastExternalBuffer=null,!1;if(this.clearNeedsUpdate(),Q.lastExternalBuffer===$)return!0;return Q.lastExternalBuffer=$,this.setNeedsRedraw(),this.setData($),!0}setBinaryValue($,Q=null){let{state:J,settings:K}=this;if(!$)return J.binaryValue=null,J.binaryAccessor=null,!1;if(K.noAlloc)return!1;if(J.binaryValue===$)return this.clearNeedsUpdate(),!0;if(J.binaryValue=$,this.setNeedsRedraw(),K.transform||Q!==this.startIndices){if(ArrayBuffer.isView($))$={value:$};let Z=$;W7(ArrayBuffer.isView(Z.value),`invalid ${K.accessor}`);let q=Boolean(Z.size)&&Z.size!==this.size;return J.binaryAccessor=gL(Z.value,{size:Z.size||this.size,stride:Z.stride,offset:Z.offset,startIndices:Q,nested:q}),!1}return this.clearNeedsUpdate(),this.setData($),!0}getVertexOffset($){let{startIndices:Q}=this;return(Q?$<Q.length?Q[$]:this.numInstances:$)*this.size}getValue(){let $=this.settings.shaderAttributes,Q=super.getValue();if(!$)return Q;for(let J in $)Object.assign(Q,super.getValue(J,$[J]));return Q}getBufferLayout($){this.state.layoutChanged=!1;let Q=this.settings.shaderAttributes,J=super._getBufferLayout(),{stepMode:K}=this.settings;if(K==="dynamic")J.stepMode=$?$.isInstanced?"instance":"vertex":"instance";else J.stepMode=K??"vertex";if(!Q)return J;for(let Y in Q){let Z=super._getBufferLayout(Y,Q[Y]);J.attributes.push(...Z.attributes)}return J}_autoUpdater($,{data:Q,startRow:J,endRow:K,props:Y,numInstances:Z}){if($.constant){if(this.context.device.type!=="webgpu")return}let{settings:q,state:X,value:W,size:F,startIndices:H}=$,{accessor:B,transform:z}=q,A=X.binaryAccessor||(typeof B==="function"?B:Y[B]);if(typeof A!=="function")A=()=>A;W7(typeof A==="function",`accessor "${B}" is not a function`);let R=$.getVertexOffset(J),{iterable:G,objectInfo:O}=WZ(Q,J,K);for(let T of G){O.index++;let D=A(T,O);if(z)D=z.call(this,D);if(H){let P=(O.index<H.length-1?H[O.index+1]:Z)-H[O.index];if(D&&Array.isArray(D[0])){let j=R;for(let E of D)$._normalizeValue(E,W,j),j+=F}else if(D&&D.length>F)W.set(D,R);else $._normalizeValue(D,O.target,0),ZT0({target:W,source:O.target,start:R,count:P});R+=P*F}else $._normalizeValue(D,W,R),R+=F}}_validateAttributeUpdaters(){let{settings:$}=this;if(!($.noAlloc||typeof $.update==="function"))throw Error(`Attribute ${this.id} missing update or accessor`)}_checkAttributeArray(){let{value:$}=this,Q=Math.min(4,this.size);if($&&$.length>=Q){let J=!0;switch(Q){case 4:J=J&&Number.isFinite($[3]);case 3:J=J&&Number.isFinite($[2]);case 2:J=J&&Number.isFinite($[1]);case 1:J=J&&Number.isFinite($[0]);break;default:J=!1}if(!J)throw Error(`Illegal attribute generated for ${this.id}`)}}}});function tr($){let{source:Q,target:J,start:K=0,size:Y,getData:Z}=$,q=$.end||J.length,X=Q.length,W=q-K;if(X>W){J.set(Q.subarray(0,W),K);return}if(J.set(Q,K),!Z)return;let F=X;while(F<W){let H=Z(F,Q);for(let B=0;B<Y;B++)J[K+F]=H[B]||0,F++}}function UC0({source:$,target:Q,size:J,getData:K,sourceStartIndices:Y,targetStartIndices:Z}){if(!Y||!Z)return tr({source:$,target:Q,size:J,getData:K}),Q;let q=0,X=0,W=K&&((H,B)=>K(H+X,B)),F=Math.min(Y.length,Z.length);for(let H=1;H<F;H++){let B=Y[H]*J,z=Z[H]*J;tr({source:$.subarray(q,B),target:Q,start:X,end:z,size:J,getData:W}),q=B,X=z}if(X<Q.length)tr({source:[],target:Q,start:X,size:J,getData:W});return Q}function HC0($){let{device:Q,settings:J,value:K}=$,Y=new cB(Q,J);return Y.setData({value:K instanceof Float64Array?new Float64Array(0):new Float32Array(0),normalized:J.normalized}),Y}function xL($){switch($){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw Error(`No defined attribute type for size "${$}"`)}}function cL($){switch($){case 1:return"float32";case 2:return"float32x2";case 3:return"float32x3";case 4:return"float32x4";default:throw Error("invalid type size")}}function uL($){$.push($.shift())}function NC0($,Q){let{doublePrecision:J,settings:K,value:Y,size:Z}=$,q=J&&Y instanceof Float64Array?2:1,X=0,{shaderAttributes:W}=$.settings;if(W)for(let F of Object.values(W))X=Math.max(X,F.vertexOffset??0);return(K.noAlloc?Y.length:(Q+X)*Z)*q}function mL({device:$,source:Q,target:J}){if(!J||J.byteLength<Q.byteLength)J?.destroy(),J=$.createBuffer({byteLength:Q.byteLength,usage:Q.usage});return J}function pL({device:$,buffer:Q,attribute:J,fromLength:K,toLength:Y,fromStartIndices:Z,getData:q=(X)=>X}){let X=J.doublePrecision&&J.value instanceof Float64Array?2:1,W=J.size*X,F=J.byteOffset,H=J.settings.bytesPerElement<4?F/J.settings.bytesPerElement*4:F,B=J.startIndices,z=Z&&B,A=J.isConstant;if(!z&&Q&&K>=Y)return Q;let R=J.value instanceof Float64Array?Float32Array:J.value.constructor,G=A?J.value:new R(J.getBuffer().readSyncWebGL(F,Y*R.BYTES_PER_ELEMENT).buffer);if(J.settings.normalized&&!A){let P=q;q=(j,E)=>J.normalizeConstant(P(j,E))}let O=A?(P,j)=>q(G,j):(P,j)=>q(G.subarray(P+F,P+F+W),j),T=Q?new Float32Array(Q.readSyncWebGL(H,K*4).buffer):new Float32Array(0),D=new Float32Array(Y);if(UC0({source:T,target:D,sourceStartIndices:Z,targetStartIndices:B,size:W,getData:O}),!Q||Q.byteLength<D.byteLength+H)Q?.destroy(),Q=$.createBuffer({byteLength:D.byteLength+H,usage:35050});return Q.write(D,H),Q}var dL=h(()=>{ar()});class jO{constructor({device:$,attribute:Q,timeline:J}){this.buffers=[],this.currentLength=0,this.device=$,this.transition=new zK(J),this.attribute=Q,this.attributeInTransition=HC0(Q),this.currentStartIndices=Q.startIndices}get inProgress(){return this.transition.inProgress}start($,Q,J=1/0){this.settings=$,this.currentStartIndices=this.attribute.startIndices,this.currentLength=NC0(this.attribute,Q),this.transition.start({...$,duration:J})}update(){let $=this.transition.update();if($)this.onUpdate();return $}setBuffer($){this.attributeInTransition.setData({buffer:$,normalized:this.attribute.settings.normalized,value:this.attributeInTransition.value})}cancel(){this.transition.cancel()}delete(){this.cancel();for(let $ of this.buffers)$.destroy();this.buffers.length=0}}var er=h(()=>{dL()});function zC0($){return $.doublePrecision&&$.value instanceof Float64Array}function lN1($,Q){let J=Q.size,K=xL(J),Y=cL(J),Z=Q.getBufferLayout();if(zC0(Q))return new $Z($,{vs:nN1,bufferLayout:[{name:"aFrom",byteStride:8*J,attributes:[{attribute:"aFrom",format:Y,byteOffset:0},{attribute:"aFrom64Low",format:Y,byteOffset:4*J}]},{name:"aTo",byteStride:8*J,attributes:[{attribute:"aTo",format:Y,byteOffset:0},{attribute:"aTo64Low",format:Y,byteOffset:4*J}]}],modules:[ql,BC0],defines:{ATTRIBUTE_TYPE:K,ATTRIBUTE_SIZE:J},moduleSettings:{},varyings:["vCurrent","vCurrent64Low"],bufferMode:35980,disableWarnings:!0});return new $Z($,{vs:dN1,bufferLayout:[{name:"aFrom",format:Y},{name:"aTo",format:Z.attributes[0].format}],modules:[BC0],defines:{ATTRIBUTE_TYPE:K},varyings:["vCurrent"],disableWarnings:!0})}var nL,pN1=`uniform interpolationUniforms {
  float time;
} interpolation;
`,BC0,dN1=`#version 300 es
#define SHADER_NAME interpolation-transition-vertex-shader

in ATTRIBUTE_TYPE aFrom;
in ATTRIBUTE_TYPE aTo;
out ATTRIBUTE_TYPE vCurrent;

void main(void) {
  vCurrent = mix(aFrom, aTo, interpolation.time);
  gl_Position = vec4(0.0);
}
`,nN1=`#version 300 es
#define SHADER_NAME interpolation-transition-vertex-shader

in ATTRIBUTE_TYPE aFrom;
in ATTRIBUTE_TYPE aFrom64Low;
in ATTRIBUTE_TYPE aTo;
in ATTRIBUTE_TYPE aTo64Low;
out ATTRIBUTE_TYPE vCurrent;
out ATTRIBUTE_TYPE vCurrent64Low;

vec2 mix_fp64(vec2 a, vec2 b, float x) {
  vec2 range = sub_fp64(b, a);
  return sum_fp64(a, mul_fp64(range, vec2(x, 0.0)));
}

void main(void) {
  for (int i=0; i<ATTRIBUTE_SIZE; i++) {
    vec2 value = mix_fp64(vec2(aFrom[i], aFrom64Low[i]), vec2(aTo[i], aTo64Low[i]), interpolation.time);
    vCurrent[i] = value.x;
    vCurrent64Low[i] = value.y;
  }
  gl_Position = vec4(0.0);
}
`;var AC0=h(()=>{G3();aY();dL();er();nL=class nL extends jO{constructor({device:$,attribute:Q,timeline:J}){super({device:$,attribute:Q,timeline:J});this.type="interpolation",this.transform=lN1($,Q)}start($,Q){let J=this.currentLength,K=this.currentStartIndices;if(super.start($,Q,$.duration),$.duration<=0){this.transition.cancel();return}let{buffers:Y,attribute:Z}=this;uL(Y),Y[0]=pL({device:this.device,buffer:Y[0],attribute:Z,fromLength:J,toLength:this.currentLength,fromStartIndices:K,getData:$.enter}),Y[1]=mL({device:this.device,source:Y[0],target:Y[1]}),this.setBuffer(Y[1]);let{transform:q}=this,X=q.model,W=Math.floor(this.currentLength/Z.size);if(zC0(Z))W/=2;if(X.setVertexCount(W),Z.isConstant)X.setAttributes({aFrom:Y[0]}),X.setConstantAttributes({aTo:Z.value});else X.setAttributes({aFrom:Y[0],aTo:Z.getBuffer()});q.transformFeedback.setBuffers({vCurrent:Y[1]})}onUpdate(){let{duration:$,easing:Q}=this.settings,{time:J}=this.transition,K=J/$;if(Q)K=Q(K);let{model:Y}=this.transform,Z={time:K};Y.shaderInputs.setProps({interpolation:Z}),this.transform.run({discard:!0})}delete(){super.delete(),this.transform.destroy()}};BC0={name:"interpolation",vs:pN1,uniformTypes:{time:"f32"}}});function aN1($,Q){let J=xL(Q.size),K=cL(Q.size);return new $Z($,{vs:sN1,fs:oN1,bufferLayout:[{name:"aPrev",format:K},{name:"aCur",format:K},{name:"aTo",format:Q.getBufferLayout().attributes[0].format}],varyings:["vNext"],modules:[iN1],defines:{ATTRIBUTE_TYPE:J},parameters:{depthCompare:"always",blendColorOperation:"max",blendColorSrcFactor:"one",blendColorDstFactor:"one",blendAlphaOperation:"max",blendAlphaSrcFactor:"one",blendAlphaDstFactor:"one"}})}function tN1($){return $.createTexture({data:new Uint8Array(4),format:"rgba8unorm",mipmaps:!1,width:1,height:1})}function eN1($,Q){return $.createFramebuffer({id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,colorAttachments:[Q]})}var lL,rN1=`uniform springUniforms {
  float damping;
  float stiffness;
} spring;
`,iN1,sN1=`#version 300 es
#define SHADER_NAME spring-transition-vertex-shader

#define EPSILON 0.00001

in ATTRIBUTE_TYPE aPrev;
in ATTRIBUTE_TYPE aCur;
in ATTRIBUTE_TYPE aTo;
out ATTRIBUTE_TYPE vNext;
out float vIsTransitioningFlag;

ATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {
  ATTRIBUTE_TYPE velocity = cur - prev;
  ATTRIBUTE_TYPE delta = dest - cur;
  ATTRIBUTE_TYPE force = delta * spring.stiffness;
  ATTRIBUTE_TYPE resistance = velocity * spring.damping;
  return force - resistance + velocity + cur;
}

void main(void) {
  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;
  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;

  vNext = getNextValue(aCur, aPrev, aTo);
  gl_Position = vec4(0, 0, 0, 1);
  gl_PointSize = 100.0;
}
`,oN1=`#version 300 es
#define SHADER_NAME spring-transition-is-transitioning-fragment-shader

in float vIsTransitioningFlag;

out vec4 fragColor;

void main(void) {
  if (vIsTransitioningFlag == 0.0) {
    discard;
  }
  fragColor = vec4(1.0);
}`;var VC0=h(()=>{G3();dL();er();lL=class lL extends jO{constructor({device:$,attribute:Q,timeline:J}){super({device:$,attribute:Q,timeline:J});this.type="spring",this.texture=tN1($),this.framebuffer=eN1($,this.texture),this.transform=aN1($,Q)}start($,Q){let J=this.currentLength,K=this.currentStartIndices;super.start($,Q);let{buffers:Y,attribute:Z}=this;for(let X=0;X<2;X++)Y[X]=pL({device:this.device,buffer:Y[X],attribute:Z,fromLength:J,toLength:this.currentLength,fromStartIndices:K,getData:$.enter});Y[2]=mL({device:this.device,source:Y[0],target:Y[2]}),this.setBuffer(Y[1]);let{model:q}=this.transform;if(q.setVertexCount(Math.floor(this.currentLength/Z.size)),Z.isConstant)q.setConstantAttributes({aTo:Z.value});else q.setAttributes({aTo:Z.getBuffer()})}onUpdate(){let{buffers:$,transform:Q,framebuffer:J,transition:K}=this,Y=this.settings;Q.model.setAttributes({aPrev:$[0],aCur:$[1]}),Q.transformFeedback.setBuffers({vNext:$[2]});let Z={stiffness:Y.stiffness,damping:Y.damping};if(Q.model.shaderInputs.setProps({spring:Z}),Q.run({framebuffer:J,discard:!1,parameters:{viewport:[0,0,1,1]},clearColor:[0,0,0,0]}),uL($),this.setBuffer($[1]),!(this.device.readPixelsToArrayWebGL(J)[0]>0))K.end()}delete(){super.delete(),this.transform.destroy(),this.texture.destroy(),this.framebuffer.destroy()}};iN1={name:"spring",vs:rN1,uniformTypes:{damping:"f32",stiffness:"f32"}}});class rL{constructor($,{id:Q,timeline:J}){if(!$)throw Error("AttributeTransitionManager is constructed without device");this.id=Q,this.device=$,this.timeline=J,this.transitions={},this.needsRedraw=!1,this.numInstances=1}finalize(){for(let $ in this.transitions)this._removeTransition($)}update({attributes:$,transitions:Q,numInstances:J}){this.numInstances=J||1;for(let K in $){let Y=$[K],Z=Y.getTransitionSetting(Q);if(!Z)continue;this._updateAttribute(K,Y,Z)}for(let K in this.transitions){let Y=$[K];if(!Y||!Y.getTransitionSetting(Q))this._removeTransition(K)}}hasAttribute($){let Q=this.transitions[$];return Q&&Q.inProgress}getAttributes(){let $={};for(let Q in this.transitions){let J=this.transitions[Q];if(J.inProgress)$[Q]=J.attributeInTransition}return $}run(){if(this.numInstances===0)return!1;for(let Q in this.transitions)if(this.transitions[Q].update())this.needsRedraw=!0;let $=this.needsRedraw;return this.needsRedraw=!1,$}_removeTransition($){this.transitions[$].delete(),delete this.transitions[$]}_updateAttribute($,Q,J){let K=this.transitions[$],Y=!K||K.type!==J.type;if(Y){if(K)this._removeTransition($);let Z=$B1[J.type];if(Z)this.transitions[$]=new Z({attribute:Q,timeline:this.timeline,device:this.device});else I1.error(`unsupported transition type '${J.type}'`)(),Y=!1}if(Y||Q.needsRedraw())this.needsRedraw=!0,this.transitions[$].start(J,this.numInstances)}}var $B1;var RC0=h(()=>{AC0();VC0();p8();$B1={interpolation:nL,spring:lL}});class iL{constructor($,{id:Q="attribute-manager",stats:J,timeline:K}={}){this.mergeBoundsMemoized=NK(bw0),this.id=Q,this.device=$,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=J,this.attributeTransitionManager=new rL($,{id:`${Q}-transitions`,timeline:K}),Object.seal(this)}finalize(){for(let $ in this.attributes)this.attributes[$].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw($={clearRedrawFlags:!1}){let Q=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!$.clearRedrawFlags,Q&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add($){this._add($)}addInstanced($){this._add($,{stepMode:"instance"})}remove($){for(let Q of $)if(this.attributes[Q]!==void 0)this.attributes[Q].delete(),delete this.attributes[Q]}invalidate($,Q){let J=this._invalidateTrigger($,Q);h7(GC0,this,$,J)}invalidateAll($){for(let Q in this.attributes)this.attributes[Q].setNeedsUpdate(Q,$);h7(GC0,this,"all")}update({data:$,numInstances:Q,startIndices:J=null,transitions:K,props:Y={},buffers:Z={},context:q={}}){let X=!1;if(h7(QB1,this),this.stats)this.stats.get("Update Attributes").timeStart();for(let W in this.attributes){let F=this.attributes[W],H=F.settings.accessor;if(F.startIndices=J,F.numInstances=Q,Y[W])I1.removed(`props.${W}`,`data.attributes.${W}`)();if(F.setExternalBuffer(Z[W]));else if(F.setBinaryValue(typeof H==="string"?Z[H]:void 0,$.startIndices));else if(typeof H==="string"&&!Z[H]&&F.setConstantValue(Y[H]));else if(F.needsUpdate())X=!0,this._updateAttribute({attribute:F,numInstances:Q,data:$,props:Y,context:q});this.needsRedraw=this.needsRedraw||F.needsRedraw()}if(X)h7(JB1,this,Q);if(this.stats)this.stats.get("Update Attributes").timeEnd();this.attributeTransitionManager.update({attributes:this.attributes,numInstances:Q,transitions:K})}updateTransition(){let{attributeTransitionManager:$}=this,Q=$.run();return this.needsRedraw=this.needsRedraw||Q,Q}getAttributes(){return{...this.attributes,...this.attributeTransitionManager.getAttributes()}}getBounds($){let Q=$.map((J)=>this.attributes[J]?.getBounds());return this.mergeBoundsMemoized(Q)}getChangedAttributes($={clearChangedFlags:!1}){let{attributes:Q,attributeTransitionManager:J}=this,K={...J.getAttributes()};for(let Y in Q){let Z=Q[Y];if(Z.needsRedraw($)&&!J.hasAttribute(Y))K[Y]=Z}return K}getBufferLayouts($){return Object.values(this.getAttributes()).map((Q)=>Q.getBufferLayout($))}_add($,Q){for(let J in $){let K=$[J],Y={...K,id:J,size:K.isIndexed&&1||K.size||1,...Q};this.attributes[J]=new cB(this.device,Y)}this._mapUpdateTriggersToAttributes()}_mapUpdateTriggersToAttributes(){let $={};for(let Q in this.attributes)this.attributes[Q].getUpdateTriggers().forEach((K)=>{if(!$[K])$[K]=[];$[K].push(Q)});this.updateTriggers=$}_invalidateTrigger($,Q){let{attributes:J,updateTriggers:K}=this,Y=K[$];if(Y)Y.forEach((Z)=>{let q=J[Z];if(q)q.setNeedsUpdate(q.id,Q)});return Y}_updateAttribute($){let{attribute:Q,numInstances:J}=$;if(h7(KB1,Q),Q.constant){Q.setConstantValue(Q.value);return}if(Q.allocate(J))h7(YB1,Q,J);if(Q.updateBuffer($))this.needsRedraw=!0,h7(ZB1,Q,J)}}var GC0="attributeManager.invalidate",QB1="attributeManager.updateStart",JB1="attributeManager.updateEnd",KB1="attribute.updateStart",YB1="attribute.allocate",ZB1="attribute.updateEnd";var OC0=h(()=>{ar();p8();lE();QF();RC0()});var sL;var wC0=h(()=>{z4();sL=class sL extends zK{get value(){return this._value}_onUpdate(){let{time:$,settings:{fromValue:Q,toValue:J,duration:K,easing:Y}}=this,Z=Y($/K);this._value=XF(Q,J,Z)}}});function DC0($,Q,J,K,Y){let Z=Q-$,X=(J-Q)*Y,W=-Z*K;return X+W+Z+Q}function qB1($,Q,J,K,Y){if(Array.isArray(J)){let Z=[];for(let q=0;q<J.length;q++)Z[q]=DC0($[q],Q[q],J[q],K,Y);return Z}return DC0($,Q,J,K,Y)}function CC0($,Q){if(Array.isArray($)){let J=0;for(let K=0;K<$.length;K++){let Y=$[K]-Q[K];J+=Y*Y}return Math.sqrt(J)}return Math.abs($-Q)}var TC0=0.00001,oL;var PC0=h(()=>{oL=class oL extends zK{get value(){return this._currValue}_onUpdate(){let{fromValue:$,toValue:Q,damping:J,stiffness:K}=this.settings,{_prevValue:Y=$,_currValue:Z=$}=this,q=qB1(Y,Z,Q,J,K),X=CC0(q,Q),W=CC0(q,Z);if(X<TC0&&W<TC0)q=Q,this.end();this._prevValue=Z,this._currValue=q}}});class aL{constructor($){this.transitions=new Map,this.timeline=$}get active(){return this.transitions.size>0}add($,Q,J,K){let{transitions:Y}=this;if(Y.has($)){let X=Y.get($),{value:W=X.settings.fromValue}=X;Q=W,this.remove($)}if(K=yL(K),!K)return;let Z=XB1[K.type];if(!Z){I1.error(`unsupported transition type '${K.type}'`)();return}let q=new Z(this.timeline);q.start({...K,fromValue:Q,toValue:J}),Y.set($,q)}remove($){let{transitions:Q}=this;if(Q.has($))Q.get($).cancel(),Q.delete($)}update(){let $={};for(let[Q,J]of this.transitions)if(J.update(),$[Q]=J.value,!J.inProgress)this.remove(Q);return $}clear(){for(let $ of this.transitions.keys())this.remove($)}}var XB1;var kC0=h(()=>{or();wC0();PC0();p8();XB1={interpolation:sL,spring:oL}});function EC0($){let Q=$[O3];for(let J in Q){let K=Q[J],{validate:Y}=K;if(Y&&!Y($[J],K))throw Error(`Invalid prop ${J}: ${$[J]}`)}}function LC0($,Q){let J=hC0({newProps:$,oldProps:Q,propTypes:$[O3],ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),K=FB1($,Q),Y=!1;if(!K)Y=UB1($,Q);return{dataChanged:K,propsChanged:J,updateTriggersChanged:Y,extensionsChanged:HB1($,Q),transitionsChanged:WB1($,Q)}}function WB1($,Q){if(!$.transitions)return!1;let J={},K=$[O3],Y=!1;for(let Z in $.transitions){let q=K[Z],X=q&&q.type;if((X==="number"||X==="color"||X==="array")&&$i($[Z],Q[Z],q))J[Z]=!0,Y=!0}return Y?J:!1}function hC0({newProps:$,oldProps:Q,ignoreProps:J={},propTypes:K={},triggerName:Y="props"}){if(Q===$)return!1;if(typeof $!=="object"||$===null)return`${Y} changed shallowly`;if(typeof Q!=="object"||Q===null)return`${Y} changed shallowly`;for(let Z of Object.keys($))if(!(Z in J)){if(!(Z in Q))return`${Y}.${Z} added`;let q=$i($[Z],Q[Z],K[Z]);if(q)return`${Y}.${Z} ${q}`}for(let Z of Object.keys(Q))if(!(Z in J)){if(!(Z in $))return`${Y}.${Z} dropped`;if(!Object.hasOwnProperty.call($,Z)){let q=$i($[Z],Q[Z],K[Z]);if(q)return`${Y}.${Z} ${q}`}}return!1}function $i($,Q,J){let K=J&&J.equal;if(K&&!K($,Q,J))return"changed deeply";if(!K){if(K=$&&Q&&$.equals,K&&!K.call($,Q))return"changed deeply"}if(!K&&Q!==$)return"changed shallowly";return null}function FB1($,Q){if(Q===null)return"oldProps is null, initial diff";let J=!1,{dataComparator:K,_dataDiff:Y}=$;if(K){if(!K($.data,Q.data))J="Data comparator detected a change"}else if($.data!==Q.data)J="A new data container was supplied";if(J&&Y)J=Y($.data,Q.data)||J;return J}function UB1($,Q){if(Q===null)return{all:!0};if("all"in $.updateTriggers){if(jC0($,Q,"all"))return{all:!0}}let J={},K=!1;for(let Y in $.updateTriggers)if(Y!=="all"){if(jC0($,Q,Y))J[Y]=!0,K=!0}return K?J:!1}function HB1($,Q){if(Q===null)return!0;let J=Q.extensions,{extensions:K}=$;if(K===J)return!1;if(!J||!K)return!0;if(K.length!==J.length)return!0;for(let Y=0;Y<K.length;Y++)if(!K[Y].equals(J[Y]))return!0;return!1}function jC0($,Q,J){let K=$.updateTriggers[J];K=K===void 0||K===null?{}:K;let Y=Q.updateTriggers[J];return Y=Y===void 0||Y===null?{}:Y,hC0({oldProps:Y,newProps:K,triggerName:J})}var vC0=h(()=>{GX()});function SC0($){if(!BB1($))throw Error("count(): argument not an object");if(typeof $.count==="function")return $.count();if(Number.isFinite($.size))return $.size;if(Number.isFinite($.length))return $.length;if(NB1($))return Object.keys($).length;throw Error("count(): argument not a container")}function NB1($){return $!==null&&typeof $==="object"&&$.constructor===Object}function BB1($){return $!==null&&typeof $==="object"}function Qi($,Q){if(!Q)return $;let J={...$,...Q};if("defines"in Q)J.defines={...$.defines,...Q.defines};if("modules"in Q){if(J.modules=($.modules||[]).concat(Q.modules),Q.modules.some((K)=>K.name==="project64")){let K=J.modules.findIndex((Y)=>Y.name==="project32");if(K>=0)J.modules.splice(K,1)}}if("inject"in Q)if(!$.inject)J.inject=Q.inject;else{let K={...$.inject};for(let Y in Q.inject)K[Y]=(K[Y]||"")+Q.inject[Y];J.inject=K}return J}function _C0($,Q,J,K){if(J instanceof i5)return J;else if(J.constructor&&J.constructor.name!=="Object")J={data:J};let Y=null;if(J.compressed)Y={minFilter:"linear",mipmapFilter:J.data.length>1?"nearest":"linear"};let Z=Q.createTexture({...J,sampler:{...zB1,...Y,...K},mipmaps:!0});return Ji[Z.id]=$,Z}function fC0($,Q){if(!Q||!(Q instanceof i5))return;if(Ji[Q.id]===$)Q.delete(),delete Ji[Q.id]}var zB1,Ji;var IC0=h(()=>{v5();zB1={minFilter:"linear",mipmapFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},Ji={}});function MC0($){let Q={},J={},K={};for(let[Y,Z]of Object.entries($)){let q=Z?.deprecatedFor;if(q)K[Y]=Array.isArray(q)?q:[q];else{let X=VB1(Y,Z);Q[Y]=X,J[Y]=X.value}}return{propTypes:Q,defaultProps:J,deprecatedProps:K}}function VB1($,Q){switch(tL(Q)){case"object":return EO($,Q);case"array":return EO($,{type:"array",value:Q,compare:!1});case"boolean":return EO($,{type:"boolean",value:Q});case"number":return EO($,{type:"number",value:Q});case"function":return EO($,{type:"function",value:Q,compare:!0});default:return{name:$,type:"unknown",value:Q}}}function EO($,Q){if(!("type"in Q)){if(!("value"in Q))return{name:$,type:"object",value:Q};return{name:$,type:tL(Q.value),...Q}}return{name:$,...AB1[Q.type],...Q}}function Ki($){return Array.isArray($)||ArrayBuffer.isView($)}function tL($){if(Ki($))return"array";if($===null)return"null";return typeof $}var AB1;var bC0=h(()=>{IC0();AB1={boolean:{validate($,Q){return!0},equal($,Q,J){return Boolean($)===Boolean(Q)}},number:{validate($,Q){return Number.isFinite($)&&(!("max"in Q)||$<=Q.max)&&(!("min"in Q)||$>=Q.min)}},color:{validate($,Q){return Q.optional&&!$||Ki($)&&($.length===3||$.length===4)},equal($,Q,J){return n8($,Q,1)}},accessor:{validate($,Q){let J=tL($);return J==="function"||J===tL(Q.value)},equal($,Q,J){if(typeof Q==="function")return!0;return n8($,Q,1)}},array:{validate($,Q){return Q.optional&&!$||Ki($)},equal($,Q,J){let{compare:K}=J,Y=Number.isInteger(K)?K:K?1:0;return K?n8($,Q,Y):$===Q}},object:{equal($,Q,J){if(J.ignore)return!0;let{compare:K}=J,Y=Number.isInteger(K)?K:K?1:0;return K?n8($,Q,Y):$===Q}},function:{validate($,Q){return Q.optional&&!$||typeof $==="function"},equal($,Q,J){return!J.compare&&J.ignore!==!1||$===Q}},data:{transform:($,Q,J)=>{if(!$)return $;let{dataTransform:K}=J.props;if(K)return K($);if(typeof $.shape==="string"&&$.shape.endsWith("-table")&&Array.isArray($.data))return $.data;return $}},image:{transform:($,Q,J)=>{let K=J.context;if(!K||!K.device)return null;return _C0(J.id,K.device,$,{...Q.parameters,...J.props.textureParameters})},release:($,Q,J)=>{fC0(J.id,$)}}}});function gC0($,Q){let J;for(let Z=Q.length-1;Z>=0;Z--){let q=Q[Z];if("extensions"in q)J=q.extensions}let K=Yi($.constructor,J),Y=Object.create(K);Y[GF]=$,Y[BK]={},Y[xQ]={};for(let Z=0;Z<Q.length;++Z){let q=Q[Z];for(let X in q)Y[X]=q[X]}return Object.freeze(Y),Y}function Yi($,Q){if(!($ instanceof eL.constructor))return{};let J=RB1;if(Q)for(let Y of Q){let Z=Y.constructor;if(Z)J+=`:${Z.extensionName||Z.name}`}let K=yC0($,J);if(!K)return $[J]=GB1($,Q||[]);return K}function GB1($,Q){if(!$.prototype)return null;let K=Object.getPrototypeOf($),Y=Yi(K),Z=yC0($,"defaultProps")||{},q=MC0(Z),X=Object.assign(Object.create(null),Y,q.defaultProps),W=Object.assign(Object.create(null),Y?.[O3],q.propTypes),F=Object.assign(Object.create(null),Y?.[QL],q.deprecatedProps);for(let H of Q){let B=Yi(H.constructor);if(B)Object.assign(X,B),Object.assign(W,B[O3]),Object.assign(F,B[QL])}if(OB1(X,$),TB1(X,W),wB1(X,F),X[O3]=W,X[QL]=F,Q.length===0&&!Zi($,"_propTypes"))$._propTypes=W;return X}function OB1($,Q){let J=CB1(Q);Object.defineProperties($,{id:{writable:!0,value:J}})}function wB1($,Q){for(let J in Q)Object.defineProperty($,J,{enumerable:!1,set(K){let Y=`${this.id}: ${J}`;for(let Z of Q[J])if(!Zi(this,Z))this[Z]=K;I1.deprecated(Y,Q[J].join("/"))()}})}function TB1($,Q){let J={},K={};for(let Y in Q){let Z=Q[Y],{name:q,value:X}=Z;if(Z.async)J[q]=X,K[q]=DB1(q)}$[QZ]=J,$[BK]={},Object.defineProperties($,K)}function DB1($){return{enumerable:!0,set(Q){if(typeof Q==="string"||Q instanceof Promise||bL(Q))this[BK][$]=Q;else this[xQ][$]=Q},get(){if(this[xQ]){if($ in this[xQ])return this[xQ][$]||this[QZ][$];if($ in this[BK]){let Q=this[GF]&&this[GF].internalState;if(Q&&Q.hasAsyncProp($))return Q.getAsyncProp($)||this[QZ][$]}}return this[QZ][$]}}}function Zi($,Q){return Object.prototype.hasOwnProperty.call($,Q)}function yC0($,Q){return Zi($,Q)&&$[Q]}function CB1($){let Q=$.componentName;if(!Q)I1.warn(`${$.name}.componentName not specified`)();return Q||$.name}var RB1="_mergedDefaultProps";var xC0=h(()=>{p8();xB();bC0();GX();qi()});class $h{constructor(...$){this.props=gC0(this,$),this.id=this.props.id,this.count=PB1++}clone($){let{props:Q}=this,J={};for(let K in Q[QZ])if(K in Q[xQ])J[K]=Q[xQ][K];else if(K in Q[BK])J[K]=Q[BK][K];return new this.constructor({...Q,...J,...$})}}var PB1=0,eL;var qi=h(()=>{GX();xC0();$h.componentName="Component";$h.defaultProps={};eL=$h});class Qh{constructor($){this.component=$,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(let $ in this.asyncProps){let Q=this.asyncProps[$];if(Q&&Q.type&&Q.type.release)Q.type.release(Q.resolvedValue,Q.type,this.component)}this.asyncProps={},this.component=null,this.resetOldProps()}getOldProps(){return this.oldAsyncProps||this.oldProps||kB1}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component?this.component.props:null}hasAsyncProp($){return $ in this.asyncProps}getAsyncProp($){let Q=this.asyncProps[$];return Q&&Q.resolvedValue}isAsyncPropLoading($){if($){let Q=this.asyncProps[$];return Boolean(Q&&Q.pendingLoadCount>0&&Q.pendingLoadCount!==Q.resolvedLoadCount)}for(let Q in this.asyncProps)if(this.isAsyncPropLoading(Q))return!0;return!1}reloadAsyncProp($,Q){this._watchPromise($,Promise.resolve(Q))}setAsyncProps($){this.component=$[GF]||this.component;let Q=$[xQ]||{},J=$[BK]||$,K=$[QZ]||{};for(let Y in Q){let Z=Q[Y];this._createAsyncPropData(Y,K[Y]),this._updateAsyncProp(Y,Z),Q[Y]=this.getAsyncProp(Y)}for(let Y in J){let Z=J[Y];this._createAsyncPropData(Y,K[Y]),this._updateAsyncProp(Y,Z)}}_fetch($,Q){return null}_onResolve($,Q){}_onError($,Q){}_updateAsyncProp($,Q){if(!this._didAsyncInputValueChange($,Q))return;if(typeof Q==="string")Q=this._fetch($,Q);if(Q instanceof Promise){this._watchPromise($,Q);return}if(bL(Q)){this._resolveAsyncIterable($,Q);return}this._setPropValue($,Q)}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(let $ in this.asyncProps)Object.defineProperty(this.oldAsyncProps,$,{enumerable:!0,value:this.oldProps[$]})}}_didAsyncInputValueChange($,Q){let J=this.asyncProps[$];if(Q===J.resolvedValue||Q===J.lastValue)return!1;return J.lastValue=Q,!0}_setPropValue($,Q){this._freezeAsyncOldProps();let J=this.asyncProps[$];if(J)Q=this._postProcessValue(J,Q),J.resolvedValue=Q,J.pendingLoadCount++,J.resolvedLoadCount=J.pendingLoadCount}_setAsyncPropValue($,Q,J){let K=this.asyncProps[$];if(K&&J>=K.resolvedLoadCount&&Q!==void 0)this._freezeAsyncOldProps(),K.resolvedValue=Q,K.resolvedLoadCount=J,this.onAsyncPropUpdated($,Q)}_watchPromise($,Q){let J=this.asyncProps[$];if(J){J.pendingLoadCount++;let K=J.pendingLoadCount;Q.then((Y)=>{if(!this.component)return;Y=this._postProcessValue(J,Y),this._setAsyncPropValue($,Y,K),this._onResolve($,Y)}).catch((Y)=>{this._onError($,Y)})}}async _resolveAsyncIterable($,Q){if($!=="data"){this._setPropValue($,Q);return}let J=this.asyncProps[$];if(!J)return;J.pendingLoadCount++;let K=J.pendingLoadCount,Y=[],Z=0;for await(let q of Q){if(!this.component)return;let{dataTransform:X}=this.component.props;if(X)Y=X(q,Y);else Y=Y.concat(q);Object.defineProperty(Y,"__diff",{enumerable:!1,value:[{startRow:Z,endRow:Y.length}]}),Z=Y.length,this._setAsyncPropValue($,Y,K)}this._onResolve($,Y)}_postProcessValue($,Q){let J=$.type;if(J&&this.component){if(J.release)J.release($.resolvedValue,J,this.component);if(J.transform)return J.transform(Q,J,this.component)}return Q}_createAsyncPropData($,Q){if(!this.asyncProps[$]){let K=this.component&&this.component.props[O3];this.asyncProps[$]={type:K&&K[$],lastValue:null,resolvedValue:Q,pendingLoadCount:0,resolvedLoadCount:0}}}}var kB1;var cC0=h(()=>{xB();GX();kB1=Object.freeze({})});var Jh;var uC0=h(()=>{cC0();Jh=class Jh extends Qh{constructor({attributeManager:$,layer:Q}){super(Q);this.attributeManager=$,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}_fetch($,Q){let J=this.layer,K=J?.props.fetch;if(K)return K(Q,{propName:$,layer:J});return super._fetch($,Q)}_onResolve($,Q){let J=this.layer;if(J){let K=J.props.onDataLoad;if($==="data"&&K)K(Q,{propName:$,layer:J})}}_onError($,Q){let J=this.layer;if(J)J.raiseError(Q,`loading ${$} of ${this.layer}`)}}});var jB1="layer.changeFlag",EB1="layer.initialize",LB1="layer.update",hB1="layer.finalize",vB1="layer.matched",mC0=16777215,SB1,_B1,uQ,fB1,Kh,d4;var Xi=h(()=>{v5();SL();MQ();OC0();kC0();vC0();GX();p8();QF();cw0();jB();qi();uC0();VF();hG();SB1=Object.freeze([]),_B1=NK(({oldViewport:$,viewport:Q})=>{return $.equals(Q)}),uQ=new Uint8ClampedArray(0),fB1={data:{type:"data",value:SB1,async:!0},dataComparator:{type:"function",value:null,optional:!0},_dataDiff:{type:"function",value:($)=>$&&$.__diff,optional:!0},dataTransform:{type:"function",value:null,optional:!0},onDataLoad:{type:"function",value:null,optional:!0},onError:{type:"function",value:null,optional:!0},fetch:{type:"function",value:($,{propName:Q,layer:J,loaders:K,loadOptions:Y,signal:Z})=>{let{resourceManager:q}=J.context;if(Y=Y||J.getLoadOptions(),K=K||J.props.loaders,Z)Y={...Y,fetch:{...Y?.fetch,signal:Z}};let X=q.contains($);if(!X&&!Y)q.add({resourceId:$,data:YX($,K),persistent:!1}),X=!0;if(X)return q.subscribe({resourceId:$,onChange:(W)=>J.internalState?.reloadAsyncProp(Q,W),consumerId:J.id,requestId:Q});return YX($,K,Y)}},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:"draw",onHover:{type:"function",value:null,optional:!0},onClick:{type:"function",value:null,optional:!0},onDragStart:{type:"function",value:null,optional:!0},onDrag:{type:"function",value:null,optional:!0},onDragEnd:{type:"function",value:null,optional:!0},coordinateSystem:C5.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:2},loadOptions:{type:"object",value:null,optional:!0,ignore:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,ignore:!0},getPolygonOffset:{type:"function",value:({layerIndex:$})=>[0,-$*100]},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};Kh=class Kh extends eL{constructor(){super(...arguments);this.internalState=null,this.lifecycle=RX.NO_STATE,this.parent=null}static get componentName(){return Object.prototype.hasOwnProperty.call(this,"layerName")?this.layerName:""}get root(){let $=this;while($.parent)$=$.parent;return $}toString(){return`${this.constructor.layerName||this.constructor.name}({id: '${this.props.id}'})`}project($){W7(this.internalState);let Q=this.internalState.viewport||this.context.viewport,J=ol($,{viewport:Q,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[K,Y,Z]=kB(J,Q.pixelProjectionMatrix);return $.length===2?[K,Y]:[K,Y,Z]}unproject($){return W7(this.internalState),(this.internalState.viewport||this.context.viewport).unproject($)}projectPosition($,Q){W7(this.internalState);let J=this.internalState.viewport||this.context.viewport;return xw0($,{viewport:J,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...Q})}get isComposite(){return!1}get isDrawable(){return!0}setState($){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,$),this.setNeedsRedraw()}setNeedsRedraw(){if(this.internalState)this.internalState.needsRedraw=!0}setNeedsUpdate(){if(this.internalState)this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0}get isLoaded(){return this.internalState?!this.internalState.isAsyncPropLoading():!1}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){let $=this.state;return $&&($.models||$.model&&[$.model])||[]}setShaderModuleProps(...$){for(let Q of this.getModels())Q.shaderInputs.setProps(...$)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){let{coordinateSystem:$}=this.props;return $===C5.DEFAULT||$===C5.LNGLAT||$===C5.CARTESIAN}onHover($,Q){if(this.props.onHover)return this.props.onHover($,Q)||!1;return!1}onClick($,Q){if(this.props.onClick)return this.props.onClick($,Q)||!1;return!1}nullPickingColor(){return[0,0,0]}encodePickingColor($,Q=[]){return Q[0]=$+1&255,Q[1]=$+1>>8&255,Q[2]=$+1>>8>>8&255,Q}decodePickingColor($){W7($ instanceof Uint8Array);let[Q,J,K]=$;return Q+J*256+K*65536-1}getNumInstances(){if(Number.isFinite(this.props.numInstances))return this.props.numInstances;if(this.state&&this.state.numInstances!==void 0)return this.state.numInstances;return SC0(this.props.data)}getStartIndices(){if(this.props.startIndices)return this.props.startIndices;if(this.state&&this.state.startIndices)return this.state.startIndices;return null}getBounds(){return this.getAttributeManager()?.getBounds(["positions","instancePositions"])}getShaders($){$=Qi($,{disableWarnings:!0,modules:this.context.defaultShaderModules});for(let Q of this.props.extensions)$=Qi($,Q.getShaders.call(this,Q));return $}shouldUpdateState($){return $.changeFlags.propsOrDataChanged}updateState($){let Q=this.getAttributeManager(),{dataChanged:J}=$.changeFlags;if(J&&Q)if(Array.isArray(J))for(let K of J)Q.invalidateAll(K);else Q.invalidateAll();if(Q){let{props:K}=$,Y=this.internalState.hasPickingBuffer,Z=Number.isInteger(K.highlightedObjectIndex)||K.pickable||K.extensions.some((q)=>q.getNeedsPickingBuffer.call(this,q));if(Y!==Z){this.internalState.hasPickingBuffer=Z;let{pickingColors:q,instancePickingColors:X}=Q.attributes,W=q||X;if(W){if(Z&&W.constant)W.constant=!1,Q.invalidate(W.id);if(!W.value&&!Z)W.constant=!0,W.value=[0,0,0]}}}}finalizeState($){for(let J of this.getModels())J.destroy();let Q=this.getAttributeManager();if(Q)Q.finalize();if(this.context)this.context.resourceManager.unsubscribe({consumerId:this.id});if(this.internalState)this.internalState.uniformTransitions.clear(),this.internalState.finalize()}draw($){for(let Q of this.getModels())Q.draw($.renderPass)}getPickingInfo({info:$,mode:Q,sourceLayer:J}){let{index:K}=$;if(K>=0){if(Array.isArray(this.props.data))$.object=this.props.data[K]}return $}raiseError($,Q){if(Q)$=Error(`${Q}: ${$.message}`,{cause:$});if(!this.props.onError?.($))this.context?.onError?.($,this)}getNeedsRedraw($={clearRedrawFlags:!1}){return this._getNeedsRedraw($)}needsUpdate(){if(!this.internalState)return!1;return this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams())}hasUniformTransition(){return this.internalState?.uniformTransitions.active||!1}activateViewport($){if(!this.internalState)return;let Q=this.internalState.viewport;if(this.internalState.viewport=$,!Q||!_B1({oldViewport:Q,viewport:$}))if(this.setChangeFlags({viewportChanged:!0}),this.isComposite){if(this.needsUpdate())this.setNeedsUpdate()}else this._update()}invalidateAttribute($="all"){let Q=this.getAttributeManager();if(!Q)return;if($==="all")Q.invalidateAll();else Q.invalidate($)}updateAttributes($){let Q=!1;for(let J in $)if($[J].layoutChanged())Q=!0;for(let J of this.getModels())this._setModelAttributes(J,$,Q)}_updateAttributes(){let $=this.getAttributeManager();if(!$)return;let Q=this.props,J=this.getNumInstances(),K=this.getStartIndices();$.update({data:Q.data,numInstances:J,startIndices:K,props:Q,transitions:Q.transitions,buffers:Q.data.attributes,context:this});let Y=$.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(Y)}_updateAttributeTransition(){let $=this.getAttributeManager();if($)$.updateTransition()}_updateUniformTransition(){let{uniformTransitions:$}=this.internalState;if($.active){let Q=$.update(),J=Object.create(this.props);for(let K in Q)Object.defineProperty(J,K,{value:Q[K]});return J}return this.props}calculateInstancePickingColors($,{numInstances:Q}){if($.constant)return;let J=Math.floor(uQ.length/4);if(this.internalState.usesPickingColorCache=!0,J<Q){if(Q>mC0)I1.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")();uQ=yQ.allocate(uQ,Q,{size:4,copy:!0,maxCount:Math.max(Q,mC0)});let K=Math.floor(uQ.length/4),Y=[0,0,0];for(let Z=J;Z<K;Z++)this.encodePickingColor(Z,Y),uQ[Z*4+0]=Y[0],uQ[Z*4+1]=Y[1],uQ[Z*4+2]=Y[2],uQ[Z*4+3]=0}$.value=uQ.subarray(0,Q*4)}_setModelAttributes($,Q,J=!1){if(!Object.keys(Q).length)return;if(J){let q=this.getAttributeManager();$.setBufferLayout(q.getBufferLayouts($)),Q=q.getAttributes()}let K=$.userData?.excludeAttributes||{},Y={},Z={};for(let q in Q){if(K[q])continue;let X=Q[q].getValue();for(let W in X){let F=X[W];if(F instanceof u5)if(Q[q].settings.isIndexed)$.setIndexBuffer(F);else Y[W]=F;else if(F)Z[W]=F}}$.setAttributes(Y),$.setConstantAttributes(Z)}disablePickingIndex($){let Q=this.props.data;if(!("attributes"in Q)){this._disablePickingIndex($);return}let{pickingColors:J,instancePickingColors:K}=this.getAttributeManager().attributes,Y=J||K,Z=Y&&Q.attributes&&Q.attributes[Y.id];if(Z&&Z.value){let q=Z.value,X=this.encodePickingColor($);for(let W=0;W<Q.length;W++){let F=Y.getVertexOffset(W);if(q[F]===X[0]&&q[F+1]===X[1]&&q[F+2]===X[2])this._disablePickingIndex(W)}}else this._disablePickingIndex($)}_disablePickingIndex($){let{pickingColors:Q,instancePickingColors:J}=this.getAttributeManager().attributes,K=Q||J;if(!K)return;let Y=K.getVertexOffset($),Z=K.getVertexOffset($+1);K.buffer.write(new Uint8Array(Z-Y),Y)}restorePickingColors(){let{pickingColors:$,instancePickingColors:Q}=this.getAttributeManager().attributes,J=$||Q;if(!J)return;if(this.internalState.usesPickingColorCache&&J.value.buffer!==uQ.buffer)J.value=uQ.subarray(0,J.value.length);J.updateSubBuffer({startOffset:0})}_initialize(){W7(!this.internalState),W7(Number.isFinite(this.props.coordinateSystem)),h7(EB1,this);let $=this._getAttributeManager();if($)$.addInstanced({instancePickingColors:{type:"uint8",size:4,noAlloc:!0,update:this.calculateInstancePickingColors}});this.internalState=new Jh({attributeManager:$,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>{return I1.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),$}}),this.internalState.uniformTransitions=new aL(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(let Q of this.props.extensions)Q.initializeState.call(this,this.context,Q);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState($){h7(vB1,this,this===$);let{state:Q,internalState:J}=$;if(this===$)return;this.internalState=J,this.state=Q,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps())}_update(){let $=this.needsUpdate();if(h7(LB1,this,$),!$)return;let Q=this.props,J=this.context,K=this.internalState,Y=J.viewport,Z=this._updateUniformTransition();K.propsInTransition=Z,J.viewport=K.viewport||Y,this.props=Z;try{let q=this._getUpdateParams(),X=this.getModels();if(J.device)this.updateState(q);else try{this.updateState(q)}catch(F){}for(let F of this.props.extensions)F.updateState.call(this,q,F);this.setNeedsRedraw(),this._updateAttributes();let W=this.getModels()[0]!==X[0];this._postUpdate(q,W)}finally{J.viewport=Y,this.props=Q,this._clearChangeFlags(),K.needsUpdate=!1,K.resetOldProps()}}_finalize(){h7(hB1,this),this.finalizeState(this.context);for(let $ of this.props.extensions)$.finalizeState.call(this,this.context,$)}_drawLayer({renderPass:$,shaderModuleProps:Q=null,uniforms:J={},parameters:K={}}){this._updateAttributeTransition();let Y=this.props,Z=this.context;this.props=this.internalState.propsInTransition||Y;try{if(Q)this.setShaderModuleProps(Q);let{getPolygonOffset:q}=this.props,X=q&&q(J)||[0,0];if(Z.device instanceof OK)Z.device.setParametersWebGL({polygonOffset:X});for(let W of this.getModels())if(W.device.type==="webgpu")W.setParameters({...W.parameters,...K});else W.setParameters(K);if(Z.device instanceof OK)Z.device.withParametersWebGL(K,()=>{let W={renderPass:$,shaderModuleProps:Q,uniforms:J,parameters:K,context:Z};for(let F of this.props.extensions)F.draw.call(this,W,F);this.draw(W)});else{let W={renderPass:$,shaderModuleProps:Q,uniforms:J,parameters:K,context:Z};for(let F of this.props.extensions)F.draw.call(this,W,F);this.draw(W)}}finally{this.props=Y}}getChangeFlags(){return this.internalState?.changeFlags}setChangeFlags($){if(!this.internalState)return;let{changeFlags:Q}=this.internalState;for(let K in $)if($[K]){let Y=!1;switch(K){case"dataChanged":let Z=$[K],q=Q[K];if(Z&&Array.isArray(q))Q.dataChanged=Array.isArray(Z)?q.concat(Z):Z,Y=!0;default:if(!Q[K])Q[K]=$[K],Y=!0}if(Y)h7(jB1,this,K,$)}let J=Boolean(Q.dataChanged||Q.updateTriggersChanged||Q.propsChanged||Q.extensionsChanged);Q.propsOrDataChanged=J,Q.somethingChanged=J||Q.viewportChanged||Q.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps($,Q){let J=LC0($,Q);if(J.updateTriggersChanged){for(let K in J.updateTriggersChanged)if(J.updateTriggersChanged[K])this.invalidateAttribute(K)}if(J.transitionsChanged)for(let K in J.transitionsChanged)this.internalState.uniformTransitions.add(K,Q[K],$[K],$.transitions?.[K]);return this.setChangeFlags(J)}validateProps(){EC0(this.props)}updateAutoHighlight($){if(this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex))this._updateAutoHighlight($)}_updateAutoHighlight($){let Q={highlightedObjectColor:$.picked?$.color:null},{highlightColor:J}=this.props;if($.picked&&typeof J==="function")Q.highlightColor=J($);this.setShaderModuleProps({picking:Q}),this.setNeedsRedraw()}_getAttributeManager(){let $=this.context;return new iL($.device,{id:this.props.id,stats:$.stats,timeline:$.timeline})}_postUpdate($,Q){let{props:J,oldProps:K}=$,Y=this.state.model;if(Y?.isInstanced)Y.setInstanceCount(this.getNumInstances());let{autoHighlight:Z,highlightedObjectIndex:q,highlightColor:X}=J;if(Q||K.autoHighlight!==Z||K.highlightedObjectIndex!==q||K.highlightColor!==X){let W={};if(Array.isArray(X))W.highlightColor=X;if(Q||K.autoHighlight!==Z||q!==K.highlightedObjectIndex)W.highlightedObjectColor=Number.isFinite(q)&&q>=0?this.encodePickingColor(q):null;this.setShaderModuleProps({picking:W})}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw($){if(!this.internalState)return!1;let Q=!1;Q=Q||this.internalState.needsRedraw&&this.id;let J=this.getAttributeManager(),K=J?J.getNeedsRedraw($):!1;if(Q=Q||K,Q)for(let Y of this.props.extensions)Y.onNeedsRedraw.call(this,Y);return this.internalState.needsRedraw=this.internalState.needsRedraw&&!$.clearRedrawFlags,Q}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}};Kh.defaultProps=fB1;Kh.layerName="Layer";d4=Kh});var IB1="compositeLayer.renderLayers",Wi,LO;var pC0=h(()=>{Xi();QF();GX();Wi=class Wi extends d4{get isComposite(){return!0}get isDrawable(){return!1}get isLoaded(){return super.isLoaded&&this.getSubLayers().every(($)=>$.isLoaded)}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState($){}setState($){super.setState($),this.setNeedsUpdate()}getPickingInfo({info:$}){let{object:Q}=$;if(!(Q&&Q.__source&&Q.__source.parent&&Q.__source.parent.id===this.id))return $;return $.object=Q.__source.object,$.index=Q.__source.index,$}filterSubLayer($){return!0}shouldRenderSubLayer($,Q){return Q&&Q.length}getSubLayerClass($,Q){let{_subLayerProps:J}=this.props;return J&&J[$]&&J[$].type||Q}getSubLayerRow($,Q,J){return $.__source={parent:this,object:Q,index:J},$}getSubLayerAccessor($){if(typeof $==="function"){let Q={index:-1,data:this.props.data,target:[]};return(J,K)=>{if(J&&J.__source)return Q.index=J.__source.index,$(J.__source.object,Q);return $(J,K)}}return $}getSubLayerProps($={}){let{opacity:Q,pickable:J,visible:K,parameters:Y,getPolygonOffset:Z,highlightedObjectIndex:q,autoHighlight:X,highlightColor:W,coordinateSystem:F,coordinateOrigin:H,wrapLongitude:B,positionFormat:z,modelMatrix:A,extensions:R,fetch:G,operation:O,_subLayerProps:T}=this.props,D={id:"",updateTriggers:{},opacity:Q,pickable:J,visible:K,parameters:Y,getPolygonOffset:Z,highlightedObjectIndex:q,autoHighlight:X,highlightColor:W,coordinateSystem:F,coordinateOrigin:H,wrapLongitude:B,positionFormat:z,modelMatrix:A,extensions:R,fetch:G,operation:O},P=T&&$.id&&T[$.id],j=P&&P.updateTriggers,E=$.id||"sublayer";if(P){let L=this.props[O3],v=$.type?$.type._propTypes:{};for(let f in P){let _=v[f]||L[f];if(_&&_.type==="accessor")P[f]=this.getSubLayerAccessor(P[f])}}Object.assign(D,$,P),D.id=`${this.props.id}-${E}`,D.updateTriggers={all:this.props.updateTriggers?.all,...$.updateTriggers,...j};for(let L of R){let v=L.getSubLayerProps.call(this,L);if(v)Object.assign(D,v,{updateTriggers:Object.assign(D.updateTriggers,v.updateTriggers)})}return D}_updateAutoHighlight($){for(let Q of this.getSubLayers())Q.updateAutoHighlight($)}_getAttributeManager(){return null}_postUpdate($,Q){let J=this.internalState.subLayers,K=!J||this.needsUpdate();if(K){let Y=this.renderLayers();J=SB(Y,Boolean),this.internalState.subLayers=J}h7(IB1,this,K,J);for(let Y of J)Y.parent=this}};Wi.layerName="CompositeLayer";LO=Wi});class DF{constructor($){this.indexStarts=[0],this.vertexStarts=[0],this.vertexCount=0,this.instanceCount=0;let{attributes:Q={}}=$;this.typedArrayManager=yQ,this.attributes={},this._attributeDefs=Q,this.opts=$,this.updateGeometry($)}updateGeometry($){Object.assign(this.opts,$);let{data:Q,buffers:J={},getGeometry:K,geometryBuffer:Y,positionFormat:Z,dataChanged:q,normalize:X=!0}=this.opts;if(this.data=Q,this.getGeometry=K,this.positionSize=Y&&Y.size||(Z==="XY"?2:3),this.buffers=J,this.normalize=X,Y){if(W7(Q.startIndices),this.getGeometry=this.getGeometryFromBuffer(Y),!X)J.vertexPositions=Y}if(this.geometryBuffer=J.vertexPositions,Array.isArray(q))for(let W of q)this._rebuildGeometry(W);else this._rebuildGeometry()}updatePartialGeometry({startRow:$,endRow:Q}){this._rebuildGeometry({startRow:$,endRow:Q})}getGeometryFromBuffer($){let Q=$.value||$;if(!ArrayBuffer.isView(Q))return null;return gL(Q,{size:this.positionSize,offset:$.offset,stride:$.stride,startIndices:this.data.startIndices})}_allocate($,Q){let{attributes:J,buffers:K,_attributeDefs:Y,typedArrayManager:Z}=this;for(let q in Y)if(q in K)Z.release(J[q]),J[q]=null;else{let X=Y[q];X.copy=Q,J[q]=Z.allocate(J[q],$,X)}}_forEachGeometry($,Q,J){let{data:K,getGeometry:Y}=this,{iterable:Z,objectInfo:q}=WZ(K,Q,J);for(let X of Z){q.index++;let W=Y?Y(X,q):null;$(W,q.index)}}_rebuildGeometry($){if(!this.data)return;let{indexStarts:Q,vertexStarts:J,instanceCount:K}=this,{data:Y,geometryBuffer:Z}=this,{startRow:q=0,endRow:X=1/0}=$||{},W={};if(!$)Q=[0],J=[0];if(this.normalize||!Z)this._forEachGeometry((H,B)=>{let z=H&&this.normalizeGeometry(H);W[B]=z,J[B+1]=J[B]+(z?this.getGeometrySize(z):0)},q,X),K=J[J.length-1];else if(J=Y.startIndices,K=J[Y.length]||0,ArrayBuffer.isView(Z))K=K||Z.length/this.positionSize;else if(Z instanceof u5){let H=this.positionSize*4;K=K||Z.byteLength/H}else if(Z.buffer){let H=Z.stride||this.positionSize*4;K=K||Z.buffer.byteLength/H}else if(Z.value){let H=Z.value,B=Z.stride/H.BYTES_PER_ELEMENT||this.positionSize;K=K||H.length/B}this._allocate(K,Boolean($)),this.indexStarts=Q,this.vertexStarts=J,this.instanceCount=K;let F={};this._forEachGeometry((H,B)=>{let z=W[B]||H;F.vertexStart=J[B],F.indexStart=Q[B];let A=B<J.length-1?J[B+1]:K;F.geometrySize=A-J[B],F.geometryIndex=B,this.updateGeometryAttributes(z,F)},q,X),this.vertexCount=Q[Q.length-1]}}var dC0=h(()=>{xB();jB();v5()});var E8=h(()=>{MQ();$C0();Xi();pC0();nl();qr();p8();xB();dC0()});var nC0;var lC0=h(()=>{nC0={name:"icon",vs:`uniform iconUniforms {
  float sizeScale;
  vec2 iconsTextureDim;
  float sizeMinPixels;
  float sizeMaxPixels;
  bool billboard;
  highp int sizeUnits;
  float alphaCutoff;
} icon;
`,fs:`uniform iconUniforms {
  float sizeScale;
  vec2 iconsTextureDim;
  float sizeMinPixels;
  float sizeMaxPixels;
  bool billboard;
  highp int sizeUnits;
  float alphaCutoff;
} icon;
`,uniformTypes:{sizeScale:"f32",iconsTextureDim:"vec2<f32>",sizeMinPixels:"f32",sizeMaxPixels:"f32",billboard:"f32",sizeUnits:"i32",alphaCutoff:"f32"}}});var rC0=`#version 300 es
#define SHADER_NAME icon-layer-vertex-shader
in vec2 positions;
in vec3 instancePositions;
in vec3 instancePositions64Low;
in float instanceSizes;
in float instanceAngles;
in vec4 instanceColors;
in vec3 instancePickingColors;
in vec4 instanceIconFrames;
in float instanceColorModes;
in vec2 instanceOffsets;
in vec2 instancePixelOffset;
out float vColorMode;
out vec4 vColor;
out vec2 vTextureCoords;
out vec2 uv;
vec2 rotate_by_angle(vec2 vertex, float angle) {
float angle_radian = angle * PI / 180.0;
float cos_angle = cos(angle_radian);
float sin_angle = sin(angle_radian);
mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);
return rotationMatrix * vertex;
}
void main(void) {
geometry.worldPosition = instancePositions;
geometry.uv = positions;
geometry.pickingColor = instancePickingColors;
uv = positions;
vec2 iconSize = instanceIconFrames.zw;
float sizePixels = clamp(
project_size_to_pixel(instanceSizes * icon.sizeScale, icon.sizeUnits),
icon.sizeMinPixels, icon.sizeMaxPixels
);
float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;
vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;
pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;
pixelOffset += instancePixelOffset;
pixelOffset.y *= -1.0;
if (icon.billboard)  {
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
vec3 offset = vec3(pixelOffset, 0.0);
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
} else {
vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);
DECKGL_FILTER_SIZE(offset_common, geometry);
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
vTextureCoords = mix(
instanceIconFrames.xy,
instanceIconFrames.xy + iconSize,
(positions.xy + 1.0) / 2.0
) / icon.iconsTextureDim;
vColor = instanceColors;
DECKGL_FILTER_COLOR(vColor, geometry);
vColorMode = instanceColorModes;
}
`;var iC0=`#version 300 es
#define SHADER_NAME icon-layer-fragment-shader
precision highp float;
uniform sampler2D iconsTexture;
in float vColorMode;
in vec4 vColor;
in vec2 vTextureCoords;
in vec2 uv;
out vec4 fragColor;
void main(void) {
geometry.uv = uv;
vec4 texColor = texture(iconsTexture, vTextureCoords);
vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);
float a = texColor.a * layer.opacity * vColor.a;
if (a < icon.alphaCutoff) {
discard;
}
fragColor = vec4(color, a);
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`;function yB1($){return Math.pow(2,Math.ceil(Math.log2($)))}function xB1($,Q,J,K){let Y=Math.min(J/Q.width,K/Q.height),Z=Math.floor(Q.width*Y),q=Math.floor(Q.height*Y);if(Y===1)return{image:Q,width:Z,height:q};return $.canvas.height=q,$.canvas.width=Z,$.clearRect(0,0,Z,q),$.drawImage(Q,0,0,Q.width,Q.height,0,0,Z,q),{image:$.canvas,width:Z,height:q}}function hO($){return $&&($.id||$.url)}function cB1($,Q,J,K){let{width:Y,height:Z,device:q}=$,X=q.createTexture({format:"rgba8unorm",width:Q,height:J,sampler:K,mipmaps:!0}),W=q.createCommandEncoder();return W.copyTextureToTexture({sourceTexture:$,destinationTexture:X,width:Y,height:Z}),W.finish(),$.destroy(),X}function aC0($,Q,J){for(let K=0;K<Q.length;K++){let{icon:Y,xOffset:Z}=Q[K],q=hO(Y);$[q]={...Y,x:Z,y:J}}}function uB1({icons:$,buffer:Q,mapping:J={},xOffset:K=0,yOffset:Y=0,rowHeight:Z=0,canvasWidth:q}){let X=[];for(let W=0;W<$.length;W++){let F=$[W],H=hO(F);if(!J[H]){let{height:B,width:z}=F;if(K+z+Q>q)aC0(J,X,Y),K=0,Y=Z+Y+Q,Z=0,X=[];X.push({icon:F,xOffset:K}),K=K+z+Q,Z=Math.max(Z,B)}}if(X.length>0)aC0(J,X,Y);return{mapping:J,rowHeight:Z,xOffset:K,yOffset:Y,canvasWidth:q,canvasHeight:yB1(Z+Y+Q)}}function mB1($,Q,J){if(!$||!Q)return null;J=J||{};let K={},{iterable:Y,objectInfo:Z}=WZ($);for(let q of Y){Z.index++;let X=Q(q,Z),W=hO(X);if(!X)throw Error("Icon is missing.");if(!X.url)throw Error("Icon url is missing.");if(!K[W]&&(!J[W]||X.url!==J[W].url))K[W]={...X,source:q,sourceIndex:Z.index}}return K}class Yh{constructor($,{onUpdate:Q=sC0,onError:J=sC0}){this._loadOptions=null,this._texture=null,this._externalTexture=null,this._mapping={},this._samplerParameters=null,this._pendingCount=0,this._autoPacking=!1,this._xOffset=0,this._yOffset=0,this._rowHeight=0,this._buffer=bB1,this._canvasWidth=MB1,this._canvasHeight=0,this._canvas=null,this.device=$,this.onUpdate=Q,this.onError=J}finalize(){this._texture?.delete()}getTexture(){return this._texture||this._externalTexture}getIconMapping($){let Q=this._autoPacking?hO($):$;return this._mapping[Q]||gB1}setProps({loadOptions:$,autoPacking:Q,iconAtlas:J,iconMapping:K,textureParameters:Y}){if($)this._loadOptions=$;if(Q!==void 0)this._autoPacking=Q;if(K)this._mapping=K;if(J)this._texture?.delete(),this._texture=null,this._externalTexture=J;if(Y)this._samplerParameters=Y}get isLoaded(){return this._pendingCount===0}packIcons($,Q){if(!this._autoPacking||typeof document>"u")return;let J=Object.values(mB1($,Q,this._mapping)||{});if(J.length>0){let{mapping:K,xOffset:Y,yOffset:Z,rowHeight:q,canvasHeight:X}=uB1({icons:J,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset});if(this._rowHeight=q,this._mapping=K,this._xOffset=Y,this._yOffset=Z,this._canvasHeight=X,!this._texture)this._texture=this.device.createTexture({format:"rgba8unorm",width:this._canvasWidth,height:this._canvasHeight,sampler:this._samplerParameters||oC0,mipmaps:!0});if(this._texture.height!==this._canvasHeight)this._texture=cB1(this._texture,this._canvasWidth,this._canvasHeight,this._samplerParameters||oC0);this.onUpdate(),this._canvas=this._canvas||document.createElement("canvas"),this._loadIcons(J)}}_loadIcons($){let Q=this._canvas.getContext("2d",{willReadFrequently:!0});for(let J of $)this._pendingCount++,YX(J.url,this._loadOptions).then((K)=>{let Y=hO(J),Z=this._mapping[Y],{x:q,y:X,width:W,height:F}=Z,{image:H,width:B,height:z}=xB1(Q,K,W,F);this._texture?.copyExternalImage({image:H,x:q+(W-B)/2,y:X+(F-z)/2,width:B,height:z}),Z.width=B,Z.height=z,this._texture.generateMipmap(),this.onUpdate()}).catch((K)=>{this.onError({url:J.url,source:J.source,sourceIndex:J.sourceIndex,loadOptions:this._loadOptions,error:K})}).finally(()=>{this._pendingCount--})}}var MB1=1024,bB1=4,sC0=()=>{},oC0,gB1;var tC0=h(()=>{hG();E8();oC0={minFilter:"linear",mipmapFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},gB1={x:0,y:0,width:0,height:0}});var eC0,pB1,Zh,qh;var Fi=h(()=>{E8();G3();lC0();tC0();eC0=[0,0,0,255],pB1={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:0.05,min:0,max:1},getPosition:{type:"accessor",value:($)=>$.position},getIcon:{type:"accessor",value:($)=>$.icon},getColor:{type:"accessor",value:eC0},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,optional:!0},textureParameters:{type:"object",ignore:!0,value:null}};Zh=class Zh extends d4{getShaders(){return super.getShaders({vs:rC0,fs:iC0,modules:[k$,E$,nC0]})}initializeState(){this.state={iconManager:new Yh(this.context.device,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})},this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:"uint8",accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getColor",defaultValue:eC0},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}updateState($){super.updateState($);let{props:Q,oldProps:J,changeFlags:K}=$,Y=this.getAttributeManager(),{iconAtlas:Z,iconMapping:q,data:X,getIcon:W,textureParameters:F}=Q,{iconManager:H}=this.state;if(typeof Z==="string")return;let B=Z||this.internalState.isAsyncPropLoading("iconAtlas");if(H.setProps({loadOptions:Q.loadOptions,autoPacking:!B,iconAtlas:Z,iconMapping:B?q:null,textureParameters:F}),B){if(J.iconMapping!==Q.iconMapping)Y.invalidate("getIcon")}else if(K.dataChanged||K.updateTriggersChanged&&(K.updateTriggersChanged.all||K.updateTriggersChanged.getIcon))H.packIcons(X,W);if(K.extensionsChanged)this.state.model?.destroy(),this.state.model=this._getModel(),Y.invalidateAll()}get isLoaded(){return super.isLoaded&&this.state.iconManager.isLoaded}finalizeState($){super.finalizeState($),this.state.iconManager.finalize()}draw({uniforms:$}){let{sizeScale:Q,sizeMinPixels:J,sizeMaxPixels:K,sizeUnits:Y,billboard:Z,alphaCutoff:q}=this.props,{iconManager:X}=this.state,W=X.getTexture();if(W){let F=this.state.model,H={iconsTexture:W,iconsTextureDim:[W.width,W.height],sizeUnits:A4[Y],sizeScale:Q,sizeMinPixels:J,sizeMaxPixels:K,billboard:Z,alphaCutoff:q};F.shaderInputs.setProps({icon:H}),F.draw(this.context.renderPass)}}_getModel(){let $=[-1,-1,1,-1,-1,1,1,1];return new j8(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new R3({topology:"triangle-strip",attributes:{positions:{size:2,value:new Float32Array($)}}}),isInstanced:!0})}_onUpdate(){this.setNeedsRedraw()}_onError($){let Q=this.getCurrentLayer()?.props.onIconError;if(Q)Q($);else I1.error($.error.message)()}getInstanceOffset($){let{width:Q,height:J,anchorX:K=Q/2,anchorY:Y=J/2}=this.state.iconManager.getIconMapping($);return[Q/2-K,J/2-Y]}getInstanceColorMode($){return this.state.iconManager.getIconMapping($).mask?1:0}getInstanceIconFrame($){let{x:Q,y:J,width:K,height:Y}=this.state.iconManager.getIconMapping($);return[Q,J,K,Y]}};Zh.defaultProps=pB1;Zh.layerName="IconLayer";qh=Zh});var $P0;var QP0=h(()=>{$P0={name:"scatterplot",vs:`uniform scatterplotUniforms {
  float radiusScale;
  float radiusMinPixels;
  float radiusMaxPixels;
  float lineWidthScale;
  float lineWidthMinPixels;
  float lineWidthMaxPixels;
  float stroked;
  float filled;
  bool antialiasing;
  bool billboard;
  highp int radiusUnits;
  highp int lineWidthUnits;
} scatterplot;
`,fs:`uniform scatterplotUniforms {
  float radiusScale;
  float radiusMinPixels;
  float radiusMaxPixels;
  float lineWidthScale;
  float lineWidthMinPixels;
  float lineWidthMaxPixels;
  float stroked;
  float filled;
  bool antialiasing;
  bool billboard;
  highp int radiusUnits;
  highp int lineWidthUnits;
} scatterplot;
`,source:"",uniformTypes:{radiusScale:"f32",radiusMinPixels:"f32",radiusMaxPixels:"f32",lineWidthScale:"f32",lineWidthMinPixels:"f32",lineWidthMaxPixels:"f32",stroked:"f32",filled:"f32",antialiasing:"f32",billboard:"f32",radiusUnits:"i32",lineWidthUnits:"i32"}}});var JP0=`#version 300 es
#define SHADER_NAME scatterplot-layer-vertex-shader
in vec3 positions;
in vec3 instancePositions;
in vec3 instancePositions64Low;
in float instanceRadius;
in float instanceLineWidths;
in vec4 instanceFillColors;
in vec4 instanceLineColors;
in vec3 instancePickingColors;
out vec4 vFillColor;
out vec4 vLineColor;
out vec2 unitPosition;
out float innerUnitRadius;
out float outerRadiusPixels;
void main(void) {
geometry.worldPosition = instancePositions;
outerRadiusPixels = clamp(
project_size_to_pixel(scatterplot.radiusScale * instanceRadius, scatterplot.radiusUnits),
scatterplot.radiusMinPixels, scatterplot.radiusMaxPixels
);
float lineWidthPixels = clamp(
project_size_to_pixel(scatterplot.lineWidthScale * instanceLineWidths, scatterplot.lineWidthUnits),
scatterplot.lineWidthMinPixels, scatterplot.lineWidthMaxPixels
);
outerRadiusPixels += scatterplot.stroked * lineWidthPixels / 2.0;
float edgePadding = scatterplot.antialiasing ? (outerRadiusPixels + SMOOTH_EDGE_RADIUS) / outerRadiusPixels : 1.0;
unitPosition = edgePadding * positions.xy;
geometry.uv = unitPosition;
geometry.pickingColor = instancePickingColors;
innerUnitRadius = 1.0 - scatterplot.stroked * lineWidthPixels / outerRadiusPixels;
if (scatterplot.billboard) {
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
vec3 offset = edgePadding * positions * outerRadiusPixels;
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
} else {
vec3 offset = edgePadding * positions * project_pixel_size(outerRadiusPixels);
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vFillColor, geometry);
vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vLineColor, geometry);
}
`;var KP0=`#version 300 es
#define SHADER_NAME scatterplot-layer-fragment-shader
precision highp float;
in vec4 vFillColor;
in vec4 vLineColor;
in vec2 unitPosition;
in float innerUnitRadius;
in float outerRadiusPixels;
out vec4 fragColor;
void main(void) {
geometry.uv = unitPosition;
float distToCenter = length(unitPosition) * outerRadiusPixels;
float inCircle = scatterplot.antialiasing ?
smoothedge(distToCenter, outerRadiusPixels) :
step(distToCenter, outerRadiusPixels);
if (inCircle == 0.0) {
discard;
}
if (scatterplot.stroked > 0.5) {
float isLine = scatterplot.antialiasing ?
smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :
step(innerUnitRadius * outerRadiusPixels, distToCenter);
if (scatterplot.filled > 0.5) {
fragColor = mix(vFillColor, vLineColor, isLine);
} else {
if (isLine == 0.0) {
discard;
}
fragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);
}
} else if (scatterplot.filled < 0.5) {
discard;
} else {
fragColor = vFillColor;
}
fragColor.a *= inCircle;
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`;var YP0=`// TODO(ibgreen): Hack for Layer uniforms (move to new "color" module?)

struct LayerUniforms {
  opacity: f32,
};

var<private> layer: LayerUniforms = LayerUniforms(1.0);
// @group(0) @binding(1) var<uniform> layer: LayerUniforms;

// Main shaders

struct ScatterplotUniforms {
  radiusScale: f32,
  radiusMinPixels: f32,
  radiusMaxPixels: f32,
  lineWidthScale: f32,
  lineWidthMinPixels: f32,
  lineWidthMaxPixels: f32,
  stroked: f32,
  filled: i32,
  antialiasing: i32,
  billboard: i32,
  radiusUnits: i32,
  lineWidthUnits: i32,
};

struct ConstantAttributeUniforms {
 instancePositions: vec3<f32>,
 instancePositions64Low: vec3<f32>,
 instanceRadius: f32,
 instanceLineWidths: f32,
 instanceFillColors: vec4<f32>,
 instanceLineColors: vec4<f32>,
 instancePickingColors: vec3<f32>,

 instancePositionsConstant: i32,
 instancePositions64LowConstant: i32,
 instanceRadiusConstant: i32,
 instanceLineWidthsConstant: i32,
 instanceFillColorsConstant: i32,
 instanceLineColorsConstant: i32,
 instancePickingColorsConstant: i32
};

@group(0) @binding(2) var<uniform> scatterplot: ScatterplotUniforms;

struct ConstantAttributes {
  instancePositions: vec3<f32>,
  instancePositions64Low: vec3<f32>,
  instanceRadius: f32,
  instanceLineWidths: f32,
  instanceFillColors: vec4<f32>,
  instanceLineColors: vec4<f32>,
  instancePickingColors: vec3<f32>
};

const constants = ConstantAttributes(
  vec3<f32>(0.0),
  vec3<f32>(0.0),
  0.0,
  0.0,
  vec4<f32>(0.0, 0.0, 0.0, 1.0),
  vec4<f32>(0.0, 0.0, 0.0, 1.0),
  vec3<f32>(0.0)
);

struct Attributes {
  @builtin(instance_index) instanceIndex : u32,
  @builtin(vertex_index) vertexIndex : u32,
  @location(0) positions: vec3<f32>,
  @location(1) instancePositions: vec3<f32>,
  @location(2) instancePositions64Low: vec3<f32>,
  @location(3) instanceRadius: f32,
  @location(4) instanceLineWidths: f32,
  @location(5) instanceFillColors: vec4<f32>,
  @location(6) instanceLineColors: vec4<f32>,
  @location(7) instancePickingColors: vec3<f32>
};

struct Varyings {
  @builtin(position) position: vec4<f32>,
  @location(0) vFillColor: vec4<f32>,
  @location(1) vLineColor: vec4<f32>,
  @location(2) unitPosition: vec2<f32>,
  @location(3) innerUnitRadius: f32,
  @location(4) outerRadiusPixels: f32,
};

@vertex
fn vertexMain(attributes: Attributes) -> Varyings {
  var varyings: Varyings;

  // Draw an inline geometry constant array clip space triangle to verify that rendering works.
  // var positions = array<vec2<f32>, 3>(vec2(0.0, 0.5), vec2(-0.5, -0.5), vec2(0.5, -0.5));
  // if (attributes.instanceIndex == 0) {
  //   varyings.position = vec4<f32>(positions[attributes.vertexIndex], 0.0, 1.0);
  //   return varyings;
  // }

  // var geometry: Geometry;
  // geometry.worldPosition = instancePositions;

  // Multiply out radius and clamp to limits
  varyings.outerRadiusPixels = clamp(
    project_unit_size_to_pixel(scatterplot.radiusScale * attributes.instanceRadius, scatterplot.radiusUnits),
    scatterplot.radiusMinPixels, scatterplot.radiusMaxPixels
  );

  // Multiply out line width and clamp to limits
  let lineWidthPixels = clamp(
    project_unit_size_to_pixel(scatterplot.lineWidthScale * attributes.instanceLineWidths, scatterplot.lineWidthUnits),
    scatterplot.lineWidthMinPixels, scatterplot.lineWidthMaxPixels
  );

  // outer radius needs to offset by half stroke width
  varyings.outerRadiusPixels += scatterplot.stroked * lineWidthPixels / 2.0;
  // Expand geometry to accommodate edge smoothing
  let edgePadding = select(
    (varyings.outerRadiusPixels + SMOOTH_EDGE_RADIUS) / varyings.outerRadiusPixels,
    1.0,
    scatterplot.antialiasing != 0
  );

  // position on the containing square in [-1, 1] space
  varyings.unitPosition = edgePadding * attributes.positions.xy;
  geometry.uv = varyings.unitPosition;
  geometry.pickingColor = attributes.instancePickingColors;

  varyings.innerUnitRadius = 1.0 - scatterplot.stroked * lineWidthPixels / varyings.outerRadiusPixels;

  if (scatterplot.billboard != 0) {
    varyings.position = project_position_to_clipspace(attributes.instancePositions, attributes.instancePositions64Low, vec3<f32>(0.0)); // TODO , geometry.position);
    // DECKGL_FILTER_GL_POSITION(varyings.position, geometry);
    let offset = attributes.positions; // * edgePadding * varyings.outerRadiusPixels;
    // DECKGL_FILTER_SIZE(offset, geometry);
    let clipPixels = project_pixel_size_to_clipspace(offset.xy);
    varyings.position.x = clipPixels.x;
    varyings.position.y = clipPixels.y;
  } else {
    let offset = edgePadding * attributes.positions * project_pixel_size_float(varyings.outerRadiusPixels);
    // DECKGL_FILTER_SIZE(offset, geometry);
    varyings.position = project_position_to_clipspace(attributes.instancePositions, attributes.instancePositions64Low, offset); // TODO , geometry.position);
    // DECKGL_FILTER_GL_POSITION(varyings.position, geometry);
  }

  // Apply opacity to instance color, or return instance picking color
  varyings.vFillColor = vec4<f32>(attributes.instanceFillColors.rgb, attributes.instanceFillColors.a * layer.opacity);
  // DECKGL_FILTER_COLOR(varyings.vFillColor, geometry);
  varyings.vLineColor = vec4<f32>(attributes.instanceLineColors.rgb, attributes.instanceLineColors.a * layer.opacity);
  // DECKGL_FILTER_COLOR(varyings.vLineColor, geometry);

  return varyings;
}

@fragment
fn fragmentMain(varyings: Varyings) -> @location(0) vec4<f32> {
  // var geometry: Geometry;
  // geometry.uv = unitPosition;

  let distToCenter = length(varyings.unitPosition) * varyings.outerRadiusPixels;
  let inCircle = select(
    smoothedge(distToCenter, varyings.outerRadiusPixels),
    step(distToCenter, varyings.outerRadiusPixels),
    scatterplot.antialiasing != 0
  );

  if (inCircle == 0.0) {
    // discard;
  }

  var fragColor: vec4<f32>;

  if (scatterplot.stroked != 0) {
    let isLine = select(
      smoothedge(varyings.innerUnitRadius * varyings.outerRadiusPixels, distToCenter),
      step(varyings.innerUnitRadius * varyings.outerRadiusPixels, distToCenter),
      scatterplot.antialiasing != 0
    );

    if (scatterplot.filled != 0) {
      fragColor = mix(varyings.vFillColor, varyings.vLineColor, isLine);
    } else {
      if (isLine == 0.0) {
        // discard;
      }
      fragColor = vec4<f32>(varyings.vLineColor.rgb, varyings.vLineColor.a * isLine);
    }
  } else if (scatterplot.filled == 0) {
    // discard;
  } else {
    fragColor = varyings.vFillColor;
  }

  fragColor.a *= inCircle;
  // DECKGL_FILTER_COLOR(fragColor, geometry);

  return fragColor;
  // return vec4<f32>(0, 0, 1, 1);
}
`;var ZP0,dB1,Xh,qP0;var XP0=h(()=>{E8();G3();QP0();ZP0=[0,0,0,255],dB1={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:($)=>$.position},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:ZP0},getLineColor:{type:"accessor",value:ZP0},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}};Xh=class Xh extends d4{getShaders(){return super.getShaders({vs:JP0,fs:KP0,source:YP0,modules:[k$,E$,$P0]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState($){if(super.updateState($),$.changeFlags.extensionsChanged)this.state.model?.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll()}draw({uniforms:$}){let{radiusUnits:Q,radiusScale:J,radiusMinPixels:K,radiusMaxPixels:Y,stroked:Z,filled:q,billboard:X,antialiasing:W,lineWidthUnits:F,lineWidthScale:H,lineWidthMinPixels:B,lineWidthMaxPixels:z}=this.props,A={stroked:Z,filled:q,billboard:X,antialiasing:W,radiusUnits:A4[Q],radiusScale:J,radiusMinPixels:K,radiusMaxPixels:Y,lineWidthUnits:A4[F],lineWidthScale:H,lineWidthMinPixels:B,lineWidthMaxPixels:z},R=this.state.model;R.shaderInputs.setProps({scatterplot:A}),R.draw(this.context.renderPass)}_getModel(){let $=[-1,-1,0,1,-1,0,-1,1,0,1,1,0];return new j8(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new R3({topology:"triangle-strip",attributes:{positions:{size:3,value:new Float32Array($)}}}),isInstanced:!0})}};Xh.defaultProps=dB1;Xh.layerName="ScatterplotLayer";qP0=Xh});function vO($,Q,J={}){if(WP0($,J)!==Q)return nB1($,J),!0;return!1}function WP0($,Q={}){return Math.sign(Fh($,Q))}function Fh($,Q={}){let{start:J=0,end:K=$.length,plane:Y="xy"}=Q,Z=Q.size||2,q=0,X=Ui[Y[0]],W=Ui[Y[1]];for(let F=J,H=K-Z;F<K;F+=Z)q+=($[F+X]-$[H+X])*($[F+W]+$[H+W]),H=F;return q/2}function nB1($,Q){let{start:J=0,end:K=$.length,size:Y=2}=Q,Z=(K-J)/Y,q=Math.floor(Z/2);for(let X=0;X<q;++X){let W=J+X*Y,F=J+(Z-1-X)*Y;for(let H=0;H<Y;++H){let B=$[W+H];$[W+H]=$[F+H],$[F+H]=B}}}var Wh,Ui;var Uh=h(()=>{Wh={CLOCKWISE:1,COUNTER_CLOCKWISE:-1};Ui={x:0,y:1,z:2}});var Hi=h(()=>{Uh()});var FP0=h(()=>{Uh()});function P9($,Q){let J=Q.length,K=$.length;if(K>0){let Y=!0;for(let Z=0;Z<J;Z++)if($[K-J+Z]!==Q[Z]){Y=!1;break}if(Y)return!1}for(let Y=0;Y<J;Y++)$[K+Y]=Q[Y];return!0}function SO($,Q){let J=Q.length;for(let K=0;K<J;K++)$[K]=Q[K]}function DX($,Q,J,K,Y=[]){let Z=K+Q*J;for(let q=0;q<J;q++)Y[q]=$[Z+q];return Y}function Hh($,Q,J,K,Y=[]){let Z,q;if(J&8)Z=(K[3]-$[1])/(Q[1]-$[1]),q=3;else if(J&4)Z=(K[1]-$[1])/(Q[1]-$[1]),q=1;else if(J&2)Z=(K[2]-$[0])/(Q[0]-$[0]),q=2;else if(J&1)Z=(K[0]-$[0])/(Q[0]-$[0]),q=0;else return null;for(let X=0;X<$.length;X++)Y[X]=(q&1)===X?K[q]:Z*(Q[X]-$[X])+$[X];return Y}function _O($,Q){let J=0;if($[0]<Q[0])J|=1;else if($[0]>Q[2])J|=2;if($[1]<Q[1])J|=4;else if($[1]>Q[3])J|=8;return J}var Ni=()=>{};function fO($,Q){let{size:J=2,broken:K=!1,gridResolution:Y=10,gridOffset:Z=[0,0],startIndex:q=0,endIndex:X=$.length}=Q||{},W=(X-q)/J,F=[],H=[F],B=DX($,0,J,q),z,A,R=NP0(B,Y,Z,[]),G=[];P9(F,B);for(let O=1;O<W;O++){z=DX($,O,J,q,z),A=_O(z,R);while(A){Hh(B,z,A,R,G);let T=_O(G,R);if(T)Hh(B,G,T,R,G),A=T;if(P9(F,G),SO(B,G),iB1(R,Y,A),K&&F.length>J)F=[],H.push(F),P9(F,B);A=_O(z,R)}P9(F,z),SO(B,z)}return K?H:H[0]}function IO($,Q=null,J){if(!$.length)return[];let{size:K=2,gridResolution:Y=10,gridOffset:Z=[0,0],edgeTypes:q=!1}=J||{},X=[],W=[{pos:$,types:q?Array($.length/K).fill(rB1):null,holes:Q||[]}],F=[[],[]],H=[];while(W.length){let{pos:B,types:z,holes:A}=W.shift();sB1(B,K,A[0]||B.length,F),H=NP0(F[0],Y,Z,H);let R=_O(F[1],H);if(R){let G=HP0(B,z,K,0,A[0]||B.length,H,R),O={pos:G[0].pos,types:G[0].types,holes:[]},T={pos:G[1].pos,types:G[1].types,holes:[]};W.push(O,T);for(let D=0;D<A.length;D++){if(G=HP0(B,z,K,A[D],A[D+1]||B.length,H,R),G[0]){if(O.holes.push(O.pos.length),O.pos=Nh(O.pos,G[0].pos),q)O.types=Nh(O.types,G[0].types)}if(G[1]){if(T.holes.push(T.pos.length),T.pos=Nh(T.pos,G[1].pos),q)T.types=Nh(T.types,G[1].types)}}}else{let G={positions:B};if(q)G.edgeTypes=z;if(A.length)G.holeIndices=A;X.push(G)}}return X}function HP0($,Q,J,K,Y,Z,q){let X=(Y-K)/J,W=[],F=[],H=[],B=[],z=[],A,R,G,O=DX($,X-1,J,K),T=Math.sign(q&8?O[1]-Z[3]:O[0]-Z[2]),D=Q&&Q[X-1],P=0,j=0;for(let E=0;E<X;E++){if(A=DX($,E,J,K,A),R=Math.sign(q&8?A[1]-Z[3]:A[0]-Z[2]),G=Q&&Q[K/J+E],R&&T&&T!==R)Hh(O,A,q,Z,z),P9(W,z)&&H.push(D),P9(F,z)&&B.push(D);if(R<=0)P9(W,A)&&H.push(G),P-=R;else if(H.length)H[H.length-1]=UP0;if(R>=0)P9(F,A)&&B.push(G),j+=R;else if(B.length)B[B.length-1]=UP0;SO(O,A),T=R,D=G}return[P?{pos:W,types:Q&&H}:null,j?{pos:F,types:Q&&B}:null]}function NP0($,Q,J,K){let Y=Math.floor(($[0]-J[0])/Q)*Q+J[0],Z=Math.floor(($[1]-J[1])/Q)*Q+J[1];return K[0]=Y,K[1]=Z,K[2]=Y+Q,K[3]=Z+Q,K}function iB1($,Q,J){if(J&8)$[1]+=Q,$[3]+=Q;else if(J&4)$[1]-=Q,$[3]-=Q;else if(J&2)$[0]+=Q,$[2]+=Q;else if(J&1)$[0]-=Q,$[2]-=Q}function sB1($,Q,J,K){let Y=1/0,Z=-1/0,q=1/0,X=-1/0;for(let W=0;W<J;W+=Q){let F=$[W],H=$[W+1];Y=F<Y?F:Y,Z=F>Z?F:Z,q=H<q?H:q,X=H>X?H:X}return K[0][0]=Y,K[0][1]=q,K[1][0]=Z,K[1][1]=X,K}function Nh($,Q){for(let J=0;J<Q.length;J++)$.push(Q[J]);return $}var UP0=0,rB1=1;var Bi=h(()=>{Ni()});function zi($,Q){let{size:J=2,startIndex:K=0,endIndex:Y=$.length,normalize:Z=!0}=Q||{},q=$.slice(K,Y);BP0(q,J,0,Y-K);let X=fO(q,{size:J,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(Z)for(let W of X)zP0(W,J);return X}function Ai($,Q=null,J){let{size:K=2,normalize:Y=!0,edgeTypes:Z=!1}=J||{};Q=Q||[];let q=[],X=[],W=0,F=0;for(let B=0;B<=Q.length;B++){let z=Q[B]||$.length,A=F,R=aB1($,K,W,z);for(let G=R;G<z;G++)q[F++]=$[G];for(let G=W;G<R;G++)q[F++]=$[G];BP0(q,K,A,F),tB1(q,K,A,F,J?.maxLatitude),W=z,X[B]=F}X.pop();let H=IO(q,X,{size:K,gridResolution:360,gridOffset:[-180,-180],edgeTypes:Z});if(Y)for(let B of H)zP0(B.positions,K);return H}function aB1($,Q,J,K){let Y=-1,Z=-1;for(let q=J+1;q<K;q+=Q){let X=Math.abs($[q]);if(X>Y)Y=X,Z=q-1}return Z}function tB1($,Q,J,K,Y=oB1){let Z=$[J],q=$[K-Q];if(Math.abs(Z-q)>180){let X=DX($,0,Q,J);X[0]+=Math.round((q-Z)/360)*360,P9($,X),X[1]=Math.sign(X[1])*Y,P9($,X),X[0]=Z,P9($,X)}}function BP0($,Q,J,K){let Y=$[0],Z;for(let q=J;q<K;q+=Q){Z=$[q];let X=Z-Y;if(X>180||X<-180)Z-=Math.round(X/360)*360;$[q]=Y=Z}}function zP0($,Q){let J,K=$.length/Q;for(let Z=0;Z<K;Z++)if(J=$[Z*Q],(J+180)%360!==0)break;let Y=-Math.round(J/360)*360;if(Y===0)return;for(let Z=0;Z<K;Z++)$[Z*Q]+=Y}var oB1=85.051129;var AP0=h(()=>{Bi()});var Bh=h(()=>{Hi();Uh();FP0();Ni();Bi();AP0();Hi()});function VP0($,Q,J,K){let Y;if(Array.isArray($[0])){let Z=$.length*Q;Y=Array(Z);for(let q=0;q<$.length;q++)for(let X=0;X<Q;X++)Y[q*Q+X]=$[q][X]||0}else Y=$;if(J)return fO(Y,{size:Q,gridResolution:J});if(K)return zi(Y,{size:Q});return Y}var RP0=h(()=>{Bh()});function GP0($){return Array.isArray($[0])}var $z1=1,Qz1=2,Vi=4,zh;var OP0=h(()=>{E8();RP0();zh=class zh extends DF{constructor($){super({...$,attributes:{positions:{size:3,padding:18,initialize:!0,type:$.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}})}get($){return this.attributes[$]}getGeometryFromBuffer($){if(this.normalize)return super.getGeometryFromBuffer($);return null}normalizeGeometry($){if(this.normalize)return VP0($,this.positionSize,this.opts.resolution,this.opts.wrapLongitude);return $}getGeometrySize($){if(GP0($)){let J=0;for(let K of $)J+=this.getGeometrySize(K);return J}let Q=this.getPathLength($);if(Q<2)return 0;if(this.isClosed($))return Q<3?0:Q+2;return Q}updateGeometryAttributes($,Q){if(Q.geometrySize===0)return;if($&&GP0($))for(let J of $){let K=this.getGeometrySize(J);Q.geometrySize=K,this.updateGeometryAttributes(J,Q),Q.vertexStart+=K}else this._updateSegmentTypes($,Q),this._updatePositions($,Q)}_updateSegmentTypes($,Q){let J=this.attributes.segmentTypes,K=$?this.isClosed($):!1,{vertexStart:Y,geometrySize:Z}=Q;if(J.fill(0,Y,Y+Z),K)J[Y]=Vi,J[Y+Z-2]=Vi;else J[Y]+=$z1,J[Y+Z-2]+=Qz1;J[Y+Z-1]=Vi}_updatePositions($,Q){let{positions:J}=this.attributes;if(!J||!$)return;let{vertexStart:K,geometrySize:Y}=Q,Z=[,,,];for(let q=K,X=0;X<Y;q++,X++)this.getPointOnPath($,X,Z),J[q*3]=Z[0],J[q*3+1]=Z[1],J[q*3+2]=Z[2]}getPathLength($){return $.length/this.positionSize}getPointOnPath($,Q,J=[]){let{positionSize:K}=this;if(Q*K>=$.length)Q+=1-$.length/K;let Y=Q*K;return J[0]=$[Y],J[1]=$[Y+1],J[2]=K===3&&$[Y+2]||0,J}isClosed($){if(!this.normalize)return Boolean(this.opts.loop);let{positionSize:Q}=this,J=$.length-Q;return $[0]===$[J]&&$[1]===$[J+1]&&(Q===2||$[2]===$[J+2])}}});var wP0;var TP0=h(()=>{wP0={name:"path",vs:`uniform pathUniforms {
  float widthScale;
  float widthMinPixels;
  float widthMaxPixels;
  float jointType;
  float capType;
  float miterLimit;
  bool billboard;
  highp int widthUnits;
} path;
`,fs:`uniform pathUniforms {
  float widthScale;
  float widthMinPixels;
  float widthMaxPixels;
  float jointType;
  float capType;
  float miterLimit;
  bool billboard;
  highp int widthUnits;
} path;
`,uniformTypes:{widthScale:"f32",widthMinPixels:"f32",widthMaxPixels:"f32",jointType:"f32",capType:"f32",miterLimit:"f32",billboard:"f32",widthUnits:"i32"}}});var DP0=`#version 300 es
#define SHADER_NAME path-layer-vertex-shader
in vec2 positions;
in float instanceTypes;
in vec3 instanceStartPositions;
in vec3 instanceEndPositions;
in vec3 instanceLeftPositions;
in vec3 instanceRightPositions;
in vec3 instanceLeftPositions64Low;
in vec3 instanceStartPositions64Low;
in vec3 instanceEndPositions64Low;
in vec3 instanceRightPositions64Low;
in float instanceStrokeWidths;
in vec4 instanceColors;
in vec3 instancePickingColors;
uniform float opacity;
out vec4 vColor;
out vec2 vCornerOffset;
out float vMiterLength;
out vec2 vPathPosition;
out float vPathLength;
out float vJointType;
const float EPSILON = 0.001;
const vec3 ZERO_OFFSET = vec3(0.0);
float flipIfTrue(bool flag) {
return -(float(flag) * 2. - 1.);
}
vec3 getLineJoinOffset(
vec3 prevPoint, vec3 currPoint, vec3 nextPoint,
vec2 width
) {
bool isEnd = positions.x > 0.0;
float sideOfPath = positions.y;
float isJoint = float(sideOfPath == 0.0);
vec3 deltaA3 = (currPoint - prevPoint);
vec3 deltaB3 = (nextPoint - currPoint);
mat3 rotationMatrix;
bool needsRotation = !path.billboard && project_needs_rotation(currPoint, rotationMatrix);
if (needsRotation) {
deltaA3 = deltaA3 * rotationMatrix;
deltaB3 = deltaB3 * rotationMatrix;
}
vec2 deltaA = deltaA3.xy / width;
vec2 deltaB = deltaB3.xy / width;
float lenA = length(deltaA);
float lenB = length(deltaB);
vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);
vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);
vec2 perpA = vec2(-dirA.y, dirA.x);
vec2 perpB = vec2(-dirB.y, dirB.x);
vec2 tangent = dirA + dirB;
tangent = length(tangent) > 0. ? normalize(tangent) : perpA;
vec2 miterVec = vec2(-tangent.y, tangent.x);
vec2 dir = isEnd ? dirA : dirB;
vec2 perp = isEnd ? perpA : perpB;
float L = isEnd ? lenA : lenB;
float sinHalfA = abs(dot(miterVec, perp));
float cosHalfA = abs(dot(dirA, miterVec));
float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);
float cornerPosition = sideOfPath * turnDirection;
float miterSize = 1.0 / max(sinHalfA, EPSILON);
miterSize = mix(
min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),
miterSize,
step(0.0, cornerPosition)
);
vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))
* (sideOfPath + isJoint * turnDirection);
bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));
bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));
bool isCap = isStartCap || isEndCap;
if (isCap) {
offsetVec = mix(perp * sideOfPath, dir * path.capType * 4.0 * flipIfTrue(isStartCap), isJoint);
vJointType = path.capType;
} else {
vJointType = path.jointType;
}
vPathLength = L;
vCornerOffset = offsetVec;
vMiterLength = dot(vCornerOffset, miterVec * turnDirection);
vMiterLength = isCap ? isJoint : vMiterLength;
vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);
vPathPosition = vec2(
dot(offsetFromStartOfPath, perp),
dot(offsetFromStartOfPath, dir)
);
geometry.uv = vPathPosition;
float isValid = step(instanceTypes, 3.5);
vec3 offset = vec3(offsetVec * width * isValid, 0.0);
if (needsRotation) {
offset = rotationMatrix * offset;
}
return offset;
}
void clipLine(inout vec4 position, vec4 refPosition) {
if (position.w < EPSILON) {
float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);
position = refPosition + (position - refPosition) * r;
}
}
void main() {
geometry.pickingColor = instancePickingColors;
vColor = vec4(instanceColors.rgb, instanceColors.a * layer.opacity);
float isEnd = positions.x;
vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);
vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);
vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);
vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);
vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);
vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);
geometry.worldPosition = currPosition;
vec2 widthPixels = vec2(clamp(
project_size_to_pixel(instanceStrokeWidths * path.widthScale, path.widthUnits),
path.widthMinPixels, path.widthMaxPixels) / 2.0);
vec3 width;
if (path.billboard) {
vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);
vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);
vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);
clipLine(prevPositionScreen, currPositionScreen);
clipLine(nextPositionScreen, currPositionScreen);
clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));
width = vec3(widthPixels, 0.0);
DECKGL_FILTER_SIZE(width, geometry);
vec3 offset = getLineJoinOffset(
prevPositionScreen.xyz / prevPositionScreen.w,
currPositionScreen.xyz / currPositionScreen.w,
nextPositionScreen.xyz / nextPositionScreen.w,
project_pixel_size_to_clipspace(width.xy)
);
DECKGL_FILTER_GL_POSITION(currPositionScreen, geometry);
gl_Position = vec4(currPositionScreen.xyz + offset * currPositionScreen.w, currPositionScreen.w);
} else {
prevPosition = project_position(prevPosition, prevPosition64Low);
currPosition = project_position(currPosition, currPosition64Low);
nextPosition = project_position(nextPosition, nextPosition64Low);
width = vec3(project_pixel_size(widthPixels), 0.0);
DECKGL_FILTER_SIZE(width, geometry);
vec3 offset = getLineJoinOffset(prevPosition, currPosition, nextPosition, width.xy);
geometry.position = vec4(currPosition + offset, 1.0);
gl_Position = project_common_position_to_clipspace(geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
DECKGL_FILTER_COLOR(vColor, geometry);
}
`;var CP0=`#version 300 es
#define SHADER_NAME path-layer-fragment-shader
precision highp float;
in vec4 vColor;
in vec2 vCornerOffset;
in float vMiterLength;
in vec2 vPathPosition;
in float vPathLength;
in float vJointType;
out vec4 fragColor;
void main(void) {
geometry.uv = vPathPosition;
if (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {
if (vJointType > 0.5 && length(vCornerOffset) > 1.0) {
discard;
}
if (vJointType < 0.5 && vMiterLength > path.miterLimit + 1.0) {
discard;
}
}
fragColor = vColor;
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`;var PP0,Jz1,Ri,Ah,kP0;var jP0=h(()=>{E8();G3();G3();OP0();TP0();PP0=[0,0,0,255],Jz1={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},jointRounded:!1,capRounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:($)=>$.path},getColor:{type:"accessor",value:PP0},getWidth:{type:"accessor",value:1},rounded:{deprecatedFor:["jointRounded","capRounded"]}},Ri={enter:($,Q)=>{return Q.length?Q.subarray(Q.length-$.length):$}};Ah=class Ah extends d4{getShaders(){return super.getShaders({vs:DP0,fs:CP0,modules:[k$,E$,wP0]})}get wrapLongitude(){return!1}getBounds(){return this.getAttributeManager()?.getBounds(["vertexPositions"])}initializeState(){this.getAttributeManager().addInstanced({vertexPositions:{size:3,vertexOffset:1,type:"float64",fp64:this.use64bitPositions(),transition:Ri,accessor:"getPath",update:this.calculatePositions,noAlloc:!0,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:"uint8",update:this.calculateSegmentTypes,noAlloc:!0},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:Ri,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:"unorm8",accessor:"getColor",transition:Ri,defaultValue:PP0},instancePickingColors:{size:4,type:"uint8",accessor:(J,{index:K,target:Y})=>this.encodePickingColor(J&&J.__source?J.__source.index:K,Y)}}),this.setState({pathTesselator:new zh({fp64:this.use64bitPositions()})})}updateState($){super.updateState($);let{props:Q,changeFlags:J}=$,K=this.getAttributeManager();if(J.dataChanged||J.updateTriggersChanged&&(J.updateTriggersChanged.all||J.updateTriggersChanged.getPath)){let{pathTesselator:Z}=this.state,q=Q.data.attributes||{};if(Z.updateGeometry({data:Q.data,geometryBuffer:q.getPath,buffers:q,normalize:!Q._pathType,loop:Q._pathType==="loop",getGeometry:Q.getPath,positionFormat:Q.positionFormat,wrapLongitude:Q.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:J.dataChanged}),this.setState({numInstances:Z.instanceCount,startIndices:Z.vertexStarts}),!J.dataChanged)K.invalidateAll()}if(J.extensionsChanged)this.state.model?.destroy(),this.state.model=this._getModel(),K.invalidateAll()}getPickingInfo($){let Q=super.getPickingInfo($),{index:J}=Q,K=this.props.data;if(K[0]&&K[0].__source)Q.object=K.find((Y)=>Y.__source.index===J);return Q}disablePickingIndex($){let Q=this.props.data;if(Q[0]&&Q[0].__source){for(let J=0;J<Q.length;J++)if(Q[J].__source.index===$)this._disablePickingIndex(J)}else super.disablePickingIndex($)}draw({uniforms:$}){let{jointRounded:Q,capRounded:J,billboard:K,miterLimit:Y,widthUnits:Z,widthScale:q,widthMinPixels:X,widthMaxPixels:W}=this.props,F=this.state.model,H={jointType:Number(Q),capType:Number(J),billboard:K,widthUnits:A4[Z],widthScale:q,miterLimit:Y,widthMinPixels:X,widthMaxPixels:W};F.shaderInputs.setProps({path:H}),F.draw(this.context.renderPass)}_getModel(){let $=[0,1,2,1,4,2,1,3,4,3,5,4],Q=[0,0,0,-1,0,1,1,-1,1,1,1,0];return new j8(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new R3({topology:"triangle-list",attributes:{indices:new Uint16Array($),positions:{value:new Float32Array(Q),size:2}}}),isInstanced:!0})}calculatePositions($){let{pathTesselator:Q}=this.state;$.startIndices=Q.vertexStarts,$.value=Q.get("positions")}calculateSegmentTypes($){let{pathTesselator:Q}=this.state;$.startIndices=Q.vertexStarts,$.value=Q.get("segmentTypes")}};Ah.defaultProps=Jz1;Ah.layerName="PathLayer";kP0=Ah});var SP0=C0((_Y5,Ti)=>{Ti.exports=Gh;Ti.exports.default=Gh;function Gh($,Q,J){J=J||2;var K=Q&&Q.length,Y=K?Q[0]*J:$.length,Z=LP0($,0,Y,J,!0),q=[];if(!Z||Z.next===Z.prev)return q;var X,W,F,H,B,z,A;if(K)Z=Xz1($,Q,Z,J);if($.length>80*J){X=F=$[0],W=H=$[1];for(var R=J;R<Y;R+=J){if(B=$[R],z=$[R+1],B<X)X=B;if(z<W)W=z;if(B>F)F=B;if(z>H)H=z}A=Math.max(F-X,H-W),A=A!==0?32767/A:0}return MO(Z,q,J,X,W,A,0),q}function LP0($,Q,J,K,Y){var Z,q;if(Y===wi($,Q,J,K)>0)for(Z=Q;Z<J;Z+=K)q=EP0(Z,$[Z],$[Z+1],q);else for(Z=J-K;Z>=Q;Z-=K)q=EP0(Z,$[Z],$[Z+1],q);if(q&&Oh(q,q.next))gO(q),q=q.next;return q}function CF($,Q){if(!$)return $;if(!Q)Q=$;var J=$,K;do if(K=!1,!J.steiner&&(Oh(J,J.next)||G7(J.prev,J,J.next)===0)){if(gO(J),J=Q=J.prev,J===J.next)break;K=!0}else J=J.next;while(K||J!==Q);return Q}function MO($,Q,J,K,Y,Z,q){if(!$)return;if(!q&&Z)Nz1($,K,Y,Z);var X=$,W,F;while($.prev!==$.next){if(W=$.prev,F=$.next,Z?Yz1($,K,Y,Z):Kz1($)){Q.push(W.i/J|0),Q.push($.i/J|0),Q.push(F.i/J|0),gO($),$=F.next,X=F.next;continue}if($=F,$===X){if(!q)MO(CF($),Q,J,K,Y,Z,1);else if(q===1)$=Zz1(CF($),Q,J),MO($,Q,J,K,Y,Z,2);else if(q===2)qz1($,Q,J,K,Y,Z);break}}}function Kz1($){var Q=$.prev,J=$,K=$.next;if(G7(Q,J,K)>=0)return!1;var Y=Q.x,Z=J.x,q=K.x,X=Q.y,W=J.y,F=K.y,H=Y<Z?Y<q?Y:q:Z<q?Z:q,B=X<W?X<F?X:F:W<F?W:F,z=Y>Z?Y>q?Y:q:Z>q?Z:q,A=X>W?X>F?X:F:W>F?W:F,R=K.next;while(R!==Q){if(R.x>=H&&R.x<=z&&R.y>=B&&R.y<=A&&uB(Y,X,Z,W,q,F,R.x,R.y)&&G7(R.prev,R,R.next)>=0)return!1;R=R.next}return!0}function Yz1($,Q,J,K){var Y=$.prev,Z=$,q=$.next;if(G7(Y,Z,q)>=0)return!1;var X=Y.x,W=Z.x,F=q.x,H=Y.y,B=Z.y,z=q.y,A=X<W?X<F?X:F:W<F?W:F,R=H<B?H<z?H:z:B<z?B:z,G=X>W?X>F?X:F:W>F?W:F,O=H>B?H>z?H:z:B>z?B:z,T=Gi(A,R,Q,J,K),D=Gi(G,O,Q,J,K),P=$.prevZ,j=$.nextZ;while(P&&P.z>=T&&j&&j.z<=D){if(P.x>=A&&P.x<=G&&P.y>=R&&P.y<=O&&P!==Y&&P!==q&&uB(X,H,W,B,F,z,P.x,P.y)&&G7(P.prev,P,P.next)>=0)return!1;if(P=P.prevZ,j.x>=A&&j.x<=G&&j.y>=R&&j.y<=O&&j!==Y&&j!==q&&uB(X,H,W,B,F,z,j.x,j.y)&&G7(j.prev,j,j.next)>=0)return!1;j=j.nextZ}while(P&&P.z>=T){if(P.x>=A&&P.x<=G&&P.y>=R&&P.y<=O&&P!==Y&&P!==q&&uB(X,H,W,B,F,z,P.x,P.y)&&G7(P.prev,P,P.next)>=0)return!1;P=P.prevZ}while(j&&j.z<=D){if(j.x>=A&&j.x<=G&&j.y>=R&&j.y<=O&&j!==Y&&j!==q&&uB(X,H,W,B,F,z,j.x,j.y)&&G7(j.prev,j,j.next)>=0)return!1;j=j.nextZ}return!0}function Zz1($,Q,J){var K=$;do{var Y=K.prev,Z=K.next.next;if(!Oh(Y,Z)&&hP0(Y,K,K.next,Z)&&bO(Y,Z)&&bO(Z,Y))Q.push(Y.i/J|0),Q.push(K.i/J|0),Q.push(Z.i/J|0),gO(K),gO(K.next),K=$=Z;K=K.next}while(K!==$);return CF(K)}function qz1($,Q,J,K,Y,Z){var q=$;do{var X=q.next.next;while(X!==q.prev){if(q.i!==X.i&&Az1(q,X)){var W=vP0(q,X);q=CF(q,q.next),W=CF(W,W.next),MO(q,Q,J,K,Y,Z,0),MO(W,Q,J,K,Y,Z,0);return}X=X.next}q=q.next}while(q!==$)}function Xz1($,Q,J,K){var Y=[],Z,q,X,W,F;for(Z=0,q=Q.length;Z<q;Z++){if(X=Q[Z]*K,W=Z<q-1?Q[Z+1]*K:$.length,F=LP0($,X,W,K,!1),F===F.next)F.steiner=!0;Y.push(zz1(F))}Y.sort(Wz1);for(Z=0;Z<Y.length;Z++)J=Fz1(Y[Z],J);return J}function Wz1($,Q){return $.x-Q.x}function Fz1($,Q){var J=Uz1($,Q);if(!J)return Q;var K=vP0(J,$);return CF(K,K.next),CF(J,J.next)}function Uz1($,Q){var J=Q,K=$.x,Y=$.y,Z=-1/0,q;do{if(Y<=J.y&&Y>=J.next.y&&J.next.y!==J.y){var X=J.x+(Y-J.y)*(J.next.x-J.x)/(J.next.y-J.y);if(X<=K&&X>Z){if(Z=X,q=J.x<J.next.x?J:J.next,X===K)return q}}J=J.next}while(J!==Q);if(!q)return null;var W=q,F=q.x,H=q.y,B=1/0,z;J=q;do{if(K>=J.x&&J.x>=F&&K!==J.x&&uB(Y<H?K:Z,Y,F,H,Y<H?Z:K,Y,J.x,J.y)){if(z=Math.abs(Y-J.y)/(K-J.x),bO(J,$)&&(z<B||z===B&&(J.x>q.x||J.x===q.x&&Hz1(q,J))))q=J,B=z}J=J.next}while(J!==W);return q}function Hz1($,Q){return G7($.prev,$,Q.prev)<0&&G7(Q.next,$,$.next)<0}function Nz1($,Q,J,K){var Y=$;do{if(Y.z===0)Y.z=Gi(Y.x,Y.y,Q,J,K);Y.prevZ=Y.prev,Y.nextZ=Y.next,Y=Y.next}while(Y!==$);Y.prevZ.nextZ=null,Y.prevZ=null,Bz1(Y)}function Bz1($){var Q,J,K,Y,Z,q,X,W,F=1;do{J=$,$=null,Z=null,q=0;while(J){q++,K=J,X=0;for(Q=0;Q<F;Q++)if(X++,K=K.nextZ,!K)break;W=F;while(X>0||W>0&&K){if(X!==0&&(W===0||!K||J.z<=K.z))Y=J,J=J.nextZ,X--;else Y=K,K=K.nextZ,W--;if(Z)Z.nextZ=Y;else $=Y;Y.prevZ=Z,Z=Y}J=K}Z.nextZ=null,F*=2}while(q>1);return $}function Gi($,Q,J,K,Y){return $=($-J)*Y|0,Q=(Q-K)*Y|0,$=($|$<<8)&16711935,$=($|$<<4)&252645135,$=($|$<<2)&858993459,$=($|$<<1)&1431655765,Q=(Q|Q<<8)&16711935,Q=(Q|Q<<4)&252645135,Q=(Q|Q<<2)&858993459,Q=(Q|Q<<1)&1431655765,$|Q<<1}function zz1($){var Q=$,J=$;do{if(Q.x<J.x||Q.x===J.x&&Q.y<J.y)J=Q;Q=Q.next}while(Q!==$);return J}function uB($,Q,J,K,Y,Z,q,X){return(Y-q)*(Q-X)>=($-q)*(Z-X)&&($-q)*(K-X)>=(J-q)*(Q-X)&&(J-q)*(Z-X)>=(Y-q)*(K-X)}function Az1($,Q){return $.next.i!==Q.i&&$.prev.i!==Q.i&&!Vz1($,Q)&&(bO($,Q)&&bO(Q,$)&&Rz1($,Q)&&(G7($.prev,$,Q.prev)||G7($,Q.prev,Q))||Oh($,Q)&&G7($.prev,$,$.next)>0&&G7(Q.prev,Q,Q.next)>0)}function G7($,Q,J){return(Q.y-$.y)*(J.x-Q.x)-(Q.x-$.x)*(J.y-Q.y)}function Oh($,Q){return $.x===Q.x&&$.y===Q.y}function hP0($,Q,J,K){var Y=Rh(G7($,Q,J)),Z=Rh(G7($,Q,K)),q=Rh(G7(J,K,$)),X=Rh(G7(J,K,Q));if(Y!==Z&&q!==X)return!0;if(Y===0&&Vh($,J,Q))return!0;if(Z===0&&Vh($,K,Q))return!0;if(q===0&&Vh(J,$,K))return!0;if(X===0&&Vh(J,Q,K))return!0;return!1}function Vh($,Q,J){return Q.x<=Math.max($.x,J.x)&&Q.x>=Math.min($.x,J.x)&&Q.y<=Math.max($.y,J.y)&&Q.y>=Math.min($.y,J.y)}function Rh($){return $>0?1:$<0?-1:0}function Vz1($,Q){var J=$;do{if(J.i!==$.i&&J.next.i!==$.i&&J.i!==Q.i&&J.next.i!==Q.i&&hP0(J,J.next,$,Q))return!0;J=J.next}while(J!==$);return!1}function bO($,Q){return G7($.prev,$,$.next)<0?G7($,Q,$.next)>=0&&G7($,$.prev,Q)>=0:G7($,Q,$.prev)<0||G7($,$.next,Q)<0}function Rz1($,Q){var J=$,K=!1,Y=($.x+Q.x)/2,Z=($.y+Q.y)/2;do{if(J.y>Z!==J.next.y>Z&&J.next.y!==J.y&&Y<(J.next.x-J.x)*(Z-J.y)/(J.next.y-J.y)+J.x)K=!K;J=J.next}while(J!==$);return K}function vP0($,Q){var J=new Oi($.i,$.x,$.y),K=new Oi(Q.i,Q.x,Q.y),Y=$.next,Z=Q.prev;return $.next=Q,Q.prev=$,J.next=Y,Y.prev=J,K.next=J,J.prev=K,Z.next=K,K.prev=Z,K}function EP0($,Q,J,K){var Y=new Oi($,Q,J);if(!K)Y.prev=Y,Y.next=Y;else Y.next=K.next,Y.prev=K,K.next.prev=Y,K.next=Y;return Y}function gO($){if($.next.prev=$.prev,$.prev.next=$.next,$.prevZ)$.prevZ.nextZ=$.nextZ;if($.nextZ)$.nextZ.prevZ=$.prevZ}function Oi($,Q,J){this.i=$,this.x=Q,this.y=J,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Gh.deviation=function($,Q,J,K){var Y=Q&&Q.length,Z=Y?Q[0]*J:$.length,q=Math.abs(wi($,0,Z,J));if(Y)for(var X=0,W=Q.length;X<W;X++){var F=Q[X]*J,H=X<W-1?Q[X+1]*J:$.length;q-=Math.abs(wi($,F,H,J))}var B=0;for(X=0;X<K.length;X+=3){var z=K[X]*J,A=K[X+1]*J,R=K[X+2]*J;B+=Math.abs(($[z]-$[R])*($[A+1]-$[z+1])-($[z]-$[A])*($[R+1]-$[z+1]))}return q===0&&B===0?0:Math.abs((B-q)/q)};function wi($,Q,J,K){var Y=0;for(var Z=Q,q=J-K;Z<J;Z+=K)Y+=($[q]-$[Z])*($[Z+1]+$[q+1]),q=Z;return Y}Gh.flatten=function($){var Q=$[0][0].length,J={vertices:[],holes:[],dimensions:Q},K=0;for(var Y=0;Y<$.length;Y++){for(var Z=0;Z<$[Y].length;Z++)for(var q=0;q<Q;q++)J.vertices.push($[Y][Z][q]);if(Y>0)K+=$[Y-1].length,J.holes.push(K)}return J}});function Gz1($){if($=$&&$.positions||$,!Array.isArray($)&&!ArrayBuffer.isView($))throw Error("invalid polygon")}function mB($){return"positions"in $?$.positions:$}function yO($){return"holeIndices"in $?$.holeIndices:null}function Oz1($){return Array.isArray($[0])}function wz1($){return $.length>=1&&$[0].length>=2&&Number.isFinite($[0][0])}function Tz1($){let Q=$[0],J=$[$.length-1];return Q[0]===J[0]&&Q[1]===J[1]&&Q[2]===J[2]}function Dz1($,Q,J,K){for(let Y=0;Y<Q;Y++)if($[J+Y]!==$[K-Q+Y])return!1;return!0}function fP0($,Q,J,K,Y){let Z=Q,q=J.length;for(let X=0;X<q;X++)for(let W=0;W<K;W++)$[Z++]=J[X][W]||0;if(!Tz1(J))for(let X=0;X<K;X++)$[Z++]=J[0][X]||0;return CX.start=Q,CX.end=Z,CX.size=K,vO($,Y,CX),Z}function IP0($,Q,J,K,Y=0,Z,q){Z=Z||J.length;let X=Z-Y;if(X<=0)return Q;let W=Q;for(let F=0;F<X;F++)$[W++]=J[Y+F];if(!Dz1(J,K,Y,Z))for(let F=0;F<K;F++)$[W++]=J[Y+F];return CX.start=Q,CX.end=W,CX.size=K,vO($,q,CX),W}function gP0($,Q){Gz1($);let J=[],K=[];if("positions"in $){let{positions:Y,holeIndices:Z}=$;if(Z){let q=0;for(let X=0;X<=Z.length;X++)q=IP0(J,q,Y,Q,Z[X-1],Z[X],X===0?wh:_P0),K.push(q);return K.pop(),{positions:J,holeIndices:K}}$=Y}if(!Oz1($))return IP0(J,0,$,Q,0,J.length,wh),J;if(!wz1($)){let Y=0;for(let[Z,q]of $.entries())Y=fP0(J,Y,q,Q,Z===0?wh:_P0),K.push(Y);return K.pop(),{positions:J,holeIndices:K}}return fP0(J,0,$,Q,wh),J}function Di($,Q,J){let K=$.length/3,Y=0;for(let Z=0;Z<K;Z++){let q=(Z+1)%K;Y+=$[Z*3+Q]*$[q*3+J],Y-=$[q*3+Q]*$[Z*3+J]}return Math.abs(Y/2)}function MP0($,Q,J,K){let Y=$.length/3;for(let Z=0;Z<Y;Z++){let q=Z*3,X=$[q+0],W=$[q+1],F=$[q+2];$[q+Q]=X,$[q+J]=W,$[q+K]=F}}function yP0($,Q,J,K){let Y=yO($);if(Y)Y=Y.map((X)=>X/Q);let Z=mB($),q=K&&Q===3;if(J){let X=Z.length;Z=Z.slice();let W=[];for(let F=0;F<X;F+=Q){if(W[0]=Z[F],W[1]=Z[F+1],q)W[2]=Z[F+2];let H=J(W);if(Z[F]=H[0],Z[F+1]=H[1],q)Z[F+2]=H[2]}}if(q){let X=Di(Z,0,1),W=Di(Z,0,2),F=Di(Z,1,2);if(!X&&!W&&!F)return[];if(X>W&&X>F);else if(W>F){if(!J)Z=Z.slice();MP0(Z,0,2,1)}else{if(!J)Z=Z.slice();MP0(Z,2,0,1)}}return bP0.default(Z,Y,Q)}var bP0,wh,_P0,CX;var xP0=h(()=>{Bh();bP0=r1(SP0(),1),wh=Wh.CLOCKWISE,_P0=Wh.COUNTER_CLOCKWISE,CX={isClosed:!0}});function cP0($){return Array.isArray($)&&$.length>0&&!Number.isFinite($[0])}var Th;var uP0=h(()=>{xP0();E8();Bh();Th=class Th extends DF{constructor($){let{fp64:Q,IndexType:J=Uint32Array}=$;super({...$,attributes:{positions:{size:3,type:Q?Float64Array:Float32Array},vertexValid:{type:Uint16Array,size:1},indices:{type:J,size:1}}})}get($){let{attributes:Q}=this;if($==="indices")return Q.indices&&Q.indices.subarray(0,this.vertexCount);return Q[$]}updateGeometry($){super.updateGeometry($);let Q=this.buffers.indices;if(Q)this.vertexCount=(Q.value||Q).length;else if(this.data&&!this.getGeometry)throw Error("missing indices buffer")}normalizeGeometry($){if(this.normalize){let Q=gP0($,this.positionSize);if(this.opts.resolution)return IO(mB(Q),yO(Q),{size:this.positionSize,gridResolution:this.opts.resolution,edgeTypes:!0});if(this.opts.wrapLongitude)return Ai(mB(Q),yO(Q),{size:this.positionSize,maxLatitude:86,edgeTypes:!0});return Q}return $}getGeometrySize($){if(cP0($)){let Q=0;for(let J of $)Q+=this.getGeometrySize(J);return Q}return mB($).length/this.positionSize}getGeometryFromBuffer($){if(this.normalize||!this.buffers.indices)return super.getGeometryFromBuffer($);return null}updateGeometryAttributes($,Q){if($&&cP0($))for(let J of $){let K=this.getGeometrySize(J);Q.geometrySize=K,this.updateGeometryAttributes(J,Q),Q.vertexStart+=K,Q.indexStart=this.indexStarts[Q.geometryIndex+1]}else{let J=$;this._updateIndices(J,Q),this._updatePositions(J,Q),this._updateVertexValid(J,Q)}}_updateIndices($,{geometryIndex:Q,vertexStart:J,indexStart:K}){let{attributes:Y,indexStarts:Z,typedArrayManager:q}=this,X=Y.indices;if(!X||!$)return;let W=K,F=yP0($,this.positionSize,this.opts.preproject,this.opts.full3d);X=q.allocate(X,K+F.length,{copy:!0});for(let H=0;H<F.length;H++)X[W++]=F[H]+J;Z[Q+1]=K+F.length,Y.indices=X}_updatePositions($,{vertexStart:Q,geometrySize:J}){let{attributes:{positions:K},positionSize:Y}=this;if(!K||!$)return;let Z=mB($);for(let q=Q,X=0;X<J;q++,X++){let W=Z[X*Y],F=Z[X*Y+1],H=Y>2?Z[X*Y+2]:0;K[q*3]=W,K[q*3+1]=F,K[q*3+2]=H}}_updateVertexValid($,{vertexStart:Q,geometrySize:J}){let{positionSize:K}=this,Y=this.attributes.vertexValid,Z=$&&yO($);if($&&$.edgeTypes)Y.set($.edgeTypes,Q);else Y.fill(1,Q,Q+J);if(Z)for(let q=0;q<Z.length;q++)Y[Q+Z[q]/K-1]=0;Y[Q+J-1]=0}}});var mP0;var pP0=h(()=>{mP0={name:"solidPolygon",vs:`uniform solidPolygonUniforms {
  bool extruded;
  bool isWireframe;
  float elevationScale;
} solidPolygon;
`,fs:`uniform solidPolygonUniforms {
  bool extruded;
  bool isWireframe;
  float elevationScale;
} solidPolygon;
`,uniformTypes:{extruded:"f32",isWireframe:"f32",elevationScale:"f32"}}});var Dh=`in vec4 fillColors;
in vec4 lineColors;
in vec3 pickingColors;
out vec4 vColor;
struct PolygonProps {
vec3 positions;
vec3 positions64Low;
vec3 normal;
float elevations;
};
vec3 project_offset_normal(vec3 vector) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {
return normalize(vector * project.commonUnitsPerWorldUnit);
}
return project_normal(vector);
}
void calculatePosition(PolygonProps props) {
vec3 pos = props.positions;
vec3 pos64Low = props.positions64Low;
vec3 normal = props.normal;
vec4 colors = solidPolygon.isWireframe ? lineColors : fillColors;
geometry.worldPosition = props.positions;
geometry.pickingColor = pickingColors;
if (solidPolygon.extruded) {
pos.z += props.elevations * solidPolygon.elevationScale;
}
gl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
if (solidPolygon.extruded) {
#ifdef IS_SIDE_VERTEX
normal = project_offset_normal(normal);
#else
normal = project_normal(normal);
#endif
geometry.normal = normal;
vec3 lightColor = lighting_getLightColor(colors.rgb, project.cameraPosition, geometry.position.xyz, geometry.normal);
vColor = vec4(lightColor, colors.a * layer.opacity);
} else {
vColor = vec4(colors.rgb, colors.a * layer.opacity);
}
DECKGL_FILTER_COLOR(vColor, geometry);
}
`;var dP0;var nP0=h(()=>{dP0=`#version 300 es
#define SHADER_NAME solid-polygon-layer-vertex-shader
in vec3 vertexPositions;
in vec3 vertexPositions64Low;
in float elevations;
${Dh}
void main(void) {
PolygonProps props;
props.positions = vertexPositions;
props.positions64Low = vertexPositions64Low;
props.elevations = elevations;
props.normal = vec3(0.0, 0.0, 1.0);
calculatePosition(props);
}
`});var lP0;var rP0=h(()=>{lP0=`#version 300 es
#define SHADER_NAME solid-polygon-layer-vertex-shader-side
#define IS_SIDE_VERTEX
in vec2 positions;
in vec3 vertexPositions;
in vec3 nextVertexPositions;
in vec3 vertexPositions64Low;
in vec3 nextVertexPositions64Low;
in float elevations;
in float instanceVertexValid;
${Dh}
void main(void) {
if(instanceVertexValid < 0.5){
gl_Position = vec4(0.);
return;
}
PolygonProps props;
vec3 pos;
vec3 pos64Low;
vec3 nextPos;
vec3 nextPos64Low;
#if RING_WINDING_ORDER_CW == 1
pos = vertexPositions;
pos64Low = vertexPositions64Low;
nextPos = nextVertexPositions;
nextPos64Low = nextVertexPositions64Low;
#else
pos = nextVertexPositions;
pos64Low = nextVertexPositions64Low;
nextPos = vertexPositions;
nextPos64Low = vertexPositions64Low;
#endif
props.positions = mix(pos, nextPos, positions.x);
props.positions64Low = mix(pos64Low, nextPos64Low, positions.x);
props.normal = vec3(
pos.y - nextPos.y + (pos64Low.y - nextPos64Low.y),
nextPos.x - pos.x + (nextPos64Low.x - pos64Low.x),
0.0);
props.elevations = elevations * positions.y;
calculatePosition(props);
}
`});var iP0=`#version 300 es
#define SHADER_NAME solid-polygon-layer-fragment-shader
precision highp float;
in vec4 vColor;
out vec4 fragColor;
void main(void) {
fragColor = vColor;
geometry.uv = vec2(0.);
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`;var Ph,Pz1,Ch,kh,sP0;var oP0=h(()=>{E8();G3();aY();uP0();pP0();nP0();rP0();Ph=[0,0,0,255],Pz1={filled:!0,extruded:!1,wireframe:!1,_normalize:!0,_windingOrder:"CW",_full3d:!1,elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:($)=>$.polygon},getElevation:{type:"accessor",value:1000},getFillColor:{type:"accessor",value:Ph},getLineColor:{type:"accessor",value:Ph},material:!0},Ch={enter:($,Q)=>{return Q.length?Q.subarray(Q.length-$.length):$}};kh=class kh extends d4{getShaders($){return super.getShaders({vs:$==="top"?dP0:lP0,fs:iP0,defines:{RING_WINDING_ORDER_CW:!this.props._normalize&&this.props._windingOrder==="CCW"?0:1},modules:[k$,CE,E$,mP0]})}get wrapLongitude(){return!1}getBounds(){return this.getAttributeManager()?.getBounds(["vertexPositions"])}initializeState(){let{viewport:$}=this.context,{coordinateSystem:Q}=this.props,{_full3d:J}=this.props;if($.isGeospatial&&Q===C5.DEFAULT)Q=C5.LNGLAT;let K;if(Q===C5.LNGLAT)if(J)K=$.projectPosition.bind($);else K=$.projectFlat.bind($);this.setState({numInstances:0,polygonTesselator:new Th({preproject:K,fp64:this.use64bitPositions(),IndexType:Uint32Array})});let Y=this.getAttributeManager(),Z=!0;Y.remove(["instancePickingColors"]),Y.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:Z},vertexPositions:{size:3,type:"float64",stepMode:"dynamic",fp64:this.use64bitPositions(),transition:Ch,accessor:"getPolygon",update:this.calculatePositions,noAlloc:Z,shaderAttributes:{nextVertexPositions:{vertexOffset:1}}},instanceVertexValid:{size:1,type:"uint16",stepMode:"instance",update:this.calculateVertexValid,noAlloc:Z},elevations:{size:1,stepMode:"dynamic",transition:Ch,accessor:"getElevation"},fillColors:{size:this.props.colorFormat.length,type:"unorm8",stepMode:"dynamic",transition:Ch,accessor:"getFillColor",defaultValue:Ph},lineColors:{size:this.props.colorFormat.length,type:"unorm8",stepMode:"dynamic",transition:Ch,accessor:"getLineColor",defaultValue:Ph},pickingColors:{size:4,type:"uint8",stepMode:"dynamic",accessor:(q,{index:X,target:W})=>this.encodePickingColor(q&&q.__source?q.__source.index:X,W)}})}getPickingInfo($){let Q=super.getPickingInfo($),{index:J}=Q,K=this.props.data;if(K[0]&&K[0].__source)Q.object=K.find((Y)=>Y.__source.index===J);return Q}disablePickingIndex($){let Q=this.props.data;if(Q[0]&&Q[0].__source){for(let J=0;J<Q.length;J++)if(Q[J].__source.index===$)this._disablePickingIndex(J)}else super.disablePickingIndex($)}draw({uniforms:$}){let{extruded:Q,filled:J,wireframe:K,elevationScale:Y}=this.props,{topModel:Z,sideModel:q,wireframeModel:X,polygonTesselator:W}=this.state,F={extruded:Boolean(Q),elevationScale:Y,isWireframe:!1};if(X&&K)X.setInstanceCount(W.instanceCount-1),X.shaderInputs.setProps({solidPolygon:{...F,isWireframe:!0}}),X.draw(this.context.renderPass);if(q&&J)q.setInstanceCount(W.instanceCount-1),q.shaderInputs.setProps({solidPolygon:F}),q.draw(this.context.renderPass);if(Z&&J)Z.setVertexCount(W.vertexCount),Z.shaderInputs.setProps({solidPolygon:F}),Z.draw(this.context.renderPass)}updateState($){super.updateState($),this.updateGeometry($);let{props:Q,oldProps:J,changeFlags:K}=$,Y=this.getAttributeManager();if(K.extensionsChanged||Q.filled!==J.filled||Q.extruded!==J.extruded)this.state.models?.forEach((q)=>q.destroy()),this.setState(this._getModels()),Y.invalidateAll()}updateGeometry({props:$,oldProps:Q,changeFlags:J}){if(J.dataChanged||J.updateTriggersChanged&&(J.updateTriggersChanged.all||J.updateTriggersChanged.getPolygon)){let{polygonTesselator:Y}=this.state,Z=$.data.attributes||{};if(Y.updateGeometry({data:$.data,normalize:$._normalize,geometryBuffer:Z.getPolygon,buffers:Z,getGeometry:$.getPolygon,positionFormat:$.positionFormat,wrapLongitude:$.wrapLongitude,resolution:this.context.viewport.resolution,fp64:this.use64bitPositions(),dataChanged:J.dataChanged,full3d:$._full3d}),this.setState({numInstances:Y.instanceCount,startIndices:Y.vertexStarts}),!J.dataChanged)this.getAttributeManager().invalidateAll()}}_getModels(){let{id:$,filled:Q,extruded:J}=this.props,K,Y,Z;if(Q){let q=this.getShaders("top");q.defines.NON_INSTANCED_MODEL=1;let X=this.getAttributeManager().getBufferLayouts({isInstanced:!1});K=new j8(this.context.device,{...q,id:`${$}-top`,topology:"triangle-list",bufferLayout:X,isIndexed:!0,userData:{excludeAttributes:{instanceVertexValid:!0}}})}if(J){let q=this.getAttributeManager().getBufferLayouts({isInstanced:!0});Y=new j8(this.context.device,{...this.getShaders("side"),id:`${$}-side`,bufferLayout:q,geometry:new R3({topology:"triangle-strip",attributes:{positions:{size:2,value:new Float32Array([1,0,0,0,1,1,0,1])}}}),isInstanced:!0,userData:{excludeAttributes:{indices:!0}}}),Z=new j8(this.context.device,{...this.getShaders("side"),id:`${$}-wireframe`,bufferLayout:q,geometry:new R3({topology:"line-strip",attributes:{positions:{size:2,value:new Float32Array([1,0,0,0,0,1,1,1])}}}),isInstanced:!0,userData:{excludeAttributes:{indices:!0}}})}return{models:[Y,Z,K].filter(Boolean),topModel:K,sideModel:Y,wireframeModel:Z}}calculateIndices($){let{polygonTesselator:Q}=this.state;$.startIndices=Q.indexStarts,$.value=Q.get("indices")}calculatePositions($){let{polygonTesselator:Q}=this.state;$.startIndices=Q.vertexStarts,$.value=Q.get("positions")}calculateVertexValid($){$.value=this.state.polygonTesselator.get("vertexValid")}};kh.defaultProps=Pz1;kh.layerName="SolidPolygonLayer";sP0=kh});function aP0({data:$,getIndex:Q,dataRange:J,replace:K}){let{startRow:Y=0,endRow:Z=1/0}=J,q=$.length,X=q,W=q;for(let z=0;z<q;z++){let A=Q($[z]);if(X>z&&A>=Y)X=z;if(A>=Z){W=z;break}}let F=X,B=W-X!==K.length?$.slice(W):void 0;for(let z=0;z<K.length;z++)$[F++]=K[z];if(B){for(let z=0;z<B.length;z++)$[F++]=B[z];$.length=F}return{startRow:X,endRow:X+K.length}}function tP0($,Q){if(!$)return null;let J="startIndices"in $?$.startIndices[Q]:Q,K=$.featureIds.value[J];if(J!==-1)return kz1($,K,J);return null}function kz1($,Q,J){let K={properties:{...$.properties[Q]}};for(let Y in $.numericProps)K.properties[Y]=$.numericProps[Y].value[J];return K}function eP0($,Q){let J={points:null,lines:null,polygons:null};for(let K in J){let Y=$[K].globalFeatureIds.value;J[K]=new Uint8ClampedArray(Y.length*4);let Z=[];for(let q=0;q<Y.length;q++)Q(Y[q],Z),J[K][q*4+0]=Z[0],J[K][q*4+1]=Z[1],J[K][q*4+2]=Z[2],J[K][q*4+3]=255}return J}var $k0;var Qk0=h(()=>{$k0={name:"sdf",vs:`uniform sdfUniforms {
  float gamma;
  bool enabled;
  float buffer;
  float outlineBuffer;
  vec4 outlineColor;
} sdf;
`,fs:`uniform sdfUniforms {
  float gamma;
  bool enabled;
  float buffer;
  float outlineBuffer;
  vec4 outlineColor;
} sdf;
`,uniformTypes:{gamma:"f32",enabled:"f32",buffer:"f32",outlineBuffer:"f32",outlineColor:"vec4<f32>"}}});var Jk0=`#version 300 es
#define SHADER_NAME multi-icon-layer-fragment-shader
precision highp float;
uniform sampler2D iconsTexture;
in vec4 vColor;
in vec2 vTextureCoords;
in vec2 uv;
out vec4 fragColor;
void main(void) {
geometry.uv = uv;
if (!bool(picking.isActive)) {
float alpha = texture(iconsTexture, vTextureCoords).a;
vec4 color = vColor;
if (sdf.enabled) {
float distance = alpha;
alpha = smoothstep(sdf.buffer - sdf.gamma, sdf.buffer + sdf.gamma, distance);
if (sdf.outlineBuffer > 0.0) {
float inFill = alpha;
float inBorder = smoothstep(sdf.outlineBuffer - sdf.gamma, sdf.outlineBuffer + sdf.gamma, distance);
color = mix(sdf.outlineColor, vColor, inFill);
alpha = inBorder;
}
}
float a = alpha * color.a;
if (a < icon.alphaCutoff) {
discard;
}
fragColor = vec4(color.rgb, a * layer.opacity);
}
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`;var Ci=0.75,Kk0,jz1,jh,Yk0;var Zk0=h(()=>{E8();Fi();Qk0();Kk0=[],jz1={getIconOffsets:{type:"accessor",value:($)=>$.offsets},alphaCutoff:0.001,smoothing:0.1,outlineWidth:0,outlineColor:{type:"color",value:[0,0,0,255]}};jh=class jh extends qh{getShaders(){let $=super.getShaders();return{...$,modules:[...$.modules,$k0],fs:Jk0}}initializeState(){super.initializeState(),this.getAttributeManager().addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:"uint8",size:3,accessor:(Q,{index:J,target:K})=>this.encodePickingColor(J,K)}})}updateState($){super.updateState($);let{props:Q,oldProps:J}=$,{outlineColor:K}=Q;if(K!==J.outlineColor)K=K.map((Y)=>Y/255),K[3]=Number.isFinite(K[3])?K[3]:1,this.setState({outlineColor:K});if(!Q.sdf&&Q.outlineWidth)I1.warn(`${this.id}: fontSettings.sdf is required to render outline`)()}draw($){let{sdf:Q,smoothing:J,outlineWidth:K}=this.props,{outlineColor:Y}=this.state,Z=K?Math.max(J,Ci*(1-K)):-1,q=this.state.model,X={buffer:Ci,outlineBuffer:Z,gamma:J,enabled:Boolean(Q),outlineColor:Y};if(q.shaderInputs.setProps({sdf:X}),super.draw($),Q&&K){let{iconManager:W}=this.state;if(W.getTexture())q.shaderInputs.setProps({sdf:{...X,outlineBuffer:Ci}}),q.draw(this.context.renderPass)}}getInstanceOffset($){return $?Array.from($).flatMap((Q)=>super.getInstanceOffset(Q)):Kk0}getInstanceColorMode($){return 1}getInstanceIconFrame($){return $?Array.from($).flatMap((Q)=>super.getInstanceIconFrame(Q)):Kk0}};jh.defaultProps=jz1;jh.layerName="MultiIconLayer";Yk0=jh});class Eh{constructor({fontSize:$=24,buffer:Q=3,radius:J=8,cutoff:K=0.25,fontFamily:Y="sans-serif",fontWeight:Z="normal",fontStyle:q="normal",lang:X=null}={}){this.buffer=Q,this.cutoff=K,this.radius=J,this.lang=X;let W=this.size=$+Q*4,F=this._createCanvas(W),H=this.ctx=F.getContext("2d",{willReadFrequently:!0});H.font=`${q} ${Z} ${$}px ${Y}`,H.textBaseline="alphabetic",H.textAlign="left",H.fillStyle="black",this.gridOuter=new Float64Array(W*W),this.gridInner=new Float64Array(W*W),this.f=new Float64Array(W),this.z=new Float64Array(W+1),this.v=new Uint16Array(W)}_createCanvas($){let Q=document.createElement("canvas");return Q.width=Q.height=$,Q}draw($){let{width:Q,actualBoundingBoxAscent:J,actualBoundingBoxDescent:K,actualBoundingBoxLeft:Y,actualBoundingBoxRight:Z}=this.ctx.measureText($),q=Math.ceil(J),X=0,W=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(Z-Y))),F=Math.min(this.size-this.buffer,q+Math.ceil(K)),H=W+2*this.buffer,B=F+2*this.buffer,z=Math.max(H*B,0),A=new Uint8ClampedArray(z),R={data:A,width:H,height:B,glyphWidth:W,glyphHeight:F,glyphTop:q,glyphLeft:0,glyphAdvance:Q};if(W===0||F===0)return R;let{ctx:G,buffer:O,gridInner:T,gridOuter:D}=this;if(this.lang)G.lang=this.lang;G.clearRect(O,O,W,F),G.fillText($,O,O+q);let P=G.getImageData(O,O,W,F);D.fill(100000000000000000000,0,z),T.fill(0,0,z);for(let j=0;j<F;j++)for(let E=0;E<W;E++){let L=P.data[4*(j*W+E)+3]/255;if(L===0)continue;let v=(j+O)*H+E+O;if(L===1)D[v]=0,T[v]=100000000000000000000;else{let f=0.5-L;D[v]=f>0?f*f:0,T[v]=f<0?f*f:0}}qk0(D,0,0,H,B,H,this.f,this.v,this.z),qk0(T,O,O,W,F,H,this.f,this.v,this.z);for(let j=0;j<z;j++){let E=Math.sqrt(D[j])-Math.sqrt(T[j]);A[j]=Math.round(255-255*(E/this.radius+this.cutoff))}return R}}function qk0($,Q,J,K,Y,Z,q,X,W){for(let F=Q;F<Q+K;F++)Xk0($,J*Z+F,Z,Y,q,X,W);for(let F=J;F<J+Y;F++)Xk0($,F*Z+Q,1,K,q,X,W)}function Xk0($,Q,J,K,Y,Z,q){Z[0]=0,q[0]=-100000000000000000000,q[1]=100000000000000000000,Y[0]=$[Q];for(let X=1,W=0,F=0;X<K;X++){Y[X]=$[Q+X*J];let H=X*X;do{let B=Z[W];F=(Y[X]-Y[B]+H-B*B)/(X-B)/2}while(F<=q[W]&&--W>-1);W++,Z[W]=X,q[W]=F,q[W+1]=100000000000000000000}for(let X=0,W=0;X<K;X++){while(q[W+1]<X)W++;let F=Z[W],H=X-F;$[Q+X*J]=Y[F]+H*H}}function hz1($){return Math.pow(2,Math.ceil(Math.log2($)))}function Wk0({characterSet:$,getFontWidth:Q,fontHeight:J,buffer:K,maxCanvasWidth:Y,mapping:Z={},xOffset:q=0,yOffset:X=0}){let W=0,F=q,H=J+K*2;for(let B of $)if(!Z[B]){let z=Q(B);if(F+z+K*2>Y)F=0,W++;Z[B]={x:F+K,y:X+W*H+K,width:z,height:H,layoutWidth:z,layoutHeight:J},F+=z+K*2}return{mapping:Z,xOffset:F,yOffset:X+W*H,canvasHeight:hz1(X+(W+1)*H)}}function Fk0($,Q,J,K){let Y=0;for(let Z=Q;Z<J;Z++){let q=$[Z];Y+=K[q]?.layoutWidth||0}return Y}function Uk0($,Q,J,K,Y,Z){let q=Q,X=0;for(let W=Q;W<J;W++){let F=Fk0($,W,W+1,Y);if(X+F>K){if(q<W)Z.push(W);q=W,X=0}X+=F}return X}function vz1($,Q,J,K,Y,Z){let q=Q,X=Q,W=Q,F=0;for(let H=Q;H<J;H++){if($[H]===" ")W=H+1;else if($[H+1]===" "||H+1===J)W=H+1;if(W>X){let B=Fk0($,X,W,Y);if(F+B>K){if(q<X)Z.push(X),q=X,F=0;if(B>K)B=Uk0($,X,W,K,Y,Z),q=Z[Z.length-1]}X=W,F+=B}}return F}function Sz1($,Q,J,K,Y=0,Z){if(Z===void 0)Z=$.length;let q=[];if(Q==="break-all")Uk0($,Y,Z,J,K,q);else vz1($,Y,Z,J,K,q);return q}function _z1($,Q,J,K,Y,Z){let q=0,X=0;for(let W=Q;W<J;W++){let F=$[W],H=K[F];if(H){if(!X)X=H.layoutHeight;Y[W]=q+H.layoutWidth/2,q+=H.layoutWidth}else I1.warn(`Missing character: ${F} (${F.codePointAt(0)})`)(),Y[W]=q,q+=Ez1}Z[0]=q,Z[1]=X}function Hk0($,Q,J,K,Y){let Z=Array.from($),q=Z.length,X=Array(q),W=Array(q),F=Array(q),H=(J==="break-word"||J==="break-all")&&isFinite(K)&&K>0,B=[0,0],z=[0,0],A=0,R=0,G=0;for(let O=0;O<=q;O++){let T=Z[O];if(T===`
`||O===q)G=O;if(G>R){let D=H?Sz1(Z,J,K,Y,R,G):Lz1;for(let P=0;P<=D.length;P++){let j=P===0?R:D[P-1],E=P<D.length?D[P]:G;_z1(Z,j,E,Y,X,z);for(let L=j;L<E;L++){let v=X[L]-z[0]/2,f=Z[L],_=Y[f]?.layoutOffsetY||0;W[L]=A+z[1]/2+_,F[L]=z[0]}A=A+z[1]*Q,B[0]=Math.max(B[0],z[0])}R=G}if(T===`
`)X[R]=0,W[R]=0,F[R]=0,R++}return B[1]=A,{x:X,y:W,rowWidth:F,size:B}}function Nk0({value:$,length:Q,stride:J,offset:K,startIndices:Y,characterSet:Z}){let q=$.BYTES_PER_ELEMENT,X=J?J/q:1,W=K?K/q:0,F=Y[Q]||Math.ceil(($.length-W)/X),H=Z&&new Set,B=Array(Q),z=$;if(X>1||W>0){z=new $.constructor(F);for(let R=0;R<F;R++)z[R]=$[R*X+W]}for(let A=0;A<Q;A++){let R=Y[A],G=Y[A+1]||F,O=z.subarray(R,G);if(B[A]=String.fromCodePoint.apply(null,O),H)O.forEach(H.add,H)}if(H)for(let A of H)Z.add(String.fromCodePoint(A));return{texts:B,characterCount:F}}var Ez1=32,Lz1;var Pi=h(()=>{E8();Lz1=[]});class xO{constructor($=5){this._cache={},this._order=[],this.limit=$}get($){let Q=this._cache[$];if(Q)this._deleteOrder($),this._appendOrder($);return Q}set($,Q){if(!this._cache[$]){if(Object.keys(this._cache).length===this.limit)this.delete(this._order[0]);this._cache[$]=Q,this._appendOrder($)}else this.delete($),this._cache[$]=Q,this._appendOrder($)}delete($){if(this._cache[$])delete this._cache[$],this._deleteOrder($)}_deleteOrder($){let Q=this._order.indexOf($);if(Q>=0)this._order.splice(Q,1)}_appendOrder($){this._order.push($)}}function fz1(){let $=[];for(let Q=32;Q<128;Q++)$.push(String.fromCharCode(Q));return $}function Iz1($,Q){let J;if(typeof Q==="string")J=new Set(Array.from(Q));else J=new Set(Q);let K=Lh.get($);if(!K)return J;for(let Y in K.mapping)if(J.has(Y))J.delete(Y);return J}function Mz1($,Q){for(let J=0;J<$.length;J++)Q.data[4*J+3]=$[J]}function Vk0($,Q,J,K){$.font=`${K} ${J}px ${Q}`,$.fillStyle="#000",$.textBaseline="alphabetic",$.textAlign="left"}function Gk0($){I1.assert(Number.isFinite($)&&$>=Rk0,"Invalid cache limit"),Lh=new xO($)}class hh{constructor(){this.props={...PF}}get atlas(){return this._atlas}get mapping(){return this._atlas&&this._atlas.mapping}get scale(){let{fontSize:$,buffer:Q}=this.props;return($*Ak0+Q*2)/$}setProps($={}){Object.assign(this.props,$),this._key=this._getKey();let Q=Iz1(this._key,this.props.characterSet),J=Lh.get(this._key);if(J&&Q.size===0){if(this._atlas!==J)this._atlas=J;return}let K=this._generateFontAtlas(Q,J);this._atlas=K,Lh.set(this._key,K)}_generateFontAtlas($,Q){let{fontFamily:J,fontWeight:K,fontSize:Y,buffer:Z,sdf:q,radius:X,cutoff:W}=this.props,F=Q&&Q.data;if(!F)F=document.createElement("canvas"),F.width=Bk0;let H=F.getContext("2d",{willReadFrequently:!0});Vk0(H,J,Y,K);let{mapping:B,canvasHeight:z,xOffset:A,yOffset:R}=Wk0({getFontWidth:(G)=>H.measureText(G).width,fontHeight:Y*Ak0,buffer:Z,characterSet:$,maxCanvasWidth:Bk0,...Q&&{mapping:Q.mapping,xOffset:Q.xOffset,yOffset:Q.yOffset}});if(F.height!==z){let G=H.getImageData(0,0,F.width,F.height);F.height=z,H.putImageData(G,0,0)}if(Vk0(H,J,Y,K),q){let G=new Eh({fontSize:Y,buffer:Z,radius:X,cutoff:W,fontFamily:J,fontWeight:`${K}`});for(let O of $){let{data:T,width:D,height:P,glyphTop:j}=G.draw(O);B[O].width=D,B[O].layoutOffsetY=Y*zk0-j;let E=H.createImageData(D,P);Mz1(T,E),H.putImageData(E,B[O].x,B[O].y)}}else for(let G of $)H.fillText(G,B[G].x,B[G].y+Z+Y*zk0);return{xOffset:A,yOffset:R,mapping:B,data:F,width:F.width,height:F.height}}_getKey(){let{fontFamily:$,fontWeight:Q,fontSize:J,buffer:K,sdf:Y,radius:Z,cutoff:q}=this.props;if(Y)return`${$} ${Q} ${J} ${K} ${Z} ${q}`;return`${$} ${Q} ${J} ${K}`}}var PF,Bk0=1024,zk0=0.9,Ak0=1.2,Rk0=3,Lh;var Ok0=h(()=>{E8();Pi();PF={fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:fz1(),fontSize:64,buffer:4,sdf:!1,cutoff:0.25,radius:12,smoothing:0.1},Lh=new xO(Rk0)});var wk0;var Tk0=h(()=>{wk0={name:"textBackground",vs:`uniform textBackgroundUniforms {
  bool billboard;
  float sizeScale;
  float sizeMinPixels;
  float sizeMaxPixels;
  vec4 borderRadius;
  vec4 padding;
  highp int sizeUnits;
  bool stroked;
} textBackground;
`,fs:`uniform textBackgroundUniforms {
  bool billboard;
  float sizeScale;
  float sizeMinPixels;
  float sizeMaxPixels;
  vec4 borderRadius;
  vec4 padding;
  highp int sizeUnits;
  bool stroked;
} textBackground;
`,uniformTypes:{billboard:"f32",sizeScale:"f32",sizeMinPixels:"f32",sizeMaxPixels:"f32",borderRadius:"vec4<f32>",padding:"vec4<f32>",sizeUnits:"i32",stroked:"f32"}}});var Dk0=`#version 300 es
#define SHADER_NAME text-background-layer-vertex-shader
in vec2 positions;
in vec3 instancePositions;
in vec3 instancePositions64Low;
in vec4 instanceRects;
in float instanceSizes;
in float instanceAngles;
in vec2 instancePixelOffsets;
in float instanceLineWidths;
in vec4 instanceFillColors;
in vec4 instanceLineColors;
in vec3 instancePickingColors;
out vec4 vFillColor;
out vec4 vLineColor;
out float vLineWidth;
out vec2 uv;
out vec2 dimensions;
vec2 rotate_by_angle(vec2 vertex, float angle) {
float angle_radian = radians(angle);
float cos_angle = cos(angle_radian);
float sin_angle = sin(angle_radian);
mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);
return rotationMatrix * vertex;
}
void main(void) {
geometry.worldPosition = instancePositions;
geometry.uv = positions;
geometry.pickingColor = instancePickingColors;
uv = positions;
vLineWidth = instanceLineWidths;
float sizePixels = clamp(
project_size_to_pixel(instanceSizes * textBackground.sizeScale, textBackground.sizeUnits),
textBackground.sizeMinPixels, textBackground.sizeMaxPixels
);
dimensions = instanceRects.zw * sizePixels + textBackground.padding.xy + textBackground.padding.zw;
vec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-textBackground.padding.xy, textBackground.padding.zw, positions);
pixelOffset = rotate_by_angle(pixelOffset, instanceAngles);
pixelOffset += instancePixelOffsets;
pixelOffset.y *= -1.0;
if (textBackground.billboard)  {
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
vec3 offset = vec3(pixelOffset, 0.0);
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
} else {
vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);
DECKGL_FILTER_SIZE(offset_common, geometry);
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vFillColor, geometry);
vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vLineColor, geometry);
}
`;var Ck0=`#version 300 es
#define SHADER_NAME text-background-layer-fragment-shader
precision highp float;
in vec4 vFillColor;
in vec4 vLineColor;
in float vLineWidth;
in vec2 uv;
in vec2 dimensions;
out vec4 fragColor;
float round_rect(vec2 p, vec2 size, vec4 radii) {
vec2 pixelPositionCB = (p - 0.5) * size;
vec2 sizeCB = size * 0.5;
float maxBorderRadius = min(size.x, size.y) * 0.5;
vec4 borderRadius = vec4(min(radii, maxBorderRadius));
borderRadius.xy =
(pixelPositionCB.x > 0.0) ? borderRadius.xy : borderRadius.zw;
borderRadius.x = (pixelPositionCB.y > 0.0) ? borderRadius.x : borderRadius.y;
vec2 q = abs(pixelPositionCB) - sizeCB + borderRadius.x;
return -(min(max(q.x, q.y), 0.0) + length(max(q, 0.0)) - borderRadius.x);
}
float rect(vec2 p, vec2 size) {
vec2 pixelPosition = p * size;
return min(min(pixelPosition.x, size.x - pixelPosition.x),
min(pixelPosition.y, size.y - pixelPosition.y));
}
vec4 get_stroked_fragColor(float dist) {
float isBorder = smoothedge(dist, vLineWidth);
return mix(vFillColor, vLineColor, isBorder);
}
void main(void) {
geometry.uv = uv;
if (textBackground.borderRadius != vec4(0.0)) {
float distToEdge = round_rect(uv, dimensions, textBackground.borderRadius);
if (textBackground.stroked) {
fragColor = get_stroked_fragColor(distToEdge);
} else {
fragColor = vFillColor;
}
float shapeAlpha = smoothedge(-distToEdge, 0.0);
fragColor.a *= shapeAlpha;
} else {
if (textBackground.stroked) {
float distToEdge = rect(uv, dimensions);
fragColor = get_stroked_fragColor(distToEdge);
} else {
fragColor = vFillColor;
}
}
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`;var bz1,vh,Pk0;var kk0=h(()=>{E8();G3();G3();Tk0();bz1={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,borderRadius:{type:"object",value:0},padding:{type:"array",value:[0,0,0,0]},getPosition:{type:"accessor",value:($)=>$.position},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},getBoundingRect:{type:"accessor",value:[0,0,0,0]},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1}};vh=class vh extends d4{getShaders(){return super.getShaders({vs:Dk0,fs:Ck0,modules:[k$,E$,wk0]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instanceRects:{size:4,accessor:"getBoundingRect"},instancePixelOffsets:{size:2,transition:!0,accessor:"getPixelOffset"},instanceFillColors:{size:4,transition:!0,type:"unorm8",accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,type:"unorm8",accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState($){super.updateState($);let{changeFlags:Q}=$;if(Q.extensionsChanged)this.state.model?.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll()}draw({uniforms:$}){let{billboard:Q,sizeScale:J,sizeUnits:K,sizeMinPixels:Y,sizeMaxPixels:Z,getLineWidth:q}=this.props,{padding:X,borderRadius:W}=this.props;if(X.length<4)X=[X[0],X[1],X[0],X[1]];if(!Array.isArray(W))W=[W,W,W,W];let F=this.state.model,H={billboard:Q,stroked:Boolean(q),borderRadius:W,padding:X,sizeUnits:A4[K],sizeScale:J,sizeMinPixels:Y,sizeMaxPixels:Z};F.shaderInputs.setProps({textBackground:H}),F.draw(this.context.renderPass)}_getModel(){let $=[0,0,1,0,0,1,1,1];return new j8(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new R3({topology:"triangle-strip",vertexCount:4,attributes:{positions:{size:2,value:new Float32Array($)}}}),isInstanced:!0})}};vh.defaultProps=bz1;vh.layerName="TextBackgroundLayer";Pk0=vh});var jk0,Ek0,ki,gz1=1,yz1,Sh,Lk0;var hk0=h(()=>{E8();Zk0();Ok0();Pi();kk0();jk0={start:1,middle:0,end:-1},Ek0={top:1,center:0,bottom:-1},ki=[0,0,0,255],yz1={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,background:!1,getBackgroundColor:{type:"accessor",value:[255,255,255,255]},getBorderColor:{type:"accessor",value:ki},getBorderWidth:{type:"accessor",value:0},backgroundBorderRadius:{type:"object",value:0},backgroundPadding:{type:"array",value:[0,0,0,0]},characterSet:{type:"object",value:PF.characterSet},fontFamily:PF.fontFamily,fontWeight:PF.fontWeight,lineHeight:gz1,outlineWidth:{type:"number",value:0,min:0},outlineColor:{type:"color",value:ki},fontSettings:{type:"object",value:{},compare:1},wordBreak:"break-word",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:($)=>$.text},getPosition:{type:"accessor",value:($)=>$.position},getColor:{type:"accessor",value:ki},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]},backgroundColor:{deprecatedFor:["background","getBackgroundColor"]}};Sh=class Sh extends LO{constructor(){super(...arguments);this.getBoundingRect=($,Q)=>{let{size:[J,K]}=this.transformParagraph($,Q),{fontSize:Y}=this.state.fontAtlasManager.props;J/=Y,K/=Y;let{getTextAnchor:Z,getAlignmentBaseline:q}=this.props,X=jk0[typeof Z==="function"?Z($,Q):Z],W=Ek0[typeof q==="function"?q($,Q):q];return[(X-1)*J/2,(W-1)*K/2,J,K]},this.getIconOffsets=($,Q)=>{let{getTextAnchor:J,getAlignmentBaseline:K}=this.props,{x:Y,y:Z,rowWidth:q,size:[X,W]}=this.transformParagraph($,Q),F=jk0[typeof J==="function"?J($,Q):J],H=Ek0[typeof K==="function"?K($,Q):K],B=Y.length,z=Array(B*2),A=0;for(let R=0;R<B;R++){let G=(1-F)*(X-q[R])/2;z[A++]=(F-1)*X/2+G+Y[R],z[A++]=(H-1)*W/2+Z[R]}return z}}initializeState(){if(this.state={styleVersion:0,fontAtlasManager:new hh},this.props.maxWidth>0)I1.once(1,"v8.9 breaking change: TextLayer maxWidth is now relative to text size")()}updateState($){let{props:Q,oldProps:J,changeFlags:K}=$;if(K.dataChanged||K.updateTriggersChanged&&(K.updateTriggersChanged.all||K.updateTriggersChanged.getText))this._updateText();if(this._updateFontAtlas()||Q.lineHeight!==J.lineHeight||Q.wordBreak!==J.wordBreak||Q.maxWidth!==J.maxWidth)this.setState({styleVersion:this.state.styleVersion+1})}getPickingInfo({info:$}){return $.object=$.index>=0?this.props.data[$.index]:null,$}_updateFontAtlas(){let{fontSettings:$,fontFamily:Q,fontWeight:J}=this.props,{fontAtlasManager:K,characterSet:Y}=this.state,Z={...$,characterSet:Y,fontFamily:Q,fontWeight:J};if(!K.mapping)return K.setProps(Z),!0;for(let q in Z)if(Z[q]!==K.props[q])return K.setProps(Z),!0;return!1}_updateText(){let{data:$,characterSet:Q}=this.props,J=$.attributes?.getText,{getText:K}=this.props,Y=$.startIndices,Z,q=Q==="auto"&&new Set;if(J&&Y){let{texts:X,characterCount:W}=Nk0({...ArrayBuffer.isView(J)?{value:J}:J,length:$.length,startIndices:Y,characterSet:q});Z=W,K=(F,{index:H})=>X[H]}else{let{iterable:X,objectInfo:W}=WZ($);Y=[0],Z=0;for(let F of X){W.index++;let H=Array.from(K(F,W)||"");if(q)H.forEach(q.add,q);Z+=H.length,Y.push(Z)}}this.setState({getText:K,startIndices:Y,numInstances:Z,characterSet:q||Q})}transformParagraph($,Q){let{fontAtlasManager:J}=this.state,K=J.mapping,Y=this.state.getText,{wordBreak:Z,lineHeight:q,maxWidth:X}=this.props,W=Y($,Q)||"";return Hk0(W,q,Z,X*J.props.fontSize,K)}renderLayers(){let{startIndices:$,numInstances:Q,getText:J,fontAtlasManager:{scale:K,atlas:Y,mapping:Z},styleVersion:q}=this.state,{data:X,_dataDiff:W,getPosition:F,getColor:H,getSize:B,getAngle:z,getPixelOffset:A,getBackgroundColor:R,getBorderColor:G,getBorderWidth:O,backgroundBorderRadius:T,backgroundPadding:D,background:P,billboard:j,fontSettings:E,outlineWidth:L,outlineColor:v,sizeScale:f,sizeUnits:_,sizeMinPixels:M,sizeMaxPixels:b,transitions:x,updateTriggers:g}=this.props,m=this.getSubLayerClass("characters",Yk0),u=this.getSubLayerClass("background",Pk0);return[P&&new u({getFillColor:R,getLineColor:G,getLineWidth:O,borderRadius:T,padding:D,getPosition:F,getSize:B,getAngle:z,getPixelOffset:A,billboard:j,sizeScale:f,sizeUnits:_,sizeMinPixels:M,sizeMaxPixels:b,transitions:x&&{getPosition:x.getPosition,getAngle:x.getAngle,getSize:x.getSize,getFillColor:x.getBackgroundColor,getLineColor:x.getBorderColor,getLineWidth:x.getBorderWidth,getPixelOffset:x.getPixelOffset}},this.getSubLayerProps({id:"background",updateTriggers:{getPosition:g.getPosition,getAngle:g.getAngle,getSize:g.getSize,getFillColor:g.getBackgroundColor,getLineColor:g.getBorderColor,getLineWidth:g.getBorderWidth,getPixelOffset:g.getPixelOffset,getBoundingRect:{getText:g.getText,getTextAnchor:g.getTextAnchor,getAlignmentBaseline:g.getAlignmentBaseline,styleVersion:q}}}),{data:X.attributes&&X.attributes.background?{length:X.length,attributes:X.attributes.background}:X,_dataDiff:W,autoHighlight:!1,getBoundingRect:this.getBoundingRect}),new m({sdf:E.sdf,smoothing:Number.isFinite(E.smoothing)?E.smoothing:PF.smoothing,outlineWidth:L/(E.radius||PF.radius),outlineColor:v,iconAtlas:Y,iconMapping:Z,getPosition:F,getColor:H,getSize:B,getAngle:z,getPixelOffset:A,billboard:j,sizeScale:f*K,sizeUnits:_,sizeMinPixels:M*K,sizeMaxPixels:b*K,transitions:x&&{getPosition:x.getPosition,getAngle:x.getAngle,getColor:x.getColor,getSize:x.getSize,getPixelOffset:x.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{all:g.getText,getPosition:g.getPosition,getAngle:g.getAngle,getColor:g.getColor,getSize:g.getSize,getPixelOffset:g.getPixelOffset,getIconOffsets:{getTextAnchor:g.getTextAnchor,getAlignmentBaseline:g.getAlignmentBaseline,styleVersion:q}}}),{data:X,_dataDiff:W,startIndices:$,numInstances:Q,getIconOffsets:this.getIconOffsets,getIcon:J})]}static set fontAtlasCacheLimit($){Gk0($)}};Sh.defaultProps=yz1;Sh.layerName="TextLayer";Lk0=Sh});function pB({type:$,props:Q}){let J={};for(let K in Q)J[K]=$.defaultProps[Q[K]];return J}function fh($,Q){let{transitions:J,updateTriggers:K}=$.props,Y={updateTriggers:{},transitions:J&&{getPosition:J.geometry}};for(let Z in Q){let q=Q[Z],X=$.props[Z];if(Z.startsWith("get")){if(X=$.getSubLayerAccessor(X),Y.updateTriggers[q]=K[Z],J)Y.transitions[q]=J[Z]}Y[q]=X}return Y}var cO,uO,_h;var vk0=h(()=>{Fi();XP0();hk0();jP0();oP0();cO={circle:{type:qP0,props:{filled:"filled",stroked:"stroked",lineWidthMaxPixels:"lineWidthMaxPixels",lineWidthMinPixels:"lineWidthMinPixels",lineWidthScale:"lineWidthScale",lineWidthUnits:"lineWidthUnits",pointRadiusMaxPixels:"radiusMaxPixels",pointRadiusMinPixels:"radiusMinPixels",pointRadiusScale:"radiusScale",pointRadiusUnits:"radiusUnits",pointAntialiasing:"antialiasing",pointBillboard:"billboard",getFillColor:"getFillColor",getLineColor:"getLineColor",getLineWidth:"getLineWidth",getPointRadius:"getRadius"}},icon:{type:qh,props:{iconAtlas:"iconAtlas",iconMapping:"iconMapping",iconSizeMaxPixels:"sizeMaxPixels",iconSizeMinPixels:"sizeMinPixels",iconSizeScale:"sizeScale",iconSizeUnits:"sizeUnits",iconAlphaCutoff:"alphaCutoff",iconBillboard:"billboard",getIcon:"getIcon",getIconAngle:"getAngle",getIconColor:"getColor",getIconPixelOffset:"getPixelOffset",getIconSize:"getSize"}},text:{type:Lk0,props:{textSizeMaxPixels:"sizeMaxPixels",textSizeMinPixels:"sizeMinPixels",textSizeScale:"sizeScale",textSizeUnits:"sizeUnits",textBackground:"background",textBackgroundPadding:"backgroundPadding",textFontFamily:"fontFamily",textFontWeight:"fontWeight",textLineHeight:"lineHeight",textMaxWidth:"maxWidth",textOutlineColor:"outlineColor",textOutlineWidth:"outlineWidth",textWordBreak:"wordBreak",textCharacterSet:"characterSet",textBillboard:"billboard",textFontSettings:"fontSettings",getText:"getText",getTextAngle:"getAngle",getTextColor:"getColor",getTextPixelOffset:"getPixelOffset",getTextSize:"getSize",getTextAnchor:"getTextAnchor",getTextAlignmentBaseline:"getAlignmentBaseline",getTextBackgroundColor:"getBackgroundColor",getTextBorderColor:"getBorderColor",getTextBorderWidth:"getBorderWidth"}}},uO={type:kP0,props:{lineWidthUnits:"widthUnits",lineWidthScale:"widthScale",lineWidthMinPixels:"widthMinPixels",lineWidthMaxPixels:"widthMaxPixels",lineJointRounded:"jointRounded",lineCapRounded:"capRounded",lineMiterLimit:"miterLimit",lineBillboard:"billboard",getLineColor:"getColor",getLineWidth:"getWidth"}},_h={type:sP0,props:{extruded:"extruded",filled:"filled",wireframe:"wireframe",elevationScale:"elevationScale",material:"material",_full3d:"_full3d",getElevation:"getElevation",getFillColor:"getFillColor",getLineColor:"getLineColor"}}});function _k0($){if(Array.isArray($))return $;switch(I1.assert($.type,"GeoJSON does not have type"),$.type){case"Feature":return[$];case"FeatureCollection":return I1.assert(Array.isArray($.features),"GeoJSON does not have features array"),$.features;default:return[{geometry:$}]}}function ji($,Q,J={}){let K={pointFeatures:[],lineFeatures:[],polygonFeatures:[],polygonOutlineFeatures:[]},{startRow:Y=0,endRow:Z=$.length}=J;for(let q=Y;q<Z;q++){let X=$[q],{geometry:W}=X;if(!W)continue;if(W.type==="GeometryCollection"){I1.assert(Array.isArray(W.geometries),"GeoJSON does not have geometries array");let{geometries:F}=W;for(let H=0;H<F.length;H++){let B=F[H];Sk0(B,K,Q,X,q)}}else Sk0(W,K,Q,X,q)}return K}function Sk0($,Q,J,K,Y){let{type:Z,coordinates:q}=$,{pointFeatures:X,lineFeatures:W,polygonFeatures:F,polygonOutlineFeatures:H}=Q;if(!cz1(Z,q)){I1.warn(`${Z} coordinates are malformed`)();return}switch(Z){case"Point":X.push(J({geometry:$},K,Y));break;case"MultiPoint":q.forEach((B)=>{X.push(J({geometry:{type:"Point",coordinates:B}},K,Y))});break;case"LineString":W.push(J({geometry:$},K,Y));break;case"MultiLineString":q.forEach((B)=>{W.push(J({geometry:{type:"LineString",coordinates:B}},K,Y))});break;case"Polygon":F.push(J({geometry:$},K,Y)),q.forEach((B)=>{H.push(J({geometry:{type:"LineString",coordinates:B}},K,Y))});break;case"MultiPolygon":q.forEach((B)=>{F.push(J({geometry:{type:"Polygon",coordinates:B}},K,Y)),B.forEach((z)=>{H.push(J({geometry:{type:"LineString",coordinates:z}},K,Y))})});break;default:}}function cz1($,Q){let J=xz1[$];I1.assert(J,`Unknown GeoJSON type ${$}`);while(Q&&--J>0)Q=Q[0];return Q&&Number.isFinite(Q[0])}var xz1;var fk0=h(()=>{E8();xz1={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4}});function Ik0(){return{points:{},lines:{},polygons:{},polygonsOutline:{}}}function Ih($){return $.geometry.coordinates}function Mk0($,Q){let J=Ik0(),{pointFeatures:K,lineFeatures:Y,polygonFeatures:Z,polygonOutlineFeatures:q}=$;return J.points.data=K,J.points._dataDiff=Q.pointFeatures&&(()=>Q.pointFeatures),J.points.getPosition=Ih,J.lines.data=Y,J.lines._dataDiff=Q.lineFeatures&&(()=>Q.lineFeatures),J.lines.getPath=Ih,J.polygons.data=Z,J.polygons._dataDiff=Q.polygonFeatures&&(()=>Q.polygonFeatures),J.polygons.getPolygon=Ih,J.polygonsOutline.data=q,J.polygonsOutline._dataDiff=Q.polygonOutlineFeatures&&(()=>Q.polygonOutlineFeatures),J.polygonsOutline.getPath=Ih,J}function bk0($,Q){let J=Ik0(),{points:K,lines:Y,polygons:Z}=$,q=eP0($,Q);if(J.points.data={length:K.positions.value.length/K.positions.size,attributes:{...K.attributes,getPosition:K.positions,instancePickingColors:{size:4,value:q.points}},properties:K.properties,numericProps:K.numericProps,featureIds:K.featureIds},J.lines.data={length:Y.pathIndices.value.length-1,startIndices:Y.pathIndices.value,attributes:{...Y.attributes,getPath:Y.positions,instancePickingColors:{size:4,value:q.lines}},properties:Y.properties,numericProps:Y.numericProps,featureIds:Y.featureIds},J.lines._pathType="open",J.polygons.data={length:Z.polygonIndices.value.length-1,startIndices:Z.polygonIndices.value,attributes:{...Z.attributes,getPolygon:Z.positions,pickingColors:{size:4,value:q.polygons}},properties:Z.properties,numericProps:Z.numericProps,featureIds:Z.featureIds},J.polygons._normalize=!1,Z.triangles)J.polygons.data.attributes.indices=Z.triangles.value;return J.polygonsOutline.data={length:Z.primitivePolygonIndices.value.length-1,startIndices:Z.primitivePolygonIndices.value,attributes:{...Z.attributes,getPath:Z.positions,instancePickingColors:{size:4,value:q.polygons}},properties:Z.properties,numericProps:Z.numericProps,featureIds:Z.featureIds},J.polygonsOutline._pathType="open",J}var gk0=()=>{};var uz1,mz1,Mh,Ei;var yk0=h(()=>{E8();vk0();fk0();gk0();uz1=["points","linestrings","polygons"],mz1={...pB(cO.circle),...pB(cO.icon),...pB(cO.text),...pB(uO),...pB(_h),stroked:!0,filled:!0,extruded:!1,wireframe:!1,_full3d:!1,iconAtlas:{type:"object",value:null},iconMapping:{type:"object",value:{}},getIcon:{type:"accessor",value:($)=>$.properties.icon},getText:{type:"accessor",value:($)=>$.properties.text},pointType:"circle",getRadius:{deprecatedFor:"getPointRadius"}};Mh=class Mh extends LO{initializeState(){this.state={layerProps:{},features:{},featuresDiff:{}}}updateState({props:$,changeFlags:Q}){if(!Q.dataChanged)return;let{data:J}=this.props,K=J&&"points"in J&&"polygons"in J&&"lines"in J;if(this.setState({binary:K}),K)this._updateStateBinary({props:$,changeFlags:Q});else this._updateStateJSON({props:$,changeFlags:Q})}_updateStateBinary({props:$,changeFlags:Q}){let J=bk0($.data,this.encodePickingColor);this.setState({layerProps:J})}_updateStateJSON({props:$,changeFlags:Q}){let J=_k0($.data),K=this.getSubLayerRow.bind(this),Y={},Z={};if(Array.isArray(Q.dataChanged)){let X=this.state.features;for(let W in X)Y[W]=X[W].slice(),Z[W]=[];for(let W of Q.dataChanged){let F=ji(J,K,W);for(let H in X)Z[H].push(aP0({data:Y[H],getIndex:(B)=>B.__source.index,dataRange:W,replace:F[H]}))}}else Y=ji(J,K);let q=Mk0(Y,Z);this.setState({features:Y,featuresDiff:Z,layerProps:q})}getPickingInfo($){let Q=super.getPickingInfo($),{index:J,sourceLayer:K}=Q;if(Q.featureType=uz1.find((Y)=>K.id.startsWith(`${this.id}-${Y}-`)),J>=0&&K.id.startsWith(`${this.id}-points-text`)&&this.state.binary)Q.index=this.props.data.points.globalFeatureIds.value[J];return Q}_updateAutoHighlight($){let Q=`${this.id}-points-`,J=$.featureType==="points";for(let K of this.getSubLayers())if(K.id.startsWith(Q)===J)K.updateAutoHighlight($)}_renderPolygonLayer(){let{extruded:$,wireframe:Q}=this.props,{layerProps:J}=this.state,K="polygons-fill",Y=this.shouldRenderSubLayer("polygons-fill",J.polygons?.data)&&this.getSubLayerClass("polygons-fill",_h.type);if(Y){let Z=fh(this,_h.props),q=$&&Q;if(!q)delete Z.getLineColor;return Z.updateTriggers.lineColors=q,new Y(Z,this.getSubLayerProps({id:"polygons-fill",updateTriggers:Z.updateTriggers}),J.polygons)}return null}_renderLineLayers(){let{extruded:$,stroked:Q}=this.props,{layerProps:J}=this.state,K="polygons-stroke",Y="linestrings",Z=!$&&Q&&this.shouldRenderSubLayer("polygons-stroke",J.polygonsOutline?.data)&&this.getSubLayerClass("polygons-stroke",uO.type),q=this.shouldRenderSubLayer("linestrings",J.lines?.data)&&this.getSubLayerClass("linestrings",uO.type);if(Z||q){let X=fh(this,uO.props);return[Z&&new Z(X,this.getSubLayerProps({id:"polygons-stroke",updateTriggers:X.updateTriggers}),J.polygonsOutline),q&&new q(X,this.getSubLayerProps({id:"linestrings",updateTriggers:X.updateTriggers}),J.lines)]}return null}_renderPointLayers(){let{pointType:$}=this.props,{layerProps:Q,binary:J}=this.state,{highlightedObjectIndex:K}=this.props;if(!J&&Number.isFinite(K))K=Q.points.data.findIndex((q)=>q.__source.index===K);let Y=new Set($.split("+")),Z=[];for(let q of Y){let X=`points-${q}`,W=cO[q],F=W&&this.shouldRenderSubLayer(X,Q.points?.data)&&this.getSubLayerClass(X,W.type);if(F){let H=fh(this,W.props),B=Q.points;if(q==="text"&&J){let{instancePickingColors:z,...A}=B.data.attributes;B={...B,data:{...B.data,attributes:A}}}Z.push(new F(H,this.getSubLayerProps({id:X,updateTriggers:H.updateTriggers,highlightedObjectIndex:K}),B))}}return Z}renderLayers(){let{extruded:$}=this.props,Q=this._renderPolygonLayer(),J=this._renderLineLayers(),K=this._renderPointLayers();return[!$&&Q,J,K,$&&Q]}getSubLayerAccessor($){let{binary:Q}=this.state;if(!Q||typeof $!=="function")return super.getSubLayerAccessor($);return(J,K)=>{let{data:Y,index:Z}=K,q=tP0(Y,Z);return $(q,K)}}};Mh.layerName="GeoJsonLayer";Mh.defaultProps=mz1;Ei=Mh});var xk0=h(()=>{yk0()});var bh,dz1,ck0;var uk0=h(()=>{bh=r1(z7(),1),dz1=typeof window<"u"?bh.useLayoutEffect:bh.useEffect,ck0=dz1});function dB($,Q){while($){if($===Q)return!0;$=Object.getPrototypeOf($)}return!1}function gh($,Q){if(typeof $==="function")return $(Q);if(Array.isArray($))return $.map((J)=>gh(J,Q));if(nB($)){if(lz1($))return Q.style=nz1,Li.cloneElement($,Q);if(rz1($))return Li.cloneElement($,Q)}return $}function nB($){return $&&typeof $==="object"&&"type"in $||!1}function lz1($){return $.props?.mapStyle}function rz1($){let Q=$.type;return Q&&Q.deckGLViewProps}var Li,nz1;var hi=h(()=>{Li=r1(z7(),1),nz1={position:"absolute",zIndex:-1}});function vi($){if(typeof $==="function")return mk0.createElement(L$,{},$);if(Array.isArray($))return $.map(vi);if(nB($)){if($.type===yh.Fragment)return vi($.props.children);if(dB($.type,L$))return $}return $}function Si({children:$,layers:Q=[],views:J=null}){let K=[],Y=[],Z={};if(yh.Children.forEach(vi($),(q)=>{if(nB(q)){let X=q.type;if(dB(X,d4)){let W=iz1(X,q.props);Y.push(W)}else K.push(q);if(dB(X,L$)&&X!==L$&&q.props.id){let W=new X(q.props);Z[W.id]=W}}else if(q)K.push(q)}),Object.keys(Z).length>0){if(Array.isArray(J))J.forEach((q)=>{Z[q.id]=q});else if(J)Z[J.id]=J;J=Object.values(Z)}return Q=Y.length>0?[...Y,...Q]:Q,{layers:Q,children:K,views:J}}function iz1($,Q){let J={},K=$.defaultProps||{};for(let Y in Q)if(K[Y]!==Q[Y])J[Y]=Q[Y];return new $(J)}var yh,mk0;var pk0=h(()=>{E8();hi();yh=r1(z7(),1),mk0=r1(z7(),1)});var dk0,nk0;var lk0=h(()=>{dk0=r1(z7(),1),nk0=dk0.createContext()});function fi({children:$,deck:Q,ContextProvider:J=nk0.Provider}){let{viewManager:K}=Q||{};if(!K||!K.views.length)return[];let Y={},Z=K.views[0].id;for(let q of $){let X=Z,W=q;if(nB(q)&&dB(q.type,L$))X=q.props.id||Z,W=q.props.children;let F=K.getViewport(X),H=K.getViewState(X);if(F){H.padding=F.padding;let{x:B,y:z,width:A,height:R}=F;if(W=gh(W,{x:B,y:z,width:A,height:R,viewport:F,viewState:H}),!Y[X])Y[X]={viewport:F,children:[]};Y[X].children.push(W)}}return Object.keys(Y).map((q)=>{let{viewport:X,children:W}=Y[q],{x:F,y:H,width:B,height:z}=X,A={position:"absolute",left:F,top:H,width:B,height:z},R=`view-${q}`,G=_i.createElement("div",{key:R,id:R,style:A},...W),O={deck:Q,viewport:X,container:Q.canvas.offsetParent,eventManager:Q.eventManager,onViewStateChange:(D)=>{D.viewId=q,Q._onViewStateChange(D)},widgets:[]},T=`view-${q}-context`;return _i.createElement(J,{key:T,value:O},G)})}var _i;var rk0=h(()=>{E8();hi();lk0();_i=r1(z7(),1)});function Ii({width:$,height:Q,style:J}){let K={position:"absolute",zIndex:0,left:0,top:0,width:$,height:Q},Y={left:0,top:0};if(J)for(let Z in J)if(Z in sz1)Y[Z]=J[Z];else K[Z]=J[Z];return{containerStyle:K,canvasStyle:Y}}var sz1;var ik0=h(()=>{sz1={mixBlendMode:null}});function oz1($){return{get deck(){return $.deck},pickObject:(Q)=>$.deck.pickObject(Q),pickMultipleObjects:(Q)=>$.deck.pickMultipleObjects(Q),pickObjects:(Q)=>$.deck.pickObjects(Q)}}function ok0($){if($.redrawReason)$.deck._drawLayers($.redrawReason),$.redrawReason=null}function az1($,Q,J){let K=new Q({...J,_customRender:J.deviceProps?.adapters?.[0]?.type==="webgpu"?void 0:(Y)=>{$.redrawReason=Y;let Z=K.getViewports();if($.lastRenderedViewports!==Z)$.forceUpdate();else ok0($)}});return K}function tz1($,Q){let[J,K]=l8.useState(0),Z=l8.useRef({control:null,version:J,forceUpdate:()=>K((E)=>E+1)}).current,q=l8.useRef(null),X=l8.useRef(null),W=l8.useMemo(()=>Si($),[$.layers,$.views,$.children]),F=!0,H=(E)=>{if(F&&$.viewState)return Z.viewStateUpdateRequested=E,null;return Z.viewStateUpdateRequested=null,$.onViewStateChange?.(E)},B=(E)=>{if(F)Z.interactionStateUpdateRequested=E;else Z.interactionStateUpdateRequested=null,$.onInteractionStateChange?.(E)},z=l8.useMemo(()=>{let E={widgets:[],...$,style:null,width:"100%",height:"100%",parent:q.current,canvas:X.current,layers:W.layers,views:W.views,onViewStateChange:H,onInteractionStateChange:B};if(delete E._customRender,Z.deck)Z.deck.setProps(E);return E},[$]);l8.useEffect(()=>{let E=$.Deck||rr;return Z.deck=az1(Z,E,{...z,parent:q.current,canvas:X.current}),()=>Z.deck?.finalize()},[]),ck0(()=>{ok0(Z);let{viewStateUpdateRequested:E,interactionStateUpdateRequested:L}=Z;if(E)H(E);if(L)B(L)}),l8.useImperativeHandle(Q,()=>oz1(Z),[]);let A=Z.deck&&Z.deck.isInitialized?Z.deck.getViewports():void 0,{ContextProvider:R,width:G="100%",height:O="100%",id:T,style:D}=$,{containerStyle:P,canvasStyle:j}=l8.useMemo(()=>Ii({width:G,height:O,style:D}),[G,O,D]);if(!Z.viewStateUpdateRequested&&Z.lastRenderedViewports===A||Z.version!==J){Z.lastRenderedViewports=A,Z.version=J;let E=fi({children:W.children,deck:Z.deck,ContextProvider:R}),L=l8.createElement("canvas",{key:"canvas",id:T||"deckgl-overlay",ref:X,style:j});Z.control=l8.createElement("div",{id:`${T||"deckgl"}-wrapper`,ref:q,style:P},[L,E])}return F=!1,Z.control}var sk0,l8,ez1,mO;var ak0=h(()=>{E8();uk0();pk0();rk0();ik0();sk0=r1(z7(),1),l8=r1(z7(),1);ez1=sk0.forwardRef(tz1),mO=ez1});var tk0=h(()=>{ak0()});var ek0=h(()=>{tk0()});var $j0=()=>{};var Qj0={};OQ(Qj0,{MapWidget:()=>QA1});function QA1({config:$,filters:Q=[]}){let{db:J,tableVersion:K}=W4(),[Y,Z]=ch.useState([]);if(ch.useEffect(()=>{if(console.log(K),!J||K<1)return;debugger;new pY(J,$,Q).execute().then((W)=>{debugger;let F=W.reduce((H,B)=>{if(B&&B.simplified_geom_geojson)try{H.push(JSON.parse(B.simplified_geom_geojson))}catch(z){console.error("Error parsing GeoJSON:",z)}return H},[]);debugger;Z(F)})},[J,K]),console.log("Rendering MapWidget",Y?.length),K<1)return xh.jsxDEV("div",{children:"Map will load after initial data is loaded."},void 0,!1,void 0,this);let q=[new Ei({id:"geojson-layer",data:Y,pickable:!0,stroked:!1,filled:!0,extruded:!0,pointType:"circle",lineWidthScale:20,lineWidthMinPixels:2,getFillColor:[160,160,180,200],getPointRadius:100,getLineWidth:1,getElevation:30})];if(K==0)return xh.jsxDEV("span",{children:"Waiting"},void 0,!1,void 0,this);return xh.jsxDEV(mO,{initialViewState:$A1,controller:!0,layers:q,getTooltip:({object:X})=>{if(X&&X.properties){let W=$.params.columns?.find((F)=>F.column==="org_unit_name");if(W)return X.properties[W.label||W.column];return X.properties.name}return null}},void 0,!1,void 0,this)}var ch,xh,$A1;var Jj0=h(()=>{$K();ek0();$j0();xk0();ch=r1(z7(),1),xh=r1(R7(),1),$A1={longitude:-122.41669,latitude:37.7853,zoom:13,pitch:0,bearing:0}});function c($,Q){if(typeof Q!=="function"&&Q!==null)throw TypeError("Class extends value "+String(Q)+" is not a constructor or null");Mi($,Q);function J(){this.constructor=$}$.prototype=Q===null?Object.create(Q):(J.prototype=Q.prototype,new J)}var Mi=function($,Q){return Mi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,K){J.__proto__=K}||function(J,K){for(var Y in K)if(Object.prototype.hasOwnProperty.call(K,Y))J[Y]=K[Y]},Mi($,Q)};var H0=h(()=>{/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */});function YA1($,Q){var J=Q.browser,K=$.match(/Firefox\/([\d.]+)/),Y=$.match(/MSIE\s([\d.]+)/)||$.match(/Trident\/.+?rv:(([\d.]+))/),Z=$.match(/Edge?\/([\d.]+)/),q=/micromessenger/i.test($);if(K)J.firefox=!0,J.version=K[1];if(Y)J.ie=!0,J.version=Y[1];if(Z)J.edge=!0,J.version=Z[1],J.newEdge=+Z[1].split(".")[0]>18;if(q)J.weChat=!0;Q.svgSupported=typeof SVGRect<"u",Q.touchEventsSupported="ontouchstart"in window&&!J.ie&&!J.edge,Q.pointerEventsSupported="onpointerdown"in window&&(J.edge||J.ie&&+J.version>=11);var X=Q.domSupported=typeof document<"u";if(X){var W=document.documentElement.style;Q.transform3dSupported=(J.ie&&("transition"in W)||J.edge||("WebKitCSSMatrix"in window)&&("m11"in new WebKitCSSMatrix)||("MozPerspective"in W))&&!("OTransition"in W),Q.transformSupported=Q.transform3dSupported||J.ie&&+J.version>=9}}var JA1,KA1,PX,M1;var t7=h(()=>{JA1=function(){function $(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return $}(),KA1=function(){function $(){this.browser=new JA1,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return $}(),PX=new KA1;if(typeof wx==="object"&&typeof wx.getSystemInfoSync==="function")PX.wxa=!0,PX.touchEventsSupported=!0;else if(typeof document>"u"&&typeof self<"u")PX.worker=!0;else if(!PX.hasGlobalWindow||"Deno"in window||typeof navigator<"u"&&typeof navigator.userAgent==="string"&&navigator.userAgent.indexOf("Node.js")>-1)PX.node=!0,PX.svgSupported=!0;else YA1(navigator.userAgent,PX);M1=PX});function WA1($){var Q={};if(typeof JSON>"u")return Q;for(var J=0;J<$.length;J++){var K=String.fromCharCode(J+32),Y=($.charCodeAt(J)-ZA1)/qA1;Q[K]=Y}return Q}var uh=12,bi="sans-serif",k9,ZA1=20,qA1=100,XA1="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N",FA1,U8;var h$=h(()=>{k9=uh+"px "+bi;FA1=WA1(XA1),U8={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var $,Q;return function(J,K){if(!$){var Y=U8.createCanvas();$=Y&&Y.getContext("2d")}if($){if(Q!==K)Q=$.font=K||k9;return $.measureText(J)}else{J=J||"",K=K||k9;var Z=/((?:\d+)?\.?\d*)px/.exec(K),q=Z&&+Z[1]||uh,X=0;if(K.indexOf("mono")>=0)X=q*J.length;else for(var W=0;W<J.length;W++){var F=FA1[J[W]];X+=F==null?q:F*q}return{width:X}}}}(),loadImage:function($,Q,J){var K=new Image;return K.onload=Q,K.onerror=J,K.src=$,K}}});function dh(){return BA1++}function H8(){var $=[];for(var Q=0;Q<arguments.length;Q++)$[Q]=arguments[Q];if(typeof console<"u")console.error.apply(console,$)}function m0($){if($==null||typeof $!=="object")return $;var Q=$,J=lB.call($);if(J==="[object Array]"){if(!pO($)){Q=[];for(var K=0,Y=$.length;K<Y;K++)Q[K]=m0($[K])}}else if(qj0[J]){if(!pO($)){var Z=$.constructor;if(Z.from)Q=Z.from($);else{Q=new Z($.length);for(var K=0,Y=$.length;K<Y;K++)Q[K]=$[K]}}}else if(!Zj0[J]&&!pO($)&&!wK($)){Q={};for(var q in $)if($.hasOwnProperty(q)&&q!==yi)Q[q]=m0($[q])}return Q}function F1($,Q,J){if(!y0(Q)||!y0($))return J?m0(Q):$;for(var K in Q)if(Q.hasOwnProperty(K)&&K!==yi){var Y=$[K],Z=Q[K];if(y0(Z)&&y0(Y)&&!Z0(Z)&&!Z0(Y)&&!wK(Z)&&!wK(Y)&&!Yj0(Z)&&!Yj0(Y)&&!pO(Z)&&!pO(Y))F1(Y,Z,J);else if(J||!(K in $))$[K]=m0(Q[K])}return $}function rB($,Q){var J=$[0];for(var K=1,Y=$.length;K<Y;K++)J=F1(J,$[K],Q);return J}function Y0($,Q){if(Object.assign)Object.assign($,Q);else for(var J in Q)if(Q.hasOwnProperty(J)&&J!==yi)$[J]=Q[J];return $}function c0($,Q,J){var K=N1(Q);for(var Y=0,Z=K.length;Y<Z;Y++){var q=K[Y];if(J?Q[q]!=null:$[q]==null)$[q]=Q[q]}return $}function J1($,Q){if($){if($.indexOf)return $.indexOf(Q);for(var J=0,K=$.length;J<K;J++)if($[J]===Q)return J}return-1}function Xj0($,Q){var J=$.prototype;function K(){}K.prototype=Q.prototype,$.prototype=new K;for(var Y in J)if(J.hasOwnProperty(Y))$.prototype[Y]=J[Y];$.prototype.constructor=$,$.superClass=Q}function n5($,Q,J){if($="prototype"in $?$.prototype:$,Q="prototype"in Q?Q.prototype:Q,Object.getOwnPropertyNames){var K=Object.getOwnPropertyNames(Q);for(var Y=0;Y<K.length;Y++){var Z=K[Y];if(Z!=="constructor"){if(J?Q[Z]!=null:$[Z]==null)$[Z]=Q[Z]}}}else c0($,Q,J)}function F7($){if(!$)return!1;if(typeof $==="string")return!1;return typeof $.length==="number"}function S($,Q,J){if(!($&&Q))return;if($.forEach&&$.forEach===UA1)$.forEach(Q,J);else if($.length===+$.length)for(var K=0,Y=$.length;K<Y;K++)Q.call(J,$[K],K,$);else for(var Z in $)if($.hasOwnProperty(Z))Q.call(J,$[Z],Z,$)}function q0($,Q,J){if(!$)return[];if(!Q)return lh($);if($.map&&$.map===NA1)return $.map(Q,J);else{var K=[];for(var Y=0,Z=$.length;Y<Z;Y++)K.push(Q.call(J,$[Y],Y,$));return K}}function r8($,Q,J,K){if(!($&&Q))return;for(var Y=0,Z=$.length;Y<Z;Y++)J=Q.call(K,J,$[Y],Y,$);return J}function f1($,Q,J){if(!$)return[];if(!Q)return lh($);if($.filter&&$.filter===HA1)return $.filter(Q,J);else{var K=[];for(var Y=0,Z=$.length;Y<Z;Y++)if(Q.call(J,$[Y],Y,$))K.push($[Y]);return K}}function mQ($,Q,J){if(!($&&Q))return;for(var K=0,Y=$.length;K<Y;K++)if(Q.call(J,$[K],K,$))return $[K]}function N1($){if(!$)return[];if(Object.keys)return Object.keys($);var Q=[];for(var J in $)if($.hasOwnProperty(J))Q.push(J);return Q}function zA1($,Q){var J=[];for(var K=2;K<arguments.length;K++)J[K-2]=arguments[K];return function(){return $.apply(Q,J.concat(gi.call(arguments)))}}function K1($){var Q=[];for(var J=1;J<arguments.length;J++)Q[J-1]=arguments[J];return function(){return $.apply(this,Q.concat(gi.call(arguments)))}}function Z0($){if(Array.isArray)return Array.isArray($);return lB.call($)==="[object Array]"}function I0($){return typeof $==="function"}function R0($){return typeof $==="string"}function iB($){return lB.call($)==="[object String]"}function V1($){return typeof $==="number"}function y0($){var Q=typeof $;return Q==="function"||!!$&&Q==="object"}function Yj0($){return!!Zj0[lB.call($)]}function U7($){return!!qj0[lB.call($)]}function wK($){return typeof $==="object"&&typeof $.nodeType==="number"&&typeof $.ownerDocument==="object"}function kX($){return $.colorStops!=null}function Wj0($){return $.image!=null}function nh($){return lB.call($)==="[object RegExp]"}function h6($){return $!==$}function J6(){var $=[];for(var Q=0;Q<arguments.length;Q++)$[Q]=arguments[Q];for(var J=0,K=$.length;J<K;J++)if($[J]!=null)return $[J]}function g0($,Q){return $!=null?$:Q}function v6($,Q,J){return $!=null?$:Q!=null?Q:J}function lh($){var Q=[];for(var J=1;J<arguments.length;J++)Q[J-1]=arguments[J];return gi.apply($,Q)}function jX($){if(typeof $==="number")return[$,$,$,$];var Q=$.length;if(Q===2)return[$[0],$[1],$[0],$[1]];else if(Q===3)return[$[0],$[1],$[2],$[1]];return $}function M0($,Q){if(!$)throw Error(Q)}function m7($){if($==null)return null;else if(typeof $.trim==="function")return $.trim();else return $.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function kF($){$[Fj0]=!0}function pO($){return $[Fj0]}function VA1(){return Uj0?new Map:new AA1}function _0($){return new RA1($)}function FZ($,Q){var J=new $.constructor($.length+Q.length);for(var K=0;K<$.length;K++)J[K]=$[K];var Y=$.length;for(var K=0;K<Q.length;K++)J[K+Y]=Q[K];return J}function EX($,Q){var J;if(Object.create)J=Object.create($);else{var K=function(){};K.prototype=$,J=new K}if(Q)Y0(J,Q);return J}function rh($){var Q=$.style;Q.webkitUserSelect="none",Q.userSelect="none",Q.webkitTapHighlightColor="rgba(0,0,0,0)",Q["-webkit-touch-callout"]="none"}function p0($,Q){return $.hasOwnProperty(Q)}function K6(){}var Zj0,qj0,lB,ph,UA1,HA1,gi,NA1,Kj0,mh,yi="__proto__",BA1=2311,_q5,P0,Fj0="__ec_primitive__",AA1,Uj0,RA1,sB,fq5;var l=h(()=>{h$();Zj0=r8(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function($,Q){return $["[object "+Q+"]"]=!0,$},{}),qj0=r8(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function($,Q){return $["[object "+Q+"Array]"]=!0,$},{}),lB=Object.prototype.toString,ph=Array.prototype,UA1=ph.forEach,HA1=ph.filter,gi=ph.slice,NA1=ph.map,Kj0=function(){}.constructor,mh=Kj0?Kj0.prototype:null;_q5=U8.createCanvas;P0=mh&&I0(mh.bind)?mh.call.bind(mh.bind):zA1;AA1=function(){function $(){this.data={}}return $.prototype.delete=function(Q){var J=this.has(Q);if(J)delete this.data[Q];return J},$.prototype.has=function(Q){return this.data.hasOwnProperty(Q)},$.prototype.get=function(Q){return this.data[Q]},$.prototype.set=function(Q,J){return this.data[Q]=J,this},$.prototype.keys=function(){return N1(this.data)},$.prototype.forEach=function(Q){var J=this.data;for(var K in J)if(J.hasOwnProperty(K))Q(J[K],K)},$}(),Uj0=typeof Map==="function";RA1=function(){function $(Q){var J=Z0(Q);this.data=VA1();var K=this;Q instanceof $?Q.each(Y):Q&&S(Q,Y);function Y(Z,q){J?K.set(Z,q):K.set(q,Z)}}return $.prototype.hasKey=function(Q){return this.data.has(Q)},$.prototype.get=function(Q){return this.data.get(Q)},$.prototype.set=function(Q,J){return this.data.set(Q,J),J},$.prototype.each=function(Q,J){this.data.forEach(function(K,Y){Q.call(J,K,Y)})},$.prototype.keys=function(){var Q=this.data.keys();return Uj0?Array.from(Q):Q},$.prototype.removeKey=function(Q){this.data.delete(Q)},$}();sB=180/Math.PI,fq5=Number.EPSILON||Math.pow(2,-52)});function TK($,Q){if($==null)$=0;if(Q==null)Q=0;return[$,Q]}function N8($,Q){return $[0]=Q[0],$[1]=Q[1],$}function j9($){return[$[0],$[1]]}function dO($,Q,J){return $[0]=Q,$[1]=J,$}function xi($,Q,J){return $[0]=Q[0]+J[0],$[1]=Q[1]+J[1],$}function nO($,Q,J,K){return $[0]=Q[0]+J[0]*K,$[1]=Q[1]+J[1]*K,$}function pQ($,Q,J){return $[0]=Q[0]-J[0],$[1]=Q[1]-J[1],$}function ih($){return Math.sqrt(GA1($))}function GA1($){return $[0]*$[0]+$[1]*$[1]}function oB($,Q,J){return $[0]=Q[0]*J,$[1]=Q[1]*J,$}function v$($,Q){var J=ih(Q);if(J===0)$[0]=0,$[1]=0;else $[0]=Q[0]/J,$[1]=Q[1]/J;return $}function sh($,Q){return Math.sqrt(($[0]-Q[0])*($[0]-Q[0])+($[1]-Q[1])*($[1]-Q[1]))}function OA1($,Q){return($[0]-Q[0])*($[0]-Q[0])+($[1]-Q[1])*($[1]-Q[1])}function aB($,Q,J,K){return $[0]=Q[0]+K*(J[0]-Q[0]),$[1]=Q[1]+K*(J[1]-Q[1]),$}function H6($,Q,J){var K=Q[0],Y=Q[1];return $[0]=J[0]*K+J[2]*Y+J[4],$[1]=J[1]*K+J[3]*Y+J[5],$}function D3($,Q,J){return $[0]=Math.min(Q[0],J[0]),$[1]=Math.min(Q[1],J[1]),$}function C3($,Q,J){return $[0]=Math.max(Q[0],J[0]),$[1]=Math.max(Q[1],J[1]),$}var S$,UZ;var w6=h(()=>{S$=sh;UZ=OA1});var tB,wA1,Hj0;var Nj0=h(()=>{tB=function(){function $(Q,J){this.target=Q,this.topTarget=J&&J.topTarget}return $}(),wA1=function(){function $(Q){this.handler=Q,Q.on("mousedown",this._dragStart,this),Q.on("mousemove",this._drag,this),Q.on("mouseup",this._dragEnd,this)}return $.prototype._dragStart=function(Q){var J=Q.target;while(J&&!J.draggable)J=J.parent||J.__hostTarget;if(J)this._draggingTarget=J,J.dragging=!0,this._x=Q.offsetX,this._y=Q.offsetY,this.handler.dispatchToElement(new tB(J,Q),"dragstart",Q.event)},$.prototype._drag=function(Q){var J=this._draggingTarget;if(J){var{offsetX:K,offsetY:Y}=Q,Z=K-this._x,q=Y-this._y;this._x=K,this._y=Y,J.drift(Z,q,Q),this.handler.dispatchToElement(new tB(J,Q),"drag",Q.event);var X=this.handler.findHover(K,Y,J).target,W=this._dropTarget;if(this._dropTarget=X,J!==X){if(W&&X!==W)this.handler.dispatchToElement(new tB(W,Q),"dragleave",Q.event);if(X&&X!==W)this.handler.dispatchToElement(new tB(X,Q),"dragenter",Q.event)}}},$.prototype._dragEnd=function(Q){var J=this._draggingTarget;if(J)J.dragging=!1;if(this.handler.dispatchToElement(new tB(J,Q),"dragend",Q.event),this._dropTarget)this.handler.dispatchToElement(new tB(this._dropTarget,Q),"drop",Q.event);this._draggingTarget=null,this._dropTarget=null},$}(),Hj0=wA1});var TA1,p7;var DK=h(()=>{TA1=function(){function $(Q){if(Q)this._$eventProcessor=Q}return $.prototype.on=function(Q,J,K,Y){if(!this._$handlers)this._$handlers={};var Z=this._$handlers;if(typeof J==="function")Y=K,K=J,J=null;if(!K||!Q)return this;var q=this._$eventProcessor;if(J!=null&&q&&q.normalizeQuery)J=q.normalizeQuery(J);if(!Z[Q])Z[Q]=[];for(var X=0;X<Z[Q].length;X++)if(Z[Q][X].h===K)return this;var W={h:K,query:J,ctx:Y||this,callAtLast:K.zrEventfulCallAtLast},F=Z[Q].length-1,H=Z[Q][F];return H&&H.callAtLast?Z[Q].splice(F,0,W):Z[Q].push(W),this},$.prototype.isSilent=function(Q){var J=this._$handlers;return!J||!J[Q]||!J[Q].length},$.prototype.off=function(Q,J){var K=this._$handlers;if(!K)return this;if(!Q)return this._$handlers={},this;if(J){if(K[Q]){var Y=[];for(var Z=0,q=K[Q].length;Z<q;Z++)if(K[Q][Z].h!==J)Y.push(K[Q][Z]);K[Q]=Y}if(K[Q]&&K[Q].length===0)delete K[Q]}else delete K[Q];return this},$.prototype.trigger=function(Q){var J=[];for(var K=1;K<arguments.length;K++)J[K-1]=arguments[K];if(!this._$handlers)return this;var Y=this._$handlers[Q],Z=this._$eventProcessor;if(Y){var q=J.length,X=Y.length;for(var W=0;W<X;W++){var F=Y[W];if(Z&&Z.filter&&F.query!=null&&!Z.filter(Q,F.query))continue;switch(q){case 0:F.h.call(F.ctx);break;case 1:F.h.call(F.ctx,J[0]);break;case 2:F.h.call(F.ctx,J[0],J[1]);break;default:F.h.apply(F.ctx,J);break}}}return Z&&Z.afterTrigger&&Z.afterTrigger(Q),this},$.prototype.triggerWithContext=function(Q){var J=[];for(var K=1;K<arguments.length;K++)J[K-1]=arguments[K];if(!this._$handlers)return this;var Y=this._$handlers[Q],Z=this._$eventProcessor;if(Y){var q=J.length,X=J[q-1],W=Y.length;for(var F=0;F<W;F++){var H=Y[F];if(Z&&Z.filter&&H.query!=null&&!Z.filter(Q,H.query))continue;switch(q){case 0:H.h.call(X);break;case 1:H.h.call(X,J[0]);break;case 2:H.h.call(X,J[0],J[1]);break;default:H.h.apply(X,J.slice(1,q-1));break}}}return Z&&Z.afterTrigger&&Z.afterTrigger(Q),this},$}(),p7=TA1});function ci($,Q,J,K,Y,Z){var q=K+"-"+Y,X=$.length;if(Z.hasOwnProperty(q))return Z[q];if(Q===1){var W=Math.round(Math.log((1<<X)-1&~Y)/DA1);return $[J][W]}var F=K|1<<J,H=J+1;while(K&1<<H)H++;var B=0;for(var z=0,A=0;z<X;z++){var R=1<<z;if(!(R&Y))B+=(A%2?-1:1)*$[J][z]*ci($,Q-1,H,F,Y|R,Z),A++}return Z[q]=B,B}function ui($,Q){var J=[[$[0],$[1],1,0,0,0,-Q[0]*$[0],-Q[0]*$[1]],[0,0,0,$[0],$[1],1,-Q[1]*$[0],-Q[1]*$[1]],[$[2],$[3],1,0,0,0,-Q[2]*$[2],-Q[2]*$[3]],[0,0,0,$[2],$[3],1,-Q[3]*$[2],-Q[3]*$[3]],[$[4],$[5],1,0,0,0,-Q[4]*$[4],-Q[4]*$[5]],[0,0,0,$[4],$[5],1,-Q[5]*$[4],-Q[5]*$[5]],[$[6],$[7],1,0,0,0,-Q[6]*$[6],-Q[6]*$[7]],[0,0,0,$[6],$[7],1,-Q[7]*$[6],-Q[7]*$[7]]],K={},Y=ci(J,8,0,0,0,K);if(Y===0)return;var Z=[];for(var q=0;q<8;q++)for(var X=0;X<8;X++)Z[X]==null&&(Z[X]=0),Z[X]+=((q+X)%2?-1:1)*ci(J,7,q===0?1:0,1<<q,1<<X,K)/Y*Q[q];return function(W,F,H){var B=F*Z[6]+H*Z[7]+1;W[0]=(F*Z[0]+H*Z[1]+Z[2])/B,W[1]=(F*Z[3]+H*Z[4]+Z[5])/B}}var DA1;var Bj0=h(()=>{DA1=Math.log(2)});function zj0($,Q,J,K,Y){return ah(mi,Q,K,Y,!0)&&ah($,J,mi[0],mi[1])}function Aj0($,Q){$&&J($),Q&&J(Q);function J(K){var Y=K[oh];if(Y)Y.clearMarkers&&Y.clearMarkers(),delete K[oh]}}function ah($,Q,J,K,Y){if(Q.getBoundingClientRect&&M1.domSupported&&!pi(Q)){var Z=Q[oh]||(Q[oh]={}),q=CA1(Q,Z),X=PA1(q,Z,Y);if(X)return X($,J,K),!0}return!1}function CA1($,Q){var J=Q.markers;if(J)return J;J=Q.markers=[];var K=["left","right"],Y=["top","bottom"];for(var Z=0;Z<4;Z++){var q=document.createElement("div"),X=q.style,W=Z%2,F=(Z>>1)%2;X.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",K[W]+":0",Y[F]+":0",K[1-W]+":auto",Y[1-F]+":auto",""].join("!important;"),$.appendChild(q),J.push(q)}return Q.clearMarkers=function(){S(J,function(H){H.parentNode&&H.parentNode.removeChild(H)})},J}function PA1($,Q,J){var K=J?"invTrans":"trans",Y=Q[K],Z=Q.srcCoords,q=[],X=[],W=!0;for(var F=0;F<4;F++){var H=$[F].getBoundingClientRect(),B=2*F,z=H.left,A=H.top;q.push(z,A),W=W&&Z&&z===Z[B]&&A===Z[B+1],X.push($[F].offsetLeft,$[F].offsetTop)}return W&&Y?Y:(Q.srcCoords=q,Q[K]=J?ui(X,q):ui(q,X))}function pi($){return $.nodeName.toUpperCase()==="CANVAS"}function $8($){return $==null?"":($+"").replace(kA1,function(Q,J){return jA1[J]})}var oh="___zrEVENTSAVED",mi,kA1,jA1;var lO=h(()=>{t7();Bj0();l();mi=[];kA1=/([&<>"'])/g,jA1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}});function th($,Q,J,K){if(J=J||{},K)Vj0($,Q,J);else if(LA1&&Q.layerX!=null&&Q.layerX!==Q.offsetX)J.zrX=Q.layerX,J.zrY=Q.layerY;else if(Q.offsetX!=null)J.zrX=Q.offsetX,J.zrY=Q.offsetY;else Vj0($,Q,J);return J}function Vj0($,Q,J){if(M1.domSupported&&$.getBoundingClientRect){var{clientX:K,clientY:Y}=Q;if(pi($)){var Z=$.getBoundingClientRect();J.zrX=K-Z.left,J.zrY=Y-Z.top;return}else if(ah(di,$,K,Y)){J.zrX=di[0],J.zrY=di[1];return}}J.zrX=J.zrY=0}function eh($){return $||window.event}function E9($,Q,J){if(Q=eh(Q),Q.zrX!=null)return Q;var K=Q.type,Y=K&&K.indexOf("touch")>=0;if(!Y){th($,Q,Q,J);var Z=hA1(Q);Q.zrDelta=Z?Z/120:-(Q.detail||0)/3}else{var q=K!=="touchend"?Q.targetTouches[0]:Q.changedTouches[0];q&&th($,q,Q,J)}var X=Q.button;if(Q.which==null&&X!==void 0&&EA1.test(Q.type))Q.which=X&1?1:X&2?3:X&4?2:0;return Q}function hA1($){var Q=$.wheelDelta;if(Q)return Q;var{deltaX:J,deltaY:K}=$;if(J==null||K==null)return Q;var Y=K!==0?Math.abs(K):Math.abs(J),Z=K>0?-1:K<0?1:J>0?-1:1;return 3*Y*Z}function rO($,Q,J,K){$.addEventListener(Q,J,K)}function Rj0($,Q,J,K){$.removeEventListener(Q,J,K)}function ni($){return $.which===2||$.which===3}var EA1,di,LA1,L9=function($){$.preventDefault(),$.stopPropagation(),$.cancelBubble=!0};var CK=h(()=>{t7();lO();EA1=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,di=[],LA1=M1.browser.firefox&&+M1.browser.version.split(".")[0]<39});function Gj0($){var Q=$[1][0]-$[0][0],J=$[1][1]-$[0][1];return Math.sqrt(Q*Q+J*J)}function vA1($){return[($[0][0]+$[1][0])/2,($[0][1]+$[1][1])/2]}var Oj0,li;var wj0=h(()=>{CK();Oj0=function(){function $(){this._track=[]}return $.prototype.recognize=function(Q,J,K){return this._doTrack(Q,J,K),this._recognize(Q)},$.prototype.clear=function(){return this._track.length=0,this},$.prototype._doTrack=function(Q,J,K){var Y=Q.touches;if(!Y)return;var Z={points:[],touches:[],target:J,event:Q};for(var q=0,X=Y.length;q<X;q++){var W=Y[q],F=th(K,W,{});Z.points.push([F.zrX,F.zrY]),Z.touches.push(W)}this._track.push(Z)},$.prototype._recognize=function(Q){for(var J in li)if(li.hasOwnProperty(J)){var K=li[J](this._track,Q);if(K)return K}},$}();li={pinch:function($,Q){var J=$.length;if(!J)return;var K=($[J-1]||{}).points,Y=($[J-2]||{}).points||K;if(Y&&Y.length>1&&K&&K.length>1){var Z=Gj0(K)/Gj0(Y);!isFinite(Z)&&(Z=1),Q.pinchScale=Z;var q=vA1(K);return Q.pinchX=q[0],Q.pinchY=q[1],{type:"pinch",target:$[0].target,event:Q}}}}});function V6(){return[1,0,0,1,0,0]}function LX($){return $[0]=1,$[1]=0,$[2]=0,$[3]=1,$[4]=0,$[5]=0,$}function jF($,Q){return $[0]=Q[0],$[1]=Q[1],$[2]=Q[2],$[3]=Q[3],$[4]=Q[4],$[5]=Q[5],$}function i8($,Q,J){var K=Q[0]*J[0]+Q[2]*J[1],Y=Q[1]*J[0]+Q[3]*J[1],Z=Q[0]*J[2]+Q[2]*J[3],q=Q[1]*J[2]+Q[3]*J[3],X=Q[0]*J[4]+Q[2]*J[5]+Q[4],W=Q[1]*J[4]+Q[3]*J[5]+Q[5];return $[0]=K,$[1]=Y,$[2]=Z,$[3]=q,$[4]=X,$[5]=W,$}function s8($,Q,J){return $[0]=Q[0],$[1]=Q[1],$[2]=Q[2],$[3]=Q[3],$[4]=Q[4]+J[0],$[5]=Q[5]+J[1],$}function V4($,Q,J,K){if(K===void 0)K=[0,0];var Y=Q[0],Z=Q[2],q=Q[4],X=Q[1],W=Q[3],F=Q[5],H=Math.sin(J),B=Math.cos(J);return $[0]=Y*B+X*H,$[1]=-Y*H+X*B,$[2]=Z*B+W*H,$[3]=-Z*H+B*W,$[4]=B*(q-K[0])+H*(F-K[1])+K[0],$[5]=B*(F-K[1])-H*(q-K[0])+K[1],$}function $z($,Q,J){var K=J[0],Y=J[1];return $[0]=Q[0]*K,$[1]=Q[1]*Y,$[2]=Q[2]*K,$[3]=Q[3]*Y,$[4]=Q[4]*K,$[5]=Q[5]*Y,$}function d7($,Q){var J=Q[0],K=Q[2],Y=Q[4],Z=Q[1],q=Q[3],X=Q[5],W=J*q-Z*K;if(!W)return null;return W=1/W,$[0]=q*W,$[1]=-Z*W,$[2]=-K*W,$[3]=J*W,$[4]=(K*X-q*Y)*W,$[5]=(Z*Y-J*X)*W,$}function Tj0($){var Q=V6();return jF(Q,$),Q}var SA1,Z1;var hX=h(()=>{SA1=function(){function $(Q,J){this.x=Q||0,this.y=J||0}return $.prototype.copy=function(Q){return this.x=Q.x,this.y=Q.y,this},$.prototype.clone=function(){return new $(this.x,this.y)},$.prototype.set=function(Q,J){return this.x=Q,this.y=J,this},$.prototype.equal=function(Q){return Q.x===this.x&&Q.y===this.y},$.prototype.add=function(Q){return this.x+=Q.x,this.y+=Q.y,this},$.prototype.scale=function(Q){this.x*=Q,this.y*=Q},$.prototype.scaleAndAdd=function(Q,J){this.x+=Q.x*J,this.y+=Q.y*J},$.prototype.sub=function(Q){return this.x-=Q.x,this.y-=Q.y,this},$.prototype.dot=function(Q){return this.x*Q.x+this.y*Q.y},$.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},$.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},$.prototype.normalize=function(){var Q=this.len();return this.x/=Q,this.y/=Q,this},$.prototype.distance=function(Q){var J=this.x-Q.x,K=this.y-Q.y;return Math.sqrt(J*J+K*K)},$.prototype.distanceSquare=function(Q){var J=this.x-Q.x,K=this.y-Q.y;return J*J+K*K},$.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},$.prototype.transform=function(Q){if(!Q)return;var J=this.x,K=this.y;return this.x=Q[0]*J+Q[2]*K+Q[4],this.y=Q[1]*J+Q[3]*K+Q[5],this},$.prototype.toArray=function(Q){return Q[0]=this.x,Q[1]=this.y,Q},$.prototype.fromArray=function(Q){this.x=Q[0],this.y=Q[1]},$.set=function(Q,J,K){Q.x=J,Q.y=K},$.copy=function(Q,J){Q.x=J.x,Q.y=J.y},$.len=function(Q){return Math.sqrt(Q.x*Q.x+Q.y*Q.y)},$.lenSquare=function(Q){return Q.x*Q.x+Q.y*Q.y},$.dot=function(Q,J){return Q.x*J.x+Q.y*J.y},$.add=function(Q,J,K){Q.x=J.x+K.x,Q.y=J.y+K.y},$.sub=function(Q,J,K){Q.x=J.x-K.x,Q.y=J.y-K.y},$.scale=function(Q,J,K){Q.x=J.x*K,Q.y=J.y*K},$.scaleAndAdd=function(Q,J,K,Y){Q.x=J.x+K.x*Y,Q.y=J.y+K.y*Y},$.lerp=function(Q,J,K,Y){var Z=1-Y;Q.x=Z*J.x+Y*K.x,Q.y=Z*J.y+Y*K.y},$}(),Z1=SA1});function Cj0($,Q,J,K,Y,Z,q,X){var W=ri(Q-J),F=ri(K-$),H=SF(W,F),B=Dj0[Y],z=Dj0[1-Y],A=_A1[Y];if(Q<J||K<$)if(W<F){if(Z)ii[B]=-W;if(X)q[B]=Q,q[A]=0}else{if(Z)ii[B]=F;if(X)q[B]=$,q[A]=0}else{if(q)q[B]=Qz($,J),q[A]=SF(Q,K)-q[B];if(Z){if(H<sO[0]||P3.useDir){if(sO[0]=SF(H,sO[0]),W<F||!P3.bidirectional){if(iO[B]=W,iO[z]=0,P3.useDir)P3.calcDirMTV()}if(W>=F||!P3.bidirectional){if(iO[B]=-F,iO[z]=0,P3.useDir)P3.calcDirMTV()}}}}}function oi(){var $=0,Q=new Z1,J=new Z1,K={minTv:new Z1,maxTv:new Z1,useDir:!1,dirMinTv:new Z1,touchThreshold:0,bidirectional:!0,negativeSize:!1,reset:function(Z,q){if(K.touchThreshold=0,Z&&Z.touchThreshold!=null)K.touchThreshold=Qz(0,Z.touchThreshold);if(K.negativeSize=!1,!q)return;if(K.minTv.set(1/0,1/0),K.maxTv.set(0,0),K.useDir=!1,Z&&Z.direction!=null){if(K.useDir=!0,K.dirMinTv.copy(K.minTv),J.copy(K.minTv),$=Z.direction,K.bidirectional=Z.bidirectional==null||!!Z.bidirectional,!K.bidirectional)Q.set(Math.cos($),Math.sin($))}},calcDirMTV:function(){var{minTv:Z,dirMinTv:q}=K,X=Z.y*Z.y+Z.x*Z.x,W=Math.sin($),F=Math.cos($),H=W*Z.y+F*Z.x;if(Y(H)){if(Y(Z.x)&&Y(Z.y))q.set(0,0);return}if(J.x=X*F/H,J.y=X*W/H,Y(J.x)&&Y(J.y)){q.set(0,0);return}if((K.bidirectional||Q.dot(J)>0)&&J.len()<q.len())q.copy(J)}};function Y(Z){return ri(Z)<0.0000000001}return K}var SF,Qz,ri,Dj0,_A1,EF,LF,hF,vF,P3,iO,ii,sO,si,fA1,IA1,n0;var s5=h(()=>{hX();SF=Math.min,Qz=Math.max,ri=Math.abs,Dj0=["x","y"],_A1=["width","height"],EF=new Z1,LF=new Z1,hF=new Z1,vF=new Z1,P3=oi(),iO=P3.minTv,ii=P3.maxTv,sO=[0,0],si=function(){function $(Q,J,K,Y){$.set(this,Q,J,K,Y)}return $.set=function(Q,J,K,Y,Z){if(Y<0)J=J+Y,Y=-Y;if(Z<0)K=K+Z,Z=-Z;return Q.x=J,Q.y=K,Q.width=Y,Q.height=Z,Q},$.prototype.union=function(Q){var J=SF(Q.x,this.x),K=SF(Q.y,this.y);if(isFinite(this.x)&&isFinite(this.width))this.width=Qz(Q.x+Q.width,this.x+this.width)-J;else this.width=Q.width;if(isFinite(this.y)&&isFinite(this.height))this.height=Qz(Q.y+Q.height,this.y+this.height)-K;else this.height=Q.height;this.x=J,this.y=K},$.prototype.applyTransform=function(Q){$.applyTransform(this,this,Q)},$.prototype.calculateTransform=function(Q){var J=this,K=Q.width/J.width,Y=Q.height/J.height,Z=V6();return s8(Z,Z,[-J.x,-J.y]),$z(Z,Z,[K,Y]),s8(Z,Z,[Q.x,Q.y]),Z},$.prototype.intersect=function(Q,J,K){return $.intersect(this,Q,J,K)},$.intersect=function(Q,J,K,Y){if(K)Z1.set(K,0,0);var Z=Y&&Y.outIntersectRect||null,q=Y&&Y.clamp;if(Z)Z.x=Z.y=Z.width=Z.height=NaN;if(!Q||!J)return!1;if(!(Q instanceof $))Q=$.set(fA1,Q.x,Q.y,Q.width,Q.height);if(!(J instanceof $))J=$.set(IA1,J.x,J.y,J.width,J.height);var X=!!K;P3.reset(Y,X);var W=P3.touchThreshold,F=Q.x+W,H=Q.x+Q.width-W,B=Q.y+W,z=Q.y+Q.height-W,A=J.x+W,R=J.x+J.width-W,G=J.y+W,O=J.y+J.height-W;if(F>H||B>z||A>R||G>O)return!1;var T=!(H<A||R<F||z<G||O<B);if(X||Z){if(sO[0]=1/0,sO[1]=0,Cj0(F,H,A,R,0,X,Z,q),Cj0(B,z,G,O,1,X,Z,q),X)Z1.copy(K,T?P3.useDir?P3.dirMinTv:iO:ii)}return T},$.contain=function(Q,J,K){return J>=Q.x&&J<=Q.x+Q.width&&K>=Q.y&&K<=Q.y+Q.height},$.prototype.contain=function(Q,J){return $.contain(this,Q,J)},$.prototype.clone=function(){return new $(this.x,this.y,this.width,this.height)},$.prototype.copy=function(Q){$.copy(this,Q)},$.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},$.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},$.prototype.isZero=function(){return this.width===0||this.height===0},$.create=function(Q){return new $(Q.x,Q.y,Q.width,Q.height)},$.copy=function(Q,J){return Q.x=J.x,Q.y=J.y,Q.width=J.width,Q.height=J.height,Q},$.applyTransform=function(Q,J,K){if(!K){if(Q!==J)$.copy(Q,J);return}if(K[1]<0.00001&&K[1]>-0.00001&&K[2]<0.00001&&K[2]>-0.00001){var Y=K[0],Z=K[3],q=K[4],X=K[5];if(Q.x=J.x*Y+q,Q.y=J.y*Z+X,Q.width=J.width*Y,Q.height=J.height*Z,Q.width<0)Q.x+=Q.width,Q.width=-Q.width;if(Q.height<0)Q.y+=Q.height,Q.height=-Q.height;return}EF.x=hF.x=J.x,EF.y=vF.y=J.y,LF.x=vF.x=J.x+J.width,LF.y=hF.y=J.y+J.height,EF.transform(K),vF.transform(K),LF.transform(K),hF.transform(K),Q.x=SF(EF.x,LF.x,hF.x,vF.x),Q.y=SF(EF.y,LF.y,hF.y,vF.y);var W=Qz(EF.x,LF.x,hF.x,vF.x),F=Qz(EF.y,LF.y,hF.y,vF.y);Q.width=W-Q.x,Q.height=F-Q.y},$}(),fA1=new si(0,0,0,0),IA1=new si(0,0,0,0);n0=si});function MA1($,Q,J){return{type:$,event:J,target:Q.target,topTarget:Q.topTarget,cancelBubble:!1,offsetX:J.zrX,offsetY:J.zrY,gestureEvent:J.gestureEvent,pinchX:J.pinchX,pinchY:J.pinchY,pinchScale:J.pinchScale,wheelDelta:J.zrDelta,zrByTouch:J.zrByTouch,which:J.which,stop:bA1}}function bA1(){L9(this.event)}function xA1($,Q,J){if($[$.rectHover?"rectContain":"contain"](Q,J)){var K=$,Y=void 0,Z=!1;while(K){if(K.ignoreClip)Z=!0;if(!Z){var q=K.getClipPath();if(q&&!q.contain(Q,J))return!1}if(K.silent)Y=!0;var X=K.__hostTarget;K=X?K.ignoreHostSilent?null:X:K.parent}return Y?kj0:!0}return!1}function Pj0($,Q,J,K,Y){for(var Z=$.length-1;Z>=0;Z--){var q=$[Z],X=void 0;if(q!==Y&&!q.ignore&&(X=xA1(q,J,K))){if(!Q.topTarget&&(Q.topTarget=q),X!==kj0){Q.target=q;break}}}}function Ej0($,Q,J){var K=$.painter;return Q<0||Q>K.getWidth()||J<0||J>K.getHeight()}var kj0="silent",gA1,oO,yA1,ai,jj0,Lj0;var hj0=h(()=>{H0();l();w6();Nj0();DK();CK();wj0();s5();gA1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.handler=null,J}return Q.prototype.dispose=function(){},Q.prototype.setCursor=function(){},Q}(p7),oO=function(){function $(Q,J){this.x=Q,this.y=J}return $}(),yA1=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],ai=new n0(0,0,0,0),jj0=function($){c(Q,$);function Q(J,K,Y,Z,q){var X=$.call(this)||this;return X._hovered=new oO(0,0),X.storage=J,X.painter=K,X.painterRoot=Z,X._pointerSize=q,Y=Y||new gA1,X.proxy=null,X.setHandlerProxy(Y),X._draggingMgr=new Hj0(X),X}return Q.prototype.setHandlerProxy=function(J){if(this.proxy)this.proxy.dispose();if(J)S(yA1,function(K){J.on&&J.on(K,this[K],this)},this),J.handler=this;this.proxy=J},Q.prototype.mousemove=function(J){var{zrX:K,zrY:Y}=J,Z=Ej0(this,K,Y),q=this._hovered,X=q.target;if(X&&!X.__zr)q=this.findHover(q.x,q.y),X=q.target;var W=this._hovered=Z?new oO(K,Y):this.findHover(K,Y),F=W.target,H=this.proxy;if(H.setCursor&&H.setCursor(F?F.cursor:"default"),X&&F!==X)this.dispatchToElement(q,"mouseout",J);if(this.dispatchToElement(W,"mousemove",J),F&&F!==X)this.dispatchToElement(W,"mouseover",J)},Q.prototype.mouseout=function(J){var K=J.zrEventControl;if(K!=="only_globalout")this.dispatchToElement(this._hovered,"mouseout",J);if(K!=="no_globalout")this.trigger("globalout",{type:"globalout",event:J})},Q.prototype.resize=function(){this._hovered=new oO(0,0)},Q.prototype.dispatch=function(J,K){var Y=this[J];Y&&Y.call(this,K)},Q.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},Q.prototype.setCursorStyle=function(J){var K=this.proxy;K.setCursor&&K.setCursor(J)},Q.prototype.dispatchToElement=function(J,K,Y){J=J||{};var Z=J.target;if(Z&&Z.silent)return;var q="on"+K,X=MA1(K,J,Y);while(Z)if(Z[q]&&(X.cancelBubble=!!Z[q].call(Z,X)),Z.trigger(K,X),Z=Z.__hostTarget?Z.__hostTarget:Z.parent,X.cancelBubble)break;if(!X.cancelBubble){if(this.trigger(K,X),this.painter&&this.painter.eachOtherLayer)this.painter.eachOtherLayer(function(W){if(typeof W[q]==="function")W[q].call(W,X);if(W.trigger)W.trigger(K,X)})}},Q.prototype.findHover=function(J,K,Y){var Z=this.storage.getDisplayList(),q=new oO(J,K);if(Pj0(Z,q,J,K,Y),this._pointerSize&&!q.target){var X=[],W=this._pointerSize,F=W/2,H=new n0(J-F,K-F,W,W);for(var B=Z.length-1;B>=0;B--){var z=Z[B];if(z!==Y&&!z.ignore&&!z.ignoreCoarsePointer&&(!z.parent||!z.parent.ignoreCoarsePointer)){if(ai.copy(z.getBoundingRect()),z.transform)ai.applyTransform(z.transform);if(ai.intersect(H))X.push(z)}}if(X.length){var A=4,R=Math.PI/12,G=Math.PI*2;for(var O=0;O<F;O+=A)for(var T=0;T<G;T+=R){var D=J+O*Math.cos(T),P=K+O*Math.sin(T);if(Pj0(X,q,D,P,Y),q.target)return q}}}return q},Q.prototype.processGesture=function(J,K){if(!this._gestureMgr)this._gestureMgr=new Oj0;var Y=this._gestureMgr;K==="start"&&Y.clear();var Z=Y.recognize(J,this.findHover(J.zrX,J.zrY,null).target,this.proxy.dom);if(K==="end"&&Y.clear(),Z){var q=Z.type;J.gestureEvent=q;var X=new oO;X.target=Z.target,this.dispatchToElement(X,q,Z.event)}},Q}(p7);S(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function($){jj0.prototype[$]=function(Q){var{zrX:J,zrY:K}=Q,Y=Ej0(this,J,K),Z,q;if($!=="mouseup"||!Y)Z=this.findHover(J,K),q=Z.target;if($==="mousedown")this._downEl=q,this._downPoint=[Q.zrX,Q.zrY],this._upEl=q;else if($==="mouseup")this._upEl=q;else if($==="click"){if(this._downEl!==this._upEl||!this._downPoint||S$(this._downPoint,[Q.zrX,Q.zrY])>4)return;this._downPoint=null}this.dispatchToElement(Z,$,Q)}});Lj0=jj0});function cA1($){var Q=0;while($>=_j0)Q|=$&1,$>>=1;return $+Q}function vj0($,Q,J,K){var Y=Q+1;if(Y===J)return 1;if(K($[Y++],$[Q])<0){while(Y<J&&K($[Y],$[Y-1])<0)Y++;uA1($,Q,Y)}else while(Y<J&&K($[Y],$[Y-1])>=0)Y++;return Y-Q}function uA1($,Q,J){J--;while(Q<J){var K=$[Q];$[Q++]=$[J],$[J--]=K}}function Sj0($,Q,J,K,Y){if(K===Q)K++;for(;K<J;K++){var Z=$[K],q=Q,X=K,W;while(q<X)if(W=q+X>>>1,Y(Z,$[W])<0)X=W;else q=W+1;var F=K-q;switch(F){case 3:$[q+3]=$[q+2];case 2:$[q+2]=$[q+1];case 1:$[q+1]=$[q];break;default:while(F>0)$[q+F]=$[q+F-1],F--}$[q]=Z}}function ti($,Q,J,K,Y,Z){var q=0,X=0,W=1;if(Z($,Q[J+Y])>0){X=K-Y;while(W<X&&Z($,Q[J+Y+W])>0)if(q=W,W=(W<<1)+1,W<=0)W=X;if(W>X)W=X;q+=Y,W+=Y}else{X=Y+1;while(W<X&&Z($,Q[J+Y-W])<=0)if(q=W,W=(W<<1)+1,W<=0)W=X;if(W>X)W=X;var F=q;q=Y-W,W=Y-F}q++;while(q<W){var H=q+(W-q>>>1);if(Z($,Q[J+H])>0)q=H+1;else W=H}return W}function ei($,Q,J,K,Y,Z){var q=0,X=0,W=1;if(Z($,Q[J+Y])<0){X=Y+1;while(W<X&&Z($,Q[J+Y-W])<0)if(q=W,W=(W<<1)+1,W<=0)W=X;if(W>X)W=X;var F=q;q=Y-W,W=Y-F}else{X=K-Y;while(W<X&&Z($,Q[J+Y+W])>=0)if(q=W,W=(W<<1)+1,W<=0)W=X;if(W>X)W=X;q+=Y,W+=Y}q++;while(q<W){var H=q+(W-q>>>1);if(Z($,Q[J+H])<0)W=H;else q=H+1}return W}function mA1($,Q){var J=aO,K,Y,Z=0,q=[];K=[],Y=[];function X(A,R){K[Z]=A,Y[Z]=R,Z+=1}function W(){while(Z>1){var A=Z-2;if(A>=1&&Y[A-1]<=Y[A]+Y[A+1]||A>=2&&Y[A-2]<=Y[A]+Y[A-1]){if(Y[A-1]<Y[A+1])A--}else if(Y[A]>Y[A+1])break;H(A)}}function F(){while(Z>1){var A=Z-2;if(A>0&&Y[A-1]<Y[A+1])A--;H(A)}}function H(A){var R=K[A],G=Y[A],O=K[A+1],T=Y[A+1];if(Y[A]=G+T,A===Z-3)K[A+1]=K[A+2],Y[A+1]=Y[A+2];Z--;var D=ei($[O],$,R,G,0,Q);if(R+=D,G-=D,G===0)return;if(T=ti($[R+G-1],$,O,T,T-1,Q),T===0)return;if(G<=T)B(R,G,O,T);else z(R,G,O,T)}function B(A,R,G,O){var T=0;for(T=0;T<R;T++)q[T]=$[A+T];var D=0,P=G,j=A;if($[j++]=$[P++],--O===0){for(T=0;T<R;T++)$[j+T]=q[D+T];return}if(R===1){for(T=0;T<O;T++)$[j+T]=$[P+T];$[j+O]=q[D];return}var E=J,L,v,f;while(!0){L=0,v=0,f=!1;do if(Q($[P],q[D])<0){if($[j++]=$[P++],v++,L=0,--O===0){f=!0;break}}else if($[j++]=q[D++],L++,v=0,--R===1){f=!0;break}while((L|v)<E);if(f)break;do{if(L=ei($[P],q,D,R,0,Q),L!==0){for(T=0;T<L;T++)$[j+T]=q[D+T];if(j+=L,D+=L,R-=L,R<=1){f=!0;break}}if($[j++]=$[P++],--O===0){f=!0;break}if(v=ti(q[D],$,P,O,0,Q),v!==0){for(T=0;T<v;T++)$[j+T]=$[P+T];if(j+=v,P+=v,O-=v,O===0){f=!0;break}}if($[j++]=q[D++],--R===1){f=!0;break}E--}while(L>=aO||v>=aO);if(f)break;if(E<0)E=0;E+=2}if(J=E,J<1&&(J=1),R===1){for(T=0;T<O;T++)$[j+T]=$[P+T];$[j+O]=q[D]}else if(R===0)throw Error();else for(T=0;T<R;T++)$[j+T]=q[D+T]}function z(A,R,G,O){var T=0;for(T=0;T<O;T++)q[T]=$[G+T];var D=A+R-1,P=O-1,j=G+O-1,E=0,L=0;if($[j--]=$[D--],--R===0){E=j-(O-1);for(T=0;T<O;T++)$[E+T]=q[T];return}if(O===1){j-=R,D-=R,L=j+1,E=D+1;for(T=R-1;T>=0;T--)$[L+T]=$[E+T];$[j]=q[P];return}var v=J;while(!0){var f=0,_=0,M=!1;do if(Q(q[P],$[D])<0){if($[j--]=$[D--],f++,_=0,--R===0){M=!0;break}}else if($[j--]=q[P--],_++,f=0,--O===1){M=!0;break}while((f|_)<v);if(M)break;do{if(f=R-ei(q[P],$,A,R,R-1,Q),f!==0){j-=f,D-=f,R-=f,L=j+1,E=D+1;for(T=f-1;T>=0;T--)$[L+T]=$[E+T];if(R===0){M=!0;break}}if($[j--]=q[P--],--O===1){M=!0;break}if(_=O-ti($[D],q,0,O,O-1,Q),_!==0){j-=_,P-=_,O-=_,L=j+1,E=P+1;for(T=0;T<_;T++)$[L+T]=q[E+T];if(O<=1){M=!0;break}}if($[j--]=$[D--],--R===0){M=!0;break}v--}while(f>=aO||_>=aO);if(M)break;if(v<0)v=0;v+=2}if(J=v,J<1)J=1;if(O===1){j-=R,D-=R,L=j+1,E=D+1;for(T=R-1;T>=0;T--)$[L+T]=$[E+T];$[j]=q[P]}else if(O===0)throw Error();else{E=j-(O-1);for(T=0;T<O;T++)$[E+T]=q[T]}}return{mergeRuns:W,forceMergeRuns:F,pushRun:X}}function _F($,Q,J,K){if(!J)J=0;if(!K)K=$.length;var Y=K-J;if(Y<2)return;var Z=0;if(Y<_j0){Z=vj0($,J,K,Q),Sj0($,J,K,J+Z,Q);return}var q=mA1($,Q),X=cA1(Y);do{if(Z=vj0($,J,K,Q),Z<X){var W=Y;if(W>X)W=X;Sj0($,J,J+W,J+Z,Q),Z=W}q.pushRun(J,Z),q.mergeRuns(),Y-=Z,J+=Z}while(Y!==0);q.forceMergeRuns()}var _j0=32,aO=7;var Q8=1,fF=2,vX=4;function $s(){if(fj0)return;fj0=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors")}function Ij0($,Q){if($.zlevel===Q.zlevel){if($.z===Q.z)return $.z2-Q.z2;return $.z-Q.z}return $.zlevel-Q.zlevel}var fj0=!1,pA1,Mj0;var bj0=h(()=>{l();pA1=function(){function $(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Ij0}return $.prototype.traverse=function(Q,J){for(var K=0;K<this._roots.length;K++)this._roots[K].traverse(Q,J)},$.prototype.getDisplayList=function(Q,J){J=J||!1;var K=this._displayList;if(Q||!K.length)this.updateDisplayList(J);return K},$.prototype.updateDisplayList=function(Q){this._displayListLen=0;var J=this._roots,K=this._displayList;for(var Y=0,Z=J.length;Y<Z;Y++)this._updateAndAddDisplayable(J[Y],null,Q);K.length=this._displayListLen,_F(K,Ij0)},$.prototype._updateAndAddDisplayable=function(Q,J,K){if(Q.ignore&&!K)return;Q.beforeUpdate(),Q.update(),Q.afterUpdate();var Y=Q.getClipPath(),Z=J&&J.length,q=0,X=Q.__clipPaths;if(!Q.ignoreClip&&(Z||Y)){if(!X)X=Q.__clipPaths=[];if(Z)for(var W=0;W<J.length;W++)X[q++]=J[W];var F=Y,H=Q;while(F)F.parent=H,F.updateTransform(),X[q++]=F,H=F,F=F.getClipPath()}if(X)X.length=q;if(Q.childrenRef){var B=Q.childrenRef();for(var z=0;z<B.length;z++){var A=B[z];if(Q.__dirty)A.__dirty|=Q8;this._updateAndAddDisplayable(A,X,K)}Q.__dirty=0}else{var R=Q;if(isNaN(R.z))$s(),R.z=0;if(isNaN(R.z2))$s(),R.z2=0;if(isNaN(R.zlevel))$s(),R.zlevel=0;this._displayList[this._displayListLen++]=R}var G=Q.getDecalElement&&Q.getDecalElement();if(G)this._updateAndAddDisplayable(G,X,K);var O=Q.getTextGuideLine();if(O)this._updateAndAddDisplayable(O,X,K);var T=Q.getTextContent();if(T)this._updateAndAddDisplayable(T,X,K)},$.prototype.addRoot=function(Q){if(Q.__zr&&Q.__zr.storage===this)return;this._roots.push(Q)},$.prototype.delRoot=function(Q){if(Q instanceof Array){for(var J=0,K=Q.length;J<K;J++)this.delRoot(Q[J]);return}var Y=J1(this._roots,Q);if(Y>=0)this._roots.splice(Y,1)},$.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0;return},$.prototype.getRoots=function(){return this._roots},$.prototype.dispose=function(){this._displayList=null,this._roots=null},$}(),Mj0=pA1});var gj0,tO;var Qs=h(()=>{t7();gj0=M1.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function($){return setTimeout($,16)};tO=gj0});var $v,Qv;var Js=h(()=>{$v={linear:function($){return $},quadraticIn:function($){return $*$},quadraticOut:function($){return $*(2-$)},quadraticInOut:function($){if(($*=2)<1)return 0.5*$*$;return-0.5*(--$*($-2)-1)},cubicIn:function($){return $*$*$},cubicOut:function($){return--$*$*$+1},cubicInOut:function($){if(($*=2)<1)return 0.5*$*$*$;return 0.5*(($-=2)*$*$+2)},quarticIn:function($){return $*$*$*$},quarticOut:function($){return 1- --$*$*$*$},quarticInOut:function($){if(($*=2)<1)return 0.5*$*$*$*$;return-0.5*(($-=2)*$*$*$-2)},quinticIn:function($){return $*$*$*$*$},quinticOut:function($){return--$*$*$*$*$+1},quinticInOut:function($){if(($*=2)<1)return 0.5*$*$*$*$*$;return 0.5*(($-=2)*$*$*$*$+2)},sinusoidalIn:function($){return 1-Math.cos($*Math.PI/2)},sinusoidalOut:function($){return Math.sin($*Math.PI/2)},sinusoidalInOut:function($){return 0.5*(1-Math.cos(Math.PI*$))},exponentialIn:function($){return $===0?0:Math.pow(1024,$-1)},exponentialOut:function($){return $===1?1:1-Math.pow(2,-10*$)},exponentialInOut:function($){if($===0)return 0;if($===1)return 1;if(($*=2)<1)return 0.5*Math.pow(1024,$-1);return 0.5*(-Math.pow(2,-10*($-1))+2)},circularIn:function($){return 1-Math.sqrt(1-$*$)},circularOut:function($){return Math.sqrt(1- --$*$)},circularInOut:function($){if(($*=2)<1)return-0.5*(Math.sqrt(1-$*$)-1);return 0.5*(Math.sqrt(1-($-=2)*$)+1)},elasticIn:function($){var Q,J=0.1,K=0.4;if($===0)return 0;if($===1)return 1;if(!J||J<1)J=1,Q=K/4;else Q=K*Math.asin(1/J)/(2*Math.PI);return-(J*Math.pow(2,10*($-=1))*Math.sin(($-Q)*(2*Math.PI)/K))},elasticOut:function($){var Q,J=0.1,K=0.4;if($===0)return 0;if($===1)return 1;if(!J||J<1)J=1,Q=K/4;else Q=K*Math.asin(1/J)/(2*Math.PI);return J*Math.pow(2,-10*$)*Math.sin(($-Q)*(2*Math.PI)/K)+1},elasticInOut:function($){var Q,J=0.1,K=0.4;if($===0)return 0;if($===1)return 1;if(!J||J<1)J=1,Q=K/4;else Q=K*Math.asin(1/J)/(2*Math.PI);if(($*=2)<1)return-0.5*(J*Math.pow(2,10*($-=1))*Math.sin(($-Q)*(2*Math.PI)/K));return J*Math.pow(2,-10*($-=1))*Math.sin(($-Q)*(2*Math.PI)/K)*0.5+1},backIn:function($){var Q=1.70158;return $*$*((Q+1)*$-Q)},backOut:function($){var Q=1.70158;return--$*$*((Q+1)*$+Q)+1},backInOut:function($){var Q=2.5949095;if(($*=2)<1)return 0.5*($*$*((Q+1)*$-Q));return 0.5*(($-=2)*$*((Q+1)*$+Q)+2)},bounceIn:function($){return 1-$v.bounceOut(1-$)},bounceOut:function($){if($<0.36363636363636365)return 7.5625*$*$;else if($<0.7272727272727273)return 7.5625*($-=0.5454545454545454)*$+0.75;else if($<0.9090909090909091)return 7.5625*($-=0.8181818181818182)*$+0.9375;else return 7.5625*($-=0.9545454545454546)*$+0.984375},bounceInOut:function($){if($<0.5)return $v.bounceIn($*2)*0.5;return $v.bounceOut($*2-1)*0.5+0.5}},Qv=$v});function SX($){return $>-Yv&&$<Yv}function cj0($){return $>Yv||$<-Yv}function H7($,Q,J,K,Y){var Z=1-Y;return Z*Z*(Z*$+3*Y*Q)+Y*Y*(Y*K+3*Z*J)}function Ks($,Q,J,K,Y){var Z=1-Y;return 3*(((Q-$)*Z+2*(J-Q)*Y)*Z+(K-J)*Y*Y)}function IF($,Q,J,K,Y,Z){var q=K+3*(Q-J)-$,X=3*(J-Q*2+$),W=3*(Q-$),F=$-Y,H=X*X-3*q*W,B=X*W-9*q*F,z=W*W-3*X*F,A=0;if(SX(H)&&SX(B))if(SX(X))Z[0]=0;else{var R=-W/X;if(R>=0&&R<=1)Z[A++]=R}else{var G=B*B-4*H*z;if(SX(G)){var O=B/H,R=-X/q+O,T=-O/2;if(R>=0&&R<=1)Z[A++]=R;if(T>=0&&T<=1)Z[A++]=T}else if(G>0){var D=_X(G),P=H*X+1.5*q*(-B+D),j=H*X+1.5*q*(-B-D);if(P<0)P=-Jv(-P,Kv);else P=Jv(P,Kv);if(j<0)j=-Jv(-j,Kv);else j=Jv(j,Kv);var R=(-X-(P+j))/(3*q);if(R>=0&&R<=1)Z[A++]=R}else{var E=(2*H*X-3*q*B)/(2*_X(H*H*H)),L=Math.acos(E)/3,v=_X(H),f=Math.cos(L),R=(-X-2*v*f)/(3*q),T=(-X+v*(f+yj0*Math.sin(L)))/(3*q),_=(-X+v*(f-yj0*Math.sin(L)))/(3*q);if(R>=0&&R<=1)Z[A++]=R;if(T>=0&&T<=1)Z[A++]=T;if(_>=0&&_<=1)Z[A++]=_}}return A}function Zv($,Q,J,K,Y){var Z=6*J-12*Q+6*$,q=9*Q+3*K-3*$-9*J,X=3*Q-3*$,W=0;if(SX(q)){if(cj0(Z)){var F=-X/Z;if(F>=0&&F<=1)Y[W++]=F}}else{var H=Z*Z-4*q*X;if(SX(H))Y[0]=-Z/(2*q);else if(H>0){var B=_X(H),F=(-Z+B)/(2*q),z=(-Z-B)/(2*q);if(F>=0&&F<=1)Y[W++]=F;if(z>=0&&z<=1)Y[W++]=z}}return W}function f$($,Q,J,K,Y,Z){var q=(Q-$)*Y+$,X=(J-Q)*Y+Q,W=(K-J)*Y+J,F=(X-q)*Y+q,H=(W-X)*Y+X,B=(H-F)*Y+F;Z[0]=$,Z[1]=q,Z[2]=F,Z[3]=B,Z[4]=B,Z[5]=H,Z[6]=W,Z[7]=K}function qv($,Q,J,K,Y,Z,q,X,W,F,H){var B,z=0.005,A=1/0,R,G,O,T;PK[0]=W,PK[1]=F;for(var D=0;D<1;D+=0.05)if(_$[0]=H7($,J,Y,q,D),_$[1]=H7(Q,K,Z,X,D),O=UZ(PK,_$),O<A)B=D,A=O;A=1/0;for(var P=0;P<32;P++){if(z<xj0)break;if(R=B-z,G=B+z,_$[0]=H7($,J,Y,q,R),_$[1]=H7(Q,K,Z,X,R),O=UZ(_$,PK),R>=0&&O<A)B=R,A=O;else if(Jz[0]=H7($,J,Y,q,G),Jz[1]=H7(Q,K,Z,X,G),T=UZ(Jz,PK),G<=1&&T<A)B=G,A=T;else z*=0.5}if(H)H[0]=H7($,J,Y,q,B),H[1]=H7(Q,K,Z,X,B);return _X(A)}function uj0($,Q,J,K,Y,Z,q,X,W){var F=$,H=Q,B=0,z=1/W;for(var A=1;A<=W;A++){var R=A*z,G=H7($,J,Y,q,R),O=H7(Q,K,Z,X,R),T=G-F,D=O-H;B+=Math.sqrt(T*T+D*D),F=G,H=O}return B}function O7($,Q,J,K){var Y=1-K;return Y*(Y*$+2*K*Q)+K*K*J}function eO($,Q,J,K){return 2*((1-K)*(Q-$)+K*(J-Q))}function mj0($,Q,J,K,Y){var Z=$-2*Q+J,q=2*(Q-$),X=$-K,W=0;if(SX(Z)){if(cj0(q)){var F=-X/q;if(F>=0&&F<=1)Y[W++]=F}}else{var H=q*q-4*Z*X;if(SX(H)){var F=-q/(2*Z);if(F>=0&&F<=1)Y[W++]=F}else if(H>0){var B=_X(H),F=(-q+B)/(2*Z),z=(-q-B)/(2*Z);if(F>=0&&F<=1)Y[W++]=F;if(z>=0&&z<=1)Y[W++]=z}}return W}function Xv($,Q,J){var K=$+J-2*Q;if(K===0)return 0.5;else return($-Q)/K}function fX($,Q,J,K,Y){var Z=(Q-$)*K+$,q=(J-Q)*K+Q,X=(q-Z)*K+Z;Y[0]=$,Y[1]=Z,Y[2]=X,Y[3]=X,Y[4]=q,Y[5]=J}function Wv($,Q,J,K,Y,Z,q,X,W){var F,H=0.005,B=1/0;PK[0]=q,PK[1]=X;for(var z=0;z<1;z+=0.05){_$[0]=O7($,J,Y,z),_$[1]=O7(Q,K,Z,z);var A=UZ(PK,_$);if(A<B)F=z,B=A}B=1/0;for(var R=0;R<32;R++){if(H<xj0)break;var G=F-H,O=F+H;_$[0]=O7($,J,Y,G),_$[1]=O7(Q,K,Z,G);var A=UZ(_$,PK);if(G>=0&&A<B)F=G,B=A;else{Jz[0]=O7($,J,Y,O),Jz[1]=O7(Q,K,Z,O);var T=UZ(Jz,PK);if(O<=1&&T<B)F=O,B=T;else H*=0.5}}if(W)W[0]=O7($,J,Y,F),W[1]=O7(Q,K,Z,F);return _X(B)}function pj0($,Q,J,K,Y,Z,q){var X=$,W=Q,F=0,H=1/q;for(var B=1;B<=q;B++){var z=B*H,A=O7($,J,Y,z),R=O7(Q,K,Z,z),G=A-X,O=R-W;F+=Math.sqrt(G*G+O*O),X=A,W=R}return F}var Jv,_X,Yv=0.00000001,xj0=0.0001,yj0,Kv=0.3333333333333333,PK,_$,Jz;var h9=h(()=>{w6();Jv=Math.pow,_X=Math.sqrt,yj0=_X(3),PK=TK(),_$=TK(),Jz=TK()});function Kz($){var Q=$&&dA1.exec($);if(Q){var J=Q[1].split(","),K=+m7(J[0]),Y=+m7(J[1]),Z=+m7(J[2]),q=+m7(J[3]);if(isNaN(K+Y+Z+q))return;var X=[];return function(W){return W<=0?0:W>=1?1:IF(0,K,Z,1,W,X)&&H7(0,Y,q,1,X[0])}}}var dA1;var Fv=h(()=>{h9();l();dA1=/cubic-bezier\(([0-9,\.e ]+)\)/});var nA1,dj0;var nj0=h(()=>{Js();l();Fv();nA1=function(){function $(Q){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=Q.life||1000,this._delay=Q.delay||0,this.loop=Q.loop||!1,this.onframe=Q.onframe||K6,this.ondestroy=Q.ondestroy||K6,this.onrestart=Q.onrestart||K6,Q.easing&&this.setEasing(Q.easing)}return $.prototype.step=function(Q,J){if(!this._inited)this._startTime=Q+this._delay,this._inited=!0;if(this._paused){this._pausedTime+=J;return}var K=this._life,Y=Q-this._startTime-this._pausedTime,Z=Y/K;if(Z<0)Z=0;Z=Math.min(Z,1);var q=this.easingFunc,X=q?q(Z):Z;if(this.onframe(X),Z===1)if(this.loop){var W=Y%K;this._startTime=Q-W,this._pausedTime=0,this.onrestart()}else return!0;return!1},$.prototype.pause=function(){this._paused=!0},$.prototype.resume=function(){this._paused=!1},$.prototype.setEasing=function(Q){this.easing=Q,this.easingFunc=I0(Q)?Q:Qv[Q]||Kz(Q)},$}(),dj0=nA1});var lj0,lA1,rA1,kK;var Qw=h(()=>{lj0=function(){function $(Q){this.value=Q}return $}(),lA1=function(){function $(){this._len=0}return $.prototype.insert=function(Q){var J=new lj0(Q);return this.insertEntry(J),J},$.prototype.insertEntry=function(Q){if(!this.head)this.head=this.tail=Q;else this.tail.next=Q,Q.prev=this.tail,Q.next=null,this.tail=Q;this._len++},$.prototype.remove=function(Q){var{prev:J,next:K}=Q;if(J)J.next=K;else this.head=K;if(K)K.prev=J;else this.tail=J;Q.next=Q.prev=null,this._len--},$.prototype.len=function(){return this._len},$.prototype.clear=function(){this.head=this.tail=null,this._len=0},$}(),rA1=function(){function $(Q){this._list=new lA1,this._maxSize=10,this._map={},this._maxSize=Q}return $.prototype.put=function(Q,J){var K=this._list,Y=this._map,Z=null;if(Y[Q]==null){var q=K.len(),X=this._lastRemovedEntry;if(q>=this._maxSize&&q>0){var W=K.head;K.remove(W),delete Y[W.key],Z=W.value,this._lastRemovedEntry=W}if(X)X.value=J;else X=new lj0(J);X.key=Q,K.insertEntry(X),Y[Q]=X}return Z},$.prototype.get=function(Q){var J=this._map[Q],K=this._list;if(J!=null){if(J!==K.tail)K.remove(J),K.insertEntry(J);return J.value}},$.prototype.clear=function(){this._list.clear(),this._map={}},$.prototype.len=function(){return this._list.len()},$}(),kK=rA1});function dQ($){return $=Math.round($),$<0?0:$>255?255:$}function iA1($){return $=Math.round($),$<0?0:$>360?360:$}function Jw($){return $<0?0:$>1?1:$}function Ys($){var Q=$;if(Q.length&&Q.charAt(Q.length-1)==="%")return dQ(parseFloat(Q)/100*255);return dQ(parseInt(Q,10))}function HZ($){var Q=$;if(Q.length&&Q.charAt(Q.length-1)==="%")return Jw(parseFloat(Q)/100);return Jw(parseFloat(Q))}function Zs($,Q,J){if(J<0)J+=1;else if(J>1)J-=1;if(J*6<1)return $+(Q-$)*J*6;if(J*2<1)return Q;if(J*3<2)return $+(Q-$)*(0.6666666666666666-J)*6;return $}function IX($,Q,J){return $+(Q-$)*J}function I$($,Q,J,K,Y){return $[0]=Q,$[1]=J,$[2]=K,$[3]=Y,$}function qs($,Q){return $[0]=Q[0],$[1]=Q[1],$[2]=Q[2],$[3]=Q[3],$}function Yz($,Q){if(Uv)qs(Uv,Q);Uv=sj0.put($,Uv||Q.slice())}function J8($,Q){if(!$)return;Q=Q||[];var J=sj0.get($);if(J)return qs(Q,J);$=$+"";var K=$.replace(/ /g,"").toLowerCase();if(K in rj0)return qs(Q,rj0[K]),Yz($,Q),Q;var Y=K.length;if(K.charAt(0)==="#"){if(Y===4||Y===5){var Z=parseInt(K.slice(1,4),16);if(!(Z>=0&&Z<=4095)){I$(Q,0,0,0,1);return}return I$(Q,(Z&3840)>>4|(Z&3840)>>8,Z&240|(Z&240)>>4,Z&15|(Z&15)<<4,Y===5?parseInt(K.slice(4),16)/15:1),Yz($,Q),Q}else if(Y===7||Y===9){var Z=parseInt(K.slice(1,7),16);if(!(Z>=0&&Z<=16777215)){I$(Q,0,0,0,1);return}return I$(Q,(Z&16711680)>>16,(Z&65280)>>8,Z&255,Y===9?parseInt(K.slice(7),16)/255:1),Yz($,Q),Q}return}var q=K.indexOf("("),X=K.indexOf(")");if(q!==-1&&X+1===Y){var W=K.substr(0,q),F=K.substr(q+1,X-(q+1)).split(","),H=1;switch(W){case"rgba":if(F.length!==4)return F.length===3?I$(Q,+F[0],+F[1],+F[2],1):I$(Q,0,0,0,1);H=HZ(F.pop());case"rgb":if(F.length>=3)return I$(Q,Ys(F[0]),Ys(F[1]),Ys(F[2]),F.length===3?H:HZ(F[3])),Yz($,Q),Q;else{I$(Q,0,0,0,1);return}case"hsla":if(F.length!==4){I$(Q,0,0,0,1);return}return F[3]=HZ(F[3]),Xs(F,Q),Yz($,Q),Q;case"hsl":if(F.length!==3){I$(Q,0,0,0,1);return}return Xs(F,Q),Yz($,Q),Q;default:return}}I$(Q,0,0,0,1);return}function Xs($,Q){var J=(parseFloat($[0])%360+360)%360/360,K=HZ($[1]),Y=HZ($[2]),Z=Y<=0.5?Y*(K+1):Y+K-Y*K,q=Y*2-Z;if(Q=Q||[],I$(Q,dQ(Zs(q,Z,J+0.3333333333333333)*255),dQ(Zs(q,Z,J)*255),dQ(Zs(q,Z,J-0.3333333333333333)*255),1),$.length===4)Q[3]=$[3];return Q}function sA1($){if(!$)return;var Q=$[0]/255,J=$[1]/255,K=$[2]/255,Y=Math.min(Q,J,K),Z=Math.max(Q,J,K),q=Z-Y,X=(Z+Y)/2,W,F;if(q===0)W=0,F=0;else{if(X<0.5)F=q/(Z+Y);else F=q/(2-Z-Y);var H=((Z-Q)/6+q/2)/q,B=((Z-J)/6+q/2)/q,z=((Z-K)/6+q/2)/q;if(Q===Z)W=z-B;else if(J===Z)W=0.3333333333333333+H-z;else if(K===Z)W=0.6666666666666666+B-H;if(W<0)W+=1;if(W>1)W-=1}var A=[W*360,F,X];if($[3]!=null)A.push($[3]);return A}function Hv($,Q){var J=J8($);if(J){for(var K=0;K<3;K++){if(Q<0)J[K]=J[K]*(1-Q)|0;else J[K]=(255-J[K])*Q+J[K]|0;if(J[K]>255)J[K]=255;else if(J[K]<0)J[K]=0}return v9(J,J.length===4?"rgba":"rgb")}}function Nv($,Q,J){if(!(Q&&Q.length)||!($>=0&&$<=1))return;J=J||[];var K=$*(Q.length-1),Y=Math.floor(K),Z=Math.ceil(K),q=Q[Y],X=Q[Z],W=K-Y;return J[0]=dQ(IX(q[0],X[0],W)),J[1]=dQ(IX(q[1],X[1],W)),J[2]=dQ(IX(q[2],X[2],W)),J[3]=Jw(IX(q[3],X[3],W)),J}function oj0($,Q,J){if(!(Q&&Q.length)||!($>=0&&$<=1))return;var K=$*(Q.length-1),Y=Math.floor(K),Z=Math.ceil(K),q=J8(Q[Y]),X=J8(Q[Z]),W=K-Y,F=v9([dQ(IX(q[0],X[0],W)),dQ(IX(q[1],X[1],W)),dQ(IX(q[2],X[2],W)),Jw(IX(q[3],X[3],W))],"rgba");return J?{color:F,leftIndex:Y,rightIndex:Z,value:K}:F}function M$($,Q,J,K){var Y=J8($);if($)return Y=sA1(Y),Q!=null&&(Y[0]=iA1(I0(Q)?Q(Y[0]):Q)),J!=null&&(Y[1]=HZ(I0(J)?J(Y[1]):J)),K!=null&&(Y[2]=HZ(I0(K)?K(Y[2]):K)),v9(Xs(Y),"rgba")}function MF($,Q){var J=J8($);if(J&&Q!=null)return J[3]=Jw(Q),v9(J,"rgba")}function v9($,Q){if(!$||!$.length)return;var J=$[0]+","+$[1]+","+$[2];if(Q==="rgba"||Q==="hsva"||Q==="hsla")J+=","+$[3];return Q+"("+J+")"}function Zz($,Q){var J=J8($);return J?(0.299*J[0]+0.587*J[1]+0.114*J[2])*J[3]/255+(1-J[3])*Q:0}function Kw($){if(R0($)){var Q=ij0.get($);if(!Q)Q=Hv($,-0.1),ij0.put($,Q);return Q}else if(kX($)){var J=Y0({},$);return J.colorStops=q0($.colorStops,function(K){return{offset:K.offset,color:Hv(K.color,-0.1)}}),J}return $}var rj0,sj0,Uv=null,ij0;var o8=h(()=>{Qw();l();rj0={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};sj0=new kK(20);ij0=new kK(100)});function MX($){var Q;if(!$||$==="transparent")$="none";else if(typeof $==="string"&&$.indexOf("rgba")>-1){var J=J8($);if(J)$="rgb("+J[0]+","+J[1]+","+J[2]+")",Q=J[3]}return{color:$,opacity:Q==null?1:Q}}function jK($){return $<aj0&&$>-aj0}function zv($){return Av($*1000)/1000}function Vv($){return Av($*1e4)/1e4}function tj0($){return"matrix("+zv($[0])+","+zv($[1])+","+zv($[2])+","+zv($[3])+","+Vv($[4])+","+Vv($[5])+")"}function $E0($,Q,J){if(J==="top")$+=Q/2;else if(J==="bottom")$-=Q/2;return $}function QE0($){return $&&($.shadowBlur||$.shadowOffsetX||$.shadowOffsetY)}function JE0($){var Q=$.style,J=$.getGlobalScale();return[Q.shadowColor,(Q.shadowBlur||0).toFixed(2),(Q.shadowOffsetX||0).toFixed(2),(Q.shadowOffsetY||0).toFixed(2),J[0],J[1]].join(",")}function Ws($){return $&&!!$.image}function oA1($){return $&&!!$.svgElement}function Yw($){return Ws($)||oA1($)}function Rv($){return $.type==="linear"}function Gv($){return $.type==="radial"}function Ov($){return $&&($.type==="linear"||$.type==="radial")}function Zw($){return"url(#"+$+")"}function wv($){var Q=$.getGlobalScale(),J=Math.max(Q[0],Q[1]);return Math.max(Math.ceil(Math.log(J)/Math.log(10)),1)}function Tv($){var Q=$.x||0,J=$.y||0,K=($.rotation||0)*sB,Y=g0($.scaleX,1),Z=g0($.scaleY,1),q=$.skewX||0,X=$.skewY||0,W=[];if(Q||J)W.push("translate("+Q+"px,"+J+"px)");if(K)W.push("rotate("+K+")");if(Y!==1||Z!==1)W.push("scale("+Y+","+Z+")");if(q||X)W.push("skew("+Av(q*sB)+"deg, "+Av(X*sB)+"deg)");return W.join(" ")}var Av,aj0=0.0001,ej0,KE0;var bF=h(()=>{l();o8();t7();Av=Math.round;ej0={left:"start",right:"end",center:"middle",middle:"middle"};KE0=function(){if(M1.hasGlobalWindow&&I0(window.btoa))return function($){return window.btoa(unescape(encodeURIComponent($)))};if(typeof Buffer<"u")return function($){return Buffer.from($).toString("base64")};return function($){return H8("Base64 isn't natively supported in the current environment."),null}}()});function NZ($,Q,J){return(Q-$)*J+$}function Fs($,Q,J,K){var Y=Q.length;for(var Z=0;Z<Y;Z++)$[Z]=NZ(Q[Z],J[Z],K);return $}function aA1($,Q,J,K){var Y=Q.length,Z=Y&&Q[0].length;for(var q=0;q<Y;q++){if(!$[q])$[q]=[];for(var X=0;X<Z;X++)$[q][X]=NZ(Q[q][X],J[q][X],K)}return $}function Dv($,Q,J,K){var Y=Q.length;for(var Z=0;Z<Y;Z++)$[Z]=Q[Z]+J[Z]*K;return $}function YE0($,Q,J,K){var Y=Q.length,Z=Y&&Q[0].length;for(var q=0;q<Y;q++){if(!$[q])$[q]=[];for(var X=0;X<Z;X++)$[q][X]=Q[q][X]+J[q][X]*K}return $}function tA1($,Q){var J=$.length,K=Q.length,Y=J>K?Q:$,Z=Math.min(J,K),q=Y[Z-1]||{color:[0,0,0,0],offset:0};for(var X=Z;X<Math.max(J,K);X++)Y.push({offset:q.offset,color:q.color.slice()})}function eA1($,Q,J){var K=$,Y=Q;if(!K.push||!Y.push)return;var Z=K.length,q=Y.length;if(Z!==q){var X=Z>q;if(X)K.length=q;else for(var W=Z;W<q;W++)K.push(J===1?Y[W]:Us.call(Y[W]))}var F=K[0]&&K[0].length;for(var W=0;W<K.length;W++)if(J===1){if(isNaN(K[W]))K[W]=Y[W]}else for(var H=0;H<F;H++)if(isNaN(K[W][H]))K[W][H]=Y[W][H]}function gF($){if(F7($)){var Q=$.length;if(F7($[0])){var J=[];for(var K=0;K<Q;K++)J.push(Us.call($[K]));return J}return Us.call($)}return $}function kv($){return $[0]=Math.floor($[0])||0,$[1]=Math.floor($[1])||0,$[2]=Math.floor($[2])||0,$[3]=$[3]==null?1:$[3],"rgba("+$.join(",")+")"}function $V1($){return F7($&&$[0])?2:1}function qE0($){return $===Hs||$===Ns}function Pv($){return $===jv||$===XE0}var Us,Cv=0,jv=1,XE0=2,Xw=3,Hs=4,Ns=5,ZE0=6,qw,QV1,JV1,Ww;var Ev=h(()=>{nj0();o8();l();Js();Fv();bF();Us=Array.prototype.slice;qw=[0,0,0,0],QV1=function(){function $(Q){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=Q}return $.prototype.isFinished=function(){return this._finished},$.prototype.setFinished=function(){if(this._finished=!0,this._additiveTrack)this._additiveTrack.setFinished()},$.prototype.needsAnimate=function(){return this.keyframes.length>=1},$.prototype.getAdditiveTrack=function(){return this._additiveTrack},$.prototype.addKeyframe=function(Q,J,K){this._needsSort=!0;var Y=this.keyframes,Z=Y.length,q=!1,X=ZE0,W=J;if(F7(J)){var F=$V1(J);if(X=F,F===1&&!V1(J[0])||F===2&&!V1(J[0][0]))q=!0}else if(V1(J)&&!h6(J))X=Cv;else if(R0(J))if(!isNaN(+J))X=Cv;else{var H=J8(J);if(H)W=H,X=Xw}else if(kX(J)){var B=Y0({},W);if(B.colorStops=q0(J.colorStops,function(A){return{offset:A.offset,color:J8(A.color)}}),Rv(J))X=Hs;else if(Gv(J))X=Ns;W=B}if(Z===0)this.valType=X;else if(X!==this.valType||X===ZE0)q=!0;this.discrete=this.discrete||q;var z={time:Q,value:W,rawValue:J,percent:0};if(K)z.easing=K,z.easingFunc=I0(K)?K:Qv[K]||Kz(K);return Y.push(z),z},$.prototype.prepare=function(Q,J){var K=this.keyframes;if(this._needsSort)K.sort(function(G,O){return G.time-O.time});var Y=this.valType,Z=K.length,q=K[Z-1],X=this.discrete,W=Pv(Y),F=qE0(Y);for(var H=0;H<Z;H++){var B=K[H],z=B.value,A=q.value;if(B.percent=B.time/Q,!X){if(W&&H!==Z-1)eA1(z,A,Y);else if(F)tA1(z.colorStops,A.colorStops)}}if(!X&&Y!==Ns&&J&&this.needsAnimate()&&J.needsAnimate()&&Y===J.valType&&!J._finished){this._additiveTrack=J;var R=K[0].value;for(var H=0;H<Z;H++)if(Y===Cv)K[H].additiveValue=K[H].value-R;else if(Y===Xw)K[H].additiveValue=Dv([],K[H].value,R,-1);else if(Pv(Y))K[H].additiveValue=Y===jv?Dv([],K[H].value,R,-1):YE0([],K[H].value,R,-1)}},$.prototype.step=function(Q,J){if(this._finished)return;if(this._additiveTrack&&this._additiveTrack._finished)this._additiveTrack=null;var K=this._additiveTrack!=null,Y=K?"additiveValue":"value",Z=this.valType,q=this.keyframes,X=q.length,W=this.propName,F=Z===Xw,H,B=this._lastFr,z=Math.min,A,R;if(X===1)A=R=q[0];else{if(J<0)H=0;else if(J<this._lastFrP){var G=z(B+1,X-1);for(H=G;H>=0;H--)if(q[H].percent<=J)break;H=z(H,X-2)}else{for(H=B;H<X;H++)if(q[H].percent>J)break;H=z(H-1,X-2)}R=q[H+1],A=q[H]}if(!(A&&R))return;this._lastFr=H,this._lastFrP=J;var O=R.percent-A.percent,T=O===0?1:z((J-A.percent)/O,1);if(R.easingFunc)T=R.easingFunc(T);var D=K?this._additiveValue:F?qw:Q[W];if((Pv(Z)||F)&&!D)D=this._additiveValue=[];if(this.discrete)Q[W]=T<1?A.rawValue:R.rawValue;else if(Pv(Z))Z===jv?Fs(D,A[Y],R[Y],T):aA1(D,A[Y],R[Y],T);else if(qE0(Z)){var P=A[Y],j=R[Y],E=Z===Hs;if(Q[W]={type:E?"linear":"radial",x:NZ(P.x,j.x,T),y:NZ(P.y,j.y,T),colorStops:q0(P.colorStops,function(v,f){var _=j.colorStops[f];return{offset:NZ(v.offset,_.offset,T),color:kv(Fs([],v.color,_.color,T))}}),global:j.global},E)Q[W].x2=NZ(P.x2,j.x2,T),Q[W].y2=NZ(P.y2,j.y2,T);else Q[W].r=NZ(P.r,j.r,T)}else if(F){if(Fs(D,A[Y],R[Y],T),!K)Q[W]=kv(D)}else{var L=NZ(A[Y],R[Y],T);if(K)this._additiveValue=L;else Q[W]=L}if(K)this._addToTarget(Q)},$.prototype._addToTarget=function(Q){var J=this.valType,K=this.propName,Y=this._additiveValue;if(J===Cv)Q[K]=Q[K]+Y;else if(J===Xw)J8(Q[K],qw),Dv(qw,qw,Y,1),Q[K]=kv(qw);else if(J===jv)Dv(Q[K],Q[K],Y,1);else if(J===XE0)YE0(Q[K],Q[K],Y,1)},$}(),JV1=function(){function $(Q,J,K,Y){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=Q,this._loop=J,J&&Y){H8("Can' use additive animation on looped animation.");return}this._additiveAnimators=Y,this._allowDiscrete=K}return $.prototype.getMaxTime=function(){return this._maxTime},$.prototype.getDelay=function(){return this._delay},$.prototype.getLoop=function(){return this._loop},$.prototype.getTarget=function(){return this._target},$.prototype.changeTarget=function(Q){this._target=Q},$.prototype.when=function(Q,J,K){return this.whenWithKeys(Q,J,N1(J),K)},$.prototype.whenWithKeys=function(Q,J,K,Y){var Z=this._tracks;for(var q=0;q<K.length;q++){var X=K[q],W=Z[X];if(!W){W=Z[X]=new QV1(X);var F=void 0,H=this._getAdditiveTrack(X);if(H){var B=H.keyframes,z=B[B.length-1];if(F=z&&z.value,H.valType===Xw&&F)F=kv(F)}else F=this._target[X];if(F==null)continue;if(Q>0)W.addKeyframe(0,gF(F),Y);this._trackKeys.push(X)}W.addKeyframe(Q,gF(J[X]),Y)}return this._maxTime=Math.max(this._maxTime,Q),this},$.prototype.pause=function(){this._clip.pause(),this._paused=!0},$.prototype.resume=function(){this._clip.resume(),this._paused=!1},$.prototype.isPaused=function(){return!!this._paused},$.prototype.duration=function(Q){return this._maxTime=Q,this._force=!0,this},$.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var Q=this._doneCbs;if(Q){var J=Q.length;for(var K=0;K<J;K++)Q[K].call(this)}},$.prototype._abortedCallback=function(){this._setTracksFinished();var Q=this.animation,J=this._abortedCbs;if(Q)Q.removeClip(this._clip);if(this._clip=null,J)for(var K=0;K<J.length;K++)J[K].call(this)},$.prototype._setTracksFinished=function(){var Q=this._tracks,J=this._trackKeys;for(var K=0;K<J.length;K++)Q[J[K]].setFinished()},$.prototype._getAdditiveTrack=function(Q){var J,K=this._additiveAnimators;if(K)for(var Y=0;Y<K.length;Y++){var Z=K[Y].getTrack(Q);if(Z)J=Z}return J},$.prototype.start=function(Q){if(this._started>0)return;this._started=1;var J=this,K=[],Y=this._maxTime||0;for(var Z=0;Z<this._trackKeys.length;Z++){var q=this._trackKeys[Z],X=this._tracks[q],W=this._getAdditiveTrack(q),F=X.keyframes,H=F.length;if(X.prepare(Y,W),X.needsAnimate())if(!this._allowDiscrete&&X.discrete){var B=F[H-1];if(B)J._target[X.propName]=B.rawValue;X.setFinished()}else K.push(X)}if(K.length||this._force){var z=new dj0({life:Y,loop:this._loop,delay:this._delay||0,onframe:function(A){J._started=2;var R=J._additiveAnimators;if(R){var G=!1;for(var O=0;O<R.length;O++)if(R[O]._clip){G=!0;break}if(!G)J._additiveAnimators=null}for(var O=0;O<K.length;O++)K[O].step(J._target,A);var T=J._onframeCbs;if(T)for(var O=0;O<T.length;O++)T[O](J._target,A)},ondestroy:function(){J._doneCallback()}});if(this._clip=z,this.animation)this.animation.addClip(z);if(Q)z.setEasing(Q)}else this._doneCallback();return this},$.prototype.stop=function(Q){if(!this._clip)return;var J=this._clip;if(Q)J.onframe(1);this._abortedCallback()},$.prototype.delay=function(Q){return this._delay=Q,this},$.prototype.during=function(Q){if(Q){if(!this._onframeCbs)this._onframeCbs=[];this._onframeCbs.push(Q)}return this},$.prototype.done=function(Q){if(Q){if(!this._doneCbs)this._doneCbs=[];this._doneCbs.push(Q)}return this},$.prototype.aborted=function(Q){if(Q){if(!this._abortedCbs)this._abortedCbs=[];this._abortedCbs.push(Q)}return this},$.prototype.getClip=function(){return this._clip},$.prototype.getTrack=function(Q){return this._tracks[Q]},$.prototype.getTracks=function(){var Q=this;return q0(this._trackKeys,function(J){return Q._tracks[J]})},$.prototype.stopTracks=function(Q,J){if(!Q.length||!this._clip)return!0;var K=this._tracks,Y=this._trackKeys;for(var Z=0;Z<Q.length;Z++){var q=K[Q[Z]];if(q&&!q.isFinished()){if(J)q.step(this._target,1);else if(this._started===1)q.step(this._target,0);q.setFinished()}}var X=!0;for(var Z=0;Z<Y.length;Z++)if(!K[Y[Z]].isFinished()){X=!1;break}if(X)this._abortedCallback();return X},$.prototype.saveTo=function(Q,J,K){if(!Q)return;J=J||this._trackKeys;for(var Y=0;Y<J.length;Y++){var Z=J[Y],q=this._tracks[Z];if(!q||q.isFinished())continue;var X=q.keyframes,W=X[K?0:X.length-1];if(W)Q[Z]=gF(W.rawValue)}},$.prototype.__changeFinalValue=function(Q,J){J=J||N1(Q);for(var K=0;K<J.length;K++){var Y=J[K],Z=this._tracks[Y];if(!Z)continue;var q=Z.keyframes;if(q.length>1){var X=q.pop();Z.addKeyframe(X.time,Q[Y]),Z.prepare(this._maxTime,Z.getAdditiveTrack())}}},$}(),Ww=JV1});function yF(){return new Date().getTime()}var KV1,WE0;var FE0=h(()=>{H0();DK();Qs();Ev();KV1=function($){c(Q,$);function Q(J){var K=$.call(this)||this;return K._running=!1,K._time=0,K._pausedTime=0,K._pauseStart=0,K._paused=!1,J=J||{},K.stage=J.stage||{},K}return Q.prototype.addClip=function(J){if(J.animation)this.removeClip(J);if(!this._head)this._head=this._tail=J;else this._tail.next=J,J.prev=this._tail,J.next=null,this._tail=J;J.animation=this},Q.prototype.addAnimator=function(J){J.animation=this;var K=J.getClip();if(K)this.addClip(K)},Q.prototype.removeClip=function(J){if(!J.animation)return;var{prev:K,next:Y}=J;if(K)K.next=Y;else this._head=Y;if(Y)Y.prev=K;else this._tail=K;J.next=J.prev=J.animation=null},Q.prototype.removeAnimator=function(J){var K=J.getClip();if(K)this.removeClip(K);J.animation=null},Q.prototype.update=function(J){var K=yF()-this._pausedTime,Y=K-this._time,Z=this._head;while(Z){var q=Z.next,X=Z.step(K,Y);if(X)Z.ondestroy(),this.removeClip(Z),Z=q;else Z=q}if(this._time=K,!J)this.trigger("frame",Y),this.stage.update&&this.stage.update()},Q.prototype._startLoop=function(){var J=this;this._running=!0;function K(){if(J._running)tO(K),!J._paused&&J.update()}tO(K)},Q.prototype.start=function(){if(this._running)return;this._time=yF(),this._pausedTime=0,this._startLoop()},Q.prototype.stop=function(){this._running=!1},Q.prototype.pause=function(){if(!this._paused)this._pauseStart=yF(),this._paused=!0},Q.prototype.resume=function(){if(this._paused)this._pausedTime+=yF()-this._pauseStart,this._paused=!1},Q.prototype.clear=function(){var J=this._head;while(J){var K=J.next;J.prev=J.next=J.animation=null,J=K}this._head=this._tail=null},Q.prototype.isFinished=function(){return this._head==null},Q.prototype.animate=function(J,K){K=K||{},this.start();var Y=new Ww(J,K.loop);return this.addAnimator(Y),Y},Q}(p7),WE0=KV1});function Rs($){var Q=$.pointerType;return Q==="pen"||Q==="touch"}function ZV1($){if($.touching=!0,$.touchTimer!=null)clearTimeout($.touchTimer),$.touchTimer=null;$.touchTimer=setTimeout(function(){$.touching=!1,$.touchTimer=null},700)}function As($){$&&($.zrByTouch=!0)}function qV1($,Q){return E9($.dom,new XV1($,Q),!0)}function BE0($,Q){var J=Q,K=!1;while(J&&J.nodeType!==9&&!(K=J.domBelongToZr||J!==Q&&J===$.painterRoot))J=J.parentNode;return K}function WV1($,Q){var J=Q.domHandlers;if(M1.pointerEventsSupported)S(zs.pointer,function(K){Lv(Q,K,function(Y){J[K].call($,Y)})});else{if(M1.touchEventsSupported)S(zs.touch,function(K){Lv(Q,K,function(Y){J[K].call($,Y),ZV1(Q)})});S(zs.mouse,function(K){Lv(Q,K,function(Y){if(Y=eh(Y),!Q.touching)J[K].call($,Y)})})}}function FV1($,Q){if(M1.pointerEventsSupported)S(UE0.pointer,J);else if(!M1.touchEventsSupported)S(UE0.mouse,J);function J(K){function Y(Z){if(Z=eh(Z),!BE0($,Z.target))Z=qV1($,Z),Q.domHandlers[K].call($,Z)}Lv(Q,K,Y,{capture:!0})}}function Lv($,Q,J,K){$.mounted[Q]=J,$.listenerOpts[Q]=K,rO($.domTarget,Q,J,K)}function Vs($){var Q=$.mounted;for(var J in Q)if(Q.hasOwnProperty(J))Rj0($.domTarget,J,Q[J],$.listenerOpts[J]);$.mounted={}}var YV1=300,Bs,zs,UE0,HE0=!1,XV1,nQ,Gs,NE0,UV1,zE0;var AE0=h(()=>{H0();CK();l();DK();t7();Bs=M1.domSupported,zs=function(){var $=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Q=["touchstart","touchend","touchmove"],J={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},K=q0($,function(Y){var Z=Y.replace("mouse","pointer");return J.hasOwnProperty(Z)?Z:Y});return{mouse:$,touch:Q,pointer:K}}(),UE0={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};XV1=function(){function $(Q,J){this.stopPropagation=K6,this.stopImmediatePropagation=K6,this.preventDefault=K6,this.type=J.type,this.target=this.currentTarget=Q.dom,this.pointerType=J.pointerType,this.clientX=J.clientX,this.clientY=J.clientY}return $}(),nQ={mousedown:function($){$=E9(this.dom,$),this.__mayPointerCapture=[$.zrX,$.zrY],this.trigger("mousedown",$)},mousemove:function($){$=E9(this.dom,$);var Q=this.__mayPointerCapture;if(Q&&($.zrX!==Q[0]||$.zrY!==Q[1]))this.__togglePointerCapture(!0);this.trigger("mousemove",$)},mouseup:function($){$=E9(this.dom,$),this.__togglePointerCapture(!1),this.trigger("mouseup",$)},mouseout:function($){$=E9(this.dom,$);var Q=$.toElement||$.relatedTarget;if(!BE0(this,Q)){if(this.__pointerCapturing)$.zrEventControl="no_globalout";this.trigger("mouseout",$)}},wheel:function($){HE0=!0,$=E9(this.dom,$),this.trigger("mousewheel",$)},mousewheel:function($){if(HE0)return;$=E9(this.dom,$),this.trigger("mousewheel",$)},touchstart:function($){$=E9(this.dom,$),As($),this.__lastTouchMoment=new Date,this.handler.processGesture($,"start"),nQ.mousemove.call(this,$),nQ.mousedown.call(this,$)},touchmove:function($){$=E9(this.dom,$),As($),this.handler.processGesture($,"change"),nQ.mousemove.call(this,$)},touchend:function($){if($=E9(this.dom,$),As($),this.handler.processGesture($,"end"),nQ.mouseup.call(this,$),+new Date-+this.__lastTouchMoment<YV1)nQ.click.call(this,$)},pointerdown:function($){nQ.mousedown.call(this,$)},pointermove:function($){if(!Rs($))nQ.mousemove.call(this,$)},pointerup:function($){nQ.mouseup.call(this,$)},pointerout:function($){if(!Rs($))nQ.mouseout.call(this,$)}};S(["click","dblclick","contextmenu"],function($){nQ[$]=function(Q){Q=E9(this.dom,Q),this.trigger($,Q)}});Gs={pointermove:function($){if(!Rs($))Gs.mousemove.call(this,$)},pointerup:function($){Gs.mouseup.call(this,$)},mousemove:function($){this.trigger("mousemove",$)},mouseup:function($){var Q=this.__pointerCapturing;if(this.__togglePointerCapture(!1),this.trigger("mouseup",$),Q)$.zrEventControl="only_globalout",this.trigger("mouseout",$)}};NE0=function(){function $(Q,J){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=Q,this.domHandlers=J}return $}(),UV1=function($){c(Q,$);function Q(J,K){var Y=$.call(this)||this;if(Y.__pointerCapturing=!1,Y.dom=J,Y.painterRoot=K,Y._localHandlerScope=new NE0(J,nQ),Bs)Y._globalHandlerScope=new NE0(document,Gs);return WV1(Y,Y._localHandlerScope),Y}return Q.prototype.dispose=function(){if(Vs(this._localHandlerScope),Bs)Vs(this._globalHandlerScope)},Q.prototype.setCursor=function(J){this.dom.style&&(this.dom.style.cursor=J||"default")},Q.prototype.__togglePointerCapture=function(J){if(this.__mayPointerCapture=null,Bs&&+this.__pointerCapturing^+J){this.__pointerCapturing=J;var K=this._globalHandlerScope;J?FV1(this,K):Vs(K)}},Q}(p7),zE0=UV1});var VE0=1,xF,Fw=0.4,Uw="#333",Hw="#ccc",RE0="#eee";var cF=h(()=>{t7();if(M1.hasGlobalWindow)VE0=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1);xF=VE0});function uF($){return $>OE0||$<-OE0}function Xz($,Q){for(var J=0;J<k3.length;J++){var K=k3[J];$[K]=Q[K]}}var GE0,OE0=0.00005,mF,qz,Os,ws,HV1,k3,S9;var EK=h(()=>{w6();GE0=LX;mF=[],qz=[],Os=V6(),ws=Math.abs,HV1=function(){function $(){}return $.prototype.getLocalTransform=function(Q){return $.getLocalTransform(this,Q)},$.prototype.setPosition=function(Q){this.x=Q[0],this.y=Q[1]},$.prototype.setScale=function(Q){this.scaleX=Q[0],this.scaleY=Q[1]},$.prototype.setSkew=function(Q){this.skewX=Q[0],this.skewY=Q[1]},$.prototype.setOrigin=function(Q){this.originX=Q[0],this.originY=Q[1]},$.prototype.needLocalTransform=function(){return uF(this.rotation)||uF(this.x)||uF(this.y)||uF(this.scaleX-1)||uF(this.scaleY-1)||uF(this.skewX)||uF(this.skewY)},$.prototype.updateTransform=function(){var Q=this.parent&&this.parent.transform,J=this.needLocalTransform(),K=this.transform;if(!(J||Q)){if(K)GE0(K),this.invTransform=null;return}if(K=K||V6(),J)this.getLocalTransform(K);else GE0(K);if(Q)if(J)i8(K,Q,K);else jF(K,Q);this.transform=K,this._resolveGlobalScaleRatio(K)},$.prototype._resolveGlobalScaleRatio=function(Q){var J=this.globalScaleRatio;if(J!=null&&J!==1){this.getGlobalScale(mF);var K=mF[0]<0?-1:1,Y=mF[1]<0?-1:1,Z=((mF[0]-K)*J+K)/mF[0]||0,q=((mF[1]-Y)*J+Y)/mF[1]||0;Q[0]*=Z,Q[1]*=Z,Q[2]*=q,Q[3]*=q}this.invTransform=this.invTransform||V6(),d7(this.invTransform,Q)},$.prototype.getComputedTransform=function(){var Q=this,J=[];while(Q)J.push(Q),Q=Q.parent;while(Q=J.pop())Q.updateTransform();return this.transform},$.prototype.setLocalTransform=function(Q){if(!Q)return;var J=Q[0]*Q[0]+Q[1]*Q[1],K=Q[2]*Q[2]+Q[3]*Q[3],Y=Math.atan2(Q[1],Q[0]),Z=Math.PI/2+Y-Math.atan2(Q[3],Q[2]);K=Math.sqrt(K)*Math.cos(Z),J=Math.sqrt(J),this.skewX=Z,this.skewY=0,this.rotation=-Y,this.x=+Q[4],this.y=+Q[5],this.scaleX=J,this.scaleY=K,this.originX=0,this.originY=0},$.prototype.decomposeTransform=function(){if(!this.transform)return;var Q=this.parent,J=this.transform;if(Q&&Q.transform)Q.invTransform=Q.invTransform||V6(),i8(qz,Q.invTransform,J),J=qz;var K=this.originX,Y=this.originY;if(K||Y)Os[4]=K,Os[5]=Y,i8(qz,J,Os),qz[4]-=K,qz[5]-=Y,J=qz;this.setLocalTransform(J)},$.prototype.getGlobalScale=function(Q){var J=this.transform;if(Q=Q||[],!J)return Q[0]=1,Q[1]=1,Q;if(Q[0]=Math.sqrt(J[0]*J[0]+J[1]*J[1]),Q[1]=Math.sqrt(J[2]*J[2]+J[3]*J[3]),J[0]<0)Q[0]=-Q[0];if(J[3]<0)Q[1]=-Q[1];return Q},$.prototype.transformCoordToLocal=function(Q,J){var K=[Q,J],Y=this.invTransform;if(Y)H6(K,K,Y);return K},$.prototype.transformCoordToGlobal=function(Q,J){var K=[Q,J],Y=this.transform;if(Y)H6(K,K,Y);return K},$.prototype.getLineScale=function(){var Q=this.transform;return Q&&ws(Q[0]-1)>0.0000000001&&ws(Q[3]-1)>0.0000000001?Math.sqrt(ws(Q[0]*Q[3]-Q[2]*Q[1])):1},$.prototype.copyTransform=function(Q){Xz(this,Q)},$.getLocalTransform=function(Q,J){J=J||[];var K=Q.originX||0,Y=Q.originY||0,Z=Q.scaleX,q=Q.scaleY,X=Q.anchorX,W=Q.anchorY,F=Q.rotation||0,H=Q.x,B=Q.y,z=Q.skewX?Math.tan(Q.skewX):0,A=Q.skewY?Math.tan(-Q.skewY):0;if(K||Y||X||W){var R=K+X,G=Y+W;J[4]=-R*Z-z*G*q,J[5]=-G*q-A*R*Z}else J[4]=J[5]=0;return J[0]=Z,J[3]=q,J[1]=A*Z,J[2]=z*q,F&&V4(J,J,F),J[4]+=K+H,J[5]+=Y+B,J},$.initDefaultProps=function(){var Q=$.prototype;Q.scaleX=Q.scaleY=Q.globalScaleRatio=1,Q.x=Q.y=Q.originX=Q.originY=Q.skewX=Q.skewY=Q.rotation=Q.anchorX=Q.anchorY=0}(),$}(),k3=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];S9=HV1});function lQ($){if(!hv)hv=new kK(100);$=$||k9;var Q=hv.get($);if(!Q)Q={font:$,strWidthCache:new kK(500),asciiWidthMap:null,asciiWidthMapTried:!1,stWideCharWidth:U8.measureText("国",$).width,asciiCharWidth:U8.measureText("a",$).width},hv.put($,Q);return Q}function NV1($){if(Ts>=wE0)return;$=$||k9;var Q=[],J=+new Date;for(var K=0;K<=127;K++)Q[K]=U8.measureText(String.fromCharCode(K),$).width;var Y=+new Date-J;if(Y>16)Ts=wE0;else if(Y>2)Ts++;return Q}function Ds($,Q){if(!$.asciiWidthMapTried)$.asciiWidthMap=NV1($.font),$.asciiWidthMapTried=!0;return 0<=Q&&Q<=127?$.asciiWidthMap!=null?$.asciiWidthMap[Q]:$.asciiCharWidth:$.stWideCharWidth}function rQ($,Q){var J=$.strWidthCache,K=J.get(Q);if(K==null)K=U8.measureText(Q,$.font).width,J.put(Q,K);return K}function TE0($,Q,J,K){var Y=rQ(lQ(Q),$),Z=pF(Q),q=gX(0,Y,J),X=BZ(0,Z,K),W=new n0(q,X,Y,Z);return W}function bX($,Q,J,K){var Y=(($||"")+"").split(`
`),Z=Y.length;if(Z===1)return TE0(Y[0],Q,J,K);else{var q=new n0(0,0,0,0);for(var X=0;X<Y.length;X++){var W=TE0(Y[X],Q,J,K);X===0?q.copy(W):q.union(W)}return q}}function gX($,Q,J,K){if(J==="right")!K?$-=Q:$+=Q;else if(J==="center")!K?$-=Q/2:$+=Q/2;return $}function BZ($,Q,J,K){if(J==="middle")!K?$-=Q/2:$+=Q/2;else if(J==="bottom")!K?$-=Q:$+=Q;return $}function pF($){return lQ($).stWideCharWidth}function a8($,Q){if(typeof $==="string"){if($.lastIndexOf("%")>=0)return parseFloat($)/100*Q;return parseFloat($)}return $}function dF($,Q,J){var K=Q.position||"inside",Y=Q.distance!=null?Q.distance:5,Z=J.height,q=J.width,X=Z/2,W=J.x,F=J.y,H="left",B="top";if(K instanceof Array)W+=a8(K[0],J.width),F+=a8(K[1],J.height),H=null,B=null;else switch(K){case"left":W-=Y,F+=X,H="right",B="middle";break;case"right":W+=Y+q,F+=X,B="middle";break;case"top":W+=q/2,F-=Y,H="center",B="bottom";break;case"bottom":W+=q/2,F+=Z+Y,H="center";break;case"inside":W+=q/2,F+=X,H="center",B="middle";break;case"insideLeft":W+=Y,F+=X,B="middle";break;case"insideRight":W+=q-Y,F+=X,H="right",B="middle";break;case"insideTop":W+=q/2,F+=Y,H="center";break;case"insideBottom":W+=q/2,F+=Z-Y,H="center",B="bottom";break;case"insideTopLeft":W+=Y,F+=Y;break;case"insideTopRight":W+=q-Y,F+=Y,H="right";break;case"insideBottomLeft":W+=Y,F+=Z-Y,B="bottom";break;case"insideBottomRight":W+=q-Y,F+=Z-Y,H="right",B="bottom";break}return $=$||{},$.x=W,$.y=F,$.align=H,$.verticalAlign=B,$}var hv,Ts=0,wE0=5;var l4=h(()=>{s5();Qw();h$()});function ks($,Q,J,K,Y){J=J||{};var Z=[];DE0($,"",$,Q,J,K,Z,Y);var q=Z.length,X=!1,W=J.done,F=J.aborted,H=function(){if(X=!0,q--,q<=0)X?W&&W():F&&F()},B=function(){if(q--,q<=0)X?W&&W():F&&F()};if(!q)W&&W();if(Z.length>0&&J.during)Z[0].during(function(R,G){J.during(G)});for(var z=0;z<Z.length;z++){var A=Z[z];if(H)A.done(H);if(B)A.aborted(B);if(J.force)A.duration(J.duration);A.start(J.easing)}return Z}function js($,Q,J){for(var K=0;K<J;K++)$[K]=Q[K]}function AV1($){return F7($[0])}function VV1($,Q,J){if(F7(Q[J])){if(!F7($[J]))$[J]=[];if(U7(Q[J])){var K=Q[J].length;if($[J].length!==K)$[J]=new Q[J].constructor(K),js($[J],Q[J],K)}else{var Y=Q[J],Z=$[J],q=Y.length;if(AV1(Y)){var X=Y[0].length;for(var W=0;W<q;W++)if(!Z[W])Z[W]=Array.prototype.slice.call(Y[W]);else js(Z[W],Y[W],X)}else js(Z,Y,q);Z.length=Y.length}}else $[J]=Q[J]}function RV1($,Q){return $===Q||F7($)&&F7(Q)&&GV1($,Q)}function GV1($,Q){var J=$.length;if(J!==Q.length)return!1;for(var K=0;K<J;K++)if($[K]!==Q[K])return!1;return!0}function DE0($,Q,J,K,Y,Z,q,X){var W=N1(K),F=Y.duration,H=Y.delay,B=Y.additive,z=Y.setToFinal,A=!y0(Z),R=$.animators,G=[];for(var O=0;O<W.length;O++){var T=W[O],D=K[T];if(D!=null&&J[T]!=null&&(A||Z[T]))if(y0(D)&&!F7(D)&&!kX(D)){if(Q){if(!X)J[T]=D,$.updateDuringAnimation(Q);continue}DE0($,T,J[T],D,Y,Z&&Z[T],q,X)}else G.push(T);else if(!X)J[T]=D,$.updateDuringAnimation(Q),G.push(T)}var P=G.length;if(!B&&P)for(var j=0;j<R.length;j++){var E=R[j];if(E.targetName===Q){var L=E.stopTracks(G);if(L){var v=J1(R,E);R.splice(v,1)}}}if(!Y.force)G=f1(G,function(b){return!RV1(K[b],J[b])}),P=G.length;if(P>0||Y.force&&!q.length){var f=void 0,_=void 0,M=void 0;if(X){if(_={},z)f={};for(var j=0;j<P;j++){var T=G[j];if(_[T]=J[T],z)f[T]=K[T];else J[T]=K[T]}}else if(z){M={};for(var j=0;j<P;j++){var T=G[j];M[T]=gF(J[T]),VV1(J,K,T)}}var E=new Ww(J,!1,!1,B?f1(R,function(x){return x.targetName===Q}):null);if(E.targetName=Q,Y.scope)E.scope=Y.scope;if(z&&f)E.whenWithKeys(0,f,G);if(M)E.whenWithKeys(0,M,G);E.whenWithKeys(F==null?500:F,X?_:K,G).delay(H||0),$.addAnimator(E,Q),q.push(E)}}var Cs="__zr_normal__",Ps,BV1,Wz,zV1,Sv,Es,_v;var Ls=h(()=>{EK();Ev();s5();DK();l4();l();cF();o8();Ps=k3.concat(["ignore"]),BV1=r8(k3,function($,Q){return $[Q]=!0,$},{ignore:!1}),Wz={},zV1=new n0(0,0,0,0),Sv=[],Es=function(){function $(Q){this.id=dh(),this.animators=[],this.currentStates=[],this.states={},this._init(Q)}return $.prototype._init=function(Q){this.attr(Q)},$.prototype.drift=function(Q,J,K){switch(this.draggable){case"horizontal":J=0;break;case"vertical":Q=0;break}var Y=this.transform;if(!Y)Y=this.transform=[1,0,0,1,0,0];Y[4]+=Q,Y[5]+=J,this.decomposeTransform(),this.markRedraw()},$.prototype.beforeUpdate=function(){},$.prototype.afterUpdate=function(){},$.prototype.update=function(){if(this.updateTransform(),this.__dirty)this.updateInnerText()},$.prototype.updateInnerText=function(Q){var J=this._textContent;if(J&&(!J.ignore||Q)){if(!this.textConfig)this.textConfig={};var K=this.textConfig,Y=K.local,Z=J.innerTransformable,q=void 0,X=void 0,W=!1;Z.parent=Y?this:null;var F=!1;Z.copyTransform(J);var H=K.position!=null,B=K.autoOverflowArea,z=void 0;if(B||H){if(z=zV1,K.layoutRect)z.copy(K.layoutRect);else z.copy(this.getBoundingRect());if(!Y)z.applyTransform(this.transform)}if(H){if(this.calculateTextPosition)this.calculateTextPosition(Wz,K,z);else dF(Wz,K,z);Z.x=Wz.x,Z.y=Wz.y,q=Wz.align,X=Wz.verticalAlign;var A=K.origin;if(A&&K.rotation!=null){var R=void 0,G=void 0;if(A==="center")R=z.width*0.5,G=z.height*0.5;else R=a8(A[0],z.width),G=a8(A[1],z.height);F=!0,Z.originX=-Z.x+R+(Y?0:z.x),Z.originY=-Z.y+G+(Y?0:z.y)}}if(K.rotation!=null)Z.rotation=K.rotation;var O=K.offset;if(O){if(Z.x+=O[0],Z.y+=O[1],!F)Z.originX=-O[0],Z.originY=-O[1]}var T=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});if(B){var D=T.overflowRect=T.overflowRect||new n0(0,0,0,0);Z.getLocalTransform(Sv),d7(Sv,Sv),n0.copy(D,z),D.applyTransform(Sv)}else T.overflowRect=null;var P=K.inside==null?typeof K.position==="string"&&K.position.indexOf("inside")>=0:K.inside,j=void 0,E=void 0,L=void 0;if(P&&this.canBeInsideText()){if(j=K.insideFill,E=K.insideStroke,j==null||j==="auto")j=this.getInsideTextFill();if(E==null||E==="auto")E=this.getInsideTextStroke(j),L=!0}else{if(j=K.outsideFill,E=K.outsideStroke,j==null||j==="auto")j=this.getOutsideFill();if(E==null||E==="auto")E=this.getOutsideStroke(j),L=!0}if(j=j||"#000",j!==T.fill||E!==T.stroke||L!==T.autoStroke||q!==T.align||X!==T.verticalAlign)W=!0,T.fill=j,T.stroke=E,T.autoStroke=L,T.align=q,T.verticalAlign=X,J.setDefaultTextStyle(T);if(J.__dirty|=Q8,W)J.dirtyStyle(!0)}},$.prototype.canBeInsideText=function(){return!0},$.prototype.getInsideTextFill=function(){return"#fff"},$.prototype.getInsideTextStroke=function(Q){return"#000"},$.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Hw:Uw},$.prototype.getOutsideStroke=function(Q){var J=this.__zr&&this.__zr.getBackgroundColor(),K=typeof J==="string"&&J8(J);if(!K)K=[255,255,255,1];var Y=K[3],Z=this.__zr.isDarkMode();for(var q=0;q<3;q++)K[q]=K[q]*Y+(Z?0:255)*(1-Y);return K[3]=1,v9(K,"rgba")},$.prototype.traverse=function(Q,J){},$.prototype.attrKV=function(Q,J){if(Q==="textConfig")this.setTextConfig(J);else if(Q==="textContent")this.setTextContent(J);else if(Q==="clipPath")this.setClipPath(J);else if(Q==="extra")this.extra=this.extra||{},Y0(this.extra,J);else this[Q]=J},$.prototype.hide=function(){this.ignore=!0,this.markRedraw()},$.prototype.show=function(){this.ignore=!1,this.markRedraw()},$.prototype.attr=function(Q,J){if(typeof Q==="string")this.attrKV(Q,J);else if(y0(Q)){var K=Q,Y=N1(K);for(var Z=0;Z<Y.length;Z++){var q=Y[Z];this.attrKV(q,Q[q])}}return this.markRedraw(),this},$.prototype.saveCurrentToNormalState=function(Q){this._innerSaveToNormal(Q);var J=this._normalState;for(var K=0;K<this.animators.length;K++){var Y=this.animators[K],Z=Y.__fromStateTransition;if(Y.getLoop()||Z&&Z!==Cs)continue;var q=Y.targetName,X=q?J[q]:J;Y.saveTo(X)}},$.prototype._innerSaveToNormal=function(Q){var J=this._normalState;if(!J)J=this._normalState={};if(Q.textConfig&&!J.textConfig)J.textConfig=this.textConfig;this._savePrimaryToNormal(Q,J,Ps)},$.prototype._savePrimaryToNormal=function(Q,J,K){for(var Y=0;Y<K.length;Y++){var Z=K[Y];if(Q[Z]!=null&&!(Z in J))J[Z]=this[Z]}},$.prototype.hasState=function(){return this.currentStates.length>0},$.prototype.getState=function(Q){return this.states[Q]},$.prototype.ensureState=function(Q){var J=this.states;if(!J[Q])J[Q]={};return J[Q]},$.prototype.clearStates=function(Q){this.useState(Cs,!1,Q)},$.prototype.useState=function(Q,J,K,Y){var Z=Q===Cs,q=this.hasState();if(!q&&Z)return;var X=this.currentStates,W=this.stateTransition;if(J1(X,Q)>=0&&(J||X.length===1))return;var F;if(this.stateProxy&&!Z)F=this.stateProxy(Q);if(!F)F=this.states&&this.states[Q];if(!F&&!Z){H8("State "+Q+" not exists.");return}if(!Z)this.saveCurrentToNormalState(F);var H=!!(F&&F.hoverLayer||Y);if(H)this._toggleHoverLayerFlag(!0);this._applyStateObj(Q,F,this._normalState,J,!K&&!this.__inHover&&W&&W.duration>0,W);var B=this._textContent,z=this._textGuide;if(B)B.useState(Q,J,K,H);if(z)z.useState(Q,J,K,H);if(Z)this.currentStates=[],this._normalState={};else if(!J)this.currentStates=[Q];else this.currentStates.push(Q);if(this._updateAnimationTargets(),this.markRedraw(),!H&&this.__inHover)this._toggleHoverLayerFlag(!1),this.__dirty&=~Q8;return F},$.prototype.useStates=function(Q,J,K){if(!Q.length)this.clearStates();else{var Y=[],Z=this.currentStates,q=Q.length,X=q===Z.length;if(X){for(var W=0;W<q;W++)if(Q[W]!==Z[W]){X=!1;break}}if(X)return;for(var W=0;W<q;W++){var F=Q[W],H=void 0;if(this.stateProxy)H=this.stateProxy(F,Q);if(!H)H=this.states[F];if(H)Y.push(H)}var B=Y[q-1],z=!!(B&&B.hoverLayer||K);if(z)this._toggleHoverLayerFlag(!0);var A=this._mergeStates(Y),R=this.stateTransition;this.saveCurrentToNormalState(A),this._applyStateObj(Q.join(","),A,this._normalState,!1,!J&&!this.__inHover&&R&&R.duration>0,R);var G=this._textContent,O=this._textGuide;if(G)G.useStates(Q,J,z);if(O)O.useStates(Q,J,z);if(this._updateAnimationTargets(),this.currentStates=Q.slice(),this.markRedraw(),!z&&this.__inHover)this._toggleHoverLayerFlag(!1),this.__dirty&=~Q8}},$.prototype.isSilent=function(){var Q=this;while(Q){if(Q.silent)return!0;var J=Q.__hostTarget;Q=J?Q.ignoreHostSilent?null:J:Q.parent}return!1},$.prototype._updateAnimationTargets=function(){for(var Q=0;Q<this.animators.length;Q++){var J=this.animators[Q];if(J.targetName)J.changeTarget(this[J.targetName])}},$.prototype.removeState=function(Q){var J=J1(this.currentStates,Q);if(J>=0){var K=this.currentStates.slice();K.splice(J,1),this.useStates(K)}},$.prototype.replaceState=function(Q,J,K){var Y=this.currentStates.slice(),Z=J1(Y,Q),q=J1(Y,J)>=0;if(Z>=0)if(!q)Y[Z]=J;else Y.splice(Z,1);else if(K&&!q)Y.push(J);this.useStates(Y)},$.prototype.toggleState=function(Q,J){if(J)this.useState(Q,!0);else this.removeState(Q)},$.prototype._mergeStates=function(Q){var J={},K;for(var Y=0;Y<Q.length;Y++){var Z=Q[Y];if(Y0(J,Z),Z.textConfig)K=K||{},Y0(K,Z.textConfig)}if(K)J.textConfig=K;return J},$.prototype._applyStateObj=function(Q,J,K,Y,Z,q){var X=!(J&&Y);if(J&&J.textConfig)this.textConfig=Y0({},Y?this.textConfig:K.textConfig),Y0(this.textConfig,J.textConfig);else if(X){if(K.textConfig)this.textConfig=K.textConfig}var W={},F=!1;for(var H=0;H<Ps.length;H++){var B=Ps[H],z=Z&&BV1[B];if(J&&J[B]!=null)if(z)F=!0,W[B]=J[B];else this[B]=J[B];else if(X){if(K[B]!=null)if(z)F=!0,W[B]=K[B];else this[B]=K[B]}}if(!Z)for(var H=0;H<this.animators.length;H++){var A=this.animators[H],R=A.targetName;if(!A.getLoop())A.__changeFinalValue(R?(J||K)[R]:J||K)}if(F)this._transitionState(Q,W,q)},$.prototype._attachComponent=function(Q){if(Q.__zr&&!Q.__hostTarget)throw Error("Text element has been added to zrender.");if(Q===this)throw Error("Recursive component attachment.");var J=this.__zr;if(J)Q.addSelfToZr(J);Q.__zr=J,Q.__hostTarget=this},$.prototype._detachComponent=function(Q){if(Q.__zr)Q.removeSelfFromZr(Q.__zr);Q.__zr=null,Q.__hostTarget=null},$.prototype.getClipPath=function(){return this._clipPath},$.prototype.setClipPath=function(Q){if(this._clipPath&&this._clipPath!==Q)this.removeClipPath();this._attachComponent(Q),this._clipPath=Q,this.markRedraw()},$.prototype.removeClipPath=function(){var Q=this._clipPath;if(Q)this._detachComponent(Q),this._clipPath=null,this.markRedraw()},$.prototype.getTextContent=function(){return this._textContent},$.prototype.setTextContent=function(Q){var J=this._textContent;if(J===Q)return;if(J&&J!==Q)this.removeTextContent();if(Q.__zr&&!Q.__hostTarget)throw Error("Text element has been added to zrender.");Q.innerTransformable=new S9,this._attachComponent(Q),this._textContent=Q,this.markRedraw()},$.prototype.setTextConfig=function(Q){if(!this.textConfig)this.textConfig={};Y0(this.textConfig,Q),this.markRedraw()},$.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},$.prototype.removeTextContent=function(){var Q=this._textContent;if(Q)Q.innerTransformable=null,this._detachComponent(Q),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw()},$.prototype.getTextGuideLine=function(){return this._textGuide},$.prototype.setTextGuideLine=function(Q){if(this._textGuide&&this._textGuide!==Q)this.removeTextGuideLine();this._attachComponent(Q),this._textGuide=Q,this.markRedraw()},$.prototype.removeTextGuideLine=function(){var Q=this._textGuide;if(Q)this._detachComponent(Q),this._textGuide=null,this.markRedraw()},$.prototype.markRedraw=function(){this.__dirty|=Q8;var Q=this.__zr;if(Q)if(this.__inHover)Q.refreshHover();else Q.refresh();if(this.__hostTarget)this.__hostTarget.markRedraw()},$.prototype.dirty=function(){this.markRedraw()},$.prototype._toggleHoverLayerFlag=function(Q){this.__inHover=Q;var J=this._textContent,K=this._textGuide;if(J)J.__inHover=Q;if(K)K.__inHover=Q},$.prototype.addSelfToZr=function(Q){if(this.__zr===Q)return;this.__zr=Q;var J=this.animators;if(J)for(var K=0;K<J.length;K++)Q.animation.addAnimator(J[K]);if(this._clipPath)this._clipPath.addSelfToZr(Q);if(this._textContent)this._textContent.addSelfToZr(Q);if(this._textGuide)this._textGuide.addSelfToZr(Q)},$.prototype.removeSelfFromZr=function(Q){if(!this.__zr)return;this.__zr=null;var J=this.animators;if(J)for(var K=0;K<J.length;K++)Q.animation.removeAnimator(J[K]);if(this._clipPath)this._clipPath.removeSelfFromZr(Q);if(this._textContent)this._textContent.removeSelfFromZr(Q);if(this._textGuide)this._textGuide.removeSelfFromZr(Q)},$.prototype.animate=function(Q,J,K){var Y=Q?this[Q]:this;if(!Y){H8('Property "'+Q+'" is not existed in element '+this.id);return}var Z=new Ww(Y,J,K);return Q&&(Z.targetName=Q),this.addAnimator(Z,Q),Z},$.prototype.addAnimator=function(Q,J){var K=this.__zr,Y=this;if(Q.during(function(){Y.updateDuringAnimation(J)}).done(function(){var Z=Y.animators,q=J1(Z,Q);if(q>=0)Z.splice(q,1)}),this.animators.push(Q),K)K.animation.addAnimator(Q);K&&K.wakeUp()},$.prototype.updateDuringAnimation=function(Q){this.markRedraw()},$.prototype.stopAnimation=function(Q,J){var K=this.animators,Y=K.length,Z=[];for(var q=0;q<Y;q++){var X=K[q];if(!Q||Q===X.scope)X.stop(J);else Z.push(X)}return this.animators=Z,this},$.prototype.animateTo=function(Q,J,K){ks(this,Q,J,K)},$.prototype.animateFrom=function(Q,J,K){ks(this,Q,J,K,!0)},$.prototype._transitionState=function(Q,J,K,Y){var Z=ks(this,J,K,Y);for(var q=0;q<Z.length;q++)Z[q].__fromStateTransition=Q},$.prototype.getBoundingRect=function(){return null},$.prototype.getPaintRect=function(){return null},$.initDefaultProps=function(){var Q=$.prototype;Q.type="element",Q.name="",Q.ignore=Q.silent=Q.ignoreHostSilent=Q.isGroup=Q.draggable=Q.dragging=Q.ignoreClip=Q.__inHover=!1,Q.__dirty=Q8;var J={};function K(Z,q,X){if(!J[Z+q+X])console.warn("DEPRECATED: '"+Z+"' has been deprecated. use '"+q+"', '"+X+"' instead"),J[Z+q+X]=!0}function Y(Z,q,X,W){Object.defineProperty(Q,Z,{get:function(){if(K(Z,X,W),!this[q]){var H=this[q]=[];F(this,H)}return this[q]},set:function(H){K(Z,X,W),this[X]=H[0],this[W]=H[1],this[q]=H,F(this,H)}});function F(H,B){Object.defineProperty(B,0,{get:function(){return H[X]},set:function(z){H[X]=z}}),Object.defineProperty(B,1,{get:function(){return H[W]},set:function(z){H[W]=z}})}}if(Object.defineProperty)Y("position","_legacyPos","x","y"),Y("scale","_legacyScale","scaleX","scaleY"),Y("origin","_legacyOrigin","originX","originY")}(),$}();n5(Es,p7);n5(Es,S9);_v=Es});var CE0,b0;var yX=h(()=>{H0();l();Ls();s5();CE0=function($){c(Q,$);function Q(J){var K=$.call(this)||this;return K.isGroup=!0,K._children=[],K.attr(J),K}return Q.prototype.childrenRef=function(){return this._children},Q.prototype.children=function(){return this._children.slice()},Q.prototype.childAt=function(J){return this._children[J]},Q.prototype.childOfName=function(J){var K=this._children;for(var Y=0;Y<K.length;Y++)if(K[Y].name===J)return K[Y]},Q.prototype.childCount=function(){return this._children.length},Q.prototype.add=function(J){if(J){if(J!==this&&J.parent!==this)this._children.push(J),this._doAdd(J);if(J.__hostTarget)throw"This elemenet has been used as an attachment"}return this},Q.prototype.addBefore=function(J,K){if(J&&J!==this&&J.parent!==this&&K&&K.parent===this){var Y=this._children,Z=Y.indexOf(K);if(Z>=0)Y.splice(Z,0,J),this._doAdd(J)}return this},Q.prototype.replace=function(J,K){var Y=J1(this._children,J);if(Y>=0)this.replaceAt(K,Y);return this},Q.prototype.replaceAt=function(J,K){var Y=this._children,Z=Y[K];if(J&&J!==this&&J.parent!==this&&J!==Z){Y[K]=J,Z.parent=null;var q=this.__zr;if(q)Z.removeSelfFromZr(q);this._doAdd(J)}return this},Q.prototype._doAdd=function(J){if(J.parent)J.parent.remove(J);J.parent=this;var K=this.__zr;if(K&&K!==J.__zr)J.addSelfToZr(K);K&&K.refresh()},Q.prototype.remove=function(J){var K=this.__zr,Y=this._children,Z=J1(Y,J);if(Z<0)return this;if(Y.splice(Z,1),J.parent=null,K)J.removeSelfFromZr(K);return K&&K.refresh(),this},Q.prototype.removeAll=function(){var J=this._children,K=this.__zr;for(var Y=0;Y<J.length;Y++){var Z=J[Y];if(K)Z.removeSelfFromZr(K);Z.parent=null}return J.length=0,this},Q.prototype.eachChild=function(J,K){var Y=this._children;for(var Z=0;Z<Y.length;Z++){var q=Y[Z];J.call(K,q,Z)}return this},Q.prototype.traverse=function(J,K){for(var Y=0;Y<this._children.length;Y++){var Z=this._children[Y],q=J.call(K,Z);if(Z.isGroup&&!q)Z.traverse(J,K)}return this},Q.prototype.addSelfToZr=function(J){$.prototype.addSelfToZr.call(this,J);for(var K=0;K<this._children.length;K++){var Y=this._children[K];Y.addSelfToZr(J)}},Q.prototype.removeSelfFromZr=function(J){$.prototype.removeSelfFromZr.call(this,J);for(var K=0;K<this._children.length;K++){var Y=this._children[K];Y.removeSelfFromZr(J)}},Q.prototype.getBoundingRect=function(J){var K=new n0(0,0,0,0),Y=J||this._children,Z=[],q=null;for(var X=0;X<Y.length;X++){var W=Y[X];if(W.ignore||W.invisible)continue;var F=W.getBoundingRect(),H=W.getLocalTransform(Z);if(H)n0.applyTransform(K,F,H),q=q||K.clone(),q.union(K);else q=q||F.clone(),q.union(F)}return q||K},Q}(_v);CE0.prototype.type="group";b0=CE0});function OV1($){delete PE0[$]}function wV1($){if(!$)return!1;if(typeof $==="string")return Zz($,1)<Fw;else if($.colorStops){var Q=$.colorStops,J=0,K=Q.length;for(var Y=0;Y<K;Y++)J+=Zz(Q[Y].color,1);return J/=K,J<Fw}return!1}function vs($,Q){var J=new TV1(dh(),$,Q);return PE0[J.id]=J,J}function kE0($,Q){Nw[$]=Q}function jE0($){if(typeof hs==="function")return hs($)}function EE0($){hs=$}var Nw,PE0,TV1,hs;var fv=h(()=>{t7();l();hj0();bj0();FE0();AE0();o8();cF();yX();/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/Nw={},PE0={};TV1=function(){function $(Q,J,K){var Y=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,K=K||{},this.dom=J,this.id=Q;var Z=new Mj0,q=K.renderer||"canvas";if(!Nw[q])q=N1(Nw)[0];if(!Nw[q])throw Error("Renderer '"+q+"' is not imported. Please import it first.");K.useDirtyRect=K.useDirtyRect==null?!1:K.useDirtyRect;var X=new Nw[q](J,Z,K,Q),W=K.ssr||X.ssrOnly;this.storage=Z,this.painter=X;var F=!M1.node&&!M1.worker&&!W?new zE0(X.getViewportRoot(),X.root):null,H=K.useCoarsePointer,B=H==null||H==="auto"?M1.touchEventsSupported:!!H,z=44,A;if(B)A=g0(K.pointerSize,z);if(this.handler=new Lj0(Z,X,F,X.root,A),this.animation=new WE0({stage:{update:W?null:function(){return Y._flush(!0)}}}),!W)this.animation.start()}return $.prototype.add=function(Q){if(this._disposed||!Q)return;this.storage.addRoot(Q),Q.addSelfToZr(this),this.refresh()},$.prototype.remove=function(Q){if(this._disposed||!Q)return;this.storage.delRoot(Q),Q.removeSelfFromZr(this),this.refresh()},$.prototype.configLayer=function(Q,J){if(this._disposed)return;if(this.painter.configLayer)this.painter.configLayer(Q,J);this.refresh()},$.prototype.setBackgroundColor=function(Q){if(this._disposed)return;if(this.painter.setBackgroundColor)this.painter.setBackgroundColor(Q);this.refresh(),this._backgroundColor=Q,this._darkMode=wV1(Q)},$.prototype.getBackgroundColor=function(){return this._backgroundColor},$.prototype.setDarkMode=function(Q){this._darkMode=Q},$.prototype.isDarkMode=function(){return this._darkMode},$.prototype.refreshImmediately=function(Q){if(this._disposed)return;if(!Q)this.animation.update(!0);this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},$.prototype.refresh=function(){if(this._disposed)return;this._needsRefresh=!0,this.animation.start()},$.prototype.flush=function(){if(this._disposed)return;this._flush(!1)},$.prototype._flush=function(Q){var J,K=yF();if(this._needsRefresh)J=!0,this.refreshImmediately(Q);if(this._needsRefreshHover)J=!0,this.refreshHoverImmediately();var Y=yF();if(J)this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:Y-K});else if(this._sleepAfterStill>0){if(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill)this.animation.stop()}},$.prototype.setSleepAfterStill=function(Q){this._sleepAfterStill=Q},$.prototype.wakeUp=function(){if(this._disposed)return;this.animation.start(),this._stillFrameAccum=0},$.prototype.refreshHover=function(){this._needsRefreshHover=!0},$.prototype.refreshHoverImmediately=function(){if(this._disposed)return;if(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas")this.painter.refreshHover()},$.prototype.resize=function(Q){if(this._disposed)return;Q=Q||{},this.painter.resize(Q.width,Q.height),this.handler.resize()},$.prototype.clearAnimation=function(){if(this._disposed)return;this.animation.clear()},$.prototype.getWidth=function(){if(this._disposed)return;return this.painter.getWidth()},$.prototype.getHeight=function(){if(this._disposed)return;return this.painter.getHeight()},$.prototype.setCursorStyle=function(Q){if(this._disposed)return;this.handler.setCursorStyle(Q)},$.prototype.findHover=function(Q,J){if(this._disposed)return;return this.handler.findHover(Q,J)},$.prototype.on=function(Q,J,K){if(!this._disposed)this.handler.on(Q,J,K);return this},$.prototype.off=function(Q,J){if(this._disposed)return;this.handler.off(Q,J)},$.prototype.trigger=function(Q,J){if(this._disposed)return;this.handler.trigger(Q,J)},$.prototype.clear=function(){if(this._disposed)return;var Q=this.storage.getRoots();for(var J=0;J<Q.length;J++)if(Q[J]instanceof b0)Q[J].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},$.prototype.dispose=function(){if(this._disposed)return;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,OV1(this.id)},$}()});function CV1($){return $.replace(/^\s+|\s+$/g,"")}function Z5($,Q,J,K){var Y=Q[0],Z=Q[1],q=J[0],X=J[1],W=Z-Y,F=X-q;if(W===0)return F===0?q:(q+X)/2;if(K){if(W>0){if($<=Y)return q;else if($>=Z)return X}else if($>=Y)return q;else if($<=Z)return X}else{if($===Y)return q;if($===Z)return X}return($-Y)/W*F+q}function PV1($,Q,J){switch($){case"center":case"middle":$="50%";break;case"left":case"top":$="0%";break;case"right":case"bottom":$="100%";break}return Fz($,Q,J)}function Fz($,Q,J){if(R0($)){if(CV1($).match(/%$/))return parseFloat($)/100*Q+(J||0);return parseFloat($)}return $==null?NaN:+$}function Z6($,Q,J){if(Q==null)Q=10;return Q=Math.min(Math.max(0,Q),hE0),$=(+$).toFixed(Q),J?$:+$}function K8($){return $.sort(function(Q,J){return Q-J}),$}function r4($){if($=+$,isNaN($))return 0;if($>0.00000000000001){var Q=1;for(var J=0;J<15;J++,Q*=10)if(Math.round($*Q)/Q===$)return J}return Iv($)}function Iv($){var Q=$.toString().toLowerCase(),J=Q.indexOf("e"),K=J>0?+Q.slice(J+1):0,Y=J>0?J:Q.length,Z=Q.indexOf("."),q=Z<0?0:Y-1-Z;return Math.max(0,q-K)}function Mv($,Q){var{log:J,LN10:K}=Math,Y=Math.floor(J($[1]-$[0])/K),Z=Math.round(J(iQ(Q[1]-Q[0]))/K),q=Math.min(Math.max(-Y+Z,0),20);return!isFinite(q)?20:q}function vE0($,Q){var J=r8($,function(A,R){return A+(isNaN(R)?0:R)},0);if(J===0)return[];var K=Math.pow(10,Q),Y=q0($,function(A){return(isNaN(A)?0:A)/J*K*100}),Z=K*100,q=q0(Y,function(A){return Math.floor(A)}),X=r8(q,function(A,R){return A+R},0),W=q0(Y,function(A,R){return A-q[R]});while(X<Z){var F=Number.NEGATIVE_INFINITY,H=null;for(var B=0,z=W.length;B<z;++B)if(W[B]>F)F=W[B],H=B;++q[H],W[H]=0,++X}return q0(q,function(A){return A/K})}function SE0($,Q){var J=Math.max(r4($),r4(Q)),K=$+Q;return J>hE0?K:Z6(K,J)}function _s($){var Q=Math.PI*2;return($%Q+Q)%Q}function nF($){return $>-LE0&&$<LE0}function b$($){if($ instanceof Date)return $;else if(R0($)){var Q=kV1.exec($);if(!Q)return new Date(NaN);if(!Q[8])return new Date(+Q[1],+(Q[2]||1)-1,+Q[3]||1,+Q[4]||0,+(Q[5]||0),+Q[6]||0,Q[7]?+Q[7].substring(0,3):0);else{var J=+Q[4]||0;if(Q[8].toUpperCase()!=="Z")J-=+Q[8].slice(0,3);return new Date(Date.UTC(+Q[1],+(Q[2]||1)-1,+Q[3]||1,J,+(Q[5]||0),+Q[6]||0,Q[7]?+Q[7].substring(0,3):0))}}else if($==null)return new Date(NaN);return new Date(Math.round($))}function _E0($){return Math.pow(10,Bw($))}function Bw($){if($===0)return 0;var Q=Math.floor(Math.log($)/Math.LN10);if($/Math.pow(10,Q)>=10)Q++;return Q}function bv($,Q){var J=Bw($),K=Math.pow(10,J),Y=$/K,Z;if(Q)if(Y<1.5)Z=1;else if(Y<2.5)Z=2;else if(Y<4)Z=3;else if(Y<7)Z=5;else Z=10;else if(Y<1)Z=1;else if(Y<2)Z=2;else if(Y<3)Z=3;else if(Y<5)Z=5;else Z=10;return $=Z*K,J>=-20?+$.toFixed(J<0?-J:0):$}function gv($,Q){var J=($.length-1)*Q+1,K=Math.floor(J),Y=+$[K-1],Z=J-K;return Z?Y+Z*($[K]-Y):Y}function fs($){$.sort(function(W,F){return X(W,F,0)?-1:1});var Q=-1/0,J=1;for(var K=0;K<$.length;){var Y=$[K].interval,Z=$[K].close;for(var q=0;q<2;q++){if(Y[q]<=Q)Y[q]=Q,Z[q]=!q?1-J:1;Q=Y[q],J=Z[q]}if(Y[0]===Y[1]&&Z[0]*Z[1]!==1)$.splice(K,1);else K++}return $;function X(W,F,H){return W.interval[H]<F.interval[H]||W.interval[H]===F.interval[H]&&(W.close[H]-F.close[H]===(!H?1:-1)||!H&&X(W,F,1))}}function g$($){var Q=parseFloat($);return Q==$&&(Q!==0||!R0($)||$.indexOf("x")<=0)?Q:NaN}function Uz($){return!isNaN(g$($))}function yv(){return Math.round(Math.random()*9)}function fE0($,Q){if(Q===0)return $;return fE0(Q,$%Q)}function Is($,Q){if($==null)return Q;if(Q==null)return $;return $*Q/fE0($,Q)}var LE0=0.0001,hE0=20,R4,c6,iQ,f0,Ss=9007199254740991,kV1;var k1=h(()=>{l();R4=Math.min,c6=Math.max,iQ=Math.abs;f0=PV1;kV1=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/});function xv($,Q,J){if(EV1){if(J){if(IE0[Q])return;IE0[Q]=!0}console[$](jV1+Q)}}function cv($,Q){xv("log",$,Q)}function S5($,Q){xv("warn",$,Q)}function S1($,Q){xv("error",$,Q)}function i4($){xv("warn","DEPRECATED: "+$,!0)}function u6($,Q,J){i4((J?"["+J+"]":"")+($+" is deprecated; use "+Q+" instead."))}function _7(){var $=[];for(var Q=0;Q<arguments.length;Q++)$[Q]=arguments[Q];var J="",K=function(Y){return Y===void 0?"undefined":Y===1/0?"Infinity":Y===-1/0?"-Infinity":h6(Y)?"NaN":Y instanceof Date?"Date("+Y.toISOString()+")":I0(Y)?"function () { ... }":nh(Y)?Y+"":null};return J=q0($,function(Y){if(R0(Y))return Y;else{var Z=K(Y);if(Z!=null)return Z;else if(typeof JSON<"u"&&JSON.stringify)try{return JSON.stringify(Y,function(q,X){var W=K(X);return W==null?X:W})}catch(q){return"?"}else return"?"}}).join(" "),J}function U5($){throw Error($)}var jV1="[ECharts] ",IE0,EV1;var N5=h(()=>{l();IE0={},EV1=typeof console<"u"&&console.warn&&console.log});function ME0($,Q,J){return(Q-$)*J+$}function H5($){return $ instanceof Array?$:$==null?[]:[$]}function j3($,Q,J){if($){$[Q]=$[Q]||{},$.emphasis=$.emphasis||{},$.emphasis[Q]=$.emphasis[Q]||{};for(var K=0,Y=J.length;K<Y;K++){var Z=J[K];if(!$.emphasis[Q].hasOwnProperty(Z)&&$[Q].hasOwnProperty(Z))$.emphasis[Q][Z]=$[Q][Z]}}}function sQ($){return y0($)&&!Z0($)&&!($ instanceof Date)?$.value:$}function cE0($){return y0($)&&!($ instanceof Array)}function uv($,Q,J){var K=J==="normalMerge",Y=J==="replaceMerge",Z=J==="replaceAll";$=$||[],Q=(Q||[]).slice();var q=_0();S(Q,function(W,F){if(!y0(W)){Q[F]=null;return}if(W.id!=null&&!gE0(W.id))bE0(W.id);if(W.name!=null&&!gE0(W.name))bE0(W.name)});var X=LV1($,q,J);if(K||Y)hV1(X,$,q,Q);if(K)vV1(X,Q);if(K||Y)SV1(X,Q,Y);else if(Z)_V1(X,Q);return fV1(X),X}function LV1($,Q,J){var K=[];if(J==="replaceAll")return K;for(var Y=0;Y<$.length;Y++){var Z=$[Y];if(Z&&Z.id!=null)Q.set(Z.id,Y);K.push({existing:J==="replaceMerge"||xX(Z)?null:Z,newOption:null,keyInfo:null,brandNew:null})}return K}function hV1($,Q,J,K){S(K,function(Y,Z){if(!Y||Y.id==null)return;var q=zw(Y.id),X=J.get(q);if(X!=null){var W=$[X];M0(!W.newOption,'Duplicated option on id "'+q+'".'),W.newOption=Y,W.existing=Q[X],K[Z]=null}})}function vV1($,Q){S(Q,function(J,K){if(!J||J.name==null)return;for(var Y=0;Y<$.length;Y++){var Z=$[Y].existing;if(!$[Y].newOption&&Z&&(Z.id==null||J.id==null)&&!xX(J)&&!xX(Z)&&uE0("name",Z,J)){$[Y].newOption=J,Q[K]=null;return}}})}function SV1($,Q,J){S(Q,function(K){if(!K)return;var Y,Z=0;while((Y=$[Z])&&(Y.newOption||xX(Y.existing)||Y.existing&&K.id!=null&&!uE0("id",K,Y.existing)))Z++;if(Y)Y.newOption=K,Y.brandNew=J;else $.push({newOption:K,brandNew:J,existing:null,keyInfo:null});Z++})}function _V1($,Q){S(Q,function(J){$.push({newOption:J,brandNew:!0,existing:null,keyInfo:null})})}function fV1($){var Q=_0();S($,function(J){var K=J.existing;K&&Q.set(K.id,J)}),S($,function(J){var K=J.newOption;M0(!K||K.id==null||!Q.get(K.id)||Q.get(K.id)===J,"id duplicates: "+(K&&K.id)),K&&K.id!=null&&Q.set(K.id,J),!J.keyInfo&&(J.keyInfo={})}),S($,function(J,K){var{existing:Y,newOption:Z,keyInfo:q}=J;if(!y0(Z))return;if(q.name=Z.name!=null?zw(Z.name):Y?Y.name:yE0+K,Y)q.id=zw(Y.id);else if(Z.id!=null)q.id=zw(Z.id);else{var X=0;do q.id="\x00"+q.name+"\x00"+X++;while(Q.get(q.id))}Q.set(q.id,J)})}function uE0($,Q,J){var K=T6(Q[$],null),Y=T6(J[$],null);return K!=null&&Y!=null&&K===Y}function zw($){if($==null)throw Error();return T6($,"")}function T6($,Q){if($==null)return Q;return R0($)?$:V1($)||iB($)?$+"":Q}function bE0($){S5("`"+$+"` is invalid id or name. Must be a string or number.")}function gE0($){return iB($)||Uz($)}function Hz($){var Q=$.name;return!!(Q&&Q.indexOf(yE0))}function xX($){return $&&$.id!=null&&zw($.id).indexOf(xE0)===0}function mE0($){return xE0+$}function pE0($,Q,J){S($,function(K){var Y=K.newOption;if(y0(Y))K.keyInfo.mainType=Q,K.keyInfo.subType=IV1(Q,Y,K.existing,J)})}function IV1($,Q,J,K){var Y=Q.type?Q.type:J?J.subType:K.determineSubType($,Q);return Y}function dE0($,Q){var J={},K={};return Y($||[],J),Y(Q||[],K,J),[Z(J),Z(K)];function Y(q,X,W){for(var F=0,H=q.length;F<H;F++){var B=T6(q[F].seriesId,null);if(B==null)return;var z=H5(q[F].dataIndex),A=W&&W[B];for(var R=0,G=z.length;R<G;R++){var O=z[R];if(A&&A[O])A[O]=null;else(X[B]||(X[B]={}))[O]=1}}}function Z(q,X){var W=[];for(var F in q)if(q.hasOwnProperty(F)&&q[F]!=null)if(X)W.push(+F);else{var H=Z(q[F],!0);H.length&&W.push({seriesId:F,dataIndex:H})}return W}}function y$($,Q){if(Q.dataIndexInside!=null)return Q.dataIndexInside;else if(Q.dataIndex!=null)return Z0(Q.dataIndex)?q0(Q.dataIndex,function(J){return $.indexOfRawIndex(J)}):$.indexOfRawIndex(Q.dataIndex);else if(Q.name!=null)return Z0(Q.name)?q0(Q.name,function(J){return $.indexOfName(J)}):$.indexOfName(Q.name)}function o0(){var $="__ec_inner_"+MV1++;return function(Q){return Q[$]||(Q[$]={})}}function LK($,Q,J){var K=Aw(Q,J),Y=K.mainTypeSpecified,Z=K.queryOptionMap,q=K.others,X=q,W=J?J.defaultMainType:null;if(!Y&&W)Z.set(W,{});return Z.each(function(F,H){var B=hK($,H,F,{useDefault:W===H,enableAll:J&&J.enableAll!=null?J.enableAll:!0,enableNone:J&&J.enableNone!=null?J.enableNone:!0});X[H+"Models"]=B.models,X[H+"Model"]=B.models[0]}),X}function Aw($,Q){var J;if(R0($)){var K={};K[$+"Index"]=0,J=K}else J=$;var Y=_0(),Z={},q=!1;return S(J,function(X,W){if(W==="dataIndex"||W==="dataIndexInside"){Z[W]=X;return}var F=W.match(/^(\w+)(Index|Id|Name)$/)||[],H=F[1],B=(F[2]||"").toLowerCase();if(!H||!B||Q&&Q.includeMainTypes&&J1(Q.includeMainTypes,H)<0)return;q=q||!!H;var z=Y.get(H)||Y.set(H,{});z[B]=X}),{mainTypeSpecified:q,queryOptionMap:Y,others:Z}}function hK($,Q,J,K){K=K||L5;var{index:Y,id:Z,name:q}=J,X={models:null,specified:Y!=null||Z!=null||q!=null};if(!X.specified){var W=void 0;return X.models=K.useDefault&&(W=$.getComponent(Q))?[W]:[],X}if(Y==="none"||Y===!1)if(K.enableNone)return X.models=[],X;else S1('`"none"` or `false` is not a valid value on index option.'),Y=-1;if(Y==="all")if(K.enableAll)Y=Z=q=null;else S1('`"all"` is not a valid value on index option.'),Y=-1;return X.models=$.queryComponents({mainType:Q,index:Y,id:Z,name:q}),X}function bs($,Q,J){$.setAttribute?$.setAttribute(Q,J):$[Q]=J}function lE0($,Q){return $.getAttribute?$.getAttribute(Q):$[Q]}function rE0($){if($==="auto")return M1.domSupported?"html":"richText";else return $||"html"}function Vw($,Q){var J=_0(),K=[];return S($,function(Y){var Z=Q(Y);(J.get(Z)||(K.push(Z),J.set(Z,[]))).push(Y)}),{keys:K,buckets:J}}function mv($,Q,J,K,Y){var Z=Q==null||Q==="auto";if(K==null)return K;if(V1(K)){var q=ME0(J||0,K,Y);return Z6(q,Z?Math.max(r4(J||0),r4(K)):Q)}else if(R0(K))return Y<1?J:K;else{var X=[],W=J,F=K,H=Math.max(W?W.length:0,F.length);for(var B=0;B<H;++B){var z=$.getDimensionInfo(B);if(z&&z.type==="ordinal")X[B]=(Y<1&&W?W:F)[B];else{var A=W&&W[B]?W[B]:0,R=F[B],q=ME0(A,R,Y);X[B]=Z6(q,Z?Math.max(r4(A),r4(R)):Q)}}return X}}function pv($){$.option=$.parentModel=$.ecModel=null}var yE0="series\x00",xE0="\x00_ec_\x00",Ms,MV1,L5,nE0,oQ;var l0=h(()=>{l();t7();k1();N5();Ms=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];MV1=yv();L5={useDefault:!0,enableAll:!1,enableNone:!1},nE0={useDefault:!1,enableAll:!0,enableNone:!0};oQ=function(){function $(){}return $.prototype.reset=function(Q,J,K,Y){return this._list=Q,this._step=Y=Y||1,this._idx=J,this._end=K!=null?K:Y>0?Q.length:0,this.item=null,this.key=NaN,this},$.prototype.next=function(){if(this._step>0?this._idx<this._end:this._idx>=this._end)return this.item=this._list[this._idx],this.key=this._idx=this._idx+this._step,!0;return!1},$}()});function f9($){var Q={main:"",sub:""};if($){var J=$.split(bV1);Q.main=J[0]||"",Q.sub=J[1]||""}return Q}function gV1($){M0(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test($),'componentType "'+$+'" illegal')}function sE0($){return!!($&&$[iE0])}function Nz($,Q){$.$constructor=$,$.extend=function(J){S(Q,function(Z){if(!J[Z])console.warn("Method `"+Z+"` should be implemented"+(J.type?" in "+J.type:"")+".")});var K=this,Y;if(yV1(K))Y=function(Z){c(q,Z);function q(){return Z.apply(this,arguments)||this}return q}(K);else Y=function(){(J.$constructor||K).apply(this,arguments)},Xj0(Y,this);return Y0(Y.prototype,J),Y[iE0]=!0,Y.extend=this.extend,Y.superCall=cV1,Y.superApply=uV1,Y.superClass=K,Y}}function yV1($){return I0($)&&/^class\s/.test(Function.prototype.toString.call($))}function dv($,Q){$.extend=Q.extend}function oE0($){var Q=["__\x00is_clz",xV1++].join("_");$.prototype[Q]=!0,M0(!$.isInstance,'The method "is" can not be defined.'),$.isInstance=function(J){return!!(J&&J[Q])}}function cV1($,Q){var J=[];for(var K=2;K<arguments.length;K++)J[K-2]=arguments[K];return this.superClass.prototype[Q].apply($,J)}function uV1($,Q,J){return this.superClass.prototype[Q].apply($,J)}function cX($){var Q={};$.registerClass=function(K){var Y=K.type||K.prototype.type;if(Y){gV1(Y),K.prototype.type=Y;var Z=f9(Y);if(!Z.sub){if(Q[Z.main])console.warn(Z.main+" exists.");Q[Z.main]=K}else if(Z.sub!==lF){var q=J(Z);q[Z.sub]=K}}return K},$.getClass=function(K,Y,Z){var q=Q[K];if(q&&q[lF])q=Y?q[Y]:null;if(Z&&!q)throw Error(!Y?K+".type should be specified.":"Component "+K+"."+(Y||"")+" is used but not imported.");return q},$.getClassesByMainType=function(K){var Y=f9(K),Z=[],q=Q[Y.main];if(q&&q[lF])S(q,function(X,W){W!==lF&&Z.push(X)});else Z.push(q);return Z},$.hasClass=function(K){var Y=f9(K);return!!Q[Y.main]},$.getAllClassMainTypes=function(){var K=[];return S(Q,function(Y,Z){K.push(Z)}),K},$.hasSubTypes=function(K){var Y=f9(K),Z=Q[Y.main];return Z&&Z[lF]};function J(K){var Y=Q[K.main];if(!Y||!Y[lF])Y=Q[K.main]={},Y[lF]=!0;return Y}}var bV1=".",lF="___EC__COMPONENT__CONTAINER___",iE0="___EC__EXTENDED_CLASS___",xV1;var vK=h(()=>{H0();l();xV1=Math.round(Math.random()*10)});function I9($,Q){for(var J=0;J<$.length;J++)if(!$[J][1])$[J][1]=$[J][0];return Q=Q||!1,function(K,Y,Z){var q={};for(var X=0;X<$.length;X++){var W=$[X][1];if(Y&&J1(Y,W)>=0||Z&&J1(Z,W)<0)continue;var F=K.getShallow(W,Q);if(F!=null)q[$[X][0]]=F}return q}}var rF=h(()=>{l()});var mV1,pV1,aE0;var tE0=h(()=>{rF();mV1=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],pV1=I9(mV1),aE0=function(){function $(){}return $.prototype.getAreaStyle=function(Q,J){return pV1(this,Q,J)},$}()});function $L0($){if(typeof $==="string"){var Q=ys.get($);return Q&&Q.image}else return $}function Rw($,Q,J,K,Y){if(!$)return Q;else if(typeof $==="string"){if(Q&&Q.__zrImageSrc===$||!J)return Q;var Z=ys.get($),q={hostEl:J,cb:K,cbPayload:Y};if(Z)Q=Z.image,!Bz(Q)&&Z.pending.push(q);else Q=U8.loadImage($,eE0,eE0),Q.__zrImageSrc=$,ys.put($,Q.__cachedImgObj={image:Q,pending:[q]});return Q}else return $}function eE0(){var $=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var Q=0;Q<$.pending.length;Q++){var J=$.pending[Q],K=J.cb;K&&K(this,J.cbPayload),J.hostEl.dirty()}$.pending.length=0}function Bz($){return $&&$.width&&$.height}var ys;var nv=h(()=>{Qw();h$();ys=new kK(50)});function nV1($,Q,J,K,Y,Z){if(!J){$.text="",$.isTruncated=!1;return}var q=(Q+"").split(`
`);Z=YL0(J,K,Y,Z);var X=!1,W={};for(var F=0,H=q.length;F<H;F++)ZL0(W,q[F],Z),q[F]=W.textLine,X=X||W.isTruncated;$.text=q.join(`
`),$.isTruncated=X}function YL0($,Q,J,K){K=K||{};var Y=Y0({},K);J=g0(J,"..."),Y.maxIterations=g0(K.maxIterations,2);var Z=Y.minChar=g0(K.minChar,0),q=Y.fontMeasureInfo=lQ(Q),X=q.asciiCharWidth;Y.placeholder=g0(K.placeholder,"");var W=$=Math.max(0,$-1);for(var F=0;F<Z&&W>=X;F++)W-=X;var H=rQ(q,J);if(H>W)J="",H=0;return W=$-H,Y.ellipsis=J,Y.ellipsisWidth=H,Y.contentWidth=W,Y.containerWidth=$,Y}function ZL0($,Q,J){var{containerWidth:K,contentWidth:Y,fontMeasureInfo:Z}=J;if(!K){$.textLine="",$.isTruncated=!1;return}var q=rQ(Z,Q);if(q<=K){$.textLine=Q,$.isTruncated=!1;return}for(var X=0;;X++){if(q<=Y||X>=J.maxIterations){Q+=J.ellipsis;break}var W=X===0?lV1(Q,Y,Z):q>0?Math.floor(Q.length*Y/q):0;Q=Q.substr(0,W),q=rQ(Z,Q)}if(Q==="")Q=J.placeholder;$.textLine=Q,$.isTruncated=!0}function lV1($,Q,J){var K=0,Y=0;for(var Z=$.length;Y<Z&&K<Q;Y++)K+=Ds(J,$.charCodeAt(Y));return Y}function qL0($,Q,J,K){var Y=ms($),Z=Q.overflow,q=Q.padding,X=q?q[1]+q[3]:0,W=q?q[0]+q[2]:0,F=Q.font,H=Z==="truncate",B=pF(F),z=g0(Q.lineHeight,B),A=Q.lineOverflow==="truncate",R=!1,G=Q.width;if(G==null&&J!=null)G=J-X;var O=Q.height;if(O==null&&K!=null)O=K-W;var T;if(G!=null&&(Z==="break"||Z==="breakAll"))T=Y?WL0(Y,Q.font,G,Z==="breakAll",0).lines:[];else T=Y?Y.split(`
`):[];var D=T.length*z;if(O==null)O=D;if(D>O&&A){var P=Math.floor(O/z);R=R||T.length>P,T=T.slice(0,P),D=T.length*z}if(Y&&H&&G!=null){var j=YL0(G,F,Q.ellipsis,{minChar:Q.truncateMinChar,placeholder:Q.placeholder}),E={};for(var L=0;L<T.length;L++)ZL0(E,T[L],j),T[L]=E.textLine,R=R||E.isTruncated}var v=O,f=0,_=lQ(F);for(var L=0;L<T.length;L++)f=Math.max(rQ(_,T[L]),f);if(G==null)G=f;var M=G;return v+=W,M+=X,{lines:T,height:O,outerWidth:M,outerHeight:v,lineHeight:z,calculatedLineHeight:B,contentWidth:f,contentHeight:D,width:G,isTruncated:R}}function XL0($,Q,J,K,Y){var Z=new iV1,q=ms($);if(!q)return Z;var X=Q.padding,W=X?X[1]+X[3]:0,F=X?X[0]+X[2]:0,H=Q.width;if(H==null&&J!=null)H=J-W;var B=Q.height;if(B==null&&K!=null)B=K-F;var z=Q.overflow,A=(z==="break"||z==="breakAll")&&H!=null?{width:H,accumWidth:0,breakAll:z==="breakAll"}:null,R=xs.lastIndex=0,G;while((G=xs.exec(q))!=null){var O=G.index;if(O>R)cs(Z,q.substring(R,O),Q,A);cs(Z,G[2],Q,A,G[1]),R=xs.lastIndex}if(R<q.length)cs(Z,q.substring(R,q.length),Q,A);var T=[],D=0,P=0,j=z==="truncate",E=Q.lineOverflow==="truncate",L={};function v(z1,b1,B1){z1.width=b1,z1.lineHeight=B1,D+=B1,P=Math.max(P,b1)}$:for(var f=0;f<Z.lines.length;f++){var _=Z.lines[f],M=0,b=0;for(var x=0;x<_.tokens.length;x++){var g=_.tokens[x],m=g.styleName&&Q.rich[g.styleName]||{},u=g.textPadding=m.padding,p=u?u[1]+u[3]:0,o=g.font=m.font||Q.font;g.contentHeight=pF(o);var t=g0(m.height,g.contentHeight);if(g.innerHeight=t,u&&(t+=u[0]+u[2]),g.height=t,g.lineHeight=v6(m.lineHeight,Q.lineHeight,t),g.align=m&&m.align||Y,g.verticalAlign=m&&m.verticalAlign||"middle",E&&B!=null&&D+g.lineHeight>B){var r=Z.lines.length;if(x>0)_.tokens=_.tokens.slice(0,x),v(_,b,M),Z.lines=Z.lines.slice(0,f+1);else Z.lines=Z.lines.slice(0,f);Z.isTruncated=Z.isTruncated||Z.lines.length<r;break $}var Q0=m.width,F0=Q0==null||Q0==="auto";if(typeof Q0==="string"&&Q0.charAt(Q0.length-1)==="%")g.percentWidth=Q0,T.push(g),g.contentWidth=rQ(lQ(o),g.text);else{if(F0){var W0=m.backgroundColor,h0=W0&&W0.image;if(h0){if(h0=$L0(h0),Bz(h0))g.width=Math.max(g.width,h0.width*t/h0.height)}}var d0=j&&H!=null?H-b:null;if(d0!=null&&d0<g.width)if(!F0||d0<p)g.text="",g.width=g.contentWidth=0;else nV1(L,g.text,d0-p,o,Q.ellipsis,{minChar:Q.truncateMinChar}),g.text=L.text,Z.isTruncated=Z.isTruncated||L.isTruncated,g.width=g.contentWidth=rQ(lQ(o),g.text);else g.contentWidth=rQ(lQ(o),g.text)}g.width+=p,b+=g.width,m&&(M=Math.max(M,g.lineHeight))}v(_,b,M)}Z.outerWidth=Z.width=g0(H,P),Z.outerHeight=Z.height=g0(B,D),Z.contentHeight=D,Z.contentWidth=P,Z.outerWidth+=W,Z.outerHeight+=F;for(var f=0;f<T.length;f++){var g=T[f],W1=g.percentWidth;g.width=parseInt(W1,10)/100*Z.width}return Z}function cs($,Q,J,K,Y){var Z=Q==="",q=Y&&J.rich[Y]||{},X=$.lines,W=q.font||J.font,F=!1,H,B;if(K){var z=q.padding,A=z?z[1]+z[3]:0;if(q.width!=null&&q.width!=="auto"){var R=a8(q.width,K.width)+A;if(X.length>0){if(R+K.accumWidth>K.width)H=Q.split(`
`),F=!0}K.accumWidth=R}else{var G=WL0(Q,W,K.width,K.breakAll,K.accumWidth);K.accumWidth=G.accumWidth+A,B=G.linesWidths,H=G.lines}}if(!H)H=Q.split(`
`);var O=lQ(W);for(var T=0;T<H.length;T++){var D=H[T],P=new rV1;if(P.styleName=Y,P.text=D,P.isLineHolder=!D&&!Z,typeof q.width==="number")P.width=q.width;else P.width=B?B[T]:rQ(O,D);if(!T&&!F){var j=(X[X.length-1]||(X[0]=new QL0)).tokens,E=j.length;E===1&&j[0].isLineHolder?j[0]=P:(D||!E||Z)&&j.push(P)}else X.push(new QL0([P]))}}function sV1($){var Q=$.charCodeAt(0);return Q>=32&&Q<=591||Q>=880&&Q<=4351||Q>=4608&&Q<=5119||Q>=7680&&Q<=8303}function aV1($){if(sV1($)){if(oV1[$])return!0;return!1}return!0}function WL0($,Q,J,K,Y){var Z=[],q=[],X="",W="",F=0,H=0,B=lQ(Q);for(var z=0;z<$.length;z++){var A=$.charAt(z);if(A===`
`){if(W)X+=W,H+=F;Z.push(X),q.push(H),X="",W="",F=0,H=0;continue}var R=Ds(B,A.charCodeAt(0)),G=K?!1:!aV1(A);if(!Z.length?Y+H+R>J:H+R>J){if(!H)if(G)Z.push(W),q.push(F),W=A,F=R;else Z.push(A),q.push(R);else if(X||W)if(G){if(!X)X=W,W="",F=0,H=F;Z.push(X),q.push(H-F),W+=A,F+=R,X="",H=F}else{if(W)X+=W,W="",F=0;Z.push(X),q.push(H),X=A,H=R}continue}if(H+=R,G)W+=A,F+=R;else{if(W)X+=W,W="",F=0;X+=A}}if(W)X+=W;if(X)Z.push(X),q.push(H);if(Z.length===1)H+=Y;return{accumWidth:H,lines:Z,linesWidths:q}}function us($,Q,J,K,Y,Z){if($.baseX=J,$.baseY=K,$.outerWidth=$.outerHeight=null,!Q)return;var q=Q.width*2,X=Q.height*2;n0.set(JL0,gX(J,q,Y),BZ(K,X,Z),q,X),n0.intersect(Q,JL0,null,KL0);var W=KL0.outIntersectRect;$.outerWidth=W.width,$.outerHeight=W.height,$.baseX=gX(W.x,W.width,Y,!0),$.baseY=BZ(W.y,W.height,Z,!0)}function ms($){return $!=null?$+="":$=""}function FL0($){var Q=ms($.text),J=$.font,K=rQ(lQ(J),Q),Y=pF(J);return lv($,K,Y,null)}function lv($,Q,J,K){var Y=new n0(gX($.x||0,Q,$.textAlign),BZ($.y||0,J,$.textBaseline),Q,J),Z=K!=null?K:ps($)?$.lineWidth:0;if(Z>0)Y.x-=Z/2,Y.y-=Z/2,Y.width+=Z,Y.height+=Z;return Y}function ps($){var Q=$.stroke;return Q!=null&&Q!=="none"&&$.lineWidth>0}var xs,rV1,QL0,iV1,oV1,JL0,KL0;var ds=h(()=>{nv();l();l4();s5();xs=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;rV1=function(){function $(){}return $}(),QL0=function(){function $(Q){if(this.tokens=[],Q)this.tokens=Q}return $}(),iV1=function(){function $(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return $}();oV1=r8(",&?/;] ".split(""),function($,Q){return $[Q]=!0,$},{});JL0=new n0(0,0,0,0),KL0={outIntersectRect:{},clamp:!0}});function $R1($,Q,J){if(ns.copy($.getBoundingRect()),$.transform)ns.applyTransform($.transform);return ls.width=Q,ls.height=J,!ns.intersect(ls)}var rs,SK,iF,UL0,tV1,eV1,ns,ls,w7;var E3=h(()=>{H0();Ls();s5();l();rs="__zr_style_"+Math.round(Math.random()*10),SK={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},iF={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};SK[rs]=!0;UL0=["z","z2","invisible"],tV1=["invisible"],eV1=function($){c(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype._init=function(J){var K=N1(J);for(var Y=0;Y<K.length;Y++){var Z=K[Y];if(Z==="style")this.useStyle(J[Z]);else $.prototype.attrKV.call(this,Z,J[Z])}if(!this.style)this.useStyle({})},Q.prototype.beforeBrush=function(){},Q.prototype.afterBrush=function(){},Q.prototype.innerBeforeBrush=function(){},Q.prototype.innerAfterBrush=function(){},Q.prototype.shouldBePainted=function(J,K,Y,Z){var q=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&$R1(this,J,K)||q&&!q[0]&&!q[3])return!1;if(Y&&this.__clipPaths&&this.__clipPaths.length){for(var X=0;X<this.__clipPaths.length;++X)if(this.__clipPaths[X].isZeroArea())return!1}if(Z&&this.parent){var W=this.parent;while(W){if(W.ignore)return!1;W=W.parent}}return!0},Q.prototype.contain=function(J,K){return this.rectContain(J,K)},Q.prototype.traverse=function(J,K){J.call(K,this)},Q.prototype.rectContain=function(J,K){var Y=this.transformCoordToLocal(J,K),Z=this.getBoundingRect();return Z.contain(Y[0],Y[1])},Q.prototype.getPaintRect=function(){var J=this._paintRect;if(!this._paintRect||this.__dirty){var K=this.transform,Y=this.getBoundingRect(),Z=this.style,q=Z.shadowBlur||0,X=Z.shadowOffsetX||0,W=Z.shadowOffsetY||0;if(J=this._paintRect||(this._paintRect=new n0(0,0,0,0)),K)n0.applyTransform(J,Y,K);else J.copy(Y);if(q||X||W)J.width+=q*2+Math.abs(X),J.height+=q*2+Math.abs(W),J.x=Math.min(J.x,J.x+X-q),J.y=Math.min(J.y,J.y+W-q);var F=this.dirtyRectTolerance;if(!J.isZero())J.x=Math.floor(J.x-F),J.y=Math.floor(J.y-F),J.width=Math.ceil(J.width+1+F*2),J.height=Math.ceil(J.height+1+F*2)}return J},Q.prototype.setPrevPaintRect=function(J){if(J)this._prevPaintRect=this._prevPaintRect||new n0(0,0,0,0),this._prevPaintRect.copy(J);else this._prevPaintRect=null},Q.prototype.getPrevPaintRect=function(){return this._prevPaintRect},Q.prototype.animateStyle=function(J){return this.animate("style",J)},Q.prototype.updateDuringAnimation=function(J){if(J==="style")this.dirtyStyle();else this.markRedraw()},Q.prototype.attrKV=function(J,K){if(J!=="style")$.prototype.attrKV.call(this,J,K);else if(!this.style)this.useStyle(K);else this.setStyle(K)},Q.prototype.setStyle=function(J,K){if(typeof J==="string")this.style[J]=K;else Y0(this.style,J);return this.dirtyStyle(),this},Q.prototype.dirtyStyle=function(J){if(!J)this.markRedraw();if(this.__dirty|=fF,this._rect)this._rect=null},Q.prototype.dirty=function(){this.dirtyStyle()},Q.prototype.styleChanged=function(){return!!(this.__dirty&fF)},Q.prototype.styleUpdated=function(){this.__dirty&=~fF},Q.prototype.createStyle=function(J){return EX(SK,J)},Q.prototype.useStyle=function(J){if(!J[rs])J=this.createStyle(J);if(this.__inHover)this.__hoverStyle=J;else this.style=J;this.dirtyStyle()},Q.prototype.isStyleObject=function(J){return J[rs]},Q.prototype._innerSaveToNormal=function(J){$.prototype._innerSaveToNormal.call(this,J);var K=this._normalState;if(J.style&&!K.style)K.style=this._mergeStyle(this.createStyle(),this.style);this._savePrimaryToNormal(J,K,UL0)},Q.prototype._applyStateObj=function(J,K,Y,Z,q,X){$.prototype._applyStateObj.call(this,J,K,Y,Z,q,X);var W=!(K&&Z),F;if(K&&K.style)if(q)if(Z)F=K.style;else F=this._mergeStyle(this.createStyle(),Y.style),this._mergeStyle(F,K.style);else F=this._mergeStyle(this.createStyle(),Z?this.style:Y.style),this._mergeStyle(F,K.style);else if(W)F=Y.style;if(F)if(q){var H=this.style;if(this.style=this.createStyle(W?{}:H),W){var B=N1(H);for(var z=0;z<B.length;z++){var A=B[z];if(A in F)F[A]=F[A],this.style[A]=H[A]}}var R=N1(F);for(var z=0;z<R.length;z++){var A=R[z];this.style[A]=this.style[A]}this._transitionState(J,{style:F},X,this.getAnimationStyleProps())}else this.useStyle(F);var G=this.__inHover?tV1:UL0;for(var z=0;z<G.length;z++){var A=G[z];if(K&&K[A]!=null)this[A]=K[A];else if(W){if(Y[A]!=null)this[A]=Y[A]}}},Q.prototype._mergeStates=function(J){var K=$.prototype._mergeStates.call(this,J),Y;for(var Z=0;Z<J.length;Z++){var q=J[Z];if(q.style)Y=Y||{},this._mergeStyle(Y,q.style)}if(Y)K.style=Y;return K},Q.prototype._mergeStyle=function(J,K){return Y0(J,K),J},Q.prototype.getAnimationStyleProps=function(){return iF},Q.initDefaultProps=function(){var J=Q.prototype;J.type="displayable",J.invisible=!1,J.z=0,J.z2=0,J.zlevel=0,J.culling=!1,J.cursor="pointer",J.rectHover=!1,J.incremental=!1,J._rect=null,J.dirtyRectTolerance=0,J.__dirty=Q8|fF}(),Q}(_v),ns=new n0(0,0,0,0),ls=new n0(0,0,0,0);w7=eV1});function oF($,Q,J){if($.length===0)return;var K=$[0],Y=K[0],Z=K[0],q=K[1],X=K[1];for(var W=1;W<$.length;W++)K=$[W],Y=M9(Y,K[0]),Z=b9(Z,K[0]),q=M9(q,K[1]),X=b9(X,K[1]);Q[0]=Y,Q[1]=q,J[0]=Z,J[1]=X}function os($,Q,J,K,Y,Z){Y[0]=M9($,J),Y[1]=M9(Q,K),Z[0]=b9($,J),Z[1]=b9(Q,K)}function BL0($,Q,J,K,Y,Z,q,X,W,F){var H=Zv,B=H7,z=H($,J,Y,q,HL0);W[0]=1/0,W[1]=1/0,F[0]=-1/0,F[1]=-1/0;for(var A=0;A<z;A++){var R=B($,J,Y,q,HL0[A]);W[0]=M9(R,W[0]),F[0]=b9(R,F[0])}z=H(Q,K,Z,X,NL0);for(var A=0;A<z;A++){var G=B(Q,K,Z,X,NL0[A]);W[1]=M9(G,W[1]),F[1]=b9(G,F[1])}W[0]=M9($,W[0]),F[0]=b9($,F[0]),W[0]=M9(q,W[0]),F[0]=b9(q,F[0]),W[1]=M9(Q,W[1]),F[1]=b9(Q,F[1]),W[1]=M9(X,W[1]),F[1]=b9(X,F[1])}function zL0($,Q,J,K,Y,Z,q,X){var W=Xv,F=O7,H=b9(M9(W($,J,Y),1),0),B=b9(M9(W(Q,K,Z),1),0),z=F($,J,Y,H),A=F(Q,K,Z,B);q[0]=M9($,Y,z),q[1]=M9(Q,Z,A),X[0]=b9($,Y,z),X[1]=b9(Q,Z,A)}function AL0($,Q,J,K,Y,Z,q,X,W){var F=D3,H=C3,B=Math.abs(Y-Z);if(B%sF<0.0001&&B>0.0001){X[0]=$-J,X[1]=Q-K,W[0]=$+J,W[1]=Q+K;return}if(rv[0]=ss(Y)*J+$,rv[1]=is(Y)*K+Q,iv[0]=ss(Z)*J+$,iv[1]=is(Z)*K+Q,F(X,rv,iv),H(W,rv,iv),Y=Y%sF,Y<0)Y=Y+sF;if(Z=Z%sF,Z<0)Z=Z+sF;if(Y>Z&&!q)Z+=sF;else if(Y<Z&&q)Y+=sF;if(q){var z=Z;Z=Y,Y=z}for(var A=0;A<Z;A+=Math.PI/2)if(A>Y)sv[0]=ss(A)*J+$,sv[1]=is(A)*K+Q,F(X,sv,X),H(W,sv,W)}var M9,b9,is,ss,sF,rv,iv,sv,HL0,NL0;var Gw=h(()=>{w6();h9();M9=Math.min,b9=Math.max,is=Math.sin,ss=Math.cos,sF=Math.PI*2,rv=TK(),iv=TK(),sv=TK();HL0=[],NL0=[]});function $o($){var Q=Math.round($/Qo*1e8)/1e8;return Q%2*Qo}function QU($,Q){var J=$o($[0]);if(J<0)J+=mX;var K=J-$[0],Y=$[1];if(Y+=K,!Q&&Y-J>=mX)Y=J+mX;else if(Q&&J-Y>=mX)Y=J-mX;else if(!Q&&J>Y)Y=J+(mX-$o(J-Y));else if(Q&&J<Y)Y=J-(mX-$o(Y-J));$[0]=J,$[1]=Y}var R6,aF,tF,_K,uX,fK,IK,as,ts,eF,$U,zZ,Qo,mX,es,Ow,QR1,z8;var L3=h(()=>{w6();s5();cF();Gw();h9();R6={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},aF=[],tF=[],_K=[],uX=[],fK=[],IK=[],as=Math.min,ts=Math.max,eF=Math.cos,$U=Math.sin,zZ=Math.abs,Qo=Math.PI,mX=Qo*2,es=typeof Float32Array<"u",Ow=[];QR1=function(){function $(Q){if(this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,Q)this._saveData=!1;if(this._saveData)this.data=[]}return $.prototype.increaseVersion=function(){this._version++},$.prototype.getVersion=function(){return this._version},$.prototype.setScale=function(Q,J,K){if(K=K||0,K>0)this._ux=zZ(K/xF/Q)||0,this._uy=zZ(K/xF/J)||0},$.prototype.setDPR=function(Q){this.dpr=Q},$.prototype.setContext=function(Q){this._ctx=Q},$.prototype.getContext=function(){return this._ctx},$.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},$.prototype.reset=function(){if(this._saveData)this._len=0;if(this._pathSegLen)this._pathSegLen=null,this._pathLen=0;this._version++},$.prototype.moveTo=function(Q,J){return this._drawPendingPt(),this.addData(R6.M,Q,J),this._ctx&&this._ctx.moveTo(Q,J),this._x0=Q,this._y0=J,this._xi=Q,this._yi=J,this},$.prototype.lineTo=function(Q,J){var K=zZ(Q-this._xi),Y=zZ(J-this._yi),Z=K>this._ux||Y>this._uy;if(this.addData(R6.L,Q,J),this._ctx&&Z)this._ctx.lineTo(Q,J);if(Z)this._xi=Q,this._yi=J,this._pendingPtDist=0;else{var q=K*K+Y*Y;if(q>this._pendingPtDist)this._pendingPtX=Q,this._pendingPtY=J,this._pendingPtDist=q}return this},$.prototype.bezierCurveTo=function(Q,J,K,Y,Z,q){if(this._drawPendingPt(),this.addData(R6.C,Q,J,K,Y,Z,q),this._ctx)this._ctx.bezierCurveTo(Q,J,K,Y,Z,q);return this._xi=Z,this._yi=q,this},$.prototype.quadraticCurveTo=function(Q,J,K,Y){if(this._drawPendingPt(),this.addData(R6.Q,Q,J,K,Y),this._ctx)this._ctx.quadraticCurveTo(Q,J,K,Y);return this._xi=K,this._yi=Y,this},$.prototype.arc=function(Q,J,K,Y,Z,q){this._drawPendingPt(),Ow[0]=Y,Ow[1]=Z,QU(Ow,q),Y=Ow[0],Z=Ow[1];var X=Z-Y;return this.addData(R6.A,Q,J,K,K,Y,X,0,q?0:1),this._ctx&&this._ctx.arc(Q,J,K,Y,Z,q),this._xi=eF(Z)*K+Q,this._yi=$U(Z)*K+J,this},$.prototype.arcTo=function(Q,J,K,Y,Z){if(this._drawPendingPt(),this._ctx)this._ctx.arcTo(Q,J,K,Y,Z);return this},$.prototype.rect=function(Q,J,K,Y){return this._drawPendingPt(),this._ctx&&this._ctx.rect(Q,J,K,Y),this.addData(R6.R,Q,J,K,Y),this},$.prototype.closePath=function(){this._drawPendingPt(),this.addData(R6.Z);var Q=this._ctx,J=this._x0,K=this._y0;if(Q)Q.closePath();return this._xi=J,this._yi=K,this},$.prototype.fill=function(Q){Q&&Q.fill(),this.toStatic()},$.prototype.stroke=function(Q){Q&&Q.stroke(),this.toStatic()},$.prototype.len=function(){return this._len},$.prototype.setData=function(Q){if(!this._saveData)return;var J=Q.length;if(!(this.data&&this.data.length===J)&&es)this.data=new Float32Array(J);for(var K=0;K<J;K++)this.data[K]=Q[K];this._len=J},$.prototype.appendPath=function(Q){if(!this._saveData)return;if(!(Q instanceof Array))Q=[Q];var J=Q.length,K=0,Y=this._len;for(var Z=0;Z<J;Z++)K+=Q[Z].len();var q=this.data;if(es&&(q instanceof Float32Array||!q)){if(this.data=new Float32Array(Y+K),Y>0&&q)for(var X=0;X<Y;X++)this.data[X]=q[X]}for(var Z=0;Z<J;Z++){var W=Q[Z].data;for(var X=0;X<W.length;X++)this.data[Y++]=W[X]}this._len=Y},$.prototype.addData=function(Q,J,K,Y,Z,q,X,W,F){if(!this._saveData)return;var H=this.data;if(this._len+arguments.length>H.length)this._expandData(),H=this.data;for(var B=0;B<arguments.length;B++)H[this._len++]=arguments[B]},$.prototype._drawPendingPt=function(){if(this._pendingPtDist>0)this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0},$.prototype._expandData=function(){if(!(this.data instanceof Array)){var Q=[];for(var J=0;J<this._len;J++)Q[J]=this.data[J];this.data=Q}},$.prototype.toStatic=function(){if(!this._saveData)return;this._drawPendingPt();var Q=this.data;if(Q instanceof Array){if(Q.length=this._len,es&&this._len>11)this.data=new Float32Array(Q)}},$.prototype.getBoundingRect=function(){_K[0]=_K[1]=fK[0]=fK[1]=Number.MAX_VALUE,uX[0]=uX[1]=IK[0]=IK[1]=-Number.MAX_VALUE;var Q=this.data,J=0,K=0,Y=0,Z=0,q;for(q=0;q<this._len;){var X=Q[q++],W=q===1;if(W)J=Q[q],K=Q[q+1],Y=J,Z=K;switch(X){case R6.M:J=Y=Q[q++],K=Z=Q[q++],fK[0]=Y,fK[1]=Z,IK[0]=Y,IK[1]=Z;break;case R6.L:os(J,K,Q[q],Q[q+1],fK,IK),J=Q[q++],K=Q[q++];break;case R6.C:BL0(J,K,Q[q++],Q[q++],Q[q++],Q[q++],Q[q],Q[q+1],fK,IK),J=Q[q++],K=Q[q++];break;case R6.Q:zL0(J,K,Q[q++],Q[q++],Q[q],Q[q+1],fK,IK),J=Q[q++],K=Q[q++];break;case R6.A:var F=Q[q++],H=Q[q++],B=Q[q++],z=Q[q++],A=Q[q++],R=Q[q++]+A;q+=1;var G=!Q[q++];if(W)Y=eF(A)*B+F,Z=$U(A)*z+H;AL0(F,H,B,z,A,R,G,fK,IK),J=eF(R)*B+F,K=$U(R)*z+H;break;case R6.R:Y=J=Q[q++],Z=K=Q[q++];var O=Q[q++],T=Q[q++];os(Y,Z,Y+O,Z+T,fK,IK);break;case R6.Z:J=Y,K=Z;break}D3(_K,_K,fK),C3(uX,uX,IK)}if(q===0)_K[0]=_K[1]=uX[0]=uX[1]=0;return new n0(_K[0],_K[1],uX[0]-_K[0],uX[1]-_K[1])},$.prototype._calculateLength=function(){var Q=this.data,J=this._len,K=this._ux,Y=this._uy,Z=0,q=0,X=0,W=0;if(!this._pathSegLen)this._pathSegLen=[];var F=this._pathSegLen,H=0,B=0;for(var z=0;z<J;){var A=Q[z++],R=z===1;if(R)Z=Q[z],q=Q[z+1],X=Z,W=q;var G=-1;switch(A){case R6.M:Z=X=Q[z++],q=W=Q[z++];break;case R6.L:{var O=Q[z++],T=Q[z++],D=O-Z,P=T-q;if(zZ(D)>K||zZ(P)>Y||z===J-1)G=Math.sqrt(D*D+P*P),Z=O,q=T;break}case R6.C:{var j=Q[z++],E=Q[z++],O=Q[z++],T=Q[z++],L=Q[z++],v=Q[z++];G=uj0(Z,q,j,E,O,T,L,v,10),Z=L,q=v;break}case R6.Q:{var j=Q[z++],E=Q[z++],O=Q[z++],T=Q[z++];G=pj0(Z,q,j,E,O,T,10),Z=O,q=T;break}case R6.A:var f=Q[z++],_=Q[z++],M=Q[z++],b=Q[z++],x=Q[z++],g=Q[z++],m=g+x;if(z+=1,R)X=eF(x)*M+f,W=$U(x)*b+_;G=ts(M,b)*as(mX,Math.abs(g)),Z=eF(m)*M+f,q=$U(m)*b+_;break;case R6.R:{X=Z=Q[z++],W=q=Q[z++];var u=Q[z++],p=Q[z++];G=u*2+p*2;break}case R6.Z:{var D=X-Z,P=W-q;G=Math.sqrt(D*D+P*P),Z=X,q=W;break}}if(G>=0)F[B++]=G,H+=G}return this._pathLen=H,H},$.prototype.rebuildPath=function(Q,J){var K=this.data,Y=this._ux,Z=this._uy,q=this._len,X,W,F,H,B,z,A=J<1,R,G,O=0,T=0,D,P=0,j,E;if(A){if(!this._pathSegLen)this._calculateLength();if(R=this._pathSegLen,G=this._pathLen,D=J*G,!D)return}$:for(var L=0;L<q;){var v=K[L++],f=L===1;if(f)F=K[L],H=K[L+1],X=F,W=H;if(v!==R6.L&&P>0)Q.lineTo(j,E),P=0;switch(v){case R6.M:X=F=K[L++],W=H=K[L++],Q.moveTo(F,H);break;case R6.L:{B=K[L++],z=K[L++];var _=zZ(B-F),M=zZ(z-H);if(_>Y||M>Z){if(A){var b=R[T++];if(O+b>D){var x=(D-O)/b;Q.lineTo(F*(1-x)+B*x,H*(1-x)+z*x);break $}O+=b}Q.lineTo(B,z),F=B,H=z,P=0}else{var g=_*_+M*M;if(g>P)j=B,E=z,P=g}break}case R6.C:{var m=K[L++],u=K[L++],p=K[L++],o=K[L++],t=K[L++],r=K[L++];if(A){var b=R[T++];if(O+b>D){var x=(D-O)/b;f$(F,m,p,t,x,aF),f$(H,u,o,r,x,tF),Q.bezierCurveTo(aF[1],tF[1],aF[2],tF[2],aF[3],tF[3]);break $}O+=b}Q.bezierCurveTo(m,u,p,o,t,r),F=t,H=r;break}case R6.Q:{var m=K[L++],u=K[L++],p=K[L++],o=K[L++];if(A){var b=R[T++];if(O+b>D){var x=(D-O)/b;fX(F,m,p,x,aF),fX(H,u,o,x,tF),Q.quadraticCurveTo(aF[1],tF[1],aF[2],tF[2]);break $}O+=b}Q.quadraticCurveTo(m,u,p,o),F=p,H=o;break}case R6.A:var Q0=K[L++],F0=K[L++],W0=K[L++],h0=K[L++],d0=K[L++],W1=K[L++],z1=K[L++],b1=!K[L++],B1=W0>h0?W0:h0,e0=zZ(W0-h0)>0.001,P1=d0+W1,t0=!1;if(A){var b=R[T++];if(O+b>D)P1=d0+W1*(D-O)/b,t0=!0;O+=b}if(e0&&Q.ellipse)Q.ellipse(Q0,F0,W0,h0,z1,d0,P1,b1);else Q.arc(Q0,F0,B1,d0,P1,b1);if(t0)break $;if(f)X=eF(d0)*W0+Q0,W=$U(d0)*h0+F0;F=eF(P1)*W0+Q0,H=$U(P1)*h0+F0;break;case R6.R:X=F=K[L],W=H=K[L+1],B=K[L++],z=K[L++];var w1=K[L++],V5=K[L++];if(A){var b=R[T++];if(O+b>D){var g1=D-O;if(Q.moveTo(B,z),Q.lineTo(B+as(g1,w1),z),g1-=w1,g1>0)Q.lineTo(B+w1,z+as(g1,V5));if(g1-=V5,g1>0)Q.lineTo(B+ts(w1-g1,0),z+V5);if(g1-=w1,g1>0)Q.lineTo(B,z+ts(V5-g1,0));break $}O+=b}Q.rect(B,z,w1,V5);break;case R6.Z:if(A){var b=R[T++];if(O+b>D){var x=(D-O)/b;Q.lineTo(F*(1-x)+X*x,H*(1-x)+W*x);break $}O+=b}Q.closePath(),F=X,H=W}}},$.prototype.clone=function(){var Q=new $,J=this.data;return Q.data=J.slice?J.slice():Array.prototype.slice.call(J),Q._len=this._len,Q},$.prototype.canSave=function(){return!!this._saveData},$.CMD=R6,$.initDefaultProps=function(){var Q=$.prototype;Q._saveData=!0,Q._ux=0,Q._uy=0,Q._pendingPtDist=0,Q._version=0}(),$}(),z8=QR1});function MK($,Q,J,K,Y,Z,q){if(Y===0)return!1;var X=Y,W=0,F=$;if(q>Q+X&&q>K+X||q<Q-X&&q<K-X||Z>$+X&&Z>J+X||Z<$-X&&Z<J-X)return!1;if($!==J)W=(Q-K)/($-J),F=($*K-J*Q)/($-J);else return Math.abs(Z-$)<=X/2;var H=W*Z-q+F,B=H*H/(W*W+1);return B<=X/2*X/2}function GL0($,Q,J,K,Y,Z,q,X,W,F,H){if(W===0)return!1;var B=W;if(H>Q+B&&H>K+B&&H>Z+B&&H>X+B||H<Q-B&&H<K-B&&H<Z-B&&H<X-B||F>$+B&&F>J+B&&F>Y+B&&F>q+B||F<$-B&&F<J-B&&F<Y-B&&F<q-B)return!1;var z=qv($,Q,J,K,Y,Z,q,X,F,H,null);return z<=B/2}var OL0=h(()=>{h9()});function ov($,Q,J,K,Y,Z,q,X,W){if(q===0)return!1;var F=q;if(W>Q+F&&W>K+F&&W>Z+F||W<Q-F&&W<K-F&&W<Z-F||X>$+F&&X>J+F&&X>Y+F||X<$-F&&X<J-F&&X<Y-F)return!1;var H=Wv($,Q,J,K,Y,Z,X,W,null);return H<=F/2}var Jo=h(()=>{h9()});function t8($){if($%=TL0,$<0)$+=TL0;return $}var TL0;var ww=h(()=>{TL0=Math.PI*2});function DL0($,Q,J,K,Y,Z,q,X,W){if(q===0)return!1;var F=q;X-=$,W-=Q;var H=Math.sqrt(X*X+W*W);if(H-F>J||H+F<J)return!1;if(Math.abs(K-Y)%Tw<0.0001)return!0;if(Z){var B=K;K=t8(Y),Y=t8(B)}else K=t8(K),Y=t8(Y);if(K>Y)Y+=Tw;var z=Math.atan2(W,X);if(z<0)z+=Tw;return z>=K&&z<=Y||z+Tw>=K&&z+Tw<=Y}var Tw;var CL0=h(()=>{ww();Tw=Math.PI*2});function x$($,Q,J,K,Y,Z){if(Z>Q&&Z>K||Z<Q&&Z<K)return 0;if(K===Q)return 0;var q=(Z-Q)/(K-Q),X=K<Q?1:-1;if(q===1||q===0)X=K<Q?0.5:-0.5;var W=q*(J-$)+$;return W===Y?1/0:W>Y?X:0}function ZR1($,Q){return Math.abs($-Q)<YR1}function qR1(){var $=c$[0];c$[0]=c$[1],c$[1]=$}function XR1($,Q,J,K,Y,Z,q,X,W,F){if(F>Q&&F>K&&F>Z&&F>X||F<Q&&F<K&&F<Z&&F<X)return 0;var H=IF(Q,K,Z,X,F,s4);if(H===0)return 0;else{var B=0,z=-1,A=void 0,R=void 0;for(var G=0;G<H;G++){var O=s4[G],T=O===0||O===1?0.5:1,D=H7($,J,Y,q,O);if(D<W)continue;if(z<0){if(z=Zv(Q,K,Z,X,c$),c$[1]<c$[0]&&z>1)qR1();if(A=H7(Q,K,Z,X,c$[0]),z>1)R=H7(Q,K,Z,X,c$[1])}if(z===2)if(O<c$[0])B+=A<Q?T:-T;else if(O<c$[1])B+=R<A?T:-T;else B+=X<R?T:-T;else if(O<c$[0])B+=A<Q?T:-T;else B+=X<A?T:-T}return B}}function WR1($,Q,J,K,Y,Z,q,X){if(X>Q&&X>K&&X>Z||X<Q&&X<K&&X<Z)return 0;var W=mj0(Q,K,Z,X,s4);if(W===0)return 0;else{var F=Xv(Q,K,Z);if(F>=0&&F<=1){var H=0,B=O7(Q,K,Z,F);for(var z=0;z<W;z++){var A=s4[z]===0||s4[z]===1?0.5:1,R=O7($,J,Y,s4[z]);if(R<q)continue;if(s4[z]<F)H+=B<Q?A:-A;else H+=Z<B?A:-A}return H}else{var A=s4[0]===0||s4[0]===1?0.5:1,R=O7($,J,Y,s4[0]);if(R<q)return 0;return Z<Q?A:-A}}}function FR1($,Q,J,K,Y,Z,q,X){if(X-=Q,X>J||X<-J)return 0;var W=Math.sqrt(J*J-X*X);s4[0]=-W,s4[1]=W;var F=Math.abs(K-Y);if(F<0.0001)return 0;if(F>=JU-0.0001){K=0,Y=JU;var H=Z?1:-1;if(q>=s4[0]+$&&q<=s4[1]+$)return H;else return 0}if(K>Y){var B=K;K=Y,Y=B}if(K<0)K+=JU,Y+=JU;var z=0;for(var A=0;A<2;A++){var R=s4[A];if(R+$>q){var G=Math.atan2(X,R),H=Z?1:-1;if(G<0)G=JU+G;if(G>=K&&G<=Y||G+JU>=K&&G+JU<=Y){if(G>Math.PI/2&&G<Math.PI*1.5)H=-H;z+=H}}}return z}function PL0($,Q,J,K,Y){var Z=$.data,q=$.len(),X=0,W=0,F=0,H=0,B=0,z,A;for(var R=0;R<q;){var G=Z[R++],O=R===1;if(G===pX.M&&R>1){if(!J)X+=x$(W,F,H,B,K,Y)}if(O)W=Z[R],F=Z[R+1],H=W,B=F;switch(G){case pX.M:H=Z[R++],B=Z[R++],W=H,F=B;break;case pX.L:if(J){if(MK(W,F,Z[R],Z[R+1],Q,K,Y))return!0}else X+=x$(W,F,Z[R],Z[R+1],K,Y)||0;W=Z[R++],F=Z[R++];break;case pX.C:if(J){if(GL0(W,F,Z[R++],Z[R++],Z[R++],Z[R++],Z[R],Z[R+1],Q,K,Y))return!0}else X+=XR1(W,F,Z[R++],Z[R++],Z[R++],Z[R++],Z[R],Z[R+1],K,Y)||0;W=Z[R++],F=Z[R++];break;case pX.Q:if(J){if(ov(W,F,Z[R++],Z[R++],Z[R],Z[R+1],Q,K,Y))return!0}else X+=WR1(W,F,Z[R++],Z[R++],Z[R],Z[R+1],K,Y)||0;W=Z[R++],F=Z[R++];break;case pX.A:var T=Z[R++],D=Z[R++],P=Z[R++],j=Z[R++],E=Z[R++],L=Z[R++];R+=1;var v=!!(1-Z[R++]);if(z=Math.cos(E)*P+T,A=Math.sin(E)*j+D,!O)X+=x$(W,F,z,A,K,Y);else H=z,B=A;var f=(K-T)*j/P+T;if(J){if(DL0(T,D,j,E,E+L,v,Q,f,Y))return!0}else X+=FR1(T,D,j,E,E+L,v,f,Y);W=Math.cos(E+L)*P+T,F=Math.sin(E+L)*j+D;break;case pX.R:H=W=Z[R++],B=F=Z[R++];var _=Z[R++],M=Z[R++];if(z=H+_,A=B+M,J){if(MK(H,B,z,B,Q,K,Y)||MK(z,B,z,A,Q,K,Y)||MK(z,A,H,A,Q,K,Y)||MK(H,A,H,B,Q,K,Y))return!0}else X+=x$(z,B,z,A,K,Y),X+=x$(H,A,H,B,K,Y);break;case pX.Z:if(J){if(MK(W,F,H,B,Q,K,Y))return!0}else X+=x$(W,F,H,B,K,Y);W=H,F=B;break}}if(!J&&!ZR1(F,B))X+=x$(W,F,H,B,K,Y)||0;return X!==0}function kL0($,Q,J){return PL0($,0,!1,Q,J)}function jL0($,Q,J,K){return PL0($,Q,!0,J,K)}var pX,JU,YR1=0.0001,s4,c$;var EL0=h(()=>{L3();OL0();Jo();CL0();h9();pX=z8.CMD,JU=Math.PI*2;s4=[-1,-1,-1],c$=[-1,-1]});var zz,HR1,Ko,NR1,Y1;var m6=h(()=>{H0();E3();L3();EL0();l();o8();cF();EK();zz=c0({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},SK),HR1={style:c0({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},iF.style)},Ko=k3.concat(["invisible","culling","z","z2","zlevel","parent"]),NR1=function($){c(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.update=function(){var J=this;$.prototype.update.call(this);var K=this.style;if(K.decal){var Y=this._decalEl=this._decalEl||new Q;if(Y.buildPath===Q.prototype.buildPath)Y.buildPath=function(W){J.buildPath(W,J.shape)};Y.silent=!0;var Z=Y.style;for(var q in K)if(Z[q]!==K[q])Z[q]=K[q];Z.fill=K.fill?K.decal:null,Z.decal=null,Z.shadowColor=null,K.strokeFirst&&(Z.stroke=null);for(var X=0;X<Ko.length;++X)Y[Ko[X]]=this[Ko[X]];Y.__dirty|=Q8}else if(this._decalEl)this._decalEl=null},Q.prototype.getDecalElement=function(){return this._decalEl},Q.prototype._init=function(J){var K=N1(J);this.shape=this.getDefaultShape();var Y=this.getDefaultStyle();if(Y)this.useStyle(Y);for(var Z=0;Z<K.length;Z++){var q=K[Z],X=J[q];if(q==="style")if(!this.style)this.useStyle(X);else Y0(this.style,X);else if(q==="shape")Y0(this.shape,X);else $.prototype.attrKV.call(this,q,X)}if(!this.style)this.useStyle({})},Q.prototype.getDefaultStyle=function(){return null},Q.prototype.getDefaultShape=function(){return{}},Q.prototype.canBeInsideText=function(){return this.hasFill()},Q.prototype.getInsideTextFill=function(){var J=this.style.fill;if(J!=="none"){if(R0(J)){var K=Zz(J,0);if(K>0.5)return Uw;else if(K>0.2)return RE0;return Hw}else if(J)return Hw}return Uw},Q.prototype.getInsideTextStroke=function(J){var K=this.style.fill;if(R0(K)){var Y=this.__zr,Z=!!(Y&&Y.isDarkMode()),q=Zz(J,0)<Fw;if(Z===q)return K}},Q.prototype.buildPath=function(J,K,Y){},Q.prototype.pathUpdated=function(){this.__dirty&=~vX},Q.prototype.getUpdatedPathProxy=function(J){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,J),this.path},Q.prototype.createPathProxy=function(){this.path=new z8(!1)},Q.prototype.hasStroke=function(){var J=this.style,K=J.stroke;return!(K==null||K==="none"||!(J.lineWidth>0))},Q.prototype.hasFill=function(){var J=this.style,K=J.fill;return K!=null&&K!=="none"},Q.prototype.getBoundingRect=function(){var J=this._rect,K=this.style,Y=!J;if(Y){var Z=!1;if(!this.path)Z=!0,this.createPathProxy();var q=this.path;if(Z||this.__dirty&vX)q.beginPath(),this.buildPath(q,this.shape,!1),this.pathUpdated();J=q.getBoundingRect()}if(this._rect=J,this.hasStroke()&&this.path&&this.path.len()>0){var X=this._rectStroke||(this._rectStroke=J.clone());if(this.__dirty||Y){X.copy(J);var W=K.strokeNoScale?this.getLineScale():1,F=K.lineWidth;if(!this.hasFill()){var H=this.strokeContainThreshold;F=Math.max(F,H==null?4:H)}if(W>0.0000000001)X.width+=F/W,X.height+=F/W,X.x-=F/W/2,X.y-=F/W/2}return X}return J},Q.prototype.contain=function(J,K){var Y=this.transformCoordToLocal(J,K),Z=this.getBoundingRect(),q=this.style;if(J=Y[0],K=Y[1],Z.contain(J,K)){var X=this.path;if(this.hasStroke()){var W=q.lineWidth,F=q.strokeNoScale?this.getLineScale():1;if(F>0.0000000001){if(!this.hasFill())W=Math.max(W,this.strokeContainThreshold);if(jL0(X,W/F,J,K))return!0}}if(this.hasFill())return kL0(X,J,K)}return!1},Q.prototype.dirtyShape=function(){if(this.__dirty|=vX,this._rect)this._rect=null;if(this._decalEl)this._decalEl.dirtyShape();this.markRedraw()},Q.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},Q.prototype.animateShape=function(J){return this.animate("shape",J)},Q.prototype.updateDuringAnimation=function(J){if(J==="style")this.dirtyStyle();else if(J==="shape")this.dirtyShape();else this.markRedraw()},Q.prototype.attrKV=function(J,K){if(J==="shape")this.setShape(K);else $.prototype.attrKV.call(this,J,K)},Q.prototype.setShape=function(J,K){var Y=this.shape;if(!Y)Y=this.shape={};if(typeof J==="string")Y[J]=K;else Y0(Y,J);return this.dirtyShape(),this},Q.prototype.shapeChanged=function(){return!!(this.__dirty&vX)},Q.prototype.createStyle=function(J){return EX(zz,J)},Q.prototype._innerSaveToNormal=function(J){$.prototype._innerSaveToNormal.call(this,J);var K=this._normalState;if(J.shape&&!K.shape)K.shape=Y0({},this.shape)},Q.prototype._applyStateObj=function(J,K,Y,Z,q,X){$.prototype._applyStateObj.call(this,J,K,Y,Z,q,X);var W=!(K&&Z),F;if(K&&K.shape)if(q)if(Z)F=K.shape;else F=Y0({},Y.shape),Y0(F,K.shape);else F=Y0({},Z?this.shape:Y.shape),Y0(F,K.shape);else if(W)F=Y.shape;if(F)if(q){this.shape=Y0({},this.shape);var H={},B=N1(F);for(var z=0;z<B.length;z++){var A=B[z];if(typeof F[A]==="object")this.shape[A]=F[A];else H[A]=F[A]}this._transitionState(J,{shape:H},X)}else this.shape=F,this.dirtyShape()},Q.prototype._mergeStates=function(J){var K=$.prototype._mergeStates.call(this,J),Y;for(var Z=0;Z<J.length;Z++){var q=J[Z];if(q.shape)Y=Y||{},this._mergeStyle(Y,q.shape)}if(Y)K.shape=Y;return K},Q.prototype.getAnimationStyleProps=function(){return HR1},Q.prototype.isZeroArea=function(){return!1},Q.extend=function(J){var K=function(Z){c(q,Z);function q(X){var W=Z.call(this,X)||this;return J.init&&J.init.call(W,X),W}return q.prototype.getDefaultStyle=function(){return m0(J.style)},q.prototype.getDefaultShape=function(){return m0(J.shape)},q}(Q);for(var Y in J)if(typeof J[Y]==="function")K.prototype[Y]=J[Y];return K},Q.initDefaultProps=function(){var J=Q.prototype;J.type="path",J.strokeContainThreshold=5,J.segmentIgnoreThreshold=0,J.subPixelOptimize=!1,J.autoBatch=!1,J.__dirty=Q8|fF|vX}(),Q}(w7),Y1=NR1});var BR1,LL0,AZ;var Dw=h(()=>{H0();E3();m6();l();h$();ds();BR1=c0({strokeFirst:!0,font:k9,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},zz),LL0=function($){c(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.hasStroke=function(){return ps(this.style)},Q.prototype.hasFill=function(){var J=this.style,K=J.fill;return K!=null&&K!=="none"},Q.prototype.createStyle=function(J){return EX(BR1,J)},Q.prototype.setBoundingRect=function(J){this._rect=J},Q.prototype.getBoundingRect=function(){if(!this._rect)this._rect=FL0(this.style);return this._rect},Q.initDefaultProps=function(){var J=Q.prototype;J.dirtyRectTolerance=10}(),Q}(w7);LL0.prototype.type="tspan";AZ=LL0});function VR1($){return!!($&&typeof $!=="string"&&$.width&&$.height)}var zR1,AR1,hL0,q6;var u$=h(()=>{H0();E3();s5();l();zR1=c0({x:0,y:0},SK),AR1={style:c0({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},iF.style)};hL0=function($){c(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.createStyle=function(J){return EX(zR1,J)},Q.prototype._getSize=function(J){var K=this.style,Y=K[J];if(Y!=null)return Y;var Z=VR1(K.image)?K.image:this.__image;if(!Z)return 0;var q=J==="width"?"height":"width",X=K[q];if(X==null)return Z[J];else return Z[J]/Z[q]*X},Q.prototype.getWidth=function(){return this._getSize("width")},Q.prototype.getHeight=function(){return this._getSize("height")},Q.prototype.getAnimationStyleProps=function(){return AR1},Q.prototype.getBoundingRect=function(){var J=this.style;if(!this._rect)this._rect=new n0(J.x||0,J.y||0,this.getWidth(),this.getHeight());return this._rect},Q}(w7);hL0.prototype.type="image";q6=hL0});function vL0($,Q){var{x:J,y:K,width:Y,height:Z,r:q}=Q,X,W,F,H;if(Y<0)J=J+Y,Y=-Y;if(Z<0)K=K+Z,Z=-Z;if(typeof q==="number")X=W=F=H=q;else if(q instanceof Array)if(q.length===1)X=W=F=H=q[0];else if(q.length===2)X=F=q[0],W=H=q[1];else if(q.length===3)X=q[0],W=H=q[1],F=q[2];else X=q[0],W=q[1],F=q[2],H=q[3];else X=W=F=H=0;var B;if(X+W>Y)B=X+W,X*=Y/B,W*=Y/B;if(F+H>Y)B=F+H,F*=Y/B,H*=Y/B;if(W+F>Z)B=W+F,W*=Z/B,F*=Z/B;if(X+H>Z)B=X+H,X*=Z/B,H*=Z/B;$.moveTo(J+X,K),$.lineTo(J+Y-W,K),W!==0&&$.arc(J+Y-W,K+W,W,-Math.PI/2,0),$.lineTo(J+Y,K+Z-F),F!==0&&$.arc(J+Y-F,K+Z-F,F,0,Math.PI/2),$.lineTo(J+H,K+Z),H!==0&&$.arc(J+H,K+Z-H,H,Math.PI/2,Math.PI),$.lineTo(J,K+X),X!==0&&$.arc(J+X,K+X,X,Math.PI,Math.PI*1.5)}function KU($,Q,J){if(!Q)return;var{x1:K,x2:Y,y1:Z,y2:q}=Q;$.x1=K,$.x2=Y,$.y1=Z,$.y2=q;var X=J&&J.lineWidth;if(!X)return $;if(Az(K*2)===Az(Y*2))$.x1=$.x2=o4(K,X,!0);if(Az(Z*2)===Az(q*2))$.y1=$.y2=o4(Z,X,!0);return $}function av($,Q,J){if(!Q)return;var{x:K,y:Y,width:Z,height:q}=Q;$.x=K,$.y=Y,$.width=Z,$.height=q;var X=J&&J.lineWidth;if(!X)return $;return $.x=o4(K,X,!0),$.y=o4(Y,X,!0),$.width=Math.max(o4(K+Z,X,!1)-$.x,Z===0?0:1),$.height=Math.max(o4(Y+q,X,!1)-$.y,q===0?0:1),$}function o4($,Q,J){if(!Q)return $;var K=Az($*2);return(K+Az(Q))%2===0?K/2:(K+(J?1:-1))/2}var Az;var Vz=h(()=>{Az=Math.round});var OR1,wR1,SL0,X1;var Rz=h(()=>{H0();m6();Vz();OR1=function(){function $(){this.x=0,this.y=0,this.width=0,this.height=0}return $}(),wR1={},SL0=function($){c(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultShape=function(){return new OR1},Q.prototype.buildPath=function(J,K){var Y,Z,q,X;if(this.subPixelOptimize){var W=av(wR1,K,this.style);Y=W.x,Z=W.y,q=W.width,X=W.height,W.r=K.r,K=W}else Y=K.x,Z=K.y,q=K.width,X=K.height;if(!K.r)J.rect(Y,Z,q,X);else vL0(J,K)},Q.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},Q}(Y1);SL0.prototype.type="rect";X1=SL0});function Zo($){if(typeof $==="string"&&($.indexOf("px")!==-1||$.indexOf("rem")!==-1||$.indexOf("em")!==-1))return $;else if(!isNaN(+$))return $+"px";else return uh+"px"}function ML0($,Q){for(var J=0;J<IL0.length;J++){var K=IL0[J],Y=Q[K];if(Y!=null)$[K]=Y}}function qo($){return $.fontSize!=null||$.fontFamily||$.fontWeight}function PR1($){return bL0($),S($.rich,bL0),$}function bL0($){if($){$.font=uL0.makeFont($);var Q=$.align;Q==="middle"&&(Q="center"),$.align=Q==null||DR1[Q]?Q:"left";var J=$.verticalAlign;J==="center"&&(J="middle"),$.verticalAlign=J==null||CR1[J]?J:"top";var K=$.padding;if(K)$.padding=jX($.padding)}}function gL0($,Q){return $==null||Q<=0||$==="transparent"||$==="none"?null:$.image||$.colorStops?"#000":$}function yL0($){return $==null||$==="none"?null:$.image||$.colorStops?"#000":$}function xL0($,Q,J){return Q==="right"?$-J[1]:Q==="center"?$+J[3]/2-J[1]/2:$+J[3]}function cL0($){var Q=$.text;return Q!=null&&(Q+=""),Q}function Yo($){return!!($.backgroundColor||$.lineHeight||$.borderWidth&&$.borderColor)}var _L0,fL0=2,bK,TR1,uL0,DR1,CR1,IL0,j1;var YU=h(()=>{H0();ds();Dw();l();l4();u$();Rz();s5();E3();h$();_L0={fill:"#000"},bK={},TR1={style:c0({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},iF.style)},uL0=function($){c(Q,$);function Q(J){var K=$.call(this)||this;return K.type="text",K._children=[],K._defaultStyle=_L0,K.attr(J),K}return Q.prototype.childrenRef=function(){return this._children},Q.prototype.update=function(){if($.prototype.update.call(this),this.styleChanged())this._updateSubTexts();for(var J=0;J<this._children.length;J++){var K=this._children[J];K.zlevel=this.zlevel,K.z=this.z,K.z2=this.z2,K.culling=this.culling,K.cursor=this.cursor,K.invisible=this.invisible}},Q.prototype.updateTransform=function(){var J=this.innerTransformable;if(J){if(J.updateTransform(),J.transform)this.transform=J.transform}else $.prototype.updateTransform.call(this)},Q.prototype.getLocalTransform=function(J){var K=this.innerTransformable;return K?K.getLocalTransform(J):$.prototype.getLocalTransform.call(this,J)},Q.prototype.getComputedTransform=function(){if(this.__hostTarget)this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0);return $.prototype.getComputedTransform.call(this)},Q.prototype._updateSubTexts=function(){this._childCursor=0,PR1(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},Q.prototype.addSelfToZr=function(J){$.prototype.addSelfToZr.call(this,J);for(var K=0;K<this._children.length;K++)this._children[K].__zr=J},Q.prototype.removeSelfFromZr=function(J){$.prototype.removeSelfFromZr.call(this,J);for(var K=0;K<this._children.length;K++)this._children[K].__zr=null},Q.prototype.getBoundingRect=function(){if(this.styleChanged())this._updateSubTexts();if(!this._rect){var J=new n0(0,0,0,0),K=this._children,Y=[],Z=null;for(var q=0;q<K.length;q++){var X=K[q],W=X.getBoundingRect(),F=X.getLocalTransform(Y);if(F)J.copy(W),J.applyTransform(F),Z=Z||J.clone(),Z.union(J);else Z=Z||W.clone(),Z.union(W)}this._rect=Z||J}return this._rect},Q.prototype.setDefaultTextStyle=function(J){this._defaultStyle=J||_L0},Q.prototype.setTextContent=function(J){throw Error("Can't attach text on another text")},Q.prototype._mergeStyle=function(J,K){if(!K)return J;var Y=K.rich,Z=J.rich||Y&&{};if(Y0(J,K),Y&&Z)this._mergeRich(Z,Y),J.rich=Z;else if(Z)J.rich=Z;return J},Q.prototype._mergeRich=function(J,K){var Y=N1(K);for(var Z=0;Z<Y.length;Z++){var q=Y[Z];J[q]=J[q]||{},Y0(J[q],K[q])}},Q.prototype.getAnimationStyleProps=function(){return TR1},Q.prototype._getOrCreateChild=function(J){var K=this._children[this._childCursor];if(!K||!(K instanceof J))K=new J;return this._children[this._childCursor++]=K,K.__zr=this.__zr,K.parent=this,K},Q.prototype._updatePlainTexts=function(){var J=this.style,K=J.font||k9,Y=J.padding,Z=this._defaultStyle,q=J.x||0,X=J.y||0,W=J.align||Z.align||"left",F=J.verticalAlign||Z.verticalAlign||"top";us(bK,Z.overflowRect,q,X,W,F),q=bK.baseX,X=bK.baseY;var H=cL0(J),B=qL0(H,J,bK.outerWidth,bK.outerHeight),z=Yo(J),A=!!J.backgroundColor,R=B.outerHeight,G=B.outerWidth,O=B.lines,T=B.lineHeight;this.isTruncated=!!B.isTruncated;var D=q,P=BZ(X,B.contentHeight,F);if(z||Y){var j=gX(q,G,W),E=BZ(X,R,F);z&&this._renderBackground(J,J,j,E,G,R)}if(P+=T/2,Y){if(D=xL0(q,W,Y),F==="top")P+=Y[0];else if(F==="bottom")P-=Y[2]}var L=0,v=!1,f=!1,_=yL0("fill"in J?J.fill:(f=!0,Z.fill)),M=gL0("stroke"in J?J.stroke:!A&&(!Z.autoStroke||f)?(L=fL0,v=!0,Z.stroke):null),b=J.textShadowBlur>0;for(var x=0;x<O.length;x++){var g=this._getOrCreateChild(AZ),m=g.createStyle();if(g.useStyle(m),m.text=O[x],m.x=D,m.y=P,W)m.textAlign=W;if(m.textBaseline="middle",m.opacity=J.opacity,m.strokeFirst=!0,b)m.shadowBlur=J.textShadowBlur||0,m.shadowColor=J.textShadowColor||"transparent",m.shadowOffsetX=J.textShadowOffsetX||0,m.shadowOffsetY=J.textShadowOffsetY||0;if(m.stroke=M,m.fill=_,M)m.lineWidth=J.lineWidth||L,m.lineDash=J.lineDash,m.lineDashOffset=J.lineDashOffset||0;m.font=K,ML0(m,J),P+=T,g.setBoundingRect(lv(m,B.contentWidth,B.calculatedLineHeight,v?0:null))}},Q.prototype._updateRichTexts=function(){var J=this.style,K=this._defaultStyle,Y=J.align||K.align,Z=J.verticalAlign||K.verticalAlign,q=J.x||0,X=J.y||0;us(bK,K.overflowRect,q,X,Y,Z),q=bK.baseX,X=bK.baseY;var W=cL0(J),F=XL0(W,J,bK.outerWidth,bK.outerHeight,Y),H=F.width,B=F.outerWidth,z=F.outerHeight,A=J.padding;this.isTruncated=!!F.isTruncated;var R=gX(q,B,Y),G=BZ(X,z,Z),O=R,T=G;if(A)O+=A[3],T+=A[0];var D=O+H;if(Yo(J))this._renderBackground(J,J,R,G,B,z);var P=!!J.backgroundColor;for(var j=0;j<F.lines.length;j++){var E=F.lines[j],L=E.tokens,v=L.length,f=E.lineHeight,_=E.width,M=0,b=O,x=D,g=v-1,m=void 0;while(M<v&&(m=L[M],!m.align||m.align==="left"))this._placeToken(m,J,f,T,b,"left",P),_-=m.width,b+=m.width,M++;while(g>=0&&(m=L[g],m.align==="right"))this._placeToken(m,J,f,T,x,"right",P),_-=m.width,x-=m.width,g--;b+=(H-(b-O)-(D-x)-_)/2;while(M<=g)m=L[M],this._placeToken(m,J,f,T,b+m.width/2,"center",P),b+=m.width,M++;T+=f}},Q.prototype._placeToken=function(J,K,Y,Z,q,X,W){var F=K.rich[J.styleName]||{};F.text=J.text;var H=J.verticalAlign,B=Z+Y/2;if(H==="top")B=Z+J.height/2;else if(H==="bottom")B=Z+Y-J.height/2;var z=!J.isLineHolder&&Yo(F);z&&this._renderBackground(F,K,X==="right"?q-J.width:X==="center"?q-J.width/2:q,B-J.height/2,J.width,J.height);var A=!!F.backgroundColor,R=J.textPadding;if(R)q=xL0(q,X,R),B-=J.height/2-R[0]-J.innerHeight/2;var G=this._getOrCreateChild(AZ),O=G.createStyle();G.useStyle(O);var T=this._defaultStyle,D=!1,P=0,j=!1,E=yL0("fill"in F?F.fill:("fill"in K)?K.fill:(D=!0,T.fill)),L=gL0("stroke"in F?F.stroke:("stroke"in K)?K.stroke:!A&&!W&&(!T.autoStroke||D)?(P=fL0,j=!0,T.stroke):null),v=F.textShadowBlur>0||K.textShadowBlur>0;if(O.text=J.text,O.x=q,O.y=B,v)O.shadowBlur=F.textShadowBlur||K.textShadowBlur||0,O.shadowColor=F.textShadowColor||K.textShadowColor||"transparent",O.shadowOffsetX=F.textShadowOffsetX||K.textShadowOffsetX||0,O.shadowOffsetY=F.textShadowOffsetY||K.textShadowOffsetY||0;if(O.textAlign=X,O.textBaseline="middle",O.font=J.font||k9,O.opacity=v6(F.opacity,K.opacity,1),ML0(O,F),L)O.lineWidth=v6(F.lineWidth,K.lineWidth,P),O.lineDash=g0(F.lineDash,K.lineDash),O.lineDashOffset=K.lineDashOffset||0,O.stroke=L;if(E)O.fill=E;G.setBoundingRect(lv(O,J.contentWidth,J.contentHeight,j?0:null))},Q.prototype._renderBackground=function(J,K,Y,Z,q,X){var{backgroundColor:W,borderWidth:F,borderColor:H}=J,B=W&&W.image,z=W&&!B,A=J.borderRadius,R=this,G,O;if(z||J.lineHeight||F&&H){G=this._getOrCreateChild(X1),G.useStyle(G.createStyle()),G.style.fill=null;var T=G.shape;T.x=Y,T.y=Z,T.width=q,T.height=X,T.r=A,G.dirtyShape()}if(z){var D=G.style;D.fill=W||null,D.fillOpacity=g0(J.fillOpacity,1)}else if(B){O=this._getOrCreateChild(q6),O.onload=function(){R.dirtyStyle()};var P=O.style;P.image=W.image,P.x=Y,P.y=Z,P.width=q,P.height=X}if(F&&H){var D=G.style;if(D.lineWidth=F,D.stroke=H,D.strokeOpacity=g0(J.strokeOpacity,1),D.lineDash=J.borderDash,D.lineDashOffset=J.borderDashOffset||0,G.strokeContainThreshold=0,G.hasFill()&&G.hasStroke())D.strokeFirst=!0,D.lineWidth*=2}var j=(G||O).style;j.shadowBlur=J.shadowBlur||0,j.shadowColor=J.shadowColor||"transparent",j.shadowOffsetX=J.shadowOffsetX||0,j.shadowOffsetY=J.shadowOffsetY||0,j.opacity=v6(J.opacity,K.opacity,1)},Q.makeFont=function(J){var K="";if(qo(J))K=[J.fontStyle,J.fontWeight,Zo(J.fontSize),J.fontFamily||"sans-serif"].join(" ");return K&&m7(K)||J.textFont||J.font},Q}(w7),DR1={left:!0,right:1,center:1},CR1={top:1,bottom:1,middle:1},IL0=["fontStyle","fontWeight","fontSize","fontFamily"];j1=uL0});var r0,Cw=function($,Q,J,K){if(K){var Y=r0(K);if(Y.dataIndex=J,Y.dataType=Q,Y.seriesIndex=$,Y.ssrType="chart",K.type==="group")K.traverse(function(Z){var q=r0(Z);q.seriesIndex=$,q.dataIndex=J,q.dataType=Q,q.ssrType="chart"})}};var o5=h(()=>{l0();r0=o0()});function Gz($){return $!=null&&$!=="none"}function QS($,Q,J){if($.onHoverStateChange&&($.hoverState||0)!==J)$.onHoverStateChange(Q);$.hoverState=J}function sL0($){QS($,"emphasis",Pw)}function oL0($){if($.hoverState===Pw)QS($,"normal",Uo)}function Ho($){QS($,"blur",ZU)}function aL0($){if($.hoverState===ZU)QS($,"normal",Uo)}function jR1($){$.selected=!0}function ER1($){$.selected=!1}function dL0($,Q,J){Q($,J)}function RZ($,Q,J){dL0($,Q,J),$.isGroup&&$.traverse(function(K){dL0(K,Q,J)})}function qU($,Q){switch(Q){case"emphasis":$.hoverState=Pw;break;case"normal":$.hoverState=Uo;break;case"blur":$.hoverState=ZU;break;case"select":$.selected=!0}}function LR1($,Q,J,K){var Y=$.style,Z={};for(var q=0;q<Q.length;q++){var X=Q[q],W=Y[X];Z[X]=W==null?K&&K[X]:W}for(var q=0;q<$.animators.length;q++){var F=$.animators[q];if(F.__fromStateTransition&&F.__fromStateTransition.indexOf(J)<0&&F.targetName==="style")F.saveTo(Z,Q)}return Z}function hR1($,Q,J,K){var Y=J&&J1(J,"select")>=0,Z=!1;if($ instanceof Y1){var q=iL0($),X=Y?q.selectFill||q.normalFill:q.normalFill,W=Y?q.selectStroke||q.normalStroke:q.normalStroke;if(Gz(X)||Gz(W)){K=K||{};var F=K.style||{};if(F.fill==="inherit")Z=!0,K=Y0({},K),F=Y0({},F),F.fill=X;else if(!Gz(F.fill)&&Gz(X))Z=!0,K=Y0({},K),F=Y0({},F),F.fill=Kw(X);else if(!Gz(F.stroke)&&Gz(W)){if(!Z)K=Y0({},K),F=Y0({},F);F.stroke=Kw(W)}K.style=F}}if(K){if(K.z2==null){if(!Z)K=Y0({},K);var H=$.z2EmphasisLift;K.z2=$.z2+(H!=null?H:VZ)}}return K}function vR1($,Q,J){if(J){if(J.z2==null){J=Y0({},J);var K=$.z2SelectLift;J.z2=$.z2+(K!=null?K:kR1)}}return J}function SR1($,Q,J){var K=J1($.currentStates,Q)>=0,Y=$.style.opacity,Z=!K?LR1($,["opacity"],Q,{opacity:1}):null;J=J||{};var q=J.style||{};if(q.opacity==null)J=Y0({},J),q=Y0({opacity:K?Y:Z.opacity*0.1},q),J.style=q;return J}function Xo($,Q){var J=this.states[$];if(this.style){if($==="emphasis")return hR1(this,$,Q,J);else if($==="blur")return SR1(this,$,J);else if($==="select")return vR1(this,$,J)}return J}function aQ($){$.stateProxy=Xo;var Q=$.getTextContent(),J=$.getTextGuideLine();if(Q)Q.stateProxy=Xo;if(J)J.stateProxy=Xo}function nL0($,Q){!tL0($,Q)&&!$.__highByOuter&&RZ($,sL0)}function lL0($,Q){!tL0($,Q)&&!$.__highByOuter&&RZ($,oL0)}function G4($,Q){$.__highByOuter|=1<<(Q||0),RZ($,sL0)}function O4($,Q){!($.__highByOuter&=~(1<<(Q||0)))&&RZ($,oL0)}function JS($){RZ($,Ho)}function Lw($){RZ($,aL0)}function No($){RZ($,jR1)}function Bo($){RZ($,ER1)}function tL0($,Q){return $.__highDownSilentOnTouch&&Q.zrByTouch}function zo($){var Q=$.getModel(),J=[],K=[];Q.eachComponent(function(Y,Z){var q=Fo(Z),X=Y==="series",W=X?$.getViewOfSeriesModel(Z):$.getViewOfComponentModel(Z);if(!X&&K.push(W),q.isBlured)W.group.traverse(function(F){aL0(F)}),X&&J.push(Z);q.isBlured=!1}),S(K,function(Y){if(Y&&Y.toggleBlurSeries)Y.toggleBlurSeries(J,!1,Q)})}function Wo($,Q,J,K){var Y=K.getModel();J=J||"coordinateSystem";function Z(F,H){for(var B=0;B<H.length;B++){var z=F.getItemGraphicEl(H[B]);z&&Lw(z)}}if($==null)return;if(!Q||Q==="none")return;var q=Y.getSeriesByIndex($),X=q.coordinateSystem;if(X&&X.master)X=X.master;var W=[];Y.eachSeries(function(F){var H=q===F,B=F.coordinateSystem;if(B&&B.master)B=B.master;var z=B&&X?B===X:H;if(!(J==="series"&&!H||J==="coordinateSystem"&&!z||Q==="series"&&H)){var A=K.getViewOfSeriesModel(F);if(A.group.traverse(function(O){if(O.__highByOuter&&H&&Q==="self")return;Ho(O)}),F7(Q))Z(F.getData(),Q);else if(y0(Q)){var R=N1(Q);for(var G=0;G<R.length;G++)Z(F.getData(R[G]),Q[R[G]])}W.push(F),Fo(F).isBlured=!0}}),Y.eachComponent(function(F,H){if(F==="series")return;var B=K.getViewOfComponentModel(H);if(B&&B.toggleBlurSeries)B.toggleBlurSeries(W,!0,Y)})}function tv($,Q,J){if($==null||Q==null)return;var K=J.getModel().getComponent($,Q);if(!K)return;Fo(K).isBlured=!0;var Y=J.getViewOfComponentModel(K);if(!Y||!Y.focusBlurEnabled)return;Y.group.traverse(function(Z){Ho(Z)})}function eL0($,Q,J){var K=$.seriesIndex,Y=$.getData(Q.dataType);if(!Y){S1("Unknown dataType "+Q.dataType);return}var Z=y$(Y,Q);Z=(Z0(Z)?Z[0]:Z)||0;var q=Y.getItemGraphicEl(Z);if(!q){var X=Y.count(),W=0;while(!q&&W<X)q=Y.getItemGraphicEl(W++)}if(q){var F=r0(q);Wo(K,F.focus,F.blurScope,J)}else{var H=$.get(["emphasis","focus"]),B=$.get(["emphasis","blurScope"]);if(H!=null)Wo(K,H,B,J)}}function KS($,Q,J,K){var Y={focusSelf:!1,dispatchers:null};if($==null||$==="series"||Q==null||J==null)return Y;var Z=K.getModel().getComponent($,Q);if(!Z)return Y;var q=K.getViewOfComponentModel(Z);if(!q||!q.findHighDownDispatchers)return Y;var X=q.findHighDownDispatchers(J),W;for(var F=0;F<X.length;F++){if(!tQ(X[F]))S1("param should be highDownDispatcher");if(r0(X[F]).focus==="self"){W=!0;break}}return{focusSelf:W,dispatchers:X}}function $h0($,Q,J){if(!tQ($))S1("param should be highDownDispatcher");var K=r0($),Y=KS(K.componentMainType,K.componentIndex,K.componentHighDownName,J),Z=Y.dispatchers,q=Y.focusSelf;if(Z){if(q)tv(K.componentMainType,K.componentIndex,J);S(Z,function(X){return nL0(X,Q)})}else{if(Wo(K.seriesIndex,K.focus,K.blurScope,J),K.focus==="self")tv(K.componentMainType,K.componentIndex,J);nL0($,Q)}}function Qh0($,Q,J){if(!tQ($))S1("param should be highDownDispatcher");zo(J);var K=r0($),Y=KS(K.componentMainType,K.componentIndex,K.componentHighDownName,J).dispatchers;if(Y)S(Y,function(Z){return lL0(Z,Q)});else lL0($,Q)}function Jh0($,Q,J){if(!ZS(Q))return;var K=Q.dataType,Y=$.getData(K),Z=y$(Y,Q);if(!Z0(Z))Z=[Z];$[Q.type===Ew?"toggleSelect":Q.type===jw?"select":"unselect"](Z,K)}function Ao($){var Q=$.getAllData();S(Q,function(J){var{data:K,type:Y}=J;K.eachItemGraphicEl(function(Z,q){$.isSelected(q,Y)?No(Z):Bo(Z)})})}function Kh0($){var Q=[];return $.eachSeries(function(J){var K=J.getAllData();S(K,function(Y){var{data:Z,type:q}=Y,X=J.getSelectedDataIndices();if(X.length>0){var W={dataIndex:X,seriesIndex:J.seriesIndex};if(q!=null)W.dataType=q;Q.push(W)}})}),Q}function gK($,Q,J){GZ($,!0),RZ($,aQ),YS($,Q,J)}function _R1($){GZ($,!1)}function s1($,Q,J,K){K?_R1($):gK($,Q,J)}function YS($,Q,J){var K=r0($);if(Q!=null)K.focus=Q,K.blurScope=J;else if(K.focus)K.focus=null}function a5($,Q,J,K){J=J||"itemStyle";for(var Y=0;Y<rL0.length;Y++){var Z=rL0[Y],q=Q.getModel([Z,J]),X=$.ensureState(Z);X.style=K?K(q):q[fR1[J]]()}}function GZ($,Q){var J=Q===!1,K=$;if($.highDownSilentOnTouch)K.__highDownSilentOnTouch=$.highDownSilentOnTouch;if(!J||K.__highDownDispatcher)K.__highByOuter=K.__highByOuter||0,K.__highDownDispatcher=!J}function tQ($){return!!($&&$.__highDownDispatcher)}function Yh0($,Q,J){var K=r0($);K.componentMainType=Q.mainType,K.componentIndex=Q.componentIndex,K.componentHighDownName=J}function Zh0($){var Q=pL0[$];if(Q==null&&mL0<=32)Q=pL0[$]=mL0++;return Q}function ZS($){var Q=$.type;return Q===jw||Q===ev||Q===Ew}function Vo($){var Q=$.type;return Q===nX||Q===kw}function qh0($){var Q=iL0($);Q.normalFill=$.style.fill,Q.normalStroke=$.style.stroke;var J=$.states.select||{};Q.selectFill=J.style&&J.style.fill||null,Q.selectStroke=J.style&&J.style.stroke||null}var mL0=1,pL0,iL0,Fo,Uo=0,ZU=1,Pw=2,Y8,dX,VZ=10,kR1=9,nX="highlight",kw="downplay",jw="select",ev="unselect",Ew="toggleSelect",$S="selectchanged",rL0,fR1;var M5=h(()=>{l();o5();o8();l0();m6();N5();pL0={},iL0=o0(),Fo=o0(),Y8=["emphasis","blur","select"],dX=["normal","emphasis","blur","select"];rL0=["emphasis","blur","select"],fR1={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"}});function qS($,Q){if(!Q)return;var J=$.data,K=$.len(),Y,Z,q,X,W,F,H=Oz.M,B=Oz.C,z=Oz.L,A=Oz.R,R=Oz.A,G=Oz.Q;for(q=0,X=0;q<K;){switch(Y=J[q++],X=q,Z=0,Y){case H:Z=1;break;case z:Z=1;break;case B:Z=3;break;case G:Z=2;break;case R:var O=Q[4],T=Q[5],D=Xh0(Q[0]*Q[0]+Q[1]*Q[1]),P=Xh0(Q[2]*Q[2]+Q[3]*Q[3]),j=MR1(-Q[1]/P,Q[0]/D);J[q]*=D,J[q++]+=O,J[q]*=P,J[q++]+=T,J[q++]*=D,J[q++]*=P,J[q++]+=j,J[q++]+=j,q+=2,X=q;break;case A:F[0]=J[q++],F[1]=J[q++],H6(F,F,Q),J[X++]=F[0],J[X++]=F[1],F[0]+=J[q++],F[1]+=J[q++],H6(F,F,Q),J[X++]=F[0],J[X++]=F[1]}for(W=0;W<Z;W++){var E=IR1[W];E[0]=J[q++],E[1]=J[q++],H6(E,E,Q),J[X++]=E[0],J[X++]=E[1]}}$.increaseVersion()}var Oz,IR1,Xh0,MR1;var Wh0=h(()=>{L3();w6();Oz=z8.CMD,IR1=[[],[],[]],Xh0=Math.sqrt,MR1=Math.atan2});function Fh0($){return Math.sqrt($[0]*$[0]+$[1]*$[1])}function Go($,Q){return($[0]*Q[0]+$[1]*Q[1])/(Fh0($)*Fh0(Q))}function Uh0($,Q){return($[0]*Q[1]<$[1]*Q[0]?-1:1)*Math.acos(Go($,Q))}function Hh0($,Q,J,K,Y,Z,q,X,W,F,H){var B=W*(hw/180),z=WS(B)*($-J)/2+XS(B)*(Q-K)/2,A=-1*XS(B)*($-J)/2+WS(B)*(Q-K)/2,R=z*z/(q*q)+A*A/(X*X);if(R>1)q*=Ro(R),X*=Ro(R);var G=(Y===Z?-1:1)*Ro((q*q*(X*X)-q*q*(A*A)-X*X*(z*z))/(q*q*(A*A)+X*X*(z*z)))||0,O=G*q*A/X,T=G*-X*z/q,D=($+J)/2+WS(B)*O-XS(B)*T,P=(Q+K)/2+XS(B)*O+WS(B)*T,j=Uh0([1,0],[(z-O)/q,(A-T)/X]),E=[(z-O)/q,(A-T)/X],L=[(-1*z-O)/q,(-1*A-T)/X],v=Uh0(E,L);if(Go(E,L)<=-1)v=hw;if(Go(E,L)>=1)v=0;if(v<0){var f=Math.round(v/hw*1e6)/1e6;v=hw*2+f%2*hw}H.addData(F,D,P,q,X,j,v,B,Z)}function yR1($){var Q=new z8;if(!$)return Q;var J=0,K=0,Y=J,Z=K,q,X=z8.CMD,W=$.match(bR1);if(!W)return Q;for(var F=0;F<W.length;F++){var H=W[F],B=H.charAt(0),z=void 0,A=H.match(gR1)||[],R=A.length;for(var G=0;G<R;G++)A[G]=parseFloat(A[G]);var O=0;while(O<R){var T=void 0,D=void 0,P=void 0,j=void 0,E=void 0,L=void 0,v=void 0,f=J,_=K,M=void 0,b=void 0;switch(B){case"l":J+=A[O++],K+=A[O++],z=X.L,Q.addData(z,J,K);break;case"L":J=A[O++],K=A[O++],z=X.L,Q.addData(z,J,K);break;case"m":J+=A[O++],K+=A[O++],z=X.M,Q.addData(z,J,K),Y=J,Z=K,B="l";break;case"M":J=A[O++],K=A[O++],z=X.M,Q.addData(z,J,K),Y=J,Z=K,B="L";break;case"h":J+=A[O++],z=X.L,Q.addData(z,J,K);break;case"H":J=A[O++],z=X.L,Q.addData(z,J,K);break;case"v":K+=A[O++],z=X.L,Q.addData(z,J,K);break;case"V":K=A[O++],z=X.L,Q.addData(z,J,K);break;case"C":z=X.C,Q.addData(z,A[O++],A[O++],A[O++],A[O++],A[O++],A[O++]),J=A[O-2],K=A[O-1];break;case"c":z=X.C,Q.addData(z,A[O++]+J,A[O++]+K,A[O++]+J,A[O++]+K,A[O++]+J,A[O++]+K),J+=A[O-2],K+=A[O-1];break;case"S":if(T=J,D=K,M=Q.len(),b=Q.data,q===X.C)T+=J-b[M-4],D+=K-b[M-3];z=X.C,f=A[O++],_=A[O++],J=A[O++],K=A[O++],Q.addData(z,T,D,f,_,J,K);break;case"s":if(T=J,D=K,M=Q.len(),b=Q.data,q===X.C)T+=J-b[M-4],D+=K-b[M-3];z=X.C,f=J+A[O++],_=K+A[O++],J+=A[O++],K+=A[O++],Q.addData(z,T,D,f,_,J,K);break;case"Q":f=A[O++],_=A[O++],J=A[O++],K=A[O++],z=X.Q,Q.addData(z,f,_,J,K);break;case"q":f=A[O++]+J,_=A[O++]+K,J+=A[O++],K+=A[O++],z=X.Q,Q.addData(z,f,_,J,K);break;case"T":if(T=J,D=K,M=Q.len(),b=Q.data,q===X.Q)T+=J-b[M-4],D+=K-b[M-3];J=A[O++],K=A[O++],z=X.Q,Q.addData(z,T,D,J,K);break;case"t":if(T=J,D=K,M=Q.len(),b=Q.data,q===X.Q)T+=J-b[M-4],D+=K-b[M-3];J+=A[O++],K+=A[O++],z=X.Q,Q.addData(z,T,D,J,K);break;case"A":P=A[O++],j=A[O++],E=A[O++],L=A[O++],v=A[O++],f=J,_=K,J=A[O++],K=A[O++],z=X.A,Hh0(f,_,J,K,L,v,P,j,E,z,Q);break;case"a":P=A[O++],j=A[O++],E=A[O++],L=A[O++],v=A[O++],f=J,_=K,J+=A[O++],K+=A[O++],z=X.A,Hh0(f,_,J,K,L,v,P,j,E,z,Q);break}}if(B==="z"||B==="Z")z=X.Z,Q.addData(z),J=Y,K=Z;q=z}return Q.toStatic(),Q}function Bh0($){return $.setData!=null}function zh0($,Q){var J=yR1($),K=Y0({},Q);return K.buildPath=function(Y){var Z=Bh0(Y);if(Z&&Y.canSave()){Y.appendPath(J);var q=Y.getContext();if(q)Y.rebuildPath(q,1)}else{var q=Z?Y.getContext():Y;if(q)J.rebuildPath(q,1)}},K.applyTransform=function(Y){qS(J,Y),this.dirtyShape()},K}function FS($,Q){return new Nh0(zh0($,Q))}function Ah0($,Q){var J=zh0($,Q),K=function(Y){c(Z,Y);function Z(q){var X=Y.call(this,q)||this;return X.applyTransform=J.applyTransform,X.buildPath=J.buildPath,X}return Z}(Nh0);return K}function Vh0($,Q){var J=[],K=$.length;for(var Y=0;Y<K;Y++){var Z=$[Y];J.push(Z.getUpdatedPathProxy(!0))}var q=new Y1(Q);return q.createPathProxy(),q.buildPath=function(X){if(Bh0(X)){X.appendPath(J);var W=X.getContext();if(W)X.rebuildPath(W,1)}},q}function wz($,Q){Q=Q||{};var J=new Y1;if($.shape)J.setShape($.shape);if(J.setStyle($.style),Q.bakeTransform)qS(J.path,$.getComputedTransform());else if(Q.toLocal)J.setLocalTransform($.getComputedTransform());else J.copyTransform($);return J.buildPath=$.buildPath,J.applyTransform=J.applyTransform,J.z=$.z,J.z2=$.z2,J.zlevel=$.zlevel,J}var Ro,XS,WS,hw,bR1,gR1,Nh0;var Tz=h(()=>{H0();m6();L3();Wh0();l();Ro=Math.sqrt,XS=Math.sin,WS=Math.cos,hw=Math.PI;bR1=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,gR1=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;Nh0=function($){c(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.applyTransform=function(J){},Q}(Y1)});var cR1,Rh0,a4;var Oo=h(()=>{H0();m6();cR1=function(){function $(){this.cx=0,this.cy=0,this.r=0}return $}(),Rh0=function($){c(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultShape=function(){return new cR1},Q.prototype.buildPath=function(J,K){J.moveTo(K.cx+K.r,K.cy),J.arc(K.cx,K.cy,K.r,0,Math.PI*2)},Q}(Y1);Rh0.prototype.type="circle";a4=Rh0});var uR1,Gh0,vw;var wo=h(()=>{H0();m6();uR1=function(){function $(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return $}(),Gh0=function($){c(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultShape=function(){return new uR1},Q.prototype.buildPath=function(J,K){var Y=0.5522848,Z=K.cx,q=K.cy,X=K.rx,W=K.ry,F=X*Y,H=W*Y;J.moveTo(Z-X,q),J.bezierCurveTo(Z-X,q-H,Z-F,q-W,Z,q-W),J.bezierCurveTo(Z+F,q-W,Z+X,q-H,Z+X,q),J.bezierCurveTo(Z+X,q+H,Z+F,q+W,Z,q+W),J.bezierCurveTo(Z-F,q+W,Z-X,q+H,Z-X,q),J.closePath()},Q}(Y1);Gh0.prototype.type="ellipse";vw=Gh0});function pR1($,Q,J,K,Y,Z,q,X){var W=J-$,F=K-Q,H=q-Y,B=X-Z,z=B*W-H*F;if(z*z<eQ)return;return z=(H*(Q-Z)-B*($-Y))/z,[$+z*W,Q+z*F]}function US($,Q,J,K,Y,Z,q){var X=$-J,W=Q-K,F=(q?Z:-Z)/_w(X*X+W*W),H=F*W,B=-F*X,z=$+H,A=Q+B,R=J+H,G=K+B,O=(z+R)/2,T=(A+G)/2,D=R-z,P=G-A,j=D*D+P*P,E=Y-Z,L=z*G-R*A,v=(P<0?-1:1)*_w(Sw(0,E*E*j-L*L)),f=(L*P-D*v)/j,_=(-L*D-P*v)/j,M=(L*P+D*v)/j,b=(-L*D+P*v)/j,x=f-O,g=_-T,m=M-O,u=b-T;if(x*x+g*g>m*m+u*u)f=M,_=b;return{cx:f,cy:_,x0:-H,y0:-B,x1:f*(Y/E-1),y1:_*(Y/E-1)}}function dR1($){var Q;if(Z0($)){var J=$.length;if(!J)return $;if(J===1)Q=[$[0],$[0],0,0];else if(J===2)Q=[$[0],$[0],$[1],$[1]];else if(J===3)Q=$.concat($[2]);else Q=$}else Q=[$,$,$,$];return Q}function Th0($,Q){var J,K=Sw(Q.r,0),Y=Sw(Q.r0||0,0),Z=K>0,q=Y>0;if(!Z&&!q)return;if(!Z)K=Y,Y=0;if(Y>K){var X=K;K=Y,Y=X}var{startAngle:W,endAngle:F}=Q;if(isNaN(W)||isNaN(F))return;var{cx:H,cy:B}=Q,z=!!Q.clockwise,A=Oh0(F-W),R=A>To&&A%To;if(R>eQ&&(A=R),!(K>eQ))$.moveTo(H,B);else if(A>To-eQ){if($.moveTo(H+K*Dz(W),B+K*XU(W)),$.arc(H,B,K,W,F,!z),Y>eQ)$.moveTo(H+Y*Dz(F),B+Y*XU(F)),$.arc(H,B,Y,F,W,z)}else{var G=void 0,O=void 0,T=void 0,D=void 0,P=void 0,j=void 0,E=void 0,L=void 0,v=void 0,f=void 0,_=void 0,M=void 0,b=void 0,x=void 0,g=void 0,m=void 0,u=K*Dz(W),p=K*XU(W),o=Y*Dz(F),t=Y*XU(F),r=A>eQ;if(r){var Q0=Q.cornerRadius;if(Q0)J=dR1(Q0),G=J[0],O=J[1],T=J[2],D=J[3];var F0=Oh0(K-Y)/2;if(P=yK(F0,T),j=yK(F0,D),E=yK(F0,G),L=yK(F0,O),_=v=Sw(P,j),M=f=Sw(E,L),v>eQ||f>eQ){if(b=K*Dz(F),x=K*XU(F),g=Y*Dz(W),m=Y*XU(W),A<wh0){var W0=pR1(u,p,g,m,b,x,o,t);if(W0){var h0=u-W0[0],d0=p-W0[1],W1=b-W0[0],z1=x-W0[1],b1=1/XU(mR1((h0*W1+d0*z1)/(_w(h0*h0+d0*d0)*_w(W1*W1+z1*z1)))/2),B1=_w(W0[0]*W0[0]+W0[1]*W0[1]);_=yK(v,(K-B1)/(b1+1)),M=yK(f,(Y-B1)/(b1-1))}}}}if(!r)$.moveTo(H+u,B+p);else if(_>eQ){var e0=yK(T,_),P1=yK(D,_),t0=US(g,m,u,p,K,e0,z),w1=US(b,x,o,t,K,P1,z);if($.moveTo(H+t0.cx+t0.x0,B+t0.cy+t0.y0),_<v&&e0===P1)$.arc(H+t0.cx,B+t0.cy,_,w4(t0.y0,t0.x0),w4(w1.y0,w1.x0),!z);else e0>0&&$.arc(H+t0.cx,B+t0.cy,e0,w4(t0.y0,t0.x0),w4(t0.y1,t0.x1),!z),$.arc(H,B,K,w4(t0.cy+t0.y1,t0.cx+t0.x1),w4(w1.cy+w1.y1,w1.cx+w1.x1),!z),P1>0&&$.arc(H+w1.cx,B+w1.cy,P1,w4(w1.y1,w1.x1),w4(w1.y0,w1.x0),!z)}else $.moveTo(H+u,B+p),$.arc(H,B,K,W,F,!z);if(!(Y>eQ)||!r)$.lineTo(H+o,B+t);else if(M>eQ){var e0=yK(G,M),P1=yK(O,M),t0=US(o,t,b,x,Y,-P1,z),w1=US(u,p,g,m,Y,-e0,z);if($.lineTo(H+t0.cx+t0.x0,B+t0.cy+t0.y0),M<f&&e0===P1)$.arc(H+t0.cx,B+t0.cy,M,w4(t0.y0,t0.x0),w4(w1.y0,w1.x0),!z);else P1>0&&$.arc(H+t0.cx,B+t0.cy,P1,w4(t0.y0,t0.x0),w4(t0.y1,t0.x1),!z),$.arc(H,B,Y,w4(t0.cy+t0.y1,t0.cx+t0.x1),w4(w1.cy+w1.y1,w1.cx+w1.x1),z),e0>0&&$.arc(H+w1.cx,B+w1.cy,e0,w4(w1.y1,w1.x1),w4(w1.y0,w1.x0),!z)}else $.lineTo(H+o,B+t),$.arc(H,B,Y,F,W,z)}$.closePath()}var wh0,To,XU,Dz,mR1,w4,Oh0,_w,Sw,yK,eQ=0.0001;var Dh0=h(()=>{l();wh0=Math.PI,To=wh0*2,XU=Math.sin,Dz=Math.cos,mR1=Math.acos,w4=Math.atan2,Oh0=Math.abs,_w=Math.sqrt,Sw=Math.max,yK=Math.min});var lR1,Ch0,J7;var Do=h(()=>{H0();m6();Dh0();lR1=function(){function $(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return $}(),Ch0=function($){c(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultShape=function(){return new lR1},Q.prototype.buildPath=function(J,K){Th0(J,K)},Q.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},Q}(Y1);Ch0.prototype.type="sector";J7=Ch0});var rR1,Ph0,WU;var kh0=h(()=>{H0();m6();rR1=function(){function $(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return $}(),Ph0=function($){c(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultShape=function(){return new rR1},Q.prototype.buildPath=function(J,K){var{cx:Y,cy:Z}=K,q=Math.PI*2;J.moveTo(Y+K.r,Z),J.arc(Y,Z,K.r,0,q,!1),J.moveTo(Y+K.r0,Z),J.arc(Y,Z,K.r0,0,q,!0)},Q}(Y1);Ph0.prototype.type="ring";WU=Ph0});function Co($,Q,J,K){var Y=[],Z=[],q=[],X=[],W,F,H,B;if(K){H=[1/0,1/0],B=[-1/0,-1/0];for(var z=0,A=$.length;z<A;z++)D3(H,H,$[z]),C3(B,B,$[z]);D3(H,H,K[0]),C3(B,B,K[1])}for(var z=0,A=$.length;z<A;z++){var R=$[z];if(J)W=$[z?z-1:A-1],F=$[(z+1)%A];else if(z===0||z===A-1){Y.push(j9($[z]));continue}else W=$[z-1],F=$[z+1];pQ(Z,F,W),oB(Z,Z,Q);var G=sh(R,W),O=sh(R,F),T=G+O;if(T!==0)G/=T,O/=T;oB(q,Z,-G),oB(X,Z,O);var D=xi([],R,q),P=xi([],R,X);if(K)C3(D,D,H),D3(D,D,B),C3(P,P,H),D3(P,P,B);Y.push(D),Y.push(P)}if(J)Y.push(Y.shift());return Y}var jh0=h(()=>{w6()});function HS($,Q,J){var{smooth:K,points:Y}=Q;if(Y&&Y.length>=2){if(K){var Z=Co(Y,K,J,Q.smoothConstraint);$.moveTo(Y[0][0],Y[0][1]);var q=Y.length;for(var X=0;X<(J?q:q-1);X++){var W=Z[X*2],F=Z[X*2+1],H=Y[(X+1)%q];$.bezierCurveTo(W[0],W[1],F[0],F[1],H[0],H[1])}}else{$.moveTo(Y[0][0],Y[0][1]);for(var X=1,B=Y.length;X<B;X++)$.lineTo(Y[X][0],Y[X][1])}J&&$.closePath()}}var Po=h(()=>{jh0()});var iR1,Lh0,S6;var NS=h(()=>{H0();m6();Po();iR1=function(){function $(){this.points=null,this.smooth=0,this.smoothConstraint=null}return $}(),Lh0=function($){c(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultShape=function(){return new iR1},Q.prototype.buildPath=function(J,K){HS(J,K,!0)},Q}(Y1);Lh0.prototype.type="polygon";S6=Lh0});var sR1,hh0,G6;var ko=h(()=>{H0();m6();Po();sR1=function(){function $(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return $}(),hh0=function($){c(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Q.prototype.getDefaultShape=function(){return new sR1},Q.prototype.buildPath=function(J,K){HS(J,K,!1)},Q}(Y1);hh0.prototype.type="polyline";G6=hh0});var oR1,aR1,vh0,X6;var jo=h(()=>{H0();m6();Vz();oR1={},aR1=function(){function $(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return $}(),vh0=function($){c(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Q.prototype.getDefaultShape=function(){return new aR1},Q.prototype.buildPath=function(J,K){var Y,Z,q,X;if(this.subPixelOptimize){var W=KU(oR1,K,this.style);Y=W.x1,Z=W.y1,q=W.x2,X=W.y2}else Y=K.x1,Z=K.y1,q=K.x2,X=K.y2;var F=K.percent;if(F===0)return;if(J.moveTo(Y,Z),F<1)q=Y*(1-F)+q*F,X=Z*(1-F)+X*F;J.lineTo(q,X)},Q.prototype.pointAt=function(J){var K=this.shape;return[K.x1*(1-J)+K.x2*J,K.y1*(1-J)+K.y2*J]},Q}(Y1);vh0.prototype.type="line";X6=vh0});function Sh0($,Q,J){var{cpx2:K,cpy2:Y}=$;if(K!=null||Y!=null)return[(J?Ks:H7)($.x1,$.cpx1,$.cpx2,$.x2,Q),(J?Ks:H7)($.y1,$.cpy1,$.cpy2,$.y2,Q)];else return[(J?eO:O7)($.x1,$.cpx1,$.x2,Q),(J?eO:O7)($.y1,$.cpy1,$.y2,Q)]}var g9,tR1,_h0,FU;var fh0=h(()=>{H0();m6();w6();h9();g9=[],tR1=function(){function $(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return $}();_h0=function($){c(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Q.prototype.getDefaultShape=function(){return new tR1},Q.prototype.buildPath=function(J,K){var{x1:Y,y1:Z,x2:q,y2:X,cpx1:W,cpy1:F,cpx2:H,cpy2:B,percent:z}=K;if(z===0)return;if(J.moveTo(Y,Z),H==null||B==null){if(z<1)fX(Y,W,q,z,g9),W=g9[1],q=g9[2],fX(Z,F,X,z,g9),F=g9[1],X=g9[2];J.quadraticCurveTo(W,F,q,X)}else{if(z<1)f$(Y,W,H,q,z,g9),W=g9[1],H=g9[2],q=g9[3],f$(Z,F,B,X,z,g9),F=g9[1],B=g9[2],X=g9[3];J.bezierCurveTo(W,F,H,B,q,X)}},Q.prototype.pointAt=function(J){return Sh0(this.shape,J,!1)},Q.prototype.tangentAt=function(J){var K=Sh0(this.shape,J,!0);return v$(K,K)},Q}(Y1);_h0.prototype.type="bezier-curve";FU=_h0});var eR1,Ih0,fw;var Mh0=h(()=>{H0();m6();eR1=function(){function $(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return $}(),Ih0=function($){c(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Q.prototype.getDefaultShape=function(){return new eR1},Q.prototype.buildPath=function(J,K){var{cx:Y,cy:Z}=K,q=Math.max(K.r,0),X=K.startAngle,W=K.endAngle,F=K.clockwise,H=Math.cos(X),B=Math.sin(X);J.moveTo(H*q+Y,B*q+Z),J.arc(Y,Z,q,X,W,!F)},Q}(Y1);Ih0.prototype.type="arc";fw=Ih0});var $G1,lX;var Eo=h(()=>{H0();m6();$G1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type="compound",J}return Q.prototype._updatePathDirty=function(){var J=this.shape.paths,K=this.shapeChanged();for(var Y=0;Y<J.length;Y++)K=K||J[Y].shapeChanged();if(K)this.dirtyShape()},Q.prototype.beforeBrush=function(){this._updatePathDirty();var J=this.shape.paths||[],K=this.getGlobalScale();for(var Y=0;Y<J.length;Y++){if(!J[Y].path)J[Y].createPathProxy();J[Y].path.setScale(K[0],K[1],J[Y].segmentIgnoreThreshold)}},Q.prototype.buildPath=function(J,K){var Y=K.paths||[];for(var Z=0;Z<Y.length;Z++)Y[Z].buildPath(J,Y[Z].shape,!0)},Q.prototype.afterBrush=function(){var J=this.shape.paths||[];for(var K=0;K<J.length;K++)J[K].pathUpdated()},Q.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Y1.prototype.getBoundingRect.call(this)},Q}(Y1),lX=$G1});var QG1,BS;var Lo=h(()=>{QG1=function(){function $(Q){this.colorStops=Q||[]}return $.prototype.addColorStop=function(Q,J){this.colorStops.push({offset:Q,color:J})},$}(),BS=QG1});var JG1,m$;var zS=h(()=>{H0();Lo();JG1=function($){c(Q,$);function Q(J,K,Y,Z,q,X){var W=$.call(this,q)||this;return W.x=J==null?0:J,W.y=K==null?0:K,W.x2=Y==null?1:Y,W.y2=Z==null?0:Z,W.type="linear",W.global=X||!1,W}return Q}(BS),m$=JG1});var KG1,AS;var ho=h(()=>{H0();Lo();KG1=function($){c(Q,$);function Q(J,K,Y,Z,q){var X=$.call(this,Z)||this;return X.x=J==null?0.5:J,X.y=K==null?0.5:K,X.r=Y==null?0.5:Y,X.type="radial",X.global=q||!1,X}return Q}(BS),AS=KG1});var vo,YG1,VS,UU,HU,L8,RS,GS,ZG1,OS;var bh0=h(()=>{hX();s5();vo=Math.min,YG1=Math.max,VS=Math.abs,UU=[0,0],HU=[0,0],L8=oi(),RS=L8.minTv,GS=L8.maxTv,ZG1=function(){function $(Q,J){this._corners=[],this._axes=[],this._origin=[0,0];for(var K=0;K<4;K++)this._corners[K]=new Z1;for(var K=0;K<2;K++)this._axes[K]=new Z1;if(Q)this.fromBoundingRect(Q,J)}return $.prototype.fromBoundingRect=function(Q,J){var K=this._corners,Y=this._axes,Z=Q.x,q=Q.y,X=Z+Q.width,W=q+Q.height;if(K[0].set(Z,q),K[1].set(X,q),K[2].set(X,W),K[3].set(Z,W),J)for(var F=0;F<4;F++)K[F].transform(J);Z1.sub(Y[0],K[1],K[0]),Z1.sub(Y[1],K[3],K[0]),Y[0].normalize(),Y[1].normalize();for(var F=0;F<2;F++)this._origin[F]=Y[F].dot(K[0])},$.prototype.intersect=function(Q,J,K){var Y=!0,Z=!J;if(J)Z1.set(J,0,0);if(L8.reset(K,!Z),!this._intersectCheckOneSide(this,Q,Z,1)){if(Y=!1,Z)return Y}if(!this._intersectCheckOneSide(Q,this,Z,-1)){if(Y=!1,Z)return Y}if(!Z&&!L8.negativeSize)Z1.copy(J,Y?L8.useDir?L8.dirMinTv:RS:GS);return Y},$.prototype._intersectCheckOneSide=function(Q,J,K,Y){var Z=!0;for(var q=0;q<2;q++){var X=Q._axes[q];if(Q._getProjMinMaxOnAxis(q,Q._corners,UU),Q._getProjMinMaxOnAxis(q,J._corners,HU),L8.negativeSize||UU[1]<HU[0]||UU[0]>HU[1]){if(Z=!1,L8.negativeSize||K)return Z;var W=VS(HU[0]-UU[1]),F=VS(UU[0]-HU[1]);if(vo(W,F)>GS.len())if(W<F)Z1.scale(GS,X,-W*Y);else Z1.scale(GS,X,F*Y)}else if(!K){var W=VS(HU[0]-UU[1]),F=VS(UU[0]-HU[1]);if(L8.useDir||vo(W,F)<RS.len()){if(W<F||!L8.bidirectional){if(Z1.scale(RS,X,W*Y),L8.useDir)L8.calcDirMTV()}if(W>=F||!L8.bidirectional){if(Z1.scale(RS,X,-F*Y),L8.useDir)L8.calcDirMTV()}}}}return Z},$.prototype._getProjMinMaxOnAxis=function(Q,J,K){var Y=this._axes[Q],Z=this._origin,q=J[0].dot(Y)+Z[Q],X=q,W=q;for(var F=1;F<J.length;F++){var H=J[F].dot(Y)+Z[Q];X=vo(H,X),W=YG1(H,W)}K[0]=X+L8.touchThreshold,K[1]=W-L8.touchThreshold,L8.negativeSize=K[1]<K[0]},$}(),OS=ZG1});var qG1,XG1,gh0;var yh0=h(()=>{H0();E3();s5();qG1=[],XG1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.notClear=!0,J.incremental=!0,J._displayables=[],J._temporaryDisplayables=[],J._cursor=0,J}return Q.prototype.traverse=function(J,K){J.call(K,this)},Q.prototype.useStyle=function(){this.style={}},Q.prototype.getCursor=function(){return this._cursor},Q.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},Q.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},Q.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},Q.prototype.addDisplayable=function(J,K){if(K)this._temporaryDisplayables.push(J);else this._displayables.push(J);this.markRedraw()},Q.prototype.addDisplayables=function(J,K){K=K||!1;for(var Y=0;Y<J.length;Y++)this.addDisplayable(J[Y],K)},Q.prototype.getDisplayables=function(){return this._displayables},Q.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},Q.prototype.eachPendingDisplayable=function(J){for(var K=this._cursor;K<this._displayables.length;K++)J&&J(this._displayables[K]);for(var K=0;K<this._temporaryDisplayables.length;K++)J&&J(this._temporaryDisplayables[K])},Q.prototype.update=function(){this.updateTransform();for(var J=this._cursor;J<this._displayables.length;J++){var K=this._displayables[J];K.parent=this,K.update(),K.parent=null}for(var J=0;J<this._temporaryDisplayables.length;J++){var K=this._temporaryDisplayables[J];K.parent=this,K.update(),K.parent=null}},Q.prototype.getBoundingRect=function(){if(!this._rect){var J=new n0(1/0,1/0,-1/0,-1/0);for(var K=0;K<this._displayables.length;K++){var Y=this._displayables[K],Z=Y.getBoundingRect().clone();if(Y.needLocalTransform())Z.applyTransform(Y.getLocalTransform(qG1));J.union(Z)}this._rect=J}return this._rect},Q.prototype.contain=function(J,K){var Y=this.transformCoordToLocal(J,K),Z=this.getBoundingRect();if(Z.contain(Y[0],Y[1]))for(var q=0;q<this._displayables.length;q++){var X=this._displayables[q];if(X.contain(J,K))return!0}return!1},Q}(w7),gh0=XG1});function xK($,Q,J,K,Y){var Z;if(Q&&Q.ecModel){var q=Q.ecModel.getUpdatePayload();Z=q&&q.animation}var X=Q&&Q.isAnimationEnabled(),W=$==="update";if(X){var F=void 0,H=void 0,B=void 0;if(K)F=g0(K.duration,200),H=g0(K.easing,"cubicOut"),B=0;else F=Q.getShallow(W?"animationDurationUpdate":"animationDuration"),H=Q.getShallow(W?"animationEasingUpdate":"animationEasing"),B=Q.getShallow(W?"animationDelayUpdate":"animationDelay");if(Z)Z.duration!=null&&(F=Z.duration),Z.easing!=null&&(H=Z.easing),Z.delay!=null&&(B=Z.delay);if(I0(B))B=B(J,Y);if(I0(F))F=F(J);var z={duration:F||0,delay:B,easing:H};return z}else return null}function So($,Q,J,K,Y,Z,q){var X=!1,W;if(I0(Y))q=Z,Z=Y,Y=null;else if(y0(Y))Z=Y.cb,q=Y.during,X=Y.isFrom,W=Y.removeOpt,Y=Y.dataIndex;var F=$==="leave";if(!F)Q.stopAnimation("leave");var H=xK($,K,Y,F?W||{}:null,K&&K.getAnimationDelayParams?K.getAnimationDelayParams(Q,Y):null);if(H&&H.duration>0){var{duration:B,delay:z,easing:A}=H,R={duration:B,delay:z||0,easing:A,done:Z,force:!!Z||!!q,setToFinal:!F,scope:$,during:q};X?Q.animateFrom(J,R):Q.animateTo(J,R)}else Q.stopAnimation(),!X&&Q.attr(J),q&&q(1),Z&&Z()}function C1($,Q,J,K,Y,Z){So("update",$,Q,J,K,Y,Z)}function q5($,Q,J,K,Y,Z){So("enter",$,Q,J,K,Y,Z)}function OZ($){if(!$.__zr)return!0;for(var Q=0;Q<$.animators.length;Q++){var J=$.animators[Q];if(J.scope==="leave")return!0}return!1}function p$($,Q,J,K,Y,Z){if(OZ($))return;So("leave",$,Q,J,K,Y,Z)}function xh0($,Q,J,K){$.removeTextContent(),$.removeTextGuideLine(),p$($,{style:{opacity:0}},Q,J,K)}function y9($,Q,J){function K(){$.parent&&$.parent.remove($)}if(!$.isGroup)xh0($,Q,J,K);else $.traverse(function(Y){if(!Y.isGroup)xh0(Y,Q,J,K)})}function T7($){ch0($).oldStyle=$.style}function uh0($){return ch0($).oldStyle}var ch0;var h8=h(()=>{l();l0();ch0=o0()});var G1={};OQ(G1,{updateProps:()=>C1,traverseUpdateZ:()=>zU,traverseElements:()=>t4,transformDirection:()=>BU,subPixelOptimizeRect:()=>HG1,subPixelOptimizeLine:()=>wZ,subPixelOptimize:()=>Iw,setTooltipConfig:()=>D4,retrieveZInfo:()=>n$,resizePath:()=>nh0,removeElementWithFadeOut:()=>y9,removeElement:()=>p$,registerShape:()=>$J,mergePath:()=>T4,makePath:()=>NU,makeImage:()=>Mo,linePolygonIntersect:()=>Pz,lineLineIntersect:()=>lh0,isElementRemoved:()=>OZ,isBoundingRectAxisAligned:()=>TS,initProps:()=>q5,groupTransition:()=>TZ,getTransform:()=>QJ,getShapeClass:()=>Cz,extendShape:()=>WG1,extendPath:()=>UG1,expandOrShrinkRect:()=>d$,ensureCopyTransform:()=>DS,ensureCopyRect:()=>kz,createIcon:()=>DZ,clipRectByRect:()=>BG1,clipPointsByRect:()=>bo,calcZ2Range:()=>go,applyTransform:()=>e8,XY:()=>D1,WH:()=>p6,Text:()=>j1,Sector:()=>J7,Ring:()=>WU,Rect:()=>X1,RadialGradient:()=>AS,Polyline:()=>G6,Polygon:()=>S6,Point:()=>Z1,Path:()=>Y1,OrientedBoundingRect:()=>OS,LinearGradient:()=>m$,Line:()=>X6,IncrementalDisplayable:()=>gh0,Image:()=>q6,Group:()=>b0,Ellipse:()=>vw,CompoundPath:()=>lX,Circle:()=>a4,BoundingRect:()=>n0,BezierCurve:()=>FU,Arc:()=>fw});function WG1($){return Y1.extend($)}function UG1($,Q){return FG1($,Q)}function $J($,Q){fo[$]=Q}function Cz($){if(fo.hasOwnProperty($))return fo[$]}function NU($,Q,J,K){var Y=FS($,Q);if(J){if(K==="center")J=dh0(J,Y.getBoundingRect());nh0(Y,J)}return Y}function Mo($,Q,J){var K=new q6({style:{image:$,x:Q.x,y:Q.y,width:Q.width,height:Q.height},onload:function(Y){if(J==="center"){var Z={width:Y.width,height:Y.height};K.setStyle(dh0(Q,Z))}}});return K}function dh0($,Q){var J=Q.width/Q.height,K=$.height*J,Y;if(K<=$.width)Y=$.height;else K=$.width,Y=K/J;var Z=$.x+$.width/2,q=$.y+$.height/2;return{x:Z-K/2,y:q-Y/2,width:K,height:Y}}function nh0($,Q){if(!$.applyTransform)return;var J=$.getBoundingRect(),K=J.calculateTransform(Q);$.applyTransform(K)}function wZ($,Q){return KU($,$,{lineWidth:Q}),$}function HG1($,Q){return av($,$,Q),$}function QJ($,Q){var J=LX([]);while($&&$!==Q)i8(J,$.getLocalTransform(),J),$=$.parent;return J}function e8($,Q,J){if(Q&&!F7(Q))Q=S9.getLocalTransform(Q);if(J)Q=d7([],Q);return H6([],$,Q)}function BU($,Q,J){var K=Q[4]===0||Q[5]===0||Q[0]===0?1:iQ(2*Q[4]/Q[0]),Y=Q[4]===0||Q[5]===0||Q[2]===0?1:iQ(2*Q[4]/Q[2]),Z=[$==="left"?-K:$==="right"?K:0,$==="top"?-Y:$==="bottom"?Y:0];return Z=e8(Z,Q,J),iQ(Z[0])>iQ(Z[1])?Z[0]>0?"right":"left":Z[1]>0?"bottom":"top"}function mh0($){return!$.isGroup}function NG1($){return $.shape!=null}function TZ($,Q,J){if(!$||!Q)return;function K(q){var X={};return q.traverse(function(W){if(mh0(W)&&W.anid)X[W.anid]=W}),X}function Y(q){var X={x:q.x,y:q.y,rotation:q.rotation};if(NG1(q))X.shape=m0(q.shape);return X}var Z=K($);Q.traverse(function(q){if(mh0(q)&&q.anid){var X=Z[q.anid];if(X){var W=Y(q);q.attr(Y(X)),C1(q,W,J,r0(q).dataIndex)}}})}function bo($,Q){return q0($,function(J){var K=J[0];K=c6(K,Q.x),K=R4(K,Q.x+Q.width);var Y=J[1];return Y=c6(Y,Q.y),Y=R4(Y,Q.y+Q.height),[K,Y]})}function BG1($,Q){var J=c6($.x,Q.x),K=R4($.x+$.width,Q.x+Q.width),Y=c6($.y,Q.y),Z=R4($.y+$.height,Q.y+Q.height);if(K>=J&&Z>=Y)return{x:J,y:Y,width:K-J,height:Z-Y}}function DZ($,Q,J){var K=Y0({rectHover:!0},Q),Y=K.style={strokeNoScale:!0};if(J=J||{x:-1,y:-1,width:2,height:2},$)return $.indexOf("image://")===0?(Y.image=$.slice(8),c0(Y,J),new q6(K)):NU($.replace("path://",""),K,J,"center")}function Pz($,Q,J,K,Y){for(var Z=0,q=Y[Y.length-1];Z<Y.length;Z++){var X=Y[Z];if(lh0($,Q,J,K,X[0],X[1],q[0],q[1]))return!0;q=X}}function lh0($,Q,J,K,Y,Z,q,X){var W=J-$,F=K-Q,H=q-Y,B=X-Z,z=_o(H,B,W,F);if(zG1(z))return!1;var A=$-Y,R=Q-Z,G=_o(A,R,W,F)/z;if(G<0||G>1)return!1;var O=_o(A,R,H,B)/z;if(O<0||O>1)return!1;return!0}function _o($,Q,J,K){return $*K-J*Q}function zG1($){return $<=0.000001&&$>=-0.000001}function d$($,Q,J,K,Y){if(Q==null)return $;else if(V1(Q))s6[0]=s6[1]=s6[2]=s6[3]=Q;else M0(Q.length===4),s6[0]=Q[0],s6[1]=Q[1],s6[2]=Q[2],s6[3]=Q[3];if(K)s6[0]=c6(0,s6[0]),s6[1]=c6(0,s6[1]),s6[2]=c6(0,s6[2]),s6[3]=c6(0,s6[3]);if(J)s6[0]=-s6[0],s6[1]=-s6[1],s6[2]=-s6[2],s6[3]=-s6[3];return ph0($,s6,"x","width",3,1,Y&&Y[0]||0),ph0($,s6,"y","height",0,2,Y&&Y[1]||0),$}function ph0($,Q,J,K,Y,Z,q){var X=Q[Z]+Q[Y],W=$[K];if($[K]+=X,q=c6(0,R4(q,W)),$[K]<q)$[K]=q,$[J]+=Q[Y]>=0?-Q[Y]:Q[Z]>=0?W+Q[Z]:iQ(X)>0.00000001?(W-q)*Q[Y]/X:0;else $[J]-=Q[Y]}function D4($){var{itemTooltipOption:Q,componentModel:J,itemName:K}=$,Y=R0(Q)?{formatter:Q}:Q,Z=J.mainType,q=J.componentIndex,X={componentType:Z,name:K,$vars:["name"]};X[Z+"Index"]=q;var W=$.formatterParamsExtra;if(W)S(N1(W),function(H){if(!p0(X,H))X[H]=W[H],X.$vars.push(H)});var F=r0($.el);F.componentMainType=Z,F.componentIndex=q,F.tooltipConfig={name:K,option:c0({content:K,encodeHTMLContent:!0,formatterParams:X},Y)}}function Io($,Q){var J;if($.isGroup)J=Q($);if(!J)$.traverse(Q)}function t4($,Q){if($)if(Z0($))for(var J=0;J<$.length;J++)Io($[J],Q);else Io($,Q)}function TS($){return!$||iQ($[1])<wS&&iQ($[2])<wS||iQ($[0])<wS&&iQ($[3])<wS}function kz($,Q){return $?n0.copy($,Q):Q.clone()}function DS($,Q){return Q?jF($||V6(),Q):void 0}function n$($){return{z:$.get("z")||0,zlevel:$.get("zlevel")||0}}function go($){var Q=-1/0,J=1/0;Io($,function(Z){K(Z),K(Z.getTextContent()),K(Z.getTextGuideLine())});function K(Z){if(!Z||Z.isGroup)return;var q=Z.currentStates;if(q.length)for(var X=0;X<q.length;X++)Y(Z.states[q[X]]);Y(Z)}function Y(Z){if(Z){var q=Z.z2;if(q>Q)Q=q;if(q<J)J=q}}if(J>Q)J=Q=0;return{min:J,max:Q}}function zU($,Q,J){rh0($,Q,J,-1/0)}function rh0($,Q,J,K){if($.ignoreModelZ)return K;var Y=$.getTextContent(),Z=$.getTextGuideLine(),q=$.isGroup;if(q){var X=$.childrenRef();for(var W=0;W<X.length;W++)K=c6(rh0(X[W],Q,J,K),K)}else $.z=Q,$.zlevel=J,K=c6($.z2||0,K);if(Y)Y.z=Q,Y.zlevel=J,isFinite(K)&&(Y.z2=K+2);if(Z){var F=$.textGuideLineConfig;Z.z=Q,Z.zlevel=J,isFinite(K)&&(Z.z2=K+(F&&F.showAbove?1:-1))}return K}var fo,D1,p6,FG1,T4,Iw,s6,wS=0.00001;var a0=h(()=>{Tz();w6();m6();EK();u$();yX();YU();Oo();wo();Do();kh0();NS();ko();Rz();jo();fh0();Mh0();Eo();zS();ho();s5();bh0();hX();yh0();Vz();l();o5();h8();k1();fo={},D1=["x","y"],p6=["width","height"];FG1=Ah0;T4=Vh0;Iw=o4;s6=[0,0,0,0];$J("circle",a4);$J("ellipse",vw);$J("sector",J7);$J("ring",WU);$J("polygon",S6);$J("polyline",G6);$J("rect",X1);$J("line",X6);$J("bezierCurve",FU);$J("arc",fw)});function th0($,Q){for(var J=0;J<Y8.length;J++){var K=Y8[J],Y=Q[K],Z=$.ensureState(K);Z.style=Z.style||{},Z.style.text=Y}var q=$.currentStates.slice();$.clearStates(!0),$.setStyle({text:Q.normal}),$.useStates(q,!0)}function yo($,Q,J){var{labelFetcher:K,labelDataIndex:Y,labelDimIndex:Z}=$,q=Q.normal,X;if(K)X=K.getFormattedLabel(Y,"normal",null,Z,q&&q.get("formatter"),J!=null?{interpolatedValue:J}:null);if(X==null)X=I0($.defaultText)?$.defaultText(Y,$,J):$.defaultText;var W={normal:X};for(var F=0;F<Y8.length;F++){var H=Y8[F],B=Q[H];W[H]=g0(K?K.getFormattedLabel(Y,H,null,Z,B&&B.get("formatter")):null,X)}return W}function p5($,Q,J,K){J=J||CS;var Y=$ instanceof j1,Z=!1;for(var q=0;q<dX.length;q++){var X=Q[dX[q]];if(X&&X.getShallow("show")){Z=!0;break}}var W=Y?$:$.getTextContent();if(Z){if(!Y){if(!W)W=new j1,$.setTextContent(W);if($.stateProxy)W.stateProxy=$.stateProxy}var F=yo(J,Q),H=Q.normal,B=!!H.getShallow("show"),z=A5(H,K&&K.normal,J,!1,!Y);if(z.text=F.normal,!Y)$.setTextConfig(Mw(H,J,!1));for(var q=0;q<Y8.length;q++){var A=Y8[q],X=Q[A];if(X){var R=W.ensureState(A),G=!!g0(X.getShallow("show"),B);if(G!==B)R.ignore=!G;if(R.style=A5(X,K&&K[A],J,!0,!Y),R.style.text=F[A],!Y){var O=$.ensureState(A);O.textConfig=Mw(X,J,!0)}}}if(W.silent=!!H.getShallow("silent"),W.style.x!=null)z.x=W.style.x;if(W.style.y!=null)z.y=W.style.y;if(W.ignore=!B,W.useStyle(z),W.dirty(),J.enableTextSetter)CZ(W).setLabelText=function(T){var D=yo(J,Q,T);th0(W,D)}}else if(W)W.ignore=!0;$.dirty()}function b5($,Q){Q=Q||"label";var J={normal:$.getModel(Q)};for(var K=0;K<Y8.length;K++){var Y=Y8[K];J[Y]=$.getModel([Y,Q])}return J}function A5($,Q,J,K,Y){var Z={};return AG1(Z,$,J,K,Y),Q&&Y0(Z,Q),Z}function Mw($,Q,J){Q=Q||{};var K={},Y,Z=$.getShallow("rotate"),q=g0($.getShallow("distance"),J?null:5),X=$.getShallow("offset");if(Y=$.getShallow("position")||(J?null:"inside"),Y==="outside"&&(Y=Q.defaultOutsidePosition||"top"),Y!=null)K.position=Y;if(X!=null)K.offset=X;if(Z!=null)Z*=Math.PI/180,K.rotation=Z;if(q!=null)K.distance=q;if(K.outsideFill=$.get("color")==="inherit"?Q.inheritColor||null:"auto",Q.autoOverflowArea!=null)K.autoOverflowArea=Q.autoOverflowArea;if(Q.layoutRect!=null)K.layoutRect=Q.layoutRect;return K}function AG1($,Q,J,K,Y){J=J||CS;var Z=Q.ecModel,q=Z&&Z.option.textStyle,X=VG1(Q),W;if(X){W={};var F="richInheritPlainLabel",H=g0(Q.get(F),Z?Z.get(F):void 0);for(var B in X)if(X.hasOwnProperty(B)){var z=Q.getModel(["rich",B]);ah0(W[B]={},z,q,Q,H,J,K,Y,!1,!0)}}if(W)$.rich=W;var A=Q.get("overflow");if(A)$.overflow=A;var R=Q.get("lineOverflow");if(R)$.lineOverflow=R;var G=$,O=Q.get("minMargin");if(O!=null)O=!V1(O)?0:O/2,G.margin=[O,O,O,O],G.__marginType=AU.minMargin;else{var T=Q.get("textMargin");if(T!=null)G.margin=jX(T),G.__marginType=AU.textMargin}ah0($,Q,q,null,null,J,K,Y,!0,!1)}function VG1($){var Q;while($&&$!==$.ecModel){var J=($.option||CS).rich;if(J){Q=Q||{};var K=N1(J);for(var Y=0;Y<K.length;Y++){var Z=K[Y];Q[Z]=1}}$=$.parentModel}return Q}function ah0($,Q,J,K,Y,Z,q,X,W,F){J=!q&&J||CS;var H=Z&&Z.inheritColor,B=Q.getShallow("color"),z=Q.getShallow("textBorderColor"),A=g0(Q.getShallow("opacity"),J.opacity);if(B==="inherit"||B==="auto"){if(B==="auto")u6("color: 'auto'","color: 'inherit'");if(H)B=H;else B=null}if(z==="inherit"||z==="auto"){if(z==="auto")u6("color: 'auto'","color: 'inherit'");if(H)z=H;else z=null}if(!X)B=B||J.color,z=z||J.textBorderColor;if(B!=null)$.fill=B;if(z!=null)$.stroke=z;var R=g0(Q.getShallow("textBorderWidth"),J.textBorderWidth);if(R!=null)$.lineWidth=R;var G=g0(Q.getShallow("textBorderType"),J.textBorderType);if(G!=null)$.lineDash=G;var O=g0(Q.getShallow("textBorderDashOffset"),J.textBorderDashOffset);if(O!=null)$.lineDashOffset=O;if(!q&&A==null&&!F)A=Z&&Z.defaultOpacity;if(A!=null)$.opacity=A;if(!q&&!X){if($.fill==null&&Z.inheritColor)$.fill=Z.inheritColor}for(var T=0;T<ih0.length;T++){var D=ih0[T],P=Y!==!1&&K?v6(Q.getShallow(D),K.getShallow(D),J[D]):g0(Q.getShallow(D),J[D]);if(P!=null)$[D]=P}for(var T=0;T<sh0.length;T++){var D=sh0[T],P=Q.getShallow(D);if(P!=null)$[D]=P}if($.verticalAlign==null){var j=Q.getShallow("baseline");if(j!=null)$.verticalAlign=j}if(!W||!Z.disableBox){for(var T=0;T<oh0.length;T++){var D=oh0[T],P=Q.getShallow(D);if(P!=null)$[D]=P}var E=Q.getShallow("borderType");if(E!=null)$.borderDash=E;if(($.backgroundColor==="auto"||$.backgroundColor==="inherit")&&H){if($.backgroundColor==="auto")u6("backgroundColor: 'auto'","backgroundColor: 'inherit'");$.backgroundColor=H}if(($.borderColor==="auto"||$.borderColor==="inherit")&&H){if($.borderColor==="auto")u6("borderColor: 'auto'","borderColor: 'inherit'");$.borderColor=H}}}function jz($,Q){var J=Q&&Q.getModel("textStyle");return m7([$.fontStyle||J&&J.getShallow("fontStyle")||"",$.fontWeight||J&&J.getShallow("fontWeight")||"",($.fontSize||J&&J.getShallow("fontSize")||12)+"px",$.fontFamily||J&&J.getShallow("fontFamily")||"sans-serif"].join(" "))}function PS($,Q,J,K){if(!$)return;var Y=CZ($);Y.prevValue=Y.value,Y.value=J;var Z=Q.normal;if(Y.valueAnimation=Z.get("valueAnimation"),Y.valueAnimation)Y.precision=Z.get("precision"),Y.defaultInterpolatedText=K,Y.statesModels=Q}function kS($,Q,J,K,Y){var Z=CZ($);if(!Z.valueAnimation||Z.prevValue===Z.value)return;var q=Z.defaultInterpolatedText,X=g0(Z.interpolatedValue,Z.prevValue),W=Z.value;function F(H){var B=mv(J,Z.precision,X,W,H);Z.interpolatedValue=H===1?null:B;var z=yo({labelDataIndex:Q,labelFetcher:Y,defaultText:q?q(B):B+""},Z.statesModels,B);th0($,z)}$.percent=0,(Z.prevValue==null?q5:C1)($,{percent:1},K,Q,null,F)}var CS,ih0,sh0,oh0,CZ,AU;var g5=h(()=>{YU();l();M5();N5();l0();a0();CS={};ih0=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],sh0=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],oh0=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];CZ=o0();AU={minMargin:1,textMargin:2}});var GG1,xo,co,OG1,eh0;var $v0=h(()=>{g5();YU();GG1=["textStyle","color"],xo=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],co=new j1,OG1=function(){function $(){}return $.prototype.getTextColor=function(Q){var J=this.ecModel;return this.getShallow("color")||(!Q&&J?J.get(GG1):null)},$.prototype.getFont=function(){return jz({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},$.prototype.getTextRect=function(Q){var J={text:Q,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")};for(var K=0;K<xo.length;K++)J[xo[K]]=this.getShallow(xo[K]);return co.useStyle(J),co.update(),co.getBoundingRect()},$}(),eh0=OG1});var uo,wG1,Qv0;var mo=h(()=>{rF();uo=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],wG1=I9(uo),Qv0=function(){function $(){}return $.prototype.getLineStyle=function(Q){return wG1(this,Q)},$}()});var po,TG1,Jv0;var no=h(()=>{rF();po=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],TG1=I9(po),Jv0=function(){function $(){}return $.prototype.getItemStyle=function(Q,J){return TG1(this,Q,J)},$}()});var VU,h1;var K7=h(()=>{t7();vK();tE0();$v0();mo();no();l();VU=function(){function $(Q,J,K){this.parentModel=J,this.ecModel=K,this.option=Q}return $.prototype.init=function(Q,J,K){var Y=[];for(var Z=3;Z<arguments.length;Z++)Y[Z-3]=arguments[Z]},$.prototype.mergeOption=function(Q,J){F1(this.option,Q,!0)},$.prototype.get=function(Q,J){if(Q==null)return this.option;return this._doGet(this.parsePath(Q),!J&&this.parentModel)},$.prototype.getShallow=function(Q,J){var K=this.option,Y=K==null?K:K[Q];if(Y==null&&!J){var Z=this.parentModel;if(Z)Y=Z.getShallow(Q)}return Y},$.prototype.getModel=function(Q,J){var K=Q!=null,Y=K?this.parsePath(Q):null,Z=K?this._doGet(Y):this.option;return J=J||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(Y)),new $(Z,J,this.ecModel)},$.prototype.isEmpty=function(){return this.option==null},$.prototype.restoreData=function(){},$.prototype.clone=function(){var Q=this.constructor;return new Q(m0(this.option))},$.prototype.parsePath=function(Q){if(typeof Q==="string")return Q.split(".");return Q},$.prototype.resolveParentPath=function(Q){return Q},$.prototype.isAnimationEnabled=function(){if(!M1.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;else if(this.parentModel)return this.parentModel.isAnimationEnabled()}},$.prototype._doGet=function(Q,J){var K=this.option;if(!Q)return K;for(var Y=0;Y<Q.length;Y++){if(!Q[Y])continue;if(K=K&&typeof K==="object"?K[Q[Y]]:null,K==null)break}if(K==null&&J)K=J._doGet(this.resolveParentPath(Q),J.parentModel);return K},$}();Nz(VU);oE0(VU);n5(VU,Qv0);n5(VU,Jv0);n5(VU,aE0);n5(VU,eh0);h1=VU});function l$($){return[$||"",DG1++].join("_")}function Kv0($){var Q={};$.registerSubTypeDefaulter=function(J,K){var Y=f9(J);Q[Y.main]=K},$.determineSubType=function(J,K){var Y=K.type;if(!Y){var Z=f9(J).main;if($.hasSubTypes(J)&&Q[Z])Y=Q[Z](K)}return Y}}function Yv0($,Q){$.topologicalTravel=function(Z,q,X,W){if(!Z.length)return;var F=J(q),H=F.graph,B=F.noEntryList,z={};S(Z,function(D){z[D]=!0});while(B.length){var A=B.pop(),R=H[A],G=!!z[A];if(G)X.call(W,A,R.originalDeps.slice()),delete z[A];S(R.successor,G?T:O)}S(z,function(){var D="";throw D=_7("Circular dependency may exists: ",z,Z,q),Error(D)});function O(D){if(H[D].entryCount--,H[D].entryCount===0)B.push(D)}function T(D){z[D]=!0,O(D)}};function J(Z){var q={},X=[];return S(Z,function(W){var F=K(q,W),H=F.originalDeps=Q(W),B=Y(H,Z);if(F.entryCount=B.length,F.entryCount===0)X.push(W);S(B,function(z){if(J1(F.predecessor,z)<0)F.predecessor.push(z);var A=K(q,z);if(J1(A.successor,z)<0)A.successor.push(W)})}),{graph:q,noEntryList:X}}function K(Z,q){if(!Z[q])Z[q]={predecessor:[],successor:[]};return Z[q]}function Y(Z,q){var X=[];return S(Z,function(W){J1(q,W)>=0&&X.push(W)}),X}}function C4($,Q){return F1(F1({},$,!0),Q,!0)}var DG1;var e4=h(()=>{l();vK();N5();DG1=Math.round(Math.random()*10)});var Zv0;var qv0=h(()=>{Zv0={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}});var Xv0;var Wv0=h(()=>{Xv0={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图",custom:"自定义图表",chart:"图表"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}}});function Fv0($,Q){$=$.toUpperCase(),io[$]=new h1(Q),jS[$]=Q}function Uv0($){if(R0($)){var Q=jS[$.toUpperCase()]||{};if($===ES||$===ro)return m0(Q);else return F1(m0(Q),m0(jS[Ez]),!1)}else return F1(m0($),m0(jS[Ez]),!1)}function bw($){return io[$]}function Hv0(){return io[Ez]}var ES="ZH",ro="EN",Ez,jS,io,LS;var hS=h(()=>{K7();t7();qv0();Wv0();l();Ez=ro,jS={},io={},LS=!M1.domSupported?Ez:function(){var $=(document.documentElement.lang||navigator.language||navigator.browserLanguage||Ez).toUpperCase();return $.indexOf(ES)>-1?ES:Ez}();Fv0(ro,Zv0);Fv0(ES,Xv0)});function Nv0($){if(!so)so=$}function D6(){return so}var so=null;function zv0($){return!R0($)&&!I0($)?kG1($):$}function kG1($){$=$||{};var Q={},J=!0;return S(x9,function(K){J&&(J=$[K]==null)}),S(x9,function(K,Y){var Z=$[K];Q[K]={};var q=null;for(var X=Y;X>=0;X--){var W=x9[X],F=y0(Z)&&!Z0(Z)?Z[W]:Z,H=void 0;if(Z0(F))H=F.slice(),q=H[0]||"";else if(R0(F))q=F,H=[q];else{if(q==null)q=SS[K];else if(!CG1[W].test(q))q=Q[W][W][0]+" "+q;if(H=[q],J)H[1]="{primary|"+q+"}"}Q[K][W]=H}}),Q}function PZ($,Q){return $+="","0000".substr(0,Q-$.length)+$}function hz($){switch($){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return $}}function Av0($){return $===hz($)}function Vv0($){switch($){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function RU($,Q,J,K){var Y=b$($),Z=Y[to(J)](),q=Y[MS(J)]()+1,X=Math.floor((q-1)/3)+1,W=Y[bS(J)](),F=Y["get"+(J?"UTC":"")+"Day"](),H=Y[gS(J)](),B=(H-1)%12+1,z=Y[yS(J)](),A=Y[xS(J)](),R=Y[cS(J)](),G=H>=12?"pm":"am",O=G.toUpperCase(),T=K instanceof h1?K:bw(K||LS)||Hv0(),D=T.getModel("time"),P=D.get("month"),j=D.get("monthAbbr"),E=D.get("dayOfWeek"),L=D.get("dayOfWeekAbbr");return(Q||"").replace(/{a}/g,G+"").replace(/{A}/g,O+"").replace(/{yyyy}/g,Z+"").replace(/{yy}/g,PZ(Z%100+"",2)).replace(/{Q}/g,X+"").replace(/{MMMM}/g,P[q-1]).replace(/{MMM}/g,j[q-1]).replace(/{MM}/g,PZ(q,2)).replace(/{M}/g,q+"").replace(/{dd}/g,PZ(W,2)).replace(/{d}/g,W+"").replace(/{eeee}/g,E[F]).replace(/{ee}/g,L[F]).replace(/{e}/g,F+"").replace(/{HH}/g,PZ(H,2)).replace(/{H}/g,H+"").replace(/{hh}/g,PZ(B+"",2)).replace(/{h}/g,B+"").replace(/{mm}/g,PZ(z,2)).replace(/{m}/g,z+"").replace(/{ss}/g,PZ(A,2)).replace(/{s}/g,A+"").replace(/{SSS}/g,PZ(R,3)).replace(/{S}/g,R+"")}function Rv0($,Q,J,K,Y){var Z=null;if(R0(J))Z=J;else if(I0(J)){var q={time:$.time,level:$.time.level},X=D6();if(X)X.makeAxisLabelFormatterParamBreak(q,$.break);Z=J($.value,Q,q)}else{var W=$.time;if(W){var F=J[W.lowerTimeUnit][W.upperTimeUnit];Z=F[Math.min(W.level,F.length-1)]||""}else{var H=GU($.value,Y);Z=J[H][H][0]}}return RU(new Date($.value),Z,Y,K)}function GU($,Q){var J=b$($),K=J[MS(Q)]()+1,Y=J[bS(Q)](),Z=J[gS(Q)](),q=J[yS(Q)](),X=J[xS(Q)](),W=J[cS(Q)](),F=W===0,H=F&&X===0,B=H&&q===0,z=B&&Z===0,A=z&&Y===1,R=A&&K===1;if(R)return"year";else if(A)return"month";else if(z)return"day";else if(B)return"hour";else if(H)return"minute";else if(F)return"second";else return"millisecond"}function IS($,Q,J){switch(Q){case"year":$[eo(J)](0);case"month":$[$a(J)](1);case"day":$[Qa(J)](0);case"hour":$[Ja(J)](0);case"minute":$[Ka(J)](0);case"second":$[Ya(J)](0)}return $}function to($){return $?"getUTCFullYear":"getFullYear"}function MS($){return $?"getUTCMonth":"getMonth"}function bS($){return $?"getUTCDate":"getDate"}function gS($){return $?"getUTCHours":"getHours"}function yS($){return $?"getUTCMinutes":"getMinutes"}function xS($){return $?"getUTCSeconds":"getSeconds"}function cS($){return $?"getUTCMilliseconds":"getMilliseconds"}function Gv0($){return $?"setUTCFullYear":"setFullYear"}function eo($){return $?"setUTCMonth":"setMonth"}function $a($){return $?"setUTCDate":"setDate"}function Qa($){return $?"setUTCHours":"setHours"}function Ja($){return $?"setUTCMinutes":"setMinutes"}function Ka($){return $?"setUTCSeconds":"setSeconds"}function Ya($){return $?"setUTCMilliseconds":"setMilliseconds"}var _S=1000,fS,Lz,h3,oo,CG1,SS,PG1="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}",vS="{yyyy}-{MM}-{dd}",ao,x9,Bv0;var gw=h(()=>{l();k1();hS();K7();fS=_S*60,Lz=fS*60,h3=Lz*24,oo=h3*365,CG1={year:/({yyyy}|{yy})/,month:/({MMMM}|{MMM}|{MM}|{M})/,day:/({dd}|{d})/,hour:/({HH}|{H}|{hh}|{h})/,minute:/({mm}|{m})/,second:/({ss}|{s})/,millisecond:/({SSS}|{S})/},SS={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}"},ao={year:"{yyyy}",month:"{yyyy}-{MM}",day:vS,hour:vS+" "+SS.hour,minute:vS+" "+SS.minute,second:vS+" "+SS.second,millisecond:PG1},x9=["year","month","day","hour","minute","second","millisecond"],Bv0=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"]});function qa($){if(!Uz($))return R0($)?$:"-";var Q=($+"").split(".");return Q[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(Q.length>1?"."+Q[1]:"")}function uS($,Q){if($=($||"").toLowerCase().replace(/-(.)/g,function(J,K){return K.toUpperCase()}),Q&&$)$=$.charAt(0).toUpperCase()+$.slice(1);return $}function mS($,Q,J){var K="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function Y(H){return H&&m7(H)?H:"-"}function Z(H){return!!(H!=null&&!isNaN(H)&&isFinite(H))}var q=Q==="time",X=$ instanceof Date;if(q||X){var W=q?b$($):$;if(!isNaN(+W))return RU(W,K,J);else if(X)return"-"}if(Q==="ordinal")return iB($)?Y($):V1($)?Z($)?$+"":"-":"-";var F=g$($);return Z(F)?qa(F):iB($)?Y($):typeof $==="boolean"?$+"":"-"}function pS($,Q,J){if(!Z0(Q))Q=[Q];var K=Q.length;if(!K)return"";var Y=Q[0].$vars||[];for(var Z=0;Z<Y.length;Z++){var q=Ov0[Z];$=$.replace(Za(q),Za(q,0))}for(var X=0;X<K;X++)for(var W=0;W<Y.length;W++){var F=Q[X][Y[W]];$=$.replace(Za(Ov0[W],X),J?$8(F):F)}return $}function wv0($,Q,J){return S(Q,function(K,Y){$=$.replace("{"+Y+"}",J?$8(K):K)}),$}function Tv0($,Q){var J=R0($)?{color:$,extraCssText:Q}:$||{},K=J.color,Y=J.type;Q=J.extraCssText;var Z=J.renderMode||"html";if(!K)return"";if(Z==="html")return Y==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+$8(K)+";"+(Q||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+$8(K)+";"+(Q||"")+'"></span>';else{var q=J.markerId||"markerX";return{renderMode:Z,content:"{"+q+"|}  ",style:Y==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:K}:{width:10,height:10,borderRadius:5,backgroundColor:K}}}}function JJ($,Q){return Q=Q||"transparent",R0($)?$:y0($)?$.colorStops&&($.colorStops[0]||{}).color||Q:Q}function OU($,Q){if(Q==="_blank"||Q==="blank"){var J=window.open();J.opener=null,J.location.href=$}else window.open($,Q)}var cK,Ov0,Za=function($,Q){return"{"+$+(Q==null?"":Q)+"}"};var P4=h(()=>{l();lO();k1();gw();cK=jX;Ov0=["a","b","c","d","e","f","g"]});function EG1($){return!!dS[$]}function Dv0($){M0(!Wa.get($.fullType)),Wa.set($.fullType,{getCoord2:void 0}).getCoord2=$.getCoord2}function Cv0($){var Q=$.getShallow("coord",!0),J=nS.coord;if(Q==null){var K=Wa.get($.type);if(K&&K.getCoord2)J=nS.coord2,Q=K.getCoord2($)}return{coord:Q,from:J}}function Fa($,Q){var J=$.getShallow("coordinateSystem"),K=$.getShallow("coordinateSystemUsage",!0),Y=K!=null,Z=KJ.none;if(J){var q=$.mainType==="series";if(K==null)K=q?"data":"box";if(K==="data"){if(Z=KJ.dataCoordSys,!q){if(Y&&Q)S1('coordinateSystemUsage "data" is not supported in non-series components.');Z=KJ.none}}else if(K==="box"){if(Z=KJ.boxCoordSys,!q&&!EG1(J)){if(Y&&Q)S1('coordinateSystem "'+J+'" cannot be used'+(' as coordinateSystemUsage "box" for "'+$.type+'" yet.'));Z=KJ.none}}}return{coordSysType:J,kind:Z}}function uK($){var{targetModel:Q,coordSysType:J,coordSysProvider:K,isDefaultDataCoordSys:Y,allowNotFound:Z}=$;M0(!!J);var q=Fa(Q,!0),X=q.kind,W=q.coordSysType;if(Y&&X!==KJ.dataCoordSys)X=KJ.dataCoordSys,W=J;if(X===KJ.none||W!==J)return!1;var F=K(J,Q);if(!F){if(!Z)S1(J+" cannot be found for"+(" "+Q.type+" (index: "+Q.componentIndex+")."));return!1}if(X===KJ.dataCoordSys)M0(Q.mainType==="series"),Q.coordinateSystem=F;else Q.boxCoordinateSystem=F;return!0}var dS,Xa,jG1,nS,Wa,KJ,lS=function($,Q){var J=Q.getReferringComponents($,L5).models[0];return J&&J.coordinateSystem},YJ;var c9=h(()=>{l();l0();N5();dS={},Xa={},jG1=function(){function $(){this._normalMasterList=[],this._nonSeriesBoxMasterList=[]}return $.prototype.create=function(Q,J){this._nonSeriesBoxMasterList=K(dS,!0),this._normalMasterList=K(Xa,!1);function K(Y,Z){var q=[];return S(Y,function(X,W){var F=X.create(Q,J);if(q=q.concat(F||[]),Z)S(F,function(H){return M0(!H.update)})}),q}},$.prototype.update=function(Q,J){S(this._normalMasterList,function(K){K.update&&K.update(Q,J)})},$.prototype.getCoordinateSystems=function(){return this._normalMasterList.concat(this._nonSeriesBoxMasterList)},$.register=function(Q,J){if(Q==="matrix"||Q==="calendar"){dS[Q]=J;return}Xa[Q]=J},$.get=function(Q){return Xa[Q]||dS[Q]},$}();nS={coord:1,coord2:2};Wa=_0();KJ={none:0,dataCoordSys:1,boxCoordSys:2};YJ=jG1});function Ha($,Q,J,K,Y){var Z=0,q=0;if(K==null)K=1/0;if(Y==null)Y=1/0;var X=0;Q.eachChild(function(W,F){var H=W.getBoundingRect(),B=Q.childAt(F+1),z=B&&B.getBoundingRect(),A,R;if($==="horizontal"){var G=H.width+(z?-z.x+H.x:0);if(A=Z+G,A>K||W.newline)Z=0,A=G,q+=X+J,X=H.height;else X=Math.max(X,H.height)}else{var O=H.height+(z?-z.y+H.y:0);if(R=q+O,R>Y||W.newline)Z+=X+J,q=0,R=O,X=H.width;else X=Math.max(X,H.width)}if(W.newline)return;W.x=Z,W.y=q,W.markRedraw(),$==="horizontal"?Z=A+J:q=R+J})}function iS($,Q){return{left:$.getShallow("left",Q),top:$.getShallow("top",Q),right:$.getShallow("right",Q),bottom:$.getShallow("bottom",Q),width:$.getShallow("width",Q),height:$.getShallow("height",Q)}}function LG1($,Q){var J=_5($,Q,{enableLayoutOnlyByCenter:!0}),K=$.getBoxLayoutParams(),Y,Z;if(J.type===xw.point)Z=J.refPoint,Y=X5(K,{width:Q.getWidth(),height:Q.getHeight()});else{var q=$.get("center"),X=Z0(q)?q:[q,q];Y=X5(K,J.refContainer),Z=J.boxCoordFrom===nS.coord2?J.refPoint:[f0(X[0],Y.width)+Y.x,f0(X[1],Y.height)+Y.y]}return{viewRect:Y,center:Z}}function sS($,Q){var J=LG1($,Q),K=J.viewRect,Y=J.center,Z=$.get("radius");if(!Z0(Z))Z=[0,Z];var q=f0(K.width,Q.getWidth()),X=f0(K.height,Q.getHeight()),W=Math.min(q,X),F=f0(Z[0],W/2),H=f0(Z[1],W/2);return{cx:Y[0],cy:Y[1],r0:F,r:H,viewRect:K}}function X5($,Q,J){J=cK(J||0);var{width:K,height:Y}=Q,Z=f0($.left,K),q=f0($.top,Y),X=f0($.right,K),W=f0($.bottom,Y),F=f0($.width,K),H=f0($.height,Y),B=J[2]+J[0],z=J[1]+J[3],A=$.aspect;if(isNaN(F))F=K-X-z-Z;if(isNaN(H))H=Y-W-B-q;if(A!=null){if(isNaN(F)&&isNaN(H))if(A>K/Y)F=K*0.8;else H=Y*0.8;if(isNaN(F))F=A*H;if(isNaN(H))H=F/A}if(isNaN(Z))Z=K-X-F-z;if(isNaN(q))q=Y-W-H-B;switch($.left||$.right){case"center":Z=K/2-F/2-J[3];break;case"right":Z=K-F-z;break}switch($.top||$.bottom){case"middle":case"center":q=Y/2-H/2-J[0];break;case"bottom":q=Y-H-B;break}if(Z=Z||0,q=q||0,isNaN(F))F=K-z-Z-(X||0);if(isNaN(H))H=Y-B-q-(W||0);var R=new n0((Q.x||0)+Z+J[3],(Q.y||0)+q+J[0],F,H);return R.margin=J,R}function oS($,Q,J){var K=$.getShallow("preserveAspect",!0);if(!K)return Q;var Y=Q.width/Q.height;if(Math.abs(Math.atan(J)-Math.atan(Y))<0.000000001)return Q;var Z=$.getShallow("preserveAspectAlign",!0),q=$.getShallow("preserveAspectVerticalAlign",!0),X={width:Q.width,height:Q.height},W=K==="cover";if(Y>J&&!W||Y<J&&W)X.width=Q.height*J,Z==="left"?X.left=0:Z==="right"?X.right=0:X.left="center";else X.height=Q.width/J,q==="top"?X.top=0:q==="bottom"?X.bottom=0:X.top="middle";return X5(X,Q)}function _5($,Q,J){var K,Y,Z,q=$.boxCoordinateSystem,X;if(q){var W=Cv0($),F=W.coord,H=W.from;if(q.dataToLayout){Z=xw.rect,X=H;var B=q.dataToLayout(F);K=B.contentRect||B.rect}else if(J&&J.enableLayoutOnlyByCenter&&q.dataToPoint)Z=xw.point,X=H,Y=q.dataToPoint(F);else S1($.type+"["+$.componentIndex+"]"+(" layout based on "+q.type+" is not supported."))}if(Z==null)Z=xw.rect;if(Z===xw.rect){if(!K)K={x:0,y:0,width:Q.getWidth(),height:Q.getHeight()};Y=[K.x+K.width/2,K.y+K.height/2]}return{type:Z,refContainer:K,refPoint:Y,boxCoordFrom:X}}function rX($,Q,J,K,Y,Z){var q=!Y||!Y.hv||Y.hv[0],X=!Y||!Y.hv||Y.hv[1],W=Y&&Y.boundingMode||"all";if(Z=Z||$,Z.x=$.x,Z.y=$.y,!q&&!X)return!1;var F;if(W==="raw")F=$.type==="group"?new n0(0,0,+Q.width||0,+Q.height||0):$.getBoundingRect();else if(F=$.getBoundingRect(),$.needLocalTransform()){var H=$.getLocalTransform();F=F.clone(),F.applyTransform(H)}var B=X5(c0({width:F.width,height:F.height},Q),J,K),z=q?B.x-F.x:0,A=X?B.y-F.y:0;if(W==="raw")Z.x=z,Z.y=A;else Z.x+=z,Z.y+=A;if(Z===$)$.markRedraw();return!0}function Pv0($,Q){return $[wU[Q][0]]!=null||$[wU[Q][1]]!=null&&$[wU[Q][2]]!=null}function iX($){var Q=$.layoutMode||$.constructor.layoutMode;return y0(Q)?Q:Q?{type:Q}:null}function $4($,Q,J){var K=J&&J.ignoreSize;!Z0(K)&&(K=[K,K]);var Y=q(wU[0],0),Z=q(wU[1],1);W(wU[0],$,Y),W(wU[1],$,Z);function q(F,H){var B={},z=0,A={},R=0,G=2;if(rS(F,function(D){A[D]=$[D]}),rS(F,function(D){p0(Q,D)&&(B[D]=A[D]=Q[D]),X(B,D)&&z++,X(A,D)&&R++}),K[H]){if(X(Q,F[1]))A[F[2]]=null;else if(X(Q,F[2]))A[F[1]]=null;return A}if(R===G||!z)return A;else if(z>=G)return B;else{for(var O=0;O<F.length;O++){var T=F[O];if(!p0(B,T)&&p0($,T)){B[T]=$[T];break}}return B}}function X(F,H){return F[H]!=null&&F[H]!=="auto"}function W(F,H,B){rS(F,function(z){H[z]=B[z]})}}function u9($){return Na({},$)}function Na($,Q){return Q&&$&&rS(Ua,function(J){p0(Q,J)&&($[J]=Q[J])}),$}var rS,Ua,wU,ZJ,WH5,FH5,xw;var l5=h(()=>{l();s5();k1();P4();N5();c9();rS=S,Ua=["left","right","top","bottom","width","height"],wU=[["width","left","right"],["height","top","bottom"]];ZJ=Ha,WH5=K1(Ha,"vertical"),FH5=K1(Ha,"horizontal");xw={rect:1,point:2}});function vG1($){var Q=[];if(S(vz.getClassesByMainType($),function(J){Q=Q.concat(J.dependencies||J.prototype.dependencies||[])}),Q=q0(Q,function(J){return f9(J).main}),$!=="dataset"&&J1(Q,"dataset")<=0)Q.unshift("dataset");return Q}var hG1,vz,O1;var _6=h(()=>{H0();l();K7();e4();vK();l0();l5();hG1=o0(),vz=function($){c(Q,$);function Q(J,K,Y){var Z=$.call(this,J,K,Y)||this;return Z.uid=l$("ec_cpt_model"),Z}return Q.prototype.init=function(J,K,Y){this.mergeDefaultAndTheme(J,Y)},Q.prototype.mergeDefaultAndTheme=function(J,K){var Y=iX(this),Z=Y?u9(J):{},q=K.getTheme();if(F1(J,q.get(this.mainType)),F1(J,this.getDefaultOption()),Y)$4(J,Z,Y)},Q.prototype.mergeOption=function(J,K){F1(this.option,J,!0);var Y=iX(this);if(Y)$4(this.option,J,Y)},Q.prototype.optionUpdated=function(J,K){},Q.prototype.getDefaultOption=function(){var J=this.constructor;if(!sE0(J))return J.defaultOption;var K=hG1(this);if(!K.defaultOption){var Y=[],Z=J;while(Z){var q=Z.prototype.defaultOption;q&&Y.push(q),Z=Z.superClass}var X={};for(var W=Y.length-1;W>=0;W--)X=F1(X,Y[W],!0);K.defaultOption=X}return K.defaultOption},Q.prototype.getReferringComponents=function(J,K){var Y=J+"Index",Z=J+"Id";return hK(this.ecModel,J,{index:this.get(Y,!0),id:this.get(Z,!0)},K)},Q.prototype.getBoxLayoutParams=function(){return iS(this,!1)},Q.prototype.getZLevelKey=function(){return""},Q.prototype.setZLevel=function(J){this.option.zlevel=J},Q.protoInitialize=function(){var J=Q.prototype;J.type="component",J.id="",J.name="",J.mainType="",J.subType="",J.componentIndex=0}(),Q}(h1);dv(vz,h1);cX(vz);Kv0(vz);Yv0(vz,vG1);O1=vz});var TU,f7,aS,kZ,e;var y1=h(()=>{l();o8();TU={color:{},darkColor:{},size:{}},f7=TU.color={theme:["#5070dd","#b6d634","#505372","#ff994d","#0ca8df","#ffd10a","#fb628b","#785db0","#3fbe95"],neutral00:"#fff",neutral05:"#f4f7fd",neutral10:"#e8ebf0",neutral15:"#dbdee4",neutral20:"#cfd2d7",neutral25:"#c3c5cb",neutral30:"#b7b9be",neutral35:"#aaacb2",neutral40:"#9ea0a5",neutral45:"#929399",neutral50:"#86878c",neutral55:"#797b7f",neutral60:"#6d6e73",neutral65:"#616266",neutral70:"#54555a",neutral75:"#48494d",neutral80:"#3c3c41",neutral85:"#303034",neutral90:"#232328",neutral95:"#17171b",neutral99:"#000",accent05:"#eff1f9",accent10:"#e0e4f2",accent15:"#d0d6ec",accent20:"#c0c9e6",accent25:"#b1bbdf",accent30:"#a1aed9",accent35:"#91a0d3",accent40:"#8292cc",accent45:"#7285c6",accent50:"#6578ba",accent55:"#5c6da9",accent60:"#536298",accent65:"#4a5787",accent70:"#404c76",accent75:"#374165",accent80:"#2e3654",accent85:"#252b43",accent90:"#1b2032",accent95:"#121521",transparent:"rgba(0,0,0,0)",highlight:"rgba(255,231,130,0.8)"};Y0(f7,{primary:f7.neutral80,secondary:f7.neutral70,tertiary:f7.neutral60,quaternary:f7.neutral50,disabled:f7.neutral20,border:f7.neutral30,borderTint:f7.neutral20,borderShade:f7.neutral40,background:f7.neutral05,backgroundTint:"rgba(234,237,245,0.5)",backgroundTransparent:"rgba(255,255,255,0)",backgroundShade:f7.neutral10,shadow:"rgba(0,0,0,0.2)",shadowTint:"rgba(129,130,136,0.2)",axisLine:f7.neutral70,axisLineTint:f7.neutral40,axisTick:f7.neutral70,axisTickMinor:f7.neutral60,axisLabel:f7.neutral70,axisSplitLine:f7.neutral15,axisMinorSplitLine:f7.neutral05});for(kZ in f7)if(f7.hasOwnProperty(kZ))if(aS=f7[kZ],kZ==="theme")TU.darkColor.theme=f7.theme.slice();else if(kZ==="highlight")TU.darkColor.highlight="rgba(255,231,130,0.4)";else if(kZ.indexOf("accent")===0)TU.darkColor[kZ]=M$(aS,null,function($){return $*0.5},function($){return Math.min(1,1.3-$)});else TU.darkColor[kZ]=M$(aS,null,function($){return $*0.9},function($){return 1-Math.pow($,1.5)});TU.size={xxs:2,xs:5,s:10,m:15,l:20,xl:30,xxl:40,xxxl:50};e=TU});var kv0="",Sz="rgba(0, 0, 0, 0.2)",jv0,SG1,Ev0;var Lv0=h(()=>{o8();y1();if(typeof navigator<"u")kv0=navigator.platform||"";jv0=e.color.theme[0],SG1=M$(jv0,null,null,0.9),Ev0={darkMode:"auto",colorBy:"series",color:e.color.theme,gradientColor:[SG1,jv0],aria:{decal:{decals:[{color:Sz,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Sz,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:0.8},{color:Sz,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Sz,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Sz,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Sz,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:0.75}]}},textStyle:{fontFamily:kv0.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1000,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2000,progressiveThreshold:3000,progressive:400,hoverLayerThreshold:3000,useUTC:!1}});var cw,A8="original",N7="arrayRows",v8="objectRows",p9="keyedColumns",v3="typedArray",Ba="unknown",$9="column",mK="row";var S3=h(()=>{l();cw=_0(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"])});function vv0($){hv0($).datasetMap=_0()}function tS($,Q,J){var K={},Y=eS(Q);if(!Y||!$)return K;var Z=[],q=[],X=Q.ecModel,W=hv0(X).datasetMap,F=Y.uid+"_"+J.seriesLayoutBy,H,B;$=$.slice(),S($,function(G,O){var T=y0(G)?G:$[O]={name:G};if(T.type==="ordinal"&&H==null)H=O,B=R(T);K[T.name]=[]});var z=W.get(F)||W.set(F,{categoryWayDim:B,valueWayDim:0});S($,function(G,O){var T=G.name,D=R(G);if(H==null){var P=z.valueWayDim;A(K[T],P,D),A(q,P,D),z.valueWayDim+=D}else if(H===O)A(K[T],0,D),A(Z,0,D);else{var P=z.categoryWayDim;A(K[T],P,D),A(q,P,D),z.categoryWayDim+=D}});function A(G,O,T){for(var D=0;D<T;D++)G.push(O+D)}function R(G){var O=G.dimsDef;return O?O.length:1}return Z.length&&(K.itemName=Z),q.length&&(K.seriesName=q),K}function _z($,Q,J){var K={},Y=eS($);if(!Y)return K;var{sourceFormat:Z,dimensionsDefine:q}=Q,X;if(Z===v8||Z===p9)S(q,function(H,B){if((y0(H)?H.name:H)==="name")X=B});var W=function(){var H={},B={},z=[];for(var A=0,R=Math.min(5,J);A<R;A++){var G=_v0(Q.data,Z,Q.seriesLayoutBy,q,Q.startIndex,A);z.push(G);var O=G===V8.Not;if(O&&H.v==null&&A!==X)H.v=A;if(H.n==null||H.n===H.v||!O&&z[H.n]===V8.Not)H.n=A;if(T(H)&&z[H.n]!==V8.Not)return H;if(!O){if(G===V8.Might&&B.v==null&&A!==X)B.v=A;if(B.n==null||B.n===B.v)B.n=A}}function T(D){return D.v!=null&&D.n!=null}return T(H)?H:T(B)?B:null}();if(W){K.value=[W.v];var F=X!=null?X:W.n;K.itemName=[F],K.seriesName=[F]}return K}function eS($){var Q=$.get("data",!0);if(!Q)return hK($.ecModel,"dataset",{index:$.get("datasetIndex",!0),id:$.get("datasetId",!0)},L5).models[0]}function Sv0($){if(!$.get("transform",!0)&&!$.get("fromTransformResult",!0))return[];return hK($.ecModel,"dataset",{index:$.get("fromDatasetIndex",!0),id:$.get("fromDatasetId",!0)},L5).models}function $_($,Q){return _v0($.data,$.sourceFormat,$.seriesLayoutBy,$.dimensionsDefine,$.startIndex,Q)}function _v0($,Q,J,K,Y,Z){var q,X=5;if(U7($))return V8.Not;var W,F;if(K){var H=K[Z];if(y0(H))W=H.name,F=H.type;else if(R0(H))W=H}if(F!=null)return F==="ordinal"?V8.Must:V8.Not;if(Q===N7){var B=$;if(J===mK){var z=B[Z];for(var A=0;A<(z||[]).length&&A<X;A++)if((q=j(z[Y+A]))!=null)return q}else for(var A=0;A<B.length&&A<X;A++){var R=B[Y+A];if(R&&(q=j(R[Z]))!=null)return q}}else if(Q===v8){var G=$;if(!W)return V8.Not;for(var A=0;A<G.length&&A<X;A++){var O=G[A];if(O&&(q=j(O[W]))!=null)return q}}else if(Q===p9){var T=$;if(!W)return V8.Not;var z=T[W];if(!z||U7(z))return V8.Not;for(var A=0;A<z.length&&A<X;A++)if((q=j(z[A]))!=null)return q}else if(Q===A8){var D=$;for(var A=0;A<D.length&&A<X;A++){var O=D[A],P=sQ(O);if(!Z0(P))return V8.Not;if((q=j(P[Z]))!=null)return q}}function j(E){var L=R0(E);if(E!=null&&Number.isFinite(Number(E))&&E!=="")return L?V8.Might:V8.Not;else if(L&&E!=="-")return V8.Must}return V8.Not}var V8,hv0;var pK=h(()=>{l0();l();S3();V8={Must:1,Might:2,Not:3},hv0=o0()});function fv0($,Q){M0(za.get($)==null&&Q),za.set($,Q)}function Iv0($,Q,J){var K=za.get(Q);if(!K)return J;var Y=K($);if(!Y)return J;for(var Z=0;Z<Y.length;Z++)M0(xX(Y[Z]));return J.concat(Y)}var za;var Aa=h(()=>{l();l0();za=_0()});function mw($,Q,J,K){var Y=H5($.get(["aria","decal","decals"]));return bv0($,_G1,Y,null,Q,J,K)}function fG1($,Q){var J=$.length;for(var K=0;K<J;K++)if($[K].length>Q)return $[K];return $[J-1]}function bv0($,Q,J,K,Y,Z,q){Z=Z||$;var X=Q(Z),W=X.paletteIdx||0,F=X.paletteNameMap=X.paletteNameMap||{};if(F.hasOwnProperty(Y))return F[Y];var H=q==null||!K?J:fG1(K,q);if(H=H||J,!H||!H.length)return;var B=H[W];if(Y)F[Y]=B;return X.paletteIdx=(W+1)%H.length,B}function IG1($,Q){Q($).paletteIdx=0,Q($).paletteNameMap={}}var Mv0,_G1,uw;var pw=h(()=>{l0();Mv0=o0(),_G1=o0(),uw=function(){function $(){}return $.prototype.getColorFromPalette=function(Q,J,K){var Y=H5(this.get("color",!0)),Z=this.get("colorLayer",!0);return bv0(this,Mv0,Y,Z,Q,J,K)},$.prototype.clearColorPalette=function(){IG1(this,Mv0)},$}()});function gG1($){S($,function(Q,J){if(!O1.hasClass(J)){var K=MG1[J];if(K&&!J_[K])S1("Component "+J+` is used but not imported.
import { `+K+` } from 'echarts/components';
echarts.use([`+K+"]);"),J_[K]=!0}})}function yG1($,Q){if(Q){var{seriesIndex:J,seriesId:K,seriesName:Y}=Q;return J!=null&&$.componentIndex!==J||K!=null&&$.id!==K||Y!=null&&$.name!==Y}}function xG1($,Q){var J=$.color&&!$.colorLayer;S(Q,function(K,Y){if(Y==="colorLayer"&&J||Y==="color"&&$.color)return;if(!O1.hasClass(Y)){if(typeof K==="object")$[Y]=!$[Y]?m0(K):F1($[Y],K,!1);else if($[Y]==null)$[Y]=K}})}function xv0($,Q,J){if(Z0(Q)){var K=_0();return S(Q,function(Z){if(Z!=null){var q=T6(Z,null);q!=null&&K.set(Z,!0)}}),f1(J,function(Z){return Z&&K.get(Z[$])})}else{var Y=T6(Q,null);return f1(J,function(Z){return Z&&Y!=null&&Z[$]===Y})}}function cv0($,Q){return Q.hasOwnProperty("subType")?f1($,function(J){return J&&J.subType===Q.subType}):$}function uv0($){var Q=_0();return $&&S(H5($.replaceMerge),function(J){M0(O1.hasClass(J),'"'+J+'" is not valid component main type in "replaceMerge"'),Q.set(J,!0)}),{replaceMergeMainTypeMap:Q}}var Q_,dw,gv0,Va="\x00_ec_inner",yv0=1,MG1,bG1,J_,mv0,K_;var Ra=h(()=>{H0();l();l0();K7();_6();Lv0();pK();Aa();pw();N5();MG1={grid:"GridComponent",polar:"PolarComponent",geo:"GeoComponent",singleAxis:"SingleAxisComponent",parallel:"ParallelComponent",calendar:"CalendarComponent",matrix:"MatrixComponent",graphic:"GraphicComponent",toolbox:"ToolboxComponent",tooltip:"TooltipComponent",axisPointer:"AxisPointerComponent",brush:"BrushComponent",title:"TitleComponent",timeline:"TimelineComponent",markPoint:"MarkPointComponent",markLine:"MarkLineComponent",markArea:"MarkAreaComponent",legend:"LegendComponent",dataZoom:"DataZoomComponent",visualMap:"VisualMapComponent",xAxis:"GridComponent",yAxis:"GridComponent",angleAxis:"PolarComponent",radiusAxis:"PolarComponent"},bG1={line:"LineChart",bar:"BarChart",pie:"PieChart",scatter:"ScatterChart",radar:"RadarChart",map:"MapChart",tree:"TreeChart",treemap:"TreemapChart",graph:"GraphChart",chord:"ChordChart",gauge:"GaugeChart",funnel:"FunnelChart",parallel:"ParallelChart",sankey:"SankeyChart",boxplot:"BoxplotChart",candlestick:"CandlestickChart",effectScatter:"EffectScatterChart",lines:"LinesChart",heatmap:"HeatmapChart",pictorialBar:"PictorialBarChart",themeRiver:"ThemeRiverChart",sunburst:"SunburstChart",custom:"CustomChart"},J_={};mv0=function($){c(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.init=function(J,K,Y,Z,q,X){Z=Z||{},this.option=null,this._theme=new h1(Z),this._locale=new h1(q),this._optionManager=X},Q.prototype.setOption=function(J,K,Y){M0(J!=null,"option is null/undefined"),M0(J[Va]!==yv0,"please use chart.getOption()");var Z=uv0(K);this._optionManager.setOption(J,Y,Z),this._resetOption(null,Z)},Q.prototype.resetOption=function(J,K){return this._resetOption(J,uv0(K))},Q.prototype._resetOption=function(J,K){var Y=!1,Z=this._optionManager;if(!J||J==="recreate"){var q=Z.mountOption(J==="recreate");if(gG1(q),!this.option||J==="recreate")gv0(this,q);else this.restoreData(),this._mergeOption(q,K);Y=!0}if(J==="timeline"||J==="media")this.restoreData();if(!J||J==="recreate"||J==="timeline"){var X=Z.getTimelineOption(this);if(X)Y=!0,this._mergeOption(X,K)}if(!J||J==="recreate"||J==="media"){var W=Z.getMediaOption(this);if(W.length)S(W,function(F){Y=!0,this._mergeOption(F,K)},this)}return Y},Q.prototype.mergeOption=function(J){this._mergeOption(J,null)},Q.prototype._mergeOption=function(J,K){var Y=this.option,Z=this._componentsMap,q=this._componentsCount,X=[],W=_0(),F=K&&K.replaceMergeMainTypeMap;if(vv0(this),S(J,function(B,z){if(B==null)return;if(!O1.hasClass(z))Y[z]=Y[z]==null?m0(B):F1(Y[z],B,!0);else if(z)X.push(z),W.set(z,!0)}),F)F.each(function(B,z){if(O1.hasClass(z)&&!W.get(z))X.push(z),W.set(z,!0)});O1.topologicalTravel(X,O1.getAllClassMainTypes(),H,this);function H(B){var z=Iv0(this,B,H5(J[B])),A=Z.get(B),R=!A?"replaceAll":F&&F.get(B)?"replaceMerge":"normalMerge",G=uv(A,z,R);pE0(G,B,O1),Y[B]=null,Z.set(B,null),q.set(B,0);var O=[],T=[],D=0,P,j;if(S(G,function(E,L){var{existing:v,newOption:f}=E;if(!f){if(v)v.mergeOption({},this),v.optionUpdated({},!1)}else{var _=B==="series",M=O1.getClass(B,E.keyInfo.subType,!_);if(!M){var b=E.keyInfo.subType,x=bG1[b];if(!J_[b])if(J_[b]=!0,x)S1("Series "+b+` is used but not imported.
import { `+x+` } from 'echarts/charts';
echarts.use([`+x+"]);");else S1("Unknown series "+b);return}if(B==="tooltip"){if(P){if(!j)S5("Currently only one tooltip component is allowed."),j=!0;return}P=!0}if(v&&v.constructor===M)v.name=E.keyInfo.name,v.mergeOption(f,this),v.optionUpdated(f,!1);else{var g=Y0({componentIndex:L},E.keyInfo);if(v=new M(f,this,this,g),Y0(v,g),E.brandNew)v.__requireNewView=!0;v.init(f,this,this),v.optionUpdated(null,!0)}}if(v)O.push(v.option),T.push(v),D++;else O.push(void 0),T.push(void 0)},this),Y[B]=O,Z.set(B,T),q.set(B,D),B==="series")Q_(this)}if(!this._seriesIndices)Q_(this)},Q.prototype.getOption=function(){var J=m0(this.option);return S(J,function(K,Y){if(O1.hasClass(Y)){var Z=H5(K),q=Z.length,X=!1;for(var W=q-1;W>=0;W--)if(Z[W]&&!xX(Z[W]))X=!0;else Z[W]=null,!X&&q--;Z.length=q,J[Y]=Z}}),delete J[Va],J},Q.prototype.setTheme=function(J){this._theme=new h1(J),this._resetOption("recreate",null)},Q.prototype.getTheme=function(){return this._theme},Q.prototype.getLocaleModel=function(){return this._locale},Q.prototype.setUpdatePayload=function(J){this._payload=J},Q.prototype.getUpdatePayload=function(){return this._payload},Q.prototype.getComponent=function(J,K){var Y=this._componentsMap.get(J);if(Y){var Z=Y[K||0];if(Z)return Z;else if(K==null){for(var q=0;q<Y.length;q++)if(Y[q])return Y[q]}}},Q.prototype.queryComponents=function(J){var K=J.mainType;if(!K)return[];var{index:Y,id:Z,name:q}=J,X=this._componentsMap.get(K);if(!X||!X.length)return[];var W;if(Y!=null)W=[],S(H5(Y),function(F){X[F]&&W.push(X[F])});else if(Z!=null)W=xv0("id",Z,X);else if(q!=null)W=xv0("name",q,X);else W=f1(X,function(F){return!!F});return cv0(W,J)},Q.prototype.findComponents=function(J){var{query:K,mainType:Y}=J,Z=X(K),q=Z?this.queryComponents(Z):f1(this._componentsMap.get(Y),function(F){return!!F});return W(cv0(q,J));function X(F){var H=Y+"Index",B=Y+"Id",z=Y+"Name";return F&&(F[H]!=null||F[B]!=null||F[z]!=null)?{mainType:Y,index:F[H],id:F[B],name:F[z]}:null}function W(F){return J.filter?f1(F,J.filter):F}},Q.prototype.eachComponent=function(J,K,Y){var Z=this._componentsMap;if(I0(J)){var q=K,X=J;Z.each(function(B,z){for(var A=0;B&&A<B.length;A++){var R=B[A];R&&X.call(q,z,R,R.componentIndex)}})}else{var W=R0(J)?Z.get(J):y0(J)?this.findComponents(J):null;for(var F=0;W&&F<W.length;F++){var H=W[F];H&&K.call(Y,H,H.componentIndex)}}},Q.prototype.getSeriesByName=function(J){var K=T6(J,null);return f1(this._componentsMap.get("series"),function(Y){return!!Y&&K!=null&&Y.name===K})},Q.prototype.getSeriesByIndex=function(J){return this._componentsMap.get("series")[J]},Q.prototype.getSeriesByType=function(J){return f1(this._componentsMap.get("series"),function(K){return!!K&&K.subType===J})},Q.prototype.getSeries=function(){return f1(this._componentsMap.get("series"),function(J){return!!J})},Q.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},Q.prototype.eachSeries=function(J,K){dw(this),S(this._seriesIndices,function(Y){var Z=this._componentsMap.get("series")[Y];J.call(K,Z,Y)},this)},Q.prototype.eachRawSeries=function(J,K){S(this._componentsMap.get("series"),function(Y){Y&&J.call(K,Y,Y.componentIndex)})},Q.prototype.eachSeriesByType=function(J,K,Y){dw(this),S(this._seriesIndices,function(Z){var q=this._componentsMap.get("series")[Z];if(q.subType===J)K.call(Y,q,Z)},this)},Q.prototype.eachRawSeriesByType=function(J,K,Y){return S(this.getSeriesByType(J),K,Y)},Q.prototype.isSeriesFiltered=function(J){return dw(this),this._seriesIndicesMap.get(J.componentIndex)==null},Q.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},Q.prototype.filterSeries=function(J,K){dw(this);var Y=[];S(this._seriesIndices,function(Z){var q=this._componentsMap.get("series")[Z];J.call(K,q,Z)&&Y.push(Z)},this),this._seriesIndices=Y,this._seriesIndicesMap=_0(Y)},Q.prototype.restoreData=function(J){Q_(this);var K=this._componentsMap,Y=[];K.each(function(Z,q){if(O1.hasClass(q))Y.push(q)}),O1.topologicalTravel(Y,O1.getAllClassMainTypes(),function(Z){S(K.get(Z),function(q){if(q&&(Z!=="series"||!yG1(q,J)))q.restoreData()})})},Q.internalField=function(){Q_=function(J){var K=J._seriesIndices=[];S(J._componentsMap.get("series"),function(Y){Y&&K.push(Y.componentIndex)}),J._seriesIndicesMap=_0(K)},dw=function(J){if(!J._seriesIndices)throw Error("Option should contains series.")},gv0=function(J,K){J.option={},J.option[Va]=yv0,J._componentsMap=_0({series:[]}),J._componentsCount=_0();var Y=K.aria;if(y0(Y)&&Y.enabled==null)Y.enabled=!0;xG1(K,J._theme.option),F1(K,Ev0,!1),J._mergeOption(K,null)}}(),Q}(h1);n5(mv0,uw);K_=mv0});var cG1,uG1,Y_;var Ga=h(()=>{l();cG1=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],uG1=function(){function $(Q){S(cG1,function(J){this[J]=P0(Q[J],Q)},this)}return $}(),Y_=uG1});function dG1($,Q,J){var K=[],Y,Z,q=$.baseOption,X=$.timeline,W=$.options,F=$.media,H=!!$.media,B=!!(W||X||q&&q.timeline);if(q){if(Z=q,!Z.timeline)Z.timeline=X}else{if(B||H)$.options=$.media=null;Z=$}if(H)if(Z0(F))S(F,function(A){if(A&&!A.option&&y0(A.query)&&y0(A.query.option))S1("Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }");if(A&&A.option){if(A.query)K.push(A);else if(!Y)Y=A}});else S1("Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }");z(Z),S(W,function(A){return z(A)}),S(K,function(A){return z(A.option)});function z(A){S(Q,function(R){R(A,J)})}return{baseOption:Z,timelineOptions:W||[],mediaDefault:Y,mediaList:K}}function nG1($,Q,J){var K={width:Q,height:J,aspectratio:Q/J},Y=!0;return S($,function(Z,q){var X=q.match(mG1);if(!X||!X[1]||!X[2])return;var W=X[1],F=X[2].toLowerCase();if(!lG1(K[F],Z,W))Y=!1}),Y}function lG1($,Q,J){if(J==="min")return $>=Q;else if(J==="max")return $<=Q;else return $===Q}function rG1($,Q){return $.join(",")===Q.join(",")}var mG1,pG1,pv0;var dv0=h(()=>{l0();l();N5();mG1=/^(min|max)?(.+)$/,pG1=function(){function $(Q){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=Q}return $.prototype.setOption=function(Q,J,K){if(Q)S(H5(Q.series),function(q){q&&q.data&&U7(q.data)&&kF(q.data)}),S(H5(Q.dataset),function(q){q&&q.source&&U7(q.source)&&kF(q.source)});Q=m0(Q);var Y=this._optionBackup,Z=dG1(Q,J,!Y);if(this._newBaseOption=Z.baseOption,Y){if(Z.timelineOptions.length)Y.timelineOptions=Z.timelineOptions;if(Z.mediaList.length)Y.mediaList=Z.mediaList;if(Z.mediaDefault)Y.mediaDefault=Z.mediaDefault}else this._optionBackup=Z},$.prototype.mountOption=function(Q){var J=this._optionBackup;return this._timelineOptions=J.timelineOptions,this._mediaList=J.mediaList,this._mediaDefault=J.mediaDefault,this._currentMediaIndices=[],m0(Q?J.baseOption:this._newBaseOption)},$.prototype.getTimelineOption=function(Q){var J,K=this._timelineOptions;if(K.length){var Y=Q.getComponent("timeline");if(Y)J=m0(K[Y.getCurrentIndex()])}return J},$.prototype.getMediaOption=function(Q){var J=this._api.getWidth(),K=this._api.getHeight(),Y=this._mediaList,Z=this._mediaDefault,q=[],X=[];if(!Y.length&&!Z)return X;for(var W=0,F=Y.length;W<F;W++)if(nG1(Y[W].query,J,K))q.push(W);if(!q.length&&Z)q=[-1];if(q.length&&!rG1(q,this._currentMediaIndices))X=q0(q,function(H){return m0(H===-1?Z.option:Y[H].option)});return this._currentMediaIndices=q,X},$}();pv0=pG1});function Oa($){var Q=$&&$.itemStyle;if(!Q)return;for(var J=0,K=nv0.length;J<K;J++){var Y=nv0[J],Z=Q.normal,q=Q.emphasis;if(Z&&Z[Y]){if(u6("itemStyle.normal."+Y,Y),$[Y]=$[Y]||{},!$[Y].normal)$[Y].normal=Z[Y];else F1($[Y].normal,Z[Y]);Z[Y]=null}if(q&&q[Y]){if(u6("itemStyle.emphasis."+Y,"emphasis."+Y),$[Y]=$[Y]||{},!$[Y].emphasis)$[Y].emphasis=q[Y];else F1($[Y].emphasis,q[Y]);q[Y]=null}}}function k4($,Q,J){if($&&$[Q]&&($[Q].normal||$[Q].emphasis)){var K=$[Q].normal,Y=$[Q].emphasis;if(K)if(i4("'normal' hierarchy in "+Q+" has been removed since 4.0. All style properties are configured in "+Q+" directly now."),J)$[Q].normal=$[Q].emphasis=null,c0($[Q],K);else $[Q]=K;if(Y){if(i4(Q+".emphasis has been changed to emphasis."+Q+" since 4.0"),$.emphasis=$.emphasis||{},$.emphasis[Q]=Y,Y.focus)$.emphasis.focus=Y.focus;if(Y.blurScope)$.emphasis.blurScope=Y.blurScope}}}function nw($){k4($,"itemStyle"),k4($,"lineStyle"),k4($,"areaStyle"),k4($,"label"),k4($,"labelLine"),k4($,"upperLabel"),k4($,"edgeLabel")}function n7($,Q){var J=lw($)&&$[Q],K=lw(J)&&J.textStyle;if(K){i4("textStyle hierarchy in "+Q+" has been removed since 4.0. All textStyle properties are configured in "+Q+" directly now.");for(var Y=0,Z=Ms.length;Y<Z;Y++){var q=Ms[Y];if(K.hasOwnProperty(q))J[q]=K[q]}}}function i$($){if($)nw($),n7($,"label"),$.emphasis&&n7($.emphasis,"label")}function iG1($){if(!lw($))return;if(Oa($),nw($),n7($,"label"),n7($,"upperLabel"),n7($,"edgeLabel"),$.emphasis)n7($.emphasis,"label"),n7($.emphasis,"upperLabel"),n7($.emphasis,"edgeLabel");var Q=$.markPoint;if(Q)Oa(Q),i$(Q);var J=$.markLine;if(J)Oa(J),i$(J);var K=$.markArea;if(K)i$(K);var Y=$.data;if($.type==="graph"){Y=Y||$.nodes;var Z=$.links||$.edges;if(Z&&!U7(Z))for(var q=0;q<Z.length;q++)i$(Z[q]);S($.categories,function(F){nw(F)})}if(Y&&!U7(Y))for(var q=0;q<Y.length;q++)i$(Y[q]);if(Q=$.markPoint,Q&&Q.data){var X=Q.data;for(var q=0;q<X.length;q++)i$(X[q])}if(J=$.markLine,J&&J.data){var W=J.data;for(var q=0;q<W.length;q++)if(Z0(W[q]))i$(W[q][0]),i$(W[q][1]);else i$(W[q])}if($.type==="gauge")n7($,"axisLabel"),n7($,"title"),n7($,"detail");else if($.type==="treemap")k4($.breadcrumb,"itemStyle"),S($.levels,function(F){nw(F)});else if($.type==="tree")nw($.leaves)}function jZ($){return Z0($)?$:$?[$]:[]}function lv0($){return(Z0($)?$[0]:$)||{}}function wa($,Q){r$(jZ($.series),function(K){lw(K)&&iG1(K)});var J=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];Q&&J.push("valueAxis","categoryAxis","logAxis","timeAxis"),r$(J,function(K){r$(jZ($[K]),function(Y){if(Y)n7(Y,"axisLabel"),n7(Y.axisPointer,"label")})}),r$(jZ($.parallel),function(K){var Y=K&&K.parallelAxisDefault;n7(Y,"axisLabel"),n7(Y&&Y.axisPointer,"label")}),r$(jZ($.calendar),function(K){k4(K,"itemStyle"),n7(K,"dayLabel"),n7(K,"monthLabel"),n7(K,"yearLabel")}),r$(jZ($.radar),function(K){if(n7(K,"name"),K.name&&K.axisName==null)K.axisName=K.name,delete K.name,i4("name property in radar component has been changed to axisName");if(K.nameGap!=null&&K.axisNameGap==null)K.axisNameGap=K.nameGap,delete K.nameGap,i4("nameGap property in radar component has been changed to axisNameGap");r$(K.indicator,function(Y){if(Y.text)u6("text","name","radar.indicator")})}),r$(jZ($.geo),function(K){if(lw(K))i$(K),r$(jZ(K.regions),function(Y){i$(Y)})}),r$(jZ($.timeline),function(K){i$(K),k4(K,"label"),k4(K,"itemStyle"),k4(K,"controlStyle",!0);var Y=K.data;Z0(Y)&&S(Y,function(Z){if(y0(Z))k4(Z,"label"),k4(Z,"itemStyle")})}),r$(jZ($.toolbox),function(K){k4(K,"iconStyle"),r$(K.feature,function(Y){k4(Y,"iconStyle")})}),n7(lv0($.axisPointer),"label"),n7(lv0($.tooltip).axisPointer,"label")}var r$,lw,nv0;var rv0=h(()=>{l();l0();N5();r$=S,lw=y0,nv0=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"]});function sG1($,Q){var J=Q.split(","),K=$;for(var Y=0;Y<J.length;Y++)if(K=K&&K[J[Y]],K==null)break;return K}function oG1($,Q,J,K){var Y=Q.split(","),Z=$,q,X=0;for(;X<Y.length-1;X++){if(q=Y[X],Z[q]==null)Z[q]={};Z=Z[q]}if(K||Z[Y[X]]==null)Z[Y[X]]=J}function iv0($){$&&S(aG1,function(Q){if(Q[0]in $&&!(Q[1]in $))$[Q[1]]=$[Q[0]]})}function rw($){var Q=$&&$.itemStyle;if(Q)for(var J=0;J<Ta.length;J++){var K=Ta[J][1],Y=Ta[J][0];if(Q[K]!=null)Q[Y]=Q[K],u6(K,Y)}}function sv0($){if(!$)return;if($.alignTo==="edge"&&$.margin!=null&&$.edgeDistance==null)u6("label.margin","label.edgeDistance","pie"),$.edgeDistance=$.margin}function ov0($){if(!$)return;if($.downplay&&!$.blur)$.blur=$.downplay,u6("downplay","blur","sunburst")}function eG1($){if(!$)return;if($.focusNodeAdjacency!=null){if($.emphasis=$.emphasis||{},$.emphasis.focus==null)u6("focusNodeAdjacency","emphasis: { focus: 'adjacency'}","graph/sankey"),$.emphasis.focus="adjacency"}}function av0($,Q){if($)for(var J=0;J<$.length;J++)Q($[J]),$[J]&&av0($[J].children,Q)}function Z_($,Q){if(wa($,Q),$.series=H5($.series),S($.series,function(J){if(!y0(J))return;var K=J.type;if(K==="line"){if(J.clipOverflow!=null)J.clip=J.clipOverflow,u6("clipOverflow","clip","line")}else if(K==="pie"||K==="gauge"){if(J.clockWise!=null)J.clockwise=J.clockWise,u6("clockWise","clockwise");sv0(J.label);var Y=J.data;if(Y&&!U7(Y))for(var Z=0;Z<Y.length;Z++)sv0(Y[Z]);if(J.hoverOffset!=null){if(J.emphasis=J.emphasis||{},J.emphasis.scaleSize=null)u6("hoverOffset","emphasis.scaleSize"),J.emphasis.scaleSize=J.hoverOffset}}else if(K==="gauge"){var q=sG1(J,"pointer.color");q!=null&&oG1(J,"itemStyle.color",q)}else if(K==="bar"){rw(J),rw(J.backgroundStyle),rw(J.emphasis);var Y=J.data;if(Y&&!U7(Y)){for(var Z=0;Z<Y.length;Z++)if(typeof Y[Z]==="object")rw(Y[Z]),rw(Y[Z]&&Y[Z].emphasis)}}else if(K==="sunburst"){var X=J.highlightPolicy;if(X){if(J.emphasis=J.emphasis||{},!J.emphasis.focus)J.emphasis.focus=X,u6("highlightPolicy","emphasis.focus","sunburst")}ov0(J),av0(J.data,ov0)}else if(K==="graph"||K==="sankey")eG1(J);else if(K==="map"){if(J.mapType&&!J.map)u6("mapType","map","map"),J.map=J.mapType;if(J.mapLocation)i4("`mapLocation` is not used anymore."),c0(J,J.mapLocation)}if(J.hoverAnimation!=null){if(J.emphasis=J.emphasis||{},J.emphasis&&J.emphasis.scale==null)u6("hoverAnimation","emphasis.scale"),J.emphasis.scale=J.hoverAnimation}iv0(J)}),$.dataRange)$.visualMap=$.dataRange;S(tG1,function(J){var K=$[J];if(K){if(!Z0(K))K=[K];S(K,function(Y){iv0(Y)})}})}var aG1,tG1,Ta;var tv0=h(()=>{l();rv0();l0();N5();aG1=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],tG1=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Ta=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]]});function Da($){var Q=_0();$.eachSeries(function(J){var K=J.get("stack");if(K){var Y=Q.get(K)||Q.set(K,[]),Z=J.getData(),q={stackResultDimension:Z.getCalculationInfo("stackResultDimension"),stackedOverDimension:Z.getCalculationInfo("stackedOverDimension"),stackedDimension:Z.getCalculationInfo("stackedDimension"),stackedByDimension:Z.getCalculationInfo("stackedByDimension"),isStackedByIndex:Z.getCalculationInfo("isStackedByIndex"),data:Z,seriesModel:J};if(!q.stackedDimension||!(q.isStackedByIndex||q.stackedByDimension))return;Y.push(q)}}),Q.each(function(J){if(J.length===0)return;var K=J[0].seriesModel,Y=K.get("stackOrder")||"seriesAsc";if(Y==="seriesDesc")J.reverse();S(J,function(Z,q){Z.data.setCalculationInfo("stackedOnSeries",q>0?J[q-1].seriesModel:null)}),$O1(J)})}function $O1($){S($,function(Q,J){var K=[],Y=[NaN,NaN],Z=[Q.stackResultDimension,Q.stackedOverDimension],q=Q.data,X=Q.isStackedByIndex,W=Q.seriesModel.get("stackStrategy")||"samesign";q.modify(Z,function(F,H,B){var z=q.get(Q.stackedDimension,B);if(isNaN(z))return Y;var A,R;if(X)R=q.getRawIndex(B);else A=q.get(Q.stackedByDimension,B);var G=NaN;for(var O=J-1;O>=0;O--){var T=$[O];if(!X)R=T.data.rawIndexOf(T.stackedByDimension,A);if(R>=0){var D=T.data.getByRawIndex(T.stackResultDimension,R);if(W==="all"||W==="positive"&&D>0||W==="negative"&&D<0||W==="samesign"&&z>=0&&D>0||W==="samesign"&&z<=0&&D<0){z=SE0(z,D),G=D;break}}}return K[0]=z,K[1]=G,K})})}var ev0=h(()=>{l();k1()});function fz($){return $ instanceof q_}function iw($,Q,J){J=J||Ca($);var K=Q.seriesLayoutBy,Y=QO1($,J,K,Q.sourceHeader,Q.dimensions),Z=new q_({data:$,sourceFormat:J,seriesLayoutBy:K,dimensionsDefine:Y.dimensionsDefine,startIndex:Y.startIndex,dimensionsDetectedCount:Y.dimensionsDetectedCount,metaRawOption:m0(Q)});return Z}function Iz($){return new q_({data:$,sourceFormat:U7($)?v3:A8})}function JS0($){return new q_({data:$.data,sourceFormat:$.sourceFormat,seriesLayoutBy:$.seriesLayoutBy,dimensionsDefine:m0($.dimensionsDefine),startIndex:$.startIndex,dimensionsDetectedCount:$.dimensionsDetectedCount})}function Ca($){var Q=Ba;if(U7($))Q=v3;else if(Z0($)){if($.length===0)Q=N7;for(var J=0,K=$.length;J<K;J++){var Y=$[J];if(Y==null)continue;else if(Z0(Y)||U7(Y)){Q=N7;break}else if(y0(Y)){Q=v8;break}}}else if(y0($)){for(var Z in $)if(p0($,Z)&&F7($[Z])){Q=p9;break}}return Q}function QO1($,Q,J,K,Y){var Z,q;if(!$)return{dimensionsDefine:$S0(Y),startIndex:q,dimensionsDetectedCount:Z};if(Q===N7){var X=$;if(K==="auto"||K==null)QS0(function(F){if(F!=null&&F!=="-")if(R0(F))q==null&&(q=1);else q=0},J,X,10);else q=V1(K)?K:K?1:0;if(!Y&&q===1)Y=[],QS0(function(F,H){Y[H]=F!=null?F+"":""},J,X,1/0);Z=Y?Y.length:J===mK?X.length:X[0]?X[0].length:null}else if(Q===v8){if(!Y)Y=JO1($)}else if(Q===p9){if(!Y)Y=[],S($,function(F,H){Y.push(H)})}else if(Q===A8){var W=sQ($[0]);Z=Z0(W)&&W.length||1}else if(Q===v3)M0(!!Y,"dimensions must be given if data is TypedArray.");return{startIndex:q,dimensionsDefine:$S0(Y),dimensionsDetectedCount:Z}}function JO1($){var Q=0,J;while(Q<$.length&&!(J=$[Q++]));if(J)return N1(J)}function $S0($){if(!$)return;var Q=_0();return q0($,function(J,K){J=y0(J)?J:{name:J};var Y={name:J.name,displayName:J.displayName,type:J.type};if(Y.name==null)return Y;if(Y.name+="",Y.displayName==null)Y.displayName=Y.name;var Z=Q.get(Y.name);if(!Z)Q.set(Y.name,{count:1});else Y.name+="-"+Z.count++;return Y})}function QS0($,Q,J,K){if(Q===mK)for(var Y=0;Y<J.length&&Y<K;Y++)$(J[Y]?J[Y][0]:null,Y);else{var Z=J[0]||[];for(var Y=0;Y<Z.length&&Y<K;Y++)$(Z[Y],Y)}}function X_($){var Q=$.sourceFormat;return Q===v8||Q===p9}var q_;var EZ=h(()=>{l();S3();l0();pK();q_=function(){function $(Q){this.data=Q.data||(Q.sourceFormat===p9?{}:[]),this.sourceFormat=Q.sourceFormat||Ba,this.seriesLayoutBy=Q.seriesLayoutBy||$9,this.startIndex=Q.startIndex||0,this.dimensionsDetectedCount=Q.dimensionsDetectedCount,this.metaRawOption=Q.metaRawOption;var J=this.dimensionsDefine=Q.dimensionsDefine;if(J)for(var K=0;K<J.length;K++){var Y=J[K];if(Y.type==null){if($_(this,K)===V8.Must)Y.type="ordinal"}}}return $}()});function ka($,Q){var J=YO1[F_($,Q)];return M0(J,'Do not support get item on "'+$+'", "'+Q+'".'),J}function ja($,Q){var J=ZO1[F_($,Q)];return M0(J,'Do not support count on "'+$+'", "'+Q+'".'),J}function Ea($){var Q=qO1[$];return M0(Q,'Do not support get value on "'+$+'".'),Q}function F_($,Q){return $===N7?$+"_"+Q:$}function LZ($,Q,J){if(!$)return;var K=$.getRawDataItem(Q);if(K==null)return;var Y=$.getStore(),Z=Y.getSource().sourceFormat;if(J!=null){var q=$.getDimensionIndex(J),X=Y.getDimensionProperty(q);return Ea(Z)(K,q,X)}else{var W=K;if(Z===A8)W=sQ(K);return W}}var DU,CU,PU,kU,KS0,YS0,U_,W_=function($){if(!Z0($))S1("series.data or dataset.source must be an array.")},KO1,ZS0=function($,Q,J,K){return $[K]},YO1,qS0=function($,Q,J){return $.length},ZO1,Pa=function($,Q,J){return $[Q]},qO1;var jU=h(()=>{l();l0();EZ();S3();N5();U_=function(){function $(Q,J){var K=!fz(Q)?Iz(Q):Q;this._source=K;var Y=this._data=K.data,Z=K.sourceFormat,q=K.seriesLayoutBy;if(Z===v3){if(J==null)throw Error("Typed array data must specify dimension size");this._offset=0,this._dimSize=J,this._data=Y}var X=KO1[F_(Z,q)];X&&X(Y,K.dimensionsDefine),YS0(this,Y,K)}return $.prototype.getSource=function(){return this._source},$.prototype.count=function(){return 0},$.prototype.getItem=function(Q,J){return},$.prototype.appendData=function(Q){},$.prototype.clean=function(){},$.protoInitialize=function(){var Q=$.prototype;Q.pure=!1,Q.persistent=!0}(),$.internalField=function(){var Q;YS0=function(q,X,W){var{sourceFormat:F,seriesLayoutBy:H,startIndex:B,dimensionsDefine:z}=W,A=KS0[F_(F,H)];if(M0(A,"Invalide sourceFormat: "+F),Y0(q,A),F===v3)q.getItem=J,q.count=Y,q.fillStorage=K;else{var R=ka(F,H);q.getItem=P0(R,null,X,B,z);var G=ja(F,H);q.count=P0(G,null,X,B,z)}};var J=function(q,X){q=q-this._offset,X=X||[];var W=this._data,F=this._dimSize,H=F*q;for(var B=0;B<F;B++)X[B]=W[H+B];return X},K=function(q,X,W,F){var H=this._data,B=this._dimSize;for(var z=0;z<B;z++){var A=F[z],R=A[0]==null?1/0:A[0],G=A[1]==null?-1/0:A[1],O=X-q,T=W[z];for(var D=0;D<O;D++){var P=H[D*B+z];T[q+D]=P,P<R&&(R=P),P>G&&(G=P)}A[0]=R,A[1]=G}},Y=function(){return this._data?this._data.length/this._dimSize:0};KS0=(Q={},Q[N7+"_"+$9]={pure:!0,appendData:Z},Q[N7+"_"+mK]={pure:!0,appendData:function(){throw Error('Do not support appendData when set seriesLayoutBy: "row".')}},Q[v8]={pure:!0,appendData:Z},Q[p9]={pure:!0,appendData:function(q){var X=this._data;S(q,function(W,F){var H=X[F]||(X[F]=[]);for(var B=0;B<(W||[]).length;B++)H.push(W[B])})}},Q[A8]={appendData:Z},Q[v3]={persistent:!1,pure:!0,appendData:function(q){M0(U7(q),"Added data must be TypedArray if data in initialization is TypedArray"),this._data=q},clean:function(){this._offset+=this.count(),this._data=null}},Q);function Z(q){for(var X=0;X<q.length;X++)this._data.push(q[X])}}(),$}(),KO1=(DU={},DU[N7+"_"+$9]=W_,DU[N7+"_"+mK]=W_,DU[v8]=W_,DU[p9]=function($,Q){for(var J=0;J<Q.length;J++){var K=Q[J].name;if(K==null)S1("dimension name must not be null/undefined.")}},DU[A8]=W_,DU),YO1=(CU={},CU[N7+"_"+$9]=function($,Q,J,K){return $[K+Q]},CU[N7+"_"+mK]=function($,Q,J,K,Y){K+=Q;var Z=Y||[],q=$;for(var X=0;X<q.length;X++){var W=q[X];Z[X]=W?W[K]:null}return Z},CU[v8]=ZS0,CU[p9]=function($,Q,J,K,Y){var Z=Y||[];for(var q=0;q<J.length;q++){var X=J[q].name,W=X!=null?$[X]:null;Z[q]=W?W[K]:null}return Z},CU[A8]=ZS0,CU);ZO1=(PU={},PU[N7+"_"+$9]=function($,Q,J){return Math.max(0,$.length-Q)},PU[N7+"_"+mK]=function($,Q,J){var K=$[0];return K?Math.max(0,K.length-Q):0},PU[v8]=qS0,PU[p9]=function($,Q,J){var K=J[0].name,Y=K!=null?$[K]:null;return Y?Y.length:0},PU[A8]=qS0,PU);qO1=(kU={},kU[N7]=Pa,kU[v8]=function($,Q,J){return $[J]},kU[p9]=Pa,kU[A8]=function($,Q,J){var K=sQ($);return!(K instanceof Array)?K:K[Q]},kU[v3]=Pa,kU)});function La($){var Q,J;if(y0($))if($.type)J=$;else console.warn("The return type of `formatTooltip` is not supported: "+_7($));else Q=$;return{text:Q,frag:J}}var XO1,EU;var sw=h(()=>{l();jU();P4();N5();XO1=/\{@(.+?)\}/g,EU=function(){function $(){}return $.prototype.getDataParams=function(Q,J){var K=this.getData(J),Y=this.getRawValue(Q,J),Z=K.getRawIndex(Q),q=K.getName(Q),X=K.getRawDataItem(Q),W=K.getItemVisual(Q,"style"),F=W&&W[K.getItemVisual(Q,"drawType")||"fill"],H=W&&W.stroke,B=this.mainType,z=B==="series",A=K.userOutput&&K.userOutput.get();return{componentType:B,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:z?this.subType:null,seriesIndex:this.seriesIndex,seriesId:z?this.id:null,seriesName:z?this.name:null,name:q,dataIndex:Z,data:X,dataType:J,value:Y,color:F,borderColor:H,dimensionNames:A?A.fullDimensions:null,encode:A?A.encode:null,$vars:["seriesName","name","value"]}},$.prototype.getFormattedLabel=function(Q,J,K,Y,Z,q){J=J||"normal";var X=this.getData(K),W=this.getDataParams(Q,K);if(q)W.value=q.interpolatedValue;if(Y!=null&&Z0(W.value))W.value=W.value[Y];if(!Z){var F=X.getItemModel(Q);Z=F.get(J==="normal"?["label","formatter"]:[J,"label","formatter"])}if(I0(Z))return W.status=J,W.dimensionIndex=Y,Z(W);else if(R0(Z)){var H=pS(Z,W);return H.replace(XO1,function(B,z){var A=z.length,R=z;if(R.charAt(0)==="["&&R.charAt(A-1)==="]"){if(R=+R.slice(1,A-1),isNaN(R))S1("Invalide label formatter: @"+z+", only support @[0], @[1], @[2], ...")}var G=LZ(X,Q,R);if(q&&Z0(q.interpolatedValue)){var O=X.getDimensionIndex(R);if(O>=0)G=q.interpolatedValue[O]}return G!=null?G+"":""})}},$.prototype.getRawValue=function(Q,J){return LZ(this.getData(J),Q)},$.prototype.formatTooltip=function(Q,J,K){return},$}()});function sX($){return new WO1($)}var WO1,XS0;var H_=h(()=>{l();WO1=function(){function $(Q){Q=Q||{},this._reset=Q.reset,this._plan=Q.plan,this._count=Q.count,this._onDirty=Q.onDirty,this._dirty=!0}return $.prototype.perform=function(Q){var J=this._upstream,K=Q&&Q.skip;if(this._dirty&&J){var Y=this.context;Y.data=Y.outputData=J.context.outputData}if(this.__pipeline)this.__pipeline.currentTask=this;var Z;if(this._plan&&!K)Z=this._plan(this.context);var q=H(this._modBy),X=this._modDataCount||0,W=H(Q&&Q.modBy),F=Q&&Q.modDataCount||0;if(q!==W||X!==F)Z="reset";function H(D){return!(D>=1)&&(D=1),D}var B;if(this._dirty||Z==="reset")this._dirty=!1,B=this._doReset(K);this._modBy=W,this._modDataCount=F;var z=Q&&Q.step;if(J)M0(J._outputDueEnd!=null),this._dueEnd=J._outputDueEnd;else M0(!this._progress||this._count),this._dueEnd=this._count?this._count(this.context):1/0;if(this._progress){var A=this._dueIndex,R=Math.min(z!=null?this._dueIndex+z:1/0,this._dueEnd);if(!K&&(B||A<R)){var G=this._progress;if(Z0(G))for(var O=0;O<G.length;O++)this._doProgress(G[O],A,R,W,F);else this._doProgress(G,A,R,W,F)}this._dueIndex=R;var T=this._settedOutputEnd!=null?this._settedOutputEnd:R;M0(T>=this._outputDueEnd),this._outputDueEnd=T}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},$.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},$.prototype._doProgress=function(Q,J,K,Y,Z){XS0.reset(J,K,Y,Z),this._callingProgress=Q,this._callingProgress({start:J,end:K,count:K-J,next:XS0.next},this.context)},$.prototype._doReset=function(Q){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var J,K;if(!Q&&this._reset){if(J=this._reset(this.context),J&&J.progress)K=J.forceFirstProgress,J=J.progress;if(Z0(J)&&!J.length)J=null}this._progress=J,this._modBy=this._modDataCount=null;var Y=this._downstream;return Y&&Y.dirty(),K},$.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},$.prototype.pipe=function(Q){if(M0(Q&&!Q._disposed&&Q!==this),this._downstream!==Q||this._dirty)this._downstream=Q,Q._upstream=this,Q.dirty()},$.prototype.dispose=function(){if(this._disposed)return;this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0},$.prototype.getUpstream=function(){return this._upstream},$.prototype.getDownstream=function(){return this._downstream},$.prototype.setOutputEnd=function(Q){this._outputDueEnd=this._settedOutputEnd=Q},$}(),XS0=function(){var $,Q,J,K,Y,Z={reset:function(W,F,H,B){Q=W,$=F,J=H,K=B,Y=Math.ceil(K/J),Z.next=J>1&&K>0?X:q}};return Z;function q(){return Q<$?Q++:null}function X(){var W=Q%Y*J+Math.ceil(Q/Y),F=Q>=$?null:W<K?W:Q;return Q++,F}}()});function s$($,Q){var J=Q&&Q.type;if(J==="ordinal")return $;if(J==="time"&&!V1($)&&$!=null&&$!=="-")$=+b$($);return $==null||$===""?NaN:Number($)}function N_($){return FO1.get($)}function FS0($,Q){return $==="eq"||$==="ne"?new HO1($==="eq",Q):p0(WS0,$)?new UO1($,Q):null}var FO1,WS0,UO1,B_,HO1;var oX=h(()=>{k1();l();N5();FO1=_0({number:function($){return parseFloat($)},time:function($){return+b$($)},trim:function($){return R0($)?m7($):$}});WS0={lt:function($,Q){return $<Q},lte:function($,Q){return $<=Q},gt:function($,Q){return $>Q},gte:function($,Q){return $>=Q}},UO1=function(){function $(Q,J){if(!V1(J)){var K="";K='rvalue of "<", ">", "<=", ">=" can only be number in filter.',U5(K)}this._opFn=WS0[Q],this._rvalFloat=g$(J)}return $.prototype.evaluate=function(Q){return V1(Q)?this._opFn(Q,this._rvalFloat):this._opFn(g$(Q),this._rvalFloat)},$}(),B_=function(){function $(Q,J){var K=Q==="desc";if(this._resultLT=K?1:-1,J==null)J=K?"min":"max";this._incomparable=J==="min"?-1/0:1/0}return $.prototype.evaluate=function(Q,J){var K=V1(Q)?Q:g$(Q),Y=V1(J)?J:g$(J),Z=isNaN(K),q=isNaN(Y);if(Z)K=this._incomparable;if(q)Y=this._incomparable;if(Z&&q){var X=R0(Q),W=R0(J);if(X)K=W?Q:0;if(W)Y=X?J:0}return K<Y?this._resultLT:K>Y?-this._resultLT:0},$}(),HO1=function(){function $(Q,J){this._rval=J,this._isEQ=Q,this._rvalTypeof=typeof J,this._rvalFloat=g$(J)}return $.prototype.evaluate=function(Q){var J=Q===this._rval;if(!J){var K=typeof Q;if(K!==this._rvalTypeof&&(K==="number"||this._rvalTypeof==="number"))J=g$(Q)===this._rvalFloat}return this._isEQ?J:!J},$}()});function BO1($,Q){var J=new NO1,K=$.data,Y=J.sourceFormat=$.sourceFormat,Z=$.startIndex,q="";if($.seriesLayoutBy!==$9)q='`seriesLayoutBy` of upstream dataset can only be "column" in data transform.',U5(q);var X=[],W={},F=$.dimensionsDefine;if(F)S(F,function(G,O){var T=G.name,D={index:O,name:T,displayName:G.displayName};if(X.push(D),T!=null){var P="";if(p0(W,T))P='dimension name "'+T+'" duplicated.',U5(P);W[T]=D}});else for(var H=0;H<$.dimensionsDetectedCount;H++)X.push({index:H});var B=ka(Y,$9);if(Q.__isBuiltIn)J.getRawDataItem=function(G){return B(K,Z,X,G)},J.getRawData=P0(zO1,null,$);J.cloneRawData=P0(AO1,null,$);var z=ja(Y,$9);J.count=P0(z,null,K,Z,X);var A=Ea(Y);J.retrieveValue=function(G,O){var T=B(K,Z,X,G);return R(T,O)};var R=J.retrieveValueFromItem=function(G,O){if(G==null)return;var T=X[O];if(T)return A(G,O,T.name)};return J.getDimensionInfo=P0(VO1,null,X,W),J.cloneAllDimensionInfo=P0(RO1,null,X),J}function zO1($){var Q=$.sourceFormat;if(!ha(Q)){var J="";J="`getRawData` is not supported in source format "+Q,U5(J)}return $.data}function AO1($){var{sourceFormat:Q,data:J}=$;if(!ha(Q)){var K="";K="`cloneRawData` is not supported in source format "+Q,U5(K)}if(Q===N7){var Y=[];for(var Z=0,q=J.length;Z<q;Z++)Y.push(J[Z].slice());return Y}else if(Q===v8){var Y=[];for(var Z=0,q=J.length;Z<q;Z++)Y.push(Y0({},J[Z]));return Y}}function VO1($,Q,J){if(J==null)return;if(V1(J)||!isNaN(J)&&!p0(Q,J))return $[J];else if(p0(Q,J))return Q[J]}function RO1($){return m0($)}function HS0($){$=m0($);var Q=$.type,J="";if(!Q)J="Must have a `type` when `registerTransform`.",U5(J);var K=Q.split(":");if(K.length!==2)J='Name must include namespace like "ns:regression".',U5(J);var Y=!1;if(K[0]==="echarts")Q=K[1],Y=!0;$.__isBuiltIn=Y,US0.set(Q,$)}function NS0($,Q,J){var K=H5($),Y=K.length,Z="";if(!Y)Z="If `transform` declared, it should at least contain one transform.",U5(Z);for(var q=0,X=Y;q<X;q++){var W=K[q];if(Q=GO1(W,Q,J,Y===1?null:q),q!==X-1)Q.length=Math.max(Q.length,1)}return Q}function GO1($,Q,J,K){var Y="";if(!Q.length)Y="Must have at least one upstream dataset.",U5(Y);if(!y0($))Y="transform declaration must be an object rather than "+typeof $+".",U5(Y);var Z=$.type,q=US0.get(Z);if(!q)Y='Can not find transform on type "'+Z+'".',U5(Y);var X=q0(Q,function(H){return BO1(H,q)}),W=H5(q.transform({upstream:X[0],upstreamList:X,config:m0($.config)}));if($.print){var F=q0(W,function(H){var B=K!=null?" === pipe index: "+K:"";return["=== dataset index: "+J.datasetIndex+B+" ===","- transform result data:",_7(H.data),"- transform result dimensions:",_7(H.dimensions)].join(`
`)}).join(`
`);cv(F)}return q0(W,function(H,B){var z="";if(!y0(H))z="A transform should not return some empty results.",U5(z);if(!H.data)z="Transform result data should be not be null or undefined",U5(z);var A=Ca(H.data);if(!ha(A))z="Transform result data should be array rows or object rows.",U5(z);var R,G=Q[0];if(G&&B===0&&!H.dimensions){var O=G.startIndex;if(O)H.data=G.data.slice(0,O).concat(H.data);R={seriesLayoutBy:$9,sourceHeader:O,dimensions:G.metaRawOption.dimensions}}else R={seriesLayoutBy:$9,sourceHeader:0,dimensions:H.dimensions};return iw(H.data,R,null)})}function ha($){return $===N7||$===v8}var NO1,US0;var va=h(()=>{S3();l0();l();jU();oX();N5();EZ();NO1=function(){function $(){}return $.prototype.getRawData=function(){throw Error("not supported")},$.prototype.getRawDataItem=function(Q){throw Error("not supported")},$.prototype.cloneRawData=function(){return},$.prototype.getDimensionInfo=function(Q){return},$.prototype.cloneAllDimensionInfo=function(){return},$.prototype.count=function(){return},$.prototype.retrieveValue=function(Q,J){return},$.prototype.retrieveValueFromItem=function(Q,J){return},$.prototype.convertValue=function(Q,J){return s$(Q,J)},$}();US0=_0()});function Mz($){return $>65535?OO1:wO1}function bz(){return[1/0,-1/0]}function TO1($){var Q=$.constructor;return Q===Array?$.slice():new Q($)}function zS0($,Q,J,K,Y){var Z=AS0[J||"float"];if(Y){var q=$[Q],X=q&&q.length;if(X!==K){var W=new Z(K);for(var F=0;F<X;F++)W[F]=q[F];$[Q]=W}}else $[Q]=new Z(K)}var z_="undefined",OO1,wO1,_a,BS0,AS0,Sa,DO1,ow;var A_=h(()=>{l();oX();EZ();OO1=typeof Uint32Array===z_?Array:Uint32Array,wO1=typeof Uint16Array===z_?Array:Uint16Array,_a=typeof Int32Array===z_?Array:Int32Array,BS0=typeof Float64Array===z_?Array:Float64Array,AS0={float:BS0,int:_a,ordinal:Array,number:Array,time:BS0};DO1=function(){function $(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=_0()}return $.prototype.initData=function(Q,J,K){M0(I0(Q.getItem)&&I0(Q.count),"Invalid data provider."),this._provider=Q,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var Y=Q.getSource(),Z=this.defaultDimValueGetter=Sa[Y.sourceFormat];this._dimValueGetter=K||Z,this._rawExtent=[];var q=X_(Y);this._dimensions=q0(J,function(X){if(q)M0(X.property!=null);return{type:X.type,property:X.property}}),this._initDataFromProvider(0,Q.count())},$.prototype.getProvider=function(){return this._provider},$.prototype.getSource=function(){return this._provider.getSource()},$.prototype.ensureCalculationDimension=function(Q,J){var K=this._calcDimNameToIdx,Y=this._dimensions,Z=K.get(Q);if(Z!=null){if(Y[Z].type===J)return Z}else Z=Y.length;return Y[Z]={type:J},K.set(Q,Z),this._chunks[Z]=new AS0[J||"float"](this._rawCount),this._rawExtent[Z]=bz(),Z},$.prototype.collectOrdinalMeta=function(Q,J){var K=this._chunks[Q],Y=this._dimensions[Q],Z=this._rawExtent,q=Y.ordinalOffset||0,X=K.length;if(q===0)Z[Q]=bz();var W=Z[Q];for(var F=q;F<X;F++){var H=K[F]=J.parseAndCollect(K[F]);if(!isNaN(H))W[0]=Math.min(H,W[0]),W[1]=Math.max(H,W[1])}Y.ordinalMeta=J,Y.ordinalOffset=X,Y.type="ordinal"},$.prototype.getOrdinalMeta=function(Q){var J=this._dimensions[Q],K=J.ordinalMeta;return K},$.prototype.getDimensionProperty=function(Q){var J=this._dimensions[Q];return J&&J.property},$.prototype.appendData=function(Q){M0(!this._indices,"appendData can only be called on raw data.");var J=this._provider,K=this.count();J.appendData(Q);var Y=J.count();if(!J.persistent)Y+=K;if(K<Y)this._initDataFromProvider(K,Y,!0);return[K,Y]},$.prototype.appendValues=function(Q,J){var K=this._chunks,Y=this._dimensions,Z=Y.length,q=this._rawExtent,X=this.count(),W=X+Math.max(Q.length,J||0);for(var F=0;F<Z;F++){var H=Y[F];zS0(K,F,H.type,W,!0)}var B=[];for(var z=X;z<W;z++){var A=z-X;for(var R=0;R<Z;R++){var H=Y[R],G=Sa.arrayRows.call(this,Q[A]||B,H.property,A,R);K[R][z]=G;var O=q[R];G<O[0]&&(O[0]=G),G>O[1]&&(O[1]=G)}}return this._rawCount=this._count=W,{start:X,end:W}},$.prototype._initDataFromProvider=function(Q,J,K){var Y=this._provider,Z=this._chunks,q=this._dimensions,X=q.length,W=this._rawExtent,F=q0(q,function(D){return D.property});for(var H=0;H<X;H++){var B=q[H];if(!W[H])W[H]=bz();zS0(Z,H,B.type,J,K)}if(Y.fillStorage)Y.fillStorage(Q,J,Z,W);else{var z=[];for(var A=Q;A<J;A++){z=Y.getItem(A,z);for(var R=0;R<X;R++){var G=Z[R],O=this._dimValueGetter(z,F[R],A,R);G[A]=O;var T=W[R];O<T[0]&&(T[0]=O),O>T[1]&&(T[1]=O)}}}if(!Y.persistent&&Y.clean)Y.clean();this._rawCount=this._count=J,this._extent=[]},$.prototype.count=function(){return this._count},$.prototype.get=function(Q,J){if(!(J>=0&&J<this._count))return NaN;var K=this._chunks[Q];return K?K[this.getRawIndex(J)]:NaN},$.prototype.getValues=function(Q,J){var K=[],Y=[];if(J==null){J=Q,Q=[];for(var Z=0;Z<this._dimensions.length;Z++)Y.push(Z)}else Y=Q;for(var Z=0,q=Y.length;Z<q;Z++)K.push(this.get(Y[Z],J));return K},$.prototype.getByRawIndex=function(Q,J){if(!(J>=0&&J<this._rawCount))return NaN;var K=this._chunks[Q];return K?K[J]:NaN},$.prototype.getSum=function(Q){var J=this._chunks[Q],K=0;if(J)for(var Y=0,Z=this.count();Y<Z;Y++){var q=this.get(Q,Y);if(!isNaN(q))K+=q}return K},$.prototype.getMedian=function(Q){var J=[];this.each([Q],function(Z){if(!isNaN(Z))J.push(Z)});var K=J.sort(function(Z,q){return Z-q}),Y=this.count();return Y===0?0:Y%2===1?K[(Y-1)/2]:(K[Y/2]+K[Y/2-1])/2},$.prototype.indexOfRawIndex=function(Q){if(Q>=this._rawCount||Q<0)return-1;if(!this._indices)return Q;var J=this._indices,K=J[Q];if(K!=null&&K<this._count&&K===Q)return Q;var Y=0,Z=this._count-1;while(Y<=Z){var q=(Y+Z)/2|0;if(J[q]<Q)Y=q+1;else if(J[q]>Q)Z=q-1;else return q}return-1},$.prototype.getIndices=function(){var Q,J=this._indices;if(J){var K=J.constructor,Y=this._count;if(K===Array){Q=new K(Y);for(var Z=0;Z<Y;Z++)Q[Z]=J[Z]}else Q=new K(J.buffer,0,Y)}else{var K=Mz(this._rawCount);Q=new K(this.count());for(var Z=0;Z<Q.length;Z++)Q[Z]=Z}return Q},$.prototype.filter=function(Q,J){if(!this._count)return this;var K=this.clone(),Y=K.count(),Z=Mz(K._rawCount),q=new Z(Y),X=[],W=Q.length,F=0,H=Q[0],B=K._chunks;for(var z=0;z<Y;z++){var A=void 0,R=K.getRawIndex(z);if(W===0)A=J(z);else if(W===1){var G=B[H][R];A=J(G,z)}else{var O=0;for(;O<W;O++)X[O]=B[Q[O]][R];X[O]=z,A=J.apply(null,X)}if(A)q[F++]=R}if(F<Y)K._indices=q;return K._count=F,K._extent=[],K._updateGetRawIdx(),K},$.prototype.selectRange=function(Q){var J=this.clone(),K=J._count;if(!K)return this;var Y=N1(Q),Z=Y.length;if(!Z)return this;var q=J.count(),X=Mz(J._rawCount),W=new X(q),F=0,H=Y[0],B=Q[H][0],z=Q[H][1],A=J._chunks,R=!1;if(!J._indices){var G=0;if(Z===1){var O=A[Y[0]];for(var T=0;T<K;T++){var D=O[T];if(D>=B&&D<=z||isNaN(D))W[F++]=G;G++}R=!0}else if(Z===2){var O=A[Y[0]],P=A[Y[1]],j=Q[Y[1]][0],E=Q[Y[1]][1];for(var T=0;T<K;T++){var D=O[T],L=P[T];if((D>=B&&D<=z||isNaN(D))&&(L>=j&&L<=E||isNaN(L)))W[F++]=G;G++}R=!0}}if(!R)if(Z===1)for(var T=0;T<q;T++){var v=J.getRawIndex(T),D=A[Y[0]][v];if(D>=B&&D<=z||isNaN(D))W[F++]=v}else for(var T=0;T<q;T++){var f=!0,v=J.getRawIndex(T);for(var _=0;_<Z;_++){var M=Y[_],D=A[M][v];if(D<Q[M][0]||D>Q[M][1])f=!1}if(f)W[F++]=J.getRawIndex(T)}if(F<q)J._indices=W;return J._count=F,J._extent=[],J._updateGetRawIdx(),J},$.prototype.map=function(Q,J){var K=this.clone(Q);return this._updateDims(K,Q,J),K},$.prototype.modify=function(Q,J){this._updateDims(this,Q,J)},$.prototype._updateDims=function(Q,J,K){var Y=Q._chunks,Z=[],q=J.length,X=Q.count(),W=[],F=Q._rawExtent;for(var H=0;H<J.length;H++)F[J[H]]=bz();for(var B=0;B<X;B++){var z=Q.getRawIndex(B);for(var A=0;A<q;A++)W[A]=Y[J[A]][z];W[q]=B;var R=K&&K.apply(null,W);if(R!=null){if(typeof R!=="object")Z[0]=R,R=Z;for(var H=0;H<R.length;H++){var G=J[H],O=R[H],T=F[G],D=Y[G];if(D)D[z]=O;if(O<T[0])T[0]=O;if(O>T[1])T[1]=O}}}},$.prototype.lttbDownSample=function(Q,J){var K=this.clone([Q],!0),Y=K._chunks,Z=Y[Q],q=this.count(),X=0,W=Math.floor(1/J),F=this.getRawIndex(0),H,B,z,A=new(Mz(this._rawCount))(Math.min((Math.ceil(q/W)+2)*2,q));A[X++]=F;for(var R=1;R<q-1;R+=W){var G=Math.min(R+W,q-1),O=Math.min(R+W*2,q),T=(O+G)/2,D=0;for(var P=G;P<O;P++){var j=this.getRawIndex(P),E=Z[j];if(isNaN(E))continue;D+=E}D/=O-G;var L=R,v=Math.min(R+W,q),f=R-1,_=Z[F];H=-1,z=L;var M=-1,b=0;for(var P=L;P<v;P++){var j=this.getRawIndex(P),E=Z[j];if(isNaN(E)){if(b++,M<0)M=j;continue}if(B=Math.abs((f-T)*(E-_)-(f-P)*(D-_)),B>H)H=B,z=j}if(b>0&&b<v-L)A[X++]=Math.min(M,z),z=Math.max(M,z);A[X++]=z,F=z}return A[X++]=this.getRawIndex(q-1),K._count=X,K._indices=A,K.getRawIndex=this._getRawIdx,K},$.prototype.minmaxDownSample=function(Q,J){var K=this.clone([Q],!0),Y=K._chunks,Z=Math.floor(1/J),q=Y[Q],X=this.count(),W=new(Mz(this._rawCount))(Math.ceil(X/Z)*2),F=0;for(var H=0;H<X;H+=Z){var B=H,z=q[this.getRawIndex(B)],A=H,R=q[this.getRawIndex(A)],G=Z;if(H+Z>X)G=X-H;for(var O=0;O<G;O++){var T=this.getRawIndex(H+O),D=q[T];if(D<z)z=D,B=H+O;if(D>R)R=D,A=H+O}var P=this.getRawIndex(B),j=this.getRawIndex(A);if(B<A)W[F++]=P,W[F++]=j;else W[F++]=j,W[F++]=P}return K._count=F,K._indices=W,K._updateGetRawIdx(),K},$.prototype.downSample=function(Q,J,K,Y){var Z=this.clone([Q],!0),q=Z._chunks,X=[],W=Math.floor(1/J),F=q[Q],H=this.count(),B=Z._rawExtent[Q]=bz(),z=new(Mz(this._rawCount))(Math.ceil(H/W)),A=0;for(var R=0;R<H;R+=W){if(W>H-R)W=H-R,X.length=W;for(var G=0;G<W;G++){var O=this.getRawIndex(R+G);X[G]=F[O]}var T=K(X),D=this.getRawIndex(Math.min(R+Y(X,T)||0,H-1));if(F[D]=T,T<B[0])B[0]=T;if(T>B[1])B[1]=T;z[A++]=D}return Z._count=A,Z._indices=z,Z._updateGetRawIdx(),Z},$.prototype.each=function(Q,J){if(!this._count)return;var K=Q.length,Y=this._chunks;for(var Z=0,q=this.count();Z<q;Z++){var X=this.getRawIndex(Z);switch(K){case 0:J(Z);break;case 1:J(Y[Q[0]][X],Z);break;case 2:J(Y[Q[0]][X],Y[Q[1]][X],Z);break;default:var W=0,F=[];for(;W<K;W++)F[W]=Y[Q[W]][X];F[W]=Z,J.apply(null,F)}}},$.prototype.getDataExtent=function(Q){var J=this._chunks[Q],K=bz();if(!J)return K;var Y=this.count(),Z=!this._indices,q;if(Z)return this._rawExtent[Q].slice();if(q=this._extent[Q],q)return q.slice();q=K;var X=q[0],W=q[1];for(var F=0;F<Y;F++){var H=this.getRawIndex(F),B=J[H];B<X&&(X=B),B>W&&(W=B)}return q=[X,W],this._extent[Q]=q,q},$.prototype.getRawDataItem=function(Q){var J=this.getRawIndex(Q);if(!this._provider.persistent){var K=[],Y=this._chunks;for(var Z=0;Z<Y.length;Z++)K.push(Y[Z][J]);return K}else return this._provider.getItem(J)},$.prototype.clone=function(Q,J){var K=new $,Y=this._chunks,Z=Q&&r8(Q,function(X,W){return X[W]=!0,X},{});if(Z)for(var q=0;q<Y.length;q++)K._chunks[q]=!Z[q]?Y[q]:TO1(Y[q]);else K._chunks=Y;if(this._copyCommonProps(K),!J)K._indices=this._cloneIndices();return K._updateGetRawIdx(),K},$.prototype._copyCommonProps=function(Q){Q._count=this._count,Q._rawCount=this._rawCount,Q._provider=this._provider,Q._dimensions=this._dimensions,Q._extent=m0(this._extent),Q._rawExtent=m0(this._rawExtent)},$.prototype._cloneIndices=function(){if(this._indices){var Q=this._indices.constructor,J=void 0;if(Q===Array){var K=this._indices.length;J=new Q(K);for(var Y=0;Y<K;Y++)J[Y]=this._indices[Y]}else J=new Q(this._indices);return J}return null},$.prototype._getRawIdxIdentity=function(Q){return Q},$.prototype._getRawIdx=function(Q){if(Q<this._count&&Q>=0)return this._indices[Q];return-1},$.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},$.internalField=function(){function Q(J,K,Y,Z){return s$(J[Z],this._dimensions[Z])}Sa={arrayRows:Q,objectRows:function(J,K,Y,Z){return s$(J[K],this._dimensions[Z])},keyedColumns:Q,original:function(J,K,Y,Z){var q=J&&(J.value==null?J:J.value);return s$(q instanceof Array?q[Z]:q,this._dimensions[Z])},typedArray:function(J,K,Y,Z){return J[Z]}}}(),$}(),ow=DO1});function fa($){var Q=$.option.transform;Q&&kF($.option.transform)}function aw($){return $.mainType==="series"}function VS0($){throw Error($)}var V_;var Ia=h(()=>{l();EZ();S3();pK();va();A_();jU();V_=function(){function $(Q){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=Q}return $.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},$.prototype._setLocalSource=function(Q,J){if(this._sourceList=Q,this._upstreamSignList=J,this._versionSignBase++,this._versionSignBase>90000000000)this._versionSignBase=0},$.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},$.prototype.prepareSource=function(){if(this._isDirty())this._createSource(),this._dirty=!1},$.prototype._createSource=function(){this._setLocalSource([],[]);var Q=this._sourceHost,J=this._getUpstreamSourceManagers(),K=!!J.length,Y,Z;if(aw(Q)){var q=Q,X=void 0,W=void 0,F=void 0;if(K){var H=J[0];H.prepareSource(),F=H.getSource(),X=F.data,W=F.sourceFormat,Z=[H._getVersionSign()]}else X=q.get("data",!0),W=U7(X)?v3:A8,Z=[];var B=this._getSourceMetaRawOption()||{},z=F&&F.metaRawOption||{},A=g0(B.seriesLayoutBy,z.seriesLayoutBy)||null,R=g0(B.sourceHeader,z.sourceHeader),G=g0(B.dimensions,z.dimensions),O=A!==z.seriesLayoutBy||!!R!==!!z.sourceHeader||G;Y=O?[iw(X,{seriesLayoutBy:A,sourceHeader:R,dimensions:G},W)]:[]}else{var T=Q;if(K){var D=this._applyTransform(J);Y=D.sourceList,Z=D.upstreamSignList}else{var P=T.get("source",!0);Y=[iw(P,this._getSourceMetaRawOption(),null)],Z=[]}}M0(Y&&Z),this._setLocalSource(Y,Z)},$.prototype._applyTransform=function(Q){var J=this._sourceHost,K=J.get("transform",!0),Y=J.get("fromTransformResult",!0);if(M0(Y!=null||K!=null),Y!=null){var Z="";if(Q.length!==1)Z="When using `fromTransformResult`, there should be only one upstream dataset",VS0(Z)}var q,X=[],W=[];if(S(Q,function(F){F.prepareSource();var H=F.getSource(Y||0),B="";if(Y!=null&&!H)B="Can not retrieve result by `fromTransformResult`: "+Y,VS0(B);X.push(H),W.push(F._getVersionSign())}),K)q=NS0(K,X,{datasetIndex:J.componentIndex});else if(Y!=null)q=[JS0(X[0])];return{sourceList:q,upstreamSignList:W}},$.prototype._isDirty=function(){if(this._dirty)return!0;var Q=this._getUpstreamSourceManagers();for(var J=0;J<Q.length;J++){var K=Q[J];if(K._isDirty()||this._upstreamSignList[J]!==K._getVersionSign())return!0}},$.prototype.getSource=function(Q){Q=Q||0;var J=this._sourceList[Q];if(!J){var K=this._getUpstreamSourceManagers();return K[0]&&K[0].getSource(Q)}return J},$.prototype.getSharedDataStore=function(Q){M0(aw(this._sourceHost),"Can only call getDataStore on series source manager.");var J=Q.makeStoreSchema();return this._innerGetDataStore(J.dimensions,Q.source,J.hash)},$.prototype._innerGetDataStore=function(Q,J,K){var Y=0,Z=this._storeList,q=Z[Y];if(!q)q=Z[Y]={};var X=q[K];if(!X){var W=this._getUpstreamSourceManagers()[0];if(aw(this._sourceHost)&&W)X=W._innerGetDataStore(Q,J,K);else X=new ow,X.initData(new U_(J,Q.length),Q);q[K]=X}return X},$.prototype._getUpstreamSourceManagers=function(){var Q=this._sourceHost;if(aw(Q)){var J=eS(Q);return!J?[]:[J.getSourceManager()]}else return q0(Sv0(Q),function(K){return K.getSourceManager()})},$.prototype._getSourceMetaRawOption=function(){var Q=this._sourceHost,J,K,Y;if(aw(Q))J=Q.get("seriesLayoutBy",!0),K=Q.get("sourceHeader",!0),Y=Q.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var Z=Q;J=Z.get("seriesLayoutBy",!0),K=Z.get("sourceHeader",!0),Y=Z.get("dimensions",!0)}return{seriesLayoutBy:J,sourceHeader:K,dimensions:Y}},$}()});function RS0($){var Q=$.lineHeight;if(Q==null)return CO1;else return"line-height:"+$8(Q+"")+"px"}function GS0($,Q){var J=$.color||e.color.tertiary,K=$.fontSize||12,Y=$.fontWeight||"400",Z=$.color||e.color.secondary,q=$.fontSize||14,X=$.fontWeight||"900";if(Q==="html")return{nameStyle:"font-size:"+$8(K+"")+"px;color:"+$8(J)+";font-weight:"+$8(Y+""),valueStyle:"font-size:"+$8(q+"")+"px;color:"+$8(Z)+";font-weight:"+$8(X+"")};else return{nameStyle:{fontSize:K,fill:J,fontWeight:Y},valueStyle:{fontSize:q,fill:Z,fontWeight:X}}}function $6($,Q){return Q.type=$,Q}function Ma($){return $.type==="section"}function OS0($){return Ma($)?jO1:EO1}function wS0($){if(Ma($)){var Q=0,J=$.blocks.length,K=J>1||J>0&&!$.noHeader;return S($.blocks,function(Y){var Z=wS0(Y);if(Z>=Q)Q=Z+ +(K&&(!Z||Ma(Y)&&!Y.noHeader))}),Q}return 0}function jO1($,Q,J,K){var Y=Q.noHeader,Z=LO1(wS0(Q)),q=[],X=Q.blocks||[];M0(!X||Z0(X)),X=X||[];var W=$.orderMode;if(Q.sortBlocks&&W){X=X.slice();var F={valueAsc:"asc",valueDesc:"desc"};if(p0(F,W)){var H=new B_(F[W],null);X.sort(function(G,O){return H.evaluate(G.sortParam,O.sortParam)})}else if(W==="seriesDesc")X.reverse()}S(X,function(G,O){var T=Q.valueFormatter,D=OS0(G)(T?Y0(Y0({},$),{valueFormatter:T}):$,G,O>0?Z.html:0,K);D!=null&&q.push(D)});var B=$.renderMode==="richText"?q.join(Z.richText):ba(K,q.join(""),Y?J:Z.html);if(Y)return B;var z=mS(Q.header,"ordinal",$.useUTC),A=GS0(K,$.renderMode).nameStyle,R=RS0(K);if($.renderMode==="richText")return TS0($,z,A)+Z.richText+B;else return ba(K,'<div style="'+A+";"+R+';">'+$8(z)+"</div>"+B,J)}function EO1($,Q,J,K){var Y=$.renderMode,Z=Q.noName,q=Q.noValue,X=!Q.markerType,W=Q.name,F=$.useUTC,H=Q.valueFormatter||$.valueFormatter||function(j){return j=Z0(j)?j:[j],q0(j,function(E,L){return mS(E,Z0(A)?A[L]:A,F)})};if(Z&&q)return;var B=X?"":$.markupStyleCreator.makeTooltipMarker(Q.markerType,Q.markerColor||e.color.secondary,Y),z=Z?"":mS(W,"ordinal",F),A=Q.valueType,R=q?[]:H(Q.value,Q.dataIndex),G=!X||!Z,O=!X&&Z,T=GS0(K,Y),D=T.nameStyle,P=T.valueStyle;return Y==="richText"?(X?"":B)+(Z?"":TS0($,z,D))+(q?"":SO1($,R,G,O,P)):ba(K,(X?"":B)+(Z?"":hO1(z,!X,D))+(q?"":vO1(R,G,O,P)),J)}function ga($,Q,J,K,Y,Z){if(!$)return;var q=OS0($),X={useUTC:Y,renderMode:J,orderMode:K,markupStyleCreator:Q,valueFormatter:$.valueFormatter};return q(X,$,0,Z)}function LO1($){return{html:PO1[$],richText:kO1[$]}}function ba($,Q,J){var K='<div style="clear:both"></div>',Y="margin: "+J+"px 0 0",Z=RS0($);return'<div style="'+Y+";"+Z+';">'+Q+K+"</div>"}function hO1($,Q,J){var K=Q?"margin-left:2px":"";return'<span style="'+J+";"+K+'">'+$8($)+"</span>"}function vO1($,Q,J,K){var Y=J?"10px":"20px",Z=Q?"float:right;margin-left:"+Y:"";return $=Z0($)?$:[$],'<span style="'+Z+";"+K+'">'+q0($,function(q){return $8(q)}).join("&nbsp;&nbsp;")+"</span>"}function TS0($,Q,J){return $.markupStyleCreator.wrapRichTextStyle(Q,J)}function SO1($,Q,J,K,Y){var Z=[Y],q=K?10:20;return J&&Z.push({padding:[0,0,0,q],align:"right"}),$.markupStyleCreator.wrapRichTextStyle(Z0(Q)?Q.join("  "):Q,Z)}function R_($,Q){var J=$.getData().getItemVisual(Q,"style"),K=J[$.visualDrawType];return JJ(K)}function G_($,Q){var J=$.get("padding");return J!=null?J:Q==="richText"?[8,10]:10}var CO1="line-height:1",PO1,kO1,O_;var j4=h(()=>{P4();l();oX();k1();y1();PO1=[0,10,20,30],kO1=["",`
`,`

`,`


`];O_=function(){function $(){this.richTextStyles={},this._nextStyleNameId=yv()}return $.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},$.prototype.makeTooltipMarker=function(Q,J,K){var Y=K==="richText"?this._generateStyleName():null,Z=Tv0({color:J,type:Q,renderMode:K,markerId:Y});if(R0(Z))return Z;else return M0(Y),this.richTextStyles[Y]=Z.style,Z.content},$.prototype.wrapRichTextStyle=function(Q,J){var K={};if(Z0(J))S(J,function(Z){return Y0(K,Z)});else Y0(K,J);var Y=this._generateStyleName();return this.richTextStyles[Y]=K,"{"+Y+"|"+Q+"}"},$}()});function w_($){var{series:Q,dataIndex:J,multipleSeries:K}=$,Y=Q.getData(),Z=Y.mapDimensionsAll("defaultedTooltip"),q=Z.length,X=Q.getRawValue(J),W=Z0(X),F=R_(Q,J),H,B,z,A;if(q>1||W&&!q){var R=_O1(X,Q,J,Z,F);H=R.inlineValues,B=R.inlineValueTypes,z=R.blocks,A=R.inlineValues[0]}else if(q){var G=Y.getDimensionInfo(Z[0]);A=H=LZ(Y,J,Z[0]),B=G.type}else A=H=W?X[0]:X;var O=Hz(Q),T=O&&Q.name||"",D=Y.getName(J),P=K?T:D;return $6("section",{header:T,noHeader:K||!O,sortParam:A,blocks:[$6("nameValue",{markerType:"item",markerColor:F,name:P,noName:!m7(P),value:H,valueType:B,dataIndex:J})].concat(z||[])})}function _O1($,Q,J,K,Y){var Z=Q.getData(),q=r8($,function(B,z,A){var R=Z.getDimensionInfo(A);return B=B||R&&R.tooltip!==!1&&R.displayName!=null},!1),X=[],W=[],F=[];K.length?S(K,function(B){H(LZ(Z,J,B),B)}):S($,H);function H(B,z){var A=Z.getDimensionInfo(z);if(!A||A.otherDims.tooltip===!1)return;if(q)F.push($6("nameValue",{markerType:"subItem",markerColor:Y,name:A.displayName,value:B,valueType:A.type}));else X.push(B),W.push(A.type)}return{inlineValues:X,inlineValueTypes:W,blocks:F}}var ya=h(()=>{l();j4();jU();l0()});function T_($,Q){return $.getName(Q)||$.getId(Q)}function DS0($){var Q=$.name;if(!Hz($))$.name=fO1($)||Q}function fO1($){var Q=$.getRawData(),J=Q.mapDimensionsAll("seriesName"),K=[];return S(J,function(Y){var Z=Q.getDimensionInfo(Y);Z.displayName&&K.push(Z.displayName)}),K.join(" ")}function IO1($){return $.model.getRawData().count()}function MO1($){var Q=$.model;return Q.setData(Q.getRawData().cloneShallow()),bO1}function bO1($,Q){if(Q.outputData&&$.end>Q.outputData.count())Q.model.getRawData().cloneShallow(Q.outputData)}function CS0($,Q){S(FZ($.CHANGABLE_METHODS,$.DOWNSAMPLE_METHODS),function(J){$.wrapMethod(J,K1(gO1,Q))})}function gO1($,Q){var J=xa($);if(J)J.setOutputEnd((Q||this).count());return Q}function xa($){var Q=($.ecModel||{}).scheduler,J=Q&&Q.getPipeline($.uid);if(J){var K=J.currentTask;if(K){var Y=K.agentStubMap;if(Y)K=Y.get($.uid)}return K}}var aX,tw="__universalTransitionEnabled",D_,o1;var o6=h(()=>{H0();l();t7();l0();_6();pw();sw();l5();H_();vK();Ia();ya();aX=o0();D_=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J._selectedDataIndicesMap={},J}return Q.prototype.init=function(J,K,Y){this.seriesIndex=this.componentIndex,this.dataTask=sX({count:IO1,reset:MO1}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(J,Y);var Z=aX(this).sourceManager=new V_(this);Z.prepareSource();var q=this.getInitialData(J,Y);CS0(q,this),this.dataTask.context.data=q,M0(q,"getInitialData returned invalid data."),aX(this).dataBeforeProcessed=q,DS0(this),this._initSelectedMapFromData(q)},Q.prototype.mergeDefaultAndTheme=function(J,K){var Y=iX(this),Z=Y?u9(J):{},q=this.subType;if(O1.hasClass(q))q+="Series";if(F1(J,K.getTheme().get(this.subType)),F1(J,this.getDefaultOption()),j3(J,"label",["show"]),this.fillDataTextStyle(J.data),Y)$4(J,Z,Y)},Q.prototype.mergeOption=function(J,K){J=F1(this.option,J,!0),this.fillDataTextStyle(J.data);var Y=iX(this);if(Y)$4(this.option,J,Y);var Z=aX(this).sourceManager;Z.dirty(),Z.prepareSource();var q=this.getInitialData(J,K);CS0(q,this),this.dataTask.dirty(),this.dataTask.context.data=q,aX(this).dataBeforeProcessed=q,DS0(this),this._initSelectedMapFromData(q)},Q.prototype.fillDataTextStyle=function(J){if(J&&!U7(J)){var K=["show"];for(var Y=0;Y<J.length;Y++)if(J[Y]&&J[Y].label)j3(J[Y],"label",K)}},Q.prototype.getInitialData=function(J,K){return},Q.prototype.appendData=function(J){var K=this.getRawData();K.appendData(J.data)},Q.prototype.getData=function(J){var K=xa(this);if(K){var Y=K.context.data;return J==null||!Y.getLinkedData?Y:Y.getLinkedData(J)}else return aX(this).data},Q.prototype.getAllData=function(){var J=this.getData();return J&&J.getLinkedDataAll?J.getLinkedDataAll():[{data:J}]},Q.prototype.setData=function(J){var K=xa(this);if(K){var Y=K.context;if(Y.outputData=J,K!==this.dataTask)Y.data=J}aX(this).data=J},Q.prototype.getEncode=function(){var J=this.get("encode",!0);if(J)return _0(J)},Q.prototype.getSourceManager=function(){return aX(this).sourceManager},Q.prototype.getSource=function(){return this.getSourceManager().getSource()},Q.prototype.getRawData=function(){return aX(this).dataBeforeProcessed},Q.prototype.getColorBy=function(){var J=this.get("colorBy");return J||"series"},Q.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},Q.prototype.getBaseAxis=function(){var J=this.coordinateSystem;return J&&J.getBaseAxis&&J.getBaseAxis()},Q.prototype.indicesOfNearest=function(J,K,Y,Z){var q=this.getData(),X=this.coordinateSystem,W=X&&X.getAxis(J);if(!X||!W)return[];var F=W.dataToCoord(Y);if(Z==null)Z=1/0;var H=[],B=1/0,z=-1,A=0;return q.each(K,function(R,G){var O=W.dataToCoord(R),T=F-O,D=Math.abs(T);if(D<=Z){if(D<B||D===B&&T>=0&&z<0)B=D,z=T,A=0;if(T===z)H[A++]=G}}),H.length=A,H},Q.prototype.formatTooltip=function(J,K,Y){return w_({series:this,dataIndex:J,multipleSeries:K})},Q.prototype.isAnimationEnabled=function(){var J=this.ecModel;if(M1.node&&!(J&&J.ssr))return!1;var K=this.getShallow("animation");if(K){if(this.getData().count()>this.getShallow("animationThreshold"))K=!1}return!!K},Q.prototype.restoreData=function(){this.dataTask.dirty()},Q.prototype.getColorFromPalette=function(J,K,Y){var Z=this.ecModel,q=uw.prototype.getColorFromPalette.call(this,J,K,Y);if(!q)q=Z.getColorFromPalette(J,K,Y);return q},Q.prototype.coordDimToDataDim=function(J){return this.getRawData().mapDimensionsAll(J)},Q.prototype.getProgressive=function(){return this.get("progressive")},Q.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},Q.prototype.select=function(J,K){this._innerSelect(this.getData(K),J)},Q.prototype.unselect=function(J,K){var Y=this.option.selectedMap;if(!Y)return;var Z=this.option.selectedMode,q=this.getData(K);if(Z==="series"||Y==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var X=0;X<J.length;X++){var W=J[X],F=T_(q,W);Y[F]=!1,this._selectedDataIndicesMap[F]=-1}},Q.prototype.toggleSelect=function(J,K){var Y=[];for(var Z=0;Z<J.length;Z++)Y[0]=J[Z],this.isSelected(J[Z],K)?this.unselect(Y,K):this.select(Y,K)},Q.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());var J=this._selectedDataIndicesMap,K=N1(J),Y=[];for(var Z=0;Z<K.length;Z++){var q=J[K[Z]];if(q>=0)Y.push(q)}return Y},Q.prototype.isSelected=function(J,K){var Y=this.option.selectedMap;if(!Y)return!1;var Z=this.getData(K);return(Y==="all"||Y[T_(Z,J)])&&!Z.getItemModel(J).get(["select","disabled"])},Q.prototype.isUniversalTransitionEnabled=function(){if(this[tw])return!0;var J=this.option.universalTransition;if(!J)return!1;if(J===!0)return!0;return J&&J.enabled},Q.prototype._innerSelect=function(J,K){var Y,Z,q=this.option,X=q.selectedMode,W=K.length;if(!X||!W)return;if(X==="series")q.selectedMap="all";else if(X==="multiple"){if(!y0(q.selectedMap))q.selectedMap={};var F=q.selectedMap;for(var H=0;H<W;H++){var B=K[H],z=T_(J,B);F[z]=!0,this._selectedDataIndicesMap[z]=J.getRawIndex(B)}}else if(X==="single"||X===!0){var A=K[W-1],z=T_(J,A);q.selectedMap=(Y={},Y[z]=!0,Y),this._selectedDataIndicesMap=(Z={},Z[z]=J.getRawIndex(A),Z)}},Q.prototype._initSelectedMapFromData=function(J){if(this.option.selectedMap)return;var K=[];if(J.hasItemOption)J.each(function(Y){var Z=J.getRawDataItem(Y);if(Z&&Z.selected)K.push(Y)});if(K.length>0)this._innerSelect(J,K)},Q.registerClass=function(J){return O1.registerClass(J)},Q.protoInitialize=function(){var J=Q.prototype;J.type="series.__base__",J.seriesIndex=0,J.ignoreStyleOnData=!1,J.hasSymbolVisual=!1,J.defaultSymbol="circle",J.visualStyleAccessPath="itemStyle",J.visualDrawType="fill"}(),Q}(O1);n5(D_,EU);n5(D_,uw);dv(D_,O1);o1=D_});var ca,a1;var a6=h(()=>{yX();e4();vK();ca=function(){function $(){this.group=new b0,this.uid=l$("viewComponent")}return $.prototype.init=function(Q,J){},$.prototype.render=function(Q,J,K,Y){},$.prototype.dispose=function(Q,J){},$.prototype.updateView=function(Q,J,K,Y){},$.prototype.updateLayout=function(Q,J,K,Y){},$.prototype.updateVisual=function(Q,J,K,Y){},$.prototype.toggleBlurSeries=function(Q,J,K){},$.prototype.eachRendered=function(Q){var J=this.group;if(J)J.traverse(Q)},$}();Nz(ca);cX(ca);a1=ca});function _3(){var $=o0();return function(Q){var J=$(Q),K=Q.pipelineContext,Y=!!J.large,Z=!!J.progressiveRender,q=J.large=!!(K&&K.large),X=J.progressiveRender=!!(K&&K.progressiveRender);return(Y!==q||Z!==X)&&"reset"}}var LU=h(()=>{l0()});function PS0($,Q,J){if($&&tQ($))(Q==="emphasis"?G4:O4)($,J)}function kS0($,Q,J){var K=y$($,Q),Y=Q&&Q.highlightKey!=null?Zh0(Q.highlightKey):null;if(K!=null)S(H5(K),function(Z){PS0($.getItemGraphicEl(Z),J,Y)});else $.eachItemGraphicEl(function(Z){PS0(Z,J,Y)})}function xO1($){return yO1($.model)}function cO1($){var{model:Q,ecModel:J,api:K,payload:Y}=$,Z=Q.pipelineContext.progressiveRender,q=$.view,X=Y&&jS0(Y).updateMethod,W=Z?"incrementalPrepareRender":X&&q[X]?X:"render";if(W!=="render")q[W](Q,J,K,Y);return uO1[W]}var jS0,yO1,ua,uO1,c1;var t6=h(()=>{l();yX();e4();vK();l0();M5();H_();LU();a0();N5();jS0=o0(),yO1=_3(),ua=function(){function $(){this.group=new b0,this.uid=l$("viewChart"),this.renderTask=sX({plan:xO1,reset:cO1}),this.renderTask.context={view:this}}return $.prototype.init=function(Q,J){},$.prototype.render=function(Q,J,K,Y){throw Error("render method must been implemented")},$.prototype.highlight=function(Q,J,K,Y){var Z=Q.getData(Y&&Y.dataType);if(!Z){S1("Unknown dataType "+Y.dataType);return}kS0(Z,Y,"emphasis")},$.prototype.downplay=function(Q,J,K,Y){var Z=Q.getData(Y&&Y.dataType);if(!Z){S1("Unknown dataType "+Y.dataType);return}kS0(Z,Y,"normal")},$.prototype.remove=function(Q,J){this.group.removeAll()},$.prototype.dispose=function(Q,J){},$.prototype.updateView=function(Q,J,K,Y){this.render(Q,J,K,Y)},$.prototype.updateLayout=function(Q,J,K,Y){this.render(Q,J,K,Y)},$.prototype.updateVisual=function(Q,J,K,Y){this.render(Q,J,K,Y)},$.prototype.eachRendered=function(Q){t4(this.group,Q)},$.markUpdateMethod=function(Q,J){jS0(Q).updateMethod=J},$.protoInitialize=function(){var Q=$.prototype;Q.type="chart"}(),$}();Nz(ua,["dispose"]);cX(ua);uO1={incrementalPrepareRender:{progress:function($,Q){Q.view.incrementalRender($,Q.model,Q.ecModel,Q.api,Q.payload)}},render:{forceFirstProgress:!0,progress:function($,Q){Q.view.render(Q.model,Q.ecModel,Q.api,Q.payload)}}},c1=ua});function ew($,Q,J){var K,Y=0,Z=0,q=null,X,W,F,H;Q=Q||0;function B(){Z=new Date().getTime(),q=null,$.apply(W,F||[])}var z=function(){var A=[];for(var R=0;R<arguments.length;R++)A[R]=arguments[R];K=new Date().getTime(),W=this,F=A;var G=H||Q,O=H||J;if(H=null,X=K-(O?Y:Z)-G,clearTimeout(q),O)q=setTimeout(B,G);else if(X>=0)B();else q=setTimeout(B,-X);Y=K};return z.clear=function(){if(q)clearTimeout(q),q=null},z.debounceNextCall=function(A){H=A},z}function o$($,Q,J,K){var Y=$[Q];if(!Y)return;var Z=Y[C_]||Y,q=Y[LS0],X=Y[ES0];if(X!==J||q!==K){if(J==null||!K)return $[Q]=Z;Y=$[Q]=ew(Z,J,K==="debounce"),Y[C_]=Z,Y[LS0]=K,Y[ES0]=J}return Y}function hZ($,Q){var J=$[Q];if(J&&J[C_])J.clear&&J.clear(),$[Q]=J[C_]}var C_="\x00__throttleOriginMethod",ES0="\x00__throttleRate",LS0="\x00__throttleType";function SS0($,Q){var J=$.visualStyleMapper||vS0[Q];if(!J)return console.warn("Unknown style type '"+Q+"'."),vS0.itemStyle;return J}function _S0($,Q){var J=$.visualDrawType||mO1[Q];if(!J)return console.warn("Unknown style type '"+Q+"'."),"fill";return J}var hS0,vS0,mO1,fS0,$T,IS0,MS0;var bS0=h(()=>{l();rF();no();mo();K7();l0();hS0=o0(),vS0={itemStyle:I9(po,!0),lineStyle:I9(uo,!0)},mO1={lineStyle:"stroke",itemStyle:"fill"};fS0={createOnAllSeries:!0,performRawSeries:!0,reset:function($,Q){var J=$.getData(),K=$.visualStyleAccessPath||"itemStyle",Y=$.getModel(K),Z=SS0($,K),q=Z(Y),X=Y.getShallow("decal");if(X)J.setVisual("decal",X),X.dirty=!0;var W=_S0($,K),F=q[W],H=I0(F)?F:null,B=q.fill==="auto"||q.stroke==="auto";if(!q[W]||H||B){var z=$.getColorFromPalette($.name,null,Q.getSeriesCount());if(!q[W])q[W]=z,J.setVisual("colorFromPalette",!0);q.fill=q.fill==="auto"||I0(q.fill)?z:q.fill,q.stroke=q.stroke==="auto"||I0(q.stroke)?z:q.stroke}if(J.setVisual("style",q),J.setVisual("drawType",W),!Q.isSeriesFiltered($)&&H)return J.setVisual("colorFromPalette",!1),{dataEach:function(A,R){var G=$.getDataParams(R),O=Y0({},q);O[W]=H(G),A.setItemVisual(R,"style",O)}}}},$T=new h1,IS0={createOnAllSeries:!0,performRawSeries:!0,reset:function($,Q){if($.ignoreStyleOnData||Q.isSeriesFiltered($))return;var J=$.getData(),K=$.visualStyleAccessPath||"itemStyle",Y=SS0($,K),Z=J.getVisual("drawType");return{dataEach:J.hasItemOption?function(q,X){var W=q.getRawDataItem(X);if(W&&W[K]){$T.option=W[K];var F=Y($T),H=q.ensureUniqueItemVisual(X,"style");if(Y0(H,F),$T.option.decal)q.setItemVisual(X,"decal",$T.option.decal),$T.option.decal.dirty=!0;if(Z in F)q.setItemVisual(X,"colorFromPalette",!1)}}:null}}},MS0={performRawSeries:!0,overallReset:function($){var Q=_0();$.eachSeries(function(J){var K=J.getColorBy();if(J.isColorBySeries())return;var Y=J.type+"-"+K,Z=Q.get(Y);if(!Z)Z={},Q.set(Y,Z);hS0(J).scope=Z}),$.eachSeries(function(J){if(J.isColorBySeries()||$.isSeriesFiltered(J))return;var K=J.getRawData(),Y={},Z=J.getData(),q=hS0(J).scope,X=J.visualStyleAccessPath||"itemStyle",W=_S0(J,X);Z.each(function(F){var H=Z.getRawIndex(F);Y[H]=F}),K.each(function(F){var H=Y[F],B=Z.getItemVisual(H,"colorFromPalette");if(B){var z=Z.ensureUniqueItemVisual(H,"style"),A=K.getName(F)||F+"",R=K.count();z[W]=J.getColorFromPalette(A,q,R)}})})}}});function ma($,Q){Q=Q||{},c0(Q,{text:"loading",textColor:e.color.primary,fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255,255,255,0.8)",showSpinner:!0,color:e.color.theme[0],spinnerRadius:10,lineWidth:5,zlevel:0});var J=new b0,K=new X1({style:{fill:Q.maskColor},zlevel:Q.zlevel,z:1e4});J.add(K);var Y=new j1({style:{text:Q.text,fill:Q.textColor,fontSize:Q.fontSize,fontWeight:Q.fontWeight,fontStyle:Q.fontStyle,fontFamily:Q.fontFamily},zlevel:Q.zlevel,z:10001}),Z=new X1({style:{fill:"none"},textContent:Y,textConfig:{position:"right",distance:10},zlevel:Q.zlevel,z:10001});J.add(Z);var q;if(Q.showSpinner)q=new fw({shape:{startAngle:-k_/2,endAngle:-k_/2+0.1,r:Q.spinnerRadius},style:{stroke:Q.color,lineCap:"round",lineWidth:Q.lineWidth},zlevel:Q.zlevel,z:10001}),q.animateShape(!0).when(1000,{endAngle:k_*3/2}).start("circularInOut"),q.animateShape(!0).when(1000,{startAngle:k_*3/2}).delay(300).start("circularInOut"),J.add(q);return J.resize=function(){var X=Y.getBoundingRect().width,W=Q.showSpinner?Q.spinnerRadius:0,F=($.getWidth()-W*2-(Q.showSpinner&&X?10:0)-X)/2-(Q.showSpinner&&X?0:5+X/2)+(Q.showSpinner?0:X/2)+(X?0:W),H=$.getHeight()/2;Q.showSpinner&&q.setShape({cx:F,cy:H}),Z.setShape({x:F-W,y:H-W,width:W*2,height:W*2}),K.setShape({x:0,y:0,width:$.getWidth(),height:$.getHeight()})},J.resize(),J}var k_;var gS0=h(()=>{l();a0();y1();k_=Math.PI});function dO1($){$.overallReset($.ecModel,$.api,$.payload)}function nO1($){return $.overallProgress&&lO1}function lO1(){this.agent.dirty(),this.getDownstream().dirty()}function rO1(){this.agent&&this.agent.dirty()}function iO1($){return $.plan?$.plan($.model,$.ecModel,$.api,$.payload):null}function sO1($){if($.useClearVisual)$.data.clearAllVisual();var Q=$.resetDefines=H5($.reset($.model,$.ecModel,$.api,$.payload));return Q.length>1?q0(Q,function(J,K){return yS0(K)}):oO1}function yS0($){return function(Q,J){var K=J.data,Y=J.resetDefines[$];if(Y&&Y.dataEach)for(var Z=Q.start;Z<Q.end;Z++)Y.dataEach(K,Z);else if(Y&&Y.progress)Y.progress(Q,K)}}function aO1($){return $.data.count()}function tO1($){j_=null;try{$(QT,xS0)}catch(Q){}return j_}function cS0($,Q){for(var J in Q.prototype)$[J]=K6}var pO1,oO1,QT,xS0,j_,pa;var uS0=h(()=>{l();H_();e4();Ra();Ga();l0();pO1=function(){function $(Q,J,K,Y){this._stageTaskMap=_0(),this.ecInstance=Q,this.api=J,K=this._dataProcessorHandlers=K.slice(),Y=this._visualHandlers=Y.slice(),this._allHandlers=K.concat(Y)}return $.prototype.restoreData=function(Q,J){Q.restoreData(J),this._stageTaskMap.each(function(K){var Y=K.overallTask;Y&&Y.dirty()})},$.prototype.getPerformArgs=function(Q,J){if(!Q.__pipeline)return;var K=this._pipelineMap.get(Q.__pipeline.id),Y=K.context,Z=!J&&K.progressiveEnabled&&(!Y||Y.progressiveRender)&&Q.__idxInPipeline>K.blockIndex,q=Z?K.step:null,X=Y&&Y.modDataCount,W=X!=null?Math.ceil(X/q):null;return{step:q,modBy:W,modDataCount:X}},$.prototype.getPipeline=function(Q){return this._pipelineMap.get(Q)},$.prototype.updateStreamModes=function(Q,J){var K=this._pipelineMap.get(Q.uid),Y=Q.getData(),Z=Y.count(),q=K.progressiveEnabled&&J.incrementalPrepareRender&&Z>=K.threshold,X=Q.get("large")&&Z>=Q.get("largeThreshold"),W=Q.get("progressiveChunkMode")==="mod"?Z:null;Q.pipelineContext=K.context={progressiveRender:q,modDataCount:W,large:X}},$.prototype.restorePipelines=function(Q){var J=this,K=J._pipelineMap=_0();Q.eachSeries(function(Y){var Z=Y.getProgressive(),q=Y.uid;K.set(q,{id:q,head:null,tail:null,threshold:Y.getProgressiveThreshold(),progressiveEnabled:Z&&!(Y.preventIncremental&&Y.preventIncremental()),blockIndex:-1,step:Math.round(Z||700),count:0}),J._pipe(Y,Y.dataTask)})},$.prototype.prepareStageTasks=function(){var Q=this._stageTaskMap,J=this.api.getModel(),K=this.api;S(this._allHandlers,function(Y){var Z=Q.get(Y.uid)||Q.set(Y.uid,{}),q="";q='"reset" and "overallReset" must not be both specified.',M0(!(Y.reset&&Y.overallReset),q),Y.reset&&this._createSeriesStageTask(Y,Z,J,K),Y.overallReset&&this._createOverallStageTask(Y,Z,J,K)},this)},$.prototype.prepareView=function(Q,J,K,Y){var Z=Q.renderTask,q=Z.context;q.model=J,q.ecModel=K,q.api=Y,Z.__block=!Q.incrementalPrepareRender,this._pipe(J,Z)},$.prototype.performDataProcessorTasks=function(Q,J){this._performStageTasks(this._dataProcessorHandlers,Q,J,{block:!0})},$.prototype.performVisualTasks=function(Q,J,K){this._performStageTasks(this._visualHandlers,Q,J,K)},$.prototype._performStageTasks=function(Q,J,K,Y){Y=Y||{};var Z=!1,q=this;S(Q,function(W,F){if(Y.visualType&&Y.visualType!==W.visualType)return;var H=q._stageTaskMap.get(W.uid),B=H.seriesTaskMap,z=H.overallTask;if(z){var A,R=z.agentStubMap;R.each(function(O){if(X(Y,O))O.dirty(),A=!0}),A&&z.dirty(),q.updatePayload(z,K);var G=q.getPerformArgs(z,Y.block);if(R.each(function(O){O.perform(G)}),z.perform(G))Z=!0}else if(B)B.each(function(O,T){if(X(Y,O))O.dirty();var D=q.getPerformArgs(O,Y.block);if(D.skip=!W.performRawSeries&&J.isSeriesFiltered(O.context.model),q.updatePayload(O,K),O.perform(D))Z=!0})});function X(W,F){return W.setDirty&&(!W.dirtyMap||W.dirtyMap.get(F.__pipeline.id))}this.unfinished=Z||this.unfinished},$.prototype.performSeriesTasks=function(Q){var J;Q.eachSeries(function(K){J=K.dataTask.perform()||J}),this.unfinished=J||this.unfinished},$.prototype.plan=function(){this._pipelineMap.each(function(Q){var J=Q.tail;do{if(J.__block){Q.blockIndex=J.__idxInPipeline;break}J=J.getUpstream()}while(J)})},$.prototype.updatePayload=function(Q,J){J!=="remain"&&(Q.context.payload=J)},$.prototype._createSeriesStageTask=function(Q,J,K,Y){var Z=this,q=J.seriesTaskMap,X=J.seriesTaskMap=_0(),W=Q.seriesType,F=Q.getTargetSeries;if(Q.createOnAllSeries)K.eachRawSeries(H);else if(W)K.eachRawSeriesByType(W,H);else if(F)F(K,Y).each(H);function H(B){var z=B.uid,A=X.set(z,q&&q.get(z)||sX({plan:iO1,reset:sO1,count:aO1}));A.context={model:B,ecModel:K,api:Y,useClearVisual:Q.isVisual&&!Q.isLayout,plan:Q.plan,reset:Q.reset,scheduler:Z},Z._pipe(B,A)}},$.prototype._createOverallStageTask=function(Q,J,K,Y){var Z=this,q=J.overallTask=J.overallTask||sX({reset:dO1});q.context={ecModel:K,api:Y,overallReset:Q.overallReset,scheduler:Z};var X=q.agentStubMap,W=q.agentStubMap=_0(),F=Q.seriesType,H=Q.getTargetSeries,B=!0,z=!1,A="";if(A='"createOnAllSeries" is not supported for "overallReset", because it will block all streams.',M0(!Q.createOnAllSeries,A),F)K.eachRawSeriesByType(F,R);else if(H)H(K,Y).each(R);else B=!1,S(K.getSeries(),R);function R(G){var O=G.uid,T=W.set(O,X&&X.get(O)||(z=!0,sX({reset:nO1,onDirty:rO1})));T.context={model:G,overallProgress:B},T.agent=q,T.__block=B,Z._pipe(G,T)}if(z)q.dirty()},$.prototype._pipe=function(Q,J){var K=Q.uid,Y=this._pipelineMap.get(K);!Y.head&&(Y.head=J),Y.tail&&Y.tail.pipe(J),Y.tail=J,J.__idxInPipeline=Y.count++,J.__pipeline=Y},$.wrapStageHandler=function(Q,J){if(I0(Q))Q={overallReset:Q,seriesType:tO1(Q)};return Q.uid=l$("stageHandler"),J&&(Q.visualType=J),Q},$}();oO1=yS0(0);QT={},xS0={};cS0(QT,K_);cS0(xS0,Y_);QT.eachSeriesByType=QT.eachRawSeriesByType=function($){j_=$};QT.eachComponent=function($){if($.mainType==="series"&&$.subType)j_=$.subType};pa=pO1});var R1,eO1,JT=function(){return{axisLine:{lineStyle:{color:R1.axisLine}},splitLine:{lineStyle:{color:R1.axisSplitLine}},splitArea:{areaStyle:{color:[R1.backgroundTint,R1.backgroundTransparent]}},minorSplitLine:{lineStyle:{color:R1.axisMinorSplitLine}},axisLabel:{color:R1.axisLabel},axisName:{}}},mS0,pS0,dS0;var nS0=h(()=>{y1();R1=e.darkColor,eO1=R1.background,mS0={label:{color:R1.secondary},itemStyle:{borderColor:R1.borderTint},dividerLineStyle:{color:R1.border}},pS0={darkMode:!0,color:R1.theme,backgroundColor:eO1,axisPointer:{lineStyle:{color:R1.border},crossStyle:{color:R1.borderShade},label:{color:R1.tertiary}},legend:{textStyle:{color:R1.secondary},pageTextStyle:{color:R1.tertiary}},textStyle:{color:R1.secondary},title:{textStyle:{color:R1.primary},subtextStyle:{color:R1.quaternary}},toolbox:{iconStyle:{borderColor:R1.accent50}},tooltip:{backgroundColor:R1.neutral20,defaultBorderColor:R1.border,textStyle:{color:R1.tertiary}},dataZoom:{borderColor:R1.accent10,textStyle:{color:R1.tertiary},brushStyle:{color:R1.backgroundTint},handleStyle:{color:R1.neutral00,borderColor:R1.accent20},moveHandleStyle:{color:R1.accent40},emphasis:{handleStyle:{borderColor:R1.accent50}},dataBackground:{lineStyle:{color:R1.accent30},areaStyle:{color:R1.accent20}},selectedDataBackground:{lineStyle:{color:R1.accent50},areaStyle:{color:R1.accent30}}},visualMap:{textStyle:{color:R1.secondary},handleStyle:{borderColor:R1.neutral30}},timeline:{lineStyle:{color:R1.accent10},label:{color:R1.tertiary},controlStyle:{color:R1.accent30,borderColor:R1.accent30}},calendar:{itemStyle:{color:R1.neutral00,borderColor:R1.neutral20},dayLabel:{color:R1.tertiary},monthLabel:{color:R1.secondary},yearLabel:{color:R1.secondary}},matrix:{x:mS0,y:mS0,backgroundColor:{borderColor:R1.axisLine},body:{itemStyle:{borderColor:R1.borderTint}}},timeAxis:JT(),logAxis:JT(),valueAxis:JT(),categoryAxis:JT(),line:{symbol:"circle"},graph:{color:R1.theme},gauge:{title:{color:R1.secondary},axisLine:{lineStyle:{color:[[1,R1.neutral05]]}},axisLabel:{color:R1.axisLabel},detail:{color:R1.primary}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}},funnel:{itemStyle:{borderColor:R1.background}},radar:function(){var $=JT();return $.axisName={color:R1.axisLabel},$.axisLine.lineStyle.color=R1.neutral20,$}(),treemap:{breadcrumb:{itemStyle:{color:R1.neutral20,textStyle:{color:R1.secondary}},emphasis:{itemStyle:{color:R1.neutral30}}}},sunburst:{itemStyle:{borderColor:R1.background}},map:{itemStyle:{borderColor:R1.border,areaColor:R1.neutral10},label:{color:R1.tertiary},emphasis:{label:{color:R1.primary},itemStyle:{areaColor:R1.highlight}},select:{label:{color:R1.primary},itemStyle:{areaColor:R1.highlight}}},geo:{itemStyle:{borderColor:R1.border,areaColor:R1.neutral10},emphasis:{label:{color:R1.primary},itemStyle:{areaColor:R1.highlight}},select:{label:{color:R1.primary},itemStyle:{color:R1.highlight}}}};pS0.categoryAxis.splitLine.show=!1;dS0=pS0});var lS0;var rS0=h(()=>{l();vK();lS0=function(){function $(){}return $.prototype.normalizeQuery=function(Q){var J={},K={},Y={};if(R0(Q)){var Z=f9(Q);J.mainType=Z.main||null,J.subType=Z.sub||null}else{var q=["Index","Name","Id"],X={name:1,dataIndex:1,dataType:1};S(Q,function(W,F){var H=!1;for(var B=0;B<q.length;B++){var z=q[B],A=F.lastIndexOf(z);if(A>0&&A===F.length-z.length){var R=F.slice(0,A);if(R!=="data")J.mainType=R,J[z.toLowerCase()]=W,H=!0}}if(X.hasOwnProperty(F))K[F]=W,H=!0;if(!H)Y[F]=W})}return{cptQuery:J,dataQuery:K,otherQuery:Y}},$.prototype.filter=function(Q,J){var K=this.eventInfo;if(!K)return!0;var{targetEl:Y,packedEvent:Z,model:q,view:X}=K;if(!q||!X)return!0;var{cptQuery:W,dataQuery:F}=J;return H(W,q,"mainType")&&H(W,q,"subType")&&H(W,q,"index","componentIndex")&&H(W,q,"name")&&H(W,q,"id")&&H(F,Z,"name")&&H(F,Z,"dataIndex")&&H(F,Z,"dataType")&&(!X.filterForExposedEvent||X.filterForExposedEvent(Q,J.otherQuery,Y,Z));function H(B,z,A,R){return B[A]==null||z[R||A]===B[A]}},$.prototype.afterTrigger=function(){this.eventInfo=null},$}()});var da,iS0,sS0,oS0;var aS0=h(()=>{l();da=["symbol","symbolSize","symbolRotate","symbolOffset"],iS0=da.concat(["symbolKeepAspect"]),sS0={createOnAllSeries:!0,performRawSeries:!0,reset:function($,Q){var J=$.getData();if($.legendIcon)J.setVisual("legendIcon",$.legendIcon);if(!$.hasSymbolVisual)return;var K={},Y={},Z=!1;for(var q=0;q<da.length;q++){var X=da[q],W=$.get(X);if(I0(W))Z=!0,Y[X]=W;else K[X]=W}if(K.symbol=K.symbol||$.defaultSymbol,J.setVisual(Y0({legendIcon:$.legendIcon||K.symbol,symbolKeepAspect:$.get("symbolKeepAspect")},K)),Q.isSeriesFiltered($))return;var F=N1(Y);function H(B,z){var A=$.getRawValue(z),R=$.getDataParams(z);for(var G=0;G<F.length;G++){var O=F[G];B.setItemVisual(z,O,Y[O](A,R))}}return{dataEach:Z?H:null}}},oS0={createOnAllSeries:!0,performRawSeries:!0,reset:function($,Q){if(!$.hasSymbolVisual)return;if(Q.isSeriesFiltered($))return;var J=$.getData();function K(Y,Z){var q=Y.getItemModel(Z);for(var X=0;X<iS0.length;X++){var W=iS0[X],F=q.getShallow(W,!0);if(F!=null)Y.setItemVisual(Z,W,F)}}return{dataEach:J.hasItemOption?K:null}}}});function KT($,Q,J){switch(J){case"color":var K=$.getItemVisual(Q,"style");return K[$.getVisual("drawType")];case"opacity":return $.getItemVisual(Q,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return $.getItemVisual(Q,J);default:console.warn("Unknown visual type "+J)}}function dK($,Q){switch(Q){case"color":var J=$.getVisual("style");return J[$.getVisual("drawType")];case"opacity":return $.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return $.getVisual(Q);default:console.warn("Unknown visual type "+Q)}}function na($,Q,J,K){switch(J){case"color":var Y=$.ensureUniqueItemVisual(Q,"style");Y[$.getVisual("drawType")]=K,$.setItemVisual(Q,"colorFromPalette",!1);break;case"opacity":$.ensureUniqueItemVisual(Q,"style").opacity=K;break;case"symbol":case"symbolSize":case"liftZ":$.setItemVisual(Q,J,K);break;default:console.warn("Unknown visual type "+J)}}function E_($,Q){function J(K,Y){var Z=[];return K.eachComponent({mainType:"series",subType:$,query:Y},function(q){Z.push(q.seriesIndex)}),Z}S([[$+"ToggleSelect","toggleSelect"],[$+"Select","select"],[$+"UnSelect","unselect"]],function(K){Q(K[0],function(Y,Z,q){Y=Y0({},Y),u6(Y.type,K[1]),q.dispatchAction(Y0(Y,{type:K[1],seriesIndex:J(Z,Y)}))})})}function gz($,Q,J,K,Y){var Z=$+Q;if(!J.isSilent(Z))i4("event "+Z+" is deprecated."),K.eachComponent({mainType:"series",subType:"pie"},function(q){var X=q.seriesIndex,W=q.option.selectedMap,F=Y.selected;for(var H=0;H<F.length;H++)if(F[H].seriesIndex===X){var B=q.getData(),z=y$(B,Y.fromActionPayload);J.trigger(Z,{type:Z,seriesId:q.id,name:Z0(z)?B.getName(z[0]):B.getName(z),selected:R0(W)?W:Y0({},W)})}})}function tS0($,Q,J){$.on("selectchanged",function(K){var Y=J.getModel();if(K.isFromClick)gz("map","selectchanged",Q,Y,K),gz("pie","selectchanged",Q,Y,K);else if(K.fromAction==="select")gz("map","selected",Q,Y,K),gz("pie","selected",Q,Y,K);else if(K.fromAction==="unselect")gz("map","unselected",Q,Y,K),gz("pie","unselected",Q,Y,K)})}var L_=h(()=>{l();N5();l0()});function qJ($,Q,J){var K;while($){if(Q($)){if(K=$,J)break}$=$.__hostTarget||$.parent}return K}var $w1,Qw1,Jw1,eS0;var $_0=h(()=>{$w1=Math.round(Math.random()*9),Qw1=typeof Object.defineProperty==="function",Jw1=function(){function $(){this._id="__ec_inner_"+$w1++}return $.prototype.get=function(Q){return this._guard(Q)[this._id]},$.prototype.set=function(Q,J){var K=this._guard(Q);if(Qw1)Object.defineProperty(K,this._id,{value:J,enumerable:!1,configurable:!0});else K[this._id]=J;return this},$.prototype.delete=function(Q){if(this.has(Q))return delete this._guard(Q)[this._id],!0;return!1},$.prototype.has=function(Q){return!!this._guard(Q)[this._id]},$.prototype._guard=function(Q){if(Q!==Object(Q))throw TypeError("Value of WeakMap is not a non-null object.");return Q},$}(),eS0=Jw1});function Uw1($,Q){if(this.type!=="image"){var J=this.style;if(this.__isEmptyBrush)J.stroke=$,J.fill=Q||e.color.neutral00,J.lineWidth=2;else if(this.shape.symbolType==="line")J.stroke=$;else J.fill=$;this.markRedraw()}}function y5($,Q,J,K,Y,Z,q){var X=$.indexOf("empty")===0;if(X)$=$.substr(5,1).toLowerCase()+$.substr(6);var W;if($.indexOf("image://")===0)W=Mo($.slice(8),new n0(Q,J,K,Y),q?"center":"cover");else if($.indexOf("path://")===0)W=NU($.slice(7),{},new n0(Q,J,K,Y),q?"center":"cover");else W=new Fw1({shape:{symbolType:$,x:Q,y:J,width:K,height:Y}});if(W.__isEmptyBrush=X,W.setColor=Uw1,Z)W.setColor(Z);return W}function XJ($){if(!Z0($))$=[+$,+$];return[$[0]||0,$[1]||0]}function f3($,Q){if($==null)return;if(!Z0($))$=[$,$];return[f0($[0],Q[0])||0,f0(g0($[1],$[0]),Q[1])||0]}var Kw1,Yw1,Zw1,qw1,Xw1,Ww1,YT,Fw1;var S8=h(()=>{l();a0();s5();l4();k1();y1();Kw1=Y1.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function($,Q){var{cx:J,cy:K}=Q,Y=Q.width/2,Z=Q.height/2;$.moveTo(J,K-Z),$.lineTo(J+Y,K+Z),$.lineTo(J-Y,K+Z),$.closePath()}}),Yw1=Y1.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function($,Q){var{cx:J,cy:K}=Q,Y=Q.width/2,Z=Q.height/2;$.moveTo(J,K-Z),$.lineTo(J+Y,K),$.lineTo(J,K+Z),$.lineTo(J-Y,K),$.closePath()}}),Zw1=Y1.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function($,Q){var{x:J,y:K}=Q,Y=Q.width/5*3,Z=Math.max(Y,Q.height),q=Y/2,X=q*q/(Z-q),W=K-Z+q+X,F=Math.asin(X/q),H=Math.cos(F)*q,B=Math.sin(F),z=Math.cos(F),A=q*0.6,R=q*0.7;$.moveTo(J-H,W+X),$.arc(J,W,q,Math.PI-F,Math.PI*2+F),$.bezierCurveTo(J+H-B*A,W+X+z*A,J,K-R,J,K),$.bezierCurveTo(J,K-R,J-H+B*A,W+X+z*A,J-H,W+X),$.closePath()}}),qw1=Y1.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function($,Q){var{height:J,width:K,x:Y,y:Z}=Q,q=K/3*2;$.moveTo(Y,Z),$.lineTo(Y+q,Z+J),$.lineTo(Y,Z+J/4*3),$.lineTo(Y-q,Z+J),$.lineTo(Y,Z),$.closePath()}}),Xw1={line:X6,rect:X1,roundRect:X1,square:X1,circle:a4,diamond:Yw1,pin:Zw1,arrow:qw1,triangle:Kw1},Ww1={line:function($,Q,J,K,Y){Y.x1=$,Y.y1=Q+K/2,Y.x2=$+J,Y.y2=Q+K/2},rect:function($,Q,J,K,Y){Y.x=$,Y.y=Q,Y.width=J,Y.height=K},roundRect:function($,Q,J,K,Y){Y.x=$,Y.y=Q,Y.width=J,Y.height=K,Y.r=Math.min(J,K)/4},square:function($,Q,J,K,Y){var Z=Math.min(J,K);Y.x=$,Y.y=Q,Y.width=Z,Y.height=Z},circle:function($,Q,J,K,Y){Y.cx=$+J/2,Y.cy=Q+K/2,Y.r=Math.min(J,K)/2},diamond:function($,Q,J,K,Y){Y.cx=$+J/2,Y.cy=Q+K/2,Y.width=J,Y.height=K},pin:function($,Q,J,K,Y){Y.x=$+J/2,Y.y=Q+K/2,Y.width=J,Y.height=K},arrow:function($,Q,J,K,Y){Y.x=$+J/2,Y.y=Q+K/2,Y.width=J,Y.height=K},triangle:function($,Q,J,K,Y){Y.cx=$+J/2,Y.cy=Q+K/2,Y.width=J,Y.height=K}},YT={};S(Xw1,function($,Q){YT[Q]=new $});Fw1=Y1.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function($,Q,J){var K=dF($,Q,J),Y=this.shape;if(Y&&Y.symbolType==="pin"&&Q.position==="inside")K.y=J.y+J.height*0.4;return K},buildPath:function($,Q,J){var K=Q.symbolType;if(K!=="none"){var Y=YT[K];if(!Y)K="rect",Y=YT[K];Ww1[K](Q.x,Q.y,Q.width,Q.height,Y.shape),Y.buildPath($,Y.shape,J)}}})});function hU($){return isFinite($)}function Hw1($,Q,J){var K=Q.x==null?0:Q.x,Y=Q.x2==null?1:Q.x2,Z=Q.y==null?0:Q.y,q=Q.y2==null?0:Q.y2;if(!Q.global)K=K*J.width+J.x,Y=Y*J.width+J.x,Z=Z*J.height+J.y,q=q*J.height+J.y;K=hU(K)?K:0,Y=hU(Y)?Y:1,Z=hU(Z)?Z:0,q=hU(q)?q:0;var X=$.createLinearGradient(K,Z,Y,q);return X}function Nw1($,Q,J){var{width:K,height:Y}=J,Z=Math.min(K,Y),q=Q.x==null?0.5:Q.x,X=Q.y==null?0.5:Q.y,W=Q.r==null?0.5:Q.r;if(!Q.global)q=q*K+J.x,X=X*Y+J.y,W=W*Z;q=hU(q)?q:0.5,X=hU(X)?X:0.5,W=W>=0&&hU(W)?W:0.5;var F=$.createRadialGradient(q,X,0,q,X,W);return F}function ZT($,Q,J){var K=Q.type==="radial"?Nw1($,Q,J):Hw1($,Q,J),Y=Q.colorStops;for(var Z=0;Z<Y.length;Z++)K.addColorStop(Y[Z].offset,Y[Z].color);return K}function J_0($,Q){if($===Q||!$&&!Q)return!1;if(!$||!Q||$.length!==Q.length)return!0;for(var J=0;J<$.length;J++)if($[J]!==Q[J])return!0;return!1}function h_($){return parseInt($,10)}function tX($,Q,J){var K=["width","height"][Q],Y=["clientWidth","clientHeight"][Q],Z=["paddingLeft","paddingTop"][Q],q=["paddingRight","paddingBottom"][Q];if(J[K]!=null&&J[K]!=="auto")return parseFloat(J[K]);var X=document.defaultView.getComputedStyle($);return($[Y]||h_(X[K])||h_($.style[K]))-(h_(X[Z])||0)-(h_(X[q])||0)|0}function Bw1($,Q){if(!$||$==="solid"||!(Q>0))return null;return $==="dashed"?[4*Q,2*Q]:$==="dotted"?[Q]:V1($)?[$]:Z0($)?$:null}function qT($){var Q=$.style,J=Q.lineDash&&Q.lineWidth>0&&Bw1(Q.lineDash,Q.lineWidth),K=Q.lineDashOffset;if(J){var Y=Q.strokeNoScale&&$.getLineScale?$.getLineScale():1;if(Y&&Y!==1)J=q0(J,function(Z){return Z/Y}),K/=Y}return[J,K]}var la=h(()=>{l()});function v_($){var Q=$.stroke;return!(Q==null||Q==="none"||!($.lineWidth>0))}function K_0($){return typeof $==="string"&&$!=="none"}function S_($){var Q=$.fill;return Q!=null&&Q!=="none"}function Y_0($,Q){if(Q.fillOpacity!=null&&Q.fillOpacity!==1){var J=$.globalAlpha;$.globalAlpha=Q.fillOpacity*Q.opacity,$.fill(),$.globalAlpha=J}else $.fill()}function Z_0($,Q){if(Q.strokeOpacity!=null&&Q.strokeOpacity!==1){var J=$.globalAlpha;$.globalAlpha=Q.strokeOpacity*Q.opacity,$.stroke(),$.globalAlpha=J}else $.stroke()}function __($,Q,J){var K=Rw(Q.image,Q.__image,J);if(Bz(K)){var Y=$.createPattern(K,Q.repeat||"repeat");if(typeof DOMMatrix==="function"&&Y&&Y.setTransform){var Z=new DOMMatrix;Z.translateSelf(Q.x||0,Q.y||0),Z.rotateSelf(0,0,(Q.rotation||0)*sB),Z.scaleSelf(Q.scaleX||1,Q.scaleY||1),Y.setTransform(Z)}return Y}}function Aw1($,Q,J,K){var Y,Z=v_(J),q=S_(J),X=J.strokePercent,W=X<1,F=!Q.path;if((!Q.silent||W)&&F)Q.createPathProxy();var H=Q.path||zw1,B=Q.__dirty;if(!K){var{fill:z,stroke:A}=J,R=q&&!!z.colorStops,G=Z&&!!A.colorStops,O=q&&!!z.image,T=Z&&!!A.image,D=void 0,P=void 0,j=void 0,E=void 0,L=void 0;if(R||G)L=Q.getBoundingRect();if(R)D=B?ZT($,z,L):Q.__canvasFillGradient,Q.__canvasFillGradient=D;if(G)P=B?ZT($,A,L):Q.__canvasStrokeGradient,Q.__canvasStrokeGradient=P;if(O)j=B||!Q.__canvasFillPattern?__($,z,Q):Q.__canvasFillPattern,Q.__canvasFillPattern=j;if(T)E=B||!Q.__canvasStrokePattern?__($,A,Q):Q.__canvasStrokePattern,Q.__canvasStrokePattern=E;if(R)$.fillStyle=D;else if(O)if(j)$.fillStyle=j;else q=!1;if(G)$.strokeStyle=P;else if(T)if(E)$.strokeStyle=E;else Z=!1}var v=Q.getGlobalScale();H.setScale(v[0],v[1],Q.segmentIgnoreThreshold);var f,_;if($.setLineDash&&J.lineDash)Y=qT(Q),f=Y[0],_=Y[1];var M=!0;if(F||B&vX){if(H.setDPR($.dpr),W)H.setContext(null);else H.setContext($),M=!1;H.reset(),Q.buildPath(H,Q.shape,K),H.toStatic(),Q.pathUpdated()}if(M)H.rebuildPath($,W?X:1);if(f)$.setLineDash(f),$.lineDashOffset=_;if(!K)if(J.strokeFirst){if(Z)Z_0($,J);if(q)Y_0($,J)}else{if(q)Y_0($,J);if(Z)Z_0($,J)}if(f)$.setLineDash([])}function Vw1($,Q,J){var K=Q.__image=Rw(J.image,Q.__image,Q,Q.onload);if(!K||!Bz(K))return;var Y=J.x||0,Z=J.y||0,q=Q.getWidth(),X=Q.getHeight(),W=K.width/K.height;if(q==null&&X!=null)q=X*W;else if(X==null&&q!=null)X=q/W;else if(q==null&&X==null)q=K.width,X=K.height;if(J.sWidth&&J.sHeight){var F=J.sx||0,H=J.sy||0;$.drawImage(K,F,H,J.sWidth,J.sHeight,Y,Z,q,X)}else if(J.sx&&J.sy){var{sx:F,sy:H}=J,B=q-F,z=X-H;$.drawImage(K,F,H,B,z,Y,Z,q,X)}else $.drawImage(K,Y,Z,q,X)}function Rw1($,Q,J){var K,Y=J.text;if(Y!=null&&(Y+=""),Y){$.font=J.font||k9,$.textAlign=J.textAlign,$.textBaseline=J.textBaseline;var Z=void 0,q=void 0;if($.setLineDash&&J.lineDash)K=qT(Q),Z=K[0],q=K[1];if(Z)$.setLineDash(Z),$.lineDashOffset=q;if(J.strokeFirst){if(v_(J))$.strokeText(Y,J.x,J.y);if(S_(J))$.fillText(Y,J.x,J.y)}else{if(S_(J))$.fillText(Y,J.x,J.y);if(v_(J))$.strokeText(Y,J.x,J.y)}if(Z)$.setLineDash([])}}function B_0($,Q,J,K,Y){var Z=!1;if(!K){if(J=J||{},Q===J)return!1}if(K||Q.opacity!==J.opacity){d9($,Y),Z=!0;var q=Math.max(Math.min(Q.opacity,1),0);$.globalAlpha=isNaN(q)?SK.opacity:q}if(K||Q.blend!==J.blend){if(!Z)d9($,Y),Z=!0;$.globalCompositeOperation=Q.blend||SK.blend}for(var X=0;X<q_0.length;X++){var W=q_0[X];if(K||Q[W]!==J[W]){if(!Z)d9($,Y),Z=!0;$[W]=$.dpr*(Q[W]||0)}}if(K||Q.shadowColor!==J.shadowColor){if(!Z)d9($,Y),Z=!0;$.shadowColor=Q.shadowColor||SK.shadowColor}return Z}function W_0($,Q,J,K,Y){var Z=XT(Q,Y.inHover),q=K?null:J&&XT(J,Y.inHover)||{};if(Z===q)return!1;var X=B_0($,Z,q,K,Y);if(K||Z.fill!==q.fill){if(!X)d9($,Y),X=!0;K_0(Z.fill)&&($.fillStyle=Z.fill)}if(K||Z.stroke!==q.stroke){if(!X)d9($,Y),X=!0;K_0(Z.stroke)&&($.strokeStyle=Z.stroke)}if(K||Z.opacity!==q.opacity){if(!X)d9($,Y),X=!0;$.globalAlpha=Z.opacity==null?1:Z.opacity}if(Q.hasStroke()){var W=Z.lineWidth,F=W/(Z.strokeNoScale&&Q.getLineScale?Q.getLineScale():1);if($.lineWidth!==F){if(!X)d9($,Y),X=!0;$.lineWidth=F}}for(var H=0;H<X_0.length;H++){var B=X_0[H],z=B[0];if(K||Z[z]!==q[z]){if(!X)d9($,Y),X=!0;$[z]=Z[z]||B[1]}}return X}function Gw1($,Q,J,K,Y){return B_0($,XT(Q,Y.inHover),J&&XT(J,Y.inHover),K,Y)}function z_0($,Q){var J=Q.transform,K=$.dpr||1;if(J)$.setTransform(K*J[0],K*J[1],K*J[2],K*J[3],K*J[4],K*J[5]);else $.setTransform(K,0,0,K,0,0)}function Ow1($,Q,J){var K=!1;for(var Y=0;Y<$.length;Y++){var Z=$[Y];K=K||Z.isZeroArea(),z_0(Q,Z),Q.beginPath(),Z.buildPath(Q,Z.shape),Q.clip()}J.allClipped=K}function ww1($,Q){if($&&Q)return $[0]!==Q[0]||$[1]!==Q[1]||$[2]!==Q[2]||$[3]!==Q[3]||$[4]!==Q[4]||$[5]!==Q[5];else if(!$&&!Q)return!1;return!0}function Tw1($){var Q=S_($),J=v_($);return!($.lineDash||!(+Q^+J)||Q&&typeof $.fill!=="string"||J&&typeof $.stroke!=="string"||$.strokePercent<1||$.strokeOpacity<1||$.fillOpacity<1)}function d9($,Q){Q.batchFill&&$.fill(),Q.batchStroke&&$.stroke(),Q.batchFill="",Q.batchStroke=""}function XT($,Q){return Q?$.__hoverStyle||$.style:$.style}function f_($,Q){eX($,Q,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function eX($,Q,J,K){var Y=Q.transform;if(!Q.shouldBePainted(J.viewWidth,J.viewHeight,!1,!1)){Q.__dirty&=~Q8,Q.__isRendered=!1;return}var Z=Q.__clipPaths,q=J.prevElClipPaths,X=!1,W=!1;if(!q||J_0(Z,q)){if(q&&q.length)d9($,J),$.restore(),W=X=!0,J.prevElClipPaths=null,J.allClipped=!1,J.prevEl=null;if(Z&&Z.length)d9($,J),$.save(),Ow1(Z,$,J),X=!0;J.prevElClipPaths=Z}if(J.allClipped){Q.__isRendered=!1;return}Q.beforeBrush&&Q.beforeBrush(),Q.innerBeforeBrush();var F=J.prevEl;if(!F)W=X=!0;var H=Q instanceof Y1&&Q.autoBatch&&Tw1(Q.style);if(X||ww1(Y,F.transform))d9($,J),z_0($,Q);else if(!H)d9($,J);var B=XT(Q,J.inHover);if(Q instanceof Y1){if(J.lastDrawType!==F_0)W=!0,J.lastDrawType=F_0;if(W_0($,Q,F,W,J),!H||!J.batchFill&&!J.batchStroke)$.beginPath();if(Aw1($,Q,B,H),H)J.batchFill=B.fill||"",J.batchStroke=B.stroke||""}else if(Q instanceof AZ){if(J.lastDrawType!==H_0)W=!0,J.lastDrawType=H_0;W_0($,Q,F,W,J),Rw1($,Q,B)}else if(Q instanceof q6){if(J.lastDrawType!==U_0)W=!0,J.lastDrawType=U_0;Gw1($,Q,F,W,J),Vw1($,Q,B)}else if(Q.getTemporalDisplayables){if(J.lastDrawType!==N_0)W=!0,J.lastDrawType=N_0;Dw1($,Q,J)}if(H&&K)d9($,J);Q.innerAfterBrush(),Q.afterBrush&&Q.afterBrush(),J.prevEl=Q,Q.__dirty=0,Q.__isRendered=!0}function Dw1($,Q,J){var K=Q.getDisplayables(),Y=Q.getTemporalDisplayables();$.save();var Z={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:J.viewWidth,viewHeight:J.viewHeight,inHover:J.inHover},q,X;for(q=Q.getCursor(),X=K.length;q<X;q++){var W=K[q];W.beforeBrush&&W.beforeBrush(),W.innerBeforeBrush(),eX($,W,Z,q===X-1),W.innerAfterBrush(),W.afterBrush&&W.afterBrush(),Z.prevEl=W}for(var F=0,H=Y.length;F<H;F++){var W=Y[F];W.beforeBrush&&W.beforeBrush(),W.innerBeforeBrush(),eX($,W,Z,F===H-1),W.innerAfterBrush(),W.afterBrush&&W.afterBrush(),Z.prevEl=W}Q.clearTemporalDisplayables(),Q.notClear=!0,$.restore()}var zw1,q_0,X_0,F_0=1,U_0=2,H_0=3,N_0=4;var I_=h(()=>{E3();L3();nv();m6();u$();Dw();l();la();h$();zw1=new z8(!0);q_0=["shadowBlur","shadowOffsetX","shadowOffsetY"],X_0=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]]});function WJ($,Q){if($==="none")return null;var J=Q.getDevicePixelRatio(),K=Q.getZr(),Y=K.painter.type==="svg";if($.dirty)ra.delete($);var Z=ra.get($);if(Z)return Z;var q=c0($,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});if(q.backgroundColor==="none")q.backgroundColor=null;var X={repeat:"repeat"};return W(X),X.rotation=q.rotation,X.scaleX=X.scaleY=Y?1:1/J,ra.set($,X),$.dirty=!1,X;function W(F){var H=[J],B=!0;for(var z=0;z<V_0.length;++z){var A=q[V_0[z]];if(A!=null&&!Z0(A)&&!R0(A)&&!V1(A)&&typeof A!=="boolean"){B=!1;break}H.push(A)}var R;if(B){R=H.join(",")+(Y?"-svg":"");var G=A_0.get(R);if(G)Y?F.svgElement=G:F.image=G}var O=G_0(q.dashArrayX),T=Cw1(q.dashArrayY),D=R_0(q.symbol),P=Pw1(O),j=O_0(T),E=!Y&&U8.createCanvas(),L=Y&&{tag:"g",attrs:{},key:"dcl",children:[]},v=_(),f;if(E)E.width=v.width*J,E.height=v.height*J,f=E.getContext("2d");if(M(),B)A_0.put(R,E||L);F.image=E,F.svgElement=L,F.svgWidth=v.width,F.svgHeight=v.height;function _(){var b=1;for(var x=0,g=P.length;x<g;++x)b=Is(b,P[x]);var m=1;for(var x=0,g=D.length;x<g;++x)m=Is(m,D[x].length);b*=m;var u=j*P.length*D.length,p=function(o){console.warn("Calculated decal size is greater than "+o+" due to decal option settings so "+o+" is used for the decal size. Please consider changing the decal option to make a smaller decal or set "+o+" to be larger to avoid incontinuity.")};if(b>q.maxTileWidth)p("maxTileWidth");if(u>q.maxTileHeight)p("maxTileHeight");return{width:Math.max(1,Math.min(b,q.maxTileWidth)),height:Math.max(1,Math.min(u,q.maxTileHeight))}}function M(){if(f){if(f.clearRect(0,0,E.width,E.height),q.backgroundColor)f.fillStyle=q.backgroundColor,f.fillRect(0,0,E.width,E.height)}var b=0;for(var x=0;x<T.length;++x)b+=T[x];if(b<=0)return;var g=-j,m=0,u=0,p=0;while(g<v.height){if(m%2===0){var o=u/2%D.length,t=0,r=0,Q0=0;while(t<v.width*2){var F0=0;for(var x=0;x<O[p].length;++x)F0+=O[p][x];if(F0<=0)break;if(r%2===0){var W0=(1-q.symbolSize)*0.5,h0=t+O[p][r]*W0,d0=g+T[m]*W0,W1=O[p][r]*q.symbolSize,z1=T[m]*q.symbolSize,b1=Q0/2%D[o].length;B1(h0,d0,W1,z1,D[o][b1])}if(t+=O[p][r],++Q0,++r,r===O[p].length)r=0}if(++p,p===O.length)p=0}if(g+=T[m],++u,++m,m===T.length)m=0}function B1(e0,P1,t0,w1,V5){var g1=Y?1:J,w5=y5(V5,e0*g1,P1*g1,t0*g1,w1*g1,q.color,q.symbolKeepAspect);if(Y){var T5=K.painter.renderOneToVNode(w5);if(T5)L.children.push(T5)}else f_(f,w5)}}}}function R_0($){if(!$||$.length===0)return[["rect"]];if(R0($))return[[$]];var Q=!0;for(var J=0;J<$.length;++J)if(!R0($[J])){Q=!1;break}if(Q)return R_0([$]);var K=[];for(var J=0;J<$.length;++J)if(R0($[J]))K.push([$[J]]);else K.push($[J]);return K}function G_0($){if(!$||$.length===0)return[[0,0]];if(V1($)){var Q=Math.ceil($);return[[Q,Q]]}var J=!0;for(var K=0;K<$.length;++K)if(!V1($[K])){J=!1;break}if(J)return G_0([$]);var Y=[];for(var K=0;K<$.length;++K)if(V1($[K])){var Q=Math.ceil($[K]);Y.push([Q,Q])}else{var Q=q0($[K],function(X){return Math.ceil(X)});if(Q.length%2===1)Y.push(Q.concat(Q));else Y.push(Q)}return Y}function Cw1($){if(!$||typeof $==="object"&&$.length===0)return[0,0];if(V1($)){var Q=Math.ceil($);return[Q,Q]}var J=q0($,function(K){return Math.ceil(K)});return $.length%2?J.concat(J):J}function Pw1($){return q0($,function(Q){return O_0(Q)})}function O_0($){var Q=0;for(var J=0;J<$.length;++J)Q+=$[J];if($.length%2===1)return Q*2;return Q}var ra,A_0,V_0;var yz=h(()=>{$_0();Qw();l();k1();S8();I_();h$();ra=new eS0,A_0=new kK(100),V_0=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"]});function ia($,Q){$.eachRawSeries(function(J){if($.isSeriesFiltered(J))return;var K=J.getData();if(K.hasItemVisual())K.each(function(q){var X=K.getItemVisual(q,"decal");if(X){var W=K.ensureUniqueItemVisual(q,"style");W.decal=WJ(X,Q)}});var Y=K.getVisual("decal");if(Y){var Z=K.getVisual("style");Z.decal=WJ(Y,Q)}})}var w_0=h(()=>{yz()});var kw1,a$;var T_0=h(()=>{DK();kw1=new p7,a$=kw1});function D_0($,Q){if(M_[$])S1("Already has an implementation of "+$+".");M_[$]=Q}function C_0($){if(!M_[$])S1("Implementation of "+$+" doesn't exists.");return M_[$]}var M_;var sa=h(()=>{N5();M_={}});function k_0($,Q){P_0[$]=Q}function j_0($){return P_0[$]}var P_0;var oa=h(()=>{P_0={}});function c_0($){return function(){var Q=[];for(var J=0;J<arguments.length;J++)Q[J]=arguments[J];if(this.isDisposed()){n9(this.id);return}return m_0(this,$,Q)}}function u_0($){return function(){var Q=[];for(var J=0;J<arguments.length;J++)Q[J]=arguments[J];return m_0(this,$,Q)}}function m_0($,Q,J){return J[0]=J[0]&&J[0].toLowerCase(),p7.prototype[Q].apply($,J)}function n9($){S5("Instance "+$+" has been disposed")}function i_0($,Q,J){var K=!(J&&J.ssr);if(K){if(!$)throw Error("Initialize failed: invalid dom.");var Y=uw1($);if(Y)return S5("There is a chart instance already initialized on the dom."),Y;if(wK($)&&$.nodeName.toUpperCase()!=="CANVAS"&&(!$.clientWidth&&(!J||J.width==null)||!$.clientHeight&&(!J||J.height==null)))S5("Can't get DOM width or height. Please check dom.clientWidth and dom.clientHeight. They should not be 0.For example, you may need to call this in the callback of window.onload.")}var Z=new l_0($,Q,J);return Z.id="ec_"+cw1++,WT[Z.id]=Z,K&&bs($,Ft,Z.id),n_0(Z),a$.trigger("afterinit",Z),Z}function uw1($){return WT[lE0($,Ft)]}function s_0($,Q){r_0[$]=Q}function Ut($){if(J1(Zt,$)<0)Zt.push($)}function Ht($,Q){Nt(Yt,$,Q,vw1)}function o_0($){d_("afterinit",$)}function a_0($){d_("afterupdate",$)}function d_($,Q){a$.on($,Q)}function Q9($,Q,J){var K,Y,Z,q,X;if(I0(Q))J=Q,Q="";if(y0($)){if(K=$.type,Y=$.event,q=$.update,X=$.publishNonRefinedEvent,!J)J=$.action;Z=$.refineEvent}else K=$,Y=Q;function W(H){return H.toLowerCase()}Y=W(Y||K);var F=Z?W(K):Y;if(c_[K])return;if(M0(E_0.test(K)&&E_0.test(Y)),Z)M0(Y!==K);if(c_[K]={actionType:K,refinedEventType:Y,nonRefinedEventType:F,update:q,action:J,refineEvent:Z},Kt[Y]=1,Z&&X)Kt[F]=1;if(u_[F])S1(F+' must not be shared; use "refineEvent" if you intend to share an event name.');u_[F]=K}function t_0($,Q){YJ.register($,Q)}function e_0($,Q){Nt(m_,$,Q,b_0,"layout")}function $2($,Q){Nt(m_,$,Q,g_0,"visual")}function Nt($,Q,J,K,Y){if(I0(Q)||y0(Q))J=Q,Q=K;if(isNaN(Q)||Q==null)throw Error("Illegal priority");if(S($,function(q){M0(q.__raw!==J)}),J1(M_0,J)>=0)return;M_0.push(J);var Z=pa.wrapStageHandler(J,Y);Z.__prio=Q,Z.__raw=J,$.push(Z)}function Bt($,Q){qt[$]=Q}function $f0($,Q,J){var K=C_0("registerMap");K&&K($,Q,J)}function zt($,Q,J,K){return{eventContent:{selected:Kh0(J),isFromClick:Q.isFromClick||!1}}}var jw1=1,Ew1=800,Lw1=900,hw1=1000,vw1=2000,Sw1=5000,b_0=1000,_w1=1100,Xt=2000,g_0=3000,fw1=4000,p_=4500,Iw1=4600,Mw1=5000,bw1=6000,y_0=7000,x_0,Z8="__flagInMainProcess",b_="__mainProcessVersion",_8="__pendingUpdate",aa="__needsUpdateStatus",E_0,ta="__connectUpdateStatus",L_0=0,gw1=1,yw1=2,p_0,d_0,vU,ea,g_,vZ,y_,$t,Qt,xz,cz,h_0,v_0,Jt,S_0,x_,__0,n_0,t$,f_0,uz,l_0,Wt,xw1,c_,u_,Kt,Yt,Zt,m_,r_0,qt,WT,I_0,cw1,AA5,Ft="_echarts_instance_",M_0,Qf0;var SU=h(()=>{H0();fv();l();t7();DK();Ra();Ga();c9();dv0();tv0();ev0();o6();a6();t6();a0();o5();M5();l0();bS0();gS0();uS0();nS0();vK();rS0();aS0();N5();L_();va();hS();w_0();T_0();h$();sa();x_0={PROCESSOR:{FILTER:hw1,SERIES_FILTER:Ew1,STATISTIC:Sw1},VISUAL:{LAYOUT:b_0,PROGRESSIVE_LAYOUT:_w1,GLOBAL:Xt,CHART:g_0,POST_CHART_LAYOUT:Iw1,COMPONENT:fw1,BRUSH:Mw1,CHART_ITEM:p_,ARIA:bw1,DECAL:y_0}},E_0=/^[a-zA-Z0-9_]+$/;p_0=function($){c(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q}(p7),d_0=p_0.prototype;d_0.on=u_0("on");d_0.off=u_0("off");l_0=function($){c(Q,$);function Q(J,K,Y){var Z=$.call(this,new lS0)||this;Z._chartsViews=[],Z._chartsMap={},Z._componentsViews=[],Z._componentsMap={},Z._pendingActions=[],Y=Y||{},Z._dom=J;var q="canvas",X="auto",W=!1;Z[b_]=1;var F=M1.hasGlobalWindow?window:global;if(F)q=g0(F.__ECHARTS__DEFAULT__RENDERER__,q),X=g0(F.__ECHARTS__DEFAULT__COARSE_POINTER,X),W=g0(F.__ECHARTS__DEFAULT__USE_DIRTY_RECT__,W);if(Y.ssr)EE0(function(A){var R=r0(A),G=R.dataIndex;if(G==null)return;var O=_0();return O.set("series_index",R.seriesIndex),O.set("data_index",G),R.ssrType&&O.set("ssr_type",R.ssrType),O});var H=Z._zr=vs(J,{renderer:Y.renderer||q,devicePixelRatio:Y.devicePixelRatio,width:Y.width,height:Y.height,ssr:Y.ssr,useDirtyRect:g0(Y.useDirtyRect,W),useCoarsePointer:g0(Y.useCoarsePointer,X),pointerSize:Y.pointerSize});Z._ssr=Y.ssr,Z._throttledZrFlush=ew(P0(H.flush,H),17),Z._updateTheme(K),Z._locale=Uv0(Y.locale||LS),Z._coordSysMgr=new YJ;var B=Z._api=__0(Z);function z(A,R){return A.__prio-R.__prio}return _F(m_,z),_F(Yt,z),Z._scheduler=new pa(Z,B,Yt,m_),Z._messageCenter=new p_0,Z._initEvents(),Z.resize=P0(Z.resize,Z),H.animation.on("frame",Z._onframe,Z),h_0(H,Z),v_0(H,Z),kF(Z),Z}return Q.prototype._onframe=function(){if(this._disposed)return;f_0(this);var J=this._scheduler;if(this[_8]){var K=this[_8].silent;this[Z8]=!0,uz(this);try{vU(this),vZ.update.call(this,null,this[_8].updateParams)}catch(W){throw this[Z8]=!1,this[_8]=null,W}this._zr.flush(),this[Z8]=!1,this[_8]=null,xz.call(this,K),cz.call(this,K)}else if(J.unfinished){var Y=jw1,Z=this._model,q=this._api;J.unfinished=!1;do{var X=+new Date;J.performSeriesTasks(Z),J.performDataProcessorTasks(Z),$t(this,Z),J.performVisualTasks(Z),x_(this,this._model,q,"remain",{}),Y-=+new Date-X}while(Y>0&&J.unfinished);if(!J.unfinished)this._zr.flush()}},Q.prototype.getDom=function(){return this._dom},Q.prototype.getId=function(){return this.id},Q.prototype.getZr=function(){return this._zr},Q.prototype.isSSR=function(){return this._ssr},Q.prototype.setOption=function(J,K,Y){if(this[Z8]){S1("`setOption` should not be called during main process.");return}if(this._disposed){n9(this.id);return}var Z,q,X;if(y0(K))Y=K.lazyUpdate,Z=K.silent,q=K.replaceMerge,X=K.transition,K=K.notMerge;if(this[Z8]=!0,uz(this),!this._model||K){var W=new pv0(this._api),F=this._theme,H=this._model=new K_;H.scheduler=this._scheduler,H.ssr=this._ssr,H.init(null,null,null,F,this._locale,W)}this._model.setOption(J,{replaceMerge:q},Zt);var B={seriesTransition:X,optionChanged:!0};if(Y)this[_8]={silent:Z,updateParams:B},this[Z8]=!1,this.getZr().wakeUp();else{try{vU(this),vZ.update.call(this,null,B)}catch(z){throw this[_8]=null,this[Z8]=!1,z}if(!this._ssr)this._zr.flush();this[_8]=null,this[Z8]=!1,xz.call(this,Z),cz.call(this,Z)}},Q.prototype.setTheme=function(J,K){if(this[Z8]){S1("`setTheme` should not be called during main process.");return}if(this._disposed){n9(this.id);return}var Y=this._model;if(!Y)return;var Z=K&&K.silent,q=null;if(this[_8]){if(Z==null)Z=this[_8].silent;q=this[_8].updateParams,this[_8]=null}this[Z8]=!0,uz(this);try{this._updateTheme(J),Y.setTheme(this._theme),vU(this),vZ.update.call(this,{type:"setTheme"},q)}catch(X){throw this[Z8]=!1,X}this[Z8]=!1,xz.call(this,Z),cz.call(this,Z)},Q.prototype._updateTheme=function(J){if(R0(J))J=r_0[J];if(J)J=m0(J),J&&Z_(J,!0),this._theme=J},Q.prototype.getModel=function(){return this._model},Q.prototype.getOption=function(){return this._model&&this._model.getOption()},Q.prototype.getWidth=function(){return this._zr.getWidth()},Q.prototype.getHeight=function(){return this._zr.getHeight()},Q.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||M1.hasGlobalWindow&&window.devicePixelRatio||1},Q.prototype.getRenderedCanvas=function(J){return u6("getRenderedCanvas","renderToCanvas"),this.renderToCanvas(J)},Q.prototype.renderToCanvas=function(J){J=J||{};var K=this._zr.painter;if(K.type!=="canvas")throw Error("renderToCanvas can only be used in the canvas renderer.");return K.getRenderedCanvas({backgroundColor:J.backgroundColor||this._model.get("backgroundColor"),pixelRatio:J.pixelRatio||this.getDevicePixelRatio()})},Q.prototype.renderToSVGString=function(J){J=J||{};var K=this._zr.painter;if(K.type!=="svg")throw Error("renderToSVGString can only be used in the svg renderer.");return K.renderToString({useViewBox:J.useViewBox})},Q.prototype.getSvgDataURL=function(){var J=this._zr,K=J.storage.getDisplayList();return S(K,function(Y){Y.stopAnimation(null,!0)}),J.painter.toDataURL()},Q.prototype.getDataURL=function(J){if(this._disposed){n9(this.id);return}J=J||{};var K=J.excludeComponents,Y=this._model,Z=[],q=this;S(K,function(W){Y.eachComponent({mainType:W},function(F){var H=q._componentsMap[F.__viewId];if(!H.group.ignore)Z.push(H),H.group.ignore=!0})});var X=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(J).toDataURL("image/"+(J&&J.type||"png"));return S(Z,function(W){W.group.ignore=!1}),X},Q.prototype.getConnectedDataURL=function(J){if(this._disposed){n9(this.id);return}var K=J.type==="svg",Y=this.group,Z=Math.min,q=Math.max,X=1/0;if(I_0[Y]){var W=X,F=X,H=-X,B=-X,z=[],A=J&&J.pixelRatio||this.getDevicePixelRatio();S(WT,function(P,j){if(P.group===Y){var E=K?P.getZr().painter.getSvgDom().innerHTML:P.renderToCanvas(m0(J)),L=P.getDom().getBoundingClientRect();W=Z(L.left,W),F=Z(L.top,F),H=q(L.right,H),B=q(L.bottom,B),z.push({dom:E,left:L.left,top:L.top})}}),W*=A,F*=A,H*=A,B*=A;var R=H-W,G=B-F,O=U8.createCanvas(),T=vs(O,{renderer:K?"svg":"canvas"});if(T.resize({width:R,height:G}),K){var D="";if(S(z,function(P){var j=P.left-W,E=P.top-F;D+='<g transform="translate('+j+","+E+')">'+P.dom+"</g>"}),T.painter.getSvgRoot().innerHTML=D,J.connectedBackgroundColor)T.painter.setBackgroundColor(J.connectedBackgroundColor);return T.refreshImmediately(),T.painter.toDataURL()}else{if(J.connectedBackgroundColor)T.add(new X1({shape:{x:0,y:0,width:R,height:G},style:{fill:J.connectedBackgroundColor}}));return S(z,function(P){var j=new q6({style:{x:P.left*A-W,y:P.top*A-F,image:P.dom}});T.add(j)}),T.refreshImmediately(),O.toDataURL("image/"+(J&&J.type||"png"))}}else return this.getDataURL(J)},Q.prototype.convertToPixel=function(J,K,Y){return y_(this,"convertToPixel",J,K,Y)},Q.prototype.convertToLayout=function(J,K,Y){return y_(this,"convertToLayout",J,K,Y)},Q.prototype.convertFromPixel=function(J,K,Y){return y_(this,"convertFromPixel",J,K,Y)},Q.prototype.containPixel=function(J,K){if(this._disposed){n9(this.id);return}var Y=this._model,Z,q=LK(Y,J);return S(q,function(X,W){W.indexOf("Models")>=0&&S(X,function(F){var H=F.coordinateSystem;if(H&&H.containPoint)Z=Z||!!H.containPoint(K);else if(W==="seriesModels"){var B=this._chartsMap[F.__viewId];if(B&&B.containPoint)Z=Z||B.containPoint(K,F);else S5(W+": "+(B?"The found component do not support containPoint.":"No view mapping to the found component."))}else S5(W+": containPoint is not supported")},this)},this),!!Z},Q.prototype.getVisual=function(J,K){var Y=this._model,Z=LK(Y,J,{defaultMainType:"series"}),q=Z.seriesModel;if(!q)S5("There is no specified series model");var X=q.getData(),W=Z.hasOwnProperty("dataIndexInside")?Z.dataIndexInside:Z.hasOwnProperty("dataIndex")?X.indexOfRawIndex(Z.dataIndex):null;return W!=null?KT(X,W,K):dK(X,K)},Q.prototype.getViewOfComponentModel=function(J){return this._componentsMap[J.__viewId]},Q.prototype.getViewOfSeriesModel=function(J){return this._chartsMap[J.__viewId]},Q.prototype._initEvents=function(){var J=this;S(xw1,function(Y){var Z=function(q){var X=J.getModel(),W=q.target,F,H=Y==="globalout";if(H)F={};else W&&qJ(W,function(G){var O=r0(G);if(O&&O.dataIndex!=null){var T=O.dataModel||X.getSeriesByIndex(O.seriesIndex);return F=T&&T.getDataParams(O.dataIndex,O.dataType,W)||{},!0}else if(O.eventData)return F=Y0({},O.eventData),!0},!0);if(F){var{componentType:B,componentIndex:z}=F;if(B==="markLine"||B==="markPoint"||B==="markArea")B="series",z=F.seriesIndex;var A=B&&z!=null&&X.getComponent(B,z),R=A&&J[A.mainType==="series"?"_chartsMap":"_componentsMap"][A.__viewId];if(!H&&!(A&&R))S5("model or view can not be found by params");F.event=q,F.type=Y,J._$eventProcessor.eventInfo={targetEl:W,packedEvent:F,model:A,view:R},J.trigger(Y,F)}};Z.zrEventfulCallAtLast=!0,J._zr.on(Y,Z,J)});var K=this._messageCenter;S(Kt,function(Y,Z){K.on(Z,function(q){J.trigger(Z,q)})}),tS0(K,this,this._api)},Q.prototype.isDisposed=function(){return this._disposed},Q.prototype.clear=function(){if(this._disposed){n9(this.id);return}this.setOption({series:[]},!0)},Q.prototype.dispose=function(){if(this._disposed){n9(this.id);return}this._disposed=!0;var J=this.getDom();if(J)bs(this.getDom(),Ft,"");var K=this,Y=K._api,Z=K._model;S(K._componentsViews,function(q){q.dispose(Z,Y)}),S(K._chartsViews,function(q){q.dispose(Z,Y)}),K._zr.dispose(),K._dom=K._model=K._chartsMap=K._componentsMap=K._chartsViews=K._componentsViews=K._scheduler=K._api=K._zr=K._throttledZrFlush=K._theme=K._coordSysMgr=K._messageCenter=null,delete WT[K.id]},Q.prototype.resize=function(J){if(this[Z8]){S1("`resize` should not be called during main process.");return}if(this._disposed){n9(this.id);return}this._zr.resize(J);var K=this._model;if(this._loadingFX&&this._loadingFX.resize(),!K)return;var Y=K.resetOption("media"),Z=J&&J.silent;if(this[_8]){if(Z==null)Z=this[_8].silent;Y=!0,this[_8]=null}this[Z8]=!0,uz(this);try{Y&&vU(this),vZ.update.call(this,{type:"resize",animation:Y0({duration:0},J&&J.animation)})}catch(q){throw this[Z8]=!1,q}this[Z8]=!1,xz.call(this,Z),cz.call(this,Z)},Q.prototype.showLoading=function(J,K){if(this._disposed){n9(this.id);return}if(y0(J))K=J,J="";if(J=J||"default",this.hideLoading(),!qt[J]){S5("Loading effects "+J+" not exists.");return}var Y=qt[J](this._api,K),Z=this._zr;this._loadingFX=Y,Z.add(Y)},Q.prototype.hideLoading=function(){if(this._disposed){n9(this.id);return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},Q.prototype.makeActionFromEvent=function(J){var K=Y0({},J);return K.type=u_[J.type],K},Q.prototype.dispatchAction=function(J,K){if(this._disposed){n9(this.id);return}if(!y0(K))K={silent:!!K};if(!c_[J.type])return;if(!this._model)return;if(this[Z8]){this._pendingActions.push(J);return}var Y=K.silent;Qt.call(this,J,Y);var Z=K.flush;if(Z)this._zr.flush();else if(Z!==!1&&M1.browser.weChat)this._throttledZrFlush();xz.call(this,Y),cz.call(this,Y)},Q.prototype.updateLabelLayout=function(){a$.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},Q.prototype.appendData=function(J){if(this._disposed){n9(this.id);return}var K=J.seriesIndex,Y=this.getModel(),Z=Y.getSeriesByIndex(K);M0(J.data&&Z),Z.appendData(J),this._scheduler.unfinished=!0,this.getZr().wakeUp()},Q.internalField=function(){vU=function(B){var z=B._scheduler;z.restorePipelines(B._model),z.prepareStageTasks(),ea(B,!0),ea(B,!1),z.plan()},ea=function(B,z){var{_model:A,_scheduler:R}=B,G=z?B._componentsViews:B._chartsViews,O=z?B._componentsMap:B._chartsMap,T=B._zr,D=B._api;for(var P=0;P<G.length;P++)G[P].__alive=!1;z?A.eachComponent(function(L,v){L!=="series"&&j(v)}):A.eachSeries(j);function j(L){var v=L.__requireNewView;L.__requireNewView=!1;var f="_ec_"+L.id+"_"+L.type,_=!v&&O[f];if(!_){var M=f9(L.type),b=z?a1.getClass(M.main,M.sub):c1.getClass(M.sub);M0(b,M.sub+" does not exist."),_=new b,_.init(A,D),O[f]=_,G.push(_),T.add(_.group)}L.__viewId=_.__id=f,_.__alive=!0,_.__model=L,_.group.__ecComponentInfo={mainType:L.mainType,index:L.componentIndex},!z&&R.prepareView(_,L,A,D)}for(var P=0;P<G.length;){var E=G[P];if(!E.__alive){if(!z&&E.renderTask.dispose(),T.remove(E.group),E.dispose(A,D),G.splice(P,1),O[E.__id]===E)delete O[E.__id];E.__id=E.group.__ecComponentInfo=null}else P++}},g_=function(B,z,A,R,G){var O=B._model;if(O.setUpdatePayload(A),!R){S([].concat(B._componentsViews).concat(B._chartsViews),E);return}var T={};T[R+"Id"]=A[R+"Id"],T[R+"Index"]=A[R+"Index"],T[R+"Name"]=A[R+"Name"];var D={mainType:R,query:T};G&&(D.subType=G);var P=A.excludeSeriesId,j;if(P!=null)j=_0(),S(H5(P),function(L){var v=T6(L,null);if(v!=null)j.set(v,!0)});O&&O.eachComponent(D,function(L){var v=j&&j.get(L.id)!=null;if(v)return;if(Vo(A))if(L instanceof o1){if(A.type===nX&&!A.notBlur&&!L.get(["emphasis","disabled"]))eL0(L,A,B._api)}else{var f=KS(L.mainType,L.componentIndex,A.name,B._api),_=f.focusSelf,M=f.dispatchers;if(A.type===nX&&_&&!A.notBlur)tv(L.mainType,L.componentIndex,B._api);if(M)S(M,function(b){A.type===nX?G4(b):O4(b)})}else if(ZS(A)){if(L instanceof o1)Jh0(L,A,B._api),Ao(L),t$(B)}},B),O&&O.eachComponent(D,function(L){var v=j&&j.get(L.id)!=null;if(v)return;E(B[R==="series"?"_chartsMap":"_componentsMap"][L.__viewId])},B);function E(L){L&&L.__alive&&L[z]&&L[z](L.__model,O,B._api,A)}},vZ={prepareAndUpdate:function(B){vU(this),vZ.update.call(this,B,B&&{optionChanged:B.newOption!=null})},update:function(B,z){var A=this._model,R=this._api,G=this._zr,O=this._coordSysMgr,T=this._scheduler;if(!A)return;A.setUpdatePayload(B),T.restoreData(A,B),T.performSeriesTasks(A),O.create(A,R),T.performDataProcessorTasks(A,B),$t(this,A),O.update(A,R),K(A),T.performVisualTasks(A,B);var D=A.get("backgroundColor")||"transparent";G.setBackgroundColor(D);var P=A.get("darkMode");if(P!=null&&P!=="auto")G.setDarkMode(P);Jt(this,A,R,B,z),a$.trigger("afterupdate",A,R)},updateTransform:function(B){var z=this,A=this._model,R=this._api;if(!A)return;A.setUpdatePayload(B);var G=[];A.eachComponent(function(T,D){if(T==="series")return;var P=z.getViewOfComponentModel(D);if(P&&P.__alive)if(P.updateTransform){var j=P.updateTransform(D,A,R,B);j&&j.update&&G.push(P)}else G.push(P)});var O=_0();A.eachSeries(function(T){var D=z._chartsMap[T.__viewId];if(D.updateTransform){var P=D.updateTransform(T,A,R,B);P&&P.update&&O.set(T.uid,1)}else O.set(T.uid,1)}),K(A),this._scheduler.performVisualTasks(A,B,{setDirty:!0,dirtyMap:O}),x_(this,A,R,B,{},O),a$.trigger("afterupdate",A,R)},updateView:function(B){var z=this._model;if(!z)return;z.setUpdatePayload(B),c1.markUpdateMethod(B,"updateView"),K(z),this._scheduler.performVisualTasks(z,B,{setDirty:!0}),Jt(this,z,this._api,B,{}),a$.trigger("afterupdate",z,this._api)},updateVisual:function(B){var z=this,A=this._model;if(!A)return;A.setUpdatePayload(B),A.eachSeries(function(R){R.getData().clearAllVisual()}),c1.markUpdateMethod(B,"updateVisual"),K(A),this._scheduler.performVisualTasks(A,B,{visualType:"visual",setDirty:!0}),A.eachComponent(function(R,G){if(R!=="series"){var O=z.getViewOfComponentModel(G);O&&O.__alive&&O.updateVisual(G,A,z._api,B)}}),A.eachSeries(function(R){var G=z._chartsMap[R.__viewId];G.updateVisual(R,A,z._api,B)}),a$.trigger("afterupdate",A,this._api)},updateLayout:function(B){vZ.update.call(this,B)}};function J(B,z,A,R,G){if(B._disposed){n9(B.id);return}var O=B._model,T=B._coordSysMgr.getCoordinateSystems(),D,P=LK(O,A);for(var j=0;j<T.length;j++){var E=T[j];if(E[z]&&(D=E[z](O,P,R,G))!=null)return D}S5("No coordinate system that supports "+z+" found by the given finder.")}y_=J,$t=function(B,z){var{_chartsMap:A,_scheduler:R}=B;z.eachSeries(function(G){R.updateStreamModes(G,A[G.__viewId])})},Qt=function(B,z){var A=this,R=this.getModel(),G=B.type,O=B.escapeConnect,T=c_[G],D=(T.update||"update").split(":"),P=D.pop(),j=D[0]!=null&&f9(D[0]);this[Z8]=!0,uz(this);var E=[B],L=!1;if(B.batch)L=!0,E=q0(B.batch,function(p){return p=c0(Y0({},p),B),p.batch=null,p});var v=[],f,_=[],M=T.nonRefinedEventType,b=ZS(B),x=Vo(B);if(x)zo(this._api);if(S(E,function(p){var o=T.action(p,R,A._api);if(T.refineEvent)_.push(o);else f=o;if(f=f||Y0({},p),f.type=M,v.push(f),x){var t=Aw(B),r=t.queryOptionMap,Q0=t.mainTypeSpecified,F0=Q0?r.keys()[0]:"series";g_(A,P,p,F0),t$(A)}else if(b)g_(A,P,p,"series"),t$(A);else if(j)g_(A,P,p,j.main,j.sub)}),P!=="none"&&!x&&!b&&!j)try{if(this[_8])vU(this),vZ.update.call(this,B),this[_8]=null;else vZ[P].call(this,B)}catch(p){throw this[Z8]=!1,p}if(L)f={type:M,escapeConnect:O,batch:v};else f=v[0];if(this[Z8]=!1,!z){var g=void 0;if(T.refineEvent){var m=T.refineEvent(_,B,R,this._api).eventContent;M0(y0(m)),g=c0({type:T.refinedEventType},m),g.fromAction=B.type,g.fromActionPayload=B,g.escapeConnect=!0}var u=this._messageCenter;if(u.trigger(f.type,f),g)u.trigger(g.type,g)}},xz=function(B){var z=this._pendingActions;while(z.length){var A=z.shift();Qt.call(this,A,B)}},cz=function(B){!B&&this.trigger("updated")},h_0=function(B,z){B.on("rendered",function(A){if(z.trigger("rendered",A),B.animation.isFinished()&&!z[_8]&&!z._scheduler.unfinished&&!z._pendingActions.length)z.trigger("finished")})},v_0=function(B,z){B.on("mouseover",function(A){var R=A.target,G=qJ(R,tQ);if(G)$h0(G,A,z._api),t$(z)}).on("mouseout",function(A){var R=A.target,G=qJ(R,tQ);if(G)Qh0(G,A,z._api),t$(z)}).on("click",function(A){var R=A.target,G=qJ(R,function(D){return r0(D).dataIndex!=null},!0);if(G){var O=G.selected?"unselect":"select",T=r0(G);z._api.dispatchAction({type:O,dataType:T.dataType,dataIndexInside:T.dataIndex,seriesIndex:T.seriesIndex,isFromClick:!0})}})};function K(B){B.clearColorPalette(),B.eachSeries(function(z){z.clearColorPalette()})}function Y(B){var z=[],A=[],R=!1;if(B.eachComponent(function(D,P){var j=P.get("zlevel")||0,E=P.get("z")||0,L=P.getZLevelKey();R=R||!!L,(D==="series"?A:z).push({zlevel:j,z:E,idx:P.componentIndex,type:D,key:L})}),R){var G=z.concat(A),O,T;_F(G,function(D,P){if(D.zlevel===P.zlevel)return D.z-P.z;return D.zlevel-P.zlevel}),S(G,function(D){var P=B.getComponent(D.type,D.idx),j=D.zlevel,E=D.key;if(O!=null)j=Math.max(O,j);if(E){if(j===O&&E!==T)j++;T=E}else if(T){if(j===O)j++;T=""}O=j,P.setZLevel(j)})}}Jt=function(B,z,A,R,G){Y(z),S_0(B,z,A,R,G),S(B._chartsViews,function(O){O.__alive=!1}),x_(B,z,A,R,G),S(B._chartsViews,function(O){if(!O.__alive)O.remove(z,A)})},S_0=function(B,z,A,R,G,O){S(O||B._componentsViews,function(T){var D=T.__model;F(D,T),T.render(D,z,A,R),W(D,T),H(D,T)})},x_=function(B,z,A,R,G,O){var T=B._scheduler;G=Y0(G||{},{updatedSeries:z.getSeries()}),a$.trigger("series:beforeupdate",z,A,G);var D=!1;z.eachSeries(function(P){var j=B._chartsMap[P.__viewId];j.__alive=!0;var E=j.renderTask;if(T.updatePayload(E,R),F(P,j),O&&O.get(P.uid))E.dirty();if(E.perform(T.getPerformArgs(E)))D=!0;j.group.silent=!!P.get("silent"),X(P,j),Ao(P)}),T.unfinished=D||T.unfinished,a$.trigger("series:layoutlabels",z,A,G),a$.trigger("series:transition",z,A,G),z.eachSeries(function(P){var j=B._chartsMap[P.__viewId];W(P,j),H(P,j)}),q(B,z),a$.trigger("series:afterupdate",z,A,G)},t$=function(B){B[aa]=!0,B.getZr().wakeUp()},uz=function(B){B[b_]=(B[b_]+1)%1000},f_0=function(B){if(!B[aa])return;B.getZr().storage.traverse(function(z){if(OZ(z))return;Z(z)}),B[aa]=!1};function Z(B){var z=[],A=B.currentStates;for(var R=0;R<A.length;R++){var G=A[R];if(!(G==="emphasis"||G==="blur"||G==="select"))z.push(G)}if(B.selected&&B.states.select)z.push("select");if(B.hoverState===Pw&&B.states.emphasis)z.push("emphasis");else if(B.hoverState===ZU&&B.states.blur)z.push("blur");B.useStates(z)}function q(B,z){var A=B._zr,R=A.storage,G=0;if(R.traverse(function(O){if(!O.isGroup)G++}),G>z.get("hoverLayerThreshold")&&!M1.node&&!M1.worker)z.eachSeries(function(O){if(O.preventUsingHoverLayer)return;var T=B._chartsMap[O.__viewId];if(T.__alive)T.eachRendered(function(D){if(D.states.emphasis)D.states.emphasis.hoverLayer=!0})})}function X(B,z){var A=B.get("blendMode")||null;z.eachRendered(function(R){if(!R.isGroup)R.style.blend=A})}function W(B,z){if(B.preventAutoZ)return;var A=n$(B);z.eachRendered(function(R){return zU(R,A.z,A.zlevel),!0})}function F(B,z){z.eachRendered(function(A){if(OZ(A))return;var R=A.getTextContent(),G=A.getTextGuideLine();if(A.stateTransition)A.stateTransition=null;if(R&&R.stateTransition)R.stateTransition=null;if(G&&G.stateTransition)G.stateTransition=null;if(A.hasState())A.prevStates=A.currentStates,A.clearStates();else if(A.prevStates)A.prevStates=null})}function H(B,z){var A=B.getModel("stateAnimation"),R=B.isAnimationEnabled(),G=A.get("duration"),O=G>0?{duration:G,delay:A.get("delay"),easing:A.get("easing")}:null;z.eachRendered(function(T){if(T.states&&T.states.emphasis){if(OZ(T))return;if(T instanceof Y1)qh0(T);if(T.__dirty){var D=T.prevStates;if(D)T.useStates(D)}if(R){T.stateTransition=O;var P=T.getTextContent(),j=T.getTextGuideLine();if(P)P.stateTransition=O;if(j)j.stateTransition=O}if(T.__dirty)Z(T)}})}__0=function(B){return new(function(z){c(A,z);function A(){return z!==null&&z.apply(this,arguments)||this}return A.prototype.getCoordinateSystems=function(){return B._coordSysMgr.getCoordinateSystems()},A.prototype.getComponentByElement=function(R){while(R){var G=R.__ecComponentInfo;if(G!=null)return B._model.getComponent(G.mainType,G.index);R=R.parent}},A.prototype.enterEmphasis=function(R,G){G4(R,G),t$(B)},A.prototype.leaveEmphasis=function(R,G){O4(R,G),t$(B)},A.prototype.enterBlur=function(R){JS(R),t$(B)},A.prototype.leaveBlur=function(R){Lw(R),t$(B)},A.prototype.enterSelect=function(R){No(R),t$(B)},A.prototype.leaveSelect=function(R){Bo(R),t$(B)},A.prototype.getModel=function(){return B.getModel()},A.prototype.getViewOfComponentModel=function(R){return B.getViewOfComponentModel(R)},A.prototype.getViewOfSeriesModel=function(R){return B.getViewOfSeriesModel(R)},A.prototype.getMainProcessVersion=function(){return B[b_]},A}(Y_))(B)},n_0=function(B){function z(A,R){for(var G=0;G<A.length;G++){var O=A[G];O[ta]=R}}S(u_,function(A,R){B._messageCenter.on(R,function(G){if(I_0[B.group]&&B[ta]!==L_0){if(G&&G.escapeConnect)return;var O=B.makeActionFromEvent(G),T=[];S(WT,function(D){if(D!==B&&D.group===B.group)T.push(D)}),z(T,L_0),S(T,function(D){if(D[ta]!==gw1)D.dispatchAction(O)}),z(T,yw1)}})})}}(),Q}(p7),Wt=l_0.prototype;Wt.on=c_0("on");Wt.off=c_0("off");Wt.one=function($,Q,J){var K=this;i4("ECharts#one is deprecated.");function Y(){var Z=[];for(var q=0;q<arguments.length;q++)Z[q]=arguments[q];Q&&Q.apply&&Q.apply(this,Z),K.off($,Y)}this.on.call(this,$,Y,J)};xw1=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];c_={},u_={},Kt={},Yt=[],Zt=[],m_=[],r_0={},qt={},WT={},I_0={},cw1=+new Date-0,AA5=+new Date-0;M_0=[];Qf0=HS0;$2(Xt,fS0);$2(p_,IS0);$2(p_,MS0);$2(Xt,sS0);$2(p_,oS0);$2(y_0,ia);Ut(Z_);Ht(Lw1,Da);Bt("default",ma);Q9({type:nX,event:nX,update:nX},K6);Q9({type:kw,event:kw,update:kw},K6);Q9({type:jw,event:$S,update:jw,action:K6,refineEvent:zt,publishNonRefinedEvent:!0});Q9({type:ev,event:$S,update:ev,action:K6,refineEvent:zt,publishNonRefinedEvent:!0});Q9({type:Ew,event:$S,update:Ew,action:K6,refineEvent:zt,publishNonRefinedEvent:!0});s_0("default",{});s_0("dark",dS0)});function T1($){if(Z0($)){S($,function(Q){T1(Q)});return}if(J1(Jf0,$)>=0)return;if(Jf0.push($),I0($))$={install:$};$.install(mw1)}var Jf0,mw1;var E4=h(()=>{SU();a6();t6();_6();o6();l();sa();fv();oa();Jf0=[],mw1={registerPreprocessor:Ut,registerProcessor:Ht,registerPostInit:o_0,registerPostUpdate:a_0,registerUpdateLifecycle:d_,registerAction:Q9,registerCoordinateSystem:t_0,registerLayout:e_0,registerVisual:$2,registerTransform:Qf0,registerLoading:Bt,registerMap:$f0,registerImpl:D_0,PRIORITY:x_0,ComponentModel:O1,ComponentView:a1,SeriesModel:o1,ChartView:c1,registerComponentModel:function($){O1.registerClass($)},registerComponentView:function($){a1.registerClass($)},registerSeriesModel:function($){o1.registerClass($)},registerChartView:function($){c1.registerClass($)},registerCustomSeries:function($,Q){k_0($,Q)},registerSubTypeDefaulter:function($,Q){O1.registerSubTypeDefaulter($,Q)},registerPainter:function($,Q){kE0($,Q)}}});function FT($){return $==null?0:$.length||1}function Kf0($){return $}var pw1,Q4;var SZ=h(()=>{pw1=function(){function $(Q,J,K,Y,Z,q){this._old=Q,this._new=J,this._oldKeyGetter=K||Kf0,this._newKeyGetter=Y||Kf0,this.context=Z,this._diffModeMultiple=q==="multiple"}return $.prototype.add=function(Q){return this._add=Q,this},$.prototype.update=function(Q){return this._update=Q,this},$.prototype.updateManyToOne=function(Q){return this._updateManyToOne=Q,this},$.prototype.updateOneToMany=function(Q){return this._updateOneToMany=Q,this},$.prototype.updateManyToMany=function(Q){return this._updateManyToMany=Q,this},$.prototype.remove=function(Q){return this._remove=Q,this},$.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},$.prototype._executeOneToOne=function(){var Q=this._old,J=this._new,K={},Y=Array(Q.length),Z=Array(J.length);this._initIndexMap(Q,null,Y,"_oldKeyGetter"),this._initIndexMap(J,K,Z,"_newKeyGetter");for(var q=0;q<Q.length;q++){var X=Y[q],W=K[X],F=FT(W);if(F>1){var H=W.shift();if(W.length===1)K[X]=W[0];this._update&&this._update(H,q)}else if(F===1)K[X]=null,this._update&&this._update(W,q);else this._remove&&this._remove(q)}this._performRestAdd(Z,K)},$.prototype._executeMultiple=function(){var Q=this._old,J=this._new,K={},Y={},Z=[],q=[];this._initIndexMap(Q,K,Z,"_oldKeyGetter"),this._initIndexMap(J,Y,q,"_newKeyGetter");for(var X=0;X<Z.length;X++){var W=Z[X],F=K[W],H=Y[W],B=FT(F),z=FT(H);if(B>1&&z===1)this._updateManyToOne&&this._updateManyToOne(H,F),Y[W]=null;else if(B===1&&z>1)this._updateOneToMany&&this._updateOneToMany(H,F),Y[W]=null;else if(B===1&&z===1)this._update&&this._update(H,F),Y[W]=null;else if(B>1&&z>1)this._updateManyToMany&&this._updateManyToMany(H,F),Y[W]=null;else if(B>1)for(var A=0;A<B;A++)this._remove&&this._remove(F[A]);else this._remove&&this._remove(F)}this._performRestAdd(q,Y)},$.prototype._performRestAdd=function(Q,J){for(var K=0;K<Q.length;K++){var Y=Q[K],Z=J[Y],q=FT(Z);if(q>1)for(var X=0;X<q;X++)this._add&&this._add(Z[X]);else if(q===1)this._add&&this._add(Z);J[Y]=null}},$.prototype._initIndexMap=function(Q,J,K,Y){var Z=this._diffModeMultiple;for(var q=0;q<Q.length;q++){var X="_ec_"+this[Y](Q[q],q);if(!Z)K[q]=X;if(!J)continue;var W=J[X],F=FT(W);if(F===0){if(J[X]=q,Z)K.push(X)}else if(F===1)J[X]=[W,q];else W.push(q)}},$}(),Q4=pw1});function Yf0($,Q){var J={},K=J.encode={},Y=_0(),Z=[],q=[],X={};S($.dimensions,function(z){var A=$.getDimensionInfo(z),R=A.coordDim;if(R){M0(cw.get(R)==null);var G=A.coordDimIndex;if(At(K,R)[G]=z,!A.isExtraCoord){if(Y.set(R,1),nw1(A.type))Z[0]=z;At(X,R)[G]=$.getDimensionIndex(A.name)}if(A.defaultTooltip)q.push(z)}cw.each(function(O,T){var D=At(K,T),P=A.otherDims[T];if(P!=null&&P!==!1)D[P]=A.name})});var W=[],F={};Y.each(function(z,A){var R=K[A];F[A]=R[0],W=W.concat(R)}),J.dataDimsOnCoord=W,J.dataDimIndicesOnCoord=q0(W,function(z){return $.getDimensionInfo(z).storeDimIndex}),J.encodeFirstDimNotExtra=F;var H=K.label;if(H&&H.length)Z=H.slice();var B=K.tooltip;if(B&&B.length)q=B.slice();else if(!q.length)q=Z.slice();return K.defaultedLabel=Z,K.defaultedTooltip=q,J.userOutput=new dw1(X,Q),J}function At($,Q){if(!$.hasOwnProperty(Q))$[Q]=[];return $[Q]}function _U($){return $==="category"?"ordinal":$==="time"?"time":"float"}function nw1($){return!($==="ordinal"||$==="time")}var dw1;var UT=h(()=>{l();S3();dw1=function(){function $(Q,J){this._encode=Q,this._schema=J}return $.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},$.prototype._getFullDimensionNames=function(){if(!this._cachedDimNames)this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[];return this._cachedDimNames},$}()});var lw1,mz;var Vt=h(()=>{l();lw1=function(){function $(Q){if(this.otherDims={},Q!=null)Y0(this,Q)}return $}(),mz=lw1});function l_($){return $ instanceof Rt}function Gt($){var Q=_0();for(var J=0;J<($||[]).length;J++){var K=$[J],Y=y0(K)?K.name:K;if(Y!=null&&Q.get(Y)==null)Q.set(Y,J)}return Q}function Ot($){var Q=rw1($);return Q.dimNameMap||(Q.dimNameMap=Gt($.dimensionsDefine))}function wt($){return $>30}var rw1,iw1,Rt;var r_=h(()=>{l();l0();EZ();rw1=o0(),iw1={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Rt=function(){function $(Q){this.dimensions=Q.dimensions,this._dimOmitted=Q.dimensionOmitted,this.source=Q.source,this._fullDimCount=Q.fullDimensionCount,this._updateDimOmitted(Q.dimensionOmitted)}return $.prototype.isDimensionOmitted=function(){return this._dimOmitted},$.prototype._updateDimOmitted=function(Q){if(this._dimOmitted=Q,!Q)return;if(!this._dimNameMap)this._dimNameMap=Ot(this.source)},$.prototype.getSourceDimensionIndex=function(Q){return g0(this._dimNameMap.get(Q),-1)},$.prototype.getSourceDimension=function(Q){var J=this.source.dimensionsDefine;if(J)return J[Q]},$.prototype.makeStoreSchema=function(){var Q=this._fullDimCount,J=X_(this.source),K=!wt(Q),Y="",Z=[];for(var q=0,X=0;q<Q;q++){var W=void 0,F=void 0,H=void 0,B=this.dimensions[X];if(B&&B.storeDimIndex===q)W=J?B.name:null,F=B.type,H=B.ordinalMeta,X++;else{var z=this.getSourceDimension(q);if(z)W=J?z.name:null,F=z.type}if(Z.push({property:W,type:F,ordinalMeta:H}),J&&W!=null&&(!B||!B.isCalculationCoord))Y+=K?W.replace(/\`/g,"`1").replace(/\$/g,"`2"):W;if(Y+="$",Y+=iw1[F]||"f",H)Y+=H.uid;Y+="$"}var A=this.source,R=[A.seriesLayoutBy,A.startIndex,Y].join("$$");return{dimensions:Z,hash:R}},$.prototype.makeOutputDimensionNames=function(){var Q=[];for(var J=0,K=0;J<this._fullDimCount;J++){var Y=void 0,Z=this.dimensions[K];if(Z&&Z.storeDimIndex===J){if(!Z.isCalculationCoord)Y=Z.name;K++}else{var q=this.getSourceDimension(J);if(q)Y=q.name}Q.push(Y)}return Q},$.prototype.appendCalculationDimension=function(Q){this.dimensions.push(Q),Q.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},$}()});var HT,Q2,sw1,ow1="e\x00\x00",Zf0=-1,aw1,tw1,qf0,i_,NT,pz,Tt,BT,Dt,ew1,e6;var e$=h(()=>{l();K7();SZ();jU();UT();Vt();S3();l0();o5();EZ();A_();r_();HT=y0,Q2=q0,sw1=typeof Int32Array>"u"?Array:Int32Array,aw1=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],tw1=["_approximateExtent"],ew1=function(){function $(Q,J){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var K,Y=!1;if(l_(Q))K=Q.dimensions,this._dimOmitted=Q.isDimensionOmitted(),this._schema=Q;else Y=!0,K=Q;K=K||["x","y"];var Z={},q=[],X={},W=!1,F={};for(var H=0;H<K.length;H++){var B=K[H],z=R0(B)?new mz({name:B}):!(B instanceof mz)?new mz(B):B,A=z.name;if(z.type=z.type||"float",!z.coordDim)z.coordDim=A,z.coordDimIndex=0;var R=z.otherDims=z.otherDims||{};if(q.push(A),Z[A]=z,F[A]!=null)W=!0;if(z.createInvertedIndices)X[A]=[];var G=H;if(V1(z.storeDimIndex))G=z.storeDimIndex;if(R.itemName===0)this._nameDimIdx=G;if(R.itemId===0)this._idDimIdx=G;if(M0(Y||z.storeDimIndex>=0),Y)z.storeDimIndex=H}if(this.dimensions=q,this._dimInfos=Z,this._initGetDimensionInfo(W),this.hostModel=J,this._invertedIndicesMap=X,this._dimOmitted){var O=this._dimIdxToName=_0();S(q,function(T){O.set(Z[T].storeDimIndex,T)})}}return $.prototype.getDimension=function(Q){var J=this._recognizeDimIndex(Q);if(J==null)return Q;if(J=Q,!this._dimOmitted)return this.dimensions[J];var K=this._dimIdxToName.get(J);if(K!=null)return K;var Y=this._schema.getSourceDimension(J);if(Y)return Y.name},$.prototype.getDimensionIndex=function(Q){var J=this._recognizeDimIndex(Q);if(J!=null)return J;if(Q==null)return-1;var K=this._getDimInfo(Q);return K?K.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(Q):-1},$.prototype._recognizeDimIndex=function(Q){if(V1(Q)||Q!=null&&!isNaN(Q)&&!this._getDimInfo(Q)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(Q)<0))return+Q},$.prototype._getStoreDimIndex=function(Q){var J=this.getDimensionIndex(Q);if(J==null)throw Error("Unknown dimension "+Q);return J},$.prototype.getDimensionInfo=function(Q){return this._getDimInfo(this.getDimension(Q))},$.prototype._initGetDimensionInfo=function(Q){var J=this._dimInfos;this._getDimInfo=Q?function(K){return J.hasOwnProperty(K)?J[K]:void 0}:function(K){return J[K]}},$.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},$.prototype.mapDimension=function(Q,J){var K=this._dimSummary;if(J==null)return K.encodeFirstDimNotExtra[Q];var Y=K.encode[Q];return Y?Y[J]:null},$.prototype.mapDimensionsAll=function(Q){var J=this._dimSummary,K=J.encode[Q];return(K||[]).slice()},$.prototype.getStore=function(){return this._store},$.prototype.initData=function(Q,J,K){var Y=this,Z;if(Q instanceof ow)Z=Q;if(!Z){var q=this.dimensions,X=fz(Q)||F7(Q)?new U_(Q,q.length):Q;Z=new ow;var W=Q2(q,function(F){return{type:Y._dimInfos[F].type,property:F}});Z.initData(X,W,K)}this._store=Z,this._nameList=(J||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,Z.count()),this._dimSummary=Yf0(this,this._schema),this.userOutput=this._dimSummary.userOutput},$.prototype.appendData=function(Q){var J=this._store.appendData(Q);this._doInit(J[0],J[1])},$.prototype.appendValues=function(Q,J){var K=this._store.appendValues(Q,J&&J.length),Y=K.start,Z=K.end,q=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),J)for(var X=Y;X<Z;X++){var W=X-Y;if(this._nameList[X]=J[W],q)Dt(this,X)}},$.prototype._updateOrdinalMeta=function(){var Q=this._store,J=this.dimensions;for(var K=0;K<J.length;K++){var Y=this._dimInfos[J[K]];if(Y.ordinalMeta)Q.collectOrdinalMeta(Y.storeDimIndex,Y.ordinalMeta)}},$.prototype._shouldMakeIdFromName=function(){var Q=this._store.getProvider();return this._idDimIdx==null&&Q.getSource().sourceFormat!==v3&&!Q.fillStorage},$.prototype._doInit=function(Q,J){if(Q>=J)return;var K=this._store,Y=K.getProvider();this._updateOrdinalMeta();var Z=this._nameList,q=this._idList,X=Y.getSource().sourceFormat,W=X===A8;if(W&&!Y.pure){var F=[];for(var H=Q;H<J;H++){var B=Y.getItem(H,F);if(!this.hasItemOption&&cE0(B))this.hasItemOption=!0;if(B){var z=B.name;if(Z[H]==null&&z!=null)Z[H]=T6(z,null);var A=B.id;if(q[H]==null&&A!=null)q[H]=T6(A,null)}}}if(this._shouldMakeIdFromName())for(var H=Q;H<J;H++)Dt(this,H);qf0(this)},$.prototype.getApproximateExtent=function(Q){return this._approximateExtent[Q]||this._store.getDataExtent(this._getStoreDimIndex(Q))},$.prototype.setApproximateExtent=function(Q,J){J=this.getDimension(J),this._approximateExtent[J]=Q.slice()},$.prototype.getCalculationInfo=function(Q){return this._calculationInfo[Q]},$.prototype.setCalculationInfo=function(Q,J){HT(Q)?Y0(this._calculationInfo,Q):this._calculationInfo[Q]=J},$.prototype.getName=function(Q){var J=this.getRawIndex(Q),K=this._nameList[J];if(K==null&&this._nameDimIdx!=null)K=NT(this,this._nameDimIdx,J);if(K==null)K="";return K},$.prototype._getCategory=function(Q,J){var K=this._store.get(Q,J),Y=this._store.getOrdinalMeta(Q);if(Y)return Y.categories[K];return K},$.prototype.getId=function(Q){return i_(this,this.getRawIndex(Q))},$.prototype.count=function(){return this._store.count()},$.prototype.get=function(Q,J){var K=this._store,Y=this._dimInfos[Q];if(Y)return K.get(Y.storeDimIndex,J)},$.prototype.getByRawIndex=function(Q,J){var K=this._store,Y=this._dimInfos[Q];if(Y)return K.getByRawIndex(Y.storeDimIndex,J)},$.prototype.getIndices=function(){return this._store.getIndices()},$.prototype.getDataExtent=function(Q){return this._store.getDataExtent(this._getStoreDimIndex(Q))},$.prototype.getSum=function(Q){return this._store.getSum(this._getStoreDimIndex(Q))},$.prototype.getMedian=function(Q){return this._store.getMedian(this._getStoreDimIndex(Q))},$.prototype.getValues=function(Q,J){var K=this,Y=this._store;return Z0(Q)?Y.getValues(Q2(Q,function(Z){return K._getStoreDimIndex(Z)}),J):Y.getValues(Q)},$.prototype.hasValue=function(Q){var J=this._dimSummary.dataDimIndicesOnCoord;for(var K=0,Y=J.length;K<Y;K++)if(isNaN(this._store.get(J[K],Q)))return!1;return!0},$.prototype.indexOfName=function(Q){for(var J=0,K=this._store.count();J<K;J++)if(this.getName(J)===Q)return J;return-1},$.prototype.getRawIndex=function(Q){return this._store.getRawIndex(Q)},$.prototype.indexOfRawIndex=function(Q){return this._store.indexOfRawIndex(Q)},$.prototype.rawIndexOf=function(Q,J){var K=Q&&this._invertedIndicesMap[Q];if(!K)throw Error("Do not supported yet");var Y=K&&K[J];if(Y==null||isNaN(Y))return Zf0;return Y},$.prototype.each=function(Q,J,K){if(I0(Q))K=J,J=Q,Q=[];var Y=K||this,Z=Q2(pz(Q),this._getStoreDimIndex,this);this._store.each(Z,Y?P0(J,Y):J)},$.prototype.filterSelf=function(Q,J,K){if(I0(Q))K=J,J=Q,Q=[];var Y=K||this,Z=Q2(pz(Q),this._getStoreDimIndex,this);return this._store=this._store.filter(Z,Y?P0(J,Y):J),this},$.prototype.selectRange=function(Q){var J=this,K={},Y=N1(Q),Z=[];return S(Y,function(q){var X=J._getStoreDimIndex(q);K[X]=Q[q],Z.push(X)}),this._store=this._store.selectRange(K),this},$.prototype.mapArray=function(Q,J,K){if(I0(Q))K=J,J=Q,Q=[];K=K||this;var Y=[];return this.each(Q,function(){Y.push(J&&J.apply(this,arguments))},K),Y},$.prototype.map=function(Q,J,K,Y){var Z=K||Y||this,q=Q2(pz(Q),this._getStoreDimIndex,this),X=BT(this);return X._store=this._store.map(q,Z?P0(J,Z):J),X},$.prototype.modify=function(Q,J,K,Y){var Z=this,q=K||Y||this;S(pz(Q),function(W){var F=Z.getDimensionInfo(W);if(!F.isCalculationCoord)console.error("Danger: only stack dimension can be modified")});var X=Q2(pz(Q),this._getStoreDimIndex,this);this._store.modify(X,q?P0(J,q):J)},$.prototype.downSample=function(Q,J,K,Y){var Z=BT(this);return Z._store=this._store.downSample(this._getStoreDimIndex(Q),J,K,Y),Z},$.prototype.minmaxDownSample=function(Q,J){var K=BT(this);return K._store=this._store.minmaxDownSample(this._getStoreDimIndex(Q),J),K},$.prototype.lttbDownSample=function(Q,J){var K=BT(this);return K._store=this._store.lttbDownSample(this._getStoreDimIndex(Q),J),K},$.prototype.getRawDataItem=function(Q){return this._store.getRawDataItem(Q)},$.prototype.getItemModel=function(Q){var J=this.hostModel,K=this.getRawDataItem(Q);return new h1(K,J,J&&J.ecModel)},$.prototype.diff=function(Q){var J=this;return new Q4(Q?Q.getStore().getIndices():[],this.getStore().getIndices(),function(K){return i_(Q,K)},function(K){return i_(J,K)})},$.prototype.getVisual=function(Q){var J=this._visual;return J&&J[Q]},$.prototype.setVisual=function(Q,J){if(this._visual=this._visual||{},HT(Q))Y0(this._visual,Q);else this._visual[Q]=J},$.prototype.getItemVisual=function(Q,J){var K=this._itemVisuals[Q],Y=K&&K[J];if(Y==null)return this.getVisual(J);return Y},$.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},$.prototype.ensureUniqueItemVisual=function(Q,J){var K=this._itemVisuals,Y=K[Q];if(!Y)Y=K[Q]={};var Z=Y[J];if(Z==null){if(Z=this.getVisual(J),Z0(Z))Z=Z.slice();else if(HT(Z))Z=Y0({},Z);Y[J]=Z}return Z},$.prototype.setItemVisual=function(Q,J,K){var Y=this._itemVisuals[Q]||{};if(this._itemVisuals[Q]=Y,HT(J))Y0(Y,J);else Y[J]=K},$.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},$.prototype.setLayout=function(Q,J){HT(Q)?Y0(this._layout,Q):this._layout[Q]=J},$.prototype.getLayout=function(Q){return this._layout[Q]},$.prototype.getItemLayout=function(Q){return this._itemLayouts[Q]},$.prototype.setItemLayout=function(Q,J,K){this._itemLayouts[Q]=K?Y0(this._itemLayouts[Q]||{},J):J},$.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},$.prototype.setItemGraphicEl=function(Q,J){var K=this.hostModel&&this.hostModel.seriesIndex;Cw(K,this.dataType,Q,J),this._graphicEls[Q]=J},$.prototype.getItemGraphicEl=function(Q){return this._graphicEls[Q]},$.prototype.eachItemGraphicEl=function(Q,J){S(this._graphicEls,function(K,Y){if(K)Q&&Q.call(J,K,Y)})},$.prototype.cloneShallow=function(Q){if(!Q)Q=new $(this._schema?this._schema:Q2(this.dimensions,this._getDimInfo,this),this.hostModel);return Tt(Q,this),Q._store=this._store,Q},$.prototype.wrapMethod=function(Q,J){var K=this[Q];if(!I0(K))return;this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(Q),this[Q]=function(){var Y=K.apply(this,arguments);return J.apply(this,[Y].concat(lh(arguments)))}},$.internalField=function(){qf0=function(Q){var J=Q._invertedIndicesMap;S(J,function(K,Y){var Z=Q._dimInfos[Y],q=Z.ordinalMeta,X=Q._store;if(q){K=J[Y]=new sw1(q.categories.length);for(var W=0;W<K.length;W++)K[W]=Zf0;for(var W=0;W<X.count();W++)K[X.get(Z.storeDimIndex,W)]=W}})},NT=function(Q,J,K){return T6(Q._getCategory(J,K),null)},i_=function(Q,J){var K=Q._idList[J];if(K==null&&Q._idDimIdx!=null)K=NT(Q,Q._idDimIdx,J);if(K==null)K=ow1+J;return K},pz=function(Q){if(!Z0(Q))Q=Q!=null?[Q]:[];return Q},BT=function(Q){var J=new $(Q._schema?Q._schema:Q2(Q.dimensions,Q._getDimInfo,Q),Q.hostModel);return Tt(J,Q),J},Tt=function(Q,J){S(aw1.concat(J.__wrappedMethods||[]),function(K){if(J.hasOwnProperty(K))Q[K]=J[K]}),Q.__wrappedMethods=J.__wrappedMethods,S(tw1,function(K){Q[K]=m0(J[K])}),Q._calculationInfo=Y0({},J._calculationInfo)},Dt=function(Q,J){var{_nameList:K,_idList:Y,_nameDimIdx:Z,_idDimIdx:q}=Q,X=K[J],W=Y[J];if(X==null&&Z!=null)K[J]=X=NT(Q,Z,J);if(W==null&&q!=null)Y[J]=W=NT(Q,q,J);if(W==null&&X!=null){var F=Q._nameRepeatCount,H=F[X]=(F[X]||0)+1;if(W=X,H>1)W+="__ec__"+H;Y[J]=W}}}(),$}(),e6=ew1});function FJ($,Q){if(!fz($))$=Iz($);Q=Q||{};var J=Q.coordDimensions||[],K=Q.dimensionsDefine||$.dimensionsDefine||[],Y=_0(),Z=[],q=QT1($,J,K,Q.dimensionsCount),X=Q.canOmitUnusedDimensions&&wt(q),W=K===$.dimensionsDefine,F=W?Ot($):Gt(K),H=Q.encodeDefine;if(!H&&Q.encodeDefaulter)H=Q.encodeDefaulter($,q);var B=_0(H),z=new _a(q);for(var A=0;A<z.length;A++)z[A]=-1;function R(_){var M=z[_];if(M<0){var b=K[_],x=y0(b)?b:{name:b},g=new mz,m=x.name;if(m!=null&&F.get(m)!=null)g.name=g.displayName=m;x.type!=null&&(g.type=x.type),x.displayName!=null&&(g.displayName=x.displayName);var u=Z.length;return z[_]=u,g.storeDimIndex=_,Z.push(g),g}return Z[M]}if(!X)for(var A=0;A<q;A++)R(A);B.each(function(_,M){var b=H5(_).slice();if(b.length===1&&!R0(b[0])&&b[0]<0){B.set(M,!1);return}var x=B.set(M,[]);S(b,function(g,m){var u=R0(g)?F.get(g):g;if(u!=null&&u<q)x[m]=u,O(R(u),M,m)})});var G=0;S(J,function(_){var M,b,x,g;if(R0(_))M=_,g={};else{g=_,M=g.name;var m=g.ordinalMeta;g.ordinalMeta=null,g=Y0({},g),g.ordinalMeta=m,b=g.dimsDef,x=g.otherDims,g.name=g.coordDim=g.coordDimIndex=g.dimsDef=g.otherDims=null}var u=B.get(M);if(u===!1)return;if(u=H5(u),!u.length)for(var p=0;p<(b&&b.length||1);p++){while(G<q&&R(G).coordDim!=null)G++;G<q&&u.push(G++)}S(u,function(o,t){var r=R(o);if(W&&g.type!=null)r.type=g.type;if(O(c0(r,g),M,t),r.name==null&&b){var Q0=b[t];!y0(Q0)&&(Q0={name:Q0}),r.name=r.displayName=Q0.name,r.defaultTooltip=Q0.defaultTooltip}x&&c0(r.otherDims,x)})});function O(_,M,b){if(cw.get(M)!=null)_.otherDims[M]=b;else _.coordDim=M,_.coordDimIndex=b,Y.set(M,!0)}var{generateCoord:T,generateCoordCount:D}=Q,P=D!=null;D=T?D||1:0;var j=T||"value";function E(_){if(_.name==null)_.name=_.coordDim}if(!X)for(var L=0;L<q;L++){var v=R(L),f=v.coordDim;if(f==null){if(v.coordDim=JT1(j,Y,P),v.coordDimIndex=0,!T||D<=0)v.isExtraCoord=!0;D--}if(E(v),v.type==null&&($_($,L)===V8.Must||v.isExtraCoord&&(v.otherDims.itemName!=null||v.otherDims.seriesName!=null)))v.type="ordinal"}else S(Z,function(_){E(_)}),Z.sort(function(_,M){return _.storeDimIndex-M.storeDimIndex});return $T1(Z),new Rt({source:$,dimensions:Z,fullDimensionCount:q,dimensionOmitted:X})}function $T1($){var Q=_0();for(var J=0;J<$.length;J++){var K=$[J],Y=K.name,Z=Q.get(Y)||0;if(Z>0)K.name=Y+(Z-1);Z++,Q.set(Y,Z)}}function QT1($,Q,J,K){var Y=Math.max($.dimensionsDetectedCount||1,Q.length,J.length,K||0);return S(Q,function(Z){var q;if(y0(Z)&&(q=Z.dimsDef))Y=Math.max(Y,q.length)}),Y}function JT1($,Q,J){if(J||Q.hasKey($)){var K=0;while(Q.hasKey($+K))K++;$+=K}return Q.set($,!0),$}var dz=h(()=>{S3();Vt();l();EZ();A_();l0();pK();r_()});function Xf0($){var Q=$.get("coordinateSystem"),J=new KT1(Q),K=YT1[Q];if(K)return K($,J,J.axisMap,J.categoryAxisMap),J}function nz($){return $.get("type")==="category"}var KT1,YT1;var Wf0=h(()=>{l();l0();KT1=function(){function $(Q){this.coordSysDims=[],this.axisMap=_0(),this.categoryAxisMap=_0(),this.coordSysName=Q}return $}();YT1={cartesian2d:function($,Q,J,K){var Y=$.getReferringComponents("xAxis",L5).models[0],Z=$.getReferringComponents("yAxis",L5).models[0];if(!Y)throw Error('xAxis "'+J6($.get("xAxisIndex"),$.get("xAxisId"),0)+'" not found');if(!Z)throw Error('yAxis "'+J6($.get("xAxisIndex"),$.get("yAxisId"),0)+'" not found');if(Q.coordSysDims=["x","y"],J.set("x",Y),J.set("y",Z),nz(Y))K.set("x",Y),Q.firstCategoryDimIndex=0;if(nz(Z))K.set("y",Z),Q.firstCategoryDimIndex==null&&(Q.firstCategoryDimIndex=1)},singleAxis:function($,Q,J,K){var Y=$.getReferringComponents("singleAxis",L5).models[0];if(!Y)throw Error("singleAxis should be specified.");if(Q.coordSysDims=["single"],J.set("single",Y),nz(Y))K.set("single",Y),Q.firstCategoryDimIndex=0},polar:function($,Q,J,K){var Y=$.getReferringComponents("polar",L5).models[0],Z=Y.findAxisModel("radiusAxis"),q=Y.findAxisModel("angleAxis");if(!q)throw Error("angleAxis option not found");if(!Z)throw Error("radiusAxis option not found");if(Q.coordSysDims=["radius","angle"],J.set("radius",Z),J.set("angle",q),nz(Z))K.set("radius",Z),Q.firstCategoryDimIndex=0;if(nz(q))K.set("angle",q),Q.firstCategoryDimIndex==null&&(Q.firstCategoryDimIndex=1)},geo:function($,Q,J,K){Q.coordSysDims=["lng","lat"]},parallel:function($,Q,J,K){var Y=$.ecModel,Z=Y.getComponent("parallel",$.get("parallelIndex")),q=Q.coordSysDims=Z.dimensions.slice();S(Z.parallelAxisIndex,function(X,W){var F=Y.getComponent("parallelAxis",X),H=q[W];if(J.set(H,F),nz(F)){if(K.set(H,F),Q.firstCategoryDimIndex==null)Q.firstCategoryDimIndex=W}})},matrix:function($,Q,J,K){var Y=$.getReferringComponents("matrix",L5).models[0];if(!Y)throw Error("matrix coordinate system should be specified.");Q.coordSysDims=["x","y"];var Z=Y.getDimensionModel("x"),q=Y.getDimensionModel("y");J.set("x",Z),J.set("y",q),K.set("x",Z),K.set("y",q)}}});function Ff0($,Q,J){J=J||{};var{byIndex:K,stackedCoordDimension:Y}=J,Z,q,X;if(ZT1(Q))Z=Q;else q=Q.schema,Z=q.dimensions,X=Q.store;var W=!!($&&$.get("stack")),F,H,B,z;if(S(Z,function(D,P){if(R0(D))Z[P]=D={name:D};if(W&&!D.isExtraCoord){if(!K&&!F&&D.ordinalMeta)F=D;if(!H&&D.type!=="ordinal"&&D.type!=="time"&&(!Y||Y===D.coordDim))H=D}}),H&&!K&&!F)K=!0;if(H){if(B="__\x00ecstackresult_"+$.id,z="__\x00ecstackedover_"+$.id,F)F.createInvertedIndices=!0;var{coordDim:A,type:R}=H,G=0;S(Z,function(D){if(D.coordDim===A)G++});var O={name:B,coordDim:A,coordDimIndex:G,type:R,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:Z.length},T={name:z,coordDim:z,coordDimIndex:G+1,type:R,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:Z.length+1};if(q){if(X)O.storeDimIndex=X.ensureCalculationDimension(z,R),T.storeDimIndex=X.ensureCalculationDimension(B,R);q.appendCalculationDimension(O),q.appendCalculationDimension(T)}else Z.push(O),Z.push(T)}return{stackedDimension:H&&H.name,stackedByDimension:F&&F.name,isStackedByIndex:K,stackedOverDimension:z,stackResultDimension:B}}function ZT1($){return!l_($.schema)}function I3($,Q){return!!Q&&Q===$.getCalculationInfo("stackedDimension")}function s_($,Q){return I3($,Q)?$.getCalculationInfo("stackResultDimension"):Q}var _Z=h(()=>{l();r_()});function qT1($,Q){var J=$.get("coordinateSystem"),K=YJ.get(J),Y;if(Q&&Q.coordSysDims)Y=q0(Q.coordSysDims,function(Z){var q={name:Z},X=Q.axisMap.get(Z);if(X){var W=X.get("type");q.type=_U(W)}return q});if(!Y)Y=K&&(K.getDimensionsInfo?K.getDimensionsInfo():K.dimensions.slice())||["x","y"];return Y}function XT1($,Q,J){var K,Y;if(J&&S($,function(Z,q){var X=Z.coordDim,W=J.categoryAxisMap.get(X);if(W){if(K==null)K=q;if(Z.ordinalMeta=W.getOrdinalMeta(),Q)Z.createInvertedIndices=!0}if(Z.otherDims.itemName!=null)Y=!0}),!Y&&K!=null)$[K].otherDims.itemName=0;return K}function WT1($,Q,J){J=J||{};var K=Q.getSourceManager(),Y,Z=!1;if($)Z=!0,Y=Iz($);else Y=K.getSource(),Z=Y.sourceFormat===A8;var q=Xf0(Q),X=qT1(Q,q),W=J.useEncodeDefaulter,F=I0(W)?W:W?K1(tS,X,Q):null,H={coordDimensions:X,generateCoord:J.generateCoord,encodeDefine:Q.getEncode(),encodeDefaulter:F,canOmitUnusedDimensions:!Z},B=FJ(Y,H),z=XT1(B.dimensions,J.createInvertedIndices,q),A=!Z?K.getSharedDataStore(B):null,R=Ff0(Q,{schema:B,store:A}),G=new e6(B,Q);G.setCalculationInfo(R);var O=z!=null&&FT1(Y)?function(T,D,P,j){return j===z?P:this.defaultDimValueGetter(T,D,P,j)}:null;return G.hasItemOption=!1,G.initData(Z?Y:A,null,O),G}function FT1($){if($.sourceFormat===A8){var Q=UT1($.data||[]);return!Z0(sQ(Q))}}function UT1($){var Q=0;while(Q<$.length&&$[Q]==null)Q++;return $[Q]}var f8;var nK=h(()=>{l();e$();dz();UT();l0();c9();Wf0();EZ();_Z();pK();S3();f8=WT1});function Bf0($){var Q=Math.pow(10,Bw(Math.abs($))),J=Math.abs($/Q);return J===0||J===1||J===2||J===3||J===5}function zT($){return $.type==="interval"||$.type==="log"}function zf0($,Q,J,K,Y){var Z={},q=Z.interval=bv(Q/J,!0);if(K!=null&&q<K)q=Z.interval=K;if(Y!=null&&q>Y)q=Z.interval=Y;var X=Z.intervalPrecision=J2(q),W=Z.niceTickExtent=[Z6(Math.ceil($[0]/q)*q,X),Z6(Math.floor($[1]/q)*q,X)];return HT1(W,$),Z}function o_($){var Q=Math.pow(10,Bw($)),J=$/Q;if(!J)J=1;else if(J===2)J=3;else if(J===3)J=5;else J*=2;return Z6(J*Q)}function J2($){return r4($)+2}function Uf0($,Q,J){$[Q]=Math.max(Math.min($[Q],J[1]),J[0])}function HT1($,Q){if(!isFinite($[0])&&($[0]=Q[0]),!isFinite($[1])&&($[1]=Q[1]),Uf0($,0,Q),Uf0($,1,Q),$[0]>$[1])$[0]=$[1]}function lz($,Q){return $>=Q[0]&&$<=Q[1]}function Hf0($,Q){if(Q[1]===Q[0])return 0.5;return($-Q[0])/(Q[1]-Q[0])}function Nf0($,Q){return $*(Q[1]-Q[0])+Q[0]}function AT($,Q,J){var K=Math.log($);return[Math.log(J?Q[0]:Math.max(0,Q[0]))/K,Math.log(J?Q[1]:Math.max(0,Q[1]))/K]}var Af0;var fZ=h(()=>{k1();l();Af0=function(){function $(){this.normalize=Hf0,this.scale=Nf0}return $.prototype.updateMethods=function(Q){if(Q.hasBreaks())this.normalize=P0(Q.normalize,Q),this.scale=P0(Q.scale,Q);else this.normalize=Hf0,this.scale=Nf0},$}()});var Vf0,$Q;var rz=h(()=>{vK();fZ();l();Vf0=function(){function $(Q){this._calculator=new Af0,this._setting=Q||{},this._extent=[1/0,-1/0];var J=D6();if(J)this._brkCtx=J.createScaleBreakContext(),this._brkCtx.update(this._extent)}return $.prototype.getSetting=function(Q){return this._setting[Q]},$.prototype._innerUnionExtent=function(Q){var J=this._extent;this._innerSetExtent(Q[0]<J[0]?Q[0]:J[0],Q[1]>J[1]?Q[1]:J[1])},$.prototype.unionExtentFromData=function(Q,J){this._innerUnionExtent(Q.getApproximateExtent(J))},$.prototype.getExtent=function(){return this._extent.slice()},$.prototype.setExtent=function(Q,J){this._innerSetExtent(Q,J)},$.prototype._innerSetExtent=function(Q,J){var K=this._extent;if(!isNaN(Q))K[0]=Q;if(!isNaN(J))K[1]=J;this._brkCtx&&this._brkCtx.update(K)},$.prototype.setBreaksFromOption=function(Q){var J=D6();if(J)this._innerSetBreak(J.parseAxisBreakOption(Q,P0(this.parse,this)))},$.prototype._innerSetBreak=function(Q){if(this._brkCtx)this._brkCtx.setBreaks(Q),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent)},$.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},$.prototype.hasBreaks=function(){return this._brkCtx?this._brkCtx.hasBreaks():!1},$.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},$.prototype.isInExtentRange=function(Q){return this._extent[0]<=Q&&this._extent[1]>=Q},$.prototype.isBlank=function(){return this._isBlank},$.prototype.setBlank=function(Q){this._isBlank=Q},$}();cX(Vf0);$Q=Vf0});function zT1($){if(y0($)&&$.value!=null)return $.value;else return $+""}var NT1=0,BT1,K2;var a_=h(()=>{l();BT1=function(){function $(Q){this.categories=Q.categories||[],this._needCollect=Q.needCollect,this._deduplication=Q.deduplication,this.uid=++NT1,this._onCollect=Q.onCollect}return $.createByAxisModel=function(Q){var J=Q.option,K=J.data,Y=K&&q0(K,zT1);return new $({categories:Y,needCollect:!Y,deduplication:J.dedplication!==!1})},$.prototype.getOrdinal=function(Q){return this._getOrCreateMap().get(Q)},$.prototype.parseAndCollect=function(Q){var J,K=this._needCollect;if(!R0(Q)&&!K)return Q;if(K&&!this._deduplication)return J=this.categories.length,this.categories[J]=Q,this._onCollect&&this._onCollect(Q,J),J;var Y=this._getOrCreateMap();if(J=Y.get(Q),J==null)if(K)J=this.categories.length,this.categories[J]=Q,Y.set(Q,J),this._onCollect&&this._onCollect(Q,J);else J=NaN;return J},$.prototype._getOrCreateMap=function(){return this._map||(this._map=_0(this.categories))},$}();K2=BT1});var Rf0,IZ;var VT=h(()=>{H0();rz();a_();fZ();l();Rf0=function($){c(Q,$);function Q(J){var K=$.call(this,J)||this;K.type="ordinal";var Y=K.getSetting("ordinalMeta");if(!Y)Y=new K2({});if(Z0(Y))Y=new K2({categories:q0(Y,function(Z){return y0(Z)?Z.value:Z})});return K._ordinalMeta=Y,K._extent=K.getSetting("extent")||[0,Y.categories.length-1],K}return Q.prototype.parse=function(J){if(J==null)return NaN;return R0(J)?this._ordinalMeta.getOrdinal(J):Math.round(J)},Q.prototype.contain=function(J){return lz(J,this._extent)&&J>=0&&J<this._ordinalMeta.categories.length},Q.prototype.normalize=function(J){return J=this._getTickNumber(J),this._calculator.normalize(J,this._extent)},Q.prototype.scale=function(J){return J=Math.round(this._calculator.scale(J,this._extent)),this.getRawOrdinalNumber(J)},Q.prototype.getTicks=function(){var J=[],K=this._extent,Y=K[0];while(Y<=K[1])J.push({value:Y}),Y++;return J},Q.prototype.getMinorTicks=function(J){return},Q.prototype.setSortInfo=function(J){if(J==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}var K=J.ordinalNumbers,Y=this._ordinalNumbersByTick=[],Z=this._ticksByOrdinalNumber=[],q=0,X=this._ordinalMeta.categories.length;for(var W=Math.min(X,K.length);q<W;++q){var F=K[q];Y[q]=F,Z[F]=q}var H=0;for(;q<X;++q){while(Z[H]!=null)H++;Y.push(H),Z[H]=q}},Q.prototype._getTickNumber=function(J){var K=this._ticksByOrdinalNumber;return K&&J>=0&&J<K.length?K[J]:J},Q.prototype.getRawOrdinalNumber=function(J){var K=this._ordinalNumbersByTick;return K&&J>=0&&J<K.length?K[J]:J},Q.prototype.getLabel=function(J){if(!this.isBlank()){var K=this.getRawOrdinalNumber(J.value),Y=this._ordinalMeta.categories[K];return Y==null?"":Y+""}},Q.prototype.count=function(){return this._extent[1]-this._extent[0]+1},Q.prototype.isInExtentRange=function(J){return J=this._getTickNumber(J),this._extent[0]<=J&&this._extent[1]>=J},Q.prototype.getOrdinalMeta=function(){return this._ordinalMeta},Q.prototype.calcNiceTicks=function(){},Q.prototype.calcNiceExtent=function(){},Q.type="ordinal",Q}($Q);$Q.registerClass(Rf0);IZ=Rf0});var Y2,Gf0,l9;var fU=h(()=>{H0();k1();P4();rz();fZ();Y2=Z6,Gf0=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type="interval",J._interval=0,J._intervalPrecision=2,J}return Q.prototype.parse=function(J){return J==null||J===""?NaN:Number(J)},Q.prototype.contain=function(J){return lz(J,this._extent)},Q.prototype.normalize=function(J){return this._calculator.normalize(J,this._extent)},Q.prototype.scale=function(J){return this._calculator.scale(J,this._extent)},Q.prototype.getInterval=function(){return this._interval},Q.prototype.setInterval=function(J){this._interval=J,this._niceExtent=this._extent.slice(),this._intervalPrecision=J2(J)},Q.prototype.getTicks=function(J){J=J||{};var K=this._interval,Y=this._extent,Z=this._niceExtent,q=this._intervalPrecision,X=D6(),W=[];if(!K)return W;if(J.breakTicks==="only_break"&&X)return X.addBreaksToTicks(W,this._brkCtx.breaks,this._extent),W;var F=1e4;if(Y[0]<Z[0])if(J.expandToNicedExtent)W.push({value:Y2(Z[0]-K,q)});else W.push({value:Y[0]});var H=function(R,G){return Math.round((G-R)/K)},B=Z[0];while(B<=Z[1]){if(W.push({value:B}),B=Y2(B+K,q),this._brkCtx){var z=this._brkCtx.calcNiceTickMultiple(B,H);if(z>=0)B=Y2(B+z*K,q)}if(W.length>0&&B===W[W.length-1].value)break;if(W.length>F)return[]}var A=W.length?W[W.length-1].value:Z[1];if(Y[1]>A)if(J.expandToNicedExtent)W.push({value:Y2(A+K,q)});else W.push({value:Y[1]});if(X)X.pruneTicksByBreak(J.pruneByBreak,W,this._brkCtx.breaks,function(R){return R.value},this._interval,this._extent);if(J.breakTicks!=="none"&&X)X.addBreaksToTicks(W,this._brkCtx.breaks,this._extent);return W},Q.prototype.getMinorTicks=function(J){var K=this.getTicks({expandToNicedExtent:!0}),Y=[],Z=this.getExtent();for(var q=1;q<K.length;q++){var X=K[q],W=K[q-1];if(W.break||X.break)continue;var F=0,H=[],B=X.value-W.value,z=B/J,A=J2(z);while(F<J-1){var R=Y2(W.value+(F+1)*z,A);if(R>Z[0]&&R<Z[1])H.push(R);F++}var G=D6();G&&G.pruneTicksByBreak("auto",H,this._getNonTransBreaks(),function(O){return O},this._interval,Z),Y.push(H)}return Y},Q.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},Q.prototype.getLabel=function(J,K){if(J==null)return"";var Y=K&&K.precision;if(Y==null)Y=r4(J.value)||0;else if(Y==="auto")Y=this._intervalPrecision;var Z=Y2(J.value,Y,!0);return qa(Z)},Q.prototype.calcNiceTicks=function(J,K,Y){J=J||5;var Z=this._extent.slice(),q=this._getExtentSpanWithBreaks();if(!isFinite(q))return;if(q<0)q=-q,Z.reverse(),this._innerSetExtent(Z[0],Z[1]),Z=this._extent.slice();var X=zf0(Z,q,J,K,Y);this._intervalPrecision=X.intervalPrecision,this._interval=X.interval,this._niceExtent=X.niceTickExtent},Q.prototype.calcNiceExtent=function(J){var K=this._extent.slice();if(K[0]===K[1])if(K[0]!==0){var Y=Math.abs(K[0]);if(!J.fixMax)K[1]+=Y/2,K[0]-=Y/2;else K[0]-=Y/2}else K[1]=1;var Z=K[1]-K[0];if(!isFinite(Z))K[0]=0,K[1]=1;this._innerSetExtent(K[0],K[1]),K=this._extent.slice(),this.calcNiceTicks(J.splitNumber,J.minInterval,J.maxInterval);var q=this._interval,X=this._intervalPrecision;if(!J.fixMin)K[0]=Y2(Math.floor(K[0]/q)*q,X);if(!J.fixMax)K[1]=Y2(Math.ceil(K[1]/q)*q,X);this._innerSetExtent(K[0],K[1])},Q.prototype.setNiceExtent=function(J,K){this._niceExtent=[J,K]},Q.type="interval",Q}($Q);$Q.registerClass(Gf0);l9=Gf0});function J9($){if(Z0($))return Of0?new Float32Array($):$;return new AT1($)}var Of0,AT1;var iz=h(()=>{l();Of0=typeof Float32Array<"u",AT1=!Of0?Array:Float32Array});function kt($){return $.get("stack")||Pt+$.seriesIndex}function jt($){return $.dim+$.index}function wf0($){var Q=[],J=$.axis,K="axis0";if(J.type!=="category")return;var Y=J.getBandWidth();for(var Z=0;Z<$.count;Z++)Q.push(c0({bandWidth:Y,axisKey:K,stackId:Pt+Z},$));var q=Tf0(Q),X=[];for(var Z=0;Z<$.count;Z++){var W=q[K][Pt+Z];W.offsetCenter=W.offset+W.width/2,X.push(W)}return X}function Et($,Q){var J=[];return Q.eachSeriesByType($,function(K){if(Cf0(K))J.push(K)}),J}function VT1($){var Q={};S($,function(W){var F=W.coordinateSystem,H=F.getBaseAxis();if(H.type!=="time"&&H.type!=="value")return;var B=W.getData(),z=H.dim+"_"+H.index,A=B.getDimensionIndex(B.mapDimension(H.dim)),R=B.getStore();for(var G=0,O=R.count();G<O;++G){var T=R.get(A,G);if(!Q[z])Q[z]=[T];else Q[z].push(T)}});var J={};for(var K in Q)if(Q.hasOwnProperty(K)){var Y=Q[K];if(Y){Y.sort(function(W,F){return W-F});var Z=null;for(var q=1;q<Y.length;++q){var X=Y[q]-Y[q-1];if(X>0)Z=Z===null?X:Math.min(Z,X)}J[K]=Z}}return J}function Lt($){var Q=VT1($),J=[];return S($,function(K){var Y=K.coordinateSystem,Z=Y.getBaseAxis(),q=Z.getExtent(),X;if(Z.type==="category")X=Z.getBandWidth();else if(Z.type==="value"||Z.type==="time"){var W=Z.dim+"_"+Z.index,F=Q[W],H=Math.abs(q[1]-q[0]),B=Z.scale.getExtent(),z=Math.abs(B[1]-B[0]);X=F?H/z*F:H}else{var A=K.getData();X=Math.abs(q[1]-q[0])/A.count()}var R=f0(K.get("barWidth"),X),G=f0(K.get("barMaxWidth"),X),O=f0(K.get("barMinWidth")||(Pf0(K)?0.5:1),X),T=K.get("barGap"),D=K.get("barCategoryGap"),P=K.get("defaultBarGap");J.push({bandWidth:X,barWidth:R,barMaxWidth:G,barMinWidth:O,barGap:T,barCategoryGap:D,defaultBarGap:P,axisKey:jt(Z),stackId:kt(K)})}),Tf0(J)}function Tf0($){var Q={};S($,function(K,Y){var{axisKey:Z,bandWidth:q}=K,X=Q[Z]||{bandWidth:q,remainedWidth:q,autoWidthCount:0,categoryGap:null,gap:K.defaultBarGap||0,stacks:{}},W=X.stacks;Q[Z]=X;var F=K.stackId;if(!W[F])X.autoWidthCount++;W[F]=W[F]||{width:0,maxWidth:0};var H=K.barWidth;if(H&&!W[F].width)W[F].width=H,H=Math.min(X.remainedWidth,H),X.remainedWidth-=H;var B=K.barMaxWidth;B&&(W[F].maxWidth=B);var z=K.barMinWidth;z&&(W[F].minWidth=z);var A=K.barGap;A!=null&&(X.gap=A);var R=K.barCategoryGap;R!=null&&(X.categoryGap=R)});var J={};return S(Q,function(K,Y){J[Y]={};var{stacks:Z,bandWidth:q,categoryGap:X}=K;if(X==null){var W=N1(Z).length;X=Math.max(35-W*4,15)+"%"}var F=f0(X,q),H=f0(K.gap,1),B=K.remainedWidth,z=K.autoWidthCount,A=(B-F)/(z+(z-1)*H);A=Math.max(A,0),S(Z,function(T){var{maxWidth:D,minWidth:P}=T;if(!T.width){var j=A;if(D&&D<j)j=Math.min(D,B);if(P&&P>j)j=P;if(j!==A)T.width=j,B-=j+H*j,z--}else{var j=T.width;if(D)j=Math.min(j,D);if(P)j=Math.max(j,P);T.width=j,B-=j+H*j,z--}}),A=(B-F)/(z+(z-1)*H),A=Math.max(A,0);var R=0,G;if(S(Z,function(T,D){if(!T.width)T.width=A;G=T,R+=T.width*(1+H)}),G)R-=G.width*H;var O=-R/2;S(Z,function(T,D){J[Y][D]=J[Y][D]||{bandWidth:q,offset:O,width:T.width},O+=T.width*(1+H)})}),J}function Df0($,Q,J){if($&&Q){var K=$[jt(Q)];if(K!=null&&J!=null)return K[kt(J)];return K}}function t_($,Q){var J=Et($,Q),K=Lt(J);S(J,function(Y){var Z=Y.getData(),q=Y.coordinateSystem,X=q.getBaseAxis(),W=kt(Y),F=K[jt(X)][W],H=F.offset,B=F.width;Z.setLayout({bandWidth:F.bandWidth,offset:H,size:B})})}function e_($){return{seriesType:$,plan:_3(),reset:function(Q){if(!Cf0(Q))return;var J=Q.getData(),K=Q.coordinateSystem,Y=K.getBaseAxis(),Z=K.getOtherAxis(Y),q=J.getDimensionIndex(J.mapDimension(Z.dim)),X=J.getDimensionIndex(J.mapDimension(Y.dim)),W=Q.get("showBackground",!0),F=J.mapDimension(Z.dim),H=J.getCalculationInfo("stackResultDimension"),B=I3(J,F)&&!!J.getCalculationInfo("stackedOnSeries"),z=Z.isHorizontal(),A=RT1(Y,Z),R=Pf0(Q),G=Q.get("barMinHeight")||0,O=H&&J.getDimensionIndex(H),T=J.getLayout("size"),D=J.getLayout("offset");return{progress:function(P,j){var E=P.count,L=R&&J9(E*3),v=R&&W&&J9(E*3),f=R&&J9(E),_=K.master.getRect(),M=z?_.width:_.height,b,x=j.getStore(),g=0;while((b=P.next())!=null){var m=x.get(B?O:q,b),u=x.get(X,b),p=A,o=void 0;if(B)o=+m-x.get(q,b);var t=void 0,r=void 0,Q0=void 0,F0=void 0;if(z){var W0=K.dataToPoint([m,u]);if(B){var h0=K.dataToPoint([o,u]);p=h0[0]}if(t=p,r=W0[1]+D,Q0=W0[0]-p,F0=T,Math.abs(Q0)<G)Q0=(Q0<0?-1:1)*G}else{var W0=K.dataToPoint([u,m]);if(B){var h0=K.dataToPoint([u,o]);p=h0[1]}if(t=W0[0]+D,r=p,Q0=T,F0=W0[1]-p,Math.abs(F0)<G)F0=(F0<=0?-1:1)*G}if(!R)j.setItemLayout(b,{x:t,y:r,width:Q0,height:F0});else{if(L[g]=t,L[g+1]=r,L[g+2]=z?Q0:F0,v)v[g]=z?_.x:t,v[g+1]=z?r:_.y,v[g+2]=M;f[b]=b}g+=3}if(R)j.setLayout({largePoints:L,largeDataIndices:f,largeBackgroundPoints:v,valueAxisHorizontal:z})}}}}}function Cf0($){return $.coordinateSystem&&$.coordinateSystem.type==="cartesian2d"}function Pf0($){return $.pipelineContext&&$.pipelineContext.large}function RT1($,Q){var J=Q.model.get("startValue");if(!J)J=0;return Q.toGlobalCoord(Q.dataToCoord(Q.type==="log"?J>0?J:1:J))}var Pt="__ec_stack_";var RT=h(()=>{l();k1();_Z();LU();iz()});function Ef0($,Q,J,K){return IS(new Date(Q),$,K).getTime()===IS(new Date(J),$,K).getTime()}function OT1($,Q){return $/=h3,$>16?16:$>7.5?7:$>3.5?4:$>1.5?2:1}function wT1($){var Q=30*h3;return $/=Q,$>6?6:$>3?3:$>2?2:1}function TT1($){return $/=Lz,$>12?12:$>6?6:$>3.5?4:$>2?2:1}function kf0($,Q){return $/=Q?fS:_S,$>30?30:$>20?20:$>15?15:$>10?10:$>5?5:$>2?2:1}function DT1($){return bv($,!0)}function CT1($,Q,J){var K=Math.max(0,J1(x9,Q)-1);return IS(new Date($),x9[K],J).getTime()}function PT1($,Q){var J=new Date(0);J[$](1);var K=J.getTime();J[$](1+Q);var Y=J.getTime()-K;return function(Z,q){return Math.max(0,Math.round((q-Z)/Y))}}function kT1($,Q,J,K,Y,Z){var q=1e4,X=Bv0,W=0;function F(g,m,u,p,o,t,r){var Q0=PT1(o,g),F0=m,W0=new Date(F0);while(F0<u&&F0<=K[1]){if(r.push({value:F0}),W++>q){S5("Exceed safe limit in time scale.");break}if(W0[o](W0[p]()+g),F0=W0.getTime(),Z){var h0=Z.calcNiceTickMultiple(F0,Q0);if(h0>0)W0[o](W0[p]()+h0*g),F0=W0.getTime()}}r.push({value:F0,notAdd:!0})}function H(g,m,u){var p=[],o=!m.length;if(Ef0(hz(g),K[0],K[1],J))return;if(o)m=[{value:CT1(K[0],g,J)},{value:K[1]}];for(var t=0;t<m.length-1;t++){var r=m[t].value,Q0=m[t+1].value;if(r===Q0)continue;var F0=void 0,W0=void 0,h0=void 0,d0=!1;switch(g){case"year":F0=Math.max(1,Math.round(Q/h3/365)),W0=to(J),h0=Gv0(J);break;case"half-year":case"quarter":case"month":F0=wT1(Q),W0=MS(J),h0=eo(J);break;case"week":case"half-week":case"day":F0=OT1(Q,31),W0=bS(J),h0=$a(J),d0=!0;break;case"half-day":case"quarter-day":case"hour":F0=TT1(Q),W0=gS(J),h0=Qa(J);break;case"minute":F0=kf0(Q,!0),W0=yS(J),h0=Ja(J);break;case"second":F0=kf0(Q,!1),W0=xS(J),h0=Ka(J);break;case"millisecond":F0=DT1(Q),W0=cS(J),h0=Ya(J);break}if(Q0>=K[0]&&r<=K[1])F(F0,r,Q0,W0,h0,d0,p);if(g==="year"&&u.length>1&&t===0)u.unshift({value:u[0].value-F0})}for(var t=0;t<p.length;t++)u.push(p[t])}var B=[],z=[],A=0,R=0;for(var G=0;G<X.length;++G){var O=hz(X[G]);if(!Av0(X[G]))continue;H(X[G],B[B.length-1]||[],z);var T=X[G+1]?hz(X[G+1]):null;if(O!==T){if(z.length){R=A,z.sort(function(g,m){return g.value-m.value});var D=[];for(var P=0;P<z.length;++P){var j=z[P].value;if(P===0||z[P-1].value!==j){if(D.push(z[P]),j>=K[0]&&j<=K[1])A++}}var E=Y/Q;if(A>E*1.5&&R>E/1.5)break;if(B.push(D),A>E||$===X[G])break}z=[]}}var L=f1(q0(B,function(g){return f1(g,function(m){return m.value>=K[0]&&m.value<=K[1]&&!m.notAdd})}),function(g){return g.length>0}),v=[],f=L.length-1;for(var G=0;G<L.length;++G){var _=L[G];for(var M=0;M<_.length;++M){var b=GU(_[M].value,J);v.push({value:_[M].value,time:{level:f-G,upperTimeUnit:b,lowerTimeUnit:b}})}}v.sort(function(g,m){return g.value-m.value});var x=[];for(var G=0;G<v.length;++G)if(G===0||v[G].value!==v[G-1].value)x.push(v[G]);return x}var GT1=function($,Q,J,K){while(J<K){var Y=J+K>>>1;if($[Y][1]<Q)J=Y+1;else K=Y}return J},jf0,$f,Qf;var ht=h(()=>{H0();k1();gw();fZ();fU();rz();N5();l();jf0=function($){c(Q,$);function Q(J){var K=$.call(this,J)||this;return K.type="time",K}return Q.prototype.getLabel=function(J){var K=this.getSetting("useUTC");return RU(J.value,ao[Vv0(hz(this._minLevelUnit))]||ao.second,K,this.getSetting("locale"))},Q.prototype.getFormattedLabel=function(J,K,Y){var Z=this.getSetting("useUTC"),q=this.getSetting("locale");return Rv0(J,K,Y,q,Z)},Q.prototype.getTicks=function(J){J=J||{};var K=this._interval,Y=this._extent,Z=D6(),q=[];if(!K)return q;var X=this.getSetting("useUTC");if(Z&&J.breakTicks==="only_break")return D6().addBreaksToTicks(q,this._brkCtx.breaks,this._extent),q;var W=GU(Y[1],X);q.push({value:Y[0],time:{level:0,upperTimeUnit:W,lowerTimeUnit:W}});var F=kT1(this._minLevelUnit,this._approxInterval,X,Y,this._getExtentSpanWithBreaks(),this._brkCtx);q=q.concat(F);var H=GU(Y[1],X);q.push({value:Y[1],time:{level:0,upperTimeUnit:H,lowerTimeUnit:H}});var B=this.getSetting("useUTC"),z=x9.length-1,A=0;if(S(q,function(R){z=Math.min(z,J1(x9,R.time.upperTimeUnit)),A=Math.max(A,R.time.level)}),Z)D6().pruneTicksByBreak(J.pruneByBreak,q,this._brkCtx.breaks,function(R){return R.value},this._approxInterval,this._extent);if(Z&&J.breakTicks!=="none")D6().addBreaksToTicks(q,this._brkCtx.breaks,this._extent,function(R){var G=Math.max(J1(x9,GU(R.vmin,B)),J1(x9,GU(R.vmax,B))),O=0;for(var T=0;T<x9.length;T++)if(!Ef0(x9[T],R.vmin,R.vmax,B)){O=T;break}var D=Math.min(O,z),P=Math.max(D,G);return{level:A,lowerTimeUnit:x9[P],upperTimeUnit:x9[D]}});return q},Q.prototype.calcNiceExtent=function(J){var K=this.getExtent();if(K[0]===K[1])K[0]-=h3,K[1]+=h3;if(K[1]===-1/0&&K[0]===1/0){var Y=new Date;K[1]=+new Date(Y.getFullYear(),Y.getMonth(),Y.getDate()),K[0]=K[1]-h3}this._innerSetExtent(K[0],K[1]),this.calcNiceTicks(J.splitNumber,J.minInterval,J.maxInterval)},Q.prototype.calcNiceTicks=function(J,K,Y){J=J||10;var Z=this._getExtentSpanWithBreaks();if(this._approxInterval=Z/J,K!=null&&this._approxInterval<K)this._approxInterval=K;if(Y!=null&&this._approxInterval>Y)this._approxInterval=Y;var q=$f.length,X=Math.min(GT1($f,this._approxInterval,0,q),q-1);this._interval=$f[X][1],this._intervalPrecision=J2(this._interval),this._minLevelUnit=$f[Math.max(X-1,0)][0]},Q.prototype.parse=function(J){return V1(J)?J:+b$(J)},Q.prototype.contain=function(J){return lz(J,this._extent)},Q.prototype.normalize=function(J){return this._calculator.normalize(J,this._extent)},Q.prototype.scale=function(J){return this._calculator.scale(J,this._extent)},Q.type="time",Q}(l9),$f=[["second",_S],["minute",fS],["hour",Lz],["quarter-day",Lz*6],["half-day",Lz*12],["day",h3*1.2],["half-week",h3*3.5],["week",h3*7],["month",h3*31],["quarter",h3*95],["half-year",oo/2],["year",oo]];$Q.registerClass(jf0);Qf=jf0});function Yf($,Q){return vt($,r4(Q))}var vt,jT1,ET1,Jf,Kf,Lf0,hf0;var vf0=h(()=>{H0();l();rz();k1();fU();fZ();vt=Z6,jT1=Math.floor,ET1=Math.ceil,Jf=Math.pow,Kf=Math.log,Lf0=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type="log",J.base=10,J._originalScale=new l9,J}return Q.prototype.getTicks=function(J){J=J||{};var K=this._extent.slice(),Y=this._originalScale.getExtent(),Z=$.prototype.getTicks.call(this,J),q=this.base,X=this._originalScale._innerGetBreaks(),W=D6();return q0(Z,function(F){var H=F.value,B=null,z=Jf(q,H);if(H===K[0]&&this._fixMin)B=Y[0];else if(H===K[1]&&this._fixMax)B=Y[1];var A;if(W){var R=W.getTicksLogTransformBreak(F,q,X,Yf);if(A=R.vBreak,B==null)B=R.brkRoundingCriterion}if(B!=null)z=Yf(z,B);return{value:z,break:A}},this)},Q.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},Q.prototype.setExtent=function(J,K){this._originalScale.setExtent(J,K);var Y=AT(this.base,[J,K]);$.prototype.setExtent.call(this,Y[0],Y[1])},Q.prototype.getExtent=function(){var J=this.base,K=$.prototype.getExtent.call(this);K[0]=Jf(J,K[0]),K[1]=Jf(J,K[1]);var Y=this._originalScale.getExtent();return this._fixMin&&(K[0]=Yf(K[0],Y[0])),this._fixMax&&(K[1]=Yf(K[1],Y[1])),K},Q.prototype.unionExtentFromData=function(J,K){this._originalScale.unionExtentFromData(J,K);var Y=AT(this.base,J.getApproximateExtent(K),!0);this._innerUnionExtent(Y)},Q.prototype.calcNiceTicks=function(J){J=J||10;var K=this._extent.slice(),Y=this._getExtentSpanWithBreaks();if(!isFinite(Y)||Y<=0)return;var Z=_E0(Y),q=J/Y*Z;if(q<=0.5)Z*=10;while(!isNaN(Z)&&Math.abs(Z)<1&&Math.abs(Z)>0)Z*=10;var X=[vt(ET1(K[0]/Z)*Z),vt(jT1(K[1]/Z)*Z)];this._interval=Z,this._intervalPrecision=J2(Z),this._niceExtent=X},Q.prototype.calcNiceExtent=function(J){$.prototype.calcNiceExtent.call(this,J),this._fixMin=J.fixMin,this._fixMax=J.fixMax},Q.prototype.contain=function(J){return J=Kf(J)/Kf(this.base),$.prototype.contain.call(this,J)},Q.prototype.normalize=function(J){return J=Kf(J)/Kf(this.base),$.prototype.normalize.call(this,J)},Q.prototype.scale=function(J){return J=$.prototype.scale.call(this,J),Jf(this.base,J)},Q.prototype.setBreaksFromOption=function(J){var K=D6();if(!K)return;var Y=K.logarithmicParseBreaksFromOption(J,this.base,P0(this.parse,this)),Z=Y.parsedOriginal,q=Y.parsedLogged;this._originalScale._innerSetBreak(Z),this._innerSetBreak(q)},Q.type="log",Q}(l9);$Q.registerClass(Lf0);hf0=Lf0});function qf($,Q,J){var K=$.rawExtentInfo;if(K)return K;return K=new LT1($,Q,J),$.rawExtentInfo=K,K}function Zf($,Q){return Q==null?null:h6(Q)?NaN:$.parse(Q)}var LT1,hT1,vT1;var St=h(()=>{l();l4();LT1=function(){function $(Q,J,K){this._prepareParams(Q,J,K)}return $.prototype._prepareParams=function(Q,J,K){if(K[1]<K[0])K=[NaN,NaN];this._dataMin=K[0],this._dataMax=K[1];var Y=this._isOrdinal=Q.type==="ordinal";this._needCrossZero=Q.type==="interval"&&J.getNeedCrossZero&&J.getNeedCrossZero();var Z=J.get("min",!0);if(Z==null)Z=J.get("startValue",!0);var q=this._modelMinRaw=Z;if(I0(q))this._modelMinNum=Zf(Q,q({min:K[0],max:K[1]}));else if(q!=="dataMin")this._modelMinNum=Zf(Q,q);var X=this._modelMaxRaw=J.get("max",!0);if(I0(X))this._modelMaxNum=Zf(Q,X({min:K[0],max:K[1]}));else if(X!=="dataMax")this._modelMaxNum=Zf(Q,X);if(Y)this._axisDataLen=J.getCategories().length;else{var W=J.get("boundaryGap"),F=Z0(W)?W:[W||0,W||0];if(typeof F[0]==="boolean"||typeof F[1]==="boolean")console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'),this._boundaryGapInner=[0,0];else this._boundaryGapInner=[a8(F[0],1),a8(F[1],1)]}},$.prototype.calculate=function(){var Q=this._isOrdinal,J=this._dataMin,K=this._dataMax,Y=this._axisDataLen,Z=this._boundaryGapInner,q=!Q?K-J||Math.abs(J):null,X=this._modelMinRaw==="dataMin"?J:this._modelMinNum,W=this._modelMaxRaw==="dataMax"?K:this._modelMaxNum,F=X!=null,H=W!=null;if(X==null)X=Q?Y?0:NaN:J-Z[0]*q;if(W==null)W=Q?Y?Y-1:NaN:K+Z[1]*q;(X==null||!isFinite(X))&&(X=NaN),(W==null||!isFinite(W))&&(W=NaN);var B=h6(X)||h6(W)||Q&&!Y;if(this._needCrossZero){if(X>0&&W>0&&!F)X=0;if(X<0&&W<0&&!H)W=0}var z=this._determinedMin,A=this._determinedMax;if(z!=null)X=z,F=!0;if(A!=null)W=A,H=!0;return{min:X,max:W,minFixed:F,maxFixed:H,isBlank:B}},$.prototype.modifyDataMinMax=function(Q,J){M0(!this.frozen),this[vT1[Q]]=J},$.prototype.setDeterminedMinMax=function(Q,J){var K=hT1[Q];M0(!this.frozen&&this[K]==null),this[K]=J},$.prototype.freeze=function(){this.frozen=!0},$}(),hT1={min:"_determinedMin",max:"_determinedMax"},vT1={min:"_dataMin",max:"_dataMax"}});function _t($,Q){var J=$.type,K=qf($,Q,$.getExtent()).calculate();$.setBlank(K.isBlank);var{min:Y,max:Z}=K,q=Q.ecModel;if(q&&J==="time"){var X=Et("bar",q),W=!1;if(S(X,function(B){W=W||B.getBaseAxis()===Q.axis}),W){var F=Lt(X),H=ST1(Y,Z,Q,F);Y=H.min,Z=H.max}}return{extent:[Y,Z],fixMin:K.minFixed,fixMax:K.maxFixed}}function ST1($,Q,J,K){var Y=J.axis.getExtent(),Z=Math.abs(Y[1]-Y[0]),q=Df0(K,J.axis);if(q===void 0)return{min:$,max:Q};var X=1/0;S(q,function(A){X=Math.min(A.offset,X)});var W=-1/0;S(q,function(A){W=Math.max(A.offset+A.width,W)}),X=Math.abs(X),W=Math.abs(W);var F=X+W,H=Q-$,B=1-(X+W)/Z,z=H/B-H;return Q+=z*(W/F),$-=z*(X/F),{min:$,max:Q}}function lK($,Q){var J=Q,K=_t($,J),Y=K.extent,Z=J.get("splitNumber");if($ instanceof hf0)$.base=J.get("logBase");var q=$.type,X=J.get("interval"),W=q==="interval"||q==="time";if($.setBreaksFromOption(ft(J)),$.setExtent(Y[0],Y[1]),$.calcNiceExtent({splitNumber:Z,fixMin:K.fixMin,fixMax:K.fixMax,minInterval:W?J.get("minInterval"):null,maxInterval:W?J.get("maxInterval"):null}),X!=null)$.setInterval&&$.setInterval(X)}function Z2($,Q){if(Q=Q||$.get("type"),Q)switch(Q){case"category":return new IZ({ordinalMeta:$.getOrdinalMeta?$.getOrdinalMeta():$.getCategories(),extent:[1/0,-1/0]});case"time":return new Qf({locale:$.ecModel.getLocaleModel(),useUTC:$.ecModel.get("useUTC")});default:return new($Q.getClass(Q)||l9)}}function Sf0($){var Q=$.scale.getExtent(),J=Q[0],K=Q[1];return!(J>0&&K>0||J<0&&K<0)}function q2($){var Q=$.getLabelModel().get("formatter");if($.type==="time"){var J=zv0(Q);return function(Y,Z){return $.scale.getFormattedLabel(Y,Z,J)}}else if(R0(Q))return function(Y){var Z=$.scale.getLabel(Y),q=Q.replace("{value}",Z!=null?Z:"");return q};else if(I0(Q)){if($.type==="category")return function(Y,Z){return Q(sz($,Y),Y.value-$.scale.getExtent()[0],null)};var K=D6();return function(Y,Z){var q=null;if(K)q=K.makeAxisLabelFormatterParamBreak(q,Y.break);return Q(sz($,Y),Z,q)}}else return function(Y){return $.scale.getLabel(Y)}}function sz($,Q){return $.type==="category"?$.scale.getLabel(Q):Q.value}function Xf($){var Q=$.get("interval");return Q==null?"auto":Q}function Wf($){return $.type==="category"&&Xf($.getLabelModel())===0}function oz($,Q){var J={};return S($.mapDimensionsAll(Q),function(K){J[s_($,K)]=!0}),N1(J)}function _f0($,Q,J){if(Q)S(oz(Q,J),function(K){var Y=Q.getApproximateExtent(K);Y[0]<$[0]&&($[0]=Y[0]),Y[1]>$[1]&&($[1]=Y[1])})}function X2($){return $==="middle"||$==="center"}function IU($){return $.getShallow("show")}function ft($){var Q=$.get("breaks",!0);if(Q!=null){if(!D6()){S1('Must `import {AxisBreak} from "echarts/features.js"; use(AxisBreak);` first if using breaks option.');return}if(!_T1($.axis)){S1("Axis '"+$.axis.dim+"'-'"+$.axis.type+"' does not support break.");return}return Q}}function _T1($){return($.dim==="x"||$.dim==="y"||$.dim==="z"||$.dim==="single")&&$.type!=="category"}var M3=h(()=>{l();VT();fU();rz();RT();ht();vf0();_Z();St();gw();N5()});var rK;var az=h(()=>{rK=function(){function $(){}return $.prototype.getNeedCrossZero=function(){var Q=this.option;return!Q.scale},$.prototype.getCoordSysModel=function(){return},$}()});function ff0($,Q){return Math.abs($-Q)<fT1}function MZ($,Q,J){var K=0,Y=$[0];if(!Y)return!1;for(var Z=1;Z<$.length;Z++){var q=$[Z];K+=x$(Y[0],Y[1],q[0],q[1],Q,J),Y=q}var X=$[0];if(!ff0(Y[0],X[0])||!ff0(Y[1],X[1]))K+=x$(Y[0],Y[1],X[0],X[1],Q,J);return K!==0}var fT1=0.00000001;var It=()=>{};function Mt($,Q){for(var J=0;J<$.length;J++)H6($[J],$[J],Q)}function Mf0($,Q,J,K){for(var Y=0;Y<$.length;Y++){var Z=$[Y];if(K)Z=K.project(Z);if(Z&&isFinite(Z[0])&&isFinite(Z[1]))D3(Q,Q,Z),C3(J,J,Z)}}function MT1($){var Q=0,J=0,K=0,Y=$.length,Z=$[Y-1][0],q=$[Y-1][1];for(var X=0;X<Y;X++){var W=$[X][0],F=$[X][1],H=Z*F-W*q;Q+=H,J+=(Z+W)*H,K+=(q+F)*H,Z=W,q=F}return Q?[J/Q/3,K/Q/3,Q]:[$[0][0]||0,$[0][1]||0]}var IT1,bf0,bt,gt,Uf,gf0;var Hf=h(()=>{H0();s5();w6();It();l();IT1=[];bf0=function(){function $(Q){this.name=Q}return $.prototype.setCenter=function(Q){this._center=Q},$.prototype.getCenter=function(){var Q=this._center;if(!Q)Q=this._center=this.calcCenter();return Q},$}(),bt=function(){function $(Q,J){this.type="polygon",this.exterior=Q,this.interiors=J}return $}(),gt=function(){function $(Q){this.type="linestring",this.points=Q}return $}(),Uf=function($){c(Q,$);function Q(J,K,Y){var Z=$.call(this,J)||this;return Z.type="geoJSON",Z.geometries=K,Z._center=Y&&[Y[0],Y[1]],Z}return Q.prototype.calcCenter=function(){var J=this.geometries,K,Y=0;for(var Z=0;Z<J.length;Z++){var q=J[Z],X=q.exterior,W=X&&X.length;if(W>Y)K=q,Y=W}if(K)return MT1(K.exterior);var F=this.getBoundingRect();return[F.x+F.width/2,F.y+F.height/2]},Q.prototype.getBoundingRect=function(J){var K=this._rect;if(K&&!J)return K;var Y=[1/0,1/0],Z=[-1/0,-1/0],q=this.geometries;if(S(q,function(X){if(X.type==="polygon")Mf0(X.exterior,Y,Z,J);else S(X.points,function(W){Mf0(W,Y,Z,J)})}),!(isFinite(Y[0])&&isFinite(Y[1])&&isFinite(Z[0])&&isFinite(Z[1])))Y[0]=Y[1]=Z[0]=Z[1]=0;if(K=new n0(Y[0],Y[1],Z[0]-Y[0],Z[1]-Y[1]),!J)this._rect=K;return K},Q.prototype.contain=function(J){var K=this.getBoundingRect(),Y=this.geometries;if(!K.contain(J[0],J[1]))return!1;$:for(var Z=0,q=Y.length;Z<q;Z++){var X=Y[Z];if(X.type!=="polygon")continue;var{exterior:W,interiors:F}=X;if(MZ(W,J[0],J[1])){for(var H=0;H<(F?F.length:0);H++)if(MZ(F[H],J[0],J[1]))continue $;return!0}}return!1},Q.prototype.transformTo=function(J,K,Y,Z){var q=this.getBoundingRect(),X=q.width/q.height;if(!Y)Y=X*Z;else if(!Z)Z=Y/X;var W=new n0(J,K,Y,Z),F=q.calculateTransform(W),H=this.geometries;for(var B=0;B<H.length;B++){var z=H[B];if(z.type==="polygon")Mt(z.exterior,F),S(z.interiors,function(A){Mt(A,F)});else S(z.points,function(A){Mt(A,F)})}q=this._rect,q.copy(W),this._center=[q.x+q.width/2,q.y+q.height/2]},Q.prototype.cloneShallow=function(J){J==null&&(J=this.name);var K=new Q(J,this.geometries,this._center);return K._rect=this._rect,K.transformTo=null,K},Q}(bf0),gf0=function($){c(Q,$);function Q(J,K){var Y=$.call(this,J)||this;return Y.type="geoSVG",Y._elOnlyForCalculate=K,Y}return Q.prototype.calcCenter=function(){var J=this._elOnlyForCalculate,K=J.getBoundingRect(),Y=[K.x+K.width/2,K.y+K.height/2],Z=LX(IT1),q=J;while(q&&!q.isGeoSVGGraphicRoot)i8(Z,q.getLocalTransform(),Z),q=q.parent;return d7(Z,Z),H6(Y,Y,Z),Y},Q}(bf0)});function bT1($){if(!$.UTF8Encoding)return $;var Q=$,J=Q.UTF8Scale;if(J==null)J=1024;var K=Q.features;return S(K,function(Y){var Z=Y.geometry,q=Z.encodeOffsets,X=Z.coordinates;if(!q)return;switch(Z.type){case"LineString":Z.coordinates=yf0(X,q,J);break;case"Polygon":yt(X,q,J);break;case"MultiLineString":yt(X,q,J);break;case"MultiPolygon":S(X,function(W,F){return yt(W,q[F],J)})}}),Q.UTF8Encoding=!1,Q}function yt($,Q,J){for(var K=0;K<$.length;K++)$[K]=yf0($[K],Q[K],J)}function yf0($,Q,J){var K=[],Y=Q[0],Z=Q[1];for(var q=0;q<$.length;q+=2){var X=$.charCodeAt(q)-64,W=$.charCodeAt(q+1)-64;X=X>>1^-(X&1),W=W>>1^-(W&1),X+=Y,W+=Z,Y=X,Z=W,K.push([X/J,W/J])}return K}function xt($,Q){return $=bT1($),q0(f1($.features,function(J){return J.geometry&&J.properties&&J.geometry.coordinates.length>0}),function(J){var{properties:K,geometry:Y}=J,Z=[];switch(Y.type){case"Polygon":var q=Y.coordinates;Z.push(new bt(q[0],q.slice(1)));break;case"MultiPolygon":S(Y.coordinates,function(W){if(W[0])Z.push(new bt(W[0],W.slice(1)))});break;case"LineString":Z.push(new gt([Y.coordinates]));break;case"MultiLineString":Z.push(new gt(Y.coordinates))}var X=new Uf(K[Q||"name"],Z,K.cp);return X.properties=K,X})}var xf0=h(()=>{l();Hf()});function tz($){return{out:{noPxChangeTryDetermine:[]},kind:$}}function cf0($,Q){var J=q0(Q,function(K){return $.scale.parse(K)});if($.type==="time"&&J.length>0)J.sort(),J.unshift(J[0]),J.push(J[J.length-1]);return J}function uf0($,Q){var J=$.getLabelModel().get("customValues");if(J){var K=q2($),Y=$.scale.getExtent(),Z=cf0($,J),q=f1(Z,function(X){return X>=Y[0]&&X<=Y[1]});return{labels:q0(q,function(X){var W={value:X};return{formattedLabel:K(W),rawLabel:$.scale.getLabel(W),tickValue:X,time:void 0,break:void 0}})}}return $.type==="category"?yT1($,Q):cT1($)}function mf0($,Q,J){var K=$.getTickModel().get("customValues");if(K){var Y=$.scale.getExtent(),Z=cf0($,K);return{ticks:f1(Z,function(q){return q>=Y[0]&&q<=Y[1]})}}return $.type==="category"?xT1($,Q):{ticks:q0($.scale.getTicks(J),function(q){return q.value})}}function yT1($,Q){var J=$.getLabelModel(),K=pf0($,J,Q);return!J.get("show")||$.scale.isBlank()?{labels:[]}:K}function pf0($,Q,J){var K=mT1($),Y=Xf(Q),Z=J.kind===r9.estimate;if(!Z){var q=nf0(K,Y);if(q)return q}var X,W;if(I0(Y))X=sf0($,Y);else W=Y==="auto"?pT1($,J):Y,X=if0($,W);var F={labels:X,labelCategoryInterval:W};if(!Z)ct(K,Y,F);else J.out.noPxChangeTryDetermine.push(function(){return ct(K,Y,F),!0});return F}function xT1($,Q){var J=uT1($),K=Xf(Q),Y=nf0(J,K);if(Y)return Y;var Z,q;if(!Q.get("show")||$.scale.isBlank())Z=[];if(I0(K))Z=sf0($,K,!0);else if(K==="auto"){var X=pf0($,$.getLabelModel(),tz(r9.determine));q=X.labelCategoryInterval,Z=q0(X.labels,function(W){return W.tickValue})}else q=K,Z=if0($,q,!0);return ct(J,K,{ticks:Z,tickCategoryInterval:q})}function cT1($){var Q=$.scale.getTicks(),J=q2($);return{labels:q0(Q,function(K,Y){return{formattedLabel:J(K,Y),rawLabel:$.scale.getLabel(K),tickValue:K.value,time:K.time,break:K.break}})}}function df0($){return function(J){return GT(J)[$]||(GT(J)[$]={list:[]})}}function nf0($,Q){for(var J=0;J<$.list.length;J++)if($.list[J].key===Q)return $.list[J].value}function ct($,Q,J){return $.list.push({key:Q,value:J}),J}function pT1($,Q){if(Q.kind===r9.estimate){var J=$.calculateCategoryInterval(Q);return Q.out.noPxChangeTryDetermine.push(function(){return GT($).autoInterval=J,!0}),J}var K=GT($).autoInterval;return K!=null?K:GT($).autoInterval=$.calculateCategoryInterval(Q)}function lf0($,Q){var J=Q.kind,K=nT1($),Y=q2($),Z=(K.axisRotate-K.labelRotate)/180*Math.PI,q=$.scale,X=q.getExtent(),W=q.count();if(X[1]-X[0]<1)return 0;var F=1,H=40;if(W>H)F=Math.max(1,Math.floor(W/H));var B=X[0],z=$.dataToCoord(B+1)-$.dataToCoord(B),A=Math.abs(z*Math.cos(Z)),R=Math.abs(z*Math.sin(Z)),G=0,O=0;for(;B<=X[1];B+=F){var T=0,D=0,P=bX(Y({value:B}),K.font,"center","top");T=P.width*1.3,D=P.height*1.3,G=Math.max(G,T,7),O=Math.max(O,D,7)}var j=G/A,E=O/R;isNaN(j)&&(j=1/0),isNaN(E)&&(E=1/0);var L=Math.max(0,Math.floor(Math.min(j,E)));if(J===r9.estimate)return Q.out.noPxChangeTryDetermine.push(P0(dT1,null,$,L,W)),L;var v=rf0($,L,W);return v!=null?v:L}function dT1($,Q,J){return rf0($,Q,J)==null}function rf0($,Q,J){var K=gT1($.model),Y=$.getExtent(),Z=K.lastAutoInterval,q=K.lastTickCount;if(Z!=null&&q!=null&&Math.abs(Z-Q)<=1&&Math.abs(q-J)<=1&&Z>Q&&K.axisExtent0===Y[0]&&K.axisExtent1===Y[1])return Z;else K.lastTickCount=J,K.lastAutoInterval=Q,K.axisExtent0=Y[0],K.axisExtent1=Y[1]}function nT1($){var Q=$.getLabelModel();return{axisRotate:$.getRotate?$.getRotate():$.isHorizontal&&!$.isHorizontal()?90:0,labelRotate:Q.get("rotate")||0,font:Q.getFont()}}function if0($,Q,J){var K=q2($),Y=$.scale,Z=Y.getExtent(),q=$.getLabelModel(),X=[],W=Math.max((Q||0)+1,1),F=Z[0],H=Y.count();if(F!==0&&W>1&&H/W>2)F=Math.round(Math.ceil(F/W)*W);var B=Wf($),z=q.get("showMinLabel")||B,A=q.get("showMaxLabel")||B;if(z&&F!==Z[0])G(Z[0]);var R=F;for(;R<=Z[1];R+=W)G(R);if(A&&R-W!==Z[1])G(Z[1]);function G(O){var T={value:O};X.push(J?O:{formattedLabel:K(T),rawLabel:Y.getLabel(T),tickValue:O,time:void 0,break:void 0})}return X}function sf0($,Q,J){var K=$.scale,Y=q2($),Z=[];return S(K.getTicks(),function(q){var X=K.getLabel(q),W=q.value;if(Q(q.value,X))Z.push(J?W:{formattedLabel:Y(q),rawLabel:X,tickValue:W,time:void 0,break:void 0})}),Z}var gT1,GT,r9,uT1,mT1;var Nf=h(()=>{l();l4();l0();M3();gT1=o0(),GT=o0(),r9={estimate:1,determine:2};uT1=df0("axisTick"),mT1=df0("axisLabel")});function af0($,Q){var J=$[1]-$[0],K=Q,Y=J/K/2;$[0]+=Y,$[1]-=Y}function rT1($,Q,J,K){var Y=Q.length;if(!$.onBand||J||!Y)return;var Z=$.getExtent(),q,X;if(Y===1)Q[0].coord=Z[0],Q[0].onBand=!0,q=Q[1]={coord:Z[1],tickValue:Q[0].tickValue,onBand:!0};else{var W=Q[Y-1].tickValue-Q[0].tickValue,F=(Q[Y-1].coord-Q[0].coord)/W;S(Q,function(A){A.coord-=F/2,A.onBand=!0});var H=$.scale.getExtent();X=1+H[1]-Q[Y-1].tickValue,q={coord:Q[Y-1].coord+F*X,tickValue:H[1]+1,onBand:!0},Q.push(q)}var B=Z[0]>Z[1];if(z(Q[0].coord,Z[0]))K?Q[0].coord=Z[0]:Q.shift();if(K&&z(Z[0],Q[0].coord))Q.unshift({coord:Z[0],onBand:!0});if(z(Z[1],q.coord))K?q.coord=Z[1]:Q.pop();if(K&&z(q.coord,Z[1]))Q.push({coord:Z[1],onBand:!0});function z(A,R){return A=Z6(A),R=Z6(R),B?A>R:A<R}}var of0,lT1,I8;var W2=h(()=>{l();k1();Nf();of0=[0,1],lT1=function(){function $(Q,J,K){this.onBand=!1,this.inverse=!1,this.dim=Q,this.scale=J,this._extent=K||[0,0]}return $.prototype.contain=function(Q){var J=this._extent,K=Math.min(J[0],J[1]),Y=Math.max(J[0],J[1]);return Q>=K&&Q<=Y},$.prototype.containData=function(Q){return this.scale.contain(this.scale.parse(Q))},$.prototype.getExtent=function(){return this._extent.slice()},$.prototype.getPixelPrecision=function(Q){return Mv(Q||this.scale.getExtent(),this._extent)},$.prototype.setExtent=function(Q,J){var K=this._extent;K[0]=Q,K[1]=J},$.prototype.dataToCoord=function(Q,J){var K=this._extent,Y=this.scale;if(Q=Y.normalize(Y.parse(Q)),this.onBand&&Y.type==="ordinal")K=K.slice(),af0(K,Y.count());return Z5(Q,of0,K,J)},$.prototype.coordToData=function(Q,J){var K=this._extent,Y=this.scale;if(this.onBand&&Y.type==="ordinal")K=K.slice(),af0(K,Y.count());var Z=Z5(Q,K,of0,J);return this.scale.scale(Z)},$.prototype.pointToData=function(Q,J){return},$.prototype.getTicksCoords=function(Q){Q=Q||{};var J=Q.tickModel||this.getTickModel(),K=mf0(this,J,{breakTicks:Q.breakTicks,pruneByBreak:Q.pruneByBreak}),Y=K.ticks,Z=q0(Y,function(X){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(X):X),tickValue:X}},this),q=J.get("alignWithLabel");return rT1(this,Z,q,Q.clamp),Z},$.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var Q=this.model.getModel("minorTick"),J=Q.get("splitNumber");if(!(J>0&&J<100))J=5;var K=this.scale.getMinorTicks(J),Y=q0(K,function(Z){return q0(Z,function(q){return{coord:this.dataToCoord(q),tickValue:q}},this)},this);return Y},$.prototype.getViewLabels=function(Q){return Q=Q||tz(r9.determine),uf0(this,Q).labels},$.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},$.prototype.getTickModel=function(){return this.model.getModel("axisTick")},$.prototype.getBandWidth=function(){var Q=this._extent,J=this.scale.getExtent(),K=J[1]-J[0]+(this.onBand?1:0);K===0&&(K=1);var Y=Math.abs(Q[1]-Q[0]);return Math.abs(Y)/K},$.prototype.calculateCategoryInterval=function(Q){return Q=Q||tz(r9.determine),lf0(this,Q)},$}();I8=lT1});var tf0=()=>{};function sT1($,Q,J,K,Y){var{width:Z,height:q}=J;switch($){case"top":K.set(J.x+Z/2,J.y-Q),Y.set(0,-1);break;case"bottom":K.set(J.x+Z/2,J.y+q+Q),Y.set(0,1);break;case"left":K.set(J.x-Q,J.y+q/2),Y.set(-1,0);break;case"right":K.set(J.x+Z+Q,J.y+q/2),Y.set(1,0);break}}function oT1($,Q,J,K,Y,Z,q,X,W){q-=$,X-=Q;var F=Math.sqrt(q*q+X*X);q/=F,X/=F;var H=q*J+$,B=X*J+Q;if(Math.abs(K-Y)%OT<0.0001)return W[0]=H,W[1]=B,F-J;if(Z){var z=K;K=t8(Y),Y=t8(z)}else K=t8(K),Y=t8(Y);if(K>Y)Y+=OT;var A=Math.atan2(X,q);if(A<0)A+=OT;if(A>=K&&A<=Y||A+OT>=K&&A+OT<=Y)return W[0]=H,W[1]=B,F-J;var R=J*Math.cos(K)+$,G=J*Math.sin(K)+Q,O=J*Math.cos(Y)+$,T=J*Math.sin(Y)+Q,D=(R-q)*(R-q)+(G-X)*(G-X),P=(O-q)*(O-q)+(T-X)*(T-X);if(D<P)return W[0]=R,W[1]=G,Math.sqrt(D);else return W[0]=O,W[1]=T,Math.sqrt(P)}function Bf($,Q,J,K,Y,Z,q,X){var W=Y-$,F=Z-Q,H=J-$,B=K-Q,z=Math.sqrt(H*H+B*B);H/=z,B/=z;var A=W*H+F*B,R=A/z;if(X)R=Math.min(Math.max(R,0),1);R*=z;var G=q[0]=$+R*H,O=q[1]=Q+R*B;return Math.sqrt((G-Y)*(G-Y)+(O-Z)*(O-Z))}function ef0($,Q,J,K,Y,Z,q){if(J<0)$=$+J,J=-J;if(K<0)Q=Q+K,K=-K;var X=$+J,W=Q+K,F=q[0]=Math.min(Math.max(Y,$),X),H=q[1]=Math.min(Math.max(Z,Q),W);return Math.sqrt((F-Y)*(F-Y)+(H-Z)*(H-Z))}function aT1($,Q,J){var K=ef0(Q.x,Q.y,Q.width,Q.height,$.x,$.y,UJ);return J.set(UJ[0],UJ[1]),K}function tT1($,Q,J){var K=0,Y=0,Z=0,q=0,X,W,F=1/0,H=Q.data,B=$.x,z=$.y;for(var A=0;A<H.length;){var R=H[A++];if(A===1)K=H[A],Y=H[A+1],Z=K,q=Y;var G=F;switch(R){case MU.M:Z=H[A++],q=H[A++],K=Z,Y=q;break;case MU.L:G=Bf(K,Y,H[A],H[A+1],B,z,UJ,!0),K=H[A++],Y=H[A++];break;case MU.C:G=qv(K,Y,H[A++],H[A++],H[A++],H[A++],H[A],H[A+1],B,z,UJ),K=H[A++],Y=H[A++];break;case MU.Q:G=Wv(K,Y,H[A++],H[A++],H[A],H[A+1],B,z,UJ),K=H[A++],Y=H[A++];break;case MU.A:var O=H[A++],T=H[A++],D=H[A++],P=H[A++],j=H[A++],E=H[A++];A+=1;var L=!!(1-H[A++]);if(X=Math.cos(j)*D+O,W=Math.sin(j)*P+T,A<=1)Z=X,q=W;var v=(B-O)*P/D+O;G=oT1(O,T,P,j,j+E,L,v,z,UJ),K=Math.cos(j+E)*D+O,Y=Math.sin(j+E)*P+T;break;case MU.R:Z=K=H[A++],q=Y=H[A++];var f=H[A++],_=H[A++];G=ef0(Z,q,f,_,B,z,UJ);break;case MU.Z:G=Bf(K,Y,Z,q,B,z,UJ,!0),K=Z,Y=q;break}if(G<F)F=G,J.set(UJ[0],UJ[1])}return F}function mt($,Q){if(!$)return;var J=$.getTextGuideLine(),K=$.getTextContent();if(!(K&&J))return;var Y=$.textGuideLineConfig||{},Z=[[0,0],[0,0],[0,0]],q=Y.candidates||iT1,X=K.getBoundingRect().clone();X.applyTransform(K.getComputedTransform());var W=1/0,F=Y.anchor,H=$.getComputedTransform(),B=H&&d7([],H),z=Q.get("length2")||0;if(F)I7.copy(F);for(var A=0;A<q.length;A++){var R=q[A];sT1(R,0,X,HJ,sK),Z1.scaleAndAdd(C6,HJ,sK,z),C6.transform(B);var G=$.getBoundingRect(),O=F?F.distance(C6):$ instanceof Y1?tT1(C6,$.path,I7):aT1(C6,G,I7);if(O<W)W=O,C6.transform(H),I7.transform(H),I7.toArray(Z[0]),C6.toArray(Z[1]),HJ.toArray(Z[2])}pt(Z,Q.get("minTurnAngle")),J.setShape({points:Z})}function pt($,Q){if(!(Q<=180&&Q>0))return;Q=Q/180*Math.PI,HJ.fromArray($[0]),C6.fromArray($[1]),I7.fromArray($[2]),Z1.sub(sK,HJ,C6),Z1.sub(iK,I7,C6);var J=sK.len(),K=iK.len();if(J<0.001||K<0.001)return;sK.scale(1/J),iK.scale(1/K);var Y=sK.dot(iK),Z=Math.cos(Q);if(Z<Y){var q=Bf(C6.x,C6.y,I7.x,I7.y,HJ.x,HJ.y,zf,!1);K9.fromArray(zf),K9.scaleAndAdd(iK,q/Math.tan(Math.PI-Q));var X=I7.x!==C6.x?(K9.x-C6.x)/(I7.x-C6.x):(K9.y-C6.y)/(I7.y-C6.y);if(isNaN(X))return;if(X<0)Z1.copy(K9,C6);else if(X>1)Z1.copy(K9,I7);K9.toArray($[1])}}function $I0($,Q,J){if(!(J<=180&&J>0))return;J=J/180*Math.PI,HJ.fromArray($[0]),C6.fromArray($[1]),I7.fromArray($[2]),Z1.sub(sK,C6,HJ),Z1.sub(iK,I7,C6);var K=sK.len(),Y=iK.len();if(K<0.001||Y<0.001)return;sK.scale(1/K),iK.scale(1/Y);var Z=sK.dot(Q),q=Math.cos(J);if(Z<q){var X=Bf(C6.x,C6.y,I7.x,I7.y,HJ.x,HJ.y,zf,!1);K9.fromArray(zf);var W=Math.PI/2,F=Math.acos(iK.dot(Q)),H=W+F-J;if(H>=W)Z1.copy(K9,I7);else{K9.scaleAndAdd(iK,X/Math.tan(Math.PI/2-H));var B=I7.x!==C6.x?(K9.x-C6.x)/(I7.x-C6.x):(K9.y-C6.y)/(I7.y-C6.y);if(isNaN(B))return;if(B<0)Z1.copy(K9,C6);else if(B>1)Z1.copy(K9,I7)}K9.toArray($[1])}}function ut($,Q,J,K){var Y=J==="normal",Z=Y?$:$.ensureState(J);Z.ignore=Q;var q=K.get("smooth");if(q&&q===!0)q=0.3;if(Z.shape=Z.shape||{},q>0)Z.shape.smooth=q;var X=K.getModel("lineStyle").getLineStyle();Y?$.useStyle(X):Z.style=X}function eT1($,Q){var{smooth:J,points:K}=Q;if(!K)return;if($.moveTo(K[0][0],K[0][1]),J>0&&K.length>=3){var Y=S$(K[0],K[1]),Z=S$(K[1],K[2]);if(!Y||!Z){$.lineTo(K[1][0],K[1][1]),$.lineTo(K[2][0],K[2][1]);return}var q=Math.min(Y,Z)*J,X=aB([],K[1],K[0],q/Y),W=aB([],K[1],K[2],q/Z),F=aB([],X,W,0.5);$.bezierCurveTo(X[0],X[1],X[0],X[1],F[0],F[1]),$.bezierCurveTo(W[0],W[1],W[0],W[1],K[2][0],K[2][1])}else for(var H=1;H<K.length;H++)$.lineTo(K[H][0],K[H][1])}function ez($,Q,J){var K=$.getTextGuideLine(),Y=$.getTextContent();if(!Y){if(K)$.removeTextGuideLine();return}var Z=Q.normal,q=Z.get("show"),X=Y.ignore;for(var W=0;W<dX.length;W++){var F=dX[W],H=Q[F],B=F==="normal";if(H){var z=H.get("show"),A=B?X:g0(Y.states[F]&&Y.states[F].ignore,X);if(A||!g0(z,q)){var R=B?K:K&&K.states[F];if(R)R.ignore=!0;if(K)ut(K,!0,F,H);continue}if(!K){if(K=new G6,$.setTextGuideLine(K),!B&&(X||!q))ut(K,!0,"normal",Q.normal);if($.stateProxy)K.stateProxy=$.stateProxy}ut(K,!1,F,H)}}if(K){c0(K.style,J),K.style.fill=null;var G=Z.get("showAbove"),O=$.textGuideLineConfig=$.textGuideLineConfig||{};O.showAbove=G||!1,K.buildPath=eT1}}function $A($,Q){Q=Q||"labelLine";var J={normal:$.getModel(Q)};for(var K=0;K<Y8.length;K++){var Y=Y8[K];J[Y]=$.getModel([Y,Q])}return J}var OT,MU,iT1,UJ,HJ,C6,I7,sK,iK,zf,K9;var wT=h(()=>{a0();L3();ww();h9();l();w6();M5();OT=Math.PI*2,MU=z8.CMD,iT1=["top","right","bottom","left"];UJ=[];HJ=new Z1,C6=new Z1,I7=new Z1,sK=new Z1,iK=new Z1;zf=[],K9=new Z1});function TT($,Q,J){J=J||KI0,Q?$.dirty|=J:$.dirty&=~J}function YI0($,Q){return Q=Q||KI0,$.dirty==null||!!($.dirty&Q)}function NJ($){if(!$)return;if(YI0($))nt($,$.label,$);return $}function nt($,Q,J){var K=Q.getComputedTransform();$.transform=DS($.transform,K);var Y=$.localRect=kz($.localRect,Q.getBoundingRect()),Z=Q.style,q=Z.margin,X=J&&J.marginForce,W=J&&J.minMarginForce,F=J&&J.marginDefault,H=Z.__marginType;if(H==null&&F)q=F,H=AU.textMargin;for(var B=0;B<4;B++)dt[B]=H===AU.minMargin&&W&&W[B]!=null?W[B]:X&&X[B]!=null?X[B]:q?q[B]:0;if(H===AU.textMargin)d$(Y,dt,!1,!1);var z=$.rect=kz($.rect,Y);if(K)z.applyTransform(K);if(H===AU.minMargin)d$(z,dt,!1,!1);return $.axisAligned=TS(K),($.label=$.label||{}).ignore=Q.ignore,TT($,!1),TT($,!0,Af),$}function ZI0($,Q,J){if($.transform=DS($.transform,J),$.localRect=kz($.localRect,Q),$.rect=kz($.rect,Q),J)$.rect.applyTransform(J);return $.axisAligned=TS(J),$.obb=void 0,($.label=$.label||{}).ignore=!1,$}function DT($,Q){if(!$)return;$.label.x+=Q.x,$.label.y+=Q.y,$.label.markRedraw();var J=$.transform;if(J)J[4]+=Q.x,J[5]+=Q.y;var K=$.rect;if(K)K.x+=Q.x,K.y+=Q.y;var Y=$.obb;if(Y)Y.fromBoundingRect($.localRect,J)}function CT($,Q){for(var J=0;J<QI0.length;J++){var K=QI0[J];if($[K]==null)$[K]=Q[K]}return NJ($)}function JI0($){var Q=$.obb;if(!Q||YI0($,Af))$.obb=Q=Q||new OS,Q.fromBoundingRect($.localRect,$.transform),TT($,!1,Af);return Q}function PT($,Q,J,K,Y){var Z=$.length,q=D1[Q],X=p6[Q];if(Z<2)return!1;$.sort(function(_,M){return _.rect[q]-M.rect[q]});var W=0,F,H=!1,B=0;for(var z=0;z<Z;z++){var A=$[z],R=A.rect;if(F=R[q]-W,F<0)R[q]-=F,A.label[q]-=F,H=!0;var G=Math.max(-F,0);B+=G,W=R[q]+R[X]}if(B>0&&Y)L(-B/Z,0,Z);var O=$[0],T=$[Z-1],D,P;if(j(),D<0&&v(-D,0.8),P<0&&v(P,0.8),j(),E(D,P,1),E(P,D,-1),j(),D<0)f(-D);if(P<0)f(P);function j(){D=O.rect[q]-J,P=K-T.rect[q]-T.rect[X]}function E(_,M,b){if(_<0){var x=Math.min(M,-_);if(x>0){L(x*b,0,Z);var g=x+_;if(g<0)v(-g*b,1)}else v(-_*b,1)}}function L(_,M,b){if(_!==0)H=!0;for(var x=M;x<b;x++){var g=$[x],m=g.rect;m[q]+=_,g.label[q]+=_}}function v(_,M){var b=[],x=0;for(var g=1;g<Z;g++){var m=$[g-1].rect,u=Math.max($[g].rect[q]-m[q]-m[X],0);b.push(u),x+=u}if(!x)return;var p=Math.min(Math.abs(_)/x,M);if(_>0)for(var g=0;g<Z-1;g++){var o=b[g]*p;L(o,0,g+1)}else for(var g=Z-1;g>0;g--){var o=b[g-1]*p;L(-o,g,Z)}}function f(_){var M=_<0?-1:1;_=Math.abs(_);var b=Math.ceil(_/(Z-1));for(var x=0;x<Z-1;x++){if(M>0)L(b,0,x+1);else L(-b,Z-x-1,Z);if(_-=b,_<=0)return}}return H}function qI0($){for(var Q=0;Q<$.length;Q++){var J=$[Q],K=J.defaultAttr,Y=J.labelLine;J.label.attr("ignore",K.ignore),Y&&Y.attr("ignore",K.labelGuideIgnore)}}function Vf($){var Q=[];$.sort(function(F,H){return(H.suggestIgnore?1:0)-(F.suggestIgnore?1:0)||H.priority-F.priority});function J(F){if(!F.ignore){var H=F.ensureState("emphasis");if(H.ignore==null)H.ignore=!1}F.ignore=!0}for(var K=0;K<$.length;K++){var Y=NJ($[K]);if(Y.label.ignore)continue;var{label:Z,labelLine:q}=Y,X=!1;for(var W=0;W<Q.length;W++)if(QA(Y,Q[W],null,{touchThreshold:0.05})){X=!0;break}if(X)J(Z),q&&J(q);else Q.push(Y)}}function QA($,Q,J,K){if(!$||!Q)return!1;if($.label&&$.label.ignore||Q.label&&Q.label.ignore)return!1;if(!$.rect.intersect(Q.rect,J,K))return!1;if($.axisAligned&&Q.axisAligned)return!0;return JI0($).intersect(JI0(Q),J,K)}var QI0,$D1=1,Af=2,KI0,dt;var kT=h(()=>{a0();g5();QI0=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"],KI0=$D1|Af;dt=[0,0,0,0]});function QD1($){if($){var Q=[];for(var J=0;J<$.length;J++)Q.push($[J].slice());return Q}}function JD1($,Q){var J=$.label,K=Q&&Q.getTextGuideLine();return{dataIndex:$.dataIndex,dataType:$.dataType,seriesIndex:$.seriesModel.seriesIndex,text:$.label.style.text,rect:$.hostRect,labelRect:$.rect,align:J.style.align,verticalAlign:J.style.verticalAlign,labelLinePoints:QD1(K&&K.shape.points)}}function Rf($,Q,J){for(var K=0;K<J.length;K++){var Y=J[K];if(Q[Y]!=null)$[Y]=Q[Y]}}var XI0,Y9,lt,KD1,Gf,YD1,WI0;var FI0=h(()=>{a0();o5();k1();EK();wT();l0();l();kT();g5();ww();XI0=["align","verticalAlign","width","height","fontSize"],Y9=new S9,lt=o0(),KD1=o0();Gf=["x","y","rotation"],YD1=function(){function $(){this._labelList=[],this._chartViewList=[]}return $.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},$.prototype._addLabel=function(Q,J,K,Y,Z){var{style:q,__hostTarget:X}=Y,W=X.textConfig||{},F=Y.getComputedTransform(),H=Y.getBoundingRect().plain();if(n0.applyTransform(H,H,F),F)Y9.setLocalTransform(F);else Y9.x=Y9.y=Y9.rotation=Y9.originX=Y9.originY=0,Y9.scaleX=Y9.scaleY=1;Y9.rotation=t8(Y9.rotation);var B=Y.__hostTarget,z;if(B){z=B.getBoundingRect().plain();var A=B.getComputedTransform();n0.applyTransform(z,z,A)}var R=z&&B.getTextGuideLine();this._labelList.push({label:Y,labelLine:R,seriesModel:K,dataIndex:Q,dataType:J,layoutOptionOrCb:Z,layoutOption:null,rect:H,hostRect:z,priority:z?z.width*z.height:0,defaultAttr:{ignore:Y.ignore,labelGuideIgnore:R&&R.ignore,x:Y9.x,y:Y9.y,scaleX:Y9.scaleX,scaleY:Y9.scaleY,rotation:Y9.rotation,style:{x:q.x,y:q.y,align:q.align,verticalAlign:q.verticalAlign,width:q.width,height:q.height,fontSize:q.fontSize},cursor:Y.cursor,attachedPos:W.position,attachedRot:W.rotation}})},$.prototype.addLabelsOfSeries=function(Q){var J=this;this._chartViewList.push(Q);var K=Q.__model,Y=K.get("labelLayout");if(!(I0(Y)||N1(Y).length))return;Q.group.traverse(function(Z){if(Z.ignore)return!0;var q=Z.getTextContent(),X=r0(Z);if(q&&!q.disableLabelLayout)J._addLabel(X.dataIndex,X.dataType,K,q,Y)})},$.prototype.updateLayoutConfig=function(Q){var J=Q.getWidth(),K=Q.getHeight();function Y(P,j){return function(){mt(P,j)}}for(var Z=0;Z<this._labelList.length;Z++){var q=this._labelList[Z],X=q.label,W=X.__hostTarget,F=q.defaultAttr,H=void 0;if(I0(q.layoutOptionOrCb))H=q.layoutOptionOrCb(JD1(q,W));else H=q.layoutOptionOrCb;H=H||{},q.layoutOption=H;var B=Math.PI/180;if(W)W.setTextConfig({local:!1,position:H.x!=null||H.y!=null?null:F.attachedPos,rotation:H.rotate!=null?H.rotate*B:F.attachedRot,offset:[H.dx||0,H.dy||0]});var z=!1;if(H.x!=null)X.x=f0(H.x,J),X.setStyle("x",0),z=!0;else X.x=F.x,X.setStyle("x",F.style.x);if(H.y!=null)X.y=f0(H.y,K),X.setStyle("y",0),z=!0;else X.y=F.y,X.setStyle("y",F.style.y);if(H.labelLinePoints){var A=W.getTextGuideLine();if(A)A.setShape({points:H.labelLinePoints}),z=!1}var R=lt(X);R.needsUpdateLabelLine=z,X.rotation=H.rotate!=null?H.rotate*B:F.rotation,X.scaleX=F.scaleX,X.scaleY=F.scaleY;for(var G=0;G<XI0.length;G++){var O=XI0[G];X.setStyle(O,H[O]!=null?H[O]:F.style[O])}if(H.draggable){if(X.draggable=!0,X.cursor="move",W){var T=q.seriesModel;if(q.dataIndex!=null){var D=q.seriesModel.getData(q.dataType);T=D.getItemModel(q.dataIndex)}X.on("drag",Y(W,T.getModel("labelLine")))}}else X.off("drag"),X.cursor=F.cursor}},$.prototype.layout=function(Q){var J=Q.getWidth(),K=Q.getHeight(),Y=[];S(this._labelList,function(W){if(!W.defaultAttr.ignore)Y.push(CT({},W))});var Z=f1(Y,function(W){return W.layoutOption.moveOverlap==="shiftX"}),q=f1(Y,function(W){return W.layoutOption.moveOverlap==="shiftY"});PT(Z,0,0,J),PT(q,1,0,K);var X=f1(Y,function(W){return W.layoutOption.hideOverlap});qI0(X),Vf(X)},$.prototype.processLabelsOverall=function(){var Q=this;S(this._chartViewList,function(J){var{__model:K,ignoreLabelLineUpdate:Y}=J,Z=K.isAnimationEnabled();J.group.traverse(function(q){if(q.ignore&&!q.forceLabelAnimation)return!0;var X=!Y,W=q.getTextContent();if(!X&&W)X=lt(W).needsUpdateLabelLine;if(X)Q._updateLabelLine(q,K);if(Z)Q._animateLabels(q,K)})})},$.prototype._updateLabelLine=function(Q,J){var K=Q.getTextContent(),Y=r0(Q),Z=Y.dataIndex;if(K&&Z!=null){var q=J.getData(Y.dataType),X=q.getItemModel(Z),W={},F=q.getItemVisual(Z,"style");if(F){var H=q.getVisual("drawType");W.stroke=F[H]}var B=X.getModel("labelLine");ez(Q,$A(X),W),mt(Q,B)}},$.prototype._animateLabels=function(Q,J){var K=Q.getTextContent(),Y=Q.getTextGuideLine();if(K&&(Q.forceLabelAnimation||!K.ignore&&!K.invisible&&!Q.disableLabelAnimation&&!OZ(Q))){var Z=lt(K),q=Z.oldLayout,X=r0(Q),W=X.dataIndex,F={x:K.x,y:K.y,rotation:K.rotation},H=J.getData(X.dataType);if(!q){if(K.attr(F),!CZ(K).valueAnimation){var B=g0(K.style.opacity,1);K.style.opacity=0,q5(K,{style:{opacity:B}},J,W)}}else{K.attr(q);var z=Q.prevStates;if(z){if(J1(z,"select")>=0)K.attr(Z.oldLayoutSelect);if(J1(z,"emphasis")>=0)K.attr(Z.oldLayoutEmphasis)}C1(K,F,J,W)}if(Z.oldLayout=F,K.states.select){var A=Z.oldLayoutSelect={};Rf(A,F,Gf),Rf(A,K.states.select,Gf)}if(K.states.emphasis){var R=Z.oldLayoutEmphasis={};Rf(R,F,Gf),Rf(R,K.states.emphasis,Gf)}kS(K,W,H,J,J)}if(Y&&!Y.ignore&&!Y.invisible){var Z=KD1(Y),q=Z.oldLayout,G={points:Y.shape.points};if(!q)Y.setShape(G),Y.style.strokePercent=0,q5(Y,{style:{strokePercent:1}},J);else Y.attr({shape:q}),C1(Y,{shape:G},J);Z.oldLayout=G}},$}(),WI0=YD1});function jT($){$.registerUpdateLifecycle("series:beforeupdate",function(Q,J,K){var Y=rt(J).labelManager;if(!Y)Y=rt(J).labelManager=new WI0;Y.clearLabels()}),$.registerUpdateLifecycle("series:layoutlabels",function(Q,J,K){var Y=rt(J).labelManager;K.updatedSeries.forEach(function(Z){Y.addLabelsOfSeries(J.getViewOfSeriesModel(Z))}),Y.updateLayoutConfig(J),Y.layout(J),Y.processLabelsOverall()})}var rt;var it=h(()=>{l0();FI0();rt=o0()});var UI0=h(()=>{E4();it();SU();tf0();T1(jT)});var st,ot,HI0,bU,ZD1,qD1,Of;var at=h(()=>{bF();st=Math.sin,ot=Math.cos,HI0=Math.PI,bU=Math.PI*2,ZD1=180/HI0,qD1=function(){function $(){}return $.prototype.reset=function(Q){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,Q||4)},$.prototype.moveTo=function(Q,J){this._add("M",Q,J)},$.prototype.lineTo=function(Q,J){this._add("L",Q,J)},$.prototype.bezierCurveTo=function(Q,J,K,Y,Z,q){this._add("C",Q,J,K,Y,Z,q)},$.prototype.quadraticCurveTo=function(Q,J,K,Y){this._add("Q",Q,J,K,Y)},$.prototype.arc=function(Q,J,K,Y,Z,q){this.ellipse(Q,J,K,K,0,Y,Z,q)},$.prototype.ellipse=function(Q,J,K,Y,Z,q,X,W){var F=X-q,H=!W,B=Math.abs(F),z=jK(B-bU)||(H?F>=bU:-F>=bU),A=F>0?F%bU:F%bU+bU,R=!1;if(z)R=!0;else if(jK(B))R=!1;else R=A>=HI0===!!H;var G=Q+K*ot(q),O=J+Y*st(q);if(this._start)this._add("M",G,O);var T=Math.round(Z*ZD1);if(z){var D=1/this._p,P=(H?1:-1)*(bU-D);if(this._add("A",K,Y,T,1,+H,Q+K*ot(q+P),J+Y*st(q+P)),D>0.01)this._add("A",K,Y,T,0,+H,G,O)}else{var j=Q+K*ot(X),E=J+Y*st(X);this._add("A",K,Y,T,+R,+H,j,E)}},$.prototype.rect=function(Q,J,K,Y){this._add("M",Q,J),this._add("l",K,0),this._add("l",0,Y),this._add("l",-K,0),this._add("Z")},$.prototype.closePath=function(){if(this._d.length>0)this._add("Z")},$.prototype._add=function(Q,J,K,Y,Z,q,X,W,F){var H=[],B=this._p;for(var z=1;z<arguments.length;z++){var A=arguments[z];if(isNaN(A)){this._invalid=!0;return}H.push(Math.round(A*B)/B)}this._d.push(Q+H.join(" ")),this._start=Q==="Z"},$.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},$.prototype.getStr=function(){return this._str},$}(),Of=qD1});function WD1($){var Q=$.fill;return Q!=null&&Q!==ET}function FD1($){var Q=$.stroke;return Q!=null&&Q!==ET}function et($,Q,J,K){var Y=Q.opacity==null?1:Q.opacity;if(J instanceof q6){$("opacity",Y);return}if(WD1(Q)){var Z=MX(Q.fill);$("fill",Z.color);var q=Q.fillOpacity!=null?Q.fillOpacity*Z.opacity*Y:Z.opacity*Y;if(K||q<1)$("fill-opacity",q)}else $("fill",ET);if(FD1(Q)){var X=MX(Q.stroke);$("stroke",X.color);var W=Q.strokeNoScale?J.getLineScale():1,F=W?(Q.lineWidth||0)/W:0,H=Q.strokeOpacity!=null?Q.strokeOpacity*X.opacity*Y:X.opacity*Y,B=Q.strokeFirst;if(K||F!==1)$("stroke-width",F);if(K||B)$("paint-order",B?"stroke":"fill");if(K||H<1)$("stroke-opacity",H);if(Q.lineDash){var z=qT(J),A=z[0],R=z[1];if(A){if(R=XD1(R||0),$("stroke-dasharray",A.join(",")),R||K)$("stroke-dashoffset",R)}}else if(K)$("stroke-dasharray",ET);for(var G=0;G<tt.length;G++){var O=tt[G];if(K||Q[O]!==zz[O]){var T=Q[O]||zz[O];T&&$(UD1[G],T)}}}else if(K)$("stroke",ET)}var ET="none",XD1,tt,UD1;var NI0=h(()=>{m6();u$();la();l();bF();XD1=Math.round;tt=["lineCap","miterLimit","lineJoin"],UD1=q0(tt,function($){return"stroke-"+$.toLowerCase()})});function wf($){return document.createElementNS(BI0,$)}function M7($,Q,J,K,Y){return{tag:$,attrs:J||{},children:K,text:Y,key:Q}}function HD1($,Q){var J=[];if(Q)for(var K in Q){var Y=Q[K],Z=K;if(Y===!1)continue;else if(Y!==!0&&Y!=null)Z+='="'+Y+'"';J.push(Z)}return"<"+$+" "+J.join(" ")+">"}function ND1($){return"</"+$+">"}function LT($,Q){Q=Q||{};var J=Q.newline?`
`:"";function K(Y){var{children:Z,tag:q,attrs:X,text:W}=Y;return HD1(q,X)+(q!=="style"?$8(W):W||"")+(Z?""+J+q0(Z,function(F){return K(F)}).join(J)+J:"")+ND1(q)}return K($)}function VI0($,Q,J){J=J||{};var K=J.newline?`
`:"",Y=" {"+K,Z=K+"}",q=q0(N1($),function(W){return W+Y+q0(N1($[W]),function(F){return F+":"+$[W][F]+";"}).join(K)+Z}).join(K),X=q0(N1(Q),function(W){return"@keyframes "+W+Y+q0(N1(Q[W]),function(F){return F+Y+q0(N1(Q[W][F]),function(H){var B=Q[W][F][H];if(H==="d")B='path("'+B+'")';return H+":"+B+";"}).join(K)+Z}).join(K)+Z}).join(K);if(!q&&!X)return"";return["<![CDATA[",q,X,"]]>"].join(K)}function hT($){return{zrId:$,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function Je($,Q,J,K){return M7("svg","root",{width:$,height:Q,xmlns:BI0,"xmlns:xlink":$e,version:"1.1",baseProfile:"full",viewBox:K?"0 0 "+$+" "+Q:!1},J)}var BI0="http://www.w3.org/2000/svg",$e="http://www.w3.org/1999/xlink",zI0="http://www.w3.org/2000/xmlns/",AI0="http://www.w3.org/XML/1998/namespace",Qe="ecmeta_";var vT=h(()=>{l();lO()});function Tf(){return BD1++}var BD1=0;function zD1($,Q,J){var K=Y0({},$.shape);Y0(K,Q),$.buildPath(J,K);var Y=new Of;return Y.reset(wv($)),J.rebuildPath(Y,1),Y.generateStr(),Y.getStr()}function AD1($,Q){var{originX:J,originY:K}=Q;if(J||K)$[gU]=J+"px "+K+"px"}function OI0($,Q){var J=Q.zrId+"-ani-"+Q.cssAnimIdx++;return Q.cssAnims[J]=$,J}function RD1($,Q,J){var K=$.shape.paths,Y={},Z,q;if(S(K,function(W){var F=hT(J.zrId);F.animation=!0,ST(W,{},F,!0);var{cssAnims:H,cssNodes:B}=F,z=N1(H),A=z.length;if(!A)return;q=z[A-1];var R=H[q];for(var G in R){var O=R[G];Y[G]=Y[G]||{d:""},Y[G].d+=O.d||""}for(var T in B){var D=B[T].animation;if(D.indexOf(q)>=0)Z=D}}),!Z)return;Q.d=!1;var X=OI0(Y,J);return Z.replace(q,X)}function GI0($){return R0($)?RI0[$]?"cubic-bezier("+RI0[$]+")":Kz($)?$:"":""}function ST($,Q,J,K){var Y=$.animators,Z=Y.length,q=[];if($ instanceof lX){var X=RD1($,Q,J);if(X)q.push(X);else if(!Z)return}else if(!Z)return;var W={};for(var F=0;F<Z;F++){var H=Y[F],B=[H.getMaxTime()/1000+"s"],z=GI0(H.getClip().easing),A=H.getDelay();if(z)B.push(z);else B.push("linear");if(A)B.push(A/1000+"s");if(H.getLoop())B.push("infinite");var R=B.join(" ");W[R]=W[R]||[R,[]],W[R][1].push(H)}function G(D){var P=D[1],j=P.length,E={},L={},v={},f="animation-timing-function";function _(B1,e0,P1){var t0=B1.getTracks(),w1=B1.getMaxTime();for(var V5=0;V5<t0.length;V5++){var g1=t0[V5];if(g1.needsAnimate()){var{keyframes:w5,propName:T5}=g1;if(P1&&(T5=P1(T5)),T5)for(var d6=0;d6<w5.length;d6++){var x1=w5[d6],b7=Math.round(x1.time/w1*100)+"%",o9=GI0(x1.easing),u3=x1.rawValue;if(R0(u3)||V1(u3)){if(e0[b7]=e0[b7]||{},e0[b7][T5]=x1.rawValue,o9)e0[b7][f]=o9}}}}}for(var M=0;M<j;M++){var b=P[M],x=b.targetName;if(!x)!K&&_(b,E);else if(x==="shape")_(b,L)}for(var g in E){var m={};Xz(m,$),Y0(m,E[g]);var u=Tv(m),p=E[g][f];if(v[g]=u?{transform:u}:{},AD1(v[g],m),p)v[g][f]=p}var o,t=!0;for(var g in L){v[g]=v[g]||{};var r=!o,p=L[g][f];if(r)o=new z8;var Q0=o.len();o.reset(),v[g].d=zD1($,L[g],o);var F0=o.len();if(!r&&Q0!==F0){t=!1;break}if(p)v[g][f]=p}if(!t)for(var g in v)delete v[g].d;if(!K)for(var M=0;M<j;M++){var b=P[M],x=b.targetName;if(x==="style")_(b,v,function(t0){return VD1[t0]})}var W0=N1(v),h0=!0,d0;for(var M=1;M<W0.length;M++){var W1=W0[M-1],z1=W0[M];if(v[W1][gU]!==v[z1][gU]){h0=!1;break}d0=v[W1][gU]}if(h0&&d0){for(var g in v)if(v[g][gU])delete v[g][gU];Q[gU]=d0}if(f1(W0,function(B1){return N1(v[B1]).length>0}).length){var b1=OI0(v,J);return b1+" "+D[0]+" both"}}for(var O in W){var X=G(W[O]);if(X)q.push(X)}if(q.length){var T=J.zrId+"-cls-"+Tf();J.cssNodes["."+T]={animation:q.join(",")},Q.class=T}}var RI0,gU="transform-origin",VD1;var wI0=h(()=>{EK();vT();at();L3();bF();l();Eo();Fv();RI0={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"};VD1={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"}});function DI0($,Q,J){if(!$.ignore)if($.isSilent()){var K={"pointer-events":"none"};TI0(K,Q,J,!0)}else{var Y=$.states.emphasis&&$.states.emphasis.style?$.states.emphasis.style:{},Z=Y.fill;if(!Z){var q=$.style&&$.style.fill,X=$.states.select&&$.states.select.style&&$.states.select.style.fill,W=$.currentStates.indexOf("select")>=0?X||q:q;if(W)Z=Kw(W)}var F=Y.lineWidth;if(F){var H=!Y.strokeNoScale&&$.transform?$.transform[0]:1;F=F/H}var K={cursor:"pointer"};if(Z)K.fill=Z;if(Y.stroke)K.stroke=Y.stroke;if(F)K["stroke-width"]=F;TI0(K,Q,J,!0)}}function TI0($,Q,J,K){var Y=JSON.stringify($),Z=J.cssStyleCache[Y];if(!Z)Z=J.zrId+"-cls-"+Tf(),J.cssStyleCache[Y]=Z,J.cssNodes["."+Z+(K?":hover":"")]=$;Q.class=Q.class?Q.class+" "+Z:Z}var CI0=h(()=>{o8()});function EI0($){return $&&R0($.src)}function LI0($){return $&&I0($.toDataURL)}function Ke($,Q,J,K){et(function(Y,Z){var q=Y==="fill"||Y==="stroke";if(q&&Ov(Z))Xe(Q,$,Y,K);else if(q&&Yw(Z))We(J,$,Y,K);else $[Y]=Z;if(q&&K.ssr&&Z==="none")$["pointer-events"]="visible"},Q,J,!1),PD1(J,$,K)}function Ye($,Q){var J=jE0(Q);if(J){if(J.each(function(K,Y){K!=null&&($[(Qe+Y).toLowerCase()]=K+"")}),Q.isSilent())$[Qe+"silent"]="true"}}function PI0($){return jK($[0]-1)&&jK($[1])&&jK($[2])&&jK($[3]-1)}function GD1($){return jK($[4])&&jK($[5])}function Ze($,Q,J){if(Q&&!(GD1(Q)&&PI0(Q))){var K=J?10:1e4;$.transform=PI0(Q)?"translate("+_T(Q[4]*K)/K+" "+_T(Q[5]*K)/K+")":tj0(Q)}}function kI0($,Q,J){var K=$.points,Y=[];for(var Z=0;Z<K.length;Z++)Y.push(_T(K[Z][0]*J)/J),Y.push(_T(K[Z][1]*J)/J);Q.points=Y.join(" ")}function jI0($){return!$.smooth}function OD1($){var Q=q0($,function(J){return typeof J==="string"?[J,J]:J});return function(J,K,Y){for(var Z=0;Z<Q.length;Z++){var q=Q[Z],X=J[q[0]];if(X!=null)K[q[1]]=_T(X*Y)/Y}}}function TD1($){var Q=$.animators;for(var J=0;J<Q.length;J++)if(Q[J].targetName==="shape")return!0;return!1}function hI0($,Q){var{style:J,shape:K}=$,Y=wD1[$.type],Z={},q=Q.animation,X="path",W=$.style.strokePercent,F=Q.compress&&wv($)||4;if(Y&&!Q.willUpdate&&!(Y[1]&&!Y[1](K))&&!(q&&TD1($))&&!(W<1)){X=$.type;var H=Math.pow(10,F);Y[0](K,Z,H)}else{var B=!$.path||$.shapeChanged();if(!$.path)$.createPathProxy();var z=$.path;if(B)z.beginPath(),$.buildPath(z,$.shape),$.pathUpdated();var A=z.getVersion(),R=$,G=R.__svgPathBuilder;if(R.__svgPathVersion!==A||!G||W!==R.__svgPathStrokePercent){if(!G)G=R.__svgPathBuilder=new Of;G.reset(F),z.rebuildPath(G,W),G.generateStr(),R.__svgPathVersion=A,R.__svgPathStrokePercent=W}Z.d=G.getStr()}return Ze(Z,$.transform),Ke(Z,J,$,Q),Ye(Z,$),Q.animation&&ST($,Z,Q),Q.emphasis&&DI0($,Z,Q),M7(X,$.id+"",Z)}function DD1($,Q){var J=$.style,K=J.image;if(K&&!R0(K)){if(EI0(K))K=K.src;else if(LI0(K))K=K.toDataURL()}if(!K)return;var Y=J.x||0,Z=J.y||0,q=J.width,X=J.height,W={href:K,width:q,height:X};if(Y)W.x=Y;if(Z)W.y=Z;return Ze(W,$.transform),Ke(W,J,$,Q),Ye(W,$),Q.animation&&ST($,W,Q),M7("image",$.id+"",W)}function CD1($,Q){var J=$.style,K=J.text;if(K!=null&&(K+=""),!K||isNaN(J.x)||isNaN(J.y))return;var Y=J.font||k9,Z=J.x||0,q=$E0(J.y||0,pF(Y),J.textBaseline),X=ej0[J.textAlign]||J.textAlign,W={"dominant-baseline":"central","text-anchor":X};if(qo(J)){var F="",H=J.fontStyle,B=Zo(J.fontSize);if(!parseFloat(B))return;var z=J.fontFamily||bi,A=J.fontWeight;if(F+="font-size:"+B+";font-family:"+z+";",H&&H!=="normal")F+="font-style:"+H+";";if(A&&A!=="normal")F+="font-weight:"+A+";";W.style=F}else W.style="font: "+Y;if(K.match(/\s/))W["xml:space"]="preserve";if(Z)W.x=Z;if(q)W.y=q;return Ze(W,$.transform),Ke(W,J,$,Q),Ye(W,$),Q.animation&&ST($,W,Q),M7("text",$.id+"",W,void 0,K)}function qe($,Q){if($ instanceof Y1)return hI0($,Q);else if($ instanceof q6)return DD1($,Q);else if($ instanceof AZ)return CD1($,Q)}function PD1($,Q,J){var K=$.style;if(QE0(K)){var Y=JE0($),Z=J.shadowCache,q=Z[Y];if(!q){var X=$.getGlobalScale(),W=X[0],F=X[1];if(!W||!F)return;var H=K.shadowOffsetX||0,B=K.shadowOffsetY||0,z=K.shadowBlur,A=MX(K.shadowColor),R=A.opacity,G=A.color,O=z/2/W,T=z/2/F,D=O+" "+T;q=J.zrId+"-s"+J.shadowIdx++,J.defs[q]=M7("filter",q,{id:q,x:"-100%",y:"-100%",width:"300%",height:"300%"},[M7("feDropShadow","",{dx:H/W,dy:B/F,stdDeviation:D,"flood-color":G,"flood-opacity":R})]),Z[Y]=q}Q.filter=Zw(q)}}function Xe($,Q,J,K){var Y=$[J],Z,q={gradientUnits:Y.global?"userSpaceOnUse":"objectBoundingBox"};if(Rv(Y))Z="linearGradient",q.x1=Y.x,q.y1=Y.y,q.x2=Y.x2,q.y2=Y.y2;else if(Gv(Y))Z="radialGradient",q.cx=g0(Y.x,0.5),q.cy=g0(Y.y,0.5),q.r=g0(Y.r,0.5);else{H8("Illegal gradient type.");return}var X=Y.colorStops,W=[];for(var F=0,H=X.length;F<H;++F){var B=Vv(X[F].offset)*100+"%",z=X[F].color,A=MX(z),R=A.color,G=A.opacity,O={offset:B};if(O["stop-color"]=R,G<1)O["stop-opacity"]=G;W.push(M7("stop",F+"",O))}var T=M7(Z,"",q,W),D=LT(T),P=K.gradientCache,j=P[D];if(!j)j=K.zrId+"-g"+K.gradientIdx++,P[D]=j,q.id=j,K.defs[j]=M7(Z,j,q,W);Q[J]=Zw(j)}function We($,Q,J,K){var Y=$.style[J],Z=$.getBoundingRect(),q={},X=Y.repeat,W=X==="no-repeat",F=X==="repeat-x",H=X==="repeat-y",B;if(Ws(Y)){var{imageWidth:z,imageHeight:A}=Y,R=void 0,G=Y.image;if(R0(G))R=G;else if(EI0(G))R=G.src;else if(LI0(G))R=G.toDataURL();if(typeof Image>"u"){var O="Image width/height must been given explictly in svg-ssr renderer.";M0(z,O),M0(A,O)}else if(z==null||A==null){var T=function(M,b){if(M){var x=M.elm,g=z||b.width,m=A||b.height;if(M.tag==="pattern"){if(F)m=1,g/=Z.width;else if(H)g=1,m/=Z.height}if(M.attrs.width=g,M.attrs.height=m,x)x.setAttribute("width",g),x.setAttribute("height",m)}},D=Rw(R,null,$,function(M){W||T(L,M),T(B,M)});if(D&&D.width&&D.height)z=z||D.width,A=A||D.height}B=M7("image","img",{href:R,width:z,height:A}),q.width=z,q.height=A}else if(Y.svgElement)B=m0(Y.svgElement),q.width=Y.svgWidth,q.height=Y.svgHeight;if(!B)return;var P,j;if(W)P=j=1;else if(F)j=1,P=q.width/Z.width;else if(H)P=1,j=q.height/Z.height;else q.patternUnits="userSpaceOnUse";if(P!=null&&!isNaN(P))q.width=P;if(j!=null&&!isNaN(j))q.height=j;var E=Tv(Y);E&&(q.patternTransform=E);var L=M7("pattern","",q,[B]),v=LT(L),f=K.patternCache,_=f[v];if(!_)_=K.zrId+"-p"+K.patternIdx++,f[v]=_,q.id=_,L=K.defs[_]=M7("pattern",_,q,[B]);Q[J]=Zw(_)}function vI0($,Q,J){var{clipPathCache:K,defs:Y}=J,Z=K[$.id];if(!Z){Z=J.zrId+"-c"+J.clipPathIdx++;var q={id:Z};K[$.id]=Z,Y[Z]=M7("clipPath",Z,q,[hI0($,J)])}Q["clip-path"]=Zw(Z)}var _T,wD1;var SI0=h(()=>{bF();m6();u$();l4();Dw();at();NI0();vT();l();nv();wI0();YU();h$();CI0();fv();_T=Math.round;wD1={circle:[OD1(["cx","cy","r"])],polyline:[kI0,jI0],polygon:[kI0,jI0]}});function Fe($){return document.createTextNode($)}function F2($,Q,J){$.insertBefore(Q,J)}function Ue($,Q){$.removeChild(Q)}function He($,Q){$.appendChild(Q)}function Ne($){return $.parentNode}function Be($){return $.nextSibling}function Df($,Q){$.textContent=Q}function ze($){return $===void 0}function oK($){return $!==void 0}function LD1($,Q,J){var K={};for(var Y=Q;Y<=J;++Y){var Z=$[Y].key;if(Z!==void 0){if(K[Z]!=null)console.error("Duplicate key "+Z);K[Z]=Y}}return K}function fT($,Q){var J=$.key===Q.key,K=$.tag===Q.tag;return K&&J}function IT($){var Q,J=$.children,K=$.tag;if(oK(K)){var Y=$.elm=wf(K);if(Pf(ED1,$),Z0(J))for(Q=0;Q<J.length;++Q){var Z=J[Q];if(Z!=null)He(Y,IT(Z))}else if(oK($.text)&&!y0($.text))He(Y,Fe($.text))}else $.elm=Fe($.text);return $.elm}function fI0($,Q,J,K,Y){for(;K<=Y;++K){var Z=J[K];if(Z!=null)F2($,IT(Z),Q)}}function Cf($,Q,J,K){for(;J<=K;++J){var Y=Q[J];if(Y!=null)if(oK(Y.tag)){var Z=Ne(Y.elm);Ue(Z,Y.elm)}else Ue($,Y.elm)}}function Pf($,Q){var J,K=Q.elm,Y=$&&$.attrs||{},Z=Q.attrs||{};if(Y===Z)return;for(J in Z){var q=Z[J],X=Y[J];if(X!==q)if(q===!0)K.setAttribute(J,"");else if(q===!1)K.removeAttribute(J);else if(J==="style")K.style.cssText=q;else if(J.charCodeAt(0)!==jD1)K.setAttribute(J,q);else if(J==="xmlns:xlink"||J==="xmlns")K.setAttributeNS(zI0,J,q);else if(J.charCodeAt(3)===_I0)K.setAttributeNS(AI0,J,q);else if(J.charCodeAt(5)===_I0)K.setAttributeNS($e,J,q);else K.setAttribute(J,q)}for(J in Y)if(!(J in Z))K.removeAttribute(J)}function hD1($,Q,J){var K=0,Y=0,Z=Q.length-1,q=Q[0],X=Q[Z],W=J.length-1,F=J[0],H=J[W],B,z,A,R;while(K<=Z&&Y<=W)if(q==null)q=Q[++K];else if(X==null)X=Q[--Z];else if(F==null)F=J[++Y];else if(H==null)H=J[--W];else if(fT(q,F))JA(q,F),q=Q[++K],F=J[++Y];else if(fT(X,H))JA(X,H),X=Q[--Z],H=J[--W];else if(fT(q,H))JA(q,H),F2($,q.elm,Be(X.elm)),q=Q[++K],H=J[--W];else if(fT(X,F))JA(X,F),F2($,X.elm,q.elm),X=Q[--Z],F=J[++Y];else{if(ze(B))B=LD1(Q,K,Z);if(z=B[F.key],ze(z))F2($,IT(F),q.elm);else if(A=Q[z],A.tag!==F.tag)F2($,IT(F),q.elm);else JA(A,F),Q[z]=void 0,F2($,A.elm,q.elm);F=J[++Y]}if(K<=Z||Y<=W)if(K>Z)R=J[W+1]==null?null:J[W+1].elm,fI0($,R,J,Y,W);else Cf($,Q,K,Z)}function JA($,Q){var J=Q.elm=$.elm,K=$.children,Y=Q.children;if($===Q)return;if(Pf($,Q),ze(Q.text)){if(oK(K)&&oK(Y)){if(K!==Y)hD1(J,K,Y)}else if(oK(Y)){if(oK($.text))Df(J,"");fI0(J,null,Y,0,Y.length-1)}else if(oK(K))Cf(J,K,0,K.length-1);else if(oK($.text))Df(J,"")}else if($.text!==Q.text){if(oK(K))Cf(J,K,0,K.length-1);Df(J,Q.text)}}function Ae($,Q){if(fT($,Q))JA($,Q);else{var J=$.elm,K=Ne(J);if(IT(Q),K!==null)F2(K,Q.elm,Be(J)),Cf(K,[$],0,0)}return Q}var _I0=58,jD1=120,ED1;var II0=h(()=>{l();vT();ED1=M7("","")});function MI0($){return function(){H8('In SVG mode painter not support method "'+$+'"')}}function _D1($,Q,J,K){var Y;if(J&&J!=="none")if(Y=M7("rect","bg",{width:$,height:Q,x:"0",y:"0"}),Ov(J))Xe({fill:J},Y.attrs,"fill",K);else if(Yw(J))We({style:{fill:J},dirty:K6,getBoundingRect:function(){return{width:$,height:Q}}},Y.attrs,"fill",K);else{var Z=MX(J),q=Z.color,X=Z.opacity;Y.attrs.fill=q,X<1&&(Y.attrs["fill-opacity"]=X)}return Y}var vD1=0,SD1,bI0;var gI0=h(()=>{SI0();vT();bF();l();II0();SD1=function(){function $(Q,J,K){if(this.type="svg",this.refreshHover=MI0("refreshHover"),this.configLayer=MI0("configLayer"),this.storage=J,this._opts=K=Y0({},K),this.root=Q,this._id="zr"+vD1++,this._oldVNode=Je(K.width,K.height),Q&&!K.ssr){var Y=this._viewport=document.createElement("div");Y.style.cssText="position:relative;overflow:hidden";var Z=this._svgDom=this._oldVNode.elm=wf("svg");Pf(null,this._oldVNode),Y.appendChild(Z),Q.appendChild(Y)}this.resize(K.width,K.height)}return $.prototype.getType=function(){return this.type},$.prototype.getViewportRoot=function(){return this._viewport},$.prototype.getViewportRootOffset=function(){var Q=this.getViewportRoot();if(Q)return{offsetLeft:Q.offsetLeft||0,offsetTop:Q.offsetTop||0}},$.prototype.getSvgDom=function(){return this._svgDom},$.prototype.refresh=function(){if(this.root){var Q=this.renderToVNode({willUpdate:!0});Q.attrs.style="position:absolute;left:0;top:0;user-select:none",Ae(this._oldVNode,Q),this._oldVNode=Q}},$.prototype.renderOneToVNode=function(Q){return qe(Q,hT(this._id))},$.prototype.renderToVNode=function(Q){Q=Q||{};var J=this.storage.getDisplayList(!0),K=this._width,Y=this._height,Z=hT(this._id);Z.animation=Q.animation,Z.willUpdate=Q.willUpdate,Z.compress=Q.compress,Z.emphasis=Q.emphasis,Z.ssr=this._opts.ssr;var q=[],X=this._bgVNode=_D1(K,Y,this._backgroundColor,Z);X&&q.push(X);var W=!Q.compress?this._mainVNode=M7("g","main",{},[]):null;this._paintList(J,Z,W?W.children:q),W&&q.push(W);var F=q0(N1(Z.defs),function(z){return Z.defs[z]});if(F.length)q.push(M7("defs","defs",{},F));if(Q.animation){var H=VI0(Z.cssNodes,Z.cssAnims,{newline:!0});if(H){var B=M7("style","stl",{},[],H);q.push(B)}}return Je(K,Y,q,Q.useViewBox)},$.prototype.renderToString=function(Q){return Q=Q||{},LT(this.renderToVNode({animation:g0(Q.cssAnimation,!0),emphasis:g0(Q.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:g0(Q.useViewBox,!0)}),{newline:!0})},$.prototype.setBackgroundColor=function(Q){this._backgroundColor=Q},$.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},$.prototype._paintList=function(Q,J,K){var Y=Q.length,Z=[],q=0,X,W,F=0;for(var H=0;H<Y;H++){var B=Q[H];if(!B.invisible){var z=B.__clipPaths,A=z&&z.length||0,R=W&&W.length||0,G=void 0;for(G=Math.max(A-1,R-1);G>=0;G--)if(z&&W&&z[G]===W[G])break;for(var O=R-1;O>G;O--)q--,X=Z[q-1];for(var T=G+1;T<A;T++){var D={};vI0(z[T],D,J);var P=M7("g","clip-g-"+F++,D,[]);(X?X.children:K).push(P),Z[q++]=P,X=P}W=z;var j=qe(B,J);if(j)(X?X.children:K).push(j)}}},$.prototype.resize=function(Q,J){var K=this._opts,Y=this.root,Z=this._viewport;if(Q!=null&&(K.width=Q),J!=null&&(K.height=J),Y&&Z)Z.style.display="none",Q=tX(Y,0,K),J=tX(Y,1,K),Z.style.display="";if(this._width!==Q||this._height!==J){if(this._width=Q,this._height=J,Z){var q=Z.style;q.width=Q+"px",q.height=J+"px"}if(!Yw(this._backgroundColor)){var X=this._svgDom;if(X)X.setAttribute("width",Q),X.setAttribute("height",J);var W=this._bgVNode&&this._bgVNode.elm;if(W)W.setAttribute("width",Q),W.setAttribute("height",J)}else this.refresh()}},$.prototype.getWidth=function(){return this._width},$.prototype.getHeight=function(){return this._height},$.prototype.dispose=function(){if(this.root)this.root.innerHTML="";this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},$.prototype.clear=function(){if(this._svgDom)this._svgDom.innerHTML=null;this._oldVNode=null},$.prototype.toDataURL=function(Q){var J=this.renderToString(),K="data:image/svg+xml;";if(Q)return J=KE0(J),J&&K+"base64,"+J;return K+"charset=UTF-8,"+encodeURIComponent(J)},$}();bI0=SD1});function Ve($){$.registerPainter("svg",bI0)}var yI0=h(()=>{gI0()});function xI0($,Q,J){var K=U8.createCanvas(),Y=Q.getWidth(),Z=Q.getHeight(),q=K.style;if(q)q.position="absolute",q.left="0",q.top="0",q.width=Y+"px",q.height=Z+"px",K.setAttribute("data-zr-dom-id",$);return K.width=Y*J,K.height=Z*J,K}var fD1,kf;var cI0=h(()=>{H0();l();cF();DK();I_();s5();h$();fD1=function($){c(Q,$);function Q(J,K,Y){var Z=$.call(this)||this;Z.motionBlur=!1,Z.lastFrameAlpha=0.7,Z.dpr=1,Z.virtual=!1,Z.config={},Z.incremental=!1,Z.zlevel=0,Z.maxRepaintRectCount=5,Z.__dirty=!0,Z.__firstTimePaint=!0,Z.__used=!1,Z.__drawIndex=0,Z.__startIndex=0,Z.__endIndex=0,Z.__prevStartIndex=null,Z.__prevEndIndex=null;var q;if(Y=Y||xF,typeof J==="string")q=xI0(J,K,Y);else if(y0(J))q=J,J=q.id;Z.id=J,Z.dom=q;var X=q.style;if(X)rh(q),q.onselectstart=function(){return!1},X.padding="0",X.margin="0",X.borderWidth="0";return Z.painter=K,Z.dpr=Y,Z}return Q.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},Q.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},Q.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},Q.prototype.setUnpainted=function(){this.__firstTimePaint=!0},Q.prototype.createBackBuffer=function(){var J=this.dpr;if(this.domBack=xI0("back-"+this.id,this.painter,J),this.ctxBack=this.domBack.getContext("2d"),J!==1)this.ctxBack.scale(J,J)},Q.prototype.createRepaintRects=function(J,K,Y,Z){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var q=[],X=this.maxRepaintRectCount,W=!1,F=new n0(0,0,0,0);function H(D){if(!D.isFinite()||D.isZero())return;if(q.length===0){var P=new n0(0,0,0,0);P.copy(D),q.push(P)}else{var j=!1,E=1/0,L=0;for(var v=0;v<q.length;++v){var f=q[v];if(f.intersect(D)){var _=new n0(0,0,0,0);_.copy(f),_.union(D),q[v]=_,j=!0;break}else if(W){F.copy(D),F.union(f);var M=D.width*D.height,b=f.width*f.height,x=F.width*F.height,g=x-M-b;if(g<E)E=g,L=v}}if(W)q[L].union(D),j=!0;if(!j){var P=new n0(0,0,0,0);P.copy(D),q.push(P)}if(!W)W=q.length>=X}}for(var B=this.__startIndex;B<this.__endIndex;++B){var z=J[B];if(z){var A=z.shouldBePainted(Y,Z,!0,!0),R=z.__isRendered&&(z.__dirty&Q8||!A)?z.getPrevPaintRect():null;if(R)H(R);var G=A&&(z.__dirty&Q8||!z.__isRendered)?z.getPaintRect():null;if(G)H(G)}}for(var B=this.__prevStartIndex;B<this.__prevEndIndex;++B){var z=K[B],A=z&&z.shouldBePainted(Y,Z,!0,!0);if(z&&(!A||!z.__zr)&&z.__isRendered){var R=z.getPrevPaintRect();if(R)H(R)}}var O;do{O=!1;for(var B=0;B<q.length;){if(q[B].isZero()){q.splice(B,1);continue}for(var T=B+1;T<q.length;)if(q[B].intersect(q[T]))O=!0,q[B].union(q[T]),q.splice(T,1);else T++;B++}}while(O);return this._paintRects=q,q},Q.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},Q.prototype.resize=function(J,K){var Y=this.dpr,Z=this.dom,q=Z.style,X=this.domBack;if(q)q.width=J+"px",q.height=K+"px";if(Z.width=J*Y,Z.height=K*Y,X){if(X.width=J*Y,X.height=K*Y,Y!==1)this.ctxBack.scale(Y,Y)}},Q.prototype.clear=function(J,K,Y){var Z=this.dom,q=this.ctx,X=Z.width,W=Z.height;K=K||this.clearColor;var F=this.motionBlur&&!J,H=this.lastFrameAlpha,B=this.dpr,z=this;if(F){if(!this.domBack)this.createBackBuffer();this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(Z,0,0,X/B,W/B)}var A=this.domBack;function R(G,O,T,D){if(q.clearRect(G,O,T,D),K&&K!=="transparent"){var P=void 0;if(kX(K)){var j=K.global||K.__width===T&&K.__height===D;P=j&&K.__canvasGradient||ZT(q,K,{x:0,y:0,width:T,height:D}),K.__canvasGradient=P,K.__width=T,K.__height=D}else if(Wj0(K))K.scaleX=K.scaleX||B,K.scaleY=K.scaleY||B,P=__(q,K,{dirty:function(){z.setUnpainted(),z.painter.refresh()}});q.save(),q.fillStyle=P||K,q.fillRect(G,O,T,D),q.restore()}if(F)q.save(),q.globalAlpha=H,q.drawImage(A,G,O,T,D),q.restore()}if(!Y||F)R(0,0,X,W);else if(Y.length)S(Y,function(G){R(G.x*B,G.y*B,G.width*B,G.height*B)})},Q}(p7),kf=fD1});function MD1($){if(!$)return!1;if($.__builtin__)return!0;if(typeof $.resize!=="function"||typeof $.refresh!=="function")return!1;return!0}function bD1($,Q){var J=document.createElement("div");return J.style.cssText=["position:relative","width:"+$+"px","height:"+Q+"px","padding:0","margin:0","border-width:0"].join(";")+";",J}var uI0=1e5,yU=314159,jf=0.01,ID1=0.001,gD1,mI0;var pI0=h(()=>{cF();l();cI0();Qs();t7();I_();gD1=function(){function $(Q,J,K,Y){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var Z=!Q.nodeName||Q.nodeName.toUpperCase()==="CANVAS";this._opts=K=Y0({},K||{}),this.dpr=K.devicePixelRatio||xF,this._singleCanvas=Z,this.root=Q;var q=Q.style;if(q)rh(Q),Q.innerHTML="";this.storage=J;var X=this._zlevelList;this._prevDisplayList=[];var W=this._layers;if(!Z){this._width=tX(Q,0,K),this._height=tX(Q,1,K);var F=this._domRoot=bD1(this._width,this._height);Q.appendChild(F)}else{var H=Q,B=H.width,z=H.height;if(K.width!=null)B=K.width;if(K.height!=null)z=K.height;this.dpr=K.devicePixelRatio||1,H.width=B*this.dpr,H.height=z*this.dpr,this._width=B,this._height=z;var A=new kf(H,this,this.dpr);A.__builtin__=!0,A.initContext(),W[yU]=A,A.zlevel=yU,X.push(yU),this._domRoot=Q}}return $.prototype.getType=function(){return"canvas"},$.prototype.isSingleCanvas=function(){return this._singleCanvas},$.prototype.getViewportRoot=function(){return this._domRoot},$.prototype.getViewportRootOffset=function(){var Q=this.getViewportRoot();if(Q)return{offsetLeft:Q.offsetLeft||0,offsetTop:Q.offsetTop||0}},$.prototype.refresh=function(Q){var J=this.storage.getDisplayList(!0),K=this._prevDisplayList,Y=this._zlevelList;this._redrawId=Math.random(),this._paintList(J,K,Q,this._redrawId);for(var Z=0;Z<Y.length;Z++){var q=Y[Z],X=this._layers[q];if(!X.__builtin__&&X.refresh){var W=Z===0?this._backgroundColor:null;X.refresh(W)}}if(this._opts.useDirtyRect)this._prevDisplayList=J.slice();return this},$.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},$.prototype._paintHoverList=function(Q){var J=Q.length,K=this._hoverlayer;if(K&&K.clear(),!J)return;var Y={inHover:!0,viewWidth:this._width,viewHeight:this._height},Z;for(var q=0;q<J;q++){var X=Q[q];if(X.__inHover){if(!K)K=this._hoverlayer=this.getLayer(uI0);if(!Z)Z=K.ctx,Z.save();eX(Z,X,Y,q===J-1)}}if(Z)Z.restore()},$.prototype.getHoverLayer=function(){return this.getLayer(uI0)},$.prototype.paintOne=function(Q,J){f_(Q,J)},$.prototype._paintList=function(Q,J,K,Y){if(this._redrawId!==Y)return;K=K||!1,this._updateLayerStatus(Q);var Z=this._doPaintList(Q,J,K),q=Z.finished,X=Z.needsRefreshHover;if(this._needsManuallyCompositing)this._compositeManually();if(X)this._paintHoverList(Q);if(!q){var W=this;tO(function(){W._paintList(Q,J,K,Y)})}else this.eachLayer(function(F){F.afterBrush&&F.afterBrush()})},$.prototype._compositeManually=function(){var Q=this.getLayer(yU).ctx,J=this._domRoot.width,K=this._domRoot.height;Q.clearRect(0,0,J,K),this.eachBuiltinLayer(function(Y){if(Y.virtual)Q.drawImage(Y.dom,0,0,J,K)})},$.prototype._doPaintList=function(Q,J,K){var Y=this,Z=[],q=this._opts.useDirtyRect;for(var X=0;X<this._zlevelList.length;X++){var W=this._zlevelList[X],F=this._layers[W];if(F.__builtin__&&F!==this._hoverlayer&&(F.__dirty||K))Z.push(F)}var H=!0,B=!1,z=function(G){var O=Z[G],T=O.ctx,D=q&&O.createRepaintRects(Q,J,A._width,A._height),P=K?O.__startIndex:O.__drawIndex,j=!K&&O.incremental&&Date.now,E=j&&Date.now(),L=O.zlevel===A._zlevelList[0]?A._backgroundColor:null;if(O.__startIndex===O.__endIndex)O.clear(!1,L,D);else if(P===O.__startIndex){var v=Q[P];if(!v.incremental||!v.notClear||K)O.clear(!1,L,D)}if(P===-1)console.error("For some unknown reason. drawIndex is -1"),P=O.__startIndex;var f,_=function(g){var m={inHover:!1,allClipped:!1,prevEl:null,viewWidth:Y._width,viewHeight:Y._height};for(f=P;f<O.__endIndex;f++){var u=Q[f];if(u.__inHover)B=!0;if(Y._doPaintEl(u,O,q,g,m,f===O.__endIndex-1),j){var p=Date.now()-E;if(p>15)break}}if(m.prevElClipPaths)T.restore()};if(D)if(D.length===0)f=O.__endIndex;else{var M=A.dpr;for(var b=0;b<D.length;++b){var x=D[b];T.save(),T.beginPath(),T.rect(x.x*M,x.y*M,x.width*M,x.height*M),T.clip(),_(x),T.restore()}}else T.save(),_(),T.restore();if(O.__drawIndex=f,O.__drawIndex<O.__endIndex)H=!1},A=this;for(var R=0;R<Z.length;R++)z(R);if(M1.wxa)S(this._layers,function(G){if(G&&G.ctx&&G.ctx.draw)G.ctx.draw()});return{finished:H,needsRefreshHover:B}},$.prototype._doPaintEl=function(Q,J,K,Y,Z,q){var X=J.ctx;if(K){var W=Q.getPaintRect();if(!Y||W&&W.intersect(Y))eX(X,Q,Z,q),Q.setPrevPaintRect(W)}else eX(X,Q,Z,q)},$.prototype.getLayer=function(Q,J){if(this._singleCanvas&&!this._needsManuallyCompositing)Q=yU;var K=this._layers[Q];if(!K){if(K=new kf("zr_"+Q,this,this.dpr),K.zlevel=Q,K.__builtin__=!0,this._layerConfig[Q])F1(K,this._layerConfig[Q],!0);else if(this._layerConfig[Q-jf])F1(K,this._layerConfig[Q-jf],!0);if(J)K.virtual=J;this.insertLayer(Q,K),K.initContext()}return K},$.prototype.insertLayer=function(Q,J){var K=this._layers,Y=this._zlevelList,Z=Y.length,q=this._domRoot,X=null,W=-1;if(K[Q]){H8("ZLevel "+Q+" has been used already");return}if(!MD1(J)){H8("Layer of zlevel "+Q+" is not valid");return}if(Z>0&&Q>Y[0]){for(W=0;W<Z-1;W++)if(Y[W]<Q&&Y[W+1]>Q)break;X=K[Y[W]]}if(Y.splice(W+1,0,Q),K[Q]=J,!J.virtual)if(X){var F=X.dom;if(F.nextSibling)q.insertBefore(J.dom,F.nextSibling);else q.appendChild(J.dom)}else if(q.firstChild)q.insertBefore(J.dom,q.firstChild);else q.appendChild(J.dom);J.painter||(J.painter=this)},$.prototype.eachLayer=function(Q,J){var K=this._zlevelList;for(var Y=0;Y<K.length;Y++){var Z=K[Y];Q.call(J,this._layers[Z],Z)}},$.prototype.eachBuiltinLayer=function(Q,J){var K=this._zlevelList;for(var Y=0;Y<K.length;Y++){var Z=K[Y],q=this._layers[Z];if(q.__builtin__)Q.call(J,q,Z)}},$.prototype.eachOtherLayer=function(Q,J){var K=this._zlevelList;for(var Y=0;Y<K.length;Y++){var Z=K[Y],q=this._layers[Z];if(!q.__builtin__)Q.call(J,q,Z)}},$.prototype.getLayers=function(){return this._layers},$.prototype._updateLayerStatus=function(Q){this.eachBuiltinLayer(function(B,z){B.__dirty=B.__used=!1});function J(B){if(Z){if(Z.__endIndex!==B)Z.__dirty=!0;Z.__endIndex=B}}if(this._singleCanvas)for(var K=1;K<Q.length;K++){var Y=Q[K];if(Y.zlevel!==Q[K-1].zlevel||Y.incremental){this._needsManuallyCompositing=!0;break}}var Z=null,q=0,X,W;for(W=0;W<Q.length;W++){var Y=Q[W],F=Y.zlevel,H=void 0;if(X!==F)X=F,q=0;if(Y.incremental)H=this.getLayer(F+ID1,this._needsManuallyCompositing),H.incremental=!0,q=1;else H=this.getLayer(F+(q>0?jf:0),this._needsManuallyCompositing);if(!H.__builtin__)H8("ZLevel "+F+" has been used by unkown layer "+H.id);if(H!==Z){if(H.__used=!0,H.__startIndex!==W)H.__dirty=!0;if(H.__startIndex=W,!H.incremental)H.__drawIndex=W;else H.__drawIndex=-1;J(W),Z=H}if(Y.__dirty&Q8&&!Y.__inHover){if(H.__dirty=!0,H.incremental&&H.__drawIndex<0)H.__drawIndex=W}}J(W),this.eachBuiltinLayer(function(B,z){if(!B.__used&&B.getElementCount()>0)B.__dirty=!0,B.__startIndex=B.__endIndex=B.__drawIndex=0;if(B.__dirty&&B.__drawIndex<0)B.__drawIndex=B.__startIndex})},$.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},$.prototype._clearLayer=function(Q){Q.clear()},$.prototype.setBackgroundColor=function(Q){this._backgroundColor=Q,S(this._layers,function(J){J.setUnpainted()})},$.prototype.configLayer=function(Q,J){if(J){var K=this._layerConfig;if(!K[Q])K[Q]=J;else F1(K[Q],J,!0);for(var Y=0;Y<this._zlevelList.length;Y++){var Z=this._zlevelList[Y];if(Z===Q||Z===Q+jf){var q=this._layers[Z];F1(q,K[Q],!0)}}}},$.prototype.delLayer=function(Q){var J=this._layers,K=this._zlevelList,Y=J[Q];if(!Y)return;Y.dom.parentNode.removeChild(Y.dom),delete J[Q],K.splice(J1(K,Q),1)},$.prototype.resize=function(Q,J){if(!this._domRoot.style){if(Q==null||J==null)return;this._width=Q,this._height=J,this.getLayer(yU).resize(Q,J)}else{var K=this._domRoot;K.style.display="none";var Y=this._opts,Z=this.root;if(Q!=null&&(Y.width=Q),J!=null&&(Y.height=J),Q=tX(Z,0,Y),J=tX(Z,1,Y),K.style.display="",this._width!==Q||J!==this._height){K.style.width=Q+"px",K.style.height=J+"px";for(var q in this._layers)if(this._layers.hasOwnProperty(q))this._layers[q].resize(Q,J);this.refresh(!0)}this._width=Q,this._height=J}return this},$.prototype.clearLayer=function(Q){var J=this._layers[Q];if(J)J.clear()},$.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},$.prototype.getRenderedCanvas=function(Q){if(Q=Q||{},this._singleCanvas&&!this._compositeManually)return this._layers[yU].dom;var J=new kf("image",this,Q.pixelRatio||this.dpr);J.initContext(),J.clear(!1,Q.backgroundColor||this._backgroundColor);var K=J.ctx;if(Q.pixelRatio<=this.dpr){this.refresh();var Y=J.dom.width,Z=J.dom.height;this.eachLayer(function(B){if(B.__builtin__)K.drawImage(B.dom,0,0,Y,Z);else if(B.renderToCanvas)K.save(),B.renderToCanvas(K),K.restore()})}else{var q={inHover:!1,viewWidth:this._width,viewHeight:this._height},X=this.storage.getDisplayList(!0);for(var W=0,F=X.length;W<F;W++){var H=X[W];eX(K,H,q,W===F-1)}}return J.dom},$.prototype.getWidth=function(){return this._width},$.prototype.getHeight=function(){return this._height},$}(),mI0=gD1});function Re($){$.registerPainter("canvas",mI0)}var dI0=h(()=>{pI0()});var nI0=h(()=>{yI0();dI0()});var yD1,lI0;var rI0=h(()=>{H0();nK();o6();S8();a0();y1();yD1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.hasSymbolVisual=!0,J}return Q.prototype.getInitialData=function(J){var K=J.coordinateSystem;if(K!=="polar"&&K!=="cartesian2d")throw Error("Line not support coordinateSystem besides cartesian and polar");return f8(null,this,{useEncodeDefaulter:!0})},Q.prototype.getLegendIcon=function(J){var K=new b0,Y=y5("line",0,J.itemHeight/2,J.itemWidth,0,J.lineStyle.stroke,!1);K.add(Y),Y.setStyle(J.lineStyle);var Z=this.getData().getVisual("symbol"),q=this.getData().getVisual("symbolRotate"),X=Z==="none"?"circle":Z,W=J.itemHeight*0.8,F=y5(X,(J.itemWidth-W)/2,(J.itemHeight-W)/2,W,W,J.itemStyle.fill);K.add(F),F.setStyle(J.itemStyle);var H=J.iconRotate==="inherit"?q:J.iconRotate||0;if(F.rotation=H*Math.PI/180,F.setOrigin([J.itemWidth/2,J.itemHeight/2]),X.indexOf("empty")>-1)F.style.stroke=F.style.fill,F.style.fill=e.color.neutral00,F.style.lineWidth=2;return K},Q.type="series.line",Q.dependencies=["grid","polar"],Q.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},Q}(o1),lI0=yD1});function BJ($,Q){var J=$.mapDimensionsAll("defaultedLabel"),K=J.length;if(K===1){var Y=LZ($,Q,J[0]);return Y!=null?Y+"":null}else if(K){var Z=[];for(var q=0;q<J.length;q++)Z.push(LZ($,Q,J[q]));return Z.join(" ")}}function Ef($,Q){var J=$.mapDimensionsAll("defaultedLabel");if(!Z0(Q))return Q+"";var K=[];for(var Y=0;Y<J.length;Y++){var Z=$.getDimensionIndex(J[Y]);if(Z>=0)K.push(Q[Z])}return K.join(" ")}var KA=h(()=>{jU();l()});function cD1($,Q){this.parent.drift($,Q)}var xD1,bZ;var MT=h(()=>{H0();S8();a0();o5();M5();KA();l();g5();u$();h8();xD1=function($){c(Q,$);function Q(J,K,Y,Z){var q=$.call(this)||this;return q.updateData(J,K,Y,Z),q}return Q.prototype._createSymbol=function(J,K,Y,Z,q,X){this.removeAll();var W=y5(J,-1,-1,2,2,null,X);W.attr({z2:g0(q,100),culling:!0,scaleX:Z[0]/2,scaleY:Z[1]/2}),W.drift=cD1,this._symbolType=J,this.add(W)},Q.prototype.stopSymbolAnimation=function(J){this.childAt(0).stopAnimation(null,J)},Q.prototype.getSymbolType=function(){return this._symbolType},Q.prototype.getSymbolPath=function(){return this.childAt(0)},Q.prototype.highlight=function(){G4(this.childAt(0))},Q.prototype.downplay=function(){O4(this.childAt(0))},Q.prototype.setZ=function(J,K){var Y=this.childAt(0);Y.zlevel=J,Y.z=K},Q.prototype.setDraggable=function(J,K){var Y=this.childAt(0);Y.draggable=J,Y.cursor=!K&&J?"move":Y.cursor},Q.prototype.updateData=function(J,K,Y,Z){this.silent=!1;var q=J.getItemVisual(K,"symbol")||"circle",X=J.hostModel,W=Q.getSymbolSize(J,K),F=Q.getSymbolZ2(J,K),H=q!==this._symbolType,B=Z&&Z.disableAnimation;if(H){var z=J.getItemVisual(K,"symbolKeepAspect");this._createSymbol(q,J,K,W,F,z)}else{var A=this.childAt(0);A.silent=!1;var R={scaleX:W[0]/2,scaleY:W[1]/2};B?A.attr(R):C1(A,R,X,K),T7(A)}if(this._updateCommon(J,K,W,Y,Z),H){var A=this.childAt(0);if(!B){var R={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:A.style.opacity}};A.scaleX=A.scaleY=0,A.style.opacity=0,q5(A,R,X,K)}}if(B)this.childAt(0).stopAnimation("leave")},Q.prototype._updateCommon=function(J,K,Y,Z,q){var X=this.childAt(0),W=J.hostModel,F,H,B,z,A,R,G,O,T;if(Z)F=Z.emphasisItemStyle,H=Z.blurItemStyle,B=Z.selectItemStyle,z=Z.focus,A=Z.blurScope,G=Z.labelStatesModels,O=Z.hoverScale,T=Z.cursorStyle,R=Z.emphasisDisabled;if(!Z||J.hasItemOption){var D=Z&&Z.itemModel?Z.itemModel:J.getItemModel(K),P=D.getModel("emphasis");F=P.getModel("itemStyle").getItemStyle(),B=D.getModel(["select","itemStyle"]).getItemStyle(),H=D.getModel(["blur","itemStyle"]).getItemStyle(),z=P.get("focus"),A=P.get("blurScope"),R=P.get("disabled"),G=b5(D),O=P.getShallow("scale"),T=D.getShallow("cursor")}var j=J.getItemVisual(K,"symbolRotate");X.attr("rotation",(j||0)*Math.PI/180||0);var E=f3(J.getItemVisual(K,"symbolOffset"),Y);if(E)X.x=E[0],X.y=E[1];T&&X.attr("cursor",T);var L=J.getItemVisual(K,"style"),v=L.fill;if(X instanceof q6){var f=X.style;X.useStyle(Y0({image:f.image,x:f.x,y:f.y,width:f.width,height:f.height},L))}else{if(X.__isEmptyBrush)X.useStyle(Y0({},L));else X.useStyle(L);X.style.decal=null,X.setColor(v,q&&q.symbolInnerColor),X.style.strokeNoScale=!0}var _=J.getItemVisual(K,"liftZ"),M=this._z2;if(_!=null){if(M==null)this._z2=X.z2,X.z2+=_}else if(M!=null)X.z2=M,this._z2=null;var b=q&&q.useNameLabel;p5(X,G,{labelFetcher:W,labelDataIndex:K,defaultText:x,inheritColor:v,defaultOpacity:L.opacity});function x(u){return b?J.getName(u):BJ(J,u)}this._sizeX=Y[0]/2,this._sizeY=Y[1]/2;var g=X.ensureState("emphasis");g.style=F,X.ensureState("select").style=B,X.ensureState("blur").style=H;var m=O==null||O===!0?Math.max(1.1,3/this._sizeY):isFinite(O)&&O>0?+O:1;g.scaleX=this._sizeX*m,g.scaleY=this._sizeY*m,this.setSymbolScale(1),s1(this,z,A,R)},Q.prototype.setSymbolScale=function(J){this.scaleX=this.scaleY=J},Q.prototype.fadeOut=function(J,K,Y){var Z=this.childAt(0),q=r0(this).dataIndex,X=Y&&Y.animation;if(this.silent=Z.silent=!0,Y&&Y.fadeLabel){var W=Z.getTextContent();if(W)p$(W,{style:{opacity:0}},K,{dataIndex:q,removeOpt:X,cb:function(){Z.removeTextContent()}})}else Z.removeTextContent();p$(Z,{style:{opacity:0},scaleX:0,scaleY:0},K,{dataIndex:q,cb:J,removeOpt:X})},Q.getSymbolSize=function(J,K){return XJ(J.getItemVisual(K,"symbolSize"))},Q.getSymbolZ2=function(J,K){return J.getItemVisual(K,"z2")},Q}(b0);bZ=xD1});function Ge($,Q,J,K){return Q&&!isNaN(Q[0])&&!isNaN(Q[1])&&!(K.isIgnore&&K.isIgnore(J))&&!(K.clipShape&&!K.clipShape.contain(Q[0],Q[1]))&&$.getItemVisual(J,"symbol")!=="none"}function iI0($){if($!=null&&!y0($))$={isIgnore:$};return $||{}}function sI0($){var Q=$.hostModel,J=Q.getModel("emphasis");return{emphasisItemStyle:J.getModel("itemStyle").getItemStyle(),blurItemStyle:Q.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:Q.getModel(["select","itemStyle"]).getItemStyle(),focus:J.get("focus"),blurScope:J.get("blurScope"),emphasisDisabled:J.get("disabled"),hoverScale:J.get("scale"),labelStatesModels:b5(Q),cursorStyle:Q.get("cursor")}}var uD1,aK;var YA=h(()=>{a0();MT();l();g5();uD1=function(){function $(Q){this.group=new b0,this._SymbolCtor=Q||bZ}return $.prototype.updateData=function(Q,J){this._progressiveEls=null,J=iI0(J);var K=this.group,Y=Q.hostModel,Z=this._data,q=this._SymbolCtor,X=J.disableAnimation,W=sI0(Q),F={disableAnimation:X},H=J.getSymbolPoint||function(B){return Q.getItemLayout(B)};if(!Z)K.removeAll();Q.diff(Z).add(function(B){var z=H(B);if(Ge(Q,z,B,J)){var A=new q(Q,B,W,F);A.setPosition(z),Q.setItemGraphicEl(B,A),K.add(A)}}).update(function(B,z){var A=Z.getItemGraphicEl(z),R=H(B);if(!Ge(Q,R,B,J)){K.remove(A);return}var G=Q.getItemVisual(B,"symbol")||"circle",O=A&&A.getSymbolType&&A.getSymbolType();if(!A||O&&O!==G)K.remove(A),A=new q(Q,B,W,F),A.setPosition(R);else{A.updateData(Q,B,W,F);var T={x:R[0],y:R[1]};X?A.attr(T):C1(A,T,Y)}K.add(A),Q.setItemGraphicEl(B,A)}).remove(function(B){var z=Z.getItemGraphicEl(B);z&&z.fadeOut(function(){K.remove(z)},Y)}).execute(),this._getSymbolPoint=H,this._data=Q},$.prototype.updateLayout=function(){var Q=this,J=this._data;if(J)J.eachItemGraphicEl(function(K,Y){var Z=Q._getSymbolPoint(Y);K.setPosition(Z),K.markRedraw()})},$.prototype.incrementalPrepareUpdate=function(Q){this._seriesScope=sI0(Q),this._data=null,this.group.removeAll()},$.prototype.incrementalUpdate=function(Q,J,K){this._progressiveEls=[],K=iI0(K);function Y(W){if(!W.isGroup)W.incremental=!0,W.ensureState("emphasis").hoverLayer=!0}for(var Z=Q.start;Z<Q.end;Z++){var q=J.getItemLayout(Z);if(Ge(J,q,Z,K)){var X=new this._SymbolCtor(J,Z,this._seriesScope);X.traverse(Y),X.setPosition(q),this.group.add(X),J.setItemGraphicEl(Z,X),this._progressiveEls.push(X)}}},$.prototype.eachRendered=function(Q){t4(this._progressiveEls||this.group,Q)},$.prototype.remove=function(Q){var J=this.group,K=this._data;if(K&&Q)K.eachItemGraphicEl(function(Y){Y.fadeOut(function(){J.remove(Y)},K.hostModel)});else J.removeAll()},$}(),aK=uD1});function Lf($,Q,J){var K=$.getBaseAxis(),Y=$.getOtherAxis(K),Z=mD1(Y,J),q=K.dim,X=Y.dim,W=Q.mapDimension(X),F=Q.mapDimension(q),H=X==="x"||X==="radius"?1:0,B=q0($.dimensions,function(R){return Q.mapDimension(R)}),z=!1,A=Q.getCalculationInfo("stackResultDimension");if(I3(Q,B[0]))z=!0,B[0]=A;if(I3(Q,B[1]))z=!0,B[1]=A;return{dataDimsForPoint:B,valueStart:Z,valueAxisDim:X,baseAxisDim:q,stacked:!!z,valueDim:W,baseDim:F,baseDataOffset:H,stackedOverDimension:Q.getCalculationInfo("stackedOverDimension")}}function mD1($,Q){var J=0,K=$.scale.getExtent();if(Q==="start")J=K[0];else if(Q==="end")J=K[1];else if(V1(Q)&&!isNaN(Q))J=Q;else if(K[0]>0)J=K[0];else if(K[1]<0)J=K[1];return J}function hf($,Q,J,K){var Y=NaN;if($.stacked)Y=J.get(J.getCalculationInfo("stackedOverDimension"),K);if(isNaN(Y))Y=$.valueStart;var Z=$.baseDataOffset,q=[];return q[Z]=J.get($.baseDim,K),q[1-Z]=Y,Q.dataToPoint(q)}var Oe=h(()=>{_Z();l()});function pD1($,Q){var J=[];return Q.diff($).add(function(K){J.push({cmd:"+",idx:K})}).update(function(K,Y){J.push({cmd:"=",idx:Y,idx1:K})}).remove(function(K){J.push({cmd:"-",idx:K})}).execute(),J}function we($,Q,J,K,Y,Z,q,X){var W=pD1($,Q),F=[],H=[],B=[],z=[],A=[],R=[],G=[],O=Lf(Y,Q,q),T=$.getLayout("points")||[],D=Q.getLayout("points")||[];for(var P=0;P<W.length;P++){var j=W[P],E=!0,L=void 0,v=void 0;switch(j.cmd){case"=":L=j.idx*2,v=j.idx1*2;var f=T[L],_=T[L+1],M=D[v],b=D[v+1];if(isNaN(f)||isNaN(_))f=M,_=b;F.push(f,_),H.push(M,b),B.push(J[L],J[L+1]),z.push(K[v],K[v+1]),G.push(Q.getRawIndex(j.idx1));break;case"+":var x=j.idx,g=O.dataDimsForPoint,m=Y.dataToPoint([Q.get(g[0],x),Q.get(g[1],x)]);v=x*2,F.push(m[0],m[1]),H.push(D[v],D[v+1]);var u=hf(O,Y,Q,x);B.push(u[0],u[1]),z.push(K[v],K[v+1]),G.push(Q.getRawIndex(x));break;case"-":E=!1}if(E)A.push(j),R.push(R.length)}R.sort(function(W1,z1){return G[W1]-G[z1]});var p=F.length,o=J9(p),t=J9(p),r=J9(p),Q0=J9(p),F0=[];for(var P=0;P<R.length;P++){var W0=R[P],h0=P*2,d0=W0*2;o[h0]=F[d0],o[h0+1]=F[d0+1],t[h0]=H[d0],t[h0+1]=H[d0+1],r[h0]=B[d0],r[h0+1]=B[d0+1],Q0[h0]=z[d0],Q0[h0+1]=z[d0+1],F0[P]=A[W0]}return{current:o,next:t,stackedOnCurrent:r,stackedOnNext:Q0,status:F0}}var oI0=h(()=>{Oe();iz()});function xU($,Q){return isNaN($)||isNaN(Q)}function Te($,Q,J,K,Y,Z,q,X,W){var F,H,B,z,A,R,G=J,O=0;for(;O<K;O++){var T=Q[G*2],D=Q[G*2+1];if(G>=Y||G<0)break;if(xU(T,D)){if(W){G+=Z;continue}break}if(G===J)$[Z>0?"moveTo":"lineTo"](T,D),B=T,z=D;else{var P=T-F,j=D-H;if(P*P+j*j<0.5){G+=Z;continue}if(q>0){var E=G+Z,L=Q[E*2],v=Q[E*2+1];while(L===T&&v===D&&O<K)O++,E+=Z,G+=Z,L=Q[E*2],v=Q[E*2+1],T=Q[G*2],D=Q[G*2+1],P=T-F,j=D-H;var f=O+1;if(W)while(xU(L,v)&&f<K)f++,E+=Z,L=Q[E*2],v=Q[E*2+1];var _=0.5,M=0,b=0,x=void 0,g=void 0;if(f>=K||xU(L,v))A=T,R=D;else{M=L-F,b=v-H;var m=T-F,u=L-T,p=D-H,o=v-D,t=void 0,r=void 0;if(X==="x"){t=Math.abs(m),r=Math.abs(u);var Q0=M>0?1:-1;A=T-Q0*t*q,R=D,x=T+Q0*r*q,g=D}else if(X==="y"){t=Math.abs(p),r=Math.abs(o);var F0=b>0?1:-1;A=T,R=D-F0*t*q,x=T,g=D+F0*r*q}else t=Math.sqrt(m*m+p*p),r=Math.sqrt(u*u+o*o),_=r/(r+t),A=T-M*q*(1-_),R=D-b*q*(1-_),x=T+M*q*_,g=D+b*q*_,x=U2(x,H2(L,T)),g=U2(g,H2(v,D)),x=H2(x,U2(L,T)),g=H2(g,U2(v,D)),M=x-T,b=g-D,A=T-M*t/r,R=D-b*t/r,A=U2(A,H2(F,T)),R=U2(R,H2(H,D)),A=H2(A,U2(F,T)),R=H2(R,U2(H,D)),M=T-A,b=D-R,x=T+M*r/t,g=D+b*r/t}$.bezierCurveTo(B,z,A,R,T,D),B=x,z=g}else $.lineTo(T,D)}F=T,H=D,G+=Z}return O}var U2,H2,aI0,tI0,dD1,vf;var De=h(()=>{H0();m6();L3();h9();y1();U2=Math.min,H2=Math.max;aI0=function(){function $(){this.smooth=0,this.smoothConstraint=!0}return $}(),tI0=function($){c(Q,$);function Q(J){var K=$.call(this,J)||this;return K.type="ec-polyline",K}return Q.prototype.getDefaultStyle=function(){return{stroke:e.color.neutral99,fill:null}},Q.prototype.getDefaultShape=function(){return new aI0},Q.prototype.buildPath=function(J,K){var Y=K.points,Z=0,q=Y.length/2;if(K.connectNulls){for(;q>0;q--)if(!xU(Y[q*2-2],Y[q*2-1]))break;for(;Z<q;Z++)if(!xU(Y[Z*2],Y[Z*2+1]))break}while(Z<q)Z+=Te(J,Y,Z,q,q,1,K.smooth,K.smoothMonotone,K.connectNulls)+1},Q.prototype.getPointOn=function(J,K){if(!this.path)this.createPathProxy(),this.buildPath(this.path,this.shape);var Y=this.path,Z=Y.data,q=z8.CMD,X,W,F=K==="x",H=[];for(var B=0;B<Z.length;){var z=Z[B++],A=void 0,R=void 0,G=void 0,O=void 0,T=void 0,D=void 0,P=void 0;switch(z){case q.M:X=Z[B++],W=Z[B++];break;case q.L:if(A=Z[B++],R=Z[B++],P=F?(J-X)/(A-X):(J-W)/(R-W),P<=1&&P>=0){var j=F?(R-W)*P+W:(A-X)*P+X;return F?[J,j]:[j,J]}X=A,W=R;break;case q.C:A=Z[B++],R=Z[B++],G=Z[B++],O=Z[B++],T=Z[B++],D=Z[B++];var E=F?IF(X,A,G,T,J,H):IF(W,R,O,D,J,H);if(E>0)for(var L=0;L<E;L++){var v=H[L];if(v<=1&&v>=0){var j=F?H7(W,R,O,D,v):H7(X,A,G,T,v);return F?[J,j]:[j,J]}}X=T,W=D;break}}},Q}(Y1),dD1=function($){c(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q}(aI0),vf=function($){c(Q,$);function Q(J){var K=$.call(this,J)||this;return K.type="ec-polygon",K}return Q.prototype.getDefaultShape=function(){return new dD1},Q.prototype.buildPath=function(J,K){var{points:Y,stackedOnPoints:Z}=K,q=0,X=Y.length/2,W=K.smoothMonotone;if(K.connectNulls){for(;X>0;X--)if(!xU(Y[X*2-2],Y[X*2-1]))break;for(;q<X;q++)if(!xU(Y[q*2],Y[q*2+1]))break}while(q<X){var F=Te(J,Y,q,X,X,1,K.smooth,W,K.connectNulls);Te(J,Z,q+F-1,F,X,-1,K.stackedOnSmooth,W,K.connectNulls),q+=F+1,J.closePath()}},Q}(Y1)});function Ce($,Q,J,K,Y){var Z=$.getArea(),q=Z.x,X=Z.y,W=Z.width,F=Z.height,H=J.get(["lineStyle","width"])||0;if(q-=H/2,X-=H/2,W+=H,F+=H,W=Math.ceil(W),q!==Math.floor(q))q=Math.floor(q),W++;var B=new X1({shape:{x:q,y:X,width:W,height:F}});if(Q){var z=$.getBaseAxis(),A=z.isHorizontal(),R=z.inverse;if(A){if(R)B.shape.x+=W;B.shape.width=0}else{if(!R)B.shape.y+=F;B.shape.height=0}var G=I0(Y)?function(O){Y(O,B)}:null;q5(B,{shape:{width:W,height:F,x:q,y:X}},J,null,K,G)}return B}function Pe($,Q,J){var K=$.getArea(),Y=Z6(K.r0,1),Z=Z6(K.r,1),q=new J7({shape:{cx:Z6($.cx,1),cy:Z6($.cy,1),r0:Y,r:Z,startAngle:K.startAngle,endAngle:K.endAngle,clockwise:K.clockwise}});if(Q){var X=$.getBaseAxis().dim==="angle";if(X)q.shape.endAngle=K.startAngle;else q.shape.r=Y;q5(q,{shape:{endAngle:K.endAngle,r:Z}},J)}return q}function tK($,Q,J,K,Y){if(!$)return null;else if($.type==="polar")return Pe($,Q,J);else if($.type==="cartesian2d")return Ce($,Q,J,K,Y);return null}var cU=h(()=>{a0();k1();l()});function b3($,Q){return $.type===Q}function eI0($,Q){if($.length!==Q.length)return;for(var J=0;J<$.length;J++)if($[J]!==Q[J])return;return!0}function $M0($){var Q=1/0,J=1/0,K=-1/0,Y=-1/0;for(var Z=0;Z<$.length;){var q=$[Z++],X=$[Z++];if(!isNaN(q))Q=Math.min(q,Q),K=Math.max(q,K);if(!isNaN(X))J=Math.min(X,J),Y=Math.max(X,Y)}return[[Q,J],[K,Y]]}function QM0($,Q){var J=$M0($),K=J[0],Y=J[1],Z=$M0(Q),q=Z[0],X=Z[1];return Math.max(Math.abs(K[0]-q[0]),Math.abs(K[1]-q[1]),Math.abs(Y[0]-X[0]),Math.abs(Y[1]-X[1]))}function JM0($){return V1($)?$:$?0.5:0}function nD1($,Q,J){if(!J.valueDim)return[];var K=Q.count(),Y=J9(K*2);for(var Z=0;Z<K;Z++){var q=hf(J,$,Q,Z);Y[Z*2]=q[0],Y[Z*2+1]=q[1]}return Y}function N2($,Q,J,K,Y){var Z=J.getBaseAxis(),q=Z.dim==="x"||Z.dim==="radius"?0:1,X=[],W=0,F=[],H=[],B=[],z=[];if(Y){for(W=0;W<$.length;W+=2){var A=Q||$;if(!isNaN(A[W])&&!isNaN(A[W+1]))z.push($[W],$[W+1])}$=z}for(W=0;W<$.length-2;W+=2)switch(B[0]=$[W+2],B[1]=$[W+3],H[0]=$[W],H[1]=$[W+1],X.push(H[0],H[1]),K){case"end":F[q]=B[q],F[1-q]=H[1-q],X.push(F[0],F[1]);break;case"middle":var R=(H[q]+B[q])/2,G=[];F[q]=G[q]=R,F[1-q]=H[1-q],G[1-q]=B[1-q],X.push(F[0],F[1]),X.push(G[0],G[1]);break;default:F[q]=H[q],F[1-q]=B[1-q],X.push(F[0],F[1])}return X.push($[W++],$[W++]),X}function lD1($,Q){var J=[],K=$.length,Y,Z;function q(H,B,z){var A=H.coord,R=(z-A)/(B.coord-A),G=oj0(R,[H.color,B.color]);return{coord:z,color:G}}for(var X=0;X<K;X++){var W=$[X],F=W.coord;if(F<0)Y=W;else if(F>Q){if(Z)J.push(q(Z,W,Q));else if(Y)J.push(q(Y,W,0),q(Y,W,Q));break}else{if(Y)J.push(q(Y,W,0)),Y=null;J.push(W),Z=W}}return J}function rD1($,Q,J){var K=$.getVisual("visualMeta");if(!K||!K.length||!$.count())return;if(Q.type!=="cartesian2d"){console.warn("Visual map on line style is only supported on cartesian2d.");return}var Y,Z;for(var q=K.length-1;q>=0;q--){var X=$.getDimensionInfo(K[q].dimension);if(Y=X&&X.coordDim,Y==="x"||Y==="y"){Z=K[q];break}}if(!Z){console.warn("Visual map on line style only support x or y dimension.");return}var W=Q.getAxis(Y),F=q0(Z.stops,function(P){return{coord:W.toGlobalCoord(W.dataToCoord(P.value)),color:P.color}}),H=F.length,B=Z.outerColors.slice();if(H&&F[0].coord>F[H-1].coord)F.reverse(),B.reverse();var z=lD1(F,Y==="x"?J.getWidth():J.getHeight()),A=z.length;if(!A&&H)return F[0].coord<0?B[1]?B[1]:F[H-1].color:B[0]?B[0]:F[0].color;var R=10,G=z[0].coord-R,O=z[A-1].coord+R,T=O-G;if(T<0.001)return"transparent";S(z,function(P){P.offset=(P.coord-G)/T}),z.push({offset:A?z[A-1].offset:0.5,color:B[1]||"transparent"}),z.unshift({offset:A?z[0].offset:0.5,color:B[0]||"transparent"});var D=new m$(0,0,0,0,z,!0);return D[Y]=G,D[Y+"2"]=O,D}function iD1($,Q,J){var K=$.get("showAllSymbol"),Y=K==="auto";if(K&&!Y)return;var Z=J.getAxesByScale("ordinal")[0];if(!Z)return;if(Y&&sD1(Z,Q))return;var q=Q.mapDimension(Z.dim),X={};return S(Z.getViewLabels(),function(W){var F=Z.scale.getRawOrdinalNumber(W.tickValue);X[F]=1}),function(W){return!X.hasOwnProperty(Q.get(q,W))}}function sD1($,Q){var J=$.getExtent(),K=Math.abs(J[1]-J[0])/$.scale.count();isNaN(K)&&(K=0);var Y=Q.count(),Z=Math.max(1,Math.round(Y/5));for(var q=0;q<Y;q+=Z)if(bZ.getSymbolSize(Q,q)[$.isHorizontal()?1:0]*1.5>K)return!1;return!0}function oD1($,Q){return isNaN($)||isNaN(Q)}function aD1($){var Q=$.length/2;for(;Q>0;Q--)if(!oD1($[Q*2-2],$[Q*2-1]))break;return Q-1}function KM0($,Q){return[$[Q*2],$[Q*2+1]]}function tD1($,Q,J){var K=$.length/2,Y=J==="x"?0:1,Z,q,X=0,W=-1;for(var F=0;F<K;F++){if(q=$[F*2+Y],isNaN(q)||isNaN($[F*2+1-Y]))continue;if(F===0){Z=q;continue}if(Z<=Q&&q>=Q||Z>=Q&&q<=Q){W=F;break}X=F,Z=q}return{range:[X,W],t:(Q-Z)/(q-Z)}}function YM0($){if($.get(["endLabel","show"]))return!0;for(var Q=0;Q<Y8.length;Q++)if($.get([Y8[Q],"endLabel","show"]))return!0;return!1}function ke($,Q,J,K){if(b3(Q,"cartesian2d")){var Y=K.getModel("endLabel"),Z=Y.get("valueAnimation"),q=K.getData(),X={lastFrameIndex:0},W=YM0(K)?function(A,R){$._endLabelOnDuring(A,R,q,X,Z,Y,Q)}:null,F=Q.getBaseAxis().isHorizontal(),H=Ce(Q,J,K,function(){var A=$._endLabel;if(A&&J){if(X.originalX!=null)A.attr({x:X.originalX,y:X.originalY})}},W);if(!K.get("clip",!0)){var B=H.shape,z=Math.max(B.width,B.height);if(F)B.y-=z,B.height+=z*2;else B.x-=z,B.width+=z*2}if(W)W(1,H);return H}else{if(K.get(["endLabel","show"]))console.warn("endLabel is not supported for lines in polar systems.");return Pe(Q,J,K)}}function eD1($,Q){var J=Q.getBaseAxis(),K=J.isHorizontal(),Y=J.inverse,Z=K?Y?"right":"left":"center",q=K?"middle":Y?"top":"bottom";return{normal:{align:$.get("align")||Z,verticalAlign:$.get("verticalAlign")||q}}}var $C1,ZM0;var qM0=h(()=>{H0();l();YA();MT();oI0();a0();l0();De();t6();Oe();cU();M5();g5();KA();o5();iz();P4();o8();$C1=function($){c(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.init=function(){var J=new b0,K=new aK;this.group.add(K.group),this._symbolDraw=K,this._lineGroup=J,this._changePolyState=P0(this._changePolyState,this)},Q.prototype.render=function(J,K,Y){var Z=J.coordinateSystem,q=this.group,X=J.getData(),W=J.getModel("lineStyle"),F=J.getModel("areaStyle"),H=X.getLayout("points")||[],B=Z.type==="polar",z=this._coordSys,A=this._symbolDraw,R=this._polyline,G=this._polygon,O=this._lineGroup,T=!K.ssr&&J.get("animation"),D=!F.isEmpty(),P=F.get("origin"),j=Lf(Z,X,P),E=D&&nD1(Z,X,j),L=J.get("showSymbol"),v=J.get("connectNulls"),f=L&&!B&&iD1(J,X,Z),_=this._data;if(_&&_.eachItemGraphicEl(function(W1,z1){if(W1.__temp)q.remove(W1),_.setItemGraphicEl(z1,null)}),!L)A.remove();q.add(O);var M=!B?J.get("step"):!1,b;if(Z&&Z.getArea&&J.get("clip",!0)){if(b=Z.getArea(),b.width!=null)b.x-=0.1,b.y-=0.1,b.width+=0.2,b.height+=0.2;else if(b.r0)b.r0-=0.5,b.r+=0.5}this._clipShapeForSymbol=b;var x=rD1(X,Z,Y)||X.getVisual("style")[X.getVisual("drawType")];if(!(R&&z.type===Z.type&&M===this._step)){if(L&&A.updateData(X,{isIgnore:f,clipShape:b,disableAnimation:!0,getSymbolPoint:function(W1){return[H[W1*2],H[W1*2+1]]}}),T&&this._initSymbolLabelAnimation(X,Z,b),M){if(E)E=N2(E,H,Z,M,v);H=N2(H,null,Z,M,v)}if(R=this._newPolyline(H),D)G=this._newPolygon(H,E);else if(G)O.remove(G),G=this._polygon=null;if(!B)this._initOrUpdateEndLabel(J,Z,JJ(x));O.setClipPath(ke(this,Z,!0,J))}else{if(D&&!G)G=this._newPolygon(H,E);else if(G&&!D)O.remove(G),G=this._polygon=null;if(!B)this._initOrUpdateEndLabel(J,Z,JJ(x));var g=O.getClipPath();if(g){var m=ke(this,Z,!1,J);q5(g,{shape:m.shape},J)}else O.setClipPath(ke(this,Z,!0,J));if(L&&A.updateData(X,{isIgnore:f,clipShape:b,disableAnimation:!0,getSymbolPoint:function(W1){return[H[W1*2],H[W1*2+1]]}}),!eI0(this._stackedOnPoints,E)||!eI0(this._points,H))if(T)this._doUpdateAnimation(X,E,Z,Y,M,P,v);else{if(M){if(E)E=N2(E,H,Z,M,v);H=N2(H,null,Z,M,v)}R.setShape({points:H}),G&&G.setShape({points:H,stackedOnPoints:E})}}var u=J.getModel("emphasis"),p=u.get("focus"),o=u.get("blurScope"),t=u.get("disabled");if(R.useStyle(c0(W.getLineStyle(),{fill:"none",stroke:x,lineJoin:"bevel"})),a5(R,J,"lineStyle"),R.style.lineWidth>0&&J.get(["emphasis","lineStyle","width"])==="bolder"){var r=R.getState("emphasis").style;r.lineWidth=+R.style.lineWidth+1}r0(R).seriesIndex=J.seriesIndex,s1(R,p,o,t);var Q0=JM0(J.get("smooth")),F0=J.get("smoothMonotone");if(R.setShape({smooth:Q0,smoothMonotone:F0,connectNulls:v}),G){var W0=X.getCalculationInfo("stackedOnSeries"),h0=0;if(G.useStyle(c0(F.getAreaStyle(),{fill:x,opacity:0.7,lineJoin:"bevel",decal:X.getVisual("style").decal})),W0)h0=JM0(W0.get("smooth"));G.setShape({smooth:Q0,stackedOnSmooth:h0,smoothMonotone:F0,connectNulls:v}),a5(G,J,"areaStyle"),r0(G).seriesIndex=J.seriesIndex,s1(G,p,o,t)}var d0=this._changePolyState;if(X.eachItemGraphicEl(function(W1){W1&&(W1.onHoverStateChange=d0)}),this._polyline.onHoverStateChange=d0,this._data=X,this._coordSys=Z,this._stackedOnPoints=E,this._points=H,this._step=M,this._valueOrigin=P,J.get("triggerLineEvent"))this.packEventData(J,R),G&&this.packEventData(J,G)},Q.prototype.packEventData=function(J,K){r0(K).eventData={componentType:"series",componentSubType:"line",componentIndex:J.componentIndex,seriesIndex:J.seriesIndex,seriesName:J.name,seriesType:"line"}},Q.prototype.highlight=function(J,K,Y,Z){var q=J.getData(),X=y$(q,Z);if(this._changePolyState("emphasis"),!(X instanceof Array)&&X!=null&&X>=0){var W=q.getLayout("points"),F=q.getItemGraphicEl(X);if(!F){var H=W[X*2],B=W[X*2+1];if(isNaN(H)||isNaN(B))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(H,B))return;var z=J.get("zlevel")||0,A=J.get("z")||0;F=new bZ(q,X),F.x=H,F.y=B,F.setZ(z,A);var R=F.getSymbolPath().getTextContent();if(R)R.zlevel=z,R.z=A,R.z2=this._polyline.z2+1;F.__temp=!0,q.setItemGraphicEl(X,F),F.stopSymbolAnimation(!0),this.group.add(F)}F.highlight()}else c1.prototype.highlight.call(this,J,K,Y,Z)},Q.prototype.downplay=function(J,K,Y,Z){var q=J.getData(),X=y$(q,Z);if(this._changePolyState("normal"),X!=null&&X>=0){var W=q.getItemGraphicEl(X);if(W)if(W.__temp)q.setItemGraphicEl(X,null),this.group.remove(W);else W.downplay()}else c1.prototype.downplay.call(this,J,K,Y,Z)},Q.prototype._changePolyState=function(J){var K=this._polygon;qU(this._polyline,J),K&&qU(K,J)},Q.prototype._newPolyline=function(J){var K=this._polyline;if(K)this._lineGroup.remove(K);return K=new tI0({shape:{points:J},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(K),this._polyline=K,K},Q.prototype._newPolygon=function(J,K){var Y=this._polygon;if(Y)this._lineGroup.remove(Y);return Y=new vf({shape:{points:J,stackedOnPoints:K},segmentIgnoreThreshold:2}),this._lineGroup.add(Y),this._polygon=Y,Y},Q.prototype._initSymbolLabelAnimation=function(J,K,Y){var Z,q,X=K.getBaseAxis(),W=X.inverse;if(K.type==="cartesian2d")Z=X.isHorizontal(),q=!1;else if(K.type==="polar")Z=X.dim==="angle",q=!0;var F=J.hostModel,H=F.get("animationDuration");if(I0(H))H=H(null);var B=F.get("animationDelay")||0,z=I0(B)?B(null):B;J.eachItemGraphicEl(function(A,R){var G=A;if(G){var O=[A.x,A.y],T=void 0,D=void 0,P=void 0;if(Y)if(q){var j=Y,E=K.pointToCoord(O);if(Z)T=j.startAngle,D=j.endAngle,P=-E[1]/180*Math.PI;else T=j.r0,D=j.r,P=E[0]}else{var L=Y;if(Z)T=L.x,D=L.x+L.width,P=A.x;else T=L.y+L.height,D=L.y,P=A.y}var v=D===T?0:(P-T)/(D-T);if(W)v=1-v;var f=I0(B)?B(R):H*v+z,_=G.getSymbolPath(),M=_.getTextContent();if(G.attr({scaleX:0,scaleY:0}),G.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:f}),M)M.animateFrom({style:{opacity:0}},{duration:300,delay:f});_.disableLabelAnimation=!0}})},Q.prototype._initOrUpdateEndLabel=function(J,K,Y){var Z=J.getModel("endLabel");if(YM0(J)){var q=J.getData(),X=this._polyline,W=q.getLayout("points");if(!W){X.removeTextContent(),this._endLabel=null;return}var F=this._endLabel;if(!F)F=this._endLabel=new j1({z2:200}),F.ignoreClip=!0,X.setTextContent(this._endLabel),X.disableLabelAnimation=!0;var H=aD1(W);if(H>=0)p5(X,b5(J,"endLabel"),{inheritColor:Y,labelFetcher:J,labelDataIndex:H,defaultText:function(B,z,A){return A!=null?Ef(q,A):BJ(q,B)},enableTextSetter:!0},eD1(Z,K)),X.textConfig.position=null}else if(this._endLabel)this._polyline.removeTextContent(),this._endLabel=null},Q.prototype._endLabelOnDuring=function(J,K,Y,Z,q,X,W){var F=this._endLabel,H=this._polyline;if(F){if(J<1&&Z.originalX==null)Z.originalX=F.x,Z.originalY=F.y;var B=Y.getLayout("points"),z=Y.hostModel,A=z.get("connectNulls"),R=X.get("precision"),G=X.get("distance")||0,O=W.getBaseAxis(),T=O.isHorizontal(),D=O.inverse,P=K.shape,j=D?T?P.x:P.y+P.height:T?P.x+P.width:P.y,E=(T?G:0)*(D?-1:1),L=(T?0:-G)*(D?-1:1),v=T?"x":"y",f=tD1(B,j,v),_=f.range,M=_[1]-_[0],b=void 0;if(M>=1){if(M>1&&!A){var x=KM0(B,_[0]);F.attr({x:x[0]+E,y:x[1]+L}),q&&(b=z.getRawValue(_[0]))}else{var x=H.getPointOn(j,v);x&&F.attr({x:x[0]+E,y:x[1]+L});var g=z.getRawValue(_[0]),m=z.getRawValue(_[1]);q&&(b=mv(Y,R,g,m,f.t))}Z.lastFrameIndex=_[0]}else{var u=J===1||Z.lastFrameIndex>0?_[0]:0,x=KM0(B,u);q&&(b=z.getRawValue(u)),F.attr({x:x[0]+E,y:x[1]+L})}if(q){var p=CZ(F);if(typeof p.setLabelText==="function")p.setLabelText(b)}}},Q.prototype._doUpdateAnimation=function(J,K,Y,Z,q,X,W){var F=this._polyline,H=this._polygon,B=J.hostModel,z=we(this._data,J,this._stackedOnPoints,K,this._coordSys,Y,this._valueOrigin,X),A=z.current,R=z.stackedOnCurrent,G=z.next,O=z.stackedOnNext;if(q)R=N2(z.stackedOnCurrent,z.current,Y,q,W),A=N2(z.current,null,Y,q,W),O=N2(z.stackedOnNext,z.next,Y,q,W),G=N2(z.next,null,Y,q,W);if(QM0(A,G)>3000||H&&QM0(R,O)>3000){if(F.stopAnimation(),F.setShape({points:G}),H)H.stopAnimation(),H.setShape({points:G,stackedOnPoints:O});return}F.shape.__points=z.current,F.shape.points=A;var T={shape:{points:G}};if(z.current!==A)T.shape.__points=z.next;if(F.stopAnimation(),C1(F,T,B),H){if(H.setShape({points:A,stackedOnPoints:R}),H.stopAnimation(),C1(H,{shape:{stackedOnPoints:O}},B),F.shape.points!==H.shape.points)H.shape.points=F.shape.points}var D=[],P=z.status;for(var j=0;j<P.length;j++){var E=P[j].cmd;if(E==="="){var L=J.getItemGraphicEl(P[j].idx1);if(L)D.push({el:L,ptIdx:j})}}if(F.animators&&F.animators.length)F.animators[0].during(function(){H&&H.dirtyShape();var v=F.shape.__points;for(var f=0;f<D.length;f++){var _=D[f].el,M=D[f].ptIdx*2;_.x=v[M],_.y=v[M+1],_.markRedraw()}})},Q.prototype.remove=function(J){var K=this.group,Y=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),Y&&Y.eachItemGraphicEl(function(Z,q){if(Z.__temp)K.remove(Z),Y.setItemGraphicEl(q,null)}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},Q.type="line",Q}(c1),ZM0=$C1});function zJ($,Q){return{seriesType:$,plan:_3(),reset:function(J){var K=J.getData(),Y=J.coordinateSystem,Z=J.pipelineContext,q=Q||Z.large;if(!Y)return;var X=q0(Y.dimensions,function(A){return K.mapDimension(A)}).slice(0,2),W=X.length,F=K.getCalculationInfo("stackResultDimension");if(I3(K,X[0]))X[0]=F;if(I3(K,X[1]))X[1]=F;var H=K.getStore(),B=K.getDimensionIndex(X[0]),z=K.getDimensionIndex(X[1]);return W&&{progress:function(A,R){var G=A.end-A.start,O=q&&J9(G*W),T=[],D=[];for(var P=A.start,j=0;P<A.end;P++){var E=void 0;if(W===1){var L=H.get(B,P);E=Y.dataToPoint(L,null,D)}else T[0]=H.get(B,P),T[1]=H.get(z,P),E=Y.dataToPoint(T,null,D);if(q)O[j++]=E[0],O[j++]=E[1];else R.setItemLayout(P,E.slice())}q&&R.setLayout("points",O)}}}}}var ZA=h(()=>{l();LU();_Z();iz()});function bT($){return{seriesType:$,reset:function(Q,J,K){var Y=Q.getData(),Z=Q.get("sampling"),q=Q.coordinateSystem,X=Y.count();if(X>10&&q.type==="cartesian2d"&&Z){var W=q.getBaseAxis(),F=q.getOtherAxis(W),H=W.getExtent(),B=K.getDevicePixelRatio(),z=Math.abs(H[1]-H[0])*(B||1),A=Math.round(X/z);if(isFinite(A)&&A>1){if(Z==="lttb")Q.setData(Y.lttbDownSample(Y.mapDimension(F.dim),1/A));else if(Z==="minmax")Q.setData(Y.minmaxDownSample(Y.mapDimension(F.dim),1/A));var R=void 0;if(R0(Z))R=QC1[Z];else if(I0(Z))R=Z;if(R)Q.setData(Y.downSample(Y.mapDimension(F.dim),1/A,R,JC1))}}}}}var QC1,JC1=function($){return Math.round($.length/2)};var je=h(()=>{l();QC1={average:function($){var Q=0,J=0;for(var K=0;K<$.length;K++)if(!isNaN($[K]))Q+=$[K],J++;return J===0?NaN:Q/J},sum:function($){var Q=0;for(var J=0;J<$.length;J++)Q+=$[J]||0;return Q},max:function($){var Q=-1/0;for(var J=0;J<$.length;J++)$[J]>Q&&(Q=$[J]);return isFinite(Q)?Q:NaN},min:function($){var Q=1/0;for(var J=0;J<$.length;J++)$[J]<Q&&(Q=$[J]);return isFinite(Q)?Q:NaN},nearest:function($){return $[0]}}});function Ee($){$.registerChartView(ZM0),$.registerSeriesModel(lI0),$.registerLayout(zJ("line",!0)),$.registerVisual({seriesType:"line",reset:function(Q){var J=Q.getData(),K=Q.getModel("lineStyle").getLineStyle();if(K&&!K.stroke)K.stroke=J.getVisual("style").fill;J.setVisual("legendLineStyle",K)}}),$.registerProcessor($.PRIORITY.PROCESSOR.STATISTIC,bT("line"))}var XM0=h(()=>{rI0();qM0();ZA();je()});var WM0,qA;var Le=h(()=>{H0();o6();nK();l();WM0=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.getInitialData=function(J,K){return f8(null,this,{useEncodeDefaulter:!0})},Q.prototype.getMarkerPosition=function(J,K,Y){var Z=this.coordinateSystem;if(Z&&Z.clampData){var q=Z.clampData(J),X=Z.dataToPoint(q);if(Y)S(Z.getAxes(),function(z,A){if(z.type==="category"&&K!=null){var R=z.getTicksCoords(),G=z.getTickModel().get("alignWithLabel"),O=q[A],T=K[A]==="x1"||K[A]==="y1";if(T&&!G)O+=1;if(R.length<2)return;else if(R.length===2){X[A]=z.toGlobalCoord(z.getExtent()[T?1:0]);return}var D=void 0,P=void 0,j=1;for(var E=0;E<R.length;E++){var L=R[E].coord,v=E===R.length-1?R[E-1].tickValue+j:R[E].tickValue;if(v===O){P=L;break}else if(v<O)D=L;else if(D!=null&&v>O){P=(L+D)/2;break}if(E===1)j=v-R[0].tickValue}if(P==null){if(!D)P=R[0].coord;else if(D)P=R[R.length-1].coord}X[A]=z.toGlobalCoord(P)}});else{var W=this.getData(),F=W.getLayout("offset"),H=W.getLayout("size"),B=Z.getBaseAxis().isHorizontal()?0:1;X[B]+=F+H/2}return X}return[NaN,NaN]},Q.type="series.__base_bar__",Q.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3000,progressiveChunkMode:"mod",defaultBarGap:"10%"},Q}(o1);o1.registerClass(WM0);qA=WM0});var KC1,FM0;var UM0=h(()=>{H0();Le();nK();e4();y1();KC1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.getInitialData=function(){return f8(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},Q.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},Q.prototype.getProgressiveThreshold=function(){var J=this.get("progressiveThreshold"),K=this.get("largeThreshold");if(K>J)J=K;return J},Q.prototype.brushSelector=function(J,K,Y){return Y.rect(K.getItemLayout(J))},Q.type="series.bar",Q.dependencies=["grid","polar"],Q.defaultOption=C4(qA.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:e.color.primary,borderWidth:2}},realtimeSort:!1}),Q}(qA),FM0=KC1});var YC1,ZC1,XA;var he=h(()=>{H0();a0();YC1=function(){function $(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return $}(),ZC1=function($){c(Q,$);function Q(J){var K=$.call(this,J)||this;return K.type="sausage",K}return Q.prototype.getDefaultShape=function(){return new YC1},Q.prototype.buildPath=function(J,K){var{cx:Y,cy:Z}=K,q=Math.max(K.r0||0,0),X=Math.max(K.r,0),W=(X-q)*0.5,F=q+W,H=K.startAngle,B=K.endAngle,z=K.clockwise,A=Math.PI*2,R=z?B-H<A:H-B<A;if(!R)H=B-(z?A:-A);var G=Math.cos(H),O=Math.sin(H),T=Math.cos(B),D=Math.sin(B);if(R)J.moveTo(G*q+Y,O*q+Z),J.arc(G*F+Y,O*F+Z,W,-Math.PI+H,H,!z);else J.moveTo(G*X+Y,O*X+Z);if(J.arc(Y,Z,X,H,B,!z),J.arc(T*F+Y,D*F+Z,W,B-Math.PI*2,B-Math.PI,!z),q!==0)J.arc(Y,Z,q,B,H,z)},Q}(Y1),XA=ZC1});function HM0($,Q){Q=Q||{};var J=Q.isRoundCap;return function(K,Y,Z){var q=Y.position;if(!q||q instanceof Array)return dF(K,Y,Z);var X=$(q),W=Y.distance!=null?Y.distance:5,F=this.shape,H=F.cx,B=F.cy,z=F.r,A=F.r0,R=(z+A)/2,G=F.startAngle,O=F.endAngle,T=(G+O)/2,D=J?Math.abs(z-A)/2:0,P=Math.cos,j=Math.sin,E=H+z*P(G),L=B+z*j(G),v="left",f="top";switch(X){case"startArc":E=H+(A-W)*P(T),L=B+(A-W)*j(T),v="center",f="top";break;case"insideStartArc":E=H+(A+W)*P(T),L=B+(A+W)*j(T),v="center",f="bottom";break;case"startAngle":E=H+R*P(G)+Sf(G,W+D,!1),L=B+R*j(G)+_f(G,W+D,!1),v="right",f="middle";break;case"insideStartAngle":E=H+R*P(G)+Sf(G,-W+D,!1),L=B+R*j(G)+_f(G,-W+D,!1),v="left",f="middle";break;case"middle":E=H+R*P(T),L=B+R*j(T),v="center",f="middle";break;case"endArc":E=H+(z+W)*P(T),L=B+(z+W)*j(T),v="center",f="bottom";break;case"insideEndArc":E=H+(z-W)*P(T),L=B+(z-W)*j(T),v="center",f="top";break;case"endAngle":E=H+R*P(O)+Sf(O,W+D,!0),L=B+R*j(O)+_f(O,W+D,!0),v="left",f="middle";break;case"insideEndAngle":E=H+R*P(O)+Sf(O,-W+D,!0),L=B+R*j(O)+_f(O,-W+D,!0),v="right",f="middle";break;default:return dF(K,Y,Z)}return K=K||{},K.x=E,K.y=L,K.align=v,K.verticalAlign=f,K}}function NM0($,Q,J,K){if(V1(K)){$.setTextConfig({rotation:K});return}else if(Z0(Q)){$.setTextConfig({rotation:0});return}var Y=$.shape,Z=Y.clockwise?Y.startAngle:Y.endAngle,q=Y.clockwise?Y.endAngle:Y.startAngle,X=(Z+q)/2,W,F=J(Q);switch(F){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":W=X;break;case"startAngle":case"insideStartAngle":W=Z;break;case"endAngle":case"insideEndAngle":W=q;break;default:$.setTextConfig({rotation:0});return}var H=Math.PI*1.5-W;if(F==="middle"&&H>Math.PI/2&&H<Math.PI*1.5)H-=Math.PI;$.setTextConfig({rotation:H})}function Sf($,Q,J){return Q*Math.sin($)*(J?-1:1)}function _f($,Q,J){return Q*Math.cos($)*(J?1:-1)}var BM0=h(()=>{l4();l()});function Z9($,Q,J){var K=$.get("borderRadius");if(K==null)return J?{cornerRadius:0}:null;if(!Z0(K))K=[K,K,K,K];var Y=Math.abs(Q.r||0-Q.r0||0);return{cornerRadius:q0(K,function(Z){return a8(Z,Y)})}}var WA=h(()=>{l();l4()});function qC1($,Q){var J=$.getArea&&$.getArea();if(b3($,"cartesian2d")){var K=$.getBaseAxis();if(K.type!=="category"||!K.onBand){var Y=Q.getLayout("bandWidth");if(K.isHorizontal())J.x-=Y,J.width+=Y*2;else J.y-=Y,J.height+=Y*2}}return J}function WC1($,Q){var J=$.get("realtimeSort",!0),K=Q.getBaseAxis();if(J){if(K.type!=="category")S5("`realtimeSort` will not work because this bar series is not based on a category axis.");if(Q.type!=="cartesian2d")S5("`realtimeSort` will not work because this bar series is not on cartesian2d.")}if(J&&K.type==="category"&&Q.type==="cartesian2d")return{baseAxis:K,otherAxis:Q.getOtherAxis(K)}}function VM0($,Q,J,K,Y,Z,q,X){var W,F;if(Z)F={x:K.x,width:K.width},W={y:K.y,height:K.height};else F={y:K.y,height:K.height},W={x:K.x,width:K.width};if(!X)(q?C1:q5)(J,{shape:W},Q,Y,null);var H=Q?$.baseAxis.model:null;(q?C1:q5)(J,{shape:F},H,Y)}function RM0($,Q){for(var J=0;J<Q.length;J++)if(!isFinite($[Q[J]]))return!0;return!1}function HC1($){return $.startAngle!=null&&$.endAngle!=null&&$.startAngle===$.endAngle}function CM0($){return function(Q){var J=Q?"Arc":"Angle";return function(K){switch(K){case"start":case"insideStart":case"end":case"insideEnd":return K+J;default:return K}}}($)}function OM0($,Q,J,K,Y,Z,q,X){var W=Q.getItemVisual(J,"style");if(!X){var F=K.get(["itemStyle","borderRadius"])||0;$.setShape("r",F)}else if(!Z.get("roundCap")){var H=$.shape,B=Z9(K.getModel("itemStyle"),H,!0);Y0(H,B),$.setShape(H)}$.useStyle(W);var z=K.getShallow("cursor");z&&$.attr("cursor",z);var A=X?q?Y.r>=Y.r0?"endArc":"startArc":Y.endAngle>=Y.startAngle?"endAngle":"startAngle":q?Y.height>=0?"bottom":"top":Y.width>=0?"right":"left",R=b5(K);p5($,R,{labelFetcher:Z,labelDataIndex:J,defaultText:BJ(Z.getData(),J),inheritColor:W.fill,defaultOpacity:W.opacity,defaultOutsidePosition:A});var G=$.getTextContent();if(X&&G){var O=K.get(["label","position"]);$.textConfig.inside=O==="middle"?!0:null,NM0($,O==="outside"?A:O,CM0(q),K.get(["label","rotate"]))}PS(G,R,Z.getRawValue(J),function(D){return Ef(Q,D)});var T=K.getModel(["emphasis"]);if(s1($,T.get("focus"),T.get("blurScope"),T.get("disabled")),a5($,K),HC1(Y))$.style.fill="none",$.style.stroke="none",S($.states,function(D){if(D.style)D.style.fill=D.style.stroke="none"})}function NC1($,Q){var J=$.get(["itemStyle","borderColor"]);if(!J||J==="none")return 0;var K=$.get(["itemStyle","borderWidth"])||0,Y=isNaN(Q.width)?Number.MAX_VALUE:Math.abs(Q.width),Z=isNaN(Q.height)?Number.MAX_VALUE:Math.abs(Q.height);return Math.min(K,Y,Z)}function TM0($,Q,J,K){var Y=$.getData(),Z=Y.getLayout("valueAxisHorizontal")?1:0,q=Y.getLayout("largeDataIndices"),X=Y.getLayout("size"),W=$.getModel("backgroundStyle"),F=Y.getLayout("largeBackgroundPoints");if(F){var H=new wM0({shape:{points:F},incremental:!!K,silent:!0,z2:0});H.baseDimIdx=Z,H.largeDataIndices=q,H.barWidth=X,H.useStyle(W.getItemStyle()),Q.add(H),J&&J.push(H)}var B=new wM0({shape:{points:Y.getLayout("largePoints")},incremental:!!K,ignoreCoarsePointer:!0,z2:1});if(B.baseDimIdx=Z,B.largeDataIndices=q,B.barWidth=X,Q.add(B),B.useStyle(Y.getVisual("style")),B.style.stroke=null,r0(B).seriesIndex=$.seriesIndex,!$.get("silent"))B.on("mousedown",DM0),B.on("mousemove",DM0);J&&J.push(B)}function zC1($,Q,J){var K=$.baseDimIdx,Y=1-K,Z=$.shape.points,q=$.largeDataIndices,X=[],W=[],F=$.barWidth;for(var H=0,B=Z.length/3;H<B;H++){var z=H*3;if(W[K]=F,W[Y]=Z[z+2],X[K]=Z[z+K],X[Y]=Z[z+Y],W[Y]<0)X[Y]+=W[Y],W[Y]=-W[Y];if(Q>=X[0]&&Q<=X[0]+W[0]&&J>=X[1]&&J<=X[1]+W[1])return q[H]}return-1}function PM0($,Q,J){if(b3(J,"cartesian2d")){var K=Q,Y=J.getArea();return{x:$?K.x:Y.x,y:$?Y.y:K.y,width:$?K.width:Y.width,height:$?Y.height:K.height}}else{var Y=J.getArea(),Z=Q;return{cx:Y.cx,cy:Y.cy,r0:$?Y.r0:Z.r0,r:$?Y.r:Z.r,startAngle:$?Z.startAngle:0,endAngle:$?Z.endAngle:Math.PI*2}}}function AC1($,Q,J){var K=$.type==="polar"?J7:X1;return new K({shape:PM0(Q,J,$),silent:!0,z2:0})}var ve,Se,XC1,zM0,AM0,FC1,UC1,GM0,ff,BC1,wM0,DM0,kM0;var jM0=h(()=>{H0();m6();yX();l();a0();o5();M5();g5();cU();he();t6();KA();N5();BM0();h8();WA();ve=Math.max,Se=Math.min;XC1=function($){c(Q,$);function Q(){var J=$.call(this)||this;return J.type=Q.type,J._isFirstFrame=!0,J}return Q.prototype.render=function(J,K,Y,Z){this._model=J,this._removeOnRenderedListener(Y),this._updateDrawMode(J);var q=J.get("coordinateSystem");if(q==="cartesian2d"||q==="polar")this._progressiveEls=null,this._isLargeDraw?this._renderLarge(J,K,Y):this._renderNormal(J,K,Y,Z);else S5("Only cartesian2d and polar supported for bar.")},Q.prototype.incrementalPrepareRender=function(J){this._clear(),this._updateDrawMode(J),this._updateLargeClip(J)},Q.prototype.incrementalRender=function(J,K){this._progressiveEls=[],this._incrementalRenderLarge(J,K)},Q.prototype.eachRendered=function(J){t4(this._progressiveEls||this.group,J)},Q.prototype._updateDrawMode=function(J){var K=J.pipelineContext.large;if(this._isLargeDraw==null||K!==this._isLargeDraw)this._isLargeDraw=K,this._clear()},Q.prototype._renderNormal=function(J,K,Y,Z){var q=this.group,X=J.getData(),W=this._data,F=J.coordinateSystem,H=F.getBaseAxis(),B;if(F.type==="cartesian2d")B=H.isHorizontal();else if(F.type==="polar")B=H.dim==="angle";var z=J.isAnimationEnabled()?J:null,A=WC1(J,F);if(A)this._enableRealtimeSort(A,X,Y);var R=J.get("clip",!0)||A,G=qC1(F,X);q.removeClipPath();var O=J.get("roundCap",!0),T=J.get("showBackground",!0),D=J.getModel("backgroundStyle"),P=D.get("borderRadius")||0,j=[],E=this._backgroundEls,L=Z&&Z.isInitSort,v=Z&&Z.type==="changeAxisOrder";function f(b){var x=ff[F.type](X,b);if(!x)return null;var g=AC1(F,B,x);if(g.useStyle(D.getItemStyle()),F.type==="cartesian2d")g.setShape("r",P);else g.setShape("cornerRadius",P);return j[b]=g,g}X.diff(W).add(function(b){var x=X.getItemModel(b),g=ff[F.type](X,b,x);if(!g)return;if(T)f(b);if(!X.hasValue(b)||!GM0[F.type](g))return;var m=!1;if(R)m=zM0[F.type](G,g);var u=AM0[F.type](J,X,b,g,B,z,H.model,!1,O);if(A)u.forceLabelAnimation=!0;if(OM0(u,X,b,x,g,J,B,F.type==="polar"),L)u.attr({shape:g});else if(A)VM0(A,z,u,g,b,B,!1,!1);else q5(u,{shape:g},J,b);X.setItemGraphicEl(b,u),q.add(u),u.ignore=m}).update(function(b,x){var g=X.getItemModel(b),m=ff[F.type](X,b,g);if(!m)return;if(T){var u=void 0;if(E.length===0)u=f(x);else{if(u=E[x],u.useStyle(D.getItemStyle()),F.type==="cartesian2d")u.setShape("r",P);else u.setShape("cornerRadius",P);j[b]=u}var p=ff[F.type](X,b),o=PM0(B,p,F);C1(u,{shape:o},z,b)}var t=W.getItemGraphicEl(x);if(!X.hasValue(b)||!GM0[F.type](m)){q.remove(t);return}var r=!1;if(R){if(r=zM0[F.type](G,m),r)q.remove(t)}var Q0=t&&(t.type==="sector"&&O||t.type==="sausage"&&!O);if(Q0)t&&y9(t,J,x),t=null;if(!t)t=AM0[F.type](J,X,b,m,B,z,H.model,!0,O);else T7(t);if(A)t.forceLabelAnimation=!0;if(v){var F0=t.getTextContent();if(F0){var W0=CZ(F0);if(W0.prevValue!=null)W0.prevValue=W0.value}}else OM0(t,X,b,g,m,J,B,F.type==="polar");if(L)t.attr({shape:m});else if(A)VM0(A,z,t,m,b,B,!0,v);else C1(t,{shape:m},J,b,null);X.setItemGraphicEl(b,t),t.ignore=r,q.add(t)}).remove(function(b){var x=W.getItemGraphicEl(b);x&&y9(x,J,b)}).execute();var _=this._backgroundGroup||(this._backgroundGroup=new b0);_.removeAll();for(var M=0;M<j.length;++M)_.add(j[M]);q.add(_),this._backgroundEls=j,this._data=X},Q.prototype._renderLarge=function(J,K,Y){this._clear(),TM0(J,this.group),this._updateLargeClip(J)},Q.prototype._incrementalRenderLarge=function(J,K){this._removeBackground(),TM0(K,this.group,this._progressiveEls,!0)},Q.prototype._updateLargeClip=function(J){var K=J.get("clip",!0)&&tK(J.coordinateSystem,!1,J),Y=this.group;if(K)Y.setClipPath(K);else Y.removeClipPath()},Q.prototype._enableRealtimeSort=function(J,K,Y){var Z=this;if(!K.count())return;var q=J.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(K,J,Y),this._isFirstFrame=!1;else{var X=function(W){var F=K.getItemGraphicEl(W),H=F&&F.shape;return H&&Math.abs(q.isHorizontal()?H.height:H.width)||0};this._onRendered=function(){Z._updateSortWithinSameData(K,X,q,Y)},Y.getZr().on("rendered",this._onRendered)}},Q.prototype._dataSort=function(J,K,Y){var Z=[];return J.each(J.mapDimension(K.dim),function(q,X){var W=Y(X);W=W==null?NaN:W,Z.push({dataIndex:X,mappedValue:W,ordinalNumber:q})}),Z.sort(function(q,X){return X.mappedValue-q.mappedValue}),{ordinalNumbers:q0(Z,function(q){return q.ordinalNumber})}},Q.prototype._isOrderChangedWithinSameData=function(J,K,Y){var Z=Y.scale,q=J.mapDimension(Y.dim),X=Number.MAX_VALUE;for(var W=0,F=Z.getOrdinalMeta().categories.length;W<F;++W){var H=J.rawIndexOf(q,Z.getRawOrdinalNumber(W)),B=H<0?Number.MIN_VALUE:K(J.indexOfRawIndex(H));if(B>X)return!0;X=B}return!1},Q.prototype._isOrderDifferentInView=function(J,K){var Y=K.scale,Z=Y.getExtent(),q=Math.max(0,Z[0]),X=Math.min(Z[1],Y.getOrdinalMeta().categories.length-1);for(;q<=X;++q)if(J.ordinalNumbers[q]!==Y.getRawOrdinalNumber(q))return!0},Q.prototype._updateSortWithinSameData=function(J,K,Y,Z){if(!this._isOrderChangedWithinSameData(J,K,Y))return;var q=this._dataSort(J,Y,K);if(this._isOrderDifferentInView(q,Y))this._removeOnRenderedListener(Z),Z.dispatchAction({type:"changeAxisOrder",componentType:Y.dim+"Axis",axisId:Y.index,sortInfo:q})},Q.prototype._dispatchInitSort=function(J,K,Y){var Z=K.baseAxis,q=this._dataSort(J,Z,function(X){return J.get(J.mapDimension(K.otherAxis.dim),X)});Y.dispatchAction({type:"changeAxisOrder",componentType:Z.dim+"Axis",isInitSort:!0,axisId:Z.index,sortInfo:q})},Q.prototype.remove=function(J,K){this._clear(this._model),this._removeOnRenderedListener(K)},Q.prototype.dispose=function(J,K){this._removeOnRenderedListener(K)},Q.prototype._removeOnRenderedListener=function(J){if(this._onRendered)J.getZr().off("rendered",this._onRendered),this._onRendered=null},Q.prototype._clear=function(J){var K=this.group,Y=this._data;if(J&&J.isAnimationEnabled()&&Y&&!this._isLargeDraw)this._removeBackground(),this._backgroundEls=[],Y.eachItemGraphicEl(function(Z){y9(Z,J,r0(Z).dataIndex)});else K.removeAll();this._data=null,this._isFirstFrame=!0},Q.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},Q.type="bar",Q}(c1),zM0={cartesian2d:function($,Q){var J=Q.width<0?-1:1,K=Q.height<0?-1:1;if(J<0)Q.x+=Q.width,Q.width=-Q.width;if(K<0)Q.y+=Q.height,Q.height=-Q.height;var Y=$.x+$.width,Z=$.y+$.height,q=ve(Q.x,$.x),X=Se(Q.x+Q.width,Y),W=ve(Q.y,$.y),F=Se(Q.y+Q.height,Z),H=X<q,B=F<W;if(Q.x=H&&q>Y?X:q,Q.y=B&&W>Z?F:W,Q.width=H?0:X-q,Q.height=B?0:F-W,J<0)Q.x+=Q.width,Q.width=-Q.width;if(K<0)Q.y+=Q.height,Q.height=-Q.height;return H||B},polar:function($,Q){var J=Q.r0<=Q.r?1:-1;if(J<0){var K=Q.r;Q.r=Q.r0,Q.r0=K}var Y=Se(Q.r,$.r),Z=ve(Q.r0,$.r0);Q.r=Y,Q.r0=Z;var q=Y-Z<0;if(J<0){var K=Q.r;Q.r=Q.r0,Q.r0=K}return q}},AM0={cartesian2d:function($,Q,J,K,Y,Z,q,X,W){var F=new X1({shape:Y0({},K),z2:1});if(F.__dataIndex=J,F.name="item",Z){var H=F.shape,B=Y?"height":"width";H[B]=0}return F},polar:function($,Q,J,K,Y,Z,q,X,W){var F=!Y&&W?XA:J7,H=new F({shape:K,z2:1});H.name="item";var B=CM0(Y);if(H.calculateTextPosition=HM0(B,{isRoundCap:F===XA}),Z){var z=H.shape,A=Y?"r":"endAngle",R={};z[A]=Y?K.r0:K.startAngle,R[A]=K[A],(X?C1:q5)(H,{shape:R},Z)}return H}};FC1=["x","y","width","height"],UC1=["cx","cy","r","startAngle","endAngle"],GM0={cartesian2d:function($){return!RM0($,FC1)},polar:function($){return!RM0($,UC1)}},ff={cartesian2d:function($,Q,J){var K=$.getItemLayout(Q);if(!K)return null;var Y=J?NC1(J,K):0,Z=K.width>0?1:-1,q=K.height>0?1:-1;return{x:K.x+Z*Y/2,y:K.y+q*Y/2,width:K.width-Z*Y,height:K.height-q*Y}},polar:function($,Q,J){var K=$.getItemLayout(Q);return{cx:K.cx,cy:K.cy,r0:K.r0,r:K.r,startAngle:K.startAngle,endAngle:K.endAngle,clockwise:K.clockwise}}};BC1=function(){function $(){}return $}(),wM0=function($){c(Q,$);function Q(J){var K=$.call(this,J)||this;return K.type="largeBar",K}return Q.prototype.getDefaultShape=function(){return new BC1},Q.prototype.buildPath=function(J,K){var Y=K.points,Z=this.baseDimIdx,q=1-this.baseDimIdx,X=[],W=[],F=this.barWidth;for(var H=0;H<Y.length;H+=3)W[Z]=F,W[q]=Y[H+2],X[Z]=Y[H+Z],X[q]=Y[H+q],J.rect(X[0],X[1],W[0],W[1])},Q}(Y1);DM0=ew(function($){var Q=this,J=zC1(Q,$.offsetX,$.offsetY);r0(Q).dataIndex=J>=0?J:null},30,!1);kM0=XC1});function _e($){$.registerChartView(kM0),$.registerSeriesModel(FM0),$.registerLayout($.PRIORITY.VISUAL.LAYOUT,K1(t_,"bar")),$.registerLayout($.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,e_("bar")),$.registerProcessor($.PRIORITY.PROCESSOR.STATISTIC,bT("bar")),$.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(Q,J){var K=Q.componentType||"series";J.eachComponent({mainType:K,query:Q},function(Y){if(Q.sortInfo)Y.axis.setCategorySortInfo(Q.sortInfo)})})}var EM0=h(()=>{l();RT();je();UM0();jM0()});function fe($,Q,J){Q.eachSeriesByType($,function(K){var Y=K.getData(),Z=Y.mapDimension("value"),q=sS(K,J),X=q.cx,W=q.cy,F=q.r,H=q.r0,B=q.viewRect,z=-K.get("startAngle")*If,A=K.get("endAngle"),R=K.get("padAngle")*If;A=A==="auto"?z-LM0:-A*If;var G=K.get("minAngle")*If,O=G+R,T=0;Y.each(Z,function(o){!isNaN(o)&&T++});var D=Y.getSum(Z),P=Math.PI/(D||T)*2,j=K.get("clockwise"),E=K.get("roseType"),L=K.get("stillShowZeroSum"),v=Y.getDataExtent(Z);v[0]=0;var f=j?1:-1,_=[z,A],M=f*R/2;QU(_,!j),z=_[0],A=_[1];var b=Ie(K);b.startAngle=z,b.endAngle=A,b.clockwise=j,b.cx=X,b.cy=W,b.r=F,b.r0=H;var x=Math.abs(A-z),g=x,m=0,u=z;if(Y.setLayout({viewRect:B,r:F}),Y.each(Z,function(o,t){var r;if(isNaN(o)){Y.setItemLayout(t,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:j,cx:X,cy:W,r0:H,r:E?NaN:F});return}if(E!=="area")r=D===0&&L?P:o*P;else r=x/T;if(r<O)r=O,g-=O;else m+=o;var Q0=u+f*r,F0=0,W0=0;if(R>r)F0=u+f*r/2,W0=F0;else F0=u+M,W0=Q0-M;Y.setItemLayout(t,{angle:r,startAngle:F0,endAngle:W0,clockwise:j,cx:X,cy:W,r0:H,r:E?Z5(o,v,[H,F]):F}),u=Q0}),g<LM0&&T)if(g<=0.001){var p=x/T;Y.each(Z,function(o,t){if(!isNaN(o)){var r=Y.getItemLayout(t);r.angle=p;var Q0=0,F0=0;if(p<R)Q0=z+f*(t+0.5)*p,F0=Q0;else Q0=z+f*t*p+M,F0=z+f*(t+1)*p-M;r.startAngle=Q0,r.endAngle=F0}})}else P=g/m,u=z,Y.each(Z,function(o,t){if(!isNaN(o)){var r=Y.getItemLayout(t),Q0=r.angle===O?O:o*P,F0=0,W0=0;if(Q0<R)F0=u+f*Q0/2,W0=F0;else F0=u+M,W0=u+f*Q0-M;r.startAngle=F0,r.endAngle=W0,u+=f*Q0}})})}var LM0,If,Ie;var Me=h(()=>{k1();L3();l0();l5();LM0=Math.PI*2,If=Math.PI/180;Ie=o0()});function g3($){return{seriesType:$,reset:function(Q,J){var K=J.findComponents({mainType:"legend"});if(!K||!K.length)return;var Y=Q.getData();Y.filterSelf(function(Z){var q=Y.getName(Z);for(var X=0;X<K.length;X++)if(!K[X].isSelected(q))return!1;return!0})}}}function hM0($,Q,J,K,Y,Z,q,X,W,F){if($.length<2)return;function H(G){var O=G.rB,T=O*O;for(var D=0;D<G.list.length;D++){var P=G.list[D],j=Math.abs(P.label.y-J),E=K+P.len,L=E*E,v=Math.sqrt(Math.abs((1-j*j/T)*L)),f=Q+(v+P.len2)*Y,_=f-P.label.x,M=P.targetTextWidth-_*Y;SM0(P,M,!0),P.label.x=f}}function B(G){var O={list:[],maxY:0},T={list:[],maxY:0};for(var D=0;D<G.length;D++){if(G[D].labelAlignTo!=="none")continue;var P=G[D],j=P.label.y>J?T:O,E=Math.abs(P.label.y-J);if(E>=j.maxY){var L=P.label.x-Q-P.len2*Y,v=K+P.len,f=Math.abs(L)<v?Math.sqrt(E*E/(1-L*L/v/v)):v;j.rB=f,j.maxY=E}j.list.push(P)}H(O),H(T)}var z=$.length;for(var A=0;A<z;A++)if($[A].position==="outer"&&$[A].labelAlignTo==="labelLine"){var R=$[A].label.x-F;$[A].linePoints[1][0]+=R,$[A].label.x=F}if(PT($,1,W,W+q))B($)}function RC1($,Q,J,K,Y,Z,q,X){var W=[],F=[],H=Number.MAX_VALUE,B=-Number.MAX_VALUE;for(var z=0;z<$.length;z++){var A=$[z].label;if(be($[z]))continue;if(A.x<Q)H=Math.min(H,A.x),W.push($[z]);else B=Math.max(B,A.x),F.push($[z])}for(var z=0;z<$.length;z++){var R=$[z];if(!be(R)&&R.linePoints){if(R.labelStyleWidth!=null)continue;var{label:A,linePoints:G}=R,O=void 0;if(R.labelAlignTo==="edge")if(A.x<Q)O=G[2][0]-R.labelDistance-q-R.edgeDistance;else O=q+Y-R.edgeDistance-G[2][0]-R.labelDistance;else if(R.labelAlignTo==="labelLine")if(A.x<Q)O=H-q-R.bleedMargin;else O=q+Y-B-R.bleedMargin;else if(A.x<Q)O=A.x-q-R.bleedMargin;else O=q+Y-A.x-R.bleedMargin;R.targetTextWidth=O,SM0(R,O,!1)}}hM0(F,Q,J,K,1,Y,Z,q,X,B),hM0(W,Q,J,K,-1,Y,Z,q,X,H);for(var z=0;z<$.length;z++){var R=$[z];if(!be(R)&&R.linePoints){var{label:A,linePoints:G}=R,T=R.labelAlignTo==="edge",D=A.style.padding,P=D?D[1]+D[3]:0,j=A.style.backgroundColor?0:P,E=R.rect.width+j,L=G[1][0]-G[2][0];if(T)if(A.x<Q)G[2][0]=q+R.edgeDistance+E+R.labelDistance;else G[2][0]=q+Y-R.edgeDistance-E-R.labelDistance;else{if(A.x<Q)G[2][0]=A.x+R.labelDistance;else G[2][0]=A.x-R.labelDistance;G[1][0]=G[2][0]+L}G[1][1]=G[2][1]=A.y}}}function SM0($,Q,J){if($.labelStyleWidth!=null)return;var K=$.label,Y=K.style,Z=$.rect,q=Y.backgroundColor,X=Y.padding,W=X?X[1]+X[3]:0,F=Y.overflow,H=Z.width+(q?0:W);if(Q<H||J){if(F&&F.match("break")){K.setStyle("backgroundColor",null),K.setStyle("width",Q-W);var B=K.getBoundingRect();K.setStyle("width",Math.ceil(B.width)),K.setStyle("backgroundColor",q)}else{var z=Q-W,A=Q<H?z:J?z>$.unconstrainedWidth?null:z:null;K.setStyle("width",A)}_M0(Z,K)}}function _M0($,Q){vM0.rect=$,nt(vM0,Q,GC1)}function be($){return $.position==="center"}function ge($){var Q=$.getData(),J=[],K,Y,Z=!1,q=($.get("minShowLabelAngle")||0)*VC1,X=Q.getLayout("viewRect"),W=Q.getLayout("r"),F=X.width,H=X.x,B=X.y,z=X.height;function A(L){L.ignore=!0}function R(L){if(!L.ignore)return!0;for(var v in L.states)if(L.states[v].ignore===!1)return!0;return!1}if(Q.each(function(L){var v=Q.getItemGraphicEl(L),f=v.shape,_=v.getTextContent(),M=v.getTextGuideLine(),b=Q.getItemModel(L),x=b.getModel("label"),g=x.get("position")||b.get(["emphasis","label","position"]),m=x.get("distanceToLabelLine"),u=x.get("alignTo"),p=f0(x.get("edgeDistance"),F),o=x.get("bleedMargin");if(o==null)o=Math.min(F,z)>200?10:2;var t=b.getModel("labelLine"),r=t.get("length");r=f0(r,F);var Q0=t.get("length2");if(Q0=f0(Q0,F),Math.abs(f.endAngle-f.startAngle)<q){if(S(_.states,A),_.ignore=!0,M)S(M.states,A),M.ignore=!0;return}if(!R(_))return;var F0=(f.startAngle+f.endAngle)/2,W0=Math.cos(F0),h0=Math.sin(F0),d0,W1,z1,b1;K=f.cx,Y=f.cy;var B1=g==="inside"||g==="inner";if(g==="center")d0=f.cx,W1=f.cy,b1="center";else{var e0=(B1?(f.r+f.r0)/2*W0:f.r*W0)+K,P1=(B1?(f.r+f.r0)/2*h0:f.r*h0)+Y;if(d0=e0+W0*3,W1=P1+h0*3,!B1){var t0=e0+W0*(r+W-f.r),w1=P1+h0*(r+W-f.r),V5=t0+(W0<0?-1:1)*Q0,g1=w1;if(u==="edge")d0=W0<0?H+p:H+F-p;else d0=V5+(W0<0?-m:m);W1=g1,z1=[[e0,P1],[t0,w1],[V5,g1]]}b1=B1?"center":u==="edge"?W0>0?"right":"left":W0>0?"left":"right"}var w5=Math.PI,T5=0,d6=x.get("rotate");if(V1(d6))T5=d6*(w5/180);else if(g==="center")T5=0;else if(d6==="radial"||d6===!0){var x1=W0<0?-F0+w5:-F0;T5=x1}else if(d6==="tangential"&&g!=="outside"&&g!=="outer"){var b7=Math.atan2(W0,h0);if(b7<0)b7=w5*2+b7;var o9=h0>0;if(o9)b7=w5+b7;T5=b7-w5}if(Z=!!T5,_.x=d0,_.y=W1,_.rotation=T5,_.setStyle({verticalAlign:"middle"}),!B1){var u3=new n0(0,0,0,0);_M0(u3,_),J.push({label:_,labelLine:M,position:g,len:r,len2:Q0,minTurnAngle:t.get("minTurnAngle"),maxSurfaceAngle:t.get("maxSurfaceAngle"),surfaceNormal:new Z1(W0,h0),linePoints:z1,textAlign:b1,labelDistance:m,labelAlignTo:u,edgeDistance:p,bleedMargin:o,rect:u3,unconstrainedWidth:u3.width,labelStyleWidth:_.style.width})}else{_.setStyle({align:b1});var TJ=_.states.select;if(TJ)TJ.x+=_.x,TJ.y+=_.y}v.setTextConfig({inside:B1})}),!Z&&$.get("avoidLabelOverlap"))RC1(J,K,Y,W,F,z,H,B);for(var G=0;G<J.length;G++){var O=J[G],T=O.label,D=O.labelLine,P=isNaN(T.x)||isNaN(T.y);if(T){if(T.setStyle({align:O.textAlign}),P)S(T.states,A),T.ignore=!0;var j=T.states.select;if(j)j.x+=T.x,j.y+=T.y}if(D){var E=O.linePoints;if(P||!E)S(D.states,A),D.ignore=!0;else pt(E,O.minTurnAngle),$I0(E,O.surfaceNormal,O.maxSurfaceAngle),D.setShape({points:E}),T.__hostTarget.textGuideLineConfig={anchor:new Z1(E[0][0],E[0][1])}}}}var VC1,GC1,vM0;var fM0=h(()=>{k1();a0();s5();l();wT();kT();VC1=Math.PI/180;GC1={minMarginForce:[null,0,null,0],marginDefault:[1,0,1,0]},vM0={}});var OC1,wC1,IM0;var MM0=h(()=>{H0();l();a0();M5();t6();fM0();wT();g5();WA();h8();Me();OC1=function($){c(Q,$);function Q(J,K,Y){var Z=$.call(this)||this;Z.z2=2;var q=new j1;return Z.setTextContent(q),Z.updateData(J,K,Y,!0),Z}return Q.prototype.updateData=function(J,K,Y,Z){var q=this,X=J.hostModel,W=J.getItemModel(K),F=W.getModel("emphasis"),H=J.getItemLayout(K),B=Y0(Z9(W.getModel("itemStyle"),H,!0),H);if(isNaN(B.startAngle)){q.setShape(B);return}if(Z){q.setShape(B);var z=X.getShallow("animationType");if(X.ecModel.ssr)q5(q,{scaleX:0,scaleY:0},X,{dataIndex:K,isFrom:!0}),q.originX=B.cx,q.originY=B.cy;else if(z==="scale")q.shape.r=H.r0,q5(q,{shape:{r:H.r}},X,K);else if(Y!=null)q.setShape({startAngle:Y,endAngle:Y}),q5(q,{shape:{startAngle:H.startAngle,endAngle:H.endAngle}},X,K);else q.shape.endAngle=H.startAngle,C1(q,{shape:{endAngle:H.endAngle}},X,K)}else T7(q),C1(q,{shape:B},X,K);q.useStyle(J.getItemVisual(K,"style")),a5(q,W);var A=(H.startAngle+H.endAngle)/2,R=X.get("selectedOffset"),G=Math.cos(A)*R,O=Math.sin(A)*R,T=W.getShallow("cursor");T&&q.attr("cursor",T),this._updateLabel(X,J,K),q.ensureState("emphasis").shape=Y0({r:H.r+(F.get("scale")?F.get("scaleSize")||0:0)},Z9(F.getModel("itemStyle"),H)),Y0(q.ensureState("select"),{x:G,y:O,shape:Z9(W.getModel(["select","itemStyle"]),H)}),Y0(q.ensureState("blur"),{shape:Z9(W.getModel(["blur","itemStyle"]),H)});var D=q.getTextGuideLine(),P=q.getTextContent();D&&Y0(D.ensureState("select"),{x:G,y:O}),Y0(P.ensureState("select"),{x:G,y:O}),s1(this,F.get("focus"),F.get("blurScope"),F.get("disabled"))},Q.prototype._updateLabel=function(J,K,Y){var Z=this,q=K.getItemModel(Y),X=q.getModel("labelLine"),W=K.getItemVisual(Y,"style"),F=W&&W.fill,H=W&&W.opacity;p5(Z,b5(q),{labelFetcher:K.hostModel,labelDataIndex:Y,inheritColor:F,defaultOpacity:H,defaultText:J.getFormattedLabel(Y,"normal")||K.getName(Y)});var B=Z.getTextContent();Z.setTextConfig({position:null,rotation:null}),B.attr({z2:10});var z=q.get(["label","position"]);if(z!=="outside"&&z!=="outer")Z.removeTextGuideLine();else{var A=this.getTextGuideLine();if(!A)A=new G6,this.setTextGuideLine(A);ez(this,$A(q),{stroke:F,opacity:v6(X.get(["lineStyle","opacity"]),H,1)})}},Q}(J7),wC1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.ignoreLabelLineUpdate=!0,J}return Q.prototype.render=function(J,K,Y,Z){var q=J.getData(),X=this._data,W=this.group,F;if(!X&&q.count()>0){var H=q.getItemLayout(0);for(var B=1;isNaN(H&&H.startAngle)&&B<q.count();++B)H=q.getItemLayout(B);if(H)F=H.startAngle}if(this._emptyCircleSector)W.remove(this._emptyCircleSector);if(q.count()===0&&J.get("showEmptyCircle")){var z=Ie(J),A=new J7({shape:m0(z)});A.useStyle(J.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=A,W.add(A)}if(q.diff(X).add(function(R){var G=new OC1(q,R,F);q.setItemGraphicEl(R,G),W.add(G)}).update(function(R,G){var O=X.getItemGraphicEl(G);O.updateData(q,R,F),O.off("click"),W.add(O),q.setItemGraphicEl(R,O)}).remove(function(R){var G=X.getItemGraphicEl(R);y9(G,J,R)}).execute(),ge(J),J.get("animationTypeUpdate")!=="expansion")this._data=q},Q.prototype.dispose=function(){},Q.prototype.containPoint=function(J,K){var Y=K.getData(),Z=Y.getItemLayout(0);if(Z){var q=J[0]-Z.cx,X=J[1]-Z.cy,W=Math.sqrt(q*q+X*X);return W<=Z.r&&W>=Z.r0}},Q.type="pie",Q}(c1),IM0=wC1});function y3($,Q,J){Q=Z0(Q)&&{coordDimensions:Q}||Y0({encodeDefine:$.getEncode()},Q);var K=$.getSource(),Y=FJ(K,Q).dimensions,Z=new e6(Y,$);return Z.initData(K,J),Z}var uU=h(()=>{dz();e$();l()});var TC1,QQ;var mU=h(()=>{TC1=function(){function $(Q,J){this._getDataWithEncodedVisual=Q,this._getRawData=J}return $.prototype.getAllNames=function(){var Q=this._getRawData();return Q.mapArray(Q.getName)},$.prototype.containName=function(Q){var J=this._getRawData();return J.indexOfName(Q)>=0},$.prototype.indexOfName=function(Q){var J=this._getDataWithEncodedVisual();return J.indexOfName(Q)},$.prototype.getItemVisual=function(Q,J){var K=this._getDataWithEncodedVisual();return K.getItemVisual(Q,J)},$}(),QQ=TC1});var DC1,bM0,gM0;var yM0=h(()=>{H0();uU();l();l0();k1();pK();mU();o6();c9();DC1=o0(),bM0=function($){c(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.init=function(J){$.prototype.init.apply(this,arguments),this.legendVisualProvider=new QQ(P0(this.getData,this),P0(this.getRawData,this)),this._defaultLabelLine(J)},Q.prototype.mergeOption=function(){$.prototype.mergeOption.apply(this,arguments)},Q.prototype.getInitialData=function(){return y3(this,{coordDimensions:["value"],encodeDefaulter:K1(_z,this)})},Q.prototype.getDataParams=function(J){var K=this.getData(),Y=DC1(K),Z=Y.seats;if(!Z){var q=[];K.each(K.mapDimension("value"),function(W){q.push(W)}),Z=Y.seats=vE0(q,K.hostModel.get("percentPrecision"))}var X=$.prototype.getDataParams.call(this,J);return X.percent=Z[J]||0,X.$vars.push("percent"),X},Q.prototype._defaultLabelLine=function(J){j3(J,"labelLine",["show"]);var K=J.labelLine,Y=J.emphasis.labelLine;K.show=K.show&&J.label.show,Y.show=Y.show&&J.emphasis.label.show},Q.type="series.pie",Q.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"50%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,coordinateSystemUsage:"box",left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:30,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1000,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},Q}(o1);Dv0({fullType:bM0.type,getCoord2:function($){return $.getShallow("center")}});gM0=bM0});function ye($){return{seriesType:$,reset:function(Q,J){var K=Q.getData();K.filterSelf(function(Y){var Z=K.mapDimension("value"),q=K.get(Z,Y);if(V1(q)&&!isNaN(q)&&q<0)return!1;return!0})}}}var xM0=h(()=>{l()});function xe($){$.registerChartView(IM0),$.registerSeriesModel(gM0),E_("pie",$.registerAction),$.registerLayout(K1(fe,"pie")),$.registerProcessor(g3("pie")),$.registerProcessor(ye("pie"))}var cM0=h(()=>{L_();Me();l();MM0();yM0();xM0()});var CC1,uM0;var mM0=h(()=>{H0();nK();o6();y1();CC1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.hasSymbolVisual=!0,J}return Q.prototype.getInitialData=function(J,K){return f8(null,this,{useEncodeDefaulter:!0})},Q.prototype.getProgressive=function(){var J=this.option.progressive;if(J==null)return this.option.large?5000:this.get("progressive");return J},Q.prototype.getProgressiveThreshold=function(){var J=this.option.progressiveThreshold;if(J==null)return this.option.large?1e4:this.get("progressiveThreshold");return J},Q.prototype.brushSelector=function(J,K,Y){return Y.point(K.getItemLayout(J))},Q.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},Q.type="series.scatter",Q.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],Q.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2000,itemStyle:{opacity:0.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:e.color.primary}},universalTransition:{divideShape:"clone"}},Q}(o1),uM0=CC1});var pM0=4,PC1,kC1,jC1,dM0;var nM0=h(()=>{H0();a0();S8();o5();PC1=function(){function $(){}return $}(),kC1=function($){c(Q,$);function Q(J){var K=$.call(this,J)||this;return K._off=0,K.hoverDataIdx=-1,K}return Q.prototype.getDefaultShape=function(){return new PC1},Q.prototype.reset=function(){this.notClear=!1,this._off=0},Q.prototype.buildPath=function(J,K){var{points:Y,size:Z}=K,q=this.symbolProxy,X=q.shape,W=J.getContext?J.getContext():J,F=W&&Z[0]<pM0,H=this.softClipShape,B;if(F){this._ctx=W;return}this._ctx=null;for(B=this._off;B<Y.length;){var z=Y[B++],A=Y[B++];if(isNaN(z)||isNaN(A))continue;if(H&&!H.contain(z,A))continue;X.x=z-Z[0]/2,X.y=A-Z[1]/2,X.width=Z[0],X.height=Z[1],q.buildPath(J,X,!0)}if(this.incremental)this._off=B,this.notClear=!0},Q.prototype.afterBrush=function(){var J=this.shape,K=J.points,Y=J.size,Z=this._ctx,q=this.softClipShape,X;if(!Z)return;for(X=this._off;X<K.length;){var W=K[X++],F=K[X++];if(isNaN(W)||isNaN(F))continue;if(q&&!q.contain(W,F))continue;Z.fillRect(W-Y[0]/2,F-Y[1]/2,Y[0],Y[1])}if(this.incremental)this._off=X,this.notClear=!0},Q.prototype.findDataIndex=function(J,K){var Y=this.shape,Z=Y.points,q=Y.size,X=Math.max(q[0],4),W=Math.max(q[1],4);for(var F=Z.length/2-1;F>=0;F--){var H=F*2,B=Z[H]-X/2,z=Z[H+1]-W/2;if(J>=B&&K>=z&&J<=B+X&&K<=z+W)return F}return-1},Q.prototype.contain=function(J,K){var Y=this.transformCoordToLocal(J,K),Z=this.getBoundingRect();if(J=Y[0],K=Y[1],Z.contain(J,K)){var q=this.hoverDataIdx=this.findDataIndex(J,K);return q>=0}return this.hoverDataIdx=-1,!1},Q.prototype.getBoundingRect=function(){var J=this._rect;if(!J){var K=this.shape,Y=K.points,Z=K.size,q=Z[0],X=Z[1],W=1/0,F=1/0,H=-1/0,B=-1/0;for(var z=0;z<Y.length;){var A=Y[z++],R=Y[z++];W=Math.min(A,W),H=Math.max(A,H),F=Math.min(R,F),B=Math.max(R,B)}J=this._rect=new n0(W-q/2,F-X/2,H-W+q,B-F+X)}return J},Q}(Y1),jC1=function(){function $(){this.group=new b0}return $.prototype.updateData=function(Q,J){this._clear();var K=this._create();K.setShape({points:Q.getLayout("points")}),this._setCommon(K,Q,J)},$.prototype.updateLayout=function(Q){var J=Q.getLayout("points");this.group.eachChild(function(K){if(K.startIndex!=null){var Y=(K.endIndex-K.startIndex)*2,Z=K.startIndex*4*2;J=new Float32Array(J.buffer,Z,Y)}K.setShape("points",J),K.reset()})},$.prototype.incrementalPrepareUpdate=function(Q){this._clear()},$.prototype.incrementalUpdate=function(Q,J,K){var Y=this._newAdded[0],Z=J.getLayout("points"),q=Y&&Y.shape.points;if(q&&q.length<20000){var X=q.length,W=new Float32Array(X+Z.length);W.set(q),W.set(Z,X),Y.endIndex=Q.end,Y.setShape({points:W})}else{this._newAdded=[];var F=this._create();F.startIndex=Q.start,F.endIndex=Q.end,F.incremental=!0,F.setShape({points:Z}),this._setCommon(F,J,K)}},$.prototype.eachRendered=function(Q){this._newAdded[0]&&Q(this._newAdded[0])},$.prototype._create=function(){var Q=new kC1({cursor:"default"});return Q.ignoreCoarsePointer=!0,this.group.add(Q),this._newAdded.push(Q),Q},$.prototype._setCommon=function(Q,J,K){var Y=J.hostModel;K=K||{};var Z=J.getVisual("symbolSize");Q.setShape("size",Z instanceof Array?Z:[Z,Z]),Q.softClipShape=K.clipShape||null,Q.symbolProxy=y5(J.getVisual("symbol"),0,0,0,0),Q.setColor=Q.symbolProxy.setColor;var q=Q.shape.size[0]<pM0;Q.useStyle(Y.getModel("itemStyle").getItemStyle(q?["color","shadowBlur","shadowColor"]:["color"]));var X=J.getVisual("style"),W=X&&X.fill;if(W)Q.setColor(W);var F=r0(Q);F.seriesIndex=Y.seriesIndex,Q.on("mousemove",function(H){F.dataIndex=null;var B=Q.hoverDataIdx;if(B>=0)F.dataIndex=B+(Q.startIndex||0)})},$.prototype.remove=function(){this._clear()},$.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},$}(),dM0=jC1});var EC1,lM0;var rM0=h(()=>{H0();YA();nM0();ZA();t6();EC1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){var Z=J.getData(),q=this._updateSymbolDraw(Z,J);q.updateData(Z,{clipShape:this._getClipShape(J)}),this._finished=!0},Q.prototype.incrementalPrepareRender=function(J,K,Y){var Z=J.getData(),q=this._updateSymbolDraw(Z,J);q.incrementalPrepareUpdate(Z),this._finished=!1},Q.prototype.incrementalRender=function(J,K,Y){this._symbolDraw.incrementalUpdate(J,K.getData(),{clipShape:this._getClipShape(K)}),this._finished=J.end===K.getData().count()},Q.prototype.updateTransform=function(J,K,Y){var Z=J.getData();if(this.group.dirty(),!this._finished||Z.count()>1e4)return{update:!0};else{var q=zJ("").reset(J,K,Y);if(q.progress)q.progress({start:0,end:Z.count(),count:Z.count()},Z);this._symbolDraw.updateLayout(Z)}},Q.prototype.eachRendered=function(J){this._symbolDraw&&this._symbolDraw.eachRendered(J)},Q.prototype._getClipShape=function(J){if(!J.get("clip",!0))return;var K=J.coordinateSystem;return K&&K.getArea&&K.getArea(0.1)},Q.prototype._updateSymbolDraw=function(J,K){var Y=this._symbolDraw,Z=K.pipelineContext,q=Z.large;if(!Y||q!==this._isLargeDraw)Y&&Y.remove(),Y=this._symbolDraw=q?new dM0:new aK,this._isLargeDraw=q,this.group.removeAll();return this.group.add(Y.group),Y},Q.prototype.remove=function(J,K){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},Q.prototype.dispose=function(){},Q.type="scatter",Q}(c1),lM0=EC1});var ce,gT,LC1,iM0;var ue=h(()=>{H0();_6();l5();y1();ce={left:0,right:0,top:0,bottom:0},gT=["25%","25%"],LC1=function($){c(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.mergeDefaultAndTheme=function(J,K){var Y=u9(J.outerBounds);if($.prototype.mergeDefaultAndTheme.apply(this,arguments),Y&&J.outerBounds)$4(J.outerBounds,Y)},Q.prototype.mergeOption=function(J,K){if($.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&J.outerBounds)$4(this.option.outerBounds,J.outerBounds)},Q.type="grid",Q.dependencies=["xAxis","yAxis"],Q.layoutMode="box",Q.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:ce,outerBoundsContain:"all",outerBoundsClampWidth:gT[0],outerBoundsClampHeight:gT[1],backgroundColor:e.color.transparent,borderWidth:1,borderColor:e.color.neutral30},Q}(O1),iM0=LC1});var Mf;var sM0=h(()=>{H0();l();_6();az();l0();Mf=function($){c(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",L5).models[0]},Q.type="cartesian2dAxis",Q}(O1);n5(Mf,rK)});var oM0,hC1,me,vC1,SC1,bf;var pe=h(()=>{l();y1();oM0={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:e.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:e.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:e.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[e.color.backgroundTint,e.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:e.color.neutral00,borderColor:e.color.border,borderWidth:1,borderType:[3,3],opacity:0.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},hC1=F1({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},oM0),me=F1({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:e.color.axisMinorSplitLine,width:1}}},oM0),vC1=F1({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},me),SC1=c0({logBase:10},me),bf={category:hC1,value:me,time:vC1,log:SC1}});var aM0;var tM0=h(()=>{aM0={value:1,category:1,time:1,log:1}});function eM0($){if(!de)de=$}function gZ(){return de}var de=null;function AJ($,Q,J,K){S(aM0,function(Y,Z){var q=F1(F1({},bf[Z],!0),K,!0),X=function(W){c(F,W);function F(){var H=W!==null&&W.apply(this,arguments)||this;return H.type=Q+"Axis."+Z,H}return F.prototype.mergeDefaultAndTheme=function(H,B){var z=iX(this),A=z?u9(H):{},R=B.getTheme();if(F1(H,R.get(Z+"Axis")),F1(H,this.getDefaultOption()),H.type=$b0(H),z)$4(H,A,z)},F.prototype.optionUpdated=function(){var H=this.option;if(H.type==="category")this.__ordinalMeta=K2.createByAxisModel(this)},F.prototype.getCategories=function(H){var B=this.option;if(B.type==="category"){if(H)return B.data;return this.__ordinalMeta.categories}},F.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},F.prototype.updateAxisBreaks=function(H){var B=gZ();return B?B.updateModelAxisBreak(this,H):{breaks:[]}},F.type=Q+"Axis."+Z,F.defaultOption=q,F}(J);$.registerComponentModel(X)}),$.registerSubTypeDefaulter(Q+"Axis",$b0)}function $b0($){return $.type||($.data?"category":"value")}var yT=h(()=>{H0();pe();l5();a_();tM0();l()});var _C1,Qb0;var Jb0=h(()=>{l();_C1=function(){function $(Q){this.type="cartesian",this._dimList=[],this._axes={},this.name=Q||""}return $.prototype.getAxis=function(Q){return this._axes[Q]},$.prototype.getAxes=function(){return q0(this._dimList,function(Q){return this._axes[Q]},this)},$.prototype.getAxesByScale=function(Q){return Q=Q.toLowerCase(),f1(this.getAxes(),function(J){return J.scale.type===Q})},$.prototype.addAxis=function(Q){var J=Q.dim;this._axes[J]=Q,this._dimList.push(J)},$}(),Qb0=_C1});function Kb0($){return($.type==="interval"||$.type==="time")&&!$.hasBreaks()}var gf,fC1,Yb0;var Zb0=h(()=>{H0();s5();Jb0();w6();gf=["x","y"];fC1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type="cartesian2d",J.dimensions=gf,J}return Q.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var J=this.getAxis("x").scale,K=this.getAxis("y").scale;if(!Kb0(J)||!Kb0(K))return;var Y=J.getExtent(),Z=K.getExtent(),q=this.dataToPoint([Y[0],Z[0]]),X=this.dataToPoint([Y[1],Z[1]]),W=Y[1]-Y[0],F=Z[1]-Z[0];if(!W||!F)return;var H=(X[0]-q[0])/W,B=(X[1]-q[1])/F,z=q[0]-Y[0]*H,A=q[1]-Z[0]*B,R=this._transform=[H,0,0,B,z,A];this._invTransform=d7([],R)},Q.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},Q.prototype.containPoint=function(J){var K=this.getAxis("x"),Y=this.getAxis("y");return K.contain(K.toLocalCoord(J[0]))&&Y.contain(Y.toLocalCoord(J[1]))},Q.prototype.containData=function(J){return this.getAxis("x").containData(J[0])&&this.getAxis("y").containData(J[1])},Q.prototype.containZone=function(J,K){var Y=this.dataToPoint(J),Z=this.dataToPoint(K),q=this.getArea(),X=new n0(Y[0],Y[1],Z[0]-Y[0],Z[1]-Y[1]);return q.intersect(X)},Q.prototype.dataToPoint=function(J,K,Y){Y=Y||[];var Z=J[0],q=J[1];if(this._transform&&Z!=null&&isFinite(Z)&&q!=null&&isFinite(q))return H6(Y,J,this._transform);var X=this.getAxis("x"),W=this.getAxis("y");return Y[0]=X.toGlobalCoord(X.dataToCoord(Z,K)),Y[1]=W.toGlobalCoord(W.dataToCoord(q,K)),Y},Q.prototype.clampData=function(J,K){var Y=this.getAxis("x").scale,Z=this.getAxis("y").scale,q=Y.getExtent(),X=Z.getExtent(),W=Y.parse(J[0]),F=Z.parse(J[1]);return K=K||[],K[0]=Math.min(Math.max(Math.min(q[0],q[1]),W),Math.max(q[0],q[1])),K[1]=Math.min(Math.max(Math.min(X[0],X[1]),F),Math.max(X[0],X[1])),K},Q.prototype.pointToData=function(J,K,Y){if(Y=Y||[],this._invTransform)return H6(Y,J,this._invTransform);var Z=this.getAxis("x"),q=this.getAxis("y");return Y[0]=Z.coordToData(Z.toLocalCoord(J[0]),K),Y[1]=q.coordToData(q.toLocalCoord(J[1]),K),Y},Q.prototype.getOtherAxis=function(J){return this.getAxis(J.dim==="x"?"y":"x")},Q.prototype.getArea=function(J){J=J||0;var K=this.getAxis("x").getGlobalExtent(),Y=this.getAxis("y").getGlobalExtent(),Z=Math.min(K[0],K[1])-J,q=Math.min(Y[0],Y[1])-J,X=Math.max(K[0],K[1])-Z+J,W=Math.max(Y[0],Y[1])-q+J;return new n0(Z,q,X,W)},Q}(Qb0),Yb0=fC1});var IC1,yf;var ne=h(()=>{H0();W2();IC1=function($){c(Q,$);function Q(J,K,Y,Z,q){var X=$.call(this,J,K,Y)||this;return X.index=0,X.type=Z||"value",X.position=q||"bottom",X}return Q.prototype.isHorizontal=function(){var J=this.position;return J==="top"||J==="bottom"},Q.prototype.getGlobalExtent=function(J){var K=this.getExtent();return K[0]=this.toGlobalCoord(K[0]),K[1]=this.toGlobalCoord(K[1]),J&&K[0]>K[1]&&K.reverse(),K},Q.prototype.pointToData=function(J,K){return this.coordToData(this.toLocalCoord(J[this.dim==="x"?0:1]),K)},Q.prototype.setCategorySortInfo=function(J){if(this.type!=="category")return!1;this.model.option.categorySortInfo=J,this.scale.setSortInfo(J)},Q}(I8),yf=IC1});function se($,Q,J,K){var Y=[];return S($,function(Z){Y=Y.concat(Z.eventBreaks)}),{eventContent:{breaks:Y}}}function qb0($){$.registerAction(MC1,Q),$.registerAction(bC1,Q),$.registerAction(gC1,Q);function Q(J,K){var Y=[],Z=LK(K,J);function q(X,W){S(Z[X],function(F){var H=F.updateAxisBreaks(J);S(H.breaks,function(B){var z;Y.push(c0((z={},z[W]=F.componentIndex,z),B))})})}return q("xAxisModels","xAxisIndex"),q("yAxisModels","yAxisIndex"),q("singleAxisModels","singleAxisIndex"),{eventBreaks:Y}}}var FA="expandAxisBreak",le="collapseAxisBreak",re="toggleAxisBreak",ie="axisbreakchanged",MC1,bC1,gC1;var xf=h(()=>{l0();l();MC1={type:FA,event:ie,update:"update",refineEvent:se},bC1={type:le,event:ie,update:"update",refineEvent:se},gC1={type:re,event:ie,update:"update",refineEvent:se}});function cC1($,Q,J,K){var Y=J.axis,Z=Q.ensureRecord(J),q=[],X,W=$00($.axisName)&&X2($.nameLocation);S(K,function(R){var G=NJ(R);if(!G||G.label.ignore)return;q.push(G);var O=Z.transGroup;if(W){if(O.transform?d7(xT,O.transform):LX(xT),G.transform)i8(xT,xT,G.transform);n0.copy(cf,G.localRect),cf.applyTransform(xT),X?X.union(cf):n0.copy(X=new n0(0,0,0,0),cf)}});var F=Math.abs(Z.dirVec.x)>0.1?"x":"y",H=Z.transGroup[F];if(q.sort(function(R,G){return Math.abs(R.label[F]-H)-Math.abs(G.label[F]-H)}),W&&X){var B=Y.getExtent(),z=Math.min(B[0],B[1]),A=Math.max(B[0],B[1])-z;X.union(new n0(z,0,A,1))}Z.stOccupiedRect=X,Z.labelInfoList=q}function Ub0($,Q,J){var K=new Z1;if(QA($,Q,K,{direction:Math.atan2(J.y,J.x),bidirectional:!1,touchThreshold:0.05}))DT(Q,K)}function ee($,Q,J,K){var Y=Z1.dot(K,Q)>=0;for(var Z=0,q=$.length;Z<q;Z++){var X=$[Y?Z:q-1-Z];if(!X.label.ignore)Ub0(X,J,K)}}function Xb0($,Q,J,K,Y,Z,q,X){if(!Nb0(Q))iC1($,Q,Y,X,K,q);var W=Q.labelLayoutList;sC1($,K,W,Z),tC1(K,$.rotation,W);var F=$.optionHideOverlap;if(dC1(K,W,F),F)Vf(f1(W,function(H){return H&&!H.label.ignore}));cC1($,J,K,W)}function pC1($,Q,J,K){var Y=_s(J-$),Z,q,X=K[0]>K[1],W=Q==="start"&&!X||Q!=="start"&&X;if(nF(Y-B2/2))q=W?"bottom":"top",Z="center";else if(nF(Y-B2*1.5))q=W?"top":"bottom",Z="center";else if(q="middle",Y<B2*1.5&&Y>B2/2)Z=W?"left":"right";else Z=W?"right":"left";return{rotation:Y,textAlign:Z,textVerticalAlign:q}}function dC1($,Q,J){if(Wf($.axis))return;function K(X,W,F){var H=NJ(Q[W]),B=NJ(Q[F]);if(!H||!B)return;if(X===!1||H.suggestIgnore){cT(H.label);return}if(B.suggestIgnore){cT(B.label);return}var z=0.1;if(!J){var A=[0,0,0,0];H=CT({marginForce:A},H),B=CT({marginForce:A},B)}if(QA(H,B,null,{touchThreshold:z}))if(X)cT(B.label);else cT(H.label)}var Y=$.get(["axisLabel","showMinLabel"]),Z=$.get(["axisLabel","showMaxLabel"]),q=Q.length;K(Y,0,1),K(Z,q-1,q-2)}function nC1($,Q,J){if($.showMinorTicks)return;S(Q,function(K){if(K&&K.label.ignore)for(var Y=0;Y<J.length;Y++){var Z=J[Y],q=Fb0(Z),X=dU(K.label);if(q.tickValue!=null&&!q.onBand&&q.tickValue===X.tickValue){cT(Z);return}}})}function cT($){$&&($.ignore=!0)}function Hb0($,Q,J,K,Y){var Z=[],q=[],X=[];for(var W=0;W<$.length;W++){var F=$[W].coord;if(q[0]=F,q[1]=0,X[0]=F,X[1]=J,Q)H6(q,q,Q),H6(X,X,Q);var H=new X6({shape:{x1:q[0],y1:q[1],x2:X[0],y2:X[1]},style:K,z2:2,autoBatch:!0,silent:!0});wZ(H.shape,H.style.lineWidth),H.anid=Y+"_"+$[W].tickValue,Z.push(H);var B=Fb0(H);B.onBand=!!$[W].onBand,B.tickValue=$[W].tickValue}return Z}function lC1($,Q,J,K){var Y=K.axis,Z=K.getModel("axisTick"),q=Z.get("show");if(q==="auto"){if(q=!0,$.raw.axisTickAutoShow!=null)q=!!$.raw.axisTickAutoShow}if(!q||Y.scale.isBlank())return[];var X=Z.getModel("lineStyle"),W=$.tickDirection*Z.get("length"),F=Y.getTicksCoords(),H=Hb0(F,J.transform,W,c0(X.getLineStyle(),{stroke:K.get(["axisLine","lineStyle","color"])}),"ticks");for(var B=0;B<H.length;B++)Q.add(H[B]);return H}function rC1($,Q,J,K,Y){var Z=K.axis,q=K.getModel("minorTick");if(!$.showMinorTicks||Z.scale.isBlank())return;var X=Z.getMinorTicksCoords();if(!X.length)return;var W=q.getModel("lineStyle"),F=Y*q.get("length"),H=c0(W.getLineStyle(),c0(K.getModel("axisTick").getLineStyle(),{stroke:K.get(["axisLine","lineStyle","color"])}));for(var B=0;B<X.length;B++){var z=Hb0(X[B],J.transform,F,H,"minorticks_"+B);for(var A=0;A<z.length;A++)Q.add(z[A])}}function Wb0($,Q,J){if(Nb0($)){var K=$.axisLabelsCreationContext;M0($.labelGroup&&K);var Y=K.out.noPxChangeTryDetermine;if(J.noPxChange){var Z=!0;for(var q=0;q<Y.length;q++)Z=Z&&Y[q]();if(Z)return!1}if(Y.length)Q.remove($.labelGroup),oe($,null,null,null)}return!0}function iC1($,Q,J,K,Y,Z){var q=Y.axis,X=J6($.raw.axisLabelShow,Y.get(["axisLabel","show"])),W=new b0;J.add(W);var F=tz(K);if(!X||q.scale.isBlank()){oe(Q,[],W,F);return}var H=Y.getModel("axisLabel"),B=q.getViewLabels(F),z=(J6($.raw.labelRotate,H.get("rotate"))||0)*B2/180,A=pU.innerTextLayout($.rotation,z,$.labelDirection),R=Y.getCategories&&Y.getCategories(!0),G=[],O=Y.get("triggerEvent"),T=1/0,D=-1/0;S(B,function(j,E){var L,v=q.scale.type==="ordinal"?q.scale.getRawOrdinalNumber(j.tickValue):j.tickValue,f=j.formattedLabel,_=j.rawLabel,M=H;if(R&&R[v]){var b=R[v];if(y0(b)&&b.textStyle)M=new h1(b.textStyle,H,Y.ecModel)}var x=M.getTextColor()||Y.get(["axisLine","lineStyle","color"]),g=M.getShallow("align",!0)||A.textAlign,m=g0(M.getShallow("alignMinLabel",!0),g),u=g0(M.getShallow("alignMaxLabel",!0),g),p=M.getShallow("verticalAlign",!0)||M.getShallow("baseline",!0)||A.textVerticalAlign,o=g0(M.getShallow("verticalAlignMinLabel",!0),p),t=g0(M.getShallow("verticalAlignMaxLabel",!0),p),r=10+(((L=j.time)===null||L===void 0?void 0:L.level)||0);T=Math.min(T,r),D=Math.max(D,r);var Q0=new j1({x:0,y:0,rotation:0,silent:pU.isLabelSilent(Y),z2:r,style:A5(M,{text:f,align:E===0?m:E===B.length-1?u:g,verticalAlign:E===0?o:E===B.length-1?t:p,fill:I0(x)?x(q.type==="category"?_:q.type==="value"?v+"":v,E):x})});Q0.anid="label_"+v;var F0=dU(Q0);if(F0.break=j.break,F0.tickValue=v,F0.layoutRotation=A.rotation,D4({el:Q0,componentModel:Y,itemName:f,formatterParamsExtra:{isTruncated:function(){return Q0.isTruncated},value:_,tickIndex:E}}),O){var W0=pU.makeAxisEventDataBase(Y);if(W0.targetType="axisLabel",W0.value=_,W0.tickIndex=E,j.break)W0.break={start:j.break.parsedBreak.vmin,end:j.break.parsedBreak.vmax};if(q.type==="category")W0.dataIndex=v;if(r0(Q0).eventData=W0,j.break)aC1(Y,Z,Q0,j.break)}G.push(Q0),W.add(Q0)});var P=q0(G,function(j){return{label:j,priority:dU(j).break?j.z2+(D-T+1):j.z2,defaultAttr:{ignore:j.ignore}}});oe(Q,P,W,F)}function Nb0($){return!!$.labelLayoutList}function oe($,Q,J,K){$.labelLayoutList=Q,$.labelGroup=J,$.axisLabelsCreationContext=K}function sC1($,Q,J,K){var Y=Q.get(["axisLabel","margin"]);S(J,function(Z,q){var X=NJ(Z);if(!X)return;var W=X.label,F=dU(W);X.suggestIgnore=W.ignore,W.ignore=!1,Xz(yZ,oC1),yZ.x=Q.axis.dataToCoord(F.tickValue),yZ.y=$.labelOffset+$.labelDirection*Y,yZ.rotation=F.layoutRotation,K.add(yZ),yZ.updateTransform(),K.remove(yZ),yZ.decomposeTransform(),Xz(W,yZ),W.markRedraw(),TT(X,!0),NJ(X)})}function $00($){return!!$}function aC1($,Q,J,K){J.on("click",function(Y){var Z={type:FA,breaks:[{start:K.parsedBreak.breakOption.start,end:K.parsedBreak.breakOption.end}]};Z[$.axis.dim+"AxisIndex"]=$.componentIndex,Q.dispatchAction(Z)})}function tC1($,Q,J){var K=D6();if(!K)return;var Y=K.retrieveAxisBreakPairs(J,function(q){return q&&dU(q.label).break},!0),Z=$.get(["breakLabelLayout","moveOverlap"],!0);if(Z===!0||Z==="auto")S(Y,function(q){gZ().adjustBreakLabelPair($.axis.inverse,Q,[NJ(J[q[0]]),NJ(J[q[1]])])})}var B2,yC1,xC1,dU,Fb0,ae,xT,cf,te=function($,Q,J,K,Y,Z){if(X2($.nameLocation)){var q=Z.stOccupiedRect;if(q)Ub0(ZI0({},q,Z.transGroup.transform),K,Y)}else ee(Z.labelInfoList,Z.dirVec,K,Y)},pU,uC1,mC1,yZ,oC1,J4;var eK=h(()=>{l();a0();o5();g5();K7();k1();S8();w6();M3();kT();l0();xf();s5();hX();EK();Nf();B2=Math.PI,yC1=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],xC1=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],dU=o0(),Fb0=o0(),ae=function(){function $(Q){this.recordMap={},this.resolveAxisNameOverlap=Q}return $.prototype.ensureRecord=function(Q){var J=Q.axis.dim,K=Q.componentIndex,Y=this.recordMap,Z=Y[J]||(Y[J]=[]);return Z[K]||(Z[K]={ready:{}})},$}();xT=V6(),cf=new n0(0,0,0,0);pU=function(){function $(Q,J,K,Y){this.group=new b0,this._axisModel=Q,this._api=J,this._local={},this._shared=Y||new ae(te),this._resetCfgDetermined(K)}return $.prototype.updateCfg=function(Q){var J=this._shared.ensureRecord(this._axisModel).ready;M0(!J.axisLine&&!J.axisTickLabelDetermine),J.axisName=J.axisTickLabelEstimate=!1;var K=this._cfg.raw;K.position=Q.position,K.labelOffset=Q.labelOffset,this._resetCfgDetermined(K)},$.prototype.__getRawCfg=function(){return this._cfg.raw},$.prototype._resetCfgDetermined=function(Q){var J=this._axisModel,K=J.getDefaultOption?J.getDefaultOption():{},Y=g0(Q.axisName,J.get("name")),Z=J.get("nameMoveOverlap");if(Z==null||Z==="auto")Z=g0(Q.defaultNameMoveOverlap,!0);var q={raw:Q,position:Q.position,rotation:Q.rotation,nameDirection:g0(Q.nameDirection,1),tickDirection:g0(Q.tickDirection,1),labelDirection:g0(Q.labelDirection,1),labelOffset:g0(Q.labelOffset,0),silent:g0(Q.silent,!0),axisName:Y,nameLocation:v6(J.get("nameLocation"),K.nameLocation,"end"),shouldNameMoveOverlap:$00(Y)&&Z,optionHideOverlap:J.get(["axisLabel","hideOverlap"]),showMinorTicks:J.get(["minorTick","show"])};M0(q.position!=null),M0(q.rotation!=null),this._cfg=q;var X=new b0({x:q.position[0],y:q.position[1],rotation:q.rotation});X.updateTransform(),this._transformGroup=X;var W=this._shared.ensureRecord(J);W.transGroup=this._transformGroup,W.dirVec=new Z1(Math.cos(-q.rotation),Math.sin(-q.rotation))},$.prototype.build=function(Q,J){var K=this;if(!Q)Q={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0};return S(uC1,function(Y){if(Q[Y])mC1[Y](K._cfg,K._local,K._shared,K._axisModel,K.group,K._transformGroup,K._api,J||{})}),this},$.innerTextLayout=function(Q,J,K){var Y=_s(J-Q),Z,q;if(nF(Y))q=K>0?"top":"bottom",Z="center";else if(nF(Y-B2))q=K>0?"bottom":"top",Z="center";else if(q="middle",Y>0&&Y<B2)Z=K>0?"right":"left";else Z=K>0?"left":"right";return{rotation:Y,textAlign:Z,textVerticalAlign:q}},$.makeAxisEventDataBase=function(Q){var J={componentType:Q.mainType,componentIndex:Q.componentIndex};return J[Q.mainType+"Index"]=Q.componentIndex,J},$.isLabelSilent=function(Q){var J=Q.get("tooltip");return Q.get("silent")||!(Q.get("triggerEvent")||J&&J.show)},$}(),uC1=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],mC1={axisLine:function($,Q,J,K,Y,Z,q){var X=J.ensureRecord(K).ready;M0(!X.axisLine),X.axisLine=!0;var W=K.get(["axisLine","show"]);if(W==="auto"){if(W=!0,$.raw.axisLineAutoShow!=null)W=!!$.raw.axisLineAutoShow}if(!W)return;var F=K.axis.getExtent(),H=Z.transform,B=[F[0],0],z=[F[1],0],A=B[0]>z[0];if(H)H6(B,B,H),H6(z,z,H);var R=Y0({lineCap:"round"},K.getModel(["axisLine","lineStyle"]).getLineStyle()),G={strokeContainThreshold:$.raw.strokeContainThreshold||5,silent:!0,z2:1,style:R};if(K.get(["axisLine","breakLine"])&&K.axis.scale.hasBreaks())gZ().buildAxisBreakLine(K,Y,Z,G);else{var O=new X6(Y0({shape:{x1:B[0],y1:B[1],x2:z[0],y2:z[1]}},G));wZ(O.shape,O.style.lineWidth),O.anid="line",Y.add(O)}var T=K.get(["axisLine","symbol"]);if(T!=null){var D=K.get(["axisLine","symbolSize"]);if(R0(T))T=[T,T];if(R0(D)||V1(D))D=[D,D];var P=f3(K.get(["axisLine","symbolOffset"])||0,D),j=D[0],E=D[1];S([{rotate:$.rotation+Math.PI/2,offset:P[0],r:0},{rotate:$.rotation-Math.PI/2,offset:P[1],r:Math.sqrt((B[0]-z[0])*(B[0]-z[0])+(B[1]-z[1])*(B[1]-z[1]))}],function(L,v){if(T[v]!=="none"&&T[v]!=null){var f=y5(T[v],-j/2,-E/2,j,E,R.stroke,!0),_=L.r+L.offset,M=A?z:B;f.attr({rotation:L.rotate,x:M[0]+_*Math.cos($.rotation),y:M[1]-_*Math.sin($.rotation),silent:!0,z2:11}),Y.add(f)}})}},axisTickLabelEstimate:function($,Q,J,K,Y,Z,q,X){var W=J.ensureRecord(K).ready;M0(!W.axisTickLabelDetermine),W.axisTickLabelEstimate=!0;var F=Wb0(Q,Y,X);if(F)Xb0($,Q,J,K,Y,Z,q,r9.estimate)},axisTickLabelDetermine:function($,Q,J,K,Y,Z,q,X){var W=J.ensureRecord(K).ready;W.axisTickLabelDetermine=!0;var F=Wb0(Q,Y,X);if(F)Xb0($,Q,J,K,Y,Z,q,r9.determine);var H=lC1($,Y,Z,K);nC1($,Q.labelLayoutList,H),rC1($,Y,Z,K,$.tickDirection)},axisName:function($,Q,J,K,Y,Z,q,X){var W=J.ensureRecord(K),F=W.ready;if(M0(F.axisTickLabelEstimate||F.axisTickLabelDetermine),F.axisName=!0,Q.nameEl)Y.remove(Q.nameEl),Q.nameEl=W.nameLayout=W.nameLocation=null;var H=$.axisName;if(!$00(H))return;var{nameLocation:B,nameDirection:z}=$,A=K.getModel("nameTextStyle"),R=K.get("nameGap")||0,G=K.axis.getExtent(),O=K.axis.inverse?-1:1,T=new Z1(0,0),D=new Z1(0,0);if(B==="start")T.x=G[0]-O*R,D.x=-O;else if(B==="end")T.x=G[1]+O*R,D.x=O;else T.x=(G[0]+G[1])/2,T.y=$.labelOffset+z*R,D.y=z;var P=V6();D.transform(V4(P,P,$.rotation));var j=K.get("nameRotate");if(j!=null)j=j*B2/180;var E,L;if(X2(B))E=pU.innerTextLayout($.rotation,j!=null?j:$.rotation,z);else if(E=pC1($.rotation,B,j||0,G),L=$.raw.axisNameAvailableWidth,L!=null)L=Math.abs(L/Math.sin(E.rotation)),!isFinite(L)&&(L=null);var v=A.getFont(),f=K.get("nameTruncate",!0)||{},_=f.ellipsis,M=J6($.raw.nameTruncateMaxWidth,f.maxWidth,L),b=X.nameMarginLevel||0,x=new j1({x:T.x,y:T.y,rotation:E.rotation,silent:pU.isLabelSilent(K),style:A5(A,{text:H,font:v,overflow:"truncate",width:M,ellipsis:_,fill:A.getTextColor()||K.get(["axisLine","lineStyle","color"]),align:A.get("align")||E.textAlign,verticalAlign:A.get("verticalAlign")||E.textVerticalAlign}),z2:1});if(D4({el:x,componentModel:K,itemName:H}),x.__fullText=H,x.anid="name",K.get("triggerEvent")){var g=pU.makeAxisEventDataBase(K);g.targetType="axisName",g.name=H,r0(x).eventData=g}Z.add(x),x.updateTransform(),Q.nameEl=x;var m=W.nameLayout=NJ({label:x,priority:x.z2,defaultAttr:{ignore:x.ignore},marginDefault:X2(B)?yC1[b]:xC1[b]});if(W.nameLocation=B,Y.add(x),x.decomposeTransform(),$.shouldNameMoveOverlap&&m){var u=J.ensureRecord(K);M0(u.labelInfoList),J.resolveAxisNameOverlap($,J,K,m,D,u)}}};yZ=new X1,oC1=new X1;J4=pU});function uT($,Q,J){J=J||{};var K=Q.axis,Y={},Z=K.getAxesOnZeroOf()[0],q=K.position,X=Z?"onZero":q,W=K.dim,F=[$.x,$.x+$.width,$.y,$.y+$.height],H={left:0,right:1,top:0,bottom:1,onZero:2},B=Q.get("offset")||0,z=W==="x"?[F[2]-B,F[3]+B]:[F[0]-B,F[1]+B];if(Z){var A=Z.toGlobalCoord(Z.dataToCoord(0));z[H.onZero]=Math.max(Math.min(A,z[1]),z[0])}Y.position=[W==="y"?z[H[X]]:F[0],W==="x"?z[H[X]]:F[3]],Y.rotation=Math.PI/2*(W==="x"?0:1);var R={top:-1,bottom:1,left:-1,right:1};if(Y.labelDirection=Y.tickDirection=Y.nameDirection=R[q],Y.labelOffset=Z?z[H[q]]-z[H.onZero]:0,Q.get(["axisTick","inside"]))Y.tickDirection=-Y.tickDirection;if(J6(J.labelInside,Q.get(["axisLabel","inside"])))Y.labelDirection=-Y.labelDirection;var G=Q.get(["axisLabel","rotate"]);return Y.labelRotate=X==="top"?-G:G,Y.z2=1,Y}function Bb0($){return $.coordinateSystem&&$.coordinateSystem.type==="cartesian2d"}function Q00($){var Q={xAxisModel:null,yAxisModel:null};return S(Q,function(J,K){var Y=K.replace(/Model$/,""),Z=$.getReferringComponents(Y,L5).models[0];if(!Z)throw Error(Y+' "'+v6($.get(Y+"Index"),$.get(Y+"Id"),0)+'" not found');Q[K]=Z}),Q}function zb0($,Q,J,K,Y,Z){var q=uT($,J),X=!1,W=!1;for(var F=0;F<Q.length;F++)if(zT(Q[F].getOtherAxis(J.axis).scale)){if(X=W=!0,J.axis.type==="category"&&J.axis.onBand)W=!1}return q.axisLineAutoShow=X,q.axisTickAutoShow=W,q.defaultNameMoveOverlap=Z,new J4(J,K,q,Y)}function Ab0($,Q,J){var K=uT(Q,J),Y=$.__getRawCfg();S(N1(K),function(Z){if(Z!=="position"&&Z!=="labelOffset")M0(K[Z]===Y[Z])}),$.updateCfg(K)}var J00=h(()=>{l();l0();eK();fZ()});function uf($,Q,J){var K,Y=l9.prototype,Z=Y.getTicks.call(J),q=Y.getTicks.call(J,{expandToNicedExtent:!0}),X=Z.length-1,W=Y.getInterval.call(J),F=_t($,Q),H=F.extent,B=F.fixMin,z=F.fixMax;if($.type==="log")H=AT($.base,H,!0);$.setBreaksFromOption(ft(Q)),$.setExtent(H[0],H[1]),$.calcNiceExtent({splitNumber:X,fixMin:B,fixMax:z});var A=Y.getExtent.call($);if(B)H[0]=A[0];if(z)H[1]=A[1];var R=Y.getInterval.call($),G=H[0],O=H[1];if(B&&z)R=(O-G)/X;else if(B){O=H[0]+R*X;while(O<H[1]&&isFinite(O)&&isFinite(H[1]))R=o_(R),O=H[0]+R*X}else if(z){G=H[1]-R*X;while(G>H[0]&&isFinite(G)&&isFinite(H[0]))R=o_(R),G=H[1]-R*X}else{var T=$.getTicks().length-1;if(T>X)R=o_(R);var D=R*X;if(O=Math.ceil(H[1]/R)*R,G=Z6(O-D),G<0&&H[0]>=0)G=0,O=Z6(D);else if(O>0&&H[1]<=0)O=0,G=-Z6(D)}var P=(Z[0].value-q[0].value)/W,j=(Z[X].value-q[X].value)/W;if(Y.setExtent.call($,G+R*P,O+R*j),Y.setInterval.call($,R),P||j)Y.setNiceExtent.call($,G+R,O-R);var E=Y.getTicks.call($);if(E[1]&&(!Bf0(R)||Iv(E[1].value)>Iv(R)))S5("The ticks may be not readable when set min: "+Q.get("min")+", max: "+Q.get("max")+(" and alignTicks: true. ("+((K=Q.axis)===null||K===void 0?void 0:K.dim)+"AxisIndex: "+Q.componentIndex+")"),!0)}var K00=h(()=>{k1();fU();M3();N5();fZ()});function Y00($,Q){return $.getCoordSysModel()===Q}function Rb0($,Q,J,K){J.getAxesOnZeroOf=function(){return Z?[Z]:[]};var Y=$[Q],Z,q=J.model,X=q.get(["axisLine","onZero"]),W=q.get(["axisLine","onZeroAxisIndex"]);if(!X)return;if(W!=null){if(Gb0(Y[W]))Z=Y[W]}else for(var F in Y)if(Y.hasOwnProperty(F)&&Gb0(Y[F])&&!K[H(Y[F])]){Z=Y[F];break}if(Z)K[H(Z)]=!0;function H(B){return B.dim+"_"+B.index}}function Gb0($){return $&&$.type!=="category"&&$.type!=="time"&&Sf0($)}function QP1($,Q){var J=$.getExtent(),K=J[0]+J[1];$.toGlobalCoord=$.dim==="x"?function(Y){return Y+Q}:function(Y){return K-Y+Q},$.toLocalCoord=$.dim==="x"?function(Y){return Y-Q}:function(Y){return K-Y+Q}}function Z00($,Q){S($.x,function(J){return Ob0(J,Q.x,Q.width)}),S($.y,function(J){return Ob0(J,Q.y,Q.height)})}function Ob0($,Q,J){var K=[0,J],Y=$.inverse?1:0;$.setExtent(K[Y],K[1-Y]),QP1($,Q)}function Tb0($){q00=$}function wb0($,Q,J,K,Y,Z,q){M0(Q==="all"||Q==="axisLabel"),Db0(K,Y,r9.estimate,Q,!1,q);var X=[0,0,0,0];F(0),F(1),H(K,0,NaN),H(K,1,NaN);var W=mQ(X,function(z){return z>0})==null;return d$(K,X,!0,!0,J),Z00(Y,K),W;function F(z){S(Y[D1[z]],function(A){if(!IU(A.model))return;var R=Z.ensureRecord(A.model),G=R.labelInfoList;if(G)for(var O=0;O<G.length;O++){var T=G[O],D=A.scale.normalize(dU(T.label).tickValue);D=z===1?1-D:D,H(T.rect,z,D),H(T.rect,1-z,NaN)}var P=R.nameLayout;if(P){var D=X2(R.nameLocation)?0.5:NaN;H(P.rect,z,D),H(P.rect,1-z,NaN)}})}function H(z,A,R){var G=$[D1[A]]-z[D1[A]],O=z[p6[A]]+z[D1[A]]-($[p6[A]]+$[D1[A]]);G=B(G,1-R),O=B(O,R);var T=Vb0[A][0],D=Vb0[A][1];X[T]=c6(X[T],G),X[D]=c6(X[D],O)}function B(z,A){if(z>0&&!h6(A)&&A>0.0001)z/=A;return z}}function JP1($,Q,J,K,Y){var Z=new ae(YP1);return S(J,function(q){return S(q,function(X){if(IU(X.model)){var W=!K;X.axisBuilder=zb0($,Q,X.model,Y,Z,W)}})}),Z}function Db0($,Q,J,K,Y,Z){var q=J===r9.determine;S(Q,function(F){return S(F,function(H){if(IU(H.model))Ab0(H.axisBuilder,$,H.model),H.axisBuilder.build(q?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:Y})})});var X={x:0,y:0};W(0),W(1);function W(F){X[D1[1-F]]=$[p6[F]]<=Z.refContainer[p6[F]]*0.5?0:1-F===1?2:1}S(Q,function(F,H){return S(F,function(B){if(IU(B.model)){if(K==="all"||q)B.axisBuilder.build({axisName:!0},{nameMarginLevel:X[H]});if(q)B.axisBuilder.build({axisLine:!0})}})})}function KP1($,Q,J){var K,Y=$.get("outerBoundsMode",!0);if(Y==="same")K=Q.clone();else if(Y==null||Y==="auto")K=X5($.get("outerBounds",!0)||ce,J.refContainer);else if(Y!=="none")S1("Invalid grid["+$.componentIndex+"].outerBoundsMode.");var Z=$.get("outerBoundsContain",!0),q;if(Z==null||Z==="auto")q="all";else if(J1(["all","axisLabel"],Z)<0)S1("Invalid grid["+$.componentIndex+"].outerBoundsContain."),q="all";else q=Z;var X=[Fz(g0($.get("outerBoundsClampWidth",!0),gT[0]),Q.width),Fz(g0($.get("outerBoundsClampHeight",!0),gT[1]),Q.height)];return{outerBoundsRect:K,parsedOuterBoundsContain:q,outerBoundsClamp:X}}var Vb0,$P1,q00,YP1=function($,Q,J,K,Y,Z){var q=J.axis.dim==="x"?"y":"x";if(te($,Q,J,K,Y,Z),!X2($.nameLocation))S(Q.recordMap[q],function(X){if(X&&X.labelInfoList&&X.dirVec)ee(X.labelInfoList,X.dirVec,K,Y)})},Cb0;var X00=h(()=>{l();l5();M3();Zb0();ne();l0();ue();J00();fZ();K00();a0();eK();N5();Nf();c9();k1();Vb0=[[3,1],[0,2]],$P1=function(){function $(Q,J,K){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=gf,this._initCartesian(Q,J,K),this.model=Q}return $.prototype.getRect=function(){return this._rect},$.prototype.update=function(Q,J){var K=this._axesMap;this._updateScale(Q,this.model);function Y(q){var X,W=N1(q),F=W.length;if(!F)return;var H=[];for(var B=F-1;B>=0;B--){var z=+W[B],A=q[z],R=A.model,G=A.scale;if(zT(G)&&R.get("alignTicks")&&R.get("interval")==null)H.push(A);else if(lK(G,R),zT(G))X=A}if(H.length){if(!X)X=H.pop(),lK(X.scale,X.model);S(H,function(O){uf(O.scale,O.model,X.scale)})}}Y(K.x),Y(K.y);var Z={};S(K.x,function(q){Rb0(K,"y",q,Z)}),S(K.y,function(q){Rb0(K,"x",q,Z)}),this.resize(this.model,J)},$.prototype.resize=function(Q,J,K){var Y=_5(Q,J),Z=this._rect=X5(Q.getBoxLayoutParams(),Y.refContainer),q=this._axesMap,X=this._coordsList,W=Q.get("containLabel");if(Z00(q,Z),!K){var F=JP1(Z,X,q,W,J),H=void 0;if(W)if(q00)q00(this._axesList,Z),Z00(q,Z);else cv("Specified `grid.containLabel` but no `use(LegacyGridContainLabel)`;use `grid.outerBounds` instead.",!0),H=wb0(Z.clone(),"axisLabel",null,Z,q,F,Y);else{var B=KP1(Q,Z,Y),z=B.outerBoundsRect,A=B.parsedOuterBoundsContain,R=B.outerBoundsClamp;if(z)H=wb0(z,A,R,Z,q,F,Y)}Db0(Z,q,r9.determine,null,H,Y)}S(this._coordsList,function(G){G.calcAffineTransform()})},$.prototype.getAxis=function(Q,J){var K=this._axesMap[Q];if(K!=null)return K[J||0]},$.prototype.getAxes=function(){return this._axesList.slice()},$.prototype.getCartesian=function(Q,J){if(Q!=null&&J!=null){var K="x"+Q+"y"+J;return this._coordsMap[K]}if(y0(Q))J=Q.yAxisIndex,Q=Q.xAxisIndex;for(var Y=0,Z=this._coordsList;Y<Z.length;Y++)if(Z[Y].getAxis("x").index===Q||Z[Y].getAxis("y").index===J)return Z[Y]},$.prototype.getCartesians=function(){return this._coordsList.slice()},$.prototype.convertToPixel=function(Q,J,K){var Y=this._findConvertTarget(J);return Y.cartesian?Y.cartesian.dataToPoint(K):Y.axis?Y.axis.toGlobalCoord(Y.axis.dataToCoord(K)):null},$.prototype.convertFromPixel=function(Q,J,K){var Y=this._findConvertTarget(J);return Y.cartesian?Y.cartesian.pointToData(K):Y.axis?Y.axis.coordToData(Y.axis.toLocalCoord(K)):null},$.prototype._findConvertTarget=function(Q){var J=Q.seriesModel,K=Q.xAxisModel||J&&J.getReferringComponents("xAxis",L5).models[0],Y=Q.yAxisModel||J&&J.getReferringComponents("yAxis",L5).models[0],Z=Q.gridModel,q=this._coordsList,X,W;if(J)X=J.coordinateSystem,J1(q,X)<0&&(X=null);else if(K&&Y)X=this.getCartesian(K.componentIndex,Y.componentIndex);else if(K)W=this.getAxis("x",K.componentIndex);else if(Y)W=this.getAxis("y",Y.componentIndex);else if(Z){var F=Z.coordinateSystem;if(F===this)X=this._coordsList[0]}return{cartesian:X,axis:W}},$.prototype.containPoint=function(Q){var J=this._coordsList[0];if(J)return J.containPoint(Q)},$.prototype._initCartesian=function(Q,J,K){var Y=this,Z=this,q={left:!1,right:!1,top:!1,bottom:!1},X={x:{},y:{}},W={x:0,y:0};if(J.eachComponent("xAxis",F("x"),this),J.eachComponent("yAxis",F("y"),this),!W.x||!W.y){this._axesMap={},this._axesList=[];return}this._axesMap=X,S(X.x,function(H,B){S(X.y,function(z,A){var R="x"+B+"y"+A,G=new Yb0(R);G.master=Y,G.model=Q,Y._coordsMap[R]=G,Y._coordsList.push(G),G.addAxis(H),G.addAxis(z)})});function F(H){return function(B,z){if(!Y00(B,Q))return;var A=B.get("position");if(H==="x"){if(A!=="top"&&A!=="bottom")A=q.bottom?"top":"bottom"}else if(A!=="left"&&A!=="right")A=q.left?"right":"left";q[A]=!0;var R=new yf(H,Z2(B),[0,0],B.get("type"),A),G=R.type==="category";R.onBand=G&&B.get("boundaryGap"),R.inverse=B.get("inverse"),B.axis=R,R.model=B,R.grid=Z,R.index=z,Z._axesList.push(R),X[H][z]=R,W[H]++}}},$.prototype._updateScale=function(Q,J){S(this._axesList,function(Y){if(Y.scale.setExtent(1/0,-1/0),Y.type==="category"){var Z=Y.model.get("categorySortInfo");Y.scale.setSortInfo(Z)}}),Q.eachSeries(function(Y){if(Bb0(Y)){var Z=Q00(Y),q=Z.xAxisModel,X=Z.yAxisModel;if(!Y00(q,J)||!Y00(X,J))return;var W=this.getCartesian(q.componentIndex,X.componentIndex),F=Y.getData(),H=W.getAxis("x"),B=W.getAxis("y");K(F,H),K(F,B)}},this);function K(Y,Z){S(oz(Y,Z.dim),function(q){Z.scale.unionExtentFromData(Y,q)})}},$.prototype.getTooltipAxes=function(Q){var J=[],K=[];return S(this.getCartesians(),function(Y){var Z=Q!=null&&Q!=="auto"?Y.getAxis(Q):Y.getBaseAxis(),q=Y.getOtherAxis(Z);J1(J,Z)<0&&J.push(Z),J1(K,q)<0&&K.push(q)}),{baseAxes:J,otherAxes:K}},$.create=function(Q,J){var K=[];return Q.eachComponent("grid",function(Y,Z){var q=new $(Y,Q,J);q.name="grid_"+Z,q.resize(Y,J,!0),Y.coordinateSystem=q,K.push(q)}),Q.eachSeries(function(Y){uK({targetModel:Y,coordSysType:"cartesian2d",coordSysProvider:Z});function Z(){var q=Q00(Y),X=q.xAxisModel,W=q.yAxisModel,F=X.getCoordSysModel();if(!F)throw Error('Grid "'+v6(X.get("gridIndex"),X.get("gridId"),0)+'" not found');if(X.getCoordSysModel()!==W.getCoordSysModel())throw Error("xAxis and yAxis must use the same grid");var H=F.coordinateSystem;return H.getCartesian(X.componentIndex,W.componentIndex)}}),K},$.dimensions=gf,$}();Cb0=$P1});function Pb0($,Q){var J={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return ZP1(J,$,Q),J.seriesInvolved&&XP1(J,$),J}function ZP1($,Q,J){var K=Q.getComponent("tooltip"),Y=Q.getComponent("axisPointer"),Z=Y.get("link",!0)||[],q=[];S(J.getCoordinateSystems(),function(X){if(!X.axisPointerEnabled)return;var W=UA(X.model),F=$.coordSysAxesInfo[W]={};$.coordSysMap[W]=X;var H=X.model,B=H.getModel("tooltip",K);if(S(X.getAxes(),K1(G,!1,null)),X.getTooltipAxes&&K&&B.get("show")){var z=B.get("trigger")==="axis",A=B.get(["axisPointer","type"])==="cross",R=X.getTooltipAxes(B.get(["axisPointer","axis"]));if(z||A)S(R.baseAxes,K1(G,A?"cross":!0,z));if(A)S(R.otherAxes,K1(G,"cross",!1))}function G(O,T,D){var P=D.model.getModel("axisPointer",Y),j=P.get("show");if(!j||j==="auto"&&!O&&!F00(P))return;if(T==null)T=P.get("triggerTooltip");P=O?qP1(D,B,Y,Q,O,T):P;var E=P.get("snap"),L=P.get("triggerEmphasis"),v=UA(D.model),f=T||E||D.type==="category",_=$.axesInfo[v]={key:v,axis:D,coordSys:X,axisPointerModel:P,triggerTooltip:T,triggerEmphasis:L,involveSeries:f,snap:E,useHandle:F00(P),seriesModels:[],linkGroup:null};F[v]=_,$.seriesInvolved=$.seriesInvolved||f;var M=WP1(Z,D);if(M!=null){var b=q[M]||(q[M]={axesInfo:{}});b.axesInfo[v]=_,b.mapper=Z[M].mapper,_.linkGroup=b}}})}function qP1($,Q,J,K,Y,Z){var q=Q.getModel("axisPointer"),X=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],W={};if(S(X,function(z){W[z]=m0(q.get(z))}),W.snap=$.type!=="category"&&!!Z,q.get("type")==="cross")W.type="line";var F=W.label||(W.label={});if(F.show==null&&(F.show=!1),Y==="cross"){var H=q.get(["label","show"]);if(F.show=H!=null?H:!0,!Z){var B=W.lineStyle=q.get("crossStyle");B&&c0(F,B.textStyle)}}return $.model.getModel("axisPointer",new h1(W,J,K))}function XP1($,Q){Q.eachSeries(function(J){var K=J.coordinateSystem,Y=J.get(["tooltip","trigger"],!0),Z=J.get(["tooltip","show"],!0);if(!K||!K.model||Y==="none"||Y===!1||Y==="item"||Z===!1||J.get(["axisPointer","show"],!0)===!1)return;S($.coordSysAxesInfo[UA(K.model)],function(q){var X=q.axis;if(K.getAxis(X.dim)===X)q.seriesModels.push(J),q.seriesDataCount==null&&(q.seriesDataCount=0),q.seriesDataCount+=J.getData().count()})})}function WP1($,Q){var{model:J,dim:K}=Q;for(var Y=0;Y<$.length;Y++){var Z=$[Y]||{};if(W00(Z[K+"AxisId"],J.id)||W00(Z[K+"AxisIndex"],J.componentIndex)||W00(Z[K+"AxisName"],J.name))return Y}}function W00($,Q){return $==="all"||Z0($)&&J1($,Q)>=0||$===Q}function kb0($){var Q=mf($);if(!Q)return;var J=Q.axisPointerModel,K=Q.axis.scale,Y=J.option,Z=J.get("status"),q=J.get("value");if(q!=null)q=K.parse(q);var X=F00(J);if(Z==null)Y.status=X?"show":"hide";var W=K.getExtent().slice();if(W[0]>W[1]&&W.reverse(),q==null||q>W[1])q=W[1];if(q<W[0])q=W[0];if(Y.value=q,X)Y.status=Q.axis.scale.isBlank()?"hide":"show"}function mf($){var Q=($.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return Q&&Q.axesInfo[UA($)]}function jb0($){var Q=mf($);return Q&&Q.axisPointerModel}function F00($){return!!$.get(["handle","show"])}function UA($){return $.type+"||"+$.id}var mT=h(()=>{K7();l()});var H00,FP1,i9;var z2=h(()=>{H0();mT();a6();H00={},FP1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y,Z){this.axisPointerClass&&kb0(J),$.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(J,Y,!0)},Q.prototype.updateAxisPointer=function(J,K,Y,Z){this._doUpdateAxisPointerClass(J,Y,!1)},Q.prototype.remove=function(J,K){var Y=this._axisPointer;Y&&Y.remove(K)},Q.prototype.dispose=function(J,K){this._disposeAxisPointer(K),$.prototype.dispose.apply(this,arguments)},Q.prototype._doUpdateAxisPointerClass=function(J,K,Y){var Z=Q.getAxisPointerClass(this.axisPointerClass);if(!Z)return;var q=jb0(J);q?(this._axisPointer||(this._axisPointer=new Z)).render(J,q,K,Y):this._disposeAxisPointer(K)},Q.prototype._disposeAxisPointer=function(J){this._axisPointer&&this._axisPointer.dispose(J),this._axisPointer=null},Q.registerAxisPointerClass=function(J,K){if(H00[J])throw Error("axisPointer "+J+" exists");H00[J]=K},Q.getAxisPointerClass=function(J){return J&&H00[J]},Q.type="axis",Q}(a1),i9=FP1});function pf($,Q,J,K){var Y=J.axis;if(Y.scale.isBlank())return;var Z=J.getModel("splitArea"),q=Z.getModel("areaStyle"),X=q.get("color"),W=K.coordinateSystem.getRect(),F=Y.getTicksCoords({tickModel:Z,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(!F.length)return;var H=X.length,B=N00($).splitAreaColors,z=_0(),A=0;if(B)for(var R=0;R<F.length;R++){var G=B.get(F[R].tickValue);if(G!=null){A=(G+(H-1)*R)%H;break}}var O=Y.toGlobalCoord(F[0].coord),T=q.getAreaStyle();X=Z0(X)?X:[X];for(var R=1;R<F.length;R++){var D=Y.toGlobalCoord(F[R].coord),P=void 0,j=void 0,E=void 0,L=void 0;if(Y.isHorizontal())P=O,j=W.y,E=D-P,L=W.height,O=P+E;else P=W.x,j=O,E=W.width,L=D-j,O=j+L;var v=F[R-1].tickValue;v!=null&&z.set(v,A),Q.add(new X1({anid:v!=null?"area_"+v:null,shape:{x:P,y:j,width:E,height:L},style:c0({fill:X[A]},T),autoBatch:!0,silent:!0})),A=(A+1)%H}N00($).splitAreaColors=z}function df($){N00($).splitAreaColors=null}var N00;var B00=h(()=>{l();a0();l0();N00=o0()});var UP1,Eb0,HP1,z00,Lb0;var hb0=h(()=>{H0();l();a0();z2();B00();M3();UP1=["splitArea","splitLine","minorSplitLine","breakArea"],Eb0=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.axisPointerClass="CartesianAxisPointer",J}return Q.prototype.render=function(J,K,Y,Z){this.group.removeAll();var q=this._axisGroup;if(this._axisGroup=new b0,this.group.add(this._axisGroup),!IU(J))return;this._axisGroup.add(J.axis.axisBuilder.group),S(UP1,function(W){if(J.get([W,"show"]))HP1[W](this,this._axisGroup,J,J.getCoordSysModel(),Y)},this);var X=Z&&Z.type==="changeAxisOrder"&&Z.isInitSort;if(!X)TZ(q,this._axisGroup,J);$.prototype.render.call(this,J,K,Y,Z)},Q.prototype.remove=function(){df(this)},Q.type="cartesianAxis",Q}(i9),HP1={splitLine:function($,Q,J,K,Y){var Z=J.axis;if(Z.scale.isBlank())return;var q=J.getModel("splitLine"),X=q.getModel("lineStyle"),W=X.get("color"),F=q.get("showMinLine")!==!1,H=q.get("showMaxLine")!==!1;W=Z0(W)?W:[W];var B=K.coordinateSystem.getRect(),z=Z.isHorizontal(),A=0,R=Z.getTicksCoords({tickModel:q,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),G=[],O=[],T=X.getLineStyle();for(var D=0;D<R.length;D++){var P=Z.toGlobalCoord(R[D].coord);if(D===0&&!F||D===R.length-1&&!H)continue;var j=R[D].tickValue;if(z)G[0]=P,G[1]=B.y,O[0]=P,O[1]=B.y+B.height;else G[0]=B.x,G[1]=P,O[0]=B.x+B.width,O[1]=P;var E=A++%W.length,L=new X6({anid:j!=null?"line_"+j:null,autoBatch:!0,shape:{x1:G[0],y1:G[1],x2:O[0],y2:O[1]},style:c0({stroke:W[E]},T),silent:!0});wZ(L.shape,T.lineWidth),Q.add(L)}},minorSplitLine:function($,Q,J,K,Y){var Z=J.axis,q=J.getModel("minorSplitLine"),X=q.getModel("lineStyle"),W=K.coordinateSystem.getRect(),F=Z.isHorizontal(),H=Z.getMinorTicksCoords();if(!H.length)return;var B=[],z=[],A=X.getLineStyle();for(var R=0;R<H.length;R++)for(var G=0;G<H[R].length;G++){var O=Z.toGlobalCoord(H[R][G].coord);if(F)B[0]=O,B[1]=W.y,z[0]=O,z[1]=W.y+W.height;else B[0]=W.x,B[1]=O,z[0]=W.x+W.width,z[1]=O;var T=new X6({anid:"minor_line_"+H[R][G].tickValue,autoBatch:!0,shape:{x1:B[0],y1:B[1],x2:z[0],y2:z[1]},style:A,silent:!0});wZ(T.shape,A.lineWidth),Q.add(T)}},splitArea:function($,Q,J,K,Y){pf($,Q,J,K)},breakArea:function($,Q,J,K,Y){var Z=gZ(),q=J.axis.scale;if(Z&&q.type!=="ordinal")Z.rectCoordBuildBreakAxis(Q,$,J,K.coordinateSystem.getRect(),Y)}},z00=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="xAxis",Q}(Eb0),Lb0=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=z00.type,J}return Q.type="yAxis",Q}(Eb0)});function nf($){$.registerComponentView(NP1),$.registerComponentModel(iM0),$.registerCoordinateSystem("cartesian2d",Cb0),AJ($,"x",Mf,vb0),AJ($,"y",Mf,vb0),$.registerComponentView(z00),$.registerComponentView(Lb0),$.registerPreprocessor(function(Q){if(Q.xAxis&&Q.yAxis&&!Q.grid)Q.grid={}})}var NP1,vb0;var A00=h(()=>{H0();a6();ue();a0();l();sM0();yT();X00();hb0();NP1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type="grid",J}return Q.prototype.render=function(J,K){if(this.group.removeAll(),J.get("show"))this.group.add(new X1({shape:J.coordinateSystem.getRect(),style:c0({fill:J.get("backgroundColor")},J.getItemStyle()),silent:!0,z2:-1}))},Q.type="grid",Q}(a1),vb0={offset:0}});function _b0($,Q){var J=$.coordinateSystem,K=J&&J.type,Y=J&&J.getBaseAxis&&J.getBaseAxis(),Z=Y&&Y.scale&&Y.scale.type,q=K==="cartesian2d"&&Z==="ordinal"||K==="single",X=Q.model.get("jitter")>0;return q&&X}function V00($,Q,J,K){if($ instanceof yf){var Y=$.scale.type;if(Y!=="category"&&Y!=="ordinal")return J}var Z=$.model,q=Z.get("jitter"),X=Z.get("jitterOverlap"),W=Z.get("jitterMargin")||0,F=$.scale.type==="ordinal"?$.getBandWidth():null;if(q>0)if(X)return fb0(J,q,F,K);else return zP1($,Q,J,K,q,W);return J}function fb0($,Q,J,K){if(J===null)return $+(Math.random()-0.5)*Q;var Y=J-K*2,Z=Math.min(Math.max(0,Q),Y);return $+(Math.random()-0.5)*Z}function zP1($,Q,J,K,Y,Z){var q=BP1($);if(!q.items)q.items=[];var X=q.items,W=Sb0(X,Q,J,K,Y,Z,1),F=Sb0(X,Q,J,K,Y,Z,-1),H=Math.abs(W-J)<Math.abs(F-J)?W:F,B=$.scale.type==="ordinal"?$.getBandWidth():null,z=Math.abs(H-J);if(z>Y/2||B&&z>B/2-K)return fb0(J,Y,B,K);return X.push({fixedCoord:Q,floatCoord:H,r:K}),H}function Sb0($,Q,J,K,Y,Z,q){var X=J;for(var W=0;W<$.length;W++){var F=$[W],H=Q-F.fixedCoord,B=X-F.floatCoord,z=H*H+B*B,A=K+F.r+Z;if(z<A*A){var R=F.floatCoord+Math.sqrt(A*A-H*H)*q;if(Math.abs(R-J)>Y/2)return Number.MAX_VALUE;if(q===1&&R>X||q===-1&&R<X){X=R,W=-1;continue}}}return X}var BP1;var Ib0=h(()=>{ne();l0();BP1=o0()});function R00($){$.eachSeriesByType("scatter",function(Q){var J=Q.coordinateSystem;if(J&&(J.type==="cartesian2d"||J.type==="single")){var K=J.getBaseAxis?J.getBaseAxis():null,Y=K&&_b0(Q,K);if(Y){var Z=Q.getData();Z.each(function(q){var{dim:X,orient:W}=K,F=W==="horizontal"&&K.type!=="category"||W==="vertical"&&K.type==="category",H=Z.getItemLayout(q),B=Z.getItemVisual(q,"symbolSize"),z=B instanceof Array?(B[1]+B[0])/2:B;if(X==="y"||X==="single"&&F){var A=V00(K,H[0],H[1],z/2);Z.setItemLayout(q,[H[0],A])}else if(X==="x"||X==="single"&&!F){var A=V00(K,H[1],H[0],z/2);Z.setItemLayout(q,[A,H[1]])}})}}})}var Mb0=h(()=>{Ib0()});function G00($){T1(nf),$.registerSeriesModel(uM0),$.registerChartView(lM0),$.registerLayout(zJ("scatter"))}function O00($){$.registerLayout($.PRIORITY.VISUAL.POST_CHART_LAYOUT,R00)}var w00=h(()=>{E4();mM0();rM0();A00();ZA();Mb0()});function T00($){$.eachSeriesByType("radar",function(Q){var J=Q.getData(),K=[],Y=Q.coordinateSystem;if(!Y)return;var Z=Y.getIndicatorAxes();S(Z,function(q,X){J.each(J.mapDimension(Z[X].dim),function(W,F){K[F]=K[F]||[];var H=Y.dataToPoint(W,X);K[F][X]=bb0(H)?H:gb0(Y)})}),J.each(function(q){var X=mQ(K[q],function(W){return bb0(W)})||gb0(Y);K[q].push(X.slice()),J.setItemLayout(q,K[q])})})}function bb0($){return!isNaN($[0])&&!isNaN($[1])}function gb0($){return[$.cx,$.cy]}var yb0=h(()=>{l()});function D00($){var Q=$.polar;if(Q){if(!Z0(Q))Q=[Q];var J=[];S(Q,function(K,Y){if(K.indicator){if(K.type&&!K.shape)K.shape=K.type;if($.radar=$.radar||[],!Z0($.radar))$.radar=[$.radar];$.radar.push(K)}else J.push(K)}),$.polar=J}S($.series,function(K){if(K&&K.type==="radar"&&K.polarIndex)K.radarIndex=K.polarIndex})}var xb0=h(()=>{l()});var AP1,cb0;var ub0=h(()=>{H0();a0();M5();l();S8();t6();g5();u$();h8();AP1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){var Z=J.coordinateSystem,q=this.group,X=J.getData(),W=this._data;function F(z,A){var R=z.getItemVisual(A,"symbol")||"circle";if(R==="none")return;var G=XJ(z.getItemVisual(A,"symbolSize")),O=y5(R,-1,-1,2,2),T=z.getItemVisual(A,"symbolRotate")||0;return O.attr({style:{strokeNoScale:!0},z2:100,scaleX:G[0]/2,scaleY:G[1]/2,rotation:T*Math.PI/180||0}),O}function H(z,A,R,G,O,T){R.removeAll();for(var D=0;D<A.length-1;D++){var P=F(G,O);if(P){if(P.__dimIdx=D,z[D])P.setPosition(z[D]),G1[T?"initProps":"updateProps"](P,{x:A[D][0],y:A[D][1]},J,O);else P.setPosition(A[D]);R.add(P)}}}function B(z){return q0(z,function(A){return[Z.cx,Z.cy]})}X.diff(W).add(function(z){var A=X.getItemLayout(z);if(!A)return;var R=new S6,G=new G6,O={shape:{points:A}};R.shape.points=B(A),G.shape.points=B(A),q5(R,O,J,z),q5(G,O,J,z);var T=new b0,D=new b0;T.add(G),T.add(R),T.add(D),H(G.shape.points,A,D,X,z,!0),X.setItemGraphicEl(z,T)}).update(function(z,A){var R=W.getItemGraphicEl(A),G=R.childAt(0),O=R.childAt(1),T=R.childAt(2),D={shape:{points:X.getItemLayout(z)}};if(!D.shape.points)return;H(G.shape.points,D.shape.points,T,X,z,!1),T7(O),T7(G),C1(G,D,J),C1(O,D,J),X.setItemGraphicEl(z,R)}).remove(function(z){q.remove(W.getItemGraphicEl(z))}).execute(),X.eachItemGraphicEl(function(z,A){var R=X.getItemModel(A),G=z.childAt(0),O=z.childAt(1),T=z.childAt(2),D=X.getItemVisual(A,"style"),P=D.fill;q.add(z),G.useStyle(c0(R.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:P})),a5(G,R,"lineStyle"),a5(O,R,"areaStyle");var j=R.getModel("areaStyle"),E=j.isEmpty()&&j.parentModel.isEmpty();O.ignore=E,S(["emphasis","select","blur"],function(v){var f=R.getModel([v,"areaStyle"]),_=f.isEmpty()&&f.parentModel.isEmpty();O.ensureState(v).ignore=_&&E;var M=R.getModel([v,"lineStyle"]).getLineStyle();G.ensureState(v).style=M;var b=f.getAreaStyle();O.ensureState(v).style=b;var x=R.getModel([v,"itemStyle"]).getItemStyle();T.eachChild(function(g){g.ensureState(v).style=m0(x)})}),O.useStyle(c0(R.getModel("areaStyle").getAreaStyle(),{fill:P,opacity:0.7,decal:D.decal}));var L=R.getModel("emphasis");T.eachChild(function(v){if(v instanceof q6){var f=v.style;v.useStyle(Y0({image:f.image,x:f.x,y:f.y,width:f.width,height:f.height},D))}else v.useStyle(D),v.setColor(P),v.style.strokeNoScale=!0;var _=X.getStore().get(X.getDimensionIndex(v.__dimIdx),A);(_==null||isNaN(_))&&(_=""),p5(v,b5(R),{labelFetcher:X.hostModel,labelDataIndex:A,labelDimIndex:v.__dimIdx,defaultText:_,inheritColor:P,defaultOpacity:D.opacity})}),s1(z,L.get("focus"),L.get("blurScope"),L.get("disabled"))}),this._data=X},Q.prototype.remove=function(){this.group.removeAll(),this._data=null},Q.type="radar",Q}(c1),cb0=AP1});var VP1,mb0;var pb0=h(()=>{H0();o6();uU();l();mU();j4();VP1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.hasSymbolVisual=!0,J}return Q.prototype.init=function(J){$.prototype.init.apply(this,arguments),this.legendVisualProvider=new QQ(P0(this.getData,this),P0(this.getRawData,this))},Q.prototype.getInitialData=function(J,K){return y3(this,{generateCoord:"indicator_",generateCoordCount:1/0})},Q.prototype.formatTooltip=function(J,K,Y){var Z=this.getData(),q=this.coordinateSystem,X=q.getIndicatorAxes(),W=this.getData().getName(J),F=W===""?this.name:W,H=R_(this,J);return $6("section",{header:F,sortBlocks:!0,blocks:q0(X,function(B){var z=Z.get(Z.mapDimension(B.dim),J);return $6("nameValue",{markerType:"subItem",markerColor:H,name:B.name,value:z,sortParam:z})})})},Q.prototype.getTooltipPosition=function(J){if(J!=null){var K=this.getData(),Y=this.coordinateSystem,Z=K.getValues(q0(Y.dimensions,function(F){return K.mapDimension(F)}),J);for(var q=0,X=Z.length;q<X;q++)if(!isNaN(Z[q])){var W=Y.getIndicatorAxes();return Y.coordToPoint(W[q].dataToCoord(Z[q]),q)}}},Q.type="series.radar",Q.dependencies=["radar"],Q.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},Q}(o1),mb0=VP1});function lf($,Q){return c0({show:Q},$)}var pT,RP1,db0;var nb0=h(()=>{H0();l();pe();K7();az();_6();y1();pT=bf.value;RP1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.optionUpdated=function(){var J=this.get("boundaryGap"),K=this.get("splitNumber"),Y=this.get("scale"),Z=this.get("axisLine"),q=this.get("axisTick"),X=this.get("axisLabel"),W=this.get("axisName"),F=this.get(["axisName","show"]),H=this.get(["axisName","formatter"]),B=this.get("axisNameGap"),z=this.get("triggerEvent"),A=q0(this.get("indicator")||[],function(R){if(R.max!=null&&R.max>0&&!R.min)R.min=0;else if(R.min!=null&&R.min<0&&!R.max)R.max=0;var G=W;if(R.color!=null)G=c0({color:R.color},W);var O=F1(m0(R),{boundaryGap:J,splitNumber:K,scale:Y,axisLine:Z,axisTick:q,axisLabel:X,name:R.text,showName:F,nameLocation:"end",nameGap:B,nameTextStyle:G,triggerEvent:z},!1);if(R0(H)){var T=O.name;O.name=H.replace("{value}",T!=null?T:"")}else if(I0(H))O.name=H(O.name,O);var D=new h1(O,null,this.ecModel);return n5(D,rK.prototype),D.mainType="radar",D.componentIndex=this.componentIndex,D},this);this._indicatorModels=A},Q.prototype.getIndicatorModels=function(){return this._indicatorModels},Q.type="radar",Q.defaultOption={z:0,center:["50%","50%"],radius:"50%",startAngle:90,axisName:{show:!0,color:e.color.axisLabel},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:F1({lineStyle:{color:e.color.neutral20}},pT.axisLine),axisLabel:lf(pT.axisLabel,!1),axisTick:lf(pT.axisTick,!1),splitLine:lf(pT.splitLine,!0),splitArea:lf(pT.splitArea,!0),indicator:[]},Q}(O1),db0=RP1});var GP1,lb0;var rb0=h(()=>{H0();l();eK();a0();a6();GP1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){var Z=this.group;Z.removeAll(),this._buildAxes(J,Y),this._buildSplitLineAndArea(J)},Q.prototype._buildAxes=function(J,K){var Y=J.coordinateSystem,Z=Y.getIndicatorAxes(),q=q0(Z,function(X){var W=X.model.get("showName")?X.name:"",F=new J4(X.model,K,{axisName:W,position:[Y.cx,Y.cy],rotation:X.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return F});S(q,function(X){X.build(),this.group.add(X.group)},this)},Q.prototype._buildSplitLineAndArea=function(J){var K=J.coordinateSystem,Y=K.getIndicatorAxes();if(!Y.length)return;var Z=J.get("shape"),q=J.getModel("splitLine"),X=J.getModel("splitArea"),W=q.getModel("lineStyle"),F=X.getModel("areaStyle"),H=q.get("show"),B=X.get("show"),z=W.get("color"),A=F.get("color"),R=Z0(z)?z:[z],G=Z0(A)?A:[A],O=[],T=[];function D(u,p,o){var t=o%p.length;return u[t]=u[t]||[],t}if(Z==="circle"){var P=Y[0].getTicksCoords(),j=K.cx,E=K.cy;for(var L=0;L<P.length;L++){if(H){var v=D(O,R,L);O[v].push(new a4({shape:{cx:j,cy:E,r:P[L].coord}}))}if(B&&L<P.length-1){var v=D(T,G,L);T[v].push(new WU({shape:{cx:j,cy:E,r0:P[L].coord,r:P[L+1].coord}}))}}}else{var f,_=q0(Y,function(u,p){var o=u.getTicksCoords();return f=f==null?o.length-1:Math.min(o.length-1,f),q0(o,function(t){return K.coordToPoint(t.coord,p)})}),M=[];for(var L=0;L<=f;L++){var b=[];for(var x=0;x<Y.length;x++)b.push(_[x][L]);if(b[0])b.push(b[0].slice());else console.error("Can't draw value axis "+L);if(H){var v=D(O,R,L);O[v].push(new G6({shape:{points:b}}))}if(B&&M){var v=D(T,G,L-1);T[v].push(new S6({shape:{points:b.concat(M)}}))}M=b.slice().reverse()}}var g=W.getLineStyle(),m=F.getAreaStyle();S(T,function(u,p){this.group.add(T4(u,{style:c0({stroke:"none",fill:G[p%G.length]},m),silent:!0}))},this),S(O,function(u,p){this.group.add(T4(u,{style:c0({fill:"none",stroke:R[p%R.length]},g),silent:!0}))},this)},Q.type="radar",Q}(a1),lb0=GP1});var OP1,ib0;var sb0=h(()=>{H0();W2();OP1=function($){c(Q,$);function Q(J,K,Y){var Z=$.call(this,J,K,Y)||this;return Z.type="value",Z.angle=0,Z.name="",Z}return Q}(I8),ib0=OP1});var wP1,ob0;var ab0=h(()=>{sb0();fU();k1();l();K00();l5();wP1=function(){function $(Q,J,K){this.dimensions=[],this._model=Q,this._indicatorAxes=q0(Q.getIndicatorModels(),function(Y,Z){var q="indicator_"+Z,X=new ib0(q,new l9);return X.name=Y.get("name"),X.model=Y,Y.axis=X,this.dimensions.push(q),X},this),this.resize(Q,K)}return $.prototype.getIndicatorAxes=function(){return this._indicatorAxes},$.prototype.dataToPoint=function(Q,J){var K=this._indicatorAxes[J];return this.coordToPoint(K.dataToCoord(Q),J)},$.prototype.coordToPoint=function(Q,J){var K=this._indicatorAxes[J],Y=K.angle,Z=this.cx+Q*Math.cos(Y),q=this.cy-Q*Math.sin(Y);return[Z,q]},$.prototype.pointToData=function(Q){var J=Q[0]-this.cx,K=Q[1]-this.cy,Y=Math.sqrt(J*J+K*K);J/=Y,K/=Y;var Z=Math.atan2(-K,J),q=1/0,X,W=-1;for(var F=0;F<this._indicatorAxes.length;F++){var H=this._indicatorAxes[F],B=Math.abs(Z-H.angle);if(B<q)X=H,W=F,q=B}return[W,+(X&&X.coordToData(Y))]},$.prototype.resize=function(Q,J){var K=_5(Q,J).refContainer,Y=Q.get("center"),Z=Math.min(K.width,K.height)/2;this.cx=f0(Y[0],K.width)+K.x,this.cy=f0(Y[1],K.height)+K.y,this.startAngle=Q.get("startAngle")*Math.PI/180;var q=Q.get("radius");if(R0(q)||V1(q))q=[0,q];this.r0=f0(q[0],Z),this.r=f0(q[1],Z),S(this._indicatorAxes,function(X,W){X.setExtent(this.r0,this.r);var F=this.startAngle+W*Math.PI*2/this._indicatorAxes.length;F=Math.atan2(Math.sin(F),Math.cos(F)),X.angle=F},this)},$.prototype.update=function(Q,J){var K=this._indicatorAxes,Y=this._model;S(K,function(X){X.scale.setExtent(1/0,-1/0)}),Q.eachSeriesByType("radar",function(X,W){if(X.get("coordinateSystem")!=="radar"||Q.getComponent("radar",X.get("radarIndex"))!==Y)return;var F=X.getData();S(K,function(H){H.scale.unionExtentFromData(F,F.mapDimension(H.dim))})},this);var Z=Y.get("splitNumber"),q=new l9;q.setExtent(0,Z),q.setInterval(1),S(K,function(X,W){uf(X.scale,X.model,q)})},$.prototype.convertToPixel=function(Q,J,K){return console.warn("Not implemented."),null},$.prototype.convertFromPixel=function(Q,J,K){return console.warn("Not implemented."),null},$.prototype.containPoint=function(Q){return console.warn("Not implemented."),!1},$.create=function(Q,J){var K=[];return Q.eachComponent("radar",function(Y){var Z=new $(Y,Q,J);K.push(Z),Y.coordinateSystem=Z}),Q.eachSeriesByType("radar",function(Y){if(Y.get("coordinateSystem")==="radar")Y.coordinateSystem=K[Y.get("radarIndex")||0]}),K},$.dimensions=[],$}(),ob0=wP1});function tb0($){$.registerCoordinateSystem("radar",ob0),$.registerComponentModel(db0),$.registerComponentView(lb0),$.registerVisual({seriesType:"radar",reset:function(Q){var J=Q.getData();J.each(function(K){J.setItemVisual(K,"legendIcon","roundRect")}),J.setVisual("legendIcon","roundRect")}})}var eb0=h(()=>{nb0();rb0();ab0()});function C00($){T1(tb0),$.registerChartView(cb0),$.registerSeriesModel(mb0),$.registerLayout(T00),$.registerProcessor(g3("radar")),$.registerPreprocessor(D00)}var $g0=h(()=>{E4();yb0();xb0();ub0();pb0();eb0()});function Qg0($,Q,J){P00($)[Q]=J}function Jg0($,Q,J){var K=P00($),Y=K[Q];if(Y===J)K[Q]=null}function k00($,Q){return!!P00($)[Q]}var P00;var j00=h(()=>{SU();l();l0();P00=o0();Q9({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},K6)});function rf($,Q,J){var K=Q.getComponentByElement($.topTarget);if(!K||K===J||TP1.hasOwnProperty(K.mainType))return!1;var Y=K.coordinateSystem;if(!Y||Y.model===J)return!1;var Z=n$(K),q=n$(J);if((Z.zlevel-q.zlevel||Z.z-q.z)<=0)return!1;return!0}var TP1;var E00=h(()=>{a0();TP1={axisPointer:1,tooltip:1,brush:1}});function dT($){return $.__ecRoamConsumed}function of($){var Q=CP1($);return Q.roam=Q.roam||{},Q.uniform=Q.uniform||{},Q}function nT($,Q,J,K){var Y=of($),Z=Y.roam,q=Z[Q]=Z[Q]||[],X=0;for(;X<q.length;X++){var W=q[X].zInfoParsed;if((W.zlevel-K.zlevel||W.z-K.z||W.z2-K.z2)<=0)break}q.splice(X,0,{listener:J,zInfoParsed:K}),PP1($,Q)}function lT($,Q,J){var K=of($),Y=K.roam[Q]||[];for(var Z=0;Z<Y.length;Z++)if(Y[Z].listener===J){if(Y.splice(Z,1),!Y.length)kP1($,Q);return}}function PP1($,Q){var J=of($);if(!J.uniform[Q])$.on(Q,J.uniform[Q]=function(K){var Y=J.roam[Q];if(Y)for(var Z=0;Z<Y.length;Z++)Y[Z].listener(K)})}function kP1($,Q){var J=of($),K=J.uniform;if(K[Q])$.off(Q,K[Q]),K[Q]=null}function Yg0($,Q,J,K,Y){Y.isAvailableBehavior=P0(sf,null,J,K),$.trigger(Q,Y)}function sf($,Q,J){var K=J[$];return!$||K&&(!R0(K)||Q.event[K+"Key"])}var DP1,CP1,s9;var A2=h(()=>{H0();DK();CK();j00();l();l0();a0();E00();DP1=function($){c(Q,$);function Q(J){var K=$.call(this)||this;K._zr=J;var Y=P0(K._mousedownHandler,K),Z=P0(K._mousemoveHandler,K),q=P0(K._mouseupHandler,K),X=P0(K._mousewheelHandler,K),W=P0(K._pinchHandler,K);return K.enable=function(F,H){var B=H.zInfo,z=n$(B.component),A=z.z,R=z.zlevel,G={component:B.component,z:A,zlevel:R,z2:g0(B.z2,-1/0)},O=Y0({},H.triggerInfo);if(this._opt=c0(Y0({},H),{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0,zInfoParsed:G,triggerInfo:O}),F==null)F=!0;if(!this._enabled||this._controlType!==F){if(this._enabled=!0,this.disable(),F===!0||F==="move"||F==="pan")nT(J,"mousedown",Y,G),nT(J,"mousemove",Z,G),nT(J,"mouseup",q,G);if(F===!0||F==="scale"||F==="zoom")nT(J,"mousewheel",X,G),nT(J,"pinch",W,G)}},K.disable=function(){this._enabled=!1,lT(J,"mousedown",Y),lT(J,"mousemove",Z),lT(J,"mouseup",q),lT(J,"mousewheel",X),lT(J,"pinch",W)},K}return Q.prototype.isDragging=function(){return this._dragging},Q.prototype.isPinching=function(){return this._pinching},Q.prototype._checkPointer=function(J,K,Y){var Z=this._opt,q=Z.zInfoParsed;if(rf(J,Z.api,q.component))return!1;var X=Z.triggerInfo,W=X.roamTrigger,F=!1;if(W==="global")F=!0;if(!F)F=X.isInSelf(J,K,Y);if(F&&X.isInClip&&!X.isInClip(J,K,Y))F=!1;return F},Q.prototype._decideCursorStyle=function(J,K,Y,Z){var q=J.target;if(!q&&this._checkPointer(J,K,Y))return"grab";if(Z)return q&&q.cursor||"default"},Q.prototype.dispose=function(){this.disable()},Q.prototype._mousedownHandler=function(J){if(ni(J)||dT(J))return;var K=J.target;while(K){if(K.draggable)return;K=K.__hostTarget||K.parent}var{offsetX:Y,offsetY:Z}=J;if(this._checkPointer(J,Y,Z))this._x=Y,this._y=Z,this._dragging=!0},Q.prototype._mousemoveHandler=function(J){var K=this._zr;if(J.gestureEvent==="pinch"||k00(K,"globalPan")||dT(J))return;var{offsetX:Y,offsetY:Z}=J;if(!this._dragging||!sf("moveOnMouseMove",J,this._opt)){var q=this._decideCursorStyle(J,Y,Z,!1);if(q)K.setCursorStyle(q);return}K.setCursorStyle("grabbing");var X=this._x,W=this._y,F=Y-X,H=Z-W;if(this._x=Y,this._y=Z,this._opt.preventDefaultMouseMove)L9(J.event);J.__ecRoamConsumed=!0,Yg0(this,"pan","moveOnMouseMove",J,{dx:F,dy:H,oldX:X,oldY:W,newX:Y,newY:Z,isAvailableBehavior:null})},Q.prototype._mouseupHandler=function(J){if(dT(J))return;var K=this._zr;if(!ni(J)){this._dragging=!1;var Y=this._decideCursorStyle(J,J.offsetX,J.offsetY,!0);if(Y)K.setCursorStyle(Y)}},Q.prototype._mousewheelHandler=function(J){if(dT(J))return;var K=sf("zoomOnMouseWheel",J,this._opt),Y=sf("moveOnMouseWheel",J,this._opt),Z=J.wheelDelta,q=Math.abs(Z),X=J.offsetX,W=J.offsetY;if(Z===0||!K&&!Y)return;if(K){var F=q>3?1.4:q>1?1.2:1.1,H=Z>0?F:1/F;this._checkTriggerMoveZoom(this,"zoom","zoomOnMouseWheel",J,{scale:H,originX:X,originY:W,isAvailableBehavior:null})}if(Y){var B=Math.abs(Z),z=(Z>0?1:-1)*(B>3?0.4:B>1?0.15:0.05);this._checkTriggerMoveZoom(this,"scrollMove","moveOnMouseWheel",J,{scrollDelta:z,originX:X,originY:W,isAvailableBehavior:null})}},Q.prototype._pinchHandler=function(J){if(k00(this._zr,"globalPan")||dT(J))return;var K=J.pinchScale>1?1.1:0.9090909090909091;this._checkTriggerMoveZoom(this,"zoom",null,J,{scale:K,originX:J.pinchX,originY:J.pinchY,isAvailableBehavior:null})},Q.prototype._checkTriggerMoveZoom=function(J,K,Y,Z,q){if(J._checkPointer(Z,q.originX,q.originY))L9(Z.event),Z.__ecRoamConsumed=!0,Yg0(J,K,Y,Z,q)},Q}(p7);CP1=o0();s9=DP1});function rT($,Q,J){var K=$.target;K.x+=Q,K.y+=J,K.dirty()}function iT($,Q,J,K){var{target:Y,zoomLimit:Z}=$,q=$.zoom=$.zoom||1;q*=Q,q=tf(q,Z);var X=q/$.zoom;$.zoom=q,qg0(Y,J,K,X),Y.dirty()}function af($,Q,J,K,Y,Z){var q=new n0(0,0,0,0);K.enable($.get("roam"),{api:Q,zInfo:{component:$},triggerInfo:{roamTrigger:$.get("roamTrigger"),isInSelf:function(F,H,B){return q.copy(J.getBoundingRect()),q.applyTransform(J.getComputedTransform()),q.contain(H,B)},isInClip:function(F,H,B){return!Z||Z.contain(H,B)}}}),Y.zoomLimit=$.get("scaleLimit");var X=$.coordinateSystem;Y.zoom=X?X.getZoom():1;var W=$.subType+"Roam";K.off("pan").off("zoom").on("pan",function(F){rT(Y,F.dx,F.dy),Q.dispatchAction({seriesId:$.id,type:W,dx:F.dx,dy:F.dy})}).on("zoom",function(F){iT(Y,F.scale,F.originX,F.originY),Q.dispatchAction({seriesId:$.id,type:W,zoom:F.scale,originX:F.originX,originY:F.originY}),Q.updateLabelLayout()})}function Zg0($,Q){return $.pointToProjected?$.pointToProjected(Q):$.pointToData(Q)}function V2($,Q,J){var K=$.getZoom(),Y=$.getCenter(),Z=Q.zoom,q=$.projectedToPoint?$.projectedToPoint(Y):$.dataToPoint(Y);if(Q.dx!=null&&Q.dy!=null)q[0]-=Q.dx,q[1]-=Q.dy,$.setCenter(Zg0($,q));if(Z!=null)Z=tf(K*Z,J)/K,qg0($,Q.originX,Q.originY,Z),$.updateTransform(),$.setCenter(Zg0($,q)),$.setZoom(Z*K);return{center:$.getCenter(),zoom:$.getZoom()}}function qg0($,Q,J,K){$.x-=(Q-$.x)*(K-1),$.y-=(J-$.y)*(K-1),$.scaleX*=K,$.scaleY*=K}function tf($,Q){if(Q){var J=Q.min||0,K=Q.max||1/0;$=Math.max(Math.min(K,$),J)}return $}var $Y=h(()=>{a0()});function ef($){if(R0($)){var Q=new DOMParser;$=Q.parseFromString($,"text/xml")}var J=$;if(J.nodeType===9)J=J.firstChild;while(J.nodeName.toLowerCase()!=="svg"||J.nodeType!==1)J=J.nextSibling;return J}var h00=h(()=>{l()});function Ug0($,Q){var J=$.getAttribute("gradientUnits");if(J==="userSpaceOnUse")Q.global=!0}function Hg0($,Q){var J=$.firstChild;while(J){if(J.nodeType===1&&J.nodeName.toLocaleLowerCase()==="stop"){var K=J.getAttribute("offset"),Y=void 0;if(K&&K.indexOf("%")>0)Y=parseInt(K,10)/100;else if(K)Y=parseFloat(K);else Y=0;var Z={};Ag0(J,Z,Z);var q=Z.stopColor||J.getAttribute("stop-color")||"#000000",X=Z.stopOpacity||J.getAttribute("stop-opacity");if(X){var W=J8(q),F=W&&W[3];if(F)W[3]*=HZ(X),q=v9(W,"rgba")}Q.colorStops.push({offset:Y,color:q})}J=J.nextSibling}}function JQ($,Q){if($&&$.__inheritedStyle){if(!Q.__inheritedStyle)Q.__inheritedStyle={};c0(Q.__inheritedStyle,$.__inheritedStyle)}}function Ng0($){var Q=JI($),J=[];for(var K=0;K<Q.length;K+=2){var Y=parseFloat(Q[K]),Z=parseFloat(Q[K+1]);J.push([Y,Z])}return J}function x3($,Q,J,K,Y){var Z=Q,q=Z.__inheritedStyle=Z.__inheritedStyle||{},X={};if($.nodeType===1){if(_P1($,Q),Ag0($,q,X),!K)fP1($,q,X)}if(Z.style=Z.style||{},q.fill!=null)Z.style.fill=Bg0(Z,"fill",q.fill,J);if(q.stroke!=null)Z.style.stroke=Bg0(Z,"stroke",q.stroke,J);if(S(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(W){if(q[W]!=null)Z.style[W]=parseFloat(q[W])}),S(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(W){if(q[W]!=null)Z.style[W]=q[W]}),Y)Z.__selfStyle=X;if(q.lineDash)Z.style.lineDash=q0(JI(q.lineDash),function(W){return parseFloat(W)});if(q.visibility==="hidden"||q.visibility==="collapse")Z.invisible=!0;if(q.display==="none")Z.ignore=!0}function EP1($,Q){var J=Q.__selfStyle;if(J){var K=J.textBaseline,Y=K;if(!K||K==="auto")Y="alphabetic";else if(K==="baseline")Y="alphabetic";else if(K==="before-edge"||K==="text-before-edge")Y="top";else if(K==="after-edge"||K==="text-after-edge")Y="bottom";else if(K==="central"||K==="mathematical")Y="middle";$.style.textBaseline=Y}var Z=Q.__inheritedStyle;if(Z){var q=Z.textAlign,X=q;if(q){if(q==="middle")X="center";$.style.textAlign=X}}}function Bg0($,Q,J,K){var Y=J&&J.match(LP1);if(Y){var Z=m7(Y[1]);K.push([$,Q,Z]);return}if(J==="none")J=null;return J}function hP1($,Q){for(var J=0;J<Q.length;J++){var K=Q[J];K[0].style[K[1]]=$[K[2]]}}function JI($){return $.match(vP1)||[]}function _P1($,Q){var J=$.getAttribute("transform");if(J){J=J.replace(/,/g," ");var K=[],Y=null;J.replace(SP1,function(B,z,A){return K.push(z,A),""});for(var Z=K.length-1;Z>0;Z-=2){var q=K[Z],X=K[Z-1],W=JI(q);switch(Y=Y||V6(),X){case"translate":s8(Y,Y,[parseFloat(W[0]),parseFloat(W[1]||"0")]);break;case"scale":$z(Y,Y,[parseFloat(W[0]),parseFloat(W[1]||W[0])]);break;case"rotate":V4(Y,Y,-parseFloat(W[0])*S00,[parseFloat(W[1]||"0"),parseFloat(W[2]||"0")]);break;case"skewX":var F=Math.tan(parseFloat(W[0])*S00);i8(Y,[1,0,F,1,0,0],Y);break;case"skewY":var H=Math.tan(parseFloat(W[0])*S00);i8(Y,[1,H,0,1,0,0],Y);break;case"matrix":Y[0]=parseFloat(W[0]),Y[1]=parseFloat(W[1]),Y[2]=parseFloat(W[2]),Y[3]=parseFloat(W[3]),Y[4]=parseFloat(W[4]),Y[5]=parseFloat(W[5]);break}}Q.setLocalTransform(Y)}}function Ag0($,Q,J){var K=$.getAttribute("style");if(!K)return;zg0.lastIndex=0;var Y;while((Y=zg0.exec(K))!=null){var Z=Y[1],q=p0($I,Z)?$I[Z]:null;if(q)Q[q]=Y[2];var X=p0(QI,Z)?QI[Z]:null;if(X)J[X]=Y[2]}}function fP1($,Q,J){for(var K=0;K<Xg0.length;K++){var Y=Xg0[K],Z=$.getAttribute(Y);if(Z!=null)Q[$I[Y]]=Z}for(var K=0;K<Wg0.length;K++){var Y=Wg0[K],Z=$.getAttribute(Y);if(Z!=null)J[QI[Y]]=Z}}function _00($,Q){var J=Q.width/$.width,K=Q.height/$.height,Y=Math.min(J,K);return{scale:Y,x:-($.x+$.width/2)*Y+(Q.x+Q.width/2),y:-($.y+$.height/2)*Y+(Q.y+Q.height/2)}}function Vg0($,Q){var J=new jP1;return J.parse($,Q)}var v00,$I,Xg0,QI,Wg0,jP1,Fg0,LP1,vP1,SP1,S00,zg0;var Rg0=h(()=>{yX();u$();Oo();Rz();wo();jo();NS();ko();Tz();l();zS();ho();Dw();h00();o8();$I={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},Xg0=N1($I),QI={"alignment-baseline":"textBaseline","stop-color":"stopColor"},Wg0=N1(QI),jP1=function(){function $(){this._defs={},this._root=null}return $.prototype.parse=function(Q,J){J=J||{};var K=ef(Q);if(!K)throw Error("Illegal svg");this._defsUsePending=[];var Y=new b0;this._root=Y;var Z=[],q=K.getAttribute("viewBox")||"",X=parseFloat(K.getAttribute("width")||J.width),W=parseFloat(K.getAttribute("height")||J.height);isNaN(X)&&(X=null),isNaN(W)&&(W=null),x3(K,Y,null,!0,!1);var F=K.firstChild;while(F)this._parseNode(F,Y,Z,null,!1,!1),F=F.nextSibling;hP1(this._defs,this._defsUsePending),this._defsUsePending=[];var H,B;if(q){var z=JI(q);if(z.length>=4)H={x:parseFloat(z[0]||0),y:parseFloat(z[1]||0),width:parseFloat(z[2]),height:parseFloat(z[3])}}if(H&&X!=null&&W!=null){if(B=_00(H,{x:0,y:0,width:X,height:W}),!J.ignoreViewBox){var A=Y;Y=new b0,Y.add(A),A.scaleX=A.scaleY=B.scale,A.x=B.x,A.y=B.y}}if(!J.ignoreRootClip&&X!=null&&W!=null)Y.setClipPath(new X1({shape:{x:0,y:0,width:X,height:W}}));return{root:Y,width:X,height:W,viewBoxRect:H,viewBoxTransform:B,named:Z}},$.prototype._parseNode=function(Q,J,K,Y,Z,q){var X=Q.nodeName.toLowerCase(),W,F=Y;if(X==="defs")Z=!0;if(X==="text")q=!0;if(X==="defs"||X==="switch")W=J;else{if(!Z){var H=v00[X];if(H&&p0(v00,X)){W=H.call(this,Q,J);var B=Q.getAttribute("name");if(B){var z={name:B,namedFrom:null,svgNodeTagLower:X,el:W};if(K.push(z),X==="g")F=z}else if(Y)K.push({name:Y.name,namedFrom:Y,svgNodeTagLower:X,el:W});J.add(W)}}var A=Fg0[X];if(A&&p0(Fg0,X)){var R=A.call(this,Q),G=Q.getAttribute("id");if(G)this._defs[G]=R}}if(W&&W.isGroup){var O=Q.firstChild;while(O){if(O.nodeType===1)this._parseNode(O,W,K,F,Z,q);else if(O.nodeType===3&&q)this._parseText(O,W);O=O.nextSibling}}},$.prototype._parseText=function(Q,J){var K=new AZ({style:{text:Q.textContent},silent:!0,x:this._textX||0,y:this._textY||0});JQ(J,K),x3(Q,K,this._defsUsePending,!1,!1),EP1(K,J);var Y=K.style,Z=Y.fontSize;if(Z&&Z<9)Y.fontSize=9,K.scaleX*=Z/9,K.scaleY*=Z/9;var q=(Y.fontSize||Y.fontFamily)&&[Y.fontStyle,Y.fontWeight,(Y.fontSize||12)+"px",Y.fontFamily||"sans-serif"].join(" ");Y.font=q;var X=K.getBoundingRect();return this._textX+=X.width,J.add(K),K},$.internalField=function(){v00={g:function(Q,J){var K=new b0;return JQ(J,K),x3(Q,K,this._defsUsePending,!1,!1),K},rect:function(Q,J){var K=new X1;return JQ(J,K),x3(Q,K,this._defsUsePending,!1,!1),K.setShape({x:parseFloat(Q.getAttribute("x")||"0"),y:parseFloat(Q.getAttribute("y")||"0"),width:parseFloat(Q.getAttribute("width")||"0"),height:parseFloat(Q.getAttribute("height")||"0")}),K.silent=!0,K},circle:function(Q,J){var K=new a4;return JQ(J,K),x3(Q,K,this._defsUsePending,!1,!1),K.setShape({cx:parseFloat(Q.getAttribute("cx")||"0"),cy:parseFloat(Q.getAttribute("cy")||"0"),r:parseFloat(Q.getAttribute("r")||"0")}),K.silent=!0,K},line:function(Q,J){var K=new X6;return JQ(J,K),x3(Q,K,this._defsUsePending,!1,!1),K.setShape({x1:parseFloat(Q.getAttribute("x1")||"0"),y1:parseFloat(Q.getAttribute("y1")||"0"),x2:parseFloat(Q.getAttribute("x2")||"0"),y2:parseFloat(Q.getAttribute("y2")||"0")}),K.silent=!0,K},ellipse:function(Q,J){var K=new vw;return JQ(J,K),x3(Q,K,this._defsUsePending,!1,!1),K.setShape({cx:parseFloat(Q.getAttribute("cx")||"0"),cy:parseFloat(Q.getAttribute("cy")||"0"),rx:parseFloat(Q.getAttribute("rx")||"0"),ry:parseFloat(Q.getAttribute("ry")||"0")}),K.silent=!0,K},polygon:function(Q,J){var K=Q.getAttribute("points"),Y;if(K)Y=Ng0(K);var Z=new S6({shape:{points:Y||[]},silent:!0});return JQ(J,Z),x3(Q,Z,this._defsUsePending,!1,!1),Z},polyline:function(Q,J){var K=Q.getAttribute("points"),Y;if(K)Y=Ng0(K);var Z=new G6({shape:{points:Y||[]},silent:!0});return JQ(J,Z),x3(Q,Z,this._defsUsePending,!1,!1),Z},image:function(Q,J){var K=new q6;return JQ(J,K),x3(Q,K,this._defsUsePending,!1,!1),K.setStyle({image:Q.getAttribute("xlink:href")||Q.getAttribute("href"),x:+Q.getAttribute("x"),y:+Q.getAttribute("y"),width:+Q.getAttribute("width"),height:+Q.getAttribute("height")}),K.silent=!0,K},text:function(Q,J){var K=Q.getAttribute("x")||"0",Y=Q.getAttribute("y")||"0",Z=Q.getAttribute("dx")||"0",q=Q.getAttribute("dy")||"0";this._textX=parseFloat(K)+parseFloat(Z),this._textY=parseFloat(Y)+parseFloat(q);var X=new b0;return JQ(J,X),x3(Q,X,this._defsUsePending,!1,!0),X},tspan:function(Q,J){var K=Q.getAttribute("x"),Y=Q.getAttribute("y");if(K!=null)this._textX=parseFloat(K);if(Y!=null)this._textY=parseFloat(Y);var Z=Q.getAttribute("dx")||"0",q=Q.getAttribute("dy")||"0",X=new b0;return JQ(J,X),x3(Q,X,this._defsUsePending,!1,!0),this._textX+=parseFloat(Z),this._textY+=parseFloat(q),X},path:function(Q,J){var K=Q.getAttribute("d")||"",Y=FS(K);return JQ(J,Y),x3(Q,Y,this._defsUsePending,!1,!1),Y.silent=!0,Y}}}(),$}(),Fg0={lineargradient:function($){var Q=parseInt($.getAttribute("x1")||"0",10),J=parseInt($.getAttribute("y1")||"0",10),K=parseInt($.getAttribute("x2")||"10",10),Y=parseInt($.getAttribute("y2")||"0",10),Z=new m$(Q,J,K,Y);return Ug0($,Z),Hg0($,Z),Z},radialgradient:function($){var Q=parseInt($.getAttribute("cx")||"0",10),J=parseInt($.getAttribute("cy")||"0",10),K=parseInt($.getAttribute("r")||"0",10),Y=new AS(Q,J,K);return Ug0($,Y),Hg0($,Y),Y}};LP1=/^url\(\s*#(.*?)\)/;vP1=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;SP1=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,S00=Math.PI/180;zg0=/([^\s:;]+)\s*:\s*([^:;]+)/g});function MP1($){if($.silent=!1,$.isGroup)$.traverse(function(Q){Q.silent=!1})}function bP1($){var Q=[],J=_0();return S($,function(K){if(K.namedFrom!=null)return;var Y=new gf0(K.name,K.el);Q.push(Y),J.set(K.name,Y)}),{regions:Q,regionsMap:J}}var IP1,Gg0;var Og0=h(()=>{Rg0();yX();Rz();l();s5();h00();Hf();IP1=_0(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Gg0=function(){function $(Q,J){this.type="geoSVG",this._usedGraphicMap=_0(),this._freedGraphics=[],this._mapName=Q,this._parsedXML=ef(J)}return $.prototype.load=function(){var Q=this._firstGraphic;if(!Q){Q=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(Q),this._boundingRect=this._firstGraphic.boundingRect.clone();var J=bP1(Q.named),K=J.regions,Y=J.regionsMap;this._regions=K,this._regionsMap=Y}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},$.prototype._buildGraphic=function(Q){var J,K;try{J=Q&&Vg0(Q,{ignoreViewBox:!0,ignoreRootClip:!0})||{},K=J.root,M0(K!=null)}catch(O){throw Error(`Invalid svg format
`+O.message)}var Y=new b0;Y.add(K),Y.isGeoSVGGraphicRoot=!0;var{width:Z,height:q,viewBoxRect:X}=J,W=this._boundingRect;if(!W){var F=void 0,H=void 0,B=void 0,z=void 0;if(Z!=null)F=0,B=Z;else if(X)F=X.x,B=X.width;if(q!=null)H=0,z=q;else if(X)H=X.y,z=X.height;if(F==null||H==null){var A=K.getBoundingRect();if(F==null)F=A.x,B=A.width;if(H==null)H=A.y,z=A.height}W=this._boundingRect=new n0(F,H,B,z)}if(X){var R=_00(X,W);K.scaleX=K.scaleY=R.scale,K.x=R.x,K.y=R.y}Y.setClipPath(new X1({shape:W.plain()}));var G=[];return S(J.named,function(O){if(IP1.get(O.svgNodeTagLower)!=null)G.push(O),MP1(O.el)}),{root:Y,boundingRect:W,named:G}},$.prototype.useGraphic=function(Q){var J=this._usedGraphicMap,K=J.get(Q);if(K)return K;return K=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),J.set(Q,K),K},$.prototype.freeGraphic=function(Q){var J=this._usedGraphicMap,K=J.get(Q);if(K)J.removeKey(Q),this._freedGraphics.push(K)},$}()});function I00($,Q){if($==="china"){for(var J=0;J<Q.length;J++)if(Q[J].name===wg0)return;Q.push(new Uf(wg0,q0(nU,function(K){return{type:"polygon",exterior:K}}),f00))}}var f00,wg0="南海诸岛",nU,R2,xZ;var Tg0=h(()=>{l();Hf();f00=[126,25],nU=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,0.7],[52,0.7],[56,7.7],[59,0.7],[64,0.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(xZ=0;xZ<nU.length;xZ++)for(R2=0;R2<nU[xZ].length;R2++)nU[xZ][R2][0]/=10.5,nU[xZ][R2][1]/=-14,nU[xZ][R2][0]+=f00[0],nU[xZ][R2][1]+=f00[1]});function M00($,Q){if($==="china"){var J=gP1[Q.name];if(J){var K=Q.getCenter();K[0]+=J[0]/10.5,K[1]+=-J[1]/14,Q.setCenter(K)}}}var gP1;var Dg0=h(()=>{gP1={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]}});function b00($,Q){if($==="china"&&Q.name==="台湾")Q.geometries.push({type:"polygon",exterior:yP1[0]})}var yP1;var Cg0=h(()=>{yP1=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]]});function cP1($){var Q;for(var J=0;J<$.length;J++){var K=$[J].getBoundingRect();Q=Q||K.clone(),Q.union(K)}return Q}function uP1($){return!R0($)?$:typeof JSON<"u"&&JSON.parse?JSON.parse($):Function("return ("+$+");")()}var xP1="name",Pg0;var kg0=h(()=>{l();xf0();Tg0();Dg0();Cg0();s5();Pg0=function(){function $(Q,J,K){this.type="geoJSON",this._parsedMap=_0(),this._mapName=Q,this._specialAreas=K,this._geoJSON=uP1(J)}return $.prototype.load=function(Q,J){J=J||xP1;var K=this._parsedMap.get(J);if(!K){var Y=this._parseToRegions(J);K=this._parsedMap.set(J,{regions:Y,boundingRect:cP1(Y)})}var Z=_0(),q=[];return S(K.regions,function(X){var W=X.name;if(Q&&p0(Q,W))X=X.cloneShallow(W=Q[W]);q.push(X),Z.set(W,X)}),{regions:q,boundingRect:K.boundingRect||new n0(0,0,0,0),regionsMap:Z}},$.prototype._parseToRegions=function(Q){var J=this._mapName,K=this._geoJSON,Y;try{Y=K?xt(K,Q):[]}catch(Z){throw Error(`Invalid geoJson format
`+Z.message)}return I00(J,Y),S(Y,function(Z){var q=Z.name;M00(J,Z),b00(J,Z);var X=this._specialAreas&&this._specialAreas[q];if(X)Z.transformTo(X.left,X.top,X.width,X.height)},this),Y},$.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},$}()});var sT,q9;var lU=h(()=>{l();Og0();kg0();sT=_0(),q9={registerMap:function($,Q,J){if(Q.svg){var K=new Gg0($,Q.svg);sT.set($,K)}else{var Y=Q.geoJson||Q.geoJSON;if(Y&&!Q.features)J=Q.specialAreas;else Y=Q;var K=new Pg0($,Y,J);sT.set($,K)}},getGeoResource:function($){return sT.get($)},getMapForUser:function($){var Q=sT.get($);return Q&&Q.type==="geoJSON"&&Q.getMapForUser()},load:function($,Q,J){var K=sT.get($);if(!K){console.error("Map "+$+" not exists. The GeoJSON of the map must be provided.");return}return K.load(Q,J)}}});function KI($){var Q=$.getItemStyle(),J=$.get("areaColor");if(J!=null)Q.fill=J;return Q}function jg0($){var Q=$.style;if(Q)Q.stroke=Q.stroke||Q.fill,Q.fill=null}function Eg0($,Q,J,K){var Y=K.getModel("itemStyle"),Z=K.getModel(["emphasis","itemStyle"]),q=K.getModel(["blur","itemStyle"]),X=K.getModel(["select","itemStyle"]),W=KI(Y),F=KI(Z),H=KI(X),B=KI(q),z=$.data;if(z){var A=z.getItemVisual(J,"style"),R=z.getItemVisual(J,"decal");if($.isVisualEncodedByVisualMap&&A.fill)W.fill=A.fill;if(R)W.decal=WJ(R,$.api)}Q.setStyle(W),Q.style.strokeNoScale=!0,Q.ensureState("emphasis").style=F,Q.ensureState("select").style=H,Q.ensureState("blur").style=B,aQ(Q)}function Lg0($,Q,J,K,Y,Z,q){var{data:X,isGeo:W}=$,F=X&&isNaN(X.get(X.mapDimension("value"),Z)),H=X&&X.getItemLayout(Z);if(W||F||H&&H.showLabel){var B=!W?Z:J,z=void 0;if(!X||Z>=0)z=Y;var A=q?{normal:{align:"center",verticalAlign:"middle"}}:null;p5(Q,b5(K),{labelFetcher:z,labelDataIndex:B,defaultText:J},A);var R=Q.getTextContent();if(R){if(fg0(R).ignore=R.ignore,Q.textConfig&&q){var G=Q.getBoundingRect().clone();Q.textConfig.layoutRect=G,Q.textConfig.position=[(q[0]-G.x)/G.width*100+"%",(q[1]-G.y)/G.height*100+"%"]}}Q.disableLabelAnimation=!0}else Q.removeTextContent(),Q.removeTextConfig(),Q.disableLabelAnimation=null}function hg0($,Q,J,K,Y,Z){if($.data)$.data.setItemGraphicEl(Z,Q);else r0(Q).eventData={componentType:"geo",componentIndex:Y.componentIndex,geoIndex:Y.componentIndex,name:J,region:K&&K.option||{}}}function vg0($,Q,J,K,Y){if(!$.data)D4({el:Q,componentModel:Y,itemName:J,itemTooltipOption:K.get("tooltip")})}function Sg0($,Q,J,K,Y){Q.highDownSilentOnTouch=!!Y.get("selectedMode");var Z=K.getModel("emphasis"),q=Z.get("focus");if(s1(Q,q,Z.get("blurScope"),Z.get("disabled")),$.isGeo)Yh0(Q,Y,J);return q}function _g0($,Q,J){var K=[],Y;function Z(){Y=[]}function q(){if(Y.length)K.push(Y),Y=[]}var X=Q({polygonStart:Z,polygonEnd:q,lineStart:Z,lineEnd:q,point:function(W,F){if(isFinite(W)&&isFinite(F))Y.push([W,F])},sphere:function(){}});return!J&&X.polygonStart(),S($,function(W){X.lineStart();for(var F=0;F<W.length;F++)X.point(W[F][0],W[F][1]);X.lineEnd()}),!J&&X.polygonEnd(),K}var g00,mP1,pP1,dP1,fg0,nP1,YI;var y00=h(()=>{l();A2();$Y();a0();M5();lU();e4();g5();o5();yz();E3();l0();g00=["rect","circle","line","ellipse","polygon","polyline","path"],mP1=_0(g00),pP1=_0(g00.concat(["g"])),dP1=_0(g00.concat(["g"])),fg0=o0();nP1=function(){function $(Q){var J=this.group=new b0,K=this._transformGroup=new b0;J.add(K),this.uid=l$("ec_map_draw"),this._controller=new s9(Q.getZr()),this._controllerHost={target:K},K.add(this._regionsGroup=new b0),K.add(this._svgGroup=new b0)}return $.prototype.draw=function(Q,J,K,Y,Z){var q=Q.mainType==="geo",X=Q.getData&&Q.getData();q&&J.eachComponent({mainType:"series",subType:"map"},function(P){if(!X&&P.getHostGeoModel()===Q)X=P.getData()});var W=Q.coordinateSystem,F=this._regionsGroup,H=this._transformGroup,B=W.getTransformInfo(),z=B.raw,A=B.roam,R=!F.childAt(0)||Z,G=Q.getShallow("clip",!0),O;if(G)O=W.getViewRect().clone(),this.group.setClipPath(new X1({shape:O.clone()}));else this.group.removeClipPath();if(R)H.x=A.x,H.y=A.y,H.scaleX=A.scaleX,H.scaleY=A.scaleY,H.dirty();else C1(H,A,Q);var T=X&&X.getVisual("visualMeta")&&X.getVisual("visualMeta").length>0,D={api:K,geo:W,mapOrGeoModel:Q,data:X,isVisualEncodedByVisualMap:T,isGeo:q,transformInfoRaw:z};if(W.resourceType==="geoJSON")this._buildGeoJSON(D);else if(W.resourceType==="geoSVG")this._buildSVG(D);this._updateController(Q,O,J,K),this._updateMapSelectHandler(Q,F,K,Y)},$.prototype._buildGeoJSON=function(Q){var J=this._regionsGroupByName=_0(),K=_0(),Y=this._regionsGroup,Z=Q.transformInfoRaw,q=Q.mapOrGeoModel,X=Q.data,W=Q.geo.projection,F=W&&W.stream;function H(A,R){if(R)A=R(A);return A&&[A[0]*Z.scaleX+Z.x,A[1]*Z.scaleY+Z.y]}function B(A){var R=[],G=!F&&W&&W.project;for(var O=0;O<A.length;++O){var T=H(A[O],G);T&&R.push(T)}return R}function z(A){return{shape:{points:B(A)}}}Y.removeAll(),S(Q.geo.regions,function(A){var R=A.name,G=J.get(R),O=K.get(R)||{},T=O.dataIdx,D=O.regionModel;if(!G){G=J.set(R,new b0),Y.add(G),T=X?X.indexOfName(R):null,D=Q.isGeo?q.getRegionModel(R):X?X.getItemModel(T):null;var P=D.get("silent",!0);P!=null&&(G.silent=P),K.set(R,{dataIdx:T,regionModel:D})}var j=[],E=[];S(A.geometries,function(f){if(f.type==="polygon"){var _=[f.exterior].concat(f.interiors||[]);if(F)_=_g0(_,F);S(_,function(b){j.push(new S6(z(b)))})}else{var M=f.points;if(F)M=_g0(M,F,!0);S(M,function(b){E.push(new G6(z(b)))})}});var L=H(A.getCenter(),W&&W.project);function v(f,_){if(!f.length)return;var M=new lX({culling:!0,segmentIgnoreThreshold:1,shape:{paths:f}});if(G.add(M),Eg0(Q,M,T,D),Lg0(Q,M,R,D,q,T,L),_)jg0(M),S(M.states,jg0)}v(j),v(E,!0)}),J.each(function(A,R){var G=K.get(R),O=G.dataIdx,T=G.regionModel;hg0(Q,A,R,T,q,O),vg0(Q,A,R,T,q),Sg0(Q,A,R,T,q)},this)},$.prototype._buildSVG=function(Q){var J=Q.geo.map,K=Q.transformInfoRaw;if(this._svgGroup.x=K.x,this._svgGroup.y=K.y,this._svgGroup.scaleX=K.scaleX,this._svgGroup.scaleY=K.scaleY,this._svgResourceChanged(J))this._freeSVG(),this._useSVG(J);var Y=this._svgDispatcherMap=_0(),Z=!1;S(this._svgGraphicRecord.named,function(q){var X=q.name,W=Q.mapOrGeoModel,F=Q.data,H=q.svgNodeTagLower,B=q.el,z=F?F.indexOfName(X):null,A=W.getRegionModel(X);if(mP1.get(H)!=null&&B instanceof w7)Eg0(Q,B,z,A);if(B instanceof w7)B.culling=!0;var R=A.get("silent",!0);if(R!=null&&(B.silent=R),B.z2EmphasisLift=0,!q.namedFrom){if(dP1.get(H)!=null)Lg0(Q,B,X,A,W,z,null);if(hg0(Q,B,X,A,W,z),vg0(Q,B,X,A,W),pP1.get(H)!=null){var G=Sg0(Q,B,X,A,W);if(G==="self")Z=!0;var O=Y.get(X)||Y.set(X,[]);O.push(B)}}},this),this._enableBlurEntireSVG(Z,Q)},$.prototype._enableBlurEntireSVG=function(Q,J){if(Q&&J.isGeo){var K=J.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),Y=K.opacity;this._svgGraphicRecord.root.traverse(function(Z){if(!Z.isGroup){aQ(Z);var q=Z.ensureState("blur").style||{};if(q.opacity==null&&Y!=null)q.opacity=Y;Z.ensureState("emphasis")}})}},$.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},$.prototype.findHighDownDispatchers=function(Q,J){if(Q==null)return[];var K=J.coordinateSystem;if(K.resourceType==="geoJSON"){var Y=this._regionsGroupByName;if(Y){var Z=Y.get(Q);return Z?[Z]:[]}}else if(K.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(Q)||[]},$.prototype._svgResourceChanged=function(Q){return this._svgMapName!==Q},$.prototype._useSVG=function(Q){var J=q9.getGeoResource(Q);if(J&&J.type==="geoSVG"){var K=J.useGraphic(this.uid);this._svgGroup.add(K.root),this._svgGraphicRecord=K,this._svgMapName=Q}},$.prototype._freeSVG=function(){var Q=this._svgMapName;if(Q==null)return;var J=q9.getGeoResource(Q);if(J&&J.type==="geoSVG")J.freeGraphic(this.uid);this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null},$.prototype._updateController=function(Q,J,K,Y){var Z=Q.coordinateSystem,q=this._controller,X=this._controllerHost;X.zoomLimit=Q.get("scaleLimit"),X.zoom=Z.getZoom(),q.enable(Q.get("roam")||!1,{api:Y,zInfo:{component:Q},triggerInfo:{roamTrigger:Q.get("roamTrigger"),isInSelf:function(H,B,z){return Z.containPoint([B,z])},isInClip:function(H,B,z){return!J||J.contain(B,z)}}});var W=Q.mainType;function F(){var H={type:"geoRoam",componentType:W};return H[W+"Id"]=Q.id,H}q.off("pan").on("pan",function(H){this._mouseDownFlag=!1,rT(X,H.dx,H.dy),Y.dispatchAction(Y0(F(),{dx:H.dx,dy:H.dy,animation:{duration:0}}))},this),q.off("zoom").on("zoom",function(H){this._mouseDownFlag=!1,iT(X,H.scale,H.originX,H.originY),Y.dispatchAction(Y0(F(),{totalZoom:X.zoom,zoom:H.scale,originX:H.originX,originY:H.originY,animation:{duration:0}}))},this)},$.prototype.resetForLabelLayout=function(){this.group.traverse(function(Q){var J=Q.getTextContent();if(J)J.ignore=fg0(J).ignore})},$.prototype._updateMapSelectHandler=function(Q,J,K,Y){var Z=this;if(J.off("mousedown"),J.off("click"),Q.get("selectedMode"))J.on("mousedown",function(){Z._mouseDownFlag=!0}),J.on("click",function(q){if(!Z._mouseDownFlag)return;Z._mouseDownFlag=!1})},$}();YI=nP1});var lP1,Ig0;var Mg0=h(()=>{H0();a0();y00();t6();g5();M5();lP1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y,Z){if(Z&&Z.type==="mapToggleSelect"&&Z.from===this.uid)return;var q=this.group;if(q.removeAll(),J.getHostGeoModel())return;if(this._mapDraw&&Z&&Z.type==="geoRoam")this._mapDraw.resetForLabelLayout();if(!(Z&&Z.type==="geoRoam"&&Z.componentType==="series"&&Z.seriesId===J.id))if(J.needsDrawMap){var X=this._mapDraw||new YI(Y);q.add(X.group),X.draw(J,K,Y,this,Z),this._mapDraw=X}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;else{var X=this._mapDraw;X&&q.add(X.group)}J.get("showLegendSymbol")&&K.getComponent("legend")&&this._renderSymbols(J,K,Y)},Q.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},Q.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},Q.prototype._renderSymbols=function(J,K,Y){var Z=J.originalData,q=this.group;Z.each(Z.mapDimension("value"),function(X,W){if(isNaN(X))return;var F=Z.getItemLayout(W);if(!F||!F.point)return;var{point:H,offset:B}=F,z=new a4({style:{fill:J.getData().getVisual("style").fill},shape:{cx:H[0]+B*9,cy:H[1],r:3},silent:!0,z2:8+(!B?VZ+1:0)});if(!B){var A=J.mainSeries.getData(),R=Z.getName(W),G=A.indexOfName(R),O=Z.getItemModel(W),T=O.getModel("label"),D=A.getItemGraphicEl(G);if(p5(z,b5(O),{labelFetcher:{getFormattedLabel:function(P,j){return J.getFormattedLabel(G,j)}},defaultText:R}),z.disableLabelAnimation=!0,!T.get("position"))z.setTextConfig({position:"bottom"});D.onHoverStateChange=function(P){qU(z,P)}}q.add(z)})},Q.type="map",Q}(c1),Ig0=lP1});var rP1,bg0;var gg0=h(()=>{H0();l();uU();o6();lU();pK();j4();S8();c9();y1();rP1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.needsDrawMap=!1,J.seriesGroup=[],J.getTooltipPosition=function(K){if(K!=null){var Y=this.getData().getName(K),Z=this.coordinateSystem,q=Z.getRegion(Y);return q&&Z.dataToPoint(q.getCenter())}},J}return Q.prototype.getInitialData=function(J){var K=y3(this,{coordDimensions:["value"],encodeDefaulter:K1(_z,this)}),Y=_0(),Z=[];for(var q=0,X=K.count();q<X;q++){var W=K.getName(q);Y.set(W,q)}var F=q9.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return S(F.regions,function(H){var B=H.name,z=Y.get(B),A=H.properties&&H.properties.echartsStyle,R;if(z==null)R={name:B},Z.push(R);else R=K.getRawDataItem(z);A&&F1(R,A)}),K.appendData(Z),K},Q.prototype.getHostGeoModel=function(){if(Fa(this).kind===KJ.boxCoordSys)return;return this.getReferringComponents("geo",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0]},Q.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},Q.prototype.getRawValue=function(J){var K=this.getData();return K.get(K.mapDimension("value"),J)},Q.prototype.getRegionModel=function(J){var K=this.getData();return K.getItemModel(K.indexOfName(J))},Q.prototype.formatTooltip=function(J,K,Y){var Z=this.getData(),q=this.getRawValue(J),X=Z.getName(J),W=this.seriesGroup,F=[];for(var H=0;H<W.length;H++){var B=W[H].originalData.indexOfName(X),z=Z.mapDimension("value");if(!isNaN(W[H].originalData.get(z,B)))F.push(W[H].name)}return $6("section",{header:F.join(", "),noHeader:!F.length,blocks:[$6("nameValue",{name:X,value:q})]})},Q.prototype.setZoom=function(J){this.option.zoom=J},Q.prototype.setCenter=function(J){this.option.center=J},Q.prototype.getLegendIcon=function(J){var K=J.icon||"roundRect",Y=y5(K,0,0,J.itemWidth,J.itemHeight,J.itemStyle.fill);if(Y.setStyle(J.itemStyle),Y.style.stroke="none",K.indexOf("empty")>-1)Y.style.stroke=Y.style.fill,Y.style.fill=e.color.neutral00,Y.style.lineWidth=2;return Y},Q.type="series.map",Q.dependencies=["geo"],Q.layoutMode="box",Q.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:e.color.tertiary},itemStyle:{borderWidth:0.5,borderColor:e.color.border,areaColor:e.color.background},emphasis:{label:{show:!0,color:e.color.primary},itemStyle:{areaColor:e.color.highlight}},select:{label:{show:!0,color:e.color.primary},itemStyle:{color:e.color.highlight}},nameProperty:"name"},Q}(o1),bg0=rP1});function iP1($,Q){var J={};return S($,function(K){K.each(K.mapDimension("value"),function(Y,Z){var q="ec-"+K.getName(Z);if(J[q]=J[q]||[],!isNaN(Y))J[q].push(Y)})}),$[0].map($[0].mapDimension("value"),function(K,Y){var Z="ec-"+$[0].getName(Y),q=0,X=1/0,W=-1/0,F=J[Z].length;for(var H=0;H<F;H++)X=Math.min(X,J[Z][H]),W=Math.max(W,J[Z][H]),q+=J[Z][H];var B;if(Q==="min")B=X;else if(Q==="max")B=W;else if(Q==="average")B=q/F;else B=q;return F===0?NaN:B})}function x00($){var Q={};$.eachSeriesByType("map",function(J){var K=J.getHostGeoModel(),Y=K?"o"+K.id:"i"+J.getMapType();(Q[Y]=Q[Y]||[]).push(J)}),S(Q,function(J,K){var Y=iP1(q0(J,function(q){return q.getData()}),J[0].get("mapValueCalculation"));for(var Z=0;Z<J.length;Z++)J[Z].originalData=J[Z].getData();for(var Z=0;Z<J.length;Z++)J[Z].seriesGroup=J,J[Z].needsDrawMap=Z===0&&!J[Z].getHostGeoModel(),J[Z].setData(Y.cloneShallow()),J[Z].mainSeries=J[0]})}var yg0=h(()=>{l()});function c00($){var Q={};$.eachSeriesByType("map",function(J){var K=J.getMapType();if(J.getHostGeoModel()||Q[K])return;var Y={};S(J.seriesGroup,function(q){var{coordinateSystem:X,originalData:W}=q;if(q.get("showLegendSymbol")&&$.getComponent("legend"))W.each(W.mapDimension("value"),function(F,H){var B=W.getName(H),z=X.getRegion(B);if(!z||isNaN(F))return;var A=Y[B]||0,R=X.dataToPoint(z.getCenter());Y[B]=A+1,W.setItemLayout(H,{point:R,offset:A})})});var Z=J.getData();Z.each(function(q){var X=Z.getName(q),W=Z.getItemLayout(q)||{};W.showLabel=!Y[X],Z.setItemLayout(q,W)}),Q[K]=!0})}var xg0=h(()=>{l()});function ug0($){var Q=$.seriesModel;return Q?Q.coordinateSystem:null}var cg0,sP1,c3;var rU=h(()=>{H0();w6();s5();EK();k1();l();$Y();cg0=H6,sP1=function($){c(Q,$);function Q(J,K){var Y=$.call(this)||this;return Y.type="view",Y.dimensions=["x","y"],Y._roamTransformable=new S9,Y._rawTransformable=new S9,Y.name=J,Y._opt=K,Y}return Q.prototype.setBoundingRect=function(J,K,Y,Z){return this._rect=new n0(J,K,Y,Z),this._updateCenterAndZoom(),this._rect},Q.prototype.getBoundingRect=function(){return this._rect},Q.prototype.setViewRect=function(J,K,Y,Z){this._transformTo(J,K,Y,Z),this._viewRect=new n0(J,K,Y,Z)},Q.prototype._transformTo=function(J,K,Y,Z){var q=this.getBoundingRect(),X=this._rawTransformable;X.transform=q.calculateTransform(new n0(J,K,Y,Z));var W=X.parent;X.parent=null,X.decomposeTransform(),X.parent=W,this._updateTransform()},Q.prototype.setCenter=function(J){var K=this._opt;if(K&&K.api&&K.ecModel&&K.ecModel.getShallow("legacyViewCoordSysCenterBase")&&J)J=[f0(J[0],K.api.getWidth()),f0(J[1],K.api.getWidth())];this._centerOption=m0(J),this._updateCenterAndZoom()},Q.prototype.setZoom=function(J){this._zoom=tf(J||1,this.zoomLimit),this._updateCenterAndZoom()},Q.prototype.getDefaultCenter=function(){var J=this.getBoundingRect(),K=J.x+J.width/2,Y=J.y+J.height/2;return[K,Y]},Q.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},Q.prototype.getZoom=function(){return this._zoom||1},Q.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},Q.prototype._updateCenterAndZoom=function(){var J=this._centerOption,K=this._rect;if(J&&K)this._center=[f0(J[0],K.width,K.x),f0(J[1],K.height,K.y)];var Y=this._rawTransformable.getLocalTransform(),Z=this._roamTransformable,q=this.getDefaultCenter(),X=this.getCenter(),W=this.getZoom();X=H6([],X,Y),q=H6([],q,Y),Z.originX=X[0],Z.originY=X[1],Z.x=q[0]-X[0],Z.y=q[1]-X[1],Z.scaleX=Z.scaleY=W,this._updateTransform()},Q.prototype._updateTransform=function(){var J=this._roamTransformable,K=this._rawTransformable;K.parent=J,J.updateTransform(),K.updateTransform(),jF(this.transform||(this.transform=[]),K.transform||V6()),this._rawTransform=K.getLocalTransform(),this.invTransform=this.invTransform||[],d7(this.invTransform,this.transform),this.decomposeTransform()},Q.prototype.getTransformInfo=function(){var J=this._rawTransformable,K=this._roamTransformable,Y=new S9;return Y.transform=K.transform,Y.decomposeTransform(),{roam:{x:Y.x,y:Y.y,scaleX:Y.scaleX,scaleY:Y.scaleY},raw:{x:J.x,y:J.y,scaleX:J.scaleX,scaleY:J.scaleY}}},Q.prototype.getViewRect=function(){return this._viewRect},Q.prototype.getViewRectAfterRoam=function(){var J=this.getBoundingRect().clone();return J.applyTransform(this.transform),J},Q.prototype.dataToPoint=function(J,K,Y){var Z=K?this._rawTransform:this.transform;return Y=Y||[],Z?cg0(Y,J,Z):N8(Y,J)},Q.prototype.pointToData=function(J,K,Y){Y=Y||[];var Z=this.invTransform;return Z?cg0(Y,J,Z):(Y[0]=J[0],Y[1]=J[1],Y)},Q.prototype.convertToPixel=function(J,K,Y){var Z=ug0(K);return Z===this?Z.dataToPoint(Y):null},Q.prototype.convertFromPixel=function(J,K,Y){var Z=ug0(K);return Z===this?Z.pointToData(Y):null},Q.prototype.containPoint=function(J){return this.getViewRectAfterRoam().contain(J[0],J[1])},Q.dimensions=["x","y"],Q}(S9);c3=sP1});function mg0($){var{geoModel:Q,seriesModel:J}=$;return Q?Q.coordinateSystem:J?J.coordinateSystem||(J.getReferringComponents("geo",L5).models[0]||{}).coordinateSystem:null}var oP1,u00,pg0,m00;var dg0=h(()=>{H0();l();s5();rU();lU();l0();N5();oP1={geoJSON:{aspectScale:0.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},u00=["lng","lat"],pg0=function($){c(Q,$);function Q(J,K,Y){var Z=$.call(this,J,{api:Y.api,ecModel:Y.ecModel})||this;Z.dimensions=u00,Z.type="geo",Z._nameCoordMap=_0(),Z.map=K;var q=Y.projection,X=q9.load(K,Y.nameMap,Y.nameProperty),W=q9.getGeoResource(K),F=Z.resourceType=W?W.type:null,H=Z.regions=X.regions,B=oP1[W.type];if(Z._regionsMap=X.regionsMap,Z.regions=X.regions,q){if(F==="geoSVG")S5("Map "+K+" with SVG source can't use projection. Only GeoJSON source supports projection."),q=null;if(!(q.project&&q.unproject))S5("project and unproject must be both provided in the projeciton."),q=null}Z.projection=q;var z;if(q)for(var A=0;A<H.length;A++){var R=H[A].getBoundingRect(q);z=z||R.clone(),z.union(R)}else z=X.boundingRect;return Z.setBoundingRect(z.x,z.y,z.width,z.height),Z.aspectScale=q?1:g0(Y.aspectScale,B.aspectScale),Z._invertLongitute=q?!1:B.invertLongitute,Z}return Q.prototype._transformTo=function(J,K,Y,Z){var q=this.getBoundingRect(),X=this._invertLongitute;if(q=q.clone(),X)q.y=-q.y-q.height;var W=this._rawTransformable;W.transform=q.calculateTransform(new n0(J,K,Y,Z));var F=W.parent;if(W.parent=null,W.decomposeTransform(),W.parent=F,X)W.scaleY=-W.scaleY;this._updateTransform()},Q.prototype.getRegion=function(J){return this._regionsMap.get(J)},Q.prototype.getRegionByCoord=function(J){var K=this.regions;for(var Y=0;Y<K.length;Y++){var Z=K[Y];if(Z.type==="geoJSON"&&Z.contain(J))return K[Y]}},Q.prototype.addGeoCoord=function(J,K){this._nameCoordMap.set(J,K)},Q.prototype.getGeoCoord=function(J){var K=this._regionsMap.get(J);return this._nameCoordMap.get(J)||K&&K.getCenter()},Q.prototype.dataToPoint=function(J,K,Y){if(R0(J))J=this.getGeoCoord(J);if(J){var Z=this.projection;if(Z)J=Z.project(J);return J&&this.projectedToPoint(J,K,Y)}},Q.prototype.pointToData=function(J,K,Y){var Z=this.projection;if(Z)J=Z.unproject(J);return J&&this.pointToProjected(J,Y)},Q.prototype.pointToProjected=function(J,K){return $.prototype.pointToData.call(this,J,0,K)},Q.prototype.projectedToPoint=function(J,K,Y){return $.prototype.dataToPoint.call(this,J,K,Y)},Q.prototype.convertToPixel=function(J,K,Y){var Z=mg0(K);return Z===this?Z.dataToPoint(Y):null},Q.prototype.convertFromPixel=function(J,K,Y){var Z=mg0(K);return Z===this?Z.pointToData(Y):null},Q}(c3);n5(pg0,c3);m00=pg0});function ng0($,Q){var J=$.get("boundingCoords");if(J!=null){var K=J[0],Y=J[1];if(!(isFinite(K[0])&&isFinite(K[1])&&isFinite(Y[0])&&isFinite(Y[1])))console.error("Invalid boundingCoords");else{var Z=this.projection;if(Z){var q=K[0],X=K[1],W=Y[0],F=Y[1];K=[1/0,1/0],Y=[-1/0,-1/0];var H=function(E,L,v,f){var _=v-E,M=f-L;for(var b=0;b<=100;b++){var x=b/100,g=Z.project([E+_*x,L+M*x]);D3(K,K,g),C3(Y,Y,g)}};H(q,X,W,X),H(W,X,W,F),H(W,F,q,F),H(q,F,W,X)}this.setBoundingRect(K[0],K[1],Y[0]-K[0],Y[1]-K[1])}}var B=this.getBoundingRect(),z=$.get("layoutCenter"),A=$.get("layoutSize"),R=_5($,Q).refContainer,G=B.width/B.height*this.aspectScale,O=!1,T,D;if(z&&A)if(T=[f0(z[0],R.width)+R.x,f0(z[1],R.height)+R.y],D=f0(A,Math.min(R.width,R.height)),!isNaN(T[0])&&!isNaN(T[1])&&!isNaN(D))O=!0;else console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead.");var P;if(O){if(P={},G>1)P.width=D,P.height=D/G;else P.height=D,P.width=D*G;P.y=T[1]-P.height/2,P.x=T[0]-P.width/2}else{var j=$.getBoxLayoutParams();j.aspect=G,P=X5(j,R),P=oS($,P,G)}this.setViewRect(P.x,P.y,P.width,P.height),this.setCenter($.get("center")),this.setZoom($.get("zoom"))}function aP1($,Q){S(Q.get("geoCoord"),function(J,K){$.addGeoCoord(K,J)})}var tP1,eP1,ZI;var p00=h(()=>{l();dg0();l5();k1();lU();w6();c9();l0();tP1=function(){function $(){this.dimensions=u00}return $.prototype.create=function(Q,J){var K=[];function Y(q){return{nameProperty:q.get("nameProperty"),aspectScale:q.get("aspectScale"),projection:q.get("projection")}}Q.eachComponent("geo",function(q,X){var W=q.get("map"),F=new m00(W+X,W,Y0({nameMap:q.get("nameMap"),api:J,ecModel:Q},Y(q)));F.zoomLimit=q.get("scaleLimit"),K.push(F),q.coordinateSystem=F,F.model=q,F.resize=ng0,F.resize(q,J)}),Q.eachSeries(function(q){uK({targetModel:q,coordSysType:"geo",coordSysProvider:function(){var X=q.subType==="map"?q.getHostGeoModel():q.getReferringComponents("geo",L5).models[0];return X&&X.coordinateSystem},allowNotFound:!0})});var Z={};return Q.eachSeriesByType("map",function(q){if(!q.getHostGeoModel()){var X=q.getMapType();Z[X]=Z[X]||[],Z[X].push(q)}}),S(Z,function(q,X){var W=q0(q,function(H){return H.get("nameMap")}),F=new m00(X,X,Y0({nameMap:rB(W),api:J,ecModel:Q},Y(q[0])));F.zoomLimit=J6.apply(null,q0(q,function(H){return H.get("scaleLimit")})),K.push(F),F.resize=ng0,F.resize(q[0],J),S(q,function(H){H.coordinateSystem=F,aP1(F,H)})}),K},$.prototype.getFilledRegions=function(Q,J,K,Y){var Z=(Q||[]).slice(),q=_0();for(var X=0;X<Z.length;X++)q.set(Z[X].name,Z[X]);var W=q9.load(J,K,Y);return S(W.regions,function(F){var H=F.name,B=q.get(H),z=F.properties&&F.properties.echartsStyle;if(!B)B={name:H},Z.push(B);z&&F1(B,z)}),Z},$}(),eP1=new tP1,ZI=eP1});var $k1,lg0;var rg0=h(()=>{H0();l();l0();_6();K7();p00();lU();y1();$k1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(J,K,Y){this.mergeDefaultAndTheme(J,Y);var Z=q9.getGeoResource(J.map);if(Z&&Z.type==="geoJSON"){var q=J.itemStyle=J.itemStyle||{};if(!("color"in q))q.color=J.defaultItemStyleColor||e.color.backgroundTint}j3(J,"label",["show"])},Q.prototype.optionUpdated=function(){var J=this,K=this.option;K.regions=ZI.getFilledRegions(K.regions,K.map,K.nameMap,K.nameProperty);var Y={};if(this._optionModelMap=r8(K.regions||[],function(Z,q){var X=q.name;if(X){if(Z.set(X,new h1(q,J,J.ecModel)),q.selected)Y[X]=!0}return Z},_0()),!K.selectedMap)K.selectedMap=Y},Q.prototype.getRegionModel=function(J){return this._optionModelMap.get(J)||new h1(null,this,this.ecModel)},Q.prototype.getFormattedLabel=function(J,K){var Y=this.getRegionModel(J),Z=K==="normal"?Y.get(["label","formatter"]):Y.get(["emphasis","label","formatter"]),q={name:J};if(I0(Z))return q.status=K,Z(q);else if(R0(Z))return Z.replace("{a}",J!=null?J:"")},Q.prototype.setZoom=function(J){this.option.zoom=J},Q.prototype.setCenter=function(J){this.option.center=J},Q.prototype.select=function(J){var K=this.option,Y=K.selectedMode;if(!Y)return;if(Y!=="multiple")K.selectedMap=null;var Z=K.selectedMap||(K.selectedMap={});Z[J]=!0},Q.prototype.unSelect=function(J){var K=this.option.selectedMap;if(K)K[J]=!1},Q.prototype.toggleSelected=function(J){this[this.isSelected(J)?"unSelect":"select"](J)},Q.prototype.isSelected=function(J){var K=this.option.selectedMap;return!!(K&&K[J])},Q.type="geo",Q.layoutMode="box",Q.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:e.color.tertiary},itemStyle:{borderWidth:0.5,borderColor:e.color.border},emphasis:{label:{show:!0,color:e.color.primary},itemStyle:{color:e.color.highlight}},select:{label:{show:!0,color:e.color.primary},itemStyle:{color:e.color.highlight}},regions:[]},Q}(O1),lg0=$k1});var Qk1,ig0;var sg0=h(()=>{H0();y00();a6();o5();Qk1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.focusBlurEnabled=!0,J}return Q.prototype.init=function(J,K){this._api=K},Q.prototype.render=function(J,K,Y,Z){if(this._model=J,!J.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}if(!this._mapDraw)this._mapDraw=new YI(Y);var q=this._mapDraw;q.draw(J,K,Y,this,Z),q.group.on("click",this._handleRegionClick,this),q.group.silent=J.get("silent"),this.group.add(q.group),this.updateSelectStatus(J,K,Y)},Q.prototype._handleRegionClick=function(J){var K;if(qJ(J.target,function(Y){return(K=r0(Y).eventData)!=null},!0),K)this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:K.name})},Q.prototype.updateSelectStatus=function(J,K,Y){var Z=this;this._mapDraw.group.traverse(function(q){var X=r0(q).eventData;if(X)return Z._model.isSelected(X.name)?Y.enterSelect(q):Y.leaveSelect(q),!0})},Q.prototype.findHighDownDispatchers=function(J){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(J,this._model)},Q.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},Q.type="geo",Q}(a1),ig0=Qk1});function Jk1($,Q,J){q9.registerMap($,Q,J)}function oT($){$.registerCoordinateSystem("geo",ZI),$.registerComponentModel(lg0),$.registerComponentView(ig0),$.registerImpl("registerMap",Jk1),$.registerImpl("getMap",function(J){return q9.getMapForUser(J)});function Q(J,K){K.update="geo:updateSelectStatus",$.registerAction(K,function(Y,Z){var q={},X=[];return Z.eachComponent({mainType:"geo",query:Y},function(W){W[J](Y.name);var F=W.coordinateSystem;S(F.regions,function(B){q[B.name]=W.isSelected(B.name)||!1});var H=[];S(q,function(B,z){q[z]&&H.push(z)}),X.push({geoIndex:W.componentIndex,name:H})}),{selected:q,allSelected:X,name:Y.name}})}Q("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),Q("select",{type:"geoSelect",event:"geoselected"}),Q("unSelect",{type:"geoUnSelect",event:"geounselected"}),$.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(J,K,Y){var Z=J.componentType;if(!Z){if(J.geoId!=null)Z="geo";else if(J.seriesId!=null)Z="series"}if(!Z)Z="series";K.eachComponent({mainType:Z,query:J},function(q){var X=q.coordinateSystem;if(X.type!=="geo")return;var W=V2(X,J,q.get("scaleLimit"));if(q.setCenter&&q.setCenter(W.center),q.setZoom&&q.setZoom(W.zoom),Z==="series")S(q.seriesGroup,function(F){F.setCenter(W.center),F.setZoom(W.zoom)})})})}var d00=h(()=>{rg0();p00();l();$Y();sg0();lU()});function n00($){T1(oT),$.registerChartView(Ig0),$.registerSeriesModel(bg0),$.registerLayout(c00),$.registerProcessor($.PRIORITY.PROCESSOR.STATISTIC,x00),E_("map",$.registerAction)}var og0=h(()=>{E4();Mg0();gg0();yg0();xg0();L_();d00()});function ag0($){var Q=$;Q.hierNode={defaultAncestor:null,ancestor:Q,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var J=[Q],K,Y;while(K=J.pop())if(Y=K.children,K.isExpand&&Y.length){var Z=Y.length;for(var q=Z-1;q>=0;q--){var X=Y[q];X.hierNode={defaultAncestor:null,ancestor:X,prelim:0,modifier:0,change:0,shift:0,i:q,thread:null},J.push(X)}}}function tg0($,Q){var J=$.isExpand?$.children:[],K=$.parentNode.children,Y=$.hierNode.i?K[$.hierNode.i-1]:null;if(J.length){Kk1($);var Z=(J[0].hierNode.prelim+J[J.length-1].hierNode.prelim)/2;if(Y)$.hierNode.prelim=Y.hierNode.prelim+Q($,Y),$.hierNode.modifier=$.hierNode.prelim-Z;else $.hierNode.prelim=Z}else if(Y)$.hierNode.prelim=Y.hierNode.prelim+Q($,Y);$.parentNode.hierNode.defaultAncestor=Yk1($,Y,$.parentNode.hierNode.defaultAncestor||K[0],Q)}function eg0($){var Q=$.hierNode.prelim+$.parentNode.hierNode.modifier;$.setLayout({x:Q},!0),$.hierNode.modifier+=$.parentNode.hierNode.modifier}function i00($){return arguments.length?$:Xk1}function iU($,Q){return $-=Math.PI/2,{x:Q*Math.cos($),y:Q*Math.sin($)}}function Kk1($){var Q=$.children,J=Q.length,K=0,Y=0;while(--J>=0){var Z=Q[J];Z.hierNode.prelim+=K,Z.hierNode.modifier+=K,Y+=Z.hierNode.change,K+=Z.hierNode.shift+Y}}function Yk1($,Q,J,K){if(Q){var Y=$,Z=$,q=Z.parentNode.children[0],X=Q,W=Y.hierNode.modifier,F=Z.hierNode.modifier,H=q.hierNode.modifier,B=X.hierNode.modifier;while(X=l00(X),Z=r00(Z),X&&Z){Y=l00(Y),q=r00(q),Y.hierNode.ancestor=$;var z=X.hierNode.prelim+B-Z.hierNode.prelim-F+K(X,Z);if(z>0)qk1(Zk1(X,$,J),$,z),F+=z,W+=z;B+=X.hierNode.modifier,F+=Z.hierNode.modifier,W+=Y.hierNode.modifier,H+=q.hierNode.modifier}if(X&&!l00(Y))Y.hierNode.thread=X,Y.hierNode.modifier+=B-W;if(Z&&!r00(q))q.hierNode.thread=Z,q.hierNode.modifier+=F-H,J=$}return J}function l00($){var Q=$.children;return Q.length&&$.isExpand?Q[Q.length-1]:$.hierNode.thread}function r00($){var Q=$.children;return Q.length&&$.isExpand?Q[0]:$.hierNode.thread}function Zk1($,Q,J){return $.hierNode.ancestor.parentNode===Q.parentNode?$.hierNode.ancestor:J}function qk1($,Q,J){var K=J/(Q.hierNode.i-$.hierNode.i);Q.hierNode.change-=K,Q.hierNode.shift+=J,Q.hierNode.modifier+=J,Q.hierNode.prelim+=J,$.hierNode.change+=K}function Xk1($,Q){return $.parentNode===Q.parentNode?1:2}function $y0($,Q){var J=$.getItemLayout(Q);return J&&!isNaN(J.x)&&!isNaN(J.y)}function Qy0($,Q,J,K,Y){var Z=!J,q=$.tree.getNodeByDataIndex(Q),X=q.getModel(),W=q.getVisual("style").fill,F=q.isExpand===!1&&q.children.length!==0?W:e.color.neutral00,H=$.tree.root,B=q.parentNode===H?q:q.parentNode||q,z=$.getItemGraphicEl(B.dataIndex),A=B.getLayout(),R=z?{x:z.__oldX,y:z.__oldY,rawX:z.__radialOldRawX,rawY:z.__radialOldRawY}:A,G=q.getLayout();if(Z)J=new bZ($,Q,null,{symbolInnerColor:F,useNameLabel:!0}),J.x=R.x,J.y=R.y;else J.updateData($,Q,null,{symbolInnerColor:F,useNameLabel:!0});J.__radialOldRawX=J.__radialRawX,J.__radialOldRawY=J.__radialRawY,J.__radialRawX=G.rawX,J.__radialRawY=G.rawY,K.add(J),$.setItemGraphicEl(Q,J),J.__oldX=J.x,J.__oldY=J.y,C1(J,{x:G.x,y:G.y},Y);var O=J.getSymbolPath();if(Y.get("layout")==="radial"){var T=H.children[0],D=T.getLayout(),P=T.children.length,j=void 0,E=void 0;if(G.x===D.x&&q.isExpand===!0&&T.children.length){var L={x:(T.children[0].getLayout().x+T.children[P-1].getLayout().x)/2,y:(T.children[0].getLayout().y+T.children[P-1].getLayout().y)/2};if(j=Math.atan2(L.y-D.y,L.x-D.x),j<0)j=Math.PI*2+j;if(E=L.x<D.x,E)j=j-Math.PI}else{if(j=Math.atan2(G.y-D.y,G.x-D.x),j<0)j=Math.PI*2+j;if(q.children.length===0||q.children.length!==0&&q.isExpand===!1){if(E=G.x<D.x,E)j=j-Math.PI}else if(E=G.x>D.x,!E)j=j-Math.PI}var v=E?"left":"right",f=X.getModel("label"),_=f.get("rotate"),M=_*(Math.PI/180),b=O.getTextContent();if(b)O.setTextConfig({position:f.get("position")||v,rotation:_==null?-j:M,origin:"center"}),b.setStyle("verticalAlign","middle")}var x=X.get(["emphasis","focus"]),g=x==="relative"?FZ(q.getAncestorsIndices(),q.getDescendantIndices()):x==="ancestor"?q.getAncestorsIndices():x==="descendant"?q.getDescendantIndices():null;if(g)r0(J).focus=g;if(Hk1(Y,q,H,J,R,A,G,K),J.__edge)J.onHoverStateChange=function(m){if(m!=="blur"){var u=q.parentNode&&$.getItemGraphicEl(q.parentNode.dataIndex);if(!(u&&u.hoverState===ZU))qU(J.__edge,m)}}}function Hk1($,Q,J,K,Y,Z,q,X){var W=Q.getModel(),F=$.get("edgeShape"),H=$.get("layout"),B=$.getOrient(),z=$.get(["lineStyle","curveness"]),A=$.get("edgeForkPosition"),R=W.getModel("lineStyle").getLineStyle(),G=K.__edge;if(F==="curve"){if(Q.parentNode&&Q.parentNode!==J){if(!G)G=K.__edge=new FU({shape:s00(H,B,z,Y,Y)});C1(G,{shape:s00(H,B,z,Z,q)},$)}}else if(F==="polyline")if(H==="orthogonal"){if(Q!==J&&Q.children&&Q.children.length!==0&&Q.isExpand===!0){var O=Q.children,T=[];for(var D=0;D<O.length;D++){var P=O[D].getLayout();T.push([P.x,P.y])}if(!G)G=K.__edge=new Fk1({shape:{parentPoint:[q.x,q.y],childPoints:[[q.x,q.y]],orient:B,forkPosition:A}});C1(G,{shape:{parentPoint:[q.x,q.y],childPoints:T}},$)}}else throw Error("The polyline edgeShape can only be used in orthogonal layout");if(G&&!(F==="polyline"&&!Q.isExpand))G.useStyle(c0({strokeNoScale:!0,fill:null},R)),a5(G,W,"lineStyle"),aQ(G),X.add(G)}function Jy0($,Q,J,K,Y){var Z=Q.tree.root,q=Yy0(Z,$),X=q.source,W=q.sourceLayout,F=Q.getItemGraphicEl($.dataIndex);if(!F)return;var H=Q.getItemGraphicEl(X.dataIndex),B=H.__edge,z=F.__edge||(X.isExpand===!1||X.children.length===1?B:void 0),A=K.get("edgeShape"),R=K.get("layout"),G=K.get("orient"),O=K.get(["lineStyle","curveness"]);if(z){if(A==="curve")p$(z,{shape:s00(R,G,O,W,W),style:{opacity:0}},K,{cb:function(){J.remove(z)},removeOpt:Y});else if(A==="polyline"&&K.get("layout")==="orthogonal")p$(z,{shape:{parentPoint:[W.x,W.y],childPoints:[[W.x,W.y]]},style:{opacity:0}},K,{cb:function(){J.remove(z)},removeOpt:Y})}}function Yy0($,Q){var J=Q.parentNode===$?Q:Q.parentNode||Q,K;while(K=J.getLayout(),K==null)J=J.parentNode===$?J:J.parentNode||J;return{source:J,sourceLayout:K}}function Ky0($,Q,J,K,Y){var Z=$.tree.getNodeByDataIndex(Q),q=$.tree.root,X=Yy0(q,Z).sourceLayout,W={duration:Y.get("animationDurationUpdate"),easing:Y.get("animationEasingUpdate")};p$(J,{x:X.x+1,y:X.y+1},Y,{cb:function(){K.remove(J),$.setItemGraphicEl(Q,null)},removeOpt:W}),J.fadeOut(null,$.hostModel,{fadeLabel:!0,animation:W}),Z.children.forEach(function(F){Jy0(F,$,K,Y,W)}),Jy0(Z,$,K,Y,W)}function s00($,Q,J,K,Y){var Z,q,X,W,F,H,B,z;if($==="radial"){F=K.rawX,B=K.rawY,H=Y.rawX,z=Y.rawY;var A=iU(F,B),R=iU(F,B+(z-B)*J),G=iU(H,z+(B-z)*J),O=iU(H,z);return{x1:A.x||0,y1:A.y||0,x2:O.x||0,y2:O.y||0,cpx1:R.x||0,cpy1:R.y||0,cpx2:G.x||0,cpy2:G.y||0}}else{if(F=K.x,B=K.y,H=Y.x,z=Y.y,Q==="LR"||Q==="RL")Z=F+(H-F)*J,q=B,X=H+(F-H)*J,W=z;if(Q==="TB"||Q==="BT")Z=F,q=B+(z-B)*J,X=H,W=z+(B-z)*J}return{x1:F,y1:B,x2:H,y2:z,cpx1:Z,cpy1:q,cpx2:X,cpy2:W}}var Wk1,Fk1,Uk1,Zy0;var qy0=h(()=>{H0();l();a0();o5();MT();Gw();rU();$Y();A2();k1();t6();m6();M5();y1();Wk1=function(){function $(){this.parentPoint=[],this.childPoints=[]}return $}(),Fk1=function($){c(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultStyle=function(){return{stroke:e.color.neutral99,fill:null}},Q.prototype.getDefaultShape=function(){return new Wk1},Q.prototype.buildPath=function(J,K){var Y=K.childPoints,Z=Y.length,q=K.parentPoint,X=Y[0],W=Y[Z-1];if(Z===1){J.moveTo(q[0],q[1]),J.lineTo(X[0],X[1]);return}var F=K.orient,H=F==="TB"||F==="BT"?0:1,B=1-H,z=f0(K.forkPosition,1),A=[];A[H]=q[H],A[B]=q[B]+(W[B]-q[B])*z,J.moveTo(q[0],q[1]),J.lineTo(A[0],A[1]),J.moveTo(X[0],X[1]),A[H]=X[H],J.lineTo(A[0],A[1]),A[H]=W[H],J.lineTo(A[0],A[1]),J.lineTo(W[0],W[1]);for(var R=1;R<Z-1;R++){var G=Y[R];J.moveTo(G[0],G[1]),A[H]=G[H],J.lineTo(A[0],A[1])}},Q}(Y1),Uk1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J._mainGroup=new b0,J}return Q.prototype.init=function(J,K){this._controller=new s9(K.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},Q.prototype.render=function(J,K,Y){var Z=J.getData(),q=J.layoutInfo,X=this._mainGroup,W=J.get("layout");if(W==="radial")X.x=q.x+q.width/2,X.y=q.y+q.height/2;else X.x=q.x,X.y=q.y;this._updateViewCoordSys(J,Y),this._updateController(J,null,K,Y);var F=this._data;if(Z.diff(F).add(function(H){if($y0(Z,H))Qy0(Z,H,null,X,J)}).update(function(H,B){var z=F.getItemGraphicEl(B);if(!$y0(Z,H)){z&&Ky0(F,B,z,X,J);return}Qy0(Z,H,z,X,J)}).remove(function(H){var B=F.getItemGraphicEl(H);if(B)Ky0(F,H,B,X,J)}).execute(),this._nodeScaleRatio=J.get("nodeScaleRatio"),this._updateNodeAndLinkScale(J),J.get("expandAndCollapse")===!0)Z.eachItemGraphicEl(function(H,B){H.off("click").on("click",function(){Y.dispatchAction({type:"treeExpandAndCollapse",seriesId:J.id,dataIndex:B})})});this._data=Z},Q.prototype._updateViewCoordSys=function(J,K){var Y=J.getData(),Z=[];Y.each(function(B){var z=Y.getItemLayout(B);if(z&&!isNaN(z.x)&&!isNaN(z.y))Z.push([+z.x,+z.y])});var q=[],X=[];oF(Z,q,X);var W=this._min,F=this._max;if(X[0]-q[0]===0)q[0]=W?W[0]:q[0]-1,X[0]=F?F[0]:X[0]+1;if(X[1]-q[1]===0)q[1]=W?W[1]:q[1]-1,X[1]=F?F[1]:X[1]+1;var H=J.coordinateSystem=new c3(null,{api:K,ecModel:J.ecModel});H.zoomLimit=J.get("scaleLimit"),H.setBoundingRect(q[0],q[1],X[0]-q[0],X[1]-q[1]),H.setCenter(J.get("center")),H.setZoom(J.get("zoom")),this.group.attr({x:H.x,y:H.y,scaleX:H.scaleX,scaleY:H.scaleY}),this._min=q,this._max=X},Q.prototype._updateController=function(J,K,Y,Z){var q=this;af(J,Z,this.group,this._controller,this._controllerHost,K),this._controller.on("zoom",function(X){q._updateNodeAndLinkScale(J)})},Q.prototype._updateNodeAndLinkScale=function(J){var K=J.getData(),Y=this._getNodeGlobalScale(J);K.eachItemGraphicEl(function(Z,q){Z.setSymbolScale(Y)})},Q.prototype._getNodeGlobalScale=function(J){var K=J.coordinateSystem;if(K.type!=="view")return 1;var Y=this._nodeScaleRatio,Z=K.scaleX||1,q=K.getZoom(),X=(q-1)*Y+1;return X/Z},Q.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},Q.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},Q.type="tree",Q}(c1);Zy0=Uk1});function Nk1($){var{mainData:Q,datas:J}=$;if(!J)J={main:Q},$.datasAttr={main:"data"};$.datas=$.mainData=null,Xy0(Q,J,$),S(J,function(K){S(Q.TRANSFERABLE_METHODS,function(Y){K.wrapMethod(Y,K1(Bk1,$))})}),Q.wrapMethod("cloneShallow",K1(Ak1,$)),S(Q.CHANGABLE_METHODS,function(K){Q.wrapMethod(K,K1(zk1,$))}),M0(J[Q.dataType]===Q)}function Bk1($,Q){if(Gk1(this)){var J=Y0({},KQ(this).datas);J[this.dataType]=Q,Xy0(Q,J,$)}else o00(Q,this.dataType,KQ(this).mainData,$);return Q}function zk1($,Q){return $.struct&&$.struct.update(),Q}function Ak1($,Q){return S(KQ(Q).datas,function(J,K){J!==Q&&o00(J.cloneShallow(),K,Q,$)}),Q}function Vk1($){var Q=KQ(this).mainData;return $==null||Q==null?Q:KQ(Q).datas[$]}function Rk1(){var $=KQ(this).mainData;return $==null?[{data:$}]:q0(N1(KQ($).datas),function(Q){return{type:Q,data:KQ($).datas[Q]}})}function Gk1($){return KQ($).mainData===$}function Xy0($,Q,J){KQ($).datas={},S(Q,function(K,Y){o00(K,Y,$,J)})}function o00($,Q,J,K){if(KQ(J).datas[Q]=$,KQ($).mainData=J,$.dataType=Q,K.struct)$[K.structAttr]=K.struct,K.struct[K.datasAttr[Q]]=$;$.getLinkedData=Vk1,$.getLinkedDataAll=Rk1}var KQ,qI;var a00=h(()=>{l();l0();KQ=o0();qI=Nk1});function Tk1($,Q){var J=Q.children;if($.parentNode===Q)return;J.push($),$.parentNode=Q}var Ok1,wk1,HA;var XI=h(()=>{l();a00();e$();dz();l0();Ok1=function(){function $(Q,J){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=Q||"",this.hostTree=J}return $.prototype.isRemoved=function(){return this.dataIndex<0},$.prototype.eachNode=function(Q,J,K){if(I0(Q))K=J,J=Q,Q=null;if(Q=Q||{},R0(Q))Q={order:Q};var Y=Q.order||"preorder",Z=this[Q.attr||"children"],q;Y==="preorder"&&(q=J.call(K,this));for(var X=0;!q&&X<Z.length;X++)Z[X].eachNode(Q,J,K);Y==="postorder"&&J.call(K,this)},$.prototype.updateDepthAndHeight=function(Q){var J=0;this.depth=Q;for(var K=0;K<this.children.length;K++){var Y=this.children[K];if(Y.updateDepthAndHeight(Q+1),Y.height>J)J=Y.height}this.height=J+1},$.prototype.getNodeById=function(Q){if(this.getId()===Q)return this;for(var J=0,K=this.children,Y=K.length;J<Y;J++){var Z=K[J].getNodeById(Q);if(Z)return Z}},$.prototype.contains=function(Q){if(Q===this)return!0;for(var J=0,K=this.children,Y=K.length;J<Y;J++){var Z=K[J].contains(Q);if(Z)return Z}},$.prototype.getAncestors=function(Q){var J=[],K=Q?this:this.parentNode;while(K)J.push(K),K=K.parentNode;return J.reverse(),J},$.prototype.getAncestorsIndices=function(){var Q=[],J=this;while(J)Q.push(J.dataIndex),J=J.parentNode;return Q.reverse(),Q},$.prototype.getDescendantIndices=function(){var Q=[];return this.eachNode(function(J){Q.push(J.dataIndex)}),Q},$.prototype.getValue=function(Q){var J=this.hostTree.data;return J.getStore().get(J.getDimensionIndex(Q||"value"),this.dataIndex)},$.prototype.setLayout=function(Q,J){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,Q,J)},$.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},$.prototype.getModel=function(Q){if(this.dataIndex<0)return;var J=this.hostTree,K=J.data.getItemModel(this.dataIndex);return K.getModel(Q)},$.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},$.prototype.setVisual=function(Q,J){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,Q,J)},$.prototype.getVisual=function(Q){return this.hostTree.data.getItemVisual(this.dataIndex,Q)},$.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},$.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},$.prototype.getChildIndex=function(){if(this.parentNode){var Q=this.parentNode.children;for(var J=0;J<Q.length;++J)if(Q[J]===this)return J;return-1}return-1},$.prototype.isAncestorOf=function(Q){var J=Q.parentNode;while(J){if(J===this)return!0;J=J.parentNode}return!1},$.prototype.isDescendantOf=function(Q){return Q!==this&&Q.isAncestorOf(this)},$}(),wk1=function(){function $(Q){this.type="tree",this._nodes=[],this.hostModel=Q}return $.prototype.eachNode=function(Q,J,K){this.root.eachNode(Q,J,K)},$.prototype.getNodeByDataIndex=function(Q){var J=this.data.getRawIndex(Q);return this._nodes[J]},$.prototype.getNodeById=function(Q){return this.root.getNodeById(Q)},$.prototype.update=function(){var Q=this.data,J=this._nodes;for(var K=0,Y=J.length;K<Y;K++)J[K].dataIndex=-1;for(var K=0,Y=Q.count();K<Y;K++)J[Q.getRawIndex(K)].dataIndex=K},$.prototype.clearLayouts=function(){this.data.clearItemLayouts()},$.createTree=function(Q,J,K){var Y=new $(J),Z=[],q=1;X(Q);function X(H,B){var z=H.value;q=Math.max(q,Z0(z)?z.length:1),Z.push(H);var A=new Ok1(T6(H.name,""),Y);B?Tk1(A,B):Y.root=A,Y._nodes.push(A);var R=H.children;if(R)for(var G=0;G<R.length;G++)X(R[G],A)}Y.root.updateDepthAndHeight(0);var W=FJ(Z,{coordDimensions:["value"],dimensionsCount:q}).dimensions,F=new e6(W,J);return F.initData(Z),K&&K(F),qI({mainData:F,struct:Y,structAttr:"tree"}),Y.update(),Y},$}();HA=wk1});function cZ($,Q,J){if($&&J1(Q,$.type)>=0){var K=J.getData().tree.root,Y=$.targetNode;if(R0(Y))Y=K.getNodeById(Y);if(Y&&K.contains(Y))return{node:Y};var Z=$.targetNodeId;if(Z!=null&&(Y=K.getNodeById(Z)))return{node:Y}}}function t00($){var Q=[];while($)$=$.parentNode,$&&Q.push($);return Q.reverse()}function NA($,Q){var J=t00($);return J1(J,Q)>=0}function G2($,Q){var J=[];while($){var K=$.dataIndex;J.push({name:$.name,dataIndex:K,value:Q.getRawValue(K)}),$=$.parentNode}return J.reverse(),J}var uZ=h(()=>{l()});var Dk1,Wy0;var Fy0=h(()=>{H0();o6();XI();K7();j4();uZ();y1();Dk1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.hasSymbolVisual=!0,J.ignoreStyleOnData=!0,J}return Q.prototype.getInitialData=function(J){var K={name:J.name,children:J.data},Y=J.leaves||{},Z=new h1(Y,this,this.ecModel),q=HA.createTree(K,this,X);function X(B){B.wrapMethod("getItemModel",function(z,A){var R=q.getNodeByDataIndex(A);if(!(R&&R.children.length&&R.isExpand))z.parentModel=Z;return z})}var W=0;q.eachNode("preorder",function(B){if(B.depth>W)W=B.depth});var F=J.expandAndCollapse,H=F&&J.initialTreeDepth>=0?J.initialTreeDepth:W;return q.root.eachNode("preorder",function(B){var z=B.hostTree.data.getRawDataItem(B.dataIndex);B.isExpand=z&&z.collapsed!=null?!z.collapsed:B.depth<=H}),q.data},Q.prototype.getOrient=function(){var J=this.get("orient");if(J==="horizontal")J="LR";else if(J==="vertical")J="TB";return J},Q.prototype.setZoom=function(J){this.option.zoom=J},Q.prototype.setCenter=function(J){this.option.center=J},Q.prototype.formatTooltip=function(J,K,Y){var Z=this.getData().tree,q=Z.root.children[0],X=Z.getNodeByDataIndex(J),W=X.getValue(),F=X.name;while(X&&X!==q)F=X.parentNode.name+"."+F,X=X.parentNode;return $6("nameValue",{name:F,value:W,noValue:isNaN(W)||W==null})},Q.prototype.getDataParams=function(J){var K=$.prototype.getDataParams.apply(this,arguments),Y=this.getData().tree.getNodeByDataIndex(J);return K.treeAncestors=G2(Y,this),K.collapsed=!Y.isExpand,K},Q.type="series.tree",Q.layoutMode="box",Q.defaultOption={z:2,coordinateSystemUsage:"box",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,roamTrigger:"global",nodeScaleRatio:0.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:e.color.borderTint,width:1.5,curveness:0.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},Q}(o1),Wy0=Dk1});function Uy0($,Q,J){var K=[$],Y=[],Z;while(Z=K.pop())if(Y.push(Z),Z.isExpand){var q=Z.children;if(q.length)for(var X=0;X<q.length;X++)K.push(q[X])}while(Z=Y.pop())Q(Z,J)}function BA($,Q){var J=[$],K;while(K=J.pop())if(Q(K),K.isExpand){var Y=K.children;if(Y.length)for(var Z=Y.length-1;Z>=0;Z--)J.push(Y[Z])}}var Hy0=()=>{};function $10($,Q){$.eachSeriesByType("tree",function(J){Ck1(J,Q)})}function Ck1($,Q){var J=_5($,Q).refContainer,K=X5($.getBoxLayoutParams(),J);$.layoutInfo=K;var Y=$.get("layout"),Z=0,q=0,X=null;if(Y==="radial")Z=2*Math.PI,q=Math.min(K.height,K.width)/2,X=i00(function(j,E){return(j.parentNode===E.parentNode?1:2)/j.depth});else Z=K.width,q=K.height,X=i00();var W=$.getData().tree.root,F=W.children[0];if(F){ag0(W),Uy0(F,tg0,X),W.hierNode.modifier=-F.hierNode.prelim,BA(F,eg0);var H=F,B=F,z=F;BA(F,function(j){var E=j.getLayout().x;if(E<H.getLayout().x)H=j;if(E>B.getLayout().x)B=j;if(j.depth>z.depth)z=j});var A=H===B?1:X(H,B)/2,R=A-H.getLayout().x,G=0,O=0,T=0,D=0;if(Y==="radial")G=Z/(B.getLayout().x+A+R),O=q/(z.depth-1||1),BA(F,function(j){T=(j.getLayout().x+R)*G,D=(j.depth-1)*O;var E=iU(T,D);j.setLayout({x:E.x,y:E.y,rawX:T,rawY:D},!0)});else{var P=$.getOrient();if(P==="RL"||P==="LR")O=q/(B.getLayout().x+A+R),G=Z/(z.depth-1||1),BA(F,function(j){D=(j.getLayout().x+R)*O,T=P==="LR"?(j.depth-1)*G:Z-(j.depth-1)*G,j.setLayout({x:T,y:D},!0)});else if(P==="TB"||P==="BT")G=Z/(B.getLayout().x+A+R),O=q/(z.depth-1||1),BA(F,function(j){T=(j.getLayout().x+R)*G,D=P==="TB"?(j.depth-1)*O:q-(j.depth-1)*O,j.setLayout({x:T,y:D},!0)})}}}var Ny0=h(()=>{Hy0();l5()});function Q10($){$.eachSeriesByType("tree",function(Q){var J=Q.getData(),K=J.tree;K.eachNode(function(Y){var Z=Y.getModel(),q=Z.getModel("itemStyle").getItemStyle(),X=J.ensureUniqueItemVisual(Y.dataIndex,"style");Y0(X,q)})})}var By0=h(()=>{l()});function zy0($){$.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(Q,J){J.eachComponent({mainType:"series",subType:"tree",query:Q},function(K){var Y=Q.dataIndex,Z=K.getData().tree,q=Z.getNodeByDataIndex(Y);q.isExpand=!q.isExpand})}),$.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(Q,J,K){J.eachComponent({mainType:"series",subType:"tree",query:Q},function(Y){var Z=Y.coordinateSystem,q=V2(Z,Q,Y.get("scaleLimit"));Y.setCenter(q.center),Y.setZoom(q.zoom)})})}var Ay0=h(()=>{$Y()});function J10($){$.registerChartView(Zy0),$.registerSeriesModel(Wy0),$.registerLayout($10),$.registerVisual(Q10),zy0($)}var Vy0=h(()=>{qy0();Fy0();Ny0();By0();Ay0()});function Gy0($){for(var Q=0;Q<Ry0.length;Q++)$.registerAction({type:Ry0[Q],update:"updateView"},K6);$.registerAction({type:"treemapRootToNode",update:"updateView"},function(J,K){K.eachComponent({mainType:"series",subType:"treemap",query:J},Y);function Y(Z,q){var X=["treemapZoomToNode","treemapRootToNode"],W=cZ(J,X,Z);if(W){var F=Z.getViewRoot();if(F)J.direction=NA(F,W.node)?"rollUp":"drillDown";Z.resetViewRoot(W.node)}}})}var Ry0;var Oy0=h(()=>{uZ();l();Ry0=["treemapZoomToNode","treemapRender","treemapMove"]});function aT($){var Q=$.getData(),J=Q.tree,K={};J.eachNode(function(Y){var Z=Y;while(Z&&Z.depth>1)Z=Z.parentNode;var q=mw($.ecModel,Z.name||Z.dataIndex+"",K);Y.setVisual("decal",q)})}var K10=h(()=>{pw()});function wy0($){var Q=0;S($.children,function(K){wy0(K);var Y=K.value;Z0(Y)&&(Y=Y[0]),Q+=Y});var J=$.value;if(Z0(J))J=J[0];if(J==null||isNaN(J))J=Q;if(J<0)J=0;Z0($.value)?$.value[0]=J:$.value=J}function kk1($,Q){var J=H5(Q.get("color")),K=H5(Q.get(["aria","decal","decals"]));if(!J)return;$=$||[];var Y,Z;S($,function(X){var W=new h1(X),F=W.get("color"),H=W.get("decal");if(W.get(["itemStyle","color"])||F&&F!=="none")Y=!0;if(W.get(["itemStyle","decal"])||H&&H!=="none")Z=!0});var q=$[0]||($[0]={});if(!Y)q.color=J.slice();if(!Z&&K)q.decal=K.slice();return $}var Pk1,Ty0;var Dy0=h(()=>{H0();l();o6();XI();K7();uZ();l0();j4();K10();y1();Pk1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.preventUsingHoverLayer=!0,J}return Q.prototype.getInitialData=function(J,K){var Y={name:J.name,children:J.data};wy0(Y);var Z=J.levels||[],q=this.designatedVisualItemStyle={},X=new h1({itemStyle:q},this,K);Z=J.levels=kk1(Z,K);var W=q0(Z||[],function(B){return new h1(B,X,K)},this),F=HA.createTree(Y,this,H);function H(B){B.wrapMethod("getItemModel",function(z,A){var R=F.getNodeByDataIndex(A),G=R?W[R.depth]:null;return z.parentModel=G||X,z})}return F.data},Q.prototype.optionUpdated=function(){this.resetViewRoot()},Q.prototype.formatTooltip=function(J,K,Y){var Z=this.getData(),q=this.getRawValue(J),X=Z.getName(J);return $6("nameValue",{name:X,value:q})},Q.prototype.getDataParams=function(J){var K=$.prototype.getDataParams.apply(this,arguments),Y=this.getData().tree.getNodeByDataIndex(J);return K.treeAncestors=G2(Y,this),K.treePathInfo=K.treeAncestors,K},Q.prototype.setLayoutInfo=function(J){this.layoutInfo=this.layoutInfo||{},Y0(this.layoutInfo,J)},Q.prototype.mapIdToIndex=function(J){var K=this._idIndexMap;if(!K)K=this._idIndexMap=_0(),this._idIndexMapCount=0;var Y=K.get(J);if(Y==null)K.set(J,Y=this._idIndexMapCount++);return Y},Q.prototype.getViewRoot=function(){return this._viewRoot},Q.prototype.resetViewRoot=function(J){J?this._viewRoot=J:J=this._viewRoot;var K=this.getRawData().tree.root;if(!J||J!==K&&!K.contains(J))this._viewRoot=K},Q.prototype.enableAriaDecal=function(){aT(this)},Q.type="series.treemap",Q.layoutMode="box",Q.defaultOption={progressive:0,coordinateSystemUsage:"box",left:e.size.l,top:e.size.xxxl,right:e.size.l,bottom:e.size.xxxl,sort:!0,clipWindow:"origin",squareRatio:0.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:0.1024,scaleLimit:{max:5,min:0.2},roam:!0,roamTrigger:"global",nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",bottom:e.size.m,emptyItemWidth:25,itemStyle:{color:e.color.backgroundShade,textStyle:{color:e.color.secondary}},emphasis:{itemStyle:{color:e.color.background}}},label:{show:!0,distance:0,padding:5,position:"inside",color:e.color.neutral00,overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:e.color.neutral00,borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},Q}(o1);Ty0=Pk1});function Lk1($,Q,J,K,Y,Z){var q=[[Y?$:$-Y10,Q],[$+J,Q],[$+J,Q+K],[Y?$:$-Y10,Q+K]];return!Z&&q.splice(2,0,[$+J+Y10,Q+K/2]),!Y&&q.push([$,Q+K/2]),q}function hk1($,Q,J){r0($).eventData={componentType:"series",componentSubType:"treemap",componentIndex:Q.componentIndex,seriesIndex:Q.seriesIndex,seriesName:Q.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:J&&J.dataIndex,name:J&&J.name},treePathInfo:J&&G2(J,Q)}}var jk1=8,Cy0=8,Y10=5,Ek1,Py0;var ky0=h(()=>{a0();o5();l5();uZ();l();l0();M5();g5();Ek1=function(){function $(Q){this.group=new b0,Q.add(this.group)}return $.prototype.render=function(Q,J,K,Y){var Z=Q.getModel("breadcrumb"),q=this.group;if(q.removeAll(),!Z.get("show")||!K)return;var X=Z.getModel("itemStyle"),W=Z.getModel("emphasis"),F=X.getModel("textStyle"),H=W.getModel(["itemStyle","textStyle"]),B=_5(Q,J).refContainer,z={left:Z.get("left"),right:Z.get("right"),top:Z.get("top"),bottom:Z.get("bottom")},A={emptyItemWidth:Z.get("emptyItemWidth"),totalWidth:0,renderList:[]},R=X5(z,B);this._prepare(K,A,F),this._renderContent(Q,A,R,X,W,F,H,Y),rX(q,z,B)},$.prototype._prepare=function(Q,J,K){for(var Y=Q;Y;Y=Y.parentNode){var Z=T6(Y.getModel().get("name"),""),q=K.getTextRect(Z),X=Math.max(q.width+jk1*2,J.emptyItemWidth);J.totalWidth+=X+Cy0,J.renderList.push({node:Y,text:Z,width:X})}},$.prototype._renderContent=function(Q,J,K,Y,Z,q,X,W){var F=0,H=J.emptyItemWidth,B=Q.get(["breadcrumb","height"]),z=J.totalWidth,A=J.renderList,R=Z.getModel("itemStyle").getItemStyle();for(var G=A.length-1;G>=0;G--){var O=A[G],T=O.node,D=O.width,P=O.text;if(z>K.width)z-=D-H,D=H,P=null;var j=new S6({shape:{points:Lk1(F,0,D,B,G===A.length-1,G===0)},style:c0(Y.getItemStyle(),{lineJoin:"bevel"}),textContent:new j1({style:A5(q,{text:P})}),textConfig:{position:"inside"},z2:VZ*1e4,onclick:K1(W,T)});j.disableLabelAnimation=!0,j.getTextContent().ensureState("emphasis").style=A5(X,{text:P}),j.ensureState("emphasis").style=R,s1(j,Z.get("focus"),Z.get("blurScope"),Z.get("disabled")),this.group.add(j),hk1(j,Q,T),F+=D+Cy0}},$.prototype.remove=function(){this.group.removeAll()},$}();Py0=Ek1});function jy0(){return new vk1}var vk1;var Ey0=h(()=>{vk1=function(){function $(){this._storage=[],this._elExistsMap={}}return $.prototype.add=function(Q,J,K,Y,Z){if(this._elExistsMap[Q.id])return!1;return this._elExistsMap[Q.id]=!0,this._storage.push({el:Q,target:J,duration:K,delay:Y,easing:Z}),!0},$.prototype.finished=function(Q){return this._finishedCallback=Q,this},$.prototype.start=function(){var Q=this,J=this._storage.length,K=function(){if(J--,J<=0)Q._storage.length=0,Q._elExistsMap={},Q._finishedCallback&&Q._finishedCallback()};for(var Y=0,Z=this._storage.length;Y<Z;Y++){var q=this._storage[Y];q.el.animateTo(q.target,{duration:q.duration,delay:q.delay,easing:q.easing,setToFinal:!0,done:K,aborted:K})}return this},$}()});function tT(){return{nodeGroup:[],background:[],content:[]}}function bk1($,Q,J,K,Y,Z,q,X,W,F){if(!q)return;var H=q.getLayout(),B=$.getData(),z=q.getModel();if(B.setItemGraphicEl(q.dataIndex,null),!H||!H.isInView)return;var{width:A,height:R,borderWidth:G,invisible:O}=H,T=q.getRawIndex(),D=X&&X.getRawIndex(),P=q.viewChildren,j=H.upperHeight,E=P&&P.length,L=z.getModel("itemStyle"),v=z.getModel(["emphasis","itemStyle"]),f=z.getModel(["blur","itemStyle"]),_=z.getModel(["select","itemStyle"]),M=L.get("borderRadius")||0,b=W1("nodeGroup",Z10);if(!b)return;if(W.add(b),b.x=H.x||0,b.y=H.y||0,b.markRedraw(),WI(b).nodeWidth=A,WI(b).nodeHeight=R,H.isAboveViewRoot)return b;var x=W1("background",Ly0,F,fk1);x&&Q0(b,x,E&&H.upperLabelHeight);var g=z.getModel("emphasis"),m=g.get("focus"),u=g.get("blurScope"),p=g.get("disabled"),o=m==="ancestor"?q.getAncestorsIndices():m==="descendant"?q.getDescendantIndices():m;if(E){if(tQ(b))GZ(b,!1);if(x)GZ(x,!p),B.setItemGraphicEl(q.dataIndex,x),YS(x,o,u)}else{var t=W1("content",Ly0,F,Ik1);if(t&&F0(b,t),x.disableMorphing=!0,x&&tQ(x))GZ(x,!1);GZ(b,!p),B.setItemGraphicEl(q.dataIndex,b);var r=z.getShallow("cursor");r&&t.attr("cursor",r),YS(b,o,u)}return b;function Q0(B1,e0,P1){var t0=r0(e0);if(t0.dataIndex=q.dataIndex,t0.seriesIndex=$.seriesIndex,e0.setShape({x:0,y:0,width:A,height:R,r:M}),O)W0(e0);else{e0.invisible=!1;var w1=q.getVisual("style"),V5=w1.stroke,g1=_y0(L);g1.fill=V5;var w5=sU(v);w5.fill=v.get("borderColor");var T5=sU(f);T5.fill=f.get("borderColor");var d6=sU(_);if(d6.fill=_.get("borderColor"),P1){var x1=A-2*G;h0(e0,V5,w1.opacity,{x:G,y:0,width:x1,height:j})}else e0.removeTextContent();e0.setStyle(g1),e0.ensureState("emphasis").style=w5,e0.ensureState("blur").style=T5,e0.ensureState("select").style=d6,aQ(e0)}B1.add(e0)}function F0(B1,e0){var P1=r0(e0);P1.dataIndex=q.dataIndex,P1.seriesIndex=$.seriesIndex;var t0=Math.max(A-2*G,0),w1=Math.max(R-2*G,0);if(e0.culling=!0,e0.setShape({x:G,y:G,width:t0,height:w1,r:M}),O)W0(e0);else{e0.invisible=!1;var V5=q.getVisual("style"),g1=V5.fill,w5=_y0(L);w5.fill=g1,w5.decal=V5.decal;var T5=sU(v),d6=sU(f),x1=sU(_);h0(e0,g1,V5.opacity,null),e0.setStyle(w5),e0.ensureState("emphasis").style=T5,e0.ensureState("blur").style=d6,e0.ensureState("select").style=x1,aQ(e0)}B1.add(e0)}function W0(B1){!B1.invisible&&Z.push(B1)}function h0(B1,e0,P1,t0){var w1=z.getModel(t0?Sy0:vy0),V5=T6(z.get("name"),null),g1=w1.getShallow("show");p5(B1,b5(z,t0?Sy0:vy0),{defaultText:g1?V5:null,inheritColor:e0,defaultOpacity:P1,labelFetcher:$,labelDataIndex:q.dataIndex});var w5=B1.getTextContent();if(!w5)return;var T5=w5.style,d6=jX(T5.padding||0);if(t0)B1.setTextConfig({layoutRect:t0}),w5.disableLabelLayout=!0;w5.beforeUpdate=function(){var b7=Math.max((t0?t0.width:B1.shape.width)-d6[1]-d6[3],0),o9=Math.max((t0?t0.height:B1.shape.height)-d6[0]-d6[2],0);if(T5.width!==b7||T5.height!==o9)w5.setStyle({width:b7,height:o9})},T5.truncateMinChar=2,T5.lineOverflow="truncate",d0(T5,t0,H);var x1=w5.getState("emphasis");d0(x1?x1.style:null,t0,H)}function d0(B1,e0,P1){var t0=B1?B1.text:null;if(!e0&&P1.isLeafRoot&&t0!=null){var w1=$.get("drillDownIcon",!0);B1.text=w1?w1+" "+t0:t0}}function W1(B1,e0,P1,t0){var w1=D!=null&&J[B1][D],V5=Y[B1];if(w1)J[B1][D]=null,z1(V5,w1);else if(!O){if(w1=new e0,w1 instanceof w7)w1.z2=gk1(P1,t0);b1(V5,w1)}return Q[B1][T]=w1}function z1(B1,e0){var P1=B1[T]={};if(e0 instanceof Z10)P1.oldX=e0.x,P1.oldY=e0.y;else P1.oldShape=Y0({},e0.shape)}function b1(B1,e0){var P1=B1[T]={},t0=q.parentNode,w1=e0 instanceof b0;if(t0&&(!K||K.direction==="drillDown")){var V5=0,g1=0,w5=Y.background[t0.getRawIndex()];if(!K&&w5&&w5.oldShape)V5=w5.oldShape.width,g1=w5.oldShape.height;if(w1)P1.oldX=0,P1.oldY=g1;else P1.oldShape={x:V5,y:g1,width:0,height:0}}P1.fadein=!w1}}function gk1($,Q){return $*_k1+Q}var Z10,Ly0,hy0=3,vy0="label",Sy0="upperLabel",_k1,fk1,Ik1,sU,_y0=function($){var Q=sU($);return Q.stroke=Q.fill=Q.lineWidth=null,Q},WI,Mk1,fy0;var Iy0=h(()=>{H0();l();a0();o5();M5();SZ();uZ();ky0();A2();s5();Ey0();rF();t6();E3();l0();P4();g5();Z10=b0,Ly0=X1,_k1=VZ*10,fk1=VZ*2,Ik1=VZ*3,sU=I9([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),WI=o0(),Mk1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J._state="ready",J._storage=tT(),J}return Q.prototype.render=function(J,K,Y,Z){var q=K.findComponents({mainType:"series",subType:"treemap",query:Z});if(J1(q,J)<0)return;this.seriesModel=J,this.api=Y,this.ecModel=K;var X=["treemapZoomToNode","treemapRootToNode"],W=cZ(Z,X,J),F=Z&&Z.type,H=J.layoutInfo,B=!this._oldTree,z=this._storage,A=F==="treemapRootToNode"&&W&&z?{rootNodeGroup:z.nodeGroup[W.node.getRawIndex()],direction:Z.direction}:null,R=this._giveContainerGroup(H),G=J.get("animation"),O=this._doRender(R,J,A);G&&!B&&(!F||F==="treemapZoomToNode"||F==="treemapRootToNode")?this._doAnimation(R,O,J,A):O.renderFinally(),this._resetController(Y),this._renderBreadcrumb(J,Y,W)},Q.prototype._giveContainerGroup=function(J){var K=this._containerGroup;if(!K)K=this._containerGroup=new Z10,this._initEvents(K),this.group.add(K);return K.x=J.x,K.y=J.y,K},Q.prototype._doRender=function(J,K,Y){var Z=K.getData().tree,q=this._oldTree,X=tT(),W=tT(),F=this._storage,H=[];function B(D,P,j,E){return bk1(K,W,F,Y,X,H,D,P,j,E)}G(Z.root?[Z.root]:[],q&&q.root?[q.root]:[],J,Z===q||!q,0);var z=O(F);if(this._oldTree=Z,this._storage=W,this._controllerHost){var A=this.seriesModel.layoutInfo,R=Z.root.getLayout();if(R.width===A.width&&R.height===A.height)this._controllerHost.zoom=1}return{lastsForAnimation:X,willDeleteEls:z,renderFinally:T};function G(D,P,j,E,L){if(E)P=D,S(D,function(_,M){!_.isRemoved()&&f(M,M)});else new Q4(P,D,v,v).add(f).update(f).remove(K1(f,null)).execute();function v(_){return _.getId()}function f(_,M){var b=_!=null?D[_]:null,x=M!=null?P[M]:null,g=B(b,x,j,L);g&&G(b&&b.viewChildren||[],x&&x.viewChildren||[],g,E,L+1)}}function O(D){var P=tT();return D&&S(D,function(j,E){var L=P[E];S(j,function(v){v&&(L.push(v),WI(v).willDelete=!0)})}),P}function T(){S(z,function(D){S(D,function(P){P.parent&&P.parent.remove(P)})}),S(H,function(D){D.invisible=!0,D.dirty()})}},Q.prototype._doAnimation=function(J,K,Y,Z){var q=Y.get("animationDurationUpdate"),X=Y.get("animationEasing"),W=(I0(q)?0:q)||0,F=(I0(X)?null:X)||"cubicOut",H=jy0();S(K.willDeleteEls,function(B,z){S(B,function(A,R){if(A.invisible)return;var G=A.parent,O,T=WI(G);if(Z&&Z.direction==="drillDown")O=G===Z.rootNodeGroup?{shape:{x:0,y:0,width:T.nodeWidth,height:T.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var D=0,P=0;if(!T.willDelete)D=T.nodeWidth/2,P=T.nodeHeight/2;O=z==="nodeGroup"?{x:D,y:P,style:{opacity:0}}:{shape:{x:D,y:P,width:0,height:0},style:{opacity:0}}}O&&H.add(A,O,W,0,F)})}),S(this._storage,function(B,z){S(B,function(A,R){var G=K.lastsForAnimation[z][R],O={};if(!G)return;if(A instanceof b0){if(G.oldX!=null)O.x=A.x,O.y=A.y,A.x=G.oldX,A.y=G.oldY}else{if(G.oldShape)O.shape=Y0({},A.shape),A.setShape(G.oldShape);if(G.fadein)A.setStyle("opacity",0),O.style={opacity:1};else if(A.style.opacity!==1)O.style={opacity:1}}H.add(A,O,W,0,F)})},this),this._state="animating",H.finished(P0(function(){this._state="ready",K.renderFinally()},this)).start()},Q.prototype._resetController=function(J){var K=this,Y=this._controller,Z=this._controllerHost;if(!Z)this._controllerHost={target:this.group},Z=this._controllerHost;var q=this.seriesModel;if(!Y)Y=this._controller=new s9(J.getZr()),Y.on("pan",P0(this._onPan,this)),Y.on("zoom",P0(this._onZoom,this));Y.enable(q.get("roam"),{api:J,zInfo:{component:q},triggerInfo:{roamTrigger:q.get("roamTrigger"),isInSelf:function(X,W,F){var H=K._containerGroup;return H?H.getBoundingRect().contain(W-H.x,F-H.y):!1}}}),Z.zoomLimit=q.get("scaleLimit"),Z.zoom=q.get("zoom")},Q.prototype._clearController=function(){var J=this._controller;if(this._controllerHost=null,J)J.dispose(),J=null},Q.prototype._onPan=function(J){if(this._state!=="animating"&&(Math.abs(J.dx)>hy0||Math.abs(J.dy)>hy0)){var K=this.seriesModel.getData().tree.root;if(!K)return;var Y=K.getLayout();if(!Y)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:Y.x+J.dx,y:Y.y+J.dy,width:Y.width,height:Y.height}})}},Q.prototype._onZoom=function(J){var{originX:K,originY:Y,scale:Z}=J;if(this._state!=="animating"){var q=this.seriesModel.getData().tree.root;if(!q)return;var X=q.getLayout();if(!X)return;var W=new n0(X.x,X.y,X.width,X.height),F=null,H=this._controllerHost;F=H.zoomLimit;var B=H.zoom=H.zoom||1;if(B*=Z,F){var z=F.min||0,A=F.max||1/0;B=Math.max(Math.min(A,B),z)}var R=B/H.zoom;H.zoom=B;var G=this.seriesModel.layoutInfo;K-=G.x,Y-=G.y;var O=V6();s8(O,O,[-K,-Y]),$z(O,O,[R,R]),s8(O,O,[K,Y]),W.applyTransform(O),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:W.x,y:W.y,width:W.width,height:W.height}})}},Q.prototype._initEvents=function(J){var K=this;J.on("click",function(Y){if(K._state!=="ready")return;var Z=K.seriesModel.get("nodeClick",!0);if(!Z)return;var q=K.findTarget(Y.offsetX,Y.offsetY);if(!q)return;var X=q.node;if(X.getLayout().isLeafRoot)K._rootToNode(q);else if(Z==="zoomToNode")K._zoomToNode(q);else if(Z==="link"){var W=X.hostTree.data.getItemModel(X.dataIndex),F=W.get("link",!0),H=W.get("target",!0)||"blank";F&&OU(F,H)}},this)},Q.prototype._renderBreadcrumb=function(J,K,Y){var Z=this;if(!Y){if(Y=J.get("leafDepth",!0)!=null?{node:J.getViewRoot()}:this.findTarget(K.getWidth()/2,K.getHeight()/2),!Y)Y={node:J.getData().tree.root}}(this._breadcrumb||(this._breadcrumb=new Py0(this.group))).render(J,K,Y.node,function(q){if(Z._state!=="animating")NA(J.getViewRoot(),q)?Z._rootToNode({node:q}):Z._zoomToNode({node:q})})},Q.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=tT(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},Q.prototype.dispose=function(){this._clearController()},Q.prototype._zoomToNode=function(J){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:J.node})},Q.prototype._rootToNode=function(J){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:J.node})},Q.prototype.findTarget=function(J,K){var Y,Z=this.seriesModel.getViewRoot();return Z.eachNode({attr:"viewChildren",order:"preorder"},function(q){var X=this._storage.background[q.getRawIndex()];if(X){var W=X.transformCoordToLocal(J,K),F=X.shape;if(F.x<=W[0]&&W[0]<=F.x+F.width&&F.y<=W[1]&&W[1]<=F.y+F.height)Y={node:q,offsetX:W[0],offsetY:W[1]};else return!1}},this),Y},Q.type="treemap",Q}(c1);fy0=Mk1});function xk1($){var Q=$.pieceList;$.hasSpecialVisual=!1,S(Q,function(J,K){if(J.originIndex=K,J.visual!=null)$.hasSpecialVisual=!0})}function ck1($){var Q=$.categories,J=$.categoryMap={},K=$.visual;if(QD(Q,function(q,X){J[q]=X}),!Z0(K)){var Y=[];if(y0(K))QD(K,function(q,X){var W=J[X];Y[W!=null?W:HI]=q});else Y[HI]=K;K=by0($,Y)}for(var Z=Q.length-1;Z>=0;Z--)if(K[Z]==null)delete J[Q[Z]],Q.pop()}function q10($,Q){var J=$.visual,K=[];if(y0(J))QD(J,function(Z){K.push(Z)});else if(J!=null)K.push(J);var Y={color:1,symbol:1};if(!Q&&K.length===1&&!Y.hasOwnProperty($.type))K[1]=K[0];by0($,K)}function FI($){return{applyVisual:function(Q,J,K){var Y=this.mapValueToVisual(Q);K("color",$(J("color"),Y))},_normalizedToVisual:X10([0,1])}}function My0($){var Q=this.option.visual;return Q[Math.round(Z5($,[0,1],[0,Q.length-1],!0))]||{}}function eT($){return function(Q,J,K){K($,this.mapValueToVisual(Q))}}function $D($){var Q=this.option.visual;return Q[this.option.loop&&$!==HI?$%Q.length:$]}function oU(){return this.option.visual[0]}function X10($){return{linear:function(Q){return Z5(Q,$,this.option.visual,!0)},category:$D,piecewise:function(Q,J){var K=W10.call(this,J);if(K==null)K=Z5(Q,$,this.option.visual,!0);return K},fixed:oU}}function W10($){var Q=this.option,J=Q.pieceList;if(Q.hasSpecialVisual){var K=F10.findPieceIndex($,J),Y=J[K];if(Y&&Y.visual)return Y.visual[this.type]}}function by0($,Q){if($.visual=Q,$.type==="color")$.parsedVisual=q0(Q,function(J){var K=J8(J);if(!K)S5("'"+J+"' is an illegal color, fallback to '#000000'",!0);return K||[0,0,0,1]});return Q}function UI($,Q,J){return $?Q<=J:Q<J}var QD,yk1,HI=-1,F10,uk1,B7;var O2=h(()=>{l();o8();k1();N5();QD=S,yk1=y0,F10=function(){function $(Q){var{mappingMethod:J,type:K}=Q,Y=this.option=m0(Q);this.type=K,this.mappingMethod=J,this._normalizeData=uk1[J];var Z=$.visualHandlers[K];if(this.applyVisual=Z.applyVisual,this.getColorMapper=Z.getColorMapper,this._normalizedToVisual=Z._normalizedToVisual[J],J==="piecewise")q10(Y),xk1(Y);else if(J==="category")Y.categories?ck1(Y):q10(Y,!0);else M0(J!=="linear"||Y.dataExtent),q10(Y)}return $.prototype.mapValueToVisual=function(Q){var J=this._normalizeData(Q);return this._normalizedToVisual(J,Q)},$.prototype.getNormalizer=function(){return P0(this._normalizeData,this)},$.listVisualTypes=function(){return N1($.visualHandlers)},$.isValidType=function(Q){return $.visualHandlers.hasOwnProperty(Q)},$.eachVisual=function(Q,J,K){if(y0(Q))S(Q,J,K);else J.call(K,Q)},$.mapVisual=function(Q,J,K){var Y,Z=Z0(Q)?[]:y0(Q)?{}:(Y=!0,null);return $.eachVisual(Q,function(q,X){var W=J.call(K,q,X);Y?Z=W:Z[X]=W}),Z},$.retrieveVisuals=function(Q){var J={},K;return Q&&QD($.visualHandlers,function(Y,Z){if(Q.hasOwnProperty(Z))J[Z]=Q[Z],K=!0}),K?J:null},$.prepareVisualTypes=function(Q){if(Z0(Q))Q=Q.slice();else if(yk1(Q)){var J=[];QD(Q,function(K,Y){J.push(Y)}),Q=J}else return[];return Q.sort(function(K,Y){return Y==="color"&&K!=="color"&&K.indexOf("color")===0?1:-1}),Q},$.dependsOn=function(Q,J){return J==="color"?!!(Q&&Q.indexOf(J)===0):Q===J},$.findPieceIndex=function(Q,J,K){var Y,Z=1/0;for(var q=0,X=J.length;q<X;q++){var W=J[q].value;if(W!=null){if(W===Q||R0(W)&&W===Q+"")return q;K&&z(W,q)}}for(var q=0,X=J.length;q<X;q++){var F=J[q],H=F.interval,B=F.close;if(H){if(H[0]===-1/0){if(UI(B[1],Q,H[1]))return q}else if(H[1]===1/0){if(UI(B[0],H[0],Q))return q}else if(UI(B[0],H[0],Q)&&UI(B[1],Q,H[1]))return q;K&&z(H[0],q),K&&z(H[1],q)}}if(K)return Q===1/0?J.length-1:Q===-1/0?0:Y;function z(A,R){var G=Math.abs(A-Q);if(G<Z)Z=G,Y=R}},$.visualHandlers={color:{applyVisual:eT("color"),getColorMapper:function(){var Q=this.option;return P0(Q.mappingMethod==="category"?function(J,K){return!K&&(J=this._normalizeData(J)),$D.call(this,J)}:function(J,K,Y){var Z=!!Y;return!K&&(J=this._normalizeData(J)),Y=Nv(J,Q.parsedVisual,Y),Z?Y:v9(Y,"rgba")},this)},_normalizedToVisual:{linear:function(Q){return v9(Nv(Q,this.option.parsedVisual),"rgba")},category:$D,piecewise:function(Q,J){var K=W10.call(this,J);if(K==null)K=v9(Nv(Q,this.option.parsedVisual),"rgba");return K},fixed:oU}},colorHue:FI(function(Q,J){return M$(Q,J)}),colorSaturation:FI(function(Q,J){return M$(Q,null,J)}),colorLightness:FI(function(Q,J){return M$(Q,null,null,J)}),colorAlpha:FI(function(Q,J){return MF(Q,J)}),decal:{applyVisual:eT("decal"),_normalizedToVisual:{linear:null,category:$D,piecewise:null,fixed:null}},opacity:{applyVisual:eT("opacity"),_normalizedToVisual:X10([0,1])},liftZ:{applyVisual:eT("liftZ"),_normalizedToVisual:{linear:oU,category:oU,piecewise:oU,fixed:oU}},symbol:{applyVisual:function(Q,J,K){var Y=this.mapValueToVisual(Q);K("symbol",Y)},_normalizedToVisual:{linear:My0,category:$D,piecewise:function(Q,J){var K=W10.call(this,J);if(K==null)K=My0.call(this,Q);return K},fixed:oU}},symbolSize:{applyVisual:eT("symbolSize"),_normalizedToVisual:X10([0,1])}},$}();uk1={linear:function($){return Z5($,this.option.dataExtent,[0,1],!0)},piecewise:function($){var Q=this.option.pieceList,J=F10.findPieceIndex($,Q,!0);if(J!=null)return Z5(J,[0,Q.length-1],[0,1],!0)},category:function($){var Q=this.option.categories?this.option.categoryMap[$]:$;return Q==null?HI:Q},fixed:K6};B7=F10});function cy0($,Q,J,K){var Y=$.getModel(),Z=$.getLayout(),q=$.hostTree.data;if(!Z||Z.invisible||!Z.isInView)return;var X=Y.getModel(mk1),W=pk1(X,Q,K),F=q.ensureUniqueItemVisual($.dataIndex,"style"),H=X.get("borderColor"),B=X.get("borderColorSaturation"),z;if(B!=null)z=gy0(W),H=dk1(B,z);F.stroke=H;var A=$.viewChildren;if(!A||!A.length)z=gy0(W),F.fill=z;else{var R=nk1($,Y,Z,X,W,A);S(A,function(G,O){if(G.depth>=J.length||G===J[G.depth]){var T=lk1(Y,W,G,O,R,K);cy0(G,T,J,K)}})}}function pk1($,Q,J){var K=Y0({},Q),Y=J.designatedVisualItemStyle;return S(["color","colorAlpha","colorSaturation"],function(Z){Y[Z]=Q[Z];var q=$.get(Z);Y[Z]=null,q!=null&&(K[Z]=q)}),K}function gy0($){var Q=U10($,"color");if(Q){var J=U10($,"colorAlpha"),K=U10($,"colorSaturation");if(K)Q=M$(Q,null,null,K);if(J)Q=MF(Q,J);return Q}}function dk1($,Q){return Q!=null?M$(Q,null,null,$):null}function U10($,Q){var J=$[Q];if(J!=null&&J!=="none")return J}function nk1($,Q,J,K,Y,Z){if(!Z||!Z.length)return;var q=H10(Q,"color")||Y.color!=null&&Y.color!=="none"&&(H10(Q,"colorAlpha")||H10(Q,"colorSaturation"));if(!q)return;var X=Q.get("visualMin"),W=Q.get("visualMax"),F=J.dataExtent.slice();X!=null&&X<F[0]&&(F[0]=X),W!=null&&W>F[1]&&(F[1]=W);var H=Q.get("colorMappingBy"),B={type:q.name,dataExtent:F,visual:q.range};if(B.type==="color"&&(H==="index"||H==="id"))B.mappingMethod="category",B.loop=!0;else B.mappingMethod="linear";var z=new B7(B);return yy0(z).drColorMappingBy=H,z}function H10($,Q){var J=$.get(Q);return Z0(J)&&J.length?{name:Q,range:J}:null}function lk1($,Q,J,K,Y,Z){var q=Y0({},Q);if(Y){var X=Y.type,W=X==="color"&&yy0(Y).drColorMappingBy,F=W==="index"?K:W==="id"?Z.mapIdToIndex(J.getId()):J.getValue($.get("visualDimension"));q[X]=Y.mapValueToVisual(F)}return q}var mk1="itemStyle",yy0,xy0;var uy0=h(()=>{O2();l();o8();l0();yy0=o0(),xy0={seriesType:"treemap",reset:function($){var Q=$.getData().tree,J=Q.root;if(J.isRemoved())return;cy0(J,{},$.getViewRoot().getAncestors(),$)}}});function ly0($,Q,J,K){var Y,Z;if($.isRemoved())return;var q=$.getLayout();Y=q.width,Z=q.height;var X=$.getModel(),W=X.get(dy0),F=X.get(rk1)/2,H=iy0(X),B=Math.max(W,H),z=W-F,A=B-F;$.setLayout({borderWidth:W,upperHeight:B,upperLabelHeight:H},!0),Y=JD(Y-2*z,0),Z=JD(Z-z-A,0);var R=Y*Z,G=ok1($,X,R,Q,J,K);if(!G.length)return;var O={x:z,y:A,width:Y,height:Z},T=NI(Y,Z),D=1/0,P=[];P.area=0;for(var j=0,E=G.length;j<E;){var L=G[j];P.push(L),P.area+=L.getLayout().area;var v=$j1(P,T,Q.squareRatio);if(v<=D)j++,D=v;else P.area-=P.pop().getLayout().area,py0(P,T,O,F,!1),T=NI(O.width,O.height),P.length=P.area=0,D=1/0}if(P.length)py0(P,T,O,F,!0);if(!J){var f=X.get("childrenVisibleMin");if(f!=null&&R<f)J=!0}for(var j=0,E=G.length;j<E;j++)ly0(G[j],Q,J,K+1)}function ok1($,Q,J,K,Y,Z){var q=$.children||[],X=K.sort;X!=="asc"&&X!=="desc"&&(X=null);var W=K.leafDepth!=null&&K.leafDepth<=Z;if(Y&&!W)return $.viewChildren=[];q=f1(q,function(A){return!A.isRemoved()}),tk1(q,X);var F=ek1(Q,q,X);if(F.sum===0)return $.viewChildren=[];if(F.sum=ak1(Q,J,F.sum,X,q),F.sum===0)return $.viewChildren=[];for(var H=0,B=q.length;H<B;H++){var z=q[H].getValue()/F.sum*J;q[H].setLayout({area:z})}if(W)q.length&&$.setLayout({isLeafRoot:!0},!0),q.length=0;return $.viewChildren=q,$.setLayout({dataExtent:F.dataExtent},!0),q}function ak1($,Q,J,K,Y){if(!K)return J;var Z=$.get("visibleMin"),q=Y.length,X=q;for(var W=q-1;W>=0;W--){var F=Y[K==="asc"?q-W-1:W].getValue();if(F/J*Q<Z)X=W,J-=F}return K==="asc"?Y.splice(0,q-X):Y.splice(X,q-X),J}function tk1($,Q){if(Q)$.sort(function(J,K){var Y=Q==="asc"?J.getValue()-K.getValue():K.getValue()-J.getValue();return Y===0?Q==="asc"?J.dataIndex-K.dataIndex:K.dataIndex-J.dataIndex:Y});return $}function ek1($,Q,J){var K=0;for(var Y=0,Z=Q.length;Y<Z;Y++)K+=Q[Y].getValue();var q=$.get("visualDimension"),X;if(!Q||!Q.length)X=[NaN,NaN];else if(q==="value"&&J)X=[Q[Q.length-1].getValue(),Q[0].getValue()],J==="asc"&&X.reverse();else X=[1/0,-1/0],N10(Q,function(W){var F=W.getValue(q);F<X[0]&&(X[0]=F),F>X[1]&&(X[1]=F)});return{sum:K,dataExtent:X}}function $j1($,Q,J){var K=0,Y=1/0;for(var Z=0,q=void 0,X=$.length;Z<X;Z++)if(q=$[Z].getLayout().area,q)q<Y&&(Y=q),q>K&&(K=q);var W=$.area*$.area,F=Q*Q*J;return W?JD(F*K/W,W/(F*Y)):1/0}function py0($,Q,J,K,Y){var Z=Q===J.width?0:1,q=1-Z,X=["x","y"],W=["width","height"],F=J[X[Z]],H=Q?$.area/Q:0;if(Y||H>J[W[q]])H=J[W[q]];for(var B=0,z=$.length;B<z;B++){var A=$[B],R={},G=H?A.getLayout().area/H:0,O=R[W[q]]=JD(H-2*K,0),T=J[X[Z]]+J[W[Z]]-F,D=B===z-1||T<G?T:G,P=R[W[Z]]=JD(D-2*K,0);R[X[q]]=J[X[q]]+NI(K,O/2),R[X[Z]]=F+NI(K,P/2),F+=D,A.setLayout(R,!0)}J[X[q]]+=H,J[W[q]]-=H}function Qj1($,Q,J,K,Y){var Z=(Q||{}).node,q=[K,Y];if(!Z||Z===J)return q;var X,W=K*Y,F=W*$.option.zoomToNodeRatio;while(X=Z.parentNode){var H=0,B=X.children;for(var z=0,A=B.length;z<A;z++)H+=B[z].getValue();var R=Z.getValue();if(R===0)return q;F*=H/R;var G=X.getModel(),O=G.get(dy0),T=Math.max(O,iy0(G));F+=4*O*O+(3*O+T)*Math.pow(F,0.5),F>Ss&&(F=Ss),Z=X}F<W&&(F=W);var D=Math.pow(F/W,0.5);return[K*D,Y*D]}function Jj1($,Q,J){if(Q)return{x:Q.x,y:Q.y};var K={x:0,y:0};if(!J)return K;var Y=J.node,Z=Y.getLayout();if(!Z)return K;var q=[Z.width/2,Z.height/2],X=Y;while(X){var W=X.getLayout();q[0]+=W.x,q[1]+=W.y,X=X.parentNode}return{x:$.width/2-q[0],y:$.height/2-q[1]}}function ry0($,Q,J,K,Y){var Z=$.getLayout(),q=J[Y],X=q&&q===$;if(q&&!X||Y===J.length&&$!==K)return;$.setLayout({isInView:!0,invisible:!X&&!Q.intersect(Z),isAboveViewRoot:X},!0);var W=new n0(Q.x-Z.x,Q.y-Z.y,Q.width,Q.height);N10($.viewChildren||[],function(F){ry0(F,W,J,K,Y+1)})}function iy0($){return $.get(ik1)?$.get(sk1):0}var JD,NI,my0,N10,dy0,rk1,ik1,sk1,ny0;var sy0=h(()=>{l();s5();k1();l5();uZ();JD=Math.max,NI=Math.min,my0=J6,N10=S,dy0=["itemStyle","borderWidth"],rk1=["itemStyle","gapWidth"],ik1=["upperLabel","show"],sk1=["upperLabel","height"],ny0={seriesType:"treemap",reset:function($,Q,J,K){var Y=$.option,Z=_5($,J).refContainer,q=X5($.getBoxLayoutParams(),Z),X=Y.size||[],W=f0(my0(q.width,X[0]),Z.width),F=f0(my0(q.height,X[1]),Z.height),H=K&&K.type,B=["treemapZoomToNode","treemapRootToNode"],z=cZ(K,B,$),A=H==="treemapRender"||H==="treemapMove"?K.rootRect:null,R=$.getViewRoot(),G=t00(R);if(H!=="treemapMove"){var O=H==="treemapZoomToNode"?Qj1($,z,R,W,F):A?[A.width,A.height]:[W,F],T=Y.sort;if(T&&T!=="asc"&&T!=="desc")T="desc";var D={squareRatio:Y.squareRatio,sort:T,leafDepth:Y.leafDepth};R.hostTree.clearLayouts();var P={x:0,y:0,width:O[0],height:O[1],area:O[0]*O[1]};R.setLayout(P),ly0(R,D,!1,0),P=R.getLayout(),N10(G,function(E,L){var v=(G[L+1]||R).getValue();E.setLayout(Y0({dataExtent:[v,v],borderWidth:0,upperHeight:0},P))})}var j=$.getData().tree.root;j.setLayout(Jj1(q,A,z),!0),$.setLayoutInfo(q),ry0(j,new n0(-q.x,-q.y,J.getWidth(),J.getHeight()),G,R,0)}}});function B10($){$.registerSeriesModel(Ty0),$.registerChartView(fy0),$.registerVisual(xy0),$.registerLayout(ny0),Gy0($)}var oy0=h(()=>{Oy0();Dy0();Iy0();uy0();sy0()});function z10($){var Q=$.findComponents({mainType:"legend"});if(!Q||!Q.length)return;$.eachSeriesByType("graph",function(J){var K=J.getCategoriesData(),Y=J.getGraph(),Z=Y.data,q=K.mapArray(K.getName);Z.filterSelf(function(X){var W=Z.getItemModel(X),F=W.getShallow("category");if(F!=null){if(V1(F))F=q[F];for(var H=0;H<Q.length;H++)if(!Q[H].isSelected(F))return!1}return!0})})}var ay0=h(()=>{l()});function A10($){var Q={};$.eachSeriesByType("graph",function(J){var K=J.getCategoriesData(),Y=J.getData(),Z={};if(K.each(function(q){var X=K.getName(q);Z["ec-"+X]=q;var W=K.getItemModel(q),F=W.getModel("itemStyle").getItemStyle();if(!F.fill)F.fill=J.getColorFromPalette(X,Q);K.setItemVisual(q,"style",F);var H=["symbol","symbolSize","symbolKeepAspect"];for(var B=0;B<H.length;B++){var z=W.getShallow(H[B],!0);if(z!=null)K.setItemVisual(q,H[B],z)}}),K.count())Y.each(function(q){var X=Y.getItemModel(q),W=X.getShallow("category");if(W!=null){if(R0(W))W=Z["ec-"+W];var F=K.getItemVisual(W,"style"),H=Y.ensureUniqueItemVisual(q,"style");Y0(H,F);var B=["symbol","symbolSize","symbolKeepAspect"];for(var z=0;z<B.length;z++)Y.setItemVisual(q,B[z],K.getItemVisual(W,B[z]))}})})}var ty0=h(()=>{l()});function BI($){if(!($ instanceof Array))$=[$,$];return $}function V10($){$.eachSeriesByType("graph",function(Q){var J=Q.getGraph(),K=Q.getEdgeData(),Y=BI(Q.get("edgeSymbol")),Z=BI(Q.get("edgeSymbolSize"));K.setVisual("fromSymbol",Y&&Y[0]),K.setVisual("toSymbol",Y&&Y[1]),K.setVisual("fromSymbolSize",Z&&Z[0]),K.setVisual("toSymbolSize",Z&&Z[1]),K.setVisual("style",Q.getModel("lineStyle").getLineStyle()),K.each(function(q){var X=K.getItemModel(q),W=J.getEdgeByIndex(q),F=BI(X.getShallow("symbol",!0)),H=BI(X.getShallow("symbolSize",!0)),B=X.getModel("lineStyle").getLineStyle(),z=K.ensureUniqueItemVisual(q,"style");switch(Y0(z,B),z.stroke){case"source":{var A=W.node1.getVisual("style");z.stroke=A&&A.fill;break}case"target":{var A=W.node2.getVisual("style");z.stroke=A&&A.fill;break}}F[0]&&W.setVisual("fromSymbol",F[0]),F[1]&&W.setVisual("toSymbol",F[1]),H[0]&&W.setVisual("fromSymbolSize",H[0]),H[1]&&W.setVisual("toSymbolSize",H[1])})})}var ey0=h(()=>{l()});function Jx0($){if(!zI($))return;$.__curvenessList=[],$.__edgeMap={},$x0($)}function Kx0($,Q,J,K){if(!zI(J))return;var Y=KD($,Q,J),Z=J.__edgeMap,q=Z[Qx0(Y)];if(Z[Y]&&!q)Z[Y].isForward=!0;else if(q&&Z[Y])q.isForward=!0,Z[Y].isForward=!1;Z[Y]=Z[Y]||[],Z[Y].push(K)}function zA($,Q,J,K){var Y=zI(Q),Z=Z0(Y);if(!Y)return null;var q=Kj1($,Q);if(!q)return null;var X=-1;for(var W=0;W<q.length;W++)if(q[W]===J){X=W;break}var F=Yj1($,Q);$x0(Q,F),$.lineStyle=$.lineStyle||{};var H=KD($.node1,$.node2,Q),B=Q.__curvenessList,z=Z?0:F%2?0:1;if(!q.isForward){var A=Qx0(H),R=G10(A,Q),G=B[X+R+z];if(K)if(Z)if(Y&&Y[0]===0)return(R+z)%2?G:-G;else return((R%2?0:1)+z)%2?G:-G;else return(R+z)%2?G:-G;else return B[X+R+z]}else return B[z+X]}var R10="-->",zI=function($){return $.get("autoCurveness")||null},$x0=function($,Q){var J=zI($),K=20,Y=[];if(V1(J))K=J;else if(Z0(J)){$.__curvenessList=J;return}if(Q>K)K=Q;var Z=K%2?K+2:K+3;Y=[];for(var q=0;q<Z;q++)Y.push((q%2?q+1:q)/10*(q%2?-1:1));$.__curvenessList=Y},KD=function($,Q,J){var K=[$.id,$.dataIndex].join("."),Y=[Q.id,Q.dataIndex].join(".");return[J.uid,K,Y].join(R10)},Qx0=function($){var Q=$.split(R10);return[Q[0],Q[2],Q[1]].join(R10)},Kj1=function($,Q){var J=KD($.node1,$.node2,Q);return Q.__edgeMap[J]},Yj1=function($,Q){var J=G10(KD($.node1,$.node2,Q),Q),K=G10(KD($.node2,$.node1,Q),Q);return J+K},G10=function($,Q){var J=Q.__edgeMap;return J[$]?J[$].length:0};var YD=h(()=>{l()});function AI($){var Q=$.coordinateSystem;if(Q&&Q.type!=="view")return;var J=$.getGraph();J.eachNode(function(K){var Y=K.getModel();K.setLayout([+Y.get("x"),+Y.get("y")])}),ZD(J,$)}function ZD($,Q){$.eachEdge(function(J,K){var Y=v6(J.getModel().get(["lineStyle","curveness"]),-zA(J,Q,K,!0),0),Z=j9(J.node1.getLayout()),q=j9(J.node2.getLayout()),X=[Z,q];if(+Y)X.push([(Z[0]+q[0])/2-(Z[1]-q[1])*Y,(Z[1]+q[1])/2-(q[0]-Z[0])*Y]);J.setLayout(X)})}var VI=h(()=>{w6();l();YD()});function O10($,Q){$.eachSeriesByType("graph",function(J){var K=J.get("layout"),Y=J.coordinateSystem;if(Y&&Y.type!=="view"){var Z=J.getData(),q=[];S(Y.dimensions,function(z){q=q.concat(Z.mapDimensionsAll(z))});for(var X=0;X<Z.count();X++){var W=[],F=!1;for(var H=0;H<q.length;H++){var B=Z.get(q[H],X);if(!isNaN(B))F=!0;W.push(B)}if(F)Z.setItemLayout(X,Y.dataToPoint(W));else Z.setItemLayout(X,[NaN,NaN])}ZD(Z.graph,J)}else if(!K||K==="none")AI(J)})}var Yx0=h(()=>{l();VI()});function aU($){var Q=$.coordinateSystem;if(Q.type!=="view")return 1;var J=$.option.nodeScaleRatio,K=Q.scaleX,Y=Q.getZoom(),Z=(Y-1)*J+1;return Z/K}function tU($){var Q=$.getVisual("symbolSize");if(Q instanceof Array)Q=(Q[0]+Q[1])/2;return+Q}function AA($,Q,J,K){var Y=$.coordinateSystem;if(Y&&Y.type!=="view")return;var Z=Y.getBoundingRect(),q=$.getData(),X=q.graph,W=Z.width/2+Z.x,F=Z.height/2+Z.y,H=Math.min(Z.width,Z.height)/2,B=q.count();if(q.setLayout({cx:W,cy:F}),!B)return;if(J){var z=Y.pointToData(K),A=z[0],R=z[1],G=[A-W,R-F];v$(G,G),oB(G,G,H),J.setLayout([W+G[0],F+G[1]],!0);var O=$.get(["circular","rotateLabel"]);T10(J,O,W,F)}Zj1[Q]($,X,q,H,W,F,B),X.eachEdge(function(T,D){var P=v6(T.getModel().get(["lineStyle","curveness"]),zA(T,$,D),0),j=j9(T.node1.getLayout()),E=j9(T.node2.getLayout()),L,v=(j[0]+E[0])/2,f=(j[1]+E[1])/2;if(+P)P*=3,L=[W*P+v*(1-P),F*P+f*(1-P)];T.setLayout([j,E,L])})}function T10($,Q,J,K){var Y=$.getGraphicEl();if(!Y)return;var Z=$.getModel(),q=Z.get(["label","rotate"])||0,X=Y.getSymbolPath();if(Q){var W=$.getLayout(),F=Math.atan2(W[1]-K,W[0]-J);if(F<0)F=Math.PI*2+F;var H=W[0]<J;if(H)F=F-Math.PI;var B=H?"left":"right";X.setTextConfig({rotation:-F,position:B,origin:"center"});var z=X.ensureState("emphasis");Y0(z.textConfig||(z.textConfig={}),{position:B})}else X.setTextConfig({rotation:q*=Math.PI/180})}var Zx0,w10,Zj1;var RI=h(()=>{w6();l();YD();Zx0=Math.PI,w10=[];Zj1={value:function($,Q,J,K,Y,Z,q){var X=0,W=J.getSum("value"),F=Math.PI*2/(W||q);Q.eachNode(function(H){var B=H.getValue("value"),z=F*(W?B:1)/2;X+=z,H.setLayout([K*Math.cos(X)+Y,K*Math.sin(X)+Z]),X+=z})},symbolSize:function($,Q,J,K,Y,Z,q){var X=0;w10.length=q;var W=aU($);Q.eachNode(function(B){var z=tU(B);isNaN(z)&&(z=2),z<0&&(z=0),z*=W;var A=Math.asin(z/2/K);isNaN(A)&&(A=Zx0/2),w10[B.dataIndex]=A,X+=A*2});var F=(2*Zx0-X)/q/2,H=0;Q.eachNode(function(B){var z=F+w10[B.dataIndex];H+=z,(!B.getLayout()||!B.getLayout().fixed)&&B.setLayout([K*Math.cos(H)+Y,K*Math.sin(H)+Z]),H+=z})}}});function D10($){$.eachSeriesByType("graph",function(Q){if(Q.get("layout")==="circular")AA(Q,"symbolSize")})}var qx0=h(()=>{RI()});function Xx0($,Q,J){var K=$,Y=Q,Z=J.rect,q=Z.width,X=Z.height,W=[Z.x+q/2,Z.y+X/2],F=J.gravity==null?0.1:J.gravity;for(var H=0;H<K.length;H++){var B=K[H];if(!B.p)B.p=TK(q*(Math.random()-0.5)+W[0],X*(Math.random()-0.5)+W[1]);B.pp=j9(B.p),B.edges=null}var z=J.friction==null?0.6:J.friction,A=z,R,G;return{warmUp:function(){A=z*0.8},setFixed:function(O){K[O].fixed=!0},setUnfixed:function(O){K[O].fixed=!1},beforeStep:function(O){R=O},afterStep:function(O){G=O},step:function(O){R&&R(K,Y);var T=[],D=K.length;for(var P=0;P<Y.length;P++){var j=Y[P];if(j.ignoreForceLayout)continue;var{n1:E,n2:L}=j;pQ(T,L.p,E.p);var v=ih(T)-j.d,f=L.w/(E.w+L.w);if(isNaN(f))f=0;v$(T,T),!E.fixed&&VA(E.p,E.p,T,f*v*A),!L.fixed&&VA(L.p,L.p,T,-(1-f)*v*A)}for(var P=0;P<D;P++){var _=K[P];if(!_.fixed)pQ(T,W,_.p),VA(_.p,_.p,T,F*A)}for(var P=0;P<D;P++){var E=K[P];for(var M=P+1;M<D;M++){var L=K[M];pQ(T,L.p,E.p);var v=ih(T);if(v===0)dO(T,Math.random()-0.5,Math.random()-0.5),v=1;var b=(E.rep+L.rep)/v/v;!E.fixed&&VA(E.pp,E.pp,T,b),!L.fixed&&VA(L.pp,L.pp,T,-b)}}var x=[];for(var P=0;P<D;P++){var _=K[P];if(!_.fixed)pQ(x,_.p,_.pp),VA(_.p,_.p,x,A),N8(_.pp,_.p)}A=A*0.992;var g=A<0.01;G&&G(K,Y,g),O&&O(g)}}}var VA;var Wx0=h(()=>{w6();VA=nO});function C10($){$.eachSeriesByType("graph",function(Q){var J=Q.coordinateSystem;if(J&&J.type!=="view")return;if(Q.get("layout")==="force"){var K=Q.preservedPoints||{},Y=Q.getGraph(),Z=Y.data,q=Y.edgeData,X=Q.getModel("force"),W=X.get("initLayout");if(Q.preservedPoints)Z.each(function(P){var j=Z.getId(P);Z.setItemLayout(P,K[j]||[NaN,NaN])});else if(!W||W==="none")AI(Q);else if(W==="circular")AA(Q,"value");var F=Z.getDataExtent("value"),H=q.getDataExtent("value"),B=X.get("repulsion"),z=X.get("edgeLength"),A=Z0(B)?B:[B,B],R=Z0(z)?z:[z,z];R=[R[1],R[0]];var G=Z.mapArray("value",function(P,j){var E=Z.getItemLayout(j),L=Z5(P,F,A);if(isNaN(L))L=(A[0]+A[1])/2;return{w:L,rep:L,fixed:Z.getItemModel(j).get("fixed"),p:!E||isNaN(E[0])||isNaN(E[1])?null:E}}),O=q.mapArray("value",function(P,j){var E=Y.getEdgeByIndex(j),L=Z5(P,H,R);if(isNaN(L))L=(R[0]+R[1])/2;var v=E.getModel(),f=v6(E.getModel().get(["lineStyle","curveness"]),-zA(E,Q,j,!0),0);return{n1:G[E.node1.dataIndex],n2:G[E.node2.dataIndex],d:L,curveness:f,ignoreForceLayout:v.get("ignoreForceLayout")}}),T=J.getBoundingRect(),D=Xx0(G,O,{rect:T,gravity:X.get("gravity"),friction:X.get("friction")});D.beforeStep(function(P,j){for(var E=0,L=P.length;E<L;E++)if(P[E].fixed)N8(P[E].p,Y.getNodeByIndex(E).getLayout())}),D.afterStep(function(P,j,E){for(var L=0,v=P.length;L<v;L++){if(!P[L].fixed)Y.getNodeByIndex(L).setLayout(P[L].p);K[Z.getId(L)]=P[L].p}for(var L=0,v=j.length;L<v;L++){var f=j[L],_=Y.getEdgeByIndex(L),M=f.n1.p,b=f.n2.p,x=_.getLayout();if(x=x?x.slice():[],x[0]=x[0]||[],x[1]=x[1]||[],N8(x[0],M),N8(x[1],b),+f.curveness)x[2]=[(M[0]+b[0])/2-(M[1]-b[1])*f.curveness,(M[1]+b[1])/2-(b[0]-M[0])*f.curveness];_.setLayout(x)}}),Q.forceLayout=D,Q.preservedPoints=K,D.step()}else Q.forceLayout=null})}var Fx0=h(()=>{Wx0();VI();RI();k1();w6();l();YD()});function qj1($,Q,J){var K=_5($,Q),Y=Y0($.getBoxLayoutParams(),{aspect:J}),Z=X5(Y,K.refContainer);return oS($,Z,J)}function P10($,Q){var J=[];return $.eachSeriesByType("graph",function(K){uK({targetModel:K,coordSysType:"view",coordSysProvider:Y,isDefaultDataCoordSys:!0});function Y(){var Z=K.getData(),q=Z.mapArray(function(R){var G=Z.getItemModel(R);return[+G.get("x"),+G.get("y")]}),X=[],W=[];if(oF(q,X,W),W[0]-X[0]===0)W[0]+=1,X[0]-=1;if(W[1]-X[1]===0)W[1]+=1,X[1]-=1;var F=(W[0]-X[0])/(W[1]-X[1]),H=qj1(K,Q,F);if(isNaN(F))X=[H.x,H.y],W=[H.x+H.width,H.y+H.height];var B=W[0]-X[0],z=W[1]-X[1],A=new c3(null,{api:Q,ecModel:$});return A.zoomLimit=K.get("scaleLimit"),A.setBoundingRect(X[0],X[1],B,z),A.setViewRect(H.x,H.y,H.width,H.height),A.setCenter(K.get("center")),A.setZoom(K.get("zoom")),J.push(A),A}}),J}var Ux0=h(()=>{rU();l5();Gw();l();c9()});function j10($){return isNaN(+$.cpx1)||isNaN(+$.cpy1)}var Hx0,k10,Nx0,hv5,Xj1,GI;var E10=h(()=>{H0();a0();w6();y1();Hx0=X6.prototype,k10=FU.prototype,Nx0=function(){function $(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return $}(),hv5=function($){c(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q}(Nx0);Xj1=function($){c(Q,$);function Q(J){var K=$.call(this,J)||this;return K.type="ec-line",K}return Q.prototype.getDefaultStyle=function(){return{stroke:e.color.neutral99,fill:null}},Q.prototype.getDefaultShape=function(){return new Nx0},Q.prototype.buildPath=function(J,K){if(j10(K))Hx0.buildPath.call(this,J,K);else k10.buildPath.call(this,J,K)},Q.prototype.pointAt=function(J){if(j10(this.shape))return Hx0.pointAt.call(this,J);else return k10.pointAt.call(this,J)},Q.prototype.tangentAt=function(J){var K=this.shape,Y=j10(K)?[K.x2-K.x1,K.y2-K.y1]:k10.tangentAt.call(this,J);return v$(Y,Y)},Q}(Y1),GI=Xj1});function Bx0($){return"_"+$+"Type"}function zx0($,Q,J){var K=Q.getItemVisual(J,$);if(!K||K==="none")return K;var Y=Q.getItemVisual(J,$+"Size"),Z=Q.getItemVisual(J,$+"Rotate"),q=Q.getItemVisual(J,$+"Offset"),X=Q.getItemVisual(J,$+"KeepAspect"),W=XJ(Y),F=f3(q||0,W);return K+W+F+(Z||"")+(X||"")}function Ax0($,Q,J){var K=Q.getItemVisual(J,$);if(!K||K==="none")return;var Y=Q.getItemVisual(J,$+"Size"),Z=Q.getItemVisual(J,$+"Rotate"),q=Q.getItemVisual(J,$+"Offset"),X=Q.getItemVisual(J,$+"KeepAspect"),W=XJ(Y),F=f3(q||0,W),H=y5(K,-W[0]/2+F[0],-W[1]/2+F[1],W[0],W[1],null,X);return H.__specifiedRotation=Z==null||isNaN(Z)?void 0:+Z*Math.PI/180||0,H.name=$,H}function Wj1($){var Q=new GI({name:"line",subPixelOptimize:!0});return h10(Q.shape,$),Q}function h10($,Q){$.x1=Q[0][0],$.y1=Q[0][1],$.x2=Q[1][0],$.y2=Q[1][1],$.percent=1;var J=Q[2];if(J)$.cpx1=J[0],$.cpy1=J[1];else $.cpx1=NaN,$.cpy1=NaN}var L10,Fj1,RA;var OI=h(()=>{H0();l();w6();S8();E10();a0();M5();g5();k1();y1();L10=["fromSymbol","toSymbol"];Fj1=function($){c(Q,$);function Q(J,K,Y){var Z=$.call(this)||this;return Z._createLine(J,K,Y),Z}return Q.prototype._createLine=function(J,K,Y){var Z=J.hostModel,q=J.getItemLayout(K),X=J.getItemVisual(K,"z2"),W=Wj1(q);W.shape.percent=0,q5(W,{z2:g0(X,0),shape:{percent:1}},Z,K),this.add(W),S(L10,function(F){var H=Ax0(F,J,K);this.add(H),this[Bx0(F)]=zx0(F,J,K)},this),this._updateCommonStl(J,K,Y)},Q.prototype.updateData=function(J,K,Y){var Z=J.hostModel,q=this.childOfName("line"),X=J.getItemLayout(K),W={shape:{}};h10(W.shape,X),C1(q,W,Z,K),S(L10,function(F){var H=zx0(F,J,K),B=Bx0(F);if(this[B]!==H){this.remove(this.childOfName(F));var z=Ax0(F,J,K);this.add(z)}this[B]=H},this),this._updateCommonStl(J,K,Y)},Q.prototype.getLinePath=function(){return this.childAt(0)},Q.prototype._updateCommonStl=function(J,K,Y){var Z=J.hostModel,q=this.childOfName("line"),X=Y&&Y.emphasisLineStyle,W=Y&&Y.blurLineStyle,F=Y&&Y.selectLineStyle,H=Y&&Y.labelStatesModels,B=Y&&Y.emphasisDisabled,z=Y&&Y.focus,A=Y&&Y.blurScope;if(!Y||J.hasItemOption){var R=J.getItemModel(K),G=R.getModel("emphasis");X=G.getModel("lineStyle").getLineStyle(),W=R.getModel(["blur","lineStyle"]).getLineStyle(),F=R.getModel(["select","lineStyle"]).getLineStyle(),B=G.get("disabled"),z=G.get("focus"),A=G.get("blurScope"),H=b5(R)}var O=J.getItemVisual(K,"style"),T=O.stroke;q.useStyle(O),q.style.fill=null,q.style.strokeNoScale=!0,q.ensureState("emphasis").style=X,q.ensureState("blur").style=W,q.ensureState("select").style=F,S(L10,function(L){var v=this.childOfName(L);if(v){v.setColor(T),v.style.opacity=O.opacity;for(var f=0;f<Y8.length;f++){var _=Y8[f],M=q.getState(_);if(M){var b=M.style||{},x=v.ensureState(_),g=x.style||(x.style={});if(b.stroke!=null)g[v.__isEmptyBrush?"stroke":"fill"]=b.stroke;if(b.opacity!=null)g.opacity=b.opacity}}v.markRedraw()}},this);var D=Z.getRawValue(K);p5(this,H,{labelDataIndex:K,labelFetcher:{getFormattedLabel:function(L,v){return Z.getFormattedLabel(L,v,J.dataType)}},inheritColor:T||e.color.neutral99,defaultOpacity:O.opacity,defaultText:(D==null?J.getName(K):isFinite(D)?Z6(D):D)+""});var P=this.getTextContent();if(P){var j=H.normal;P.__align=P.style.align,P.__verticalAlign=P.style.verticalAlign,P.__position=j.get("position")||"middle";var E=j.get("distance");if(!Z0(E))E=[E,E];P.__labelDistance=E}this.setTextConfig({position:null,local:!0,inside:!1}),s1(this,z,A,B)},Q.prototype.highlight=function(){G4(this)},Q.prototype.downplay=function(){O4(this)},Q.prototype.updateLayout=function(J,K){this.setLinePoints(J.getItemLayout(K))},Q.prototype.setLinePoints=function(J){var K=this.childOfName("line");h10(K.shape,J),K.dirty()},Q.prototype.beforeUpdate=function(){var J=this,K=J.childOfName("fromSymbol"),Y=J.childOfName("toSymbol"),Z=J.getTextContent();if(!K&&!Y&&(!Z||Z.ignore))return;var q=1,X=this.parent;while(X){if(X.scaleX)q/=X.scaleX;X=X.parent}var W=J.childOfName("line");if(!this.__dirty&&!W.__dirty)return;var F=W.shape.percent,H=W.pointAt(0),B=W.pointAt(F),z=pQ([],B,H);v$(z,z);function A(M,b){var x=M.__specifiedRotation;if(x==null){var g=W.tangentAt(b);M.attr("rotation",(b===1?-1:1)*Math.PI/2-Math.atan2(g[1],g[0]))}else M.attr("rotation",x)}if(K)K.setPosition(H),A(K,0),K.scaleX=K.scaleY=q*F,K.markRedraw();if(Y)Y.setPosition(B),A(Y,1),Y.scaleX=Y.scaleY=q*F,Y.markRedraw();if(Z&&!Z.ignore){Z.x=Z.y=0,Z.originX=Z.originY=0;var R=void 0,G=void 0,O=Z.__labelDistance,T=O[0]*q,D=O[1]*q,P=F/2,j=W.tangentAt(P),E=[j[1],-j[0]],L=W.pointAt(P);if(E[1]>0)E[0]=-E[0],E[1]=-E[1];var v=j[0]<0?-1:1;if(Z.__position!=="start"&&Z.__position!=="end"){var f=-Math.atan2(j[1],j[0]);if(B[0]<H[0])f=Math.PI+f;Z.rotation=f}var _=void 0;switch(Z.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":_=-D,G="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":_=D,G="top";break;default:_=0,G="middle"}switch(Z.__position){case"end":Z.x=z[0]*T+B[0],Z.y=z[1]*D+B[1],R=z[0]>0.8?"left":z[0]<-0.8?"right":"center",G=z[1]>0.8?"top":z[1]<-0.8?"bottom":"middle";break;case"start":Z.x=-z[0]*T+H[0],Z.y=-z[1]*D+H[1],R=z[0]>0.8?"right":z[0]<-0.8?"left":"center",G=z[1]>0.8?"bottom":z[1]<-0.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":Z.x=T*v+H[0],Z.y=H[1]+_,R=j[0]<0?"right":"left",Z.originX=-T*v,Z.originY=-_;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":Z.x=L[0],Z.y=L[1]+_,R="center",Z.originY=-_;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":Z.x=-T*v+B[0],Z.y=B[1]+_,R=j[0]>=0?"right":"left",Z.originX=T*v,Z.originY=-_;break}Z.scaleX=Z.scaleY=q,Z.setStyle({verticalAlign:Z.__verticalAlign||G,align:Z.__align||R})}},Q}(b0),RA=Fj1});function Hj1($){return $.animators&&$.animators.length>0}function Vx0($){var Q=$.hostModel,J=Q.getModel("emphasis");return{lineStyle:Q.getModel("lineStyle").getLineStyle(),emphasisLineStyle:J.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:Q.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:Q.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:J.get("disabled"),blurScope:J.get("blurScope"),focus:J.get("focus"),labelStatesModels:b5(Q)}}function Rx0($){return isNaN($[0])||isNaN($[1])}function v10($){return $&&!Rx0($[0])&&!Rx0($[1])}var Uj1,GA;var wI=h(()=>{a0();OI();g5();Uj1=function(){function $(Q){this.group=new b0,this._LineCtor=Q||RA}return $.prototype.updateData=function(Q){var J=this;this._progressiveEls=null;var K=this,Y=K.group,Z=K._lineData;if(K._lineData=Q,!Z)Y.removeAll();var q=Vx0(Q);Q.diff(Z).add(function(X){J._doAdd(Q,X,q)}).update(function(X,W){J._doUpdate(Z,Q,W,X,q)}).remove(function(X){Y.remove(Z.getItemGraphicEl(X))}).execute()},$.prototype.updateLayout=function(){var Q=this._lineData;if(!Q)return;Q.eachItemGraphicEl(function(J,K){J.updateLayout(Q,K)},this)},$.prototype.incrementalPrepareUpdate=function(Q){this._seriesScope=Vx0(Q),this._lineData=null,this.group.removeAll()},$.prototype.incrementalUpdate=function(Q,J){this._progressiveEls=[];function K(X){if(!X.isGroup&&!Hj1(X))X.incremental=!0,X.ensureState("emphasis").hoverLayer=!0}for(var Y=Q.start;Y<Q.end;Y++){var Z=J.getItemLayout(Y);if(v10(Z)){var q=new this._LineCtor(J,Y,this._seriesScope);q.traverse(K),this.group.add(q),J.setItemGraphicEl(Y,q),this._progressiveEls.push(q)}}},$.prototype.remove=function(){this.group.removeAll()},$.prototype.eachRendered=function(Q){t4(this._progressiveEls||this.group,Q)},$.prototype._doAdd=function(Q,J,K){var Y=Q.getItemLayout(J);if(!v10(Y))return;var Z=new this._LineCtor(Q,J,K);Q.setItemGraphicEl(J,Z),this.group.add(Z)},$.prototype._doUpdate=function(Q,J,K,Y,Z){var q=Q.getItemGraphicEl(K);if(!v10(J.getItemLayout(Y))){this.group.remove(q);return}if(!q)q=new this._LineCtor(J,Y,Z);else q.updateData(J,Y,Z);J.setItemGraphicEl(Y,q),this.group.add(q)},$}();GA=Uj1});function Ox0($,Q,J){var K=$[0],Y=$[1],Z=$[2],q=1/0,X,W=J*J,F=0.1;for(var H=0.1;H<=0.9;H+=0.1){S10[0]=OA(K[0],Y[0],Z[0],H),S10[1]=OA(K[1],Y[1],Z[1],H);var B=Gx0(I10(S10,Q)-W);if(B<q)q=B,X=H}for(var z=0;z<32;z++){var A=X+F;_10[0]=OA(K[0],Y[0],Z[0],X),_10[1]=OA(K[1],Y[1],Z[1],X),f10[0]=OA(K[0],Y[0],Z[0],A),f10[1]=OA(K[1],Y[1],Z[1],A);var B=I10(_10,Q)-W;if(Gx0(B)<0.01)break;var R=I10(f10,Q)-W;if(F/=2,B<0)if(R>=0)X=X+F;else X=X-F;else if(R>=0)X=X-F;else X=X+F}return X}function qD($,Q){var J=[],K=fX,Y=[[],[],[]],Z=[[],[]],q=[];Q/=2,$.eachEdge(function(X,W){var F=X.getLayout(),H=X.getVisual("fromSymbol"),B=X.getVisual("toSymbol");if(!F.__original){if(F.__original=[j9(F[0]),j9(F[1])],F[2])F.__original.push(j9(F[2]))}var z=F.__original;if(F[2]!=null){if(N8(Y[0],z[0]),N8(Y[1],z[2]),N8(Y[2],z[1]),H&&H!=="none"){var A=tU(X.node1),R=Ox0(Y,z[0],A*Q);K(Y[0][0],Y[1][0],Y[2][0],R,J),Y[0][0]=J[3],Y[1][0]=J[4],K(Y[0][1],Y[1][1],Y[2][1],R,J),Y[0][1]=J[3],Y[1][1]=J[4]}if(B&&B!=="none"){var A=tU(X.node2),R=Ox0(Y,z[1],A*Q);K(Y[0][0],Y[1][0],Y[2][0],R,J),Y[1][0]=J[1],Y[2][0]=J[2],K(Y[0][1],Y[1][1],Y[2][1],R,J),Y[1][1]=J[1],Y[2][1]=J[2]}N8(F[0],Y[0]),N8(F[1],Y[2]),N8(F[2],Y[1])}else{if(N8(Z[0],z[0]),N8(Z[1],z[1]),pQ(q,Z[1],Z[0]),v$(q,q),H&&H!=="none"){var A=tU(X.node1);nO(Z[0],Z[0],q,A*Q)}if(B&&B!=="none"){var A=tU(X.node2);nO(Z[1],Z[1],q,-A*Q)}N8(F[0],Z[0]),N8(F[1],Z[1])}})}var S10,_10,f10,OA,I10,Gx0;var wx0=h(()=>{h9();w6();S10=[],_10=[],f10=[],OA=O7,I10=UZ,Gx0=Math.abs});function Dx0($){if($)return Tx0($).bridge}function M10($,Q){if($)Tx0($).bridge=Q}var Tx0;var b10=h(()=>{l0();Tx0=o0()});function Cx0($){return $.type==="view"}var Nj1,Px0;var kx0=h(()=>{H0();YA();wI();A2();$Y();a0();wx0();t6();o5();VI();RI();l();E10();b10();Nj1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(J,K){var Y=new aK,Z=new GA,q=this.group,X=new b0;this._controller=new s9(K.getZr()),this._controllerHost={target:X},X.add(Y.group),X.add(Z.group),q.add(X),this._symbolDraw=Y,this._lineDraw=Z,this._mainGroup=X,this._firstRender=!0},Q.prototype.render=function(J,K,Y){var Z=this,q=J.coordinateSystem,X=!1;this._model=J,this._api=Y,this._active=!0;var W=this._getThumbnailInfo();if(W)W.bridge.reset(Y);var F=this._symbolDraw,H=this._lineDraw;if(Cx0(q)){var B={x:q.x,y:q.y,scaleX:q.scaleX,scaleY:q.scaleY};if(this._firstRender)this._mainGroup.attr(B);else C1(this._mainGroup,B,J)}qD(J.getGraph(),aU(J));var z=J.getData();F.updateData(z);var A=J.getEdgeData();H.updateData(A),this._updateNodeAndLinkScale(),this._updateController(null,J,Y),clearTimeout(this._layoutTimeout);var R=J.forceLayout,G=J.get(["force","layoutAnimation"]);if(R)X=!0,this._startForceLayoutIteration(R,Y,G);var O=J.get("layout");z.graph.eachNode(function(j){var E=j.dataIndex,L=j.getGraphicEl(),v=j.getModel();if(!L)return;L.off("drag").off("dragend");var f=v.get("draggable");if(f)L.on("drag",function(M){switch(O){case"force":R.warmUp(),!Z._layouting&&Z._startForceLayoutIteration(R,Y,G),R.setFixed(E),z.setItemLayout(E,[L.x,L.y]);break;case"circular":z.setItemLayout(E,[L.x,L.y]),j.setLayout({fixed:!0},!0),AA(J,"symbolSize",j,[M.offsetX,M.offsetY]),Z.updateLayout(J);break;case"none":default:z.setItemLayout(E,[L.x,L.y]),ZD(J.getGraph(),J),Z.updateLayout(J);break}}).on("dragend",function(){if(R)R.setUnfixed(E)});L.setDraggable(f,!!v.get("cursor"));var _=v.get(["emphasis","focus"]);if(_==="adjacency")r0(L).focus=j.getAdjacentDataIndices()}),z.graph.eachEdge(function(j){var E=j.getGraphicEl(),L=j.getModel().get(["emphasis","focus"]);if(!E)return;if(L==="adjacency")r0(E).focus={edge:[j.dataIndex],node:[j.node1.dataIndex,j.node2.dataIndex]}});var T=J.get("layout")==="circular"&&J.get(["circular","rotateLabel"]),D=z.getLayout("cx"),P=z.getLayout("cy");if(z.graph.eachNode(function(j){T10(j,T,D,P)}),this._firstRender=!1,!X)this._renderThumbnail(J,Y,this._symbolDraw,this._lineDraw)},Q.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},Q.prototype._startForceLayoutIteration=function(J,K,Y){var Z=this,q=!1;(function X(){J.step(function(W){if(Z.updateLayout(Z._model),W||!q)q=!0,Z._renderThumbnail(Z._model,K,Z._symbolDraw,Z._lineDraw);(Z._layouting=!W)&&(Y?Z._layoutTimeout=setTimeout(X,16):X())})})()},Q.prototype._updateController=function(J,K,Y){var Z=this._controller,q=this._controllerHost,X=K.coordinateSystem;if(!Cx0(X)){Z.disable();return}Z.enable(K.get("roam"),{api:Y,zInfo:{component:K},triggerInfo:{roamTrigger:K.get("roamTrigger"),isInSelf:function(W,F,H){return X.containPoint([F,H])},isInClip:function(W,F,H){return!J||J.contain(F,H)}}}),q.zoomLimit=K.get("scaleLimit"),q.zoom=X.getZoom(),Z.off("pan").off("zoom").on("pan",function(W){Y.dispatchAction({seriesId:K.id,type:"graphRoam",dx:W.dx,dy:W.dy})}).on("zoom",function(W){Y.dispatchAction({seriesId:K.id,type:"graphRoam",zoom:W.scale,originX:W.originX,originY:W.originY})})},Q.prototype.updateViewOnPan=function(J,K,Y){if(!this._active)return;rT(this._controllerHost,Y.dx,Y.dy),this._updateThumbnailWindow()},Q.prototype.updateViewOnZoom=function(J,K,Y){if(!this._active)return;iT(this._controllerHost,Y.zoom,Y.originX,Y.originY),this._updateNodeAndLinkScale(),qD(J.getGraph(),aU(J)),this._lineDraw.updateLayout(),K.updateLabelLayout(),this._updateThumbnailWindow()},Q.prototype._updateNodeAndLinkScale=function(){var J=this._model,K=J.getData(),Y=aU(J);K.eachItemGraphicEl(function(Z,q){Z&&Z.setSymbolScale(Y)})},Q.prototype.updateLayout=function(J){if(!this._active)return;qD(J.getGraph(),aU(J)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},Q.prototype.remove=function(){this._active=!1,clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove(),this._controller&&this._controller.disable()},Q.prototype._getThumbnailInfo=function(){var J=this._model,K=J.coordinateSystem;if(K.type!=="view")return;var Y=Dx0(J);if(!Y)return;return{bridge:Y,coordSys:K}},Q.prototype._updateThumbnailWindow=function(){var J=this._getThumbnailInfo();if(J)J.bridge.updateWindow(J.coordSys.transform,this._api)},Q.prototype._renderThumbnail=function(J,K,Y,Z){var q=this._getThumbnailInfo();if(!q)return;var X=new b0,W=Y.group.children(),F=Z.group.children(),H=new b0,B=new b0;X.add(B),X.add(H);for(var z=0;z<W.length;z++){var A=W[z],R=A.children()[0],G=A.x,O=A.y,T=m0(R.shape),D=Y0(T,{width:R.scaleX,height:R.scaleY,x:G-R.scaleX/2,y:O-R.scaleY/2}),P=m0(R.style),j=new R.constructor({shape:D,style:P,z2:151});B.add(j)}for(var z=0;z<F.length;z++){var A=F[z],E=A.children()[0],P=m0(E.style),D=m0(E.shape),L=new GI({style:P,shape:D,z2:151});H.add(L)}q.bridge.renderContent({api:K,roamType:J.get("roam"),viewportRect:null,group:X,targetTrans:q.coordSys.transform})},Q.type="graph",Q}(c1),Px0=Nj1});function wA($){return"_EC_"+$}function Ex0($,Q){return{getValue:function(J){var K=this[$][Q];return K.getStore().get(K.getDimensionIndex(J||"value"),this.dataIndex)},setVisual:function(J,K){this.dataIndex>=0&&this[$][Q].setItemVisual(this.dataIndex,J,K)},getVisual:function(J){return this[$][Q].getItemVisual(this.dataIndex,J)},setLayout:function(J,K){this.dataIndex>=0&&this[$][Q].setItemLayout(this.dataIndex,J,K)},getLayout:function(){return this[$][Q].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[$][Q].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[$][Q].getRawIndex(this.dataIndex)}}}var Bj1,eU,jx0,Lx0;var hx0=h(()=>{l();Bj1=function(){function $(Q){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=Q||!1}return $.prototype.isDirected=function(){return this._directed},$.prototype.addNode=function(Q,J){Q=Q==null?""+J:""+Q;var K=this._nodesMap;if(K[wA(Q)]){console.error("Graph nodes have duplicate name or id");return}var Y=new eU(Q,J);return Y.hostGraph=this,this.nodes.push(Y),K[wA(Q)]=Y,Y},$.prototype.getNodeByIndex=function(Q){var J=this.data.getRawIndex(Q);return this.nodes[J]},$.prototype.getNodeById=function(Q){return this._nodesMap[wA(Q)]},$.prototype.addEdge=function(Q,J,K){var Y=this._nodesMap,Z=this._edgesMap;if(V1(Q))Q=this.nodes[Q];if(V1(J))J=this.nodes[J];if(!(Q instanceof eU))Q=Y[wA(Q)];if(!(J instanceof eU))J=Y[wA(J)];if(!Q||!J)return;var q=Q.id+"-"+J.id,X=new jx0(Q,J,K);if(X.hostGraph=this,this._directed)Q.outEdges.push(X),J.inEdges.push(X);if(Q.edges.push(X),Q!==J)J.edges.push(X);return this.edges.push(X),Z[q]=X,X},$.prototype.getEdgeByIndex=function(Q){var J=this.edgeData.getRawIndex(Q);return this.edges[J]},$.prototype.getEdge=function(Q,J){if(Q instanceof eU)Q=Q.id;if(J instanceof eU)J=J.id;var K=this._edgesMap;if(this._directed)return K[Q+"-"+J];else return K[Q+"-"+J]||K[J+"-"+Q]},$.prototype.eachNode=function(Q,J){var K=this.nodes,Y=K.length;for(var Z=0;Z<Y;Z++)if(K[Z].dataIndex>=0)Q.call(J,K[Z],Z)},$.prototype.eachEdge=function(Q,J){var K=this.edges,Y=K.length;for(var Z=0;Z<Y;Z++)if(K[Z].dataIndex>=0&&K[Z].node1.dataIndex>=0&&K[Z].node2.dataIndex>=0)Q.call(J,K[Z],Z)},$.prototype.breadthFirstTraverse=function(Q,J,K,Y){if(!(J instanceof eU))J=this._nodesMap[wA(J)];if(!J)return;var Z=K==="out"?"outEdges":K==="in"?"inEdges":"edges";for(var q=0;q<this.nodes.length;q++)this.nodes[q].__visited=!1;if(Q.call(Y,J,null))return;var X=[J];while(X.length){var W=X.shift(),F=W[Z];for(var q=0;q<F.length;q++){var H=F[q],B=H.node1===W?H.node2:H.node1;if(!B.__visited){if(Q.call(Y,B,W))return;X.push(B),B.__visited=!0}}}},$.prototype.update=function(){var Q=this.data,J=this.edgeData,K=this.nodes,Y=this.edges;for(var Z=0,q=K.length;Z<q;Z++)K[Z].dataIndex=-1;for(var Z=0,q=Q.count();Z<q;Z++)K[Q.getRawIndex(Z)].dataIndex=Z;J.filterSelf(function(X){var W=Y[J.getRawIndex(X)];return W.node1.dataIndex>=0&&W.node2.dataIndex>=0});for(var Z=0,q=Y.length;Z<q;Z++)Y[Z].dataIndex=-1;for(var Z=0,q=J.count();Z<q;Z++)Y[J.getRawIndex(Z)].dataIndex=Z},$.prototype.clone=function(){var Q=new $(this._directed),J=this.nodes,K=this.edges;for(var Y=0;Y<J.length;Y++)Q.addNode(J[Y].id,J[Y].dataIndex);for(var Y=0;Y<K.length;Y++){var Z=K[Y];Q.addEdge(Z.node1.id,Z.node2.id,Z.dataIndex)}return Q},$}(),eU=function(){function $(Q,J){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=Q==null?"":Q,this.dataIndex=J==null?-1:J}return $.prototype.degree=function(){return this.edges.length},$.prototype.inDegree=function(){return this.inEdges.length},$.prototype.outDegree=function(){return this.outEdges.length},$.prototype.getModel=function(Q){if(this.dataIndex<0)return;var J=this.hostGraph,K=J.data.getItemModel(this.dataIndex);return K.getModel(Q)},$.prototype.getAdjacentDataIndices=function(){var Q={edge:[],node:[]};for(var J=0;J<this.edges.length;J++){var K=this.edges[J];if(K.dataIndex<0)continue;Q.edge.push(K.dataIndex),Q.node.push(K.node1.dataIndex,K.node2.dataIndex)}return Q},$.prototype.getTrajectoryDataIndices=function(){var Q=_0(),J=_0();for(var K=0,Y=this.edges.length;K<Y;K++){var Z=this.edges[K];if(Z.dataIndex<0)continue;Q.set(Z.dataIndex,!0);var q=[Z.node1],X=[Z.node2],W=0;while(W<q.length){var F=q[W];W++,J.set(F.dataIndex,!0);var H=F.inEdges;for(var B=0,z=H.length,A=void 0,R=void 0;B<z;B++)if(A=H[B],R=A.dataIndex,R>=0&&!Q.hasKey(R))Q.set(R,!0),q.push(A.node1)}W=0;while(W<X.length){var G=X[W];W++,J.set(G.dataIndex,!0);var O=G.outEdges;for(var B=0,T=O.length,D=void 0,P=void 0;B<T;B++)if(D=O[B],P=D.dataIndex,P>=0&&!Q.hasKey(P))Q.set(P,!0),X.push(D.node2)}}return{edge:Q.keys(),node:J.keys()}},$}(),jx0=function(){function $(Q,J,K){this.dataIndex=-1,this.node1=Q,this.node2=J,this.dataIndex=K==null?-1:K}return $.prototype.getModel=function(Q){if(this.dataIndex<0)return;var J=this.hostGraph,K=J.edgeData.getItemModel(this.dataIndex);return K.getModel(Q)},$.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},$.prototype.getTrajectoryDataIndices=function(){var Q=_0(),J=_0();Q.set(this.dataIndex,!0);var K=[this.node1],Y=[this.node2],Z=0;while(Z<K.length){var q=K[Z];Z++,J.set(q.dataIndex,!0);var X=q.inEdges;for(var W=0,F=X.length,H=void 0,B=void 0;W<F;W++)if(H=q.inEdges[W],B=H.dataIndex,B>=0&&!Q.hasKey(B))Q.set(B,!0),K.push(H.node1)}Z=0;while(Z<Y.length){var z=Y[Z];Z++,J.set(z.dataIndex,!0);var A=z.outEdges;for(var W=0,F=A.length,R=void 0,G=void 0;W<F;W++)if(R=z.outEdges[W],G=R.dataIndex,G>=0&&!Q.hasKey(G))Q.set(G,!0),Y.push(R.node2)}return{edge:Q.keys(),node:J.keys()}},$}();n5(eU,Ex0("hostGraph","data"));n5(jx0,Ex0("hostGraph","edgeData"));Lx0=Bj1});function $H($,Q,J,K,Y){var Z=new Lx0(K);for(var q=0;q<$.length;q++)Z.addNode(J6($[q].id,$[q].name,q),q);var X=[],W=[],F=0;for(var q=0;q<Q.length;q++){var H=Q[q],B=H.source,z=H.target;if(Z.addEdge(B,z,F))W.push(H),X.push(J6(T6(H.id,null),B+" > "+z)),F++}var A=J.get("coordinateSystem"),R;if(A==="cartesian2d"||A==="polar"||A==="matrix")R=f8($,J);else{var G=YJ.get(A),O=G?G.dimensions||[]:[];if(J1(O,"value")<0)O.concat(["value"]);var T=FJ($,{coordDimensions:O,encodeDefine:J.getEncode()}).dimensions;R=new e6(T,J),R.initData($)}var D=new e6(["value"],J);return D.initData(W,X),Y&&Y(R,D),qI({mainData:R,struct:Z,structAttr:"graph",datas:{node:R,edge:D},datasAttr:{node:"data",edge:"edgeData"}}),Z.update(),Z}var TI=h(()=>{l();e$();hx0();a00();dz();c9();nK();l0()});var zj1,vx0;var Sx0=h(()=>{H0();e$();l();l0();K7();TI();mU();o6();j4();ya();YD();y1();zj1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.hasSymbolVisual=!0,J}return Q.prototype.init=function(J){$.prototype.init.apply(this,arguments);var K=this;function Y(){return K._categoriesData}this.legendVisualProvider=new QQ(Y,Y),this.fillDataTextStyle(J.edges||J.links),this._updateCategoriesData()},Q.prototype.mergeOption=function(J){$.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(J.edges||J.links),this._updateCategoriesData()},Q.prototype.mergeDefaultAndTheme=function(J){$.prototype.mergeDefaultAndTheme.apply(this,arguments),j3(J,"edgeLabel",["show"])},Q.prototype.getInitialData=function(J,K){var Y=J.edges||J.links||[],Z=J.data||J.nodes||[],q=this;if(Z&&Y){Jx0(this);var X=$H(Z,Y,this,!0,W);return S(X.edges,function(F){Kx0(F.node1,F.node2,this,F.dataIndex)},this),X.data}function W(F,H){F.wrapMethod("getItemModel",function(R){var G=q._categoriesModels,O=R.getShallow("category"),T=G[O];if(T)T.parentModel=R.parentModel,R.parentModel=T;return R});var B=h1.prototype.getModel;function z(R,G){var O=B.call(this,R,G);return O.resolveParentPath=A,O}H.wrapMethod("getItemModel",function(R){return R.resolveParentPath=A,R.getModel=z,R});function A(R){if(R&&(R[0]==="label"||R[1]==="label")){var G=R.slice();if(R[0]==="label")G[0]="edgeLabel";else if(R[1]==="label")G[1]="edgeLabel";return G}return R}}},Q.prototype.getGraph=function(){return this.getData().graph},Q.prototype.getEdgeData=function(){return this.getGraph().edgeData},Q.prototype.getCategoriesData=function(){return this._categoriesData},Q.prototype.formatTooltip=function(J,K,Y){if(Y==="edge"){var Z=this.getData(),q=this.getDataParams(J,Y),X=Z.graph.getEdgeByIndex(J),W=Z.getName(X.node1.dataIndex),F=Z.getName(X.node2.dataIndex),H=[];return W!=null&&H.push(W),F!=null&&H.push(F),$6("nameValue",{name:H.join(" > "),value:q.value,noValue:q.value==null})}var B=w_({series:this,dataIndex:J,multipleSeries:K});return B},Q.prototype._updateCategoriesData=function(){var J=q0(this.option.categories||[],function(Y){return Y.value!=null?Y:Y0({value:0},Y)}),K=new e6(["value"],this);K.initData(J),this._categoriesData=K,this._categoriesModels=K.mapArray(function(Y){return K.getItemModel(Y)})},Q.prototype.setZoom=function(J){this.option.zoom=J},Q.prototype.setCenter=function(J){this.option.center=J},Q.prototype.isAnimationEnabled=function(){return $.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},Q.type="series.graph",Q.dependencies=["grid","polar","geo","singleAxis","calendar"],Q.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:0.1,friction:0.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:0.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:e.color.neutral50,width:1,opacity:0.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:e.color.primary}}},Q}(o1),vx0=zj1});function g10($){$.registerChartView(Px0),$.registerSeriesModel(vx0),$.registerProcessor(z10),$.registerVisual(A10),$.registerVisual(V10),$.registerLayout(O10),$.registerLayout($.PRIORITY.VISUAL.POST_CHART_LAYOUT,D10),$.registerLayout(C10),$.registerCoordinateSystem("graphView",{dimensions:c3.dimensions,create:P10}),$.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},K6),$.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},K6),$.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(Q,J,K){J.eachComponent({mainType:"series",query:Q},function(Y){var Z=K.getViewOfSeriesModel(Y);if(Z){if(Q.dx!=null&&Q.dy!=null)Z.updateViewOnPan(Y,K,Q);if(Q.zoom!=null&&Q.originX!=null&&Q.originY!=null)Z.updateViewOnZoom(Y,K,Q)}var q=Y.coordinateSystem,X=V2(q,Q,Y.get("scaleLimit"));Y.setCenter&&Y.setCenter(X.center),Y.setZoom&&Y.setZoom(X.zoom)})})}var _x0=h(()=>{ay0();ty0();ey0();Yx0();qx0();Fx0();Ux0();rU();kx0();Sx0();$Y();l()});var Aj1,y10;var fx0=h(()=>{H0();l();a0();WA();g5();M5();o5();Aj1=function($){c(Q,$);function Q(J,K,Y){var Z=$.call(this)||this;r0(Z).dataType="node",Z.z2=2;var q=new j1;return Z.setTextContent(q),Z.updateData(J,K,Y,!0),Z}return Q.prototype.updateData=function(J,K,Y,Z){var q=this,X=J.graph.getNodeByIndex(K),W=J.hostModel,F=X.getModel(),H=F.getModel("emphasis"),B=J.getItemLayout(K),z=Y0(Z9(F.getModel("itemStyle"),B,!0),B),A=this;if(isNaN(z.startAngle)){A.setShape(z);return}if(Z)A.setShape(z);else C1(A,{shape:z},W,K);var R=Y0(Z9(F.getModel("itemStyle"),B,!0),B);q.setShape(R),q.useStyle(J.getItemVisual(K,"style")),a5(q,F),this._updateLabel(W,F,X),J.setItemGraphicEl(K,A),a5(A,F,"itemStyle");var G=H.get("focus");s1(this,G==="adjacency"?X.getAdjacentDataIndices():G,H.get("blurScope"),H.get("disabled"))},Q.prototype._updateLabel=function(J,K,Y){var Z=this.getTextContent(),q=Y.getLayout(),X=(q.startAngle+q.endAngle)/2,W=Math.cos(X),F=Math.sin(X),H=K.getModel("label");Z.ignore=!H.get("show");var B=b5(K),z=Y.getVisual("style");p5(Z,B,{labelFetcher:{getFormattedLabel:function(D,P,j,E,L,v){return J.getFormattedLabel(D,P,"node",E,v6(L,B.normal&&B.normal.get("formatter"),K.get("name")),v)}},labelDataIndex:Y.dataIndex,defaultText:Y.dataIndex+"",inheritColor:z.fill,defaultOpacity:z.opacity,defaultOutsidePosition:"startArc"});var A=H.get("position")||"outside",R=H.get("distance")||0,G;if(A==="outside")G=q.r+R;else G=(q.r+q.r0)/2;this.textConfig={inside:A!=="outside"};var O=A!=="outside"?H.get("align")||"center":W>0?"left":"right",T=A!=="outside"?H.get("verticalAlign")||"middle":F>0?"top":"bottom";Z.attr({x:W*G+q.cx,y:F*G+q.cy,rotation:0,style:{align:O,verticalAlign:T}})},Q}(J7),y10=Aj1});function Ix0($,Q,J,K){var{node1:Y,node2:Z}=Q,q=$.style;$.setStyle(K.getLineStyle());var X=K.get("color");switch(X){case"source":q.fill=J.getItemVisual(Y.dataIndex,"style").fill,q.decal=Y.getVisual("style").decal;break;case"target":q.fill=J.getItemVisual(Z.dataIndex,"style").fill,q.decal=Z.getVisual("style").decal;break;case"gradient":var W=J.getItemVisual(Y.dataIndex,"style").fill,F=J.getItemVisual(Z.dataIndex,"style").fill;if(R0(W)&&R0(F)){var H=$.shape,B=(H.s1[0]+H.s2[0])/2,z=(H.s1[1]+H.s2[1])/2,A=(H.t1[0]+H.t2[0])/2,R=(H.t1[1]+H.t2[1])/2;q.fill=new m$(B,z,A,R,[{offset:0,color:W},{offset:1,color:F}],!0)}break}}var $_5,Mx0;var bx0=h(()=>{H0();l();a0();WA();h8();M5();o5();$_5=function(){function $(){this.s1=[0,0],this.s2=[0,0],this.sStartAngle=0,this.sEndAngle=0,this.t1=[0,0],this.t2=[0,0],this.tStartAngle=0,this.tEndAngle=0,this.cx=0,this.cy=0,this.r=0,this.clockwise=!0}return $}(),Mx0=function($){c(Q,$);function Q(J,K,Y,Z){var q=$.call(this)||this;return r0(q).dataType="edge",q.updateData(J,K,Y,Z,!0),q}return Q.prototype.buildPath=function(J,K){J.moveTo(K.s1[0],K.s1[1]);var Y=0.7,Z=K.clockwise;J.arc(K.cx,K.cy,K.r,K.sStartAngle,K.sEndAngle,!Z),J.bezierCurveTo((K.cx-K.s2[0])*Y+K.s2[0],(K.cy-K.s2[1])*Y+K.s2[1],(K.cx-K.t1[0])*Y+K.t1[0],(K.cy-K.t1[1])*Y+K.t1[1],K.t1[0],K.t1[1]),J.arc(K.cx,K.cy,K.r,K.tStartAngle,K.tEndAngle,!Z),J.bezierCurveTo((K.cx-K.t2[0])*Y+K.t2[0],(K.cy-K.t2[1])*Y+K.t2[1],(K.cx-K.s1[0])*Y+K.s1[0],(K.cy-K.s1[1])*Y+K.s1[1],K.s1[0],K.s1[1]),J.closePath()},Q.prototype.updateData=function(J,K,Y,Z,q){var X=J.hostModel,W=K.graph.getEdgeByIndex(Y),F=W.getLayout(),H=W.node1.getModel(),B=K.getItemModel(W.dataIndex),z=B.getModel("lineStyle"),A=B.getModel("emphasis"),R=A.get("focus"),G=Y0(Z9(H.getModel("itemStyle"),F,!0),F),O=this;if(isNaN(G.sStartAngle)||isNaN(G.tStartAngle)){O.setShape(G);return}if(q)O.setShape(G),Ix0(O,W,J,z);else T7(O),Ix0(O,W,J,z),C1(O,{shape:G},X,Y);s1(this,R==="adjacency"?W.getAdjacentDataIndices():R,A.get("blurScope"),A.get("disabled")),a5(O,B,"lineStyle"),K.setItemGraphicEl(W.dataIndex,O)},Q}(Y1)});var Vj1,Rj1,gx0;var yx0=h(()=>{H0();a0();t6();fx0();bx0();k1();o5();Vj1=Math.PI/180,Rj1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(J,K){},Q.prototype.render=function(J,K,Y){var Z=J.getData(),q=this._data,X=this.group,W=-J.get("startAngle")*Vj1;if(Z.diff(q).add(function(H){var B=Z.getItemLayout(H);if(B){var z=new y10(Z,H,W);r0(z).dataIndex=H,X.add(z)}}).update(function(H,B){var z=q.getItemGraphicEl(B),A=Z.getItemLayout(H);if(!A){z&&y9(z,J,B);return}if(!z)z=new y10(Z,H,W);else z.updateData(Z,H,W);X.add(z)}).remove(function(H){var B=q.getItemGraphicEl(H);B&&y9(B,J,H)}).execute(),!q){var F=J.get("center");this.group.scaleX=0.01,this.group.scaleY=0.01,this.group.originX=f0(F[0],Y.getWidth()),this.group.originY=f0(F[1],Y.getHeight()),q5(this.group,{scaleX:1,scaleY:1},J)}this._data=Z,this.renderEdges(J,W)},Q.prototype.renderEdges=function(J,K){var Y=J.getData(),Z=J.getEdgeData(),q=this._edgeData,X=this.group;Z.diff(q).add(function(W){var F=new Mx0(Y,Z,W,K);r0(F).dataIndex=W,X.add(F)}).update(function(W,F){var H=q.getItemGraphicEl(F);H.updateData(Y,Z,W,K),X.add(H)}).remove(function(W){var F=q.getItemGraphicEl(W);F&&y9(F,J,W)}).execute(),this._edgeData=Z},Q.prototype.dispose=function(){},Q.type="chord",Q}(c1),gx0=Rj1});var Gj1,xx0;var cx0=h(()=>{H0();K7();o6();TI();j4();mU();l();Gj1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(J){$.prototype.init.apply(this,arguments),this.fillDataTextStyle(J.edges||J.links),this.legendVisualProvider=new QQ(P0(this.getData,this),P0(this.getRawData,this))},Q.prototype.mergeOption=function(J){$.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(J.edges||J.links)},Q.prototype.getInitialData=function(J,K){var Y=J.edges||J.links||[],Z=J.data||J.nodes||[];if(Z&&Y){var q=$H(Z,Y,this,!0,X);return q.data}function X(W,F){var H=h1.prototype.getModel;function B(A,R){var G=H.call(this,A,R);return G.resolveParentPath=z,G}F.wrapMethod("getItemModel",function(A){return A.resolveParentPath=z,A.getModel=B,A});function z(A){if(A&&(A[0]==="label"||A[1]==="label")){var R=A.slice();if(A[0]==="label")R[0]="edgeLabel";else if(A[1]==="label")R[1]="edgeLabel";return R}return A}}},Q.prototype.getGraph=function(){return this.getData().graph},Q.prototype.getEdgeData=function(){return this.getGraph().edgeData},Q.prototype.formatTooltip=function(J,K,Y){var Z=this.getDataParams(J,Y);if(Y==="edge"){var q=this.getData(),X=q.graph.getEdgeByIndex(J),W=q.getName(X.node1.dataIndex),F=q.getName(X.node2.dataIndex),H=[];return W!=null&&H.push(W),F!=null&&H.push(F),$6("nameValue",{name:H.join(" > "),value:Z.value,noValue:Z.value==null})}return $6("nameValue",{name:Z.name,value:Z.value,noValue:Z.value==null})},Q.prototype.getDataParams=function(J,K){var Y=$.prototype.getDataParams.call(this,J,K);if(K==="node"){var Z=this.getData(),q=this.getGraph().getNodeByIndex(J);if(Y.name==null)Y.name=Z.getName(J);if(Y.value==null){var X=q.getLayout().value;Y.value=X}}return Y},Q.type="series.chord",Q.defaultOption={z:2,coordinateSystem:"none",legendHoverLink:!0,colorBy:"data",left:0,top:0,right:0,bottom:0,width:null,height:null,center:["50%","50%"],radius:["70%","80%"],clockwise:!0,startAngle:90,endAngle:"auto",minAngle:0,padAngle:3,itemStyle:{borderRadius:[0,0,5,5]},lineStyle:{width:0,color:"source",opacity:0.2},label:{show:!0,position:"outside",distance:5},emphasis:{focus:"adjacency",lineStyle:{opacity:0.5}}},Q}(o1),xx0=Gj1});function c10($,Q){$.eachSeriesByType("chord",function(J){Oj1(J,Q)})}function Oj1($,Q){var J=$.getData(),K=J.graph,Y=$.getEdgeData(),Z=Y.count();if(!Z)return;var q=sS($,Q),X=q.cx,W=q.cy,F=q.r,H=q.r0,B=Math.max(($.get("padAngle")||0)*x10,0),z=Math.max(($.get("minAngle")||0)*x10,0),A=-$.get("startAngle")*x10,R=A+Math.PI*2,G=$.get("clockwise"),O=G?1:-1,T=[A,R];QU(T,!G);var D=T[0],P=T[1],j=P-D,E=J.getSum("value")===0&&Y.getSum("value")===0,L=[],v=0;K.eachEdge(function(r){var Q0=E?1:r.getValue("value");if(E&&(Q0>0||z))v+=2;var F0=r.node1.dataIndex,W0=r.node2.dataIndex;L[F0]=(L[F0]||0)+Q0,L[W0]=(L[W0]||0)+Q0});var f=0;if(K.eachNode(function(r){var Q0=r.getValue("value");if(!isNaN(Q0))L[r.dataIndex]=Math.max(Q0,L[r.dataIndex]||0);if(!E&&(L[r.dataIndex]>0||z))v++;f+=L[r.dataIndex]||0}),v===0||f===0)return;if(B*v>=Math.abs(j))B=Math.max(0,(Math.abs(j)-z*v)/v);if((B+z)*v>=Math.abs(j))z=(Math.abs(j)-B*v)/v;var _=(j-B*v*O)/f,M=0,b=0,x=0,g=1/0;K.eachNode(function(r){var Q0=L[r.dataIndex]||0,F0=_*(f?Q0:1)*O;if(Math.abs(F0)<z)M+=z-Math.abs(F0);else g=Math.min(g,Math.abs(F0)-z),b+=Math.abs(F0)-z,x+=Math.abs(F0);r.setLayout({angle:F0,value:Q0})});var m=!1;if(M>b){var u=M/b;K.eachNode(function(r){var Q0=r.getLayout().angle;if(Math.abs(Q0)>=z)r.setLayout({angle:Q0*u,ratio:u},!0);else r.setLayout({angle:z,ratio:z===0?1:Q0/z},!0)})}else K.eachNode(function(r){if(m)return;var Q0=r.getLayout().angle,F0=Math.min(Q0/x,1),W0=F0*M;if(Q0-W0<z)m=!0});var p=M;K.eachNode(function(r){if(p<=0)return;var Q0=r.getLayout().angle;if(Q0>z&&z>0){var F0=m?1:Math.min(Q0/x,1),W0=Q0-z,h0=Math.min(W0,Math.min(p,M*F0));p-=h0,r.setLayout({angle:Q0-h0,ratio:(Q0-h0)/Q0},!0)}else if(z>0)r.setLayout({angle:z,ratio:Q0===0?1:z/Q0},!0)});var o=D,t=[];K.eachNode(function(r){var Q0=Math.max(r.getLayout().angle,z);r.setLayout({cx:X,cy:W,r0:H,r:F,startAngle:o,endAngle:o+Q0*O,clockwise:G},!0),t[r.dataIndex]=o,o+=(Q0+B)*O}),K.eachEdge(function(r){var Q0=E?1:r.getValue("value"),F0=_*(f?Q0:1)*O,W0=r.node1.dataIndex,h0=t[W0]||0,d0=Math.abs((r.node1.getLayout().ratio||1)*F0),W1=h0+d0*O,z1=[X+H*Math.cos(h0),W+H*Math.sin(h0)],b1=[X+H*Math.cos(W1),W+H*Math.sin(W1)],B1=r.node2.dataIndex,e0=t[B1]||0,P1=Math.abs((r.node2.getLayout().ratio||1)*F0),t0=e0+P1*O,w1=[X+H*Math.cos(e0),W+H*Math.sin(e0)],V5=[X+H*Math.cos(t0),W+H*Math.sin(t0)];r.setLayout({s1:z1,s2:b1,sStartAngle:h0,sEndAngle:W1,t1:w1,t2:V5,tStartAngle:e0,tEndAngle:t0,cx:X,cy:W,r:H,value:Q0,clockwise:G}),t[W0]=W1,t[B1]=t0})}var x10;var ux0=h(()=>{L3();l5();x10=Math.PI/180});function u10($){$.registerChartView(gx0),$.registerSeriesModel(xx0),$.registerLayout($.PRIORITY.VISUAL.POST_CHART_LAYOUT,c10),$.registerProcessor(g3("chord"))}var mx0=h(()=>{yx0();cx0();ux0()});var wj1,Tj1,px0;var dx0=h(()=>{H0();m6();wj1=function(){function $(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return $}(),Tj1=function($){c(Q,$);function Q(J){var K=$.call(this,J)||this;return K.type="pointer",K}return Q.prototype.getDefaultShape=function(){return new wj1},Q.prototype.buildPath=function(J,K){var{cos:Y,sin:Z}=Math,q=K.r,X=K.width,W=K.angle,F=K.x-Y(W)*X*(X>=q/3?1:2),H=K.y-Z(W)*X*(X>=q/3?1:2);W=K.angle-Math.PI/2,J.moveTo(F,H),J.lineTo(K.x+Y(W)*X,K.y+Z(W)*X),J.lineTo(K.x+Y(K.angle)*q,K.y+Z(K.angle)*q),J.lineTo(K.x-Y(W)*X,K.y-Z(W)*X),J.lineTo(F,H)},Q}(Y1),px0=Tj1});function Dj1($,Q){var J=$.get("center"),K=Q.getWidth(),Y=Q.getHeight(),Z=Math.min(K,Y),q=f0(J[0],Q.getWidth()),X=f0(J[1],Q.getHeight()),W=f0($.get("radius"),Z/2);return{cx:q,cy:X,r:W}}function DI($,Q){var J=$==null?"":$+"";if(Q){if(R0(Q))J=Q.replace("{value}",J);else if(I0(Q))J=Q($)}return J}var Cj1,nx0;var lx0=h(()=>{H0();dx0();a0();M5();g5();t6();k1();he();S8();u$();l();o5();L3();Cj1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){this.group.removeAll();var Z=J.get(["axisLine","lineStyle","color"]),q=Dj1(J,Y);this._renderMain(J,K,Y,Z,q),this._data=J.getData()},Q.prototype.dispose=function(){},Q.prototype._renderMain=function(J,K,Y,Z,q){var X=this.group,W=J.get("clockwise"),F=-J.get("startAngle")/180*Math.PI,H=-J.get("endAngle")/180*Math.PI,B=J.getModel("axisLine"),z=B.get("roundCap"),A=z?XA:J7,R=B.get("show"),G=B.getModel("lineStyle"),O=G.get("width"),T=[F,H];QU(T,!W),F=T[0],H=T[1];var D=H-F,P=F,j=[];for(var E=0;R&&E<Z.length;E++){var L=Math.min(Math.max(Z[E][0],0),1);H=F+D*L;var v=new A({shape:{startAngle:P,endAngle:H,cx:q.cx,cy:q.cy,clockwise:W,r0:q.r-O,r:q.r},silent:!0});v.setStyle({fill:Z[E][1]}),v.setStyle(G.getLineStyle(["color","width"])),j.push(v),P=H}j.reverse(),S(j,function(_){return X.add(_)});var f=function(_){if(_<=0)return Z[0][1];var M;for(M=0;M<Z.length;M++)if(Z[M][0]>=_&&(M===0?0:Z[M-1][0])<_)return Z[M][1];return Z[M-1][1]};this._renderTicks(J,K,Y,f,q,F,H,W,O),this._renderTitleAndDetail(J,K,Y,f,q),this._renderAnchor(J,q),this._renderPointer(J,K,Y,f,q,F,H,W,O)},Q.prototype._renderTicks=function(J,K,Y,Z,q,X,W,F,H){var B=this.group,z=q.cx,A=q.cy,R=q.r,G=+J.get("min"),O=+J.get("max"),T=J.getModel("splitLine"),D=J.getModel("axisTick"),P=J.getModel("axisLabel"),j=J.get("splitNumber"),E=D.get("splitNumber"),L=f0(T.get("length"),R),v=f0(D.get("length"),R),f=X,_=(W-X)/j,M=_/E,b=T.getModel("lineStyle").getLineStyle(),x=D.getModel("lineStyle").getLineStyle(),g=T.get("distance"),m,u;for(var p=0;p<=j;p++){if(m=Math.cos(f),u=Math.sin(f),T.get("show")){var o=g?g+H:H,t=new X6({shape:{x1:m*(R-o)+z,y1:u*(R-o)+A,x2:m*(R-L-o)+z,y2:u*(R-L-o)+A},style:b,silent:!0});if(b.stroke==="auto")t.setStyle({stroke:Z(p/j)});B.add(t)}if(P.get("show")){var o=P.get("distance")+g,r=DI(Z6(p/j*(O-G)+G),P.get("formatter")),Q0=Z(p/j),F0=m*(R-L-o)+z,W0=u*(R-L-o)+A,h0=P.get("rotate"),d0=0;if(h0==="radial"){if(d0=-f+2*Math.PI,d0>Math.PI/2)d0+=Math.PI}else if(h0==="tangential")d0=-f-Math.PI/2;else if(V1(h0))d0=h0*Math.PI/180;if(d0===0)B.add(new j1({style:A5(P,{text:r,x:F0,y:W0,verticalAlign:u<-0.8?"top":u>0.8?"bottom":"middle",align:m<-0.4?"left":m>0.4?"right":"center"},{inheritColor:Q0}),silent:!0}));else B.add(new j1({style:A5(P,{text:r,x:F0,y:W0,verticalAlign:"middle",align:"center"},{inheritColor:Q0}),silent:!0,originX:F0,originY:W0,rotation:d0}))}if(D.get("show")&&p!==j){var o=D.get("distance");o=o?o+H:H;for(var W1=0;W1<=E;W1++){m=Math.cos(f),u=Math.sin(f);var z1=new X6({shape:{x1:m*(R-o)+z,y1:u*(R-o)+A,x2:m*(R-v-o)+z,y2:u*(R-v-o)+A},silent:!0,style:x});if(x.stroke==="auto")z1.setStyle({stroke:Z((p+W1/E)/j)});B.add(z1),f+=M}f-=M}else f+=_}},Q.prototype._renderPointer=function(J,K,Y,Z,q,X,W,F,H){var B=this.group,z=this._data,A=this._progressEls,R=[],G=J.get(["pointer","show"]),O=J.getModel("progress"),T=O.get("show"),D=J.getData(),P=D.mapDimension("value"),j=+J.get("min"),E=+J.get("max"),L=[j,E],v=[X,W];function f(M,b){var x=D.getItemModel(M),g=x.getModel("pointer"),m=f0(g.get("width"),q.r),u=f0(g.get("length"),q.r),p=J.get(["pointer","icon"]),o=g.get("offsetCenter"),t=f0(o[0],q.r),r=f0(o[1],q.r),Q0=g.get("keepAspect"),F0;if(p)F0=y5(p,t-m/2,r-u,m,u,null,Q0);else F0=new px0({shape:{angle:-Math.PI/2,width:m,r:u,x:t,y:r}});return F0.rotation=-(b+Math.PI/2),F0.x=q.cx,F0.y=q.cy,F0}function _(M,b){var x=O.get("roundCap"),g=x?XA:J7,m=O.get("overlap"),u=m?O.get("width"):H/D.count(),p=m?q.r-u:q.r-(M+1)*u,o=m?q.r:q.r-M*u,t=new g({shape:{startAngle:X,endAngle:b,cx:q.cx,cy:q.cy,clockwise:F,r0:p,r:o}});return m&&(t.z2=Z5(D.get(P,M),[j,E],[100,0],!0)),t}if(T||G)D.diff(z).add(function(M){var b=D.get(P,M);if(G){var x=f(M,X);q5(x,{rotation:-((isNaN(+b)?v[0]:Z5(b,L,v,!0))+Math.PI/2)},J),B.add(x),D.setItemGraphicEl(M,x)}if(T){var g=_(M,X),m=O.get("clip");q5(g,{shape:{endAngle:Z5(b,L,v,m)}},J),B.add(g),Cw(J.seriesIndex,D.dataType,M,g),R[M]=g}}).update(function(M,b){var x=D.get(P,M);if(G){var g=z.getItemGraphicEl(b),m=g?g.rotation:X,u=f(M,m);u.rotation=m,C1(u,{rotation:-((isNaN(+x)?v[0]:Z5(x,L,v,!0))+Math.PI/2)},J),B.add(u),D.setItemGraphicEl(M,u)}if(T){var p=A[b],o=p?p.shape.endAngle:X,t=_(M,o),r=O.get("clip");C1(t,{shape:{endAngle:Z5(x,L,v,r)}},J),B.add(t),Cw(J.seriesIndex,D.dataType,M,t),R[M]=t}}).execute(),D.each(function(M){var b=D.getItemModel(M),x=b.getModel("emphasis"),g=x.get("focus"),m=x.get("blurScope"),u=x.get("disabled");if(G){var p=D.getItemGraphicEl(M),o=D.getItemVisual(M,"style"),t=o.fill;if(p instanceof q6){var r=p.style;p.useStyle(Y0({image:r.image,x:r.x,y:r.y,width:r.width,height:r.height},o))}else p.useStyle(o),p.type!=="pointer"&&p.setColor(t);if(p.setStyle(b.getModel(["pointer","itemStyle"]).getItemStyle()),p.style.fill==="auto")p.setStyle("fill",Z(Z5(D.get(P,M),L,[0,1],!0)));p.z2EmphasisLift=0,a5(p,b),s1(p,g,m,u)}if(T){var Q0=R[M];Q0.useStyle(D.getItemVisual(M,"style")),Q0.setStyle(b.getModel(["progress","itemStyle"]).getItemStyle()),Q0.z2EmphasisLift=0,a5(Q0,b),s1(Q0,g,m,u)}}),this._progressEls=R},Q.prototype._renderAnchor=function(J,K){var Y=J.getModel("anchor"),Z=Y.get("show");if(Z){var q=Y.get("size"),X=Y.get("icon"),W=Y.get("offsetCenter"),F=Y.get("keepAspect"),H=y5(X,K.cx-q/2+f0(W[0],K.r),K.cy-q/2+f0(W[1],K.r),q,q,null,F);H.z2=Y.get("showAbove")?1:0,H.setStyle(Y.getModel("itemStyle").getItemStyle()),this.group.add(H)}},Q.prototype._renderTitleAndDetail=function(J,K,Y,Z,q){var X=this,W=J.getData(),F=W.mapDimension("value"),H=+J.get("min"),B=+J.get("max"),z=new b0,A=[],R=[],G=J.isAnimationEnabled(),O=J.get(["pointer","showAbove"]);W.diff(this._data).add(function(T){A[T]=new j1({silent:!0}),R[T]=new j1({silent:!0})}).update(function(T,D){A[T]=X._titleEls[D],R[T]=X._detailEls[D]}).execute(),W.each(function(T){var D=W.getItemModel(T),P=W.get(F,T),j=new b0,E=Z(Z5(P,[H,B],[0,1],!0)),L=D.getModel("title");if(L.get("show")){var v=L.get("offsetCenter"),f=q.cx+f0(v[0],q.r),_=q.cy+f0(v[1],q.r),M=A[T];M.attr({z2:O?0:2,style:A5(L,{x:f,y:_,text:W.getName(T),align:"center",verticalAlign:"middle"},{inheritColor:E})}),j.add(M)}var b=D.getModel("detail");if(b.get("show")){var x=b.get("offsetCenter"),g=q.cx+f0(x[0],q.r),m=q.cy+f0(x[1],q.r),u=f0(b.get("width"),q.r),p=f0(b.get("height"),q.r),o=J.get(["progress","show"])?W.getItemVisual(T,"style").fill:E,M=R[T],t=b.get("formatter");M.attr({z2:O?0:2,style:A5(b,{x:g,y:m,text:DI(P,t),width:isNaN(u)?null:u,height:isNaN(p)?null:p,align:"center",verticalAlign:"middle"},{inheritColor:o})}),PS(M,{normal:b},P,function(Q0){return DI(Q0,t)}),G&&kS(M,T,W,J,{getFormattedLabel:function(Q0,F0,W0,h0,d0,W1){return DI(W1?W1.interpolatedValue:P,t)}}),j.add(M)}z.add(j)}),this.group.add(z),this._titleEls=A,this._detailEls=R},Q.type="gauge",Q}(c1),nx0=Cj1});var Pj1,rx0;var ix0=h(()=>{H0();uU();o6();y1();Pj1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.visualStyleAccessPath="itemStyle",J}return Q.prototype.getInitialData=function(J,K){return y3(this,["value"])},Q.type="series.gauge",Q.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,e.color.neutral10]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:e.color.axisTick,width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:e.color.axisTickMinor,width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:e.color.axisLabel,fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:e.color.neutral00,borderWidth:0,borderColor:e.color.theme[0]}},title:{show:!0,offsetCenter:[0,"20%"],color:e.color.secondary,fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:e.color.transparent,borderWidth:0,borderColor:e.color.neutral40,width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:e.color.primary,fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},Q}(o1),rx0=Pj1});function m10($){$.registerChartView(nx0),$.registerSeriesModel(rx0)}var sx0=h(()=>{lx0();ix0()});var kj1,jj1,Ej1,ox0;var ax0=h(()=>{H0();a0();M5();t6();wT();g5();h8();kj1=["itemStyle","opacity"],jj1=function($){c(Q,$);function Q(J,K){var Y=$.call(this)||this,Z=Y,q=new G6,X=new j1;return Z.setTextContent(X),Y.setTextGuideLine(q),Y.updateData(J,K,!0),Y}return Q.prototype.updateData=function(J,K,Y){var Z=this,q=J.hostModel,X=J.getItemModel(K),W=J.getItemLayout(K),F=X.getModel("emphasis"),H=X.get(kj1);if(H=H==null?1:H,!Y)T7(Z);if(Z.useStyle(J.getItemVisual(K,"style")),Z.style.lineJoin="round",Y)Z.setShape({points:W.points}),Z.style.opacity=0,q5(Z,{style:{opacity:H}},q,K);else C1(Z,{style:{opacity:H},shape:{points:W.points}},q,K);a5(Z,X),this._updateLabel(J,K),s1(this,F.get("focus"),F.get("blurScope"),F.get("disabled"))},Q.prototype._updateLabel=function(J,K){var Y=this,Z=this.getTextGuideLine(),q=Y.getTextContent(),X=J.hostModel,W=J.getItemModel(K),F=J.getItemLayout(K),H=F.label,B=J.getItemVisual(K,"style"),z=B.fill;p5(q,b5(W),{labelFetcher:J.hostModel,labelDataIndex:K,defaultOpacity:B.opacity,defaultText:J.getName(K)},{normal:{align:H.textAlign,verticalAlign:H.verticalAlign}});var A=W.getModel("label"),R=A.get("color"),G=R==="inherit"?z:null;Y.setTextConfig({local:!0,inside:!!H.inside,insideStroke:G,outsideFill:G});var O=H.linePoints;Z.setShape({points:O}),Y.textGuideLineConfig={anchor:O?new Z1(O[0][0],O[0][1]):null},C1(q,{style:{x:H.x,y:H.y}},X,K),q.attr({rotation:H.rotation,originX:H.x,originY:H.y,z2:10}),ez(Y,$A(W),{stroke:z})},Q}(S6),Ej1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.ignoreLabelLineUpdate=!0,J}return Q.prototype.render=function(J,K,Y){var Z=J.getData(),q=this._data,X=this.group;Z.diff(q).add(function(W){var F=new jj1(Z,W);Z.setItemGraphicEl(W,F),X.add(F)}).update(function(W,F){var H=q.getItemGraphicEl(F);H.updateData(Z,W),X.add(H),Z.setItemGraphicEl(W,H)}).remove(function(W){var F=q.getItemGraphicEl(W);y9(F,J,W)}).execute(),this._data=Z},Q.prototype.remove=function(){this.group.removeAll(),this._data=null},Q.prototype.dispose=function(){},Q.type="funnel",Q}(c1),ox0=Ej1});var Lj1,tx0;var ex0=h(()=>{H0();l();uU();l0();pK();mU();o6();y1();Lj1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(J){$.prototype.init.apply(this,arguments),this.legendVisualProvider=new QQ(P0(this.getData,this),P0(this.getRawData,this)),this._defaultLabelLine(J)},Q.prototype.getInitialData=function(J,K){return y3(this,{coordDimensions:["value"],encodeDefaulter:K1(_z,this)})},Q.prototype._defaultLabelLine=function(J){j3(J,"labelLine",["show"]);var K=J.labelLine,Y=J.emphasis.labelLine;K.show=K.show&&J.label.show,Y.show=Y.show&&J.emphasis.label.show},Q.prototype.getDataParams=function(J){var K=this.getData(),Y=$.prototype.getDataParams.call(this,J),Z=K.mapDimension("value"),q=K.getSum(Z);return Y.percent=!q?0:+(K.get(Z,J)/q*100).toFixed(2),Y.$vars.push("percent"),Y},Q.type="series.funnel",Q.defaultOption={coordinateSystemUsage:"box",z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:65,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:e.color.neutral00,borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:e.color.primary}}},Q}(o1),tx0=Lj1});function hj1($,Q){var J=$.mapDimension("value"),K=$.mapArray(J,function(W){return W}),Y=[],Z=Q==="ascending";for(var q=0,X=$.count();q<X;q++)Y[q]=q;if(I0(Q))Y.sort(Q);else if(Q!=="none")Y.sort(function(W,F){return Z?K[W]-K[F]:K[F]-K[W]});return Y}function vj1($){var Q=$.hostModel,J=Q.get("orient");$.each(function(K){var Y=$.getItemModel(K),Z=Y.getModel("label"),q=Z.get("position"),X=Y.getModel("labelLine"),W=$.getItemLayout(K),F=W.points,H=q==="inner"||q==="inside"||q==="center"||q==="insideLeft"||q==="insideRight",B,z,A,R;if(H){if(q==="insideLeft")z=(F[0][0]+F[3][0])/2+5,A=(F[0][1]+F[3][1])/2,B="left";else if(q==="insideRight")z=(F[1][0]+F[2][0])/2-5,A=(F[1][1]+F[2][1])/2,B="right";else z=(F[0][0]+F[1][0]+F[2][0]+F[3][0])/4,A=(F[0][1]+F[1][1]+F[2][1]+F[3][1])/4,B="center";R=[[z,A],[z,A]]}else{var G=void 0,O=void 0,T=void 0,D=void 0,P=X.get("length");if(J==="vertical"&&["top","bottom"].indexOf(q)>-1)q="left",console.warn("Position error: Funnel chart on vertical orient dose not support top and bottom.");if(J==="horizontal"&&["left","right"].indexOf(q)>-1)q="bottom",console.warn("Position error: Funnel chart on horizontal orient dose not support left and right.");if(q==="left")G=(F[3][0]+F[0][0])/2,O=(F[3][1]+F[0][1])/2,T=G-P,z=T-5,B="right";else if(q==="right")G=(F[1][0]+F[2][0])/2,O=(F[1][1]+F[2][1])/2,T=G+P,z=T+5,B="left";else if(q==="top")G=(F[3][0]+F[0][0])/2,O=(F[3][1]+F[0][1])/2,D=O-P,A=D-5,B="center";else if(q==="bottom")G=(F[1][0]+F[2][0])/2,O=(F[1][1]+F[2][1])/2,D=O+P,A=D+5,B="center";else if(q==="rightTop")if(G=J==="horizontal"?F[3][0]:F[1][0],O=J==="horizontal"?F[3][1]:F[1][1],J==="horizontal")D=O-P,A=D-5,B="center";else T=G+P,z=T+5,B="top";else if(q==="rightBottom")if(G=F[2][0],O=F[2][1],J==="horizontal")D=O+P,A=D+5,B="center";else T=G+P,z=T+5,B="bottom";else if(q==="leftTop")if(G=F[0][0],O=J==="horizontal"?F[0][1]:F[1][1],J==="horizontal")D=O-P,A=D-5,B="center";else T=G-P,z=T-5,B="right";else if(q==="leftBottom")if(G=J==="horizontal"?F[1][0]:F[3][0],O=J==="horizontal"?F[1][1]:F[2][1],J==="horizontal")D=O+P,A=D+5,B="center";else T=G-P,z=T-5,B="right";else if(G=(F[1][0]+F[2][0])/2,O=(F[1][1]+F[2][1])/2,J==="horizontal")D=O+P,A=D+5,B="center";else T=G+P,z=T+5,B="left";if(J==="horizontal")T=G,z=T;else D=O,A=D;R=[[G,O],[T,D]]}W.label={linePoints:R,x:z,y:A,verticalAlign:"middle",textAlign:B,inside:H}})}function p10($,Q){$.eachSeriesByType("funnel",function(J){var K=J.getData(),Y=K.mapDimension("value"),Z=J.get("sort"),q=_5(J,Q),X=X5(J.getBoxLayoutParams(),q.refContainer),W=J.get("orient"),F=X.width,H=X.height,B=hj1(K,Z),z=X.x,A=X.y,R=W==="horizontal"?[f0(J.get("minSize"),H),f0(J.get("maxSize"),H)]:[f0(J.get("minSize"),F),f0(J.get("maxSize"),F)],G=K.getDataExtent(Y),O=J.get("min"),T=J.get("max");if(O==null)O=Math.min(G[0],0);if(T==null)T=G[1];var D=J.get("funnelAlign"),P=J.get("gap"),j=W==="horizontal"?F:H,E=(j-P*(K.count()-1))/K.count(),L=function(u,p){if(W==="horizontal"){var o=K.get(Y,u)||0,t=Z5(o,[O,T],R,!0),r=void 0;switch(D){case"top":r=A;break;case"center":r=A+(H-t)/2;break;case"bottom":r=A+(H-t);break}return[[p,r],[p,r+t]]}var Q0=K.get(Y,u)||0,F0=Z5(Q0,[O,T],R,!0),W0;switch(D){case"left":W0=z;break;case"center":W0=z+(F-F0)/2;break;case"right":W0=z+F-F0;break}return[[W0,p],[W0+F0,p]]};if(Z==="ascending"){if(E=-E,P=-P,W==="horizontal")z+=F;else A+=H;B=B.reverse()}for(var v=0;v<B.length;v++){var f=B[v],_=B[v+1],M=K.getItemModel(f);if(W==="horizontal"){var b=M.get(["itemStyle","width"]);if(b==null)b=E;else if(b=f0(b,F),Z==="ascending")b=-b;var x=L(f,z),g=L(_,z+b);z+=b+P,K.setItemLayout(f,{points:x.concat(g.slice().reverse())})}else{var m=M.get(["itemStyle","height"]);if(m==null)m=E;else if(m=f0(m,H),Z==="ascending")m=-m;var x=L(f,A),g=L(_,A+m);A+=m+P,K.setItemLayout(f,{points:x.concat(g.slice().reverse())})}}vj1(K)})}var $c0=h(()=>{l5();k1();l()});function d10($){$.registerChartView(ox0),$.registerSeriesModel(tx0),$.registerLayout(p10),$.registerProcessor(g3("funnel"))}var Qc0=h(()=>{ax0();ex0();$c0()});function fj1($,Q,J){var K=$.model,Y=$.getRect(),Z=new X1({shape:{x:Y.x,y:Y.y,width:Y.width,height:Y.height}}),q=K.get("layout")==="horizontal"?"width":"height";return Z.setShape(q,0),q5(Z,{shape:{width:Y.width,height:Y.height}},Q,J),Z}function Yc0($,Q,J,K){var Y=[];for(var Z=0;Z<J.length;Z++){var q=J[Z],X=$.get($.mapDimension(q),Q);if(!Ij1(X,K.getAxis(q).type))Y.push(K.dataToPoint(X,q))}return Y}function Jc0($,Q,J,K,Y){var Z=Yc0($,J,K,Y),q=new G6({shape:{points:Z},z2:10});return Q.add(q),$.setItemGraphicEl(J,q),q}function Kc0($){var Q=$.get("smooth",!0);return Q===!0&&(Q=Sj1),Q=g$(Q),h6(Q)&&(Q=0),{smooth:Q}}function n10($,Q,J,K){$.useStyle(Q.getItemVisual(J,"style")),$.style.fill=null,$.setShape("smooth",K.smooth);var Y=Q.getItemModel(J),Z=Y.getModel("emphasis");a5($,Y,"lineStyle"),s1($,Z.get("focus"),Z.get("blurScope"),Z.get("disabled"))}function Ij1($,Q){return Q==="category"?$==null:$==null||isNaN($)}var Sj1=0.3,_j1,Zc0;var qc0=h(()=>{H0();a0();M5();t6();k1();l();h8();_j1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J._dataGroup=new b0,J._initialized=!1,J}return Q.prototype.init=function(){this.group.add(this._dataGroup)},Q.prototype.render=function(J,K,Y,Z){this._progressiveEls=null;var q=this._dataGroup,X=J.getData(),W=this._data,F=J.coordinateSystem,H=F.dimensions,B=Kc0(J);X.diff(W).add(z).update(A).remove(R).execute();function z(O){var T=Jc0(X,q,O,H,F);n10(T,X,O,B)}function A(O,T){var D=W.getItemGraphicEl(T),P=Yc0(X,O,H,F);X.setItemGraphicEl(O,D),C1(D,{shape:{points:P}},J,O),T7(D),n10(D,X,O,B)}function R(O){var T=W.getItemGraphicEl(O);q.remove(T)}if(!this._initialized){this._initialized=!0;var G=fj1(F,J,function(){setTimeout(function(){q.removeClipPath()})});q.setClipPath(G)}this._data=X},Q.prototype.incrementalPrepareRender=function(J,K,Y){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},Q.prototype.incrementalRender=function(J,K,Y){var Z=K.getData(),q=K.coordinateSystem,X=q.dimensions,W=Kc0(K),F=this._progressiveEls=[];for(var H=J.start;H<J.end;H++){var B=Jc0(Z,this._dataGroup,H,X,q);B.incremental=!0,n10(B,Z,H,W),F.push(B)}},Q.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},Q.type="parallel",Q}(c1);Zc0=_j1});function bj1($){var Q=$.ecModel.getComponent("parallel",$.get("parallelIndex"));if(!Q)return;var J={};return S(Q.dimensions,function(K){var Y=gj1(K);J[K]=Y}),J}function gj1($){return+$.replace("dim","")}var Mj1,Xc0;var Wc0=h(()=>{H0();l();o6();nK();Mj1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.visualStyleAccessPath="lineStyle",J.visualDrawType="stroke",J}return Q.prototype.getInitialData=function(J,K){return f8(null,this,{useEncodeDefaulter:P0(bj1,null,this)})},Q.prototype.getRawIndicesByActiveState=function(J){var K=this.coordinateSystem,Y=this.getData(),Z=[];return K.eachActiveState(Y,function(q,X){if(J===q)Z.push(Y.getRawIndex(X))}),Z},Q.type="series.parallel",Q.dependencies=["parallel"],Q.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:0.05,activeOpacity:1,lineStyle:{width:1,opacity:0.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},Q}(o1);Xc0=Mj1});var yj1,xj1,Fc0;var Uc0=h(()=>{yj1=["lineStyle","opacity"],xj1={seriesType:"parallel",reset:function($,Q){var J=$.coordinateSystem,K={normal:$.get(["lineStyle","opacity"]),active:$.get("activeOpacity"),inactive:$.get("inactiveOpacity")};return{progress:function(Y,Z){J.eachActiveState(Z,function(q,X){var W=K[q];if(q==="normal"&&Z.hasItemOption){var F=Z.getItemModel(X).get(yj1,!0);F!=null&&(W=F)}var H=Z.ensureUniqueItemVisual(X,"style");H.opacity=W},Y.start,Y.end)}}}},Fc0=xj1});function l10($){cj1($),uj1($)}function cj1($){if($.parallel)return;var Q=!1;if(S($.series,function(J){if(J&&J.type==="parallel")Q=!0}),Q)$.parallel=[{}]}function uj1($){var Q=H5($.parallelAxis);S(Q,function(J){if(!y0(J))return;var K=J.parallelIndex||0,Y=H5($.parallel)[K];if(Y&&Y.parallelAxisDefault)F1(J,Y.parallelAxisDefault,!1)})}var Hc0=h(()=>{l();l0()});function r10($,Q){var J=$._model;return J.get("axisExpandable")&&J.get("axisExpandTriggerOn")===Q}var mj1=5,pj1,dj1,Nc0;var Bc0=h(()=>{H0();a6();l();pj1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){if(this._model=J,this._api=Y,!this._handlers)this._handlers={},S(dj1,function(Z,q){Y.getZr().on(q,this._handlers[q]=P0(Z,this))},this);o$(this,"_throttledDispatchExpand",J.get("axisExpandRate"),"fixRate")},Q.prototype.dispose=function(J,K){hZ(this,"_throttledDispatchExpand"),S(this._handlers,function(Y,Z){K.getZr().off(Z,Y)}),this._handlers=null},Q.prototype._throttledDispatchExpand=function(J){this._dispatchExpand(J)},Q.prototype._dispatchExpand=function(J){J&&this._api.dispatchAction(Y0({type:"parallelAxisExpand"},J))},Q.type="parallel",Q}(a1),dj1={mousedown:function($){if(r10(this,"click"))this._mouseDownPoint=[$.offsetX,$.offsetY]},mouseup:function($){var Q=this._mouseDownPoint;if(r10(this,"click")&&Q){var J=[$.offsetX,$.offsetY],K=Math.pow(Q[0]-J[0],2)+Math.pow(Q[1]-J[1],2);if(K>mj1)return;var Y=this._model.coordinateSystem.getSlidedAxisExpandWindow([$.offsetX,$.offsetY]);Y.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:Y.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function($){if(this._mouseDownPoint||!r10(this,"mousemove"))return;var Q=this._model,J=Q.coordinateSystem.getSlidedAxisExpandWindow([$.offsetX,$.offsetY]),K=J.behavior;K==="jump"&&this._throttledDispatchExpand.debounceNextCall(Q.get("axisExpandDebounce")),this._throttledDispatchExpand(K==="none"?null:{axisExpandWindow:J.axisExpandWindow,animation:K==="jump"?null:{duration:0}})}};Nc0=pj1});var nj1,zc0;var Ac0=h(()=>{H0();l();_6();nj1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(){$.prototype.init.apply(this,arguments),this.mergeOption({})},Q.prototype.mergeOption=function(J){var K=this.option;J&&F1(K,J,!0),this._initDimensions()},Q.prototype.contains=function(J,K){var Y=J.get("parallelIndex");return Y!=null&&K.getComponent("parallel",Y)===this},Q.prototype.setAxisExpand=function(J){S(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(K){if(J.hasOwnProperty(K))this.option[K]=J[K]},this)},Q.prototype._initDimensions=function(){var J=this.dimensions=[],K=this.parallelAxisIndex=[],Y=f1(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(Z){return(Z.get("parallelIndex")||0)===this.componentIndex},this);S(Y,function(Z){J.push("dim"+Z.get("dim")),K.push(Z.componentIndex)})},Q.type="parallel",Q.dependencies=["parallelAxis"],Q.layoutMode="box",Q.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-0.15,0.05,0.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},Q}(O1),zc0=nj1});var lj1,Vc0;var Rc0=h(()=>{H0();W2();lj1=function($){c(Q,$);function Q(J,K,Y,Z,q){var X=$.call(this,J,K,Y)||this;return X.type=Z||"value",X.axisIndex=q,X}return Q.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},Q}(I8),Vc0=lj1});function X9($,Q,J,K,Y,Z){$=$||0;var q=J[1]-J[0];if(Y!=null)Y=TA(Y,[0,q]);if(Z!=null)Z=Math.max(Z,Y!=null?Y:0);if(K==="all"){var X=Math.abs(Q[1]-Q[0]);X=TA(X,[0,q]),Y=Z=TA(X,[Y,Z]),K=0}Q[0]=TA(Q[0],J),Q[1]=TA(Q[1],J);var W=i10(Q,K);Q[K]+=$;var F=Y||0,H=J.slice();W.sign<0?H[0]+=F:H[1]-=F,Q[K]=TA(Q[K],H);var B=i10(Q,K);if(Y!=null&&(B.sign!==W.sign||B.span<Y))Q[1-K]=Q[K]+W.sign*Y;if(B=i10(Q,K),Z!=null&&B.span>Z)Q[1-K]=Q[K]+B.sign*Z;return Q}function i10($,Q){var J=$[Q]-$[1-Q];return{span:Math.abs(J),sign:J>0?-1:J<0?1:Q?-1:1}}function TA($,Q){return Math.min(Q[1]!=null?Q[1]:1/0,Math.max(Q[0]!=null?Q[0]:-1/0,$))}function CI($,Q){return wc0(Tc0($,Q[0]),Q[1])}function oj1($,Q){var J=Q.layoutLength/(Q.axisCount-1);return{position:J*$,axisNameAvailableWidth:J,axisLabelShow:!0}}function aj1($,Q){var{layoutLength:J,axisExpandWidth:K,axisCount:Y,axisCollapseWidth:Z,winInnerIndices:q}=Q,X,W=Z,F=!1,H;if($<q[0])X=$*Z,H=Z;else if($<=q[1])X=Q.axisExpandWindow0Pos+$*K-Q.axisExpandWindow[0],W=K,F=!0;else X=J-(Y-1-$)*Z,H=Z;return{position:X,axisNameAvailableWidth:W,axisLabelShow:F,nameTruncateMaxWidth:H}}var s10,wc0,Tc0,Gc0,rj1,Oc0,ij1,sj1,Dc0;var Cc0=h(()=>{l();l5();M3();Rc0();a0();k1();s10=S,wc0=Math.min,Tc0=Math.max,Gc0=Math.floor,rj1=Math.ceil,Oc0=Z6,ij1=Math.PI,sj1=function(){function $(Q,J,K){this.type="parallel",this._axesMap=_0(),this._axesLayout={},this.dimensions=Q.dimensions,this._model=Q,this._init(Q,J,K)}return $.prototype._init=function(Q,J,K){var{dimensions:Y,parallelAxisIndex:Z}=Q;s10(Y,function(q,X){var W=Z[X],F=J.getComponent("parallelAxis",W),H=this._axesMap.set(q,new Vc0(q,Z2(F),[0,0],F.get("type"),W)),B=H.type==="category";H.onBand=B&&F.get("boundaryGap"),H.inverse=F.get("inverse"),F.axis=H,H.model=F,H.coordinateSystem=F.coordinateSystem=this},this)},$.prototype.update=function(Q,J){this._updateAxesFromSeries(this._model,Q)},$.prototype.containPoint=function(Q){var J=this._makeLayoutInfo(),K=J.axisBase,Y=J.layoutBase,Z=J.pixelDimIndex,q=Q[1-Z],X=Q[Z];return q>=K&&q<=K+J.axisLength&&X>=Y&&X<=Y+J.layoutLength},$.prototype.getModel=function(){return this._model},$.prototype._updateAxesFromSeries=function(Q,J){J.eachSeries(function(K){if(!Q.contains(K,J))return;var Y=K.getData();s10(this.dimensions,function(Z){var q=this._axesMap.get(Z);q.scale.unionExtentFromData(Y,Y.mapDimension(Z)),lK(q.scale,q.model)},this)},this)},$.prototype.resize=function(Q,J){var K=_5(Q,J).refContainer;this._rect=X5(Q.getBoxLayoutParams(),K),this._layoutAxes()},$.prototype.getRect=function(){return this._rect},$.prototype._makeLayoutInfo=function(){var Q=this._model,J=this._rect,K=["x","y"],Y=["width","height"],Z=Q.get("layout"),q=Z==="horizontal"?0:1,X=J[Y[q]],W=[0,X],F=this.dimensions.length,H=CI(Q.get("axisExpandWidth"),W),B=CI(Q.get("axisExpandCount")||0,[0,F]),z=Q.get("axisExpandable")&&F>3&&F>B&&B>1&&H>0&&X>0,A=Q.get("axisExpandWindow"),R;if(!A){R=CI(H*(B-1),W);var G=Q.get("axisExpandCenter")||Gc0(F/2);A=[H*G-R/2],A[1]=A[0]+R}else R=CI(A[1]-A[0],W),A[1]=A[0]+R;var O=(X-R)/(F-B);O<3&&(O=0);var T=[Gc0(Oc0(A[0]/H,1))+1,rj1(Oc0(A[1]/H,1))-1],D=O/H*A[0];return{layout:Z,pixelDimIndex:q,layoutBase:J[K[q]],layoutLength:X,axisBase:J[K[1-q]],axisLength:J[Y[1-q]],axisExpandable:z,axisExpandWidth:H,axisCollapseWidth:O,axisExpandWindow:A,axisCount:F,winInnerIndices:T,axisExpandWindow0Pos:D}},$.prototype._layoutAxes=function(){var Q=this._rect,J=this._axesMap,K=this.dimensions,Y=this._makeLayoutInfo(),Z=Y.layout;J.each(function(q){var X=[0,Y.axisLength],W=q.inverse?1:0;q.setExtent(X[W],X[1-W])}),s10(K,function(q,X){var W=(Y.axisExpandable?aj1:oj1)(X,Y),F={horizontal:{x:W.position,y:Y.axisLength},vertical:{x:0,y:W.position}},H={horizontal:ij1/2,vertical:0},B=[F[Z].x+Q.x,F[Z].y+Q.y],z=H[Z],A=V6();V4(A,A,z),s8(A,A,B),this._axesLayout[q]={position:B,rotation:z,transform:A,axisNameAvailableWidth:W.axisNameAvailableWidth,axisLabelShow:W.axisLabelShow,nameTruncateMaxWidth:W.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},$.prototype.getAxis=function(Q){return this._axesMap.get(Q)},$.prototype.dataToPoint=function(Q,J){return this.axisCoordToPoint(this._axesMap.get(J).dataToCoord(Q),J)},$.prototype.eachActiveState=function(Q,J,K,Y){K==null&&(K=0),Y==null&&(Y=Q.count());var Z=this._axesMap,q=this.dimensions,X=[],W=[];S(q,function(O){X.push(Q.mapDimension(O)),W.push(Z.get(O).model)});var F=this.hasAxisBrushed();for(var H=K;H<Y;H++){var B=void 0;if(!F)B="normal";else{B="active";var z=Q.getValues(X,H);for(var A=0,R=q.length;A<R;A++){var G=W[A].getActiveState(z[A]);if(G==="inactive"){B="inactive";break}}}J(B,H)}},$.prototype.hasAxisBrushed=function(){var Q=this.dimensions,J=this._axesMap,K=!1;for(var Y=0,Z=Q.length;Y<Z;Y++)if(J.get(Q[Y]).model.getActiveState()!=="normal")K=!0;return K},$.prototype.axisCoordToPoint=function(Q,J){var K=this._axesLayout[J];return e8([Q,0],K.transform)},$.prototype.getAxisLayout=function(Q){return m0(this._axesLayout[Q])},$.prototype.getSlidedAxisExpandWindow=function(Q){var J=this._makeLayoutInfo(),K=J.pixelDimIndex,Y=J.axisExpandWindow.slice(),Z=Y[1]-Y[0],q=[0,J.axisExpandWidth*(J.axisCount-1)];if(!this.containPoint(Q))return{behavior:"none",axisExpandWindow:Y};var X=Q[K]-J.layoutBase-J.axisExpandWindow0Pos,W,F="slide",H=J.axisCollapseWidth,B=this._model.get("axisExpandSlideTriggerArea"),z=B[0]!=null;if(H){if(z&&H&&X<Z*B[0])F="jump",W=X-Z*B[2];else if(z&&H&&X>Z*(1-B[0]))F="jump",W=X-Z*(1-B[2]);else(W=X-Z*B[1])>=0&&(W=X-Z*(1-B[1]))<=0&&(W=0);W*=J.axisExpandWidth/H,W?X9(W,Y,q,"all"):F="none"}else{var A=Y[1]-Y[0],R=q[1]*X/A;Y=[Tc0(0,R-A/2)],Y[1]=wc0(q[1],Y[0]+A),Y[0]=Y[1]-A}return{axisExpandWindow:Y,behavior:F}},$}();Dc0=sj1});function tj1($,Q){var J=[];return $.eachComponent("parallel",function(K,Y){var Z=new Dc0(K,$,Q);Z.name="parallel_"+Y,Z.resize(K,Q),K.coordinateSystem=Z,Z.model=K,J.push(Z)}),$.eachSeries(function(K){if(K.get("coordinateSystem")==="parallel"){var Y=K.getReferringComponents("parallel",L5).models[0];K.coordinateSystem=Y.coordinateSystem}}),J}var ej1,Pc0;var kc0=h(()=>{Cc0();l0();ej1={create:tj1},Pc0=ej1});var jc0,o10;var Ec0=h(()=>{H0();l();_6();rF();k1();az();jc0=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.activeIntervals=[],J}return Q.prototype.getAreaSelectStyle=function(){return I9([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},Q.prototype.setActiveIntervals=function(J){var K=this.activeIntervals=m0(J);if(K)for(var Y=K.length-1;Y>=0;Y--)K8(K[Y])},Q.prototype.getActiveState=function(J){var K=this.activeIntervals;if(!K.length)return"normal";if(J==null||isNaN(+J))return"inactive";if(K.length===1){var Y=K[0];if(Y[0]<=J&&J<=Y[1])return"active"}else for(var Z=0,q=K.length;Z<q;Z++)if(K[Z][0]<=J&&J<=K[Z][1])return"active";return"inactive"},Q}(O1);n5(jc0,rK);o10=jc0});function Ic0($,Q){var J=PI[Q.brushType].createCover($,Q);return J.__brushOption=Q,gc0(J,Q),$.group.add(J),J}function Mc0($,Q){var J=K50(Q);if(J.endCreating)J.endCreating($,Q),gc0(Q,Q.__brushOption);return Q}function bc0($,Q){var J=Q.__brushOption;K50(Q).updateCoverShape($,Q,J.range,J)}function gc0($,Q){var J=Q.z;J==null&&(J=QE1),$.traverse(function(K){K.z=J,K.z2=J})}function J50($,Q){K50(Q).updateCommon($,Q),bc0($,Q)}function K50($){return PI[$.__brushOption.brushType]}function Y50($,Q,J){var K=$._panels;if(!K)return QH;var Y,Z=$._transform;return S(K,function(q){q.isTargetByCursor(Q,J,Z)&&(Y=q)}),Y}function yc0($,Q){var J=$._panels;if(!J)return QH;var K=Q.__brushOption.panelId;return K!=null?J[K]:QH}function a10($){var Q=$._covers,J=Q.length;return S(Q,function(K){$.group.remove(K)},$),Q.length=0,!!J}function JH($,Q){var J=q0($._covers,function(K){var Y=K.__brushOption,Z=m0(Y.range);return{brushType:Y.brushType,panelId:Y.panelId,range:Z}});$.trigger("brush",{areas:J,isEnd:!!Q.isEnd,removeOnClick:!!Q.removeOnClick})}function WE1($){var Q=$._track;if(!Q.length)return!1;var J=Q[Q.length-1],K=Q[0],Y=J[0]-K[0],Z=J[1]-K[1],q=$E1(Y*Y+Z*Z,0.5);return q>JE1}function xc0($){var Q=$.length-1;return Q<0&&(Q=0),[$[0],$[Q]]}function cc0($,Q,J,K){var Y=new b0;return Y.add(new X1({name:"main",style:Z50(J),silent:!0,draggable:!0,cursor:"move",drift:K1(vc0,$,Q,Y,["n","s","w","e"]),ondragend:K1(JH,Q,{isEnd:!0})})),S(K,function(Z){Y.add(new X1({name:Z.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:K1(vc0,$,Q,Y,Z),ondragend:K1(JH,Q,{isEnd:!0})}))}),Y}function uc0($,Q,J,K){var Y=K.brushStyle.lineWidth||0,Z=DA(Y,KE1),q=J[0][0],X=J[1][0],W=q-Y/2,F=X-Y/2,H=J[0][1],B=J[1][1],z=H-Z+Y/2,A=B-Z+Y/2,R=H-q,G=B-X,O=R+Y,T=G+Y;if(mZ($,Q,"main",q,X,R,G),K.transformable)mZ($,Q,"w",W,F,Z,T),mZ($,Q,"e",z,F,Z,T),mZ($,Q,"n",W,F,O,Z),mZ($,Q,"s",W,A,O,Z),mZ($,Q,"nw",W,F,Z,Z),mZ($,Q,"ne",z,F,Z,Z),mZ($,Q,"sw",W,A,Z,Z),mZ($,Q,"se",z,A,Z,Z)}function t10($,Q){var J=Q.__brushOption,K=J.transformable,Y=Q.childAt(0);Y.useStyle(Z50(J)),Y.attr({silent:!K,cursor:K?"move":"default"}),S([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(Z){var q=Q.childOfName(Z.join("")),X=Z.length===1?e10($,Z[0]):UE1($,Z);q&&q.attr({silent:!K,invisible:!K,cursor:K?ZE1[X]+"-resize":null})})}function mZ($,Q,J,K,Y,Z,q){var X=Q.childOfName(J);X&&X.setShape(NE1(q50($,Q,[[K,Y],[K+Z,Y+q]])))}function Z50($){return c0({strokeNoScale:!0},$.brushStyle)}function mc0($,Q,J,K){var Y=[XD($,J),XD(Q,K)],Z=[DA($,J),DA(Q,K)];return[[Y[0],Z[0]],[Y[1],Z[1]]]}function FE1($){return QJ($.group)}function e10($,Q){var J={w:"left",e:"right",n:"top",s:"bottom"},K={left:"w",right:"e",top:"n",bottom:"s"},Y=BU(J[Q],FE1($));return K[Y]}function UE1($,Q){var J=[e10($,Q[0]),e10($,Q[1])];return(J[0]==="e"||J[0]==="w")&&J.reverse(),J.join("")}function vc0($,Q,J,K,Y,Z){var q=J.__brushOption,X=$.toRectRange(q.range),W=pc0(Q,Y,Z);S(K,function(F){var H=YE1[F];X[H[0]][H[1]]+=W[H[0]]}),q.range=$.fromRectRange(mc0(X[0][0],X[1][0],X[0][1],X[1][1])),J50(Q,J),JH(Q,{isEnd:!1})}function HE1($,Q,J,K){var Y=Q.__brushOption.range,Z=pc0($,J,K);S(Y,function(q){q[0]+=Z[0],q[1]+=Z[1]}),J50($,Q),JH($,{isEnd:!1})}function pc0($,Q,J){var K=$.group,Y=K.transformCoordToLocal(Q,J),Z=K.transformCoordToLocal(0,0);return[Y[0]-Z[0],Y[1]-Z[1]]}function q50($,Q,J){var K=yc0($,Q);return K&&K!==QH?K.clipPath(J,$._transform):m0(J)}function NE1($){var Q=XD($[0][0],$[1][0]),J=XD($[0][1],$[1][1]),K=DA($[0][0],$[1][0]),Y=DA($[0][1],$[1][1]);return{x:Q,y:J,width:K-Q,height:Y-J}}function BE1($,Q,J){if(!$._brushType||AE1($,Q.offsetX,Q.offsetY))return;var{_zr:K,_covers:Y}=$,Z=Y50($,Q,J);if(!$._dragging)for(var q=0;q<Y.length;q++){var X=Y[q].__brushOption;if(Z&&(Z===QH||X.panelId===Z.panelId)&&PI[X.brushType].contain(Y[q],J[0],J[1]))return}Z&&K.setCursorStyle("crosshair")}function $50($){var Q=$.event;Q.preventDefault&&Q.preventDefault()}function Q50($,Q,J){return $.childOfName("main").contain(Q,J)}function dc0($,Q,J,K){var{_creatingCover:Y,_creatingPanel:Z,_brushOption:q}=$,X;if($._track.push(J.slice()),WE1($)||Y){if(Z&&!Y){q.brushMode==="single"&&a10($);var W=m0(q);W.brushType=Sc0(W.brushType,Z),W.panelId=Z===QH?null:Z.panelId,Y=$._creatingCover=Ic0($,W),$._covers.push(Y)}if(Y){var F=PI[Sc0($._brushType,Z)],H=Y.__brushOption;if(H.range=F.getCreatingRange(q50($,Y,$._track)),K)Mc0($,Y),F.updateCommon($,Y);bc0($,Y),X={isEnd:K}}}else if(K&&q.brushMode==="single"&&q.removeOnClick){if(Y50($,Q,J)&&a10($))X={isEnd:K,removeOnClick:!0}}return X}function Sc0($,Q){if($==="auto")return M0(Q&&Q.defaultBrushType,'MUST have defaultBrushType when brushType is "atuo"'),Q.defaultBrushType;return $}function _c0($,Q){if($._dragging){$50(Q);var{offsetX:J,offsetY:K}=Q,Y=$.group.transformCoordToLocal(J,K),Z=dc0($,Q,Y,!0);$._dragging=!1,$._track=[],$._creatingCover=null,Z&&JH($,Z)}}function AE1($,Q,J){var K=$._zr;return Q<0||Q>K.getWidth()||J<0||J>K.getHeight()}function fc0($){return{createCover:function(Q,J){return cc0({toRectRange:function(K){var Y=[K,[0,100]];return $&&Y.reverse(),Y},fromRectRange:function(K){return K[$]}},Q,J,[[["w"],["e"]],[["n"],["s"]]][$])},getCreatingRange:function(Q){var J=xc0(Q),K=XD(J[0][$],J[1][$]),Y=DA(J[0][$],J[1][$]);return[K,Y]},updateCoverShape:function(Q,J,K,Y){var Z,q=yc0(Q,J);if(q!==QH&&q.getLinearBrushOtherExtent)Z=q.getLinearBrushOtherExtent($);else{var X=Q._zr;Z=[0,[X.getWidth(),X.getHeight()][1-$]]}var W=[K,Z];$&&W.reverse(),uc0(Q,J,W,Y)},updateCommon:t10,contain:Q50}}var QH=!0,XD,DA,$E1,QE1=1e4,JE1=6,KE1=6,Lc0="globalPan",YE1,ZE1,hc0,qE1=0,XE1,zE1,PI,CA;var kI=h(()=>{H0();l();DK();a0();j00();SZ();y1();XD=Math.min,DA=Math.max,$E1=Math.pow,YE1={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},ZE1={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},hc0={brushStyle:{lineWidth:2,stroke:e.color.backgroundTint,fill:e.color.borderTint},transformable:!0,brushMode:"single",removeOnClick:!1},XE1=function($){c(Q,$);function Q(J){var K=$.call(this)||this;return K._track=[],K._covers=[],K._handlers={},M0(J),K._zr=J,K.group=new b0,K._uid="brushController_"+qE1++,S(zE1,function(Y,Z){this._handlers[Z]=P0(Y,this)},K),K}return Q.prototype.enableBrush=function(J){return M0(this._mounted),this._brushType&&this._doDisableBrush(),J.brushType&&this._doEnableBrush(J),this},Q.prototype._doEnableBrush=function(J){var K=this._zr;if(!this._enableGlobalPan)Qg0(K,Lc0,this._uid);S(this._handlers,function(Y,Z){K.on(Z,Y)}),this._brushType=J.brushType,this._brushOption=F1(m0(hc0),J,!0)},Q.prototype._doDisableBrush=function(){var J=this._zr;Jg0(J,Lc0,this._uid),S(this._handlers,function(K,Y){J.off(Y,K)}),this._brushType=this._brushOption=null},Q.prototype.setPanels=function(J){if(J&&J.length){var K=this._panels={};S(J,function(Y){K[Y.panelId]=m0(Y)})}else this._panels=null;return this},Q.prototype.mount=function(J){J=J||{},this._mounted=!0,this._enableGlobalPan=J.enableGlobalPan;var K=this.group;return this._zr.add(K),K.attr({x:J.x||0,y:J.y||0,rotation:J.rotation||0,scaleX:J.scaleX||1,scaleY:J.scaleY||1}),this._transform=K.getLocalTransform(),this},Q.prototype.updateCovers=function(J){M0(this._mounted),J=q0(J,function(z){return F1(m0(hc0),z,!0)});var K="\x00-brush-index-",Y=this._covers,Z=this._covers=[],q=this,X=this._creatingCover;return new Q4(Y,J,F,W).add(H).update(H).remove(B).execute(),this;function W(z,A){return(z.id!=null?z.id:K+A)+"-"+z.brushType}function F(z,A){return W(z.__brushOption,A)}function H(z,A){var R=J[z];if(A!=null&&Y[A]===X)Z[z]=Y[A];else{var G=Z[z]=A!=null?(Y[A].__brushOption=R,Y[A]):Mc0(q,Ic0(q,R));J50(q,G)}}function B(z){if(Y[z]!==X)q.group.remove(Y[z])}},Q.prototype.unmount=function(){if(!this._mounted)return;return this.enableBrush(!1),a10(this),this._zr.remove(this.group),this._mounted=!1,this},Q.prototype.dispose=function(){this.unmount(),this.off()},Q}(p7);zE1={mousedown:function($){if(this._dragging)_c0(this,$);else if(!$.target||!$.target.draggable){$50($);var Q=this.group.transformCoordToLocal($.offsetX,$.offsetY);this._creatingCover=null;var J=this._creatingPanel=Y50(this,$,Q);if(J)this._dragging=!0,this._track=[Q.slice()]}},mousemove:function($){var{offsetX:Q,offsetY:J}=$,K=this.group.transformCoordToLocal(Q,J);if(BE1(this,$,K),this._dragging){$50($);var Y=dc0(this,$,K,!1);Y&&JH(this,Y)}},mouseup:function($){_c0(this,$)}};PI={lineX:fc0(0),lineY:fc0(1),rect:{createCover:function($,Q){function J(K){return K}return cc0({toRectRange:J,fromRectRange:J},$,Q,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function($){var Q=xc0($);return mc0(Q[1][0],Q[1][1],Q[0][0],Q[0][1])},updateCoverShape:function($,Q,J,K){uc0($,Q,J,K)},updateCommon:t10,contain:Q50},polygon:{createCover:function($,Q){var J=new b0;return J.add(new G6({name:"main",style:Z50(Q),silent:!0})),J},getCreatingRange:function($){return $},endCreating:function($,Q){Q.remove(Q.childAt(0)),Q.add(new S6({name:"main",draggable:!0,drift:K1(HE1,$,Q),ondragend:K1(JH,$,{isEnd:!0})}))},updateCoverShape:function($,Q,J,K){Q.childAt(0).setShape({points:q50($,Q,J)})},updateCommon:t10,contain:Q50}};CA=XE1});function jI($){return $=X50($),function(Q){return bo(Q,$)}}function EI($,Q){return $=X50($),function(J){var K=Q!=null?Q:J,Y=K?$.width:$.height,Z=K?$.x:$.y;return[Z,Z+(Y||0)]}}function LI($,Q,J){var K=X50($);return function(Y,Z){return K.contain(Z[0],Z[1])&&!rf(Y,Q,J)}}function X50($){return n0.create($)}var W50=h(()=>{s5();E00();a0()});function RE1($,Q,J){return J&&J.type==="axisAreaSelect"&&Q.findComponents({mainType:"parallelAxis",query:J})[0]===$}function GE1($){var Q=$.axis;return q0($.activeIntervals,function(J){return{brushType:"lineX",panelId:"pl",range:[Q.dataToCoord(J[0],!0),Q.dataToCoord(J[1],!0)]}})}function OE1($,Q){return Q.getComponent("parallel",$.get("parallelIndex"))}var VE1,lc0;var rc0=h(()=>{H0();l();eK();kI();W50();a0();a6();VE1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(J,K){$.prototype.init.apply(this,arguments),(this._brushController=new CA(K.getZr())).on("brush",P0(this._onBrush,this))},Q.prototype.render=function(J,K,Y,Z){if(RE1(J,K,Z))return;this.axisModel=J,this.api=Y,this.group.removeAll();var q=this._axisGroup;if(this._axisGroup=new b0,this.group.add(this._axisGroup),!J.get("show"))return;var X=OE1(J,K),W=X.coordinateSystem,F=J.getAreaSelectStyle(),H=F.width,B=J.axis.dim,z=W.getAxisLayout(B),A=Y0({strokeContainThreshold:H},z),R=new J4(J,Y,A);R.build(),this._axisGroup.add(R.group),this._refreshBrushController(A,F,J,X,H,Y),TZ(q,this._axisGroup,J)},Q.prototype._refreshBrushController=function(J,K,Y,Z,q,X){var W=Y.axis.getExtent(),F=W[1]-W[0],H=Math.min(30,Math.abs(F)*0.1),B=n0.create({x:W[0],y:-q/2,width:F,height:q});B.x-=H,B.width+=2*H,this._brushController.mount({enableGlobalPan:!0,rotation:J.rotation,x:J.position[0],y:J.position[1]}).setPanels([{panelId:"pl",clipPath:jI(B),isTargetByCursor:LI(B,X,Z),getLinearBrushOtherExtent:EI(B,0)}]).enableBrush({brushType:"lineX",brushStyle:K,removeOnClick:!0}).updateCovers(GE1(Y))},Q.prototype._onBrush=function(J){var K=J.areas,Y=this.axisModel,Z=Y.axis,q=q0(K,function(X){return[Z.coordToData(X.range[0],!0),Z.coordToData(X.range[1],!0)]});if(!Y.option.realtime===J.isEnd||J.removeOnClick)this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:Y.id,intervals:q})},Q.prototype.dispose=function(){this._brushController.dispose()},Q.type="parallelAxis",Q}(a1);lc0=VE1});function ic0($){$.registerAction(wE1,function(Q,J){J.eachComponent({mainType:"parallelAxis",query:Q},function(K){K.axis.model.setActiveIntervals(Q.intervals)})}),$.registerAction("parallelAxisExpand",function(Q,J){J.eachComponent({mainType:"parallel",query:Q},function(K){K.setAxisExpand(Q)})})}var wE1;var sc0=h(()=>{wE1={type:"axisAreaSelect",event:"axisAreaSelected"}});function WD($){$.registerComponentView(Nc0),$.registerComponentModel(zc0),$.registerCoordinateSystem("parallel",Pc0),$.registerPreprocessor(l10),$.registerComponentModel(o10),$.registerComponentView(lc0),AJ($,"parallel",o10,TE1),ic0($)}var TE1;var F50=h(()=>{Hc0();Bc0();Ac0();kc0();yT();Ec0();rc0();sc0();TE1={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:0.3},realtime:!0,z:10}});function U50($){T1(WD),$.registerChartView(Zc0),$.registerSeriesModel(Xc0),$.registerVisual($.PRIORITY.VISUAL.BRUSH,Fc0)}var oc0=h(()=>{E4();qc0();Wc0();Uc0();F50()});function ac0($,Q,J){switch($.fill){case"source":$.fill=J.node1.getVisual("color"),$.decal=J.node1.getVisual("style").decal;break;case"target":$.fill=J.node2.getVisual("color"),$.decal=J.node2.getVisual("style").decal;break;case"gradient":var K=J.node1.getVisual("color"),Y=J.node2.getVisual("color");if(R0(K)&&R0(Y))$.fill=new m$(0,0,+(Q==="horizontal"),+(Q==="vertical"),[{color:K,offset:0},{color:Y,offset:1}])}}function kE1($,Q,J){var K=new X1({shape:{x:$.x-10,y:$.y-10,width:0,height:$.height+20}});return q5(K,{shape:{width:$.width+20}},Q,J),K}var DE1,CE1,PE1,tc0;var ec0=h(()=>{H0();a0();M5();t6();g5();o5();l();A2();$Y();rU();DE1=function(){function $(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return $}(),CE1=function($){c(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultShape=function(){return new DE1},Q.prototype.buildPath=function(J,K){var Y=K.extent;if(J.moveTo(K.x1,K.y1),J.bezierCurveTo(K.cpx1,K.cpy1,K.cpx2,K.cpy2,K.x2,K.y2),K.orient==="vertical")J.lineTo(K.x2+Y,K.y2),J.bezierCurveTo(K.cpx2+Y,K.cpy2,K.cpx1+Y,K.cpy1,K.x1+Y,K.y1);else J.lineTo(K.x2,K.y2+Y),J.bezierCurveTo(K.cpx2,K.cpy2+Y,K.cpx1,K.cpy1+Y,K.x1,K.y1+Y);J.closePath()},Q.prototype.highlight=function(){G4(this)},Q.prototype.downplay=function(){O4(this)},Q}(Y1),PE1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J._mainGroup=new b0,J._focusAdjacencyDisabled=!1,J}return Q.prototype.init=function(J,K){this._controller=new s9(K.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},Q.prototype.render=function(J,K,Y){var Z=this,q=J.getGraph(),X=this._mainGroup,W=J.layoutInfo,F=W.width,H=W.height,B=J.getData(),z=J.getData("edge"),A=J.get("orient");if(this._model=J,X.removeAll(),X.x=W.x,X.y=W.y,this._updateViewCoordSys(J,Y),af(J,Y,X,this._controller,this._controllerHost,null),q.eachEdge(function(R){var G=new CE1,O=r0(G);O.dataIndex=R.dataIndex,O.seriesIndex=J.seriesIndex,O.dataType="edge";var T=R.getModel(),D=T.getModel("lineStyle"),P=D.get("curveness"),j=R.node1.getLayout(),E=R.node1.getModel(),L=E.get("localX"),v=E.get("localY"),f=R.node2.getLayout(),_=R.node2.getModel(),M=_.get("localX"),b=_.get("localY"),x=R.getLayout(),g,m,u,p,o,t,r,Q0;if(G.shape.extent=Math.max(1,x.dy),G.shape.orient=A,A==="vertical")g=(L!=null?L*F:j.x)+x.sy,m=(v!=null?v*H:j.y)+j.dy,u=(M!=null?M*F:f.x)+x.ty,p=b!=null?b*H:f.y,o=g,t=m*(1-P)+p*P,r=u,Q0=m*P+p*(1-P);else g=(L!=null?L*F:j.x)+j.dx,m=(v!=null?v*H:j.y)+x.sy,u=M!=null?M*F:f.x,p=(b!=null?b*H:f.y)+x.ty,o=g*(1-P)+u*P,t=m,r=g*P+u*(1-P),Q0=p;G.setShape({x1:g,y1:m,x2:u,y2:p,cpx1:o,cpy1:t,cpx2:r,cpy2:Q0}),G.useStyle(D.getItemStyle()),ac0(G.style,A,R);var F0=""+T.get("value"),W0=b5(T,"edgeLabel");p5(G,W0,{labelFetcher:{getFormattedLabel:function(W1,z1,b1,B1,e0,P1){return J.getFormattedLabel(W1,z1,"edge",B1,v6(e0,W0.normal&&W0.normal.get("formatter"),F0),P1)}},labelDataIndex:R.dataIndex,defaultText:F0}),G.setTextConfig({position:"inside"});var h0=T.getModel("emphasis");a5(G,T,"lineStyle",function(W1){var z1=W1.getItemStyle();return ac0(z1,A,R),z1}),X.add(G),z.setItemGraphicEl(R.dataIndex,G);var d0=h0.get("focus");s1(G,d0==="adjacency"?R.getAdjacentDataIndices():d0==="trajectory"?R.getTrajectoryDataIndices():d0,h0.get("blurScope"),h0.get("disabled"))}),q.eachNode(function(R){var G=R.getLayout(),O=R.getModel(),T=O.get("localX"),D=O.get("localY"),P=O.getModel("emphasis"),j=O.get(["itemStyle","borderRadius"])||0,E=new X1({shape:{x:T!=null?T*F:G.x,y:D!=null?D*H:G.y,width:G.dx,height:G.dy,r:j},style:O.getModel("itemStyle").getItemStyle(),z2:10});p5(E,b5(O),{labelFetcher:{getFormattedLabel:function(v,f){return J.getFormattedLabel(v,f,"node")}},labelDataIndex:R.dataIndex,defaultText:R.id}),E.disableLabelAnimation=!0,E.setStyle("fill",R.getVisual("color")),E.setStyle("decal",R.getVisual("style").decal),a5(E,O),X.add(E),B.setItemGraphicEl(R.dataIndex,E),r0(E).dataType="node";var L=P.get("focus");s1(E,L==="adjacency"?R.getAdjacentDataIndices():L==="trajectory"?R.getTrajectoryDataIndices():L,P.get("blurScope"),P.get("disabled"))}),B.eachItemGraphicEl(function(R,G){var O=B.getItemModel(G);if(O.get("draggable"))R.drift=function(T,D){Z._focusAdjacencyDisabled=!0,this.shape.x+=T,this.shape.y+=D,this.dirty(),Y.dispatchAction({type:"dragNode",seriesId:J.id,dataIndex:B.getRawIndex(G),localX:this.shape.x/F,localY:this.shape.y/H})},R.ondragend=function(){Z._focusAdjacencyDisabled=!1},R.draggable=!0,R.cursor="move"}),!this._data&&J.isAnimationEnabled())X.setClipPath(kE1(X.getBoundingRect(),J,function(){X.removeClipPath()}));this._data=J.getData()},Q.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},Q.prototype._updateViewCoordSys=function(J,K){var Y=J.layoutInfo,Z=Y.width,q=Y.height,X=J.coordinateSystem=new c3(null,{api:K,ecModel:J.ecModel});X.zoomLimit=J.get("scaleLimit"),X.setBoundingRect(0,0,Z,q),X.setCenter(J.get("center")),X.setZoom(J.get("zoom")),this._controllerHost.target.attr({x:X.x,y:X.y,scaleX:X.scaleX,scaleY:X.scaleY})},Q.type="sankey",Q}(c1);tc0=PE1});var jE1,$u0;var Qu0=h(()=>{H0();o6();TI();K7();j4();y1();jE1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.getInitialData=function(J,K){var Y=J.edges||J.links||[],Z=J.data||J.nodes||[],q=J.levels||[];this.levelModels=[];var X=this.levelModels;for(var W=0;W<q.length;W++)if(q[W].depth!=null&&q[W].depth>=0)X[q[W].depth]=new h1(q[W],this,K);else throw Error("levels[i].depth is mandatory and should be natural number");var F=$H(Z,Y,this,!0,H);return F.data;function H(B,z){B.wrapMethod("getItemModel",function(A,R){var G=A.parentModel,O=G.getData().getItemLayout(R);if(O){var T=O.depth,D=G.levelModels[T];if(D)A.parentModel=D}return A}),z.wrapMethod("getItemModel",function(A,R){var G=A.parentModel,O=G.getGraph().getEdgeByIndex(R),T=O.node1.getLayout();if(T){var D=T.depth,P=G.levelModels[D];if(P)A.parentModel=P}return A})}},Q.prototype.setNodePosition=function(J,K){var Y=this.option.data||this.option.nodes,Z=Y[J];Z.localX=K[0],Z.localY=K[1]},Q.prototype.setCenter=function(J){this.option.center=J},Q.prototype.setZoom=function(J){this.option.zoom=J},Q.prototype.getGraph=function(){return this.getData().graph},Q.prototype.getEdgeData=function(){return this.getGraph().edgeData},Q.prototype.formatTooltip=function(J,K,Y){function Z(A){return isNaN(A)||A==null}if(Y==="edge"){var q=this.getDataParams(J,Y),X=q.data,W=q.value,F=X.source+" -- "+X.target;return $6("nameValue",{name:F,value:W,noValue:Z(W)})}else{var H=this.getGraph().getNodeByIndex(J),B=H.getLayout().value,z=this.getDataParams(J,Y).data.name;return $6("nameValue",{name:z!=null?z+"":null,value:B,noValue:Z(B)})}},Q.prototype.optionUpdated=function(){},Q.prototype.getDataParams=function(J,K){var Y=$.prototype.getDataParams.call(this,J,K);if(Y.value==null&&K==="node"){var Z=this.getGraph().getNodeByIndex(J),q=Z.getLayout().value;Y.value=q}return Y},Q.type="series.sankey",Q.layoutMode="box",Q.defaultOption={z:2,coordinateSystemUsage:"box",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,roam:!1,roamTrigger:"global",center:null,zoom:1,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:e.color.neutral50,opacity:0.2,curveness:0.5},emphasis:{label:{show:!0},lineStyle:{opacity:0.5}},select:{itemStyle:{borderColor:e.color.primary}},animationEasing:"linear",animationDuration:1000},Q}(o1),$u0=jE1});function N50($,Q){$.eachSeriesByType("sankey",function(J){var K=J.get("nodeWidth"),Y=J.get("nodeGap"),Z=_5(J,Q).refContainer,q=X5(J.getBoxLayoutParams(),Z);J.layoutInfo=q;var{width:X,height:W}=q,F=J.getGraph(),H=F.nodes,B=F.edges;LE1(H);var z=f1(H,function(O){return O.getLayout().value===0}),A=z.length!==0?0:J.get("layoutIterations"),R=J.get("orient"),G=J.get("nodeAlign");EE1(H,B,K,Y,X,W,A,R,G)})}function EE1($,Q,J,K,Y,Z,q,X,W){hE1($,Q,J,Y,Z,X,W),fE1($,Q,Z,Y,K,q,X),mE1($,X)}function LE1($){S($,function(Q){var J=w2(Q.outEdges,hI),K=w2(Q.inEdges,hI),Y=Q.getValue()||0,Z=Math.max(J,K,Y);Q.setLayout({value:Z},!0)})}function hE1($,Q,J,K,Y,Z,q){var X=[],W=[],F=[],H=[],B=0;for(var z=0;z<Q.length;z++)X[z]=1;for(var z=0;z<$.length;z++)if(W[z]=$[z].inEdges.length,W[z]===0)F.push($[z]);var A=-1;while(F.length){for(var R=0;R<F.length;R++){var G=F[R],O=G.hostGraph.data.getRawDataItem(G.dataIndex),T=O.depth!=null&&O.depth>=0;if(T&&O.depth>A)A=O.depth;G.setLayout({depth:T?O.depth:B},!0),Z==="vertical"?G.setLayout({dy:J},!0):G.setLayout({dx:J},!0);for(var D=0;D<G.outEdges.length;D++){var P=G.outEdges[D],j=Q.indexOf(P);X[j]=0;var E=P.node2,L=$.indexOf(E);if(--W[L]===0&&H.indexOf(E)<0)H.push(E)}}++B,F=H,H=[]}for(var z=0;z<X.length;z++)if(X[z]===1)throw Error("Sankey is a DAG, the original data has cycle!");var v=A>B-1?A:B-1;if(q&&q!=="left")vE1($,q,Z,v);var f=Z==="vertical"?(Y-J)/v:(K-J)/v;_E1($,f,Z)}function Ju0($){var Q=$.hostGraph.data.getRawDataItem($.dataIndex);return Q.depth!=null&&Q.depth>=0}function vE1($,Q,J,K){if(Q==="right"){var Y=[],Z=$,q=0;while(Z.length){for(var X=0;X<Z.length;X++){var W=Z[X];W.setLayout({skNodeHeight:q},!0);for(var F=0;F<W.inEdges.length;F++){var H=W.inEdges[F];if(Y.indexOf(H.node1)<0)Y.push(H.node1)}}Z=Y,Y=[],++q}S($,function(B){if(!Ju0(B))B.setLayout({depth:Math.max(0,K-B.getLayout().skNodeHeight)},!0)})}else if(Q==="justify")SE1($,K)}function SE1($,Q){S($,function(J){if(!Ju0(J)&&!J.outEdges.length)J.setLayout({depth:Q},!0)})}function _E1($,Q,J){S($,function(K){var Y=K.getLayout().depth*Q;J==="vertical"?K.setLayout({y:Y},!0):K.setLayout({x:Y},!0)})}function fE1($,Q,J,K,Y,Z,q){var X=IE1($,q);ME1(X,Q,J,K,Y,q),H50(X,Y,J,K,q);for(var W=1;Z>0;Z--)W*=0.99,bE1(X,W,q),H50(X,Y,J,K,q),uE1(X,W,q),H50(X,Y,J,K,q)}function IE1($,Q){var J=[],K=Q==="vertical"?"y":"x",Y=Vw($,function(Z){return Z.getLayout()[K]});return Y.keys.sort(function(Z,q){return Z-q}),S(Y.keys,function(Z){J.push(Y.buckets.get(Z))}),J}function ME1($,Q,J,K,Y,Z){var q=1/0;S($,function(X){var W=X.length,F=0;S(X,function(B){F+=B.getLayout().value});var H=Z==="vertical"?(K-(W-1)*Y)/F:(J-(W-1)*Y)/F;if(H<q)q=H}),S($,function(X){S(X,function(W,F){var H=W.getLayout().value*q;if(Z==="vertical")W.setLayout({x:F},!0),W.setLayout({dx:H},!0);else W.setLayout({y:F},!0),W.setLayout({dy:H},!0)})}),S(Q,function(X){var W=+X.getValue()*q;X.setLayout({dy:W},!0)})}function H50($,Q,J,K,Y){var Z=Y==="vertical"?"x":"y";S($,function(q){q.sort(function(G,O){return G.getLayout()[Z]-O.getLayout()[Z]});var X,W,F,H=0,B=q.length,z=Y==="vertical"?"dx":"dy";for(var A=0;A<B;A++){if(W=q[A],F=H-W.getLayout()[Z],F>0)X=W.getLayout()[Z]+F,Y==="vertical"?W.setLayout({x:X},!0):W.setLayout({y:X},!0);H=W.getLayout()[Z]+W.getLayout()[z]+Q}var R=Y==="vertical"?K:J;if(F=H-Q-R,F>0){X=W.getLayout()[Z]-F,Y==="vertical"?W.setLayout({x:X},!0):W.setLayout({y:X},!0),H=X;for(var A=B-2;A>=0;--A){if(W=q[A],F=W.getLayout()[Z]+W.getLayout()[z]+Q-H,F>0)X=W.getLayout()[Z]-F,Y==="vertical"?W.setLayout({x:X},!0):W.setLayout({y:X},!0);H=W.getLayout()[Z]}}})}function bE1($,Q,J){S($.slice().reverse(),function(K){S(K,function(Y){if(Y.outEdges.length){var Z=w2(Y.outEdges,gE1,J)/w2(Y.outEdges,hI);if(isNaN(Z)){var q=Y.outEdges.length;Z=q?w2(Y.outEdges,yE1,J)/q:0}if(J==="vertical"){var X=Y.getLayout().x+(Z-T2(Y,J))*Q;Y.setLayout({x:X},!0)}else{var W=Y.getLayout().y+(Z-T2(Y,J))*Q;Y.setLayout({y:W},!0)}}})})}function gE1($,Q){return T2($.node2,Q)*$.getValue()}function yE1($,Q){return T2($.node2,Q)}function xE1($,Q){return T2($.node1,Q)*$.getValue()}function cE1($,Q){return T2($.node1,Q)}function T2($,Q){return Q==="vertical"?$.getLayout().x+$.getLayout().dx/2:$.getLayout().y+$.getLayout().dy/2}function hI($){return $.getValue()}function w2($,Q,J){var K=0,Y=$.length,Z=-1;while(++Z<Y){var q=+Q($[Z],J);if(!isNaN(q))K+=q}return K}function uE1($,Q,J){S($,function(K){S(K,function(Y){if(Y.inEdges.length){var Z=w2(Y.inEdges,xE1,J)/w2(Y.inEdges,hI);if(isNaN(Z)){var q=Y.inEdges.length;Z=q?w2(Y.inEdges,cE1,J)/q:0}if(J==="vertical"){var X=Y.getLayout().x+(Z-T2(Y,J))*Q;Y.setLayout({x:X},!0)}else{var W=Y.getLayout().y+(Z-T2(Y,J))*Q;Y.setLayout({y:W},!0)}}})})}function mE1($,Q){var J=Q==="vertical"?"x":"y";S($,function(K){K.outEdges.sort(function(Y,Z){return Y.node2.getLayout()[J]-Z.node2.getLayout()[J]}),K.inEdges.sort(function(Y,Z){return Y.node1.getLayout()[J]-Z.node1.getLayout()[J]})}),S($,function(K){var Y=0,Z=0;S(K.outEdges,function(q){q.setLayout({sy:Y},!0),Y+=q.getLayout().dy}),S(K.inEdges,function(q){q.setLayout({ty:Z},!0),Z+=q.getLayout().dy})})}var Ku0=h(()=>{l();l0();l5()});function B50($){$.eachSeriesByType("sankey",function(Q){var J=Q.getGraph(),K=J.nodes,Y=J.edges;if(K.length){var Z=1/0,q=-1/0;S(K,function(X){var W=X.getLayout().value;if(W<Z)Z=W;if(W>q)q=W}),S(K,function(X){var W=new B7({type:"color",mappingMethod:"linear",dataExtent:[Z,q],visual:Q.get("color")}),F=W.mapValueToVisual(X.getLayout().value),H=X.getModel().get(["itemStyle","color"]);if(H!=null)X.setVisual("color",H),X.setVisual("style",{fill:H});else X.setVisual("color",F),X.setVisual("style",{fill:F})})}if(Y.length)S(Y,function(X){var W=X.getModel().get("lineStyle");X.setVisual("style",W)})})}var Yu0=h(()=>{l();O2()});function z50($){$.registerChartView(tc0),$.registerSeriesModel($u0),$.registerLayout(N50),$.registerVisual(B50),$.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(Q,J){J.eachComponent({mainType:"series",subType:"sankey",query:Q},function(K){K.setNodePosition(Q.dataIndex,[Q.localX,Q.localY])})}),$.registerAction({type:"sankeyRoam",event:"sankeyRoam",update:"none"},function(Q,J,K){J.eachComponent({mainType:"series",subType:"sankey",query:Q},function(Y){var Z=Y.coordinateSystem,q=V2(Z,Q,Y.get("scaleLimit"));Y.setCenter(q.center),Y.setZoom(q.zoom)})})}var Zu0=h(()=>{ec0();Qu0();Ku0();Yu0();$Y()});var vI;var A50=h(()=>{uU();l();UT();pK();vI=function(){function $(){}return $.prototype._hasEncodeRule=function(Q){var J=this.getEncode();return J&&J.get(Q)!=null},$.prototype.getInitialData=function(Q,J){var K,Y=J.getComponent("xAxis",this.get("xAxisIndex")),Z=J.getComponent("yAxis",this.get("yAxisIndex")),q=Y.get("type"),X=Z.get("type"),W;if(q==="category")Q.layout="horizontal",K=Y.getOrdinalMeta(),W=!this._hasEncodeRule("x");else if(X==="category")Q.layout="vertical",K=Z.getOrdinalMeta(),W=!this._hasEncodeRule("y");else Q.layout=Q.layout||"horizontal";var F=["x","y"],H=Q.layout==="horizontal"?0:1,B=this._baseAxisDim=F[H],z=F[1-H],A=[Y,Z],R=A[H].get("type"),G=A[1-H].get("type"),O=Q.data;if(O&&W){var T=[];S(O,function(j,E){var L;if(Z0(j))L=j.slice(),j.unshift(E);else if(Z0(j.value))L=Y0({},j),L.value=L.value.slice(),j.value.unshift(E);else L=j;T.push(L)}),Q.data=T}var D=this.defaultValueDimensions,P=[{name:B,type:_U(R),ordinalMeta:K,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:z,type:_U(G),dimsDef:D.slice()}];return y3(this,{coordDimensions:P,dimensionsCount:D.length+1,encodeDefaulter:K1(tS,P,this)})},$.prototype.getBaseAxis=function(){var Q=this._baseAxisDim;return this.ecModel.getComponent(Q+"Axis",this.get(Q+"AxisIndex")).axis},$}()});var qu0,Xu0;var Wu0=h(()=>{H0();o6();A50();l();y1();qu0=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],J.visualDrawType="stroke",J}return Q.type="series.boxplot",Q.dependencies=["xAxis","yAxis","grid"],Q.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:e.color.neutral00,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:e.color.shadow}},animationDuration:800},Q}(o1);n5(qu0,vI,!0);Xu0=qu0});function Fu0($,Q,J,K,Y){var Z=$.ends,q=new nE1({shape:{points:Y?lE1(Z,K,$):Z}});return Uu0($,q,Q,J,Y),q}function Uu0($,Q,J,K,Y){var Z=J.hostModel,q=G1[Y?"initProps":"updateProps"];q(Q,{shape:{points:$.ends}},Z,K),Q.useStyle(J.getItemVisual(K,"style")),Q.style.strokeNoScale=!0,Q.z2=100;var X=J.getItemModel(K),W=X.getModel("emphasis");a5(Q,X),s1(Q,W.get("focus"),W.get("blurScope"),W.get("disabled"))}function lE1($,Q,J){return q0($,function(K){return K=K.slice(),K[Q]=J.initBaseline,K})}var pE1,dE1,nE1,Hu0;var Nu0=h(()=>{H0();l();t6();a0();M5();m6();h8();pE1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){var Z=J.getData(),q=this.group,X=this._data;if(!this._data)q.removeAll();var W=J.get("layout")==="horizontal"?1:0;Z.diff(X).add(function(F){if(Z.hasValue(F)){var H=Z.getItemLayout(F),B=Fu0(H,Z,F,W,!0);Z.setItemGraphicEl(F,B),q.add(B)}}).update(function(F,H){var B=X.getItemGraphicEl(H);if(!Z.hasValue(F)){q.remove(B);return}var z=Z.getItemLayout(F);if(!B)B=Fu0(z,Z,F,W);else T7(B),Uu0(z,B,Z,F);q.add(B),Z.setItemGraphicEl(F,B)}).remove(function(F){var H=X.getItemGraphicEl(F);H&&q.remove(H)}).execute(),this._data=Z},Q.prototype.remove=function(J){var K=this.group,Y=this._data;this._data=null,Y&&Y.eachItemGraphicEl(function(Z){Z&&K.remove(Z)})},Q.type="boxplot",Q}(c1),dE1=function(){function $(){}return $}(),nE1=function($){c(Q,$);function Q(J){var K=$.call(this,J)||this;return K.type="boxplotBoxPath",K}return Q.prototype.getDefaultShape=function(){return new dE1},Q.prototype.buildPath=function(J,K){var Y=K.points,Z=0;J.moveTo(Y[Z][0],Y[Z][1]),Z++;for(;Z<4;Z++)J.lineTo(Y[Z][0],Y[Z][1]);J.closePath();for(;Z<Y.length;Z++)J.moveTo(Y[Z][0],Y[Z][1]),Z++,J.lineTo(Y[Z][0],Y[Z][1])},Q}(Y1);Hu0=pE1});function V50($){var Q=rE1($);FD(Q,function(J){var K=J.seriesModels;if(!K.length)return;iE1(J),FD(K,function(Y,Z){sE1(Y,J.boxOffsetList[Z],J.boxWidthList[Z])})})}function rE1($){var Q=[],J=[];return $.eachSeriesByType("boxplot",function(K){var Y=K.getBaseAxis(),Z=J1(J,Y);if(Z<0)Z=J.length,J[Z]=Y,Q[Z]={axis:Y,seriesModels:[]};Q[Z].seriesModels.push(K)}),Q}function iE1($){var{axis:Q,seriesModels:J}=$,K=J.length,Y=$.boxWidthList=[],Z=$.boxOffsetList=[],q=[],X;if(Q.type==="category")X=Q.getBandWidth();else{var W=0;FD(J,function(R){W=Math.max(W,R.getData().count())});var F=Q.getExtent();X=Math.abs(F[1]-F[0])/W}FD(J,function(R){var G=R.get("boxWidth");if(!Z0(G))G=[G,G];q.push([f0(G[0],X)||0,f0(G[1],X)||0])});var H=X*0.8-2,B=H/K*0.3,z=(H-B*(K-1))/K,A=z/2-H/2;FD(J,function(R,G){Z.push(A),A+=B+z,Y.push(Math.min(Math.max(z,q[G][0]),q[G][1]))})}function sE1($,Q,J){var K=$.coordinateSystem,Y=$.getData(),Z=J/2,q=$.get("layout")==="horizontal"?0:1,X=1-q,W=["x","y"],F=Y.mapDimension(W[q]),H=Y.mapDimensionsAll(W[X]);if(F==null||H.length<5)return;for(var B=0;B<Y.count();B++){var z=Y.get(F,B),A=P(z,H[2],B),R=P(z,H[0],B),G=P(z,H[1],B),O=P(z,H[3],B),T=P(z,H[4],B),D=[];j(D,G,!1),j(D,O,!0),D.push(R,G,T,O),E(D,R),E(D,T),E(D,A),Y.setItemLayout(B,{initBaseline:A[X],ends:D})}function P(L,v,f){var _=Y.get(v,f),M=[];M[q]=L,M[X]=_;var b;if(isNaN(L)||isNaN(_))b=[NaN,NaN];else b=K.dataToPoint(M),b[q]+=Q;return b}function j(L,v,f){var _=v.slice(),M=v.slice();_[q]+=Z,M[q]-=Z,f?L.push(_,M):L.push(M,_)}function E(L,v){var f=v.slice(),_=v.slice();f[q]-=Z,_[q]+=Z,L.push(f,_)}}var FD;var Bu0=h(()=>{l();k1();FD=S});function R50($,Q){Q=Q||{};var J=[],K=[],Y=Q.boundIQR,Z=Y==="none"||Y===0;for(var q=0;q<$.length;q++){var X=K8($[q].slice()),W=gv(X,0.25),F=gv(X,0.5),H=gv(X,0.75),B=X[0],z=X[X.length-1],A=(Y==null?1.5:Y)*(H-W),R=Z?B:Math.max(B,W-A),G=Z?z:Math.min(z,H+A),O=Q.itemNameFormatter,T=I0(O)?O({value:q}):R0(O)?O.replace("{value}",q+""):q+"";J.push([T,R,W,F,H,G]);for(var D=0;D<X.length;D++){var P=X[D];if(P<R||P>G){var j=[T,P];K.push(j)}}}return{boxData:J,outliers:K}}var zu0=h(()=>{k1();l()});var Au0;var Vu0=h(()=>{zu0();N5();S3();Au0={type:"echarts:boxplot",transform:function(Q){var J=Q.upstream;if(J.sourceFormat!==N7){var K="";K=_7("source data is not applicable for this boxplot transform. Expect number[][]."),U5(K)}var Y=R50(J.getRawData(),Q.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:Y.boxData},{data:Y.outliers}]}}});function G50($){$.registerSeriesModel(Xu0),$.registerChartView(Hu0),$.registerLayout(V50),$.registerTransform(Au0)}var Ru0=h(()=>{Wu0();Nu0();Bu0();Vu0()});function SI($,Q){return Q.get($>0?eE1:$L1)}function _I($,Q){return Q.get($===0?tE1:$>0?oE1:aE1)}var oE1,aE1,tE1,eE1,$L1,QL1,Gu0;var O50=h(()=>{LU();l();oE1=["itemStyle","borderColor"],aE1=["itemStyle","borderColor0"],tE1=["itemStyle","borderColorDoji"],eE1=["itemStyle","color"],$L1=["itemStyle","color0"];QL1={seriesType:"candlestick",plan:_3(),performRawSeries:!0,reset:function($,Q){if(Q.isSeriesFiltered($))return;var J=$.pipelineContext.large;return!J&&{progress:function(K,Y){var Z;while((Z=K.next())!=null){var q=Y.getItemModel(Z),X=Y.getItemLayout(Z).sign,W=q.getItemStyle();W.fill=SI(X,q),W.stroke=_I(X,q)||W.fill;var F=Y.ensureUniqueItemVisual(Z,"style");Y0(F,W)}}}}},Gu0=QL1});function w50($,Q,J){var K=$.ends;return new ZL1({shape:{points:J?qL1(K,$):K},z2:100})}function Ou0($,Q){var J=!0;for(var K=0;K<Q.ends.length;K++)if($.contain(Q.ends[K][0],Q.ends[K][1])){J=!1;break}return J}function T50($,Q,J,K){var Y=Q.getItemModel(J);$.useStyle(Q.getItemVisual(J,"style")),$.style.strokeNoScale=!0,$.__simpleBox=K,a5($,Y);var Z=Q.getItemLayout(J).sign;S($.states,function(X,W){var F=Y.getModel(W),H=SI(Z,F),B=_I(Z,F)||H,z=X.style||(X.style={});H&&(z.fill=H),B&&(z.stroke=B)});var q=Y.getModel("emphasis");s1($,q.get("focus"),q.get("blurScope"),q.get("disabled"))}function qL1($,Q){return q0($,function(J){return J=J.slice(),J[1]=Q.initBaseline,J})}function wu0($,Q,J,K){var Y=$.getData(),Z=Y.getLayout("largePoints"),q=new D50({shape:{points:Z},__sign:1,ignoreCoarsePointer:!0});Q.add(q);var X=new D50({shape:{points:Z},__sign:-1,ignoreCoarsePointer:!0});Q.add(X);var W=new D50({shape:{points:Z},__sign:0,ignoreCoarsePointer:!0});if(Q.add(W),C50(1,q,$,Y),C50(-1,X,$,Y),C50(0,W,$,Y),K)q.incremental=!0,X.incremental=!0;if(J)J.push(q,X)}function C50($,Q,J,K){var Y=_I($,J)||SI($,J),Z=J.getModel("itemStyle").getItemStyle(JL1);Q.useStyle(Z),Q.style.fill=null,Q.style.stroke=Y}var JL1,KL1,YL1,ZL1,XL1,D50,Tu0;var Du0=h(()=>{H0();l();t6();a0();M5();m6();cU();h8();O50();JL1=["color","borderColor"],KL1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(J),this._isLargeDraw?this._renderLarge(J):this._renderNormal(J)},Q.prototype.incrementalPrepareRender=function(J,K,Y){this._clear(),this._updateDrawMode(J)},Q.prototype.incrementalRender=function(J,K,Y,Z){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(J,K):this._incrementalRenderNormal(J,K)},Q.prototype.eachRendered=function(J){t4(this._progressiveEls||this.group,J)},Q.prototype._updateDrawMode=function(J){var K=J.pipelineContext.large;if(this._isLargeDraw==null||K!==this._isLargeDraw)this._isLargeDraw=K,this._clear()},Q.prototype._renderNormal=function(J){var K=J.getData(),Y=this._data,Z=this.group,q=K.getLayout("isSimpleBox"),X=J.get("clip",!0),W=J.coordinateSystem,F=W.getArea&&W.getArea();if(!this._data)Z.removeAll();K.diff(Y).add(function(H){if(K.hasValue(H)){var B=K.getItemLayout(H);if(X&&Ou0(F,B))return;var z=w50(B,H,!0);q5(z,{shape:{points:B.ends}},J,H),T50(z,K,H,q),Z.add(z),K.setItemGraphicEl(H,z)}}).update(function(H,B){var z=Y.getItemGraphicEl(B);if(!K.hasValue(H)){Z.remove(z);return}var A=K.getItemLayout(H);if(X&&Ou0(F,A)){Z.remove(z);return}if(!z)z=w50(A,H);else C1(z,{shape:{points:A.ends}},J,H),T7(z);T50(z,K,H,q),Z.add(z),K.setItemGraphicEl(H,z)}).remove(function(H){var B=Y.getItemGraphicEl(H);B&&Z.remove(B)}).execute(),this._data=K},Q.prototype._renderLarge=function(J){this._clear(),wu0(J,this.group);var K=J.get("clip",!0)?tK(J.coordinateSystem,!1,J):null;if(K)this.group.setClipPath(K);else this.group.removeClipPath()},Q.prototype._incrementalRenderNormal=function(J,K){var Y=K.getData(),Z=Y.getLayout("isSimpleBox"),q;while((q=J.next())!=null){var X=Y.getItemLayout(q),W=w50(X,q);T50(W,Y,q,Z),W.incremental=!0,this.group.add(W),this._progressiveEls.push(W)}},Q.prototype._incrementalRenderLarge=function(J,K){wu0(K,this.group,this._progressiveEls,!0)},Q.prototype.remove=function(J){this._clear()},Q.prototype._clear=function(){this.group.removeAll(),this._data=null},Q.type="candlestick",Q}(c1),YL1=function(){function $(){}return $}(),ZL1=function($){c(Q,$);function Q(J){var K=$.call(this,J)||this;return K.type="normalCandlestickBox",K}return Q.prototype.getDefaultShape=function(){return new YL1},Q.prototype.buildPath=function(J,K){var Y=K.points;if(this.__simpleBox)J.moveTo(Y[4][0],Y[4][1]),J.lineTo(Y[6][0],Y[6][1]);else J.moveTo(Y[0][0],Y[0][1]),J.lineTo(Y[1][0],Y[1][1]),J.lineTo(Y[2][0],Y[2][1]),J.lineTo(Y[3][0],Y[3][1]),J.closePath(),J.moveTo(Y[4][0],Y[4][1]),J.lineTo(Y[5][0],Y[5][1]),J.moveTo(Y[6][0],Y[6][1]),J.lineTo(Y[7][0],Y[7][1])},Q}(Y1);XL1=function(){function $(){}return $}(),D50=function($){c(Q,$);function Q(J){var K=$.call(this,J)||this;return K.type="largeCandlestickBox",K}return Q.prototype.getDefaultShape=function(){return new XL1},Q.prototype.buildPath=function(J,K){var Y=K.points;for(var Z=0;Z<Y.length;)if(this.__sign===Y[Z++]){var q=Y[Z++];J.moveTo(q,Y[Z++]),J.lineTo(q,Y[Z++])}else Z+=3},Q}(Y1);Tu0=KL1});var Cu0,Pu0;var ku0=h(()=>{H0();o6();A50();l();Cu0=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],J}return Q.prototype.getShadowDim=function(){return"open"},Q.prototype.brushSelector=function(J,K,Y){var Z=K.getItemLayout(J);return Z&&Y.rect(Z.brushRect)},Q.type="series.candlestick",Q.dependencies=["xAxis","yAxis","grid"],Q.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3000,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},Q}(o1);n5(Cu0,vI,!0);Pu0=Cu0});function P50($){if(!$||!Z0($.series))return;S($.series,function(Q){if(y0(Q)&&Q.type==="k")Q.type="candlestick"})}var ju0=h(()=>{l()});function Eu0($,Q,J,K,Y,Z){var q;if(J>K)q=-1;else if(J<K)q=1;else q=Z?0:Q>0?$.get(Y,Q-1)<=K?1:-1:1;return q}function FL1($,Q){var J=$.getBaseAxis(),K,Y=J.type==="category"?J.getBandWidth():(K=J.getExtent(),Math.abs(K[1]-K[0])/Q.count()),Z=f0(g0($.get("barMaxWidth"),Y),Y),q=f0(g0($.get("barMinWidth"),1),Y),X=$.get("barWidth");return X!=null?f0(X,Y):Math.max(Math.min(Y/2,Z),q)}var WL1,Lu0;var hu0=h(()=>{a0();LU();k1();l();iz();WL1={seriesType:"candlestick",plan:_3(),reset:function($){var Q=$.coordinateSystem,J=$.getData(),K=FL1($,J),Y=0,Z=1,q=["x","y"],X=J.getDimensionIndex(J.mapDimension(q[Y])),W=q0(J.mapDimensionsAll(q[Z]),J.getDimensionIndex,J),F=W[0],H=W[1],B=W[2],z=W[3];if(J.setLayout({candleWidth:K,isSimpleBox:K<=1.3}),X<0||W.length<4)return;return{progress:$.pipelineContext.large?R:A};function A(G,O){var T,D=O.getStore();while((T=G.next())!=null){var P=D.get(X,T),j=D.get(F,T),E=D.get(H,T),L=D.get(B,T),v=D.get(z,T),f=Math.min(j,E),_=Math.max(j,E),M=o(f,P),b=o(_,P),x=o(L,P),g=o(v,P),m=[];t(m,b,0),t(m,M,1),m.push(Q0(g),Q0(b),Q0(x),Q0(M));var u=O.getItemModel(T),p=!!u.get(["itemStyle","borderColorDoji"]);O.setItemLayout(T,{sign:Eu0(D,T,j,E,H,p),initBaseline:j>E?b[Z]:M[Z],ends:m,brushRect:r(L,v,P)})}function o(F0,W0){var h0=[];return h0[Y]=W0,h0[Z]=F0,isNaN(W0)||isNaN(F0)?[NaN,NaN]:Q.dataToPoint(h0)}function t(F0,W0,h0){var d0=W0.slice(),W1=W0.slice();d0[Y]=Iw(d0[Y]+K/2,1,!1),W1[Y]=Iw(W1[Y]-K/2,1,!0),h0?F0.push(d0,W1):F0.push(W1,d0)}function r(F0,W0,h0){var d0=o(F0,h0),W1=o(W0,h0);return d0[Y]-=K/2,W1[Y]-=K/2,{x:d0[0],y:d0[1],width:Z?K:W1[0]-d0[0],height:Z?W1[1]-d0[1]:K}}function Q0(F0){return F0[Y]=Iw(F0[Y],1),F0}}function R(G,O){var T=J9(G.count*4),D=0,P,j=[],E=[],L,v=O.getStore(),f=!!$.get(["itemStyle","borderColorDoji"]);while((L=G.next())!=null){var _=v.get(X,L),M=v.get(F,L),b=v.get(H,L),x=v.get(B,L),g=v.get(z,L);if(isNaN(_)||isNaN(x)||isNaN(g)){T[D++]=NaN,D+=3;continue}T[D++]=Eu0(v,L,M,b,H,f),j[Y]=_,j[Z]=x,P=Q.dataToPoint(j,null,E),T[D++]=P?P[0]:NaN,T[D++]=P?P[1]:NaN,j[Z]=g,P=Q.dataToPoint(j,null,E),T[D++]=P?P[1]:NaN}O.setLayout("largePoints",T)}}};Lu0=WL1});function k50($){$.registerChartView(Tu0),$.registerSeriesModel(Pu0),$.registerPreprocessor(P50),$.registerVisual(Gu0),$.registerLayout(Lu0)}var vu0=h(()=>{Du0();ku0();ju0();O50();hu0()});function Su0($,Q){var J=Q.rippleEffectColor||Q.color;$.eachChild(function(K){K.attr({z:Q.z,zlevel:Q.zlevel,style:{stroke:Q.brushType==="stroke"?J:null,fill:Q.brushType==="fill"?J:null}})})}var UL1,_u0;var fu0=h(()=>{H0();S8();a0();M5();MT();UL1=function($){c(Q,$);function Q(J,K){var Y=$.call(this)||this,Z=new bZ(J,K),q=new b0;return Y.add(Z),Y.add(q),Y.updateData(J,K),Y}return Q.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},Q.prototype.startEffectAnimation=function(J){var{symbolType:K,color:Y,rippleNumber:Z}=J,q=this.childAt(1);for(var X=0;X<Z;X++){var W=y5(K,-1,-1,2,2,Y);W.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:0.5,scaleY:0.5});var F=-X/Z*J.period+J.effectOffset;W.animate("",!0).when(J.period,{scaleX:J.rippleScale/2,scaleY:J.rippleScale/2}).delay(F).start(),W.animateStyle(!0).when(J.period,{opacity:0}).delay(F).start(),q.add(W)}Su0(q,J)},Q.prototype.updateEffectAnimation=function(J){var K=this._effectCfg,Y=this.childAt(1),Z=["symbolType","period","rippleScale","rippleNumber"];for(var q=0;q<Z.length;q++){var X=Z[q];if(K[X]!==J[X]){this.stopEffectAnimation(),this.startEffectAnimation(J);return}}Su0(Y,J)},Q.prototype.highlight=function(){G4(this)},Q.prototype.downplay=function(){O4(this)},Q.prototype.getSymbolType=function(){var J=this.childAt(0);return J&&J.getSymbolType()},Q.prototype.updateData=function(J,K){var Y=this,Z=J.hostModel;this.childAt(0).updateData(J,K);var q=this.childAt(1),X=J.getItemModel(K),W=J.getItemVisual(K,"symbol"),F=XJ(J.getItemVisual(K,"symbolSize")),H=J.getItemVisual(K,"style"),B=H&&H.fill,z=X.getModel("emphasis");q.setScale(F),q.traverse(function(O){O.setStyle("fill",B)});var A=f3(J.getItemVisual(K,"symbolOffset"),F);if(A)q.x=A[0],q.y=A[1];var R=J.getItemVisual(K,"symbolRotate");q.rotation=(R||0)*Math.PI/180||0;var G={};if(G.showEffectOn=Z.get("showEffectOn"),G.rippleScale=X.get(["rippleEffect","scale"]),G.brushType=X.get(["rippleEffect","brushType"]),G.period=X.get(["rippleEffect","period"])*1000,G.effectOffset=K/J.count(),G.z=Z.getShallow("z")||0,G.zlevel=Z.getShallow("zlevel")||0,G.symbolType=W,G.color=B,G.rippleEffectColor=X.get(["rippleEffect","color"]),G.rippleNumber=X.get(["rippleEffect","number"]),G.showEffectOn==="render")this._effectCfg?this.updateEffectAnimation(G):this.startEffectAnimation(G),this._effectCfg=G;else this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(O){if(O==="emphasis"){if(G.showEffectOn!=="render")Y.startEffectAnimation(G)}else if(O==="normal"){if(G.showEffectOn!=="render")Y.stopEffectAnimation()}};this._effectCfg=G,s1(this,z.get("focus"),z.get("blurScope"),z.get("disabled"))},Q.prototype.fadeOut=function(J){J&&J()},Q}(b0),_u0=UL1});var HL1,Iu0;var Mu0=h(()=>{H0();YA();fu0();ZA();t6();HL1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(){this._symbolDraw=new aK(_u0)},Q.prototype.render=function(J,K,Y){var Z=J.getData(),q=this._symbolDraw;q.updateData(Z,{clipShape:this._getClipShape(J)}),this.group.add(q.group)},Q.prototype._getClipShape=function(J){var K=J.coordinateSystem,Y=K&&K.getArea&&K.getArea();return J.get("clip",!0)?Y:null},Q.prototype.updateTransform=function(J,K,Y){var Z=J.getData();this.group.dirty();var q=zJ("").reset(J,K,Y);if(q.progress)q.progress({start:0,end:Z.count(),count:Z.count()},Z);this._symbolDraw.updateLayout()},Q.prototype._updateGroupTransform=function(J){var K=J.coordinateSystem;if(K&&K.getRoamTransform)this.group.transform=Tj0(K.getRoamTransform()),this.group.decomposeTransform()},Q.prototype.remove=function(J,K){this._symbolDraw&&this._symbolDraw.remove(!0)},Q.type="effectScatter",Q}(c1),Iu0=HL1});var NL1,bu0;var gu0=h(()=>{H0();nK();o6();NL1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.hasSymbolVisual=!0,J}return Q.prototype.getInitialData=function(J,K){return f8(null,this,{useEncodeDefaulter:!0})},Q.prototype.brushSelector=function(J,K,Y){return Y.point(K.getItemLayout(J))},Q.type="series.effectScatter",Q.dependencies=["grid","polar"],Q.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},Q}(o1),bu0=NL1});function j50($){$.registerChartView(Iu0),$.registerSeriesModel(bu0),$.registerLayout(zJ("effectScatter"))}var yu0=h(()=>{Mu0();gu0();ZA()});var BL1,fI;var E50=h(()=>{H0();a0();OI();l();S8();w6();h9();BL1=function($){c(Q,$);function Q(J,K,Y){var Z=$.call(this)||this;return Z.add(Z.createLine(J,K,Y)),Z._updateEffectSymbol(J,K),Z}return Q.prototype.createLine=function(J,K,Y){return new RA(J,K,Y)},Q.prototype._updateEffectSymbol=function(J,K){var Y=J.getItemModel(K),Z=Y.getModel("effect"),q=Z.get("symbolSize"),X=Z.get("symbol");if(!Z0(q))q=[q,q];var W=J.getItemVisual(K,"style"),F=Z.get("color")||W&&W.stroke,H=this.childAt(1);if(this._symbolType!==X)this.remove(H),H=y5(X,-0.5,-0.5,1,1,F),H.z2=100,H.culling=!0,this.add(H);if(!H)return;H.setStyle("shadowColor",F),H.setStyle(Z.getItemStyle(["color"])),H.scaleX=q[0],H.scaleY=q[1],H.setColor(F),this._symbolType=X,this._symbolScale=q,this._updateEffectAnimation(J,Z,K)},Q.prototype._updateEffectAnimation=function(J,K,Y){var Z=this.childAt(1);if(!Z)return;var q=J.getItemLayout(Y),X=K.get("period")*1000,W=K.get("loop"),F=K.get("roundTrip"),H=K.get("constantSpeed"),B=J6(K.get("delay"),function(A){return A/J.count()*X/3});if(Z.ignore=!0,this._updateAnimationPoints(Z,q),H>0)X=this._getLineLength(Z)/H*1000;if(X!==this._period||W!==this._loop||F!==this._roundTrip){Z.stopAnimation();var z=void 0;if(I0(B))z=B(Y);else z=B;if(Z.__t>0)z=-X*Z.__t;this._animateSymbol(Z,X,z,W,F)}this._period=X,this._loop=W,this._roundTrip=F},Q.prototype._animateSymbol=function(J,K,Y,Z,q){if(K>0){J.__t=0;var X=this,W=J.animate("",Z).when(q?K*2:K,{__t:q?2:1}).delay(Y).during(function(){X._updateSymbolPosition(J)});if(!Z)W.done(function(){X.remove(J)});W.start()}},Q.prototype._getLineLength=function(J){return S$(J.__p1,J.__cp1)+S$(J.__cp1,J.__p2)},Q.prototype._updateAnimationPoints=function(J,K){J.__p1=K[0],J.__p2=K[1],J.__cp1=K[2]||[(K[0][0]+K[1][0])/2,(K[0][1]+K[1][1])/2]},Q.prototype.updateData=function(J,K,Y){this.childAt(0).updateData(J,K,Y),this._updateEffectSymbol(J,K)},Q.prototype._updateSymbolPosition=function(J){var{__p1:K,__p2:Y,__cp1:Z}=J,q=J.__t<1?J.__t:2-J.__t,X=[J.x,J.y],W=X.slice(),F=O7,H=eO;X[0]=F(K[0],Z[0],Y[0],q),X[1]=F(K[1],Z[1],Y[1],q);var B=J.__t<1?H(K[0],Z[0],Y[0],q):H(Y[0],Z[0],K[0],1-q),z=J.__t<1?H(K[1],Z[1],Y[1],q):H(Y[1],Z[1],K[1],1-q);if(J.rotation=-Math.atan2(z,B)-Math.PI/2,this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")if(J.__lastT!==void 0&&J.__lastT<J.__t){if(J.scaleY=S$(W,X)*1.05,q===1)X[0]=W[0]+(X[0]-W[0])/2,X[1]=W[1]+(X[1]-W[1])/2}else if(J.__lastT===1)J.scaleY=2*S$(K,X);else J.scaleY=this._symbolScale[1];J.__lastT=J.__t,J.ignore=!1,J.x=X[0],J.y=X[1]},Q.prototype.updateLayout=function(J,K){this.childAt(0).updateLayout(J,K);var Y=J.getItemModel(K).getModel("effect");this._updateEffectAnimation(J,Y,K)},Q}(b0),fI=BL1});var zL1,II;var L50=h(()=>{H0();a0();M5();zL1=function($){c(Q,$);function Q(J,K,Y){var Z=$.call(this)||this;return Z._createPolyline(J,K,Y),Z}return Q.prototype._createPolyline=function(J,K,Y){var Z=J.getItemLayout(K),q=new G6({shape:{points:Z}});this.add(q),this._updateCommonStl(J,K,Y)},Q.prototype.updateData=function(J,K,Y){var Z=J.hostModel,q=this.childAt(0),X={shape:{points:J.getItemLayout(K)}};C1(q,X,Z,K),this._updateCommonStl(J,K,Y)},Q.prototype._updateCommonStl=function(J,K,Y){var Z=this.childAt(0),q=J.getItemModel(K),X=Y&&Y.emphasisLineStyle,W=Y&&Y.focus,F=Y&&Y.blurScope,H=Y&&Y.emphasisDisabled;if(!Y||J.hasItemOption){var B=q.getModel("emphasis");X=B.getModel("lineStyle").getLineStyle(),H=B.get("disabled"),W=B.get("focus"),F=B.get("blurScope")}Z.useStyle(J.getItemVisual(K,"style")),Z.style.fill=null,Z.style.strokeNoScale=!0;var z=Z.ensureState("emphasis");z.style=X,s1(this,W,F,H)},Q.prototype.updateLayout=function(J,K){var Y=this.childAt(0);Y.setShape("points",J.getItemLayout(K))},Q}(b0),II=zL1});var AL1,xu0;var cu0=h(()=>{H0();L50();E50();w6();AL1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J._lastFrame=0,J._lastFramePercent=0,J}return Q.prototype.createLine=function(J,K,Y){return new II(J,K,Y)},Q.prototype._updateAnimationPoints=function(J,K){this._points=K;var Y=[0],Z=0;for(var q=1;q<K.length;q++){var X=K[q-1],W=K[q];Z+=S$(X,W),Y.push(Z)}if(Z===0){this._length=0;return}for(var q=0;q<Y.length;q++)Y[q]/=Z;this._offsets=Y,this._length=Z},Q.prototype._getLineLength=function(){return this._length},Q.prototype._updateSymbolPosition=function(J){var K=J.__t<1?J.__t:2-J.__t,Y=this._points,Z=this._offsets,q=Y.length;if(!Z)return;var X=this._lastFrame,W;if(K<this._lastFramePercent){var F=Math.min(X+1,q-1);for(W=F;W>=0;W--)if(Z[W]<=K)break;W=Math.min(W,q-2)}else{for(W=X;W<q;W++)if(Z[W]>K)break;W=Math.min(W-1,q-2)}var H=(K-Z[W])/(Z[W+1]-Z[W]),B=Y[W],z=Y[W+1];J.x=B[0]*(1-H)+H*z[0],J.y=B[1]*(1-H)+H*z[1];var A=J.__t<1?z[0]-B[0]:B[0]-z[0],R=J.__t<1?z[1]-B[1]:B[1]-z[1];J.rotation=-Math.atan2(R,A)-Math.PI/2,this._lastFrame=W,this._lastFramePercent=K,J.ignore=!1},Q}(fI),xu0=AL1});var VL1,RL1,GL1,uu0;var mu0=h(()=>{H0();a0();Jo();o5();y1();VL1=function(){function $(){this.polyline=!1,this.curveness=0,this.segs=[]}return $}(),RL1=function($){c(Q,$);function Q(J){var K=$.call(this,J)||this;return K._off=0,K.hoverDataIdx=-1,K}return Q.prototype.reset=function(){this.notClear=!1,this._off=0},Q.prototype.getDefaultStyle=function(){return{stroke:e.color.neutral99,fill:null}},Q.prototype.getDefaultShape=function(){return new VL1},Q.prototype.buildPath=function(J,K){var{segs:Y,curveness:Z}=K,q;if(K.polyline)for(q=this._off;q<Y.length;){var X=Y[q++];if(X>0){J.moveTo(Y[q++],Y[q++]);for(var W=1;W<X;W++)J.lineTo(Y[q++],Y[q++])}}else for(q=this._off;q<Y.length;){var F=Y[q++],H=Y[q++],B=Y[q++],z=Y[q++];if(J.moveTo(F,H),Z>0){var A=(F+B)/2-(H-z)*Z,R=(H+z)/2-(B-F)*Z;J.quadraticCurveTo(A,R,B,z)}else J.lineTo(B,z)}if(this.incremental)this._off=q,this.notClear=!0},Q.prototype.findDataIndex=function(J,K){var Y=this.shape,Z=Y.segs,q=Y.curveness,X=this.style.lineWidth;if(Y.polyline){var W=0;for(var F=0;F<Z.length;){var H=Z[F++];if(H>0){var B=Z[F++],z=Z[F++];for(var A=1;A<H;A++){var R=Z[F++],G=Z[F++];if(MK(B,z,R,G,X,J,K))return W}}W++}}else{var W=0;for(var F=0;F<Z.length;){var B=Z[F++],z=Z[F++],R=Z[F++],G=Z[F++];if(q>0){var O=(B+R)/2-(z-G)*q,T=(z+G)/2-(R-B)*q;if(ov(B,z,O,T,R,G,X,J,K))return W}else if(MK(B,z,R,G,X,J,K))return W;W++}}return-1},Q.prototype.contain=function(J,K){var Y=this.transformCoordToLocal(J,K),Z=this.getBoundingRect();if(J=Y[0],K=Y[1],Z.contain(J,K)){var q=this.hoverDataIdx=this.findDataIndex(J,K);return q>=0}return this.hoverDataIdx=-1,!1},Q.prototype.getBoundingRect=function(){var J=this._rect;if(!J){var K=this.shape,Y=K.segs,Z=1/0,q=1/0,X=-1/0,W=-1/0;for(var F=0;F<Y.length;){var H=Y[F++],B=Y[F++];Z=Math.min(H,Z),X=Math.max(H,X),q=Math.min(B,q),W=Math.max(B,W)}J=this._rect=new n0(Z,q,X,W)}return J},Q}(Y1),GL1=function(){function $(){this.group=new b0}return $.prototype.updateData=function(Q){this._clear();var J=this._create();J.setShape({segs:Q.getLayout("linesPoints")}),this._setCommon(J,Q)},$.prototype.incrementalPrepareUpdate=function(Q){this.group.removeAll(),this._clear()},$.prototype.incrementalUpdate=function(Q,J){var K=this._newAdded[0],Y=J.getLayout("linesPoints"),Z=K&&K.shape.segs;if(Z&&Z.length<20000){var q=Z.length,X=new Float32Array(q+Y.length);X.set(Z),X.set(Y,q),K.setShape({segs:X})}else{this._newAdded=[];var W=this._create();W.incremental=!0,W.setShape({segs:Y}),this._setCommon(W,J),W.__startIndex=Q.start}},$.prototype.remove=function(){this._clear()},$.prototype.eachRendered=function(Q){this._newAdded[0]&&Q(this._newAdded[0])},$.prototype._create=function(){var Q=new RL1({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(Q),this.group.add(Q),Q},$.prototype._setCommon=function(Q,J,K){var Y=J.hostModel;Q.setShape({polyline:Y.get("polyline"),curveness:Y.get(["lineStyle","curveness"])}),Q.useStyle(Y.getModel("lineStyle").getLineStyle()),Q.style.strokeNoScale=!0;var Z=J.getVisual("style");if(Z&&Z.stroke)Q.setStyle("stroke",Z.stroke);Q.setStyle("fill",null);var q=r0(Q);q.seriesIndex=Y.seriesIndex,Q.on("mousemove",function(X){q.dataIndex=null;var W=Q.hoverDataIdx;if(W>0)q.dataIndex=W+Q.__startIndex})},$.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},$}(),uu0=GL1});var OL1,MI;var h50=h(()=>{LU();N5();OL1={seriesType:"lines",plan:_3(),reset:function($){var Q=$.coordinateSystem;if(!Q){S1("The lines series must have a coordinate system.");return}var J=$.get("polyline"),K=$.pipelineContext.large;return{progress:function(Y,Z){var q=[];if(K){var X=void 0,W=Y.end-Y.start;if(J){var F=0;for(var H=Y.start;H<Y.end;H++)F+=$.getLineCoordsCount(H);X=new Float32Array(W+F*2)}else X=new Float32Array(W*4);var B=0,z=[];for(var H=Y.start;H<Y.end;H++){var A=$.getLineCoords(H,q);if(J)X[B++]=A;for(var R=0;R<A;R++)z=Q.dataToPoint(q[R],!1,z),X[B++]=z[0],X[B++]=z[1]}Z.setLayout("linesPoints",X)}else for(var H=Y.start;H<Y.end;H++){var G=Z.getItemModel(H),A=$.getLineCoords(H,q),O=[];if(J)for(var T=0;T<A;T++)O.push(Q.dataToPoint(q[T]));else{O[0]=Q.dataToPoint(q[0]),O[1]=Q.dataToPoint(q[1]);var D=G.get(["lineStyle","curveness"]);if(+D)O[2]=[(O[0][0]+O[1][0])/2-(O[0][1]-O[1][1])*D,(O[0][1]+O[1][1])/2-(O[1][0]-O[0][0])*D]}Z.setItemLayout(H,O)}}}}},MI=OL1});var wL1,pu0;var du0=h(()=>{H0();wI();E50();OI();L50();cu0();mu0();h50();cU();t6();wL1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){var Z=J.getData(),q=this._updateLineDraw(Z,J),X=J.get("zlevel"),W=J.get(["effect","trailLength"]),F=Y.getZr(),H=F.painter.getType()==="svg";if(!H)F.painter.getLayer(X).clear(!0);if(this._lastZlevel!=null&&!H)F.configLayer(this._lastZlevel,{motionBlur:!1});if(this._showEffect(J)&&W>0)if(!H)F.configLayer(X,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(W/10+0.9,1),0)});else console.warn("SVG render mode doesn't support lines with trail effect");q.updateData(Z);var B=J.get("clip",!0)&&tK(J.coordinateSystem,!1,J);if(B)this.group.setClipPath(B);else this.group.removeClipPath();this._lastZlevel=X,this._finished=!0},Q.prototype.incrementalPrepareRender=function(J,K,Y){var Z=J.getData(),q=this._updateLineDraw(Z,J);q.incrementalPrepareUpdate(Z),this._clearLayer(Y),this._finished=!1},Q.prototype.incrementalRender=function(J,K,Y){this._lineDraw.incrementalUpdate(J,K.getData()),this._finished=J.end===K.getData().count()},Q.prototype.eachRendered=function(J){this._lineDraw&&this._lineDraw.eachRendered(J)},Q.prototype.updateTransform=function(J,K,Y){var Z=J.getData(),q=J.pipelineContext;if(!this._finished||q.large||q.progressiveRender)return{update:!0};else{var X=MI.reset(J,K,Y);if(X.progress)X.progress({start:0,end:Z.count(),count:Z.count()},Z);this._lineDraw.updateLayout(),this._clearLayer(Y)}},Q.prototype._updateLineDraw=function(J,K){var Y=this._lineDraw,Z=this._showEffect(K),q=!!K.get("polyline"),X=K.pipelineContext,W=X.large;if(Z&&W)console.warn("Large lines not support effect");if(!Y||Z!==this._hasEffet||q!==this._isPolyline||W!==this._isLargeDraw){if(Y)Y.remove();Y=this._lineDraw=W?new uu0:new GA(q?Z?xu0:II:Z?fI:RA),this._hasEffet=Z,this._isPolyline=q,this._isLargeDraw=W}return this.group.add(Y.group),Y},Q.prototype._showEffect=function(J){return!!J.get(["effect","show"])},Q.prototype._clearLayer=function(J){var K=J.getZr(),Y=K.painter.getType()==="svg";if(!Y&&this._lastZlevel!=null)K.painter.getLayer(this._lastZlevel).clear(!0)},Q.prototype.remove=function(J,K){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(K)},Q.prototype.dispose=function(J,K){this.remove(J,K)},Q.type="lines",Q}(c1),pu0=wL1});function nu0($){var Q=$.data;if(Q&&Q[0]&&Q[0][0]&&Q[0][0].coord)console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }"),$.data=q0(Q,function(J){var K=[J[0].coord,J[1].coord],Y={coords:K};if(J[0].name)Y.fromName=J[0].name;if(J[1].name)Y.toName=J[1].name;return rB([Y,J[0],J[1]])})}var TL1,DL1,CL1,lu0;var ru0=h(()=>{H0();o6();e$();l();c9();j4();TL1=typeof Uint32Array>"u"?Array:Uint32Array,DL1=typeof Float64Array>"u"?Array:Float64Array;CL1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.visualStyleAccessPath="lineStyle",J.visualDrawType="stroke",J}return Q.prototype.init=function(J){J.data=J.data||[],nu0(J);var K=this._processFlatCoordsArray(J.data);if(this._flatCoords=K.flatCoords,this._flatCoordsOffset=K.flatCoordsOffset,K.flatCoords)J.data=new Float32Array(K.count);$.prototype.init.apply(this,arguments)},Q.prototype.mergeOption=function(J){if(nu0(J),J.data){var K=this._processFlatCoordsArray(J.data);if(this._flatCoords=K.flatCoords,this._flatCoordsOffset=K.flatCoordsOffset,K.flatCoords)J.data=new Float32Array(K.count)}$.prototype.mergeOption.apply(this,arguments)},Q.prototype.appendData=function(J){var K=this._processFlatCoordsArray(J.data);if(K.flatCoords){if(!this._flatCoords)this._flatCoords=K.flatCoords,this._flatCoordsOffset=K.flatCoordsOffset;else this._flatCoords=FZ(this._flatCoords,K.flatCoords),this._flatCoordsOffset=FZ(this._flatCoordsOffset,K.flatCoordsOffset);J.data=new Float32Array(K.count)}this.getRawData().appendData(J.data)},Q.prototype._getCoordsFromItemModel=function(J){var K=this.getData().getItemModel(J),Y=K.option instanceof Array?K.option:K.getShallow("coords");if(!(Y instanceof Array&&Y.length>0&&Y[0]instanceof Array))throw Error("Invalid coords "+JSON.stringify(Y)+". Lines must have 2d coords array in data item.");return Y},Q.prototype.getLineCoordsCount=function(J){if(this._flatCoordsOffset)return this._flatCoordsOffset[J*2+1];else return this._getCoordsFromItemModel(J).length},Q.prototype.getLineCoords=function(J,K){if(this._flatCoordsOffset){var Y=this._flatCoordsOffset[J*2],Z=this._flatCoordsOffset[J*2+1];for(var q=0;q<Z;q++)K[q]=K[q]||[],K[q][0]=this._flatCoords[Y+q*2],K[q][1]=this._flatCoords[Y+q*2+1];return Z}else{var X=this._getCoordsFromItemModel(J);for(var q=0;q<X.length;q++)K[q]=K[q]||[],K[q][0]=X[q][0],K[q][1]=X[q][1];return X.length}},Q.prototype._processFlatCoordsArray=function(J){var K=0;if(this._flatCoords)K=this._flatCoords.length;if(V1(J[0])){var Y=J.length,Z=new TL1(Y),q=new DL1(Y),X=0,W=0,F=0;for(var H=0;H<Y;){F++;var B=J[H++];Z[W++]=X+K,Z[W++]=B;for(var z=0;z<B;z++){var A=J[H++],R=J[H++];if(q[X++]=A,q[X++]=R,H>Y)throw Error("Invalid data format.")}}return{flatCoordsOffset:new Uint32Array(Z.buffer,0,W),flatCoords:q,count:F}}return{flatCoordsOffset:null,flatCoords:null,count:J.length}},Q.prototype.getInitialData=function(J,K){var Y=YJ.get(J.coordinateSystem);if(!Y)throw Error("Unknown coordinate system "+J.coordinateSystem);var Z=new e6(["value"],this);return Z.hasItemOption=!1,Z.initData(J.data,[],function(q,X,W,F){if(q instanceof Array)return NaN;else{Z.hasItemOption=!0;var H=q.value;if(H!=null)return H instanceof Array?H[F]:H}}),Z},Q.prototype.formatTooltip=function(J,K,Y){var Z=this.getData(),q=Z.getItemModel(J),X=q.get("name");if(X)return X;var W=q.get("fromName"),F=q.get("toName"),H=[];return W!=null&&H.push(W),F!=null&&H.push(F),$6("nameValue",{name:H.join(" > ")})},Q.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},Q.prototype.getProgressive=function(){var J=this.option.progressive;if(J==null)return this.option.large?1e4:this.get("progressive");return J},Q.prototype.getProgressiveThreshold=function(){var J=this.option.progressiveThreshold;if(J==null)return this.option.large?20000:this.get("progressiveThreshold");return J},Q.prototype.getZLevelKey=function(){var J=this.getModel("effect"),K=J.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:J.get("show")&&K>0?K+"":""},Q.type="series.lines",Q.dependencies=["grid","polar","geo","calendar"],Q.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:0.2},large:!1,largeThreshold:2000,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:0.5}},Q}(o1),lu0=CL1});function bI($){if(!($ instanceof Array))$=[$,$];return $}var PL1,iu0;var su0=h(()=>{PL1={seriesType:"lines",reset:function($){var Q=bI($.get("symbol")),J=bI($.get("symbolSize")),K=$.getData();K.setVisual("fromSymbol",Q&&Q[0]),K.setVisual("toSymbol",Q&&Q[1]),K.setVisual("fromSymbolSize",J&&J[0]),K.setVisual("toSymbolSize",J&&J[1]);function Y(Z,q){var X=Z.getItemModel(q),W=bI(X.getShallow("symbol",!0)),F=bI(X.getShallow("symbolSize",!0));W[0]&&Z.setItemVisual(q,"fromSymbol",W[0]),W[1]&&Z.setItemVisual(q,"toSymbol",W[1]),F[0]&&Z.setItemVisual(q,"fromSymbolSize",F[0]),F[1]&&Z.setItemVisual(q,"toSymbolSize",F[1])}return{dataEach:K.hasItemOption?Y:null}}},iu0=PL1});function v50($){$.registerChartView(pu0),$.registerSeriesModel(lu0),$.registerLayout(MI),$.registerVisual(iu0)}var ou0=h(()=>{du0();ru0();h50();su0()});var kL1=256,jL1,au0;var tu0=h(()=>{h$();y1();jL1=function(){function $(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var Q=U8.createCanvas();this.canvas=Q}return $.prototype.update=function(Q,J,K,Y,Z,q){var X=this._getBrush(),W=this._getGradient(Z,"inRange"),F=this._getGradient(Z,"outOfRange"),H=this.pointSize+this.blurSize,B=this.canvas,z=B.getContext("2d"),A=Q.length;B.width=J,B.height=K;for(var R=0;R<A;++R){var G=Q[R],O=G[0],T=G[1],D=G[2],P=Y(D);z.globalAlpha=P,z.drawImage(X,O-H,T-H)}if(!B.width||!B.height)return B;var j=z.getImageData(0,0,B.width,B.height),E=j.data,L=0,v=E.length,f=this.minOpacity,_=this.maxOpacity,M=_-f;while(L<v){var P=E[L+3]/256,b=Math.floor(P*(kL1-1))*4;if(P>0){var x=q(P)?W:F;P>0&&(P=P*M+f),E[L++]=x[b],E[L++]=x[b+1],E[L++]=x[b+2],E[L++]=x[b+3]*P*256}else L+=4}return z.putImageData(j,0,0),B},$.prototype._getBrush=function(){var Q=this._brushCanvas||(this._brushCanvas=U8.createCanvas()),J=this.pointSize+this.blurSize,K=J*2;Q.width=K,Q.height=K;var Y=Q.getContext("2d");return Y.clearRect(0,0,K,K),Y.shadowOffsetX=K,Y.shadowBlur=this.blurSize,Y.shadowColor=e.color.neutral99,Y.beginPath(),Y.arc(-J,J,this.pointSize,0,Math.PI*2,!0),Y.closePath(),Y.fill(),Q},$.prototype._getGradient=function(Q,J){var K=this._gradientPixels,Y=K[J]||(K[J]=new Uint8ClampedArray(1024)),Z=[0,0,0,0],q=0;for(var X=0;X<256;X++)Q[J](X/255,!0,Z),Y[q++]=Z[0],Y[q++]=Z[1],Y[q++]=Z[2],Y[q++]=Z[3];return Y},$}(),au0=jL1});function EL1($,Q,J){var K=$[1]-$[0];Q=q0(Q,function(q){return{interval:[(q.interval[0]-$[0])/K,(q.interval[1]-$[0])/K]}});var Y=Q.length,Z=0;return function(q){var X;for(X=Z;X<Y;X++){var W=Q[X].interval;if(W[0]<=q&&q<=W[1]){Z=X;break}}if(X===Y)for(X=Z-1;X>=0;X--){var W=Q[X].interval;if(W[0]<=q&&q<=W[1]){Z=X;break}}return X>=0&&X<Y&&J[X]}}function LL1($,Q){var J=$[1]-$[0];return Q=[(Q[0]-$[0])/J,(Q[1]-$[0])/J],function(K){return K>=Q[0]&&K<=Q[1]}}function eu0($){var Q=$.dimensions;return Q[0]==="lng"&&Q[1]==="lat"}var hL1,$m0;var Qm0=h(()=>{H0();a0();M5();tu0();l();t6();g5();hL1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){var Z;if(K.eachComponent("visualMap",function(X){X.eachTargetSeries(function(W){if(W===J)Z=X})}),!Z)throw Error("Heatmap must use with visualMap");this._progressiveEls=null,this.group.removeAll();var q=J.coordinateSystem;if(q.type==="cartesian2d"||q.type==="calendar"||q.type==="matrix")this._renderOnGridLike(J,Y,0,J.getData().count());else if(eu0(q))this._renderOnGeo(q,J,Z,Y)},Q.prototype.incrementalPrepareRender=function(J,K,Y){this.group.removeAll()},Q.prototype.incrementalRender=function(J,K,Y,Z){var q=K.coordinateSystem;if(q)if(eu0(q))this.render(K,Y,Z);else this._progressiveEls=[],this._renderOnGridLike(K,Z,J.start,J.end,!0)},Q.prototype.eachRendered=function(J){t4(this._progressiveEls||this.group,J)},Q.prototype._renderOnGridLike=function(J,K,Y,Z,q){var X=J.coordinateSystem,W=b3(X,"cartesian2d"),F=b3(X,"matrix"),H,B,z,A;if(W){var R=X.getAxis("x"),G=X.getAxis("y");if(!(R.type==="category"&&G.type==="category"))throw Error("Heatmap on cartesian must have two category axes");if(!(R.onBand&&G.onBand))throw Error("Heatmap on cartesian must have two axes with boundaryGap true");H=R.getBandWidth()+0.5,B=G.getBandWidth()+0.5,z=R.scale.getExtent(),A=G.scale.getExtent()}var O=this.group,T=J.getData(),D=J.getModel(["emphasis","itemStyle"]).getItemStyle(),P=J.getModel(["blur","itemStyle"]).getItemStyle(),j=J.getModel(["select","itemStyle"]).getItemStyle(),E=J.get(["itemStyle","borderRadius"]),L=b5(J),v=J.getModel("emphasis"),f=v.get("focus"),_=v.get("blurScope"),M=v.get("disabled"),b=W||F?[T.mapDimension("x"),T.mapDimension("y"),T.mapDimension("value")]:[T.mapDimension("time"),T.mapDimension("value")];for(var x=Y;x<Z;x++){var g=void 0,m=T.getItemVisual(x,"style");if(W){var u=T.get(b[0],x),p=T.get(b[1],x);if(isNaN(T.get(b[2],x))||isNaN(u)||isNaN(p)||u<z[0]||u>z[1]||p<A[0]||p>A[1])continue;var o=X.dataToPoint([u,p]);g=new X1({shape:{x:o[0]-H/2,y:o[1]-B/2,width:H,height:B},style:m})}else if(F){var t=X.dataToLayout([T.get(b[0],x),T.get(b[1],x)]).rect;if(h6(t.x))continue;g=new X1({z2:1,shape:t,style:m})}else{if(isNaN(T.get(b[1],x)))continue;var r=X.dataToLayout([T.get(b[0],x)]),t=r.contentRect||r.rect;if(h6(t.x)||h6(t.y))continue;g=new X1({z2:1,shape:t,style:m})}if(T.hasItemOption){var Q0=T.getItemModel(x),F0=Q0.getModel("emphasis");D=F0.getModel("itemStyle").getItemStyle(),P=Q0.getModel(["blur","itemStyle"]).getItemStyle(),j=Q0.getModel(["select","itemStyle"]).getItemStyle(),E=Q0.get(["itemStyle","borderRadius"]),f=F0.get("focus"),_=F0.get("blurScope"),M=F0.get("disabled"),L=b5(Q0)}g.shape.r=E;var W0=J.getRawValue(x),h0="-";if(W0&&W0[2]!=null)h0=W0[2]+"";if(p5(g,L,{labelFetcher:J,labelDataIndex:x,defaultOpacity:m.opacity,defaultText:h0}),g.ensureState("emphasis").style=D,g.ensureState("blur").style=P,g.ensureState("select").style=j,s1(g,f,_,M),g.incremental=q,q)g.states.emphasis.hoverLayer=!0;if(O.add(g),T.setItemGraphicEl(x,g),this._progressiveEls)this._progressiveEls.push(g)}},Q.prototype._renderOnGeo=function(J,K,Y,Z){var q=Y.targetVisuals.inRange,X=Y.targetVisuals.outOfRange,W=K.getData(),F=this._hmLayer||this._hmLayer||new au0;F.blurSize=K.get("blurSize"),F.pointSize=K.get("pointSize"),F.minOpacity=K.get("minOpacity"),F.maxOpacity=K.get("maxOpacity");var H=J.getViewRect().clone(),B=J.getRoamTransform();H.applyTransform(B);var z=Math.max(H.x,0),A=Math.max(H.y,0),R=Math.min(H.width+H.x,Z.getWidth()),G=Math.min(H.height+H.y,Z.getHeight()),O=R-z,T=G-A,D=[W.mapDimension("lng"),W.mapDimension("lat"),W.mapDimension("value")],P=W.mapArray(D,function(v,f,_){var M=J.dataToPoint([v,f]);return M[0]-=z,M[1]-=A,M.push(_),M}),j=Y.getExtent(),E=Y.type==="visualMap.continuous"?LL1(j,Y.option.range):EL1(j,Y.getPieceList(),Y.option.selected);F.update(P,O,T,q.color.getNormalizer(),{inRange:q.color.getColorMapper(),outOfRange:X.color.getColorMapper()},E);var L=new q6({style:{width:O,height:T,x:z,y:A,image:F.canvas},silent:!0});this.group.add(L)},Q.type="heatmap",Q}(c1),$m0=hL1});var vL1,Jm0;var Km0=h(()=>{H0();o6();nK();c9();y1();vL1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.getInitialData=function(J,K){return f8(null,this,{generateCoord:"value"})},Q.prototype.preventIncremental=function(){var J=YJ.get(this.get("coordinateSystem"));if(J&&J.dimensions)return J.dimensions[0]==="lng"&&J.dimensions[1]==="lat"},Q.type="series.heatmap",Q.dependencies=["grid","geo","calendar","matrix"],Q.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:e.color.primary}}},Q}(o1),Jm0=vL1});function S50($){$.registerChartView($m0),$.registerSeriesModel(Jm0)}var Ym0=h(()=>{Qm0();Km0()});function qm0($,Q,J,K){var Y=$.getItemLayout(Q),Z=J.get("symbolRepeat"),q=J.get("symbolClip"),X=J.get("symbolPosition")||"start",W=J.get("symbolRotate"),F=(W||0)*Math.PI/180||0,H=J.get("symbolPatternSize")||2,B=J.isAnimationEnabled(),z={dataIndex:Q,layout:Y,itemModel:J,symbolType:$.getItemVisual(Q,"symbol")||"circle",style:$.getItemVisual(Q,"style"),symbolClip:q,symbolRepeat:Z,symbolRepeatDirection:J.get("symbolRepeatDirection"),symbolPatternSize:H,rotation:F,animationModel:B?J:null,hoverScale:B&&J.get(["emphasis","scale"]),z2:J.getShallow("z",!0)||0};fL1(J,Z,Y,K,z),IL1($,Q,Y,Z,q,z.boundingLength,z.pxSign,H,K,z),ML1(J,z.symbolScale,F,K,z);var A=z.symbolSize,R=f3(J.get("symbolOffset"),A);return bL1(J,A,Y,Z,q,R,X,z.valueLineWidth,z.boundingLength,z.repeatCutLength,K,z),z}function fL1($,Q,J,K,Y){var Z=K.valueDim,q=$.get("symbolBoundingData"),X=K.coordSys.getOtherAxis(K.coordSys.getBaseAxis()),W=X.toGlobalCoord(X.dataToCoord(0)),F=1-+(J[Z.wh]<=0),H;if(Z0(q)){var B=[f50(X,q[0])-W,f50(X,q[1])-W];B[1]<B[0]&&B.reverse(),H=B[F]}else if(q!=null)H=f50(X,q)-W;else if(Q)H=K.coordSysExtent[Z.index][F]-W;else H=J[Z.wh];if(Y.boundingLength=H,Q)Y.repeatCutLength=J[Z.wh];var z=Z.xy==="x",A=X.inverse;Y.pxSign=z&&!A||!z&&A?H>=0?1:-1:H>0?1:-1}function f50($,Q){return $.toGlobalCoord($.dataToCoord($.scale.parse(Q)))}function IL1($,Q,J,K,Y,Z,q,X,W,F){var{valueDim:H,categoryDim:B}=W,z=Math.abs(J[B.wh]),A=$.getItemVisual(Q,"symbolSize"),R;if(Z0(A))R=A.slice();else if(A==null)R=["100%","100%"];else R=[A,A];R[B.index]=f0(R[B.index],z),R[H.index]=f0(R[H.index],K?z:Math.abs(Z)),F.symbolSize=R;var G=F.symbolScale=[R[0]/X,R[1]/X];G[H.index]*=(W.isHorizontal?-1:1)*q}function ML1($,Q,J,K,Y){var Z=$.get(SL1)||0;if(Z)_50.attr({scaleX:Q[0],scaleY:Q[1],rotation:J}),_50.updateTransform(),Z/=_50.getLineScale(),Z*=Q[K.valueDim.index];Y.valueLineWidth=Z||0}function bL1($,Q,J,K,Y,Z,q,X,W,F,H,B){var{categoryDim:z,valueDim:A}=H,R=B.pxSign,G=Math.max(Q[A.index]+X,0),O=G;if(K){var T=Math.abs(W),D=J6($.get("symbolMargin"),"15%")+"",P=!1;if(D.lastIndexOf("!")===D.length-1)P=!0,D=D.slice(0,D.length-1);var j=f0(D,Q[A.index]),E=Math.max(G+j*2,0),L=P?0:j*2,v=Uz(K),f=v?K:Hm0((T+L)/E),_=T-f*G;if(j=_/2/(P?f:Math.max(f-1,1)),E=G+j*2,L=P?0:j*2,!v&&K!=="fixed")f=F?Hm0((Math.abs(F)+L)/E):0;O=f*E-L,B.repeatTimes=f,B.symbolMargin=j}var M=R*(O/2),b=B.pathPosition=[];if(b[z.index]=J[z.wh]/2,b[A.index]=q==="start"?M:q==="end"?W-M:W/2,Z)b[0]+=Z[0],b[1]+=Z[1];var x=B.bundlePosition=[];x[z.index]=J[z.xy],x[A.index]=J[A.xy];var g=B.barRectShape=Y0({},J);g[A.wh]=R*Math.max(Math.abs(J[A.wh]),Math.abs(b[A.index]+M)),g[z.wh]=J[z.wh];var m=B.clipShape={};m[z.xy]=-J[z.xy],m[z.wh]=H.ecSize[z.wh],m[A.xy]=0,m[A.wh]=J[A.wh]}function Nm0($){var Q=$.symbolPatternSize,J=y5($.symbolType,-Q/2,-Q/2,Q,Q);return J.attr({culling:!0}),J.type!=="image"&&J.setStyle({strokeNoScale:!0}),J}function Bm0($,Q,J,K){var Y=$.__pictorialBundle,Z=J.symbolSize,q=J.valueLineWidth,X=J.pathPosition,W=Q.valueDim,F=J.repeatTimes||0,H=0,B=Z[Q.valueDim.index]+q+J.symbolMargin*2;I50($,function(G){if(G.__pictorialAnimationIndex=H,G.__pictorialRepeatTimes=F,H<F)PA(G,null,R(H),J,K);else PA(G,null,{scaleX:0,scaleY:0},J,K,function(){Y.remove(G)});H++});for(;H<F;H++){var z=Nm0(J);z.__pictorialAnimationIndex=H,z.__pictorialRepeatTimes=F,Y.add(z);var A=R(H);PA(z,{x:A.x,y:A.y,scaleX:0,scaleY:0},{scaleX:A.scaleX,scaleY:A.scaleY,rotation:A.rotation},J,K)}function R(G){var O=X.slice(),T=J.pxSign,D=G;if(J.symbolRepeatDirection==="start"?T>0:T<0)D=F-1-G;return O[W.index]=B*(D-F/2+0.5)+X[W.index],{x:O[0],y:O[1],scaleX:J.symbolScale[0],scaleY:J.symbolScale[1],rotation:J.rotation}}}function zm0($,Q,J,K){var{__pictorialBundle:Y,__pictorialMainPath:Z}=$;if(!Z)Z=$.__pictorialMainPath=Nm0(J),Y.add(Z),PA(Z,{x:J.pathPosition[0],y:J.pathPosition[1],scaleX:0,scaleY:0,rotation:J.rotation},{scaleX:J.symbolScale[0],scaleY:J.symbolScale[1]},J,K);else PA(Z,null,{x:J.pathPosition[0],y:J.pathPosition[1],scaleX:J.symbolScale[0],scaleY:J.symbolScale[1],rotation:J.rotation},J,K)}function Am0($,Q,J){var K=Y0({},Q.barRectShape),Y=$.__pictorialBarRect;if(!Y)Y=$.__pictorialBarRect=new X1({z2:2,shape:K,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),Y.disableMorphing=!0,$.add(Y);else PA(Y,null,{shape:K},Q,J)}function Vm0($,Q,J,K){if(J.symbolClip){var Y=$.__pictorialClipPath,Z=Y0({},J.clipShape),q=Q.valueDim,X=J.animationModel,W=J.dataIndex;if(Y)C1(Y,{shape:Z},X,W);else{Z[q.wh]=0,Y=new X1({shape:Z}),$.__pictorialBundle.setClipPath(Y),$.__pictorialClipPath=Y;var F={};F[q.wh]=J.clipShape[q.wh],G1[K?"updateProps":"initProps"](Y,{shape:F},X,W)}}}function Xm0($,Q){var J=$.getItemModel(Q);return J.getAnimationDelayParams=gL1,J.isAnimationEnabled=yL1,J}function gL1($){return{index:$.__pictorialAnimationIndex,count:$.__pictorialRepeatTimes}}function yL1(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function Wm0($,Q,J,K){var Y=new b0,Z=new b0;if(Y.add(Z),Y.__pictorialBundle=Z,Z.x=J.bundlePosition[0],Z.y=J.bundlePosition[1],J.symbolRepeat)Bm0(Y,Q,J);else zm0(Y,Q,J);return Am0(Y,J,K),Vm0(Y,Q,J,K),Y.__pictorialShapeStr=Rm0($,J),Y.__pictorialSymbolMeta=J,Y}function xL1($,Q,J){var{animationModel:K,dataIndex:Y}=J,Z=$.__pictorialBundle;if(C1(Z,{x:J.bundlePosition[0],y:J.bundlePosition[1]},K,Y),J.symbolRepeat)Bm0($,Q,J,!0);else zm0($,Q,J,!0);Am0($,J,!0),Vm0($,Q,J,!0)}function Fm0($,Q,J,K){var Y=K.__pictorialBarRect;Y&&Y.removeTextContent();var Z=[];I50(K,function(q){Z.push(q)}),K.__pictorialMainPath&&Z.push(K.__pictorialMainPath),K.__pictorialClipPath&&(J=null),S(Z,function(q){p$(q,{scaleX:0,scaleY:0},J,Q,function(){K.parent&&K.parent.remove(K)})}),$.setItemGraphicEl(Q,null)}function Rm0($,Q){return[$.getItemVisual(Q.dataIndex,"symbol")||"none",!!Q.symbolRepeat,!!Q.symbolClip].join(":")}function I50($,Q,J){S($.__pictorialBundle.children(),function(K){K!==$.__pictorialBarRect&&Q.call(J,K)})}function PA($,Q,J,K,Y,Z){if(Q&&$.attr(Q),K.symbolClip&&!Y)J&&$.attr(J);else J&&G1[Y?"updateProps":"initProps"]($,J,K.animationModel,K.dataIndex,Z)}function Um0($,Q,J){var{dataIndex:K,itemModel:Y}=J,Z=Y.getModel("emphasis"),q=Z.getModel("itemStyle").getItemStyle(),X=Y.getModel(["blur","itemStyle"]).getItemStyle(),W=Y.getModel(["select","itemStyle"]).getItemStyle(),F=Y.getShallow("cursor"),H=Z.get("focus"),B=Z.get("blurScope"),z=Z.get("scale");I50($,function(G){if(G instanceof q6){var O=G.style;G.useStyle(Y0({image:O.image,x:O.x,y:O.y,width:O.width,height:O.height},J.style))}else G.useStyle(J.style);var T=G.ensureState("emphasis");if(T.style=q,z)T.scaleX=G.scaleX*1.1,T.scaleY=G.scaleY*1.1;G.ensureState("blur").style=X,G.ensureState("select").style=W,F&&(G.cursor=F),G.z2=J.z2});var A=Q.valueDim.posDesc[+(J.boundingLength>0)],R=$.__pictorialBarRect;R.ignoreClip=!0,p5(R,b5(Y),{labelFetcher:Q.seriesModel,labelDataIndex:K,defaultText:BJ(Q.seriesModel.getData(),K),inheritColor:J.style.fill,defaultOpacity:J.style.opacity,defaultOutsidePosition:A}),s1($,H,B,Z.get("disabled"))}function Hm0($){var Q=Math.round($);return Math.abs($-Q)<0.0001?Q:Math.ceil($)}var SL1,Zm0,_50,_L1,Gm0;var Om0=h(()=>{H0();l();a0();M5();S8();k1();t6();KA();g5();u$();o5();cU();SL1=["itemStyle","borderWidth"],Zm0=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],_50=new a4,_L1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){var Z=this.group,q=J.getData(),X=this._data,W=J.coordinateSystem,F=W.getBaseAxis(),H=F.isHorizontal(),B=W.master.getRect(),z={ecSize:{width:Y.getWidth(),height:Y.getHeight()},seriesModel:J,coordSys:W,coordSysExtent:[[B.x,B.x+B.width],[B.y,B.y+B.height]],isHorizontal:H,valueDim:Zm0[+H],categoryDim:Zm0[1-+H]};q.diff(X).add(function(R){if(!q.hasValue(R))return;var G=Xm0(q,R),O=qm0(q,R,G,z),T=Wm0(q,z,O);q.setItemGraphicEl(R,T),Z.add(T),Um0(T,z,O)}).update(function(R,G){var O=X.getItemGraphicEl(G);if(!q.hasValue(R)){Z.remove(O);return}var T=Xm0(q,R),D=qm0(q,R,T,z),P=Rm0(q,D);if(O&&P!==O.__pictorialShapeStr)Z.remove(O),q.setItemGraphicEl(R,null),O=null;if(O)xL1(O,z,D);else O=Wm0(q,z,D,!0);q.setItemGraphicEl(R,O),O.__pictorialSymbolMeta=D,Z.add(O),Um0(O,z,D)}).remove(function(R){var G=X.getItemGraphicEl(R);G&&Fm0(X,R,G.__pictorialSymbolMeta.animationModel,G)}).execute();var A=J.get("clip",!0)?tK(J.coordinateSystem,!1,J):null;if(A)Z.setClipPath(A);else Z.removeClipPath();return this._data=q,this.group},Q.prototype.remove=function(J,K){var Y=this.group,Z=this._data;if(J.get("animation")){if(Z)Z.eachItemGraphicEl(function(q){Fm0(Z,r0(q).dataIndex,J,q)})}else Y.removeAll()},Q.type="pictorialBar",Q}(c1);Gm0=_L1});var cL1,wm0;var Tm0=h(()=>{H0();Le();e4();y1();cL1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.hasSymbolVisual=!0,J.defaultSymbol="roundRect",J}return Q.prototype.getInitialData=function(J){return J.stack=null,$.prototype.getInitialData.apply(this,arguments)},Q.type="series.pictorialBar",Q.dependencies=["grid"],Q.defaultOption=C4(qA.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:e.color.primary}}}),Q}(qA),wm0=cL1});function M50($){$.registerChartView(Gm0),$.registerSeriesModel(wm0),$.registerLayout($.PRIORITY.VISUAL.LAYOUT,K1(t_,"pictorialBar")),$.registerLayout($.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,e_("pictorialBar"))}var Dm0=h(()=>{Om0();Tm0();RT();l()});function mL1($,Q,J){var K=new X1({shape:{x:$.x-10,y:$.y-10,width:0,height:$.height+20}});return q5(K,{shape:{x:$.x-50,width:$.width+100,height:$.height+20}},Q,J),K}var uL1,Cm0;var Pm0=h(()=>{H0();De();a0();M5();g5();l();SZ();t6();h8();uL1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J._layers=[],J}return Q.prototype.render=function(J,K,Y){var Z=J.getData(),q=this,X=this.group,W=J.getLayerSeries(),F=Z.getLayout("layoutInfo"),H=F.rect,B=F.boundaryGap;X.x=0,X.y=H.y+B[0];function z(O){return O.name}var A=new Q4(this._layersSeries||[],W,z,z),R=[];A.add(P0(G,this,"add")).update(P0(G,this,"update")).remove(P0(G,this,"remove")).execute();function G(O,T,D){var P=q._layers;if(O==="remove"){X.remove(P[T]);return}var j=[],E=[],L,v=W[T].indices,f=0;for(;f<v.length;f++){var _=Z.getItemLayout(v[f]),M=_.x,b=_.y0,x=_.y;j.push(M,b),E.push(M,b+x),L=Z.getItemVisual(v[f],"style")}var g,m=Z.getItemLayout(v[0]),u=J.getModel("label"),p=u.get("margin"),o=J.getModel("emphasis");if(O==="add"){var t=R[T]=new b0;if(g=new vf({shape:{points:j,stackedOnPoints:E,smooth:0.4,stackedOnSmooth:0.4,smoothConstraint:!1},z2:0}),t.add(g),X.add(t),J.isAnimationEnabled())g.setClipPath(mL1(g.getBoundingRect(),J,function(){g.removeClipPath()}))}else{var t=P[D];g=t.childAt(0),X.add(t),R[T]=t,C1(g,{shape:{points:j,stackedOnPoints:E}},J),T7(g)}p5(g,b5(J),{labelDataIndex:v[f-1],defaultText:Z.getName(v[f-1]),inheritColor:L.fill},{normal:{verticalAlign:"middle"}}),g.setTextConfig({position:null,local:!0});var r=g.getTextContent();if(r)r.x=m.x-p,r.y=m.y0+m.y/2;g.useStyle(L),Z.setItemGraphicEl(T,g),a5(g,J),s1(g,o.get("focus"),o.get("blurScope"),o.get("disabled"))}this._layersSeries=W,this._layers=R},Q.type="themeRiver",Q}(c1);Cm0=uL1});var b50=2,pL1,km0;var jm0=h(()=>{H0();o6();dz();UT();e$();l();l0();mU();j4();pL1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(J){$.prototype.init.apply(this,arguments),this.legendVisualProvider=new QQ(P0(this.getData,this),P0(this.getRawData,this))},Q.prototype.fixData=function(J){var K=J.length,Y={},Z=Vw(J,function(z){if(!Y.hasOwnProperty(z[0]+""))Y[z[0]+""]=-1;return z[2]}),q=[];Z.buckets.each(function(z,A){q.push({name:A,dataList:z})});var X=q.length;for(var W=0;W<X;++W){var F=q[W].name;for(var H=0;H<q[W].dataList.length;++H){var B=q[W].dataList[H][0]+"";Y[B]=W}for(var B in Y)if(Y.hasOwnProperty(B)&&Y[B]!==W)Y[B]=W,J[K]=[B,0,F],K++}return J},Q.prototype.getInitialData=function(J,K){var Y=this.getReferringComponents("singleAxis",L5).models[0],Z=Y.get("type"),q=f1(J.data,function(R){return R[2]!==void 0}),X=this.fixData(q||[]),W=[],F=this.nameMap=_0(),H=0;for(var B=0;B<X.length;++B)if(W.push(X[B][b50]),!F.get(X[B][b50]))F.set(X[B][b50],H),H++;var z=FJ(X,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:_U(Z)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,A=new e6(z,this);return A.initData(X),A},Q.prototype.getLayerSeries=function(){var J=this.getData(),K=J.count(),Y=[];for(var Z=0;Z<K;++Z)Y[Z]=Z;var q=J.mapDimension("single"),X=Vw(Y,function(F){return J.get("name",F)}),W=[];return X.buckets.each(function(F,H){F.sort(function(B,z){return J.get(q,B)-J.get(q,z)}),W.push({name:H,indices:F})}),W},Q.prototype.getAxisTooltipData=function(J,K,Y){if(!Z0(J))J=J?[J]:[];var Z=this.getData(),q=this.getLayerSeries(),X=[],W=q.length,F;for(var H=0;H<W;++H){var B=Number.MAX_VALUE,z=-1,A=q[H].indices.length;for(var R=0;R<A;++R){var G=Z.get(J[0],q[H].indices[R]),O=Math.abs(G-K);if(O<=B)F=G,B=O,z=q[H].indices[R]}X.push(z)}return{dataIndices:X,nestestValue:F}},Q.prototype.formatTooltip=function(J,K,Y){var Z=this.getData(),q=Z.getName(J),X=Z.get(Z.mapDimension("value"),J);return $6("nameValue",{name:q,value:X})},Q.type="series.themeRiver",Q.dependencies=["singleAxis"],Q.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},Q}(o1),km0=pL1});function g50($,Q){$.eachSeriesByType("themeRiver",function(J){var K=J.getData(),Y=J.coordinateSystem,Z={},q=Y.getRect();Z.rect=q;var X=J.get("boundaryGap"),W=Y.getAxis();if(Z.boundaryGap=X,W.orient==="horizontal"){X[0]=f0(X[0],q.height),X[1]=f0(X[1],q.height);var F=q.height-X[0]-X[1];Em0(K,J,F)}else{X[0]=f0(X[0],q.width),X[1]=f0(X[1],q.width);var H=q.width-X[0]-X[1];Em0(K,J,H)}K.setLayout("layoutInfo",Z)})}function Em0($,Q,J){if(!$.count())return;var K=Q.coordinateSystem,Y=Q.getLayerSeries(),Z=$.mapDimension("single"),q=$.mapDimension("value"),X=q0(Y,function(O){return q0(O.indices,function(T){var D=K.dataToPoint($.get(Z,T));return D[1]=$.get(q,T),D})}),W=dL1(X),F=W.y0,H=J/W.max,B=Y.length,z=Y[0].indices.length,A;for(var R=0;R<z;++R){A=F[R]*H,$.setItemLayout(Y[0].indices[R],{layerIndex:0,x:X[0][R][0],y0:A,y:X[0][R][1]*H});for(var G=1;G<B;++G)A+=X[G-1][R][1]*H,$.setItemLayout(Y[G].indices[R],{layerIndex:G,x:X[G][R][0],y0:A,y:X[G][R][1]*H})}}function dL1($){var Q=$.length,J=$[0].length,K=[],Y=[],Z=0;for(var q=0;q<J;++q){var X=0;for(var W=0;W<Q;++W)X+=$[W][q][1];if(X>Z)Z=X;K.push(X)}for(var F=0;F<J;++F)Y[F]=(Z-K[F])/2;Z=0;for(var H=0;H<J;++H){var B=K[H]+Y[H];if(B>Z)Z=B}return{y0:Y,max:Z}}var Lm0=h(()=>{l();k1()});function y50($){$.registerChartView(Cm0),$.registerSeriesModel(km0),$.registerLayout(g50),$.registerProcessor(g3("themeRiver"))}var hm0=h(()=>{Pm0();jm0();Lm0()});var nL1=2,lL1=4,rL1,x50;var vm0=h(()=>{H0();l();a0();M5();g5();o5();WA();yz();h8();ww();k1();rL1=function($){c(Q,$);function Q(J,K,Y,Z){var q=$.call(this)||this;q.z2=nL1,q.textConfig={inside:!0},r0(q).seriesIndex=K.seriesIndex;var X=new j1({z2:lL1,silent:J.getModel().get(["label","silent"])});return q.setTextContent(X),q.updateData(!0,J,K,Y,Z),q}return Q.prototype.updateData=function(J,K,Y,Z,q){this.node=K,K.piece=this,Y=Y||this._seriesModel,Z=Z||this._ecModel;var X=this;r0(X).dataIndex=K.dataIndex;var W=K.getModel(),F=W.getModel("emphasis"),H=K.getLayout(),B=Y0({},H);B.label=null;var z=K.getVisual("style");z.lineJoin="bevel";var A=K.getVisual("decal");if(A)z.decal=WJ(A,q);var R=Z9(W.getModel("itemStyle"),B,!0);if(Y0(B,R),S(Y8,function(D){var P=X.ensureState(D),j=W.getModel([D,"itemStyle"]);P.style=j.getItemStyle();var E=Z9(j,B);if(E)P.shape=E}),J)X.setShape(B),X.shape.r=H.r0,q5(X,{shape:{r:H.r}},Y,K.dataIndex);else C1(X,{shape:B},Y),T7(X);X.useStyle(z),this._updateLabel(Y);var G=W.getShallow("cursor");G&&X.attr("cursor",G),this._seriesModel=Y||this._seriesModel,this._ecModel=Z||this._ecModel;var O=F.get("focus"),T=O==="relative"?FZ(K.getAncestorsIndices(),K.getDescendantIndices()):O==="ancestor"?K.getAncestorsIndices():O==="descendant"?K.getDescendantIndices():O;s1(this,T,F.get("blurScope"),F.get("disabled"))},Q.prototype._updateLabel=function(J){var K=this,Y=this.node.getModel(),Z=Y.getModel("label"),q=this.node.getLayout(),X=q.endAngle-q.startAngle,W=(q.startAngle+q.endAngle)/2,F=Math.cos(W),H=Math.sin(W),B=this,z=B.getTextContent(),A=this.node.dataIndex,R=Z.get("minAngle")/180*Math.PI,G=Z.get("show")&&!(R!=null&&Math.abs(X)<R);z.ignore=!G,S(dX,function(T){var D=T==="normal"?Y.getModel("label"):Y.getModel([T,"label"]),P=T==="normal",j=P?z:z.ensureState(T),E=J.getFormattedLabel(A,T);if(P)E=E||K.node.name;if(j.style=A5(D,{},null,T!=="normal",!0),E)j.style.text=E;var L=D.get("show");if(L!=null&&!P)j.ignore=!L;var v=O(D,"position"),f=P?B:B.states[T],_=f.style.fill;f.textConfig={outsideFill:D.get("color")==="inherit"?_:null,inside:v!=="outside"};var M,b=O(D,"distance")||0,x=O(D,"align"),g=O(D,"rotate"),m=Math.PI*0.5,u=Math.PI*1.5,p=t8(g==="tangential"?Math.PI/2-W:W),o=p>m&&!nF(p-m)&&p<u;if(v==="outside")M=q.r+b,x=o?"right":"left";else if(!x||x==="center"){if(X===2*Math.PI&&q.r0===0)M=0;else M=(q.r+q.r0)/2;x="center"}else if(x==="left")M=q.r0+b,x=o?"right":"left";else if(x==="right")M=q.r-b,x=o?"left":"right";j.style.align=x,j.style.verticalAlign=O(D,"verticalAlign")||"middle",j.x=M*F+q.cx,j.y=M*H+q.cy;var t=0;if(g==="radial")t=t8(-W)+(o?Math.PI:0);else if(g==="tangential")t=t8(Math.PI/2-W)+(o?Math.PI:0);else if(V1(g))t=g*Math.PI/180;j.rotation=t8(t)});function O(T,D){var P=T.get(D);if(P==null)return Z.get(D);return P}z.dirtyStyle()},Q}(J7),x50=rL1});function _m0($){$.registerAction({type:gI,update:"updateView"},function(Q,J){J.eachComponent({mainType:"series",subType:"sunburst",query:Q},K);function K(Y,Z){var q=cZ(Q,[gI],Y);if(q){var X=Y.getViewRoot();if(X)Q.direction=NA(X,q.node)?"rollUp":"drillDown";Y.resetViewRoot(q.node)}}}),$.registerAction({type:Sm0,update:"none"},function(Q,J,K){Q=Y0({},Q),J.eachComponent({mainType:"series",subType:"sunburst",query:Q},Y);function Y(Z){var q=cZ(Q,[Sm0],Z);if(q)Q.dataIndex=q.node.dataIndex}u6("sunburstHighlight","highlight"),K.dispatchAction(Y0(Q,{type:"highlight"}))}),$.registerAction({type:iL1,update:"updateView"},function(Q,J,K){Q=Y0({},Q),u6("sunburstUnhighlight","downplay"),K.dispatchAction(Y0(Q,{type:"downplay"}))})}var gI="sunburstRootToNode",Sm0="sunburstHighlight",iL1="sunburstUnhighlight";var c50=h(()=>{l();N5();uZ()});var sL1,fm0;var Im0=h(()=>{H0();l();t6();vm0();SZ();c50();P4();sL1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y,Z){var q=this;this.seriesModel=J,this.api=Y,this.ecModel=K;var X=J.getData(),W=X.tree.root,F=J.getViewRoot(),H=this.group,B=J.get("renderLabelForZeroData"),z=[];F.eachNode(function(D){z.push(D)});var A=this._oldChildren||[];R(z,A),T(W,F),this._initEvents(),this._oldChildren=z;function R(D,P){if(D.length===0&&P.length===0)return;new Q4(P,D,j,j).add(E).update(E).remove(K1(E,null)).execute();function j(L){return L.getId()}function E(L,v){var f=L==null?null:D[L],_=v==null?null:P[v];G(f,_)}}function G(D,P){if(!B&&D&&!D.getValue())D=null;if(D!==W&&P!==W){if(P&&P.piece)if(D)P.piece.updateData(!1,D,J,K,Y),X.setItemGraphicEl(D.dataIndex,P.piece);else O(P);else if(D){var j=new x50(D,J,K,Y);H.add(j),X.setItemGraphicEl(D.dataIndex,j)}}}function O(D){if(!D)return;if(D.piece)H.remove(D.piece),D.piece=null}function T(D,P){if(P.depth>0){if(q.virtualPiece)q.virtualPiece.updateData(!1,D,J,K,Y);else q.virtualPiece=new x50(D,J,K,Y),H.add(q.virtualPiece);P.piece.off("click"),q.virtualPiece.on("click",function(j){q._rootToNode(P.parentNode)})}else if(q.virtualPiece)H.remove(q.virtualPiece),q.virtualPiece=null}},Q.prototype._initEvents=function(){var J=this;this.group.off("click"),this.group.on("click",function(K){var Y=!1,Z=J.seriesModel.getViewRoot();Z.eachNode(function(q){if(!Y&&q.piece&&q.piece===K.target){var X=q.getModel().get("nodeClick");if(X==="rootToNode")J._rootToNode(q);else if(X==="link"){var W=q.getModel(),F=W.get("link");if(F){var H=W.get("target",!0)||"_blank";OU(F,H)}}Y=!0}})})},Q.prototype._rootToNode=function(J){if(J!==this.seriesModel.getViewRoot())this.api.dispatchAction({type:gI,from:this.uid,seriesId:this.seriesModel.id,targetNode:J})},Q.prototype.containPoint=function(J,K){var Y=K.getData(),Z=Y.getItemLayout(0);if(Z){var q=J[0]-Z.cx,X=J[1]-Z.cy,W=Math.sqrt(q*q+X*X);return W<=Z.r&&W>=Z.r0}},Q.type="sunburst",Q}(c1),fm0=sL1});function Mm0($){var Q=0;S($.children,function(K){Mm0(K);var Y=K.value;Z0(Y)&&(Y=Y[0]),Q+=Y});var J=$.value;if(Z0(J))J=J[0];if(J==null||isNaN(J))J=Q;if(J<0)J=0;Z0($.value)?$.value[0]=J:$.value=J}var oL1,bm0;var gm0=h(()=>{H0();l();o6();XI();uZ();K7();K10();oL1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.ignoreStyleOnData=!0,J}return Q.prototype.getInitialData=function(J,K){var Y={name:J.name,children:J.data};Mm0(Y);var Z=this._levelModels=q0(J.levels||[],function(W){return new h1(W,this,K)},this),q=HA.createTree(Y,this,X);function X(W){W.wrapMethod("getItemModel",function(F,H){var B=q.getNodeByDataIndex(H),z=Z[B.depth];return z&&(F.parentModel=z),F})}return q.data},Q.prototype.optionUpdated=function(){this.resetViewRoot()},Q.prototype.getDataParams=function(J){var K=$.prototype.getDataParams.apply(this,arguments),Y=this.getData().tree.getNodeByDataIndex(J);return K.treePathInfo=G2(Y,this),K},Q.prototype.getLevelModel=function(J){return this._levelModels&&this._levelModels[J.depth]},Q.prototype.getViewRoot=function(){return this._viewRoot},Q.prototype.resetViewRoot=function(J){J?this._viewRoot=J:J=this._viewRoot;var K=this.getRawData().tree.root;if(!J||J!==K&&!K.contains(J))this._viewRoot=K},Q.prototype.enableAriaDecal=function(){aT(this)},Q.type="series.sunburst",Q.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:0.2},label:{opacity:0.1}},animationType:"expansion",animationDuration:1000,animationDurationUpdate:500,data:[],sort:"desc"},Q}(o1);bm0=oL1});function u50($,Q,J){Q.eachSeriesByType($,function(K){var Y=K.get("center"),Z=K.get("radius");if(!Z0(Z))Z=[0,Z];if(!Z0(Y))Y=[Y,Y];var q=J.getWidth(),X=J.getHeight(),W=Math.min(q,X),F=f0(Y[0],q),H=f0(Y[1],X),B=f0(Z[0],W/2),z=f0(Z[1],W/2),A=-K.get("startAngle")*ym0,R=K.get("minAngle")*ym0,G=K.getData().tree.root,O=K.getViewRoot(),T=O.depth,D=K.get("sort");if(D!=null)xm0(O,D);var P=0;S(O.children,function(p){!isNaN(p.getValue())&&P++});var j=O.getValue(),E=Math.PI/(j||P)*2,L=O.depth>0,v=O.height-(L?-1:1),f=(z-B)/(v||1),_=K.get("clockwise"),M=K.get("stillShowZeroSum"),b=_?1:-1,x=function(p,o){if(!p)return;var t=o;if(p!==G){var r=p.getValue(),Q0=j===0&&M?E:r*E;if(Q0<R)Q0=R;t=o+b*Q0;var F0=p.depth-T-(L?-1:1),W0=B+f*F0,h0=B+f*(F0+1),d0=K.getLevelModel(p);if(d0){var W1=d0.get("r0",!0),z1=d0.get("r",!0),b1=d0.get("radius",!0);if(b1!=null)W1=b1[0],z1=b1[1];W1!=null&&(W0=f0(W1,W/2)),z1!=null&&(h0=f0(z1,W/2))}p.setLayout({angle:Q0,startAngle:o,endAngle:t,clockwise:_,cx:F,cy:H,r0:W0,r:h0})}if(p.children&&p.children.length){var B1=0;S(p.children,function(e0){B1+=x(e0,o+B1)})}return t-o};if(L){var g=B,m=B+f,u=Math.PI*2;G.setLayout({angle:u,startAngle:A,endAngle:A+u,clockwise:_,cx:F,cy:H,r0:g,r:m})}x(O,A)})}function xm0($,Q){var J=$.children||[];if($.children=aL1(J,Q),J.length)S($.children,function(K){xm0(K,Q)})}function aL1($,Q){if(I0(Q)){var J=q0($,function(Y,Z){var q=Y.getValue();return{params:{depth:Y.depth,height:Y.height,dataIndex:Y.dataIndex,getValue:function(){return q}},index:Z}});return J.sort(function(Y,Z){return Q(Y.params,Z.params)}),q0(J,function(Y){return $[Y.index]})}else{var K=Q==="asc";return $.sort(function(Y,Z){var q=(Y.getValue()-Z.getValue())*(K?1:-1);return q===0?(Y.dataIndex-Z.dataIndex)*(K?-1:1):q})}}var ym0;var cm0=h(()=>{k1();l();ym0=Math.PI/180});function m50($){var Q={};function J(K,Y,Z){if(K.depth===0)return e.color.neutral50;var q=K;while(q&&q.depth>1)q=q.parentNode;var X=Y.getColorFromPalette(q.name||q.dataIndex+"",Q);if(K.depth>1&&R0(X))X=Hv(X,(K.depth-1)/(Z-1)*0.5);return X}$.eachSeriesByType("sunburst",function(K){var Y=K.getData(),Z=Y.tree;Z.eachNode(function(q){var X=q.getModel(),W=X.getModel("itemStyle").getItemStyle();if(!W.fill)W.fill=J(q,K,Z.root.height);var F=Y.ensureUniqueItemVisual(q.dataIndex,"style");Y0(F,W)})})}var um0=h(()=>{o8();l();y1()});function p50($){$.registerChartView(fm0),$.registerSeriesModel(bm0),$.registerLayout(K1(u50,"sunburst")),$.registerProcessor(K1(g3,"sunburst")),$.registerVisual(m50),_m0($)}var mm0=h(()=>{Im0();gm0();cm0();um0();l();c50()});var d50,pm0,QY,tL1,dm0;var n50=h(()=>{H0();nK();l0();o6();d50={color:"fill",borderColor:"stroke"},pm0={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},QY=o0(),tL1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},Q.prototype.getInitialData=function(J,K){return f8(null,this)},Q.prototype.getDataParams=function(J,K,Y){var Z=$.prototype.getDataParams.call(this,J,K);return Y&&(Z.info=QY(Y).info),Z},Q.type="series.custom",Q.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],Q.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},Q}(o1),dm0=tL1});function eL1($,Q){return Q=Q||[0,0],q0(["x","y"],function(J,K){var Y=this.getAxis(J),Z=Q[K],q=$[K]/2;return Y.type==="category"?Y.getBandWidth():Math.abs(Y.dataToCoord(Z-q)-Y.dataToCoord(Z+q))},this)}function l50($){var Q=$.master.getRect();return{coordSys:{type:"cartesian2d",x:Q.x,y:Q.y,width:Q.width,height:Q.height},api:{coord:function(J){return $.dataToPoint(J)},size:P0(eL1,$)}}}var nm0=h(()=>{l()});function $h1($,Q){return Q=Q||[0,0],q0([0,1],function(J){var K=Q[J],Y=$[J]/2,Z=[],q=[];return Z[J]=K-Y,q[J]=K+Y,Z[1-J]=q[1-J]=Q[1-J],Math.abs(this.dataToPoint(Z)[J]-this.dataToPoint(q)[J])},this)}function r50($){var Q=$.getBoundingRect();return{coordSys:{type:"geo",x:Q.x,y:Q.y,width:Q.width,height:Q.height,zoom:$.getZoom()},api:{coord:function(J){return $.dataToPoint(J)},size:P0($h1,$)}}}var lm0=h(()=>{l()});function Qh1($,Q){var J=this.getAxis(),K=Q instanceof Array?Q[0]:Q,Y=($ instanceof Array?$[0]:$)/2;return J.type==="category"?J.getBandWidth():Math.abs(J.dataToCoord(K-Y)-J.dataToCoord(K+Y))}function i50($){var Q=$.getRect();return{coordSys:{type:"singleAxis",x:Q.x,y:Q.y,width:Q.width,height:Q.height},api:{coord:function(J){return $.dataToPoint(J)},size:P0(Qh1,$)}}}var rm0=h(()=>{l()});function Jh1($,Q){return Q=Q||[0,0],q0(["Radius","Angle"],function(J,K){var Y="get"+J+"Axis",Z=this[Y](),q=Q[K],X=$[K]/2,W=Z.type==="category"?Z.getBandWidth():Math.abs(Z.dataToCoord(q-X)-Z.dataToCoord(q+X));if(J==="Angle")W=W*Math.PI/180;return W},this)}function s50($){var Q=$.getRadiusAxis(),J=$.getAngleAxis(),K=Q.getExtent();return K[0]>K[1]&&K.reverse(),{coordSys:{type:"polar",cx:$.cx,cy:$.cy,r:K[1],r0:K[0]},api:{coord:function(Y){var Z=Q.dataToRadius(Y[0]),q=J.dataToAngle(Y[1]),X=$.coordToPoint([Z,q]);return X.push(Z,q*Math.PI/180),X},size:P0(Jh1,$)}}}var im0=h(()=>{l()});function o50($){var Q=$.getRect(),J=$.getRangeInfo();return{coordSys:{type:"calendar",x:Q.x,y:Q.y,width:Q.width,height:Q.height,cellWidth:$.getCellWidth(),cellHeight:$.getCellHeight(),rangeInfo:{start:J.start,end:J.end,weeks:J.weeks,dayCount:J.allDay}},api:{coord:function(K,Y){return $.dataToPoint(K,Y)},layout:function(K,Y){return $.dataToLayout(K,Y)}}}}function a50($){var Q=$.getRect();return{coordSys:{type:"matrix",x:Q.x,y:Q.y,width:Q.width,height:Q.height},api:{coord:function(J,K){return $.dataToPoint(J,K)},layout:function(J,K){return $.dataToLayout(J,K)}}}}function yI($,Q,J,K){return $&&($.legacy||$.legacy!==!1&&!J&&!K&&Q!=="tspan"&&(Q==="text"||p0($,"text")))}function xI($,Q,J){var K=$,Y,Z,q;if(Q==="text")q=K;else{q={},p0(K,"text")&&(q.text=K.text),p0(K,"rich")&&(q.rich=K.rich),p0(K,"textFill")&&(q.fill=K.textFill),p0(K,"textStroke")&&(q.stroke=K.textStroke),p0(K,"fontFamily")&&(q.fontFamily=K.fontFamily),p0(K,"fontSize")&&(q.fontSize=K.fontSize),p0(K,"fontStyle")&&(q.fontStyle=K.fontStyle),p0(K,"fontWeight")&&(q.fontWeight=K.fontWeight),Z={type:"text",style:q,silent:!0},Y={};var X=p0(K,"textPosition");if(J)Y.position=X?K.textPosition:"inside";else X&&(Y.position=K.textPosition);p0(K,"textPosition")&&(Y.position=K.textPosition),p0(K,"textOffset")&&(Y.offset=K.textOffset),p0(K,"textRotation")&&(Y.rotation=K.textRotation),p0(K,"textDistance")&&(Y.distance=K.textDistance)}return om0(q,$),S(q.rich,function(W){om0(W,W)}),{textConfig:Y,textContent:Z}}function om0($,Q){if(!Q)return;Q.font=Q.textFont||Q.font,p0(Q,"textStrokeWidth")&&($.lineWidth=Q.textStrokeWidth),p0(Q,"textAlign")&&($.align=Q.textAlign),p0(Q,"textVerticalAlign")&&($.verticalAlign=Q.textVerticalAlign),p0(Q,"textLineHeight")&&($.lineHeight=Q.textLineHeight),p0(Q,"textWidth")&&($.width=Q.textWidth),p0(Q,"textHeight")&&($.height=Q.textHeight),p0(Q,"textBackgroundColor")&&($.backgroundColor=Q.textBackgroundColor),p0(Q,"textPadding")&&($.padding=Q.textPadding),p0(Q,"textBorderColor")&&($.borderColor=Q.textBorderColor),p0(Q,"textBorderWidth")&&($.borderWidth=Q.textBorderWidth),p0(Q,"textBorderRadius")&&($.borderRadius=Q.textBorderRadius),p0(Q,"textBoxShadowColor")&&($.shadowColor=Q.textBoxShadowColor),p0(Q,"textBoxShadowBlur")&&($.shadowBlur=Q.textBoxShadowBlur),p0(Q,"textBoxShadowOffsetX")&&($.shadowOffsetX=Q.textBoxShadowOffsetX),p0(Q,"textBoxShadowOffsetY")&&($.shadowOffsetY=Q.textBoxShadowOffsetY)}function t50($,Q,J){var K=$;K.textPosition=K.textPosition||J.position||"inside",J.offset!=null&&(K.textOffset=J.offset),J.rotation!=null&&(K.textRotation=J.rotation),J.distance!=null&&(K.textDistance=J.distance);var Y=K.textPosition.indexOf("inside")>=0,Z=$.fill||e.color.neutral99;am0(K,Q);var q=K.textFill==null;if(Y){if(q)K.textFill=J.insideFill||e.color.neutral00,!K.textStroke&&J.insideStroke&&(K.textStroke=J.insideStroke),!K.textStroke&&(K.textStroke=Z),K.textStrokeWidth==null&&(K.textStrokeWidth=2)}else{if(q)K.textFill=$.fill||J.outsideFill||e.color.neutral00;!K.textStroke&&J.outsideStroke&&(K.textStroke=J.outsideStroke)}return K.text=Q.text,K.rich=Q.rich,S(Q.rich,function(X){am0(X,X)}),K}function am0($,Q){if(!Q)return;p0(Q,"fill")&&($.textFill=Q.fill),p0(Q,"stroke")&&($.textStroke=Q.fill),p0(Q,"lineWidth")&&($.textStrokeWidth=Q.lineWidth),p0(Q,"font")&&($.font=Q.font),p0(Q,"fontStyle")&&($.fontStyle=Q.fontStyle),p0(Q,"fontWeight")&&($.fontWeight=Q.fontWeight),p0(Q,"fontSize")&&($.fontSize=Q.fontSize),p0(Q,"fontFamily")&&($.fontFamily=Q.fontFamily),p0(Q,"align")&&($.textAlign=Q.align),p0(Q,"verticalAlign")&&($.textVerticalAlign=Q.verticalAlign),p0(Q,"lineHeight")&&($.textLineHeight=Q.lineHeight),p0(Q,"width")&&($.textWidth=Q.width),p0(Q,"height")&&($.textHeight=Q.height),p0(Q,"backgroundColor")&&($.textBackgroundColor=Q.backgroundColor),p0(Q,"padding")&&($.textPadding=Q.padding),p0(Q,"borderColor")&&($.textBorderColor=Q.borderColor),p0(Q,"borderWidth")&&($.textBorderWidth=Q.borderWidth),p0(Q,"borderRadius")&&($.textBorderRadius=Q.borderRadius),p0(Q,"shadowColor")&&($.textBoxShadowColor=Q.shadowColor),p0(Q,"shadowBlur")&&($.textBoxShadowBlur=Q.shadowBlur),p0(Q,"shadowOffsetX")&&($.textBoxShadowOffsetX=Q.shadowOffsetX),p0(Q,"shadowOffsetY")&&($.textBoxShadowOffsetY=Q.shadowOffsetY),p0(Q,"textShadowColor")&&($.textShadowColor=Q.textShadowColor),p0(Q,"textShadowBlur")&&($.textShadowBlur=Q.textShadowBlur),p0(Q,"textShadowOffsetX")&&($.textShadowOffsetX=Q.textShadowOffsetX),p0(Q,"textShadowOffsetY")&&($.textShadowOffsetY=Q.textShadowOffsetY)}function e50($,Q){var J=$+"^_^"+Q;if(!sm0[J])console.warn('[ECharts] DEPRECATED: "'+$+'" has been deprecated. '+Q),sm0[J]=!0}var sm0;var $60=h(()=>{l();y1();sm0={}});function J60($,Q,J,K,Y){var Z=$+"Animation",q=xK($,K,Y)||{},X=jA(Q).userDuring;if(q.duration>0)q.during=X?P0(Xh1,{el:Q,userDuring:X}):null,q.setToFinal=!0,q.scope=$;return Y0(q,J[Z]),q}function EA($,Q,J,K){K=K||{};var{dataIndex:Y,isInit:Z,clearStyle:q}=K,X=J.isAnimationEnabled(),W=jA($),F=Q.style;W.userDuring=Q.during;var H={},B={};if(Fh1($,Q,B),$.type==="compound"){var z=$.shape.paths,A=Q.shape.paths;for(var R=0;R<A.length;R++){var G=A[R];Q60("shape",G,z[R])}}else Q60("shape",Q,B),Q60("extra",Q,B);if(!Z&&X)Wh1($,Q,H),$p0("shape",$,Q,H),$p0("extra",$,Q,H),Uh1($,Q,F,H);if(B.style=F,Kh1($,B,q),Zh1($,Q),X)if(Z){var O={};S(UD,function(D){var P=D?Q[D]:Q;if(P&&P.enterFrom){if(D)O[D]=O[D]||{};Y0(D?O[D]:O,P.enterFrom)}});var T=J60("enter",$,Q,J,Y);if(T.duration>0)$.animateFrom(O,T)}else Yh1($,Q,Y||0,J,H);K60($,Q),F?$.dirty():$.markRedraw()}function K60($,Q){var J=jA($).leaveToProps;for(var K=0;K<UD.length;K++){var Y=UD[K],Z=Y?Q[Y]:Q;if(Z&&Z.leaveTo){if(!J)J=jA($).leaveToProps={};if(Y)J[Y]=J[Y]||{};Y0(Y?J[Y]:J,Z.leaveTo)}}}function LA($,Q,J,K){if($){var Y=$.parent,Z=jA($).leaveToProps;if(Z){var q=J60("update",$,Q,J,0);q.done=function(){Y&&Y.remove($),K&&K()},$.animateTo(Z,q)}else Y&&Y.remove($),K&&K()}}function D2($){return $==="all"}function Kh1($,Q,J){var K=Q.style;if(!$.isGroup&&K){if(J){$.useStyle({});var Y=$.animators;for(var Z=0;Z<Y.length;Z++){var q=Y[Z];if(q.targetName==="style")q.changeTarget($.style)}}$.setStyle(K)}if(Q)Q.style=null,Q&&$.attr(Q),Q.style=K}function Yh1($,Q,J,K,Y){if(Y){var Z=J60("update",$,Q,K,J);if(Z.duration>0)$.animateFrom(Y,Z)}}function Zh1($,Q){if(p0(Q,"silent")&&($.silent=Q.silent),p0(Q,"ignore")&&($.ignore=Q.ignore),$ instanceof w7)p0(Q,"invisible")&&($.invisible=Q.invisible);if($ instanceof Y1)p0(Q,"autoBatch")&&($.autoBatch=Q.autoBatch)}function kA($){if($==="transition"||$==="enterFrom"||$==="leaveTo")throw Error('key must not be "'+$+'"')}function Xh1(){var $=this,Q=$.el;if(!Q)return;var J=jA(Q).userDuring,K=$.userDuring;if(J!==K){$.el=$.userDuring=null;return}JY.el=Q,K(qh1)}function $p0($,Q,J,K){var Y=J[$];if(!Y)return;var Z=Q[$],q;if(Z){var X=J.transition,W=Y.transition;if(W)if(!q&&(q=K[$]={}),D2(W))Y0(q,Z);else{var F=H5(W);for(var H=0;H<F.length;H++){var B=F[H],z=Z[B];q[B]=z}}else if(D2(X)||J1(X,$)>=0){!q&&(q=K[$]={});var A=N1(Z);for(var H=0;H<A.length;H++){var B=A[H],z=Z[B];if(Hh1(Y[B],z))q[B]=z}}}}function Q60($,Q,J){var K=Q[$];if(!K)return;var Y=J[$]={},Z=N1(K);for(var q=0;q<Z.length;q++){var X=Z[q];Y[X]=gF(K[X])}}function Wh1($,Q,J){var K=Q.transition,Y=D2(K)?k3:H5(K||[]);for(var Z=0;Z<Y.length;Z++){var q=Y[Z];if(q==="style"||q==="shape"||q==="extra")continue;var X=$[q];Jp0(q,"el.transition"),J[q]=X}}function Fh1($,Q,J){for(var K=0;K<tm0.length;K++){var Y=tm0[K],Z=Qp0[Y],q=Q[Y];if(q)J[Z[0]]=q[0],J[Z[1]]=q[1]}for(var K=0;K<k3.length;K++){var X=k3[K];if(Q[X]!=null)J[X]=Q[X]}}function Uh1($,Q,J,K){if(!J)return;var Y=$.style,Z;if(Y){var q=J.transition,X=Q.transition;if(q&&!D2(q)){var W=H5(q);!Z&&(Z=K.style={});for(var F=0;F<W.length;F++){var H=W[F],B=Y[H];Z[H]=B}}else if($.getAnimationStyleProps&&(D2(X)||D2(q)||J1(X,"style")>=0)){var z=$.getAnimationStyleProps(),A=z?z.style:null;if(A){!Z&&(Z=K.style={});var R=N1(J);for(var F=0;F<R.length;F++){var H=R[F];if(A[H]){var B=Y[H];Z[H]=B}}}}}}function Hh1($,Q){return!F7($)?$!=null&&isFinite($):$!==Q}var Qp0,tm0,cI,em0,UD,jA,JY,qh1,Jp0;var uI=h(()=>{l0();l();Ev();E3();h8();a0();N5();EK();Qp0={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},tm0=N1(Qp0),cI=r8(k3,function($,Q){return $[Q]=1,$},{}),em0=k3.join(", "),UD=["","style","shape","extra"],jA=o0();JY={},qh1={setTransform:function($,Q){return M0(p0(cI,$),"Only "+em0+" available in `setTransform`."),JY.el[$]=Q,this},getTransform:function($){return M0(p0(cI,$),"Only "+em0+" available in `getTransform`."),JY.el[$]},setShape:function($,Q){kA($);var J=JY.el,K=J.shape||(J.shape={});return K[$]=Q,J.dirtyShape&&J.dirtyShape(),this},getShape:function($){kA($);var Q=JY.el.shape;if(Q)return Q[$]},setStyle:function($,Q){kA($);var J=JY.el,K=J.style;if(K){if(h6(Q))S5("style."+$+" must not be assigned with NaN.");K[$]=Q,J.dirtyStyle&&J.dirtyStyle()}return this},getStyle:function($){kA($);var Q=JY.el.style;if(Q)return Q[$]},setExtra:function($,Q){kA($);var J=JY.el.extra||(JY.el.extra={});return J[$]=Q,this},getExtra:function($){kA($);var Q=JY.el.extra;if(Q)return Q[$]}};Jp0=function($,Q){if(!p0(cI,$))S5("Prop `"+$+"` is not a permitted in `"+Q+"`. Only `"+N1(cI).join("`, `")+"` are permitted.")}});function mI($){$.stopAnimation("keyframe"),$.attr(Kp0($))}function hA($,Q,J){if(!J.isAnimationEnabled()||!Q)return;if(Z0(Q)){S(Q,function(X){hA($,X,J)});return}var{keyframes:K,duration:Y}=Q;if(J&&Y==null){var Z=xK("enter",J,0);Y=Z&&Z.duration}if(!K||!Y)return;var q=Kp0($);S(UD,function(X){if(X&&!$[X])return;var W,F=!1;if(K.sort(function(H,B){return H.percent-B.percent}),S(K,function(H){var B=$.animators,z=X?H[X]:H;if(H.percent>=1)F=!0;if(!z)return;var A=N1(z);if(!X)A=f1(A,function(O){return J1(Nh1,O)<0});if(!A.length)return;if(!W)W=$.animate(X,Q.loop,!0),W.scope="keyframe";for(var R=0;R<B.length;R++)if(B[R]!==W&&B[R].targetName===W.targetName)B[R].stopTracks(A);X&&(q[X]=q[X]||{});var G=X?q[X]:q;S(A,function(O){G[O]=((X?$[X]:$)||{})[O]}),W.whenWithKeys(Y*H.percent,z,A,H.easing)}),!W)return;if(!F)S5("End frame with percent: 1 is missing in the keyframeAnimation.",!0);W.delay(Q.delay||0).duration(Y).start(Q.easing)})}var Kp0,Nh1;var Y60=h(()=>{l();uI();h8();N5();l0();Kp0=o0(),Nh1=["percent","easing","shape","style","extra"]});function pI($){return $ instanceof Y1}function W60($){return $ instanceof w7}function Ah1($,Q){if(Q.copyTransform($),W60(Q)&&W60($)){if(Q.setStyle($.style),Q.z=$.z,Q.z2=$.z2,Q.zlevel=$.zlevel,Q.invisible=$.invisible,Q.ignore=$.ignore,pI(Q)&&pI($))Q.setShape($.shape)}}function H60($){var Q=$.type,J;if(Q==="path"){var K=$.shape,Y=K.width!=null&&K.height!=null?{x:K.x||0,y:K.y||0,width:K.width,height:K.height}:null,Z=Hp0(K);J=NU(Z,null,Y,K.layout||"center"),QY(J).customPathData=Z}else if(Q==="image")J=new q6({}),QY(J).customImagePath=$.style.image;else if(Q==="text")J=new j1({});else if(Q==="group")J=new b0;else if(Q==="compoundPath"){var K=$.shape;if(!K||!K.paths){var q="";q="shape.paths must be specified in compoundPath",U5(q)}var X=q0(K.paths,function(H){if(H.type==="path")return NU(H.shape.pathData,H,null);var B=Cz(H.type);if(!B){var z="";z='graphic type "'+Q+'" can not be found.',U5(z)}return new B});J=new lX({shape:{paths:X}})}else{var W=Cz(Q);if(!W){var q="";q='graphic type "'+Q+'" can not be found.',U5(q)}J=new W}return QY(J).customGraphicType=Q,J.name=$.name,J.z2EmphasisLift=1,J.z2SelectLift=1,J}function N60($,Q,J,K,Y,Z,q){mI(Q);var X=Y&&Y.normal.cfg;if(X)Q.setTextConfig(X);if(K&&K.transition==null)K.transition=Bh1;var W=K&&K.style;if(W){if(Q.type==="text"){var F=W;p0(F,"textFill")&&(F.fill=F.textFill),p0(F,"textStroke")&&(F.stroke=F.textStroke)}var H=void 0,B=pI(Q)?W.decal:null;if($&&B)B.dirty=!0,H=WJ(B,$);W.__decalPattern=H}if(W60(Q)){if(W){var H=W.__decalPattern;if(H)W.decal=H}}EA(Q,K,Z,{dataIndex:J,isInit:q,clearStyle:!0}),hA(Q,K.keyframeAnimation,Z)}function Fp0($,Q,J,K,Y){var Z=Q.isGroup?null:Q,q=Y&&Y[$].cfg;if(Z){var X=Z.ensureState($);if(K===!1){var W=Z.getState($);if(W)W.style=null}else X.style=K||null;if(q)X.textConfig=q;aQ(Z)}}function Rh1($,Q,J){if($.isGroup)return;var K=$,Y=J.currentZ,Z=J.currentZLevel;K.z=Y,K.zlevel=Z;var q=Q.z2;q!=null&&(K.z2=q||0);for(var X=0;X<P2.length;X++)Gh1(K,Q,P2[X])}function Gh1($,Q,J){var K=J===C2,Y=K?Q:dI(Q,J),Z=Y?Y.z2:null,q;if(Z!=null)q=K?$:$.ensureState(J),q.z2=Z||0}function Zp0($,Q,J,K){var Y=$.get("renderItem");if(typeof Y==="string"){var Z=j_0(Y);if(Z)Y=Z;else console.warn("Custom series renderItem '"+Y+`' not found.
                Call 'echarts.registerCustomSeries' to register it.`)}var q=$.coordinateSystem,X={};if(q)M0(Y,"series.render is required."),M0(q.prepareCustoms||Yp0[q.type],"This coordSys does not support custom series."),X=q.prepareCustoms?q.prepareCustoms(q):Yp0[q.type](q);var W=c0({getWidth:K.getWidth,getHeight:K.getHeight,getZr:K.getZr,getDevicePixelRatio:K.getDevicePixelRatio,value:E,style:v,ordinalRawValue:L,styleEmphasis:f,visual:b,barLayout:x,currentSeriesIndices:g,font:m},X.api||{}),F={context:{},seriesId:$.id,seriesName:$.name,seriesIndex:$.seriesIndex,coordSys:X.coordSys,dataInsideLength:Q.count(),encode:Oh1($.getData()),itemPayload:$.get("itemPayload")||{}},H,B,z={},A={},R={},G={};for(var O=0;O<P2.length;O++){var T=P2[O];R[T]=$.getModel(Z60[T]),G[T]=$.getModel(q60[T])}function D(u){return u===H?B||(B=Q.getItemModel(u)):Q.getItemModel(u)}function P(u,p){return!Q.hasItemOption?R[p]:u===H?z[p]||(z[p]=D(u).getModel(Z60[p])):D(u).getModel(Z60[p])}function j(u,p){return!Q.hasItemOption?G[p]:u===H?A[p]||(A[p]=D(u).getModel(q60[p])):D(u).getModel(q60[p])}return function(u,p){return H=u,B=null,z={},A={},Y&&Y(c0({dataIndexInside:u,dataIndex:Q.getRawIndex(u),actionType:p?p.type:null},F),W)};function E(u,p){return p==null&&(p=H),Q.getStore().get(Q.getDimensionIndex(u||0),p)}function L(u,p){p==null&&(p=H),u=u||0;var o=Q.getDimensionInfo(u);if(!o){var t=Q.getDimensionIndex(u);return t>=0?Q.getStore().get(t,p):void 0}var r=Q.get(o.name,p),Q0=o&&o.ordinalMeta;return Q0?Q0.categories[r]:r}function v(u,p){e50("api.style","Please write literal style directly instead."),p==null&&(p=H);var o=Q.getItemVisual(p,"style"),t=o&&o.fill,r=o&&o.opacity,Q0=P(p,C2).getItemStyle();t!=null&&(Q0.fill=t),r!=null&&(Q0.opacity=r);var F0={inheritColor:R0(t)?t:e.color.neutral99},W0=j(p,C2),h0=A5(W0,null,F0,!1,!0);h0.text=W0.getShallow("show")?g0($.getFormattedLabel(p,C2),BJ(Q,p)):null;var d0=Mw(W0,F0,!1);return M(u,Q0),Q0=t50(Q0,h0,d0),u&&_(Q0,u),Q0.legacy=!0,Q0}function f(u,p){e50("api.styleEmphasis","Please write literal style directly instead."),p==null&&(p=H);var o=P(p,pZ).getItemStyle(),t=j(p,pZ),r=A5(t,null,null,!0,!0);r.text=t.getShallow("show")?v6($.getFormattedLabel(p,pZ),$.getFormattedLabel(p,C2),BJ(Q,p)):null;var Q0=Mw(t,null,!0);return M(u,o),o=t50(o,r,Q0),u&&_(o,u),o.legacy=!0,o}function _(u,p){for(var o in p)if(p0(p,o))u[o]=p[o]}function M(u,p){if(u)u.textFill&&(p.textFill=u.textFill),u.textPosition&&(p.textPosition=u.textPosition)}function b(u,p){if(p==null&&(p=H),p0(d50,u)){var o=Q.getItemVisual(p,"style");return o?o[d50[u]]:null}if(p0(pm0,u))return Q.getItemVisual(p,u)}function x(u){if(q.type==="cartesian2d"){var p=q.getBaseAxis();return wf0(c0({axis:p},u))}}function g(){return J.getCurrentSeriesIndices()}function m(u){return jz(u,J)}}function Oh1($){var Q={};return S($.dimensions,function(J){var K=$.getDimensionInfo(J);if(!K.isExtraCoord){var Y=K.coordDim,Z=Q[Y]=Q[Y]||[];Z[K.coordDimIndex]=$.getDimensionIndex(J)}}),Q}function X60($,Q,J,K,Y,Z,q){if(!K){Z.remove(Q);return}var X=B60($,Q,J,K,Y,Z);return X&&q.setItemGraphicEl(J,X),X&&s1(X,K.focus,K.blurScope,K.emphasisDisabled),X}function B60($,Q,J,K,Y,Z){M0(K,"should not have an null/undefined element setting");var q=-1,X=Q;if(Q&&Up0(Q,K,Y))q=J1(Z.childrenRef(),Q),Q=null;var W=!Q,F=Q;if(!F){if(F=H60(K),X)Ah1(X,F)}else F.clearStates();if(K.morph===!1)F.disableMorphing=!0;else if(F.disableMorphing)F.disableMorphing=!1;if(K.tooltipDisabled)F.tooltipDisabled=!0;YQ.normal.cfg=YQ.normal.conOpt=YQ.emphasis.cfg=YQ.emphasis.conOpt=YQ.blur.cfg=YQ.blur.conOpt=YQ.select.cfg=YQ.select.conOpt=null,YQ.isLegacy=!1,Th1(F,J,K,Y,W,YQ),wh1(F,J,K,Y,W),N60($,F,J,K,YQ,Y,W),p0(K,"info")&&(QY(F).info=K.info);for(var H=0;H<P2.length;H++){var B=P2[H];if(B!==C2){var z=dI(K,B),A=z60(K,z,B);Fp0(B,F,z,A,YQ)}}if(Rh1(F,K,Y),K.type==="group")Dh1($,F,J,K,Y);if(q>=0)Z.replaceAt(F,q);else Z.add(F);return F}function Up0($,Q,J){var K=QY($),Y=Q.type,Z=Q.shape,q=Q.style;return J.isUniversalTransitionEnabled()||Y!=null&&Y!==K.customGraphicType||Y==="path"&&jh1(Z)&&Hp0(Z)!==K.customPathData||Y==="image"&&p0(q,"image")&&q.image!==K.customImagePath}function wh1($,Q,J,K,Y){var Z=J.clipPath;if(Z===!1){if($&&$.getClipPath())$.removeClipPath()}else if(Z){var q=$.getClipPath();if(q&&Up0(q,Z,K))q=null;if(!q)q=H60(Z),M0(pI(q),"Only any type of `path` can be used in `clipPath`, rather than "+q.type+"."),$.setClipPath(q);N60(null,q,Q,Z,null,K,Y)}}function Th1($,Q,J,K,Y,Z){if($.isGroup||$.type==="compoundPath")return;qp0(J,null,Z),qp0(J,pZ,Z);var q=Z.normal.conOpt,X=Z.emphasis.conOpt,W=Z.blur.conOpt,F=Z.select.conOpt;if(q!=null||X!=null||F!=null||W!=null){var H=$.getTextContent();if(q===!1)H&&$.removeTextContent();else{if(q=Z.normal.conOpt=q||{type:"text"},!H)H=H60(q),$.setTextContent(H);else H.clearStates();N60(null,H,Q,q,null,K,Y);var B=q&&q.style;for(var z=0;z<P2.length;z++){var A=P2[z];if(A!==C2){var R=Z[A].conOpt;Fp0(A,H,R,z60(q,R,A),null)}}B?H.dirty():H.markRedraw()}}}function qp0($,Q,J){var K=!Q?$:dI($,Q),Y=!Q?$.style:z60($,K,pZ),Z=$.type,q=K?K.textConfig:null,X=$.textContent,W=!X?null:!Q?X:dI(X,Q);if(Y&&(J.isLegacy||yI(Y,Z,!!q,!!W))){J.isLegacy=!0;var F=xI(Y,Z,!Q);if(!q&&F.textConfig)q=F.textConfig;if(!W&&F.textContent)W=F.textContent}if(!Q&&W){var H=W;!H.type&&(H.type="text"),M0(H.type==="text",'textContent.type must be "text"')}var B=!Q?J.normal:J[Q];B.cfg=q,B.conOpt=W}function dI($,Q){return!Q?$:$?$[Q]:null}function z60($,Q,J){var K=Q&&Q.style;if(K==null&&J===pZ&&$)K=$.styleEmphasis;return K}function Dh1($,Q,J,K,Y){var Z=K.children,q=Z?Z.length:0,X=K.$mergeChildren,W=X==="byName"||K.diffChildrenByName,F=X===!1;if(!q&&!W&&!F)return;if(W){Ph1({api:$,oldChildren:Q.children()||[],newChildren:Z||[],dataIndex:J,seriesModel:Y,group:Q});return}F&&Q.removeAll();var H=0;for(;H<q;H++){var B=Z[H],z=Q.childAt(H);if(B){if(B.ignore==null)B.ignore=!1;B60($,z,J,B,Y,Q)}else M0(z,"renderItem should not return a group containing elements as null/undefined/{} if they do not exist before."),z.ignore=!0}for(var A=Q.childCount()-1;A>=H;A--){var R=Q.childAt(A);Ch1(Q,R,Y)}}function Ch1($,Q,J){Q&&LA(Q,QY($).option,J)}function Ph1($){new Q4($.oldChildren,$.newChildren,Xp0,Xp0,$).add(Wp0).update(Wp0).remove(kh1).execute()}function Xp0($,Q){var J=$&&$.name;return J!=null?J:zh1+Q}function Wp0($,Q){var J=this.context,K=$!=null?J.newChildren[$]:null,Y=Q!=null?J.oldChildren[Q]:null;B60(J.api,Y,J.dataIndex,K,J.seriesModel,J.group)}function kh1($){var Q=this.context,J=Q.oldChildren[$];J&&LA(J,QY(J).option,Q.seriesModel)}function Hp0($){return $&&($.pathData||$.d)}function jh1($){return $&&(p0($,"pathData")||p0($,"d"))}var pZ="emphasis",C2="normal",F60="blur",U60="select",P2,Z60,q60,Bh1,zh1="e\x00\x00",YQ,Yp0,Vh1,Np0;var Bp0=h(()=>{H0();l();a0();M5();g5();KA();RT();SZ();t6();cU();nm0();lm0();rm0();im0();E3();$60();N5();yz();n50();uI();Y60();oa();y1();P2=[C2,pZ,F60,U60],Z60={normal:["itemStyle"],emphasis:[pZ,"itemStyle"],blur:[F60,"itemStyle"],select:[U60,"itemStyle"]},q60={normal:["label"],emphasis:[pZ,"label"],blur:[F60,"label"],select:[U60,"label"]},Bh1=["x","y"],YQ={normal:{},emphasis:{},blur:{},select:{}},Yp0={cartesian2d:l50,geo:r50,single:i50,polar:s50,calendar:o50,matrix:a50};Vh1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y,Z){this._progressiveEls=null;var q=this._data,X=J.getData(),W=this.group,F=Zp0(J,X,K,Y);if(!q)W.removeAll();X.diff(q).add(function(B){X60(Y,null,B,F(B,Z),J,W,X)}).remove(function(B){var z=q.getItemGraphicEl(B);z&&LA(z,QY(z).option,J)}).update(function(B,z){var A=q.getItemGraphicEl(z);X60(Y,A,B,F(B,Z),J,W,X)}).execute();var H=J.get("clip",!0)?tK(J.coordinateSystem,!1,J):null;if(H)W.setClipPath(H);else W.removeClipPath();this._data=X},Q.prototype.incrementalPrepareRender=function(J,K,Y){this.group.removeAll(),this._data=null},Q.prototype.incrementalRender=function(J,K,Y,Z,q){var X=K.getData(),W=Zp0(K,X,Y,Z),F=this._progressiveEls=[];function H(A){if(!A.isGroup)A.incremental=!0,A.ensureState("emphasis").hoverLayer=!0}for(var B=J.start;B<J.end;B++){var z=X60(null,null,B,W(B,q),K,this.group,X);if(z)z.traverse(H),F.push(z)}},Q.prototype.eachRendered=function(J){t4(this._progressiveEls||this.group,J)},Q.prototype.filterForExposedEvent=function(J,K,Y,Z){var q=K.element;if(q==null||Y.name===q)return!0;while((Y=Y.__hostTarget||Y.parent)&&Y!==this.group)if(Y.name===q)return!0;return!1},Q.type="custom",Q}(c1),Np0=Vh1});function A60($){$.registerChartView(Np0),$.registerSeriesModel(dm0)}var zp0=h(()=>{n50();Bp0()});var Ap0=h(()=>{XM0();EM0();cM0();w00();$g0();og0();Vy0();oy0();_x0();mx0();sx0();Qc0();oc0();Zu0();Ru0();vu0();yu0();ou0();Ym0();Dm0();hm0();mm0();zp0()});function Rp0($,Q,J,K){if(!wp0(KH(J).lastProp,K))KH(J).lastProp=K,Q?C1(J,K,$):(J.stopAnimation(),J.attr(K))}function wp0($,Q){if(y0($)&&y0(Q)){var J=!0;return S(Q,function(K,Y){J=J&&wp0($[Y],K)}),!!J}else return $===Q}function Gp0($,Q){$[Q.get(["label","show"])?"show":"hide"]()}function R60($){return{x:$.x||0,y:$.y||0,rotation:$.rotation||0}}function Op0($,Q,J){var K=Q.get("z"),Y=Q.get("zlevel");$&&$.traverse(function(Z){if(Z.type!=="group")K!=null&&(Z.z=K),Y!=null&&(Z.zlevel=Y),Z.silent=J})}var KH,Vp0,V60,Eh1,vA;var nI=h(()=>{l();a0();mT();CK();l0();KH=o0(),Vp0=m0,V60=P0,Eh1=function(){function $(){this._dragging=!1,this.animationThreshold=15}return $.prototype.render=function(Q,J,K,Y){var Z=J.get("value"),q=J.get("status");if(this._axisModel=Q,this._axisPointerModel=J,this._api=K,!Y&&this._lastValue===Z&&this._lastStatus===q)return;this._lastValue=Z,this._lastStatus=q;var X=this._group,W=this._handle;if(!q||q==="hide"){X&&X.hide(),W&&W.hide();return}X&&X.show(),W&&W.show();var F={};this.makeElOption(F,Z,Q,J,K);var H=F.graphicKey;if(H!==this._lastGraphicKey)this.clear(K);this._lastGraphicKey=H;var B=this._moveAnimation=this.determineAnimation(Q,J);if(!X)X=this._group=new b0,this.createPointerEl(X,F,Q,J),this.createLabelEl(X,F,Q,J),K.getZr().add(X);else{var z=K1(Rp0,J,B);this.updatePointerEl(X,F,z),this.updateLabelEl(X,F,z,J)}Op0(X,J,!0),this._renderHandle(Z)},$.prototype.remove=function(Q){this.clear(Q)},$.prototype.dispose=function(Q){this.clear(Q)},$.prototype.determineAnimation=function(Q,J){var K=J.get("animation"),Y=Q.axis,Z=Y.type==="category",q=J.get("snap");if(!q&&!Z)return!1;if(K==="auto"||K==null){var X=this.animationThreshold;if(Z&&Y.getBandWidth()>X)return!0;if(q){var W=mf(Q).seriesDataCount,F=Y.getExtent();return Math.abs(F[0]-F[1])/W>X}return!1}return K===!0},$.prototype.makeElOption=function(Q,J,K,Y,Z){},$.prototype.createPointerEl=function(Q,J,K,Y){var Z=J.pointer;if(Z){var q=KH(Q).pointerEl=new G1[Z.type](Vp0(J.pointer));Q.add(q)}},$.prototype.createLabelEl=function(Q,J,K,Y){if(J.label){var Z=KH(Q).labelEl=new j1(Vp0(J.label));Q.add(Z),Gp0(Z,Y)}},$.prototype.updatePointerEl=function(Q,J,K){var Y=KH(Q).pointerEl;if(Y&&J.pointer)Y.setStyle(J.pointer.style),K(Y,{shape:J.pointer.shape})},$.prototype.updateLabelEl=function(Q,J,K,Y){var Z=KH(Q).labelEl;if(Z)Z.setStyle(J.label.style),K(Z,{x:J.label.x,y:J.label.y}),Gp0(Z,Y)},$.prototype._renderHandle=function(Q){if(this._dragging||!this.updateHandleTransform)return;var J=this._axisPointerModel,K=this._api.getZr(),Y=this._handle,Z=J.getModel("handle"),q=J.get("status");if(!Z.get("show")||!q||q==="hide"){Y&&K.remove(Y),this._handle=null;return}var X;if(!this._handle)X=!0,Y=this._handle=DZ(Z.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(F){L9(F.event)},onmousedown:V60(this._onHandleDragMove,this,0,0),drift:V60(this._onHandleDragMove,this),ondragend:V60(this._onHandleDragEnd,this)}),K.add(Y);Op0(Y,J,!1),Y.setStyle(Z.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var W=Z.get("size");if(!Z0(W))W=[W,W];Y.scaleX=W[0]/2,Y.scaleY=W[1]/2,o$(this,"_doDispatchAxisPointer",Z.get("throttle")||0,"fixRate"),this._moveHandleToValue(Q,X)},$.prototype._moveHandleToValue=function(Q,J){Rp0(this._axisPointerModel,!J&&this._moveAnimation,this._handle,R60(this.getHandleTransform(Q,this._axisModel,this._axisPointerModel)))},$.prototype._onHandleDragMove=function(Q,J){var K=this._handle;if(!K)return;this._dragging=!0;var Y=this.updateHandleTransform(R60(K),[Q,J],this._axisModel,this._axisPointerModel);this._payloadInfo=Y,K.stopAnimation(),K.attr(R60(Y)),KH(K).lastProp=null,this._doDispatchAxisPointer()},$.prototype._doDispatchAxisPointer=function(){var Q=this._handle;if(!Q)return;var J=this._payloadInfo,K=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:J.cursorPoint[0],y:J.cursorPoint[1],tooltipOption:J.tooltipOption,axesInfo:[{axisDim:K.axis.dim,axisIndex:K.componentIndex}]})},$.prototype._onHandleDragEnd=function(){this._dragging=!1;var Q=this._handle;if(!Q)return;var J=this._axisPointerModel.get("value");this._moveHandleToValue(J),this._api.dispatchAction({type:"hideTip"})},$.prototype.clear=function(Q){this._lastValue=null,this._lastStatus=null;var J=Q.getZr(),K=this._group,Y=this._handle;if(J&&K)this._lastGraphicKey=null,K&&J.remove(K),Y&&J.remove(Y),this._group=null,this._handle=null,this._payloadInfo=null;hZ(this,"_doDispatchAxisPointer")},$.prototype.doClear=function(){},$.prototype.buildLabel=function(Q,J,K){return K=K||0,{x:Q[K],y:Q[1-K],width:J[K],height:J[1-K]}},$}();vA=Eh1});function SA($){var Q=$.get("type"),J=$.getModel(Q+"Style"),K;if(Q==="line")K=J.getLineStyle(),K.fill=null;else if(Q==="shadow")K=J.getAreaStyle(),K.stroke=null;return K}function G60($,Q,J,K,Y){var Z=J.get("value"),q=O60(Z,Q.axis,Q.ecModel,J.get("seriesDataIndices"),{precision:J.get(["label","precision"]),formatter:J.get(["label","formatter"])}),X=J.getModel("label"),W=cK(X.get("padding")||0),F=X.getFont(),H=bX(q,F),B=Y.position,z=H.width+W[1]+W[3],A=H.height+W[0]+W[2],R=Y.align;R==="right"&&(B[0]-=z),R==="center"&&(B[0]-=z/2);var G=Y.verticalAlign;G==="bottom"&&(B[1]-=A),G==="middle"&&(B[1]-=A/2),Lh1(B,z,A,K);var O=X.get("backgroundColor");if(!O||O==="auto")O=Q.get(["axisLine","lineStyle","color"]);$.label={x:B[0],y:B[1],style:A5(X,{text:q,font:F,fill:X.getTextColor(),padding:W,backgroundColor:O}),z2:10}}function Lh1($,Q,J,K){var Y=K.getWidth(),Z=K.getHeight();$[0]=Math.min($[0]+Q,Y)-Q,$[1]=Math.min($[1]+J,Z)-J,$[0]=Math.max($[0],0),$[1]=Math.max($[1],0)}function O60($,Q,J,K,Y){$=Q.scale.parse($);var Z=Q.scale.getLabel({value:$},{precision:Y.precision}),q=Y.formatter;if(q){var X={value:sz(Q,{value:$}),axisDimension:Q.dim,axisIndex:Q.index,seriesData:[]};if(S(K,function(W){var F=J.getSeriesByIndex(W.seriesIndex),H=W.dataIndexInside,B=F&&F.getDataParams(H);B&&X.seriesData.push(B)}),R0(q))Z=q.replace("{value}",Z);else if(I0(q))Z=q(X)}return Z}function HD($,Q,J){var K=V6();return V4(K,K,J.rotation),s8(K,K,J.position),e8([$.dataToCoord(Q),(J.labelOffset||0)+(J.labelDirection||1)*(J.labelMargin||0)],K)}function lI($,Q,J,K,Y,Z){var q=J4.innerTextLayout(J.rotation,0,J.labelDirection);J.labelMargin=Y.get(["label","margin"]),G60(Q,K,Y,Z,{position:HD(K.axis,$,J),align:q.textAlign,verticalAlign:q.textVerticalAlign})}function _A($,Q,J){return J=J||0,{x1:$[J],y1:$[1-J],x2:Q[J],y2:Q[1-J]}}function rI($,Q,J){return J=J||0,{x:$[J],y:$[1-J],width:Q[J],height:Q[1-J]}}function w60($,Q,J,K,Y,Z){return{cx:$,cy:Q,r0:J,r:K,startAngle:Y,endAngle:Z,clockwise:!0}}var ND=h(()=>{l();a0();l4();P4();M3();eK();g5()});function Tp0($,Q){var J={};return J[Q.dim+"AxisIndex"]=Q.index,$.getCartesian(J)}function Dp0($){return $.dim==="x"?0:1}var hh1,vh1,Cp0;var Pp0=h(()=>{H0();nI();ND();J00();hh1=function($){c(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.makeElOption=function(J,K,Y,Z,q){var X=Y.axis,W=X.grid,F=Z.get("type"),H=Tp0(W,X).getOtherAxis(X).getGlobalExtent(),B=X.toGlobalCoord(X.dataToCoord(K,!0));if(F&&F!=="none"){var z=SA(Z),A=vh1[F](X,B,H);A.style=z,J.graphicKey=A.type,J.pointer=A}var R=uT(W.getRect(),Y);lI(K,J,R,Y,Z,q)},Q.prototype.getHandleTransform=function(J,K,Y){var Z=uT(K.axis.grid.getRect(),K,{labelInside:!1});Z.labelMargin=Y.get(["handle","margin"]);var q=HD(K.axis,J,Z);return{x:q[0],y:q[1],rotation:Z.rotation+(Z.labelDirection<0?Math.PI:0)}},Q.prototype.updateHandleTransform=function(J,K,Y,Z){var q=Y.axis,X=q.grid,W=q.getGlobalExtent(!0),F=Tp0(X,q).getOtherAxis(q).getGlobalExtent(),H=q.dim==="x"?0:1,B=[J.x,J.y];B[H]+=K[H],B[H]=Math.min(W[1],B[H]),B[H]=Math.max(W[0],B[H]);var z=(F[1]+F[0])/2,A=[z,z];A[H]=B[H];var R=[{verticalAlign:"middle"},{align:"center"}];return{x:B[0],y:B[1],rotation:J.rotation,cursorPoint:A,tooltipOption:R[H]}},Q}(vA);vh1={line:function($,Q,J){var K=_A([Q,J[0]],[Q,J[1]],Dp0($));return{type:"Line",subPixelOptimize:!0,shape:K}},shadow:function($,Q,J){var K=Math.max(1,$.getBandWidth()),Y=J[1]-J[0];return{type:"Rect",shape:rI([Q-K/2,J[0]],[K,Y],Dp0($))}}};Cp0=hh1});var Sh1,kp0;var jp0=h(()=>{H0();_6();y1();Sh1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="axisPointer",Q.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:e.color.border,width:1,type:"dashed"},shadowStyle:{color:e.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:e.color.neutral00,padding:[5,7,5,7],backgroundColor:e.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:e.color.accent40,throttle:40}},Q}(O1),kp0=Sh1});function sI($,Q,J){if(M1.node)return;var K=Q.getZr();dZ(K).records||(dZ(K).records={}),fh1(K,Q);var Y=dZ(K).records[$]||(dZ(K).records[$]={});Y.handler=J}function fh1($,Q){if(dZ($).initialized)return;dZ($).initialized=!0,J("click",K1(Ep0,"click")),J("mousemove",K1(Ep0,"mousemove")),J("globalout",Mh1);function J(K,Y){$.on(K,function(Z){var q=bh1(Q);_h1(dZ($).records,function(X){X&&Y(X,Z,q.dispatchAction)}),Ih1(q.pendings,Q)})}}function Ih1($,Q){var J=$.showTip.length,K=$.hideTip.length,Y;if(J)Y=$.showTip[J-1];else if(K)Y=$.hideTip[K-1];if(Y)Y.dispatchAction=null,Q.dispatchAction(Y)}function Mh1($,Q,J){$.handler("leave",null,J)}function Ep0($,Q,J,K){Q.handler($,J,K)}function bh1($){var Q={showTip:[],hideTip:[]},J=function(K){var Y=Q[K.type];if(Y)Y.push(K);else K.dispatchAction=J,$.dispatchAction(K)};return{dispatchAction:J,pendings:Q}}function BD($,Q){if(M1.node)return;var J=Q.getZr(),K=(dZ(J).records||{})[$];if(K)dZ(J).records[$]=null}var dZ,_h1;var T60=h(()=>{l();t7();l0();dZ=o0(),_h1=S});var gh1,hp0;var vp0=h(()=>{H0();T60();a6();gh1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){var Z=K.getComponent("tooltip"),q=J.get("triggerOn")||Z&&Z.get("triggerOn")||"mousemove|click";sI("axisPointer",Y,function(X,W,F){if(q!=="none"&&(X==="leave"||q.indexOf(X)>=0))F({type:"updateAxisPointer",currTrigger:X,x:W&&W.offsetX,y:W&&W.offsetY})})},Q.prototype.remove=function(J,K){BD("axisPointer",K)},Q.prototype.dispose=function(J,K){BD("axisPointer",K)},Q.type="axisPointer",Q}(a1),hp0=gh1});function zD($,Q){var J=[],K=$.seriesIndex,Y;if(K==null||!(Y=Q.getSeriesByIndex(K)))return{point:[]};var Z=Y.getData(),q=y$(Z,$);if(q==null||q<0||Z0(q))return{point:[]};var X=Z.getItemGraphicEl(q),W=Y.coordinateSystem;if(Y.getTooltipPosition)J=Y.getTooltipPosition(q)||[];else if(W&&W.dataToPoint)if($.isStacked){var F=W.getBaseAxis(),H=W.getOtherAxis(F),B=H.dim,z=F.dim,A=B==="x"||B==="radius"?1:0,R=Z.mapDimension(z),G=[];G[A]=Z.get(R,q),G[1-A]=Z.get(Z.getCalculationInfo("stackResultDimension"),q),J=W.dataToPoint(G)||[]}else J=W.dataToPoint(Z.getValues(q0(W.dimensions,function(T){return Z.mapDimension(T)}),q))||[];else if(X){var O=X.getBoundingRect().clone();O.applyTransform(X.transform),J=[O.x+O.width/2,O.y+O.height/2]}return{point:J,el:X}}var D60=h(()=>{l();l0()});function C60($,Q,J){var K=$.currTrigger,Y=[$.x,$.y],Z=$,q=$.dispatchAction||P0(J.dispatchAction,J),X=Q.getComponent("axisPointer").coordSysAxesInfo;if(!X)return;if(oI(Y))Y=zD({seriesIndex:Z.seriesIndex,dataIndex:Z.dataIndex},Q).point;var W=oI(Y),F=Z.axesInfo,H=X.axesInfo,B=K==="leave"||oI(Y),z={},A={},R={list:[],map:{}},G={showPointer:K1(xh1,A),showTooltip:K1(ch1,R)};S(X.coordSysMap,function(T,D){var P=W||T.containPoint(Y);S(X.coordSysAxesInfo[D],function(j,E){var L=j.axis,v=dh1(F,j);if(!B&&P&&(!F||v)){var f=v&&v.value;if(f==null&&!W)f=L.pointToData(Y);f!=null&&_p0(j,f,G,!1,z)}})});var O={};return S(H,function(T,D){var P=T.linkGroup;if(P&&!A[D])S(P.axesInfo,function(j,E){var L=A[E];if(j!==T&&L){var v=L.value;P.mapper&&(v=T.axis.scale.parse(P.mapper(v,fp0(j),fp0(T)))),O[T.key]=v}})}),S(O,function(T,D){_p0(H[D],T,G,!0,z)}),uh1(A,H,z),mh1(R,Y,$,q),ph1(H,q,J),z}function _p0($,Q,J,K,Y){var Z=$.axis;if(Z.scale.isBlank()||!Z.containData(Q))return;if(!$.involveSeries){J.showPointer($,Q);return}var q=yh1(Q,$),X=q.payloadBatch,W=q.snapToValue;if(X[0]&&Y.seriesIndex==null)Y0(Y,X[0]);if(!K&&$.snap){if(Z.containData(W)&&W!=null)Q=W}J.showPointer($,Q,X),J.showTooltip($,q,W)}function yh1($,Q){var J=Q.axis,K=J.dim,Y=$,Z=[],q=Number.MAX_VALUE,X=-1;return S(Q.seriesModels,function(W,F){var H=W.getData().mapDimensionsAll(K),B,z;if(W.getAxisTooltipData){var A=W.getAxisTooltipData(H,$,J);z=A.dataIndices,B=A.nestestValue}else{if(z=W.indicesOfNearest(K,H[0],$,J.type==="category"?0.5:null),!z.length)return;B=W.getData().get(H[0],z[0])}if(B==null||!isFinite(B))return;var R=$-B,G=Math.abs(R);if(G<=q){if(G<q||R>=0&&X<0)q=G,X=R,Y=B,Z.length=0;S(z,function(O){Z.push({seriesIndex:W.seriesIndex,dataIndexInside:O,dataIndex:W.getData().getRawIndex(O)})})}}),{payloadBatch:Z,snapToValue:Y}}function xh1($,Q,J,K){$[Q.key]={value:J,payloadBatch:K}}function ch1($,Q,J,K){var Y=J.payloadBatch,Z=Q.axis,q=Z.model,X=Q.axisPointerModel;if(!Q.triggerTooltip||!Y.length)return;var W=Q.coordSys.model,F=UA(W),H=$.map[F];if(!H)H=$.map[F]={coordSysId:W.id,coordSysIndex:W.componentIndex,coordSysType:W.type,coordSysMainType:W.mainType,dataByAxis:[]},$.list.push(H);H.dataByAxis.push({axisDim:Z.dim,axisIndex:q.componentIndex,axisType:q.type,axisId:q.id,value:K,valueLabelOpt:{precision:X.get(["label","precision"]),formatter:X.get(["label","formatter"])},seriesDataIndices:Y.slice()})}function uh1($,Q,J){var K=J.axesInfo=[];S(Q,function(Y,Z){var q=Y.axisPointerModel.option,X=$[Z];if(X)!Y.useHandle&&(q.status="show"),q.value=X.value,q.seriesDataIndices=(X.payloadBatch||[]).slice();else!Y.useHandle&&(q.status="hide");q.status==="show"&&K.push({axisDim:Y.axis.dim,axisIndex:Y.axis.model.componentIndex,value:q.value})})}function mh1($,Q,J,K){if(oI(Q)||!$.list.length){K({type:"hideTip"});return}var Y=(($.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};K({type:"showTip",escapeConnect:!0,x:Q[0],y:Q[1],tooltipOption:J.tooltipOption,position:J.position,dataIndexInside:Y.dataIndexInside,dataIndex:Y.dataIndex,seriesIndex:Y.seriesIndex,dataByCoordSys:$.list})}function ph1($,Q,J){var K=J.getZr(),Y="axisPointerLastHighlights",Z=Sp0(K)[Y]||{},q=Sp0(K)[Y]={};S($,function(F,H){var B=F.axisPointerModel.option;B.status==="show"&&F.triggerEmphasis&&S(B.seriesDataIndices,function(z){var A=z.seriesIndex+" | "+z.dataIndex;q[A]=z})});var X=[],W=[];S(Z,function(F,H){!q[H]&&W.push(F)}),S(q,function(F,H){!Z[H]&&X.push(F)}),W.length&&J.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:W}),X.length&&J.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:X})}function dh1($,Q){for(var J=0;J<($||[]).length;J++){var K=$[J];if(Q.axis.dim===K.axisDim&&Q.axis.model.componentIndex===K.axisIndex)return K}}function fp0($){var Q=$.axis.model,J={},K=J.axisDim=$.axis.dim;return J.axisIndex=J[K+"AxisIndex"]=Q.componentIndex,J.axisName=J[K+"AxisName"]=Q.name,J.axisId=J[K+"AxisId"]=Q.id,J}function oI($){return!$||$[0]==null||isNaN($[0])||$[1]==null||isNaN($[1])}var Sp0;var Ip0=h(()=>{l0();mT();D60();l();Sp0=o0()});function VJ($){i9.registerAxisPointerClass("CartesianAxisPointer",Cp0),$.registerComponentModel(kp0),$.registerComponentView(hp0),$.registerPreprocessor(function(Q){if(Q){(!Q.axisPointer||Q.axisPointer.length===0)&&(Q.axisPointer={});var J=Q.axisPointer.link;if(J&&!Z0(J))Q.axisPointer.link=[J]}}),$.registerProcessor($.PRIORITY.PROCESSOR.STATISTIC,function(Q,J){Q.getComponent("axisPointer").coordSysAxesInfo=Pb0(Q,J)}),$.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},C60)}var fA=h(()=>{z2();Pp0();jp0();vp0();l();mT();Ip0()});function P60($){T1(nf),T1(VJ)}var Mp0=h(()=>{A00();fA();E4()});function lh1($,Q,J,K,Y){var Z=Q.axis,q=Z.dataToCoord($),X=K.getAngleAxis().getExtent()[0];X=X/180*Math.PI;var W=K.getRadiusAxis().getExtent(),F,H,B;if(Z.dim==="radius"){var z=V6();V4(z,z,X),s8(z,z,[K.cx,K.cy]),F=e8([q,-Y],z);var A=Q.getModel("axisLabel").get("rotate")||0,R=J4.innerTextLayout(X,A*Math.PI/180,-1);H=R.textAlign,B=R.textVerticalAlign}else{var G=W[1];F=K.coordToPoint([G+Y,q]);var{cx:O,cy:T}=K;H=Math.abs(F[0]-O)/G<0.3?"center":F[0]>O?"left":"right",B=Math.abs(F[1]-T)/G<0.3?"middle":F[1]>T?"top":"bottom"}return{position:F,align:H,verticalAlign:B}}var nh1,rh1,bp0;var gp0=h(()=>{H0();nI();a0();ND();eK();nh1=function($){c(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.makeElOption=function(J,K,Y,Z,q){var X=Y.axis;if(X.dim==="angle")this.animationThreshold=Math.PI/18;var W=X.polar,F=W.getOtherAxis(X),H=F.getExtent(),B=X.dataToCoord(K),z=Z.get("type");if(z&&z!=="none"){var A=SA(Z),R=rh1[z](X,W,B,H);R.style=A,J.graphicKey=R.type,J.pointer=R}var G=Z.get(["label","margin"]),O=lh1(K,Y,Z,W,G);G60(J,Y,Z,q,O)},Q}(vA);rh1={line:function($,Q,J,K){return $.dim==="angle"?{type:"Line",shape:_A(Q.coordToPoint([K[0],J]),Q.coordToPoint([K[1],J]))}:{type:"Circle",shape:{cx:Q.cx,cy:Q.cy,r:J}}},shadow:function($,Q,J,K){var Y=Math.max(1,$.getBandWidth()),Z=Math.PI/180;return $.dim==="angle"?{type:"Sector",shape:w60(Q.cx,Q.cy,K[0],K[1],(-J-Y/2)*Z,(-J+Y/2)*Z)}:{type:"Sector",shape:w60(Q.cx,Q.cy,J-Y/2,J+Y/2,0,Math.PI*2)}}},bp0=nh1});var ih1,yp0;var xp0=h(()=>{H0();_6();ih1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.findAxisModel=function(J){var K,Y=this.ecModel;return Y.eachComponent(J,function(Z){if(Z.getCoordSysModel()===this)K=Z},this),K},Q.type="polar",Q.dependencies=["radiusAxis","angleAxis"],Q.defaultOption={z:0,center:["50%","50%"],radius:"80%"},Q}(O1),yp0=ih1});var k60,cp0,up0;var mp0=h(()=>{H0();l();_6();az();l0();k60=function($){c(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",L5).models[0]},Q.type="polarAxis",Q}(O1);n5(k60,rK);cp0=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="angleAxis",Q}(k60),up0=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="radiusAxis",Q}(k60)});var j60,pp0;var dp0=h(()=>{H0();W2();j60=function($){c(Q,$);function Q(J,K){return $.call(this,"radius",J,K)||this}return Q.prototype.pointToData=function(J,K){return this.polar.pointToData(J,K)[this.dim==="radius"?0:1]},Q}(I8);j60.prototype.dataToRadius=I8.prototype.dataToCoord;j60.prototype.radiusToData=I8.prototype.coordToData;pp0=j60});var sh1,E60,np0;var lp0=h(()=>{H0();l4();W2();l0();sh1=o0(),E60=function($){c(Q,$);function Q(J,K){return $.call(this,"angle",J,K||[0,360])||this}return Q.prototype.pointToData=function(J,K){return this.polar.pointToData(J,K)[this.dim==="radius"?0:1]},Q.prototype.calculateCategoryInterval=function(){var J=this,K=J.getLabelModel(),Y=J.scale,Z=Y.getExtent(),q=Y.count();if(Z[1]-Z[0]<1)return 0;var X=Z[0],W=J.dataToCoord(X+1)-J.dataToCoord(X),F=Math.abs(W),H=bX(X==null?"":X+"",K.getFont(),"center","top"),B=Math.max(H.height,7),z=B/F;isNaN(z)&&(z=1/0);var A=Math.max(0,Math.floor(z)),R=sh1(J.model),G=R.lastAutoInterval,O=R.lastTickCount;if(G!=null&&O!=null&&Math.abs(G-A)<=1&&Math.abs(O-q)<=1&&G>A)A=G;else R.lastTickCount=q,R.lastAutoInterval=A;return A},Q}(I8);E60.prototype.dataToAngle=I8.prototype.dataToCoord;E60.prototype.angleToData=I8.prototype.coordToData;np0=E60});function rp0($){var{seriesModel:Q,polarModel:J}=$;return J&&J.coordinateSystem||Q&&Q.coordinateSystem}var L60,oh1,ip0;var sp0=h(()=>{dp0();lp0();L60=["radius","angle"],oh1=function(){function $(Q){this.dimensions=L60,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new pp0,this._angleAxis=new np0,this.axisPointerEnabled=!0,this.name=Q||"",this._radiusAxis.polar=this._angleAxis.polar=this}return $.prototype.containPoint=function(Q){var J=this.pointToCoord(Q);return this._radiusAxis.contain(J[0])&&this._angleAxis.contain(J[1])},$.prototype.containData=function(Q){return this._radiusAxis.containData(Q[0])&&this._angleAxis.containData(Q[1])},$.prototype.getAxis=function(Q){var J="_"+Q+"Axis";return this[J]},$.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},$.prototype.getAxesByScale=function(Q){var J=[],K=this._angleAxis,Y=this._radiusAxis;return K.scale.type===Q&&J.push(K),Y.scale.type===Q&&J.push(Y),J},$.prototype.getAngleAxis=function(){return this._angleAxis},$.prototype.getRadiusAxis=function(){return this._radiusAxis},$.prototype.getOtherAxis=function(Q){var J=this._angleAxis;return Q===J?this._radiusAxis:J},$.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},$.prototype.getTooltipAxes=function(Q){var J=Q!=null&&Q!=="auto"?this.getAxis(Q):this.getBaseAxis();return{baseAxes:[J],otherAxes:[this.getOtherAxis(J)]}},$.prototype.dataToPoint=function(Q,J,K){return this.coordToPoint([this._radiusAxis.dataToRadius(Q[0],J),this._angleAxis.dataToAngle(Q[1],J)],K)},$.prototype.pointToData=function(Q,J,K){K=K||[];var Y=this.pointToCoord(Q);return K[0]=this._radiusAxis.radiusToData(Y[0],J),K[1]=this._angleAxis.angleToData(Y[1],J),K},$.prototype.pointToCoord=function(Q){var J=Q[0]-this.cx,K=Q[1]-this.cy,Y=this.getAngleAxis(),Z=Y.getExtent(),q=Math.min(Z[0],Z[1]),X=Math.max(Z[0],Z[1]);Y.inverse?q=X-360:X=q+360;var W=Math.sqrt(J*J+K*K);J/=W,K/=W;var F=Math.atan2(-K,J)/Math.PI*180,H=F<q?1:-1;while(F<q||F>X)F+=H*360;return[W,F]},$.prototype.coordToPoint=function(Q,J){J=J||[];var K=Q[0],Y=Q[1]/180*Math.PI;return J[0]=Math.cos(Y)*K+this.cx,J[1]=-Math.sin(Y)*K+this.cy,J},$.prototype.getArea=function(){var Q=this.getAngleAxis(),J=this.getRadiusAxis(),K=J.getExtent().slice();K[0]>K[1]&&K.reverse();var Y=Q.getExtent(),Z=Math.PI/180,q=0.0001;return{cx:this.cx,cy:this.cy,r0:K[0],r:K[1],startAngle:-Y[0]*Z,endAngle:-Y[1]*Z,clockwise:Q.inverse,contain:function(X,W){var F=X-this.cx,H=W-this.cy,B=F*F+H*H,z=this.r,A=this.r0;return z!==A&&B-q<=z*z&&B+q>=A*A},x:this.cx-K[1],y:this.cy-K[1],width:K[1]*2,height:K[1]*2}},$.prototype.convertToPixel=function(Q,J,K){var Y=rp0(J);return Y===this?this.dataToPoint(K):null},$.prototype.convertFromPixel=function(Q,J,K){var Y=rp0(J);return Y===this?this.pointToData(K):null},$}();ip0=oh1});function ah1($,Q,J){var K=Q.get("center"),Y=_5(Q,J).refContainer;$.cx=f0(K[0],Y.width)+Y.x,$.cy=f0(K[1],Y.height)+Y.y;var Z=$.getRadiusAxis(),q=Math.min(Y.width,Y.height)/2,X=Q.get("radius");if(X==null)X=[0,"100%"];else if(!Z0(X))X=[0,X];var W=[f0(X[0],q),f0(X[1],q)];Z.inverse?Z.setExtent(W[1],W[0]):Z.setExtent(W[0],W[1])}function th1($,Q){var J=this,K=J.getAngleAxis(),Y=J.getRadiusAxis();if(K.scale.setExtent(1/0,-1/0),Y.scale.setExtent(1/0,-1/0),$.eachSeries(function(X){if(X.coordinateSystem===J){var W=X.getData();S(oz(W,"radius"),function(F){Y.scale.unionExtentFromData(W,F)}),S(oz(W,"angle"),function(F){K.scale.unionExtentFromData(W,F)})}}),lK(K.scale,K.model),lK(Y.scale,Y.model),K.type==="category"&&!K.onBand){var Z=K.getExtent(),q=360/K.scale.count();K.inverse?Z[1]+=q:Z[1]-=q,K.setExtent(Z[0],Z[1])}}function eh1($){return $.mainType==="angleAxis"}function op0($,Q){var J;if($.type=Q.get("type"),$.scale=Z2(Q),$.onBand=Q.get("boundaryGap")&&$.type==="category",$.inverse=Q.get("inverse"),eh1(Q)){$.inverse=$.inverse!==Q.get("clockwise");var K=Q.get("startAngle"),Y=(J=Q.get("endAngle"))!==null&&J!==void 0?J:K+($.inverse?-360:360);$.setExtent(K,Y)}Q.axis=$,$.model=Q}var $v1,ap0;var tp0=h(()=>{l();sp0();k1();M3();l0();l5();$v1={dimensions:L60,create:function($,Q){var J=[];return $.eachComponent("polar",function(K,Y){var Z=new ip0(Y+"");Z.update=th1;var q=Z.getRadiusAxis(),X=Z.getAngleAxis(),W=K.findAxisModel("radiusAxis"),F=K.findAxisModel("angleAxis");op0(q,W),op0(X,F),ah1(Z,K,Q),J.push(Z),K.coordinateSystem=Z,Z.model=K}),$.eachSeries(function(K){if(K.get("coordinateSystem")==="polar"){var Y=K.getReferringComponents("polar",L5).models[0];if(!Y)throw Error('Polar "'+J6(K.get("polarIndex"),K.get("polarId"),0)+'" not found');K.coordinateSystem=Y.coordinateSystem}}),J}},ap0=$v1});function aI($,Q,J){Q[1]>Q[0]&&(Q=Q.slice().reverse());var K=$.coordToPoint([Q[0],J]),Y=$.coordToPoint([Q[1],J]);return{x1:K[0],y1:K[1],x2:Y[0],y2:Y[1]}}function tI($){var Q=$.getRadiusAxis();return Q.inverse?0:1}function ep0($){var Q=$[0],J=$[$.length-1];if(Q&&J&&Math.abs(Math.abs(Q.coord-J.coord)-360)<0.0001)$.pop()}var Qv1,Jv1,Kv1,$d0;var Qd0=h(()=>{H0();l();a0();g5();K7();z2();eK();o5();Qv1=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];Jv1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.axisPointerClass="PolarAxisPointer",J}return Q.prototype.render=function(J,K){if(this.group.removeAll(),!J.get("show"))return;var Y=J.axis,Z=Y.polar,q=Z.getRadiusAxis().getExtent(),X=Y.getTicksCoords({breakTicks:"none"}),W=Y.getMinorTicksCoords(),F=q0(Y.getViewLabels(),function(H){H=m0(H);var B=Y.scale,z=B.type==="ordinal"?B.getRawOrdinalNumber(H.tickValue):H.tickValue;return H.coord=Y.dataToCoord(z),H});ep0(F),ep0(X),S(Qv1,function(H){if(J.get([H,"show"])&&(!Y.scale.isBlank()||H==="axisLine"))Kv1[H](this.group,J,Z,X,W,q,F)},this)},Q.type="angleAxis",Q}(i9),Kv1={axisLine:function($,Q,J,K,Y,Z){var q=Q.getModel(["axisLine","lineStyle"]),X=J.getAngleAxis(),W=Math.PI/180,F=X.getExtent(),H=tI(J),B=H?0:1,z,A=Math.abs(F[1]-F[0])===360?"Circle":"Arc";if(Z[B]===0)z=new G1[A]({shape:{cx:J.cx,cy:J.cy,r:Z[H],startAngle:-F[0]*W,endAngle:-F[1]*W,clockwise:X.inverse},style:q.getLineStyle(),z2:1,silent:!0});else z=new WU({shape:{cx:J.cx,cy:J.cy,r:Z[H],r0:Z[B]},style:q.getLineStyle(),z2:1,silent:!0});z.style.fill=null,$.add(z)},axisTick:function($,Q,J,K,Y,Z){var q=Q.getModel("axisTick"),X=(q.get("inside")?-1:1)*q.get("length"),W=Z[tI(J)],F=q0(K,function(H){return new X6({shape:aI(J,[W,W+X],H.coord)})});$.add(T4(F,{style:c0(q.getModel("lineStyle").getLineStyle(),{stroke:Q.get(["axisLine","lineStyle","color"])})}))},minorTick:function($,Q,J,K,Y,Z){if(!Y.length)return;var q=Q.getModel("axisTick"),X=Q.getModel("minorTick"),W=(q.get("inside")?-1:1)*X.get("length"),F=Z[tI(J)],H=[];for(var B=0;B<Y.length;B++)for(var z=0;z<Y[B].length;z++)H.push(new X6({shape:aI(J,[F,F+W],Y[B][z].coord)}));$.add(T4(H,{style:c0(X.getModel("lineStyle").getLineStyle(),c0(q.getLineStyle(),{stroke:Q.get(["axisLine","lineStyle","color"])}))}))},axisLabel:function($,Q,J,K,Y,Z,q){var X=Q.getCategories(!0),W=Q.getModel("axisLabel"),F=W.get("margin"),H=Q.get("triggerEvent");S(q,function(B,z){var A=W,R=B.tickValue,G=Z[tI(J)],O=J.coordToPoint([G+F,B.coord]),T=J.cx,D=J.cy,P=Math.abs(O[0]-T)/G<0.3?"center":O[0]>T?"left":"right",j=Math.abs(O[1]-D)/G<0.3?"middle":O[1]>D?"top":"bottom";if(X&&X[R]){var E=X[R];if(y0(E)&&E.textStyle)A=new h1(E.textStyle,W,W.ecModel)}var L=new j1({silent:J4.isLabelSilent(Q),style:A5(A,{x:O[0],y:O[1],fill:A.getTextColor()||Q.get(["axisLine","lineStyle","color"]),text:B.formattedLabel,align:P,verticalAlign:j})});if($.add(L),D4({el:L,componentModel:Q,itemName:B.formattedLabel,formatterParamsExtra:{isTruncated:function(){return L.isTruncated},value:B.rawLabel,tickIndex:z}}),H){var v=J4.makeAxisEventDataBase(Q);v.targetType="axisLabel",v.value=B.rawLabel,r0(L).eventData=v}},this)},splitLine:function($,Q,J,K,Y,Z){var q=Q.getModel("splitLine"),X=q.getModel("lineStyle"),W=X.get("color"),F=0;W=W instanceof Array?W:[W];var H=[];for(var B=0;B<K.length;B++){var z=F++%W.length;H[z]=H[z]||[],H[z].push(new X6({shape:aI(J,Z,K[B].coord)}))}for(var B=0;B<H.length;B++)$.add(T4(H[B],{style:c0({stroke:W[B%W.length]},X.getLineStyle()),silent:!0,z:Q.get("z")}))},minorSplitLine:function($,Q,J,K,Y,Z){if(!Y.length)return;var q=Q.getModel("minorSplitLine"),X=q.getModel("lineStyle"),W=[];for(var F=0;F<Y.length;F++)for(var H=0;H<Y[F].length;H++)W.push(new X6({shape:aI(J,Z,Y[F][H].coord)}));$.add(T4(W,{style:X.getLineStyle(),silent:!0,z:Q.get("z")}))},splitArea:function($,Q,J,K,Y,Z){if(!K.length)return;var q=Q.getModel("splitArea"),X=q.getModel("areaStyle"),W=X.get("color"),F=0;W=W instanceof Array?W:[W];var H=[],B=Math.PI/180,z=-K[0].coord*B,A=Math.min(Z[0],Z[1]),R=Math.max(Z[0],Z[1]),G=Q.get("clockwise");for(var O=1,T=K.length;O<=T;O++){var D=O===T?K[0].coord:K[O].coord,P=F++%W.length;H[P]=H[P]||[],H[P].push(new J7({shape:{cx:J.cx,cy:J.cy,r0:A,r:R,startAngle:z,endAngle:-D*B,clockwise:G},silent:!0})),z=-D*B}for(var O=0;O<H.length;O++)$.add(T4(H[O],{style:c0({fill:W[O%W.length]},X.getAreaStyle()),silent:!0}))}},$d0=Jv1});function Xv1($,Q,J){return{position:[$.cx,$.cy],rotation:J/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:Q.getModel("axisLabel").get("rotate"),z2:1}}var Yv1,Zv1,qv1,Jd0;var Kd0=h(()=>{H0();l();a0();eK();z2();Yv1=["splitLine","splitArea","minorSplitLine"],Zv1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.axisPointerClass="PolarAxisPointer",J}return Q.prototype.render=function(J,K,Y){if(this.group.removeAll(),!J.get("show"))return;var Z=this._axisGroup,q=this._axisGroup=new b0;this.group.add(q);var X=J.axis,W=X.polar,F=W.getAngleAxis(),H=X.getTicksCoords(),B=X.getMinorTicksCoords(),z=F.getExtent()[0],A=X.getExtent(),R=Xv1(W,J,z),G=new J4(J,Y,R);G.build(),q.add(G.group),TZ(Z,q,J),S(Yv1,function(O){if(J.get([O,"show"])&&!X.scale.isBlank())qv1[O](this.group,J,W,z,A,H,B)},this)},Q.type="radiusAxis",Q}(i9),qv1={splitLine:function($,Q,J,K,Y,Z){var q=Q.getModel("splitLine"),X=q.getModel("lineStyle"),W=X.get("color"),F=0,H=J.getAngleAxis(),B=Math.PI/180,z=H.getExtent(),A=Math.abs(z[1]-z[0])===360?"Circle":"Arc";W=W instanceof Array?W:[W];var R=[];for(var G=0;G<Z.length;G++){var O=F++%W.length;R[O]=R[O]||[],R[O].push(new G1[A]({shape:{cx:J.cx,cy:J.cy,r:Math.max(Z[G].coord,0),startAngle:-z[0]*B,endAngle:-z[1]*B,clockwise:H.inverse}}))}for(var G=0;G<R.length;G++)$.add(T4(R[G],{style:c0({stroke:W[G%W.length],fill:null},X.getLineStyle()),silent:!0}))},minorSplitLine:function($,Q,J,K,Y,Z,q){if(!q.length)return;var X=Q.getModel("minorSplitLine"),W=X.getModel("lineStyle"),F=[];for(var H=0;H<q.length;H++)for(var B=0;B<q[H].length;B++)F.push(new a4({shape:{cx:J.cx,cy:J.cy,r:q[H][B].coord}}));$.add(T4(F,{style:c0({fill:null},W.getLineStyle()),silent:!0}))},splitArea:function($,Q,J,K,Y,Z){if(!Z.length)return;var q=Q.getModel("splitArea"),X=q.getModel("areaStyle"),W=X.get("color"),F=0;W=W instanceof Array?W:[W];var H=[],B=Z[0].coord;for(var z=1;z<Z.length;z++){var A=F++%W.length;H[A]=H[A]||[],H[A].push(new J7({shape:{cx:J.cx,cy:J.cy,r0:B,r:Z[z].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),B=Z[z].coord}for(var z=0;z<H.length;z++)$.add(T4(H[z],{style:c0({fill:W[z%W.length]},X.getAreaStyle()),silent:!0}))}};Jd0=Zv1});function Yd0($){return $.get("stack")||"__ec_stack_"+$.seriesIndex}function Zd0($,Q){return Q.dim+$.model.componentIndex}function Wv1($,Q,J){var K={},Y=Fv1(f1(Q.getSeriesByType($),function(Z){return!Q.isSeriesFiltered(Z)&&Z.coordinateSystem&&Z.coordinateSystem.type==="polar"}));Q.eachSeriesByType($,function(Z){if(Z.coordinateSystem.type!=="polar")return;var q=Z.getData(),X=Z.coordinateSystem,W=X.getBaseAxis(),F=Zd0(X,W),H=Yd0(Z),B=Y[F][H],z=B.offset,A=B.width,R=X.getOtherAxis(W),G=Z.coordinateSystem.cx,O=Z.coordinateSystem.cy,T=Z.get("barMinHeight")||0,D=Z.get("barMinAngle")||0;K[H]=K[H]||[];var P=q.mapDimension(R.dim),j=q.mapDimension(W.dim),E=I3(q,P),L=W.dim!=="radius"||!Z.get("roundCap",!0),v=R.model,f=v.get("startValue"),_=R.dataToCoord(f||0);for(var M=0,b=q.count();M<b;M++){var x=q.get(P,M),g=q.get(j,M),m=x>=0?"p":"n",u=_;if(E){if(!K[H][g])K[H][g]={p:_,n:_};u=K[H][g][m]}var p=void 0,o=void 0,t=void 0,r=void 0;if(R.dim==="radius"){var Q0=R.dataToCoord(x)-_,F0=W.dataToCoord(g);if(Math.abs(Q0)<T)Q0=(Q0<0?-1:1)*T;p=u,o=u+Q0,t=F0-z,r=t-A,E&&(K[H][g][m]=o)}else{var W0=R.dataToCoord(x,L)-_,h0=W.dataToCoord(g);if(Math.abs(W0)<D)W0=(W0<0?-1:1)*D;p=h0+z,o=p+A,t=u,r=u+W0,E&&(K[H][g][m]=r)}q.setItemLayout(M,{cx:G,cy:O,r0:p,r:o,startAngle:-t*Math.PI/180,endAngle:-r*Math.PI/180,clockwise:t>=r})}})}function Fv1($){var Q={};S($,function(K,Y){var Z=K.getData(),q=K.coordinateSystem,X=q.getBaseAxis(),W=Zd0(q,X),F=X.getExtent(),H=X.type==="category"?X.getBandWidth():Math.abs(F[1]-F[0])/Z.count(),B=Q[W]||{bandWidth:H,remainedWidth:H,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},z=B.stacks;Q[W]=B;var A=Yd0(K);if(!z[A])B.autoWidthCount++;z[A]=z[A]||{width:0,maxWidth:0};var R=f0(K.get("barWidth"),H),G=f0(K.get("barMaxWidth"),H),O=K.get("barGap"),T=K.get("barCategoryGap");if(R&&!z[A].width)R=Math.min(B.remainedWidth,R),z[A].width=R,B.remainedWidth-=R;G&&(z[A].maxWidth=G),O!=null&&(B.gap=O),T!=null&&(B.categoryGap=T)});var J={};return S(Q,function(K,Y){J[Y]={};var{stacks:Z,bandWidth:q}=K,X=f0(K.categoryGap,q),W=f0(K.gap,1),F=K.remainedWidth,H=K.autoWidthCount,B=(F-X)/(H+(H-1)*W);B=Math.max(B,0),S(Z,function(G,O){var T=G.maxWidth;if(T&&T<B){if(T=Math.min(T,F),G.width)T=Math.min(T,G.width);F-=T,G.width=T,H--}}),B=(F-X)/(H+(H-1)*W),B=Math.max(B,0);var z=0,A;if(S(Z,function(G,O){if(!G.width)G.width=B;A=G,z+=G.width*(1+W)}),A)z-=A.width*W;var R=-z/2;S(Z,function(G,O){J[Y][O]=J[Y][O]||{offset:R,width:G.width},R+=G.width*(1+W)})}),J}var qd0;var Xd0=h(()=>{l();k1();_Z();qd0=Wv1});function h60($){T1(VJ),i9.registerAxisPointerClass("PolarAxisPointer",bp0),$.registerCoordinateSystem("polar",ap0),$.registerComponentModel(yp0),$.registerComponentView(Nv1),AJ($,"angle",cp0,Uv1),AJ($,"radius",up0,Hv1),$.registerComponentView($d0),$.registerComponentView(Jd0),$.registerLayout(K1(qd0,"bar"))}var Uv1,Hv1,Nv1;var Wd0=h(()=>{H0();E4();z2();gp0();fA();xp0();yT();mp0();tp0();Qd0();Kd0();a6();l();Xd0();Uv1={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},Hv1={splitNumber:5},Nv1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="polar",Q}(a1)});function AD($,Q){Q=Q||{};var{coordinateSystem:J,axis:K}=$,Y={},Z=K.position,q=K.orient,X=J.getRect(),W=[X.x,X.x+X.width,X.y,X.y+X.height],F={horizontal:{top:W[2],bottom:W[3]},vertical:{left:W[0],right:W[1]}};Y.position=[q==="vertical"?F.vertical[Z]:W[0],q==="horizontal"?F.horizontal[Z]:W[3]];var H={horizontal:0,vertical:1};Y.rotation=Math.PI/2*H[q];var B={top:-1,bottom:1,right:1,left:-1};if(Y.labelDirection=Y.tickDirection=Y.nameDirection=B[Z],$.get(["axisTick","inside"]))Y.tickDirection=-Y.tickDirection;if(J6(Q.labelInside,$.get(["axisLabel","inside"])))Y.labelDirection=-Y.labelDirection;var z=$.get(["axisLabel","rotate"]);return Y.labelRotate=Z==="top"?-z:z,Y.z2=1,Y}var v60=h(()=>{l()});var Bv1,zv1,Av1,Ud0;var Hd0=h(()=>{H0();l();eK();a0();v60();z2();B00();Bv1=["splitArea","splitLine","breakArea"],zv1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.axisPointerClass="SingleAxisPointer",J}return Q.prototype.render=function(J,K,Y,Z){var q=this.group;q.removeAll();var X=this._axisGroup;this._axisGroup=new b0;var W=AD(J),F=new J4(J,Y,W);F.build(),q.add(this._axisGroup),q.add(F.group),S(Bv1,function(H){if(J.get([H,"show"]))Av1[H](this,this.group,this._axisGroup,J,Y)},this),TZ(X,this._axisGroup,J),$.prototype.render.call(this,J,K,Y,Z)},Q.prototype.remove=function(){df(this)},Q.type="singleAxis",Q}(i9),Av1={splitLine:function($,Q,J,K,Y){var Z=K.axis;if(Z.scale.isBlank())return;var q=K.getModel("splitLine"),X=q.getModel("lineStyle"),W=X.get("color");W=W instanceof Array?W:[W];var F=X.get("width"),H=K.coordinateSystem.getRect(),B=Z.isHorizontal(),z=[],A=0,R=Z.getTicksCoords({tickModel:q,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),G=[],O=[];for(var T=0;T<R.length;++T){var D=Z.toGlobalCoord(R[T].coord);if(B)G[0]=D,G[1]=H.y,O[0]=D,O[1]=H.y+H.height;else G[0]=H.x,G[1]=D,O[0]=H.x+H.width,O[1]=D;var P=new X6({shape:{x1:G[0],y1:G[1],x2:O[0],y2:O[1]},silent:!0});wZ(P.shape,F);var j=A++%W.length;z[j]=z[j]||[],z[j].push(P)}var E=X.getLineStyle(["color"]);for(var T=0;T<z.length;++T)Q.add(T4(z[T],{style:c0({stroke:W[T%W.length]},E),silent:!0}))},splitArea:function($,Q,J,K,Y){pf($,J,K,K)},breakArea:function($,Q,J,K,Y){var Z=gZ(),q=K.axis.scale;if(Z&&q.type!=="ordinal")Z.rectCoordBuildBreakAxis(Q,$,K,K.coordinateSystem.getRect(),Y)}},Ud0=zv1});var Nd0,eI;var Bd0=h(()=>{H0();_6();az();l();Nd0=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.getCoordSysModel=function(){return this},Q.type="singleAxis",Q.layoutMode="box",Q.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:0.2}},jitter:0,jitterOverlap:!0,jitterMargin:2},Q}(O1);n5(Nd0,rK.prototype);eI=Nd0});var Vv1,zd0;var Ad0=h(()=>{H0();W2();Vv1=function($){c(Q,$);function Q(J,K,Y,Z,q){var X=$.call(this,J,K,Y)||this;return X.type=Z||"value",X.position=q||"bottom",X}return Q.prototype.isHorizontal=function(){var J=this.position;return J==="top"||J==="bottom"},Q.prototype.pointToData=function(J,K){return this.coordinateSystem.pointToData(J)[0]},Q}(I8),zd0=Vv1});function Vd0($){var{seriesModel:Q,singleAxisModel:J}=$;return J&&J.coordinateSystem||Q&&Q.coordinateSystem}var S60,Rv1,Rd0;var Gd0=h(()=>{Ad0();M3();l5();l();S60=["single"],Rv1=function(){function $(Q,J,K){this.type="single",this.dimension="single",this.dimensions=S60,this.axisPointerEnabled=!0,this.model=Q,this._init(Q,J,K)}return $.prototype._init=function(Q,J,K){var Y=this.dimension,Z=new zd0(Y,Z2(Q),[0,0],Q.get("type"),Q.get("position")),q=Z.type==="category";Z.onBand=q&&Q.get("boundaryGap"),Z.inverse=Q.get("inverse"),Z.orient=Q.get("orient"),Q.axis=Z,Z.model=Q,Z.coordinateSystem=this,this._axis=Z},$.prototype.update=function(Q,J){Q.eachSeries(function(K){if(K.coordinateSystem===this){var Y=K.getData();S(Y.mapDimensionsAll(this.dimension),function(Z){this._axis.scale.unionExtentFromData(Y,Z)},this),lK(this._axis.scale,this._axis.model)}},this)},$.prototype.resize=function(Q,J){var K=_5(Q,J).refContainer;this._rect=X5(Q.getBoxLayoutParams(),K),this._adjustAxis()},$.prototype.getRect=function(){return this._rect},$.prototype._adjustAxis=function(){var Q=this._rect,J=this._axis,K=J.isHorizontal(),Y=K?[0,Q.width]:[0,Q.height],Z=J.inverse?1:0;J.setExtent(Y[Z],Y[1-Z]),this._updateAxisTransform(J,K?Q.x:Q.y)},$.prototype._updateAxisTransform=function(Q,J){var K=Q.getExtent(),Y=K[0]+K[1],Z=Q.isHorizontal();Q.toGlobalCoord=Z?function(q){return q+J}:function(q){return Y-q+J},Q.toLocalCoord=Z?function(q){return q-J}:function(q){return Y-q+J}},$.prototype.getAxis=function(){return this._axis},$.prototype.getBaseAxis=function(){return this._axis},$.prototype.getAxes=function(){return[this._axis]},$.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},$.prototype.containPoint=function(Q){var J=this.getRect(),K=this.getAxis(),Y=K.orient;if(Y==="horizontal")return K.contain(K.toLocalCoord(Q[0]))&&Q[1]>=J.y&&Q[1]<=J.y+J.height;else return K.contain(K.toLocalCoord(Q[1]))&&Q[0]>=J.y&&Q[0]<=J.y+J.height},$.prototype.pointToData=function(Q,J,K){K=K||[];var Y=this.getAxis();return K[0]=Y.coordToData(Y.toLocalCoord(Q[Y.orient==="horizontal"?0:1])),K},$.prototype.dataToPoint=function(Q,J,K){var Y=this.getAxis(),Z=this.getRect();K=K||[];var q=Y.orient==="horizontal"?0:1;if(Q instanceof Array)Q=Q[0];return K[q]=Y.toGlobalCoord(Y.dataToCoord(+Q)),K[1-q]=q===0?Z.y+Z.height/2:Z.x+Z.width/2,K},$.prototype.convertToPixel=function(Q,J,K){var Y=Vd0(J);return Y===this?this.dataToPoint(K):null},$.prototype.convertFromPixel=function(Q,J,K){var Y=Vd0(J);return Y===this?this.pointToData(K):null},$}();Rd0=Rv1});function Gv1($,Q){var J=[];return $.eachComponent("singleAxis",function(K,Y){var Z=new Rd0(K,$,Q);Z.name="single_"+Y,Z.resize(K,Q),K.coordinateSystem=Z,J.push(Z)}),$.eachSeries(function(K){if(K.get("coordinateSystem")==="singleAxis"){var Y=K.getReferringComponents("singleAxis",L5).models[0];K.coordinateSystem=Y&&Y.coordinateSystem}}),J}var Ov1,Od0;var wd0=h(()=>{Gd0();l0();Ov1={create:Gv1,dimensions:S60},Od0=Ov1});function $M($){return $.isHorizontal()?0:1}function _60($,Q){var J=$.getRect();return[J[Td0[Q]],J[Td0[Q]]+J[wv1[Q]]]}var Td0,wv1,Tv1,Dv1,Dd0;var Cd0=h(()=>{H0();nI();ND();v60();Td0=["x","y"],wv1=["width","height"],Tv1=function($){c(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.makeElOption=function(J,K,Y,Z,q){var X=Y.axis,W=X.coordinateSystem,F=_60(W,1-$M(X)),H=W.dataToPoint(K)[0],B=Z.get("type");if(B&&B!=="none"){var z=SA(Z),A=Dv1[B](X,H,F);A.style=z,J.graphicKey=A.type,J.pointer=A}var R=AD(Y);lI(K,J,R,Y,Z,q)},Q.prototype.getHandleTransform=function(J,K,Y){var Z=AD(K,{labelInside:!1});Z.labelMargin=Y.get(["handle","margin"]);var q=HD(K.axis,J,Z);return{x:q[0],y:q[1],rotation:Z.rotation+(Z.labelDirection<0?Math.PI:0)}},Q.prototype.updateHandleTransform=function(J,K,Y,Z){var q=Y.axis,X=q.coordinateSystem,W=$M(q),F=_60(X,W),H=[J.x,J.y];H[W]+=K[W],H[W]=Math.min(F[1],H[W]),H[W]=Math.max(F[0],H[W]);var B=_60(X,1-W),z=(B[1]+B[0])/2,A=[z,z];return A[W]=H[W],{x:H[0],y:H[1],rotation:J.rotation,cursorPoint:A,tooltipOption:{verticalAlign:"middle"}}},Q}(vA),Dv1={line:function($,Q,J){var K=_A([Q,J[0]],[Q,J[1]],$M($));return{type:"Line",subPixelOptimize:!0,shape:K}},shadow:function($,Q,J){var K=$.getBandWidth(),Y=J[1]-J[0];return{type:"Rect",shape:rI([Q-K/2,J[0]],[K,Y],$M($))}}};Dd0=Tv1});function f60($){T1(VJ),i9.registerAxisPointerClass("SingleAxisPointer",Dd0),$.registerComponentView(Cv1),$.registerComponentView(Ud0),$.registerComponentModel(eI),AJ($,"single",eI,eI.defaultOption),$.registerCoordinateSystem("single",Od0)}var Cv1;var Pd0=h(()=>{H0();E4();a6();Hd0();yT();Bd0();wd0();fA();z2();Cd0();Cv1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="single",Q}(a1)});function kd0($,Q){var J=$.cellSize,K;if(!Z0(J))K=$.cellSize=[J,J];else K=J;if(K.length===1)K[1]=K[0];var Y=q0([0,1],function(Z){if(Pv0(Q,Z))K[Z]="auto";return K[Z]!=null&&K[Z]!=="auto"});$4($,Q,{type:"box",ignoreSize:Y})}var Pv1,jd0;var Ed0=h(()=>{H0();l();_6();l5();y1();Pv1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(J,K,Y){var Z=u9(J);$.prototype.init.apply(this,arguments),kd0(J,Z)},Q.prototype.mergeOption=function(J){$.prototype.mergeOption.apply(this,arguments),kd0(this.option,J)},Q.prototype.getCellSize=function(){return this.option.cellSize},Q.type="calendar",Q.layoutMode="box",Q.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:e.color.axisLine,width:1,type:"solid"}},itemStyle:{color:e.color.neutral00,borderWidth:1,borderColor:e.color.neutral10},dayLabel:{show:!0,firstDay:0,position:"start",margin:e.size.s,color:e.color.secondary},monthLabel:{show:!0,position:"start",margin:e.size.s,align:"center",formatter:null,color:e.color.secondary},yearLabel:{show:!0,position:null,margin:e.size.xl,formatter:null,color:e.color.quaternary,fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},Q}(O1);jd0=Pv1});var kv1,Ld0;var hd0=h(()=>{H0();l();a0();g5();P4();k1();a6();hS();kv1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){var Z=this.group;Z.removeAll();var q=J.coordinateSystem,X=q.getRangeInfo(),W=q.getOrient(),F=K.getLocaleModel();this._renderDayRect(J,X,Z),this._renderLines(J,X,W,Z),this._renderYearText(J,X,W,Z),this._renderMonthText(J,F,W,Z),this._renderWeekText(J,F,X,W,Z)},Q.prototype._renderDayRect=function(J,K,Y){var Z=J.coordinateSystem,q=J.getModel("itemStyle").getItemStyle(),X=Z.getCellWidth(),W=Z.getCellHeight();for(var F=K.start.time;F<=K.end.time;F=Z.getNextNDay(F,1).time){var H=Z.dataToCalendarLayout([F],!1).tl,B=new X1({shape:{x:H[0],y:H[1],width:X,height:W},cursor:"default",style:q});Y.add(B)}},Q.prototype._renderLines=function(J,K,Y,Z){var q=this,X=J.coordinateSystem,W=J.getModel(["splitLine","lineStyle"]).getLineStyle(),F=J.get(["splitLine","show"]),H=W.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];var B=K.start;for(var z=0;B.time<=K.end.time;z++){if(R(B.formatedDate),z===0)B=X.getDateInfo(K.start.y+"-"+K.start.m);var A=B.date;A.setMonth(A.getMonth()+1),B=X.getDateInfo(A)}R(X.getNextNDay(K.end.time,1).formatedDate);function R(G){q._firstDayOfMonth.push(X.getDateInfo(G)),q._firstDayPoints.push(X.dataToCalendarLayout([G],!1).tl);var O=q._getLinePointsOfOneWeek(J,G,Y);q._tlpoints.push(O[0]),q._blpoints.push(O[O.length-1]),F&&q._drawSplitline(O,W,Z)}F&&this._drawSplitline(q._getEdgesPoints(q._tlpoints,H,Y),W,Z),F&&this._drawSplitline(q._getEdgesPoints(q._blpoints,H,Y),W,Z)},Q.prototype._getEdgesPoints=function(J,K,Y){var Z=[J[0].slice(),J[J.length-1].slice()],q=Y==="horizontal"?0:1;return Z[0][q]=Z[0][q]-K/2,Z[1][q]=Z[1][q]+K/2,Z},Q.prototype._drawSplitline=function(J,K,Y){var Z=new G6({z2:20,shape:{points:J},style:K});Y.add(Z)},Q.prototype._getLinePointsOfOneWeek=function(J,K,Y){var Z=J.coordinateSystem,q=Z.getDateInfo(K),X=[];for(var W=0;W<7;W++){var F=Z.getNextNDay(q.time,W),H=Z.dataToCalendarLayout([F.time],!1);X[2*F.day]=H.tl,X[2*F.day+1]=H[Y==="horizontal"?"bl":"tr"]}return X},Q.prototype._formatterLabel=function(J,K){if(R0(J)&&J)return wv0(J,K);if(I0(J))return J(K);return K.nameMap},Q.prototype._yearTextPositionControl=function(J,K,Y,Z,q){var X=K[0],W=K[1],F=["center","bottom"];if(Z==="bottom")W+=q,F=["center","top"];else if(Z==="left")X-=q;else if(Z==="right")X+=q,F=["center","top"];else W-=q;var H=0;if(Z==="left"||Z==="right")H=Math.PI/2;return{rotation:H,x:X,y:W,style:{align:F[0],verticalAlign:F[1]}}},Q.prototype._renderYearText=function(J,K,Y,Z){var q=J.getModel("yearLabel");if(!q.get("show"))return;var X=q.get("margin"),W=q.get("position");if(!W)W=Y!=="horizontal"?"top":"left";var F=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],H=(F[0][0]+F[1][0])/2,B=(F[0][1]+F[1][1])/2,z=Y==="horizontal"?0:1,A={top:[H,F[z][1]],bottom:[H,F[1-z][1]],left:[F[1-z][0],B],right:[F[z][0],B]},R=K.start.y;if(+K.end.y>+K.start.y)R=R+"-"+K.end.y;var G=q.get("formatter"),O={start:K.start.y,end:K.end.y,nameMap:R},T=this._formatterLabel(G,O),D=new j1({z2:30,style:A5(q,{text:T}),silent:q.get("silent")});D.attr(this._yearTextPositionControl(D,A[W],Y,W,X)),Z.add(D)},Q.prototype._monthTextPositionControl=function(J,K,Y,Z,q){var X="left",W="top",F=J[0],H=J[1];if(Y==="horizontal"){if(H=H+q,K)X="center";if(Z==="start")W="bottom"}else{if(F=F+q,K)W="middle";if(Z==="start")X="right"}return{x:F,y:H,align:X,verticalAlign:W}},Q.prototype._renderMonthText=function(J,K,Y,Z){var q=J.getModel("monthLabel");if(!q.get("show"))return;var X=q.get("nameMap"),W=q.get("margin"),F=q.get("position"),H=q.get("align"),B=[this._tlpoints,this._blpoints];if(!X||R0(X)){if(X)K=bw(X)||K;X=K.get(["time","monthAbbr"])||[]}var z=F==="start"?0:1,A=Y==="horizontal"?0:1;W=F==="start"?-W:W;var R=H==="center",G=q.get("silent");for(var O=0;O<B[z].length-1;O++){var T=B[z][O].slice(),D=this._firstDayOfMonth[O];if(R){var P=this._firstDayPoints[O];T[A]=(P[A]+B[0][O+1][A])/2}var j=q.get("formatter"),E=X[+D.m-1],L={yyyy:D.y,yy:(D.y+"").slice(2),MM:D.m,M:+D.m,nameMap:E},v=this._formatterLabel(j,L),f=new j1({z2:30,style:Y0(A5(q,{text:v}),this._monthTextPositionControl(T,R,Y,F,W)),silent:G});Z.add(f)}},Q.prototype._weekTextPositionControl=function(J,K,Y,Z,q){var X="center",W="middle",F=J[0],H=J[1],B=Y==="start";if(K==="horizontal")F=F+Z+(B?1:-1)*q[0]/2,X=B?"right":"left";else H=H+Z+(B?1:-1)*q[1]/2,W=B?"bottom":"top";return{x:F,y:H,align:X,verticalAlign:W}},Q.prototype._renderWeekText=function(J,K,Y,Z,q){var X=J.getModel("dayLabel");if(!X.get("show"))return;var W=J.coordinateSystem,F=X.get("position"),H=X.get("nameMap"),B=X.get("margin"),z=W.getFirstDayOfWeek();if(!H||R0(H)){if(H)K=bw(H)||K;var A=K.get(["time","dayOfWeekShort"]);H=A||q0(K.get(["time","dayOfWeekAbbr"]),function(L){return L[0]})}var R=W.getNextNDay(Y.end.time,7-Y.lweek).time,G=[W.getCellWidth(),W.getCellHeight()];if(B=f0(B,Math.min(G[1],G[0])),F==="start")R=W.getNextNDay(Y.start.time,-(7+Y.fweek)).time,B=-B;var O=X.get("silent");for(var T=0;T<7;T++){var D=W.getNextNDay(R,T),P=W.dataToCalendarLayout([D.time],!1).center,j=T;j=Math.abs((T+z)%7);var E=new j1({z2:30,style:Y0(A5(X,{text:H[j]}),this._weekTextPositionControl(P,Z,F,B,G)),silent:O});q.add(E)}},Q.type="calendar",Q}(a1),Ld0=kv1});function M60($){var{calendarModel:Q,seriesModel:J}=$,K=Q?Q.coordinateSystem:J?J.coordinateSystem:null;return K}var I60=86400000,jv1,vd0;var Sd0=h(()=>{l();l5();k1();s5();a0();c9();jv1=function(){function $(Q,J,K){this.type="calendar",this.dimensions=$.dimensions,this.getDimensionsInfo=$.getDimensionsInfo,this._model=Q,this._update(J,K)}return $.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},$.prototype.getRangeInfo=function(){return this._rangeInfo},$.prototype.getModel=function(){return this._model},$.prototype.getRect=function(){return this._rect},$.prototype.getCellWidth=function(){return this._sw},$.prototype.getCellHeight=function(){return this._sh},$.prototype.getOrient=function(){return this._orient},$.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},$.prototype.getDateInfo=function(Q){Q=b$(Q);var J=Q.getFullYear(),K=Q.getMonth()+1,Y=K<10?"0"+K:""+K,Z=Q.getDate(),q=Z<10?"0"+Z:""+Z,X=Q.getDay();return X=Math.abs((X+7-this.getFirstDayOfWeek())%7),{y:J+"",m:Y,d:q,day:X,time:Q.getTime(),formatedDate:J+"-"+Y+"-"+q,date:Q}},$.prototype.getNextNDay=function(Q,J){if(J=J||0,J===0)return this.getDateInfo(Q);return Q=new Date(this.getDateInfo(Q).time),Q.setDate(Q.getDate()+J),this.getDateInfo(Q)},$.prototype._update=function(Q,J){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var K=this._rangeInfo.weeks||1,Y=["width","height"],Z=this._model.getCellSize().slice(),q=this._model.getBoxLayoutParams(),X=this._orient==="horizontal"?[K,7]:[7,K];S([0,1],function(B){if(H(Z,B))q[Y[B]]=Z[B]*X[B]});var W={width:J.getWidth(),height:J.getHeight()},F=this._rect=X5(q,W);S([0,1],function(B){if(!H(Z,B))Z[B]=F[Y[B]]/X[B]});function H(B,z){return B[z]!=null&&B[z]!=="auto"}this._sw=Z[0],this._sh=Z[1]},$.prototype.dataToPoint=function(Q,J,K){K=K||[],Z0(Q)&&(Q=Q[0]),J==null&&(J=!0);var Y=this.getDateInfo(Q),Z=this._rangeInfo,q=Y.formatedDate;if(J&&!(Y.time>=Z.start.time&&Y.time<Z.end.time+I60))return K[0]=K[1]=NaN,K;var X=Y.day,W=this._getRangeInfo([Z.start.time,q]).nthWeek;if(this._orient==="vertical")K[0]=this._rect.x+X*this._sw+this._sw/2,K[1]=this._rect.y+W*this._sh+this._sh/2;else K[0]=this._rect.x+W*this._sw+this._sw/2,K[1]=this._rect.y+X*this._sh+this._sh/2;return K},$.prototype.pointToData=function(Q){var J=this.pointToDate(Q);return J&&J.time},$.prototype.dataToLayout=function(Q,J,K){K=K||{};var Y=K.rect=K.rect||{},Z=K.contentRect=K.contentRect||{},q=this.dataToPoint(Q,J);return Y.x=q[0]-this._sw/2,Y.y=q[1]-this._sh/2,Y.width=this._sw,Y.height=this._sh,n0.copy(Z,Y),d$(Z,this._lineWidth/2,!0,!0),K},$.prototype.dataToCalendarLayout=function(Q,J){var K=this.dataToPoint(Q,J);return{center:K,tl:[K[0]-this._sw/2,K[1]-this._sh/2],tr:[K[0]+this._sw/2,K[1]-this._sh/2],br:[K[0]+this._sw/2,K[1]+this._sh/2],bl:[K[0]-this._sw/2,K[1]+this._sh/2]}},$.prototype.pointToDate=function(Q){var J=Math.floor((Q[0]-this._rect.x)/this._sw)+1,K=Math.floor((Q[1]-this._rect.y)/this._sh)+1,Y=this._rangeInfo.range;if(this._orient==="vertical")return this._getDateByWeeksAndDay(K,J-1,Y);return this._getDateByWeeksAndDay(J,K-1,Y)},$.prototype.convertToPixel=function(Q,J,K){var Y=M60(J);return Y===this?Y.dataToPoint(K):null},$.prototype.convertToLayout=function(Q,J,K){var Y=M60(J);return Y===this?Y.dataToLayout(K):null},$.prototype.convertFromPixel=function(Q,J,K){var Y=M60(J);return Y===this?Y.pointToData(K):null},$.prototype.containPoint=function(Q){return console.warn("Not implemented."),!1},$.prototype._initRangeOption=function(){var Q=this._model.get("range"),J;if(Z0(Q)&&Q.length===1)Q=Q[0];if(!Z0(Q)){var K=Q.toString();if(/^\d{4}$/.test(K))J=[K+"-01-01",K+"-12-31"];if(/^\d{4}[\/|-]\d{1,2}$/.test(K)){var Y=this.getDateInfo(K),Z=Y.date;Z.setMonth(Z.getMonth()+1);var q=this.getNextNDay(Z,-1);J=[Y.formatedDate,q.formatedDate]}if(/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(K))J=[K,K]}else J=Q;if(!J)return H8("Invalid date range."),Q;var X=this._getRangeInfo(J);if(X.start.time>X.end.time)J.reverse();return J},$.prototype._getRangeInfo=function(Q){var J=[this.getDateInfo(Q[0]),this.getDateInfo(Q[1])],K;if(J[0].time>J[1].time)K=!0,J.reverse();var Y=Math.floor(J[1].time/I60)-Math.floor(J[0].time/I60)+1,Z=new Date(J[0].time),q=Z.getDate(),X=J[1].date.getDate();Z.setDate(q+Y-1);var W=Z.getDate();if(W!==X){var F=Z.getTime()-J[1].time>0?1:-1;while((W=Z.getDate())!==X&&(Z.getTime()-J[1].time)*F>0)Y-=F,Z.setDate(W-F)}var H=Math.floor((Y+J[0].day+6)/7),B=K?-H+1:H-1;return K&&J.reverse(),{range:[J[0].formatedDate,J[1].formatedDate],start:J[0],end:J[1],allDay:Y,weeks:H,nthWeek:B,fweek:J[0].day,lweek:J[1].day}},$.prototype._getDateByWeeksAndDay=function(Q,J,K){var Y=this._getRangeInfo(K);if(Q>Y.weeks||Q===0&&J<Y.fweek||Q===Y.weeks&&J>Y.lweek)return null;var Z=(Q-1)*7-Y.fweek+J,q=new Date(Y.start.time);return q.setDate(+Y.start.d+Z),this.getDateInfo(q)},$.create=function(Q,J){var K=[];return Q.eachComponent("calendar",function(Y){var Z=new $(Y,Q,J);K.push(Z),Y.coordinateSystem=Z}),Q.eachComponent(function(Y,Z){uK({targetModel:Z,coordSysType:"calendar",coordSysProvider:lS})}),K},$.dimensions=["time","value"],$}();vd0=jv1});function b60($){$.registerComponentModel(jd0),$.registerComponentView(Ld0),$.registerCoordinateSystem("calendar",vd0)}var _d0=h(()=>{Ed0();hd0();Sd0()});function g60($,Q,J){var K=Q[D1[J]].getCell($);if(!K&&V1($)&&$<0)K=Q[D1[1-J]].getUnitLayoutInfo(J,Math.round($));return K}function QM($){var Q=$||[];return Q[0]=Q[0]||[],Q[1]=Q[1]||[],Q[0][0]=Q[0][1]=Q[1][0]=Q[1][1]=NaN,Q}function JM($,Q,J,K,Y){fd0($[0],Q,Y,J,K,0),fd0($[1],Q,Y,J,K,1)}function fd0($,Q,J,K,Y,Z){$[0]=1/0,$[1]=-1/0;var q=K[Z],X=Z0(q)?q:[q],W=X.length,F=!!J;if(W>=1){if(Id0($,Q,X,F,Y,Z,0),W>1)Id0($,Q,X,F,Y,Z,W-1)}else{if(Q)Q.push('Should be like [["x1", "x2"], ["y1", "y2"]], or ["x1", "y1"], rather than empty.');$[0]=$[1]=NaN}if(F){var H=-Y[D1[1-Z]].getLocatorCount(Z),B=Y[D1[Z]].getLocatorCount(Z)-1;if(J===GJ.body)H=c6(0,H);else if(J===GJ.corner)B=R4(-1,B);if(B<H)H=B=NaN;if(h6($[0]))$[0]=H;if(h6($[1]))$[1]=B;$[0]=c6(R4($[0],B),H),$[1]=c6(R4($[1],B),H)}}function Id0($,Q,J,K,Y,Z,q){var X=g60(J[q],Y,Z);if(!X){if(!K&&Q)Q.push("Can not find cell by coord["+Z+"]["+q+"].");$[0]=$[1]=NaN;return}var W=X.id[D1[Z]],F=W,H=hv1(X);if(H)F+=H.span[D1[Z]]-1;$[0]=R4($[0],W,F),$[1]=c6($[1],W,F)}function VD($,Q){return h6($[Q][0])||h6($[Q][1])}function y60($,Q,J,K){Q=Q||Ev1;for(var Y=0;Y<K;Y++)Q[Y]=!1;while(!0){var Z=!1;for(var Y=0;Y<K;Y++){var q=J[Y];if(!Q[Y]&&q.cellMergeOwner&&Lv1($,q.locatorRange))Q[Y]=!0,Z=!0}if(!Z)break}}function Lv1($,Q){if(!Md0($[0],Q[0])||!Md0($[1],Q[1]))return!1;return $[0][0]=R4($[0][0],Q[0][0]),$[0][1]=c6($[0][1],Q[0][1]),$[1][0]=R4($[1][0],Q[1][0]),$[1][1]=c6($[1][1],Q[1][1]),!0}function Md0($,Q){return $[1]>=Q[0]&&$[0]<=Q[1]}function x60($,Q){$.id.set(Q[0][0],Q[1][0]),$.span.set(Q[0][1]-$.id.x+1,Q[1][1]-$.id.y+1)}function bd0($,Q){$[0][0]=Q[0][0],$[0][1]=Q[0][1],$[1][0]=Q[1][0],$[1][1]=Q[1][1]}function c60($,Q,J,K){var Y=g60(Q[K][0],J,K),Z=g60(Q[K][1],J,K);if($[D1[K]]=$[p6[K]]=NaN,Y&&Z)$[D1[K]]=Y.xy,$[p6[K]]=Z.xy+Z.wh-Y.xy}function IA($,Q,J,K){return $[D1[Q]]=J,$[D1[1-Q]]=K,$}function hv1($){return $&&($.type===RJ.leaf||$.type===RJ.nonLeaf)?$:null}function YH(){return{x:NaN,y:NaN,width:NaN,height:NaN}}var RJ,GJ,Ev1;var KM=h(()=>{l();a0();k1();RJ={level:1,leaf:2,nonLeaf:3},GJ={none:0,all:1,body:2,corner:3};Ev1=[]});function vv1($){var Q=$.toUpperCase(),J=new RegExp("^"+Q+"([0-9]+)$"),K=0;function Y(X){var W;if(X!=null&&(W=X.match(J)))K=c6(K,+W[1]+1)}function Z(){return""+Q+K++}function q(X,W){var F=_0();for(var H=0;H<X.length;H++){var B=X[H];if(B==null||F.get(B)!=null)X[H]=B=Z(),W[H].option=c0({value:B},W[H].option);F.set(B,!0)}}return{calcDupBase:Y,ensureValueUnique:q}}var u60;var gd0=h(()=>{l();hX();a_();VT();a0();l0();KM();N5();k1();u60=function(){function $(Q,J){this._cells=[],this._levels=[],this.dim=Q,this.dimIdx=Q==="x"?0:1,this._model=J,this._uniqueValueGen=vv1(Q);var K=J.get("data",!0);if(K!=null&&!Z0(K))S1("Illegal echarts option - matrix."+this.dim+".data must be an array if specified."),K=[];if(K)this._initByDimModelData(K);else this._initBySeriesData()}return $.prototype._initByDimModelData=function(Q){var J=this,K=J._cells,Y=J._levels,Z=[],q=0;J._leavesCount=X(Q,0,0),W();return;function X(F,H,B){var z=0;if(!F)return z;return S(F,function(A,R){var G=!1,O;if(R0(A))O={value:A};else if(y0(A)){if(O=A,A.value!=null&&!R0(A.value))G=!0,O={value:null}}else if(O={value:null},A!=null)G=!0;if(G)S1("Illegal echarts option - matrix."+J.dim+".data["+R+"] must be `string | {value: string}`.");var T={type:RJ.nonLeaf,ordinal:NaN,level:B,firstLeafLocator:H,id:new Z1,span:IA(new Z1,J.dimIdx,1,1),option:O,xy:NaN,wh:NaN,dim:J,rect:YH()};if(q++,(Z[H]||(Z[H]=[])).push(T),!Y[B])Y[B]={type:RJ.level,xy:NaN,wh:NaN,option:null,id:new Z1,dim:J};var D=X(O.children,H,B+1),P=Math.max(1,D);T.span[D1[J.dimIdx]]=P,z+=P,H+=P}),z}function W(){var F=[];while(K.length<q)for(var H=0;H<Z.length;H++){var B=Z[H].pop();if(B){B.ordinal=F.length;var z=B.option.value;F.push(z),K.push(B),J._uniqueValueGen.calcDupBase(z)}}J._uniqueValueGen.ensureValueUnique(F,K);var A=J._ordinalMeta=new K2({categories:F,needCollect:!1,deduplication:!1});J._scale=new IZ({ordinalMeta:A});for(var R=0;R<J._leavesCount;R++){var G=J._cells[R];G.type=RJ.leaf,G.span[D1[1-J.dimIdx]]=J._levels.length-G.level}J._initCellsId(),J._initLevelIdOptions()}},$.prototype._initBySeriesData=function(){var Q=this;Q._leavesCount=0,Q._levels=[{type:RJ.level,xy:NaN,wh:NaN,option:null,id:new Z1,dim:Q}],Q._initLevelIdOptions();var J=Q._ordinalMeta=new K2({needCollect:!0,deduplication:!0,onCollect:function(K,Y){var Z=Q._cells[Y]={type:RJ.leaf,ordinal:Y,level:0,firstLeafLocator:Y,id:new Z1,span:IA(new Z1,Q.dimIdx,1,1),option:{value:K+""},xy:NaN,wh:NaN,dim:Q,rect:YH()};Q._leavesCount++,Q._setCellId(Z)}});Q._scale=new IZ({ordinalMeta:J})},$.prototype._setCellId=function(Q){var J=this._levels.length,K=this.dimIdx;IA(Q.id,K,Q.firstLeafLocator,Q.level-J)},$.prototype._initCellsId=function(){var Q=this._levels.length,J=this.dimIdx;S(this._cells,function(K){IA(K.id,J,K.firstLeafLocator,K.level-Q)})},$.prototype._initLevelIdOptions=function(){var Q=this._levels.length,J=this.dimIdx,K=this._model.get("levels",!0);K=Z0(K)?K:[],S(this._levels,function(Y,Z){IA(Y.id,J,0,Z-Q),Y.option=K[Z]})},$.prototype.shouldShow=function(){return!!this._model.getShallow("show",!0)},$.prototype.resetLayoutIterator=function(Q,J,K,Y){if(Q=Q||new oQ,J===this.dimIdx){var Z=this._leavesCount,q=K!=null?Math.max(0,K):0;Y=Y!=null?Math.min(Y,Z):Z,Q.reset(this._cells,q,q+Y)}else{var Z=this._levels.length,q=K!=null?Math.max(0,K+Z):0;Y=Y!=null?Math.min(Y,Z):Z,Q.reset(this._levels,q,q+Y)}return Q},$.prototype.resetCellIterator=function(Q){return(Q||new oQ).reset(this._cells,0)},$.prototype.resetLevelIterator=function(Q){return(Q||new oQ).reset(this._levels,0)},$.prototype.getLayout=function(Q,J,K){var Y=this.getUnitLayoutInfo(J,K);Q[D1[J]]=Y?Y.xy:NaN,Q[p6[J]]=Y?Y.wh:NaN},$.prototype.getUnitLayoutInfo=function(Q,J){return Q===this.dimIdx?J<this._leavesCount?this._cells[J]:void 0:this._levels[J+this._levels.length]},$.prototype.getCell=function(Q){var J=this._scale.parse(Q);return h6(J)?void 0:this._cells[J]},$.prototype.getLocatorCount=function(Q){return Q===this.dimIdx?this._leavesCount:this._levels.length},$.prototype.getOrdinalMeta=function(){return this._ordinalMeta},$}()});function yd0($,Q){return $+"|"+Q}var p60,m60;var xd0=h(()=>{l();N5();hX();KM();p60=function(){function $(Q,J,K){this._model=J,this._dims=K,this._kind=Q,this._cellMergeOwnerList=[]}return $.prototype._ensureCellMap=function(){var Q=this,J=Q._cellMap;if(!J)J=Q._cellMap=_0(),K();return J;function K(){var Z=[],q=Q._model.getShallow("data");if(q&&!Z0(q))S1("matrix."+q+".data must be an array if specified."),q=null;S(q,function(R,G){if(!y0(R)||!Z0(R.coord)){S1("Illegal matrix."+Q._kind+".data["+G+"], must be a {coord: [...], ...}");return}var O=QM([]),T=null;if(T=[],JM(O,T,R.coord,Q._dims,R.coordClamp?GJ[Q._kind]:GJ.none),VD(O,0)||VD(O,1)){S1("Can not determine cells by option matrix."+Q._kind+".data["+G+"]: "+(""+T.join(" ")));return}var D=R&&R.mergeCells,P={id:new Z1,span:new Z1,locatorRange:O,option:R,cellMergeOwner:D};x60(P,O),Z.push(P)});var X=[];for(var W=0;W<Z.length;W++){var F=Z[W];if(!F.cellMergeOwner)continue;var H=F.locatorRange;y60(H,X,Z,W);for(var B=0;B<W;B++)if(X[B])Z[B].cellMergeOwner=!1;if(H[0][0]!==F.id.x||H[1][0]!==F.id.y){F.cellMergeOwner=!1;var z=Y0({},F.option);z.coord=null;var A={id:new Z1,span:new Z1,locatorRange:H,option:z,cellMergeOwner:!0};x60(A,H),Z.push(A)}}S(Z,function(R){var G=Y(R.id.x,R.id.y);if(R.cellMergeOwner)G.cellMergeOwner=!0,G.span=R.span,G.locatorRange=R.locatorRange,G.spanRect=YH(),Q._cellMergeOwnerList.push(G);if(!R.cellMergeOwner&&!R.option)return;for(var O=0;O<R.span.y;O++)for(var T=0;T<R.span.x;T++){var D=Y(R.id.x+T,R.id.y+O);if(D.option=R.option,R.cellMergeOwner)D.inSpanOf=G}})}function Y(Z,q){var X=yd0(Z,q),W=J.get(X);if(!W)W=J.set(X,{id:new Z1(Z,q),option:null,inSpanOf:null,span:null,spanRect:null,locatorRange:null,cellMergeOwner:!1});return W}},$.prototype.getCell=function(Q){return this._ensureCellMap().get(yd0(Q[0],Q[1]))},$.prototype.travelExistingCells=function(Q){this._ensureCellMap().each(Q)},$.prototype.expandRangeByCellMerge=function(Q){if(!VD(Q,0)&&!VD(Q,1)&&Q[0][0]===Q[0][1]&&Q[1][0]===Q[1][1]){m60[0]=Q[0][0],m60[1]=Q[1][0];var J=this.getCell(m60),K=J&&J.inSpanOf;if(K){bd0(Q,K.locatorRange);return}}var Y=this._cellMergeOwnerList;y60(Q,null,Y,Y.length)},$}(),m60=[]});function n60($){return{color:"none",borderWidth:1,borderColor:$?"none":e.color.borderTint}}var d60,cd0,Sv1,_v1,fv1,Iv1,ud0,md0;var pd0=h(()=>{H0();_6();K7();gd0();xd0();y1();d60={show:!0,color:e.color.secondary,overflow:"break",lineOverflow:"truncate",padding:[2,3,2,3],distance:0};cd0={show:!0,label:d60,itemStyle:n60(!1),silent:void 0,dividerLineStyle:{width:1,color:e.color.border}},Sv1={label:d60,itemStyle:n60(!1),silent:void 0},_v1={label:d60,itemStyle:n60(!0),silent:void 0},fv1={z:-50,left:"10%",top:"10%",right:"10%",bottom:"10%",x:cd0,y:cd0,body:Sv1,corner:_v1,backgroundStyle:{color:"none",borderColor:e.color.axisLine,borderWidth:1}},Iv1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.optionUpdated=function(){var J=this._dimModels={x:new ud0(this.get("x",!0)||{}),y:new ud0(this.get("y",!0)||{})};J.x.option.type=J.y.option.type="category";var K=J.x.dim=new u60("x",J.x),Y=J.y.dim=new u60("y",J.y),Z={x:K,y:Y};this._body=new p60("body",new h1(this.getShallow("body")),Z),this._corner=new p60("corner",new h1(this.getShallow("corner")),Z)},Q.prototype.getDimensionModel=function(J){return this._dimModels[J]},Q.prototype.getBody=function(){return this._body},Q.prototype.getCorner=function(){return this._corner},Q.type="matrix",Q.layoutMode="box",Q.defaultOption=fv1,Q}(O1),ud0=function($){c(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.getOrdinalMeta=function(){return this.dim.getOrdinalMeta()},Q}(h1),md0=Iv1});function cv1($,Q,J){K(0),K(1);function K(Y){var Z=Q.getDimensionModel(D1[Y]),q=Z.dim;if(!q.shouldShow())return;var X=Z.getModel("itemStyle"),W=Z.getModel("label"),F=Q.getShallow("tooltip",!0),H=[];for(var B=q.resetCellIterator();B.next();){var z=B.item,A={};n0.copy(A,z.rect),dO(H,z.id.x,z.id.y),nd0(H,Q,$,J,z.option,X,W,Z,A,z.option.value,yv1,F)}}}function uv1($,Q,J,K,Y){if(Z("body",Q.getBody(),J,K),J.shouldShow()&&K.shouldShow())Z("corner",Q.getCorner(),K,J);function Z(q,X,W,F){var H=new h1(Q.getShallow(q,!0)),B=H.getModel("itemStyle"),z=H.getModel("label"),A=new oQ,R=new oQ,G=[],O=Q.getShallow("tooltip",!0);for(F.resetLayoutIterator(R,1);R.next();)for(W.resetLayoutIterator(A,0);A.next();){var T=A.item,D=R.item;dO(G,T.id.x,D.id.y);var P=X.getCell(G);if(P&&P.inSpanOf&&P.inSpanOf!==P)continue;var j={};if(P&&P.span)n0.copy(j,P.spanRect);else T.dim.getLayout(j,0,G[0]),D.dim.getLayout(j,1,G[1]);var E=P?P.option:null;nd0(G,Q,$,Y,E,B,z,H,j,E?E.value:null,gv1,O)}}}function nd0($,Q,J,K,Y,Z,q,X,W,F,H,B){var z;ZM.option=Y?Y.itemStyle:null,ZM.parentModel=Z,MA.option=Y,MA.parentModel=X;var A=g0(MA.getShallow("z2"),Y&&Y.itemStyle?H.special:H.normal),R=B&&B.show,G=l60(W,ZM.getItemStyle(),A);J.add(G);var O=MA.get("cursor");if(O!=null)G.attr("cursor",O);var T;if(F!=null){var D=F+"";if(bA.option=Y?Y.label:null,bA.parentModel=q,bA.ecModel=K,p5(G,{normal:bA},{defaultText:D,autoOverflowArea:!0,layoutRect:m0(G.shape)}),T=G.getTextContent(),T){T.z2=A+1;var P=T.style;if(P&&P.overflow&&P.overflow!=="none"&&P.lineOverflow){var j={};n0.copy(j,W),d$(j,(((z=G.style)===null||z===void 0?void 0:z.lineWidth)||0)/2,!0,!0),G.updateInnerText(),T.getLocalTransform(qM),d7(qM,qM),n0.applyTransform(j,j,qM),T.setClipPath(new X1({shape:j}))}}D4({el:G,componentModel:Q,itemName:D,itemTooltipOption:B,formatterParamsExtra:{xyLocator:$.slice()}})}if(T){var E=bA.get("silent");if(E==null)E=!R;T.silent=E,T.ignoreHostSilent=!0}var L=MA.get("silent");if(L==null)L=!G.style||G.style.fill==="none"||!G.style.fill;G.silent=L,pv(MA),pv(ZM),pv(bA)}function l60($,Q,J){var K=Q.lineWidth;if(K){var Y=$.x+$.width,Z=$.y+$.height;$.x=o4($.x,K,!0),$.y=o4($.y,K,!0),$.width=o4(Y,K,!0)-$.x,$.height=o4(Z,K,!0)-$.y}return new X1({shape:$,style:Q,z2:J})}function dd0($,Q,J){var K=Q.lineWidth;if(K){if(YM($.x1*2)===YM($.x2*2))$.x1=$.x2=o4($.x1,K,!0);if(YM($.y1*2)===YM($.y2*2))$.y1=$.y2=o4($.y1,K,!0)}return new X6({shape:$,style:Q,silent:!0,z2:J})}var YM,Mv1=0,bv1=99,gv1,yv1,xv1,MA,ZM,bA,qM,ld0;var rd0=h(()=>{H0();a6();K7();s5();w6();Vz();a0();l0();l();g5();YM=Math.round,gv1={normal:25,special:100},yv1={normal:50,special:125},xv1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K){this.group.removeAll();var Y=this.group,Z=J.coordinateSystem,q=Z.getRect(),X=J.getDimensionModel("x"),W=J.getDimensionModel("y"),F=X.dim,H=W.dim;cv1(Y,J,K),uv1(Y,J,F,H,K);var B=J.getShallow("borderZ2",!0),z=g0(B,bv1),A=z-1,R=J.getModel("backgroundStyle").getItemStyle(["borderWidth"]);R.lineWidth=0;var G=J.getModel("backgroundStyle").getItemStyle(["color","decal","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]);G.fill="none";var O=l60(q.clone(),R,Mv1),T=l60(q.clone(),G,z);O.silent=!0,T.silent=!0,Y.add(O),Y.add(T);var D=F.getUnitLayoutInfo(0,0),P=H.getUnitLayoutInfo(1,0);if(D&&P){if(F.shouldShow())Y.add(dd0({x1:q.x,y1:P.xy,x2:q.x+q.width,y2:P.xy},X.getModel("dividerLineStyle").getLineStyle(),A));if(H.shouldShow())Y.add(dd0({x1:D.xy,y1:q.y,x2:D.xy,y2:q.y+q.height},W.getModel("dividerLineStyle").getLineStyle(),A))}},Q.type="matrix",Q}(a1);MA=new h1,ZM=new h1,bA=new h1,qM=[];ld0=xv1});function id0($,Q,J,K){var Y=1-K,Z=Q[D1[K]],q=Q[D1[Y]],X=q.shouldShow();for(var W=Z.resetCellIterator();W.next();)W.item.wh=W.item.xy=NaN;for(var F=q.resetLayoutIterator(null,K);F.next();)F.item.wh=F.item.xy=NaN;var H=J[p6[K]],B=Z.getLocatorCount(K)+q.getLocatorCount(K),z=new h1;for(var A=q.resetLevelIterator();A.next();)z.option=A.item.option,z.parentModel=$[D1[Y]],O(A.item,X?z.get("levelSize"):0);var R=new h1;for(var G=Z.resetCellIterator();G.next();)if(G.item.type===RJ.leaf)R.option=G.item.option,R.parentModel=void 0,O(G.item,R.get("size"));function O(v,f){var _=pv1(f,K,J);if(!h6(_))v.wh=s60(_,H),H=s60(H-v.wh),B--}var T=B?H/B:0,D=!B&&H>=1,P=J[D1[K]],j=Z.getLocatorCount(K)-1,E=new oQ;for(q.resetLayoutIterator(E,K);E.next();)L(E.item);for(Z.resetLayoutIterator(E,K);E.next();)L(E.item);function L(v){if(h6(v.wh))v.wh=T;if(v.xy=P,v.id[D1[K]]===j&&!D)v.wh=J[D1[K]]+J[p6[K]]-v.xy;P+=v.wh}}function sd0($,Q){for(var J=Q[D1[$]].resetCellIterator();J.next();){var K=J.item;if(WM(K.rect,$,K.id,K.span,Q),WM(K.rect,1-$,K.id,K.span,Q),K.type===RJ.nonLeaf)K.xy=K.rect[D1[$]],K.wh=K.rect[p6[$]]}}function od0($,Q){$.travelExistingCells(function(J){var K=J.span;if(K){var{spanRect:Y,id:Z}=J;WM(Y,0,Z,K,Q),WM(Y,1,Z,K,Q)}})}function WM($,Q,J,K,Y){$[p6[Q]]=0;var Z=J[D1[Q]],q=Z<0?Y[D1[1-Q]]:Y[D1[Q]],X=q.getUnitLayoutInfo(Q,J[D1[Q]]);if($[D1[Q]]=X.xy,$[p6[Q]]=X.wh,K[D1[Q]]>1){var W=q.getUnitLayoutInfo(Q,J[D1[Q]]+K[D1[Q]]-1);$[p6[Q]]=W.xy+W.wh-X.xy}}function pv1($,Q,J){var K=Fz($,J[p6[Q]]);return s60(K,J[p6[Q]])}function s60($,Q){return Math.max(Math.min($,g0(Q,1/0)),0)}function i60($){var{matrixModel:Q,seriesModel:J}=$,K=Q?Q.coordinateSystem:J?J.coordinateSystem:null;return K}function ad0($,Q,J,K,Y){var Z=J[D1[Q]],q=J[D1[1-Q]],X=Z.getUnitLayoutInfo(Q,Z.getLocatorCount(Q)-1),W=Z.getUnitLayoutInfo(Q,0),F=q.getUnitLayoutInfo(Q,-q.getLocatorCount(Q)),H=q.shouldShow()?q.getUnitLayoutInfo(Q,-1):null,B=$.point[Q]=K[Q];if(!W&&!H){$[D1[Q]]=K4.outside;return}if(Y===GJ.body){if(W)$[D1[Q]]=K4.inBody,B=R4(X.xy+X.wh,c6(W.xy,B)),$.point[Q]=B;else $[D1[Q]]=K4.outside;return}else if(Y===GJ.corner){if(H)$[D1[Q]]=K4.inCorner,B=R4(H.xy+H.wh,c6(F.xy,B)),$.point[Q]=B;else $[D1[Q]]=K4.outside;return}var z=W?W.xy:H?H.xy+H.wh:NaN,A=F?F.xy:z,R=X?X.xy+X.wh:z;if(B<A){if(!Y){$[D1[Q]]=K4.outside;return}B=A}else if(B>R){if(!Y){$[D1[Q]]=K4.outside;return}B=R}$.point[Q]=B,$[D1[Q]]=z<=B&&B<=R?K4.inBody:A<=B&&B<=z?K4.inCorner:K4.outside}function td0($,Q,J,K){var Y=1-J;if($[D1[J]]===K4.outside)return;for(K[D1[J]].resetCellIterator(r60);r60.next();){var Z=r60.item;if($n0($.point[J],Z.rect,J)&&$n0($.point[Y],Z.rect,Y)){Q[J]=Z.ordinal,Q[Y]=Z.id[D1[Y]];return}}}function ed0($,Q,J,K){if($[D1[J]]===K4.outside)return;var Y=$[D1[J]]===K4.inCorner?K[D1[1-J]]:K[D1[J]];for(Y.resetLayoutIterator(XM,J);XM.next();)if(dv1($.point[J],XM.item)){Q[J]=XM.item.id[D1[J]];return}}function dv1($,Q){return Q.xy<=$&&$<=Q.xy+Q.wh}function $n0($,Q,J){return Q[D1[J]]<=$&&$<=Q[D1[J]]+Q[p6[J]]}var mv1,RD,XM,r60,K4,KY,Qn0;var Jn0=h(()=>{l5();l0();l();a0();K7();k1();KM();N5();c9();mv1=function(){function $(Q,J,K){this.dimensions=$.dimensions,this.type="matrix",this._model=Q;var Y=this._dimModels={x:Q.getDimensionModel("x"),y:Q.getDimensionModel("y")};this._dims={x:Y.x.dim,y:Y.y.dim},this._resize(Q,K)}return $.getDimensionsInfo=function(){return[{name:"x",type:"ordinal"},{name:"y",type:"ordinal"},{name:"value"}]},$.create=function(Q,J){var K=[];return Q.eachComponent("matrix",function(Y){var Z=new $(Y,Q,J);K.push(Z),Y.coordinateSystem=Z}),Q.eachComponent(function(Y,Z){uK({targetModel:Z,coordSysType:"matrix",coordSysProvider:lS})}),K},$.prototype.getRect=function(){return this._rect},$.prototype._resize=function(Q,J){var K=this._dims,Y=this._dimModels,Z=this._rect=X5(Q.getBoxLayoutParams(),{width:J.getWidth(),height:J.getHeight()});id0(Y,K,Z,0),id0(Y,K,Z,1),sd0(0,K),sd0(1,K),od0(this._model.getBody(),K),od0(this._model.getCorner(),K)},$.prototype.dataToPoint=function(Q,J,K){return K=K||[],this.dataToLayout(Q,J,RD),K[0]=RD.rect.x+RD.rect.width/2,K[1]=RD.rect.y+RD.rect.height/2,K},$.prototype.dataToLayout=function(Q,J,K){var Y=this._dims;K=K||{};var Z=K.rect=K.rect||{};Z.x=Z.y=Z.width=Z.height=NaN;var q=K.matrixXYLocatorRange=QM(K.matrixXYLocatorRange);if(!Z0(Q))return S1("Input data must be an array in `convertToLayout`, `convertToPixel`"),K;if(JM(q,null,Q,Y,g0(J&&J.clamp,GJ.none)),!J||!J.ignoreMergeCells){if(!J||J.clamp!==GJ.corner)this._model.getBody().expandRangeByCellMerge(q);if(!J||J.clamp!==GJ.body)this._model.getCorner().expandRangeByCellMerge(q)}return c60(Z,q,Y,0),c60(Z,q,Y,1),K},$.prototype.pointToData=function(Q,J,K){var Y=this._dims;if(ad0(KY,0,Y,Q,J&&J.clamp),ad0(KY,1,Y,Q,J&&J.clamp),K=K||[],K[0]=K[1]=NaN,KY.y===K4.inCorner&&KY.x===K4.inBody)td0(KY,K,0,Y);else if(KY.x===K4.inCorner&&KY.y===K4.inBody)td0(KY,K,1,Y);else ed0(KY,K,0,Y),ed0(KY,K,1,Y);return K},$.prototype.convertToPixel=function(Q,J,K,Y){var Z=i60(J);return Z===this?Z.dataToPoint(K,Y):void 0},$.prototype.convertToLayout=function(Q,J,K,Y){var Z=i60(J);return Z===this?Z.dataToLayout(K,Y):void 0},$.prototype.convertFromPixel=function(Q,J,K,Y){var Z=i60(J);return Z===this?Z.pointToData(K,Y):void 0},$.prototype.containPoint=function(Q){return this._rect.contain(Q[0],Q[1])},$.dimensions=["x","y","value"],$}(),RD={rect:YH()},XM=new oQ,r60=new oQ;K4={inBody:1,inCorner:2,outside:3},KY={x:null,y:null,point:[]};Qn0=mv1});function o60($){$.registerComponentModel(md0),$.registerComponentView(ld0),$.registerCoordinateSystem("matrix",Qn0)}var Kn0=h(()=>{pd0();rd0();Jn0()});function nv1($,Q){var J=$.existing;if(Q.id=$.keyInfo.id,!Q.type&&J&&(Q.type=J.type),Q.parentId==null){var K=Q.parentOption;if(K)Q.parentId=K.id;else if(J)Q.parentId=J.parentId}Q.parentOption=null}function Yn0($,Q){var J;return S(Q,function(K){$[K]!=null&&$[K]!=="auto"&&(J=!0)}),J}function lv1($,Q,J){var K=Y0({},J),Y=$[Q],Z=J.$action||"merge";if(Z==="merge")if(Y){var q=J.type;M0(!q||Y.type===q,'Please set $action: "replace" to change `type`'),F1(Y,K,!0),$4(Y,K,{ignoreSize:!0}),Na(J,Y),FM(J,Y),FM(J,Y,"shape"),FM(J,Y,"style"),FM(J,Y,"extra"),J.clipPath=Y.clipPath}else $[Q]=K;else if(Z==="replace")$[Q]=K;else if(Z==="remove")Y&&($[Q]=null)}function FM($,Q,J){if(J){if(!$[J]&&Q[J])$[J]={};$=$[J],Q=Q[J]}if(!$||!Q)return;var K=J?Zn0:rv1;for(var Y=0;Y<K.length;Y++){var Z=K[Y];if($[Z]==null&&Q[Z]!=null)$[Z]=Q[Z]}}function iv1($,Q){if(!$)return;if($.hv=Q.hv=[Yn0(Q,["left","right"]),Yn0(Q,["top","bottom"])],$.type==="group"){var J=$,K=Q;J.width==null&&(J.width=K.width=0),J.height==null&&(J.height=K.height=0)}}var Zn0,rv1,qn0;var Xn0=h(()=>{H0();l();l0();_6();l5();Zn0=["transition","enterFrom","leaveTo"],rv1=Zn0.concat(["enterAnimation","updateAnimation","leaveAnimation"]);qn0=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.preventAutoZ=!0,J}return Q.prototype.mergeOption=function(J,K){var Y=this.option.elements;this.option.elements=null,$.prototype.mergeOption.call(this,J,K),this.option.elements=Y},Q.prototype.optionUpdated=function(J,K){var Y=this.option,Z=(K?Y:J).elements,q=Y.elements=K?[]:Y.elements,X=[];this._flatten(Z,X,null);var W=uv(q,X,"normalMerge"),F=this._elOptionsToUpdate=[];S(W,function(H,B){var z=H.newOption;if(M0(y0(z)||H.existing,"Empty graphic option definition"),!z)return;F.push(z),nv1(H,z),lv1(q,B,z),iv1(q[B],z)},this),Y.elements=f1(q,function(H){return H&&delete H.$action,H!=null})},Q.prototype._flatten=function(J,K,Y){S(J,function(Z){if(!Z)return;if(Y)Z.parentOption=Y;K.push(Z);var q=Z.children;if(q&&q.length)this._flatten(q,K,Z);delete Z.children},this)},Q.prototype.useElOptionsToUpdate=function(){var J=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,J},Q.type="graphic",Q.defaultOption={elements:[]},Q}(O1)});function a60($){M0($,"graphic type MUST be set");var Q=p0(Wn0,$)?Wn0[$]:Cz($);M0(Q,"graphic type "+$+" can not be found");var J=new Q({});return ZQ(J).type=$,J}function Fn0($,Q,J,K){var Y=a60(J);return Q.add(Y),K.set($,Y),ZQ(Y).id=$,ZQ(Y).isNew=!0,Y}function UM($,Q,J,K){var Y=$&&$.parent;if(Y)$.type==="group"&&$.traverse(function(Z){UM(Z,Q,J,K)}),LA($,Q,K),J.removeKey(ZQ($).id)}function Un0($,Q,J,K){if(!$.isGroup)S([["cursor",w7.prototype.cursor],["zlevel",K||0],["z",J||0],["z2",0]],function(Y){var Z=Y[0];if(p0(Q,Z))$[Z]=g0(Q[Z],Y[1]);else if($[Z]==null)$[Z]=Y[1]});if(S(N1(Q),function(Y){if(Y.indexOf("on")===0){var Z=Q[Y];$[Y]=I0(Z)?Z:null}}),p0(Q,"draggable"))$.draggable=Q.draggable;Q.name!=null&&($.name=Q.name),Q.id!=null&&($.id=Q.id)}function sv1($){return $=Y0({},$),S(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Ua),function(Q){delete $[Q]}),$}function ov1($,Q,J){var K=r0($).eventData;if(!$.silent&&!$.ignore&&!K)K=r0($).eventData={componentType:"graphic",componentIndex:Q.componentIndex,name:$.name};if(K)K.info=J.info}var Wn0,ZQ,Hn0;var Nn0=h(()=>{H0();l();E3();l0();a0();l5();k1();a6();o5();$60();uI();h8();Y60();Wn0={path:null,compoundPath:null,group:b0,image:q6,text:j1},ZQ=o0(),Hn0=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(){this._elMap=_0()},Q.prototype.render=function(J,K,Y){if(J!==this._lastGraphicModel)this._clear();this._lastGraphicModel=J,this._updateElements(J),this._relocate(J,Y)},Q.prototype._updateElements=function(J){var K=J.useElOptionsToUpdate();if(!K)return;var Y=this._elMap,Z=this.group,q=J.get("z"),X=J.get("zlevel");S(K,function(W){var F=T6(W.id,null),H=F!=null?Y.get(F):null,B=T6(W.parentId,null),z=B!=null?Y.get(B):Z,A=W.type,R=W.style;if(A==="text"&&R){if(W.hv&&W.hv[1])R.textVerticalAlign=R.textBaseline=R.verticalAlign=R.align=null}var{textContent:G,textConfig:O}=W;if(R&&yI(R,A,!!O,!!G)){var T=xI(R,A,!0);if(!O&&T.textConfig)O=W.textConfig=T.textConfig;if(!G&&T.textContent)G=T.textContent}var D=sv1(W);H&&M0(z===H.parent,"Changing parent is not supported.");var P=W.$action||"merge",j=P==="merge",E=P==="replace";if(j){var L=!H,v=H;if(L)v=Fn0(F,z,W.type,Y);else v&&(ZQ(v).isNew=!1),mI(v);if(v)EA(v,D,J,{isInit:L}),Un0(v,W,q,X)}else if(E){UM(H,W,Y,J);var f=Fn0(F,z,W.type,Y);if(f)EA(f,D,J,{isInit:!0}),Un0(f,W,q,X)}else if(P==="remove")K60(H,W),UM(H,W,Y,J);var _=Y.get(F);if(_&&G){if(j){var M=_.getTextContent();M?M.attr(G):_.setTextContent(new j1(G))}else if(E)_.setTextContent(new j1(G))}if(_){var b=W.clipPath;if(b){var x=b.type,g=void 0,L=!1;if(j){var m=_.getClipPath();L=!m||ZQ(m).type!==x,g=L?a60(x):m}else if(E)L=!0,g=a60(x);_.setClipPath(g),EA(g,b,J,{isInit:L}),hA(g,b.keyframeAnimation,J)}var u=ZQ(_);_.setTextConfig(O),u.option=W,ov1(_,J,W),D4({el:_,componentModel:J,itemName:_.name,itemTooltipOption:W.tooltip}),hA(_,W.keyframeAnimation,J)}})},Q.prototype._relocate=function(J,K){var Y=J.option.elements,Z=this.group,q=this._elMap,X=K.getWidth(),W=K.getHeight(),F=["x","y"];for(var H=0;H<Y.length;H++){var B=Y[H],z=T6(B.id,null),A=z!=null?q.get(z):null;if(!A||!A.isGroup)continue;var R=A.parent,G=R===Z,O=ZQ(A),T=ZQ(R);O.width=f0(O.option.width,G?X:T.width)||0,O.height=f0(O.option.height,G?W:T.height)||0}for(var H=Y.length-1;H>=0;H--){var B=Y[H],z=T6(B.id,null),A=z!=null?q.get(z):null;if(!A)continue;var R=A.parent,T=ZQ(R),D=R===Z?{width:X,height:W}:{width:T.width,height:T.height},P={},j=rX(A,B,D,null,{hv:B.hv,boundingMode:B.bounding},P);if(!ZQ(A).isNew&&j){var E=B.transition,L={};for(var v=0;v<F.length;v++){var f=F[v],_=P[f];if(E&&(D2(E)||J1(E,f)>=0))L[f]=_;else A[f]=_}C1(A,L,J,0)}else A.attr(P)}},Q.prototype._clear=function(){var J=this,K=this._elMap;K.each(function(Y){UM(Y,ZQ(Y).option,K,J._lastGraphicModel)}),this._elMap=_0()},Q.prototype.dispose=function(){this._clear()},Q.type="graphic",Q}(a1)});function t60($){$.registerComponentModel(qn0),$.registerComponentView(Hn0),$.registerPreprocessor(function(Q){var J=Q.graphic;if(Z0(J))if(!J[0]||!J[0].elements)Q.graphic=[{elements:J}];else Q.graphic=[Q.graphic[0]];else if(J&&!J.elements)Q.graphic=[{elements:[J]}]})}var Bn0=h(()=>{l();Xn0();Nn0()});function zn0($){var Q=$.get("coordinateSystem");return J1(av1,Q)>=0}function qQ($){return M0($),$+"Axis"}function An0($,Q){var J=_0(),K=[],Y=_0();$.eachComponent({mainType:"dataZoom",query:Q},function(H){if(!Y.get(H.uid))X(H)});var Z;do Z=!1,$.eachComponent("dataZoom",q);while(Z);function q(H){if(!Y.get(H.uid)&&W(H))X(H),Z=!0}function X(H){Y.set(H.uid,!0),K.push(H),F(H)}function W(H){var B=!1;return H.eachTargetAxis(function(z,A){var R=J.get(z);if(R&&R[A])B=!0}),B}function F(H){H.eachTargetAxis(function(B,z){(J.get(B)||J.set(B,[]))[z]=!0})}return K}function HM($){var Q=$.ecModel,J={infoList:[],infoMap:_0()};return $.eachTargetAxis(function(K,Y){var Z=Q.getComponent(qQ(K),Y);if(!Z)return;var q=Z.getCoordSysModel();if(!q)return;var X=q.uid,W=J.infoMap.get(X);if(!W)W={model:q,axisModels:[]},J.infoList.push(W),J.infoMap.set(X,W);W.axisModels.push(Z)}),J}var e60,av1;var ZH=h(()=>{l();e60=["x","y","radius","angle","single"],av1=["cartesian2d","polar","singleAxis"]});function Vn0($){var Q={};return S(["start","end","startValue","endValue","throttle"],function(J){$.hasOwnProperty(J)&&(Q[J]=$[J])}),Q}var $70,tv1,k2;var NM=h(()=>{H0();l();_6();ZH();l0();$70=function(){function $(){this.indexList=[],this.indexMap=[]}return $.prototype.add=function(Q){if(!this.indexMap[Q])this.indexList.push(Q),this.indexMap[Q]=!0},$}(),tv1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J._autoThrottle=!0,J._noTarget=!0,J._rangePropMode=["percent","percent"],J}return Q.prototype.init=function(J,K,Y){var Z=Vn0(J);this.settledOption=Z,this.mergeDefaultAndTheme(J,Y),this._doInit(Z)},Q.prototype.mergeOption=function(J){var K=Vn0(J);F1(this.option,J,!0),F1(this.settledOption,K,!0),this._doInit(K)},Q.prototype._doInit=function(J){var K=this.option;this._setDefaultThrottle(J),this._updateRangeUse(J);var Y=this.settledOption;S([["start","startValue"],["end","endValue"]],function(Z,q){if(this._rangePropMode[q]==="value")K[Z[0]]=Y[Z[0]]=null},this),this._resetTarget()},Q.prototype._resetTarget=function(){var J=this.get("orient",!0),K=this._targetAxisInfoMap=_0(),Y=this._fillSpecifiedTargetAxis(K);if(Y)this._orient=J||this._makeAutoOrientByTargetAxis();else this._orient=J||"horizontal",this._fillAutoTargetAxisByOrient(K,this._orient);this._noTarget=!0,K.each(function(Z){if(Z.indexList.length)this._noTarget=!1},this)},Q.prototype._fillSpecifiedTargetAxis=function(J){var K=!1;return S(e60,function(Y){var Z=this.getReferringComponents(qQ(Y),nE0);if(!Z.specified)return;K=!0;var q=new $70;S(Z.models,function(X){q.add(X.componentIndex)}),J.set(Y,q)},this),K},Q.prototype._fillAutoTargetAxisByOrient=function(J,K){var Y=this.ecModel,Z=!0;if(Z){var q=K==="vertical"?"y":"x",X=Y.findComponents({mainType:q+"Axis"});W(X,q)}if(Z){var X=Y.findComponents({mainType:"singleAxis",filter:function(H){return H.get("orient",!0)===K}});W(X,"single")}function W(F,H){var B=F[0];if(!B)return;var z=new $70;if(z.add(B.componentIndex),J.set(H,z),Z=!1,H==="x"||H==="y"){var A=B.getReferringComponents("grid",L5).models[0];A&&S(F,function(R){if(B.componentIndex!==R.componentIndex&&A===R.getReferringComponents("grid",L5).models[0])z.add(R.componentIndex)})}}if(Z)S(e60,function(F){if(!Z)return;var H=Y.findComponents({mainType:qQ(F),filter:function(z){return z.get("type",!0)==="category"}});if(H[0]){var B=new $70;B.add(H[0].componentIndex),J.set(F,B),Z=!1}},this)},Q.prototype._makeAutoOrientByTargetAxis=function(){var J;return this.eachTargetAxis(function(K){!J&&(J=K)},this),J==="y"?"vertical":"horizontal"},Q.prototype._setDefaultThrottle=function(J){if(J.hasOwnProperty("throttle"))this._autoThrottle=!1;if(this._autoThrottle){var K=this.ecModel.option;this.option.throttle=K.animation&&K.animationDurationUpdate>0?100:20}},Q.prototype._updateRangeUse=function(J){var K=this._rangePropMode,Y=this.get("rangeMode");S([["start","startValue"],["end","endValue"]],function(Z,q){var X=J[Z[0]]!=null,W=J[Z[1]]!=null;if(X&&!W)K[q]="percent";else if(!X&&W)K[q]="value";else if(Y)K[q]=Y[q];else if(X)K[q]="percent"})},Q.prototype.noTarget=function(){return this._noTarget},Q.prototype.getFirstTargetAxisModel=function(){var J;return this.eachTargetAxis(function(K,Y){if(J==null)J=this.ecModel.getComponent(qQ(K),Y)},this),J},Q.prototype.eachTargetAxis=function(J,K){this._targetAxisInfoMap.each(function(Y,Z){S(Y.indexList,function(q){J.call(K,Z,q)})})},Q.prototype.getAxisProxy=function(J,K){var Y=this.getAxisModel(J,K);if(Y)return Y.__dzAxisProxy},Q.prototype.getAxisModel=function(J,K){M0(J&&K!=null);var Y=this._targetAxisInfoMap.get(J);if(Y&&Y.indexMap[K])return this.ecModel.getComponent(qQ(J),K)},Q.prototype.setRawRange=function(J){var K=this.option,Y=this.settledOption;S([["start","startValue"],["end","endValue"]],function(Z){if(J[Z[0]]!=null||J[Z[1]]!=null)K[Z[0]]=Y[Z[0]]=J[Z[0]],K[Z[1]]=Y[Z[1]]=J[Z[1]]},this),this._updateRangeUse(J)},Q.prototype.setCalculatedRange=function(J){var K=this.option;S(["start","startValue","end","endValue"],function(Y){K[Y]=J[Y]})},Q.prototype.getPercentRange=function(){var J=this.findRepresentativeAxisProxy();if(J)return J.getDataPercentWindow()},Q.prototype.getValueRange=function(J,K){if(J==null&&K==null){var Y=this.findRepresentativeAxisProxy();if(Y)return Y.getDataValueWindow()}else return this.getAxisProxy(J,K).getDataValueWindow()},Q.prototype.findRepresentativeAxisProxy=function(J){if(J)return J.__dzAxisProxy;var K,Y=this._targetAxisInfoMap.keys();for(var Z=0;Z<Y.length;Z++){var q=Y[Z],X=this._targetAxisInfoMap.get(q);for(var W=0;W<X.indexList.length;W++){var F=this.getAxisProxy(q,X.indexList[W]);if(F.hostedBy(this))return F;if(!K)K=F}}return K},Q.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},Q.prototype.getOrient=function(){return M0(this._orient),this._orient},Q.type="dataZoom",Q.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],Q.defaultOption={z:4,filterMode:"filter",start:0,end:100},Q}(O1);k2=tv1});var ev1,Rn0;var Gn0=h(()=>{H0();NM();ev1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="dataZoom.select",Q}(k2),Rn0=ev1});var $S1,gA;var BM=h(()=>{H0();a6();$S1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y,Z){this.dataZoomModel=J,this.ecModel=K,this.api=Y},Q.type="dataZoom",Q}(a1),gA=$S1});var QS1,On0;var wn0=h(()=>{H0();BM();QS1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="dataZoom.select",Q}(gA),On0=QS1});function KS1($,Q,J){var K=[1/0,-1/0];yA(J,function(q){_f0(K,q.getData(),Q)});var Y=$.getAxisModel(),Z=qf(Y.axis.scale,Y,K).calculate();return[Z.min,Z.max]}var yA,Tn0,JS1,Dn0;var Cn0=h(()=>{l();k1();M3();St();ZH();l0();yA=S,Tn0=K8,JS1=function(){function $(Q,J,K,Y){this._dimName=Q,this._axisIndex=J,this.ecModel=Y,this._dataZoomModel=K}return $.prototype.hostedBy=function(Q){return this._dataZoomModel===Q},$.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},$.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},$.prototype.getTargetSeriesModels=function(){var Q=[];return this.ecModel.eachSeries(function(J){if(zn0(J)){var K=qQ(this._dimName),Y=J.getReferringComponents(K,L5).models[0];if(Y&&this._axisIndex===Y.componentIndex)Q.push(J)}},this),Q},$.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},$.prototype.getMinMaxSpan=function(){return m0(this._minMaxSpan)},$.prototype.calculateDataWindow=function(Q){var J=this._dataExtent,K=this.getAxisModel(),Y=K.axis.scale,Z=this._dataZoomModel.getRangePropMode(),q=[0,100],X=[],W=[],F;yA(["start","end"],function(z,A){var R=Q[z],G=Q[z+"Value"];if(Z[A]==="percent")R==null&&(R=q[A]),G=Y.parse(Z5(R,q,J));else F=!0,G=G==null?J[A]:Y.parse(G),R=Z5(G,J,q);W[A]=G==null||isNaN(G)?J[A]:G,X[A]=R==null||isNaN(R)?q[A]:R}),Tn0(W),Tn0(X);var H=this._minMaxSpan;F?B(W,X,J,q,!1):B(X,W,q,J,!0);function B(z,A,R,G,O){var T=O?"Span":"ValueSpan";X9(0,z,R,"all",H["min"+T],H["max"+T]);for(var D=0;D<2;D++)A[D]=Z5(z[D],R,G,!0),O&&(A[D]=Y.parse(A[D]))}return{valueWindow:W,percentWindow:X}},$.prototype.reset=function(Q){if(Q!==this._dataZoomModel)return;var J=this.getTargetSeriesModels();this._dataExtent=KS1(this,this._dimName,J),this._updateMinMaxSpan();var K=this.calculateDataWindow(Q.settledOption);this._valueWindow=K.valueWindow,this._percentWindow=K.percentWindow,this._setAxisModel()},$.prototype.filterData=function(Q,J){if(Q!==this._dataZoomModel)return;var K=this._dimName,Y=this.getTargetSeriesModels(),Z=Q.get("filterMode"),q=this._valueWindow;if(Z==="none")return;yA(Y,function(W){var F=W.getData(),H=F.mapDimensionsAll(K);if(!H.length)return;if(Z==="weakFilter"){var B=F.getStore(),z=q0(H,function(A){return F.getDimensionIndex(A)},F);F.filterSelf(function(A){var R,G,O;for(var T=0;T<H.length;T++){var D=B.get(z[T],A),P=!isNaN(D),j=D<q[0],E=D>q[1];if(P&&!j&&!E)return!0;P&&(O=!0),j&&(R=!0),E&&(G=!0)}return O&&R&&G})}else yA(H,function(A){if(Z==="empty")W.setData(F=F.map(A,function(G){return!X(G)?NaN:G}));else{var R={};R[A]=q,F.selectRange(R)}});yA(H,function(A){F.setApproximateExtent(q,A)})});function X(W){return W>=q[0]&&W<=q[1]}},$.prototype._updateMinMaxSpan=function(){var Q=this._minMaxSpan={},J=this._dataZoomModel,K=this._dataExtent;yA(["min","max"],function(Y){var Z=J.get(Y+"Span"),q=J.get(Y+"ValueSpan");if(q!=null&&(q=this.getAxisModel().axis.scale.parse(q)),q!=null)Z=Z5(K[0]+q,K,[0,100],!0);else if(Z!=null)q=Z5(Z,[0,100],K,!0)-K[0];Q[Y+"Span"]=Z,Q[Y+"ValueSpan"]=q},this)},$.prototype._setAxisModel=function(){var Q=this.getAxisModel(),J=this._percentWindow,K=this._valueWindow;if(!J)return;var Y=Mv(K,[0,500]);Y=Math.min(Y,20);var Z=Q.axis.scale.rawExtentInfo;if(J[0]!==0)Z.setDeterminedMinMax("min",+K[0].toFixed(Y));if(J[1]!==100)Z.setDeterminedMinMax("max",+K[1].toFixed(Y));Z.freeze()},$}();Dn0=JS1});var YS1,Pn0;var kn0=h(()=>{l();ZH();Cn0();YS1={getTargetSeries:function($){function Q(Y){$.eachComponent("dataZoom",function(Z){Z.eachTargetAxis(function(q,X){var W=$.getComponent(qQ(q),X);Y(q,X,W,Z)})})}Q(function(Y,Z,q,X){q.__dzAxisProxy=null});var J=[];Q(function(Y,Z,q,X){if(!q.__dzAxisProxy)q.__dzAxisProxy=new Dn0(Y,Z,X,$),J.push(q.__dzAxisProxy)});var K=_0();return S(J,function(Y){S(Y.getTargetSeriesModels(),function(Z){K.set(Z.uid,Z)})}),K},overallReset:function($,Q){$.eachComponent("dataZoom",function(J){J.eachTargetAxis(function(K,Y){J.getAxisProxy(K,Y).reset(J)}),J.eachTargetAxis(function(K,Y){J.getAxisProxy(K,Y).filterData(J,Q)})}),$.eachComponent("dataZoom",function(J){var K=J.findRepresentativeAxisProxy();if(K){var Y=K.getDataPercentWindow(),Z=K.getDataValueWindow();J.setCalculatedRange({start:Y[0],end:Y[1],startValue:Z[0],endValue:Z[1]})}})}},Pn0=YS1});function Q70($){$.registerAction("dataZoom",function(Q,J){var K=An0(J,Q);S(K,function(Y){Y.setRawRange({start:Q.start,end:Q.end,startValue:Q.startValue,endValue:Q.endValue})})})}var jn0=h(()=>{ZH();l()});function qH($){if(En0)return;En0=!0,$.registerProcessor($.PRIORITY.PROCESSOR.FILTER,Pn0),Q70($),$.registerSubTypeDefaulter("dataZoom",function(){return"slider"})}var En0=!1;var zM=h(()=>{kn0();jn0()});function Ln0($){$.registerComponentModel(Rn0),$.registerComponentView(On0),qH($)}var hn0=h(()=>{Gn0();wn0();zM()});function j2($,Q){vn0[$]=Q}function AM($){return vn0[$]}var R8,vn0;var OJ=h(()=>{R8=function(){function $(){}return $}(),vn0={}});var qS1,Sn0;var _n0=h(()=>{H0();l();OJ();_6();y1();qS1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.optionUpdated=function(){$.prototype.optionUpdated.apply(this,arguments);var J=this.ecModel;S(this.option.feature,function(K,Y){var Z=AM(Y);if(Z){if(Z.getDefaultOption)Z.defaultOption=Z.getDefaultOption(J);F1(K,Z.defaultOption)}})},Q.type="toolbox",Q.layoutMode={type:"box",ignoreSize:!0},Q.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:e.color.border,borderRadius:0,borderWidth:0,padding:e.size.m,itemSize:15,itemGap:e.size.s,showTitle:!0,iconStyle:{borderColor:e.color.accent50,color:"none"},emphasis:{iconStyle:{borderColor:e.color.accent50}},tooltip:{show:!1,position:"bottom"}},Q}(O1),Sn0=qS1});function VM($,Q){var J=cK(Q.get("padding")),K=Q.getItemStyle(["color","opacity"]);K.fill=Q.get("backgroundColor");var Y=new X1({shape:{x:$.x-J[3],y:$.y-J[0],width:$.width+J[1]+J[3],height:$.height+J[0]+J[2],r:Q.get("borderRadius")},style:K,silent:!0,z2:-1});return Y}var J70=h(()=>{P4();a0()});function FS1($){return $.indexOf("my")===0}var WS1,fn0;var In0=h(()=>{H0();l();l4();a0();M5();K7();SZ();J70();a6();OJ();e4();YU();g5();l5();y1();WS1=function($){c(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.render=function(J,K,Y,Z){var q=this.group;if(q.removeAll(),!J.get("show"))return;var X=+J.get("itemSize"),W=J.get("orient")==="vertical",F=J.get("feature")||{},H=this._features||(this._features={}),B=[];S(F,function(D,P){B.push(P)}),new Q4(this._featureNames||[],B).add(z).update(z).remove(K1(z,null)).execute(),this._featureNames=B;function z(D,P){var j=B[D],E=B[P],L=F[j],v=new h1(L,J,J.ecModel),f;if(Z&&Z.newTitle!=null&&Z.featureName===j)L.title=Z.newTitle;if(j&&!E){if(FS1(j))f={onclick:v.option.onclick,featureName:j};else{var _=AM(j);if(!_)return;f=new _}H[j]=f}else if(f=H[E],!f)return;f.uid=l$("toolbox-feature"),f.model=v,f.ecModel=K,f.api=Y;var M=f instanceof R8;if(!j&&E){M&&f.dispose&&f.dispose(K,Y);return}if(!v.get("show")||M&&f.unusable){M&&f.remove&&f.remove(K,Y);return}if(A(v,f,j),v.setIconStatus=function(b,x){var g=this.option,m=this.iconPaths;if(g.iconStatus=g.iconStatus||{},g.iconStatus[b]=x,m[b])(x==="emphasis"?G4:O4)(m[b])},f instanceof R8){if(f.render)f.render(v,K,Y,Z)}}function A(D,P,j){var E=D.getModel("iconStyle"),L=D.getModel(["emphasis","iconStyle"]),v=P instanceof R8&&P.getIcons?P.getIcons():D.get("icon"),f=D.get("title")||{},_,M;if(R0(v))_={},_[j]=v;else _=v;if(R0(f))M={},M[j]=f;else M=f;var b=D.iconPaths={};S(_,function(x,g){var m=DZ(x,{},{x:-X/2,y:-X/2,width:X,height:X});m.setStyle(E.getItemStyle());var u=m.ensureState("emphasis");u.style=L.getItemStyle();var p=new j1({style:{text:M[g],align:L.get("textAlign"),borderRadius:L.get("textBorderRadius"),padding:L.get("textPadding"),fill:null,font:jz({fontStyle:L.get("textFontStyle"),fontFamily:L.get("textFontFamily"),fontSize:L.get("textFontSize"),fontWeight:L.get("textFontWeight")},K)},ignore:!0});m.setTextContent(p),D4({el:m,componentModel:J,itemName:g,formatterParamsExtra:{title:M[g]}}),m.__title=M[g],m.on("mouseover",function(){var o=L.getItemStyle(),t=W?J.get("right")==null&&J.get("left")!=="right"?"right":"left":J.get("bottom")==null&&J.get("top")!=="bottom"?"bottom":"top";p.setStyle({fill:L.get("textFill")||o.fill||o.stroke||e.color.neutral99,backgroundColor:L.get("textBackgroundColor")}),m.setTextConfig({position:L.get("textPosition")||t}),p.ignore=!J.get("showTitle"),Y.enterEmphasis(this)}).on("mouseout",function(){if(D.get(["iconStatus",g])!=="emphasis")Y.leaveEmphasis(this);p.hide()}),(D.get(["iconStatus",g])==="emphasis"?G4:O4)(m),q.add(m),m.on("click",P0(P.onclick,P,K,Y,g)),b[g]=m})}var R=_5(J,Y).refContainer,G=J.getBoxLayoutParams(),O=J.get("padding"),T=X5(G,R,O);ZJ(J.get("orient"),q,J.get("itemGap"),T.width,T.height),rX(q,G,R,O),q.add(VM(q.getBoundingRect(),J)),W||q.eachChild(function(D){var P=D.__title,j=D.ensureState("emphasis"),E=j.textConfig||(j.textConfig={}),L=D.getTextContent(),v=L&&L.ensureState("emphasis");if(v&&!I0(v)&&P){var f=v.style||(v.style={}),_=bX(P,j1.makeFont(f)),M=D.x+q.x,b=D.y+q.y+X,x=!1;if(b+_.height>Y.getHeight())E.position="top",x=!0;var g=x?-5-_.height:X+10;if(M+_.width/2>Y.getWidth())E.position=["100%",g],f.align="right";else if(M-_.width/2<0)E.position=[0,g],f.align="left"}})},Q.prototype.updateView=function(J,K,Y,Z){S(this._features,function(q){q instanceof R8&&q.updateView&&q.updateView(q.model,K,Y,Z)})},Q.prototype.remove=function(J,K){S(this._features,function(Y){Y instanceof R8&&Y.remove&&Y.remove(J,K)}),this.group.removeAll()},Q.prototype.dispose=function(J,K){S(this._features,function(Y){Y instanceof R8&&Y.dispose&&Y.dispose(J,K)})},Q.type="toolbox",Q}(a1);fn0=WS1});var US1,Mn0;var bn0=h(()=>{H0();t7();OJ();y1();US1=function($){c(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.onclick=function(J,K){var Y=this.model,Z=Y.get("name")||J.get("title.0.text")||"echarts",q=K.getZr().painter.getType()==="svg",X=q?"svg":Y.get("type",!0)||"png",W=K.getConnectedDataURL({type:X,backgroundColor:Y.get("backgroundColor",!0)||J.get("backgroundColor")||e.color.neutral00,connectedBackgroundColor:Y.get("connectedBackgroundColor"),excludeComponents:Y.get("excludeComponents"),pixelRatio:Y.get("pixelRatio")}),F=M1.browser;if(typeof MouseEvent==="function"&&(F.newEdge||!F.ie&&!F.edge)){var H=document.createElement("a");H.download=Z+"."+X,H.target="_blank",H.href=W;var B=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});H.dispatchEvent(B)}else if(window.navigator.msSaveOrOpenBlob||q){var z=W.split(","),A=z[0].indexOf("base64")>-1,R=q?decodeURIComponent(z[1]):z[1];A&&(R=window.atob(R));var G=Z+"."+X;if(window.navigator.msSaveOrOpenBlob){var O=R.length,T=new Uint8Array(O);while(O--)T[O]=R.charCodeAt(O);var D=new Blob([T]);window.navigator.msSaveOrOpenBlob(D,G)}else{var P=document.createElement("iframe");document.body.appendChild(P);var j=P.contentWindow,E=j.document;E.open("image/svg+xml","replace"),E.write(R),E.close(),j.focus(),E.execCommand("SaveAs",!0,G),document.body.removeChild(P)}}else{var L=Y.get("lang"),v='<body style="margin:0;"><img src="'+W+'" style="max-width:100%;" title="'+(L&&L[0]||"")+'" /></body>',f=window.open();f.document.write(v),f.document.title=Z}},Q.getDefaultOption=function(J){var K={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:J.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:e.color.neutral00,name:"",excludeComponents:["toolbox"],lang:J.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return K},Q}(R8),Mn0=US1});var gn0="__ec_magicType_stack__",HS1,NS1,yn0,xn0;var cn0=h(()=>{H0();SU();l();OJ();l0();HS1=[["line","bar"],["stack"]],NS1=function($){c(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.getIcons=function(){var J=this.model,K=J.get("icon"),Y={};return S(J.get("type"),function(Z){if(K[Z])Y[Z]=K[Z]}),Y},Q.getDefaultOption=function(J){var K={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:J.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return K},Q.prototype.onclick=function(J,K,Y){var Z=this.model,q=Z.get(["seriesIndex",Y]);if(!yn0[Y])return;var X={series:[]},W=function(B){var{subType:z,id:A}=B,R=yn0[Y](z,A,B,Z);if(R)c0(R,B.option),X.series.push(R);var G=B.coordinateSystem;if(G&&G.type==="cartesian2d"&&(Y==="line"||Y==="bar")){var O=G.getAxesByScale("ordinal")[0];if(O){var T=O.dim,D=T+"Axis",P=B.getReferringComponents(D,L5).models[0],j=P.componentIndex;X[D]=X[D]||[];for(var E=0;E<=j;E++)X[D][j]=X[D][j]||{};X[D][j].boundaryGap=Y==="bar"}}};S(HS1,function(B){if(J1(B,Y)>=0)S(B,function(z){Z.setIconStatus(z,"normal")})}),Z.setIconStatus(Y,"emphasis"),J.eachComponent({mainType:"series",query:q==null?null:{seriesIndex:q}},W);var F,H=Y;if(Y==="stack"){if(F=F1({stack:Z.option.title.tiled,tiled:Z.option.title.stack},Z.option.title),Z.get(["iconStatus",Y])!=="emphasis")H="tiled"}K.dispatchAction({type:"changeMagicType",currentType:H,newOption:X,newTitle:F,featureName:"magicType"})},Q}(R8),yn0={line:function($,Q,J,K){if($==="bar")return F1({id:Q,type:"line",data:J.get("data"),stack:J.get("stack"),markPoint:J.get("markPoint"),markLine:J.get("markLine")},K.get(["option","line"])||{},!0)},bar:function($,Q,J,K){if($==="line")return F1({id:Q,type:"bar",data:J.get("data"),stack:J.get("stack"),markPoint:J.get("markPoint"),markLine:J.get("markLine")},K.get(["option","bar"])||{},!0)},stack:function($,Q,J,K){var Y=J.get("stack")===gn0;if($==="line"||$==="bar")return K.setIconStatus("stack",Y?"normal":"emphasis"),F1({id:Q,stack:Y?"":gn0},K.get(["option","stack"])||{},!0)}};Q9({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function($,Q){Q.mergeOption($.newOption)});xn0=NS1});function BS1($){var Q={},J=[],K=[];return $.eachRawSeries(function(Y){var Z=Y.coordinateSystem;if(Z&&(Z.type==="cartesian2d"||Z.type==="polar")){var q=Z.getBaseAxis();if(q.type==="category"){var X=q.dim+"_"+q.index;if(!Q[X])Q[X]={categoryAxis:q,valueAxis:Z.getOtherAxis(q),series:[]},K.push({axisDim:q.dim,axisIndex:q.index});Q[X].series.push(Y)}else J.push(Y)}else J.push(Y)}),{seriesGroupByCategoryAxis:Q,other:J,meta:K}}function zS1($){var Q=[];return S($,function(J,K){var{categoryAxis:Y,valueAxis:Z}=J,q=Z.dim,X=[" "].concat(q0(J.series,function(A){return A.name})),W=[Y.model.getCategories()];S(J.series,function(A){var R=A.getRawData();W.push(A.getRawData().mapArray(R.mapDimension(q),function(G){return G}))});var F=[X.join(xA)];for(var H=0;H<W[0].length;H++){var B=[];for(var z=0;z<W.length;z++)B.push(W[z][H]);F.push(B.join(xA))}Q.push(F.join(`
`))}),Q.join(`

`+GM+`

`)}function AS1($){return q0($,function(Q){var J=Q.getRawData(),K=[Q.name],Y=[];return J.each(J.dimensions,function(){var Z=arguments.length,q=arguments[Z-1],X=J.getName(q);for(var W=0;W<Z-1;W++)Y[W]=arguments[W];K.push((X?X+xA:"")+Y.join(xA))}),K.join(`
`)}).join(`

`+GM+`

`)}function VS1($){var Q=BS1($);return{value:f1([zS1(Q.seriesGroupByCategoryAxis),AS1(Q.other)],function(J){return!!J.replace(/[\n\t\s]/g,"")}).join(`

`+GM+`

`),meta:Q.meta}}function RM($){return $.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function RS1($){var Q=$.slice(0,$.indexOf(`
`));if(Q.indexOf(xA)>=0)return!0}function GS1($){var Q=$.split(/\n+/g),J=RM(Q.shift()).split(K70),K=[],Y=q0(J,function(W){return{name:W,data:[]}});for(var Z=0;Z<Q.length;Z++){var q=RM(Q[Z]).split(K70);K.push(q.shift());for(var X=0;X<q.length;X++)Y[X]&&(Y[X].data[Z]=q[X])}return{series:Y,categories:K}}function OS1($){var Q=$.split(/\n+/g),J=RM(Q.shift()),K=[];for(var Y=0;Y<Q.length;Y++){var Z=RM(Q[Y]);if(!Z)continue;var q=Z.split(K70),X="",W=void 0,F=!1;if(isNaN(q[0]))F=!0,X=q[0],q=q.slice(1),K[Y]={name:X,value:[]},W=K[Y].value;else W=K[Y]=[];for(var H=0;H<q.length;H++)W.push(+q[H]);if(W.length===1)F?K[Y].value=W[0]:K[Y]=W[0]}return{name:J,data:K}}function wS1($,Q){var J=$.split(new RegExp(`
*`+GM+`
*`,"g")),K={series:[]};return S(J,function(Y,Z){if(RS1(Y)){var q=GS1(Y),X=Q[Z],W=X.axisDim+"Axis";if(X)K[W]=K[W]||[],K[W][X.axisIndex]={data:q.categories},K.series=K.series.concat(q.series)}else{var q=OS1(Y);K.series.push(q)}}),K}function DS1($,Q){return q0($,function(J,K){var Y=Q&&Q[K];if(y0(Y)&&!Z0(Y)){var Z=y0(J)&&!Z0(J);if(!Z)J={value:J};var q=Y.name!=null&&J.name==null;return J=c0(J,Y),q&&delete J.name,J}else return J})}var GM,xA="\t",K70,TS1,un0;var mn0=h(()=>{H0();SU();l();OJ();CK();N5();y1();GM=Array(60).join("-");K70=new RegExp("["+xA+"]+","g");TS1=function($){c(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.onclick=function(J,K){setTimeout(function(){K.dispatchAction({type:"hideTip"})});var Y=K.getDom(),Z=this.model;if(this._dom)Y.removeChild(this._dom);var q=document.createElement("div");q.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",q.style.backgroundColor=Z.get("backgroundColor")||e.color.neutral00;var X=document.createElement("h4"),W=Z.get("lang")||[];X.innerHTML=W[0]||Z.get("title"),X.style.cssText="margin:10px 20px",X.style.color=Z.get("textColor");var F=document.createElement("div"),H=document.createElement("textarea");F.style.cssText="overflow:auto";var B=Z.get("optionToContent"),z=Z.get("contentToOption"),A=VS1(J);if(I0(B)){var R=B(K.getOption());if(R0(R))F.innerHTML=R;else if(wK(R))F.appendChild(R)}else{H.readOnly=Z.get("readOnly");var G=H.style;G.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",G.color=Z.get("textColor"),G.borderColor=Z.get("textareaBorderColor"),G.backgroundColor=Z.get("textareaColor"),H.value=A.value,F.appendChild(H)}var O=A.meta,T=document.createElement("div");T.style.cssText="position:absolute;bottom:5px;left:0;right:0";var D="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",P=document.createElement("div"),j=document.createElement("div");D+=";background-color:"+Z.get("buttonColor"),D+=";color:"+Z.get("buttonTextColor");var E=this;function L(){Y.removeChild(q),E._dom=null}rO(P,"click",L),rO(j,"click",function(){if(z==null&&B!=null||z!=null&&B==null){S5("It seems you have just provided one of `contentToOption` and `optionToContent` functions but missed the other one. Data change is ignored."),L();return}var v;try{if(I0(z))v=z(F,K.getOption());else v=wS1(H.value,O)}catch(f){throw L(),Error("Data view format error "+f)}if(v)K.dispatchAction({type:"changeDataView",newOption:v});L()}),P.innerHTML=W[1],j.innerHTML=W[2],j.style.cssText=P.style.cssText=D,!Z.get("readOnly")&&T.appendChild(j),T.appendChild(P),q.appendChild(X),q.appendChild(F),q.appendChild(T),F.style.height=Y.clientHeight-80+"px",Y.appendChild(q),this._dom=q},Q.prototype.remove=function(J,K){this._dom&&K.getDom().removeChild(this._dom)},Q.prototype.dispose=function(J,K){this.remove(J,K)},Q.getDefaultOption=function(J){var K={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:J.getLocaleModel().get(["toolbox","dataView","title"]),lang:J.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:e.color.background,textColor:e.color.primary,textareaColor:e.color.background,textareaBorderColor:e.color.border,buttonColor:e.color.accent50,buttonTextColor:e.color.neutral00};return K},Q}(R8);Q9({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function($,Q){var J=[];S($.newOption.series,function(K){var Y=Q.getSeriesByName(K.name)[0];if(!Y)J.push(Y0({type:"scatter"},K));else{var Z=Y.get("data");J.push({name:K.name,data:DS1(K.data,Z)})}}),Q.mergeOption(c0({series:J},$.newOption))});un0=TS1});function nn0($,Q){var J=Y70($);pn0(Q,function(K,Y){var Z=J.length-1;for(;Z>=0;Z--){var q=J[Z];if(q[Y])break}if(Z<0){var X=$.queryComponents({mainType:"dataZoom",subType:"select",id:Y})[0];if(X){var W=X.getPercentRange();J[0][Y]={dataZoomId:Y,start:W[0],end:W[1]}}}}),J.push(Q)}function ln0($){var Q=Y70($),J=Q[Q.length-1];Q.length>1&&Q.pop();var K={};return pn0(J,function(Y,Z){for(var q=Q.length-1;q>=0;q--)if(Y=Q[q][Z],Y){K[Z]=Y;break}}),K}function rn0($){dn0($).snapshots=null}function in0($){return Y70($).length}function Y70($){var Q=dn0($);if(!Q.snapshots)Q.snapshots=[{}];return Q.snapshots}var pn0,dn0;var Z70=h(()=>{l();l0();pn0=S,dn0=o0()});var CS1,on0;var an0=h(()=>{H0();SU();Z70();OJ();CS1=function($){c(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.onclick=function(J,K){rn0(J),K.dispatchAction({type:"restore",from:this.uid})},Q.getDefaultOption=function(J){var K={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:J.getLocaleModel().get(["toolbox","restore","title"])};return K},Q}(R8);Q9({type:"restore",event:"restore",update:"prepareAndUpdate"},function($,Q){Q.resetOption("recreate")});on0=CS1});function X70($){return $[0]>$[1]&&$.reverse(),$}function tn0($,Q){return LK($,Q,{includeMainTypes:PS1})}function Ql0($,Q,J,K){M0(J.type==="cartesian2d","lineX/lineY brush is available only in cartesian2d.");var Y=J.getAxis(["x","y"][$]),Z=X70(q0([0,1],function(X){return Q?Y.coordToData(Y.toLocalCoord(K[X]),!0):Y.toGlobalCoord(Y.dataToCoord(K[X]))})),q=[];return q[$]=Z,q[1-$]=[NaN,NaN],{values:Z,xyMinMax:q}}function Kl0($,Q,J,K){return[Q[0]-K[$]*J[0],Q[1]-K[$]*J[1]]}function ES1($,Q){var J=Yl0($),K=Yl0(Q),Y=[J[0]/K[0],J[1]/K[1]];return isNaN(Y[0])&&(Y[0]=1),isNaN(Y[1])&&(Y[1]=1),Y}function Yl0($){return $?[$[0][1]-$[0][0],$[1][1]-$[1][0]]:[NaN,NaN]}var PS1,kS1,jS1,en0,$l0,q70,Jl0,GD;var W70=h(()=>{l();a0();W50();l0();PS1=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],kS1=function(){function $(Q,J,K){var Y=this;this._targetInfoList=[];var Z=tn0(J,Q);S(jS1,function(q,X){if(!K||!K.include||J1(K.include,X)>=0)q(Z,Y._targetInfoList)})}return $.prototype.setOutputRanges=function(Q,J){return this.matchOutputRanges(Q,J,function(K,Y,Z){if((K.coordRanges||(K.coordRanges=[])).push(Y),!K.coordRange){K.coordRange=Y;var q=q70[K.brushType](0,Z,Y);K.__rangeOffset={offset:Jl0[K.brushType](q.values,K.range,[1,1]),xyMinMax:q.xyMinMax}}}),Q},$.prototype.matchOutputRanges=function(Q,J,K){S(Q,function(Y){var Z=this.findTargetInfo(Y,J);if(Z&&Z!==!0)S(Z.coordSyses,function(q){var X=q70[Y.brushType](1,q,Y.range,!0);K(Y,X.values,q,J)})},this)},$.prototype.setInputRanges=function(Q,J){S(Q,function(K){var Y=this.findTargetInfo(K,J);if(M0(!Y||Y===!0||K.coordRange,"coordRange must be specified when coord index specified."),M0(!Y||Y!==!0||K.range,"range must be specified in global brush."),K.range=K.range||[],Y&&Y!==!0){K.panelId=Y.panelId;var Z=q70[K.brushType](0,Y.coordSys,K.coordRange),q=K.__rangeOffset;K.range=q?Jl0[K.brushType](Z.values,q.offset,ES1(Z.xyMinMax,q.xyMinMax)):Z.values}},this)},$.prototype.makePanelOpts=function(Q,J){return q0(this._targetInfoList,function(K){var Y=K.getPanelRect();return{panelId:K.panelId,defaultBrushType:J?J(K):null,clipPath:jI(Y),isTargetByCursor:LI(Y,Q,K.coordSysModel),getLinearBrushOtherExtent:EI(Y)}})},$.prototype.controlSeries=function(Q,J,K){var Y=this.findTargetInfo(Q,K);return Y===!0||Y&&J1(Y.coordSyses,J.coordinateSystem)>=0},$.prototype.findTargetInfo=function(Q,J){var K=this._targetInfoList,Y=tn0(J,Q);for(var Z=0;Z<K.length;Z++){var q=K[Z],X=Q.panelId;if(X){if(q.panelId===X)return q}else for(var W=0;W<en0.length;W++)if(en0[W](Y,q))return q}return!0},$}();jS1={grid:function($,Q){var{xAxisModels:J,yAxisModels:K,gridModels:Y}=$,Z=_0(),q={},X={};if(!J&&!K&&!Y)return;S(J,function(W){var F=W.axis.grid.model;Z.set(F.id,F),q[F.id]=!0}),S(K,function(W){var F=W.axis.grid.model;Z.set(F.id,F),X[F.id]=!0}),S(Y,function(W){Z.set(W.id,W),q[W.id]=!0,X[W.id]=!0}),Z.each(function(W){var F=W.coordinateSystem,H=[];S(F.getCartesians(),function(B,z){if(J1(J,B.getAxis("x").model)>=0||J1(K,B.getAxis("y").model)>=0)H.push(B)}),Q.push({panelId:"grid--"+W.id,gridModel:W,coordSysModel:W,coordSys:H[0],coordSyses:H,getPanelRect:$l0.grid,xAxisDeclared:q[W.id],yAxisDeclared:X[W.id]})})},geo:function($,Q){S($.geoModels,function(J){var K=J.coordinateSystem;Q.push({panelId:"geo--"+J.id,geoModel:J,coordSysModel:J,coordSys:K,coordSyses:[K],getPanelRect:$l0.geo})})}},en0=[function($,Q){var{xAxisModel:J,yAxisModel:K,gridModel:Y}=$;return!Y&&J&&(Y=J.axis.grid.model),!Y&&K&&(Y=K.axis.grid.model),Y&&Y===Q.gridModel},function($,Q){var J=$.geoModel;return J&&J===Q.geoModel}],$l0={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var $=this.coordSys,Q=$.getBoundingRect().clone();return Q.applyTransform(QJ($)),Q}},q70={lineX:K1(Ql0,0),lineY:K1(Ql0,1),rect:function($,Q,J,K){var Y=$?Q.pointToData([J[0][0],J[1][0]],K):Q.dataToPoint([J[0][0],J[1][0]],K),Z=$?Q.pointToData([J[0][1],J[1][1]],K):Q.dataToPoint([J[0][1],J[1][1]],K),q=[X70([Y[0],Z[0]]),X70([Y[1],Z[1]])];return{values:q,xyMinMax:q}},polygon:function($,Q,J,K){var Y=[[1/0,-1/0],[1/0,-1/0]],Z=q0(J,function(q){var X=$?Q.pointToData(q,K):Q.dataToPoint(q,K);return Y[0][0]=Math.min(Y[0][0],X[0]),Y[1][0]=Math.min(Y[1][0],X[1]),Y[0][1]=Math.max(Y[0][1],X[0]),Y[1][1]=Math.max(Y[1][1],X[1]),X});return{values:Z,xyMinMax:Y}}};Jl0={lineX:K1(Kl0,0),lineY:K1(Kl0,1),rect:function($,Q,J){return[[$[0][0]-J[0]*Q[0][0],$[0][1]-J[0]*Q[0][1]],[$[1][0]-J[1]*Q[1][0],$[1][1]-J[1]*Q[1][1]]]},polygon:function($,Q,J){return q0($,function(K,Y){return[K[0]-J[0]*Q[Y][0],K[1]-J[1]*Q[Y][1]]})}};GD=kS1});function U70($){var Q={xAxisIndex:$.get("xAxisIndex",!0),yAxisIndex:$.get("yAxisIndex",!0),xAxisId:$.get("xAxisId",!0),yAxisId:$.get("yAxisId",!0)};if(Q.xAxisIndex==null&&Q.xAxisId==null)Q.xAxisIndex="all";if(Q.yAxisIndex==null&&Q.yAxisId==null)Q.yAxisIndex="all";return Q}function SS1($,Q){$.setIconStatus("back",in0(Q)>1?"emphasis":"normal")}function _S1($,Q,J,K,Y){var Z=J._isZoomActive;if(K&&K.type==="takeGlobalCursor")Z=K.key==="dataZoomSelect"?K.dataZoomSelectActive:!1;J._isZoomActive=Z,$.setIconStatus("zoom",Z?"emphasis":"normal");var q=new GD(U70($),Q,{include:["grid"]}),X=q.makePanelOpts(Y,function(W){return W.xAxisDeclared&&!W.yAxisDeclared?"lineX":!W.xAxisDeclared&&W.yAxisDeclared?"lineY":"rect"});J._brushController.setPanels(X).enableBrush(Z&&X.length?{brushType:"auto",brushStyle:$.getModel("brushStyle").getItemStyle()}:!1)}var F70,LS1,hS1,vS1,Zl0;var ql0=h(()=>{H0();l();kI();W70();Z70();OJ();l0();Aa();y1();F70=S,LS1=mE0("toolbox-dataZoom_"),hS1=function($){c(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.render=function(J,K,Y,Z){if(!this._brushController)this._brushController=new CA(Y.getZr()),this._brushController.on("brush",P0(this._onBrush,this)).mount();_S1(J,K,this,Z,Y),SS1(J,K)},Q.prototype.onclick=function(J,K,Y){vS1[Y].call(this)},Q.prototype.remove=function(J,K){this._brushController&&this._brushController.unmount()},Q.prototype.dispose=function(J,K){this._brushController&&this._brushController.dispose()},Q.prototype._onBrush=function(J){var K=J.areas;if(!J.isEnd||!K.length)return;var Y={},Z=this.ecModel;this._brushController.updateCovers([]);var q=new GD(U70(this.model),Z,{include:["grid"]});q.matchOutputRanges(K,Z,function(F,H,B){if(B.type!=="cartesian2d")return;var z=F.brushType;if(z==="rect")X("x",B,H[0]),X("y",B,H[1]);else X({lineX:"x",lineY:"y"}[z],B,H)}),nn0(Z,Y),this._dispatchZoomAction(Y);function X(F,H,B){var z=H.getAxis(F),A=z.model,R=W(F,A,Z),G=R.findRepresentativeAxisProxy(A).getMinMaxSpan();if(G.minValueSpan!=null||G.maxValueSpan!=null)B=X9(0,B.slice(),z.scale.getExtent(),0,G.minValueSpan,G.maxValueSpan);R&&(Y[R.id]={dataZoomId:R.id,startValue:B[0],endValue:B[1]})}function W(F,H,B){var z;return B.eachComponent({mainType:"dataZoom",subType:"select"},function(A){var R=A.getAxisModel(F,H.componentIndex);R&&(z=A)}),z}},Q.prototype._dispatchZoomAction=function(J){var K=[];F70(J,function(Y,Z){K.push(m0(Y))}),K.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:K})},Q.getDefaultOption=function(J){var K={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:J.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:e.color.backgroundTint}};return K},Q}(R8),vS1={zoom:function(){var $=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:$})},back:function(){this._dispatchZoomAction(ln0(this.ecModel))}};fv0("dataZoom",function($){var Q=$.getComponent("toolbox",0),J=["feature","dataZoom"];if(!Q||Q.get(J)==null)return;var K=Q.getModel(J),Y=[],Z=U70(K),q=LK($,Z);F70(q.xAxisModels,function(W){return X(W,"xAxis","xAxisIndex")}),F70(q.yAxisModels,function(W){return X(W,"yAxis","yAxisIndex")});function X(W,F,H){var B=W.componentIndex,z={type:"select",$fromToolbox:!0,filterMode:K.get("filterMode",!0)||"filter",id:LS1+F+B};z[H]=B,Y.push(z)}return Y});Zl0=hS1});function H70($){$.registerComponentModel(Sn0),$.registerComponentView(fn0),j2("saveAsImage",Mn0),j2("magicType",xn0),j2("dataView",un0),j2("dataZoom",Zl0),j2("restore",on0),T1(Ln0)}var Xl0=h(()=>{E4();hn0();_n0();In0();OJ();bn0();cn0();mn0();an0();ql0()});var fS1,Wl0;var Fl0=h(()=>{H0();_6();y1();fS1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="tooltip",Q.dependencies=["axisPointer"],Q.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:0.4,displayTransition:!0,enterable:!1,backgroundColor:e.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:e.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:e.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:e.color.tertiary,fontSize:14}},Q}(O1),Wl0=fS1});function OM($){var Q=$.get("confine");return Q!=null?!!Q:$.get("renderMode")==="richText"}function Ul0($){if(!M1.domSupported)return;var Q=document.documentElement.style;for(var J=0,K=$.length;J<K;J++)if($[J]in Q)return $[J]}function B70($,Q){if(!$)return Q;Q=uS(Q,!0);var J=$.indexOf(Q);return $=J===-1?Q:"-"+$.slice(0,J)+"-"+Q,$.toLowerCase()}function Nl0($,Q){var J=$.currentStyle||document.defaultView&&document.defaultView.getComputedStyle($);return J?Q?J[Q]:J:null}var N70,Hl0;var z70=h(()=>{P4();t7();N70=Ul0(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Hl0=Ul0(["webkitTransition","transition","OTransition","MozTransition","msTransition"])});function bS1($){return $=$==="left"?"right":$==="right"?"left":$==="top"?"bottom":"top",$}function gS1($,Q,J){if(!R0(J)||J==="inside")return"";var K=$.get("backgroundColor"),Y=$.get("borderWidth");Q=JJ(Q);var Z=bS1(J),q=Math.max(Math.round(Y)*1.5,6),X="",W=A70+":",F;if(J1(["left","right"],Z)>-1)X+="top:50%",W+="translateY(-50%) rotate("+(F=Z==="left"?-225:-45)+"deg)";else X+="left:50%",W+="translateX(-50%) rotate("+(F=Z==="top"?225:45)+"deg)";var H=F*Math.PI/180,B=q+Y,z=B*Math.abs(Math.cos(H))+B*Math.abs(Math.sin(H)),A=Math.round(((z-Math.SQRT2*Y)/2+Math.SQRT2*Y-(z-B)/2)*100)/100;X+=";"+Z+":-"+A+"px";var R=Q+" solid "+Y+"px;",G=["position:absolute;width:"+q+"px;height:"+q+"px;z-index:-1;",X+";"+W+";","border-bottom:"+R,"border-right:"+R,"background-color:"+K+";"];return'<div style="'+G.join("")+'"></div>'}function yS1($,Q,J){var K="cubic-bezier(0.23,1,0.32,1)",Y="",Z="";if(J)Y=" "+$/2+"s "+K,Z="opacity"+Y+",visibility"+Y;if(!Q)Y=" "+$+"s "+K,Z+=(Z.length?",":"")+(M1.transformSupported?""+A70+Y:",left"+Y+",top"+Y);return IS1+":"+Z}function Bl0($,Q,J){var K=$.toFixed(0)+"px",Y=Q.toFixed(0)+"px";if(!M1.transformSupported)return J?"top:"+Y+";left:"+K+";":[["top",Y],["left",K]];var Z=M1.transform3dSupported,q="translate"+(Z?"3d":"")+"("+K+","+Y+(Z?",0":"")+")";return J?"top:0;left:0;"+A70+":"+q+";":[["top",0],["left",0],[N70,q]]}function xS1($){var Q=[],J=$.get("fontSize"),K=$.getTextColor();K&&Q.push("color:"+K),Q.push("font:"+$.getFont());var Y=g0($.get("lineHeight"),Math.round(J*3/2));J&&Q.push("line-height:"+Y+"px");var Z=$.get("textShadowColor"),q=$.get("textShadowBlur")||0,X=$.get("textShadowOffsetX")||0,W=$.get("textShadowOffsetY")||0;return Z&&q&&Q.push("text-shadow:"+X+"px "+W+"px "+q+"px "+Z),S(["decoration","align"],function(F){var H=$.get(F);H&&Q.push("text-"+F+":"+H)}),Q.join(";")}function cS1($,Q,J,K){var Y=[],Z=$.get("transitionDuration"),q=$.get("backgroundColor"),X=$.get("shadowBlur"),W=$.get("shadowColor"),F=$.get("shadowOffsetX"),H=$.get("shadowOffsetY"),B=$.getModel("textStyle"),z=G_($,"html"),A=F+"px "+H+"px "+X+"px "+W;if(Y.push("box-shadow:"+A),Q&&Z>0&&Y.push(yS1(Z,J,K)),q)Y.push("background-color:"+q);if(S(["width","color","radius"],function(R){var G="border-"+R,O=uS(G),T=$.get(O);T!=null&&Y.push(G+":"+T+(R==="color"?"":"px"))}),Y.push(xS1(B)),z!=null)Y.push("padding:"+cK(z).join("px ")+"px");return Y.join(";")+";"}function zl0($,Q,J,K,Y){var Z=Q&&Q.painter;if(J){var q=Z&&Z.getViewportRoot();if(q)zj0($,q,J,K,Y)}else{$[0]=K,$[1]=Y;var X=Z&&Z.getViewportRootOffset();if(X)$[0]+=X.offsetLeft,$[1]+=X.offsetTop}$[2]=$[0]/Q.getWidth(),$[3]=$[1]/Q.getHeight()}var IS1,A70,MS1,uS1,Al0;var Vl0=h(()=>{l();CK();lO();t7();P4();z70();j4();IS1=B70(Hl0,"transition"),A70=B70(N70,"transform"),MS1="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(M1.transform3dSupported?"will-change:transform;":"");uS1=function(){function $(Q,J){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,M1.wxa)return null;var K=document.createElement("div");K.domBelongToZr=!0,this.el=K;var Y=this._zr=Q.getZr(),Z=J.appendTo,q=Z&&(R0(Z)?document.querySelector(Z):wK(Z)?Z:I0(Z)&&Z(Q.getDom()));zl0(this._styleCoord,Y,q,Q.getWidth()/2,Q.getHeight()/2),(q||Q.getDom()).appendChild(K),this._api=Q,this._container=q;var X=this;K.onmouseenter=function(){if(X._enterable)clearTimeout(X._hideTimeout),X._show=!0;X._inContent=!0},K.onmousemove=function(W){if(W=W||window.event,!X._enterable){var F=Y.handler,H=Y.painter.getViewportRoot();E9(H,W,!0),F.dispatch("mousemove",W)}},K.onmouseleave=function(){if(X._inContent=!1,X._enterable){if(X._show)X.hideLater(X._hideDelay)}}}return $.prototype.update=function(Q){if(!this._container){var J=this._api.getDom(),K=Nl0(J,"position"),Y=J.style;if(Y.position!=="absolute"&&K!=="absolute")Y.position="relative"}var Z=Q.get("alwaysShowContent");Z&&this._moveIfResized(),this._alwaysShowContent=Z,this._enableDisplayTransition=Q.get("displayTransition")&&Q.get("transitionDuration")>0,this.el.className=Q.get("className")||""},$.prototype.show=function(Q,J){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var K=this.el,Y=K.style,Z=this._styleCoord;if(!K.innerHTML)Y.display="none";else Y.cssText=MS1+cS1(Q,!this._firstShow,this._longHide,this._enableDisplayTransition)+Bl0(Z[0],Z[1],!0)+("border-color:"+JJ(J)+";")+(Q.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none"));this._show=!0,this._firstShow=!1,this._longHide=!1},$.prototype.setContent=function(Q,J,K,Y,Z){var q=this.el;if(Q==null){q.innerHTML="";return}var X="";if(R0(Z)&&K.get("trigger")==="item"&&!OM(K))X=gS1(K,Y,Z);if(R0(Q))q.innerHTML=Q+X;else if(Q){if(q.innerHTML="",!Z0(Q))Q=[Q];for(var W=0;W<Q.length;W++)if(wK(Q[W])&&Q[W].parentNode!==q)q.appendChild(Q[W]);if(X&&q.childNodes.length){var F=document.createElement("div");F.innerHTML=X,q.appendChild(F)}}},$.prototype.setEnterable=function(Q){this._enterable=Q},$.prototype.getSize=function(){var Q=this.el;return Q?[Q.offsetWidth,Q.offsetHeight]:[0,0]},$.prototype.moveTo=function(Q,J){if(!this.el)return;var K=this._styleCoord;if(zl0(K,this._zr,this._container,Q,J),K[0]!=null&&K[1]!=null){var Y=this.el.style,Z=Bl0(K[0],K[1]);S(Z,function(q){Y[q[0]]=q[1]})}},$.prototype._moveIfResized=function(){var Q=this._styleCoord[2],J=this._styleCoord[3];this.moveTo(Q*this._zr.getWidth(),J*this._zr.getHeight())},$.prototype.hide=function(){var Q=this,J=this.el.style;if(this._enableDisplayTransition)J.visibility="hidden",J.opacity="0";else J.display="none";M1.transform3dSupported&&(J.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return Q._longHide=!0},500)},$.prototype.hideLater=function(Q){if(this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent)if(Q)this._hideDelay=Q,this._show=!1,this._hideTimeout=setTimeout(P0(this.hide,this),Q);else this.hide()},$.prototype.isShow=function(){return this._show},$.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var Q=this._zr;Aj0(Q&&Q.painter&&Q.painter.getViewportRoot(),this._container);var J=this.el;if(J){J.onmouseenter=J.onmousemove=J.onmouseleave=null;var K=J.parentNode;K&&K.removeChild(J)}this.el=this._container=null},$}(),Al0=uS1});function E2($){return Math.max(0,$)}function Rl0($){var Q=E2($.shadowBlur||0),J=E2($.shadowOffsetX||0),K=E2($.shadowOffsetY||0);return{left:E2(Q-J),right:E2(Q+J),top:E2(Q-K),bottom:E2(Q+K)}}function Gl0($,Q,J,K){$[0]=J,$[1]=K,$[2]=$[0]/Q.getWidth(),$[3]=$[1]/Q.getHeight()}var mS1,Ol0;var wl0=h(()=>{l();YU();j4();N5();mS1=function(){function $(Q){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=Q.getZr(),Gl0(this._styleCoord,this._zr,Q.getWidth()/2,Q.getHeight()/2)}return $.prototype.update=function(Q){var J=Q.get("alwaysShowContent");J&&this._moveIfResized(),this._alwaysShowContent=J},$.prototype.show=function(){if(this._hideTimeout)clearTimeout(this._hideTimeout);this.el.show(),this._show=!0},$.prototype.setContent=function(Q,J,K,Y,Z){var q=this;if(y0(Q))U5("Passing DOM nodes as content is not supported in richText tooltip!");if(this.el)this._zr.remove(this.el);var X=K.getModel("textStyle");this.el=new j1({style:{rich:J.richTextStyles,text:Q,lineHeight:22,borderWidth:1,borderColor:Y,textShadowColor:X.get("textShadowColor"),fill:K.get(["textStyle","color"]),padding:G_(K,"richText"),verticalAlign:"top",align:"left"},z:K.get("z")}),S(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(F){q.el.style[F]=K.get(F)}),S(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(F){q.el.style[F]=X.get(F)||0}),this._zr.add(this.el);var W=this;this.el.on("mouseover",function(){if(W._enterable)clearTimeout(W._hideTimeout),W._show=!0;W._inContent=!0}),this.el.on("mouseout",function(){if(W._enterable){if(W._show)W.hideLater(W._hideDelay)}W._inContent=!1})},$.prototype.setEnterable=function(Q){this._enterable=Q},$.prototype.getSize=function(){var Q=this.el,J=this.el.getBoundingRect(),K=Rl0(Q.style);return[J.width+K.left+K.right,J.height+K.top+K.bottom]},$.prototype.moveTo=function(Q,J){var K=this.el;if(K){var Y=this._styleCoord;Gl0(Y,this._zr,Q,J),Q=Y[0],J=Y[1];var Z=K.style,q=E2(Z.borderWidth||0),X=Rl0(Z);K.x=Q+q+X.left,K.y=J+q+X.top,K.markRedraw()}},$.prototype._moveIfResized=function(){var Q=this._styleCoord[2],J=this._styleCoord[3];this.moveTo(Q*this._zr.getWidth(),J*this._zr.getHeight())},$.prototype.hide=function(){if(this.el)this.el.hide();this._show=!1},$.prototype.hideLater=function(Q){if(this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent)if(Q)this._hideDelay=Q,this._show=!1,this._hideTimeout=setTimeout(P0(this.hide,this),Q);else this.hide()},$.prototype.isShow=function(){return this._show},$.prototype.dispose=function(){this._zr.remove(this.el)},$}();Ol0=mS1});function OD($,Q,J){var K=Q.ecModel,Y;if(J)Y=new h1(J,K,K),Y=new h1(Q.option,Y,K);else Y=Q;for(var Z=$.length-1;Z>=0;Z--){var q=$[Z];if(q){if(q instanceof h1)q=q.get("tooltip",!0);if(R0(q))q={formatter:q};if(q)Y=new h1(q,Y,K)}}return Y}function Tl0($,Q){return $.dispatchAction||P0(Q.dispatchAction,Q)}function nS1($,Q,J,K,Y,Z,q){var X=J.getSize(),W=X[0],F=X[1];if(Z!=null)if($+W+Z+2>K)$-=W+Z;else $+=Z;if(q!=null)if(Q+F+q>Y)Q-=F+q;else Q+=q;return[$,Q]}function lS1($,Q,J,K,Y){var Z=J.getSize(),q=Z[0],X=Z[1];return $=Math.min($+q,K)-q,Q=Math.min(Q+X,Y)-X,$=Math.max($,0),Q=Math.max(Q,0),[$,Q]}function rS1($,Q,J,K){var Y=J[0],Z=J[1],q=Math.ceil(Math.SQRT2*K)+8,X=0,W=0,F=Q.width,H=Q.height;switch($){case"inside":X=Q.x+F/2-Y/2,W=Q.y+H/2-Z/2;break;case"top":X=Q.x+F/2-Y/2,W=Q.y-Z-q;break;case"bottom":X=Q.x+F/2-Y/2,W=Q.y+H+q;break;case"left":X=Q.x-Y-q,W=Q.y+H/2-Z/2;break;case"right":X=Q.x+F+q,W=Q.y+H/2-Z/2}return[X,W]}function Dl0($){return $==="center"||$==="middle"}function iS1($,Q,J){var K=Aw($).queryOptionMap,Y=K.keys()[0];if(!Y||Y==="series")return;var Z=hK(Q,Y,K.get(Y),{useDefault:!1,enableAll:!1,enableNone:!1}),q=Z.models[0];if(!q)return;var X=J.getViewOfComponentModel(q),W;if(X.group.traverse(function(F){var H=r0(F).tooltipConfig;if(H&&H.name===$.name)return W=F,!0}),W)return{componentMainType:Y,componentIndex:q.componentIndex,el:W}}var pS1,dS1,Cl0;var Pl0=h(()=>{H0();l();t7();Vl0();wl0();P4();k1();a0();D60();l5();K7();T60();M3();ND();l0();a6();gw();o5();z70();sw();j4();pS1=new X1({shape:{x:-1,y:-1,width:2,height:2}}),dS1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(J,K){if(M1.node||!K.getDom())return;var Y=J.getComponent("tooltip"),Z=this._renderMode=rE0(Y.get("renderMode"));this._tooltipContent=Z==="richText"?new Ol0(K):new Al0(K,{appendTo:Y.get("appendToBody",!0)?"body":Y.get("appendTo",!0)})},Q.prototype.render=function(J,K,Y){if(M1.node||!Y.getDom())return;this.group.removeAll(),this._tooltipModel=J,this._ecModel=K,this._api=Y;var Z=this._tooltipContent;if(Z.update(J),Z.setEnterable(J.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&J.get("transitionDuration"))o$(this,"_updatePosition",50,"fixRate");else hZ(this,"_updatePosition")},Q.prototype._initGlobalListener=function(){var J=this._tooltipModel,K=J.get("triggerOn");sI("itemTooltip",this._api,P0(function(Y,Z,q){if(K!=="none"){if(K.indexOf(Y)>=0)this._tryShow(Z,q);else if(Y==="leave")this._hide(q)}},this))},Q.prototype._keepShow=function(){var J=this._tooltipModel,K=this._ecModel,Y=this._api,Z=J.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&Z!=="none"&&Z!=="click"){var q=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!Y.isDisposed()&&q.manuallyShowTip(J,K,Y,{x:q._lastX,y:q._lastY,dataByCoordSys:q._lastDataByCoordSys})})}},Q.prototype.manuallyShowTip=function(J,K,Y,Z){if(Z.from===this.uid||M1.node||!Y.getDom())return;var q=Tl0(Z,Y);this._ticket="";var X=Z.dataByCoordSys,W=iS1(Z,K,Y);if(W){var F=W.el.getBoundingRect().clone();F.applyTransform(W.el.transform),this._tryShow({offsetX:F.x+F.width/2,offsetY:F.y+F.height/2,target:W.el,position:Z.position,positionDefault:"bottom"},q)}else if(Z.tooltip&&Z.x!=null&&Z.y!=null){var H=pS1;H.x=Z.x,H.y=Z.y,H.update(),r0(H).tooltipConfig={name:null,option:Z.tooltip},this._tryShow({offsetX:Z.x,offsetY:Z.y,target:H},q)}else if(X)this._tryShow({offsetX:Z.x,offsetY:Z.y,position:Z.position,dataByCoordSys:X,tooltipOption:Z.tooltipOption},q);else if(Z.seriesIndex!=null){if(this._manuallyAxisShowTip(J,K,Y,Z))return;var B=zD(Z,K),z=B.point[0],A=B.point[1];if(z!=null&&A!=null)this._tryShow({offsetX:z,offsetY:A,target:B.el,position:Z.position,positionDefault:"bottom"},q)}else if(Z.x!=null&&Z.y!=null)Y.dispatchAction({type:"updateAxisPointer",x:Z.x,y:Z.y}),this._tryShow({offsetX:Z.x,offsetY:Z.y,position:Z.position,target:Y.getZr().findHover(Z.x,Z.y).target},q)},Q.prototype.manuallyHideTip=function(J,K,Y,Z){var q=this._tooltipContent;if(this._tooltipModel)q.hideLater(this._tooltipModel.get("hideDelay"));if(this._lastX=this._lastY=this._lastDataByCoordSys=null,Z.from!==this.uid)this._hide(Tl0(Z,Y))},Q.prototype._manuallyAxisShowTip=function(J,K,Y,Z){var{seriesIndex:q,dataIndex:X}=Z,W=K.getComponent("axisPointer").coordSysAxesInfo;if(q==null||X==null||W==null)return;var F=K.getSeriesByIndex(q);if(!F)return;var H=F.getData(),B=OD([H.getItemModel(X),F,(F.coordinateSystem||{}).model],this._tooltipModel);if(B.get("trigger")!=="axis")return;return Y.dispatchAction({type:"updateAxisPointer",seriesIndex:q,dataIndex:X,position:Z.position}),!0},Q.prototype._tryShow=function(J,K){var Y=J.target,Z=this._tooltipModel;if(!Z)return;this._lastX=J.offsetX,this._lastY=J.offsetY;var q=J.dataByCoordSys;if(q&&q.length)this._showAxisTooltip(q,J);else if(Y){var X=r0(Y);if(X.ssrType==="legend")return;this._lastDataByCoordSys=null;var W,F;if(qJ(Y,function(H){if(H.tooltipDisabled)return W=F=null,!0;if(W||F)return;if(r0(H).dataIndex!=null)W=H;else if(r0(H).tooltipConfig!=null)F=H},!0),W)this._showSeriesItemTooltip(J,W,K);else if(F)this._showComponentItemTooltip(J,F,K);else this._hide(K)}else this._lastDataByCoordSys=null,this._hide(K)},Q.prototype._showOrMove=function(J,K){var Y=J.get("showDelay");K=P0(K,this),clearTimeout(this._showTimout),Y>0?this._showTimout=setTimeout(K,Y):K()},Q.prototype._showAxisTooltip=function(J,K){var Y=this._ecModel,Z=this._tooltipModel,q=[K.offsetX,K.offsetY],X=OD([K.tooltipOption],Z),W=this._renderMode,F=[],H=$6("section",{blocks:[],noHeader:!0}),B=[],z=new O_;S(J,function(D){S(D.dataByAxis,function(P){var j=Y.getComponent(P.axisDim+"Axis",P.axisIndex),E=P.value;if(!j||E==null)return;var L=O60(E,j.axis,Y,P.seriesDataIndices,P.valueLabelOpt),v=$6("section",{header:L,noHeader:!m7(L),sortBlocks:!0,blocks:[]});H.blocks.push(v),S(P.seriesDataIndices,function(f){var _=Y.getSeriesByIndex(f.seriesIndex),M=f.dataIndexInside,b=_.getDataParams(M);if(b.dataIndex<0)return;b.axisDim=P.axisDim,b.axisIndex=P.axisIndex,b.axisType=P.axisType,b.axisId=P.axisId,b.axisValue=sz(j.axis,{value:E}),b.axisValueLabel=L,b.marker=z.makeTooltipMarker("item",JJ(b.color),W);var x=La(_.formatTooltip(M,!0,null)),g=x.frag;if(g){var m=OD([_],Z).get("valueFormatter");v.blocks.push(m?Y0({valueFormatter:m},g):g)}if(x.text)B.push(x.text);F.push(b)})})}),H.blocks.reverse(),B.reverse();var A=K.position,R=X.get("order"),G=ga(H,z,W,R,Y.get("useUTC"),X.get("textStyle"));G&&B.unshift(G);var O=W==="richText"?`

`:"<br/>",T=B.join(O);this._showOrMove(X,function(){if(this._updateContentNotChangedOnAxis(J,F))this._updatePosition(X,A,q[0],q[1],this._tooltipContent,F);else this._showTooltipContent(X,T,F,Math.random()+"",q[0],q[1],A,null,z)})},Q.prototype._showSeriesItemTooltip=function(J,K,Y){var Z=this._ecModel,q=r0(K),X=q.seriesIndex,W=Z.getSeriesByIndex(X),F=q.dataModel||W,H=q.dataIndex,B=q.dataType,z=F.getData(B),A=this._renderMode,R=J.positionDefault,G=OD([z.getItemModel(H),F,W&&(W.coordinateSystem||{}).model],this._tooltipModel,R?{position:R}:null),O=G.get("trigger");if(O!=null&&O!=="item")return;var T=F.getDataParams(H,B),D=new O_;T.marker=D.makeTooltipMarker("item",JJ(T.color),A);var P=La(F.formatTooltip(H,!1,B)),j=G.get("order"),E=G.get("valueFormatter"),L=P.frag,v=L?ga(E?Y0({valueFormatter:E},L):L,D,A,j,Z.get("useUTC"),G.get("textStyle")):P.text,f="item_"+F.name+"_"+H;this._showOrMove(G,function(){this._showTooltipContent(G,v,T,f,J.offsetX,J.offsetY,J.position,J.target,D)}),Y({type:"showTip",dataIndexInside:H,dataIndex:z.getRawIndex(H),seriesIndex:X,from:this.uid})},Q.prototype._showComponentItemTooltip=function(J,K,Y){var Z=this._renderMode==="html",q=r0(K),X=q.tooltipConfig,W=X.option||{},F=W.encodeHTMLContent;if(R0(W)){var H=W;W={content:H,formatter:H},F=!0}if(F&&Z&&W.content)W=m0(W),W.content=$8(W.content);var B=[W],z=this._ecModel.getComponent(q.componentMainType,q.componentIndex);if(z)B.push(z);B.push({formatter:W.content});var A=J.positionDefault,R=OD(B,this._tooltipModel,A?{position:A}:null),G=R.get("content"),O=Math.random()+"",T=new O_;this._showOrMove(R,function(){var D=m0(R.get("formatterParams")||{});this._showTooltipContent(R,G,D,O,J.offsetX,J.offsetY,J.position,K,T)}),Y({type:"showTip",from:this.uid})},Q.prototype._showTooltipContent=function(J,K,Y,Z,q,X,W,F,H){if(this._ticket="",!J.get("showContent")||!J.get("show"))return;var B=this._tooltipContent;B.setEnterable(J.get("enterable"));var z=J.get("formatter");W=W||J.get("position");var A=K,R=this._getNearestPoint([q,X],Y,J.get("trigger"),J.get("borderColor"),J.get("defaultBorderColor",!0)),G=R.color;if(z)if(R0(z)){var O=J.ecModel.get("useUTC"),T=Z0(Y)?Y[0]:Y,D=T&&T.axisType&&T.axisType.indexOf("time")>=0;if(A=z,D)A=RU(T.axisValue,A,O);A=pS(A,Y,!0)}else if(I0(z)){var P=P0(function(j,E){if(j===this._ticket)B.setContent(E,H,J,G,W),this._updatePosition(J,W,q,X,B,Y,F)},this);this._ticket=Z,A=z(Y,Z,P)}else A=z;B.setContent(A,H,J,G,W),B.show(J,G),this._updatePosition(J,W,q,X,B,Y,F)},Q.prototype._getNearestPoint=function(J,K,Y,Z,q){if(Y==="axis"||Z0(K))return{color:Z||q};if(!Z0(K))return{color:Z||K.color||K.borderColor}},Q.prototype._updatePosition=function(J,K,Y,Z,q,X,W){var F=this._api.getWidth(),H=this._api.getHeight();K=K||J.get("position");var B=q.getSize(),z=J.get("align"),A=J.get("verticalAlign"),R=W&&W.getBoundingRect().clone();if(W&&R.applyTransform(W.transform),I0(K))K=K([Y,Z],X,q.el,R,{viewSize:[F,H],contentSize:B.slice()});if(Z0(K))Y=f0(K[0],F),Z=f0(K[1],H);else if(y0(K)){var G=K;G.width=B[0],G.height=B[1];var O=X5(G,{width:F,height:H});Y=O.x,Z=O.y,z=null,A=null}else if(R0(K)&&W){var T=rS1(K,R,B,J.get("borderWidth"));Y=T[0],Z=T[1]}else{var T=nS1(Y,Z,q,F,H,z?null:20,A?null:20);Y=T[0],Z=T[1]}if(z&&(Y-=Dl0(z)?B[0]/2:z==="right"?B[0]:0),A&&(Z-=Dl0(A)?B[1]/2:A==="bottom"?B[1]:0),OM(J)){var T=lS1(Y,Z,q,F,H);Y=T[0],Z=T[1]}q.moveTo(Y,Z)},Q.prototype._updateContentNotChangedOnAxis=function(J,K){var Y=this._lastDataByCoordSys,Z=this._cbParamsList,q=!!Y&&Y.length===J.length;return q&&S(Y,function(X,W){var F=X.dataByAxis||[],H=J[W]||{},B=H.dataByAxis||[];q=q&&F.length===B.length,q&&S(F,function(z,A){var R=B[A]||{},G=z.seriesDataIndices||[],O=R.seriesDataIndices||[];q=q&&z.value===R.value&&z.axisType===R.axisType&&z.axisId===R.axisId&&G.length===O.length,q&&S(G,function(T,D){var P=O[D];q=q&&T.seriesIndex===P.seriesIndex&&T.dataIndex===P.dataIndex}),Z&&S(z.seriesDataIndices,function(T){var D=T.seriesIndex,P=K[D],j=Z[D];if(P&&j&&j.data!==P.data)q=!1})})}),this._lastDataByCoordSys=J,this._cbParamsList=K,!!q},Q.prototype._hide=function(J){this._lastDataByCoordSys=null,J({type:"hideTip",from:this.uid})},Q.prototype.dispose=function(J,K){if(M1.node||!K.getDom())return;hZ(this,"_updatePosition"),this._tooltipContent.dispose(),BD("itemTooltip",K)},Q.type="tooltip",Q}(a1);Cl0=dS1});function V70($){T1(VJ),$.registerComponentModel(Wl0),$.registerComponentView(Cl0),$.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},K6),$.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},K6)}var kl0=h(()=>{fA();E4();Fl0();Pl0();l()});function R70($,Q){var J=H5($?$.brush:[]);if(!J.length)return;var K=[];S(J,function(W){var F=W.hasOwnProperty("toolbox")?W.toolbox:[];if(F instanceof Array)K=K.concat(F)});var Y=$&&$.toolbox;if(Z0(Y))Y=Y[0];if(!Y)Y={feature:{}},$.toolbox=[Y];var Z=Y.feature||(Y.feature={}),q=Z.brush||(Z.brush={}),X=q.type||(q.type=[]);if(X.push.apply(X,K),oS1(X),Q&&!X.length)X.push.apply(X,sS1)}function oS1($){var Q={};S($,function(J){Q[J]=1}),$.length=0,S(Q,function(J,K){$.push(K)})}var sS1;var jl0=h(()=>{l();l0();sS1=["rect","polygon","keep","clear"]});function Ll0($){if($){for(var Q in $)if($.hasOwnProperty(Q))return!0}}function wD($,Q,J){var K={};return El0(Q,function(Z){var q=K[Z]=Y();El0($[Z],function(X,W){if(!B7.isValidType(W))return;var F={type:W,visual:X};if(J&&J(F,Z),q[W]=new B7(F),W==="opacity")F=m0(F),F.type="colorAlpha",q.__hidden.__alphaForOpacity=new B7(F)})}),K;function Y(){var Z=function(){};Z.prototype.__hidden=Z.prototype;var q=new Z;return q}}function wM($,Q,J){var K;S(J,function(Y){if(Q.hasOwnProperty(Y)&&Ll0(Q[Y]))K=!0}),K&&S(J,function(Y){if(Q.hasOwnProperty(Y)&&Ll0(Q[Y]))$[Y]=m0(Q[Y]);else delete $[Y]})}function hl0($,Q,J,K,Y,Z){var q={};S($,function(B){var z=B7.prepareVisualTypes(Q[B]);q[B]=z});var X;function W(B){return KT(J,X,B)}function F(B,z){na(J,X,B,z)}if(Z==null)J.each(H);else J.each([Z],H);function H(B,z){X=Z==null?B:z;var A=J.getRawDataItem(X);if(A&&A.visualMap===!1)return;var R=K.call(Y,B),G=Q[R],O=q[R];for(var T=0,D=O.length;T<D;T++){var P=O[T];G[P]&&G[P].applyVisual(B,W,F)}}}function vl0($,Q,J,K){var Y={};return S($,function(Z){var q=B7.prepareVisualTypes(Q[Z]);Y[Z]=q}),{progress:function(q,X){var W;if(K!=null)W=X.getDimensionIndex(K);function F(E){return KT(X,B,E)}function H(E,L){na(X,B,E,L)}var B,z=X.getStore();while((B=q.next())!=null){var A=X.getRawDataItem(B);if(A&&A.visualMap===!1)continue;var R=K!=null?z.get(W,B):B,G=J(R),O=Q[G],T=Y[G];for(var D=0,P=T.length;D<P;D++){var j=T[D];O[j]&&O[j].applyVisual(R,F,H)}}}}}var El0;var TD=h(()=>{l();O2();El0=S});function fl0($){var Q=$.brushType,J={point:function(K){return Sl0[Q].point(K,J,$)},rect:function(K){return Sl0[Q].rect(K,J,$)}};return J}function _l0($){var Q=["x","y"],J=["width","height"];return{point:function(K,Y,Z){if(K){var q=Z.range,X=K[$];return DD(X,q)}},rect:function(K,Y,Z){if(K){var q=Z.range,X=[K[Q[$]],K[Q[$]]+K[J[$]]];return X[1]<X[0]&&X.reverse(),DD(X[0],q)||DD(X[1],q)||DD(q[0],X)||DD(q[1],X)}}}}function DD($,Q){return Q[0]<=$&&$<=Q[1]}var Sl0;var Il0=h(()=>{It();s5();a0();Sl0={lineX:_l0(0),lineY:_l0(1),rect:{point:function($,Q,J){return $&&J.boundingRect.contain($[0],$[1])},rect:function($,Q,J){return $&&J.boundingRect.intersect($)}},polygon:{point:function($,Q,J){return $&&J.boundingRect.contain($[0],$[1])&&MZ(J.range,$[0],$[1])},rect:function($,Q,J){var K=J.range;if(!$||K.length<=1)return!1;var{x:Y,y:Z,width:q,height:X}=$,W=K[0];if(MZ(K,Y,Z)||MZ(K,Y+q,Z)||MZ(K,Y,Z+X)||MZ(K,Y+q,Z+X)||n0.create($).contain(W[0],W[1])||Pz(Y,Z,Y+q,Z,K)||Pz(Y,Z,Y,Z+X,K)||Pz(Y+q,Z,Y+q,Z+X,K)||Pz(Y,Z+X,Y+q,Z+X,K))return!0}}}});function w70($){$.eachComponent({mainType:"brush"},function(Q){var J=Q.brushTargetManager=new GD(Q.option,$);J.setInputRanges(Q.areas,$)})}function T70($,Q,J){var K=[],Y,Z;$.eachComponent({mainType:"brush"},function(q){J&&J.type==="takeGlobalCursor"&&q.setBrushOption(J.key==="brush"?J.brushOption:{brushType:!1})}),w70($),$.eachComponent({mainType:"brush"},function(q,X){var W={brushId:q.id,brushIndex:X,brushName:q.name,areas:m0(q.areas),selected:[]};K.push(W);var F=q.option,H=F.brushLink,B=[],z=[],A=[],R=!1;if(!X)Y=F.throttleType,Z=F.throttleDelay;var G=q0(q.areas,function(E){var L=$_1[E.brushType],v=c0({boundingRect:L?L(E):void 0},E);return v.selectors=fl0(v),v}),O=wD(q.option,Ml0,function(E){E.mappingMethod="fixed"});Z0(H)&&S(H,function(E){B[E]=1});function T(E){return H==="all"||!!B[E]}function D(E){return!!E.length}$.eachSeries(function(E,L){var v=A[L]=[];E.subType==="parallel"?P(E,L):j(E,L,v)});function P(E,L){var v=E.coordinateSystem;R=R||v.hasAxisBrushed(),T(L)&&v.eachActiveState(E.getData(),function(f,_){f==="active"&&(z[_]=1)})}function j(E,L,v){if(!E.brushSelector||eS1(q,L))return;if(S(G,function(_){if(q.brushTargetManager.controlSeries(_,E,$))v.push(_);R=R||D(v)}),T(L)&&D(v)){var f=E.getData();f.each(function(_){if(bl0(E,v,f,_))z[_]=1})}}$.eachSeries(function(E,L){var v={seriesId:E.id,seriesIndex:L,seriesName:E.name,dataIndex:[]};W.selected.push(v);var f=A[L],_=E.getData(),M=T(L)?function(b){return z[b]?(v.dataIndex.push(_.getRawIndex(b)),"inBrush"):"outOfBrush"}:function(b){return bl0(E,f,_,b)?(v.dataIndex.push(_.getRawIndex(b)),"inBrush"):"outOfBrush"};(T(L)?R:D(f))&&hl0(Ml0,O,_,M)})}),aS1(Q,Y,Z,K,J)}function aS1($,Q,J,K,Y){if(!Y)return;var Z=$.getZr();if(Z[O70])return;if(!Z[G70])Z[G70]=tS1;var q=o$(Z,G70,J,Q);q($,K)}function tS1($,Q){if(!$.isDisposed()){var J=$.getZr();J[O70]=!0,$.dispatchAction({type:"brushSelect",batch:Q}),J[O70]=!1}}function bl0($,Q,J,K){for(var Y=0,Z=Q.length;Y<Z;Y++){var q=Q[Y];if($.brushSelector(K,J,q.selectors,q))return!0}}function eS1($,Q){var J=$.option.seriesIndex;return J!=null&&J!=="all"&&(Z0(J)?J1(J,Q)<0:Q!==J)}function gl0($){return new n0($[0][0],$[1][0],$[0][1]-$[0][0],$[1][1]-$[1][0])}var Ml0,G70="__ecBrushSelect",O70="__ecInBrushSelectEvent",$_1;var D70=h(()=>{l();s5();TD();Il0();W70();Ml0=["inBrush","outOfBrush"];$_1={rect:function($){return gl0($.range)},polygon:function($){var Q,J=$.range;for(var K=0,Y=J.length;K<Y;K++){Q=Q||[[1/0,-1/0],[1/0,-1/0]];var Z=J[K];Z[0]<Q[0][0]&&(Q[0][0]=Z[0]),Z[0]>Q[0][1]&&(Q[0][1]=Z[0]),Z[1]<Q[1][0]&&(Q[1][0]=Z[1]),Z[1]>Q[1][1]&&(Q[1][1]=Z[1])}return Q&&gl0(Q)}}});var Q_1,yl0;var xl0=h(()=>{H0();l();kI();D70();a6();Q_1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(J,K){this.ecModel=J,this.api=K,this.model,(this._brushController=new CA(K.getZr())).on("brush",P0(this._onBrush,this)).mount()},Q.prototype.render=function(J,K,Y,Z){this.model=J,this._updateController(J,K,Y,Z)},Q.prototype.updateTransform=function(J,K,Y,Z){w70(K),this._updateController(J,K,Y,Z)},Q.prototype.updateVisual=function(J,K,Y,Z){this.updateTransform(J,K,Y,Z)},Q.prototype.updateView=function(J,K,Y,Z){this._updateController(J,K,Y,Z)},Q.prototype._updateController=function(J,K,Y,Z){(!Z||Z.$from!==J.id)&&this._brushController.setPanels(J.brushTargetManager.makePanelOpts(Y)).enableBrush(J.brushOption).updateCovers(J.areas.slice())},Q.prototype.dispose=function(){this._brushController.dispose()},Q.prototype._onBrush=function(J){var K=this.model.id,Y=this.model.brushTargetManager.setOutputRanges(J.areas,this.ecModel);(!J.isEnd||J.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:K,areas:m0(Y),$from:K}),J.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:K,areas:m0(Y),$from:K})},Q.type="brush",Q}(a1),yl0=Q_1});function cl0($,Q){return F1({brushType:$.brushType,brushMode:$.brushMode,transformable:$.transformable,brushStyle:new h1($.brushStyle).getItemStyle(),removeOnClick:$.removeOnClick,z:$.z},Q,!0)}var J_1,ul0;var ml0=h(()=>{H0();l();TD();K7();_6();y1();J_1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.areas=[],J.brushOption={},J}return Q.prototype.optionUpdated=function(J,K){var Y=this.option;!K&&wM(Y,J,["inBrush","outOfBrush"]);var Z=Y.inBrush=Y.inBrush||{};if(Y.outOfBrush=Y.outOfBrush||{color:this.option.defaultOutOfBrushColor},!Z.hasOwnProperty("liftZ"))Z.liftZ=5},Q.prototype.setAreas=function(J){if(M0(Z0(J)),S(J,function(K){M0(K.brushType,"Illegal areas")}),!J)return;this.areas=q0(J,function(K){return cl0(this.option,K)},this)},Q.prototype.setBrushOption=function(J){this.brushOption=cl0(this.option,J),this.brushType=this.brushOption.brushType},Q.type="brush",Q.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],Q.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:e.color.backgroundTint,borderColor:e.color.borderTint},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4,defaultOutOfBrushColor:e.color.disabled},Q}(O1);ul0=J_1});var K_1,Y_1,pl0;var dl0=h(()=>{H0();l();OJ();K_1=["rect","polygon","lineX","lineY","keep","clear"],Y_1=function($){c(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.render=function(J,K,Y){var Z,q,X;K.eachComponent({mainType:"brush"},function(W){Z=W.brushType,q=W.brushOption.brushMode||"single",X=X||!!W.areas.length}),this._brushType=Z,this._brushMode=q,S(J.get("type",!0),function(W){J.setIconStatus(W,(W==="keep"?q==="multiple":W==="clear"?X:W===Z)?"emphasis":"normal")})},Q.prototype.updateView=function(J,K,Y){this.render(J,K,Y)},Q.prototype.getIcons=function(){var J=this.model,K=J.get("icon",!0),Y={};return S(J.get("type",!0),function(Z){if(K[Z])Y[Z]=K[Z]}),Y},Q.prototype.onclick=function(J,K,Y){var Z=this._brushType,q=this._brushMode;if(Y==="clear")K.dispatchAction({type:"axisAreaSelect",intervals:[]}),K.dispatchAction({type:"brush",command:"clear",areas:[]});else K.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:Y==="keep"?Z:Z===Y?!1:Y,brushMode:Y==="keep"?q==="multiple"?"single":"multiple":q}})},Q.getDefaultOption=function(J){var K={show:!0,type:K_1.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:J.getLocaleModel().get(["toolbox","brush","title"])};return K},Q}(R8),pl0=Y_1});function C70($){$.registerComponentView(yl0),$.registerComponentModel(ul0),$.registerPreprocessor(R70),$.registerVisual($.PRIORITY.VISUAL.BRUSH,T70),$.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(Q,J){J.eachComponent({mainType:"brush",query:Q},function(K){K.setAreas(Q.areas)})}),$.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},K6),$.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},K6),j2("brush",pl0)}var nl0=h(()=>{jl0();xl0();ml0();D70();dl0();OJ();l()});function P70($){$.registerComponentModel(Z_1),$.registerComponentView(q_1)}var Z_1,q_1;var ll0=h(()=>{H0();l();a0();o5();g5();l5();_6();a6();P4();y1();Z_1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.layoutMode={type:"box",ignoreSize:!0},J}return Q.type="title",Q.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:"center",top:e.size.m,backgroundColor:e.color.transparent,borderColor:e.color.primary,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:e.color.primary},subtextStyle:{fontSize:12,color:e.color.quaternary}},Q}(O1),q_1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){if(this.group.removeAll(),!J.get("show"))return;var Z=this.group,q=J.getModel("textStyle"),X=J.getModel("subtextStyle"),W=J.get("textAlign"),F=g0(J.get("textBaseline"),J.get("textVerticalAlign")),H=new j1({style:A5(q,{text:J.get("text"),fill:q.getTextColor()},{disableBox:!0}),z2:10}),B=H.getBoundingRect(),z=J.get("subtext"),A=new j1({style:A5(X,{text:z,fill:X.getTextColor(),y:B.height+J.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),R=J.get("link"),G=J.get("sublink"),O=J.get("triggerEvent",!0);if(H.silent=!R&&!O,A.silent=!G&&!O,R)H.on("click",function(){OU(R,"_"+J.get("target"))});if(G)A.on("click",function(){OU(G,"_"+J.get("subtarget"))});r0(H).eventData=r0(A).eventData=O?{componentType:"title",componentIndex:J.componentIndex}:null,Z.add(H),z&&Z.add(A);var T=Z.getBoundingRect(),D=J.getBoxLayoutParams();D.width=T.width,D.height=T.height;var P=_5(J,Y),j=X5(D,P.refContainer,J.get("padding"));if(!W){if(W=J.get("left")||J.get("right"),W==="middle")W="center";if(W==="right")j.x+=j.width;else if(W==="center")j.x+=j.width/2}if(!F){if(F=J.get("top")||J.get("bottom"),F==="center")F="middle";if(F==="bottom")j.y+=j.height;else if(F==="middle")j.y+=j.height/2;F=F||"top"}Z.x=j.x,Z.y=j.y,Z.markRedraw();var E={align:W,verticalAlign:F};H.setStyle(E),A.setStyle(E),T=Z.getBoundingRect();var L=j.margin,v=J.getItemStyle(["color","opacity"]);v.fill=J.get("backgroundColor");var f=new X1({shape:{x:T.x-L[3],y:T.y-L[0],width:T.width+L[1]+L[3],height:T.height+L[0]+L[2],r:J.get("borderRadius")},style:v,subPixelOptimize:!0,silent:!0});Z.add(f)},Q.type="title",Q}(a1)});var X_1,k70;var rl0=h(()=>{H0();_6();e$();l();l0();y1();X_1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.layoutMode="box",J}return Q.prototype.init=function(J,K,Y){this.mergeDefaultAndTheme(J,Y),this._initData()},Q.prototype.mergeOption=function(J){$.prototype.mergeOption.apply(this,arguments),this._initData()},Q.prototype.setCurrentIndex=function(J){if(J==null)J=this.option.currentIndex;var K=this._data.count();if(this.option.loop)J=(J%K+K)%K;else J>=K&&(J=K-1),J<0&&(J=0);this.option.currentIndex=J},Q.prototype.getCurrentIndex=function(){return this.option.currentIndex},Q.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},Q.prototype.setPlayState=function(J){this.option.autoPlay=!!J},Q.prototype.getPlayState=function(){return!!this.option.autoPlay},Q.prototype._initData=function(){var J=this.option,K=J.data||[],Y=J.axisType,Z=this._names=[],q;if(Y==="category")q=[],S(K,function(F,H){var B=T6(sQ(F),""),z;if(y0(F))z=m0(F),z.value=H;else z=H;q.push(z),Z.push(B)});else q=K;var X={category:"ordinal",time:"time",value:"number"}[Y]||"number",W=this._data=new e6([{name:"value",type:X}],this);W.initData(q,Z)},Q.prototype.getData=function(){return this._data},Q.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},Q.type="timeline",Q.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:e.size.m,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2000,currentIndex:0,itemStyle:{},label:{color:e.color.secondary},data:[]},Q}(O1),k70=X_1});var il0,sl0;var ol0=h(()=>{H0();rl0();sw();l();e4();y1();il0=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="timeline.slider",Q.defaultOption=C4(k70.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:e.color.border,borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:e.color.accent10},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:e.color.tertiary},itemStyle:{color:e.color.accent20,borderWidth:0},checkpointStyle:{symbol:"circle",symbolSize:15,color:e.color.accent50,borderColor:e.color.accent50,borderWidth:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10.6699C11.5 9.90014 12.3333 9.41887 13 9.80371L20.5 14.1338C21.1667 14.5187 21.1667 15.4813 20.5 15.8662L13 20.1963C12.3333 20.5811 11.5 20.0999 11.5 19.3301V10.6699Z",stopIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10C12.3284 10 13 10.6716 13 11.5V18.5C13 19.3284 12.3284 20 11.5 20C10.6716 20 10 19.3284 10 18.5V11.5C10 10.6716 10.6716 10 11.5 10ZM18.5 10C19.3284 10 20 10.6716 20 11.5V18.5C20 19.3284 19.3284 20 18.5 20C17.6716 20 17 19.3284 17 18.5V11.5C17 10.6716 17.6716 10 18.5 10Z",nextIcon:"path://M0.838834 18.7383C0.253048 18.1525 0.253048 17.2028 0.838834 16.617L7.55635 9.89949L0.838834 3.18198C0.253048 2.59619 0.253048 1.64645 0.838834 1.06066C1.42462 0.474874 2.37437 0.474874 2.96015 1.06066L10.7383 8.83883L10.8412 8.95277C11.2897 9.50267 11.2897 10.2963 10.8412 10.8462L10.7383 10.9602L2.96015 18.7383C2.37437 19.3241 1.42462 19.3241 0.838834 18.7383Z",prevIcon:"path://M10.9602 1.06066C11.5459 1.64645 11.5459 2.59619 10.9602 3.18198L4.24264 9.89949L10.9602 16.617C11.5459 17.2028 11.5459 18.1525 10.9602 18.7383C10.3744 19.3241 9.42462 19.3241 8.83883 18.7383L1.06066 10.9602L0.957771 10.8462C0.509245 10.2963 0.509245 9.50267 0.957771 8.95277L1.06066 8.83883L8.83883 1.06066C9.42462 0.474874 10.3744 0.474874 10.9602 1.06066Z",prevBtnSize:18,nextBtnSize:18,color:e.color.accent50,borderColor:e.color.accent50,borderWidth:0},emphasis:{label:{show:!0,color:e.color.accent60},itemStyle:{color:e.color.accent60,borderColor:e.color.accent60},controlStyle:{color:e.color.accent70,borderColor:e.color.accent70}},progress:{lineStyle:{color:e.color.accent30},itemStyle:{color:e.color.accent40}},data:[]}),Q}(k70);n5(il0,EU.prototype);sl0=il0});var W_1,al0;var tl0=h(()=>{H0();a6();W_1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="timeline",Q}(a1),al0=W_1});var F_1,el0;var $r0=h(()=>{H0();W2();F_1=function($){c(Q,$);function Q(J,K,Y,Z){var q=$.call(this,J,K,Y)||this;return q.type=Z||"value",q}return Q.prototype.getLabelModel=function(){return this.model.getModel("label")},Q.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},Q}(I8),el0=F_1});function H_1($,Q){if(Q=Q||$.get("type"),Q)switch(Q){case"category":return new IZ({ordinalMeta:$.getCategories(),extent:[1/0,-1/0]});case"time":return new Qf({locale:$.ecModel.getLocaleModel(),useUTC:$.ecModel.get("useUTC")});default:return new l9}}function N_1($,Q){return X5($.getBoxLayoutParams(),_5($,Q).refContainer,$.get("padding"))}function B_1($,Q,J,K){var Y=K.style,Z=DZ($.get(["controlStyle",Q]),K||{},new n0(J[0],J[1],J[2],J[3]));if(Y)Z.setStyle(Y);return Z}function Jr0($,Q,J,K,Y,Z){var q=Q.get("color");if(!Y){var X=$.get("symbol");Y=y5(X,-1,-1,2,2,q),Y.setStyle("strokeNoScale",!0),J.add(Y),Z&&Z.onCreate(Y)}else Y.setColor(q),J.add(Y),Z&&Z.onUpdate(Y);var W=Q.getItemStyle(["color"]);Y.setStyle(W),K=F1({rectHover:!0,z2:100},K,!0);var F=XJ($.get("symbolSize"));K.scaleX=F[0]/2,K.scaleY=F[1]/2;var H=f3($.get("symbolOffset"),F);if(H)K.x=(K.x||0)+H[0],K.y=(K.y||0)+H[1];var B=$.get("symbolRotate");return K.rotation=(B||0)*Math.PI/180||0,Y.attr(K),Y.updateTransform(),Y}function Kr0($,Q,J,K,Y,Z){if($.dragging)return;var q=Y.getModel("checkpointStyle"),X=K.dataToCoord(Y.getData().get("value",J));if(Z||!q.get("animation",!0))$.attr({x:X,y:0}),Q&&Q.attr({shape:{x2:X}});else{var W={duration:q.get("animationDuration",!0),easing:q.get("animationEasing",!0)};$.stopAnimation(null,!0),$.animateTo({x:X,y:0},W),Q&&Q.animateTo({shape:{x2:X}},W)}}var j70,Qr0,U_1,Yr0;var Zr0=h(()=>{H0();s5();a0();g5();l5();tl0();$r0();S8();k1();l();VT();ht();fU();l4();l0();o5();M5();j4();j70=Math.PI,Qr0=o0(),U_1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(J,K){this.api=K},Q.prototype.render=function(J,K,Y){if(this.model=J,this.api=Y,this.ecModel=K,this.group.removeAll(),J.get("show",!0)){var Z=this._layout(J,Y),q=this._createGroup("_mainGroup"),X=this._createGroup("_labelGroup"),W=this._axis=this._createAxis(Z,J);J.formatTooltip=function(F){var H=W.scale.getLabel({value:F});return $6("nameValue",{noName:!0,value:H})},S(["AxisLine","AxisTick","Control","CurrentPointer"],function(F){this["_render"+F](Z,q,W,J)},this),this._renderAxisLabel(Z,X,W,J),this._position(Z,J)}this._doPlayStop(),this._updateTicksStatus()},Q.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},Q.prototype.dispose=function(){this._clearTimer()},Q.prototype._layout=function(J,K){var Y=J.get(["label","position"]),Z=J.get("orient"),q=N_1(J,K),X;if(Y==null||Y==="auto")X=Z==="horizontal"?q.y+q.height/2<K.getHeight()/2?"-":"+":q.x+q.width/2<K.getWidth()/2?"+":"-";else if(R0(Y))X={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[Z][Y];else X=Y;var W={horizontal:"center",vertical:X>=0||X==="+"?"left":"right"},F={horizontal:X>=0||X==="+"?"top":"bottom",vertical:"middle"},H={horizontal:0,vertical:j70/2},B=Z==="vertical"?q.height:q.width,z=J.getModel("controlStyle"),A=z.get("show",!0),R=A?z.get("itemSize"):0,G=A?z.get("itemGap"):0,O=R+G,T=J.get(["label","rotate"])||0;T=T*j70/180;var D,P,j,E=z.get("position",!0),L=A&&z.get("showPlayBtn",!0),v=A&&z.get("showPrevBtn",!0),f=A&&z.get("showNextBtn",!0),_=0,M=B;if(E==="left"||E==="bottom")L&&(D=[0,0],_+=O),v&&(P=[_,0],_+=O),f&&(j=[M-R,0],M-=O);else L&&(D=[M-R,0],M-=O),v&&(P=[0,0],_+=O),f&&(j=[M-R,0],M-=O);var b=[_,M];if(J.get("inverse"))b.reverse();return{viewRect:q,mainLength:B,orient:Z,rotation:H[Z],labelRotation:T,labelPosOpt:X,labelAlign:J.get(["label","align"])||W[Z],labelBaseline:J.get(["label","verticalAlign"])||J.get(["label","baseline"])||F[Z],playPosition:D,prevBtnPosition:P,nextBtnPosition:j,axisExtent:b,controlSize:R,controlGap:G}},Q.prototype._position=function(J,K){var Y=this._mainGroup,Z=this._labelGroup,q=J.viewRect;if(J.orient==="vertical"){var X=V6(),W=q.x,F=q.y+q.height;s8(X,X,[-W,-F]),V4(X,X,-j70/2),s8(X,X,[W,F]),q=q.clone(),q.applyTransform(X)}var H=D(q),B=D(Y.getBoundingRect()),z=D(Z.getBoundingRect()),A=[Y.x,Y.y],R=[Z.x,Z.y];R[0]=A[0]=H[0][0];var G=J.labelPosOpt;if(G==null||R0(G)){var O=G==="+"?0:1;P(A,B,H,1,O),P(R,z,H,1,1-O)}else{var O=G>=0?0:1;P(A,B,H,1,O),R[1]=A[1]+G}Y.setPosition(A),Z.setPosition(R),Y.rotation=Z.rotation=J.rotation,T(Y),T(Z);function T(j){j.originX=H[0][0]-j.x,j.originY=H[1][0]-j.y}function D(j){return[[j.x,j.x+j.width],[j.y,j.y+j.height]]}function P(j,E,L,v,f){j[v]+=L[v][f]-E[v][f]}},Q.prototype._createAxis=function(J,K){var Y=K.getData(),Z=K.get("axisType"),q=H_1(K,Z);q.getTicks=function(){return Y.mapArray(["value"],function(F){return{value:F}})};var X=Y.getDataExtent("value");q.setExtent(X[0],X[1]),q.calcNiceTicks();var W=new el0("value",q,J.axisExtent,Z);return W.model=K,W},Q.prototype._createGroup=function(J){var K=this[J]=new b0;return this.group.add(K),K},Q.prototype._renderAxisLine=function(J,K,Y,Z){var q=Y.getExtent();if(!Z.get(["lineStyle","show"]))return;var X=new X6({shape:{x1:q[0],y1:0,x2:q[1],y2:0},style:Y0({lineCap:"round"},Z.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});K.add(X);var W=this._progressLine=new X6({shape:{x1:q[0],x2:this._currentPointer?this._currentPointer.x:q[0],y1:0,y2:0},style:c0({lineCap:"round",lineWidth:X.style.lineWidth},Z.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});K.add(W)},Q.prototype._renderAxisTick=function(J,K,Y,Z){var q=this,X=Z.getData(),W=Y.scale.getTicks();this._tickSymbols=[],S(W,function(F){var H=Y.dataToCoord(F.value),B=X.getItemModel(F.value),z=B.getModel("itemStyle"),A=B.getModel(["emphasis","itemStyle"]),R=B.getModel(["progress","itemStyle"]),G={x:H,y:0,onclick:P0(q._changeTimeline,q,F.value)},O=Jr0(B,z,K,G);O.ensureState("emphasis").style=A.getItemStyle(),O.ensureState("progress").style=R.getItemStyle(),gK(O);var T=r0(O);if(B.get("tooltip"))T.dataIndex=F.value,T.dataModel=Z;else T.dataIndex=T.dataModel=null;q._tickSymbols.push(O)})},Q.prototype._renderAxisLabel=function(J,K,Y,Z){var q=this,X=Y.getLabelModel();if(!X.get("show"))return;var W=Z.getData(),F=Y.getViewLabels();this._tickLabels=[],S(F,function(H){var B=H.tickValue,z=W.getItemModel(B),A=z.getModel("label"),R=z.getModel(["emphasis","label"]),G=z.getModel(["progress","label"]),O=Y.dataToCoord(H.tickValue),T=new j1({x:O,y:0,rotation:J.labelRotation-J.rotation,onclick:P0(q._changeTimeline,q,B),silent:!1,style:A5(A,{text:H.formattedLabel,align:J.labelAlign,verticalAlign:J.labelBaseline})});T.ensureState("emphasis").style=A5(R),T.ensureState("progress").style=A5(G),K.add(T),gK(T),Qr0(T).dataIndex=B,q._tickLabels.push(T)})},Q.prototype._renderControl=function(J,K,Y,Z){var{controlSize:q,rotation:X}=J,W=Z.getModel("controlStyle").getItemStyle(),F=Z.getModel(["emphasis","controlStyle"]).getItemStyle(),H=Z.getPlayState(),B=Z.get("inverse",!0);z(J.nextBtnPosition,"next",P0(this._changeTimeline,this,B?"-":"+")),z(J.prevBtnPosition,"prev",P0(this._changeTimeline,this,B?"+":"-")),z(J.playPosition,H?"stop":"play",P0(this._handlePlayClick,this,!H),!0);function z(A,R,G,O){if(!A)return;var T=a8(g0(Z.get(["controlStyle",R+"BtnSize"]),q),q),D=[0,-T/2,T,T],P=B_1(Z,R+"Icon",D,{x:A[0],y:A[1],originX:q/2,originY:0,rotation:O?-X:0,rectHover:!0,style:W,onclick:G});P.ensureState("emphasis").style=F,K.add(P),gK(P)}},Q.prototype._renderCurrentPointer=function(J,K,Y,Z){var q=Z.getData(),X=Z.getCurrentIndex(),W=q.getItemModel(X).getModel("checkpointStyle"),F=this,H={onCreate:function(B){B.draggable=!0,B.drift=P0(F._handlePointerDrag,F),B.ondragend=P0(F._handlePointerDragend,F),Kr0(B,F._progressLine,X,Y,Z,!0)},onUpdate:function(B){Kr0(B,F._progressLine,X,Y,Z)}};this._currentPointer=Jr0(W,W,this._mainGroup,{},this._currentPointer,H)},Q.prototype._handlePlayClick=function(J){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:J,from:this.uid})},Q.prototype._handlePointerDrag=function(J,K,Y){this._clearTimer(),this._pointerChangeTimeline([Y.offsetX,Y.offsetY])},Q.prototype._handlePointerDragend=function(J){this._pointerChangeTimeline([J.offsetX,J.offsetY],!0)},Q.prototype._pointerChangeTimeline=function(J,K){var Y=this._toAxisCoord(J)[0],Z=this._axis,q=K8(Z.getExtent().slice());Y>q[1]&&(Y=q[1]),Y<q[0]&&(Y=q[0]),this._currentPointer.x=Y,this._currentPointer.markRedraw();var X=this._progressLine;if(X)X.shape.x2=Y,X.dirty();var W=this._findNearestTick(Y),F=this.model;if(K||W!==F.getCurrentIndex()&&F.get("realtime"))this._changeTimeline(W)},Q.prototype._doPlayStop=function(){var J=this;if(this._clearTimer(),this.model.getPlayState())this._timer=setTimeout(function(){var K=J.model;J._changeTimeline(K.getCurrentIndex()+(K.get("rewind",!0)?-1:1))},this.model.get("playInterval"))},Q.prototype._toAxisCoord=function(J){var K=this._mainGroup.getLocalTransform();return e8(J,K,!0)},Q.prototype._findNearestTick=function(J){var K=this.model.getData(),Y=1/0,Z,q=this._axis;return K.each(["value"],function(X,W){var F=q.dataToCoord(X),H=Math.abs(F-J);if(H<Y)Y=H,Z=W}),Z},Q.prototype._clearTimer=function(){if(this._timer)clearTimeout(this._timer),this._timer=null},Q.prototype._changeTimeline=function(J){var K=this.model.getCurrentIndex();if(J==="+")J=K+1;else if(J==="-")J=K-1;this.api.dispatchAction({type:"timelineChange",currentIndex:J,from:this.uid})},Q.prototype._updateTicksStatus=function(){var J=this.model.getCurrentIndex(),K=this._tickSymbols,Y=this._tickLabels;if(K)for(var Z=0;Z<K.length;Z++)K&&K[Z]&&K[Z].toggleState("progress",Z<J);if(Y)for(var Z=0;Z<Y.length;Z++)Y&&Y[Z]&&Y[Z].toggleState("progress",Qr0(Y[Z]).dataIndex<=J)},Q.type="timeline.slider",Q}(al0);Yr0=U_1});function qr0($){$.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(Q,J,K){var Y=J.getComponent("timeline");if(Y&&Q.currentIndex!=null){if(Y.setCurrentIndex(Q.currentIndex),!Y.get("loop",!0)&&Y.isIndexMax()&&Y.getPlayState())Y.setPlayState(!1),K.dispatchAction({type:"timelinePlayChange",playState:!1,from:Q.from})}return J.resetOption("timeline",{replaceMerge:Y.get("replaceMerge",!0)}),c0({currentIndex:Y.option.currentIndex},Q)}),$.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(Q,J){var K=J.getComponent("timeline");if(K&&Q.playState!=null)K.setPlayState(Q.playState)})}var Xr0=h(()=>{l()});function E70($){var Q=$&&$.timeline;if(!Z0(Q))Q=Q?[Q]:[];S(Q,function(J){if(!J)return;z_1(J)})}function z_1($){var Q=$.type,J={number:"value",time:"time"};if(J[Q])$.axisType=J[Q],delete $.type;if(Wr0($),XH($,"controlPosition")){var K=$.controlStyle||($.controlStyle={});if(!XH(K,"position"))K.position=$.controlPosition;if(K.position==="none"&&!XH(K,"show"))K.show=!1,delete K.position;delete $.controlPosition}S($.data||[],function(Y){if(y0(Y)&&!Z0(Y)){if(!XH(Y,"value")&&XH(Y,"name"))Y.value=Y.name;Wr0(Y)}})}function Wr0($){var Q=$.itemStyle||($.itemStyle={}),J=Q.emphasis||(Q.emphasis={}),K=$.label||$.label||{},Y=K.normal||(K.normal={}),Z={normal:1,emphasis:1};if(S(K,function(q,X){if(!Z[X]&&!XH(Y,X))Y[X]=q}),J.label&&!XH(K,"emphasis"))K.emphasis=J.label,delete J.label}function XH($,Q){return $.hasOwnProperty(Q)}var Fr0=h(()=>{l()});function L70($){$.registerComponentModel(sl0),$.registerComponentView(Yr0),$.registerSubTypeDefaulter("timeline",function(){return"slider"}),qr0($),$.registerPreprocessor(E70)}var Ur0=h(()=>{ol0();Zr0();Xr0();Fr0()});function WH($,Q){if(!$)return!1;var J=Z0($)?$:[$];for(var K=0;K<J.length;K++)if(J[K]&&J[K][Q])return!0;return!1}var DM=h(()=>{l()});function CM($){j3($,"label",["show"])}var PM,Hr0,L4;var L2=h(()=>{H0();l();t7();sw();_6();l0();j4();PM=o0(),Hr0=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.createdBySelf=!1,J.preventAutoZ=!0,J}return Q.prototype.init=function(J,K,Y){if(this.type==="marker")throw Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.");this.mergeDefaultAndTheme(J,Y),this._mergeOption(J,Y,!1,!0)},Q.prototype.isAnimationEnabled=function(){if(M1.node)return!1;var J=this.__hostSeries;return this.getShallow("animation")&&J&&J.isAnimationEnabled()},Q.prototype.mergeOption=function(J,K){this._mergeOption(J,K,!1,!1)},Q.prototype._mergeOption=function(J,K,Y,Z){var q=this.mainType;if(!Y)K.eachSeries(function(X){var W=X.get(this.mainType,!0),F=PM(X)[q];if(!W||!W.data){PM(X)[q]=null;return}if(!F){if(Z)CM(W);S(W.data,function(H){if(H instanceof Array)CM(H[0]),CM(H[1]);else CM(H)}),F=this.createMarkerModelFromSeries(W,this,K),Y0(F,{mainType:this.mainType,seriesIndex:X.seriesIndex,name:X.name,createdBySelf:!0}),F.__hostSeries=X}else F._mergeOption(W,K,!0);PM(X)[q]=F},this)},Q.prototype.formatTooltip=function(J,K,Y){var Z=this.getData(),q=this.getRawValue(J),X=Z.getName(J);return $6("section",{header:this.name,blocks:[$6("nameValue",{name:X,value:q,noName:!X,noValue:q==null})]})},Q.prototype.getData=function(){return this._data},Q.prototype.setData=function(J){this._data=J},Q.prototype.getDataParams=function(J,K){var Y=EU.prototype.getDataParams.call(this,J,K),Z=this.__hostSeries;if(Z)Y.seriesId=Z.id,Y.seriesName=Z.name,Y.seriesType=Z.subType;return Y},Q.getMarkerModelFromSeries=function(J,K){return PM(J)[K]},Q.type="marker",Q.dependencies=["series","grid","polar","geo"],Q}(O1);n5(Hr0,EU.prototype);L4=Hr0});var A_1,Nr0;var Br0=h(()=>{H0();L2();A_1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.createMarkerModelFromSeries=function(J,K,Y){return new Q(J,K,Y)},Q.type="markPoint",Q.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},Q}(L4),Nr0=A_1});function h70($){return!(isNaN(parseFloat($.x))&&isNaN(parseFloat($.y)))}function V_1($){return!isNaN(parseFloat($.x))&&!isNaN(parseFloat($.y))}function kM($,Q,J,K,Y,Z,q){var X=[],W=I3(Q,Y),F=W?Q.getCalculationInfo("stackResultDimension"):Y,H=CD(Q,F,$),B=Q.hostModel,z=B.indicesOfNearest(J,F,H)[0];X[Z]=Q.get(K,z),X[q]=Q.get(F,z);var A=Q.get(Y,z),R=r4(Q.get(Y,z));if(R=Math.min(R,20),R>=0)X[q]=+X[q].toFixed(R);return[X,A]}function h2($,Q){if(!Q)return;var J=$.getData(),K=$.coordinateSystem,Y=K&&K.dimensions;if(!V_1(Q)&&!Z0(Q.coord)&&Z0(Y)){var Z=v70(Q,J,K,$);if(Q=m0(Q),Q.type&&jM[Q.type]&&Z.baseAxis&&Z.valueAxis){var q=J1(Y,Z.baseAxis.dim),X=J1(Y,Z.valueAxis.dim),W=jM[Q.type](J,Z.valueAxis.dim,Z.baseDataDim,Z.valueDataDim,q,X);Q.coord=W[0],Q.value=W[1]}else Q.coord=[Q.xAxis!=null?Q.xAxis:Q.radiusAxis,Q.yAxis!=null?Q.yAxis:Q.angleAxis]}if(Q.coord==null||!Z0(Y)){Q.coord=[];var F=$.getBaseAxis();if(F&&Q.type&&jM[Q.type]){var H=K.getOtherAxis(F);if(H)Q.value=CD(J,J.mapDimension(H.dim),Q.type)}}else{var B=Q.coord;for(var z=0;z<2;z++)if(jM[B[z]])B[z]=CD(J,J.mapDimension(Y[z]),B[z])}return Q}function v70($,Q,J,K){var Y={};if($.valueIndex!=null||$.valueDim!=null)Y.valueDataDim=$.valueIndex!=null?Q.getDimension($.valueIndex):$.valueDim,Y.valueAxis=J.getAxis(R_1(K,Y.valueDataDim)),Y.baseAxis=J.getOtherAxis(Y.valueAxis),Y.baseDataDim=Q.mapDimension(Y.baseAxis.dim);else Y.baseAxis=K.getBaseAxis(),Y.valueAxis=J.getOtherAxis(Y.baseAxis),Y.baseDataDim=Q.mapDimension(Y.baseAxis.dim),Y.valueDataDim=Q.mapDimension(Y.valueAxis.dim);return Y}function R_1($,Q){var J=$.getData().getDimensionInfo(Q);return J&&J.coordDim}function v2($,Q){return $&&$.containData&&Q.coord&&!h70(Q)?$.containData(Q.coord):!0}function zr0($,Q,J){return $&&$.containZone&&Q.coord&&J.coord&&!h70(Q)&&!h70(J)?$.containZone(Q.coord,J.coord):!0}function EM($,Q){return $?function(J,K,Y,Z){var q=Z<2?J.coord&&J.coord[Z]:J.value;return s$(q,Q[Z])}:function(J,K,Y,Z){return s$(J.value,Q[Z])}}function CD($,Q,J){if(J==="average"){var K=0,Y=0;return $.each(Q,function(Z,q){if(!isNaN(Z))K+=Z,Y++}),K/Y}else if(J==="median")return $.getMedian(Q);else return $.getDataExtent(Q)[J==="max"?1:0]}var jM;var LM=h(()=>{k1();_Z();l();oX();jM={min:K1(kM,"min"),max:K1(kM,"max"),average:K1(kM,"average"),median:K1(kM,"median")}});function O_1($,Q,J){$.eachSeries(function(K){var Y=L4.getMarkerModelFromSeries(K,J),Z=Q.get(K.id);if(Y&&Z&&Z.group){var q=n$(Y),X=q.z,W=q.zlevel;zU(Z.group,X,W)}})}var _70,G_1,cA;var hM=h(()=>{H0();a6();l();L2();l0();M5();a0();_70=o0(),G_1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(){this.markerGroupMap=_0()},Q.prototype.render=function(J,K,Y){var Z=this,q=this.markerGroupMap;q.each(function(X){_70(X).keep=!1}),K.eachSeries(function(X){var W=L4.getMarkerModelFromSeries(X,Z.type);W&&Z.renderSeries(X,W,K,Y)}),q.each(function(X){!_70(X).keep&&Z.group.remove(X.group)}),O_1(K,q,this.type)},Q.prototype.markKeep=function(J){_70(J).keep=!0},Q.prototype.toggleBlurSeries=function(J,K){var Y=this;S(J,function(Z){var q=L4.getMarkerModelFromSeries(Z,Y.type);if(q){var X=q.getData();X.eachItemGraphicEl(function(W){if(W)K?JS(W):Lw(W)})}})},Q.type="marker",Q}(a1);cA=G_1});function Ar0($,Q,J){var K=Q.coordinateSystem,Y=J.getWidth(),Z=J.getHeight(),q=K&&K.getArea&&K.getArea();$.each(function(X){var W=$.getItemModel(X),F=W.get("relativeTo")==="coordinate",H=F?q?q.width:0:Y,B=F?q?q.height:0:Z,z=F&&q?q.x:0,A=F&&q?q.y:0,R,G=f0(W.get("x"),H)+z,O=f0(W.get("y"),B)+A;if(!isNaN(G)&&!isNaN(O))R=[G,O];else if(Q.getMarkerPosition)R=Q.getMarkerPosition($.getValues($.dimensions,X));else if(K){var T=$.get(K.dimensions[0],X),D=$.get(K.dimensions[1],X);R=K.dataToPoint([T,D])}if(!isNaN(G))R[0]=G;if(!isNaN(O))R[1]=O;$.setItemLayout(X,R)})}function T_1($,Q,J){var K;if($)K=q0($&&$.dimensions,function(X){var W=Q.getData().getDimensionInfo(Q.getData().mapDimension(X))||{};return Y0(Y0({},W),{name:X,ordinalMeta:null})});else K=[{name:"value",type:"float"}];var Y=new e6(K,J),Z=q0(J.get("data"),K1(h2,Q));if($)Z=f1(Z,K1(v2,$));var q=EM(!!$,K);return Y.initData(Z,null,q),Y}var w_1,Vr0;var Rr0=h(()=>{H0();YA();k1();e$();LM();hM();L2();l();o5();w_1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.updateTransform=function(J,K,Y){K.eachSeries(function(Z){var q=L4.getMarkerModelFromSeries(Z,"markPoint");if(q)Ar0(q.getData(),Z,Y),this.markerGroupMap.get(Z.id).updateLayout()},this)},Q.prototype.renderSeries=function(J,K,Y,Z){var{coordinateSystem:q,id:X}=J,W=J.getData(),F=this.markerGroupMap,H=F.get(X)||F.set(X,new aK),B=T_1(q,J,K);K.setData(B),Ar0(K.getData(),J,Z),B.each(function(z){var A=B.getItemModel(z),R=A.getShallow("symbol"),G=A.getShallow("symbolSize"),O=A.getShallow("symbolRotate"),T=A.getShallow("symbolOffset"),D=A.getShallow("symbolKeepAspect");if(I0(R)||I0(G)||I0(O)||I0(T)){var P=K.getRawValue(z),j=K.getDataParams(z);if(I0(R))R=R(P,j);if(I0(G))G=G(P,j);if(I0(O))O=O(P,j);if(I0(T))T=T(P,j)}var E=A.getModel("itemStyle").getItemStyle(),L=A.get("z2"),v=dK(W,"color");if(!E.fill)E.fill=v;B.setItemVisual(z,{z2:g0(L,0),symbol:R,symbolSize:G,symbolRotate:O,symbolOffset:T,symbolKeepAspect:D,style:E})}),H.updateData(B),this.group.add(H.group),B.eachItemGraphicEl(function(z){z.traverse(function(A){r0(A).dataModel=K})}),this.markKeep(H),H.group.silent=K.get("silent")||J.get("silent")},Q.type="markPoint",Q}(cA);Vr0=w_1});function f70($){$.registerComponentModel(Nr0),$.registerComponentView(Vr0),$.registerPreprocessor(function(Q){if(WH(Q.series,"markPoint"))Q.markPoint=Q.markPoint||{}})}var Gr0=h(()=>{DM();Br0();Rr0()});var D_1,Or0;var wr0=h(()=>{H0();L2();D_1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.createMarkerModelFromSeries=function(J,K,Y){return new Q(J,K,Y)},Q.type="markLine",Q.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},Q}(L4),Or0=D_1});function SM($){return!isNaN($)&&!isFinite($)}function Tr0($,Q,J,K){var Y=1-$,Z=K.dimensions[$];return SM(Q[Y])&&SM(J[Y])&&Q[$]===J[$]&&K.getAxis(Z).containData(Q[$])}function P_1($,Q){if($.type==="cartesian2d"){var J=Q[0].coord,K=Q[1].coord;if(J&&K&&(Tr0(1,J,K,$)||Tr0(0,J,K,$)))return!0}return v2($,Q[0])&&v2($,Q[1])}function I70($,Q,J,K,Y){var Z=K.coordinateSystem,q=$.getItemModel(Q),X,W=f0(q.get("x"),Y.getWidth()),F=f0(q.get("y"),Y.getHeight());if(!isNaN(W)&&!isNaN(F))X=[W,F];else{if(K.getMarkerPosition)X=K.getMarkerPosition($.getValues($.dimensions,Q));else{var H=Z.dimensions,B=$.get(H[0],Q),z=$.get(H[1],Q);X=Z.dataToPoint([B,z])}if(b3(Z,"cartesian2d")){var A=Z.getAxis("x"),R=Z.getAxis("y"),H=Z.dimensions;if(SM($.get(H[0],Q)))X[0]=A.toGlobalCoord(A.getExtent()[J?0:1]);else if(SM($.get(H[1],Q)))X[1]=R.toGlobalCoord(R.getExtent()[J?0:1])}if(!isNaN(W))X[0]=W;if(!isNaN(F))X[1]=F}$.setItemLayout(Q,X)}function j_1($,Q,J){var K;if($)K=q0($&&$.dimensions,function(F){var H=Q.getData().getDimensionInfo(Q.getData().mapDimension(F))||{};return Y0(Y0({},H),{name:F,ordinalMeta:null})});else K=[{name:"value",type:"float"}];var Y=new e6(K,J),Z=new e6(K,J),q=new e6([],J),X=q0(J.get("data"),K1(C_1,Q,$,J));if($)X=f1(X,K1(P_1,$));var W=EM(!!$,K);return Y.initData(q0(X,function(F){return F[0]}),null,W),Z.initData(q0(X,function(F){return F[1]}),null,W),q.initData(q0(X,function(F){return F[2]})),q.hasItemOption=!0,{from:Y,to:Z,line:q}}var vM,C_1=function($,Q,J,K){var Y=$.getData(),Z;if(!Z0(K)){var q=K.type;if(q==="min"||q==="max"||q==="average"||q==="median"||K.xAxis!=null||K.yAxis!=null){var X=void 0,W=void 0;if(K.yAxis!=null||K.xAxis!=null)X=Q.getAxis(K.yAxis!=null?"y":"x"),W=J6(K.yAxis,K.xAxis);else{var F=v70(K,Y,Q,$);X=F.valueAxis;var H=s_(Y,F.valueDataDim);W=CD(Y,H,q)}var B=X.dim==="x"?0:1,z=1-B,A=m0(K),R={coord:[]};A.type=null,A.coord=[],A.coord[z]=-1/0,R.coord[z]=1/0;var G=J.get("precision");if(G>=0&&V1(W))W=+W.toFixed(Math.min(G,20));A.coord[B]=R.coord[B]=W,Z=[A,R,{type:q,valueIndex:K.valueIndex,value:W}]}else H8("Invalid markLine data."),Z=[]}else Z=K;var O=[h2($,Z[0]),h2($,Z[1]),Y0({},Z[2])];return O[2].type=O[2].type||null,F1(O[2],O[0]),F1(O[2],O[1]),O},k_1,Dr0;var Cr0=h(()=>{H0();e$();k1();LM();wI();hM();_Z();o5();L2();l();l0();vM=o0();k_1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.updateTransform=function(J,K,Y){K.eachSeries(function(Z){var q=L4.getMarkerModelFromSeries(Z,"markLine");if(q){var X=q.getData(),W=vM(q).from,F=vM(q).to;W.each(function(H){I70(W,H,!0,Z,Y),I70(F,H,!1,Z,Y)}),X.each(function(H){X.setItemLayout(H,[W.getItemLayout(H),F.getItemLayout(H)])}),this.markerGroupMap.get(Z.id).updateLayout()}},this)},Q.prototype.renderSeries=function(J,K,Y,Z){var{coordinateSystem:q,id:X}=J,W=J.getData(),F=this.markerGroupMap,H=F.get(X)||F.set(X,new GA);this.group.add(H.group);var B=j_1(q,J,K),z=B.from,A=B.to,R=B.line;vM(K).from=z,vM(K).to=A,K.setData(R);var G=K.get("symbol"),O=K.get("symbolSize"),T=K.get("symbolRotate"),D=K.get("symbolOffset");if(!Z0(G))G=[G,G];if(!Z0(O))O=[O,O];if(!Z0(T))T=[T,T];if(!Z0(D))D=[D,D];B.from.each(function(j){P(z,j,!0),P(A,j,!1)}),R.each(function(j){var E=R.getItemModel(j),L=E.getModel("lineStyle").getLineStyle();R.setItemLayout(j,[z.getItemLayout(j),A.getItemLayout(j)]);var v=E.get("z2");if(L.stroke==null)L.stroke=z.getItemVisual(j,"style").fill;R.setItemVisual(j,{z2:g0(v,0),fromSymbolKeepAspect:z.getItemVisual(j,"symbolKeepAspect"),fromSymbolOffset:z.getItemVisual(j,"symbolOffset"),fromSymbolRotate:z.getItemVisual(j,"symbolRotate"),fromSymbolSize:z.getItemVisual(j,"symbolSize"),fromSymbol:z.getItemVisual(j,"symbol"),toSymbolKeepAspect:A.getItemVisual(j,"symbolKeepAspect"),toSymbolOffset:A.getItemVisual(j,"symbolOffset"),toSymbolRotate:A.getItemVisual(j,"symbolRotate"),toSymbolSize:A.getItemVisual(j,"symbolSize"),toSymbol:A.getItemVisual(j,"symbol"),style:L})}),H.updateData(R),B.line.eachItemGraphicEl(function(j){r0(j).dataModel=K,j.traverse(function(E){r0(E).dataModel=K})});function P(j,E,L){var v=j.getItemModel(E);I70(j,E,L,J,Z);var f=v.getModel("itemStyle").getItemStyle();if(f.fill==null)f.fill=dK(W,"color");j.setItemVisual(E,{symbolKeepAspect:v.get("symbolKeepAspect"),symbolOffset:g0(v.get("symbolOffset",!0),D[L?0:1]),symbolRotate:g0(v.get("symbolRotate",!0),T[L?0:1]),symbolSize:g0(v.get("symbolSize"),O[L?0:1]),symbol:g0(v.get("symbol",!0),G[L?0:1]),style:f})}this.markKeep(H),H.group.silent=K.get("silent")||J.get("silent")},Q.type="markLine",Q}(cA);Dr0=k_1});function M70($){$.registerComponentModel(Or0),$.registerComponentView(Dr0),$.registerPreprocessor(function(Q){if(WH(Q.series,"markLine"))Q.markLine=Q.markLine||{}})}var Pr0=h(()=>{DM();wr0();Cr0()});var E_1,kr0;var jr0=h(()=>{H0();L2();E_1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.createMarkerModelFromSeries=function(J,K,Y){return new Q(J,K,Y)},Q.type="markArea",Q.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},Q}(L4),kr0=E_1});function fM($){return!isNaN($)&&!isFinite($)}function Er0($,Q,J,K){var Y=1-$;return fM(Q[Y])&&fM(J[Y])}function h_1($,Q){var J=Q.coord[0],K=Q.coord[1],Y={coord:J,x:Q.x0,y:Q.y0},Z={coord:K,x:Q.x1,y:Q.y1};if(b3($,"cartesian2d")){if(J&&K&&(Er0(1,J,K,$)||Er0(0,J,K,$)))return!0;return zr0($,Y,Z)}return v2($,Y)||v2($,Z)}function Lr0($,Q,J,K,Y){var Z=K.coordinateSystem,q=$.getItemModel(Q),X,W=f0(q.get(J[0]),Y.getWidth()),F=f0(q.get(J[1]),Y.getHeight());if(!isNaN(W)&&!isNaN(F))X=[W,F];else{if(K.getMarkerPosition){var H=$.getValues(["x0","y0"],Q),B=$.getValues(["x1","y1"],Q),z=Z.clampData(H),A=Z.clampData(B),R=[];if(J[0]==="x0")R[0]=z[0]>A[0]?B[0]:H[0];else R[0]=z[0]>A[0]?H[0]:B[0];if(J[1]==="y0")R[1]=z[1]>A[1]?B[1]:H[1];else R[1]=z[1]>A[1]?H[1]:B[1];X=K.getMarkerPosition(R,J,!0)}else{var G=$.get(J[0],Q),O=$.get(J[1],Q),T=[G,O];Z.clampData&&Z.clampData(T,T),X=Z.dataToPoint(T,!0)}if(b3(Z,"cartesian2d")){var D=Z.getAxis("x"),P=Z.getAxis("y"),G=$.get(J[0],Q),O=$.get(J[1],Q);if(fM(G))X[0]=D.toGlobalCoord(D.getExtent()[J[0]==="x0"?0:1]);else if(fM(O))X[1]=P.toGlobalCoord(P.getExtent()[J[1]==="y0"?0:1])}if(!isNaN(W))X[0]=W;if(!isNaN(F))X[1]=F}return X}function S_1($,Q,J){var K,Y,Z=["x0","y0","x1","y1"];if($){var q=q0($&&$.dimensions,function(F){var H=Q.getData(),B=H.getDimensionInfo(H.mapDimension(F))||{};return Y0(Y0({},B),{name:F,ordinalMeta:null})});Y=q0(Z,function(F,H){return{name:F,type:q[H%2].type}}),K=new e6(Y,J)}else Y=[{name:"value",type:"float"}],K=new e6(Y,J);var X=q0(J.get("data"),K1(L_1,Q,$,J));if($)X=f1(X,K1(h_1,$));var W=$?function(F,H,B,z){var A=F.coord[Math.floor(z/2)][z%2];return s$(A,Y[z])}:function(F,H,B,z){return s$(F.value,Y[z])};return K.initData(X,null,W),K.hasItemOption=!0,K}var _M,L_1=function($,Q,J,K){var Y=K[0],Z=K[1];if(!Y||!Z)return;var q=h2($,Y),X=h2($,Z),W=q.coord,F=X.coord;W[0]=J6(W[0],-1/0),W[1]=J6(W[1],-1/0),F[0]=J6(F[0],1/0),F[1]=J6(F[1],1/0);var H=rB([{},q,X]);return H.coord=[q.coord,X.coord],H.x0=q.x,H.y0=q.y,H.x1=X.x,H.y1=X.y,H},hr0,v_1,vr0;var Sr0=h(()=>{H0();o8();e$();k1();a0();M5();LM();hM();l();L2();l0();g5();o5();oX();y1();_M=o0();hr0=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],v_1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.updateTransform=function(J,K,Y){K.eachSeries(function(Z){var q=L4.getMarkerModelFromSeries(Z,"markArea");if(q){var X=q.getData();X.each(function(W){var F=q0(hr0,function(B){return Lr0(X,W,B,Z,Y)});X.setItemLayout(W,F);var H=X.getItemGraphicEl(W);H.setShape("points",F)})}},this)},Q.prototype.renderSeries=function(J,K,Y,Z){var{coordinateSystem:q,id:X}=J,W=J.getData(),F=this.markerGroupMap,H=F.get(X)||F.set(X,{group:new b0});this.group.add(H.group),this.markKeep(H);var B=S_1(q,J,K);K.setData(B),B.each(function(z){var A=q0(hr0,function(M){return Lr0(B,z,M,J,Z)}),R=q.getAxis("x").scale,G=q.getAxis("y").scale,O=R.getExtent(),T=G.getExtent(),D=[R.parse(B.get("x0",z)),R.parse(B.get("x1",z))],P=[G.parse(B.get("y0",z)),G.parse(B.get("y1",z))];K8(D),K8(P);var j=!(O[0]>D[1]||O[1]<D[0]||T[0]>P[1]||T[1]<P[0]),E=!j;B.setItemLayout(z,{points:A,allClipped:E});var L=B.getItemModel(z),v=L.getModel("itemStyle").getItemStyle(),f=L.get("z2"),_=dK(W,"color");if(!v.fill){if(v.fill=_,R0(v.fill))v.fill=MF(v.fill,0.4)}if(!v.stroke)v.stroke=_;B.setItemVisual(z,"style",v),B.setItemVisual(z,"z2",g0(f,0))}),B.diff(_M(H).data).add(function(z){var A=B.getItemLayout(z),R=B.getItemVisual(z,"z2");if(!A.allClipped){var G=new S6({z2:g0(R,0),shape:{points:A.points}});B.setItemGraphicEl(z,G),H.group.add(G)}}).update(function(z,A){var R=_M(H).data.getItemGraphicEl(A),G=B.getItemLayout(z),O=B.getItemVisual(z,"z2");if(!G.allClipped){if(R)C1(R,{z2:g0(O,0),shape:{points:G.points}},K,z);else R=new S6({shape:{points:G.points}});B.setItemGraphicEl(z,R),H.group.add(R)}else if(R)H.group.remove(R)}).remove(function(z){var A=_M(H).data.getItemGraphicEl(z);H.group.remove(A)}).execute(),B.eachItemGraphicEl(function(z,A){var R=B.getItemModel(A),G=B.getItemVisual(A,"style");z.useStyle(B.getItemVisual(A,"style")),p5(z,b5(R),{labelFetcher:K,labelDataIndex:A,defaultText:B.getName(A)||"",inheritColor:R0(G.fill)?MF(G.fill,1):e.color.neutral99}),a5(z,R),s1(z,null,null,R.get(["emphasis","disabled"])),r0(z).dataModel=K}),_M(H).data=B,H.group.silent=K.get("silent")||J.get("silent")},Q.type="markArea",Q}(cA);vr0=v_1});function b70($){$.registerComponentModel(kr0),$.registerComponentView(vr0),$.registerPreprocessor(function(Q){if(WH(Q.series,"markArea"))Q.markArea=Q.markArea||{}})}var _r0=h(()=>{DM();jr0();Sr0()});var __1=function($,Q){if(Q==="all")return{type:"all",title:$.getLocaleModel().get(["legend","selector","all"])};else if(Q==="inverse")return{type:"inverse",title:$.getLocaleModel().get(["legend","selector","inverse"])}},f_1,PD;var g70=h(()=>{H0();l();K7();l0();_6();y1();f_1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.layoutMode={type:"box",ignoreSize:!0},J}return Q.prototype.init=function(J,K,Y){this.mergeDefaultAndTheme(J,Y),J.selected=J.selected||{},this._updateSelector(J)},Q.prototype.mergeOption=function(J,K){$.prototype.mergeOption.call(this,J,K),this._updateSelector(J)},Q.prototype._updateSelector=function(J){var K=J.selector,Y=this.ecModel;if(K===!0)K=J.selector=["all","inverse"];if(Z0(K))S(K,function(Z,q){R0(Z)&&(Z={type:Z}),K[q]=F1(Z,__1(Y,Z.type))})},Q.prototype.optionUpdated=function(){this._updateData(this.ecModel);var J=this._data;if(J[0]&&this.get("selectedMode")==="single"){var K=!1;for(var Y=0;Y<J.length;Y++){var Z=J[Y].get("name");if(this.isSelected(Z)){this.select(Z),K=!0;break}}!K&&this.select(J[0].get("name"))}},Q.prototype._updateData=function(J){var K=[],Y=[];J.eachRawSeries(function(W){var F=W.name;Y.push(F);var H;if(W.legendVisualProvider){var B=W.legendVisualProvider,z=B.getAllNames();if(!J.isSeriesFiltered(W))Y=Y.concat(z);if(z.length)K=K.concat(z);else H=!0}else H=!0;if(H&&Hz(W))K.push(W.name)}),this._availableNames=Y;var Z=this.get("data")||K,q=_0(),X=q0(Z,function(W){if(R0(W)||V1(W))W={name:W};if(q.get(W.name))return null;return q.set(W.name,!0),new h1(W,this,this.ecModel)},this);this._data=f1(X,function(W){return!!W})},Q.prototype.getData=function(){return this._data},Q.prototype.select=function(J){var K=this.option.selected,Y=this.get("selectedMode");if(Y==="single"){var Z=this._data;S(Z,function(q){K[q.get("name")]=!1})}K[J]=!0},Q.prototype.unSelect=function(J){if(this.get("selectedMode")!=="single")this.option.selected[J]=!1},Q.prototype.toggleSelected=function(J){var K=this.option.selected;if(!K.hasOwnProperty(J))K[J]=!0;this[K[J]?"unSelect":"select"](J)},Q.prototype.allSelect=function(){var J=this._data,K=this.option.selected;S(J,function(Y){K[Y.get("name",!0)]=!0})},Q.prototype.inverseSelect=function(){var J=this._data,K=this.option.selected;S(J,function(Y){var Z=Y.get("name",!0);if(!K.hasOwnProperty(Z))K[Z]=!0;K[Z]=!K[Z]})},Q.prototype.isSelected=function(J){var K=this.option.selected;return!(K.hasOwnProperty(J)&&!K[J])&&J1(this._availableNames,J)>=0},Q.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},Q.type="legend.plain",Q.dependencies=["series"],Q.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:e.size.m,align:"auto",backgroundColor:e.color.transparent,borderColor:e.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:e.color.disabled,inactiveBorderColor:e.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:e.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:e.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:e.color.tertiary,borderWidth:1,borderColor:e.color.border},emphasis:{selectorLabel:{show:!0,color:e.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},Q}(O1),PD=f_1});function M_1($,Q,J,K,Y,Z,q){function X(O,T){if(O.lineWidth==="auto")O.lineWidth=T.lineWidth>0?2:0;y70(O,function(D,P){O[P]==="inherit"&&(O[P]=T[P])})}var W=Q.getModel("itemStyle"),F=W.getItemStyle(),H=$.lastIndexOf("empty",0)===0?"fill":"stroke",B=W.getShallow("decal");if(F.decal=!B||B==="inherit"?K.decal:WJ(B,q),F.fill==="inherit")F.fill=K[Y];if(F.stroke==="inherit")F.stroke=K[H];if(F.opacity==="inherit")F.opacity=(Y==="fill"?K:J).opacity;X(F,K);var z=Q.getModel("lineStyle"),A=z.getLineStyle();if(X(A,J),F.fill==="auto"&&(F.fill=K.fill),F.stroke==="auto"&&(F.stroke=K.fill),A.stroke==="auto"&&(A.stroke=K.fill),!Z){var R=Q.get("inactiveBorderWidth"),G=F[H];F.lineWidth=R==="auto"?K.lineWidth>0&&G?2:0:F.lineWidth,F.fill=Q.get("inactiveColor"),F.stroke=Q.get("inactiveBorderColor"),A.stroke=z.get("inactiveColor"),A.lineWidth=z.get("inactiveWidth")}return{itemStyle:F,lineStyle:A}}function b_1($){var Q=$.icon||"roundRect",J=y5(Q,0,0,$.itemWidth,$.itemHeight,$.itemStyle.fill,$.symbolKeepAspect);if(J.setStyle($.itemStyle),J.rotation=($.iconRotate||0)*Math.PI/180,J.setOrigin([$.itemWidth/2,$.itemHeight/2]),Q.indexOf("empty")>-1)J.style.stroke=J.style.fill,J.style.fill=e.color.neutral00,J.style.lineWidth=2;return J}function fr0($,Q,J,K){c70($,Q,J,K),J.dispatchAction({type:"legendToggleSelect",name:$!=null?$:Q}),x70($,Q,J,K)}function Ir0($){var Q=$.getZr().storage.getDisplayList(),J,K=0,Y=Q.length;while(K<Y&&!(J=Q[K].states.emphasis))K++;return J&&J.hoverLayer}function x70($,Q,J,K){if(!Ir0(J))J.dispatchAction({type:"highlight",seriesName:$,name:Q,excludeSeriesId:K})}function c70($,Q,J,K){if(!Ir0(J))J.dispatchAction({type:"downplay",seriesName:$,name:Q,excludeSeriesId:K})}var uA,y70,IM,I_1,MM;var u70=h(()=>{H0();l();o8();a0();M5();g5();J70();l5();a6();S8();yz();o5();y1();uA=K1,y70=S,IM=b0,I_1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.newlineDisabled=!1,J}return Q.prototype.init=function(){this.group.add(this._contentGroup=new IM),this.group.add(this._selectorGroup=new IM),this._isFirstRender=!0},Q.prototype.getContentGroup=function(){return this._contentGroup},Q.prototype.getSelectorGroup=function(){return this._selectorGroup},Q.prototype.render=function(J,K,Y){var Z=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!J.get("show",!0))return;var q=J.get("align"),X=J.get("orient");if(!q||q==="auto")q=J.get("left")==="right"&&X==="vertical"?"right":"left";var W=J.get("selector",!0),F=J.get("selectorPosition",!0);if(W&&(!F||F==="auto"))F=X==="horizontal"?"end":"start";this.renderInner(q,J,K,Y,W,X,F);var H=_5(J,Y).refContainer,B=J.getBoxLayoutParams(),z=J.get("padding"),A=X5(B,H,z),R=this.layoutInner(J,q,A,Z,W,F),G=X5(c0({width:R.width,height:R.height},B),H,z);this.group.x=G.x-R.x,this.group.y=G.y-R.y,this.group.markRedraw(),this.group.add(this._backgroundEl=VM(R,J))},Q.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},Q.prototype.renderInner=function(J,K,Y,Z,q,X,W){var F=this.getContentGroup(),H=_0(),B=K.get("selectedMode"),z=K.get("triggerEvent"),A=[];if(Y.eachRawSeries(function(R){!R.get("legendHoverLink")&&A.push(R.id)}),y70(K.getData(),function(R,G){var O=this,T=R.get("name");if(!this.newlineDisabled&&(T===""||T===`
`)){var D=new IM;D.newline=!0,F.add(D);return}var P=Y.getSeriesByName(T)[0];if(H.get(T))return;if(P){var j=P.getData(),E=j.getVisual("legendLineStyle")||{},L=j.getVisual("legendIcon"),v=j.getVisual("style"),f=this._createItem(P,T,G,R,K,J,E,v,L,B,Z);if(f.on("click",uA(fr0,T,null,Z,A)).on("mouseover",uA(x70,P.name,null,Z,A)).on("mouseout",uA(c70,P.name,null,Z,A)),Y.ssr)f.eachChild(function(_){var M=r0(_);M.seriesIndex=P.seriesIndex,M.dataIndex=G,M.ssrType="legend"});if(z)f.eachChild(function(_){O.packEventData(_,K,P,G,T)});H.set(T,!0)}else Y.eachRawSeries(function(_){var M=this;if(H.get(T))return;if(_.legendVisualProvider){var b=_.legendVisualProvider;if(!b.containName(T))return;var x=b.indexOfName(T),g=b.getItemVisual(x,"style"),m=b.getItemVisual(x,"legendIcon"),u=J8(g.fill);if(u&&u[3]===0)u[3]=0.2,g=Y0(Y0({},g),{fill:v9(u,"rgba")});var p=this._createItem(_,T,G,R,K,J,{},g,m,B,Z);if(p.on("click",uA(fr0,null,T,Z,A)).on("mouseover",uA(x70,null,T,Z,A)).on("mouseout",uA(c70,null,T,Z,A)),Y.ssr)p.eachChild(function(o){var t=r0(o);t.seriesIndex=_.seriesIndex,t.dataIndex=G,t.ssrType="legend"});if(z)p.eachChild(function(o){M.packEventData(o,K,_,G,T)});H.set(T,!0)}},this);if(!H.get(T))console.warn(T+" series not exists. Legend data should be same with series name or data name.")},this),q)this._createSelector(q,K,Z,X,W)},Q.prototype.packEventData=function(J,K,Y,Z,q){var X={componentType:"legend",componentIndex:K.componentIndex,dataIndex:Z,value:q,seriesIndex:Y.seriesIndex};r0(J).eventData=X},Q.prototype._createSelector=function(J,K,Y,Z,q){var X=this.getSelectorGroup();y70(J,function(F){var H=F.type,B=new j1({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){Y.dispatchAction({type:H==="all"?"legendAllSelect":"legendInverseSelect",legendId:K.id})}});X.add(B);var z=K.getModel("selectorLabel"),A=K.getModel(["emphasis","selectorLabel"]);p5(B,{normal:z,emphasis:A},{defaultText:F.title}),gK(B)})},Q.prototype._createItem=function(J,K,Y,Z,q,X,W,F,H,B,z){var A=J.visualDrawType,R=q.get("itemWidth"),G=q.get("itemHeight"),O=q.isSelected(K),T=Z.get("symbolRotate"),D=Z.get("symbolKeepAspect"),P=Z.get("icon");H=P||H||"roundRect";var j=M_1(H,Z,W,F,A,O,z),E=new IM,L=Z.getModel("textStyle");if(I0(J.getLegendIcon)&&(!P||P==="inherit"))E.add(J.getLegendIcon({itemWidth:R,itemHeight:G,icon:H,iconRotate:T,itemStyle:j.itemStyle,lineStyle:j.lineStyle,symbolKeepAspect:D}));else{var v=P==="inherit"&&J.getData().getVisual("symbol")?T==="inherit"?J.getData().getVisual("symbolRotate"):T:0;E.add(b_1({itemWidth:R,itemHeight:G,icon:H,iconRotate:v,itemStyle:j.itemStyle,lineStyle:j.lineStyle,symbolKeepAspect:D}))}var f=X==="left"?R+5:-5,_=X,M=q.get("formatter"),b=K;if(R0(M)&&M)b=M.replace("{name}",K!=null?K:"");else if(I0(M))b=M(K);var x=O?L.getTextColor():Z.get("inactiveColor");E.add(new j1({style:A5(L,{text:b,x:f,y:G/2,fill:x,align:_,verticalAlign:"middle"},{inheritColor:x})}));var g=new X1({shape:E.getBoundingRect(),style:{fill:"transparent"}}),m=Z.getModel("tooltip");if(m.get("show"))D4({el:g,componentModel:q,itemName:K,itemTooltipOption:m.option});return E.add(g),E.eachChild(function(u){u.silent=!0}),g.silent=!B,this.getContentGroup().add(E),gK(E),E.__legendDataIndex=Y,E},Q.prototype.layoutInner=function(J,K,Y,Z,q,X){var W=this.getContentGroup(),F=this.getSelectorGroup();ZJ(J.get("orient"),W,J.get("itemGap"),Y.width,Y.height);var H=W.getBoundingRect(),B=[-H.x,-H.y];if(F.markRedraw(),W.markRedraw(),q){ZJ("horizontal",F,J.get("selectorItemGap",!0));var z=F.getBoundingRect(),A=[-z.x,-z.y],R=J.get("selectorButtonGap",!0),G=J.getOrient().index,O=G===0?"width":"height",T=G===0?"height":"width",D=G===0?"y":"x";if(X==="end")A[G]+=H[O]+R;else B[G]+=z[O]+R;A[1-G]+=H[T]/2-z[T]/2,F.x=A[0],F.y=A[1],W.x=B[0],W.y=B[1];var P={x:0,y:0};return P[O]=H[O]+R+z[O],P[T]=Math.max(H[T],z[T]),P[D]=Math.min(0,z[D]+A[1-G]),P}else return W.x=B[0],W.y=B[1],this.group.getBoundingRect()},Q.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},Q.type="legend.plain",Q}(a1);MM=I_1});function m70($){var Q=$.findComponents({mainType:"legend"});if(Q&&Q.length)$.filterSeries(function(J){for(var K=0;K<Q.length;K++)if(!Q[K].isSelected(J.name))return!1;return!0})}function kD($,Q,J){var K=$==="allSelect"||$==="inverseSelect",Y={},Z=[];J.eachComponent({mainType:"legend",query:Q},function(X){if(K)X[$]();else X[$](Q.name);Mr0(X,Y),Z.push(X.componentIndex)});var q={};return J.eachComponent("legend",function(X){S(Y,function(W,F){X[W?"select":"unSelect"](F)}),Mr0(X,q)}),K?{selected:q,legendIndex:Z}:{name:Q.name,selected:q}}function Mr0($,Q){var J=Q||{};return S($.getData(),function(K){var Y=K.get("name");if(Y===`
`||Y==="")return;var Z=$.isSelected(Y);if(p0(J,Y))J[Y]=J[Y]&&Z;else J[Y]=Z}),J}function br0($){$.registerAction("legendToggleSelect","legendselectchanged",K1(kD,"toggleSelected")),$.registerAction("legendAllSelect","legendselectall",K1(kD,"allSelect")),$.registerAction("legendInverseSelect","legendinverseselect",K1(kD,"inverseSelect")),$.registerAction("legendSelect","legendselected",K1(kD,"select")),$.registerAction("legendUnSelect","legendunselected",K1(kD,"unSelect"))}var gr0=h(()=>{l()});function bM($){$.registerComponentModel(PD),$.registerComponentView(MM),$.registerProcessor($.PRIORITY.PROCESSOR.SERIES_FILTER,m70),$.registerSubTypeDefaulter("legend",function(){return"plain"}),br0($)}var p70=h(()=>{g70();u70();gr0()});function yr0($,Q,J){var K=$.getOrient(),Y=[1,1];Y[K.index]=0,$4(Q,J,{type:"box",ignoreSize:!!Y})}var g_1,xr0;var cr0=h(()=>{H0();g70();l5();e4();y1();g_1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.setScrollDataIndex=function(J){this.option.scrollDataIndex=J},Q.prototype.init=function(J,K,Y){var Z=u9(J);$.prototype.init.call(this,J,K,Y),yr0(this,J,Z)},Q.prototype.mergeOption=function(J,K){$.prototype.mergeOption.call(this,J,K),yr0(this,this.option,J)},Q.type="legend.scroll",Q.defaultOption=C4(PD.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:e.color.accent50,pageIconInactiveColor:e.color.accent10,pageIconSize:15,pageTextStyle:{color:e.color.tertiary},animationDurationUpdate:800}),Q}(PD);xr0=g_1});var ur0,d70,n70,y_1,mr0;var pr0=h(()=>{H0();l();a0();l5();u70();ur0=b0,d70=["width","height"],n70=["x","y"],y_1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.newlineDisabled=!0,J._currentIndex=0,J}return Q.prototype.init=function(){$.prototype.init.call(this),this.group.add(this._containerGroup=new ur0),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new ur0)},Q.prototype.resetInner=function(){$.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},Q.prototype.renderInner=function(J,K,Y,Z,q,X,W){var F=this;$.prototype.renderInner.call(this,J,K,Y,Z,q,X,W);var H=this._controllerGroup,B=K.get("pageIconSize",!0),z=Z0(B)?B:[B,B];R("pagePrev",0);var A=K.getModel("pageTextStyle");H.add(new j1({name:"pageText",style:{text:"xx/xx",fill:A.getTextColor(),font:A.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),R("pageNext",1);function R(G,O){var T=G+"DataIndex",D=DZ(K.get("pageIcons",!0)[K.getOrient().name][O],{onclick:P0(F._pageGo,F,T,K,Z)},{x:-z[0]/2,y:-z[1]/2,width:z[0],height:z[1]});D.name=G,H.add(D)}},Q.prototype.layoutInner=function(J,K,Y,Z,q,X){var W=this.getSelectorGroup(),F=J.getOrient().index,H=d70[F],B=n70[F],z=d70[1-F],A=n70[1-F];q&&ZJ("horizontal",W,J.get("selectorItemGap",!0));var R=J.get("selectorButtonGap",!0),G=W.getBoundingRect(),O=[-G.x,-G.y],T=m0(Y);q&&(T[H]=Y[H]-G[H]-R);var D=this._layoutContentAndController(J,Z,T,F,H,z,A,B);if(q){if(X==="end")O[F]+=D[H]+R;else{var P=G[H]+R;O[F]-=P,D[B]-=P}D[H]+=G[H]+R,O[1-F]+=D[A]+D[z]/2-G[z]/2,D[z]=Math.max(D[z],G[z]),D[A]=Math.min(D[A],G[A]+O[1-F]),W.x=O[0],W.y=O[1],W.markRedraw()}return D},Q.prototype._layoutContentAndController=function(J,K,Y,Z,q,X,W,F){var H=this.getContentGroup(),B=this._containerGroup,z=this._controllerGroup;ZJ(J.get("orient"),H,J.get("itemGap"),!Z?null:Y.width,Z?null:Y.height),ZJ("horizontal",z,J.get("pageButtonItemGap",!0));var A=H.getBoundingRect(),R=z.getBoundingRect(),G=this._showController=A[q]>Y[q],O=[-A.x,-A.y];if(!K)O[Z]=H[F];var T=[0,0],D=[-R.x,-R.y],P=g0(J.get("pageButtonGap",!0),J.get("itemGap",!0));if(G){var j=J.get("pageButtonPosition",!0);if(j==="end")D[Z]+=Y[q]-R[q];else T[Z]+=R[q]+P}D[1-Z]+=A[X]/2-R[X]/2,H.setPosition(O),B.setPosition(T),z.setPosition(D);var E={x:0,y:0};if(E[q]=G?Y[q]:A[q],E[X]=Math.max(A[X],R[X]),E[W]=Math.min(0,R[W]+D[1-Z]),B.__rectSize=Y[q],G){var L={x:0,y:0};L[q]=Math.max(Y[q]-R[q]-P,0),L[X]=E[X],B.setClipPath(new X1({shape:L})),B.__rectSize=L[q]}else z.eachChild(function(f){f.attr({invisible:!0,silent:!0})});var v=this._getPageInfo(J);return v.pageIndex!=null&&C1(H,{x:v.contentPosition[0],y:v.contentPosition[1]},G?J:null),this._updatePageInfoView(J,v),E},Q.prototype._pageGo=function(J,K,Y){var Z=this._getPageInfo(K)[J];Z!=null&&Y.dispatchAction({type:"legendScroll",scrollDataIndex:Z,legendId:K.id})},Q.prototype._updatePageInfoView=function(J,K){var Y=this._controllerGroup;S(["pagePrev","pageNext"],function(H){var B=H+"DataIndex",z=K[B]!=null,A=Y.childOfName(H);if(A)A.setStyle("fill",z?J.get("pageIconColor",!0):J.get("pageIconInactiveColor",!0)),A.cursor=z?"pointer":"default"});var Z=Y.childOfName("pageText"),q=J.get("pageFormatter"),X=K.pageIndex,W=X!=null?X+1:0,F=K.pageCount;Z&&q&&Z.setStyle("text",R0(q)?q.replace("{current}",W==null?"":W+"").replace("{total}",F==null?"":F+""):q({current:W,total:F}))},Q.prototype._getPageInfo=function(J){var K=J.get("scrollDataIndex",!0),Y=this.getContentGroup(),Z=this._containerGroup.__rectSize,q=J.getOrient().index,X=d70[q],W=n70[q],F=this._findTargetItemIndex(K),H=Y.children(),B=H[F],z=H.length,A=!z?0:1,R={contentPosition:[Y.x,Y.y],pageCount:A,pageIndex:A-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!B)return R;var G=j(B);R.contentPosition[q]=-G.s;for(var O=F+1,T=G,D=G,P=null;O<=z;++O){if(P=j(H[O]),!P&&D.e>T.s+Z||P&&!E(P,T.s)){if(D.i>T.i)T=D;else T=P;if(T){if(R.pageNextDataIndex==null)R.pageNextDataIndex=T.i;++R.pageCount}}D=P}for(var O=F-1,T=G,D=G,P=null;O>=-1;--O){if(P=j(H[O]),(!P||!E(D,P.s))&&T.i<D.i){if(D=T,R.pagePrevDataIndex==null)R.pagePrevDataIndex=T.i;++R.pageCount,++R.pageIndex}T=P}return R;function j(L){if(L){var v=L.getBoundingRect(),f=v[W]+L[W];return{s:f,e:f+v[X],i:L.__legendDataIndex}}}function E(L,v){return L.e>=v&&L.s<=v+Z}},Q.prototype._findTargetItemIndex=function(J){if(!this._showController)return 0;var K,Y=this.getContentGroup(),Z;return Y.eachChild(function(q,X){var W=q.__legendDataIndex;if(Z==null&&W!=null)Z=X;if(W===J)K=X}),K!=null?K:Z},Q.type="legend.scroll",Q}(MM),mr0=y_1});function l70($){$.registerAction("legendScroll","legendscroll",function(Q,J){var K=Q.scrollDataIndex;K!=null&&J.eachComponent({mainType:"legend",subType:"scroll",query:Q},function(Y){Y.setScrollDataIndex(K)})})}function dr0($){T1(bM),$.registerComponentModel(xr0),$.registerComponentView(mr0),l70($)}var nr0=h(()=>{E4();p70();cr0();pr0()});function r70($){T1(bM),T1(dr0)}var lr0=h(()=>{E4();p70();nr0()});var x_1,rr0;var ir0=h(()=>{H0();NM();e4();x_1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="dataZoom.inside",Q.defaultOption=C4(k2.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),Q}(k2),rr0=x_1});function sr0($,Q,J){i70($).coordSysRecordMap.each(function(K){var Y=K.dataZoomInfoMap.get(Q.uid);if(Y)Y.getRange=J})}function or0($,Q){var J=i70($).coordSysRecordMap,K=J.keys();for(var Y=0;Y<K.length;Y++){var Z=K[Y],q=J.get(Z),X=q.dataZoomInfoMap;if(X){var W=Q.uid,F=X.get(W);if(F){if(X.removeKey(W),!X.keys().length)ar0(J,q)}}}}function ar0($,Q){if(Q){$.removeKey(Q.model.uid);var J=Q.controller;J&&J.dispose()}}function c_1($,Q){var J={model:Q,containsPoint:K1(m_1,Q),dispatchAction:K1(u_1,$),dataZoomInfoMap:null,controller:null},K=J.controller=new s9($.getZr());return S(["pan","zoom","scrollMove"],function(Y){K.on(Y,function(Z){var q=[];J.dataZoomInfoMap.each(function(X){if(!Z.isAvailableBehavior(X.model.option))return;var W=(X.getRange||{})[Y],F=W&&W(X.dzReferCoordSysInfo,J.model.mainType,J.controller,Z);!X.model.get("disabled",!0)&&F&&q.push({dataZoomId:X.model.id,start:F[0],end:F[1]})}),q.length&&J.dispatchAction(q)})}),J}function u_1($,Q){if(!$.isDisposed())$.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:Q})}function m_1($,Q,J,K){return $.coordinateSystem.containPoint([J,K])}function p_1($,Q,J){var K,Y="type_",Z={type_true:2,type_move:1,type_false:0,type_undefined:-1},q=!0;return $.each(function(X){var W=X.model,F=W.get("disabled",!0)?!1:W.get("zoomLock",!0)?"move":!0;if(Z[Y+F]>Z[Y+K])K=F;q=q&&W.get("preventDefaultMouseMove",!0)}),{controlType:K,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!q,api:J,zInfo:{component:Q.model},triggerInfo:{roamTrigger:null,isInSelf:Q.containsPoint}}}}function tr0($){$.registerProcessor($.PRIORITY.PROCESSOR.FILTER,function(Q,J){var K=i70(J),Y=K.coordSysRecordMap||(K.coordSysRecordMap=_0());Y.each(function(Z){Z.dataZoomInfoMap=null}),Q.eachComponent({mainType:"dataZoom",subType:"inside"},function(Z){var q=HM(Z);S(q.infoList,function(X){var W=X.model.uid,F=Y.get(W)||Y.set(W,c_1(J,X.model)),H=F.dataZoomInfoMap||(F.dataZoomInfoMap=_0());H.set(Z.uid,{dzReferCoordSysInfo:X,model:Z,getRange:null})})}),Y.each(function(Z){var q=Z.controller,X,W=Z.dataZoomInfoMap;if(W){var F=W.keys()[0];if(F!=null)X=W.get(F)}if(!X){ar0(Y,Z);return}var H=p_1(W,Z,J);q.enable(H.controlType,H.opt),o$(Z,"dispatchAction",X.model.get("throttle",!0),"fixRate")})})}var i70;var s70=h(()=>{A2();l0();l();ZH();i70=o0()});function er0($){return function(Q,J,K,Y){var Z=this.range,q=Z.slice(),X=Q.axisModels[0];if(!X)return;var W=$(q,X,Q,J,K,Y);if(X9(W,q,[0,100],"all"),this.range=q,Z[0]!==q[0]||Z[1]!==q[1])return q}}var n_1,o70,a70,$i0;var Qi0=h(()=>{H0();BM();s70();l();n_1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type="dataZoom.inside",J}return Q.prototype.render=function(J,K,Y){if($.prototype.render.apply(this,arguments),J.noTarget()){this._clear();return}this.range=J.getPercentRange(),sr0(Y,J,{pan:P0(o70.pan,this),zoom:P0(o70.zoom,this),scrollMove:P0(o70.scrollMove,this)})},Q.prototype.dispose=function(){this._clear(),$.prototype.dispose.apply(this,arguments)},Q.prototype._clear=function(){or0(this.api,this.dataZoomModel),this.range=null},Q.type="dataZoom.inside",Q}(gA),o70={zoom:function($,Q,J,K){var Y=this.range,Z=Y.slice(),q=$.axisModels[0];if(!q)return;var X=a70[Q](null,[K.originX,K.originY],q,J,$),W=(X.signal>0?X.pixelStart+X.pixelLength-X.pixel:X.pixel-X.pixelStart)/X.pixelLength*(Z[1]-Z[0])+Z[0],F=Math.max(1/K.scale,0);Z[0]=(Z[0]-W)*F+W,Z[1]=(Z[1]-W)*F+W;var H=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(X9(0,Z,[0,100],0,H.minSpan,H.maxSpan),this.range=Z,Y[0]!==Z[0]||Y[1]!==Z[1])return Z},pan:er0(function($,Q,J,K,Y,Z){var q=a70[K]([Z.oldX,Z.oldY],[Z.newX,Z.newY],Q,Y,J);return q.signal*($[1]-$[0])*q.pixel/q.pixelLength}),scrollMove:er0(function($,Q,J,K,Y,Z){var q=a70[K]([0,0],[Z.scrollDelta,Z.scrollDelta],Q,Y,J);return q.signal*($[1]-$[0])*Z.scrollDelta})};a70={grid:function($,Q,J,K,Y){var Z=J.axis,q={},X=Y.model.coordinateSystem.getRect();if($=$||[0,0],Z.dim==="x")q.pixel=Q[0]-$[0],q.pixelLength=X.width,q.pixelStart=X.x,q.signal=Z.inverse?1:-1;else q.pixel=Q[1]-$[1],q.pixelLength=X.height,q.pixelStart=X.y,q.signal=Z.inverse?-1:1;return q},polar:function($,Q,J,K,Y){var Z=J.axis,q={},X=Y.model.coordinateSystem,W=X.getRadiusAxis().getExtent(),F=X.getAngleAxis().getExtent();if($=$?X.pointToCoord($):[0,0],Q=X.pointToCoord(Q),J.mainType==="radiusAxis")q.pixel=Q[0]-$[0],q.pixelLength=W[1]-W[0],q.pixelStart=W[0],q.signal=Z.inverse?1:-1;else q.pixel=Q[1]-$[1],q.pixelLength=F[1]-F[0],q.pixelStart=F[0],q.signal=Z.inverse?-1:1;return q},singleAxis:function($,Q,J,K,Y){var Z=J.axis,q=Y.model.coordinateSystem.getRect(),X={};if($=$||[0,0],Z.orient==="horizontal")X.pixel=Q[0]-$[0],X.pixelLength=q.width,X.pixelStart=q.x,X.signal=Z.inverse?1:-1;else X.pixel=Q[1]-$[1],X.pixelLength=q.height,X.pixelStart=q.y,X.signal=Z.inverse?-1:1;return X}},$i0=n_1});function jD($){qH($),$.registerComponentModel(rr0),$.registerComponentView($i0),tr0($)}var t70=h(()=>{ir0();Qi0();s70();zM()});var l_1,Ji0;var Ki0=h(()=>{H0();NM();e4();y1();l_1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="dataZoom.slider",Q.layoutMode="box",Q.defaultOption=C4(k2.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:e.color.accent10,borderRadius:0,backgroundColor:e.color.transparent,dataBackground:{lineStyle:{color:e.color.accent30,width:0.5},areaStyle:{color:e.color.accent20,opacity:0.2}},selectedDataBackground:{lineStyle:{color:e.color.accent40,width:0.5},areaStyle:{color:e.color.accent20,opacity:0.3}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:e.color.neutral00,borderColor:e.color.accent20},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:e.color.accent40,opacity:0.5},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:e.color.tertiary},brushSelect:!0,brushStyle:{color:e.color.accent30,opacity:0.3},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:e.color.accent40},moveHandleStyle:{opacity:0.8}},defaultLocationEdgeGap:15}),Q}(k2),Ji0=l_1});function e_1($){var Q={x:"y",y:"x",radius:"angle",angle:"radius"};return Q[$]}function $f1($){return $==="vertical"?"ns-resize":"ew-resize"}var ED,r_1=1,e70=30,i_1=7,LD="horizontal",Yi0="vertical",s_1=5,o_1,a_1,t_1,Zi0;var qi0=h(()=>{H0();l();CK();a0();BM();k1();l5();ZH();M5();S8();N5();g5();y1();ED=X1,o_1=["line","bar","candlestick","scatter"],a_1={easing:"cubicOut",duration:100,delay:0},t_1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J._displayables={},J}return Q.prototype.init=function(J,K){this.api=K,this._onBrush=P0(this._onBrush,this),this._onBrushEnd=P0(this._onBrushEnd,this)},Q.prototype.render=function(J,K,Y,Z){if($.prototype.render.apply(this,arguments),o$(this,"_dispatchZoomAction",J.get("throttle"),"fixRate"),this._orient=J.getOrient(),J.get("show")===!1){this.group.removeAll();return}if(J.noTarget()){this._clear(),this.group.removeAll();return}if(!Z||Z.type!=="dataZoom"||Z.from!==this.uid)this._buildView();this._updateView()},Q.prototype.dispose=function(){this._clear(),$.prototype.dispose.apply(this,arguments)},Q.prototype._clear=function(){hZ(this,"_dispatchZoomAction");var J=this.api.getZr();J.off("mousemove",this._onBrush),J.off("mouseup",this._onBrushEnd)},Q.prototype._buildView=function(){var J=this.group;J.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var K=this._displayables.sliderGroup=new b0;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),J.add(K),this._positionGroup()},Q.prototype._resetLocation=function(){var J=this.dataZoomModel,K=this.api,Y=J.get("brushSelect"),Z=Y?i_1:0,q=_5(J,K).refContainer,X=this._findCoordRect(),W=J.get("defaultLocationEdgeGap",!0)||0,F=this._orient===LD?{right:q.width-X.x-X.width,top:q.height-e70-W-Z,width:X.width,height:e70}:{right:W,top:X.y,width:e70,height:X.height},H=u9(J.option);S(["right","top","width","height"],function(z){if(H[z]==="ph")H[z]=F[z]});var B=X5(H,q);this._location={x:B.x,y:B.y},this._size=[B.width,B.height],this._orient===Yi0&&this._size.reverse()},Q.prototype._positionGroup=function(){var J=this.group,K=this._location,Y=this._orient,Z=this.dataZoomModel.getFirstTargetAxisModel(),q=Z&&Z.get("inverse"),X=this._displayables.sliderGroup,W=(this._dataShadowInfo||{}).otherAxisInverse;X.attr(Y===LD&&!q?{scaleY:W?1:-1,scaleX:1}:Y===LD&&q?{scaleY:W?1:-1,scaleX:-1}:Y===Yi0&&!q?{scaleY:W?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:W?-1:1,scaleX:-1,rotation:Math.PI/2});var F=J.getBoundingRect([X]);J.x=K.x-F.x,J.y=K.y-F.y,J.markRedraw()},Q.prototype._getViewExtent=function(){return[0,this._size[0]]},Q.prototype._renderBackground=function(){var J=this.dataZoomModel,K=this._size,Y=this._displayables.sliderGroup,Z=J.get("brushSelect");Y.add(new ED({silent:!0,shape:{x:0,y:0,width:K[0],height:K[1]},style:{fill:J.get("backgroundColor")},z2:-40}));var q=new ED({shape:{x:0,y:0,width:K[0],height:K[1]},style:{fill:"transparent"},z2:0,onclick:P0(this._onClickPanel,this)}),X=this.api.getZr();if(Z)q.on("mousedown",this._onBrushStart,this),q.cursor="crosshair",X.on("mousemove",this._onBrush),X.on("mouseup",this._onBrushEnd);else X.off("mousemove",this._onBrush),X.off("mouseup",this._onBrushEnd);Y.add(q)},Q.prototype._renderDataShadow=function(){var J=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!J)return;var K=this._size,Y=this._shadowSize||[],Z=J.series,q=Z.getRawData(),X=Z.getShadowDim&&Z.getShadowDim(),W=X&&q.getDimensionInfo(X)?Z.getShadowDim():J.otherDim;if(W==null)return;var F=this._shadowPolygonPts,H=this._shadowPolylinePts;if(q!==this._shadowData||W!==this._shadowDim||K[0]!==Y[0]||K[1]!==Y[1]){var B=q.getDataExtent(J.thisDim),z=q.getDataExtent(W),A=(z[1]-z[0])*0.3;z=[z[0]-A,z[1]+A];var R=[0,K[1]],G=[0,K[0]],O=[[K[0],0],[0,0]],T=[],D=G[1]/Math.max(1,q.count()-1),P=K[0]/(B[1]-B[0]),j=J.thisAxis.type==="time",E=-D,L=Math.round(q.count()/K[0]),v;q.each([J.thisDim,W],function(x,g,m){if(L>0&&m%L){if(!j)E+=D;return}E=j?(+x-B[0])*P:E+D;var u=g==null||isNaN(g)||g==="",p=u?0:Z5(g,z,R,!0);if(u&&!v&&m)O.push([O[O.length-1][0],0]),T.push([T[T.length-1][0],0]);else if(!u&&v)O.push([E,0]),T.push([E,0]);if(!u)O.push([E,p]),T.push([E,p]);v=u}),F=this._shadowPolygonPts=O,H=this._shadowPolylinePts=T}this._shadowData=q,this._shadowDim=W,this._shadowSize=[K[0],K[1]];var f=this.dataZoomModel;function _(x){var g=f.getModel(x?"selectedDataBackground":"dataBackground"),m=new b0,u=new S6({shape:{points:F},segmentIgnoreThreshold:1,style:g.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),p=new G6({shape:{points:H},segmentIgnoreThreshold:1,style:g.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return m.add(u),m.add(p),m}for(var M=0;M<3;M++){var b=_(M===1);this._displayables.sliderGroup.add(b),this._displayables.dataShadowSegs.push(b)}},Q.prototype._prepareDataShadowInfo=function(){var J=this.dataZoomModel,K=J.get("showDataShadow");if(K===!1)return;var Y,Z=this.ecModel;return J.eachTargetAxis(function(q,X){var W=J.getAxisProxy(q,X).getTargetSeriesModels();S(W,function(F){if(Y)return;if(K!==!0&&J1(o_1,F.get("type"))<0)return;var H=Z.getComponent(qQ(q),X).axis,B=e_1(q),z,A=F.coordinateSystem;if(B!=null&&A.getOtherAxis)z=A.getOtherAxis(H).inverse;B=F.getData().mapDimension(B);var R=F.getData().mapDimension(q);Y={thisAxis:H,series:F,thisDim:R,otherDim:B,otherAxisInverse:z}},this)},this),Y},Q.prototype._renderHandle=function(){var J=this.group,K=this._displayables,Y=K.handles=[null,null],Z=K.handleLabels=[null,null],q=this._displayables.sliderGroup,X=this._size,W=this.dataZoomModel,F=this.api,H=W.get("borderRadius")||0,B=W.get("brushSelect"),z=K.filler=new ED({silent:B,style:{fill:W.get("fillerColor")},textConfig:{position:"inside"}});q.add(z),q.add(new ED({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:X[0],height:X[1],r:H},style:{stroke:W.get("dataBackgroundColor")||W.get("borderColor"),lineWidth:r_1,fill:e.color.transparent}})),S([0,1],function(P){var j=W.get("handleIcon");if(!YT[j]&&j.indexOf("path://")<0&&j.indexOf("image://")<0)j="path://"+j,i4("handleIcon now needs 'path://' prefix when using a path string");var E=y5(j,-1,0,2,2,null,!0);E.attr({cursor:$f1(this._orient),draggable:!0,drift:P0(this._onDragMove,this,P),ondragend:P0(this._onDragEnd,this),onmouseover:P0(this._showDataInfo,this,!0),onmouseout:P0(this._showDataInfo,this,!1),z2:5});var L=E.getBoundingRect(),v=W.get("handleSize");this._handleHeight=f0(v,this._size[1]),this._handleWidth=L.width/L.height*this._handleHeight,E.setStyle(W.getModel("handleStyle").getItemStyle()),E.style.strokeNoScale=!0,E.rectHover=!0,E.ensureState("emphasis").style=W.getModel(["emphasis","handleStyle"]).getItemStyle(),gK(E);var f=W.get("handleColor");if(f!=null)E.style.fill=f;q.add(Y[P]=E);var _=W.getModel("textStyle"),M=W.get("handleLabel")||{},b=M.show||!1;J.add(Z[P]=new j1({silent:!0,invisible:!b,style:A5(_,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:_.getTextColor(),font:_.getFont()}),z2:10}))},this);var A=z;if(B){var R=f0(W.get("moveHandleSize"),X[1]),G=K.moveHandle=new X1({style:W.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:X[1]-0.5,height:R}}),O=R*0.8,T=K.moveHandleIcon=y5(W.get("moveHandleIcon"),-O/2,-O/2,O,O,e.color.neutral00,!0);T.silent=!0,T.y=X[1]+R/2-0.5,G.ensureState("emphasis").style=W.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var D=Math.min(X[1]/2,Math.max(R,10));A=K.moveZone=new X1({invisible:!0,shape:{y:X[1]-D,height:R+D}}),A.on("mouseover",function(){F.enterEmphasis(G)}).on("mouseout",function(){F.leaveEmphasis(G)}),q.add(G),q.add(T),q.add(A)}A.attr({draggable:!0,cursor:"default",drift:P0(this._onDragMove,this,"all"),ondragstart:P0(this._showDataInfo,this,!0),ondragend:P0(this._onDragEnd,this),onmouseover:P0(this._showDataInfo,this,!0),onmouseout:P0(this._showDataInfo,this,!1)})},Q.prototype._resetInterval=function(){var J=this._range=this.dataZoomModel.getPercentRange(),K=this._getViewExtent();this._handleEnds=[Z5(J[0],[0,100],K,!0),Z5(J[1],[0,100],K,!0)]},Q.prototype._updateInterval=function(J,K){var Y=this.dataZoomModel,Z=this._handleEnds,q=this._getViewExtent(),X=Y.findRepresentativeAxisProxy().getMinMaxSpan(),W=[0,100];X9(K,Z,q,Y.get("zoomLock")?"all":J,X.minSpan!=null?Z5(X.minSpan,W,q,!0):null,X.maxSpan!=null?Z5(X.maxSpan,W,q,!0):null);var F=this._range,H=this._range=K8([Z5(Z[0],q,W,!0),Z5(Z[1],q,W,!0)]);return!F||F[0]!==H[0]||F[1]!==H[1]},Q.prototype._updateView=function(J){var K=this._displayables,Y=this._handleEnds,Z=K8(Y.slice()),q=this._size;S([0,1],function(A){var R=K.handles[A],G=this._handleHeight;R.attr({scaleX:G/2,scaleY:G/2,x:Y[A]+(A?-1:1),y:q[1]/2-G/2})},this),K.filler.setShape({x:Z[0],y:0,width:Z[1]-Z[0],height:q[1]});var X={x:Z[0],width:Z[1]-Z[0]};if(K.moveHandle)K.moveHandle.setShape(X),K.moveZone.setShape(X),K.moveZone.getBoundingRect(),K.moveHandleIcon&&K.moveHandleIcon.attr("x",X.x+X.width/2);var W=K.dataShadowSegs,F=[0,Z[0],Z[1],q[0]];for(var H=0;H<W.length;H++){var B=W[H],z=B.getClipPath();if(!z)z=new X1,B.setClipPath(z);z.setShape({x:F[H],y:0,width:F[H+1]-F[H],height:q[1]})}this._updateDataInfo(J)},Q.prototype._updateDataInfo=function(J){var K=this.dataZoomModel,Y=this._displayables,Z=Y.handleLabels,q=this._orient,X=["",""];if(K.get("showDetail")){var W=K.findRepresentativeAxisProxy();if(W){var F=W.getAxisModel().axis,H=this._range,B=J?W.calculateDataWindow({start:H[0],end:H[1]}).valueWindow:W.getDataValueWindow();X=[this._formatLabel(B[0],F),this._formatLabel(B[1],F)]}}var z=K8(this._handleEnds.slice());A.call(this,0),A.call(this,1);function A(R){var G=QJ(Y.handles[R].parent,this.group),O=BU(R===0?"right":"left",G),T=this._handleWidth/2+s_1,D=e8([z[R]+(R===0?-T:T),this._size[1]/2],G);Z[R].setStyle({x:D[0],y:D[1],verticalAlign:q===LD?"middle":O,align:q===LD?O:"center",text:X[R]})}},Q.prototype._formatLabel=function(J,K){var Y=this.dataZoomModel,Z=Y.get("labelFormatter"),q=Y.get("labelPrecision");if(q==null||q==="auto")q=K.getPixelPrecision();var X=J==null||isNaN(J)?"":K.type==="category"||K.type==="time"?K.scale.getLabel({value:Math.round(J)}):J.toFixed(Math.min(q,20));return I0(Z)?Z(J,X):R0(Z)?Z.replace("{value}",X):X},Q.prototype._showDataInfo=function(J){var K=this.dataZoomModel.get("handleLabel")||{},Y=K.show||!1,Z=this.dataZoomModel.getModel(["emphasis","handleLabel"]),q=Z.get("show")||!1,X=J||this._dragging?q:Y,W=this._displayables,F=W.handleLabels;F[0].attr("invisible",!X),F[1].attr("invisible",!X),W.moveHandle&&this.api[X?"enterEmphasis":"leaveEmphasis"](W.moveHandle,1)},Q.prototype._onDragMove=function(J,K,Y,Z){this._dragging=!0,L9(Z.event);var q=this._displayables.sliderGroup.getLocalTransform(),X=e8([K,Y],q,!0),W=this._updateInterval(J,X[0]),F=this.dataZoomModel.get("realtime");this._updateView(!F),W&&F&&this._dispatchZoomAction(!0)},Q.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var J=this.dataZoomModel.get("realtime");!J&&this._dispatchZoomAction(!1)},Q.prototype._onClickPanel=function(J){var K=this._size,Y=this._displayables.sliderGroup.transformCoordToLocal(J.offsetX,J.offsetY);if(Y[0]<0||Y[0]>K[0]||Y[1]<0||Y[1]>K[1])return;var Z=this._handleEnds,q=(Z[0]+Z[1])/2,X=this._updateInterval("all",Y[0]-q);this._updateView(),X&&this._dispatchZoomAction(!1)},Q.prototype._onBrushStart=function(J){var{offsetX:K,offsetY:Y}=J;this._brushStart=new Z1(K,Y),this._brushing=!0,this._brushStartTime=+new Date},Q.prototype._onBrushEnd=function(J){if(!this._brushing)return;var K=this._displayables.brushRect;if(this._brushing=!1,!K)return;K.attr("ignore",!0);var Y=K.shape,Z=+new Date;if(Z-this._brushStartTime<200&&Math.abs(Y.width)<5)return;var q=this._getViewExtent(),X=[0,100],W=this._handleEnds=[Y.x,Y.x+Y.width],F=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();X9(0,W,q,0,F.minSpan!=null?Z5(F.minSpan,X,q,!0):null,F.maxSpan!=null?Z5(F.maxSpan,X,q,!0):null),this._range=K8([Z5(W[0],q,X,!0),Z5(W[1],q,X,!0)]),this._updateView(),this._dispatchZoomAction(!1)},Q.prototype._onBrush=function(J){if(this._brushing)L9(J.event),this._updateBrushRect(J.offsetX,J.offsetY)},Q.prototype._updateBrushRect=function(J,K){var Y=this._displayables,Z=this.dataZoomModel,q=Y.brushRect;if(!q)q=Y.brushRect=new ED({silent:!0,style:Z.getModel("brushStyle").getItemStyle()}),Y.sliderGroup.add(q);q.attr("ignore",!1);var X=this._brushStart,W=this._displayables.sliderGroup,F=W.transformCoordToLocal(J,K),H=W.transformCoordToLocal(X.x,X.y),B=this._size;F[0]=Math.max(Math.min(B[0],F[0]),0),q.setShape({x:H[0],y:0,width:F[0]-H[0],height:B[1]})},Q.prototype._dispatchZoomAction=function(J){var K=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:J?a_1:null,start:K[0],end:K[1]})},Q.prototype._findCoordRect=function(){var J,K=HM(this.dataZoomModel).infoList;if(!J&&K.length){var Y=K[0].model.coordinateSystem;J=Y.getRect&&Y.getRect()}if(!J){var Z=this.api.getWidth(),q=this.api.getHeight();J={x:Z*0.2,y:q*0.2,width:Z*0.6,height:q*0.6}}return J},Q.type="dataZoom.slider",Q}(gA);Zi0=t_1});function hD($){$.registerComponentModel(Ji0),$.registerComponentView(Zi0),qH($)}var $80=h(()=>{Ki0();qi0();zM()});function Q80($){T1(jD),T1(hD)}var Xi0=h(()=>{E4();t70();$80()});var Qf1,Jf1,gM;var J80=h(()=>{l();y1();Qf1={get:function($,Q,J){var K=m0((Jf1[$]||{})[Q]);return J?Z0(K)?K[K.length-1]:K:K}},Jf1={color:{active:["#006edd","#e0ffff"],inactive:[e.color.transparent]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[0.3,1],inactive:[0,0]},colorLightness:{active:[0.9,0.5],inactive:[0,0]},colorAlpha:{active:[0.3,1],inactive:[0,0]},opacity:{active:[0.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},gM=Qf1});var Wi0,Kf1,Yf1,Fi0,Zf1,qf1,Xf1,mA;var K80=h(()=>{H0();l();J80();O2();TD();l0();k1();_6();y1();Wi0=B7.mapVisual,Kf1=B7.eachVisual,Yf1=Z0,Fi0=S,Zf1=K8,qf1=Z5,Xf1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.stateList=["inRange","outOfRange"],J.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],J.layoutMode={type:"box",ignoreSize:!0},J.dataBound=[-1/0,1/0],J.targetVisuals={},J.controllerVisuals={},J}return Q.prototype.init=function(J,K,Y){this.mergeDefaultAndTheme(J,Y)},Q.prototype.optionUpdated=function(J,K){var Y=this.option;!K&&wM(Y,J,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},Q.prototype.resetVisual=function(J){var K=this.stateList;J=P0(J,this),this.controllerVisuals=wD(this.option.controller,K,J),this.targetVisuals=wD(this.option.target,K,J)},Q.prototype.getItemSymbol=function(){return null},Q.prototype.getTargetSeriesIndices=function(){var J=this.option.seriesId,K=this.option.seriesIndex;if(K==null&&J==null)K="all";var Y=hK(this.ecModel,"series",{index:K,id:J},{useDefault:!1,enableAll:!0,enableNone:!1}).models;return q0(Y,function(Z){return Z.componentIndex})},Q.prototype.eachTargetSeries=function(J,K){S(this.getTargetSeriesIndices(),function(Y){var Z=this.ecModel.getSeriesByIndex(Y);if(Z)J.call(K,Z)},this)},Q.prototype.isTargetSeries=function(J){var K=!1;return this.eachTargetSeries(function(Y){Y===J&&(K=!0)}),K},Q.prototype.formatValueText=function(J,K,Y){var Z=this.option,q=Z.precision,X=this.dataBound,W=Z.formatter,F;if(Y=Y||["<",">"],Z0(J))J=J.slice(),F=!0;var H=K?J:F?[B(J[0]),B(J[1])]:B(J);if(R0(W))return W.replace("{value}",F?H[0]:H).replace("{value2}",F?H[1]:H);else if(I0(W))return F?W(J[0],J[1]):W(J);if(F)if(J[0]===X[0])return Y[0]+" "+H[1];else if(J[1]===X[1])return Y[1]+" "+H[0];else return H[0]+" - "+H[1];else return H;function B(z){return z===X[0]?"min":z===X[1]?"max":(+z).toFixed(Math.min(q,20))}},Q.prototype.resetExtent=function(){var J=this.option,K=Zf1([J.min,J.max]);this._dataExtent=K},Q.prototype.getDataDimensionIndex=function(J){var K=this.option.dimension;if(K!=null)return J.getDimensionIndex(K);var Y=J.dimensions;for(var Z=Y.length-1;Z>=0;Z--){var q=Y[Z],X=J.getDimensionInfo(q);if(!X.isCalculationCoord)return X.storeDimIndex}},Q.prototype.getExtent=function(){return this._dataExtent.slice()},Q.prototype.completeVisualOption=function(){var J=this.ecModel,K=this.option,Y={inRange:K.inRange,outOfRange:K.outOfRange},Z=K.target||(K.target={}),q=K.controller||(K.controller={});F1(Z,Y),F1(q,Y);var X=this.isCategory();W.call(this,Z),W.call(this,q),F.call(this,Z,"inRange","outOfRange"),H.call(this,q);function W(B){if(Yf1(K.color)&&!B.inRange)B.inRange={color:K.color.slice().reverse()};B.inRange=B.inRange||{color:J.get("gradientColor")}}function F(B,z,A){var R=B[z],G=B[A];if(R&&!G)G=B[A]={},Fi0(R,function(O,T){if(!B7.isValidType(T))return;var D=gM.get(T,"inactive",X);if(D!=null){if(G[T]=D,T==="color"&&!G.hasOwnProperty("opacity")&&!G.hasOwnProperty("colorAlpha"))G.opacity=[0,0]}})}function H(B){var z=(B.inRange||{}).symbol||(B.outOfRange||{}).symbol,A=(B.inRange||{}).symbolSize||(B.outOfRange||{}).symbolSize,R=this.get("inactiveColor"),G=this.getItemSymbol(),O=G||"roundRect";Fi0(this.stateList,function(T){var D=this.itemSize,P=B[T];if(!P)P=B[T]={color:X?R:[R]};if(P.symbol==null)P.symbol=z&&m0(z)||(X?O:[O]);if(P.symbolSize==null)P.symbolSize=A&&m0(A)||(X?D[0]:[D[0],D[0]]);P.symbol=Wi0(P.symbol,function(L){return L==="none"?O:L});var j=P.symbolSize;if(j!=null){var E=-1/0;Kf1(j,function(L){L>E&&(E=L)}),P.symbolSize=Wi0(j,function(L){return qf1(L,[0,E],[0,D[0]],!0)})}},this)}},Q.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},Q.prototype.isCategory=function(){return!!this.option.categories},Q.prototype.setSelected=function(J){},Q.prototype.getSelected=function(){return null},Q.prototype.getValueState=function(J){return null},Q.prototype.getVisualMeta=function(J){return null},Q.type="visualMap",Q.dependencies=["series"],Q.defaultOption={show:!0,z:4,min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:e.color.transparent,borderColor:e.color.borderTint,contentColor:e.color.theme[0],inactiveColor:e.color.disabled,borderWidth:0,padding:e.size.m,textGap:10,precision:0,textStyle:{color:e.color.secondary}},Q}(O1),mA=Xf1});function Hi0($,Q,J){if(J[0]===J[1])return J.slice();var K=200,Y=(J[1]-J[0])/K,Z=J[0],q=[];for(var X=0;X<=K&&Z<J[1];X++)q.push(Z),Z+=Y;return q.push(J[1]),q}var Ui0,Wf1,Ni0;var Bi0=h(()=>{H0();l();K80();k1();e4();y1();Ui0=[20,140],Wf1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.optionUpdated=function(J,K){$.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(Y){Y.mappingMethod="linear",Y.dataExtent=this.getExtent()}),this._resetRange()},Q.prototype.resetItemSize=function(){$.prototype.resetItemSize.apply(this,arguments);var J=this.itemSize;(J[0]==null||isNaN(J[0]))&&(J[0]=Ui0[0]),(J[1]==null||isNaN(J[1]))&&(J[1]=Ui0[1])},Q.prototype._resetRange=function(){var J=this.getExtent(),K=this.option.range;if(!K||K.auto)J.auto=1,this.option.range=J;else if(Z0(K)){if(K[0]>K[1])K.reverse();K[0]=Math.max(K[0],J[0]),K[1]=Math.min(K[1],J[1])}},Q.prototype.completeVisualOption=function(){$.prototype.completeVisualOption.apply(this,arguments),S(this.stateList,function(J){var K=this.option.controller[J].symbolSize;if(K&&K[0]!==K[1])K[0]=K[1]/3},this)},Q.prototype.setSelected=function(J){this.option.range=J.slice(),this._resetRange()},Q.prototype.getSelected=function(){var J=this.getExtent(),K=K8((this.get("range")||[]).slice());return K[0]>J[1]&&(K[0]=J[1]),K[1]>J[1]&&(K[1]=J[1]),K[0]<J[0]&&(K[0]=J[0]),K[1]<J[0]&&(K[1]=J[0]),K},Q.prototype.getValueState=function(J){var K=this.option.range,Y=this.getExtent(),Z=g0(this.option.unboundedRange,!0);return(Z&&K[0]<=Y[0]||K[0]<=J)&&(Z&&K[1]>=Y[1]||J<=K[1])?"inRange":"outOfRange"},Q.prototype.findTargetDataIndices=function(J){var K=[];return this.eachTargetSeries(function(Y){var Z=[],q=Y.getData();q.each(this.getDataDimensionIndex(q),function(X,W){J[0]<=X&&X<=J[1]&&Z.push(W)},this),K.push({seriesId:Y.id,dataIndex:Z})},this),K},Q.prototype.getVisualMeta=function(J){var K=Hi0(this,"outOfRange",this.getExtent()),Y=Hi0(this,"inRange",this.option.range.slice()),Z=[];function q(A,R){Z.push({value:A,color:J(A,R)})}var X=0,W=0,F=Y.length,H=K.length;for(;W<H&&(!Y.length||K[W]<=Y[0]);W++)if(K[W]<Y[X])q(K[W],"outOfRange");for(var B=1;X<F;X++,B=0)B&&Z.length&&q(Y[X],"outOfRange"),q(Y[X],"inRange");for(var B=1;W<H;W++)if(!Y.length||Y[Y.length-1]<K[W]){if(B)Z.length&&q(Z[Z.length-1].value,"outOfRange"),B=0;q(K[W],"outOfRange")}var z=Z.length;return{stops:Z,outerColors:[z?Z[0].color:"transparent",z?Z[z-1].color:"transparent"]}},Q.type="visualMap.continuous",Q.defaultOption=C4(mA.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:e.color.neutral00,borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:e.color.neutral00,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:e.color.shadow}}),Q}(mA);Ni0=Wf1});var Ff1,yM;var Y80=h(()=>{H0();l();a0();P4();l5();O2();a6();Ff1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.autoPositionValues={left:1,right:1,top:1,bottom:1},J}return Q.prototype.init=function(J,K){this.ecModel=J,this.api=K},Q.prototype.render=function(J,K,Y,Z){if(this.visualMapModel=J,J.get("show")===!1){this.group.removeAll();return}this.doRender(J,K,Y,Z)},Q.prototype.renderBackground=function(J){var K=this.visualMapModel,Y=cK(K.get("padding")||0),Z=J.getBoundingRect();J.add(new X1({z2:-1,silent:!0,shape:{x:Z.x-Y[3],y:Z.y-Y[0],width:Z.width+Y[3]+Y[1],height:Z.height+Y[0]+Y[2]},style:{fill:K.get("backgroundColor"),stroke:K.get("borderColor"),lineWidth:K.get("borderWidth")}}))},Q.prototype.getControllerVisual=function(J,K,Y){Y=Y||{};var Z=Y.forceState,q=this.visualMapModel,X={};if(K==="color"){var W=q.get("contentColor");X.color=W}function F(A){return X[A]}function H(A,R){X[A]=R}var B=q.controllerVisuals[Z||q.getValueState(J)],z=B7.prepareVisualTypes(B);return S(z,function(A){var R=B[A];if(Y.convertOpacityToAlpha&&A==="opacity")A="colorAlpha",R=B.__alphaForOpacity;if(B7.dependsOn(A,K))R&&R.applyVisual(J,F,H)}),X[K]},Q.prototype.positionGroup=function(J){var K=this.visualMapModel,Y=this.api,Z=_5(K,Y).refContainer;rX(J,K.getBoxLayoutParams(),Z)},Q.prototype.doRender=function(J,K,Y,Z){},Q.type="visualMap",Q}(a1),yM=Ff1});function xM($,Q,J){var K=$.option,Y=K.align;if(Y!=null&&Y!=="auto")return Y;var Z={width:Q.getWidth(),height:Q.getHeight()},q=K.orient==="horizontal"?1:0,X=zi0[q],W=[0,null,10],F={};for(var H=0;H<3;H++)F[zi0[1-q][H]]=W[H],F[X[H]]=H===2?J[0]:K[X[H]];var B=[["x","width",3],["y","height",0]][q],z=X5(F,Z,K.padding);return X[(z.margin[B[2]]||0)+z[B[0]]+z[B[1]]*0.5<Z[B[1]]*0.5?0:1]}function pA($,Q){return S($||[],function(J){if(J.dataIndex!=null)J.dataIndexInside=J.dataIndex,J.dataIndex=null;J.highlightKey="visualMap"+(Q?Q.componentIndex:"")}),$}var zi0;var Z80=h(()=>{l();l5();zi0=[["left","right","width"],["top","bottom","height"]]});function Ri0($,Q,J,K){return new S6({shape:{points:$},draggable:!!J,cursor:Q,drift:J,onmousemove:function(Y){L9(Y.event)},ondragend:K})}function zf1($,Q,J){var K=Hf1/2,Y=$.get("hoverLinkDataSize");if(Y)K=YY(Y,Q,J,!0)/2;return K}function Gi0($){var Q=$.get("hoverLinkOnHandle");return!!(Q==null?$.get("realtime"):Q)}function Oi0($){return $==="vertical"?"ns-resize":"ew-resize"}var YY,Uf1,Vi0,q80,Hf1=12,Nf1=6,Bf1,wi0;var Ti0=h(()=>{H0();l();zS();CK();Y80();a0();k1();Z80();l0();l4();M5();S8();u$();o5();g5();YY=Z5,Uf1=S,Vi0=Math.min,q80=Math.max,Bf1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J._shapes={},J._dataInterval=[],J._handleEnds=[],J._hoverLinkDataIndices=[],J}return Q.prototype.init=function(J,K){$.prototype.init.call(this,J,K),this._hoverLinkFromSeriesMouseOver=P0(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=P0(this._hideIndicator,this)},Q.prototype.doRender=function(J,K,Y,Z){if(!Z||Z.type!=="selectDataRange"||Z.from!==this.uid)this._buildView()},Q.prototype._buildView=function(){this.group.removeAll();var J=this.visualMapModel,K=this.group;this._orient=J.get("orient"),this._useHandle=J.get("calculable"),this._resetInterval(),this._renderBar(K);var Y=J.get("text");this._renderEndsText(K,Y,0),this._renderEndsText(K,Y,1),this._updateView(!0),this.renderBackground(K),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(K)},Q.prototype._renderEndsText=function(J,K,Y){if(!K)return;var Z=K[1-Y];Z=Z!=null?Z+"":"";var q=this.visualMapModel,X=q.get("textGap"),W=q.itemSize,F=this._shapes.mainGroup,H=this._applyTransform([W[0]/2,Y===0?-X:W[1]+X],F),B=this._applyTransform(Y===0?"bottom":"top",F),z=this._orient,A=this.visualMapModel.textStyleModel;this.group.add(new j1({style:A5(A,{x:H[0],y:H[1],verticalAlign:A.get("verticalAlign")||(z==="horizontal"?"middle":B),align:A.get("align")||(z==="horizontal"?B:"center"),text:Z})}))},Q.prototype._renderBar=function(J){var K=this.visualMapModel,Y=this._shapes,Z=K.itemSize,q=this._orient,X=this._useHandle,W=xM(K,this.api,Z),F=Y.mainGroup=this._createBarGroup(W),H=new b0;F.add(H),H.add(Y.outOfRange=Ri0()),H.add(Y.inRange=Ri0(null,X?Oi0(this._orient):null,P0(this._dragHandle,this,"all",!1),P0(this._dragHandle,this,"all",!0))),H.setClipPath(new X1({shape:{x:0,y:0,width:Z[0],height:Z[1],r:3}}));var B=K.textStyleModel.getTextRect("国"),z=q80(B.width,B.height);if(X)Y.handleThumbs=[],Y.handleLabels=[],Y.handleLabelPoints=[],this._createHandle(K,F,0,Z,z,q),this._createHandle(K,F,1,Z,z,q);this._createIndicator(K,F,Z,z,q),J.add(F)},Q.prototype._createHandle=function(J,K,Y,Z,q,X){var W=P0(this._dragHandle,this,Y,!1),F=P0(this._dragHandle,this,Y,!0),H=a8(J.get("handleSize"),Z[0]),B=y5(J.get("handleIcon"),-H/2,-H/2,H,H,null,!0),z=Oi0(this._orient);B.attr({cursor:z,draggable:!0,drift:W,ondragend:F,onmousemove:function(T){L9(T.event)}}),B.x=Z[0]/2,B.useStyle(J.getModel("handleStyle").getItemStyle()),B.setStyle({strokeNoScale:!0,strokeFirst:!0}),B.style.lineWidth*=2,B.ensureState("emphasis").style=J.getModel(["emphasis","handleStyle"]).getItemStyle(),GZ(B,!0),K.add(B);var A=this.visualMapModel.textStyleModel,R=new j1({cursor:z,draggable:!0,drift:W,onmousemove:function(T){L9(T.event)},ondragend:F,style:A5(A,{x:0,y:0,text:""})});R.ensureState("blur").style={opacity:0.1},R.stateTransition={duration:200},this.group.add(R);var G=[H,0],O=this._shapes;O.handleThumbs[Y]=B,O.handleLabelPoints[Y]=G,O.handleLabels[Y]=R},Q.prototype._createIndicator=function(J,K,Y,Z,q){var X=a8(J.get("indicatorSize"),Y[0]),W=y5(J.get("indicatorIcon"),-X/2,-X/2,X,X,null,!0);W.attr({cursor:"move",invisible:!0,silent:!0,x:Y[0]/2});var F=J.getModel("indicatorStyle").getItemStyle();if(W instanceof q6){var H=W.style;W.useStyle(Y0({image:H.image,x:H.x,y:H.y,width:H.width,height:H.height},F))}else W.useStyle(F);K.add(W);var B=this.visualMapModel.textStyleModel,z=new j1({silent:!0,invisible:!0,style:A5(B,{x:0,y:0,text:""})});this.group.add(z);var A=[(q==="horizontal"?Z/2:Nf1)+Y[0]/2,0],R=this._shapes;R.indicator=W,R.indicatorLabel=z,R.indicatorLabelPoint=A,this._firstShowIndicator=!0},Q.prototype._dragHandle=function(J,K,Y,Z){if(!this._useHandle)return;if(this._dragging=!K,!K){var q=this._applyTransform([Y,Z],this._shapes.mainGroup,!0);this._updateInterval(J,q[1]),this._hideIndicator(),this._updateView()}if(K===!this.visualMapModel.get("realtime"))this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()});if(K)!this._hovering&&this._clearHoverLinkToSeries();else if(Gi0(this.visualMapModel))this._doHoverLinkToSeries(this._handleEnds[J],!1)},Q.prototype._resetInterval=function(){var J=this.visualMapModel,K=this._dataInterval=J.getSelected(),Y=J.getExtent(),Z=[0,J.itemSize[1]];this._handleEnds=[YY(K[0],Y,Z,!0),YY(K[1],Y,Z,!0)]},Q.prototype._updateInterval=function(J,K){K=K||0;var Y=this.visualMapModel,Z=this._handleEnds,q=[0,Y.itemSize[1]];X9(K,Z,q,J,0);var X=Y.getExtent();this._dataInterval=[YY(Z[0],q,X,!0),YY(Z[1],q,X,!0)]},Q.prototype._updateView=function(J){var K=this.visualMapModel,Y=K.getExtent(),Z=this._shapes,q=[0,K.itemSize[1]],X=J?q:this._handleEnds,W=this._createBarVisual(this._dataInterval,Y,X,"inRange"),F=this._createBarVisual(Y,Y,q,"outOfRange");Z.inRange.setStyle({fill:W.barColor}).setShape("points",W.barPoints),Z.outOfRange.setStyle({fill:F.barColor}).setShape("points",F.barPoints),this._updateHandle(X,W)},Q.prototype._createBarVisual=function(J,K,Y,Z){var q={forceState:Z,convertOpacityToAlpha:!0},X=this._makeColorGradient(J,q),W=[this.getControllerVisual(J[0],"symbolSize",q),this.getControllerVisual(J[1],"symbolSize",q)],F=this._createBarPoints(Y,W);return{barColor:new m$(0,0,0,1,X),barPoints:F,handlesColor:[X[0].color,X[X.length-1].color]}},Q.prototype._makeColorGradient=function(J,K){var Y=100,Z=[],q=(J[1]-J[0])/Y;Z.push({color:this.getControllerVisual(J[0],"color",K),offset:0});for(var X=1;X<Y;X++){var W=J[0]+q*X;if(W>J[1])break;Z.push({color:this.getControllerVisual(W,"color",K),offset:X/Y})}return Z.push({color:this.getControllerVisual(J[1],"color",K),offset:1}),Z},Q.prototype._createBarPoints=function(J,K){var Y=this.visualMapModel.itemSize;return[[Y[0]-K[0],J[0]],[Y[0],J[0]],[Y[0],J[1]],[Y[0]-K[1],J[1]]]},Q.prototype._createBarGroup=function(J){var K=this._orient,Y=this.visualMapModel.get("inverse");return new b0(K==="horizontal"&&!Y?{scaleX:J==="bottom"?1:-1,rotation:Math.PI/2}:K==="horizontal"&&Y?{scaleX:J==="bottom"?-1:1,rotation:-Math.PI/2}:K==="vertical"&&!Y?{scaleX:J==="left"?1:-1,scaleY:-1}:{scaleX:J==="left"?1:-1})},Q.prototype._updateHandle=function(J,K){if(!this._useHandle)return;var Y=this._shapes,Z=this.visualMapModel,q=Y.handleThumbs,X=Y.handleLabels,W=Z.itemSize,F=Z.getExtent(),H=this._applyTransform("left",Y.mainGroup);Uf1([0,1],function(B){var z=q[B];z.setStyle("fill",K.handlesColor[B]),z.y=J[B];var A=YY(J[B],[0,W[1]],F,!0),R=this.getControllerVisual(A,"symbolSize");z.scaleX=z.scaleY=R/W[0],z.x=W[0]-R/2;var G=e8(Y.handleLabelPoints[B],QJ(z,this.group));if(this._orient==="horizontal"){var O=H==="left"||H==="top"?(W[0]-R)/2:(W[0]-R)/-2;G[1]+=O}X[B].setStyle({x:G[0],y:G[1],text:Z.formatValueText(this._dataInterval[B]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",Y.mainGroup):"center"})},this)},Q.prototype._showIndicator=function(J,K,Y,Z){var q=this.visualMapModel,X=q.getExtent(),W=q.itemSize,F=[0,W[1]],H=this._shapes,B=H.indicator;if(!B)return;B.attr("invisible",!1);var z={convertOpacityToAlpha:!0},A=this.getControllerVisual(J,"color",z),R=this.getControllerVisual(J,"symbolSize"),G=YY(J,X,F,!0),O=W[0]-R/2,T={x:B.x,y:B.y};B.y=G,B.x=O;var D=e8(H.indicatorLabelPoint,QJ(B,this.group)),P=H.indicatorLabel;P.attr("invisible",!1);var j=this._applyTransform("left",H.mainGroup),E=this._orient,L=E==="horizontal";P.setStyle({text:(Y?Y:"")+q.formatValueText(K),verticalAlign:L?j:"middle",align:L?"center":j});var v={x:O,y:G,style:{fill:A}},f={style:{x:D[0],y:D[1]}};if(q.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var _={duration:100,easing:"cubicInOut",additive:!0};B.x=T.x,B.y=T.y,B.animateTo(v,_),P.animateTo(f,_)}else B.attr(v),P.attr(f);this._firstShowIndicator=!1;var M=this._shapes.handleLabels;if(M)for(var b=0;b<M.length;b++)this.api.enterBlur(M[b])},Q.prototype._enableHoverLinkToSeries=function(){var J=this;this._shapes.mainGroup.on("mousemove",function(K){if(J._hovering=!0,!J._dragging){var Y=J.visualMapModel.itemSize,Z=J._applyTransform([K.offsetX,K.offsetY],J._shapes.mainGroup,!0,!0);Z[1]=Vi0(q80(0,Z[1]),Y[1]),J._doHoverLinkToSeries(Z[1],0<=Z[0]&&Z[0]<=Y[0])}}).on("mouseout",function(){J._hovering=!1,!J._dragging&&J._clearHoverLinkToSeries()})},Q.prototype._enableHoverLinkFromSeries=function(){var J=this.api.getZr();if(this.visualMapModel.option.hoverLink)J.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),J.on("mouseout",this._hideIndicator,this);else this._clearHoverLinkFromSeries()},Q.prototype._doHoverLinkToSeries=function(J,K){var Y=this.visualMapModel,Z=Y.itemSize;if(!Y.option.hoverLink)return;var q=[0,Z[1]],X=Y.getExtent();J=Vi0(q80(q[0],J),q[1]);var W=zf1(Y,X,q),F=[J-W,J+W],H=YY(J,q,X,!0),B=[YY(F[0],q,X,!0),YY(F[1],q,X,!0)];if(F[0]<q[0]&&(B[0]=-1/0),F[1]>q[1]&&(B[1]=1/0),K)if(B[0]===-1/0)this._showIndicator(H,B[1],"< ",W);else if(B[1]===1/0)this._showIndicator(H,B[0],"> ",W);else this._showIndicator(H,H,"≈ ",W);var z=this._hoverLinkDataIndices,A=[];if(K||Gi0(Y))A=this._hoverLinkDataIndices=Y.findTargetDataIndices(B);var R=dE0(z,A);this._dispatchHighDown("downplay",pA(R[0],Y)),this._dispatchHighDown("highlight",pA(R[1],Y))},Q.prototype._hoverLinkFromSeriesMouseOver=function(J){var K;if(qJ(J.target,function(W){var F=r0(W);if(F.dataIndex!=null)return K=F,!0},!0),!K)return;var Y=this.ecModel.getSeriesByIndex(K.seriesIndex),Z=this.visualMapModel;if(!Z.isTargetSeries(Y))return;var q=Y.getData(K.dataType),X=q.getStore().get(Z.getDataDimensionIndex(q),K.dataIndex);if(!isNaN(X))this._showIndicator(X,X)},Q.prototype._hideIndicator=function(){var J=this._shapes;J.indicator&&J.indicator.attr("invisible",!0),J.indicatorLabel&&J.indicatorLabel.attr("invisible",!0);var K=this._shapes.handleLabels;if(K)for(var Y=0;Y<K.length;Y++)this.api.leaveBlur(K[Y])},Q.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var J=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",pA(J,this.visualMapModel)),J.length=0},Q.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var J=this.api.getZr();J.off("mouseover",this._hoverLinkFromSeriesMouseOver),J.off("mouseout",this._hideIndicator)},Q.prototype._applyTransform=function(J,K,Y,Z){var q=QJ(K,Z?null:this.group);return Z0(J)?e8(J,q,Y):BU(J,q,Y)},Q.prototype._dispatchHighDown=function(J,K){K&&K.length&&this.api.dispatchAction({type:J,batch:K})},Q.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},Q.type="visualMap.continuous",Q}(yM);wi0=Bf1});var Di0,Ci0=function($,Q){Q.eachComponent({mainType:"visualMap",query:$},function(J){J.setSelected($.selected)})};var Pi0=h(()=>{Di0={type:"selectDataRange",event:"dataRangeSelected",update:"update"}});function Af1($,Q,J,K){var Y=Q.targetVisuals[K],Z=B7.prepareVisualTypes(Y),q={color:dK($.getData(),"color")};for(var X=0,W=Z.length;X<W;X++){var F=Z[X],H=Y[F==="opacity"?"__alphaForOpacity":F];H&&H.applyVisual(J,B,z)}return q.color;function B(A){return q[A]}function z(A,R){q[A]=R}}var ki0;var ji0=h(()=>{l();TD();O2();ki0=[{createOnAllSeries:!0,reset:function($,Q){var J=[];return Q.eachComponent("visualMap",function(K){var Y=$.pipelineContext;if(!K.isTargetSeries($)||Y&&Y.large)return;J.push(vl0(K.stateList,K.targetVisuals,P0(K.getValueState,K),K.getDataDimensionIndex($.getData())))}),J}},{createOnAllSeries:!0,reset:function($,Q){var J=$.getData(),K=[];Q.eachComponent("visualMap",function(Y){if(Y.isTargetSeries($)){var Z=Y.getVisualMeta(P0(Af1,null,$,Y))||{stops:[],outerColors:[]},q=Y.getDataDimensionIndex(J);if(q>=0)Z.dimension=q,K.push(Z)}}),$.getData().setVisual("visualMeta",K)}}]});function X80($){var Q=$&&$.visualMap;if(!Z0(Q))Q=Q?[Q]:[];Ei0(Q,function(J){if(!J)return;if(dA(J,"splitList")&&!dA(J,"pieces"))J.pieces=J.splitList,delete J.splitList;var K=J.pieces;if(K&&Z0(K))Ei0(K,function(Y){if(y0(Y)){if(dA(Y,"start")&&!dA(Y,"min"))Y.min=Y.start;if(dA(Y,"end")&&!dA(Y,"max"))Y.max=Y.end}})})}function dA($,Q){return $&&$.hasOwnProperty&&$.hasOwnProperty(Q)}var Ei0;var Li0=h(()=>{l();Ei0=S});function vD($){if(hi0)return;hi0=!0,$.registerSubTypeDefaulter("visualMap",function(Q){return!Q.categories&&(!(Q.pieces?Q.pieces.length>0:Q.splitNumber>0)||Q.calculable)?"continuous":"piecewise"}),$.registerAction(Di0,Ci0),S(ki0,function(Q){$.registerVisual($.PRIORITY.VISUAL.COMPONENT,Q)}),$.registerPreprocessor(X80)}var hi0=!1;var W80=h(()=>{Pi0();ji0();l();Li0()});function SD($){$.registerComponentModel(Ni0),$.registerComponentView(wi0),vD($)}var F80=h(()=>{Bi0();Ti0();W80()});function vi0($,Q){var J=$.inverse;if($.orient==="vertical"?!J:J)Q.reverse()}var Vf1,Rf1,Si0;var _i0=h(()=>{H0();l();K80();O2();J80();k1();e4();Vf1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J._pieceList=[],J}return Q.prototype.optionUpdated=function(J,K){$.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var Y=this._mode=this._determineMode();this._pieceList=[],Rf1[this._mode].call(this,this._pieceList),this._resetSelected(J,K);var Z=this.option.categories;this.resetVisual(function(q,X){if(Y==="categories")q.mappingMethod="category",q.categories=m0(Z);else q.dataExtent=this.getExtent(),q.mappingMethod="piecewise",q.pieceList=q0(this._pieceList,function(W){if(W=m0(W),X!=="inRange")W.visual=null;return W})})},Q.prototype.completeVisualOption=function(){var J=this.option,K={},Y=B7.listVisualTypes(),Z=this.isCategory();S(J.pieces,function(X){S(Y,function(W){if(X.hasOwnProperty(W))K[W]=1})}),S(K,function(X,W){var F=!1;S(this.stateList,function(H){F=F||q(J,H,W)||q(J.target,H,W)},this),!F&&S(this.stateList,function(H){(J[H]||(J[H]={}))[W]=gM.get(W,H==="inRange"?"active":"inactive",Z)})},this);function q(X,W,F){return X&&X[W]&&X[W].hasOwnProperty(F)}$.prototype.completeVisualOption.apply(this,arguments)},Q.prototype._resetSelected=function(J,K){var Y=this.option,Z=this._pieceList,q=(K?Y:J).selected||{};if(Y.selected=q,S(Z,function(W,F){var H=this.getSelectedMapKey(W);if(!q.hasOwnProperty(H))q[H]=!0},this),Y.selectedMode==="single"){var X=!1;S(Z,function(W,F){var H=this.getSelectedMapKey(W);if(q[H])X?q[H]=!1:X=!0},this)}},Q.prototype.getItemSymbol=function(){return this.get("itemSymbol")},Q.prototype.getSelectedMapKey=function(J){return this._mode==="categories"?J.value+"":J.index+""},Q.prototype.getPieceList=function(){return this._pieceList},Q.prototype._determineMode=function(){var J=this.option;return J.pieces&&J.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},Q.prototype.setSelected=function(J){this.option.selected=m0(J)},Q.prototype.getValueState=function(J){var K=B7.findPieceIndex(J,this._pieceList);return K!=null?this.option.selected[this.getSelectedMapKey(this._pieceList[K])]?"inRange":"outOfRange":"outOfRange"},Q.prototype.findTargetDataIndices=function(J){var K=[],Y=this._pieceList;return this.eachTargetSeries(function(Z){var q=[],X=Z.getData();X.each(this.getDataDimensionIndex(X),function(W,F){var H=B7.findPieceIndex(W,Y);H===J&&q.push(F)},this),K.push({seriesId:Z.id,dataIndex:q})},this),K},Q.prototype.getRepresentValue=function(J){var K;if(this.isCategory())K=J.value;else if(J.value!=null)K=J.value;else{var Y=J.interval||[];K=Y[0]===-1/0&&Y[1]===1/0?0:(Y[0]+Y[1])/2}return K},Q.prototype.getVisualMeta=function(J){if(this.isCategory())return;var K=[],Y=["",""],Z=this;function q(H,B){var z=Z.getRepresentValue({interval:H});if(!B)B=Z.getValueState(z);var A=J(z,B);if(H[0]===-1/0)Y[0]=A;else if(H[1]===1/0)Y[1]=A;else K.push({value:H[0],color:A},{value:H[1],color:A})}var X=this._pieceList.slice();if(!X.length)X.push({interval:[-1/0,1/0]});else{var W=X[0].interval[0];W!==-1/0&&X.unshift({interval:[-1/0,W]}),W=X[X.length-1].interval[1],W!==1/0&&X.push({interval:[W,1/0]})}var F=-1/0;return S(X,function(H){var B=H.interval;if(B)B[0]>F&&q([F,B[0]],"outOfRange"),q(B.slice()),F=B[1]},this),{stops:K,outerColors:Y}},Q.type="visualMap.piecewise",Q.defaultOption=C4(mA.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),Q}(mA),Rf1={splitNumber:function($){var Q=this.option,J=Math.min(Q.precision,20),K=this.getExtent(),Y=Q.splitNumber;Y=Math.max(parseInt(Y,10),1),Q.splitNumber=Y;var Z=(K[1]-K[0])/Y;while(+Z.toFixed(J)!==Z&&J<5)J++;if(Q.precision=J,Z=+Z.toFixed(J),Q.minOpen)$.push({interval:[-1/0,K[0]],close:[0,0]});for(var q=0,X=K[0];q<Y;X+=Z,q++){var W=q===Y-1?K[1]:X+Z;$.push({interval:[X,W],close:[1,1]})}if(Q.maxOpen)$.push({interval:[K[1],1/0],close:[0,0]});fs($),S($,function(F,H){F.index=H,F.text=this.formatValueText(F.interval)},this)},categories:function($){var Q=this.option;S(Q.categories,function(J){$.push({text:this.formatValueText(J,!0),value:J})},this),vi0(Q,$)},pieces:function($){var Q=this.option;S(Q.pieces,function(J,K){if(!y0(J))J={value:J};var Y={text:"",index:K};if(J.label!=null)Y.text=J.label;if(J.hasOwnProperty("value")){var Z=Y.value=J.value;Y.interval=[Z,Z],Y.close=[1,1]}else{var q=Y.interval=[],X=Y.close=[0,0],W=[1,0,1],F=[-1/0,1/0],H=[];for(var B=0;B<2;B++){var z=[["gte","gt","min"],["lte","lt","max"]][B];for(var A=0;A<3&&q[B]==null;A++)q[B]=J[z[A]],X[B]=W[A],H[B]=A===2;q[B]==null&&(q[B]=F[B])}if(H[0]&&q[1]===1/0&&(X[0]=0),H[1]&&q[0]===-1/0&&(X[1]=0),q[0]>q[1])console.warn("Piece "+K+"is illegal: "+q+" lower bound should not greater then uppper bound.");if(q[0]===q[1]&&X[0]&&X[1])Y.value=q[0]}Y.visual=B7.retrieveVisuals(J),$.push(Y)},this),vi0(Q,$),fs($),S($,function(J){var K=J.close,Y=[["<","≤"][K[1]],[">","≥"][K[0]]];J.text=J.text||this.formatValueText(J.value!=null?J.value:J.interval,!1,Y)},this)}};Si0=Vf1});var Gf1,fi0;var Ii0=h(()=>{H0();l();Y80();a0();S8();l5();Z80();g5();Gf1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.doRender=function(){var J=this.group;J.removeAll();var K=this.visualMapModel,Y=K.get("textGap"),Z=K.textStyleModel,q=this._getItemAlign(),X=K.itemSize,W=this._getViewData(),F=W.endsText,H=J6(K.get("showLabel",!0),!F),B=!K.get("selectedMode");F&&this._renderEndsText(J,F[0],X,H,q),S(W.viewPieceList,function(z){var A=z.piece,R=new b0;R.onclick=P0(this._onItemClick,this,A),this._enableHoverLink(R,z.indexInModelPieceList);var G=K.getRepresentValue(A);if(this._createItemSymbol(R,G,[0,0,X[0],X[1]],B),H){var O=this.visualMapModel.getValueState(G),T=Z.get("align")||q;R.add(new j1({style:A5(Z,{x:T==="right"?-Y:X[0]+Y,y:X[1]/2,text:A.text,verticalAlign:Z.get("verticalAlign")||"middle",align:T,opacity:g0(Z.get("opacity"),O==="outOfRange"?0.5:1)}),silent:B}))}J.add(R)},this),F&&this._renderEndsText(J,F[1],X,H,q),ZJ(K.get("orient"),J,K.get("itemGap")),this.renderBackground(J),this.positionGroup(J)},Q.prototype._enableHoverLink=function(J,K){var Y=this;J.on("mouseover",function(){return Z("highlight")}).on("mouseout",function(){return Z("downplay")});var Z=function(q){var X=Y.visualMapModel;X.option.hoverLink&&Y.api.dispatchAction({type:q,batch:pA(X.findTargetDataIndices(K),X)})}},Q.prototype._getItemAlign=function(){var J=this.visualMapModel,K=J.option;if(K.orient==="vertical")return xM(J,this.api,J.itemSize);else{var Y=K.align;if(!Y||Y==="auto")Y="left";return Y}},Q.prototype._renderEndsText=function(J,K,Y,Z,q){if(!K)return;var X=new b0,W=this.visualMapModel.textStyleModel;X.add(new j1({style:A5(W,{x:Z?q==="right"?Y[0]:0:Y[0]/2,y:Y[1]/2,verticalAlign:"middle",align:Z?q:"center",text:K})})),J.add(X)},Q.prototype._getViewData=function(){var J=this.visualMapModel,K=q0(J.getPieceList(),function(X,W){return{piece:X,indexInModelPieceList:W}}),Y=J.get("text"),Z=J.get("orient"),q=J.get("inverse");if(Z==="horizontal"?q:!q)K.reverse();else if(Y)Y=Y.slice().reverse();return{viewPieceList:K,endsText:Y}},Q.prototype._createItemSymbol=function(J,K,Y,Z){var q=y5(this.getControllerVisual(K,"symbol"),Y[0],Y[1],Y[2],Y[3],this.getControllerVisual(K,"color"));q.silent=Z,J.add(q)},Q.prototype._onItemClick=function(J){var K=this.visualMapModel,Y=K.option,Z=Y.selectedMode;if(!Z)return;var q=m0(Y.selected),X=K.getSelectedMapKey(J);if(Z==="single"||Z===!0)q[X]=!0,S(q,function(W,F){q[F]=F===X});else q[X]=!q[X];this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:q})},Q.type="visualMap.piecewise",Q}(yM),fi0=Gf1});function _D($){$.registerComponentModel(Si0),$.registerComponentView(fi0),vD($)}var U80=h(()=>{_i0();Ii0();W80()});function H80($){T1(SD),T1(_D)}var Mi0=h(()=>{E4();F80();U80()});var bi0;var gi0=h(()=>{a0();bi0=function(){function $(Q){this._thumbnailModel=Q}return $.prototype.reset=function(Q){this._renderVersion=Q.getMainProcessVersion()},$.prototype.renderContent=function(Q){var J=Q.api.getViewOfComponentModel(this._thumbnailModel);if(!J)return;Q.group.silent=!0,J.renderContent({group:Q.group,targetTrans:Q.targetTrans,z2Range:go(Q.group),roamType:Q.roamType,viewportRect:Q.viewportRect,renderVersion:this._renderVersion})},$.prototype.updateWindow=function(Q,J){var K=J.getViewOfComponentModel(this._thumbnailModel);if(!K)return;K.updateWindow({targetTrans:Q,renderVersion:this._renderVersion})},$}()});var yi0;var xi0=h(()=>{H0();_6();N5();y1();b10();gi0();yi0=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.preventAutoZ=!0,J}return Q.prototype.optionUpdated=function(J,K){this._updateBridge()},Q.prototype._updateBridge=function(){var J=this._birdge=this._birdge||new bi0(this);if(this._target=null,this.ecModel.eachSeries(function(Y){M10(Y,null)}),this.shouldShow()){var K=this.getTarget();M10(K.baseMapProvider,J)}},Q.prototype.shouldShow=function(){return this.getShallow("show",!0)},Q.prototype.getBridge=function(){return this._birdge},Q.prototype.getTarget=function(){if(this._target)return this._target;var J=this.getReferringComponents("series",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(J){if(J.subType!=="graph")J=null,S1("series."+J.subType+" is not supported in thumbnail.",!0)}else J=this.ecModel.queryComponents({mainType:"series",subType:"graph"})[0];return this._target={baseMapProvider:J},this._target},Q.type="thumbnail",Q.layoutMode="box",Q.dependencies=["series","geo"],Q.defaultOption={show:!0,right:1,bottom:1,height:"25%",width:"25%",itemStyle:{borderColor:e.color.border,borderWidth:2},windowStyle:{borderWidth:1,color:e.color.neutral30,borderColor:e.color.neutral40,opacity:0.3},z:10},Q}(O1)});function ci0($,Q){var J=$.mainType==="series"?$.subType+"Roam":$.mainType+"Roam",K={type:J};return K[$.mainType+"Id"]=$.id,Y0(K,Q),K}function ui0($,Q){var J=n$($);zU(Q.group,J.z,J.zlevel)}var mi0;var pi0=h(()=>{H0();a6();s5();A2();y1();l5();a0();w6();rU();l();mi0=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){if(this._api=Y,this._model=J,!this._coordSys)this._coordSys=new c3;if(!this._isEnabled()){this._clear();return}this._renderVersion=Y.getMainProcessVersion();var Z=this.group;Z.removeAll();var q=J.getModel("itemStyle"),X=q.getItemStyle();if(X.fill==null)X.fill=K.get("backgroundColor")||e.color.neutral00;var W=_5(J,Y).refContainer,F=X5(iS(J,!0),W),H=X.lineWidth||0,B=this._contentRect=d$(F.clone(),H/2,!0,!0),z=new b0;Z.add(z),z.setClipPath(new X1({shape:B.plain()}));var A=this._targetGroup=new b0;z.add(A);var R=F.plain();R.r=q.getShallow("borderRadius",!0),Z.add(this._bgRect=new X1({style:X,shape:R,silent:!1,cursor:"grab"}));var G=J.getModel("windowStyle"),O=G.getShallow("borderRadius",!0);z.add(this._windowRect=new X1({shape:{x:0,y:0,width:0,height:0,r:O},style:G.getItemStyle(),silent:!1,cursor:"grab"})),this._dealRenderContent(),this._dealUpdateWindow(),ui0(J,this)},Q.prototype.renderContent=function(J){if(this._bridgeRendered=J,this._isEnabled())this._dealRenderContent(),this._dealUpdateWindow(),ui0(this._model,this)},Q.prototype._dealRenderContent=function(){var J=this._bridgeRendered;if(!J||J.renderVersion!==this._renderVersion)return;var K=this._targetGroup,Y=this._coordSys,Z=this._contentRect;if(K.removeAll(),!J)return;var q=J.group,X=q.getBoundingRect();K.add(q),this._bgRect.z2=J.z2Range.min-10,Y.setBoundingRect(X.x,X.y,X.width,X.height);var W=X5({left:"center",top:"center",aspect:X.width/X.height},Z);Y.setViewRect(W.x,W.y,W.width,W.height),q.attr(Y.getTransformInfo().raw),this._windowRect.z2=J.z2Range.max+10,this._resetRoamController(J.roamType)},Q.prototype.updateWindow=function(J){var K=this._bridgeRendered;if(K&&K.renderVersion===J.renderVersion)K.targetTrans=J.targetTrans;if(this._isEnabled())this._dealUpdateWindow()},Q.prototype._dealUpdateWindow=function(){var J=this._bridgeRendered;if(!J||J.renderVersion!==this._renderVersion)return;var K=d7([],J.targetTrans),Y=i8([],this._coordSys.transform,K);this._transThisToTarget=d7([],Y);var Z=J.viewportRect;if(!Z)Z=new n0(0,0,this._api.getWidth(),this._api.getHeight());else Z=Z.clone();Z.applyTransform(Y);var q=this._windowRect,X=q.shape.r;q.setShape(c0({r:X},Z))},Q.prototype._resetRoamController=function(J){var K=this,Y=this._api,Z=this._roamController;if(!Z)Z=this._roamController=new s9(Y.getZr());if(!J||!this._isEnabled()){Z.disable();return}Z.enable(J,{api:Y,zInfo:{component:this._model},triggerInfo:{roamTrigger:null,isInSelf:function(q,X,W){return K._contentRect.contain(X,W)}}}),Z.off("pan").off("zoom").on("pan",P0(this._onPan,this)).on("zoom",P0(this._onZoom,this))},Q.prototype._onPan=function(J){var K=this._transThisToTarget;if(!this._isEnabled()||!K)return;var Y=H6([],[J.oldX,J.oldY],K),Z=H6([],[J.oldX-J.dx,J.oldY-J.dy],K);this._api.dispatchAction(ci0(this._model.getTarget().baseMapProvider,{dx:Z[0]-Y[0],dy:Z[1]-Y[1]}))},Q.prototype._onZoom=function(J){var K=this._transThisToTarget;if(!this._isEnabled()||!K)return;var Y=H6([],[J.originX,J.originY],K);this._api.dispatchAction(ci0(this._model.getTarget().baseMapProvider,{zoom:1/J.scale,originX:Y[0],originY:Y[1]}))},Q.prototype._isEnabled=function(){var J=this._model;if(!J||!J.shouldShow())return!1;var K=J.getTarget().baseMapProvider;if(!K)return!1;return!0},Q.prototype._clear=function(){if(this.group.removeAll(),this._bridgeRendered=null,this._roamController)this._roamController.disable()},Q.prototype.remove=function(){this._clear()},Q.prototype.dispose=function(){this._clear()},Q.type="thumbnail",Q}(a1)});function N80($){$.registerComponentModel(yi0),$.registerComponentView(mi0)}var di0=h(()=>{xi0();pi0()});function B80($,Q){var J=$.getModel("aria");if(!J.get("enabled"))return;var K=m0(Of1);F1(K.label,$.getLocaleModel().get("aria"),!1),F1(J.option,K,!1),Y(),Z();function Y(){var F=J.getModel("decal"),H=F.get("show");if(H){var B=_0();$.eachSeries(function(z){if(z.isColorBySeries())return;var A=B.get(z.type);if(!A)A={},B.set(z.type,A);ni0(z).scope=A}),$.eachRawSeries(function(z){if($.isSeriesFiltered(z))return;if(I0(z.enableAriaDecal)){z.enableAriaDecal();return}var A=z.getData();if(!z.isColorBySeries()){var R=z.getRawData(),G={},O=ni0(z).scope;A.each(function(E){var L=A.getRawIndex(E);G[L]=E});var T=R.count();R.each(function(E){var L=G[E],v=R.getName(E)||E+"",f=mw(z.ecModel,v,O,T),_=A.getItemVisual(L,"decal");A.setItemVisual(L,"decal",j(_,f))})}else{var D=mw(z.ecModel,z.name,wf1,$.getSeriesCount()),P=A.getVisual("decal");A.setVisual("decal",j(P,D))}function j(E,L){var v=E?Y0(Y0({},L),E):L;return v.dirty=!0,v}})}}function Z(){var F=Q.getZr().dom;if(!F)return;var H=$.getLocaleModel().get("aria"),B=J.getModel("label");if(B.option=c0(B.option,H),!B.get("enabled"))return;if(F.setAttribute("role","img"),B.get("description")){F.setAttribute("aria-label",B.get("description"));return}var z=$.getSeriesCount(),A=B.get(["data","maxCount"])||10,R=B.get(["series","maxCount"])||10,G=Math.min(z,R),O;if(z<1)return;else{var T=X();if(T){var D=B.get(["general","withTitle"]);O=q(D,{title:T})}else O=B.get(["general","withoutTitle"]);var P=[],j=z>1?B.get(["series","multiple","prefix"]):B.get(["series","single","prefix"]);O+=q(j,{seriesCount:z}),$.eachSeries(function(f,_){if(_<G){var M=void 0,b=f.get("name"),x=b?"withName":"withoutName";M=z>1?B.get(["series","multiple",x]):B.get(["series","single",x]),M=q(M,{seriesId:f.seriesIndex,seriesName:f.get("name"),seriesType:W(f.subType)});var g=f.getData();if(g.count()>A){var m=B.get(["data","partialData"]);M+=q(m,{displayCnt:A})}else M+=B.get(["data","allData"]);var u=B.get(["data","separator","middle"]),p=B.get(["data","separator","end"]),o=B.get(["data","excludeDimensionId"]),t=[];for(var r=0;r<g.count();r++)if(r<A){var Q0=g.getName(r),F0=!o?g.getValues(r):f1(g.getValues(r),function(h0,d0){return J1(o,d0)===-1}),W0=B.get(["data",Q0?"withName":"withoutName"]);t.push(q(W0,{name:Q0,value:F0.join(u)}))}M+=t.join(u)+p,P.push(M)}});var E=B.getModel(["series","multiple","separator"]),L=E.get("middle"),v=E.get("end");O+=P.join(L)+v,F.setAttribute("aria-label",O)}}function q(F,H){if(!R0(F))return F;var B=F;return S(H,function(z,A){B=B.replace(new RegExp("\\{\\s*"+A+"\\s*\\}","g"),z)}),B}function X(){var F=$.get("title");if(F&&F.length)F=F[0];return F&&F.text}function W(F){var H=$.getLocaleModel().get(["series","typeNames"]);return H[F]||H.chart}}var Of1,ni0,wf1;var li0=h(()=>{l();l0();pw();Of1={label:{enabled:!0},decal:{show:!1}},ni0=o0(),wf1={}});function z80($){if(!$||!$.aria)return;var Q=$.aria;if(Q.show!=null)Q.enabled=Q.show;Q.label=Q.label||{},S(["description","general","series","data"],function(J){if(Q[J]!=null)Q.label[J]=Q[J]})}var ri0=h(()=>{l()});function A80($){$.registerPreprocessor(z80),$.registerVisual($.PRIORITY.VISUAL.ARIA,B80)}var ii0=h(()=>{li0();ri0()});function V80($,Q){if($===!0||$===!1){var J=new Df1;return J.value=$,J}var K="";if(!ai0($))K=_7("Illegal config. Expect a plain object but actually",$),U5(K);if($.and)return oi0("and",$,Q);else if($.or)return oi0("or",$,Q);else if($.not)return Ef1($,Q);return Lf1($,Q)}function oi0($,Q,J){var K=Q[$],Y="";if(Y=_7('"and"/"or" condition should only be `'+$+": [...]` and must not be empty array.","Illegal condition:",Q),!Z0(K))U5(Y);if(!K.length)U5(Y);var Z=$==="and"?new Cf1:new Pf1;if(Z.children=q0(K,function(q){return V80(q,J)}),!Z.children.length)U5(Y);return Z}function Ef1($,Q){var J=$.not,K="";if(K=_7('"not" condition should only be `not: {}`.',"Illegal condition:",$),!ai0(J))U5(K);var Y=new kf1;if(Y.child=V80(J,Q),!Y.child)U5(K);return Y}function Lf1($,Q){var J="",K=Q.prepareGetValue($),Y=[],Z=N1($),q=$.parser,X=q?N_(q):null;for(var W=0;W<Z.length;W++){var F=Z[W];if(F==="parser"||Q.valueGetterAttrMap.get(F))continue;var H=p0(si0,F)?si0[F]:F,B=$[F],z=X?X(B):B,A=FS0(H,z)||H==="reg"&&new Tf1(z);if(!A)J=_7('Illegal relational operation: "'+F+'" in condition:',$),U5(J);Y.push(A)}if(!Y.length)J=_7("Relational condition must have at least one operator.","Illegal condition:",$),U5(J);var R=new jf1;return R.valueGetterParam=K,R.valueParser=X,R.getValue=Q.getValue,R.subCondList=Y,R}function ai0($){return y0($)&&!F7($)}function ti0($,Q){return new hf1($,Q)}var si0,Tf1,Df1,Cf1,Pf1,kf1,jf1,hf1;var ei0=h(()=>{l();N5();oX();si0={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},Tf1=function(){function $(Q){var J=this._condVal=R0(Q)?new RegExp(Q):nh(Q)?Q:null;if(J==null){var K="";K=_7("Illegal regexp",Q,"in"),U5(K)}}return $.prototype.evaluate=function(Q){var J=typeof Q;return R0(J)?this._condVal.test(Q):V1(J)?this._condVal.test(Q+""):!1},$}(),Df1=function(){function $(){}return $.prototype.evaluate=function(){return this.value},$}(),Cf1=function(){function $(){}return $.prototype.evaluate=function(){var Q=this.children;for(var J=0;J<Q.length;J++)if(!Q[J].evaluate())return!1;return!0},$}(),Pf1=function(){function $(){}return $.prototype.evaluate=function(){var Q=this.children;for(var J=0;J<Q.length;J++)if(Q[J].evaluate())return!0;return!1},$}(),kf1=function(){function $(){}return $.prototype.evaluate=function(){return!this.child.evaluate()},$}(),jf1=function(){function $(){}return $.prototype.evaluate=function(){var Q=!!this.valueParser,J=this.getValue,K=J(this.valueGetterParam),Y=Q?this.valueParser(K):null;for(var Z=0;Z<this.subCondList.length;Z++)if(!this.subCondList[Z].evaluate(Q?Y:K))return!1;return!0},$}();hf1=function(){function $(Q,J){this._cond=V80(Q,J)}return $.prototype.evaluate=function(){return this._cond.evaluate()},$}()});var $s0;var Qs0=h(()=>{ei0();l();N5();$s0={type:"echarts:filter",transform:function($){var Q=$.upstream,J,K=ti0($.config,{valueGetterAttrMap:_0({dimension:!0}),prepareGetValue:function(X){var W="",F=X.dimension;if(!p0(X,"dimension"))W=_7('Relation condition must has prop "dimension" specified.',"Illegal condition:",X),U5(W);var H=Q.getDimensionInfo(F);if(!H)W=_7("Can not find dimension info via: "+F+`.
`,"Existing dimensions: ",Q.cloneAllDimensionInfo(),`.
`,"Illegal condition:",X,`.
`),U5(W);return{dimIdx:H.index}},getValue:function(X){return Q.retrieveValueFromItem(J,X.dimIdx)}}),Y=[];for(var Z=0,q=Q.count();Z<q;Z++)if(J=Q.getRawDataItem(Z),K.evaluate())Y.push(J);return{data:Y}}}});var R80="",Js0;var Ks0=h(()=>{S3();N5();l();l0();oX();R80=["Valid config is like:",'{ dimension: "age", order: "asc" }','or [{ dimension: "age", order: "asc"], { dimension: "date", order: "desc" }]'].join(" ");Js0={type:"echarts:sort",transform:function($){var{upstream:Q,config:J}=$,K="",Y=H5(J);if(!Y.length)K="Empty `config` in sort transform.",U5(K);var Z=[];S(Y,function(H){var{dimension:B,order:z,parser:A,incomparable:R}=H;if(B==null)K='Sort transform config must has "dimension" specified.'+R80,U5(K);if(z!=="asc"&&z!=="desc")K='Sort transform config must has "order" specified.'+R80,U5(K);if(R&&R!=="min"&&R!=="max"){var G="";G='incomparable must be "min" or "max" rather than "'+R+'".',U5(G)}if(z!=="asc"&&z!=="desc"){var O="";O='order must be "asc" or "desc" rather than "'+z+'".',U5(O)}var T=Q.getDimensionInfo(B);if(!T)K=_7("Can not find dimension info via: "+B+`.
`,"Existing dimensions: ",Q.cloneAllDimensionInfo(),`.
`,"Illegal config:",H,`.
`),U5(K);var D=A?N_(A):null;if(A&&!D)K=_7("Invalid parser name "+A+`.
`,"Illegal config:",H,`.
`),U5(K);Z.push({dimIdx:T.index,parser:D,comparator:new B_(z,R)})});var q=Q.sourceFormat;if(q!==N7&&q!==v8)K='sourceFormat "'+q+'" is not supported yet',U5(K);var X=[];for(var W=0,F=Q.count();W<F;W++)X.push(Q.getRawDataItem(W));return X.sort(function(H,B){for(var z=0;z<Z.length;z++){var A=Z[z],R=Q.retrieveValueFromItem(H,A.dimIdx),G=Q.retrieveValueFromItem(B,A.dimIdx);if(A.parser)R=A.parser(R),G=A.parser(G);var O=A.comparator.evaluate(R,G);if(O!==0)return O}return 0}),{data:X}}}});function G80($){$.registerTransform($s0),$.registerTransform(Js0)}var Ys0=h(()=>{Qs0();Ks0()});function O80($){$.registerComponentModel(vf1),$.registerComponentView(Sf1)}var vf1,Sf1;var Zs0=h(()=>{H0();_6();a6();S3();Ia();vf1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type="dataset",J}return Q.prototype.init=function(J,K,Y){$.prototype.init.call(this,J,K,Y),this._sourceManager=new V_(this),fa(this)},Q.prototype.mergeOption=function(J,K){$.prototype.mergeOption.call(this,J,K),fa(this)},Q.prototype.optionUpdated=function(){this._sourceManager.dirty()},Q.prototype.getSourceManager=function(){return this._sourceManager},Q.type="dataset",Q.defaultOption={seriesLayoutBy:$9},Q}(O1),Sf1=function($){c(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type="dataset",J}return Q.type="dataset",Q}(a1)});var qs0=h(()=>{Mp0();Wd0();d00();Pd0();F50();_d0();Kn0();Bn0();Xl0();kl0();fA();nl0();ll0();Ur0();Gr0();Pr0();_r0();lr0();Xi0();t70();$80();Mi0();F80();U80();di0();ii0();Ys0();Zs0()});function nA($,Q){return Math.abs($-Q)<0.00001}function cM($){var Q=$.data,J=$.len(),K=[],Y,Z=0,q=0,X=0,W=0;function F(g,m){if(Y&&Y.length>2)K.push(Y);Y=[g,m]}function H(g,m,u,p){if(!(nA(g,u)&&nA(m,p)))Y.push(g,m,u,p,u,p)}function B(g,m,u,p,o,t){var r=Math.abs(m-g),Q0=Math.tan(r/4)*4/3,F0=m<g?-1:1,W0=Math.cos(g),h0=Math.sin(g),d0=Math.cos(m),W1=Math.sin(m),z1=W0*o+u,b1=h0*t+p,B1=d0*o+u,e0=W1*t+p,P1=o*Q0*F0,t0=t*Q0*F0;Y.push(z1-P1*h0,b1+t0*W0,B1+P1*W1,e0-t0*d0,B1,e0)}var z,A,R,G;for(var O=0;O<J;){var T=Q[O++],D=O===1;if(D){if(Z=Q[O],q=Q[O+1],X=Z,W=q,T===ZY.L||T===ZY.C||T===ZY.Q)Y=[X,W]}switch(T){case ZY.M:Z=X=Q[O++],q=W=Q[O++],F(X,W);break;case ZY.L:z=Q[O++],A=Q[O++],H(Z,q,z,A),Z=z,q=A;break;case ZY.C:Y.push(Q[O++],Q[O++],Q[O++],Q[O++],Z=Q[O++],q=Q[O++]);break;case ZY.Q:z=Q[O++],A=Q[O++],R=Q[O++],G=Q[O++],Y.push(Z+0.6666666666666666*(z-Z),q+0.6666666666666666*(A-q),R+0.6666666666666666*(z-R),G+0.6666666666666666*(A-G),R,G),Z=R,q=G;break;case ZY.A:var P=Q[O++],j=Q[O++],E=Q[O++],L=Q[O++],v=Q[O++],f=Q[O++]+v;O+=1;var _=!Q[O++];if(z=Math.cos(v)*E+P,A=Math.sin(v)*L+j,D)X=z,W=A,F(X,W);else H(Z,q,z,A);Z=Math.cos(f)*E+P,q=Math.sin(f)*L+j;var M=(_?-1:1)*Math.PI/2;for(var b=v;_?b>f:b<f;b+=M){var x=_?Math.max(b+M,f):Math.min(b+M,f);B(b,x,P,j,E,L)}break;case ZY.R:X=Z=Q[O++],W=q=Q[O++],z=X+Q[O++],A=W+Q[O++],F(z,W),H(z,W,z,A),H(z,A,X,A),H(X,A,X,W),H(X,W,z,W);break;case ZY.Z:Y&&H(Z,q,X,W),Z=X,q=W;break}}if(Y&&Y.length>2)K.push(Y);return K}function w80($,Q,J,K,Y,Z,q,X,W,F){if(nA($,J)&&nA(Q,K)&&nA(Y,q)&&nA(Z,X)){W.push(q,X);return}var H=2/F,B=H*H,z=q-$,A=X-Q,R=Math.sqrt(z*z+A*A);z/=R,A/=R;var G=J-$,O=K-Q,T=Y-q,D=Z-X,P=G*G+O*O,j=T*T+D*D;if(P<B&&j<B){W.push(q,X);return}var E=z*G+A*O,L=-z*T-A*D,v=P-E*E,f=j-L*L;if(v<B&&E>=0&&f<B&&L>=0){W.push(q,X);return}var _=[],M=[];f$($,J,Y,q,0.5,_),f$(Q,K,Z,X,0.5,M),w80(_[0],M[0],_[1],M[1],_[2],M[2],_[3],M[3],W,F),w80(_[4],M[4],_[5],M[5],_[6],M[6],_[7],M[7],W,F)}function Xs0($,Q){var J=cM($),K=[];Q=Q||1;for(var Y=0;Y<J.length;Y++){var Z=J[Y],q=[],X=Z[0],W=Z[1];q.push(X,W);for(var F=2;F<Z.length;){var H=Z[F++],B=Z[F++],z=Z[F++],A=Z[F++],R=Z[F++],G=Z[F++];w80(X,W,H,B,z,A,R,G,q,Q),X=R,W=G}K.push(q)}return K}var ZY;var T80=h(()=>{h9();L3();ZY=z8.CMD});function Hs0($,Q,J){var K=$[Q],Y=$[1-Q],Z=Math.abs(K/Y),q=Math.ceil(Math.sqrt(Z*J)),X=Math.floor(J/q);if(X===0)X=1,q=J;var W=[];for(var F=0;F<q;F++)W.push(X);var H=q*X,B=J-H;if(B>0)for(var F=0;F<B;F++)W[F%q]+=1;return W}function Ws0($,Q,J){var{r0:K,r:Y,startAngle:Z,endAngle:q}=$,X=Math.abs(q-Z),W=X*Y,F=Y-K,H=W>Math.abs(F),B=Hs0([W,F],H?0:1,Q),z=(H?X:F)/B.length;for(var A=0;A<B.length;A++){var R=(H?F:X)/B[A];for(var G=0;G<B[A];G++){var O={};if(H)O.startAngle=Z+z*A,O.endAngle=Z+z*(A+1),O.r0=K+R*G,O.r=K+R*(G+1);else O.startAngle=Z+R*G,O.endAngle=Z+R*(G+1),O.r0=K+z*A,O.r=K+z*(A+1);O.clockwise=$.clockwise,O.cx=$.cx,O.cy=$.cy,J.push(O)}}}function _f1($,Q,J){var{width:K,height:Y}=$,Z=K>Y,q=Hs0([K,Y],Z?0:1,Q),X=Z?"width":"height",W=Z?"height":"width",F=Z?"x":"y",H=Z?"y":"x",B=$[X]/q.length;for(var z=0;z<q.length;z++){var A=$[W]/q[z];for(var R=0;R<q[z];R++){var G={};G[F]=z*B,G[H]=R*A,G[X]=B,G[W]=A,G.x+=$.x,G.y+=$.y,J.push(G)}}}function Fs0($,Q,J,K){return $*K-J*Q}function ff1($,Q,J,K,Y,Z,q,X){var W=J-$,F=K-Q,H=q-Y,B=X-Z,z=Fs0(H,B,W,F);if(Math.abs(z)<0.000001)return null;var A=$-Y,R=Q-Z,G=Fs0(A,R,H,B)/z;if(G<0||G>1)return null;return new Z1(G*W+$,G*F+Q)}function If1($,Q,J){var K=new Z1;Z1.sub(K,J,Q),K.normalize();var Y=new Z1;Z1.sub(Y,$,Q);var Z=Y.dot(K);return Z}function lA($,Q){var J=$[$.length-1];if(J&&J[0]===Q[0]&&J[1]===Q[1])return;$.push(Q)}function Mf1($,Q,J){var K=$.length,Y=[];for(var Z=0;Z<K;Z++){var q=$[Z],X=$[(Z+1)%K],W=ff1(q[0],q[1],X[0],X[1],Q.x,Q.y,J.x,J.y);if(W)Y.push({projPt:If1(W,Q,J),pt:W,idx:Z})}if(Y.length<2)return[{points:$},{points:$}];Y.sort(function(O,T){return O.projPt-T.projPt});var F=Y[0],H=Y[Y.length-1];if(H.idx<F.idx){var B=F;F=H,H=B}var z=[F.pt.x,F.pt.y],A=[H.pt.x,H.pt.y],R=[z],G=[A];for(var Z=F.idx+1;Z<=H.idx;Z++)lA(R,$[Z].slice());lA(R,A),lA(R,z);for(var Z=H.idx+1;Z<=F.idx+K;Z++)lA(G,$[Z%K].slice());return lA(G,z),lA(G,A),[{points:R},{points:G}]}function Us0($){var Q=$.points,J=[],K=[];oF(Q,J,K);var Y=new n0(J[0],J[1],K[0]-J[0],K[1]-J[1]),Z=Y.width,q=Y.height,X=Y.x,W=Y.y,F=new Z1,H=new Z1;if(Z>q)F.x=H.x=X+Z/2,F.y=W,H.y=W+q;else F.y=H.y=W+q/2,F.x=X,H.x=X+Z;return Mf1(Q,F,H)}function uM($,Q,J,K){if(J===1)K.push(Q);else{var Y=Math.floor(J/2),Z=$(Q);uM($,Z[0],Y,K),uM($,Z[1],J-Y,K)}return K}function bf1($,Q){var J=[];for(var K=0;K<Q;K++)J.push(wz($));return J}function gf1($,Q){Q.setStyle($.style),Q.z=$.z,Q.z2=$.z2,Q.zlevel=$.zlevel}function yf1($){var Q=[];for(var J=0;J<$.length;)Q.push([$[J++],$[J++]]);return Q}function Ns0($,Q){var J=[],K=$.shape,Y;switch($.type){case"rect":_f1(K,Q,J),Y=X1;break;case"sector":Ws0(K,Q,J),Y=J7;break;case"circle":Ws0({r0:0,r:K.r,startAngle:0,endAngle:Math.PI*2,cx:K.cx,cy:K.cy},Q,J),Y=J7;break;default:var Z=$.getComputedTransform(),q=Z?Math.sqrt(Math.max(Z[0]*Z[0]+Z[1]*Z[1],Z[2]*Z[2]+Z[3]*Z[3])):1,X=q0(Xs0($.getUpdatedPathProxy(),q),function(T){return yf1(T)}),W=X.length;if(W===0)uM(Us0,{points:X[0]},Q,J);else if(W===Q)for(var F=0;F<W;F++)J.push({points:X[F]});else{var H=0,B=q0(X,function(T){var D=[],P=[];oF(T,D,P);var j=(P[1]-D[1])*(P[0]-D[0]);return H+=j,{poly:T,area:j}});B.sort(function(T,D){return D.area-T.area});var z=Q;for(var F=0;F<W;F++){var A=B[F];if(z<=0)break;var R=F===W-1?z:Math.ceil(A.area/H*Q);if(R<0)continue;uM(Us0,{points:A.poly},R,J),z-=R}}Y=S6;break}if(!Y)return bf1($,Q);var G=[];for(var F=0;F<J.length;F++){var O=new Y;O.setShape(J[F]),gf1($,O),G.push(O)}return G}var Bs0=h(()=>{Gw();s5();hX();l();NS();Rz();Do();T80();Tz()});function xf1($,Q){var J=$.length,K=Q.length;if(J===K)return[$,Q];var Y=[],Z=[],q=J<K?$:Q,X=Math.min(J,K),W=Math.abs(K-J)/6,F=(X-2)/6,H=Math.ceil(W/F)+1,B=[q[0],q[1]],z=W;for(var A=2;A<X;){var R=q[A-2],G=q[A-1],O=q[A++],T=q[A++],D=q[A++],P=q[A++],j=q[A++],E=q[A++];if(z<=0){B.push(O,T,D,P,j,E);continue}var L=Math.min(z,H-1)+1;for(var v=1;v<=L;v++){var f=v/L;f$(R,O,D,j,f,Y),f$(G,T,P,E,f,Z),R=Y[3],G=Z[3],B.push(Y[1],Z[1],Y[2],Z[2],R,G),O=Y[5],T=Z[5],D=Y[6],P=Z[6]}z-=L-1}return q===$?[B,Q]:[$,B]}function zs0($,Q){var J=$.length,K=$[J-2],Y=$[J-1],Z=[];for(var q=0;q<Q.length;)Z[q++]=K,Z[q++]=Y;return Z}function cf1($,Q){var J,K,Y,Z=[],q=[];for(var X=0;X<Math.max($.length,Q.length);X++){var W=$[X],F=Q[X],H=void 0,B=void 0;if(!W)H=zs0(K||F,F),B=F;else if(!F)B=zs0(Y||W,W),H=W;else J=xf1(W,F),H=J[0],B=J[1],K=H,Y=B;Z.push(H),q.push(B)}return[Z,q]}function As0($){var Q=0,J=0,K=0,Y=$.length;for(var Z=0,q=Y-2;Z<Y;q=Z,Z+=2){var X=$[q],W=$[q+1],F=$[Z],H=$[Z+1],B=X*H-F*W;Q+=B,J+=(X+F)*B,K+=(W+H)*B}if(Q===0)return[$[0]||0,$[1]||0];return[J/Q/3,K/Q/3,Q]}function uf1($,Q,J,K){var Y=($.length-2)/6,Z=1/0,q=0,X=$.length,W=X-2;for(var F=0;F<Y;F++){var H=F*6,B=0;for(var z=0;z<X;z+=2){var A=z===0?H:(H+z-2)%W+2,R=$[A]-J[0],G=$[A+1]-J[1],O=Q[z]-K[0],T=Q[z+1]-K[1],D=O-R,P=T-G;B+=D*D+P*P}if(B<Z)Z=B,q=F}return q}function mf1($){var Q=[],J=$.length;for(var K=0;K<J;K+=2)Q[K]=$[J-K-2],Q[K+1]=$[J-K-1];return Q}function pf1($,Q,J,K){var Y=[],Z;for(var q=0;q<$.length;q++){var X=$[q],W=Q[q],F=As0(X),H=As0(W);if(Z==null)Z=F[2]<0!==H[2]<0;var B=[],z=[],A=0,R=1/0,G=[],O=X.length;if(Z)X=mf1(X);var T=uf1(X,W,F,H)*6,D=O-2;for(var P=0;P<D;P+=2){var j=(T+P)%D+2;B[P+2]=X[j]-F[0],B[P+3]=X[j+1]-F[1]}if(B[0]=X[T]-F[0],B[1]=X[T+1]-F[1],J>0){var E=K/J;for(var L=-K/2;L<=K/2;L+=E){var v=Math.sin(L),f=Math.cos(L),_=0;for(var P=0;P<X.length;P+=2){var M=B[P],b=B[P+1],x=W[P]-H[0],g=W[P+1]-H[1],m=x*f-g*v,u=x*v+g*f;G[P]=m,G[P+1]=u;var p=m-M,o=u-b;_+=p*p+o*o}if(_<R){R=_,A=L;for(var t=0;t<G.length;t++)z[t]=G[t]}}}else for(var r=0;r<O;r+=2)z[r]=W[r]-H[0],z[r+1]=W[r+1]-H[1];Y.push({from:B,to:z,fromCp:F,toCp:H,rotation:-A})}return Y}function ID($){return $.__isCombineMorphing}function mM($,Q,J){var K=Rs0+Q,Y=$[K]||$[Q];if(!$[K])$[K]=$[Q];var{replace:Z,after:q,before:X}=J;$[Q]=function(){var W=arguments,F;if(X&&X.apply(this,W),Z)F=Z.apply(this,W);else F=Y.apply(this,W);return q&&q.apply(this,W),F}}function fD($,Q){var J=Rs0+Q;if($[J])$[Q]=$[J],$[J]=null}function Vs0($,Q){for(var J=0;J<$.length;J++){var K=$[J];for(var Y=0;Y<K.length;){var Z=K[Y],q=K[Y+1];K[Y++]=Q[0]*Z+Q[2]*q+Q[4],K[Y++]=Q[1]*Z+Q[3]*q+Q[5]}}}function Gs0($,Q){var J=$.getUpdatedPathProxy(),K=Q.getUpdatedPathProxy(),Y=cf1(cM(J),cM(K)),Z=Y[0],q=Y[1],X=$.getComputedTransform(),W=Q.getComputedTransform();function F(){this.transform=null}X&&Vs0(Z,X),W&&Vs0(q,W),mM(Q,"updateTransform",{replace:F}),Q.transform=null;var H=pf1(Z,q,10,Math.PI),B=[];mM(Q,"buildPath",{replace:function(z){var A=Q.__morphT,R=1-A,G=[];for(var O=0;O<H.length;O++){var T=H[O],D=T.from,P=T.to,j=T.rotation*A,E=T.fromCp,L=T.toCp,v=Math.sin(j),f=Math.cos(j);aB(G,E,L,A);for(var _=0;_<D.length;_+=2){var M=D[_],b=D[_+1],x=P[_],g=P[_+1],m=M*R+x*A,u=b*R+g*A;B[_]=m*f-u*v+G[0],B[_+1]=m*v+u*f+G[1]}var p=B[0],o=B[1];z.moveTo(p,o);for(var _=2;_<D.length;){var x=B[_++],g=B[_++],t=B[_++],r=B[_++],Q0=B[_++],F0=B[_++];if(p===x&&o===g&&t===Q0&&r===F0)z.lineTo(Q0,F0);else z.bezierCurveTo(x,g,t,r,Q0,F0);p=Q0,o=F0}}}})}function dM($,Q,J){if(!$||!Q)return Q;var{done:K,during:Y}=J;Gs0($,Q),Q.__morphT=0;function Z(){fD(Q,"buildPath"),fD(Q,"updateTransform"),Q.__morphT=-1,Q.createPathProxy(),Q.dirtyShape()}return Q.animateTo({__morphT:1},c0({during:function(q){Q.dirtyShape(),Y&&Y(q)},done:function(){Z(),K&&K()}},J)),Q}function df1($,Q,J,K,Y,Z){var q=16;$=Y===J?0:Math.round(32767*($-J)/(Y-J)),Q=Z===K?0:Math.round(32767*(Q-K)/(Z-K));var X=0,W;for(var F=(1<<q)/2;F>0;F/=2){var H=0,B=0;if(($&F)>0)H=1;if((Q&F)>0)B=1;if(X+=F*F*(3*H^B),B===0){if(H===1)$=F-1-$,Q=F-1-Q;W=$,$=Q,Q=W}}return X}function pM($){var Q=1/0,J=1/0,K=-1/0,Y=-1/0,Z=q0($,function(X){var W=X.getBoundingRect(),F=X.getComputedTransform(),H=W.x+W.width/2+(F?F[4]:0),B=W.y+W.height/2+(F?F[5]:0);return Q=Math.min(H,Q),J=Math.min(B,J),K=Math.max(H,K),Y=Math.max(B,Y),[H,B]}),q=q0(Z,function(X,W){return{cp:X,z:df1(X[0],X[1],Q,J,K,Y),path:$[W]}});return q.sort(function(X,W){return X.z-W.z}).map(function(X){return X.path})}function Os0($){return Ns0($.path,$.count)}function D80(){return{fromIndividuals:[],toIndividuals:[],count:0}}function ws0($,Q,J){var K=[];function Y(E){for(var L=0;L<E.length;L++){var v=E[L];if(ID(v))Y(v.childrenRef());else if(v instanceof Y1)K.push(v)}}Y($);var Z=K.length;if(!Z)return D80();var q=J.dividePath||Os0,X=q({path:Q,count:Z});if(X.length!==Z)return console.error("Invalid morphing: unmatched splitted path"),D80();K=pM(K),X=pM(X);var{done:W,during:F,individualDelay:H}=J,B=new S9;for(var z=0;z<Z;z++){var A=K[z],R=X[z];if(R.parent=Q,R.copyTransform(B),!H)Gs0(A,R)}Q.__isCombineMorphing=!0,Q.childrenRef=function(){return X};function G(E){for(var L=0;L<X.length;L++)X[L].addSelfToZr(E)}mM(Q,"addSelfToZr",{after:function(E){G(E)}}),mM(Q,"removeSelfFromZr",{after:function(E){for(var L=0;L<X.length;L++)X[L].removeSelfFromZr(E)}});function O(){Q.__isCombineMorphing=!1,Q.__morphT=-1,Q.childrenRef=null,fD(Q,"addSelfToZr"),fD(Q,"removeSelfFromZr")}var T=X.length;if(H){var D=T,P=function(){if(D--,D===0)O(),W&&W()};for(var z=0;z<T;z++){var j=H?c0({delay:(J.delay||0)+H(z,T,K[z],X[z]),done:P},J):J;dM(K[z],X[z],j)}}else Q.__morphT=0,Q.animateTo({__morphT:1},c0({during:function(E){for(var L=0;L<T;L++){var v=X[L];v.__morphT=Q.__morphT,v.dirtyShape()}F&&F(E)},done:function(){O();for(var E=0;E<$.length;E++)fD($[E],"updateTransform");W&&W()}},J));if(Q.__zr)G(Q.__zr);return{fromIndividuals:K,toIndividuals:X,count:T}}function Ts0($,Q,J){var K=Q.length,Y=[],Z=J.dividePath||Os0;function q(A){for(var R=0;R<A.length;R++){var G=A[R];if(ID(G))q(G.childrenRef());else if(G instanceof Y1)Y.push(G)}}if(ID($)){q($.childrenRef());var X=Y.length;if(X<K){var W=0;for(var F=X;F<K;F++)Y.push(wz(Y[W++%X]))}Y.length=K}else{Y=Z({path:$,count:K});var H=$.getComputedTransform();for(var F=0;F<Y.length;F++)Y[F].setLocalTransform(H);if(Y.length!==K)return console.error("Invalid morphing: unmatched splitted path"),D80()}Y=pM(Y),Q=pM(Q);var B=J.individualDelay;for(var F=0;F<K;F++){var z=B?c0({delay:(J.delay||0)+B(F,K,Y[F],Q[F])},J):J;dM(Y[F],Q[F],z)}return{fromIndividuals:Y,toIndividuals:Q,count:Q.length}}var Rs0="__mOriginal_";var Ds0=h(()=>{h9();m6();l();w6();Tz();EK();Bs0();T80()});function Cs0($){return Z0($[0])}function Ps0($,Q){var J=[],K=$.length;for(var Y=0;Y<K;Y++)J.push({one:$[Y],many:[]});for(var Y=0;Y<Q.length;Y++){var Z=Q[Y].length,q=void 0;for(q=0;q<Z;q++)J[q%K].many.push(Q[Y][q])}var X=0;for(var Y=K-1;Y>=0;Y--)if(!J[Y].many.length){var W=J[X].many;if(W.length<=1)if(X)X=0;else return J;var Z=W.length,F=Math.ceil(Z/2);J[Y].many=W.slice(F,Z),J[X].many=W.slice(0,F),X++}return J}function nM($,Q,J,K,Y,Z){if(!$.length||!Q.length)return;var q=xK("update",K,Y);if(!(q&&q.duration>0))return;var X=K.getModel("universalTransition").get("delay"),W=Object.assign({setToFinal:!0},q),F,H;if(Cs0($))F=$,H=Q;if(Cs0(Q))F=Q,H=$;function B(T,D,P,j,E){var{many:L,one:v}=T;if(L.length===1&&!E){var f=D?L[0]:v,_=D?v:L[0];if(ID(f))B({many:[f],one:_},!0,P,j,!0);else{var M=X?c0({delay:X(P,j)},W):W;dM(f,_,M),Z(f,_,f,_,M)}}else{var b=c0({dividePath:nf1[J],individualDelay:X&&function(o,t,r,Q0){return X(o+P,j)}},W),x=D?ws0(L,v,b):Ts0(v,L,b),g=x.fromIndividuals,m=x.toIndividuals,u=g.length;for(var p=0;p<u;p++){var M=X?c0({delay:X(p,u)},W):W;Z(g[p],m[p],D?L[p]:T.one,D?T.one:L[p],M)}}}var z=F?F===$:$.length>Q.length,A=F?Ps0(H,F):Ps0(z?Q:$,[z?$:Q]),R=0;for(var G=0;G<A.length;G++)R+=A[G].many.length;var O=0;for(var G=0;G<A.length;G++)B(A[G],z,O,R),O+=A[G].many.length}function S2($){if(!$)return[];if(Z0($)){var Q=[];for(var J=0;J<$.length;J++)Q.push(S2($[J]));return Q}var K=[];return $.traverse(function(Y){if(Y instanceof Y1&&!Y.disableMorphing&&!Y.invisible&&!Y.ignore)K.push(Y)}),K}var nf1;var ks0=h(()=>{Ds0();a0();l();h8();Tz();nf1={clone:function($){var Q=[],J=1-Math.pow(1-$.path.style.opacity,1/$.count);for(var K=0;K<$.count;K++){var Y=wz($.path);Y.setStyle("opacity",J),Q.push(Y)}return Q},split:null}});function if1($,Q){var J=$.dimensions;for(var K=0;K<J.length;K++){var Y=$.getDimensionInfo(J[K]);if(Y&&Y.otherDims[Q]===0)return J[K]}}function sf1($,Q,J){var K=$.getDimensionInfo(J),Y=K&&K.ordinalMeta;if(K){var Z=$.get(K.name,Q);if(Y)return Y.categories[Z]||Z+"";return Z+""}}function Ls0($,Q,J,K){var Y=K?"itemChildGroupId":"itemGroupId",Z=if1($,Y);if(Z){var q=sf1($,Q,Z);return q}var X=$.getRawDataItem(Q),W=K?"childGroupId":"groupId";if(X&&X[W])return X[W]+"";if(K)return;return J||$.getId(Q)}function hs0($){var Q=[];return S($,function(J){var{data:K,dataGroupId:Y}=J;if(K.count()>fs0){S5("Universal transition is disabled on large data > 10k.");return}var Z=K.getIndices();for(var q=0;q<Z.length;q++)Q.push({data:K,groupId:Ls0(K,q,Y,!1),childGroupId:Ls0(K,q,Y,!0),divide:J.divide,dataIndex:q})}),Q}function C80($,Q,J){$.traverse(function(K){if(K instanceof Y1)q5(K,{style:{opacity:0}},Q,{dataIndex:J,isFrom:!0})})}function P80($){if($.parent){var Q=$.getComputedTransform();$.setLocalTransform(Q),$.parent.remove($)}}function rA($){if($.stopAnimation(),$.isGroup)$.traverse(function(Q){Q.stopAnimation()})}function of1($,Q,J){var K=xK("update",J,Q);K&&$.traverse(function(Y){if(Y instanceof w7){var Z=uh0(Y);if(Z)Y.animateFrom({style:Z},K)}})}function af1($,Q){var J=$.length;if(J!==Q.length)return!1;for(var K=0;K<J;K++){var Y=$[K],Z=Q[K];if(Y.data.getId(Y.dataIndex)!==Z.data.getId(Z.dataIndex))return!1}return!0}function Is0($,Q,J){var K=hs0($),Y=hs0(Q);function Z(P,j,E,L,v){if(E||P)j.animateFrom({style:E&&E!==P?Y0(Y0({},E.style),P.style):P.style},v)}var q=!1,X=lf1,W=_0(),F=_0();K.forEach(function(P){P.groupId&&W.set(P.groupId,!0),P.childGroupId&&F.set(P.childGroupId,!0)});for(var H=0;H<Y.length;H++){var B=Y[H].groupId;if(F.get(B)){X=js0;break}var z=Y[H].childGroupId;if(z&&W.get(z)){X=Es0;break}}function A(P,j){return function(E){var{data:L,dataIndex:v}=E;if(j)return L.getId(v);if(P)return X===js0?E.childGroupId:E.groupId;else return X===Es0?E.childGroupId:E.groupId}}var R=af1(K,Y),G={};if(!R)for(var H=0;H<Y.length;H++){var O=Y[H],T=O.data.getItemGraphicEl(O.dataIndex);if(T)G[T.id]=!0}function D(P,j){var E=K[j],L=Y[P],v=L.data.hostModel,f=E.data.getItemGraphicEl(E.dataIndex),_=L.data.getItemGraphicEl(L.dataIndex);if(f===_){_&&of1(_,L.dataIndex,v);return}if(f&&G[f.id])return;if(_)if(rA(_),f)rA(f),P80(f),q=!0,nM(S2(f),S2(_),L.divide,v,P,Z);else C80(_,v,P)}if(new Q4(K,Y,A(!0,R),A(!1,R),null,"multiple").update(D).updateManyToOne(function(P,j){var E=Y[P],L=E.data,v=L.hostModel,f=L.getItemGraphicEl(E.dataIndex),_=f1(q0(j,function(M){return K[M].data.getItemGraphicEl(K[M].dataIndex)}),function(M){return M&&M!==f&&!G[M.id]});if(f)if(rA(f),_.length)S(_,function(M){rA(M),P80(M)}),q=!0,nM(S2(_),S2(f),E.divide,v,P,Z);else C80(f,v,E.dataIndex)}).updateOneToMany(function(P,j){var E=K[j],L=E.data.getItemGraphicEl(E.dataIndex);if(L&&G[L.id])return;var v=f1(q0(P,function(_){return Y[_].data.getItemGraphicEl(Y[_].dataIndex)}),function(_){return _&&_!==L}),f=Y[P[0]].data.hostModel;if(v.length)if(S(v,function(_){return rA(_)}),L)rA(L),P80(L),q=!0,nM(S2(L),S2(v),E.divide,f,P[0],Z);else S(v,function(_){return C80(_,f,P[0])})}).updateManyToMany(function(P,j){new Q4(j,P,function(E){return K[E].data.getId(K[E].dataIndex)},function(E){return Y[E].data.getId(Y[E].dataIndex)}).update(function(E,L){D(P[E],j[L])}).execute()}).execute(),q)S(Q,function(P){var j=P.data,E=j.hostModel,L=E&&J.getViewOfSeriesModel(E),v=xK("update",E,0);if(L&&E.isAnimationEnabled()&&v&&v.duration>0)L.group.traverse(function(f){if(f instanceof Y1&&!f.animators.length)f.animateFrom({style:{opacity:0}},v)})})}function vs0($){var Q=$.getModel("universalTransition").get("seriesKey");if(!Q)return $.id;return Q}function Ss0($){if(Z0($))return $.sort().join(",");return $}function _2($){if($.hostModel)return $.hostModel.getModel("universalTransition").get("divideShape")}function tf1($,Q){var J=_0(),K=_0(),Y=_0();S($.oldSeries,function(q,X){var W=$.oldDataGroupIds[X],F=$.oldData[X],H=vs0(q),B=Ss0(H);if(K.set(B,{dataGroupId:W,data:F}),Z0(H))S(H,function(z){Y.set(z,{key:B,dataGroupId:W,data:F})})});function Z(q){if(J.get(q))S5("Duplicated seriesKey in universalTransition "+q)}return S(Q.updatedSeries,function(q){if(q.isUniversalTransitionEnabled()&&q.isAnimationEnabled()){var X=q.get("dataGroupId"),W=q.getData(),F=vs0(q),H=Ss0(F),B=K.get(H);if(B)Z(H),J.set(H,{oldSeries:[{dataGroupId:B.dataGroupId,divide:_2(B.data),data:B.data}],newSeries:[{dataGroupId:X,divide:_2(W),data:W}]});else if(Z0(F)){Z(H);var z=[];if(S(F,function(G){var O=K.get(G);if(O.data)z.push({dataGroupId:O.dataGroupId,divide:_2(O.data),data:O.data})}),z.length)J.set(H,{oldSeries:z,newSeries:[{dataGroupId:X,data:W,divide:_2(W)}]})}else{var A=Y.get(F);if(A){var R=J.get(A.key);if(!R)R={oldSeries:[{dataGroupId:A.dataGroupId,data:A.data,divide:_2(A.data)}],newSeries:[]},J.set(A.key,R);R.newSeries.push({dataGroupId:X,data:W,divide:_2(W)})}}}}),J}function _s0($,Q){for(var J=0;J<$.length;J++){var K=Q.seriesIndex!=null&&Q.seriesIndex===$[J].seriesIndex||Q.seriesId!=null&&Q.seriesId===$[J].id;if(K)return J}}function ef1($,Q,J,K){var Y=[],Z=[];if(S(H5($.from),function(q){var X=_s0(Q.oldSeries,q);if(X>=0)Y.push({dataGroupId:Q.oldDataGroupIds[X],data:Q.oldData[X],divide:_2(Q.oldData[X]),groupIdDim:q.dimension})}),S(H5($.to),function(q){var X=_s0(J.updatedSeries,q);if(X>=0){var W=J.updatedSeries[X].getData();Z.push({dataGroupId:Q.oldDataGroupIds[X],data:W,divide:_2(W),groupIdDim:q.dimension})}}),Y.length>0&&Z.length>0)Is0(Y,Z,K)}function k80($){$.registerUpdateLifecycle("series:beforeupdate",function(Q,J,K){S(H5(K.seriesTransition),function(Y){S(H5(Y.to),function(Z){var q=K.updatedSeries;for(var X=0;X<q.length;X++)if(Z.seriesIndex!=null&&Z.seriesIndex===q[X].seriesIndex||Z.seriesId!=null&&Z.seriesId===q[X].id)q[X][tw]=!0})})}),$.registerUpdateLifecycle("series:transition",function(Q,J,K){var Y=rf1(J);if(Y.oldSeries&&K.updatedSeries&&K.optionChanged){var Z=K.seriesTransition;if(Z)S(H5(Z),function(A){ef1(A,Y,K,J)});else{var q=tf1(Y,K);S(q.keys(),function(A){var R=q.get(A);Is0(R.oldSeries,R.newSeries,J)})}S(K.updatedSeries,function(A){if(A[tw])A[tw]=!1})}var X=Q.getSeries(),W=Y.oldSeries=[],F=Y.oldDataGroupIds=[],H=Y.oldData=[];for(var B=0;B<X.length;B++){var z=X[B].getData();if(z.count()<fs0)W.push(X[B]),F.push(X[B].get("dataGroupId")),H.push(z)}})}var fs0=1e4,lf1=0,js0=1,Es0=2,rf1;var Ms0=h(()=>{o6();l();ks0();m6();a0();SZ();l0();N5();h8();E3();rf1=o0()});function QI1(){return new $I1}function JI1($,Q){var J=0,K={tpAbs:{span:0,val:0},tpPrct:{span:0,val:0}},Y=function(){return{has:!1,span:NaN,inExtFrac:NaN,val:NaN}},Z={S:{tpAbs:Y(),tpPrct:Y()},E:{tpAbs:Y(),tpPrct:Y()}};S($.breaks,function(X){var W=X.gapParsed;if(W.type==="tpPrct")J+=W.val;var F=L80(X,Q);if(F){var H=F.vmin!==X.vmin,B=F.vmax!==X.vmax,z=F.vmax-F.vmin;if(H&&B);else if(H||B){var A=H?"S":"E";Z[A][W.type].has=!0,Z[A][W.type].span=z,Z[A][W.type].inExtFrac=z/(X.vmax-X.vmin),Z[A][W.type].val=W.val}else K[W.type].span+=z,K[W.type].val+=W.val}});var q=J*(0+(Q[1]-Q[0])+(K.tpAbs.val-K.tpAbs.span)+(Z.S.tpAbs.has?(Z.S.tpAbs.val-Z.S.tpAbs.span)*Z.S.tpAbs.inExtFrac:0)+(Z.E.tpAbs.has?(Z.E.tpAbs.val-Z.E.tpAbs.span)*Z.E.tpAbs.inExtFrac:0)-K.tpPrct.span-(Z.S.tpPrct.has?Z.S.tpPrct.span*Z.S.tpPrct.inExtFrac:0)-(Z.E.tpPrct.has?Z.E.tpPrct.span*Z.E.tpPrct.inExtFrac:0))/(1-K.tpPrct.val-(Z.S.tpPrct.has?Z.S.tpPrct.val*Z.S.tpPrct.inExtFrac:0)-(Z.E.tpPrct.has?Z.E.tpPrct.val*Z.E.tpPrct.inExtFrac:0));S($.breaks,function(X){var W=X.gapParsed;if(W.type==="tpPrct")X.gapReal=J!==0?Math.max(q,0)*W.val/J:0;if(W.type==="tpAbs")X.gapReal=W.val;if(X.gapReal==null)X.gapReal=0})}function KI1($,Q,J,K,Y,Z){if($==="no")return;S(J,function(q){var X=L80(q,Z);if(!X)return;for(var W=Q.length-1;W>=0;W--){var F=Q[W],H=K(F),B=Y*3/4;if(H>X.vmin-B&&H<X.vmax+B&&($!=="preserve_extent_bound"||H!==Z[0]&&H!==Z[1]))Q.splice(W,1)}})}function YI1($,Q,J,K){if(S(Q,function(Y){var Z=L80(Y,J);if(!Z)return;$.push({value:Z.vmin,break:{type:"vmin",parsedBreak:Z},time:K?K(Z):void 0}),$.push({value:Z.vmax,break:{type:"vmax",parsedBreak:Z},time:K?K(Z):void 0})}),Q.length)$.sort(function(Y,Z){return Y.value-Z.value})}function L80($,Q){var J=Math.max($.vmin,Q[0]),K=Math.min($.vmax,Q[1]);return J<K||J===K&&J>Q[0]&&J<Q[1]?{vmin:J,vmax:K,breakOption:$.breakOption,gapParsed:$.gapParsed,gapReal:$.gapReal}:null}function j80($,Q,J){var K=[];if(!$)return{breaks:K};function Y(q,X){if(q>=0&&q<0.99999)return!0;return S1(X+" must be >= 0 and < 1, rather than "+q+" ."),!1}S($,function(q){if(!q||q.start==null||q.end==null){S1("The input axis breaks start/end should not be empty.");return}if(q.isExpanded)return;var X={breakOption:m0(q),vmin:Q(q.start),vmax:Q(q.end),gapParsed:{type:"tpAbs",val:0},gapReal:null};if(q.gap!=null){var W=!1;if(R0(q.gap)){var F=m7(q.gap);if(F.match(/%$/)){var H=parseFloat(F)/100;if(!Y(H,"Percent gap"))H=0;X.gapParsed.type="tpPrct",X.gapParsed.val=H,W=!0}}if(!W){var B=Q(q.gap);if(!isFinite(B)||B<0)S1("Axis breaks gap must positive finite rather than ("+q.gap+")."),B=0;X.gapParsed.type="tpAbs",X.gapParsed.val=B}}if(X.vmin===X.vmax)X.gapParsed.type="tpAbs",X.gapParsed.val=0;if(J&&J.noNegative)S(["vmin","vmax"],function(A){if(X[A]<0)S1("Axis break."+A+" must not be negative."),X[A]=0});if(X.vmin>X.vmax){var z=X.vmax;X.vmax=X.vmin,X.vmin=z}K.push(X)}),K.sort(function(q,X){return q.vmin-X.vmin});var Z=-1/0;return S(K,function(q,X){if(Z>q.vmin)S1("Axis breaks must not overlap."),K[X]=null;Z=q.vmax}),{breaks:K.filter(function(q){return!!q})}}function h80($,Q){return E80(Q)===E80($)}function E80($){return $.start+"_\x00_"+$.end}function ZI1($,Q,J){var K=[];S($,function(Z,q){var X=Q(Z);if(X&&X.type==="vmin")K.push([q])}),S($,function(Z,q){var X=Q(Z);if(X&&X.type==="vmax"){var W=mQ(K,function(F){return h80(Q($[F[0]]).parsedBreak.breakOption,X.parsedBreak.breakOption)});W&&W.push(q)}});var Y=[];return S(K,function(Z){if(Z.length===2)Y.push(J?Z:[$[Z[0]],$[Z[1]]])}),Y}function qI1($,Q,J,K){var Y,Z;if($.break){var q=$.break.parsedBreak,X=mQ(J,function(B){return h80(B.breakOption,$.break.parsedBreak.breakOption)}),W=K(Math.pow(Q,q.vmin),X.vmin),F=K(Math.pow(Q,q.vmax),X.vmax),H={type:q.gapParsed.type,val:q.gapParsed.type==="tpAbs"?Z6(Math.pow(Q,q.vmin+q.gapParsed.val))-W:q.gapParsed.val};Y={type:$.break.type,parsedBreak:{breakOption:q.breakOption,vmin:W,vmax:F,gapParsed:H,gapReal:q.gapReal}},Z=X[$.break.type]}return{brkRoundingCriterion:Z,vBreak:Y}}function XI1($,Q,J){var K={noNegative:!0},Y=j80($,J,K),Z=j80($,J,K),q=Math.log(Q);return Z.breaks=q0(Z.breaks,function(X){var W=Math.log(X.vmin)/q,F=Math.log(X.vmax)/q,H={type:X.gapParsed.type,val:X.gapParsed.type==="tpAbs"?Math.log(X.vmin+X.gapParsed.val)/q-W:X.gapParsed.val};return{vmin:W,vmax:F,gapParsed:H,gapReal:X.gapReal,breakOption:X.breakOption}}),{parsedOriginal:Y,parsedLogged:Z}}function FI1($,Q){if(Q)$=$||{},$.break={type:WI1[Q.type],start:Q.parsedBreak.vmin,end:Q.parsedBreak.vmax};return $}function ys0(){Nv0({createScaleBreakContext:QI1,pruneTicksByBreak:KI1,addBreaksToTicks:YI1,parseAxisBreakOption:j80,identifyAxisBreak:h80,serializeAxisBreakIdentifier:E80,retrieveAxisBreakPairs:ZI1,getTicksLogTransformBreak:qI1,logarithmicParseBreaksFromOption:XI1,makeAxisLabelFormatterParamBreak:FI1})}var $I1,bs0=0,gs0=0,WI1;var xs0=h(()=>{l();N5();k1();$I1=function(){function $(){this.breaks=[],this._elapsedExtent=[1/0,-1/0]}return $.prototype.setBreaks=function(Q){this.breaks=Q.breaks},$.prototype.update=function(Q){JI1(this,Q);var J=this._elapsedExtent;J[0]=this.elapse(Q[0]),J[1]=this.elapse(Q[1])},$.prototype.hasBreaks=function(){return!!this.breaks.length},$.prototype.calcNiceTickMultiple=function(Q,J){for(var K=0;K<this.breaks.length;K++){var Y=this.breaks[K];if(Y.vmin<Q&&Q<Y.vmax){var Z=J(Q,Y.vmax);return M0(Z>=0&&Math.round(Z)===Z),Z}}return 0},$.prototype.getExtentSpan=function(){return this._elapsedExtent[1]-this._elapsedExtent[0]},$.prototype.normalize=function(Q){var J=this._elapsedExtent[1]-this._elapsedExtent[0];if(J===0)return 0.5;return(this.elapse(Q)-this._elapsedExtent[0])/J},$.prototype.scale=function(Q){return this.unelapse(Q*(this._elapsedExtent[1]-this._elapsedExtent[0])+this._elapsedExtent[0])},$.prototype.elapse=function(Q){var J=bs0,K=gs0,Y=!0;for(var Z=0;Z<this.breaks.length;Z++){var q=this.breaks[Z];if(Q<=q.vmax){if(Q>q.vmin)J+=q.vmin-K+(Q-q.vmin)/(q.vmax-q.vmin)*q.gapReal;else J+=Q-K;K=q.vmax,Y=!1;break}J+=q.vmin-K+q.gapReal,K=q.vmax}if(Y)J+=Q-K;return J},$.prototype.unelapse=function(Q){var J=bs0,K=gs0,Y=!0,Z=0;for(var q=0;q<this.breaks.length;q++){var X=this.breaks[q],W=J+X.vmin-K,F=W+X.gapReal;if(Q<=F){if(Q>W)Z=X.vmin+(Q-W)/(F-W)*(X.vmax-X.vmin);else Z=K+Q-J;K=X.vmax,Y=!1;break}J=F,K=X.vmax}if(Y)Z=K+Q-J;return Z},$}();WI1={vmin:"start",vmax:"end"}});function UI1($,Q){var J=mQ($,function(K){return D6().identifyAxisBreak(K.parsedBreak.breakOption,Q.breakOption)});if(!J)$.push(J={zigzagRandomList:[],parsedBreak:Q,shouldRemove:!1});return J}function HI1($){S($,function(Q){return Q.shouldRemove=!0})}function NI1($){for(var Q=$.length-1;Q>=0;Q--)if($[Q].shouldRemove)$.splice(Q,1)}function BI1($,Q,J,K,Y){var Z=J.axis;if(Z.scale.isBlank()||!D6())return;var q=D6().retrieveAxisBreakPairs(Z.scale.getTicks({breakTicks:"only_break"}),function(_){return _.break},!1);if(!q.length)return;var X=J.getModel("breakArea"),W=X.get("zigzagAmplitude"),F=X.get("zigzagMinSpan"),H=X.get("zigzagMaxSpan");F=Math.max(2,F||0),H=Math.max(F,H||0);var B=X.get("expandOnClick"),z=X.get("zigzagZ"),A=X.getModel("itemStyle"),R=A.getItemStyle(),G=R.stroke,O=R.lineWidth,T=R.lineDash,D=R.fill,P=new b0({ignoreModelZ:!0}),j=Z.isHorizontal(),E=cs0(Q).visualList||(cs0(Q).visualList=[]);HI1(E);var L=function(_){var M=q[_][0].break.parsedBreak,b=[];if(b[0]=Z.toGlobalCoord(Z.dataToCoord(M.vmin,!0)),b[1]=Z.toGlobalCoord(Z.dataToCoord(M.vmax,!0)),b[1]<b[0])b.reverse();var x=UI1(E,M);x.shouldRemove=!1;var g=new b0;if(f(x.zigzagRandomList,g,b[0],b[1],j,M),B)g.on("click",function(){var m={type:FA,breaks:[{start:M.breakOption.start,end:M.breakOption.end}]};m[Z.dim+"AxisIndex"]=J.componentIndex,Y.dispatchAction(m)});g.silent=!B,P.add(g)};for(var v=0;v<q.length;v++)L(v);$.add(P),NI1(E);function f(_,M,b,x,g,m){var u={stroke:G,lineWidth:O,lineDash:T,fill:"none"},p=g?0:1,o=1-p,t=K[D1[o]]+K[p6[o]];function r(V5){var g1=[],w5=[];g1[p]=w5[p]=V5,g1[o]=K[D1[o]],w5[o]=t;var T5={x1:g1[0],y1:g1[1],x2:w5[0],y2:w5[1]};return KU(T5,T5,{lineWidth:1}),g1[0]=T5.x1,g1[1]=T5.y1,g1[p]}b=r(b),x=r(x);var Q0=[],F0=[],W0=!0,h0=K[D1[o]];for(var d0=0;;d0++){var W1=h0===K[D1[o]],z1=h0>=t;if(z1)h0=t;var b1=[],B1=[];if(b1[p]=b,B1[p]=x,!W1&&!z1)b1[p]+=W0?-W:W,B1[p]-=!W0?-W:W;b1[o]=h0,B1[o]=h0,Q0.push(b1),F0.push(B1);var e0=void 0;if(d0<_.length)e0=_[d0];else e0=Math.random(),_.push(e0);if(h0+=e0*(H-F)+F,W0=!W0,z1)break}var P1=D6().serializeAxisBreakIdentifier(m.breakOption);if(M.add(new G6({anid:"break_a_"+P1,shape:{points:Q0},style:u,z})),m.gapReal!==0){M.add(new G6({anid:"break_b_"+P1,shape:{points:F0},style:u,z}));var t0=F0.slice();t0.reverse();var w1=Q0.concat(t0);M.add(new S6({anid:"break_c_"+P1,shape:{points:w1},style:{fill:D,opacity:R.opacity},z}))}}}function zI1($,Q,J,K){var Y=$.axis,Z=J.transform;M0(K.style);var q=Y.getExtent();if(Y.inverse)q=q.slice(),q.reverse();var X=D6().retrieveAxisBreakPairs(Y.scale.getTicks({breakTicks:"only_break"}),function(O){return O.break},!1),W=q0(X,function(O){var T=O[0].break.parsedBreak,D=[Y.dataToCoord(T.vmin,!0),Y.dataToCoord(T.vmax,!0)];return D[0]>D[1]&&D.reverse(),{coordPair:D,brkId:D6().serializeAxisBreakIdentifier(T.breakOption)}});W.sort(function(O,T){return O.coordPair[0]-T.coordPair[0]});var F=q[0],H=null;for(var B=0;B<W.length;B++){var z=W[B],A=Math.max(z.coordPair[0],q[0]),R=Math.min(z.coordPair[1],q[1]);if(F<=A)G(F,A,H,z);F=R,H=z}if(F<=q[1])G(F,q[1],H,null);function G(O,T,D,P){function j(b,x){if(Z)H6(b,b,Z),H6(x,x,Z)}function E(b,x){var g={x1:b[0],y1:b[1],x2:x[0],y2:x[1]};KU(g,g,K.style),b[0]=g.x1,b[1]=g.y1,x[0]=g.x2,x[1]=g.y2}var L=[O,0],v=[T,0],f=[O,5],_=[T,5];j(L,f),E(L,f),j(v,_),E(v,_),E(L,v);var M=new X6(Y0({shape:{x1:L[0],y1:L[1],x2:v[0],y2:v[1]}},K));Q.add(M),M.anid="breakLine_"+(D?D.brkId:"\x00")+"_\x00_"+(P?P.brkId:"\x00")}}function AI1($,Q,J){if(mQ(J,function(D){return!D}))return;var K=new Z1;if(!QA(J[0],J[1],K,{direction:-($?Q+Math.PI:Q),touchThreshold:0,bidirectional:!1}))return;var Y=V6();V4(Y,Y,-Q);var Z=q0(J,function(D){return D.transform?i8(V6(),Y,D.transform):Y});function q(D){var P=J[0].localRect,j=new Z1(P[p6[D]]*Z[0][0],P[p6[D]]*Z[0][1]);return Math.abs(j.y)<0.00001}var X=0.5;if(q(0)||q(1)){var W=q0(J,function(D,P){var j=D.localRect.clone();return j.applyTransform(Z[P]),j}),F=new Z1;F.copy(J[0].label).add(J[1].label).scale(0.5),F.transform(Y);var H=K.clone().transform(Y),B=W[0].x+W[1].x+(H.x>=0?W[0].width:W[1].width),z=(B+H.x)/2-F.x,A=Math.min(z,z-H.x),R=Math.max(z,z-H.x),G=R<0?R:A>0?A:0;X=(z-G)/H.x}var O=new Z1,T=new Z1;Z1.scale(O,K,-X),Z1.scale(T,K,1-X),DT(J[0],O),DT(J[1],T)}function VI1($,Q){var J={breaks:[]};return S(Q.breaks,function(K){if(!K)return;var Y=mQ($.get("breaks",!0),function(X){return D6().identifyAxisBreak(X,K)});if(!Y){S5("Can not find axis break by start: "+K.start+", end: "+K.end);return}var Z=Q.type,q={isExpanded:!!Y.isExpanded};Y.isExpanded=Z===FA?!0:Z===le?!1:Z===re?!Y.isExpanded:Y.isExpanded,J.breaks.push({start:Y.start,end:Y.end,isExpanded:!!Y.isExpanded,old:q})}),J}function us0(){eM0({adjustBreakLabelPair:AI1,buildAxisBreakLine:zI1,rectCoordBuildBreakAxis:BI1,updateModelAxisBreak:VI1})}var cs0;var ms0=h(()=>{l0();l();Vz();w6();xf();kT();N5();a0();cs0=o0()});function v80($){qb0($),ys0(),us0()}var ps0=h(()=>{xs0();xf();ms0()});function S80(){Tb0(RI1)}function RI1($,Q){S($,function(J){if(!J.model.get(["axisLabel","inside"])){var K=GI1(J);if(K){var Y=J.isHorizontal()?"height":"width",Z=J.model.get(["axisLabel","margin"]);if(Q[Y]-=K[Y]+Z,J.position==="top")Q.y+=K.height+Z;else if(J.position==="left")Q.x+=K.width+Z}}})}function GI1($){var{model:Q,scale:J}=$;if(!Q.get(["axisLabel","show"])||J.isBlank())return;var K,Y,Z=J.getExtent();if(J instanceof IZ)Y=J.count();else K=J.getTicks(),Y=K.length;var q=$.getLabelModel(),X=q2($),W,F=1;if(Y>40)F=Math.ceil(Y/40);for(var H=0;H<Y;H+=F){var B=K?K[H]:{value:Z[0]+H},z=X(B,H),A=q.getTextRect(z),R=G(A,q.get("rotate")||0);W?W.union(R):W=R}return W;function G(O,T){var D=T*Math.PI/180,P=O.width,j=O.height,E=P*Math.abs(Math.cos(D))+Math.abs(j*Math.sin(D)),L=P*Math.abs(Math.sin(D))+Math.abs(j*Math.cos(D)),v=new n0(O.x,O.y,E,L);return v}}var ds0=h(()=>{s5();l();X00();VT();M3()});var ns0=h(()=>{Ms0();it();ps0();ds0();w00()});var ls0=h(()=>{E4();nI0();Ap0();qs0();ns0();UI0();T1([Re]);T1([Ve]);T1([Ee,_e,xe,G00,C00,n00,J10,B10,g10,u10,m10,d10,U50,z50,G50,k50,j50,v50,S50,M50,y50,p50,A60]);T1(P60);T1(h60);T1(oT);T1(f60);T1(WD);T1(b60);T1(o60);T1(t60);T1(H70);T1(V70);T1(VJ);T1(C70);T1(P70);T1(L70);T1(f70);T1(M70);T1(b70);T1(r70);T1(Q80);T1(jD);T1(hD);T1(H80);T1(SD);T1(_D);T1(N80);T1(A80);T1(G80);T1(O80);T1(k80);T1(jT);T1(v80);T1(S80);T1(O00)});var rs0={};OQ(rs0,{BarWidget:()=>wI1});function wI1({config:$,filters:Q=[]}){let{db:J,tableVersion:K}=W4(),[Y,Z]=nZ.useState([]),q=nZ.useRef(null),X=nZ.useRef(null);if(nZ.useEffect(()=>{if(!J)return;new pY(J,$,Q).execute().then(Z)},[J,$,Q,K]),nZ.useEffect(()=>{if(q.current&&Y.length>0){if(!X.current)X.current=i_0(q.current);let W=$.params.x_axis.column,F=$.params.groupby.find((G)=>G!==W),H=$.params.metrics[0].label,B=Array.from(new Set(Y.map((G)=>G[W]))),z=[],A=[];if(F){let G=Array.from(new Set(Y.map((O)=>O[F])));A=G,z=G.map((O)=>{return{name:O,type:"bar",stack:$.params.stack==="Stack"?"total":void 0,emphasis:{focus:"series"},data:B.map((T)=>{let D=Y.find((P)=>P[W]===T&&P[F]===O);return D?D[H]:0}),label:{show:$.params.show_value,position:"inside",formatter:"{c}"}}})}else A=[H],z=[{name:H,type:"bar",stack:$.params.stack==="Stack"?"total":void 0,emphasis:{focus:"series"},data:B.map((G)=>{let O=Y.find((T)=>T[W]===G);return O?O[H]:0}),label:{show:$.params.show_value,position:"inside",formatter:"{c}"}}];let R={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{show:$.params.show_legend,type:$.params.legendType,orient:$.params.legendOrientation==="top"?"horizontal":"vertical",top:$.params.legendOrientation==="top"?"top":"center",left:$.params.legendOrientation==="top"?"center":"left",data:A},xAxis:{type:"category",data:B,axisLabel:{rotate:$.params.x_axis.labelRotation||0}},yAxis:{type:"value",name:$.params.y_axis_title},series:z,grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0}};X.current.setOption(R)}},[Y,$]),nZ.useEffect(()=>{return()=>{if(X.current)X.current.dispose(),X.current=null}},[]),!Y.length)return _80.jsxDEV("div",{children:"Loading Bar Chart…"},void 0,!1,void 0,this);return _80.jsxDEV("div",{ref:q,style:{width:"100%",height:"400px"}},void 0,!1,void 0,this)}var nZ,_80;var is0=h(()=>{$K();ls0();nZ=r1(z7(),1),_80=r1(R7(),1)});var ts0=r1(z7(),1),es0=r1(QK0(),1);var lM=r1(z7(),1);var JK0={filters:[{id:"level_1_name",label:"Country",type:"select-multiple",source:{dataSource:"orgunits",column:"level_1_name"}},{id:"level_2_name",label:"Level 2 Name",type:"select-multiple",source:{dataSource:"orgunits",column:"level_2_name"},dependsOn:"level_1_name"},{id:"level_3_name",label:"Level 3 Name",type:"select-multiple",source:{dataSource:"orgunits",column:"level_3_name"},dependsOn:"level_2_name"},{id:"org_unit_type_name",label:"Org Unit Type",type:"select-multiple",source:{dataSource:"orgunits",column:"org_unit_type_name"}}],widgets:{totalOrgUnits:{type:"keyNumber",label:"Total Org Units",params:{dataSource:"orgunits",queryMode:"aggregate",metrics:[{label:"total_orgunits",sqlExpression:"COUNT(*)"}],rowLimit:1}},orgUnitsByType:{type:"table",label:"Org Units by Type",params:{dataSource:"orgunits",queryMode:"aggregate",groupBy:["org_unit_type_name"],metrics:[{label:"count_orgunits",sqlExpression:"COUNT(*)"}],rowLimit:100}},orgUnitsMap:{type:"map",label:"Org Units Map",params:{dataSource:"orgunits",queryMode:"raw",columns:[{column:"org_unit_simplified_geom_geojson",label:"Simplified Geometry"},{column:"org_unit_name"}],rowLimit:1000}},allOrgunitsTable:{type:"table",label:"All Org Units",params:{dataSource:"orgunits",queryMode:"raw",columns:[{column:"org_unit_name",label:"Name"},{column:"org_unit_level",label:"Level"},{column:"org_unit_type_name",label:"Type"},{column:"level_1_name",label:"Pays"},{column:"level_2_name",label:"Région"},{column:"level_3_name",label:"District"},{column:"level_4_name",label:"Pays"}],rowLimit:1000}},orgUnitsWithPoints:{type:"keyNumber",label:"Org Units with Points",params:{dataSource:"orgunits",queryMode:"aggregate",metrics:[{label:"Points",sqlExpression:"COUNT(*) FILTER (WHERE org_unit_longitude IS NOT NULL)"}],rowLimit:1}},orgUnitsWithGeoJson:{type:"keyNumber",label:"Org Units with geojson",params:{dataSource:"orgunits",queryMode:"aggregate",metrics:[{label:"Points",sqlExpression:"COUNT(*) FILTER (WHERE org_unit_simplified_geom_geojson IS NOT NULL)"}],rowLimit:1}},orgunitByTypePerLevel2:{label:"Orgunit by Type per level 2",certification_details:null,viz_type:"bar_chart",type:"bar_chart",params:{dataSource:"orgunits",queryMode:"aggregate",viz_type:"bar_chart",x_axis:{column:"org_unit_level_2_name",sort_series:"name",sort_series_ascending:!0,title:{label:"",margin:15}},metrics:[{aggregate:"COUNT",column:{column_name:"org_unit_type_name",filterable:!0,groupby:!0,type:"TEXT"},expressionType:"SIMPLE",hasCustomLabel:!1,label:"COUNT(org_unit_type_name)",sqlExpression:null}],groupby:["org_unit_level_2_name","org_unit_type_name"],y_axis_title:"",y_axis_title_margin:15,y_axis_title_position:"Left",sort_series_type:"sum",color_scheme:"colorsOfRainbow",show_value:!1,stack:"Stack",only_total:!0,show_legend:!0,legendType:"scroll",legendOrientation:"top",x_axis_time_format:"smart_date",xAxisLabelRotation:90}}},layout:[{type:"ParquetUploadWidget",className:"mb-4"},{type:"Filters",className:"flex space-x-4 mb-4"},{type:"Container",className:"grid grid-cols-3 gap-4",children:[{type:"Widget",widgetKey:"totalOrgUnits",className:""},{type:"Widget",widgetKey:"orgUnitsWithPoints",className:""},{type:"Widget",widgetKey:"orgUnitsWithGeoJson",className:""}]},{type:"Widget",widgetKey:"orgunitByTypePerLevel2",className:"col-span-3 h-[500px]"},{type:"Widget",widgetKey:"orgUnitsByType",className:"col-span-2"},{type:"ConditionalWidget",widgetKey:"orgUnitsMap",invertCondition:!0,className:"col-span-3 h-[500px]"},{type:"Widget",widgetKey:"allOrgunitsTable",className:"col-span-3"}]};$K();var wJ=r1(z7(),1);$K();var Np=r1(z7(),1);var{create:NZ1,defineProperty:Tz0,getOwnPropertyDescriptor:BZ1,getOwnPropertyNames:zZ1,getPrototypeOf:AZ1}=Object,VZ1=Object.prototype.hasOwnProperty,RZ1=($,Q)=>()=>(Q||$((Q={exports:{}}).exports,Q),Q.exports),GZ1=($,Q,J,K)=>{if(Q&&typeof Q=="object"||typeof Q=="function")for(let Y of zZ1(Q))!VZ1.call($,Y)&&Y!==J&&Tz0($,Y,{get:()=>Q[Y],enumerable:!(K=BZ1(Q,Y))||K.enumerable});return $},OZ1=($,Q,J)=>(J=$!=null?NZ1(AZ1($)):{},GZ1(Q||!$||!$.__esModule?Tz0(J,"default",{value:$,enumerable:!0}):J,$)),wZ1=RZ1(($,Q)=>{Q.exports=Worker}),TZ1=(($)=>($[$.UNDEFINED=0]="UNDEFINED",$[$.AUTOMATIC=1]="AUTOMATIC",$[$.READ_ONLY=2]="READ_ONLY",$[$.READ_WRITE=3]="READ_WRITE",$))(TZ1||{}),DZ1=(($)=>($[$.IDENTIFIER=0]="IDENTIFIER",$[$.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",$[$.STRING_CONSTANT=2]="STRING_CONSTANT",$[$.OPERATOR=3]="OPERATOR",$[$.KEYWORD=4]="KEYWORD",$[$.COMMENT=5]="COMMENT",$))(DZ1||{}),CZ1=(($)=>($[$.NONE=0]="NONE",$[$.DEBUG=1]="DEBUG",$[$.INFO=2]="INFO",$[$.WARNING=3]="WARNING",$[$.ERROR=4]="ERROR",$))(CZ1||{}),PZ1=(($)=>($[$.NONE=0]="NONE",$[$.CONNECT=1]="CONNECT",$[$.DISCONNECT=2]="DISCONNECT",$[$.OPEN=3]="OPEN",$[$.QUERY=4]="QUERY",$[$.INSTANTIATE=5]="INSTANTIATE",$))(PZ1||{}),kZ1=(($)=>($[$.NONE=0]="NONE",$[$.OK=1]="OK",$[$.ERROR=2]="ERROR",$[$.START=3]="START",$[$.RUN=4]="RUN",$[$.CAPTURE=5]="CAPTURE",$))(kZ1||{}),jZ1=(($)=>($[$.NONE=0]="NONE",$[$.WEB_WORKER=1]="WEB_WORKER",$[$.NODE_WORKER=2]="NODE_WORKER",$[$.BINDINGS=3]="BINDINGS",$[$.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",$))(jZ1||{});var EZ1=(($)=>($[$.SUCCESS=0]="SUCCESS",$[$.MAX_ARROW_ERROR=255]="MAX_ARROW_ERROR",$[$.DUCKDB_WASM_RETRY=256]="DUCKDB_WASM_RETRY",$))(EZ1||{});var LZ1=(($)=>($.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",$.CLOSE_PREPARED="CLOSE_PREPARED",$.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",$.REGISTER_OPFS_FILE_NAME="REGISTER_OPFS_FILE_NAME",$.CONNECT="CONNECT",$.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",$.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",$.CREATE_PREPARED="CREATE_PREPARED",$.DISCONNECT="DISCONNECT",$.DROP_FILE="DROP_FILE",$.DROP_FILES="DROP_FILES",$.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",$.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",$.FLUSH_FILES="FLUSH_FILES",$.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",$.GET_TABLE_NAMES="GET_TABLE_NAMES",$.GET_VERSION="GET_VERSION",$.GLOB_FILE_INFOS="GLOB_FILE_INFOS",$.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",$.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",$.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",$.INSTANTIATE="INSTANTIATE",$.OPEN="OPEN",$.PING="PING",$.POLL_PENDING_QUERY="POLL_PENDING_QUERY",$.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",$.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",$.REGISTER_FILE_URL="REGISTER_FILE_URL",$.RESET="RESET",$.RUN_PREPARED="RUN_PREPARED",$.RUN_QUERY="RUN_QUERY",$.SEND_PREPARED="SEND_PREPARED",$.START_PENDING_QUERY="START_PENDING_QUERY",$.TOKENIZE="TOKENIZE",$))(LZ1||{}),hZ1=(($)=>($.CONNECTION_INFO="CONNECTION_INFO",$.ERROR="ERROR",$.FEATURE_FLAGS="FEATURE_FLAGS",$.FILE_BUFFER="FILE_BUFFER",$.FILE_INFOS="FILE_INFOS",$.FILE_SIZE="FILE_SIZE",$.FILE_STATISTICS="FILE_STATISTICS",$.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",$.LOG="LOG",$.PROGRESS_UPDATE="PROGRESS_UPDATE",$.OK="OK",$.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",$.QUERY_PLAN="QUERY_PLAN",$.QUERY_RESULT="QUERY_RESULT",$.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",$.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",$.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",$.REGISTERED_FILE="REGISTERED_FILE",$.SCRIPT_TOKENS="SCRIPT_TOKENS",$.SUCCESS="SUCCESS",$.TABLE_NAMES="TABLE_NAMES",$.VERSION_STRING="VERSION_STRING",$))(hZ1||{});function vZ1(){let $=new TextDecoder;return(Q)=>(typeof SharedArrayBuffer<"u"&&Q.buffer instanceof SharedArrayBuffer&&(Q=new Uint8Array(Q)),$.decode(Q))}var fd1=vZ1(),Fp=(($)=>($[$.BUFFER=0]="BUFFER",$[$.NODE_FS=1]="NODE_FS",$[$.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",$[$.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",$[$.HTTP=4]="HTTP",$[$.S3=5]="S3",$))(Fp||{});var Up={name:"@duckdb/duckdb-wasm",version:"1.30.0",description:"DuckDB powered by WebAssembly",license:"MIT",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^17.0.0"},devDependencies:{"@types/emscripten":"^1.39.10","@types/jasmine":"^5.1.4","@typescript-eslint/eslint-plugin":"^6.21.0","@typescript-eslint/parser":"^6.21.0",esbuild:"^0.20.2",eslint:"^8.57.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.34.0","fast-glob":"^3.3.2",jasmine:"^5.1.0","jasmine-core":"^5.1.2","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.11.1",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-coverage":"^2.2.1","karma-firefox-launcher":"^2.1.3","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.1.0","karma-sourcemap-loader":"^0.4.0","karma-spec-reporter":"^0.0.36","make-dir":"^4.0.0",nyc:"^15.1.0",prettier:"^3.2.5",puppeteer:"^22.8.0",rimraf:"^5.0.5",s3rver:"^3.7.1",typedoc:"^0.25.13",typescript:"^5.3.3","wasm-feature-detect":"^1.6.1","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",format:'prettier --write "**/*.+(js|ts)"',report:"node ./coverage.mjs","test:node":"node --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/tests-*","!dist/duckdb-browser-mvp.worker.js.map","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-node-blocking.d.ts",import:"./dist/duckdb-node-blocking.mjs",require:"./dist/duckdb-node-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},Id1=Up.name,Md1=Up.version,Hp=Up.version.split("."),bd1=Hp[0],gd1=Hp[1],yd1=Hp[2];var xd1=OZ1(wZ1());var hQ=r1(R7(),1);function Dz0(){let{db:$,refreshTables:Q}=W4(),[J,K]=Np.useState("orgunits"),[Y,Z]=Np.useState("");return hQ.jsxDEV("div",{className:"p-4 border rounded-2xl bg-gray-50",children:[hQ.jsxDEV("div",{className:"flex items-center gap-2",children:[hQ.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"Upload Parquet File"},void 0,!1,void 0,this),hQ.jsxDEV("input",{type:"file",accept:".parquet",onChange:async(X)=>{let W=X.target.files?.[0];if(!W||!$)return;Z("Registering...");try{await $.registerFileHandle(W.name,W,Fp.BROWSER_FILEREADER);let F=await $.connect();await F.query(`CREATE OR REPLACE TABLE ${J} AS SELECT * FROM read_parquet('${W.name}')`),await F.close(),Z(`✅ Registered table: ${J}`),Q()}catch(F){console.error(F),Z("❌ Failed to register file")}}},void 0,!1,void 0,this)]},void 0,!0,void 0,this),hQ.jsxDEV("div",{className:"flex items-center gap-2",children:[hQ.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"Table Name"},void 0,!1,void 0,this),hQ.jsxDEV("input",{type:"text",value:J,onChange:(X)=>K(X.target.value),className:"border rounded px-2 py-1"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),Y&&hQ.jsxDEV("div",{className:"mt-2 text-sm text-gray-700",children:Y},void 0,!1,void 0,this),J&&hQ.jsxDEV("div",{className:"mt-1 text-xs text-gray-500",children:["Table name: ",hQ.jsxDEV("code",{children:J},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)}$K();var mY=r1(z7(),1),zG=r1(R7(),1);function Cz0({config:$,onFilterChange:Q,filters:J}){let{db:K}=W4(),[Y,Z]=mY.useState([]),[q,X]=mY.useState([]);mY.useEffect(()=>{if(console.log(`FilterWidget ${$.id} useEffect (fetchOptions) running. Filters:`,J),!K)return;(async()=>{let H=await K.connect(),B=`SELECT DISTINCT ${$.source.column} FROM ${$.source.dataSource}`,z=[];if($.dependsOn&&J[$.dependsOn]&&J[$.dependsOn].length>0){let O=J[$.dependsOn],T=O.map(()=>"?").join(", ");B+=` WHERE ${$.dependsOn} IN (${T})`,z=O}let G=(await(await H.prepare(B)).query(...z)).toArray().map((O)=>O[$.source.column]);Z(G),console.log(`FilterWidget ${$.id} fetched options:`,G)})()},[K,$,J]),mY.useEffect(()=>{let F=J[$.id]||[];if(q.length!==F.length||q.some((H,B)=>H!==F[B]))console.log(`FilterWidget ${$.id} synchronizing selected from parent. Parent:`,F,"Current:",q),X(F)},[J,$.id,q]),mY.useEffect(()=>{if(Y.length>0&&q.length>0){let F=q.filter((H)=>Y.includes(H));if(F.length!==q.length)console.log(`FilterWidget ${$.id} clearing invalid selections. New selected:`,F),X(F),Q($.id,F)}},[Y,q,$.id,Q]),console.log(`FilterWidget ${$.id} rendering. Selected:`,q);let W=mY.useCallback((F)=>{let H=Array.from(F.target.selectedOptions,(B)=>B.value);console.log(`FilterWidget ${$.id} handleChange. Selected options:`,H),X(H),Q($.id,H)},[$.id,Q]);return zG.jsxDEV("div",{className:"p-4 border rounded-2xl bg-gray-50",children:[zG.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:$.label},void 0,!1,void 0,this),zG.jsxDEV("select",{multiple:!0,onChange:W,value:q,className:"block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:Y.map((F)=>zG.jsxDEV("option",{value:F,children:F},F,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}$K();var XQ=r1(R7(),1),TI1={keyNumber:wJ.lazy(()=>Promise.resolve().then(() => (kz0(),Pz0)).then(($)=>({default:$.KeyNumberWidget}))),table:wJ.lazy(()=>Promise.resolve().then(() => (Ez0(),jz0)).then(($)=>({default:$.TableWidget}))),map:wJ.lazy(()=>Promise.resolve().then(() => (Jj0(),Qj0)).then(($)=>({default:$.MapWidget}))),bar_chart:wJ.lazy(()=>Promise.resolve().then(() => (is0(),rs0)).then(($)=>({default:$.BarWidget})))};function DI1({children:$,itemKey:Q}){let{tableVersion:J}=W4();if(J>0)return XQ.jsxDEV("div",{children:$},Q,!1,void 0,this);return XQ.jsxDEV("div",{},Q,!1,void 0,this)}var ss0=wJ.default.memo(({config:$,filters:Q,onFilterChange:J,disableMap:K=!1})=>{let Y=wJ.useCallback((Z)=>{switch(Z.type){case"ParquetUploadWidget":return XQ.jsxDEV(Dz0,{className:Z.className},"upload",!1,void 0,this);case"Filters":return XQ.jsxDEV("div",{className:Z.className,children:$.filters.map((q)=>XQ.jsxDEV(Cz0,{config:q,filters:Q,onFilterChange:J},"filter-"+q.id,!1,void 0,this))},"filters",!1,void 0,this);case"Widget":case"ConditionalWidget":{if(Z.type==="ConditionalWidget"){if(Z.invertCondition?K:!K)return null}let q=$.widgets[Z.widgetKey];if(!q)throw Error("no widget key for "+Z.widgetKey);let X=TI1[q.type];if(!X)throw Error("no widget for "+Z.widgetKey+" "+q.type);return XQ.jsxDEV(wJ.Suspense,{fallback:XQ.jsxDEV("div",{children:"Loading Widget..."},void 0,!1,void 0,this),children:XQ.jsxDEV(X,{config:q,filters:Q},void 0,!1,void 0,this)},Z.widgetKey,!1,void 0,this)}case"Container":return XQ.jsxDEV("div",{className:Z.className,children:[" ",Z.children?.map((q)=>Y(q))]},Z.key||Z.type,!0,void 0,this);default:return null}},[$,Q,J,K]);return XQ.jsxDEV("div",{className:"space-y-4 p-4",children:$.layout?.map((Z)=>Z.type=="ParquetUploadWidget"?Y(Z):XQ.jsxDEV(DI1,{itemKey:Z.key||Z.type,children:[" ",Y(Z)]},Z.key||Z.type,!0,void 0,this))},void 0,!1,void 0,this)});var f80=r1(R7(),1);function os0(){let{tableVersion:$}=W4(),[Q,J]=lM.useState({}),K=(Z,q)=>{J((X)=>({...X,[Z]:q}))},Y=lM.useMemo(()=>Q,[Q]);return f80.jsxDEV("div",{className:"space-y-4 p-4",children:f80.jsxDEV(ss0,{config:JK0,filters:Y,onFilterChange:K,disableMap:!0},void 0,!1,void 0,this)},void 0,!1,void 0,this)}$K();var rM=r1(R7(),1);function as0(){return rM.jsxDEV("div",{className:"app",children:rM.jsxDEV(Oz0,{children:rM.jsxDEV(os0,{},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var I80=r1(R7(),1),CI1=document.getElementById("root"),PI1=I80.jsxDEV(ts0.StrictMode,{children:I80.jsxDEV(as0,{},void 0,!1,void 0,this)},void 0,!1,void 0,this);es0.createRoot(CI1).render(PI1);

//# debugId=829F612BA728B24D64756E2164756E21
//# sourceMappingURL=index-ncbz0byf.js.map
