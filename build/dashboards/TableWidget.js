var jR=Object.create;var{getPrototypeOf:xR,defineProperty:ZX,getOwnPropertyNames:Wq,getOwnPropertyDescriptor:yR}=Object,Jq=Object.prototype.hasOwnProperty;var T1=(Z,X,$)=>{$=Z!=null?jR(xR(Z)):{};let Y=X||!Z||!Z.__esModule?ZX($,"default",{value:Z,enumerable:!0}):$;for(let Q of Wq(Z))if(!Jq.call(Y,Q))ZX(Y,Q,{get:()=>Z[Q],enumerable:!0});return Y},qq=new WeakMap,cZ=(Z)=>{var X=qq.get(Z),$;if(X)return X;if(X=ZX({},"__esModule",{value:!0}),Z&&typeof Z==="object"||typeof Z==="function")Wq(Z).map((Y)=>!Jq.call(X,Y)&&ZX(X,Y,{get:()=>Z[Y],enumerable:!($=yR(Z,Y))||$.enumerable}));return qq.set(Z,X),X},F=(Z,X)=>()=>(X||Z((X={exports:{}}).exports,X),X.exports);var Kq=(Z,X)=>{for(var $ in X)ZX(Z,$,{get:X[$],enumerable:!0,configurable:!0,set:(Y)=>X[$]=()=>Y})};var YY=(Z,X)=>()=>(Z&&(X=Z(Z=0)),X);var XX=F((mR,H8)=>{(function(){function Z(J,G){Object.defineProperty(Y.prototype,J,{get:function(){console.warn("%s(...) is deprecated in plain JavaScript React classes. %s",G[0],G[1])}})}function X(J){if(J===null||typeof J!=="object")return null;return J=E6&&J[E6]||J["@@iterator"],typeof J==="function"?J:null}function $(J,G){J=(J=J.constructor)&&(J.displayName||J.name)||"ReactClass";var A=J+"."+G;eX[A]||(console.error("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",G,J),eX[A]=!0)}function Y(J,G,A){this.props=J,this.context=G,this.refs=XY,this.updater=A||o4}function Q(){}function H(J,G,A){this.props=J,this.context=G,this.refs=XY,this.updater=A||o4}function q(J){return""+J}function W(J){try{q(J);var G=!1}catch(C){G=!0}if(G){G=console;var A=G.error,D=typeof Symbol==="function"&&Symbol.toStringTag&&J[Symbol.toStringTag]||J.constructor.name||"Object";return A.call(G,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",D),q(J)}}function K(J){if(J==null)return null;if(typeof J==="function")return J.$$typeof===VR?null:J.displayName||J.name||null;if(typeof J==="string")return J;switch(J){case P6:return"Fragment";case c:return"Profiler";case M:return"StrictMode";case V1:return"Suspense";case d1:return"SuspenseList";case l1:return"Activity"}if(typeof J==="object")switch(typeof J.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),J.$$typeof){case tX:return"Portal";case wZ:return(J.displayName||"Context")+".Provider";case HZ:return(J._context.displayName||"Context")+".Consumer";case I1:var G=J.render;return J=J.displayName,J||(J=G.displayName||G.name||"",J=J!==""?"ForwardRef("+J+")":"ForwardRef"),J;case T0:return G=J.displayName||null,G!==null?G:K(J.type)||"Memo";case UZ:G=J._payload,J=J._init;try{return K(J(G))}catch(A){}}return null}function P(J){if(J===P6)return"<>";if(typeof J==="object"&&J!==null&&J.$$typeof===UZ)return"<...>";try{var G=K(J);return G?"<"+G+">":"<...>"}catch(A){return"<...>"}}function E(){var J=u.A;return J===null?null:J.getOwner()}function U(){return Error("react-stack-top-frame")}function _(J){if(X8.call(J,"key")){var G=Object.getOwnPropertyDescriptor(J,"key").get;if(G&&G.isReactWarning)return!1}return J.key!==void 0}function j(J,G){function A(){t4||(t4=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",G))}A.isReactWarning=!0,Object.defineProperty(J,"key",{get:A,configurable:!0})}function n(){var J=K(this.type);return Zq[J]||(Zq[J]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),J=this.props.ref,J!==void 0?J:null}function PZ(J,G,A,D,C,p,f,s){return A=p.ref,J={$$typeof:e6,type:J,key:G,props:p,_owner:C},(A!==void 0?A:null)!==null?Object.defineProperty(J,"ref",{enumerable:!1,get:n}):Object.defineProperty(J,"ref",{enumerable:!1,value:null}),J._store={},Object.defineProperty(J._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(J,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(J,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:f}),Object.defineProperty(J,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:s}),Object.freeze&&(Object.freeze(J.props),Object.freeze(J)),J}function LZ(J,G){return G=PZ(J.type,G,void 0,void 0,J._owner,J.props,J._debugStack,J._debugTask),J._store&&(G._store.validated=J._store.validated),G}function i(J){return typeof J==="object"&&J!==null&&J.$$typeof===e6}function B1(J){var G={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(A){return G[A]})}function P1(J,G){return typeof J==="object"&&J!==null&&J.key!=null?(W(J.key),B1(""+J.key)):G.toString(36)}function uZ(){}function Z1(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status==="string"?J.then(uZ,uZ):(J.status="pending",J.then(function(G){J.status==="pending"&&(J.status="fulfilled",J.value=G)},function(G){J.status==="pending"&&(J.status="rejected",J.reason=G)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function E1(J,G,A,D,C){var p=typeof J;if(p==="undefined"||p==="boolean")J=null;var f=!1;if(J===null)f=!0;else switch(p){case"bigint":case"string":case"number":f=!0;break;case"object":switch(J.$$typeof){case e6:case tX:f=!0;break;case UZ:return f=J._init,E1(f(J._payload),G,A,D,C)}}if(f){f=J,C=C(f);var s=D===""?"."+P1(f,0):D;return s4(C)?(A="",s!=null&&(A=s.replace($q,"$&/")+"/"),E1(C,G,A,"",function(n1){return n1})):C!=null&&(i(C)&&(C.key!=null&&(f&&f.key===C.key||W(C.key)),A=LZ(C,A+(C.key==null||f&&f.key===C.key?"":(""+C.key).replace($q,"$&/")+"/")+s),D!==""&&f!=null&&i(f)&&f.key==null&&f._store&&!f._store.validated&&(A._store.validated=2),C=A),G.push(C)),1}if(f=0,s=D===""?".":D+":",s4(J))for(var b=0;b<J.length;b++)D=J[b],p=s+P1(D,b),f+=E1(D,G,A,p,C);else if(b=X(J),typeof b==="function")for(b===J.entries&&(Xq||console.warn("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Xq=!0),J=b.call(J),b=0;!(D=J.next()).done;)D=D.value,p=s+P1(D,b++),f+=E1(D,G,A,p,C);else if(p==="object"){if(typeof J.then==="function")return E1(Z1(J),G,A,D,C);throw G=String(J),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return f}function S0(J,G,A){if(J==null)return J;var D=[],C=0;return E1(J,D,"","",function(p){return G.call(A,p,C++)}),D}function ZY(J){if(J._status===-1){var G=J._result;G=G(),G.then(function(A){if(J._status===0||J._status===-1)J._status=1,J._result=A},function(A){if(J._status===0||J._status===-1)J._status=2,J._result=A}),J._status===-1&&(J._status=0,J._result=G)}if(J._status===1)return G=J._result,G===void 0&&console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,G),"default"in G||console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,G),G.default;throw J._result}function EZ(){var J=u.H;return J===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),J}function rX(){}function B0(J){if($8===null)try{var G=("require"+Math.random()).slice(0,7);$8=(H8&&H8[G]).call(H8,"timers").setImmediate}catch(A){$8=function(D){Qq===!1&&(Qq=!0,typeof MessageChannel>"u"&&console.error("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var C=new MessageChannel;C.port1.onmessage=D,C.port2.postMessage(void 0)}}return $8(J)}function I0(J){return 1<J.length&&typeof AggregateError==="function"?AggregateError(J):J[0]}function V0(J,G){G!==Y8-1&&console.error("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),Y8=G}function J6(J,G,A){var D=u.actQueue;if(D!==null)if(D.length!==0)try{K6(D),B0(function(){return J6(J,G,A)});return}catch(C){u.thrownErrors.push(C)}else u.actQueue=null;0<u.thrownErrors.length?(D=I0(u.thrownErrors),u.thrownErrors.length=0,A(D)):G(J)}function K6(J){if(!$Y){$Y=!0;var G=0;try{for(;G<J.length;G++){var A=J[G];do{u.didUsePromise=!1;var D=A(!1);if(D!==null){if(u.didUsePromise){J[G]=A,J.splice(0,G);return}A=D}else break}while(1)}J.length=0}catch(C){J.splice(0,G+1),u.thrownErrors.push(C)}finally{$Y=!1}}}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var e6=Symbol.for("react.transitional.element"),tX=Symbol.for("react.portal"),P6=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),HZ=Symbol.for("react.consumer"),wZ=Symbol.for("react.context"),I1=Symbol.for("react.forward_ref"),V1=Symbol.for("react.suspense"),d1=Symbol.for("react.suspense_list"),T0=Symbol.for("react.memo"),UZ=Symbol.for("react.lazy"),l1=Symbol.for("react.activity"),E6=Symbol.iterator,eX={},o4={isMounted:function(){return!1},enqueueForceUpdate:function(J){$(J,"forceUpdate")},enqueueReplaceState:function(J){$(J,"replaceState")},enqueueSetState:function(J){$(J,"setState")}},i4=Object.assign,XY={};Object.freeze(XY),Y.prototype.isReactComponent={},Y.prototype.setState=function(J,G){if(typeof J!=="object"&&typeof J!=="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,G,"setState")},Y.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};var pZ={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},Z8;for(Z8 in pZ)pZ.hasOwnProperty(Z8)&&Z(Z8,pZ[Z8]);Q.prototype=Y.prototype,pZ=H.prototype=new Q,pZ.constructor=H,i4(pZ,Y.prototype),pZ.isPureReactComponent=!0;var s4=Array.isArray,VR=Symbol.for("react.client.reference"),u={H:null,A:null,T:null,S:null,V:null,actQueue:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1,didUsePromise:!1,thrownErrors:[],getCurrentStack:null,recentlyCreatedOwnerStacks:0},X8=Object.prototype.hasOwnProperty,r4=console.createTask?console.createTask:function(){return null};pZ={react_stack_bottom_frame:function(J){return J()}};var t4,e4,Zq={},TR=pZ.react_stack_bottom_frame.bind(pZ,U)(),vR=r4(P(U)),Xq=!1,$q=/\/+/g,Yq=typeof reportError==="function"?reportError:function(J){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J==="object"&&J!==null&&typeof J.message==="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(G))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",J);return}console.error(J)},Qq=!1,$8=null,Y8=0,Q8=!1,$Y=!1,Hq=typeof queueMicrotask==="function"?function(J){queueMicrotask(function(){return queueMicrotask(J)})}:B0;pZ=Object.freeze({__proto__:null,c:function(J){return EZ().useMemoCache(J)}}),mR.Children={map:S0,forEach:function(J,G,A){S0(J,function(){G.apply(this,arguments)},A)},count:function(J){var G=0;return S0(J,function(){G++}),G},toArray:function(J){return S0(J,function(G){return G})||[]},only:function(J){if(!i(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},mR.Component=Y,mR.Fragment=P6,mR.Profiler=c,mR.PureComponent=H,mR.StrictMode=M,mR.Suspense=V1,mR.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,mR.__COMPILER_RUNTIME=pZ,mR.act=function(J){var G=u.actQueue,A=Y8;Y8++;var D=u.actQueue=G!==null?G:[],C=!1;try{var p=J()}catch(b){u.thrownErrors.push(b)}if(0<u.thrownErrors.length)throw V0(G,A),J=I0(u.thrownErrors),u.thrownErrors.length=0,J;if(p!==null&&typeof p==="object"&&typeof p.then==="function"){var f=p;return Hq(function(){C||Q8||(Q8=!0,console.error("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),{then:function(b,n1){C=!0,f.then(function(G6){if(V0(G,A),A===0){try{K6(D),B0(function(){return J6(G6,b,n1)})}catch(hR){u.thrownErrors.push(hR)}if(0<u.thrownErrors.length){var gR=I0(u.thrownErrors);u.thrownErrors.length=0,n1(gR)}}else b(G6)},function(G6){V0(G,A),0<u.thrownErrors.length?(G6=I0(u.thrownErrors),u.thrownErrors.length=0,n1(G6)):n1(G6)})}}}var s=p;if(V0(G,A),A===0&&(K6(D),D.length!==0&&Hq(function(){C||Q8||(Q8=!0,console.error("A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"))}),u.actQueue=null),0<u.thrownErrors.length)throw J=I0(u.thrownErrors),u.thrownErrors.length=0,J;return{then:function(b,n1){C=!0,A===0?(u.actQueue=D,B0(function(){return J6(s,b,n1)})):b(s)}}},mR.cache=function(J){return function(){return J.apply(null,arguments)}},mR.captureOwnerStack=function(){var J=u.getCurrentStack;return J===null?null:J()},mR.cloneElement=function(J,G,A){if(J===null||J===void 0)throw Error("The argument must be a React element, but you passed "+J+".");var D=i4({},J.props),C=J.key,p=J._owner;if(G!=null){var f;Z:{if(X8.call(G,"ref")&&(f=Object.getOwnPropertyDescriptor(G,"ref").get)&&f.isReactWarning){f=!1;break Z}f=G.ref!==void 0}f&&(p=E()),_(G)&&(W(G.key),C=""+G.key);for(s in G)!X8.call(G,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&G.ref===void 0||(D[s]=G[s])}var s=arguments.length-2;if(s===1)D.children=A;else if(1<s){f=Array(s);for(var b=0;b<s;b++)f[b]=arguments[b+2];D.children=f}D=PZ(J.type,C,void 0,void 0,p,D,J._debugStack,J._debugTask);for(C=2;C<arguments.length;C++)p=arguments[C],i(p)&&p._store&&(p._store.validated=1);return D},mR.createContext=function(J){return J={$$typeof:wZ,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:HZ,_context:J},J._currentRenderer=null,J._currentRenderer2=null,J},mR.createElement=function(J,G,A){for(var D=2;D<arguments.length;D++){var C=arguments[D];i(C)&&C._store&&(C._store.validated=1)}if(D={},C=null,G!=null)for(b in e4||!("__self"in G)||"key"in G||(e4=!0,console.warn("Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform")),_(G)&&(W(G.key),C=""+G.key),G)X8.call(G,b)&&b!=="key"&&b!=="__self"&&b!=="__source"&&(D[b]=G[b]);var p=arguments.length-2;if(p===1)D.children=A;else if(1<p){for(var f=Array(p),s=0;s<p;s++)f[s]=arguments[s+2];Object.freeze&&Object.freeze(f),D.children=f}if(J&&J.defaultProps)for(b in p=J.defaultProps,p)D[b]===void 0&&(D[b]=p[b]);C&&j(D,typeof J==="function"?J.displayName||J.name||"Unknown":J);var b=1e4>u.recentlyCreatedOwnerStacks++;return PZ(J,C,void 0,void 0,E(),D,b?Error("react-stack-top-frame"):TR,b?r4(P(J)):vR)},mR.createRef=function(){var J={current:null};return Object.seal(J),J},mR.forwardRef=function(J){J!=null&&J.$$typeof===T0?console.error("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof J!=="function"?console.error("forwardRef requires a render function but was given %s.",J===null?"null":typeof J):J.length!==0&&J.length!==2&&console.error("forwardRef render functions accept exactly two parameters: props and ref. %s",J.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),J!=null&&J.defaultProps!=null&&console.error("forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?");var G={$$typeof:I1,render:J},A;return Object.defineProperty(G,"displayName",{enumerable:!1,configurable:!0,get:function(){return A},set:function(D){A=D,J.name||J.displayName||(Object.defineProperty(J,"name",{value:D}),J.displayName=D)}}),G},mR.isValidElement=i,mR.lazy=function(J){return{$$typeof:UZ,_payload:{_status:-1,_result:J},_init:ZY}},mR.memo=function(J,G){J==null&&console.error("memo: The first argument must be a component. Instead received: %s",J===null?"null":typeof J),G={$$typeof:T0,type:J,compare:G===void 0?null:G};var A;return Object.defineProperty(G,"displayName",{enumerable:!1,configurable:!0,get:function(){return A},set:function(D){A=D,J.name||J.displayName||(Object.defineProperty(J,"name",{value:D}),J.displayName=D)}}),G},mR.startTransition=function(J){var G=u.T,A={};u.T=A,A._updatedFibers=new Set;try{var D=J(),C=u.S;C!==null&&C(A,D),typeof D==="object"&&D!==null&&typeof D.then==="function"&&D.then(rX,Yq)}catch(p){Yq(p)}finally{G===null&&A._updatedFibers&&(J=A._updatedFibers.size,A._updatedFibers.clear(),10<J&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.")),u.T=G}},mR.unstable_useCacheRefresh=function(){return EZ().useCacheRefresh()},mR.use=function(J){return EZ().use(J)},mR.useActionState=function(J,G,A){return EZ().useActionState(J,G,A)},mR.useCallback=function(J,G){return EZ().useCallback(J,G)},mR.useContext=function(J){var G=EZ();return J.$$typeof===HZ&&console.error("Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"),G.useContext(J)},mR.useDebugValue=function(J,G){return EZ().useDebugValue(J,G)},mR.useDeferredValue=function(J,G){return EZ().useDeferredValue(J,G)},mR.useEffect=function(J,G,A){J==null&&console.warn("React Hook useEffect requires an effect callback. Did you forget to pass a callback to the hook?");var D=EZ();if(typeof A==="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return D.useEffect(J,G)},mR.useId=function(){return EZ().useId()},mR.useImperativeHandle=function(J,G,A){return EZ().useImperativeHandle(J,G,A)},mR.useInsertionEffect=function(J,G){return J==null&&console.warn("React Hook useInsertionEffect requires an effect callback. Did you forget to pass a callback to the hook?"),EZ().useInsertionEffect(J,G)},mR.useLayoutEffect=function(J,G){return J==null&&console.warn("React Hook useLayoutEffect requires an effect callback. Did you forget to pass a callback to the hook?"),EZ().useLayoutEffect(J,G)},mR.useMemo=function(J,G){return EZ().useMemo(J,G)},mR.useOptimistic=function(J,G){return EZ().useOptimistic(J,G)},mR.useReducer=function(J,G,A){return EZ().useReducer(J,G,A)},mR.useRef=function(J){return EZ().useRef(J)},mR.useState=function(J){return EZ().useState(J)},mR.useSyncExternalStore=function(J,G,A){return EZ().useSyncExternalStore(J,G,A)},mR.useTransition=function(){return EZ().useTransition()},mR.version="19.1.1",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});class QY{config;filters;db;constructor(Z,X,$){this.db=Z,this.config=X,console.log("QueryModel constructor - incoming filters:",$),this.filters=Array.isArray($)?$:[],console.log("QueryModel constructor - this.filters after assignment:",this.filters)}buildSQL(){let Z=this.config.params,X=Z.dataSource.split("__")[0],$=Z.queryMode==="aggregate",Y=[];if($){if(Z.groupBy?.length)Y.push(...Z.groupBy);for(let E of Z.metrics??[])if(typeof E==="string")Y.push(E);else if(E.sqlExpression&&E.label)Y.push(`${E.sqlExpression} AS "${E.label}"`);else if(E.aggregate&&typeof E.column!=="string"&&E.column?.column_name&&E.label)Y.push(`${E.aggregate}(${E.column.column_name}) AS "${E.label}"`)}else if(Z.columns&&Z.columns.length>0){let E=Z.columns.map((U)=>{return U.label?`${U.column} AS "${U.label}"`:U.column});Y.push(E.join(", "))}else Y.push("*");if(Y.length===0&&Z.groupBy?.length)Y.push(...Z.groupBy);else if(Y.length===0)Y.push("*");let Q=`SELECT ${Y.join(", ")} FROM ${X}`,H=[],q=Z.adhocFilters??[],W=[],K=[...q,...W],P=[];for(let E of K){let U=this.filterToSQL(E);if(U)P.push(U.sql),H=H.concat(U.params)}if(P.length)Q+=` WHERE ${P.join(" AND ")}`;if($&&Z.groupBy?.length)Q+=` GROUP BY ${Z.groupBy.join(", ")}`;if(Z.rowLimit)Q+=` LIMIT ${Z.rowLimit}`;return{sql:Q,params:H}}filterToSQL(Z){if(Z.operator==="IN"&&Array.isArray(Z.comparator)){let X=Z.comparator.map(()=>"?").join(", ");return{sql:`${Z.subject} IN (${X})`,params:Z.comparator}}if(Z.operator==="=")return{sql:`${Z.subject} = ?`,params:[Z.comparator]};return null}async execute(){let Z=await this.db.connect(),X=this.config.params.dataSource.split("__")[0];try{if((await Z.query(`SELECT 1 FROM information_schema.tables WHERE table_name = '${X}'`)).numRows===0)return console.warn(`Table '${X}' does not exist.`),[];let{sql:Y,params:Q}=this.buildSQL();return console.log(this.config.label,"executing query "+Y,Q),(await(await Z.prepare(Y)).query(...Q)).toArray()}catch($){return console.error("Error executing query:",$),[]}finally{await Z.close()}}}var vZ={};Kq(vZ,{default:()=>bR,__values:()=>W8,__spreadArrays:()=>Cq,__spreadArray:()=>wq,__spread:()=>Dq,__setFunctionName:()=>Uq,__runInitializers:()=>zq,__rewriteRelativeImportExtension:()=>yq,__rest:()=>Eq,__read:()=>WY,__propKey:()=>Fq,__param:()=>Nq,__metadata:()=>Lq,__makeTemplateObject:()=>Iq,__importStar:()=>Vq,__importDefault:()=>Tq,__generator:()=>Aq,__extends:()=>Pq,__exportStar:()=>Oq,__esDecorate:()=>Rq,__disposeResources:()=>xq,__decorate:()=>Gq,__createBinding:()=>J8,__classPrivateFieldSet:()=>gq,__classPrivateFieldIn:()=>hq,__classPrivateFieldGet:()=>vq,__awaiter:()=>Mq,__await:()=>N6,__asyncValues:()=>Bq,__asyncGenerator:()=>kq,__asyncDelegator:()=>Sq,__assign:()=>q8,__addDisposableResource:()=>jq});function Pq(Z,X){if(typeof X!=="function"&&X!==null)throw TypeError("Class extends value "+String(X)+" is not a constructor or null");HY(Z,X);function $(){this.constructor=Z}Z.prototype=X===null?Object.create(X):($.prototype=X.prototype,new $)}function Eq(Z,X){var $={};for(var Y in Z)if(Object.prototype.hasOwnProperty.call(Z,Y)&&X.indexOf(Y)<0)$[Y]=Z[Y];if(Z!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var Q=0,Y=Object.getOwnPropertySymbols(Z);Q<Y.length;Q++)if(X.indexOf(Y[Q])<0&&Object.prototype.propertyIsEnumerable.call(Z,Y[Q]))$[Y[Q]]=Z[Y[Q]]}return $}function Gq(Z,X,$,Y){var Q=arguments.length,H=Q<3?X:Y===null?Y=Object.getOwnPropertyDescriptor(X,$):Y,q;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")H=Reflect.decorate(Z,X,$,Y);else for(var W=Z.length-1;W>=0;W--)if(q=Z[W])H=(Q<3?q(H):Q>3?q(X,$,H):q(X,$))||H;return Q>3&&H&&Object.defineProperty(X,$,H),H}function Nq(Z,X){return function($,Y){X($,Y,Z)}}function Rq(Z,X,$,Y,Q,H){function q(i){if(i!==void 0&&typeof i!=="function")throw TypeError("Function expected");return i}var W=Y.kind,K=W==="getter"?"get":W==="setter"?"set":"value",P=!X&&Z?Y.static?Z:Z.prototype:null,E=X||(P?Object.getOwnPropertyDescriptor(P,Y.name):{}),U,_=!1;for(var j=$.length-1;j>=0;j--){var n={};for(var PZ in Y)n[PZ]=PZ==="access"?{}:Y[PZ];for(var PZ in Y.access)n.access[PZ]=Y.access[PZ];n.addInitializer=function(i){if(_)throw TypeError("Cannot add initializers after decoration has completed");H.push(q(i||null))};var LZ=(0,$[j])(W==="accessor"?{get:E.get,set:E.set}:E[K],n);if(W==="accessor"){if(LZ===void 0)continue;if(LZ===null||typeof LZ!=="object")throw TypeError("Object expected");if(U=q(LZ.get))E.get=U;if(U=q(LZ.set))E.set=U;if(U=q(LZ.init))Q.unshift(U)}else if(U=q(LZ))if(W==="field")Q.unshift(U);else E[K]=U}if(P)Object.defineProperty(P,Y.name,E);_=!0}function zq(Z,X,$){var Y=arguments.length>2;for(var Q=0;Q<X.length;Q++)$=Y?X[Q].call(Z,$):X[Q].call(Z);return Y?$:void 0}function Fq(Z){return typeof Z==="symbol"?Z:"".concat(Z)}function Uq(Z,X,$){if(typeof X==="symbol")X=X.description?"[".concat(X.description,"]"):"";return Object.defineProperty(Z,"name",{configurable:!0,value:$?"".concat($," ",X):X})}function Lq(Z,X){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(Z,X)}function Mq(Z,X,$,Y){function Q(H){return H instanceof $?H:new $(function(q){q(H)})}return new($||($=Promise))(function(H,q){function W(E){try{P(Y.next(E))}catch(U){q(U)}}function K(E){try{P(Y.throw(E))}catch(U){q(U)}}function P(E){E.done?H(E.value):Q(E.value).then(W,K)}P((Y=Y.apply(Z,X||[])).next())})}function Aq(Z,X){var $={label:0,sent:function(){if(H[0]&1)throw H[1];return H[1]},trys:[],ops:[]},Y,Q,H,q=Object.create((typeof Iterator==="function"?Iterator:Object).prototype);return q.next=W(0),q.throw=W(1),q.return=W(2),typeof Symbol==="function"&&(q[Symbol.iterator]=function(){return this}),q;function W(P){return function(E){return K([P,E])}}function K(P){if(Y)throw TypeError("Generator is already executing.");while(q&&(q=0,P[0]&&($=0)),$)try{if(Y=1,Q&&(H=P[0]&2?Q.return:P[0]?Q.throw||((H=Q.return)&&H.call(Q),0):Q.next)&&!(H=H.call(Q,P[1])).done)return H;if(Q=0,H)P=[P[0]&2,H.value];switch(P[0]){case 0:case 1:H=P;break;case 4:return $.label++,{value:P[1],done:!1};case 5:$.label++,Q=P[1],P=[0];continue;case 7:P=$.ops.pop(),$.trys.pop();continue;default:if((H=$.trys,!(H=H.length>0&&H[H.length-1]))&&(P[0]===6||P[0]===2)){$=0;continue}if(P[0]===3&&(!H||P[1]>H[0]&&P[1]<H[3])){$.label=P[1];break}if(P[0]===6&&$.label<H[1]){$.label=H[1],H=P;break}if(H&&$.label<H[2]){$.label=H[2],$.ops.push(P);break}if(H[2])$.ops.pop();$.trys.pop();continue}P=X.call(Z,$)}catch(E){P=[6,E],Q=0}finally{Y=H=0}if(P[0]&5)throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}}function Oq(Z,X){for(var $ in Z)if($!=="default"&&!Object.prototype.hasOwnProperty.call(X,$))J8(X,Z,$)}function W8(Z){var X=typeof Symbol==="function"&&Symbol.iterator,$=X&&Z[X],Y=0;if($)return $.call(Z);if(Z&&typeof Z.length==="number")return{next:function(){if(Z&&Y>=Z.length)Z=void 0;return{value:Z&&Z[Y++],done:!Z}}};throw TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}function WY(Z,X){var $=typeof Symbol==="function"&&Z[Symbol.iterator];if(!$)return Z;var Y=$.call(Z),Q,H=[],q;try{while((X===void 0||X-- >0)&&!(Q=Y.next()).done)H.push(Q.value)}catch(W){q={error:W}}finally{try{if(Q&&!Q.done&&($=Y.return))$.call(Y)}finally{if(q)throw q.error}}return H}function Dq(){for(var Z=[],X=0;X<arguments.length;X++)Z=Z.concat(WY(arguments[X]));return Z}function Cq(){for(var Z=0,X=0,$=arguments.length;X<$;X++)Z+=arguments[X].length;for(var Y=Array(Z),Q=0,X=0;X<$;X++)for(var H=arguments[X],q=0,W=H.length;q<W;q++,Q++)Y[Q]=H[q];return Y}function wq(Z,X,$){if($||arguments.length===2){for(var Y=0,Q=X.length,H;Y<Q;Y++)if(H||!(Y in X)){if(!H)H=Array.prototype.slice.call(X,0,Y);H[Y]=X[Y]}}return Z.concat(H||Array.prototype.slice.call(X))}function N6(Z){return this instanceof N6?(this.v=Z,this):new N6(Z)}function kq(Z,X,$){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var Y=$.apply(Z,X||[]),Q,H=[];return Q=Object.create((typeof AsyncIterator==="function"?AsyncIterator:Object).prototype),W("next"),W("throw"),W("return",q),Q[Symbol.asyncIterator]=function(){return this},Q;function q(j){return function(n){return Promise.resolve(n).then(j,U)}}function W(j,n){if(Y[j]){if(Q[j]=function(PZ){return new Promise(function(LZ,i){H.push([j,PZ,LZ,i])>1||K(j,PZ)})},n)Q[j]=n(Q[j])}}function K(j,n){try{P(Y[j](n))}catch(PZ){_(H[0][3],PZ)}}function P(j){j.value instanceof N6?Promise.resolve(j.value.v).then(E,U):_(H[0][2],j)}function E(j){K("next",j)}function U(j){K("throw",j)}function _(j,n){if(j(n),H.shift(),H.length)K(H[0][0],H[0][1])}}function Sq(Z){var X,$;return X={},Y("next"),Y("throw",function(Q){throw Q}),Y("return"),X[Symbol.iterator]=function(){return this},X;function Y(Q,H){X[Q]=Z[Q]?function(q){return($=!$)?{value:N6(Z[Q](q)),done:!1}:H?H(q):q}:H}}function Bq(Z){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var X=Z[Symbol.asyncIterator],$;return X?X.call(Z):(Z=typeof W8==="function"?W8(Z):Z[Symbol.iterator](),$={},Y("next"),Y("throw"),Y("return"),$[Symbol.asyncIterator]=function(){return this},$);function Y(H){$[H]=Z[H]&&function(q){return new Promise(function(W,K){q=Z[H](q),Q(W,K,q.done,q.value)})}}function Q(H,q,W,K){Promise.resolve(K).then(function(P){H({value:P,done:W})},q)}}function Iq(Z,X){if(Object.defineProperty)Object.defineProperty(Z,"raw",{value:X});else Z.raw=X;return Z}function Vq(Z){if(Z&&Z.__esModule)return Z;var X={};if(Z!=null){for(var $=qY(Z),Y=0;Y<$.length;Y++)if($[Y]!=="default")J8(X,Z,$[Y])}return fR(X,Z),X}function Tq(Z){return Z&&Z.__esModule?Z:{default:Z}}function vq(Z,X,$,Y){if($==="a"&&!Y)throw TypeError("Private accessor was defined without a getter");if(typeof X==="function"?Z!==X||!Y:!X.has(Z))throw TypeError("Cannot read private member from an object whose class did not declare it");return $==="m"?Y:$==="a"?Y.call(Z):Y?Y.value:X.get(Z)}function gq(Z,X,$,Y,Q){if(Y==="m")throw TypeError("Private method is not writable");if(Y==="a"&&!Q)throw TypeError("Private accessor was defined without a setter");if(typeof X==="function"?Z!==X||!Q:!X.has(Z))throw TypeError("Cannot write private member to an object whose class did not declare it");return Y==="a"?Q.call(Z,$):Q?Q.value=$:X.set(Z,$),$}function hq(Z,X){if(X===null||typeof X!=="object"&&typeof X!=="function")throw TypeError("Cannot use 'in' operator on non-object");return typeof Z==="function"?X===Z:Z.has(X)}function jq(Z,X,$){if(X!==null&&X!==void 0){if(typeof X!=="object"&&typeof X!=="function")throw TypeError("Object expected.");var Y,Q;if($){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");Y=X[Symbol.asyncDispose]}if(Y===void 0){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");if(Y=X[Symbol.dispose],$)Q=Y}if(typeof Y!=="function")throw TypeError("Object not disposable.");if(Q)Y=function(){try{Q.call(this)}catch(H){return Promise.reject(H)}};Z.stack.push({value:X,dispose:Y,async:$})}else if($)Z.stack.push({async:!0});return X}function xq(Z){function X(H){Z.error=Z.hasError?new _R(H,Z.error,"An error was suppressed during disposal."):H,Z.hasError=!0}var $,Y=0;function Q(){while($=Z.stack.pop())try{if(!$.async&&Y===1)return Y=0,Z.stack.push($),Promise.resolve().then(Q);if($.dispose){var H=$.dispose.call($.value);if($.async)return Y|=2,Promise.resolve(H).then(Q,function(q){return X(q),Q()})}else Y|=1}catch(q){X(q)}if(Y===1)return Z.hasError?Promise.reject(Z.error):Promise.resolve();if(Z.hasError)throw Z.error}return Q()}function yq(Z,X){if(typeof Z==="string"&&/^\.\.?\//.test(Z))return Z.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function($,Y,Q,H,q){return Y?X?".jsx":".js":Q&&(!H||!q)?$:Q+H+"."+q.toLowerCase()+"js"});return Z}var HY=function(Z,X){return HY=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,Y){$.__proto__=Y}||function($,Y){for(var Q in Y)if(Object.prototype.hasOwnProperty.call(Y,Q))$[Q]=Y[Q]},HY(Z,X)},q8=function(){return q8=Object.assign||function(X){for(var $,Y=1,Q=arguments.length;Y<Q;Y++){$=arguments[Y];for(var H in $)if(Object.prototype.hasOwnProperty.call($,H))X[H]=$[H]}return X},q8.apply(this,arguments)},J8,fR,qY=function(Z){return qY=Object.getOwnPropertyNames||function(X){var $=[];for(var Y in X)if(Object.prototype.hasOwnProperty.call(X,Y))$[$.length]=Y;return $},qY(Z)},_R,bR;var gZ=YY(()=>{J8=Object.create?function(Z,X,$,Y){if(Y===void 0)Y=$;var Q=Object.getOwnPropertyDescriptor(X,$);if(!Q||("get"in Q?!X.__esModule:Q.writable||Q.configurable))Q={enumerable:!0,get:function(){return X[$]}};Object.defineProperty(Z,Y,Q)}:function(Z,X,$,Y){if(Y===void 0)Y=$;Z[Y]=X[$]};fR=Object.create?function(Z,X){Object.defineProperty(Z,"default",{enumerable:!0,value:X})}:function(Z,X){Z.default=X};_R=typeof SuppressedError==="function"?SuppressedError:function(Z,X,$){var Y=Error($);return Y.name="SuppressedError",Y.error=Z,Y.suppressed=X,Y};bR={__extends:Pq,__assign:q8,__rest:Eq,__decorate:Gq,__param:Nq,__esDecorate:Rq,__runInitializers:zq,__propKey:Fq,__setFunctionName:Uq,__metadata:Lq,__awaiter:Mq,__generator:Aq,__createBinding:J8,__exportStar:Oq,__values:W8,__read:WY,__spread:Dq,__spreadArrays:Cq,__spreadArray:wq,__await:N6,__asyncGenerator:kq,__asyncDelegator:Sq,__asyncValues:Bq,__makeTemplateObject:Iq,__importStar:Vq,__importDefault:Tq,__classPrivateFieldGet:vq,__classPrivateFieldSet:gq,__classPrivateFieldIn:hq,__addDisposableResource:jq,__disposeResources:xq,__rewriteRelativeImportExtension:yq}});var a1=F((mq)=>{Object.defineProperty(mq,"__esModule",{value:!0});mq.encodeUtf8=mq.decodeUtf8=void 0;var uR=new TextDecoder("utf-8"),pR=(Z)=>uR.decode(Z);mq.decodeUtf8=pR;var dR=new TextEncoder,lR=(Z)=>dR.encode(Z);mq.encodeUtf8=lR});var o1=F((_q)=>{Object.defineProperty(_q,"__esModule",{value:!0});_q.isFlatbuffersByteBuffer=_q.isReadableNodeStream=_q.isWritableNodeStream=_q.isReadableDOMStream=_q.isWritableDOMStream=_q.isFetchResponse=_q.isFSReadStream=_q.isFileHandle=_q.isUnderlyingSink=_q.isIteratorResult=_q.isArrayLike=_q.isArrowJSON=_q.isAsyncIterable=_q.isIterable=_q.isObservable=_q.isPromise=_q.isObject=void 0;var JY=(Z)=>typeof Z==="number",fq=(Z)=>typeof Z==="boolean",qZ=(Z)=>typeof Z==="function",aR=(Z)=>Z!=null&&Object(Z)===Z;_q.isObject=aR;var oR=(Z)=>{return _q.isObject(Z)&&qZ(Z.then)};_q.isPromise=oR;var iR=(Z)=>{return _q.isObject(Z)&&qZ(Z.subscribe)};_q.isObservable=iR;var sR=(Z)=>{return _q.isObject(Z)&&qZ(Z[Symbol.iterator])};_q.isIterable=sR;var rR=(Z)=>{return _q.isObject(Z)&&qZ(Z[Symbol.asyncIterator])};_q.isAsyncIterable=rR;var tR=(Z)=>{return _q.isObject(Z)&&_q.isObject(Z.schema)};_q.isArrowJSON=tR;var eR=(Z)=>{return _q.isObject(Z)&&JY(Z.length)};_q.isArrayLike=eR;var Zz=(Z)=>{return _q.isObject(Z)&&"done"in Z&&"value"in Z};_q.isIteratorResult=Zz;var Xz=(Z)=>{return _q.isObject(Z)&&qZ(Z.abort)&&qZ(Z.close)&&qZ(Z.start)&&qZ(Z.write)};_q.isUnderlyingSink=Xz;var $z=(Z)=>{return _q.isObject(Z)&&qZ(Z.stat)&&JY(Z.fd)};_q.isFileHandle=$z;var Yz=(Z)=>{return _q.isReadableNodeStream(Z)&&JY(Z.bytesRead)};_q.isFSReadStream=Yz;var Qz=(Z)=>{return _q.isObject(Z)&&_q.isReadableDOMStream(Z.body)};_q.isFetchResponse=Qz;var K8=(Z)=>("_getDOMStream"in Z)&&("_getNodeStream"in Z),Hz=(Z)=>{return _q.isObject(Z)&&qZ(Z.abort)&&qZ(Z.getWriter)&&!K8(Z)};_q.isWritableDOMStream=Hz;var qz=(Z)=>{return _q.isObject(Z)&&qZ(Z.cancel)&&qZ(Z.getReader)&&!K8(Z)};_q.isReadableDOMStream=qz;var Wz=(Z)=>{return _q.isObject(Z)&&qZ(Z.end)&&qZ(Z.write)&&fq(Z.writable)&&!K8(Z)};_q.isWritableNodeStream=Wz;var Jz=(Z)=>{return _q.isObject(Z)&&qZ(Z.read)&&qZ(Z.pipe)&&fq(Z.readable)&&!K8(Z)};_q.isReadableNodeStream=Jz;var Kz=(Z)=>{return _q.isObject(Z)&&qZ(Z.clear)&&qZ(Z.bytes)&&qZ(Z.position)&&qZ(Z.setPosition)&&qZ(Z.capacity)&&qZ(Z.getBufferIdentifier)&&qZ(Z.createLong)};_q.isFlatbuffersByteBuffer=Kz});var OZ=F((dq)=>{Object.defineProperty(dq,"__esModule",{value:!0});dq.compareArrayLike=dq.rebaseValueOffsets=dq.toUint8ClampedArrayAsyncIterator=dq.toFloat64ArrayAsyncIterator=dq.toFloat32ArrayAsyncIterator=dq.toUint32ArrayAsyncIterator=dq.toUint16ArrayAsyncIterator=dq.toUint8ArrayAsyncIterator=dq.toInt32ArrayAsyncIterator=dq.toInt16ArrayAsyncIterator=dq.toInt8ArrayAsyncIterator=dq.toArrayBufferViewAsyncIterator=dq.toUint8ClampedArrayIterator=dq.toFloat64ArrayIterator=dq.toFloat32ArrayIterator=dq.toUint32ArrayIterator=dq.toUint16ArrayIterator=dq.toUint8ArrayIterator=dq.toInt32ArrayIterator=dq.toInt16ArrayIterator=dq.toInt8ArrayIterator=dq.toArrayBufferViewIterator=dq.toUint8ClampedArray=dq.toFloat64Array=dq.toFloat32Array=dq.toBigUint64Array=dq.toUint32Array=dq.toUint16Array=dq.toUint8Array=dq.toBigInt64Array=dq.toInt32Array=dq.toInt16Array=dq.toInt8Array=dq.toArrayBufferView=dq.joinUint8Arrays=dq.memcpy=void 0;var MZ=(gZ(),cZ(vZ)),Cz=a1(),R6=o1(),EY=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function wz(Z){let X=Z[0]?[Z[0]]:[],$,Y,Q,H;for(let q,W,K=0,P=0,E=Z.length;++K<E;){if(q=X[P],W=Z[K],!q||!W||q.buffer!==W.buffer||W.byteOffset<q.byteOffset){W&&(X[++P]=W);continue}if({byteOffset:$,byteLength:Q}=q,{byteOffset:Y,byteLength:H}=W,$+Q<Y||Y+H<$){W&&(X[++P]=W);continue}X[P]=new Uint8Array(q.buffer,$,Y-$+H)}return X}function KY(Z,X,$=0,Y=X.byteLength){let Q=Z.byteLength,H=new Uint8Array(Z.buffer,Z.byteOffset,Q),q=new Uint8Array(X.buffer,X.byteOffset,Math.min(Y,Q));return H.set(q,$),Z}dq.memcpy=KY;function kz(Z,X){let $=wz(Z),Y=$.reduce((E,U)=>E+U.byteLength,0),Q,H,q,W=0,K=-1,P=Math.min(X||Number.POSITIVE_INFINITY,Y);for(let E=$.length;++K<E;){if(Q=$[K],H=Q.subarray(0,Math.min(Q.length,P-W)),P<=W+H.length){if(H.length<Q.length)$[K]=Q.subarray(H.length);else if(H.length===Q.length)K++;q?KY(q,H,W):q=H;break}KY(q||(q=new Uint8Array(P)),H,W),W+=H.length}return[q||new Uint8Array(0),$.slice(K),Y-(q?q.byteLength:0)]}dq.joinUint8Arrays=kz;function BZ(Z,X){let $=(0,R6.isIteratorResult)(X)?X.value:X;if($ instanceof Z){if(Z===Uint8Array)return new Z($.buffer,$.byteOffset,$.byteLength);return $}if(!$)return new Z(0);if(typeof $==="string")$=(0,Cz.encodeUtf8)($);if($ instanceof ArrayBuffer)return new Z($);if($ instanceof EY)return new Z($);if((0,R6.isFlatbuffersByteBuffer)($))return BZ(Z,$.bytes());return!ArrayBuffer.isView($)?Z.from($):$.byteLength<=0?new Z(0):new Z($.buffer,$.byteOffset,$.byteLength/Z.BYTES_PER_ELEMENT)}dq.toArrayBufferView=BZ;var Sz=(Z)=>BZ(Int8Array,Z);dq.toInt8Array=Sz;var Bz=(Z)=>BZ(Int16Array,Z);dq.toInt16Array=Bz;var Iz=(Z)=>BZ(Int32Array,Z);dq.toInt32Array=Iz;var Vz=(Z)=>BZ(BigInt64Array,Z);dq.toBigInt64Array=Vz;var Tz=(Z)=>BZ(Uint8Array,Z);dq.toUint8Array=Tz;var vz=(Z)=>BZ(Uint16Array,Z);dq.toUint16Array=vz;var gz=(Z)=>BZ(Uint32Array,Z);dq.toUint32Array=gz;var hz=(Z)=>BZ(BigUint64Array,Z);dq.toBigUint64Array=hz;var jz=(Z)=>BZ(Float32Array,Z);dq.toFloat32Array=jz;var xz=(Z)=>BZ(Float64Array,Z);dq.toFloat64Array=xz;var yz=(Z)=>BZ(Uint8ClampedArray,Z);dq.toUint8ClampedArray=yz;var PY=(Z)=>{return Z.next(),Z};function*G1(Z,X){let $=function*(Q){yield Q},Y=typeof X==="string"?$(X):ArrayBuffer.isView(X)?$(X):X instanceof ArrayBuffer?$(X):X instanceof EY?$(X):!(0,R6.isIterable)(X)?$(X):X;return yield*PY(function*(Q){let H=null;do H=Q.next(yield BZ(Z,H));while(!H.done)}(Y[Symbol.iterator]())),new Z}dq.toArrayBufferViewIterator=G1;var mz=(Z)=>G1(Int8Array,Z);dq.toInt8ArrayIterator=mz;var cz=(Z)=>G1(Int16Array,Z);dq.toInt16ArrayIterator=cz;var fz=(Z)=>G1(Int32Array,Z);dq.toInt32ArrayIterator=fz;var _z=(Z)=>G1(Uint8Array,Z);dq.toUint8ArrayIterator=_z;var bz=(Z)=>G1(Uint16Array,Z);dq.toUint16ArrayIterator=bz;var uz=(Z)=>G1(Uint32Array,Z);dq.toUint32ArrayIterator=uz;var pz=(Z)=>G1(Float32Array,Z);dq.toFloat32ArrayIterator=pz;var dz=(Z)=>G1(Float64Array,Z);dq.toFloat64ArrayIterator=dz;var lz=(Z)=>G1(Uint8ClampedArray,Z);dq.toUint8ClampedArrayIterator=lz;function X1(Z,X){return MZ.__asyncGenerator(this,arguments,function*(){if((0,R6.isPromise)(X))return yield MZ.__await(yield MZ.__await(yield*MZ.__asyncDelegator(MZ.__asyncValues(X1(Z,yield MZ.__await(X))))));let Y=function(q){return MZ.__asyncGenerator(this,arguments,function*(){yield yield MZ.__await(yield MZ.__await(q))})},Q=function(q){return MZ.__asyncGenerator(this,arguments,function*(){yield MZ.__await(yield*MZ.__asyncDelegator(MZ.__asyncValues(PY(function*(W){let K=null;do K=W.next(yield K===null||K===void 0?void 0:K.value);while(!K.done)}(q[Symbol.iterator]())))))})},H=typeof X==="string"?Y(X):ArrayBuffer.isView(X)?Y(X):X instanceof ArrayBuffer?Y(X):X instanceof EY?Y(X):(0,R6.isIterable)(X)?Q(X):!(0,R6.isAsyncIterable)(X)?Y(X):X;return yield MZ.__await(yield*MZ.__asyncDelegator(MZ.__asyncValues(PY(function(q){return MZ.__asyncGenerator(this,arguments,function*(){let W=null;do W=yield MZ.__await(q.next(yield yield MZ.__await(BZ(Z,W))));while(!W.done)})}(H[Symbol.asyncIterator]()))))),yield MZ.__await(new Z)})}dq.toArrayBufferViewAsyncIterator=X1;var nz=(Z)=>X1(Int8Array,Z);dq.toInt8ArrayAsyncIterator=nz;var az=(Z)=>X1(Int16Array,Z);dq.toInt16ArrayAsyncIterator=az;var oz=(Z)=>X1(Int32Array,Z);dq.toInt32ArrayAsyncIterator=oz;var iz=(Z)=>X1(Uint8Array,Z);dq.toUint8ArrayAsyncIterator=iz;var sz=(Z)=>X1(Uint16Array,Z);dq.toUint16ArrayAsyncIterator=sz;var rz=(Z)=>X1(Uint32Array,Z);dq.toUint32ArrayAsyncIterator=rz;var tz=(Z)=>X1(Float32Array,Z);dq.toFloat32ArrayAsyncIterator=tz;var ez=(Z)=>X1(Float64Array,Z);dq.toFloat64ArrayAsyncIterator=ez;var ZF=(Z)=>X1(Uint8ClampedArray,Z);dq.toUint8ClampedArrayAsyncIterator=ZF;function XF(Z,X,$){if(Z!==0){$=$.slice(0,X);for(let Y=-1,Q=$.length;++Y<Q;)$[Y]+=Z}return $.subarray(0,X)}dq.rebaseValueOffsets=XF;function $F(Z,X){let $=0,Y=Z.length;if(Y!==X.length)return!1;if(Y>0)do if(Z[$]!==X[$])return!1;while(++$<Y);return!0}dq.compareArrayLike=$F});var $X=F((aq)=>{Object.defineProperty(aq,"__esModule",{value:!0});var YZ=(gZ(),cZ(vZ)),IZ=OZ();aq.default={fromIterable(Z){return P8(cF(Z))},fromAsyncIterable(Z){return P8(fF(Z))},fromDOMStream(Z){return P8(_F(Z))},fromNodeStream(Z){return P8(bF(Z))},toDOMStream(Z,X){throw Error('"toDOMStream" not available in this environment')},toNodeStream(Z,X){throw Error('"toNodeStream" not available in this environment')}};var P8=(Z)=>{return Z.next(),Z};function*cF(Z){let X,$=!1,Y=[],Q,H,q,W=0;function K(){if(H==="peek")return(0,IZ.joinUint8Arrays)(Y,q)[0];return[Q,Y,W]=(0,IZ.joinUint8Arrays)(Y,q),Q}({cmd:H,size:q}=(yield(()=>null)())||{cmd:"read",size:0});let P=(0,IZ.toUint8ArrayIterator)(Z)[Symbol.iterator]();try{do{if({done:X,value:Q}=Number.isNaN(q-W)?P.next():P.next(q-W),!X&&Q.byteLength>0)Y.push(Q),W+=Q.byteLength;if(X||q<=W)do({cmd:H,size:q}=yield K());while(q<W)}while(!X)}catch(E){($=!0)&&typeof P.throw==="function"&&P.throw(E)}finally{$===!1&&typeof P.return==="function"&&P.return(null)}return null}function fF(Z){return YZ.__asyncGenerator(this,arguments,function*(){let $,Y=!1,Q=[],H,q,W,K=0;function P(){if(q==="peek")return(0,IZ.joinUint8Arrays)(Q,W)[0];return[H,Q,K]=(0,IZ.joinUint8Arrays)(Q,W),H}({cmd:q,size:W}=(yield yield YZ.__await((()=>null)()))||{cmd:"read",size:0});let E=(0,IZ.toUint8ArrayAsyncIterator)(Z)[Symbol.asyncIterator]();try{do{if({done:$,value:H}=Number.isNaN(W-K)?yield YZ.__await(E.next()):yield YZ.__await(E.next(W-K)),!$&&H.byteLength>0)Q.push(H),K+=H.byteLength;if($||W<=K)do({cmd:q,size:W}=yield yield YZ.__await(P()));while(W<K)}while(!$)}catch(U){(Y=!0)&&typeof E.throw==="function"&&(yield YZ.__await(E.throw(U)))}finally{Y===!1&&typeof E.return==="function"&&(yield YZ.__await(E.return(new Uint8Array(0))))}return yield YZ.__await(null)})}function _F(Z){return YZ.__asyncGenerator(this,arguments,function*(){let $=!1,Y=!1,Q=[],H,q,W,K=0;function P(){if(q==="peek")return(0,IZ.joinUint8Arrays)(Q,W)[0];return[H,Q,K]=(0,IZ.joinUint8Arrays)(Q,W),H}({cmd:q,size:W}=(yield yield YZ.__await((()=>null)()))||{cmd:"read",size:0});let E=new nq(Z);try{do{if({done:$,value:H}=Number.isNaN(W-K)?yield YZ.__await(E.read()):yield YZ.__await(E.read(W-K)),!$&&H.byteLength>0)Q.push((0,IZ.toUint8Array)(H)),K+=H.byteLength;if($||W<=K)do({cmd:q,size:W}=yield yield YZ.__await(P()));while(W<K)}while(!$)}catch(U){(Y=!0)&&(yield YZ.__await(E.cancel(U)))}finally{Y===!1?yield YZ.__await(E.cancel()):Z.locked&&E.releaseLock()}return yield YZ.__await(null)})}class nq{constructor(Z){this.source=Z,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){if(this.reader)this.reader.releaseLock();this.reader=null}cancel(Z){return YZ.__awaiter(this,void 0,void 0,function*(){let{reader:X,source:$}=this;X&&(yield X.cancel(Z).catch(()=>{})),$&&($.locked&&this.releaseLock())})}read(Z){return YZ.__awaiter(this,void 0,void 0,function*(){if(Z===0)return{done:this.reader==null,value:new Uint8Array(0)};let X=yield this.reader.read();return!X.done&&(X.value=(0,IZ.toUint8Array)(X)),X})}}var GY=(Z,X)=>{let $=(Q)=>Y([X,Q]),Y;return[X,$,new Promise((Q)=>(Y=Q)&&Z.once(X,$))]};function bF(Z){return YZ.__asyncGenerator(this,arguments,function*(){let $=[],Y="error",Q=!1,H=null,q,W,K=0,P=[],E;function U(){if(q==="peek")return(0,IZ.joinUint8Arrays)(P,W)[0];return[E,P,K]=(0,IZ.joinUint8Arrays)(P,W),E}if({cmd:q,size:W}=(yield yield YZ.__await((()=>null)()))||{cmd:"read",size:0},Z.isTTY)return yield yield YZ.__await(new Uint8Array(0)),yield YZ.__await(null);try{$[0]=GY(Z,"end"),$[1]=GY(Z,"error");do{if($[2]=GY(Z,"readable"),[Y,H]=yield YZ.__await(Promise.race($.map((j)=>j[2]))),Y==="error")break;if(!(Q=Y==="end")){if(!Number.isFinite(W-K))E=(0,IZ.toUint8Array)(Z.read());else if(E=(0,IZ.toUint8Array)(Z.read(W-K)),E.byteLength<W-K)E=(0,IZ.toUint8Array)(Z.read());if(E.byteLength>0)P.push(E),K+=E.byteLength}if(Q||W<=K)do({cmd:q,size:W}=yield yield YZ.__await(U()));while(W<K)}while(!Q)}finally{yield YZ.__await(_($,Y==="error"?H:null))}return yield YZ.__await(null);function _(j,n){return E=P=null,new Promise((PZ,LZ)=>{for(let[i,B1]of j)Z.off(i,B1);try{let i=Z.destroy;i&&i.call(Z,n),n=void 0}catch(i){n=i||n}finally{n!=null?LZ(n):PZ()}})}})}});var E8=F((iq)=>{Object.defineProperty(iq,"__esModule",{value:!0});iq.MetadataVersion=void 0;var oq;(function(Z){Z[Z.V1=0]="V1",Z[Z.V2=1]="V2",Z[Z.V3=2]="V3",Z[Z.V4=3]="V4",Z[Z.V5=4]="V5"})(oq||(iq.MetadataVersion=oq={}))});var NY=F((tq)=>{Object.defineProperty(tq,"__esModule",{value:!0});tq.UnionMode=void 0;var rq;(function(Z){Z[Z.Sparse=0]="Sparse",Z[Z.Dense=1]="Dense"})(rq||(tq.UnionMode=rq={}))});var RY=F((XW)=>{Object.defineProperty(XW,"__esModule",{value:!0});XW.Precision=void 0;var ZW;(function(Z){Z[Z.HALF=0]="HALF",Z[Z.SINGLE=1]="SINGLE",Z[Z.DOUBLE=2]="DOUBLE"})(ZW||(XW.Precision=ZW={}))});var zY=F((QW)=>{Object.defineProperty(QW,"__esModule",{value:!0});QW.DateUnit=void 0;var YW;(function(Z){Z[Z.DAY=0]="DAY",Z[Z.MILLISECOND=1]="MILLISECOND"})(YW||(QW.DateUnit=YW={}))});var YX=F((WW)=>{Object.defineProperty(WW,"__esModule",{value:!0});WW.TimeUnit=void 0;var qW;(function(Z){Z[Z.SECOND=0]="SECOND",Z[Z.MILLISECOND=1]="MILLISECOND",Z[Z.MICROSECOND=2]="MICROSECOND",Z[Z.NANOSECOND=3]="NANOSECOND"})(qW||(WW.TimeUnit=qW={}))});var FY=F((PW)=>{Object.defineProperty(PW,"__esModule",{value:!0});PW.IntervalUnit=void 0;var KW;(function(Z){Z[Z.YEAR_MONTH=0]="YEAR_MONTH",Z[Z.DAY_TIME=1]="DAY_TIME",Z[Z.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(KW||(PW.IntervalUnit=KW={}))});var v0=F((GW)=>{Object.defineProperty(GW,"__esModule",{value:!0});GW.SIZE_PREFIX_LENGTH=GW.FILE_IDENTIFIER_LENGTH=GW.SIZEOF_INT=GW.SIZEOF_SHORT=void 0;GW.SIZEOF_SHORT=2;GW.SIZEOF_INT=4;GW.FILE_IDENTIFIER_LENGTH=4;GW.SIZE_PREFIX_LENGTH=4});var LY=F((RW)=>{Object.defineProperty(RW,"__esModule",{value:!0});RW.isLittleEndian=RW.float64=RW.float32=RW.int32=void 0;RW.int32=new Int32Array(2);RW.float32=new Float32Array(RW.int32.buffer);RW.float64=new Float64Array(RW.int32.buffer);RW.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1});var MY=F((UW)=>{Object.defineProperty(UW,"__esModule",{value:!0});UW.Encoding=void 0;var FW;(function(Z){Z[Z.UTF8_BYTES=1]="UTF8_BYTES",Z[Z.UTF16_STRING=2]="UTF16_STRING"})(FW||(UW.Encoding=FW={}))});var OY=F((MW)=>{Object.defineProperty(MW,"__esModule",{value:!0});MW.ByteBuffer=void 0;var N1=v0(),hZ=LY(),oF=MY();class AY{constructor(Z){this.bytes_=Z,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(Z){return new AY(new Uint8Array(Z))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(Z){this.position_=Z}capacity(){return this.bytes_.length}readInt8(Z){return this.readUint8(Z)<<24>>24}readUint8(Z){return this.bytes_[Z]}readInt16(Z){return this.readUint16(Z)<<16>>16}readUint16(Z){return this.bytes_[Z]|this.bytes_[Z+1]<<8}readInt32(Z){return this.bytes_[Z]|this.bytes_[Z+1]<<8|this.bytes_[Z+2]<<16|this.bytes_[Z+3]<<24}readUint32(Z){return this.readInt32(Z)>>>0}readInt64(Z){return BigInt.asIntN(64,BigInt(this.readUint32(Z))+(BigInt(this.readUint32(Z+4))<<BigInt(32)))}readUint64(Z){return BigInt.asUintN(64,BigInt(this.readUint32(Z))+(BigInt(this.readUint32(Z+4))<<BigInt(32)))}readFloat32(Z){return hZ.int32[0]=this.readInt32(Z),hZ.float32[0]}readFloat64(Z){return hZ.int32[hZ.isLittleEndian?0:1]=this.readInt32(Z),hZ.int32[hZ.isLittleEndian?1:0]=this.readInt32(Z+4),hZ.float64[0]}writeInt8(Z,X){this.bytes_[Z]=X}writeUint8(Z,X){this.bytes_[Z]=X}writeInt16(Z,X){this.bytes_[Z]=X,this.bytes_[Z+1]=X>>8}writeUint16(Z,X){this.bytes_[Z]=X,this.bytes_[Z+1]=X>>8}writeInt32(Z,X){this.bytes_[Z]=X,this.bytes_[Z+1]=X>>8,this.bytes_[Z+2]=X>>16,this.bytes_[Z+3]=X>>24}writeUint32(Z,X){this.bytes_[Z]=X,this.bytes_[Z+1]=X>>8,this.bytes_[Z+2]=X>>16,this.bytes_[Z+3]=X>>24}writeInt64(Z,X){this.writeInt32(Z,Number(BigInt.asIntN(32,X))),this.writeInt32(Z+4,Number(BigInt.asIntN(32,X>>BigInt(32))))}writeUint64(Z,X){this.writeUint32(Z,Number(BigInt.asUintN(32,X))),this.writeUint32(Z+4,Number(BigInt.asUintN(32,X>>BigInt(32))))}writeFloat32(Z,X){hZ.float32[0]=X,this.writeInt32(Z,hZ.int32[0])}writeFloat64(Z,X){hZ.float64[0]=X,this.writeInt32(Z,hZ.int32[hZ.isLittleEndian?0:1]),this.writeInt32(Z+4,hZ.int32[hZ.isLittleEndian?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+N1.SIZEOF_INT+N1.FILE_IDENTIFIER_LENGTH)throw Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let Z="";for(let X=0;X<N1.FILE_IDENTIFIER_LENGTH;X++)Z+=String.fromCharCode(this.readInt8(this.position_+N1.SIZEOF_INT+X));return Z}__offset(Z,X){let $=Z-this.readInt32(Z);return X<this.readInt16($)?this.readInt16($+X):0}__union(Z,X){return Z.bb_pos=X+this.readInt32(X),Z.bb=this,Z}__string(Z,X){Z+=this.readInt32(Z);let $=this.readInt32(Z);Z+=N1.SIZEOF_INT;let Y=this.bytes_.subarray(Z,Z+$);if(X===oF.Encoding.UTF8_BYTES)return Y;else return this.text_decoder_.decode(Y)}__union_with_string(Z,X){if(typeof Z==="string")return this.__string(X);return this.__union(Z,X)}__indirect(Z){return Z+this.readInt32(Z)}__vector(Z){return Z+this.readInt32(Z)+N1.SIZEOF_INT}__vector_len(Z){return this.readInt32(Z+this.readInt32(Z))}__has_identifier(Z){if(Z.length!=N1.FILE_IDENTIFIER_LENGTH)throw Error("FlatBuffers: file identifier must be length "+N1.FILE_IDENTIFIER_LENGTH);for(let X=0;X<N1.FILE_IDENTIFIER_LENGTH;X++)if(Z.charCodeAt(X)!=this.readInt8(this.position()+N1.SIZEOF_INT+X))return!1;return!0}createScalarList(Z,X){let $=[];for(let Y=0;Y<X;++Y){let Q=Z(Y);if(Q!==null)$.push(Q)}return $}createObjList(Z,X){let $=[];for(let Y=0;Y<X;++Y){let Q=Z(Y);if(Q!==null)$.push(Q.unpack())}return $}}MW.ByteBuffer=AY});var wW=F((DW)=>{Object.defineProperty(DW,"__esModule",{value:!0});DW.Builder=void 0;var OW=OY(),fZ=v0();class DY{constructor(Z){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let X;if(!Z)X=1024;else X=Z;this.bb=OW.ByteBuffer.allocate(X),this.space=X}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(Z){this.force_defaults=Z}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(Z,X){if(Z>this.minalign)this.minalign=Z;let $=~(this.bb.capacity()-this.space+X)+1&Z-1;while(this.space<$+Z+X){let Y=this.bb.capacity();this.bb=DY.growByteBuffer(this.bb),this.space+=this.bb.capacity()-Y}this.pad($)}pad(Z){for(let X=0;X<Z;X++)this.bb.writeInt8(--this.space,0)}writeInt8(Z){this.bb.writeInt8(this.space-=1,Z)}writeInt16(Z){this.bb.writeInt16(this.space-=2,Z)}writeInt32(Z){this.bb.writeInt32(this.space-=4,Z)}writeInt64(Z){this.bb.writeInt64(this.space-=8,Z)}writeFloat32(Z){this.bb.writeFloat32(this.space-=4,Z)}writeFloat64(Z){this.bb.writeFloat64(this.space-=8,Z)}addInt8(Z){this.prep(1,0),this.writeInt8(Z)}addInt16(Z){this.prep(2,0),this.writeInt16(Z)}addInt32(Z){this.prep(4,0),this.writeInt32(Z)}addInt64(Z){this.prep(8,0),this.writeInt64(Z)}addFloat32(Z){this.prep(4,0),this.writeFloat32(Z)}addFloat64(Z){this.prep(8,0),this.writeFloat64(Z)}addFieldInt8(Z,X,$){if(this.force_defaults||X!=$)this.addInt8(X),this.slot(Z)}addFieldInt16(Z,X,$){if(this.force_defaults||X!=$)this.addInt16(X),this.slot(Z)}addFieldInt32(Z,X,$){if(this.force_defaults||X!=$)this.addInt32(X),this.slot(Z)}addFieldInt64(Z,X,$){if(this.force_defaults||X!==$)this.addInt64(X),this.slot(Z)}addFieldFloat32(Z,X,$){if(this.force_defaults||X!=$)this.addFloat32(X),this.slot(Z)}addFieldFloat64(Z,X,$){if(this.force_defaults||X!=$)this.addFloat64(X),this.slot(Z)}addFieldOffset(Z,X,$){if(this.force_defaults||X!=$)this.addOffset(X),this.slot(Z)}addFieldStruct(Z,X,$){if(X!=$)this.nested(X),this.slot(Z)}nested(Z){if(Z!=this.offset())throw TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw TypeError("FlatBuffers: object serialization must not be nested.")}slot(Z){if(this.vtable!==null)this.vtable[Z]=this.offset()}offset(){return this.bb.capacity()-this.space}static growByteBuffer(Z){let X=Z.capacity();if(X&3221225472)throw Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");let $=X<<1,Y=OW.ByteBuffer.allocate($);return Y.setPosition($-X),Y.bytes().set(Z.bytes(),$-X),Y}addOffset(Z){this.prep(fZ.SIZEOF_INT,0),this.writeInt32(this.offset()-Z+fZ.SIZEOF_INT)}startObject(Z){if(this.notNested(),this.vtable==null)this.vtable=[];this.vtable_in_use=Z;for(let X=0;X<Z;X++)this.vtable[X]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw Error("FlatBuffers: endObject called without startObject");this.addInt32(0);let Z=this.offset(),X=this.vtable_in_use-1;for(;X>=0&&this.vtable[X]==0;X--);let $=X+1;for(;X>=0;X--)this.addInt16(this.vtable[X]!=0?Z-this.vtable[X]:0);let Y=2;this.addInt16(Z-this.object_start);let Q=($+Y)*fZ.SIZEOF_SHORT;this.addInt16(Q);let H=0,q=this.space;Z:for(X=0;X<this.vtables.length;X++){let W=this.bb.capacity()-this.vtables[X];if(Q==this.bb.readInt16(W)){for(let K=fZ.SIZEOF_SHORT;K<Q;K+=fZ.SIZEOF_SHORT)if(this.bb.readInt16(q+K)!=this.bb.readInt16(W+K))continue Z;H=this.vtables[X];break}}if(H)this.space=this.bb.capacity()-Z,this.bb.writeInt32(this.space,H-Z);else this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-Z,this.offset()-Z);return this.isNested=!1,Z}finish(Z,X,$){let Y=$?fZ.SIZE_PREFIX_LENGTH:0;if(X){let Q=X;if(this.prep(this.minalign,fZ.SIZEOF_INT+fZ.FILE_IDENTIFIER_LENGTH+Y),Q.length!=fZ.FILE_IDENTIFIER_LENGTH)throw TypeError("FlatBuffers: file identifier must be length "+fZ.FILE_IDENTIFIER_LENGTH);for(let H=fZ.FILE_IDENTIFIER_LENGTH-1;H>=0;H--)this.writeInt8(Q.charCodeAt(H))}if(this.prep(this.minalign,fZ.SIZEOF_INT+Y),this.addOffset(Z),Y)this.addInt32(this.bb.capacity()-this.space);this.bb.setPosition(this.space)}finishSizePrefixed(Z,X){this.finish(Z,X,!0)}requiredField(Z,X){let $=this.bb.capacity()-Z,Y=$-this.bb.readInt32($);if(!(X<this.bb.readInt16(Y)&&this.bb.readInt16(Y+X)!=0))throw TypeError("FlatBuffers: field "+X+" must be set")}startVector(Z,X,$){this.notNested(),this.vector_num_elems=X,this.prep(fZ.SIZEOF_INT,Z*X),this.prep($,Z*X)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(Z){if(!Z)return 0;if(!this.string_maps)this.string_maps=new Map;if(this.string_maps.has(Z))return this.string_maps.get(Z);let X=this.createString(Z);return this.string_maps.set(Z,X),X}createString(Z){if(Z===null||Z===void 0)return 0;let X;if(Z instanceof Uint8Array)X=Z;else X=this.text_encoder.encode(Z);return this.addInt8(0),this.startVector(1,X.length,1),this.bb.setPosition(this.space-=X.length),this.bb.bytes().set(X,this.space),this.endVector()}createByteVector(Z){if(Z===null||Z===void 0)return 0;return this.startVector(1,Z.length,1),this.bb.setPosition(this.space-=Z.length),this.bb.bytes().set(Z,this.space),this.endVector()}createObjectOffset(Z){if(Z===null)return 0;if(typeof Z==="string")return this.createString(Z);else return Z.pack(this)}createObjectOffsetList(Z){let X=[];for(let $=0;$<Z.length;++$){let Y=Z[$];if(Y!==null)X.push(this.createObjectOffset(Y));else throw TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return X}createStructOffsetList(Z,X){return X(this,Z.length),this.createObjectOffsetList(Z.slice().reverse()),this.endVector()}}DW.Builder=DY});var m=F((_Z)=>{Object.defineProperty(_Z,"__esModule",{value:!0});_Z.ByteBuffer=_Z.Builder=_Z.Encoding=_Z.isLittleEndian=_Z.float64=_Z.float32=_Z.int32=_Z.SIZE_PREFIX_LENGTH=_Z.FILE_IDENTIFIER_LENGTH=_Z.SIZEOF_INT=_Z.SIZEOF_SHORT=void 0;var iF=v0();Object.defineProperty(_Z,"SIZEOF_SHORT",{enumerable:!0,get:function(){return iF.SIZEOF_SHORT}});var sF=v0();Object.defineProperty(_Z,"SIZEOF_INT",{enumerable:!0,get:function(){return sF.SIZEOF_INT}});var rF=v0();Object.defineProperty(_Z,"FILE_IDENTIFIER_LENGTH",{enumerable:!0,get:function(){return rF.FILE_IDENTIFIER_LENGTH}});var tF=v0();Object.defineProperty(_Z,"SIZE_PREFIX_LENGTH",{enumerable:!0,get:function(){return tF.SIZE_PREFIX_LENGTH}});var G8=LY();Object.defineProperty(_Z,"int32",{enumerable:!0,get:function(){return G8.int32}});Object.defineProperty(_Z,"float32",{enumerable:!0,get:function(){return G8.float32}});Object.defineProperty(_Z,"float64",{enumerable:!0,get:function(){return G8.float64}});Object.defineProperty(_Z,"isLittleEndian",{enumerable:!0,get:function(){return G8.isLittleEndian}});var eF=MY();Object.defineProperty(_Z,"Encoding",{enumerable:!0,get:function(){return eF.Encoding}});var ZU=wW();Object.defineProperty(_Z,"Builder",{enumerable:!0,get:function(){return ZU.Builder}});var XU=OY();Object.defineProperty(_Z,"ByteBuffer",{enumerable:!0,get:function(){return XU.ByteBuffer}})});var IW=F((SW)=>{Object.defineProperty(SW,"__esModule",{value:!0});SW.BodyCompressionMethod=void 0;var kW;(function(Z){Z[Z.BUFFER=0]="BUFFER"})(kW||(SW.BodyCompressionMethod=kW={}))});var gW=F((TW)=>{Object.defineProperty(TW,"__esModule",{value:!0});TW.CompressionType=void 0;var VW;(function(Z){Z[Z.LZ4_FRAME=0]="LZ4_FRAME",Z[Z.ZSTD=1]="ZSTD"})(VW||(TW.CompressionType=VW={}))});var mW=F((xW)=>{Object.defineProperty(xW,"__esModule",{value:!0});xW.BodyCompression=void 0;var YU=m(),hW=IW(),jW=gW();class i1{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsBodyCompression(Z,X){return(X||new i1).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsBodyCompression(Z,X){return Z.setPosition(Z.position()+YU.SIZE_PREFIX_LENGTH),(X||new i1).__init(Z.readInt32(Z.position())+Z.position(),Z)}codec(){let Z=this.bb.__offset(this.bb_pos,4);return Z?this.bb.readInt8(this.bb_pos+Z):jW.CompressionType.LZ4_FRAME}method(){let Z=this.bb.__offset(this.bb_pos,6);return Z?this.bb.readInt8(this.bb_pos+Z):hW.BodyCompressionMethod.BUFFER}static startBodyCompression(Z){Z.startObject(2)}static addCodec(Z,X){Z.addFieldInt8(0,X,jW.CompressionType.LZ4_FRAME)}static addMethod(Z,X){Z.addFieldInt8(1,X,hW.BodyCompressionMethod.BUFFER)}static endBodyCompression(Z){return Z.endObject()}static createBodyCompression(Z,X,$){return i1.startBodyCompression(Z),i1.addCodec(Z,X),i1.addMethod(Z,$),i1.endBodyCompression(Z)}}xW.BodyCompression=i1});var s1=F((fW)=>{Object.defineProperty(fW,"__esModule",{value:!0});fW.Buffer=void 0;class cW{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(Z,X,$){return Z.prep(8,16),Z.writeInt64(BigInt($!==null&&$!==void 0?$:0)),Z.writeInt64(BigInt(X!==null&&X!==void 0?X:0)),Z.offset()}}fW.Buffer=cW});var CY=F((uW)=>{Object.defineProperty(uW,"__esModule",{value:!0});uW.FieldNode=void 0;class bW{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(Z,X,$){return Z.prep(8,16),Z.writeInt64(BigInt($!==null&&$!==void 0?$:0)),Z.writeInt64(BigInt(X!==null&&X!==void 0?X:0)),Z.offset()}}uW.FieldNode=bW});var R8=F((dW)=>{Object.defineProperty(dW,"__esModule",{value:!0});dW.RecordBatch=void 0;var QU=m(),HU=mW(),qU=s1(),WU=CY();class N8{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsRecordBatch(Z,X){return(X||new N8).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsRecordBatch(Z,X){return Z.setPosition(Z.position()+QU.SIZE_PREFIX_LENGTH),(X||new N8).__init(Z.readInt32(Z.position())+Z.position(),Z)}length(){let Z=this.bb.__offset(this.bb_pos,4);return Z?this.bb.readInt64(this.bb_pos+Z):BigInt("0")}nodes(Z,X){let $=this.bb.__offset(this.bb_pos,6);return $?(X||new WU.FieldNode).__init(this.bb.__vector(this.bb_pos+$)+Z*16,this.bb):null}nodesLength(){let Z=this.bb.__offset(this.bb_pos,6);return Z?this.bb.__vector_len(this.bb_pos+Z):0}buffers(Z,X){let $=this.bb.__offset(this.bb_pos,8);return $?(X||new qU.Buffer).__init(this.bb.__vector(this.bb_pos+$)+Z*16,this.bb):null}buffersLength(){let Z=this.bb.__offset(this.bb_pos,8);return Z?this.bb.__vector_len(this.bb_pos+Z):0}compression(Z){let X=this.bb.__offset(this.bb_pos,10);return X?(Z||new HU.BodyCompression).__init(this.bb.__indirect(this.bb_pos+X),this.bb):null}static startRecordBatch(Z){Z.startObject(4)}static addLength(Z,X){Z.addFieldInt64(0,X,BigInt("0"))}static addNodes(Z,X){Z.addFieldOffset(1,X,0)}static startNodesVector(Z,X){Z.startVector(16,X,8)}static addBuffers(Z,X){Z.addFieldOffset(2,X,0)}static startBuffersVector(Z,X){Z.startVector(16,X,8)}static addCompression(Z,X){Z.addFieldOffset(3,X,0)}static endRecordBatch(Z){return Z.endObject()}}dW.RecordBatch=N8});var wY=F((nW)=>{Object.defineProperty(nW,"__esModule",{value:!0});nW.DictionaryBatch=void 0;var JU=m(),KU=R8();class z8{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsDictionaryBatch(Z,X){return(X||new z8).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsDictionaryBatch(Z,X){return Z.setPosition(Z.position()+JU.SIZE_PREFIX_LENGTH),(X||new z8).__init(Z.readInt32(Z.position())+Z.position(),Z)}id(){let Z=this.bb.__offset(this.bb_pos,4);return Z?this.bb.readInt64(this.bb_pos+Z):BigInt("0")}data(Z){let X=this.bb.__offset(this.bb_pos,6);return X?(Z||new KU.RecordBatch).__init(this.bb.__indirect(this.bb_pos+X),this.bb):null}isDelta(){let Z=this.bb.__offset(this.bb_pos,8);return Z?!!this.bb.readInt8(this.bb_pos+Z):!1}static startDictionaryBatch(Z){Z.startObject(3)}static addId(Z,X){Z.addFieldInt64(0,X,BigInt("0"))}static addData(Z,X){Z.addFieldOffset(1,X,0)}static addIsDelta(Z,X){Z.addFieldInt8(2,+X,0)}static endDictionaryBatch(Z){return Z.endObject()}}nW.DictionaryBatch=z8});var kY=F((iW)=>{Object.defineProperty(iW,"__esModule",{value:!0});iW.Endianness=void 0;var oW;(function(Z){Z[Z.Little=0]="Little",Z[Z.Big=1]="Big"})(oW||(iW.Endianness=oW={}))});var ZJ=F((tW)=>{Object.defineProperty(tW,"__esModule",{value:!0});tW.DictionaryKind=void 0;var rW;(function(Z){Z[Z.DenseArray=0]="DenseArray"})(rW||(tW.DictionaryKind=rW={}))});var t1=F((XJ)=>{Object.defineProperty(XJ,"__esModule",{value:!0});XJ.Int=void 0;var PU=m();class r1{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsInt(Z,X){return(X||new r1).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsInt(Z,X){return Z.setPosition(Z.position()+PU.SIZE_PREFIX_LENGTH),(X||new r1).__init(Z.readInt32(Z.position())+Z.position(),Z)}bitWidth(){let Z=this.bb.__offset(this.bb_pos,4);return Z?this.bb.readInt32(this.bb_pos+Z):0}isSigned(){let Z=this.bb.__offset(this.bb_pos,6);return Z?!!this.bb.readInt8(this.bb_pos+Z):!1}static startInt(Z){Z.startObject(2)}static addBitWidth(Z,X){Z.addFieldInt32(0,X,0)}static addIsSigned(Z,X){Z.addFieldInt8(1,+X,0)}static endInt(Z){return Z.endObject()}static createInt(Z,X,$){return r1.startInt(Z),r1.addBitWidth(Z,X),r1.addIsSigned(Z,$),r1.endInt(Z)}}XJ.Int=r1});var SY=F((QJ)=>{Object.defineProperty(QJ,"__esModule",{value:!0});QJ.DictionaryEncoding=void 0;var EU=m(),YJ=ZJ(),GU=t1();class F8{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsDictionaryEncoding(Z,X){return(X||new F8).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsDictionaryEncoding(Z,X){return Z.setPosition(Z.position()+EU.SIZE_PREFIX_LENGTH),(X||new F8).__init(Z.readInt32(Z.position())+Z.position(),Z)}id(){let Z=this.bb.__offset(this.bb_pos,4);return Z?this.bb.readInt64(this.bb_pos+Z):BigInt("0")}indexType(Z){let X=this.bb.__offset(this.bb_pos,6);return X?(Z||new GU.Int).__init(this.bb.__indirect(this.bb_pos+X),this.bb):null}isOrdered(){let Z=this.bb.__offset(this.bb_pos,8);return Z?!!this.bb.readInt8(this.bb_pos+Z):!1}dictionaryKind(){let Z=this.bb.__offset(this.bb_pos,10);return Z?this.bb.readInt16(this.bb_pos+Z):YJ.DictionaryKind.DenseArray}static startDictionaryEncoding(Z){Z.startObject(4)}static addId(Z,X){Z.addFieldInt64(0,X,BigInt("0"))}static addIndexType(Z,X){Z.addFieldOffset(1,X,0)}static addIsOrdered(Z,X){Z.addFieldInt8(2,+X,0)}static addDictionaryKind(Z,X){Z.addFieldInt16(3,X,YJ.DictionaryKind.DenseArray)}static endDictionaryEncoding(Z){return Z.endObject()}}QJ.DictionaryEncoding=F8});var z6=F((qJ)=>{Object.defineProperty(qJ,"__esModule",{value:!0});qJ.KeyValue=void 0;var NU=m();class e1{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsKeyValue(Z,X){return(X||new e1).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsKeyValue(Z,X){return Z.setPosition(Z.position()+NU.SIZE_PREFIX_LENGTH),(X||new e1).__init(Z.readInt32(Z.position())+Z.position(),Z)}key(Z){let X=this.bb.__offset(this.bb_pos,4);return X?this.bb.__string(this.bb_pos+X,Z):null}value(Z){let X=this.bb.__offset(this.bb_pos,6);return X?this.bb.__string(this.bb_pos+X,Z):null}static startKeyValue(Z){Z.startObject(2)}static addKey(Z,X){Z.addFieldOffset(0,X,0)}static addValue(Z,X){Z.addFieldOffset(1,X,0)}static endKeyValue(Z){return Z.endObject()}static createKeyValue(Z,X,$){return e1.startKeyValue(Z),e1.addKey(Z,X),e1.addValue(Z,$),e1.endKeyValue(Z)}}qJ.KeyValue=e1});var BY=F((JJ)=>{Object.defineProperty(JJ,"__esModule",{value:!0});JJ.Binary=void 0;var RU=m();class F6{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsBinary(Z,X){return(X||new F6).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsBinary(Z,X){return Z.setPosition(Z.position()+RU.SIZE_PREFIX_LENGTH),(X||new F6).__init(Z.readInt32(Z.position())+Z.position(),Z)}static startBinary(Z){Z.startObject(0)}static endBinary(Z){return Z.endObject()}static createBinary(Z){return F6.startBinary(Z),F6.endBinary(Z)}}JJ.Binary=F6});var IY=F((PJ)=>{Object.defineProperty(PJ,"__esModule",{value:!0});PJ.Bool=void 0;var zU=m();class U6{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsBool(Z,X){return(X||new U6).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsBool(Z,X){return Z.setPosition(Z.position()+zU.SIZE_PREFIX_LENGTH),(X||new U6).__init(Z.readInt32(Z.position())+Z.position(),Z)}static startBool(Z){Z.startObject(0)}static endBool(Z){return Z.endObject()}static createBool(Z){return U6.startBool(Z),U6.endBool(Z)}}PJ.Bool=U6});var U8=F((NJ)=>{Object.defineProperty(NJ,"__esModule",{value:!0});NJ.Date=void 0;var FU=m(),GJ=zY();class g0{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsDate(Z,X){return(X||new g0).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsDate(Z,X){return Z.setPosition(Z.position()+FU.SIZE_PREFIX_LENGTH),(X||new g0).__init(Z.readInt32(Z.position())+Z.position(),Z)}unit(){let Z=this.bb.__offset(this.bb_pos,4);return Z?this.bb.readInt16(this.bb_pos+Z):GJ.DateUnit.MILLISECOND}static startDate(Z){Z.startObject(1)}static addUnit(Z,X){Z.addFieldInt16(0,X,GJ.DateUnit.MILLISECOND)}static endDate(Z){return Z.endObject()}static createDate(Z,X){return g0.startDate(Z),g0.addUnit(Z,X),g0.endDate(Z)}}NJ.Date=g0});var L8=F((zJ)=>{Object.defineProperty(zJ,"__esModule",{value:!0});zJ.Decimal=void 0;var UU=m();class v1{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsDecimal(Z,X){return(X||new v1).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsDecimal(Z,X){return Z.setPosition(Z.position()+UU.SIZE_PREFIX_LENGTH),(X||new v1).__init(Z.readInt32(Z.position())+Z.position(),Z)}precision(){let Z=this.bb.__offset(this.bb_pos,4);return Z?this.bb.readInt32(this.bb_pos+Z):0}scale(){let Z=this.bb.__offset(this.bb_pos,6);return Z?this.bb.readInt32(this.bb_pos+Z):0}bitWidth(){let Z=this.bb.__offset(this.bb_pos,8);return Z?this.bb.readInt32(this.bb_pos+Z):128}static startDecimal(Z){Z.startObject(3)}static addPrecision(Z,X){Z.addFieldInt32(0,X,0)}static addScale(Z,X){Z.addFieldInt32(1,X,0)}static addBitWidth(Z,X){Z.addFieldInt32(2,X,128)}static endDecimal(Z){return Z.endObject()}static createDecimal(Z,X,$,Y){return v1.startDecimal(Z),v1.addPrecision(Z,X),v1.addScale(Z,$),v1.addBitWidth(Z,Y),v1.endDecimal(Z)}}zJ.Decimal=v1});var M8=F((LJ)=>{Object.defineProperty(LJ,"__esModule",{value:!0});LJ.Duration=void 0;var LU=m(),UJ=YX();class h0{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsDuration(Z,X){return(X||new h0).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsDuration(Z,X){return Z.setPosition(Z.position()+LU.SIZE_PREFIX_LENGTH),(X||new h0).__init(Z.readInt32(Z.position())+Z.position(),Z)}unit(){let Z=this.bb.__offset(this.bb_pos,4);return Z?this.bb.readInt16(this.bb_pos+Z):UJ.TimeUnit.MILLISECOND}static startDuration(Z){Z.startObject(1)}static addUnit(Z,X){Z.addFieldInt16(0,X,UJ.TimeUnit.MILLISECOND)}static endDuration(Z){return Z.endObject()}static createDuration(Z,X){return h0.startDuration(Z),h0.addUnit(Z,X),h0.endDuration(Z)}}LJ.Duration=h0});var A8=F((AJ)=>{Object.defineProperty(AJ,"__esModule",{value:!0});AJ.FixedSizeBinary=void 0;var MU=m();class j0{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsFixedSizeBinary(Z,X){return(X||new j0).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsFixedSizeBinary(Z,X){return Z.setPosition(Z.position()+MU.SIZE_PREFIX_LENGTH),(X||new j0).__init(Z.readInt32(Z.position())+Z.position(),Z)}byteWidth(){let Z=this.bb.__offset(this.bb_pos,4);return Z?this.bb.readInt32(this.bb_pos+Z):0}static startFixedSizeBinary(Z){Z.startObject(1)}static addByteWidth(Z,X){Z.addFieldInt32(0,X,0)}static endFixedSizeBinary(Z){return Z.endObject()}static createFixedSizeBinary(Z,X){return j0.startFixedSizeBinary(Z),j0.addByteWidth(Z,X),j0.endFixedSizeBinary(Z)}}AJ.FixedSizeBinary=j0});var O8=F((DJ)=>{Object.defineProperty(DJ,"__esModule",{value:!0});DJ.FixedSizeList=void 0;var AU=m();class x0{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsFixedSizeList(Z,X){return(X||new x0).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsFixedSizeList(Z,X){return Z.setPosition(Z.position()+AU.SIZE_PREFIX_LENGTH),(X||new x0).__init(Z.readInt32(Z.position())+Z.position(),Z)}listSize(){let Z=this.bb.__offset(this.bb_pos,4);return Z?this.bb.readInt32(this.bb_pos+Z):0}static startFixedSizeList(Z){Z.startObject(1)}static addListSize(Z,X){Z.addFieldInt32(0,X,0)}static endFixedSizeList(Z){return Z.endObject()}static createFixedSizeList(Z,X){return x0.startFixedSizeList(Z),x0.addListSize(Z,X),x0.endFixedSizeList(Z)}}DJ.FixedSizeList=x0});var D8=F((kJ)=>{Object.defineProperty(kJ,"__esModule",{value:!0});kJ.FloatingPoint=void 0;var OU=m(),wJ=RY();class y0{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsFloatingPoint(Z,X){return(X||new y0).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsFloatingPoint(Z,X){return Z.setPosition(Z.position()+OU.SIZE_PREFIX_LENGTH),(X||new y0).__init(Z.readInt32(Z.position())+Z.position(),Z)}precision(){let Z=this.bb.__offset(this.bb_pos,4);return Z?this.bb.readInt16(this.bb_pos+Z):wJ.Precision.HALF}static startFloatingPoint(Z){Z.startObject(1)}static addPrecision(Z,X){Z.addFieldInt16(0,X,wJ.Precision.HALF)}static endFloatingPoint(Z){return Z.endObject()}static createFloatingPoint(Z,X){return y0.startFloatingPoint(Z),y0.addPrecision(Z,X),y0.endFloatingPoint(Z)}}kJ.FloatingPoint=y0});var C8=F((IJ)=>{Object.defineProperty(IJ,"__esModule",{value:!0});IJ.Interval=void 0;var DU=m(),BJ=FY();class m0{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsInterval(Z,X){return(X||new m0).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsInterval(Z,X){return Z.setPosition(Z.position()+DU.SIZE_PREFIX_LENGTH),(X||new m0).__init(Z.readInt32(Z.position())+Z.position(),Z)}unit(){let Z=this.bb.__offset(this.bb_pos,4);return Z?this.bb.readInt16(this.bb_pos+Z):BJ.IntervalUnit.YEAR_MONTH}static startInterval(Z){Z.startObject(1)}static addUnit(Z,X){Z.addFieldInt16(0,X,BJ.IntervalUnit.YEAR_MONTH)}static endInterval(Z){return Z.endObject()}static createInterval(Z,X){return m0.startInterval(Z),m0.addUnit(Z,X),m0.endInterval(Z)}}IJ.Interval=m0});var VY=F((TJ)=>{Object.defineProperty(TJ,"__esModule",{value:!0});TJ.LargeBinary=void 0;var CU=m();class L6{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsLargeBinary(Z,X){return(X||new L6).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsLargeBinary(Z,X){return Z.setPosition(Z.position()+CU.SIZE_PREFIX_LENGTH),(X||new L6).__init(Z.readInt32(Z.position())+Z.position(),Z)}static startLargeBinary(Z){Z.startObject(0)}static endLargeBinary(Z){return Z.endObject()}static createLargeBinary(Z){return L6.startLargeBinary(Z),L6.endLargeBinary(Z)}}TJ.LargeBinary=L6});var jJ=F((gJ)=>{Object.defineProperty(gJ,"__esModule",{value:!0});gJ.LargeList=void 0;var wU=m();class M6{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsLargeList(Z,X){return(X||new M6).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsLargeList(Z,X){return Z.setPosition(Z.position()+wU.SIZE_PREFIX_LENGTH),(X||new M6).__init(Z.readInt32(Z.position())+Z.position(),Z)}static startLargeList(Z){Z.startObject(0)}static endLargeList(Z){return Z.endObject()}static createLargeList(Z){return M6.startLargeList(Z),M6.endLargeList(Z)}}gJ.LargeList=M6});var TY=F((xJ)=>{Object.defineProperty(xJ,"__esModule",{value:!0});xJ.LargeUtf8=void 0;var kU=m();class A6{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsLargeUtf8(Z,X){return(X||new A6).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsLargeUtf8(Z,X){return Z.setPosition(Z.position()+kU.SIZE_PREFIX_LENGTH),(X||new A6).__init(Z.readInt32(Z.position())+Z.position(),Z)}static startLargeUtf8(Z){Z.startObject(0)}static endLargeUtf8(Z){return Z.endObject()}static createLargeUtf8(Z){return A6.startLargeUtf8(Z),A6.endLargeUtf8(Z)}}xJ.LargeUtf8=A6});var vY=F((mJ)=>{Object.defineProperty(mJ,"__esModule",{value:!0});mJ.List=void 0;var SU=m();class O6{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsList(Z,X){return(X||new O6).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsList(Z,X){return Z.setPosition(Z.position()+SU.SIZE_PREFIX_LENGTH),(X||new O6).__init(Z.readInt32(Z.position())+Z.position(),Z)}static startList(Z){Z.startObject(0)}static endList(Z){return Z.endObject()}static createList(Z){return O6.startList(Z),O6.endList(Z)}}mJ.List=O6});var w8=F((fJ)=>{Object.defineProperty(fJ,"__esModule",{value:!0});fJ.Map=void 0;var BU=m();class c0{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsMap(Z,X){return(X||new c0).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsMap(Z,X){return Z.setPosition(Z.position()+BU.SIZE_PREFIX_LENGTH),(X||new c0).__init(Z.readInt32(Z.position())+Z.position(),Z)}keysSorted(){let Z=this.bb.__offset(this.bb_pos,4);return Z?!!this.bb.readInt8(this.bb_pos+Z):!1}static startMap(Z){Z.startObject(1)}static addKeysSorted(Z,X){Z.addFieldInt8(0,+X,0)}static endMap(Z){return Z.endObject()}static createMap(Z,X){return c0.startMap(Z),c0.addKeysSorted(Z,X),c0.endMap(Z)}}fJ.Map=c0});var gY=F((bJ)=>{Object.defineProperty(bJ,"__esModule",{value:!0});bJ.Null=void 0;var IU=m();class D6{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsNull(Z,X){return(X||new D6).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsNull(Z,X){return Z.setPosition(Z.position()+IU.SIZE_PREFIX_LENGTH),(X||new D6).__init(Z.readInt32(Z.position())+Z.position(),Z)}static startNull(Z){Z.startObject(0)}static endNull(Z){return Z.endObject()}static createNull(Z){return D6.startNull(Z),D6.endNull(Z)}}bJ.Null=D6});var lJ=F((pJ)=>{Object.defineProperty(pJ,"__esModule",{value:!0});pJ.RunEndEncoded=void 0;var VU=m();class C6{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsRunEndEncoded(Z,X){return(X||new C6).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsRunEndEncoded(Z,X){return Z.setPosition(Z.position()+VU.SIZE_PREFIX_LENGTH),(X||new C6).__init(Z.readInt32(Z.position())+Z.position(),Z)}static startRunEndEncoded(Z){Z.startObject(0)}static endRunEndEncoded(Z){return Z.endObject()}static createRunEndEncoded(Z){return C6.startRunEndEncoded(Z),C6.endRunEndEncoded(Z)}}pJ.RunEndEncoded=C6});var hY=F((nJ)=>{Object.defineProperty(nJ,"__esModule",{value:!0});nJ.Struct_=void 0;var TU=m();class w6{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsStruct_(Z,X){return(X||new w6).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsStruct_(Z,X){return Z.setPosition(Z.position()+TU.SIZE_PREFIX_LENGTH),(X||new w6).__init(Z.readInt32(Z.position())+Z.position(),Z)}static startStruct_(Z){Z.startObject(0)}static endStruct_(Z){return Z.endObject()}static createStruct_(Z){return w6.startStruct_(Z),w6.endStruct_(Z)}}nJ.Struct_=w6});var k8=F((iJ)=>{Object.defineProperty(iJ,"__esModule",{value:!0});iJ.Time=void 0;var vU=m(),oJ=YX();class Z0{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsTime(Z,X){return(X||new Z0).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsTime(Z,X){return Z.setPosition(Z.position()+vU.SIZE_PREFIX_LENGTH),(X||new Z0).__init(Z.readInt32(Z.position())+Z.position(),Z)}unit(){let Z=this.bb.__offset(this.bb_pos,4);return Z?this.bb.readInt16(this.bb_pos+Z):oJ.TimeUnit.MILLISECOND}bitWidth(){let Z=this.bb.__offset(this.bb_pos,6);return Z?this.bb.readInt32(this.bb_pos+Z):32}static startTime(Z){Z.startObject(2)}static addUnit(Z,X){Z.addFieldInt16(0,X,oJ.TimeUnit.MILLISECOND)}static addBitWidth(Z,X){Z.addFieldInt32(1,X,32)}static endTime(Z){return Z.endObject()}static createTime(Z,X,$){return Z0.startTime(Z),Z0.addUnit(Z,X),Z0.addBitWidth(Z,$),Z0.endTime(Z)}}iJ.Time=Z0});var S8=F((tJ)=>{Object.defineProperty(tJ,"__esModule",{value:!0});tJ.Timestamp=void 0;var gU=m(),rJ=YX();class X0{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsTimestamp(Z,X){return(X||new X0).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsTimestamp(Z,X){return Z.setPosition(Z.position()+gU.SIZE_PREFIX_LENGTH),(X||new X0).__init(Z.readInt32(Z.position())+Z.position(),Z)}unit(){let Z=this.bb.__offset(this.bb_pos,4);return Z?this.bb.readInt16(this.bb_pos+Z):rJ.TimeUnit.SECOND}timezone(Z){let X=this.bb.__offset(this.bb_pos,6);return X?this.bb.__string(this.bb_pos+X,Z):null}static startTimestamp(Z){Z.startObject(2)}static addUnit(Z,X){Z.addFieldInt16(0,X,rJ.TimeUnit.SECOND)}static addTimezone(Z,X){Z.addFieldOffset(1,X,0)}static endTimestamp(Z){return Z.endObject()}static createTimestamp(Z,X,$){return X0.startTimestamp(Z),X0.addUnit(Z,X),X0.addTimezone(Z,$),X0.endTimestamp(Z)}}tJ.Timestamp=X0});var B8=F((XK)=>{Object.defineProperty(XK,"__esModule",{value:!0});XK.Union=void 0;var hU=m(),ZK=NY();class $0{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsUnion(Z,X){return(X||new $0).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsUnion(Z,X){return Z.setPosition(Z.position()+hU.SIZE_PREFIX_LENGTH),(X||new $0).__init(Z.readInt32(Z.position())+Z.position(),Z)}mode(){let Z=this.bb.__offset(this.bb_pos,4);return Z?this.bb.readInt16(this.bb_pos+Z):ZK.UnionMode.Sparse}typeIds(Z){let X=this.bb.__offset(this.bb_pos,6);return X?this.bb.readInt32(this.bb.__vector(this.bb_pos+X)+Z*4):0}typeIdsLength(){let Z=this.bb.__offset(this.bb_pos,6);return Z?this.bb.__vector_len(this.bb_pos+Z):0}typeIdsArray(){let Z=this.bb.__offset(this.bb_pos,6);return Z?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+Z),this.bb.__vector_len(this.bb_pos+Z)):null}static startUnion(Z){Z.startObject(2)}static addMode(Z,X){Z.addFieldInt16(0,X,ZK.UnionMode.Sparse)}static addTypeIds(Z,X){Z.addFieldOffset(1,X,0)}static createTypeIdsVector(Z,X){Z.startVector(4,X.length,4);for(let $=X.length-1;$>=0;$--)Z.addInt32(X[$]);return Z.endVector()}static startTypeIdsVector(Z,X){Z.startVector(4,X,4)}static endUnion(Z){return Z.endObject()}static createUnion(Z,X,$){return $0.startUnion(Z),$0.addMode(Z,X),$0.addTypeIds(Z,$),$0.endUnion(Z)}}XK.Union=$0});var jY=F((YK)=>{Object.defineProperty(YK,"__esModule",{value:!0});YK.Utf8=void 0;var jU=m();class k6{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsUtf8(Z,X){return(X||new k6).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsUtf8(Z,X){return Z.setPosition(Z.position()+jU.SIZE_PREFIX_LENGTH),(X||new k6).__init(Z.readInt32(Z.position())+Z.position(),Z)}static startUtf8(Z){Z.startObject(0)}static endUtf8(Z){return Z.endObject()}static createUtf8(Z){return k6.startUtf8(Z),k6.endUtf8(Z)}}YK.Utf8=k6});var S6=F((BK)=>{Object.defineProperty(BK,"__esModule",{value:!0});BK.unionListToType=BK.unionToType=BK.Type=void 0;var HK=BY(),qK=IY(),WK=U8(),JK=L8(),KK=M8(),PK=A8(),EK=O8(),GK=D8(),NK=t1(),RK=C8(),zK=VY(),FK=jJ(),UK=TY(),LK=vY(),MK=w8(),AK=gY(),OK=lJ(),DK=hY(),CK=k8(),wK=S8(),kK=B8(),SK=jY(),I8;(function(Z){Z[Z.NONE=0]="NONE",Z[Z.Null=1]="Null",Z[Z.Int=2]="Int",Z[Z.FloatingPoint=3]="FloatingPoint",Z[Z.Binary=4]="Binary",Z[Z.Utf8=5]="Utf8",Z[Z.Bool=6]="Bool",Z[Z.Decimal=7]="Decimal",Z[Z.Date=8]="Date",Z[Z.Time=9]="Time",Z[Z.Timestamp=10]="Timestamp",Z[Z.Interval=11]="Interval",Z[Z.List=12]="List",Z[Z.Struct_=13]="Struct_",Z[Z.Union=14]="Union",Z[Z.FixedSizeBinary=15]="FixedSizeBinary",Z[Z.FixedSizeList=16]="FixedSizeList",Z[Z.Map=17]="Map",Z[Z.Duration=18]="Duration",Z[Z.LargeBinary=19]="LargeBinary",Z[Z.LargeUtf8=20]="LargeUtf8",Z[Z.LargeList=21]="LargeList",Z[Z.RunEndEncoded=22]="RunEndEncoded"})(I8||(BK.Type=I8={}));function xU(Z,X){switch(I8[Z]){case"NONE":return null;case"Null":return X(new AK.Null);case"Int":return X(new NK.Int);case"FloatingPoint":return X(new GK.FloatingPoint);case"Binary":return X(new HK.Binary);case"Utf8":return X(new SK.Utf8);case"Bool":return X(new qK.Bool);case"Decimal":return X(new JK.Decimal);case"Date":return X(new WK.Date);case"Time":return X(new CK.Time);case"Timestamp":return X(new wK.Timestamp);case"Interval":return X(new RK.Interval);case"List":return X(new LK.List);case"Struct_":return X(new DK.Struct_);case"Union":return X(new kK.Union);case"FixedSizeBinary":return X(new PK.FixedSizeBinary);case"FixedSizeList":return X(new EK.FixedSizeList);case"Map":return X(new MK.Map);case"Duration":return X(new KK.Duration);case"LargeBinary":return X(new zK.LargeBinary);case"LargeUtf8":return X(new UK.LargeUtf8);case"LargeList":return X(new FK.LargeList);case"RunEndEncoded":return X(new OK.RunEndEncoded);default:return null}}BK.unionToType=xU;function yU(Z,X,$){switch(I8[Z]){case"NONE":return null;case"Null":return X($,new AK.Null);case"Int":return X($,new NK.Int);case"FloatingPoint":return X($,new GK.FloatingPoint);case"Binary":return X($,new HK.Binary);case"Utf8":return X($,new SK.Utf8);case"Bool":return X($,new qK.Bool);case"Decimal":return X($,new JK.Decimal);case"Date":return X($,new WK.Date);case"Time":return X($,new CK.Time);case"Timestamp":return X($,new wK.Timestamp);case"Interval":return X($,new RK.Interval);case"List":return X($,new LK.List);case"Struct_":return X($,new DK.Struct_);case"Union":return X($,new kK.Union);case"FixedSizeBinary":return X($,new PK.FixedSizeBinary);case"FixedSizeList":return X($,new EK.FixedSizeList);case"Map":return X($,new MK.Map);case"Duration":return X($,new KK.Duration);case"LargeBinary":return X($,new zK.LargeBinary);case"LargeUtf8":return X($,new UK.LargeUtf8);case"LargeList":return X($,new FK.LargeList);case"RunEndEncoded":return X($,new OK.RunEndEncoded);default:return null}}BK.unionListToType=yU});var xY=F((TK)=>{Object.defineProperty(TK,"__esModule",{value:!0});TK.Field=void 0;var fU=m(),_U=SY(),bU=z6(),VK=S6();class QX{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsField(Z,X){return(X||new QX).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsField(Z,X){return Z.setPosition(Z.position()+fU.SIZE_PREFIX_LENGTH),(X||new QX).__init(Z.readInt32(Z.position())+Z.position(),Z)}name(Z){let X=this.bb.__offset(this.bb_pos,4);return X?this.bb.__string(this.bb_pos+X,Z):null}nullable(){let Z=this.bb.__offset(this.bb_pos,6);return Z?!!this.bb.readInt8(this.bb_pos+Z):!1}typeType(){let Z=this.bb.__offset(this.bb_pos,8);return Z?this.bb.readUint8(this.bb_pos+Z):VK.Type.NONE}type(Z){let X=this.bb.__offset(this.bb_pos,10);return X?this.bb.__union(Z,this.bb_pos+X):null}dictionary(Z){let X=this.bb.__offset(this.bb_pos,12);return X?(Z||new _U.DictionaryEncoding).__init(this.bb.__indirect(this.bb_pos+X),this.bb):null}children(Z,X){let $=this.bb.__offset(this.bb_pos,14);return $?(X||new QX).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+$)+Z*4),this.bb):null}childrenLength(){let Z=this.bb.__offset(this.bb_pos,14);return Z?this.bb.__vector_len(this.bb_pos+Z):0}customMetadata(Z,X){let $=this.bb.__offset(this.bb_pos,16);return $?(X||new bU.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+$)+Z*4),this.bb):null}customMetadataLength(){let Z=this.bb.__offset(this.bb_pos,16);return Z?this.bb.__vector_len(this.bb_pos+Z):0}static startField(Z){Z.startObject(7)}static addName(Z,X){Z.addFieldOffset(0,X,0)}static addNullable(Z,X){Z.addFieldInt8(1,+X,0)}static addTypeType(Z,X){Z.addFieldInt8(2,X,VK.Type.NONE)}static addType(Z,X){Z.addFieldOffset(3,X,0)}static addDictionary(Z,X){Z.addFieldOffset(4,X,0)}static addChildren(Z,X){Z.addFieldOffset(5,X,0)}static createChildrenVector(Z,X){Z.startVector(4,X.length,4);for(let $=X.length-1;$>=0;$--)Z.addOffset(X[$]);return Z.endVector()}static startChildrenVector(Z,X){Z.startVector(4,X,4)}static addCustomMetadata(Z,X){Z.addFieldOffset(6,X,0)}static createCustomMetadataVector(Z,X){Z.startVector(4,X.length,4);for(let $=X.length-1;$>=0;$--)Z.addOffset(X[$]);return Z.endVector()}static startCustomMetadataVector(Z,X){Z.startVector(4,X,4)}static endField(Z){return Z.endObject()}}TK.Field=QX});var V8=F((hK)=>{Object.defineProperty(hK,"__esModule",{value:!0});hK.Schema=void 0;var uU=m(),gK=kY(),pU=xY(),dU=z6();class R1{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsSchema(Z,X){return(X||new R1).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsSchema(Z,X){return Z.setPosition(Z.position()+uU.SIZE_PREFIX_LENGTH),(X||new R1).__init(Z.readInt32(Z.position())+Z.position(),Z)}endianness(){let Z=this.bb.__offset(this.bb_pos,4);return Z?this.bb.readInt16(this.bb_pos+Z):gK.Endianness.Little}fields(Z,X){let $=this.bb.__offset(this.bb_pos,6);return $?(X||new pU.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+$)+Z*4),this.bb):null}fieldsLength(){let Z=this.bb.__offset(this.bb_pos,6);return Z?this.bb.__vector_len(this.bb_pos+Z):0}customMetadata(Z,X){let $=this.bb.__offset(this.bb_pos,8);return $?(X||new dU.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+$)+Z*4),this.bb):null}customMetadataLength(){let Z=this.bb.__offset(this.bb_pos,8);return Z?this.bb.__vector_len(this.bb_pos+Z):0}features(Z){let X=this.bb.__offset(this.bb_pos,10);return X?this.bb.readInt64(this.bb.__vector(this.bb_pos+X)+Z*8):BigInt(0)}featuresLength(){let Z=this.bb.__offset(this.bb_pos,10);return Z?this.bb.__vector_len(this.bb_pos+Z):0}static startSchema(Z){Z.startObject(4)}static addEndianness(Z,X){Z.addFieldInt16(0,X,gK.Endianness.Little)}static addFields(Z,X){Z.addFieldOffset(1,X,0)}static createFieldsVector(Z,X){Z.startVector(4,X.length,4);for(let $=X.length-1;$>=0;$--)Z.addOffset(X[$]);return Z.endVector()}static startFieldsVector(Z,X){Z.startVector(4,X,4)}static addCustomMetadata(Z,X){Z.addFieldOffset(2,X,0)}static createCustomMetadataVector(Z,X){Z.startVector(4,X.length,4);for(let $=X.length-1;$>=0;$--)Z.addOffset(X[$]);return Z.endVector()}static startCustomMetadataVector(Z,X){Z.startVector(4,X,4)}static addFeatures(Z,X){Z.addFieldOffset(3,X,0)}static createFeaturesVector(Z,X){Z.startVector(8,X.length,8);for(let $=X.length-1;$>=0;$--)Z.addInt64(X[$]);return Z.endVector()}static startFeaturesVector(Z,X){Z.startVector(8,X,8)}static endSchema(Z){return Z.endObject()}static finishSchemaBuffer(Z,X){Z.finish(X)}static finishSizePrefixedSchemaBuffer(Z,X){Z.finish(X,void 0,!0)}static createSchema(Z,X,$,Y,Q){return R1.startSchema(Z),R1.addEndianness(Z,X),R1.addFields(Z,$),R1.addCustomMetadata(Z,Y),R1.addFeatures(Z,Q),R1.endSchema(Z)}}hK.Schema=R1});var cK=F((yK)=>{Object.defineProperty(yK,"__esModule",{value:!0});yK.SparseMatrixCompressedAxis=void 0;var xK;(function(Z){Z[Z.Row=0]="Row",Z[Z.Column=1]="Column"})(xK||(yK.SparseMatrixCompressedAxis=xK={}))});var dK=F((uK)=>{Object.defineProperty(uK,"__esModule",{value:!0});uK.SparseMatrixIndexCSX=void 0;var lU=m(),fK=s1(),_K=t1(),bK=cK();class T8{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsSparseMatrixIndexCSX(Z,X){return(X||new T8).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsSparseMatrixIndexCSX(Z,X){return Z.setPosition(Z.position()+lU.SIZE_PREFIX_LENGTH),(X||new T8).__init(Z.readInt32(Z.position())+Z.position(),Z)}compressedAxis(){let Z=this.bb.__offset(this.bb_pos,4);return Z?this.bb.readInt16(this.bb_pos+Z):bK.SparseMatrixCompressedAxis.Row}indptrType(Z){let X=this.bb.__offset(this.bb_pos,6);return X?(Z||new _K.Int).__init(this.bb.__indirect(this.bb_pos+X),this.bb):null}indptrBuffer(Z){let X=this.bb.__offset(this.bb_pos,8);return X?(Z||new fK.Buffer).__init(this.bb_pos+X,this.bb):null}indicesType(Z){let X=this.bb.__offset(this.bb_pos,10);return X?(Z||new _K.Int).__init(this.bb.__indirect(this.bb_pos+X),this.bb):null}indicesBuffer(Z){let X=this.bb.__offset(this.bb_pos,12);return X?(Z||new fK.Buffer).__init(this.bb_pos+X,this.bb):null}static startSparseMatrixIndexCSX(Z){Z.startObject(5)}static addCompressedAxis(Z,X){Z.addFieldInt16(0,X,bK.SparseMatrixCompressedAxis.Row)}static addIndptrType(Z,X){Z.addFieldOffset(1,X,0)}static addIndptrBuffer(Z,X){Z.addFieldStruct(2,X,0)}static addIndicesType(Z,X){Z.addFieldOffset(3,X,0)}static addIndicesBuffer(Z,X){Z.addFieldStruct(4,X,0)}static endSparseMatrixIndexCSX(Z){let X=Z.endObject();return Z.requiredField(X,6),Z.requiredField(X,8),Z.requiredField(X,10),Z.requiredField(X,12),X}}uK.SparseMatrixIndexCSX=T8});var aK=F((lK)=>{Object.defineProperty(lK,"__esModule",{value:!0});lK.SparseTensorIndexCOO=void 0;var nU=m(),aU=s1(),oU=t1();class v8{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsSparseTensorIndexCOO(Z,X){return(X||new v8).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsSparseTensorIndexCOO(Z,X){return Z.setPosition(Z.position()+nU.SIZE_PREFIX_LENGTH),(X||new v8).__init(Z.readInt32(Z.position())+Z.position(),Z)}indicesType(Z){let X=this.bb.__offset(this.bb_pos,4);return X?(Z||new oU.Int).__init(this.bb.__indirect(this.bb_pos+X),this.bb):null}indicesStrides(Z){let X=this.bb.__offset(this.bb_pos,6);return X?this.bb.readInt64(this.bb.__vector(this.bb_pos+X)+Z*8):BigInt(0)}indicesStridesLength(){let Z=this.bb.__offset(this.bb_pos,6);return Z?this.bb.__vector_len(this.bb_pos+Z):0}indicesBuffer(Z){let X=this.bb.__offset(this.bb_pos,8);return X?(Z||new aU.Buffer).__init(this.bb_pos+X,this.bb):null}isCanonical(){let Z=this.bb.__offset(this.bb_pos,10);return Z?!!this.bb.readInt8(this.bb_pos+Z):!1}static startSparseTensorIndexCOO(Z){Z.startObject(4)}static addIndicesType(Z,X){Z.addFieldOffset(0,X,0)}static addIndicesStrides(Z,X){Z.addFieldOffset(1,X,0)}static createIndicesStridesVector(Z,X){Z.startVector(8,X.length,8);for(let $=X.length-1;$>=0;$--)Z.addInt64(X[$]);return Z.endVector()}static startIndicesStridesVector(Z,X){Z.startVector(8,X,8)}static addIndicesBuffer(Z,X){Z.addFieldStruct(2,X,0)}static addIsCanonical(Z,X){Z.addFieldInt8(3,+X,0)}static endSparseTensorIndexCOO(Z){let X=Z.endObject();return Z.requiredField(X,4),Z.requiredField(X,8),X}}lK.SparseTensorIndexCOO=v8});var tK=F((sK)=>{Object.defineProperty(sK,"__esModule",{value:!0});sK.SparseTensorIndexCSF=void 0;var iU=m(),oK=s1(),iK=t1();class g8{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsSparseTensorIndexCSF(Z,X){return(X||new g8).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsSparseTensorIndexCSF(Z,X){return Z.setPosition(Z.position()+iU.SIZE_PREFIX_LENGTH),(X||new g8).__init(Z.readInt32(Z.position())+Z.position(),Z)}indptrType(Z){let X=this.bb.__offset(this.bb_pos,4);return X?(Z||new iK.Int).__init(this.bb.__indirect(this.bb_pos+X),this.bb):null}indptrBuffers(Z,X){let $=this.bb.__offset(this.bb_pos,6);return $?(X||new oK.Buffer).__init(this.bb.__vector(this.bb_pos+$)+Z*16,this.bb):null}indptrBuffersLength(){let Z=this.bb.__offset(this.bb_pos,6);return Z?this.bb.__vector_len(this.bb_pos+Z):0}indicesType(Z){let X=this.bb.__offset(this.bb_pos,8);return X?(Z||new iK.Int).__init(this.bb.__indirect(this.bb_pos+X),this.bb):null}indicesBuffers(Z,X){let $=this.bb.__offset(this.bb_pos,10);return $?(X||new oK.Buffer).__init(this.bb.__vector(this.bb_pos+$)+Z*16,this.bb):null}indicesBuffersLength(){let Z=this.bb.__offset(this.bb_pos,10);return Z?this.bb.__vector_len(this.bb_pos+Z):0}axisOrder(Z){let X=this.bb.__offset(this.bb_pos,12);return X?this.bb.readInt32(this.bb.__vector(this.bb_pos+X)+Z*4):0}axisOrderLength(){let Z=this.bb.__offset(this.bb_pos,12);return Z?this.bb.__vector_len(this.bb_pos+Z):0}axisOrderArray(){let Z=this.bb.__offset(this.bb_pos,12);return Z?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+Z),this.bb.__vector_len(this.bb_pos+Z)):null}static startSparseTensorIndexCSF(Z){Z.startObject(5)}static addIndptrType(Z,X){Z.addFieldOffset(0,X,0)}static addIndptrBuffers(Z,X){Z.addFieldOffset(1,X,0)}static startIndptrBuffersVector(Z,X){Z.startVector(16,X,8)}static addIndicesType(Z,X){Z.addFieldOffset(2,X,0)}static addIndicesBuffers(Z,X){Z.addFieldOffset(3,X,0)}static startIndicesBuffersVector(Z,X){Z.startVector(16,X,8)}static addAxisOrder(Z,X){Z.addFieldOffset(4,X,0)}static createAxisOrderVector(Z,X){Z.startVector(4,X.length,4);for(let $=X.length-1;$>=0;$--)Z.addInt32(X[$]);return Z.endVector()}static startAxisOrderVector(Z,X){Z.startVector(4,X,4)}static endSparseTensorIndexCSF(Z){let X=Z.endObject();return Z.requiredField(X,4),Z.requiredField(X,6),Z.requiredField(X,8),Z.requiredField(X,10),Z.requiredField(X,12),X}}sK.SparseTensorIndexCSF=g8});var QP=F(($P)=>{Object.defineProperty($P,"__esModule",{value:!0});$P.unionListToSparseTensorIndex=$P.unionToSparseTensorIndex=$P.SparseTensorIndex=void 0;var eK=dK(),ZP=aK(),XP=tK(),h8;(function(Z){Z[Z.NONE=0]="NONE",Z[Z.SparseTensorIndexCOO=1]="SparseTensorIndexCOO",Z[Z.SparseMatrixIndexCSX=2]="SparseMatrixIndexCSX",Z[Z.SparseTensorIndexCSF=3]="SparseTensorIndexCSF"})(h8||($P.SparseTensorIndex=h8={}));function sU(Z,X){switch(h8[Z]){case"NONE":return null;case"SparseTensorIndexCOO":return X(new ZP.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return X(new eK.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return X(new XP.SparseTensorIndexCSF);default:return null}}$P.unionToSparseTensorIndex=sU;function rU(Z,X,$){switch(h8[Z]){case"NONE":return null;case"SparseTensorIndexCOO":return X($,new ZP.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return X($,new eK.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return X($,new XP.SparseTensorIndexCSF);default:return null}}$P.unionListToSparseTensorIndex=rU});var yY=F((HP)=>{Object.defineProperty(HP,"__esModule",{value:!0});HP.TensorDim=void 0;var ZL=m();class Y0{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsTensorDim(Z,X){return(X||new Y0).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsTensorDim(Z,X){return Z.setPosition(Z.position()+ZL.SIZE_PREFIX_LENGTH),(X||new Y0).__init(Z.readInt32(Z.position())+Z.position(),Z)}size(){let Z=this.bb.__offset(this.bb_pos,4);return Z?this.bb.readInt64(this.bb_pos+Z):BigInt("0")}name(Z){let X=this.bb.__offset(this.bb_pos,6);return X?this.bb.__string(this.bb_pos+X,Z):null}static startTensorDim(Z){Z.startObject(2)}static addSize(Z,X){Z.addFieldInt64(0,X,BigInt("0"))}static addName(Z,X){Z.addFieldOffset(1,X,0)}static endTensorDim(Z){return Z.endObject()}static createTensorDim(Z,X,$){return Y0.startTensorDim(Z),Y0.addSize(Z,X),Y0.addName(Z,$),Y0.endTensorDim(Z)}}HP.TensorDim=Y0});var EP=F((KP)=>{Object.defineProperty(KP,"__esModule",{value:!0});KP.SparseTensor=void 0;var XL=m(),$L=s1(),WP=QP(),YL=yY(),JP=S6();class j8{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsSparseTensor(Z,X){return(X||new j8).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsSparseTensor(Z,X){return Z.setPosition(Z.position()+XL.SIZE_PREFIX_LENGTH),(X||new j8).__init(Z.readInt32(Z.position())+Z.position(),Z)}typeType(){let Z=this.bb.__offset(this.bb_pos,4);return Z?this.bb.readUint8(this.bb_pos+Z):JP.Type.NONE}type(Z){let X=this.bb.__offset(this.bb_pos,6);return X?this.bb.__union(Z,this.bb_pos+X):null}shape(Z,X){let $=this.bb.__offset(this.bb_pos,8);return $?(X||new YL.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+$)+Z*4),this.bb):null}shapeLength(){let Z=this.bb.__offset(this.bb_pos,8);return Z?this.bb.__vector_len(this.bb_pos+Z):0}nonZeroLength(){let Z=this.bb.__offset(this.bb_pos,10);return Z?this.bb.readInt64(this.bb_pos+Z):BigInt("0")}sparseIndexType(){let Z=this.bb.__offset(this.bb_pos,12);return Z?this.bb.readUint8(this.bb_pos+Z):WP.SparseTensorIndex.NONE}sparseIndex(Z){let X=this.bb.__offset(this.bb_pos,14);return X?this.bb.__union(Z,this.bb_pos+X):null}data(Z){let X=this.bb.__offset(this.bb_pos,16);return X?(Z||new $L.Buffer).__init(this.bb_pos+X,this.bb):null}static startSparseTensor(Z){Z.startObject(7)}static addTypeType(Z,X){Z.addFieldInt8(0,X,JP.Type.NONE)}static addType(Z,X){Z.addFieldOffset(1,X,0)}static addShape(Z,X){Z.addFieldOffset(2,X,0)}static createShapeVector(Z,X){Z.startVector(4,X.length,4);for(let $=X.length-1;$>=0;$--)Z.addOffset(X[$]);return Z.endVector()}static startShapeVector(Z,X){Z.startVector(4,X,4)}static addNonZeroLength(Z,X){Z.addFieldInt64(3,X,BigInt("0"))}static addSparseIndexType(Z,X){Z.addFieldInt8(4,X,WP.SparseTensorIndex.NONE)}static addSparseIndex(Z,X){Z.addFieldOffset(5,X,0)}static addData(Z,X){Z.addFieldStruct(6,X,0)}static endSparseTensor(Z){let X=Z.endObject();return Z.requiredField(X,6),Z.requiredField(X,8),Z.requiredField(X,14),Z.requiredField(X,16),X}static finishSparseTensorBuffer(Z,X){Z.finish(X)}static finishSizePrefixedSparseTensorBuffer(Z,X){Z.finish(X,void 0,!0)}}KP.SparseTensor=j8});var zP=F((NP)=>{Object.defineProperty(NP,"__esModule",{value:!0});NP.Tensor=void 0;var QL=m(),HL=s1(),qL=yY(),GP=S6();class x8{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsTensor(Z,X){return(X||new x8).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsTensor(Z,X){return Z.setPosition(Z.position()+QL.SIZE_PREFIX_LENGTH),(X||new x8).__init(Z.readInt32(Z.position())+Z.position(),Z)}typeType(){let Z=this.bb.__offset(this.bb_pos,4);return Z?this.bb.readUint8(this.bb_pos+Z):GP.Type.NONE}type(Z){let X=this.bb.__offset(this.bb_pos,6);return X?this.bb.__union(Z,this.bb_pos+X):null}shape(Z,X){let $=this.bb.__offset(this.bb_pos,8);return $?(X||new qL.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+$)+Z*4),this.bb):null}shapeLength(){let Z=this.bb.__offset(this.bb_pos,8);return Z?this.bb.__vector_len(this.bb_pos+Z):0}strides(Z){let X=this.bb.__offset(this.bb_pos,10);return X?this.bb.readInt64(this.bb.__vector(this.bb_pos+X)+Z*8):BigInt(0)}stridesLength(){let Z=this.bb.__offset(this.bb_pos,10);return Z?this.bb.__vector_len(this.bb_pos+Z):0}data(Z){let X=this.bb.__offset(this.bb_pos,12);return X?(Z||new HL.Buffer).__init(this.bb_pos+X,this.bb):null}static startTensor(Z){Z.startObject(5)}static addTypeType(Z,X){Z.addFieldInt8(0,X,GP.Type.NONE)}static addType(Z,X){Z.addFieldOffset(1,X,0)}static addShape(Z,X){Z.addFieldOffset(2,X,0)}static createShapeVector(Z,X){Z.startVector(4,X.length,4);for(let $=X.length-1;$>=0;$--)Z.addOffset(X[$]);return Z.endVector()}static startShapeVector(Z,X){Z.startVector(4,X,4)}static addStrides(Z,X){Z.addFieldOffset(3,X,0)}static createStridesVector(Z,X){Z.startVector(8,X.length,8);for(let $=X.length-1;$>=0;$--)Z.addInt64(X[$]);return Z.endVector()}static startStridesVector(Z,X){Z.startVector(8,X,8)}static addData(Z,X){Z.addFieldStruct(4,X,0)}static endTensor(Z){let X=Z.endObject();return Z.requiredField(X,6),Z.requiredField(X,8),Z.requiredField(X,12),X}static finishTensorBuffer(Z,X){Z.finish(X)}static finishSizePrefixedTensorBuffer(Z,X){Z.finish(X,void 0,!0)}}NP.Tensor=x8});var m8=F((OP)=>{Object.defineProperty(OP,"__esModule",{value:!0});OP.unionListToMessageHeader=OP.unionToMessageHeader=OP.MessageHeader=void 0;var FP=wY(),UP=R8(),LP=V8(),MP=EP(),AP=zP(),y8;(function(Z){Z[Z.NONE=0]="NONE",Z[Z.Schema=1]="Schema",Z[Z.DictionaryBatch=2]="DictionaryBatch",Z[Z.RecordBatch=3]="RecordBatch",Z[Z.Tensor=4]="Tensor",Z[Z.SparseTensor=5]="SparseTensor"})(y8||(OP.MessageHeader=y8={}));function WL(Z,X){switch(y8[Z]){case"NONE":return null;case"Schema":return X(new LP.Schema);case"DictionaryBatch":return X(new FP.DictionaryBatch);case"RecordBatch":return X(new UP.RecordBatch);case"Tensor":return X(new AP.Tensor);case"SparseTensor":return X(new MP.SparseTensor);default:return null}}OP.unionToMessageHeader=WL;function JL(Z,X,$){switch(y8[Z]){case"NONE":return null;case"Schema":return X($,new LP.Schema);case"DictionaryBatch":return X($,new FP.DictionaryBatch);case"RecordBatch":return X($,new UP.RecordBatch);case"Tensor":return X($,new AP.Tensor);case"SparseTensor":return X($,new MP.SparseTensor);default:return null}}OP.unionListToMessageHeader=JL});var JZ=F((g1)=>{Object.defineProperty(g1,"__esModule",{value:!0});g1.BufferType=g1.Type=g1.MessageHeader=g1.IntervalUnit=g1.TimeUnit=g1.DateUnit=g1.Precision=g1.UnionMode=g1.MetadataVersion=void 0;var EL=E8();Object.defineProperty(g1,"MetadataVersion",{enumerable:!0,get:function(){return EL.MetadataVersion}});var GL=NY();Object.defineProperty(g1,"UnionMode",{enumerable:!0,get:function(){return GL.UnionMode}});var NL=RY();Object.defineProperty(g1,"Precision",{enumerable:!0,get:function(){return NL.Precision}});var RL=zY();Object.defineProperty(g1,"DateUnit",{enumerable:!0,get:function(){return RL.DateUnit}});var zL=YX();Object.defineProperty(g1,"TimeUnit",{enumerable:!0,get:function(){return zL.TimeUnit}});var FL=FY();Object.defineProperty(g1,"IntervalUnit",{enumerable:!0,get:function(){return FL.IntervalUnit}});var UL=m8();Object.defineProperty(g1,"MessageHeader",{enumerable:!0,get:function(){return UL.MessageHeader}});var CP;(function(Z){Z[Z.NONE=0]="NONE",Z[Z.Null=1]="Null",Z[Z.Int=2]="Int",Z[Z.Float=3]="Float",Z[Z.Binary=4]="Binary",Z[Z.Utf8=5]="Utf8",Z[Z.Bool=6]="Bool",Z[Z.Decimal=7]="Decimal",Z[Z.Date=8]="Date",Z[Z.Time=9]="Time",Z[Z.Timestamp=10]="Timestamp",Z[Z.Interval=11]="Interval",Z[Z.List=12]="List",Z[Z.Struct=13]="Struct",Z[Z.Union=14]="Union",Z[Z.FixedSizeBinary=15]="FixedSizeBinary",Z[Z.FixedSizeList=16]="FixedSizeList",Z[Z.Map=17]="Map",Z[Z.Duration=18]="Duration",Z[Z.LargeBinary=19]="LargeBinary",Z[Z.LargeUtf8=20]="LargeUtf8",Z[Z.Dictionary=-1]="Dictionary",Z[Z.Int8=-2]="Int8",Z[Z.Int16=-3]="Int16",Z[Z.Int32=-4]="Int32",Z[Z.Int64=-5]="Int64",Z[Z.Uint8=-6]="Uint8",Z[Z.Uint16=-7]="Uint16",Z[Z.Uint32=-8]="Uint32",Z[Z.Uint64=-9]="Uint64",Z[Z.Float16=-10]="Float16",Z[Z.Float32=-11]="Float32",Z[Z.Float64=-12]="Float64",Z[Z.DateDay=-13]="DateDay",Z[Z.DateMillisecond=-14]="DateMillisecond",Z[Z.TimestampSecond=-15]="TimestampSecond",Z[Z.TimestampMillisecond=-16]="TimestampMillisecond",Z[Z.TimestampMicrosecond=-17]="TimestampMicrosecond",Z[Z.TimestampNanosecond=-18]="TimestampNanosecond",Z[Z.TimeSecond=-19]="TimeSecond",Z[Z.TimeMillisecond=-20]="TimeMillisecond",Z[Z.TimeMicrosecond=-21]="TimeMicrosecond",Z[Z.TimeNanosecond=-22]="TimeNanosecond",Z[Z.DenseUnion=-23]="DenseUnion",Z[Z.SparseUnion=-24]="SparseUnion",Z[Z.IntervalDayTime=-25]="IntervalDayTime",Z[Z.IntervalYearMonth=-26]="IntervalYearMonth",Z[Z.DurationSecond=-27]="DurationSecond",Z[Z.DurationMillisecond=-28]="DurationMillisecond",Z[Z.DurationMicrosecond=-29]="DurationMicrosecond",Z[Z.DurationNanosecond=-30]="DurationNanosecond"})(CP||(g1.Type=CP={}));var wP;(function(Z){Z[Z.OFFSET=0]="OFFSET",Z[Z.DATA=1]="DATA",Z[Z.VALIDITY=2]="VALIDITY",Z[Z.TYPE=3]="TYPE"})(wP||(g1.BufferType=wP={}))});var HX=F((BP)=>{Object.defineProperty(BP,"__esModule",{value:!0});BP.valueToString=void 0;var ML=void 0;function SP(Z){if(Z===null)return"null";if(Z===ML)return"undefined";switch(typeof Z){case"number":return`${Z}`;case"bigint":return`${Z}`;case"string":return`"${Z}"`}if(typeof Z[Symbol.toPrimitive]==="function")return Z[Symbol.toPrimitive]("string");if(ArrayBuffer.isView(Z)){if(Z instanceof BigInt64Array||Z instanceof BigUint64Array)return`[${[...Z].map((X)=>SP(X))}]`;return`[${Z}]`}return ArrayBuffer.isView(Z)?`[${Z}]`:JSON.stringify(Z,(X,$)=>typeof $==="bigint"?`${$}`:$)}BP.valueToString=SP});var Q0=F((VP)=>{Object.defineProperty(VP,"__esModule",{value:!0});VP.divideBigInts=VP.bigIntToNumber=void 0;function c8(Z){if(typeof Z==="bigint"&&(Z<Number.MIN_SAFE_INTEGER||Z>Number.MAX_SAFE_INTEGER))throw TypeError(`${Z} is not safe to convert to a number.`);return Number(Z)}VP.bigIntToNumber=c8;function AL(Z,X){return c8(Z/X)+c8(Z%X)/c8(X)}VP.divideBigInts=AL});var _8=F((gP)=>{Object.defineProperty(gP,"__esModule",{value:!0});gP.BN=gP.bigNumToBigInt=gP.bigNumToString=gP.bigNumToNumber=gP.isArrowBigNumSymbol=void 0;var DL=OZ(),f8=Q0();gP.isArrowBigNumSymbol=Symbol.for("isArrowBigNum");function $1(Z,...X){if(X.length===0)return Object.setPrototypeOf((0,DL.toArrayBufferView)(this.TypedArray,Z),this.constructor.prototype);return Object.setPrototypeOf(new this.TypedArray(Z,...X),this.constructor.prototype)}$1.prototype[gP.isArrowBigNumSymbol]=!0;$1.prototype.toJSON=function(){return`"${V6(this)}"`};$1.prototype.valueOf=function(Z){return cY(this,Z)};$1.prototype.toString=function(){return V6(this)};$1.prototype[Symbol.toPrimitive]=function(Z="default"){switch(Z){case"number":return cY(this);case"string":return V6(this);case"default":return vP(this)}return V6(this)};function B6(...Z){return $1.apply(this,Z)}function I6(...Z){return $1.apply(this,Z)}function qX(...Z){return $1.apply(this,Z)}Object.setPrototypeOf(B6.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(I6.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(qX.prototype,Object.create(Uint32Array.prototype));Object.assign(B6.prototype,$1.prototype,{constructor:B6,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(I6.prototype,$1.prototype,{constructor:I6,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(qX.prototype,$1.prototype,{constructor:qX,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});var CL=BigInt(4294967296)*BigInt(4294967296),wL=CL-BigInt(1);function cY(Z,X){let{buffer:$,byteOffset:Y,byteLength:Q,signed:H}=Z,q=new BigUint64Array($,Y,Q/8),W=H&&q.at(-1)&BigInt(1)<<BigInt(63),K=BigInt(0),P=0;if(W){for(let E of q)K|=(E^wL)*(BigInt(1)<<BigInt(64*P++));K*=BigInt(-1),K-=BigInt(1)}else for(let E of q)K|=E*(BigInt(1)<<BigInt(64*P++));if(typeof X==="number"){let E=BigInt(Math.pow(10,X)),U=K/E,_=K%E;return(0,f8.bigIntToNumber)(U)+(0,f8.bigIntToNumber)(_)/(0,f8.bigIntToNumber)(E)}return(0,f8.bigIntToNumber)(K)}gP.bigNumToNumber=cY;function V6(Z){if(Z.byteLength===8)return`${new Z.BigIntArray(Z.buffer,Z.byteOffset,1)[0]}`;if(!Z.signed)return mY(Z);let X=new Uint16Array(Z.buffer,Z.byteOffset,Z.byteLength/2);if(new Int16Array([X.at(-1)])[0]>=0)return mY(Z);X=X.slice();let Y=1;for(let H=0;H<X.length;H++){let q=X[H],W=~q+Y;X[H]=W,Y&=q===0?1:0}return`-${mY(X)}`}gP.bigNumToString=V6;function vP(Z){if(Z.byteLength===8)return new Z.BigIntArray(Z.buffer,Z.byteOffset,1)[0];else return V6(Z)}gP.bigNumToBigInt=vP;function mY(Z){let X="",$=new Uint32Array(2),Y=new Uint16Array(Z.buffer,Z.byteOffset,Z.byteLength/2),Q=new Uint32Array((Y=new Uint16Array(Y).reverse()).buffer),H=-1,q=Y.length-1;do{for($[0]=Y[H=0];H<q;)Y[H++]=$[1]=$[0]/10,$[0]=($[0]-$[1]*10<<16)+Y[H];Y[H]=$[1]=$[0]/10,$[0]=$[0]-$[1]*10,X=`${$[0]}${X}`}while(Q[0]||Q[1]||Q[2]||Q[3]);return X!==null&&X!==void 0?X:"0"}class fY{static new(Z,X){switch(X){case!0:return new B6(Z);case!1:return new I6(Z)}switch(Z.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new B6(Z)}if(Z.byteLength===16)return new qX(Z);return new I6(Z)}static signed(Z){return new B6(Z)}static unsigned(Z){return new I6(Z)}static decimal(Z){return new qX(Z)}constructor(Z,X){return fY.new(Z,X)}}gP.BN=fY});var QZ=F((O9)=>{var xP,yP,mP,cP,fP,_P,bP,uP,pP,dP,lP,nP,aP,oP,iP,sP,rP,tP,eP,Z9,X9,$9;Object.defineProperty(O9,"__esModule",{value:!0});O9.Map_=O9.FixedSizeList=O9.FixedSizeBinary=O9.SparseUnion=O9.DenseUnion=O9.Union=O9.Struct=O9.List=O9.DurationNanosecond=O9.DurationMicrosecond=O9.DurationMillisecond=O9.DurationSecond=O9.Duration=O9.IntervalYearMonth=O9.IntervalDayTime=O9.Interval=O9.TimestampNanosecond=O9.TimestampMicrosecond=O9.TimestampMillisecond=O9.TimestampSecond=O9.Timestamp=O9.TimeNanosecond=O9.TimeMicrosecond=O9.TimeMillisecond=O9.TimeSecond=O9.Time=O9.DateMillisecond=O9.DateDay=O9.Date_=O9.Decimal=O9.Bool=O9.LargeUtf8=O9.Utf8=O9.LargeBinary=O9.Binary=O9.Float64=O9.Float32=O9.Float16=O9.Float=O9.Uint64=O9.Uint32=O9.Uint16=O9.Uint8=O9.Int64=O9.Int32=O9.Int16=O9.Int8=O9.Int=O9.Null=O9.DataType=void 0;O9.strideForType=O9.Dictionary=void 0;var IL=Q0(),O=JZ();class t{static isNull(Z){return(Z===null||Z===void 0?void 0:Z.typeId)===O.Type.Null}static isInt(Z){return(Z===null||Z===void 0?void 0:Z.typeId)===O.Type.Int}static isFloat(Z){return(Z===null||Z===void 0?void 0:Z.typeId)===O.Type.Float}static isBinary(Z){return(Z===null||Z===void 0?void 0:Z.typeId)===O.Type.Binary}static isLargeBinary(Z){return(Z===null||Z===void 0?void 0:Z.typeId)===O.Type.LargeBinary}static isUtf8(Z){return(Z===null||Z===void 0?void 0:Z.typeId)===O.Type.Utf8}static isLargeUtf8(Z){return(Z===null||Z===void 0?void 0:Z.typeId)===O.Type.LargeUtf8}static isBool(Z){return(Z===null||Z===void 0?void 0:Z.typeId)===O.Type.Bool}static isDecimal(Z){return(Z===null||Z===void 0?void 0:Z.typeId)===O.Type.Decimal}static isDate(Z){return(Z===null||Z===void 0?void 0:Z.typeId)===O.Type.Date}static isTime(Z){return(Z===null||Z===void 0?void 0:Z.typeId)===O.Type.Time}static isTimestamp(Z){return(Z===null||Z===void 0?void 0:Z.typeId)===O.Type.Timestamp}static isInterval(Z){return(Z===null||Z===void 0?void 0:Z.typeId)===O.Type.Interval}static isDuration(Z){return(Z===null||Z===void 0?void 0:Z.typeId)===O.Type.Duration}static isList(Z){return(Z===null||Z===void 0?void 0:Z.typeId)===O.Type.List}static isStruct(Z){return(Z===null||Z===void 0?void 0:Z.typeId)===O.Type.Struct}static isUnion(Z){return(Z===null||Z===void 0?void 0:Z.typeId)===O.Type.Union}static isFixedSizeBinary(Z){return(Z===null||Z===void 0?void 0:Z.typeId)===O.Type.FixedSizeBinary}static isFixedSizeList(Z){return(Z===null||Z===void 0?void 0:Z.typeId)===O.Type.FixedSizeList}static isMap(Z){return(Z===null||Z===void 0?void 0:Z.typeId)===O.Type.Map}static isDictionary(Z){return(Z===null||Z===void 0?void 0:Z.typeId)===O.Type.Dictionary}static isDenseUnion(Z){return t.isUnion(Z)&&Z.mode===O.UnionMode.Dense}static isSparseUnion(Z){return t.isUnion(Z)&&Z.mode===O.UnionMode.Sparse}constructor(Z){this.typeId=Z}}O9.DataType=t;xP=Symbol.toStringTag;t[xP]=((Z)=>{return Z.children=null,Z.ArrayType=Array,Z.OffsetArrayType=Int32Array,Z[Symbol.toStringTag]="DataType"})(t.prototype);class b8 extends t{constructor(){super(O.Type.Null)}toString(){return"Null"}}O9.Null=b8;yP=Symbol.toStringTag;b8[yP]=((Z)=>Z[Symbol.toStringTag]="Null")(b8.prototype);class dZ extends t{constructor(Z,X){super(O.Type.Int);this.isSigned=Z,this.bitWidth=X}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}O9.Int=dZ;mP=Symbol.toStringTag;dZ[mP]=((Z)=>{return Z.isSigned=null,Z.bitWidth=null,Z[Symbol.toStringTag]="Int"})(dZ.prototype);class _Y extends dZ{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}O9.Int8=_Y;class bY extends dZ{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}O9.Int16=bY;class uY extends dZ{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}O9.Int32=uY;class pY extends dZ{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}O9.Int64=pY;class dY extends dZ{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}O9.Uint8=dY;class lY extends dZ{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}O9.Uint16=lY;class nY extends dZ{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}O9.Uint32=nY;class aY extends dZ{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}O9.Uint64=aY;Object.defineProperty(_Y.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(bY.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(uY.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(pY.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(dY.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(lY.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(nY.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(aY.prototype,"ArrayType",{value:BigUint64Array});class f0 extends t{constructor(Z){super(O.Type.Float);this.precision=Z}get ArrayType(){switch(this.precision){case O.Precision.HALF:return Uint16Array;case O.Precision.SINGLE:return Float32Array;case O.Precision.DOUBLE:return Float64Array}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}O9.Float=f0;cP=Symbol.toStringTag;f0[cP]=((Z)=>{return Z.precision=null,Z[Symbol.toStringTag]="Float"})(f0.prototype);class oY extends f0{constructor(){super(O.Precision.HALF)}}O9.Float16=oY;class iY extends f0{constructor(){super(O.Precision.SINGLE)}}O9.Float32=iY;class sY extends f0{constructor(){super(O.Precision.DOUBLE)}}O9.Float64=sY;Object.defineProperty(oY.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(iY.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(sY.prototype,"ArrayType",{value:Float64Array});class u8 extends t{constructor(){super(O.Type.Binary)}toString(){return"Binary"}}O9.Binary=u8;fP=Symbol.toStringTag;u8[fP]=((Z)=>{return Z.ArrayType=Uint8Array,Z[Symbol.toStringTag]="Binary"})(u8.prototype);class p8 extends t{constructor(){super(O.Type.LargeBinary)}toString(){return"LargeBinary"}}O9.LargeBinary=p8;_P=Symbol.toStringTag;p8[_P]=((Z)=>{return Z.ArrayType=Uint8Array,Z.OffsetArrayType=BigInt64Array,Z[Symbol.toStringTag]="LargeBinary"})(p8.prototype);class d8 extends t{constructor(){super(O.Type.Utf8)}toString(){return"Utf8"}}O9.Utf8=d8;bP=Symbol.toStringTag;d8[bP]=((Z)=>{return Z.ArrayType=Uint8Array,Z[Symbol.toStringTag]="Utf8"})(d8.prototype);class l8 extends t{constructor(){super(O.Type.LargeUtf8)}toString(){return"LargeUtf8"}}O9.LargeUtf8=l8;uP=Symbol.toStringTag;l8[uP]=((Z)=>{return Z.ArrayType=Uint8Array,Z.OffsetArrayType=BigInt64Array,Z[Symbol.toStringTag]="LargeUtf8"})(l8.prototype);class n8 extends t{constructor(){super(O.Type.Bool)}toString(){return"Bool"}}O9.Bool=n8;pP=Symbol.toStringTag;n8[pP]=((Z)=>{return Z.ArrayType=Uint8Array,Z[Symbol.toStringTag]="Bool"})(n8.prototype);class a8 extends t{constructor(Z,X,$=128){super(O.Type.Decimal);this.scale=Z,this.precision=X,this.bitWidth=$}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}O9.Decimal=a8;dP=Symbol.toStringTag;a8[dP]=((Z)=>{return Z.scale=null,Z.precision=null,Z.ArrayType=Uint32Array,Z[Symbol.toStringTag]="Decimal"})(a8.prototype);class T6 extends t{constructor(Z){super(O.Type.Date);this.unit=Z}toString(){return`Date${(this.unit+1)*32}<${O.DateUnit[this.unit]}>`}get ArrayType(){return this.unit===O.DateUnit.DAY?Int32Array:BigInt64Array}}O9.Date_=T6;lP=Symbol.toStringTag;T6[lP]=((Z)=>{return Z.unit=null,Z[Symbol.toStringTag]="Date"})(T6.prototype);class Y9 extends T6{constructor(){super(O.DateUnit.DAY)}}O9.DateDay=Y9;class Q9 extends T6{constructor(){super(O.DateUnit.MILLISECOND)}}O9.DateMillisecond=Q9;class H0 extends t{constructor(Z,X){super(O.Type.Time);this.unit=Z,this.bitWidth=X}toString(){return`Time${this.bitWidth}<${O.TimeUnit[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}O9.Time=H0;nP=Symbol.toStringTag;H0[nP]=((Z)=>{return Z.unit=null,Z.bitWidth=null,Z[Symbol.toStringTag]="Time"})(H0.prototype);class H9 extends H0{constructor(){super(O.TimeUnit.SECOND,32)}}O9.TimeSecond=H9;class q9 extends H0{constructor(){super(O.TimeUnit.MILLISECOND,32)}}O9.TimeMillisecond=q9;class W9 extends H0{constructor(){super(O.TimeUnit.MICROSECOND,64)}}O9.TimeMicrosecond=W9;class J9 extends H0{constructor(){super(O.TimeUnit.NANOSECOND,64)}}O9.TimeNanosecond=J9;class q0 extends t{constructor(Z,X){super(O.Type.Timestamp);this.unit=Z,this.timezone=X}toString(){return`Timestamp<${O.TimeUnit[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}O9.Timestamp=q0;aP=Symbol.toStringTag;q0[aP]=((Z)=>{return Z.unit=null,Z.timezone=null,Z.ArrayType=BigInt64Array,Z[Symbol.toStringTag]="Timestamp"})(q0.prototype);class K9 extends q0{constructor(Z){super(O.TimeUnit.SECOND,Z)}}O9.TimestampSecond=K9;class P9 extends q0{constructor(Z){super(O.TimeUnit.MILLISECOND,Z)}}O9.TimestampMillisecond=P9;class E9 extends q0{constructor(Z){super(O.TimeUnit.MICROSECOND,Z)}}O9.TimestampMicrosecond=E9;class G9 extends q0{constructor(Z){super(O.TimeUnit.NANOSECOND,Z)}}O9.TimestampNanosecond=G9;class v6 extends t{constructor(Z){super(O.Type.Interval);this.unit=Z}toString(){return`Interval<${O.IntervalUnit[this.unit]}>`}}O9.Interval=v6;oP=Symbol.toStringTag;v6[oP]=((Z)=>{return Z.unit=null,Z.ArrayType=Int32Array,Z[Symbol.toStringTag]="Interval"})(v6.prototype);class N9 extends v6{constructor(){super(O.IntervalUnit.DAY_TIME)}}O9.IntervalDayTime=N9;class R9 extends v6{constructor(){super(O.IntervalUnit.YEAR_MONTH)}}O9.IntervalYearMonth=R9;class W0 extends t{constructor(Z){super(O.Type.Duration);this.unit=Z}toString(){return`Duration<${O.TimeUnit[this.unit]}>`}}O9.Duration=W0;iP=Symbol.toStringTag;W0[iP]=((Z)=>{return Z.unit=null,Z.ArrayType=BigInt64Array,Z[Symbol.toStringTag]="Duration"})(W0.prototype);class z9 extends W0{constructor(){super(O.TimeUnit.SECOND)}}O9.DurationSecond=z9;class F9 extends W0{constructor(){super(O.TimeUnit.MILLISECOND)}}O9.DurationMillisecond=F9;class U9 extends W0{constructor(){super(O.TimeUnit.MICROSECOND)}}O9.DurationMicrosecond=U9;class L9 extends W0{constructor(){super(O.TimeUnit.NANOSECOND)}}O9.DurationNanosecond=L9;class o8 extends t{constructor(Z){super(O.Type.List);this.children=[Z]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}O9.List=o8;sP=Symbol.toStringTag;o8[sP]=((Z)=>{return Z.children=null,Z[Symbol.toStringTag]="List"})(o8.prototype);class i8 extends t{constructor(Z){super(O.Type.Struct);this.children=Z}toString(){return`Struct<{${this.children.map((Z)=>`${Z.name}:${Z.type}`).join(", ")}}>`}}O9.Struct=i8;rP=Symbol.toStringTag;i8[rP]=((Z)=>{return Z.children=null,Z[Symbol.toStringTag]="Struct"})(i8.prototype);class g6 extends t{constructor(Z,X,$){super(O.Type.Union);this.mode=Z,this.children=$,this.typeIds=X=Int32Array.from(X),this.typeIdToChildIndex=X.reduce((Y,Q,H)=>(Y[Q]=H)&&Y||Y,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map((Z)=>`${Z.type}`).join(" | ")}>`}}O9.Union=g6;tP=Symbol.toStringTag;g6[tP]=((Z)=>{return Z.mode=null,Z.typeIds=null,Z.children=null,Z.typeIdToChildIndex=null,Z.ArrayType=Int8Array,Z[Symbol.toStringTag]="Union"})(g6.prototype);class M9 extends g6{constructor(Z,X){super(O.UnionMode.Dense,Z,X)}}O9.DenseUnion=M9;class A9 extends g6{constructor(Z,X){super(O.UnionMode.Sparse,Z,X)}}O9.SparseUnion=A9;class s8 extends t{constructor(Z){super(O.Type.FixedSizeBinary);this.byteWidth=Z}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}O9.FixedSizeBinary=s8;eP=Symbol.toStringTag;s8[eP]=((Z)=>{return Z.byteWidth=null,Z.ArrayType=Uint8Array,Z[Symbol.toStringTag]="FixedSizeBinary"})(s8.prototype);class r8 extends t{constructor(Z,X){super(O.Type.FixedSizeList);this.listSize=Z,this.children=[X]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}O9.FixedSizeList=r8;Z9=Symbol.toStringTag;r8[Z9]=((Z)=>{return Z.children=null,Z.listSize=null,Z[Symbol.toStringTag]="FixedSizeList"})(r8.prototype);class t8 extends t{constructor(Z,X=!1){var $,Y,Q;super(O.Type.Map);if(this.children=[Z],this.keysSorted=X,Z){if(Z.name="entries",($=Z===null||Z===void 0?void 0:Z.type)===null||$===void 0?void 0:$.children){let H=(Y=Z===null||Z===void 0?void 0:Z.type)===null||Y===void 0?void 0:Y.children[0];if(H)H.name="key";let q=(Q=Z===null||Z===void 0?void 0:Z.type)===null||Q===void 0?void 0:Q.children[1];if(q)q.name="value"}}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map((Z)=>`${Z.name}:${Z.type}`).join(", ")}}>`}}O9.Map_=t8;X9=Symbol.toStringTag;t8[X9]=((Z)=>{return Z.children=null,Z.keysSorted=null,Z[Symbol.toStringTag]="Map_"})(t8.prototype);var VL=((Z)=>()=>++Z)(-1);class e8 extends t{constructor(Z,X,$,Y){super(O.Type.Dictionary);this.indices=X,this.dictionary=Z,this.isOrdered=Y||!1,this.id=$==null?VL():(0,IL.bigIntToNumber)($)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}O9.Dictionary=e8;$9=Symbol.toStringTag;e8[$9]=((Z)=>{return Z.id=null,Z.indices=null,Z.isOrdered=null,Z.dictionary=null,Z[Symbol.toStringTag]="Dictionary"})(e8.prototype);function TL(Z){let X=Z;switch(Z.typeId){case O.Type.Decimal:return Z.bitWidth/32;case O.Type.Interval:return 1+X.unit;case O.Type.FixedSizeList:return X.listSize;case O.Type.FixedSizeBinary:return X.byteWidth;default:return 1}}O9.strideForType=TL});var jZ=F((S9)=>{Object.defineProperty(S9,"__esModule",{value:!0});S9.Visitor=void 0;var z=JZ(),w9=QZ();class a{visitMany(Z,...X){return Z.map(($,Y)=>this.visit($,...X.map((Q)=>Q[Y])))}visit(...Z){return this.getVisitFn(Z[0],!1).apply(this,Z)}getVisitFn(Z,X=!0){return BM(this,Z,X)}getVisitFnByTypeId(Z,X=!0){return h6(this,Z,X)}visitNull(Z,...X){return null}visitBool(Z,...X){return null}visitInt(Z,...X){return null}visitFloat(Z,...X){return null}visitUtf8(Z,...X){return null}visitLargeUtf8(Z,...X){return null}visitBinary(Z,...X){return null}visitLargeBinary(Z,...X){return null}visitFixedSizeBinary(Z,...X){return null}visitDate(Z,...X){return null}visitTimestamp(Z,...X){return null}visitTime(Z,...X){return null}visitDecimal(Z,...X){return null}visitList(Z,...X){return null}visitStruct(Z,...X){return null}visitUnion(Z,...X){return null}visitDictionary(Z,...X){return null}visitInterval(Z,...X){return null}visitDuration(Z,...X){return null}visitFixedSizeList(Z,...X){return null}visitMap(Z,...X){return null}}S9.Visitor=a;function BM(Z,X,$=!0){if(typeof X==="number")return h6(Z,X,$);if(typeof X==="string"&&X in z.Type)return h6(Z,z.Type[X],$);if(X&&X instanceof w9.DataType)return h6(Z,k9(X),$);if((X===null||X===void 0?void 0:X.type)&&X.type instanceof w9.DataType)return h6(Z,k9(X.type),$);return h6(Z,z.Type.NONE,$)}function h6(Z,X,$=!0){let Y=null;switch(X){case z.Type.Null:Y=Z.visitNull;break;case z.Type.Bool:Y=Z.visitBool;break;case z.Type.Int:Y=Z.visitInt;break;case z.Type.Int8:Y=Z.visitInt8||Z.visitInt;break;case z.Type.Int16:Y=Z.visitInt16||Z.visitInt;break;case z.Type.Int32:Y=Z.visitInt32||Z.visitInt;break;case z.Type.Int64:Y=Z.visitInt64||Z.visitInt;break;case z.Type.Uint8:Y=Z.visitUint8||Z.visitInt;break;case z.Type.Uint16:Y=Z.visitUint16||Z.visitInt;break;case z.Type.Uint32:Y=Z.visitUint32||Z.visitInt;break;case z.Type.Uint64:Y=Z.visitUint64||Z.visitInt;break;case z.Type.Float:Y=Z.visitFloat;break;case z.Type.Float16:Y=Z.visitFloat16||Z.visitFloat;break;case z.Type.Float32:Y=Z.visitFloat32||Z.visitFloat;break;case z.Type.Float64:Y=Z.visitFloat64||Z.visitFloat;break;case z.Type.Utf8:Y=Z.visitUtf8;break;case z.Type.LargeUtf8:Y=Z.visitLargeUtf8;break;case z.Type.Binary:Y=Z.visitBinary;break;case z.Type.LargeBinary:Y=Z.visitLargeBinary;break;case z.Type.FixedSizeBinary:Y=Z.visitFixedSizeBinary;break;case z.Type.Date:Y=Z.visitDate;break;case z.Type.DateDay:Y=Z.visitDateDay||Z.visitDate;break;case z.Type.DateMillisecond:Y=Z.visitDateMillisecond||Z.visitDate;break;case z.Type.Timestamp:Y=Z.visitTimestamp;break;case z.Type.TimestampSecond:Y=Z.visitTimestampSecond||Z.visitTimestamp;break;case z.Type.TimestampMillisecond:Y=Z.visitTimestampMillisecond||Z.visitTimestamp;break;case z.Type.TimestampMicrosecond:Y=Z.visitTimestampMicrosecond||Z.visitTimestamp;break;case z.Type.TimestampNanosecond:Y=Z.visitTimestampNanosecond||Z.visitTimestamp;break;case z.Type.Time:Y=Z.visitTime;break;case z.Type.TimeSecond:Y=Z.visitTimeSecond||Z.visitTime;break;case z.Type.TimeMillisecond:Y=Z.visitTimeMillisecond||Z.visitTime;break;case z.Type.TimeMicrosecond:Y=Z.visitTimeMicrosecond||Z.visitTime;break;case z.Type.TimeNanosecond:Y=Z.visitTimeNanosecond||Z.visitTime;break;case z.Type.Decimal:Y=Z.visitDecimal;break;case z.Type.List:Y=Z.visitList;break;case z.Type.Struct:Y=Z.visitStruct;break;case z.Type.Union:Y=Z.visitUnion;break;case z.Type.DenseUnion:Y=Z.visitDenseUnion||Z.visitUnion;break;case z.Type.SparseUnion:Y=Z.visitSparseUnion||Z.visitUnion;break;case z.Type.Dictionary:Y=Z.visitDictionary;break;case z.Type.Interval:Y=Z.visitInterval;break;case z.Type.IntervalDayTime:Y=Z.visitIntervalDayTime||Z.visitInterval;break;case z.Type.IntervalYearMonth:Y=Z.visitIntervalYearMonth||Z.visitInterval;break;case z.Type.Duration:Y=Z.visitDuration;break;case z.Type.DurationSecond:Y=Z.visitDurationSecond||Z.visitDuration;break;case z.Type.DurationMillisecond:Y=Z.visitDurationMillisecond||Z.visitDuration;break;case z.Type.DurationMicrosecond:Y=Z.visitDurationMicrosecond||Z.visitDuration;break;case z.Type.DurationNanosecond:Y=Z.visitDurationNanosecond||Z.visitDuration;break;case z.Type.FixedSizeList:Y=Z.visitFixedSizeList;break;case z.Type.Map:Y=Z.visitMap;break}if(typeof Y==="function")return Y;if(!$)return()=>null;throw Error(`Unrecognized type '${z.Type[X]}'`)}function k9(Z){switch(Z.typeId){case z.Type.Null:return z.Type.Null;case z.Type.Int:{let{bitWidth:X,isSigned:$}=Z;switch(X){case 8:return $?z.Type.Int8:z.Type.Uint8;case 16:return $?z.Type.Int16:z.Type.Uint16;case 32:return $?z.Type.Int32:z.Type.Uint32;case 64:return $?z.Type.Int64:z.Type.Uint64}return z.Type.Int}case z.Type.Float:switch(Z.precision){case z.Precision.HALF:return z.Type.Float16;case z.Precision.SINGLE:return z.Type.Float32;case z.Precision.DOUBLE:return z.Type.Float64}return z.Type.Float;case z.Type.Binary:return z.Type.Binary;case z.Type.LargeBinary:return z.Type.LargeBinary;case z.Type.Utf8:return z.Type.Utf8;case z.Type.LargeUtf8:return z.Type.LargeUtf8;case z.Type.Bool:return z.Type.Bool;case z.Type.Decimal:return z.Type.Decimal;case z.Type.Time:switch(Z.unit){case z.TimeUnit.SECOND:return z.Type.TimeSecond;case z.TimeUnit.MILLISECOND:return z.Type.TimeMillisecond;case z.TimeUnit.MICROSECOND:return z.Type.TimeMicrosecond;case z.TimeUnit.NANOSECOND:return z.Type.TimeNanosecond}return z.Type.Time;case z.Type.Timestamp:switch(Z.unit){case z.TimeUnit.SECOND:return z.Type.TimestampSecond;case z.TimeUnit.MILLISECOND:return z.Type.TimestampMillisecond;case z.TimeUnit.MICROSECOND:return z.Type.TimestampMicrosecond;case z.TimeUnit.NANOSECOND:return z.Type.TimestampNanosecond}return z.Type.Timestamp;case z.Type.Date:switch(Z.unit){case z.DateUnit.DAY:return z.Type.DateDay;case z.DateUnit.MILLISECOND:return z.Type.DateMillisecond}return z.Type.Date;case z.Type.Interval:switch(Z.unit){case z.IntervalUnit.DAY_TIME:return z.Type.IntervalDayTime;case z.IntervalUnit.YEAR_MONTH:return z.Type.IntervalYearMonth}return z.Type.Interval;case z.Type.Duration:switch(Z.unit){case z.TimeUnit.SECOND:return z.Type.DurationSecond;case z.TimeUnit.MILLISECOND:return z.Type.DurationMillisecond;case z.TimeUnit.MICROSECOND:return z.Type.DurationMicrosecond;case z.TimeUnit.NANOSECOND:return z.Type.DurationNanosecond}return z.Type.Duration;case z.Type.Map:return z.Type.Map;case z.Type.List:return z.Type.List;case z.Type.Struct:return z.Type.Struct;case z.Type.Union:switch(Z.mode){case z.UnionMode.Dense:return z.Type.DenseUnion;case z.UnionMode.Sparse:return z.Type.SparseUnion}return z.Type.Union;case z.Type.FixedSizeBinary:return z.Type.FixedSizeBinary;case z.Type.FixedSizeList:return z.Type.FixedSizeList;case z.Type.Dictionary:return z.Type.Dictionary}throw Error(`Unrecognized type '${z.Type[Z.typeId]}'`)}a.prototype.visitInt8=null;a.prototype.visitInt16=null;a.prototype.visitInt32=null;a.prototype.visitInt64=null;a.prototype.visitUint8=null;a.prototype.visitUint16=null;a.prototype.visitUint32=null;a.prototype.visitUint64=null;a.prototype.visitFloat16=null;a.prototype.visitFloat32=null;a.prototype.visitFloat64=null;a.prototype.visitDateDay=null;a.prototype.visitDateMillisecond=null;a.prototype.visitTimestampSecond=null;a.prototype.visitTimestampMillisecond=null;a.prototype.visitTimestampMicrosecond=null;a.prototype.visitTimestampNanosecond=null;a.prototype.visitTimeSecond=null;a.prototype.visitTimeMillisecond=null;a.prototype.visitTimeMicrosecond=null;a.prototype.visitTimeNanosecond=null;a.prototype.visitDenseUnion=null;a.prototype.visitSparseUnion=null;a.prototype.visitIntervalDayTime=null;a.prototype.visitIntervalYearMonth=null;a.prototype.visitDuration=null;a.prototype.visitDurationSecond=null;a.prototype.visitDurationMillisecond=null;a.prototype.visitDurationMicrosecond=null;a.prototype.visitDurationNanosecond=null});var WX=F((V9)=>{Object.defineProperty(V9,"__esModule",{value:!0});V9.float64ToUint16=V9.uint16ToFloat64=void 0;var I9=new Float64Array(1),j6=new Uint32Array(I9.buffer);function IM(Z){let X=(Z&31744)>>10,$=(Z&1023)/1024,Y=Math.pow(-1,(Z&32768)>>15);switch(X){case 31:return Y*($?Number.NaN:1/0);case 0:return Y*($?0.00006103515625*$:0)}return Y*Math.pow(2,X-15)*(1+$)}V9.uint16ToFloat64=IM;function VM(Z){if(Z!==Z)return 32256;I9[0]=Z;let X=(j6[1]&2147483648)>>16&65535,$=j6[1]&2146435072,Y=0;if($>=1089470464)if(j6[0]>0)$=31744;else $=($&2080374784)>>16,Y=(j6[1]&1048575)>>10;else if($<=1056964608)Y=1048576+(j6[1]&1048575),Y=1048576+(Y<<($>>20)-998)>>21,$=0;else $=$-1056964608>>10,Y=(j6[1]&1048575)+512>>10;return X|$|Y&65535}V9.float64ToUint16=VM});var bZ=F((y9)=>{Object.defineProperty(y9,"__esModule",{value:!0});y9.instance=y9.setDuration=y9.setDurationNanosecond=y9.setDurationMicrosecond=y9.setDurationMillisecond=y9.setDurationSecond=y9.setIntervalYearMonth=y9.setIntervalDayTime=y9.setIntervalValue=y9.setDecimal=y9.setTime=y9.setTimeNanosecond=y9.setTimeMicrosecond=y9.setTimeMillisecond=y9.setTimeSecond=y9.setTimestamp=y9.setTimestampNanosecond=y9.setTimestampMicrosecond=y9.setTimestampMillisecond=y9.setTimestampSecond=y9.setDate=y9.setFixedSizeBinary=y9.setDateMillisecond=y9.setDateDay=y9.setAnyFloat=y9.setFloat16=y9.setFloat=y9.setInt=y9.setVariableWidthBytes=y9.setEpochMsToDays=y9.SetVisitor=void 0;var vM=VZ(),gM=jZ(),v9=Q0(),hM=a1(),jM=WX(),DZ=JZ();class I extends gM.Visitor{}y9.SetVisitor=I;function h(Z){return(X,$,Y)=>{if(X.setValid($,Y!=null))return Z(X,$,Y)}}var xM=(Z,X,$)=>{Z[X]=Math.floor($/86400000)};y9.setEpochMsToDays=xM;var yM=(Z,X,$,Y)=>{if($+1<X.length){let Q=(0,v9.bigIntToNumber)(X[$]),H=(0,v9.bigIntToNumber)(X[$+1]);Z.set(Y.subarray(0,H-Q),Q)}};y9.setVariableWidthBytes=yM;var mM=({offset:Z,values:X},$,Y)=>{let Q=Z+$;Y?X[Q>>3]|=1<<Q%8:X[Q>>3]&=~(1<<Q%8)},cM=({values:Z},X,$)=>{Z[X]=$};y9.setInt=cM;var fM=({values:Z},X,$)=>{Z[X]=$};y9.setFloat=fM;var _M=({values:Z},X,$)=>{Z[X]=(0,jM.float64ToUint16)($)};y9.setFloat16=_M;var bM=(Z,X,$)=>{switch(Z.type.precision){case DZ.Precision.HALF:return y9.setFloat16(Z,X,$);case DZ.Precision.SINGLE:case DZ.Precision.DOUBLE:return y9.setFloat(Z,X,$)}};y9.setAnyFloat=bM;var uM=({values:Z},X,$)=>{y9.setEpochMsToDays(Z,X,$.valueOf())};y9.setDateDay=uM;var pM=({values:Z},X,$)=>{Z[X]=BigInt($)};y9.setDateMillisecond=pM;var dM=({stride:Z,values:X},$,Y)=>{X.set(Y.subarray(0,Z),Z*$)};y9.setFixedSizeBinary=dM;var g9=({values:Z,valueOffsets:X},$,Y)=>y9.setVariableWidthBytes(Z,X,$,Y),h9=({values:Z,valueOffsets:X},$,Y)=>y9.setVariableWidthBytes(Z,X,$,(0,hM.encodeUtf8)(Y)),lM=(Z,X,$)=>{Z.type.unit===DZ.DateUnit.DAY?y9.setDateDay(Z,X,$):y9.setDateMillisecond(Z,X,$)};y9.setDate=lM;var nM=({values:Z},X,$)=>{Z[X]=BigInt($/1000)};y9.setTimestampSecond=nM;var aM=({values:Z},X,$)=>{Z[X]=BigInt($)};y9.setTimestampMillisecond=aM;var oM=({values:Z},X,$)=>{Z[X]=BigInt($*1000)};y9.setTimestampMicrosecond=oM;var iM=({values:Z},X,$)=>{Z[X]=BigInt($*1e6)};y9.setTimestampNanosecond=iM;var sM=(Z,X,$)=>{switch(Z.type.unit){case DZ.TimeUnit.SECOND:return y9.setTimestampSecond(Z,X,$);case DZ.TimeUnit.MILLISECOND:return y9.setTimestampMillisecond(Z,X,$);case DZ.TimeUnit.MICROSECOND:return y9.setTimestampMicrosecond(Z,X,$);case DZ.TimeUnit.NANOSECOND:return y9.setTimestampNanosecond(Z,X,$)}};y9.setTimestamp=sM;var rM=({values:Z},X,$)=>{Z[X]=$};y9.setTimeSecond=rM;var tM=({values:Z},X,$)=>{Z[X]=$};y9.setTimeMillisecond=tM;var eM=({values:Z},X,$)=>{Z[X]=$};y9.setTimeMicrosecond=eM;var ZA=({values:Z},X,$)=>{Z[X]=$};y9.setTimeNanosecond=ZA;var XA=(Z,X,$)=>{switch(Z.type.unit){case DZ.TimeUnit.SECOND:return y9.setTimeSecond(Z,X,$);case DZ.TimeUnit.MILLISECOND:return y9.setTimeMillisecond(Z,X,$);case DZ.TimeUnit.MICROSECOND:return y9.setTimeMicrosecond(Z,X,$);case DZ.TimeUnit.NANOSECOND:return y9.setTimeNanosecond(Z,X,$)}};y9.setTime=XA;var $A=({values:Z,stride:X},$,Y)=>{Z.set(Y.subarray(0,X),X*$)};y9.setDecimal=$A;var YA=(Z,X,$)=>{let Y=Z.children[0],Q=Z.valueOffsets,H=y9.instance.getVisitFn(Y);if(Array.isArray($))for(let q=-1,W=Q[X],K=Q[X+1];W<K;)H(Y,W++,$[++q]);else for(let q=-1,W=Q[X],K=Q[X+1];W<K;)H(Y,W++,$.get(++q))},QA=(Z,X,$)=>{let Y=Z.children[0],{valueOffsets:Q}=Z,H=y9.instance.getVisitFn(Y),{[X]:q,[X+1]:W}=Q,K=$ instanceof Map?$.entries():Object.entries($);for(let P of K)if(H(Y,q,P),++q>=W)break},HA=(Z,X)=>($,Y,Q,H)=>Y&&$(Y,Z,X[H]),qA=(Z,X)=>($,Y,Q,H)=>Y&&$(Y,Z,X.get(H)),WA=(Z,X)=>($,Y,Q,H)=>Y&&$(Y,Z,X.get(Q.name)),JA=(Z,X)=>($,Y,Q,H)=>Y&&$(Y,Z,X[Q.name]),KA=(Z,X,$)=>{let Y=Z.type.children.map((H)=>y9.instance.getVisitFn(H.type)),Q=$ instanceof Map?WA(X,$):$ instanceof vM.Vector?qA(X,$):Array.isArray($)?HA(X,$):JA(X,$);Z.type.children.forEach((H,q)=>Q(Y[q],Z.children[q],H,q))},PA=(Z,X,$)=>{Z.type.mode===DZ.UnionMode.Dense?j9(Z,X,$):x9(Z,X,$)},j9=(Z,X,$)=>{let Y=Z.type.typeIdToChildIndex[Z.typeIds[X]],Q=Z.children[Y];y9.instance.visit(Q,Z.valueOffsets[X],$)},x9=(Z,X,$)=>{let Y=Z.type.typeIdToChildIndex[Z.typeIds[X]],Q=Z.children[Y];y9.instance.visit(Q,X,$)},EA=(Z,X,$)=>{var Y;(Y=Z.dictionary)===null||Y===void 0||Y.set(Z.values[X],$)},GA=(Z,X,$)=>{Z.type.unit===DZ.IntervalUnit.DAY_TIME?y9.setIntervalDayTime(Z,X,$):y9.setIntervalYearMonth(Z,X,$)};y9.setIntervalValue=GA;var NA=({values:Z},X,$)=>{Z.set($.subarray(0,2),2*X)};y9.setIntervalDayTime=NA;var RA=({values:Z},X,$)=>{Z[X]=$[0]*12+$[1]%12};y9.setIntervalYearMonth=RA;var zA=({values:Z},X,$)=>{Z[X]=$};y9.setDurationSecond=zA;var FA=({values:Z},X,$)=>{Z[X]=$};y9.setDurationMillisecond=FA;var UA=({values:Z},X,$)=>{Z[X]=$};y9.setDurationMicrosecond=UA;var LA=({values:Z},X,$)=>{Z[X]=$};y9.setDurationNanosecond=LA;var MA=(Z,X,$)=>{switch(Z.type.unit){case DZ.TimeUnit.SECOND:return y9.setDurationSecond(Z,X,$);case DZ.TimeUnit.MILLISECOND:return y9.setDurationMillisecond(Z,X,$);case DZ.TimeUnit.MICROSECOND:return y9.setDurationMicrosecond(Z,X,$);case DZ.TimeUnit.NANOSECOND:return y9.setDurationNanosecond(Z,X,$)}};y9.setDuration=MA;var AA=(Z,X,$)=>{let{stride:Y}=Z,Q=Z.children[0],H=y9.instance.getVisitFn(Q);if(Array.isArray($))for(let q=-1,W=X*Y;++q<Y;)H(Q,W+q,$[q]);else for(let q=-1,W=X*Y;++q<Y;)H(Q,W+q,$.get(q))};I.prototype.visitBool=h(mM);I.prototype.visitInt=h(y9.setInt);I.prototype.visitInt8=h(y9.setInt);I.prototype.visitInt16=h(y9.setInt);I.prototype.visitInt32=h(y9.setInt);I.prototype.visitInt64=h(y9.setInt);I.prototype.visitUint8=h(y9.setInt);I.prototype.visitUint16=h(y9.setInt);I.prototype.visitUint32=h(y9.setInt);I.prototype.visitUint64=h(y9.setInt);I.prototype.visitFloat=h(y9.setAnyFloat);I.prototype.visitFloat16=h(y9.setFloat16);I.prototype.visitFloat32=h(y9.setFloat);I.prototype.visitFloat64=h(y9.setFloat);I.prototype.visitUtf8=h(h9);I.prototype.visitLargeUtf8=h(h9);I.prototype.visitBinary=h(g9);I.prototype.visitLargeBinary=h(g9);I.prototype.visitFixedSizeBinary=h(y9.setFixedSizeBinary);I.prototype.visitDate=h(y9.setDate);I.prototype.visitDateDay=h(y9.setDateDay);I.prototype.visitDateMillisecond=h(y9.setDateMillisecond);I.prototype.visitTimestamp=h(y9.setTimestamp);I.prototype.visitTimestampSecond=h(y9.setTimestampSecond);I.prototype.visitTimestampMillisecond=h(y9.setTimestampMillisecond);I.prototype.visitTimestampMicrosecond=h(y9.setTimestampMicrosecond);I.prototype.visitTimestampNanosecond=h(y9.setTimestampNanosecond);I.prototype.visitTime=h(y9.setTime);I.prototype.visitTimeSecond=h(y9.setTimeSecond);I.prototype.visitTimeMillisecond=h(y9.setTimeMillisecond);I.prototype.visitTimeMicrosecond=h(y9.setTimeMicrosecond);I.prototype.visitTimeNanosecond=h(y9.setTimeNanosecond);I.prototype.visitDecimal=h(y9.setDecimal);I.prototype.visitList=h(YA);I.prototype.visitStruct=h(KA);I.prototype.visitUnion=h(PA);I.prototype.visitDenseUnion=h(j9);I.prototype.visitSparseUnion=h(x9);I.prototype.visitDictionary=h(EA);I.prototype.visitInterval=h(y9.setIntervalValue);I.prototype.visitIntervalDayTime=h(y9.setIntervalDayTime);I.prototype.visitIntervalYearMonth=h(y9.setIntervalYearMonth);I.prototype.visitDuration=h(y9.setDuration);I.prototype.visitDurationSecond=h(y9.setDurationSecond);I.prototype.visitDurationMillisecond=h(y9.setDurationMillisecond);I.prototype.visitDurationMicrosecond=h(y9.setDurationMicrosecond);I.prototype.visitDurationNanosecond=h(y9.setDurationNanosecond);I.prototype.visitFixedSizeList=h(AA);I.prototype.visitMap=h(QA);y9.instance=new I});var X$=F((i9)=>{Object.defineProperty(i9,"__esModule",{value:!0});i9.StructRow=void 0;var n9=HX(),zQ=_0(),DA=bZ(),Y1=Symbol.for("parent"),x6=Symbol.for("rowIndex");class FQ{constructor(Z,X){return this[Y1]=Z,this[x6]=X,new Proxy(this,new o9)}toArray(){return Object.values(this.toJSON())}toJSON(){let Z=this[x6],X=this[Y1],$=X.type.children,Y={};for(let Q=-1,H=$.length;++Q<H;)Y[$[Q].name]=zQ.instance.visit(X.children[Q],Z);return Y}toString(){return`{${[...this].map(([Z,X])=>`${(0,n9.valueToString)(Z)}: ${(0,n9.valueToString)(X)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new a9(this[Y1],this[x6])}}i9.StructRow=FQ;class a9{constructor(Z,X){this.childIndex=0,this.children=Z.children,this.rowIndex=X,this.childFields=Z.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){let Z=this.childIndex;if(Z<this.numChildren)return this.childIndex=Z+1,{done:!1,value:[this.childFields[Z].name,zQ.instance.visit(this.children[Z],this.rowIndex)]};return{done:!0,value:null}}}Object.defineProperties(FQ.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Y1]:{writable:!0,enumerable:!1,configurable:!1,value:null},[x6]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class o9{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(Z){return Z[Y1].type.children.map((X)=>X.name)}has(Z,X){return Z[Y1].type.children.findIndex(($)=>$.name===X)!==-1}getOwnPropertyDescriptor(Z,X){if(Z[Y1].type.children.findIndex(($)=>$.name===X)!==-1)return{writable:!0,enumerable:!0,configurable:!0};return}get(Z,X){if(Reflect.has(Z,X))return Z[X];let $=Z[Y1].type.children.findIndex((Y)=>Y.name===X);if($!==-1){let Y=zQ.instance.visit(Z[Y1].children[$],Z[x6]);return Reflect.set(Z,X,Y),Y}}set(Z,X,$){let Y=Z[Y1].type.children.findIndex((Q)=>Q.name===X);if(Y!==-1)return DA.instance.visit(Z[Y1].children[Y],Z[x6],$),Reflect.set(Z,X,$);else if(Reflect.has(Z,X)||typeof X==="symbol")return Reflect.set(Z,X,$);return!1}}});var _0=F((O5)=>{Object.defineProperty(O5,"__esModule",{value:!0});O5.instance=O5.GetVisitor=void 0;var CA=_8(),r9=VZ(),wA=jZ(),kA=JX(),SA=X$(),b0=Q0(),BA=a1(),t9=WX(),SZ=JZ();class w extends wA.Visitor{}O5.GetVisitor=w;function T(Z){return(X,$)=>X.getValid($)?Z(X,$):null}var IA=(Z,X)=>86400000*Z[X],VA=(Z,X)=>null,e9=(Z,X,$)=>{if($+1>=X.length)return null;let Y=(0,b0.bigIntToNumber)(X[$]),Q=(0,b0.bigIntToNumber)(X[$+1]);return Z.subarray(Y,Q)},TA=({offset:Z,values:X},$)=>{let Y=Z+$;return(X[Y>>3]&1<<Y%8)!==0},Z5=({values:Z},X)=>IA(Z,X),X5=({values:Z},X)=>(0,b0.bigIntToNumber)(Z[X]),K0=({stride:Z,values:X},$)=>X[Z*$],vA=({stride:Z,values:X},$)=>(0,t9.uint16ToFloat64)(X[Z*$]),$5=({values:Z},X)=>Z[X],gA=({stride:Z,values:X},$)=>X.subarray(Z*$,Z*($+1)),Y5=({values:Z,valueOffsets:X},$)=>e9(Z,X,$),Q5=({values:Z,valueOffsets:X},$)=>{let Y=e9(Z,X,$);return Y!==null?(0,BA.decodeUtf8)(Y):null},hA=({values:Z},X)=>Z[X],jA=({type:Z,values:X},$)=>Z.precision!==SZ.Precision.HALF?X[$]:(0,t9.uint16ToFloat64)(X[$]),xA=(Z,X)=>Z.type.unit===SZ.DateUnit.DAY?Z5(Z,X):X5(Z,X),H5=({values:Z},X)=>1000*(0,b0.bigIntToNumber)(Z[X]),q5=({values:Z},X)=>(0,b0.bigIntToNumber)(Z[X]),W5=({values:Z},X)=>(0,b0.divideBigInts)(Z[X],BigInt(1000)),J5=({values:Z},X)=>(0,b0.divideBigInts)(Z[X],BigInt(1e6)),yA=(Z,X)=>{switch(Z.type.unit){case SZ.TimeUnit.SECOND:return H5(Z,X);case SZ.TimeUnit.MILLISECOND:return q5(Z,X);case SZ.TimeUnit.MICROSECOND:return W5(Z,X);case SZ.TimeUnit.NANOSECOND:return J5(Z,X)}},K5=({values:Z},X)=>Z[X],P5=({values:Z},X)=>Z[X],E5=({values:Z},X)=>Z[X],G5=({values:Z},X)=>Z[X],mA=(Z,X)=>{switch(Z.type.unit){case SZ.TimeUnit.SECOND:return K5(Z,X);case SZ.TimeUnit.MILLISECOND:return P5(Z,X);case SZ.TimeUnit.MICROSECOND:return E5(Z,X);case SZ.TimeUnit.NANOSECOND:return G5(Z,X)}},cA=({values:Z,stride:X},$)=>CA.BN.decimal(Z.subarray(X*$,X*($+1))),fA=(Z,X)=>{let{valueOffsets:$,stride:Y,children:Q}=Z,{[X*Y]:H,[X*Y+1]:q}=$,K=Q[0].slice(H,q-H);return new r9.Vector([K])},_A=(Z,X)=>{let{valueOffsets:$,children:Y}=Z,{[X]:Q,[X+1]:H}=$,q=Y[0];return new kA.MapRow(q.slice(Q,H-Q))},bA=(Z,X)=>{return new SA.StructRow(Z,X)},uA=(Z,X)=>{return Z.type.mode===SZ.UnionMode.Dense?N5(Z,X):R5(Z,X)},N5=(Z,X)=>{let $=Z.type.typeIdToChildIndex[Z.typeIds[X]],Y=Z.children[$];return O5.instance.visit(Y,Z.valueOffsets[X])},R5=(Z,X)=>{let $=Z.type.typeIdToChildIndex[Z.typeIds[X]],Y=Z.children[$];return O5.instance.visit(Y,X)},pA=(Z,X)=>{var $;return($=Z.dictionary)===null||$===void 0?void 0:$.get(Z.values[X])},dA=(Z,X)=>Z.type.unit===SZ.IntervalUnit.DAY_TIME?z5(Z,X):F5(Z,X),z5=({values:Z},X)=>Z.subarray(2*X,2*(X+1)),F5=({values:Z},X)=>{let $=Z[X],Y=new Int32Array(2);return Y[0]=Math.trunc($/12),Y[1]=Math.trunc($%12),Y},U5=({values:Z},X)=>Z[X],L5=({values:Z},X)=>Z[X],M5=({values:Z},X)=>Z[X],A5=({values:Z},X)=>Z[X],lA=(Z,X)=>{switch(Z.type.unit){case SZ.TimeUnit.SECOND:return U5(Z,X);case SZ.TimeUnit.MILLISECOND:return L5(Z,X);case SZ.TimeUnit.MICROSECOND:return M5(Z,X);case SZ.TimeUnit.NANOSECOND:return A5(Z,X)}},nA=(Z,X)=>{let{stride:$,children:Y}=Z,H=Y[0].slice(X*$,$);return new r9.Vector([H])};w.prototype.visitNull=T(VA);w.prototype.visitBool=T(TA);w.prototype.visitInt=T(hA);w.prototype.visitInt8=T(K0);w.prototype.visitInt16=T(K0);w.prototype.visitInt32=T(K0);w.prototype.visitInt64=T($5);w.prototype.visitUint8=T(K0);w.prototype.visitUint16=T(K0);w.prototype.visitUint32=T(K0);w.prototype.visitUint64=T($5);w.prototype.visitFloat=T(jA);w.prototype.visitFloat16=T(vA);w.prototype.visitFloat32=T(K0);w.prototype.visitFloat64=T(K0);w.prototype.visitUtf8=T(Q5);w.prototype.visitLargeUtf8=T(Q5);w.prototype.visitBinary=T(Y5);w.prototype.visitLargeBinary=T(Y5);w.prototype.visitFixedSizeBinary=T(gA);w.prototype.visitDate=T(xA);w.prototype.visitDateDay=T(Z5);w.prototype.visitDateMillisecond=T(X5);w.prototype.visitTimestamp=T(yA);w.prototype.visitTimestampSecond=T(H5);w.prototype.visitTimestampMillisecond=T(q5);w.prototype.visitTimestampMicrosecond=T(W5);w.prototype.visitTimestampNanosecond=T(J5);w.prototype.visitTime=T(mA);w.prototype.visitTimeSecond=T(K5);w.prototype.visitTimeMillisecond=T(P5);w.prototype.visitTimeMicrosecond=T(E5);w.prototype.visitTimeNanosecond=T(G5);w.prototype.visitDecimal=T(cA);w.prototype.visitList=T(fA);w.prototype.visitStruct=T(bA);w.prototype.visitUnion=T(uA);w.prototype.visitDenseUnion=T(N5);w.prototype.visitSparseUnion=T(R5);w.prototype.visitDictionary=T(pA);w.prototype.visitInterval=T(dA);w.prototype.visitIntervalDayTime=T(z5);w.prototype.visitIntervalYearMonth=T(F5);w.prototype.visitDuration=T(lA);w.prototype.visitDurationSecond=T(U5);w.prototype.visitDurationMillisecond=T(L5);w.prototype.visitDurationMicrosecond=T(M5);w.prototype.visitDurationNanosecond=T(A5);w.prototype.visitFixedSizeList=T(nA);w.prototype.visitMap=T(_A);O5.instance=new w});var JX=F((k5)=>{Object.defineProperty(k5,"__esModule",{value:!0});k5.MapRow=k5._kKeysAsStrings=k5.kKeysAsStrings=k5.kVals=k5.kKeys=void 0;var oA=VZ(),D5=HX(),UQ=_0(),iA=bZ();k5.kKeys=Symbol.for("keys");k5.kVals=Symbol.for("vals");k5.kKeysAsStrings=Symbol.for("kKeysAsStrings");k5._kKeysAsStrings=Symbol.for("_kKeysAsStrings");class LQ{constructor(Z){return this[k5.kKeys]=new oA.Vector([Z.children[0]]).memoize(),this[k5.kVals]=Z.children[1],new Proxy(this,new w5)}get[k5.kKeysAsStrings](){return this[k5._kKeysAsStrings]||(this[k5._kKeysAsStrings]=Array.from(this[k5.kKeys].toArray(),String))}[Symbol.iterator](){return new C5(this[k5.kKeys],this[k5.kVals])}get size(){return this[k5.kKeys].length}toArray(){return Object.values(this.toJSON())}toJSON(){let Z=this[k5.kKeys],X=this[k5.kVals],$={};for(let Y=-1,Q=Z.length;++Y<Q;)$[Z.get(Y)]=UQ.instance.visit(X,Y);return $}toString(){return`{${[...this].map(([Z,X])=>`${(0,D5.valueToString)(Z)}: ${(0,D5.valueToString)(X)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}k5.MapRow=LQ;class C5{constructor(Z,X){this.keys=Z,this.vals=X,this.keyIndex=0,this.numKeys=Z.length}[Symbol.iterator](){return this}next(){let Z=this.keyIndex;if(Z===this.numKeys)return{done:!0,value:null};return this.keyIndex++,{done:!1,value:[this.keys.get(Z),UQ.instance.visit(this.vals,Z)]}}}class w5{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(Z){return Z[k5.kKeysAsStrings]}has(Z,X){return Z[k5.kKeysAsStrings].includes(X)}getOwnPropertyDescriptor(Z,X){if(Z[k5.kKeysAsStrings].indexOf(X)!==-1)return{writable:!0,enumerable:!0,configurable:!0};return}get(Z,X){if(Reflect.has(Z,X))return Z[X];let $=Z[k5.kKeysAsStrings].indexOf(X);if($!==-1){let Y=UQ.instance.visit(Reflect.get(Z,k5.kVals),$);return Reflect.set(Z,X,Y),Y}}set(Z,X,$){let Y=Z[k5.kKeysAsStrings].indexOf(X);if(Y!==-1)return iA.instance.visit(Reflect.get(Z,k5.kVals),Y,$),Reflect.set(Z,X,$);else if(Reflect.has(Z,X))return Reflect.set(Z,X,$);return!1}}Object.defineProperties(LQ.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[k5.kKeys]:{writable:!0,enumerable:!1,configurable:!1,value:null},[k5.kVals]:{writable:!0,enumerable:!1,configurable:!1,value:null},[k5._kKeysAsStrings]:{writable:!0,enumerable:!1,configurable:!1,value:null}})});var y6=F((v5)=>{Object.defineProperty(v5,"__esModule",{value:!0});v5.createElementComparator=v5.wrapIndex=v5.clampRange=void 0;var T5=VZ(),sA=JX(),rA=X$(),tA=OZ(),B5;function eA(Z,X,$,Y){let{length:Q=0}=Z,H=typeof X!=="number"?0:X,q=typeof $!=="number"?Q:$;return H<0&&(H=(H%Q+Q)%Q),q<0&&(q=(q%Q+Q)%Q),q<H&&(B5=H,H=q,q=B5),q>Q&&(q=Q),Y?Y(Z,H,q):[H,q]}v5.clampRange=eA;var ZO=(Z,X)=>Z<0?X+Z:Z;v5.wrapIndex=ZO;var I5=(Z)=>Z!==Z;function KX(Z){if(typeof Z!=="object"||Z===null){if(I5(Z))return I5;return($)=>$===Z}if(Z instanceof Date){let $=Z.valueOf();return(Y)=>Y instanceof Date?Y.valueOf()===$:!1}if(ArrayBuffer.isView(Z))return($)=>$?(0,tA.compareArrayLike)(Z,$):!1;if(Z instanceof Map)return $O(Z);if(Array.isArray(Z))return XO(Z);if(Z instanceof T5.Vector)return YO(Z);return QO(Z,!0)}v5.createElementComparator=KX;function XO(Z){let X=[];for(let $=-1,Y=Z.length;++$<Y;)X[$]=KX(Z[$]);return Q$(X)}function $O(Z){let X=-1,$=[];for(let Y of Z.values())$[++X]=KX(Y);return Q$($)}function YO(Z){let X=[];for(let $=-1,Y=Z.length;++$<Y;)X[$]=KX(Z.get($));return Q$(X)}function QO(Z,X=!1){let $=Object.keys(Z);if(!X&&$.length===0)return()=>!1;let Y=[];for(let Q=-1,H=$.length;++Q<H;)Y[Q]=KX(Z[$[Q]]);return Q$(Y,$)}function Q$(Z,X){return($)=>{if(!$||typeof $!=="object")return!1;switch($.constructor){case Array:return HO(Z,$);case Map:return V5(Z,$,$.keys());case sA.MapRow:case rA.StructRow:case Object:case void 0:return V5(Z,$,X||Object.keys($))}return $ instanceof T5.Vector?qO(Z,$):!1}}function HO(Z,X){let $=Z.length;if(X.length!==$)return!1;for(let Y=-1;++Y<$;)if(!Z[Y](X[Y]))return!1;return!0}function qO(Z,X){let $=Z.length;if(X.length!==$)return!1;for(let Y=-1;++Y<$;)if(!Z[Y](X.get(Y)))return!1;return!0}function V5(Z,X,$){let Y=$[Symbol.iterator](),Q=X instanceof Map?X.keys():Object.keys(X)[Symbol.iterator](),H=X instanceof Map?X.values():Object.values(X)[Symbol.iterator](),q=0,W=Z.length,K=H.next(),P=Y.next(),E=Q.next();for(;q<W&&!P.done&&!E.done&&!K.done;++q,P=Y.next(),E=Q.next(),K=H.next())if(P.value!==E.value||!Z[q](K.value))break;if(q===W&&P.done&&E.done&&K.done)return!0;return Y.return&&Y.return(),Q.return&&Q.return(),H.return&&H.return(),!1}});var l0=F((m5)=>{Object.defineProperty(m5,"__esModule",{value:!0});m5.popcnt_uint32=m5.popcnt_array=m5.popcnt_bit_range=m5.BitIterator=m5.packBools=m5.truncateBitmap=m5.setBool=m5.getBit=m5.getBool=void 0;function h5(Z,X,$,Y){return($&1<<Y)!==0}m5.getBool=h5;function j5(Z,X,$,Y){return($&1<<Y)>>Y}m5.getBit=j5;function KO(Z,X,$){return $?!!(Z[X>>3]|=1<<X%8)||!0:!(Z[X>>3]&=~(1<<X%8))&&!1}m5.setBool=KO;function PO(Z,X,$){let Y=$.byteLength+7&-8;if(Z>0||$.byteLength<Y){let Q=new Uint8Array(Y);return Q.set(Z%8===0?$.subarray(Z>>3):x5(new q$($,Z,X,null,h5)).subarray(0,Y)),Q}return $}m5.truncateBitmap=PO;function x5(Z){let X=[],$=0,Y=0,Q=0;for(let q of Z)if(q&&(Q|=1<<Y),++Y===8)X[$++]=Q,Q=Y=0;if($===0||Y>0)X[$++]=Q;let H=new Uint8Array(X.length+7&-8);return H.set(X),H}m5.packBools=x5;class q${constructor(Z,X,$,Y,Q){this.bytes=Z,this.length=$,this.context=Y,this.get=Q,this.bit=X%8,this.byteIndex=X>>3,this.byte=Z[this.byteIndex++],this.index=0}next(){if(this.index<this.length){if(this.bit===8)this.bit=0,this.byte=this.bytes[this.byteIndex++];return{value:this.get(this.context,this.index++,this.byte,this.bit++)}}return{done:!0,value:null}}[Symbol.iterator](){return this}}m5.BitIterator=q$;function MQ(Z,X,$){if($-X<=0)return 0;if($-X<8){let H=0;for(let q of new q$(Z,X,$-X,Z,j5))H+=q;return H}let Y=$>>3<<3,Q=X+(X%8===0?0:8-X%8);return MQ(Z,X,Q)+MQ(Z,Y,$)+y5(Z,Q>>3,Y-Q>>3)}m5.popcnt_bit_range=MQ;function y5(Z,X,$){let Y=0,Q=Math.trunc(X),H=new DataView(Z.buffer,Z.byteOffset,Z.byteLength),q=$===void 0?Z.byteLength:Q+$;while(q-Q>=4)Y+=H$(H.getUint32(Q)),Q+=4;while(q-Q>=2)Y+=H$(H.getUint16(Q)),Q+=2;while(q-Q>=1)Y+=H$(H.getUint8(Q)),Q+=1;return Y}m5.popcnt_array=y5;function H$(Z){let X=Math.trunc(Z);return X=X-(X>>>1&1431655765),X=(X&858993459)+(X>>>2&858993459),(X+(X>>>4)&252645135)*16843009>>>24}m5.popcnt_uint32=H$});var U1=F((f5)=>{Object.defineProperty(f5,"__esModule",{value:!0});f5.makeData=f5.Data=f5.kUnknownNullCount=void 0;var MO=VZ(),F1=JZ(),xZ=QZ(),AQ=l0();f5.kUnknownNullCount=-1;class e{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){let{type:Z}=this;if(xZ.DataType.isSparseUnion(Z))return this.children.some((X)=>X.nullable);else if(xZ.DataType.isDenseUnion(Z))return this.children.some((X)=>X.nullable);return this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let Z=0,{valueOffsets:X,values:$,nullBitmap:Y,typeIds:Q}=this;return X&&(Z+=X.byteLength),$&&(Z+=$.byteLength),Y&&(Z+=Y.byteLength),Q&&(Z+=Q.byteLength),this.children.reduce((H,q)=>H+q.byteLength,Z)}get nullCount(){if(xZ.DataType.isUnion(this.type))return this.children.reduce(($,Y)=>$+Y.nullCount,0);let Z=this._nullCount,X;if(Z<=f5.kUnknownNullCount&&(X=this.nullBitmap))this._nullCount=Z=X.length===0?0:this.length-(0,AQ.popcnt_bit_range)(X,this.offset,this.offset+this.length);return Z}constructor(Z,X,$,Y,Q,H=[],q){this.type=Z,this.children=H,this.dictionary=q,this.offset=Math.floor(Math.max(X||0,0)),this.length=Math.floor(Math.max($||0,0)),this._nullCount=Math.floor(Math.max(Y||0,-1));let W;if(Q instanceof e)this.stride=Q.stride,this.values=Q.values,this.typeIds=Q.typeIds,this.nullBitmap=Q.nullBitmap,this.valueOffsets=Q.valueOffsets;else if(this.stride=(0,xZ.strideForType)(Z),Q)(W=Q[0])&&(this.valueOffsets=W),(W=Q[1])&&(this.values=W),(W=Q[2])&&(this.nullBitmap=W),(W=Q[3])&&(this.typeIds=W)}getValid(Z){let{type:X}=this;if(xZ.DataType.isUnion(X)){let $=X,Y=this.children[$.typeIdToChildIndex[this.typeIds[Z]]],Q=$.mode===F1.UnionMode.Dense?this.valueOffsets[Z]:Z;return Y.getValid(Q)}if(this.nullable&&this.nullCount>0){let $=this.offset+Z;return(this.nullBitmap[$>>3]&1<<$%8)!==0}return!0}setValid(Z,X){let $,{type:Y}=this;if(xZ.DataType.isUnion(Y)){let Q=Y,H=this.children[Q.typeIdToChildIndex[this.typeIds[Z]]],q=Q.mode===F1.UnionMode.Dense?this.valueOffsets[Z]:Z;$=H.getValid(q),H.setValid(q,X)}else{let{nullBitmap:Q}=this,{offset:H,length:q}=this,W=H+Z,K=1<<W%8,P=W>>3;if(!Q||Q.byteLength<=P)if(Q=new Uint8Array((H+q+63&-64)>>3).fill(255),this.nullCount>0)Q.set((0,AQ.truncateBitmap)(H,q,this.nullBitmap),0),Object.assign(this,{nullBitmap:Q});else Object.assign(this,{nullBitmap:Q,_nullCount:0});let E=Q[P];$=(E&K)!==0,Q[P]=X?E|K:E&~K}if($!==!!X)this._nullCount=this.nullCount+(X?-1:1);return X}clone(Z=this.type,X=this.offset,$=this.length,Y=this._nullCount,Q=this,H=this.children){return new e(Z,X,$,Y,Q,H,this.dictionary)}slice(Z,X){let{stride:$,typeId:Y,children:Q}=this,H=+(this._nullCount===0)-1,q=Y===16?$:1,W=this._sliceBuffers(Z,X,$,Y);return this.clone(this.type,this.offset+Z,X,H,W,Q.length===0||this.valueOffsets?Q:this._sliceChildren(Q,q*Z,q*X))}_changeLengthAndBackfillNullBitmap(Z){if(this.typeId===F1.Type.Null)return this.clone(this.type,0,Z,0);let{length:X,nullCount:$}=this,Y=new Uint8Array((Z+63&-64)>>3).fill(255,0,X>>3);if(Y[X>>3]=(1<<X-(X&-8))-1,$>0)Y.set((0,AQ.truncateBitmap)(this.offset,X,this.nullBitmap),0);let Q=this.buffers;return Q[F1.BufferType.VALIDITY]=Y,this.clone(this.type,0,Z,$+(Z-X),Q)}_sliceBuffers(Z,X,$,Y){let Q,{buffers:H}=this;return(Q=H[F1.BufferType.TYPE])&&(H[F1.BufferType.TYPE]=Q.subarray(Z,Z+X)),(Q=H[F1.BufferType.OFFSET])&&(H[F1.BufferType.OFFSET]=Q.subarray(Z,Z+X+1))||(Q=H[F1.BufferType.DATA])&&(H[F1.BufferType.DATA]=Y===6?Q:Q.subarray($*Z,$*(Z+X))),H}_sliceChildren(Z,X,$){return Z.map((Y)=>Y.slice(X,$))}}f5.Data=e;e.prototype.children=Object.freeze([]);var AO=jZ(),y=OZ();class PX extends AO.Visitor{visit(Z){return this.getVisitFn(Z.type).call(this,Z)}visitNull(Z){let{["type"]:X,["offset"]:$=0,["length"]:Y=0}=Z;return new e(X,$,Y,Y)}visitBool(Z){let{["type"]:X,["offset"]:$=0}=Z,Y=(0,y.toUint8Array)(Z.nullBitmap),Q=(0,y.toArrayBufferView)(X.ArrayType,Z.data),{["length"]:H=Q.length>>3,["nullCount"]:q=Z.nullBitmap?-1:0}=Z;return new e(X,$,H,q,[void 0,Q,Y])}visitInt(Z){let{["type"]:X,["offset"]:$=0}=Z,Y=(0,y.toUint8Array)(Z.nullBitmap),Q=(0,y.toArrayBufferView)(X.ArrayType,Z.data),{["length"]:H=Q.length,["nullCount"]:q=Z.nullBitmap?-1:0}=Z;return new e(X,$,H,q,[void 0,Q,Y])}visitFloat(Z){let{["type"]:X,["offset"]:$=0}=Z,Y=(0,y.toUint8Array)(Z.nullBitmap),Q=(0,y.toArrayBufferView)(X.ArrayType,Z.data),{["length"]:H=Q.length,["nullCount"]:q=Z.nullBitmap?-1:0}=Z;return new e(X,$,H,q,[void 0,Q,Y])}visitUtf8(Z){let{["type"]:X,["offset"]:$=0}=Z,Y=(0,y.toUint8Array)(Z.data),Q=(0,y.toUint8Array)(Z.nullBitmap),H=(0,y.toInt32Array)(Z.valueOffsets),{["length"]:q=H.length-1,["nullCount"]:W=Z.nullBitmap?-1:0}=Z;return new e(X,$,q,W,[H,Y,Q])}visitLargeUtf8(Z){let{["type"]:X,["offset"]:$=0}=Z,Y=(0,y.toUint8Array)(Z.data),Q=(0,y.toUint8Array)(Z.nullBitmap),H=(0,y.toBigInt64Array)(Z.valueOffsets),{["length"]:q=H.length-1,["nullCount"]:W=Z.nullBitmap?-1:0}=Z;return new e(X,$,q,W,[H,Y,Q])}visitBinary(Z){let{["type"]:X,["offset"]:$=0}=Z,Y=(0,y.toUint8Array)(Z.data),Q=(0,y.toUint8Array)(Z.nullBitmap),H=(0,y.toInt32Array)(Z.valueOffsets),{["length"]:q=H.length-1,["nullCount"]:W=Z.nullBitmap?-1:0}=Z;return new e(X,$,q,W,[H,Y,Q])}visitLargeBinary(Z){let{["type"]:X,["offset"]:$=0}=Z,Y=(0,y.toUint8Array)(Z.data),Q=(0,y.toUint8Array)(Z.nullBitmap),H=(0,y.toBigInt64Array)(Z.valueOffsets),{["length"]:q=H.length-1,["nullCount"]:W=Z.nullBitmap?-1:0}=Z;return new e(X,$,q,W,[H,Y,Q])}visitFixedSizeBinary(Z){let{["type"]:X,["offset"]:$=0}=Z,Y=(0,y.toUint8Array)(Z.nullBitmap),Q=(0,y.toArrayBufferView)(X.ArrayType,Z.data),{["length"]:H=Q.length/(0,xZ.strideForType)(X),["nullCount"]:q=Z.nullBitmap?-1:0}=Z;return new e(X,$,H,q,[void 0,Q,Y])}visitDate(Z){let{["type"]:X,["offset"]:$=0}=Z,Y=(0,y.toUint8Array)(Z.nullBitmap),Q=(0,y.toArrayBufferView)(X.ArrayType,Z.data),{["length"]:H=Q.length/(0,xZ.strideForType)(X),["nullCount"]:q=Z.nullBitmap?-1:0}=Z;return new e(X,$,H,q,[void 0,Q,Y])}visitTimestamp(Z){let{["type"]:X,["offset"]:$=0}=Z,Y=(0,y.toUint8Array)(Z.nullBitmap),Q=(0,y.toArrayBufferView)(X.ArrayType,Z.data),{["length"]:H=Q.length/(0,xZ.strideForType)(X),["nullCount"]:q=Z.nullBitmap?-1:0}=Z;return new e(X,$,H,q,[void 0,Q,Y])}visitTime(Z){let{["type"]:X,["offset"]:$=0}=Z,Y=(0,y.toUint8Array)(Z.nullBitmap),Q=(0,y.toArrayBufferView)(X.ArrayType,Z.data),{["length"]:H=Q.length/(0,xZ.strideForType)(X),["nullCount"]:q=Z.nullBitmap?-1:0}=Z;return new e(X,$,H,q,[void 0,Q,Y])}visitDecimal(Z){let{["type"]:X,["offset"]:$=0}=Z,Y=(0,y.toUint8Array)(Z.nullBitmap),Q=(0,y.toArrayBufferView)(X.ArrayType,Z.data),{["length"]:H=Q.length/(0,xZ.strideForType)(X),["nullCount"]:q=Z.nullBitmap?-1:0}=Z;return new e(X,$,H,q,[void 0,Q,Y])}visitList(Z){let{["type"]:X,["offset"]:$=0,["child"]:Y}=Z,Q=(0,y.toUint8Array)(Z.nullBitmap),H=(0,y.toInt32Array)(Z.valueOffsets),{["length"]:q=H.length-1,["nullCount"]:W=Z.nullBitmap?-1:0}=Z;return new e(X,$,q,W,[H,void 0,Q],[Y])}visitStruct(Z){let{["type"]:X,["offset"]:$=0,["children"]:Y=[]}=Z,Q=(0,y.toUint8Array)(Z.nullBitmap),{length:H=Y.reduce((W,{length:K})=>Math.max(W,K),0),nullCount:q=Z.nullBitmap?-1:0}=Z;return new e(X,$,H,q,[void 0,void 0,Q],Y)}visitUnion(Z){let{["type"]:X,["offset"]:$=0,["children"]:Y=[]}=Z,Q=(0,y.toArrayBufferView)(X.ArrayType,Z.typeIds),{["length"]:H=Q.length,["nullCount"]:q=-1}=Z;if(xZ.DataType.isSparseUnion(X))return new e(X,$,H,q,[void 0,void 0,void 0,Q],Y);let W=(0,y.toInt32Array)(Z.valueOffsets);return new e(X,$,H,q,[W,void 0,void 0,Q],Y)}visitDictionary(Z){let{["type"]:X,["offset"]:$=0}=Z,Y=(0,y.toUint8Array)(Z.nullBitmap),Q=(0,y.toArrayBufferView)(X.indices.ArrayType,Z.data),{["dictionary"]:H=new MO.Vector([new PX().visit({type:X.dictionary})])}=Z,{["length"]:q=Q.length,["nullCount"]:W=Z.nullBitmap?-1:0}=Z;return new e(X,$,q,W,[void 0,Q,Y],[],H)}visitInterval(Z){let{["type"]:X,["offset"]:$=0}=Z,Y=(0,y.toUint8Array)(Z.nullBitmap),Q=(0,y.toArrayBufferView)(X.ArrayType,Z.data),{["length"]:H=Q.length/(0,xZ.strideForType)(X),["nullCount"]:q=Z.nullBitmap?-1:0}=Z;return new e(X,$,H,q,[void 0,Q,Y])}visitDuration(Z){let{["type"]:X,["offset"]:$=0}=Z,Y=(0,y.toUint8Array)(Z.nullBitmap),Q=(0,y.toArrayBufferView)(X.ArrayType,Z.data),{["length"]:H=Q.length,["nullCount"]:q=Z.nullBitmap?-1:0}=Z;return new e(X,$,H,q,[void 0,Q,Y])}visitFixedSizeList(Z){let{["type"]:X,["offset"]:$=0,["child"]:Y=new PX().visit({type:X.valueType})}=Z,Q=(0,y.toUint8Array)(Z.nullBitmap),{["length"]:H=Y.length/(0,xZ.strideForType)(X),["nullCount"]:q=Z.nullBitmap?-1:0}=Z;return new e(X,$,H,q,[void 0,void 0,Q],[Y])}visitMap(Z){let{["type"]:X,["offset"]:$=0,["child"]:Y=new PX().visit({type:X.childType})}=Z,Q=(0,y.toUint8Array)(Z.nullBitmap),H=(0,y.toInt32Array)(Z.valueOffsets),{["length"]:q=H.length-1,["nullCount"]:W=Z.nullBitmap?-1:0}=Z;return new e(X,$,q,W,[H,void 0,Q],[Y])}}var OO=new PX;function DO(Z){return OO.visit(Z)}f5.makeData=DO});var J$=F((p5)=>{Object.defineProperty(p5,"__esModule",{value:!0});p5.wrapChunkedIndexOf=p5.wrapChunkedCall2=p5.wrapChunkedCall1=p5.isChunkedValid=p5.binarySearch=p5.sliceChunks=p5.computeChunkOffsets=p5.computeChunkNullCounts=p5.computeChunkNullable=p5.ChunkedIterator=void 0;class u5{constructor(Z=0,X){this.numChunks=Z,this.getChunkIterator=X,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){while(this.chunkIndex<this.numChunks){let Z=this.chunkIterator.next();if(!Z.done)return Z;if(++this.chunkIndex<this.numChunks)this.chunkIterator=this.getChunkIterator(this.chunkIndex)}return{done:!0,value:null}}[Symbol.iterator](){return this}}p5.ChunkedIterator=u5;function wO(Z){return Z.some((X)=>X.nullable)}p5.computeChunkNullable=wO;function kO(Z){return Z.reduce((X,$)=>X+$.nullCount,0)}p5.computeChunkNullCounts=kO;function SO(Z){return Z.reduce((X,$,Y)=>{return X[Y+1]=X[Y]+$.length,X},new Uint32Array(Z.length+1))}p5.computeChunkOffsets=SO;function BO(Z,X,$,Y){let Q=[];for(let H=-1,q=Z.length;++H<q;){let W=Z[H],K=X[H],{length:P}=W;if(K>=Y)break;if($>=K+P)continue;if(K>=$&&K+P<=Y){Q.push(W);continue}let E=Math.max(0,$-K),U=Math.min(Y-K,P);Q.push(W.slice(E,U-E))}if(Q.length===0)Q.push(Z[0].slice(0,0));return Q}p5.sliceChunks=BO;function W$(Z,X,$,Y){let Q=0,H=0,q=X.length-1;do{if(Q>=q-1)return $<X[q]?Y(Z,Q,$-X[Q]):null;H=Q+Math.trunc((q-Q)*0.5),$<X[H]?q=H:Q=H}while(Q<q)}p5.binarySearch=W$;function IO(Z,X){return Z.getValid(X)}p5.isChunkedValid=IO;function VO(Z){function X($,Y,Q){return Z($[Y],Q)}return function($){let Y=this.data;return W$(Y,this._offsets,$,X)}}p5.wrapChunkedCall1=VO;function TO(Z){let X;function $(Y,Q,H){return Z(Y[Q],H,X)}return function(Y,Q){let H=this.data;X=Q;let q=W$(H,this._offsets,Y,$);return X=void 0,q}}p5.wrapChunkedCall2=TO;function vO(Z){let X;function $(Y,Q,H){let q=H,W=0,K=0;for(let P=Q-1,E=Y.length;++P<E;){let U=Y[P];if(~(W=Z(U,X,q)))return K+W;q=0,K+=U.length}return-1}return function(Y,Q){X=Y;let H=this.data,q=typeof Q!=="number"?$(H,0,0):W$(H,this._offsets,Q,$);return X=void 0,q}}p5.wrapChunkedIndexOf=vO});var K$=F((s5)=>{Object.defineProperty(s5,"__esModule",{value:!0});s5.instance=s5.IndexOfVisitor=void 0;var l5=JZ(),bO=jZ(),a5=_0(),n5=l0(),o5=y6();class k extends bO.Visitor{}s5.IndexOfVisitor=k;function uO(Z,X){return X===null&&Z.length>0?0:-1}function pO(Z,X){let{nullBitmap:$}=Z;if(!$||Z.nullCount<=0)return-1;let Y=0;for(let Q of new n5.BitIterator($,Z.offset+(X||0),Z.length,$,n5.getBool)){if(!Q)return Y;++Y}return-1}function x(Z,X,$){if(X===void 0)return-1;if(X===null)switch(Z.typeId){case l5.Type.Union:break;case l5.Type.Dictionary:break;default:return pO(Z,$)}let Y=a5.instance.getVisitFn(Z),Q=(0,o5.createElementComparator)(X);for(let H=($||0)-1,q=Z.length;++H<q;)if(Q(Y(Z,H)))return H;return-1}function i5(Z,X,$){let Y=a5.instance.getVisitFn(Z),Q=(0,o5.createElementComparator)(X);for(let H=($||0)-1,q=Z.length;++H<q;)if(Q(Y(Z,H)))return H;return-1}k.prototype.visitNull=uO;k.prototype.visitBool=x;k.prototype.visitInt=x;k.prototype.visitInt8=x;k.prototype.visitInt16=x;k.prototype.visitInt32=x;k.prototype.visitInt64=x;k.prototype.visitUint8=x;k.prototype.visitUint16=x;k.prototype.visitUint32=x;k.prototype.visitUint64=x;k.prototype.visitFloat=x;k.prototype.visitFloat16=x;k.prototype.visitFloat32=x;k.prototype.visitFloat64=x;k.prototype.visitUtf8=x;k.prototype.visitLargeUtf8=x;k.prototype.visitBinary=x;k.prototype.visitLargeBinary=x;k.prototype.visitFixedSizeBinary=x;k.prototype.visitDate=x;k.prototype.visitDateDay=x;k.prototype.visitDateMillisecond=x;k.prototype.visitTimestamp=x;k.prototype.visitTimestampSecond=x;k.prototype.visitTimestampMillisecond=x;k.prototype.visitTimestampMicrosecond=x;k.prototype.visitTimestampNanosecond=x;k.prototype.visitTime=x;k.prototype.visitTimeSecond=x;k.prototype.visitTimeMillisecond=x;k.prototype.visitTimeMicrosecond=x;k.prototype.visitTimeNanosecond=x;k.prototype.visitDecimal=x;k.prototype.visitList=x;k.prototype.visitStruct=x;k.prototype.visitUnion=x;k.prototype.visitDenseUnion=i5;k.prototype.visitSparseUnion=i5;k.prototype.visitDictionary=x;k.prototype.visitInterval=x;k.prototype.visitIntervalDayTime=x;k.prototype.visitIntervalYearMonth=x;k.prototype.visitDuration=x;k.prototype.visitDurationSecond=x;k.prototype.visitDurationMillisecond=x;k.prototype.visitDurationMicrosecond=x;k.prototype.visitDurationNanosecond=x;k.prototype.visitFixedSizeList=x;k.prototype.visitMap=x;s5.instance=new k});var P$=F((ZE)=>{Object.defineProperty(ZE,"__esModule",{value:!0});ZE.instance=ZE.IteratorVisitor=void 0;var lO=jZ(),nO=JZ(),OQ=QZ(),t5=J$();class S extends lO.Visitor{}ZE.IteratorVisitor=S;function v(Z){let{type:X}=Z;if(Z.nullCount===0&&Z.stride===1&&(OQ.DataType.isInt(X)&&X.bitWidth!==64||OQ.DataType.isTime(X)&&X.bitWidth!==64||OQ.DataType.isFloat(X)&&X.precision!==nO.Precision.HALF))return new t5.ChunkedIterator(Z.data.length,(Y)=>{let Q=Z.data[Y];return Q.values.subarray(0,Q.length)[Symbol.iterator]()});let $=0;return new t5.ChunkedIterator(Z.data.length,(Y)=>{let H=Z.data[Y].length,q=Z.slice($,$+H);return $+=H,new e5(q)})}class e5{constructor(Z){this.vector=Z,this.index=0}next(){if(this.index<this.vector.length)return{value:this.vector.get(this.index++)};return{done:!0,value:null}}[Symbol.iterator](){return this}}S.prototype.visitNull=v;S.prototype.visitBool=v;S.prototype.visitInt=v;S.prototype.visitInt8=v;S.prototype.visitInt16=v;S.prototype.visitInt32=v;S.prototype.visitInt64=v;S.prototype.visitUint8=v;S.prototype.visitUint16=v;S.prototype.visitUint32=v;S.prototype.visitUint64=v;S.prototype.visitFloat=v;S.prototype.visitFloat16=v;S.prototype.visitFloat32=v;S.prototype.visitFloat64=v;S.prototype.visitUtf8=v;S.prototype.visitLargeUtf8=v;S.prototype.visitBinary=v;S.prototype.visitLargeBinary=v;S.prototype.visitFixedSizeBinary=v;S.prototype.visitDate=v;S.prototype.visitDateDay=v;S.prototype.visitDateMillisecond=v;S.prototype.visitTimestamp=v;S.prototype.visitTimestampSecond=v;S.prototype.visitTimestampMillisecond=v;S.prototype.visitTimestampMicrosecond=v;S.prototype.visitTimestampNanosecond=v;S.prototype.visitTime=v;S.prototype.visitTimeSecond=v;S.prototype.visitTimeMillisecond=v;S.prototype.visitTimeMicrosecond=v;S.prototype.visitTimeNanosecond=v;S.prototype.visitDecimal=v;S.prototype.visitList=v;S.prototype.visitStruct=v;S.prototype.visitUnion=v;S.prototype.visitDenseUnion=v;S.prototype.visitSparseUnion=v;S.prototype.visitDictionary=v;S.prototype.visitInterval=v;S.prototype.visitIntervalDayTime=v;S.prototype.visitIntervalYearMonth=v;S.prototype.visitDuration=v;S.prototype.visitDurationSecond=v;S.prototype.visitDurationMillisecond=v;S.prototype.visitDurationMicrosecond=v;S.prototype.visitDurationNanosecond=v;S.prototype.visitFixedSizeList=v;S.prototype.visitMap=v;ZE.instance=new S});var VZ=F((PE)=>{var qE;Object.defineProperty(PE,"__esModule",{value:!0});PE.makeVector=PE.Vector=void 0;var h1=JZ(),$E=y6(),m6=QZ(),yZ=U1(),M1=J$(),YE=_0(),QE=bZ(),HE=K$(),oO=P$(),WE={},JE={};class r{constructor(Z){var X,$,Y;let Q=Z[0]instanceof r?Z.flatMap((q)=>q.data):Z;if(Q.length===0||Q.some((q)=>!(q instanceof yZ.Data)))throw TypeError("Vector constructor expects an Array of Data instances.");let H=(X=Q[0])===null||X===void 0?void 0:X.type;switch(Q.length){case 0:this._offsets=[0];break;case 1:{let{get:q,set:W,indexOf:K}=WE[H.typeId],P=Q[0];this.isValid=(E)=>(0,M1.isChunkedValid)(P,E),this.get=(E)=>q(P,E),this.set=(E,U)=>W(P,E,U),this.indexOf=(E)=>K(P,E),this._offsets=[0,P.length];break}default:Object.setPrototypeOf(this,JE[H.typeId]),this._offsets=(0,M1.computeChunkOffsets)(Q);break}this.data=Q,this.type=H,this.stride=(0,m6.strideForType)(H),this.numChildren=(Y=($=H.children)===null||$===void 0?void 0:$.length)!==null&&Y!==void 0?Y:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((Z,X)=>Z+X.byteLength,0)}get nullable(){return(0,M1.computeChunkNullable)(this.data)}get nullCount(){return(0,M1.computeChunkNullCounts)(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${h1.Type[this.type.typeId]}Vector`}isValid(Z){return!1}get(Z){return null}at(Z){return this.get((0,$E.wrapIndex)(Z,this.length))}set(Z,X){return}indexOf(Z,X){return-1}includes(Z,X){return this.indexOf(Z,X)>-1}[Symbol.iterator](){return oO.instance.visit(this)}concat(...Z){return new r(this.data.concat(Z.flatMap((X)=>X.data).flat(Number.POSITIVE_INFINITY)))}slice(Z,X){return new r((0,$E.clampRange)(this,Z,X,({data:$,_offsets:Y},Q,H)=>(0,M1.sliceChunks)($,Y,Q,H)))}toJSON(){return[...this]}toArray(){let{type:Z,data:X,length:$,stride:Y,ArrayType:Q}=this;switch(Z.typeId){case h1.Type.Int:case h1.Type.Float:case h1.Type.Decimal:case h1.Type.Time:case h1.Type.Timestamp:switch(X.length){case 0:return new Q;case 1:return X[0].values.subarray(0,$*Y);default:return X.reduce((H,{values:q,length:W})=>{return H.array.set(q.subarray(0,W*Y),H.offset),H.offset+=W*Y,H},{array:new Q($*Y),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(Z){var X;return this.getChildAt((X=this.type.children)===null||X===void 0?void 0:X.findIndex(($)=>$.name===Z))}getChildAt(Z){if(Z>-1&&Z<this.numChildren)return new r(this.data.map(({children:X})=>X[Z]));return null}get isMemoized(){if(m6.DataType.isDictionary(this.type))return this.data[0].dictionary.isMemoized;return!1}memoize(){if(m6.DataType.isDictionary(this.type)){let Z=new E$(this.data[0].dictionary),X=this.data.map(($)=>{let Y=$.clone();return Y.dictionary=Z,Y});return new r(X)}return new E$(this)}unmemoize(){if(m6.DataType.isDictionary(this.type)&&this.isMemoized){let Z=this.data[0].dictionary.unmemoize(),X=this.data.map(($)=>{let Y=$.clone();return Y.dictionary=Z,Y});return new r(X)}return this}}PE.Vector=r;qE=Symbol.toStringTag;r[qE]=((Z)=>{Z.type=m6.DataType.prototype,Z.data=[],Z.length=0,Z.stride=1,Z.numChildren=0,Z._offsets=new Uint32Array([0]),Z[Symbol.isConcatSpreadable]=!0;let X=Object.keys(h1.Type).map(($)=>h1.Type[$]).filter(($)=>typeof $==="number"&&$!==h1.Type.NONE);for(let $ of X){let Y=YE.instance.getVisitFnByTypeId($),Q=QE.instance.getVisitFnByTypeId($),H=HE.instance.getVisitFnByTypeId($);WE[$]={get:Y,set:Q,indexOf:H},JE[$]=Object.create(Z,{["isValid"]:{value:(0,M1.wrapChunkedCall1)(M1.isChunkedValid)},["get"]:{value:(0,M1.wrapChunkedCall1)(YE.instance.getVisitFnByTypeId($))},["set"]:{value:(0,M1.wrapChunkedCall2)(QE.instance.getVisitFnByTypeId($))},["indexOf"]:{value:(0,M1.wrapChunkedIndexOf)(HE.instance.getVisitFnByTypeId($))}})}return"Vector"})(r.prototype);class E$ extends r{constructor(Z){super(Z.data);let X=this.get,$=this.set,Y=this.slice,Q=Array(this.length);Object.defineProperty(this,"get",{value(H){let q=Q[H];if(q!==void 0)return q;let W=X.call(this,H);return Q[H]=W,W}}),Object.defineProperty(this,"set",{value(H,q){$.call(this,H,q),Q[H]=q}}),Object.defineProperty(this,"slice",{value:(H,q)=>new E$(Y.call(this,H,q))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new r(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}var L1=QZ();function KE(Z){if(Z){if(Z instanceof yZ.Data)return new r([Z]);if(Z instanceof r)return new r(Z.data);if(Z.type instanceof m6.DataType)return new r([(0,yZ.makeData)(Z)]);if(Array.isArray(Z))return new r(Z.flatMap((X)=>iO(X)));if(ArrayBuffer.isView(Z)){if(Z instanceof DataView)Z=new Uint8Array(Z.buffer);let X={offset:0,length:Z.length,nullCount:-1,data:Z};if(Z instanceof Int8Array)return new r([(0,yZ.makeData)(Object.assign(Object.assign({},X),{type:new L1.Int8}))]);if(Z instanceof Int16Array)return new r([(0,yZ.makeData)(Object.assign(Object.assign({},X),{type:new L1.Int16}))]);if(Z instanceof Int32Array)return new r([(0,yZ.makeData)(Object.assign(Object.assign({},X),{type:new L1.Int32}))]);if(Z instanceof BigInt64Array)return new r([(0,yZ.makeData)(Object.assign(Object.assign({},X),{type:new L1.Int64}))]);if(Z instanceof Uint8Array||Z instanceof Uint8ClampedArray)return new r([(0,yZ.makeData)(Object.assign(Object.assign({},X),{type:new L1.Uint8}))]);if(Z instanceof Uint16Array)return new r([(0,yZ.makeData)(Object.assign(Object.assign({},X),{type:new L1.Uint16}))]);if(Z instanceof Uint32Array)return new r([(0,yZ.makeData)(Object.assign(Object.assign({},X),{type:new L1.Uint32}))]);if(Z instanceof BigUint64Array)return new r([(0,yZ.makeData)(Object.assign(Object.assign({},X),{type:new L1.Uint64}))]);if(Z instanceof Float32Array)return new r([(0,yZ.makeData)(Object.assign(Object.assign({},X),{type:new L1.Float32}))]);if(Z instanceof Float64Array)return new r([(0,yZ.makeData)(Object.assign(Object.assign({},X),{type:new L1.Float64}))]);throw Error("Unrecognized input")}}throw Error("Unrecognized input")}PE.makeVector=KE;function iO(Z){return Z instanceof yZ.Data?[Z]:Z instanceof r?Z.data:KE(Z).data}});var zE=F((NE)=>{Object.defineProperty(NE,"__esModule",{value:!0});NE.createIsValidFunction=void 0;var GE=HX();function rO(Z){if(!Z||Z.length<=0)return function(Q){return!0};let X="",$=Z.filter((Y)=>Y===Y);if($.length>0)X=`
    switch (x) {${$.map((Y)=>`
        case ${tO(Y)}:`).join("")}
            return false;
    }`;if(Z.length!==$.length)X=`if (x !== x) return false;
${X}`;return Function("x",`${X}
return true;`)}NE.createIsValidFunction=rO;function tO(Z){if(typeof Z!=="bigint")return(0,GE.valueToString)(Z);return`${(0,GE.valueToString)(Z)}n`}});var j1=F((ME)=>{Object.defineProperty(ME,"__esModule",{value:!0});ME.OffsetsBufferBuilder=ME.BitmapBufferBuilder=ME.DataBufferBuilder=ME.BufferBuilder=void 0;var eO=OZ();function DQ(Z,X){let $=Math.ceil(Z)*X-1;return($-$%64+64||64)/X}function FE(Z,X=0){return Z.length>=X?Z.subarray(0,X):(0,eO.memcpy)(new Z.constructor(X),Z,0)}class CQ{constructor(Z,X=0,$=1){this.length=Math.ceil(X/$),this.buffer=new Z(this.length),this.stride=$,this.BYTES_PER_ELEMENT=Z.BYTES_PER_ELEMENT,this.ArrayType=Z}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(Z,X){return this}append(Z){return this.set(this.length,Z)}reserve(Z){if(Z>0){this.length+=Z;let X=this.stride,$=this.length*X,Y=this.buffer.length;if($>=Y)this._resize(Y===0?DQ($*1,this.BYTES_PER_ELEMENT):DQ($*2,this.BYTES_PER_ELEMENT))}return this}flush(Z=this.length){Z=DQ(Z*this.stride,this.BYTES_PER_ELEMENT);let X=FE(this.buffer,Z);return this.clear(),X}clear(){return this.length=0,this.buffer=new this.ArrayType,this}_resize(Z){return this.buffer=FE(this.buffer,Z)}}ME.BufferBuilder=CQ;class G$ extends CQ{last(){return this.get(this.length-1)}get(Z){return this.buffer[Z]}set(Z,X){return this.reserve(Z-this.length+1),this.buffer[Z*this.stride]=X,this}}ME.DataBufferBuilder=G$;class UE extends G${constructor(){super(Uint8Array,0,0.125);this.numValid=0}get numInvalid(){return this.length-this.numValid}get(Z){return this.buffer[Z>>3]>>Z%8&1}set(Z,X){let{buffer:$}=this.reserve(Z-this.length+1),Y=Z>>3,Q=Z%8,H=$[Y]>>Q&1;return X?H===0&&($[Y]|=1<<Q,++this.numValid):H===1&&($[Y]&=~(1<<Q),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}ME.BitmapBufferBuilder=UE;class LE extends G${constructor(Z){super(Z.OffsetArrayType,1,1)}append(Z){return this.set(this.length-1,Z)}set(Z,X){let $=this.length-1,Y=this.reserve(Z-$+1).buffer;if($<Z++&&$>=0)Y.fill(Y[$],$,Z);return Y[Z]=Y[Z-1]+X,this}flush(Z=this.length-1){if(Z>this.length)this.set(Z-1,this.BYTES_PER_ELEMENT>4?BigInt(0):0);return super.flush(Z+1)}}ME.OffsetsBufferBuilder=LE});var WZ=F((wE)=>{Object.defineProperty(wE,"__esModule",{value:!0});wE.VariableWidthBuilder=wE.FixedWidthBuilder=wE.Builder=void 0;var YD=VZ(),QD=U1(),OE=JX(),HD=QZ(),qD=zE(),wQ=j1();class A1{static throughNode(Z){throw Error('"throughNode" not available in this environment')}static throughDOM(Z){throw Error('"throughDOM" not available in this environment')}constructor({type:Z,nullValues:X}){if(this.length=0,this.finished=!1,this.type=Z,this.children=[],this.nullValues=X,this.stride=(0,HD.strideForType)(Z),this._nulls=new wQ.BitmapBufferBuilder,X&&X.length>0)this._isValid=(0,qD.createIsValidFunction)(X)}toVector(){return new YD.Vector([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let Z=0,{_offsets:X,_values:$,_nulls:Y,_typeIds:Q,children:H}=this;return X&&(Z+=X.byteLength),$&&(Z+=$.byteLength),Y&&(Z+=Y.byteLength),Q&&(Z+=Q.byteLength),H.reduce((q,W)=>q+W.byteLength,Z)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let Z=0;return this._offsets&&(Z+=this._offsets.reservedByteLength),this._values&&(Z+=this._values.reservedByteLength),this._nulls&&(Z+=this._nulls.reservedByteLength),this._typeIds&&(Z+=this._typeIds.reservedByteLength),this.children.reduce((X,$)=>X+$.reservedByteLength,Z)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(Z){return this.set(this.length,Z)}isValid(Z){return this._isValid(Z)}set(Z,X){if(this.setValid(Z,this.isValid(X)))this.setValue(Z,X);return this}setValue(Z,X){this._setValue(this,Z,X)}setValid(Z,X){return this.length=this._nulls.set(Z,+X).length,X}addChild(Z,X=`${this.numChildren}`){throw Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(Z){return this.children[Z]||null}flush(){let Z,X,$,Y,{type:Q,length:H,nullCount:q,_typeIds:W,_offsets:K,_values:P,_nulls:E}=this;if(X=W===null||W===void 0?void 0:W.flush(H))Y=K===null||K===void 0?void 0:K.flush(H);else if(Y=K===null||K===void 0?void 0:K.flush(H))Z=P===null||P===void 0?void 0:P.flush(K.last());else Z=P===null||P===void 0?void 0:P.flush(H);if(q>0)$=E===null||E===void 0?void 0:E.flush(H);let U=this.children.map((_)=>_.flush());return this.clear(),(0,QD.makeData)({type:Q,length:H,nullCount:q,children:U,child:U[0],data:Z,typeIds:X,nullBitmap:$,valueOffsets:Y})}finish(){this.finished=!0;for(let Z of this.children)Z.finish();return this}clear(){var Z,X,$,Y;this.length=0,(Z=this._nulls)===null||Z===void 0||Z.clear(),(X=this._values)===null||X===void 0||X.clear(),($=this._offsets)===null||$===void 0||$.clear(),(Y=this._typeIds)===null||Y===void 0||Y.clear();for(let Q of this.children)Q.clear();return this}}wE.Builder=A1;A1.prototype.length=1;A1.prototype.stride=1;A1.prototype.children=null;A1.prototype.finished=!1;A1.prototype.nullValues=null;A1.prototype._isValid=()=>!0;class DE extends A1{constructor(Z){super(Z);this._values=new wQ.DataBufferBuilder(this.ArrayType,0,this.stride)}setValue(Z,X){let $=this._values;return $.reserve(Z-$.length+1),super.setValue(Z,X)}}wE.FixedWidthBuilder=DE;class CE extends A1{constructor(Z){super(Z);this._pendingLength=0,this._offsets=new wQ.OffsetsBufferBuilder(Z.type)}setValue(Z,X){let $=this._pending||(this._pending=new Map),Y=$.get(Z);Y&&(this._pendingLength-=Y.length),this._pendingLength+=X instanceof OE.MapRow?X[OE.kKeys].length:X.length,$.set(Z,X)}setValid(Z,X){if(!super.setValid(Z,X))return(this._pending||(this._pending=new Map)).set(Z,void 0),!1;return!0}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){let Z=this._pending,X=this._pendingLength;if(this._pendingLength=0,this._pending=void 0,Z&&Z.size>0)this._flushPending(Z,X);return this}}wE.VariableWidthBuilder=CE});var kQ=F((BE)=>{Object.defineProperty(BE,"__esModule",{value:!0});BE.Block=void 0;class SE{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(Z,X,$,Y){return Z.prep(8,24),Z.writeInt64(BigInt(Y!==null&&Y!==void 0?Y:0)),Z.pad(4),Z.writeInt32($),Z.writeInt64(BigInt(X!==null&&X!==void 0?X:0)),Z.offset()}}BE.Block=SE});var hE=F((vE)=>{Object.defineProperty(vE,"__esModule",{value:!0});vE.Footer=void 0;var KD=m(),VE=kQ(),PD=z6(),TE=E8(),ED=V8();class N${constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsFooter(Z,X){return(X||new N$).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsFooter(Z,X){return Z.setPosition(Z.position()+KD.SIZE_PREFIX_LENGTH),(X||new N$).__init(Z.readInt32(Z.position())+Z.position(),Z)}version(){let Z=this.bb.__offset(this.bb_pos,4);return Z?this.bb.readInt16(this.bb_pos+Z):TE.MetadataVersion.V1}schema(Z){let X=this.bb.__offset(this.bb_pos,6);return X?(Z||new ED.Schema).__init(this.bb.__indirect(this.bb_pos+X),this.bb):null}dictionaries(Z,X){let $=this.bb.__offset(this.bb_pos,8);return $?(X||new VE.Block).__init(this.bb.__vector(this.bb_pos+$)+Z*24,this.bb):null}dictionariesLength(){let Z=this.bb.__offset(this.bb_pos,8);return Z?this.bb.__vector_len(this.bb_pos+Z):0}recordBatches(Z,X){let $=this.bb.__offset(this.bb_pos,10);return $?(X||new VE.Block).__init(this.bb.__vector(this.bb_pos+$)+Z*24,this.bb):null}recordBatchesLength(){let Z=this.bb.__offset(this.bb_pos,10);return Z?this.bb.__vector_len(this.bb_pos+Z):0}customMetadata(Z,X){let $=this.bb.__offset(this.bb_pos,12);return $?(X||new PD.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+$)+Z*4),this.bb):null}customMetadataLength(){let Z=this.bb.__offset(this.bb_pos,12);return Z?this.bb.__vector_len(this.bb_pos+Z):0}static startFooter(Z){Z.startObject(5)}static addVersion(Z,X){Z.addFieldInt16(0,X,TE.MetadataVersion.V1)}static addSchema(Z,X){Z.addFieldOffset(1,X,0)}static addDictionaries(Z,X){Z.addFieldOffset(2,X,0)}static startDictionariesVector(Z,X){Z.startVector(24,X,8)}static addRecordBatches(Z,X){Z.addFieldOffset(3,X,0)}static startRecordBatchesVector(Z,X){Z.startVector(24,X,8)}static addCustomMetadata(Z,X){Z.addFieldOffset(4,X,0)}static createCustomMetadataVector(Z,X){Z.startVector(4,X.length,4);for(let $=X.length-1;$>=0;$--)Z.addOffset(X[$]);return Z.endVector()}static startCustomMetadataVector(Z,X){Z.startVector(4,X,4)}static endFooter(Z){return Z.endObject()}static finishFooterBuffer(Z,X){Z.finish(X)}static finishSizePrefixedFooterBuffer(Z,X){Z.finish(X,void 0,!0)}}vE.Footer=N$});var mZ=F((jE)=>{Object.defineProperty(jE,"__esModule",{value:!0});jE.Field=jE.Schema=void 0;var GD=JZ(),ND=QZ();class Q1{constructor(Z=[],X,$,Y=GD.MetadataVersion.V5){if(this.fields=Z||[],this.metadata=X||new Map,!$)$=SQ(this.fields);this.dictionaries=$,this.metadataVersion=Y}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map((Z)=>Z.name)}toString(){return`Schema<{ ${this.fields.map((Z,X)=>`${X}: ${Z}`).join(", ")} }>`}select(Z){let X=new Set(Z),$=this.fields.filter((Y)=>X.has(Y.name));return new Q1($,this.metadata)}selectAt(Z){let X=Z.map(($)=>this.fields[$]).filter(Boolean);return new Q1(X,this.metadata)}assign(...Z){let X=Z[0]instanceof Q1?Z[0]:Array.isArray(Z[0])?new Q1(Z[0]):new Q1(Z),$=[...this.fields],Y=R$(R$(new Map,this.metadata),X.metadata),Q=X.fields.filter((q)=>{let W=$.findIndex((K)=>K.name===q.name);return~W?($[W]=q.clone({metadata:R$(R$(new Map,$[W].metadata),q.metadata)}))&&!1:!0}),H=SQ(Q,new Map);return new Q1([...$,...Q],Y,new Map([...this.dictionaries,...H]))}}jE.Schema=Q1;Q1.prototype.fields=null;Q1.prototype.metadata=null;Q1.prototype.dictionaries=null;class P0{static new(...Z){let[X,$,Y,Q]=Z;if(Z[0]&&typeof Z[0]==="object")({name:X}=Z[0]),$===void 0&&($=Z[0].type),Y===void 0&&(Y=Z[0].nullable),Q===void 0&&(Q=Z[0].metadata);return new P0(`${X}`,$,Y,Q)}constructor(Z,X,$=!1,Y){this.name=Z,this.type=X,this.nullable=$,this.metadata=Y||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...Z){let[X,$,Y,Q]=Z;return!Z[0]||typeof Z[0]!=="object"?[X=this.name,$=this.type,Y=this.nullable,Q=this.metadata]=Z:{name:X=this.name,type:$=this.type,nullable:Y=this.nullable,metadata:Q=this.metadata}=Z[0],P0.new(X,$,Y,Q)}}jE.Field=P0;P0.prototype.type=null;P0.prototype.name=null;P0.prototype.nullable=null;P0.prototype.metadata=null;function R$(Z,X){return new Map([...Z||new Map,...X||new Map])}function SQ(Z,X=new Map){for(let $=-1,Y=Z.length;++$<Y;){let H=Z[$].type;if(ND.DataType.isDictionary(H)){if(!X.has(H.id))X.set(H.id,H.dictionary);else if(X.get(H.id)!==H.dictionary)throw Error("Cannot create Schema containing two different dictionaries with the same Id")}if(H.children&&H.children.length>0)SQ(H.children,X)}return X}});var IQ=F((bE)=>{Object.defineProperty(bE,"__esModule",{value:!0});bE.FileBlock=bE.Footer=void 0;var zD=kQ(),O1=hE(),fE=m(),FD=fE.Builder,UD=fE.ByteBuffer,yE=mZ(),mE=JZ(),LD=OZ(),cE=Q0();class BQ{static decode(Z){Z=new UD((0,LD.toUint8Array)(Z));let X=O1.Footer.getRootAsFooter(Z),$=yE.Schema.decode(X.schema(),new Map,X.version());return new _E($,X)}static encode(Z){let X=new FD,$=yE.Schema.encode(X,Z.schema);O1.Footer.startRecordBatchesVector(X,Z.numRecordBatches);for(let H of[...Z.recordBatches()].slice().reverse())n0.encode(X,H);let Y=X.endVector();O1.Footer.startDictionariesVector(X,Z.numDictionaries);for(let H of[...Z.dictionaryBatches()].slice().reverse())n0.encode(X,H);let Q=X.endVector();return O1.Footer.startFooter(X),O1.Footer.addSchema(X,$),O1.Footer.addVersion(X,mE.MetadataVersion.V5),O1.Footer.addRecordBatches(X,Y),O1.Footer.addDictionaries(X,Q),O1.Footer.finishFooterBuffer(X,O1.Footer.endFooter(X)),X.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(Z,X=mE.MetadataVersion.V5,$,Y){this.schema=Z,this.version=X,$&&(this._recordBatches=$),Y&&(this._dictionaryBatches=Y)}*recordBatches(){for(let Z,X=-1,$=this.numRecordBatches;++X<$;)if(Z=this.getRecordBatch(X))yield Z}*dictionaryBatches(){for(let Z,X=-1,$=this.numDictionaries;++X<$;)if(Z=this.getDictionaryBatch(X))yield Z}getRecordBatch(Z){return Z>=0&&Z<this.numRecordBatches&&this._recordBatches[Z]||null}getDictionaryBatch(Z){return Z>=0&&Z<this.numDictionaries&&this._dictionaryBatches[Z]||null}}bE.Footer=BQ;class _E extends BQ{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(Z,X){super(Z,X.version());this._footer=X}getRecordBatch(Z){if(Z>=0&&Z<this.numRecordBatches){let X=this._footer.recordBatches(Z);if(X)return n0.decode(X)}return null}getDictionaryBatch(Z){if(Z>=0&&Z<this.numDictionaries){let X=this._footer.dictionaries(Z);if(X)return n0.decode(X)}return null}}class n0{static decode(Z){return new n0(Z.metaDataLength(),Z.bodyLength(),Z.offset())}static encode(Z,X){let{metaDataLength:$}=X,Y=BigInt(X.offset),Q=BigInt(X.bodyLength);return zD.Block.createBlock(Z,Y,$,Q)}constructor(Z,X,$){this.metaDataLength=Z,this.offset=(0,cE.bigIntToNumber)($),this.bodyLength=(0,cE.bigIntToNumber)(X)}}bE.FileBlock=n0});var NX=F((nE)=>{Object.defineProperty(nE,"__esModule",{value:!0});nE.AsyncQueue=nE.ReadableInterop=nE.ArrowJSON=nE.ITERATOR_DONE=void 0;var EX=(gZ(),cZ(vZ)),pE=$X();nE.ITERATOR_DONE=Object.freeze({done:!0,value:void 0});class dE{constructor(Z){this._json=Z}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}nE.ArrowJSON=dE;class VQ{tee(){return this._getDOMStream().tee()}pipe(Z,X){return this._getNodeStream().pipe(Z,X)}pipeTo(Z,X){return this._getDOMStream().pipeTo(Z,X)}pipeThrough(Z,X){return this._getDOMStream().pipeThrough(Z,X)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}nE.ReadableInterop=VQ;class lE extends VQ{constructor(){super();this._values=[],this.resolvers=[],this._closedPromise=new Promise((Z)=>this._closedPromiseResolve=Z)}get closed(){return this._closedPromise}cancel(Z){return EX.__awaiter(this,void 0,void 0,function*(){yield this.return(Z)})}write(Z){if(this._ensureOpen())this.resolvers.length<=0?this._values.push(Z):this.resolvers.shift().resolve({done:!1,value:Z})}abort(Z){if(this._closedPromiseResolve)this.resolvers.length<=0?this._error={error:Z}:this.resolvers.shift().reject({done:!0,value:Z})}close(){if(this._closedPromiseResolve){let{resolvers:Z}=this;while(Z.length>0)Z.shift().resolve(nE.ITERATOR_DONE);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(Z){return pE.default.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,Z)}toNodeStream(Z){return pE.default.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,Z)}throw(Z){return EX.__awaiter(this,void 0,void 0,function*(){return yield this.abort(Z),nE.ITERATOR_DONE})}return(Z){return EX.__awaiter(this,void 0,void 0,function*(){return yield this.close(),nE.ITERATOR_DONE})}read(Z){return EX.__awaiter(this,void 0,void 0,function*(){return(yield this.next(Z,"read")).value})}peek(Z){return EX.__awaiter(this,void 0,void 0,function*(){return(yield this.next(Z,"peek")).value})}next(...Z){if(this._values.length>0)return Promise.resolve({done:!1,value:this._values.shift()});else if(this._error)return Promise.reject({done:!0,value:this._error.error});else if(!this._closedPromiseResolve)return Promise.resolve(nE.ITERATOR_DONE);else return new Promise((X,$)=>{this.resolvers.push({resolve:X,reject:$})})}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw Error("AsyncQueue is closed")}}nE.AsyncQueue=lE});var R0=F((rE)=>{Object.defineProperty(rE,"__esModule",{value:!0});rE.AsyncByteStream=rE.ByteStream=rE.AsyncByteQueue=void 0;var N0=(gZ(),cZ(vZ)),E0=$X(),oE=a1(),RX=NX(),TQ=OZ(),c6=o1();class vQ extends RX.AsyncQueue{write(Z){if((Z=(0,TQ.toUint8Array)(Z)).byteLength>0)return super.write(Z)}toString(Z=!1){return Z?(0,oE.decodeUtf8)(this.toUint8Array(!0)):this.toUint8Array(!1).then(oE.decodeUtf8)}toUint8Array(Z=!1){return Z?(0,TQ.joinUint8Arrays)(this._values)[0]:(()=>N0.__awaiter(this,void 0,void 0,function*(){var X,$,Y,Q;let H=[],q=0;try{for(var W=!0,K=N0.__asyncValues(this),P;P=yield K.next(),X=P.done,!X;W=!0){Q=P.value,W=!1;let E=Q;H.push(E),q+=E.byteLength}}catch(E){$={error:E}}finally{try{if(!W&&!X&&(Y=K.return))yield Y.call(K)}finally{if($)throw $.error}}return(0,TQ.joinUint8Arrays)(H,q)[0]}))()}}rE.AsyncByteQueue=vQ;class iE{constructor(Z){if(Z)this.source=new sE(E0.default.fromIterable(Z))}[Symbol.iterator](){return this}next(Z){return this.source.next(Z)}throw(Z){return this.source.throw(Z)}return(Z){return this.source.return(Z)}peek(Z){return this.source.peek(Z)}read(Z){return this.source.read(Z)}}rE.ByteStream=iE;class gQ{constructor(Z){if(Z instanceof gQ)this.source=Z.source;else if(Z instanceof vQ)this.source=new G0(E0.default.fromAsyncIterable(Z));else if((0,c6.isReadableNodeStream)(Z))this.source=new G0(E0.default.fromNodeStream(Z));else if((0,c6.isReadableDOMStream)(Z))this.source=new G0(E0.default.fromDOMStream(Z));else if((0,c6.isFetchResponse)(Z))this.source=new G0(E0.default.fromDOMStream(Z.body));else if((0,c6.isIterable)(Z))this.source=new G0(E0.default.fromIterable(Z));else if((0,c6.isPromise)(Z))this.source=new G0(E0.default.fromAsyncIterable(Z));else if((0,c6.isAsyncIterable)(Z))this.source=new G0(E0.default.fromAsyncIterable(Z))}[Symbol.asyncIterator](){return this}next(Z){return this.source.next(Z)}throw(Z){return this.source.throw(Z)}return(Z){return this.source.return(Z)}get closed(){return this.source.closed}cancel(Z){return this.source.cancel(Z)}peek(Z){return this.source.peek(Z)}read(Z){return this.source.read(Z)}}rE.AsyncByteStream=gQ;class sE{constructor(Z){this.source=Z}cancel(Z){this.return(Z)}peek(Z){return this.next(Z,"peek").value}read(Z){return this.next(Z,"read").value}next(Z,X="read"){return this.source.next({cmd:X,size:Z})}throw(Z){return Object.create(this.source.throw&&this.source.throw(Z)||RX.ITERATOR_DONE)}return(Z){return Object.create(this.source.return&&this.source.return(Z)||RX.ITERATOR_DONE)}}class G0{constructor(Z){this.source=Z,this._closedPromise=new Promise((X)=>this._closedPromiseResolve=X)}cancel(Z){return N0.__awaiter(this,void 0,void 0,function*(){yield this.return(Z)})}get closed(){return this._closedPromise}read(Z){return N0.__awaiter(this,void 0,void 0,function*(){return(yield this.next(Z,"read")).value})}peek(Z){return N0.__awaiter(this,void 0,void 0,function*(){return(yield this.next(Z,"peek")).value})}next(Z){return N0.__awaiter(this,arguments,void 0,function*(X,$="read"){return yield this.source.next({cmd:$,size:X})})}throw(Z){return N0.__awaiter(this,void 0,void 0,function*(){let X=this.source.throw&&(yield this.source.throw(Z))||RX.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(X)})}return(Z){return N0.__awaiter(this,void 0,void 0,function*(){let X=this.source.return&&(yield this.source.return(Z))||RX.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(X)})}}});var hQ=F(($G)=>{Object.defineProperty($G,"__esModule",{value:!0});$G.AsyncRandomAccessFile=$G.RandomAccessFile=void 0;var z0=(gZ(),cZ(vZ)),eE=R0(),wD=OZ();class ZG extends eE.ByteStream{constructor(Z,X){super();this.position=0,this.buffer=(0,wD.toUint8Array)(Z),this.size=X===void 0?this.buffer.byteLength:X}readInt32(Z){let{buffer:X,byteOffset:$}=this.readAt(Z,4);return new DataView(X,$).getInt32(0,!0)}seek(Z){return this.position=Math.min(Z,this.size),Z<this.size}read(Z){let{buffer:X,size:$,position:Y}=this;if(X&&Y<$){if(typeof Z!=="number")Z=Number.POSITIVE_INFINITY;return this.position=Math.min($,Y+Math.min($-Y,Z)),X.subarray(Y,this.position)}return null}readAt(Z,X){let $=this.buffer,Y=Math.min(this.size,Z+X);return $?$.subarray(Z,Y):new Uint8Array(X)}close(){this.buffer&&(this.buffer=null)}throw(Z){return this.close(),{done:!0,value:Z}}return(Z){return this.close(),{done:!0,value:Z}}}$G.RandomAccessFile=ZG;class XG extends eE.AsyncByteStream{constructor(Z,X){super();if(this.position=0,this._handle=Z,typeof X==="number")this.size=X;else this._pending=(()=>z0.__awaiter(this,void 0,void 0,function*(){this.size=(yield Z.stat()).size,delete this._pending}))()}readInt32(Z){return z0.__awaiter(this,void 0,void 0,function*(){let{buffer:X,byteOffset:$}=yield this.readAt(Z,4);return new DataView(X,$).getInt32(0,!0)})}seek(Z){return z0.__awaiter(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(Z,this.size),Z<this.size})}read(Z){return z0.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:X,size:$,position:Y}=this;if(X&&Y<$){if(typeof Z!=="number")Z=Number.POSITIVE_INFINITY;let Q=Y,H=0,q=0,W=Math.min($,Q+Math.min($-Q,Z)),K=new Uint8Array(Math.max(0,(this.position=W)-Q));while((Q+=q)<W&&(H+=q)<K.byteLength)({bytesRead:q}=yield X.read(K,H,K.byteLength-H,Q));return K}return null})}readAt(Z,X){return z0.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:$,size:Y}=this;if($&&Z+X<Y){let Q=Math.min(Y,Z+X),H=new Uint8Array(Q-Z);return(yield $.read(H,0,X,Z)).buffer}return new Uint8Array(X)})}close(){return z0.__awaiter(this,void 0,void 0,function*(){let Z=this._handle;this._handle=null,Z&&(yield Z.close())})}throw(Z){return z0.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:Z}})}return(Z){return z0.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:Z}})}}$G.AsyncRandomAccessFile=XG});var xQ=F((QG)=>{Object.defineProperty(QG,"__esModule",{value:!0});QG.Int128=QG.Int64=QG.Uint64=QG.BaseInt64=void 0;var SD=65536;function f6(Z){if(Z<0)Z=4294967295+Z+1;return`0x${Z.toString(16)}`}var _6=8,jQ=[1,10,100,1000,1e4,1e5,1e6,1e7,1e8];class z${constructor(Z){this.buffer=Z}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(Z){let X=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),$=new Uint32Array([Z.buffer[1]>>>16,Z.buffer[1]&65535,Z.buffer[0]>>>16,Z.buffer[0]&65535]),Y=X[3]*$[3];this.buffer[0]=Y&65535;let Q=Y>>>16;return Y=X[2]*$[3],Q+=Y,Y=X[3]*$[2]>>>0,Q+=Y,this.buffer[0]+=Q<<16,this.buffer[1]=Q>>>0<Y?SD:0,this.buffer[1]+=Q>>>16,this.buffer[1]+=X[1]*$[3]+X[2]*$[2]+X[3]*$[1],this.buffer[1]+=X[0]*$[3]+X[1]*$[2]+X[2]*$[1]+X[3]*$[0]<<16,this}_plus(Z){let X=this.buffer[0]+Z.buffer[0]>>>0;if(this.buffer[1]+=Z.buffer[1],X<this.buffer[0]>>>0)++this.buffer[1];this.buffer[0]=X}lessThan(Z){return this.buffer[1]<Z.buffer[1]||this.buffer[1]===Z.buffer[1]&&this.buffer[0]<Z.buffer[0]}equals(Z){return this.buffer[1]===Z.buffer[1]&&this.buffer[0]==Z.buffer[0]}greaterThan(Z){return Z.lessThan(this)}hex(){return`${f6(this.buffer[1])} ${f6(this.buffer[0])}`}}QG.BaseInt64=z$;class o extends z${times(Z){return this._times(Z),this}plus(Z){return this._plus(Z),this}static from(Z,X=new Uint32Array(2)){return o.fromString(typeof Z==="string"?Z:Z.toString(),X)}static fromNumber(Z,X=new Uint32Array(2)){return o.fromString(Z.toString(),X)}static fromString(Z,X=new Uint32Array(2)){let $=Z.length,Y=new o(X);for(let Q=0;Q<$;){let H=_6<$-Q?_6:$-Q,q=new o(new Uint32Array([Number.parseInt(Z.slice(Q,Q+H),10),0])),W=new o(new Uint32Array([jQ[H],0]));Y.times(W),Y.plus(q),Q+=H}return Y}static convertArray(Z){let X=new Uint32Array(Z.length*2);for(let $=-1,Y=Z.length;++$<Y;)o.from(Z[$],new Uint32Array(X.buffer,X.byteOffset+2*$*4,2));return X}static multiply(Z,X){return new o(new Uint32Array(Z.buffer)).times(X)}static add(Z,X){return new o(new Uint32Array(Z.buffer)).plus(X)}}QG.Uint64=o;class lZ extends z${negate(){if(this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0)++this.buffer[1];return this}times(Z){return this._times(Z),this}plus(Z){return this._plus(Z),this}lessThan(Z){let X=this.buffer[1]<<0,$=Z.buffer[1]<<0;return X<$||X===$&&this.buffer[0]<Z.buffer[0]}static from(Z,X=new Uint32Array(2)){return lZ.fromString(typeof Z==="string"?Z:Z.toString(),X)}static fromNumber(Z,X=new Uint32Array(2)){return lZ.fromString(Z.toString(),X)}static fromString(Z,X=new Uint32Array(2)){let $=Z.startsWith("-"),Y=Z.length,Q=new lZ(X);for(let H=$?1:0;H<Y;){let q=_6<Y-H?_6:Y-H,W=new lZ(new Uint32Array([Number.parseInt(Z.slice(H,H+q),10),0])),K=new lZ(new Uint32Array([jQ[q],0]));Q.times(K),Q.plus(W),H+=q}return $?Q.negate():Q}static convertArray(Z){let X=new Uint32Array(Z.length*2);for(let $=-1,Y=Z.length;++$<Y;)lZ.from(Z[$],new Uint32Array(X.buffer,X.byteOffset+2*$*4,2));return X}static multiply(Z,X){return new lZ(new Uint32Array(Z.buffer)).times(X)}static add(Z,X){return new lZ(new Uint32Array(Z.buffer)).plus(X)}}QG.Int64=lZ;class D1{constructor(Z){this.buffer=Z}high(){return new lZ(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new lZ(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){if(this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0)++this.buffer[1];if(this.buffer[1]==0)++this.buffer[2];if(this.buffer[2]==0)++this.buffer[3];return this}times(Z){let X=new o(new Uint32Array([this.buffer[3],0])),$=new o(new Uint32Array([this.buffer[2],0])),Y=new o(new Uint32Array([this.buffer[1],0])),Q=new o(new Uint32Array([this.buffer[0],0])),H=new o(new Uint32Array([Z.buffer[3],0])),q=new o(new Uint32Array([Z.buffer[2],0])),W=new o(new Uint32Array([Z.buffer[1],0])),K=new o(new Uint32Array([Z.buffer[0],0])),P=o.multiply(Q,K);this.buffer[0]=P.low();let E=new o(new Uint32Array([P.high(),0]));return P=o.multiply(Y,K),E.plus(P),P=o.multiply(Q,W),E.plus(P),this.buffer[1]=E.low(),this.buffer[3]=E.lessThan(P)?1:0,this.buffer[2]=E.high(),new o(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(o.multiply($,K)).plus(o.multiply(Y,W)).plus(o.multiply(Q,q)),this.buffer[3]+=o.multiply(X,K).plus(o.multiply($,W)).plus(o.multiply(Y,q)).plus(o.multiply(Q,H)).low(),this}plus(Z){let X=new Uint32Array(4);if(X[3]=this.buffer[3]+Z.buffer[3]>>>0,X[2]=this.buffer[2]+Z.buffer[2]>>>0,X[1]=this.buffer[1]+Z.buffer[1]>>>0,X[0]=this.buffer[0]+Z.buffer[0]>>>0,X[0]<this.buffer[0]>>>0)++X[1];if(X[1]<this.buffer[1]>>>0)++X[2];if(X[2]<this.buffer[2]>>>0)++X[3];return this.buffer[3]=X[3],this.buffer[2]=X[2],this.buffer[1]=X[1],this.buffer[0]=X[0],this}hex(){return`${f6(this.buffer[3])} ${f6(this.buffer[2])} ${f6(this.buffer[1])} ${f6(this.buffer[0])}`}static multiply(Z,X){return new D1(new Uint32Array(Z.buffer)).times(X)}static add(Z,X){return new D1(new Uint32Array(Z.buffer)).plus(X)}static from(Z,X=new Uint32Array(4)){return D1.fromString(typeof Z==="string"?Z:Z.toString(),X)}static fromNumber(Z,X=new Uint32Array(4)){return D1.fromString(Z.toString(),X)}static fromString(Z,X=new Uint32Array(4)){let $=Z.startsWith("-"),Y=Z.length,Q=new D1(X);for(let H=$?1:0;H<Y;){let q=_6<Y-H?_6:Y-H,W=new D1(new Uint32Array([Number.parseInt(Z.slice(H,H+q),10),0,0,0])),K=new D1(new Uint32Array([jQ[q],0,0,0]));Q.times(K),Q.plus(W),H+=q}return $?Q.negate():Q}static convertArray(Z){let X=new Uint32Array(Z.length*4);for(let $=-1,Y=Z.length;++$<Y;)D1.from(Z[$],new Uint32Array(X.buffer,X.byteOffset+16*$,4));return X}}QG.Int128=D1});var PG=F((JG)=>{Object.defineProperty(JG,"__esModule",{value:!0});JG.JSONVectorLoader=JG.VectorLoader=void 0;var GZ=U1(),TD=mZ(),nZ=QZ(),vD=jZ(),qG=l0(),gD=a1(),F$=xQ(),U$=JZ(),C1=OZ();class yQ extends vD.Visitor{constructor(Z,X,$,Y,Q=U$.MetadataVersion.V5){super();this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=Z,this.nodes=X,this.buffers=$,this.dictionaries=Y,this.metadataVersion=Q}visit(Z){return super.visit(Z instanceof TD.Field?Z.type:Z)}visitNull(Z,{length:X}=this.nextFieldNode()){return(0,GZ.makeData)({type:Z,length:X})}visitBool(Z,{length:X,nullCount:$}=this.nextFieldNode()){return(0,GZ.makeData)({type:Z,length:X,nullCount:$,nullBitmap:this.readNullBitmap(Z,$),data:this.readData(Z)})}visitInt(Z,{length:X,nullCount:$}=this.nextFieldNode()){return(0,GZ.makeData)({type:Z,length:X,nullCount:$,nullBitmap:this.readNullBitmap(Z,$),data:this.readData(Z)})}visitFloat(Z,{length:X,nullCount:$}=this.nextFieldNode()){return(0,GZ.makeData)({type:Z,length:X,nullCount:$,nullBitmap:this.readNullBitmap(Z,$),data:this.readData(Z)})}visitUtf8(Z,{length:X,nullCount:$}=this.nextFieldNode()){return(0,GZ.makeData)({type:Z,length:X,nullCount:$,nullBitmap:this.readNullBitmap(Z,$),valueOffsets:this.readOffsets(Z),data:this.readData(Z)})}visitLargeUtf8(Z,{length:X,nullCount:$}=this.nextFieldNode()){return(0,GZ.makeData)({type:Z,length:X,nullCount:$,nullBitmap:this.readNullBitmap(Z,$),valueOffsets:this.readOffsets(Z),data:this.readData(Z)})}visitBinary(Z,{length:X,nullCount:$}=this.nextFieldNode()){return(0,GZ.makeData)({type:Z,length:X,nullCount:$,nullBitmap:this.readNullBitmap(Z,$),valueOffsets:this.readOffsets(Z),data:this.readData(Z)})}visitLargeBinary(Z,{length:X,nullCount:$}=this.nextFieldNode()){return(0,GZ.makeData)({type:Z,length:X,nullCount:$,nullBitmap:this.readNullBitmap(Z,$),valueOffsets:this.readOffsets(Z),data:this.readData(Z)})}visitFixedSizeBinary(Z,{length:X,nullCount:$}=this.nextFieldNode()){return(0,GZ.makeData)({type:Z,length:X,nullCount:$,nullBitmap:this.readNullBitmap(Z,$),data:this.readData(Z)})}visitDate(Z,{length:X,nullCount:$}=this.nextFieldNode()){return(0,GZ.makeData)({type:Z,length:X,nullCount:$,nullBitmap:this.readNullBitmap(Z,$),data:this.readData(Z)})}visitTimestamp(Z,{length:X,nullCount:$}=this.nextFieldNode()){return(0,GZ.makeData)({type:Z,length:X,nullCount:$,nullBitmap:this.readNullBitmap(Z,$),data:this.readData(Z)})}visitTime(Z,{length:X,nullCount:$}=this.nextFieldNode()){return(0,GZ.makeData)({type:Z,length:X,nullCount:$,nullBitmap:this.readNullBitmap(Z,$),data:this.readData(Z)})}visitDecimal(Z,{length:X,nullCount:$}=this.nextFieldNode()){return(0,GZ.makeData)({type:Z,length:X,nullCount:$,nullBitmap:this.readNullBitmap(Z,$),data:this.readData(Z)})}visitList(Z,{length:X,nullCount:$}=this.nextFieldNode()){return(0,GZ.makeData)({type:Z,length:X,nullCount:$,nullBitmap:this.readNullBitmap(Z,$),valueOffsets:this.readOffsets(Z),child:this.visit(Z.children[0])})}visitStruct(Z,{length:X,nullCount:$}=this.nextFieldNode()){return(0,GZ.makeData)({type:Z,length:X,nullCount:$,nullBitmap:this.readNullBitmap(Z,$),children:this.visitMany(Z.children)})}visitUnion(Z,{length:X,nullCount:$}=this.nextFieldNode()){if(this.metadataVersion<U$.MetadataVersion.V5)this.readNullBitmap(Z,$);return Z.mode===U$.UnionMode.Sparse?this.visitSparseUnion(Z,{length:X,nullCount:$}):this.visitDenseUnion(Z,{length:X,nullCount:$})}visitDenseUnion(Z,{length:X,nullCount:$}=this.nextFieldNode()){return(0,GZ.makeData)({type:Z,length:X,nullCount:$,typeIds:this.readTypeIds(Z),valueOffsets:this.readOffsets(Z),children:this.visitMany(Z.children)})}visitSparseUnion(Z,{length:X,nullCount:$}=this.nextFieldNode()){return(0,GZ.makeData)({type:Z,length:X,nullCount:$,typeIds:this.readTypeIds(Z),children:this.visitMany(Z.children)})}visitDictionary(Z,{length:X,nullCount:$}=this.nextFieldNode()){return(0,GZ.makeData)({type:Z,length:X,nullCount:$,nullBitmap:this.readNullBitmap(Z,$),data:this.readData(Z.indices),dictionary:this.readDictionary(Z)})}visitInterval(Z,{length:X,nullCount:$}=this.nextFieldNode()){return(0,GZ.makeData)({type:Z,length:X,nullCount:$,nullBitmap:this.readNullBitmap(Z,$),data:this.readData(Z)})}visitDuration(Z,{length:X,nullCount:$}=this.nextFieldNode()){return(0,GZ.makeData)({type:Z,length:X,nullCount:$,nullBitmap:this.readNullBitmap(Z,$),data:this.readData(Z)})}visitFixedSizeList(Z,{length:X,nullCount:$}=this.nextFieldNode()){return(0,GZ.makeData)({type:Z,length:X,nullCount:$,nullBitmap:this.readNullBitmap(Z,$),child:this.visit(Z.children[0])})}visitMap(Z,{length:X,nullCount:$}=this.nextFieldNode()){return(0,GZ.makeData)({type:Z,length:X,nullCount:$,nullBitmap:this.readNullBitmap(Z,$),valueOffsets:this.readOffsets(Z),child:this.visit(Z.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(Z,X,$=this.nextBufferRange()){return X>0&&this.readData(Z,$)||new Uint8Array(0)}readOffsets(Z,X){return this.readData(Z,X)}readTypeIds(Z,X){return this.readData(Z,X)}readData(Z,{length:X,offset:$}=this.nextBufferRange()){return this.bytes.subarray($,$+X)}readDictionary(Z){return this.dictionaries.get(Z.id)}}JG.VectorLoader=yQ;class WG extends yQ{constructor(Z,X,$,Y,Q){super(new Uint8Array(0),X,$,Y,Q);this.sources=Z}readNullBitmap(Z,X,{offset:$}=this.nextBufferRange()){return X<=0?new Uint8Array(0):(0,qG.packBools)(this.sources[$])}readOffsets(Z,{offset:X}=this.nextBufferRange()){return(0,C1.toArrayBufferView)(Uint8Array,(0,C1.toArrayBufferView)(Z.OffsetArrayType,this.sources[X]))}readTypeIds(Z,{offset:X}=this.nextBufferRange()){return(0,C1.toArrayBufferView)(Uint8Array,(0,C1.toArrayBufferView)(Z.ArrayType,this.sources[X]))}readData(Z,{offset:X}=this.nextBufferRange()){let{sources:$}=this;if(nZ.DataType.isTimestamp(Z))return(0,C1.toArrayBufferView)(Uint8Array,F$.Int64.convertArray($[X]));else if((nZ.DataType.isInt(Z)||nZ.DataType.isTime(Z))&&Z.bitWidth===64||nZ.DataType.isDuration(Z))return(0,C1.toArrayBufferView)(Uint8Array,F$.Int64.convertArray($[X]));else if(nZ.DataType.isDate(Z)&&Z.unit===U$.DateUnit.MILLISECOND)return(0,C1.toArrayBufferView)(Uint8Array,F$.Int64.convertArray($[X]));else if(nZ.DataType.isDecimal(Z))return(0,C1.toArrayBufferView)(Uint8Array,F$.Int128.convertArray($[X]));else if(nZ.DataType.isBinary(Z)||nZ.DataType.isLargeBinary(Z)||nZ.DataType.isFixedSizeBinary(Z))return hD($[X]);else if(nZ.DataType.isBool(Z))return(0,qG.packBools)($[X]);else if(nZ.DataType.isUtf8(Z)||nZ.DataType.isLargeUtf8(Z))return(0,gD.encodeUtf8)($[X].join(""));return(0,C1.toArrayBufferView)(Uint8Array,(0,C1.toArrayBufferView)(Z.ArrayType,$[X].map((Y)=>+Y)))}}JG.JSONVectorLoader=WG;function hD(Z){let X=Z.join(""),$=new Uint8Array(X.length/2);for(let Y=0;Y<X.length;Y+=2)$[Y>>1]=Number.parseInt(X.slice(Y,Y+2),16);return $}});var L$=F((GG)=>{Object.defineProperty(GG,"__esModule",{value:!0});GG.BinaryBuilder=void 0;var xD=j1(),yD=WZ(),mD=OZ();class EG extends yD.VariableWidthBuilder{constructor(Z){super(Z);this._values=new xD.BufferBuilder(Uint8Array)}get byteLength(){let Z=this._pendingLength+this.length*4;return this._offsets&&(Z+=this._offsets.byteLength),this._values&&(Z+=this._values.byteLength),this._nulls&&(Z+=this._nulls.byteLength),Z}setValue(Z,X){return super.setValue(Z,(0,mD.toUint8Array)(X))}_flushPending(Z,X){let $=this._offsets,Y=this._values.reserve(X).buffer,Q=0;for(let[H,q]of Z)if(q===void 0)$.set(H,0);else{let W=q.length;Y.set(q,Q),$.set(H,W),Q+=W}}}GG.BinaryBuilder=EG});var M$=F((zG)=>{Object.defineProperty(zG,"__esModule",{value:!0});zG.LargeBinaryBuilder=void 0;var cD=OZ(),fD=j1(),_D=WZ();class RG extends _D.VariableWidthBuilder{constructor(Z){super(Z);this._values=new fD.BufferBuilder(Uint8Array)}get byteLength(){let Z=this._pendingLength+this.length*4;return this._offsets&&(Z+=this._offsets.byteLength),this._values&&(Z+=this._values.byteLength),this._nulls&&(Z+=this._nulls.byteLength),Z}setValue(Z,X){return super.setValue(Z,(0,cD.toUint8Array)(X))}_flushPending(Z,X){let $=this._offsets,Y=this._values.reserve(X).buffer,Q=0;for(let[H,q]of Z)if(q===void 0)$.set(H,BigInt(0));else{let W=q.length;Y.set(q,Q),$.set(H,BigInt(W)),Q+=W}}}zG.LargeBinaryBuilder=RG});var mQ=F((LG)=>{Object.defineProperty(LG,"__esModule",{value:!0});LG.BoolBuilder=void 0;var bD=j1(),uD=WZ();class UG extends uD.Builder{constructor(Z){super(Z);this._values=new bD.BitmapBufferBuilder}setValue(Z,X){this._values.set(Z,+X)}}LG.BoolBuilder=UG});var bQ=F((AG)=>{Object.defineProperty(AG,"__esModule",{value:!0});AG.DateMillisecondBuilder=AG.DateDayBuilder=AG.DateBuilder=void 0;var pD=WZ(),cQ=bZ();class zX extends pD.FixedWidthBuilder{}AG.DateBuilder=zX;zX.prototype._setValue=cQ.setDate;class fQ extends zX{}AG.DateDayBuilder=fQ;fQ.prototype._setValue=cQ.setDateDay;class _Q extends zX{}AG.DateMillisecondBuilder=_Q;_Q.prototype._setValue=cQ.setDateMillisecond});var pQ=F((DG)=>{Object.defineProperty(DG,"__esModule",{value:!0});DG.DecimalBuilder=void 0;var nD=WZ(),aD=bZ();class uQ extends nD.FixedWidthBuilder{}DG.DecimalBuilder=uQ;uQ.prototype._setValue=aD.setDecimal});var dQ=F((SG)=>{Object.defineProperty(SG,"__esModule",{value:!0});SG.DictionaryBuilder=void 0;var oD=QZ(),iD=WZ(),wG=FX();class kG extends iD.Builder{constructor({type:Z,nullValues:X,dictionaryHashFunction:$}){super({type:new oD.Dictionary(Z.dictionary,Z.indices,Z.id,Z.isOrdered)});if(this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=(0,wG.makeBuilder)({type:this.type.indices,nullValues:X}),this.dictionary=(0,wG.makeBuilder)({type:this.type.dictionary,nullValues:null}),typeof $==="function")this.valueToKey=$}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(Z){return this.indices.isValid(Z)}setValid(Z,X){let $=this.indices;return X=$.setValid(Z,X),this.length=$.length,X}setValue(Z,X){let $=this._keysToIndices,Y=this.valueToKey(X),Q=$[Y];if(Q===void 0)$[Y]=Q=this._dictionaryOffset+this.dictionary.append(X).length-1;return this.indices.setValue(Z,Q)}flush(){let Z=this.type,X=this._dictionary,$=this.dictionary.toVector(),Y=this.indices.flush().clone(Z);return Y.dictionary=X?X.concat($):$,this.finished||(this._dictionaryOffset+=$.length),this._dictionary=Y.dictionary,this.clear(),Y}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(Z){return typeof Z==="string"?Z:`${Z}`}}SG.DictionaryBuilder=kG});var nQ=F((IG)=>{Object.defineProperty(IG,"__esModule",{value:!0});IG.FixedSizeBinaryBuilder=void 0;var sD=WZ(),rD=bZ();class lQ extends sD.FixedWidthBuilder{}IG.FixedSizeBinaryBuilder=lQ;lQ.prototype._setValue=rD.setFixedSizeBinary});var aQ=F((vG)=>{Object.defineProperty(vG,"__esModule",{value:!0});vG.FixedSizeListBuilder=void 0;var tD=mZ(),eD=WZ(),ZC=QZ();class TG extends eD.Builder{setValue(Z,X){let[$]=this.children,Y=Z*this.stride;for(let Q=-1,H=X.length;++Q<H;)$.set(Y+Q,X[Q])}addChild(Z,X="0"){if(this.numChildren>0)throw Error("FixedSizeListBuilder can only have one child.");let $=this.children.push(Z);return this.type=new ZC.FixedSizeList(this.type.listSize,new tD.Field(X,Z.type,!0)),$}}vG.FixedSizeListBuilder=TG});var oQ=F((yG)=>{Object.defineProperty(yG,"__esModule",{value:!0});yG.Float64Builder=yG.Float32Builder=yG.Float16Builder=yG.FloatBuilder=void 0;var XC=WX(),$C=WZ();class UX extends $C.FixedWidthBuilder{setValue(Z,X){this._values.set(Z,X)}}yG.FloatBuilder=UX;class hG extends UX{setValue(Z,X){super.setValue(Z,(0,XC.float64ToUint16)(X))}}yG.Float16Builder=hG;class jG extends UX{}yG.Float32Builder=jG;class xG extends UX{}yG.Float64Builder=xG});var tQ=F((cG)=>{Object.defineProperty(cG,"__esModule",{value:!0});cG.IntervalYearMonthBuilder=cG.IntervalDayTimeBuilder=cG.IntervalBuilder=void 0;var qC=WZ(),iQ=bZ();class LX extends qC.FixedWidthBuilder{}cG.IntervalBuilder=LX;LX.prototype._setValue=iQ.setIntervalValue;class sQ extends LX{}cG.IntervalDayTimeBuilder=sQ;sQ.prototype._setValue=iQ.setIntervalDayTime;class rQ extends LX{}cG.IntervalYearMonthBuilder=rQ;rQ.prototype._setValue=iQ.setIntervalYearMonth});var YH=F((_G)=>{Object.defineProperty(_G,"__esModule",{value:!0});_G.DurationNanosecondBuilder=_G.DurationMicrosecondBuilder=_G.DurationMillisecondBuilder=_G.DurationSecondBuilder=_G.DurationBuilder=void 0;var KC=WZ(),MX=bZ();class a0 extends KC.FixedWidthBuilder{}_G.DurationBuilder=a0;a0.prototype._setValue=MX.setDuration;class eQ extends a0{}_G.DurationSecondBuilder=eQ;eQ.prototype._setValue=MX.setDurationSecond;class ZH extends a0{}_G.DurationMillisecondBuilder=ZH;ZH.prototype._setValue=MX.setDurationMillisecond;class XH extends a0{}_G.DurationMicrosecondBuilder=XH;XH.prototype._setValue=MX.setDurationMicrosecond;class $H extends a0{}_G.DurationNanosecondBuilder=$H;$H.prototype._setValue=MX.setDurationNanosecond});var QH=F((sG)=>{Object.defineProperty(sG,"__esModule",{value:!0});sG.Uint64Builder=sG.Uint32Builder=sG.Uint16Builder=sG.Uint8Builder=sG.Int64Builder=sG.Int32Builder=sG.Int16Builder=sG.Int8Builder=sG.IntBuilder=void 0;var RC=WZ();class w1 extends RC.FixedWidthBuilder{setValue(Z,X){this._values.set(Z,X)}}sG.IntBuilder=w1;class uG extends w1{}sG.Int8Builder=uG;class pG extends w1{}sG.Int16Builder=pG;class dG extends w1{}sG.Int32Builder=dG;class lG extends w1{}sG.Int64Builder=lG;class nG extends w1{}sG.Uint8Builder=nG;class aG extends w1{}sG.Uint16Builder=aG;class oG extends w1{}sG.Uint32Builder=oG;class iG extends w1{}sG.Uint64Builder=iG});var HH=F((eG)=>{Object.defineProperty(eG,"__esModule",{value:!0});eG.ListBuilder=void 0;var CC=mZ(),wC=QZ(),kC=j1(),SC=WZ();class tG extends SC.VariableWidthBuilder{constructor(Z){super(Z);this._offsets=new kC.OffsetsBufferBuilder(Z.type)}addChild(Z,X="0"){if(this.numChildren>0)throw Error("ListBuilder can only have one child.");return this.children[this.numChildren]=Z,this.type=new wC.List(new CC.Field(X,Z.type,!0)),this.numChildren-1}_flushPending(Z){let X=this._offsets,[$]=this.children;for(let[Y,Q]of Z)if(typeof Q>"u")X.set(Y,0);else{let H=Q,q=H.length,W=X.set(Y,q).buffer[Y];for(let K=-1;++K<q;)$.set(W+K,H[K])}}}eG.ListBuilder=tG});var qH=F(($7)=>{Object.defineProperty($7,"__esModule",{value:!0});$7.MapBuilder=void 0;var BC=mZ(),IC=QZ(),VC=WZ();class X7 extends VC.VariableWidthBuilder{set(Z,X){return super.set(Z,X)}setValue(Z,X){let $=X instanceof Map?X:new Map(Object.entries(X)),Y=this._pending||(this._pending=new Map),Q=Y.get(Z);Q&&(this._pendingLength-=Q.size),this._pendingLength+=$.size,Y.set(Z,$)}addChild(Z,X=`${this.numChildren}`){if(this.numChildren>0)throw Error("ListBuilder can only have one child.");return this.children[this.numChildren]=Z,this.type=new IC.Map_(new BC.Field(X,Z.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(Z){let X=this._offsets,[$]=this.children;for(let[Y,Q]of Z)if(Q===void 0)X.set(Y,0);else{let{[Y]:H,[Y+1]:q}=X.set(Y,Q.size).buffer;for(let W of Q.entries())if($.set(H,W),++H>=q)break}}}$7.MapBuilder=X7});var WH=F((H7)=>{Object.defineProperty(H7,"__esModule",{value:!0});H7.NullBuilder=void 0;var TC=WZ();class Q7 extends TC.Builder{setValue(Z,X){}setValid(Z,X){return this.length=Math.max(Z+1,this.length),X}}H7.NullBuilder=Q7});var JH=F((J7)=>{Object.defineProperty(J7,"__esModule",{value:!0});J7.StructBuilder=void 0;var vC=mZ(),gC=WZ(),hC=QZ();class W7 extends gC.Builder{setValue(Z,X){let{children:$,type:Y}=this;switch(Array.isArray(X)||X.constructor){case!0:return Y.children.forEach((Q,H)=>$[H].set(Z,X[H]));case Map:return Y.children.forEach((Q,H)=>$[H].set(Z,X.get(Q.name)));default:return Y.children.forEach((Q,H)=>$[H].set(Z,X[Q.name]))}}setValid(Z,X){if(!super.setValid(Z,X))this.children.forEach(($)=>$.setValid(Z,X));return X}addChild(Z,X=`${this.numChildren}`){let $=this.children.push(Z);return this.type=new hC.Struct([...this.type.children,new vC.Field(X,Z.type,!0)]),$}}J7.StructBuilder=W7});var NH=F((P7)=>{Object.defineProperty(P7,"__esModule",{value:!0});P7.TimestampNanosecondBuilder=P7.TimestampMicrosecondBuilder=P7.TimestampMillisecondBuilder=P7.TimestampSecondBuilder=P7.TimestampBuilder=void 0;var jC=WZ(),AX=bZ();class o0 extends jC.FixedWidthBuilder{}P7.TimestampBuilder=o0;o0.prototype._setValue=AX.setTimestamp;class KH extends o0{}P7.TimestampSecondBuilder=KH;KH.prototype._setValue=AX.setTimestampSecond;class PH extends o0{}P7.TimestampMillisecondBuilder=PH;PH.prototype._setValue=AX.setTimestampMillisecond;class EH extends o0{}P7.TimestampMicrosecondBuilder=EH;EH.prototype._setValue=AX.setTimestampMicrosecond;class GH extends o0{}P7.TimestampNanosecondBuilder=GH;GH.prototype._setValue=AX.setTimestampNanosecond});var LH=F((G7)=>{Object.defineProperty(G7,"__esModule",{value:!0});G7.TimeNanosecondBuilder=G7.TimeMicrosecondBuilder=G7.TimeMillisecondBuilder=G7.TimeSecondBuilder=G7.TimeBuilder=void 0;var fC=WZ(),OX=bZ();class i0 extends fC.FixedWidthBuilder{}G7.TimeBuilder=i0;i0.prototype._setValue=OX.setTime;class RH extends i0{}G7.TimeSecondBuilder=RH;RH.prototype._setValue=OX.setTimeSecond;class zH extends i0{}G7.TimeMillisecondBuilder=zH;zH.prototype._setValue=OX.setTimeMillisecond;class FH extends i0{}G7.TimeMicrosecondBuilder=FH;FH.prototype._setValue=OX.setTimeMicrosecond;class UH extends i0{}G7.TimeNanosecondBuilder=UH;UH.prototype._setValue=OX.setTimeNanosecond});var MH=F((U7)=>{Object.defineProperty(U7,"__esModule",{value:!0});U7.DenseUnionBuilder=U7.SparseUnionBuilder=U7.UnionBuilder=void 0;var dC=mZ(),R7=j1(),lC=WZ(),nC=QZ();class A$ extends lC.Builder{constructor(Z){super(Z);if(this._typeIds=new R7.DataBufferBuilder(Int8Array,0,1),typeof Z.valueToChildTypeId==="function")this._valueToChildTypeId=Z.valueToChildTypeId}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(Z,X){return this.set(this.length,Z,X)}set(Z,X,$){if($===void 0)$=this._valueToChildTypeId(this,X,Z);return this.setValue(Z,X,$),this}setValue(Z,X,$){this._typeIds.set(Z,$);let Y=this.type.typeIdToChildIndex[$],Q=this.children[Y];Q===null||Q===void 0||Q.set(Z,X)}addChild(Z,X=`${this.children.length}`){let $=this.children.push(Z),{type:{children:Y,mode:Q,typeIds:H}}=this,q=[...Y,new dC.Field(X,Z.type)];return this.type=new nC.Union(Q,[...H,$],q),$}_valueToChildTypeId(Z,X,$){throw Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}U7.UnionBuilder=A$;class z7 extends A${}U7.SparseUnionBuilder=z7;class F7 extends A${constructor(Z){super(Z);this._offsets=new R7.DataBufferBuilder(Int32Array)}setValue(Z,X,$){let Y=this._typeIds.set(Z,$).buffer[Z],Q=this.getChildAt(this.type.typeIdToChildIndex[Y]),H=this._offsets.set(Z,Q.length).buffer[Z];Q===null||Q===void 0||Q.set(H,X)}}U7.DenseUnionBuilder=F7});var OH=F((M7)=>{Object.defineProperty(M7,"__esModule",{value:!0});M7.Utf8Builder=void 0;var iC=a1(),sC=L$(),rC=j1(),tC=WZ();class AH extends tC.VariableWidthBuilder{constructor(Z){super(Z);this._values=new rC.BufferBuilder(Uint8Array)}get byteLength(){let Z=this._pendingLength+this.length*4;return this._offsets&&(Z+=this._offsets.byteLength),this._values&&(Z+=this._values.byteLength),this._nulls&&(Z+=this._nulls.byteLength),Z}setValue(Z,X){return super.setValue(Z,(0,iC.encodeUtf8)(X))}_flushPending(Z,X){}}M7.Utf8Builder=AH;AH.prototype._flushPending=sC.BinaryBuilder.prototype._flushPending});var CH=F((O7)=>{Object.defineProperty(O7,"__esModule",{value:!0});O7.LargeUtf8Builder=void 0;var eC=a1(),Zw=j1(),Xw=WZ(),$w=M$();class DH extends Xw.VariableWidthBuilder{constructor(Z){super(Z);this._values=new Zw.BufferBuilder(Uint8Array)}get byteLength(){let Z=this._pendingLength+this.length*4;return this._offsets&&(Z+=this._offsets.byteLength),this._values&&(Z+=this._values.byteLength),this._nulls&&(Z+=this._nulls.byteLength),Z}setValue(Z,X){return super.setValue(Z,(0,eC.encodeUtf8)(X))}_flushPending(Z,X){}}O7.LargeUtf8Builder=DH;DH.prototype._flushPending=$w.LargeBinaryBuilder.prototype._flushPending});var k7=F((C7)=>{Object.defineProperty(C7,"__esModule",{value:!0});C7.instance=C7.GetBuilderCtor=void 0;var Yw=jZ(),Qw=L$(),Hw=M$(),qw=mQ(),wH=bQ(),Ww=pQ(),Jw=dQ(),Kw=nQ(),Pw=aQ(),O$=oQ(),kH=tQ(),DX=YH(),x1=QH(),Ew=HH(),Gw=qH(),Nw=WH(),Rw=JH(),CX=NH(),wX=LH(),SH=MH(),zw=OH(),Fw=CH();class BH extends Yw.Visitor{visitNull(){return Nw.NullBuilder}visitBool(){return qw.BoolBuilder}visitInt(){return x1.IntBuilder}visitInt8(){return x1.Int8Builder}visitInt16(){return x1.Int16Builder}visitInt32(){return x1.Int32Builder}visitInt64(){return x1.Int64Builder}visitUint8(){return x1.Uint8Builder}visitUint16(){return x1.Uint16Builder}visitUint32(){return x1.Uint32Builder}visitUint64(){return x1.Uint64Builder}visitFloat(){return O$.FloatBuilder}visitFloat16(){return O$.Float16Builder}visitFloat32(){return O$.Float32Builder}visitFloat64(){return O$.Float64Builder}visitUtf8(){return zw.Utf8Builder}visitLargeUtf8(){return Fw.LargeUtf8Builder}visitBinary(){return Qw.BinaryBuilder}visitLargeBinary(){return Hw.LargeBinaryBuilder}visitFixedSizeBinary(){return Kw.FixedSizeBinaryBuilder}visitDate(){return wH.DateBuilder}visitDateDay(){return wH.DateDayBuilder}visitDateMillisecond(){return wH.DateMillisecondBuilder}visitTimestamp(){return CX.TimestampBuilder}visitTimestampSecond(){return CX.TimestampSecondBuilder}visitTimestampMillisecond(){return CX.TimestampMillisecondBuilder}visitTimestampMicrosecond(){return CX.TimestampMicrosecondBuilder}visitTimestampNanosecond(){return CX.TimestampNanosecondBuilder}visitTime(){return wX.TimeBuilder}visitTimeSecond(){return wX.TimeSecondBuilder}visitTimeMillisecond(){return wX.TimeMillisecondBuilder}visitTimeMicrosecond(){return wX.TimeMicrosecondBuilder}visitTimeNanosecond(){return wX.TimeNanosecondBuilder}visitDecimal(){return Ww.DecimalBuilder}visitList(){return Ew.ListBuilder}visitStruct(){return Rw.StructBuilder}visitUnion(){return SH.UnionBuilder}visitDenseUnion(){return SH.DenseUnionBuilder}visitSparseUnion(){return SH.SparseUnionBuilder}visitDictionary(){return Jw.DictionaryBuilder}visitInterval(){return kH.IntervalBuilder}visitIntervalDayTime(){return kH.IntervalDayTimeBuilder}visitIntervalYearMonth(){return kH.IntervalYearMonthBuilder}visitDuration(){return DX.DurationBuilder}visitDurationSecond(){return DX.DurationSecondBuilder}visitDurationMillisecond(){return DX.DurationMillisecondBuilder}visitDurationMicrosecond(){return DX.DurationMicrosecondBuilder}visitDurationNanosecond(){return DX.DurationNanosecondBuilder}visitFixedSizeList(){return Pw.FixedSizeListBuilder}visitMap(){return Gw.MapBuilder}}C7.GetBuilderCtor=BH;C7.instance=new BH});var IX=F((S7)=>{Object.defineProperty(S7,"__esModule",{value:!0});S7.compareTypes=S7.compareFields=S7.compareSchemas=S7.instance=S7.TypeComparator=void 0;var Lw=jZ();class B extends Lw.Visitor{compareSchemas(Z,X){return Z===X||X instanceof Z.constructor&&this.compareManyFields(Z.fields,X.fields)}compareManyFields(Z,X){return Z===X||Array.isArray(Z)&&Array.isArray(X)&&Z.length===X.length&&Z.every(($,Y)=>this.compareFields($,X[Y]))}compareFields(Z,X){return Z===X||X instanceof Z.constructor&&Z.name===X.name&&Z.nullable===X.nullable&&this.visit(Z.type,X.type)}}S7.TypeComparator=B;function TZ(Z,X){return X instanceof Z.constructor}function s0(Z,X){return Z===X||TZ(Z,X)}function y1(Z,X){return Z===X||TZ(Z,X)&&Z.bitWidth===X.bitWidth&&Z.isSigned===X.isSigned}function D$(Z,X){return Z===X||TZ(Z,X)&&Z.precision===X.precision}function Mw(Z,X){return Z===X||TZ(Z,X)&&Z.byteWidth===X.byteWidth}function IH(Z,X){return Z===X||TZ(Z,X)&&Z.unit===X.unit}function kX(Z,X){return Z===X||TZ(Z,X)&&Z.unit===X.unit&&Z.timezone===X.timezone}function SX(Z,X){return Z===X||TZ(Z,X)&&Z.unit===X.unit&&Z.bitWidth===X.bitWidth}function Aw(Z,X){return Z===X||TZ(Z,X)&&Z.children.length===X.children.length&&S7.instance.compareManyFields(Z.children,X.children)}function Ow(Z,X){return Z===X||TZ(Z,X)&&Z.children.length===X.children.length&&S7.instance.compareManyFields(Z.children,X.children)}function VH(Z,X){return Z===X||TZ(Z,X)&&Z.mode===X.mode&&Z.typeIds.every(($,Y)=>$===X.typeIds[Y])&&S7.instance.compareManyFields(Z.children,X.children)}function Dw(Z,X){return Z===X||TZ(Z,X)&&Z.id===X.id&&Z.isOrdered===X.isOrdered&&S7.instance.visit(Z.indices,X.indices)&&S7.instance.visit(Z.dictionary,X.dictionary)}function TH(Z,X){return Z===X||TZ(Z,X)&&Z.unit===X.unit}function BX(Z,X){return Z===X||TZ(Z,X)&&Z.unit===X.unit}function Cw(Z,X){return Z===X||TZ(Z,X)&&Z.listSize===X.listSize&&Z.children.length===X.children.length&&S7.instance.compareManyFields(Z.children,X.children)}function ww(Z,X){return Z===X||TZ(Z,X)&&Z.keysSorted===X.keysSorted&&Z.children.length===X.children.length&&S7.instance.compareManyFields(Z.children,X.children)}B.prototype.visitNull=s0;B.prototype.visitBool=s0;B.prototype.visitInt=y1;B.prototype.visitInt8=y1;B.prototype.visitInt16=y1;B.prototype.visitInt32=y1;B.prototype.visitInt64=y1;B.prototype.visitUint8=y1;B.prototype.visitUint16=y1;B.prototype.visitUint32=y1;B.prototype.visitUint64=y1;B.prototype.visitFloat=D$;B.prototype.visitFloat16=D$;B.prototype.visitFloat32=D$;B.prototype.visitFloat64=D$;B.prototype.visitUtf8=s0;B.prototype.visitLargeUtf8=s0;B.prototype.visitBinary=s0;B.prototype.visitLargeBinary=s0;B.prototype.visitFixedSizeBinary=Mw;B.prototype.visitDate=IH;B.prototype.visitDateDay=IH;B.prototype.visitDateMillisecond=IH;B.prototype.visitTimestamp=kX;B.prototype.visitTimestampSecond=kX;B.prototype.visitTimestampMillisecond=kX;B.prototype.visitTimestampMicrosecond=kX;B.prototype.visitTimestampNanosecond=kX;B.prototype.visitTime=SX;B.prototype.visitTimeSecond=SX;B.prototype.visitTimeMillisecond=SX;B.prototype.visitTimeMicrosecond=SX;B.prototype.visitTimeNanosecond=SX;B.prototype.visitDecimal=s0;B.prototype.visitList=Aw;B.prototype.visitStruct=Ow;B.prototype.visitUnion=VH;B.prototype.visitDenseUnion=VH;B.prototype.visitSparseUnion=VH;B.prototype.visitDictionary=Dw;B.prototype.visitInterval=TH;B.prototype.visitIntervalDayTime=TH;B.prototype.visitIntervalYearMonth=TH;B.prototype.visitDuration=BX;B.prototype.visitDurationSecond=BX;B.prototype.visitDurationMillisecond=BX;B.prototype.visitDurationMicrosecond=BX;B.prototype.visitDurationNanosecond=BX;B.prototype.visitFixedSizeList=Cw;B.prototype.visitMap=ww;S7.instance=new B;function kw(Z,X){return S7.instance.compareSchemas(Z,X)}S7.compareSchemas=kw;function Sw(Z,X){return S7.instance.compareFields(Z,X)}S7.compareFields=Sw;function Bw(Z,X){return S7.instance.visit(Z,X)}S7.compareTypes=Bw});var FX=F((v7)=>{Object.defineProperty(v7,"__esModule",{value:!0});v7.builderThroughAsyncIterable=v7.builderThroughIterable=v7.tableFromJSON=v7.vectorFromArray=v7.makeBuilder=void 0;var b6=(gZ(),cZ(vZ)),vH=mZ(),aZ=QZ(),vw=U1(),I7=VZ(),gw=k7(),hw=u6(),jw=F0(),xw=IX();function w$(Z){let X=Z.type,$=new(gw.instance.getVisitFn(X)())(Z);if(X.children&&X.children.length>0){let Y=Z.children||[],Q={nullValues:Z.nullValues},H=Array.isArray(Y)?(q,W)=>Y[W]||Q:({name:q})=>Y[q]||Q;for(let[q,W]of X.children.entries()){let{type:K}=W,P=H(W,q);$.children.push(w$(Object.assign(Object.assign({},P),{type:K})))}}return $}v7.makeBuilder=w$;function V7(Z,X){if(Z instanceof vw.Data||Z instanceof I7.Vector||Z.type instanceof aZ.DataType||ArrayBuffer.isView(Z))return(0,I7.makeVector)(Z);let $={type:X!==null&&X!==void 0?X:C$(Z),nullValues:[null]},Y=[...T7($)(Z)],Q=Y.length===1?Y[0]:Y.reduce((H,q)=>H.concat(q));if(aZ.DataType.isDictionary(Q.type))return Q.memoize();return Q}v7.vectorFromArray=V7;function yw(Z){let X=V7(Z),$=new jw.RecordBatch(new vH.Schema(X.type.children),X.data[0]);return new hw.Table($)}v7.tableFromJSON=yw;function C$(Z){if(Z.length===0)return new aZ.Null;let X=0,$=0,Y=0,Q=0,H=0,q=0,W=0,K=0;for(let P of Z){if(P==null){++X;continue}switch(typeof P){case"bigint":++q;continue;case"boolean":++W;continue;case"number":++Q;continue;case"string":++H;continue;case"object":if(Array.isArray(P))++$;else if(Object.prototype.toString.call(P)==="[object Date]")++K;else++Y;continue}throw TypeError("Unable to infer Vector type from input values, explicit type declaration expected.")}if(Q+X===Z.length)return new aZ.Float64;else if(H+X===Z.length)return new aZ.Dictionary(new aZ.Utf8,new aZ.Int32);else if(q+X===Z.length)return new aZ.Int64;else if(W+X===Z.length)return new aZ.Bool;else if(K+X===Z.length)return new aZ.TimestampMillisecond;else if($+X===Z.length){let P=Z,E=C$(P[P.findIndex((U)=>U!=null)]);if(P.every((U)=>U==null||(0,xw.compareTypes)(E,C$(U))))return new aZ.List(new vH.Field("",E,!0))}else if(Y+X===Z.length){let P=new Map;for(let E of Z)for(let U of Object.keys(E))if(!P.has(U)&&E[U]!=null)P.set(U,new vH.Field(U,C$([E[U]]),!0));return new aZ.Struct([...P.values()])}throw TypeError("Unable to infer Vector type from input values, explicit type declaration expected.")}function T7(Z){let{["queueingStrategy"]:X="count"}=Z,{["highWaterMark"]:$=X!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=Z,Y=X!=="bytes"?"length":"byteLength";return function*(Q){let H=0,q=w$(Z);for(let W of Q)if(q.append(W)[Y]>=$)++H&&(yield q.toVector());if(q.finish().length>0||H===0)yield q.toVector()}}v7.builderThroughIterable=T7;function mw(Z){let{["queueingStrategy"]:X="count"}=Z,{["highWaterMark"]:$=X!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=Z,Y=X!=="bytes"?"length":"byteLength";return function(Q){return b6.__asyncGenerator(this,arguments,function*(){var H,q,W,K;let P=0,E=w$(Z);try{for(var U=!0,_=b6.__asyncValues(Q),j;j=yield b6.__await(_.next()),H=j.done,!H;U=!0){K=j.value,U=!1;let n=K;if(E.append(n)[Y]>=$)++P&&(yield yield b6.__await(E.toVector()))}}catch(n){q={error:n}}finally{try{if(!U&&!H&&(W=_.return))yield b6.__await(W.call(_))}finally{if(q)throw q.error}}if(E.finish().length>0||P===0)yield yield b6.__await(E.toVector())})}}v7.builderThroughAsyncIterable=mw});var y7=F((j7)=>{Object.defineProperty(j7,"__esModule",{value:!0});j7.distributeVectorsIntoRecordBatches=void 0;var h7=U1(),uw=QZ(),pw=F0();function dw(Z,X){return lw(Z,X.map(($)=>$.data.concat()))}j7.distributeVectorsIntoRecordBatches=dw;function lw(Z,X){let $=[...Z.fields],Y=[],Q={numBatches:X.reduce((U,_)=>Math.max(U,_.length),0)},H=0,q=0,W=-1,K=X.length,P,E=[];while(Q.numBatches-- >0){for(q=Number.POSITIVE_INFINITY,W=-1;++W<K;)E[W]=P=X[W].shift(),q=Math.min(q,P?P.length:q);if(Number.isFinite(q)){if(E=nw($,q,E,X,Q),q>0)Y[H++]=(0,h7.makeData)({type:new uw.Struct($),length:q,nullCount:0,children:E.slice()})}}return[Z=Z.assign($),Y.map((U)=>new pw.RecordBatch(Z,U))]}function nw(Z,X,$,Y,Q){var H;let q=(X+63&-64)>>3;for(let W=-1,K=Y.length;++W<K;){let P=$[W],E=P===null||P===void 0?void 0:P.length;if(E>=X)if(E===X)$[W]=P;else $[W]=P.slice(0,X),Q.numBatches=Math.max(Q.numBatches,Y[W].unshift(P.slice(X,E-X)));else{let U=Z[W];Z[W]=U.clone({nullable:!0}),$[W]=(H=P===null||P===void 0?void 0:P._changeLengthAndBackfillNullBitmap(X))!==null&&H!==void 0?H:(0,h7.makeData)({type:U.type,length:X,nullCount:X,nullBitmap:new Uint8Array(q)})}}return $}});var u6=F((_7)=>{var f7;Object.defineProperty(_7,"__esModule",{value:!0});_7.tableFromArrays=_7.makeTable=_7.Table=void 0;var gH=JZ(),hH=U1(),aw=FX(),VX=VZ(),r0=mZ(),m7=QZ(),ow=IX(),jH=y7(),U0=J$(),iw=_0(),sw=bZ(),rw=K$(),tw=P$(),c7=y6(),p6=F0();class oZ{constructor(...Z){var X,$;if(Z.length===0)return this.batches=[],this.schema=new r0.Schema([]),this._offsets=[0],this;let Y,Q;if(Z[0]instanceof r0.Schema)Y=Z.shift();if(Z.at(-1)instanceof Uint32Array)Q=Z.pop();let H=(W)=>{if(W){if(W instanceof p6.RecordBatch)return[W];else if(W instanceof oZ)return W.batches;else if(W instanceof hH.Data){if(W.type instanceof m7.Struct)return[new p6.RecordBatch(new r0.Schema(W.type.children),W)]}else if(Array.isArray(W))return W.flatMap((K)=>H(K));else if(typeof W[Symbol.iterator]==="function")return[...W].flatMap((K)=>H(K));else if(typeof W==="object"){let K=Object.keys(W),P=K.map((_)=>new VX.Vector([W[_]])),E=Y!==null&&Y!==void 0?Y:new r0.Schema(K.map((_,j)=>new r0.Field(String(_),P[j].type,P[j].nullable))),[,U]=(0,jH.distributeVectorsIntoRecordBatches)(E,P);return U.length===0?[new p6.RecordBatch(W)]:U}}return[]},q=Z.flatMap((W)=>H(W));if(Y=($=Y!==null&&Y!==void 0?Y:(X=q[0])===null||X===void 0?void 0:X.schema)!==null&&$!==void 0?$:new r0.Schema([]),!(Y instanceof r0.Schema))throw TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(let W of q){if(!(W instanceof p6.RecordBatch))throw TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!(0,ow.compareSchemas)(Y,W.schema))throw TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=Y,this.batches=q,this._offsets=Q!==null&&Q!==void 0?Q:(0,U0.computeChunkOffsets)(this.data)}get data(){return this.batches.map(({data:Z})=>Z)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((Z,X)=>Z+X.length,0)}get nullCount(){if(this._nullCount===-1)this._nullCount=(0,U0.computeChunkNullCounts)(this.data);return this._nullCount}isValid(Z){return!1}get(Z){return null}at(Z){return this.get((0,c7.wrapIndex)(Z,this.numRows))}set(Z,X){return}indexOf(Z,X){return-1}[Symbol.iterator](){if(this.batches.length>0)return tw.instance.visit(new VX.Vector(this.data));return[][Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...Z){let X=this.schema,$=this.data.concat(Z.flatMap(({data:Y})=>Y));return new oZ(X,$.map((Y)=>new p6.RecordBatch(X,Y)))}slice(Z,X){let $=this.schema;[Z,X]=(0,c7.clampRange)({length:this.numRows},Z,X);let Y=(0,U0.sliceChunks)(this.data,this._offsets,Z,X);return new oZ($,Y.map((Q)=>new p6.RecordBatch($,Q)))}getChild(Z){return this.getChildAt(this.schema.fields.findIndex((X)=>X.name===Z))}getChildAt(Z){if(Z>-1&&Z<this.schema.fields.length){let X=this.data.map(($)=>$.children[Z]);if(X.length===0){let{type:$}=this.schema.fields[Z],Y=(0,hH.makeData)({type:$,length:0,nullCount:0});X.push(Y._changeLengthAndBackfillNullBitmap(this.numRows))}return new VX.Vector(X)}return null}setChild(Z,X){var $;return this.setChildAt(($=this.schema.fields)===null||$===void 0?void 0:$.findIndex((Y)=>Y.name===Z),X)}setChildAt(Z,X){let $=this.schema,Y=[...this.batches];if(Z>-1&&Z<this.numCols){if(!X)X=new VX.Vector([(0,hH.makeData)({type:new m7.Null,length:this.numRows})]);let Q=$.fields.slice(),H=Q[Z].clone({type:X.type}),q=this.schema.fields.map((W,K)=>this.getChildAt(K));[Q[Z],q[Z]]=[H,X],[$,Y]=(0,jH.distributeVectorsIntoRecordBatches)($,q)}return new oZ($,Y)}select(Z){let X=this.schema.fields.reduce(($,Y,Q)=>$.set(Y.name,Q),new Map);return this.selectAt(Z.map(($)=>X.get($)).filter(($)=>$>-1))}selectAt(Z){let X=this.schema.selectAt(Z),$=this.batches.map((Y)=>Y.selectAt(Z));return new oZ(X,$)}assign(Z){let X=this.schema.fields,[$,Y]=Z.schema.fields.reduce((q,W,K)=>{let[P,E]=q,U=X.findIndex((_)=>_.name===W.name);return~U?E[U]=K:P.push(K),q},[[],[]]),Q=this.schema.assign(Z.schema),H=[...X.map((q,W)=>[W,Y[W]]).map(([q,W])=>W===void 0?this.getChildAt(q):Z.getChildAt(W)),...$.map((q)=>Z.getChildAt(q))].filter(Boolean);return new oZ(...(0,jH.distributeVectorsIntoRecordBatches)(Q,H))}}_7.Table=oZ;f7=Symbol.toStringTag;oZ[f7]=((Z)=>{return Z.schema=null,Z.batches=[],Z._offsets=new Uint32Array([0]),Z._nullCount=-1,Z[Symbol.isConcatSpreadable]=!0,Z.isValid=(0,U0.wrapChunkedCall1)(U0.isChunkedValid),Z.get=(0,U0.wrapChunkedCall1)(iw.instance.getVisitFn(gH.Type.Struct)),Z.set=(0,U0.wrapChunkedCall2)(sw.instance.getVisitFn(gH.Type.Struct)),Z.indexOf=(0,U0.wrapChunkedIndexOf)(rw.instance.getVisitFn(gH.Type.Struct)),"Table"})(oZ.prototype);function ew(Z){let X={},$=Object.entries(Z);for(let[Y,Q]of $)X[Y]=(0,VX.makeVector)(Q);return new oZ(X)}_7.makeTable=ew;function Zk(Z){let X={},$=Object.entries(Z);for(let[Y,Q]of $)X[Y]=(0,aw.vectorFromArray)(Q);return new oZ(X)}_7.tableFromArrays=Zk});var F0=F((n7)=>{var p7;Object.defineProperty(n7,"__esModule",{value:!0});n7._InternalEmptyPlaceholderRecordBatch=n7.RecordBatch=void 0;var iZ=U1(),Yk=u6(),k$=VZ(),S$=mZ(),m1=QZ(),Qk=y6(),Hk=_0(),qk=bZ(),Wk=K$(),Jk=P$();class c1{constructor(...Z){switch(Z.length){case 2:{if([this.schema]=Z,!(this.schema instanceof S$.Schema))throw TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=(0,iZ.makeData)({nullCount:0,type:new m1.Struct(this.schema.fields),children:this.schema.fields.map((X)=>(0,iZ.makeData)({type:X.type,nullCount:0}))})]=Z,!(this.data instanceof iZ.Data))throw TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=u7(this.schema,this.data.children);break}case 1:{let[X]=Z,{fields:$,children:Y,length:Q}=Object.keys(X).reduce((W,K,P)=>{return W.children[P]=X[K],W.length=Math.max(W.length,X[K].length),W.fields[P]=S$.Field.new({name:K,type:X[K].type,nullable:!0}),W},{length:0,fields:[],children:[]}),H=new S$.Schema($),q=(0,iZ.makeData)({type:new m1.Struct($),length:Q,children:Y,nullCount:0});[this.schema,this.data]=u7(H,q.children,Q);break}default:throw TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=d7(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(Z){return this.data.getValid(Z)}get(Z){return Hk.instance.visit(this.data,Z)}at(Z){return this.get((0,Qk.wrapIndex)(Z,this.numRows))}set(Z,X){return qk.instance.visit(this.data,Z,X)}indexOf(Z,X){return Wk.instance.visit(this.data,Z,X)}[Symbol.iterator](){return Jk.instance.visit(new k$.Vector([this.data]))}toArray(){return[...this]}concat(...Z){return new Yk.Table(this.schema,[this,...Z])}slice(Z,X){let[$]=new k$.Vector([this.data]).slice(Z,X).data;return new c1(this.schema,$)}getChild(Z){var X;return this.getChildAt((X=this.schema.fields)===null||X===void 0?void 0:X.findIndex(($)=>$.name===Z))}getChildAt(Z){if(Z>-1&&Z<this.schema.fields.length)return new k$.Vector([this.data.children[Z]]);return null}setChild(Z,X){var $;return this.setChildAt(($=this.schema.fields)===null||$===void 0?void 0:$.findIndex((Y)=>Y.name===Z),X)}setChildAt(Z,X){let $=this.schema,Y=this.data;if(Z>-1&&Z<this.numCols){if(!X)X=new k$.Vector([(0,iZ.makeData)({type:new m1.Null,length:this.numRows})]);let Q=$.fields.slice(),H=Y.children.slice(),q=Q[Z].clone({type:X.type});[Q[Z],H[Z]]=[q,X.data[0]],$=new S$.Schema(Q,new Map(this.schema.metadata)),Y=(0,iZ.makeData)({type:new m1.Struct(Q),children:H})}return new c1($,Y)}select(Z){let X=this.schema.select(Z),$=new m1.Struct(X.fields),Y=[];for(let Q of Z){let H=this.schema.fields.findIndex((q)=>q.name===Q);if(~H)Y[H]=this.data.children[H]}return new c1(X,(0,iZ.makeData)({type:$,length:this.numRows,children:Y}))}selectAt(Z){let X=this.schema.selectAt(Z),$=Z.map((Q)=>this.data.children[Q]).filter(Boolean),Y=(0,iZ.makeData)({type:new m1.Struct(X.fields),length:this.numRows,children:$});return new c1(X,Y)}}n7.RecordBatch=c1;p7=Symbol.toStringTag;c1[p7]=((Z)=>{return Z._nullCount=-1,Z[Symbol.isConcatSpreadable]=!0,"RecordBatch"})(c1.prototype);function u7(Z,X,$=X.reduce((Y,Q)=>Math.max(Y,Q.length),0)){var Y;let Q=[...Z.fields],H=[...X],q=($+63&-64)>>3;for(let[W,K]of Z.fields.entries()){let P=X[W];if(!P||P.length!==$)Q[W]=K.clone({nullable:!0}),H[W]=(Y=P===null||P===void 0?void 0:P._changeLengthAndBackfillNullBitmap($))!==null&&Y!==void 0?Y:(0,iZ.makeData)({type:K.type,length:$,nullCount:$,nullBitmap:new Uint8Array(q)})}return[Z.assign(Q),(0,iZ.makeData)({type:new m1.Struct(Q),length:$,children:H})]}function d7(Z,X,$=new Map){var Y,Q;if(((Y=Z===null||Z===void 0?void 0:Z.length)!==null&&Y!==void 0?Y:0)>0&&(Z===null||Z===void 0?void 0:Z.length)===(X===null||X===void 0?void 0:X.length))for(let H=-1,q=Z.length;++H<q;){let{type:W}=Z[H],K=X[H];for(let P of[K,...((Q=K===null||K===void 0?void 0:K.dictionary)===null||Q===void 0?void 0:Q.data)||[]])d7(W.children,P===null||P===void 0?void 0:P.children,$);if(m1.DataType.isDictionary(W)){let{id:P}=W;if(!$.has(P)){if(K===null||K===void 0?void 0:K.dictionary)$.set(P,K.dictionary)}else if($.get(P)!==K.dictionary)throw Error("Cannot create Schema containing two different dictionaries with the same Id")}}return $}class l7 extends c1{constructor(Z){let X=Z.fields.map((Y)=>(0,iZ.makeData)({type:Y.type})),$=(0,iZ.makeData)({type:new m1.Struct(Z.fields),nullCount:0,children:X});super(Z,$)}}n7._InternalEmptyPlaceholderRecordBatch=l7});var t7=F((s7)=>{Object.defineProperty(s7,"__esModule",{value:!0});s7.Message=void 0;var Pk=m(),Ek=z6(),o7=m8(),i7=E8();class q1{constructor(){this.bb=null,this.bb_pos=0}__init(Z,X){return this.bb_pos=Z,this.bb=X,this}static getRootAsMessage(Z,X){return(X||new q1).__init(Z.readInt32(Z.position())+Z.position(),Z)}static getSizePrefixedRootAsMessage(Z,X){return Z.setPosition(Z.position()+Pk.SIZE_PREFIX_LENGTH),(X||new q1).__init(Z.readInt32(Z.position())+Z.position(),Z)}version(){let Z=this.bb.__offset(this.bb_pos,4);return Z?this.bb.readInt16(this.bb_pos+Z):i7.MetadataVersion.V1}headerType(){let Z=this.bb.__offset(this.bb_pos,6);return Z?this.bb.readUint8(this.bb_pos+Z):o7.MessageHeader.NONE}header(Z){let X=this.bb.__offset(this.bb_pos,8);return X?this.bb.__union(Z,this.bb_pos+X):null}bodyLength(){let Z=this.bb.__offset(this.bb_pos,10);return Z?this.bb.readInt64(this.bb_pos+Z):BigInt("0")}customMetadata(Z,X){let $=this.bb.__offset(this.bb_pos,12);return $?(X||new Ek.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+$)+Z*4),this.bb):null}customMetadataLength(){let Z=this.bb.__offset(this.bb_pos,12);return Z?this.bb.__vector_len(this.bb_pos+Z):0}static startMessage(Z){Z.startObject(5)}static addVersion(Z,X){Z.addFieldInt16(0,X,i7.MetadataVersion.V1)}static addHeaderType(Z,X){Z.addFieldInt8(1,X,o7.MessageHeader.NONE)}static addHeader(Z,X){Z.addFieldOffset(2,X,0)}static addBodyLength(Z,X){Z.addFieldInt64(3,X,BigInt("0"))}static addCustomMetadata(Z,X){Z.addFieldOffset(4,X,0)}static createCustomMetadataVector(Z,X){Z.startVector(4,X.length,4);for(let $=X.length-1;$>=0;$--)Z.addOffset(X[$]);return Z.endVector()}static startCustomMetadataVector(Z,X){Z.startVector(4,X,4)}static endMessage(Z){return Z.endObject()}static finishMessageBuffer(Z,X){Z.finish(X)}static finishSizePrefixedMessageBuffer(Z,X){Z.finish(X,void 0,!0)}static createMessage(Z,X,$,Y,Q,H){return q1.startMessage(Z),q1.addVersion(Z,X),q1.addHeaderType(Z,$),q1.addHeader(Z,Y),q1.addBodyLength(Z,Q),q1.addCustomMetadata(Z,H),q1.endMessage(Z)}}s7.Message=q1});var K3=F((W3)=>{Object.defineProperty(W3,"__esModule",{value:!0});W3.instance=W3.TypeAssembler=void 0;var Gk=jZ(),e7=gY(),B$=t1(),xH=D8(),Z3=BY(),X3=VY(),$3=IY(),Y3=jY(),Q3=TY(),TX=L8(),yH=U8(),I$=k8(),V$=S8(),mH=C8(),cH=M8(),H3=vY(),q3=hY(),d6=B8(),vX=SY(),fH=A8(),_H=O8(),bH=w8();class uH extends Gk.Visitor{visit(Z,X){return Z==null||X==null?void 0:super.visit(Z,X)}visitNull(Z,X){return e7.Null.startNull(X),e7.Null.endNull(X)}visitInt(Z,X){return B$.Int.startInt(X),B$.Int.addBitWidth(X,Z.bitWidth),B$.Int.addIsSigned(X,Z.isSigned),B$.Int.endInt(X)}visitFloat(Z,X){return xH.FloatingPoint.startFloatingPoint(X),xH.FloatingPoint.addPrecision(X,Z.precision),xH.FloatingPoint.endFloatingPoint(X)}visitBinary(Z,X){return Z3.Binary.startBinary(X),Z3.Binary.endBinary(X)}visitLargeBinary(Z,X){return X3.LargeBinary.startLargeBinary(X),X3.LargeBinary.endLargeBinary(X)}visitBool(Z,X){return $3.Bool.startBool(X),$3.Bool.endBool(X)}visitUtf8(Z,X){return Y3.Utf8.startUtf8(X),Y3.Utf8.endUtf8(X)}visitLargeUtf8(Z,X){return Q3.LargeUtf8.startLargeUtf8(X),Q3.LargeUtf8.endLargeUtf8(X)}visitDecimal(Z,X){return TX.Decimal.startDecimal(X),TX.Decimal.addScale(X,Z.scale),TX.Decimal.addPrecision(X,Z.precision),TX.Decimal.addBitWidth(X,Z.bitWidth),TX.Decimal.endDecimal(X)}visitDate(Z,X){return yH.Date.startDate(X),yH.Date.addUnit(X,Z.unit),yH.Date.endDate(X)}visitTime(Z,X){return I$.Time.startTime(X),I$.Time.addUnit(X,Z.unit),I$.Time.addBitWidth(X,Z.bitWidth),I$.Time.endTime(X)}visitTimestamp(Z,X){let $=Z.timezone&&X.createString(Z.timezone)||void 0;if(V$.Timestamp.startTimestamp(X),V$.Timestamp.addUnit(X,Z.unit),$!==void 0)V$.Timestamp.addTimezone(X,$);return V$.Timestamp.endTimestamp(X)}visitInterval(Z,X){return mH.Interval.startInterval(X),mH.Interval.addUnit(X,Z.unit),mH.Interval.endInterval(X)}visitDuration(Z,X){return cH.Duration.startDuration(X),cH.Duration.addUnit(X,Z.unit),cH.Duration.endDuration(X)}visitList(Z,X){return H3.List.startList(X),H3.List.endList(X)}visitStruct(Z,X){return q3.Struct_.startStruct_(X),q3.Struct_.endStruct_(X)}visitUnion(Z,X){d6.Union.startTypeIdsVector(X,Z.typeIds.length);let $=d6.Union.createTypeIdsVector(X,Z.typeIds);return d6.Union.startUnion(X),d6.Union.addMode(X,Z.mode),d6.Union.addTypeIds(X,$),d6.Union.endUnion(X)}visitDictionary(Z,X){let $=this.visit(Z.indices,X);if(vX.DictionaryEncoding.startDictionaryEncoding(X),vX.DictionaryEncoding.addId(X,BigInt(Z.id)),vX.DictionaryEncoding.addIsOrdered(X,Z.isOrdered),$!==void 0)vX.DictionaryEncoding.addIndexType(X,$);return vX.DictionaryEncoding.endDictionaryEncoding(X)}visitFixedSizeBinary(Z,X){return fH.FixedSizeBinary.startFixedSizeBinary(X),fH.FixedSizeBinary.addByteWidth(X,Z.byteWidth),fH.FixedSizeBinary.endFixedSizeBinary(X)}visitFixedSizeList(Z,X){return _H.FixedSizeList.startFixedSizeList(X),_H.FixedSizeList.addListSize(X,Z.listSize),_H.FixedSizeList.endFixedSizeList(X)}visitMap(Z,X){return bH.Map.startMap(X),bH.Map.addKeysSorted(X,Z.keysSorted),bH.Map.endMap(X)}}W3.TypeAssembler=uH;W3.instance=new uH});var L3=F((F3)=>{Object.defineProperty(F3,"__esModule",{value:!0});F3.fieldFromJSON=F3.dictionaryBatchFromJSON=F3.recordBatchFromJSON=F3.schemaFromJSON=void 0;var l6=mZ(),ZZ=QZ(),e0=Z6(),t0=JZ();function Rk(Z,X=new Map){return new l6.Schema(Fk(Z,X),T$(Z.metadata),X)}F3.schemaFromJSON=Rk;function N3(Z){return new e0.RecordBatch(Z.count,R3(Z.columns),z3(Z.columns))}F3.recordBatchFromJSON=N3;function zk(Z){return new e0.DictionaryBatch(N3(Z.data),Z.id,Z.isDelta)}F3.dictionaryBatchFromJSON=zk;function Fk(Z,X){return(Z.fields||[]).filter(Boolean).map(($)=>l6.Field.fromJSON($,X))}function P3(Z,X){return(Z.children||[]).filter(Boolean).map(($)=>l6.Field.fromJSON($,X))}function R3(Z){return(Z||[]).reduce((X,$)=>[...X,new e0.FieldNode($.count,Uk($.VALIDITY)),...R3($.children)],[])}function z3(Z,X=[]){for(let $=-1,Y=(Z||[]).length;++$<Y;){let Q=Z[$];Q.VALIDITY&&X.push(new e0.BufferRegion(X.length,Q.VALIDITY.length)),Q.TYPE_ID&&X.push(new e0.BufferRegion(X.length,Q.TYPE_ID.length)),Q.OFFSET&&X.push(new e0.BufferRegion(X.length,Q.OFFSET.length)),Q.DATA&&X.push(new e0.BufferRegion(X.length,Q.DATA.length)),X=z3(Q.children,X)}return X}function Uk(Z){return(Z||[]).reduce((X,$)=>X+ +($===0),0)}function Lk(Z,X){let $,Y,Q,H,q,W;if(!X||!(H=Z.dictionary))q=G3(Z,P3(Z,X)),Q=new l6.Field(Z.name,q,Z.nullable,T$(Z.metadata));else if(!X.has($=H.id))Y=(Y=H.indexType)?E3(Y):new ZZ.Int32,X.set($,q=G3(Z,P3(Z,X))),W=new ZZ.Dictionary(q,Y,$,H.isOrdered),Q=new l6.Field(Z.name,W,Z.nullable,T$(Z.metadata));else Y=(Y=H.indexType)?E3(Y):new ZZ.Int32,W=new ZZ.Dictionary(X.get($),Y,$,H.isOrdered),Q=new l6.Field(Z.name,W,Z.nullable,T$(Z.metadata));return Q||null}F3.fieldFromJSON=Lk;function T$(Z=[]){return new Map(Z.map(({key:X,value:$})=>[X,$]))}function E3(Z){return new ZZ.Int(Z.isSigned,Z.bitWidth)}function G3(Z,X){let $=Z.type.name;switch($){case"NONE":return new ZZ.Null;case"null":return new ZZ.Null;case"binary":return new ZZ.Binary;case"largebinary":return new ZZ.LargeBinary;case"utf8":return new ZZ.Utf8;case"largeutf8":return new ZZ.LargeUtf8;case"bool":return new ZZ.Bool;case"list":return new ZZ.List((X||[])[0]);case"struct":return new ZZ.Struct(X||[]);case"struct_":return new ZZ.Struct(X||[])}switch($){case"int":{let Y=Z.type;return new ZZ.Int(Y.isSigned,Y.bitWidth)}case"floatingpoint":{let Y=Z.type;return new ZZ.Float(t0.Precision[Y.precision])}case"decimal":{let Y=Z.type;return new ZZ.Decimal(Y.scale,Y.precision,Y.bitWidth)}case"date":{let Y=Z.type;return new ZZ.Date_(t0.DateUnit[Y.unit])}case"time":{let Y=Z.type;return new ZZ.Time(t0.TimeUnit[Y.unit],Y.bitWidth)}case"timestamp":{let Y=Z.type;return new ZZ.Timestamp(t0.TimeUnit[Y.unit],Y.timezone)}case"interval":{let Y=Z.type;return new ZZ.Interval(t0.IntervalUnit[Y.unit])}case"duration":{let Y=Z.type;return new ZZ.Duration(t0.TimeUnit[Y.unit])}case"union":{let Y=Z.type,[Q,...H]=(Y.mode+"").toLowerCase(),q=Q.toUpperCase()+H.join("");return new ZZ.Union(t0.UnionMode[q],Y.typeIds||[],X||[])}case"fixedsizebinary":{let Y=Z.type;return new ZZ.FixedSizeBinary(Y.byteWidth)}case"fixedsizelist":{let Y=Z.type;return new ZZ.FixedSizeList(Y.listSize,(X||[])[0])}case"map":{let Y=Z.type;return new ZZ.Map_((X||[])[0],Y.keysSorted)}}throw Error(`Unrecognized type: "${$}"`)}});var Z6=F((w3)=>{Object.defineProperty(w3,"__esModule",{value:!0});w3.FieldNode=w3.BufferRegion=w3.DictionaryBatch=w3.RecordBatch=w3.Message=void 0;var C3=m(),f1=V8(),Dk=t1(),M0=R8(),n6=wY(),Ck=s1(),W1=xY(),wk=CY(),NZ=S6(),A0=z6(),M3=kY(),kk=D8(),Sk=L8(),Bk=U8(),Ik=k8(),Vk=S8(),Tk=C8(),vk=M8(),gk=B8(),hk=A8(),jk=O8(),xk=w8(),L0=t7(),CZ=mZ(),yk=OZ(),O0=Q0(),KZ=JZ(),pH=K3(),g$=L3(),mk=C3.Builder,ck=C3.ByteBuffer,XZ=QZ();class X6{static fromJSON(Z,X){let $=new X6(0,KZ.MetadataVersion.V5,X);return $._createHeader=fk(Z,X),$}static decode(Z){Z=new ck((0,yk.toUint8Array)(Z));let X=L0.Message.getRootAsMessage(Z),$=X.bodyLength(),Y=X.version(),Q=X.headerType(),H=new X6($,Y,Q);return H._createHeader=_k(X,Q),H}static encode(Z){let X=new mk,$=-1;if(Z.isSchema())$=CZ.Schema.encode(X,Z.header());else if(Z.isRecordBatch())$=sZ.encode(X,Z.header());else if(Z.isDictionaryBatch())$=k1.encode(X,Z.header());return L0.Message.startMessage(X),L0.Message.addVersion(X,KZ.MetadataVersion.V5),L0.Message.addHeader(X,$),L0.Message.addHeaderType(X,Z.headerType),L0.Message.addBodyLength(X,BigInt(Z.bodyLength)),L0.Message.finishMessageBuffer(X,L0.Message.endMessage(X)),X.asUint8Array()}static from(Z,X=0){if(Z instanceof CZ.Schema)return new X6(0,KZ.MetadataVersion.V5,KZ.MessageHeader.Schema,Z);if(Z instanceof sZ)return new X6(X,KZ.MetadataVersion.V5,KZ.MessageHeader.RecordBatch,Z);if(Z instanceof k1)return new X6(X,KZ.MetadataVersion.V5,KZ.MessageHeader.DictionaryBatch,Z);throw Error(`Unrecognized Message header: ${Z}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===KZ.MessageHeader.Schema}isRecordBatch(){return this.headerType===KZ.MessageHeader.RecordBatch}isDictionaryBatch(){return this.headerType===KZ.MessageHeader.DictionaryBatch}constructor(Z,X,$,Y){this._version=X,this._headerType=$,this.body=new Uint8Array(0),Y&&(this._createHeader=()=>Y),this._bodyLength=(0,O0.bigIntToNumber)(Z)}}w3.Message=X6;class sZ{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(Z,X,$){this._nodes=X,this._buffers=$,this._length=(0,O0.bigIntToNumber)(Z)}}w3.RecordBatch=sZ;class k1{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(Z,X,$=!1){this._data=Z,this._isDelta=$,this._id=(0,O0.bigIntToNumber)(X)}}w3.DictionaryBatch=k1;class $6{constructor(Z,X){this.offset=(0,O0.bigIntToNumber)(Z),this.length=(0,O0.bigIntToNumber)(X)}}w3.BufferRegion=$6;class Y6{constructor(Z,X){this.length=(0,O0.bigIntToNumber)(Z),this.nullCount=(0,O0.bigIntToNumber)(X)}}w3.FieldNode=Y6;function fk(Z,X){return()=>{switch(X){case KZ.MessageHeader.Schema:return CZ.Schema.fromJSON(Z);case KZ.MessageHeader.RecordBatch:return sZ.fromJSON(Z);case KZ.MessageHeader.DictionaryBatch:return k1.fromJSON(Z)}throw Error(`Unrecognized Message type: { name: ${KZ.MessageHeader[X]}, type: ${X} }`)}}function _k(Z,X){return()=>{switch(X){case KZ.MessageHeader.Schema:return CZ.Schema.decode(Z.header(new f1.Schema),new Map,Z.version());case KZ.MessageHeader.RecordBatch:return sZ.decode(Z.header(new M0.RecordBatch),Z.version());case KZ.MessageHeader.DictionaryBatch:return k1.decode(Z.header(new n6.DictionaryBatch),Z.version())}throw Error(`Unrecognized Message type: { name: ${KZ.MessageHeader[X]}, type: ${X} }`)}}CZ.Field.encode=rk;CZ.Field.decode=ik;CZ.Field.fromJSON=g$.fieldFromJSON;CZ.Schema.encode=sk;CZ.Schema.decode=bk;CZ.Schema.fromJSON=g$.schemaFromJSON;sZ.encode=tk;sZ.decode=uk;sZ.fromJSON=g$.recordBatchFromJSON;k1.encode=ek;k1.decode=pk;k1.fromJSON=g$.dictionaryBatchFromJSON;Y6.encode=ZS;Y6.decode=lk;$6.encode=XS;$6.decode=dk;function bk(Z,X=new Map,$=KZ.MetadataVersion.V5){let Y=ok(Z,X);return new CZ.Schema(Y,v$(Z),X,$)}function uk(Z,X=KZ.MetadataVersion.V5){if(Z.compression()!==null)throw Error("Record batch compression not implemented");return new sZ(Z.length(),nk(Z),ak(Z,X))}function pk(Z,X=KZ.MetadataVersion.V5){return new k1(sZ.decode(Z.data(),X),Z.id(),Z.isDelta())}function dk(Z){return new $6(Z.offset(),Z.length())}function lk(Z){return new Y6(Z.length(),Z.nullCount())}function nk(Z){let X=[];for(let $,Y=-1,Q=-1,H=Z.nodesLength();++Y<H;)if($=Z.nodes(Y))X[++Q]=Y6.decode($);return X}function ak(Z,X){let $=[];for(let Y,Q=-1,H=-1,q=Z.buffersLength();++Q<q;)if(Y=Z.buffers(Q)){if(X<KZ.MetadataVersion.V4)Y.bb_pos+=8*(Q+1);$[++H]=$6.decode(Y)}return $}function ok(Z,X){let $=[];for(let Y,Q=-1,H=-1,q=Z.fieldsLength();++Q<q;)if(Y=Z.fields(Q))$[++H]=CZ.Field.decode(Y,X);return $}function A3(Z,X){let $=[];for(let Y,Q=-1,H=-1,q=Z.childrenLength();++Q<q;)if(Y=Z.children(Q))$[++H]=CZ.Field.decode(Y,X);return $}function ik(Z,X){let $,Y,Q,H,q,W;if(!X||!(W=Z.dictionary()))Q=D3(Z,A3(Z,X)),Y=new CZ.Field(Z.name(),Q,Z.nullable(),v$(Z));else if(!X.has($=(0,O0.bigIntToNumber)(W.id())))H=(H=W.indexType())?O3(H):new XZ.Int32,X.set($,Q=D3(Z,A3(Z,X))),q=new XZ.Dictionary(Q,H,$,W.isOrdered()),Y=new CZ.Field(Z.name(),q,Z.nullable(),v$(Z));else H=(H=W.indexType())?O3(H):new XZ.Int32,q=new XZ.Dictionary(X.get($),H,$,W.isOrdered()),Y=new CZ.Field(Z.name(),q,Z.nullable(),v$(Z));return Y||null}function v$(Z){let X=new Map;if(Z){for(let $,Y,Q=-1,H=Math.trunc(Z.customMetadataLength());++Q<H;)if(($=Z.customMetadata(Q))&&(Y=$.key())!=null)X.set(Y,$.value())}return X}function O3(Z){return new XZ.Int(Z.isSigned(),Z.bitWidth())}function D3(Z,X){let $=Z.typeType();switch($){case NZ.Type.NONE:return new XZ.Null;case NZ.Type.Null:return new XZ.Null;case NZ.Type.Binary:return new XZ.Binary;case NZ.Type.LargeBinary:return new XZ.LargeBinary;case NZ.Type.Utf8:return new XZ.Utf8;case NZ.Type.LargeUtf8:return new XZ.LargeUtf8;case NZ.Type.Bool:return new XZ.Bool;case NZ.Type.List:return new XZ.List((X||[])[0]);case NZ.Type.Struct_:return new XZ.Struct(X||[])}switch($){case NZ.Type.Int:{let Y=Z.type(new Dk.Int);return new XZ.Int(Y.isSigned(),Y.bitWidth())}case NZ.Type.FloatingPoint:{let Y=Z.type(new kk.FloatingPoint);return new XZ.Float(Y.precision())}case NZ.Type.Decimal:{let Y=Z.type(new Sk.Decimal);return new XZ.Decimal(Y.scale(),Y.precision(),Y.bitWidth())}case NZ.Type.Date:{let Y=Z.type(new Bk.Date);return new XZ.Date_(Y.unit())}case NZ.Type.Time:{let Y=Z.type(new Ik.Time);return new XZ.Time(Y.unit(),Y.bitWidth())}case NZ.Type.Timestamp:{let Y=Z.type(new Vk.Timestamp);return new XZ.Timestamp(Y.unit(),Y.timezone())}case NZ.Type.Interval:{let Y=Z.type(new Tk.Interval);return new XZ.Interval(Y.unit())}case NZ.Type.Duration:{let Y=Z.type(new vk.Duration);return new XZ.Duration(Y.unit())}case NZ.Type.Union:{let Y=Z.type(new gk.Union);return new XZ.Union(Y.mode(),Y.typeIdsArray()||[],X||[])}case NZ.Type.FixedSizeBinary:{let Y=Z.type(new hk.FixedSizeBinary);return new XZ.FixedSizeBinary(Y.byteWidth())}case NZ.Type.FixedSizeList:{let Y=Z.type(new jk.FixedSizeList);return new XZ.FixedSizeList(Y.listSize(),(X||[])[0])}case NZ.Type.Map:{let Y=Z.type(new xk.Map);return new XZ.Map_((X||[])[0],Y.keysSorted())}}throw Error(`Unrecognized type: "${NZ.Type[$]}" (${$})`)}function sk(Z,X){let $=X.fields.map((H)=>CZ.Field.encode(Z,H));f1.Schema.startFieldsVector(Z,$.length);let Y=f1.Schema.createFieldsVector(Z,$),Q=!(X.metadata&&X.metadata.size>0)?-1:f1.Schema.createCustomMetadataVector(Z,[...X.metadata].map(([H,q])=>{let W=Z.createString(`${H}`),K=Z.createString(`${q}`);return A0.KeyValue.startKeyValue(Z),A0.KeyValue.addKey(Z,W),A0.KeyValue.addValue(Z,K),A0.KeyValue.endKeyValue(Z)}));if(f1.Schema.startSchema(Z),f1.Schema.addFields(Z,Y),f1.Schema.addEndianness(Z,$S?M3.Endianness.Little:M3.Endianness.Big),Q!==-1)f1.Schema.addCustomMetadata(Z,Q);return f1.Schema.endSchema(Z)}function rk(Z,X){let $=-1,Y=-1,Q=-1,H=X.type,q=X.typeId;if(!XZ.DataType.isDictionary(H))Y=pH.instance.visit(H,Z);else q=H.dictionary.typeId,Q=pH.instance.visit(H,Z),Y=pH.instance.visit(H.dictionary,Z);let W=(H.children||[]).map((E)=>CZ.Field.encode(Z,E)),K=W1.Field.createChildrenVector(Z,W),P=!(X.metadata&&X.metadata.size>0)?-1:W1.Field.createCustomMetadataVector(Z,[...X.metadata].map(([E,U])=>{let _=Z.createString(`${E}`),j=Z.createString(`${U}`);return A0.KeyValue.startKeyValue(Z),A0.KeyValue.addKey(Z,_),A0.KeyValue.addValue(Z,j),A0.KeyValue.endKeyValue(Z)}));if(X.name)$=Z.createString(X.name);if(W1.Field.startField(Z),W1.Field.addType(Z,Y),W1.Field.addTypeType(Z,q),W1.Field.addChildren(Z,K),W1.Field.addNullable(Z,!!X.nullable),$!==-1)W1.Field.addName(Z,$);if(Q!==-1)W1.Field.addDictionary(Z,Q);if(P!==-1)W1.Field.addCustomMetadata(Z,P);return W1.Field.endField(Z)}function tk(Z,X){let $=X.nodes||[],Y=X.buffers||[];M0.RecordBatch.startNodesVector(Z,$.length);for(let q of $.slice().reverse())Y6.encode(Z,q);let Q=Z.endVector();M0.RecordBatch.startBuffersVector(Z,Y.length);for(let q of Y.slice().reverse())$6.encode(Z,q);let H=Z.endVector();return M0.RecordBatch.startRecordBatch(Z),M0.RecordBatch.addLength(Z,BigInt(X.length)),M0.RecordBatch.addNodes(Z,Q),M0.RecordBatch.addBuffers(Z,H),M0.RecordBatch.endRecordBatch(Z)}function ek(Z,X){let $=sZ.encode(Z,X.data);return n6.DictionaryBatch.startDictionaryBatch(Z),n6.DictionaryBatch.addId(Z,BigInt(X.id)),n6.DictionaryBatch.addIsDelta(Z,X.isDelta),n6.DictionaryBatch.addData(Z,$),n6.DictionaryBatch.endDictionaryBatch(Z)}function ZS(Z,X){return wk.FieldNode.createFieldNode(Z,BigInt(X.length),BigInt(X.nullCount))}function XS(Z,X){return Ck.Buffer.createBuffer(Z,BigInt(X.offset),BigInt(X.length))}var $S=(()=>{let Z=new ArrayBuffer(2);return new DataView(Z).setInt16(0,256,!0),new Int16Array(Z)[0]===256})()});var x$=F((g3)=>{Object.defineProperty(g3,"__esModule",{value:!0});g3.magicX2AndPadding=g3.magicAndPadding=g3.magicLength=g3.checkForMagicArrowString=g3.MAGIC=g3.MAGIC_STR=g3.PADDING=g3.JSONMessageReader=g3.AsyncMessageReader=g3.MessageReader=void 0;var D0=(gZ(),cZ(vZ)),C0=JZ(),S3=m(),gX=Z6(),WS=o1(),JS=hQ(),B3=OZ(),h$=R0(),J1=NX(),dH=(Z)=>`Expected ${C0.MessageHeader[Z]} Message in stream, but was null or length 0.`,lH=(Z)=>`Header pointer of flatbuffer-encoded ${C0.MessageHeader[Z]} Message is null or length 0.`,I3=(Z,X)=>`Expected to read ${Z} metadata bytes, but only read ${X}.`,V3=(Z,X)=>`Expected to read ${Z} bytes for message body, but only read ${X}.`;class nH{constructor(Z){this.source=Z instanceof h$.ByteStream?Z:new h$.ByteStream(Z)}[Symbol.iterator](){return this}next(){let Z;if((Z=this.readMetadataLength()).done)return J1.ITERATOR_DONE;if(Z.value===-1&&(Z=this.readMetadataLength()).done)return J1.ITERATOR_DONE;if((Z=this.readMetadata(Z.value)).done)return J1.ITERATOR_DONE;return Z}throw(Z){return this.source.throw(Z)}return(Z){return this.source.return(Z)}readMessage(Z){let X;if((X=this.next()).done)return null;if(Z!=null&&X.value.headerType!==Z)throw Error(dH(Z));return X.value}readMessageBody(Z){if(Z<=0)return new Uint8Array(0);let X=(0,B3.toUint8Array)(this.source.read(Z));if(X.byteLength<Z)throw Error(V3(Z,X.byteLength));return X.byteOffset%8===0&&X.byteOffset+X.byteLength<=X.buffer.byteLength?X:X.slice()}readSchema(Z=!1){let X=C0.MessageHeader.Schema,$=this.readMessage(X),Y=$===null||$===void 0?void 0:$.header();if(Z&&!Y)throw Error(lH(X));return Y}readMetadataLength(){let Z=this.source.read(g3.PADDING),X=Z&&new S3.ByteBuffer(Z),$=(X===null||X===void 0?void 0:X.readInt32(0))||0;return{done:$===0,value:$}}readMetadata(Z){let X=this.source.read(Z);if(!X)return J1.ITERATOR_DONE;if(X.byteLength<Z)throw Error(I3(Z,X.byteLength));return{done:!1,value:gX.Message.decode(X)}}}g3.MessageReader=nH;class T3{constructor(Z,X){this.source=Z instanceof h$.AsyncByteStream?Z:(0,WS.isFileHandle)(Z)?new JS.AsyncRandomAccessFile(Z,X):new h$.AsyncByteStream(Z)}[Symbol.asyncIterator](){return this}next(){return D0.__awaiter(this,void 0,void 0,function*(){let Z;if((Z=yield this.readMetadataLength()).done)return J1.ITERATOR_DONE;if(Z.value===-1&&(Z=yield this.readMetadataLength()).done)return J1.ITERATOR_DONE;if((Z=yield this.readMetadata(Z.value)).done)return J1.ITERATOR_DONE;return Z})}throw(Z){return D0.__awaiter(this,void 0,void 0,function*(){return yield this.source.throw(Z)})}return(Z){return D0.__awaiter(this,void 0,void 0,function*(){return yield this.source.return(Z)})}readMessage(Z){return D0.__awaiter(this,void 0,void 0,function*(){let X;if((X=yield this.next()).done)return null;if(Z!=null&&X.value.headerType!==Z)throw Error(dH(Z));return X.value})}readMessageBody(Z){return D0.__awaiter(this,void 0,void 0,function*(){if(Z<=0)return new Uint8Array(0);let X=(0,B3.toUint8Array)(yield this.source.read(Z));if(X.byteLength<Z)throw Error(V3(Z,X.byteLength));return X.byteOffset%8===0&&X.byteOffset+X.byteLength<=X.buffer.byteLength?X:X.slice()})}readSchema(){return D0.__awaiter(this,arguments,void 0,function*(Z=!1){let X=C0.MessageHeader.Schema,$=yield this.readMessage(X),Y=$===null||$===void 0?void 0:$.header();if(Z&&!Y)throw Error(lH(X));return Y})}readMetadataLength(){return D0.__awaiter(this,void 0,void 0,function*(){let Z=yield this.source.read(g3.PADDING),X=Z&&new S3.ByteBuffer(Z),$=(X===null||X===void 0?void 0:X.readInt32(0))||0;return{done:$===0,value:$}})}readMetadata(Z){return D0.__awaiter(this,void 0,void 0,function*(){let X=yield this.source.read(Z);if(!X)return J1.ITERATOR_DONE;if(X.byteLength<Z)throw Error(I3(Z,X.byteLength));return{done:!1,value:gX.Message.decode(X)}})}}g3.AsyncMessageReader=T3;class v3 extends nH{constructor(Z){super(new Uint8Array(0));this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=Z instanceof J1.ArrowJSON?Z:new J1.ArrowJSON(Z)}next(){let{_json:Z}=this;if(!this._schema)return this._schema=!0,{done:!1,value:gX.Message.fromJSON(Z.schema,C0.MessageHeader.Schema)};if(this._dictionaryIndex<Z.dictionaries.length){let X=Z.dictionaries[this._dictionaryIndex++];return this._body=X.data.columns,{done:!1,value:gX.Message.fromJSON(X,C0.MessageHeader.DictionaryBatch)}}if(this._batchIndex<Z.batches.length){let X=Z.batches[this._batchIndex++];return this._body=X.columns,{done:!1,value:gX.Message.fromJSON(X,C0.MessageHeader.RecordBatch)}}return this._body=[],J1.ITERATOR_DONE}readMessageBody(Z){return X(this._body);function X($){return($||[]).reduce((Y,Q)=>[...Y,...Q.VALIDITY&&[Q.VALIDITY]||[],...Q.TYPE_ID&&[Q.TYPE_ID]||[],...Q.OFFSET&&[Q.OFFSET]||[],...Q.DATA&&[Q.DATA]||[],...X(Q.children)],[])}}readMessage(Z){let X;if((X=this.next()).done)return null;if(Z!=null&&X.value.headerType!==Z)throw Error(dH(Z));return X.value}readSchema(){let Z=C0.MessageHeader.Schema,X=this.readMessage(Z),$=X===null||X===void 0?void 0:X.header();if(!X||!$)throw Error(lH(Z));return $}}g3.JSONMessageReader=v3;g3.PADDING=4;g3.MAGIC_STR="ARROW1";g3.MAGIC=new Uint8Array(g3.MAGIC_STR.length);for(let Z=0;Z<g3.MAGIC_STR.length;Z+=1)g3.MAGIC[Z]=g3.MAGIC_STR.codePointAt(Z);function KS(Z,X=0){for(let $=-1,Y=g3.MAGIC.length;++$<Y;)if(g3.MAGIC[$]!==Z[X+$])return!1;return!0}g3.checkForMagicArrowString=KS;g3.magicLength=g3.MAGIC.length;g3.magicAndPadding=g3.magicLength+g3.PADDING;g3.magicX2AndPadding=g3.magicLength*2+g3.PADDING});var cX=F((d3)=>{Object.defineProperty(d3,"__esModule",{value:!0});d3.AsyncRecordBatchFileReader=d3.RecordBatchFileReader=d3.AsyncRecordBatchStreamReader=d3.RecordBatchStreamReader=d3.RecordBatchReader=void 0;var $Z=(gZ(),cZ(vZ)),zS=U1(),j3=VZ(),FS=QZ(),y$=JZ(),f3=IQ(),x3=$X(),y3=R0(),xX=hQ(),_3=PG(),oH=F0(),Q6=NX(),tZ=x$(),rZ=o1();class _1 extends Q6.ReadableInterop{constructor(Z){super();this._impl=Z}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(Z){return this._impl.throw(Z)}return(Z){return this._impl.return(Z)}cancel(){return this._impl.cancel()}reset(Z){return this._impl.reset(Z),this._DOMStream=void 0,this._nodeStream=void 0,this}open(Z){let X=this._impl.open(Z);return(0,rZ.isPromise)(X)?X.then(()=>this):this}readRecordBatch(Z){return this._impl.isFile()?this._impl.readRecordBatch(Z):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return x3.default.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return x3.default.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(Z){throw Error('"throughNode" not available in this environment')}static throughDOM(Z,X){throw Error('"throughDOM" not available in this environment')}static from(Z){if(Z instanceof _1)return Z;else if((0,rZ.isArrowJSON)(Z))return US(Z);else if((0,rZ.isFileHandle)(Z))return AS(Z);else if((0,rZ.isPromise)(Z))return(()=>$Z.__awaiter(this,void 0,void 0,function*(){return yield _1.from(yield Z)}))();else if((0,rZ.isFetchResponse)(Z)||(0,rZ.isReadableDOMStream)(Z)||(0,rZ.isReadableNodeStream)(Z)||(0,rZ.isAsyncIterable)(Z))return MS(new y3.AsyncByteStream(Z));return LS(new y3.ByteStream(Z))}static readAll(Z){if(Z instanceof _1)return Z.isSync()?m3(Z):c3(Z);else if((0,rZ.isArrowJSON)(Z)||ArrayBuffer.isView(Z)||(0,rZ.isIterable)(Z)||(0,rZ.isIteratorResult)(Z))return m3(Z);return c3(Z)}}d3.RecordBatchReader=_1;class a6 extends _1{constructor(Z){super(Z);this._impl=Z}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return $Z.__asyncGenerator(this,arguments,function*(){yield $Z.__await(yield*$Z.__asyncDelegator($Z.__asyncValues(this[Symbol.iterator]())))})}}d3.RecordBatchStreamReader=a6;class o6 extends _1{constructor(Z){super(Z);this._impl=Z}readAll(){return $Z.__awaiter(this,void 0,void 0,function*(){var Z,X,$,Y;let Q=[];try{for(var H=!0,q=$Z.__asyncValues(this),W;W=yield q.next(),Z=W.done,!Z;H=!0){Y=W.value,H=!1;let K=Y;Q.push(K)}}catch(K){X={error:K}}finally{try{if(!H&&!Z&&($=q.return))yield $.call(q)}finally{if(X)throw X.error}}return Q})}[Symbol.iterator](){throw Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}d3.AsyncRecordBatchStreamReader=o6;class m$ extends a6{constructor(Z){super(Z);this._impl=Z}}d3.RecordBatchFileReader=m$;class iH extends o6{constructor(Z){super(Z);this._impl=Z}}d3.AsyncRecordBatchFileReader=iH;class sH{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(Z=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=Z}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(Z){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=Z,this.dictionaries=new Map,this}_loadRecordBatch(Z,X){let $=this._loadVectors(Z,X,this.schema.fields),Y=(0,zS.makeData)({type:new FS.Struct(this.schema.fields),length:Z.length,children:$});return new oH.RecordBatch(this.schema,Y)}_loadDictionaryBatch(Z,X){let{id:$,isDelta:Y}=Z,{dictionaries:Q,schema:H}=this,q=Q.get($),W=H.dictionaries.get($),K=this._loadVectors(Z.data,X,[W]);return(q&&Y?q.concat(new j3.Vector(K)):new j3.Vector(K)).memoize()}_loadVectors(Z,X,$){return new _3.VectorLoader(X,Z.nodes,Z.buffers,this.dictionaries,this.schema.metadataVersion).visitMany($)}}class yX extends sH{constructor(Z,X){super(X);this._reader=!(0,rZ.isArrowJSON)(Z)?new tZ.MessageReader(this._handle=Z):new tZ.JSONMessageReader(this._handle=Z)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){if(!this.closed&&(this.closed=!0))this.reset()._reader.return(),this._reader=null,this.dictionaries=null}open(Z){if(!this.closed){if(this.autoDestroy=p3(this,Z),!(this.schema||(this.schema=this._reader.readSchema())))this.cancel()}return this}throw(Z){if(!this.closed&&this.autoDestroy&&(this.closed=!0))return this.reset()._reader.throw(Z);return Q6.ITERATOR_DONE}return(Z){if(!this.closed&&this.autoDestroy&&(this.closed=!0))return this.reset()._reader.return(Z);return Q6.ITERATOR_DONE}next(){if(this.closed)return Q6.ITERATOR_DONE;let Z,{_reader:X}=this;while(Z=this._readNextMessageAndValidate())if(Z.isSchema())this.reset(Z.header());else if(Z.isRecordBatch()){this._recordBatchIndex++;let $=Z.header(),Y=X.readMessageBody(Z.bodyLength);return{done:!1,value:this._loadRecordBatch($,Y)}}else if(Z.isDictionaryBatch()){this._dictionaryIndex++;let $=Z.header(),Y=X.readMessageBody(Z.bodyLength),Q=this._loadDictionaryBatch($,Y);this.dictionaries.set($.id,Q)}if(this.schema&&this._recordBatchIndex===0)return this._recordBatchIndex++,{done:!1,value:new oH._InternalEmptyPlaceholderRecordBatch(this.schema)};return this.return()}_readNextMessageAndValidate(Z){return this._reader.readMessage(Z)}}class mX extends sH{constructor(Z,X){super(X);this._reader=new tZ.AsyncMessageReader(this._handle=Z)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return $Z.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&(this.closed=!0))yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null})}open(Z){return $Z.__awaiter(this,void 0,void 0,function*(){if(!this.closed){if(this.autoDestroy=p3(this,Z),!(this.schema||(this.schema=yield this._reader.readSchema())))yield this.cancel()}return this})}throw(Z){return $Z.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&this.autoDestroy&&(this.closed=!0))return yield this.reset()._reader.throw(Z);return Q6.ITERATOR_DONE})}return(Z){return $Z.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&this.autoDestroy&&(this.closed=!0))return yield this.reset()._reader.return(Z);return Q6.ITERATOR_DONE})}next(){return $Z.__awaiter(this,void 0,void 0,function*(){if(this.closed)return Q6.ITERATOR_DONE;let Z,{_reader:X}=this;while(Z=yield this._readNextMessageAndValidate())if(Z.isSchema())yield this.reset(Z.header());else if(Z.isRecordBatch()){this._recordBatchIndex++;let $=Z.header(),Y=yield X.readMessageBody(Z.bodyLength);return{done:!1,value:this._loadRecordBatch($,Y)}}else if(Z.isDictionaryBatch()){this._dictionaryIndex++;let $=Z.header(),Y=yield X.readMessageBody(Z.bodyLength),Q=this._loadDictionaryBatch($,Y);this.dictionaries.set($.id,Q)}if(this.schema&&this._recordBatchIndex===0)return this._recordBatchIndex++,{done:!1,value:new oH._InternalEmptyPlaceholderRecordBatch(this.schema)};return yield this.return()})}_readNextMessageAndValidate(Z){return $Z.__awaiter(this,void 0,void 0,function*(){return yield this._reader.readMessage(Z)})}}class rH extends yX{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(Z,X){super(Z instanceof xX.RandomAccessFile?Z:new xX.RandomAccessFile(Z),X)}isSync(){return!0}isFile(){return!0}open(Z){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(let X of this._footer.dictionaryBatches())X&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(Z)}readRecordBatch(Z){var X;if(this.closed)return null;if(!this._footer)this.open();let $=(X=this._footer)===null||X===void 0?void 0:X.getRecordBatch(Z);if($&&this._handle.seek($.offset)){let Y=this._reader.readMessage(y$.MessageHeader.RecordBatch);if(Y===null||Y===void 0?void 0:Y.isRecordBatch()){let Q=Y.header(),H=this._reader.readMessageBody(Y.bodyLength);return this._loadRecordBatch(Q,H)}}return null}_readDictionaryBatch(Z){var X;let $=(X=this._footer)===null||X===void 0?void 0:X.getDictionaryBatch(Z);if($&&this._handle.seek($.offset)){let Y=this._reader.readMessage(y$.MessageHeader.DictionaryBatch);if(Y===null||Y===void 0?void 0:Y.isDictionaryBatch()){let Q=Y.header(),H=this._reader.readMessageBody(Y.bodyLength),q=this._loadDictionaryBatch(Q,H);this.dictionaries.set(Q.id,q)}}}_readFooter(){let{_handle:Z}=this,X=Z.size-tZ.magicAndPadding,$=Z.readInt32(X),Y=Z.readAt(X-$,$);return f3.Footer.decode(Y)}_readNextMessageAndValidate(Z){var X;if(!this._footer)this.open();if(this._footer&&this._recordBatchIndex<this.numRecordBatches){let $=(X=this._footer)===null||X===void 0?void 0:X.getRecordBatch(this._recordBatchIndex);if($&&this._handle.seek($.offset))return this._reader.readMessage(Z)}return null}}class b3 extends mX{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(Z,...X){let $=typeof X[0]!=="number"?X.shift():void 0,Y=X[0]instanceof Map?X.shift():void 0;super(Z instanceof xX.AsyncRandomAccessFile?Z:new xX.AsyncRandomAccessFile(Z,$),Y)}isFile(){return!0}isAsync(){return!0}open(Z){let X=Object.create(null,{open:{get:()=>super.open}});return $Z.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(let $ of this._footer.dictionaryBatches())$&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield X.open.call(this,Z)})}readRecordBatch(Z){return $Z.__awaiter(this,void 0,void 0,function*(){var X;if(this.closed)return null;if(!this._footer)yield this.open();let $=(X=this._footer)===null||X===void 0?void 0:X.getRecordBatch(Z);if($&&(yield this._handle.seek($.offset))){let Y=yield this._reader.readMessage(y$.MessageHeader.RecordBatch);if(Y===null||Y===void 0?void 0:Y.isRecordBatch()){let Q=Y.header(),H=yield this._reader.readMessageBody(Y.bodyLength);return this._loadRecordBatch(Q,H)}}return null})}_readDictionaryBatch(Z){return $Z.__awaiter(this,void 0,void 0,function*(){var X;let $=(X=this._footer)===null||X===void 0?void 0:X.getDictionaryBatch(Z);if($&&(yield this._handle.seek($.offset))){let Y=yield this._reader.readMessage(y$.MessageHeader.DictionaryBatch);if(Y===null||Y===void 0?void 0:Y.isDictionaryBatch()){let Q=Y.header(),H=yield this._reader.readMessageBody(Y.bodyLength),q=this._loadDictionaryBatch(Q,H);this.dictionaries.set(Q.id,q)}}})}_readFooter(){return $Z.__awaiter(this,void 0,void 0,function*(){let{_handle:Z}=this;Z._pending&&(yield Z._pending);let X=Z.size-tZ.magicAndPadding,$=yield Z.readInt32(X),Y=yield Z.readAt(X-$,$);return f3.Footer.decode(Y)})}_readNextMessageAndValidate(Z){return $Z.__awaiter(this,void 0,void 0,function*(){if(!this._footer)yield this.open();if(this._footer&&this._recordBatchIndex<this.numRecordBatches){let X=this._footer.getRecordBatch(this._recordBatchIndex);if(X&&(yield this._handle.seek(X.offset)))return yield this._reader.readMessage(Z)}return null})}}class u3 extends yX{constructor(Z,X){super(Z,X)}_loadVectors(Z,X,$){return new _3.JSONVectorLoader(X,Z.nodes,Z.buffers,this.dictionaries,this.schema.metadataVersion).visitMany($)}}function p3(Z,X){return X&&typeof X.autoDestroy==="boolean"?X.autoDestroy:Z.autoDestroy}function*m3(Z){let X=_1.from(Z);try{if(!X.open({autoDestroy:!1}).closed)do yield X;while(!X.reset().open().closed)}finally{X.cancel()}}function c3(Z){return $Z.__asyncGenerator(this,arguments,function*(){let $=yield $Z.__await(_1.from(Z));try{if(!(yield $Z.__await($.open({autoDestroy:!1}))).closed)do yield yield $Z.__await($);while(!(yield $Z.__await($.reset().open())).closed)}finally{yield $Z.__await($.cancel())}})}function US(Z){return new a6(new u3(Z))}function LS(Z){let X=Z.peek(tZ.magicLength+7&-8);return X&&X.byteLength>=4?!(0,tZ.checkForMagicArrowString)(X)?new a6(new yX(Z)):new m$(new rH(Z.read())):new a6(new yX(function*(){}()))}function MS(Z){return $Z.__awaiter(this,void 0,void 0,function*(){let X=yield Z.peek(tZ.magicLength+7&-8);return X&&X.byteLength>=4?!(0,tZ.checkForMagicArrowString)(X)?new o6(new mX(Z)):new m$(new rH(yield Z.read())):new o6(new mX(function(){return $Z.__asyncGenerator(this,arguments,function*(){})}()))})}function AS(Z){return $Z.__awaiter(this,void 0,void 0,function*(){let{size:X}=yield Z.stat(),$=new xX.AsyncRandomAccessFile(Z,X);if(X>=tZ.magicX2AndPadding&&(0,tZ.checkForMagicArrowString)(yield $.readAt(0,tZ.magicLength+7&-8)))return new iH(new b3($));return new o6(new mX($))})}});var r3=F((i3)=>{Object.defineProperty(i3,"__esModule",{value:!0});i3.VectorAssembler=void 0;var kS=VZ(),SS=jZ(),n3=JZ(),BS=F0(),o3=OZ(),eH=l0(),Z4=Z6(),tH=QZ(),a3=Q0();class RZ extends SS.Visitor{static assemble(...Z){let X=(Y)=>Y.flatMap((Q)=>Array.isArray(Q)?X(Q):Q instanceof BS.RecordBatch?Q.data.children:Q.data),$=new RZ;return $.visitMany(X(Z)),$}constructor(){super();this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(Z){if(Z instanceof kS.Vector)return this.visitMany(Z.data),this;let{type:X}=Z;if(!tH.DataType.isDictionary(X)){let{length:$}=Z;if($>2147483647)throw RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(tH.DataType.isUnion(X))this.nodes.push(new Z4.FieldNode($,0));else{let{nullCount:Y}=Z;if(!tH.DataType.isNull(X))K1.call(this,Y<=0?new Uint8Array(0):(0,eH.truncateBitmap)(Z.offset,$,Z.nullBitmap));this.nodes.push(new Z4.FieldNode($,Y))}}return super.visit(Z)}visitNull(Z){return this}visitDictionary(Z){return this.visit(Z.clone(Z.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}i3.VectorAssembler=RZ;function K1(Z){let X=Z.byteLength+7&-8;return this.buffers.push(Z),this.bufferRegions.push(new Z4.BufferRegion(this._byteLength,X)),this._byteLength+=X,this}function IS(Z){var X;let{type:$,length:Y,typeIds:Q,valueOffsets:H}=Z;if(K1.call(this,Q),$.mode===n3.UnionMode.Sparse)return X4.call(this,Z);else if($.mode===n3.UnionMode.Dense)if(Z.offset<=0)return K1.call(this,H),X4.call(this,Z);else{let q=new Int32Array(Y),W=Object.create(null),K=Object.create(null);for(let P,E,U=-1;++U<Y;){if((P=Q[U])===void 0)continue;if((E=W[P])===void 0)E=W[P]=H[U];q[U]=H[U]-E,K[P]=((X=K[P])!==null&&X!==void 0?X:0)+1}K1.call(this,q),this.visitMany(Z.children.map((P,E)=>{let U=$.typeIds[E],_=W[U],j=K[U];return P.slice(_,Math.min(Y,j))}))}return this}function VS(Z){let X;if(Z.nullCount>=Z.length)return K1.call(this,new Uint8Array(0));else if((X=Z.values)instanceof Uint8Array)return K1.call(this,(0,eH.truncateBitmap)(Z.offset,Z.length,X));return K1.call(this,(0,eH.packBools)(Z.values))}function b1(Z){return K1.call(this,Z.values.subarray(0,Z.length*Z.stride))}function c$(Z){let{length:X,values:$,valueOffsets:Y}=Z,Q=(0,a3.bigIntToNumber)(Y[0]),H=(0,a3.bigIntToNumber)(Y[X]),q=Math.min(H-Q,$.byteLength-Q);return K1.call(this,(0,o3.rebaseValueOffsets)(-Q,X+1,Y)),K1.call(this,$.subarray(Q,Q+q)),this}function $4(Z){let{length:X,valueOffsets:$}=Z;if($){let{[0]:Y,[X]:Q}=$;return K1.call(this,(0,o3.rebaseValueOffsets)(-Y,X+1,$)),this.visit(Z.children[0].slice(Y,Q-Y))}return this.visit(Z.children[0])}function X4(Z){return this.visitMany(Z.type.children.map((X,$)=>Z.children[$]).filter(Boolean))[0]}RZ.prototype.visitBool=VS;RZ.prototype.visitInt=b1;RZ.prototype.visitFloat=b1;RZ.prototype.visitUtf8=c$;RZ.prototype.visitLargeUtf8=c$;RZ.prototype.visitBinary=c$;RZ.prototype.visitLargeBinary=c$;RZ.prototype.visitFixedSizeBinary=b1;RZ.prototype.visitDate=b1;RZ.prototype.visitTimestamp=b1;RZ.prototype.visitTime=b1;RZ.prototype.visitDecimal=b1;RZ.prototype.visitList=$4;RZ.prototype.visitStruct=X4;RZ.prototype.visitUnion=IS;RZ.prototype.visitInterval=b1;RZ.prototype.visitDuration=b1;RZ.prototype.visitFixedSizeList=$4;RZ.prototype.visitMap=$4});var XN=F((e3)=>{Object.defineProperty(e3,"__esModule",{value:!0});e3.JSONTypeAssembler=void 0;var TS=jZ(),AZ=S6(),H6=JZ();class t3 extends TS.Visitor{visit(Z){return Z==null?void 0:super.visit(Z)}visitNull({typeId:Z}){return{name:AZ.Type[Z].toLowerCase()}}visitInt({typeId:Z,bitWidth:X,isSigned:$}){return{name:AZ.Type[Z].toLowerCase(),bitWidth:X,isSigned:$}}visitFloat({typeId:Z,precision:X}){return{name:AZ.Type[Z].toLowerCase(),precision:H6.Precision[X]}}visitBinary({typeId:Z}){return{name:AZ.Type[Z].toLowerCase()}}visitLargeBinary({typeId:Z}){return{name:AZ.Type[Z].toLowerCase()}}visitBool({typeId:Z}){return{name:AZ.Type[Z].toLowerCase()}}visitUtf8({typeId:Z}){return{name:AZ.Type[Z].toLowerCase()}}visitLargeUtf8({typeId:Z}){return{name:AZ.Type[Z].toLowerCase()}}visitDecimal({typeId:Z,scale:X,precision:$,bitWidth:Y}){return{name:AZ.Type[Z].toLowerCase(),scale:X,precision:$,bitWidth:Y}}visitDate({typeId:Z,unit:X}){return{name:AZ.Type[Z].toLowerCase(),unit:H6.DateUnit[X]}}visitTime({typeId:Z,unit:X,bitWidth:$}){return{name:AZ.Type[Z].toLowerCase(),unit:H6.TimeUnit[X],bitWidth:$}}visitTimestamp({typeId:Z,timezone:X,unit:$}){return{name:AZ.Type[Z].toLowerCase(),unit:H6.TimeUnit[$],timezone:X}}visitInterval({typeId:Z,unit:X}){return{name:AZ.Type[Z].toLowerCase(),unit:H6.IntervalUnit[X]}}visitDuration({typeId:Z,unit:X}){return{name:AZ.Type[Z].toLocaleLowerCase(),unit:H6.TimeUnit[X]}}visitList({typeId:Z}){return{name:AZ.Type[Z].toLowerCase()}}visitStruct({typeId:Z}){return{name:AZ.Type[Z].toLowerCase()}}visitUnion({typeId:Z,mode:X,typeIds:$}){return{name:AZ.Type[Z].toLowerCase(),mode:H6.UnionMode[X].toUpperCase(),typeIds:[...$]}}visitDictionary(Z){return this.visit(Z.dictionary)}visitFixedSizeBinary({typeId:Z,byteWidth:X}){return{name:AZ.Type[Z].toLowerCase(),byteWidth:X}}visitFixedSizeList({typeId:Z,listSize:X}){return{name:AZ.Type[Z].toLowerCase(),listSize:X}}visitMap({typeId:Z,keysSorted:X}){return{name:AZ.Type[Z].toLowerCase(),keysSorted:X}}}e3.JSONTypeAssembler=t3});var QN=F(($N)=>{Object.defineProperty($N,"__esModule",{value:!0});$N.JSONVectorAssembler=void 0;var vS=_8(),fX=VZ(),gS=jZ(),hS=JZ(),Y4=JZ(),f$=l0(),Q4=QZ();class q4 extends gS.Visitor{static assemble(...Z){let X=new q4;return Z.map(({schema:$,data:Y})=>{return X.visitMany($.fields,Y.children)})}visit({name:Z},X){let{length:$}=X,{offset:Y,nullCount:Q,nullBitmap:H}=X,q=Q4.DataType.isDictionary(X.type)?X.type.indices:X.type,W=Object.assign([],X.buffers,{[hS.BufferType.VALIDITY]:void 0});return Object.assign({name:Z,count:$,VALIDITY:Q4.DataType.isNull(q)||Q4.DataType.isUnion(q)?void 0:Q<=0?Array.from({length:$},()=>1):[...new f$.BitIterator(H,Y,$,null,f$.getBit)]},super.visit(X.clone(q,Y,$,0,W)))}visitNull(){return{}}visitBool({values:Z,offset:X,length:$}){return{DATA:[...new f$.BitIterator(Z,X,$,null,f$.getBool)]}}visitInt(Z){return{DATA:Z.type.bitWidth<64?[...Z.values]:[...w0(Z.values,2)]}}visitFloat(Z){return{DATA:[...Z.values]}}visitUtf8(Z){return{DATA:[...new fX.Vector([Z])],OFFSET:[...Z.valueOffsets]}}visitLargeUtf8(Z){return{DATA:[...new fX.Vector([Z])],OFFSET:[...w0(Z.valueOffsets,2)]}}visitBinary(Z){return{DATA:[...H4(new fX.Vector([Z]))],OFFSET:[...Z.valueOffsets]}}visitLargeBinary(Z){return{DATA:[...H4(new fX.Vector([Z]))],OFFSET:[...w0(Z.valueOffsets,2)]}}visitFixedSizeBinary(Z){return{DATA:[...H4(new fX.Vector([Z]))]}}visitDate(Z){return{DATA:Z.type.unit===Y4.DateUnit.DAY?[...Z.values]:[...w0(Z.values,2)]}}visitTimestamp(Z){return{DATA:[...w0(Z.values,2)]}}visitTime(Z){return{DATA:Z.type.unit<Y4.TimeUnit.MICROSECOND?[...Z.values]:[...w0(Z.values,2)]}}visitDecimal(Z){return{DATA:[...w0(Z.values,4)]}}visitList(Z){return{OFFSET:[...Z.valueOffsets],children:this.visitMany(Z.type.children,Z.children)}}visitStruct(Z){return{children:this.visitMany(Z.type.children,Z.children)}}visitUnion(Z){return{TYPE_ID:[...Z.typeIds],OFFSET:Z.type.mode===Y4.UnionMode.Dense?[...Z.valueOffsets]:void 0,children:this.visitMany(Z.type.children,Z.children)}}visitInterval(Z){return{DATA:[...Z.values]}}visitDuration(Z){return{DATA:[...w0(Z.values,2)]}}visitFixedSizeList(Z){return{children:this.visitMany(Z.type.children,Z.children)}}visitMap(Z){return{OFFSET:[...Z.valueOffsets],children:this.visitMany(Z.type.children,Z.children)}}}$N.JSONVectorAssembler=q4;function*H4(Z){for(let X of Z)yield X.reduce(($,Y)=>{return`${$}${("0"+(Y&255).toString(16)).slice(-2)}`},"").toUpperCase()}function*w0(Z,X){let $=new Uint32Array(Z.buffer);for(let Y=-1,Q=$.length/X;++Y<Q;)yield`${vS.BN.new($.subarray((Y+0)*X,(Y+1)*X),!1)}`}});var u$=F((PN)=>{Object.defineProperty(PN,"__esModule",{value:!0});PN.RecordBatchJSONWriter=PN.RecordBatchFileWriter=PN.RecordBatchStreamWriter=PN.RecordBatchWriter=void 0;var HN=(gZ(),cZ(vZ)),K4=u6(),jS=x$(),xS=VZ(),yS=QZ(),_$=Z6(),W4=Z6(),i6=IQ(),P4=JZ(),qN=IX(),J4=R0(),WN=r3(),mS=XN(),JN=QN(),cS=OZ(),b$=F0(),fS=NX(),S1=o1();class _X extends fS.ReadableInterop{static throughNode(Z){throw Error('"throughNode" not available in this environment')}static throughDOM(Z,X){throw Error('"throughDOM" not available in this environment')}constructor(Z){super();this._position=0,this._started=!1,this._sink=new J4.AsyncByteQueue,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,(0,S1.isObject)(Z)||(Z={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof Z.autoDestroy==="boolean"?Z.autoDestroy:!0,this._writeLegacyIpcFormat=typeof Z.writeLegacyIpcFormat==="boolean"?Z.writeLegacyIpcFormat:!1}toString(Z=!1){return this._sink.toString(Z)}toUint8Array(Z=!1){return this._sink.toUint8Array(Z)}writeAll(Z){if((0,S1.isPromise)(Z))return Z.then((X)=>this.writeAll(X));else if((0,S1.isAsyncIterable)(Z))return z4(this,Z);return R4(this,Z)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(Z){return this._sink.toDOMStream(Z)}toNodeStream(Z){return this._sink.toNodeStream(Z)}close(){return this.reset()._sink.close()}abort(Z){return this.reset()._sink.abort(Z)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(Z=this._sink,X=null){if(Z===this._sink||Z instanceof J4.AsyncByteQueue)this._sink=Z;else if(this._sink=new J4.AsyncByteQueue,Z&&(0,S1.isWritableDOMStream)(Z))this.toDOMStream({type:"bytes"}).pipeTo(Z);else if(Z&&(0,S1.isWritableNodeStream)(Z))this.toNodeStream({objectMode:!1}).pipe(Z);if(this._started&&this._schema)this._writeFooter(this._schema);if(this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,!X||!(0,qN.compareSchemas)(X,this._schema))if(X==null)this._position=0,this._schema=null;else this._started=!0,this._schema=X,this._writeSchema(X);return this}write(Z){let X=null;if(!this._sink)throw Error("RecordBatchWriter is closed");else if(Z==null)return this.finish()&&void 0;else if(Z instanceof K4.Table&&!(X=Z.schema))return this.finish()&&void 0;else if(Z instanceof b$.RecordBatch&&!(X=Z.schema))return this.finish()&&void 0;if(X&&!(0,qN.compareSchemas)(X,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,X)}if(Z instanceof b$.RecordBatch){if(!(Z instanceof b$._InternalEmptyPlaceholderRecordBatch))this._writeRecordBatch(Z)}else if(Z instanceof K4.Table)this.writeAll(Z.batches);else if((0,S1.isIterable)(Z))this.writeAll(Z)}_writeMessage(Z,X=8){let $=X-1,Y=_$.Message.encode(Z),Q=Y.byteLength,H=!this._writeLegacyIpcFormat?8:4,q=Q+H+$&~$,W=q-Q-H;if(Z.headerType===P4.MessageHeader.RecordBatch)this._recordBatchBlocks.push(new i6.FileBlock(q,Z.bodyLength,this._position));else if(Z.headerType===P4.MessageHeader.DictionaryBatch)this._dictionaryBlocks.push(new i6.FileBlock(q,Z.bodyLength,this._position));if(!this._writeLegacyIpcFormat)this._write(Int32Array.of(-1));if(this._write(Int32Array.of(q-H)),Q>0)this._write(Y);return this._writePadding(W)}_write(Z){if(this._started){let X=(0,cS.toUint8Array)(Z);if(X&&X.byteLength>0)this._sink.write(X),this._position+=X.byteLength}return this}_writeSchema(Z){return this._writeMessage(_$.Message.from(Z))}_writeFooter(Z){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(jS.MAGIC)}_writePadding(Z){return Z>0?this._write(new Uint8Array(Z)):this}_writeRecordBatch(Z){let{byteLength:X,nodes:$,bufferRegions:Y,buffers:Q}=WN.VectorAssembler.assemble(Z),H=new W4.RecordBatch(Z.numRows,$,Y),q=_$.Message.from(H,X);return this._writeDictionaries(Z)._writeMessage(q)._writeBodyBuffers(Q)}_writeDictionaryBatch(Z,X,$=!1){let{byteLength:Y,nodes:Q,bufferRegions:H,buffers:q}=WN.VectorAssembler.assemble(new xS.Vector([Z])),W=new W4.RecordBatch(Z.length,Q,H),K=new W4.DictionaryBatch(W,X,$),P=_$.Message.from(K,Y);return this._writeMessage(P)._writeBodyBuffers(q)}_writeBodyBuffers(Z){let X,$,Y;for(let Q=-1,H=Z.length;++Q<H;)if((X=Z[Q])&&($=X.byteLength)>0){if(this._write(X),(Y=($+7&-8)-$)>0)this._writePadding(Y)}return this}_writeDictionaries(Z){var X,$;for(let[Y,Q]of Z.dictionaries){let H=(X=Q===null||Q===void 0?void 0:Q.data)!==null&&X!==void 0?X:[],q=this._seenDictionaries.get(Y),W=($=this._dictionaryDeltaOffsets.get(Y))!==null&&$!==void 0?$:0;if(!q||q.data[0]!==H[0])for(let[K,P]of H.entries())this._writeDictionaryBatch(P,Y,K>0);else if(W<H.length)for(let K of H.slice(W))this._writeDictionaryBatch(K,Y,!0);this._seenDictionaries.set(Y,Q),this._dictionaryDeltaOffsets.set(Y,H.length)}return this}}PN.RecordBatchWriter=_X;class E4 extends _X{static writeAll(Z,X){let $=new E4(X);if((0,S1.isPromise)(Z))return Z.then((Y)=>$.writeAll(Y));else if((0,S1.isAsyncIterable)(Z))return z4($,Z);return R4($,Z)}}PN.RecordBatchStreamWriter=E4;class G4 extends _X{static writeAll(Z){let X=new G4;if((0,S1.isPromise)(Z))return Z.then(($)=>X.writeAll($));else if((0,S1.isAsyncIterable)(Z))return z4(X,Z);return R4(X,Z)}constructor(){super();this._autoDestroy=!0}_writeSchema(Z){return this._writeMagic()._writePadding(2)}_writeDictionaryBatch(Z,X,$=!1){if(!$&&this._seenDictionaries.has(X))throw Error("The Arrow File format does not support replacement dictionaries. ");return super._writeDictionaryBatch(Z,X,$)}_writeFooter(Z){let X=i6.Footer.encode(new i6.Footer(Z,P4.MetadataVersion.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(Z)._write(X)._write(Int32Array.of(X.byteLength))._writeMagic()}}PN.RecordBatchFileWriter=G4;class N4 extends _X{static writeAll(Z){return new N4().writeAll(Z)}constructor(){super();this._autoDestroy=!0,this._recordBatches=[],this._recordBatchesWithDictionaries=[]}_writeMessage(){return this}_writeFooter(Z){return this}_writeSchema(Z){return this._write(`{
  "schema": ${JSON.stringify({fields:Z.fields.map((X)=>KN(X))},null,2)}`)}_writeDictionaries(Z){if(Z.dictionaries.size>0)this._recordBatchesWithDictionaries.push(Z);return this}_writeDictionaryBatch(Z,X,$=!1){return this._write(this._dictionaryBlocks.length===0?"    ":`,
    `),this._write(_S(Z,X,$)),this._dictionaryBlocks.push(new i6.FileBlock(0,0,0)),this}_writeRecordBatch(Z){return this._writeDictionaries(Z),this._recordBatches.push(Z),this}close(){if(this._recordBatchesWithDictionaries.length>0){this._write(`,
  "dictionaries": [
`);for(let Z of this._recordBatchesWithDictionaries)super._writeDictionaries(Z);this._write(`
  ]`)}if(this._recordBatches.length>0){for(let Z=-1,X=this._recordBatches.length;++Z<X;)this._write(Z===0?`,
  "batches": [
    `:`,
    `),this._write(bS(this._recordBatches[Z])),this._recordBatchBlocks.push(new i6.FileBlock(0,0,0));this._write(`
  ]`)}if(this._schema)this._write(`
}`);return this._recordBatchesWithDictionaries=[],this._recordBatches=[],super.close()}}PN.RecordBatchJSONWriter=N4;function R4(Z,X){let $=X;if(X instanceof K4.Table)$=X.batches,Z.reset(void 0,X.schema);for(let Y of $)Z.write(Y);return Z.finish()}function z4(Z,X){return HN.__awaiter(this,void 0,void 0,function*(){var $,Y,Q,H,q,W,K;try{for($=!0,Y=HN.__asyncValues(X);Q=yield Y.next(),H=Q.done,!H;$=!0){K=Q.value,$=!1;let P=K;Z.write(P)}}catch(P){q={error:P}}finally{try{if(!$&&!H&&(W=Y.return))yield W.call(Y)}finally{if(q)throw q.error}}return Z.finish()})}function KN({name:Z,type:X,nullable:$}){let Y=new mS.JSONTypeAssembler;return{name:Z,nullable:$,type:Y.visit(X),children:(X.children||[]).map((Q)=>KN(Q)),dictionary:!yS.DataType.isDictionary(X)?void 0:{id:X.id,isOrdered:X.isOrdered,indexType:Y.visit(X.indices)}}}function _S(Z,X,$=!1){let[Y]=JN.JSONVectorAssembler.assemble(new b$.RecordBatch({[X]:Z}));return JSON.stringify({id:X,isDelta:$,data:{count:Z.length,columns:Y}},null,2)}function bS(Z){let[X]=JN.JSONVectorAssembler.assemble(Z);return JSON.stringify({count:Z.numRows,columns:X},null,2)}});var FN=F((RN)=>{Object.defineProperty(RN,"__esModule",{value:!0});RN.toDOMStream=void 0;var p$=(gZ(),cZ(vZ)),NN=OZ(),GN=o1();function lS(Z,X){if((0,GN.isAsyncIterable)(Z))return aS(Z,X);if((0,GN.isIterable)(Z))return nS(Z,X);throw Error("toDOMStream() must be called with an Iterable or AsyncIterable")}RN.toDOMStream=lS;function nS(Z,X){let $=null,Y=(X===null||X===void 0?void 0:X.type)==="bytes"||!1,Q=(X===null||X===void 0?void 0:X.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},X),{start(q){H(q,$||($=Z[Symbol.iterator]()))},pull(q){$?H(q,$):q.close()},cancel(){(($===null||$===void 0?void 0:$.return)&&$.return()||!0)&&($=null)}}),Object.assign({highWaterMark:Y?Q:void 0},X));function H(q,W){let K,P=null,E=q.desiredSize||null;while(!(P=W.next(Y?E:null)).done){if(ArrayBuffer.isView(P.value)&&(K=(0,NN.toUint8Array)(P.value)))E!=null&&Y&&(E=E-K.byteLength+1),P.value=K;if(q.enqueue(P.value),E!=null&&--E<=0)return}q.close()}}function aS(Z,X){let $=null,Y=(X===null||X===void 0?void 0:X.type)==="bytes"||!1,Q=(X===null||X===void 0?void 0:X.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},X),{start(q){return p$.__awaiter(this,void 0,void 0,function*(){yield H(q,$||($=Z[Symbol.asyncIterator]()))})},pull(q){return p$.__awaiter(this,void 0,void 0,function*(){$?yield H(q,$):q.close()})},cancel(){return p$.__awaiter(this,void 0,void 0,function*(){(($===null||$===void 0?void 0:$.return)&&(yield $.return())||!0)&&($=null)})}}),Object.assign({highWaterMark:Y?Q:void 0},X));function H(q,W){return p$.__awaiter(this,void 0,void 0,function*(){let K,P=null,E=q.desiredSize||null;while(!(P=yield W.next(Y?E:null)).done){if(ArrayBuffer.isView(P.value)&&(K=(0,NN.toUint8Array)(P.value)))E!=null&&Y&&(E=E-K.byteLength+1),P.value=K;if(q.enqueue(P.value),E!=null&&--E<=0)return}q.close()})}}});var ON=F((MN)=>{Object.defineProperty(MN,"__esModule",{value:!0});MN.BuilderTransform=MN.builderThroughDOMStream=void 0;var oS=(gZ(),cZ(vZ)),iS=FX();function sS(Z){return new F4(Z)}MN.builderThroughDOMStream=sS;class F4{constructor(Z){this._numChunks=0,this._finished=!1,this._bufferedSize=0;let{["readableStrategy"]:X,["writableStrategy"]:$,["queueingStrategy"]:Y="count"}=Z,Q=oS.__rest(Z,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=(0,iS.makeBuilder)(Q),this._getSize=Y!=="bytes"?UN:LN;let{["highWaterMark"]:H=Y==="bytes"?Math.pow(2,14):1000}=Object.assign({},X),{["highWaterMark"]:q=Y==="bytes"?Math.pow(2,14):1000}=Object.assign({},$);this.readable=new ReadableStream({["cancel"]:()=>{this._builder.clear()},["pull"]:(W)=>{this._maybeFlush(this._builder,this._controller=W)},["start"]:(W)=>{this._maybeFlush(this._builder,this._controller=W)}},{highWaterMark:H,size:Y!=="bytes"?UN:LN}),this.writable=new WritableStream({["abort"]:()=>{this._builder.clear()},["write"]:()=>{this._maybeFlush(this._builder,this._controller)},["close"]:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:q,size:(W)=>this._writeValueAndReturnChunkSize(W)})}_writeValueAndReturnChunkSize(Z){let X=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(Z)),this._bufferedSize-X}_maybeFlush(Z,X){if(X==null)return;if(this._bufferedSize>=X.desiredSize)++this._numChunks&&this._enqueue(X,Z.toVector());if(Z.finished){if(Z.length>0||this._numChunks===0)++this._numChunks&&this._enqueue(X,Z.toVector());if(!this._finished&&(this._finished=!0))this._enqueue(X,null)}}_enqueue(Z,X){this._bufferedSize=0,this._controller=null,X==null?Z.close():Z.enqueue(X)}}MN.BuilderTransform=F4;var UN=(Z)=>{var X;return(X=Z===null||Z===void 0?void 0:Z.length)!==null&&X!==void 0?X:0},LN=(Z)=>{var X;return(X=Z===null||Z===void 0?void 0:Z.byteLength)!==null&&X!==void 0?X:0}});var wN=F((DN)=>{Object.defineProperty(DN,"__esModule",{value:!0});DN.recordBatchReaderThroughDOMStream=void 0;var bX=(gZ(),cZ(vZ)),tS=R0(),eS=cX();function ZB(Z,X){let $=new tS.AsyncByteQueue,Y=null,Q=new ReadableStream({cancel(){return bX.__awaiter(this,void 0,void 0,function*(){yield $.close()})},start(W){return bX.__awaiter(this,void 0,void 0,function*(){yield q(W,Y||(Y=yield H()))})},pull(W){return bX.__awaiter(this,void 0,void 0,function*(){Y?yield q(W,Y):W.close()})}});return{writable:new WritableStream($,Object.assign({highWaterMark:Math.pow(2,14)},Z)),readable:Q};function H(){return bX.__awaiter(this,void 0,void 0,function*(){return yield(yield eS.RecordBatchReader.from($)).open(X)})}function q(W,K){return bX.__awaiter(this,void 0,void 0,function*(){let P=W.desiredSize,E=null;while(!(E=yield K.next()).done)if(W.enqueue(E.value),P!=null&&--P<=0)return;W.close()})}}DN.recordBatchReaderThroughDOMStream=ZB});var BN=F((kN)=>{Object.defineProperty(kN,"__esModule",{value:!0});kN.recordBatchWriterThroughDOMStream=void 0;var d$=(gZ(),cZ(vZ)),XB=R0();function $B(Z,X){let $=new this(Z),Y=new XB.AsyncByteStream($),Q=new ReadableStream({cancel(){return d$.__awaiter(this,void 0,void 0,function*(){yield Y.cancel()})},pull(q){return d$.__awaiter(this,void 0,void 0,function*(){yield H(q)})},start(q){return d$.__awaiter(this,void 0,void 0,function*(){yield H(q)})}},Object.assign({highWaterMark:Math.pow(2,14)},X));return{writable:new WritableStream($,Z),readable:Q};function H(q){return d$.__awaiter(this,void 0,void 0,function*(){let W=null,K=q.desiredSize;while(W=yield Y.read(K||null))if(q.enqueue(W),K!=null&&(K-=W.byteLength)<=0)return;q.close()})}}kN.recordBatchWriterThroughDOMStream=$B});var hN=F((vN)=>{Object.defineProperty(vN,"__esModule",{value:!0});vN.tableToIPC=vN.tableFromIPC=void 0;var IN=u6(),YB=o1(),QB=cX(),VN=u$();function TN(Z){let X=QB.RecordBatchReader.from(Z);if((0,YB.isPromise)(X))return X.then(($)=>TN($));if(X.isAsync())return X.readAll().then(($)=>new IN.Table($));return new IN.Table(X.readAll())}vN.tableFromIPC=TN;function HB(Z,X="stream"){return(X==="stream"?VN.RecordBatchStreamWriter:VN.RecordBatchFileWriter).writeAll(Z).toUint8Array(!0)}vN.tableToIPC=HB});var w4=F((R)=>{Object.defineProperty(R,"__esModule",{value:!0});R.DenseUnion=R.Union=R.Struct=R.List=R.Decimal=R.TimeNanosecond=R.TimeMicrosecond=R.TimeMillisecond=R.TimeSecond=R.Time=R.TimestampNanosecond=R.TimestampMicrosecond=R.TimestampMillisecond=R.TimestampSecond=R.Timestamp=R.DateMillisecond=R.DateDay=R.Date_=R.FixedSizeBinary=R.LargeBinary=R.Binary=R.LargeUtf8=R.Utf8=R.Float64=R.Float32=R.Float16=R.Float=R.Uint64=R.Uint32=R.Uint16=R.Uint8=R.Int64=R.Int32=R.Int16=R.Int8=R.Int=R.Bool=R.Null=R.DataType=R.makeData=R.Data=R.MetadataVersion=R.IntervalUnit=R.UnionMode=R.Precision=R.TimeUnit=R.DateUnit=R.BufferType=R.Type=R.MessageHeader=void 0;R.TimeBuilder=R.Uint64Builder=R.Uint32Builder=R.Uint16Builder=R.Uint8Builder=R.Int64Builder=R.Int32Builder=R.Int16Builder=R.Int8Builder=R.IntBuilder=R.Float64Builder=R.Float32Builder=R.Float16Builder=R.FloatBuilder=R.FixedSizeBinaryBuilder=R.DictionaryBuilder=R.DecimalBuilder=R.DateMillisecondBuilder=R.DateDayBuilder=R.DateBuilder=R.NullBuilder=R.BoolBuilder=R.builderThroughAsyncIterable=R.builderThroughIterable=R.tableFromJSON=R.vectorFromArray=R.makeBuilder=R.Builder=R.StructRow=R.MapRow=R.Field=R.Schema=R.Visitor=R.makeVector=R.Vector=R.tableFromArrays=R.makeTable=R.Table=R.Map_=R.FixedSizeList=R.DurationNanosecond=R.DurationMicrosecond=R.DurationMillisecond=R.DurationSecond=R.Duration=R.IntervalYearMonth=R.IntervalDayTime=R.Interval=R.Dictionary=R.SparseUnion=void 0;R.util=R.RecordBatch=R.Message=R.JSONMessageReader=R.AsyncMessageReader=R.MessageReader=R.tableFromIPC=R.tableToIPC=R.RecordBatchJSONWriter=R.RecordBatchStreamWriter=R.RecordBatchFileWriter=R.RecordBatchWriter=R.AsyncRecordBatchStreamReader=R.AsyncRecordBatchFileReader=R.RecordBatchStreamReader=R.RecordBatchFileReader=R.RecordBatchReader=R.AsyncByteQueue=R.AsyncByteStream=R.ByteStream=R.DenseUnionBuilder=R.SparseUnionBuilder=R.UnionBuilder=R.StructBuilder=R.MapBuilder=R.FixedSizeListBuilder=R.ListBuilder=R.LargeBinaryBuilder=R.BinaryBuilder=R.LargeUtf8Builder=R.Utf8Builder=R.DurationNanosecondBuilder=R.DurationMicrosecondBuilder=R.DurationMillisecondBuilder=R.DurationSecondBuilder=R.DurationBuilder=R.IntervalYearMonthBuilder=R.IntervalDayTimeBuilder=R.IntervalBuilder=R.TimestampNanosecondBuilder=R.TimestampMicrosecondBuilder=R.TimestampMillisecondBuilder=R.TimestampSecondBuilder=R.TimestampBuilder=R.TimeNanosecondBuilder=R.TimeMicrosecondBuilder=R.TimeMillisecondBuilder=R.TimeSecondBuilder=void 0;var WB=m8();Object.defineProperty(R,"MessageHeader",{enumerable:!0,get:function(){return WB.MessageHeader}});var k0=JZ();Object.defineProperty(R,"Type",{enumerable:!0,get:function(){return k0.Type}});Object.defineProperty(R,"BufferType",{enumerable:!0,get:function(){return k0.BufferType}});Object.defineProperty(R,"DateUnit",{enumerable:!0,get:function(){return k0.DateUnit}});Object.defineProperty(R,"TimeUnit",{enumerable:!0,get:function(){return k0.TimeUnit}});Object.defineProperty(R,"Precision",{enumerable:!0,get:function(){return k0.Precision}});Object.defineProperty(R,"UnionMode",{enumerable:!0,get:function(){return k0.UnionMode}});Object.defineProperty(R,"IntervalUnit",{enumerable:!0,get:function(){return k0.IntervalUnit}});Object.defineProperty(R,"MetadataVersion",{enumerable:!0,get:function(){return k0.MetadataVersion}});var jN=U1();Object.defineProperty(R,"Data",{enumerable:!0,get:function(){return jN.Data}});Object.defineProperty(R,"makeData",{enumerable:!0,get:function(){return jN.makeData}});var V=QZ();Object.defineProperty(R,"DataType",{enumerable:!0,get:function(){return V.DataType}});Object.defineProperty(R,"Null",{enumerable:!0,get:function(){return V.Null}});Object.defineProperty(R,"Bool",{enumerable:!0,get:function(){return V.Bool}});Object.defineProperty(R,"Int",{enumerable:!0,get:function(){return V.Int}});Object.defineProperty(R,"Int8",{enumerable:!0,get:function(){return V.Int8}});Object.defineProperty(R,"Int16",{enumerable:!0,get:function(){return V.Int16}});Object.defineProperty(R,"Int32",{enumerable:!0,get:function(){return V.Int32}});Object.defineProperty(R,"Int64",{enumerable:!0,get:function(){return V.Int64}});Object.defineProperty(R,"Uint8",{enumerable:!0,get:function(){return V.Uint8}});Object.defineProperty(R,"Uint16",{enumerable:!0,get:function(){return V.Uint16}});Object.defineProperty(R,"Uint32",{enumerable:!0,get:function(){return V.Uint32}});Object.defineProperty(R,"Uint64",{enumerable:!0,get:function(){return V.Uint64}});Object.defineProperty(R,"Float",{enumerable:!0,get:function(){return V.Float}});Object.defineProperty(R,"Float16",{enumerable:!0,get:function(){return V.Float16}});Object.defineProperty(R,"Float32",{enumerable:!0,get:function(){return V.Float32}});Object.defineProperty(R,"Float64",{enumerable:!0,get:function(){return V.Float64}});Object.defineProperty(R,"Utf8",{enumerable:!0,get:function(){return V.Utf8}});Object.defineProperty(R,"LargeUtf8",{enumerable:!0,get:function(){return V.LargeUtf8}});Object.defineProperty(R,"Binary",{enumerable:!0,get:function(){return V.Binary}});Object.defineProperty(R,"LargeBinary",{enumerable:!0,get:function(){return V.LargeBinary}});Object.defineProperty(R,"FixedSizeBinary",{enumerable:!0,get:function(){return V.FixedSizeBinary}});Object.defineProperty(R,"Date_",{enumerable:!0,get:function(){return V.Date_}});Object.defineProperty(R,"DateDay",{enumerable:!0,get:function(){return V.DateDay}});Object.defineProperty(R,"DateMillisecond",{enumerable:!0,get:function(){return V.DateMillisecond}});Object.defineProperty(R,"Timestamp",{enumerable:!0,get:function(){return V.Timestamp}});Object.defineProperty(R,"TimestampSecond",{enumerable:!0,get:function(){return V.TimestampSecond}});Object.defineProperty(R,"TimestampMillisecond",{enumerable:!0,get:function(){return V.TimestampMillisecond}});Object.defineProperty(R,"TimestampMicrosecond",{enumerable:!0,get:function(){return V.TimestampMicrosecond}});Object.defineProperty(R,"TimestampNanosecond",{enumerable:!0,get:function(){return V.TimestampNanosecond}});Object.defineProperty(R,"Time",{enumerable:!0,get:function(){return V.Time}});Object.defineProperty(R,"TimeSecond",{enumerable:!0,get:function(){return V.TimeSecond}});Object.defineProperty(R,"TimeMillisecond",{enumerable:!0,get:function(){return V.TimeMillisecond}});Object.defineProperty(R,"TimeMicrosecond",{enumerable:!0,get:function(){return V.TimeMicrosecond}});Object.defineProperty(R,"TimeNanosecond",{enumerable:!0,get:function(){return V.TimeNanosecond}});Object.defineProperty(R,"Decimal",{enumerable:!0,get:function(){return V.Decimal}});Object.defineProperty(R,"List",{enumerable:!0,get:function(){return V.List}});Object.defineProperty(R,"Struct",{enumerable:!0,get:function(){return V.Struct}});Object.defineProperty(R,"Union",{enumerable:!0,get:function(){return V.Union}});Object.defineProperty(R,"DenseUnion",{enumerable:!0,get:function(){return V.DenseUnion}});Object.defineProperty(R,"SparseUnion",{enumerable:!0,get:function(){return V.SparseUnion}});Object.defineProperty(R,"Dictionary",{enumerable:!0,get:function(){return V.Dictionary}});Object.defineProperty(R,"Interval",{enumerable:!0,get:function(){return V.Interval}});Object.defineProperty(R,"IntervalDayTime",{enumerable:!0,get:function(){return V.IntervalDayTime}});Object.defineProperty(R,"IntervalYearMonth",{enumerable:!0,get:function(){return V.IntervalYearMonth}});Object.defineProperty(R,"Duration",{enumerable:!0,get:function(){return V.Duration}});Object.defineProperty(R,"DurationSecond",{enumerable:!0,get:function(){return V.DurationSecond}});Object.defineProperty(R,"DurationMillisecond",{enumerable:!0,get:function(){return V.DurationMillisecond}});Object.defineProperty(R,"DurationMicrosecond",{enumerable:!0,get:function(){return V.DurationMicrosecond}});Object.defineProperty(R,"DurationNanosecond",{enumerable:!0,get:function(){return V.DurationNanosecond}});Object.defineProperty(R,"FixedSizeList",{enumerable:!0,get:function(){return V.FixedSizeList}});Object.defineProperty(R,"Map_",{enumerable:!0,get:function(){return V.Map_}});var L4=u6();Object.defineProperty(R,"Table",{enumerable:!0,get:function(){return L4.Table}});Object.defineProperty(R,"makeTable",{enumerable:!0,get:function(){return L4.makeTable}});Object.defineProperty(R,"tableFromArrays",{enumerable:!0,get:function(){return L4.tableFromArrays}});var xN=VZ();Object.defineProperty(R,"Vector",{enumerable:!0,get:function(){return xN.Vector}});Object.defineProperty(R,"makeVector",{enumerable:!0,get:function(){return xN.makeVector}});var JB=jZ();Object.defineProperty(R,"Visitor",{enumerable:!0,get:function(){return JB.Visitor}});var yN=mZ();Object.defineProperty(R,"Schema",{enumerable:!0,get:function(){return yN.Schema}});Object.defineProperty(R,"Field",{enumerable:!0,get:function(){return yN.Field}});var KB=JX();Object.defineProperty(R,"MapRow",{enumerable:!0,get:function(){return KB.MapRow}});var PB=X$();Object.defineProperty(R,"StructRow",{enumerable:!0,get:function(){return PB.StructRow}});var EB=WZ();Object.defineProperty(R,"Builder",{enumerable:!0,get:function(){return EB.Builder}});var uX=FX();Object.defineProperty(R,"makeBuilder",{enumerable:!0,get:function(){return uX.makeBuilder}});Object.defineProperty(R,"vectorFromArray",{enumerable:!0,get:function(){return uX.vectorFromArray}});Object.defineProperty(R,"tableFromJSON",{enumerable:!0,get:function(){return uX.tableFromJSON}});Object.defineProperty(R,"builderThroughIterable",{enumerable:!0,get:function(){return uX.builderThroughIterable}});Object.defineProperty(R,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return uX.builderThroughAsyncIterable}});var GB=mQ();Object.defineProperty(R,"BoolBuilder",{enumerable:!0,get:function(){return GB.BoolBuilder}});var NB=WH();Object.defineProperty(R,"NullBuilder",{enumerable:!0,get:function(){return NB.NullBuilder}});var M4=bQ();Object.defineProperty(R,"DateBuilder",{enumerable:!0,get:function(){return M4.DateBuilder}});Object.defineProperty(R,"DateDayBuilder",{enumerable:!0,get:function(){return M4.DateDayBuilder}});Object.defineProperty(R,"DateMillisecondBuilder",{enumerable:!0,get:function(){return M4.DateMillisecondBuilder}});var RB=pQ();Object.defineProperty(R,"DecimalBuilder",{enumerable:!0,get:function(){return RB.DecimalBuilder}});var zB=dQ();Object.defineProperty(R,"DictionaryBuilder",{enumerable:!0,get:function(){return zB.DictionaryBuilder}});var FB=nQ();Object.defineProperty(R,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return FB.FixedSizeBinaryBuilder}});var l$=oQ();Object.defineProperty(R,"FloatBuilder",{enumerable:!0,get:function(){return l$.FloatBuilder}});Object.defineProperty(R,"Float16Builder",{enumerable:!0,get:function(){return l$.Float16Builder}});Object.defineProperty(R,"Float32Builder",{enumerable:!0,get:function(){return l$.Float32Builder}});Object.defineProperty(R,"Float64Builder",{enumerable:!0,get:function(){return l$.Float64Builder}});var u1=QH();Object.defineProperty(R,"IntBuilder",{enumerable:!0,get:function(){return u1.IntBuilder}});Object.defineProperty(R,"Int8Builder",{enumerable:!0,get:function(){return u1.Int8Builder}});Object.defineProperty(R,"Int16Builder",{enumerable:!0,get:function(){return u1.Int16Builder}});Object.defineProperty(R,"Int32Builder",{enumerable:!0,get:function(){return u1.Int32Builder}});Object.defineProperty(R,"Int64Builder",{enumerable:!0,get:function(){return u1.Int64Builder}});Object.defineProperty(R,"Uint8Builder",{enumerable:!0,get:function(){return u1.Uint8Builder}});Object.defineProperty(R,"Uint16Builder",{enumerable:!0,get:function(){return u1.Uint16Builder}});Object.defineProperty(R,"Uint32Builder",{enumerable:!0,get:function(){return u1.Uint32Builder}});Object.defineProperty(R,"Uint64Builder",{enumerable:!0,get:function(){return u1.Uint64Builder}});var pX=LH();Object.defineProperty(R,"TimeBuilder",{enumerable:!0,get:function(){return pX.TimeBuilder}});Object.defineProperty(R,"TimeSecondBuilder",{enumerable:!0,get:function(){return pX.TimeSecondBuilder}});Object.defineProperty(R,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return pX.TimeMillisecondBuilder}});Object.defineProperty(R,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return pX.TimeMicrosecondBuilder}});Object.defineProperty(R,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return pX.TimeNanosecondBuilder}});var dX=NH();Object.defineProperty(R,"TimestampBuilder",{enumerable:!0,get:function(){return dX.TimestampBuilder}});Object.defineProperty(R,"TimestampSecondBuilder",{enumerable:!0,get:function(){return dX.TimestampSecondBuilder}});Object.defineProperty(R,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return dX.TimestampMillisecondBuilder}});Object.defineProperty(R,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return dX.TimestampMicrosecondBuilder}});Object.defineProperty(R,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return dX.TimestampNanosecondBuilder}});var A4=tQ();Object.defineProperty(R,"IntervalBuilder",{enumerable:!0,get:function(){return A4.IntervalBuilder}});Object.defineProperty(R,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return A4.IntervalDayTimeBuilder}});Object.defineProperty(R,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return A4.IntervalYearMonthBuilder}});var lX=YH();Object.defineProperty(R,"DurationBuilder",{enumerable:!0,get:function(){return lX.DurationBuilder}});Object.defineProperty(R,"DurationSecondBuilder",{enumerable:!0,get:function(){return lX.DurationSecondBuilder}});Object.defineProperty(R,"DurationMillisecondBuilder",{enumerable:!0,get:function(){return lX.DurationMillisecondBuilder}});Object.defineProperty(R,"DurationMicrosecondBuilder",{enumerable:!0,get:function(){return lX.DurationMicrosecondBuilder}});Object.defineProperty(R,"DurationNanosecondBuilder",{enumerable:!0,get:function(){return lX.DurationNanosecondBuilder}});var UB=OH();Object.defineProperty(R,"Utf8Builder",{enumerable:!0,get:function(){return UB.Utf8Builder}});var LB=CH();Object.defineProperty(R,"LargeUtf8Builder",{enumerable:!0,get:function(){return LB.LargeUtf8Builder}});var MB=L$();Object.defineProperty(R,"BinaryBuilder",{enumerable:!0,get:function(){return MB.BinaryBuilder}});var AB=M$();Object.defineProperty(R,"LargeBinaryBuilder",{enumerable:!0,get:function(){return AB.LargeBinaryBuilder}});var OB=HH();Object.defineProperty(R,"ListBuilder",{enumerable:!0,get:function(){return OB.ListBuilder}});var DB=aQ();Object.defineProperty(R,"FixedSizeListBuilder",{enumerable:!0,get:function(){return DB.FixedSizeListBuilder}});var CB=qH();Object.defineProperty(R,"MapBuilder",{enumerable:!0,get:function(){return CB.MapBuilder}});var wB=JH();Object.defineProperty(R,"StructBuilder",{enumerable:!0,get:function(){return wB.StructBuilder}});var O4=MH();Object.defineProperty(R,"UnionBuilder",{enumerable:!0,get:function(){return O4.UnionBuilder}});Object.defineProperty(R,"SparseUnionBuilder",{enumerable:!0,get:function(){return O4.SparseUnionBuilder}});Object.defineProperty(R,"DenseUnionBuilder",{enumerable:!0,get:function(){return O4.DenseUnionBuilder}});var D4=R0();Object.defineProperty(R,"ByteStream",{enumerable:!0,get:function(){return D4.ByteStream}});Object.defineProperty(R,"AsyncByteStream",{enumerable:!0,get:function(){return D4.AsyncByteStream}});Object.defineProperty(R,"AsyncByteQueue",{enumerable:!0,get:function(){return D4.AsyncByteQueue}});var nX=cX();Object.defineProperty(R,"RecordBatchReader",{enumerable:!0,get:function(){return nX.RecordBatchReader}});Object.defineProperty(R,"RecordBatchFileReader",{enumerable:!0,get:function(){return nX.RecordBatchFileReader}});Object.defineProperty(R,"RecordBatchStreamReader",{enumerable:!0,get:function(){return nX.RecordBatchStreamReader}});Object.defineProperty(R,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return nX.AsyncRecordBatchFileReader}});Object.defineProperty(R,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return nX.AsyncRecordBatchStreamReader}});var n$=u$();Object.defineProperty(R,"RecordBatchWriter",{enumerable:!0,get:function(){return n$.RecordBatchWriter}});Object.defineProperty(R,"RecordBatchFileWriter",{enumerable:!0,get:function(){return n$.RecordBatchFileWriter}});Object.defineProperty(R,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return n$.RecordBatchStreamWriter}});Object.defineProperty(R,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return n$.RecordBatchJSONWriter}});var mN=hN();Object.defineProperty(R,"tableToIPC",{enumerable:!0,get:function(){return mN.tableToIPC}});Object.defineProperty(R,"tableFromIPC",{enumerable:!0,get:function(){return mN.tableFromIPC}});var C4=x$();Object.defineProperty(R,"MessageReader",{enumerable:!0,get:function(){return C4.MessageReader}});Object.defineProperty(R,"AsyncMessageReader",{enumerable:!0,get:function(){return C4.AsyncMessageReader}});Object.defineProperty(R,"JSONMessageReader",{enumerable:!0,get:function(){return C4.JSONMessageReader}});var kB=Z6();Object.defineProperty(R,"Message",{enumerable:!0,get:function(){return kB.Message}});var SB=F0();Object.defineProperty(R,"RecordBatch",{enumerable:!0,get:function(){return SB.RecordBatch}});var BB=_8(),IB=xQ(),VB=l0(),TB=WX(),vB=OZ(),gB=y6(),hB=HX(),U4=IX();R.util=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},BB),IB),VB),TB),vB),gB),hB),{compareSchemas:U4.compareSchemas,compareFields:U4.compareFields,compareTypes:U4.compareTypes})});var a$=F((N)=>{Object.defineProperty(N,"__esModule",{value:!0});N.Union=N.StructRow=N.Struct=N.List=N.Decimal=N.TimeNanosecond=N.TimeMicrosecond=N.TimeMillisecond=N.TimeSecond=N.Time=N.TimestampNanosecond=N.TimestampMicrosecond=N.TimestampMillisecond=N.TimestampSecond=N.Timestamp=N.DateMillisecond=N.DateDay=N.Date_=N.FixedSizeBinary=N.LargeBinary=N.Binary=N.LargeUtf8=N.Utf8=N.Float64=N.Float32=N.Float16=N.Float=N.Uint64=N.Uint32=N.Uint16=N.Uint8=N.Int64=N.Int32=N.Int16=N.Int8=N.Int=N.Bool=N.Null=N.DataType=N.makeData=N.Data=N.BufferType=N.UnionMode=N.Type=N.TimeUnit=N.Precision=N.MetadataVersion=N.MessageHeader=N.IntervalUnit=N.DateUnit=void 0;N.LargeBinaryBuilder=N.BinaryBuilder=N.builderThroughAsyncIterable=N.builderThroughIterable=N.makeBuilder=N.Builder=N.util=N.RecordBatch=N.Message=N.JSONMessageReader=N.AsyncMessageReader=N.MessageReader=N.tableToIPC=N.tableFromIPC=N.RecordBatchJSONWriter=N.RecordBatchStreamWriter=N.RecordBatchFileWriter=N.RecordBatchWriter=N.AsyncRecordBatchStreamReader=N.AsyncRecordBatchFileReader=N.RecordBatchStreamReader=N.RecordBatchFileReader=N.RecordBatchReader=N.AsyncByteQueue=N.AsyncByteStream=N.ByteStream=N.tableFromJSON=N.vectorFromArray=N.makeVector=N.Vector=N.Visitor=N.Field=N.Schema=N.tableFromArrays=N.makeTable=N.Table=N.MapRow=N.Map_=N.FixedSizeList=N.DurationNanosecond=N.DurationMicrosecond=N.DurationMillisecond=N.DurationSecond=N.Duration=N.IntervalYearMonth=N.IntervalDayTime=N.Interval=N.Dictionary=N.SparseUnion=N.DenseUnion=void 0;N.LargeUtf8Builder=N.Utf8Builder=N.SparseUnionBuilder=N.DenseUnionBuilder=N.UnionBuilder=N.TimeNanosecondBuilder=N.TimeMicrosecondBuilder=N.TimeMillisecondBuilder=N.TimeSecondBuilder=N.TimeBuilder=N.TimestampNanosecondBuilder=N.TimestampMicrosecondBuilder=N.TimestampMillisecondBuilder=N.TimestampSecondBuilder=N.TimestampBuilder=N.StructBuilder=N.NullBuilder=N.MapBuilder=N.ListBuilder=N.Uint64Builder=N.Uint32Builder=N.Uint16Builder=N.Uint8Builder=N.Int64Builder=N.Int32Builder=N.Int16Builder=N.Int8Builder=N.IntBuilder=N.DurationNanosecondBuilder=N.DurationMicrosecondBuilder=N.DurationMillisecondBuilder=N.DurationSecondBuilder=N.DurationBuilder=N.IntervalYearMonthBuilder=N.IntervalDayTimeBuilder=N.IntervalBuilder=N.Float64Builder=N.Float32Builder=N.Float16Builder=N.FloatBuilder=N.FixedSizeListBuilder=N.FixedSizeBinaryBuilder=N.DictionaryBuilder=N.DecimalBuilder=N.DateMillisecondBuilder=N.DateDayBuilder=N.DateBuilder=N.BoolBuilder=void 0;var yB=$X(),mB=WZ(),k4=cX(),S4=u$(),cB=FN(),fB=ON(),B4=wN(),I4=BN();yB.default.toDOMStream=cB.toDOMStream;mB.Builder.throughDOM=fB.builderThroughDOMStream;k4.RecordBatchReader.throughDOM=B4.recordBatchReaderThroughDOMStream;k4.RecordBatchFileReader.throughDOM=B4.recordBatchReaderThroughDOMStream;k4.RecordBatchStreamReader.throughDOM=B4.recordBatchReaderThroughDOMStream;S4.RecordBatchWriter.throughDOM=I4.recordBatchWriterThroughDOMStream;S4.RecordBatchFileWriter.throughDOM=I4.recordBatchWriterThroughDOMStream;S4.RecordBatchStreamWriter.throughDOM=I4.recordBatchWriterThroughDOMStream;var L=w4();Object.defineProperty(N,"DateUnit",{enumerable:!0,get:function(){return L.DateUnit}});Object.defineProperty(N,"IntervalUnit",{enumerable:!0,get:function(){return L.IntervalUnit}});Object.defineProperty(N,"MessageHeader",{enumerable:!0,get:function(){return L.MessageHeader}});Object.defineProperty(N,"MetadataVersion",{enumerable:!0,get:function(){return L.MetadataVersion}});Object.defineProperty(N,"Precision",{enumerable:!0,get:function(){return L.Precision}});Object.defineProperty(N,"TimeUnit",{enumerable:!0,get:function(){return L.TimeUnit}});Object.defineProperty(N,"Type",{enumerable:!0,get:function(){return L.Type}});Object.defineProperty(N,"UnionMode",{enumerable:!0,get:function(){return L.UnionMode}});Object.defineProperty(N,"BufferType",{enumerable:!0,get:function(){return L.BufferType}});Object.defineProperty(N,"Data",{enumerable:!0,get:function(){return L.Data}});Object.defineProperty(N,"makeData",{enumerable:!0,get:function(){return L.makeData}});Object.defineProperty(N,"DataType",{enumerable:!0,get:function(){return L.DataType}});Object.defineProperty(N,"Null",{enumerable:!0,get:function(){return L.Null}});Object.defineProperty(N,"Bool",{enumerable:!0,get:function(){return L.Bool}});Object.defineProperty(N,"Int",{enumerable:!0,get:function(){return L.Int}});Object.defineProperty(N,"Int8",{enumerable:!0,get:function(){return L.Int8}});Object.defineProperty(N,"Int16",{enumerable:!0,get:function(){return L.Int16}});Object.defineProperty(N,"Int32",{enumerable:!0,get:function(){return L.Int32}});Object.defineProperty(N,"Int64",{enumerable:!0,get:function(){return L.Int64}});Object.defineProperty(N,"Uint8",{enumerable:!0,get:function(){return L.Uint8}});Object.defineProperty(N,"Uint16",{enumerable:!0,get:function(){return L.Uint16}});Object.defineProperty(N,"Uint32",{enumerable:!0,get:function(){return L.Uint32}});Object.defineProperty(N,"Uint64",{enumerable:!0,get:function(){return L.Uint64}});Object.defineProperty(N,"Float",{enumerable:!0,get:function(){return L.Float}});Object.defineProperty(N,"Float16",{enumerable:!0,get:function(){return L.Float16}});Object.defineProperty(N,"Float32",{enumerable:!0,get:function(){return L.Float32}});Object.defineProperty(N,"Float64",{enumerable:!0,get:function(){return L.Float64}});Object.defineProperty(N,"Utf8",{enumerable:!0,get:function(){return L.Utf8}});Object.defineProperty(N,"LargeUtf8",{enumerable:!0,get:function(){return L.LargeUtf8}});Object.defineProperty(N,"Binary",{enumerable:!0,get:function(){return L.Binary}});Object.defineProperty(N,"LargeBinary",{enumerable:!0,get:function(){return L.LargeBinary}});Object.defineProperty(N,"FixedSizeBinary",{enumerable:!0,get:function(){return L.FixedSizeBinary}});Object.defineProperty(N,"Date_",{enumerable:!0,get:function(){return L.Date_}});Object.defineProperty(N,"DateDay",{enumerable:!0,get:function(){return L.DateDay}});Object.defineProperty(N,"DateMillisecond",{enumerable:!0,get:function(){return L.DateMillisecond}});Object.defineProperty(N,"Timestamp",{enumerable:!0,get:function(){return L.Timestamp}});Object.defineProperty(N,"TimestampSecond",{enumerable:!0,get:function(){return L.TimestampSecond}});Object.defineProperty(N,"TimestampMillisecond",{enumerable:!0,get:function(){return L.TimestampMillisecond}});Object.defineProperty(N,"TimestampMicrosecond",{enumerable:!0,get:function(){return L.TimestampMicrosecond}});Object.defineProperty(N,"TimestampNanosecond",{enumerable:!0,get:function(){return L.TimestampNanosecond}});Object.defineProperty(N,"Time",{enumerable:!0,get:function(){return L.Time}});Object.defineProperty(N,"TimeSecond",{enumerable:!0,get:function(){return L.TimeSecond}});Object.defineProperty(N,"TimeMillisecond",{enumerable:!0,get:function(){return L.TimeMillisecond}});Object.defineProperty(N,"TimeMicrosecond",{enumerable:!0,get:function(){return L.TimeMicrosecond}});Object.defineProperty(N,"TimeNanosecond",{enumerable:!0,get:function(){return L.TimeNanosecond}});Object.defineProperty(N,"Decimal",{enumerable:!0,get:function(){return L.Decimal}});Object.defineProperty(N,"List",{enumerable:!0,get:function(){return L.List}});Object.defineProperty(N,"Struct",{enumerable:!0,get:function(){return L.Struct}});Object.defineProperty(N,"StructRow",{enumerable:!0,get:function(){return L.StructRow}});Object.defineProperty(N,"Union",{enumerable:!0,get:function(){return L.Union}});Object.defineProperty(N,"DenseUnion",{enumerable:!0,get:function(){return L.DenseUnion}});Object.defineProperty(N,"SparseUnion",{enumerable:!0,get:function(){return L.SparseUnion}});Object.defineProperty(N,"Dictionary",{enumerable:!0,get:function(){return L.Dictionary}});Object.defineProperty(N,"Interval",{enumerable:!0,get:function(){return L.Interval}});Object.defineProperty(N,"IntervalDayTime",{enumerable:!0,get:function(){return L.IntervalDayTime}});Object.defineProperty(N,"IntervalYearMonth",{enumerable:!0,get:function(){return L.IntervalYearMonth}});Object.defineProperty(N,"Duration",{enumerable:!0,get:function(){return L.Duration}});Object.defineProperty(N,"DurationSecond",{enumerable:!0,get:function(){return L.DurationSecond}});Object.defineProperty(N,"DurationMillisecond",{enumerable:!0,get:function(){return L.DurationMillisecond}});Object.defineProperty(N,"DurationMicrosecond",{enumerable:!0,get:function(){return L.DurationMicrosecond}});Object.defineProperty(N,"DurationNanosecond",{enumerable:!0,get:function(){return L.DurationNanosecond}});Object.defineProperty(N,"FixedSizeList",{enumerable:!0,get:function(){return L.FixedSizeList}});Object.defineProperty(N,"Map_",{enumerable:!0,get:function(){return L.Map_}});Object.defineProperty(N,"MapRow",{enumerable:!0,get:function(){return L.MapRow}});Object.defineProperty(N,"Table",{enumerable:!0,get:function(){return L.Table}});Object.defineProperty(N,"makeTable",{enumerable:!0,get:function(){return L.makeTable}});Object.defineProperty(N,"tableFromArrays",{enumerable:!0,get:function(){return L.tableFromArrays}});Object.defineProperty(N,"Schema",{enumerable:!0,get:function(){return L.Schema}});Object.defineProperty(N,"Field",{enumerable:!0,get:function(){return L.Field}});Object.defineProperty(N,"Visitor",{enumerable:!0,get:function(){return L.Visitor}});Object.defineProperty(N,"Vector",{enumerable:!0,get:function(){return L.Vector}});Object.defineProperty(N,"makeVector",{enumerable:!0,get:function(){return L.makeVector}});Object.defineProperty(N,"vectorFromArray",{enumerable:!0,get:function(){return L.vectorFromArray}});Object.defineProperty(N,"tableFromJSON",{enumerable:!0,get:function(){return L.tableFromJSON}});Object.defineProperty(N,"ByteStream",{enumerable:!0,get:function(){return L.ByteStream}});Object.defineProperty(N,"AsyncByteStream",{enumerable:!0,get:function(){return L.AsyncByteStream}});Object.defineProperty(N,"AsyncByteQueue",{enumerable:!0,get:function(){return L.AsyncByteQueue}});Object.defineProperty(N,"RecordBatchReader",{enumerable:!0,get:function(){return L.RecordBatchReader}});Object.defineProperty(N,"RecordBatchFileReader",{enumerable:!0,get:function(){return L.RecordBatchFileReader}});Object.defineProperty(N,"RecordBatchStreamReader",{enumerable:!0,get:function(){return L.RecordBatchStreamReader}});Object.defineProperty(N,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return L.AsyncRecordBatchFileReader}});Object.defineProperty(N,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return L.AsyncRecordBatchStreamReader}});Object.defineProperty(N,"RecordBatchWriter",{enumerable:!0,get:function(){return L.RecordBatchWriter}});Object.defineProperty(N,"RecordBatchFileWriter",{enumerable:!0,get:function(){return L.RecordBatchFileWriter}});Object.defineProperty(N,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return L.RecordBatchStreamWriter}});Object.defineProperty(N,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return L.RecordBatchJSONWriter}});Object.defineProperty(N,"tableFromIPC",{enumerable:!0,get:function(){return L.tableFromIPC}});Object.defineProperty(N,"tableToIPC",{enumerable:!0,get:function(){return L.tableToIPC}});Object.defineProperty(N,"MessageReader",{enumerable:!0,get:function(){return L.MessageReader}});Object.defineProperty(N,"AsyncMessageReader",{enumerable:!0,get:function(){return L.AsyncMessageReader}});Object.defineProperty(N,"JSONMessageReader",{enumerable:!0,get:function(){return L.JSONMessageReader}});Object.defineProperty(N,"Message",{enumerable:!0,get:function(){return L.Message}});Object.defineProperty(N,"RecordBatch",{enumerable:!0,get:function(){return L.RecordBatch}});Object.defineProperty(N,"util",{enumerable:!0,get:function(){return L.util}});Object.defineProperty(N,"Builder",{enumerable:!0,get:function(){return L.Builder}});Object.defineProperty(N,"makeBuilder",{enumerable:!0,get:function(){return L.makeBuilder}});Object.defineProperty(N,"builderThroughIterable",{enumerable:!0,get:function(){return L.builderThroughIterable}});Object.defineProperty(N,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return L.builderThroughAsyncIterable}});var g=w4();Object.defineProperty(N,"BinaryBuilder",{enumerable:!0,get:function(){return g.BinaryBuilder}});Object.defineProperty(N,"LargeBinaryBuilder",{enumerable:!0,get:function(){return g.LargeBinaryBuilder}});Object.defineProperty(N,"BoolBuilder",{enumerable:!0,get:function(){return g.BoolBuilder}});Object.defineProperty(N,"DateBuilder",{enumerable:!0,get:function(){return g.DateBuilder}});Object.defineProperty(N,"DateDayBuilder",{enumerable:!0,get:function(){return g.DateDayBuilder}});Object.defineProperty(N,"DateMillisecondBuilder",{enumerable:!0,get:function(){return g.DateMillisecondBuilder}});Object.defineProperty(N,"DecimalBuilder",{enumerable:!0,get:function(){return g.DecimalBuilder}});Object.defineProperty(N,"DictionaryBuilder",{enumerable:!0,get:function(){return g.DictionaryBuilder}});Object.defineProperty(N,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return g.FixedSizeBinaryBuilder}});Object.defineProperty(N,"FixedSizeListBuilder",{enumerable:!0,get:function(){return g.FixedSizeListBuilder}});Object.defineProperty(N,"FloatBuilder",{enumerable:!0,get:function(){return g.FloatBuilder}});Object.defineProperty(N,"Float16Builder",{enumerable:!0,get:function(){return g.Float16Builder}});Object.defineProperty(N,"Float32Builder",{enumerable:!0,get:function(){return g.Float32Builder}});Object.defineProperty(N,"Float64Builder",{enumerable:!0,get:function(){return g.Float64Builder}});Object.defineProperty(N,"IntervalBuilder",{enumerable:!0,get:function(){return g.IntervalBuilder}});Object.defineProperty(N,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return g.IntervalDayTimeBuilder}});Object.defineProperty(N,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return g.IntervalYearMonthBuilder}});Object.defineProperty(N,"DurationBuilder",{enumerable:!0,get:function(){return g.DurationBuilder}});Object.defineProperty(N,"DurationSecondBuilder",{enumerable:!0,get:function(){return g.DurationSecondBuilder}});Object.defineProperty(N,"DurationMillisecondBuilder",{enumerable:!0,get:function(){return g.DurationMillisecondBuilder}});Object.defineProperty(N,"DurationMicrosecondBuilder",{enumerable:!0,get:function(){return g.DurationMicrosecondBuilder}});Object.defineProperty(N,"DurationNanosecondBuilder",{enumerable:!0,get:function(){return g.DurationNanosecondBuilder}});Object.defineProperty(N,"IntBuilder",{enumerable:!0,get:function(){return g.IntBuilder}});Object.defineProperty(N,"Int8Builder",{enumerable:!0,get:function(){return g.Int8Builder}});Object.defineProperty(N,"Int16Builder",{enumerable:!0,get:function(){return g.Int16Builder}});Object.defineProperty(N,"Int32Builder",{enumerable:!0,get:function(){return g.Int32Builder}});Object.defineProperty(N,"Int64Builder",{enumerable:!0,get:function(){return g.Int64Builder}});Object.defineProperty(N,"Uint8Builder",{enumerable:!0,get:function(){return g.Uint8Builder}});Object.defineProperty(N,"Uint16Builder",{enumerable:!0,get:function(){return g.Uint16Builder}});Object.defineProperty(N,"Uint32Builder",{enumerable:!0,get:function(){return g.Uint32Builder}});Object.defineProperty(N,"Uint64Builder",{enumerable:!0,get:function(){return g.Uint64Builder}});Object.defineProperty(N,"ListBuilder",{enumerable:!0,get:function(){return g.ListBuilder}});Object.defineProperty(N,"MapBuilder",{enumerable:!0,get:function(){return g.MapBuilder}});Object.defineProperty(N,"NullBuilder",{enumerable:!0,get:function(){return g.NullBuilder}});Object.defineProperty(N,"StructBuilder",{enumerable:!0,get:function(){return g.StructBuilder}});Object.defineProperty(N,"TimestampBuilder",{enumerable:!0,get:function(){return g.TimestampBuilder}});Object.defineProperty(N,"TimestampSecondBuilder",{enumerable:!0,get:function(){return g.TimestampSecondBuilder}});Object.defineProperty(N,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return g.TimestampMillisecondBuilder}});Object.defineProperty(N,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return g.TimestampMicrosecondBuilder}});Object.defineProperty(N,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return g.TimestampNanosecondBuilder}});Object.defineProperty(N,"TimeBuilder",{enumerable:!0,get:function(){return g.TimeBuilder}});Object.defineProperty(N,"TimeSecondBuilder",{enumerable:!0,get:function(){return g.TimeSecondBuilder}});Object.defineProperty(N,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return g.TimeMillisecondBuilder}});Object.defineProperty(N,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return g.TimeMicrosecondBuilder}});Object.defineProperty(N,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return g.TimeNanosecondBuilder}});Object.defineProperty(N,"UnionBuilder",{enumerable:!0,get:function(){return g.UnionBuilder}});Object.defineProperty(N,"DenseUnionBuilder",{enumerable:!0,get:function(){return g.DenseUnionBuilder}});Object.defineProperty(N,"SparseUnionBuilder",{enumerable:!0,get:function(){return g.SparseUnionBuilder}});Object.defineProperty(N,"Utf8Builder",{enumerable:!0,get:function(){return g.Utf8Builder}});Object.defineProperty(N,"LargeUtf8Builder",{enumerable:!0,get:function(){return g.LargeUtf8Builder}})});var aX=F((Am,YR)=>{var{create:pB,defineProperty:i$,getOwnPropertyDescriptor:dB,getOwnPropertyNames:lB,getPrototypeOf:nB}=Object,aB=Object.prototype.hasOwnProperty,oB=(Z,X)=>()=>(X||Z((X={exports:{}}).exports,X),X.exports),iB=(Z,X)=>{for(var $ in X)i$(Z,$,{get:X[$],enumerable:!0})},fN=(Z,X,$,Y)=>{if(X&&typeof X=="object"||typeof X=="function")for(let Q of lB(X))!aB.call(Z,Q)&&Q!==$&&i$(Z,Q,{get:()=>X[Q],enumerable:!(Y=dB(X,Q))||Y.enumerable});return Z},x4=(Z,X,$)=>($=Z!=null?pB(nB(Z)):{},fN(X||!Z||!Z.__esModule?i$($,"default",{value:Z,enumerable:!0}):$,Z)),sB=(Z)=>fN(i$({},"__esModule",{value:!0}),Z),rB=oB((Z,X)=>{X.exports=Worker}),_N={};iB(_N,{AsyncDuckDB:()=>WI,AsyncDuckDBConnection:()=>oN,AsyncDuckDBDispatcher:()=>KI,AsyncPreparedStatement:()=>iN,AsyncResultStreamIterator:()=>y4,ConsoleLogger:()=>eB,DuckDBAccessMode:()=>bN,DuckDBDataProtocol:()=>tN,IsArrowBuffer:()=>QI,IsDuckDBWasmRetry:()=>HI,LogEvent:()=>lN,LogLevel:()=>pN,LogOrigin:()=>nN,LogTopic:()=>dN,PACKAGE_NAME:()=>eN,PACKAGE_VERSION:()=>ZR,PACKAGE_VERSION_MAJOR:()=>RI,PACKAGE_VERSION_MINOR:()=>zI,PACKAGE_VERSION_PATCH:()=>FI,StatusCode:()=>aN,TokenType:()=>uN,VoidLogger:()=>tB,WorkerRequestType:()=>sN,WorkerResponseType:()=>rN,WorkerTask:()=>l,createWorker:()=>DI,getJsDelivrBundles:()=>MI,getLogEventLabel:()=>XI,getLogLevelLabel:()=>ZI,getLogOriginLabel:()=>YI,getLogTopicLabel:()=>$I,getPlatformFeatures:()=>$R,isFirefox:()=>UI,isNode:()=>f4,isSafari:()=>LI,selectBundle:()=>AI});YR.exports=sB(_N);var bN=((Z)=>(Z[Z.UNDEFINED=0]="UNDEFINED",Z[Z.AUTOMATIC=1]="AUTOMATIC",Z[Z.READ_ONLY=2]="READ_ONLY",Z[Z.READ_WRITE=3]="READ_WRITE",Z))(bN||{}),uN=((Z)=>(Z[Z.IDENTIFIER=0]="IDENTIFIER",Z[Z.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",Z[Z.STRING_CONSTANT=2]="STRING_CONSTANT",Z[Z.OPERATOR=3]="OPERATOR",Z[Z.KEYWORD=4]="KEYWORD",Z[Z.COMMENT=5]="COMMENT",Z))(uN||{}),pN=((Z)=>(Z[Z.NONE=0]="NONE",Z[Z.DEBUG=1]="DEBUG",Z[Z.INFO=2]="INFO",Z[Z.WARNING=3]="WARNING",Z[Z.ERROR=4]="ERROR",Z))(pN||{}),dN=((Z)=>(Z[Z.NONE=0]="NONE",Z[Z.CONNECT=1]="CONNECT",Z[Z.DISCONNECT=2]="DISCONNECT",Z[Z.OPEN=3]="OPEN",Z[Z.QUERY=4]="QUERY",Z[Z.INSTANTIATE=5]="INSTANTIATE",Z))(dN||{}),lN=((Z)=>(Z[Z.NONE=0]="NONE",Z[Z.OK=1]="OK",Z[Z.ERROR=2]="ERROR",Z[Z.START=3]="START",Z[Z.RUN=4]="RUN",Z[Z.CAPTURE=5]="CAPTURE",Z))(lN||{}),nN=((Z)=>(Z[Z.NONE=0]="NONE",Z[Z.WEB_WORKER=1]="WEB_WORKER",Z[Z.NODE_WORKER=2]="NODE_WORKER",Z[Z.BINDINGS=3]="BINDINGS",Z[Z.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",Z))(nN||{}),tB=class{log(Z){}},eB=class{constructor(Z=2){this.level=Z}log(Z){Z.level>=this.level&&console.log(Z)}};function ZI(Z){switch(Z){case 0:return"NONE";case 1:return"DEBUG";case 2:return"INFO";case 3:return"WARNING";case 4:return"ERROR";default:return"?"}}function XI(Z){switch(Z){case 0:return"NONE";case 1:return"OK";case 2:return"ERROR";case 3:return"START";case 4:return"RUN";case 5:return"CAPTURE";default:return"?"}}function $I(Z){switch(Z){case 1:return"CONNECT";case 2:return"DISCONNECT";case 5:return"INSTANTIATE";case 3:return"OPEN";case 4:return"QUERY";default:return"?"}}function YI(Z){switch(Z){case 0:return"NONE";case 1:return"WEB WORKER";case 2:return"NODE WORKER";case 3:return"DUCKDB BINDINGS";case 4:return"DUCKDB";default:return"?"}}var aN=((Z)=>(Z[Z.SUCCESS=0]="SUCCESS",Z[Z.MAX_ARROW_ERROR=255]="MAX_ARROW_ERROR",Z[Z.DUCKDB_WASM_RETRY=256]="DUCKDB_WASM_RETRY",Z))(aN||{});function QI(Z){return Z<=255}function HI(Z){return Z===256}var q6=x4(a$()),oN=class{constructor(Z,X){this._bindings=Z,this._conn=X}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(Z){return Z(this._bindings,this._conn)}async query(Z){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:Z});let X=await this._bindings.runQuery(this._conn,Z),$=q6.RecordBatchReader.from(X);return console.assert($.isSync(),"Reader is not sync"),console.assert($.isFile(),"Reader is not file"),new q6.Table($)}async send(Z,X=!1){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:Z});let $=await this._bindings.startPendingQuery(this._conn,Z,X);for(;$==null;)$=await this._bindings.pollPendingQuery(this._conn);let Y=new y4(this._bindings,this._conn,$),Q=await q6.RecordBatchReader.from(Y);return console.assert(Q.isAsync()),console.assert(Q.isStream()),Q}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(Z){return await this._bindings.getTableNames(this._conn,Z)}async prepare(Z){let X=await this._bindings.createPrepared(this._conn,Z);return new iN(this._bindings,this._conn,X)}async insertArrowTable(Z,X){let $=q6.tableToIPC(Z,"stream");await this.insertArrowFromIPCStream($,X)}async insertArrowFromIPCStream(Z,X){await this._bindings.insertArrowFromIPCStream(this._conn,Z,X)}async insertCSVFromPath(Z,X){await this._bindings.insertCSVFromPath(this._conn,Z,X)}async insertJSONFromPath(Z,X){await this._bindings.insertJSONFromPath(this._conn,Z,X)}},y4=class{constructor(Z,X,$){this.db=Z,this.conn=X,this.header=$,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let Z=null;for(this._inFlight!=null&&(Z=await this._inFlight,this._inFlight=null);Z==null;)Z=await this.db.fetchQueryResults(this.conn);return this._depleted=Z.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:Z}}[Symbol.asyncIterator](){return this}},iN=class{constructor(Z,X,$){this.bindings=Z,this.connectionId=X,this.statementId=$}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...Z){let X=await this.bindings.runPrepared(this.connectionId,this.statementId,Z),$=q6.RecordBatchReader.from(X);return console.assert($.isSync()),console.assert($.isFile()),new q6.Table($)}async send(...Z){let X=await this.bindings.sendPrepared(this.connectionId,this.statementId,Z),$=new y4(this.bindings,this.connectionId,X),Y=await q6.RecordBatchReader.from($);return console.assert(Y.isAsync()),console.assert(Y.isStream()),Y}},sN=((Z)=>(Z.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",Z.CLOSE_PREPARED="CLOSE_PREPARED",Z.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",Z.REGISTER_OPFS_FILE_NAME="REGISTER_OPFS_FILE_NAME",Z.CONNECT="CONNECT",Z.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",Z.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",Z.CREATE_PREPARED="CREATE_PREPARED",Z.DISCONNECT="DISCONNECT",Z.DROP_FILE="DROP_FILE",Z.DROP_FILES="DROP_FILES",Z.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",Z.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",Z.FLUSH_FILES="FLUSH_FILES",Z.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",Z.GET_TABLE_NAMES="GET_TABLE_NAMES",Z.GET_VERSION="GET_VERSION",Z.GLOB_FILE_INFOS="GLOB_FILE_INFOS",Z.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",Z.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",Z.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",Z.INSTANTIATE="INSTANTIATE",Z.OPEN="OPEN",Z.PING="PING",Z.POLL_PENDING_QUERY="POLL_PENDING_QUERY",Z.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",Z.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",Z.REGISTER_FILE_URL="REGISTER_FILE_URL",Z.RESET="RESET",Z.RUN_PREPARED="RUN_PREPARED",Z.RUN_QUERY="RUN_QUERY",Z.SEND_PREPARED="SEND_PREPARED",Z.START_PENDING_QUERY="START_PENDING_QUERY",Z.TOKENIZE="TOKENIZE",Z))(sN||{}),rN=((Z)=>(Z.CONNECTION_INFO="CONNECTION_INFO",Z.ERROR="ERROR",Z.FEATURE_FLAGS="FEATURE_FLAGS",Z.FILE_BUFFER="FILE_BUFFER",Z.FILE_INFOS="FILE_INFOS",Z.FILE_SIZE="FILE_SIZE",Z.FILE_STATISTICS="FILE_STATISTICS",Z.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",Z.LOG="LOG",Z.PROGRESS_UPDATE="PROGRESS_UPDATE",Z.OK="OK",Z.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",Z.QUERY_PLAN="QUERY_PLAN",Z.QUERY_RESULT="QUERY_RESULT",Z.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",Z.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",Z.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",Z.REGISTERED_FILE="REGISTERED_FILE",Z.SCRIPT_TOKENS="SCRIPT_TOKENS",Z.SUCCESS="SUCCESS",Z.TABLE_NAMES="TABLE_NAMES",Z.VERSION_STRING="VERSION_STRING",Z))(rN||{}),l=class{constructor(Z,X){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=Z,this.data=X,this.promise=new Promise(($,Y)=>{this.promiseResolver=$,this.promiseRejecter=Y})}},d=x4(a$());function o$(Z){switch(Z.typeId){case d.Type.Binary:return{sqlType:"binary"};case d.Type.Bool:return{sqlType:"bool"};case d.Type.Date:return{sqlType:"date"};case d.Type.DateDay:return{sqlType:"date32[d]"};case d.Type.DateMillisecond:return{sqlType:"date64[ms]"};case d.Type.Decimal:{let X=Z;return{sqlType:"decimal",precision:X.precision,scale:X.scale}}case d.Type.Float:return{sqlType:"float"};case d.Type.Float16:return{sqlType:"float16"};case d.Type.Float32:return{sqlType:"float32"};case d.Type.Float64:return{sqlType:"float64"};case d.Type.Int:return{sqlType:"int32"};case d.Type.Int16:return{sqlType:"int16"};case d.Type.Int32:return{sqlType:"int32"};case d.Type.Int64:return{sqlType:"int64"};case d.Type.Uint16:return{sqlType:"uint16"};case d.Type.Uint32:return{sqlType:"uint32"};case d.Type.Uint64:return{sqlType:"uint64"};case d.Type.Uint8:return{sqlType:"uint8"};case d.Type.IntervalDayTime:return{sqlType:"interval[dt]"};case d.Type.IntervalYearMonth:return{sqlType:"interval[m]"};case d.Type.List:return{sqlType:"list",valueType:o$(Z.valueType)};case d.Type.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:Z.byteWidth};case d.Type.Null:return{sqlType:"null"};case d.Type.Utf8:return{sqlType:"utf8"};case d.Type.Struct:return{sqlType:"struct",fields:Z.children.map((X)=>j4(X.name,X.type))};case d.Type.Map:{let X=Z;return{sqlType:"map",keyType:o$(X.keyType),valueType:o$(X.valueType)}}case d.Type.Time:return{sqlType:"time[s]"};case d.Type.TimeMicrosecond:return{sqlType:"time[us]"};case d.Type.TimeMillisecond:return{sqlType:"time[ms]"};case d.Type.TimeNanosecond:return{sqlType:"time[ns]"};case d.Type.TimeSecond:return{sqlType:"time[s]"};case d.Type.Timestamp:return{sqlType:"timestamp",timezone:Z.timezone||void 0};case d.Type.TimestampSecond:return{sqlType:"timestamp[s]",timezone:Z.timezone||void 0};case d.Type.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:Z.timezone||void 0};case d.Type.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:Z.timezone||void 0};case d.Type.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:Z.timezone||void 0}}throw Error("unsupported arrow type: ".concat(Z.toString()))}function j4(Z,X){let $=o$(X);return $.name=Z,$}var qI=new TextEncoder,WI=class{constructor(Z,X=null){this._onInstantiationProgress=[],this._onExecutionProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=Z,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),X!=null&&this.attach(X)}get logger(){return this._logger}attach(Z){this._worker=Z,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((X,$)=>{this._workerShutdownResolver=X})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(Z,X=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let $=this._nextMessageId++;return this._pendingRequests.set($,Z),this._worker.postMessage({messageId:$,type:Z.type,data:Z.data},X),await Z.promise}onMessage(Z){var X;let $=Z.data;switch($.type){case"PROGRESS_UPDATE":{for(let Q of this._onExecutionProgress)Q($.data);return}case"LOG":{this._logger.log($.data);return}case"INSTANTIATE_PROGRESS":{for(let Q of this._onInstantiationProgress)Q($.data);return}}let Y=this._pendingRequests.get($.requestId);if(!Y){console.warn("unassociated response: [".concat($.requestId,", ").concat($.type.toString(),"]"));return}if(this._pendingRequests.delete($.requestId),$.type=="ERROR"){let Q=Error($.data.message);Q.name=$.data.name,(X=Object.getOwnPropertyDescriptor(Q,"stack"))!=null&&X.writable&&(Q.stack=$.data.stack),Y.promiseRejecter(Q);return}switch(Y.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"REGISTER_OPFS_FILE_NAME":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if($.type=="OK"){Y.promiseResolver($.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],$.type=="OK"){Y.promiseResolver($.data);return}break;case"GLOB_FILE_INFOS":if($.type=="FILE_INFOS"){Y.promiseResolver($.data);return}break;case"GET_VERSION":if($.type=="VERSION_STRING"){Y.promiseResolver($.data);return}break;case"GET_FEATURE_FLAGS":if($.type=="FEATURE_FLAGS"){Y.promiseResolver($.data);return}break;case"GET_TABLE_NAMES":if($.type=="TABLE_NAMES"){Y.promiseResolver($.data);return}break;case"TOKENIZE":if($.type=="SCRIPT_TOKENS"){Y.promiseResolver($.data);return}break;case"COPY_FILE_TO_BUFFER":if($.type=="FILE_BUFFER"){Y.promiseResolver($.data);return}break;case"EXPORT_FILE_STATISTICS":if($.type=="FILE_STATISTICS"){Y.promiseResolver($.data);return}break;case"CONNECT":if($.type=="CONNECTION_INFO"){Y.promiseResolver($.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if($.type=="QUERY_RESULT"){Y.promiseResolver($.data);return}break;case"SEND_PREPARED":if($.type=="QUERY_RESULT_HEADER"){Y.promiseResolver($.data);return}break;case"START_PENDING_QUERY":if($.type=="QUERY_RESULT_HEADER_OR_NULL"){Y.promiseResolver($.data);return}break;case"POLL_PENDING_QUERY":if($.type=="QUERY_RESULT_HEADER_OR_NULL"){Y.promiseResolver($.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],$.type=="SUCCESS"){Y.promiseResolver($.data);return}break;case"FETCH_QUERY_RESULTS":if($.type=="QUERY_RESULT_CHUNK"){Y.promiseResolver($.data);return}break;case"CREATE_PREPARED":if($.type=="PREPARED_STATEMENT_ID"){Y.promiseResolver($.data);return}break}Y.promiseRejecter(Error("unexpected response type: ".concat($.type.toString())))}onError(Z){console.error(Z),console.error("error in duckdb worker: ".concat(Z.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}async reset(){let Z=new l("RESET",null);return await this.postTask(Z)}async ping(){let Z=new l("PING",null);await this.postTask(Z)}async dropFile(Z){let X=new l("DROP_FILE",Z);return await this.postTask(X)}async dropFiles(){let Z=new l("DROP_FILES",null);return await this.postTask(Z)}async flushFiles(){let Z=new l("FLUSH_FILES",null);return await this.postTask(Z)}async instantiate(Z,X=null,$=(Y)=>{}){this._onInstantiationProgress.push($);let Y=new l("INSTANTIATE",[Z,X]);return await this.postTask(Y)}async getVersion(){let Z=new l("GET_VERSION",null);return await this.postTask(Z)}async getFeatureFlags(){let Z=new l("GET_FEATURE_FLAGS",null);return await this.postTask(Z)}async open(Z){let X=new l("OPEN",Z);await this.postTask(X)}async tokenize(Z){let X=new l("TOKENIZE",Z);return await this.postTask(X)}async connectInternal(){let Z=new l("CONNECT",null);return await this.postTask(Z)}async connect(){let Z=await this.connectInternal();return new oN(this,Z)}async disconnect(Z){let X=new l("DISCONNECT",Z);await this.postTask(X)}async runQuery(Z,X){let $=new l("RUN_QUERY",[Z,X]);return await this.postTask($)}async startPendingQuery(Z,X,$=!1){let Y=new l("START_PENDING_QUERY",[Z,X,$]);return await this.postTask(Y)}async pollPendingQuery(Z){let X=new l("POLL_PENDING_QUERY",Z);return await this.postTask(X)}async cancelPendingQuery(Z){let X=new l("CANCEL_PENDING_QUERY",Z);return await this.postTask(X)}async fetchQueryResults(Z){let X=new l("FETCH_QUERY_RESULTS",Z);return await this.postTask(X)}async getTableNames(Z,X){let $=new l("GET_TABLE_NAMES",[Z,X]);return await this.postTask($)}async createPrepared(Z,X){let $=new l("CREATE_PREPARED",[Z,X]);return await this.postTask($)}async closePrepared(Z,X){let $=new l("CLOSE_PREPARED",[Z,X]);await this.postTask($)}async runPrepared(Z,X,$){let Y=new l("RUN_PREPARED",[Z,X,$]);return await this.postTask(Y)}async sendPrepared(Z,X,$){let Y=new l("SEND_PREPARED",[Z,X,$]);return await this.postTask(Y)}async globFiles(Z){let X=new l("GLOB_FILE_INFOS",Z);return await this.postTask(X)}async registerFileText(Z,X){let $=qI.encode(X);await this.registerFileBuffer(Z,$)}async registerFileURL(Z,X,$,Y){X===void 0&&(X=Z);let Q=new l("REGISTER_FILE_URL",[Z,X,$,Y]);await this.postTask(Q)}async registerEmptyFileBuffer(Z){}async registerFileBuffer(Z,X){let $=new l("REGISTER_FILE_BUFFER",[Z,X]);await this.postTask($,[X.buffer])}async registerFileHandle(Z,X,$,Y){let Q=new l("REGISTER_FILE_HANDLE",[Z,X,$,Y]);await this.postTask(Q,[])}async registerOPFSFileName(Z){let X=new l("REGISTER_OPFS_FILE_NAME",[Z]);await this.postTask(X,[])}async collectFileStatistics(Z,X){let $=new l("COLLECT_FILE_STATISTICS",[Z,X]);await this.postTask($,[])}async exportFileStatistics(Z){let X=new l("EXPORT_FILE_STATISTICS",Z);return await this.postTask(X,[])}async copyFileToBuffer(Z){let X=new l("COPY_FILE_TO_BUFFER",Z);return await this.postTask(X)}async copyFileToPath(Z,X){let $=new l("COPY_FILE_TO_PATH",[Z,X]);await this.postTask($)}async insertArrowFromIPCStream(Z,X,$){if(X.length==0)return;let Y=new l("INSERT_ARROW_FROM_IPC_STREAM",[Z,X,$]);await this.postTask(Y,[X.buffer])}async insertCSVFromPath(Z,X,$){if($.columns!==void 0){let Q=[];for(let H in $.columns){let q=$.columns[H];Q.push(j4(H,q))}$.columnsFlat=Q,delete $.columns}let Y=new l("IMPORT_CSV_FROM_PATH",[Z,X,$]);await this.postTask(Y)}async insertJSONFromPath(Z,X,$){if($.columns!==void 0){let Q=[];for(let H in $.columns){let q=$.columns[H];Q.push(j4(H,q))}$.columnsFlat=Q,delete $.columns}let Y=new l("IMPORT_JSON_FROM_PATH",[Z,X,$]);await this.postTask(Y)}};function JI(){let Z=new TextDecoder;return(X)=>(typeof SharedArrayBuffer<"u"&&X.buffer instanceof SharedArrayBuffer&&(X=new Uint8Array(X)),Z.decode(X))}var Mm=JI(),tN=((Z)=>(Z[Z.BUFFER=0]="BUFFER",Z[Z.NODE_FS=1]="NODE_FS",Z[Z.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",Z[Z.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",Z[Z.HTTP=4]="HTTP",Z[Z.S3=5]="S3",Z))(tN||{}),KI=class{constructor(){this._bindings=null,this._nextMessageId=0}log(Z){this.postMessage({messageId:this._nextMessageId++,requestId:0,type:"LOG",data:Z},[])}sendOK(Z){this.postMessage({messageId:this._nextMessageId++,requestId:Z.messageId,type:"OK",data:null},[])}failWith(Z,X){let $={name:X.name,message:X.message,stack:X.stack||void 0};this.postMessage({messageId:this._nextMessageId++,requestId:Z.messageId,type:"ERROR",data:$},[])}async onMessage(Z){switch(Z.type){case"PING":this.sendOK(Z);return;case"INSTANTIATE":this._bindings!=null&&this.failWith(Z,Error("duckdb already initialized"));try{this._bindings=await this.instantiate(Z.data[0],Z.data[1],(X)=>{this.postMessage({messageId:this._nextMessageId++,requestId:Z.messageId,type:"INSTANTIATE_PROGRESS",data:X},[])}),this.sendOK(Z)}catch(X){console.log(X),this._bindings=null,this.failWith(Z,X)}return;default:break}if(!this._bindings)return this.failWith(Z,Error("duckdb is not initialized"));try{switch(Z.type){case"GET_VERSION":this.postMessage({messageId:this._nextMessageId++,requestId:Z.messageId,type:"VERSION_STRING",data:this._bindings.getVersion()},[]);break;case"GET_FEATURE_FLAGS":this.postMessage({messageId:this._nextMessageId++,requestId:Z.messageId,type:"FEATURE_FLAGS",data:this._bindings.getFeatureFlags()},[]);break;case"RESET":this._bindings.reset(),this.sendOK(Z);break;case"OPEN":{let X=Z.data.path;X!=null&&X.startsWith("opfs://")&&(await this._bindings.prepareDBFileHandle(X,3),Z.data.useDirectIO=!0),this._bindings.open(Z.data),this.sendOK(Z);break}case"DROP_FILE":this._bindings.dropFile(Z.data),this.sendOK(Z);break;case"DROP_FILES":this._bindings.dropFiles(),this.sendOK(Z);break;case"FLUSH_FILES":this._bindings.flushFiles(),this.sendOK(Z);break;case"CONNECT":{let X=this._bindings.connect();this.postMessage({messageId:this._nextMessageId++,requestId:Z.messageId,type:"CONNECTION_INFO",data:X.useUnsafe(($,Y)=>Y)},[]);break}case"DISCONNECT":this._bindings.disconnect(Z.data),this.sendOK(Z);break;case"CREATE_PREPARED":{let X=this._bindings.createPrepared(Z.data[0],Z.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:Z.messageId,type:"PREPARED_STATEMENT_ID",data:X},[]);break}case"CLOSE_PREPARED":{this._bindings.closePrepared(Z.data[0],Z.data[1]),this.sendOK(Z);break}case"RUN_PREPARED":{let X=this._bindings.runPrepared(Z.data[0],Z.data[1],Z.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:Z.messageId,type:"QUERY_RESULT",data:X},[X.buffer]);break}case"RUN_QUERY":{let X=this._bindings.runQuery(Z.data[0],Z.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:Z.messageId,type:"QUERY_RESULT",data:X},[X.buffer]);break}case"SEND_PREPARED":{let X=this._bindings.sendPrepared(Z.data[0],Z.data[1],Z.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:Z.messageId,type:"QUERY_RESULT_HEADER",data:X},[X.buffer]);break}case"START_PENDING_QUERY":{let X=this._bindings.startPendingQuery(Z.data[0],Z.data[1],Z.data[2]),$=[];X&&$.push(X.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:Z.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:X},$);break}case"POLL_PENDING_QUERY":{let X=this._bindings.pollPendingQuery(Z.data),$=[];X&&$.push(X.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:Z.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:X},$);break}case"CANCEL_PENDING_QUERY":{let X=this._bindings.cancelPendingQuery(Z.data);this.postMessage({messageId:this._nextMessageId++,requestId:Z.messageId,type:"SUCCESS",data:X},[]);break}case"FETCH_QUERY_RESULTS":{let X=this._bindings.fetchQueryResults(Z.data),$=X?[X.buffer]:[];this.postMessage({messageId:this._nextMessageId++,requestId:Z.messageId,type:"QUERY_RESULT_CHUNK",data:X},$);break}case"GET_TABLE_NAMES":{let X=this._bindings.getTableNames(Z.data[0],Z.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:Z.messageId,type:"TABLE_NAMES",data:X},[]);break}case"GLOB_FILE_INFOS":{let X=this._bindings.globFiles(Z.data);this.postMessage({messageId:this._nextMessageId++,requestId:Z.messageId,type:"FILE_INFOS",data:X},[]);break}case"REGISTER_FILE_URL":this._bindings.registerFileURL(Z.data[0],Z.data[1],Z.data[2],Z.data[3]),this.sendOK(Z);break;case"REGISTER_FILE_BUFFER":this._bindings.registerFileBuffer(Z.data[0],Z.data[1]),this.sendOK(Z);break;case"REGISTER_FILE_HANDLE":await this._bindings.registerFileHandleAsync(Z.data[0],Z.data[1],Z.data[2],Z.data[3]),this.sendOK(Z);break;case"COPY_FILE_TO_PATH":this._bindings.copyFileToPath(Z.data[0],Z.data[1]),this.sendOK(Z);break;case"COPY_FILE_TO_BUFFER":{let X=this._bindings.copyFileToBuffer(Z.data);this.postMessage({messageId:this._nextMessageId++,requestId:Z.messageId,type:"FILE_BUFFER",data:X},[]);break}case"COLLECT_FILE_STATISTICS":this._bindings.collectFileStatistics(Z.data[0],Z.data[1]),this.sendOK(Z);break;case"REGISTER_OPFS_FILE_NAME":this._bindings.registerOPFSFileName(Z.data[0]),this.sendOK(Z);break;case"EXPORT_FILE_STATISTICS":{this.postMessage({messageId:this._nextMessageId++,requestId:Z.messageId,type:"FILE_STATISTICS",data:this._bindings.exportFileStatistics(Z.data)},[]);break}case"INSERT_ARROW_FROM_IPC_STREAM":{this._bindings.insertArrowFromIPCStream(Z.data[0],Z.data[1],Z.data[2]),this.sendOK(Z);break}case"IMPORT_CSV_FROM_PATH":{this._bindings.insertCSVFromPath(Z.data[0],Z.data[1],Z.data[2]),this.sendOK(Z);break}case"IMPORT_JSON_FROM_PATH":{this._bindings.insertJSONFromPath(Z.data[0],Z.data[1],Z.data[2]),this.sendOK(Z);break}case"TOKENIZE":{let X=this._bindings.tokenize(Z.data);this.postMessage({messageId:this._nextMessageId++,requestId:Z.messageId,type:"SCRIPT_TOKENS",data:X},[]);break}}}catch(X){return console.log(X),this.failWith(Z,X)}}},PI=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),EI=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),GI=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),NI=()=>(async(Z)=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(Z)}catch(X){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),m4={name:"@duckdb/duckdb-wasm",version:"1.30.0",description:"DuckDB powered by WebAssembly",license:"MIT",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^17.0.0"},devDependencies:{"@types/emscripten":"^1.39.10","@types/jasmine":"^5.1.4","@typescript-eslint/eslint-plugin":"^6.21.0","@typescript-eslint/parser":"^6.21.0",esbuild:"^0.20.2",eslint:"^8.57.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.34.0","fast-glob":"^3.3.2",jasmine:"^5.1.0","jasmine-core":"^5.1.2","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.11.1",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-coverage":"^2.2.1","karma-firefox-launcher":"^2.1.3","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.1.0","karma-sourcemap-loader":"^0.4.0","karma-spec-reporter":"^0.0.36","make-dir":"^4.0.0",nyc:"^15.1.0",prettier:"^3.2.5",puppeteer:"^22.8.0",rimraf:"^5.0.5",s3rver:"^3.7.1",typedoc:"^0.25.13",typescript:"^5.3.3","wasm-feature-detect":"^1.6.1","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",format:'prettier --write "**/*.+(js|ts)"',report:"node ./coverage.mjs","test:node":"node --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/tests-*","!dist/duckdb-browser-mvp.worker.js.map","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-node-blocking.d.ts",import:"./dist/duckdb-node-blocking.mjs",require:"./dist/duckdb-node-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},eN=m4.name,ZR=m4.version,c4=m4.version.split("."),RI=c4[0],zI=c4[1],FI=c4[2],f4=()=>typeof navigator>"u",XR=()=>f4()?"node":navigator.userAgent,UI=()=>XR().includes("Firefox"),LI=()=>/^((?!chrome|android).)*safari/i.test(XR());function MI(){let Z="https://cdn.jsdelivr.net/npm/".concat(eN,"@").concat(ZR,"/dist/");return{mvp:{mainModule:"".concat(Z,"duckdb-mvp.wasm"),mainWorker:"".concat(Z,"duckdb-browser-mvp.worker.js")},eh:{mainModule:"".concat(Z,"duckdb-eh.wasm"),mainWorker:"".concat(Z,"duckdb-browser-eh.worker.js")}}}var V4=null,T4=null,v4=null,g4=null,h4=null;async function $R(){return V4==null&&(V4=typeof BigInt64Array<"u"),T4==null&&(T4=await EI()),v4==null&&(v4=await NI()),g4==null&&(g4=await GI()),h4==null&&(h4=await PI()),{bigInt64Array:V4,crossOriginIsolated:f4()||globalThis.crossOriginIsolated||!1,wasmExceptions:T4,wasmSIMD:g4,wasmThreads:v4,wasmBulkMemory:h4}}async function AI(Z){let X=await $R();if(X.wasmExceptions){if(X.wasmSIMD&&X.wasmThreads&&X.crossOriginIsolated&&Z.coi)return{mainModule:Z.coi.mainModule,mainWorker:Z.coi.mainWorker,pthreadWorker:Z.coi.pthreadWorker};if(Z.eh)return{mainModule:Z.eh.mainModule,mainWorker:Z.eh.mainWorker,pthreadWorker:null}}return{mainModule:Z.mvp.mainModule,mainWorker:Z.mvp.mainWorker,pthreadWorker:null}}var OI=x4(rB());async function DI(Z){let X=new Request(Z),$=await fetch(X),Y=URL.createObjectURL(await $.blob());return new OI.default(Y)}});var _4=F((mI)=>{var zZ=T1(XX(),1);function s6(){return s6=Object.assign||function(Z){for(var X=1;X<arguments.length;X++){var $=arguments[X];for(var Y in $)if(Object.prototype.hasOwnProperty.call($,Y))Z[Y]=$[Y]}return Z},s6.apply(this,arguments)}var Vm=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator",Tm=typeof Symbol<"u"?Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")):"@@asyncIterator";function CI(Z,X){try{var $=Z()}catch(Y){return X(!0,Y)}if($&&$.then)return $.then(X.bind(null,!1),X.bind(null,!0));return X(!1,value)}var wI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?zZ.useLayoutEffect:zZ.useEffect,kI=function(X){var $=zZ.useRef(X);return wI(function(){$.current=X}),zZ.useCallback(function(){return $.current},[$])},SI={status:"not-requested",loading:!1,result:void 0,error:void 0},HR={status:"loading",loading:!0,result:void 0,error:void 0},BI=function(X){return HR},II=function(X,$){return{status:"success",loading:!1,result:X,error:void 0}},VI=function(X,$){return{status:"error",loading:!1,result:void 0,error:X}},QR=function(){},TI={initialState:function(X){return X&&X.executeOnMount?HR:SI},executeOnMount:!0,executeOnUpdate:!0,setLoading:BI,setResult:II,setError:VI,onSuccess:QR,onError:QR},vI=function(X){return s6({},TI,{},X)},gI=function(X){var $=zZ.useState(function(){return X.initialState(X)}),Y=$[0],Q=$[1],H=zZ.useCallback(function(){return Q(X.initialState(X))},[Q,X]),q=zZ.useCallback(function(){return Q(X.setLoading(Y))},[Y,Q]),W=zZ.useCallback(function(E){return Q(X.setResult(E,Y))},[Y,Q]),K=zZ.useCallback(function(E){return Q(X.setError(E,Y))},[Y,Q]),P=zZ.useCallback(function(E){return Q(s6({},Y,{},E))},[Y,Q]);return{value:Y,set:Q,merge:P,reset:H,setLoading:q,setResult:W,setError:K}},hI=function(){var X=zZ.useRef(!1);return zZ.useEffect(function(){return X.current=!0,function(){X.current=!1}},[]),function(){return X.current}},jI=function(){var X=zZ.useRef(null);return{set:function(Y){return X.current=Y},get:function(){return X.current},is:function(Y){return X.current===Y}}},qR=function(X,$,Y){!$&&($=[]);var Q=vI(Y),H=zZ.useState(null),q=H[0],W=H[1],K=gI(Q),P=hI(),E=jI(),U=function(i){return P()&&E.is(i)},_=function(){for(var i=arguments.length,B1=Array(i),P1=0;P1<i;P1++)B1[P1]=arguments[P1];var uZ=function(){try{return Promise.resolve(X.apply(void 0,B1))}catch(Z1){return Promise.reject(Z1)}}();return W(B1),E.set(uZ),K.setLoading(),uZ.then(function(Z1){if(U(uZ))K.setResult(Z1);Q.onSuccess(Z1,{isCurrent:function(){return E.is(uZ)}})},function(Z1){if(U(uZ))K.setError(Z1);Q.onError(Z1,{isCurrent:function(){return E.is(uZ)}})}),uZ},j=kI(_),n=zZ.useCallback(function(){return j().apply(void 0,arguments)},[j]),PZ=!P();return zZ.useEffect(function(){var LZ=function(){return j().apply(void 0,$)};PZ&&Q.executeOnMount&&LZ(),!PZ&&Q.executeOnUpdate&&LZ()},$),s6({},K.value,{set:K.set,merge:K.merge,reset:K.reset,execute:n,currentPromise:E.get(),currentParams:q})};function WR(Z,X,$){return qR(Z,X,$)}var xI=function(X,$,Y){var Q=zZ.useRef(),H=function(){for(var W=arguments.length,K=Array(W),P=0;P<W;P++)K[P]=arguments[P];try{if(Q.current)Q.current.abort();var E=new AbortController;return Q.current=E,Promise.resolve(CI(function(){return Promise.resolve(X.apply(void 0,[E.signal].concat(K)))},function(U,_){if(Q.current===E)Q.current=void 0;if(U)throw _;return _}))}catch(U){return Promise.reject(U)}};return WR(H,$,Y)},yI=function(X,$){return qR(X,[],s6({},$,{executeOnMount:!1,executeOnUpdate:!1}))};mI.useAsync=WR;mI.useAsyncAbortable=xI;mI.useAsyncCallback=yI});var CR=F((gm,DR)=>{var{create:bI,defineProperty:t$,getOwnPropertyDescriptor:uI,getOwnPropertyNames:pI,getPrototypeOf:dI}=Object,lI=Object.prototype.hasOwnProperty,nI=(Z,X)=>{for(var $ in X)t$(Z,$,{get:X[$],enumerable:!0})},JR=(Z,X,$,Y)=>{if(X&&typeof X==="object"||typeof X==="function"){for(let Q of pI(X))if(!lI.call(Z,Q)&&Q!==$)t$(Z,Q,{get:()=>X[Q],enumerable:!(Y=uI(X,Q))||Y.enumerable})}return Z},KR=(Z,X,$)=>($=Z!=null?bI(dI(Z)):{},JR(X||!Z||!Z.__esModule?t$($,"default",{value:Z,enumerable:!0}):$,Z)),aI=(Z)=>JR(t$({},"__esModule",{value:!0}),Z),FZ=(Z,X,$)=>{return new Promise((Y,Q)=>{var H=(K)=>{try{W($.next(K))}catch(P){Q(P)}},q=(K)=>{try{W($.throw(K))}catch(P){Q(P)}},W=(K)=>K.done?Y(K.value):Promise.resolve(K.value).then(H,q);W(($=$.apply(Z,X)).next())})},PR={};nI(PR,{ARROW_MIME_TYPE:()=>zR,AsyncDuckDB:()=>oI.AsyncDuckDB,CSV_MIME_TYPE:()=>LR,InsertFileError:()=>r6,PARQUET_MIME_TYPE:()=>MR,arrayBufferToArrow:()=>n4,arrowToArrayBuffer:()=>UR,arrowToJSON:()=>WV,cardinalities:()=>HV,drop:()=>QV,exportArrow:()=>JV,exportCsv:()=>KV,exportParquet:()=>PV,getDuckDB:()=>GR,getTempFilename:()=>iX,initializeDuckDb:()=>ER,insertArrow:()=>u4,insertArrowTable:()=>OR,insertCSV:()=>b4,insertFile:()=>RV,insertParquet:()=>p4,isArrow:()=>qV,isArrowFile:()=>FR,isParquetFile:()=>AR,runQuery:()=>eZ,useDuckDb:()=>NR,useDuckDbQuery:()=>$V});DR.exports=aI(PR);var oI=aX(),iI=_4(),s$=KR(aX()),sI=aX(),rI="\x1B[31m",tI="\x1B[0m",eI=(Z,X,$=void 0)=>{let Q=($!=null?$:performance.now())-X,H;switch(!0){case Q>=1000:H=`${(Q/1000).toFixed(1)}s`;break;case Q>=1:H=`${Q.toFixed(0)}ms`;break;default:H=`${Q.toFixed(3)}ms`;break}return`${rI}[${H}] ${tI}${Z}`},d4=(Z,X,$=void 0)=>{console.debug(eI(Z,X,$))},r$,oX;function ER(Z){return FZ(this,null,function*(){let{debug:X=!1,config:$}=Z||{};if(r$=X,oX===void 0)oX=ZV($);return oX})}var ZV=(Z)=>FZ(null,null,function*(){let X=performance.now(),$=s$.getJsDelivrBundles(),Y=yield s$.selectBundle($),Q=URL.createObjectURL(new Blob([`importScripts("${Y.mainWorker}");`],{type:"text/javascript"})),H=new Worker(Q),q=r$?new s$.ConsoleLogger:new s$.VoidLogger,W=new sI.AsyncDuckDB(q,H);if(yield W.instantiate(Y.mainModule,Y.pthreadWorker),URL.revokeObjectURL(Q),Z){if(Z.path){let P=yield(yield fetch(Z.path)).arrayBuffer(),E=Z.path.match(/[^/]*$/);if(E)Z.path=E[0];yield W.registerFileBuffer(Z.path,new Uint8Array(P))}yield W.open(Z)}if(r$){if(d4("DuckDB initialized",X),Z)console.debug(`DuckDbConfig: ${JSON.stringify(Z,null,2)}`)}return W}),GR=()=>FZ(null,null,function*(){if(oX)return oX;return yield ER()}),NR=()=>{let{result:Z,loading:X,error:$}=(0,iI.useAsync)(()=>FZ(null,null,function*(){return yield GR()}),[]);return{db:Z,loading:X,error:$}},XV=_4(),eZ=(Z,X)=>FZ(null,null,function*(){let $=performance.now(),Y=yield Z.connect(),Q=yield Y.query(X);return yield Y.close(),r$&&d4(`Run query: ${X}`,$),Q}),$V=(Z)=>{let{db:X}=NR(),{result:$,loading:Y,error:Q}=(0,XV.useAsync)(()=>FZ(null,null,function*(){if(!X||!Z)return;return yield eZ(X,Z)}),[X,Z]);return{arrow:$,loading:Y,error:Q}},YV=(Z,X)=>FZ(null,null,function*(){let $=yield eZ(Z,`select table_type from information_schema.tables where table_name = '${X}'`);if($.numRows===1){let Y=$.get(0),Q=Y==null?void 0:Y.toArray()[0];switch(Q){case"BASE TABLE":return"Table";case"VIEW":return"View";default:throw Error(`Unexpected table type: ${Q}`)}}return}),QV=(Z,X)=>FZ(null,null,function*(){let $=yield YV(Z,X);if($==="Table")yield eZ(Z,`drop table if exists "${X}"`);else if($==="View")yield eZ(Z,`drop view if exists "${X}"`)}),RR=(Z,X)=>FZ(null,null,function*(){let $=yield eZ(Z,`select column_name, data_type from information_schema.columns where table_name = '${X}'`),Y=new Map;for(let Q=0;Q<$.numRows;Q++){let H=$.get(Q);if(H){let[q,W]=H.toArray();Y.set(q,W)}}return Y}),HV=(Z,X)=>FZ(null,null,function*(){let $=yield RR(Z,X),Y=Array.from($.keys()),H=(yield eZ(Z,`select count(distinct columns(*)) from "${X}"`)).get(0);if(!H)throw Error(`Expected a single row of cardinalities: ${X}`);let q=H.toArray();if(q.length!==Y.length)throw Error(`Unexpected length mismatch: ${X}`);let W={};for(let K=0;K<Y.length;K++)W[Y[K]]=q[K];return W}),iX=()=>{let Z=Date.now().toString(),X=Math.random().toString(36).substring(2);return`file-${Z}-${X}`},l4=a$(),zR="application/vnd.apache.arrow.file",qV=(Z)=>Z instanceof l4.Table,FR=(Z)=>FZ(null,null,function*(){try{let X=yield Z.arrayBuffer();return n4(X),!0}catch(X){}return!1}),n4=(Z)=>{return(0,l4.tableFromIPC)(new Uint8Array(Z))},UR=(Z)=>{return(0,l4.tableToIPC)(Z,"file").buffer};function WV(Z){let X=[];for(let $=0;$<Z.numRows;$++){let Y=Z.get($);if(Y)X.push(Y.toJSON())}return X}var LR="text/csv",MR="application/vnd.apache.parquet",AR=(Z)=>FZ(null,null,function*(){return(yield Z.slice(0,4).text()).startsWith("PAR1")}),JV=(Z,X,$)=>FZ(null,null,function*(){let Y=$||a4(X,"arrow"),Q=yield eZ(Z,`SELECT * FROM '${X}'`),H=UR(Q);return new File([H],Y,{type:zR})}),KV=(Z,X,$,Y=",")=>FZ(null,null,function*(){let Q=$||a4(X,"csv"),H=iX();yield eZ(Z,`COPY '${X}' TO '${H}' WITH (HEADER 1, DELIMITER '${Y}')`);let q=yield Z.copyFileToBuffer(H);return yield Z.dropFile(H),new File([q],Q,{type:LR})}),PV=(Z,X,$,Y="zstd")=>FZ(null,null,function*(){let Q=$||a4(X,"parquet"),H=iX();yield eZ(Z,`COPY '${X}' TO '${H}' (FORMAT PARQUET, COMPRESSION ${Y})`);let q=yield Z.copyFileToBuffer(H);return yield Z.dropFile(H),new File([q],Q,{type:MR})}),EV=(Z,X)=>{let $=Z.split("."),Y=$.length>1?$.pop():"",Q=$.join(".");if(X.includes(Y))return Q;return Z},a4=(Z,X)=>{return`${EV(Z,["arrow","csv","parquet"])}.${X}`},GV=KR(aX()),NV=(Z,X)=>FZ(null,null,function*(){let $=yield RR(Z,X),Y=Array.from($.keys());for(let Q=0;Q<Y.length;Q++){let H=Y[Q];if(H.toLowerCase().includes("year"))yield eZ(Z,`ALTER TABLE "${X}" ALTER COLUMN "${H}" SET DATA TYPE VARCHAR`)}}),r6=class extends Error{constructor(Z,X){super(X);this.title=Z,this.name="InsertFileError"}},RV=(Z,X,$,Y=!1)=>FZ(null,null,function*(){let Q=performance.now();if(yield zV(Z,X,$),Y)d4(`Imported ${X.name}`,Q)}),zV=(Z,X,$)=>FZ(null,null,function*(){try{let Y=$||X.name;if(yield AR(X)){yield p4(Z,X,Y);return}if(yield FR(X)){yield u4(Z,X,Y);return}switch(X.name.toLowerCase().split(".").at(-1)){case"arrow":yield u4(Z,X,Y);return;case"parquet":yield p4(Z,X,Y);return;case"csv":yield b4(Z,X,Y);return}return yield b4(Z,X,Y)}catch(Y){if(console.error(Y),Y instanceof r6)throw Y;else throw new r6("Invalid file type","Only CSV, Parquet, or Arrow files are supported")}}),b4=(Z,X,$)=>FZ(null,null,function*(){try{let Y=yield X.text(),Q=iX();yield Z.registerFileText(Q,Y);let H=yield Z.connect();yield H.insertCSVFromPath(Q,{name:$,schema:"main",detect:!0}),yield H.close(),Z.dropFile(Q),yield NV(Z,$)}catch(Y){if(console.error(Y),X.type==="text/csv"||X.name.toLowerCase().endsWith(".csv"))throw new r6("CSV import failed","Sorry, we couldn't import that CSV. Please try again.");throw Y}}),u4=(Z,X,$)=>FZ(null,null,function*(){try{let Y=yield X.arrayBuffer(),Q=n4(Y);yield OR(Z,Q,$)}catch(Y){throw console.error(Y),new r6("Arrow import failed","Sorry, we couldn't import that file")}}),OR=(Z,X,$)=>FZ(null,null,function*(){let Y=yield Z.connect();yield Y.insertArrowTable(X,{name:$}),yield Y.close()}),p4=(Z,X,$)=>FZ(null,null,function*(){try{let Y=`${iX()}.parquet`;yield Z.registerFileHandle(Y,X,GV.DuckDBDataProtocol.BROWSER_FILEREADER,!0),yield eZ(Z,`CREATE TABLE '${$}' AS SELECT * FROM '${Y}'`),yield Z.dropFile(Y)}catch(Y){throw console.error(Y),new r6("Parquet import failed","Sorry, we couldn't import that file")}})});var sX=F((FV)=>{var W6=T1(XX(),1);(function(){function Z(M){if(M==null)return null;if(typeof M==="function")return M.$$typeof===EZ?null:M.displayName||M.name||null;if(typeof M==="string")return M;switch(M){case n:return"Fragment";case LZ:return"Profiler";case PZ:return"StrictMode";case uZ:return"Suspense";case Z1:return"SuspenseList";case ZY:return"Activity"}if(typeof M==="object")switch(typeof M.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),M.$$typeof){case j:return"Portal";case B1:return(M.displayName||"Context")+".Provider";case i:return(M._context.displayName||"Context")+".Consumer";case P1:var c=M.render;return M=M.displayName,M||(M=c.displayName||c.name||"",M=M!==""?"ForwardRef("+M+")":"ForwardRef"),M;case E1:return c=M.displayName||null,c!==null?c:Z(M.type)||"Memo";case S0:c=M._payload,M=M._init;try{return Z(M(c))}catch(HZ){}}return null}function X(M){return""+M}function $(M){try{X(M);var c=!1}catch(I1){c=!0}if(c){c=console;var HZ=c.error,wZ=typeof Symbol==="function"&&Symbol.toStringTag&&M[Symbol.toStringTag]||M.constructor.name||"Object";return HZ.call(c,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",wZ),X(M)}}function Y(M){if(M===n)return"<>";if(typeof M==="object"&&M!==null&&M.$$typeof===S0)return"<...>";try{var c=Z(M);return c?"<"+c+">":"<...>"}catch(HZ){return"<...>"}}function Q(){var M=rX.A;return M===null?null:M.getOwner()}function H(){return Error("react-stack-top-frame")}function q(M){if(B0.call(M,"key")){var c=Object.getOwnPropertyDescriptor(M,"key").get;if(c&&c.isReactWarning)return!1}return M.key!==void 0}function W(M,c){function HZ(){J6||(J6=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",c))}HZ.isReactWarning=!0,Object.defineProperty(M,"key",{get:HZ,configurable:!0})}function K(){var M=Z(this.type);return K6[M]||(K6[M]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),M=this.props.ref,M!==void 0?M:null}function P(M,c,HZ,wZ,I1,V1,d1,T0){return HZ=V1.ref,M={$$typeof:_,type:M,key:c,props:V1,_owner:I1},(HZ!==void 0?HZ:null)!==null?Object.defineProperty(M,"ref",{enumerable:!1,get:K}):Object.defineProperty(M,"ref",{enumerable:!1,value:null}),M._store={},Object.defineProperty(M._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(M,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(M,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:d1}),Object.defineProperty(M,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:T0}),Object.freeze&&(Object.freeze(M.props),Object.freeze(M)),M}function E(M,c,HZ,wZ,I1,V1,d1,T0){var UZ=c.children;if(UZ!==void 0)if(wZ)if(I0(UZ)){for(wZ=0;wZ<UZ.length;wZ++)U(UZ[wZ]);Object.freeze&&Object.freeze(UZ)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else U(UZ);if(B0.call(c,"key")){UZ=Z(M);var l1=Object.keys(c).filter(function(eX){return eX!=="key"});wZ=0<l1.length?"{key: someKey, "+l1.join(": ..., ")+": ...}":"{key: someKey}",P6[UZ+wZ]||(l1=0<l1.length?"{"+l1.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,wZ,UZ,l1,UZ),P6[UZ+wZ]=!0)}if(UZ=null,HZ!==void 0&&($(HZ),UZ=""+HZ),q(c)&&($(c.key),UZ=""+c.key),"key"in c){HZ={};for(var E6 in c)E6!=="key"&&(HZ[E6]=c[E6])}else HZ=c;return UZ&&W(HZ,typeof M==="function"?M.displayName||M.name||"Unknown":M),P(M,UZ,V1,I1,Q(),HZ,d1,T0)}function U(M){typeof M==="object"&&M!==null&&M.$$typeof===_&&M._store&&(M._store.validated=1)}var _=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),PZ=Symbol.for("react.strict_mode"),LZ=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),B1=Symbol.for("react.context"),P1=Symbol.for("react.forward_ref"),uZ=Symbol.for("react.suspense"),Z1=Symbol.for("react.suspense_list"),E1=Symbol.for("react.memo"),S0=Symbol.for("react.lazy"),ZY=Symbol.for("react.activity"),EZ=Symbol.for("react.client.reference"),rX=W6.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B0=Object.prototype.hasOwnProperty,I0=Array.isArray,V0=console.createTask?console.createTask:function(){return null};W6={react_stack_bottom_frame:function(M){return M()}};var J6,K6={},e6=W6.react_stack_bottom_frame.bind(W6,H)(),tX=V0(Y(H)),P6={};FV.Fragment=n,FV.jsxDEV=function(M,c,HZ,wZ,I1,V1){var d1=1e4>rX.recentlyCreatedOwnerStacks++;return E(M,c,HZ,wZ,I1,V1,d1?Error("react-stack-top-frame"):e6,d1?V0(Y(M)):tX)}})()});function cm({children:Z}){let{db:X}=wR.useDuckDb(),[$,Y]=t6.useState(0),Q=()=>Y((H)=>H+1);return BR.jsxDEV(kR.Provider,{value:{db:X,tableVersion:$,refreshTables:Q},children:Z},void 0,!1,void 0,this)}function SR(){let Z=t6.useContext(kR);if(!Z)throw Error("useDuckDB must be used within a DuckDBProvider");return Z}var t6,wR,BR,kR;var IR=YY(()=>{t6=T1(XX(),1),wR=T1(CR(),1),BR=T1(sX(),1),kR=t6.createContext(null)});var LV={};Kq(LV,{TableWidget:()=>UV});function UV({config:Z,filters:X=[]}){let{db:$,tableVersion:Y}=SR(),[Q,H]=e$.useState([]);if(e$.useEffect(()=>{if(!$)return;new QY($,Z,X).execute().then(H)},[$,Z,X,Y]),!Q.length)return p1.jsxDEV("div",{children:"Loading…"},void 0,!1,void 0,this);let q=Z.params.columns?Z.params.columns.map((K)=>K.label||K.column):Object.keys(Q[0]),W=Z.params.columns?Z.params.columns.map((K)=>K.label||K.column):Object.keys(Q[0]);return p1.jsxDEV("table",{className:"border text-sm w-full",children:[p1.jsxDEV("thead",{children:p1.jsxDEV("tr",{children:q.map((K)=>p1.jsxDEV("th",{className:"p-2 bg-gray-100",children:K},K,!1,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this),p1.jsxDEV("tbody",{children:Q.map((K,P)=>p1.jsxDEV("tr",{className:"border-t",children:W.map((E)=>p1.jsxDEV("td",{className:"p-2",children:String(K[E])},E,!1,void 0,this))},P,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}var e$,p1;var MV=YY(()=>{IR();e$=T1(XX(),1),p1=T1(sX(),1)});MV();export{UV as TableWidget};

//# debugId=135817EEBB399BDC64756E2164756E21
//# sourceMappingURL=TableWidget.js.map
