var Tb0=Object.create;var{getPrototypeOf:Db0,defineProperty:UA,getOwnPropertyNames:W80,getOwnPropertyDescriptor:Cb0}=Object,F80=Object.prototype.hasOwnProperty;var x1=($,Q,J)=>{J=$!=null?Tb0(Db0($)):{};let K=Q||!$||!$.__esModule?UA(J,"default",{value:$,enumerable:!0}):J;for(let Y of W80($))if(!F80.call(K,Y))UA(K,Y,{get:()=>$[Y],enumerable:!0});return K},X80=new WeakMap,j9=($)=>{var Q=X80.get($),J;if(Q)return Q;if(Q=UA({},"__esModule",{value:!0}),$&&typeof $==="object"||typeof $==="function")W80($).map((K)=>!F80.call(Q,K)&&UA(Q,K,{get:()=>$[K],enumerable:!(J=Cb0($,K))||J.enumerable}));return X80.set($,Q),Q},w0=($,Q)=>()=>(Q||$((Q={exports:{}}).exports,Q),Q.exports);var r2=($,Q)=>{for(var J in Q)UA($,J,{get:Q[J],enumerable:!0,configurable:!0,set:(K)=>Q[J]=()=>K})};var Pb0=($,Q)=>()=>($&&(Q=$($=0)),Q);var n6=w0((kb0,pT)=>{(function(){function $(p,H0){Object.defineProperty(K.prototype,p,{get:function(){console.warn("%s(...) is deprecated in plain JavaScript React classes. %s",H0[0],H0[1])}})}function Q(p){if(p===null||typeof p!=="object")return null;return p=r0&&p[r0]||p["@@iterator"],typeof p==="function"?p:null}function J(p,H0){p=(p=p.constructor)&&(p.displayName||p.name)||"ReactClass";var s0=p+"."+H0;G1[s0]||(console.error("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",H0,p),G1[s0]=!0)}function K(p,H0,s0){this.props=p,this.context=H0,this.refs=X5,this.updater=s0||l0}function Y(){}function q(p,H0,s0){this.props=p,this.context=H0,this.refs=X5,this.updater=s0||l0}function Z(p){return""+p}function X(p){try{Z(p);var H0=!1}catch(C1){H0=!0}if(H0){H0=console;var s0=H0.error,i0=typeof Symbol==="function"&&Symbol.toStringTag&&p[Symbol.toStringTag]||p.constructor.name||"Object";return s0.call(H0,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",i0),Z(p)}}function W(p){if(p==null)return null;if(typeof p==="function")return p.$$typeof===k6?null:p.displayName||p.name||null;if(typeof p==="string")return p;switch(p){case o:return"Fragment";case e:return"Profiler";case n:return"StrictMode";case c0:return"Suspense";case J1:return"SuspenseList";case X1:return"Activity"}if(typeof p==="object")switch(typeof p.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),p.$$typeof){case i:return"Portal";case q0:return(p.displayName||"Context")+".Provider";case Z0:return(p._context.displayName||"Context")+".Consumer";case k0:var H0=p.render;return p=p.displayName,p||(p=H0.displayName||H0.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case W1:return H0=p.displayName||null,H0!==null?H0:W(p.type)||"Memo";case h1:H0=p._payload,p=p._init;try{return W(p(H0))}catch(s0){}}return null}function F(p){if(p===o)return"<>";if(typeof p==="object"&&p!==null&&p.$$typeof===h1)return"<...>";try{var H0=W(p);return H0?"<"+H0+">":"<...>"}catch(s0){return"<...>"}}function H(){var p=S1.A;return p===null?null:p.getOwner()}function B(){return Error("react-stack-top-frame")}function z(p){if(z7.call(p,"key")){var H0=Object.getOwnPropertyDescriptor(p,"key").get;if(H0&&H0.isReactWarning)return!1}return p.key!==void 0}function A(p,H0){function s0(){t9||(t9=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",H0))}s0.isReactWarning=!0,Object.defineProperty(p,"key",{get:s0,configurable:!0})}function R(){var p=W(this.type);return _Y[p]||(_Y[p]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),p=this.props.ref,p!==void 0?p:null}function G(p,H0,s0,i0,C1,W5,$5,c5){return s0=W5.ref,p={$$typeof:m,type:p,key:H0,props:W5,_owner:C1},(s0!==void 0?s0:null)!==null?Object.defineProperty(p,"ref",{enumerable:!1,get:R}):Object.defineProperty(p,"ref",{enumerable:!1,value:null}),p._store={},Object.defineProperty(p._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(p,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(p,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:$5}),Object.defineProperty(p,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:c5}),Object.freeze&&(Object.freeze(p.props),Object.freeze(p)),p}function w(p,H0){return H0=G(p.type,H0,void 0,void 0,p._owner,p.props,p._debugStack,p._debugTask),p._store&&(H0._store.validated=p._store.validated),H0}function T(p){return typeof p==="object"&&p!==null&&p.$$typeof===m}function D(p){var H0={"=":"=0",":":"=2"};return"$"+p.replace(/[=:]/g,function(s0){return H0[s0]})}function P(p,H0){return typeof p==="object"&&p!==null&&p.key!=null?(X(p.key),D(""+p.key)):H0.toString(36)}function j(){}function E(p){switch(p.status){case"fulfilled":return p.value;case"rejected":throw p.reason;default:switch(typeof p.status==="string"?p.then(j,j):(p.status="pending",p.then(function(H0){p.status==="pending"&&(p.status="fulfilled",p.value=H0)},function(H0){p.status==="pending"&&(p.status="rejected",p.reason=H0)})),p.status){case"fulfilled":return p.value;case"rejected":throw p.reason}}throw p}function L(p,H0,s0,i0,C1){var W5=typeof p;if(W5==="undefined"||W5==="boolean")p=null;var $5=!1;if(p===null)$5=!0;else switch(W5){case"bigint":case"string":case"number":$5=!0;break;case"object":switch(p.$$typeof){case m:case i:$5=!0;break;case h1:return $5=p._init,L($5(p._payload),H0,s0,i0,C1)}}if($5){$5=p,C1=C1($5);var c5=i0===""?"."+P($5,0):i0;return N5(C1)?(s0="",c5!=null&&(s0=c5.replace(wF,"$&/")+"/"),L(C1,H0,s0,"",function(z9){return z9})):C1!=null&&(T(C1)&&(C1.key!=null&&($5&&$5.key===C1.key||X(C1.key)),s0=w(C1,s0+(C1.key==null||$5&&$5.key===C1.key?"":(""+C1.key).replace(wF,"$&/")+"/")+c5),i0!==""&&$5!=null&&T($5)&&$5.key==null&&$5._store&&!$5._store.validated&&(s0._store.validated=2),C1=s0),H0.push(C1)),1}if($5=0,c5=i0===""?".":i0+":",N5(p))for(var R5=0;R5<p.length;R5++)i0=p[R5],W5=c5+P(i0,R5),$5+=L(i0,H0,s0,W5,C1);else if(R5=Q(p),typeof R5==="function")for(R5===p.entries&&(xB||console.warn("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),xB=!0),p=R5.call(p),R5=0;!(i0=p.next()).done;)i0=i0.value,W5=c5+P(i0,R5++),$5+=L(i0,H0,s0,W5,C1);else if(W5==="object"){if(typeof p.then==="function")return L(E(p),H0,s0,i0,C1);throw H0=String(p),Error("Objects are not valid as a React child (found: "+(H0==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":H0)+"). If you meant to render a collection of children, use an array instead.")}return $5}function h(p,H0,s0){if(p==null)return p;var i0=[],C1=0;return L(p,i0,"","",function(W5){return H0.call(s0,W5,C1++)}),i0}function _(p){if(p._status===-1){var H0=p._result;H0=H0(),H0.then(function(s0){if(p._status===0||p._status===-1)p._status=1,p._result=s0},function(s0){if(p._status===0||p._status===-1)p._status=2,p._result=s0}),p._status===-1&&(p._status=0,p._result=H0)}if(p._status===1)return H0=p._result,H0===void 0&&console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,H0),"default"in H0||console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,H0),H0.default;throw p._result}function S(){var p=S1.H;return p===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),p}function I(){}function M(p){if(fY===null)try{var H0=("require"+Math.random()).slice(0,7);fY=(pT&&pT[H0]).call(pT,"timers").setImmediate}catch(s0){fY=function(i0){uB===!1&&(uB=!0,typeof MessageChannel>"u"&&console.error("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var C1=new MessageChannel;C1.port1.onmessage=i0,C1.port2.postMessage(void 0)}}return fY(p)}function y(p){return 1<p.length&&typeof AggregateError==="function"?AggregateError(p):p[0]}function b(p,H0){H0!==F2-1&&console.error("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),F2=H0}function u(p,H0,s0){var i0=S1.actQueue;if(i0!==null)if(i0.length!==0)try{c(i0),M(function(){return u(p,H0,s0)});return}catch(C1){S1.thrownErrors.push(C1)}else S1.actQueue=null;0<S1.thrownErrors.length?(i0=y(S1.thrownErrors),S1.thrownErrors.length=0,s0(i0)):H0(p)}function c(p){if(!U2){U2=!0;var H0=0;try{for(;H0<p.length;H0++){var s0=p[H0];do{S1.didUsePromise=!1;var i0=s0(!1);if(i0!==null){if(S1.didUsePromise){p[H0]=s0,p.splice(0,H0);return}s0=i0}else break}while(1)}p.length=0}catch(C1){p.splice(0,H0+1),S1.thrownErrors.push(C1)}finally{U2=!1}}}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var m=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),e=Symbol.for("react.profiler"),Z0=Symbol.for("react.consumer"),q0=Symbol.for("react.context"),k0=Symbol.for("react.forward_ref"),c0=Symbol.for("react.suspense"),J1=Symbol.for("react.suspense_list"),W1=Symbol.for("react.memo"),h1=Symbol.for("react.lazy"),X1=Symbol.for("react.activity"),r0=Symbol.iterator,G1={},l0={isMounted:function(){return!1},enqueueForceUpdate:function(p){J(p,"forceUpdate")},enqueueReplaceState:function(p){J(p,"replaceState")},enqueueSetState:function(p){J(p,"setState")}},z1=Object.assign,X5={};Object.freeze(X5),K.prototype.isReactComponent={},K.prototype.setState=function(p,H0){if(typeof p!=="object"&&typeof p!=="function"&&p!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,p,H0,"setState")},K.prototype.forceUpdate=function(p){this.updater.enqueueForceUpdate(this,p,"forceUpdate")};var v1={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},H5;for(H5 in v1)v1.hasOwnProperty(H5)&&$(H5,v1[H5]);Y.prototype=K.prototype,v1=q.prototype=new Y,v1.constructor=q,z1(v1,K.prototype),v1.isPureReactComponent=!0;var N5=Array.isArray,k6=Symbol.for("react.client.reference"),S1={H:null,A:null,T:null,S:null,V:null,actQueue:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1,didUsePromise:!1,thrownErrors:[],getCurrentStack:null,recentlyCreatedOwnerStacks:0},z7=Object.prototype.hasOwnProperty,B9=console.createTask?console.createTask:function(){return null};v1={react_stack_bottom_frame:function(p){return p()}};var t9,DQ,_Y={},H_=v1.react_stack_bottom_frame.bind(v1,B)(),rw=B9(F(B)),xB=!1,wF=/\/+/g,cB=typeof reportError==="function"?reportError:function(p){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var H0=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof p==="object"&&p!==null&&typeof p.message==="string"?String(p.message):String(p),error:p});if(!window.dispatchEvent(H0))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",p);return}console.error(p)},uB=!1,fY=null,F2=0,OF=!1,U2=!1,tJ=typeof queueMicrotask==="function"?function(p){queueMicrotask(function(){return queueMicrotask(p)})}:M;v1=Object.freeze({__proto__:null,c:function(p){return S().useMemoCache(p)}}),kb0.Children={map:h,forEach:function(p,H0,s0){h(p,function(){H0.apply(this,arguments)},s0)},count:function(p){var H0=0;return h(p,function(){H0++}),H0},toArray:function(p){return h(p,function(H0){return H0})||[]},only:function(p){if(!T(p))throw Error("React.Children.only expected to receive a single React element child.");return p}},kb0.Component=K,kb0.Fragment=o,kb0.Profiler=e,kb0.PureComponent=q,kb0.StrictMode=n,kb0.Suspense=c0,kb0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S1,kb0.__COMPILER_RUNTIME=v1,kb0.act=function(p){var H0=S1.actQueue,s0=F2;F2++;var i0=S1.actQueue=H0!==null?H0:[],C1=!1;try{var W5=p()}catch(R5){S1.thrownErrors.push(R5)}if(0<S1.thrownErrors.length)throw b(H0,s0),p=y(S1.thrownErrors),S1.thrownErrors.length=0,p;if(W5!==null&&typeof W5==="object"&&typeof W5.then==="function"){var $5=W5;return tJ(function(){C1||OF||(OF=!0,console.error("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),{then:function(R5,z9){C1=!0,$5.then(function(z$){if(b(H0,s0),s0===0){try{c(i0),M(function(){return u(z$,R5,z9)})}catch(iw){S1.thrownErrors.push(iw)}if(0<S1.thrownErrors.length){var A$=y(S1.thrownErrors);S1.thrownErrors.length=0,z9(A$)}}else R5(z$)},function(z$){b(H0,s0),0<S1.thrownErrors.length?(z$=y(S1.thrownErrors),S1.thrownErrors.length=0,z9(z$)):z9(z$)})}}}var c5=W5;if(b(H0,s0),s0===0&&(c(i0),i0.length!==0&&tJ(function(){C1||OF||(OF=!0,console.error("A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"))}),S1.actQueue=null),0<S1.thrownErrors.length)throw p=y(S1.thrownErrors),S1.thrownErrors.length=0,p;return{then:function(R5,z9){C1=!0,s0===0?(S1.actQueue=i0,M(function(){return u(c5,R5,z9)})):R5(c5)}}},kb0.cache=function(p){return function(){return p.apply(null,arguments)}},kb0.captureOwnerStack=function(){var p=S1.getCurrentStack;return p===null?null:p()},kb0.cloneElement=function(p,H0,s0){if(p===null||p===void 0)throw Error("The argument must be a React element, but you passed "+p+".");var i0=z1({},p.props),C1=p.key,W5=p._owner;if(H0!=null){var $5;$:{if(z7.call(H0,"ref")&&($5=Object.getOwnPropertyDescriptor(H0,"ref").get)&&$5.isReactWarning){$5=!1;break $}$5=H0.ref!==void 0}$5&&(W5=H()),z(H0)&&(X(H0.key),C1=""+H0.key);for(c5 in H0)!z7.call(H0,c5)||c5==="key"||c5==="__self"||c5==="__source"||c5==="ref"&&H0.ref===void 0||(i0[c5]=H0[c5])}var c5=arguments.length-2;if(c5===1)i0.children=s0;else if(1<c5){$5=Array(c5);for(var R5=0;R5<c5;R5++)$5[R5]=arguments[R5+2];i0.children=$5}i0=G(p.type,C1,void 0,void 0,W5,i0,p._debugStack,p._debugTask);for(C1=2;C1<arguments.length;C1++)W5=arguments[C1],T(W5)&&W5._store&&(W5._store.validated=1);return i0},kb0.createContext=function(p){return p={$$typeof:q0,_currentValue:p,_currentValue2:p,_threadCount:0,Provider:null,Consumer:null},p.Provider=p,p.Consumer={$$typeof:Z0,_context:p},p._currentRenderer=null,p._currentRenderer2=null,p},kb0.createElement=function(p,H0,s0){for(var i0=2;i0<arguments.length;i0++){var C1=arguments[i0];T(C1)&&C1._store&&(C1._store.validated=1)}if(i0={},C1=null,H0!=null)for(R5 in DQ||!("__self"in H0)||"key"in H0||(DQ=!0,console.warn("Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform")),z(H0)&&(X(H0.key),C1=""+H0.key),H0)z7.call(H0,R5)&&R5!=="key"&&R5!=="__self"&&R5!=="__source"&&(i0[R5]=H0[R5]);var W5=arguments.length-2;if(W5===1)i0.children=s0;else if(1<W5){for(var $5=Array(W5),c5=0;c5<W5;c5++)$5[c5]=arguments[c5+2];Object.freeze&&Object.freeze($5),i0.children=$5}if(p&&p.defaultProps)for(R5 in W5=p.defaultProps,W5)i0[R5]===void 0&&(i0[R5]=W5[R5]);C1&&A(i0,typeof p==="function"?p.displayName||p.name||"Unknown":p);var R5=1e4>S1.recentlyCreatedOwnerStacks++;return G(p,C1,void 0,void 0,H(),i0,R5?Error("react-stack-top-frame"):H_,R5?B9(F(p)):rw)},kb0.createRef=function(){var p={current:null};return Object.seal(p),p},kb0.forwardRef=function(p){p!=null&&p.$$typeof===W1?console.error("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof p!=="function"?console.error("forwardRef requires a render function but was given %s.",p===null?"null":typeof p):p.length!==0&&p.length!==2&&console.error("forwardRef render functions accept exactly two parameters: props and ref. %s",p.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),p!=null&&p.defaultProps!=null&&console.error("forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?");var H0={$$typeof:k0,render:p},s0;return Object.defineProperty(H0,"displayName",{enumerable:!1,configurable:!0,get:function(){return s0},set:function(i0){s0=i0,p.name||p.displayName||(Object.defineProperty(p,"name",{value:i0}),p.displayName=i0)}}),H0},kb0.isValidElement=T,kb0.lazy=function(p){return{$$typeof:h1,_payload:{_status:-1,_result:p},_init:_}},kb0.memo=function(p,H0){p==null&&console.error("memo: The first argument must be a component. Instead received: %s",p===null?"null":typeof p),H0={$$typeof:W1,type:p,compare:H0===void 0?null:H0};var s0;return Object.defineProperty(H0,"displayName",{enumerable:!1,configurable:!0,get:function(){return s0},set:function(i0){s0=i0,p.name||p.displayName||(Object.defineProperty(p,"name",{value:i0}),p.displayName=i0)}}),H0},kb0.startTransition=function(p){var H0=S1.T,s0={};S1.T=s0,s0._updatedFibers=new Set;try{var i0=p(),C1=S1.S;C1!==null&&C1(s0,i0),typeof i0==="object"&&i0!==null&&typeof i0.then==="function"&&i0.then(I,cB)}catch(W5){cB(W5)}finally{H0===null&&s0._updatedFibers&&(p=s0._updatedFibers.size,s0._updatedFibers.clear(),10<p&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.")),S1.T=H0}},kb0.unstable_useCacheRefresh=function(){return S().useCacheRefresh()},kb0.use=function(p){return S().use(p)},kb0.useActionState=function(p,H0,s0){return S().useActionState(p,H0,s0)},kb0.useCallback=function(p,H0){return S().useCallback(p,H0)},kb0.useContext=function(p){var H0=S();return p.$$typeof===Z0&&console.error("Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"),H0.useContext(p)},kb0.useDebugValue=function(p,H0){return S().useDebugValue(p,H0)},kb0.useDeferredValue=function(p,H0){return S().useDeferredValue(p,H0)},kb0.useEffect=function(p,H0,s0){p==null&&console.warn("React Hook useEffect requires an effect callback. Did you forget to pass a callback to the hook?");var i0=S();if(typeof s0==="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i0.useEffect(p,H0)},kb0.useId=function(){return S().useId()},kb0.useImperativeHandle=function(p,H0,s0){return S().useImperativeHandle(p,H0,s0)},kb0.useInsertionEffect=function(p,H0){return p==null&&console.warn("React Hook useInsertionEffect requires an effect callback. Did you forget to pass a callback to the hook?"),S().useInsertionEffect(p,H0)},kb0.useLayoutEffect=function(p,H0){return p==null&&console.warn("React Hook useLayoutEffect requires an effect callback. Did you forget to pass a callback to the hook?"),S().useLayoutEffect(p,H0)},kb0.useMemo=function(p,H0){return S().useMemo(p,H0)},kb0.useOptimistic=function(p,H0){return S().useOptimistic(p,H0)},kb0.useReducer=function(p,H0,s0){return S().useReducer(p,H0,s0)},kb0.useRef=function(p){return S().useRef(p)},kb0.useState=function(p){return S().useState(p)},kb0.useSyncExternalStore=function(p,H0,s0){return S().useSyncExternalStore(p,H0,s0)},kb0.useTransition=function(){return S().useTransition()},kb0.version="19.1.1",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var U80=w0((jb0)=>{(function(){function $(){if(j=!1,_){var c=jb0.unstable_now();M=c;var m=!0;try{$:{D=!1,P&&(P=!1,L(S),S=-1),T=!0;var i=w;try{Q:{q(c);for(G=J(z);G!==null&&!(G.expirationTime>c&&X());){var o=G.callback;if(typeof o==="function"){G.callback=null,w=G.priorityLevel;var n=o(G.expirationTime<=c);if(c=jb0.unstable_now(),typeof n==="function"){G.callback=n,q(c),m=!0;break Q}G===J(z)&&K(z),q(c)}else K(z);G=J(z)}if(G!==null)m=!0;else{var e=J(A);e!==null&&W(Z,e.startTime-c),m=!1}}break $}finally{G=null,w=i,T=!1}m=void 0}}finally{m?y():_=!1}}}function Q(c,m){var i=c.length;c.push(m);$:for(;0<i;){var o=i-1>>>1,n=c[o];if(0<Y(n,m))c[o]=m,c[i]=n,i=o;else break $}}function J(c){return c.length===0?null:c[0]}function K(c){if(c.length===0)return null;var m=c[0],i=c.pop();if(i!==m){c[0]=i;$:for(var o=0,n=c.length,e=n>>>1;o<e;){var Z0=2*(o+1)-1,q0=c[Z0],k0=Z0+1,c0=c[k0];if(0>Y(q0,i))k0<n&&0>Y(c0,q0)?(c[o]=c0,c[k0]=i,o=k0):(c[o]=q0,c[Z0]=i,o=Z0);else if(k0<n&&0>Y(c0,i))c[o]=c0,c[k0]=i,o=k0;else break $}}return m}function Y(c,m){var i=c.sortIndex-m.sortIndex;return i!==0?i:c.id-m.id}function q(c){for(var m=J(A);m!==null;){if(m.callback===null)K(A);else if(m.startTime<=c)K(A),m.sortIndex=m.expirationTime,Q(z,m);else break;m=J(A)}}function Z(c){if(P=!1,q(c),!D)if(J(z)!==null)D=!0,_||(_=!0,y());else{var m=J(A);m!==null&&W(Z,m.startTime-c)}}function X(){return j?!0:jb0.unstable_now()-M<I?!1:!0}function W(c,m){S=E(function(){c(jb0.unstable_now())},m)}if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error()),jb0.unstable_now=void 0,typeof performance==="object"&&typeof performance.now==="function"){var F=performance;jb0.unstable_now=function(){return F.now()}}else{var H=Date,B=H.now();jb0.unstable_now=function(){return H.now()-B}}var z=[],A=[],R=1,G=null,w=3,T=!1,D=!1,P=!1,j=!1,E=typeof setTimeout==="function"?setTimeout:null,L=typeof clearTimeout==="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null,_=!1,S=-1,I=5,M=-1;if(typeof h==="function")var y=function(){h($)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,u=b.port2;b.port1.onmessage=$,y=function(){u.postMessage(null)}}else y=function(){E($,0)};jb0.unstable_IdlePriority=5,jb0.unstable_ImmediatePriority=1,jb0.unstable_LowPriority=4,jb0.unstable_NormalPriority=3,jb0.unstable_Profiling=null,jb0.unstable_UserBlockingPriority=2,jb0.unstable_cancelCallback=function(c){c.callback=null},jb0.unstable_forceFrameRate=function(c){0>c||125<c?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<c?Math.floor(1000/c):5},jb0.unstable_getCurrentPriorityLevel=function(){return w},jb0.unstable_next=function(c){switch(w){case 1:case 2:case 3:var m=3;break;default:m=w}var i=w;w=m;try{return c()}finally{w=i}},jb0.unstable_requestPaint=function(){j=!0},jb0.unstable_runWithPriority=function(c,m){switch(c){case 1:case 2:case 3:case 4:case 5:break;default:c=3}var i=w;w=c;try{return m()}finally{w=i}},jb0.unstable_scheduleCallback=function(c,m,i){var o=jb0.unstable_now();switch(typeof i==="object"&&i!==null?(i=i.delay,i=typeof i==="number"&&0<i?o+i:o):i=o,c){case 1:var n=-1;break;case 2:n=250;break;case 5:n=1073741823;break;case 4:n=1e4;break;default:n=5000}return n=i+n,c={id:R++,callback:m,priorityLevel:c,startTime:i,expirationTime:n,sortIndex:-1},i>o?(c.sortIndex=i,Q(A,c),J(z)===null&&c===J(A)&&(P?(L(S),S=-1):P=!0,W(Z,i-o))):(c.sortIndex=n,Q(z,c),D||T||(D=!0,_||(_=!0,y()))),c},jb0.unstable_shouldYield=X,jb0.unstable_wrapCallback=function(c){var m=w;return function(){var i=w;w=m;try{return c.apply(this,arguments)}finally{w=i}}},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var H80=w0((Eb0)=>{var MM=x1(n6(),1);(function(){function $(){}function Q(H){return""+H}function J(H,B,z){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;try{Q(A);var R=!1}catch(G){R=!0}return R&&(console.error("The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",typeof Symbol==="function"&&Symbol.toStringTag&&A[Symbol.toStringTag]||A.constructor.name||"Object"),Q(A)),{$$typeof:W,key:A==null?null:""+A,children:H,containerInfo:B,implementation:z}}function K(H,B){if(H==="font")return"";if(typeof B==="string")return B==="use-credentials"?B:""}function Y(H){return H===null?"`null`":H===void 0?"`undefined`":H===""?"an empty string":'something with type "'+typeof H+'"'}function q(H){return H===null?"`null`":H===void 0?"`undefined`":H===""?"an empty string":typeof H==="string"?JSON.stringify(H):typeof H==="number"?"`"+H+"`":'something with type "'+typeof H+'"'}function Z(){var H=F.H;return H===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),H}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var X={d:{f:$,r:function(){throw Error("Invalid form element. requestFormReset must be passed a form that was rendered by React.")},D:$,C:$,L:$,m:$,X:$,S:$,M:$},p:0,findDOMNode:null},W=Symbol.for("react.portal"),F=MM.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;typeof Map==="function"&&Map.prototype!=null&&typeof Map.prototype.forEach==="function"&&typeof Set==="function"&&Set.prototype!=null&&typeof Set.prototype.clear==="function"&&typeof Set.prototype.forEach==="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),Eb0.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Eb0.createPortal=function(H,B){var z=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!B||B.nodeType!==1&&B.nodeType!==9&&B.nodeType!==11)throw Error("Target container is not a DOM element.");return J(H,B,null,z)},Eb0.flushSync=function(H){var B=F.T,z=X.p;try{if(F.T=null,X.p=2,H)return H()}finally{F.T=B,X.p=z,X.d.f()&&console.error("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task.")}},Eb0.preconnect=function(H,B){typeof H==="string"&&H?B!=null&&typeof B!=="object"?console.error("ReactDOM.preconnect(): Expected the `options` argument (second) to be an object but encountered %s instead. The only supported option at this time is `crossOrigin` which accepts a string.",q(B)):B!=null&&typeof B.crossOrigin!=="string"&&console.error("ReactDOM.preconnect(): Expected the `crossOrigin` option (second argument) to be a string but encountered %s instead. Try removing this option or passing a string value instead.",Y(B.crossOrigin)):console.error("ReactDOM.preconnect(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",Y(H)),typeof H==="string"&&(B?(B=B.crossOrigin,B=typeof B==="string"?B==="use-credentials"?B:"":void 0):B=null,X.d.C(H,B))},Eb0.prefetchDNS=function(H){if(typeof H!=="string"||!H)console.error("ReactDOM.prefetchDNS(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",Y(H));else if(1<arguments.length){var B=arguments[1];typeof B==="object"&&B.hasOwnProperty("crossOrigin")?console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. It looks like the you are attempting to set a crossOrigin property for this DNS lookup hint. Browsers do not perform DNS queries using CORS and setting this attribute on the resource hint has no effect. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",q(B)):console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",q(B))}typeof H==="string"&&X.d.D(H)},Eb0.preinit=function(H,B){if(typeof H==="string"&&H?B==null||typeof B!=="object"?console.error("ReactDOM.preinit(): Expected the `options` argument (second) to be an object with an `as` property describing the type of resource to be preinitialized but encountered %s instead.",q(B)):B.as!=="style"&&B.as!=="script"&&console.error('ReactDOM.preinit(): Expected the `as` property in the `options` argument (second) to contain a valid value describing the type of resource to be preinitialized but encountered %s instead. Valid values for `as` are "style" and "script".',q(B.as)):console.error("ReactDOM.preinit(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",Y(H)),typeof H==="string"&&B&&typeof B.as==="string"){var z=B.as,A=K(z,B.crossOrigin),R=typeof B.integrity==="string"?B.integrity:void 0,G=typeof B.fetchPriority==="string"?B.fetchPriority:void 0;z==="style"?X.d.S(H,typeof B.precedence==="string"?B.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:G}):z==="script"&&X.d.X(H,{crossOrigin:A,integrity:R,fetchPriority:G,nonce:typeof B.nonce==="string"?B.nonce:void 0})}},Eb0.preinitModule=function(H,B){var z="";if(typeof H==="string"&&H||(z+=" The `href` argument encountered was "+Y(H)+"."),B!==void 0&&typeof B!=="object"?z+=" The `options` argument encountered was "+Y(B)+".":B&&("as"in B)&&B.as!=="script"&&(z+=" The `as` option encountered was "+q(B.as)+"."),z)console.error("ReactDOM.preinitModule(): Expected up to two arguments, a non-empty `href` string and, optionally, an `options` object with a valid `as` property.%s",z);else switch(z=B&&typeof B.as==="string"?B.as:"script",z){case"script":break;default:z=q(z),console.error('ReactDOM.preinitModule(): Currently the only supported "as" type for this function is "script" but received "%s" instead. This warning was generated for `href` "%s". In the future other module types will be supported, aligning with the import-attributes proposal. Learn more here: (https://github.com/tc39/proposal-import-attributes)',z,H)}if(typeof H==="string")if(typeof B==="object"&&B!==null){if(B.as==null||B.as==="script")z=K(B.as,B.crossOrigin),X.d.M(H,{crossOrigin:z,integrity:typeof B.integrity==="string"?B.integrity:void 0,nonce:typeof B.nonce==="string"?B.nonce:void 0})}else B==null&&X.d.M(H)},Eb0.preload=function(H,B){var z="";if(typeof H==="string"&&H||(z+=" The `href` argument encountered was "+Y(H)+"."),B==null||typeof B!=="object"?z+=" The `options` argument encountered was "+Y(B)+".":typeof B.as==="string"&&B.as||(z+=" The `as` option encountered was "+Y(B.as)+"."),z&&console.error('ReactDOM.preload(): Expected two arguments, a non-empty `href` string and an `options` object with an `as` property valid for a `<link rel="preload" as="..." />` tag.%s',z),typeof H==="string"&&typeof B==="object"&&B!==null&&typeof B.as==="string"){z=B.as;var A=K(z,B.crossOrigin);X.d.L(H,z,{crossOrigin:A,integrity:typeof B.integrity==="string"?B.integrity:void 0,nonce:typeof B.nonce==="string"?B.nonce:void 0,type:typeof B.type==="string"?B.type:void 0,fetchPriority:typeof B.fetchPriority==="string"?B.fetchPriority:void 0,referrerPolicy:typeof B.referrerPolicy==="string"?B.referrerPolicy:void 0,imageSrcSet:typeof B.imageSrcSet==="string"?B.imageSrcSet:void 0,imageSizes:typeof B.imageSizes==="string"?B.imageSizes:void 0,media:typeof B.media==="string"?B.media:void 0})}},Eb0.preloadModule=function(H,B){var z="";typeof H==="string"&&H||(z+=" The `href` argument encountered was "+Y(H)+"."),B!==void 0&&typeof B!=="object"?z+=" The `options` argument encountered was "+Y(B)+".":B&&("as"in B)&&typeof B.as!=="string"&&(z+=" The `as` option encountered was "+Y(B.as)+"."),z&&console.error('ReactDOM.preloadModule(): Expected two arguments, a non-empty `href` string and, optionally, an `options` object with an `as` property valid for a `<link rel="modulepreload" as="..." />` tag.%s',z),typeof H==="string"&&(B?(z=K(B.as,B.crossOrigin),X.d.m(H,{as:typeof B.as==="string"&&B.as!=="script"?B.as:void 0,crossOrigin:z,integrity:typeof B.integrity==="string"?B.integrity:void 0})):X.d.m(H))},Eb0.requestFormReset=function(H){X.d.r(H)},Eb0.unstable_batchedUpdates=function(H,B){return H(B)},Eb0.useFormState=function(H,B,z){return Z().useFormState(H,B,z)},Eb0.useFormStatus=function(){return Z().useHostTransitionStatus()},Eb0.version="19.1.1",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var B80=w0((oG1,N80)=>{var Lb0=x1(H80(),1);N80.exports=Lb0});var z80=w0((hb0)=>{var g5=x1(U80(),1),TU=x1(n6(),1),bM=x1(B80(),1);(function(){function $(U,N){for(U=U.memoizedState;U!==null&&0<N;)U=U.next,N--;return U}function Q(U,N,V,O){if(V>=N.length)return O;var C=N[V],k=N8(U)?U.slice():G5({},U);return k[C]=Q(U[C],N,V+1,O),k}function J(U,N,V){if(N.length!==V.length)console.warn("copyWithRename() expects paths of the same length");else{for(var O=0;O<V.length-1;O++)if(N[O]!==V[O]){console.warn("copyWithRename() expects paths to be the same except for the deepest key");return}return K(U,N,V,0)}}function K(U,N,V,O){var C=N[O],k=N8(U)?U.slice():G5({},U);return O+1===N.length?(k[V[O]]=k[C],N8(k)?k.splice(C,1):delete k[C]):k[C]=K(U[C],N,V,O+1),k}function Y(U,N,V){var O=N[V],C=N8(U)?U.slice():G5({},U);if(V+1===N.length)return N8(C)?C.splice(O,1):delete C[O],C;return C[O]=Y(U[O],N,V+1),C}function q(){return!1}function Z(){return null}function X(){}function W(){console.error("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://react.dev/link/rules-of-hooks")}function F(){console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")}function H(){}function B(U){var N=[];return U.forEach(function(V){N.push(V)}),N.sort().join(", ")}function z(U,N,V,O){return new Of0(U,N,V,O)}function A(U,N){U.context===sY&&(WI(U.current,2,N,U,null,null),SF())}function R(U,N){if(q3!==null){var V=N.staleFamilies;N=N.updatedFamilies,Bz(),j_(U.current,N,V),SF()}}function G(U){q3=U}function w(U){return!(!U||U.nodeType!==1&&U.nodeType!==9&&U.nodeType!==11)}function T(U){var N=U,V=U;if(U.alternate)for(;N.return;)N=N.return;else{U=N;do N=U,(N.flags&4098)!==0&&(V=N.return),U=N.return;while(U)}return N.tag===3?V:null}function D(U){if(U.tag===13){var N=U.memoizedState;if(N===null&&(U=U.alternate,U!==null&&(N=U.memoizedState)),N!==null)return N.dehydrated}return null}function P(U){if(T(U)!==U)throw Error("Unable to find node on an unmounted component.")}function j(U){var N=U.alternate;if(!N){if(N=T(U),N===null)throw Error("Unable to find node on an unmounted component.");return N!==U?null:U}for(var V=U,O=N;;){var C=V.return;if(C===null)break;var k=C.alternate;if(k===null){if(O=C.return,O!==null){V=O;continue}break}if(C.child===k.child){for(k=C.child;k;){if(k===V)return P(C),U;if(k===O)return P(C),N;k=k.sibling}throw Error("Unable to find node on an unmounted component.")}if(V.return!==O.return)V=C,O=k;else{for(var f=!1,g=C.child;g;){if(g===V){f=!0,V=C,O=k;break}if(g===O){f=!0,O=C,V=k;break}g=g.sibling}if(!f){for(g=k.child;g;){if(g===V){f=!0,V=k,O=C;break}if(g===O){f=!0,O=k,V=C;break}g=g.sibling}if(!f)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(V.alternate!==O)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(V.tag!==3)throw Error("Unable to find node on an unmounted component.");return V.stateNode.current===V?U:N}function E(U){var N=U.tag;if(N===5||N===26||N===27||N===6)return U;for(U=U.child;U!==null;){if(N=E(U),N!==null)return N;U=U.sibling}return null}function L(U){if(U===null||typeof U!=="object")return null;return U=h50&&U[h50]||U["@@iterator"],typeof U==="function"?U:null}function h(U){if(U==null)return null;if(typeof U==="function")return U.$$typeof===MI0?null:U.displayName||U.name||null;if(typeof U==="string")return U;switch(U){case yF:return"Fragment";case zI:return"Profiler";case sO:return"StrictMode";case VI:return"Suspense";case RI:return"SuspenseList";case GI:return"Activity"}if(typeof U==="object")switch(typeof U.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),U.$$typeof){case gF:return"Portal";case vQ:return(U.displayName||"Context")+".Provider";case AI:return(U._context.displayName||"Context")+".Consumer";case Dz:var N=U.render;return U=U.displayName,U||(U=N.displayName||N.name||"",U=U!==""?"ForwardRef("+U+")":"ForwardRef"),U;case oO:return N=U.displayName||null,N!==null?N:h(U.type)||"Memo";case O9:N=U._payload,U=U._init;try{return h(U(N))}catch(V){}}return null}function _(U){return typeof U.tag==="number"?S(U):typeof U.name==="string"?U.name:null}function S(U){var N=U.type;switch(U.tag){case 31:return"Activity";case 24:return"Cache";case 9:return(N._context.displayName||"Context")+".Consumer";case 10:return(N.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return U=N.render,U=U.displayName||U.name||"",N.displayName||(U!==""?"ForwardRef("+U+")":"ForwardRef");case 7:return"Fragment";case 26:case 27:case 5:return N;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return h(N);case 8:return N===sO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 14:case 15:if(typeof N==="function")return N.displayName||N.name||null;if(typeof N==="string")return N;break;case 29:if(N=U._debugInfo,N!=null){for(var V=N.length-1;0<=V;V--)if(typeof N[V].name==="string")return N[V].name}if(U.return!==null)return S(U.return)}return null}function I(U){return{current:U}}function M(U,N){0>WK?console.error("Unexpected pop."):(N!==OI[WK]&&console.error("Unexpected Fiber popped."),U.current=wI[WK],wI[WK]=null,OI[WK]=null,WK--)}function y(U,N,V){WK++,wI[WK]=U.current,OI[WK]=V,U.current=N}function b(U){return U===null&&console.error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue."),U}function u(U,N){y(nY,N,U),y(Cz,U,U),y(dY,null,U);var V=N.nodeType;switch(V){case 9:case 11:V=V===9?"#document":"#fragment",N=(N=N.documentElement)?(N=N.namespaceURI)?K50(N):wK:wK;break;default:if(V=N.tagName,N=N.namespaceURI)N=K50(N),N=Y50(N,V);else switch(V){case"svg":N=wU;break;case"math":N=bT;break;default:N=wK}}V=V.toLowerCase(),V=Be(null,V),V={context:N,ancestorInfo:V},M(dY,U),y(dY,V,U)}function c(U){M(dY,U),M(Cz,U),M(nY,U)}function m(){return b(dY.current)}function i(U){U.memoizedState!==null&&y(aO,U,U);var N=b(dY.current),V=U.type,O=Y50(N.context,V);V=Be(N.ancestorInfo,V),O={context:O,ancestorInfo:V},N!==O&&(y(Cz,U,U),y(dY,O,U))}function o(U){Cz.current===U&&(M(dY,U),M(Cz,U)),aO.current===U&&(M(aO,U),XA._currentValue=l2)}function n(U){return typeof Symbol==="function"&&Symbol.toStringTag&&U[Symbol.toStringTag]||U.constructor.name||"Object"}function e(U){try{return Z0(U),!1}catch(N){return!0}}function Z0(U){return""+U}function q0(U,N){if(e(U))return console.error("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before using it here.",N,n(U)),Z0(U)}function k0(U,N){if(e(U))return console.error("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before using it here.",N,n(U)),Z0(U)}function c0(U){if(e(U))return console.error("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before using it here.",n(U)),Z0(U)}function J1(U){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var N=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(N.isDisabled)return!0;if(!N.supportsFiber)return console.error("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://react.dev/link/react-devtools"),!0;try{cF=N.inject(U),v8=N}catch(V){console.error("React instrumentation encountered an error: %s.",V)}return N.checkDCE?!0:!1}function W1(U){if(typeof mI0==="function"&&pI0(U),v8&&typeof v8.setStrictMode==="function")try{v8.setStrictMode(cF,U)}catch(N){_Q||(_Q=!0,console.error("React instrumentation encountered an error: %s",N))}}function h1(U){F1=U}function X1(){F1!==null&&typeof F1.markCommitStopped==="function"&&F1.markCommitStopped()}function r0(U){F1!==null&&typeof F1.markComponentRenderStarted==="function"&&F1.markComponentRenderStarted(U)}function G1(){F1!==null&&typeof F1.markComponentRenderStopped==="function"&&F1.markComponentRenderStopped()}function l0(U){F1!==null&&typeof F1.markRenderStarted==="function"&&F1.markRenderStarted(U)}function z1(){F1!==null&&typeof F1.markRenderStopped==="function"&&F1.markRenderStopped()}function X5(U,N){F1!==null&&typeof F1.markStateUpdateScheduled==="function"&&F1.markStateUpdateScheduled(U,N)}function v1(U){return U>>>=0,U===0?32:31-(dI0(U)/nI0|0)|0}function H5(U){if(U&1)return"SyncHydrationLane";if(U&2)return"Sync";if(U&4)return"InputContinuousHydration";if(U&8)return"InputContinuous";if(U&16)return"DefaultHydration";if(U&32)return"Default";if(U&128)return"TransitionHydration";if(U&4194048)return"Transition";if(U&62914560)return"Retry";if(U&67108864)return"SelectiveHydration";if(U&134217728)return"IdleHydration";if(U&268435456)return"Idle";if(U&536870912)return"Offscreen";if(U&1073741824)return"Deferred"}function N5(U){var N=U&42;if(N!==0)return N;switch(U&-U){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return U&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return U&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return console.error("Should have found matching lanes. This is a bug in React."),U}}function k6(U,N,V){var O=U.pendingLanes;if(O===0)return 0;var C=0,k=U.suspendedLanes,f=U.pingedLanes;U=U.warmLanes;var g=O&134217727;return g!==0?(O=g&~k,O!==0?C=N5(O):(f&=g,f!==0?C=N5(f):V||(V=g&~U,V!==0&&(C=N5(V))))):(g=O&~k,g!==0?C=N5(g):f!==0?C=N5(f):V||(V=O&~U,V!==0&&(C=N5(V)))),C===0?0:N!==0&&N!==C&&(N&k)===0&&(k=C&-C,V=N&-N,k>=V||k===32&&(V&4194048)!==0)?N:C}function S1(U,N){return(U.pendingLanes&~(U.suspendedLanes&~U.pingedLanes)&N)===0}function z7(U,N){switch(U){case 1:case 2:case 4:case 8:case 64:return N+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return N+5000;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return console.error("Should have found matching lanes. This is a bug in React."),-1}}function B9(){var U=tO;return tO<<=1,(tO&4194048)===0&&(tO=256),U}function t9(){var U=eO;return eO<<=1,(eO&62914560)===0&&(eO=4194304),U}function DQ(U){for(var N=[],V=0;31>V;V++)N.push(U);return N}function _Y(U,N){U.pendingLanes|=N,N!==268435456&&(U.suspendedLanes=0,U.pingedLanes=0,U.warmLanes=0)}function H_(U,N,V,O,C,k){var f=U.pendingLanes;U.pendingLanes=V,U.suspendedLanes=0,U.pingedLanes=0,U.warmLanes=0,U.expiredLanes&=V,U.entangledLanes&=V,U.errorRecoveryDisabledLanes&=V,U.shellSuspendCounter=0;var{entanglements:g,expirationTimes:d,hiddenUpdates:r}=U;for(V=f&~V;0<V;){var A0=31-a8(V),C0=1<<A0;g[A0]=0,d[A0]=-1;var z0=r[A0];if(z0!==null)for(r[A0]=null,A0=0;A0<z0.length;A0++){var j0=z0[A0];j0!==null&&(j0.lane&=-536870913)}V&=~C0}O!==0&&rw(U,O,0),k!==0&&C===0&&U.tag!==0&&(U.suspendedLanes|=k&~(f&~N))}function rw(U,N,V){U.pendingLanes|=N,U.suspendedLanes&=~N;var O=31-a8(N);U.entangledLanes|=N,U.entanglements[O]=U.entanglements[O]|1073741824|V&4194090}function xB(U,N){var V=U.entangledLanes|=N;for(U=U.entanglements;V;){var O=31-a8(V),C=1<<O;C&N|U[O]&N&&(U[O]|=N),V&=~C}}function wF(U){switch(U){case 2:U=1;break;case 8:U=4;break;case 32:U=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:U=128;break;case 268435456:U=134217728;break;default:U=0}return U}function cB(U,N,V){if(G$)for(U=U.pendingUpdatersLaneMap;0<V;){var O=31-a8(V),C=1<<O;U[O].add(N),V&=~C}}function uB(U,N){if(G$)for(var{pendingUpdatersLaneMap:V,memoizedUpdaters:O}=U;0<N;){var C=31-a8(N);U=1<<C,C=V[C],0<C.size&&(C.forEach(function(k){var f=k.alternate;f!==null&&O.has(f)||O.add(k)}),C.clear()),N&=~U}}function fY(U){return U&=-U,T9!==0&&T9<U?w$!==0&&w$<U?(U&134217727)!==0?fQ:$T:w$:T9}function F2(){var U=r5.p;if(U!==0)return U;return U=window.event,U===void 0?fQ:C50(U.type)}function OF(U,N){var V=r5.p;try{return r5.p=U,N()}finally{r5.p=V}}function U2(U){delete U[S8],delete U[S4],delete U[kI],delete U[lI0],delete U[rI0]}function tJ(U){var N=U[S8];if(N)return N;for(var V=U.parentNode;V;){if(N=V[rY]||V[S8]){if(V=N.alternate,N.child!==null||V!==null&&V.child!==null)for(U=U50(U);U!==null;){if(V=U[S8])return V;U=U50(U)}return N}U=V,V=U.parentNode}return null}function p(U){if(U=U[S8]||U[rY]){var N=U.tag;if(N===5||N===6||N===13||N===26||N===27||N===3)return U}return null}function H0(U){var N=U.tag;if(N===5||N===26||N===27||N===6)return U.stateNode;throw Error("getNodeFromInstance: Invalid argument.")}function s0(U){var N=U[v50];return N||(N=U[v50]={hoistableStyles:new Map,hoistableScripts:new Map}),N}function i0(U){U[Pz]=!0}function C1(U,N){W5(U,N),W5(U+"Capture",N)}function W5(U,N){E2[U]&&console.error("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",U),E2[U]=N;var V=U.toLowerCase();jI[V]=U,U==="onDoubleClick"&&(jI.ondblclick=U);for(U=0;U<N.length;U++)S50.add(N[U])}function $5(U,N){iI0[N.type]||N.onChange||N.onInput||N.readOnly||N.disabled||N.value==null||(U==="select"?console.error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set `onChange`."):console.error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")),N.onChange||N.readOnly||N.disabled||N.checked==null||console.error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function c5(U){if(FK.call(f50,U))return!0;if(FK.call(_50,U))return!1;if(sI0.test(U))return f50[U]=!0;return _50[U]=!0,console.error("Invalid attribute name: `%s`",U),!1}function R5(U,N,V){if(c5(N)){if(!U.hasAttribute(N)){switch(typeof V){case"symbol":case"object":return V;case"function":return V;case"boolean":if(V===!1)return V}return V===void 0?void 0:null}if(U=U.getAttribute(N),U===""&&V===!0)return!0;return q0(V,N),U===""+V?V:U}}function z9(U,N,V){if(c5(N))if(V===null)U.removeAttribute(N);else{switch(typeof V){case"undefined":case"function":case"symbol":U.removeAttribute(N);return;case"boolean":var O=N.toLowerCase().slice(0,5);if(O!=="data-"&&O!=="aria-"){U.removeAttribute(N);return}}q0(V,N),U.setAttribute(N,""+V)}}function z$(U,N,V){if(V===null)U.removeAttribute(N);else{switch(typeof V){case"undefined":case"function":case"symbol":case"boolean":U.removeAttribute(N);return}q0(V,N),U.setAttribute(N,""+V)}}function A$(U,N,V,O){if(O===null)U.removeAttribute(V);else{switch(typeof O){case"undefined":case"function":case"symbol":case"boolean":U.removeAttribute(V);return}q0(O,V),U.setAttributeNS(N,V,""+O)}}function iw(){}function a_0(){if(kz===0){I50=console.log,M50=console.info,b50=console.warn,g50=console.error,y50=console.group,x50=console.groupCollapsed,c50=console.groupEnd;var U={configurable:!0,enumerable:!0,value:iw,writable:!0};Object.defineProperties(console,{info:U,log:U,warn:U,error:U,group:U,groupCollapsed:U,groupEnd:U})}kz++}function t_0(){if(kz--,kz===0){var U={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:G5({},U,{value:I50}),info:G5({},U,{value:M50}),warn:G5({},U,{value:b50}),error:G5({},U,{value:g50}),group:G5({},U,{value:y50}),groupCollapsed:G5({},U,{value:x50}),groupEnd:G5({},U,{value:c50})})}0>kz&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function e9(U){if(EI===void 0)try{throw Error()}catch(V){var N=V.stack.trim().match(/\n( *(at )?)/);EI=N&&N[1]||"",u50=-1<V.stack.indexOf(`
    at`)?" (<anonymous>)":-1<V.stack.indexOf("@")?"@unknown:0:0":""}return`
`+EI+U+u50}function N_(U,N){if(!U||LI)return"";var V=hI.get(U);if(V!==void 0)return V;LI=!0,V=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var O=null;O=D0.H,D0.H=null,a_0();try{var C={DetermineComponentFrameRoot:function(){try{if(N){var z0=function(){throw Error()};if(Object.defineProperty(z0.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(z0,[])}catch(O1){var j0=O1}Reflect.construct(U,[],z0)}else{try{z0.call()}catch(O1){j0=O1}U.call(z0.prototype)}}else{try{throw Error()}catch(O1){j0=O1}(z0=U())&&typeof z0.catch==="function"&&z0.catch(function(){})}}catch(O1){if(O1&&j0&&typeof O1.stack==="string")return[O1.stack,j0.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=C.DetermineComponentFrameRoot(),g=f[0],d=f[1];if(g&&d){var r=g.split(`
`),A0=d.split(`
`);for(f=k=0;k<r.length&&!r[k].includes("DetermineComponentFrameRoot");)k++;for(;f<A0.length&&!A0[f].includes("DetermineComponentFrameRoot");)f++;if(k===r.length||f===A0.length)for(k=r.length-1,f=A0.length-1;1<=k&&0<=f&&r[k]!==A0[f];)f--;for(;1<=k&&0<=f;k--,f--)if(r[k]!==A0[f]){if(k!==1||f!==1)do if(k--,f--,0>f||r[k]!==A0[f]){var C0=`
`+r[k].replace(" at new "," at ");return U.displayName&&C0.includes("<anonymous>")&&(C0=C0.replace("<anonymous>",U.displayName)),typeof U==="function"&&hI.set(U,C0),C0}while(1<=k&&0<=f);break}}}finally{LI=!1,D0.H=O,t_0(),Error.prepareStackTrace=V}return r=(r=U?U.displayName||U.name:"")?e9(r):"",typeof U==="function"&&hI.set(U,r),r}function ot(U){var N=Error.prepareStackTrace;if(Error.prepareStackTrace=void 0,U=U.stack,Error.prepareStackTrace=N,U.startsWith(`Error: react-stack-top-frame
`)&&(U=U.slice(29)),N=U.indexOf(`
`),N!==-1&&(U=U.slice(N+1)),N=U.indexOf("react_stack_bottom_frame"),N!==-1&&(N=U.lastIndexOf(`
`,N)),N!==-1)U=U.slice(0,N);else return"";return U}function e_0(U){switch(U.tag){case 26:case 27:case 5:return e9(U.type);case 16:return e9("Lazy");case 13:return e9("Suspense");case 19:return e9("SuspenseList");case 0:case 15:return N_(U.type,!1);case 11:return N_(U.type.render,!1);case 1:return N_(U.type,!0);case 31:return e9("Activity");default:return""}}function at(U){try{var N="";do{N+=e_0(U);var V=U._debugInfo;if(V)for(var O=V.length-1;0<=O;O--){var C=V[O];if(typeof C.name==="string"){var k=N,f=C.env,g=e9(C.name+(f?" ["+f+"]":""));N=k+g}}U=U.return}while(U);return N}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function tt(U){return(U=U?U.displayName||U.name:"")?e9(U):""}function sw(){if(D9===null)return null;var U=D9._debugOwner;return U!=null?_(U):null}function $f0(){if(D9===null)return"";var U=D9;try{var N="";switch(U.tag===6&&(U=U.return),U.tag){case 26:case 27:case 5:N+=e9(U.type);break;case 13:N+=e9("Suspense");break;case 19:N+=e9("SuspenseList");break;case 31:N+=e9("Activity");break;case 30:case 0:case 15:case 1:U._debugOwner||N!==""||(N+=tt(U.type));break;case 11:U._debugOwner||N!==""||(N+=tt(U.type.render))}for(;U;)if(typeof U.tag==="number"){var V=U;U=V._debugOwner;var O=V._debugStack;U&&O&&(typeof O!=="string"&&(V._debugStack=O=ot(O)),O!==""&&(N+=`
`+O))}else if(U.debugStack!=null){var C=U.debugStack;(U=U.owner)&&C&&(N+=`
`+ot(C))}else break;var k=N}catch(f){k=`
Error generating stack: `+f.message+`
`+f.stack}return k}function k1(U,N,V,O,C,k,f){var g=D9;B_(U);try{return U!==null&&U._debugTask?U._debugTask.run(N.bind(null,V,O,C,k,f)):N(V,O,C,k,f)}finally{B_(g)}throw Error("runWithFiberInDEV should never be called in production. This is a bug in React.")}function B_(U){D0.getCurrentStack=U===null?null:$f0,IQ=!1,D9=U}function $3(U){switch(typeof U){case"bigint":case"boolean":case"number":case"string":case"undefined":return U;case"object":return c0(U),U;default:return""}}function et(U){var N=U.type;return(U=U.nodeName)&&U.toLowerCase()==="input"&&(N==="checkbox"||N==="radio")}function Qf0(U){var N=et(U)?"checked":"value",V=Object.getOwnPropertyDescriptor(U.constructor.prototype,N);c0(U[N]);var O=""+U[N];if(!U.hasOwnProperty(N)&&typeof V<"u"&&typeof V.get==="function"&&typeof V.set==="function"){var{get:C,set:k}=V;return Object.defineProperty(U,N,{configurable:!0,get:function(){return C.call(this)},set:function(f){c0(f),O=""+f,k.call(this,f)}}),Object.defineProperty(U,N,{enumerable:V.enumerable}),{getValue:function(){return O},setValue:function(f){c0(f),O=""+f},stopTracking:function(){U._valueTracker=null,delete U[N]}}}}function ow(U){U._valueTracker||(U._valueTracker=Qf0(U))}function $e(U){if(!U)return!1;var N=U._valueTracker;if(!N)return!0;var V=N.getValue(),O="";return U&&(O=et(U)?U.checked?"true":"false":U.value),U=O,U!==V?(N.setValue(U),!0):!1}function aw(U){if(U=U||(typeof document<"u"?document:void 0),typeof U>"u")return null;try{return U.activeElement||U.body}catch(N){return U.body}}function Q3(U){return U.replace(oI0,function(N){return"\\"+N.charCodeAt(0).toString(16)+" "})}function Qe(U,N){N.checked===void 0||N.defaultChecked===void 0||p50||(console.error("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",sw()||"A component",N.type),p50=!0),N.value===void 0||N.defaultValue===void 0||m50||(console.error("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",sw()||"A component",N.type),m50=!0)}function z_(U,N,V,O,C,k,f,g){if(U.name="",f!=null&&typeof f!=="function"&&typeof f!=="symbol"&&typeof f!=="boolean"?(q0(f,"type"),U.type=f):U.removeAttribute("type"),N!=null)if(f==="number"){if(N===0&&U.value===""||U.value!=N)U.value=""+$3(N)}else U.value!==""+$3(N)&&(U.value=""+$3(N));else f!=="submit"&&f!=="reset"||U.removeAttribute("value");N!=null?A_(U,f,$3(N)):V!=null?A_(U,f,$3(V)):O!=null&&U.removeAttribute("value"),C==null&&k!=null&&(U.defaultChecked=!!k),C!=null&&(U.checked=C&&typeof C!=="function"&&typeof C!=="symbol"),g!=null&&typeof g!=="function"&&typeof g!=="symbol"&&typeof g!=="boolean"?(q0(g,"name"),U.name=""+$3(g)):U.removeAttribute("name")}function Je(U,N,V,O,C,k,f,g){if(k!=null&&typeof k!=="function"&&typeof k!=="symbol"&&typeof k!=="boolean"&&(q0(k,"type"),U.type=k),N!=null||V!=null){if(!(k!=="submit"&&k!=="reset"||N!==void 0&&N!==null))return;V=V!=null?""+$3(V):"",N=N!=null?""+$3(N):V,g||N===U.value||(U.value=N),U.defaultValue=N}O=O!=null?O:C,O=typeof O!=="function"&&typeof O!=="symbol"&&!!O,U.checked=g?U.checked:!!O,U.defaultChecked=!!O,f!=null&&typeof f!=="function"&&typeof f!=="symbol"&&typeof f!=="boolean"&&(q0(f,"name"),U.name=f)}function A_(U,N,V){N==="number"&&aw(U.ownerDocument)===U||U.defaultValue===""+V||(U.defaultValue=""+V)}function Ke(U,N){N.value==null&&(typeof N.children==="object"&&N.children!==null?TU.Children.forEach(N.children,function(V){V==null||typeof V==="string"||typeof V==="number"||typeof V==="bigint"||n50||(n50=!0,console.error("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>."))}):N.dangerouslySetInnerHTML==null||l50||(l50=!0,console.error("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected."))),N.selected==null||d50||(console.error("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),d50=!0)}function Ye(){var U=sw();return U?`

Check the render method of \``+U+"`.":""}function TF(U,N,V,O){if(U=U.options,N){N={};for(var C=0;C<V.length;C++)N["$"+V[C]]=!0;for(V=0;V<U.length;V++)C=N.hasOwnProperty("$"+U[V].value),U[V].selected!==C&&(U[V].selected=C),C&&O&&(U[V].defaultSelected=!0)}else{V=""+$3(V),N=null;for(C=0;C<U.length;C++){if(U[C].value===V){U[C].selected=!0,O&&(U[C].defaultSelected=!0);return}N!==null||U[C].disabled||(N=U[C])}N!==null&&(N.selected=!0)}}function qe(U,N){for(U=0;U<i50.length;U++){var V=i50[U];if(N[V]!=null){var O=N8(N[V]);N.multiple&&!O?console.error("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",V,Ye()):!N.multiple&&O&&console.error("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",V,Ye())}}N.value===void 0||N.defaultValue===void 0||r50||(console.error("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://react.dev/link/controlled-components"),r50=!0)}function Ze(U,N){N.value===void 0||N.defaultValue===void 0||s50||(console.error("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://react.dev/link/controlled-components",sw()||"A component"),s50=!0),N.children!=null&&N.value==null&&console.error("Use the `defaultValue` or `value` props instead of setting children on <textarea>.")}function Xe(U,N,V){if(N!=null&&(N=""+$3(N),N!==U.value&&(U.value=N),V==null)){U.defaultValue!==N&&(U.defaultValue=N);return}U.defaultValue=V!=null?""+$3(V):""}function We(U,N,V,O){if(N==null){if(O!=null){if(V!=null)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(N8(O)){if(1<O.length)throw Error("<textarea> can only have at most one child.");O=O[0]}V=O}V==null&&(V=""),N=V}V=$3(N),U.defaultValue=V,O=U.textContent,O===V&&O!==""&&O!==null&&(U.value=O)}function Fe(U,N){return U.serverProps===void 0&&U.serverTail.length===0&&U.children.length===1&&3<U.distanceFromLeaf&&U.distanceFromLeaf>15-N?Fe(U.children[0],N):U}function A9(U){return"  "+"  ".repeat(U)}function DF(U){return"+ "+"  ".repeat(U)}function H2(U){return"- "+"  ".repeat(U)}function Ue(U){switch(U.tag){case 26:case 27:case 5:return U.type;case 16:return"Lazy";case 13:return"Suspense";case 19:return"SuspenseList";case 0:case 15:return U=U.type,U.displayName||U.name||null;case 11:return U=U.type.render,U.displayName||U.name||null;case 1:return U=U.type,U.displayName||U.name||null;default:return null}}function mB(U,N){return o50.test(U)?(U=JSON.stringify(U),U.length>N-2?8>N?'{"..."}':"{"+U.slice(0,N-7)+'..."}':"{"+U+"}"):U.length>N?5>N?'{"..."}':U.slice(0,N-3)+"...":U}function tw(U,N,V){var O=120-2*V;if(N===null)return DF(V)+mB(U,O)+`
`;if(typeof N==="string"){for(var C=0;C<N.length&&C<U.length&&N.charCodeAt(C)===U.charCodeAt(C);C++);return C>O-8&&10<C&&(U="..."+U.slice(C-8),N="..."+N.slice(C-8)),DF(V)+mB(U,O)+`
`+H2(V)+mB(N,O)+`
`}return A9(V)+mB(U,O)+`
`}function V_(U){return Object.prototype.toString.call(U).replace(/^\[object (.*)\]$/,function(N,V){return V})}function pB(U,N){switch(typeof U){case"string":return U=JSON.stringify(U),U.length>N?5>N?'"..."':U.slice(0,N-4)+'..."':U;case"object":if(U===null)return"null";if(N8(U))return"[...]";if(U.$$typeof===pY)return(N=h(U.type))?"<"+N+">":"<...>";var V=V_(U);if(V==="Object"){V="",N-=2;for(var O in U)if(U.hasOwnProperty(O)){var C=JSON.stringify(O);if(C!=='"'+O+'"'&&(O=C),N-=O.length-2,C=pB(U[O],15>N?N:15),N-=C.length,0>N){V+=V===""?"...":", ...";break}V+=(V===""?"":",")+O+":"+C}return"{"+V+"}"}return V;case"function":return(N=U.displayName||U.name)?"function "+N:"function";default:return String(U)}}function CF(U,N){return typeof U!=="string"||o50.test(U)?"{"+pB(U,N-2)+"}":U.length>N-2?5>N?'"..."':'"'+U.slice(0,N-5)+'..."':'"'+U+'"'}function R_(U,N,V){var O=120-V.length-U.length,C=[],k;for(k in N)if(N.hasOwnProperty(k)&&k!=="children"){var f=CF(N[k],120-V.length-k.length-1);O-=k.length+f.length+2,C.push(k+"="+f)}return C.length===0?V+"<"+U+`>
`:0<O?V+"<"+U+" "+C.join(" ")+`>
`:V+"<"+U+`
`+V+"  "+C.join(`
`+V+"  ")+`
`+V+`>
`}function Jf0(U,N,V){var O="",C=G5({},N),k;for(k in U)if(U.hasOwnProperty(k)){delete C[k];var f=120-2*V-k.length-2,g=pB(U[k],f);N.hasOwnProperty(k)?(f=pB(N[k],f),O+=DF(V)+k+": "+g+`
`,O+=H2(V)+k+": "+f+`
`):O+=DF(V)+k+": "+g+`
`}for(var d in C)C.hasOwnProperty(d)&&(U=pB(C[d],120-2*V-d.length-2),O+=H2(V)+d+": "+U+`
`);return O}function Kf0(U,N,V,O){var C="",k=new Map;for(r in V)V.hasOwnProperty(r)&&k.set(r.toLowerCase(),r);if(k.size===1&&k.has("children"))C+=R_(U,N,A9(O));else{for(var f in N)if(N.hasOwnProperty(f)&&f!=="children"){var g=120-2*(O+1)-f.length-1,d=k.get(f.toLowerCase());if(d!==void 0){k.delete(f.toLowerCase());var r=N[f];d=V[d];var A0=CF(r,g);g=CF(d,g),typeof r==="object"&&r!==null&&typeof d==="object"&&d!==null&&V_(r)==="Object"&&V_(d)==="Object"&&(2<Object.keys(r).length||2<Object.keys(d).length||-1<A0.indexOf("...")||-1<g.indexOf("..."))?C+=A9(O+1)+f+`={{
`+Jf0(r,d,O+2)+A9(O+1)+`}}
`:(C+=DF(O+1)+f+"="+A0+`
`,C+=H2(O+1)+f+"="+g+`
`)}else C+=A9(O+1)+f+"="+CF(N[f],g)+`
`}k.forEach(function(C0){if(C0!=="children"){var z0=120-2*(O+1)-C0.length-1;C+=H2(O+1)+C0+"="+CF(V[C0],z0)+`
`}}),C=C===""?A9(O)+"<"+U+`>
`:A9(O)+"<"+U+`
`+C+A9(O)+`>
`}if(U=V.children,N=N.children,typeof U==="string"||typeof U==="number"||typeof U==="bigint"){if(k="",typeof N==="string"||typeof N==="number"||typeof N==="bigint")k=""+N;C+=tw(k,""+U,O+1)}else if(typeof N==="string"||typeof N==="number"||typeof N==="bigint")C=U==null?C+tw(""+N,null,O+1):C+tw(""+N,void 0,O+1);return C}function He(U,N){var V=Ue(U);if(V===null){V="";for(U=U.child;U;)V+=He(U,N),U=U.sibling;return V}return A9(N)+"<"+V+`>
`}function G_(U,N){var V=Fe(U,N);if(V!==U&&(U.children.length!==1||U.children[0]!==V))return A9(N)+`...
`+G_(V,N+1);V="";var O=U.fiber._debugInfo;if(O)for(var C=0;C<O.length;C++){var k=O[C].name;typeof k==="string"&&(V+=A9(N)+"<"+k+`>
`,N++)}if(O="",C=U.fiber.pendingProps,U.fiber.tag===6)O=tw(C,U.serverProps,N),N++;else if(k=Ue(U.fiber),k!==null)if(U.serverProps===void 0){O=N;var f=120-2*O-k.length-2,g="";for(r in C)if(C.hasOwnProperty(r)&&r!=="children"){var d=CF(C[r],15);if(f-=r.length+d.length+2,0>f){g+=" ...";break}g+=" "+r+"="+d}O=A9(O)+"<"+k+g+`>
`,N++}else U.serverProps===null?(O=R_(k,C,DF(N)),N++):typeof U.serverProps==="string"?console.error("Should not have matched a non HostText fiber to a Text node. This is a bug in React."):(O=Kf0(k,C,U.serverProps,N),N++);var r="";C=U.fiber.child;for(k=0;C&&k<U.children.length;)f=U.children[k],f.fiber===C?(r+=G_(f,N),k++):r+=He(C,N),C=C.sibling;C&&0<U.children.length&&(r+=A9(N)+`...
`),C=U.serverTail,U.serverProps===null&&N--;for(U=0;U<C.length;U++)k=C[U],r=typeof k==="string"?r+(H2(N)+mB(k,120-2*N)+`
`):r+R_(k.type,k.props,H2(N));return V+O+r}function w_(U){try{return`

`+G_(U,0)}catch(N){return""}}function Ne(U,N,V){for(var O=N,C=null,k=0;O;)O===U&&(k=0),C={fiber:O,children:C!==null?[C]:[],serverProps:O===N?V:O===U?null:void 0,serverTail:[],distanceFromLeaf:k},k++,O=O.return;return C!==null?w_(C).replaceAll(/^[+-]/gm,">"):""}function Be(U,N){var V=G5({},U||t50),O={tag:N};if(a50.indexOf(N)!==-1&&(V.aTagInScope=null,V.buttonTagInScope=null,V.nobrTagInScope=null),tI0.indexOf(N)!==-1&&(V.pTagInButtonScope=null),aI0.indexOf(N)!==-1&&N!=="address"&&N!=="div"&&N!=="p"&&(V.listItemTagAutoclosing=null,V.dlItemTagAutoclosing=null),V.current=O,N==="form"&&(V.formTag=O),N==="a"&&(V.aTagInScope=O),N==="button"&&(V.buttonTagInScope=O),N==="nobr"&&(V.nobrTagInScope=O),N==="p"&&(V.pTagInButtonScope=O),N==="li"&&(V.listItemTagAutoclosing=O),N==="dd"||N==="dt")V.dlItemTagAutoclosing=O;return N==="#document"||N==="html"?V.containerTagInScope=null:V.containerTagInScope||(V.containerTagInScope=O),U!==null||N!=="#document"&&N!=="html"&&N!=="body"?V.implicitRootScope===!0&&(V.implicitRootScope=!1):V.implicitRootScope=!0,V}function ze(U,N,V){switch(N){case"select":return U==="hr"||U==="option"||U==="optgroup"||U==="script"||U==="template"||U==="#text";case"optgroup":return U==="option"||U==="#text";case"option":return U==="#text";case"tr":return U==="th"||U==="td"||U==="style"||U==="script"||U==="template";case"tbody":case"thead":case"tfoot":return U==="tr"||U==="style"||U==="script"||U==="template";case"colgroup":return U==="col"||U==="template";case"table":return U==="caption"||U==="colgroup"||U==="tbody"||U==="tfoot"||U==="thead"||U==="style"||U==="script"||U==="template";case"head":return U==="base"||U==="basefont"||U==="bgsound"||U==="link"||U==="meta"||U==="title"||U==="noscript"||U==="noframes"||U==="style"||U==="script"||U==="template";case"html":if(V)break;return U==="head"||U==="body"||U==="frameset";case"frameset":return U==="frame";case"#document":if(!V)return U==="html"}switch(U){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return N!=="h1"&&N!=="h2"&&N!=="h3"&&N!=="h4"&&N!=="h5"&&N!=="h6";case"rp":case"rt":return eI0.indexOf(N)===-1;case"caption":case"col":case"colgroup":case"frameset":case"frame":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return N==null;case"head":return V||N===null;case"html":return V&&N==="#document"||N===null;case"body":return V&&(N==="#document"||N==="html")||N===null}return!0}function Yf0(U,N){switch(U){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return N.pTagInButtonScope;case"form":return N.formTag||N.pTagInButtonScope;case"li":return N.listItemTagAutoclosing;case"dd":case"dt":return N.dlItemTagAutoclosing;case"button":return N.buttonTagInScope;case"a":return N.aTagInScope;case"nobr":return N.nobrTagInScope}return null}function Ae(U,N){for(;U;){switch(U.tag){case 5:case 26:case 27:if(U.type===N)return U}U=U.return}return null}function O_(U,N){N=N||t50;var V=N.current;if(N=(V=ze(U,V&&V.tag,N.implicitRootScope)?null:V)?null:Yf0(U,N),N=V||N,!N)return!0;var O=N.tag;if(N=String(!!V)+"|"+U+"|"+O,QT[N])return!1;QT[N]=!0;var C=(N=D9)?Ae(N.return,O):null,k=N!==null&&C!==null?Ne(C,N,null):"",f="<"+U+">";return V?(V="",O==="table"&&U==="tr"&&(V+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),console.error(`In HTML, %s cannot be a child of <%s>.%s
This will cause a hydration error.%s`,f,O,V,k)):console.error(`In HTML, %s cannot be a descendant of <%s>.
This will cause a hydration error.%s`,f,O,k),N&&(U=N.return,C===null||U===null||C===U&&U._debugOwner===N._debugOwner||k1(C,function(){console.error(`<%s> cannot contain a nested %s.
See this log for the ancestor stack trace.`,O,f)})),!1}function ew(U,N,V){if(V||ze("#text",N,!1))return!0;if(V="#text|"+N,QT[V])return!1;QT[V]=!0;var O=(V=D9)?Ae(V,N):null;return V=V!==null&&O!==null?Ne(O,V,V.tag!==6?{children:null}:null):"",/\S/.test(U)?console.error(`In HTML, text nodes cannot be a child of <%s>.
This will cause a hydration error.%s`,N,V):console.error(`In HTML, whitespace text nodes cannot be a child of <%s>. Make sure you don't have any extra whitespace between tags on each line of your source code.
This will cause a hydration error.%s`,N,V),!1}function dB(U,N){if(N){var V=U.firstChild;if(V&&V===U.lastChild&&V.nodeType===3){V.nodeValue=N;return}}U.textContent=N}function qf0(U){return U.replace(JM0,function(N,V){return V.toUpperCase()})}function Ve(U,N,V){var O=N.indexOf("--")===0;O||(-1<N.indexOf("-")?uF.hasOwnProperty(N)&&uF[N]||(uF[N]=!0,console.error("Unsupported style property %s. Did you mean %s?",N,qf0(N.replace(QM0,"ms-")))):$M0.test(N)?uF.hasOwnProperty(N)&&uF[N]||(uF[N]=!0,console.error("Unsupported vendor-prefixed style property %s. Did you mean %s?",N,N.charAt(0).toUpperCase()+N.slice(1))):!Q60.test(V)||SI.hasOwnProperty(V)&&SI[V]||(SI[V]=!0,console.error(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,N,V.replace(Q60,""))),typeof V==="number"&&(isNaN(V)?J60||(J60=!0,console.error("`NaN` is an invalid value for the `%s` css style property.",N)):isFinite(V)||K60||(K60=!0,console.error("`Infinity` is an invalid value for the `%s` css style property.",N)))),V==null||typeof V==="boolean"||V===""?O?U.setProperty(N,""):N==="float"?U.cssFloat="":U[N]="":O?U.setProperty(N,V):typeof V!=="number"||V===0||Y60.has(N)?N==="float"?U.cssFloat=V:(k0(V,N),U[N]=(""+V).trim()):U[N]=V+"px"}function Re(U,N,V){if(N!=null&&typeof N!=="object")throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");if(N&&Object.freeze(N),U=U.style,V!=null){if(N){var O={};if(V){for(var C in V)if(V.hasOwnProperty(C)&&!N.hasOwnProperty(C))for(var k=vI[C]||[C],f=0;f<k.length;f++)O[k[f]]=C}for(var g in N)if(N.hasOwnProperty(g)&&(!V||V[g]!==N[g]))for(C=vI[g]||[g],k=0;k<C.length;k++)O[C[k]]=g;g={};for(var d in N)for(C=vI[d]||[d],k=0;k<C.length;k++)g[C[k]]=d;d={};for(var r in O)if(C=O[r],(k=g[r])&&C!==k&&(f=C+","+k,!d[f])){d[f]=!0,f=console;var A0=N[C];f.error.call(f,"%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",A0==null||typeof A0==="boolean"||A0===""?"Removing":"Updating",C,k)}}for(var C0 in V)!V.hasOwnProperty(C0)||N!=null&&N.hasOwnProperty(C0)||(C0.indexOf("--")===0?U.setProperty(C0,""):C0==="float"?U.cssFloat="":U[C0]="");for(var z0 in N)r=N[z0],N.hasOwnProperty(z0)&&V[z0]!==r&&Ve(U,z0,r)}else for(O in N)N.hasOwnProperty(O)&&Ve(U,O,N[O])}function nB(U){if(U.indexOf("-")===-1)return!1;switch(U){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ge(U){return KM0.get(U)||U}function Zf0(U,N){if(FK.call(pF,N)&&pF[N])return!0;if(qM0.test(N)){if(U="aria-"+N.slice(4).toLowerCase(),U=q60.hasOwnProperty(U)?U:null,U==null)return console.error("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",N),pF[N]=!0;if(N!==U)return console.error("Invalid ARIA attribute `%s`. Did you mean `%s`?",N,U),pF[N]=!0}if(YM0.test(N)){if(U=N.toLowerCase(),U=q60.hasOwnProperty(U)?U:null,U==null)return pF[N]=!0,!1;N!==U&&(console.error("Unknown ARIA attribute `%s`. Did you mean `%s`?",N,U),pF[N]=!0)}return!0}function Xf0(U,N){var V=[],O;for(O in N)Zf0(U,O)||V.push(O);N=V.map(function(C){return"`"+C+"`"}).join(", "),V.length===1?console.error("Invalid aria prop %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",N,U):1<V.length&&console.error("Invalid aria props %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",N,U)}function Wf0(U,N,V,O){if(FK.call(t8,N)&&t8[N])return!0;var C=N.toLowerCase();if(C==="onfocusin"||C==="onfocusout")return console.error("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),t8[N]=!0;if(typeof V==="function"&&(U==="form"&&N==="action"||U==="input"&&N==="formAction"||U==="button"&&N==="formAction"))return!0;if(O!=null){if(U=O.possibleRegistrationNames,O.registrationNameDependencies.hasOwnProperty(N))return!0;if(O=U.hasOwnProperty(C)?U[C]:null,O!=null)return console.error("Invalid event handler property `%s`. Did you mean `%s`?",N,O),t8[N]=!0;if(X60.test(N))return console.error("Unknown event handler property `%s`. It will be ignored.",N),t8[N]=!0}else if(X60.test(N))return ZM0.test(N)&&console.error("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",N),t8[N]=!0;if(XM0.test(N)||WM0.test(N))return!0;if(C==="innerhtml")return console.error("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),t8[N]=!0;if(C==="aria")return console.error("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),t8[N]=!0;if(C==="is"&&V!==null&&V!==void 0&&typeof V!=="string")return console.error("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof V),t8[N]=!0;if(typeof V==="number"&&isNaN(V))return console.error("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",N),t8[N]=!0;if(KT.hasOwnProperty(C)){if(C=KT[C],C!==N)return console.error("Invalid DOM property `%s`. Did you mean `%s`?",N,C),t8[N]=!0}else if(N!==C)return console.error("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",N,C),t8[N]=!0;switch(N){case"dangerouslySetInnerHTML":case"children":case"style":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":return!0;case"innerText":case"textContent":return!0}switch(typeof V){case"boolean":switch(N){case"autoFocus":case"checked":case"multiple":case"muted":case"selected":case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"capture":case"download":case"inert":return!0;default:if(C=N.toLowerCase().slice(0,5),C==="data-"||C==="aria-")return!0;return V?console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',V,N,N,V,N):console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',V,N,N,V,N,N,N),t8[N]=!0}case"function":case"symbol":return t8[N]=!0,!1;case"string":if(V==="false"||V==="true"){switch(N){case"checked":case"selected":case"multiple":case"muted":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"inert":break;default:return!0}console.error("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",V,N,V==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',N,V),t8[N]=!0}}return!0}function Ff0(U,N,V){var O=[],C;for(C in N)Wf0(U,C,N[C],V)||O.push(C);N=O.map(function(k){return"`"+k+"`"}).join(", "),O.length===1?console.error("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://react.dev/link/attribute-behavior ",N,U):1<O.length&&console.error("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://react.dev/link/attribute-behavior ",N,U)}function lB(U){return FM0.test(""+U)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":U}function T_(U){return U=U.target||U.srcElement||window,U.correspondingUseElement&&(U=U.correspondingUseElement),U.nodeType===3?U.parentNode:U}function we(U){var N=p(U);if(N&&(U=N.stateNode)){var V=U[S4]||null;$:switch(U=N.stateNode,N.type){case"input":if(z_(U,V.value,V.defaultValue,V.defaultValue,V.checked,V.defaultChecked,V.type,V.name),N=V.name,V.type==="radio"&&N!=null){for(V=U;V.parentNode;)V=V.parentNode;q0(N,"name"),V=V.querySelectorAll('input[name="'+Q3(""+N)+'"][type="radio"]');for(N=0;N<V.length;N++){var O=V[N];if(O!==U&&O.form===U.form){var C=O[S4]||null;if(!C)throw Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");z_(O,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(N=0;N<V.length;N++)O=V[N],O.form===U.form&&$e(O)}break $;case"textarea":Xe(U,V.value,V.defaultValue);break $;case"select":N=V.value,N!=null&&TF(U,!!V.multiple,N,!1)}}}function Oe(U,N,V){if(_I)return U(N,V);_I=!0;try{var O=U(N);return O}finally{if(_I=!1,dF!==null||nF!==null){if(SF(),dF&&(N=dF,U=nF,nF=dF=null,we(N),U))for(N=0;N<U.length;N++)we(U[N])}}}function rB(U,N){var V=U.stateNode;if(V===null)return null;var O=V[S4]||null;if(O===null)return null;V=O[N];$:switch(N){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(O=!O.disabled)||(U=U.type,O=!(U==="button"||U==="input"||U==="select"||U==="textarea")),U=!O;break $;default:U=!1}if(U)return null;if(V&&typeof V!=="function")throw Error("Expected `"+N+"` listener to be a function, instead got a value of `"+typeof V+"` type.");return V}function Te(){if(YT)return YT;var U,N=II,V=N.length,O,C="value"in iY?iY.value:iY.textContent,k=C.length;for(U=0;U<V&&N[U]===C[U];U++);var f=V-U;for(O=1;O<=f&&N[V-O]===C[k-O];O++);return YT=C.slice(U,1<O?1-O:void 0)}function $O(U){var N=U.keyCode;return"charCode"in U?(U=U.charCode,U===0&&N===13&&(U=13)):U=N,U===10&&(U=13),32<=U||U===13?U:0}function QO(){return!0}function De(){return!1}function E4(U){function N(V,O,C,k,f){this._reactName=V,this._targetInst=C,this.type=O,this.nativeEvent=k,this.target=f,this.currentTarget=null;for(var g in U)U.hasOwnProperty(g)&&(V=U[g],this[g]=V?V(k):k[g]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?QO:De,this.isPropagationStopped=De,this}return G5(N.prototype,{preventDefault:function(){this.defaultPrevented=!0;var V=this.nativeEvent;V&&(V.preventDefault?V.preventDefault():typeof V.returnValue!=="unknown"&&(V.returnValue=!1),this.isDefaultPrevented=QO)},stopPropagation:function(){var V=this.nativeEvent;V&&(V.stopPropagation?V.stopPropagation():typeof V.cancelBubble!=="unknown"&&(V.cancelBubble=!0),this.isPropagationStopped=QO)},persist:function(){},isPersistent:QO}),N}function Uf0(U){var N=this.nativeEvent;return N.getModifierState?N.getModifierState(U):(U=DM0[U])?!!N[U]:!1}function D_(){return Uf0}function Ce(U,N){switch(U){case"keyup":return IM0.indexOf(N.keyCode)!==-1;case"keydown":return N.keyCode!==H60;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pe(U){return U=U.detail,typeof U==="object"&&"data"in U?U.data:null}function Hf0(U,N){switch(U){case"compositionend":return Pe(N);case"keypress":if(N.which!==B60)return null;return A60=!0,z60;case"textInput":return U=N.data,U===z60&&A60?null:U;default:return null}}function Nf0(U,N){if(lF)return U==="compositionend"||!yI&&Ce(U,N)?(U=Te(),YT=II=iY=null,lF=!1,U):null;switch(U){case"paste":return null;case"keypress":if(!(N.ctrlKey||N.altKey||N.metaKey)||N.ctrlKey&&N.altKey){if(N.char&&1<N.char.length)return N.char;if(N.which)return String.fromCharCode(N.which)}return null;case"compositionend":return N60&&N.locale!=="ko"?null:N.data;default:return null}}function ke(U){var N=U&&U.nodeName&&U.nodeName.toLowerCase();return N==="input"?!!bM0[U.type]:N==="textarea"?!0:!1}function Bf0(U){if(!MQ)return!1;U="on"+U;var N=U in document;return N||(N=document.createElement("div"),N.setAttribute(U,"return;"),N=typeof N[U]==="function"),N}function je(U,N,V,O){dF?nF?nF.push(O):nF=[O]:dF=O,N=xO(N,"onChange"),0<N.length&&(V=new qT("onChange","change",null,V,O),U.push({event:V,listeners:N}))}function zf0(U){r10(U,0)}function JO(U){var N=H0(U);if($e(N))return U}function Ee(U,N){if(U==="change")return N}function Le(){Sz&&(Sz.detachEvent("onpropertychange",he),_z=Sz=null)}function he(U){if(U.propertyName==="value"&&JO(_z)){var N=[];je(N,_z,U,T_(U)),Oe(zf0,N)}}function Af0(U,N,V){U==="focusin"?(Le(),Sz=N,_z=V,Sz.attachEvent("onpropertychange",he)):U==="focusout"&&Le()}function Vf0(U){if(U==="selectionchange"||U==="keyup"||U==="keydown")return JO(_z)}function Rf0(U,N){if(U==="click")return JO(N)}function Gf0(U,N){if(U==="input"||U==="change")return JO(N)}function wf0(U,N){return U===N&&(U!==0||1/U===1/N)||U!==U&&N!==N}function iB(U,N){if(e8(U,N))return!0;if(typeof U!=="object"||U===null||typeof N!=="object"||N===null)return!1;var V=Object.keys(U),O=Object.keys(N);if(V.length!==O.length)return!1;for(O=0;O<V.length;O++){var C=V[O];if(!FK.call(N,C)||!e8(U[C],N[C]))return!1}return!0}function ve(U){for(;U&&U.firstChild;)U=U.firstChild;return U}function Se(U,N){var V=ve(U);U=0;for(var O;V;){if(V.nodeType===3){if(O=U+V.textContent.length,U<=N&&O>=N)return{node:V,offset:N-U};U=O}$:{for(;V;){if(V.nextSibling){V=V.nextSibling;break $}V=V.parentNode}V=void 0}V=ve(V)}}function _e(U,N){return U&&N?U===N?!0:U&&U.nodeType===3?!1:N&&N.nodeType===3?_e(U,N.parentNode):("contains"in U)?U.contains(N):U.compareDocumentPosition?!!(U.compareDocumentPosition(N)&16):!1:!1}function fe(U){U=U!=null&&U.ownerDocument!=null&&U.ownerDocument.defaultView!=null?U.ownerDocument.defaultView:window;for(var N=aw(U.document);N instanceof U.HTMLIFrameElement;){try{var V=typeof N.contentWindow.location.href==="string"}catch(O){V=!1}if(V)U=N.contentWindow;else break;N=aw(U.document)}return N}function C_(U){var N=U&&U.nodeName&&U.nodeName.toLowerCase();return N&&(N==="input"&&(U.type==="text"||U.type==="search"||U.type==="tel"||U.type==="url"||U.type==="password")||N==="textarea"||U.contentEditable==="true")}function Ie(U,N,V){var O=V.window===V?V.document:V.nodeType===9?V:V.ownerDocument;cI||rF==null||rF!==aw(O)||(O=rF,("selectionStart"in O)&&C_(O)?O={start:O.selectionStart,end:O.selectionEnd}:(O=(O.ownerDocument&&O.ownerDocument.defaultView||window).getSelection(),O={anchorNode:O.anchorNode,anchorOffset:O.anchorOffset,focusNode:O.focusNode,focusOffset:O.focusOffset}),fz&&iB(fz,O)||(fz=O,O=xO(xI,"onSelect"),0<O.length&&(N=new qT("onSelect","select",null,N,V),U.push({event:N,listeners:O}),N.target=rF)))}function N2(U,N){var V={};return V[U.toLowerCase()]=N.toLowerCase(),V["Webkit"+U]="webkit"+N,V["Moz"+U]="moz"+N,V}function B2(U){if(uI[U])return uI[U];if(!iF[U])return U;var N=iF[U],V;for(V in N)if(N.hasOwnProperty(V)&&V in R60)return uI[U]=N[V];return U}function V$(U,N){D60.set(U,N),C1(N,[U])}function V9(U,N){if(typeof U==="object"&&U!==null){var V=pI.get(U);if(V!==void 0)return V;return N={value:U,source:N,stack:at(N)},pI.set(U,N),N}return{value:U,source:N,stack:at(N)}}function KO(){for(var U=sF,N=dI=sF=0;N<U;){var V=Y3[N];Y3[N++]=null;var O=Y3[N];Y3[N++]=null;var C=Y3[N];Y3[N++]=null;var k=Y3[N];if(Y3[N++]=null,O!==null&&C!==null){var f=O.pending;f===null?C.next=C:(C.next=f.next,f.next=C),O.pending=C}k!==0&&Me(V,C,k)}}function YO(U,N,V,O){Y3[sF++]=U,Y3[sF++]=N,Y3[sF++]=V,Y3[sF++]=O,dI|=O,U.lanes|=O,U=U.alternate,U!==null&&(U.lanes|=O)}function P_(U,N,V,O){return YO(U,N,V,O),qO(U)}function L4(U,N){return YO(U,null,null,N),qO(U)}function Me(U,N,V){U.lanes|=V;var O=U.alternate;O!==null&&(O.lanes|=V);for(var C=!1,k=U.return;k!==null;)k.childLanes|=V,O=k.alternate,O!==null&&(O.childLanes|=V),k.tag===22&&(U=k.stateNode,U===null||U._visibility&XT||(C=!0)),U=k,k=k.return;return U.tag===3?(k=U.stateNode,C&&N!==null&&(C=31-a8(V),U=k.hiddenUpdates,O=U[C],O===null?U[C]=[N]:O.push(N),N.lane=V|536870912),k):null}function qO(U){if(QA>qb0)throw u2=QA=0,JA=OM=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");u2>Zb0&&(u2=0,JA=null,console.error("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render.")),U.alternate===null&&(U.flags&4098)!==0&&c10(U);for(var N=U,V=N.return;V!==null;)N.alternate===null&&(N.flags&4098)!==0&&c10(U),N=V,V=N.return;return N.tag===3?N.stateNode:null}function z2(U){if(q3===null)return U;var N=q3(U);return N===void 0?U:N.current}function k_(U){if(q3===null)return U;var N=q3(U);return N===void 0?U!==null&&U!==void 0&&typeof U.render==="function"&&(N=z2(U.render),U.render!==N)?(N={$$typeof:Dz,render:N},U.displayName!==void 0&&(N.displayName=U.displayName),N):U:N.current}function be(U,N){if(q3===null)return!1;var V=U.elementType;N=N.type;var O=!1,C=typeof N==="object"&&N!==null?N.$$typeof:null;switch(U.tag){case 1:typeof N==="function"&&(O=!0);break;case 0:typeof N==="function"?O=!0:C===O9&&(O=!0);break;case 11:C===Dz?O=!0:C===O9&&(O=!0);break;case 14:case 15:C===oO?O=!0:C===O9&&(O=!0);break;default:return!1}return O&&(U=q3(V),U!==void 0&&U===q3(N))?!0:!1}function ge(U){q3!==null&&typeof WeakSet==="function"&&(oF===null&&(oF=new WeakSet),oF.add(U))}function j_(U,N,V){var{alternate:O,child:C,sibling:k,tag:f,type:g}=U,d=null;switch(f){case 0:case 15:case 1:d=g;break;case 11:d=g.render}if(q3===null)throw Error("Expected resolveFamily to be set during hot reload.");var r=!1;if(g=!1,d!==null&&(d=q3(d),d!==void 0&&(V.has(d)?g=!0:N.has(d)&&(f===1?g=!0:r=!0))),oF!==null&&(oF.has(U)||O!==null&&oF.has(O))&&(g=!0),g&&(U._debugNeedsRemount=!0),g||r)O=L4(U,2),O!==null&&V7(O,U,2);C===null||g||j_(C,N,V),k!==null&&j_(k,N,V)}function Of0(U,N,V,O){this.tag=U,this.key=V,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=N,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null,this.actualDuration=-0,this.actualStartTime=-1.1,this.treeBaseDuration=this.selfBaseDuration=-0,this._debugTask=this._debugStack=this._debugOwner=this._debugInfo=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,P60||typeof Object.preventExtensions!=="function"||Object.preventExtensions(this)}function E_(U){return U=U.prototype,!(!U||!U.isReactComponent)}function eJ(U,N){var V=U.alternate;switch(V===null?(V=z(U.tag,N,U.key,U.mode),V.elementType=U.elementType,V.type=U.type,V.stateNode=U.stateNode,V._debugOwner=U._debugOwner,V._debugStack=U._debugStack,V._debugTask=U._debugTask,V._debugHookTypes=U._debugHookTypes,V.alternate=U,U.alternate=V):(V.pendingProps=N,V.type=U.type,V.flags=0,V.subtreeFlags=0,V.deletions=null,V.actualDuration=-0,V.actualStartTime=-1.1),V.flags=U.flags&65011712,V.childLanes=U.childLanes,V.lanes=U.lanes,V.child=U.child,V.memoizedProps=U.memoizedProps,V.memoizedState=U.memoizedState,V.updateQueue=U.updateQueue,N=U.dependencies,V.dependencies=N===null?null:{lanes:N.lanes,firstContext:N.firstContext,_debugThenableState:N._debugThenableState},V.sibling=U.sibling,V.index=U.index,V.ref=U.ref,V.refCleanup=U.refCleanup,V.selfBaseDuration=U.selfBaseDuration,V.treeBaseDuration=U.treeBaseDuration,V._debugInfo=U._debugInfo,V._debugNeedsRemount=U._debugNeedsRemount,V.tag){case 0:case 15:V.type=z2(U.type);break;case 1:V.type=z2(U.type);break;case 11:V.type=k_(U.type)}return V}function ye(U,N){U.flags&=65011714;var V=U.alternate;return V===null?(U.childLanes=0,U.lanes=N,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null,U.selfBaseDuration=0,U.treeBaseDuration=0):(U.childLanes=V.childLanes,U.lanes=V.lanes,U.child=V.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=V.memoizedProps,U.memoizedState=V.memoizedState,U.updateQueue=V.updateQueue,U.type=V.type,N=V.dependencies,U.dependencies=N===null?null:{lanes:N.lanes,firstContext:N.firstContext,_debugThenableState:N._debugThenableState},U.selfBaseDuration=V.selfBaseDuration,U.treeBaseDuration=V.treeBaseDuration),U}function L_(U,N,V,O,C,k){var f=0,g=U;if(typeof U==="function")E_(U)&&(f=1),g=z2(g);else if(typeof U==="string")f=m(),f=OI0(U,V,f)?26:U==="html"||U==="head"||U==="body"?27:5;else $:switch(U){case GI:return N=z(31,V,N,C),N.elementType=GI,N.lanes=k,N;case yF:return A2(V.children,C,k,N);case sO:f=8,C|=_8,C|=O$;break;case zI:return U=V,O=C,typeof U.id!=="string"&&console.error('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof U.id),N=z(12,U,N,O|B8),N.elementType=zI,N.lanes=k,N.stateNode={effectDuration:0,passiveEffectDuration:0},N;case VI:return N=z(13,V,N,C),N.elementType=VI,N.lanes=k,N;case RI:return N=z(19,V,N,C),N.elementType=RI,N.lanes=k,N;default:if(typeof U==="object"&&U!==null)switch(U.$$typeof){case fI0:case vQ:f=10;break $;case AI:f=9;break $;case Dz:f=11,g=k_(g);break $;case oO:f=14;break $;case O9:f=16,g=null;break $}if(g="",U===void 0||typeof U==="object"&&U!==null&&Object.keys(U).length===0)g+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.";U===null?V="null":N8(U)?V="array":U!==void 0&&U.$$typeof===pY?(V="<"+(h(U.type)||"Unknown")+" />",g=" Did you accidentally export a JSX literal instead of a component?"):V=typeof U,(f=O?_(O):null)&&(g+=`

Check the render method of \``+f+"`."),f=29,V=Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(V+"."+g)),g=null}return N=z(f,V,N,C),N.elementType=U,N.type=g,N.lanes=k,N._debugOwner=O,N}function ZO(U,N,V){return N=L_(U.type,U.key,U.props,U._owner,N,V),N._debugOwner=U._owner,N._debugStack=U._debugStack,N._debugTask=U._debugTask,N}function A2(U,N,V,O){return U=z(7,U,O,N),U.lanes=V,U}function h_(U,N,V){return U=z(6,U,null,N),U.lanes=V,U}function v_(U,N,V){return N=z(4,U.children!==null?U.children:[],U.key,N),N.lanes=V,N.stateNode={containerInfo:U.containerInfo,pendingChildren:null,implementation:U.implementation},N}function V2(U,N){R2(),aF[tF++]=FT,aF[tF++]=WT,WT=U,FT=N}function xe(U,N,V){R2(),Z3[X3++]=HK,Z3[X3++]=NK,Z3[X3++]=h2,h2=U;var O=HK;U=NK;var C=32-a8(O)-1;O&=~(1<<C),V+=1;var k=32-a8(N)+C;if(30<k){var f=C-C%5;k=(O&(1<<f)-1).toString(32),O>>=f,C-=f,HK=1<<32-a8(N)+C|V<<C|O,NK=k+U}else HK=1<<k|V<<C|O,NK=U}function S_(U){R2(),U.return!==null&&(V2(U,1),xe(U,1,0))}function __(U){for(;U===WT;)WT=aF[--tF],aF[tF]=null,FT=aF[--tF],aF[tF]=null;for(;U===h2;)h2=Z3[--X3],Z3[X3]=null,NK=Z3[--X3],Z3[X3]=null,HK=Z3[--X3],Z3[X3]=null}function R2(){b5||console.error("Expected to be hydrating. This is a bug in React. Please file an issue.")}function G2(U,N){if(U.return===null){if(W3===null)W3={fiber:U,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:N};else{if(W3.fiber!==U)throw Error("Saw multiple hydration diff roots in a pass. This is a bug in React.");W3.distanceFromLeaf>N&&(W3.distanceFromLeaf=N)}return W3}var V=G2(U.return,N+1).children;if(0<V.length&&V[V.length-1].fiber===U)return V=V[V.length-1],V.distanceFromLeaf>N&&(V.distanceFromLeaf=N),V;return N={fiber:U,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:N},V.push(N),N}function f_(U,N){BK||(U=G2(U,0),U.serverProps=null,N!==null&&(N=X50(N),U.serverTail.push(N)))}function w2(U){var N="",V=W3;throw V!==null&&(W3=null,N=w_(V)),aB(V9(Error(`Hydration failed because the server rendered HTML didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

https://react.dev/link/hydration-mismatch`+N),U)),nI}function ce(U){var{stateNode:N,type:V,memoizedProps:O}=U;switch(N[S8]=U,N[S4]=O,af(V,O),V){case"dialog":E5("cancel",N),E5("close",N);break;case"iframe":case"object":case"embed":E5("load",N);break;case"video":case"audio":for(V=0;V<KA.length;V++)E5(KA[V],N);break;case"source":E5("error",N);break;case"img":case"image":case"link":E5("error",N),E5("load",N);break;case"details":E5("toggle",N);break;case"input":$5("input",O),E5("invalid",N),Qe(N,O),Je(N,O.value,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name,!0),ow(N);break;case"option":Ke(N,O);break;case"select":$5("select",O),E5("invalid",N),qe(N,O);break;case"textarea":$5("textarea",O),E5("invalid",N),Ze(N,O),We(N,O.value,O.defaultValue,O.children),ow(N)}V=O.children,typeof V!=="string"&&typeof V!=="number"&&typeof V!=="bigint"||N.textContent===""+V||O.suppressHydrationWarning===!0||a10(N.textContent,V)?(O.popover!=null&&(E5("beforetoggle",N),E5("toggle",N)),O.onScroll!=null&&E5("scroll",N),O.onScrollEnd!=null&&E5("scrollend",N),O.onClick!=null&&(N.onclick=cO),N=!0):N=!1,N||w2(U)}function ue(U){for($4=U.return;$4;)switch($4.tag){case 5:case 13:bQ=!1;return;case 27:case 3:bQ=!0;return;default:$4=$4.return}}function sB(U){if(U!==$4)return!1;if(!b5)return ue(U),b5=!0,!1;var N=U.tag,V;if(V=N!==3&&N!==27){if(V=N===5)V=U.type,V=!(V!=="form"&&V!=="button")||JI(U.type,U.memoizedProps);V=!V}if(V&&e6){for(V=e6;V;){var O=G2(U,0),C=X50(V);O.serverTail.push(C),V=C.type==="Suspense"?F50(V):K3(V.nextSibling)}w2(U)}if(ue(U),N===13){if(U=U.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");e6=F50(U)}else N===27?(N=e6,mY(U.type)?(U=_M,_M=null,e6=U):e6=N):e6=$4?K3(U.stateNode.nextSibling):null;return!0}function oB(){e6=$4=null,BK=b5=!1}function me(){var U=v2;return U!==null&&(K4===null?K4=U:K4.push.apply(K4,U),v2=null),U}function aB(U){v2===null?v2=[U]:v2.push(U)}function pe(){var U=W3;if(U!==null){W3=null;for(var N=w_(U);0<U.children.length;)U=U.children[0];k1(U.fiber,function(){console.error(`A tree hydrated but some attributes of the server rendered HTML didn't match the client properties. This won't be patched up. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

%s%s`,"https://react.dev/link/hydration-mismatch",N)})}}function XO(){eF=UT=null,$U=!1}function IY(U,N,V){y(lI,N._currentValue,U),N._currentValue=V,y(rI,N._currentRenderer,U),N._currentRenderer!==void 0&&N._currentRenderer!==null&&N._currentRenderer!==L60&&console.error("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),N._currentRenderer=L60}function $K(U,N){U._currentValue=lI.current;var V=rI.current;M(rI,N),U._currentRenderer=V,M(lI,N)}function I_(U,N,V){for(;U!==null;){var O=U.alternate;if((U.childLanes&N)!==N?(U.childLanes|=N,O!==null&&(O.childLanes|=N)):O!==null&&(O.childLanes&N)!==N&&(O.childLanes|=N),U===V)break;U=U.return}U!==V&&console.error("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function M_(U,N,V,O){var C=U.child;C!==null&&(C.return=U);for(;C!==null;){var k=C.dependencies;if(k!==null){var f=C.child;k=k.firstContext;$:for(;k!==null;){var g=k;k=C;for(var d=0;d<N.length;d++)if(g.context===N[d]){k.lanes|=V,g=k.alternate,g!==null&&(g.lanes|=V),I_(k.return,V,U),O||(f=null);break $}k=g.next}}else if(C.tag===18){if(f=C.return,f===null)throw Error("We just came from a parent so we must have had a parent. This is a bug in React.");f.lanes|=V,k=f.alternate,k!==null&&(k.lanes|=V),I_(f,V,U),f=null}else f=C.child;if(f!==null)f.return=C;else for(f=C;f!==null;){if(f===U){f=null;break}if(C=f.sibling,C!==null){C.return=f.return,f=C;break}f=f.return}C=f}}function tB(U,N,V,O){U=null;for(var C=N,k=!1;C!==null;){if(!k){if((C.flags&524288)!==0)k=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var f=C.alternate;if(f===null)throw Error("Should have a current fiber. This is a bug in React.");if(f=f.memoizedProps,f!==null){var g=C.type;e8(C.pendingProps.value,f.value)||(U!==null?U.push(g):U=[g])}}else if(C===aO.current){if(f=C.alternate,f===null)throw Error("Should have a current fiber. This is a bug in React.");f.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(U!==null?U.push(XA):U=[XA])}C=C.return}U!==null&&M_(N,U,V,O),N.flags|=262144}function WO(U){for(U=U.firstContext;U!==null;){if(!e8(U.context._currentValue,U.memoizedValue))return!0;U=U.next}return!1}function O2(U){UT=U,eF=null,U=U.dependencies,U!==null&&(U.firstContext=null)}function M6(U){return $U&&console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo()."),de(UT,U)}function FO(U,N){return UT===null&&O2(U),de(U,N)}function de(U,N){var V=N._currentValue;if(N={context:N,memoizedValue:V,next:null},eF===null){if(U===null)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");eF=N,U.dependencies={lanes:0,firstContext:N,_debugThenableState:null},U.flags|=524288}else eF=eF.next=N;return V}function b_(){return{controller:new dM0,data:new Map,refCount:0}}function T2(U){U.controller.signal.aborted&&console.warn("A cache instance was retained after it was already freed. This likely indicates a bug in React."),U.refCount++}function eB(U){U.refCount--,0>U.refCount&&console.warn("A cache instance was released after it was already freed. This likely indicates a bug in React."),U.refCount===0&&nM0(lM0,function(){U.controller.abort()})}function QK(){var U=S2;return S2=0,U}function UO(U){var N=S2;return S2=U,N}function $z(U){var N=S2;return S2+=U,N}function g_(U){_4=QU(),0>U.actualStartTime&&(U.actualStartTime=_4)}function y_(U){if(0<=_4){var N=QU()-_4;U.actualDuration+=N,U.selfBaseDuration=N,_4=-1}}function ne(U){if(0<=_4){var N=QU()-_4;U.actualDuration+=N,_4=-1}}function CQ(){if(0<=_4){var U=QU()-_4;_4=-1,S2+=U}}function PQ(){_4=QU()}function HO(U){for(var N=U.child;N;)U.actualDuration+=N.actualDuration,N=N.sibling}function Tf0(U,N){if(Iz===null){var V=Iz=[];iI=0,_2=lf(),JU={status:"pending",value:void 0,then:function(O){V.push(O)}}}return iI++,N.then(le,le),N}function le(){if(--iI===0&&Iz!==null){JU!==null&&(JU.status="fulfilled");var U=Iz;Iz=null,_2=0,JU=null;for(var N=0;N<U.length;N++)(0,U[N])()}}function Df0(U,N){var V=[],O={status:"pending",value:null,reason:null,then:function(C){V.push(C)}};return U.then(function(){O.status="fulfilled",O.value=N;for(var C=0;C<V.length;C++)(0,V[C])(N)},function(C){O.status="rejected",O.reason=C;for(C=0;C<V.length;C++)(0,V[C])(void 0)}),O}function x_(){var U=f2.current;return U!==null?U:A6.pooledCache}function NO(U,N){N===null?y(f2,f2.current,U):y(f2,N.pool,U)}function re(){var U=x_();return U===null?null:{parent:g7._currentValue,pool:U}}function ie(){return{didWarnAboutUncachedPromise:!1,thenables:[]}}function se(U){return U=U.status,U==="fulfilled"||U==="rejected"}function BO(){}function oe(U,N,V){D0.actQueue!==null&&(D0.didUsePromise=!0);var O=U.thenables;switch(V=O[V],V===void 0?O.push(N):V!==N&&(U.didWarnAboutUncachedPromise||(U.didWarnAboutUncachedPromise=!0,console.error("A component was suspended by an uncached promise. Creating promises inside a Client Component or hook is not yet supported, except via a Suspense-compatible library or framework.")),N.then(BO,BO),N=V),N.status){case"fulfilled":return N.value;case"rejected":throw U=N.reason,te(U),U;default:if(typeof N.status==="string")N.then(BO,BO);else{if(U=A6,U!==null&&100<U.shellSuspendCounter)throw Error("An unknown Component is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.");U=N,U.status="pending",U.then(function(C){if(N.status==="pending"){var k=N;k.status="fulfilled",k.value=C}},function(C){if(N.status==="pending"){var k=N;k.status="rejected",k.reason=C}})}switch(N.status){case"fulfilled":return N.value;case"rejected":throw U=N.reason,te(U),U}throw mz=N,VT=!0,uz}}function ae(){if(mz===null)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var U=mz;return mz=null,VT=!1,U}function te(U){if(U===uz||U===AT)throw Error("Hooks are not supported inside an async component. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.")}function c_(U){U.updateQueue={baseState:U.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function u_(U,N){U=U.updateQueue,N.updateQueue===U&&(N.updateQueue={baseState:U.baseState,firstBaseUpdate:U.firstBaseUpdate,lastBaseUpdate:U.lastBaseUpdate,shared:U.shared,callbacks:null})}function MY(U){return{lane:U,tag:f60,payload:null,callback:null,next:null}}function bY(U,N,V){var O=U.updateQueue;if(O===null)return null;if(O=O.shared,aI===O&&!b60){var C=S(U);console.error(`An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback.

Please update the following component: %s`,C),b60=!0}if((i5&J4)!==C9)return C=O.pending,C===null?N.next=N:(N.next=C.next,C.next=N),O.pending=N,N=qO(U),Me(U,null,V),N;return YO(U,O,N,V),qO(U)}function Qz(U,N,V){if(N=N.updateQueue,N!==null&&(N=N.shared,(V&4194048)!==0)){var O=N.lanes;O&=U.pendingLanes,V|=O,N.lanes=V,xB(U,V)}}function zO(U,N){var{updateQueue:V,alternate:O}=U;if(O!==null&&(O=O.updateQueue,V===O)){var C=null,k=null;if(V=V.firstBaseUpdate,V!==null){do{var f={lane:V.lane,tag:V.tag,payload:V.payload,callback:null,next:null};k===null?C=k=f:k=k.next=f,V=V.next}while(V!==null);k===null?C=k=N:k=k.next=N}else C=k=N;V={baseState:O.baseState,firstBaseUpdate:C,lastBaseUpdate:k,shared:O.shared,callbacks:O.callbacks},U.updateQueue=V;return}U=V.lastBaseUpdate,U===null?V.firstBaseUpdate=N:U.next=N,V.lastBaseUpdate=N}function Jz(){if(tI){var U=JU;if(U!==null)throw U}}function Kz(U,N,V,O){tI=!1;var C=U.updateQueue;oY=!1,aI=C.shared;var{firstBaseUpdate:k,lastBaseUpdate:f}=C,g=C.shared.pending;if(g!==null){C.shared.pending=null;var d=g,r=d.next;d.next=null,f===null?k=r:f.next=r,f=d;var A0=U.alternate;A0!==null&&(A0=A0.updateQueue,g=A0.lastBaseUpdate,g!==f&&(g===null?A0.firstBaseUpdate=r:g.next=r,A0.lastBaseUpdate=d))}if(k!==null){var C0=C.baseState;f=0,A0=r=d=null,g=k;do{var z0=g.lane&-536870913,j0=z0!==g.lane;if(j0?(P5&z0)===z0:(O&z0)===z0){z0!==0&&z0===_2&&(tI=!0),A0!==null&&(A0=A0.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});$:{z0=U;var O1=g,i1=N,V6=V;switch(O1.tag){case I60:if(O1=O1.payload,typeof O1==="function"){$U=!0;var L5=O1.call(V6,C0,i1);if(z0.mode&_8){W1(!0);try{O1.call(V6,C0,i1)}finally{W1(!1)}}$U=!1,C0=L5;break $}C0=O1;break $;case oI:z0.flags=z0.flags&-65537|128;case f60:if(L5=O1.payload,typeof L5==="function"){if($U=!0,O1=L5.call(V6,C0,i1),z0.mode&_8){W1(!0);try{L5.call(V6,C0,i1)}finally{W1(!1)}}$U=!1}else O1=L5;if(O1===null||O1===void 0)break $;C0=G5({},C0,O1);break $;case M60:oY=!0}}z0=g.callback,z0!==null&&(U.flags|=64,j0&&(U.flags|=8192),j0=C.callbacks,j0===null?C.callbacks=[z0]:j0.push(z0))}else j0={lane:z0,tag:g.tag,payload:g.payload,callback:g.callback,next:null},A0===null?(r=A0=j0,d=C0):A0=A0.next=j0,f|=z0;if(g=g.next,g===null)if(g=C.shared.pending,g===null)break;else j0=g,g=j0.next,j0.next=null,C.lastBaseUpdate=j0,C.shared.pending=null}while(1);A0===null&&(d=C0),C.baseState=d,C.firstBaseUpdate=r,C.lastBaseUpdate=A0,k===null&&(C.shared.lanes=0),$q|=f,U.lanes=f,U.memoizedState=C0}aI=null}function ee(U,N){if(typeof U!=="function")throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+U);U.call(N)}function Cf0(U,N){var V=U.shared.hiddenCallbacks;if(V!==null)for(U.shared.hiddenCallbacks=null,U=0;U<V.length;U++)ee(V[U],N)}function $00(U,N){var V=U.callbacks;if(V!==null)for(U.callbacks=null,U=0;U<V.length;U++)ee(V[U],N)}function Q00(U,N){var V=xQ;y(RT,V,U),y(KU,N,U),xQ=V|N.baseLanes}function m_(U){y(RT,xQ,U),y(KU,KU.current,U)}function p_(U){xQ=RT.current,M(KU,U),M(RT,U)}function C5(){var U=T0;H3===null?H3=[U]:H3.push(U)}function d0(){var U=T0;if(H3!==null&&(AK++,H3[AK]!==U)){var N=S(Q5);if(!g60.has(N)&&(g60.add(N),H3!==null)){for(var V="",O=0;O<=AK;O++){var C=H3[O],k=O===AK?U:C;for(C=O+1+". "+C;30>C.length;)C+=" ";C+=k+`
`,V+=C}console.error(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://react.dev/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,N,V)}}}function PF(U){U===void 0||U===null||N8(U)||console.error("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",T0,typeof U)}function AO(){var U=S(Q5);x60.has(U)||(x60.add(U),console.error("ReactDOM.useFormState has been renamed to React.useActionState. Please update %s to use React.useActionState.",U))}function A7(){throw Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function d_(U,N){if(dz)return!1;if(N===null)return console.error("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",T0),!1;U.length!==N.length&&console.error(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,T0,"["+N.join(", ")+"]","["+U.join(", ")+"]");for(var V=0;V<N.length&&V<U.length;V++)if(!e8(U[V],N[V]))return!1;return!0}function n_(U,N,V,O,C,k){if(aY=k,Q5=N,H3=U!==null?U._debugHookTypes:null,AK=-1,dz=U!==null&&U.type!==N.type,Object.prototype.toString.call(V)==="[object AsyncFunction]"||Object.prototype.toString.call(V)==="[object AsyncGeneratorFunction]")k=S(Q5),eI.has(k)||(eI.add(k),console.error("%s is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.",k===null?"An unknown Component":"<"+k+">"));N.memoizedState=null,N.updateQueue=null,N.lanes=0,D0.H=U!==null&&U.memoizedState!==null?QM:H3!==null?c60:$M,M2=k=(N.mode&_8)!==j6;var f=JM(V,O,C);if(M2=!1,qU&&(f=l_(N,V,O,C)),k){W1(!0);try{f=l_(N,V,O,C)}finally{W1(!1)}}return J00(U,N),f}function J00(U,N){N._debugHookTypes=H3,N.dependencies===null?zK!==null&&(N.dependencies={lanes:0,firstContext:null,_debugThenableState:zK}):N.dependencies._debugThenableState=zK,D0.H=OT;var V=U6!==null&&U6.next!==null;if(aY=0,H3=T0=P7=U6=Q5=null,AK=-1,U!==null&&(U.flags&65011712)!==(N.flags&65011712)&&console.error("Internal React error: Expected static flag was missing. Please notify the React team."),GT=!1,pz=0,zK=null,V)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");U===null||o7||(U=U.dependencies,U!==null&&WO(U)&&(o7=!0)),VT?(VT=!1,U=!0):U=!1,U&&(N=S(N)||"Unknown",y60.has(N)||eI.has(N)||(y60.add(N),console.error("`use` was called from inside a try/catch block. This is not allowed and can lead to unexpected behavior. To handle errors triggered by `use`, wrap your component in a error boundary.")))}function l_(U,N,V,O){Q5=U;var C=0;do{if(qU&&(zK=null),pz=0,qU=!1,C>=iM0)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");if(C+=1,dz=!1,P7=U6=null,U.updateQueue!=null){var k=U.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}AK=-1,D0.H=u60,k=JM(N,V,O)}while(qU);return k}function Pf0(){var U=D0.H,N=U.useState()[0];return N=typeof N.then==="function"?Yz(N):N,U=U.useState()[0],(U6!==null?U6.memoizedState:null)!==U&&(Q5.flags|=1024),N}function r_(){var U=wT!==0;return wT=0,U}function i_(U,N,V){N.updateQueue=U.updateQueue,N.flags=(N.mode&O$)!==j6?N.flags&-402655237:N.flags&-2053,U.lanes&=~V}function s_(U){if(GT){for(U=U.memoizedState;U!==null;){var N=U.queue;N!==null&&(N.pending=null),U=U.next}GT=!1}aY=0,H3=P7=U6=Q5=null,AK=-1,T0=null,qU=!1,pz=wT=0,zK=null}function h4(){var U={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P7===null?Q5.memoizedState=P7=U:P7=P7.next=U,P7}function Y6(){if(U6===null){var U=Q5.alternate;U=U!==null?U.memoizedState:null}else U=U6.next;var N=P7===null?Q5.memoizedState:P7.next;if(N!==null)P7=N,U6=U;else{if(U===null){if(Q5.alternate===null)throw Error("Update hook called on initial render. This is likely a bug in React. Please file an issue.");throw Error("Rendered more hooks than during the previous render.")}U6=U,U={memoizedState:U6.memoizedState,baseState:U6.baseState,baseQueue:U6.baseQueue,queue:U6.queue,next:null},P7===null?Q5.memoizedState=P7=U:P7=P7.next=U}return P7}function o_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yz(U){var N=pz;return pz+=1,zK===null&&(zK=ie()),U=oe(zK,U,N),N=Q5,(P7===null?N.memoizedState:P7.next)===null&&(N=N.alternate,D0.H=N!==null&&N.memoizedState!==null?QM:$M),U}function gY(U){if(U!==null&&typeof U==="object"){if(typeof U.then==="function")return Yz(U);if(U.$$typeof===vQ)return M6(U)}throw Error("An unsupported type was passed to use(): "+String(U))}function D2(U){var N=null,V=Q5.updateQueue;if(V!==null&&(N=V.memoCache),N==null){var O=Q5.alternate;O!==null&&(O=O.updateQueue,O!==null&&(O=O.memoCache,O!=null&&(N={data:O.data.map(function(C){return C.slice()}),index:0})))}if(N==null&&(N={data:[],index:0}),V===null&&(V=o_(),Q5.updateQueue=V),V.memoCache=N,V=N.data[N.index],V===void 0||dz)for(V=N.data[N.index]=Array(U),O=0;O<U;O++)V[O]=II0;else V.length!==U&&console.error("Expected a constant size argument for each invocation of useMemoCache. The previous cache was allocated with size %s but size %s was requested.",V.length,U);return N.index++,V}function R$(U,N){return typeof N==="function"?N(U):N}function a_(U,N,V){var O=h4();if(V!==void 0){var C=V(N);if(M2){W1(!0);try{V(N)}finally{W1(!1)}}}else C=N;return O.memoizedState=O.baseState=C,U={pending:null,lanes:0,dispatch:null,lastRenderedReducer:U,lastRenderedState:C},O.queue=U,U=U.dispatch=Lf0.bind(null,Q5,U),[O.memoizedState,U]}function kF(U){var N=Y6();return t_(N,U6,U)}function t_(U,N,V){var O=U.queue;if(O===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");O.lastRenderedReducer=V;var C=U.baseQueue,k=O.pending;if(k!==null){if(C!==null){var f=C.next;C.next=k.next,k.next=f}N.baseQueue!==C&&console.error("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),N.baseQueue=C=k,O.pending=null}if(k=U.baseState,C===null)U.memoizedState=k;else{N=C.next;var g=f=null,d=null,r=N,A0=!1;do{var C0=r.lane&-536870913;if(C0!==r.lane?(P5&C0)===C0:(aY&C0)===C0){var z0=r.revertLane;if(z0===0)d!==null&&(d=d.next={lane:0,revertLane:0,action:r.action,hasEagerState:r.hasEagerState,eagerState:r.eagerState,next:null}),C0===_2&&(A0=!0);else if((aY&z0)===z0){r=r.next,z0===_2&&(A0=!0);continue}else C0={lane:0,revertLane:r.revertLane,action:r.action,hasEagerState:r.hasEagerState,eagerState:r.eagerState,next:null},d===null?(g=d=C0,f=k):d=d.next=C0,Q5.lanes|=z0,$q|=z0;C0=r.action,M2&&V(k,C0),k=r.hasEagerState?r.eagerState:V(k,C0)}else z0={lane:C0,revertLane:r.revertLane,action:r.action,hasEagerState:r.hasEagerState,eagerState:r.eagerState,next:null},d===null?(g=d=z0,f=k):d=d.next=z0,Q5.lanes|=C0,$q|=C0;r=r.next}while(r!==null&&r!==N);if(d===null?f=k:d.next=g,!e8(k,U.memoizedState)&&(o7=!0,A0&&(V=JU,V!==null)))throw V;U.memoizedState=k,U.baseState=f,U.baseQueue=d,O.lastRenderedState=k}return C===null&&(O.lanes=0),[U.memoizedState,O.dispatch]}function qz(U){var N=Y6(),V=N.queue;if(V===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");V.lastRenderedReducer=U;var{dispatch:O,pending:C}=V,k=N.memoizedState;if(C!==null){V.pending=null;var f=C=C.next;do k=U(k,f.action),f=f.next;while(f!==C);e8(k,N.memoizedState)||(o7=!0),N.memoizedState=k,N.baseQueue===null&&(N.baseState=k),V.lastRenderedState=k}return[k,O]}function e_(U,N,V){var O=Q5,C=h4();if(b5){if(V===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");var k=V();YU||k===V()||(console.error("The result of getServerSnapshot should be cached to avoid an infinite loop"),YU=!0)}else{if(k=N(),YU||(V=N(),e8(k,V)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),YU=!0)),A6===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");(P5&124)!==0||K00(O,N,k)}return C.memoizedState=k,V={value:k,getSnapshot:N},C.queue=V,OO(q00.bind(null,O,V,U),[U]),O.flags|=2048,EF(U3|y7,wO(),Y00.bind(null,O,V,k,N),null),k}function VO(U,N,V){var O=Q5,C=Y6(),k=b5;if(k){if(V===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");V=V()}else if(V=N(),!YU){var f=N();e8(V,f)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),YU=!0)}if(f=!e8((U6||C).memoizedState,V))C.memoizedState=V,o7=!0;C=C.queue;var g=q00.bind(null,O,C,U);if(v4(2048,y7,g,[U]),C.getSnapshot!==N||f||P7!==null&&P7.memoizedState.tag&U3){if(O.flags|=2048,EF(U3|y7,wO(),Y00.bind(null,O,C,V,N),null),A6===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");k||(aY&124)!==0||K00(O,N,V)}return V}function K00(U,N,V){U.flags|=16384,U={getSnapshot:N,value:V},N=Q5.updateQueue,N===null?(N=o_(),Q5.updateQueue=N,N.stores=[U]):(V=N.stores,V===null?N.stores=[U]:V.push(U))}function Y00(U,N,V,O){N.value=V,N.getSnapshot=O,Z00(N)&&X00(U)}function q00(U,N,V){return V(function(){Z00(N)&&X00(U)})}function Z00(U){var N=U.getSnapshot;U=U.value;try{var V=N();return!e8(U,V)}catch(O){return!0}}function X00(U){var N=L4(U,2);N!==null&&V7(N,U,2)}function $f(U){var N=h4();if(typeof U==="function"){var V=U;if(U=V(),M2){W1(!0);try{V()}finally{W1(!1)}}}return N.memoizedState=N.baseState=U,N.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:R$,lastRenderedState:U},N}function Qf(U){U=$f(U);var N=U.queue,V=j00.bind(null,Q5,N);return N.dispatch=V,[U.memoizedState,V]}function Jf(U){var N=h4();N.memoizedState=N.baseState=U;var V={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return N.queue=V,N=Af.bind(null,Q5,!0,V),V.dispatch=N,[U,N]}function W00(U,N){var V=Y6();return F00(V,U6,U,N)}function F00(U,N,V,O){return U.baseState=V,t_(U,U6,typeof O==="function"?O:R$)}function U00(U,N){var V=Y6();if(U6!==null)return F00(V,U6,U,N);return V.baseState=U,[U,V.queue.dispatch]}function kf0(U,N,V,O,C){if(PO(U))throw Error("Cannot update form state while rendering.");if(U=N.action,U!==null){var k={payload:C,action:U,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){k.listeners.push(f)}};D0.T!==null?V(!0):k.isTransition=!1,O(k),V=N.pending,V===null?(k.next=N.pending=k,H00(N,k)):(k.next=V.next,N.pending=V.next=k)}}function H00(U,N){var{action:V,payload:O}=N,C=U.state;if(N.isTransition){var k=D0.T,f={};D0.T=f,D0.T._updatedFibers=new Set;try{var g=V(C,O),d=D0.S;d!==null&&d(f,g),N00(U,N,g)}catch(r){Kf(U,N,r)}finally{D0.T=k,k===null&&f._updatedFibers&&(U=f._updatedFibers.size,f._updatedFibers.clear(),10<U&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}else try{f=V(C,O),N00(U,N,f)}catch(r){Kf(U,N,r)}}function N00(U,N,V){V!==null&&typeof V==="object"&&typeof V.then==="function"?(V.then(function(O){B00(U,N,O)},function(O){return Kf(U,N,O)}),N.isTransition||console.error("An async function with useActionState was called outside of a transition. This is likely not what you intended (for example, isPending will not update correctly). Either call the returned function inside startTransition, or pass it to an `action` or `formAction` prop.")):B00(U,N,V)}function B00(U,N,V){N.status="fulfilled",N.value=V,z00(N),U.state=V,N=U.pending,N!==null&&(V=N.next,V===N?U.pending=null:(V=V.next,N.next=V,H00(U,V)))}function Kf(U,N,V){var O=U.pending;if(U.pending=null,O!==null){O=O.next;do N.status="rejected",N.reason=V,z00(N),N=N.next;while(N!==O)}U.action=null}function z00(U){U=U.listeners;for(var N=0;N<U.length;N++)(0,U[N])()}function A00(U,N){return N}function jF(U,N){if(b5){var V=A6.formState;if(V!==null){$:{var O=Q5;if(b5){if(e6){Q:{var C=e6;for(var k=bQ;C.nodeType!==8;){if(!k){C=null;break Q}if(C=K3(C.nextSibling),C===null){C=null;break Q}}k=C.data,C=k===LM||k===x70?C:null}if(C){e6=K3(C.nextSibling),O=C.data===LM;break $}}w2(O)}O=!1}O&&(N=V[0])}}return V=h4(),V.memoizedState=V.baseState=N,O={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A00,lastRenderedState:N},V.queue=O,V=j00.bind(null,Q5,O),O.dispatch=V,O=$f(!1),k=Af.bind(null,Q5,!1,O.queue),O=h4(),C={state:N,dispatch:null,action:U,pending:null},O.queue=C,V=kf0.bind(null,Q5,C,k,V),C.dispatch=V,O.memoizedState=U,[N,V,!1]}function RO(U){var N=Y6();return V00(N,U6,U)}function V00(U,N,V){if(N=t_(U,N,A00)[0],U=kF(R$)[0],typeof N==="object"&&N!==null&&typeof N.then==="function")try{var O=Yz(N)}catch(f){if(f===uz)throw AT;throw f}else O=N;N=Y6();var C=N.queue,k=C.dispatch;return V!==N.memoizedState&&(Q5.flags|=2048,EF(U3|y7,wO(),jf0.bind(null,C,V),null)),[O,k,U]}function jf0(U,N){U.action=N}function GO(U){var N=Y6(),V=U6;if(V!==null)return V00(N,V,U);Y6(),N=N.memoizedState,V=Y6();var O=V.queue.dispatch;return V.memoizedState=U,[N,O,!1]}function EF(U,N,V,O){return U={tag:U,create:V,deps:O,inst:N,next:null},N=Q5.updateQueue,N===null&&(N=o_(),Q5.updateQueue=N),V=N.lastEffect,V===null?N.lastEffect=U.next=U:(O=V.next,V.next=U,U.next=O,N.lastEffect=U),U}function wO(){return{destroy:void 0,resource:void 0}}function Yf(U){var N=h4();return U={current:U},N.memoizedState=U}function C2(U,N,V,O){var C=h4();O=O===void 0?null:O,Q5.flags|=U,C.memoizedState=EF(U3|N,wO(),V,O)}function v4(U,N,V,O){var C=Y6();O=O===void 0?null:O;var k=C.memoizedState.inst;U6!==null&&O!==null&&d_(O,U6.memoizedState.deps)?C.memoizedState=EF(N,k,V,O):(Q5.flags|=U,C.memoizedState=EF(U3|N,k,V,O))}function OO(U,N){(Q5.mode&O$)!==j6&&(Q5.mode&C60)===j6?C2(276826112,y7,U,N):C2(8390656,y7,U,N)}function qf(U,N){var V=4194308;return(Q5.mode&O$)!==j6&&(V|=134217728),C2(V,z8,U,N)}function R00(U,N){if(typeof N==="function"){U=U();var V=N(U);return function(){typeof V==="function"?V():N(null)}}if(N!==null&&N!==void 0)return N.hasOwnProperty("current")||console.error("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(N).join(", ")+"}"),U=U(),N.current=U,function(){N.current=null}}function Zf(U,N,V){typeof N!=="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",N!==null?typeof N:"null"),V=V!==null&&V!==void 0?V.concat([U]):null;var O=4194308;(Q5.mode&O$)!==j6&&(O|=134217728),C2(O,z8,R00.bind(null,N,U),V)}function TO(U,N,V){typeof N!=="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",N!==null?typeof N:"null"),V=V!==null&&V!==void 0?V.concat([U]):null,v4(4,z8,R00.bind(null,N,U),V)}function Xf(U,N){return h4().memoizedState=[U,N===void 0?null:N],U}function DO(U,N){var V=Y6();N=N===void 0?null:N;var O=V.memoizedState;if(N!==null&&d_(N,O[1]))return O[0];return V.memoizedState=[U,N],U}function Wf(U,N){var V=h4();N=N===void 0?null:N;var O=U();if(M2){W1(!0);try{U()}finally{W1(!1)}}return V.memoizedState=[O,N],O}function CO(U,N){var V=Y6();N=N===void 0?null:N;var O=V.memoizedState;if(N!==null&&d_(N,O[1]))return O[0];if(O=U(),M2){W1(!0);try{U()}finally{W1(!1)}}return V.memoizedState=[O,N],O}function Ff(U,N){var V=h4();return Uf(V,U,N)}function G00(U,N){var V=Y6();return O00(V,U6.memoizedState,U,N)}function w00(U,N){var V=Y6();return U6===null?Uf(V,U,N):O00(V,U6.memoizedState,U,N)}function Uf(U,N,V){if(V===void 0||(aY&1073741824)!==0)return U.memoizedState=N;return U.memoizedState=V,U=T10(),Q5.lanes|=U,$q|=U,V}function O00(U,N,V,O){if(e8(V,N))return V;if(KU.current!==null)return U=Uf(U,V,O),e8(U,N)||(o7=!0),U;if((aY&42)===0)return o7=!0,U.memoizedState=V;return U=T10(),Q5.lanes|=U,$q|=U,N}function T00(U,N,V,O,C){var k=r5.p;r5.p=k!==0&&k<w$?k:w$;var f=D0.T,g={};D0.T=g,Af(U,!1,N,V),g._updatedFibers=new Set;try{var d=C(),r=D0.S;if(r!==null&&r(g,d),d!==null&&typeof d==="object"&&typeof d.then==="function"){var A0=Df0(d,O);Zz(U,N,A0,w9(U))}else Zz(U,N,O,w9(U))}catch(C0){Zz(U,N,{then:function(){},status:"rejected",reason:C0},w9(U))}finally{r5.p=k,D0.T=f,f===null&&g._updatedFibers&&(U=g._updatedFibers.size,g._updatedFibers.clear(),10<U&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}function Hf(U,N,V,O){if(U.tag!==5)throw Error("Expected the form instance to be a HostComponent. This is a bug in React.");var C=D00(U).queue;T00(U,C,N,l2,V===null?H:function(){return C00(U),V(O)})}function D00(U){var N=U.memoizedState;if(N!==null)return N;N={memoizedState:l2,baseState:l2,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:R$,lastRenderedState:l2},next:null};var V={};return N.next={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:R$,lastRenderedState:V},next:null},U.memoizedState=N,U=U.alternate,U!==null&&(U.memoizedState=N),N}function C00(U){D0.T===null&&console.error("requestFormReset was called outside a transition or action. To fix, move to an action, or wrap with startTransition.");var N=D00(U).next.queue;Zz(U,N,{},w9(U))}function Nf(){var U=$f(!1);return U=T00.bind(null,Q5,U.queue,!0,!1),h4().memoizedState=U,[!1,U]}function P00(){var U=kF(R$)[0],N=Y6().memoizedState;return[typeof U==="boolean"?U:Yz(U),N]}function k00(){var U=qz(R$)[0],N=Y6().memoizedState;return[typeof U==="boolean"?U:Yz(U),N]}function P2(){return M6(XA)}function Bf(){var U=h4(),N=A6.identifierPrefix;if(b5){var V=NK,O=HK;V=(O&~(1<<32-a8(O)-1)).toString(32)+V,N=""+N+"R"+V,V=wT++,0<V&&(N+="H"+V.toString(32)),N+=""}else V=rM0++,N=""+N+"r"+V.toString(32)+"";return U.memoizedState=N}function zf(){return h4().memoizedState=Ef0.bind(null,Q5)}function Ef0(U,N){for(var V=U.return;V!==null;){switch(V.tag){case 24:case 3:var O=w9(V);U=MY(O);var C=bY(V,U,O);C!==null&&(V7(C,V,O),Qz(C,V,O)),V=b_(),N!==null&&N!==void 0&&C!==null&&console.error("The seed argument is not enabled outside experimental channels."),U.payload={cache:V};return}V=V.return}}function Lf0(U,N,V){var O=arguments;typeof O[3]==="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),O=w9(U);var C={lane:O,revertLane:0,action:V,hasEagerState:!1,eagerState:null,next:null};PO(U)?E00(N,C):(C=P_(U,N,C,O),C!==null&&(V7(C,U,O),L00(C,N,O))),X5(U,O)}function j00(U,N,V){var O=arguments;typeof O[3]==="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),O=w9(U),Zz(U,N,V,O),X5(U,O)}function Zz(U,N,V,O){var C={lane:O,revertLane:0,action:V,hasEagerState:!1,eagerState:null,next:null};if(PO(U))E00(N,C);else{var k=U.alternate;if(U.lanes===0&&(k===null||k.lanes===0)&&(k=N.lastRenderedReducer,k!==null)){var f=D0.H;D0.H=D$;try{var g=N.lastRenderedState,d=k(g,V);if(C.hasEagerState=!0,C.eagerState=d,e8(d,g))return YO(U,N,C,0),A6===null&&KO(),!1}catch(r){}finally{D0.H=f}}if(V=P_(U,N,C,O),V!==null)return V7(V,U,O),L00(V,N,O),!0}return!1}function Af(U,N,V,O){if(D0.T===null&&_2===0&&console.error("An optimistic state update occurred outside a transition or action. To fix, move the update to an action, or wrap with startTransition."),O={lane:2,revertLane:lf(),action:O,hasEagerState:!1,eagerState:null,next:null},PO(U)){if(N)throw Error("Cannot update optimistic state while rendering.");console.error("Cannot call startTransition while rendering.")}else N=P_(U,V,O,2),N!==null&&V7(N,U,2);X5(U,2)}function PO(U){var N=U.alternate;return U===Q5||N!==null&&N===Q5}function E00(U,N){qU=GT=!0;var V=U.pending;V===null?N.next=N:(N.next=V.next,V.next=N),U.pending=N}function L00(U,N,V){if((V&4194048)!==0){var O=N.lanes;O&=U.pendingLanes,V|=O,N.lanes=V,xB(U,V)}}function F8(U){var N=A5;return U!=null&&(A5=N===null?U:N.concat(U)),N}function kO(U,N,V){for(var O=Object.keys(U.props),C=0;C<O.length;C++){var k=O[C];if(k!=="children"&&k!=="key"){N===null&&(N=ZO(U,V.mode,0),N._debugInfo=A5,N.return=V),k1(N,function(f){console.error("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",f)},k);break}}}function jO(U){var N=nz;return nz+=1,ZU===null&&(ZU=ie()),oe(ZU,U,N)}function Xz(U,N){N=N.props.ref,U.ref=N!==void 0?N:null}function EO(U,N){if(N.$$typeof===_I0)throw Error(`A React Element from an older version of React was rendered. This is not supported. It can happen if:
- Multiple copies of the "react" package is used.
- A library pre-bundled an old copy of "react" or "react/jsx-runtime".
- A compiler tries to "inline" JSX instead of using the runtime.`);throw U=Object.prototype.toString.call(N),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}function LO(U,N){var V=S(U)||"Component";J70[V]||(J70[V]=!0,N=N.displayName||N.name||"Component",U.tag===3?console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  root.render(%s)`,N,N,N):console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  <%s>{%s}</%s>`,N,N,V,N,V))}function hO(U,N){var V=S(U)||"Component";K70[V]||(K70[V]=!0,N=String(N),U.tag===3?console.error(`Symbols are not valid as a React child.
  root.render(%s)`,N):console.error(`Symbols are not valid as a React child.
  <%s>%s</%s>`,V,N,V))}function h00(U){function N(t,$0){if(U){var Y0=t.deletions;Y0===null?(t.deletions=[$0],t.flags|=16):Y0.push($0)}}function V(t,$0){if(!U)return null;for(;$0!==null;)N(t,$0),$0=$0.sibling;return null}function O(t){for(var $0=new Map;t!==null;)t.key!==null?$0.set(t.key,t):$0.set(t.index,t),t=t.sibling;return $0}function C(t,$0){return t=eJ(t,$0),t.index=0,t.sibling=null,t}function k(t,$0,Y0){if(t.index=Y0,!U)return t.flags|=1048576,$0;if(Y0=t.alternate,Y0!==null)return Y0=Y0.index,Y0<$0?(t.flags|=67108866,$0):Y0;return t.flags|=67108866,$0}function f(t){return U&&t.alternate===null&&(t.flags|=67108866),t}function g(t,$0,Y0,E0){if($0===null||$0.tag!==6)return $0=h_(Y0,t.mode,E0),$0.return=t,$0._debugOwner=t,$0._debugTask=t._debugTask,$0._debugInfo=A5,$0;return $0=C($0,Y0),$0.return=t,$0._debugInfo=A5,$0}function d(t,$0,Y0,E0){var $1=Y0.type;if($1===yF)return $0=A0(t,$0,Y0.props.children,E0,Y0.key),kO(Y0,$0,t),$0;if($0!==null&&($0.elementType===$1||be($0,Y0)||typeof $1==="object"&&$1!==null&&$1.$$typeof===O9&&tY($1)===$0.type))return $0=C($0,Y0.props),Xz($0,Y0),$0.return=t,$0._debugOwner=Y0._owner,$0._debugInfo=A5,$0;return $0=ZO(Y0,t.mode,E0),Xz($0,Y0),$0.return=t,$0._debugInfo=A5,$0}function r(t,$0,Y0,E0){if($0===null||$0.tag!==4||$0.stateNode.containerInfo!==Y0.containerInfo||$0.stateNode.implementation!==Y0.implementation)return $0=v_(Y0,t.mode,E0),$0.return=t,$0._debugInfo=A5,$0;return $0=C($0,Y0.children||[]),$0.return=t,$0._debugInfo=A5,$0}function A0(t,$0,Y0,E0,$1){if($0===null||$0.tag!==7)return $0=A2(Y0,t.mode,E0,$1),$0.return=t,$0._debugOwner=t,$0._debugTask=t._debugTask,$0._debugInfo=A5,$0;return $0=C($0,Y0),$0.return=t,$0._debugInfo=A5,$0}function C0(t,$0,Y0){if(typeof $0==="string"&&$0!==""||typeof $0==="number"||typeof $0==="bigint")return $0=h_(""+$0,t.mode,Y0),$0.return=t,$0._debugOwner=t,$0._debugTask=t._debugTask,$0._debugInfo=A5,$0;if(typeof $0==="object"&&$0!==null){switch($0.$$typeof){case pY:return Y0=ZO($0,t.mode,Y0),Xz(Y0,$0),Y0.return=t,t=F8($0._debugInfo),Y0._debugInfo=A5,A5=t,Y0;case gF:return $0=v_($0,t.mode,Y0),$0.return=t,$0._debugInfo=A5,$0;case O9:var E0=F8($0._debugInfo);return $0=tY($0),t=C0(t,$0,Y0),A5=E0,t}if(N8($0)||L($0))return Y0=A2($0,t.mode,Y0,null),Y0.return=t,Y0._debugOwner=t,Y0._debugTask=t._debugTask,t=F8($0._debugInfo),Y0._debugInfo=A5,A5=t,Y0;if(typeof $0.then==="function")return E0=F8($0._debugInfo),t=C0(t,jO($0),Y0),A5=E0,t;if($0.$$typeof===vQ)return C0(t,FO(t,$0),Y0);EO(t,$0)}return typeof $0==="function"&&LO(t,$0),typeof $0==="symbol"&&hO(t,$0),null}function z0(t,$0,Y0,E0){var $1=$0!==null?$0.key:null;if(typeof Y0==="string"&&Y0!==""||typeof Y0==="number"||typeof Y0==="bigint")return $1!==null?null:g(t,$0,""+Y0,E0);if(typeof Y0==="object"&&Y0!==null){switch(Y0.$$typeof){case pY:return Y0.key===$1?($1=F8(Y0._debugInfo),t=d(t,$0,Y0,E0),A5=$1,t):null;case gF:return Y0.key===$1?r(t,$0,Y0,E0):null;case O9:return $1=F8(Y0._debugInfo),Y0=tY(Y0),t=z0(t,$0,Y0,E0),A5=$1,t}if(N8(Y0)||L(Y0)){if($1!==null)return null;return $1=F8(Y0._debugInfo),t=A0(t,$0,Y0,E0,null),A5=$1,t}if(typeof Y0.then==="function")return $1=F8(Y0._debugInfo),t=z0(t,$0,jO(Y0),E0),A5=$1,t;if(Y0.$$typeof===vQ)return z0(t,$0,FO(t,Y0),E0);EO(t,Y0)}return typeof Y0==="function"&&LO(t,Y0),typeof Y0==="symbol"&&hO(t,Y0),null}function j0(t,$0,Y0,E0,$1){if(typeof E0==="string"&&E0!==""||typeof E0==="number"||typeof E0==="bigint")return t=t.get(Y0)||null,g($0,t,""+E0,$1);if(typeof E0==="object"&&E0!==null){switch(E0.$$typeof){case pY:return Y0=t.get(E0.key===null?Y0:E0.key)||null,t=F8(E0._debugInfo),$0=d($0,Y0,E0,$1),A5=t,$0;case gF:return t=t.get(E0.key===null?Y0:E0.key)||null,r($0,t,E0,$1);case O9:var Y5=F8(E0._debugInfo);return E0=tY(E0),$0=j0(t,$0,Y0,E0,$1),A5=Y5,$0}if(N8(E0)||L(E0))return Y0=t.get(Y0)||null,t=F8(E0._debugInfo),$0=A0($0,Y0,E0,$1,null),A5=t,$0;if(typeof E0.then==="function")return Y5=F8(E0._debugInfo),$0=j0(t,$0,Y0,jO(E0),$1),A5=Y5,$0;if(E0.$$typeof===vQ)return j0(t,$0,Y0,FO($0,E0),$1);EO($0,E0)}return typeof E0==="function"&&LO($0,E0),typeof E0==="symbol"&&hO($0,E0),null}function O1(t,$0,Y0,E0){if(typeof Y0!=="object"||Y0===null)return E0;switch(Y0.$$typeof){case pY:case gF:X(t,$0,Y0);var $1=Y0.key;if(typeof $1!=="string")break;if(E0===null){E0=new Set,E0.add($1);break}if(!E0.has($1)){E0.add($1);break}k1($0,function(){console.error("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.",$1)});break;case O9:Y0=tY(Y0),O1(t,$0,Y0,E0)}return E0}function i1(t,$0,Y0,E0){for(var $1=null,Y5=null,T1=null,q5=$0,F5=$0=0,E6=null;q5!==null&&F5<Y0.length;F5++){q5.index>F5?(E6=q5,q5=null):E6=q5.sibling;var G7=z0(t,q5,Y0[F5],E0);if(G7===null){q5===null&&(q5=E6);break}$1=O1(t,G7,Y0[F5],$1),U&&q5&&G7.alternate===null&&N(t,q5),$0=k(G7,$0,F5),T1===null?Y5=G7:T1.sibling=G7,T1=G7,q5=E6}if(F5===Y0.length)return V(t,q5),b5&&V2(t,F5),Y5;if(q5===null){for(;F5<Y0.length;F5++)q5=C0(t,Y0[F5],E0),q5!==null&&($1=O1(t,q5,Y0[F5],$1),$0=k(q5,$0,F5),T1===null?Y5=q5:T1.sibling=q5,T1=q5);return b5&&V2(t,F5),Y5}for(q5=O(q5);F5<Y0.length;F5++)E6=j0(q5,t,F5,Y0[F5],E0),E6!==null&&($1=O1(t,E6,Y0[F5],$1),U&&E6.alternate!==null&&q5.delete(E6.key===null?F5:E6.key),$0=k(E6,$0,F5),T1===null?Y5=E6:T1.sibling=E6,T1=E6);return U&&q5.forEach(function(TK){return N(t,TK)}),b5&&V2(t,F5),Y5}function V6(t,$0,Y0,E0){if(Y0==null)throw Error("An iterable object provided no iterator.");for(var $1=null,Y5=null,T1=$0,q5=$0=0,F5=null,E6=null,G7=Y0.next();T1!==null&&!G7.done;q5++,G7=Y0.next()){T1.index>q5?(F5=T1,T1=null):F5=T1.sibling;var TK=z0(t,T1,G7.value,E0);if(TK===null){T1===null&&(T1=F5);break}E6=O1(t,TK,G7.value,E6),U&&T1&&TK.alternate===null&&N(t,T1),$0=k(TK,$0,q5),Y5===null?$1=TK:Y5.sibling=TK,Y5=TK,T1=F5}if(G7.done)return V(t,T1),b5&&V2(t,q5),$1;if(T1===null){for(;!G7.done;q5++,G7=Y0.next())T1=C0(t,G7.value,E0),T1!==null&&(E6=O1(t,T1,G7.value,E6),$0=k(T1,$0,q5),Y5===null?$1=T1:Y5.sibling=T1,Y5=T1);return b5&&V2(t,q5),$1}for(T1=O(T1);!G7.done;q5++,G7=Y0.next())F5=j0(T1,t,q5,G7.value,E0),F5!==null&&(E6=O1(t,F5,G7.value,E6),U&&F5.alternate!==null&&T1.delete(F5.key===null?q5:F5.key),$0=k(F5,$0,q5),Y5===null?$1=F5:Y5.sibling=F5,Y5=F5);return U&&T1.forEach(function(Ob0){return N(t,Ob0)}),b5&&V2(t,q5),$1}function L5(t,$0,Y0,E0){if(typeof Y0==="object"&&Y0!==null&&Y0.type===yF&&Y0.key===null&&(kO(Y0,null,t),Y0=Y0.props.children),typeof Y0==="object"&&Y0!==null){switch(Y0.$$typeof){case pY:var $1=F8(Y0._debugInfo);$:{for(var Y5=Y0.key;$0!==null;){if($0.key===Y5){if(Y5=Y0.type,Y5===yF){if($0.tag===7){V(t,$0.sibling),E0=C($0,Y0.props.children),E0.return=t,E0._debugOwner=Y0._owner,E0._debugInfo=A5,kO(Y0,E0,t),t=E0;break $}}else if($0.elementType===Y5||be($0,Y0)||typeof Y5==="object"&&Y5!==null&&Y5.$$typeof===O9&&tY(Y5)===$0.type){V(t,$0.sibling),E0=C($0,Y0.props),Xz(E0,Y0),E0.return=t,E0._debugOwner=Y0._owner,E0._debugInfo=A5,t=E0;break $}V(t,$0);break}else N(t,$0);$0=$0.sibling}Y0.type===yF?(E0=A2(Y0.props.children,t.mode,E0,Y0.key),E0.return=t,E0._debugOwner=t,E0._debugTask=t._debugTask,E0._debugInfo=A5,kO(Y0,E0,t),t=E0):(E0=ZO(Y0,t.mode,E0),Xz(E0,Y0),E0.return=t,E0._debugInfo=A5,t=E0)}return t=f(t),A5=$1,t;case gF:$:{$1=Y0;for(Y0=$1.key;$0!==null;){if($0.key===Y0)if($0.tag===4&&$0.stateNode.containerInfo===$1.containerInfo&&$0.stateNode.implementation===$1.implementation){V(t,$0.sibling),E0=C($0,$1.children||[]),E0.return=t,t=E0;break $}else{V(t,$0);break}else N(t,$0);$0=$0.sibling}E0=v_($1,t.mode,E0),E0.return=t,t=E0}return f(t);case O9:return $1=F8(Y0._debugInfo),Y0=tY(Y0),t=L5(t,$0,Y0,E0),A5=$1,t}if(N8(Y0))return $1=F8(Y0._debugInfo),t=i1(t,$0,Y0,E0),A5=$1,t;if(L(Y0)){if($1=F8(Y0._debugInfo),Y5=L(Y0),typeof Y5!=="function")throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");var T1=Y5.call(Y0);if(T1===Y0){if(t.tag!==0||Object.prototype.toString.call(t.type)!=="[object GeneratorFunction]"||Object.prototype.toString.call(T1)!=="[object Generator]")$70||console.error("Using Iterators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. You can also use an Iterable that can iterate multiple times over the same items."),$70=!0}else Y0.entries!==Y5||YM||(console.error("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),YM=!0);return t=V6(t,$0,T1,E0),A5=$1,t}if(typeof Y0.then==="function")return $1=F8(Y0._debugInfo),t=L5(t,$0,jO(Y0),E0),A5=$1,t;if(Y0.$$typeof===vQ)return L5(t,$0,FO(t,Y0),E0);EO(t,Y0)}if(typeof Y0==="string"&&Y0!==""||typeof Y0==="number"||typeof Y0==="bigint")return $1=""+Y0,$0!==null&&$0.tag===6?(V(t,$0.sibling),E0=C($0,$1),E0.return=t,t=E0):(V(t,$0),E0=h_($1,t.mode,E0),E0.return=t,E0._debugOwner=t,E0._debugTask=t._debugTask,E0._debugInfo=A5,t=E0),f(t);return typeof Y0==="function"&&LO(t,Y0),typeof Y0==="symbol"&&hO(t,Y0),V(t,$0)}return function(t,$0,Y0,E0){var $1=A5;A5=null;try{nz=0;var Y5=L5(t,$0,Y0,E0);return ZU=null,Y5}catch(E6){if(E6===uz||E6===AT)throw E6;var T1=z(29,E6,null,t.mode);T1.lanes=E0,T1.return=t;var q5=T1._debugInfo=A5;if(T1._debugOwner=t._debugOwner,T1._debugTask=t._debugTask,q5!=null){for(var F5=q5.length-1;0<=F5;F5--)if(typeof q5[F5].stack==="string"){T1._debugOwner=q5[F5],T1._debugTask=q5[F5].debugTask;break}}return T1}finally{A5=$1}}}function yY(U){var N=U.alternate;y(x7,x7.current&WU,U),y(N3,U,U),yQ===null&&(N===null||KU.current!==null?yQ=U:N.memoizedState!==null&&(yQ=U))}function v00(U){if(U.tag===22){if(y(x7,x7.current,U),y(N3,U,U),yQ===null){var N=U.alternate;N!==null&&N.memoizedState!==null&&(yQ=U)}}else xY(U)}function xY(U){y(x7,x7.current,U),y(N3,N3.current,U)}function JK(U){M(N3,U),yQ===U&&(yQ=null),M(x7,U)}function vO(U){for(var N=U;N!==null;){if(N.tag===13){var V=N.memoizedState;if(V!==null&&(V=V.dehydrated,V===null||V.data===GK||YI(V)))return N}else if(N.tag===19&&N.memoizedProps.revealOrder!==void 0){if((N.flags&128)!==0)return N}else if(N.child!==null){N.child.return=N,N=N.child;continue}if(N===U)break;for(;N.sibling===null;){if(N.return===null||N.return===U)return null;N=N.return}N.sibling.return=N.return,N=N.sibling}return null}function Vf(U){if(U!==null&&typeof U!=="function"){var N=String(U);A70.has(N)||(A70.add(N),console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",U))}}function Rf(U,N,V,O){var C=U.memoizedState,k=V(O,C);if(U.mode&_8){W1(!0);try{k=V(O,C)}finally{W1(!1)}}k===void 0&&(N=h(N)||"Component",H70.has(N)||(H70.add(N),console.error("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",N))),C=k===null||k===void 0?C:G5({},C,k),U.memoizedState=C,U.lanes===0&&(U.updateQueue.baseState=C)}function S00(U,N,V,O,C,k,f){var g=U.stateNode;if(typeof g.shouldComponentUpdate==="function"){if(V=g.shouldComponentUpdate(O,k,f),U.mode&_8){W1(!0);try{V=g.shouldComponentUpdate(O,k,f)}finally{W1(!1)}}return V===void 0&&console.error("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",h(N)||"Component"),V}return N.prototype&&N.prototype.isPureReactComponent?!iB(V,O)||!iB(C,k):!0}function _00(U,N,V,O){var C=N.state;typeof N.componentWillReceiveProps==="function"&&N.componentWillReceiveProps(V,O),typeof N.UNSAFE_componentWillReceiveProps==="function"&&N.UNSAFE_componentWillReceiveProps(V,O),N.state!==C&&(U=S(U)||"Component",Z70.has(U)||(Z70.add(U),console.error("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",U)),qM.enqueueReplaceState(N,N.state,null))}function k2(U,N){var V=N;if("ref"in N){V={};for(var O in N)O!=="ref"&&(V[O]=N[O])}if(U=U.defaultProps){V===N&&(V=G5({},V));for(var C in U)V[C]===void 0&&(V[C]=U[C])}return V}function f00(U){ZM(U),console.warn(`%s

%s
`,FU?"An error occurred in the <"+FU+"> component.":"An error occurred in one of your React components.",`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.`)}function I00(U){var N=FU?"The above error occurred in the <"+FU+"> component.":"The above error occurred in one of your React components.",V="React will try to recreate this component tree from scratch using the error boundary you provided, "+((XM||"Anonymous")+".");if(typeof U==="object"&&U!==null&&typeof U.environmentName==="string"){var O=U.environmentName;U=[`%o

%s

%s
`,U,N,V].slice(0),typeof U[0]==="string"?U.splice(0,1,r70+U[0],i70,xT+O+xT,s70):U.splice(0,0,r70,i70,xT+O+xT,s70),U.unshift(console),O=Gb0.apply(console.error,U),O()}else console.error(`%o

%s

%s
`,U,N,V)}function M00(U){ZM(U)}function SO(U,N){try{FU=N.source?S(N.source):null,XM=null;var V=N.value;if(D0.actQueue!==null)D0.thrownErrors.push(V);else{var O=U.onUncaughtError;O(V,{componentStack:N.stack})}}catch(C){setTimeout(function(){throw C})}}function b00(U,N,V){try{FU=V.source?S(V.source):null,XM=S(N);var O=U.onCaughtError;O(V.value,{componentStack:V.stack,errorBoundary:N.tag===1?N.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function Gf(U,N,V){return V=MY(V),V.tag=oI,V.payload={element:null},V.callback=function(){k1(N.source,SO,U,N)},V}function wf(U){return U=MY(U),U.tag=oI,U}function Of(U,N,V,O){var C=V.type.getDerivedStateFromError;if(typeof C==="function"){var k=O.value;U.payload=function(){return C(k)},U.callback=function(){ge(V),k1(O.source,b00,N,V,O)}}var f=V.stateNode;f!==null&&typeof f.componentDidCatch==="function"&&(U.callback=function(){ge(V),k1(O.source,b00,N,V,O),typeof C!=="function"&&(Jq===null?Jq=new Set([this]):Jq.add(this)),sM0(this,O),typeof C==="function"||(V.lanes&2)===0&&console.error("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",S(V)||"Unknown")})}function hf0(U,N,V,O,C){if(V.flags|=32768,G$&&zz(U,C),O!==null&&typeof O==="object"&&typeof O.then==="function"){if(N=V.alternate,N!==null&&tB(N,V,C,!0),b5&&(BK=!0),V=N3.current,V!==null){switch(V.tag){case 13:return yQ===null?xf():V.alternate===null&&$7===RK&&($7=HM),V.flags&=-257,V.flags|=65536,V.lanes=C,O===sI?V.flags|=16384:(N=V.updateQueue,N===null?V.updateQueue=new Set([O]):N.add(O),mf(U,O,C)),!1;case 22:return V.flags|=65536,O===sI?V.flags|=16384:(N=V.updateQueue,N===null?(N={transitions:null,markerInstances:null,retryQueue:new Set([O])},V.updateQueue=N):(V=N.retryQueue,V===null?N.retryQueue=new Set([O]):V.add(O)),mf(U,O,C)),!1}throw Error("Unexpected Suspense handler tag ("+V.tag+"). This is a bug in React.")}return mf(U,O,C),xf(),!1}if(b5)return BK=!0,N=N3.current,N!==null?((N.flags&65536)===0&&(N.flags|=256),N.flags|=65536,N.lanes=C,O!==nI&&aB(V9(Error("There was an error while hydrating but React was able to recover by instead client rendering from the nearest Suspense boundary.",{cause:O}),V))):(O!==nI&&aB(V9(Error("There was an error while hydrating but React was able to recover by instead client rendering the entire root.",{cause:O}),V)),U=U.current.alternate,U.flags|=65536,C&=-C,U.lanes|=C,O=V9(O,V),C=Gf(U.stateNode,O,C),zO(U,C),$7!==b2&&($7=BU)),!1;var k=V9(Error("There was an error during concurrent rendering but React was able to recover by instead synchronously rendering the entire root.",{cause:O}),V);if(ez===null?ez=[k]:ez.push(k),$7!==b2&&($7=BU),N===null)return!0;O=V9(O,V),V=N;do{switch(V.tag){case 3:return V.flags|=65536,U=C&-C,V.lanes|=U,U=Gf(V.stateNode,O,U),zO(V,U),!1;case 1:if(N=V.type,k=V.stateNode,(V.flags&128)===0&&(typeof N.getDerivedStateFromError==="function"||k!==null&&typeof k.componentDidCatch==="function"&&(Jq===null||!Jq.has(k))))return V.flags|=65536,C&=-C,V.lanes|=C,C=wf(C),Of(C,U,V,O),zO(V,C),!1}V=V.return}while(V!==null);return!1}function U8(U,N,V,O){N.child=U===null?Y70(N,null,V,O):XU(N,U.child,V,O)}function g00(U,N,V,O,C){V=V.render;var k=N.ref;if("ref"in O){var f={};for(var g in O)g!=="ref"&&(f[g]=O[g])}else f=O;if(O2(N),r0(N),O=n_(U,N,V,f,k,C),g=r_(),G1(),U!==null&&!o7)return i_(U,N,C),KK(U,N,C);return b5&&g&&S_(N),N.flags|=1,U8(U,N,O,C),N.child}function y00(U,N,V,O,C){if(U===null){var k=V.type;if(typeof k==="function"&&!E_(k)&&k.defaultProps===void 0&&V.compare===null)return V=z2(k),N.tag=15,N.type=V,Df(N,k),x00(U,N,V,O,C);return U=L_(V.type,null,O,N,N.mode,C),U.ref=N.ref,U.return=N,N.child=U}if(k=U.child,!Lf(U,C)){var f=k.memoizedProps;if(V=V.compare,V=V!==null?V:iB,V(f,O)&&U.ref===N.ref)return KK(U,N,C)}return N.flags|=1,U=eJ(k,O),U.ref=N.ref,U.return=N,N.child=U}function x00(U,N,V,O,C){if(U!==null){var k=U.memoizedProps;if(iB(k,O)&&U.ref===N.ref&&N.type===U.type)if(o7=!1,N.pendingProps=O=k,Lf(U,C))(U.flags&131072)!==0&&(o7=!0);else return N.lanes=U.lanes,KK(U,N,C)}return Tf(U,N,V,O,C)}function c00(U,N,V){var O=N.pendingProps,C=O.children,k=U!==null?U.memoizedState:null;if(O.mode==="hidden"){if((N.flags&128)!==0){if(O=k!==null?k.baseLanes|V:V,U!==null){C=N.child=U.child;for(k=0;C!==null;)k=k|C.lanes|C.childLanes,C=C.sibling;N.childLanes=k&~O}else N.childLanes=0,N.child=null;return u00(U,N,O,V)}if((V&536870912)!==0)N.memoizedState={baseLanes:0,cachePool:null},U!==null&&NO(N,k!==null?k.cachePool:null),k!==null?Q00(N,k):m_(N),v00(N);else return N.lanes=N.childLanes=536870912,u00(U,N,k!==null?k.baseLanes|V:V,V)}else k!==null?(NO(N,k.cachePool),Q00(N,k),xY(N),N.memoizedState=null):(U!==null&&NO(N,null),m_(N),xY(N));return U8(U,N,C,V),N.child}function u00(U,N,V,O){var C=x_();return C=C===null?null:{parent:g7._currentValue,pool:C},N.memoizedState={baseLanes:V,cachePool:C},U!==null&&NO(N,null),m_(N),v00(N),U!==null&&tB(U,N,O,!0),null}function _O(U,N){var V=N.ref;if(V===null)U!==null&&U.ref!==null&&(N.flags|=4194816);else{if(typeof V!=="function"&&typeof V!=="object")throw Error("Expected ref to be a function, an object returned by React.createRef(), or undefined/null.");if(U===null||U.ref!==V)N.flags|=4194816}}function Tf(U,N,V,O,C){if(V.prototype&&typeof V.prototype.render==="function"){var k=h(V)||"Unknown";R70[k]||(console.error("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",k,k),R70[k]=!0)}if(N.mode&_8&&T$.recordLegacyContextWarning(N,null),U===null&&(Df(N,N.type),V.contextTypes&&(k=h(V)||"Unknown",w70[k]||(w70[k]=!0,console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with React.useContext() instead. (https://react.dev/link/legacy-context)",k)))),O2(N),r0(N),V=n_(U,N,V,O,void 0,C),O=r_(),G1(),U!==null&&!o7)return i_(U,N,C),KK(U,N,C);return b5&&O&&S_(N),N.flags|=1,U8(U,N,V,C),N.child}function m00(U,N,V,O,C,k){if(O2(N),r0(N),AK=-1,dz=U!==null&&U.type!==N.type,N.updateQueue=null,V=l_(N,O,V,C),J00(U,N),O=r_(),G1(),U!==null&&!o7)return i_(U,N,k),KK(U,N,k);return b5&&O&&S_(N),N.flags|=1,U8(U,N,V,k),N.child}function p00(U,N,V,O,C){switch(Z(N)){case!1:var k=N.stateNode,f=new N.type(N.memoizedProps,k.context).state;k.updater.enqueueSetState(k,f,null);break;case!0:N.flags|=128,N.flags|=65536,k=Error("Simulated error coming from DevTools");var g=C&-C;if(N.lanes|=g,f=A6,f===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");g=wf(g),Of(g,f,N,V9(k,N)),zO(N,g)}if(O2(N),N.stateNode===null){if(f=sY,k=V.contextType,"contextType"in V&&k!==null&&(k===void 0||k.$$typeof!==vQ)&&!z70.has(V)&&(z70.add(V),g=k===void 0?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof k!=="object"?" However, it is set to a "+typeof k+".":k.$$typeof===AI?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(k).join(", ")+"}.",console.error("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",h(V)||"Component",g)),typeof k==="object"&&k!==null&&(f=M6(k)),k=new V(O,f),N.mode&_8){W1(!0);try{k=new V(O,f)}finally{W1(!1)}}if(f=N.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=qM,N.stateNode=k,k._reactInternals=N,k._reactInternalInstance=q70,typeof V.getDerivedStateFromProps==="function"&&f===null&&(f=h(V)||"Component",X70.has(f)||(X70.add(f),console.error("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",f,k.state===null?"null":"undefined",f))),typeof V.getDerivedStateFromProps==="function"||typeof k.getSnapshotBeforeUpdate==="function"){var d=g=f=null;if(typeof k.componentWillMount==="function"&&k.componentWillMount.__suppressDeprecationWarning!==!0?f="componentWillMount":typeof k.UNSAFE_componentWillMount==="function"&&(f="UNSAFE_componentWillMount"),typeof k.componentWillReceiveProps==="function"&&k.componentWillReceiveProps.__suppressDeprecationWarning!==!0?g="componentWillReceiveProps":typeof k.UNSAFE_componentWillReceiveProps==="function"&&(g="UNSAFE_componentWillReceiveProps"),typeof k.componentWillUpdate==="function"&&k.componentWillUpdate.__suppressDeprecationWarning!==!0?d="componentWillUpdate":typeof k.UNSAFE_componentWillUpdate==="function"&&(d="UNSAFE_componentWillUpdate"),f!==null||g!==null||d!==null){k=h(V)||"Component";var r=typeof V.getDerivedStateFromProps==="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";F70.has(k)||(F70.add(k),console.error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://react.dev/link/unsafe-component-lifecycles`,k,r,f!==null?`
  `+f:"",g!==null?`
  `+g:"",d!==null?`
  `+d:""))}}k=N.stateNode,f=h(V)||"Component",k.render||(V.prototype&&typeof V.prototype.render==="function"?console.error("No `render` method found on the %s instance: did you accidentally return an object from the constructor?",f):console.error("No `render` method found on the %s instance: you may have forgotten to define `render`.",f)),!k.getInitialState||k.getInitialState.isReactClassApproved||k.state||console.error("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",f),k.getDefaultProps&&!k.getDefaultProps.isReactClassApproved&&console.error("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",f),k.contextType&&console.error("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",f),V.childContextTypes&&!B70.has(V)&&(B70.add(V),console.error("%s uses the legacy childContextTypes API which was removed in React 19. Use React.createContext() instead. (https://react.dev/link/legacy-context)",f)),V.contextTypes&&!N70.has(V)&&(N70.add(V),console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with static contextType instead. (https://react.dev/link/legacy-context)",f)),typeof k.componentShouldUpdate==="function"&&console.error("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",f),V.prototype&&V.prototype.isPureReactComponent&&typeof k.shouldComponentUpdate<"u"&&console.error("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",h(V)||"A pure component"),typeof k.componentDidUnmount==="function"&&console.error("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",f),typeof k.componentDidReceiveProps==="function"&&console.error("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",f),typeof k.componentWillRecieveProps==="function"&&console.error("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",f),typeof k.UNSAFE_componentWillRecieveProps==="function"&&console.error("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",f),g=k.props!==O,k.props!==void 0&&g&&console.error("When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",f),k.defaultProps&&console.error("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",f,f),typeof k.getSnapshotBeforeUpdate!=="function"||typeof k.componentDidUpdate==="function"||W70.has(V)||(W70.add(V),console.error("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",h(V))),typeof k.getDerivedStateFromProps==="function"&&console.error("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",f),typeof k.getDerivedStateFromError==="function"&&console.error("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",f),typeof V.getSnapshotBeforeUpdate==="function"&&console.error("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",f),(g=k.state)&&(typeof g!=="object"||N8(g))&&console.error("%s.state: must be set to an object or null",f),typeof k.getChildContext==="function"&&typeof V.childContextTypes!=="object"&&console.error("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",f),k=N.stateNode,k.props=O,k.state=N.memoizedState,k.refs={},c_(N),f=V.contextType,k.context=typeof f==="object"&&f!==null?M6(f):sY,k.state===O&&(f=h(V)||"Component",U70.has(f)||(U70.add(f),console.error("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",f))),N.mode&_8&&T$.recordLegacyContextWarning(N,k),T$.recordUnsafeLifecycleWarnings(N,k),k.state=N.memoizedState,f=V.getDerivedStateFromProps,typeof f==="function"&&(Rf(N,V,f,O),k.state=N.memoizedState),typeof V.getDerivedStateFromProps==="function"||typeof k.getSnapshotBeforeUpdate==="function"||typeof k.UNSAFE_componentWillMount!=="function"&&typeof k.componentWillMount!=="function"||(f=k.state,typeof k.componentWillMount==="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount==="function"&&k.UNSAFE_componentWillMount(),f!==k.state&&(console.error("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",S(N)||"Component"),qM.enqueueReplaceState(k,k.state,null)),Kz(N,O,k,C),Jz(),k.state=N.memoizedState),typeof k.componentDidMount==="function"&&(N.flags|=4194308),(N.mode&O$)!==j6&&(N.flags|=134217728),k=!0}else if(U===null){k=N.stateNode;var A0=N.memoizedProps;g=k2(V,A0),k.props=g;var C0=k.context;d=V.contextType,f=sY,typeof d==="object"&&d!==null&&(f=M6(d)),r=V.getDerivedStateFromProps,d=typeof r==="function"||typeof k.getSnapshotBeforeUpdate==="function",A0=N.pendingProps!==A0,d||typeof k.UNSAFE_componentWillReceiveProps!=="function"&&typeof k.componentWillReceiveProps!=="function"||(A0||C0!==f)&&_00(N,k,O,f),oY=!1;var z0=N.memoizedState;k.state=z0,Kz(N,O,k,C),Jz(),C0=N.memoizedState,A0||z0!==C0||oY?(typeof r==="function"&&(Rf(N,V,r,O),C0=N.memoizedState),(g=oY||S00(N,V,g,O,z0,C0,f))?(d||typeof k.UNSAFE_componentWillMount!=="function"&&typeof k.componentWillMount!=="function"||(typeof k.componentWillMount==="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount==="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount==="function"&&(N.flags|=4194308),(N.mode&O$)!==j6&&(N.flags|=134217728)):(typeof k.componentDidMount==="function"&&(N.flags|=4194308),(N.mode&O$)!==j6&&(N.flags|=134217728),N.memoizedProps=O,N.memoizedState=C0),k.props=O,k.state=C0,k.context=f,k=g):(typeof k.componentDidMount==="function"&&(N.flags|=4194308),(N.mode&O$)!==j6&&(N.flags|=134217728),k=!1)}else{k=N.stateNode,u_(U,N),f=N.memoizedProps,d=k2(V,f),k.props=d,r=N.pendingProps,z0=k.context,C0=V.contextType,g=sY,typeof C0==="object"&&C0!==null&&(g=M6(C0)),A0=V.getDerivedStateFromProps,(C0=typeof A0==="function"||typeof k.getSnapshotBeforeUpdate==="function")||typeof k.UNSAFE_componentWillReceiveProps!=="function"&&typeof k.componentWillReceiveProps!=="function"||(f!==r||z0!==g)&&_00(N,k,O,g),oY=!1,z0=N.memoizedState,k.state=z0,Kz(N,O,k,C),Jz();var j0=N.memoizedState;f!==r||z0!==j0||oY||U!==null&&U.dependencies!==null&&WO(U.dependencies)?(typeof A0==="function"&&(Rf(N,V,A0,O),j0=N.memoizedState),(d=oY||S00(N,V,d,O,z0,j0,g)||U!==null&&U.dependencies!==null&&WO(U.dependencies))?(C0||typeof k.UNSAFE_componentWillUpdate!=="function"&&typeof k.componentWillUpdate!=="function"||(typeof k.componentWillUpdate==="function"&&k.componentWillUpdate(O,j0,g),typeof k.UNSAFE_componentWillUpdate==="function"&&k.UNSAFE_componentWillUpdate(O,j0,g)),typeof k.componentDidUpdate==="function"&&(N.flags|=4),typeof k.getSnapshotBeforeUpdate==="function"&&(N.flags|=1024)):(typeof k.componentDidUpdate!=="function"||f===U.memoizedProps&&z0===U.memoizedState||(N.flags|=4),typeof k.getSnapshotBeforeUpdate!=="function"||f===U.memoizedProps&&z0===U.memoizedState||(N.flags|=1024),N.memoizedProps=O,N.memoizedState=j0),k.props=O,k.state=j0,k.context=g,k=d):(typeof k.componentDidUpdate!=="function"||f===U.memoizedProps&&z0===U.memoizedState||(N.flags|=4),typeof k.getSnapshotBeforeUpdate!=="function"||f===U.memoizedProps&&z0===U.memoizedState||(N.flags|=1024),k=!1)}if(g=k,_O(U,N),f=(N.flags&128)!==0,g||f){if(g=N.stateNode,B_(N),f&&typeof V.getDerivedStateFromError!=="function")V=null,_4=-1;else{if(r0(N),V=d60(g),N.mode&_8){W1(!0);try{d60(g)}finally{W1(!1)}}G1()}N.flags|=1,U!==null&&f?(N.child=XU(N,U.child,null,C),N.child=XU(N,null,V,C)):U8(U,N,V,C),N.memoizedState=g.state,U=N.child}else U=KK(U,N,C);return C=N.stateNode,k&&C.props!==O&&(UU||console.error("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",S(N)||"a component"),UU=!0),U}function d00(U,N,V,O){return oB(),N.flags|=256,U8(U,N,V,O),N.child}function Df(U,N){N&&N.childContextTypes&&console.error(`childContextTypes cannot be defined on a function component.
  %s.childContextTypes = ...`,N.displayName||N.name||"Component"),typeof N.getDerivedStateFromProps==="function"&&(U=h(N)||"Unknown",O70[U]||(console.error("%s: Function components do not support getDerivedStateFromProps.",U),O70[U]=!0)),typeof N.contextType==="object"&&N.contextType!==null&&(N=h(N)||"Unknown",G70[N]||(console.error("%s: Function components do not support contextType.",N),G70[N]=!0))}function Cf(U){return{baseLanes:U,cachePool:re()}}function Pf(U,N,V){return U=U!==null?U.childLanes&~V:0,N&&(U|=k9),U}function n00(U,N,V){var O,C=N.pendingProps;q(N)&&(N.flags|=128);var k=!1,f=(N.flags&128)!==0;if((O=f)||(O=U!==null&&U.memoizedState===null?!1:(x7.current&lz)!==0),O&&(k=!0,N.flags&=-129),O=(N.flags&32)!==0,N.flags&=-33,U===null){if(b5){if(k?yY(N):xY(N),b5){var g=e6,d;if(!(d=!g)){$:{var r=g;for(d=bQ;r.nodeType!==8;){if(!d){d=null;break $}if(r=K3(r.nextSibling),r===null){d=null;break $}}d=r}d!==null?(R2(),N.memoizedState={dehydrated:d,treeContext:h2!==null?{id:HK,overflow:NK}:null,retryLane:536870912,hydrationErrors:null},r=z(18,null,null,j6),r.stateNode=d,r.return=N,N.child=r,$4=N,e6=null,d=!0):d=!1,d=!d}d&&(f_(N,g),w2(N))}if(g=N.memoizedState,g!==null&&(g=g.dehydrated,g!==null))return YI(g)?N.lanes=32:N.lanes=536870912,null;JK(N)}if(g=C.children,C=C.fallback,k)return xY(N),k=N.mode,g=fO({mode:"hidden",children:g},k),C=A2(C,k,V,null),g.return=N,C.return=N,g.sibling=C,N.child=g,k=N.child,k.memoizedState=Cf(V),k.childLanes=Pf(U,O,V),N.memoizedState=FM,C;return yY(N),kf(N,g)}var A0=U.memoizedState;if(A0!==null&&(g=A0.dehydrated,g!==null)){if(f)N.flags&256?(yY(N),N.flags&=-257,N=jf(U,N,V)):N.memoizedState!==null?(xY(N),N.child=U.child,N.flags|=128,N=null):(xY(N),k=C.fallback,g=N.mode,C=fO({mode:"visible",children:C.children},g),k=A2(k,g,V,null),k.flags|=2,C.return=N,k.return=N,C.sibling=k,N.child=C,XU(N,U.child,null,V),C=N.child,C.memoizedState=Cf(V),C.childLanes=Pf(U,O,V),N.memoizedState=FM,N=k);else if(yY(N),b5&&console.error("We should not be hydrating here. This is a bug in React. Please file a bug."),YI(g)){if(O=g.nextSibling&&g.nextSibling.dataset,O){d=O.dgst;var C0=O.msg;r=O.stck;var z0=O.cstck}g=C0,O=d,C=r,d=k=z0,k=g?Error(g):Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."),k.stack=C||"",k.digest=O,O=d===void 0?null:d,C={value:k,source:null,stack:O},typeof O==="string"&&pI.set(k,C),aB(C),N=jf(U,N,V)}else if(o7||tB(U,N,V,!1),O=(V&U.childLanes)!==0,o7||O){if(O=A6,O!==null&&(C=V&-V,C=(C&42)!==0?1:wF(C),C=(C&(O.suspendedLanes|V))!==0?0:C,C!==0&&C!==A0.retryLane))throw A0.retryLane=C,L4(U,C),V7(O,U,C),V70;g.data===GK||xf(),N=jf(U,N,V)}else g.data===GK?(N.flags|=192,N.child=U.child,N=null):(U=A0.treeContext,e6=K3(g.nextSibling),$4=N,b5=!0,v2=null,BK=!1,W3=null,bQ=!1,U!==null&&(R2(),Z3[X3++]=HK,Z3[X3++]=NK,Z3[X3++]=h2,HK=U.id,NK=U.overflow,h2=N),N=kf(N,C.children),N.flags|=4096);return N}if(k)return xY(N),k=C.fallback,g=N.mode,d=U.child,r=d.sibling,C=eJ(d,{mode:"hidden",children:C.children}),C.subtreeFlags=d.subtreeFlags&65011712,r!==null?k=eJ(r,k):(k=A2(k,g,V,null),k.flags|=2),k.return=N,C.return=N,C.sibling=k,N.child=C,C=k,k=N.child,g=U.child.memoizedState,g===null?g=Cf(V):(d=g.cachePool,d!==null?(r=g7._currentValue,d=d.parent!==r?{parent:r,pool:r}:d):d=re(),g={baseLanes:g.baseLanes|V,cachePool:d}),k.memoizedState=g,k.childLanes=Pf(U,O,V),N.memoizedState=FM,C;return yY(N),V=U.child,U=V.sibling,V=eJ(V,{mode:"visible",children:C.children}),V.return=N,V.sibling=null,U!==null&&(O=N.deletions,O===null?(N.deletions=[U],N.flags|=16):O.push(U)),N.child=V,N.memoizedState=null,V}function kf(U,N){return N=fO({mode:"visible",children:N},U.mode),N.return=U,U.child=N}function fO(U,N){return U=z(22,U,null,N),U.lanes=0,U.stateNode={_visibility:XT,_pendingMarkers:null,_retryCache:null,_transitions:null},U}function jf(U,N,V){return XU(N,U.child,null,V),U=kf(N,N.pendingProps.children),U.flags|=2,N.memoizedState=null,U}function l00(U,N,V){U.lanes|=N;var O=U.alternate;O!==null&&(O.lanes|=N),I_(U.return,N,V)}function r00(U,N){var V=N8(U);return U=!V&&typeof L(U)==="function",V||U?(V=V?"array":"iterable",console.error("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",V,N,V),!1):!0}function Ef(U,N,V,O,C){var k=U.memoizedState;k===null?U.memoizedState={isBackwards:N,rendering:null,renderingStartTime:0,last:O,tail:V,tailMode:C}:(k.isBackwards=N,k.rendering=null,k.renderingStartTime=0,k.last=O,k.tail=V,k.tailMode=C)}function i00(U,N,V){var O=N.pendingProps,C=O.revealOrder,k=O.tail;if(O=O.children,C!==void 0&&C!=="forwards"&&C!=="backwards"&&C!=="together"&&!T70[C])if(T70[C]=!0,typeof C==="string")switch(C.toLowerCase()){case"together":case"forwards":case"backwards":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',C,C.toLowerCase());break;case"forward":case"backward":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',C,C.toLowerCase());break;default:console.error('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',C)}else console.error('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',C);k===void 0||WM[k]||(k!=="collapsed"&&k!=="hidden"?(WM[k]=!0,console.error('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',k)):C!=="forwards"&&C!=="backwards"&&(WM[k]=!0,console.error('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',k)));$:if((C==="forwards"||C==="backwards")&&O!==void 0&&O!==null&&O!==!1)if(N8(O)){for(var f=0;f<O.length;f++)if(!r00(O[f],f))break $}else if(f=L(O),typeof f==="function"){if(f=f.call(O))for(var g=f.next(),d=0;!g.done;g=f.next()){if(!r00(g.value,d))break $;d++}}else console.error('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',C);if(U8(U,N,O,V),O=x7.current,(O&lz)!==0)O=O&WU|lz,N.flags|=128;else{if(U!==null&&(U.flags&128)!==0)$:for(U=N.child;U!==null;){if(U.tag===13)U.memoizedState!==null&&l00(U,V,N);else if(U.tag===19)l00(U,V,N);else if(U.child!==null){U.child.return=U,U=U.child;continue}if(U===N)break $;for(;U.sibling===null;){if(U.return===null||U.return===N)break $;U=U.return}U.sibling.return=U.return,U=U.sibling}O&=WU}switch(y(x7,O,N),C){case"forwards":V=N.child;for(C=null;V!==null;)U=V.alternate,U!==null&&vO(U)===null&&(C=V),V=V.sibling;V=C,V===null?(C=N.child,N.child=null):(C=V.sibling,V.sibling=null),Ef(N,!1,C,V,k);break;case"backwards":V=null,C=N.child;for(N.child=null;C!==null;){if(U=C.alternate,U!==null&&vO(U)===null){N.child=C;break}U=C.sibling,C.sibling=V,V=C,C=U}Ef(N,!0,V,null,k);break;case"together":Ef(N,!1,null,null,void 0);break;default:N.memoizedState=null}return N.child}function KK(U,N,V){if(U!==null&&(N.dependencies=U.dependencies),_4=-1,$q|=N.lanes,(V&N.childLanes)===0)if(U!==null){if(tB(U,N,V,!1),(V&N.childLanes)===0)return null}else return null;if(U!==null&&N.child!==U.child)throw Error("Resuming work not yet implemented.");if(N.child!==null){U=N.child,V=eJ(U,U.pendingProps),N.child=V;for(V.return=N;U.sibling!==null;)U=U.sibling,V=V.sibling=eJ(U,U.pendingProps),V.return=N;V.sibling=null}return N.child}function Lf(U,N){if((U.lanes&N)!==0)return!0;return U=U.dependencies,U!==null&&WO(U)?!0:!1}function vf0(U,N,V){switch(N.tag){case 3:u(N,N.stateNode.containerInfo),IY(N,g7,U.memoizedState.cache),oB();break;case 27:case 5:i(N);break;case 4:u(N,N.stateNode.containerInfo);break;case 10:IY(N,N.type,N.memoizedProps.value);break;case 12:(V&N.childLanes)!==0&&(N.flags|=4),N.flags|=2048;var O=N.stateNode;O.effectDuration=-0,O.passiveEffectDuration=-0;break;case 13:if(O=N.memoizedState,O!==null){if(O.dehydrated!==null)return yY(N),N.flags|=128,null;if((V&N.child.childLanes)!==0)return n00(U,N,V);return yY(N),U=KK(U,N,V),U!==null?U.sibling:null}yY(N);break;case 19:var C=(U.flags&128)!==0;if(O=(V&N.childLanes)!==0,O||(tB(U,N,V,!1),O=(V&N.childLanes)!==0),C){if(O)return i00(U,N,V);N.flags|=128}if(C=N.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),y(x7,x7.current,N),O)break;else return null;case 22:case 23:return N.lanes=0,c00(U,N,V);case 24:IY(N,g7,U.memoizedState.cache)}return KK(U,N,V)}function hf(U,N,V){if(N._debugNeedsRemount&&U!==null){V=L_(N.type,N.key,N.pendingProps,N._debugOwner||null,N.mode,N.lanes),V._debugStack=N._debugStack,V._debugTask=N._debugTask;var O=N.return;if(O===null)throw Error("Cannot swap the root fiber.");if(U.alternate=null,N.alternate=null,V.index=N.index,V.sibling=N.sibling,V.return=N.return,V.ref=N.ref,V._debugInfo=N._debugInfo,N===O.child)O.child=V;else{var C=O.child;if(C===null)throw Error("Expected parent to have a child.");for(;C.sibling!==N;)if(C=C.sibling,C===null)throw Error("Expected to find the previous sibling.");C.sibling=V}return N=O.deletions,N===null?(O.deletions=[U],O.flags|=16):N.push(U),V.flags|=2,V}if(U!==null)if(U.memoizedProps!==N.pendingProps||N.type!==U.type)o7=!0;else{if(!Lf(U,V)&&(N.flags&128)===0)return o7=!1,vf0(U,N,V);o7=(U.flags&131072)!==0?!0:!1}else{if(o7=!1,O=b5)R2(),O=(N.flags&1048576)!==0;O&&(O=N.index,R2(),xe(N,FT,O))}switch(N.lanes=0,N.tag){case 16:$:if(O=N.pendingProps,U=tY(N.elementType),N.type=U,typeof U==="function")E_(U)?(O=k2(U,O),N.tag=1,N.type=U=z2(U),N=p00(null,N,U,O,V)):(N.tag=0,Df(N,U),N.type=U=z2(U),N=Tf(null,N,U,O,V));else{if(U!==void 0&&U!==null){if(C=U.$$typeof,C===Dz){N.tag=11,N.type=U=k_(U),N=g00(null,N,U,O,V);break $}else if(C===oO){N.tag=14,N=y00(null,N,U,O,V);break $}}throw N="",U!==null&&typeof U==="object"&&U.$$typeof===O9&&(N=" Did you wrap a component in React.lazy() more than once?"),U=h(U)||U,Error("Element type is invalid. Received a promise that resolves to: "+U+". Lazy element type must resolve to a class or function."+N)}return N;case 0:return Tf(U,N,N.type,N.pendingProps,V);case 1:return O=N.type,C=k2(O,N.pendingProps),p00(U,N,O,C,V);case 3:$:{if(u(N,N.stateNode.containerInfo),U===null)throw Error("Should have a current fiber. This is a bug in React.");O=N.pendingProps;var k=N.memoizedState;C=k.element,u_(U,N),Kz(N,O,null,V);var f=N.memoizedState;if(O=f.cache,IY(N,g7,O),O!==k.cache&&M_(N,[g7],V,!0),Jz(),O=f.element,k.isDehydrated)if(k={element:O,isDehydrated:!1,cache:f.cache},N.updateQueue.baseState=k,N.memoizedState=k,N.flags&256){N=d00(U,N,O,V);break $}else if(O!==C){C=V9(Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),N),aB(C),N=d00(U,N,O,V);break $}else{switch(U=N.stateNode.containerInfo,U.nodeType){case 9:U=U.body;break;default:U=U.nodeName==="HTML"?U.ownerDocument.body:U}e6=K3(U.firstChild),$4=N,b5=!0,v2=null,BK=!1,W3=null,bQ=!0,U=Y70(N,null,O,V);for(N.child=U;U;)U.flags=U.flags&-3|4096,U=U.sibling}else{if(oB(),O===C){N=KK(U,N,V);break $}U8(U,N,O,V)}N=N.child}return N;case 26:return _O(U,N),U===null?(U=B50(N.type,null,N.pendingProps,null))?N.memoizedState=U:b5||(U=N.type,V=N.pendingProps,O=b(nY.current),O=uO(O).createElement(U),O[S8]=N,O[S4]=V,H8(O,U,V),i0(O),N.stateNode=O):N.memoizedState=B50(N.type,U.memoizedProps,N.pendingProps,U.memoizedState),null;case 27:return i(N),U===null&&b5&&(O=b(nY.current),C=m(),O=N.stateNode=H50(N.type,N.pendingProps,O,C,!1),BK||(C=J50(O,N.type,N.pendingProps,C),C!==null&&(G2(N,0).serverProps=C)),$4=N,bQ=!0,C=e6,mY(N.type)?(_M=C,e6=K3(O.firstChild)):e6=C),U8(U,N,N.pendingProps.children,V),_O(U,N),U===null&&(N.flags|=4194304),N.child;case 5:return U===null&&b5&&(k=m(),O=O_(N.type,k.ancestorInfo),C=e6,(f=!C)||(f=BI0(C,N.type,N.pendingProps,bQ),f!==null?(N.stateNode=f,BK||(k=J50(f,N.type,N.pendingProps,k),k!==null&&(G2(N,0).serverProps=k)),$4=N,e6=K3(f.firstChild),bQ=!1,k=!0):k=!1,f=!k),f&&(O&&f_(N,C),w2(N))),i(N),C=N.type,k=N.pendingProps,f=U!==null?U.memoizedProps:null,O=k.children,JI(C,k)?O=null:f!==null&&JI(C,f)&&(N.flags|=32),N.memoizedState!==null&&(C=n_(U,N,Pf0,null,null,V),XA._currentValue=C),_O(U,N),U8(U,N,O,V),N.child;case 6:return U===null&&b5&&(U=N.pendingProps,V=m(),O=V.ancestorInfo.current,U=O!=null?ew(U,O.tag,V.ancestorInfo.implicitRootScope):!0,V=e6,(O=!V)||(O=zI0(V,N.pendingProps,bQ),O!==null?(N.stateNode=O,$4=N,e6=null,O=!0):O=!1,O=!O),O&&(U&&f_(N,V),w2(N))),null;case 13:return n00(U,N,V);case 4:return u(N,N.stateNode.containerInfo),O=N.pendingProps,U===null?N.child=XU(N,null,O,V):U8(U,N,O,V),N.child;case 11:return g00(U,N,N.type,N.pendingProps,V);case 7:return U8(U,N,N.pendingProps,V),N.child;case 8:return U8(U,N,N.pendingProps.children,V),N.child;case 12:return N.flags|=4,N.flags|=2048,O=N.stateNode,O.effectDuration=-0,O.passiveEffectDuration=-0,U8(U,N,N.pendingProps.children,V),N.child;case 10:return O=N.type,C=N.pendingProps,k=C.value,"value"in C||D70||(D70=!0,console.error("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?")),IY(N,O,k),U8(U,N,C.children,V),N.child;case 9:return C=N.type._context,O=N.pendingProps.children,typeof O!=="function"&&console.error("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),O2(N),C=M6(C),r0(N),O=JM(O,C,void 0),G1(),N.flags|=1,U8(U,N,O,V),N.child;case 14:return y00(U,N,N.type,N.pendingProps,V);case 15:return x00(U,N,N.type,N.pendingProps,V);case 19:return i00(U,N,V);case 31:return O=N.pendingProps,V=N.mode,O={mode:O.mode,children:O.children},U===null?(U=fO(O,V),U.ref=N.ref,N.child=U,U.return=N,N=U):(U=eJ(U.child,O),U.ref=N.ref,N.child=U,U.return=N,N=U),N;case 22:return c00(U,N,V);case 24:return O2(N),O=M6(g7),U===null?(C=x_(),C===null&&(C=A6,k=b_(),C.pooledCache=k,T2(k),k!==null&&(C.pooledCacheLanes|=V),C=k),N.memoizedState={parent:O,cache:C},c_(N),IY(N,g7,C)):((U.lanes&V)!==0&&(u_(U,N),Kz(N,null,null,V),Jz()),C=U.memoizedState,k=N.memoizedState,C.parent!==O?(C={parent:O,cache:O},N.memoizedState=C,N.lanes===0&&(N.memoizedState=N.updateQueue.baseState=C),IY(N,g7,O)):(O=k.cache,IY(N,g7,O),O!==C.cache&&M_(N,[g7],V,!0))),U8(U,N,N.pendingProps.children,V),N.child;case 29:throw N.pendingProps}throw Error("Unknown unit of work tag ("+N.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function YK(U){U.flags|=4}function s00(U,N){if(N.type!=="stylesheet"||(N.state.loading&B3)!==n2)U.flags&=-16777217;else if(U.flags|=16777216,!G50(N)){if(N=N3.current,N!==null&&((P5&4194048)===P5?yQ!==null:(P5&62914560)!==P5&&(P5&536870912)===0||N!==yQ))throw mz=sI,_60;U.flags|=8192}}function IO(U,N){N!==null&&(U.flags|=4),U.flags&16384&&(N=U.tag!==22?t9():536870912,U.lanes|=N,x2|=N)}function Wz(U,N){if(!b5)switch(U.tailMode){case"hidden":N=U.tail;for(var V=null;N!==null;)N.alternate!==null&&(V=N),N=N.sibling;V===null?U.tail=null:V.sibling=null;break;case"collapsed":V=U.tail;for(var O=null;V!==null;)V.alternate!==null&&(O=V),V=V.sibling;O===null?N||U.tail===null?U.tail=null:U.tail.sibling=null:O.sibling=null}}function b6(U){var N=U.alternate!==null&&U.alternate.child===U.child,V=0,O=0;if(N)if((U.mode&B8)!==j6){for(var{selfBaseDuration:C,child:k}=U;k!==null;)V|=k.lanes|k.childLanes,O|=k.subtreeFlags&65011712,O|=k.flags&65011712,C+=k.treeBaseDuration,k=k.sibling;U.treeBaseDuration=C}else for(C=U.child;C!==null;)V|=C.lanes|C.childLanes,O|=C.subtreeFlags&65011712,O|=C.flags&65011712,C.return=U,C=C.sibling;else if((U.mode&B8)!==j6){C=U.actualDuration,k=U.selfBaseDuration;for(var f=U.child;f!==null;)V|=f.lanes|f.childLanes,O|=f.subtreeFlags,O|=f.flags,C+=f.actualDuration,k+=f.treeBaseDuration,f=f.sibling;U.actualDuration=C,U.treeBaseDuration=k}else for(C=U.child;C!==null;)V|=C.lanes|C.childLanes,O|=C.subtreeFlags,O|=C.flags,C.return=U,C=C.sibling;return U.subtreeFlags|=O,U.childLanes=V,N}function Sf0(U,N,V){var O=N.pendingProps;switch(__(N),N.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return b6(N),null;case 1:return b6(N),null;case 3:if(V=N.stateNode,O=null,U!==null&&(O=U.memoizedState.cache),N.memoizedState.cache!==O&&(N.flags|=2048),$K(g7,N),c(N),V.pendingContext&&(V.context=V.pendingContext,V.pendingContext=null),U===null||U.child===null)sB(N)?(pe(),YK(N)):U===null||U.memoizedState.isDehydrated&&(N.flags&256)===0||(N.flags|=1024,me());return b6(N),null;case 26:return V=N.memoizedState,U===null?(YK(N),V!==null?(b6(N),s00(N,V)):(b6(N),N.flags&=-16777217)):V?V!==U.memoizedState?(YK(N),b6(N),s00(N,V)):(b6(N),N.flags&=-16777217):(U.memoizedProps!==O&&YK(N),b6(N),N.flags&=-16777217),null;case 27:o(N),V=b(nY.current);var C=N.type;if(U!==null&&N.stateNode!=null)U.memoizedProps!==O&&YK(N);else{if(!O){if(N.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return b6(N),null}U=m(),sB(N)?ce(N,U):(U=H50(C,O,V,U,!0),N.stateNode=U,YK(N))}return b6(N),null;case 5:if(o(N),V=N.type,U!==null&&N.stateNode!=null)U.memoizedProps!==O&&YK(N);else{if(!O){if(N.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return b6(N),null}if(C=m(),sB(N))ce(N,C);else{switch(U=b(nY.current),O_(V,C.ancestorInfo),C=C.context,U=uO(U),C){case wU:U=U.createElementNS(mF,V);break;case bT:U=U.createElementNS(JT,V);break;default:switch(V){case"svg":U=U.createElementNS(mF,V);break;case"math":U=U.createElementNS(JT,V);break;case"script":U=U.createElement("div"),U.innerHTML="<script></script>",U=U.removeChild(U.firstChild);break;case"select":U=typeof O.is==="string"?U.createElement("select",{is:O.is}):U.createElement("select"),O.multiple?U.multiple=!0:O.size&&(U.size=O.size);break;default:U=typeof O.is==="string"?U.createElement(V,{is:O.is}):U.createElement(V),V.indexOf("-")===-1&&(V!==V.toLowerCase()&&console.error("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",V),Object.prototype.toString.call(U)!=="[object HTMLUnknownElement]"||FK.call(u70,V)||(u70[V]=!0,console.error("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",V)))}}U[S8]=N,U[S4]=O;$:for(C=N.child;C!==null;){if(C.tag===5||C.tag===6)U.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===N)break $;for(;C.sibling===null;){if(C.return===null||C.return===N)break $;C=C.return}C.sibling.return=C.return,C=C.sibling}N.stateNode=U;$:switch(H8(U,V,O),V){case"button":case"input":case"select":case"textarea":U=!!O.autoFocus;break $;case"img":U=!0;break $;default:U=!1}U&&YK(N)}}return b6(N),N.flags&=-16777217,null;case 6:if(U&&N.stateNode!=null)U.memoizedProps!==O&&YK(N);else{if(typeof O!=="string"&&N.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");if(U=b(nY.current),V=m(),sB(N)){U=N.stateNode,V=N.memoizedProps,C=!BK,O=null;var k=$4;if(k!==null)switch(k.tag){case 3:C&&(C=W50(U,V,O),C!==null&&(G2(N,0).serverProps=C));break;case 27:case 5:O=k.memoizedProps,C&&(C=W50(U,V,O),C!==null&&(G2(N,0).serverProps=C))}U[S8]=N,U=U.nodeValue===V||O!==null&&O.suppressHydrationWarning===!0||a10(U.nodeValue,V)?!0:!1,U||w2(N)}else C=V.ancestorInfo.current,C!=null&&ew(O,C.tag,V.ancestorInfo.implicitRootScope),U=uO(U).createTextNode(O),U[S8]=N,N.stateNode=U}return b6(N),null;case 13:if(O=N.memoizedState,U===null||U.memoizedState!==null&&U.memoizedState.dehydrated!==null){if(C=sB(N),O!==null&&O.dehydrated!==null){if(U===null){if(!C)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(C=N.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");C[S8]=N,b6(N),(N.mode&B8)!==j6&&O!==null&&(C=N.child,C!==null&&(N.treeBaseDuration-=C.treeBaseDuration))}else pe(),oB(),(N.flags&128)===0&&(N.memoizedState=null),N.flags|=4,b6(N),(N.mode&B8)!==j6&&O!==null&&(C=N.child,C!==null&&(N.treeBaseDuration-=C.treeBaseDuration));C=!1}else C=me(),U!==null&&U.memoizedState!==null&&(U.memoizedState.hydrationErrors=C),C=!0;if(!C){if(N.flags&256)return JK(N),N;return JK(N),null}}if(JK(N),(N.flags&128)!==0)return N.lanes=V,(N.mode&B8)!==j6&&HO(N),N;return V=O!==null,U=U!==null&&U.memoizedState!==null,V&&(O=N.child,C=null,O.alternate!==null&&O.alternate.memoizedState!==null&&O.alternate.memoizedState.cachePool!==null&&(C=O.alternate.memoizedState.cachePool.pool),k=null,O.memoizedState!==null&&O.memoizedState.cachePool!==null&&(k=O.memoizedState.cachePool.pool),k!==C&&(O.flags|=2048)),V!==U&&V&&(N.child.flags|=8192),IO(N,N.updateQueue),b6(N),(N.mode&B8)!==j6&&V&&(U=N.child,U!==null&&(N.treeBaseDuration-=U.treeBaseDuration)),null;case 4:return c(N),U===null&&sf(N.stateNode.containerInfo),b6(N),null;case 10:return $K(N.type,N),b6(N),null;case 19:if(M(x7,N),C=N.memoizedState,C===null)return b6(N),null;if(O=(N.flags&128)!==0,k=C.rendering,k===null)if(O)Wz(C,!1);else{if($7!==RK||U!==null&&(U.flags&128)!==0)for(U=N.child;U!==null;){if(k=vO(U),k!==null){N.flags|=128,Wz(C,!1),U=k.updateQueue,N.updateQueue=U,IO(N,U),N.subtreeFlags=0,U=V;for(V=N.child;V!==null;)ye(V,U),V=V.sibling;return y(x7,x7.current&WU|lz,N),N.child}U=U.sibling}C.tail!==null&&SQ()>PT&&(N.flags|=128,O=!0,Wz(C,!1),N.lanes=4194304)}else{if(!O)if(U=vO(k),U!==null){if(N.flags|=128,O=!0,U=U.updateQueue,N.updateQueue=U,IO(N,U),Wz(C,!0),C.tail===null&&C.tailMode==="hidden"&&!k.alternate&&!b5)return b6(N),null}else 2*SQ()-C.renderingStartTime>PT&&V!==536870912&&(N.flags|=128,O=!0,Wz(C,!1),N.lanes=4194304);C.isBackwards?(k.sibling=N.child,N.child=k):(U=C.last,U!==null?U.sibling=k:N.child=k,C.last=k)}if(C.tail!==null)return U=C.tail,C.rendering=U,C.tail=U.sibling,C.renderingStartTime=SQ(),U.sibling=null,V=x7.current,V=O?V&WU|lz:V&WU,y(x7,V,N),U;return b6(N),null;case 22:case 23:return JK(N),p_(N),O=N.memoizedState!==null,U!==null?U.memoizedState!==null!==O&&(N.flags|=8192):O&&(N.flags|=8192),O?(V&536870912)!==0&&(N.flags&128)===0&&(b6(N),N.subtreeFlags&6&&(N.flags|=8192)):b6(N),V=N.updateQueue,V!==null&&IO(N,V.retryQueue),V=null,U!==null&&U.memoizedState!==null&&U.memoizedState.cachePool!==null&&(V=U.memoizedState.cachePool.pool),O=null,N.memoizedState!==null&&N.memoizedState.cachePool!==null&&(O=N.memoizedState.cachePool.pool),O!==V&&(N.flags|=2048),U!==null&&M(f2,N),null;case 24:return V=null,U!==null&&(V=U.memoizedState.cache),N.memoizedState.cache!==V&&(N.flags|=2048),$K(g7,N),b6(N),null;case 25:return null;case 30:return null}throw Error("Unknown unit of work tag ("+N.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function _f0(U,N){switch(__(N),N.tag){case 1:return U=N.flags,U&65536?(N.flags=U&-65537|128,(N.mode&B8)!==j6&&HO(N),N):null;case 3:return $K(g7,N),c(N),U=N.flags,(U&65536)!==0&&(U&128)===0?(N.flags=U&-65537|128,N):null;case 26:case 27:case 5:return o(N),null;case 13:if(JK(N),U=N.memoizedState,U!==null&&U.dehydrated!==null){if(N.alternate===null)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");oB()}return U=N.flags,U&65536?(N.flags=U&-65537|128,(N.mode&B8)!==j6&&HO(N),N):null;case 19:return M(x7,N),null;case 4:return c(N),null;case 10:return $K(N.type,N),null;case 22:case 23:return JK(N),p_(N),U!==null&&M(f2,N),U=N.flags,U&65536?(N.flags=U&-65537|128,(N.mode&B8)!==j6&&HO(N),N):null;case 24:return $K(g7,N),null;case 25:return null;default:return null}}function o00(U,N){switch(__(N),N.tag){case 3:$K(g7,N),c(N);break;case 26:case 27:case 5:o(N);break;case 4:c(N);break;case 13:JK(N);break;case 19:M(x7,N);break;case 10:$K(N.type,N);break;case 22:case 23:JK(N),p_(N),U!==null&&M(f2,N);break;case 24:$K(g7,N)}}function kQ(U){return(U.mode&B8)!==j6}function a00(U,N){kQ(U)?(PQ(),Fz(N,U),CQ()):Fz(N,U)}function vf(U,N,V){kQ(U)?(PQ(),LF(V,U,N),CQ()):LF(V,U,N)}function Fz(U,N){try{var V=N.updateQueue,O=V!==null?V.lastEffect:null;if(O!==null){var C=O.next;V=C;do{if((V.tag&U)===U&&((U&y7)!==F3?F1!==null&&typeof F1.markComponentPassiveEffectMountStarted==="function"&&F1.markComponentPassiveEffectMountStarted(N):(U&z8)!==F3&&F1!==null&&typeof F1.markComponentLayoutEffectMountStarted==="function"&&F1.markComponentLayoutEffectMountStarted(N),O=void 0,(U&Q4)!==F3&&(RU=!0),O=k1(N,oM0,V),(U&Q4)!==F3&&(RU=!1),(U&y7)!==F3?F1!==null&&typeof F1.markComponentPassiveEffectMountStopped==="function"&&F1.markComponentPassiveEffectMountStopped():(U&z8)!==F3&&F1!==null&&typeof F1.markComponentLayoutEffectMountStopped==="function"&&F1.markComponentLayoutEffectMountStopped(),O!==void 0&&typeof O!=="function")){var k=void 0;k=(V.tag&z8)!==0?"useLayoutEffect":(V.tag&Q4)!==0?"useInsertionEffect":"useEffect";var f=void 0;f=O===null?" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof O.then==="function"?`

It looks like you wrote `+k+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+k+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://react.dev/link/hooks-data-fetching`:" You returned: "+O,k1(N,function(g,d){console.error("%s must not return anything besides a function, which is used for clean-up.%s",g,d)},k,f)}V=V.next}while(V!==C)}}catch(g){W6(N,N.return,g)}}function LF(U,N,V){try{var O=N.updateQueue,C=O!==null?O.lastEffect:null;if(C!==null){var k=C.next;O=k;do{if((O.tag&U)===U){var f=O.inst,g=f.destroy;g!==void 0&&(f.destroy=void 0,(U&y7)!==F3?F1!==null&&typeof F1.markComponentPassiveEffectUnmountStarted==="function"&&F1.markComponentPassiveEffectUnmountStarted(N):(U&z8)!==F3&&F1!==null&&typeof F1.markComponentLayoutEffectUnmountStarted==="function"&&F1.markComponentLayoutEffectUnmountStarted(N),(U&Q4)!==F3&&(RU=!0),C=N,k1(C,aM0,C,V,g),(U&Q4)!==F3&&(RU=!1),(U&y7)!==F3?F1!==null&&typeof F1.markComponentPassiveEffectUnmountStopped==="function"&&F1.markComponentPassiveEffectUnmountStopped():(U&z8)!==F3&&F1!==null&&typeof F1.markComponentLayoutEffectUnmountStopped==="function"&&F1.markComponentLayoutEffectUnmountStopped())}O=O.next}while(O!==k)}}catch(d){W6(N,N.return,d)}}function t00(U,N){kQ(U)?(PQ(),Fz(N,U),CQ()):Fz(N,U)}function Sf(U,N,V){kQ(U)?(PQ(),LF(V,U,N),CQ()):LF(V,U,N)}function e00(U){var N=U.updateQueue;if(N!==null){var V=U.stateNode;U.type.defaultProps||"ref"in U.memoizedProps||UU||(V.props!==U.memoizedProps&&console.error("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",S(U)||"instance"),V.state!==U.memoizedState&&console.error("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",S(U)||"instance"));try{k1(U,$00,N,V)}catch(O){W6(U,U.return,O)}}}function ff0(U,N,V){return U.getSnapshotBeforeUpdate(N,V)}function If0(U,N){var{memoizedProps:V,memoizedState:O}=N;N=U.stateNode,U.type.defaultProps||"ref"in U.memoizedProps||UU||(N.props!==U.memoizedProps&&console.error("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",S(U)||"instance"),N.state!==U.memoizedState&&console.error("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",S(U)||"instance"));try{var C=k2(U.type,V,U.elementType===U.type),k=k1(U,ff0,N,C,O);V=C70,k!==void 0||V.has(U.type)||(V.add(U.type),k1(U,function(){console.error("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",S(U))})),N.__reactInternalSnapshotBeforeUpdate=k}catch(f){W6(U,U.return,f)}}function $10(U,N,V){V.props=k2(U.type,U.memoizedProps),V.state=U.memoizedState,kQ(U)?(PQ(),k1(U,o60,U,N,V),CQ()):k1(U,o60,U,N,V)}function Mf0(U){var N=U.ref;if(N!==null){switch(U.tag){case 26:case 27:case 5:var V=U.stateNode;break;case 30:V=U.stateNode;break;default:V=U.stateNode}if(typeof N==="function")if(kQ(U))try{PQ(),U.refCleanup=N(V)}finally{CQ()}else U.refCleanup=N(V);else typeof N==="string"?console.error("String refs are no longer supported."):N.hasOwnProperty("current")||console.error("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",S(U)),N.current=V}}function Uz(U,N){try{k1(U,Mf0,U)}catch(V){W6(U,N,V)}}function jQ(U,N){var{ref:V,refCleanup:O}=U;if(V!==null)if(typeof O==="function")try{if(kQ(U))try{PQ(),k1(U,O)}finally{CQ(U)}else k1(U,O)}catch(C){W6(U,N,C)}finally{U.refCleanup=null,U=U.alternate,U!=null&&(U.refCleanup=null)}else if(typeof V==="function")try{if(kQ(U))try{PQ(),k1(U,V,null)}finally{CQ(U)}else k1(U,V,null)}catch(C){W6(U,N,C)}else V.current=null}function Q10(U,N,V,O){var C=U.memoizedProps,k=C.id,f=C.onCommit;C=C.onRender,N=N===null?"mount":"update",NT&&(N="nested-update"),typeof C==="function"&&C(k,N,U.actualDuration,U.treeBaseDuration,U.actualStartTime,V),typeof f==="function"&&f(U.memoizedProps.id,N,O,V)}function bf0(U,N,V,O){var C=U.memoizedProps;U=C.id,C=C.onPostCommit,N=N===null?"mount":"update",NT&&(N="nested-update"),typeof C==="function"&&C(U,N,O,V)}function J10(U){var{type:N,memoizedProps:V,stateNode:O}=U;try{k1(U,YI0,O,N,V,U)}catch(C){W6(U,U.return,C)}}function _f(U,N,V){try{k1(U,qI0,U.stateNode,U.type,V,N,U)}catch(O){W6(U,U.return,O)}}function K10(U){return U.tag===5||U.tag===3||U.tag===26||U.tag===27&&mY(U.type)||U.tag===4}function ff(U){$:for(;;){for(;U.sibling===null;){if(U.return===null||K10(U.return))return null;U=U.return}U.sibling.return=U.return;for(U=U.sibling;U.tag!==5&&U.tag!==6&&U.tag!==18;){if(U.tag===27&&mY(U.type))continue $;if(U.flags&2)continue $;if(U.child===null||U.tag===4)continue $;else U.child.return=U,U=U.child}if(!(U.flags&2))return U.stateNode}}function If(U,N,V){var O=U.tag;if(O===5||O===6)U=U.stateNode,N?(V.nodeType===9?V.body:V.nodeName==="HTML"?V.ownerDocument.body:V).insertBefore(U,N):(N=V.nodeType===9?V.body:V.nodeName==="HTML"?V.ownerDocument.body:V,N.appendChild(U),V=V._reactRootContainer,V!==null&&V!==void 0||N.onclick!==null||(N.onclick=cO));else if(O!==4&&(O===27&&mY(U.type)&&(V=U.stateNode,N=null),U=U.child,U!==null))for(If(U,N,V),U=U.sibling;U!==null;)If(U,N,V),U=U.sibling}function MO(U,N,V){var O=U.tag;if(O===5||O===6)U=U.stateNode,N?V.insertBefore(U,N):V.appendChild(U);else if(O!==4&&(O===27&&mY(U.type)&&(V=U.stateNode),U=U.child,U!==null))for(MO(U,N,V),U=U.sibling;U!==null;)MO(U,N,V),U=U.sibling}function gf0(U){for(var N,V=U.return;V!==null;){if(K10(V)){N=V;break}V=V.return}if(N==null)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");switch(N.tag){case 27:N=N.stateNode,V=ff(U),MO(U,V,N);break;case 5:V=N.stateNode,N.flags&32&&(q50(V),N.flags&=-33),N=ff(U),MO(U,N,V);break;case 3:case 4:N=N.stateNode.containerInfo,V=ff(U),If(U,V,N);break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function Y10(U){var{stateNode:N,memoizedProps:V}=U;try{k1(U,GI0,U.type,V,N,U)}catch(O){W6(U,U.return,O)}}function yf0(U,N){if(U=U.containerInfo,hM=cT,U=fe(U),C_(U)){if("selectionStart"in U)var V={start:U.selectionStart,end:U.selectionEnd};else $:{V=(V=U.ownerDocument)&&V.defaultView||window;var O=V.getSelection&&V.getSelection();if(O&&O.rangeCount!==0){V=O.anchorNode;var{anchorOffset:C,focusNode:k}=O;O=O.focusOffset;try{V.nodeType,k.nodeType}catch(O1){V=null;break $}var f=0,g=-1,d=-1,r=0,A0=0,C0=U,z0=null;Q:for(;;){for(var j0;;){if(C0!==V||C!==0&&C0.nodeType!==3||(g=f+C),C0!==k||O!==0&&C0.nodeType!==3||(d=f+O),C0.nodeType===3&&(f+=C0.nodeValue.length),(j0=C0.firstChild)===null)break;z0=C0,C0=j0}for(;;){if(C0===U)break Q;if(z0===V&&++r===C&&(g=f),z0===k&&++A0===O&&(d=f),(j0=C0.nextSibling)!==null)break;C0=z0,z0=C0.parentNode}C0=j0}V=g===-1||d===-1?null:{start:g,end:d}}else V=null}V=V||{start:0,end:0}}else V=null;vM={focusedElem:U,selectionRange:V},cT=!1;for(a7=N;a7!==null;)if(N=a7,U=N.child,(N.subtreeFlags&1024)!==0&&U!==null)U.return=N,a7=U;else for(;a7!==null;){switch(U=N=a7,V=U.alternate,C=U.flags,U.tag){case 0:break;case 11:case 15:break;case 1:(C&1024)!==0&&V!==null&&If0(U,V);break;case 3:if((C&1024)!==0){if(U=U.stateNode.containerInfo,V=U.nodeType,V===9)KI(U);else if(V===1)switch(U.nodeName){case"HEAD":case"HTML":case"BODY":KI(U);break;default:U.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((C&1024)!==0)throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}if(U=N.sibling,U!==null){U.return=N.return,a7=U;break}a7=N.return}}function q10(U,N,V){var O=V.flags;switch(V.tag){case 0:case 11:case 15:ZK(U,V),O&4&&a00(V,z8|U3);break;case 1:if(ZK(U,V),O&4)if(U=V.stateNode,N===null)V.type.defaultProps||"ref"in V.memoizedProps||UU||(U.props!==V.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",S(V)||"instance"),U.state!==V.memoizedState&&console.error("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",S(V)||"instance")),kQ(V)?(PQ(),k1(V,KM,V,U),CQ()):k1(V,KM,V,U);else{var C=k2(V.type,N.memoizedProps);N=N.memoizedState,V.type.defaultProps||"ref"in V.memoizedProps||UU||(U.props!==V.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",S(V)||"instance"),U.state!==V.memoizedState&&console.error("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",S(V)||"instance")),kQ(V)?(PQ(),k1(V,r60,V,U,C,N,U.__reactInternalSnapshotBeforeUpdate),CQ()):k1(V,r60,V,U,C,N,U.__reactInternalSnapshotBeforeUpdate)}O&64&&e00(V),O&512&&Uz(V,V.return);break;case 3:if(N=QK(),ZK(U,V),O&64&&(O=V.updateQueue,O!==null)){if(C=null,V.child!==null)switch(V.child.tag){case 27:case 5:C=V.child.stateNode;break;case 1:C=V.child.stateNode}try{k1(V,$00,O,C)}catch(f){W6(V,V.return,f)}}U.effectDuration+=UO(N);break;case 27:N===null&&O&4&&Y10(V);case 26:case 5:ZK(U,V),N===null&&O&4&&J10(V),O&512&&Uz(V,V.return);break;case 12:if(O&4){O=QK(),ZK(U,V),U=V.stateNode,U.effectDuration+=$z(O);try{k1(V,Q10,V,N,HT,U.effectDuration)}catch(f){W6(V,V.return,f)}}else ZK(U,V);break;case 13:ZK(U,V),O&4&&W10(U,V),O&64&&(U=V.memoizedState,U!==null&&(U=U.dehydrated,U!==null&&(V=rf0.bind(null,V),AI0(U,V))));break;case 22:if(O=V.memoizedState!==null||VK,!O){N=N!==null&&N.memoizedState!==null||R7,C=VK;var k=R7;VK=O,(R7=N)&&!k?XK(U,V,(V.subtreeFlags&8772)!==0):ZK(U,V),VK=C,R7=k}break;case 30:break;default:ZK(U,V)}}function Z10(U){var N=U.alternate;N!==null&&(U.alternate=null,Z10(N)),U.child=null,U.deletions=null,U.sibling=null,U.tag===5&&(N=U.stateNode,N!==null&&U2(N)),U.stateNode=null,U._debugOwner=null,U.return=null,U.dependencies=null,U.memoizedProps=null,U.memoizedState=null,U.pendingProps=null,U.stateNode=null,U.updateQueue=null}function qK(U,N,V){for(V=V.child;V!==null;)X10(U,N,V),V=V.sibling}function X10(U,N,V){if(v8&&typeof v8.onCommitFiberUnmount==="function")try{v8.onCommitFiberUnmount(cF,V)}catch(k){_Q||(_Q=!0,console.error("React instrumentation encountered an error: %s",k))}switch(V.tag){case 26:R7||jQ(V,N),qK(U,N,V),V.memoizedState?V.memoizedState.count--:V.stateNode&&(V=V.stateNode,V.parentNode.removeChild(V));break;case 27:R7||jQ(V,N);var O=k7,C=f4;mY(V.type)&&(k7=V.stateNode,f4=!1),qK(U,N,V),k1(V,Rz,V.stateNode),k7=O,f4=C;break;case 5:R7||jQ(V,N);case 6:if(O=k7,C=f4,k7=null,qK(U,N,V),k7=O,f4=C,k7!==null)if(f4)try{k1(V,WI0,k7,V.stateNode)}catch(k){W6(V,N,k)}else try{k1(V,XI0,k7,V.stateNode)}catch(k){W6(V,N,k)}break;case 18:k7!==null&&(f4?(U=k7,Z50(U.nodeType===9?U.body:U.nodeName==="HTML"?U.ownerDocument.body:U,V.stateNode),Tz(U)):Z50(k7,V.stateNode));break;case 4:O=k7,C=f4,k7=V.stateNode.containerInfo,f4=!0,qK(U,N,V),k7=O,f4=C;break;case 0:case 11:case 14:case 15:R7||LF(Q4,V,N),R7||vf(V,N,z8),qK(U,N,V);break;case 1:R7||(jQ(V,N),O=V.stateNode,typeof O.componentWillUnmount==="function"&&$10(V,N,O)),qK(U,N,V);break;case 21:qK(U,N,V);break;case 22:R7=(O=R7)||V.memoizedState!==null,qK(U,N,V),R7=O;break;default:qK(U,N,V)}}function W10(U,N){if(N.memoizedState===null&&(U=N.alternate,U!==null&&(U=U.memoizedState,U!==null&&(U=U.dehydrated,U!==null))))try{k1(N,RI0,U)}catch(V){W6(N,N.return,V)}}function xf0(U){switch(U.tag){case 13:case 19:var N=U.stateNode;return N===null&&(N=U.stateNode=new P70),N;case 22:return U=U.stateNode,N=U._retryCache,N===null&&(N=U._retryCache=new P70),N;default:throw Error("Unexpected Suspense handler tag ("+U.tag+"). This is a bug in React.")}}function Mf(U,N){var V=xf0(U);N.forEach(function(O){var C=if0.bind(null,U,O);if(!V.has(O)){if(V.add(O),G$)if(HU!==null&&NU!==null)zz(NU,HU);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");O.then(C,C)}})}function R9(U,N){var V=N.deletions;if(V!==null)for(var O=0;O<V.length;O++){var C=U,k=N,f=V[O],g=k;$:for(;g!==null;){switch(g.tag){case 27:if(mY(g.type)){k7=g.stateNode,f4=!1;break $}break;case 5:k7=g.stateNode,f4=!1;break $;case 3:case 4:k7=g.stateNode.containerInfo,f4=!0;break $}g=g.return}if(k7===null)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");X10(C,k,f),k7=null,f4=!1,C=f,k=C.alternate,k!==null&&(k.return=null),C.return=null}if(N.subtreeFlags&13878)for(N=N.child;N!==null;)F10(N,U),N=N.sibling}function F10(U,N){var{alternate:V,flags:O}=U;switch(U.tag){case 0:case 11:case 14:case 15:R9(N,U),G9(U),O&4&&(LF(Q4|U3,U,U.return),Fz(Q4|U3,U),vf(U,U.return,z8|U3));break;case 1:R9(N,U),G9(U),O&512&&(R7||V===null||jQ(V,V.return)),O&64&&VK&&(U=U.updateQueue,U!==null&&(O=U.callbacks,O!==null&&(V=U.shared.hiddenCallbacks,U.shared.hiddenCallbacks=V===null?O:V.concat(O))));break;case 26:var C=C$;if(R9(N,U),G9(U),O&512&&(R7||V===null||jQ(V,V.return)),O&4)if(N=V!==null?V.memoizedState:null,O=U.memoizedState,V===null)if(O===null)if(U.stateNode===null){$:{O=U.type,V=U.memoizedProps,N=C.ownerDocument||C;Q:switch(O){case"title":if(C=N.getElementsByTagName("title")[0],!C||C[Pz]||C[S8]||C.namespaceURI===mF||C.hasAttribute("itemprop"))C=N.createElement(O),N.head.insertBefore(C,N.querySelector("head > title"));H8(C,O,V),C[S8]=U,i0(C),O=C;break $;case"link":var k=V50("link","href",N).get(O+(V.href||""));if(k){for(var f=0;f<k.length;f++)if(C=k[f],C.getAttribute("href")===(V.href==null||V.href===""?null:V.href)&&C.getAttribute("rel")===(V.rel==null?null:V.rel)&&C.getAttribute("title")===(V.title==null?null:V.title)&&C.getAttribute("crossorigin")===(V.crossOrigin==null?null:V.crossOrigin)){k.splice(f,1);break Q}}C=N.createElement(O),H8(C,O,V),N.head.appendChild(C);break;case"meta":if(k=V50("meta","content",N).get(O+(V.content||""))){for(f=0;f<k.length;f++)if(C=k[f],q0(V.content,"content"),C.getAttribute("content")===(V.content==null?null:""+V.content)&&C.getAttribute("name")===(V.name==null?null:V.name)&&C.getAttribute("property")===(V.property==null?null:V.property)&&C.getAttribute("http-equiv")===(V.httpEquiv==null?null:V.httpEquiv)&&C.getAttribute("charset")===(V.charSet==null?null:V.charSet)){k.splice(f,1);break Q}}C=N.createElement(O),H8(C,O,V),N.head.appendChild(C);break;default:throw Error('getNodesForType encountered a type it did not expect: "'+O+'". This is a bug in React.')}C[S8]=U,i0(C),O=C}U.stateNode=O}else R50(C,U.type,U.stateNode);else U.stateNode=A50(C,O,U.memoizedProps);else N!==O?(N===null?V.stateNode!==null&&(V=V.stateNode,V.parentNode.removeChild(V)):N.count--,O===null?R50(C,U.type,U.stateNode):A50(C,O,U.memoizedProps)):O===null&&U.stateNode!==null&&_f(U,U.memoizedProps,V.memoizedProps);break;case 27:R9(N,U),G9(U),O&512&&(R7||V===null||jQ(V,V.return)),V!==null&&O&4&&_f(U,U.memoizedProps,V.memoizedProps);break;case 5:if(R9(N,U),G9(U),O&512&&(R7||V===null||jQ(V,V.return)),U.flags&32){N=U.stateNode;try{k1(U,q50,N)}catch(A0){W6(U,U.return,A0)}}O&4&&U.stateNode!=null&&(N=U.memoizedProps,_f(U,N,V!==null?V.memoizedProps:N)),O&1024&&(UM=!0,U.type!=="form"&&console.error("Unexpected host component type. Expected a form. This is a bug in React."));break;case 6:if(R9(N,U),G9(U),O&4){if(U.stateNode===null)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");O=U.memoizedProps,V=V!==null?V.memoizedProps:O,N=U.stateNode;try{k1(U,ZI0,N,V,O)}catch(A0){W6(U,U.return,A0)}}break;case 3:if(C=QK(),gT=null,k=C$,C$=mO(N.containerInfo),R9(N,U),C$=k,G9(U),O&4&&V!==null&&V.memoizedState.isDehydrated)try{k1(U,VI0,N.containerInfo)}catch(A0){W6(U,U.return,A0)}UM&&(UM=!1,U10(U)),N.effectDuration+=UO(C);break;case 4:O=C$,C$=mO(U.stateNode.containerInfo),R9(N,U),G9(U),C$=O;break;case 12:O=QK(),R9(N,U),G9(U),U.stateNode.effectDuration+=$z(O);break;case 13:R9(N,U),G9(U),U.child.flags&8192&&U.memoizedState!==null!==(V!==null&&V.memoizedState!==null)&&(VM=SQ()),O&4&&(O=U.updateQueue,O!==null&&(U.updateQueue=null,Mf(U,O)));break;case 22:C=U.memoizedState!==null;var g=V!==null&&V.memoizedState!==null,d=VK,r=R7;if(VK=d||C,R7=r||g,R9(N,U),R7=r,VK=d,G9(U),O&8192)$:for(N=U.stateNode,N._visibility=C?N._visibility&~XT:N._visibility|XT,C&&(V===null||g||VK||R7||j2(U)),V=null,N=U;;){if(N.tag===5||N.tag===26){if(V===null){g=V=N;try{k=g.stateNode,C?k1(g,FI0,k):k1(g,HI0,g.stateNode,g.memoizedProps)}catch(A0){W6(g,g.return,A0)}}}else if(N.tag===6){if(V===null){g=N;try{f=g.stateNode,C?k1(g,UI0,f):k1(g,NI0,f,g.memoizedProps)}catch(A0){W6(g,g.return,A0)}}}else if((N.tag!==22&&N.tag!==23||N.memoizedState===null||N===U)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===U)break $;for(;N.sibling===null;){if(N.return===null||N.return===U)break $;V===N&&(V=null),N=N.return}V===N&&(V=null),N.sibling.return=N.return,N=N.sibling}O&4&&(O=U.updateQueue,O!==null&&(V=O.retryQueue,V!==null&&(O.retryQueue=null,Mf(U,V))));break;case 19:R9(N,U),G9(U),O&4&&(O=U.updateQueue,O!==null&&(U.updateQueue=null,Mf(U,O)));break;case 30:break;case 21:break;default:R9(N,U),G9(U)}}function G9(U){var N=U.flags;if(N&2){try{k1(U,gf0,U)}catch(V){W6(U,U.return,V)}U.flags&=-3}N&4096&&(U.flags&=-4097)}function U10(U){if(U.subtreeFlags&1024)for(U=U.child;U!==null;){var N=U;U10(N),N.tag===5&&N.flags&1024&&N.stateNode.reset(),U=U.sibling}}function ZK(U,N){if(N.subtreeFlags&8772)for(N=N.child;N!==null;)q10(U,N.alternate,N),N=N.sibling}function H10(U){switch(U.tag){case 0:case 11:case 14:case 15:vf(U,U.return,z8),j2(U);break;case 1:jQ(U,U.return);var N=U.stateNode;typeof N.componentWillUnmount==="function"&&$10(U,U.return,N),j2(U);break;case 27:k1(U,Rz,U.stateNode);case 26:case 5:jQ(U,U.return),j2(U);break;case 22:U.memoizedState===null&&j2(U);break;case 30:j2(U);break;default:j2(U)}}function j2(U){for(U=U.child;U!==null;)H10(U),U=U.sibling}function N10(U,N,V,O){var C=V.flags;switch(V.tag){case 0:case 11:case 15:XK(U,V,O),a00(V,z8);break;case 1:if(XK(U,V,O),N=V.stateNode,typeof N.componentDidMount==="function"&&k1(V,KM,V,N),N=V.updateQueue,N!==null){U=V.stateNode;try{k1(V,Cf0,N,U)}catch(k){W6(V,V.return,k)}}O&&C&64&&e00(V),Uz(V,V.return);break;case 27:Y10(V);case 26:case 5:XK(U,V,O),O&&N===null&&C&4&&J10(V),Uz(V,V.return);break;case 12:if(O&&C&4){C=QK(),XK(U,V,O),O=V.stateNode,O.effectDuration+=$z(C);try{k1(V,Q10,V,N,HT,O.effectDuration)}catch(k){W6(V,V.return,k)}}else XK(U,V,O);break;case 13:XK(U,V,O),O&&C&4&&W10(U,V);break;case 22:V.memoizedState===null&&XK(U,V,O),Uz(V,V.return);break;case 30:break;default:XK(U,V,O)}}function XK(U,N,V){V=V&&(N.subtreeFlags&8772)!==0;for(N=N.child;N!==null;)N10(U,N.alternate,N,V),N=N.sibling}function bf(U,N){var V=null;U!==null&&U.memoizedState!==null&&U.memoizedState.cachePool!==null&&(V=U.memoizedState.cachePool.pool),U=null,N.memoizedState!==null&&N.memoizedState.cachePool!==null&&(U=N.memoizedState.cachePool.pool),U!==V&&(U!=null&&T2(U),V!=null&&eB(V))}function gf(U,N){U=null,N.alternate!==null&&(U=N.alternate.memoizedState.cache),N=N.memoizedState.cache,N!==U&&(T2(N),U!=null&&eB(U))}function EQ(U,N,V,O){if(N.subtreeFlags&10256)for(N=N.child;N!==null;)B10(U,N,V,O),N=N.sibling}function B10(U,N,V,O){var C=N.flags;switch(N.tag){case 0:case 11:case 15:EQ(U,N,V,O),C&2048&&t00(N,y7|U3);break;case 1:EQ(U,N,V,O);break;case 3:var k=QK();EQ(U,N,V,O),C&2048&&(V=null,N.alternate!==null&&(V=N.alternate.memoizedState.cache),N=N.memoizedState.cache,N!==V&&(T2(N),V!=null&&eB(V))),U.passiveEffectDuration+=UO(k);break;case 12:if(C&2048){C=QK(),EQ(U,N,V,O),U=N.stateNode,U.passiveEffectDuration+=$z(C);try{k1(N,bf0,N,N.alternate,HT,U.passiveEffectDuration)}catch(g){W6(N,N.return,g)}}else EQ(U,N,V,O);break;case 13:EQ(U,N,V,O);break;case 23:break;case 22:k=N.stateNode;var f=N.alternate;N.memoizedState!==null?k._visibility&UK?EQ(U,N,V,O):Hz(U,N):k._visibility&UK?EQ(U,N,V,O):(k._visibility|=UK,hF(U,N,V,O,(N.subtreeFlags&10256)!==0)),C&2048&&bf(f,N);break;case 24:EQ(U,N,V,O),C&2048&&gf(N.alternate,N);break;default:EQ(U,N,V,O)}}function hF(U,N,V,O,C){C=C&&(N.subtreeFlags&10256)!==0;for(N=N.child;N!==null;)z10(U,N,V,O,C),N=N.sibling}function z10(U,N,V,O,C){var k=N.flags;switch(N.tag){case 0:case 11:case 15:hF(U,N,V,O,C),t00(N,y7);break;case 23:break;case 22:var f=N.stateNode;N.memoizedState!==null?f._visibility&UK?hF(U,N,V,O,C):Hz(U,N):(f._visibility|=UK,hF(U,N,V,O,C)),C&&k&2048&&bf(N.alternate,N);break;case 24:hF(U,N,V,O,C),C&&k&2048&&gf(N.alternate,N);break;default:hF(U,N,V,O,C)}}function Hz(U,N){if(N.subtreeFlags&10256)for(N=N.child;N!==null;){var V=U,O=N,C=O.flags;switch(O.tag){case 22:Hz(V,O),C&2048&&bf(O.alternate,O);break;case 24:Hz(V,O),C&2048&&gf(O.alternate,O);break;default:Hz(V,O)}N=N.sibling}}function vF(U){if(U.subtreeFlags&rz)for(U=U.child;U!==null;)A10(U),U=U.sibling}function A10(U){switch(U.tag){case 26:vF(U),U.flags&rz&&U.memoizedState!==null&&DI0(C$,U.memoizedState,U.memoizedProps);break;case 5:vF(U);break;case 3:case 4:var N=C$;C$=mO(U.stateNode.containerInfo),vF(U),C$=N;break;case 22:U.memoizedState===null&&(N=U.alternate,N!==null&&N.memoizedState!==null?(N=rz,rz=16777216,vF(U),rz=N):vF(U));break;default:vF(U)}}function V10(U){var N=U.alternate;if(N!==null&&(U=N.child,U!==null)){N.child=null;do N=U.sibling,U.sibling=null,U=N;while(U!==null)}}function Nz(U){var N=U.deletions;if((U.flags&16)!==0){if(N!==null)for(var V=0;V<N.length;V++){var O=N[V];a7=O,w10(O,U)}V10(U)}if(U.subtreeFlags&10256)for(U=U.child;U!==null;)R10(U),U=U.sibling}function R10(U){switch(U.tag){case 0:case 11:case 15:Nz(U),U.flags&2048&&Sf(U,U.return,y7|U3);break;case 3:var N=QK();Nz(U),U.stateNode.passiveEffectDuration+=UO(N);break;case 12:N=QK(),Nz(U),U.stateNode.passiveEffectDuration+=$z(N);break;case 22:N=U.stateNode,U.memoizedState!==null&&N._visibility&UK&&(U.return===null||U.return.tag!==13)?(N._visibility&=~UK,bO(U)):Nz(U);break;default:Nz(U)}}function bO(U){var N=U.deletions;if((U.flags&16)!==0){if(N!==null)for(var V=0;V<N.length;V++){var O=N[V];a7=O,w10(O,U)}V10(U)}for(U=U.child;U!==null;)G10(U),U=U.sibling}function G10(U){switch(U.tag){case 0:case 11:case 15:Sf(U,U.return,y7),bO(U);break;case 22:var N=U.stateNode;N._visibility&UK&&(N._visibility&=~UK,bO(U));break;default:bO(U)}}function w10(U,N){for(;a7!==null;){var V=a7,O=V;switch(O.tag){case 0:case 11:case 15:Sf(O,N,y7);break;case 23:case 22:O.memoizedState!==null&&O.memoizedState.cachePool!==null&&(O=O.memoizedState.cachePool.pool,O!=null&&T2(O));break;case 24:eB(O.memoizedState.cache)}if(O=V.child,O!==null)O.return=V,a7=O;else $:for(V=U;a7!==null;){O=a7;var{sibling:C,return:k}=O;if(Z10(O),O===V){a7=null;break $}if(C!==null){C.return=k,a7=C;break $}a7=k}}}function cf0(){eM0.forEach(function(U){return U()})}function O10(){var U=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return U||D0.actQueue===null||console.error("The current testing environment is not configured to support act(...)"),U}function w9(U){if((i5&J4)!==C9&&P5!==0)return P5&-P5;var N=D0.T;return N!==null?(N._updatedFibers||(N._updatedFibers=new Set),N._updatedFibers.add(U),U=_2,U!==0?U:lf()):F2()}function T10(){k9===0&&(k9=(P5&536870912)===0||b5?B9():536870912);var U=N3.current;return U!==null&&(U.flags|=32),k9}function V7(U,N,V){if(RU&&console.error("useInsertionEffect must not schedule updates."),TM&&(kT=!0),U===A6&&(a5===g2||a5===y2)||U.cancelPendingCommit!==null)_F(U,0),cY(U,P5,k9,!1);if(_Y(U,V),(i5&J4)!==0&&U===A6){if(IQ)switch(N.tag){case 0:case 11:case 15:U=O5&&S(O5)||"Unknown",I70.has(U)||(I70.add(U),N=S(N)||"Unknown",console.error("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://react.dev/link/setstate-in-render",N,U,U));break;case 1:f70||(console.error("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),f70=!0)}}else G$&&cB(U,N,V),of0(N),U===A6&&((i5&J4)===C9&&(Qq|=V),$7===b2&&cY(U,P5,k9,!1)),LQ(U)}function D10(U,N,V){if((i5&(J4|P$))!==C9)throw Error("Should not already be working.");var O=!V&&(N&124)===0&&(N&U.expiredLanes)===0||S1(U,N),C=O?mf0(U,N):cf(U,N,!0),k=O;do{if(C===RK){AU&&!O&&cY(U,N,0,!1);break}else{if(V=U.current.alternate,k&&!uf0(V)){C=cf(U,N,!1),k=!1;continue}if(C===BU){if(k=N,U.errorRecoveryDisabledLanes&k)var f=0;else f=U.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){N=f;$:{C=U;var g=f;f=ez;var d=C.current.memoizedState.isDehydrated;if(d&&(_F(C,g).flags|=256),g=cf(C,g,!1),g!==BU){if(zM&&!d){C.errorRecoveryDisabledLanes|=k,Qq|=k,C=b2;break $}C=K4,K4=f,C!==null&&(K4===null?K4=C:K4.push.apply(K4,C))}C=g}if(k=!1,C!==BU)continue}}if(C===sz){_F(U,0),cY(U,N,0,!0);break}$:{switch(O=U,C){case RK:case sz:throw Error("Root did not complete. This is a bug in React.");case b2:if((N&4194048)!==N)break;case DT:cY(O,N,k9,!eY);break $;case BU:K4=null;break;case HM:case k70:break;default:throw Error("Unknown root exit status.")}if(D0.actQueue!==null)uf(O,V,N,K4,$A,CT,k9,Qq,x2);else{if((N&62914560)===N&&(k=VM+E70-SQ(),10<k)){if(cY(O,N,k9,!eY),k6(O,0,!0)!==0)break $;O.timeoutHandle=m70(C10.bind(null,O,V,K4,$A,CT,N,k9,Qq,x2,eY,C,Kb0,h60,0),k);break $}C10(O,V,K4,$A,CT,N,k9,Qq,x2,eY,C,Qb0,h60,0)}}}break}while(1);LQ(U)}function C10(U,N,V,O,C,k,f,g,d,r,A0,C0,z0,j0){if(U.timeoutHandle=d2,C0=N.subtreeFlags,C0&8192||(C0&16785408)===16785408){if(ZA={stylesheets:null,count:0,unsuspend:TI0},A10(N),C0=CI0(),C0!==null){U.cancelPendingCommit=C0(uf.bind(null,U,N,k,V,O,C,f,g,d,A0,Jb0,z0,j0)),cY(U,k,f,!r);return}}uf(U,N,k,V,O,C,f,g,d)}function uf0(U){for(var N=U;;){var V=N.tag;if((V===0||V===11||V===15)&&N.flags&16384&&(V=N.updateQueue,V!==null&&(V=V.stores,V!==null)))for(var O=0;O<V.length;O++){var C=V[O],k=C.getSnapshot;C=C.value;try{if(!e8(k(),C))return!1}catch(f){return!1}}if(V=N.child,N.subtreeFlags&16384&&V!==null)V.return=N,N=V;else{if(N===U)break;for(;N.sibling===null;){if(N.return===null||N.return===U)return!0;N=N.return}N.sibling.return=N.return,N=N.sibling}}return!0}function cY(U,N,V,O){N&=~AM,N&=~Qq,U.suspendedLanes|=N,U.pingedLanes&=~N,O&&(U.warmLanes|=N),O=U.expirationTimes;for(var C=N;0<C;){var k=31-a8(C),f=1<<k;O[k]=-1,C&=~f}V!==0&&rw(U,V,N)}function SF(){return(i5&(J4|P$))===C9?(Az(0,!1),!1):!0}function yf(){if(O5!==null){if(a5===I4)var U=O5.return;else U=O5,XO(),s_(U),ZU=null,nz=0,U=O5;for(;U!==null;)o00(U.alternate,U),U=U.return;O5=null}}function _F(U,N){var V=U.timeoutHandle;V!==d2&&(U.timeoutHandle=d2,Vb0(V)),V=U.cancelPendingCommit,V!==null&&(U.cancelPendingCommit=null,V()),yf(),A6=U,O5=V=eJ(U.current,null),P5=N,a5=I4,P9=null,eY=!1,AU=S1(U,N),zM=!1,$7=RK,x2=k9=AM=Qq=$q=0,K4=ez=null,CT=!1,(N&8)!==0&&(N|=N&32);var O=U.entangledLanes;if(O!==0)for(U=U.entanglements,O&=N;0<O;){var C=31-a8(O),k=1<<C;N|=U[C],O&=~k}return xQ=N,KO(),N=E60(),1000<N-j60&&(D0.recentlyCreatedOwnerStacks=0,j60=N),T$.discardPendingWarnings(),V}function P10(U,N){Q5=null,D0.H=OT,D0.getCurrentStack=null,IQ=!1,D9=null,N===uz||N===AT?(N=ae(),a5=az):N===_60?(N=ae(),a5=j70):a5=N===V70?BM:N!==null&&typeof N==="object"&&typeof N.then==="function"?zU:oz,P9=N;var V=O5;if(V===null)$7=sz,SO(U,V9(N,U.current));else switch(V.mode&B8&&y_(V),G1(),a5){case oz:F1!==null&&typeof F1.markComponentErrored==="function"&&F1.markComponentErrored(V,N,P5);break;case g2:case y2:case az:case zU:case tz:F1!==null&&typeof F1.markComponentSuspended==="function"&&F1.markComponentSuspended(V,N,P5)}}function k10(){var U=D0.H;return D0.H=OT,U===null?OT:U}function j10(){var U=D0.A;return D0.A=tM0,U}function xf(){$7=b2,eY||(P5&4194048)!==P5&&N3.current!==null||(AU=!0),($q&134217727)===0&&(Qq&134217727)===0||A6===null||cY(A6,P5,k9,!1)}function cf(U,N,V){var O=i5;i5|=J4;var C=k10(),k=j10();if(A6!==U||P5!==N){if(G$){var f=U.memoizedUpdaters;0<f.size&&(zz(U,P5),f.clear()),uB(U,N)}$A=null,_F(U,N)}l0(N),N=!1,f=$7;$:do try{if(a5!==I4&&O5!==null){var g=O5,d=P9;switch(a5){case BM:yf(),f=DT;break $;case az:case g2:case y2:case zU:N3.current===null&&(N=!0);var r=a5;if(a5=I4,P9=null,fF(U,g,d,r),V&&AU){f=RK;break $}break;default:r=a5,a5=I4,P9=null,fF(U,g,d,r)}}E10(),f=$7;break}catch(A0){P10(U,A0)}while(1);return N&&U.shellSuspendCounter++,XO(),i5=O,D0.H=C,D0.A=k,z1(),O5===null&&(A6=null,P5=0,KO()),f}function E10(){for(;O5!==null;)L10(O5)}function mf0(U,N){var V=i5;i5|=J4;var O=k10(),C=j10();if(A6!==U||P5!==N){if(G$){var k=U.memoizedUpdaters;0<k.size&&(zz(U,P5),k.clear()),uB(U,N)}$A=null,PT=SQ()+L70,_F(U,N)}else AU=S1(U,N);l0(N);$:do try{if(a5!==I4&&O5!==null)Q:switch(N=O5,k=P9,a5){case oz:a5=I4,P9=null,fF(U,N,k,oz);break;case g2:case y2:if(se(k)){a5=I4,P9=null,h10(N);break}N=function(){a5!==g2&&a5!==y2||A6!==U||(a5=tz),LQ(U)},k.then(N,N);break $;case az:a5=tz;break $;case j70:a5=NM;break $;case tz:se(k)?(a5=I4,P9=null,h10(N)):(a5=I4,P9=null,fF(U,N,k,tz));break;case NM:var f=null;switch(O5.tag){case 26:f=O5.memoizedState;case 5:case 27:var g=O5;if(f?G50(f):1){a5=I4,P9=null;var d=g.sibling;if(d!==null)O5=d;else{var r=g.return;r!==null?(O5=r,gO(r)):O5=null}break Q}break;default:console.error("Unexpected type of fiber triggered a suspensey commit. This is a bug in React.")}a5=I4,P9=null,fF(U,N,k,NM);break;case zU:a5=I4,P9=null,fF(U,N,k,zU);break;case BM:yf(),$7=DT;break $;default:throw Error("Unexpected SuspendedReason. This is a bug in React.")}D0.actQueue!==null?E10():pf0();break}catch(A0){P10(U,A0)}while(1);if(XO(),D0.H=O,D0.A=C,i5=V,O5!==null)return F1!==null&&typeof F1.markRenderYielded==="function"&&F1.markRenderYielded(),RK;return z1(),A6=null,P5=0,KO(),$7}function pf0(){for(;O5!==null&&!yI0();)L10(O5)}function L10(U){var N=U.alternate;(U.mode&B8)!==j6?(g_(U),N=k1(U,hf,N,U,xQ),y_(U)):N=k1(U,hf,N,U,xQ),U.memoizedProps=U.pendingProps,N===null?gO(U):O5=N}function h10(U){var N=k1(U,df0,U);U.memoizedProps=U.pendingProps,N===null?gO(U):O5=N}function df0(U){var N=U.alternate,V=(U.mode&B8)!==j6;switch(V&&g_(U),U.tag){case 15:case 0:N=m00(N,U,U.pendingProps,U.type,void 0,P5);break;case 11:N=m00(N,U,U.pendingProps,U.type.render,U.ref,P5);break;case 5:s_(U);default:o00(N,U),U=O5=ye(U,xQ),N=hf(N,U,xQ)}return V&&y_(U),N}function fF(U,N,V,O){XO(),s_(N),ZU=null,nz=0;var C=N.return;try{if(hf0(U,C,N,V,P5)){$7=sz,SO(U,V9(V,U.current)),O5=null;return}}catch(k){if(C!==null)throw O5=C,k;$7=sz,SO(U,V9(V,U.current)),O5=null;return}if(N.flags&32768){if(b5||O===oz)U=!0;else if(AU||(P5&536870912)!==0)U=!1;else if(eY=U=!0,O===g2||O===y2||O===az||O===zU)O=N3.current,O!==null&&O.tag===13&&(O.flags|=16384);v10(N,U)}else gO(N)}function gO(U){var N=U;do{if((N.flags&32768)!==0){v10(N,eY);return}var V=N.alternate;if(U=N.return,g_(N),V=k1(N,Sf0,V,N,xQ),(N.mode&B8)!==j6&&ne(N),V!==null){O5=V;return}if(N=N.sibling,N!==null){O5=N;return}O5=N=U}while(N!==null);$7===RK&&($7=k70)}function v10(U,N){do{var V=_f0(U.alternate,U);if(V!==null){V.flags&=32767,O5=V;return}if((U.mode&B8)!==j6){ne(U),V=U.actualDuration;for(var O=U.child;O!==null;)V+=O.actualDuration,O=O.sibling;U.actualDuration=V}if(V=U.return,V!==null&&(V.flags|=32768,V.subtreeFlags=0,V.deletions=null),!N&&(U=U.sibling,U!==null)){O5=U;return}O5=U=V}while(U!==null);$7=DT,O5=null}function uf(U,N,V,O,C,k,f,g,d){U.cancelPendingCommit=null;do Bz();while(A8!==c2);if(T$.flushLegacyContextWarning(),T$.flushPendingUnsafeLifecycleWarnings(),(i5&(J4|P$))!==C9)throw Error("Should not already be working.");if(F1!==null&&typeof F1.markCommitStarted==="function"&&F1.markCommitStarted(V),N===null)X1();else{if(V===0&&console.error("finishedLanes should not be empty during a commit. This is a bug in React."),N===U.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");if(k=N.lanes|N.childLanes,k|=dI,H_(U,V,k,f,g,d),U===A6&&(O5=A6=null,P5=0),VU=N,Kq=U,Yq=V,GM=k,wM=C,_70=O,(N.subtreeFlags&10256)!==0||(N.flags&10256)!==0?(U.callbackNode=null,U.callbackPriority=0,sf0(xF,function(){return M10(!0),null})):(U.callbackNode=null,U.callbackPriority=0),HT=QU(),O=(N.flags&13878)!==0,(N.subtreeFlags&13878)!==0||O){O=D0.T,D0.T=null,C=r5.p,r5.p=T9,f=i5,i5|=P$;try{yf0(U,N,V)}finally{i5=f,r5.p=C,D0.T=O}}A8=h70,S10(),_10(),f10()}}function S10(){if(A8===h70){A8=c2;var U=Kq,N=VU,V=Yq,O=(N.flags&13878)!==0;if((N.subtreeFlags&13878)!==0||O){O=D0.T,D0.T=null;var C=r5.p;r5.p=T9;var k=i5;i5|=P$;try{HU=V,NU=U,F10(N,U),NU=HU=null,V=vM;var f=fe(U.containerInfo),g=V.focusedElem,d=V.selectionRange;if(f!==g&&g&&g.ownerDocument&&_e(g.ownerDocument.documentElement,g)){if(d!==null&&C_(g)){var{start:r,end:A0}=d;if(A0===void 0&&(A0=r),"selectionStart"in g)g.selectionStart=r,g.selectionEnd=Math.min(A0,g.value.length);else{var C0=g.ownerDocument||document,z0=C0&&C0.defaultView||window;if(z0.getSelection){var j0=z0.getSelection(),O1=g.textContent.length,i1=Math.min(d.start,O1),V6=d.end===void 0?i1:Math.min(d.end,O1);!j0.extend&&i1>V6&&(f=V6,V6=i1,i1=f);var L5=Se(g,i1),t=Se(g,V6);if(L5&&t&&(j0.rangeCount!==1||j0.anchorNode!==L5.node||j0.anchorOffset!==L5.offset||j0.focusNode!==t.node||j0.focusOffset!==t.offset)){var $0=C0.createRange();$0.setStart(L5.node,L5.offset),j0.removeAllRanges(),i1>V6?(j0.addRange($0),j0.extend(t.node,t.offset)):($0.setEnd(t.node,t.offset),j0.addRange($0))}}}}C0=[];for(j0=g;j0=j0.parentNode;)j0.nodeType===1&&C0.push({element:j0,left:j0.scrollLeft,top:j0.scrollTop});typeof g.focus==="function"&&g.focus();for(g=0;g<C0.length;g++){var Y0=C0[g];Y0.element.scrollLeft=Y0.left,Y0.element.scrollTop=Y0.top}}cT=!!hM,vM=hM=null}finally{i5=k,r5.p=C,D0.T=O}}U.current=N,A8=v70}}function _10(){if(A8===v70){A8=c2;var U=Kq,N=VU,V=Yq,O=(N.flags&8772)!==0;if((N.subtreeFlags&8772)!==0||O){O=D0.T,D0.T=null;var C=r5.p;r5.p=T9;var k=i5;i5|=P$;try{F1!==null&&typeof F1.markLayoutEffectsStarted==="function"&&F1.markLayoutEffectsStarted(V),HU=V,NU=U,q10(U,N.alternate,N),NU=HU=null,F1!==null&&typeof F1.markLayoutEffectsStopped==="function"&&F1.markLayoutEffectsStopped()}finally{i5=k,r5.p=C,D0.T=O}}A8=S70}}function f10(){if(A8===Yb0||A8===S70){A8=c2,xI0();var U=Kq,N=VU,V=Yq,O=_70,C=(N.subtreeFlags&10256)!==0||(N.flags&10256)!==0;C?A8=RM:(A8=c2,VU=Kq=null,I10(U,U.pendingLanes),u2=0,JA=null);var k=U.pendingLanes;if(k===0&&(Jq=null),C||x10(U),C=fY(V),N=N.stateNode,v8&&typeof v8.onCommitFiberRoot==="function")try{var f=(N.current.flags&128)===128;switch(C){case T9:var g=DI;break;case w$:g=CI;break;case fQ:g=xF;break;case $T:g=PI;break;default:g=xF}v8.onCommitFiberRoot(cF,N,g,f)}catch(C0){_Q||(_Q=!0,console.error("React instrumentation encountered an error: %s",C0))}if(G$&&U.memoizedUpdaters.clear(),cf0(),O!==null){f=D0.T,g=r5.p,r5.p=T9,D0.T=null;try{var d=U.onRecoverableError;for(N=0;N<O.length;N++){var r=O[N],A0=nf0(r.stack);k1(r.source,d,r.value,A0)}}finally{D0.T=f,r5.p=g}}(Yq&3)!==0&&Bz(),LQ(U),k=U.pendingLanes,(V&4194090)!==0&&(k&42)!==0?(BT=!0,U===OM?QA++:(QA=0,OM=U)):QA=0,Az(0,!1),X1()}}function nf0(U){return U={componentStack:U},Object.defineProperty(U,"digest",{get:function(){console.error('You are accessing "digest" from the errorInfo object passed to onRecoverableError. This property is no longer provided as part of errorInfo but can be accessed as a property of the Error instance itself.')}}),U}function I10(U,N){(U.pooledCacheLanes&=N)===0&&(N=U.pooledCache,N!=null&&(U.pooledCache=null,eB(N)))}function Bz(U){return S10(),_10(),f10(),M10(U)}function M10(){if(A8!==RM)return!1;var U=Kq,N=GM;GM=0;var V=fY(Yq),O=fQ===0||fQ>V?fQ:V;V=D0.T;var C=r5.p;try{r5.p=O,D0.T=null,O=wM,wM=null;var k=Kq,f=Yq;if(A8=c2,VU=Kq=null,Yq=0,(i5&(J4|P$))!==C9)throw Error("Cannot flush passive effects while already rendering.");TM=!0,kT=!1,F1!==null&&typeof F1.markPassiveEffectsStarted==="function"&&F1.markPassiveEffectsStarted(f);var g=i5;if(i5|=P$,R10(k.current),B10(k,k.current,f,O),F1!==null&&typeof F1.markPassiveEffectsStopped==="function"&&F1.markPassiveEffectsStopped(),x10(k),i5=g,Az(0,!1),kT?k===JA?u2++:(u2=0,JA=k):u2=0,kT=TM=!1,v8&&typeof v8.onPostCommitFiberRoot==="function")try{v8.onPostCommitFiberRoot(cF,k)}catch(r){_Q||(_Q=!0,console.error("React instrumentation encountered an error: %s",r))}var d=k.current.stateNode;return d.effectDuration=0,d.passiveEffectDuration=0,!0}finally{r5.p=C,D0.T=V,I10(U,N)}}function b10(U,N,V){N=V9(V,N),N=Gf(U.stateNode,N,2),U=bY(U,N,2),U!==null&&(_Y(U,2),LQ(U))}function W6(U,N,V){if(RU=!1,U.tag===3)b10(U,U,V);else{for(;N!==null;){if(N.tag===3){b10(N,U,V);return}if(N.tag===1){var O=N.stateNode;if(typeof N.type.getDerivedStateFromError==="function"||typeof O.componentDidCatch==="function"&&(Jq===null||!Jq.has(O))){U=V9(V,U),V=wf(2),O=bY(N,V,2),O!==null&&(Of(V,O,N,U),_Y(O,2),LQ(O));return}}N=N.return}console.error(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Potential causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,V)}}function mf(U,N,V){var O=U.pingCache;if(O===null){O=U.pingCache=new $b0;var C=new Set;O.set(N,C)}else C=O.get(N),C===void 0&&(C=new Set,O.set(N,C));C.has(V)||(zM=!0,C.add(V),O=lf0.bind(null,U,N,V),G$&&zz(U,V),N.then(O,O))}function lf0(U,N,V){var O=U.pingCache;O!==null&&O.delete(N),U.pingedLanes|=U.suspendedLanes&V,U.warmLanes&=~V,O10()&&D0.actQueue===null&&console.error(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`),A6===U&&(P5&V)===V&&($7===b2||$7===HM&&(P5&62914560)===P5&&SQ()-VM<E70?(i5&J4)===C9&&_F(U,0):AM|=V,x2===P5&&(x2=0)),LQ(U)}function g10(U,N){N===0&&(N=t9()),U=L4(U,N),U!==null&&(_Y(U,N),LQ(U))}function rf0(U){var N=U.memoizedState,V=0;N!==null&&(V=N.retryLane),g10(U,V)}function if0(U,N){var V=0;switch(U.tag){case 13:var{stateNode:O,memoizedState:C}=U;C!==null&&(V=C.retryLane);break;case 19:O=U.stateNode;break;case 22:O=U.stateNode._retryCache;break;default:throw Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}O!==null&&O.delete(N),g10(U,V)}function pf(U,N,V){if((N.subtreeFlags&67117056)!==0)for(N=N.child;N!==null;){var O=U,C=N,k=C.type===sO;k=V||k,C.tag!==22?C.flags&67108864?k&&k1(C,y10,O,C,(C.mode&C60)===j6):pf(O,C,k):C.memoizedState===null&&(k&&C.flags&8192?k1(C,y10,O,C):C.subtreeFlags&67108864&&k1(C,pf,O,C,k)),N=N.sibling}}function y10(U,N){var V=2<arguments.length&&arguments[2]!==void 0?arguments[2]:!0;W1(!0);try{H10(N),V&&G10(N),N10(U,N.alternate,N,!1),V&&z10(U,N,0,null,!1,0)}finally{W1(!1)}}function x10(U){var N=!0;U.current.mode&(_8|O$)||(N=!1),pf(U,U.current,N)}function c10(U){if((i5&J4)===C9){var N=U.tag;if(N===3||N===1||N===0||N===11||N===14||N===15){if(N=S(U)||"ReactComponent",jT!==null){if(jT.has(N))return;jT.add(N)}else jT=new Set([N]);k1(U,function(){console.error("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")})}}}function zz(U,N){G$&&U.memoizedUpdaters.forEach(function(V){cB(U,V,N)})}function sf0(U,N){var V=D0.actQueue;return V!==null?(V.push(N),Xb0):TI(U,N)}function of0(U){O10()&&D0.actQueue===null&&k1(U,function(){console.error(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`,S(U))})}function LQ(U){U!==GU&&U.next===null&&(GU===null?ET=GU=U:GU=GU.next=U),LT=!0,D0.actQueue!==null?CM||(CM=!0,d10()):DM||(DM=!0,d10())}function Az(U,N){if(!PM&&LT){PM=!0;do{var V=!1;for(var O=ET;O!==null;){if(!N)if(U!==0){var C=O.pendingLanes;if(C===0)var k=0;else{var{suspendedLanes:f,pingedLanes:g}=O;k=(1<<31-a8(42|U)+1)-1,k&=C&~(f&~g),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(V=!0,p10(O,k))}else k=P5,k=k6(O,O===A6?k:0,O.cancelPendingCommit!==null||O.timeoutHandle!==d2),(k&3)===0||S1(O,k)||(V=!0,p10(O,k));O=O.next}}while(V);PM=!1}}function af0(){df()}function df(){LT=CM=DM=!1;var U=0;m2!==0&&(JI0()&&(U=m2),m2=0);for(var N=SQ(),V=null,O=ET;O!==null;){var C=O.next,k=u10(O,N);if(k===0)O.next=null,V===null?ET=C:V.next=C,C===null&&(GU=V);else if(V=O,U!==0||(k&3)!==0)LT=!0;O=C}Az(U,!1)}function u10(U,N){for(var{suspendedLanes:V,pingedLanes:O,expirationTimes:C}=U,k=U.pendingLanes&-62914561;0<k;){var f=31-a8(k),g=1<<f,d=C[f];if(d===-1){if((g&V)===0||(g&O)!==0)C[f]=z7(g,N)}else d<=N&&(U.expiredLanes|=g);k&=~g}if(N=A6,V=P5,V=k6(U,U===N?V:0,U.cancelPendingCommit!==null||U.timeoutHandle!==d2),O=U.callbackNode,V===0||U===N&&(a5===g2||a5===y2)||U.cancelPendingCommit!==null)return O!==null&&nf(O),U.callbackNode=null,U.callbackPriority=0;if((V&3)===0||S1(U,V)){if(N=V&-V,N!==U.callbackPriority||D0.actQueue!==null&&O!==kM)nf(O);else return N;switch(fY(V)){case T9:case w$:V=CI;break;case fQ:V=xF;break;case $T:V=PI;break;default:V=xF}return O=m10.bind(null,U),D0.actQueue!==null?(D0.actQueue.push(O),V=kM):V=TI(V,O),U.callbackPriority=N,U.callbackNode=V,N}return O!==null&&nf(O),U.callbackPriority=2,U.callbackNode=null,2}function m10(U,N){if(BT=NT=!1,A8!==c2&&A8!==RM)return U.callbackNode=null,U.callbackPriority=0,null;var V=U.callbackNode;if(Bz(!0)&&U.callbackNode!==V)return null;var O=P5;if(O=k6(U,U===A6?O:0,U.cancelPendingCommit!==null||U.timeoutHandle!==d2),O===0)return null;return D10(U,O,N),u10(U,SQ()),U.callbackNode!=null&&U.callbackNode===V?m10.bind(null,U):null}function p10(U,N){if(Bz())return null;NT=BT,BT=!1,D10(U,N,!0)}function nf(U){U!==kM&&U!==null&&gI0(U)}function d10(){D0.actQueue!==null&&D0.actQueue.push(function(){return df(),null}),Rb0(function(){(i5&(J4|P$))!==C9?TI(DI,af0):df()})}function lf(){return m2===0&&(m2=B9()),m2}function n10(U){if(U==null||typeof U==="symbol"||typeof U==="boolean")return null;if(typeof U==="function")return U;return q0(U,"action"),lB(""+U)}function l10(U,N){var V=N.ownerDocument.createElement("input");return V.name=N.name,V.value=N.value,U.id&&V.setAttribute("form",U.id),N.parentNode.insertBefore(V,N),U=new FormData(U),V.parentNode.removeChild(V),U}function tf0(U,N,V,O,C){if(N==="submit"&&V&&V.stateNode===C){var k=n10((C[S4]||null).action),f=O.submitter;f&&(N=(N=f[S4]||null)?n10(N.formAction):f.getAttribute("formAction"),N!==null&&(k=N,f=null));var g=new qT("action","action",null,O,C);U.push({event:g,listeners:[{instance:null,listener:function(){if(O.defaultPrevented){if(m2!==0){var d=f?l10(C,f):new FormData(C),r={pending:!0,data:d,method:C.method,action:k};Object.freeze(r),Hf(V,r,null,d)}}else typeof k==="function"&&(g.preventDefault(),d=f?l10(C,f):new FormData(C),r={pending:!0,data:d,method:C.method,action:k},Object.freeze(r),Hf(V,r,k,d))},currentTarget:C}]})}}function yO(U,N,V){U.currentTarget=V;try{N(U)}catch(O){ZM(O)}U.currentTarget=null}function r10(U,N){N=(N&4)!==0;for(var V=0;V<U.length;V++){var O=U[V];$:{var C=void 0,k=O.event;if(O=O.listeners,N)for(var f=O.length-1;0<=f;f--){var g=O[f],d=g.instance,r=g.currentTarget;if(g=g.listener,d!==C&&k.isPropagationStopped())break $;d!==null?k1(d,yO,k,g,r):yO(k,g,r),C=d}else for(f=0;f<O.length;f++){if(g=O[f],d=g.instance,r=g.currentTarget,g=g.listener,d!==C&&k.isPropagationStopped())break $;d!==null?k1(d,yO,k,g,r):yO(k,g,r),C=d}}}}function E5(U,N){jM.has(U)||console.error('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',U);var V=N[kI];V===void 0&&(V=N[kI]=new Set);var O=U+"__bubble";V.has(O)||(i10(N,U,2,!1),V.add(O))}function rf(U,N,V){jM.has(U)&&!N&&console.error('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',U);var O=0;N&&(O|=4),i10(V,U,O,N)}function sf(U){if(!U[hT]){U[hT]=!0,S50.forEach(function(V){V!=="selectionchange"&&(jM.has(V)||rf(V,!1,U),rf(V,!0,U))});var N=U.nodeType===9?U:U.ownerDocument;N===null||N[hT]||(N[hT]=!0,rf("selectionchange",!1,N))}}function i10(U,N,V,O){switch(C50(N)){case T9:var C=LI0;break;case w$:C=hI0;break;default:C=UI}V=C.bind(null,N,V,U),C=void 0,!fI||N!=="touchstart"&&N!=="touchmove"&&N!=="wheel"||(C=!0),O?C!==void 0?U.addEventListener(N,V,{capture:!0,passive:C}):U.addEventListener(N,V,!0):C!==void 0?U.addEventListener(N,V,{passive:C}):U.addEventListener(N,V,!1)}function of(U,N,V,O,C){var k=O;if((N&1)===0&&(N&2)===0&&O!==null)$:for(;;){if(O===null)return;var f=O.tag;if(f===3||f===4){var g=O.stateNode.containerInfo;if(g===C)break;if(f===4)for(f=O.return;f!==null;){var d=f.tag;if((d===3||d===4)&&f.stateNode.containerInfo===C)return;f=f.return}for(;g!==null;){if(f=tJ(g),f===null)return;if(d=f.tag,d===5||d===6||d===26||d===27){O=k=f;continue $}g=g.parentNode}}O=O.return}Oe(function(){var r=k,A0=T_(V),C0=[];$:{var z0=D60.get(U);if(z0!==void 0){var j0=qT,O1=U;switch(U){case"keypress":if($O(V)===0)break $;case"keydown":case"keyup":j0=PM0;break;case"focusin":O1="focus",j0=gI;break;case"focusout":O1="blur",j0=gI;break;case"beforeblur":case"afterblur":j0=gI;break;case"click":if(V.button===2)break $;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j0=W60;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j0=NM0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j0=EM0;break;case G60:case w60:case O60:j0=AM0;break;case T60:j0=hM0;break;case"scroll":case"scrollend":j0=UM0;break;case"wheel":j0=SM0;break;case"copy":case"cut":case"paste":j0=RM0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j0=U60;break;case"toggle":case"beforetoggle":j0=fM0}var i1=(N&4)!==0,V6=!i1&&(U==="scroll"||U==="scrollend"),L5=i1?z0!==null?z0+"Capture":null:z0;i1=[];for(var t=r,$0;t!==null;){var Y0=t;if($0=Y0.stateNode,Y0=Y0.tag,Y0!==5&&Y0!==26&&Y0!==27||$0===null||L5===null||(Y0=rB(t,L5),Y0!=null&&i1.push(Vz(t,Y0,$0))),V6)break;t=t.return}0<i1.length&&(z0=new j0(z0,O1,null,V,A0),C0.push({event:z0,listeners:i1}))}}if((N&7)===0){$:{if(z0=U==="mouseover"||U==="pointerover",j0=U==="mouseout"||U==="pointerout",z0&&V!==jz&&(O1=V.relatedTarget||V.fromElement)&&(tJ(O1)||O1[rY]))break $;if(j0||z0){if(z0=A0.window===A0?A0:(z0=A0.ownerDocument)?z0.defaultView||z0.parentWindow:window,j0){if(O1=V.relatedTarget||V.toElement,j0=r,O1=O1?tJ(O1):null,O1!==null&&(V6=T(O1),i1=O1.tag,O1!==V6||i1!==5&&i1!==27&&i1!==6))O1=null}else j0=null,O1=r;if(j0!==O1){if(i1=W60,Y0="onMouseLeave",L5="onMouseEnter",t="mouse",U==="pointerout"||U==="pointerover")i1=U60,Y0="onPointerLeave",L5="onPointerEnter",t="pointer";if(V6=j0==null?z0:H0(j0),$0=O1==null?z0:H0(O1),z0=new i1(Y0,t+"leave",j0,V,A0),z0.target=V6,z0.relatedTarget=$0,Y0=null,tJ(A0)===r&&(i1=new i1(L5,t+"enter",O1,V,A0),i1.target=$0,i1.relatedTarget=V6,Y0=i1),V6=Y0,j0&&O1)Q:{i1=j0,L5=O1,t=0;for($0=i1;$0;$0=IF($0))t++;$0=0;for(Y0=L5;Y0;Y0=IF(Y0))$0++;for(;0<t-$0;)i1=IF(i1),t--;for(;0<$0-t;)L5=IF(L5),$0--;for(;t--;){if(i1===L5||L5!==null&&i1===L5.alternate)break Q;i1=IF(i1),L5=IF(L5)}i1=null}else i1=null;j0!==null&&s10(C0,z0,j0,i1,!1),O1!==null&&V6!==null&&s10(C0,V6,O1,i1,!0)}}}$:{if(z0=r?H0(r):window,j0=z0.nodeName&&z0.nodeName.toLowerCase(),j0==="select"||j0==="input"&&z0.type==="file")var E0=Ee;else if(ke(z0))if(V60)E0=Gf0;else{E0=Vf0;var $1=Af0}else j0=z0.nodeName,!j0||j0.toLowerCase()!=="input"||z0.type!=="checkbox"&&z0.type!=="radio"?r&&nB(r.elementType)&&(E0=Ee):E0=Rf0;if(E0&&(E0=E0(U,r))){je(C0,E0,V,A0);break $}$1&&$1(U,z0,r),U==="focusout"&&r&&z0.type==="number"&&r.memoizedProps.value!=null&&A_(z0,"number",z0.value)}switch($1=r?H0(r):window,U){case"focusin":if(ke($1)||$1.contentEditable==="true")rF=$1,xI=r,fz=null;break;case"focusout":fz=xI=rF=null;break;case"mousedown":cI=!0;break;case"contextmenu":case"mouseup":case"dragend":cI=!1,Ie(C0,V,A0);break;case"selectionchange":if(gM0)break;case"keydown":case"keyup":Ie(C0,V,A0)}var Y5;if(yI)$:{switch(U){case"compositionstart":var T1="onCompositionStart";break $;case"compositionend":T1="onCompositionEnd";break $;case"compositionupdate":T1="onCompositionUpdate";break $}T1=void 0}else lF?Ce(U,V)&&(T1="onCompositionEnd"):U==="keydown"&&V.keyCode===H60&&(T1="onCompositionStart");if(T1&&(N60&&V.locale!=="ko"&&(lF||T1!=="onCompositionStart"?T1==="onCompositionEnd"&&lF&&(Y5=Te()):(iY=A0,II=("value"in iY)?iY.value:iY.textContent,lF=!0)),$1=xO(r,T1),0<$1.length&&(T1=new F60(T1,U,null,V,A0),C0.push({event:T1,listeners:$1}),Y5?T1.data=Y5:(Y5=Pe(V),Y5!==null&&(T1.data=Y5)))),Y5=MM0?Hf0(U,V):Nf0(U,V))T1=xO(r,"onBeforeInput"),0<T1.length&&($1=new wM0("onBeforeInput","beforeinput",null,V,A0),C0.push({event:$1,listeners:T1}),$1.data=Y5);tf0(C0,U,r,V,A0)}r10(C0,N)})}function Vz(U,N,V){return{instance:U,listener:N,currentTarget:V}}function xO(U,N){for(var V=N+"Capture",O=[];U!==null;){var C=U,k=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||k===null||(C=rB(U,V),C!=null&&O.unshift(Vz(U,C,k)),C=rB(U,N),C!=null&&O.push(Vz(U,C,k))),U.tag===3)return O;U=U.return}return[]}function IF(U){if(U===null)return null;do U=U.return;while(U&&U.tag!==5&&U.tag!==27);return U?U:null}function s10(U,N,V,O,C){for(var k=N._reactName,f=[];V!==null&&V!==O;){var g=V,d=g.alternate,r=g.stateNode;if(g=g.tag,d!==null&&d===O)break;g!==5&&g!==26&&g!==27||r===null||(d=r,C?(r=rB(V,k),r!=null&&f.unshift(Vz(V,r,d))):C||(r=rB(V,k),r!=null&&f.push(Vz(V,r,d)))),V=V.return}f.length!==0&&U.push({event:N,listeners:f})}function af(U,N){Xf0(U,N),U!=="input"&&U!=="textarea"&&U!=="select"||N==null||N.value!==null||Z60||(Z60=!0,U==="select"&&N.multiple?console.error("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",U):console.error("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",U));var V={registrationNameDependencies:E2,possibleRegistrationNames:jI};nB(U)||typeof N.is==="string"||Ff0(U,N,V),N.contentEditable&&!N.suppressContentEditableWarning&&N.children!=null&&console.error("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional.")}function s7(U,N,V,O){N!==V&&(V=uY(V),uY(N)!==V&&(O[U]=N))}function ef0(U,N,V){N.forEach(function(O){V[t10(O)]=O==="style"?ef(U):U.getAttribute(O)})}function hQ(U,N){N===!1?console.error("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",U,U,U):console.error("Expected `%s` listener to be a function, instead got a value of `%s` type.",U,typeof N)}function o10(U,N){return U=U.namespaceURI===JT||U.namespaceURI===mF?U.ownerDocument.createElementNS(U.namespaceURI,U.tagName):U.ownerDocument.createElement(U.tagName),U.innerHTML=N,U.innerHTML}function uY(U){return e(U)&&(console.error("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before using it here.",n(U)),Z0(U)),(typeof U==="string"?U:""+U).replace(Wb0,`
`).replace(Fb0,"")}function a10(U,N){return N=uY(N),uY(U)===N?!0:!1}function cO(){}function F6(U,N,V,O,C,k){switch(V){case"children":if(typeof O==="string")ew(O,N,!1),N==="body"||N==="textarea"&&O===""||dB(U,O);else if(typeof O==="number"||typeof O==="bigint")ew(""+O,N,!1),N!=="body"&&dB(U,""+O);break;case"className":z$(U,"class",O);break;case"tabIndex":z$(U,"tabindex",O);break;case"dir":case"role":case"viewBox":case"width":case"height":z$(U,V,O);break;case"style":Re(U,O,k);break;case"data":if(N!=="object"){z$(U,"data",O);break}case"src":case"href":if(O===""&&(N!=="a"||V!=="href")){V==="src"?console.error('An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',V,V):console.error('An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',V,V),U.removeAttribute(V);break}if(O==null||typeof O==="function"||typeof O==="symbol"||typeof O==="boolean"){U.removeAttribute(V);break}q0(O,V),O=lB(""+O),U.setAttribute(V,O);break;case"action":case"formAction":if(O!=null&&(N==="form"?V==="formAction"?console.error("You can only pass the formAction prop to <input> or <button>. Use the action prop on <form>."):typeof O==="function"&&(C.encType==null&&C.method==null||_T||(_T=!0,console.error("Cannot specify a encType or method for a form that specifies a function as the action. React provides those automatically. They will get overridden.")),C.target==null||ST||(ST=!0,console.error("Cannot specify a target for a form that specifies a function as the action. The function will always be executed in the same window."))):N==="input"||N==="button"?V==="action"?console.error("You can only pass the action prop to <form>. Use the formAction prop on <input> or <button>."):N!=="input"||C.type==="submit"||C.type==="image"||vT?N!=="button"||C.type==null||C.type==="submit"||vT?typeof O==="function"&&(C.name==null||g70||(g70=!0,console.error('Cannot specify a "name" prop for a button that specifies a function as a formAction. React needs it to encode which action should be invoked. It will get overridden.')),C.formEncType==null&&C.formMethod==null||_T||(_T=!0,console.error("Cannot specify a formEncType or formMethod for a button that specifies a function as a formAction. React provides those automatically. They will get overridden.")),C.formTarget==null||ST||(ST=!0,console.error("Cannot specify a formTarget for a button that specifies a function as a formAction. The function will always be executed in the same window."))):(vT=!0,console.error('A button can only specify a formAction along with type="submit" or no type.')):(vT=!0,console.error('An input can only specify a formAction along with type="submit" or type="image".')):V==="action"?console.error("You can only pass the action prop to <form>."):console.error("You can only pass the formAction prop to <input> or <button>.")),typeof O==="function"){U.setAttribute(V,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k==="function"&&(V==="formAction"?(N!=="input"&&F6(U,N,"name",C.name,C,null),F6(U,N,"formEncType",C.formEncType,C,null),F6(U,N,"formMethod",C.formMethod,C,null),F6(U,N,"formTarget",C.formTarget,C,null)):(F6(U,N,"encType",C.encType,C,null),F6(U,N,"method",C.method,C,null),F6(U,N,"target",C.target,C,null)));if(O==null||typeof O==="symbol"||typeof O==="boolean"){U.removeAttribute(V);break}q0(O,V),O=lB(""+O),U.setAttribute(V,O);break;case"onClick":O!=null&&(typeof O!=="function"&&hQ(V,O),U.onclick=cO);break;case"onScroll":O!=null&&(typeof O!=="function"&&hQ(V,O),E5("scroll",U));break;case"onScrollEnd":O!=null&&(typeof O!=="function"&&hQ(V,O),E5("scrollend",U));break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!=="object"||!("__html"in O))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(V=O.__html,V!=null){if(C.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");U.innerHTML=V}}break;case"multiple":U.multiple=O&&typeof O!=="function"&&typeof O!=="symbol";break;case"muted":U.muted=O&&typeof O!=="function"&&typeof O!=="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(O==null||typeof O==="function"||typeof O==="boolean"||typeof O==="symbol"){U.removeAttribute("xlink:href");break}q0(O,V),V=lB(""+O),U.setAttributeNS(p2,"xlink:href",V);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":O!=null&&typeof O!=="function"&&typeof O!=="symbol"?(q0(O,V),U.setAttribute(V,""+O)):U.removeAttribute(V);break;case"inert":O!==""||fT[V]||(fT[V]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",V));case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":O&&typeof O!=="function"&&typeof O!=="symbol"?U.setAttribute(V,""):U.removeAttribute(V);break;case"capture":case"download":O===!0?U.setAttribute(V,""):O!==!1&&O!=null&&typeof O!=="function"&&typeof O!=="symbol"?(q0(O,V),U.setAttribute(V,O)):U.removeAttribute(V);break;case"cols":case"rows":case"size":case"span":O!=null&&typeof O!=="function"&&typeof O!=="symbol"&&!isNaN(O)&&1<=O?(q0(O,V),U.setAttribute(V,O)):U.removeAttribute(V);break;case"rowSpan":case"start":O==null||typeof O==="function"||typeof O==="symbol"||isNaN(O)?U.removeAttribute(V):(q0(O,V),U.setAttribute(V,O));break;case"popover":E5("beforetoggle",U),E5("toggle",U),z9(U,"popover",O);break;case"xlinkActuate":A$(U,p2,"xlink:actuate",O);break;case"xlinkArcrole":A$(U,p2,"xlink:arcrole",O);break;case"xlinkRole":A$(U,p2,"xlink:role",O);break;case"xlinkShow":A$(U,p2,"xlink:show",O);break;case"xlinkTitle":A$(U,p2,"xlink:title",O);break;case"xlinkType":A$(U,p2,"xlink:type",O);break;case"xmlBase":A$(U,EM,"xml:base",O);break;case"xmlLang":A$(U,EM,"xml:lang",O);break;case"xmlSpace":A$(U,EM,"xml:space",O);break;case"is":k!=null&&console.error('Cannot update the "is" prop after it has been initialized.'),z9(U,"is",O);break;case"innerText":case"textContent":break;case"popoverTarget":y70||O==null||typeof O!=="object"||(y70=!0,console.error("The `popoverTarget` prop expects the ID of an Element as a string. Received %s instead.",O));default:!(2<V.length)||V[0]!=="o"&&V[0]!=="O"||V[1]!=="n"&&V[1]!=="N"?(V=Ge(V),z9(U,V,O)):E2.hasOwnProperty(V)&&O!=null&&typeof O!=="function"&&hQ(V,O)}}function tf(U,N,V,O,C,k){switch(V){case"style":Re(U,O,k);break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!=="object"||!("__html"in O))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(V=O.__html,V!=null){if(C.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");U.innerHTML=V}}break;case"children":typeof O==="string"?dB(U,O):(typeof O==="number"||typeof O==="bigint")&&dB(U,""+O);break;case"onScroll":O!=null&&(typeof O!=="function"&&hQ(V,O),E5("scroll",U));break;case"onScrollEnd":O!=null&&(typeof O!=="function"&&hQ(V,O),E5("scrollend",U));break;case"onClick":O!=null&&(typeof O!=="function"&&hQ(V,O),U.onclick=cO);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(E2.hasOwnProperty(V))O!=null&&typeof O!=="function"&&hQ(V,O);else $:{if(V[0]==="o"&&V[1]==="n"&&(C=V.endsWith("Capture"),N=V.slice(2,C?V.length-7:void 0),k=U[S4]||null,k=k!=null?k[V]:null,typeof k==="function"&&U.removeEventListener(N,k,C),typeof O==="function")){typeof k!=="function"&&k!==null&&(V in U?U[V]=null:U.hasAttribute(V)&&U.removeAttribute(V)),U.addEventListener(N,O,C);break $}V in U?U[V]=O:O===!0?U.setAttribute(V,""):z9(U,V,O)}}}function H8(U,N,V){switch(af(N,V),N){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":E5("error",U),E5("load",U);var O=!1,C=!1,k;for(k in V)if(V.hasOwnProperty(k)){var f=V[k];if(f!=null)switch(k){case"src":O=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(N+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:F6(U,N,k,f,V,null)}}C&&F6(U,N,"srcSet",V.srcSet,V,null),O&&F6(U,N,"src",V.src,V,null);return;case"input":$5("input",V),E5("invalid",U);var g=k=f=C=null,d=null,r=null;for(O in V)if(V.hasOwnProperty(O)){var A0=V[O];if(A0!=null)switch(O){case"name":C=A0;break;case"type":f=A0;break;case"checked":d=A0;break;case"defaultChecked":r=A0;break;case"value":k=A0;break;case"defaultValue":g=A0;break;case"children":case"dangerouslySetInnerHTML":if(A0!=null)throw Error(N+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:F6(U,N,O,A0,V,null)}}Qe(U,V),Je(U,k,g,d,r,f,C,!1),ow(U);return;case"select":$5("select",V),E5("invalid",U),O=f=k=null;for(C in V)if(V.hasOwnProperty(C)&&(g=V[C],g!=null))switch(C){case"value":k=g;break;case"defaultValue":f=g;break;case"multiple":O=g;default:F6(U,N,C,g,V,null)}qe(U,V),N=k,V=f,U.multiple=!!O,N!=null?TF(U,!!O,N,!1):V!=null&&TF(U,!!O,V,!0);return;case"textarea":$5("textarea",V),E5("invalid",U),k=C=O=null;for(f in V)if(V.hasOwnProperty(f)&&(g=V[f],g!=null))switch(f){case"value":O=g;break;case"defaultValue":C=g;break;case"children":k=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:F6(U,N,f,g,V,null)}Ze(U,V),We(U,O,C,k),ow(U);return;case"option":Ke(U,V);for(d in V)if(V.hasOwnProperty(d)&&(O=V[d],O!=null))switch(d){case"selected":U.selected=O&&typeof O!=="function"&&typeof O!=="symbol";break;default:F6(U,N,d,O,V,null)}return;case"dialog":E5("beforetoggle",U),E5("toggle",U),E5("cancel",U),E5("close",U);break;case"iframe":case"object":E5("load",U);break;case"video":case"audio":for(O=0;O<KA.length;O++)E5(KA[O],U);break;case"image":E5("error",U),E5("load",U);break;case"details":E5("toggle",U);break;case"embed":case"source":case"link":E5("error",U),E5("load",U);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(r in V)if(V.hasOwnProperty(r)&&(O=V[r],O!=null))switch(r){case"children":case"dangerouslySetInnerHTML":throw Error(N+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:F6(U,N,r,O,V,null)}return;default:if(nB(N)){for(A0 in V)V.hasOwnProperty(A0)&&(O=V[A0],O!==void 0&&tf(U,N,A0,O,V,void 0));return}}for(g in V)V.hasOwnProperty(g)&&(O=V[g],O!=null&&F6(U,N,g,O,V,null))}function $I0(U,N,V,O){switch(af(N,O),N){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,k=null,f=null,g=null,d=null,r=null,A0=null;for(j0 in V){var C0=V[j0];if(V.hasOwnProperty(j0)&&C0!=null)switch(j0){case"checked":break;case"value":break;case"defaultValue":d=C0;default:O.hasOwnProperty(j0)||F6(U,N,j0,null,O,C0)}}for(var z0 in O){var j0=O[z0];if(C0=V[z0],O.hasOwnProperty(z0)&&(j0!=null||C0!=null))switch(z0){case"type":k=j0;break;case"name":C=j0;break;case"checked":r=j0;break;case"defaultChecked":A0=j0;break;case"value":f=j0;break;case"defaultValue":g=j0;break;case"children":case"dangerouslySetInnerHTML":if(j0!=null)throw Error(N+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:j0!==C0&&F6(U,N,z0,j0,O,C0)}}N=V.type==="checkbox"||V.type==="radio"?V.checked!=null:V.value!=null,O=O.type==="checkbox"||O.type==="radio"?O.checked!=null:O.value!=null,N||!O||b70||(console.error("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),b70=!0),!N||O||M70||(console.error("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),M70=!0),z_(U,f,g,d,r,A0,k,C);return;case"select":j0=f=g=z0=null;for(k in V)if(d=V[k],V.hasOwnProperty(k)&&d!=null)switch(k){case"value":break;case"multiple":j0=d;default:O.hasOwnProperty(k)||F6(U,N,k,null,O,d)}for(C in O)if(k=O[C],d=V[C],O.hasOwnProperty(C)&&(k!=null||d!=null))switch(C){case"value":z0=k;break;case"defaultValue":g=k;break;case"multiple":f=k;default:k!==d&&F6(U,N,C,k,O,d)}O=g,N=f,V=j0,z0!=null?TF(U,!!N,z0,!1):!!V!==!!N&&(O!=null?TF(U,!!N,O,!0):TF(U,!!N,N?[]:"",!1));return;case"textarea":j0=z0=null;for(g in V)if(C=V[g],V.hasOwnProperty(g)&&C!=null&&!O.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:F6(U,N,g,null,O,C)}for(f in O)if(C=O[f],k=V[f],O.hasOwnProperty(f)&&(C!=null||k!=null))switch(f){case"value":z0=C;break;case"defaultValue":j0=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:C!==k&&F6(U,N,f,C,O,k)}Xe(U,z0,j0);return;case"option":for(var O1 in V)if(z0=V[O1],V.hasOwnProperty(O1)&&z0!=null&&!O.hasOwnProperty(O1))switch(O1){case"selected":U.selected=!1;break;default:F6(U,N,O1,null,O,z0)}for(d in O)if(z0=O[d],j0=V[d],O.hasOwnProperty(d)&&z0!==j0&&(z0!=null||j0!=null))switch(d){case"selected":U.selected=z0&&typeof z0!=="function"&&typeof z0!=="symbol";break;default:F6(U,N,d,z0,O,j0)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var i1 in V)z0=V[i1],V.hasOwnProperty(i1)&&z0!=null&&!O.hasOwnProperty(i1)&&F6(U,N,i1,null,O,z0);for(r in O)if(z0=O[r],j0=V[r],O.hasOwnProperty(r)&&z0!==j0&&(z0!=null||j0!=null))switch(r){case"children":case"dangerouslySetInnerHTML":if(z0!=null)throw Error(N+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:F6(U,N,r,z0,O,j0)}return;default:if(nB(N)){for(var V6 in V)z0=V[V6],V.hasOwnProperty(V6)&&z0!==void 0&&!O.hasOwnProperty(V6)&&tf(U,N,V6,void 0,O,z0);for(A0 in O)z0=O[A0],j0=V[A0],!O.hasOwnProperty(A0)||z0===j0||z0===void 0&&j0===void 0||tf(U,N,A0,z0,O,j0);return}}for(var L5 in V)z0=V[L5],V.hasOwnProperty(L5)&&z0!=null&&!O.hasOwnProperty(L5)&&F6(U,N,L5,null,O,z0);for(C0 in O)z0=O[C0],j0=V[C0],!O.hasOwnProperty(C0)||z0===j0||z0==null&&j0==null||F6(U,N,C0,z0,O,j0)}function t10(U){switch(U){case"class":return"className";case"for":return"htmlFor";default:return U}}function ef(U){var N={};U=U.style;for(var V=0;V<U.length;V++){var O=U[V];N[O]=U.getPropertyValue(O)}return N}function e10(U,N,V){if(N!=null&&typeof N!=="object")console.error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");else{var O,C=O="",k;for(k in N)if(N.hasOwnProperty(k)){var f=N[k];f!=null&&typeof f!=="boolean"&&f!==""&&(k.indexOf("--")===0?(k0(f,k),O+=C+k+":"+(""+f).trim()):typeof f!=="number"||f===0||Y60.has(k)?(k0(f,k),O+=C+k.replace(e50,"-$1").toLowerCase().replace($60,"-ms-")+":"+(""+f).trim()):O+=C+k.replace(e50,"-$1").toLowerCase().replace($60,"-ms-")+":"+f+"px",C=";")}O=O||null,N=U.getAttribute("style"),N!==O&&(O=uY(O),uY(N)!==O&&(V.style=ef(U)))}}function J3(U,N,V,O,C,k){if(C.delete(V),U=U.getAttribute(V),U===null)switch(typeof O){case"undefined":case"function":case"symbol":case"boolean":return}else if(O!=null)switch(typeof O){case"function":case"symbol":case"boolean":break;default:if(q0(O,N),U===""+O)return}s7(N,U,O,k)}function $50(U,N,V,O,C,k){if(C.delete(V),U=U.getAttribute(V),U===null){switch(typeof O){case"function":case"symbol":return}if(!O)return}else switch(typeof O){case"function":case"symbol":break;default:if(O)return}s7(N,U,O,k)}function $I(U,N,V,O,C,k){if(C.delete(V),U=U.getAttribute(V),U===null)switch(typeof O){case"undefined":case"function":case"symbol":return}else if(O!=null)switch(typeof O){case"function":case"symbol":break;default:if(q0(O,V),U===""+O)return}s7(N,U,O,k)}function Q50(U,N,V,O,C,k){if(C.delete(V),U=U.getAttribute(V),U===null)switch(typeof O){case"undefined":case"function":case"symbol":case"boolean":return;default:if(isNaN(O))return}else if(O!=null)switch(typeof O){case"function":case"symbol":case"boolean":break;default:if(!isNaN(O)&&(q0(O,N),U===""+O))return}s7(N,U,O,k)}function QI(U,N,V,O,C,k){if(C.delete(V),U=U.getAttribute(V),U===null)switch(typeof O){case"undefined":case"function":case"symbol":case"boolean":return}else if(O!=null)switch(typeof O){case"function":case"symbol":case"boolean":break;default:if(q0(O,N),V=lB(""+O),U===V)return}s7(N,U,O,k)}function J50(U,N,V,O){for(var C={},k=new Set,f=U.attributes,g=0;g<f.length;g++)switch(f[g].name.toLowerCase()){case"value":break;case"checked":break;case"selected":break;default:k.add(f[g].name)}if(nB(N)){for(var d in V)if(V.hasOwnProperty(d)){var r=V[d];if(r!=null){if(E2.hasOwnProperty(d))typeof r!=="function"&&hQ(d,r);else if(V.suppressHydrationWarning!==!0)switch(d){case"children":typeof r!=="string"&&typeof r!=="number"||s7("children",U.textContent,r,C);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":f=U.innerHTML,r=r?r.__html:void 0,r!=null&&(r=o10(U,r),s7(d,f,r,C));continue;case"style":k.delete(d),e10(U,r,C);continue;case"offsetParent":case"offsetTop":case"offsetLeft":case"offsetWidth":case"offsetHeight":case"isContentEditable":case"outerText":case"outerHTML":k.delete(d.toLowerCase()),console.error("Assignment to read-only property will result in a no-op: `%s`",d);continue;case"className":k.delete("class"),f=R5(U,"class",r),s7("className",f,r,C);continue;default:O.context===wK&&N!=="svg"&&N!=="math"?k.delete(d.toLowerCase()):k.delete(d),f=R5(U,d,r),s7(d,f,r,C)}}}}else for(r in V)if(V.hasOwnProperty(r)&&(d=V[r],d!=null)){if(E2.hasOwnProperty(r))typeof d!=="function"&&hQ(r,d);else if(V.suppressHydrationWarning!==!0)switch(r){case"children":typeof d!=="string"&&typeof d!=="number"||s7("children",U.textContent,d,C);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"value":case"checked":case"selected":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":f=U.innerHTML,d=d?d.__html:void 0,d!=null&&(d=o10(U,d),f!==d&&(C[r]={__html:f}));continue;case"className":J3(U,r,"class",d,k,C);continue;case"tabIndex":J3(U,r,"tabindex",d,k,C);continue;case"style":k.delete(r),e10(U,d,C);continue;case"multiple":k.delete(r),s7(r,U.multiple,d,C);continue;case"muted":k.delete(r),s7(r,U.muted,d,C);continue;case"autoFocus":k.delete("autofocus"),s7(r,U.autofocus,d,C);continue;case"data":if(N!=="object"){k.delete(r),f=U.getAttribute("data"),s7(r,f,d,C);continue}case"src":case"href":if(!(d!==""||N==="a"&&r==="href"||N==="object"&&r==="data")){r==="src"?console.error('An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',r,r):console.error('An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',r,r);continue}QI(U,r,r,d,k,C);continue;case"action":case"formAction":if(f=U.getAttribute(r),typeof d==="function"){k.delete(r.toLowerCase()),r==="formAction"?(k.delete("name"),k.delete("formenctype"),k.delete("formmethod"),k.delete("formtarget")):(k.delete("enctype"),k.delete("method"),k.delete("target"));continue}else if(f===Ub0){k.delete(r.toLowerCase()),s7(r,"function",d,C);continue}QI(U,r,r.toLowerCase(),d,k,C);continue;case"xlinkHref":QI(U,r,"xlink:href",d,k,C);continue;case"contentEditable":$I(U,r,"contenteditable",d,k,C);continue;case"spellCheck":$I(U,r,"spellcheck",d,k,C);continue;case"draggable":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":$I(U,r,r,d,k,C);continue;case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":$50(U,r,r.toLowerCase(),d,k,C);continue;case"capture":case"download":$:{g=U;var A0=f=r,C0=C;if(k.delete(A0),g=g.getAttribute(A0),g===null)switch(typeof d){case"undefined":case"function":case"symbol":break $;default:if(d===!1)break $}else if(d!=null)switch(typeof d){case"function":case"symbol":break;case"boolean":if(d===!0&&g==="")break $;break;default:if(q0(d,f),g===""+d)break $}s7(f,g,d,C0)}continue;case"cols":case"rows":case"size":case"span":$:{if(g=U,A0=f=r,C0=C,k.delete(A0),g=g.getAttribute(A0),g===null)switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":break $;default:if(isNaN(d)||1>d)break $}else if(d!=null)switch(typeof d){case"function":case"symbol":case"boolean":break;default:if(!(isNaN(d)||1>d)&&(q0(d,f),g===""+d))break $}s7(f,g,d,C0)}continue;case"rowSpan":Q50(U,r,"rowspan",d,k,C);continue;case"start":Q50(U,r,r,d,k,C);continue;case"xHeight":J3(U,r,"x-height",d,k,C);continue;case"xlinkActuate":J3(U,r,"xlink:actuate",d,k,C);continue;case"xlinkArcrole":J3(U,r,"xlink:arcrole",d,k,C);continue;case"xlinkRole":J3(U,r,"xlink:role",d,k,C);continue;case"xlinkShow":J3(U,r,"xlink:show",d,k,C);continue;case"xlinkTitle":J3(U,r,"xlink:title",d,k,C);continue;case"xlinkType":J3(U,r,"xlink:type",d,k,C);continue;case"xmlBase":J3(U,r,"xml:base",d,k,C);continue;case"xmlLang":J3(U,r,"xml:lang",d,k,C);continue;case"xmlSpace":J3(U,r,"xml:space",d,k,C);continue;case"inert":d!==""||fT[r]||(fT[r]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",r)),$50(U,r,r,d,k,C);continue;default:if(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N"){g=Ge(r),f=!1,O.context===wK&&N!=="svg"&&N!=="math"?k.delete(g.toLowerCase()):(A0=r.toLowerCase(),A0=KT.hasOwnProperty(A0)?KT[A0]||null:null,A0!==null&&A0!==r&&(f=!0,k.delete(A0)),k.delete(g));$:if(A0=U,C0=g,g=d,c5(C0))if(A0.hasAttribute(C0))A0=A0.getAttribute(C0),q0(g,C0),g=A0===""+g?g:A0;else{switch(typeof g){case"function":case"symbol":break $;case"boolean":if(A0=C0.toLowerCase().slice(0,5),A0!=="data-"&&A0!=="aria-")break $}g=g===void 0?void 0:null}else g=void 0;f||s7(r,g,d,C)}}}return 0<k.size&&V.suppressHydrationWarning!==!0&&ef0(U,k,C),Object.keys(C).length===0?null:C}function QI0(U,N){switch(U.length){case 0:return"";case 1:return U[0];case 2:return U[0]+" "+N+" "+U[1];default:return U.slice(0,-1).join(", ")+", "+N+" "+U[U.length-1]}}function uO(U){return U.nodeType===9?U:U.ownerDocument}function K50(U){switch(U){case mF:return wU;case JT:return bT;default:return wK}}function Y50(U,N){if(U===wK)switch(N){case"svg":return wU;case"math":return bT;default:return wK}return U===wU&&N==="foreignObject"?wK:U}function JI(U,N){return U==="textarea"||U==="noscript"||typeof N.children==="string"||typeof N.children==="number"||typeof N.children==="bigint"||typeof N.dangerouslySetInnerHTML==="object"&&N.dangerouslySetInnerHTML!==null&&N.dangerouslySetInnerHTML.__html!=null}function JI0(){var U=window.event;if(U&&U.type==="popstate"){if(U===SM)return!1;return SM=U,!0}return SM=null,!1}function KI0(U){setTimeout(function(){throw U})}function YI0(U,N,V){switch(N){case"button":case"input":case"select":case"textarea":V.autoFocus&&U.focus();break;case"img":V.src?U.src=V.src:V.srcSet&&(U.srcset=V.srcSet)}}function qI0(U,N,V,O){$I0(U,N,V,O),U[S4]=O}function q50(U){dB(U,"")}function ZI0(U,N,V){U.nodeValue=V}function mY(U){return U==="head"}function XI0(U,N){U.removeChild(N)}function WI0(U,N){(U.nodeType===9?U.body:U.nodeName==="HTML"?U.ownerDocument.body:U).removeChild(N)}function Z50(U,N){var V=N,O=0,C=0;do{var k=V.nextSibling;if(U.removeChild(V),k&&k.nodeType===8)if(V=k.data,V===MT){if(0<O&&8>O){V=O;var f=U.ownerDocument;if(V&Nb0&&Rz(f.documentElement),V&Bb0&&Rz(f.body),V&zb0)for(V=f.head,Rz(V),f=V.firstChild;f;){var{nextSibling:g,nodeName:d}=f;f[Pz]||d==="SCRIPT"||d==="STYLE"||d==="LINK"&&f.rel.toLowerCase()==="stylesheet"||V.removeChild(f),f=g}}if(C===0){U.removeChild(k),Tz(N);return}C--}else V===IT||V===GK||V===YA?C++:O=V.charCodeAt(0)-48;else O=0;V=k}while(V);Tz(N)}function FI0(U){U=U.style,typeof U.setProperty==="function"?U.setProperty("display","none","important"):U.display="none"}function UI0(U){U.nodeValue=""}function HI0(U,N){N=N[Ab0],N=N!==void 0&&N!==null&&N.hasOwnProperty("display")?N.display:null,U.style.display=N==null||typeof N==="boolean"?"":(""+N).trim()}function NI0(U,N){U.nodeValue=N}function KI(U){var N=U.firstChild;N&&N.nodeType===10&&(N=N.nextSibling);for(;N;){var V=N;switch(N=N.nextSibling,V.nodeName){case"HTML":case"HEAD":case"BODY":KI(V),U2(V);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(V.rel.toLowerCase()==="stylesheet")continue}U.removeChild(V)}}function BI0(U,N,V,O){for(;U.nodeType===1;){var C=V;if(U.nodeName.toLowerCase()!==N.toLowerCase()){if(!O&&(U.nodeName!=="INPUT"||U.type!=="hidden"))break}else if(!O)if(N==="input"&&U.type==="hidden"){q0(C.name,"name");var k=C.name==null?null:""+C.name;if(C.type==="hidden"&&U.getAttribute("name")===k)return U}else return U;else if(!U[Pz])switch(N){case"meta":if(!U.hasAttribute("itemprop"))break;return U;case"link":if(k=U.getAttribute("rel"),k==="stylesheet"&&U.hasAttribute("data-precedence"))break;else if(k!==C.rel||U.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||U.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||U.getAttribute("title")!==(C.title==null?null:C.title))break;return U;case"style":if(U.hasAttribute("data-precedence"))break;return U;case"script":if(k=U.getAttribute("src"),(k!==(C.src==null?null:C.src)||U.getAttribute("type")!==(C.type==null?null:C.type)||U.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&k&&U.hasAttribute("async")&&!U.hasAttribute("itemprop"))break;return U;default:return U}if(U=K3(U.nextSibling),U===null)break}return null}function zI0(U,N,V){if(N==="")return null;for(;U.nodeType!==3;){if((U.nodeType!==1||U.nodeName!=="INPUT"||U.type!=="hidden")&&!V)return null;if(U=K3(U.nextSibling),U===null)return null}return U}function YI(U){return U.data===YA||U.data===GK&&U.ownerDocument.readyState===c70}function AI0(U,N){var V=U.ownerDocument;if(U.data!==GK||V.readyState===c70)N();else{var O=function(){N(),V.removeEventListener("DOMContentLoaded",O)};V.addEventListener("DOMContentLoaded",O),U._reactRetry=O}}function K3(U){for(;U!=null;U=U.nextSibling){var N=U.nodeType;if(N===1||N===3)break;if(N===8){if(N=U.data,N===IT||N===YA||N===GK||N===LM||N===x70)break;if(N===MT)return null}}return U}function X50(U){if(U.nodeType===1){for(var N=U.nodeName.toLowerCase(),V={},O=U.attributes,C=0;C<O.length;C++){var k=O[C];V[t10(k.name)]=k.name.toLowerCase()==="style"?ef(U):k.value}return{type:N,props:V}}return U.nodeType===8?{type:"Suspense",props:{}}:U.nodeValue}function W50(U,N,V){return V===null||V[Hb0]!==!0?(U.nodeValue===N?U=null:(N=uY(N),U=uY(U.nodeValue)===N?null:U.nodeValue),U):null}function F50(U){U=U.nextSibling;for(var N=0;U;){if(U.nodeType===8){var V=U.data;if(V===MT){if(N===0)return K3(U.nextSibling);N--}else V!==IT&&V!==YA&&V!==GK||N++}U=U.nextSibling}return null}function U50(U){U=U.previousSibling;for(var N=0;U;){if(U.nodeType===8){var V=U.data;if(V===IT||V===YA||V===GK){if(N===0)return U;N--}else V===MT&&N++}U=U.previousSibling}return null}function VI0(U){Tz(U)}function RI0(U){Tz(U)}function H50(U,N,V,O,C){switch(C&&O_(U,O.ancestorInfo),N=uO(V),U){case"html":if(U=N.documentElement,!U)throw Error("React expected an <html> element (document.documentElement) to exist in the Document but one was not found. React never removes the documentElement for any Document it renders into so the cause is likely in some other script running on this page.");return U;case"head":if(U=N.head,!U)throw Error("React expected a <head> element (document.head) to exist in the Document but one was not found. React never removes the head for any Document it renders into so the cause is likely in some other script running on this page.");return U;case"body":if(U=N.body,!U)throw Error("React expected a <body> element (document.body) to exist in the Document but one was not found. React never removes the body for any Document it renders into so the cause is likely in some other script running on this page.");return U;default:throw Error("resolveSingletonInstance was called with an element type that is not supported. This is a bug in React.")}}function GI0(U,N,V,O){if(!V[rY]&&p(V)){var C=V.tagName.toLowerCase();console.error("You are mounting a new %s component when a previous one has not first unmounted. It is an error to render more than one %s component at a time and attributes and children of these components will likely fail in unpredictable ways. Please only render a single instance of <%s> and if you need to mount a new one, ensure any previous ones have unmounted first.",C,C,C)}switch(U){case"html":case"head":case"body":break;default:console.error("acquireSingletonInstance was called with an element type that is not supported. This is a bug in React.")}for(C=V.attributes;C.length;)V.removeAttributeNode(C[0]);H8(V,U,N),V[S8]=O,V[S4]=N}function Rz(U){for(var N=U.attributes;N.length;)U.removeAttributeNode(N[0]);U2(U)}function mO(U){return typeof U.getRootNode==="function"?U.getRootNode():U.nodeType===9?U:U.ownerDocument}function N50(U,N,V){var O=OU;if(O&&typeof N==="string"&&N){var C=Q3(N);C='link[rel="'+U+'"][href="'+C+'"]',typeof V==="string"&&(C+='[crossorigin="'+V+'"]'),l70.has(C)||(l70.add(C),U={rel:U,crossOrigin:V,href:N},O.querySelector(C)===null&&(N=O.createElement("link"),H8(N,"link",U),i0(N),O.head.appendChild(N)))}}function B50(U,N,V,O){var C=(C=nY.current)?mO(C):null;if(!C)throw Error('"resourceRoot" was expected to exist. This is a bug in React.');switch(U){case"meta":case"title":return null;case"style":return typeof V.precedence==="string"&&typeof V.href==="string"?(V=MF(V.href),N=s0(C).hoistableStyles,O=N.get(V),O||(O={type:"style",instance:null,count:0,state:null},N.set(V,O)),O):{type:"void",instance:null,count:0,state:null};case"link":if(V.rel==="stylesheet"&&typeof V.href==="string"&&typeof V.precedence==="string"){U=MF(V.href);var k=s0(C).hoistableStyles,f=k.get(U);if(!f&&(C=C.ownerDocument||C,f={type:"stylesheet",instance:null,count:0,state:{loading:n2,preload:null}},k.set(U,f),(k=C.querySelector(Gz(U)))&&!k._p&&(f.instance=k,f.state.loading=qA|B3),!z3.has(U))){var g={rel:"preload",as:"style",href:V.href,crossOrigin:V.crossOrigin,integrity:V.integrity,media:V.media,hrefLang:V.hrefLang,referrerPolicy:V.referrerPolicy};z3.set(U,g),k||wI0(C,U,g,f.state)}if(N&&O===null)throw V=`

  - `+pO(N)+`
  + `+pO(V),Error("Expected <link> not to update to be updated to a stylesheet with precedence. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+V);return f}if(N&&O!==null)throw V=`

  - `+pO(N)+`
  + `+pO(V),Error("Expected stylesheet with precedence to not be updated to a different kind of <link>. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+V);return null;case"script":return N=V.async,V=V.src,typeof V==="string"&&N&&typeof N!=="function"&&typeof N!=="symbol"?(V=bF(V),N=s0(C).hoistableScripts,O=N.get(V),O||(O={type:"script",instance:null,count:0,state:null},N.set(V,O)),O):{type:"void",instance:null,count:0,state:null};default:throw Error('getResource encountered a type it did not expect: "'+U+'". this is a bug in React.')}}function pO(U){var N=0,V="<link";return typeof U.rel==="string"?(N++,V+=' rel="'+U.rel+'"'):FK.call(U,"rel")&&(N++,V+=' rel="'+(U.rel===null?"null":"invalid type "+typeof U.rel)+'"'),typeof U.href==="string"?(N++,V+=' href="'+U.href+'"'):FK.call(U,"href")&&(N++,V+=' href="'+(U.href===null?"null":"invalid type "+typeof U.href)+'"'),typeof U.precedence==="string"?(N++,V+=' precedence="'+U.precedence+'"'):FK.call(U,"precedence")&&(N++,V+=" precedence={"+(U.precedence===null?"null":"invalid type "+typeof U.precedence)+"}"),Object.getOwnPropertyNames(U).length>N&&(V+=" ..."),V+" />"}function MF(U){return'href="'+Q3(U)+'"'}function Gz(U){return'link[rel="stylesheet"]['+U+"]"}function z50(U){return G5({},U,{"data-precedence":U.precedence,precedence:null})}function wI0(U,N,V,O){U.querySelector('link[rel="preload"][as="style"]['+N+"]")?O.loading=qA:(N=U.createElement("link"),O.preload=N,N.addEventListener("load",function(){return O.loading|=qA}),N.addEventListener("error",function(){return O.loading|=d70}),H8(N,"link",V),i0(N),U.head.appendChild(N))}function bF(U){return'[src="'+Q3(U)+'"]'}function wz(U){return"script[async]"+U}function A50(U,N,V){if(N.count++,N.instance===null)switch(N.type){case"style":var O=U.querySelector('style[data-href~="'+Q3(V.href)+'"]');if(O)return N.instance=O,i0(O),O;var C=G5({},V,{"data-href":V.href,"data-precedence":V.precedence,href:null,precedence:null});return O=(U.ownerDocument||U).createElement("style"),i0(O),H8(O,"style",C),dO(O,V.precedence,U),N.instance=O;case"stylesheet":C=MF(V.href);var k=U.querySelector(Gz(C));if(k)return N.state.loading|=B3,N.instance=k,i0(k),k;O=z50(V),(C=z3.get(C))&&qI(O,C),k=(U.ownerDocument||U).createElement("link"),i0(k);var f=k;return f._p=new Promise(function(g,d){f.onload=g,f.onerror=d}),H8(k,"link",O),N.state.loading|=B3,dO(k,V.precedence,U),N.instance=k;case"script":if(k=bF(V.src),C=U.querySelector(wz(k)))return N.instance=C,i0(C),C;if(O=V,C=z3.get(k))O=G5({},V),ZI(O,C);return U=U.ownerDocument||U,C=U.createElement("script"),i0(C),H8(C,"link",O),U.head.appendChild(C),N.instance=C;case"void":return null;default:throw Error('acquireResource encountered a resource type it did not expect: "'+N.type+'". this is a bug in React.')}else N.type==="stylesheet"&&(N.state.loading&B3)===n2&&(O=N.instance,N.state.loading|=B3,dO(O,V.precedence,U));return N.instance}function dO(U,N,V){for(var O=V.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=O.length?O[O.length-1]:null,k=C,f=0;f<O.length;f++){var g=O[f];if(g.dataset.precedence===N)k=g;else if(k!==C)break}k?k.parentNode.insertBefore(U,k.nextSibling):(N=V.nodeType===9?V.head:V,N.insertBefore(U,N.firstChild))}function qI(U,N){U.crossOrigin==null&&(U.crossOrigin=N.crossOrigin),U.referrerPolicy==null&&(U.referrerPolicy=N.referrerPolicy),U.title==null&&(U.title=N.title)}function ZI(U,N){U.crossOrigin==null&&(U.crossOrigin=N.crossOrigin),U.referrerPolicy==null&&(U.referrerPolicy=N.referrerPolicy),U.integrity==null&&(U.integrity=N.integrity)}function V50(U,N,V){if(gT===null){var O=new Map,C=gT=new Map;C.set(V,O)}else C=gT,O=C.get(V),O||(O=new Map,C.set(V,O));if(O.has(U))return O;O.set(U,null),V=V.getElementsByTagName(U);for(C=0;C<V.length;C++){var k=V[C];if(!(k[Pz]||k[S8]||U==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!==mF){var f=k.getAttribute(N)||"";f=U+f;var g=O.get(f);g?g.push(k):O.set(f,[k])}}return O}function R50(U,N,V){U=U.ownerDocument||U,U.head.insertBefore(V,N==="title"?U.querySelector("head > title"):null)}function OI0(U,N,V){var O=!V.ancestorInfo.containerTagInScope;if(V.context===wU||N.itemProp!=null)return!O||N.itemProp==null||U!=="meta"&&U!=="title"&&U!=="style"&&U!=="link"&&U!=="script"||console.error("Cannot render a <%s> outside the main document if it has an `itemProp` prop. `itemProp` suggests the tag belongs to an `itemScope` which can appear anywhere in the DOM. If you were intending for React to hoist this <%s> remove the `itemProp` prop. Otherwise, try moving this tag into the <head> or <body> of the Document.",U,U),!1;switch(U){case"meta":case"title":return!0;case"style":if(typeof N.precedence!=="string"||typeof N.href!=="string"||N.href===""){O&&console.error('Cannot render a <style> outside the main document without knowing its precedence and a unique href key. React can hoist and deduplicate <style> tags if you provide a `precedence` prop along with an `href` prop that does not conflict with the `href` values used in any other hoisted <style> or <link rel="stylesheet" ...> tags.  Note that hoisting <style> tags is considered an advanced feature that most will not use directly. Consider moving the <style> tag to the <head> or consider adding a `precedence="default"` and `href="some unique resource identifier"`.');break}return!0;case"link":if(typeof N.rel!=="string"||typeof N.href!=="string"||N.href===""||N.onLoad||N.onError){if(N.rel==="stylesheet"&&typeof N.precedence==="string"){U=N.href;var{onError:C,disabled:k}=N;V=[],N.onLoad&&V.push("`onLoad`"),C&&V.push("`onError`"),k!=null&&V.push("`disabled`"),C=QI0(V,"and"),C+=V.length===1?" prop":" props",k=V.length===1?"an "+C:"the "+C,V.length&&console.error('React encountered a <link rel="stylesheet" href="%s" ... /> with a `precedence` prop that also included %s. The presence of loading and error handlers indicates an intent to manage the stylesheet loading state from your from your Component code and React will not hoist or deduplicate this stylesheet. If your intent was to have React hoist and deduplciate this stylesheet using the `precedence` prop remove the %s, otherwise remove the `precedence` prop.',U,k,C)}O&&(typeof N.rel!=="string"||typeof N.href!=="string"||N.href===""?console.error("Cannot render a <link> outside the main document without a `rel` and `href` prop. Try adding a `rel` and/or `href` prop to this <link> or moving the link into the <head> tag"):(N.onError||N.onLoad)&&console.error("Cannot render a <link> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."));break}switch(N.rel){case"stylesheet":return U=N.precedence,N=N.disabled,typeof U!=="string"&&O&&console.error('Cannot render a <link rel="stylesheet" /> outside the main document without knowing its precedence. Consider adding precedence="default" or moving it into the root <head> tag.'),typeof U==="string"&&N==null;default:return!0}case"script":if(U=N.async&&typeof N.async!=="function"&&typeof N.async!=="symbol",!U||N.onLoad||N.onError||!N.src||typeof N.src!=="string"){O&&(U?N.onLoad||N.onError?console.error("Cannot render a <script> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."):console.error("Cannot render a <script> outside the main document without `async={true}` and a non-empty `src` prop. Ensure there is a valid `src` and either make the script async or move it into the root <head> tag or somewhere in the <body>."):console.error('Cannot render a sync or defer <script> outside the main document without knowing its order. Try adding async="" or moving it into the root <head> tag.'));break}return!0;case"noscript":case"template":O&&console.error("Cannot render <%s> outside the main document. Try moving it into the root <head> tag.",U)}return!1}function G50(U){return U.type==="stylesheet"&&(U.state.loading&n70)===n2?!1:!0}function TI0(){}function DI0(U,N,V){if(ZA===null)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var O=ZA;if(N.type==="stylesheet"&&(typeof V.media!=="string"||matchMedia(V.media).matches!==!1)&&(N.state.loading&B3)===n2){if(N.instance===null){var C=MF(V.href),k=U.querySelector(Gz(C));if(k){U=k._p,U!==null&&typeof U==="object"&&typeof U.then==="function"&&(O.count++,O=nO.bind(O),U.then(O,O)),N.state.loading|=B3,N.instance=k,i0(k);return}k=U.ownerDocument||U,V=z50(V),(C=z3.get(C))&&qI(V,C),k=k.createElement("link"),i0(k);var f=k;f._p=new Promise(function(g,d){f.onload=g,f.onerror=d}),H8(k,"link",V),N.instance=k}O.stylesheets===null&&(O.stylesheets=new Map),O.stylesheets.set(N,U),(U=N.state.preload)&&(N.state.loading&n70)===n2&&(O.count++,N=nO.bind(O),U.addEventListener("load",N),U.addEventListener("error",N))}}function CI0(){if(ZA===null)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var U=ZA;return U.stylesheets&&U.count===0&&XI(U,U.stylesheets),0<U.count?function(N){var V=setTimeout(function(){if(U.stylesheets&&XI(U,U.stylesheets),U.unsuspend){var O=U.unsuspend;U.unsuspend=null,O()}},60000);return U.unsuspend=N,function(){U.unsuspend=null,clearTimeout(V)}}:null}function nO(){if(this.count--,this.count===0){if(this.stylesheets)XI(this,this.stylesheets);else if(this.unsuspend){var U=this.unsuspend;this.unsuspend=null,U()}}}function XI(U,N){U.stylesheets=null,U.unsuspend!==null&&(U.count++,yT=new Map,N.forEach(PI0,U),yT=null,nO.call(U))}function PI0(U,N){if(!(N.state.loading&B3)){var V=yT.get(U);if(V)var O=V.get(fM);else{V=new Map,yT.set(U,V);for(var C=U.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<C.length;k++){var f=C[k];if(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")V.set(f.dataset.precedence,f),O=f}O&&V.set(fM,O)}C=N.instance,f=C.getAttribute("data-precedence"),k=V.get(f)||O,k===O&&V.set(fM,C),V.set(f,C),this.count++,O=nO.bind(this),C.addEventListener("load",O),C.addEventListener("error",O),k?k.parentNode.insertBefore(C,k.nextSibling):(U=U.nodeType===9?U.head:U,U.insertBefore(C,U.firstChild)),N.state.loading|=B3}}function kI0(U,N,V,O,C,k,f,g){this.tag=1,this.containerInfo=U,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=d2,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=DQ(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=DQ(0),this.hiddenUpdates=DQ(null),this.identifierPrefix=O,this.onUncaughtError=C,this.onCaughtError=k,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=g,this.incompleteTransitions=new Map,this.passiveEffectDuration=this.effectDuration=-0,this.memoizedUpdaters=new Set,U=this.pendingUpdatersLaneMap=[];for(N=0;31>N;N++)U.push(new Set);this._debugRootType=V?"hydrateRoot()":"createRoot()"}function w50(U,N,V,O,C,k,f,g,d,r,A0,C0){return U=new kI0(U,N,V,f,g,d,r,C0),N=uM0,k===!0&&(N|=_8|O$),G$&&(N|=B8),k=z(3,null,null,N),U.current=k,k.stateNode=U,N=b_(),T2(N),U.pooledCache=N,T2(N),k.memoizedState={element:O,isDehydrated:V,cache:N},c_(k),U}function O50(U){if(!U)return sY;return U=sY,U}function WI(U,N,V,O,C,k){if(v8&&typeof v8.onScheduleFiberRoot==="function")try{v8.onScheduleFiberRoot(cF,O,V)}catch(f){_Q||(_Q=!0,console.error("React instrumentation encountered an error: %s",f))}F1!==null&&typeof F1.markRenderScheduled==="function"&&F1.markRenderScheduled(N),C=O50(C),O.context===null?O.context=C:O.pendingContext=C,IQ&&D9!==null&&!o70&&(o70=!0,console.error(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,S(D9)||"Unknown")),O=MY(N),O.payload={element:V},k=k===void 0?null:k,k!==null&&(typeof k!=="function"&&console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",k),O.callback=k),V=bY(U,O,N),V!==null&&(V7(V,U,N),Qz(V,U,N))}function T50(U,N){if(U=U.memoizedState,U!==null&&U.dehydrated!==null){var V=U.retryLane;U.retryLane=V!==0&&V<N?V:N}}function FI(U,N){T50(U,N),(U=U.alternate)&&T50(U,N)}function D50(U){if(U.tag===13){var N=L4(U,67108864);N!==null&&V7(N,U,67108864),FI(U,67108864)}}function jI0(){return D9}function EI0(){for(var U=new Map,N=1,V=0;31>V;V++){var O=H5(N);U.set(N,O),N*=2}return U}function LI0(U,N,V,O){var C=D0.T;D0.T=null;var k=r5.p;try{r5.p=T9,UI(U,N,V,O)}finally{r5.p=k,D0.T=C}}function hI0(U,N,V,O){var C=D0.T;D0.T=null;var k=r5.p;try{r5.p=w$,UI(U,N,V,O)}finally{r5.p=k,D0.T=C}}function UI(U,N,V,O){if(cT){var C=HI(O);if(C===null)of(U,N,O,uT,V),P50(U,O);else if(vI0(C,U,N,V,O))O.stopPropagation();else if(P50(U,O),N&4&&-1<wb0.indexOf(U)){for(;C!==null;){var k=p(C);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var f=N5(k.pendingLanes);if(f!==0){var g=k;g.pendingLanes|=2;for(g.entangledLanes|=2;f;){var d=1<<31-a8(f);g.entanglements[1]|=d,f&=~d}LQ(k),(i5&(J4|P$))===C9&&(PT=SQ()+L70,Az(0,!1))}}break;case 13:g=L4(k,2),g!==null&&V7(g,k,2),SF(),FI(k,2)}if(k=HI(O),k===null&&of(U,N,O,uT,V),k===C)break;C=k}C!==null&&O.stopPropagation()}else of(U,N,O,null,V)}}function HI(U){return U=T_(U),NI(U)}function NI(U){if(uT=null,U=tJ(U),U!==null){var N=T(U);if(N===null)U=null;else{var V=N.tag;if(V===13){if(U=D(N),U!==null)return U;U=null}else if(V===3){if(N.stateNode.current.memoizedState.isDehydrated)return N.tag===3?N.stateNode.containerInfo:null;U=null}else N!==U&&(U=null)}}return uT=U,null}function C50(U){switch(U){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return T9;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return w$;case"message":switch(cI0()){case DI:return T9;case CI:return w$;case xF:case uI0:return fQ;case PI:return $T;default:return fQ}default:return fQ}}function P50(U,N){switch(U){case"focusin":case"focusout":qq=null;break;case"dragenter":case"dragleave":Zq=null;break;case"mouseover":case"mouseout":Xq=null;break;case"pointerover":case"pointerout":WA.delete(N.pointerId);break;case"gotpointercapture":case"lostpointercapture":FA.delete(N.pointerId)}}function Oz(U,N,V,O,C,k){if(U===null||U.nativeEvent!==k)return U={blockedOn:N,domEventName:V,eventSystemFlags:O,nativeEvent:k,targetContainers:[C]},N!==null&&(N=p(N),N!==null&&D50(N)),U;return U.eventSystemFlags|=O,N=U.targetContainers,C!==null&&N.indexOf(C)===-1&&N.push(C),U}function vI0(U,N,V,O,C){switch(N){case"focusin":return qq=Oz(qq,U,N,V,O,C),!0;case"dragenter":return Zq=Oz(Zq,U,N,V,O,C),!0;case"mouseover":return Xq=Oz(Xq,U,N,V,O,C),!0;case"pointerover":var k=C.pointerId;return WA.set(k,Oz(WA.get(k)||null,U,N,V,O,C)),!0;case"gotpointercapture":return k=C.pointerId,FA.set(k,Oz(FA.get(k)||null,U,N,V,O,C)),!0}return!1}function k50(U){var N=tJ(U.target);if(N!==null){var V=T(N);if(V!==null){if(N=V.tag,N===13){if(N=D(V),N!==null){U.blockedOn=N,OF(U.priority,function(){if(V.tag===13){var O=w9(V);O=wF(O);var C=L4(V,O);C!==null&&V7(C,V,O),FI(V,O)}});return}}else if(N===3&&V.stateNode.current.memoizedState.isDehydrated){U.blockedOn=V.tag===3?V.stateNode.containerInfo:null;return}}}U.blockedOn=null}function lO(U){if(U.blockedOn!==null)return!1;for(var N=U.targetContainers;0<N.length;){var V=HI(U.nativeEvent);if(V===null){V=U.nativeEvent;var O=new V.constructor(V.type,V),C=O;jz!==null&&console.error("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),jz=C,V.target.dispatchEvent(O),jz===null&&console.error("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),jz=null}else return N=p(V),N!==null&&D50(N),U.blockedOn=V,!1;N.shift()}return!0}function j50(U,N,V){lO(U)&&V.delete(N)}function SI0(){IM=!1,qq!==null&&lO(qq)&&(qq=null),Zq!==null&&lO(Zq)&&(Zq=null),Xq!==null&&lO(Xq)&&(Xq=null),WA.forEach(j50),FA.forEach(j50)}function rO(U,N){U.blockedOn===N&&(U.blockedOn=null,IM||(IM=!0,g5.unstable_scheduleCallback(g5.unstable_NormalPriority,SI0)))}function E50(U){mT!==U&&(mT=U,g5.unstable_scheduleCallback(g5.unstable_NormalPriority,function(){mT===U&&(mT=null);for(var N=0;N<U.length;N+=3){var V=U[N],O=U[N+1],C=U[N+2];if(typeof O!=="function")if(NI(O||V)===null)continue;else break;var k=p(V);k!==null&&(U.splice(N,3),N-=3,V={pending:!0,data:C,method:V.method,action:O},Object.freeze(V),Hf(k,V,O,C))}}))}function Tz(U){function N(d){return rO(d,U)}qq!==null&&rO(qq,U),Zq!==null&&rO(Zq,U),Xq!==null&&rO(Xq,U),WA.forEach(N),FA.forEach(N);for(var V=0;V<Wq.length;V++){var O=Wq[V];O.blockedOn===U&&(O.blockedOn=null)}for(;0<Wq.length&&(V=Wq[0],V.blockedOn===null);)k50(V),V.blockedOn===null&&Wq.shift();if(V=(U.ownerDocument||U).$$reactFormReplay,V!=null)for(O=0;O<V.length;O+=3){var C=V[O],k=V[O+1],f=C[S4]||null;if(typeof k==="function")f||E50(V);else if(f){var g=null;if(k&&k.hasAttribute("formAction")){if(C=k,f=k[S4]||null)g=f.formAction;else if(NI(C)!==null)continue}else g=f.action;typeof g==="function"?V[O+1]=g:(V.splice(O,3),O-=3),E50(V)}}}function BI(U){this._internalRoot=U}function iO(U){this._internalRoot=U}function L50(U){U[rY]&&(U._reactRootContainer?console.error("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):console.error("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var G5=Object.assign,_I0=Symbol.for("react.element"),pY=Symbol.for("react.transitional.element"),gF=Symbol.for("react.portal"),yF=Symbol.for("react.fragment"),sO=Symbol.for("react.strict_mode"),zI=Symbol.for("react.profiler"),fI0=Symbol.for("react.provider"),AI=Symbol.for("react.consumer"),vQ=Symbol.for("react.context"),Dz=Symbol.for("react.forward_ref"),VI=Symbol.for("react.suspense"),RI=Symbol.for("react.suspense_list"),oO=Symbol.for("react.memo"),O9=Symbol.for("react.lazy"),GI=Symbol.for("react.activity"),II0=Symbol.for("react.memo_cache_sentinel"),h50=Symbol.iterator,MI0=Symbol.for("react.client.reference"),N8=Array.isArray,D0=TU.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,r5=bM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bI0=Object.freeze({pending:!1,data:null,method:null,action:null}),wI=[],OI=[],WK=-1,dY=I(null),Cz=I(null),nY=I(null),aO=I(null),FK=Object.prototype.hasOwnProperty,TI=g5.unstable_scheduleCallback,gI0=g5.unstable_cancelCallback,yI0=g5.unstable_shouldYield,xI0=g5.unstable_requestPaint,SQ=g5.unstable_now,cI0=g5.unstable_getCurrentPriorityLevel,DI=g5.unstable_ImmediatePriority,CI=g5.unstable_UserBlockingPriority,xF=g5.unstable_NormalPriority,uI0=g5.unstable_LowPriority,PI=g5.unstable_IdlePriority,mI0=g5.log,pI0=g5.unstable_setDisableYieldValue,cF=null,v8=null,F1=null,_Q=!1,G$=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u",a8=Math.clz32?Math.clz32:v1,dI0=Math.log,nI0=Math.LN2,tO=256,eO=4194304,T9=2,w$=8,fQ=32,$T=268435456,lY=Math.random().toString(36).slice(2),S8="__reactFiber$"+lY,S4="__reactProps$"+lY,rY="__reactContainer$"+lY,kI="__reactEvents$"+lY,lI0="__reactListeners$"+lY,rI0="__reactHandles$"+lY,v50="__reactResources$"+lY,Pz="__reactMarker$"+lY,S50=new Set,E2={},jI={},iI0={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},sI0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_50={},f50={},kz=0,I50,M50,b50,g50,y50,x50,c50;iw.__reactDisabledLog=!0;var EI,u50,LI=!1,hI=new(typeof WeakMap==="function"?WeakMap:Map),D9=null,IQ=!1,oI0=/[\n"\\]/g,m50=!1,p50=!1,d50=!1,n50=!1,l50=!1,r50=!1,i50=["value","defaultValue"],s50=!1,o50=/["'&<>\n\t]|^\s|\s$/,aI0="address applet area article aside base basefont bgsound blockquote body br button caption center col colgroup dd details dir div dl dt embed fieldset figcaption figure footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html iframe img input isindex li link listing main marquee menu menuitem meta nav noembed noframes noscript object ol p param plaintext pre script section select source style summary table tbody td template textarea tfoot th thead title tr track ul wbr xmp".split(" "),a50="applet caption html table td th marquee object template foreignObject desc title".split(" "),tI0=a50.concat(["button"]),eI0="dd dt li option optgroup p rp rt".split(" "),t50={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null,containerTagInScope:null,implicitRootScope:!1},QT={},vI={animation:"animationDelay animationDirection animationDuration animationFillMode animationIterationCount animationName animationPlayState animationTimingFunction".split(" "),background:"backgroundAttachment backgroundClip backgroundColor backgroundImage backgroundOrigin backgroundPositionX backgroundPositionY backgroundRepeat backgroundSize".split(" "),backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:"borderBottomColor borderBottomStyle borderBottomWidth borderImageOutset borderImageRepeat borderImageSlice borderImageSource borderImageWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderTopColor borderTopStyle borderTopWidth".split(" "),borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:"fontFamily fontFeatureSettings fontKerning fontLanguageOverride fontSize fontSizeAdjust fontStretch fontStyle fontVariant fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition fontWeight lineHeight".split(" "),fontVariant:"fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition".split(" "),gap:["columnGap","rowGap"],grid:"gridAutoColumns gridAutoFlow gridAutoRows gridTemplateAreas gridTemplateColumns gridTemplateRows".split(" "),gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:"maskClip maskComposite maskImage maskMode maskOrigin maskPositionX maskPositionY maskRepeat maskSize".split(" "),maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},e50=/([A-Z])/g,$60=/^ms-/,$M0=/^(?:webkit|moz|o)[A-Z]/,QM0=/^-ms-/,JM0=/-(.)/g,Q60=/;\s*$/,uF={},SI={},J60=!1,K60=!1,Y60=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),JT="http://www.w3.org/1998/Math/MathML",mF="http://www.w3.org/2000/svg",KM0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),KT={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",fetchpriority:"fetchPriority",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",inert:"inert",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",popover:"popover",popovertarget:"popoverTarget",popovertargetaction:"popoverTargetAction",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",transformorigin:"transformOrigin","transform-origin":"transformOrigin",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},q60={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},pF={},YM0=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qM0=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Z60=!1,t8={},X60=/^on./,ZM0=/^on[^A-Z]/,XM0=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),WM0=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),FM0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i,jz=null,dF=null,nF=null,_I=!1,MQ=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fI=!1;if(MQ)try{var Ez={};Object.defineProperty(Ez,"passive",{get:function(){fI=!0}}),window.addEventListener("test",Ez,Ez),window.removeEventListener("test",Ez,Ez)}catch(U){fI=!1}var iY=null,II=null,YT=null,L2={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(U){return U.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qT=E4(L2),Lz=G5({},L2,{view:0,detail:0}),UM0=E4(Lz),MI,bI,hz,ZT=G5({},Lz,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:D_,button:0,buttons:0,relatedTarget:function(U){return U.relatedTarget===void 0?U.fromElement===U.srcElement?U.toElement:U.fromElement:U.relatedTarget},movementX:function(U){if("movementX"in U)return U.movementX;return U!==hz&&(hz&&U.type==="mousemove"?(MI=U.screenX-hz.screenX,bI=U.screenY-hz.screenY):bI=MI=0,hz=U),MI},movementY:function(U){return"movementY"in U?U.movementY:bI}}),W60=E4(ZT),HM0=G5({},ZT,{dataTransfer:0}),NM0=E4(HM0),BM0=G5({},Lz,{relatedTarget:0}),gI=E4(BM0),zM0=G5({},L2,{animationName:0,elapsedTime:0,pseudoElement:0}),AM0=E4(zM0),VM0=G5({},L2,{clipboardData:function(U){return"clipboardData"in U?U.clipboardData:window.clipboardData}}),RM0=E4(VM0),GM0=G5({},L2,{data:0}),F60=E4(GM0),wM0=F60,OM0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TM0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DM0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},CM0=G5({},Lz,{key:function(U){if(U.key){var N=OM0[U.key]||U.key;if(N!=="Unidentified")return N}return U.type==="keypress"?(U=$O(U),U===13?"Enter":String.fromCharCode(U)):U.type==="keydown"||U.type==="keyup"?TM0[U.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:D_,charCode:function(U){return U.type==="keypress"?$O(U):0},keyCode:function(U){return U.type==="keydown"||U.type==="keyup"?U.keyCode:0},which:function(U){return U.type==="keypress"?$O(U):U.type==="keydown"||U.type==="keyup"?U.keyCode:0}}),PM0=E4(CM0),kM0=G5({},ZT,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U60=E4(kM0),jM0=G5({},Lz,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:D_}),EM0=E4(jM0),LM0=G5({},L2,{propertyName:0,elapsedTime:0,pseudoElement:0}),hM0=E4(LM0),vM0=G5({},ZT,{deltaX:function(U){return"deltaX"in U?U.deltaX:("wheelDeltaX"in U)?-U.wheelDeltaX:0},deltaY:function(U){return"deltaY"in U?U.deltaY:("wheelDeltaY"in U)?-U.wheelDeltaY:("wheelDelta"in U)?-U.wheelDelta:0},deltaZ:0,deltaMode:0}),SM0=E4(vM0),_M0=G5({},L2,{newState:0,oldState:0}),fM0=E4(_M0),IM0=[9,13,27,32],H60=229,yI=MQ&&"CompositionEvent"in window,vz=null;MQ&&"documentMode"in document&&(vz=document.documentMode);var MM0=MQ&&"TextEvent"in window&&!vz,N60=MQ&&(!yI||vz&&8<vz&&11>=vz),B60=32,z60=String.fromCharCode(B60),A60=!1,lF=!1,bM0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Sz=null,_z=null,V60=!1;MQ&&(V60=Bf0("input")&&(!document.documentMode||9<document.documentMode));var e8=typeof Object.is==="function"?Object.is:wf0,gM0=MQ&&"documentMode"in document&&11>=document.documentMode,rF=null,xI=null,fz=null,cI=!1,iF={animationend:N2("Animation","AnimationEnd"),animationiteration:N2("Animation","AnimationIteration"),animationstart:N2("Animation","AnimationStart"),transitionrun:N2("Transition","TransitionRun"),transitionstart:N2("Transition","TransitionStart"),transitioncancel:N2("Transition","TransitionCancel"),transitionend:N2("Transition","TransitionEnd")},uI={},R60={};MQ&&(R60=document.createElement("div").style,("AnimationEvent"in window)||(delete iF.animationend.animation,delete iF.animationiteration.animation,delete iF.animationstart.animation),("TransitionEvent"in window)||delete iF.transitionend.transition);var G60=B2("animationend"),w60=B2("animationiteration"),O60=B2("animationstart"),yM0=B2("transitionrun"),xM0=B2("transitionstart"),cM0=B2("transitioncancel"),T60=B2("transitionend"),D60=new Map,mI="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mI.push("scrollEnd");var pI=new WeakMap,XT=1,UK=2,Y3=[],sF=0,dI=0,sY={};Object.freeze(sY);var q3=null,oF=null,j6=0,uM0=1,B8=2,_8=8,O$=16,C60=64,P60=!1;try{var k60=Object.preventExtensions({});}catch(U){P60=!0}var aF=[],tF=0,WT=null,FT=0,Z3=[],X3=0,h2=null,HK=1,NK="",$4=null,e6=null,b5=!1,BK=!1,W3=null,v2=null,bQ=!1,nI=Error("Hydration Mismatch Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),j60=0;if(typeof performance==="object"&&typeof performance.now==="function")var mM0=performance,E60=function(){return mM0.now()};else{var pM0=Date;E60=function(){return pM0.now()}}var lI=I(null),rI=I(null),L60={},UT=null,eF=null,$U=!1,dM0=typeof AbortController<"u"?AbortController:function(){var U=[],N=this.signal={aborted:!1,addEventListener:function(V,O){U.push(O)}};this.abort=function(){N.aborted=!0,U.forEach(function(V){return V()})}},nM0=g5.unstable_scheduleCallback,lM0=g5.unstable_NormalPriority,g7={$$typeof:vQ,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0,_currentRenderer:null,_currentRenderer2:null},QU=g5.unstable_now,h60=-0,HT=-0,_4=-1.1,S2=-0,NT=!1,BT=!1,Iz=null,iI=0,_2=0,JU=null,v60=D0.S;D0.S=function(U,N){typeof N==="object"&&N!==null&&typeof N.then==="function"&&Tf0(U,N),v60!==null&&v60(U,N)};var f2=I(null),T$={recordUnsafeLifecycleWarnings:function(){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},Mz=[],bz=[],gz=[],yz=[],xz=[],cz=[],I2=new Set;T$.recordUnsafeLifecycleWarnings=function(U,N){I2.has(U.type)||(typeof N.componentWillMount==="function"&&N.componentWillMount.__suppressDeprecationWarning!==!0&&Mz.push(U),U.mode&_8&&typeof N.UNSAFE_componentWillMount==="function"&&bz.push(U),typeof N.componentWillReceiveProps==="function"&&N.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&gz.push(U),U.mode&_8&&typeof N.UNSAFE_componentWillReceiveProps==="function"&&yz.push(U),typeof N.componentWillUpdate==="function"&&N.componentWillUpdate.__suppressDeprecationWarning!==!0&&xz.push(U),U.mode&_8&&typeof N.UNSAFE_componentWillUpdate==="function"&&cz.push(U))},T$.flushPendingUnsafeLifecycleWarnings=function(){var U=new Set;0<Mz.length&&(Mz.forEach(function(g){U.add(S(g)||"Component"),I2.add(g.type)}),Mz=[]);var N=new Set;0<bz.length&&(bz.forEach(function(g){N.add(S(g)||"Component"),I2.add(g.type)}),bz=[]);var V=new Set;0<gz.length&&(gz.forEach(function(g){V.add(S(g)||"Component"),I2.add(g.type)}),gz=[]);var O=new Set;0<yz.length&&(yz.forEach(function(g){O.add(S(g)||"Component"),I2.add(g.type)}),yz=[]);var C=new Set;0<xz.length&&(xz.forEach(function(g){C.add(S(g)||"Component"),I2.add(g.type)}),xz=[]);var k=new Set;if(0<cz.length&&(cz.forEach(function(g){k.add(S(g)||"Component"),I2.add(g.type)}),cz=[]),0<N.size){var f=B(N);console.error(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,f)}0<O.size&&(f=B(O),console.error(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state

Please update the following components: %s`,f)),0<k.size&&(f=B(k),console.error(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,f)),0<U.size&&(f=B(U),console.warn(`componentWillMount has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,f)),0<V.size&&(f=B(V),console.warn(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,f)),0<C.size&&(f=B(C),console.warn(`componentWillUpdate has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,f))};var zT=new Map,S60=new Set;T$.recordLegacyContextWarning=function(U,N){var V=null;for(var O=U;O!==null;)O.mode&_8&&(V=O),O=O.return;V===null?console.error("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue."):!S60.has(U.type)&&(O=zT.get(V),U.type.contextTypes!=null||U.type.childContextTypes!=null||N!==null&&typeof N.getChildContext==="function")&&(O===void 0&&(O=[],zT.set(V,O)),O.push(U))},T$.flushLegacyContextWarning=function(){zT.forEach(function(U){if(U.length!==0){var N=U[0],V=new Set;U.forEach(function(C){V.add(S(C)||"Component"),S60.add(C.type)});var O=B(V);k1(N,function(){console.error(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://react.dev/link/legacy-context`,O)})}})},T$.discardPendingWarnings=function(){Mz=[],bz=[],gz=[],yz=[],xz=[],cz=[],zT=new Map};var uz=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`."),_60=Error("Suspense Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),AT=Error("Suspense Exception: This is not a real error! It's an implementation detail of `useActionState` to interrupt the current render. You must either rethrow it immediately, or move the `useActionState` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary."),sI={then:function(){console.error('Internal React error: A listener was unexpectedly attached to a "noop" thenable. This is a bug in React. Please file an issue.')}},mz=null,VT=!1,F3=0,U3=1,Q4=2,z8=4,y7=8,f60=0,I60=1,M60=2,oI=3,oY=!1,b60=!1,aI=null,tI=!1,KU=I(null),RT=I(0),YU,g60=new Set,y60=new Set,eI=new Set,x60=new Set,aY=0,Q5=null,U6=null,P7=null,GT=!1,qU=!1,M2=!1,wT=0,pz=0,zK=null,rM0=0,iM0=25,T0=null,H3=null,AK=-1,dz=!1,OT={readContext:M6,use:gY,useCallback:A7,useContext:A7,useEffect:A7,useImperativeHandle:A7,useLayoutEffect:A7,useInsertionEffect:A7,useMemo:A7,useReducer:A7,useRef:A7,useState:A7,useDebugValue:A7,useDeferredValue:A7,useTransition:A7,useSyncExternalStore:A7,useId:A7,useHostTransitionStatus:A7,useFormState:A7,useActionState:A7,useOptimistic:A7,useMemoCache:A7,useCacheRefresh:A7},$M=null,c60=null,QM=null,u60=null,gQ=null,D$=null,TT=null;$M={readContext:function(U){return M6(U)},use:gY,useCallback:function(U,N){return T0="useCallback",C5(),PF(N),Xf(U,N)},useContext:function(U){return T0="useContext",C5(),M6(U)},useEffect:function(U,N){return T0="useEffect",C5(),PF(N),OO(U,N)},useImperativeHandle:function(U,N,V){return T0="useImperativeHandle",C5(),PF(V),Zf(U,N,V)},useInsertionEffect:function(U,N){T0="useInsertionEffect",C5(),PF(N),C2(4,Q4,U,N)},useLayoutEffect:function(U,N){return T0="useLayoutEffect",C5(),PF(N),qf(U,N)},useMemo:function(U,N){T0="useMemo",C5(),PF(N);var V=D0.H;D0.H=gQ;try{return Wf(U,N)}finally{D0.H=V}},useReducer:function(U,N,V){T0="useReducer",C5();var O=D0.H;D0.H=gQ;try{return a_(U,N,V)}finally{D0.H=O}},useRef:function(U){return T0="useRef",C5(),Yf(U)},useState:function(U){T0="useState",C5();var N=D0.H;D0.H=gQ;try{return Qf(U)}finally{D0.H=N}},useDebugValue:function(){T0="useDebugValue",C5()},useDeferredValue:function(U,N){return T0="useDeferredValue",C5(),Ff(U,N)},useTransition:function(){return T0="useTransition",C5(),Nf()},useSyncExternalStore:function(U,N,V){return T0="useSyncExternalStore",C5(),e_(U,N,V)},useId:function(){return T0="useId",C5(),Bf()},useFormState:function(U,N){return T0="useFormState",C5(),AO(),jF(U,N)},useActionState:function(U,N){return T0="useActionState",C5(),jF(U,N)},useOptimistic:function(U){return T0="useOptimistic",C5(),Jf(U)},useHostTransitionStatus:P2,useMemoCache:D2,useCacheRefresh:function(){return T0="useCacheRefresh",C5(),zf()}},c60={readContext:function(U){return M6(U)},use:gY,useCallback:function(U,N){return T0="useCallback",d0(),Xf(U,N)},useContext:function(U){return T0="useContext",d0(),M6(U)},useEffect:function(U,N){return T0="useEffect",d0(),OO(U,N)},useImperativeHandle:function(U,N,V){return T0="useImperativeHandle",d0(),Zf(U,N,V)},useInsertionEffect:function(U,N){T0="useInsertionEffect",d0(),C2(4,Q4,U,N)},useLayoutEffect:function(U,N){return T0="useLayoutEffect",d0(),qf(U,N)},useMemo:function(U,N){T0="useMemo",d0();var V=D0.H;D0.H=gQ;try{return Wf(U,N)}finally{D0.H=V}},useReducer:function(U,N,V){T0="useReducer",d0();var O=D0.H;D0.H=gQ;try{return a_(U,N,V)}finally{D0.H=O}},useRef:function(U){return T0="useRef",d0(),Yf(U)},useState:function(U){T0="useState",d0();var N=D0.H;D0.H=gQ;try{return Qf(U)}finally{D0.H=N}},useDebugValue:function(){T0="useDebugValue",d0()},useDeferredValue:function(U,N){return T0="useDeferredValue",d0(),Ff(U,N)},useTransition:function(){return T0="useTransition",d0(),Nf()},useSyncExternalStore:function(U,N,V){return T0="useSyncExternalStore",d0(),e_(U,N,V)},useId:function(){return T0="useId",d0(),Bf()},useActionState:function(U,N){return T0="useActionState",d0(),jF(U,N)},useFormState:function(U,N){return T0="useFormState",d0(),AO(),jF(U,N)},useOptimistic:function(U){return T0="useOptimistic",d0(),Jf(U)},useHostTransitionStatus:P2,useMemoCache:D2,useCacheRefresh:function(){return T0="useCacheRefresh",d0(),zf()}},QM={readContext:function(U){return M6(U)},use:gY,useCallback:function(U,N){return T0="useCallback",d0(),DO(U,N)},useContext:function(U){return T0="useContext",d0(),M6(U)},useEffect:function(U,N){T0="useEffect",d0(),v4(2048,y7,U,N)},useImperativeHandle:function(U,N,V){return T0="useImperativeHandle",d0(),TO(U,N,V)},useInsertionEffect:function(U,N){return T0="useInsertionEffect",d0(),v4(4,Q4,U,N)},useLayoutEffect:function(U,N){return T0="useLayoutEffect",d0(),v4(4,z8,U,N)},useMemo:function(U,N){T0="useMemo",d0();var V=D0.H;D0.H=D$;try{return CO(U,N)}finally{D0.H=V}},useReducer:function(U,N,V){T0="useReducer",d0();var O=D0.H;D0.H=D$;try{return kF(U,N,V)}finally{D0.H=O}},useRef:function(){return T0="useRef",d0(),Y6().memoizedState},useState:function(){T0="useState",d0();var U=D0.H;D0.H=D$;try{return kF(R$)}finally{D0.H=U}},useDebugValue:function(){T0="useDebugValue",d0()},useDeferredValue:function(U,N){return T0="useDeferredValue",d0(),G00(U,N)},useTransition:function(){return T0="useTransition",d0(),P00()},useSyncExternalStore:function(U,N,V){return T0="useSyncExternalStore",d0(),VO(U,N,V)},useId:function(){return T0="useId",d0(),Y6().memoizedState},useFormState:function(U){return T0="useFormState",d0(),AO(),RO(U)},useActionState:function(U){return T0="useActionState",d0(),RO(U)},useOptimistic:function(U,N){return T0="useOptimistic",d0(),W00(U,N)},useHostTransitionStatus:P2,useMemoCache:D2,useCacheRefresh:function(){return T0="useCacheRefresh",d0(),Y6().memoizedState}},u60={readContext:function(U){return M6(U)},use:gY,useCallback:function(U,N){return T0="useCallback",d0(),DO(U,N)},useContext:function(U){return T0="useContext",d0(),M6(U)},useEffect:function(U,N){T0="useEffect",d0(),v4(2048,y7,U,N)},useImperativeHandle:function(U,N,V){return T0="useImperativeHandle",d0(),TO(U,N,V)},useInsertionEffect:function(U,N){return T0="useInsertionEffect",d0(),v4(4,Q4,U,N)},useLayoutEffect:function(U,N){return T0="useLayoutEffect",d0(),v4(4,z8,U,N)},useMemo:function(U,N){T0="useMemo",d0();var V=D0.H;D0.H=TT;try{return CO(U,N)}finally{D0.H=V}},useReducer:function(U,N,V){T0="useReducer",d0();var O=D0.H;D0.H=TT;try{return qz(U,N,V)}finally{D0.H=O}},useRef:function(){return T0="useRef",d0(),Y6().memoizedState},useState:function(){T0="useState",d0();var U=D0.H;D0.H=TT;try{return qz(R$)}finally{D0.H=U}},useDebugValue:function(){T0="useDebugValue",d0()},useDeferredValue:function(U,N){return T0="useDeferredValue",d0(),w00(U,N)},useTransition:function(){return T0="useTransition",d0(),k00()},useSyncExternalStore:function(U,N,V){return T0="useSyncExternalStore",d0(),VO(U,N,V)},useId:function(){return T0="useId",d0(),Y6().memoizedState},useFormState:function(U){return T0="useFormState",d0(),AO(),GO(U)},useActionState:function(U){return T0="useActionState",d0(),GO(U)},useOptimistic:function(U,N){return T0="useOptimistic",d0(),U00(U,N)},useHostTransitionStatus:P2,useMemoCache:D2,useCacheRefresh:function(){return T0="useCacheRefresh",d0(),Y6().memoizedState}},gQ={readContext:function(U){return F(),M6(U)},use:function(U){return W(),gY(U)},useCallback:function(U,N){return T0="useCallback",W(),C5(),Xf(U,N)},useContext:function(U){return T0="useContext",W(),C5(),M6(U)},useEffect:function(U,N){return T0="useEffect",W(),C5(),OO(U,N)},useImperativeHandle:function(U,N,V){return T0="useImperativeHandle",W(),C5(),Zf(U,N,V)},useInsertionEffect:function(U,N){T0="useInsertionEffect",W(),C5(),C2(4,Q4,U,N)},useLayoutEffect:function(U,N){return T0="useLayoutEffect",W(),C5(),qf(U,N)},useMemo:function(U,N){T0="useMemo",W(),C5();var V=D0.H;D0.H=gQ;try{return Wf(U,N)}finally{D0.H=V}},useReducer:function(U,N,V){T0="useReducer",W(),C5();var O=D0.H;D0.H=gQ;try{return a_(U,N,V)}finally{D0.H=O}},useRef:function(U){return T0="useRef",W(),C5(),Yf(U)},useState:function(U){T0="useState",W(),C5();var N=D0.H;D0.H=gQ;try{return Qf(U)}finally{D0.H=N}},useDebugValue:function(){T0="useDebugValue",W(),C5()},useDeferredValue:function(U,N){return T0="useDeferredValue",W(),C5(),Ff(U,N)},useTransition:function(){return T0="useTransition",W(),C5(),Nf()},useSyncExternalStore:function(U,N,V){return T0="useSyncExternalStore",W(),C5(),e_(U,N,V)},useId:function(){return T0="useId",W(),C5(),Bf()},useFormState:function(U,N){return T0="useFormState",W(),C5(),jF(U,N)},useActionState:function(U,N){return T0="useActionState",W(),C5(),jF(U,N)},useOptimistic:function(U){return T0="useOptimistic",W(),C5(),Jf(U)},useMemoCache:function(U){return W(),D2(U)},useHostTransitionStatus:P2,useCacheRefresh:function(){return T0="useCacheRefresh",C5(),zf()}},D$={readContext:function(U){return F(),M6(U)},use:function(U){return W(),gY(U)},useCallback:function(U,N){return T0="useCallback",W(),d0(),DO(U,N)},useContext:function(U){return T0="useContext",W(),d0(),M6(U)},useEffect:function(U,N){T0="useEffect",W(),d0(),v4(2048,y7,U,N)},useImperativeHandle:function(U,N,V){return T0="useImperativeHandle",W(),d0(),TO(U,N,V)},useInsertionEffect:function(U,N){return T0="useInsertionEffect",W(),d0(),v4(4,Q4,U,N)},useLayoutEffect:function(U,N){return T0="useLayoutEffect",W(),d0(),v4(4,z8,U,N)},useMemo:function(U,N){T0="useMemo",W(),d0();var V=D0.H;D0.H=D$;try{return CO(U,N)}finally{D0.H=V}},useReducer:function(U,N,V){T0="useReducer",W(),d0();var O=D0.H;D0.H=D$;try{return kF(U,N,V)}finally{D0.H=O}},useRef:function(){return T0="useRef",W(),d0(),Y6().memoizedState},useState:function(){T0="useState",W(),d0();var U=D0.H;D0.H=D$;try{return kF(R$)}finally{D0.H=U}},useDebugValue:function(){T0="useDebugValue",W(),d0()},useDeferredValue:function(U,N){return T0="useDeferredValue",W(),d0(),G00(U,N)},useTransition:function(){return T0="useTransition",W(),d0(),P00()},useSyncExternalStore:function(U,N,V){return T0="useSyncExternalStore",W(),d0(),VO(U,N,V)},useId:function(){return T0="useId",W(),d0(),Y6().memoizedState},useFormState:function(U){return T0="useFormState",W(),d0(),RO(U)},useActionState:function(U){return T0="useActionState",W(),d0(),RO(U)},useOptimistic:function(U,N){return T0="useOptimistic",W(),d0(),W00(U,N)},useMemoCache:function(U){return W(),D2(U)},useHostTransitionStatus:P2,useCacheRefresh:function(){return T0="useCacheRefresh",d0(),Y6().memoizedState}},TT={readContext:function(U){return F(),M6(U)},use:function(U){return W(),gY(U)},useCallback:function(U,N){return T0="useCallback",W(),d0(),DO(U,N)},useContext:function(U){return T0="useContext",W(),d0(),M6(U)},useEffect:function(U,N){T0="useEffect",W(),d0(),v4(2048,y7,U,N)},useImperativeHandle:function(U,N,V){return T0="useImperativeHandle",W(),d0(),TO(U,N,V)},useInsertionEffect:function(U,N){return T0="useInsertionEffect",W(),d0(),v4(4,Q4,U,N)},useLayoutEffect:function(U,N){return T0="useLayoutEffect",W(),d0(),v4(4,z8,U,N)},useMemo:function(U,N){T0="useMemo",W(),d0();var V=D0.H;D0.H=D$;try{return CO(U,N)}finally{D0.H=V}},useReducer:function(U,N,V){T0="useReducer",W(),d0();var O=D0.H;D0.H=D$;try{return qz(U,N,V)}finally{D0.H=O}},useRef:function(){return T0="useRef",W(),d0(),Y6().memoizedState},useState:function(){T0="useState",W(),d0();var U=D0.H;D0.H=D$;try{return qz(R$)}finally{D0.H=U}},useDebugValue:function(){T0="useDebugValue",W(),d0()},useDeferredValue:function(U,N){return T0="useDeferredValue",W(),d0(),w00(U,N)},useTransition:function(){return T0="useTransition",W(),d0(),k00()},useSyncExternalStore:function(U,N,V){return T0="useSyncExternalStore",W(),d0(),VO(U,N,V)},useId:function(){return T0="useId",W(),d0(),Y6().memoizedState},useFormState:function(U){return T0="useFormState",W(),d0(),GO(U)},useActionState:function(U){return T0="useActionState",W(),d0(),GO(U)},useOptimistic:function(U,N){return T0="useOptimistic",W(),d0(),U00(U,N)},useMemoCache:function(U){return W(),D2(U)},useHostTransitionStatus:P2,useCacheRefresh:function(){return T0="useCacheRefresh",d0(),Y6().memoizedState}};var m60={react_stack_bottom_frame:function(U,N,V){var O=IQ;IQ=!0;try{return U(N,V)}finally{IQ=O}}},JM=m60.react_stack_bottom_frame.bind(m60),p60={react_stack_bottom_frame:function(U){var N=IQ;IQ=!0;try{return U.render()}finally{IQ=N}}},d60=p60.react_stack_bottom_frame.bind(p60),n60={react_stack_bottom_frame:function(U,N){try{N.componentDidMount()}catch(V){W6(U,U.return,V)}}},KM=n60.react_stack_bottom_frame.bind(n60),l60={react_stack_bottom_frame:function(U,N,V,O,C){try{N.componentDidUpdate(V,O,C)}catch(k){W6(U,U.return,k)}}},r60=l60.react_stack_bottom_frame.bind(l60),i60={react_stack_bottom_frame:function(U,N){var V=N.stack;U.componentDidCatch(N.value,{componentStack:V!==null?V:""})}},sM0=i60.react_stack_bottom_frame.bind(i60),s60={react_stack_bottom_frame:function(U,N,V){try{V.componentWillUnmount()}catch(O){W6(U,N,O)}}},o60=s60.react_stack_bottom_frame.bind(s60),a60={react_stack_bottom_frame:function(U){U.resourceKind!=null&&console.error("Expected only SimpleEffects when enableUseEffectCRUDOverload is disabled, got %s",U.resourceKind);var N=U.create;return U=U.inst,N=N(),U.destroy=N}},oM0=a60.react_stack_bottom_frame.bind(a60),t60={react_stack_bottom_frame:function(U,N,V){try{V()}catch(O){W6(U,N,O)}}},aM0=t60.react_stack_bottom_frame.bind(t60),e60={react_stack_bottom_frame:function(U){var N=U._init;return N(U._payload)}},tY=e60.react_stack_bottom_frame.bind(e60),ZU=null,nz=0,A5=null,YM,$70=YM=!1,Q70={},J70={},K70={};X=function(U,N,V){if(V!==null&&typeof V==="object"&&V._store&&(!V._store.validated&&V.key==null||V._store.validated===2)){if(typeof V._store!=="object")throw Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");V._store.validated=1;var O=S(U),C=O||"null";if(!Q70[C]){Q70[C]=!0,V=V._owner,U=U._debugOwner;var k="";U&&typeof U.tag==="number"&&(C=S(U))&&(k=`

Check the render method of \``+C+"`."),k||O&&(k=`

Check the top-level render call using <`+O+">.");var f="";V!=null&&U!==V&&(O=null,typeof V.tag==="number"?O=S(V):typeof V.name==="string"&&(O=V.name),O&&(f=" It was passed a child from "+O+".")),k1(N,function(){console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',k,f)})}}};var XU=h00(!0),Y70=h00(!1),N3=I(null),yQ=null,WU=1,lz=2,x7=I(0),q70={},Z70=new Set,X70=new Set,W70=new Set,F70=new Set,U70=new Set,H70=new Set,N70=new Set,B70=new Set,z70=new Set,A70=new Set;Object.freeze(q70);var qM={enqueueSetState:function(U,N,V){U=U._reactInternals;var O=w9(U),C=MY(O);C.payload=N,V!==void 0&&V!==null&&(Vf(V),C.callback=V),N=bY(U,C,O),N!==null&&(V7(N,U,O),Qz(N,U,O)),X5(U,O)},enqueueReplaceState:function(U,N,V){U=U._reactInternals;var O=w9(U),C=MY(O);C.tag=I60,C.payload=N,V!==void 0&&V!==null&&(Vf(V),C.callback=V),N=bY(U,C,O),N!==null&&(V7(N,U,O),Qz(N,U,O)),X5(U,O)},enqueueForceUpdate:function(U,N){U=U._reactInternals;var V=w9(U),O=MY(V);O.tag=M60,N!==void 0&&N!==null&&(Vf(N),O.callback=N),N=bY(U,O,V),N!==null&&(V7(N,U,V),Qz(N,U,V)),F1!==null&&typeof F1.markForceUpdateScheduled==="function"&&F1.markForceUpdateScheduled(U,V)}},ZM=typeof reportError==="function"?reportError:function(U){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U==="object"&&U!==null&&typeof U.message==="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(N))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",U);return}console.error(U)},FU=null,XM=null,V70=Error("This is not a real error. It's an implementation detail of React's selective hydration feature. If this leaks into userspace, it's a bug in React. Please file an issue."),o7=!1,R70={},G70={},w70={},O70={},UU=!1,T70={},WM={},FM={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},D70=!1,C70=null;C70=new Set;var VK=!1,R7=!1,UM=!1,P70=typeof WeakSet==="function"?WeakSet:Set,a7=null,HU=null,NU=null,k7=null,f4=!1,C$=null,rz=8192,tM0={getCacheForType:function(U){var N=M6(g7),V=N.data.get(U);return V===void 0&&(V=U(),N.data.set(U,V)),V},getOwner:function(){return D9}};if(typeof Symbol==="function"&&Symbol.for){var iz=Symbol.for;iz("selector.component"),iz("selector.has_pseudo_class"),iz("selector.role"),iz("selector.test_id"),iz("selector.text")}var eM0=[],$b0=typeof WeakMap==="function"?WeakMap:Map,C9=0,J4=2,P$=4,RK=0,sz=1,BU=2,HM=3,b2=4,DT=6,k70=5,i5=C9,A6=null,O5=null,P5=0,I4=0,oz=1,g2=2,az=3,j70=4,NM=5,zU=6,tz=7,BM=8,y2=9,a5=I4,P9=null,eY=!1,AU=!1,zM=!1,xQ=0,$7=RK,$q=0,Qq=0,AM=0,k9=0,x2=0,ez=null,K4=null,CT=!1,VM=0,E70=300,PT=1/0,L70=500,$A=null,Jq=null,Qb0=0,Jb0=1,Kb0=2,c2=0,h70=1,v70=2,S70=3,Yb0=4,RM=5,A8=0,Kq=null,VU=null,Yq=0,GM=0,wM=null,_70=null,qb0=50,QA=0,OM=null,TM=!1,kT=!1,Zb0=50,u2=0,JA=null,RU=!1,jT=null,f70=!1,I70=new Set,Xb0={},ET=null,GU=null,DM=!1,CM=!1,LT=!1,PM=!1,m2=0,kM={};(function(){for(var U=0;U<mI.length;U++){var N=mI[U],V=N.toLowerCase();N=N[0].toUpperCase()+N.slice(1),V$(V,"on"+N)}V$(G60,"onAnimationEnd"),V$(w60,"onAnimationIteration"),V$(O60,"onAnimationStart"),V$("dblclick","onDoubleClick"),V$("focusin","onFocus"),V$("focusout","onBlur"),V$(yM0,"onTransitionRun"),V$(xM0,"onTransitionStart"),V$(cM0,"onTransitionCancel"),V$(T60,"onTransitionEnd")})(),W5("onMouseEnter",["mouseout","mouseover"]),W5("onMouseLeave",["mouseout","mouseover"]),W5("onPointerEnter",["pointerout","pointerover"]),W5("onPointerLeave",["pointerout","pointerover"]),C1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),C1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),C1("onBeforeInput",["compositionend","keypress","textInput","paste"]),C1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),C1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),C1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var KA="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(KA)),hT="_reactListening"+Math.random().toString(36).slice(2),M70=!1,b70=!1,vT=!1,g70=!1,ST=!1,_T=!1,y70=!1,fT={},Wb0=/\r\n?/g,Fb0=/\u0000|\uFFFD/g,p2="http://www.w3.org/1999/xlink",EM="http://www.w3.org/XML/1998/namespace",Ub0="javascript:throw new Error('React form unexpectedly submitted.')",Hb0="suppressHydrationWarning",IT="$",MT="/$",GK="$?",YA="$!",Nb0=1,Bb0=2,zb0=4,LM="F!",x70="F",c70="complete",Ab0="style",wK=0,wU=1,bT=2,hM=null,vM=null,u70={dialog:!0,webview:!0},SM=null,m70=typeof setTimeout==="function"?setTimeout:void 0,Vb0=typeof clearTimeout==="function"?clearTimeout:void 0,d2=-1,p70=typeof Promise==="function"?Promise:void 0,Rb0=typeof queueMicrotask==="function"?queueMicrotask:typeof p70<"u"?function(U){return p70.resolve(null).then(U).catch(KI0)}:m70,_M=null,n2=0,qA=1,d70=2,n70=3,B3=4,z3=new Map,l70=new Set,OK=r5.d;r5.d={f:function(){var U=OK.f(),N=SF();return U||N},r:function(U){var N=p(U);N!==null&&N.tag===5&&N.type==="form"?C00(N):OK.r(U)},D:function(U){OK.D(U),N50("dns-prefetch",U,null)},C:function(U,N){OK.C(U,N),N50("preconnect",U,N)},L:function(U,N,V){OK.L(U,N,V);var O=OU;if(O&&U&&N){var C='link[rel="preload"][as="'+Q3(N)+'"]';N==="image"?V&&V.imageSrcSet?(C+='[imagesrcset="'+Q3(V.imageSrcSet)+'"]',typeof V.imageSizes==="string"&&(C+='[imagesizes="'+Q3(V.imageSizes)+'"]')):C+='[href="'+Q3(U)+'"]':C+='[href="'+Q3(U)+'"]';var k=C;switch(N){case"style":k=MF(U);break;case"script":k=bF(U)}z3.has(k)||(U=G5({rel:"preload",href:N==="image"&&V&&V.imageSrcSet?void 0:U,as:N},V),z3.set(k,U),O.querySelector(C)!==null||N==="style"&&O.querySelector(Gz(k))||N==="script"&&O.querySelector(wz(k))||(N=O.createElement("link"),H8(N,"link",U),i0(N),O.head.appendChild(N)))}},m:function(U,N){OK.m(U,N);var V=OU;if(V&&U){var O=N&&typeof N.as==="string"?N.as:"script",C='link[rel="modulepreload"][as="'+Q3(O)+'"][href="'+Q3(U)+'"]',k=C;switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=bF(U)}if(!z3.has(k)&&(U=G5({rel:"modulepreload",href:U},N),z3.set(k,U),V.querySelector(C)===null)){switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(V.querySelector(wz(k)))return}O=V.createElement("link"),H8(O,"link",U),i0(O),V.head.appendChild(O)}}},X:function(U,N){OK.X(U,N);var V=OU;if(V&&U){var O=s0(V).hoistableScripts,C=bF(U),k=O.get(C);k||(k=V.querySelector(wz(C)),k||(U=G5({src:U,async:!0},N),(N=z3.get(C))&&ZI(U,N),k=V.createElement("script"),i0(k),H8(k,"link",U),V.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},O.set(C,k))}},S:function(U,N,V){OK.S(U,N,V);var O=OU;if(O&&U){var C=s0(O).hoistableStyles,k=MF(U);N=N||"default";var f=C.get(k);if(!f){var g={loading:n2,preload:null};if(f=O.querySelector(Gz(k)))g.loading=qA|B3;else{U=G5({rel:"stylesheet",href:U,"data-precedence":N},V),(V=z3.get(k))&&qI(U,V);var d=f=O.createElement("link");i0(d),H8(d,"link",U),d._p=new Promise(function(r,A0){d.onload=r,d.onerror=A0}),d.addEventListener("load",function(){g.loading|=qA}),d.addEventListener("error",function(){g.loading|=d70}),g.loading|=B3,dO(f,N,O)}f={type:"stylesheet",instance:f,count:1,state:g},C.set(k,f)}}},M:function(U,N){OK.M(U,N);var V=OU;if(V&&U){var O=s0(V).hoistableScripts,C=bF(U),k=O.get(C);k||(k=V.querySelector(wz(C)),k||(U=G5({src:U,async:!0,type:"module"},N),(N=z3.get(C))&&ZI(U,N),k=V.createElement("script"),i0(k),H8(k,"link",U),V.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},O.set(C,k))}}};var OU=typeof document>"u"?null:document,gT=null,ZA=null,fM=null,yT=null,l2=bI0,XA={$$typeof:vQ,Provider:null,Consumer:null,_currentValue:l2,_currentValue2:l2,_threadCount:0},r70="%c%s%c ",i70="background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px",s70="",xT=" ",Gb0=Function.prototype.bind,o70=!1,a70=null,t70=null,e70=null,$80=null,Q80=null,J80=null,K80=null,Y80=null,q80=null;a70=function(U,N,V,O){N=$(U,N),N!==null&&(V=Q(N.memoizedState,V,0,O),N.memoizedState=V,N.baseState=V,U.memoizedProps=G5({},U.memoizedProps),V=L4(U,2),V!==null&&V7(V,U,2))},t70=function(U,N,V){N=$(U,N),N!==null&&(V=Y(N.memoizedState,V,0),N.memoizedState=V,N.baseState=V,U.memoizedProps=G5({},U.memoizedProps),V=L4(U,2),V!==null&&V7(V,U,2))},e70=function(U,N,V,O){N=$(U,N),N!==null&&(V=J(N.memoizedState,V,O),N.memoizedState=V,N.baseState=V,U.memoizedProps=G5({},U.memoizedProps),V=L4(U,2),V!==null&&V7(V,U,2))},$80=function(U,N,V){U.pendingProps=Q(U.memoizedProps,N,0,V),U.alternate&&(U.alternate.pendingProps=U.pendingProps),N=L4(U,2),N!==null&&V7(N,U,2)},Q80=function(U,N){U.pendingProps=Y(U.memoizedProps,N,0),U.alternate&&(U.alternate.pendingProps=U.pendingProps),N=L4(U,2),N!==null&&V7(N,U,2)},J80=function(U,N,V){U.pendingProps=J(U.memoizedProps,N,V),U.alternate&&(U.alternate.pendingProps=U.pendingProps),N=L4(U,2),N!==null&&V7(N,U,2)},K80=function(U){var N=L4(U,2);N!==null&&V7(N,U,2)},Y80=function(U){Z=U},q80=function(U){q=U};var cT=!0,uT=null,IM=!1,qq=null,Zq=null,Xq=null,WA=new Map,FA=new Map,Wq=[],wb0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" "),mT=null;if(iO.prototype.render=BI.prototype.render=function(U){var N=this._internalRoot;if(N===null)throw Error("Cannot update an unmounted root.");var V=arguments;typeof V[1]==="function"?console.error("does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):w(V[1])?console.error("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof V[1]<"u"&&console.error("You passed a second argument to root.render(...) but it only accepts one argument."),V=U;var O=N.current,C=w9(O);WI(O,C,V,N,null,null)},iO.prototype.unmount=BI.prototype.unmount=function(){var U=arguments;if(typeof U[0]==="function"&&console.error("does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."),U=this._internalRoot,U!==null){this._internalRoot=null;var N=U.containerInfo;(i5&(J4|P$))!==C9&&console.error("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),WI(U.current,2,null,U,null,null),SF(),N[rY]=null}},iO.prototype.unstable_scheduleHydration=function(U){if(U){var N=F2();U={blockedOn:null,target:U,priority:N};for(var V=0;V<Wq.length&&N!==0&&N<Wq[V].priority;V++);Wq.splice(V,0,U),V===0&&k50(U)}},function(){var U=TU.version;if(U!=="19.1.1")throw Error(`Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:
  - react:      `+(U+`
  - react-dom:  19.1.1
Learn more: https://react.dev/warnings/version-mismatch`))}(),typeof Map==="function"&&Map.prototype!=null&&typeof Map.prototype.forEach==="function"&&typeof Set==="function"&&Set.prototype!=null&&typeof Set.prototype.clear==="function"&&typeof Set.prototype.forEach==="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://react.dev/link/react-polyfills"),r5.findDOMNode=function(U){var N=U._reactInternals;if(N===void 0){if(typeof U.render==="function")throw Error("Unable to find node on an unmounted component.");throw U=Object.keys(U).join(","),Error("Argument appears to not be a ReactComponent. Keys: "+U)}return U=j(N),U=U!==null?E(U):null,U=U===null?null:U.stateNode,U},!function(){var U={bundleType:1,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:D0,reconcilerVersion:"19.1.1"};return U.overrideHookState=a70,U.overrideHookStateDeletePath=t70,U.overrideHookStateRenamePath=e70,U.overrideProps=$80,U.overridePropsDeletePath=Q80,U.overridePropsRenamePath=J80,U.scheduleUpdate=K80,U.setErrorHandler=Y80,U.setSuspenseHandler=q80,U.scheduleRefresh=R,U.scheduleRoot=A,U.setRefreshHandler=G,U.getCurrentFiber=jI0,U.getLaneLabelMap=EI0,U.injectProfilingHooks=h1,J1(U)}()&&MQ&&window.top===window.self&&(-1<navigator.userAgent.indexOf("Chrome")&&navigator.userAgent.indexOf("Edge")===-1||-1<navigator.userAgent.indexOf("Firefox"))){var Z80=window.location.protocol;/^(https?|file):$/.test(Z80)&&console.info("%cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools"+(Z80==="file:"?`
You might need to use a local HTTP server (instead of file://): https://react.dev/link/react-devtools-faq`:""),"font-weight:bold")}hb0.createRoot=function(U,N){if(!w(U))throw Error("Target container is not a DOM element.");L50(U);var V=!1,O="",C=f00,k=I00,f=M00,g=null;return N!==null&&N!==void 0&&(N.hydrate?console.warn("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof N==="object"&&N!==null&&N.$$typeof===pY&&console.error(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),N.unstable_strictMode===!0&&(V=!0),N.identifierPrefix!==void 0&&(O=N.identifierPrefix),N.onUncaughtError!==void 0&&(C=N.onUncaughtError),N.onCaughtError!==void 0&&(k=N.onCaughtError),N.onRecoverableError!==void 0&&(f=N.onRecoverableError),N.unstable_transitionCallbacks!==void 0&&(g=N.unstable_transitionCallbacks)),N=w50(U,1,!1,null,null,V,O,C,k,f,g,null),U[rY]=N.current,sf(U),new BI(N)},hb0.hydrateRoot=function(U,N,V){if(!w(U))throw Error("Target container is not a DOM element.");L50(U),N===void 0&&console.error("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var O=!1,C="",k=f00,f=I00,g=M00,d=null,r=null;return V!==null&&V!==void 0&&(V.unstable_strictMode===!0&&(O=!0),V.identifierPrefix!==void 0&&(C=V.identifierPrefix),V.onUncaughtError!==void 0&&(k=V.onUncaughtError),V.onCaughtError!==void 0&&(f=V.onCaughtError),V.onRecoverableError!==void 0&&(g=V.onRecoverableError),V.unstable_transitionCallbacks!==void 0&&(d=V.unstable_transitionCallbacks),V.formState!==void 0&&(r=V.formState)),N=w50(U,1,!0,N,V!=null?V:null,O,C,k,f,g,d,r),N.context=O50(null),V=N.current,O=w9(V),O=wF(O),C=MY(O),C.callback=null,bY(V,C,O),V=O,N.current.lanes=V,_Y(N,V),LQ(N),U[rY]=N.current,sf(U),new iO(N)},hb0.version="19.1.1",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var V80=w0((Yw1,A80)=>{var vb0=x1(z80(),1);A80.exports=vb0});var M4={};r2(M4,{default:()=>Ib0,__values:()=>nT,__spreadArrays:()=>S80,__spreadArray:()=>_80,__spread:()=>v80,__setFunctionName:()=>k80,__runInitializers:()=>C80,__rewriteRelativeImportExtension:()=>d80,__rest:()=>w80,__read:()=>xM,__propKey:()=>P80,__param:()=>T80,__metadata:()=>j80,__makeTemplateObject:()=>b80,__importStar:()=>g80,__importDefault:()=>y80,__generator:()=>L80,__extends:()=>G80,__exportStar:()=>h80,__esDecorate:()=>D80,__disposeResources:()=>p80,__decorate:()=>O80,__createBinding:()=>lT,__classPrivateFieldSet:()=>c80,__classPrivateFieldIn:()=>u80,__classPrivateFieldGet:()=>x80,__awaiter:()=>E80,__await:()=>DU,__asyncValues:()=>M80,__asyncGenerator:()=>f80,__asyncDelegator:()=>I80,__assign:()=>dT,__addDisposableResource:()=>m80});function G80($,Q){if(typeof Q!=="function"&&Q!==null)throw TypeError("Class extends value "+String(Q)+" is not a constructor or null");gM($,Q);function J(){this.constructor=$}$.prototype=Q===null?Object.create(Q):(J.prototype=Q.prototype,new J)}function w80($,Q){var J={};for(var K in $)if(Object.prototype.hasOwnProperty.call($,K)&&Q.indexOf(K)<0)J[K]=$[K];if($!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var Y=0,K=Object.getOwnPropertySymbols($);Y<K.length;Y++)if(Q.indexOf(K[Y])<0&&Object.prototype.propertyIsEnumerable.call($,K[Y]))J[K[Y]]=$[K[Y]]}return J}function O80($,Q,J,K){var Y=arguments.length,q=Y<3?Q:K===null?K=Object.getOwnPropertyDescriptor(Q,J):K,Z;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")q=Reflect.decorate($,Q,J,K);else for(var X=$.length-1;X>=0;X--)if(Z=$[X])q=(Y<3?Z(q):Y>3?Z(Q,J,q):Z(Q,J))||q;return Y>3&&q&&Object.defineProperty(Q,J,q),q}function T80($,Q){return function(J,K){Q(J,K,$)}}function D80($,Q,J,K,Y,q){function Z(T){if(T!==void 0&&typeof T!=="function")throw TypeError("Function expected");return T}var X=K.kind,W=X==="getter"?"get":X==="setter"?"set":"value",F=!Q&&$?K.static?$:$.prototype:null,H=Q||(F?Object.getOwnPropertyDescriptor(F,K.name):{}),B,z=!1;for(var A=J.length-1;A>=0;A--){var R={};for(var G in K)R[G]=G==="access"?{}:K[G];for(var G in K.access)R.access[G]=K.access[G];R.addInitializer=function(T){if(z)throw TypeError("Cannot add initializers after decoration has completed");q.push(Z(T||null))};var w=(0,J[A])(X==="accessor"?{get:H.get,set:H.set}:H[W],R);if(X==="accessor"){if(w===void 0)continue;if(w===null||typeof w!=="object")throw TypeError("Object expected");if(B=Z(w.get))H.get=B;if(B=Z(w.set))H.set=B;if(B=Z(w.init))Y.unshift(B)}else if(B=Z(w))if(X==="field")Y.unshift(B);else H[W]=B}if(F)Object.defineProperty(F,K.name,H);z=!0}function C80($,Q,J){var K=arguments.length>2;for(var Y=0;Y<Q.length;Y++)J=K?Q[Y].call($,J):Q[Y].call($);return K?J:void 0}function P80($){return typeof $==="symbol"?$:"".concat($)}function k80($,Q,J){if(typeof Q==="symbol")Q=Q.description?"[".concat(Q.description,"]"):"";return Object.defineProperty($,"name",{configurable:!0,value:J?"".concat(J," ",Q):Q})}function j80($,Q){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata($,Q)}function E80($,Q,J,K){function Y(q){return q instanceof J?q:new J(function(Z){Z(q)})}return new(J||(J=Promise))(function(q,Z){function X(H){try{F(K.next(H))}catch(B){Z(B)}}function W(H){try{F(K.throw(H))}catch(B){Z(B)}}function F(H){H.done?q(H.value):Y(H.value).then(X,W)}F((K=K.apply($,Q||[])).next())})}function L80($,Q){var J={label:0,sent:function(){if(q[0]&1)throw q[1];return q[1]},trys:[],ops:[]},K,Y,q,Z=Object.create((typeof Iterator==="function"?Iterator:Object).prototype);return Z.next=X(0),Z.throw=X(1),Z.return=X(2),typeof Symbol==="function"&&(Z[Symbol.iterator]=function(){return this}),Z;function X(F){return function(H){return W([F,H])}}function W(F){if(K)throw TypeError("Generator is already executing.");while(Z&&(Z=0,F[0]&&(J=0)),J)try{if(K=1,Y&&(q=F[0]&2?Y.return:F[0]?Y.throw||((q=Y.return)&&q.call(Y),0):Y.next)&&!(q=q.call(Y,F[1])).done)return q;if(Y=0,q)F=[F[0]&2,q.value];switch(F[0]){case 0:case 1:q=F;break;case 4:return J.label++,{value:F[1],done:!1};case 5:J.label++,Y=F[1],F=[0];continue;case 7:F=J.ops.pop(),J.trys.pop();continue;default:if((q=J.trys,!(q=q.length>0&&q[q.length-1]))&&(F[0]===6||F[0]===2)){J=0;continue}if(F[0]===3&&(!q||F[1]>q[0]&&F[1]<q[3])){J.label=F[1];break}if(F[0]===6&&J.label<q[1]){J.label=q[1],q=F;break}if(q&&J.label<q[2]){J.label=q[2],J.ops.push(F);break}if(q[2])J.ops.pop();J.trys.pop();continue}F=Q.call($,J)}catch(H){F=[6,H],Y=0}finally{K=q=0}if(F[0]&5)throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}}function h80($,Q){for(var J in $)if(J!=="default"&&!Object.prototype.hasOwnProperty.call(Q,J))lT(Q,$,J)}function nT($){var Q=typeof Symbol==="function"&&Symbol.iterator,J=Q&&$[Q],K=0;if(J)return J.call($);if($&&typeof $.length==="number")return{next:function(){if($&&K>=$.length)$=void 0;return{value:$&&$[K++],done:!$}}};throw TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}function xM($,Q){var J=typeof Symbol==="function"&&$[Symbol.iterator];if(!J)return $;var K=J.call($),Y,q=[],Z;try{while((Q===void 0||Q-- >0)&&!(Y=K.next()).done)q.push(Y.value)}catch(X){Z={error:X}}finally{try{if(Y&&!Y.done&&(J=K.return))J.call(K)}finally{if(Z)throw Z.error}}return q}function v80(){for(var $=[],Q=0;Q<arguments.length;Q++)$=$.concat(xM(arguments[Q]));return $}function S80(){for(var $=0,Q=0,J=arguments.length;Q<J;Q++)$+=arguments[Q].length;for(var K=Array($),Y=0,Q=0;Q<J;Q++)for(var q=arguments[Q],Z=0,X=q.length;Z<X;Z++,Y++)K[Y]=q[Z];return K}function _80($,Q,J){if(J||arguments.length===2){for(var K=0,Y=Q.length,q;K<Y;K++)if(q||!(K in Q)){if(!q)q=Array.prototype.slice.call(Q,0,K);q[K]=Q[K]}}return $.concat(q||Array.prototype.slice.call(Q))}function DU($){return this instanceof DU?(this.v=$,this):new DU($)}function f80($,Q,J){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var K=J.apply($,Q||[]),Y,q=[];return Y=Object.create((typeof AsyncIterator==="function"?AsyncIterator:Object).prototype),X("next"),X("throw"),X("return",Z),Y[Symbol.asyncIterator]=function(){return this},Y;function Z(A){return function(R){return Promise.resolve(R).then(A,B)}}function X(A,R){if(K[A]){if(Y[A]=function(G){return new Promise(function(w,T){q.push([A,G,w,T])>1||W(A,G)})},R)Y[A]=R(Y[A])}}function W(A,R){try{F(K[A](R))}catch(G){z(q[0][3],G)}}function F(A){A.value instanceof DU?Promise.resolve(A.value.v).then(H,B):z(q[0][2],A)}function H(A){W("next",A)}function B(A){W("throw",A)}function z(A,R){if(A(R),q.shift(),q.length)W(q[0][0],q[0][1])}}function I80($){var Q,J;return Q={},K("next"),K("throw",function(Y){throw Y}),K("return"),Q[Symbol.iterator]=function(){return this},Q;function K(Y,q){Q[Y]=$[Y]?function(Z){return(J=!J)?{value:DU($[Y](Z)),done:!1}:q?q(Z):Z}:q}}function M80($){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var Q=$[Symbol.asyncIterator],J;return Q?Q.call($):($=typeof nT==="function"?nT($):$[Symbol.iterator](),J={},K("next"),K("throw"),K("return"),J[Symbol.asyncIterator]=function(){return this},J);function K(q){J[q]=$[q]&&function(Z){return new Promise(function(X,W){Z=$[q](Z),Y(X,W,Z.done,Z.value)})}}function Y(q,Z,X,W){Promise.resolve(W).then(function(F){q({value:F,done:X})},Z)}}function b80($,Q){if(Object.defineProperty)Object.defineProperty($,"raw",{value:Q});else $.raw=Q;return $}function g80($){if($&&$.__esModule)return $;var Q={};if($!=null){for(var J=yM($),K=0;K<J.length;K++)if(J[K]!=="default")lT(Q,$,J[K])}return _b0(Q,$),Q}function y80($){return $&&$.__esModule?$:{default:$}}function x80($,Q,J,K){if(J==="a"&&!K)throw TypeError("Private accessor was defined without a getter");if(typeof Q==="function"?$!==Q||!K:!Q.has($))throw TypeError("Cannot read private member from an object whose class did not declare it");return J==="m"?K:J==="a"?K.call($):K?K.value:Q.get($)}function c80($,Q,J,K,Y){if(K==="m")throw TypeError("Private method is not writable");if(K==="a"&&!Y)throw TypeError("Private accessor was defined without a setter");if(typeof Q==="function"?$!==Q||!Y:!Q.has($))throw TypeError("Cannot write private member to an object whose class did not declare it");return K==="a"?Y.call($,J):Y?Y.value=J:Q.set($,J),J}function u80($,Q){if(Q===null||typeof Q!=="object"&&typeof Q!=="function")throw TypeError("Cannot use 'in' operator on non-object");return typeof $==="function"?Q===$:$.has(Q)}function m80($,Q,J){if(Q!==null&&Q!==void 0){if(typeof Q!=="object"&&typeof Q!=="function")throw TypeError("Object expected.");var K,Y;if(J){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");K=Q[Symbol.asyncDispose]}if(K===void 0){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");if(K=Q[Symbol.dispose],J)Y=K}if(typeof K!=="function")throw TypeError("Object not disposable.");if(Y)K=function(){try{Y.call(this)}catch(q){return Promise.reject(q)}};$.stack.push({value:Q,dispose:K,async:J})}else if(J)$.stack.push({async:!0});return Q}function p80($){function Q(q){$.error=$.hasError?new fb0(q,$.error,"An error was suppressed during disposal."):q,$.hasError=!0}var J,K=0;function Y(){while(J=$.stack.pop())try{if(!J.async&&K===1)return K=0,$.stack.push(J),Promise.resolve().then(Y);if(J.dispose){var q=J.dispose.call(J.value);if(J.async)return K|=2,Promise.resolve(q).then(Y,function(Z){return Q(Z),Y()})}else K|=1}catch(Z){Q(Z)}if(K===1)return $.hasError?Promise.reject($.error):Promise.resolve();if($.hasError)throw $.error}return Y()}function d80($,Q){if(typeof $==="string"&&/^\.\.?\//.test($))return $.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(J,K,Y,q,Z){return K?Q?".jsx":".js":Y&&(!q||!Z)?J:Y+q+"."+Z.toLowerCase()+"js"});return $}var gM=function($,Q){return gM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,K){J.__proto__=K}||function(J,K){for(var Y in K)if(Object.prototype.hasOwnProperty.call(K,Y))J[Y]=K[Y]},gM($,Q)},dT=function(){return dT=Object.assign||function(Q){for(var J,K=1,Y=arguments.length;K<Y;K++){J=arguments[K];for(var q in J)if(Object.prototype.hasOwnProperty.call(J,q))Q[q]=J[q]}return Q},dT.apply(this,arguments)},lT,_b0,yM=function($){return yM=Object.getOwnPropertyNames||function(Q){var J=[];for(var K in Q)if(Object.prototype.hasOwnProperty.call(Q,K))J[J.length]=K;return J},yM($)},fb0,Ib0;var b4=Pb0(()=>{lT=Object.create?function($,Q,J,K){if(K===void 0)K=J;var Y=Object.getOwnPropertyDescriptor(Q,J);if(!Y||("get"in Y?!Q.__esModule:Y.writable||Y.configurable))Y={enumerable:!0,get:function(){return Q[J]}};Object.defineProperty($,K,Y)}:function($,Q,J,K){if(K===void 0)K=J;$[K]=Q[J]};_b0=Object.create?function($,Q){Object.defineProperty($,"default",{enumerable:!0,value:Q})}:function($,Q){$.default=Q};fb0=typeof SuppressedError==="function"?SuppressedError:function($,Q,J){var K=Error(J);return K.name="SuppressedError",K.error=$,K.suppressed=Q,K};Ib0={__extends:G80,__assign:dT,__rest:w80,__decorate:O80,__param:T80,__esDecorate:D80,__runInitializers:C80,__propKey:P80,__setFunctionName:k80,__metadata:j80,__awaiter:E80,__generator:L80,__createBinding:lT,__exportStar:h80,__values:nT,__read:xM,__spread:v80,__spreadArrays:S80,__spreadArray:_80,__await:DU,__asyncGenerator:f80,__asyncDelegator:I80,__asyncValues:M80,__makeTemplateObject:b80,__importStar:g80,__importDefault:y80,__classPrivateFieldGet:x80,__classPrivateFieldSet:c80,__classPrivateFieldIn:u80,__addDisposableResource:m80,__disposeResources:p80,__rewriteRelativeImportExtension:d80}});var Fq=w0((n80)=>{Object.defineProperty(n80,"__esModule",{value:!0});n80.encodeUtf8=n80.decodeUtf8=void 0;var Mb0=new TextDecoder("utf-8"),bb0=($)=>Mb0.decode($);n80.decodeUtf8=bb0;var gb0=new TextEncoder,yb0=($)=>gb0.encode($);n80.encodeUtf8=yb0});var Uq=w0((i80)=>{Object.defineProperty(i80,"__esModule",{value:!0});i80.isFlatbuffersByteBuffer=i80.isReadableNodeStream=i80.isWritableNodeStream=i80.isReadableDOMStream=i80.isWritableDOMStream=i80.isFetchResponse=i80.isFSReadStream=i80.isFileHandle=i80.isUnderlyingSink=i80.isIteratorResult=i80.isArrayLike=i80.isArrowJSON=i80.isAsyncIterable=i80.isIterable=i80.isObservable=i80.isPromise=i80.isObject=void 0;var cM=($)=>typeof $==="number",r80=($)=>typeof $==="boolean",g6=($)=>typeof $==="function",cb0=($)=>$!=null&&Object($)===$;i80.isObject=cb0;var ub0=($)=>{return i80.isObject($)&&g6($.then)};i80.isPromise=ub0;var mb0=($)=>{return i80.isObject($)&&g6($.subscribe)};i80.isObservable=mb0;var pb0=($)=>{return i80.isObject($)&&g6($[Symbol.iterator])};i80.isIterable=pb0;var db0=($)=>{return i80.isObject($)&&g6($[Symbol.asyncIterator])};i80.isAsyncIterable=db0;var nb0=($)=>{return i80.isObject($)&&i80.isObject($.schema)};i80.isArrowJSON=nb0;var lb0=($)=>{return i80.isObject($)&&cM($.length)};i80.isArrayLike=lb0;var rb0=($)=>{return i80.isObject($)&&"done"in $&&"value"in $};i80.isIteratorResult=rb0;var ib0=($)=>{return i80.isObject($)&&g6($.abort)&&g6($.close)&&g6($.start)&&g6($.write)};i80.isUnderlyingSink=ib0;var sb0=($)=>{return i80.isObject($)&&g6($.stat)&&cM($.fd)};i80.isFileHandle=sb0;var ob0=($)=>{return i80.isReadableNodeStream($)&&cM($.bytesRead)};i80.isFSReadStream=ob0;var ab0=($)=>{return i80.isObject($)&&i80.isReadableDOMStream($.body)};i80.isFetchResponse=ab0;var rT=($)=>("_getDOMStream"in $)&&("_getNodeStream"in $),tb0=($)=>{return i80.isObject($)&&g6($.abort)&&g6($.getWriter)&&!rT($)};i80.isWritableDOMStream=tb0;var eb0=($)=>{return i80.isObject($)&&g6($.cancel)&&g6($.getReader)&&!rT($)};i80.isReadableDOMStream=eb0;var $g0=($)=>{return i80.isObject($)&&g6($.end)&&g6($.write)&&r80($.writable)&&!rT($)};i80.isWritableNodeStream=$g0;var Qg0=($)=>{return i80.isObject($)&&g6($.read)&&g6($.pipe)&&r80($.readable)&&!rT($)};i80.isReadableNodeStream=Qg0;var Jg0=($)=>{return i80.isObject($)&&g6($.clear)&&g6($.bytes)&&g6($.position)&&g6($.setPosition)&&g6($.capacity)&&g6($.getBufferIdentifier)&&g6($.createLong)};i80.isFlatbuffersByteBuffer=Jg0});var t7=w0((t80)=>{Object.defineProperty(t80,"__esModule",{value:!0});t80.compareArrayLike=t80.rebaseValueOffsets=t80.toUint8ClampedArrayAsyncIterator=t80.toFloat64ArrayAsyncIterator=t80.toFloat32ArrayAsyncIterator=t80.toUint32ArrayAsyncIterator=t80.toUint16ArrayAsyncIterator=t80.toUint8ArrayAsyncIterator=t80.toInt32ArrayAsyncIterator=t80.toInt16ArrayAsyncIterator=t80.toInt8ArrayAsyncIterator=t80.toArrayBufferViewAsyncIterator=t80.toUint8ClampedArrayIterator=t80.toFloat64ArrayIterator=t80.toFloat32ArrayIterator=t80.toUint32ArrayIterator=t80.toUint16ArrayIterator=t80.toUint8ArrayIterator=t80.toInt32ArrayIterator=t80.toInt16ArrayIterator=t80.toInt8ArrayIterator=t80.toArrayBufferViewIterator=t80.toUint8ClampedArray=t80.toFloat64Array=t80.toFloat32Array=t80.toBigUint64Array=t80.toUint32Array=t80.toUint16Array=t80.toUint8Array=t80.toBigInt64Array=t80.toInt32Array=t80.toInt16Array=t80.toInt8Array=t80.toArrayBufferView=t80.joinUint8Arrays=t80.memcpy=void 0;var j7=(b4(),j9(M4)),Vg0=Fq(),CU=Uq(),pM=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function Rg0($){let Q=$[0]?[$[0]]:[],J,K,Y,q;for(let Z,X,W=0,F=0,H=$.length;++W<H;){if(Z=Q[F],X=$[W],!Z||!X||Z.buffer!==X.buffer||X.byteOffset<Z.byteOffset){X&&(Q[++F]=X);continue}if({byteOffset:J,byteLength:Y}=Z,{byteOffset:K,byteLength:q}=X,J+Y<K||K+q<J){X&&(Q[++F]=X);continue}Q[F]=new Uint8Array(Z.buffer,J,K-J+q)}return Q}function uM($,Q,J=0,K=Q.byteLength){let Y=$.byteLength,q=new Uint8Array($.buffer,$.byteOffset,Y),Z=new Uint8Array(Q.buffer,Q.byteOffset,Math.min(K,Y));return q.set(Z,J),$}t80.memcpy=uM;function Gg0($,Q){let J=Rg0($),K=J.reduce((H,B)=>H+B.byteLength,0),Y,q,Z,X=0,W=-1,F=Math.min(Q||Number.POSITIVE_INFINITY,K);for(let H=J.length;++W<H;){if(Y=J[W],q=Y.subarray(0,Math.min(Y.length,F-X)),F<=X+q.length){if(q.length<Y.length)J[W]=Y.subarray(q.length);else if(q.length===Y.length)W++;Z?uM(Z,q,X):Z=q;break}uM(Z||(Z=new Uint8Array(F)),q,X),X+=q.length}return[Z||new Uint8Array(0),J.slice(W),K-(Z?Z.byteLength:0)]}t80.joinUint8Arrays=Gg0;function Y4($,Q){let J=(0,CU.isIteratorResult)(Q)?Q.value:Q;if(J instanceof $){if($===Uint8Array)return new $(J.buffer,J.byteOffset,J.byteLength);return J}if(!J)return new $(0);if(typeof J==="string")J=(0,Vg0.encodeUtf8)(J);if(J instanceof ArrayBuffer)return new $(J);if(J instanceof pM)return new $(J);if((0,CU.isFlatbuffersByteBuffer)(J))return Y4($,J.bytes());return!ArrayBuffer.isView(J)?$.from(J):J.byteLength<=0?new $(0):new $(J.buffer,J.byteOffset,J.byteLength/$.BYTES_PER_ELEMENT)}t80.toArrayBufferView=Y4;var wg0=($)=>Y4(Int8Array,$);t80.toInt8Array=wg0;var Og0=($)=>Y4(Int16Array,$);t80.toInt16Array=Og0;var Tg0=($)=>Y4(Int32Array,$);t80.toInt32Array=Tg0;var Dg0=($)=>Y4(BigInt64Array,$);t80.toBigInt64Array=Dg0;var Cg0=($)=>Y4(Uint8Array,$);t80.toUint8Array=Cg0;var Pg0=($)=>Y4(Uint16Array,$);t80.toUint16Array=Pg0;var kg0=($)=>Y4(Uint32Array,$);t80.toUint32Array=kg0;var jg0=($)=>Y4(BigUint64Array,$);t80.toBigUint64Array=jg0;var Eg0=($)=>Y4(Float32Array,$);t80.toFloat32Array=Eg0;var Lg0=($)=>Y4(Float64Array,$);t80.toFloat64Array=Lg0;var hg0=($)=>Y4(Uint8ClampedArray,$);t80.toUint8ClampedArray=hg0;var mM=($)=>{return $.next(),$};function*cQ($,Q){let J=function*(Y){yield Y},K=typeof Q==="string"?J(Q):ArrayBuffer.isView(Q)?J(Q):Q instanceof ArrayBuffer?J(Q):Q instanceof pM?J(Q):!(0,CU.isIterable)(Q)?J(Q):Q;return yield*mM(function*(Y){let q=null;do q=Y.next(yield Y4($,q));while(!q.done)}(K[Symbol.iterator]())),new $}t80.toArrayBufferViewIterator=cQ;var vg0=($)=>cQ(Int8Array,$);t80.toInt8ArrayIterator=vg0;var Sg0=($)=>cQ(Int16Array,$);t80.toInt16ArrayIterator=Sg0;var _g0=($)=>cQ(Int32Array,$);t80.toInt32ArrayIterator=_g0;var fg0=($)=>cQ(Uint8Array,$);t80.toUint8ArrayIterator=fg0;var Ig0=($)=>cQ(Uint16Array,$);t80.toUint16ArrayIterator=Ig0;var Mg0=($)=>cQ(Uint32Array,$);t80.toUint32ArrayIterator=Mg0;var bg0=($)=>cQ(Float32Array,$);t80.toFloat32ArrayIterator=bg0;var gg0=($)=>cQ(Float64Array,$);t80.toFloat64ArrayIterator=gg0;var yg0=($)=>cQ(Uint8ClampedArray,$);t80.toUint8ClampedArrayIterator=yg0;function k$($,Q){return j7.__asyncGenerator(this,arguments,function*(){if((0,CU.isPromise)(Q))return yield j7.__await(yield j7.__await(yield*j7.__asyncDelegator(j7.__asyncValues(k$($,yield j7.__await(Q))))));let K=function(Z){return j7.__asyncGenerator(this,arguments,function*(){yield yield j7.__await(yield j7.__await(Z))})},Y=function(Z){return j7.__asyncGenerator(this,arguments,function*(){yield j7.__await(yield*j7.__asyncDelegator(j7.__asyncValues(mM(function*(X){let W=null;do W=X.next(yield W===null||W===void 0?void 0:W.value);while(!W.done)}(Z[Symbol.iterator]())))))})},q=typeof Q==="string"?K(Q):ArrayBuffer.isView(Q)?K(Q):Q instanceof ArrayBuffer?K(Q):Q instanceof pM?K(Q):(0,CU.isIterable)(Q)?Y(Q):!(0,CU.isAsyncIterable)(Q)?K(Q):Q;return yield j7.__await(yield*j7.__asyncDelegator(j7.__asyncValues(mM(function(Z){return j7.__asyncGenerator(this,arguments,function*(){let X=null;do X=yield j7.__await(Z.next(yield yield j7.__await(Y4($,X))));while(!X.done)})}(q[Symbol.asyncIterator]()))))),yield j7.__await(new $)})}t80.toArrayBufferViewAsyncIterator=k$;var xg0=($)=>k$(Int8Array,$);t80.toInt8ArrayAsyncIterator=xg0;var cg0=($)=>k$(Int16Array,$);t80.toInt16ArrayAsyncIterator=cg0;var ug0=($)=>k$(Int32Array,$);t80.toInt32ArrayAsyncIterator=ug0;var mg0=($)=>k$(Uint8Array,$);t80.toUint8ArrayAsyncIterator=mg0;var pg0=($)=>k$(Uint16Array,$);t80.toUint16ArrayAsyncIterator=pg0;var dg0=($)=>k$(Uint32Array,$);t80.toUint32ArrayAsyncIterator=dg0;var ng0=($)=>k$(Float32Array,$);t80.toFloat32ArrayAsyncIterator=ng0;var lg0=($)=>k$(Float64Array,$);t80.toFloat64ArrayAsyncIterator=lg0;var rg0=($)=>k$(Uint8ClampedArray,$);t80.toUint8ClampedArrayAsyncIterator=rg0;function ig0($,Q,J){if($!==0){J=J.slice(0,Q);for(let K=-1,Y=J.length;++K<Y;)J[K]+=$}return J.subarray(0,Q)}t80.rebaseValueOffsets=ig0;function sg0($,Q){let J=0,K=$.length;if(K!==Q.length)return!1;if(K>0)do if($[J]!==Q[J])return!1;while(++J<K);return!0}t80.compareArrayLike=sg0});var HA=w0((Q40)=>{Object.defineProperty(Q40,"__esModule",{value:!0});var L6=(b4(),j9(M4)),q4=t7();Q40.default={fromIterable($){return iT(Sy0($))},fromAsyncIterable($){return iT(_y0($))},fromDOMStream($){return iT(fy0($))},fromNodeStream($){return iT(Iy0($))},toDOMStream($,Q){throw Error('"toDOMStream" not available in this environment')},toNodeStream($,Q){throw Error('"toNodeStream" not available in this environment')}};var iT=($)=>{return $.next(),$};function*Sy0($){let Q,J=!1,K=[],Y,q,Z,X=0;function W(){if(q==="peek")return(0,q4.joinUint8Arrays)(K,Z)[0];return[Y,K,X]=(0,q4.joinUint8Arrays)(K,Z),Y}({cmd:q,size:Z}=(yield(()=>null)())||{cmd:"read",size:0});let F=(0,q4.toUint8ArrayIterator)($)[Symbol.iterator]();try{do{if({done:Q,value:Y}=Number.isNaN(Z-X)?F.next():F.next(Z-X),!Q&&Y.byteLength>0)K.push(Y),X+=Y.byteLength;if(Q||Z<=X)do({cmd:q,size:Z}=yield W());while(Z<X)}while(!Q)}catch(H){(J=!0)&&typeof F.throw==="function"&&F.throw(H)}finally{J===!1&&typeof F.return==="function"&&F.return(null)}return null}function _y0($){return L6.__asyncGenerator(this,arguments,function*(){let J,K=!1,Y=[],q,Z,X,W=0;function F(){if(Z==="peek")return(0,q4.joinUint8Arrays)(Y,X)[0];return[q,Y,W]=(0,q4.joinUint8Arrays)(Y,X),q}({cmd:Z,size:X}=(yield yield L6.__await((()=>null)()))||{cmd:"read",size:0});let H=(0,q4.toUint8ArrayAsyncIterator)($)[Symbol.asyncIterator]();try{do{if({done:J,value:q}=Number.isNaN(X-W)?yield L6.__await(H.next()):yield L6.__await(H.next(X-W)),!J&&q.byteLength>0)Y.push(q),W+=q.byteLength;if(J||X<=W)do({cmd:Z,size:X}=yield yield L6.__await(F()));while(X<W)}while(!J)}catch(B){(K=!0)&&typeof H.throw==="function"&&(yield L6.__await(H.throw(B)))}finally{K===!1&&typeof H.return==="function"&&(yield L6.__await(H.return(new Uint8Array(0))))}return yield L6.__await(null)})}function fy0($){return L6.__asyncGenerator(this,arguments,function*(){let J=!1,K=!1,Y=[],q,Z,X,W=0;function F(){if(Z==="peek")return(0,q4.joinUint8Arrays)(Y,X)[0];return[q,Y,W]=(0,q4.joinUint8Arrays)(Y,X),q}({cmd:Z,size:X}=(yield yield L6.__await((()=>null)()))||{cmd:"read",size:0});let H=new $40($);try{do{if({done:J,value:q}=Number.isNaN(X-W)?yield L6.__await(H.read()):yield L6.__await(H.read(X-W)),!J&&q.byteLength>0)Y.push((0,q4.toUint8Array)(q)),W+=q.byteLength;if(J||X<=W)do({cmd:Z,size:X}=yield yield L6.__await(F()));while(X<W)}while(!J)}catch(B){(K=!0)&&(yield L6.__await(H.cancel(B)))}finally{K===!1?yield L6.__await(H.cancel()):$.locked&&H.releaseLock()}return yield L6.__await(null)})}class $40{constructor($){this.source=$,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){if(this.reader)this.reader.releaseLock();this.reader=null}cancel($){return L6.__awaiter(this,void 0,void 0,function*(){let{reader:Q,source:J}=this;Q&&(yield Q.cancel($).catch(()=>{})),J&&(J.locked&&this.releaseLock())})}read($){return L6.__awaiter(this,void 0,void 0,function*(){if($===0)return{done:this.reader==null,value:new Uint8Array(0)};let Q=yield this.reader.read();return!Q.done&&(Q.value=(0,q4.toUint8Array)(Q)),Q})}}var dM=($,Q)=>{let J=(Y)=>K([Q,Y]),K;return[Q,J,new Promise((Y)=>(K=Y)&&$.once(Q,J))]};function Iy0($){return L6.__asyncGenerator(this,arguments,function*(){let J=[],K="error",Y=!1,q=null,Z,X,W=0,F=[],H;function B(){if(Z==="peek")return(0,q4.joinUint8Arrays)(F,X)[0];return[H,F,W]=(0,q4.joinUint8Arrays)(F,X),H}if({cmd:Z,size:X}=(yield yield L6.__await((()=>null)()))||{cmd:"read",size:0},$.isTTY)return yield yield L6.__await(new Uint8Array(0)),yield L6.__await(null);try{J[0]=dM($,"end"),J[1]=dM($,"error");do{if(J[2]=dM($,"readable"),[K,q]=yield L6.__await(Promise.race(J.map((A)=>A[2]))),K==="error")break;if(!(Y=K==="end")){if(!Number.isFinite(X-W))H=(0,q4.toUint8Array)($.read());else if(H=(0,q4.toUint8Array)($.read(X-W)),H.byteLength<X-W)H=(0,q4.toUint8Array)($.read());if(H.byteLength>0)F.push(H),W+=H.byteLength}if(Y||X<=W)do({cmd:Z,size:X}=yield yield L6.__await(B()));while(X<W)}while(!Y)}finally{yield L6.__await(z(J,K==="error"?q:null))}return yield L6.__await(null);function z(A,R){return H=F=null,new Promise((G,w)=>{for(let[T,D]of A)$.off(T,D);try{let T=$.destroy;T&&T.call($,R),R=void 0}catch(T){R=T||R}finally{R!=null?w(R):G()}})}})}});var sT=w0((K40)=>{Object.defineProperty(K40,"__esModule",{value:!0});K40.MetadataVersion=void 0;var J40;(function($){$[$.V1=0]="V1",$[$.V2=1]="V2",$[$.V3=2]="V3",$[$.V4=3]="V4",$[$.V5=4]="V5"})(J40||(K40.MetadataVersion=J40={}))});var nM=w0((Z40)=>{Object.defineProperty(Z40,"__esModule",{value:!0});Z40.UnionMode=void 0;var q40;(function($){$[$.Sparse=0]="Sparse",$[$.Dense=1]="Dense"})(q40||(Z40.UnionMode=q40={}))});var lM=w0((F40)=>{Object.defineProperty(F40,"__esModule",{value:!0});F40.Precision=void 0;var W40;(function($){$[$.HALF=0]="HALF",$[$.SINGLE=1]="SINGLE",$[$.DOUBLE=2]="DOUBLE"})(W40||(F40.Precision=W40={}))});var rM=w0((N40)=>{Object.defineProperty(N40,"__esModule",{value:!0});N40.DateUnit=void 0;var H40;(function($){$[$.DAY=0]="DAY",$[$.MILLISECOND=1]="MILLISECOND"})(H40||(N40.DateUnit=H40={}))});var NA=w0((A40)=>{Object.defineProperty(A40,"__esModule",{value:!0});A40.TimeUnit=void 0;var z40;(function($){$[$.SECOND=0]="SECOND",$[$.MILLISECOND=1]="MILLISECOND",$[$.MICROSECOND=2]="MICROSECOND",$[$.NANOSECOND=3]="NANOSECOND"})(z40||(A40.TimeUnit=z40={}))});var iM=w0((G40)=>{Object.defineProperty(G40,"__esModule",{value:!0});G40.IntervalUnit=void 0;var R40;(function($){$[$.YEAR_MONTH=0]="YEAR_MONTH",$[$.DAY_TIME=1]="DAY_TIME",$[$.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(R40||(G40.IntervalUnit=R40={}))});var s2=w0((O40)=>{Object.defineProperty(O40,"__esModule",{value:!0});O40.SIZE_PREFIX_LENGTH=O40.FILE_IDENTIFIER_LENGTH=O40.SIZEOF_INT=O40.SIZEOF_SHORT=void 0;O40.SIZEOF_SHORT=2;O40.SIZEOF_INT=4;O40.FILE_IDENTIFIER_LENGTH=4;O40.SIZE_PREFIX_LENGTH=4});var oM=w0((D40)=>{Object.defineProperty(D40,"__esModule",{value:!0});D40.isLittleEndian=D40.float64=D40.float32=D40.int32=void 0;D40.int32=new Int32Array(2);D40.float32=new Float32Array(D40.int32.buffer);D40.float64=new Float64Array(D40.int32.buffer);D40.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1});var aM=w0((k40)=>{Object.defineProperty(k40,"__esModule",{value:!0});k40.Encoding=void 0;var P40;(function($){$[$.UTF8_BYTES=1]="UTF8_BYTES",$[$.UTF16_STRING=2]="UTF16_STRING"})(P40||(k40.Encoding=P40={}))});var eM=w0((E40)=>{Object.defineProperty(E40,"__esModule",{value:!0});E40.ByteBuffer=void 0;var uQ=s2(),g4=oM(),uy0=aM();class tM{constructor($){this.bytes_=$,this.position_=0,this.text_decoder_=new TextDecoder}static allocate($){return new tM(new Uint8Array($))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition($){this.position_=$}capacity(){return this.bytes_.length}readInt8($){return this.readUint8($)<<24>>24}readUint8($){return this.bytes_[$]}readInt16($){return this.readUint16($)<<16>>16}readUint16($){return this.bytes_[$]|this.bytes_[$+1]<<8}readInt32($){return this.bytes_[$]|this.bytes_[$+1]<<8|this.bytes_[$+2]<<16|this.bytes_[$+3]<<24}readUint32($){return this.readInt32($)>>>0}readInt64($){return BigInt.asIntN(64,BigInt(this.readUint32($))+(BigInt(this.readUint32($+4))<<BigInt(32)))}readUint64($){return BigInt.asUintN(64,BigInt(this.readUint32($))+(BigInt(this.readUint32($+4))<<BigInt(32)))}readFloat32($){return g4.int32[0]=this.readInt32($),g4.float32[0]}readFloat64($){return g4.int32[g4.isLittleEndian?0:1]=this.readInt32($),g4.int32[g4.isLittleEndian?1:0]=this.readInt32($+4),g4.float64[0]}writeInt8($,Q){this.bytes_[$]=Q}writeUint8($,Q){this.bytes_[$]=Q}writeInt16($,Q){this.bytes_[$]=Q,this.bytes_[$+1]=Q>>8}writeUint16($,Q){this.bytes_[$]=Q,this.bytes_[$+1]=Q>>8}writeInt32($,Q){this.bytes_[$]=Q,this.bytes_[$+1]=Q>>8,this.bytes_[$+2]=Q>>16,this.bytes_[$+3]=Q>>24}writeUint32($,Q){this.bytes_[$]=Q,this.bytes_[$+1]=Q>>8,this.bytes_[$+2]=Q>>16,this.bytes_[$+3]=Q>>24}writeInt64($,Q){this.writeInt32($,Number(BigInt.asIntN(32,Q))),this.writeInt32($+4,Number(BigInt.asIntN(32,Q>>BigInt(32))))}writeUint64($,Q){this.writeUint32($,Number(BigInt.asUintN(32,Q))),this.writeUint32($+4,Number(BigInt.asUintN(32,Q>>BigInt(32))))}writeFloat32($,Q){g4.float32[0]=Q,this.writeInt32($,g4.int32[0])}writeFloat64($,Q){g4.float64[0]=Q,this.writeInt32($,g4.int32[g4.isLittleEndian?0:1]),this.writeInt32($+4,g4.int32[g4.isLittleEndian?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+uQ.SIZEOF_INT+uQ.FILE_IDENTIFIER_LENGTH)throw Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let $="";for(let Q=0;Q<uQ.FILE_IDENTIFIER_LENGTH;Q++)$+=String.fromCharCode(this.readInt8(this.position_+uQ.SIZEOF_INT+Q));return $}__offset($,Q){let J=$-this.readInt32($);return Q<this.readInt16(J)?this.readInt16(J+Q):0}__union($,Q){return $.bb_pos=Q+this.readInt32(Q),$.bb=this,$}__string($,Q){$+=this.readInt32($);let J=this.readInt32($);$+=uQ.SIZEOF_INT;let K=this.bytes_.subarray($,$+J);if(Q===uy0.Encoding.UTF8_BYTES)return K;else return this.text_decoder_.decode(K)}__union_with_string($,Q){if(typeof $==="string")return this.__string(Q);return this.__union($,Q)}__indirect($){return $+this.readInt32($)}__vector($){return $+this.readInt32($)+uQ.SIZEOF_INT}__vector_len($){return this.readInt32($+this.readInt32($))}__has_identifier($){if($.length!=uQ.FILE_IDENTIFIER_LENGTH)throw Error("FlatBuffers: file identifier must be length "+uQ.FILE_IDENTIFIER_LENGTH);for(let Q=0;Q<uQ.FILE_IDENTIFIER_LENGTH;Q++)if($.charCodeAt(Q)!=this.readInt8(this.position()+uQ.SIZEOF_INT+Q))return!1;return!0}createScalarList($,Q){let J=[];for(let K=0;K<Q;++K){let Y=$(K);if(Y!==null)J.push(Y)}return J}createObjList($,Q){let J=[];for(let K=0;K<Q;++K){let Y=$(K);if(Y!==null)J.push(Y.unpack())}return J}}E40.ByteBuffer=tM});var _40=w0((v40)=>{Object.defineProperty(v40,"__esModule",{value:!0});v40.Builder=void 0;var h40=eM(),E9=s2();class $b{constructor($){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let Q;if(!$)Q=1024;else Q=$;this.bb=h40.ByteBuffer.allocate(Q),this.space=Q}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults($){this.force_defaults=$}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep($,Q){if($>this.minalign)this.minalign=$;let J=~(this.bb.capacity()-this.space+Q)+1&$-1;while(this.space<J+$+Q){let K=this.bb.capacity();this.bb=$b.growByteBuffer(this.bb),this.space+=this.bb.capacity()-K}this.pad(J)}pad($){for(let Q=0;Q<$;Q++)this.bb.writeInt8(--this.space,0)}writeInt8($){this.bb.writeInt8(this.space-=1,$)}writeInt16($){this.bb.writeInt16(this.space-=2,$)}writeInt32($){this.bb.writeInt32(this.space-=4,$)}writeInt64($){this.bb.writeInt64(this.space-=8,$)}writeFloat32($){this.bb.writeFloat32(this.space-=4,$)}writeFloat64($){this.bb.writeFloat64(this.space-=8,$)}addInt8($){this.prep(1,0),this.writeInt8($)}addInt16($){this.prep(2,0),this.writeInt16($)}addInt32($){this.prep(4,0),this.writeInt32($)}addInt64($){this.prep(8,0),this.writeInt64($)}addFloat32($){this.prep(4,0),this.writeFloat32($)}addFloat64($){this.prep(8,0),this.writeFloat64($)}addFieldInt8($,Q,J){if(this.force_defaults||Q!=J)this.addInt8(Q),this.slot($)}addFieldInt16($,Q,J){if(this.force_defaults||Q!=J)this.addInt16(Q),this.slot($)}addFieldInt32($,Q,J){if(this.force_defaults||Q!=J)this.addInt32(Q),this.slot($)}addFieldInt64($,Q,J){if(this.force_defaults||Q!==J)this.addInt64(Q),this.slot($)}addFieldFloat32($,Q,J){if(this.force_defaults||Q!=J)this.addFloat32(Q),this.slot($)}addFieldFloat64($,Q,J){if(this.force_defaults||Q!=J)this.addFloat64(Q),this.slot($)}addFieldOffset($,Q,J){if(this.force_defaults||Q!=J)this.addOffset(Q),this.slot($)}addFieldStruct($,Q,J){if(Q!=J)this.nested(Q),this.slot($)}nested($){if($!=this.offset())throw TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw TypeError("FlatBuffers: object serialization must not be nested.")}slot($){if(this.vtable!==null)this.vtable[$]=this.offset()}offset(){return this.bb.capacity()-this.space}static growByteBuffer($){let Q=$.capacity();if(Q&3221225472)throw Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");let J=Q<<1,K=h40.ByteBuffer.allocate(J);return K.setPosition(J-Q),K.bytes().set($.bytes(),J-Q),K}addOffset($){this.prep(E9.SIZEOF_INT,0),this.writeInt32(this.offset()-$+E9.SIZEOF_INT)}startObject($){if(this.notNested(),this.vtable==null)this.vtable=[];this.vtable_in_use=$;for(let Q=0;Q<$;Q++)this.vtable[Q]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw Error("FlatBuffers: endObject called without startObject");this.addInt32(0);let $=this.offset(),Q=this.vtable_in_use-1;for(;Q>=0&&this.vtable[Q]==0;Q--);let J=Q+1;for(;Q>=0;Q--)this.addInt16(this.vtable[Q]!=0?$-this.vtable[Q]:0);let K=2;this.addInt16($-this.object_start);let Y=(J+K)*E9.SIZEOF_SHORT;this.addInt16(Y);let q=0,Z=this.space;$:for(Q=0;Q<this.vtables.length;Q++){let X=this.bb.capacity()-this.vtables[Q];if(Y==this.bb.readInt16(X)){for(let W=E9.SIZEOF_SHORT;W<Y;W+=E9.SIZEOF_SHORT)if(this.bb.readInt16(Z+W)!=this.bb.readInt16(X+W))continue $;q=this.vtables[Q];break}}if(q)this.space=this.bb.capacity()-$,this.bb.writeInt32(this.space,q-$);else this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-$,this.offset()-$);return this.isNested=!1,$}finish($,Q,J){let K=J?E9.SIZE_PREFIX_LENGTH:0;if(Q){let Y=Q;if(this.prep(this.minalign,E9.SIZEOF_INT+E9.FILE_IDENTIFIER_LENGTH+K),Y.length!=E9.FILE_IDENTIFIER_LENGTH)throw TypeError("FlatBuffers: file identifier must be length "+E9.FILE_IDENTIFIER_LENGTH);for(let q=E9.FILE_IDENTIFIER_LENGTH-1;q>=0;q--)this.writeInt8(Y.charCodeAt(q))}if(this.prep(this.minalign,E9.SIZEOF_INT+K),this.addOffset($),K)this.addInt32(this.bb.capacity()-this.space);this.bb.setPosition(this.space)}finishSizePrefixed($,Q){this.finish($,Q,!0)}requiredField($,Q){let J=this.bb.capacity()-$,K=J-this.bb.readInt32(J);if(!(Q<this.bb.readInt16(K)&&this.bb.readInt16(K+Q)!=0))throw TypeError("FlatBuffers: field "+Q+" must be set")}startVector($,Q,J){this.notNested(),this.vector_num_elems=Q,this.prep(E9.SIZEOF_INT,$*Q),this.prep(J,$*Q)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString($){if(!$)return 0;if(!this.string_maps)this.string_maps=new Map;if(this.string_maps.has($))return this.string_maps.get($);let Q=this.createString($);return this.string_maps.set($,Q),Q}createString($){if($===null||$===void 0)return 0;let Q;if($ instanceof Uint8Array)Q=$;else Q=this.text_encoder.encode($);return this.addInt8(0),this.startVector(1,Q.length,1),this.bb.setPosition(this.space-=Q.length),this.bb.bytes().set(Q,this.space),this.endVector()}createByteVector($){if($===null||$===void 0)return 0;return this.startVector(1,$.length,1),this.bb.setPosition(this.space-=$.length),this.bb.bytes().set($,this.space),this.endVector()}createObjectOffset($){if($===null)return 0;if(typeof $==="string")return this.createString($);else return $.pack(this)}createObjectOffsetList($){let Q=[];for(let J=0;J<$.length;++J){let K=$[J];if(K!==null)Q.push(this.createObjectOffset(K));else throw TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return Q}createStructOffsetList($,Q){return Q(this,$.length),this.createObjectOffsetList($.slice().reverse()),this.endVector()}}v40.Builder=$b});var V5=w0((L9)=>{Object.defineProperty(L9,"__esModule",{value:!0});L9.ByteBuffer=L9.Builder=L9.Encoding=L9.isLittleEndian=L9.float64=L9.float32=L9.int32=L9.SIZE_PREFIX_LENGTH=L9.FILE_IDENTIFIER_LENGTH=L9.SIZEOF_INT=L9.SIZEOF_SHORT=void 0;var my0=s2();Object.defineProperty(L9,"SIZEOF_SHORT",{enumerable:!0,get:function(){return my0.SIZEOF_SHORT}});var py0=s2();Object.defineProperty(L9,"SIZEOF_INT",{enumerable:!0,get:function(){return py0.SIZEOF_INT}});var dy0=s2();Object.defineProperty(L9,"FILE_IDENTIFIER_LENGTH",{enumerable:!0,get:function(){return dy0.FILE_IDENTIFIER_LENGTH}});var ny0=s2();Object.defineProperty(L9,"SIZE_PREFIX_LENGTH",{enumerable:!0,get:function(){return ny0.SIZE_PREFIX_LENGTH}});var oT=oM();Object.defineProperty(L9,"int32",{enumerable:!0,get:function(){return oT.int32}});Object.defineProperty(L9,"float32",{enumerable:!0,get:function(){return oT.float32}});Object.defineProperty(L9,"float64",{enumerable:!0,get:function(){return oT.float64}});Object.defineProperty(L9,"isLittleEndian",{enumerable:!0,get:function(){return oT.isLittleEndian}});var ly0=aM();Object.defineProperty(L9,"Encoding",{enumerable:!0,get:function(){return ly0.Encoding}});var ry0=_40();Object.defineProperty(L9,"Builder",{enumerable:!0,get:function(){return ry0.Builder}});var iy0=eM();Object.defineProperty(L9,"ByteBuffer",{enumerable:!0,get:function(){return iy0.ByteBuffer}})});var b40=w0((I40)=>{Object.defineProperty(I40,"__esModule",{value:!0});I40.BodyCompressionMethod=void 0;var f40;(function($){$[$.BUFFER=0]="BUFFER"})(f40||(I40.BodyCompressionMethod=f40={}))});var c40=w0((y40)=>{Object.defineProperty(y40,"__esModule",{value:!0});y40.CompressionType=void 0;var g40;(function($){$[$.LZ4_FRAME=0]="LZ4_FRAME",$[$.ZSTD=1]="ZSTD"})(g40||(y40.CompressionType=g40={}))});var n40=w0((p40)=>{Object.defineProperty(p40,"__esModule",{value:!0});p40.BodyCompression=void 0;var oy0=V5(),u40=b40(),m40=c40();class Hq{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsBodyCompression($,Q){return(Q||new Hq).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsBodyCompression($,Q){return $.setPosition($.position()+oy0.SIZE_PREFIX_LENGTH),(Q||new Hq).__init($.readInt32($.position())+$.position(),$)}codec(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt8(this.bb_pos+$):m40.CompressionType.LZ4_FRAME}method(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.readInt8(this.bb_pos+$):u40.BodyCompressionMethod.BUFFER}static startBodyCompression($){$.startObject(2)}static addCodec($,Q){$.addFieldInt8(0,Q,m40.CompressionType.LZ4_FRAME)}static addMethod($,Q){$.addFieldInt8(1,Q,u40.BodyCompressionMethod.BUFFER)}static endBodyCompression($){return $.endObject()}static createBodyCompression($,Q,J){return Hq.startBodyCompression($),Hq.addCodec($,Q),Hq.addMethod($,J),Hq.endBodyCompression($)}}p40.BodyCompression=Hq});var Nq=w0((r40)=>{Object.defineProperty(r40,"__esModule",{value:!0});r40.Buffer=void 0;class l40{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer($,Q,J){return $.prep(8,16),$.writeInt64(BigInt(J!==null&&J!==void 0?J:0)),$.writeInt64(BigInt(Q!==null&&Q!==void 0?Q:0)),$.offset()}}r40.Buffer=l40});var Qb=w0((o40)=>{Object.defineProperty(o40,"__esModule",{value:!0});o40.FieldNode=void 0;class s40{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode($,Q,J){return $.prep(8,16),$.writeInt64(BigInt(J!==null&&J!==void 0?J:0)),$.writeInt64(BigInt(Q!==null&&Q!==void 0?Q:0)),$.offset()}}o40.FieldNode=s40});var tT=w0((t40)=>{Object.defineProperty(t40,"__esModule",{value:!0});t40.RecordBatch=void 0;var ay0=V5(),ty0=n40(),ey0=Nq(),$x0=Qb();class aT{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsRecordBatch($,Q){return(Q||new aT).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsRecordBatch($,Q){return $.setPosition($.position()+ay0.SIZE_PREFIX_LENGTH),(Q||new aT).__init($.readInt32($.position())+$.position(),$)}length(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt64(this.bb_pos+$):BigInt("0")}nodes($,Q){let J=this.bb.__offset(this.bb_pos,6);return J?(Q||new $x0.FieldNode).__init(this.bb.__vector(this.bb_pos+J)+$*16,this.bb):null}nodesLength(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__vector_len(this.bb_pos+$):0}buffers($,Q){let J=this.bb.__offset(this.bb_pos,8);return J?(Q||new ey0.Buffer).__init(this.bb.__vector(this.bb_pos+J)+$*16,this.bb):null}buffersLength(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.__vector_len(this.bb_pos+$):0}compression($){let Q=this.bb.__offset(this.bb_pos,10);return Q?($||new ty0.BodyCompression).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}static startRecordBatch($){$.startObject(4)}static addLength($,Q){$.addFieldInt64(0,Q,BigInt("0"))}static addNodes($,Q){$.addFieldOffset(1,Q,0)}static startNodesVector($,Q){$.startVector(16,Q,8)}static addBuffers($,Q){$.addFieldOffset(2,Q,0)}static startBuffersVector($,Q){$.startVector(16,Q,8)}static addCompression($,Q){$.addFieldOffset(3,Q,0)}static endRecordBatch($){return $.endObject()}}t40.RecordBatch=aT});var Jb=w0(($90)=>{Object.defineProperty($90,"__esModule",{value:!0});$90.DictionaryBatch=void 0;var Qx0=V5(),Jx0=tT();class eT{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsDictionaryBatch($,Q){return(Q||new eT).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsDictionaryBatch($,Q){return $.setPosition($.position()+Qx0.SIZE_PREFIX_LENGTH),(Q||new eT).__init($.readInt32($.position())+$.position(),$)}id(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt64(this.bb_pos+$):BigInt("0")}data($){let Q=this.bb.__offset(this.bb_pos,6);return Q?($||new Jx0.RecordBatch).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}isDelta(){let $=this.bb.__offset(this.bb_pos,8);return $?!!this.bb.readInt8(this.bb_pos+$):!1}static startDictionaryBatch($){$.startObject(3)}static addId($,Q){$.addFieldInt64(0,Q,BigInt("0"))}static addData($,Q){$.addFieldOffset(1,Q,0)}static addIsDelta($,Q){$.addFieldInt8(2,+Q,0)}static endDictionaryBatch($){return $.endObject()}}$90.DictionaryBatch=eT});var Kb=w0((K90)=>{Object.defineProperty(K90,"__esModule",{value:!0});K90.Endianness=void 0;var J90;(function($){$[$.Little=0]="Little",$[$.Big=1]="Big"})(J90||(K90.Endianness=J90={}))});var W90=w0((Z90)=>{Object.defineProperty(Z90,"__esModule",{value:!0});Z90.DictionaryKind=void 0;var q90;(function($){$[$.DenseArray=0]="DenseArray"})(q90||(Z90.DictionaryKind=q90={}))});var zq=w0((F90)=>{Object.defineProperty(F90,"__esModule",{value:!0});F90.Int=void 0;var Kx0=V5();class Bq{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsInt($,Q){return(Q||new Bq).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsInt($,Q){return $.setPosition($.position()+Kx0.SIZE_PREFIX_LENGTH),(Q||new Bq).__init($.readInt32($.position())+$.position(),$)}bitWidth(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt32(this.bb_pos+$):0}isSigned(){let $=this.bb.__offset(this.bb_pos,6);return $?!!this.bb.readInt8(this.bb_pos+$):!1}static startInt($){$.startObject(2)}static addBitWidth($,Q){$.addFieldInt32(0,Q,0)}static addIsSigned($,Q){$.addFieldInt8(1,+Q,0)}static endInt($){return $.endObject()}static createInt($,Q,J){return Bq.startInt($),Bq.addBitWidth($,Q),Bq.addIsSigned($,J),Bq.endInt($)}}F90.Int=Bq});var Yb=w0((N90)=>{Object.defineProperty(N90,"__esModule",{value:!0});N90.DictionaryEncoding=void 0;var Yx0=V5(),H90=W90(),qx0=zq();class $D{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsDictionaryEncoding($,Q){return(Q||new $D).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsDictionaryEncoding($,Q){return $.setPosition($.position()+Yx0.SIZE_PREFIX_LENGTH),(Q||new $D).__init($.readInt32($.position())+$.position(),$)}id(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt64(this.bb_pos+$):BigInt("0")}indexType($){let Q=this.bb.__offset(this.bb_pos,6);return Q?($||new qx0.Int).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}isOrdered(){let $=this.bb.__offset(this.bb_pos,8);return $?!!this.bb.readInt8(this.bb_pos+$):!1}dictionaryKind(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.readInt16(this.bb_pos+$):H90.DictionaryKind.DenseArray}static startDictionaryEncoding($){$.startObject(4)}static addId($,Q){$.addFieldInt64(0,Q,BigInt("0"))}static addIndexType($,Q){$.addFieldOffset(1,Q,0)}static addIsOrdered($,Q){$.addFieldInt8(2,+Q,0)}static addDictionaryKind($,Q){$.addFieldInt16(3,Q,H90.DictionaryKind.DenseArray)}static endDictionaryEncoding($){return $.endObject()}}N90.DictionaryEncoding=$D});var PU=w0((z90)=>{Object.defineProperty(z90,"__esModule",{value:!0});z90.KeyValue=void 0;var Zx0=V5();class Aq{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsKeyValue($,Q){return(Q||new Aq).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsKeyValue($,Q){return $.setPosition($.position()+Zx0.SIZE_PREFIX_LENGTH),(Q||new Aq).__init($.readInt32($.position())+$.position(),$)}key($){let Q=this.bb.__offset(this.bb_pos,4);return Q?this.bb.__string(this.bb_pos+Q,$):null}value($){let Q=this.bb.__offset(this.bb_pos,6);return Q?this.bb.__string(this.bb_pos+Q,$):null}static startKeyValue($){$.startObject(2)}static addKey($,Q){$.addFieldOffset(0,Q,0)}static addValue($,Q){$.addFieldOffset(1,Q,0)}static endKeyValue($){return $.endObject()}static createKeyValue($,Q,J){return Aq.startKeyValue($),Aq.addKey($,Q),Aq.addValue($,J),Aq.endKeyValue($)}}z90.KeyValue=Aq});var qb=w0((V90)=>{Object.defineProperty(V90,"__esModule",{value:!0});V90.Binary=void 0;var Xx0=V5();class kU{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsBinary($,Q){return(Q||new kU).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsBinary($,Q){return $.setPosition($.position()+Xx0.SIZE_PREFIX_LENGTH),(Q||new kU).__init($.readInt32($.position())+$.position(),$)}static startBinary($){$.startObject(0)}static endBinary($){return $.endObject()}static createBinary($){return kU.startBinary($),kU.endBinary($)}}V90.Binary=kU});var Zb=w0((G90)=>{Object.defineProperty(G90,"__esModule",{value:!0});G90.Bool=void 0;var Wx0=V5();class jU{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsBool($,Q){return(Q||new jU).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsBool($,Q){return $.setPosition($.position()+Wx0.SIZE_PREFIX_LENGTH),(Q||new jU).__init($.readInt32($.position())+$.position(),$)}static startBool($){$.startObject(0)}static endBool($){return $.endObject()}static createBool($){return jU.startBool($),jU.endBool($)}}G90.Bool=jU});var QD=w0((T90)=>{Object.defineProperty(T90,"__esModule",{value:!0});T90.Date=void 0;var Fx0=V5(),O90=rM();class o2{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsDate($,Q){return(Q||new o2).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsDate($,Q){return $.setPosition($.position()+Fx0.SIZE_PREFIX_LENGTH),(Q||new o2).__init($.readInt32($.position())+$.position(),$)}unit(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):O90.DateUnit.MILLISECOND}static startDate($){$.startObject(1)}static addUnit($,Q){$.addFieldInt16(0,Q,O90.DateUnit.MILLISECOND)}static endDate($){return $.endObject()}static createDate($,Q){return o2.startDate($),o2.addUnit($,Q),o2.endDate($)}}T90.Date=o2});var JD=w0((C90)=>{Object.defineProperty(C90,"__esModule",{value:!0});C90.Decimal=void 0;var Ux0=V5();class DK{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsDecimal($,Q){return(Q||new DK).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsDecimal($,Q){return $.setPosition($.position()+Ux0.SIZE_PREFIX_LENGTH),(Q||new DK).__init($.readInt32($.position())+$.position(),$)}precision(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt32(this.bb_pos+$):0}scale(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.readInt32(this.bb_pos+$):0}bitWidth(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.readInt32(this.bb_pos+$):128}static startDecimal($){$.startObject(3)}static addPrecision($,Q){$.addFieldInt32(0,Q,0)}static addScale($,Q){$.addFieldInt32(1,Q,0)}static addBitWidth($,Q){$.addFieldInt32(2,Q,128)}static endDecimal($){return $.endObject()}static createDecimal($,Q,J,K){return DK.startDecimal($),DK.addPrecision($,Q),DK.addScale($,J),DK.addBitWidth($,K),DK.endDecimal($)}}C90.Decimal=DK});var KD=w0((j90)=>{Object.defineProperty(j90,"__esModule",{value:!0});j90.Duration=void 0;var Hx0=V5(),k90=NA();class a2{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsDuration($,Q){return(Q||new a2).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsDuration($,Q){return $.setPosition($.position()+Hx0.SIZE_PREFIX_LENGTH),(Q||new a2).__init($.readInt32($.position())+$.position(),$)}unit(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):k90.TimeUnit.MILLISECOND}static startDuration($){$.startObject(1)}static addUnit($,Q){$.addFieldInt16(0,Q,k90.TimeUnit.MILLISECOND)}static endDuration($){return $.endObject()}static createDuration($,Q){return a2.startDuration($),a2.addUnit($,Q),a2.endDuration($)}}j90.Duration=a2});var YD=w0((L90)=>{Object.defineProperty(L90,"__esModule",{value:!0});L90.FixedSizeBinary=void 0;var Nx0=V5();class t2{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsFixedSizeBinary($,Q){return(Q||new t2).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsFixedSizeBinary($,Q){return $.setPosition($.position()+Nx0.SIZE_PREFIX_LENGTH),(Q||new t2).__init($.readInt32($.position())+$.position(),$)}byteWidth(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt32(this.bb_pos+$):0}static startFixedSizeBinary($){$.startObject(1)}static addByteWidth($,Q){$.addFieldInt32(0,Q,0)}static endFixedSizeBinary($){return $.endObject()}static createFixedSizeBinary($,Q){return t2.startFixedSizeBinary($),t2.addByteWidth($,Q),t2.endFixedSizeBinary($)}}L90.FixedSizeBinary=t2});var qD=w0((v90)=>{Object.defineProperty(v90,"__esModule",{value:!0});v90.FixedSizeList=void 0;var Bx0=V5();class e2{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsFixedSizeList($,Q){return(Q||new e2).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsFixedSizeList($,Q){return $.setPosition($.position()+Bx0.SIZE_PREFIX_LENGTH),(Q||new e2).__init($.readInt32($.position())+$.position(),$)}listSize(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt32(this.bb_pos+$):0}static startFixedSizeList($){$.startObject(1)}static addListSize($,Q){$.addFieldInt32(0,Q,0)}static endFixedSizeList($){return $.endObject()}static createFixedSizeList($,Q){return e2.startFixedSizeList($),e2.addListSize($,Q),e2.endFixedSizeList($)}}v90.FixedSizeList=e2});var ZD=w0((f90)=>{Object.defineProperty(f90,"__esModule",{value:!0});f90.FloatingPoint=void 0;var zx0=V5(),_90=lM();class $X{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsFloatingPoint($,Q){return(Q||new $X).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsFloatingPoint($,Q){return $.setPosition($.position()+zx0.SIZE_PREFIX_LENGTH),(Q||new $X).__init($.readInt32($.position())+$.position(),$)}precision(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):_90.Precision.HALF}static startFloatingPoint($){$.startObject(1)}static addPrecision($,Q){$.addFieldInt16(0,Q,_90.Precision.HALF)}static endFloatingPoint($){return $.endObject()}static createFloatingPoint($,Q){return $X.startFloatingPoint($),$X.addPrecision($,Q),$X.endFloatingPoint($)}}f90.FloatingPoint=$X});var XD=w0((b90)=>{Object.defineProperty(b90,"__esModule",{value:!0});b90.Interval=void 0;var Ax0=V5(),M90=iM();class QX{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsInterval($,Q){return(Q||new QX).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsInterval($,Q){return $.setPosition($.position()+Ax0.SIZE_PREFIX_LENGTH),(Q||new QX).__init($.readInt32($.position())+$.position(),$)}unit(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):M90.IntervalUnit.YEAR_MONTH}static startInterval($){$.startObject(1)}static addUnit($,Q){$.addFieldInt16(0,Q,M90.IntervalUnit.YEAR_MONTH)}static endInterval($){return $.endObject()}static createInterval($,Q){return QX.startInterval($),QX.addUnit($,Q),QX.endInterval($)}}b90.Interval=QX});var Xb=w0((y90)=>{Object.defineProperty(y90,"__esModule",{value:!0});y90.LargeBinary=void 0;var Vx0=V5();class EU{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsLargeBinary($,Q){return(Q||new EU).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsLargeBinary($,Q){return $.setPosition($.position()+Vx0.SIZE_PREFIX_LENGTH),(Q||new EU).__init($.readInt32($.position())+$.position(),$)}static startLargeBinary($){$.startObject(0)}static endLargeBinary($){return $.endObject()}static createLargeBinary($){return EU.startLargeBinary($),EU.endLargeBinary($)}}y90.LargeBinary=EU});var m90=w0((c90)=>{Object.defineProperty(c90,"__esModule",{value:!0});c90.LargeList=void 0;var Rx0=V5();class LU{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsLargeList($,Q){return(Q||new LU).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsLargeList($,Q){return $.setPosition($.position()+Rx0.SIZE_PREFIX_LENGTH),(Q||new LU).__init($.readInt32($.position())+$.position(),$)}static startLargeList($){$.startObject(0)}static endLargeList($){return $.endObject()}static createLargeList($){return LU.startLargeList($),LU.endLargeList($)}}c90.LargeList=LU});var Wb=w0((p90)=>{Object.defineProperty(p90,"__esModule",{value:!0});p90.LargeUtf8=void 0;var Gx0=V5();class hU{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsLargeUtf8($,Q){return(Q||new hU).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsLargeUtf8($,Q){return $.setPosition($.position()+Gx0.SIZE_PREFIX_LENGTH),(Q||new hU).__init($.readInt32($.position())+$.position(),$)}static startLargeUtf8($){$.startObject(0)}static endLargeUtf8($){return $.endObject()}static createLargeUtf8($){return hU.startLargeUtf8($),hU.endLargeUtf8($)}}p90.LargeUtf8=hU});var Fb=w0((n90)=>{Object.defineProperty(n90,"__esModule",{value:!0});n90.List=void 0;var wx0=V5();class vU{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsList($,Q){return(Q||new vU).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsList($,Q){return $.setPosition($.position()+wx0.SIZE_PREFIX_LENGTH),(Q||new vU).__init($.readInt32($.position())+$.position(),$)}static startList($){$.startObject(0)}static endList($){return $.endObject()}static createList($){return vU.startList($),vU.endList($)}}n90.List=vU});var WD=w0((r90)=>{Object.defineProperty(r90,"__esModule",{value:!0});r90.Map=void 0;var Ox0=V5();class JX{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsMap($,Q){return(Q||new JX).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsMap($,Q){return $.setPosition($.position()+Ox0.SIZE_PREFIX_LENGTH),(Q||new JX).__init($.readInt32($.position())+$.position(),$)}keysSorted(){let $=this.bb.__offset(this.bb_pos,4);return $?!!this.bb.readInt8(this.bb_pos+$):!1}static startMap($){$.startObject(1)}static addKeysSorted($,Q){$.addFieldInt8(0,+Q,0)}static endMap($){return $.endObject()}static createMap($,Q){return JX.startMap($),JX.addKeysSorted($,Q),JX.endMap($)}}r90.Map=JX});var Ub=w0((s90)=>{Object.defineProperty(s90,"__esModule",{value:!0});s90.Null=void 0;var Tx0=V5();class SU{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsNull($,Q){return(Q||new SU).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsNull($,Q){return $.setPosition($.position()+Tx0.SIZE_PREFIX_LENGTH),(Q||new SU).__init($.readInt32($.position())+$.position(),$)}static startNull($){$.startObject(0)}static endNull($){return $.endObject()}static createNull($){return SU.startNull($),SU.endNull($)}}s90.Null=SU});var e90=w0((a90)=>{Object.defineProperty(a90,"__esModule",{value:!0});a90.RunEndEncoded=void 0;var Dx0=V5();class _U{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsRunEndEncoded($,Q){return(Q||new _U).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsRunEndEncoded($,Q){return $.setPosition($.position()+Dx0.SIZE_PREFIX_LENGTH),(Q||new _U).__init($.readInt32($.position())+$.position(),$)}static startRunEndEncoded($){$.startObject(0)}static endRunEndEncoded($){return $.endObject()}static createRunEndEncoded($){return _U.startRunEndEncoded($),_U.endRunEndEncoded($)}}a90.RunEndEncoded=_U});var Hb=w0(($30)=>{Object.defineProperty($30,"__esModule",{value:!0});$30.Struct_=void 0;var Cx0=V5();class fU{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsStruct_($,Q){return(Q||new fU).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsStruct_($,Q){return $.setPosition($.position()+Cx0.SIZE_PREFIX_LENGTH),(Q||new fU).__init($.readInt32($.position())+$.position(),$)}static startStruct_($){$.startObject(0)}static endStruct_($){return $.endObject()}static createStruct_($){return fU.startStruct_($),fU.endStruct_($)}}$30.Struct_=fU});var FD=w0((K30)=>{Object.defineProperty(K30,"__esModule",{value:!0});K30.Time=void 0;var Px0=V5(),J30=NA();class Vq{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsTime($,Q){return(Q||new Vq).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsTime($,Q){return $.setPosition($.position()+Px0.SIZE_PREFIX_LENGTH),(Q||new Vq).__init($.readInt32($.position())+$.position(),$)}unit(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):J30.TimeUnit.MILLISECOND}bitWidth(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.readInt32(this.bb_pos+$):32}static startTime($){$.startObject(2)}static addUnit($,Q){$.addFieldInt16(0,Q,J30.TimeUnit.MILLISECOND)}static addBitWidth($,Q){$.addFieldInt32(1,Q,32)}static endTime($){return $.endObject()}static createTime($,Q,J){return Vq.startTime($),Vq.addUnit($,Q),Vq.addBitWidth($,J),Vq.endTime($)}}K30.Time=Vq});var UD=w0((Z30)=>{Object.defineProperty(Z30,"__esModule",{value:!0});Z30.Timestamp=void 0;var kx0=V5(),q30=NA();class Rq{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsTimestamp($,Q){return(Q||new Rq).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsTimestamp($,Q){return $.setPosition($.position()+kx0.SIZE_PREFIX_LENGTH),(Q||new Rq).__init($.readInt32($.position())+$.position(),$)}unit(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):q30.TimeUnit.SECOND}timezone($){let Q=this.bb.__offset(this.bb_pos,6);return Q?this.bb.__string(this.bb_pos+Q,$):null}static startTimestamp($){$.startObject(2)}static addUnit($,Q){$.addFieldInt16(0,Q,q30.TimeUnit.SECOND)}static addTimezone($,Q){$.addFieldOffset(1,Q,0)}static endTimestamp($){return $.endObject()}static createTimestamp($,Q,J){return Rq.startTimestamp($),Rq.addUnit($,Q),Rq.addTimezone($,J),Rq.endTimestamp($)}}Z30.Timestamp=Rq});var HD=w0((F30)=>{Object.defineProperty(F30,"__esModule",{value:!0});F30.Union=void 0;var jx0=V5(),W30=nM();class Gq{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsUnion($,Q){return(Q||new Gq).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsUnion($,Q){return $.setPosition($.position()+jx0.SIZE_PREFIX_LENGTH),(Q||new Gq).__init($.readInt32($.position())+$.position(),$)}mode(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):W30.UnionMode.Sparse}typeIds($){let Q=this.bb.__offset(this.bb_pos,6);return Q?this.bb.readInt32(this.bb.__vector(this.bb_pos+Q)+$*4):0}typeIdsLength(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__vector_len(this.bb_pos+$):0}typeIdsArray(){let $=this.bb.__offset(this.bb_pos,6);return $?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+$),this.bb.__vector_len(this.bb_pos+$)):null}static startUnion($){$.startObject(2)}static addMode($,Q){$.addFieldInt16(0,Q,W30.UnionMode.Sparse)}static addTypeIds($,Q){$.addFieldOffset(1,Q,0)}static createTypeIdsVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addInt32(Q[J]);return $.endVector()}static startTypeIdsVector($,Q){$.startVector(4,Q,4)}static endUnion($){return $.endObject()}static createUnion($,Q,J){return Gq.startUnion($),Gq.addMode($,Q),Gq.addTypeIds($,J),Gq.endUnion($)}}F30.Union=Gq});var Nb=w0((H30)=>{Object.defineProperty(H30,"__esModule",{value:!0});H30.Utf8=void 0;var Ex0=V5();class IU{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsUtf8($,Q){return(Q||new IU).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsUtf8($,Q){return $.setPosition($.position()+Ex0.SIZE_PREFIX_LENGTH),(Q||new IU).__init($.readInt32($.position())+$.position(),$)}static startUtf8($){$.startObject(0)}static endUtf8($){return $.endObject()}static createUtf8($){return IU.startUtf8($),IU.endUtf8($)}}H30.Utf8=IU});var MU=w0((M30)=>{Object.defineProperty(M30,"__esModule",{value:!0});M30.unionListToType=M30.unionToType=M30.Type=void 0;var B30=qb(),z30=Zb(),A30=QD(),V30=JD(),R30=KD(),G30=YD(),w30=qD(),O30=ZD(),T30=zq(),D30=XD(),C30=Xb(),P30=m90(),k30=Wb(),j30=Fb(),E30=WD(),L30=Ub(),h30=e90(),v30=Hb(),S30=FD(),_30=UD(),f30=HD(),I30=Nb(),ND;(function($){$[$.NONE=0]="NONE",$[$.Null=1]="Null",$[$.Int=2]="Int",$[$.FloatingPoint=3]="FloatingPoint",$[$.Binary=4]="Binary",$[$.Utf8=5]="Utf8",$[$.Bool=6]="Bool",$[$.Decimal=7]="Decimal",$[$.Date=8]="Date",$[$.Time=9]="Time",$[$.Timestamp=10]="Timestamp",$[$.Interval=11]="Interval",$[$.List=12]="List",$[$.Struct_=13]="Struct_",$[$.Union=14]="Union",$[$.FixedSizeBinary=15]="FixedSizeBinary",$[$.FixedSizeList=16]="FixedSizeList",$[$.Map=17]="Map",$[$.Duration=18]="Duration",$[$.LargeBinary=19]="LargeBinary",$[$.LargeUtf8=20]="LargeUtf8",$[$.LargeList=21]="LargeList",$[$.RunEndEncoded=22]="RunEndEncoded"})(ND||(M30.Type=ND={}));function Lx0($,Q){switch(ND[$]){case"NONE":return null;case"Null":return Q(new L30.Null);case"Int":return Q(new T30.Int);case"FloatingPoint":return Q(new O30.FloatingPoint);case"Binary":return Q(new B30.Binary);case"Utf8":return Q(new I30.Utf8);case"Bool":return Q(new z30.Bool);case"Decimal":return Q(new V30.Decimal);case"Date":return Q(new A30.Date);case"Time":return Q(new S30.Time);case"Timestamp":return Q(new _30.Timestamp);case"Interval":return Q(new D30.Interval);case"List":return Q(new j30.List);case"Struct_":return Q(new v30.Struct_);case"Union":return Q(new f30.Union);case"FixedSizeBinary":return Q(new G30.FixedSizeBinary);case"FixedSizeList":return Q(new w30.FixedSizeList);case"Map":return Q(new E30.Map);case"Duration":return Q(new R30.Duration);case"LargeBinary":return Q(new C30.LargeBinary);case"LargeUtf8":return Q(new k30.LargeUtf8);case"LargeList":return Q(new P30.LargeList);case"RunEndEncoded":return Q(new h30.RunEndEncoded);default:return null}}M30.unionToType=Lx0;function hx0($,Q,J){switch(ND[$]){case"NONE":return null;case"Null":return Q(J,new L30.Null);case"Int":return Q(J,new T30.Int);case"FloatingPoint":return Q(J,new O30.FloatingPoint);case"Binary":return Q(J,new B30.Binary);case"Utf8":return Q(J,new I30.Utf8);case"Bool":return Q(J,new z30.Bool);case"Decimal":return Q(J,new V30.Decimal);case"Date":return Q(J,new A30.Date);case"Time":return Q(J,new S30.Time);case"Timestamp":return Q(J,new _30.Timestamp);case"Interval":return Q(J,new D30.Interval);case"List":return Q(J,new j30.List);case"Struct_":return Q(J,new v30.Struct_);case"Union":return Q(J,new f30.Union);case"FixedSizeBinary":return Q(J,new G30.FixedSizeBinary);case"FixedSizeList":return Q(J,new w30.FixedSizeList);case"Map":return Q(J,new E30.Map);case"Duration":return Q(J,new R30.Duration);case"LargeBinary":return Q(J,new C30.LargeBinary);case"LargeUtf8":return Q(J,new k30.LargeUtf8);case"LargeList":return Q(J,new P30.LargeList);case"RunEndEncoded":return Q(J,new h30.RunEndEncoded);default:return null}}M30.unionListToType=hx0});var Bb=w0((y30)=>{Object.defineProperty(y30,"__esModule",{value:!0});y30.Field=void 0;var _x0=V5(),fx0=Yb(),Ix0=PU(),g30=MU();class BA{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsField($,Q){return(Q||new BA).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsField($,Q){return $.setPosition($.position()+_x0.SIZE_PREFIX_LENGTH),(Q||new BA).__init($.readInt32($.position())+$.position(),$)}name($){let Q=this.bb.__offset(this.bb_pos,4);return Q?this.bb.__string(this.bb_pos+Q,$):null}nullable(){let $=this.bb.__offset(this.bb_pos,6);return $?!!this.bb.readInt8(this.bb_pos+$):!1}typeType(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.readUint8(this.bb_pos+$):g30.Type.NONE}type($){let Q=this.bb.__offset(this.bb_pos,10);return Q?this.bb.__union($,this.bb_pos+Q):null}dictionary($){let Q=this.bb.__offset(this.bb_pos,12);return Q?($||new fx0.DictionaryEncoding).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}children($,Q){let J=this.bb.__offset(this.bb_pos,14);return J?(Q||new BA).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}childrenLength(){let $=this.bb.__offset(this.bb_pos,14);return $?this.bb.__vector_len(this.bb_pos+$):0}customMetadata($,Q){let J=this.bb.__offset(this.bb_pos,16);return J?(Q||new Ix0.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}customMetadataLength(){let $=this.bb.__offset(this.bb_pos,16);return $?this.bb.__vector_len(this.bb_pos+$):0}static startField($){$.startObject(7)}static addName($,Q){$.addFieldOffset(0,Q,0)}static addNullable($,Q){$.addFieldInt8(1,+Q,0)}static addTypeType($,Q){$.addFieldInt8(2,Q,g30.Type.NONE)}static addType($,Q){$.addFieldOffset(3,Q,0)}static addDictionary($,Q){$.addFieldOffset(4,Q,0)}static addChildren($,Q){$.addFieldOffset(5,Q,0)}static createChildrenVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startChildrenVector($,Q){$.startVector(4,Q,4)}static addCustomMetadata($,Q){$.addFieldOffset(6,Q,0)}static createCustomMetadataVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startCustomMetadataVector($,Q){$.startVector(4,Q,4)}static endField($){return $.endObject()}}y30.Field=BA});var BD=w0((u30)=>{Object.defineProperty(u30,"__esModule",{value:!0});u30.Schema=void 0;var Mx0=V5(),c30=Kb(),bx0=Bb(),gx0=PU();class mQ{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsSchema($,Q){return(Q||new mQ).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsSchema($,Q){return $.setPosition($.position()+Mx0.SIZE_PREFIX_LENGTH),(Q||new mQ).__init($.readInt32($.position())+$.position(),$)}endianness(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):c30.Endianness.Little}fields($,Q){let J=this.bb.__offset(this.bb_pos,6);return J?(Q||new bx0.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}fieldsLength(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__vector_len(this.bb_pos+$):0}customMetadata($,Q){let J=this.bb.__offset(this.bb_pos,8);return J?(Q||new gx0.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}customMetadataLength(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.__vector_len(this.bb_pos+$):0}features($){let Q=this.bb.__offset(this.bb_pos,10);return Q?this.bb.readInt64(this.bb.__vector(this.bb_pos+Q)+$*8):BigInt(0)}featuresLength(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.__vector_len(this.bb_pos+$):0}static startSchema($){$.startObject(4)}static addEndianness($,Q){$.addFieldInt16(0,Q,c30.Endianness.Little)}static addFields($,Q){$.addFieldOffset(1,Q,0)}static createFieldsVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startFieldsVector($,Q){$.startVector(4,Q,4)}static addCustomMetadata($,Q){$.addFieldOffset(2,Q,0)}static createCustomMetadataVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startCustomMetadataVector($,Q){$.startVector(4,Q,4)}static addFeatures($,Q){$.addFieldOffset(3,Q,0)}static createFeaturesVector($,Q){$.startVector(8,Q.length,8);for(let J=Q.length-1;J>=0;J--)$.addInt64(Q[J]);return $.endVector()}static startFeaturesVector($,Q){$.startVector(8,Q,8)}static endSchema($){return $.endObject()}static finishSchemaBuffer($,Q){$.finish(Q)}static finishSizePrefixedSchemaBuffer($,Q){$.finish(Q,void 0,!0)}static createSchema($,Q,J,K,Y){return mQ.startSchema($),mQ.addEndianness($,Q),mQ.addFields($,J),mQ.addCustomMetadata($,K),mQ.addFeatures($,Y),mQ.endSchema($)}}u30.Schema=mQ});var l30=w0((d30)=>{Object.defineProperty(d30,"__esModule",{value:!0});d30.SparseMatrixCompressedAxis=void 0;var p30;(function($){$[$.Row=0]="Row",$[$.Column=1]="Column"})(p30||(d30.SparseMatrixCompressedAxis=p30={}))});var t30=w0((o30)=>{Object.defineProperty(o30,"__esModule",{value:!0});o30.SparseMatrixIndexCSX=void 0;var yx0=V5(),r30=Nq(),i30=zq(),s30=l30();class zD{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsSparseMatrixIndexCSX($,Q){return(Q||new zD).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsSparseMatrixIndexCSX($,Q){return $.setPosition($.position()+yx0.SIZE_PREFIX_LENGTH),(Q||new zD).__init($.readInt32($.position())+$.position(),$)}compressedAxis(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):s30.SparseMatrixCompressedAxis.Row}indptrType($){let Q=this.bb.__offset(this.bb_pos,6);return Q?($||new i30.Int).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}indptrBuffer($){let Q=this.bb.__offset(this.bb_pos,8);return Q?($||new r30.Buffer).__init(this.bb_pos+Q,this.bb):null}indicesType($){let Q=this.bb.__offset(this.bb_pos,10);return Q?($||new i30.Int).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}indicesBuffer($){let Q=this.bb.__offset(this.bb_pos,12);return Q?($||new r30.Buffer).__init(this.bb_pos+Q,this.bb):null}static startSparseMatrixIndexCSX($){$.startObject(5)}static addCompressedAxis($,Q){$.addFieldInt16(0,Q,s30.SparseMatrixCompressedAxis.Row)}static addIndptrType($,Q){$.addFieldOffset(1,Q,0)}static addIndptrBuffer($,Q){$.addFieldStruct(2,Q,0)}static addIndicesType($,Q){$.addFieldOffset(3,Q,0)}static addIndicesBuffer($,Q){$.addFieldStruct(4,Q,0)}static endSparseMatrixIndexCSX($){let Q=$.endObject();return $.requiredField(Q,6),$.requiredField(Q,8),$.requiredField(Q,10),$.requiredField(Q,12),Q}}o30.SparseMatrixIndexCSX=zD});var Q$0=w0((e30)=>{Object.defineProperty(e30,"__esModule",{value:!0});e30.SparseTensorIndexCOO=void 0;var xx0=V5(),cx0=Nq(),ux0=zq();class AD{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsSparseTensorIndexCOO($,Q){return(Q||new AD).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsSparseTensorIndexCOO($,Q){return $.setPosition($.position()+xx0.SIZE_PREFIX_LENGTH),(Q||new AD).__init($.readInt32($.position())+$.position(),$)}indicesType($){let Q=this.bb.__offset(this.bb_pos,4);return Q?($||new ux0.Int).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}indicesStrides($){let Q=this.bb.__offset(this.bb_pos,6);return Q?this.bb.readInt64(this.bb.__vector(this.bb_pos+Q)+$*8):BigInt(0)}indicesStridesLength(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__vector_len(this.bb_pos+$):0}indicesBuffer($){let Q=this.bb.__offset(this.bb_pos,8);return Q?($||new cx0.Buffer).__init(this.bb_pos+Q,this.bb):null}isCanonical(){let $=this.bb.__offset(this.bb_pos,10);return $?!!this.bb.readInt8(this.bb_pos+$):!1}static startSparseTensorIndexCOO($){$.startObject(4)}static addIndicesType($,Q){$.addFieldOffset(0,Q,0)}static addIndicesStrides($,Q){$.addFieldOffset(1,Q,0)}static createIndicesStridesVector($,Q){$.startVector(8,Q.length,8);for(let J=Q.length-1;J>=0;J--)$.addInt64(Q[J]);return $.endVector()}static startIndicesStridesVector($,Q){$.startVector(8,Q,8)}static addIndicesBuffer($,Q){$.addFieldStruct(2,Q,0)}static addIsCanonical($,Q){$.addFieldInt8(3,+Q,0)}static endSparseTensorIndexCOO($){let Q=$.endObject();return $.requiredField(Q,4),$.requiredField(Q,8),Q}}e30.SparseTensorIndexCOO=AD});var Z$0=w0((Y$0)=>{Object.defineProperty(Y$0,"__esModule",{value:!0});Y$0.SparseTensorIndexCSF=void 0;var mx0=V5(),J$0=Nq(),K$0=zq();class VD{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsSparseTensorIndexCSF($,Q){return(Q||new VD).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsSparseTensorIndexCSF($,Q){return $.setPosition($.position()+mx0.SIZE_PREFIX_LENGTH),(Q||new VD).__init($.readInt32($.position())+$.position(),$)}indptrType($){let Q=this.bb.__offset(this.bb_pos,4);return Q?($||new K$0.Int).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}indptrBuffers($,Q){let J=this.bb.__offset(this.bb_pos,6);return J?(Q||new J$0.Buffer).__init(this.bb.__vector(this.bb_pos+J)+$*16,this.bb):null}indptrBuffersLength(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__vector_len(this.bb_pos+$):0}indicesType($){let Q=this.bb.__offset(this.bb_pos,8);return Q?($||new K$0.Int).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}indicesBuffers($,Q){let J=this.bb.__offset(this.bb_pos,10);return J?(Q||new J$0.Buffer).__init(this.bb.__vector(this.bb_pos+J)+$*16,this.bb):null}indicesBuffersLength(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.__vector_len(this.bb_pos+$):0}axisOrder($){let Q=this.bb.__offset(this.bb_pos,12);return Q?this.bb.readInt32(this.bb.__vector(this.bb_pos+Q)+$*4):0}axisOrderLength(){let $=this.bb.__offset(this.bb_pos,12);return $?this.bb.__vector_len(this.bb_pos+$):0}axisOrderArray(){let $=this.bb.__offset(this.bb_pos,12);return $?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+$),this.bb.__vector_len(this.bb_pos+$)):null}static startSparseTensorIndexCSF($){$.startObject(5)}static addIndptrType($,Q){$.addFieldOffset(0,Q,0)}static addIndptrBuffers($,Q){$.addFieldOffset(1,Q,0)}static startIndptrBuffersVector($,Q){$.startVector(16,Q,8)}static addIndicesType($,Q){$.addFieldOffset(2,Q,0)}static addIndicesBuffers($,Q){$.addFieldOffset(3,Q,0)}static startIndicesBuffersVector($,Q){$.startVector(16,Q,8)}static addAxisOrder($,Q){$.addFieldOffset(4,Q,0)}static createAxisOrderVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addInt32(Q[J]);return $.endVector()}static startAxisOrderVector($,Q){$.startVector(4,Q,4)}static endSparseTensorIndexCSF($){let Q=$.endObject();return $.requiredField(Q,4),$.requiredField(Q,6),$.requiredField(Q,8),$.requiredField(Q,10),$.requiredField(Q,12),Q}}Y$0.SparseTensorIndexCSF=VD});var N$0=w0((U$0)=>{Object.defineProperty(U$0,"__esModule",{value:!0});U$0.unionListToSparseTensorIndex=U$0.unionToSparseTensorIndex=U$0.SparseTensorIndex=void 0;var X$0=t30(),W$0=Q$0(),F$0=Z$0(),RD;(function($){$[$.NONE=0]="NONE",$[$.SparseTensorIndexCOO=1]="SparseTensorIndexCOO",$[$.SparseMatrixIndexCSX=2]="SparseMatrixIndexCSX",$[$.SparseTensorIndexCSF=3]="SparseTensorIndexCSF"})(RD||(U$0.SparseTensorIndex=RD={}));function px0($,Q){switch(RD[$]){case"NONE":return null;case"SparseTensorIndexCOO":return Q(new W$0.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return Q(new X$0.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return Q(new F$0.SparseTensorIndexCSF);default:return null}}U$0.unionToSparseTensorIndex=px0;function dx0($,Q,J){switch(RD[$]){case"NONE":return null;case"SparseTensorIndexCOO":return Q(J,new W$0.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return Q(J,new X$0.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return Q(J,new F$0.SparseTensorIndexCSF);default:return null}}U$0.unionListToSparseTensorIndex=dx0});var zb=w0((B$0)=>{Object.defineProperty(B$0,"__esModule",{value:!0});B$0.TensorDim=void 0;var rx0=V5();class wq{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsTensorDim($,Q){return(Q||new wq).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsTensorDim($,Q){return $.setPosition($.position()+rx0.SIZE_PREFIX_LENGTH),(Q||new wq).__init($.readInt32($.position())+$.position(),$)}size(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt64(this.bb_pos+$):BigInt("0")}name($){let Q=this.bb.__offset(this.bb_pos,6);return Q?this.bb.__string(this.bb_pos+Q,$):null}static startTensorDim($){$.startObject(2)}static addSize($,Q){$.addFieldInt64(0,Q,BigInt("0"))}static addName($,Q){$.addFieldOffset(1,Q,0)}static endTensorDim($){return $.endObject()}static createTensorDim($,Q,J){return wq.startTensorDim($),wq.addSize($,Q),wq.addName($,J),wq.endTensorDim($)}}B$0.TensorDim=wq});var w$0=w0((R$0)=>{Object.defineProperty(R$0,"__esModule",{value:!0});R$0.SparseTensor=void 0;var ix0=V5(),sx0=Nq(),A$0=N$0(),ox0=zb(),V$0=MU();class GD{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsSparseTensor($,Q){return(Q||new GD).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsSparseTensor($,Q){return $.setPosition($.position()+ix0.SIZE_PREFIX_LENGTH),(Q||new GD).__init($.readInt32($.position())+$.position(),$)}typeType(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readUint8(this.bb_pos+$):V$0.Type.NONE}type($){let Q=this.bb.__offset(this.bb_pos,6);return Q?this.bb.__union($,this.bb_pos+Q):null}shape($,Q){let J=this.bb.__offset(this.bb_pos,8);return J?(Q||new ox0.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}shapeLength(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.__vector_len(this.bb_pos+$):0}nonZeroLength(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.readInt64(this.bb_pos+$):BigInt("0")}sparseIndexType(){let $=this.bb.__offset(this.bb_pos,12);return $?this.bb.readUint8(this.bb_pos+$):A$0.SparseTensorIndex.NONE}sparseIndex($){let Q=this.bb.__offset(this.bb_pos,14);return Q?this.bb.__union($,this.bb_pos+Q):null}data($){let Q=this.bb.__offset(this.bb_pos,16);return Q?($||new sx0.Buffer).__init(this.bb_pos+Q,this.bb):null}static startSparseTensor($){$.startObject(7)}static addTypeType($,Q){$.addFieldInt8(0,Q,V$0.Type.NONE)}static addType($,Q){$.addFieldOffset(1,Q,0)}static addShape($,Q){$.addFieldOffset(2,Q,0)}static createShapeVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startShapeVector($,Q){$.startVector(4,Q,4)}static addNonZeroLength($,Q){$.addFieldInt64(3,Q,BigInt("0"))}static addSparseIndexType($,Q){$.addFieldInt8(4,Q,A$0.SparseTensorIndex.NONE)}static addSparseIndex($,Q){$.addFieldOffset(5,Q,0)}static addData($,Q){$.addFieldStruct(6,Q,0)}static endSparseTensor($){let Q=$.endObject();return $.requiredField(Q,6),$.requiredField(Q,8),$.requiredField(Q,14),$.requiredField(Q,16),Q}static finishSparseTensorBuffer($,Q){$.finish(Q)}static finishSizePrefixedSparseTensorBuffer($,Q){$.finish(Q,void 0,!0)}}R$0.SparseTensor=GD});var C$0=w0((T$0)=>{Object.defineProperty(T$0,"__esModule",{value:!0});T$0.Tensor=void 0;var ax0=V5(),tx0=Nq(),ex0=zb(),O$0=MU();class wD{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsTensor($,Q){return(Q||new wD).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsTensor($,Q){return $.setPosition($.position()+ax0.SIZE_PREFIX_LENGTH),(Q||new wD).__init($.readInt32($.position())+$.position(),$)}typeType(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readUint8(this.bb_pos+$):O$0.Type.NONE}type($){let Q=this.bb.__offset(this.bb_pos,6);return Q?this.bb.__union($,this.bb_pos+Q):null}shape($,Q){let J=this.bb.__offset(this.bb_pos,8);return J?(Q||new ex0.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}shapeLength(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.__vector_len(this.bb_pos+$):0}strides($){let Q=this.bb.__offset(this.bb_pos,10);return Q?this.bb.readInt64(this.bb.__vector(this.bb_pos+Q)+$*8):BigInt(0)}stridesLength(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.__vector_len(this.bb_pos+$):0}data($){let Q=this.bb.__offset(this.bb_pos,12);return Q?($||new tx0.Buffer).__init(this.bb_pos+Q,this.bb):null}static startTensor($){$.startObject(5)}static addTypeType($,Q){$.addFieldInt8(0,Q,O$0.Type.NONE)}static addType($,Q){$.addFieldOffset(1,Q,0)}static addShape($,Q){$.addFieldOffset(2,Q,0)}static createShapeVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startShapeVector($,Q){$.startVector(4,Q,4)}static addStrides($,Q){$.addFieldOffset(3,Q,0)}static createStridesVector($,Q){$.startVector(8,Q.length,8);for(let J=Q.length-1;J>=0;J--)$.addInt64(Q[J]);return $.endVector()}static startStridesVector($,Q){$.startVector(8,Q,8)}static addData($,Q){$.addFieldStruct(4,Q,0)}static endTensor($){let Q=$.endObject();return $.requiredField(Q,6),$.requiredField(Q,8),$.requiredField(Q,12),Q}static finishTensorBuffer($,Q){$.finish(Q)}static finishSizePrefixedTensorBuffer($,Q){$.finish(Q,void 0,!0)}}T$0.Tensor=wD});var TD=w0((h$0)=>{Object.defineProperty(h$0,"__esModule",{value:!0});h$0.unionListToMessageHeader=h$0.unionToMessageHeader=h$0.MessageHeader=void 0;var P$0=Jb(),k$0=tT(),j$0=BD(),E$0=w$0(),L$0=C$0(),OD;(function($){$[$.NONE=0]="NONE",$[$.Schema=1]="Schema",$[$.DictionaryBatch=2]="DictionaryBatch",$[$.RecordBatch=3]="RecordBatch",$[$.Tensor=4]="Tensor",$[$.SparseTensor=5]="SparseTensor"})(OD||(h$0.MessageHeader=OD={}));function $c0($,Q){switch(OD[$]){case"NONE":return null;case"Schema":return Q(new j$0.Schema);case"DictionaryBatch":return Q(new P$0.DictionaryBatch);case"RecordBatch":return Q(new k$0.RecordBatch);case"Tensor":return Q(new L$0.Tensor);case"SparseTensor":return Q(new E$0.SparseTensor);default:return null}}h$0.unionToMessageHeader=$c0;function Qc0($,Q,J){switch(OD[$]){case"NONE":return null;case"Schema":return Q(J,new j$0.Schema);case"DictionaryBatch":return Q(J,new P$0.DictionaryBatch);case"RecordBatch":return Q(J,new k$0.RecordBatch);case"Tensor":return Q(J,new L$0.Tensor);case"SparseTensor":return Q(J,new E$0.SparseTensor);default:return null}}h$0.unionListToMessageHeader=Qc0});var l6=w0((CK)=>{Object.defineProperty(CK,"__esModule",{value:!0});CK.BufferType=CK.Type=CK.MessageHeader=CK.IntervalUnit=CK.TimeUnit=CK.DateUnit=CK.Precision=CK.UnionMode=CK.MetadataVersion=void 0;var Yc0=sT();Object.defineProperty(CK,"MetadataVersion",{enumerable:!0,get:function(){return Yc0.MetadataVersion}});var qc0=nM();Object.defineProperty(CK,"UnionMode",{enumerable:!0,get:function(){return qc0.UnionMode}});var Zc0=lM();Object.defineProperty(CK,"Precision",{enumerable:!0,get:function(){return Zc0.Precision}});var Xc0=rM();Object.defineProperty(CK,"DateUnit",{enumerable:!0,get:function(){return Xc0.DateUnit}});var Wc0=NA();Object.defineProperty(CK,"TimeUnit",{enumerable:!0,get:function(){return Wc0.TimeUnit}});var Fc0=iM();Object.defineProperty(CK,"IntervalUnit",{enumerable:!0,get:function(){return Fc0.IntervalUnit}});var Uc0=TD();Object.defineProperty(CK,"MessageHeader",{enumerable:!0,get:function(){return Uc0.MessageHeader}});var S$0;(function($){$[$.NONE=0]="NONE",$[$.Null=1]="Null",$[$.Int=2]="Int",$[$.Float=3]="Float",$[$.Binary=4]="Binary",$[$.Utf8=5]="Utf8",$[$.Bool=6]="Bool",$[$.Decimal=7]="Decimal",$[$.Date=8]="Date",$[$.Time=9]="Time",$[$.Timestamp=10]="Timestamp",$[$.Interval=11]="Interval",$[$.List=12]="List",$[$.Struct=13]="Struct",$[$.Union=14]="Union",$[$.FixedSizeBinary=15]="FixedSizeBinary",$[$.FixedSizeList=16]="FixedSizeList",$[$.Map=17]="Map",$[$.Duration=18]="Duration",$[$.LargeBinary=19]="LargeBinary",$[$.LargeUtf8=20]="LargeUtf8",$[$.Dictionary=-1]="Dictionary",$[$.Int8=-2]="Int8",$[$.Int16=-3]="Int16",$[$.Int32=-4]="Int32",$[$.Int64=-5]="Int64",$[$.Uint8=-6]="Uint8",$[$.Uint16=-7]="Uint16",$[$.Uint32=-8]="Uint32",$[$.Uint64=-9]="Uint64",$[$.Float16=-10]="Float16",$[$.Float32=-11]="Float32",$[$.Float64=-12]="Float64",$[$.DateDay=-13]="DateDay",$[$.DateMillisecond=-14]="DateMillisecond",$[$.TimestampSecond=-15]="TimestampSecond",$[$.TimestampMillisecond=-16]="TimestampMillisecond",$[$.TimestampMicrosecond=-17]="TimestampMicrosecond",$[$.TimestampNanosecond=-18]="TimestampNanosecond",$[$.TimeSecond=-19]="TimeSecond",$[$.TimeMillisecond=-20]="TimeMillisecond",$[$.TimeMicrosecond=-21]="TimeMicrosecond",$[$.TimeNanosecond=-22]="TimeNanosecond",$[$.DenseUnion=-23]="DenseUnion",$[$.SparseUnion=-24]="SparseUnion",$[$.IntervalDayTime=-25]="IntervalDayTime",$[$.IntervalYearMonth=-26]="IntervalYearMonth",$[$.DurationSecond=-27]="DurationSecond",$[$.DurationMillisecond=-28]="DurationMillisecond",$[$.DurationMicrosecond=-29]="DurationMicrosecond",$[$.DurationNanosecond=-30]="DurationNanosecond"})(S$0||(CK.Type=S$0={}));var _$0;(function($){$[$.OFFSET=0]="OFFSET",$[$.DATA=1]="DATA",$[$.VALIDITY=2]="VALIDITY",$[$.TYPE=3]="TYPE"})(_$0||(CK.BufferType=_$0={}))});var zA=w0((M$0)=>{Object.defineProperty(M$0,"__esModule",{value:!0});M$0.valueToString=void 0;var Nc0=void 0;function I$0($){if($===null)return"null";if($===Nc0)return"undefined";switch(typeof $){case"number":return`${$}`;case"bigint":return`${$}`;case"string":return`"${$}"`}if(typeof $[Symbol.toPrimitive]==="function")return $[Symbol.toPrimitive]("string");if(ArrayBuffer.isView($)){if($ instanceof BigInt64Array||$ instanceof BigUint64Array)return`[${[...$].map((Q)=>I$0(Q))}]`;return`[${$}]`}return ArrayBuffer.isView($)?`[${$}]`:JSON.stringify($,(Q,J)=>typeof J==="bigint"?`${J}`:J)}M$0.valueToString=I$0});var Oq=w0((g$0)=>{Object.defineProperty(g$0,"__esModule",{value:!0});g$0.divideBigInts=g$0.bigIntToNumber=void 0;function DD($){if(typeof $==="bigint"&&($<Number.MIN_SAFE_INTEGER||$>Number.MAX_SAFE_INTEGER))throw TypeError(`${$} is not safe to convert to a number.`);return Number($)}g$0.bigIntToNumber=DD;function Bc0($,Q){return DD($/Q)+DD($%Q)/DD(Q)}g$0.divideBigInts=Bc0});var PD=w0((c$0)=>{Object.defineProperty(c$0,"__esModule",{value:!0});c$0.BN=c$0.bigNumToBigInt=c$0.bigNumToString=c$0.bigNumToNumber=c$0.isArrowBigNumSymbol=void 0;var Ac0=t7(),CD=Oq();c$0.isArrowBigNumSymbol=Symbol.for("isArrowBigNum");function j$($,...Q){if(Q.length===0)return Object.setPrototypeOf((0,Ac0.toArrayBufferView)(this.TypedArray,$),this.constructor.prototype);return Object.setPrototypeOf(new this.TypedArray($,...Q),this.constructor.prototype)}j$.prototype[c$0.isArrowBigNumSymbol]=!0;j$.prototype.toJSON=function(){return`"${yU(this)}"`};j$.prototype.valueOf=function($){return Vb(this,$)};j$.prototype.toString=function(){return yU(this)};j$.prototype[Symbol.toPrimitive]=function($="default"){switch($){case"number":return Vb(this);case"string":return yU(this);case"default":return x$0(this)}return yU(this)};function bU(...$){return j$.apply(this,$)}function gU(...$){return j$.apply(this,$)}function AA(...$){return j$.apply(this,$)}Object.setPrototypeOf(bU.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(gU.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(AA.prototype,Object.create(Uint32Array.prototype));Object.assign(bU.prototype,j$.prototype,{constructor:bU,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(gU.prototype,j$.prototype,{constructor:gU,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(AA.prototype,j$.prototype,{constructor:AA,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});var Vc0=BigInt(4294967296)*BigInt(4294967296),Rc0=Vc0-BigInt(1);function Vb($,Q){let{buffer:J,byteOffset:K,byteLength:Y,signed:q}=$,Z=new BigUint64Array(J,K,Y/8),X=q&&Z.at(-1)&BigInt(1)<<BigInt(63),W=BigInt(0),F=0;if(X){for(let H of Z)W|=(H^Rc0)*(BigInt(1)<<BigInt(64*F++));W*=BigInt(-1),W-=BigInt(1)}else for(let H of Z)W|=H*(BigInt(1)<<BigInt(64*F++));if(typeof Q==="number"){let H=BigInt(Math.pow(10,Q)),B=W/H,z=W%H;return(0,CD.bigIntToNumber)(B)+(0,CD.bigIntToNumber)(z)/(0,CD.bigIntToNumber)(H)}return(0,CD.bigIntToNumber)(W)}c$0.bigNumToNumber=Vb;function yU($){if($.byteLength===8)return`${new $.BigIntArray($.buffer,$.byteOffset,1)[0]}`;if(!$.signed)return Ab($);let Q=new Uint16Array($.buffer,$.byteOffset,$.byteLength/2);if(new Int16Array([Q.at(-1)])[0]>=0)return Ab($);Q=Q.slice();let K=1;for(let q=0;q<Q.length;q++){let Z=Q[q],X=~Z+K;Q[q]=X,K&=Z===0?1:0}return`-${Ab(Q)}`}c$0.bigNumToString=yU;function x$0($){if($.byteLength===8)return new $.BigIntArray($.buffer,$.byteOffset,1)[0];else return yU($)}c$0.bigNumToBigInt=x$0;function Ab($){let Q="",J=new Uint32Array(2),K=new Uint16Array($.buffer,$.byteOffset,$.byteLength/2),Y=new Uint32Array((K=new Uint16Array(K).reverse()).buffer),q=-1,Z=K.length-1;do{for(J[0]=K[q=0];q<Z;)K[q++]=J[1]=J[0]/10,J[0]=(J[0]-J[1]*10<<16)+K[q];K[q]=J[1]=J[0]/10,J[0]=J[0]-J[1]*10,Q=`${J[0]}${Q}`}while(Y[0]||Y[1]||Y[2]||Y[3]);return Q!==null&&Q!==void 0?Q:"0"}class Rb{static new($,Q){switch(Q){case!0:return new bU($);case!1:return new gU($)}switch($.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new bU($)}if($.byteLength===16)return new AA($);return new gU($)}static signed($){return new bU($)}static unsigned($){return new gU($)}static decimal($){return new AA($)}constructor($,Q){return Rb.new($,Q)}}c$0.BN=Rb});var h6=w0((hQ0)=>{var p$0,d$0,n$0,l$0,r$0,i$0,s$0,o$0,a$0,t$0,e$0,$Q0,QQ0,JQ0,KQ0,YQ0,qQ0,ZQ0,XQ0,WQ0,FQ0,UQ0;Object.defineProperty(hQ0,"__esModule",{value:!0});hQ0.Map_=hQ0.FixedSizeList=hQ0.FixedSizeBinary=hQ0.SparseUnion=hQ0.DenseUnion=hQ0.Union=hQ0.Struct=hQ0.List=hQ0.DurationNanosecond=hQ0.DurationMicrosecond=hQ0.DurationMillisecond=hQ0.DurationSecond=hQ0.Duration=hQ0.IntervalYearMonth=hQ0.IntervalDayTime=hQ0.Interval=hQ0.TimestampNanosecond=hQ0.TimestampMicrosecond=hQ0.TimestampMillisecond=hQ0.TimestampSecond=hQ0.Timestamp=hQ0.TimeNanosecond=hQ0.TimeMicrosecond=hQ0.TimeMillisecond=hQ0.TimeSecond=hQ0.Time=hQ0.DateMillisecond=hQ0.DateDay=hQ0.Date_=hQ0.Decimal=hQ0.Bool=hQ0.LargeUtf8=hQ0.Utf8=hQ0.LargeBinary=hQ0.Binary=hQ0.Float64=hQ0.Float32=hQ0.Float16=hQ0.Float=hQ0.Uint64=hQ0.Uint32=hQ0.Uint16=hQ0.Uint8=hQ0.Int64=hQ0.Int32=hQ0.Int16=hQ0.Int8=hQ0.Int=hQ0.Null=hQ0.DataType=void 0;hQ0.strideForType=hQ0.Dictionary=void 0;var Tc0=Oq(),Y1=l6();class R6{static isNull($){return($===null||$===void 0?void 0:$.typeId)===Y1.Type.Null}static isInt($){return($===null||$===void 0?void 0:$.typeId)===Y1.Type.Int}static isFloat($){return($===null||$===void 0?void 0:$.typeId)===Y1.Type.Float}static isBinary($){return($===null||$===void 0?void 0:$.typeId)===Y1.Type.Binary}static isLargeBinary($){return($===null||$===void 0?void 0:$.typeId)===Y1.Type.LargeBinary}static isUtf8($){return($===null||$===void 0?void 0:$.typeId)===Y1.Type.Utf8}static isLargeUtf8($){return($===null||$===void 0?void 0:$.typeId)===Y1.Type.LargeUtf8}static isBool($){return($===null||$===void 0?void 0:$.typeId)===Y1.Type.Bool}static isDecimal($){return($===null||$===void 0?void 0:$.typeId)===Y1.Type.Decimal}static isDate($){return($===null||$===void 0?void 0:$.typeId)===Y1.Type.Date}static isTime($){return($===null||$===void 0?void 0:$.typeId)===Y1.Type.Time}static isTimestamp($){return($===null||$===void 0?void 0:$.typeId)===Y1.Type.Timestamp}static isInterval($){return($===null||$===void 0?void 0:$.typeId)===Y1.Type.Interval}static isDuration($){return($===null||$===void 0?void 0:$.typeId)===Y1.Type.Duration}static isList($){return($===null||$===void 0?void 0:$.typeId)===Y1.Type.List}static isStruct($){return($===null||$===void 0?void 0:$.typeId)===Y1.Type.Struct}static isUnion($){return($===null||$===void 0?void 0:$.typeId)===Y1.Type.Union}static isFixedSizeBinary($){return($===null||$===void 0?void 0:$.typeId)===Y1.Type.FixedSizeBinary}static isFixedSizeList($){return($===null||$===void 0?void 0:$.typeId)===Y1.Type.FixedSizeList}static isMap($){return($===null||$===void 0?void 0:$.typeId)===Y1.Type.Map}static isDictionary($){return($===null||$===void 0?void 0:$.typeId)===Y1.Type.Dictionary}static isDenseUnion($){return R6.isUnion($)&&$.mode===Y1.UnionMode.Dense}static isSparseUnion($){return R6.isUnion($)&&$.mode===Y1.UnionMode.Sparse}constructor($){this.typeId=$}}hQ0.DataType=R6;p$0=Symbol.toStringTag;R6[p$0]=(($)=>{return $.children=null,$.ArrayType=Array,$.OffsetArrayType=Int32Array,$[Symbol.toStringTag]="DataType"})(R6.prototype);class kD extends R6{constructor(){super(Y1.Type.Null)}toString(){return"Null"}}hQ0.Null=kD;d$0=Symbol.toStringTag;kD[d$0]=(($)=>$[Symbol.toStringTag]="Null")(kD.prototype);class A3 extends R6{constructor($,Q){super(Y1.Type.Int);this.isSigned=$,this.bitWidth=Q}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}hQ0.Int=A3;n$0=Symbol.toStringTag;A3[n$0]=(($)=>{return $.isSigned=null,$.bitWidth=null,$[Symbol.toStringTag]="Int"})(A3.prototype);class Gb extends A3{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}hQ0.Int8=Gb;class wb extends A3{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}hQ0.Int16=wb;class Ob extends A3{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}hQ0.Int32=Ob;class Tb extends A3{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}hQ0.Int64=Tb;class Db extends A3{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}hQ0.Uint8=Db;class Cb extends A3{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}hQ0.Uint16=Cb;class Pb extends A3{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}hQ0.Uint32=Pb;class kb extends A3{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}hQ0.Uint64=kb;Object.defineProperty(Gb.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(wb.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(Ob.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(Tb.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(Db.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(Cb.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(Pb.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(kb.prototype,"ArrayType",{value:BigUint64Array});class KX extends R6{constructor($){super(Y1.Type.Float);this.precision=$}get ArrayType(){switch(this.precision){case Y1.Precision.HALF:return Uint16Array;case Y1.Precision.SINGLE:return Float32Array;case Y1.Precision.DOUBLE:return Float64Array}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}hQ0.Float=KX;l$0=Symbol.toStringTag;KX[l$0]=(($)=>{return $.precision=null,$[Symbol.toStringTag]="Float"})(KX.prototype);class jb extends KX{constructor(){super(Y1.Precision.HALF)}}hQ0.Float16=jb;class Eb extends KX{constructor(){super(Y1.Precision.SINGLE)}}hQ0.Float32=Eb;class Lb extends KX{constructor(){super(Y1.Precision.DOUBLE)}}hQ0.Float64=Lb;Object.defineProperty(jb.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(Eb.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(Lb.prototype,"ArrayType",{value:Float64Array});class jD extends R6{constructor(){super(Y1.Type.Binary)}toString(){return"Binary"}}hQ0.Binary=jD;r$0=Symbol.toStringTag;jD[r$0]=(($)=>{return $.ArrayType=Uint8Array,$[Symbol.toStringTag]="Binary"})(jD.prototype);class ED extends R6{constructor(){super(Y1.Type.LargeBinary)}toString(){return"LargeBinary"}}hQ0.LargeBinary=ED;i$0=Symbol.toStringTag;ED[i$0]=(($)=>{return $.ArrayType=Uint8Array,$.OffsetArrayType=BigInt64Array,$[Symbol.toStringTag]="LargeBinary"})(ED.prototype);class LD extends R6{constructor(){super(Y1.Type.Utf8)}toString(){return"Utf8"}}hQ0.Utf8=LD;s$0=Symbol.toStringTag;LD[s$0]=(($)=>{return $.ArrayType=Uint8Array,$[Symbol.toStringTag]="Utf8"})(LD.prototype);class hD extends R6{constructor(){super(Y1.Type.LargeUtf8)}toString(){return"LargeUtf8"}}hQ0.LargeUtf8=hD;o$0=Symbol.toStringTag;hD[o$0]=(($)=>{return $.ArrayType=Uint8Array,$.OffsetArrayType=BigInt64Array,$[Symbol.toStringTag]="LargeUtf8"})(hD.prototype);class vD extends R6{constructor(){super(Y1.Type.Bool)}toString(){return"Bool"}}hQ0.Bool=vD;a$0=Symbol.toStringTag;vD[a$0]=(($)=>{return $.ArrayType=Uint8Array,$[Symbol.toStringTag]="Bool"})(vD.prototype);class SD extends R6{constructor($,Q,J=128){super(Y1.Type.Decimal);this.scale=$,this.precision=Q,this.bitWidth=J}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}hQ0.Decimal=SD;t$0=Symbol.toStringTag;SD[t$0]=(($)=>{return $.scale=null,$.precision=null,$.ArrayType=Uint32Array,$[Symbol.toStringTag]="Decimal"})(SD.prototype);class xU extends R6{constructor($){super(Y1.Type.Date);this.unit=$}toString(){return`Date${(this.unit+1)*32}<${Y1.DateUnit[this.unit]}>`}get ArrayType(){return this.unit===Y1.DateUnit.DAY?Int32Array:BigInt64Array}}hQ0.Date_=xU;e$0=Symbol.toStringTag;xU[e$0]=(($)=>{return $.unit=null,$[Symbol.toStringTag]="Date"})(xU.prototype);class HQ0 extends xU{constructor(){super(Y1.DateUnit.DAY)}}hQ0.DateDay=HQ0;class NQ0 extends xU{constructor(){super(Y1.DateUnit.MILLISECOND)}}hQ0.DateMillisecond=NQ0;class Tq extends R6{constructor($,Q){super(Y1.Type.Time);this.unit=$,this.bitWidth=Q}toString(){return`Time${this.bitWidth}<${Y1.TimeUnit[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}hQ0.Time=Tq;$Q0=Symbol.toStringTag;Tq[$Q0]=(($)=>{return $.unit=null,$.bitWidth=null,$[Symbol.toStringTag]="Time"})(Tq.prototype);class BQ0 extends Tq{constructor(){super(Y1.TimeUnit.SECOND,32)}}hQ0.TimeSecond=BQ0;class zQ0 extends Tq{constructor(){super(Y1.TimeUnit.MILLISECOND,32)}}hQ0.TimeMillisecond=zQ0;class AQ0 extends Tq{constructor(){super(Y1.TimeUnit.MICROSECOND,64)}}hQ0.TimeMicrosecond=AQ0;class VQ0 extends Tq{constructor(){super(Y1.TimeUnit.NANOSECOND,64)}}hQ0.TimeNanosecond=VQ0;class Dq extends R6{constructor($,Q){super(Y1.Type.Timestamp);this.unit=$,this.timezone=Q}toString(){return`Timestamp<${Y1.TimeUnit[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}hQ0.Timestamp=Dq;QQ0=Symbol.toStringTag;Dq[QQ0]=(($)=>{return $.unit=null,$.timezone=null,$.ArrayType=BigInt64Array,$[Symbol.toStringTag]="Timestamp"})(Dq.prototype);class RQ0 extends Dq{constructor($){super(Y1.TimeUnit.SECOND,$)}}hQ0.TimestampSecond=RQ0;class GQ0 extends Dq{constructor($){super(Y1.TimeUnit.MILLISECOND,$)}}hQ0.TimestampMillisecond=GQ0;class wQ0 extends Dq{constructor($){super(Y1.TimeUnit.MICROSECOND,$)}}hQ0.TimestampMicrosecond=wQ0;class OQ0 extends Dq{constructor($){super(Y1.TimeUnit.NANOSECOND,$)}}hQ0.TimestampNanosecond=OQ0;class cU extends R6{constructor($){super(Y1.Type.Interval);this.unit=$}toString(){return`Interval<${Y1.IntervalUnit[this.unit]}>`}}hQ0.Interval=cU;JQ0=Symbol.toStringTag;cU[JQ0]=(($)=>{return $.unit=null,$.ArrayType=Int32Array,$[Symbol.toStringTag]="Interval"})(cU.prototype);class TQ0 extends cU{constructor(){super(Y1.IntervalUnit.DAY_TIME)}}hQ0.IntervalDayTime=TQ0;class DQ0 extends cU{constructor(){super(Y1.IntervalUnit.YEAR_MONTH)}}hQ0.IntervalYearMonth=DQ0;class Cq extends R6{constructor($){super(Y1.Type.Duration);this.unit=$}toString(){return`Duration<${Y1.TimeUnit[this.unit]}>`}}hQ0.Duration=Cq;KQ0=Symbol.toStringTag;Cq[KQ0]=(($)=>{return $.unit=null,$.ArrayType=BigInt64Array,$[Symbol.toStringTag]="Duration"})(Cq.prototype);class CQ0 extends Cq{constructor(){super(Y1.TimeUnit.SECOND)}}hQ0.DurationSecond=CQ0;class PQ0 extends Cq{constructor(){super(Y1.TimeUnit.MILLISECOND)}}hQ0.DurationMillisecond=PQ0;class kQ0 extends Cq{constructor(){super(Y1.TimeUnit.MICROSECOND)}}hQ0.DurationMicrosecond=kQ0;class jQ0 extends Cq{constructor(){super(Y1.TimeUnit.NANOSECOND)}}hQ0.DurationNanosecond=jQ0;class _D extends R6{constructor($){super(Y1.Type.List);this.children=[$]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}hQ0.List=_D;YQ0=Symbol.toStringTag;_D[YQ0]=(($)=>{return $.children=null,$[Symbol.toStringTag]="List"})(_D.prototype);class fD extends R6{constructor($){super(Y1.Type.Struct);this.children=$}toString(){return`Struct<{${this.children.map(($)=>`${$.name}:${$.type}`).join(", ")}}>`}}hQ0.Struct=fD;qQ0=Symbol.toStringTag;fD[qQ0]=(($)=>{return $.children=null,$[Symbol.toStringTag]="Struct"})(fD.prototype);class uU extends R6{constructor($,Q,J){super(Y1.Type.Union);this.mode=$,this.children=J,this.typeIds=Q=Int32Array.from(Q),this.typeIdToChildIndex=Q.reduce((K,Y,q)=>(K[Y]=q)&&K||K,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(($)=>`${$.type}`).join(" | ")}>`}}hQ0.Union=uU;ZQ0=Symbol.toStringTag;uU[ZQ0]=(($)=>{return $.mode=null,$.typeIds=null,$.children=null,$.typeIdToChildIndex=null,$.ArrayType=Int8Array,$[Symbol.toStringTag]="Union"})(uU.prototype);class EQ0 extends uU{constructor($,Q){super(Y1.UnionMode.Dense,$,Q)}}hQ0.DenseUnion=EQ0;class LQ0 extends uU{constructor($,Q){super(Y1.UnionMode.Sparse,$,Q)}}hQ0.SparseUnion=LQ0;class ID extends R6{constructor($){super(Y1.Type.FixedSizeBinary);this.byteWidth=$}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}hQ0.FixedSizeBinary=ID;XQ0=Symbol.toStringTag;ID[XQ0]=(($)=>{return $.byteWidth=null,$.ArrayType=Uint8Array,$[Symbol.toStringTag]="FixedSizeBinary"})(ID.prototype);class MD extends R6{constructor($,Q){super(Y1.Type.FixedSizeList);this.listSize=$,this.children=[Q]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}hQ0.FixedSizeList=MD;WQ0=Symbol.toStringTag;MD[WQ0]=(($)=>{return $.children=null,$.listSize=null,$[Symbol.toStringTag]="FixedSizeList"})(MD.prototype);class bD extends R6{constructor($,Q=!1){var J,K,Y;super(Y1.Type.Map);if(this.children=[$],this.keysSorted=Q,$){if($.name="entries",(J=$===null||$===void 0?void 0:$.type)===null||J===void 0?void 0:J.children){let q=(K=$===null||$===void 0?void 0:$.type)===null||K===void 0?void 0:K.children[0];if(q)q.name="key";let Z=(Y=$===null||$===void 0?void 0:$.type)===null||Y===void 0?void 0:Y.children[1];if(Z)Z.name="value"}}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(($)=>`${$.name}:${$.type}`).join(", ")}}>`}}hQ0.Map_=bD;FQ0=Symbol.toStringTag;bD[FQ0]=(($)=>{return $.children=null,$.keysSorted=null,$[Symbol.toStringTag]="Map_"})(bD.prototype);var Dc0=(($)=>()=>++$)(-1);class gD extends R6{constructor($,Q,J,K){super(Y1.Type.Dictionary);this.indices=Q,this.dictionary=$,this.isOrdered=K||!1,this.id=J==null?Dc0():(0,Tc0.bigIntToNumber)(J)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}hQ0.Dictionary=gD;UQ0=Symbol.toStringTag;gD[UQ0]=(($)=>{return $.id=null,$.indices=null,$.isOrdered=null,$.dictionary=null,$[Symbol.toStringTag]="Dictionary"})(gD.prototype);function Cc0($){let Q=$;switch($.typeId){case Y1.Type.Decimal:return $.bitWidth/32;case Y1.Type.Interval:return 1+Q.unit;case Y1.Type.FixedSizeList:return Q.listSize;case Y1.Type.FixedSizeBinary:return Q.byteWidth;default:return 1}}hQ0.strideForType=Cc0});var y4=w0((IQ0)=>{Object.defineProperty(IQ0,"__esModule",{value:!0});IQ0.Visitor=void 0;var G0=l6(),_Q0=h6();class p5{visitMany($,...Q){return $.map((J,K)=>this.visit(J,...Q.map((Y)=>Y[K])))}visit(...$){return this.getVisitFn($[0],!1).apply(this,$)}getVisitFn($,Q=!0){return Ou0(this,$,Q)}getVisitFnByTypeId($,Q=!0){return mU(this,$,Q)}visitNull($,...Q){return null}visitBool($,...Q){return null}visitInt($,...Q){return null}visitFloat($,...Q){return null}visitUtf8($,...Q){return null}visitLargeUtf8($,...Q){return null}visitBinary($,...Q){return null}visitLargeBinary($,...Q){return null}visitFixedSizeBinary($,...Q){return null}visitDate($,...Q){return null}visitTimestamp($,...Q){return null}visitTime($,...Q){return null}visitDecimal($,...Q){return null}visitList($,...Q){return null}visitStruct($,...Q){return null}visitUnion($,...Q){return null}visitDictionary($,...Q){return null}visitInterval($,...Q){return null}visitDuration($,...Q){return null}visitFixedSizeList($,...Q){return null}visitMap($,...Q){return null}}IQ0.Visitor=p5;function Ou0($,Q,J=!0){if(typeof Q==="number")return mU($,Q,J);if(typeof Q==="string"&&Q in G0.Type)return mU($,G0.Type[Q],J);if(Q&&Q instanceof _Q0.DataType)return mU($,fQ0(Q),J);if((Q===null||Q===void 0?void 0:Q.type)&&Q.type instanceof _Q0.DataType)return mU($,fQ0(Q.type),J);return mU($,G0.Type.NONE,J)}function mU($,Q,J=!0){let K=null;switch(Q){case G0.Type.Null:K=$.visitNull;break;case G0.Type.Bool:K=$.visitBool;break;case G0.Type.Int:K=$.visitInt;break;case G0.Type.Int8:K=$.visitInt8||$.visitInt;break;case G0.Type.Int16:K=$.visitInt16||$.visitInt;break;case G0.Type.Int32:K=$.visitInt32||$.visitInt;break;case G0.Type.Int64:K=$.visitInt64||$.visitInt;break;case G0.Type.Uint8:K=$.visitUint8||$.visitInt;break;case G0.Type.Uint16:K=$.visitUint16||$.visitInt;break;case G0.Type.Uint32:K=$.visitUint32||$.visitInt;break;case G0.Type.Uint64:K=$.visitUint64||$.visitInt;break;case G0.Type.Float:K=$.visitFloat;break;case G0.Type.Float16:K=$.visitFloat16||$.visitFloat;break;case G0.Type.Float32:K=$.visitFloat32||$.visitFloat;break;case G0.Type.Float64:K=$.visitFloat64||$.visitFloat;break;case G0.Type.Utf8:K=$.visitUtf8;break;case G0.Type.LargeUtf8:K=$.visitLargeUtf8;break;case G0.Type.Binary:K=$.visitBinary;break;case G0.Type.LargeBinary:K=$.visitLargeBinary;break;case G0.Type.FixedSizeBinary:K=$.visitFixedSizeBinary;break;case G0.Type.Date:K=$.visitDate;break;case G0.Type.DateDay:K=$.visitDateDay||$.visitDate;break;case G0.Type.DateMillisecond:K=$.visitDateMillisecond||$.visitDate;break;case G0.Type.Timestamp:K=$.visitTimestamp;break;case G0.Type.TimestampSecond:K=$.visitTimestampSecond||$.visitTimestamp;break;case G0.Type.TimestampMillisecond:K=$.visitTimestampMillisecond||$.visitTimestamp;break;case G0.Type.TimestampMicrosecond:K=$.visitTimestampMicrosecond||$.visitTimestamp;break;case G0.Type.TimestampNanosecond:K=$.visitTimestampNanosecond||$.visitTimestamp;break;case G0.Type.Time:K=$.visitTime;break;case G0.Type.TimeSecond:K=$.visitTimeSecond||$.visitTime;break;case G0.Type.TimeMillisecond:K=$.visitTimeMillisecond||$.visitTime;break;case G0.Type.TimeMicrosecond:K=$.visitTimeMicrosecond||$.visitTime;break;case G0.Type.TimeNanosecond:K=$.visitTimeNanosecond||$.visitTime;break;case G0.Type.Decimal:K=$.visitDecimal;break;case G0.Type.List:K=$.visitList;break;case G0.Type.Struct:K=$.visitStruct;break;case G0.Type.Union:K=$.visitUnion;break;case G0.Type.DenseUnion:K=$.visitDenseUnion||$.visitUnion;break;case G0.Type.SparseUnion:K=$.visitSparseUnion||$.visitUnion;break;case G0.Type.Dictionary:K=$.visitDictionary;break;case G0.Type.Interval:K=$.visitInterval;break;case G0.Type.IntervalDayTime:K=$.visitIntervalDayTime||$.visitInterval;break;case G0.Type.IntervalYearMonth:K=$.visitIntervalYearMonth||$.visitInterval;break;case G0.Type.Duration:K=$.visitDuration;break;case G0.Type.DurationSecond:K=$.visitDurationSecond||$.visitDuration;break;case G0.Type.DurationMillisecond:K=$.visitDurationMillisecond||$.visitDuration;break;case G0.Type.DurationMicrosecond:K=$.visitDurationMicrosecond||$.visitDuration;break;case G0.Type.DurationNanosecond:K=$.visitDurationNanosecond||$.visitDuration;break;case G0.Type.FixedSizeList:K=$.visitFixedSizeList;break;case G0.Type.Map:K=$.visitMap;break}if(typeof K==="function")return K;if(!J)return()=>null;throw Error(`Unrecognized type '${G0.Type[Q]}'`)}function fQ0($){switch($.typeId){case G0.Type.Null:return G0.Type.Null;case G0.Type.Int:{let{bitWidth:Q,isSigned:J}=$;switch(Q){case 8:return J?G0.Type.Int8:G0.Type.Uint8;case 16:return J?G0.Type.Int16:G0.Type.Uint16;case 32:return J?G0.Type.Int32:G0.Type.Uint32;case 64:return J?G0.Type.Int64:G0.Type.Uint64}return G0.Type.Int}case G0.Type.Float:switch($.precision){case G0.Precision.HALF:return G0.Type.Float16;case G0.Precision.SINGLE:return G0.Type.Float32;case G0.Precision.DOUBLE:return G0.Type.Float64}return G0.Type.Float;case G0.Type.Binary:return G0.Type.Binary;case G0.Type.LargeBinary:return G0.Type.LargeBinary;case G0.Type.Utf8:return G0.Type.Utf8;case G0.Type.LargeUtf8:return G0.Type.LargeUtf8;case G0.Type.Bool:return G0.Type.Bool;case G0.Type.Decimal:return G0.Type.Decimal;case G0.Type.Time:switch($.unit){case G0.TimeUnit.SECOND:return G0.Type.TimeSecond;case G0.TimeUnit.MILLISECOND:return G0.Type.TimeMillisecond;case G0.TimeUnit.MICROSECOND:return G0.Type.TimeMicrosecond;case G0.TimeUnit.NANOSECOND:return G0.Type.TimeNanosecond}return G0.Type.Time;case G0.Type.Timestamp:switch($.unit){case G0.TimeUnit.SECOND:return G0.Type.TimestampSecond;case G0.TimeUnit.MILLISECOND:return G0.Type.TimestampMillisecond;case G0.TimeUnit.MICROSECOND:return G0.Type.TimestampMicrosecond;case G0.TimeUnit.NANOSECOND:return G0.Type.TimestampNanosecond}return G0.Type.Timestamp;case G0.Type.Date:switch($.unit){case G0.DateUnit.DAY:return G0.Type.DateDay;case G0.DateUnit.MILLISECOND:return G0.Type.DateMillisecond}return G0.Type.Date;case G0.Type.Interval:switch($.unit){case G0.IntervalUnit.DAY_TIME:return G0.Type.IntervalDayTime;case G0.IntervalUnit.YEAR_MONTH:return G0.Type.IntervalYearMonth}return G0.Type.Interval;case G0.Type.Duration:switch($.unit){case G0.TimeUnit.SECOND:return G0.Type.DurationSecond;case G0.TimeUnit.MILLISECOND:return G0.Type.DurationMillisecond;case G0.TimeUnit.MICROSECOND:return G0.Type.DurationMicrosecond;case G0.TimeUnit.NANOSECOND:return G0.Type.DurationNanosecond}return G0.Type.Duration;case G0.Type.Map:return G0.Type.Map;case G0.Type.List:return G0.Type.List;case G0.Type.Struct:return G0.Type.Struct;case G0.Type.Union:switch($.mode){case G0.UnionMode.Dense:return G0.Type.DenseUnion;case G0.UnionMode.Sparse:return G0.Type.SparseUnion}return G0.Type.Union;case G0.Type.FixedSizeBinary:return G0.Type.FixedSizeBinary;case G0.Type.FixedSizeList:return G0.Type.FixedSizeList;case G0.Type.Dictionary:return G0.Type.Dictionary}throw Error(`Unrecognized type '${G0.Type[$.typeId]}'`)}p5.prototype.visitInt8=null;p5.prototype.visitInt16=null;p5.prototype.visitInt32=null;p5.prototype.visitInt64=null;p5.prototype.visitUint8=null;p5.prototype.visitUint16=null;p5.prototype.visitUint32=null;p5.prototype.visitUint64=null;p5.prototype.visitFloat16=null;p5.prototype.visitFloat32=null;p5.prototype.visitFloat64=null;p5.prototype.visitDateDay=null;p5.prototype.visitDateMillisecond=null;p5.prototype.visitTimestampSecond=null;p5.prototype.visitTimestampMillisecond=null;p5.prototype.visitTimestampMicrosecond=null;p5.prototype.visitTimestampNanosecond=null;p5.prototype.visitTimeSecond=null;p5.prototype.visitTimeMillisecond=null;p5.prototype.visitTimeMicrosecond=null;p5.prototype.visitTimeNanosecond=null;p5.prototype.visitDenseUnion=null;p5.prototype.visitSparseUnion=null;p5.prototype.visitIntervalDayTime=null;p5.prototype.visitIntervalYearMonth=null;p5.prototype.visitDuration=null;p5.prototype.visitDurationSecond=null;p5.prototype.visitDurationMillisecond=null;p5.prototype.visitDurationMicrosecond=null;p5.prototype.visitDurationNanosecond=null});var VA=w0((gQ0)=>{Object.defineProperty(gQ0,"__esModule",{value:!0});gQ0.float64ToUint16=gQ0.uint16ToFloat64=void 0;var bQ0=new Float64Array(1),pU=new Uint32Array(bQ0.buffer);function Tu0($){let Q=($&31744)>>10,J=($&1023)/1024,K=Math.pow(-1,($&32768)>>15);switch(Q){case 31:return K*(J?Number.NaN:1/0);case 0:return K*(J?0.00006103515625*J:0)}return K*Math.pow(2,Q-15)*(1+J)}gQ0.uint16ToFloat64=Tu0;function Du0($){if($!==$)return 32256;bQ0[0]=$;let Q=(pU[1]&2147483648)>>16&65535,J=pU[1]&2146435072,K=0;if(J>=1089470464)if(pU[0]>0)J=31744;else J=(J&2080374784)>>16,K=(pU[1]&1048575)>>10;else if(J<=1056964608)K=1048576+(pU[1]&1048575),K=1048576+(K<<(J>>20)-998)>>21,J=0;else J=J-1056964608>>10,K=(pU[1]&1048575)+512>>10;return Q|J|K&65535}gQ0.float64ToUint16=Du0});var h9=w0((dQ0)=>{Object.defineProperty(dQ0,"__esModule",{value:!0});dQ0.instance=dQ0.setDuration=dQ0.setDurationNanosecond=dQ0.setDurationMicrosecond=dQ0.setDurationMillisecond=dQ0.setDurationSecond=dQ0.setIntervalYearMonth=dQ0.setIntervalDayTime=dQ0.setIntervalValue=dQ0.setDecimal=dQ0.setTime=dQ0.setTimeNanosecond=dQ0.setTimeMicrosecond=dQ0.setTimeMillisecond=dQ0.setTimeSecond=dQ0.setTimestamp=dQ0.setTimestampNanosecond=dQ0.setTimestampMicrosecond=dQ0.setTimestampMillisecond=dQ0.setTimestampSecond=dQ0.setDate=dQ0.setFixedSizeBinary=dQ0.setDateMillisecond=dQ0.setDateDay=dQ0.setAnyFloat=dQ0.setFloat16=dQ0.setFloat=dQ0.setInt=dQ0.setVariableWidthBytes=dQ0.setEpochMsToDays=dQ0.SetVisitor=void 0;var Pu0=Z4(),ku0=y4(),xQ0=Oq(),ju0=Fq(),Eu0=VA(),e7=l6();class y1 extends ku0.Visitor{}dQ0.SetVisitor=y1;function s1($){return(Q,J,K)=>{if(Q.setValid(J,K!=null))return $(Q,J,K)}}var Lu0=($,Q,J)=>{$[Q]=Math.floor(J/86400000)};dQ0.setEpochMsToDays=Lu0;var hu0=($,Q,J,K)=>{if(J+1<Q.length){let Y=(0,xQ0.bigIntToNumber)(Q[J]),q=(0,xQ0.bigIntToNumber)(Q[J+1]);$.set(K.subarray(0,q-Y),Y)}};dQ0.setVariableWidthBytes=hu0;var vu0=({offset:$,values:Q},J,K)=>{let Y=$+J;K?Q[Y>>3]|=1<<Y%8:Q[Y>>3]&=~(1<<Y%8)},Su0=({values:$},Q,J)=>{$[Q]=J};dQ0.setInt=Su0;var _u0=({values:$},Q,J)=>{$[Q]=J};dQ0.setFloat=_u0;var fu0=({values:$},Q,J)=>{$[Q]=(0,Eu0.float64ToUint16)(J)};dQ0.setFloat16=fu0;var Iu0=($,Q,J)=>{switch($.type.precision){case e7.Precision.HALF:return dQ0.setFloat16($,Q,J);case e7.Precision.SINGLE:case e7.Precision.DOUBLE:return dQ0.setFloat($,Q,J)}};dQ0.setAnyFloat=Iu0;var Mu0=({values:$},Q,J)=>{dQ0.setEpochMsToDays($,Q,J.valueOf())};dQ0.setDateDay=Mu0;var bu0=({values:$},Q,J)=>{$[Q]=BigInt(J)};dQ0.setDateMillisecond=bu0;var gu0=({stride:$,values:Q},J,K)=>{Q.set(K.subarray(0,$),$*J)};dQ0.setFixedSizeBinary=gu0;var cQ0=({values:$,valueOffsets:Q},J,K)=>dQ0.setVariableWidthBytes($,Q,J,K),uQ0=({values:$,valueOffsets:Q},J,K)=>dQ0.setVariableWidthBytes($,Q,J,(0,ju0.encodeUtf8)(K)),yu0=($,Q,J)=>{$.type.unit===e7.DateUnit.DAY?dQ0.setDateDay($,Q,J):dQ0.setDateMillisecond($,Q,J)};dQ0.setDate=yu0;var xu0=({values:$},Q,J)=>{$[Q]=BigInt(J/1000)};dQ0.setTimestampSecond=xu0;var cu0=({values:$},Q,J)=>{$[Q]=BigInt(J)};dQ0.setTimestampMillisecond=cu0;var uu0=({values:$},Q,J)=>{$[Q]=BigInt(J*1000)};dQ0.setTimestampMicrosecond=uu0;var mu0=({values:$},Q,J)=>{$[Q]=BigInt(J*1e6)};dQ0.setTimestampNanosecond=mu0;var pu0=($,Q,J)=>{switch($.type.unit){case e7.TimeUnit.SECOND:return dQ0.setTimestampSecond($,Q,J);case e7.TimeUnit.MILLISECOND:return dQ0.setTimestampMillisecond($,Q,J);case e7.TimeUnit.MICROSECOND:return dQ0.setTimestampMicrosecond($,Q,J);case e7.TimeUnit.NANOSECOND:return dQ0.setTimestampNanosecond($,Q,J)}};dQ0.setTimestamp=pu0;var du0=({values:$},Q,J)=>{$[Q]=J};dQ0.setTimeSecond=du0;var nu0=({values:$},Q,J)=>{$[Q]=J};dQ0.setTimeMillisecond=nu0;var lu0=({values:$},Q,J)=>{$[Q]=J};dQ0.setTimeMicrosecond=lu0;var ru0=({values:$},Q,J)=>{$[Q]=J};dQ0.setTimeNanosecond=ru0;var iu0=($,Q,J)=>{switch($.type.unit){case e7.TimeUnit.SECOND:return dQ0.setTimeSecond($,Q,J);case e7.TimeUnit.MILLISECOND:return dQ0.setTimeMillisecond($,Q,J);case e7.TimeUnit.MICROSECOND:return dQ0.setTimeMicrosecond($,Q,J);case e7.TimeUnit.NANOSECOND:return dQ0.setTimeNanosecond($,Q,J)}};dQ0.setTime=iu0;var su0=({values:$,stride:Q},J,K)=>{$.set(K.subarray(0,Q),Q*J)};dQ0.setDecimal=su0;var ou0=($,Q,J)=>{let K=$.children[0],Y=$.valueOffsets,q=dQ0.instance.getVisitFn(K);if(Array.isArray(J))for(let Z=-1,X=Y[Q],W=Y[Q+1];X<W;)q(K,X++,J[++Z]);else for(let Z=-1,X=Y[Q],W=Y[Q+1];X<W;)q(K,X++,J.get(++Z))},au0=($,Q,J)=>{let K=$.children[0],{valueOffsets:Y}=$,q=dQ0.instance.getVisitFn(K),{[Q]:Z,[Q+1]:X}=Y,W=J instanceof Map?J.entries():Object.entries(J);for(let F of W)if(q(K,Z,F),++Z>=X)break},tu0=($,Q)=>(J,K,Y,q)=>K&&J(K,$,Q[q]),eu0=($,Q)=>(J,K,Y,q)=>K&&J(K,$,Q.get(q)),$m0=($,Q)=>(J,K,Y,q)=>K&&J(K,$,Q.get(Y.name)),Qm0=($,Q)=>(J,K,Y,q)=>K&&J(K,$,Q[Y.name]),Jm0=($,Q,J)=>{let K=$.type.children.map((q)=>dQ0.instance.getVisitFn(q.type)),Y=J instanceof Map?$m0(Q,J):J instanceof Pu0.Vector?eu0(Q,J):Array.isArray(J)?tu0(Q,J):Qm0(Q,J);$.type.children.forEach((q,Z)=>Y(K[Z],$.children[Z],q,Z))},Km0=($,Q,J)=>{$.type.mode===e7.UnionMode.Dense?mQ0($,Q,J):pQ0($,Q,J)},mQ0=($,Q,J)=>{let K=$.type.typeIdToChildIndex[$.typeIds[Q]],Y=$.children[K];dQ0.instance.visit(Y,$.valueOffsets[Q],J)},pQ0=($,Q,J)=>{let K=$.type.typeIdToChildIndex[$.typeIds[Q]],Y=$.children[K];dQ0.instance.visit(Y,Q,J)},Ym0=($,Q,J)=>{var K;(K=$.dictionary)===null||K===void 0||K.set($.values[Q],J)},qm0=($,Q,J)=>{$.type.unit===e7.IntervalUnit.DAY_TIME?dQ0.setIntervalDayTime($,Q,J):dQ0.setIntervalYearMonth($,Q,J)};dQ0.setIntervalValue=qm0;var Zm0=({values:$},Q,J)=>{$.set(J.subarray(0,2),2*Q)};dQ0.setIntervalDayTime=Zm0;var Xm0=({values:$},Q,J)=>{$[Q]=J[0]*12+J[1]%12};dQ0.setIntervalYearMonth=Xm0;var Wm0=({values:$},Q,J)=>{$[Q]=J};dQ0.setDurationSecond=Wm0;var Fm0=({values:$},Q,J)=>{$[Q]=J};dQ0.setDurationMillisecond=Fm0;var Um0=({values:$},Q,J)=>{$[Q]=J};dQ0.setDurationMicrosecond=Um0;var Hm0=({values:$},Q,J)=>{$[Q]=J};dQ0.setDurationNanosecond=Hm0;var Nm0=($,Q,J)=>{switch($.type.unit){case e7.TimeUnit.SECOND:return dQ0.setDurationSecond($,Q,J);case e7.TimeUnit.MILLISECOND:return dQ0.setDurationMillisecond($,Q,J);case e7.TimeUnit.MICROSECOND:return dQ0.setDurationMicrosecond($,Q,J);case e7.TimeUnit.NANOSECOND:return dQ0.setDurationNanosecond($,Q,J)}};dQ0.setDuration=Nm0;var Bm0=($,Q,J)=>{let{stride:K}=$,Y=$.children[0],q=dQ0.instance.getVisitFn(Y);if(Array.isArray(J))for(let Z=-1,X=Q*K;++Z<K;)q(Y,X+Z,J[Z]);else for(let Z=-1,X=Q*K;++Z<K;)q(Y,X+Z,J.get(Z))};y1.prototype.visitBool=s1(vu0);y1.prototype.visitInt=s1(dQ0.setInt);y1.prototype.visitInt8=s1(dQ0.setInt);y1.prototype.visitInt16=s1(dQ0.setInt);y1.prototype.visitInt32=s1(dQ0.setInt);y1.prototype.visitInt64=s1(dQ0.setInt);y1.prototype.visitUint8=s1(dQ0.setInt);y1.prototype.visitUint16=s1(dQ0.setInt);y1.prototype.visitUint32=s1(dQ0.setInt);y1.prototype.visitUint64=s1(dQ0.setInt);y1.prototype.visitFloat=s1(dQ0.setAnyFloat);y1.prototype.visitFloat16=s1(dQ0.setFloat16);y1.prototype.visitFloat32=s1(dQ0.setFloat);y1.prototype.visitFloat64=s1(dQ0.setFloat);y1.prototype.visitUtf8=s1(uQ0);y1.prototype.visitLargeUtf8=s1(uQ0);y1.prototype.visitBinary=s1(cQ0);y1.prototype.visitLargeBinary=s1(cQ0);y1.prototype.visitFixedSizeBinary=s1(dQ0.setFixedSizeBinary);y1.prototype.visitDate=s1(dQ0.setDate);y1.prototype.visitDateDay=s1(dQ0.setDateDay);y1.prototype.visitDateMillisecond=s1(dQ0.setDateMillisecond);y1.prototype.visitTimestamp=s1(dQ0.setTimestamp);y1.prototype.visitTimestampSecond=s1(dQ0.setTimestampSecond);y1.prototype.visitTimestampMillisecond=s1(dQ0.setTimestampMillisecond);y1.prototype.visitTimestampMicrosecond=s1(dQ0.setTimestampMicrosecond);y1.prototype.visitTimestampNanosecond=s1(dQ0.setTimestampNanosecond);y1.prototype.visitTime=s1(dQ0.setTime);y1.prototype.visitTimeSecond=s1(dQ0.setTimeSecond);y1.prototype.visitTimeMillisecond=s1(dQ0.setTimeMillisecond);y1.prototype.visitTimeMicrosecond=s1(dQ0.setTimeMicrosecond);y1.prototype.visitTimeNanosecond=s1(dQ0.setTimeNanosecond);y1.prototype.visitDecimal=s1(dQ0.setDecimal);y1.prototype.visitList=s1(ou0);y1.prototype.visitStruct=s1(Jm0);y1.prototype.visitUnion=s1(Km0);y1.prototype.visitDenseUnion=s1(mQ0);y1.prototype.visitSparseUnion=s1(pQ0);y1.prototype.visitDictionary=s1(Ym0);y1.prototype.visitInterval=s1(dQ0.setIntervalValue);y1.prototype.visitIntervalDayTime=s1(dQ0.setIntervalDayTime);y1.prototype.visitIntervalYearMonth=s1(dQ0.setIntervalYearMonth);y1.prototype.visitDuration=s1(dQ0.setDuration);y1.prototype.visitDurationSecond=s1(dQ0.setDurationSecond);y1.prototype.visitDurationMillisecond=s1(dQ0.setDurationMillisecond);y1.prototype.visitDurationMicrosecond=s1(dQ0.setDurationMicrosecond);y1.prototype.visitDurationNanosecond=s1(dQ0.setDurationNanosecond);y1.prototype.visitFixedSizeList=s1(Bm0);y1.prototype.visitMap=s1(au0);dQ0.instance=new y1});var xD=w0((KJ0)=>{Object.defineProperty(KJ0,"__esModule",{value:!0});KJ0.StructRow=void 0;var $J0=zA(),rb=YX(),Am0=h9(),E$=Symbol.for("parent"),dU=Symbol.for("rowIndex");class ib{constructor($,Q){return this[E$]=$,this[dU]=Q,new Proxy(this,new JJ0)}toArray(){return Object.values(this.toJSON())}toJSON(){let $=this[dU],Q=this[E$],J=Q.type.children,K={};for(let Y=-1,q=J.length;++Y<q;)K[J[Y].name]=rb.instance.visit(Q.children[Y],$);return K}toString(){return`{${[...this].map(([$,Q])=>`${(0,$J0.valueToString)($)}: ${(0,$J0.valueToString)(Q)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new QJ0(this[E$],this[dU])}}KJ0.StructRow=ib;class QJ0{constructor($,Q){this.childIndex=0,this.children=$.children,this.rowIndex=Q,this.childFields=$.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){let $=this.childIndex;if($<this.numChildren)return this.childIndex=$+1,{done:!1,value:[this.childFields[$].name,rb.instance.visit(this.children[$],this.rowIndex)]};return{done:!0,value:null}}}Object.defineProperties(ib.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[E$]:{writable:!0,enumerable:!1,configurable:!1,value:null},[dU]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class JJ0{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys($){return $[E$].type.children.map((Q)=>Q.name)}has($,Q){return $[E$].type.children.findIndex((J)=>J.name===Q)!==-1}getOwnPropertyDescriptor($,Q){if($[E$].type.children.findIndex((J)=>J.name===Q)!==-1)return{writable:!0,enumerable:!0,configurable:!0};return}get($,Q){if(Reflect.has($,Q))return $[Q];let J=$[E$].type.children.findIndex((K)=>K.name===Q);if(J!==-1){let K=rb.instance.visit($[E$].children[J],$[dU]);return Reflect.set($,Q,K),K}}set($,Q,J){let K=$[E$].type.children.findIndex((Y)=>Y.name===Q);if(K!==-1)return Am0.instance.visit($[E$].children[K],$[dU],J),Reflect.set($,Q,J);else if(Reflect.has($,Q)||typeof Q==="symbol")return Reflect.set($,Q,J);return!1}}});var YX=w0((hJ0)=>{Object.defineProperty(hJ0,"__esModule",{value:!0});hJ0.instance=hJ0.GetVisitor=void 0;var Vm0=PD(),qJ0=Z4(),Rm0=y4(),Gm0=RA(),wm0=xD(),qX=Oq(),Om0=Fq(),ZJ0=VA(),f8=l6();class f1 extends Rm0.Visitor{}hJ0.GetVisitor=f1;function d1($){return(Q,J)=>Q.getValid(J)?$(Q,J):null}var Tm0=($,Q)=>86400000*$[Q],Dm0=($,Q)=>null,XJ0=($,Q,J)=>{if(J+1>=Q.length)return null;let K=(0,qX.bigIntToNumber)(Q[J]),Y=(0,qX.bigIntToNumber)(Q[J+1]);return $.subarray(K,Y)},Cm0=({offset:$,values:Q},J)=>{let K=$+J;return(Q[K>>3]&1<<K%8)!==0},WJ0=({values:$},Q)=>Tm0($,Q),FJ0=({values:$},Q)=>(0,qX.bigIntToNumber)($[Q]),kq=({stride:$,values:Q},J)=>Q[$*J],Pm0=({stride:$,values:Q},J)=>(0,ZJ0.uint16ToFloat64)(Q[$*J]),UJ0=({values:$},Q)=>$[Q],km0=({stride:$,values:Q},J)=>Q.subarray($*J,$*(J+1)),HJ0=({values:$,valueOffsets:Q},J)=>XJ0($,Q,J),NJ0=({values:$,valueOffsets:Q},J)=>{let K=XJ0($,Q,J);return K!==null?(0,Om0.decodeUtf8)(K):null},jm0=({values:$},Q)=>$[Q],Em0=({type:$,values:Q},J)=>$.precision!==f8.Precision.HALF?Q[J]:(0,ZJ0.uint16ToFloat64)(Q[J]),Lm0=($,Q)=>$.type.unit===f8.DateUnit.DAY?WJ0($,Q):FJ0($,Q),BJ0=({values:$},Q)=>1000*(0,qX.bigIntToNumber)($[Q]),zJ0=({values:$},Q)=>(0,qX.bigIntToNumber)($[Q]),AJ0=({values:$},Q)=>(0,qX.divideBigInts)($[Q],BigInt(1000)),VJ0=({values:$},Q)=>(0,qX.divideBigInts)($[Q],BigInt(1e6)),hm0=($,Q)=>{switch($.type.unit){case f8.TimeUnit.SECOND:return BJ0($,Q);case f8.TimeUnit.MILLISECOND:return zJ0($,Q);case f8.TimeUnit.MICROSECOND:return AJ0($,Q);case f8.TimeUnit.NANOSECOND:return VJ0($,Q)}},RJ0=({values:$},Q)=>$[Q],GJ0=({values:$},Q)=>$[Q],wJ0=({values:$},Q)=>$[Q],OJ0=({values:$},Q)=>$[Q],vm0=($,Q)=>{switch($.type.unit){case f8.TimeUnit.SECOND:return RJ0($,Q);case f8.TimeUnit.MILLISECOND:return GJ0($,Q);case f8.TimeUnit.MICROSECOND:return wJ0($,Q);case f8.TimeUnit.NANOSECOND:return OJ0($,Q)}},Sm0=({values:$,stride:Q},J)=>Vm0.BN.decimal($.subarray(Q*J,Q*(J+1))),_m0=($,Q)=>{let{valueOffsets:J,stride:K,children:Y}=$,{[Q*K]:q,[Q*K+1]:Z}=J,W=Y[0].slice(q,Z-q);return new qJ0.Vector([W])},fm0=($,Q)=>{let{valueOffsets:J,children:K}=$,{[Q]:Y,[Q+1]:q}=J,Z=K[0];return new Gm0.MapRow(Z.slice(Y,q-Y))},Im0=($,Q)=>{return new wm0.StructRow($,Q)},Mm0=($,Q)=>{return $.type.mode===f8.UnionMode.Dense?TJ0($,Q):DJ0($,Q)},TJ0=($,Q)=>{let J=$.type.typeIdToChildIndex[$.typeIds[Q]],K=$.children[J];return hJ0.instance.visit(K,$.valueOffsets[Q])},DJ0=($,Q)=>{let J=$.type.typeIdToChildIndex[$.typeIds[Q]],K=$.children[J];return hJ0.instance.visit(K,Q)},bm0=($,Q)=>{var J;return(J=$.dictionary)===null||J===void 0?void 0:J.get($.values[Q])},gm0=($,Q)=>$.type.unit===f8.IntervalUnit.DAY_TIME?CJ0($,Q):PJ0($,Q),CJ0=({values:$},Q)=>$.subarray(2*Q,2*(Q+1)),PJ0=({values:$},Q)=>{let J=$[Q],K=new Int32Array(2);return K[0]=Math.trunc(J/12),K[1]=Math.trunc(J%12),K},kJ0=({values:$},Q)=>$[Q],jJ0=({values:$},Q)=>$[Q],EJ0=({values:$},Q)=>$[Q],LJ0=({values:$},Q)=>$[Q],ym0=($,Q)=>{switch($.type.unit){case f8.TimeUnit.SECOND:return kJ0($,Q);case f8.TimeUnit.MILLISECOND:return jJ0($,Q);case f8.TimeUnit.MICROSECOND:return EJ0($,Q);case f8.TimeUnit.NANOSECOND:return LJ0($,Q)}},xm0=($,Q)=>{let{stride:J,children:K}=$,q=K[0].slice(Q*J,J);return new qJ0.Vector([q])};f1.prototype.visitNull=d1(Dm0);f1.prototype.visitBool=d1(Cm0);f1.prototype.visitInt=d1(jm0);f1.prototype.visitInt8=d1(kq);f1.prototype.visitInt16=d1(kq);f1.prototype.visitInt32=d1(kq);f1.prototype.visitInt64=d1(UJ0);f1.prototype.visitUint8=d1(kq);f1.prototype.visitUint16=d1(kq);f1.prototype.visitUint32=d1(kq);f1.prototype.visitUint64=d1(UJ0);f1.prototype.visitFloat=d1(Em0);f1.prototype.visitFloat16=d1(Pm0);f1.prototype.visitFloat32=d1(kq);f1.prototype.visitFloat64=d1(kq);f1.prototype.visitUtf8=d1(NJ0);f1.prototype.visitLargeUtf8=d1(NJ0);f1.prototype.visitBinary=d1(HJ0);f1.prototype.visitLargeBinary=d1(HJ0);f1.prototype.visitFixedSizeBinary=d1(km0);f1.prototype.visitDate=d1(Lm0);f1.prototype.visitDateDay=d1(WJ0);f1.prototype.visitDateMillisecond=d1(FJ0);f1.prototype.visitTimestamp=d1(hm0);f1.prototype.visitTimestampSecond=d1(BJ0);f1.prototype.visitTimestampMillisecond=d1(zJ0);f1.prototype.visitTimestampMicrosecond=d1(AJ0);f1.prototype.visitTimestampNanosecond=d1(VJ0);f1.prototype.visitTime=d1(vm0);f1.prototype.visitTimeSecond=d1(RJ0);f1.prototype.visitTimeMillisecond=d1(GJ0);f1.prototype.visitTimeMicrosecond=d1(wJ0);f1.prototype.visitTimeNanosecond=d1(OJ0);f1.prototype.visitDecimal=d1(Sm0);f1.prototype.visitList=d1(_m0);f1.prototype.visitStruct=d1(Im0);f1.prototype.visitUnion=d1(Mm0);f1.prototype.visitDenseUnion=d1(TJ0);f1.prototype.visitSparseUnion=d1(DJ0);f1.prototype.visitDictionary=d1(bm0);f1.prototype.visitInterval=d1(gm0);f1.prototype.visitIntervalDayTime=d1(CJ0);f1.prototype.visitIntervalYearMonth=d1(PJ0);f1.prototype.visitDuration=d1(ym0);f1.prototype.visitDurationSecond=d1(kJ0);f1.prototype.visitDurationMillisecond=d1(jJ0);f1.prototype.visitDurationMicrosecond=d1(EJ0);f1.prototype.visitDurationNanosecond=d1(LJ0);f1.prototype.visitFixedSizeList=d1(xm0);f1.prototype.visitMap=d1(fm0);hJ0.instance=new f1});var RA=w0((fJ0)=>{Object.defineProperty(fJ0,"__esModule",{value:!0});fJ0.MapRow=fJ0._kKeysAsStrings=fJ0.kKeysAsStrings=fJ0.kVals=fJ0.kKeys=void 0;var um0=Z4(),vJ0=zA(),sb=YX(),mm0=h9();fJ0.kKeys=Symbol.for("keys");fJ0.kVals=Symbol.for("vals");fJ0.kKeysAsStrings=Symbol.for("kKeysAsStrings");fJ0._kKeysAsStrings=Symbol.for("_kKeysAsStrings");class ob{constructor($){return this[fJ0.kKeys]=new um0.Vector([$.children[0]]).memoize(),this[fJ0.kVals]=$.children[1],new Proxy(this,new _J0)}get[fJ0.kKeysAsStrings](){return this[fJ0._kKeysAsStrings]||(this[fJ0._kKeysAsStrings]=Array.from(this[fJ0.kKeys].toArray(),String))}[Symbol.iterator](){return new SJ0(this[fJ0.kKeys],this[fJ0.kVals])}get size(){return this[fJ0.kKeys].length}toArray(){return Object.values(this.toJSON())}toJSON(){let $=this[fJ0.kKeys],Q=this[fJ0.kVals],J={};for(let K=-1,Y=$.length;++K<Y;)J[$.get(K)]=sb.instance.visit(Q,K);return J}toString(){return`{${[...this].map(([$,Q])=>`${(0,vJ0.valueToString)($)}: ${(0,vJ0.valueToString)(Q)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}fJ0.MapRow=ob;class SJ0{constructor($,Q){this.keys=$,this.vals=Q,this.keyIndex=0,this.numKeys=$.length}[Symbol.iterator](){return this}next(){let $=this.keyIndex;if($===this.numKeys)return{done:!0,value:null};return this.keyIndex++,{done:!1,value:[this.keys.get($),sb.instance.visit(this.vals,$)]}}}class _J0{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys($){return $[fJ0.kKeysAsStrings]}has($,Q){return $[fJ0.kKeysAsStrings].includes(Q)}getOwnPropertyDescriptor($,Q){if($[fJ0.kKeysAsStrings].indexOf(Q)!==-1)return{writable:!0,enumerable:!0,configurable:!0};return}get($,Q){if(Reflect.has($,Q))return $[Q];let J=$[fJ0.kKeysAsStrings].indexOf(Q);if(J!==-1){let K=sb.instance.visit(Reflect.get($,fJ0.kVals),J);return Reflect.set($,Q,K),K}}set($,Q,J){let K=$[fJ0.kKeysAsStrings].indexOf(Q);if(K!==-1)return mm0.instance.visit(Reflect.get($,fJ0.kVals),K,J),Reflect.set($,Q,J);else if(Reflect.has($,Q))return Reflect.set($,Q,J);return!1}}Object.defineProperties(ob.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[fJ0.kKeys]:{writable:!0,enumerable:!1,configurable:!1,value:null},[fJ0.kVals]:{writable:!0,enumerable:!1,configurable:!1,value:null},[fJ0._kKeysAsStrings]:{writable:!0,enumerable:!1,configurable:!1,value:null}})});var nU=w0((xJ0)=>{Object.defineProperty(xJ0,"__esModule",{value:!0});xJ0.createElementComparator=xJ0.wrapIndex=xJ0.clampRange=void 0;var yJ0=Z4(),pm0=RA(),dm0=xD(),nm0=t7(),MJ0;function lm0($,Q,J,K){let{length:Y=0}=$,q=typeof Q!=="number"?0:Q,Z=typeof J!=="number"?Y:J;return q<0&&(q=(q%Y+Y)%Y),Z<0&&(Z=(Z%Y+Y)%Y),Z<q&&(MJ0=q,q=Z,Z=MJ0),Z>Y&&(Z=Y),K?K($,q,Z):[q,Z]}xJ0.clampRange=lm0;var rm0=($,Q)=>$<0?Q+$:$;xJ0.wrapIndex=rm0;var bJ0=($)=>$!==$;function GA($){if(typeof $!=="object"||$===null){if(bJ0($))return bJ0;return(J)=>J===$}if($ instanceof Date){let J=$.valueOf();return(K)=>K instanceof Date?K.valueOf()===J:!1}if(ArrayBuffer.isView($))return(J)=>J?(0,nm0.compareArrayLike)($,J):!1;if($ instanceof Map)return sm0($);if(Array.isArray($))return im0($);if($ instanceof yJ0.Vector)return om0($);return am0($,!0)}xJ0.createElementComparator=GA;function im0($){let Q=[];for(let J=-1,K=$.length;++J<K;)Q[J]=GA($[J]);return mD(Q)}function sm0($){let Q=-1,J=[];for(let K of $.values())J[++Q]=GA(K);return mD(J)}function om0($){let Q=[];for(let J=-1,K=$.length;++J<K;)Q[J]=GA($.get(J));return mD(Q)}function am0($,Q=!1){let J=Object.keys($);if(!Q&&J.length===0)return()=>!1;let K=[];for(let Y=-1,q=J.length;++Y<q;)K[Y]=GA($[J[Y]]);return mD(K,J)}function mD($,Q){return(J)=>{if(!J||typeof J!=="object")return!1;switch(J.constructor){case Array:return tm0($,J);case Map:return gJ0($,J,J.keys());case pm0.MapRow:case dm0.StructRow:case Object:case void 0:return gJ0($,J,Q||Object.keys(J))}return J instanceof yJ0.Vector?em0($,J):!1}}function tm0($,Q){let J=$.length;if(Q.length!==J)return!1;for(let K=-1;++K<J;)if(!$[K](Q[K]))return!1;return!0}function em0($,Q){let J=$.length;if(Q.length!==J)return!1;for(let K=-1;++K<J;)if(!$[K](Q.get(K)))return!1;return!0}function gJ0($,Q,J){let K=J[Symbol.iterator](),Y=Q instanceof Map?Q.keys():Object.keys(Q)[Symbol.iterator](),q=Q instanceof Map?Q.values():Object.values(Q)[Symbol.iterator](),Z=0,X=$.length,W=q.next(),F=K.next(),H=Y.next();for(;Z<X&&!F.done&&!H.done&&!W.done;++Z,F=K.next(),H=Y.next(),W=q.next())if(F.value!==H.value||!$[Z](W.value))break;if(Z===X&&F.done&&H.done&&W.done)return!0;return K.return&&K.return(),Y.return&&Y.return(),q.return&&q.return(),!1}});var FX=w0((nJ0)=>{Object.defineProperty(nJ0,"__esModule",{value:!0});nJ0.popcnt_uint32=nJ0.popcnt_array=nJ0.popcnt_bit_range=nJ0.BitIterator=nJ0.packBools=nJ0.truncateBitmap=nJ0.setBool=nJ0.getBit=nJ0.getBool=void 0;function uJ0($,Q,J,K){return(J&1<<K)!==0}nJ0.getBool=uJ0;function mJ0($,Q,J,K){return(J&1<<K)>>K}nJ0.getBit=mJ0;function Jp0($,Q,J){return J?!!($[Q>>3]|=1<<Q%8)||!0:!($[Q>>3]&=~(1<<Q%8))&&!1}nJ0.setBool=Jp0;function Kp0($,Q,J){let K=J.byteLength+7&-8;if($>0||J.byteLength<K){let Y=new Uint8Array(K);return Y.set($%8===0?J.subarray($>>3):pJ0(new dD(J,$,Q,null,uJ0)).subarray(0,K)),Y}return J}nJ0.truncateBitmap=Kp0;function pJ0($){let Q=[],J=0,K=0,Y=0;for(let Z of $)if(Z&&(Y|=1<<K),++K===8)Q[J++]=Y,Y=K=0;if(J===0||K>0)Q[J++]=Y;let q=new Uint8Array(Q.length+7&-8);return q.set(Q),q}nJ0.packBools=pJ0;class dD{constructor($,Q,J,K,Y){this.bytes=$,this.length=J,this.context=K,this.get=Y,this.bit=Q%8,this.byteIndex=Q>>3,this.byte=$[this.byteIndex++],this.index=0}next(){if(this.index<this.length){if(this.bit===8)this.bit=0,this.byte=this.bytes[this.byteIndex++];return{value:this.get(this.context,this.index++,this.byte,this.bit++)}}return{done:!0,value:null}}[Symbol.iterator](){return this}}nJ0.BitIterator=dD;function ab($,Q,J){if(J-Q<=0)return 0;if(J-Q<8){let q=0;for(let Z of new dD($,Q,J-Q,$,mJ0))q+=Z;return q}let K=J>>3<<3,Y=Q+(Q%8===0?0:8-Q%8);return ab($,Q,Y)+ab($,K,J)+dJ0($,Y>>3,K-Y>>3)}nJ0.popcnt_bit_range=ab;function dJ0($,Q,J){let K=0,Y=Math.trunc(Q),q=new DataView($.buffer,$.byteOffset,$.byteLength),Z=J===void 0?$.byteLength:Y+J;while(Z-Y>=4)K+=pD(q.getUint32(Y)),Y+=4;while(Z-Y>=2)K+=pD(q.getUint16(Y)),Y+=2;while(Z-Y>=1)K+=pD(q.getUint8(Y)),Y+=1;return K}nJ0.popcnt_array=dJ0;function pD($){let Q=Math.trunc($);return Q=Q-(Q>>>1&1431655765),Q=(Q&858993459)+(Q>>>2&858993459),(Q+(Q>>>4)&252645135)*16843009>>>24}nJ0.popcnt_uint32=pD});var nQ=w0((rJ0)=>{Object.defineProperty(rJ0,"__esModule",{value:!0});rJ0.makeData=rJ0.Data=rJ0.kUnknownNullCount=void 0;var Np0=Z4(),dQ=l6(),x4=h6(),tb=FX();rJ0.kUnknownNullCount=-1;class G6{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){let{type:$}=this;if(x4.DataType.isSparseUnion($))return this.children.some((Q)=>Q.nullable);else if(x4.DataType.isDenseUnion($))return this.children.some((Q)=>Q.nullable);return this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let $=0,{valueOffsets:Q,values:J,nullBitmap:K,typeIds:Y}=this;return Q&&($+=Q.byteLength),J&&($+=J.byteLength),K&&($+=K.byteLength),Y&&($+=Y.byteLength),this.children.reduce((q,Z)=>q+Z.byteLength,$)}get nullCount(){if(x4.DataType.isUnion(this.type))return this.children.reduce((J,K)=>J+K.nullCount,0);let $=this._nullCount,Q;if($<=rJ0.kUnknownNullCount&&(Q=this.nullBitmap))this._nullCount=$=Q.length===0?0:this.length-(0,tb.popcnt_bit_range)(Q,this.offset,this.offset+this.length);return $}constructor($,Q,J,K,Y,q=[],Z){this.type=$,this.children=q,this.dictionary=Z,this.offset=Math.floor(Math.max(Q||0,0)),this.length=Math.floor(Math.max(J||0,0)),this._nullCount=Math.floor(Math.max(K||0,-1));let X;if(Y instanceof G6)this.stride=Y.stride,this.values=Y.values,this.typeIds=Y.typeIds,this.nullBitmap=Y.nullBitmap,this.valueOffsets=Y.valueOffsets;else if(this.stride=(0,x4.strideForType)($),Y)(X=Y[0])&&(this.valueOffsets=X),(X=Y[1])&&(this.values=X),(X=Y[2])&&(this.nullBitmap=X),(X=Y[3])&&(this.typeIds=X)}getValid($){let{type:Q}=this;if(x4.DataType.isUnion(Q)){let J=Q,K=this.children[J.typeIdToChildIndex[this.typeIds[$]]],Y=J.mode===dQ.UnionMode.Dense?this.valueOffsets[$]:$;return K.getValid(Y)}if(this.nullable&&this.nullCount>0){let J=this.offset+$;return(this.nullBitmap[J>>3]&1<<J%8)!==0}return!0}setValid($,Q){let J,{type:K}=this;if(x4.DataType.isUnion(K)){let Y=K,q=this.children[Y.typeIdToChildIndex[this.typeIds[$]]],Z=Y.mode===dQ.UnionMode.Dense?this.valueOffsets[$]:$;J=q.getValid(Z),q.setValid(Z,Q)}else{let{nullBitmap:Y}=this,{offset:q,length:Z}=this,X=q+$,W=1<<X%8,F=X>>3;if(!Y||Y.byteLength<=F)if(Y=new Uint8Array((q+Z+63&-64)>>3).fill(255),this.nullCount>0)Y.set((0,tb.truncateBitmap)(q,Z,this.nullBitmap),0),Object.assign(this,{nullBitmap:Y});else Object.assign(this,{nullBitmap:Y,_nullCount:0});let H=Y[F];J=(H&W)!==0,Y[F]=Q?H|W:H&~W}if(J!==!!Q)this._nullCount=this.nullCount+(Q?-1:1);return Q}clone($=this.type,Q=this.offset,J=this.length,K=this._nullCount,Y=this,q=this.children){return new G6($,Q,J,K,Y,q,this.dictionary)}slice($,Q){let{stride:J,typeId:K,children:Y}=this,q=+(this._nullCount===0)-1,Z=K===16?J:1,X=this._sliceBuffers($,Q,J,K);return this.clone(this.type,this.offset+$,Q,q,X,Y.length===0||this.valueOffsets?Y:this._sliceChildren(Y,Z*$,Z*Q))}_changeLengthAndBackfillNullBitmap($){if(this.typeId===dQ.Type.Null)return this.clone(this.type,0,$,0);let{length:Q,nullCount:J}=this,K=new Uint8Array(($+63&-64)>>3).fill(255,0,Q>>3);if(K[Q>>3]=(1<<Q-(Q&-8))-1,J>0)K.set((0,tb.truncateBitmap)(this.offset,Q,this.nullBitmap),0);let Y=this.buffers;return Y[dQ.BufferType.VALIDITY]=K,this.clone(this.type,0,$,J+($-Q),Y)}_sliceBuffers($,Q,J,K){let Y,{buffers:q}=this;return(Y=q[dQ.BufferType.TYPE])&&(q[dQ.BufferType.TYPE]=Y.subarray($,$+Q)),(Y=q[dQ.BufferType.OFFSET])&&(q[dQ.BufferType.OFFSET]=Y.subarray($,$+Q+1))||(Y=q[dQ.BufferType.DATA])&&(q[dQ.BufferType.DATA]=K===6?Y:Y.subarray(J*$,J*($+Q))),q}_sliceChildren($,Q,J){return $.map((K)=>K.slice(Q,J))}}rJ0.Data=G6;G6.prototype.children=Object.freeze([]);var Bp0=y4(),B5=t7();class wA extends Bp0.Visitor{visit($){return this.getVisitFn($.type).call(this,$)}visitNull($){let{["type"]:Q,["offset"]:J=0,["length"]:K=0}=$;return new G6(Q,J,K,K)}visitBool($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,B5.toUint8Array)($.nullBitmap),Y=(0,B5.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:q=Y.length>>3,["nullCount"]:Z=$.nullBitmap?-1:0}=$;return new G6(Q,J,q,Z,[void 0,Y,K])}visitInt($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,B5.toUint8Array)($.nullBitmap),Y=(0,B5.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:q=Y.length,["nullCount"]:Z=$.nullBitmap?-1:0}=$;return new G6(Q,J,q,Z,[void 0,Y,K])}visitFloat($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,B5.toUint8Array)($.nullBitmap),Y=(0,B5.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:q=Y.length,["nullCount"]:Z=$.nullBitmap?-1:0}=$;return new G6(Q,J,q,Z,[void 0,Y,K])}visitUtf8($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,B5.toUint8Array)($.data),Y=(0,B5.toUint8Array)($.nullBitmap),q=(0,B5.toInt32Array)($.valueOffsets),{["length"]:Z=q.length-1,["nullCount"]:X=$.nullBitmap?-1:0}=$;return new G6(Q,J,Z,X,[q,K,Y])}visitLargeUtf8($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,B5.toUint8Array)($.data),Y=(0,B5.toUint8Array)($.nullBitmap),q=(0,B5.toBigInt64Array)($.valueOffsets),{["length"]:Z=q.length-1,["nullCount"]:X=$.nullBitmap?-1:0}=$;return new G6(Q,J,Z,X,[q,K,Y])}visitBinary($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,B5.toUint8Array)($.data),Y=(0,B5.toUint8Array)($.nullBitmap),q=(0,B5.toInt32Array)($.valueOffsets),{["length"]:Z=q.length-1,["nullCount"]:X=$.nullBitmap?-1:0}=$;return new G6(Q,J,Z,X,[q,K,Y])}visitLargeBinary($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,B5.toUint8Array)($.data),Y=(0,B5.toUint8Array)($.nullBitmap),q=(0,B5.toBigInt64Array)($.valueOffsets),{["length"]:Z=q.length-1,["nullCount"]:X=$.nullBitmap?-1:0}=$;return new G6(Q,J,Z,X,[q,K,Y])}visitFixedSizeBinary($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,B5.toUint8Array)($.nullBitmap),Y=(0,B5.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:q=Y.length/(0,x4.strideForType)(Q),["nullCount"]:Z=$.nullBitmap?-1:0}=$;return new G6(Q,J,q,Z,[void 0,Y,K])}visitDate($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,B5.toUint8Array)($.nullBitmap),Y=(0,B5.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:q=Y.length/(0,x4.strideForType)(Q),["nullCount"]:Z=$.nullBitmap?-1:0}=$;return new G6(Q,J,q,Z,[void 0,Y,K])}visitTimestamp($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,B5.toUint8Array)($.nullBitmap),Y=(0,B5.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:q=Y.length/(0,x4.strideForType)(Q),["nullCount"]:Z=$.nullBitmap?-1:0}=$;return new G6(Q,J,q,Z,[void 0,Y,K])}visitTime($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,B5.toUint8Array)($.nullBitmap),Y=(0,B5.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:q=Y.length/(0,x4.strideForType)(Q),["nullCount"]:Z=$.nullBitmap?-1:0}=$;return new G6(Q,J,q,Z,[void 0,Y,K])}visitDecimal($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,B5.toUint8Array)($.nullBitmap),Y=(0,B5.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:q=Y.length/(0,x4.strideForType)(Q),["nullCount"]:Z=$.nullBitmap?-1:0}=$;return new G6(Q,J,q,Z,[void 0,Y,K])}visitList($){let{["type"]:Q,["offset"]:J=0,["child"]:K}=$,Y=(0,B5.toUint8Array)($.nullBitmap),q=(0,B5.toInt32Array)($.valueOffsets),{["length"]:Z=q.length-1,["nullCount"]:X=$.nullBitmap?-1:0}=$;return new G6(Q,J,Z,X,[q,void 0,Y],[K])}visitStruct($){let{["type"]:Q,["offset"]:J=0,["children"]:K=[]}=$,Y=(0,B5.toUint8Array)($.nullBitmap),{length:q=K.reduce((X,{length:W})=>Math.max(X,W),0),nullCount:Z=$.nullBitmap?-1:0}=$;return new G6(Q,J,q,Z,[void 0,void 0,Y],K)}visitUnion($){let{["type"]:Q,["offset"]:J=0,["children"]:K=[]}=$,Y=(0,B5.toArrayBufferView)(Q.ArrayType,$.typeIds),{["length"]:q=Y.length,["nullCount"]:Z=-1}=$;if(x4.DataType.isSparseUnion(Q))return new G6(Q,J,q,Z,[void 0,void 0,void 0,Y],K);let X=(0,B5.toInt32Array)($.valueOffsets);return new G6(Q,J,q,Z,[X,void 0,void 0,Y],K)}visitDictionary($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,B5.toUint8Array)($.nullBitmap),Y=(0,B5.toArrayBufferView)(Q.indices.ArrayType,$.data),{["dictionary"]:q=new Np0.Vector([new wA().visit({type:Q.dictionary})])}=$,{["length"]:Z=Y.length,["nullCount"]:X=$.nullBitmap?-1:0}=$;return new G6(Q,J,Z,X,[void 0,Y,K],[],q)}visitInterval($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,B5.toUint8Array)($.nullBitmap),Y=(0,B5.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:q=Y.length/(0,x4.strideForType)(Q),["nullCount"]:Z=$.nullBitmap?-1:0}=$;return new G6(Q,J,q,Z,[void 0,Y,K])}visitDuration($){let{["type"]:Q,["offset"]:J=0}=$,K=(0,B5.toUint8Array)($.nullBitmap),Y=(0,B5.toArrayBufferView)(Q.ArrayType,$.data),{["length"]:q=Y.length,["nullCount"]:Z=$.nullBitmap?-1:0}=$;return new G6(Q,J,q,Z,[void 0,Y,K])}visitFixedSizeList($){let{["type"]:Q,["offset"]:J=0,["child"]:K=new wA().visit({type:Q.valueType})}=$,Y=(0,B5.toUint8Array)($.nullBitmap),{["length"]:q=K.length/(0,x4.strideForType)(Q),["nullCount"]:Z=$.nullBitmap?-1:0}=$;return new G6(Q,J,q,Z,[void 0,void 0,Y],[K])}visitMap($){let{["type"]:Q,["offset"]:J=0,["child"]:K=new wA().visit({type:Q.childType})}=$,Y=(0,B5.toUint8Array)($.nullBitmap),q=(0,B5.toInt32Array)($.valueOffsets),{["length"]:Z=q.length-1,["nullCount"]:X=$.nullBitmap?-1:0}=$;return new G6(Q,J,Z,X,[q,void 0,Y],[K])}}var zp0=new wA;function Ap0($){return zp0.visit($)}rJ0.makeData=Ap0});var lD=w0((aJ0)=>{Object.defineProperty(aJ0,"__esModule",{value:!0});aJ0.wrapChunkedIndexOf=aJ0.wrapChunkedCall2=aJ0.wrapChunkedCall1=aJ0.isChunkedValid=aJ0.binarySearch=aJ0.sliceChunks=aJ0.computeChunkOffsets=aJ0.computeChunkNullCounts=aJ0.computeChunkNullable=aJ0.ChunkedIterator=void 0;class oJ0{constructor($=0,Q){this.numChunks=$,this.getChunkIterator=Q,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){while(this.chunkIndex<this.numChunks){let $=this.chunkIterator.next();if(!$.done)return $;if(++this.chunkIndex<this.numChunks)this.chunkIterator=this.getChunkIterator(this.chunkIndex)}return{done:!0,value:null}}[Symbol.iterator](){return this}}aJ0.ChunkedIterator=oJ0;function Rp0($){return $.some((Q)=>Q.nullable)}aJ0.computeChunkNullable=Rp0;function Gp0($){return $.reduce((Q,J)=>Q+J.nullCount,0)}aJ0.computeChunkNullCounts=Gp0;function wp0($){return $.reduce((Q,J,K)=>{return Q[K+1]=Q[K]+J.length,Q},new Uint32Array($.length+1))}aJ0.computeChunkOffsets=wp0;function Op0($,Q,J,K){let Y=[];for(let q=-1,Z=$.length;++q<Z;){let X=$[q],W=Q[q],{length:F}=X;if(W>=K)break;if(J>=W+F)continue;if(W>=J&&W+F<=K){Y.push(X);continue}let H=Math.max(0,J-W),B=Math.min(K-W,F);Y.push(X.slice(H,B-H))}if(Y.length===0)Y.push($[0].slice(0,0));return Y}aJ0.sliceChunks=Op0;function nD($,Q,J,K){let Y=0,q=0,Z=Q.length-1;do{if(Y>=Z-1)return J<Q[Z]?K($,Y,J-Q[Y]):null;q=Y+Math.trunc((Z-Y)*0.5),J<Q[q]?Z=q:Y=q}while(Y<Z)}aJ0.binarySearch=nD;function Tp0($,Q){return $.getValid(Q)}aJ0.isChunkedValid=Tp0;function Dp0($){function Q(J,K,Y){return $(J[K],Y)}return function(J){let K=this.data;return nD(K,this._offsets,J,Q)}}aJ0.wrapChunkedCall1=Dp0;function Cp0($){let Q;function J(K,Y,q){return $(K[Y],q,Q)}return function(K,Y){let q=this.data;Q=Y;let Z=nD(q,this._offsets,K,J);return Q=void 0,Z}}aJ0.wrapChunkedCall2=Cp0;function Pp0($){let Q;function J(K,Y,q){let Z=q,X=0,W=0;for(let F=Y-1,H=K.length;++F<H;){let B=K[F];if(~(X=$(B,Q,Z)))return W+X;Z=0,W+=B.length}return-1}return function(K,Y){Q=K;let q=this.data,Z=typeof Y!=="number"?J(q,0,0):nD(q,this._offsets,Y,J);return Q=void 0,Z}}aJ0.wrapChunkedIndexOf=Pp0});var rD=w0((YK0)=>{Object.defineProperty(YK0,"__esModule",{value:!0});YK0.instance=YK0.IndexOfVisitor=void 0;var eJ0=l6(),Ip0=y4(),QK0=YX(),$K0=FX(),JK0=nU();class I1 extends Ip0.Visitor{}YK0.IndexOfVisitor=I1;function Mp0($,Q){return Q===null&&$.length>0?0:-1}function bp0($,Q){let{nullBitmap:J}=$;if(!J||$.nullCount<=0)return-1;let K=0;for(let Y of new $K0.BitIterator(J,$.offset+(Q||0),$.length,J,$K0.getBool)){if(!Y)return K;++K}return-1}function o1($,Q,J){if(Q===void 0)return-1;if(Q===null)switch($.typeId){case eJ0.Type.Union:break;case eJ0.Type.Dictionary:break;default:return bp0($,J)}let K=QK0.instance.getVisitFn($),Y=(0,JK0.createElementComparator)(Q);for(let q=(J||0)-1,Z=$.length;++q<Z;)if(Y(K($,q)))return q;return-1}function KK0($,Q,J){let K=QK0.instance.getVisitFn($),Y=(0,JK0.createElementComparator)(Q);for(let q=(J||0)-1,Z=$.length;++q<Z;)if(Y(K($,q)))return q;return-1}I1.prototype.visitNull=Mp0;I1.prototype.visitBool=o1;I1.prototype.visitInt=o1;I1.prototype.visitInt8=o1;I1.prototype.visitInt16=o1;I1.prototype.visitInt32=o1;I1.prototype.visitInt64=o1;I1.prototype.visitUint8=o1;I1.prototype.visitUint16=o1;I1.prototype.visitUint32=o1;I1.prototype.visitUint64=o1;I1.prototype.visitFloat=o1;I1.prototype.visitFloat16=o1;I1.prototype.visitFloat32=o1;I1.prototype.visitFloat64=o1;I1.prototype.visitUtf8=o1;I1.prototype.visitLargeUtf8=o1;I1.prototype.visitBinary=o1;I1.prototype.visitLargeBinary=o1;I1.prototype.visitFixedSizeBinary=o1;I1.prototype.visitDate=o1;I1.prototype.visitDateDay=o1;I1.prototype.visitDateMillisecond=o1;I1.prototype.visitTimestamp=o1;I1.prototype.visitTimestampSecond=o1;I1.prototype.visitTimestampMillisecond=o1;I1.prototype.visitTimestampMicrosecond=o1;I1.prototype.visitTimestampNanosecond=o1;I1.prototype.visitTime=o1;I1.prototype.visitTimeSecond=o1;I1.prototype.visitTimeMillisecond=o1;I1.prototype.visitTimeMicrosecond=o1;I1.prototype.visitTimeNanosecond=o1;I1.prototype.visitDecimal=o1;I1.prototype.visitList=o1;I1.prototype.visitStruct=o1;I1.prototype.visitUnion=o1;I1.prototype.visitDenseUnion=KK0;I1.prototype.visitSparseUnion=KK0;I1.prototype.visitDictionary=o1;I1.prototype.visitInterval=o1;I1.prototype.visitIntervalDayTime=o1;I1.prototype.visitIntervalYearMonth=o1;I1.prototype.visitDuration=o1;I1.prototype.visitDurationSecond=o1;I1.prototype.visitDurationMillisecond=o1;I1.prototype.visitDurationMicrosecond=o1;I1.prototype.visitDurationNanosecond=o1;I1.prototype.visitFixedSizeList=o1;I1.prototype.visitMap=o1;YK0.instance=new I1});var iD=w0((WK0)=>{Object.defineProperty(WK0,"__esModule",{value:!0});WK0.instance=WK0.IteratorVisitor=void 0;var yp0=y4(),xp0=l6(),eb=h6(),ZK0=lD();class M1 extends yp0.Visitor{}WK0.IteratorVisitor=M1;function n1($){let{type:Q}=$;if($.nullCount===0&&$.stride===1&&(eb.DataType.isInt(Q)&&Q.bitWidth!==64||eb.DataType.isTime(Q)&&Q.bitWidth!==64||eb.DataType.isFloat(Q)&&Q.precision!==xp0.Precision.HALF))return new ZK0.ChunkedIterator($.data.length,(K)=>{let Y=$.data[K];return Y.values.subarray(0,Y.length)[Symbol.iterator]()});let J=0;return new ZK0.ChunkedIterator($.data.length,(K)=>{let q=$.data[K].length,Z=$.slice(J,J+q);return J+=q,new XK0(Z)})}class XK0{constructor($){this.vector=$,this.index=0}next(){if(this.index<this.vector.length)return{value:this.vector.get(this.index++)};return{done:!0,value:null}}[Symbol.iterator](){return this}}M1.prototype.visitNull=n1;M1.prototype.visitBool=n1;M1.prototype.visitInt=n1;M1.prototype.visitInt8=n1;M1.prototype.visitInt16=n1;M1.prototype.visitInt32=n1;M1.prototype.visitInt64=n1;M1.prototype.visitUint8=n1;M1.prototype.visitUint16=n1;M1.prototype.visitUint32=n1;M1.prototype.visitUint64=n1;M1.prototype.visitFloat=n1;M1.prototype.visitFloat16=n1;M1.prototype.visitFloat32=n1;M1.prototype.visitFloat64=n1;M1.prototype.visitUtf8=n1;M1.prototype.visitLargeUtf8=n1;M1.prototype.visitBinary=n1;M1.prototype.visitLargeBinary=n1;M1.prototype.visitFixedSizeBinary=n1;M1.prototype.visitDate=n1;M1.prototype.visitDateDay=n1;M1.prototype.visitDateMillisecond=n1;M1.prototype.visitTimestamp=n1;M1.prototype.visitTimestampSecond=n1;M1.prototype.visitTimestampMillisecond=n1;M1.prototype.visitTimestampMicrosecond=n1;M1.prototype.visitTimestampNanosecond=n1;M1.prototype.visitTime=n1;M1.prototype.visitTimeSecond=n1;M1.prototype.visitTimeMillisecond=n1;M1.prototype.visitTimeMicrosecond=n1;M1.prototype.visitTimeNanosecond=n1;M1.prototype.visitDecimal=n1;M1.prototype.visitList=n1;M1.prototype.visitStruct=n1;M1.prototype.visitUnion=n1;M1.prototype.visitDenseUnion=n1;M1.prototype.visitSparseUnion=n1;M1.prototype.visitDictionary=n1;M1.prototype.visitInterval=n1;M1.prototype.visitIntervalDayTime=n1;M1.prototype.visitIntervalYearMonth=n1;M1.prototype.visitDuration=n1;M1.prototype.visitDurationSecond=n1;M1.prototype.visitDurationMillisecond=n1;M1.prototype.visitDurationMicrosecond=n1;M1.prototype.visitDurationNanosecond=n1;M1.prototype.visitFixedSizeList=n1;M1.prototype.visitMap=n1;WK0.instance=new M1});var Z4=w0((GK0)=>{var zK0;Object.defineProperty(GK0,"__esModule",{value:!0});GK0.makeVector=GK0.Vector=void 0;var PK=l6(),UK0=nU(),lU=h6(),c4=nQ(),rQ=lD(),HK0=YX(),NK0=h9(),BK0=rD(),up0=iD(),AK0={},VK0={};class H6{constructor($){var Q,J,K;let Y=$[0]instanceof H6?$.flatMap((Z)=>Z.data):$;if(Y.length===0||Y.some((Z)=>!(Z instanceof c4.Data)))throw TypeError("Vector constructor expects an Array of Data instances.");let q=(Q=Y[0])===null||Q===void 0?void 0:Q.type;switch(Y.length){case 0:this._offsets=[0];break;case 1:{let{get:Z,set:X,indexOf:W}=AK0[q.typeId],F=Y[0];this.isValid=(H)=>(0,rQ.isChunkedValid)(F,H),this.get=(H)=>Z(F,H),this.set=(H,B)=>X(F,H,B),this.indexOf=(H)=>W(F,H),this._offsets=[0,F.length];break}default:Object.setPrototypeOf(this,VK0[q.typeId]),this._offsets=(0,rQ.computeChunkOffsets)(Y);break}this.data=Y,this.type=q,this.stride=(0,lU.strideForType)(q),this.numChildren=(K=(J=q.children)===null||J===void 0?void 0:J.length)!==null&&K!==void 0?K:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce(($,Q)=>$+Q.byteLength,0)}get nullable(){return(0,rQ.computeChunkNullable)(this.data)}get nullCount(){return(0,rQ.computeChunkNullCounts)(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${PK.Type[this.type.typeId]}Vector`}isValid($){return!1}get($){return null}at($){return this.get((0,UK0.wrapIndex)($,this.length))}set($,Q){return}indexOf($,Q){return-1}includes($,Q){return this.indexOf($,Q)>-1}[Symbol.iterator](){return up0.instance.visit(this)}concat(...$){return new H6(this.data.concat($.flatMap((Q)=>Q.data).flat(Number.POSITIVE_INFINITY)))}slice($,Q){return new H6((0,UK0.clampRange)(this,$,Q,({data:J,_offsets:K},Y,q)=>(0,rQ.sliceChunks)(J,K,Y,q)))}toJSON(){return[...this]}toArray(){let{type:$,data:Q,length:J,stride:K,ArrayType:Y}=this;switch($.typeId){case PK.Type.Int:case PK.Type.Float:case PK.Type.Decimal:case PK.Type.Time:case PK.Type.Timestamp:switch(Q.length){case 0:return new Y;case 1:return Q[0].values.subarray(0,J*K);default:return Q.reduce((q,{values:Z,length:X})=>{return q.array.set(Z.subarray(0,X*K),q.offset),q.offset+=X*K,q},{array:new Y(J*K),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild($){var Q;return this.getChildAt((Q=this.type.children)===null||Q===void 0?void 0:Q.findIndex((J)=>J.name===$))}getChildAt($){if($>-1&&$<this.numChildren)return new H6(this.data.map(({children:Q})=>Q[$]));return null}get isMemoized(){if(lU.DataType.isDictionary(this.type))return this.data[0].dictionary.isMemoized;return!1}memoize(){if(lU.DataType.isDictionary(this.type)){let $=new sD(this.data[0].dictionary),Q=this.data.map((J)=>{let K=J.clone();return K.dictionary=$,K});return new H6(Q)}return new sD(this)}unmemoize(){if(lU.DataType.isDictionary(this.type)&&this.isMemoized){let $=this.data[0].dictionary.unmemoize(),Q=this.data.map((J)=>{let K=J.clone();return K.dictionary=$,K});return new H6(Q)}return this}}GK0.Vector=H6;zK0=Symbol.toStringTag;H6[zK0]=(($)=>{$.type=lU.DataType.prototype,$.data=[],$.length=0,$.stride=1,$.numChildren=0,$._offsets=new Uint32Array([0]),$[Symbol.isConcatSpreadable]=!0;let Q=Object.keys(PK.Type).map((J)=>PK.Type[J]).filter((J)=>typeof J==="number"&&J!==PK.Type.NONE);for(let J of Q){let K=HK0.instance.getVisitFnByTypeId(J),Y=NK0.instance.getVisitFnByTypeId(J),q=BK0.instance.getVisitFnByTypeId(J);AK0[J]={get:K,set:Y,indexOf:q},VK0[J]=Object.create($,{["isValid"]:{value:(0,rQ.wrapChunkedCall1)(rQ.isChunkedValid)},["get"]:{value:(0,rQ.wrapChunkedCall1)(HK0.instance.getVisitFnByTypeId(J))},["set"]:{value:(0,rQ.wrapChunkedCall2)(NK0.instance.getVisitFnByTypeId(J))},["indexOf"]:{value:(0,rQ.wrapChunkedIndexOf)(BK0.instance.getVisitFnByTypeId(J))}})}return"Vector"})(H6.prototype);class sD extends H6{constructor($){super($.data);let Q=this.get,J=this.set,K=this.slice,Y=Array(this.length);Object.defineProperty(this,"get",{value(q){let Z=Y[q];if(Z!==void 0)return Z;let X=Q.call(this,q);return Y[q]=X,X}}),Object.defineProperty(this,"set",{value(q,Z){J.call(this,q,Z),Y[q]=Z}}),Object.defineProperty(this,"slice",{value:(q,Z)=>new sD(K.call(this,q,Z))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new H6(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}var lQ=h6();function RK0($){if($){if($ instanceof c4.Data)return new H6([$]);if($ instanceof H6)return new H6($.data);if($.type instanceof lU.DataType)return new H6([(0,c4.makeData)($)]);if(Array.isArray($))return new H6($.flatMap((Q)=>mp0(Q)));if(ArrayBuffer.isView($)){if($ instanceof DataView)$=new Uint8Array($.buffer);let Q={offset:0,length:$.length,nullCount:-1,data:$};if($ instanceof Int8Array)return new H6([(0,c4.makeData)(Object.assign(Object.assign({},Q),{type:new lQ.Int8}))]);if($ instanceof Int16Array)return new H6([(0,c4.makeData)(Object.assign(Object.assign({},Q),{type:new lQ.Int16}))]);if($ instanceof Int32Array)return new H6([(0,c4.makeData)(Object.assign(Object.assign({},Q),{type:new lQ.Int32}))]);if($ instanceof BigInt64Array)return new H6([(0,c4.makeData)(Object.assign(Object.assign({},Q),{type:new lQ.Int64}))]);if($ instanceof Uint8Array||$ instanceof Uint8ClampedArray)return new H6([(0,c4.makeData)(Object.assign(Object.assign({},Q),{type:new lQ.Uint8}))]);if($ instanceof Uint16Array)return new H6([(0,c4.makeData)(Object.assign(Object.assign({},Q),{type:new lQ.Uint16}))]);if($ instanceof Uint32Array)return new H6([(0,c4.makeData)(Object.assign(Object.assign({},Q),{type:new lQ.Uint32}))]);if($ instanceof BigUint64Array)return new H6([(0,c4.makeData)(Object.assign(Object.assign({},Q),{type:new lQ.Uint64}))]);if($ instanceof Float32Array)return new H6([(0,c4.makeData)(Object.assign(Object.assign({},Q),{type:new lQ.Float32}))]);if($ instanceof Float64Array)return new H6([(0,c4.makeData)(Object.assign(Object.assign({},Q),{type:new lQ.Float64}))]);throw Error("Unrecognized input")}}throw Error("Unrecognized input")}GK0.makeVector=RK0;function mp0($){return $ instanceof c4.Data?[$]:$ instanceof H6?$.data:RK0($).data}});var CK0=w0((TK0)=>{Object.defineProperty(TK0,"__esModule",{value:!0});TK0.createIsValidFunction=void 0;var OK0=zA();function dp0($){if(!$||$.length<=0)return function(Y){return!0};let Q="",J=$.filter((K)=>K===K);if(J.length>0)Q=`
    switch (x) {${J.map((K)=>`
        case ${np0(K)}:`).join("")}
            return false;
    }`;if($.length!==J.length)Q=`if (x !== x) return false;
${Q}`;return Function("x",`${Q}
return true;`)}TK0.createIsValidFunction=dp0;function np0($){if(typeof $!=="bigint")return(0,OK0.valueToString)($);return`${(0,OK0.valueToString)($)}n`}});var kK=w0((EK0)=>{Object.defineProperty(EK0,"__esModule",{value:!0});EK0.OffsetsBufferBuilder=EK0.BitmapBufferBuilder=EK0.DataBufferBuilder=EK0.BufferBuilder=void 0;var lp0=t7();function $g($,Q){let J=Math.ceil($)*Q-1;return(J-J%64+64||64)/Q}function PK0($,Q=0){return $.length>=Q?$.subarray(0,Q):(0,lp0.memcpy)(new $.constructor(Q),$,0)}class Qg{constructor($,Q=0,J=1){this.length=Math.ceil(Q/J),this.buffer=new $(this.length),this.stride=J,this.BYTES_PER_ELEMENT=$.BYTES_PER_ELEMENT,this.ArrayType=$}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set($,Q){return this}append($){return this.set(this.length,$)}reserve($){if($>0){this.length+=$;let Q=this.stride,J=this.length*Q,K=this.buffer.length;if(J>=K)this._resize(K===0?$g(J*1,this.BYTES_PER_ELEMENT):$g(J*2,this.BYTES_PER_ELEMENT))}return this}flush($=this.length){$=$g($*this.stride,this.BYTES_PER_ELEMENT);let Q=PK0(this.buffer,$);return this.clear(),Q}clear(){return this.length=0,this.buffer=new this.ArrayType,this}_resize($){return this.buffer=PK0(this.buffer,$)}}EK0.BufferBuilder=Qg;class oD extends Qg{last(){return this.get(this.length-1)}get($){return this.buffer[$]}set($,Q){return this.reserve($-this.length+1),this.buffer[$*this.stride]=Q,this}}EK0.DataBufferBuilder=oD;class kK0 extends oD{constructor(){super(Uint8Array,0,0.125);this.numValid=0}get numInvalid(){return this.length-this.numValid}get($){return this.buffer[$>>3]>>$%8&1}set($,Q){let{buffer:J}=this.reserve($-this.length+1),K=$>>3,Y=$%8,q=J[K]>>Y&1;return Q?q===0&&(J[K]|=1<<Y,++this.numValid):q===1&&(J[K]&=~(1<<Y),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}EK0.BitmapBufferBuilder=kK0;class jK0 extends oD{constructor($){super($.OffsetArrayType,1,1)}append($){return this.set(this.length-1,$)}set($,Q){let J=this.length-1,K=this.reserve($-J+1).buffer;if(J<$++&&J>=0)K.fill(K[J],J,$);return K[$]=K[$-1]+Q,this}flush($=this.length-1){if($>this.length)this.set($-1,this.BYTES_PER_ELEMENT>4?BigInt(0):0);return super.flush($+1)}}EK0.OffsetsBufferBuilder=jK0});var y6=w0((_K0)=>{Object.defineProperty(_K0,"__esModule",{value:!0});_K0.VariableWidthBuilder=_K0.FixedWidthBuilder=_K0.Builder=void 0;var op0=Z4(),ap0=nQ(),hK0=RA(),tp0=h6(),ep0=CK0(),Jg=kK();class iQ{static throughNode($){throw Error('"throughNode" not available in this environment')}static throughDOM($){throw Error('"throughDOM" not available in this environment')}constructor({type:$,nullValues:Q}){if(this.length=0,this.finished=!1,this.type=$,this.children=[],this.nullValues=Q,this.stride=(0,tp0.strideForType)($),this._nulls=new Jg.BitmapBufferBuilder,Q&&Q.length>0)this._isValid=(0,ep0.createIsValidFunction)(Q)}toVector(){return new op0.Vector([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let $=0,{_offsets:Q,_values:J,_nulls:K,_typeIds:Y,children:q}=this;return Q&&($+=Q.byteLength),J&&($+=J.byteLength),K&&($+=K.byteLength),Y&&($+=Y.byteLength),q.reduce((Z,X)=>Z+X.byteLength,$)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let $=0;return this._offsets&&($+=this._offsets.reservedByteLength),this._values&&($+=this._values.reservedByteLength),this._nulls&&($+=this._nulls.reservedByteLength),this._typeIds&&($+=this._typeIds.reservedByteLength),this.children.reduce((Q,J)=>Q+J.reservedByteLength,$)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append($){return this.set(this.length,$)}isValid($){return this._isValid($)}set($,Q){if(this.setValid($,this.isValid(Q)))this.setValue($,Q);return this}setValue($,Q){this._setValue(this,$,Q)}setValid($,Q){return this.length=this._nulls.set($,+Q).length,Q}addChild($,Q=`${this.numChildren}`){throw Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt($){return this.children[$]||null}flush(){let $,Q,J,K,{type:Y,length:q,nullCount:Z,_typeIds:X,_offsets:W,_values:F,_nulls:H}=this;if(Q=X===null||X===void 0?void 0:X.flush(q))K=W===null||W===void 0?void 0:W.flush(q);else if(K=W===null||W===void 0?void 0:W.flush(q))$=F===null||F===void 0?void 0:F.flush(W.last());else $=F===null||F===void 0?void 0:F.flush(q);if(Z>0)J=H===null||H===void 0?void 0:H.flush(q);let B=this.children.map((z)=>z.flush());return this.clear(),(0,ap0.makeData)({type:Y,length:q,nullCount:Z,children:B,child:B[0],data:$,typeIds:Q,nullBitmap:J,valueOffsets:K})}finish(){this.finished=!0;for(let $ of this.children)$.finish();return this}clear(){var $,Q,J,K;this.length=0,($=this._nulls)===null||$===void 0||$.clear(),(Q=this._values)===null||Q===void 0||Q.clear(),(J=this._offsets)===null||J===void 0||J.clear(),(K=this._typeIds)===null||K===void 0||K.clear();for(let Y of this.children)Y.clear();return this}}_K0.Builder=iQ;iQ.prototype.length=1;iQ.prototype.stride=1;iQ.prototype.children=null;iQ.prototype.finished=!1;iQ.prototype.nullValues=null;iQ.prototype._isValid=()=>!0;class vK0 extends iQ{constructor($){super($);this._values=new Jg.DataBufferBuilder(this.ArrayType,0,this.stride)}setValue($,Q){let J=this._values;return J.reserve($-J.length+1),super.setValue($,Q)}}_K0.FixedWidthBuilder=vK0;class SK0 extends iQ{constructor($){super($);this._pendingLength=0,this._offsets=new Jg.OffsetsBufferBuilder($.type)}setValue($,Q){let J=this._pending||(this._pending=new Map),K=J.get($);K&&(this._pendingLength-=K.length),this._pendingLength+=Q instanceof hK0.MapRow?Q[hK0.kKeys].length:Q.length,J.set($,Q)}setValid($,Q){if(!super.setValid($,Q))return(this._pending||(this._pending=new Map)).set($,void 0),!1;return!0}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){let $=this._pending,Q=this._pendingLength;if(this._pendingLength=0,this._pending=void 0,$&&$.size>0)this._flushPending($,Q);return this}}_K0.VariableWidthBuilder=SK0});var Kg=w0((MK0)=>{Object.defineProperty(MK0,"__esModule",{value:!0});MK0.Block=void 0;class IK0{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock($,Q,J,K){return $.prep(8,24),$.writeInt64(BigInt(K!==null&&K!==void 0?K:0)),$.pad(4),$.writeInt32(J),$.writeInt64(BigInt(Q!==null&&Q!==void 0?Q:0)),$.offset()}}MK0.Block=IK0});var uK0=w0((xK0)=>{Object.defineProperty(xK0,"__esModule",{value:!0});xK0.Footer=void 0;var Jd0=V5(),gK0=Kg(),Kd0=PU(),yK0=sT(),Yd0=BD();class aD{constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsFooter($,Q){return(Q||new aD).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsFooter($,Q){return $.setPosition($.position()+Jd0.SIZE_PREFIX_LENGTH),(Q||new aD).__init($.readInt32($.position())+$.position(),$)}version(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):yK0.MetadataVersion.V1}schema($){let Q=this.bb.__offset(this.bb_pos,6);return Q?($||new Yd0.Schema).__init(this.bb.__indirect(this.bb_pos+Q),this.bb):null}dictionaries($,Q){let J=this.bb.__offset(this.bb_pos,8);return J?(Q||new gK0.Block).__init(this.bb.__vector(this.bb_pos+J)+$*24,this.bb):null}dictionariesLength(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.__vector_len(this.bb_pos+$):0}recordBatches($,Q){let J=this.bb.__offset(this.bb_pos,10);return J?(Q||new gK0.Block).__init(this.bb.__vector(this.bb_pos+J)+$*24,this.bb):null}recordBatchesLength(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.__vector_len(this.bb_pos+$):0}customMetadata($,Q){let J=this.bb.__offset(this.bb_pos,12);return J?(Q||new Kd0.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}customMetadataLength(){let $=this.bb.__offset(this.bb_pos,12);return $?this.bb.__vector_len(this.bb_pos+$):0}static startFooter($){$.startObject(5)}static addVersion($,Q){$.addFieldInt16(0,Q,yK0.MetadataVersion.V1)}static addSchema($,Q){$.addFieldOffset(1,Q,0)}static addDictionaries($,Q){$.addFieldOffset(2,Q,0)}static startDictionariesVector($,Q){$.startVector(24,Q,8)}static addRecordBatches($,Q){$.addFieldOffset(3,Q,0)}static startRecordBatchesVector($,Q){$.startVector(24,Q,8)}static addCustomMetadata($,Q){$.addFieldOffset(4,Q,0)}static createCustomMetadataVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startCustomMetadataVector($,Q){$.startVector(4,Q,4)}static endFooter($){return $.endObject()}static finishFooterBuffer($,Q){$.finish(Q)}static finishSizePrefixedFooterBuffer($,Q){$.finish(Q,void 0,!0)}}xK0.Footer=aD});var u4=w0((mK0)=>{Object.defineProperty(mK0,"__esModule",{value:!0});mK0.Field=mK0.Schema=void 0;var qd0=l6(),Zd0=h6();class L${constructor($=[],Q,J,K=qd0.MetadataVersion.V5){if(this.fields=$||[],this.metadata=Q||new Map,!J)J=Yg(this.fields);this.dictionaries=J,this.metadataVersion=K}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(($)=>$.name)}toString(){return`Schema<{ ${this.fields.map(($,Q)=>`${Q}: ${$}`).join(", ")} }>`}select($){let Q=new Set($),J=this.fields.filter((K)=>Q.has(K.name));return new L$(J,this.metadata)}selectAt($){let Q=$.map((J)=>this.fields[J]).filter(Boolean);return new L$(Q,this.metadata)}assign(...$){let Q=$[0]instanceof L$?$[0]:Array.isArray($[0])?new L$($[0]):new L$($),J=[...this.fields],K=tD(tD(new Map,this.metadata),Q.metadata),Y=Q.fields.filter((Z)=>{let X=J.findIndex((W)=>W.name===Z.name);return~X?(J[X]=Z.clone({metadata:tD(tD(new Map,J[X].metadata),Z.metadata)}))&&!1:!0}),q=Yg(Y,new Map);return new L$([...J,...Y],K,new Map([...this.dictionaries,...q]))}}mK0.Schema=L$;L$.prototype.fields=null;L$.prototype.metadata=null;L$.prototype.dictionaries=null;class jq{static new(...$){let[Q,J,K,Y]=$;if($[0]&&typeof $[0]==="object")({name:Q}=$[0]),J===void 0&&(J=$[0].type),K===void 0&&(K=$[0].nullable),Y===void 0&&(Y=$[0].metadata);return new jq(`${Q}`,J,K,Y)}constructor($,Q,J=!1,K){this.name=$,this.type=Q,this.nullable=J,this.metadata=K||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...$){let[Q,J,K,Y]=$;return!$[0]||typeof $[0]!=="object"?[Q=this.name,J=this.type,K=this.nullable,Y=this.metadata]=$:{name:Q=this.name,type:J=this.type,nullable:K=this.nullable,metadata:Y=this.metadata}=$[0],jq.new(Q,J,K,Y)}}mK0.Field=jq;jq.prototype.type=null;jq.prototype.name=null;jq.prototype.nullable=null;jq.prototype.metadata=null;function tD($,Q){return new Map([...$||new Map,...Q||new Map])}function Yg($,Q=new Map){for(let J=-1,K=$.length;++J<K;){let q=$[J].type;if(Zd0.DataType.isDictionary(q)){if(!Q.has(q.id))Q.set(q.id,q.dictionary);else if(Q.get(q.id)!==q.dictionary)throw Error("Cannot create Schema containing two different dictionaries with the same Id")}if(q.children&&q.children.length>0)Yg(q.children,Q)}return Q}});var Zg=w0((sK0)=>{Object.defineProperty(sK0,"__esModule",{value:!0});sK0.FileBlock=sK0.Footer=void 0;var Wd0=Kg(),sQ=uK0(),rK0=V5(),Fd0=rK0.Builder,Ud0=rK0.ByteBuffer,dK0=u4(),nK0=l6(),Hd0=t7(),lK0=Oq();class qg{static decode($){$=new Ud0((0,Hd0.toUint8Array)($));let Q=sQ.Footer.getRootAsFooter($),J=dK0.Schema.decode(Q.schema(),new Map,Q.version());return new iK0(J,Q)}static encode($){let Q=new Fd0,J=dK0.Schema.encode(Q,$.schema);sQ.Footer.startRecordBatchesVector(Q,$.numRecordBatches);for(let q of[...$.recordBatches()].slice().reverse())UX.encode(Q,q);let K=Q.endVector();sQ.Footer.startDictionariesVector(Q,$.numDictionaries);for(let q of[...$.dictionaryBatches()].slice().reverse())UX.encode(Q,q);let Y=Q.endVector();return sQ.Footer.startFooter(Q),sQ.Footer.addSchema(Q,J),sQ.Footer.addVersion(Q,nK0.MetadataVersion.V5),sQ.Footer.addRecordBatches(Q,K),sQ.Footer.addDictionaries(Q,Y),sQ.Footer.finishFooterBuffer(Q,sQ.Footer.endFooter(Q)),Q.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor($,Q=nK0.MetadataVersion.V5,J,K){this.schema=$,this.version=Q,J&&(this._recordBatches=J),K&&(this._dictionaryBatches=K)}*recordBatches(){for(let $,Q=-1,J=this.numRecordBatches;++Q<J;)if($=this.getRecordBatch(Q))yield $}*dictionaryBatches(){for(let $,Q=-1,J=this.numDictionaries;++Q<J;)if($=this.getDictionaryBatch(Q))yield $}getRecordBatch($){return $>=0&&$<this.numRecordBatches&&this._recordBatches[$]||null}getDictionaryBatch($){return $>=0&&$<this.numDictionaries&&this._dictionaryBatches[$]||null}}sK0.Footer=qg;class iK0 extends qg{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor($,Q){super($,Q.version());this._footer=Q}getRecordBatch($){if($>=0&&$<this.numRecordBatches){let Q=this._footer.recordBatches($);if(Q)return UX.decode(Q)}return null}getDictionaryBatch($){if($>=0&&$<this.numDictionaries){let Q=this._footer.dictionaries($);if(Q)return UX.decode(Q)}return null}}class UX{static decode($){return new UX($.metaDataLength(),$.bodyLength(),$.offset())}static encode($,Q){let{metaDataLength:J}=Q,K=BigInt(Q.offset),Y=BigInt(Q.bodyLength);return Wd0.Block.createBlock($,K,J,Y)}constructor($,Q,J){this.metaDataLength=$,this.offset=(0,lK0.bigIntToNumber)(J),this.bodyLength=(0,lK0.bigIntToNumber)(Q)}}sK0.FileBlock=UX});var DA=w0(($Y0)=>{Object.defineProperty($Y0,"__esModule",{value:!0});$Y0.AsyncQueue=$Y0.ReadableInterop=$Y0.ArrowJSON=$Y0.ITERATOR_DONE=void 0;var OA=(b4(),j9(M4)),aK0=HA();$Y0.ITERATOR_DONE=Object.freeze({done:!0,value:void 0});class tK0{constructor($){this._json=$}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}$Y0.ArrowJSON=tK0;class Xg{tee(){return this._getDOMStream().tee()}pipe($,Q){return this._getNodeStream().pipe($,Q)}pipeTo($,Q){return this._getDOMStream().pipeTo($,Q)}pipeThrough($,Q){return this._getDOMStream().pipeThrough($,Q)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}$Y0.ReadableInterop=Xg;class eK0 extends Xg{constructor(){super();this._values=[],this.resolvers=[],this._closedPromise=new Promise(($)=>this._closedPromiseResolve=$)}get closed(){return this._closedPromise}cancel($){return OA.__awaiter(this,void 0,void 0,function*(){yield this.return($)})}write($){if(this._ensureOpen())this.resolvers.length<=0?this._values.push($):this.resolvers.shift().resolve({done:!1,value:$})}abort($){if(this._closedPromiseResolve)this.resolvers.length<=0?this._error={error:$}:this.resolvers.shift().reject({done:!0,value:$})}close(){if(this._closedPromiseResolve){let{resolvers:$}=this;while($.length>0)$.shift().resolve($Y0.ITERATOR_DONE);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream($){return aK0.default.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,$)}toNodeStream($){return aK0.default.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,$)}throw($){return OA.__awaiter(this,void 0,void 0,function*(){return yield this.abort($),$Y0.ITERATOR_DONE})}return($){return OA.__awaiter(this,void 0,void 0,function*(){return yield this.close(),$Y0.ITERATOR_DONE})}read($){return OA.__awaiter(this,void 0,void 0,function*(){return(yield this.next($,"read")).value})}peek($){return OA.__awaiter(this,void 0,void 0,function*(){return(yield this.next($,"peek")).value})}next(...$){if(this._values.length>0)return Promise.resolve({done:!1,value:this._values.shift()});else if(this._error)return Promise.reject({done:!0,value:this._error.error});else if(!this._closedPromiseResolve)return Promise.resolve($Y0.ITERATOR_DONE);else return new Promise((Q,J)=>{this.resolvers.push({resolve:Q,reject:J})})}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw Error("AsyncQueue is closed")}}$Y0.AsyncQueue=eK0});var vq=w0((qY0)=>{Object.defineProperty(qY0,"__esModule",{value:!0});qY0.AsyncByteStream=qY0.ByteStream=qY0.AsyncByteQueue=void 0;var hq=(b4(),j9(M4)),Eq=HA(),JY0=Fq(),CA=DA(),Wg=t7(),rU=Uq();class Fg extends CA.AsyncQueue{write($){if(($=(0,Wg.toUint8Array)($)).byteLength>0)return super.write($)}toString($=!1){return $?(0,JY0.decodeUtf8)(this.toUint8Array(!0)):this.toUint8Array(!1).then(JY0.decodeUtf8)}toUint8Array($=!1){return $?(0,Wg.joinUint8Arrays)(this._values)[0]:(()=>hq.__awaiter(this,void 0,void 0,function*(){var Q,J,K,Y;let q=[],Z=0;try{for(var X=!0,W=hq.__asyncValues(this),F;F=yield W.next(),Q=F.done,!Q;X=!0){Y=F.value,X=!1;let H=Y;q.push(H),Z+=H.byteLength}}catch(H){J={error:H}}finally{try{if(!X&&!Q&&(K=W.return))yield K.call(W)}finally{if(J)throw J.error}}return(0,Wg.joinUint8Arrays)(q,Z)[0]}))()}}qY0.AsyncByteQueue=Fg;class KY0{constructor($){if($)this.source=new YY0(Eq.default.fromIterable($))}[Symbol.iterator](){return this}next($){return this.source.next($)}throw($){return this.source.throw($)}return($){return this.source.return($)}peek($){return this.source.peek($)}read($){return this.source.read($)}}qY0.ByteStream=KY0;class Ug{constructor($){if($ instanceof Ug)this.source=$.source;else if($ instanceof Fg)this.source=new Lq(Eq.default.fromAsyncIterable($));else if((0,rU.isReadableNodeStream)($))this.source=new Lq(Eq.default.fromNodeStream($));else if((0,rU.isReadableDOMStream)($))this.source=new Lq(Eq.default.fromDOMStream($));else if((0,rU.isFetchResponse)($))this.source=new Lq(Eq.default.fromDOMStream($.body));else if((0,rU.isIterable)($))this.source=new Lq(Eq.default.fromIterable($));else if((0,rU.isPromise)($))this.source=new Lq(Eq.default.fromAsyncIterable($));else if((0,rU.isAsyncIterable)($))this.source=new Lq(Eq.default.fromAsyncIterable($))}[Symbol.asyncIterator](){return this}next($){return this.source.next($)}throw($){return this.source.throw($)}return($){return this.source.return($)}get closed(){return this.source.closed}cancel($){return this.source.cancel($)}peek($){return this.source.peek($)}read($){return this.source.read($)}}qY0.AsyncByteStream=Ug;class YY0{constructor($){this.source=$}cancel($){this.return($)}peek($){return this.next($,"peek").value}read($){return this.next($,"read").value}next($,Q="read"){return this.source.next({cmd:Q,size:$})}throw($){return Object.create(this.source.throw&&this.source.throw($)||CA.ITERATOR_DONE)}return($){return Object.create(this.source.return&&this.source.return($)||CA.ITERATOR_DONE)}}class Lq{constructor($){this.source=$,this._closedPromise=new Promise((Q)=>this._closedPromiseResolve=Q)}cancel($){return hq.__awaiter(this,void 0,void 0,function*(){yield this.return($)})}get closed(){return this._closedPromise}read($){return hq.__awaiter(this,void 0,void 0,function*(){return(yield this.next($,"read")).value})}peek($){return hq.__awaiter(this,void 0,void 0,function*(){return(yield this.next($,"peek")).value})}next($){return hq.__awaiter(this,arguments,void 0,function*(Q,J="read"){return yield this.source.next({cmd:J,size:Q})})}throw($){return hq.__awaiter(this,void 0,void 0,function*(){let Q=this.source.throw&&(yield this.source.throw($))||CA.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(Q)})}return($){return hq.__awaiter(this,void 0,void 0,function*(){let Q=this.source.return&&(yield this.source.return($))||CA.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(Q)})}}});var Hg=w0((UY0)=>{Object.defineProperty(UY0,"__esModule",{value:!0});UY0.AsyncRandomAccessFile=UY0.RandomAccessFile=void 0;var Sq=(b4(),j9(M4)),XY0=vq(),Rd0=t7();class WY0 extends XY0.ByteStream{constructor($,Q){super();this.position=0,this.buffer=(0,Rd0.toUint8Array)($),this.size=Q===void 0?this.buffer.byteLength:Q}readInt32($){let{buffer:Q,byteOffset:J}=this.readAt($,4);return new DataView(Q,J).getInt32(0,!0)}seek($){return this.position=Math.min($,this.size),$<this.size}read($){let{buffer:Q,size:J,position:K}=this;if(Q&&K<J){if(typeof $!=="number")$=Number.POSITIVE_INFINITY;return this.position=Math.min(J,K+Math.min(J-K,$)),Q.subarray(K,this.position)}return null}readAt($,Q){let J=this.buffer,K=Math.min(this.size,$+Q);return J?J.subarray($,K):new Uint8Array(Q)}close(){this.buffer&&(this.buffer=null)}throw($){return this.close(),{done:!0,value:$}}return($){return this.close(),{done:!0,value:$}}}UY0.RandomAccessFile=WY0;class FY0 extends XY0.AsyncByteStream{constructor($,Q){super();if(this.position=0,this._handle=$,typeof Q==="number")this.size=Q;else this._pending=(()=>Sq.__awaiter(this,void 0,void 0,function*(){this.size=(yield $.stat()).size,delete this._pending}))()}readInt32($){return Sq.__awaiter(this,void 0,void 0,function*(){let{buffer:Q,byteOffset:J}=yield this.readAt($,4);return new DataView(Q,J).getInt32(0,!0)})}seek($){return Sq.__awaiter(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min($,this.size),$<this.size})}read($){return Sq.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:Q,size:J,position:K}=this;if(Q&&K<J){if(typeof $!=="number")$=Number.POSITIVE_INFINITY;let Y=K,q=0,Z=0,X=Math.min(J,Y+Math.min(J-Y,$)),W=new Uint8Array(Math.max(0,(this.position=X)-Y));while((Y+=Z)<X&&(q+=Z)<W.byteLength)({bytesRead:Z}=yield Q.read(W,q,W.byteLength-q,Y));return W}return null})}readAt($,Q){return Sq.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:J,size:K}=this;if(J&&$+Q<K){let Y=Math.min(K,$+Q),q=new Uint8Array(Y-$);return(yield J.read(q,0,Q,$)).buffer}return new Uint8Array(Q)})}close(){return Sq.__awaiter(this,void 0,void 0,function*(){let $=this._handle;this._handle=null,$&&(yield $.close())})}throw($){return Sq.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:$}})}return($){return Sq.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:$}})}}UY0.AsyncRandomAccessFile=FY0});var Bg=w0((NY0)=>{Object.defineProperty(NY0,"__esModule",{value:!0});NY0.Int128=NY0.Int64=NY0.Uint64=NY0.BaseInt64=void 0;var wd0=65536;function iU($){if($<0)$=4294967295+$+1;return`0x${$.toString(16)}`}var sU=8,Ng=[1,10,100,1000,1e4,1e5,1e6,1e7,1e8];class eD{constructor($){this.buffer=$}high(){return this.buffer[1]}low(){return this.buffer[0]}_times($){let Q=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),J=new Uint32Array([$.buffer[1]>>>16,$.buffer[1]&65535,$.buffer[0]>>>16,$.buffer[0]&65535]),K=Q[3]*J[3];this.buffer[0]=K&65535;let Y=K>>>16;return K=Q[2]*J[3],Y+=K,K=Q[3]*J[2]>>>0,Y+=K,this.buffer[0]+=Y<<16,this.buffer[1]=Y>>>0<K?wd0:0,this.buffer[1]+=Y>>>16,this.buffer[1]+=Q[1]*J[3]+Q[2]*J[2]+Q[3]*J[1],this.buffer[1]+=Q[0]*J[3]+Q[1]*J[2]+Q[2]*J[1]+Q[3]*J[0]<<16,this}_plus($){let Q=this.buffer[0]+$.buffer[0]>>>0;if(this.buffer[1]+=$.buffer[1],Q<this.buffer[0]>>>0)++this.buffer[1];this.buffer[0]=Q}lessThan($){return this.buffer[1]<$.buffer[1]||this.buffer[1]===$.buffer[1]&&this.buffer[0]<$.buffer[0]}equals($){return this.buffer[1]===$.buffer[1]&&this.buffer[0]==$.buffer[0]}greaterThan($){return $.lessThan(this)}hex(){return`${iU(this.buffer[1])} ${iU(this.buffer[0])}`}}NY0.BaseInt64=eD;class t5 extends eD{times($){return this._times($),this}plus($){return this._plus($),this}static from($,Q=new Uint32Array(2)){return t5.fromString(typeof $==="string"?$:$.toString(),Q)}static fromNumber($,Q=new Uint32Array(2)){return t5.fromString($.toString(),Q)}static fromString($,Q=new Uint32Array(2)){let J=$.length,K=new t5(Q);for(let Y=0;Y<J;){let q=sU<J-Y?sU:J-Y,Z=new t5(new Uint32Array([Number.parseInt($.slice(Y,Y+q),10),0])),X=new t5(new Uint32Array([Ng[q],0]));K.times(X),K.plus(Z),Y+=q}return K}static convertArray($){let Q=new Uint32Array($.length*2);for(let J=-1,K=$.length;++J<K;)t5.from($[J],new Uint32Array(Q.buffer,Q.byteOffset+2*J*4,2));return Q}static multiply($,Q){return new t5(new Uint32Array($.buffer)).times(Q)}static add($,Q){return new t5(new Uint32Array($.buffer)).plus(Q)}}NY0.Uint64=t5;class V3 extends eD{negate(){if(this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0)++this.buffer[1];return this}times($){return this._times($),this}plus($){return this._plus($),this}lessThan($){let Q=this.buffer[1]<<0,J=$.buffer[1]<<0;return Q<J||Q===J&&this.buffer[0]<$.buffer[0]}static from($,Q=new Uint32Array(2)){return V3.fromString(typeof $==="string"?$:$.toString(),Q)}static fromNumber($,Q=new Uint32Array(2)){return V3.fromString($.toString(),Q)}static fromString($,Q=new Uint32Array(2)){let J=$.startsWith("-"),K=$.length,Y=new V3(Q);for(let q=J?1:0;q<K;){let Z=sU<K-q?sU:K-q,X=new V3(new Uint32Array([Number.parseInt($.slice(q,q+Z),10),0])),W=new V3(new Uint32Array([Ng[Z],0]));Y.times(W),Y.plus(X),q+=Z}return J?Y.negate():Y}static convertArray($){let Q=new Uint32Array($.length*2);for(let J=-1,K=$.length;++J<K;)V3.from($[J],new Uint32Array(Q.buffer,Q.byteOffset+2*J*4,2));return Q}static multiply($,Q){return new V3(new Uint32Array($.buffer)).times(Q)}static add($,Q){return new V3(new Uint32Array($.buffer)).plus(Q)}}NY0.Int64=V3;class oQ{constructor($){this.buffer=$}high(){return new V3(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new V3(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){if(this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0)++this.buffer[1];if(this.buffer[1]==0)++this.buffer[2];if(this.buffer[2]==0)++this.buffer[3];return this}times($){let Q=new t5(new Uint32Array([this.buffer[3],0])),J=new t5(new Uint32Array([this.buffer[2],0])),K=new t5(new Uint32Array([this.buffer[1],0])),Y=new t5(new Uint32Array([this.buffer[0],0])),q=new t5(new Uint32Array([$.buffer[3],0])),Z=new t5(new Uint32Array([$.buffer[2],0])),X=new t5(new Uint32Array([$.buffer[1],0])),W=new t5(new Uint32Array([$.buffer[0],0])),F=t5.multiply(Y,W);this.buffer[0]=F.low();let H=new t5(new Uint32Array([F.high(),0]));return F=t5.multiply(K,W),H.plus(F),F=t5.multiply(Y,X),H.plus(F),this.buffer[1]=H.low(),this.buffer[3]=H.lessThan(F)?1:0,this.buffer[2]=H.high(),new t5(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(t5.multiply(J,W)).plus(t5.multiply(K,X)).plus(t5.multiply(Y,Z)),this.buffer[3]+=t5.multiply(Q,W).plus(t5.multiply(J,X)).plus(t5.multiply(K,Z)).plus(t5.multiply(Y,q)).low(),this}plus($){let Q=new Uint32Array(4);if(Q[3]=this.buffer[3]+$.buffer[3]>>>0,Q[2]=this.buffer[2]+$.buffer[2]>>>0,Q[1]=this.buffer[1]+$.buffer[1]>>>0,Q[0]=this.buffer[0]+$.buffer[0]>>>0,Q[0]<this.buffer[0]>>>0)++Q[1];if(Q[1]<this.buffer[1]>>>0)++Q[2];if(Q[2]<this.buffer[2]>>>0)++Q[3];return this.buffer[3]=Q[3],this.buffer[2]=Q[2],this.buffer[1]=Q[1],this.buffer[0]=Q[0],this}hex(){return`${iU(this.buffer[3])} ${iU(this.buffer[2])} ${iU(this.buffer[1])} ${iU(this.buffer[0])}`}static multiply($,Q){return new oQ(new Uint32Array($.buffer)).times(Q)}static add($,Q){return new oQ(new Uint32Array($.buffer)).plus(Q)}static from($,Q=new Uint32Array(4)){return oQ.fromString(typeof $==="string"?$:$.toString(),Q)}static fromNumber($,Q=new Uint32Array(4)){return oQ.fromString($.toString(),Q)}static fromString($,Q=new Uint32Array(4)){let J=$.startsWith("-"),K=$.length,Y=new oQ(Q);for(let q=J?1:0;q<K;){let Z=sU<K-q?sU:K-q,X=new oQ(new Uint32Array([Number.parseInt($.slice(q,q+Z),10),0,0,0])),W=new oQ(new Uint32Array([Ng[Z],0,0,0]));Y.times(W),Y.plus(X),q+=Z}return J?Y.negate():Y}static convertArray($){let Q=new Uint32Array($.length*4);for(let J=-1,K=$.length;++J<K;)oQ.from($[J],new Uint32Array(Q.buffer,Q.byteOffset+16*J,4));return Q}}NY0.Int128=oQ});var GY0=w0((VY0)=>{Object.defineProperty(VY0,"__esModule",{value:!0});VY0.JSONVectorLoader=VY0.VectorLoader=void 0;var Q7=nQ(),Cd0=u4(),R3=h6(),Pd0=y4(),zY0=FX(),kd0=Fq(),$C=Bg(),QC=l6(),aQ=t7();class zg extends Pd0.Visitor{constructor($,Q,J,K,Y=QC.MetadataVersion.V5){super();this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=$,this.nodes=Q,this.buffers=J,this.dictionaries=K,this.metadataVersion=Y}visit($){return super.visit($ instanceof Cd0.Field?$.type:$)}visitNull($,{length:Q}=this.nextFieldNode()){return(0,Q7.makeData)({type:$,length:Q})}visitBool($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Q7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitInt($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Q7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitFloat($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Q7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitUtf8($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Q7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),valueOffsets:this.readOffsets($),data:this.readData($)})}visitLargeUtf8($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Q7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),valueOffsets:this.readOffsets($),data:this.readData($)})}visitBinary($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Q7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),valueOffsets:this.readOffsets($),data:this.readData($)})}visitLargeBinary($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Q7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),valueOffsets:this.readOffsets($),data:this.readData($)})}visitFixedSizeBinary($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Q7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitDate($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Q7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitTimestamp($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Q7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitTime($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Q7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitDecimal($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Q7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitList($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Q7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),valueOffsets:this.readOffsets($),child:this.visit($.children[0])})}visitStruct($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Q7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),children:this.visitMany($.children)})}visitUnion($,{length:Q,nullCount:J}=this.nextFieldNode()){if(this.metadataVersion<QC.MetadataVersion.V5)this.readNullBitmap($,J);return $.mode===QC.UnionMode.Sparse?this.visitSparseUnion($,{length:Q,nullCount:J}):this.visitDenseUnion($,{length:Q,nullCount:J})}visitDenseUnion($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Q7.makeData)({type:$,length:Q,nullCount:J,typeIds:this.readTypeIds($),valueOffsets:this.readOffsets($),children:this.visitMany($.children)})}visitSparseUnion($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Q7.makeData)({type:$,length:Q,nullCount:J,typeIds:this.readTypeIds($),children:this.visitMany($.children)})}visitDictionary($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Q7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($.indices),dictionary:this.readDictionary($)})}visitInterval($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Q7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitDuration($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Q7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),data:this.readData($)})}visitFixedSizeList($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Q7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),child:this.visit($.children[0])})}visitMap($,{length:Q,nullCount:J}=this.nextFieldNode()){return(0,Q7.makeData)({type:$,length:Q,nullCount:J,nullBitmap:this.readNullBitmap($,J),valueOffsets:this.readOffsets($),child:this.visit($.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap($,Q,J=this.nextBufferRange()){return Q>0&&this.readData($,J)||new Uint8Array(0)}readOffsets($,Q){return this.readData($,Q)}readTypeIds($,Q){return this.readData($,Q)}readData($,{length:Q,offset:J}=this.nextBufferRange()){return this.bytes.subarray(J,J+Q)}readDictionary($){return this.dictionaries.get($.id)}}VY0.VectorLoader=zg;class AY0 extends zg{constructor($,Q,J,K,Y){super(new Uint8Array(0),Q,J,K,Y);this.sources=$}readNullBitmap($,Q,{offset:J}=this.nextBufferRange()){return Q<=0?new Uint8Array(0):(0,zY0.packBools)(this.sources[J])}readOffsets($,{offset:Q}=this.nextBufferRange()){return(0,aQ.toArrayBufferView)(Uint8Array,(0,aQ.toArrayBufferView)($.OffsetArrayType,this.sources[Q]))}readTypeIds($,{offset:Q}=this.nextBufferRange()){return(0,aQ.toArrayBufferView)(Uint8Array,(0,aQ.toArrayBufferView)($.ArrayType,this.sources[Q]))}readData($,{offset:Q}=this.nextBufferRange()){let{sources:J}=this;if(R3.DataType.isTimestamp($))return(0,aQ.toArrayBufferView)(Uint8Array,$C.Int64.convertArray(J[Q]));else if((R3.DataType.isInt($)||R3.DataType.isTime($))&&$.bitWidth===64||R3.DataType.isDuration($))return(0,aQ.toArrayBufferView)(Uint8Array,$C.Int64.convertArray(J[Q]));else if(R3.DataType.isDate($)&&$.unit===QC.DateUnit.MILLISECOND)return(0,aQ.toArrayBufferView)(Uint8Array,$C.Int64.convertArray(J[Q]));else if(R3.DataType.isDecimal($))return(0,aQ.toArrayBufferView)(Uint8Array,$C.Int128.convertArray(J[Q]));else if(R3.DataType.isBinary($)||R3.DataType.isLargeBinary($)||R3.DataType.isFixedSizeBinary($))return jd0(J[Q]);else if(R3.DataType.isBool($))return(0,zY0.packBools)(J[Q]);else if(R3.DataType.isUtf8($)||R3.DataType.isLargeUtf8($))return(0,kd0.encodeUtf8)(J[Q].join(""));return(0,aQ.toArrayBufferView)(Uint8Array,(0,aQ.toArrayBufferView)($.ArrayType,J[Q].map((K)=>+K)))}}VY0.JSONVectorLoader=AY0;function jd0($){let Q=$.join(""),J=new Uint8Array(Q.length/2);for(let K=0;K<Q.length;K+=2)J[K>>1]=Number.parseInt(Q.slice(K,K+2),16);return J}});var JC=w0((OY0)=>{Object.defineProperty(OY0,"__esModule",{value:!0});OY0.BinaryBuilder=void 0;var Ld0=kK(),hd0=y6(),vd0=t7();class wY0 extends hd0.VariableWidthBuilder{constructor($){super($);this._values=new Ld0.BufferBuilder(Uint8Array)}get byteLength(){let $=this._pendingLength+this.length*4;return this._offsets&&($+=this._offsets.byteLength),this._values&&($+=this._values.byteLength),this._nulls&&($+=this._nulls.byteLength),$}setValue($,Q){return super.setValue($,(0,vd0.toUint8Array)(Q))}_flushPending($,Q){let J=this._offsets,K=this._values.reserve(Q).buffer,Y=0;for(let[q,Z]of $)if(Z===void 0)J.set(q,0);else{let X=Z.length;K.set(Z,Y),J.set(q,X),Y+=X}}}OY0.BinaryBuilder=wY0});var KC=w0((CY0)=>{Object.defineProperty(CY0,"__esModule",{value:!0});CY0.LargeBinaryBuilder=void 0;var Sd0=t7(),_d0=kK(),fd0=y6();class DY0 extends fd0.VariableWidthBuilder{constructor($){super($);this._values=new _d0.BufferBuilder(Uint8Array)}get byteLength(){let $=this._pendingLength+this.length*4;return this._offsets&&($+=this._offsets.byteLength),this._values&&($+=this._values.byteLength),this._nulls&&($+=this._nulls.byteLength),$}setValue($,Q){return super.setValue($,(0,Sd0.toUint8Array)(Q))}_flushPending($,Q){let J=this._offsets,K=this._values.reserve(Q).buffer,Y=0;for(let[q,Z]of $)if(Z===void 0)J.set(q,BigInt(0));else{let X=Z.length;K.set(Z,Y),J.set(q,BigInt(X)),Y+=X}}}CY0.LargeBinaryBuilder=DY0});var Ag=w0((jY0)=>{Object.defineProperty(jY0,"__esModule",{value:!0});jY0.BoolBuilder=void 0;var Id0=kK(),Md0=y6();class kY0 extends Md0.Builder{constructor($){super($);this._values=new Id0.BitmapBufferBuilder}setValue($,Q){this._values.set($,+Q)}}jY0.BoolBuilder=kY0});var wg=w0((LY0)=>{Object.defineProperty(LY0,"__esModule",{value:!0});LY0.DateMillisecondBuilder=LY0.DateDayBuilder=LY0.DateBuilder=void 0;var bd0=y6(),Vg=h9();class PA extends bd0.FixedWidthBuilder{}LY0.DateBuilder=PA;PA.prototype._setValue=Vg.setDate;class Rg extends PA{}LY0.DateDayBuilder=Rg;Rg.prototype._setValue=Vg.setDateDay;class Gg extends PA{}LY0.DateMillisecondBuilder=Gg;Gg.prototype._setValue=Vg.setDateMillisecond});var Tg=w0((vY0)=>{Object.defineProperty(vY0,"__esModule",{value:!0});vY0.DecimalBuilder=void 0;var xd0=y6(),cd0=h9();class Og extends xd0.FixedWidthBuilder{}vY0.DecimalBuilder=Og;Og.prototype._setValue=cd0.setDecimal});var Dg=w0((IY0)=>{Object.defineProperty(IY0,"__esModule",{value:!0});IY0.DictionaryBuilder=void 0;var ud0=h6(),md0=y6(),_Y0=kA();class fY0 extends md0.Builder{constructor({type:$,nullValues:Q,dictionaryHashFunction:J}){super({type:new ud0.Dictionary($.dictionary,$.indices,$.id,$.isOrdered)});if(this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=(0,_Y0.makeBuilder)({type:this.type.indices,nullValues:Q}),this.dictionary=(0,_Y0.makeBuilder)({type:this.type.dictionary,nullValues:null}),typeof J==="function")this.valueToKey=J}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid($){return this.indices.isValid($)}setValid($,Q){let J=this.indices;return Q=J.setValid($,Q),this.length=J.length,Q}setValue($,Q){let J=this._keysToIndices,K=this.valueToKey(Q),Y=J[K];if(Y===void 0)J[K]=Y=this._dictionaryOffset+this.dictionary.append(Q).length-1;return this.indices.setValue($,Y)}flush(){let $=this.type,Q=this._dictionary,J=this.dictionary.toVector(),K=this.indices.flush().clone($);return K.dictionary=Q?Q.concat(J):J,this.finished||(this._dictionaryOffset+=J.length),this._dictionary=K.dictionary,this.clear(),K}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey($){return typeof $==="string"?$:`${$}`}}IY0.DictionaryBuilder=fY0});var Pg=w0((bY0)=>{Object.defineProperty(bY0,"__esModule",{value:!0});bY0.FixedSizeBinaryBuilder=void 0;var pd0=y6(),dd0=h9();class Cg extends pd0.FixedWidthBuilder{}bY0.FixedSizeBinaryBuilder=Cg;Cg.prototype._setValue=dd0.setFixedSizeBinary});var kg=w0((xY0)=>{Object.defineProperty(xY0,"__esModule",{value:!0});xY0.FixedSizeListBuilder=void 0;var nd0=u4(),ld0=y6(),rd0=h6();class yY0 extends ld0.Builder{setValue($,Q){let[J]=this.children,K=$*this.stride;for(let Y=-1,q=Q.length;++Y<q;)J.set(K+Y,Q[Y])}addChild($,Q="0"){if(this.numChildren>0)throw Error("FixedSizeListBuilder can only have one child.");let J=this.children.push($);return this.type=new rd0.FixedSizeList(this.type.listSize,new nd0.Field(Q,$.type,!0)),J}}xY0.FixedSizeListBuilder=yY0});var jg=w0((dY0)=>{Object.defineProperty(dY0,"__esModule",{value:!0});dY0.Float64Builder=dY0.Float32Builder=dY0.Float16Builder=dY0.FloatBuilder=void 0;var id0=VA(),sd0=y6();class jA extends sd0.FixedWidthBuilder{setValue($,Q){this._values.set($,Q)}}dY0.FloatBuilder=jA;class uY0 extends jA{setValue($,Q){super.setValue($,(0,id0.float64ToUint16)(Q))}}dY0.Float16Builder=uY0;class mY0 extends jA{}dY0.Float32Builder=mY0;class pY0 extends jA{}dY0.Float64Builder=pY0});var vg=w0((lY0)=>{Object.defineProperty(lY0,"__esModule",{value:!0});lY0.IntervalYearMonthBuilder=lY0.IntervalDayTimeBuilder=lY0.IntervalBuilder=void 0;var ed0=y6(),Eg=h9();class EA extends ed0.FixedWidthBuilder{}lY0.IntervalBuilder=EA;EA.prototype._setValue=Eg.setIntervalValue;class Lg extends EA{}lY0.IntervalDayTimeBuilder=Lg;Lg.prototype._setValue=Eg.setIntervalDayTime;class hg extends EA{}lY0.IntervalYearMonthBuilder=hg;hg.prototype._setValue=Eg.setIntervalYearMonth});var Mg=w0((iY0)=>{Object.defineProperty(iY0,"__esModule",{value:!0});iY0.DurationNanosecondBuilder=iY0.DurationMicrosecondBuilder=iY0.DurationMillisecondBuilder=iY0.DurationSecondBuilder=iY0.DurationBuilder=void 0;var Jn0=y6(),LA=h9();class HX extends Jn0.FixedWidthBuilder{}iY0.DurationBuilder=HX;HX.prototype._setValue=LA.setDuration;class Sg extends HX{}iY0.DurationSecondBuilder=Sg;Sg.prototype._setValue=LA.setDurationSecond;class _g extends HX{}iY0.DurationMillisecondBuilder=_g;_g.prototype._setValue=LA.setDurationMillisecond;class fg extends HX{}iY0.DurationMicrosecondBuilder=fg;fg.prototype._setValue=LA.setDurationMicrosecond;class Ig extends HX{}iY0.DurationNanosecondBuilder=Ig;Ig.prototype._setValue=LA.setDurationNanosecond});var bg=w0((Yq0)=>{Object.defineProperty(Yq0,"__esModule",{value:!0});Yq0.Uint64Builder=Yq0.Uint32Builder=Yq0.Uint16Builder=Yq0.Uint8Builder=Yq0.Int64Builder=Yq0.Int32Builder=Yq0.Int16Builder=Yq0.Int8Builder=Yq0.IntBuilder=void 0;var Xn0=y6();class tQ extends Xn0.FixedWidthBuilder{setValue($,Q){this._values.set($,Q)}}Yq0.IntBuilder=tQ;class oY0 extends tQ{}Yq0.Int8Builder=oY0;class aY0 extends tQ{}Yq0.Int16Builder=aY0;class tY0 extends tQ{}Yq0.Int32Builder=tY0;class eY0 extends tQ{}Yq0.Int64Builder=eY0;class $q0 extends tQ{}Yq0.Uint8Builder=$q0;class Qq0 extends tQ{}Yq0.Uint16Builder=Qq0;class Jq0 extends tQ{}Yq0.Uint32Builder=Jq0;class Kq0 extends tQ{}Yq0.Uint64Builder=Kq0});var gg=w0((Xq0)=>{Object.defineProperty(Xq0,"__esModule",{value:!0});Xq0.ListBuilder=void 0;var Vn0=u4(),Rn0=h6(),Gn0=kK(),wn0=y6();class Zq0 extends wn0.VariableWidthBuilder{constructor($){super($);this._offsets=new Gn0.OffsetsBufferBuilder($.type)}addChild($,Q="0"){if(this.numChildren>0)throw Error("ListBuilder can only have one child.");return this.children[this.numChildren]=$,this.type=new Rn0.List(new Vn0.Field(Q,$.type,!0)),this.numChildren-1}_flushPending($){let Q=this._offsets,[J]=this.children;for(let[K,Y]of $)if(typeof Y>"u")Q.set(K,0);else{let q=Y,Z=q.length,X=Q.set(K,Z).buffer[K];for(let W=-1;++W<Z;)J.set(X+W,q[W])}}}Xq0.ListBuilder=Zq0});var yg=w0((Uq0)=>{Object.defineProperty(Uq0,"__esModule",{value:!0});Uq0.MapBuilder=void 0;var On0=u4(),Tn0=h6(),Dn0=y6();class Fq0 extends Dn0.VariableWidthBuilder{set($,Q){return super.set($,Q)}setValue($,Q){let J=Q instanceof Map?Q:new Map(Object.entries(Q)),K=this._pending||(this._pending=new Map),Y=K.get($);Y&&(this._pendingLength-=Y.size),this._pendingLength+=J.size,K.set($,J)}addChild($,Q=`${this.numChildren}`){if(this.numChildren>0)throw Error("ListBuilder can only have one child.");return this.children[this.numChildren]=$,this.type=new Tn0.Map_(new On0.Field(Q,$.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending($){let Q=this._offsets,[J]=this.children;for(let[K,Y]of $)if(Y===void 0)Q.set(K,0);else{let{[K]:q,[K+1]:Z}=Q.set(K,Y.size).buffer;for(let X of Y.entries())if(J.set(q,X),++q>=Z)break}}}Uq0.MapBuilder=Fq0});var xg=w0((Bq0)=>{Object.defineProperty(Bq0,"__esModule",{value:!0});Bq0.NullBuilder=void 0;var Cn0=y6();class Nq0 extends Cn0.Builder{setValue($,Q){}setValid($,Q){return this.length=Math.max($+1,this.length),Q}}Bq0.NullBuilder=Nq0});var cg=w0((Vq0)=>{Object.defineProperty(Vq0,"__esModule",{value:!0});Vq0.StructBuilder=void 0;var Pn0=u4(),kn0=y6(),jn0=h6();class Aq0 extends kn0.Builder{setValue($,Q){let{children:J,type:K}=this;switch(Array.isArray(Q)||Q.constructor){case!0:return K.children.forEach((Y,q)=>J[q].set($,Q[q]));case Map:return K.children.forEach((Y,q)=>J[q].set($,Q.get(Y.name)));default:return K.children.forEach((Y,q)=>J[q].set($,Q[Y.name]))}}setValid($,Q){if(!super.setValid($,Q))this.children.forEach((J)=>J.setValid($,Q));return Q}addChild($,Q=`${this.numChildren}`){let J=this.children.push($);return this.type=new jn0.Struct([...this.type.children,new Pn0.Field(Q,$.type,!0)]),J}}Vq0.StructBuilder=Aq0});var ng=w0((Gq0)=>{Object.defineProperty(Gq0,"__esModule",{value:!0});Gq0.TimestampNanosecondBuilder=Gq0.TimestampMicrosecondBuilder=Gq0.TimestampMillisecondBuilder=Gq0.TimestampSecondBuilder=Gq0.TimestampBuilder=void 0;var En0=y6(),hA=h9();class NX extends En0.FixedWidthBuilder{}Gq0.TimestampBuilder=NX;NX.prototype._setValue=hA.setTimestamp;class ug extends NX{}Gq0.TimestampSecondBuilder=ug;ug.prototype._setValue=hA.setTimestampSecond;class mg extends NX{}Gq0.TimestampMillisecondBuilder=mg;mg.prototype._setValue=hA.setTimestampMillisecond;class pg extends NX{}Gq0.TimestampMicrosecondBuilder=pg;pg.prototype._setValue=hA.setTimestampMicrosecond;class dg extends NX{}Gq0.TimestampNanosecondBuilder=dg;dg.prototype._setValue=hA.setTimestampNanosecond});var og=w0((Oq0)=>{Object.defineProperty(Oq0,"__esModule",{value:!0});Oq0.TimeNanosecondBuilder=Oq0.TimeMicrosecondBuilder=Oq0.TimeMillisecondBuilder=Oq0.TimeSecondBuilder=Oq0.TimeBuilder=void 0;var _n0=y6(),vA=h9();class BX extends _n0.FixedWidthBuilder{}Oq0.TimeBuilder=BX;BX.prototype._setValue=vA.setTime;class lg extends BX{}Oq0.TimeSecondBuilder=lg;lg.prototype._setValue=vA.setTimeSecond;class rg extends BX{}Oq0.TimeMillisecondBuilder=rg;rg.prototype._setValue=vA.setTimeMillisecond;class ig extends BX{}Oq0.TimeMicrosecondBuilder=ig;ig.prototype._setValue=vA.setTimeMicrosecond;class sg extends BX{}Oq0.TimeNanosecondBuilder=sg;sg.prototype._setValue=vA.setTimeNanosecond});var ag=w0((kq0)=>{Object.defineProperty(kq0,"__esModule",{value:!0});kq0.DenseUnionBuilder=kq0.SparseUnionBuilder=kq0.UnionBuilder=void 0;var gn0=u4(),Dq0=kK(),yn0=y6(),xn0=h6();class YC extends yn0.Builder{constructor($){super($);if(this._typeIds=new Dq0.DataBufferBuilder(Int8Array,0,1),typeof $.valueToChildTypeId==="function")this._valueToChildTypeId=$.valueToChildTypeId}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append($,Q){return this.set(this.length,$,Q)}set($,Q,J){if(J===void 0)J=this._valueToChildTypeId(this,Q,$);return this.setValue($,Q,J),this}setValue($,Q,J){this._typeIds.set($,J);let K=this.type.typeIdToChildIndex[J],Y=this.children[K];Y===null||Y===void 0||Y.set($,Q)}addChild($,Q=`${this.children.length}`){let J=this.children.push($),{type:{children:K,mode:Y,typeIds:q}}=this,Z=[...K,new gn0.Field(Q,$.type)];return this.type=new xn0.Union(Y,[...q,J],Z),J}_valueToChildTypeId($,Q,J){throw Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}kq0.UnionBuilder=YC;class Cq0 extends YC{}kq0.SparseUnionBuilder=Cq0;class Pq0 extends YC{constructor($){super($);this._offsets=new Dq0.DataBufferBuilder(Int32Array)}setValue($,Q,J){let K=this._typeIds.set($,J).buffer[$],Y=this.getChildAt(this.type.typeIdToChildIndex[K]),q=this._offsets.set($,Y.length).buffer[$];Y===null||Y===void 0||Y.set(q,Q)}}kq0.DenseUnionBuilder=Pq0});var eg=w0((Eq0)=>{Object.defineProperty(Eq0,"__esModule",{value:!0});Eq0.Utf8Builder=void 0;var mn0=Fq(),pn0=JC(),dn0=kK(),nn0=y6();class tg extends nn0.VariableWidthBuilder{constructor($){super($);this._values=new dn0.BufferBuilder(Uint8Array)}get byteLength(){let $=this._pendingLength+this.length*4;return this._offsets&&($+=this._offsets.byteLength),this._values&&($+=this._values.byteLength),this._nulls&&($+=this._nulls.byteLength),$}setValue($,Q){return super.setValue($,(0,mn0.encodeUtf8)(Q))}_flushPending($,Q){}}Eq0.Utf8Builder=tg;tg.prototype._flushPending=pn0.BinaryBuilder.prototype._flushPending});var Qy=w0((hq0)=>{Object.defineProperty(hq0,"__esModule",{value:!0});hq0.LargeUtf8Builder=void 0;var ln0=Fq(),rn0=kK(),in0=y6(),sn0=KC();class $y extends in0.VariableWidthBuilder{constructor($){super($);this._values=new rn0.BufferBuilder(Uint8Array)}get byteLength(){let $=this._pendingLength+this.length*4;return this._offsets&&($+=this._offsets.byteLength),this._values&&($+=this._values.byteLength),this._nulls&&($+=this._nulls.byteLength),$}setValue($,Q){return super.setValue($,(0,ln0.encodeUtf8)(Q))}_flushPending($,Q){}}hq0.LargeUtf8Builder=$y;$y.prototype._flushPending=sn0.LargeBinaryBuilder.prototype._flushPending});var fq0=w0((Sq0)=>{Object.defineProperty(Sq0,"__esModule",{value:!0});Sq0.instance=Sq0.GetBuilderCtor=void 0;var on0=y4(),an0=JC(),tn0=KC(),en0=Ag(),Jy=wg(),$l0=Tg(),Ql0=Dg(),Jl0=Pg(),Kl0=kg(),qC=jg(),Ky=vg(),SA=Mg(),jK=bg(),Yl0=gg(),ql0=yg(),Zl0=xg(),Xl0=cg(),_A=ng(),fA=og(),Yy=ag(),Wl0=eg(),Fl0=Qy();class qy extends on0.Visitor{visitNull(){return Zl0.NullBuilder}visitBool(){return en0.BoolBuilder}visitInt(){return jK.IntBuilder}visitInt8(){return jK.Int8Builder}visitInt16(){return jK.Int16Builder}visitInt32(){return jK.Int32Builder}visitInt64(){return jK.Int64Builder}visitUint8(){return jK.Uint8Builder}visitUint16(){return jK.Uint16Builder}visitUint32(){return jK.Uint32Builder}visitUint64(){return jK.Uint64Builder}visitFloat(){return qC.FloatBuilder}visitFloat16(){return qC.Float16Builder}visitFloat32(){return qC.Float32Builder}visitFloat64(){return qC.Float64Builder}visitUtf8(){return Wl0.Utf8Builder}visitLargeUtf8(){return Fl0.LargeUtf8Builder}visitBinary(){return an0.BinaryBuilder}visitLargeBinary(){return tn0.LargeBinaryBuilder}visitFixedSizeBinary(){return Jl0.FixedSizeBinaryBuilder}visitDate(){return Jy.DateBuilder}visitDateDay(){return Jy.DateDayBuilder}visitDateMillisecond(){return Jy.DateMillisecondBuilder}visitTimestamp(){return _A.TimestampBuilder}visitTimestampSecond(){return _A.TimestampSecondBuilder}visitTimestampMillisecond(){return _A.TimestampMillisecondBuilder}visitTimestampMicrosecond(){return _A.TimestampMicrosecondBuilder}visitTimestampNanosecond(){return _A.TimestampNanosecondBuilder}visitTime(){return fA.TimeBuilder}visitTimeSecond(){return fA.TimeSecondBuilder}visitTimeMillisecond(){return fA.TimeMillisecondBuilder}visitTimeMicrosecond(){return fA.TimeMicrosecondBuilder}visitTimeNanosecond(){return fA.TimeNanosecondBuilder}visitDecimal(){return $l0.DecimalBuilder}visitList(){return Yl0.ListBuilder}visitStruct(){return Xl0.StructBuilder}visitUnion(){return Yy.UnionBuilder}visitDenseUnion(){return Yy.DenseUnionBuilder}visitSparseUnion(){return Yy.SparseUnionBuilder}visitDictionary(){return Ql0.DictionaryBuilder}visitInterval(){return Ky.IntervalBuilder}visitIntervalDayTime(){return Ky.IntervalDayTimeBuilder}visitIntervalYearMonth(){return Ky.IntervalYearMonthBuilder}visitDuration(){return SA.DurationBuilder}visitDurationSecond(){return SA.DurationSecondBuilder}visitDurationMillisecond(){return SA.DurationMillisecondBuilder}visitDurationMicrosecond(){return SA.DurationMicrosecondBuilder}visitDurationNanosecond(){return SA.DurationNanosecondBuilder}visitFixedSizeList(){return Kl0.FixedSizeListBuilder}visitMap(){return ql0.MapBuilder}}Sq0.GetBuilderCtor=qy;Sq0.instance=new qy});var gA=w0((Iq0)=>{Object.defineProperty(Iq0,"__esModule",{value:!0});Iq0.compareTypes=Iq0.compareFields=Iq0.compareSchemas=Iq0.instance=Iq0.TypeComparator=void 0;var Hl0=y4();class b1 extends Hl0.Visitor{compareSchemas($,Q){return $===Q||Q instanceof $.constructor&&this.compareManyFields($.fields,Q.fields)}compareManyFields($,Q){return $===Q||Array.isArray($)&&Array.isArray(Q)&&$.length===Q.length&&$.every((J,K)=>this.compareFields(J,Q[K]))}compareFields($,Q){return $===Q||Q instanceof $.constructor&&$.name===Q.name&&$.nullable===Q.nullable&&this.visit($.type,Q.type)}}Iq0.TypeComparator=b1;function X4($,Q){return Q instanceof $.constructor}function zX($,Q){return $===Q||X4($,Q)}function EK($,Q){return $===Q||X4($,Q)&&$.bitWidth===Q.bitWidth&&$.isSigned===Q.isSigned}function ZC($,Q){return $===Q||X4($,Q)&&$.precision===Q.precision}function Nl0($,Q){return $===Q||X4($,Q)&&$.byteWidth===Q.byteWidth}function Zy($,Q){return $===Q||X4($,Q)&&$.unit===Q.unit}function IA($,Q){return $===Q||X4($,Q)&&$.unit===Q.unit&&$.timezone===Q.timezone}function MA($,Q){return $===Q||X4($,Q)&&$.unit===Q.unit&&$.bitWidth===Q.bitWidth}function Bl0($,Q){return $===Q||X4($,Q)&&$.children.length===Q.children.length&&Iq0.instance.compareManyFields($.children,Q.children)}function zl0($,Q){return $===Q||X4($,Q)&&$.children.length===Q.children.length&&Iq0.instance.compareManyFields($.children,Q.children)}function Xy($,Q){return $===Q||X4($,Q)&&$.mode===Q.mode&&$.typeIds.every((J,K)=>J===Q.typeIds[K])&&Iq0.instance.compareManyFields($.children,Q.children)}function Al0($,Q){return $===Q||X4($,Q)&&$.id===Q.id&&$.isOrdered===Q.isOrdered&&Iq0.instance.visit($.indices,Q.indices)&&Iq0.instance.visit($.dictionary,Q.dictionary)}function Wy($,Q){return $===Q||X4($,Q)&&$.unit===Q.unit}function bA($,Q){return $===Q||X4($,Q)&&$.unit===Q.unit}function Vl0($,Q){return $===Q||X4($,Q)&&$.listSize===Q.listSize&&$.children.length===Q.children.length&&Iq0.instance.compareManyFields($.children,Q.children)}function Rl0($,Q){return $===Q||X4($,Q)&&$.keysSorted===Q.keysSorted&&$.children.length===Q.children.length&&Iq0.instance.compareManyFields($.children,Q.children)}b1.prototype.visitNull=zX;b1.prototype.visitBool=zX;b1.prototype.visitInt=EK;b1.prototype.visitInt8=EK;b1.prototype.visitInt16=EK;b1.prototype.visitInt32=EK;b1.prototype.visitInt64=EK;b1.prototype.visitUint8=EK;b1.prototype.visitUint16=EK;b1.prototype.visitUint32=EK;b1.prototype.visitUint64=EK;b1.prototype.visitFloat=ZC;b1.prototype.visitFloat16=ZC;b1.prototype.visitFloat32=ZC;b1.prototype.visitFloat64=ZC;b1.prototype.visitUtf8=zX;b1.prototype.visitLargeUtf8=zX;b1.prototype.visitBinary=zX;b1.prototype.visitLargeBinary=zX;b1.prototype.visitFixedSizeBinary=Nl0;b1.prototype.visitDate=Zy;b1.prototype.visitDateDay=Zy;b1.prototype.visitDateMillisecond=Zy;b1.prototype.visitTimestamp=IA;b1.prototype.visitTimestampSecond=IA;b1.prototype.visitTimestampMillisecond=IA;b1.prototype.visitTimestampMicrosecond=IA;b1.prototype.visitTimestampNanosecond=IA;b1.prototype.visitTime=MA;b1.prototype.visitTimeSecond=MA;b1.prototype.visitTimeMillisecond=MA;b1.prototype.visitTimeMicrosecond=MA;b1.prototype.visitTimeNanosecond=MA;b1.prototype.visitDecimal=zX;b1.prototype.visitList=Bl0;b1.prototype.visitStruct=zl0;b1.prototype.visitUnion=Xy;b1.prototype.visitDenseUnion=Xy;b1.prototype.visitSparseUnion=Xy;b1.prototype.visitDictionary=Al0;b1.prototype.visitInterval=Wy;b1.prototype.visitIntervalDayTime=Wy;b1.prototype.visitIntervalYearMonth=Wy;b1.prototype.visitDuration=bA;b1.prototype.visitDurationSecond=bA;b1.prototype.visitDurationMillisecond=bA;b1.prototype.visitDurationMicrosecond=bA;b1.prototype.visitDurationNanosecond=bA;b1.prototype.visitFixedSizeList=Vl0;b1.prototype.visitMap=Rl0;Iq0.instance=new b1;function Gl0($,Q){return Iq0.instance.compareSchemas($,Q)}Iq0.compareSchemas=Gl0;function wl0($,Q){return Iq0.instance.compareFields($,Q)}Iq0.compareFields=wl0;function Ol0($,Q){return Iq0.instance.visit($,Q)}Iq0.compareTypes=Ol0});var kA=w0((xq0)=>{Object.defineProperty(xq0,"__esModule",{value:!0});xq0.builderThroughAsyncIterable=xq0.builderThroughIterable=xq0.tableFromJSON=xq0.vectorFromArray=xq0.makeBuilder=void 0;var oU=(b4(),j9(M4)),Fy=u4(),G3=h6(),Pl0=nQ(),bq0=Z4(),kl0=fq0(),jl0=aU(),El0=_q(),Ll0=gA();function WC($){let Q=$.type,J=new(kl0.instance.getVisitFn(Q)())($);if(Q.children&&Q.children.length>0){let K=$.children||[],Y={nullValues:$.nullValues},q=Array.isArray(K)?(Z,X)=>K[X]||Y:({name:Z})=>K[Z]||Y;for(let[Z,X]of Q.children.entries()){let{type:W}=X,F=q(X,Z);J.children.push(WC(Object.assign(Object.assign({},F),{type:W})))}}return J}xq0.makeBuilder=WC;function gq0($,Q){if($ instanceof Pl0.Data||$ instanceof bq0.Vector||$.type instanceof G3.DataType||ArrayBuffer.isView($))return(0,bq0.makeVector)($);let J={type:Q!==null&&Q!==void 0?Q:XC($),nullValues:[null]},K=[...yq0(J)($)],Y=K.length===1?K[0]:K.reduce((q,Z)=>q.concat(Z));if(G3.DataType.isDictionary(Y.type))return Y.memoize();return Y}xq0.vectorFromArray=gq0;function hl0($){let Q=gq0($),J=new El0.RecordBatch(new Fy.Schema(Q.type.children),Q.data[0]);return new jl0.Table(J)}xq0.tableFromJSON=hl0;function XC($){if($.length===0)return new G3.Null;let Q=0,J=0,K=0,Y=0,q=0,Z=0,X=0,W=0;for(let F of $){if(F==null){++Q;continue}switch(typeof F){case"bigint":++Z;continue;case"boolean":++X;continue;case"number":++Y;continue;case"string":++q;continue;case"object":if(Array.isArray(F))++J;else if(Object.prototype.toString.call(F)==="[object Date]")++W;else++K;continue}throw TypeError("Unable to infer Vector type from input values, explicit type declaration expected.")}if(Y+Q===$.length)return new G3.Float64;else if(q+Q===$.length)return new G3.Dictionary(new G3.Utf8,new G3.Int32);else if(Z+Q===$.length)return new G3.Int64;else if(X+Q===$.length)return new G3.Bool;else if(W+Q===$.length)return new G3.TimestampMillisecond;else if(J+Q===$.length){let F=$,H=XC(F[F.findIndex((B)=>B!=null)]);if(F.every((B)=>B==null||(0,Ll0.compareTypes)(H,XC(B))))return new G3.List(new Fy.Field("",H,!0))}else if(K+Q===$.length){let F=new Map;for(let H of $)for(let B of Object.keys(H))if(!F.has(B)&&H[B]!=null)F.set(B,new Fy.Field(B,XC([H[B]]),!0));return new G3.Struct([...F.values()])}throw TypeError("Unable to infer Vector type from input values, explicit type declaration expected.")}function yq0($){let{["queueingStrategy"]:Q="count"}=$,{["highWaterMark"]:J=Q!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=$,K=Q!=="bytes"?"length":"byteLength";return function*(Y){let q=0,Z=WC($);for(let X of Y)if(Z.append(X)[K]>=J)++q&&(yield Z.toVector());if(Z.finish().length>0||q===0)yield Z.toVector()}}xq0.builderThroughIterable=yq0;function vl0($){let{["queueingStrategy"]:Q="count"}=$,{["highWaterMark"]:J=Q!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=$,K=Q!=="bytes"?"length":"byteLength";return function(Y){return oU.__asyncGenerator(this,arguments,function*(){var q,Z,X,W;let F=0,H=WC($);try{for(var B=!0,z=oU.__asyncValues(Y),A;A=yield oU.__await(z.next()),q=A.done,!q;B=!0){W=A.value,B=!1;let R=W;if(H.append(R)[K]>=J)++F&&(yield yield oU.__await(H.toVector()))}}catch(R){Z={error:R}}finally{try{if(!B&&!q&&(X=z.return))yield oU.__await(X.call(z))}finally{if(Z)throw Z.error}}if(H.finish().length>0||F===0)yield yield oU.__await(H.toVector())})}}xq0.builderThroughAsyncIterable=vl0});var dq0=w0((mq0)=>{Object.defineProperty(mq0,"__esModule",{value:!0});mq0.distributeVectorsIntoRecordBatches=void 0;var uq0=nQ(),Ml0=h6(),bl0=_q();function gl0($,Q){return yl0($,Q.map((J)=>J.data.concat()))}mq0.distributeVectorsIntoRecordBatches=gl0;function yl0($,Q){let J=[...$.fields],K=[],Y={numBatches:Q.reduce((B,z)=>Math.max(B,z.length),0)},q=0,Z=0,X=-1,W=Q.length,F,H=[];while(Y.numBatches-- >0){for(Z=Number.POSITIVE_INFINITY,X=-1;++X<W;)H[X]=F=Q[X].shift(),Z=Math.min(Z,F?F.length:Z);if(Number.isFinite(Z)){if(H=xl0(J,Z,H,Q,Y),Z>0)K[q++]=(0,uq0.makeData)({type:new Ml0.Struct(J),length:Z,nullCount:0,children:H.slice()})}}return[$=$.assign(J),K.map((B)=>new bl0.RecordBatch($,B))]}function xl0($,Q,J,K,Y){var q;let Z=(Q+63&-64)>>3;for(let X=-1,W=K.length;++X<W;){let F=J[X],H=F===null||F===void 0?void 0:F.length;if(H>=Q)if(H===Q)J[X]=F;else J[X]=F.slice(0,Q),Y.numBatches=Math.max(Y.numBatches,K[X].unshift(F.slice(Q,H-Q)));else{let B=$[X];$[X]=B.clone({nullable:!0}),J[X]=(q=F===null||F===void 0?void 0:F._changeLengthAndBackfillNullBitmap(Q))!==null&&q!==void 0?q:(0,uq0.makeData)({type:B.type,length:Q,nullCount:Q,nullBitmap:new Uint8Array(Z)})}}return J}});var aU=w0((iq0)=>{var rq0;Object.defineProperty(iq0,"__esModule",{value:!0});iq0.tableFromArrays=iq0.makeTable=iq0.Table=void 0;var Uy=l6(),Hy=nQ(),cl0=kA(),yA=Z4(),AX=u4(),nq0=h6(),ul0=gA(),Ny=dq0(),fq=lD(),ml0=YX(),pl0=h9(),dl0=rD(),nl0=iD(),lq0=nU(),tU=_q();class w3{constructor(...$){var Q,J;if($.length===0)return this.batches=[],this.schema=new AX.Schema([]),this._offsets=[0],this;let K,Y;if($[0]instanceof AX.Schema)K=$.shift();if($.at(-1)instanceof Uint32Array)Y=$.pop();let q=(X)=>{if(X){if(X instanceof tU.RecordBatch)return[X];else if(X instanceof w3)return X.batches;else if(X instanceof Hy.Data){if(X.type instanceof nq0.Struct)return[new tU.RecordBatch(new AX.Schema(X.type.children),X)]}else if(Array.isArray(X))return X.flatMap((W)=>q(W));else if(typeof X[Symbol.iterator]==="function")return[...X].flatMap((W)=>q(W));else if(typeof X==="object"){let W=Object.keys(X),F=W.map((z)=>new yA.Vector([X[z]])),H=K!==null&&K!==void 0?K:new AX.Schema(W.map((z,A)=>new AX.Field(String(z),F[A].type,F[A].nullable))),[,B]=(0,Ny.distributeVectorsIntoRecordBatches)(H,F);return B.length===0?[new tU.RecordBatch(X)]:B}}return[]},Z=$.flatMap((X)=>q(X));if(K=(J=K!==null&&K!==void 0?K:(Q=Z[0])===null||Q===void 0?void 0:Q.schema)!==null&&J!==void 0?J:new AX.Schema([]),!(K instanceof AX.Schema))throw TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(let X of Z){if(!(X instanceof tU.RecordBatch))throw TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!(0,ul0.compareSchemas)(K,X.schema))throw TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=K,this.batches=Z,this._offsets=Y!==null&&Y!==void 0?Y:(0,fq.computeChunkOffsets)(this.data)}get data(){return this.batches.map(({data:$})=>$)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce(($,Q)=>$+Q.length,0)}get nullCount(){if(this._nullCount===-1)this._nullCount=(0,fq.computeChunkNullCounts)(this.data);return this._nullCount}isValid($){return!1}get($){return null}at($){return this.get((0,lq0.wrapIndex)($,this.numRows))}set($,Q){return}indexOf($,Q){return-1}[Symbol.iterator](){if(this.batches.length>0)return nl0.instance.visit(new yA.Vector(this.data));return[][Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...$){let Q=this.schema,J=this.data.concat($.flatMap(({data:K})=>K));return new w3(Q,J.map((K)=>new tU.RecordBatch(Q,K)))}slice($,Q){let J=this.schema;[$,Q]=(0,lq0.clampRange)({length:this.numRows},$,Q);let K=(0,fq.sliceChunks)(this.data,this._offsets,$,Q);return new w3(J,K.map((Y)=>new tU.RecordBatch(J,Y)))}getChild($){return this.getChildAt(this.schema.fields.findIndex((Q)=>Q.name===$))}getChildAt($){if($>-1&&$<this.schema.fields.length){let Q=this.data.map((J)=>J.children[$]);if(Q.length===0){let{type:J}=this.schema.fields[$],K=(0,Hy.makeData)({type:J,length:0,nullCount:0});Q.push(K._changeLengthAndBackfillNullBitmap(this.numRows))}return new yA.Vector(Q)}return null}setChild($,Q){var J;return this.setChildAt((J=this.schema.fields)===null||J===void 0?void 0:J.findIndex((K)=>K.name===$),Q)}setChildAt($,Q){let J=this.schema,K=[...this.batches];if($>-1&&$<this.numCols){if(!Q)Q=new yA.Vector([(0,Hy.makeData)({type:new nq0.Null,length:this.numRows})]);let Y=J.fields.slice(),q=Y[$].clone({type:Q.type}),Z=this.schema.fields.map((X,W)=>this.getChildAt(W));[Y[$],Z[$]]=[q,Q],[J,K]=(0,Ny.distributeVectorsIntoRecordBatches)(J,Z)}return new w3(J,K)}select($){let Q=this.schema.fields.reduce((J,K,Y)=>J.set(K.name,Y),new Map);return this.selectAt($.map((J)=>Q.get(J)).filter((J)=>J>-1))}selectAt($){let Q=this.schema.selectAt($),J=this.batches.map((K)=>K.selectAt($));return new w3(Q,J)}assign($){let Q=this.schema.fields,[J,K]=$.schema.fields.reduce((Z,X,W)=>{let[F,H]=Z,B=Q.findIndex((z)=>z.name===X.name);return~B?H[B]=W:F.push(W),Z},[[],[]]),Y=this.schema.assign($.schema),q=[...Q.map((Z,X)=>[X,K[X]]).map(([Z,X])=>X===void 0?this.getChildAt(Z):$.getChildAt(X)),...J.map((Z)=>$.getChildAt(Z))].filter(Boolean);return new w3(...(0,Ny.distributeVectorsIntoRecordBatches)(Y,q))}}iq0.Table=w3;rq0=Symbol.toStringTag;w3[rq0]=(($)=>{return $.schema=null,$.batches=[],$._offsets=new Uint32Array([0]),$._nullCount=-1,$[Symbol.isConcatSpreadable]=!0,$.isValid=(0,fq.wrapChunkedCall1)(fq.isChunkedValid),$.get=(0,fq.wrapChunkedCall1)(ml0.instance.getVisitFn(Uy.Type.Struct)),$.set=(0,fq.wrapChunkedCall2)(pl0.instance.getVisitFn(Uy.Type.Struct)),$.indexOf=(0,fq.wrapChunkedIndexOf)(dl0.instance.getVisitFn(Uy.Type.Struct)),"Table"})(w3.prototype);function ll0($){let Q={},J=Object.entries($);for(let[K,Y]of J)Q[K]=(0,yA.makeVector)(Y);return new w3(Q)}iq0.makeTable=ll0;function rl0($){let Q={},J=Object.entries($);for(let[K,Y]of J)Q[K]=(0,cl0.vectorFromArray)(Y);return new w3(Q)}iq0.tableFromArrays=rl0});var _q=w0(($Z0)=>{var aq0;Object.defineProperty($Z0,"__esModule",{value:!0});$Z0._InternalEmptyPlaceholderRecordBatch=$Z0.RecordBatch=void 0;var O3=nQ(),ol0=aU(),FC=Z4(),UC=u4(),LK=h6(),al0=nU(),tl0=YX(),el0=h9(),$r0=rD(),Qr0=iD();class hK{constructor(...$){switch($.length){case 2:{if([this.schema]=$,!(this.schema instanceof UC.Schema))throw TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=(0,O3.makeData)({nullCount:0,type:new LK.Struct(this.schema.fields),children:this.schema.fields.map((Q)=>(0,O3.makeData)({type:Q.type,nullCount:0}))})]=$,!(this.data instanceof O3.Data))throw TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=oq0(this.schema,this.data.children);break}case 1:{let[Q]=$,{fields:J,children:K,length:Y}=Object.keys(Q).reduce((X,W,F)=>{return X.children[F]=Q[W],X.length=Math.max(X.length,Q[W].length),X.fields[F]=UC.Field.new({name:W,type:Q[W].type,nullable:!0}),X},{length:0,fields:[],children:[]}),q=new UC.Schema(J),Z=(0,O3.makeData)({type:new LK.Struct(J),length:Y,children:K,nullCount:0});[this.schema,this.data]=oq0(q,Z.children,Y);break}default:throw TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=tq0(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid($){return this.data.getValid($)}get($){return tl0.instance.visit(this.data,$)}at($){return this.get((0,al0.wrapIndex)($,this.numRows))}set($,Q){return el0.instance.visit(this.data,$,Q)}indexOf($,Q){return $r0.instance.visit(this.data,$,Q)}[Symbol.iterator](){return Qr0.instance.visit(new FC.Vector([this.data]))}toArray(){return[...this]}concat(...$){return new ol0.Table(this.schema,[this,...$])}slice($,Q){let[J]=new FC.Vector([this.data]).slice($,Q).data;return new hK(this.schema,J)}getChild($){var Q;return this.getChildAt((Q=this.schema.fields)===null||Q===void 0?void 0:Q.findIndex((J)=>J.name===$))}getChildAt($){if($>-1&&$<this.schema.fields.length)return new FC.Vector([this.data.children[$]]);return null}setChild($,Q){var J;return this.setChildAt((J=this.schema.fields)===null||J===void 0?void 0:J.findIndex((K)=>K.name===$),Q)}setChildAt($,Q){let J=this.schema,K=this.data;if($>-1&&$<this.numCols){if(!Q)Q=new FC.Vector([(0,O3.makeData)({type:new LK.Null,length:this.numRows})]);let Y=J.fields.slice(),q=K.children.slice(),Z=Y[$].clone({type:Q.type});[Y[$],q[$]]=[Z,Q.data[0]],J=new UC.Schema(Y,new Map(this.schema.metadata)),K=(0,O3.makeData)({type:new LK.Struct(Y),children:q})}return new hK(J,K)}select($){let Q=this.schema.select($),J=new LK.Struct(Q.fields),K=[];for(let Y of $){let q=this.schema.fields.findIndex((Z)=>Z.name===Y);if(~q)K[q]=this.data.children[q]}return new hK(Q,(0,O3.makeData)({type:J,length:this.numRows,children:K}))}selectAt($){let Q=this.schema.selectAt($),J=$.map((Y)=>this.data.children[Y]).filter(Boolean),K=(0,O3.makeData)({type:new LK.Struct(Q.fields),length:this.numRows,children:J});return new hK(Q,K)}}$Z0.RecordBatch=hK;aq0=Symbol.toStringTag;hK[aq0]=(($)=>{return $._nullCount=-1,$[Symbol.isConcatSpreadable]=!0,"RecordBatch"})(hK.prototype);function oq0($,Q,J=Q.reduce((K,Y)=>Math.max(K,Y.length),0)){var K;let Y=[...$.fields],q=[...Q],Z=(J+63&-64)>>3;for(let[X,W]of $.fields.entries()){let F=Q[X];if(!F||F.length!==J)Y[X]=W.clone({nullable:!0}),q[X]=(K=F===null||F===void 0?void 0:F._changeLengthAndBackfillNullBitmap(J))!==null&&K!==void 0?K:(0,O3.makeData)({type:W.type,length:J,nullCount:J,nullBitmap:new Uint8Array(Z)})}return[$.assign(Y),(0,O3.makeData)({type:new LK.Struct(Y),length:J,children:q})]}function tq0($,Q,J=new Map){var K,Y;if(((K=$===null||$===void 0?void 0:$.length)!==null&&K!==void 0?K:0)>0&&($===null||$===void 0?void 0:$.length)===(Q===null||Q===void 0?void 0:Q.length))for(let q=-1,Z=$.length;++q<Z;){let{type:X}=$[q],W=Q[q];for(let F of[W,...((Y=W===null||W===void 0?void 0:W.dictionary)===null||Y===void 0?void 0:Y.data)||[]])tq0(X.children,F===null||F===void 0?void 0:F.children,J);if(LK.DataType.isDictionary(X)){let{id:F}=X;if(!J.has(F)){if(W===null||W===void 0?void 0:W.dictionary)J.set(F,W.dictionary)}else if(J.get(F)!==W.dictionary)throw Error("Cannot create Schema containing two different dictionaries with the same Id")}}return J}class eq0 extends hK{constructor($){let Q=$.fields.map((K)=>(0,O3.makeData)({type:K.type})),J=(0,O3.makeData)({type:new LK.Struct($.fields),nullCount:0,children:Q});super($,J)}}$Z0._InternalEmptyPlaceholderRecordBatch=eq0});var ZZ0=w0((YZ0)=>{Object.defineProperty(YZ0,"__esModule",{value:!0});YZ0.Message=void 0;var Kr0=V5(),Yr0=PU(),JZ0=TD(),KZ0=sT();class v${constructor(){this.bb=null,this.bb_pos=0}__init($,Q){return this.bb_pos=$,this.bb=Q,this}static getRootAsMessage($,Q){return(Q||new v$).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsMessage($,Q){return $.setPosition($.position()+Kr0.SIZE_PREFIX_LENGTH),(Q||new v$).__init($.readInt32($.position())+$.position(),$)}version(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt16(this.bb_pos+$):KZ0.MetadataVersion.V1}headerType(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.readUint8(this.bb_pos+$):JZ0.MessageHeader.NONE}header($){let Q=this.bb.__offset(this.bb_pos,8);return Q?this.bb.__union($,this.bb_pos+Q):null}bodyLength(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.readInt64(this.bb_pos+$):BigInt("0")}customMetadata($,Q){let J=this.bb.__offset(this.bb_pos,12);return J?(Q||new Yr0.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+J)+$*4),this.bb):null}customMetadataLength(){let $=this.bb.__offset(this.bb_pos,12);return $?this.bb.__vector_len(this.bb_pos+$):0}static startMessage($){$.startObject(5)}static addVersion($,Q){$.addFieldInt16(0,Q,KZ0.MetadataVersion.V1)}static addHeaderType($,Q){$.addFieldInt8(1,Q,JZ0.MessageHeader.NONE)}static addHeader($,Q){$.addFieldOffset(2,Q,0)}static addBodyLength($,Q){$.addFieldInt64(3,Q,BigInt("0"))}static addCustomMetadata($,Q){$.addFieldOffset(4,Q,0)}static createCustomMetadataVector($,Q){$.startVector(4,Q.length,4);for(let J=Q.length-1;J>=0;J--)$.addOffset(Q[J]);return $.endVector()}static startCustomMetadataVector($,Q){$.startVector(4,Q,4)}static endMessage($){return $.endObject()}static finishMessageBuffer($,Q){$.finish(Q)}static finishSizePrefixedMessageBuffer($,Q){$.finish(Q,void 0,!0)}static createMessage($,Q,J,K,Y,q){return v$.startMessage($),v$.addVersion($,Q),v$.addHeaderType($,J),v$.addHeader($,K),v$.addBodyLength($,Y),v$.addCustomMetadata($,q),v$.endMessage($)}}YZ0.Message=v$});var RZ0=w0((AZ0)=>{Object.defineProperty(AZ0,"__esModule",{value:!0});AZ0.instance=AZ0.TypeAssembler=void 0;var qr0=y4(),XZ0=Ub(),HC=zq(),By=ZD(),WZ0=qb(),FZ0=Xb(),UZ0=Zb(),HZ0=Nb(),NZ0=Wb(),xA=JD(),zy=QD(),NC=FD(),BC=UD(),Ay=XD(),Vy=KD(),BZ0=Fb(),zZ0=Hb(),eU=HD(),cA=Yb(),Ry=YD(),Gy=qD(),wy=WD();class Oy extends qr0.Visitor{visit($,Q){return $==null||Q==null?void 0:super.visit($,Q)}visitNull($,Q){return XZ0.Null.startNull(Q),XZ0.Null.endNull(Q)}visitInt($,Q){return HC.Int.startInt(Q),HC.Int.addBitWidth(Q,$.bitWidth),HC.Int.addIsSigned(Q,$.isSigned),HC.Int.endInt(Q)}visitFloat($,Q){return By.FloatingPoint.startFloatingPoint(Q),By.FloatingPoint.addPrecision(Q,$.precision),By.FloatingPoint.endFloatingPoint(Q)}visitBinary($,Q){return WZ0.Binary.startBinary(Q),WZ0.Binary.endBinary(Q)}visitLargeBinary($,Q){return FZ0.LargeBinary.startLargeBinary(Q),FZ0.LargeBinary.endLargeBinary(Q)}visitBool($,Q){return UZ0.Bool.startBool(Q),UZ0.Bool.endBool(Q)}visitUtf8($,Q){return HZ0.Utf8.startUtf8(Q),HZ0.Utf8.endUtf8(Q)}visitLargeUtf8($,Q){return NZ0.LargeUtf8.startLargeUtf8(Q),NZ0.LargeUtf8.endLargeUtf8(Q)}visitDecimal($,Q){return xA.Decimal.startDecimal(Q),xA.Decimal.addScale(Q,$.scale),xA.Decimal.addPrecision(Q,$.precision),xA.Decimal.addBitWidth(Q,$.bitWidth),xA.Decimal.endDecimal(Q)}visitDate($,Q){return zy.Date.startDate(Q),zy.Date.addUnit(Q,$.unit),zy.Date.endDate(Q)}visitTime($,Q){return NC.Time.startTime(Q),NC.Time.addUnit(Q,$.unit),NC.Time.addBitWidth(Q,$.bitWidth),NC.Time.endTime(Q)}visitTimestamp($,Q){let J=$.timezone&&Q.createString($.timezone)||void 0;if(BC.Timestamp.startTimestamp(Q),BC.Timestamp.addUnit(Q,$.unit),J!==void 0)BC.Timestamp.addTimezone(Q,J);return BC.Timestamp.endTimestamp(Q)}visitInterval($,Q){return Ay.Interval.startInterval(Q),Ay.Interval.addUnit(Q,$.unit),Ay.Interval.endInterval(Q)}visitDuration($,Q){return Vy.Duration.startDuration(Q),Vy.Duration.addUnit(Q,$.unit),Vy.Duration.endDuration(Q)}visitList($,Q){return BZ0.List.startList(Q),BZ0.List.endList(Q)}visitStruct($,Q){return zZ0.Struct_.startStruct_(Q),zZ0.Struct_.endStruct_(Q)}visitUnion($,Q){eU.Union.startTypeIdsVector(Q,$.typeIds.length);let J=eU.Union.createTypeIdsVector(Q,$.typeIds);return eU.Union.startUnion(Q),eU.Union.addMode(Q,$.mode),eU.Union.addTypeIds(Q,J),eU.Union.endUnion(Q)}visitDictionary($,Q){let J=this.visit($.indices,Q);if(cA.DictionaryEncoding.startDictionaryEncoding(Q),cA.DictionaryEncoding.addId(Q,BigInt($.id)),cA.DictionaryEncoding.addIsOrdered(Q,$.isOrdered),J!==void 0)cA.DictionaryEncoding.addIndexType(Q,J);return cA.DictionaryEncoding.endDictionaryEncoding(Q)}visitFixedSizeBinary($,Q){return Ry.FixedSizeBinary.startFixedSizeBinary(Q),Ry.FixedSizeBinary.addByteWidth(Q,$.byteWidth),Ry.FixedSizeBinary.endFixedSizeBinary(Q)}visitFixedSizeList($,Q){return Gy.FixedSizeList.startFixedSizeList(Q),Gy.FixedSizeList.addListSize(Q,$.listSize),Gy.FixedSizeList.endFixedSizeList(Q)}visitMap($,Q){return wy.Map.startMap(Q),wy.Map.addKeysSorted(Q,$.keysSorted),wy.Map.endMap(Q)}}AZ0.TypeAssembler=Oy;AZ0.instance=new Oy});var jZ0=w0((PZ0)=>{Object.defineProperty(PZ0,"__esModule",{value:!0});PZ0.fieldFromJSON=PZ0.dictionaryBatchFromJSON=PZ0.recordBatchFromJSON=PZ0.schemaFromJSON=void 0;var $H=u4(),w6=h6(),RX=GX(),VX=l6();function Xr0($,Q=new Map){return new $H.Schema(Fr0($,Q),zC($.metadata),Q)}PZ0.schemaFromJSON=Xr0;function TZ0($){return new RX.RecordBatch($.count,DZ0($.columns),CZ0($.columns))}PZ0.recordBatchFromJSON=TZ0;function Wr0($){return new RX.DictionaryBatch(TZ0($.data),$.id,$.isDelta)}PZ0.dictionaryBatchFromJSON=Wr0;function Fr0($,Q){return($.fields||[]).filter(Boolean).map((J)=>$H.Field.fromJSON(J,Q))}function GZ0($,Q){return($.children||[]).filter(Boolean).map((J)=>$H.Field.fromJSON(J,Q))}function DZ0($){return($||[]).reduce((Q,J)=>[...Q,new RX.FieldNode(J.count,Ur0(J.VALIDITY)),...DZ0(J.children)],[])}function CZ0($,Q=[]){for(let J=-1,K=($||[]).length;++J<K;){let Y=$[J];Y.VALIDITY&&Q.push(new RX.BufferRegion(Q.length,Y.VALIDITY.length)),Y.TYPE_ID&&Q.push(new RX.BufferRegion(Q.length,Y.TYPE_ID.length)),Y.OFFSET&&Q.push(new RX.BufferRegion(Q.length,Y.OFFSET.length)),Y.DATA&&Q.push(new RX.BufferRegion(Q.length,Y.DATA.length)),Q=CZ0(Y.children,Q)}return Q}function Ur0($){return($||[]).reduce((Q,J)=>Q+ +(J===0),0)}function Hr0($,Q){let J,K,Y,q,Z,X;if(!Q||!(q=$.dictionary))Z=OZ0($,GZ0($,Q)),Y=new $H.Field($.name,Z,$.nullable,zC($.metadata));else if(!Q.has(J=q.id))K=(K=q.indexType)?wZ0(K):new w6.Int32,Q.set(J,Z=OZ0($,GZ0($,Q))),X=new w6.Dictionary(Z,K,J,q.isOrdered),Y=new $H.Field($.name,X,$.nullable,zC($.metadata));else K=(K=q.indexType)?wZ0(K):new w6.Int32,X=new w6.Dictionary(Q.get(J),K,J,q.isOrdered),Y=new $H.Field($.name,X,$.nullable,zC($.metadata));return Y||null}PZ0.fieldFromJSON=Hr0;function zC($=[]){return new Map($.map(({key:Q,value:J})=>[Q,J]))}function wZ0($){return new w6.Int($.isSigned,$.bitWidth)}function OZ0($,Q){let J=$.type.name;switch(J){case"NONE":return new w6.Null;case"null":return new w6.Null;case"binary":return new w6.Binary;case"largebinary":return new w6.LargeBinary;case"utf8":return new w6.Utf8;case"largeutf8":return new w6.LargeUtf8;case"bool":return new w6.Bool;case"list":return new w6.List((Q||[])[0]);case"struct":return new w6.Struct(Q||[]);case"struct_":return new w6.Struct(Q||[])}switch(J){case"int":{let K=$.type;return new w6.Int(K.isSigned,K.bitWidth)}case"floatingpoint":{let K=$.type;return new w6.Float(VX.Precision[K.precision])}case"decimal":{let K=$.type;return new w6.Decimal(K.scale,K.precision,K.bitWidth)}case"date":{let K=$.type;return new w6.Date_(VX.DateUnit[K.unit])}case"time":{let K=$.type;return new w6.Time(VX.TimeUnit[K.unit],K.bitWidth)}case"timestamp":{let K=$.type;return new w6.Timestamp(VX.TimeUnit[K.unit],K.timezone)}case"interval":{let K=$.type;return new w6.Interval(VX.IntervalUnit[K.unit])}case"duration":{let K=$.type;return new w6.Duration(VX.TimeUnit[K.unit])}case"union":{let K=$.type,[Y,...q]=(K.mode+"").toLowerCase(),Z=Y.toUpperCase()+q.join("");return new w6.Union(VX.UnionMode[Z],K.typeIds||[],Q||[])}case"fixedsizebinary":{let K=$.type;return new w6.FixedSizeBinary(K.byteWidth)}case"fixedsizelist":{let K=$.type;return new w6.FixedSizeList(K.listSize,(Q||[])[0])}case"map":{let K=$.type;return new w6.Map_((Q||[])[0],K.keysSorted)}}throw Error(`Unrecognized type: "${J}"`)}});var GX=w0((_Z0)=>{Object.defineProperty(_Z0,"__esModule",{value:!0});_Z0.FieldNode=_Z0.BufferRegion=_Z0.DictionaryBatch=_Z0.RecordBatch=_Z0.Message=void 0;var SZ0=V5(),vK=BD(),Ar0=zq(),Mq=tT(),QH=Jb(),Vr0=Nq(),S$=Bb(),Rr0=Qb(),J7=MU(),bq=PU(),EZ0=Kb(),Gr0=ZD(),wr0=JD(),Or0=QD(),Tr0=FD(),Dr0=UD(),Cr0=XD(),Pr0=KD(),kr0=HD(),jr0=YD(),Er0=qD(),Lr0=WD(),Iq=ZZ0(),$8=u4(),hr0=t7(),gq=Oq(),r6=l6(),Ty=RZ0(),VC=jZ0(),vr0=SZ0.Builder,Sr0=SZ0.ByteBuffer,O6=h6();class wX{static fromJSON($,Q){let J=new wX(0,r6.MetadataVersion.V5,Q);return J._createHeader=_r0($,Q),J}static decode($){$=new Sr0((0,hr0.toUint8Array)($));let Q=Iq.Message.getRootAsMessage($),J=Q.bodyLength(),K=Q.version(),Y=Q.headerType(),q=new wX(J,K,Y);return q._createHeader=fr0(Q,Y),q}static encode($){let Q=new vr0,J=-1;if($.isSchema())J=$8.Schema.encode(Q,$.header());else if($.isRecordBatch())J=T3.encode(Q,$.header());else if($.isDictionaryBatch())J=eQ.encode(Q,$.header());return Iq.Message.startMessage(Q),Iq.Message.addVersion(Q,r6.MetadataVersion.V5),Iq.Message.addHeader(Q,J),Iq.Message.addHeaderType(Q,$.headerType),Iq.Message.addBodyLength(Q,BigInt($.bodyLength)),Iq.Message.finishMessageBuffer(Q,Iq.Message.endMessage(Q)),Q.asUint8Array()}static from($,Q=0){if($ instanceof $8.Schema)return new wX(0,r6.MetadataVersion.V5,r6.MessageHeader.Schema,$);if($ instanceof T3)return new wX(Q,r6.MetadataVersion.V5,r6.MessageHeader.RecordBatch,$);if($ instanceof eQ)return new wX(Q,r6.MetadataVersion.V5,r6.MessageHeader.DictionaryBatch,$);throw Error(`Unrecognized Message header: ${$}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===r6.MessageHeader.Schema}isRecordBatch(){return this.headerType===r6.MessageHeader.RecordBatch}isDictionaryBatch(){return this.headerType===r6.MessageHeader.DictionaryBatch}constructor($,Q,J,K){this._version=Q,this._headerType=J,this.body=new Uint8Array(0),K&&(this._createHeader=()=>K),this._bodyLength=(0,gq.bigIntToNumber)($)}}_Z0.Message=wX;class T3{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor($,Q,J){this._nodes=Q,this._buffers=J,this._length=(0,gq.bigIntToNumber)($)}}_Z0.RecordBatch=T3;class eQ{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor($,Q,J=!1){this._data=$,this._isDelta=J,this._id=(0,gq.bigIntToNumber)(Q)}}_Z0.DictionaryBatch=eQ;class OX{constructor($,Q){this.offset=(0,gq.bigIntToNumber)($),this.length=(0,gq.bigIntToNumber)(Q)}}_Z0.BufferRegion=OX;class TX{constructor($,Q){this.length=(0,gq.bigIntToNumber)($),this.nullCount=(0,gq.bigIntToNumber)(Q)}}_Z0.FieldNode=TX;function _r0($,Q){return()=>{switch(Q){case r6.MessageHeader.Schema:return $8.Schema.fromJSON($);case r6.MessageHeader.RecordBatch:return T3.fromJSON($);case r6.MessageHeader.DictionaryBatch:return eQ.fromJSON($)}throw Error(`Unrecognized Message type: { name: ${r6.MessageHeader[Q]}, type: ${Q} }`)}}function fr0($,Q){return()=>{switch(Q){case r6.MessageHeader.Schema:return $8.Schema.decode($.header(new vK.Schema),new Map,$.version());case r6.MessageHeader.RecordBatch:return T3.decode($.header(new Mq.RecordBatch),$.version());case r6.MessageHeader.DictionaryBatch:return eQ.decode($.header(new QH.DictionaryBatch),$.version())}throw Error(`Unrecognized Message type: { name: ${r6.MessageHeader[Q]}, type: ${Q} }`)}}$8.Field.encode=dr0;$8.Field.decode=mr0;$8.Field.fromJSON=VC.fieldFromJSON;$8.Schema.encode=pr0;$8.Schema.decode=Ir0;$8.Schema.fromJSON=VC.schemaFromJSON;T3.encode=nr0;T3.decode=Mr0;T3.fromJSON=VC.recordBatchFromJSON;eQ.encode=lr0;eQ.decode=br0;eQ.fromJSON=VC.dictionaryBatchFromJSON;TX.encode=rr0;TX.decode=yr0;OX.encode=ir0;OX.decode=gr0;function Ir0($,Q=new Map,J=r6.MetadataVersion.V5){let K=ur0($,Q);return new $8.Schema(K,AC($),Q,J)}function Mr0($,Q=r6.MetadataVersion.V5){if($.compression()!==null)throw Error("Record batch compression not implemented");return new T3($.length(),xr0($),cr0($,Q))}function br0($,Q=r6.MetadataVersion.V5){return new eQ(T3.decode($.data(),Q),$.id(),$.isDelta())}function gr0($){return new OX($.offset(),$.length())}function yr0($){return new TX($.length(),$.nullCount())}function xr0($){let Q=[];for(let J,K=-1,Y=-1,q=$.nodesLength();++K<q;)if(J=$.nodes(K))Q[++Y]=TX.decode(J);return Q}function cr0($,Q){let J=[];for(let K,Y=-1,q=-1,Z=$.buffersLength();++Y<Z;)if(K=$.buffers(Y)){if(Q<r6.MetadataVersion.V4)K.bb_pos+=8*(Y+1);J[++q]=OX.decode(K)}return J}function ur0($,Q){let J=[];for(let K,Y=-1,q=-1,Z=$.fieldsLength();++Y<Z;)if(K=$.fields(Y))J[++q]=$8.Field.decode(K,Q);return J}function LZ0($,Q){let J=[];for(let K,Y=-1,q=-1,Z=$.childrenLength();++Y<Z;)if(K=$.children(Y))J[++q]=$8.Field.decode(K,Q);return J}function mr0($,Q){let J,K,Y,q,Z,X;if(!Q||!(X=$.dictionary()))Y=vZ0($,LZ0($,Q)),K=new $8.Field($.name(),Y,$.nullable(),AC($));else if(!Q.has(J=(0,gq.bigIntToNumber)(X.id())))q=(q=X.indexType())?hZ0(q):new O6.Int32,Q.set(J,Y=vZ0($,LZ0($,Q))),Z=new O6.Dictionary(Y,q,J,X.isOrdered()),K=new $8.Field($.name(),Z,$.nullable(),AC($));else q=(q=X.indexType())?hZ0(q):new O6.Int32,Z=new O6.Dictionary(Q.get(J),q,J,X.isOrdered()),K=new $8.Field($.name(),Z,$.nullable(),AC($));return K||null}function AC($){let Q=new Map;if($){for(let J,K,Y=-1,q=Math.trunc($.customMetadataLength());++Y<q;)if((J=$.customMetadata(Y))&&(K=J.key())!=null)Q.set(K,J.value())}return Q}function hZ0($){return new O6.Int($.isSigned(),$.bitWidth())}function vZ0($,Q){let J=$.typeType();switch(J){case J7.Type.NONE:return new O6.Null;case J7.Type.Null:return new O6.Null;case J7.Type.Binary:return new O6.Binary;case J7.Type.LargeBinary:return new O6.LargeBinary;case J7.Type.Utf8:return new O6.Utf8;case J7.Type.LargeUtf8:return new O6.LargeUtf8;case J7.Type.Bool:return new O6.Bool;case J7.Type.List:return new O6.List((Q||[])[0]);case J7.Type.Struct_:return new O6.Struct(Q||[])}switch(J){case J7.Type.Int:{let K=$.type(new Ar0.Int);return new O6.Int(K.isSigned(),K.bitWidth())}case J7.Type.FloatingPoint:{let K=$.type(new Gr0.FloatingPoint);return new O6.Float(K.precision())}case J7.Type.Decimal:{let K=$.type(new wr0.Decimal);return new O6.Decimal(K.scale(),K.precision(),K.bitWidth())}case J7.Type.Date:{let K=$.type(new Or0.Date);return new O6.Date_(K.unit())}case J7.Type.Time:{let K=$.type(new Tr0.Time);return new O6.Time(K.unit(),K.bitWidth())}case J7.Type.Timestamp:{let K=$.type(new Dr0.Timestamp);return new O6.Timestamp(K.unit(),K.timezone())}case J7.Type.Interval:{let K=$.type(new Cr0.Interval);return new O6.Interval(K.unit())}case J7.Type.Duration:{let K=$.type(new Pr0.Duration);return new O6.Duration(K.unit())}case J7.Type.Union:{let K=$.type(new kr0.Union);return new O6.Union(K.mode(),K.typeIdsArray()||[],Q||[])}case J7.Type.FixedSizeBinary:{let K=$.type(new jr0.FixedSizeBinary);return new O6.FixedSizeBinary(K.byteWidth())}case J7.Type.FixedSizeList:{let K=$.type(new Er0.FixedSizeList);return new O6.FixedSizeList(K.listSize(),(Q||[])[0])}case J7.Type.Map:{let K=$.type(new Lr0.Map);return new O6.Map_((Q||[])[0],K.keysSorted())}}throw Error(`Unrecognized type: "${J7.Type[J]}" (${J})`)}function pr0($,Q){let J=Q.fields.map((q)=>$8.Field.encode($,q));vK.Schema.startFieldsVector($,J.length);let K=vK.Schema.createFieldsVector($,J),Y=!(Q.metadata&&Q.metadata.size>0)?-1:vK.Schema.createCustomMetadataVector($,[...Q.metadata].map(([q,Z])=>{let X=$.createString(`${q}`),W=$.createString(`${Z}`);return bq.KeyValue.startKeyValue($),bq.KeyValue.addKey($,X),bq.KeyValue.addValue($,W),bq.KeyValue.endKeyValue($)}));if(vK.Schema.startSchema($),vK.Schema.addFields($,K),vK.Schema.addEndianness($,sr0?EZ0.Endianness.Little:EZ0.Endianness.Big),Y!==-1)vK.Schema.addCustomMetadata($,Y);return vK.Schema.endSchema($)}function dr0($,Q){let J=-1,K=-1,Y=-1,q=Q.type,Z=Q.typeId;if(!O6.DataType.isDictionary(q))K=Ty.instance.visit(q,$);else Z=q.dictionary.typeId,Y=Ty.instance.visit(q,$),K=Ty.instance.visit(q.dictionary,$);let X=(q.children||[]).map((H)=>$8.Field.encode($,H)),W=S$.Field.createChildrenVector($,X),F=!(Q.metadata&&Q.metadata.size>0)?-1:S$.Field.createCustomMetadataVector($,[...Q.metadata].map(([H,B])=>{let z=$.createString(`${H}`),A=$.createString(`${B}`);return bq.KeyValue.startKeyValue($),bq.KeyValue.addKey($,z),bq.KeyValue.addValue($,A),bq.KeyValue.endKeyValue($)}));if(Q.name)J=$.createString(Q.name);if(S$.Field.startField($),S$.Field.addType($,K),S$.Field.addTypeType($,Z),S$.Field.addChildren($,W),S$.Field.addNullable($,!!Q.nullable),J!==-1)S$.Field.addName($,J);if(Y!==-1)S$.Field.addDictionary($,Y);if(F!==-1)S$.Field.addCustomMetadata($,F);return S$.Field.endField($)}function nr0($,Q){let J=Q.nodes||[],K=Q.buffers||[];Mq.RecordBatch.startNodesVector($,J.length);for(let Z of J.slice().reverse())TX.encode($,Z);let Y=$.endVector();Mq.RecordBatch.startBuffersVector($,K.length);for(let Z of K.slice().reverse())OX.encode($,Z);let q=$.endVector();return Mq.RecordBatch.startRecordBatch($),Mq.RecordBatch.addLength($,BigInt(Q.length)),Mq.RecordBatch.addNodes($,Y),Mq.RecordBatch.addBuffers($,q),Mq.RecordBatch.endRecordBatch($)}function lr0($,Q){let J=T3.encode($,Q.data);return QH.DictionaryBatch.startDictionaryBatch($),QH.DictionaryBatch.addId($,BigInt(Q.id)),QH.DictionaryBatch.addIsDelta($,Q.isDelta),QH.DictionaryBatch.addData($,J),QH.DictionaryBatch.endDictionaryBatch($)}function rr0($,Q){return Rr0.FieldNode.createFieldNode($,BigInt(Q.length),BigInt(Q.nullCount))}function ir0($,Q){return Vr0.Buffer.createBuffer($,BigInt(Q.offset),BigInt(Q.length))}var sr0=(()=>{let $=new ArrayBuffer(2);return new DataView($).setInt16(0,256,!0),new Int16Array($)[0]===256})()});var wC=w0((cZ0)=>{Object.defineProperty(cZ0,"__esModule",{value:!0});cZ0.magicX2AndPadding=cZ0.magicAndPadding=cZ0.magicLength=cZ0.checkForMagicArrowString=cZ0.MAGIC=cZ0.MAGIC_STR=cZ0.PADDING=cZ0.JSONMessageReader=cZ0.AsyncMessageReader=cZ0.MessageReader=void 0;var yq=(b4(),j9(M4)),xq=l6(),IZ0=V5(),uA=GX(),$i0=Uq(),Qi0=Hg(),MZ0=t7(),RC=vq(),_$=DA(),Dy=($)=>`Expected ${xq.MessageHeader[$]} Message in stream, but was null or length 0.`,Cy=($)=>`Header pointer of flatbuffer-encoded ${xq.MessageHeader[$]} Message is null or length 0.`,bZ0=($,Q)=>`Expected to read ${$} metadata bytes, but only read ${Q}.`,gZ0=($,Q)=>`Expected to read ${$} bytes for message body, but only read ${Q}.`;class Py{constructor($){this.source=$ instanceof RC.ByteStream?$:new RC.ByteStream($)}[Symbol.iterator](){return this}next(){let $;if(($=this.readMetadataLength()).done)return _$.ITERATOR_DONE;if($.value===-1&&($=this.readMetadataLength()).done)return _$.ITERATOR_DONE;if(($=this.readMetadata($.value)).done)return _$.ITERATOR_DONE;return $}throw($){return this.source.throw($)}return($){return this.source.return($)}readMessage($){let Q;if((Q=this.next()).done)return null;if($!=null&&Q.value.headerType!==$)throw Error(Dy($));return Q.value}readMessageBody($){if($<=0)return new Uint8Array(0);let Q=(0,MZ0.toUint8Array)(this.source.read($));if(Q.byteLength<$)throw Error(gZ0($,Q.byteLength));return Q.byteOffset%8===0&&Q.byteOffset+Q.byteLength<=Q.buffer.byteLength?Q:Q.slice()}readSchema($=!1){let Q=xq.MessageHeader.Schema,J=this.readMessage(Q),K=J===null||J===void 0?void 0:J.header();if($&&!K)throw Error(Cy(Q));return K}readMetadataLength(){let $=this.source.read(cZ0.PADDING),Q=$&&new IZ0.ByteBuffer($),J=(Q===null||Q===void 0?void 0:Q.readInt32(0))||0;return{done:J===0,value:J}}readMetadata($){let Q=this.source.read($);if(!Q)return _$.ITERATOR_DONE;if(Q.byteLength<$)throw Error(bZ0($,Q.byteLength));return{done:!1,value:uA.Message.decode(Q)}}}cZ0.MessageReader=Py;class yZ0{constructor($,Q){this.source=$ instanceof RC.AsyncByteStream?$:(0,$i0.isFileHandle)($)?new Qi0.AsyncRandomAccessFile($,Q):new RC.AsyncByteStream($)}[Symbol.asyncIterator](){return this}next(){return yq.__awaiter(this,void 0,void 0,function*(){let $;if(($=yield this.readMetadataLength()).done)return _$.ITERATOR_DONE;if($.value===-1&&($=yield this.readMetadataLength()).done)return _$.ITERATOR_DONE;if(($=yield this.readMetadata($.value)).done)return _$.ITERATOR_DONE;return $})}throw($){return yq.__awaiter(this,void 0,void 0,function*(){return yield this.source.throw($)})}return($){return yq.__awaiter(this,void 0,void 0,function*(){return yield this.source.return($)})}readMessage($){return yq.__awaiter(this,void 0,void 0,function*(){let Q;if((Q=yield this.next()).done)return null;if($!=null&&Q.value.headerType!==$)throw Error(Dy($));return Q.value})}readMessageBody($){return yq.__awaiter(this,void 0,void 0,function*(){if($<=0)return new Uint8Array(0);let Q=(0,MZ0.toUint8Array)(yield this.source.read($));if(Q.byteLength<$)throw Error(gZ0($,Q.byteLength));return Q.byteOffset%8===0&&Q.byteOffset+Q.byteLength<=Q.buffer.byteLength?Q:Q.slice()})}readSchema(){return yq.__awaiter(this,arguments,void 0,function*($=!1){let Q=xq.MessageHeader.Schema,J=yield this.readMessage(Q),K=J===null||J===void 0?void 0:J.header();if($&&!K)throw Error(Cy(Q));return K})}readMetadataLength(){return yq.__awaiter(this,void 0,void 0,function*(){let $=yield this.source.read(cZ0.PADDING),Q=$&&new IZ0.ByteBuffer($),J=(Q===null||Q===void 0?void 0:Q.readInt32(0))||0;return{done:J===0,value:J}})}readMetadata($){return yq.__awaiter(this,void 0,void 0,function*(){let Q=yield this.source.read($);if(!Q)return _$.ITERATOR_DONE;if(Q.byteLength<$)throw Error(bZ0($,Q.byteLength));return{done:!1,value:uA.Message.decode(Q)}})}}cZ0.AsyncMessageReader=yZ0;class xZ0 extends Py{constructor($){super(new Uint8Array(0));this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=$ instanceof _$.ArrowJSON?$:new _$.ArrowJSON($)}next(){let{_json:$}=this;if(!this._schema)return this._schema=!0,{done:!1,value:uA.Message.fromJSON($.schema,xq.MessageHeader.Schema)};if(this._dictionaryIndex<$.dictionaries.length){let Q=$.dictionaries[this._dictionaryIndex++];return this._body=Q.data.columns,{done:!1,value:uA.Message.fromJSON(Q,xq.MessageHeader.DictionaryBatch)}}if(this._batchIndex<$.batches.length){let Q=$.batches[this._batchIndex++];return this._body=Q.columns,{done:!1,value:uA.Message.fromJSON(Q,xq.MessageHeader.RecordBatch)}}return this._body=[],_$.ITERATOR_DONE}readMessageBody($){return Q(this._body);function Q(J){return(J||[]).reduce((K,Y)=>[...K,...Y.VALIDITY&&[Y.VALIDITY]||[],...Y.TYPE_ID&&[Y.TYPE_ID]||[],...Y.OFFSET&&[Y.OFFSET]||[],...Y.DATA&&[Y.DATA]||[],...Q(Y.children)],[])}}readMessage($){let Q;if((Q=this.next()).done)return null;if($!=null&&Q.value.headerType!==$)throw Error(Dy($));return Q.value}readSchema(){let $=xq.MessageHeader.Schema,Q=this.readMessage($),J=Q===null||Q===void 0?void 0:Q.header();if(!Q||!J)throw Error(Cy($));return J}}cZ0.JSONMessageReader=xZ0;cZ0.PADDING=4;cZ0.MAGIC_STR="ARROW1";cZ0.MAGIC=new Uint8Array(cZ0.MAGIC_STR.length);for(let $=0;$<cZ0.MAGIC_STR.length;$+=1)cZ0.MAGIC[$]=cZ0.MAGIC_STR.codePointAt($);function Ji0($,Q=0){for(let J=-1,K=cZ0.MAGIC.length;++J<K;)if(cZ0.MAGIC[J]!==$[Q+J])return!1;return!0}cZ0.checkForMagicArrowString=Ji0;cZ0.magicLength=cZ0.MAGIC.length;cZ0.magicAndPadding=cZ0.magicLength+cZ0.PADDING;cZ0.magicX2AndPadding=cZ0.magicLength*2+cZ0.PADDING});var rA=w0((tZ0)=>{Object.defineProperty(tZ0,"__esModule",{value:!0});tZ0.AsyncRecordBatchFileReader=tZ0.RecordBatchFileReader=tZ0.AsyncRecordBatchStreamReader=tZ0.RecordBatchStreamReader=tZ0.RecordBatchReader=void 0;var T6=(b4(),j9(M4)),Wi0=nQ(),mZ0=Z4(),Fi0=h6(),OC=l6(),rZ0=Zg(),pZ0=HA(),dZ0=vq(),dA=Hg(),iZ0=GY0(),jy=_q(),DX=DA(),C3=wC(),D3=Uq();class SK extends DX.ReadableInterop{constructor($){super();this._impl=$}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw($){return this._impl.throw($)}return($){return this._impl.return($)}cancel(){return this._impl.cancel()}reset($){return this._impl.reset($),this._DOMStream=void 0,this._nodeStream=void 0,this}open($){let Q=this._impl.open($);return(0,D3.isPromise)(Q)?Q.then(()=>this):this}readRecordBatch($){return this._impl.isFile()?this._impl.readRecordBatch($):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return pZ0.default.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return pZ0.default.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode($){throw Error('"throughNode" not available in this environment')}static throughDOM($,Q){throw Error('"throughDOM" not available in this environment')}static from($){if($ instanceof SK)return $;else if((0,D3.isArrowJSON)($))return Ui0($);else if((0,D3.isFileHandle)($))return Bi0($);else if((0,D3.isPromise)($))return(()=>T6.__awaiter(this,void 0,void 0,function*(){return yield SK.from(yield $)}))();else if((0,D3.isFetchResponse)($)||(0,D3.isReadableDOMStream)($)||(0,D3.isReadableNodeStream)($)||(0,D3.isAsyncIterable)($))return Ni0(new dZ0.AsyncByteStream($));return Hi0(new dZ0.ByteStream($))}static readAll($){if($ instanceof SK)return $.isSync()?nZ0($):lZ0($);else if((0,D3.isArrowJSON)($)||ArrayBuffer.isView($)||(0,D3.isIterable)($)||(0,D3.isIteratorResult)($))return nZ0($);return lZ0($)}}tZ0.RecordBatchReader=SK;class JH extends SK{constructor($){super($);this._impl=$}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return T6.__asyncGenerator(this,arguments,function*(){yield T6.__await(yield*T6.__asyncDelegator(T6.__asyncValues(this[Symbol.iterator]())))})}}tZ0.RecordBatchStreamReader=JH;class KH extends SK{constructor($){super($);this._impl=$}readAll(){return T6.__awaiter(this,void 0,void 0,function*(){var $,Q,J,K;let Y=[];try{for(var q=!0,Z=T6.__asyncValues(this),X;X=yield Z.next(),$=X.done,!$;q=!0){K=X.value,q=!1;let W=K;Y.push(W)}}catch(W){Q={error:W}}finally{try{if(!q&&!$&&(J=Z.return))yield J.call(Z)}finally{if(Q)throw Q.error}}return Y})}[Symbol.iterator](){throw Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}tZ0.AsyncRecordBatchStreamReader=KH;class TC extends JH{constructor($){super($);this._impl=$}}tZ0.RecordBatchFileReader=TC;class Ey extends KH{constructor($){super($);this._impl=$}}tZ0.AsyncRecordBatchFileReader=Ey;class Ly{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor($=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=$}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset($){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=$,this.dictionaries=new Map,this}_loadRecordBatch($,Q){let J=this._loadVectors($,Q,this.schema.fields),K=(0,Wi0.makeData)({type:new Fi0.Struct(this.schema.fields),length:$.length,children:J});return new jy.RecordBatch(this.schema,K)}_loadDictionaryBatch($,Q){let{id:J,isDelta:K}=$,{dictionaries:Y,schema:q}=this,Z=Y.get(J),X=q.dictionaries.get(J),W=this._loadVectors($.data,Q,[X]);return(Z&&K?Z.concat(new mZ0.Vector(W)):new mZ0.Vector(W)).memoize()}_loadVectors($,Q,J){return new iZ0.VectorLoader(Q,$.nodes,$.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(J)}}class nA extends Ly{constructor($,Q){super(Q);this._reader=!(0,D3.isArrowJSON)($)?new C3.MessageReader(this._handle=$):new C3.JSONMessageReader(this._handle=$)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){if(!this.closed&&(this.closed=!0))this.reset()._reader.return(),this._reader=null,this.dictionaries=null}open($){if(!this.closed){if(this.autoDestroy=aZ0(this,$),!(this.schema||(this.schema=this._reader.readSchema())))this.cancel()}return this}throw($){if(!this.closed&&this.autoDestroy&&(this.closed=!0))return this.reset()._reader.throw($);return DX.ITERATOR_DONE}return($){if(!this.closed&&this.autoDestroy&&(this.closed=!0))return this.reset()._reader.return($);return DX.ITERATOR_DONE}next(){if(this.closed)return DX.ITERATOR_DONE;let $,{_reader:Q}=this;while($=this._readNextMessageAndValidate())if($.isSchema())this.reset($.header());else if($.isRecordBatch()){this._recordBatchIndex++;let J=$.header(),K=Q.readMessageBody($.bodyLength);return{done:!1,value:this._loadRecordBatch(J,K)}}else if($.isDictionaryBatch()){this._dictionaryIndex++;let J=$.header(),K=Q.readMessageBody($.bodyLength),Y=this._loadDictionaryBatch(J,K);this.dictionaries.set(J.id,Y)}if(this.schema&&this._recordBatchIndex===0)return this._recordBatchIndex++,{done:!1,value:new jy._InternalEmptyPlaceholderRecordBatch(this.schema)};return this.return()}_readNextMessageAndValidate($){return this._reader.readMessage($)}}class lA extends Ly{constructor($,Q){super(Q);this._reader=new C3.AsyncMessageReader(this._handle=$)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return T6.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&(this.closed=!0))yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null})}open($){return T6.__awaiter(this,void 0,void 0,function*(){if(!this.closed){if(this.autoDestroy=aZ0(this,$),!(this.schema||(this.schema=yield this._reader.readSchema())))yield this.cancel()}return this})}throw($){return T6.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&this.autoDestroy&&(this.closed=!0))return yield this.reset()._reader.throw($);return DX.ITERATOR_DONE})}return($){return T6.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&this.autoDestroy&&(this.closed=!0))return yield this.reset()._reader.return($);return DX.ITERATOR_DONE})}next(){return T6.__awaiter(this,void 0,void 0,function*(){if(this.closed)return DX.ITERATOR_DONE;let $,{_reader:Q}=this;while($=yield this._readNextMessageAndValidate())if($.isSchema())yield this.reset($.header());else if($.isRecordBatch()){this._recordBatchIndex++;let J=$.header(),K=yield Q.readMessageBody($.bodyLength);return{done:!1,value:this._loadRecordBatch(J,K)}}else if($.isDictionaryBatch()){this._dictionaryIndex++;let J=$.header(),K=yield Q.readMessageBody($.bodyLength),Y=this._loadDictionaryBatch(J,K);this.dictionaries.set(J.id,Y)}if(this.schema&&this._recordBatchIndex===0)return this._recordBatchIndex++,{done:!1,value:new jy._InternalEmptyPlaceholderRecordBatch(this.schema)};return yield this.return()})}_readNextMessageAndValidate($){return T6.__awaiter(this,void 0,void 0,function*(){return yield this._reader.readMessage($)})}}class hy extends nA{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor($,Q){super($ instanceof dA.RandomAccessFile?$:new dA.RandomAccessFile($),Q)}isSync(){return!0}isFile(){return!0}open($){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(let Q of this._footer.dictionaryBatches())Q&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open($)}readRecordBatch($){var Q;if(this.closed)return null;if(!this._footer)this.open();let J=(Q=this._footer)===null||Q===void 0?void 0:Q.getRecordBatch($);if(J&&this._handle.seek(J.offset)){let K=this._reader.readMessage(OC.MessageHeader.RecordBatch);if(K===null||K===void 0?void 0:K.isRecordBatch()){let Y=K.header(),q=this._reader.readMessageBody(K.bodyLength);return this._loadRecordBatch(Y,q)}}return null}_readDictionaryBatch($){var Q;let J=(Q=this._footer)===null||Q===void 0?void 0:Q.getDictionaryBatch($);if(J&&this._handle.seek(J.offset)){let K=this._reader.readMessage(OC.MessageHeader.DictionaryBatch);if(K===null||K===void 0?void 0:K.isDictionaryBatch()){let Y=K.header(),q=this._reader.readMessageBody(K.bodyLength),Z=this._loadDictionaryBatch(Y,q);this.dictionaries.set(Y.id,Z)}}}_readFooter(){let{_handle:$}=this,Q=$.size-C3.magicAndPadding,J=$.readInt32(Q),K=$.readAt(Q-J,J);return rZ0.Footer.decode(K)}_readNextMessageAndValidate($){var Q;if(!this._footer)this.open();if(this._footer&&this._recordBatchIndex<this.numRecordBatches){let J=(Q=this._footer)===null||Q===void 0?void 0:Q.getRecordBatch(this._recordBatchIndex);if(J&&this._handle.seek(J.offset))return this._reader.readMessage($)}return null}}class sZ0 extends lA{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor($,...Q){let J=typeof Q[0]!=="number"?Q.shift():void 0,K=Q[0]instanceof Map?Q.shift():void 0;super($ instanceof dA.AsyncRandomAccessFile?$:new dA.AsyncRandomAccessFile($,J),K)}isFile(){return!0}isAsync(){return!0}open($){let Q=Object.create(null,{open:{get:()=>super.open}});return T6.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(let J of this._footer.dictionaryBatches())J&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield Q.open.call(this,$)})}readRecordBatch($){return T6.__awaiter(this,void 0,void 0,function*(){var Q;if(this.closed)return null;if(!this._footer)yield this.open();let J=(Q=this._footer)===null||Q===void 0?void 0:Q.getRecordBatch($);if(J&&(yield this._handle.seek(J.offset))){let K=yield this._reader.readMessage(OC.MessageHeader.RecordBatch);if(K===null||K===void 0?void 0:K.isRecordBatch()){let Y=K.header(),q=yield this._reader.readMessageBody(K.bodyLength);return this._loadRecordBatch(Y,q)}}return null})}_readDictionaryBatch($){return T6.__awaiter(this,void 0,void 0,function*(){var Q;let J=(Q=this._footer)===null||Q===void 0?void 0:Q.getDictionaryBatch($);if(J&&(yield this._handle.seek(J.offset))){let K=yield this._reader.readMessage(OC.MessageHeader.DictionaryBatch);if(K===null||K===void 0?void 0:K.isDictionaryBatch()){let Y=K.header(),q=yield this._reader.readMessageBody(K.bodyLength),Z=this._loadDictionaryBatch(Y,q);this.dictionaries.set(Y.id,Z)}}})}_readFooter(){return T6.__awaiter(this,void 0,void 0,function*(){let{_handle:$}=this;$._pending&&(yield $._pending);let Q=$.size-C3.magicAndPadding,J=yield $.readInt32(Q),K=yield $.readAt(Q-J,J);return rZ0.Footer.decode(K)})}_readNextMessageAndValidate($){return T6.__awaiter(this,void 0,void 0,function*(){if(!this._footer)yield this.open();if(this._footer&&this._recordBatchIndex<this.numRecordBatches){let Q=this._footer.getRecordBatch(this._recordBatchIndex);if(Q&&(yield this._handle.seek(Q.offset)))return yield this._reader.readMessage($)}return null})}}class oZ0 extends nA{constructor($,Q){super($,Q)}_loadVectors($,Q,J){return new iZ0.JSONVectorLoader(Q,$.nodes,$.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(J)}}function aZ0($,Q){return Q&&typeof Q.autoDestroy==="boolean"?Q.autoDestroy:$.autoDestroy}function*nZ0($){let Q=SK.from($);try{if(!Q.open({autoDestroy:!1}).closed)do yield Q;while(!Q.reset().open().closed)}finally{Q.cancel()}}function lZ0($){return T6.__asyncGenerator(this,arguments,function*(){let J=yield T6.__await(SK.from($));try{if(!(yield T6.__await(J.open({autoDestroy:!1}))).closed)do yield yield T6.__await(J);while(!(yield T6.__await(J.reset().open())).closed)}finally{yield T6.__await(J.cancel())}})}function Ui0($){return new JH(new oZ0($))}function Hi0($){let Q=$.peek(C3.magicLength+7&-8);return Q&&Q.byteLength>=4?!(0,C3.checkForMagicArrowString)(Q)?new JH(new nA($)):new TC(new hy($.read())):new JH(new nA(function*(){}()))}function Ni0($){return T6.__awaiter(this,void 0,void 0,function*(){let Q=yield $.peek(C3.magicLength+7&-8);return Q&&Q.byteLength>=4?!(0,C3.checkForMagicArrowString)(Q)?new KH(new lA($)):new TC(new hy(yield $.read())):new KH(new lA(function(){return T6.__asyncGenerator(this,arguments,function*(){})}()))})}function Bi0($){return T6.__awaiter(this,void 0,void 0,function*(){let{size:Q}=yield $.stat(),J=new dA.AsyncRandomAccessFile($,Q);if(Q>=C3.magicX2AndPadding&&(0,C3.checkForMagicArrowString)(yield J.readAt(0,C3.magicLength+7&-8)))return new Ey(new sZ0(J));return new KH(new lA(J))})}});var q20=w0((K20)=>{Object.defineProperty(K20,"__esModule",{value:!0});K20.VectorAssembler=void 0;var Gi0=Z4(),wi0=y4(),$20=l6(),Oi0=_q(),J20=t7(),Sy=FX(),_y=GX(),vy=h6(),Q20=Oq();class K7 extends wi0.Visitor{static assemble(...$){let Q=(K)=>K.flatMap((Y)=>Array.isArray(Y)?Q(Y):Y instanceof Oi0.RecordBatch?Y.data.children:Y.data),J=new K7;return J.visitMany(Q($)),J}constructor(){super();this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit($){if($ instanceof Gi0.Vector)return this.visitMany($.data),this;let{type:Q}=$;if(!vy.DataType.isDictionary(Q)){let{length:J}=$;if(J>2147483647)throw RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(vy.DataType.isUnion(Q))this.nodes.push(new _y.FieldNode(J,0));else{let{nullCount:K}=$;if(!vy.DataType.isNull(Q))f$.call(this,K<=0?new Uint8Array(0):(0,Sy.truncateBitmap)($.offset,J,$.nullBitmap));this.nodes.push(new _y.FieldNode(J,K))}}return super.visit($)}visitNull($){return this}visitDictionary($){return this.visit($.clone($.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}K20.VectorAssembler=K7;function f$($){let Q=$.byteLength+7&-8;return this.buffers.push($),this.bufferRegions.push(new _y.BufferRegion(this._byteLength,Q)),this._byteLength+=Q,this}function Ti0($){var Q;let{type:J,length:K,typeIds:Y,valueOffsets:q}=$;if(f$.call(this,Y),J.mode===$20.UnionMode.Sparse)return fy.call(this,$);else if(J.mode===$20.UnionMode.Dense)if($.offset<=0)return f$.call(this,q),fy.call(this,$);else{let Z=new Int32Array(K),X=Object.create(null),W=Object.create(null);for(let F,H,B=-1;++B<K;){if((F=Y[B])===void 0)continue;if((H=X[F])===void 0)H=X[F]=q[B];Z[B]=q[B]-H,W[F]=((Q=W[F])!==null&&Q!==void 0?Q:0)+1}f$.call(this,Z),this.visitMany($.children.map((F,H)=>{let B=J.typeIds[H],z=X[B],A=W[B];return F.slice(z,Math.min(K,A))}))}return this}function Di0($){let Q;if($.nullCount>=$.length)return f$.call(this,new Uint8Array(0));else if((Q=$.values)instanceof Uint8Array)return f$.call(this,(0,Sy.truncateBitmap)($.offset,$.length,Q));return f$.call(this,(0,Sy.packBools)($.values))}function _K($){return f$.call(this,$.values.subarray(0,$.length*$.stride))}function DC($){let{length:Q,values:J,valueOffsets:K}=$,Y=(0,Q20.bigIntToNumber)(K[0]),q=(0,Q20.bigIntToNumber)(K[Q]),Z=Math.min(q-Y,J.byteLength-Y);return f$.call(this,(0,J20.rebaseValueOffsets)(-Y,Q+1,K)),f$.call(this,J.subarray(Y,Y+Z)),this}function Iy($){let{length:Q,valueOffsets:J}=$;if(J){let{[0]:K,[Q]:Y}=J;return f$.call(this,(0,J20.rebaseValueOffsets)(-K,Q+1,J)),this.visit($.children[0].slice(K,Y-K))}return this.visit($.children[0])}function fy($){return this.visitMany($.type.children.map((Q,J)=>$.children[J]).filter(Boolean))[0]}K7.prototype.visitBool=Di0;K7.prototype.visitInt=_K;K7.prototype.visitFloat=_K;K7.prototype.visitUtf8=DC;K7.prototype.visitLargeUtf8=DC;K7.prototype.visitBinary=DC;K7.prototype.visitLargeBinary=DC;K7.prototype.visitFixedSizeBinary=_K;K7.prototype.visitDate=_K;K7.prototype.visitTimestamp=_K;K7.prototype.visitTime=_K;K7.prototype.visitDecimal=_K;K7.prototype.visitList=Iy;K7.prototype.visitStruct=fy;K7.prototype.visitUnion=Ti0;K7.prototype.visitInterval=_K;K7.prototype.visitDuration=_K;K7.prototype.visitFixedSizeList=Iy;K7.prototype.visitMap=Iy});var F20=w0((X20)=>{Object.defineProperty(X20,"__esModule",{value:!0});X20.JSONTypeAssembler=void 0;var Ci0=y4(),E7=MU(),CX=l6();class Z20 extends Ci0.Visitor{visit($){return $==null?void 0:super.visit($)}visitNull({typeId:$}){return{name:E7.Type[$].toLowerCase()}}visitInt({typeId:$,bitWidth:Q,isSigned:J}){return{name:E7.Type[$].toLowerCase(),bitWidth:Q,isSigned:J}}visitFloat({typeId:$,precision:Q}){return{name:E7.Type[$].toLowerCase(),precision:CX.Precision[Q]}}visitBinary({typeId:$}){return{name:E7.Type[$].toLowerCase()}}visitLargeBinary({typeId:$}){return{name:E7.Type[$].toLowerCase()}}visitBool({typeId:$}){return{name:E7.Type[$].toLowerCase()}}visitUtf8({typeId:$}){return{name:E7.Type[$].toLowerCase()}}visitLargeUtf8({typeId:$}){return{name:E7.Type[$].toLowerCase()}}visitDecimal({typeId:$,scale:Q,precision:J,bitWidth:K}){return{name:E7.Type[$].toLowerCase(),scale:Q,precision:J,bitWidth:K}}visitDate({typeId:$,unit:Q}){return{name:E7.Type[$].toLowerCase(),unit:CX.DateUnit[Q]}}visitTime({typeId:$,unit:Q,bitWidth:J}){return{name:E7.Type[$].toLowerCase(),unit:CX.TimeUnit[Q],bitWidth:J}}visitTimestamp({typeId:$,timezone:Q,unit:J}){return{name:E7.Type[$].toLowerCase(),unit:CX.TimeUnit[J],timezone:Q}}visitInterval({typeId:$,unit:Q}){return{name:E7.Type[$].toLowerCase(),unit:CX.IntervalUnit[Q]}}visitDuration({typeId:$,unit:Q}){return{name:E7.Type[$].toLocaleLowerCase(),unit:CX.TimeUnit[Q]}}visitList({typeId:$}){return{name:E7.Type[$].toLowerCase()}}visitStruct({typeId:$}){return{name:E7.Type[$].toLowerCase()}}visitUnion({typeId:$,mode:Q,typeIds:J}){return{name:E7.Type[$].toLowerCase(),mode:CX.UnionMode[Q].toUpperCase(),typeIds:[...J]}}visitDictionary($){return this.visit($.dictionary)}visitFixedSizeBinary({typeId:$,byteWidth:Q}){return{name:E7.Type[$].toLowerCase(),byteWidth:Q}}visitFixedSizeList({typeId:$,listSize:Q}){return{name:E7.Type[$].toLowerCase(),listSize:Q}}visitMap({typeId:$,keysSorted:Q}){return{name:E7.Type[$].toLowerCase(),keysSorted:Q}}}X20.JSONTypeAssembler=Z20});var N20=w0((U20)=>{Object.defineProperty(U20,"__esModule",{value:!0});U20.JSONVectorAssembler=void 0;var Pi0=PD(),iA=Z4(),ki0=y4(),ji0=l6(),My=l6(),CC=FX(),by=h6();class yy extends ki0.Visitor{static assemble(...$){let Q=new yy;return $.map(({schema:J,data:K})=>{return Q.visitMany(J.fields,K.children)})}visit({name:$},Q){let{length:J}=Q,{offset:K,nullCount:Y,nullBitmap:q}=Q,Z=by.DataType.isDictionary(Q.type)?Q.type.indices:Q.type,X=Object.assign([],Q.buffers,{[ji0.BufferType.VALIDITY]:void 0});return Object.assign({name:$,count:J,VALIDITY:by.DataType.isNull(Z)||by.DataType.isUnion(Z)?void 0:Y<=0?Array.from({length:J},()=>1):[...new CC.BitIterator(q,K,J,null,CC.getBit)]},super.visit(Q.clone(Z,K,J,0,X)))}visitNull(){return{}}visitBool({values:$,offset:Q,length:J}){return{DATA:[...new CC.BitIterator($,Q,J,null,CC.getBool)]}}visitInt($){return{DATA:$.type.bitWidth<64?[...$.values]:[...cq($.values,2)]}}visitFloat($){return{DATA:[...$.values]}}visitUtf8($){return{DATA:[...new iA.Vector([$])],OFFSET:[...$.valueOffsets]}}visitLargeUtf8($){return{DATA:[...new iA.Vector([$])],OFFSET:[...cq($.valueOffsets,2)]}}visitBinary($){return{DATA:[...gy(new iA.Vector([$]))],OFFSET:[...$.valueOffsets]}}visitLargeBinary($){return{DATA:[...gy(new iA.Vector([$]))],OFFSET:[...cq($.valueOffsets,2)]}}visitFixedSizeBinary($){return{DATA:[...gy(new iA.Vector([$]))]}}visitDate($){return{DATA:$.type.unit===My.DateUnit.DAY?[...$.values]:[...cq($.values,2)]}}visitTimestamp($){return{DATA:[...cq($.values,2)]}}visitTime($){return{DATA:$.type.unit<My.TimeUnit.MICROSECOND?[...$.values]:[...cq($.values,2)]}}visitDecimal($){return{DATA:[...cq($.values,4)]}}visitList($){return{OFFSET:[...$.valueOffsets],children:this.visitMany($.type.children,$.children)}}visitStruct($){return{children:this.visitMany($.type.children,$.children)}}visitUnion($){return{TYPE_ID:[...$.typeIds],OFFSET:$.type.mode===My.UnionMode.Dense?[...$.valueOffsets]:void 0,children:this.visitMany($.type.children,$.children)}}visitInterval($){return{DATA:[...$.values]}}visitDuration($){return{DATA:[...cq($.values,2)]}}visitFixedSizeList($){return{children:this.visitMany($.type.children,$.children)}}visitMap($){return{OFFSET:[...$.valueOffsets],children:this.visitMany($.type.children,$.children)}}}U20.JSONVectorAssembler=yy;function*gy($){for(let Q of $)yield Q.reduce((J,K)=>{return`${J}${("0"+(K&255).toString(16)).slice(-2)}`},"").toUpperCase()}function*cq($,Q){let J=new Uint32Array($.buffer);for(let K=-1,Y=J.length/Q;++K<Y;)yield`${Pi0.BN.new(J.subarray((K+0)*Q,(K+1)*Q),!1)}`}});var jC=w0((G20)=>{Object.defineProperty(G20,"__esModule",{value:!0});G20.RecordBatchJSONWriter=G20.RecordBatchFileWriter=G20.RecordBatchStreamWriter=G20.RecordBatchWriter=void 0;var B20=(b4(),j9(M4)),uy=aU(),Ei0=wC(),Li0=Z4(),hi0=h6(),PC=GX(),xy=GX(),YH=Zg(),my=l6(),z20=gA(),cy=vq(),A20=q20(),vi0=F20(),V20=N20(),Si0=t7(),kC=_q(),_i0=DA(),$J=Uq();class sA extends _i0.ReadableInterop{static throughNode($){throw Error('"throughNode" not available in this environment')}static throughDOM($,Q){throw Error('"throughDOM" not available in this environment')}constructor($){super();this._position=0,this._started=!1,this._sink=new cy.AsyncByteQueue,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,(0,$J.isObject)($)||($={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof $.autoDestroy==="boolean"?$.autoDestroy:!0,this._writeLegacyIpcFormat=typeof $.writeLegacyIpcFormat==="boolean"?$.writeLegacyIpcFormat:!1}toString($=!1){return this._sink.toString($)}toUint8Array($=!1){return this._sink.toUint8Array($)}writeAll($){if((0,$J.isPromise)($))return $.then((Q)=>this.writeAll(Q));else if((0,$J.isAsyncIterable)($))return ry(this,$);return ly(this,$)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream($){return this._sink.toDOMStream($)}toNodeStream($){return this._sink.toNodeStream($)}close(){return this.reset()._sink.close()}abort($){return this.reset()._sink.abort($)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset($=this._sink,Q=null){if($===this._sink||$ instanceof cy.AsyncByteQueue)this._sink=$;else if(this._sink=new cy.AsyncByteQueue,$&&(0,$J.isWritableDOMStream)($))this.toDOMStream({type:"bytes"}).pipeTo($);else if($&&(0,$J.isWritableNodeStream)($))this.toNodeStream({objectMode:!1}).pipe($);if(this._started&&this._schema)this._writeFooter(this._schema);if(this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,!Q||!(0,z20.compareSchemas)(Q,this._schema))if(Q==null)this._position=0,this._schema=null;else this._started=!0,this._schema=Q,this._writeSchema(Q);return this}write($){let Q=null;if(!this._sink)throw Error("RecordBatchWriter is closed");else if($==null)return this.finish()&&void 0;else if($ instanceof uy.Table&&!(Q=$.schema))return this.finish()&&void 0;else if($ instanceof kC.RecordBatch&&!(Q=$.schema))return this.finish()&&void 0;if(Q&&!(0,z20.compareSchemas)(Q,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,Q)}if($ instanceof kC.RecordBatch){if(!($ instanceof kC._InternalEmptyPlaceholderRecordBatch))this._writeRecordBatch($)}else if($ instanceof uy.Table)this.writeAll($.batches);else if((0,$J.isIterable)($))this.writeAll($)}_writeMessage($,Q=8){let J=Q-1,K=PC.Message.encode($),Y=K.byteLength,q=!this._writeLegacyIpcFormat?8:4,Z=Y+q+J&~J,X=Z-Y-q;if($.headerType===my.MessageHeader.RecordBatch)this._recordBatchBlocks.push(new YH.FileBlock(Z,$.bodyLength,this._position));else if($.headerType===my.MessageHeader.DictionaryBatch)this._dictionaryBlocks.push(new YH.FileBlock(Z,$.bodyLength,this._position));if(!this._writeLegacyIpcFormat)this._write(Int32Array.of(-1));if(this._write(Int32Array.of(Z-q)),Y>0)this._write(K);return this._writePadding(X)}_write($){if(this._started){let Q=(0,Si0.toUint8Array)($);if(Q&&Q.byteLength>0)this._sink.write(Q),this._position+=Q.byteLength}return this}_writeSchema($){return this._writeMessage(PC.Message.from($))}_writeFooter($){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Ei0.MAGIC)}_writePadding($){return $>0?this._write(new Uint8Array($)):this}_writeRecordBatch($){let{byteLength:Q,nodes:J,bufferRegions:K,buffers:Y}=A20.VectorAssembler.assemble($),q=new xy.RecordBatch($.numRows,J,K),Z=PC.Message.from(q,Q);return this._writeDictionaries($)._writeMessage(Z)._writeBodyBuffers(Y)}_writeDictionaryBatch($,Q,J=!1){let{byteLength:K,nodes:Y,bufferRegions:q,buffers:Z}=A20.VectorAssembler.assemble(new Li0.Vector([$])),X=new xy.RecordBatch($.length,Y,q),W=new xy.DictionaryBatch(X,Q,J),F=PC.Message.from(W,K);return this._writeMessage(F)._writeBodyBuffers(Z)}_writeBodyBuffers($){let Q,J,K;for(let Y=-1,q=$.length;++Y<q;)if((Q=$[Y])&&(J=Q.byteLength)>0){if(this._write(Q),(K=(J+7&-8)-J)>0)this._writePadding(K)}return this}_writeDictionaries($){var Q,J;for(let[K,Y]of $.dictionaries){let q=(Q=Y===null||Y===void 0?void 0:Y.data)!==null&&Q!==void 0?Q:[],Z=this._seenDictionaries.get(K),X=(J=this._dictionaryDeltaOffsets.get(K))!==null&&J!==void 0?J:0;if(!Z||Z.data[0]!==q[0])for(let[W,F]of q.entries())this._writeDictionaryBatch(F,K,W>0);else if(X<q.length)for(let W of q.slice(X))this._writeDictionaryBatch(W,K,!0);this._seenDictionaries.set(K,Y),this._dictionaryDeltaOffsets.set(K,q.length)}return this}}G20.RecordBatchWriter=sA;class py extends sA{static writeAll($,Q){let J=new py(Q);if((0,$J.isPromise)($))return $.then((K)=>J.writeAll(K));else if((0,$J.isAsyncIterable)($))return ry(J,$);return ly(J,$)}}G20.RecordBatchStreamWriter=py;class dy extends sA{static writeAll($){let Q=new dy;if((0,$J.isPromise)($))return $.then((J)=>Q.writeAll(J));else if((0,$J.isAsyncIterable)($))return ry(Q,$);return ly(Q,$)}constructor(){super();this._autoDestroy=!0}_writeSchema($){return this._writeMagic()._writePadding(2)}_writeDictionaryBatch($,Q,J=!1){if(!J&&this._seenDictionaries.has(Q))throw Error("The Arrow File format does not support replacement dictionaries. ");return super._writeDictionaryBatch($,Q,J)}_writeFooter($){let Q=YH.Footer.encode(new YH.Footer($,my.MetadataVersion.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter($)._write(Q)._write(Int32Array.of(Q.byteLength))._writeMagic()}}G20.RecordBatchFileWriter=dy;class ny extends sA{static writeAll($){return new ny().writeAll($)}constructor(){super();this._autoDestroy=!0,this._recordBatches=[],this._recordBatchesWithDictionaries=[]}_writeMessage(){return this}_writeFooter($){return this}_writeSchema($){return this._write(`{
  "schema": ${JSON.stringify({fields:$.fields.map((Q)=>R20(Q))},null,2)}`)}_writeDictionaries($){if($.dictionaries.size>0)this._recordBatchesWithDictionaries.push($);return this}_writeDictionaryBatch($,Q,J=!1){return this._write(this._dictionaryBlocks.length===0?"    ":`,
    `),this._write(fi0($,Q,J)),this._dictionaryBlocks.push(new YH.FileBlock(0,0,0)),this}_writeRecordBatch($){return this._writeDictionaries($),this._recordBatches.push($),this}close(){if(this._recordBatchesWithDictionaries.length>0){this._write(`,
  "dictionaries": [
`);for(let $ of this._recordBatchesWithDictionaries)super._writeDictionaries($);this._write(`
  ]`)}if(this._recordBatches.length>0){for(let $=-1,Q=this._recordBatches.length;++$<Q;)this._write($===0?`,
  "batches": [
    `:`,
    `),this._write(Ii0(this._recordBatches[$])),this._recordBatchBlocks.push(new YH.FileBlock(0,0,0));this._write(`
  ]`)}if(this._schema)this._write(`
}`);return this._recordBatchesWithDictionaries=[],this._recordBatches=[],super.close()}}G20.RecordBatchJSONWriter=ny;function ly($,Q){let J=Q;if(Q instanceof uy.Table)J=Q.batches,$.reset(void 0,Q.schema);for(let K of J)$.write(K);return $.finish()}function ry($,Q){return B20.__awaiter(this,void 0,void 0,function*(){var J,K,Y,q,Z,X,W;try{for(J=!0,K=B20.__asyncValues(Q);Y=yield K.next(),q=Y.done,!q;J=!0){W=Y.value,J=!1;let F=W;$.write(F)}}catch(F){Z={error:F}}finally{try{if(!J&&!q&&(X=K.return))yield X.call(K)}finally{if(Z)throw Z.error}}return $.finish()})}function R20({name:$,type:Q,nullable:J}){let K=new vi0.JSONTypeAssembler;return{name:$,nullable:J,type:K.visit(Q),children:(Q.children||[]).map((Y)=>R20(Y)),dictionary:!hi0.DataType.isDictionary(Q)?void 0:{id:Q.id,isOrdered:Q.isOrdered,indexType:K.visit(Q.indices)}}}function fi0($,Q,J=!1){let[K]=V20.JSONVectorAssembler.assemble(new kC.RecordBatch({[Q]:$}));return JSON.stringify({id:Q,isDelta:J,data:{count:$.length,columns:K}},null,2)}function Ii0($){let[Q]=V20.JSONVectorAssembler.assemble($);return JSON.stringify({count:$.numRows,columns:Q},null,2)}});var P20=w0((D20)=>{Object.defineProperty(D20,"__esModule",{value:!0});D20.toDOMStream=void 0;var EC=(b4(),j9(M4)),T20=t7(),O20=Uq();function yi0($,Q){if((0,O20.isAsyncIterable)($))return ci0($,Q);if((0,O20.isIterable)($))return xi0($,Q);throw Error("toDOMStream() must be called with an Iterable or AsyncIterable")}D20.toDOMStream=yi0;function xi0($,Q){let J=null,K=(Q===null||Q===void 0?void 0:Q.type)==="bytes"||!1,Y=(Q===null||Q===void 0?void 0:Q.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},Q),{start(Z){q(Z,J||(J=$[Symbol.iterator]()))},pull(Z){J?q(Z,J):Z.close()},cancel(){((J===null||J===void 0?void 0:J.return)&&J.return()||!0)&&(J=null)}}),Object.assign({highWaterMark:K?Y:void 0},Q));function q(Z,X){let W,F=null,H=Z.desiredSize||null;while(!(F=X.next(K?H:null)).done){if(ArrayBuffer.isView(F.value)&&(W=(0,T20.toUint8Array)(F.value)))H!=null&&K&&(H=H-W.byteLength+1),F.value=W;if(Z.enqueue(F.value),H!=null&&--H<=0)return}Z.close()}}function ci0($,Q){let J=null,K=(Q===null||Q===void 0?void 0:Q.type)==="bytes"||!1,Y=(Q===null||Q===void 0?void 0:Q.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},Q),{start(Z){return EC.__awaiter(this,void 0,void 0,function*(){yield q(Z,J||(J=$[Symbol.asyncIterator]()))})},pull(Z){return EC.__awaiter(this,void 0,void 0,function*(){J?yield q(Z,J):Z.close()})},cancel(){return EC.__awaiter(this,void 0,void 0,function*(){((J===null||J===void 0?void 0:J.return)&&(yield J.return())||!0)&&(J=null)})}}),Object.assign({highWaterMark:K?Y:void 0},Q));function q(Z,X){return EC.__awaiter(this,void 0,void 0,function*(){let W,F=null,H=Z.desiredSize||null;while(!(F=yield X.next(K?H:null)).done){if(ArrayBuffer.isView(F.value)&&(W=(0,T20.toUint8Array)(F.value)))H!=null&&K&&(H=H-W.byteLength+1),F.value=W;if(Z.enqueue(F.value),H!=null&&--H<=0)return}Z.close()})}}});var h20=w0((E20)=>{Object.defineProperty(E20,"__esModule",{value:!0});E20.BuilderTransform=E20.builderThroughDOMStream=void 0;var ui0=(b4(),j9(M4)),mi0=kA();function pi0($){return new iy($)}E20.builderThroughDOMStream=pi0;class iy{constructor($){this._numChunks=0,this._finished=!1,this._bufferedSize=0;let{["readableStrategy"]:Q,["writableStrategy"]:J,["queueingStrategy"]:K="count"}=$,Y=ui0.__rest($,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=(0,mi0.makeBuilder)(Y),this._getSize=K!=="bytes"?k20:j20;let{["highWaterMark"]:q=K==="bytes"?Math.pow(2,14):1000}=Object.assign({},Q),{["highWaterMark"]:Z=K==="bytes"?Math.pow(2,14):1000}=Object.assign({},J);this.readable=new ReadableStream({["cancel"]:()=>{this._builder.clear()},["pull"]:(X)=>{this._maybeFlush(this._builder,this._controller=X)},["start"]:(X)=>{this._maybeFlush(this._builder,this._controller=X)}},{highWaterMark:q,size:K!=="bytes"?k20:j20}),this.writable=new WritableStream({["abort"]:()=>{this._builder.clear()},["write"]:()=>{this._maybeFlush(this._builder,this._controller)},["close"]:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:Z,size:(X)=>this._writeValueAndReturnChunkSize(X)})}_writeValueAndReturnChunkSize($){let Q=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append($)),this._bufferedSize-Q}_maybeFlush($,Q){if(Q==null)return;if(this._bufferedSize>=Q.desiredSize)++this._numChunks&&this._enqueue(Q,$.toVector());if($.finished){if($.length>0||this._numChunks===0)++this._numChunks&&this._enqueue(Q,$.toVector());if(!this._finished&&(this._finished=!0))this._enqueue(Q,null)}}_enqueue($,Q){this._bufferedSize=0,this._controller=null,Q==null?$.close():$.enqueue(Q)}}E20.BuilderTransform=iy;var k20=($)=>{var Q;return(Q=$===null||$===void 0?void 0:$.length)!==null&&Q!==void 0?Q:0},j20=($)=>{var Q;return(Q=$===null||$===void 0?void 0:$.byteLength)!==null&&Q!==void 0?Q:0}});var _20=w0((v20)=>{Object.defineProperty(v20,"__esModule",{value:!0});v20.recordBatchReaderThroughDOMStream=void 0;var oA=(b4(),j9(M4)),ni0=vq(),li0=rA();function ri0($,Q){let J=new ni0.AsyncByteQueue,K=null,Y=new ReadableStream({cancel(){return oA.__awaiter(this,void 0,void 0,function*(){yield J.close()})},start(X){return oA.__awaiter(this,void 0,void 0,function*(){yield Z(X,K||(K=yield q()))})},pull(X){return oA.__awaiter(this,void 0,void 0,function*(){K?yield Z(X,K):X.close()})}});return{writable:new WritableStream(J,Object.assign({highWaterMark:Math.pow(2,14)},$)),readable:Y};function q(){return oA.__awaiter(this,void 0,void 0,function*(){return yield(yield li0.RecordBatchReader.from(J)).open(Q)})}function Z(X,W){return oA.__awaiter(this,void 0,void 0,function*(){let F=X.desiredSize,H=null;while(!(H=yield W.next()).done)if(X.enqueue(H.value),F!=null&&--F<=0)return;X.close()})}}v20.recordBatchReaderThroughDOMStream=ri0});var M20=w0((f20)=>{Object.defineProperty(f20,"__esModule",{value:!0});f20.recordBatchWriterThroughDOMStream=void 0;var LC=(b4(),j9(M4)),ii0=vq();function si0($,Q){let J=new this($),K=new ii0.AsyncByteStream(J),Y=new ReadableStream({cancel(){return LC.__awaiter(this,void 0,void 0,function*(){yield K.cancel()})},pull(Z){return LC.__awaiter(this,void 0,void 0,function*(){yield q(Z)})},start(Z){return LC.__awaiter(this,void 0,void 0,function*(){yield q(Z)})}},Object.assign({highWaterMark:Math.pow(2,14)},Q));return{writable:new WritableStream(J,$),readable:Y};function q(Z){return LC.__awaiter(this,void 0,void 0,function*(){let X=null,W=Z.desiredSize;while(X=yield K.read(W||null))if(Z.enqueue(X),W!=null&&(W-=X.byteLength)<=0)return;Z.close()})}}f20.recordBatchWriterThroughDOMStream=si0});var u20=w0((x20)=>{Object.defineProperty(x20,"__esModule",{value:!0});x20.tableToIPC=x20.tableFromIPC=void 0;var b20=aU(),oi0=Uq(),ai0=rA(),g20=jC();function y20($){let Q=ai0.RecordBatchReader.from($);if((0,oi0.isPromise)(Q))return Q.then((J)=>y20(J));if(Q.isAsync())return Q.readAll().then((J)=>new b20.Table(J));return new b20.Table(Q.readAll())}x20.tableFromIPC=y20;function ti0($,Q="stream"){return(Q==="stream"?g20.RecordBatchStreamWriter:g20.RecordBatchFileWriter).writeAll($).toUint8Array(!0)}x20.tableToIPC=ti0});var Jx=w0((R0)=>{Object.defineProperty(R0,"__esModule",{value:!0});R0.DenseUnion=R0.Union=R0.Struct=R0.List=R0.Decimal=R0.TimeNanosecond=R0.TimeMicrosecond=R0.TimeMillisecond=R0.TimeSecond=R0.Time=R0.TimestampNanosecond=R0.TimestampMicrosecond=R0.TimestampMillisecond=R0.TimestampSecond=R0.Timestamp=R0.DateMillisecond=R0.DateDay=R0.Date_=R0.FixedSizeBinary=R0.LargeBinary=R0.Binary=R0.LargeUtf8=R0.Utf8=R0.Float64=R0.Float32=R0.Float16=R0.Float=R0.Uint64=R0.Uint32=R0.Uint16=R0.Uint8=R0.Int64=R0.Int32=R0.Int16=R0.Int8=R0.Int=R0.Bool=R0.Null=R0.DataType=R0.makeData=R0.Data=R0.MetadataVersion=R0.IntervalUnit=R0.UnionMode=R0.Precision=R0.TimeUnit=R0.DateUnit=R0.BufferType=R0.Type=R0.MessageHeader=void 0;R0.TimeBuilder=R0.Uint64Builder=R0.Uint32Builder=R0.Uint16Builder=R0.Uint8Builder=R0.Int64Builder=R0.Int32Builder=R0.Int16Builder=R0.Int8Builder=R0.IntBuilder=R0.Float64Builder=R0.Float32Builder=R0.Float16Builder=R0.FloatBuilder=R0.FixedSizeBinaryBuilder=R0.DictionaryBuilder=R0.DecimalBuilder=R0.DateMillisecondBuilder=R0.DateDayBuilder=R0.DateBuilder=R0.NullBuilder=R0.BoolBuilder=R0.builderThroughAsyncIterable=R0.builderThroughIterable=R0.tableFromJSON=R0.vectorFromArray=R0.makeBuilder=R0.Builder=R0.StructRow=R0.MapRow=R0.Field=R0.Schema=R0.Visitor=R0.makeVector=R0.Vector=R0.tableFromArrays=R0.makeTable=R0.Table=R0.Map_=R0.FixedSizeList=R0.DurationNanosecond=R0.DurationMicrosecond=R0.DurationMillisecond=R0.DurationSecond=R0.Duration=R0.IntervalYearMonth=R0.IntervalDayTime=R0.Interval=R0.Dictionary=R0.SparseUnion=void 0;R0.util=R0.RecordBatch=R0.Message=R0.JSONMessageReader=R0.AsyncMessageReader=R0.MessageReader=R0.tableFromIPC=R0.tableToIPC=R0.RecordBatchJSONWriter=R0.RecordBatchStreamWriter=R0.RecordBatchFileWriter=R0.RecordBatchWriter=R0.AsyncRecordBatchStreamReader=R0.AsyncRecordBatchFileReader=R0.RecordBatchStreamReader=R0.RecordBatchFileReader=R0.RecordBatchReader=R0.AsyncByteQueue=R0.AsyncByteStream=R0.ByteStream=R0.DenseUnionBuilder=R0.SparseUnionBuilder=R0.UnionBuilder=R0.StructBuilder=R0.MapBuilder=R0.FixedSizeListBuilder=R0.ListBuilder=R0.LargeBinaryBuilder=R0.BinaryBuilder=R0.LargeUtf8Builder=R0.Utf8Builder=R0.DurationNanosecondBuilder=R0.DurationMicrosecondBuilder=R0.DurationMillisecondBuilder=R0.DurationSecondBuilder=R0.DurationBuilder=R0.IntervalYearMonthBuilder=R0.IntervalDayTimeBuilder=R0.IntervalBuilder=R0.TimestampNanosecondBuilder=R0.TimestampMicrosecondBuilder=R0.TimestampMillisecondBuilder=R0.TimestampSecondBuilder=R0.TimestampBuilder=R0.TimeNanosecondBuilder=R0.TimeMicrosecondBuilder=R0.TimeMillisecondBuilder=R0.TimeSecondBuilder=void 0;var $s0=TD();Object.defineProperty(R0,"MessageHeader",{enumerable:!0,get:function(){return $s0.MessageHeader}});var uq=l6();Object.defineProperty(R0,"Type",{enumerable:!0,get:function(){return uq.Type}});Object.defineProperty(R0,"BufferType",{enumerable:!0,get:function(){return uq.BufferType}});Object.defineProperty(R0,"DateUnit",{enumerable:!0,get:function(){return uq.DateUnit}});Object.defineProperty(R0,"TimeUnit",{enumerable:!0,get:function(){return uq.TimeUnit}});Object.defineProperty(R0,"Precision",{enumerable:!0,get:function(){return uq.Precision}});Object.defineProperty(R0,"UnionMode",{enumerable:!0,get:function(){return uq.UnionMode}});Object.defineProperty(R0,"IntervalUnit",{enumerable:!0,get:function(){return uq.IntervalUnit}});Object.defineProperty(R0,"MetadataVersion",{enumerable:!0,get:function(){return uq.MetadataVersion}});var m20=nQ();Object.defineProperty(R0,"Data",{enumerable:!0,get:function(){return m20.Data}});Object.defineProperty(R0,"makeData",{enumerable:!0,get:function(){return m20.makeData}});var c1=h6();Object.defineProperty(R0,"DataType",{enumerable:!0,get:function(){return c1.DataType}});Object.defineProperty(R0,"Null",{enumerable:!0,get:function(){return c1.Null}});Object.defineProperty(R0,"Bool",{enumerable:!0,get:function(){return c1.Bool}});Object.defineProperty(R0,"Int",{enumerable:!0,get:function(){return c1.Int}});Object.defineProperty(R0,"Int8",{enumerable:!0,get:function(){return c1.Int8}});Object.defineProperty(R0,"Int16",{enumerable:!0,get:function(){return c1.Int16}});Object.defineProperty(R0,"Int32",{enumerable:!0,get:function(){return c1.Int32}});Object.defineProperty(R0,"Int64",{enumerable:!0,get:function(){return c1.Int64}});Object.defineProperty(R0,"Uint8",{enumerable:!0,get:function(){return c1.Uint8}});Object.defineProperty(R0,"Uint16",{enumerable:!0,get:function(){return c1.Uint16}});Object.defineProperty(R0,"Uint32",{enumerable:!0,get:function(){return c1.Uint32}});Object.defineProperty(R0,"Uint64",{enumerable:!0,get:function(){return c1.Uint64}});Object.defineProperty(R0,"Float",{enumerable:!0,get:function(){return c1.Float}});Object.defineProperty(R0,"Float16",{enumerable:!0,get:function(){return c1.Float16}});Object.defineProperty(R0,"Float32",{enumerable:!0,get:function(){return c1.Float32}});Object.defineProperty(R0,"Float64",{enumerable:!0,get:function(){return c1.Float64}});Object.defineProperty(R0,"Utf8",{enumerable:!0,get:function(){return c1.Utf8}});Object.defineProperty(R0,"LargeUtf8",{enumerable:!0,get:function(){return c1.LargeUtf8}});Object.defineProperty(R0,"Binary",{enumerable:!0,get:function(){return c1.Binary}});Object.defineProperty(R0,"LargeBinary",{enumerable:!0,get:function(){return c1.LargeBinary}});Object.defineProperty(R0,"FixedSizeBinary",{enumerable:!0,get:function(){return c1.FixedSizeBinary}});Object.defineProperty(R0,"Date_",{enumerable:!0,get:function(){return c1.Date_}});Object.defineProperty(R0,"DateDay",{enumerable:!0,get:function(){return c1.DateDay}});Object.defineProperty(R0,"DateMillisecond",{enumerable:!0,get:function(){return c1.DateMillisecond}});Object.defineProperty(R0,"Timestamp",{enumerable:!0,get:function(){return c1.Timestamp}});Object.defineProperty(R0,"TimestampSecond",{enumerable:!0,get:function(){return c1.TimestampSecond}});Object.defineProperty(R0,"TimestampMillisecond",{enumerable:!0,get:function(){return c1.TimestampMillisecond}});Object.defineProperty(R0,"TimestampMicrosecond",{enumerable:!0,get:function(){return c1.TimestampMicrosecond}});Object.defineProperty(R0,"TimestampNanosecond",{enumerable:!0,get:function(){return c1.TimestampNanosecond}});Object.defineProperty(R0,"Time",{enumerable:!0,get:function(){return c1.Time}});Object.defineProperty(R0,"TimeSecond",{enumerable:!0,get:function(){return c1.TimeSecond}});Object.defineProperty(R0,"TimeMillisecond",{enumerable:!0,get:function(){return c1.TimeMillisecond}});Object.defineProperty(R0,"TimeMicrosecond",{enumerable:!0,get:function(){return c1.TimeMicrosecond}});Object.defineProperty(R0,"TimeNanosecond",{enumerable:!0,get:function(){return c1.TimeNanosecond}});Object.defineProperty(R0,"Decimal",{enumerable:!0,get:function(){return c1.Decimal}});Object.defineProperty(R0,"List",{enumerable:!0,get:function(){return c1.List}});Object.defineProperty(R0,"Struct",{enumerable:!0,get:function(){return c1.Struct}});Object.defineProperty(R0,"Union",{enumerable:!0,get:function(){return c1.Union}});Object.defineProperty(R0,"DenseUnion",{enumerable:!0,get:function(){return c1.DenseUnion}});Object.defineProperty(R0,"SparseUnion",{enumerable:!0,get:function(){return c1.SparseUnion}});Object.defineProperty(R0,"Dictionary",{enumerable:!0,get:function(){return c1.Dictionary}});Object.defineProperty(R0,"Interval",{enumerable:!0,get:function(){return c1.Interval}});Object.defineProperty(R0,"IntervalDayTime",{enumerable:!0,get:function(){return c1.IntervalDayTime}});Object.defineProperty(R0,"IntervalYearMonth",{enumerable:!0,get:function(){return c1.IntervalYearMonth}});Object.defineProperty(R0,"Duration",{enumerable:!0,get:function(){return c1.Duration}});Object.defineProperty(R0,"DurationSecond",{enumerable:!0,get:function(){return c1.DurationSecond}});Object.defineProperty(R0,"DurationMillisecond",{enumerable:!0,get:function(){return c1.DurationMillisecond}});Object.defineProperty(R0,"DurationMicrosecond",{enumerable:!0,get:function(){return c1.DurationMicrosecond}});Object.defineProperty(R0,"DurationNanosecond",{enumerable:!0,get:function(){return c1.DurationNanosecond}});Object.defineProperty(R0,"FixedSizeList",{enumerable:!0,get:function(){return c1.FixedSizeList}});Object.defineProperty(R0,"Map_",{enumerable:!0,get:function(){return c1.Map_}});var oy=aU();Object.defineProperty(R0,"Table",{enumerable:!0,get:function(){return oy.Table}});Object.defineProperty(R0,"makeTable",{enumerable:!0,get:function(){return oy.makeTable}});Object.defineProperty(R0,"tableFromArrays",{enumerable:!0,get:function(){return oy.tableFromArrays}});var p20=Z4();Object.defineProperty(R0,"Vector",{enumerable:!0,get:function(){return p20.Vector}});Object.defineProperty(R0,"makeVector",{enumerable:!0,get:function(){return p20.makeVector}});var Qs0=y4();Object.defineProperty(R0,"Visitor",{enumerable:!0,get:function(){return Qs0.Visitor}});var d20=u4();Object.defineProperty(R0,"Schema",{enumerable:!0,get:function(){return d20.Schema}});Object.defineProperty(R0,"Field",{enumerable:!0,get:function(){return d20.Field}});var Js0=RA();Object.defineProperty(R0,"MapRow",{enumerable:!0,get:function(){return Js0.MapRow}});var Ks0=xD();Object.defineProperty(R0,"StructRow",{enumerable:!0,get:function(){return Ks0.StructRow}});var Ys0=y6();Object.defineProperty(R0,"Builder",{enumerable:!0,get:function(){return Ys0.Builder}});var aA=kA();Object.defineProperty(R0,"makeBuilder",{enumerable:!0,get:function(){return aA.makeBuilder}});Object.defineProperty(R0,"vectorFromArray",{enumerable:!0,get:function(){return aA.vectorFromArray}});Object.defineProperty(R0,"tableFromJSON",{enumerable:!0,get:function(){return aA.tableFromJSON}});Object.defineProperty(R0,"builderThroughIterable",{enumerable:!0,get:function(){return aA.builderThroughIterable}});Object.defineProperty(R0,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return aA.builderThroughAsyncIterable}});var qs0=Ag();Object.defineProperty(R0,"BoolBuilder",{enumerable:!0,get:function(){return qs0.BoolBuilder}});var Zs0=xg();Object.defineProperty(R0,"NullBuilder",{enumerable:!0,get:function(){return Zs0.NullBuilder}});var ay=wg();Object.defineProperty(R0,"DateBuilder",{enumerable:!0,get:function(){return ay.DateBuilder}});Object.defineProperty(R0,"DateDayBuilder",{enumerable:!0,get:function(){return ay.DateDayBuilder}});Object.defineProperty(R0,"DateMillisecondBuilder",{enumerable:!0,get:function(){return ay.DateMillisecondBuilder}});var Xs0=Tg();Object.defineProperty(R0,"DecimalBuilder",{enumerable:!0,get:function(){return Xs0.DecimalBuilder}});var Ws0=Dg();Object.defineProperty(R0,"DictionaryBuilder",{enumerable:!0,get:function(){return Ws0.DictionaryBuilder}});var Fs0=Pg();Object.defineProperty(R0,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return Fs0.FixedSizeBinaryBuilder}});var hC=jg();Object.defineProperty(R0,"FloatBuilder",{enumerable:!0,get:function(){return hC.FloatBuilder}});Object.defineProperty(R0,"Float16Builder",{enumerable:!0,get:function(){return hC.Float16Builder}});Object.defineProperty(R0,"Float32Builder",{enumerable:!0,get:function(){return hC.Float32Builder}});Object.defineProperty(R0,"Float64Builder",{enumerable:!0,get:function(){return hC.Float64Builder}});var fK=bg();Object.defineProperty(R0,"IntBuilder",{enumerable:!0,get:function(){return fK.IntBuilder}});Object.defineProperty(R0,"Int8Builder",{enumerable:!0,get:function(){return fK.Int8Builder}});Object.defineProperty(R0,"Int16Builder",{enumerable:!0,get:function(){return fK.Int16Builder}});Object.defineProperty(R0,"Int32Builder",{enumerable:!0,get:function(){return fK.Int32Builder}});Object.defineProperty(R0,"Int64Builder",{enumerable:!0,get:function(){return fK.Int64Builder}});Object.defineProperty(R0,"Uint8Builder",{enumerable:!0,get:function(){return fK.Uint8Builder}});Object.defineProperty(R0,"Uint16Builder",{enumerable:!0,get:function(){return fK.Uint16Builder}});Object.defineProperty(R0,"Uint32Builder",{enumerable:!0,get:function(){return fK.Uint32Builder}});Object.defineProperty(R0,"Uint64Builder",{enumerable:!0,get:function(){return fK.Uint64Builder}});var tA=og();Object.defineProperty(R0,"TimeBuilder",{enumerable:!0,get:function(){return tA.TimeBuilder}});Object.defineProperty(R0,"TimeSecondBuilder",{enumerable:!0,get:function(){return tA.TimeSecondBuilder}});Object.defineProperty(R0,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return tA.TimeMillisecondBuilder}});Object.defineProperty(R0,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return tA.TimeMicrosecondBuilder}});Object.defineProperty(R0,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return tA.TimeNanosecondBuilder}});var eA=ng();Object.defineProperty(R0,"TimestampBuilder",{enumerable:!0,get:function(){return eA.TimestampBuilder}});Object.defineProperty(R0,"TimestampSecondBuilder",{enumerable:!0,get:function(){return eA.TimestampSecondBuilder}});Object.defineProperty(R0,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return eA.TimestampMillisecondBuilder}});Object.defineProperty(R0,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return eA.TimestampMicrosecondBuilder}});Object.defineProperty(R0,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return eA.TimestampNanosecondBuilder}});var ty=vg();Object.defineProperty(R0,"IntervalBuilder",{enumerable:!0,get:function(){return ty.IntervalBuilder}});Object.defineProperty(R0,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return ty.IntervalDayTimeBuilder}});Object.defineProperty(R0,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return ty.IntervalYearMonthBuilder}});var $V=Mg();Object.defineProperty(R0,"DurationBuilder",{enumerable:!0,get:function(){return $V.DurationBuilder}});Object.defineProperty(R0,"DurationSecondBuilder",{enumerable:!0,get:function(){return $V.DurationSecondBuilder}});Object.defineProperty(R0,"DurationMillisecondBuilder",{enumerable:!0,get:function(){return $V.DurationMillisecondBuilder}});Object.defineProperty(R0,"DurationMicrosecondBuilder",{enumerable:!0,get:function(){return $V.DurationMicrosecondBuilder}});Object.defineProperty(R0,"DurationNanosecondBuilder",{enumerable:!0,get:function(){return $V.DurationNanosecondBuilder}});var Us0=eg();Object.defineProperty(R0,"Utf8Builder",{enumerable:!0,get:function(){return Us0.Utf8Builder}});var Hs0=Qy();Object.defineProperty(R0,"LargeUtf8Builder",{enumerable:!0,get:function(){return Hs0.LargeUtf8Builder}});var Ns0=JC();Object.defineProperty(R0,"BinaryBuilder",{enumerable:!0,get:function(){return Ns0.BinaryBuilder}});var Bs0=KC();Object.defineProperty(R0,"LargeBinaryBuilder",{enumerable:!0,get:function(){return Bs0.LargeBinaryBuilder}});var zs0=gg();Object.defineProperty(R0,"ListBuilder",{enumerable:!0,get:function(){return zs0.ListBuilder}});var As0=kg();Object.defineProperty(R0,"FixedSizeListBuilder",{enumerable:!0,get:function(){return As0.FixedSizeListBuilder}});var Vs0=yg();Object.defineProperty(R0,"MapBuilder",{enumerable:!0,get:function(){return Vs0.MapBuilder}});var Rs0=cg();Object.defineProperty(R0,"StructBuilder",{enumerable:!0,get:function(){return Rs0.StructBuilder}});var ey=ag();Object.defineProperty(R0,"UnionBuilder",{enumerable:!0,get:function(){return ey.UnionBuilder}});Object.defineProperty(R0,"SparseUnionBuilder",{enumerable:!0,get:function(){return ey.SparseUnionBuilder}});Object.defineProperty(R0,"DenseUnionBuilder",{enumerable:!0,get:function(){return ey.DenseUnionBuilder}});var $x=vq();Object.defineProperty(R0,"ByteStream",{enumerable:!0,get:function(){return $x.ByteStream}});Object.defineProperty(R0,"AsyncByteStream",{enumerable:!0,get:function(){return $x.AsyncByteStream}});Object.defineProperty(R0,"AsyncByteQueue",{enumerable:!0,get:function(){return $x.AsyncByteQueue}});var QV=rA();Object.defineProperty(R0,"RecordBatchReader",{enumerable:!0,get:function(){return QV.RecordBatchReader}});Object.defineProperty(R0,"RecordBatchFileReader",{enumerable:!0,get:function(){return QV.RecordBatchFileReader}});Object.defineProperty(R0,"RecordBatchStreamReader",{enumerable:!0,get:function(){return QV.RecordBatchStreamReader}});Object.defineProperty(R0,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return QV.AsyncRecordBatchFileReader}});Object.defineProperty(R0,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return QV.AsyncRecordBatchStreamReader}});var vC=jC();Object.defineProperty(R0,"RecordBatchWriter",{enumerable:!0,get:function(){return vC.RecordBatchWriter}});Object.defineProperty(R0,"RecordBatchFileWriter",{enumerable:!0,get:function(){return vC.RecordBatchFileWriter}});Object.defineProperty(R0,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return vC.RecordBatchStreamWriter}});Object.defineProperty(R0,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return vC.RecordBatchJSONWriter}});var n20=u20();Object.defineProperty(R0,"tableToIPC",{enumerable:!0,get:function(){return n20.tableToIPC}});Object.defineProperty(R0,"tableFromIPC",{enumerable:!0,get:function(){return n20.tableFromIPC}});var Qx=wC();Object.defineProperty(R0,"MessageReader",{enumerable:!0,get:function(){return Qx.MessageReader}});Object.defineProperty(R0,"AsyncMessageReader",{enumerable:!0,get:function(){return Qx.AsyncMessageReader}});Object.defineProperty(R0,"JSONMessageReader",{enumerable:!0,get:function(){return Qx.JSONMessageReader}});var Gs0=GX();Object.defineProperty(R0,"Message",{enumerable:!0,get:function(){return Gs0.Message}});var ws0=_q();Object.defineProperty(R0,"RecordBatch",{enumerable:!0,get:function(){return ws0.RecordBatch}});var Os0=PD(),Ts0=Bg(),Ds0=FX(),Cs0=VA(),Ps0=t7(),ks0=nU(),js0=zA(),sy=gA();R0.util=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Os0),Ts0),Ds0),Cs0),Ps0),ks0),js0),{compareSchemas:sy.compareSchemas,compareFields:sy.compareFields,compareTypes:sy.compareTypes})});var SC=w0((V0)=>{Object.defineProperty(V0,"__esModule",{value:!0});V0.Union=V0.StructRow=V0.Struct=V0.List=V0.Decimal=V0.TimeNanosecond=V0.TimeMicrosecond=V0.TimeMillisecond=V0.TimeSecond=V0.Time=V0.TimestampNanosecond=V0.TimestampMicrosecond=V0.TimestampMillisecond=V0.TimestampSecond=V0.Timestamp=V0.DateMillisecond=V0.DateDay=V0.Date_=V0.FixedSizeBinary=V0.LargeBinary=V0.Binary=V0.LargeUtf8=V0.Utf8=V0.Float64=V0.Float32=V0.Float16=V0.Float=V0.Uint64=V0.Uint32=V0.Uint16=V0.Uint8=V0.Int64=V0.Int32=V0.Int16=V0.Int8=V0.Int=V0.Bool=V0.Null=V0.DataType=V0.makeData=V0.Data=V0.BufferType=V0.UnionMode=V0.Type=V0.TimeUnit=V0.Precision=V0.MetadataVersion=V0.MessageHeader=V0.IntervalUnit=V0.DateUnit=void 0;V0.LargeBinaryBuilder=V0.BinaryBuilder=V0.builderThroughAsyncIterable=V0.builderThroughIterable=V0.makeBuilder=V0.Builder=V0.util=V0.RecordBatch=V0.Message=V0.JSONMessageReader=V0.AsyncMessageReader=V0.MessageReader=V0.tableToIPC=V0.tableFromIPC=V0.RecordBatchJSONWriter=V0.RecordBatchStreamWriter=V0.RecordBatchFileWriter=V0.RecordBatchWriter=V0.AsyncRecordBatchStreamReader=V0.AsyncRecordBatchFileReader=V0.RecordBatchStreamReader=V0.RecordBatchFileReader=V0.RecordBatchReader=V0.AsyncByteQueue=V0.AsyncByteStream=V0.ByteStream=V0.tableFromJSON=V0.vectorFromArray=V0.makeVector=V0.Vector=V0.Visitor=V0.Field=V0.Schema=V0.tableFromArrays=V0.makeTable=V0.Table=V0.MapRow=V0.Map_=V0.FixedSizeList=V0.DurationNanosecond=V0.DurationMicrosecond=V0.DurationMillisecond=V0.DurationSecond=V0.Duration=V0.IntervalYearMonth=V0.IntervalDayTime=V0.Interval=V0.Dictionary=V0.SparseUnion=V0.DenseUnion=void 0;V0.LargeUtf8Builder=V0.Utf8Builder=V0.SparseUnionBuilder=V0.DenseUnionBuilder=V0.UnionBuilder=V0.TimeNanosecondBuilder=V0.TimeMicrosecondBuilder=V0.TimeMillisecondBuilder=V0.TimeSecondBuilder=V0.TimeBuilder=V0.TimestampNanosecondBuilder=V0.TimestampMicrosecondBuilder=V0.TimestampMillisecondBuilder=V0.TimestampSecondBuilder=V0.TimestampBuilder=V0.StructBuilder=V0.NullBuilder=V0.MapBuilder=V0.ListBuilder=V0.Uint64Builder=V0.Uint32Builder=V0.Uint16Builder=V0.Uint8Builder=V0.Int64Builder=V0.Int32Builder=V0.Int16Builder=V0.Int8Builder=V0.IntBuilder=V0.DurationNanosecondBuilder=V0.DurationMicrosecondBuilder=V0.DurationMillisecondBuilder=V0.DurationSecondBuilder=V0.DurationBuilder=V0.IntervalYearMonthBuilder=V0.IntervalDayTimeBuilder=V0.IntervalBuilder=V0.Float64Builder=V0.Float32Builder=V0.Float16Builder=V0.FloatBuilder=V0.FixedSizeListBuilder=V0.FixedSizeBinaryBuilder=V0.DictionaryBuilder=V0.DecimalBuilder=V0.DateMillisecondBuilder=V0.DateDayBuilder=V0.DateBuilder=V0.BoolBuilder=void 0;var hs0=HA(),vs0=y6(),Kx=rA(),Yx=jC(),Ss0=P20(),_s0=h20(),qx=_20(),Zx=M20();hs0.default.toDOMStream=Ss0.toDOMStream;vs0.Builder.throughDOM=_s0.builderThroughDOMStream;Kx.RecordBatchReader.throughDOM=qx.recordBatchReaderThroughDOMStream;Kx.RecordBatchFileReader.throughDOM=qx.recordBatchReaderThroughDOMStream;Kx.RecordBatchStreamReader.throughDOM=qx.recordBatchReaderThroughDOMStream;Yx.RecordBatchWriter.throughDOM=Zx.recordBatchWriterThroughDOMStream;Yx.RecordBatchFileWriter.throughDOM=Zx.recordBatchWriterThroughDOMStream;Yx.RecordBatchStreamWriter.throughDOM=Zx.recordBatchWriterThroughDOMStream;var p0=Jx();Object.defineProperty(V0,"DateUnit",{enumerable:!0,get:function(){return p0.DateUnit}});Object.defineProperty(V0,"IntervalUnit",{enumerable:!0,get:function(){return p0.IntervalUnit}});Object.defineProperty(V0,"MessageHeader",{enumerable:!0,get:function(){return p0.MessageHeader}});Object.defineProperty(V0,"MetadataVersion",{enumerable:!0,get:function(){return p0.MetadataVersion}});Object.defineProperty(V0,"Precision",{enumerable:!0,get:function(){return p0.Precision}});Object.defineProperty(V0,"TimeUnit",{enumerable:!0,get:function(){return p0.TimeUnit}});Object.defineProperty(V0,"Type",{enumerable:!0,get:function(){return p0.Type}});Object.defineProperty(V0,"UnionMode",{enumerable:!0,get:function(){return p0.UnionMode}});Object.defineProperty(V0,"BufferType",{enumerable:!0,get:function(){return p0.BufferType}});Object.defineProperty(V0,"Data",{enumerable:!0,get:function(){return p0.Data}});Object.defineProperty(V0,"makeData",{enumerable:!0,get:function(){return p0.makeData}});Object.defineProperty(V0,"DataType",{enumerable:!0,get:function(){return p0.DataType}});Object.defineProperty(V0,"Null",{enumerable:!0,get:function(){return p0.Null}});Object.defineProperty(V0,"Bool",{enumerable:!0,get:function(){return p0.Bool}});Object.defineProperty(V0,"Int",{enumerable:!0,get:function(){return p0.Int}});Object.defineProperty(V0,"Int8",{enumerable:!0,get:function(){return p0.Int8}});Object.defineProperty(V0,"Int16",{enumerable:!0,get:function(){return p0.Int16}});Object.defineProperty(V0,"Int32",{enumerable:!0,get:function(){return p0.Int32}});Object.defineProperty(V0,"Int64",{enumerable:!0,get:function(){return p0.Int64}});Object.defineProperty(V0,"Uint8",{enumerable:!0,get:function(){return p0.Uint8}});Object.defineProperty(V0,"Uint16",{enumerable:!0,get:function(){return p0.Uint16}});Object.defineProperty(V0,"Uint32",{enumerable:!0,get:function(){return p0.Uint32}});Object.defineProperty(V0,"Uint64",{enumerable:!0,get:function(){return p0.Uint64}});Object.defineProperty(V0,"Float",{enumerable:!0,get:function(){return p0.Float}});Object.defineProperty(V0,"Float16",{enumerable:!0,get:function(){return p0.Float16}});Object.defineProperty(V0,"Float32",{enumerable:!0,get:function(){return p0.Float32}});Object.defineProperty(V0,"Float64",{enumerable:!0,get:function(){return p0.Float64}});Object.defineProperty(V0,"Utf8",{enumerable:!0,get:function(){return p0.Utf8}});Object.defineProperty(V0,"LargeUtf8",{enumerable:!0,get:function(){return p0.LargeUtf8}});Object.defineProperty(V0,"Binary",{enumerable:!0,get:function(){return p0.Binary}});Object.defineProperty(V0,"LargeBinary",{enumerable:!0,get:function(){return p0.LargeBinary}});Object.defineProperty(V0,"FixedSizeBinary",{enumerable:!0,get:function(){return p0.FixedSizeBinary}});Object.defineProperty(V0,"Date_",{enumerable:!0,get:function(){return p0.Date_}});Object.defineProperty(V0,"DateDay",{enumerable:!0,get:function(){return p0.DateDay}});Object.defineProperty(V0,"DateMillisecond",{enumerable:!0,get:function(){return p0.DateMillisecond}});Object.defineProperty(V0,"Timestamp",{enumerable:!0,get:function(){return p0.Timestamp}});Object.defineProperty(V0,"TimestampSecond",{enumerable:!0,get:function(){return p0.TimestampSecond}});Object.defineProperty(V0,"TimestampMillisecond",{enumerable:!0,get:function(){return p0.TimestampMillisecond}});Object.defineProperty(V0,"TimestampMicrosecond",{enumerable:!0,get:function(){return p0.TimestampMicrosecond}});Object.defineProperty(V0,"TimestampNanosecond",{enumerable:!0,get:function(){return p0.TimestampNanosecond}});Object.defineProperty(V0,"Time",{enumerable:!0,get:function(){return p0.Time}});Object.defineProperty(V0,"TimeSecond",{enumerable:!0,get:function(){return p0.TimeSecond}});Object.defineProperty(V0,"TimeMillisecond",{enumerable:!0,get:function(){return p0.TimeMillisecond}});Object.defineProperty(V0,"TimeMicrosecond",{enumerable:!0,get:function(){return p0.TimeMicrosecond}});Object.defineProperty(V0,"TimeNanosecond",{enumerable:!0,get:function(){return p0.TimeNanosecond}});Object.defineProperty(V0,"Decimal",{enumerable:!0,get:function(){return p0.Decimal}});Object.defineProperty(V0,"List",{enumerable:!0,get:function(){return p0.List}});Object.defineProperty(V0,"Struct",{enumerable:!0,get:function(){return p0.Struct}});Object.defineProperty(V0,"StructRow",{enumerable:!0,get:function(){return p0.StructRow}});Object.defineProperty(V0,"Union",{enumerable:!0,get:function(){return p0.Union}});Object.defineProperty(V0,"DenseUnion",{enumerable:!0,get:function(){return p0.DenseUnion}});Object.defineProperty(V0,"SparseUnion",{enumerable:!0,get:function(){return p0.SparseUnion}});Object.defineProperty(V0,"Dictionary",{enumerable:!0,get:function(){return p0.Dictionary}});Object.defineProperty(V0,"Interval",{enumerable:!0,get:function(){return p0.Interval}});Object.defineProperty(V0,"IntervalDayTime",{enumerable:!0,get:function(){return p0.IntervalDayTime}});Object.defineProperty(V0,"IntervalYearMonth",{enumerable:!0,get:function(){return p0.IntervalYearMonth}});Object.defineProperty(V0,"Duration",{enumerable:!0,get:function(){return p0.Duration}});Object.defineProperty(V0,"DurationSecond",{enumerable:!0,get:function(){return p0.DurationSecond}});Object.defineProperty(V0,"DurationMillisecond",{enumerable:!0,get:function(){return p0.DurationMillisecond}});Object.defineProperty(V0,"DurationMicrosecond",{enumerable:!0,get:function(){return p0.DurationMicrosecond}});Object.defineProperty(V0,"DurationNanosecond",{enumerable:!0,get:function(){return p0.DurationNanosecond}});Object.defineProperty(V0,"FixedSizeList",{enumerable:!0,get:function(){return p0.FixedSizeList}});Object.defineProperty(V0,"Map_",{enumerable:!0,get:function(){return p0.Map_}});Object.defineProperty(V0,"MapRow",{enumerable:!0,get:function(){return p0.MapRow}});Object.defineProperty(V0,"Table",{enumerable:!0,get:function(){return p0.Table}});Object.defineProperty(V0,"makeTable",{enumerable:!0,get:function(){return p0.makeTable}});Object.defineProperty(V0,"tableFromArrays",{enumerable:!0,get:function(){return p0.tableFromArrays}});Object.defineProperty(V0,"Schema",{enumerable:!0,get:function(){return p0.Schema}});Object.defineProperty(V0,"Field",{enumerable:!0,get:function(){return p0.Field}});Object.defineProperty(V0,"Visitor",{enumerable:!0,get:function(){return p0.Visitor}});Object.defineProperty(V0,"Vector",{enumerable:!0,get:function(){return p0.Vector}});Object.defineProperty(V0,"makeVector",{enumerable:!0,get:function(){return p0.makeVector}});Object.defineProperty(V0,"vectorFromArray",{enumerable:!0,get:function(){return p0.vectorFromArray}});Object.defineProperty(V0,"tableFromJSON",{enumerable:!0,get:function(){return p0.tableFromJSON}});Object.defineProperty(V0,"ByteStream",{enumerable:!0,get:function(){return p0.ByteStream}});Object.defineProperty(V0,"AsyncByteStream",{enumerable:!0,get:function(){return p0.AsyncByteStream}});Object.defineProperty(V0,"AsyncByteQueue",{enumerable:!0,get:function(){return p0.AsyncByteQueue}});Object.defineProperty(V0,"RecordBatchReader",{enumerable:!0,get:function(){return p0.RecordBatchReader}});Object.defineProperty(V0,"RecordBatchFileReader",{enumerable:!0,get:function(){return p0.RecordBatchFileReader}});Object.defineProperty(V0,"RecordBatchStreamReader",{enumerable:!0,get:function(){return p0.RecordBatchStreamReader}});Object.defineProperty(V0,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return p0.AsyncRecordBatchFileReader}});Object.defineProperty(V0,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return p0.AsyncRecordBatchStreamReader}});Object.defineProperty(V0,"RecordBatchWriter",{enumerable:!0,get:function(){return p0.RecordBatchWriter}});Object.defineProperty(V0,"RecordBatchFileWriter",{enumerable:!0,get:function(){return p0.RecordBatchFileWriter}});Object.defineProperty(V0,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return p0.RecordBatchStreamWriter}});Object.defineProperty(V0,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return p0.RecordBatchJSONWriter}});Object.defineProperty(V0,"tableFromIPC",{enumerable:!0,get:function(){return p0.tableFromIPC}});Object.defineProperty(V0,"tableToIPC",{enumerable:!0,get:function(){return p0.tableToIPC}});Object.defineProperty(V0,"MessageReader",{enumerable:!0,get:function(){return p0.MessageReader}});Object.defineProperty(V0,"AsyncMessageReader",{enumerable:!0,get:function(){return p0.AsyncMessageReader}});Object.defineProperty(V0,"JSONMessageReader",{enumerable:!0,get:function(){return p0.JSONMessageReader}});Object.defineProperty(V0,"Message",{enumerable:!0,get:function(){return p0.Message}});Object.defineProperty(V0,"RecordBatch",{enumerable:!0,get:function(){return p0.RecordBatch}});Object.defineProperty(V0,"util",{enumerable:!0,get:function(){return p0.util}});Object.defineProperty(V0,"Builder",{enumerable:!0,get:function(){return p0.Builder}});Object.defineProperty(V0,"makeBuilder",{enumerable:!0,get:function(){return p0.makeBuilder}});Object.defineProperty(V0,"builderThroughIterable",{enumerable:!0,get:function(){return p0.builderThroughIterable}});Object.defineProperty(V0,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return p0.builderThroughAsyncIterable}});var l1=Jx();Object.defineProperty(V0,"BinaryBuilder",{enumerable:!0,get:function(){return l1.BinaryBuilder}});Object.defineProperty(V0,"LargeBinaryBuilder",{enumerable:!0,get:function(){return l1.LargeBinaryBuilder}});Object.defineProperty(V0,"BoolBuilder",{enumerable:!0,get:function(){return l1.BoolBuilder}});Object.defineProperty(V0,"DateBuilder",{enumerable:!0,get:function(){return l1.DateBuilder}});Object.defineProperty(V0,"DateDayBuilder",{enumerable:!0,get:function(){return l1.DateDayBuilder}});Object.defineProperty(V0,"DateMillisecondBuilder",{enumerable:!0,get:function(){return l1.DateMillisecondBuilder}});Object.defineProperty(V0,"DecimalBuilder",{enumerable:!0,get:function(){return l1.DecimalBuilder}});Object.defineProperty(V0,"DictionaryBuilder",{enumerable:!0,get:function(){return l1.DictionaryBuilder}});Object.defineProperty(V0,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return l1.FixedSizeBinaryBuilder}});Object.defineProperty(V0,"FixedSizeListBuilder",{enumerable:!0,get:function(){return l1.FixedSizeListBuilder}});Object.defineProperty(V0,"FloatBuilder",{enumerable:!0,get:function(){return l1.FloatBuilder}});Object.defineProperty(V0,"Float16Builder",{enumerable:!0,get:function(){return l1.Float16Builder}});Object.defineProperty(V0,"Float32Builder",{enumerable:!0,get:function(){return l1.Float32Builder}});Object.defineProperty(V0,"Float64Builder",{enumerable:!0,get:function(){return l1.Float64Builder}});Object.defineProperty(V0,"IntervalBuilder",{enumerable:!0,get:function(){return l1.IntervalBuilder}});Object.defineProperty(V0,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return l1.IntervalDayTimeBuilder}});Object.defineProperty(V0,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return l1.IntervalYearMonthBuilder}});Object.defineProperty(V0,"DurationBuilder",{enumerable:!0,get:function(){return l1.DurationBuilder}});Object.defineProperty(V0,"DurationSecondBuilder",{enumerable:!0,get:function(){return l1.DurationSecondBuilder}});Object.defineProperty(V0,"DurationMillisecondBuilder",{enumerable:!0,get:function(){return l1.DurationMillisecondBuilder}});Object.defineProperty(V0,"DurationMicrosecondBuilder",{enumerable:!0,get:function(){return l1.DurationMicrosecondBuilder}});Object.defineProperty(V0,"DurationNanosecondBuilder",{enumerable:!0,get:function(){return l1.DurationNanosecondBuilder}});Object.defineProperty(V0,"IntBuilder",{enumerable:!0,get:function(){return l1.IntBuilder}});Object.defineProperty(V0,"Int8Builder",{enumerable:!0,get:function(){return l1.Int8Builder}});Object.defineProperty(V0,"Int16Builder",{enumerable:!0,get:function(){return l1.Int16Builder}});Object.defineProperty(V0,"Int32Builder",{enumerable:!0,get:function(){return l1.Int32Builder}});Object.defineProperty(V0,"Int64Builder",{enumerable:!0,get:function(){return l1.Int64Builder}});Object.defineProperty(V0,"Uint8Builder",{enumerable:!0,get:function(){return l1.Uint8Builder}});Object.defineProperty(V0,"Uint16Builder",{enumerable:!0,get:function(){return l1.Uint16Builder}});Object.defineProperty(V0,"Uint32Builder",{enumerable:!0,get:function(){return l1.Uint32Builder}});Object.defineProperty(V0,"Uint64Builder",{enumerable:!0,get:function(){return l1.Uint64Builder}});Object.defineProperty(V0,"ListBuilder",{enumerable:!0,get:function(){return l1.ListBuilder}});Object.defineProperty(V0,"MapBuilder",{enumerable:!0,get:function(){return l1.MapBuilder}});Object.defineProperty(V0,"NullBuilder",{enumerable:!0,get:function(){return l1.NullBuilder}});Object.defineProperty(V0,"StructBuilder",{enumerable:!0,get:function(){return l1.StructBuilder}});Object.defineProperty(V0,"TimestampBuilder",{enumerable:!0,get:function(){return l1.TimestampBuilder}});Object.defineProperty(V0,"TimestampSecondBuilder",{enumerable:!0,get:function(){return l1.TimestampSecondBuilder}});Object.defineProperty(V0,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return l1.TimestampMillisecondBuilder}});Object.defineProperty(V0,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return l1.TimestampMicrosecondBuilder}});Object.defineProperty(V0,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return l1.TimestampNanosecondBuilder}});Object.defineProperty(V0,"TimeBuilder",{enumerable:!0,get:function(){return l1.TimeBuilder}});Object.defineProperty(V0,"TimeSecondBuilder",{enumerable:!0,get:function(){return l1.TimeSecondBuilder}});Object.defineProperty(V0,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return l1.TimeMillisecondBuilder}});Object.defineProperty(V0,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return l1.TimeMicrosecondBuilder}});Object.defineProperty(V0,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return l1.TimeNanosecondBuilder}});Object.defineProperty(V0,"UnionBuilder",{enumerable:!0,get:function(){return l1.UnionBuilder}});Object.defineProperty(V0,"DenseUnionBuilder",{enumerable:!0,get:function(){return l1.DenseUnionBuilder}});Object.defineProperty(V0,"SparseUnionBuilder",{enumerable:!0,get:function(){return l1.SparseUnionBuilder}});Object.defineProperty(V0,"Utf8Builder",{enumerable:!0,get:function(){return l1.Utf8Builder}});Object.defineProperty(V0,"LargeUtf8Builder",{enumerable:!0,get:function(){return l1.LargeUtf8Builder}})});var JV=w0((RE1,HX0)=>{var{create:bs0,defineProperty:fC,getOwnPropertyDescriptor:gs0,getOwnPropertyNames:ys0,getPrototypeOf:xs0}=Object,cs0=Object.prototype.hasOwnProperty,us0=($,Q)=>()=>(Q||$((Q={exports:{}}).exports,Q),Q.exports),ms0=($,Q)=>{for(var J in Q)fC($,J,{get:Q[J],enumerable:!0})},r20=($,Q,J,K)=>{if(Q&&typeof Q=="object"||typeof Q=="function")for(let Y of ys0(Q))!cs0.call($,Y)&&Y!==J&&fC($,Y,{get:()=>Q[Y],enumerable:!(K=gs0(Q,Y))||K.enumerable});return $},Bx=($,Q,J)=>(J=$!=null?bs0(xs0($)):{},r20(Q||!$||!$.__esModule?fC(J,"default",{value:$,enumerable:!0}):J,$)),ps0=($)=>r20(fC({},"__esModule",{value:!0}),$),ds0=us0(($,Q)=>{Q.exports=Worker}),i20={};ms0(i20,{AsyncDuckDB:()=>$o0,AsyncDuckDBConnection:()=>JX0,AsyncDuckDBDispatcher:()=>Jo0,AsyncPreparedStatement:()=>KX0,AsyncResultStreamIterator:()=>zx,ConsoleLogger:()=>ls0,DuckDBAccessMode:()=>s20,DuckDBDataProtocol:()=>ZX0,IsArrowBuffer:()=>as0,IsDuckDBWasmRetry:()=>ts0,LogEvent:()=>e20,LogLevel:()=>a20,LogOrigin:()=>$X0,LogTopic:()=>t20,PACKAGE_NAME:()=>XX0,PACKAGE_VERSION:()=>WX0,PACKAGE_VERSION_MAJOR:()=>Xo0,PACKAGE_VERSION_MINOR:()=>Wo0,PACKAGE_VERSION_PATCH:()=>Fo0,StatusCode:()=>QX0,TokenType:()=>o20,VoidLogger:()=>ns0,WorkerRequestType:()=>YX0,WorkerResponseType:()=>qX0,WorkerTask:()=>f5,createWorker:()=>Ao0,getJsDelivrBundles:()=>No0,getLogEventLabel:()=>is0,getLogLevelLabel:()=>rs0,getLogOriginLabel:()=>os0,getLogTopicLabel:()=>ss0,getPlatformFeatures:()=>UX0,isFirefox:()=>Uo0,isNode:()=>Rx,isSafari:()=>Ho0,selectBundle:()=>Bo0});HX0.exports=ps0(i20);var s20=(($)=>($[$.UNDEFINED=0]="UNDEFINED",$[$.AUTOMATIC=1]="AUTOMATIC",$[$.READ_ONLY=2]="READ_ONLY",$[$.READ_WRITE=3]="READ_WRITE",$))(s20||{}),o20=(($)=>($[$.IDENTIFIER=0]="IDENTIFIER",$[$.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",$[$.STRING_CONSTANT=2]="STRING_CONSTANT",$[$.OPERATOR=3]="OPERATOR",$[$.KEYWORD=4]="KEYWORD",$[$.COMMENT=5]="COMMENT",$))(o20||{}),a20=(($)=>($[$.NONE=0]="NONE",$[$.DEBUG=1]="DEBUG",$[$.INFO=2]="INFO",$[$.WARNING=3]="WARNING",$[$.ERROR=4]="ERROR",$))(a20||{}),t20=(($)=>($[$.NONE=0]="NONE",$[$.CONNECT=1]="CONNECT",$[$.DISCONNECT=2]="DISCONNECT",$[$.OPEN=3]="OPEN",$[$.QUERY=4]="QUERY",$[$.INSTANTIATE=5]="INSTANTIATE",$))(t20||{}),e20=(($)=>($[$.NONE=0]="NONE",$[$.OK=1]="OK",$[$.ERROR=2]="ERROR",$[$.START=3]="START",$[$.RUN=4]="RUN",$[$.CAPTURE=5]="CAPTURE",$))(e20||{}),$X0=(($)=>($[$.NONE=0]="NONE",$[$.WEB_WORKER=1]="WEB_WORKER",$[$.NODE_WORKER=2]="NODE_WORKER",$[$.BINDINGS=3]="BINDINGS",$[$.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",$))($X0||{}),ns0=class{log($){}},ls0=class{constructor($=2){this.level=$}log($){$.level>=this.level&&console.log($)}};function rs0($){switch($){case 0:return"NONE";case 1:return"DEBUG";case 2:return"INFO";case 3:return"WARNING";case 4:return"ERROR";default:return"?"}}function is0($){switch($){case 0:return"NONE";case 1:return"OK";case 2:return"ERROR";case 3:return"START";case 4:return"RUN";case 5:return"CAPTURE";default:return"?"}}function ss0($){switch($){case 1:return"CONNECT";case 2:return"DISCONNECT";case 5:return"INSTANTIATE";case 3:return"OPEN";case 4:return"QUERY";default:return"?"}}function os0($){switch($){case 0:return"NONE";case 1:return"WEB WORKER";case 2:return"NODE WORKER";case 3:return"DUCKDB BINDINGS";case 4:return"DUCKDB";default:return"?"}}var QX0=(($)=>($[$.SUCCESS=0]="SUCCESS",$[$.MAX_ARROW_ERROR=255]="MAX_ARROW_ERROR",$[$.DUCKDB_WASM_RETRY=256]="DUCKDB_WASM_RETRY",$))(QX0||{});function as0($){return $<=255}function ts0($){return $===256}var PX=Bx(SC()),JX0=class{constructor($,Q){this._bindings=$,this._conn=Q}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe($){return $(this._bindings,this._conn)}async query($){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:$});let Q=await this._bindings.runQuery(this._conn,$),J=PX.RecordBatchReader.from(Q);return console.assert(J.isSync(),"Reader is not sync"),console.assert(J.isFile(),"Reader is not file"),new PX.Table(J)}async send($,Q=!1){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:$});let J=await this._bindings.startPendingQuery(this._conn,$,Q);for(;J==null;)J=await this._bindings.pollPendingQuery(this._conn);let K=new zx(this._bindings,this._conn,J),Y=await PX.RecordBatchReader.from(K);return console.assert(Y.isAsync()),console.assert(Y.isStream()),Y}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames($){return await this._bindings.getTableNames(this._conn,$)}async prepare($){let Q=await this._bindings.createPrepared(this._conn,$);return new KX0(this._bindings,this._conn,Q)}async insertArrowTable($,Q){let J=PX.tableToIPC($,"stream");await this.insertArrowFromIPCStream(J,Q)}async insertArrowFromIPCStream($,Q){await this._bindings.insertArrowFromIPCStream(this._conn,$,Q)}async insertCSVFromPath($,Q){await this._bindings.insertCSVFromPath(this._conn,$,Q)}async insertJSONFromPath($,Q){await this._bindings.insertJSONFromPath(this._conn,$,Q)}},zx=class{constructor($,Q,J){this.db=$,this.conn=Q,this.header=J,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let $=null;for(this._inFlight!=null&&($=await this._inFlight,this._inFlight=null);$==null;)$=await this.db.fetchQueryResults(this.conn);return this._depleted=$.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:$}}[Symbol.asyncIterator](){return this}},KX0=class{constructor($,Q,J){this.bindings=$,this.connectionId=Q,this.statementId=J}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...$){let Q=await this.bindings.runPrepared(this.connectionId,this.statementId,$),J=PX.RecordBatchReader.from(Q);return console.assert(J.isSync()),console.assert(J.isFile()),new PX.Table(J)}async send(...$){let Q=await this.bindings.sendPrepared(this.connectionId,this.statementId,$),J=new zx(this.bindings,this.connectionId,Q),K=await PX.RecordBatchReader.from(J);return console.assert(K.isAsync()),console.assert(K.isStream()),K}},YX0=(($)=>($.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",$.CLOSE_PREPARED="CLOSE_PREPARED",$.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",$.REGISTER_OPFS_FILE_NAME="REGISTER_OPFS_FILE_NAME",$.CONNECT="CONNECT",$.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",$.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",$.CREATE_PREPARED="CREATE_PREPARED",$.DISCONNECT="DISCONNECT",$.DROP_FILE="DROP_FILE",$.DROP_FILES="DROP_FILES",$.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",$.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",$.FLUSH_FILES="FLUSH_FILES",$.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",$.GET_TABLE_NAMES="GET_TABLE_NAMES",$.GET_VERSION="GET_VERSION",$.GLOB_FILE_INFOS="GLOB_FILE_INFOS",$.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",$.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",$.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",$.INSTANTIATE="INSTANTIATE",$.OPEN="OPEN",$.PING="PING",$.POLL_PENDING_QUERY="POLL_PENDING_QUERY",$.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",$.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",$.REGISTER_FILE_URL="REGISTER_FILE_URL",$.RESET="RESET",$.RUN_PREPARED="RUN_PREPARED",$.RUN_QUERY="RUN_QUERY",$.SEND_PREPARED="SEND_PREPARED",$.START_PENDING_QUERY="START_PENDING_QUERY",$.TOKENIZE="TOKENIZE",$))(YX0||{}),qX0=(($)=>($.CONNECTION_INFO="CONNECTION_INFO",$.ERROR="ERROR",$.FEATURE_FLAGS="FEATURE_FLAGS",$.FILE_BUFFER="FILE_BUFFER",$.FILE_INFOS="FILE_INFOS",$.FILE_SIZE="FILE_SIZE",$.FILE_STATISTICS="FILE_STATISTICS",$.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",$.LOG="LOG",$.PROGRESS_UPDATE="PROGRESS_UPDATE",$.OK="OK",$.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",$.QUERY_PLAN="QUERY_PLAN",$.QUERY_RESULT="QUERY_RESULT",$.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",$.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",$.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",$.REGISTERED_FILE="REGISTERED_FILE",$.SCRIPT_TOKENS="SCRIPT_TOKENS",$.SUCCESS="SUCCESS",$.TABLE_NAMES="TABLE_NAMES",$.VERSION_STRING="VERSION_STRING",$))(qX0||{}),f5=class{constructor($,Q){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=$,this.data=Q,this.promise=new Promise((J,K)=>{this.promiseResolver=J,this.promiseRejecter=K})}},S5=Bx(SC());function _C($){switch($.typeId){case S5.Type.Binary:return{sqlType:"binary"};case S5.Type.Bool:return{sqlType:"bool"};case S5.Type.Date:return{sqlType:"date"};case S5.Type.DateDay:return{sqlType:"date32[d]"};case S5.Type.DateMillisecond:return{sqlType:"date64[ms]"};case S5.Type.Decimal:{let Q=$;return{sqlType:"decimal",precision:Q.precision,scale:Q.scale}}case S5.Type.Float:return{sqlType:"float"};case S5.Type.Float16:return{sqlType:"float16"};case S5.Type.Float32:return{sqlType:"float32"};case S5.Type.Float64:return{sqlType:"float64"};case S5.Type.Int:return{sqlType:"int32"};case S5.Type.Int16:return{sqlType:"int16"};case S5.Type.Int32:return{sqlType:"int32"};case S5.Type.Int64:return{sqlType:"int64"};case S5.Type.Uint16:return{sqlType:"uint16"};case S5.Type.Uint32:return{sqlType:"uint32"};case S5.Type.Uint64:return{sqlType:"uint64"};case S5.Type.Uint8:return{sqlType:"uint8"};case S5.Type.IntervalDayTime:return{sqlType:"interval[dt]"};case S5.Type.IntervalYearMonth:return{sqlType:"interval[m]"};case S5.Type.List:return{sqlType:"list",valueType:_C($.valueType)};case S5.Type.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:$.byteWidth};case S5.Type.Null:return{sqlType:"null"};case S5.Type.Utf8:return{sqlType:"utf8"};case S5.Type.Struct:return{sqlType:"struct",fields:$.children.map((Q)=>Nx(Q.name,Q.type))};case S5.Type.Map:{let Q=$;return{sqlType:"map",keyType:_C(Q.keyType),valueType:_C(Q.valueType)}}case S5.Type.Time:return{sqlType:"time[s]"};case S5.Type.TimeMicrosecond:return{sqlType:"time[us]"};case S5.Type.TimeMillisecond:return{sqlType:"time[ms]"};case S5.Type.TimeNanosecond:return{sqlType:"time[ns]"};case S5.Type.TimeSecond:return{sqlType:"time[s]"};case S5.Type.Timestamp:return{sqlType:"timestamp",timezone:$.timezone||void 0};case S5.Type.TimestampSecond:return{sqlType:"timestamp[s]",timezone:$.timezone||void 0};case S5.Type.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:$.timezone||void 0};case S5.Type.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:$.timezone||void 0};case S5.Type.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:$.timezone||void 0}}throw Error("unsupported arrow type: ".concat($.toString()))}function Nx($,Q){let J=_C(Q);return J.name=$,J}var es0=new TextEncoder,$o0=class{constructor($,Q=null){this._onInstantiationProgress=[],this._onExecutionProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=$,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),Q!=null&&this.attach(Q)}get logger(){return this._logger}attach($){this._worker=$,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((Q,J)=>{this._workerShutdownResolver=Q})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask($,Q=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let J=this._nextMessageId++;return this._pendingRequests.set(J,$),this._worker.postMessage({messageId:J,type:$.type,data:$.data},Q),await $.promise}onMessage($){var Q;let J=$.data;switch(J.type){case"PROGRESS_UPDATE":{for(let Y of this._onExecutionProgress)Y(J.data);return}case"LOG":{this._logger.log(J.data);return}case"INSTANTIATE_PROGRESS":{for(let Y of this._onInstantiationProgress)Y(J.data);return}}let K=this._pendingRequests.get(J.requestId);if(!K){console.warn("unassociated response: [".concat(J.requestId,", ").concat(J.type.toString(),"]"));return}if(this._pendingRequests.delete(J.requestId),J.type=="ERROR"){let Y=Error(J.data.message);Y.name=J.data.name,(Q=Object.getOwnPropertyDescriptor(Y,"stack"))!=null&&Q.writable&&(Y.stack=J.data.stack),K.promiseRejecter(Y);return}switch(K.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"REGISTER_OPFS_FILE_NAME":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(J.type=="OK"){K.promiseResolver(J.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],J.type=="OK"){K.promiseResolver(J.data);return}break;case"GLOB_FILE_INFOS":if(J.type=="FILE_INFOS"){K.promiseResolver(J.data);return}break;case"GET_VERSION":if(J.type=="VERSION_STRING"){K.promiseResolver(J.data);return}break;case"GET_FEATURE_FLAGS":if(J.type=="FEATURE_FLAGS"){K.promiseResolver(J.data);return}break;case"GET_TABLE_NAMES":if(J.type=="TABLE_NAMES"){K.promiseResolver(J.data);return}break;case"TOKENIZE":if(J.type=="SCRIPT_TOKENS"){K.promiseResolver(J.data);return}break;case"COPY_FILE_TO_BUFFER":if(J.type=="FILE_BUFFER"){K.promiseResolver(J.data);return}break;case"EXPORT_FILE_STATISTICS":if(J.type=="FILE_STATISTICS"){K.promiseResolver(J.data);return}break;case"CONNECT":if(J.type=="CONNECTION_INFO"){K.promiseResolver(J.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(J.type=="QUERY_RESULT"){K.promiseResolver(J.data);return}break;case"SEND_PREPARED":if(J.type=="QUERY_RESULT_HEADER"){K.promiseResolver(J.data);return}break;case"START_PENDING_QUERY":if(J.type=="QUERY_RESULT_HEADER_OR_NULL"){K.promiseResolver(J.data);return}break;case"POLL_PENDING_QUERY":if(J.type=="QUERY_RESULT_HEADER_OR_NULL"){K.promiseResolver(J.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],J.type=="SUCCESS"){K.promiseResolver(J.data);return}break;case"FETCH_QUERY_RESULTS":if(J.type=="QUERY_RESULT_CHUNK"){K.promiseResolver(J.data);return}break;case"CREATE_PREPARED":if(J.type=="PREPARED_STATEMENT_ID"){K.promiseResolver(J.data);return}break}K.promiseRejecter(Error("unexpected response type: ".concat(J.type.toString())))}onError($){console.error($),console.error("error in duckdb worker: ".concat($.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}async reset(){let $=new f5("RESET",null);return await this.postTask($)}async ping(){let $=new f5("PING",null);await this.postTask($)}async dropFile($){let Q=new f5("DROP_FILE",$);return await this.postTask(Q)}async dropFiles(){let $=new f5("DROP_FILES",null);return await this.postTask($)}async flushFiles(){let $=new f5("FLUSH_FILES",null);return await this.postTask($)}async instantiate($,Q=null,J=(K)=>{}){this._onInstantiationProgress.push(J);let K=new f5("INSTANTIATE",[$,Q]);return await this.postTask(K)}async getVersion(){let $=new f5("GET_VERSION",null);return await this.postTask($)}async getFeatureFlags(){let $=new f5("GET_FEATURE_FLAGS",null);return await this.postTask($)}async open($){let Q=new f5("OPEN",$);await this.postTask(Q)}async tokenize($){let Q=new f5("TOKENIZE",$);return await this.postTask(Q)}async connectInternal(){let $=new f5("CONNECT",null);return await this.postTask($)}async connect(){let $=await this.connectInternal();return new JX0(this,$)}async disconnect($){let Q=new f5("DISCONNECT",$);await this.postTask(Q)}async runQuery($,Q){let J=new f5("RUN_QUERY",[$,Q]);return await this.postTask(J)}async startPendingQuery($,Q,J=!1){let K=new f5("START_PENDING_QUERY",[$,Q,J]);return await this.postTask(K)}async pollPendingQuery($){let Q=new f5("POLL_PENDING_QUERY",$);return await this.postTask(Q)}async cancelPendingQuery($){let Q=new f5("CANCEL_PENDING_QUERY",$);return await this.postTask(Q)}async fetchQueryResults($){let Q=new f5("FETCH_QUERY_RESULTS",$);return await this.postTask(Q)}async getTableNames($,Q){let J=new f5("GET_TABLE_NAMES",[$,Q]);return await this.postTask(J)}async createPrepared($,Q){let J=new f5("CREATE_PREPARED",[$,Q]);return await this.postTask(J)}async closePrepared($,Q){let J=new f5("CLOSE_PREPARED",[$,Q]);await this.postTask(J)}async runPrepared($,Q,J){let K=new f5("RUN_PREPARED",[$,Q,J]);return await this.postTask(K)}async sendPrepared($,Q,J){let K=new f5("SEND_PREPARED",[$,Q,J]);return await this.postTask(K)}async globFiles($){let Q=new f5("GLOB_FILE_INFOS",$);return await this.postTask(Q)}async registerFileText($,Q){let J=es0.encode(Q);await this.registerFileBuffer($,J)}async registerFileURL($,Q,J,K){Q===void 0&&(Q=$);let Y=new f5("REGISTER_FILE_URL",[$,Q,J,K]);await this.postTask(Y)}async registerEmptyFileBuffer($){}async registerFileBuffer($,Q){let J=new f5("REGISTER_FILE_BUFFER",[$,Q]);await this.postTask(J,[Q.buffer])}async registerFileHandle($,Q,J,K){let Y=new f5("REGISTER_FILE_HANDLE",[$,Q,J,K]);await this.postTask(Y,[])}async registerOPFSFileName($){let Q=new f5("REGISTER_OPFS_FILE_NAME",[$]);await this.postTask(Q,[])}async collectFileStatistics($,Q){let J=new f5("COLLECT_FILE_STATISTICS",[$,Q]);await this.postTask(J,[])}async exportFileStatistics($){let Q=new f5("EXPORT_FILE_STATISTICS",$);return await this.postTask(Q,[])}async copyFileToBuffer($){let Q=new f5("COPY_FILE_TO_BUFFER",$);return await this.postTask(Q)}async copyFileToPath($,Q){let J=new f5("COPY_FILE_TO_PATH",[$,Q]);await this.postTask(J)}async insertArrowFromIPCStream($,Q,J){if(Q.length==0)return;let K=new f5("INSERT_ARROW_FROM_IPC_STREAM",[$,Q,J]);await this.postTask(K,[Q.buffer])}async insertCSVFromPath($,Q,J){if(J.columns!==void 0){let Y=[];for(let q in J.columns){let Z=J.columns[q];Y.push(Nx(q,Z))}J.columnsFlat=Y,delete J.columns}let K=new f5("IMPORT_CSV_FROM_PATH",[$,Q,J]);await this.postTask(K)}async insertJSONFromPath($,Q,J){if(J.columns!==void 0){let Y=[];for(let q in J.columns){let Z=J.columns[q];Y.push(Nx(q,Z))}J.columnsFlat=Y,delete J.columns}let K=new f5("IMPORT_JSON_FROM_PATH",[$,Q,J]);await this.postTask(K)}};function Qo0(){let $=new TextDecoder;return(Q)=>(typeof SharedArrayBuffer<"u"&&Q.buffer instanceof SharedArrayBuffer&&(Q=new Uint8Array(Q)),$.decode(Q))}var VE1=Qo0(),ZX0=(($)=>($[$.BUFFER=0]="BUFFER",$[$.NODE_FS=1]="NODE_FS",$[$.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",$[$.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",$[$.HTTP=4]="HTTP",$[$.S3=5]="S3",$))(ZX0||{}),Jo0=class{constructor(){this._bindings=null,this._nextMessageId=0}log($){this.postMessage({messageId:this._nextMessageId++,requestId:0,type:"LOG",data:$},[])}sendOK($){this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"OK",data:null},[])}failWith($,Q){let J={name:Q.name,message:Q.message,stack:Q.stack||void 0};this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"ERROR",data:J},[])}async onMessage($){switch($.type){case"PING":this.sendOK($);return;case"INSTANTIATE":this._bindings!=null&&this.failWith($,Error("duckdb already initialized"));try{this._bindings=await this.instantiate($.data[0],$.data[1],(Q)=>{this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"INSTANTIATE_PROGRESS",data:Q},[])}),this.sendOK($)}catch(Q){console.log(Q),this._bindings=null,this.failWith($,Q)}return;default:break}if(!this._bindings)return this.failWith($,Error("duckdb is not initialized"));try{switch($.type){case"GET_VERSION":this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"VERSION_STRING",data:this._bindings.getVersion()},[]);break;case"GET_FEATURE_FLAGS":this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"FEATURE_FLAGS",data:this._bindings.getFeatureFlags()},[]);break;case"RESET":this._bindings.reset(),this.sendOK($);break;case"OPEN":{let Q=$.data.path;Q!=null&&Q.startsWith("opfs://")&&(await this._bindings.prepareDBFileHandle(Q,3),$.data.useDirectIO=!0),this._bindings.open($.data),this.sendOK($);break}case"DROP_FILE":this._bindings.dropFile($.data),this.sendOK($);break;case"DROP_FILES":this._bindings.dropFiles(),this.sendOK($);break;case"FLUSH_FILES":this._bindings.flushFiles(),this.sendOK($);break;case"CONNECT":{let Q=this._bindings.connect();this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"CONNECTION_INFO",data:Q.useUnsafe((J,K)=>K)},[]);break}case"DISCONNECT":this._bindings.disconnect($.data),this.sendOK($);break;case"CREATE_PREPARED":{let Q=this._bindings.createPrepared($.data[0],$.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"PREPARED_STATEMENT_ID",data:Q},[]);break}case"CLOSE_PREPARED":{this._bindings.closePrepared($.data[0],$.data[1]),this.sendOK($);break}case"RUN_PREPARED":{let Q=this._bindings.runPrepared($.data[0],$.data[1],$.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"QUERY_RESULT",data:Q},[Q.buffer]);break}case"RUN_QUERY":{let Q=this._bindings.runQuery($.data[0],$.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"QUERY_RESULT",data:Q},[Q.buffer]);break}case"SEND_PREPARED":{let Q=this._bindings.sendPrepared($.data[0],$.data[1],$.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"QUERY_RESULT_HEADER",data:Q},[Q.buffer]);break}case"START_PENDING_QUERY":{let Q=this._bindings.startPendingQuery($.data[0],$.data[1],$.data[2]),J=[];Q&&J.push(Q.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:Q},J);break}case"POLL_PENDING_QUERY":{let Q=this._bindings.pollPendingQuery($.data),J=[];Q&&J.push(Q.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:Q},J);break}case"CANCEL_PENDING_QUERY":{let Q=this._bindings.cancelPendingQuery($.data);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"SUCCESS",data:Q},[]);break}case"FETCH_QUERY_RESULTS":{let Q=this._bindings.fetchQueryResults($.data),J=Q?[Q.buffer]:[];this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"QUERY_RESULT_CHUNK",data:Q},J);break}case"GET_TABLE_NAMES":{let Q=this._bindings.getTableNames($.data[0],$.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"TABLE_NAMES",data:Q},[]);break}case"GLOB_FILE_INFOS":{let Q=this._bindings.globFiles($.data);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"FILE_INFOS",data:Q},[]);break}case"REGISTER_FILE_URL":this._bindings.registerFileURL($.data[0],$.data[1],$.data[2],$.data[3]),this.sendOK($);break;case"REGISTER_FILE_BUFFER":this._bindings.registerFileBuffer($.data[0],$.data[1]),this.sendOK($);break;case"REGISTER_FILE_HANDLE":await this._bindings.registerFileHandleAsync($.data[0],$.data[1],$.data[2],$.data[3]),this.sendOK($);break;case"COPY_FILE_TO_PATH":this._bindings.copyFileToPath($.data[0],$.data[1]),this.sendOK($);break;case"COPY_FILE_TO_BUFFER":{let Q=this._bindings.copyFileToBuffer($.data);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"FILE_BUFFER",data:Q},[]);break}case"COLLECT_FILE_STATISTICS":this._bindings.collectFileStatistics($.data[0],$.data[1]),this.sendOK($);break;case"REGISTER_OPFS_FILE_NAME":this._bindings.registerOPFSFileName($.data[0]),this.sendOK($);break;case"EXPORT_FILE_STATISTICS":{this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"FILE_STATISTICS",data:this._bindings.exportFileStatistics($.data)},[]);break}case"INSERT_ARROW_FROM_IPC_STREAM":{this._bindings.insertArrowFromIPCStream($.data[0],$.data[1],$.data[2]),this.sendOK($);break}case"IMPORT_CSV_FROM_PATH":{this._bindings.insertCSVFromPath($.data[0],$.data[1],$.data[2]),this.sendOK($);break}case"IMPORT_JSON_FROM_PATH":{this._bindings.insertJSONFromPath($.data[0],$.data[1],$.data[2]),this.sendOK($);break}case"TOKENIZE":{let Q=this._bindings.tokenize($.data);this.postMessage({messageId:this._nextMessageId++,requestId:$.messageId,type:"SCRIPT_TOKENS",data:Q},[]);break}}}catch(Q){return console.log(Q),this.failWith($,Q)}}},Ko0=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),Yo0=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),qo0=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),Zo0=()=>(async($)=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate($)}catch(Q){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),Ax={name:"@duckdb/duckdb-wasm",version:"1.30.0",description:"DuckDB powered by WebAssembly",license:"MIT",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^17.0.0"},devDependencies:{"@types/emscripten":"^1.39.10","@types/jasmine":"^5.1.4","@typescript-eslint/eslint-plugin":"^6.21.0","@typescript-eslint/parser":"^6.21.0",esbuild:"^0.20.2",eslint:"^8.57.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.34.0","fast-glob":"^3.3.2",jasmine:"^5.1.0","jasmine-core":"^5.1.2","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.11.1",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-coverage":"^2.2.1","karma-firefox-launcher":"^2.1.3","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.1.0","karma-sourcemap-loader":"^0.4.0","karma-spec-reporter":"^0.0.36","make-dir":"^4.0.0",nyc:"^15.1.0",prettier:"^3.2.5",puppeteer:"^22.8.0",rimraf:"^5.0.5",s3rver:"^3.7.1",typedoc:"^0.25.13",typescript:"^5.3.3","wasm-feature-detect":"^1.6.1","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",format:'prettier --write "**/*.+(js|ts)"',report:"node ./coverage.mjs","test:node":"node --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/tests-*","!dist/duckdb-browser-mvp.worker.js.map","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-node-blocking.d.ts",import:"./dist/duckdb-node-blocking.mjs",require:"./dist/duckdb-node-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},XX0=Ax.name,WX0=Ax.version,Vx=Ax.version.split("."),Xo0=Vx[0],Wo0=Vx[1],Fo0=Vx[2],Rx=()=>typeof navigator>"u",FX0=()=>Rx()?"node":navigator.userAgent,Uo0=()=>FX0().includes("Firefox"),Ho0=()=>/^((?!chrome|android).)*safari/i.test(FX0());function No0(){let $="https://cdn.jsdelivr.net/npm/".concat(XX0,"@").concat(WX0,"/dist/");return{mvp:{mainModule:"".concat($,"duckdb-mvp.wasm"),mainWorker:"".concat($,"duckdb-browser-mvp.worker.js")},eh:{mainModule:"".concat($,"duckdb-eh.wasm"),mainWorker:"".concat($,"duckdb-browser-eh.worker.js")}}}var Xx=null,Wx=null,Fx=null,Ux=null,Hx=null;async function UX0(){return Xx==null&&(Xx=typeof BigInt64Array<"u"),Wx==null&&(Wx=await Yo0()),Fx==null&&(Fx=await Zo0()),Ux==null&&(Ux=await qo0()),Hx==null&&(Hx=await Ko0()),{bigInt64Array:Xx,crossOriginIsolated:Rx()||globalThis.crossOriginIsolated||!1,wasmExceptions:Wx,wasmSIMD:Ux,wasmThreads:Fx,wasmBulkMemory:Hx}}async function Bo0($){let Q=await UX0();if(Q.wasmExceptions){if(Q.wasmSIMD&&Q.wasmThreads&&Q.crossOriginIsolated&&$.coi)return{mainModule:$.coi.mainModule,mainWorker:$.coi.mainWorker,pthreadWorker:$.coi.pthreadWorker};if($.eh)return{mainModule:$.eh.mainModule,mainWorker:$.eh.mainWorker,pthreadWorker:null}}return{mainModule:$.mvp.mainModule,mainWorker:$.mvp.mainWorker,pthreadWorker:null}}var zo0=Bx(ds0());async function Ao0($){let Q=new Request($),J=await fetch(Q),K=URL.createObjectURL(await J.blob());return new zo0.default(K)}});var Gx=w0((vo0)=>{var Y7=x1(n6(),1);function qH(){return qH=Object.assign||function($){for(var Q=1;Q<arguments.length;Q++){var J=arguments[Q];for(var K in J)if(Object.prototype.hasOwnProperty.call(J,K))$[K]=J[K]}return $},qH.apply(this,arguments)}var jE1=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator",EE1=typeof Symbol<"u"?Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")):"@@asyncIterator";function Vo0($,Q){try{var J=$()}catch(K){return Q(!0,K)}if(J&&J.then)return J.then(Q.bind(null,!1),Q.bind(null,!0));return Q(!1,value)}var Ro0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Y7.useLayoutEffect:Y7.useEffect,Go0=function(Q){var J=Y7.useRef(Q);return Ro0(function(){J.current=Q}),Y7.useCallback(function(){return J.current},[J])},wo0={status:"not-requested",loading:!1,result:void 0,error:void 0},BX0={status:"loading",loading:!0,result:void 0,error:void 0},Oo0=function(Q){return BX0},To0=function(Q,J){return{status:"success",loading:!1,result:Q,error:void 0}},Do0=function(Q,J){return{status:"error",loading:!1,result:void 0,error:Q}},NX0=function(){},Co0={initialState:function(Q){return Q&&Q.executeOnMount?BX0:wo0},executeOnMount:!0,executeOnUpdate:!0,setLoading:Oo0,setResult:To0,setError:Do0,onSuccess:NX0,onError:NX0},Po0=function(Q){return qH({},Co0,{},Q)},ko0=function(Q){var J=Y7.useState(function(){return Q.initialState(Q)}),K=J[0],Y=J[1],q=Y7.useCallback(function(){return Y(Q.initialState(Q))},[Y,Q]),Z=Y7.useCallback(function(){return Y(Q.setLoading(K))},[K,Y]),X=Y7.useCallback(function(H){return Y(Q.setResult(H,K))},[K,Y]),W=Y7.useCallback(function(H){return Y(Q.setError(H,K))},[K,Y]),F=Y7.useCallback(function(H){return Y(qH({},K,{},H))},[K,Y]);return{value:K,set:Y,merge:F,reset:q,setLoading:Z,setResult:X,setError:W}},jo0=function(){var Q=Y7.useRef(!1);return Y7.useEffect(function(){return Q.current=!0,function(){Q.current=!1}},[]),function(){return Q.current}},Eo0=function(){var Q=Y7.useRef(null);return{set:function(K){return Q.current=K},get:function(){return Q.current},is:function(K){return Q.current===K}}},zX0=function(Q,J,K){!J&&(J=[]);var Y=Po0(K),q=Y7.useState(null),Z=q[0],X=q[1],W=ko0(Y),F=jo0(),H=Eo0(),B=function(T){return F()&&H.is(T)},z=function(){for(var T=arguments.length,D=Array(T),P=0;P<T;P++)D[P]=arguments[P];var j=function(){try{return Promise.resolve(Q.apply(void 0,D))}catch(E){return Promise.reject(E)}}();return X(D),H.set(j),W.setLoading(),j.then(function(E){if(B(j))W.setResult(E);Y.onSuccess(E,{isCurrent:function(){return H.is(j)}})},function(E){if(B(j))W.setError(E);Y.onError(E,{isCurrent:function(){return H.is(j)}})}),j},A=Go0(z),R=Y7.useCallback(function(){return A().apply(void 0,arguments)},[A]),G=!F();return Y7.useEffect(function(){var w=function(){return A().apply(void 0,J)};G&&Y.executeOnMount&&w(),!G&&Y.executeOnUpdate&&w()},J),qH({},W.value,{set:W.set,merge:W.merge,reset:W.reset,execute:R,currentPromise:H.get(),currentParams:Z})};function AX0($,Q,J){return zX0($,Q,J)}var Lo0=function(Q,J,K){var Y=Y7.useRef(),q=function(){for(var X=arguments.length,W=Array(X),F=0;F<X;F++)W[F]=arguments[F];try{if(Y.current)Y.current.abort();var H=new AbortController;return Y.current=H,Promise.resolve(Vo0(function(){return Promise.resolve(Q.apply(void 0,[H.signal].concat(W)))},function(B,z){if(Y.current===H)Y.current=void 0;if(B)throw z;return z}))}catch(B){return Promise.reject(B)}};return AX0(q,J,K)},ho0=function(Q,J){return zX0(Q,[],qH({},J,{executeOnMount:!1,executeOnUpdate:!1}))};vo0.useAsync=AX0;vo0.useAsyncAbortable=Lo0;vo0.useAsyncCallback=ho0});var SX0=w0((hE1,vX0)=>{var{create:Io0,defineProperty:bC,getOwnPropertyDescriptor:Mo0,getOwnPropertyNames:bo0,getPrototypeOf:go0}=Object,yo0=Object.prototype.hasOwnProperty,xo0=($,Q)=>{for(var J in Q)bC($,J,{get:Q[J],enumerable:!0})},VX0=($,Q,J,K)=>{if(Q&&typeof Q==="object"||typeof Q==="function"){for(let Y of bo0(Q))if(!yo0.call($,Y)&&Y!==J)bC($,Y,{get:()=>Q[Y],enumerable:!(K=Mo0(Q,Y))||K.enumerable})}return $},RX0=($,Q,J)=>(J=$!=null?Io0(go0($)):{},VX0(Q||!$||!$.__esModule?bC(J,"default",{value:$,enumerable:!0}):J,$)),co0=($)=>VX0(bC({},"__esModule",{value:!0}),$),q7=($,Q,J)=>{return new Promise((K,Y)=>{var q=(W)=>{try{X(J.next(W))}catch(F){Y(F)}},Z=(W)=>{try{X(J.throw(W))}catch(F){Y(F)}},X=(W)=>W.done?K(W.value):Promise.resolve(W.value).then(q,Z);X((J=J.apply($,Q)).next())})},GX0={};xo0(GX0,{ARROW_MIME_TYPE:()=>CX0,AsyncDuckDB:()=>uo0.AsyncDuckDB,CSV_MIME_TYPE:()=>jX0,InsertFileError:()=>ZH,PARQUET_MIME_TYPE:()=>EX0,arrayBufferToArrow:()=>kx,arrowToArrayBuffer:()=>kX0,arrowToJSON:()=>$a0,cardinalities:()=>to0,drop:()=>ao0,exportArrow:()=>Qa0,exportCsv:()=>Ja0,exportParquet:()=>Ka0,getDuckDB:()=>OX0,getTempFilename:()=>YV,initializeDuckDb:()=>wX0,insertArrow:()=>Tx,insertArrowTable:()=>hX0,insertCSV:()=>Ox,insertFile:()=>Xa0,insertParquet:()=>Dx,isArrow:()=>eo0,isArrowFile:()=>PX0,isParquetFile:()=>LX0,runQuery:()=>P3,useDuckDb:()=>TX0,useDuckDbQuery:()=>so0});vX0.exports=co0(GX0);var uo0=JV(),mo0=Gx(),IC=RX0(JV()),po0=JV(),do0="\x1B[31m",no0="\x1B[0m",lo0=($,Q,J=void 0)=>{let Y=(J!=null?J:performance.now())-Q,q;switch(!0){case Y>=1000:q=`${(Y/1000).toFixed(1)}s`;break;case Y>=1:q=`${Y.toFixed(0)}ms`;break;default:q=`${Y.toFixed(3)}ms`;break}return`${do0}[${q}] ${no0}${$}`},Cx=($,Q,J=void 0)=>{console.debug(lo0($,Q,J))},MC,KV;function wX0($){return q7(this,null,function*(){let{debug:Q=!1,config:J}=$||{};if(MC=Q,KV===void 0)KV=ro0(J);return KV})}var ro0=($)=>q7(null,null,function*(){let Q=performance.now(),J=IC.getJsDelivrBundles(),K=yield IC.selectBundle(J),Y=URL.createObjectURL(new Blob([`importScripts("${K.mainWorker}");`],{type:"text/javascript"})),q=new Worker(Y),Z=MC?new IC.ConsoleLogger:new IC.VoidLogger,X=new po0.AsyncDuckDB(Z,q);if(yield X.instantiate(K.mainModule,K.pthreadWorker),URL.revokeObjectURL(Y),$){if($.path){let F=yield(yield fetch($.path)).arrayBuffer(),H=$.path.match(/[^/]*$/);if(H)$.path=H[0];yield X.registerFileBuffer($.path,new Uint8Array(F))}yield X.open($)}if(MC){if(Cx("DuckDB initialized",Q),$)console.debug(`DuckDbConfig: ${JSON.stringify($,null,2)}`)}return X}),OX0=()=>q7(null,null,function*(){if(KV)return KV;return yield wX0()}),TX0=()=>{let{result:$,loading:Q,error:J}=(0,mo0.useAsync)(()=>q7(null,null,function*(){return yield OX0()}),[]);return{db:$,loading:Q,error:J}},io0=Gx(),P3=($,Q)=>q7(null,null,function*(){let J=performance.now(),K=yield $.connect(),Y=yield K.query(Q);return yield K.close(),MC&&Cx(`Run query: ${Q}`,J),Y}),so0=($)=>{let{db:Q}=TX0(),{result:J,loading:K,error:Y}=(0,io0.useAsync)(()=>q7(null,null,function*(){if(!Q||!$)return;return yield P3(Q,$)}),[Q,$]);return{arrow:J,loading:K,error:Y}},oo0=($,Q)=>q7(null,null,function*(){let J=yield P3($,`select table_type from information_schema.tables where table_name = '${Q}'`);if(J.numRows===1){let K=J.get(0),Y=K==null?void 0:K.toArray()[0];switch(Y){case"BASE TABLE":return"Table";case"VIEW":return"View";default:throw Error(`Unexpected table type: ${Y}`)}}return}),ao0=($,Q)=>q7(null,null,function*(){let J=yield oo0($,Q);if(J==="Table")yield P3($,`drop table if exists "${Q}"`);else if(J==="View")yield P3($,`drop view if exists "${Q}"`)}),DX0=($,Q)=>q7(null,null,function*(){let J=yield P3($,`select column_name, data_type from information_schema.columns where table_name = '${Q}'`),K=new Map;for(let Y=0;Y<J.numRows;Y++){let q=J.get(Y);if(q){let[Z,X]=q.toArray();K.set(Z,X)}}return K}),to0=($,Q)=>q7(null,null,function*(){let J=yield DX0($,Q),K=Array.from(J.keys()),q=(yield P3($,`select count(distinct columns(*)) from "${Q}"`)).get(0);if(!q)throw Error(`Expected a single row of cardinalities: ${Q}`);let Z=q.toArray();if(Z.length!==K.length)throw Error(`Unexpected length mismatch: ${Q}`);let X={};for(let W=0;W<K.length;W++)X[K[W]]=Z[W];return X}),YV=()=>{let $=Date.now().toString(),Q=Math.random().toString(36).substring(2);return`file-${$}-${Q}`},Px=SC(),CX0="application/vnd.apache.arrow.file",eo0=($)=>$ instanceof Px.Table,PX0=($)=>q7(null,null,function*(){try{let Q=yield $.arrayBuffer();return kx(Q),!0}catch(Q){}return!1}),kx=($)=>{return(0,Px.tableFromIPC)(new Uint8Array($))},kX0=($)=>{return(0,Px.tableToIPC)($,"file").buffer};function $a0($){let Q=[];for(let J=0;J<$.numRows;J++){let K=$.get(J);if(K)Q.push(K.toJSON())}return Q}var jX0="text/csv",EX0="application/vnd.apache.parquet",LX0=($)=>q7(null,null,function*(){return(yield $.slice(0,4).text()).startsWith("PAR1")}),Qa0=($,Q,J)=>q7(null,null,function*(){let K=J||jx(Q,"arrow"),Y=yield P3($,`SELECT * FROM '${Q}'`),q=kX0(Y);return new File([q],K,{type:CX0})}),Ja0=($,Q,J,K=",")=>q7(null,null,function*(){let Y=J||jx(Q,"csv"),q=YV();yield P3($,`COPY '${Q}' TO '${q}' WITH (HEADER 1, DELIMITER '${K}')`);let Z=yield $.copyFileToBuffer(q);return yield $.dropFile(q),new File([Z],Y,{type:jX0})}),Ka0=($,Q,J,K="zstd")=>q7(null,null,function*(){let Y=J||jx(Q,"parquet"),q=YV();yield P3($,`COPY '${Q}' TO '${q}' (FORMAT PARQUET, COMPRESSION ${K})`);let Z=yield $.copyFileToBuffer(q);return yield $.dropFile(q),new File([Z],Y,{type:EX0})}),Ya0=($,Q)=>{let J=$.split("."),K=J.length>1?J.pop():"",Y=J.join(".");if(Q.includes(K))return Y;return $},jx=($,Q)=>{return`${Ya0($,["arrow","csv","parquet"])}.${Q}`},qa0=RX0(JV()),Za0=($,Q)=>q7(null,null,function*(){let J=yield DX0($,Q),K=Array.from(J.keys());for(let Y=0;Y<K.length;Y++){let q=K[Y];if(q.toLowerCase().includes("year"))yield P3($,`ALTER TABLE "${Q}" ALTER COLUMN "${q}" SET DATA TYPE VARCHAR`)}}),ZH=class extends Error{constructor($,Q){super(Q);this.title=$,this.name="InsertFileError"}},Xa0=($,Q,J,K=!1)=>q7(null,null,function*(){let Y=performance.now();if(yield Wa0($,Q,J),K)Cx(`Imported ${Q.name}`,Y)}),Wa0=($,Q,J)=>q7(null,null,function*(){try{let K=J||Q.name;if(yield LX0(Q)){yield Dx($,Q,K);return}if(yield PX0(Q)){yield Tx($,Q,K);return}switch(Q.name.toLowerCase().split(".").at(-1)){case"arrow":yield Tx($,Q,K);return;case"parquet":yield Dx($,Q,K);return;case"csv":yield Ox($,Q,K);return}return yield Ox($,Q,K)}catch(K){if(console.error(K),K instanceof ZH)throw K;else throw new ZH("Invalid file type","Only CSV, Parquet, or Arrow files are supported")}}),Ox=($,Q,J)=>q7(null,null,function*(){try{let K=yield Q.text(),Y=YV();yield $.registerFileText(Y,K);let q=yield $.connect();yield q.insertCSVFromPath(Y,{name:J,schema:"main",detect:!0}),yield q.close(),$.dropFile(Y),yield Za0($,J)}catch(K){if(console.error(K),Q.type==="text/csv"||Q.name.toLowerCase().endsWith(".csv"))throw new ZH("CSV import failed","Sorry, we couldn't import that CSV. Please try again.");throw K}}),Tx=($,Q,J)=>q7(null,null,function*(){try{let K=yield Q.arrayBuffer(),Y=kx(K);yield hX0($,Y,J)}catch(K){throw console.error(K),new ZH("Arrow import failed","Sorry, we couldn't import that file")}}),hX0=($,Q,J)=>q7(null,null,function*(){let K=yield $.connect();yield K.insertArrowTable(Q,{name:J}),yield K.close()}),Dx=($,Q,J)=>q7(null,null,function*(){try{let K=`${YV()}.parquet`;yield $.registerFileHandle(K,Q,qa0.DuckDBDataProtocol.BROWSER_FILEREADER,!0),yield P3($,`CREATE TABLE '${J}' AS SELECT * FROM '${K}'`),yield $.dropFile(K)}catch(K){throw console.error(K),new ZH("Parquet import failed","Sorry, we couldn't import that file")}})});var i6=w0((Fa0)=>{var kX=x1(n6(),1);(function(){function $(n){if(n==null)return null;if(typeof n==="function")return n.$$typeof===S?null:n.displayName||n.name||null;if(typeof n==="string")return n;switch(n){case R:return"Fragment";case w:return"Profiler";case G:return"StrictMode";case j:return"Suspense";case E:return"SuspenseList";case _:return"Activity"}if(typeof n==="object")switch(typeof n.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),n.$$typeof){case A:return"Portal";case D:return(n.displayName||"Context")+".Provider";case T:return(n._context.displayName||"Context")+".Consumer";case P:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case L:return e=n.displayName||null,e!==null?e:$(n.type)||"Memo";case h:e=n._payload,n=n._init;try{return $(n(e))}catch(Z0){}}return null}function Q(n){return""+n}function J(n){try{Q(n);var e=!1}catch(k0){e=!0}if(e){e=console;var Z0=e.error,q0=typeof Symbol==="function"&&Symbol.toStringTag&&n[Symbol.toStringTag]||n.constructor.name||"Object";return Z0.call(e,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",q0),Q(n)}}function K(n){if(n===R)return"<>";if(typeof n==="object"&&n!==null&&n.$$typeof===h)return"<...>";try{var e=$(n);return e?"<"+e+">":"<...>"}catch(Z0){return"<...>"}}function Y(){var n=I.A;return n===null?null:n.getOwner()}function q(){return Error("react-stack-top-frame")}function Z(n){if(M.call(n,"key")){var e=Object.getOwnPropertyDescriptor(n,"key").get;if(e&&e.isReactWarning)return!1}return n.key!==void 0}function X(n,e){function Z0(){u||(u=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",e))}Z0.isReactWarning=!0,Object.defineProperty(n,"key",{get:Z0,configurable:!0})}function W(){var n=$(this.type);return c[n]||(c[n]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),n=this.props.ref,n!==void 0?n:null}function F(n,e,Z0,q0,k0,c0,J1,W1){return Z0=c0.ref,n={$$typeof:z,type:n,key:e,props:c0,_owner:k0},(Z0!==void 0?Z0:null)!==null?Object.defineProperty(n,"ref",{enumerable:!1,get:W}):Object.defineProperty(n,"ref",{enumerable:!1,value:null}),n._store={},Object.defineProperty(n._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(n,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(n,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:J1}),Object.defineProperty(n,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:W1}),Object.freeze&&(Object.freeze(n.props),Object.freeze(n)),n}function H(n,e,Z0,q0,k0,c0,J1,W1){var h1=e.children;if(h1!==void 0)if(q0)if(y(h1)){for(q0=0;q0<h1.length;q0++)B(h1[q0]);Object.freeze&&Object.freeze(h1)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else B(h1);if(M.call(e,"key")){h1=$(n);var X1=Object.keys(e).filter(function(G1){return G1!=="key"});q0=0<X1.length?"{key: someKey, "+X1.join(": ..., ")+": ...}":"{key: someKey}",o[h1+q0]||(X1=0<X1.length?"{"+X1.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,q0,h1,X1,h1),o[h1+q0]=!0)}if(h1=null,Z0!==void 0&&(J(Z0),h1=""+Z0),Z(e)&&(J(e.key),h1=""+e.key),"key"in e){Z0={};for(var r0 in e)r0!=="key"&&(Z0[r0]=e[r0])}else Z0=e;return h1&&X(Z0,typeof n==="function"?n.displayName||n.name||"Unknown":n),F(n,h1,c0,k0,Y(),Z0,J1,W1)}function B(n){typeof n==="object"&&n!==null&&n.$$typeof===z&&n._store&&(n._store.validated=1)}var z=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),D=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.for("react.client.reference"),I=kX.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=Object.prototype.hasOwnProperty,y=Array.isArray,b=console.createTask?console.createTask:function(){return null};kX={react_stack_bottom_frame:function(n){return n()}};var u,c={},m=kX.react_stack_bottom_frame.bind(kX,q)(),i=b(K(q)),o={};Fa0.Fragment=R,Fa0.jsxDEV=function(n,e,Z0,q0,k0,c0){var J1=1e4>I.recentlyCreatedOwnerStacks++;return H(n,e,Z0,q0,k0,c0,J1?Error("react-stack-top-frame"):m,J1?b(K(n)):i)}})()});var Kz0=w0((So1,Rp)=>{Rp.exports=Bj;Rp.exports.default=Bj;function Bj($,Q,J){J=J||2;var K=Q&&Q.length,Y=K?Q[0]*J:$.length,q=$z0($,0,Y,J,!0),Z=[];if(!q||q.next===q.prev)return Z;var X,W,F,H,B,z,A;if(K)q=N91($,Q,q,J);if($.length>80*J){X=F=$[0],W=H=$[1];for(var R=J;R<Y;R+=J){if(B=$[R],z=$[R+1],B<X)X=B;if(z<W)W=z;if(B>F)F=B;if(z>H)H=z}A=Math.max(F-X,H-W),A=A!==0?32767/A:0}return BR(q,Z,J,X,W,A,0),Z}function $z0($,Q,J,K,Y){var q,Z;if(Y===Vp($,Q,J,K)>0)for(q=Q;q<J;q+=K)Z=eB0(q,$[q],$[q+1],Z);else for(q=J-K;q>=Q;q-=K)Z=eB0(q,$[q],$[q+1],Z);if(Z&&zj(Z,Z.next))AR(Z),Z=Z.next;return Z}function rX($,Q){if(!$)return $;if(!Q)Q=$;var J=$,K;do if(K=!1,!J.steiner&&(zj(J,J.next)||s6(J.prev,J,J.next)===0)){if(AR(J),J=Q=J.prev,J===J.next)break;K=!0}else J=J.next;while(K||J!==Q);return Q}function BR($,Q,J,K,Y,q,Z){if(!$)return;if(!Z&&q)R91($,K,Y,q);var X=$,W,F;while($.prev!==$.next){if(W=$.prev,F=$.next,q?F91($,K,Y,q):W91($)){Q.push(W.i/J|0),Q.push($.i/J|0),Q.push(F.i/J|0),AR($),$=F.next,X=F.next;continue}if($=F,$===X){if(!Z)BR(rX($),Q,J,K,Y,q,1);else if(Z===1)$=U91(rX($),Q,J),BR($,Q,J,K,Y,q,2);else if(Z===2)H91($,Q,J,K,Y,q);break}}}function W91($){var Q=$.prev,J=$,K=$.next;if(s6(Q,J,K)>=0)return!1;var Y=Q.x,q=J.x,Z=K.x,X=Q.y,W=J.y,F=K.y,H=Y<q?Y<Z?Y:Z:q<Z?q:Z,B=X<W?X<F?X:F:W<F?W:F,z=Y>q?Y>Z?Y:Z:q>Z?q:Z,A=X>W?X>F?X:F:W>F?W:F,R=K.next;while(R!==Q){if(R.x>=H&&R.x<=z&&R.y>=B&&R.y<=A&&nH(Y,X,q,W,Z,F,R.x,R.y)&&s6(R.prev,R,R.next)>=0)return!1;R=R.next}return!0}function F91($,Q,J,K){var Y=$.prev,q=$,Z=$.next;if(s6(Y,q,Z)>=0)return!1;var X=Y.x,W=q.x,F=Z.x,H=Y.y,B=q.y,z=Z.y,A=X<W?X<F?X:F:W<F?W:F,R=H<B?H<z?H:z:B<z?B:z,G=X>W?X>F?X:F:W>F?W:F,w=H>B?H>z?H:z:B>z?B:z,T=zp(A,R,Q,J,K),D=zp(G,w,Q,J,K),P=$.prevZ,j=$.nextZ;while(P&&P.z>=T&&j&&j.z<=D){if(P.x>=A&&P.x<=G&&P.y>=R&&P.y<=w&&P!==Y&&P!==Z&&nH(X,H,W,B,F,z,P.x,P.y)&&s6(P.prev,P,P.next)>=0)return!1;if(P=P.prevZ,j.x>=A&&j.x<=G&&j.y>=R&&j.y<=w&&j!==Y&&j!==Z&&nH(X,H,W,B,F,z,j.x,j.y)&&s6(j.prev,j,j.next)>=0)return!1;j=j.nextZ}while(P&&P.z>=T){if(P.x>=A&&P.x<=G&&P.y>=R&&P.y<=w&&P!==Y&&P!==Z&&nH(X,H,W,B,F,z,P.x,P.y)&&s6(P.prev,P,P.next)>=0)return!1;P=P.prevZ}while(j&&j.z<=D){if(j.x>=A&&j.x<=G&&j.y>=R&&j.y<=w&&j!==Y&&j!==Z&&nH(X,H,W,B,F,z,j.x,j.y)&&s6(j.prev,j,j.next)>=0)return!1;j=j.nextZ}return!0}function U91($,Q,J){var K=$;do{var Y=K.prev,q=K.next.next;if(!zj(Y,q)&&Qz0(Y,K,K.next,q)&&zR(Y,q)&&zR(q,Y))Q.push(Y.i/J|0),Q.push(K.i/J|0),Q.push(q.i/J|0),AR(K),AR(K.next),K=$=q;K=K.next}while(K!==$);return rX(K)}function H91($,Q,J,K,Y,q){var Z=$;do{var X=Z.next.next;while(X!==Z.prev){if(Z.i!==X.i&&O91(Z,X)){var W=Jz0(Z,X);Z=rX(Z,Z.next),W=rX(W,W.next),BR(Z,Q,J,K,Y,q,0),BR(W,Q,J,K,Y,q,0);return}X=X.next}Z=Z.next}while(Z!==$)}function N91($,Q,J,K){var Y=[],q,Z,X,W,F;for(q=0,Z=Q.length;q<Z;q++){if(X=Q[q]*K,W=q<Z-1?Q[q+1]*K:$.length,F=$z0($,X,W,K,!1),F===F.next)F.steiner=!0;Y.push(w91(F))}Y.sort(B91);for(q=0;q<Y.length;q++)J=z91(Y[q],J);return J}function B91($,Q){return $.x-Q.x}function z91($,Q){var J=A91($,Q);if(!J)return Q;var K=Jz0(J,$);return rX(K,K.next),rX(J,J.next)}function A91($,Q){var J=Q,K=$.x,Y=$.y,q=-1/0,Z;do{if(Y<=J.y&&Y>=J.next.y&&J.next.y!==J.y){var X=J.x+(Y-J.y)*(J.next.x-J.x)/(J.next.y-J.y);if(X<=K&&X>q){if(q=X,Z=J.x<J.next.x?J:J.next,X===K)return Z}}J=J.next}while(J!==Q);if(!Z)return null;var W=Z,F=Z.x,H=Z.y,B=1/0,z;J=Z;do{if(K>=J.x&&J.x>=F&&K!==J.x&&nH(Y<H?K:q,Y,F,H,Y<H?q:K,Y,J.x,J.y)){if(z=Math.abs(Y-J.y)/(K-J.x),zR(J,$)&&(z<B||z===B&&(J.x>Z.x||J.x===Z.x&&V91(Z,J))))Z=J,B=z}J=J.next}while(J!==W);return Z}function V91($,Q){return s6($.prev,$,Q.prev)<0&&s6(Q.next,$,$.next)<0}function R91($,Q,J,K){var Y=$;do{if(Y.z===0)Y.z=zp(Y.x,Y.y,Q,J,K);Y.prevZ=Y.prev,Y.nextZ=Y.next,Y=Y.next}while(Y!==$);Y.prevZ.nextZ=null,Y.prevZ=null,G91(Y)}function G91($){var Q,J,K,Y,q,Z,X,W,F=1;do{J=$,$=null,q=null,Z=0;while(J){Z++,K=J,X=0;for(Q=0;Q<F;Q++)if(X++,K=K.nextZ,!K)break;W=F;while(X>0||W>0&&K){if(X!==0&&(W===0||!K||J.z<=K.z))Y=J,J=J.nextZ,X--;else Y=K,K=K.nextZ,W--;if(q)q.nextZ=Y;else $=Y;Y.prevZ=q,q=Y}J=K}q.nextZ=null,F*=2}while(Z>1);return $}function zp($,Q,J,K,Y){return $=($-J)*Y|0,Q=(Q-K)*Y|0,$=($|$<<8)&16711935,$=($|$<<4)&252645135,$=($|$<<2)&858993459,$=($|$<<1)&1431655765,Q=(Q|Q<<8)&16711935,Q=(Q|Q<<4)&252645135,Q=(Q|Q<<2)&858993459,Q=(Q|Q<<1)&1431655765,$|Q<<1}function w91($){var Q=$,J=$;do{if(Q.x<J.x||Q.x===J.x&&Q.y<J.y)J=Q;Q=Q.next}while(Q!==$);return J}function nH($,Q,J,K,Y,q,Z,X){return(Y-Z)*(Q-X)>=($-Z)*(q-X)&&($-Z)*(K-X)>=(J-Z)*(Q-X)&&(J-Z)*(q-X)>=(Y-Z)*(K-X)}function O91($,Q){return $.next.i!==Q.i&&$.prev.i!==Q.i&&!T91($,Q)&&(zR($,Q)&&zR(Q,$)&&D91($,Q)&&(s6($.prev,$,Q.prev)||s6($,Q.prev,Q))||zj($,Q)&&s6($.prev,$,$.next)>0&&s6(Q.prev,Q,Q.next)>0)}function s6($,Q,J){return(Q.y-$.y)*(J.x-Q.x)-(Q.x-$.x)*(J.y-Q.y)}function zj($,Q){return $.x===Q.x&&$.y===Q.y}function Qz0($,Q,J,K){var Y=Nj(s6($,Q,J)),q=Nj(s6($,Q,K)),Z=Nj(s6(J,K,$)),X=Nj(s6(J,K,Q));if(Y!==q&&Z!==X)return!0;if(Y===0&&Hj($,J,Q))return!0;if(q===0&&Hj($,K,Q))return!0;if(Z===0&&Hj(J,$,K))return!0;if(X===0&&Hj(J,Q,K))return!0;return!1}function Hj($,Q,J){return Q.x<=Math.max($.x,J.x)&&Q.x>=Math.min($.x,J.x)&&Q.y<=Math.max($.y,J.y)&&Q.y>=Math.min($.y,J.y)}function Nj($){return $>0?1:$<0?-1:0}function T91($,Q){var J=$;do{if(J.i!==$.i&&J.next.i!==$.i&&J.i!==Q.i&&J.next.i!==Q.i&&Qz0(J,J.next,$,Q))return!0;J=J.next}while(J!==$);return!1}function zR($,Q){return s6($.prev,$,$.next)<0?s6($,Q,$.next)>=0&&s6($,$.prev,Q)>=0:s6($,Q,$.prev)<0||s6($,$.next,Q)<0}function D91($,Q){var J=$,K=!1,Y=($.x+Q.x)/2,q=($.y+Q.y)/2;do{if(J.y>q!==J.next.y>q&&J.next.y!==J.y&&Y<(J.next.x-J.x)*(q-J.y)/(J.next.y-J.y)+J.x)K=!K;J=J.next}while(J!==$);return K}function Jz0($,Q){var J=new Ap($.i,$.x,$.y),K=new Ap(Q.i,Q.x,Q.y),Y=$.next,q=Q.prev;return $.next=Q,Q.prev=$,J.next=Y,Y.prev=J,K.next=J,J.prev=K,q.next=K,K.prev=q,K}function eB0($,Q,J,K){var Y=new Ap($,Q,J);if(!K)Y.prev=Y,Y.next=Y;else Y.next=K.next,Y.prev=K,K.next.prev=Y,K.next=Y;return Y}function AR($){if($.next.prev=$.prev,$.prev.next=$.next,$.prevZ)$.prevZ.nextZ=$.nextZ;if($.nextZ)$.nextZ.prevZ=$.prevZ}function Ap($,Q,J){this.i=$,this.x=Q,this.y=J,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Bj.deviation=function($,Q,J,K){var Y=Q&&Q.length,q=Y?Q[0]*J:$.length,Z=Math.abs(Vp($,0,q,J));if(Y)for(var X=0,W=Q.length;X<W;X++){var F=Q[X]*J,H=X<W-1?Q[X+1]*J:$.length;Z-=Math.abs(Vp($,F,H,J))}var B=0;for(X=0;X<K.length;X+=3){var z=K[X]*J,A=K[X+1]*J,R=K[X+2]*J;B+=Math.abs(($[z]-$[R])*($[A+1]-$[z+1])-($[z]-$[A])*($[R+1]-$[z+1]))}return Z===0&&B===0?0:Math.abs((B-Z)/Z)};function Vp($,Q,J,K){var Y=0;for(var q=Q,Z=J-K;q<J;q+=K)Y+=($[Z]-$[q])*($[q+1]+$[Z+1]),Z=q;return Y}Bj.flatten=function($){var Q=$[0][0].length,J={vertices:[],holes:[],dimensions:Q},K=0;for(var Y=0;Y<$.length;Y++){for(var q=0;q<$[Y].length;q++)for(var Z=0;Z<Q;Z++)J.vertices.push($[Y][q][Z]);if(Y>0)K+=$[Y-1].length,J.holes.push(K)}return J}});var s_0=x1(n6(),1),o_0=x1(V80(),1);var F_=x1(n6(),1);var R80={filters:[{id:"level_1_name",label:"Country",type:"select-multiple",source:{dataSource:"orgunits",column:"level_1_name"}},{id:"level_2_name",label:"Level 2 Name",type:"select-multiple",source:{dataSource:"orgunits",column:"level_2_name"},dependsOn:"level_1_name"},{id:"level_3_name",label:"Level 3 Name",type:"select-multiple",source:{dataSource:"orgunits",column:"level_3_name"},dependsOn:"level_2_name"},{id:"org_unit_type_name",label:"Org Unit Type",type:"select-multiple",source:{dataSource:"orgunits",column:"org_unit_type_name"}}],widgets:{totalOrgUnits:{type:"keyNumber",label:"Total Org Units",params:{dataSource:"orgunits",queryMode:"aggregate",metrics:[{label:"total_orgunits",sqlExpression:"COUNT(*)"}],rowLimit:1}},orgUnitsByType:{type:"table",label:"Org Units by Type",params:{dataSource:"orgunits",queryMode:"aggregate",groupBy:["org_unit_type_name"],metrics:[{label:"count_orgunits",sqlExpression:"COUNT(*)"}],rowLimit:100}},orgUnitsMap:{type:"map",label:"Org Units Map",params:{dataSource:"orgunits",queryMode:"raw",columns:[{column:"org_unit_simplified_geom_geojson",label:"Simplified Geometry"},{column:"org_unit_name"}],rowLimit:1000}},allOrgunitsTable:{type:"table",label:"All Org Units",params:{dataSource:"orgunits",queryMode:"raw",columns:[{column:"org_unit_name",label:"Name"},{column:"org_unit_level",label:"Level"},{column:"org_unit_type_name",label:"Type"},{column:"level_1_name",label:"Pays"},{column:"level_2_name",label:"Rgion"},{column:"level_3_name",label:"District"},{column:"level_4_name",label:"Pays"}],rowLimit:1000}},orgUnitsWithPoints:{type:"keyNumber",label:"Org Units with Points",params:{dataSource:"orgunits",queryMode:"aggregate",metrics:[{label:"Points",sqlExpression:"COUNT(*) FILTER (WHERE org_unit_longitude IS NOT NULL)"}],rowLimit:1}},orgUnitsWithGeoJson:{type:"keyNumber",label:"Org Units with geojson",params:{dataSource:"orgunits",queryMode:"aggregate",metrics:[{label:"Points",sqlExpression:"COUNT(*) FILTER (WHERE org_unit_simplified_geom_geojson IS NOT NULL)"}],rowLimit:1}},orgunitByTypePerLevel2:{label:"Orgunit by Type per level 2",certification_details:null,viz_type:"bar_chart",type:"bar_chart",params:{dataSource:"orgunits",viz_type:"bar_chart",x_axis:"org_unit_level_2_name",x_axis_sort_series:"name",x_axis_sort_series_ascending:!0,metrics:[{aggregate:"COUNT",column:{column_name:"org_unit_type_name",filterable:!0,groupby:!0,type:"TEXT"},expressionType:"SIMPLE",hasCustomLabel:!1,label:"COUNT(org_unit_type_name)",sqlExpression:null}],groupby:["org_unit_level_2_name","org_unit_type_name"],contributionMode:null,adhoc_filters:[],row_limit:1e4,orientation:"vertical",x_axis_title_margin:15,y_axis_title:"",y_axis_title_margin:15,y_axis_title_position:"Left",sort_series_type:"sum",color_scheme:"colorsOfRainbow",show_value:!1,stack:"Stack",only_total:!0,show_legend:!0,legendType:"scroll",legendOrientation:"top",x_axis_time_format:"smart_date",xAxisLabelRotation:90}}},layout:[{type:"ParquetUploadWidget",className:"mb-4"},{type:"Filters",className:"flex space-x-4 mb-4"},{type:"Container",className:"grid grid-cols-3 gap-4",children:[{type:"Widget",widgetKey:"totalOrgUnits",className:""},{type:"Widget",widgetKey:"orgUnitsWithPoints",className:""},{type:"Widget",widgetKey:"orgUnitsWithGeoJson",className:""}]},{type:"Widget",widgetKey:"orgunitByTypePerLevel2",className:"col-span-3 h-[500px]"},{type:"Widget",widgetKey:"orgUnitsByType",className:"col-span-2"},{type:"ConditionalWidget",widgetKey:"orgUnitsMap",invertCondition:!0,className:"col-span-3 h-[500px]"},{type:"Widget",widgetKey:"allOrgunitsTable",className:"col-span-3"}]};var XH=x1(n6(),1),_X0=x1(SX0(),1),MX0=x1(i6(),1),fX0=XH.createContext(null);function IX0({children:$}){let{db:Q}=_X0.useDuckDb(),[J,K]=XH.useState(0),Y=()=>K((q)=>q+1);return MX0.jsxDEV(fX0.Provider,{value:{db:Q,tableVersion:J,refreshTables:Y},children:$},void 0,!1,void 0,this)}function I8(){let $=XH.useContext(fX0);if(!$)throw Error("useDuckDB must be used within a DuckDBProvider");return $}var W_=x1(n6(),1);var vx=x1(n6(),1);var{create:Ua0,defineProperty:bX0,getOwnPropertyDescriptor:Ha0,getOwnPropertyNames:Na0,getPrototypeOf:Ba0}=Object,za0=Object.prototype.hasOwnProperty,Aa0=($,Q)=>()=>(Q||$((Q={exports:{}}).exports,Q),Q.exports),Va0=($,Q,J,K)=>{if(Q&&typeof Q=="object"||typeof Q=="function")for(let Y of Na0(Q))!za0.call($,Y)&&Y!==J&&bX0($,Y,{get:()=>Q[Y],enumerable:!(K=Ha0(Q,Y))||K.enumerable});return $},Ra0=($,Q,J)=>(J=$!=null?Ua0(Ba0($)):{},Va0(Q||!$||!$.__esModule?bX0(J,"default",{value:$,enumerable:!0}):J,$)),Ga0=Aa0(($,Q)=>{Q.exports=Worker}),wa0=(($)=>($[$.UNDEFINED=0]="UNDEFINED",$[$.AUTOMATIC=1]="AUTOMATIC",$[$.READ_ONLY=2]="READ_ONLY",$[$.READ_WRITE=3]="READ_WRITE",$))(wa0||{}),Oa0=(($)=>($[$.IDENTIFIER=0]="IDENTIFIER",$[$.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",$[$.STRING_CONSTANT=2]="STRING_CONSTANT",$[$.OPERATOR=3]="OPERATOR",$[$.KEYWORD=4]="KEYWORD",$[$.COMMENT=5]="COMMENT",$))(Oa0||{}),Ta0=(($)=>($[$.NONE=0]="NONE",$[$.DEBUG=1]="DEBUG",$[$.INFO=2]="INFO",$[$.WARNING=3]="WARNING",$[$.ERROR=4]="ERROR",$))(Ta0||{}),Da0=(($)=>($[$.NONE=0]="NONE",$[$.CONNECT=1]="CONNECT",$[$.DISCONNECT=2]="DISCONNECT",$[$.OPEN=3]="OPEN",$[$.QUERY=4]="QUERY",$[$.INSTANTIATE=5]="INSTANTIATE",$))(Da0||{}),Ca0=(($)=>($[$.NONE=0]="NONE",$[$.OK=1]="OK",$[$.ERROR=2]="ERROR",$[$.START=3]="START",$[$.RUN=4]="RUN",$[$.CAPTURE=5]="CAPTURE",$))(Ca0||{}),Pa0=(($)=>($[$.NONE=0]="NONE",$[$.WEB_WORKER=1]="WEB_WORKER",$[$.NODE_WORKER=2]="NODE_WORKER",$[$.BINDINGS=3]="BINDINGS",$[$.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",$))(Pa0||{});var ka0=(($)=>($[$.SUCCESS=0]="SUCCESS",$[$.MAX_ARROW_ERROR=255]="MAX_ARROW_ERROR",$[$.DUCKDB_WASM_RETRY=256]="DUCKDB_WASM_RETRY",$))(ka0||{});var ja0=(($)=>($.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",$.CLOSE_PREPARED="CLOSE_PREPARED",$.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",$.REGISTER_OPFS_FILE_NAME="REGISTER_OPFS_FILE_NAME",$.CONNECT="CONNECT",$.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",$.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",$.CREATE_PREPARED="CREATE_PREPARED",$.DISCONNECT="DISCONNECT",$.DROP_FILE="DROP_FILE",$.DROP_FILES="DROP_FILES",$.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",$.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",$.FLUSH_FILES="FLUSH_FILES",$.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",$.GET_TABLE_NAMES="GET_TABLE_NAMES",$.GET_VERSION="GET_VERSION",$.GLOB_FILE_INFOS="GLOB_FILE_INFOS",$.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",$.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",$.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",$.INSTANTIATE="INSTANTIATE",$.OPEN="OPEN",$.PING="PING",$.POLL_PENDING_QUERY="POLL_PENDING_QUERY",$.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",$.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",$.REGISTER_FILE_URL="REGISTER_FILE_URL",$.RESET="RESET",$.RUN_PREPARED="RUN_PREPARED",$.RUN_QUERY="RUN_QUERY",$.SEND_PREPARED="SEND_PREPARED",$.START_PENDING_QUERY="START_PENDING_QUERY",$.TOKENIZE="TOKENIZE",$))(ja0||{}),Ea0=(($)=>($.CONNECTION_INFO="CONNECTION_INFO",$.ERROR="ERROR",$.FEATURE_FLAGS="FEATURE_FLAGS",$.FILE_BUFFER="FILE_BUFFER",$.FILE_INFOS="FILE_INFOS",$.FILE_SIZE="FILE_SIZE",$.FILE_STATISTICS="FILE_STATISTICS",$.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",$.LOG="LOG",$.PROGRESS_UPDATE="PROGRESS_UPDATE",$.OK="OK",$.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",$.QUERY_PLAN="QUERY_PLAN",$.QUERY_RESULT="QUERY_RESULT",$.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",$.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",$.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",$.REGISTERED_FILE="REGISTERED_FILE",$.SCRIPT_TOKENS="SCRIPT_TOKENS",$.SUCCESS="SUCCESS",$.TABLE_NAMES="TABLE_NAMES",$.VERSION_STRING="VERSION_STRING",$))(Ea0||{});function La0(){let $=new TextDecoder;return(Q)=>(typeof SharedArrayBuffer<"u"&&Q.buffer instanceof SharedArrayBuffer&&(Q=new Uint8Array(Q)),$.decode(Q))}var bE1=La0(),Ex=(($)=>($[$.BUFFER=0]="BUFFER",$[$.NODE_FS=1]="NODE_FS",$[$.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",$[$.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",$[$.HTTP=4]="HTTP",$[$.S3=5]="S3",$))(Ex||{});var Lx={name:"@duckdb/duckdb-wasm",version:"1.30.0",description:"DuckDB powered by WebAssembly",license:"MIT",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^17.0.0"},devDependencies:{"@types/emscripten":"^1.39.10","@types/jasmine":"^5.1.4","@typescript-eslint/eslint-plugin":"^6.21.0","@typescript-eslint/parser":"^6.21.0",esbuild:"^0.20.2",eslint:"^8.57.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.34.0","fast-glob":"^3.3.2",jasmine:"^5.1.0","jasmine-core":"^5.1.2","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.11.1",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-coverage":"^2.2.1","karma-firefox-launcher":"^2.1.3","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.1.0","karma-sourcemap-loader":"^0.4.0","karma-spec-reporter":"^0.0.36","make-dir":"^4.0.0",nyc:"^15.1.0",prettier:"^3.2.5",puppeteer:"^22.8.0",rimraf:"^5.0.5",s3rver:"^3.7.1",typedoc:"^0.25.13",typescript:"^5.3.3","wasm-feature-detect":"^1.6.1","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",format:'prettier --write "**/*.+(js|ts)"',report:"node ./coverage.mjs","test:node":"node --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/tests-*","!dist/duckdb-browser-mvp.worker.js.map","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-node-blocking.d.ts",import:"./dist/duckdb-node-blocking.mjs",require:"./dist/duckdb-node-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},gE1=Lx.name,yE1=Lx.version,hx=Lx.version.split("."),xE1=hx[0],cE1=hx[1],uE1=hx[2];var mE1=Ra0(Ga0());var I$=x1(i6(),1);function gX0(){let{db:$,refreshTables:Q}=I8(),[J,K]=vx.useState("orgunits"),[Y,q]=vx.useState("");return I$.jsxDEV("div",{className:"p-4 border rounded-2xl bg-gray-50",children:[I$.jsxDEV("div",{className:"flex items-center gap-2",children:[I$.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"Upload Parquet File"},void 0,!1,void 0,this),I$.jsxDEV("input",{type:"file",accept:".parquet",onChange:async(X)=>{let W=X.target.files?.[0];if(!W||!$)return;q("Registering...");try{await $.registerFileHandle(W.name,W,Ex.BROWSER_FILEREADER);let F=await $.connect();await F.query(`CREATE OR REPLACE TABLE ${J} AS SELECT * FROM read_parquet('${W.name}')`),await F.close(),q(` Registered table: ${J}`),Q()}catch(F){console.error(F),q(" Failed to register file")}}},void 0,!1,void 0,this)]},void 0,!0,void 0,this),I$.jsxDEV("div",{className:"flex items-center gap-2",children:[I$.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"Table Name"},void 0,!1,void 0,this),I$.jsxDEV("input",{type:"text",value:J,onChange:(X)=>K(X.target.value),className:"border rounded px-2 py-1"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),Y&&I$.jsxDEV("div",{className:"mt-2 text-sm text-gray-700",children:Y},void 0,!1,void 0,this),J&&I$.jsxDEV("div",{className:"mt-1 text-xs text-gray-500",children:["Table name: ",I$.jsxDEV("code",{children:J},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)}var yC=x1(n6(),1);class IK{config;filters;db;constructor($,Q,J=[]){this.db=$,this.config=Q,this.filters=J}buildSQL(){let $=this.config.params,Q=$.dataSource.split("__")[0],J=$.queryMode==="aggregate",K=[];if(J){for(let H of $.metrics??[])if(typeof H==="string")K.push(H);else if(H.sqlExpression&&H.label)K.push(`${H.sqlExpression} AS "${H.label}"`);if($.groupBy?.length)K.unshift(...$.groupBy)}else if($.columns&&$.columns.length>0){let H=$.columns.map((B)=>{return B.label?`${B.column} AS "${B.label}"`:B.column});K.push(H.join(", "))}else K.push("*");let Y=`SELECT ${K.join(", ")} FROM ${Q}`,q=[],Z=$.adhocFilters??[],X=Object.entries(this.filters).flatMap(([H,B])=>{if(B.length>0)return[{subject:H,operator:"IN",comparator:B,clause:"WHERE",expressionType:"SQL"}];return[]}),W=[...Z,...X],F=[];for(let H of W){let B=this.filterToSQL(H);if(B)F.push(B.sql),q=q.concat(B.params)}if(F.length)Y+=` WHERE ${F.join(" AND ")}`;if(J&&$.groupBy?.length)Y+=` GROUP BY ${$.groupBy.join(", ")}`;if($.rowLimit)Y+=` LIMIT ${$.rowLimit}`;return{sql:Y,params:q}}filterToSQL($){if($.operator==="IN"&&Array.isArray($.comparator)){let Q=$.comparator.map(()=>"?").join(", ");return{sql:`${$.subject} IN (${Q})`,params:$.comparator}}if($.operator==="=")return{sql:`${$.subject} = ?`,params:[$.comparator]};return null}async execute(){let $=await this.db.connect(),Q=this.config.params.dataSource.split("__")[0];try{if((await $.query(`SELECT 1 FROM information_schema.tables WHERE table_name = '${Q}'`)).numRows===0)return console.warn(`Table '${Q}' does not exist.`),[];let{sql:K,params:Y}=this.buildSQL();return console.log("executing query "+K,Y),(await(await $.prepare(K)).query(...Y)).toArray()}catch(J){return console.error("Error executing query:",J),[]}finally{await $.close()}}}var gC=x1(i6(),1);function yX0({config:$,filters:Q=[]}){let{db:J,tableVersion:K}=I8(),[Y,q]=yC.useState(null);return yC.useEffect(()=>{if(!J)return;new IK(J,$,Q).execute().then((X)=>{if(X.length===0)return q(null);let W=Object.values(X[0])[0];q(typeof W==="number"?W:Number(W))})},[J,$,Q,K]),gC.jsxDEV("div",{className:"p-4 bg-white shadow rounded-2xl text-center",children:[$.label&&gC.jsxDEV("div",{className:"text-gray-500 text-sm",children:$.label},void 0,!1,void 0,this),gC.jsxDEV("div",{className:"text-3xl font-semibold",children:Y!==null?Y.toLocaleString():""},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}var xC=x1(n6(),1);var MK=x1(i6(),1);function xX0({config:$,filters:Q=[]}){let{db:J,tableVersion:K}=I8(),[Y,q]=xC.useState([]);if(xC.useEffect(()=>{if(!J)return;new IK(J,$,Q).execute().then(q)},[J,$,Q,K]),!Y.length)return MK.jsxDEV("div",{children:"Loading"},void 0,!1,void 0,this);let Z=$.params.columns?$.params.columns.map((W)=>W.label||W.column):Object.keys(Y[0]),X=$.params.columns?$.params.columns.map((W)=>W.label||W.column):Object.keys(Y[0]);return MK.jsxDEV("table",{className:"border text-sm w-full",children:[MK.jsxDEV("thead",{children:MK.jsxDEV("tr",{children:Z.map((W)=>MK.jsxDEV("th",{className:"p-2 bg-gray-100",children:W},W,!1,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this),MK.jsxDEV("tbody",{children:Y.map((W,F)=>MK.jsxDEV("tr",{className:"border-t",children:X.map((H)=>MK.jsxDEV("td",{className:"p-2",children:String(W[H])},H,!1,void 0,this))},F,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}var Mj=x1(n6(),1);function mq($,Q){if(!$)throw Error(Q||"loader assertion failed.")}var QJ={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document},ha0=QJ.self||QJ.window||QJ.global||{},va0=QJ.window||QJ.self||QJ.global||{},Sa0=QJ.global||QJ.self||QJ.window||{},_a0=QJ.document||{};var jX=Boolean(typeof process!=="object"||String(process)!=="[object process]"||!0);var cX0=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),fa0=cX0&&parseFloat(cX0[1])||0;var cC=globalThis,Ia0=globalThis.document||{},uC=globalThis.process||{},Ma0=globalThis.console,Sx=globalThis.navigator||{};function mC($){if(typeof window<"u"&&window.process?.type==="renderer")return!0;if(typeof process<"u"&&Boolean(process.versions?.electron))return!0;let Q=typeof navigator<"u"&&navigator.userAgent,J=$||Q;return Boolean(J&&J.indexOf("Electron")>=0)}function W4(){return!(typeof process==="object"&&String(process)==="[object process]"&&!process?.browser)||mC()}function _x($){if(!$&&!W4())return"Node";if(mC($))return"Electron";if(($||Sx.userAgent||"").indexOf("Edge")>-1)return"Edge";if(globalThis.chrome)return"Chrome";if(globalThis.safari)return"Safari";if(globalThis.mozInnerScreenX)return"Firefox";return"Unknown"}var fx="4.1.0";function ga0($){try{let Q=window[$],J="__storage_test__";return Q.setItem("__storage_test__","__storage_test__"),Q.removeItem("__storage_test__"),Q}catch(Q){return null}}class Ix{constructor($,Q,J="sessionStorage"){this.storage=ga0(J),this.id=$,this.config=Q,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration($){if(Object.assign(this.config,$),this.storage){let Q=JSON.stringify(this.config);this.storage.setItem(this.id,Q)}}_loadConfiguration(){let $={};if(this.storage){let Q=this.storage.getItem(this.id);$=Q?JSON.parse(Q):{}}return Object.assign(this.config,$),this}}function uX0($){let Q;if($<10)Q=`${$.toFixed(2)}ms`;else if($<100)Q=`${$.toFixed(1)}ms`;else if($<1000)Q=`${$.toFixed(0)}ms`;else Q=`${($/1000).toFixed(2)}s`;return Q}function mX0($,Q=8){let J=Math.max(Q-$.length,0);return`${" ".repeat(J)}${$}`}var pC;(function($){$[$.BLACK=30]="BLACK",$[$.RED=31]="RED",$[$.GREEN=32]="GREEN",$[$.YELLOW=33]="YELLOW",$[$.BLUE=34]="BLUE",$[$.MAGENTA=35]="MAGENTA",$[$.CYAN=36]="CYAN",$[$.WHITE=37]="WHITE",$[$.BRIGHT_BLACK=90]="BRIGHT_BLACK",$[$.BRIGHT_RED=91]="BRIGHT_RED",$[$.BRIGHT_GREEN=92]="BRIGHT_GREEN",$[$.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",$[$.BRIGHT_BLUE=94]="BRIGHT_BLUE",$[$.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",$[$.BRIGHT_CYAN=96]="BRIGHT_CYAN",$[$.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(pC||(pC={}));var ya0=10;function pX0($){if(typeof $!=="string")return $;return $=$.toUpperCase(),pC[$]||pC.WHITE}function dX0($,Q,J){if(!W4&&typeof $==="string"){if(Q)$=`\x1B[${pX0(Q)}m${$}\x1B[39m`;if(J)$=`\x1B[${pX0(J)+ya0}m${$}\x1B[49m`}return $}function nX0($,Q=["constructor"]){let J=Object.getPrototypeOf($),K=Object.getOwnPropertyNames(J),Y=$;for(let q of K){let Z=Y[q];if(typeof Z==="function"){if(!Q.find((X)=>q===X))Y[q]=Z.bind($)}}}function qV($,Q){if(!$)throw Error(Q||"Assertion failed")}function EX(){let $;if(W4()&&cC.performance)$=cC?.performance?.now?.();else if("hrtime"in uC){let Q=uC?.hrtime?.();$=Q[0]*1000+Q[1]/1e6}else $=Date.now();return $}var WH={debug:W4()?console.debug||console.log:console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},xa0={enabled:!0,level:0};function FH(){}var lX0={},rX0={once:!0};class v9{constructor({id:$}={id:""}){this.VERSION=fx,this._startTs=EX(),this._deltaTs=EX(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=$,this.userData={},this._storage=new Ix(`__probe-${this.id}__`,xa0),this.timeStamp(`${this.id} started`),nX0(this),Object.seal(this)}set level($){this.setLevel($)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((EX()-this._startTs).toPrecision(10))}getDelta(){return Number((EX()-this._deltaTs).toPrecision(10))}set priority($){this.level=$}get priority(){return this.level}getPriority(){return this.level}enable($=!0){return this._storage.setConfiguration({enabled:$}),this}setLevel($){return this._storage.setConfiguration({level:$}),this}get($){return this._storage.config[$]}set($,Q){this._storage.setConfiguration({[$]:Q})}settings(){if(console.table)console.table(this._storage.config);else console.log(this._storage.config)}assert($,Q){if(!$)throw Error(Q||"Assertion failed")}warn($){return this._getLogFunction(0,$,WH.warn,arguments,rX0)}error($){return this._getLogFunction(0,$,WH.error,arguments)}deprecated($,Q){return this.warn(`\`${$}\` is deprecated and will be removed in a later version. Use \`${Q}\` instead`)}removed($,Q){return this.error(`\`${$}\` has been removed. Use \`${Q}\` instead`)}probe($,Q){return this._getLogFunction($,Q,WH.log,arguments,{time:!0,once:!0})}log($,Q){return this._getLogFunction($,Q,WH.debug,arguments)}info($,Q){return this._getLogFunction($,Q,console.info,arguments)}once($,Q){return this._getLogFunction($,Q,WH.debug||WH.info,arguments,rX0)}table($,Q,J){if(Q)return this._getLogFunction($,Q,console.table||FH,J&&[J],{tag:ua0(Q)});return FH}time($,Q){return this._getLogFunction($,Q,console.time?console.time:console.info)}timeEnd($,Q){return this._getLogFunction($,Q,console.timeEnd?console.timeEnd:console.info)}timeStamp($,Q){return this._getLogFunction($,Q,console.timeStamp||FH)}group($,Q,J={collapsed:!1}){let K=iX0({logLevel:$,message:Q,opts:J}),{collapsed:Y}=J;return K.method=(Y?console.groupCollapsed:console.group)||console.info,this._getLogFunction(K)}groupCollapsed($,Q,J={}){return this.group($,Q,Object.assign({},J,{collapsed:!0}))}groupEnd($){return this._getLogFunction($,"",console.groupEnd||FH)}withGroup($,Q,J){this.group($,Q)();try{J()}finally{this.groupEnd($)()}}trace(){if(console.trace)console.trace()}_shouldLog($){return this.isEnabled()&&this.getLevel()>=sX0($)}_getLogFunction($,Q,J,K,Y){if(this._shouldLog($)){Y=iX0({logLevel:$,message:Q,args:K,opts:Y}),J=J||Y.method,qV(J),Y.total=this.getTotal(),Y.delta=this.getDelta(),this._deltaTs=EX();let q=Y.tag||Y.message;if(Y.once&&q)if(!lX0[q])lX0[q]=EX();else return FH;return Q=ca0(this.id,Y.message,Y),J.bind(console,Q,...Y.args)}return FH}}v9.VERSION=fx;function sX0($){if(!$)return 0;let Q;switch(typeof $){case"number":Q=$;break;case"object":Q=$.logLevel||$.priority||0;break;default:return 0}return qV(Number.isFinite(Q)&&Q>=0),Q}function iX0($){let{logLevel:Q,message:J}=$;$.logLevel=sX0(Q);let K=$.args?Array.from($.args):[];while(K.length&&K.shift()!==J);switch(typeof Q){case"string":case"function":if(J!==void 0)K.unshift(J);$.message=Q;break;case"object":Object.assign($,Q);break;default:}if(typeof $.message==="function")$.message=$.message();let Y=typeof $.message;return qV(Y==="string"||Y==="object"),Object.assign($,{args:K},$.opts)}function ca0($,Q,J){if(typeof Q==="string"){let K=J.time?mX0(uX0(J.total)):"";Q=J.time?`${$}: ${K}  ${Q}`:`${$}: ${Q}`,Q=dX0(Q,J.color,J.background)}return Q}function ua0($){for(let Q in $)for(let J in $[Q])return J||"untitled";return"empty"}globalThis.probe={};var _L1=new v9({id:"@probe.gl/log"});var Mx="4.3.3",ma0=Mx[0]>="0"&&Mx[0]<="9"?`v${Mx}`:"";function pa0(){let $=new v9({id:"loaders.gl"});return globalThis.loaders=globalThis.loaders||{},globalThis.loaders.log=$,globalThis.loaders.version=ma0,globalThis.probe=globalThis.probe||{},globalThis.probe.loaders=$,$}var bx=pa0();function gx($,Q){return oX0($||{},Q)}function oX0($,Q,J=0){if(J>3)return Q;let K={...$};for(let[Y,q]of Object.entries(Q))if(q&&typeof q==="object"&&!Array.isArray(q))K[Y]=oX0(K[Y]||{},Q[Y],J+1);else K[Y]=Q[Y];return K}var aX0="latest";function da0(){if(!globalThis._loadersgl_?.version)globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.3.3";return globalThis._loadersgl_.version}var yx=da0();function F4($,Q){if(!$)throw Error(Q||"loaders.gl assertion failed.")}var JJ={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document},uL1=JJ.self||JJ.window||JJ.global||{},mL1=JJ.window||JJ.self||JJ.global||{},pL1=JJ.global||JJ.self||JJ.window||{},dL1=JJ.document||{};var k3=typeof process!=="object"||String(process)!=="[object process]"||!0;var eX0=typeof window<"u"&&typeof window.orientation<"u",tX0=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),nL1=tX0&&parseFloat(tX0[1])||0;class dC{name;workerThread;isRunning=!0;result;_resolve=()=>{};_reject=()=>{};constructor($,Q){this.name=$,this.workerThread=Q,this.result=new Promise((J,K)=>{this._resolve=J,this._reject=K})}postMessage($,Q){this.workerThread.postMessage({source:"loaders.gl",type:$,payload:Q})}done($){F4(this.isRunning),this.isRunning=!1,this._resolve($)}error($){F4(this.isRunning),this.isRunning=!1,this._reject($)}}class ZV{terminate(){}}var xx=new Map;function $W0($){F4($.source&&!$.url||!$.source&&$.url);let Q=xx.get($.source||$.url);if(!Q){if($.url)Q=na0($.url),xx.set($.url,Q);if($.source)Q=QW0($.source),xx.set($.source,Q)}return F4(Q),Q}function na0($){if(!$.startsWith("http"))return $;let Q=la0($);return QW0(Q)}function QW0($){let Q=new Blob([$],{type:"application/javascript"});return URL.createObjectURL(Q)}function la0($){return`try {
  importScripts('${$}');
} catch (error) {
  console.error(error);
  throw error;
}`}function cx($,Q=!0,J){let K=J||new Set;if(!$);else if(JW0($))K.add($);else if(JW0($.buffer))K.add($.buffer);else if(ArrayBuffer.isView($));else if(Q&&typeof $==="object")for(let Y in $)cx($[Y],Q,K);return J===void 0?Array.from(K):[]}function JW0($){if(!$)return!1;if($ instanceof ArrayBuffer)return!0;if(typeof MessagePort<"u"&&$ instanceof MessagePort)return!0;if(typeof ImageBitmap<"u"&&$ instanceof ImageBitmap)return!0;if(typeof OffscreenCanvas<"u"&&$ instanceof OffscreenCanvas)return!0;return!1}var ux=()=>{};class LX{name;source;url;terminated=!1;worker;onMessage;onError;_loadableURL="";static isSupported(){return typeof Worker<"u"&&k3||typeof ZV<"u"&&!k3}constructor($){let{name:Q,source:J,url:K}=$;F4(J||K),this.name=Q,this.source=J,this.url=K,this.onMessage=ux,this.onError=(Y)=>console.log(Y),this.worker=k3?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=ux,this.onError=ux,this.worker.terminate(),this.terminated=!0}get isRunning(){return Boolean(this.onMessage)}postMessage($,Q){Q=Q||cx($),this.worker.postMessage($,Q)}_getErrorFromErrorEvent($){let Q="Failed to load ";if(Q+=`worker ${this.name} from ${this.url}. `,$.message)Q+=`${$.message} in `;if($.lineno)Q+=`:${$.lineno}:${$.colno}`;return Error(Q)}_createBrowserWorker(){this._loadableURL=$W0({source:this.source,url:this.url});let $=new Worker(this._loadableURL,{name:this.name});return $.onmessage=(Q)=>{if(!Q.data)this.onError(Error("No data received"));else this.onMessage(Q.data)},$.onerror=(Q)=>{this.onError(this._getErrorFromErrorEvent(Q)),this.terminated=!0},$.onmessageerror=(Q)=>console.error(Q),$}_createNodeWorker(){let $;if(this.url){let J=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;$=new ZV(J,{eval:!1})}else if(this.source)$=new ZV(this.source,{eval:!0});else throw Error("no worker");return $.on("message",(Q)=>{this.onMessage(Q)}),$.on("error",(Q)=>{this.onError(Q)}),$.on("exit",(Q)=>{}),$}}class nC{name="unnamed";source;url;maxConcurrency=1;maxMobileConcurrency=1;onDebug=()=>{};reuseWorkers=!0;props={};jobQueue=[];idleQueue=[];count=0;isDestroyed=!1;static isSupported(){return LX.isSupported()}constructor($){this.source=$.source,this.url=$.url,this.setProps($)}destroy(){this.idleQueue.forEach(($)=>$.destroy()),this.isDestroyed=!0}setProps($){if(this.props={...this.props,...$},$.name!==void 0)this.name=$.name;if($.maxConcurrency!==void 0)this.maxConcurrency=$.maxConcurrency;if($.maxMobileConcurrency!==void 0)this.maxMobileConcurrency=$.maxMobileConcurrency;if($.reuseWorkers!==void 0)this.reuseWorkers=$.reuseWorkers;if($.onDebug!==void 0)this.onDebug=$.onDebug}async startJob($,Q=(K,Y,q)=>K.done(q),J=(K,Y)=>K.error(Y)){let K=new Promise((Y)=>{return this.jobQueue.push({name:$,onMessage:Q,onError:J,onStart:Y}),this});return this._startQueuedJob(),await K}async _startQueuedJob(){if(!this.jobQueue.length)return;let $=this._getAvailableWorker();if(!$)return;let Q=this.jobQueue.shift();if(Q){this.onDebug({message:"Starting job",name:Q.name,workerThread:$,backlog:this.jobQueue.length});let J=new dC(Q.name,$);$.onMessage=(K)=>Q.onMessage(J,K.type,K.payload),$.onError=(K)=>Q.onError(J,K),Q.onStart(J);try{await J.result}catch(K){console.error(`Worker exception: ${K}`)}finally{this.returnWorkerToQueue($)}}}returnWorkerToQueue($){if(!k3||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency())$.destroy(),this.count--;else this.idleQueue.push($);if(!this.isDestroyed)this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;let $=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new LX({name:$,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return eX0?this.maxMobileConcurrency:this.maxConcurrency}}var ra0={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class M${props;workerPools=new Map;static _workerFarm;static isSupported(){return LX.isSupported()}static getWorkerFarm($={}){return M$._workerFarm=M$._workerFarm||new M$({}),M$._workerFarm.setProps($),M$._workerFarm}constructor($){this.props={...ra0},this.setProps($),this.workerPools=new Map}destroy(){for(let $ of this.workerPools.values())$.destroy();this.workerPools=new Map}setProps($){this.props={...this.props,...$};for(let Q of this.workerPools.values())Q.setProps(this._getWorkerPoolProps())}getWorkerPool($){let{name:Q,source:J,url:K}=$,Y=this.workerPools.get(Q);if(!Y)Y=new nC({name:Q,source:J,url:K}),Y.setProps(this._getWorkerPoolProps()),this.workerPools.set(Q,Y);return Y}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}function mx($,Q={}){let J=Q[$.id]||{},K=k3?`${$.id}-worker.js`:`${$.id}-worker-node.js`,Y=J.workerUrl;if(!Y&&$.id==="compression")Y=Q.workerUrl;if(Q._workerType==="test")if(k3)Y=`modules/${$.module}/dist/${K}`;else Y=`modules/${$.module}/src/workers/${$.id}-worker-node.ts`;if(!Y){let q=$.version;if(q==="latest")q=aX0;let Z=q?`@${q}`:"";Y=`https://unpkg.com/@loaders.gl/${$.module}${Z}/dist/${K}`}return F4(Y),Y}function px($,Q=yx){F4($,"no worker provided");let J=$.version;if(!Q||!J)return!1;return!0}function dx($,Q){if(!M$.isSupported())return!1;if(!k3&&!Q?._nodeWorkers)return!1;return $.worker&&Q?.worker}async function nx($,Q,J,K,Y){let q=$.id,Z=mx($,J),W=M$.getWorkerFarm(J).getWorkerPool({name:q,url:Z});J=JSON.parse(JSON.stringify(J)),K=JSON.parse(JSON.stringify(K||{}));let F=await W.startJob("process-on-worker",ia0.bind(null,Y));return F.postMessage("process",{input:Q,options:J,context:K}),await(await F.result).result}async function ia0($,Q,J,K){switch(J){case"done":Q.done(K);break;case"error":Q.error(Error(K.error));break;case"process":let{id:Y,input:q,options:Z}=K;try{let X=await $(q,Z);Q.postMessage("done",{id:Y,result:X})}catch(X){let W=X instanceof Error?X.message:"unknown error";Q.postMessage("error",{id:Y,error:W})}break;default:console.warn(`parse-with-worker unknown message ${J}`)}}function lx($,Q,J){if(J=J||$.byteLength,$.byteLength<J||Q.byteLength<J)return!1;let K=new Uint8Array($),Y=new Uint8Array(Q);for(let q=0;q<K.length;++q)if(K[q]!==Y[q])return!1;return!0}function rx(...$){return KW0($)}function KW0($){let Q=$.map((q)=>q instanceof ArrayBuffer?new Uint8Array(q):q),J=Q.reduce((q,Z)=>q+Z.byteLength,0),K=new Uint8Array(J),Y=0;for(let q of Q)K.set(q,Y),Y+=q.byteLength;return K.buffer}async function ix($){let Q=[];for await(let J of $)Q.push(J);return rx(...Q)}function XV(){let $;if(typeof window<"u"&&window.performance)$=window.performance.now();else if(typeof process<"u"&&process.hrtime){let Q=process.hrtime();$=Q[0]*1000+Q[1]/1e6}else $=Date.now();return $}class UH{constructor($,Q){this.sampleSize=1,this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this.name=$,this.type=Q,this.reset()}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}setSampleSize($){return this.sampleSize=$,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount($){return this._count+=$,this._samples++,this._checkSampling(),this}subtractCount($){return this._count-=$,this._samples++,this._checkSampling(),this}addTime($){return this._time+=$,this.lastTiming=$,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=XV(),this._timerPending=!0,this}timeEnd(){if(!this._timerPending)return this;return this.addTime(XV()-this._startTime),this._timerPending=!1,this._checkSampling(),this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1000):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1000):0}_checkSampling(){if(this._samples===this.sampleSize)this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0}}class b${constructor($){this.stats={},this.id=$.id,this.stats={},this._initializeStats($.stats),Object.seal(this)}get($,Q="count"){return this._getOrCreate({name:$,type:Q})}get size(){return Object.keys(this.stats).length}reset(){for(let $ of Object.values(this.stats))$.reset();return this}forEach($){for(let Q of Object.values(this.stats))$(Q)}getTable(){let $={};return this.forEach((Q)=>{$[Q.name]={time:Q.time||0,count:Q.count||0,average:Q.getAverageTime()||0,hz:Q.getHz()||0}}),$}_initializeStats($=[]){$.forEach((Q)=>this._getOrCreate(Q))}_getOrCreate($){let{name:Q,type:J}=$,K=this.stats[Q];if(!K){if($ instanceof UH)K=$;else K=new UH(Q,J);this.stats[Q]=K}return K}}var sa0="",YW0={};function sx($){for(let Q in YW0)if($.startsWith(Q)){let J=YW0[Q];$=$.replace(Q,J)}if(!$.startsWith("http://")&&!$.startsWith("https://"))$=`${sa0}${$}`;return $}function qW0($){return $}function ZW0($){return $&&typeof $==="object"&&$.isBuffer}function lC($){if(ZW0($))return qW0($);if($ instanceof ArrayBuffer)return $;if(ArrayBuffer.isView($)){if($.byteOffset===0&&$.byteLength===$.buffer.byteLength)return $.buffer;return $.buffer.slice($.byteOffset,$.byteOffset+$.byteLength)}if(typeof $==="string"){let Q=$;return new TextEncoder().encode(Q).buffer}if($&&typeof $==="object"&&$._toArrayBuffer)return $._toArrayBuffer();throw Error("toArrayBuffer")}var hX={};r2(hX,{resolve:()=>$t0,join:()=>ea0,filename:()=>aa0,dirname:()=>ta0});function XW0(){if(typeof process<"u"&&typeof process.cwd<"u")return process.cwd();let $=window.location?.pathname;return $?.slice(0,$.lastIndexOf("/")+1)||""}function aa0($){let Q=$?$.lastIndexOf("/"):-1;return Q>=0?$.substr(Q+1):""}function ta0($){let Q=$?$.lastIndexOf("/"):-1;return Q>=0?$.substr(0,Q):""}function ea0(...$){return $=$.map((J,K)=>{if(K)J=J.replace(new RegExp("^/"),"");if(K!==$.length-1)J=J.replace(new RegExp("/$"),"");return J}),$.join("/")}function $t0(...$){let Q=[];for(let q=0;q<$.length;q++)Q[q]=$[q];let J="",K=!1,Y;for(let q=Q.length-1;q>=-1&&!K;q--){let Z;if(q>=0)Z=Q[q];else{if(Y===void 0)Y=XW0();Z=Y}if(Z.length===0)continue;J=`${Z}/${J}`,K=Z.charCodeAt(0)===WV}if(J=Qt0(J,!K),K)return`/${J}`;else if(J.length>0)return J;return"."}var WV=47,ox=46;function Qt0($,Q){let J="",K=-1,Y=0,q,Z=!1;for(let X=0;X<=$.length;++X){if(X<$.length)q=$.charCodeAt(X);else if(q===WV)break;else q=WV;if(q===WV){if(K===X-1||Y===1);else if(K!==X-1&&Y===2){if(J.length<2||!Z||J.charCodeAt(J.length-1)!==ox||J.charCodeAt(J.length-2)!==ox){if(J.length>2){let W=J.length-1,F=W;for(;F>=0;--F)if(J.charCodeAt(F)===WV)break;if(F!==W){J=F===-1?"":J.slice(0,F),K=X,Y=0,Z=!1;continue}}else if(J.length===2||J.length===1){J="",K=X,Y=0,Z=!1;continue}}if(Q){if(J.length>0)J+="/..";else J="..";Z=!0}}else{let W=$.slice(K+1,X);if(J.length>0)J+=`/${W}`;else J=W;Z=!1}K=X,Y=0}else if(q===ox&&Y!==-1)++Y;else Y=-1}return J}var Jt0=($)=>typeof $==="boolean",FV=($)=>typeof $==="function",vX=($)=>$!==null&&typeof $==="object",ax=($)=>vX($)&&$.constructor==={}.constructor;var WW0=($)=>Boolean($)&&typeof $[Symbol.iterator]==="function",FW0=($)=>$&&typeof $[Symbol.asyncIterator]==="function";var j3=($)=>typeof Response<"u"&&$ instanceof Response||$&&$.arrayBuffer&&$.text&&$.json;var E3=($)=>typeof Blob<"u"&&$ instanceof Blob,UW0=($)=>$&&typeof $==="object"&&$.isBuffer;var Kt0=($)=>typeof ReadableStream<"u"&&$ instanceof ReadableStream||vX($)&&FV($.tee)&&FV($.cancel)&&FV($.getReader);var Yt0=($)=>vX($)&&FV($.read)&&FV($.pipe)&&Jt0($.readable),rC=($)=>Kt0($)||Yt0($);class tx extends Error{constructor($,Q){super($);this.reason=Q.reason,this.url=Q.url,this.response=Q.response}reason;url;response}var qt0=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,Zt0=/^([-\w.]+\/[-\w.+]+)/;function ex($,Q){if($.toLowerCase()===Q.toLowerCase())return!0;return!1}function HW0($){let Q=Zt0.exec($);if(Q)return Q[1];return $}function $c($){let Q=qt0.exec($);if(Q)return Q[1];return""}var NW0=/\?.*/;function BW0($){let Q=$.match(NW0);return Q&&Q[0]}function HH($){return $.replace(NW0,"")}function zW0($){if($.length<50)return $;let Q=$.slice($.length-15);return`${$.substr(0,32)}...${Q}`}function SX($){if(j3($))return $.url;if(E3($))return $.name||"";if(typeof $==="string")return $;return""}function UV($){if(j3($)){let Q=$,J=Q.headers.get("content-type")||"",K=HH(Q.url);return HW0(J)||$c(K)}if(E3($))return $.type||"";if(typeof $==="string")return $c($);return""}function AW0($){if(j3($))return $.headers["content-length"]||-1;if(E3($))return $.size;if(typeof $==="string")return $.length;if($ instanceof ArrayBuffer)return $.byteLength;if(ArrayBuffer.isView($))return $.byteLength;return-1}async function iC($){if(j3($))return $;let Q={},J=AW0($);if(J>=0)Q["content-length"]=String(J);let K=SX($),Y=UV($);if(Y)Q["content-type"]=Y;let q=await Wt0($);if(q)Q["x-first-bytes"]=q;if(typeof $==="string")$=new TextEncoder().encode($);let Z=new Response($,{headers:Q});return Object.defineProperty(Z,"url",{value:K}),Z}async function VW0($){if(!$.ok)throw await Xt0($)}async function Xt0($){let Q=zW0($.url),J=`Failed to fetch resource (${$.status}) ${$.statusText}: ${Q}`;J=J.length>100?`${J.slice(0,100)}...`:J;let K={reason:$.statusText,url:$.url,response:$};try{let Y=$.headers.get("Content-Type");K.reason=!$.bodyUsed&&Y?.includes("application/json")?await $.json():await $.text()}catch(Y){}return new tx(J,K)}async function Wt0($){if(typeof $==="string")return`data:,${$.slice(0,5)}`;if($ instanceof Blob){let J=$.slice(0,5);return await new Promise((K)=>{let Y=new FileReader;Y.onload=(q)=>K(q?.target?.result),Y.readAsDataURL(J)})}if($ instanceof ArrayBuffer){let J=$.slice(0,5);return`data:base64,${Ft0(J)}`}return null}function Ft0($){let Q="",J=new Uint8Array($);for(let K=0;K<J.byteLength;K++)Q+=String.fromCharCode(J[K]);return btoa(Q)}function Ut0($){return!Ht0($)&&!Nt0($)}function Ht0($){return $.startsWith("http:")||$.startsWith("https:")}function Nt0($){return $.startsWith("data:")}async function Qc($,Q){if(typeof $==="string"){let J=sx($);if(Ut0(J)){if(globalThis.loaders?.fetchNode)return globalThis.loaders?.fetchNode(J,Q)}return await fetch(J,Q)}return await iC($)}var Jc=new v9({id:"loaders.gl"});class Kc{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}class Yc{console;constructor(){this.console=console}log(...$){return this.console.log.bind(this.console,...$)}info(...$){return this.console.info.bind(this.console,...$)}warn(...$){return this.console.warn.bind(this.console,...$)}error(...$){return this.console.error.bind(this.console,...$)}}var qc={fetch:null,mimeType:void 0,nothrow:!1,log:new Yc,useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:jX,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},RW0={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function Zc(){globalThis.loaders=globalThis.loaders||{};let{loaders:$}=globalThis;if(!$._state)$._state={};return $._state}function Xc(){let $=Zc();return $.globalOptions=$.globalOptions||{...qc},$.globalOptions}function OW0($,Q,J,K){return J=J||[],J=Array.isArray(J)?J:[J],Bt0($,J),At0(Q,$,K)}function Bt0($,Q){GW0($,null,qc,RW0,Q);for(let J of Q){let K=$&&$[J.id]||{},Y=J.options&&J.options[J.id]||{},q=J.deprecatedOptions&&J.deprecatedOptions[J.id]||{};GW0(K,J.id,Y,q,Q)}}function GW0($,Q,J,K,Y){let q=Q||"Top level",Z=Q?`${Q}.`:"";for(let X in $){let W=!Q&&vX($[X]),F=X==="baseUri"&&!Q,H=X==="workerUrl"&&Q;if(!(X in J)&&!F&&!H){if(X in K)Jc.warn(`${q} loader option '${Z}${X}' no longer supported, use '${K[X]}'`)();else if(!W){let B=zt0(X,Y);Jc.warn(`${q} loader option '${Z}${X}' not recognized. ${B}`)()}}}}function zt0($,Q){let J=$.toLowerCase(),K="";for(let Y of Q)for(let q in Y.options){if($===q)return`Did you mean '${Y.id}.${q}'?`;let Z=q.toLowerCase();if(J.startsWith(Z)||Z.startsWith(J))K=K||`Did you mean '${Y.id}.${q}'?`}return K}function At0($,Q,J){let Y={...$.options||{}};if(Vt0(Y,J),Y.log===null)Y.log=new Kc;return wW0(Y,Xc()),wW0(Y,Q),Y}function wW0($,Q){for(let J in Q)if(J in Q){let K=Q[J];if(ax(K)&&ax($[J]))$[J]={...$[J],...Q[J]};else $[J]=Q[J]}}function Vt0($,Q){if(Q&&!("baseUri"in $))$.baseUri=Q}function HV($){if(!$)return!1;if(Array.isArray($))$=$[0];return Array.isArray($?.extensions)}function NV($){mq($,"null loader"),mq(HV($),"invalid loader");let Q;if(Array.isArray($))Q=$[1],$=$[0],$={...$,options:{...$.options,...Q}};if($?.parseTextSync||$?.parseText)$.text=!0;if(!$.text)$.binary=!0;return $}var TW0=()=>{let $=Zc();return $.loaderRegistry=$.loaderRegistry||[],$.loaderRegistry};function Wc($){let Q=TW0();$=Array.isArray($)?$:[$];for(let J of $){let K=NV(J);if(!Q.find((Y)=>K===Y))Q.unshift(K)}}function DW0(){return TW0()}var Rt0=/\.([^.]+)$/;async function kW0($,Q=[],J,K){if(!jW0($))return null;let Y=CW0($,Q,{...J,nothrow:!0},K);if(Y)return Y;if(E3($))$=await $.slice(0,10).arrayBuffer(),Y=CW0($,Q,J,K);if(!Y&&!J?.nothrow)throw Error(EW0($));return Y}function CW0($,Q=[],J,K){if(!jW0($))return null;if(Q&&!Array.isArray(Q))return NV(Q);let Y=[];if(Q)Y=Y.concat(Q);if(!J?.ignoreRegisteredLoaders)Y.push(...DW0());wt0(Y);let q=Gt0($,Y,J,K);if(!q&&!J?.nothrow)throw Error(EW0($));return q}function Gt0($,Q,J,K){let Y=SX($),q=UV($),Z=HH(Y)||K?.url,X=null,W="";if(J?.mimeType)X=Fc(Q,J?.mimeType),W=`match forced by supplied MIME type ${J?.mimeType}`;if(X=X||Ot0(Q,Z),W=W||(X?`matched url ${Z}`:""),X=X||Fc(Q,q),W=W||(X?`matched MIME type ${q}`:""),X=X||Dt0(Q,$),W=W||(X?`matched initial data ${LW0($)}`:""),J?.fallbackMimeType)X=X||Fc(Q,J?.fallbackMimeType),W=W||(X?`matched fallback MIME type ${q}`:"");if(W)bx.log(1,`selectLoader selected ${X?.name}: ${W}.`);return X}function jW0($){if($ instanceof Response){if($.status===204)return!1}return!0}function EW0($){let Q=SX($),J=UV($),K="No valid loader found (";K+=Q?`${hX.filename(Q)}, `:"no url provided, ",K+=`MIME type: ${J?`"${J}"`:"not provided"}, `;let Y=$?LW0($):"";return K+=Y?` first bytes: "${Y}"`:"first bytes: not available",K+=")",K}function wt0($){for(let Q of $)NV(Q)}function Ot0($,Q){let J=Q&&Rt0.exec(Q),K=J&&J[1];return K?Tt0($,K):null}function Tt0($,Q){Q=Q.toLowerCase();for(let J of $)for(let K of J.extensions)if(K.toLowerCase()===Q)return J;return null}function Fc($,Q){for(let J of $){if(J.mimeTypes?.some((K)=>ex(Q,K)))return J;if(ex(Q,`application/x.${J.id}`))return J}return null}function Dt0($,Q){if(!Q)return null;for(let J of $)if(typeof Q==="string"){if(Ct0(Q,J))return J}else if(ArrayBuffer.isView(Q)){if(PW0(Q.buffer,Q.byteOffset,J))return J}else if(Q instanceof ArrayBuffer){if(PW0(Q,0,J))return J}return null}function Ct0($,Q){if(Q.testText)return Q.testText($);return(Array.isArray(Q.tests)?Q.tests:[Q.tests]).some((K)=>$.startsWith(K))}function PW0($,Q,J){return(Array.isArray(J.tests)?J.tests:[J.tests]).some((Y)=>Pt0($,Q,J,Y))}function Pt0($,Q,J,K){if(K instanceof ArrayBuffer)return lx(K,$,K.byteLength);switch(typeof K){case"function":return K($);case"string":let Y=Uc($,Q,K.length);return K===Y;default:return!1}}function LW0($,Q=5){if(typeof $==="string")return $.slice(0,Q);else if(ArrayBuffer.isView($))return Uc($.buffer,$.byteOffset,Q);else if($ instanceof ArrayBuffer)return Uc($,0,Q);return""}function Uc($,Q,J){if($.byteLength<Q+J)return"";let K=new DataView($),Y="";for(let q=0;q<J;q++)Y+=String.fromCharCode(K.getUint8(Q+q));return Y}function*hW0($,Q){let J=Q?.chunkSize||262144,K=0,Y=new TextEncoder;while(K<$.length){let q=Math.min($.length-K,J),Z=$.slice(K,K+q);K+=q,yield Y.encode(Z)}}function*vW0($,Q={}){let{chunkSize:J=262144}=Q,K=0;while(K<$.byteLength){let Y=Math.min($.byteLength-K,J),q=new ArrayBuffer(Y),Z=new Uint8Array($,K,Y);new Uint8Array(q).set(Z),K+=Y,yield q}}async function*SW0($,Q){let J=Q?.chunkSize||1048576,K=0;while(K<$.size){let Y=K+J,q=await $.slice(K,Y).arrayBuffer();K=Y,yield q}}function Hc($,Q){return jX?kt0($,Q):jt0($,Q)}async function*kt0($,Q){let J=$.getReader(),K;try{while(!0){let Y=K||J.read();if(Q?._streamReadAhead)K=J.read();let{done:q,value:Z}=await Y;if(q)return;yield lC(Z)}}catch(Y){J.releaseLock()}}async function*jt0($,Q){for await(let J of $)yield lC(J)}function _W0($,Q){if(typeof $==="string")return hW0($,Q);if($ instanceof ArrayBuffer)return vW0($,Q);if(E3($))return SW0($,Q);if(rC($))return Hc($,Q);if(j3($))return Hc($.body,Q);throw Error("makeIterator")}var fW0="Cannot convert supplied data type";function Et0($,Q,J){if(Q.text&&typeof $==="string")return $;if(UW0($))$=$.buffer;if($ instanceof ArrayBuffer){let K=$;if(Q.text&&!Q.binary)return new TextDecoder("utf8").decode(K);return K}if(ArrayBuffer.isView($)){if(Q.text&&!Q.binary)return new TextDecoder("utf8").decode($);let K=$.buffer,Y=$.byteLength||$.length;if($.byteOffset!==0||Y!==K.byteLength)K=K.slice($.byteOffset,$.byteOffset+Y);return K}throw Error(fW0)}async function IW0($,Q,J){let K=$ instanceof ArrayBuffer||ArrayBuffer.isView($);if(typeof $==="string"||K)return Et0($,Q,J);if(E3($))$=await iC($);if(j3($)){let Y=$;return await VW0(Y),Q.binary?await Y.arrayBuffer():await Y.text()}if(rC($))$=_W0($,J);if(WW0($)||FW0($))return ix($);throw Error(fW0)}function sC($,Q){let J=Xc(),K=$||J;if(typeof K.fetch==="function")return K.fetch;if(vX(K.fetch))return(Y)=>Qc(Y,K.fetch);if(Q?.fetch)return Q?.fetch;return Qc}function MW0($,Q,J){if(J)return J;let K={fetch:sC(Q,$),...$};if(K.url){let Y=HH(K.url);K.baseUrl=Y,K.queryString=BW0(K.url),K.filename=hX.filename(Y),K.baseUrl=hX.dirname(Y)}if(!Array.isArray(K.loaders))K.loaders=null;return K}function bW0($,Q){if($&&!Array.isArray($))return $;let J;if($)J=Array.isArray($)?$:[$];if(Q&&Q.loaders){let K=Array.isArray(Q.loaders)?Q.loaders:[Q.loaders];J=J?[...J,...K]:K}return J&&J.length?J:void 0}async function BV($,Q,J,K){if(Q&&!Array.isArray(Q)&&!HV(Q))K=void 0,J=Q,Q=void 0;$=await $,J=J||{};let Y=SX($),Z=bW0(Q,K),X=await kW0($,Z,J);if(!X)return null;return J=OW0(J,X,Z,Y),K=MW0({url:Y,_parse:BV,loaders:Z},J,K||null),await Lt0(X,$,J,K)}async function Lt0($,Q,J,K){if(px($),J=gx($.options,J),j3(Q)){let q=Q,{ok:Z,redirected:X,status:W,statusText:F,type:H,url:B}=q,z=Object.fromEntries(q.headers.entries());K.response={headers:z,ok:Z,redirected:X,status:W,statusText:F,type:H,url:B}}Q=await IW0(Q,$,J);let Y=$;if(Y.parseTextSync&&typeof Q==="string")return Y.parseTextSync(Q,J,K);if(dx($,J))return await nx($,Q,J,K,BV);if(Y.parseText&&typeof Q==="string")return await Y.parseText(Q,J,K);if(Y.parse)return await Y.parse(Q,J,K);throw F4(!Y.parseSync),Error(`${$.id} loader - no parser found and worker is disabled`)}async function pq($,Q,J,K){let Y,q;if(!Array.isArray(Q)&&!HV(Q))Y=[],q=Q,K=void 0;else Y=Q,q=J;let Z=sC(q),X=$;if(typeof $==="string")X=await Z($);if(E3($))X=await Z($);return Array.isArray(Y)?await BV(X,Y,q):await BV(X,Y,q)}var gW0="4.3.3";var ht0=globalThis.loaders?.parseImageNode,Nc=typeof Image<"u",Bc=typeof ImageBitmap<"u",vt0=Boolean(ht0),zc=jX?!0:vt0;function yW0($){switch($){case"auto":return Bc||Nc||zc;case"imagebitmap":return Bc;case"image":return Nc;case"data":return zc;default:throw Error(`@loaders.gl/images: image ${$} not supported in this environment`)}}function xW0(){if(Bc)return"imagebitmap";if(Nc)return"image";if(zc)return"data";throw Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function St0($){let Q=_t0($);if(!Q)throw Error("Not an image");return Q}function cW0($){switch(St0($)){case"data":return $;case"image":case"imagebitmap":let Q=document.createElement("canvas"),J=Q.getContext("2d");if(!J)throw Error("getImageData");return Q.width=$.width,Q.height=$.height,J.drawImage($,0,0),J.getImageData(0,0,$.width,$.height);default:throw Error("getImageData")}}function _t0($){if(typeof ImageBitmap<"u"&&$ instanceof ImageBitmap)return"imagebitmap";if(typeof Image<"u"&&$ instanceof Image)return"image";if($&&typeof $==="object"&&$.data&&$.width&&$.height)return"data";return null}var ft0=/^data:image\/svg\+xml/,It0=/\.svg((\?|#).*)?$/;function oC($){return $&&(ft0.test($)||It0.test($))}function uW0($,Q){if(oC(Q)){let K=new TextDecoder().decode($);try{if(typeof unescape==="function"&&typeof encodeURIComponent==="function")K=unescape(encodeURIComponent(K))}catch(q){throw Error(q.message)}return`data:image/svg+xml;base64,${btoa(K)}`}return Ac($,Q)}function Ac($,Q){if(oC(Q))throw Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array($)])}async function aC($,Q,J){let K=uW0($,J),Y=self.URL||self.webkitURL,q=typeof K!=="string"&&Y.createObjectURL(K);try{return await Mt0(q||K,Q)}finally{if(q)Y.revokeObjectURL(q)}}async function Mt0($,Q){let J=new Image;if(J.src=$,Q.image&&Q.image.decode&&J.decode)return await J.decode(),J;return await new Promise((K,Y)=>{try{J.onload=()=>K(J),J.onerror=(q)=>{let Z=q instanceof Error?q.message:"error";Y(Error(Z))}}catch(q){Y(q)}})}var bt0={},mW0=!0;async function pW0($,Q,J){let K;if(oC(J))K=await aC($,Q,J);else K=Ac($,J);let Y=Q&&Q.imagebitmap;return await gt0(K,Y)}async function gt0($,Q=null){if(yt0(Q)||!mW0)Q=null;if(Q)try{return await createImageBitmap($,Q)}catch(J){console.warn(J),mW0=!1}return await createImageBitmap($)}function yt0($){for(let Q in $||bt0)return!1;return!0}function dW0($){if(!mt0($,"ftyp",4))return null;if(($[8]&96)===0)return null;return xt0($)}function xt0($){switch(ct0($,8,12).replace("\x00"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}function ct0($,Q,J){return String.fromCharCode(...$.slice(Q,J))}function ut0($){return[...$].map((Q)=>Q.charCodeAt(0))}function mt0($,Q,J=0){let K=ut0(Q);for(let Y=0;Y<K.length;++Y)if(K[Y]!==$[Y+J])return!1;return!0}var KJ=!1,zV=!0;function tC($){let Q=AV($);return dt0(Q)||rt0(Q)||nt0(Q)||lt0(Q)||pt0(Q)}function pt0($){let Q=new Uint8Array($ instanceof DataView?$.buffer:$),J=dW0(Q);if(!J)return null;return{mimeType:J.mimeType,width:0,height:0}}function dt0($){let Q=AV($);if(!(Q.byteLength>=24&&Q.getUint32(0,KJ)===2303741511))return null;return{mimeType:"image/png",width:Q.getUint32(16,KJ),height:Q.getUint32(20,KJ)}}function nt0($){let Q=AV($);if(!(Q.byteLength>=10&&Q.getUint32(0,KJ)===1195984440))return null;return{mimeType:"image/gif",width:Q.getUint16(6,zV),height:Q.getUint16(8,zV)}}function lt0($){let Q=AV($);if(!(Q.byteLength>=14&&Q.getUint16(0,KJ)===16973&&Q.getUint32(2,zV)===Q.byteLength))return null;return{mimeType:"image/bmp",width:Q.getUint32(18,zV),height:Q.getUint32(22,zV)}}function rt0($){let Q=AV($);if(!(Q.byteLength>=3&&Q.getUint16(0,KJ)===65496&&Q.getUint8(2)===255))return null;let{tableMarkers:K,sofMarkers:Y}=it0(),q=2;while(q+9<Q.byteLength){let Z=Q.getUint16(q,KJ);if(Y.has(Z))return{mimeType:"image/jpeg",height:Q.getUint16(q+5,KJ),width:Q.getUint16(q+7,KJ)};if(!K.has(Z))return null;q+=2,q+=Q.getUint16(q,KJ)}return null}function it0(){let $=new Set([65499,65476,65484,65501,65534]);for(let J=65504;J<65520;++J)$.add(J);return{tableMarkers:$,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}function AV($){if($ instanceof DataView)return $;if(ArrayBuffer.isView($))return new DataView($.buffer);if($ instanceof ArrayBuffer)return new DataView($);throw Error("toDataView")}async function nW0($,Q){let{mimeType:J}=tC($)||{},K=globalThis.loaders?.parseImageNode;return mq(K),await K($,J)}async function lW0($,Q,J){Q=Q||{};let Y=(Q.image||{}).type||"auto",{url:q}=J||{},Z=st0(Y),X;switch(Z){case"imagebitmap":X=await pW0($,Q,q);break;case"image":X=await aC($,Q,q);break;case"data":X=await nW0($,Q);break;default:mq(!1)}if(Y==="data")X=cW0(X);return X}function st0($){switch($){case"auto":case"data":return xW0();default:return yW0($),$}}var ot0=["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],at0=["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],tt0={image:{type:"auto",decode:!0}},Vc={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:gW0,mimeTypes:at0,extensions:ot0,parse:lW0,tests:[($)=>Boolean(tC(new DataView($)))],options:tt0};var et0=new v9({id:"deck"}),E1=et0;var dq={attributeUpdateStart:-1,attributeManagerUpdateStart:-1,attributeUpdateMessages:[]};var rW0=($)=>({"layer.changeFlag":(Q,J,K)=>{$.log(3,`${Q.id} ${J}: `,K[J])()},"layer.initialize":(Q)=>{$.log(1,`Initializing ${Q}`)()},"layer.update":(Q,J)=>{if(J){let K=Q.getChangeFlags();$.log(2,`Updating ${Q} because: ${Object.keys(K).filter((Y)=>K[Y]).join(", ")}`)()}else $.log(4,`${Q} does not need update`)()},"layer.matched":(Q,J)=>{if(J)$.log(4,`Matched ${Q}, state transfered`)()},"layer.finalize":(Q)=>{$.log(1,`Finalizing ${Q}`)()},"compositeLayer.renderLayers":(Q,J,K)=>{if(J)$.log(2,`Composite layer rendered new subLayers ${Q}`,K)();else $.log(4,`Composite layer reused subLayers ${Q}`,K)()},"layerManager.setLayers":(Q,J,K)=>{if(J)$.log(2,`Updating ${K.length} deck layers`)()},"layerManager.activateViewport":(Q,J)=>{$.log(3,"Viewport changed",J)()},"attributeManager.invalidate":(Q,J,K)=>{$.log(1,K?`invalidated attributes ${K} (${J}) for ${Q.id}`:`invalidated all attributes for ${Q.id}`)()},"attributeManager.updateStart":(Q)=>{dq.attributeUpdateMessages.length=0,dq.attributeManagerUpdateStart=Date.now()},"attributeManager.updateEnd":(Q,J)=>{let K=Math.round(Date.now()-dq.attributeManagerUpdateStart);$.groupCollapsed(2,`Updated attributes for ${J} instances in ${Q.id} in ${K}ms`)();for(let Y of dq.attributeUpdateMessages)$.log(3,Y)();$.groupEnd(2)()},"attribute.updateStart":(Q)=>{dq.attributeUpdateStart=Date.now()},"attribute.allocate":(Q,J)=>{let K=`${Q.id} allocated ${J}`;dq.attributeUpdateMessages.push(K)},"attribute.updateEnd":(Q,J)=>{let K=Math.round(Date.now()-dq.attributeUpdateStart),Y=`${Q.id} updated ${J} in ${K}ms`;dq.attributeUpdateMessages.push(Y)},"deckRenderer.renderLayers":(Q,J,K)=>{let{pass:Y,redrawReason:q,stats:Z}=K;for(let X of J){let{totalCount:W,visibleCount:F,compositeCount:H,pickableCount:B}=X,A=W-H-F;if($.log(2,`RENDER #${Q.renderCount}   ${F} (of ${W} layers) to ${Y} because ${q}   (${A} hidden, ${H} composite ${B} pickable)`)(),Z)Z.get("Redraw Layers").add(F)}}});var eC={};eC=rW0(E1);function iW0($){eC=$}function Z7($,Q,J,K){if(E1.level>0&&eC[$])eC[$].call(null,Q,J,K)}function $e0($){let Q=$[0],J=$[$.length-1];return Q==="{"&&J==="}"||Q==="["&&J==="]"}var sW0={dataType:null,batchType:null,id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:$e0,parseTextSync:JSON.parse};function Qe0(){let Q=globalThis.deck&&globalThis.deck.VERSION;if(Q&&Q!=="9.1.15")throw Error(`deck.gl - multiple versions detected: ${Q} vs 9.1.15`);if(!Q)E1.log(1,"deck.gl 9.1.15")(),globalThis.deck={...globalThis.deck,VERSION:"9.1.15",version:"9.1.15",log:E1,_registerLoggers:iW0},Wc([sW0,[Vc,{imagebitmap:{premultiplyAlpha:"none"}}]]);return"9.1.15"}var oW0=Qe0();function $P($,Q){if(!$)throw Error(Q||"shadertools: assertion failed.")}var Rc={number:{type:"number",validate($,Q){return Number.isFinite($)&&typeof Q==="object"&&(Q.max===void 0||$<=Q.max)&&(Q.min===void 0||$>=Q.min)}},array:{type:"array",validate($,Q){return Array.isArray($)||ArrayBuffer.isView($)}}};function tW0($){let Q={};for(let[J,K]of Object.entries($))Q[J]=Je0(K);return Q}function Je0($){let Q=aW0($);if(Q!=="object")return{value:$,...Rc[Q],type:Q};if(typeof $==="object"){if(!$)return{type:"object",value:null};if($.type!==void 0)return{...$,...Rc[$.type],type:$.type};if($.value===void 0)return{type:"object",value:$};return Q=aW0($.value),{...$,...Rc[Q],type:Q}}throw Error("props")}function aW0($){if(Array.isArray($)||ArrayBuffer.isView($))return"array";return typeof $}var eW0=`#ifdef MODULE_LOGDEPTH
  logdepth_adjustPosition(gl_Position);
#endif
`,$F0=`#ifdef MODULE_MATERIAL
  fragColor = material_filterColor(fragColor);
#endif

#ifdef MODULE_LIGHTING
  fragColor = lighting_filterColor(fragColor);
#endif

#ifdef MODULE_FOG
  fragColor = fog_filterColor(fragColor);
#endif

#ifdef MODULE_PICKING
  fragColor = picking_filterHighlightColor(fragColor);
  fragColor = picking_filterPickingColor(fragColor);
#endif

#ifdef MODULE_LOGDEPTH
  logdepth_setFragDepth();
#endif
`;var Ke0={vertex:eW0,fragment:$F0},QF0=/void\s+main\s*\([^)]*\)\s*\{\n?/,JF0=/}\n?[^{}]*$/,Gc=[],VV="__LUMA_INJECT_DECLARATIONS__";function KF0($){let Q={vertex:{},fragment:{}};for(let J in $){let K=$[J],Y=Ye0(J);if(typeof K==="string")K={order:0,injection:K};Q[Y][J]=K}return Q}function Ye0($){let Q=$.slice(0,2);switch(Q){case"vs":return"vertex";case"fs":return"fragment";default:throw Error(Q)}}function RV($,Q,J,K=!1){let Y=Q==="vertex";for(let q in J){let Z=J[q];Z.sort((W,F)=>W.order-F.order),Gc.length=Z.length;for(let W=0,F=Z.length;W<F;++W)Gc[W]=Z[W].injection;let X=`${Gc.join(`
`)}
`;switch(q){case"vs:#decl":if(Y)$=$.replace(VV,X);break;case"vs:#main-start":if(Y)$=$.replace(QF0,(W)=>W+X);break;case"vs:#main-end":if(Y)$=$.replace(JF0,(W)=>X+W);break;case"fs:#decl":if(!Y)$=$.replace(VV,X);break;case"fs:#main-start":if(!Y)$=$.replace(QF0,(W)=>W+X);break;case"fs:#main-end":if(!Y)$=$.replace(JF0,(W)=>X+W);break;default:$=$.replace(q,(W)=>W+X)}}if($=$.replace(VV,""),K)$=$.replace(/\}\s*$/,(q)=>q+Ke0[Q]);return $}function NH($){$.map((Q)=>qe0(Q))}function qe0($){if($.instance)return;NH($.dependencies||[]);let{propTypes:Q={},deprecations:J=[],inject:K={}}=$,Y={normalizedInjections:KF0(K),parsedDeprecations:Ze0(J)};if(Q)Y.propValidators=tW0(Q);$.instance=Y;let q={};if(Q)q=Object.entries(Q).reduce((Z,[X,W])=>{let F=W?.value;if(F)Z[X]=F;return Z},{});$.defaultUniforms={...$.defaultUniforms,...q}}function wc($,Q,J){$.deprecations?.forEach((K)=>{if(K.regex?.test(Q))if(K.deprecated)J.deprecated(K.old,K.new)();else J.removed(K.old,K.new)()})}function Ze0($){return $.forEach((Q)=>{switch(Q.type){case"function":Q.regex=new RegExp(`\\b${Q.old}\\(`);break;default:Q.regex=new RegExp(`${Q.type} ${Q.old};`)}}),$}function BH($){NH($);let Q={},J={};YF0({modules:$,level:0,moduleMap:Q,moduleDepth:J});let K=Object.keys(J).sort((Y,q)=>J[q]-J[Y]).map((Y)=>Q[Y]);return NH(K),K}function YF0($){let{modules:Q,level:J,moduleMap:K,moduleDepth:Y}=$;if(J>=5)throw Error("Possible loop in shader dependency graph");for(let q of Q)if(K[q.name]=q,Y[q.name]===void 0||Y[q.name]<J)Y[q.name]=J;for(let q of Q)if(q.dependencies)YF0({modules:q.dependencies,level:J+1,moduleMap:K,moduleDepth:Y})}function qF0($){switch($?.gpu.toLowerCase()){case"apple":return`#define APPLE_GPU
// Apple optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"nvidia":return`#define NVIDIA_GPU
// Nvidia optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
`;case"intel":return`#define INTEL_GPU
// Intel optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Intel's built-in 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"amd":return`#define AMD_GPU
`;default:return`#define DEFAULT_GPU
// Prevent driver from optimizing away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Headless Chrome's software shader 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// If the GPU doesn't have full 32 bits precision, will causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`}}function XF0($,Q){if(Number($.match(/^#version[ \t]+(\d+)/m)?.[1]||100)!==300)throw Error("luma.gl v9 only supports GLSL 3.00 shader sources");switch(Q){case"vertex":return $=ZF0($,Xe0),$;case"fragment":return $=ZF0($,We0),$;default:throw Error(Q)}}var WF0=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,`#version 300 es
`],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],Xe0=[...WF0,[Oc("attribute"),"in $1"],[Oc("varying"),"out $1"]],We0=[...WF0,[Oc("varying"),"in $1"]];function ZF0($,Q){for(let[J,K]of Q)$=$.replace(J,K);return $}function Oc($){return new RegExp(`\\b${$}[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)`,"g")}function Tc($,Q){let J="";for(let K in $){let Y=$[K];if(J+=`void ${Y.signature} {
`,Y.header)J+=`  ${Y.header}`;if(Q[K]){let q=Q[K];q.sort((Z,X)=>Z.order-X.order);for(let Z of q)J+=`  ${Z.injection}
`}if(Y.footer)J+=`  ${Y.footer}`;J+=`}
`}return J}function Dc($){let Q={vertex:{},fragment:{}};for(let J of $){let K,Y;if(typeof J!=="string")K=J,Y=K.hook;else K={},Y=J;Y=Y.trim();let[q,Z]=Y.split(":"),X=Y.replace(/\(.+/,""),W=Object.assign(K,{signature:Z});switch(q){case"vs":Q.vertex[X]=W;break;case"fs":Q.fragment[X]=W;break;default:throw Error(q)}}return Q}function FF0($,Q){return{name:Fe0($,Q),language:"glsl",version:Ue0($)}}function Fe0($,Q="unnamed"){let K=/#define[^\S\r\n]*SHADER_NAME[^\S\r\n]*([A-Za-z0-9_-]+)\s*/.exec($);return K?K[1]:Q}function Ue0($){let Q=100,J=$.match(/[^\s]+/g);if(J&&J.length>=2&&J[0]==="#version"){let K=parseInt(J[1],10);if(Number.isFinite(K))Q=K}if(Q!==100&&Q!==300)throw Error(`Invalid GLSL version ${Q}`);return Q}var HF0=`

${VV}
`,He0=`precision highp float;
`;function NF0($){let Q=BH($.modules||[]);return{source:Ne0($.platformInfo,{...$,source:$.source,stage:"vertex",modules:Q}),getUniforms:zF0(Q)}}function BF0($){let{vs:Q,fs:J}=$,K=BH($.modules||[]);return{vs:UF0($.platformInfo,{...$,source:Q,stage:"vertex",modules:K}),fs:UF0($.platformInfo,{...$,source:J,stage:"fragment",modules:K}),getUniforms:zF0(K)}}function Ne0($,Q){let{source:J,stage:K,modules:Y,hookFunctions:q=[],inject:Z={},log:X}=Q;$P(typeof J==="string","shader source must be a string");let W=J,F="",H=Dc(q),B={},z={},A={};for(let G in Z){let w=typeof Z[G]==="string"?{injection:Z[G],order:0}:Z[G],T=/^(v|f)s:(#)?([\w-]+)$/.exec(G);if(T){let D=T[2],P=T[3];if(D)if(P==="decl")z[G]=[w];else A[G]=[w];else B[G]=[w]}else A[G]=[w]}let R=Y;for(let G of R){if(X)wc(G,W,X);let w=AF0(G,"wgsl");F+=w;let T=G.injections?.[K]||{};for(let D in T){let P=/^(v|f)s:#([\w-]+)$/.exec(D);if(P){let E=P[2]==="decl"?z:A;E[D]=E[D]||[],E[D].push(T[D])}else B[D]=B[D]||[],B[D].push(T[D])}}return F+=HF0,F=RV(F,K,z),F+=Tc(H[K],B),F+=W,F=RV(F,K,A),F}function UF0($,Q){let{id:J,source:K,stage:Y,language:q="glsl",modules:Z,defines:X={},hookFunctions:W=[],inject:F={},prologue:H=!0,log:B}=Q;$P(typeof K==="string","shader source must be a string");let z=q==="glsl"?FF0(K).version:-1,A=$.shaderLanguageVersion,R=z===100?"#version 100":"#version 300 es",w=K.split(`
`).slice(1).join(`
`),T={};Z.forEach((h)=>{Object.assign(T,h.defines)}),Object.assign(T,X);let D="";switch(q){case"wgsl":break;case"glsl":D=H?`${R}

// ----- PROLOGUE -------------------------
${Be0({id:J,source:K,stage:Y})}
${`#define SHADER_TYPE_${Y.toUpperCase()}`}

${qF0($)}
${Y==="fragment"?He0:""}

// ----- APPLICATION DEFINES -------------------------

${ze0(T)}

`:`${R}
`;break}let P=Dc(W),j={},E={},L={};for(let h in F){let _=typeof F[h]==="string"?{injection:F[h],order:0}:F[h],S=/^(v|f)s:(#)?([\w-]+)$/.exec(h);if(S){let I=S[2],M=S[3];if(I)if(M==="decl")E[h]=[_];else L[h]=[_];else j[h]=[_]}else L[h]=[_]}for(let h of Z){if(B)wc(h,w,B);let _=AF0(h,Y);D+=_;let S=h.instance?.normalizedInjections[Y]||{};for(let I in S){let M=/^(v|f)s:#([\w-]+)$/.exec(I);if(M){let b=M[2]==="decl"?E:L;b[I]=b[I]||[],b[I].push(S[I])}else j[I]=j[I]||[],j[I].push(S[I])}}if(D+="// ----- MAIN SHADER SOURCE -------------------------",D+=HF0,D=RV(D,Y,E),D+=Tc(P[Y],j),D+=w,D=RV(D,Y,L),q==="glsl"&&z!==A)D=XF0(D,Y);return D.trim()}function zF0($){return function(J){let K={};for(let Y of $){let q=Y.getUniforms?.(J,K);Object.assign(K,q)}return K}}function Be0($){let{id:Q,source:J,stage:K}=$;return Q&&J.indexOf("SHADER_NAME")===-1?`
#define SHADER_NAME ${Q}_${K}`:""}function ze0($={}){let Q="";for(let J in $){let K=$[J];if(K||Number.isFinite(K))Q+=`#define ${J.toUpperCase()} ${$[J]}
`}return Q}function AF0($,Q){let J;switch(Q){case"vertex":J=$.vs||"";break;case"fragment":J=$.fs||"";break;case"wgsl":J=$.source||"";break;default:$P(!1)}if(!$.name)throw Error("Shader module must have a name");let K=$.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),Y=`// ----- MODULE ${$.name} ---------------

`;if(Q!=="wgsl")Y+=`#define MODULE_${K}
`;return Y+=`${J}
`,Y}var Ae0=/^\s*\#\s*ifdef\s*([a-zA-Z_]+)\s*$/,Ve0=/^\s*\#\s*endif\s*$/;function VF0($,Q){let J=$.split(`
`),K=[],Y=!0,q=null;for(let Z of J){let X=Z.match(Ae0),W=Z.match(Ve0);if(X)q=X[1],Y=Boolean(Q?.defines?.[q]);else if(W)Y=!0;else if(Y)K.push(Z)}return K.join(`
`)}class YJ{static defaultShaderAssembler;_hookFunctions=[];_defaultModules=[];static getDefaultShaderAssembler(){return YJ.defaultShaderAssembler=YJ.defaultShaderAssembler||new YJ,YJ.defaultShaderAssembler}addDefaultModule($){if(!this._defaultModules.find((Q)=>Q.name===(typeof $==="string"?$:$.name)))this._defaultModules.push($)}removeDefaultModule($){let Q=typeof $==="string"?$:$.name;this._defaultModules=this._defaultModules.filter((J)=>J.name!==Q)}addShaderHook($,Q){if(Q)$=Object.assign(Q,{hook:$});this._hookFunctions.push($)}assembleWGSLShader($){let Q=this._getModuleList($.modules),J=this._hookFunctions,{source:K,getUniforms:Y}=NF0({...$,source:$.source,modules:Q,hookFunctions:J});return{source:$.platformInfo.shaderLanguage==="wgsl"?VF0(K):K,getUniforms:Y,modules:Q}}assembleGLSLShaderPair($){let Q=this._getModuleList($.modules),J=this._hookFunctions;return{...BF0({...$,vs:$.vs,fs:$.fs,modules:Q,hookFunctions:J}),modules:Q}}_getModuleList($=[]){let Q=Array(this._defaultModules.length+$.length),J={},K=0;for(let Y=0,q=this._defaultModules.length;Y<q;++Y){let Z=this._defaultModules[Y],X=Z.name;Q[K++]=Z,J[X]=!0}for(let Y=0,q=$.length;Y<q;++Y){let Z=$[Y],X=Z.name;if(!J[X])Q[K++]=Z,J[X]=!0}return Q.length=K,NH(Q),Q}}function Cc($){let{input:Q,inputChannels:J,output:K}=$||{};if(!Q)return`#version 300 es
out vec4 transform_output;
void main() {
  transform_output = vec4(0);
}`;if(!J)throw Error("inputChannels");let Y=Re0(J),q=RF0(Q,J);return`#version 300 es
in ${Y} ${Q};
out vec4 ${K};
void main() {
  ${K} = ${q};
}`}function Re0($){switch($){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw Error(`invalid channels: ${$}`)}}function RF0($,Q){switch(Q){case 1:return`vec4(${$}, 0.0, 0.0, 1.0)`;case 2:return`vec4(${$}, 0.0, 1.0)`;case 3:return`vec4(${$}, 1.0)`;case 4:return $;default:throw Error(`invalid channels: ${Q}`)}}class GF0{stats=new Map;getStats($){return this.get($)}get($){if(!this.stats.has($))this.stats.set($,new b$({id:$}));return this.stats.get($)}}var QP=new GF0;var g0=new v9({id:"luma.gl"});var Pc={};function nq($="id"){Pc[$]=Pc[$]||1;let Q=Pc[$]++;return`${$}-${Q}`}class U5{static defaultProps={id:"undefined",handle:void 0,userData:void 0};toString(){return`${this[Symbol.toStringTag]||this.constructor.name}:"${this.id}"`}id;props;userData={};_device;destroyed=!1;allocatedBytes=0;_attachedResources=new Set;constructor($,Q,J){if(!$)throw Error("no device");this._device=$,this.props=Ge0(Q,J);let K=this.props.id!=="undefined"?this.props.id:nq(this[Symbol.toStringTag]);this.props.id=K,this.id=K,this.userData=this.props.userData||{},this.addStats()}destroy(){this.destroyResource()}delete(){return this.destroy(),this}getProps(){return this.props}attachResource($){this._attachedResources.add($)}detachResource($){this._attachedResources.delete($)}destroyAttachedResource($){if(this._attachedResources.delete($))$.destroy()}destroyAttachedResources(){for(let $ of Object.values(this._attachedResources))$.destroy();this._attachedResources=new Set}destroyResource(){this.destroyAttachedResources(),this.removeStats(),this.destroyed=!0}removeStats(){let $=this._device.statsManager.getStats("Resource Counts"),Q=this[Symbol.toStringTag];$.get(`${Q}s Active`).decrementCount()}trackAllocatedMemory($,Q=this[Symbol.toStringTag]){let J=this._device.statsManager.getStats("Resource Counts");J.get("GPU Memory").addCount($),J.get(`${Q} Memory`).addCount($),this.allocatedBytes=$}trackDeallocatedMemory($=this[Symbol.toStringTag]){let Q=this._device.statsManager.getStats("Resource Counts");Q.get("GPU Memory").subtractCount(this.allocatedBytes),Q.get(`${$} Memory`).subtractCount(this.allocatedBytes),this.allocatedBytes=0}addStats(){let $=this._device.statsManager.getStats("Resource Counts"),Q=this[Symbol.toStringTag];$.get("Resources Created").incrementCount(),$.get(`${Q}s Created`).incrementCount(),$.get(`${Q}s Active`).incrementCount()}}function Ge0($,Q){let J={...Q};for(let K in $)if($[K]!==void 0)J[K]=$[K];return J}class h5 extends U5{static defaultProps={...U5.defaultProps,usage:0,byteLength:0,byteOffset:0,data:null,indexType:"uint16",mappedAtCreation:!1};static MAP_READ=1;static MAP_WRITE=2;static COPY_SRC=4;static COPY_DST=8;static INDEX=16;static VERTEX=32;static UNIFORM=64;static STORAGE=128;static INDIRECT=256;static QUERY_RESOLVE=512;get[Symbol.toStringTag](){return"Buffer"}usage;indexType;updateTimestamp;constructor($,Q){let J={...Q};if((Q.usage||0)&h5.INDEX&&!Q.indexType){if(Q.data instanceof Uint32Array)J.indexType="uint32";else if(Q.data instanceof Uint16Array)J.indexType="uint16"}delete J.data;super($,J,h5.defaultProps);this.usage=J.usage||0,this.indexType=J.indexType,this.updateTimestamp=$.incrementTimestamp()}clone($){return this.device.createBuffer({...this.props,...$})}readSyncWebGL($,Q){throw Error("not implemented")}static DEBUG_DATA_MAX_LENGTH=32;debugData=new ArrayBuffer(0);_setDebugData($,Q,J){let K=ArrayBuffer.isView($)?$.buffer:$,Y=Math.min($?$.byteLength:J,h5.DEBUG_DATA_MAX_LENGTH);if(K===null)this.debugData=new ArrayBuffer(Y);else if(Q===0&&J===K.byteLength)this.debugData=K.slice(0,Y);else this.debugData=K.slice(Q,Q+Y)}}function JP($){let Q=wF0[$],J=we0(Q),K=$.includes("norm"),Y=!K&&!$.startsWith("float"),q=$.startsWith("s");return{dataType:wF0[$],byteLength:J,integer:Y,signed:q,normalized:K}}function we0($){return Oe0[$]}var wF0={uint8:"uint8",sint8:"sint8",unorm8:"uint8",snorm8:"sint8",uint16:"uint16",sint16:"sint16",unorm16:"uint16",snorm16:"sint16",float16:"float16",float32:"float32",uint32:"uint32",sint32:"sint32"},Oe0={uint8:1,sint8:1,uint16:2,sint16:2,float16:2,float32:4,uint32:4,sint32:4};function KP($){let Q=Te0[$];if(!Q)throw Error(`Unsupported texture format ${$}`);return Q}var Te0={r8unorm:{},r8snorm:{render:"snorm8-renderable-webgl"},r8uint:{},r8sint:{},rg8unorm:{},rg8snorm:{render:"snorm8-renderable-webgl"},rg8uint:{},rg8sint:{},r16uint:{},r16sint:{},r16float:{render:"float16-renderable-webgl",filter:"float16-filterable-webgl"},"r16unorm-webgl":{f:"norm16-renderable-webgl"},"r16snorm-webgl":{f:"snorm16-renderable-webgl"},"rgba4unorm-webgl":{channels:"rgba",bitsPerChannel:[4,4,4,4],packed:!0},"rgb565unorm-webgl":{channels:"rgb",bitsPerChannel:[5,6,5,0],packed:!0},"rgb5a1unorm-webgl":{channels:"rgba",bitsPerChannel:[5,5,5,1],packed:!0},"rgb8unorm-webgl":{},"rgb8snorm-webgl":{},rgba8unorm:{},"rgba8unorm-srgb":{},rgba8snorm:{render:"snorm8-renderable-webgl"},rgba8uint:{},rgba8sint:{},bgra8unorm:{},"bgra8unorm-srgb":{},rg16uint:{},rg16sint:{},rg16float:{render:"float16-renderable-webgl",filter:"float16-filterable-webgl"},"rg16unorm-webgl":{render:"norm16-renderable-webgl"},"rg16snorm-webgl":{render:"snorm16-renderable-webgl"},r32uint:{},r32sint:{},r32float:{render:"float32-renderable-webgl",filter:"float32-filterable"},rgb9e5ufloat:{channels:"rgb",packed:!0,render:"rgb9e5ufloat-renderable-webgl"},rg11b10ufloat:{channels:"rgb",bitsPerChannel:[11,11,10,0],packed:!0,p:1,render:"float32-renderable-webgl"},rgb10a2unorm:{channels:"rgba",bitsPerChannel:[10,10,10,2],packed:!0,p:1},"rgb10a2uint-webgl":{channels:"rgba",bitsPerChannel:[10,10,10,2],packed:!0,p:1,wgpu:!1},"rgb16unorm-webgl":{f:"norm16-renderable-webgl"},"rgb16snorm-webgl":{f:"norm16-renderable-webgl"},rg32uint:{},rg32sint:{},rg32float:{render:!1,filter:"float32-filterable"},rgba16uint:{},rgba16sint:{},rgba16float:{render:"float16-renderable-webgl",filter:"float16-filterable-webgl"},"rgba16unorm-webgl":{render:"norm16-renderable-webgl"},"rgba16snorm-webgl":{render:"snorm16-renderable-webgl"},"rgb32float-webgl":{render:"float32-renderable-webgl",filter:"float32-filterable"},rgba32uint:{},rgba32sint:{},rgba32float:{render:"float32-renderable-webgl",filter:"float32-filterable"},stencil8:{attachment:"stencil",bitsPerChannel:[8,0,0,0],dataType:"uint8"},depth16unorm:{attachment:"depth",bitsPerChannel:[16,0,0,0],dataType:"uint16"},depth24plus:{attachment:"depth",bitsPerChannel:[24,0,0,0],dataType:"uint32"},depth32float:{attachment:"depth",bitsPerChannel:[32,0,0,0],dataType:"float32"},"depth24plus-stencil8":{attachment:"depth-stencil",bitsPerChannel:[24,8,0,0],packed:!0},"depth32float-stencil8":{attachment:"depth-stencil",bitsPerChannel:[32,8,0,0],packed:!0},"bc1-rgb-unorm-webgl":{f:"texture-compression-bc"},"bc1-rgb-unorm-srgb-webgl":{f:"texture-compression-bc"},"bc1-rgba-unorm":{f:"texture-compression-bc"},"bc1-rgba-unorm-srgb":{f:"texture-compression-bc"},"bc2-rgba-unorm":{f:"texture-compression-bc"},"bc2-rgba-unorm-srgb":{f:"texture-compression-bc"},"bc3-rgba-unorm":{f:"texture-compression-bc"},"bc3-rgba-unorm-srgb":{f:"texture-compression-bc"},"bc4-r-unorm":{f:"texture-compression-bc"},"bc4-r-snorm":{f:"texture-compression-bc"},"bc5-rg-unorm":{f:"texture-compression-bc"},"bc5-rg-snorm":{f:"texture-compression-bc"},"bc6h-rgb-ufloat":{f:"texture-compression-bc"},"bc6h-rgb-float":{f:"texture-compression-bc"},"bc7-rgba-unorm":{f:"texture-compression-bc"},"bc7-rgba-unorm-srgb":{f:"texture-compression-bc"},"etc2-rgb8unorm":{f:"texture-compression-etc2"},"etc2-rgb8unorm-srgb":{f:"texture-compression-etc2"},"etc2-rgb8a1unorm":{f:"texture-compression-etc2"},"etc2-rgb8a1unorm-srgb":{f:"texture-compression-etc2"},"etc2-rgba8unorm":{f:"texture-compression-etc2"},"etc2-rgba8unorm-srgb":{f:"texture-compression-etc2"},"eac-r11unorm":{f:"texture-compression-etc2"},"eac-r11snorm":{f:"texture-compression-etc2"},"eac-rg11unorm":{f:"texture-compression-etc2"},"eac-rg11snorm":{f:"texture-compression-etc2"},"astc-4x4-unorm":{f:"texture-compression-astc"},"astc-4x4-unorm-srgb":{f:"texture-compression-astc"},"astc-5x4-unorm":{f:"texture-compression-astc"},"astc-5x4-unorm-srgb":{f:"texture-compression-astc"},"astc-5x5-unorm":{f:"texture-compression-astc"},"astc-5x5-unorm-srgb":{f:"texture-compression-astc"},"astc-6x5-unorm":{f:"texture-compression-astc"},"astc-6x5-unorm-srgb":{f:"texture-compression-astc"},"astc-6x6-unorm":{f:"texture-compression-astc"},"astc-6x6-unorm-srgb":{f:"texture-compression-astc"},"astc-8x5-unorm":{f:"texture-compression-astc"},"astc-8x5-unorm-srgb":{f:"texture-compression-astc"},"astc-8x6-unorm":{f:"texture-compression-astc"},"astc-8x6-unorm-srgb":{f:"texture-compression-astc"},"astc-8x8-unorm":{f:"texture-compression-astc"},"astc-8x8-unorm-srgb":{f:"texture-compression-astc"},"astc-10x5-unorm":{f:"texture-compression-astc"},"astc-10x5-unorm-srgb":{f:"texture-compression-astc"},"astc-10x6-unorm":{f:"texture-compression-astc"},"astc-10x6-unorm-srgb":{f:"texture-compression-astc"},"astc-10x8-unorm":{f:"texture-compression-astc"},"astc-10x8-unorm-srgb":{f:"texture-compression-astc"},"astc-10x10-unorm":{f:"texture-compression-astc"},"astc-10x10-unorm-srgb":{f:"texture-compression-astc"},"astc-12x10-unorm":{f:"texture-compression-astc"},"astc-12x10-unorm-srgb":{f:"texture-compression-astc"},"astc-12x12-unorm":{f:"texture-compression-astc"},"astc-12x12-unorm-srgb":{f:"texture-compression-astc"},"pvrtc-rgb4unorm-webgl":{f:"texture-compression-pvrtc-webgl"},"pvrtc-rgba4unorm-webgl":{f:"texture-compression-pvrtc-webgl"},"pvrtc-rbg2unorm-webgl":{f:"texture-compression-pvrtc-webgl"},"pvrtc-rgba2unorm-webgl":{f:"texture-compression-pvrtc-webgl"},"etc1-rbg-unorm-webgl":{f:"texture-compression-etc1-webgl"},"atc-rgb-unorm-webgl":{f:"texture-compression-atc-webgl"},"atc-rgba-unorm-webgl":{f:"texture-compression-atc-webgl"},"atc-rgbai-unorm-webgl":{f:"texture-compression-atc-webgl"}};var De0=["bc1","bc2","bc3","bc4","bc5","bc6","bc7","etc1","etc2","eac","atc","astc","pvrtc"],Ce0=/^(r|rg|rgb|rgba|bgra)([0-9]*)([a-z]*)(-srgb)?(-webgl)?$/;function kc($){return De0.some((Q)=>$.startsWith(Q))}function zH($){let Q=Pe0($);if(kc($)){Q.channels="rgb",Q.components=3,Q.bytesPerPixel=1,Q.srgb=!1,Q.compressed=!0;let K=ke0($);if(K)Q.blockWidth=K.blockWidth,Q.blockHeight=K.blockHeight}let J=Ce0.exec($);if(J){let[,K,Y,q,Z,X]=J,W=`${q}${Y}`,F=JP(W),H=F.byteLength*8,B=K.length,z=[H,B>=2?H:0,B>=3?H:0,B>=4?H:0];if(Q={format:$,attachment:Q.attachment,dataType:F.dataType,components:B,channels:K,integer:F.integer,signed:F.signed,normalized:F.normalized,bitsPerChannel:z,bytesPerPixel:F.byteLength*K.length,packed:Q.packed,srgb:Q.srgb},X==="-webgl")Q.webgl=!0;if(Z==="-srgb")Q.srgb=!0}if($.endsWith("-webgl"))Q.webgl=!0;if($.endsWith("-srgb"))Q.srgb=!0;return Q}function Pe0($){let Q=KP($),J=Q.bytesPerPixel||1,K=Q.bitsPerChannel||[8,8,8,8];return delete Q.bitsPerChannel,delete Q.bytesPerPixel,delete Q.f,delete Q.render,delete Q.filter,delete Q.blend,delete Q.store,{...Q,format:$,attachment:Q.attachment||"color",channels:Q.channels||"r",components:Q.components||Q.channels?.length||1,bytesPerPixel:J,bitsPerChannel:K,dataType:Q.dataType||"uint8",srgb:Q.srgb??!1,packed:Q.packed??!1,webgl:Q.webgl??!1,integer:Q.integer??!1,signed:Q.signed??!1,normalized:Q.normalized??!1,compressed:Q.compressed??!1}}function ke0($){let J=/.*-(\d+)x(\d+)-.*/.exec($);if(J){let[,K,Y]=J;return{blockWidth:Number(K),blockHeight:Number(Y)}}return null}function OF0($){let Q=KP($),J={format:$,create:Q.f??!0,render:Q.render??!0,filter:Q.filter??!0,blend:Q.blend??!0,store:Q.store??!0},K=zH($),Y=$.startsWith("depth")||$.startsWith("stencil"),q=K?.signed,Z=K?.integer,X=K?.webgl;return J.render&&=!q,J.filter&&=!Y&&!q&&!Z&&!X,J}class YP{}class qP{features;disabledFeatures;constructor($=[],Q){this.features=new Set($),this.disabledFeatures=Q||{}}*[Symbol.iterator](){yield*this.features}has($){return!this.disabledFeatures?.[$]&&this.features.has($)}}class L3{static defaultProps={id:null,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,createCanvasContext:void 0,onError:($)=>g0.error($.message)(),_reuseDevices:!1,_requestMaxLimits:!0,_factoryDestroyPolicy:"unused",_initializeFeatures:!0,_disabledFeatures:{"compilation-status-async-webgl":!0},_resourceDefaults:{},webgl:{},debug:g0.get("debug")||void 0,debugShaders:g0.get("debug-shaders")||void 0,debugFramebuffers:Boolean(g0.get("debug-framebuffers")),debugWebGL:Boolean(g0.get("debug-webgl")),debugSpectorJS:void 0,debugSpectorJSUrl:void 0,_handle:void 0};get[Symbol.toStringTag](){return"Device"}constructor($){this.props={...L3.defaultProps,...$},this.id=this.props.id||nq(this[Symbol.toStringTag].toLowerCase())}id;props;userData={};statsManager=QP;timestamp=0;_reused=!1;_lumaData={};getTextureFormatCapabilities($){let Q=OF0($),J=(q)=>(typeof q==="string"?this.features.has(q):q)??!0,K=J(Q.create),Y={format:$,create:K,render:K&&J(Q.render),filter:K&&J(Q.filter),blend:K&&J(Q.blend),store:K&&J(Q.store)};return this._getDeviceSpecificTextureFormatCapabilities(Y)}isTextureFormatSupported($,Q){return this.getTextureFormatCapabilities($).create}isTextureFormatFilterable($){return this.getTextureFormatCapabilities($).filter}isTextureFormatRenderable($){return this.getTextureFormatCapabilities($).render}isTextureFormatCompressed($){return kc($)}loseDevice(){return!1}reportError($){this.props.onError($)}getDefaultCanvasContext(){if(!this.canvasContext)throw Error("Device has no default CanvasContext. See props.createCanvasContext");return this.canvasContext}createCommandEncoder($={}){throw Error("not implemented")}incrementTimestamp(){return this.timestamp++}onError($){this.props.onError($)}getCanvasContext(){return this.getDefaultCanvasContext()}readPixelsToArrayWebGL($,Q){throw Error("not implemented")}readPixelsToBufferWebGL($,Q){throw Error("not implemented")}setParametersWebGL($){throw Error("not implemented")}getParametersWebGL($){throw Error("not implemented")}withParametersWebGL($,Q){throw Error("not implemented")}clearWebGL($){throw Error("not implemented")}resetWebGL(){throw Error("not implemented")}static _getCanvasContextProps($){return $.createCanvasContext===!0?{}:$.createCanvasContext}_normalizeBufferProps($){if($ instanceof ArrayBuffer||ArrayBuffer.isView($))$={data:$};let Q={...$};if(($.usage||0)&h5.INDEX&&!$.indexType)if($.data instanceof Uint32Array)Q.indexType="uint32";else if($.data instanceof Uint16Array)Q.indexType="uint16";else g0.warn("indices buffer content must be of integer type")();return Q}}var je0=W4()&&typeof document<"u",Ee0=()=>je0&&document.readyState==="complete",Le0="set luma.log.level=1 (or higher) to trace rendering",TF0="No matching device found. Ensure `@luma.gl/webgl` and/or `@luma.gl/webgpu` modules are imported.";class AH{static defaultProps={...L3.defaultProps,type:"best-available",adapters:void 0,waitForPageLoad:!0};static pageLoaded=he0().then(()=>{g0.probe(2,"DOM is loaded")()});stats=QP;log=g0;VERSION="9.1.10";spector;preregisteredAdapters=new Map;constructor(){if(globalThis.luma){if(globalThis.luma.VERSION!==this.VERSION)throw g0.error(`Found luma.gl ${globalThis.luma.VERSION} while initialzing ${this.VERSION}`)(),g0.error("'yarn why @luma.gl/core' can help identify the source of the conflict")(),Error("luma.gl - multiple versions detected: see console log");g0.error("This version of luma.gl has already been initialized")()}g0.log(1,`${this.VERSION} - ${Le0}`)(),globalThis.luma=this}registerAdapters($){for(let Q of $)this.preregisteredAdapters.set(Q.type,Q)}getSupportedAdapters($=[]){let Q=this.getAdapterMap($);return Array.from(Q).map(([,J])=>J).filter((J)=>J.isSupported?.()).map((J)=>J.type)}getBestAvailableAdapter($=[]){let Q=this.getAdapterMap($);if(Q.get("webgpu")?.isSupported?.())return"webgpu";if(Q.get("webgl")?.isSupported?.())return"webgl";return null}setDefaultDeviceProps($){Object.assign(AH.defaultProps,$)}async createDevice($={}){if($={...AH.defaultProps,...$},$.waitForPageLoad)await AH.pageLoaded;let Q=this.getAdapterMap($.adapters),J=$.type||"";if(J==="best-available")J=this.getBestAvailableAdapter($.adapters)||J;let q=await(this.getAdapterMap($.adapters)||Q).get(J)?.create?.($);if(q)return q;throw Error(TF0)}async attachDevice($){let Q=this.getAdapterMap($.adapters),J="";if($.handle instanceof WebGL2RenderingContext)J="webgl";if($.createCanvasContext)await AH.pageLoaded;if($.handle===null)J="unknown";let Y=await Q.get(J)?.attach?.(null);if(Y)return Y;throw Error(TF0)}enforceWebGL2($=!0,Q=[]){let K=this.getAdapterMap(Q).get("webgl");if(!K)g0.warn("enforceWebGL2: webgl adapter not found")();K?.enforceWebGL2?.($)}getAdapterMap($=[]){let Q=new Map(this.preregisteredAdapters);for(let J of $)Q.set(J.type,J);return Q}registerDevices($){g0.warn("luma.registerDevices() is deprecated, use luma.registerAdapters() instead");for(let Q of $){let J=Q.adapter;if(J)this.preregisteredAdapters.set(J.type,J)}}}var VH=new AH;function he0(){if(Ee0()||typeof window>"u")return Promise.resolve();return new Promise(($)=>{window.addEventListener("load",()=>$())})}class ZP{}class GV{static defaultProps={canvas:null,width:800,height:600,useDevicePixels:!0,autoResize:!0,container:null,visible:!0,alphaMode:"opaque",colorSpace:"srgb"};id;props;canvas;htmlCanvas;offscreenCanvas;type;width=1;height=1;resizeObserver;_canvasSizeInfo={clientWidth:0,clientHeight:0,devicePixelRatio:1};toString(){return`${this[Symbol.toStringTag]}(${this.id})`}constructor($){if(this.props={...GV.defaultProps,...$},$=this.props,!W4()){this.id="node-canvas-context",this.type="node",this.width=this.props.width,this.height=this.props.height,this.canvas=null;return}if(!$.canvas){let Q=_e0($),J=ve0($?.container||null);if(J.insertBefore(Q,J.firstChild),this.canvas=Q,!$?.visible)this.canvas.style.visibility="hidden"}else if(typeof $.canvas==="string")this.canvas=Se0($.canvas);else this.canvas=$.canvas;if(this.canvas instanceof HTMLCanvasElement)this.id=this.canvas.id,this.type="html-canvas",this.htmlCanvas=this.canvas;else this.id="offscreen-canvas",this.type="offscreen-canvas",this.offscreenCanvas=this.canvas;if(this.canvas instanceof HTMLCanvasElement&&$.autoResize)this.resizeObserver=new ResizeObserver((Q)=>{for(let J of Q)if(J.target===this.canvas)this.update()}),this.resizeObserver.observe(this.canvas)}getDevicePixelRatio($){if(typeof OffscreenCanvas<"u"&&this.canvas instanceof OffscreenCanvas)return 1;if($=$===void 0?this.props.useDevicePixels:$,!$||$<=0)return 1;if($===!0)return typeof window<"u"&&window.devicePixelRatio||1;return $}getPixelSize(){switch(this.type){case"node":return[this.width,this.height];case"offscreen-canvas":return[this.canvas.width,this.canvas.height];case"html-canvas":let $=this.getDevicePixelRatio(),Q=this.canvas;return Q.parentElement?[Q.clientWidth*$,Q.clientHeight*$]:[this.canvas.width,this.canvas.height];default:throw Error(this.type)}}getAspect(){let[$,Q]=this.getPixelSize();return $/Q}cssToDeviceRatio(){try{let[$]=this.getDrawingBufferSize(),Q=this._canvasSizeInfo.clientWidth||this.htmlCanvas?.clientWidth;return Q?$/Q:1}catch{return 1}}cssToDevicePixels($,Q=!0){let J=this.cssToDeviceRatio(),[K,Y]=this.getDrawingBufferSize();return fe0($,J,K,Y,Q)}setDevicePixelRatio($,Q={}){if(!this.htmlCanvas)return;let J="width"in Q?Q.width:this.htmlCanvas.clientWidth,K="height"in Q?Q.height:this.htmlCanvas.clientHeight;if(!J||!K)g0.log(1,"Canvas clientWidth/clientHeight is 0")(),$=1,J=this.htmlCanvas.width||1,K=this.htmlCanvas.height||1;let Y=this._canvasSizeInfo;if(Y.clientWidth!==J||Y.clientHeight!==K||Y.devicePixelRatio!==$){let q=$,Z=Math.floor(J*q),X=Math.floor(K*q);if(this.htmlCanvas.width=Z,this.htmlCanvas.height=X,this.device.gl){let[F,H]=this.getDrawingBufferSize();if(F!==Z||H!==X)q=Math.min(F/J,H/K),this.htmlCanvas.width=Math.floor(J*q),this.htmlCanvas.height=Math.floor(K*q),g0.warn("Device pixel ratio clamped")();this._canvasSizeInfo.clientWidth=J,this._canvasSizeInfo.clientHeight=K,this._canvasSizeInfo.devicePixelRatio=$}}}getDrawingBufferSize(){let $=this.device.gl;if(!$)return this.getPixelSize();return[$.drawingBufferWidth,$.drawingBufferHeight]}_setAutoCreatedCanvasId($){if(this.htmlCanvas?.id==="lumagl-auto-created-canvas")this.htmlCanvas.id=$}}function ve0($){if(typeof $==="string"){let Q=document.getElementById($);if(!Q)throw Error(`${$} is not an HTML element`);return Q}else if($)return $;return document.body}function Se0($){let Q=document.getElementById($);if(!(Q instanceof HTMLCanvasElement))throw Error("Object is not a canvas element");return Q}function _e0($){let{width:Q,height:J}=$,K=document.createElement("canvas");return K.id=nq("lumagl-auto-created-canvas"),K.width=Q||1,K.height=J||1,K.style.width=Number.isFinite(Q)?`${Q}px`:"100%",K.style.height=Number.isFinite(J)?`${J}px`:"100%",K}function fe0($,Q,J,K,Y){let q=$,Z=DF0(q[0],Q,J),X=CF0(q[1],Q,K,Y),W=DF0(q[0]+1,Q,J),F=W===J-1?W:W-1;W=CF0(q[1]+1,Q,K,Y);let H;if(Y)W=W===0?W:W+1,H=X,X=W;else H=W===K-1?W:W-1;return{x:Z,y:X,width:Math.max(F-Z+1,1),height:Math.max(H-X+1,1)}}function DF0($,Q,J){return Math.min(Math.round($*Q),J-1)}function CF0($,Q,J,K){return K?Math.max(0,J-1-Math.round($*Q)):Math.min(Math.round($*Q),J-1)}class I5 extends U5{static COPY_SRC=1;static COPY_DST=2;static TEXTURE=4;static STORAGE=8;static RENDER_ATTACHMENT=16;static CubeFaces=["+X","-X","+Y","-Y","+Z","-Z"];static defaultProps={...U5.defaultProps,data:null,dimension:"2d",format:"rgba8unorm",width:void 0,height:void 0,depth:1,mipmaps:!1,compressed:!1,usage:0,mipLevels:void 0,samples:void 0,sampler:{},view:void 0,flipY:void 0};get[Symbol.toStringTag](){return"Texture"}toString(){return`Texture(${this.id},${this.format},${this.width}x${this.height})`}dimension;format;width;height;depth;mipLevels;updateTimestamp;constructor($,Q){Q=I5.normalizeProps($,Q);super($,Q,I5.defaultProps);if(this.dimension=this.props.dimension,this.format=this.props.format,this.width=this.props.width,this.height=this.props.height,this.depth=this.props.depth,this.props.width===void 0||this.props.height===void 0){let J=I5.getTextureDataSize(this.props.data);this.width=J?.width||1,this.height=J?.height||1}if(this.props.mipmaps&&this.props.mipLevels===void 0)this.props.mipLevels="pyramid";this.mipLevels=this.props.mipLevels==="pyramid"?I5.getMipLevelCount(this.width,this.height):this.props.mipLevels||1,this.updateTimestamp=$.incrementTimestamp()}clone($){return this.device.createTexture({...this.props,...$})}static isExternalImage($){return typeof ImageData<"u"&&$ instanceof ImageData||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap||typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&$ instanceof HTMLVideoElement||typeof VideoFrame<"u"&&$ instanceof VideoFrame||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&$ instanceof OffscreenCanvas}static getExternalImageSize($){if(typeof ImageData<"u"&&$ instanceof ImageData||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&$ instanceof OffscreenCanvas)return{width:$.width,height:$.height};if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement)return{width:$.naturalWidth,height:$.naturalHeight};if(typeof HTMLVideoElement<"u"&&$ instanceof HTMLVideoElement)return{width:$.videoWidth,height:$.videoHeight};if(typeof VideoFrame<"u"&&$ instanceof VideoFrame)return{width:$.displayWidth,height:$.displayHeight};throw Error("Unknown image type")}static isTextureLevelData($){let Q=$?.data;return ArrayBuffer.isView(Q)}static getTextureDataSize($){if(!$)return null;if(ArrayBuffer.isView($))return null;if(Array.isArray($))return I5.getTextureDataSize($[0]);if(I5.isExternalImage($))return I5.getExternalImageSize($);if($&&typeof $==="object"&&$.constructor===Object){let J=Object.values($)[0];return{width:J.width,height:J.height}}throw Error("texture size deduction failed")}static normalizeTextureData($,Q){let J;if(ArrayBuffer.isView($))J=[{data:$,width:Q.width,height:Q.height}];else if(!Array.isArray($))J=[$];else J=$;return J}static getMipLevelCount($,Q){return Math.floor(Math.log2(Math.max($,Q)))+1}static getCubeFaceDepth($){switch($){case"+X":return 0;case"-X":return 1;case"+Y":return 2;case"-Y":return 3;case"+Z":return 4;case"-Z":return 5;default:throw Error($)}}static defaultCopyExternalImageOptions={image:void 0,sourceX:0,sourceY:0,width:void 0,height:void 0,depth:1,mipLevel:0,x:0,y:0,z:0,aspect:"all",colorSpace:"srgb",premultipliedAlpha:!1,flipY:!1};static normalizeProps($,Q){let J={...Q},K=$?.props?._resourceDefaults?.texture||{};Object.assign(J,K);let{width:Y,height:q}=J;if(typeof Y==="number")J.width=Math.max(1,Math.ceil(Y));if(typeof q==="number")J.height=Math.max(1,Math.ceil(q));return J}}class _X extends U5{static defaultProps={...U5.defaultProps,format:void 0,dimension:void 0,aspect:"all",baseMipLevel:0,mipLevelCount:void 0,baseArrayLayer:0,arrayLayerCount:void 0};get[Symbol.toStringTag](){return"TextureView"}constructor($,Q){super($,Q,_X.defaultProps)}}function kF0($,Q,J){let K="",Y=Q.split(/\r?\n/),q=$.slice().sort((Z,X)=>Z.lineNum-X.lineNum);switch(J?.showSourceCode||"no"){case"all":let Z=0;for(let X=1;X<=Y.length;X++){K+=jF0(Y[X-1],X,J);while(q.length>Z&&q[Z].lineNum===X){let W=q[Z++];K+=PF0(W,Y,W.lineNum,{...J,inlineSource:!1})}}return K;case"issues":case"no":for(let X of $)K+=PF0(X,Y,X.lineNum,{inlineSource:J?.showSourceCode!=="no"});return K}}function PF0($,Q,J,K){if(K?.inlineSource){let q=Ie0(Q,J),Z=$.linePos>0?`${" ".repeat($.linePos+5)}^^^
`:"";return`
${q}${Z}${$.type.toUpperCase()}: ${$.message}

`}let Y=$.type==="error"?"red":"#8B4000";return K?.html?`<div class='luma-compiler-log-error' style="color:${Y};"><b> ${$.type.toUpperCase()}: ${$.message}</b></div>`:`${$.type.toUpperCase()}: ${$.message}`}function Ie0($,Q,J){let K="";for(let Y=Q-2;Y<=Q;Y++){let q=$[Y-1];if(q!==void 0)K+=jF0(q,Q,J)}return K}function jF0($,Q,J){let K=J?.html?be0($):$;return`${Me0(String(Q),4)}: ${K}${J?.html?"<br/>":`
`}`}function Me0($,Q){let J="";for(let K=$.length;K<Q;++K)J+=" ";return J+$}function be0($){return $.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")}class fX extends U5{static defaultProps={...U5.defaultProps,language:"auto",stage:void 0,source:"",sourceMap:null,entryPoint:"main",debugShaders:void 0};get[Symbol.toStringTag](){return"Shader"}stage;source;compilationStatus="pending";constructor($,Q){Q={...Q,debugShaders:Q.debugShaders||$.props.debugShaders||"errors"};super($,{id:ge0(Q),...Q},fX.defaultProps);this.stage=this.props.stage,this.source=this.props.source}getCompilationInfoSync(){return null}getTranslatedSource(){return null}async debugShader(){let $=this.props.debugShaders;switch($){case"never":return;case"errors":if(this.compilationStatus==="success")return;break;case"warnings":case"always":break}let Q=await this.getCompilationInfo();if($==="warnings"&&Q?.length===0)return;this._displayShaderLog(Q)}_displayShaderLog($){if(typeof document>"u"||!document?.createElement)return;let Q=EF0(this.source),J=`${this.stage} ${Q}`,K=kF0($,this.source,{showSourceCode:"all",html:!0}),Y=this.getTranslatedSource();if(Y)K+=`<br /><br /><h1>Translated Source</h1><br /><br /><code style="user-select:text;"><pre>${Y}</pre></code>`;let q=document.createElement("Button");q.innerHTML=`
<h1>Shader Compilation Error in ${J}</h1><br /><br />
<code style="user-select:text;"><pre>
${K}
</pre></code>`,q.style.top="10px",q.style.left="10px",q.style.position="absolute",q.style.zIndex="9999",q.style.width="100%",q.style.textAlign="left",document.body.appendChild(q),document.getElementsByClassName("luma-compiler-log-error")[0]?.scrollIntoView(),q.onclick=()=>{let X=`data:text/plain,${encodeURIComponent(this.source)}`;navigator.clipboard.writeText(X)}}}function ge0($){return EF0($.source)||$.id||nq(`unnamed ${$.stage}-shader`)}function EF0($,Q="unnamed"){let K=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/.exec($);return K?K[1]:Q}class lq extends U5{static defaultProps={...U5.defaultProps,type:"color-sampler",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge",addressModeW:"clamp-to-edge",magFilter:"nearest",minFilter:"nearest",mipmapFilter:"none",lodMinClamp:0,lodMaxClamp:32,compare:"less-equal",maxAnisotropy:1};get[Symbol.toStringTag](){return"Sampler"}constructor($,Q){Q=lq.normalizeProps($,Q);super($,Q,lq.defaultProps)}static normalizeProps($,Q){let J=$?.props?._resourceDefaults?.sampler||{};return{...Q,...J}}}class IX extends U5{static defaultProps={...U5.defaultProps,width:1,height:1,colorAttachments:[],depthStencilAttachment:null};get[Symbol.toStringTag](){return"Framebuffer"}width;height;constructor($,Q={}){super($,Q,IX.defaultProps);this.width=this.props.width,this.height=this.props.height}clone($){let Q=this.colorAttachments.map((K)=>K.texture.clone($)),J=this.depthStencilAttachment&&this.depthStencilAttachment.texture.clone($);return this.device.createFramebuffer({...this.props,colorAttachments:Q,depthStencilAttachment:J})}resize($){let Q=!$;if($){let[J,K]=Array.isArray($)?$:[$.width,$.height];Q=Q||K!==this.height||J!==this.width,this.width=J,this.height=K}if(Q)g0.log(2,`Resizing framebuffer ${this.id} to ${this.width}x${this.height}`)(),this.resizeAttachments(this.width,this.height)}autoCreateAttachmentTextures(){if(this.props.colorAttachments.length===0&&!this.props.depthStencilAttachment)throw Error("Framebuffer has noattachments");this.colorAttachments=this.props.colorAttachments.map((Q,J)=>{if(typeof Q==="string"){let K=this.createColorTexture(Q,J);return this.attachResource(K),K.view}if(Q instanceof I5)return Q.view;return Q});let $=this.props.depthStencilAttachment;if($)if(typeof $==="string"){let Q=this.createDepthStencilTexture($);this.attachResource(Q),this.depthStencilAttachment=Q.view}else if($ instanceof I5)this.depthStencilAttachment=$.view;else this.depthStencilAttachment=$}createColorTexture($,Q){return this.device.createTexture({id:`${this.id}-color-attachment-${Q}`,usage:I5.RENDER_ATTACHMENT,format:$,width:this.width,height:this.height,sampler:{magFilter:"linear",minFilter:"linear"}})}createDepthStencilTexture($){return this.device.createTexture({id:`${this.id}-depth-stencil-attachment`,usage:I5.RENDER_ATTACHMENT,format:$,width:this.width,height:this.height,mipmaps:!1})}resizeAttachments($,Q){for(let J=0;J<this.colorAttachments.length;++J)if(this.colorAttachments[J]){let K=this.colorAttachments[J].texture.clone({width:$,height:Q});this.destroyAttachedResource(this.colorAttachments[J]),this.colorAttachments[J]=K.view,this.attachResource(K.view)}if(this.depthStencilAttachment){let J=this.depthStencilAttachment.texture.clone({width:$,height:Q});this.destroyAttachedResource(this.depthStencilAttachment),this.depthStencilAttachment=J.view,this.attachResource(J)}this.updateAttachments()}}class qJ extends U5{static defaultProps={...U5.defaultProps,vs:null,vertexEntryPoint:"vertexMain",vsConstants:{},fs:null,fragmentEntryPoint:"fragmentMain",fsConstants:{},shaderLayout:null,bufferLayout:[],topology:"triangle-list",parameters:{},bindings:{},uniforms:{}};get[Symbol.toStringTag](){return"RenderPipeline"}shaderLayout;bufferLayout;linkStatus="pending";hash="";constructor($,Q){super($,Q,qJ.defaultProps);this.shaderLayout=this.props.shaderLayout,this.bufferLayout=this.props.bufferLayout||[]}setUniformsWebGL($){throw Error("Use uniform blocks")}}class bK extends U5{static defaultClearColor=[0,0,0,1];static defaultClearDepth=1;static defaultClearStencil=0;static defaultProps={...U5.defaultProps,framebuffer:null,parameters:void 0,clearColor:bK.defaultClearColor,clearColors:void 0,clearDepth:bK.defaultClearDepth,clearStencil:bK.defaultClearStencil,depthReadOnly:!1,stencilReadOnly:!1,discard:!1,occlusionQuerySet:void 0,timestampQuerySet:void 0,beginTimestampIndex:void 0,endTimestampIndex:void 0};get[Symbol.toStringTag](){return"RenderPass"}constructor($,Q){Q=bK.normalizeProps($,Q);super($,Q,bK.defaultProps)}static normalizeProps($,Q){return{...$.props._resourceDefaults?.renderPass,...Q}}}class RH extends U5{static defaultProps={...U5.defaultProps,shader:void 0,entryPoint:void 0,constants:{},shaderLayout:void 0};get[Symbol.toStringTag](){return"ComputePipeline"}hash="";shaderLayout;constructor($,Q){super($,Q,RH.defaultProps);this.shaderLayout=Q.shaderLayout}}class wV extends U5{static defaultProps={...U5.defaultProps,measureExecutionTime:void 0};get[Symbol.toStringTag](){return"CommandEncoder"}constructor($,Q){super($,Q,wV.defaultProps)}}class OV extends U5{static defaultProps={...U5.defaultProps};get[Symbol.toStringTag](){return"CommandBuffer"}constructor($,Q){super($,Q,OV.defaultProps)}}function LF0($){let[Q,J]=xe0[$],K=Q==="i32"||Q==="u32",Y=Q!=="u32",q=ce0[Q]*J,Z=ye0(Q,J);return{dataType:Q,components:J,defaultVertexFormat:Z,byteLength:q,integer:K,signed:Y}}function ye0($,Q){let J;switch($){case"f32":J="float32";break;case"i32":J="sint32";break;case"u32":J="uint32";break;case"f16":return Q<=2?"float16x2":"float16x4"}if(Q===1)return J;return`${J}x${Q}`}var xe0={f32:["f32",1],"vec2<f32>":["f32",2],"vec3<f32>":["f32",3],"vec4<f32>":["f32",4],f16:["f16",1],"vec2<f16>":["f16",2],"vec3<f16>":["f16",3],"vec4<f16>":["f16",4],i32:["i32",1],"vec2<i32>":["i32",2],"vec3<i32>":["i32",3],"vec4<i32>":["i32",4],u32:["u32",1],"vec2<u32>":["u32",2],"vec3<u32>":["u32",3],"vec4<u32>":["u32",4]},ce0={f32:4,f16:2,i32:4,u32:4};function jc($){let Q;if($.endsWith("-webgl"))$.replace("-webgl",""),Q=!0;let[J,K]=$.split("x"),Y=J,q=K?parseInt(K):1,Z=JP(Y),X={type:Y,components:q,byteLength:Z.byteLength*q,integer:Z.integer,signed:Z.signed,normalized:Z.normalized};if(Q)X.webglOnly=!0;return X}function XP($,Q){let J={};for(let K of $.attributes){let Y=ue0($,Q,K.name);if(Y)J[K.name]=Y}return J}function hF0($,Q,J=16){let K=XP($,Q),Y=Array(J).fill(null);for(let q of Object.values(K))Y[q.location]=q;return Y}function ue0($,Q,J){let K=me0($,J),Y=pe0(Q,J);if(!K)return null;let q=LF0(K.type),Z=Y?.vertexFormat||q.defaultVertexFormat,X=jc(Z);return{attributeName:Y?.attributeName||K.name,bufferName:Y?.bufferName||K.name,location:K.location,shaderType:K.type,shaderDataType:q.dataType,shaderComponents:q.components,vertexFormat:Z,bufferDataType:X.type,bufferComponents:X.components,normalized:X.normalized,integer:q.integer,stepMode:Y?.stepMode||K.stepMode||"vertex",byteOffset:Y?.byteOffset||0,byteStride:Y?.byteStride||0}}function me0($,Q){let J=$.attributes.find((K)=>K.name===Q);if(!J)g0.warn(`shader layout attribute "${Q}" not present in shader`);return J||null}function pe0($,Q){de0($);let J=ne0($,Q);if(J)return J;if(J=le0($,Q),J)return J;return g0.warn(`layout for attribute "${Q}" not present in buffer layout`),null}function de0($){for(let Q of $)if(Q.attributes&&Q.format||!Q.attributes&&!Q.format)g0.warn(`BufferLayout ${name} must have either 'attributes' or 'format' field`)}function ne0($,Q){for(let J of $)if(J.format&&J.name===Q)return{attributeName:J.name,bufferName:Q,stepMode:J.stepMode,vertexFormat:J.format,byteOffset:0,byteStride:J.byteStride||0};return null}function le0($,Q){for(let J of $){let K=J.byteStride;if(typeof J.byteStride!=="number")for(let q of J.attributes||[]){let Z=jc(q.format);K+=Z.byteLength}let Y=J.attributes?.find((q)=>q.attribute===Q);if(Y)return{attributeName:Y.attribute,bufferName:J.name,stepMode:J.stepMode,vertexFormat:Y.format,byteOffset:Y.byteOffset,byteStride:K}}return null}class TV extends U5{static defaultProps={...U5.defaultProps,renderPipeline:null};get[Symbol.toStringTag](){return"VertexArray"}maxVertexAttributes;attributeInfos;indexBuffer=null;attributes;constructor($,Q){super($,Q,TV.defaultProps);this.maxVertexAttributes=$.limits.maxVertexAttributes,this.attributes=Array(this.maxVertexAttributes).fill(null);let{shaderLayout:J,bufferLayout:K}=Q.renderPipeline||{};if(!J||!K)throw Error("VertexArray");this.attributeInfos=hF0(J,K,this.maxVertexAttributes)}setConstantWebGL($,Q){this.device.reportError(Error("constant attributes not supported"))}}class DV extends U5{static defaultProps={...U5.defaultProps,layout:void 0,buffers:{}};get[Symbol.toStringTag](){return"TransformFeedback"}constructor($,Q){super($,Q,DV.defaultProps)}}class CV extends U5{static defaultProps={...U5.defaultProps,type:void 0,count:void 0};get[Symbol.toStringTag](){return"QuerySet"}constructor($,Q){super($,Q,CV.defaultProps)}}var re0={f32:{type:"f32",components:1},i32:{type:"i32",components:1},u32:{type:"u32",components:1},"vec2<f32>":{type:"f32",components:2},"vec3<f32>":{type:"f32",components:3},"vec4<f32>":{type:"f32",components:4},"vec2<i32>":{type:"i32",components:2},"vec3<i32>":{type:"i32",components:3},"vec4<i32>":{type:"i32",components:4},"vec2<u32>":{type:"u32",components:2},"vec3<u32>":{type:"u32",components:3},"vec4<u32>":{type:"u32",components:4},"mat2x2<f32>":{type:"f32",components:4},"mat2x3<f32>":{type:"f32",components:6},"mat2x4<f32>":{type:"f32",components:8},"mat3x2<f32>":{type:"f32",components:6},"mat3x3<f32>":{type:"f32",components:9},"mat3x4<f32>":{type:"f32",components:12},"mat4x2<f32>":{type:"f32",components:8},"mat4x3<f32>":{type:"f32",components:12},"mat4x4<f32>":{type:"f32",components:16}};function vF0($){return re0[$]}function SF0($,Q){switch(Q){case 1:return $;case 2:return $+$%2;default:return $+(4-$%4)%4}}var WP;function Ec($){if(!WP||WP.byteLength<$)WP=new ArrayBuffer($);return WP}function Lc($,Q){let J=Ec($.BYTES_PER_ELEMENT*Q);return new $(J,0,Q)}function ie0($){return ArrayBuffer.isView($)&&!($ instanceof DataView)}function GH($){if(Array.isArray($))return $.length===0||typeof $[0]==="number";return ie0($)}var _F0=1024;class hc{layout={};byteLength;constructor($){let Q=0;for(let[K,Y]of Object.entries($)){let q=vF0(Y),{type:Z,components:X}=q;Q=SF0(Q,X);let W=Q;Q+=X,this.layout[K]={type:Z,size:X,offset:W}}Q+=(4-Q%4)%4;let J=Q*4;this.byteLength=Math.max(J,_F0)}getData($){let Q=Math.max(this.byteLength,_F0),J=Ec(Q),K={i32:new Int32Array(J),u32:new Uint32Array(J),f32:new Float32Array(J),f16:new Uint16Array(J)};for(let[Y,q]of Object.entries($)){let Z=this.layout[Y];if(!Z){g0.warn(`Supplied uniform value ${Y} not present in uniform block layout`)();continue}let{type:X,size:W,offset:F}=Z,H=K[X];if(W===1){if(typeof q!=="number"&&typeof q!=="boolean"){g0.warn(`Supplied value for single component uniform ${Y} is not a number: ${q}`)();continue}H[F]=Number(q)}else{if(!GH(q)){g0.warn(`Supplied value for multi component / array uniform ${Y} is not a numeric array: ${q}`)();continue}H.set(q,F)}}return new Uint8Array(J)}has($){return Boolean(this.layout[$])}get($){return this.layout[$]}}function fF0($,Q,J=16){if($!==Q)return!1;let K=$,Y=Q;if(!GH(K))return!1;if(GH(Y)&&K.length===Y.length){for(let q=0;q<K.length;++q)if(Y[q]!==K[q])return!1}return!0}function IF0($){if(GH($))return $.slice();return $}class vc{name;uniforms={};modifiedUniforms={};modified=!0;bindingLayout={};needsRedraw="initialized";constructor($){if(this.name=$?.name||"unnamed",$?.name&&$?.shaderLayout){let Q=$?.shaderLayout.bindings?.find((K)=>K.type==="uniform"&&K.name===$?.name);if(!Q)throw Error($?.name);let J=Q;for(let K of J.uniforms||[])this.bindingLayout[K.name]=K}}setUniforms($){for(let[Q,J]of Object.entries($))if(this._setUniform(Q,J),!this.needsRedraw)this.setNeedsRedraw(`${this.name}.${Q}=${J}`)}setNeedsRedraw($){this.needsRedraw=this.needsRedraw||$}getAllUniforms(){return this.modifiedUniforms={},this.needsRedraw=!1,this.uniforms||{}}_setUniform($,Q){if(fF0(this.uniforms[$],Q))return;this.uniforms[$]=IF0(Q),this.modifiedUniforms[$]=!0,this.modified=!0}}class FP{uniformBlocks=new Map;uniformBufferLayouts=new Map;uniformBuffers=new Map;constructor($){for(let[Q,J]of Object.entries($)){let K=Q,Y=new hc(J.uniformTypes||{});this.uniformBufferLayouts.set(K,Y);let q=new vc({name:Q});q.setUniforms(J.defaultUniforms||{}),this.uniformBlocks.set(K,q)}}destroy(){for(let $ of this.uniformBuffers.values())$.destroy()}setUniforms($){for(let[Q,J]of Object.entries($))this.uniformBlocks.get(Q)?.setUniforms(J);this.updateUniformBuffers()}getUniformBufferByteLength($){return this.uniformBufferLayouts.get($)?.byteLength||0}getUniformBufferData($){let Q=this.uniformBlocks.get($)?.getAllUniforms()||{};return this.uniformBufferLayouts.get($)?.getData(Q)}createUniformBuffer($,Q,J){if(J)this.setUniforms(J);let K=this.getUniformBufferByteLength(Q),Y=$.createBuffer({usage:h5.UNIFORM|h5.COPY_DST,byteLength:K}),q=this.getUniformBufferData(Q);return Y.write(q),Y}getManagedUniformBuffer($,Q){if(!this.uniformBuffers.get(Q)){let J=this.getUniformBufferByteLength(Q),K=$.createBuffer({usage:h5.UNIFORM|h5.COPY_DST,byteLength:J});this.uniformBuffers.set(Q,K)}return this.uniformBuffers.get(Q)}updateUniformBuffers(){let $=!1;for(let Q of this.uniformBlocks.keys()){let J=this.updateUniformBuffer(Q);$||=J}if($)g0.log(3,`UniformStore.updateUniformBuffers(): ${$}`)();return $}updateUniformBuffer($){let Q=this.uniformBlocks.get($),J=this.uniformBuffers.get($),K=!1;if(J&&Q?.needsRedraw){K||=Q.needsRedraw;let Y=this.getUniformBufferData($);J=this.uniformBuffers.get($),J?.write(Y);let q=this.uniformBlocks.get($)?.getAllUniforms();g0.log(4,`Writing to uniform buffer ${String($)}`,Y,q)()}return K}}function UP($){let Q=ArrayBuffer.isView($)?$.constructor:$;switch(Q){case Float32Array:return"float32";case Uint16Array:return"uint16";case Uint32Array:return"uint32";case Uint8Array:case Uint8ClampedArray:return"uint8";case Int8Array:return"sint8";case Int16Array:return"sint16";case Int32Array:return"sint32";default:throw Error(Q.constructor.name)}}function PV($){switch($){case"float32":return Float32Array;case"uint32":return Uint32Array;case"sint32":return Int32Array;case"uint16":case"unorm16":return Uint16Array;case"sint16":case"snorm16":return Int16Array;case"uint8":case"unorm8":return Uint8Array;case"sint8":case"snorm8":return Int8Array;default:throw Error($)}}function Sc($,Q,J){if(!Q||Q>4)throw Error(`size ${Q}`);let K=Q,Y=UP($);if(Y==="uint8"&&J&&K===1)return"unorm8-webgl";if(Y==="uint8"&&J&&K===3)return"unorm8x3-webgl";if(Y==="uint8"||Y==="sint8"){if(K===1||K===3)throw Error(`size: ${Q}`);if(J)Y=Y.replace("int","norm");return`${Y}x${K}`}if(Y==="uint16"||Y==="sint16"){if(K===1||K===3)throw Error(`size: ${Q}`);if(J)Y=Y.replace("int","norm");return`${Y}x${K}`}if(K===1)return Y;return`${Y}x${K}`}class wH{bufferLayouts;constructor($){this.bufferLayouts=$}getBufferLayout($){return this.bufferLayouts.find((Q)=>Q.name===$)||null}getAttributeNamesForBuffer($){return $.attributes?$.attributes?.map((Q)=>Q.attribute):[$.name]}mergeBufferLayouts($,Q){let J=[...$];for(let K of Q){let Y=J.findIndex((q)=>q.name===K.name);if(Y<0)J.push(K);else J[Y]=K}return J}getBufferIndex($){let Q=this.bufferLayouts.findIndex((J)=>J.name===$);if(Q===-1)g0.warn(`BufferLayout: Missing buffer for "${$}".`)();return Q}}function _c($,Q){let J=Object.fromEntries($.attributes.map((Y)=>[Y.name,Y.location])),K=Q.slice();return K.sort((Y,q)=>{let Z=Y.attributes?Y.attributes.map((H)=>H.attribute):[Y.name],X=q.attributes?q.attributes.map((H)=>H.attribute):[q.name],W=Math.min(...Z.map((H)=>J[H])),F=Math.min(...X.map((H)=>J[H]));return W-F}),K}class S9{constructor($,Q){this.name=$,this.attributes=Q,this.size=0}get isArray(){return!1}get isStruct(){return!1}get isTemplate(){return!1}get isPointer(){return!1}getTypeName(){return this.name}}class Mc{constructor($,Q,J){this.name=$,this.type=Q,this.attributes=J,this.offset=0,this.size=0}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class yK extends S9{constructor($,Q){super($,Q),this.members=[],this.align=0,this.startLine=-1,this.endLine=-1,this.inUse=!1}get isStruct(){return!0}}class xK extends S9{constructor($,Q){super($,Q),this.count=0,this.stride=0}get isArray(){return!0}getTypeName(){return`array<${this.format.getTypeName()}, ${this.count}>`}}class HP extends S9{constructor($,Q,J){super($,J),this.format=Q}get isPointer(){return!0}getTypeName(){return`&${this.format.getTypeName()}`}}class iq extends S9{constructor($,Q,J,K){super($,J),this.format=Q,this.access=K}get isTemplate(){return!0}getTypeName(){let $=this.name;if(this.format!==null){if($==="vec2"||$==="vec3"||$==="vec4"||$==="mat2x2"||$==="mat2x3"||$==="mat2x4"||$==="mat3x2"||$==="mat3x3"||$==="mat3x4"||$==="mat4x2"||$==="mat4x3"||$==="mat4x4"){if(this.format.name==="f32")return $+="f",$;if(this.format.name==="i32")return $+="i",$;if(this.format.name==="u32")return $+="u",$;if(this.format.name==="bool")return $+="b",$;if(this.format.name==="f16")return $+="h",$}$+=`<${this.format.name}>`}else if($==="vec2"||$==="vec3"||$==="vec4")return $;return $}}var rq;(($)=>{$[$.Uniform=0]="Uniform",$[$.Storage=1]="Storage",$[$.Texture=2]="Texture",$[$.Sampler=3]="Sampler",$[$.StorageTexture=4]="StorageTexture"})(rq||(rq={}));class kV{constructor($,Q,J,K,Y,q,Z){this.name=$,this.type=Q,this.group=J,this.binding=K,this.attributes=Y,this.resourceType=q,this.access=Z}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get size(){return this.type.size}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class gF0{constructor($,Q){this.name=$,this.type=Q}}class yF0{constructor($,Q,J,K){this.name=$,this.type=Q,this.locationType=J,this.location=K,this.interpolation=null}}class bc{constructor($,Q,J,K){this.name=$,this.type=Q,this.locationType=J,this.location=K}}class xF0{constructor($,Q,J,K){this.name=$,this.type=Q,this.attributes=J,this.id=K}}class cF0{constructor($,Q,J){this.name=$,this.type=Q,this.attributes=J}}class uF0{constructor($,Q=null,J){this.stage=null,this.inputs=[],this.outputs=[],this.arguments=[],this.returnType=null,this.resources=[],this.overrides=[],this.startLine=-1,this.endLine=-1,this.inUse=!1,this.calls=new Set,this.name=$,this.stage=Q,this.attributes=J}}class mF0{constructor(){this.vertex=[],this.fragment=[],this.compute=[]}}function se0($){var Q=(32768&$)>>15,J=(31744&$)>>10,K=1023&$;return J==0?(Q?-1:1)*Math.pow(2,-14)*(K/Math.pow(2,10)):J==31?K?NaN:1/0*(Q?-1:1):(Q?-1:1)*Math.pow(2,J-15)*(1+K/Math.pow(2,10))}var pF0=new Float32Array(1),oe0=new Int32Array(pF0.buffer),M8=new Uint16Array(1);function ae0($){pF0[0]=$;let Q=oe0[0],J=Q>>31&1,K=Q>>23&255,Y=8388607&Q;if(K===255)return M8[0]=J<<15|31744|(Y!==0?512:0),M8[0];if(K===0){if(Y===0)return M8[0]=J<<15,M8[0];Y|=8388608;let q=113;for(;!(8388608&Y);)Y<<=1,q--;return K=127-q,Y&=8388607,K>0?(Y=(Y>>126-K)+(Y>>127-K&1),M8[0]=J<<15|K<<10|Y>>13,M8[0]):(M8[0]=J<<15,M8[0])}return K=K-127+15,K>=31?(M8[0]=J<<15|31744,M8[0]):K<=0?K<-10?(M8[0]=J<<15,M8[0]):(Y=(8388608|Y)>>1-K,M8[0]=J<<15|Y>>13,M8[0]):(Y>>=13,M8[0]=J<<15|K<<10|Y,M8[0])}var uc=new Uint32Array(1),dF0=new Float32Array(uc.buffer,0,1);function MF0($){let Q=112+($>>6&31)<<23|(63&$)<<17;return uc[0]=Q,dF0[0]}function te0($,Q,J,K,Y,q,Z,X,W){let F=K*(Z>>=Y)*(q>>=Y)+J*Z+Q*X;switch(W){case"r8unorm":return[s5($,F,"8unorm",1)[0]];case"r8snorm":return[s5($,F,"8snorm",1)[0]];case"r8uint":return[s5($,F,"8uint",1)[0]];case"r8sint":return[s5($,F,"8sint",1)[0]];case"rg8unorm":{let H=s5($,F,"8unorm",2);return[H[0],H[1]]}case"rg8snorm":{let H=s5($,F,"8snorm",2);return[H[0],H[1]]}case"rg8uint":{let H=s5($,F,"8uint",2);return[H[0],H[1]]}case"rg8sint":{let H=s5($,F,"8sint",2);return[H[0],H[1]]}case"rgba8unorm-srgb":case"rgba8unorm":{let H=s5($,F,"8unorm",4);return[H[0],H[1],H[2],H[3]]}case"rgba8snorm":{let H=s5($,F,"8snorm",4);return[H[0],H[1],H[2],H[3]]}case"rgba8uint":{let H=s5($,F,"8uint",4);return[H[0],H[1],H[2],H[3]]}case"rgba8sint":{let H=s5($,F,"8sint",4);return[H[0],H[1],H[2],H[3]]}case"bgra8unorm-srgb":case"bgra8unorm":{let H=s5($,F,"8unorm",4);return[H[2],H[1],H[0],H[3]]}case"r16uint":return[s5($,F,"16uint",1)[0]];case"r16sint":return[s5($,F,"16sint",1)[0]];case"r16float":return[s5($,F,"16float",1)[0]];case"rg16uint":{let H=s5($,F,"16uint",2);return[H[0],H[1]]}case"rg16sint":{let H=s5($,F,"16sint",2);return[H[0],H[1]]}case"rg16float":{let H=s5($,F,"16float",2);return[H[0],H[1]]}case"rgba16uint":{let H=s5($,F,"16uint",4);return[H[0],H[1],H[2],H[3]]}case"rgba16sint":{let H=s5($,F,"16sint",4);return[H[0],H[1],H[2],H[3]]}case"rgba16float":{let H=s5($,F,"16float",4);return[H[0],H[1],H[2],H[3]]}case"r32uint":return[s5($,F,"32uint",1)[0]];case"r32sint":return[s5($,F,"32sint",1)[0]];case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return[s5($,F,"32float",1)[0]];case"rg32uint":{let H=s5($,F,"32uint",2);return[H[0],H[1]]}case"rg32sint":{let H=s5($,F,"32sint",2);return[H[0],H[1]]}case"rg32float":{let H=s5($,F,"32float",2);return[H[0],H[1]]}case"rgba32uint":{let H=s5($,F,"32uint",4);return[H[0],H[1],H[2],H[3]]}case"rgba32sint":{let H=s5($,F,"32sint",4);return[H[0],H[1],H[2],H[3]]}case"rgba32float":{let H=s5($,F,"32float",4);return[H[0],H[1],H[2],H[3]]}case"rg11b10ufloat":{let H=new Uint32Array($.buffer,F,1)[0],B=(4192256&H)>>11,z=(4290772992&H)>>22;return[MF0(2047&H),MF0(B),function(A){let R=112+(A>>5&31)<<23|(31&A)<<18;return uc[0]=R,dF0[0]}(z),1]}}return null}function s5($,Q,J,K){let Y=[0,0,0,0];for(let q=0;q<K;++q)switch(J){case"8unorm":Y[q]=$[Q]/255,Q++;break;case"8snorm":Y[q]=$[Q]/255*2-1,Q++;break;case"8uint":Y[q]=$[Q],Q++;break;case"8sint":Y[q]=$[Q]-127,Q++;break;case"16uint":Y[q]=$[Q]|$[Q+1]<<8,Q+=2;break;case"16sint":Y[q]=($[Q]|$[Q+1]<<8)-32768,Q+=2;break;case"16float":Y[q]=se0($[Q]|$[Q+1]<<8),Q+=2;break;case"32uint":case"32sint":Y[q]=$[Q]|$[Q+1]<<8|$[Q+2]<<16|$[Q+3]<<24,Q+=4;break;case"32float":Y[q]=new Float32Array($.buffer,Q,1)[0],Q+=4}return Y}function e5($,Q,J,K,Y){for(let q=0;q<K;++q)switch(J){case"8unorm":$[Q]=255*Y[q],Q++;break;case"8snorm":$[Q]=0.5*(Y[q]+1)*255,Q++;break;case"8uint":$[Q]=Y[q],Q++;break;case"8sint":$[Q]=Y[q]+127,Q++;break;case"16uint":new Uint16Array($.buffer,Q,1)[0]=Y[q],Q+=2;break;case"16sint":new Int16Array($.buffer,Q,1)[0]=Y[q],Q+=2;break;case"16float":{let Z=ae0(Y[q]);new Uint16Array($.buffer,Q,1)[0]=Z,Q+=2;break}case"32uint":new Uint32Array($.buffer,Q,1)[0]=Y[q],Q+=4;break;case"32sint":new Int32Array($.buffer,Q,1)[0]=Y[q],Q+=4;break;case"32float":new Float32Array($.buffer,Q,1)[0]=Y[q],Q+=4}return Y}var fc={r8unorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8snorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8uint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8sint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg8unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8snorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"rgba8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8snorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},bgra8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bgra8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r16uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16float:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg16uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba16uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r32uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg32uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba32uint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32sint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32float:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rg11b10ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},stencil8:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!1,hasStencil:!0,channels:1},depth16unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},depth24plus:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,depthOnlyFormat:"depth32float",channels:1},"depth24plus-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,depthOnlyFormat:"depth32float",channels:1},depth32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},"depth32float-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,stencilOnlyFormat:"depth32float",channels:1},rgb9e5ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bc1-rgba-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc1-rgba-unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc4-r-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc4-r-snorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc5-rg-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc5-rg-snorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc6h-rgb-ufloat":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc6h-rgb-float":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"eac-r11unorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-r11snorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-rg11unorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"eac-rg11snorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"astc-4x4-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-4x4-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x5-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-5x5-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x6-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-6x6-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-8x5-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x5-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x6-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x6-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x8-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-8x8-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-10x5-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x5-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x6-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x6-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x8-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x8-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x10-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-10x10-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x12-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4},"astc-12x12-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4}};class S3{constructor(){this.id=S3._id++,this.line=0}get isAstNode(){return!0}get astNodeType(){return""}search($){$(this)}searchBlock($,Q){if($){Q(SV.instance);for(let J of $)J instanceof Array?this.searchBlock(J,Q):J.search(Q);Q(_V.instance)}}constEvaluate($,Q){throw Error("Cannot evaluate node")}constEvaluateString($){return this.constEvaluate($).toString()}}S3._id=0;class SV extends S3{}SV.instance=new SV;class _V extends S3{}_V.instance=new _V;var nF0=new Set(["all","all","any","select","arrayLength","abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","clamp","cos","cosh","countLeadingZeros","countOneBits","countTrailingZeros","cross","degrees","determinant","distance","dot","dot4U8Packed","dot4I8Packed","exp","exp2","extractBits","faceForward","firstLeadingBit","firstTrailingBit","floor","fma","fract","frexp","insertBits","inverseSqrt","ldexp","length","log","log2","max","min","mix","modf","normalize","pow","quantizeToF16","radians","reflect","refract","reverseBits","round","saturate","sign","sin","sinh","smoothStep","sqrt","step","tan","tanh","transpose","trunc","dpdx","dpdxCoarse","dpdxFine","dpdy","dpdyCoarse","dpdyFine","fwidth","fwidthCoarse","fwidthFine","textureDimensions","textureGather","textureGatherCompare","textureLoad","textureNumLayers","textureNumLevels","textureNumSamples","textureSample","textureSampleBias","textureSampleCompare","textureSampleCompareLevel","textureSampleGrad","textureSampleLevel","textureSampleBaseClampToEdge","textureStore","atomicLoad","atomicStore","atomicAdd","atomicSub","atomicMax","atomicMin","atomicAnd","atomicOr","atomicXor","atomicExchange","atomicCompareExchangeWeak","pack4x8snorm","pack4x8unorm","pack4xI8","pack4xU8","pack4x8Clamp","pack4xU8Clamp","pack2x16snorm","pack2x16unorm","pack2x16float","unpack4x8snorm","unpack4x8unorm","unpack4xI8","unpack4xU8","unpack2x16snorm","unpack2x16unorm","unpack2x16float","storageBarrier","textureBarrier","workgroupBarrier","workgroupUniformLoad","subgroupAdd","subgroupExclusiveAdd","subgroupInclusiveAdd","subgroupAll","subgroupAnd","subgroupAny","subgroupBallot","subgroupBroadcast","subgroupBroadcastFirst","subgroupElect","subgroupMax","subgroupMin","subgroupMul","subgroupExclusiveMul","subgroupInclusiveMul","subgroupOr","subgroupShuffle","subgroupShuffleDown","subgroupShuffleUp","subgroupShuffleXor","subgroupXor","quadBroadcast","quadSwapDiagonal","quadSwapX","quadSwapY"]);class _6 extends S3{constructor(){super()}}class PH extends _6{constructor($,Q,J,K,Y,q){super(),this.calls=new Set,this.name=$,this.args=Q,this.returnType=J,this.body=K,this.startLine=Y,this.endLine=q}get astNodeType(){return"function"}search($){if(this.attributes)for(let Q of this.attributes)$(Q);$(this);for(let Q of this.args)$(Q);this.searchBlock(this.body,$)}}class lF0 extends _6{constructor($){super(),this.expression=$}get astNodeType(){return"staticAssert"}search($){this.expression.search($)}}class mc extends _6{constructor($,Q){super(),this.condition=$,this.body=Q}get astNodeType(){return"while"}search($){this.condition.search($),this.searchBlock(this.body,$)}}class NP extends _6{constructor($,Q){super(),this.body=$,this.loopId=Q}get astNodeType(){return"continuing"}search($){this.searchBlock(this.body,$)}}class pc extends _6{constructor($,Q,J,K){super(),this.init=$,this.condition=Q,this.increment=J,this.body=K}get astNodeType(){return"for"}search($){var Q,J,K;(Q=this.init)===null||Q===void 0||Q.search($),(J=this.condition)===null||J===void 0||J.search($),(K=this.increment)===null||K===void 0||K.search($),this.searchBlock(this.body,$)}}class XJ extends _6{constructor($,Q,J,K,Y){super(),this.attributes=null,this.name=$,this.type=Q,this.storage=J,this.access=K,this.value=Y}get astNodeType(){return"var"}search($){var Q;$(this),(Q=this.value)===null||Q===void 0||Q.search($)}}class RP extends _6{constructor($,Q,J){super(),this.attributes=null,this.name=$,this.type=Q,this.value=J}get astNodeType(){return"override"}search($){var Q;(Q=this.value)===null||Q===void 0||Q.search($)}}class DH extends _6{constructor($,Q,J,K,Y){super(),this.attributes=null,this.name=$,this.type=Q,this.storage=J,this.access=K,this.value=Y}get astNodeType(){return"let"}search($){var Q;$(this),(Q=this.value)===null||Q===void 0||Q.search($)}}class LV extends _6{constructor($,Q,J,K,Y){super(),this.attributes=null,this.name=$,this.type=Q,this.storage=J,this.access=K,this.value=Y}get astNodeType(){return"const"}constEvaluate($,Q){return this.value.constEvaluate($,Q)}search($){var Q;$(this),(Q=this.value)===null||Q===void 0||Q.search($)}}var OH,jV,N0,W0;(($)=>{$.increment="++",$.decrement="--"})(OH||(OH={})),(($)=>{$.parse=function(Q){let J=Q;if(J=="parse")throw Error("Invalid value for IncrementOperator");return $[J]}})(OH||(OH={}));class dc extends _6{constructor($,Q){super(),this.operator=$,this.variable=Q}get astNodeType(){return"increment"}search($){this.variable.search($)}}(($)=>{$.assign="=",$.addAssign="+=",$.subtractAssin="-=",$.multiplyAssign="*=",$.divideAssign="/=",$.moduloAssign="%=",$.andAssign="&=",$.orAssign="|=",$.xorAssign="^=",$.shiftLeftAssign="<<=",$.shiftRightAssign=">>="})(jV||(jV={})),(($)=>{$.parse=function(Q){let J=Q;if(J=="parse")throw Error("Invalid value for AssignOperator");return J}})(jV||(jV={}));class nc extends _6{constructor($,Q,J){super(),this.operator=$,this.variable=Q,this.value=J}get astNodeType(){return"assign"}search($){this.variable.search($),this.value.search($)}}class GP extends _6{constructor($,Q){super(),this.name=$,this.args=Q}get astNodeType(){return"call"}isBuiltin(){return nF0.has(this.name)}search($){for(let Q of this.args)Q.search($);$(this)}}class lc extends _6{constructor($,Q){super(),this.body=$,this.continuing=Q}get astNodeType(){return"loop"}search($){var Q;this.searchBlock(this.body,$),(Q=this.continuing)===null||Q===void 0||Q.search($)}}class rc extends _6{constructor($,Q){super(),this.condition=$,this.cases=Q}get astNodeType(){return"switch"}search($){$(this);for(let Q of this.cases)Q.search($)}}class ic extends _6{constructor($,Q,J,K){super(),this.condition=$,this.body=Q,this.elseif=J,this.else=K}get astNodeType(){return"if"}search($){this.condition.search($),this.searchBlock(this.body,$),this.searchBlock(this.elseif,$),this.searchBlock(this.else,$)}}class sc extends _6{constructor($){super(),this.value=$}get astNodeType(){return"return"}search($){var Q;(Q=this.value)===null||Q===void 0||Q.search($)}}class rF0 extends _6{constructor($){super(),this.name=$}get astNodeType(){return"enable"}}class iF0 extends _6{constructor($){super(),this.extensions=$}get astNodeType(){return"requires"}}class oc extends _6{constructor($,Q){super(),this.severity=$,this.rule=Q}get astNodeType(){return"diagnostic"}}class wP extends _6{constructor($,Q){super(),this.name=$,this.type=Q}get astNodeType(){return"alias"}}class sF0 extends _6{constructor(){super()}get astNodeType(){return"discard"}}class ac extends _6{constructor(){super(),this.condition=null,this.loopId=-1}get astNodeType(){return"break"}}class tc extends _6{constructor(){super(),this.loopId=-1}get astNodeType(){return"continue"}}class M0 extends _6{constructor($){super(),this.attributes=null,this.name=$}get astNodeType(){return"type"}get isStruct(){return!1}get isArray(){return!1}static maxFormatType($){let Q=$[0];if(Q.name==="f32")return Q;for(let J=1;J<$.length;++J){let K=M0._priority.get(Q.name);M0._priority.get($[J].name)<K&&(Q=$[J])}return Q.name==="x32"?M0.i32:Q}getTypeName(){return this.name}}M0.x32=new M0("x32"),M0.f32=new M0("f32"),M0.i32=new M0("i32"),M0.u32=new M0("u32"),M0.f16=new M0("f16"),M0.bool=new M0("bool"),M0.void=new M0("void"),M0._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);class gc extends M0{constructor($){super($)}}class ZJ extends M0{constructor($,Q,J,K){super($),this.members=Q,this.startLine=J,this.endLine=K}get astNodeType(){return"struct"}get isStruct(){return!0}getMemberIndex($){for(let Q=0;Q<this.members.length;Q++)if(this.members[Q].name==$)return Q;return-1}search($){for(let Q of this.members)$(Q)}}class U0 extends M0{constructor($,Q,J){super($),this.format=Q,this.access=J}get astNodeType(){return"template"}getTypeName(){let $=this.name;if(this.format!==null){if($==="vec2"||$==="vec3"||$==="vec4"||$==="mat2x2"||$==="mat2x3"||$==="mat2x4"||$==="mat3x2"||$==="mat3x3"||$==="mat3x4"||$==="mat4x2"||$==="mat4x3"||$==="mat4x4"){if(this.format.name==="f32")return $+="f",$;if(this.format.name==="i32")return $+="i",$;if(this.format.name==="u32")return $+="u",$;if(this.format.name==="bool")return $+="b",$;if(this.format.name==="f16")return $+="h",$}$+=`<${this.format.name}>`}else if($==="vec2"||$==="vec3"||$==="vec4")return $;return $}}U0.vec2f=new U0("vec2",M0.f32,null),U0.vec3f=new U0("vec3",M0.f32,null),U0.vec4f=new U0("vec4",M0.f32,null),U0.vec2i=new U0("vec2",M0.i32,null),U0.vec3i=new U0("vec3",M0.i32,null),U0.vec4i=new U0("vec4",M0.i32,null),U0.vec2u=new U0("vec2",M0.u32,null),U0.vec3u=new U0("vec3",M0.u32,null),U0.vec4u=new U0("vec4",M0.u32,null),U0.vec2h=new U0("vec2",M0.f16,null),U0.vec3h=new U0("vec3",M0.f16,null),U0.vec4h=new U0("vec4",M0.f16,null),U0.vec2b=new U0("vec2",M0.bool,null),U0.vec3b=new U0("vec3",M0.bool,null),U0.vec4b=new U0("vec4",M0.bool,null),U0.mat2x2f=new U0("mat2x2",M0.f32,null),U0.mat2x3f=new U0("mat2x3",M0.f32,null),U0.mat2x4f=new U0("mat2x4",M0.f32,null),U0.mat3x2f=new U0("mat3x2",M0.f32,null),U0.mat3x3f=new U0("mat3x3",M0.f32,null),U0.mat3x4f=new U0("mat3x4",M0.f32,null),U0.mat4x2f=new U0("mat4x2",M0.f32,null),U0.mat4x3f=new U0("mat4x3",M0.f32,null),U0.mat4x4f=new U0("mat4x4",M0.f32,null),U0.mat2x2h=new U0("mat2x2",M0.f16,null),U0.mat2x3h=new U0("mat2x3",M0.f16,null),U0.mat2x4h=new U0("mat2x4",M0.f16,null),U0.mat3x2h=new U0("mat3x2",M0.f16,null),U0.mat3x3h=new U0("mat3x3",M0.f16,null),U0.mat3x4h=new U0("mat3x4",M0.f16,null),U0.mat4x2h=new U0("mat4x2",M0.f16,null),U0.mat4x3h=new U0("mat4x3",M0.f16,null),U0.mat4x4h=new U0("mat4x4",M0.f16,null),U0.mat2x2i=new U0("mat2x2",M0.i32,null),U0.mat2x3i=new U0("mat2x3",M0.i32,null),U0.mat2x4i=new U0("mat2x4",M0.i32,null),U0.mat3x2i=new U0("mat3x2",M0.i32,null),U0.mat3x3i=new U0("mat3x3",M0.i32,null),U0.mat3x4i=new U0("mat3x4",M0.i32,null),U0.mat4x2i=new U0("mat4x2",M0.i32,null),U0.mat4x3i=new U0("mat4x3",M0.i32,null),U0.mat4x4i=new U0("mat4x4",M0.i32,null),U0.mat2x2u=new U0("mat2x2",M0.u32,null),U0.mat2x3u=new U0("mat2x3",M0.u32,null),U0.mat2x4u=new U0("mat2x4",M0.u32,null),U0.mat3x2u=new U0("mat3x2",M0.u32,null),U0.mat3x3u=new U0("mat3x3",M0.u32,null),U0.mat3x4u=new U0("mat3x4",M0.u32,null),U0.mat4x2u=new U0("mat4x2",M0.u32,null),U0.mat4x3u=new U0("mat4x3",M0.u32,null),U0.mat4x4u=new U0("mat4x4",M0.u32,null);class hV extends M0{constructor($,Q,J,K){super($),this.storage=Q,this.type=J,this.access=K}get astNodeType(){return"pointer"}}class CH extends M0{constructor($,Q,J,K){super($),this.attributes=Q,this.format=J,this.count=K}get astNodeType(){return"array"}get isArray(){return!0}}class TH extends M0{constructor($,Q,J){super($),this.format=Q,this.access=J}get astNodeType(){return"sampler"}}class _3 extends S3{constructor(){super(),this.postfix=null}}class sq extends _3{constructor($){super(),this.value=$}get astNodeType(){return"stringExpr"}toString(){return this.value}constEvaluateString(){return this.value}}class g$ extends _3{constructor($,Q){super(),this.type=$,this.args=Q}get astNodeType(){return"createExpr"}search($){if($(this),this.args)for(let Q of this.args)Q.search($)}constEvaluate($,Q){return Q&&(Q[0]=this.type),$.evalExpression(this,$.context)}}class OP extends _3{constructor($,Q){super(),this.cachedReturnValue=null,this.name=$,this.args=Q}get astNodeType(){return"callExpr"}setCachedReturnValue($){this.cachedReturnValue=$}get isBuiltin(){return nF0.has(this.name)}constEvaluate($,Q){return $.evalExpression(this,$.context)}search($){for(let Q of this.args)Q.search($);$(this)}}class m4 extends _3{constructor($){super(),this.name=$}get astNodeType(){return"varExpr"}search($){$(this),this.postfix&&this.postfix.search($)}constEvaluate($,Q){return $.evalExpression(this,$.context)}}class ec extends _3{constructor($,Q){super(),this.name=$,this.initializer=Q}get astNodeType(){return"constExpr"}constEvaluate($,Q){if(this.initializer){let J=$.evalExpression(this.initializer,$.context);return J!==null&&this.postfix?J.getSubData($,this.postfix,$.context):J}return null}search($){this.initializer.search($)}}class L7 extends _3{constructor($,Q){super(),this.value=$,this.type=Q}get astNodeType(){return"literalExpr"}constEvaluate($,Q){return Q!==void 0&&(Q[0]=this.type),this.value}get isScalar(){return this.value instanceof X0}get isVector(){return this.value instanceof s||this.value instanceof r1}get scalarValue(){return this.value instanceof X0?this.value.value:(console.error("Value is not scalar."),0)}get vectorValue(){return this.value instanceof s||this.value instanceof r1?this.value.data:(console.error("Value is not a vector or matrix."),new Float32Array(0))}}class $u extends _3{constructor($,Q){super(),this.type=$,this.value=Q}get astNodeType(){return"bitcastExpr"}search($){this.value.search($)}}class bX extends _3{constructor($){super(),this.index=$}search($){this.index.search($)}}class Qu extends _3{constructor(){super()}}class w7 extends Qu{constructor($,Q){super(),this.operator=$,this.right=Q}get astNodeType(){return"unaryOp"}constEvaluate($,Q){return $.evalExpression(this,$.context)}search($){this.right.search($)}}class h3 extends Qu{constructor($,Q,J){super(),this.operator=$,this.left=Q,this.right=J}get astNodeType(){return"binaryOp"}_getPromotedType($,Q){return $.name===Q.name?$:$.name==="f32"||Q.name==="f32"?M0.f32:$.name==="u32"||Q.name==="u32"?M0.u32:M0.i32}constEvaluate($,Q){return $.evalExpression(this,$.context)}search($){this.left.search($),this.right.search($)}}class Ju extends S3{constructor($){super(),this.body=$}search($){$(this),this.searchBlock(this.body,$)}}class vV extends _3{constructor(){super()}get astNodeType(){return"default"}}class Ku extends Ju{constructor($,Q){super(Q),this.selectors=$}get astNodeType(){return"case"}search($){this.searchBlock(this.body,$)}}class Yu extends Ju{constructor($){super($)}get astNodeType(){return"default"}search($){this.searchBlock(this.body,$)}}class yc extends S3{constructor($,Q,J){super(),this.name=$,this.type=Q,this.attributes=J}get astNodeType(){return"argument"}}class oF0 extends S3{constructor($,Q){super(),this.condition=$,this.body=Q}get astNodeType(){return"elseif"}search($){this.condition.search($),this.searchBlock(this.body,$)}}class xc extends S3{constructor($,Q,J){super(),this.name=$,this.type=Q,this.attributes=J}get astNodeType(){return"member"}}class qu extends S3{constructor($,Q){super(),this.name=$,this.value=Q}get astNodeType(){return"attribute"}}class v3{constructor($,Q){this.parent=null,this.typeInfo=$,this.parent=Q,this.id=v3._id++}clone(){throw`Clone: Not implemented for ${this.constructor.name}`}setDataValue($,Q,J,K){console.error(`SetDataValue: Not implemented for ${this.constructor.name}`)}getSubData($,Q,J){return console.error(`GetDataValue: Not implemented for ${this.constructor.name}`),null}toString(){return`<${this.typeInfo.getTypeName()}>`}}v3._id=0;class BP extends v3{constructor(){super(new S9("void",null),null)}toString(){return"void"}}BP.void=new BP;class MX extends v3{constructor($){super(new HP("pointer",$.typeInfo,null),null),this.reference=$}clone(){return this}setDataValue($,Q,J,K){this.reference.setDataValue($,Q,J,K)}getSubData($,Q,J){return Q?this.reference.getSubData($,Q,J):this}toString(){return`&${this.reference.toString()}`}}class X0 extends v3{constructor($,Q,J=null){super(Q,J),$ instanceof Int32Array||$ instanceof Uint32Array||$ instanceof Float32Array?this.data=$:this.typeInfo.name==="x32"?$-Math.floor($)!==0?this.data=new Float32Array([$]):this.data=$>=0?new Uint32Array([$]):new Int32Array([$]):this.typeInfo.name==="i32"||this.typeInfo.name==="bool"?this.data=new Int32Array([$]):this.typeInfo.name==="u32"?this.data=new Uint32Array([$]):this.typeInfo.name==="f32"||this.typeInfo.name==="f16"?this.data=new Float32Array([$]):console.error("ScalarData2: Invalid type",Q)}clone(){if(this.data instanceof Float32Array)return new X0(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new X0(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new X0(new Uint32Array(this.data),this.typeInfo,null);throw"ScalarData: Invalid data type"}get value(){return this.data[0]}set value($){this.data[0]=$}setDataValue($,Q,J,K){if(J)return void console.error("SetDataValue: Scalar data does not support postfix",J);if(!(Q instanceof X0))return void console.error("SetDataValue: Invalid value",Q);let Y=Q.data[0];this.typeInfo.name==="i32"||this.typeInfo.name==="u32"?Y=Math.floor(Y):this.typeInfo.name==="bool"&&(Y=Y?1:0),this.data[0]=Y}getSubData($,Q,J){return Q?(console.error("getSubData: Scalar data does not support postfix",Q),null):this}toString(){return`${this.value}`}}function ee0($,Q,J){let K=Q.length;return K===2?J==="f32"?new s(new Float32Array(Q),$.getTypeInfo("vec2f")):J==="i32"||J==="bool"?new s(new Int32Array(Q),$.getTypeInfo("vec2i")):J==="u32"?new s(new Uint32Array(Q),$.getTypeInfo("vec2u")):J==="f16"?new s(new Float32Array(Q),$.getTypeInfo("vec2h")):(console.error(`getSubData: Unknown format ${J}`),null):K===3?J==="f32"?new s(new Float32Array(Q),$.getTypeInfo("vec3f")):J==="i32"||J==="bool"?new s(new Int32Array(Q),$.getTypeInfo("vec3i")):J==="u32"?new s(new Uint32Array(Q),$.getTypeInfo("vec3u")):J==="f16"?new s(new Float32Array(Q),$.getTypeInfo("vec3h")):(console.error(`getSubData: Unknown format ${J}`),null):K===4?J==="f32"?new s(new Float32Array(Q),$.getTypeInfo("vec4f")):J==="i32"||J==="bool"?new s(new Int32Array(Q),$.getTypeInfo("vec4i")):J==="u32"?new s(new Uint32Array(Q),$.getTypeInfo("vec4u")):J==="f16"?new s(new Float32Array(Q),$.getTypeInfo("vec4h")):(console.error(`getSubData: Unknown format ${J}`),null):(console.error(`getSubData: Invalid vector size ${Q.length}`),null)}class s extends v3{constructor($,Q,J=null){if(super(Q,J),$ instanceof Float32Array||$ instanceof Uint32Array||$ instanceof Int32Array)this.data=$;else{let K=this.typeInfo.name;K==="vec2f"||K==="vec3f"||K==="vec4f"?this.data=new Float32Array($):K==="vec2i"||K==="vec3i"||K==="vec4i"?this.data=new Int32Array($):K==="vec2u"||K==="vec3u"||K==="vec4u"?this.data=new Uint32Array($):K==="vec2h"||K==="vec3h"||K==="vec4h"?this.data=new Float32Array($):K==="vec2b"||K==="vec3b"||K==="vec4b"?this.data=new Int32Array($):K==="vec2"||K==="vec3"||K==="vec4"?this.data=new Float32Array($):console.error(`VectorData: Invalid type ${K}`)}}clone(){if(this.data instanceof Float32Array)return new s(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new s(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new s(new Uint32Array(this.data),this.typeInfo,null);throw"VectorData: Invalid data type"}setDataValue($,Q,J,K){J instanceof sq?console.error("TODO: Set vector postfix"):Q instanceof s?this.data=Q.data:console.error("SetDataValue: Invalid value",Q)}getSubData($,Q,J){if(Q===null)return this;let K=$.getTypeInfo("f32");if(this.typeInfo instanceof iq)K=this.typeInfo.format||K;else{let q=this.typeInfo.name;q==="vec2f"||q==="vec3f"||q==="vec4f"?K=$.getTypeInfo("f32"):q==="vec2i"||q==="vec3i"||q==="vec4i"?K=$.getTypeInfo("i32"):q==="vec2b"||q==="vec3b"||q==="vec4b"?K=$.getTypeInfo("bool"):q==="vec2u"||q==="vec3u"||q==="vec4u"?K=$.getTypeInfo("u32"):q==="vec2h"||q==="vec3h"||q==="vec4h"?K=$.getTypeInfo("f16"):console.error(`GetSubData: Unknown type ${q}`)}let Y=this;for(;Q!==null&&Y!==null;){if(Q instanceof bX){let q=Q.index,Z=-1;if(q instanceof L7){if(!(q.value instanceof X0))return console.error(`GetSubData: Invalid array index ${q.value}`),null;Z=q.value.value}else{let X=$.evalExpression(q,J);if(!(X instanceof X0))return console.error("GetSubData: Unknown index type",q),null;Z=X.value}if(Z<0||Z>=Y.data.length)return console.error("GetSubData: Index out of range",Z),null;if(Y.data instanceof Float32Array){let X=new Float32Array(Y.data.buffer,Y.data.byteOffset+4*Z,1);return new X0(X,K)}if(Y.data instanceof Int32Array){let X=new Int32Array(Y.data.buffer,Y.data.byteOffset+4*Z,1);return new X0(X,K)}if(Y.data instanceof Uint32Array){let X=new Uint32Array(Y.data.buffer,Y.data.byteOffset+4*Z,1);return new X0(X,K)}throw"GetSubData: Invalid data type"}if(!(Q instanceof sq))return console.error("GetSubData: Unknown postfix",Q),null;{let q=Q.value.toLowerCase();if(q.length===1){let X=0;if(q==="x"||q==="r")X=0;else if(q==="y"||q==="g")X=1;else if(q==="z"||q==="b")X=2;else{if(q!=="w"&&q!=="a")return console.error(`GetSubData: Unknown member ${q}`),null;X=3}if(this.data instanceof Float32Array){let W=new Float32Array(this.data.buffer,this.data.byteOffset+4*X,1);return new X0(W,K,this)}if(this.data instanceof Int32Array){let W=new Int32Array(this.data.buffer,this.data.byteOffset+4*X,1);return new X0(W,K,this)}if(this.data instanceof Uint32Array){let W=new Uint32Array(this.data.buffer,this.data.byteOffset+4*X,1);return new X0(W,K,this)}}let Z=[];for(let X of q)X==="x"||X==="r"?Z.push(this.data[0]):X==="y"||X==="g"?Z.push(this.data[1]):X==="z"||X==="b"?Z.push(this.data[2]):X==="w"||X==="a"?Z.push(this.data[3]):console.error(`GetDataValue: Unknown member ${X}`);Y=ee0($,Z,K.name)}Q=Q.postfix}return Y}toString(){let $=`${this.data[0]}`;for(let Q=1;Q<this.data.length;++Q)$+=`, ${this.data[Q]}`;return $}}class r1 extends v3{constructor($,Q,J=null){super(Q,J),$ instanceof Float32Array?this.data=$:this.data=new Float32Array($)}clone(){return new r1(new Float32Array(this.data),this.typeInfo,null)}setDataValue($,Q,J,K){J instanceof sq?console.error("TODO: Set matrix postfix"):Q instanceof r1?this.data=Q.data:console.error("SetDataValue: Invalid value",Q)}getSubData($,Q,J){if(Q===null)return this;let K=this.typeInfo.name;if($.getTypeInfo("f32"),this.typeInfo instanceof iq)this.typeInfo.format;else if(K.endsWith("f"))$.getTypeInfo("f32");else if(K.endsWith("i"))$.getTypeInfo("i32");else if(K.endsWith("u"))$.getTypeInfo("u32");else{if(!K.endsWith("h"))return console.error(`GetDataValue: Unknown type ${K}`),null;$.getTypeInfo("f16")}if(Q instanceof bX){let Y=Q.index,q=-1;if(Y instanceof L7){if(!(Y.value instanceof X0))return console.error(`GetDataValue: Invalid array index ${Y.value}`),null;q=Y.value.value}else{let W=$.evalExpression(Y,J);if(!(W instanceof X0))return console.error("GetDataValue: Unknown index type",Y),null;q=W.value}if(q<0||q>=this.data.length)return console.error("GetDataValue: Index out of range",q),null;let Z=K.endsWith("h")?"h":"f",X;if(K==="mat2x2"||K==="mat2x2f"||K==="mat2x2h"||K==="mat3x2"||K==="mat3x2f"||K==="mat3x2h"||K==="mat4x2"||K==="mat4x2f"||K==="mat4x2h")X=new s(new Float32Array(this.data.buffer,this.data.byteOffset+2*q*4,2),$.getTypeInfo(`vec2${Z}`));else if(K==="mat2x3"||K==="mat2x3f"||K==="mat2x3h"||K==="mat3x3"||K==="mat3x3f"||K==="mat3x3h"||K==="mat4x3"||K==="mat4x3f"||K==="mat4x3h")X=new s(new Float32Array(this.data.buffer,this.data.byteOffset+3*q*4,3),$.getTypeInfo(`vec3${Z}`));else{if(K!=="mat2x4"&&K!=="mat2x4f"&&K!=="mat2x4h"&&K!=="mat3x4"&&K!=="mat3x4f"&&K!=="mat3x4h"&&K!=="mat4x4"&&K!=="mat4x4f"&&K!=="mat4x4h")return console.error(`GetDataValue: Unknown type ${K}`),null;X=new s(new Float32Array(this.data.buffer,this.data.byteOffset+4*q*4,4),$.getTypeInfo(`vec4${Z}`))}return Q.postfix?X.getSubData($,Q.postfix,J):X}return console.error("GetDataValue: Invalid postfix",Q),null}toString(){let $=`${this.data[0]}`;for(let Q=1;Q<this.data.length;++Q)$+=`, ${this.data[Q]}`;return $}}class X7 extends v3{constructor($,Q,J=0,K=null){super(Q,K),this.buffer=$ instanceof ArrayBuffer?$:$.buffer,this.offset=J}clone(){let $=new Uint8Array(new Uint8Array(this.buffer,this.offset,this.typeInfo.size));return new X7($.buffer,this.typeInfo,0,null)}setDataValue($,Q,J,K){if(Q===null)return void console.log("setDataValue: NULL data.");let Y=this.offset,q=this.typeInfo;for(;J;){if(J instanceof bX)if(q instanceof xK){let Z=J.index;if(Z instanceof L7){if(!(Z.value instanceof X0))return void console.error(`SetDataValue: Invalid index type ${Z.value}`);Y+=Z.value.value*q.stride}else{let X=$.evalExpression(Z,K);if(!(X instanceof X0))return void console.error("SetDataValue: Unknown index type",Z);Y+=X.value*q.stride}q=q.format}else console.error(`SetDataValue: Type ${q.getTypeName()} is not an array`);else{if(!(J instanceof sq))return void console.error("SetDataValue: Unknown postfix type",J);{let Z=J.value;if(q instanceof yK){let X=!1;for(let W of q.members)if(W.name===Z){Y+=W.offset,q=W.type,X=!0;break}if(!X)return void console.error(`SetDataValue: Member ${Z} not found`)}else if(q instanceof S9){let X=q.getTypeName(),W=0;if(Z==="x"||Z==="r")W=0;else if(Z==="y"||Z==="g")W=1;else if(Z==="z"||Z==="b")W=2;else{if(Z!=="w"&&Z!=="a")return void console.error(`SetDataValue: Unknown member ${Z}`);W=3}if(!(Q instanceof X0))return void console.error("SetDataValue: Invalid value",Q);let F=Q.value;return X==="vec2f"?void(new Float32Array(this.buffer,Y,2)[W]=F):X==="vec3f"?void(new Float32Array(this.buffer,Y,3)[W]=F):X==="vec4f"?void(new Float32Array(this.buffer,Y,4)[W]=F):X==="vec2i"?void(new Int32Array(this.buffer,Y,2)[W]=F):X==="vec3i"?void(new Int32Array(this.buffer,Y,3)[W]=F):X==="vec4i"?void(new Int32Array(this.buffer,Y,4)[W]=F):X==="vec2u"?void(new Uint32Array(this.buffer,Y,2)[W]=F):X==="vec3u"?void(new Uint32Array(this.buffer,Y,3)[W]=F):X==="vec4u"?void(new Uint32Array(this.buffer,Y,4)[W]=F):void console.error(`SetDataValue: Type ${X} is not a struct`)}}}J=J.postfix}this.setData($,Q,q,Y,K)}setData($,Q,J,K,Y){let q=J.getTypeName();if(q!=="f32"&&q!=="f16")if(q!=="i32"&&q!=="atomic<i32>"&&q!=="x32")if(q!=="u32"&&q!=="atomic<u32>")if(q!=="bool"){if(q==="vec2f"||q==="vec2h"){let Z=new Float32Array(this.buffer,K,2);return void(Q instanceof s?(Z[0]=Q.data[0],Z[1]=Q.data[1]):(Z[0]=Q[0],Z[1]=Q[1]))}if(q==="vec3f"||q==="vec3h"){let Z=new Float32Array(this.buffer,K,3);return void(Q instanceof s?(Z[0]=Q.data[0],Z[1]=Q.data[1],Z[2]=Q.data[2]):(Z[0]=Q[0],Z[1]=Q[1],Z[2]=Q[2]))}if(q==="vec4f"||q==="vec4h"){let Z=new Float32Array(this.buffer,K,4);return void(Q instanceof s?(Z[0]=Q.data[0],Z[1]=Q.data[1],Z[2]=Q.data[2],Z[3]=Q.data[3]):(Z[0]=Q[0],Z[1]=Q[1],Z[2]=Q[2],Z[3]=Q[3]))}if(q==="vec2i"){let Z=new Int32Array(this.buffer,K,2);return void(Q instanceof s?(Z[0]=Q.data[0],Z[1]=Q.data[1]):(Z[0]=Q[0],Z[1]=Q[1]))}if(q==="vec3i"){let Z=new Int32Array(this.buffer,K,3);return void(Q instanceof s?(Z[0]=Q.data[0],Z[1]=Q.data[1],Z[2]=Q.data[2]):(Z[0]=Q[0],Z[1]=Q[1],Z[2]=Q[2]))}if(q==="vec4i"){let Z=new Int32Array(this.buffer,K,4);return void(Q instanceof s?(Z[0]=Q.data[0],Z[1]=Q.data[1],Z[2]=Q.data[2],Z[3]=Q.data[3]):(Z[0]=Q[0],Z[1]=Q[1],Z[2]=Q[2],Z[3]=Q[3]))}if(q==="vec2u"){let Z=new Uint32Array(this.buffer,K,2);return void(Q instanceof s?(Z[0]=Q.data[0],Z[1]=Q.data[1]):(Z[0]=Q[0],Z[1]=Q[1]))}if(q==="vec3u"){let Z=new Uint32Array(this.buffer,K,3);return void(Q instanceof s?(Z[0]=Q.data[0],Z[1]=Q.data[1],Z[2]=Q.data[2]):(Z[0]=Q[0],Z[1]=Q[1],Z[2]=Q[2]))}if(q==="vec4u"){let Z=new Uint32Array(this.buffer,K,4);return void(Q instanceof s?(Z[0]=Q.data[0],Z[1]=Q.data[1],Z[2]=Q.data[2],Z[3]=Q.data[3]):(Z[0]=Q[0],Z[1]=Q[1],Z[2]=Q[2],Z[3]=Q[3]))}if(q==="vec2b"){let Z=new Uint32Array(this.buffer,K,2);return void(Q instanceof s?(Z[0]=Q.data[0],Z[1]=Q.data[1]):(Z[0]=Q[0],Z[1]=Q[1]))}if(q==="vec3b"){let Z=new Uint32Array(this.buffer,K,3);return void(Q instanceof s?(Z[0]=Q.data[0],Z[1]=Q.data[1],Z[2]=Q.data[2]):(Z[0]=Q[0],Z[1]=Q[1],Z[2]=Q[2]))}if(q==="vec4b"){let Z=new Uint32Array(this.buffer,K,4);return void(Q instanceof s?(Z[0]=Q.data[0],Z[1]=Q.data[1],Z[2]=Q.data[2],Z[3]=Q.data[3]):(Z[0]=Q[0],Z[1]=Q[1],Z[2]=Q[2],Z[3]=Q[3]))}if(q==="mat2x2f"||q==="mat2x2h"){let Z=new Float32Array(this.buffer,K,4);return void(Q instanceof r1?(Z[0]=Q.data[0],Z[1]=Q.data[1],Z[2]=Q.data[2],Z[3]=Q.data[3]):(Z[0]=Q[0],Z[1]=Q[1],Z[2]=Q[2],Z[3]=Q[3]))}if(q==="mat2x3f"||q==="mat2x3h"){let Z=new Float32Array(this.buffer,K,6);return void(Q instanceof r1?(Z[0]=Q.data[0],Z[1]=Q.data[1],Z[2]=Q.data[2],Z[3]=Q.data[3],Z[4]=Q.data[4],Z[5]=Q.data[5]):(Z[0]=Q[0],Z[1]=Q[1],Z[2]=Q[2],Z[3]=Q[3],Z[4]=Q[4],Z[5]=Q[5]))}if(q==="mat2x4f"||q==="mat2x4h"){let Z=new Float32Array(this.buffer,K,8);return void(Q instanceof r1?(Z[0]=Q.data[0],Z[1]=Q.data[1],Z[2]=Q.data[2],Z[3]=Q.data[3],Z[4]=Q.data[4],Z[5]=Q.data[5],Z[6]=Q.data[6],Z[7]=Q.data[7]):(Z[0]=Q[0],Z[1]=Q[1],Z[2]=Q[2],Z[3]=Q[3],Z[4]=Q[4],Z[5]=Q[5],Z[6]=Q[6],Z[7]=Q[7]))}if(q==="mat3x2f"||q==="mat3x2h"){let Z=new Float32Array(this.buffer,K,6);return void(Q instanceof r1?(Z[0]=Q.data[0],Z[1]=Q.data[1],Z[2]=Q.data[2],Z[3]=Q.data[3],Z[4]=Q.data[4],Z[5]=Q.data[5]):(Z[0]=Q[0],Z[1]=Q[1],Z[2]=Q[2],Z[3]=Q[3],Z[4]=Q[4],Z[5]=Q[5]))}if(q==="mat3x3f"||q==="mat3x3h"){let Z=new Float32Array(this.buffer,K,9);return void(Q instanceof r1?(Z[0]=Q.data[0],Z[1]=Q.data[1],Z[2]=Q.data[2],Z[3]=Q.data[3],Z[4]=Q.data[4],Z[5]=Q.data[5],Z[6]=Q.data[6],Z[7]=Q.data[7],Z[8]=Q.data[8]):(Z[0]=Q[0],Z[1]=Q[1],Z[2]=Q[2],Z[3]=Q[3],Z[4]=Q[4],Z[5]=Q[5],Z[6]=Q[6],Z[7]=Q[7],Z[8]=Q[8]))}if(q==="mat3x4f"||q==="mat3x4h"){let Z=new Float32Array(this.buffer,K,12);return void(Q instanceof r1?(Z[0]=Q.data[0],Z[1]=Q.data[1],Z[2]=Q.data[2],Z[3]=Q.data[3],Z[4]=Q.data[4],Z[5]=Q.data[5],Z[6]=Q.data[6],Z[7]=Q.data[7],Z[8]=Q.data[8],Z[9]=Q.data[9],Z[10]=Q.data[10],Z[11]=Q.data[11]):(Z[0]=Q[0],Z[1]=Q[1],Z[2]=Q[2],Z[3]=Q[3],Z[4]=Q[4],Z[5]=Q[5],Z[6]=Q[6],Z[7]=Q[7],Z[8]=Q[8],Z[9]=Q[9],Z[10]=Q[10],Z[11]=Q[11]))}if(q==="mat4x2f"||q==="mat4x2h"){let Z=new Float32Array(this.buffer,K,8);return void(Q instanceof r1?(Z[0]=Q.data[0],Z[1]=Q.data[1],Z[2]=Q.data[2],Z[3]=Q.data[3],Z[4]=Q.data[4],Z[5]=Q.data[5],Z[6]=Q.data[6],Z[7]=Q.data[7]):(Z[0]=Q[0],Z[1]=Q[1],Z[2]=Q[2],Z[3]=Q[3],Z[4]=Q[4],Z[5]=Q[5],Z[6]=Q[6],Z[7]=Q[7]))}if(q==="mat4x3f"||q==="mat4x3h"){let Z=new Float32Array(this.buffer,K,12);return void(Q instanceof r1?(Z[0]=Q.data[0],Z[1]=Q.data[1],Z[2]=Q.data[2],Z[3]=Q.data[3],Z[4]=Q.data[4],Z[5]=Q.data[5],Z[6]=Q.data[6],Z[7]=Q.data[7],Z[8]=Q.data[8],Z[9]=Q.data[9],Z[10]=Q.data[10],Z[11]=Q.data[11]):(Z[0]=Q[0],Z[1]=Q[1],Z[2]=Q[2],Z[3]=Q[3],Z[4]=Q[4],Z[5]=Q[5],Z[6]=Q[6],Z[7]=Q[7],Z[8]=Q[8],Z[9]=Q[9],Z[10]=Q[10],Z[11]=Q[11]))}if(q==="mat4x4f"||q==="mat4x4h"){let Z=new Float32Array(this.buffer,K,16);return void(Q instanceof r1?(Z[0]=Q.data[0],Z[1]=Q.data[1],Z[2]=Q.data[2],Z[3]=Q.data[3],Z[4]=Q.data[4],Z[5]=Q.data[5],Z[6]=Q.data[6],Z[7]=Q.data[7],Z[8]=Q.data[8],Z[9]=Q.data[9],Z[10]=Q.data[10],Z[11]=Q.data[11],Z[12]=Q.data[12],Z[13]=Q.data[13],Z[14]=Q.data[14],Z[15]=Q.data[15]):(Z[0]=Q[0],Z[1]=Q[1],Z[2]=Q[2],Z[3]=Q[3],Z[4]=Q[4],Z[5]=Q[5],Z[6]=Q[6],Z[7]=Q[7],Z[8]=Q[8],Z[9]=Q[9],Z[10]=Q[10],Z[11]=Q[11],Z[12]=Q[12],Z[13]=Q[13],Z[14]=Q[14],Z[15]=Q[15]))}if(Q instanceof X7){if(J===Q.typeInfo)return void new Uint8Array(this.buffer,K,Q.buffer.byteLength).set(new Uint8Array(Q.buffer));console.error("SetDataValue: Type mismatch",q,Q.typeInfo.getTypeName())}else console.error(`SetData: Unknown type ${q}`)}else Q instanceof X0&&(new Int32Array(this.buffer,K,1)[0]=Q.value);else Q instanceof X0&&(new Uint32Array(this.buffer,K,1)[0]=Q.value);else Q instanceof X0&&(new Int32Array(this.buffer,K,1)[0]=Q.value);else Q instanceof X0&&(new Float32Array(this.buffer,K,1)[0]=Q.value)}getSubData($,Q,J){var K,Y,q;if(Q===null)return this;let Z=this.offset,X=this.typeInfo;for(;Q;){if(Q instanceof bX){let F=Q.index,H=F instanceof _3?$.evalExpression(F,J):F,B=0;if(H instanceof X0?B=H.value:typeof H=="number"?B=H:console.error("GetDataValue: Invalid index type",F),X instanceof xK)Z+=B*X.stride,X=X.format;else{let z=X.getTypeName();z==="mat4x4"||z==="mat4x4f"||z==="mat4x4h"?(Z+=16*B,X=$.getTypeInfo("vec4f")):console.error(`getDataValue: Type ${X.getTypeName()} is not an array`)}}else{if(!(Q instanceof sq))return console.error("GetDataValue: Unknown postfix type",Q),null;{let F=Q.value;if(X instanceof yK){let H=!1;for(let B of X.members)if(B.name===F){Z+=B.offset,X=B.type,H=!0;break}if(!H)return console.error(`GetDataValue: Member ${F} not found`),null}else if(X instanceof S9){let H=X.getTypeName();if(H==="vec2f"||H==="vec3f"||H==="vec4f"||H==="vec2i"||H==="vec3i"||H==="vec4i"||H==="vec2u"||H==="vec3u"||H==="vec4u"||H==="vec2b"||H==="vec3b"||H==="vec4b"||H==="vec2h"||H==="vec3h"||H==="vec4h"||H==="vec2"||H==="vec3"||H==="vec4"){if(F.length>0&&F.length<5){let B="f",z=[];for(let A=0;A<F.length;++A){let R=F[A].toLowerCase(),G=0;if(R==="x"||R==="r")G=0;else if(R==="y"||R==="g")G=1;else if(R==="z"||R==="b")G=2;else{if(R!=="w"&&R!=="a")return console.error(`Unknown member ${F}`),null;G=3}if(F.length===1){if(H.endsWith("f"))return this.buffer.byteLength<Z+4*G+4?(console.log("Insufficient buffer data"),null):new X0(new Float32Array(this.buffer,Z+4*G,1),$.getTypeInfo("f32"),this);if(H.endsWith("h"))return new X0(new Float32Array(this.buffer,Z+4*G,1),$.getTypeInfo("f16"),this);if(H.endsWith("i"))return new X0(new Int32Array(this.buffer,Z+4*G,1),$.getTypeInfo("i32"),this);if(H.endsWith("b"))return new X0(new Int32Array(this.buffer,Z+4*G,1),$.getTypeInfo("bool"),this);if(H.endsWith("u"))return new X0(new Uint32Array(this.buffer,Z+4*G,1),$.getTypeInfo("i32"),this)}if(H==="vec2f")z.push(new Float32Array(this.buffer,Z,2)[G]);else if(H==="vec3f"){if(Z+12>=this.buffer.byteLength)return console.log("Insufficient buffer data"),null;let w=new Float32Array(this.buffer,Z,3);z.push(w[G])}else if(H==="vec4f")z.push(new Float32Array(this.buffer,Z,4)[G]);else if(H==="vec2i")B="i",z.push(new Int32Array(this.buffer,Z,2)[G]);else if(H==="vec3i")B="i",z.push(new Int32Array(this.buffer,Z,3)[G]);else if(H==="vec4i")B="i",z.push(new Int32Array(this.buffer,Z,4)[G]);else if(H==="vec2u"){B="u";let w=new Uint32Array(this.buffer,Z,2);z.push(w[G])}else H==="vec3u"?(B="u",z.push(new Uint32Array(this.buffer,Z,3)[G])):H==="vec4u"&&(B="u",z.push(new Uint32Array(this.buffer,Z,4)[G]))}return z.length===2?X=$.getTypeInfo(`vec2${B}`):z.length===3?X=$.getTypeInfo(`vec3${B}`):z.length===4?X=$.getTypeInfo(`vec4${B}`):console.error(`GetDataValue: Invalid vector length ${z.length}`),new s(z,X,null)}return console.error(`GetDataValue: Unknown member ${F}`),null}return console.error(`GetDataValue: Type ${H} is not a struct`),null}}}Q=Q.postfix}let W=X.getTypeName();return W==="f32"?new X0(new Float32Array(this.buffer,Z,1),X,this):W==="i32"?new X0(new Int32Array(this.buffer,Z,1),X,this):W==="u32"?new X0(new Uint32Array(this.buffer,Z,1),X,this):W==="vec2f"?new s(new Float32Array(this.buffer,Z,2),X,this):W==="vec3f"?new s(new Float32Array(this.buffer,Z,3),X,this):W==="vec4f"?new s(new Float32Array(this.buffer,Z,4),X,this):W==="vec2i"?new s(new Int32Array(this.buffer,Z,2),X,this):W==="vec3i"?new s(new Int32Array(this.buffer,Z,3),X,this):W==="vec4i"?new s(new Int32Array(this.buffer,Z,4),X,this):W==="vec2u"?new s(new Uint32Array(this.buffer,Z,2),X,this):W==="vec3u"?new s(new Uint32Array(this.buffer,Z,3),X,this):W==="vec4u"?new s(new Uint32Array(this.buffer,Z,4),X,this):X instanceof iq&&X.name==="atomic"?((K=X.format)===null||K===void 0?void 0:K.name)==="u32"?new X0(new Uint32Array(this.buffer,Z,1)[0],X.format,this):((Y=X.format)===null||Y===void 0?void 0:Y.name)==="i32"?new X0(new Int32Array(this.buffer,Z,1)[0],X.format,this):(console.error(`GetDataValue: Invalid atomic format ${(q=X.format)===null||q===void 0?void 0:q.name}`),null):new X7(this.buffer,X,Z,this)}toString(){let $="";if(this.typeInfo instanceof xK)if(this.typeInfo.format.name==="f32"){let Q=new Float32Array(this.buffer,this.offset);$=`[${Q[0]}`;for(let J=1;J<Q.length;++J)$+=`, ${Q[J]}`}else if(this.typeInfo.format.name==="i32"){let Q=new Int32Array(this.buffer,this.offset);$=`[${Q[0]}`;for(let J=1;J<Q.length;++J)$+=`, ${Q[J]}`}else if(this.typeInfo.format.name==="u32"){let Q=new Uint32Array(this.buffer,this.offset);$=`[${Q[0]}`;for(let J=1;J<Q.length;++J)$+=`, ${Q[J]}`}else if(this.typeInfo.format.name==="vec2f"){let Q=new Float32Array(this.buffer,this.offset);$=`[${Q[0]}, ${Q[1]}]`;for(let J=1;J<Q.length/2;++J)$+=`, [${Q[2*J]}, ${Q[2*J+1]}]`}else if(this.typeInfo.format.name==="vec3f"){let Q=new Float32Array(this.buffer,this.offset);$=`[${Q[0]}, ${Q[1]}, ${Q[2]}]`;for(let J=4;J<Q.length;J+=4)$+=`, [${Q[J]}, ${Q[J+1]}, ${Q[J+2]}]`}else if(this.typeInfo.format.name==="vec4f"){let Q=new Float32Array(this.buffer,this.offset);$=`[${Q[0]}, ${Q[1]}, ${Q[2]}, ${Q[3]}]`;for(let J=4;J<Q.length;J+=4)$+=`, [${Q[J]}, ${Q[J+1]}, ${Q[J+2]}, ${Q[J+3]}]`}else $="[...]";else this.typeInfo instanceof yK?$+="{...}":$="[...]";return $}}class gK extends v3{constructor($,Q,J,K){super(Q,null),this.data=$,this.descriptor=J,this.view=K}clone(){return new gK(this.data,this.typeInfo,this.descriptor,this.view)}get width(){var $,Q;let J=this.descriptor.size;return J instanceof Array&&J.length>0?($=J[0])!==null&&$!==void 0?$:0:J instanceof Object&&(Q=J.width)!==null&&Q!==void 0?Q:0}get height(){var $,Q;let J=this.descriptor.size;return J instanceof Array&&J.length>1?($=J[1])!==null&&$!==void 0?$:0:J instanceof Object&&(Q=J.height)!==null&&Q!==void 0?Q:0}get depthOrArrayLayers(){var $,Q;let J=this.descriptor.size;return J instanceof Array&&J.length>2?($=J[2])!==null&&$!==void 0?$:0:J instanceof Object&&(Q=J.depthOrArrayLayers)!==null&&Q!==void 0?Q:0}get format(){var $;return this.descriptor&&($=this.descriptor.format)!==null&&$!==void 0?$:"rgba8unorm"}get sampleCount(){var $;return this.descriptor&&($=this.descriptor.sampleCount)!==null&&$!==void 0?$:1}get mipLevelCount(){var $;return this.descriptor&&($=this.descriptor.mipLevelCount)!==null&&$!==void 0?$:1}get dimension(){var $;return this.descriptor&&($=this.descriptor.dimension)!==null&&$!==void 0?$:"2d"}getMipLevelSize($){if($>=this.mipLevelCount)return[0,0,0];let Q=[this.width,this.height,this.depthOrArrayLayers];for(let J=0;J<Q.length;++J)Q[J]=Math.max(1,Q[J]>>$);return Q}get texelByteSize(){let $=this.format,Q=fc[$];return Q?Q.isDepthStencil?4:Q.bytesPerBlock:0}get bytesPerRow(){return this.width*this.texelByteSize}get isDepthStencil(){let $=this.format,Q=fc[$];return!!Q&&Q.isDepthStencil}getGpuSize(){let $=this.format,Q=fc[$],J=this.width;if(!$||J<=0||!Q)return-1;let K=this.height,Y=this.depthOrArrayLayers,q=this.dimension;return J/Q.blockWidth*(q==="1d"?1:K/Q.blockHeight)*Q.bytesPerBlock*Y}getPixel($,Q,J=0,K=0){let Y=this.texelByteSize,q=this.bytesPerRow,Z=this.height,X=this.data[K];return te0(new Uint8Array(X),$,Q,J,K,Z,q,Y,this.format)}setPixel($,Q,J,K,Y){let q=this.texelByteSize,Z=this.bytesPerRow,X=this.height,W=this.data[K];(function(F,H,B,z,A,R,G,w,T,D){let P=z*(G>>=A)*(R>>=A)+B*G+H*w;switch(T){case"r8unorm":return void e5(F,P,"8unorm",1,D);case"r8snorm":return void e5(F,P,"8snorm",1,D);case"r8uint":return void e5(F,P,"8uint",1,D);case"r8sint":return void e5(F,P,"8sint",1,D);case"rg8unorm":return void e5(F,P,"8unorm",2,D);case"rg8snorm":return void e5(F,P,"8snorm",2,D);case"rg8uint":return void e5(F,P,"8uint",2,D);case"rg8sint":return void e5(F,P,"8sint",2,D);case"rgba8unorm-srgb":case"rgba8unorm":case"bgra8unorm-srgb":case"bgra8unorm":return void e5(F,P,"8unorm",4,D);case"rgba8snorm":return void e5(F,P,"8snorm",4,D);case"rgba8uint":return void e5(F,P,"8uint",4,D);case"rgba8sint":return void e5(F,P,"8sint",4,D);case"r16uint":return void e5(F,P,"16uint",1,D);case"r16sint":return void e5(F,P,"16sint",1,D);case"r16float":return void e5(F,P,"16float",1,D);case"rg16uint":return void e5(F,P,"16uint",2,D);case"rg16sint":return void e5(F,P,"16sint",2,D);case"rg16float":return void e5(F,P,"16float",2,D);case"rgba16uint":return void e5(F,P,"16uint",4,D);case"rgba16sint":return void e5(F,P,"16sint",4,D);case"rgba16float":return void e5(F,P,"16float",4,D);case"r32uint":return void e5(F,P,"32uint",1,D);case"r32sint":return void e5(F,P,"32sint",1,D);case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return void e5(F,P,"32float",1,D);case"rg32uint":return void e5(F,P,"32uint",2,D);case"rg32sint":return void e5(F,P,"32sint",2,D);case"rg32float":return void e5(F,P,"32float",2,D);case"rgba32uint":return void e5(F,P,"32uint",4,D);case"rgba32sint":return void e5(F,P,"32sint",4,D);case"rgba32float":return void e5(F,P,"32float",4,D);case"rg11b10ufloat":console.error("TODO: rg11b10ufloat not supported for writing")}})(new Uint8Array(W),$,Q,J,K,X,Z,q,this.format,Y)}}(($)=>{$[$.token=0]="token",$[$.keyword=1]="keyword",$[$.reserved=2]="reserved"})(W0||(W0={}));class F0{constructor($,Q,J){this.name=$,this.type=Q,this.rule=J}toString(){return this.name}}class l{}N0=l,l.none=new F0("",W0.reserved,""),l.eof=new F0("EOF",W0.token,""),l.reserved={asm:new F0("asm",W0.reserved,"asm"),bf16:new F0("bf16",W0.reserved,"bf16"),do:new F0("do",W0.reserved,"do"),enum:new F0("enum",W0.reserved,"enum"),f16:new F0("f16",W0.reserved,"f16"),f64:new F0("f64",W0.reserved,"f64"),handle:new F0("handle",W0.reserved,"handle"),i8:new F0("i8",W0.reserved,"i8"),i16:new F0("i16",W0.reserved,"i16"),i64:new F0("i64",W0.reserved,"i64"),mat:new F0("mat",W0.reserved,"mat"),premerge:new F0("premerge",W0.reserved,"premerge"),regardless:new F0("regardless",W0.reserved,"regardless"),typedef:new F0("typedef",W0.reserved,"typedef"),u8:new F0("u8",W0.reserved,"u8"),u16:new F0("u16",W0.reserved,"u16"),u64:new F0("u64",W0.reserved,"u64"),unless:new F0("unless",W0.reserved,"unless"),using:new F0("using",W0.reserved,"using"),vec:new F0("vec",W0.reserved,"vec"),void:new F0("void",W0.reserved,"void")},l.keywords={array:new F0("array",W0.keyword,"array"),atomic:new F0("atomic",W0.keyword,"atomic"),bool:new F0("bool",W0.keyword,"bool"),f32:new F0("f32",W0.keyword,"f32"),i32:new F0("i32",W0.keyword,"i32"),mat2x2:new F0("mat2x2",W0.keyword,"mat2x2"),mat2x3:new F0("mat2x3",W0.keyword,"mat2x3"),mat2x4:new F0("mat2x4",W0.keyword,"mat2x4"),mat3x2:new F0("mat3x2",W0.keyword,"mat3x2"),mat3x3:new F0("mat3x3",W0.keyword,"mat3x3"),mat3x4:new F0("mat3x4",W0.keyword,"mat3x4"),mat4x2:new F0("mat4x2",W0.keyword,"mat4x2"),mat4x3:new F0("mat4x3",W0.keyword,"mat4x3"),mat4x4:new F0("mat4x4",W0.keyword,"mat4x4"),ptr:new F0("ptr",W0.keyword,"ptr"),sampler:new F0("sampler",W0.keyword,"sampler"),sampler_comparison:new F0("sampler_comparison",W0.keyword,"sampler_comparison"),struct:new F0("struct",W0.keyword,"struct"),texture_1d:new F0("texture_1d",W0.keyword,"texture_1d"),texture_2d:new F0("texture_2d",W0.keyword,"texture_2d"),texture_2d_array:new F0("texture_2d_array",W0.keyword,"texture_2d_array"),texture_3d:new F0("texture_3d",W0.keyword,"texture_3d"),texture_cube:new F0("texture_cube",W0.keyword,"texture_cube"),texture_cube_array:new F0("texture_cube_array",W0.keyword,"texture_cube_array"),texture_multisampled_2d:new F0("texture_multisampled_2d",W0.keyword,"texture_multisampled_2d"),texture_storage_1d:new F0("texture_storage_1d",W0.keyword,"texture_storage_1d"),texture_storage_2d:new F0("texture_storage_2d",W0.keyword,"texture_storage_2d"),texture_storage_2d_array:new F0("texture_storage_2d_array",W0.keyword,"texture_storage_2d_array"),texture_storage_3d:new F0("texture_storage_3d",W0.keyword,"texture_storage_3d"),texture_depth_2d:new F0("texture_depth_2d",W0.keyword,"texture_depth_2d"),texture_depth_2d_array:new F0("texture_depth_2d_array",W0.keyword,"texture_depth_2d_array"),texture_depth_cube:new F0("texture_depth_cube",W0.keyword,"texture_depth_cube"),texture_depth_cube_array:new F0("texture_depth_cube_array",W0.keyword,"texture_depth_cube_array"),texture_depth_multisampled_2d:new F0("texture_depth_multisampled_2d",W0.keyword,"texture_depth_multisampled_2d"),texture_external:new F0("texture_external",W0.keyword,"texture_external"),u32:new F0("u32",W0.keyword,"u32"),vec2:new F0("vec2",W0.keyword,"vec2"),vec3:new F0("vec3",W0.keyword,"vec3"),vec4:new F0("vec4",W0.keyword,"vec4"),bitcast:new F0("bitcast",W0.keyword,"bitcast"),block:new F0("block",W0.keyword,"block"),break:new F0("break",W0.keyword,"break"),case:new F0("case",W0.keyword,"case"),continue:new F0("continue",W0.keyword,"continue"),continuing:new F0("continuing",W0.keyword,"continuing"),default:new F0("default",W0.keyword,"default"),diagnostic:new F0("diagnostic",W0.keyword,"diagnostic"),discard:new F0("discard",W0.keyword,"discard"),else:new F0("else",W0.keyword,"else"),enable:new F0("enable",W0.keyword,"enable"),fallthrough:new F0("fallthrough",W0.keyword,"fallthrough"),false:new F0("false",W0.keyword,"false"),fn:new F0("fn",W0.keyword,"fn"),for:new F0("for",W0.keyword,"for"),function:new F0("function",W0.keyword,"function"),if:new F0("if",W0.keyword,"if"),let:new F0("let",W0.keyword,"let"),const:new F0("const",W0.keyword,"const"),loop:new F0("loop",W0.keyword,"loop"),while:new F0("while",W0.keyword,"while"),private:new F0("private",W0.keyword,"private"),read:new F0("read",W0.keyword,"read"),read_write:new F0("read_write",W0.keyword,"read_write"),return:new F0("return",W0.keyword,"return"),requires:new F0("requires",W0.keyword,"requires"),storage:new F0("storage",W0.keyword,"storage"),switch:new F0("switch",W0.keyword,"switch"),true:new F0("true",W0.keyword,"true"),alias:new F0("alias",W0.keyword,"alias"),type:new F0("type",W0.keyword,"type"),uniform:new F0("uniform",W0.keyword,"uniform"),var:new F0("var",W0.keyword,"var"),override:new F0("override",W0.keyword,"override"),workgroup:new F0("workgroup",W0.keyword,"workgroup"),write:new F0("write",W0.keyword,"write"),r8unorm:new F0("r8unorm",W0.keyword,"r8unorm"),r8snorm:new F0("r8snorm",W0.keyword,"r8snorm"),r8uint:new F0("r8uint",W0.keyword,"r8uint"),r8sint:new F0("r8sint",W0.keyword,"r8sint"),r16uint:new F0("r16uint",W0.keyword,"r16uint"),r16sint:new F0("r16sint",W0.keyword,"r16sint"),r16float:new F0("r16float",W0.keyword,"r16float"),rg8unorm:new F0("rg8unorm",W0.keyword,"rg8unorm"),rg8snorm:new F0("rg8snorm",W0.keyword,"rg8snorm"),rg8uint:new F0("rg8uint",W0.keyword,"rg8uint"),rg8sint:new F0("rg8sint",W0.keyword,"rg8sint"),r32uint:new F0("r32uint",W0.keyword,"r32uint"),r32sint:new F0("r32sint",W0.keyword,"r32sint"),r32float:new F0("r32float",W0.keyword,"r32float"),rg16uint:new F0("rg16uint",W0.keyword,"rg16uint"),rg16sint:new F0("rg16sint",W0.keyword,"rg16sint"),rg16float:new F0("rg16float",W0.keyword,"rg16float"),rgba8unorm:new F0("rgba8unorm",W0.keyword,"rgba8unorm"),rgba8unorm_srgb:new F0("rgba8unorm_srgb",W0.keyword,"rgba8unorm_srgb"),rgba8snorm:new F0("rgba8snorm",W0.keyword,"rgba8snorm"),rgba8uint:new F0("rgba8uint",W0.keyword,"rgba8uint"),rgba8sint:new F0("rgba8sint",W0.keyword,"rgba8sint"),bgra8unorm:new F0("bgra8unorm",W0.keyword,"bgra8unorm"),bgra8unorm_srgb:new F0("bgra8unorm_srgb",W0.keyword,"bgra8unorm_srgb"),rgb10a2unorm:new F0("rgb10a2unorm",W0.keyword,"rgb10a2unorm"),rg11b10float:new F0("rg11b10float",W0.keyword,"rg11b10float"),rg32uint:new F0("rg32uint",W0.keyword,"rg32uint"),rg32sint:new F0("rg32sint",W0.keyword,"rg32sint"),rg32float:new F0("rg32float",W0.keyword,"rg32float"),rgba16uint:new F0("rgba16uint",W0.keyword,"rgba16uint"),rgba16sint:new F0("rgba16sint",W0.keyword,"rgba16sint"),rgba16float:new F0("rgba16float",W0.keyword,"rgba16float"),rgba32uint:new F0("rgba32uint",W0.keyword,"rgba32uint"),rgba32sint:new F0("rgba32sint",W0.keyword,"rgba32sint"),rgba32float:new F0("rgba32float",W0.keyword,"rgba32float"),static_assert:new F0("static_assert",W0.keyword,"static_assert")},l.tokens={decimal_float_literal:new F0("decimal_float_literal",W0.token,/((-?[0-9]*\.[0-9]+|-?[0-9]+\.[0-9]*)((e|E)(\+|-)?[0-9]+)?[fh]?)|(-?[0-9]+(e|E)(\+|-)?[0-9]+[fh]?)|(-?[0-9]+[fh])/),hex_float_literal:new F0("hex_float_literal",W0.token,/-?0x((([0-9a-fA-F]*\.[0-9a-fA-F]+|[0-9a-fA-F]+\.[0-9a-fA-F]*)((p|P)(\+|-)?[0-9]+[fh]?)?)|([0-9a-fA-F]+(p|P)(\+|-)?[0-9]+[fh]?))/),int_literal:new F0("int_literal",W0.token,/-?0x[0-9a-fA-F]+|0i?|-?[1-9][0-9]*i?/),uint_literal:new F0("uint_literal",W0.token,/0x[0-9a-fA-F]+u|0u|[1-9][0-9]*u/),name:new F0("name",W0.token,/([_\p{XID_Start}][\p{XID_Continue}]+)|([\p{XID_Start}])/u),ident:new F0("ident",W0.token,/[_a-zA-Z][0-9a-zA-Z_]*/),and:new F0("and",W0.token,"&"),and_and:new F0("and_and",W0.token,"&&"),arrow:new F0("arrow ",W0.token,"->"),attr:new F0("attr",W0.token,"@"),forward_slash:new F0("forward_slash",W0.token,"/"),bang:new F0("bang",W0.token,"!"),bracket_left:new F0("bracket_left",W0.token,"["),bracket_right:new F0("bracket_right",W0.token,"]"),brace_left:new F0("brace_left",W0.token,"{"),brace_right:new F0("brace_right",W0.token,"}"),colon:new F0("colon",W0.token,":"),comma:new F0("comma",W0.token,","),equal:new F0("equal",W0.token,"="),equal_equal:new F0("equal_equal",W0.token,"=="),not_equal:new F0("not_equal",W0.token,"!="),greater_than:new F0("greater_than",W0.token,">"),greater_than_equal:new F0("greater_than_equal",W0.token,">="),shift_right:new F0("shift_right",W0.token,">>"),less_than:new F0("less_than",W0.token,"<"),less_than_equal:new F0("less_than_equal",W0.token,"<="),shift_left:new F0("shift_left",W0.token,"<<"),modulo:new F0("modulo",W0.token,"%"),minus:new F0("minus",W0.token,"-"),minus_minus:new F0("minus_minus",W0.token,"--"),period:new F0("period",W0.token,"."),plus:new F0("plus",W0.token,"+"),plus_plus:new F0("plus_plus",W0.token,"++"),or:new F0("or",W0.token,"|"),or_or:new F0("or_or",W0.token,"||"),paren_left:new F0("paren_left",W0.token,"("),paren_right:new F0("paren_right",W0.token,")"),semicolon:new F0("semicolon",W0.token,";"),star:new F0("star",W0.token,"*"),tilde:new F0("tilde",W0.token,"~"),underscore:new F0("underscore",W0.token,"_"),xor:new F0("xor",W0.token,"^"),plus_equal:new F0("plus_equal",W0.token,"+="),minus_equal:new F0("minus_equal",W0.token,"-="),times_equal:new F0("times_equal",W0.token,"*="),division_equal:new F0("division_equal",W0.token,"/="),modulo_equal:new F0("modulo_equal",W0.token,"%="),and_equal:new F0("and_equal",W0.token,"&="),or_equal:new F0("or_equal",W0.token,"|="),xor_equal:new F0("xor_equal",W0.token,"^="),shift_right_equal:new F0("shift_right_equal",W0.token,">>="),shift_left_equal:new F0("shift_left_equal",W0.token,"<<=")},l.simpleTokens={"@":N0.tokens.attr,"{":N0.tokens.brace_left,"}":N0.tokens.brace_right,":":N0.tokens.colon,",":N0.tokens.comma,"(":N0.tokens.paren_left,")":N0.tokens.paren_right,";":N0.tokens.semicolon},l.literalTokens={"&":N0.tokens.and,"&&":N0.tokens.and_and,"->":N0.tokens.arrow,"/":N0.tokens.forward_slash,"!":N0.tokens.bang,"[":N0.tokens.bracket_left,"]":N0.tokens.bracket_right,"=":N0.tokens.equal,"==":N0.tokens.equal_equal,"!=":N0.tokens.not_equal,">":N0.tokens.greater_than,">=":N0.tokens.greater_than_equal,">>":N0.tokens.shift_right,"<":N0.tokens.less_than,"<=":N0.tokens.less_than_equal,"<<":N0.tokens.shift_left,"%":N0.tokens.modulo,"-":N0.tokens.minus,"--":N0.tokens.minus_minus,".":N0.tokens.period,"+":N0.tokens.plus,"++":N0.tokens.plus_plus,"|":N0.tokens.or,"||":N0.tokens.or_or,"*":N0.tokens.star,"~":N0.tokens.tilde,_:N0.tokens.underscore,"^":N0.tokens.xor,"+=":N0.tokens.plus_equal,"-=":N0.tokens.minus_equal,"*=":N0.tokens.times_equal,"/=":N0.tokens.division_equal,"%=":N0.tokens.modulo_equal,"&=":N0.tokens.and_equal,"|=":N0.tokens.or_equal,"^=":N0.tokens.xor_equal,">>=":N0.tokens.shift_right_equal,"<<=":N0.tokens.shift_left_equal},l.regexTokens={decimal_float_literal:N0.tokens.decimal_float_literal,hex_float_literal:N0.tokens.hex_float_literal,int_literal:N0.tokens.int_literal,uint_literal:N0.tokens.uint_literal,ident:N0.tokens.ident},l.storage_class=[N0.keywords.function,N0.keywords.private,N0.keywords.workgroup,N0.keywords.uniform,N0.keywords.storage],l.access_mode=[N0.keywords.read,N0.keywords.write,N0.keywords.read_write],l.sampler_type=[N0.keywords.sampler,N0.keywords.sampler_comparison],l.sampled_texture_type=[N0.keywords.texture_1d,N0.keywords.texture_2d,N0.keywords.texture_2d_array,N0.keywords.texture_3d,N0.keywords.texture_cube,N0.keywords.texture_cube_array],l.multisampled_texture_type=[N0.keywords.texture_multisampled_2d],l.storage_texture_type=[N0.keywords.texture_storage_1d,N0.keywords.texture_storage_2d,N0.keywords.texture_storage_2d_array,N0.keywords.texture_storage_3d],l.depth_texture_type=[N0.keywords.texture_depth_2d,N0.keywords.texture_depth_2d_array,N0.keywords.texture_depth_cube,N0.keywords.texture_depth_cube_array,N0.keywords.texture_depth_multisampled_2d],l.texture_external_type=[N0.keywords.texture_external],l.any_texture_type=[...N0.sampled_texture_type,...N0.multisampled_texture_type,...N0.storage_texture_type,...N0.depth_texture_type,...N0.texture_external_type],l.texel_format=[N0.keywords.r8unorm,N0.keywords.r8snorm,N0.keywords.r8uint,N0.keywords.r8sint,N0.keywords.r16uint,N0.keywords.r16sint,N0.keywords.r16float,N0.keywords.rg8unorm,N0.keywords.rg8snorm,N0.keywords.rg8uint,N0.keywords.rg8sint,N0.keywords.r32uint,N0.keywords.r32sint,N0.keywords.r32float,N0.keywords.rg16uint,N0.keywords.rg16sint,N0.keywords.rg16float,N0.keywords.rgba8unorm,N0.keywords.rgba8unorm_srgb,N0.keywords.rgba8snorm,N0.keywords.rgba8uint,N0.keywords.rgba8sint,N0.keywords.bgra8unorm,N0.keywords.bgra8unorm_srgb,N0.keywords.rgb10a2unorm,N0.keywords.rg11b10float,N0.keywords.rg32uint,N0.keywords.rg32sint,N0.keywords.rg32float,N0.keywords.rgba16uint,N0.keywords.rgba16sint,N0.keywords.rgba16float,N0.keywords.rgba32uint,N0.keywords.rgba32sint,N0.keywords.rgba32float],l.const_literal=[N0.tokens.int_literal,N0.tokens.uint_literal,N0.tokens.decimal_float_literal,N0.tokens.hex_float_literal,N0.keywords.true,N0.keywords.false],l.literal_or_ident=[N0.tokens.ident,N0.tokens.int_literal,N0.tokens.uint_literal,N0.tokens.decimal_float_literal,N0.tokens.hex_float_literal,N0.tokens.name],l.element_count_expression=[N0.tokens.int_literal,N0.tokens.uint_literal,N0.tokens.ident],l.template_types=[N0.keywords.vec2,N0.keywords.vec3,N0.keywords.vec4,N0.keywords.mat2x2,N0.keywords.mat2x3,N0.keywords.mat2x4,N0.keywords.mat3x2,N0.keywords.mat3x3,N0.keywords.mat3x4,N0.keywords.mat4x2,N0.keywords.mat4x3,N0.keywords.mat4x4,N0.keywords.atomic,N0.keywords.bitcast,...N0.any_texture_type],l.attribute_name=[N0.tokens.ident,N0.keywords.block,N0.keywords.diagnostic],l.assignment_operators=[N0.tokens.equal,N0.tokens.plus_equal,N0.tokens.minus_equal,N0.tokens.times_equal,N0.tokens.division_equal,N0.tokens.modulo_equal,N0.tokens.and_equal,N0.tokens.or_equal,N0.tokens.xor_equal,N0.tokens.shift_right_equal,N0.tokens.shift_left_equal],l.increment_operators=[N0.tokens.plus_plus,N0.tokens.minus_minus];class cc{constructor($,Q,J,K,Y){this.type=$,this.lexeme=Q,this.line=J,this.start=K,this.end=Y}toString(){return this.lexeme}isTemplateType(){return l.template_types.indexOf(this.type)!=-1}isArrayType(){return this.type==l.keywords.array}isArrayOrTemplateType(){return this.isArrayType()||this.isTemplateType()}}class aF0{constructor($){this._tokens=[],this._start=0,this._current=0,this._line=1,this._source=$!=null?$:""}scanTokens(){for(;!this._isAtEnd();)if(this._start=this._current,!this.scanToken())throw`Invalid syntax at line ${this._line}`;return this._tokens.push(new cc(l.eof,"",this._line,this._current,this._current)),this._tokens}scanToken(){let $=this._advance();if($==`
`)return this._line++,!0;if(this._isWhitespace($))return!0;if($=="/"){if(this._peekAhead()=="/"){for(;$!=`
`;){if(this._isAtEnd())return!0;$=this._advance()}return this._line++,!0}if(this._peekAhead()=="*"){this._advance();let q=1;for(;q>0;){if(this._isAtEnd())return!0;if($=this._advance(),$==`
`)this._line++;else if($=="*"){if(this._peekAhead()=="/"&&(this._advance(),q--,q==0))return!0}else $=="/"&&this._peekAhead()=="*"&&(this._advance(),q++)}return!0}}let Q=l.simpleTokens[$];if(Q)return this._addToken(Q),!0;let J=l.none,K=this._isAlpha($),Y=$==="_";if(this._isAlphaNumeric($)){let q=this._peekAhead();for(;this._isAlphaNumeric(q);)$+=this._advance(),q=this._peekAhead()}if(K){let q=l.keywords[$];if(q)return this._addToken(q),!0}if(K||Y)return this._addToken(l.tokens.ident),!0;for(;;){let q=this._findType($),Z=this._peekAhead();if($=="-"&&this._tokens.length>0){if(Z=="=")return this._current++,$+=Z,this._addToken(l.tokens.minus_equal),!0;if(Z=="-")return this._current++,$+=Z,this._addToken(l.tokens.minus_minus),!0;let X=this._tokens.length-1;if((l.literal_or_ident.indexOf(this._tokens[X].type)!=-1||this._tokens[X].type==l.tokens.paren_right)&&Z!=">")return this._addToken(q),!0}if($==">"&&(Z==">"||Z=="=")){let X=!1,W=this._tokens.length-1;for(let F=0;F<5&&W>=0&&l.assignment_operators.indexOf(this._tokens[W].type)===-1;++F,--W)if(this._tokens[W].type===l.tokens.less_than){W>0&&this._tokens[W-1].isArrayOrTemplateType()&&(X=!0);break}if(X)return this._addToken(q),!0}if(q===l.none){let X=$,W=0,F=2;for(let H=0;H<F;++H)if(X+=this._peekAhead(H),q=this._findType(X),q!==l.none){W=H;break}if(q===l.none)return J!==l.none&&(this._current--,this._addToken(J),!0);$=X,this._current+=W+1}if(J=q,this._isAtEnd())break;$+=this._advance()}return J!==l.none&&(this._addToken(J),!0)}_findType($){for(let J in l.regexTokens){let K=l.regexTokens[J];if(this._match($,K.rule))return K}return l.literalTokens[$]||l.none}_match($,Q){let J=Q.exec($);return J&&J.index==0&&J[0]==$}_isAtEnd(){return this._current>=this._source.length}_isAlpha($){return!this._isNumeric($)&&!this._isWhitespace($)&&$!=="_"&&$!=="."&&$!=="("&&$!==")"&&$!=="["&&$!=="]"&&$!=="{"&&$!=="}"&&$!==","&&$!==";"&&$!==":"&&$!=="="&&$!=="!"&&$!=="<"&&$!==">"&&$!=="+"&&$!=="-"&&$!=="*"&&$!=="/"&&$!=="%"&&$!=="&"&&$!=="|"&&$!=="^"&&$!=="~"&&$!=="@"&&$!=="#"&&$!=="?"&&$!=="'"&&$!=="`"&&$!=='"'&&$!=="\\"&&$!==`
`&&$!=="\r"&&$!=="\t"&&$!=="\x00"}_isNumeric($){return $>="0"&&$<="9"}_isAlphaNumeric($){return this._isAlpha($)||this._isNumeric($)||$==="_"}_isWhitespace($){return $==" "||$=="\t"||$=="\r"}_advance($=0){let Q=this._source[this._current];return $=$||0,$++,this._current+=$,Q}_peekAhead($=0){return $=$||0,this._current+$>=this._source.length?"\x00":this._source[this._current+$]}_addToken($){let Q=this._source.substring(this._start,this._current);this._tokens.push(new cc($,Q,this._line,this._start,this._current))}}function q1($){return Array.isArray($)||($==null?void 0:$.buffer)instanceof ArrayBuffer}var zP=new Float32Array(1),$01=new Uint32Array(zP.buffer),Q01=new Uint32Array(zP.buffer),AP=new Int32Array(1),J01=new Float32Array(AP.buffer),K01=new Uint32Array(AP.buffer),VP=new Uint32Array(1),Y01=new Float32Array(VP.buffer),q01=new Int32Array(VP.buffer);function bF0($,Q,J){if(Q===J)return $;if(Q==="f32"){if(J==="i32"||J==="x32")return zP[0]=$,$01[0];if(J==="u32")return zP[0]=$,Q01[0]}else if(Q==="i32"||Q==="x32"){if(J==="f32")return AP[0]=$,J01[0];if(J==="u32")return AP[0]=$,K01[0]}else if(Q==="u32"){if(J==="f32")return VP[0]=$,Y01[0];if(J==="i32"||J==="x32")return VP[0]=$,q01[0]}return console.error(`Unsupported cast from ${Q} to ${J}`),$}class tF0{constructor($){this.resources=null,this.inUse=!1,this.info=null,this.node=$}}class EV{constructor($,Q){this.align=$,this.size=Q}}class WJ{constructor(){this.uniforms=[],this.storage=[],this.textures=[],this.samplers=[],this.aliases=[],this.overrides=[],this.structs=[],this.entry=new mF0,this.functions=[],this._types=new Map,this._functions=new Map}_isStorageTexture($){return $.name=="texture_storage_1d"||$.name=="texture_storage_2d"||$.name=="texture_storage_2d_array"||$.name=="texture_storage_3d"}updateAST($){for(let Q of $)Q instanceof PH&&this._functions.set(Q.name,new tF0(Q));for(let Q of $)if(Q instanceof ZJ){let J=this.getTypeInfo(Q,null);J instanceof yK&&this.structs.push(J)}for(let Q of $)if(Q instanceof wP)this.aliases.push(this._getAliasInfo(Q));else{if(Q instanceof RP){let J=Q,K=this._getAttributeNum(J.attributes,"id",0),Y=J.type!=null?this.getTypeInfo(J.type,J.attributes):null;this.overrides.push(new xF0(J.name,Y,J.attributes,K));continue}if(this._isUniformVar(Q)){let J=Q,K=this._getAttributeNum(J.attributes,"group",0),Y=this._getAttributeNum(J.attributes,"binding",0),q=this.getTypeInfo(J.type,J.attributes),Z=new kV(J.name,q,K,Y,J.attributes,rq.Uniform,J.access);Z.access||(Z.access="read"),this.uniforms.push(Z);continue}if(this._isStorageVar(Q)){let J=Q,K=this._getAttributeNum(J.attributes,"group",0),Y=this._getAttributeNum(J.attributes,"binding",0),q=this.getTypeInfo(J.type,J.attributes),Z=this._isStorageTexture(q),X=new kV(J.name,q,K,Y,J.attributes,Z?rq.StorageTexture:rq.Storage,J.access);X.access||(X.access="read"),this.storage.push(X);continue}if(this._isTextureVar(Q)){let J=Q,K=this._getAttributeNum(J.attributes,"group",0),Y=this._getAttributeNum(J.attributes,"binding",0),q=this.getTypeInfo(J.type,J.attributes),Z=this._isStorageTexture(q),X=new kV(J.name,q,K,Y,J.attributes,Z?rq.StorageTexture:rq.Texture,J.access);X.access||(X.access="read"),Z?this.storage.push(X):this.textures.push(X);continue}if(this._isSamplerVar(Q)){let J=Q,K=this._getAttributeNum(J.attributes,"group",0),Y=this._getAttributeNum(J.attributes,"binding",0),q=this.getTypeInfo(J.type,J.attributes),Z=new kV(J.name,q,K,Y,J.attributes,rq.Sampler,J.access);this.samplers.push(Z);continue}}for(let Q of $)if(Q instanceof PH){let J=this._getAttribute(Q,"vertex"),K=this._getAttribute(Q,"fragment"),Y=this._getAttribute(Q,"compute"),q=J||K||Y,Z=new uF0(Q.name,q==null?void 0:q.name,Q.attributes);Z.attributes=Q.attributes,Z.startLine=Q.startLine,Z.endLine=Q.endLine,this.functions.push(Z),this._functions.get(Q.name).info=Z,q&&(this._functions.get(Q.name).inUse=!0,Z.inUse=!0,Z.resources=this._findResources(Q,!!q),Z.inputs=this._getInputs(Q.args),Z.outputs=this._getOutputs(Q.returnType),this.entry[q.name].push(Z)),Z.arguments=Q.args.map((X)=>new cF0(X.name,this.getTypeInfo(X.type,X.attributes),X.attributes)),Z.returnType=Q.returnType?this.getTypeInfo(Q.returnType,Q.attributes):null;continue}for(let Q of this._functions.values())Q.info&&(Q.info.inUse=Q.inUse,this._addCalls(Q.node,Q.info.calls));for(let Q of this._functions.values())Q.node.search((J)=>{var K,Y,q;if(J instanceof qu){if(J.value)if(q1(J.value))for(let Z of J.value)for(let X of this.overrides)Z===X.name&&((K=Q.info)===null||K===void 0||K.overrides.push(X));else for(let Z of this.overrides)J.value===Z.name&&((Y=Q.info)===null||Y===void 0||Y.overrides.push(Z))}else if(J instanceof m4)for(let Z of this.overrides)J.name===Z.name&&((q=Q.info)===null||q===void 0||q.overrides.push(Z))});for(let Q of this.uniforms)this._markStructsInUse(Q.type);for(let Q of this.storage)this._markStructsInUse(Q.type)}getFunctionInfo($){for(let Q of this.functions)if(Q.name==$)return Q;return null}getStructInfo($){for(let Q of this.structs)if(Q.name==$)return Q;return null}getOverrideInfo($){for(let Q of this.overrides)if(Q.name==$)return Q;return null}_markStructsInUse($){if($)if($.isStruct){if($.inUse=!0,$.members)for(let Q of $.members)this._markStructsInUse(Q.type)}else if($.isArray)this._markStructsInUse($.format);else if($.isTemplate)$.format&&this._markStructsInUse($.format);else{let Q=this._getAlias($.name);Q&&this._markStructsInUse(Q)}}_addCalls($,Q){var J;for(let K of $.calls){let Y=(J=this._functions.get(K.name))===null||J===void 0?void 0:J.info;Y&&Q.add(Y)}}findResource($,Q,J){if(J){for(let K of this.entry.compute)if(K.name===J){for(let Y of K.resources)if(Y.group==$&&Y.binding==Q)return Y}for(let K of this.entry.vertex)if(K.name===J){for(let Y of K.resources)if(Y.group==$&&Y.binding==Q)return Y}for(let K of this.entry.fragment)if(K.name===J){for(let Y of K.resources)if(Y.group==$&&Y.binding==Q)return Y}}for(let K of this.uniforms)if(K.group==$&&K.binding==Q)return K;for(let K of this.storage)if(K.group==$&&K.binding==Q)return K;for(let K of this.textures)if(K.group==$&&K.binding==Q)return K;for(let K of this.samplers)if(K.group==$&&K.binding==Q)return K;return null}_findResource($){for(let Q of this.uniforms)if(Q.name==$)return Q;for(let Q of this.storage)if(Q.name==$)return Q;for(let Q of this.textures)if(Q.name==$)return Q;for(let Q of this.samplers)if(Q.name==$)return Q;return null}_markStructsFromAST($){let Q=this.getTypeInfo($,null);this._markStructsInUse(Q)}_findResources($,Q){let J=[],K=this,Y=[];return $.search((q)=>{if(q instanceof SV)Y.push({});else if(q instanceof _V)Y.pop();else if(q instanceof XJ){let Z=q;Q&&Z.type!==null&&this._markStructsFromAST(Z.type),Y.length>0&&(Y[Y.length-1][Z.name]=Z)}else if(q instanceof g$){let Z=q;Q&&Z.type!==null&&this._markStructsFromAST(Z.type)}else if(q instanceof DH){let Z=q;Q&&Z.type!==null&&this._markStructsFromAST(Z.type),Y.length>0&&(Y[Y.length-1][Z.name]=Z)}else if(q instanceof m4){let Z=q;if(Y.length>0){if(Y[Y.length-1][Z.name])return}let X=K._findResource(Z.name);X&&J.push(X)}else if(q instanceof OP){let Z=q,X=K._functions.get(Z.name);X&&(Q&&(X.inUse=!0),$.calls.add(X.node),X.resources===null&&(X.resources=K._findResources(X.node,Q)),J.push(...X.resources))}else if(q instanceof GP){let Z=q,X=K._functions.get(Z.name);X&&(Q&&(X.inUse=!0),$.calls.add(X.node),X.resources===null&&(X.resources=K._findResources(X.node,Q)),J.push(...X.resources))}}),[...new Map(J.map((q)=>[q.name,q])).values()]}getBindGroups(){let $=[];function Q(J,K){J>=$.length&&($.length=J+1),$[J]===void 0&&($[J]=[]),K>=$[J].length&&($[J].length=K+1)}for(let J of this.uniforms)Q(J.group,J.binding),$[J.group][J.binding]=J;for(let J of this.storage)Q(J.group,J.binding),$[J.group][J.binding]=J;for(let J of this.textures)Q(J.group,J.binding),$[J.group][J.binding]=J;for(let J of this.samplers)Q(J.group,J.binding),$[J.group][J.binding]=J;return $}_getOutputs($,Q=void 0){if(Q===void 0&&(Q=[]),$ instanceof ZJ)this._getStructOutputs($,Q);else{let J=this._getOutputInfo($);J!==null&&Q.push(J)}return Q}_getStructOutputs($,Q){for(let J of $.members)if(J.type instanceof ZJ)this._getStructOutputs(J.type,Q);else{let K=this._getAttribute(J,"location")||this._getAttribute(J,"builtin");if(K!==null){let Y=this.getTypeInfo(J.type,J.type.attributes),q=this._parseInt(K.value),Z=new bc(J.name,Y,K.name,q);Q.push(Z)}}}_getOutputInfo($){let Q=this._getAttribute($,"location")||this._getAttribute($,"builtin");if(Q!==null){let J=this.getTypeInfo($,$.attributes),K=this._parseInt(Q.value);return new bc("",J,Q.name,K)}return null}_getInputs($,Q=void 0){Q===void 0&&(Q=[]);for(let J of $)if(J.type instanceof ZJ)this._getStructInputs(J.type,Q);else{let K=this._getInputInfo(J);K!==null&&Q.push(K)}return Q}_getStructInputs($,Q){for(let J of $.members)if(J.type instanceof ZJ)this._getStructInputs(J.type,Q);else{let K=this._getInputInfo(J);K!==null&&Q.push(K)}}_getInputInfo($){let Q=this._getAttribute($,"location")||this._getAttribute($,"builtin");if(Q!==null){let J=this._getAttribute($,"interpolation"),K=this.getTypeInfo($.type,$.attributes),Y=this._parseInt(Q.value),q=new yF0($.name,K,Q.name,Y);return J!==null&&(q.interpolation=this._parseString(J.value)),q}return null}_parseString($){return $ instanceof Array&&($=$[0]),$}_parseInt($){$ instanceof Array&&($=$[0]);let Q=parseInt($);return isNaN(Q)?$:Q}_getAlias($){for(let Q of this.aliases)if(Q.name==$)return Q.type;return null}_getAliasInfo($){return new gF0($.name,this.getTypeInfo($.type,null))}getTypeInfoByName($){for(let Q of this.structs)if(Q.name==$)return Q;for(let Q of this.aliases)if(Q.name==$)return Q.type;return null}getTypeInfo($,Q=null){if(this._types.has($))return this._types.get($);if($ instanceof hV){let K=$.type?this.getTypeInfo($.type,$.attributes):null,Y=new HP($.name,K,Q);return this._types.set($,Y),this._updateTypeInfo(Y),Y}if($ instanceof CH){let K=$,Y=K.format?this.getTypeInfo(K.format,K.attributes):null,q=new xK(K.name,Q);return q.format=Y,q.count=K.count,this._types.set($,q),this._updateTypeInfo(q),q}if($ instanceof ZJ){let K=$,Y=new yK(K.name,Q);Y.startLine=K.startLine,Y.endLine=K.endLine;for(let q of K.members){let Z=this.getTypeInfo(q.type,q.attributes);Y.members.push(new Mc(q.name,Z,q.attributes))}return this._types.set($,Y),this._updateTypeInfo(Y),Y}if($ instanceof TH){let K=$,Y=K.format instanceof M0,q=K.format?Y?this.getTypeInfo(K.format,null):new S9(K.format,null):null,Z=new iq(K.name,q,Q,K.access);return this._types.set($,Z),this._updateTypeInfo(Z),Z}if($ instanceof U0){let K=$,Y=K.format?this.getTypeInfo(K.format,null):null,q=new iq(K.name,Y,Q,K.access);return this._types.set($,q),this._updateTypeInfo(q),q}let J=new S9($.name,Q);return this._types.set($,J),this._updateTypeInfo(J),J}_updateTypeInfo($){var Q,J,K;let Y=this._getTypeSize($);if($.size=(Q=Y==null?void 0:Y.size)!==null&&Q!==void 0?Q:0,$ instanceof xK&&$.format){let q=this._getTypeSize($.format);$.stride=Math.max((J=q==null?void 0:q.size)!==null&&J!==void 0?J:0,(K=q==null?void 0:q.align)!==null&&K!==void 0?K:0),this._updateTypeInfo($.format)}$ instanceof HP&&this._updateTypeInfo($.format),$ instanceof yK&&this._updateStructInfo($)}_updateStructInfo($){var Q;let J=0,K=0,Y=0,q=0;for(let Z=0,X=$.members.length;Z<X;++Z){let W=$.members[Z],F=this._getTypeSize(W);if(!F)continue;(Q=this._getAlias(W.type.name))!==null&&Q!==void 0||W.type;let{align:H,size:B}=F;J=this._roundUp(H,J+K),K=B,Y=J,q=Math.max(q,H),W.offset=J,W.size=B,this._updateTypeInfo(W.type)}$.size=this._roundUp(q,Y+K),$.align=q}_getTypeSize($){var Q,J;if($==null)return null;let K=this._getAttributeNum($.attributes,"size",0),Y=this._getAttributeNum($.attributes,"align",0);if($ instanceof Mc&&($=$.type),$ instanceof S9){let q=this._getAlias($.name);q!==null&&($=q)}{let q=WJ._typeInfo[$.name];if(q!==void 0){let Z=((Q=$.format)===null||Q===void 0?void 0:Q.name)==="f16"?2:1;return new EV(Math.max(Y,q.align/Z),Math.max(K,q.size/Z))}}{let q=WJ._typeInfo[$.name.substring(0,$.name.length-1)];if(q){let Z=$.name[$.name.length-1]==="h"?2:1;return new EV(Math.max(Y,q.align/Z),Math.max(K,q.size/Z))}}if($ instanceof xK){let q=$,Z=8,X=8,W=this._getTypeSize(q.format);return W!==null&&(X=W.size,Z=W.align),X=q.count*this._getAttributeNum((J=$==null?void 0:$.attributes)!==null&&J!==void 0?J:null,"stride",this._roundUp(Z,X)),K&&(X=K),new EV(Math.max(Y,Z),Math.max(K,X))}if($ instanceof yK){let q=0,Z=0,X=0,W=0,F=0;for(let H of $.members){let B=this._getTypeSize(H.type);B!==null&&(q=Math.max(B.align,q),X=this._roundUp(B.align,X+W),W=B.size,F=X)}return Z=this._roundUp(q,F+W),new EV(Math.max(Y,q),Math.max(K,Z))}return null}_isUniformVar($){return $ instanceof XJ&&$.storage=="uniform"}_isStorageVar($){return $ instanceof XJ&&$.storage=="storage"}_isTextureVar($){return $ instanceof XJ&&$.type!==null&&WJ._textureTypes.indexOf($.type.name)!=-1}_isSamplerVar($){return $ instanceof XJ&&$.type!==null&&WJ._samplerTypes.indexOf($.type.name)!=-1}_getAttribute($,Q){let J=$;if(!J||!J.attributes)return null;let K=J.attributes;for(let Y of K)if(Y.name==Q)return Y;return null}_getAttributeNum($,Q,J){if($===null)return J;for(let K of $)if(K.name==Q){let Y=K!==null&&K.value!==null?K.value:J;return Y instanceof Array&&(Y=Y[0]),typeof Y=="number"?Y:typeof Y=="string"?parseInt(Y):J}return J}_roundUp($,Q){return Math.ceil(Q/$)*$}}WJ._typeInfo={f16:{align:2,size:2},i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},atomic:{align:4,size:4},vec2:{align:8,size:8},vec3:{align:16,size:12},vec4:{align:16,size:16},mat2x2:{align:8,size:16},mat3x2:{align:8,size:24},mat4x2:{align:8,size:32},mat2x3:{align:16,size:32},mat3x3:{align:16,size:48},mat4x3:{align:16,size:64},mat2x4:{align:16,size:32},mat3x4:{align:16,size:48},mat4x4:{align:16,size:64}},WJ._textureTypes=l.any_texture_type.map(($)=>$.name),WJ._samplerTypes=l.sampler_type.map(($)=>$.name);var Zu=0;class Xu{constructor($,Q,J){this.id=Zu++,this.name=$,this.value=Q,this.node=J}clone(){return new Xu(this.name,this.value,this.node)}}class Wu{constructor($){this.id=Zu++,this.name=$.name,this.node=$}clone(){return new Wu(this.node)}}class Fu{constructor($){this.parent=null,this.variables=new Map,this.functions=new Map,this.currentFunctionName="",this.id=Zu++,$&&(this.parent=$,this.currentFunctionName=$.currentFunctionName)}getVariable($){var Q;return this.variables.has($)?(Q=this.variables.get($))!==null&&Q!==void 0?Q:null:this.parent?this.parent.getVariable($):null}getFunction($){var Q;return this.functions.has($)?(Q=this.functions.get($))!==null&&Q!==void 0?Q:null:this.parent?this.parent.getFunction($):null}createVariable($,Q,J){this.variables.set($,new Xu($,Q,J!=null?J:null))}setVariable($,Q,J){let K=this.getVariable($);K!==null?K.value=Q:this.createVariable($,Q,J)}getVariableValue($){var Q;let J=this.getVariable($);return(Q=J==null?void 0:J.value)!==null&&Q!==void 0?Q:null}clone(){return new Fu(this)}}class eF0{evalExpression($,Q){return null}getTypeInfo($){return null}getVariableName($,Q){return""}}class $U0{constructor($){this.exec=$}getTypeInfo($){return this.exec.getTypeInfo($)}All($,Q){let J=this.exec.evalExpression($.args[0],Q),K=!0;if(J instanceof s)return J.data.forEach((Y)=>{Y||(K=!1)}),new X0(K?1:0,this.getTypeInfo("bool"));throw Error(`All() expects a vector argument. Line ${$.line}`)}Any($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s){let K=J.data.some((Y)=>Y);return new X0(K?1:0,this.getTypeInfo("bool"))}throw Error(`Any() expects a vector argument. Line ${$.line}`)}Select($,Q){let J=this.exec.evalExpression($.args[2],Q);if(!(J instanceof X0))throw Error(`Select() expects a bool condition. Line ${$.line}`);return J.value?this.exec.evalExpression($.args[1],Q):this.exec.evalExpression($.args[0],Q)}ArrayLength($,Q){let J=$.args[0];J instanceof w7&&(J=J.right);let K=this.exec.evalExpression(J,Q);if(K instanceof X7&&K.typeInfo.size===0){let Y=K.typeInfo,q=K.buffer.byteLength/Y.stride;return new X0(q,this.getTypeInfo("u32"))}return new X0(K.typeInfo.size,this.getTypeInfo("u32"))}Abs($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.abs(Y)),J.typeInfo);let K=J;return new X0(Math.abs(K.value),K.typeInfo)}Acos($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.acos(Y)),J.typeInfo);return new X0(Math.acos(J.value),J.typeInfo)}Acosh($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.acosh(Y)),J.typeInfo);return new X0(Math.acosh(J.value),J.typeInfo)}Asin($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.asin(Y)),J.typeInfo);return new X0(Math.asin(J.value),J.typeInfo)}Asinh($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.asinh(Y)),J.typeInfo);return new X0(Math.asinh(J.value),J.typeInfo)}Atan($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.atan(Y)),J.typeInfo);return new X0(Math.atan(J.value),J.typeInfo)}Atanh($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.atanh(Y)),J.typeInfo);return new X0(Math.atanh(J.value),J.typeInfo)}Atan2($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q);if(J instanceof s&&K instanceof s)return new s(J.data.map((Z,X)=>Math.atan2(Z,K.data[X])),J.typeInfo);let Y=J,q=K;return new X0(Math.atan2(Y.value,q.value),J.typeInfo)}Ceil($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.ceil(Y)),J.typeInfo);return new X0(Math.ceil(J.value),J.typeInfo)}_clamp($,Q,J){return Math.min(Math.max($,Q),J)}Clamp($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q),Y=this.exec.evalExpression($.args[2],Q);if(J instanceof s&&K instanceof s&&Y instanceof s)return new s(J.data.map((W,F)=>this._clamp(W,K.data[F],Y.data[F])),J.typeInfo);let q=J,Z=K,X=Y;return new X0(this._clamp(q.value,Z.value,X.value),J.typeInfo)}Cos($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.cos(Y)),J.typeInfo);return new X0(Math.cos(J.value),J.typeInfo)}Cosh($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.cosh(Y)),J.typeInfo);return new X0(Math.cos(J.value),J.typeInfo)}CountLeadingZeros($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.clz32(Y)),J.typeInfo);return new X0(Math.clz32(J.value),J.typeInfo)}_countOneBits($){let Q=0;for(;$!==0;)1&$&&Q++,$>>=1;return Q}CountOneBits($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>this._countOneBits(Y)),J.typeInfo);let K=J;return new X0(this._countOneBits(K.value),J.typeInfo)}_countTrailingZeros($){if($===0)return 32;let Q=0;for(;!(1&$);)$>>=1,Q++;return Q}CountTrailingZeros($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>this._countTrailingZeros(Y)),J.typeInfo);let K=J;return new X0(this._countTrailingZeros(K.value),J.typeInfo)}Cross($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q);if(J instanceof s&&K instanceof s){if(J.data.length!==3||K.data.length!==3)return console.error(`Cross() expects 3D vectors. Line ${$.line}`),null;let Y=J.data,q=K.data;return new s([Y[1]*q[2]-q[1]*Y[2],Y[2]*q[0]-q[2]*Y[0],Y[0]*q[1]-q[0]*Y[1]],J.typeInfo)}return console.error(`Cross() expects vector arguments. Line ${$.line}`),null}Degrees($,Q){let J=this.exec.evalExpression($.args[0],Q),K=180/Math.PI;if(J instanceof s)return new s(J.data.map((Y)=>Y*K),J.typeInfo);return new X0(J.value*K,this.getTypeInfo("f32"))}Determinant($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof r1){let K=J.data,Y=J.typeInfo.getTypeName(),q=Y.endsWith("h")?this.getTypeInfo("f16"):this.getTypeInfo("f32");if(Y==="mat2x2"||Y==="mat2x2f"||Y==="mat2x2h")return new X0(K[0]*K[3]-K[1]*K[2],q);if(Y==="mat2x3"||Y==="mat2x3f"||Y==="mat2x3h")return new X0(K[0]*(K[4]*K[8]-K[5]*K[7])-K[1]*(K[3]*K[8]-K[5]*K[6])+K[2]*(K[3]*K[7]-K[4]*K[6]),q);if(Y==="mat2x4"||Y==="mat2x4f"||Y==="mat2x4h")console.error(`TODO: Determinant for ${Y}`);else if(Y==="mat3x2"||Y==="mat3x2f"||Y==="mat3x2h")console.error(`TODO: Determinant for ${Y}`);else{if(Y==="mat3x3"||Y==="mat3x3f"||Y==="mat3x3h")return new X0(K[0]*(K[4]*K[8]-K[5]*K[7])-K[1]*(K[3]*K[8]-K[5]*K[6])+K[2]*(K[3]*K[7]-K[4]*K[6]),q);Y==="mat3x4"||Y==="mat3x4f"||Y==="mat3x4h"||Y==="mat4x2"||Y==="mat4x2f"||Y==="mat4x2h"||Y==="mat4x3"||Y==="mat4x3f"||Y==="mat4x3h"?console.error(`TODO: Determinant for ${Y}`):Y!=="mat4x4"&&Y!=="mat4x4f"&&Y!=="mat4x4h"||console.error(`TODO: Determinant for ${Y}`)}}return console.error(`Determinant expects a matrix argument. Line ${$.line}`),null}Distance($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q);if(J instanceof s&&K instanceof s){let Z=0;for(let X=0;X<J.data.length;++X)Z+=(J.data[X]-K.data[X])*(J.data[X]-K.data[X]);return new X0(Math.sqrt(Z),this.getTypeInfo("f32"))}let Y=J,q=K;return new X0(Math.abs(Y.value-q.value),J.typeInfo)}_dot($,Q){let J=0;for(let K=0;K<$.length;++K)J+=Q[K]*$[K];return J}Dot($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q);return J instanceof s&&K instanceof s?new X0(this._dot(J.data,K.data),this.getTypeInfo("f32")):(console.error(`Dot() expects vector arguments. Line ${$.line}`),null)}Dot4U8Packed($,Q){return console.error(`TODO: dot4U8Packed. Line ${$.line}`),null}Dot4I8Packed($,Q){return console.error(`TODO: dot4I8Packed. Line ${$.line}`),null}Exp($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.exp(Y)),J.typeInfo);return new X0(Math.exp(J.value),J.typeInfo)}Exp2($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.pow(2,Y)),J.typeInfo);return new X0(Math.pow(2,J.value),J.typeInfo)}ExtractBits($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q),Y=this.exec.evalExpression($.args[2],Q);if(K.typeInfo.name!=="u32"&&K.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 offset argument. Line ${$.line}`),null;if(Y.typeInfo.name!=="u32"&&Y.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 count argument. Line ${$.line}`),null;let q=K.value,Z=Y.value;if(J instanceof s)return new s(J.data.map((W)=>W>>q&(1<<Z)-1),J.typeInfo);if(J.typeInfo.name!=="i32"&&J.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 argument. Line ${$.line}`),null;let X=J.value;return new X0(X>>q&(1<<Z)-1,this.getTypeInfo("i32"))}FaceForward($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q),Y=this.exec.evalExpression($.args[2],Q);if(J instanceof s&&K instanceof s&&Y instanceof s){let q=this._dot(K.data,Y.data);return new s(q<0?Array.from(J.data):J.data.map((Z)=>-Z),J.typeInfo)}return console.error(`FaceForward() expects vector arguments. Line ${$.line}`),null}_firstLeadingBit($){return $===0?-1:31-Math.clz32($)}FirstLeadingBit($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>this._firstLeadingBit(Y)),J.typeInfo);let K=J;return new X0(this._firstLeadingBit(K.value),J.typeInfo)}_firstTrailingBit($){return $===0?-1:Math.log2($&-$)}FirstTrailingBit($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>this._firstTrailingBit(Y)),J.typeInfo);let K=J;return new X0(this._firstTrailingBit(K.value),J.typeInfo)}Floor($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.floor(Y)),J.typeInfo);return new X0(Math.floor(J.value),J.typeInfo)}Fma($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q),Y=this.exec.evalExpression($.args[2],Q);if(J instanceof s&&K instanceof s&&Y instanceof s)return J.data.length!==K.data.length||J.data.length!==Y.data.length?(console.error(`Fma() expects vectors of the same length. Line ${$.line}`),null):new s(J.data.map((W,F)=>W*K.data[F]+Y.data[F]),J.typeInfo);let q=J,Z=K,X=Y;return new X0(q.value*Z.value+X.value,q.typeInfo)}Fract($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Y-Math.floor(Y)),J.typeInfo);let K=J;return new X0(K.value-Math.floor(K.value),J.typeInfo)}Frexp($,Q){return console.error(`TODO: frexp. Line ${$.line}`),null}InsertBits($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q),Y=this.exec.evalExpression($.args[2],Q),q=this.exec.evalExpression($.args[3],Q);if(Y.typeInfo.name!=="u32"&&Y.typeInfo.name!=="x32")return console.error(`InsertBits() expects an i32 offset argument. Line ${$.line}`),null;let Z=Y.value,X=(1<<q.value)-1<<Z,W=~X;if(J instanceof s&&K instanceof s)return new s(J.data.map((B,z)=>B&W|K.data[z]<<Z&X),J.typeInfo);let F=J.value,H=K.value;return new X0(F&W|H<<Z&X,J.typeInfo)}InverseSqrt($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>1/Math.sqrt(Y)),J.typeInfo);return new X0(1/Math.sqrt(J.value),J.typeInfo)}Ldexp($,Q){return console.error(`TODO: ldexp. Line ${$.line}`),null}Length($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s){let Y=0;return J.data.forEach((q)=>{Y+=q*q}),new X0(Math.sqrt(Y),this.getTypeInfo("f32"))}return new X0(Math.abs(J.value),J.typeInfo)}Log($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.log(Y)),J.typeInfo);return new X0(Math.log(J.value),J.typeInfo)}Log2($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.log2(Y)),J.typeInfo);return new X0(Math.log2(J.value),J.typeInfo)}Max($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q);if(J instanceof s&&K instanceof s)return new s(J.data.map((Z,X)=>Math.max(Z,K.data[X])),J.typeInfo);let Y=J,q=K;return new X0(Math.max(Y.value,q.value),J.typeInfo)}Min($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q);if(J instanceof s&&K instanceof s)return new s(J.data.map((Z,X)=>Math.min(Z,K.data[X])),J.typeInfo);let Y=J,q=K;return new X0(Math.min(Y.value,q.value),J.typeInfo)}Mix($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q),Y=this.exec.evalExpression($.args[2],Q);if(J instanceof s&&K instanceof s&&Y instanceof s)return new s(J.data.map((X,W)=>J.data[W]*(1-Y.data[W])+K.data[W]*Y.data[W]),J.typeInfo);let q=K,Z=Y;return new X0(J.value*(1-Z.value)+q.value*Z.value,J.typeInfo)}Modf($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q);if(J instanceof s&&K instanceof s)return new s(J.data.map((q,Z)=>q%K.data[Z]),J.typeInfo);let Y=K;return new X0(J.value%Y.value,J.typeInfo)}Normalize($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s){let K=this.Length($,Q).value;return new s(J.data.map((Y)=>Y/K),J.typeInfo)}return console.error(`Normalize() expects a vector argument. Line ${$.line}`),null}Pow($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q);if(J instanceof s&&K instanceof s)return new s(J.data.map((Z,X)=>Math.pow(Z,K.data[X])),J.typeInfo);let Y=J,q=K;return new X0(Math.pow(Y.value,q.value),J.typeInfo)}QuantizeToF16($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((K)=>K),J.typeInfo);return new X0(J.value,J.typeInfo)}Radians($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((K)=>K*Math.PI/180),J.typeInfo);return new X0(J.value*Math.PI/180,this.getTypeInfo("f32"))}Reflect($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q);if(J instanceof s&&K instanceof s){let Y=this._dot(J.data,K.data);return new s(J.data.map((q,Z)=>q-2*Y*K.data[Z]),J.typeInfo)}return console.error(`Reflect() expects vector arguments. Line ${$.line}`),null}Refract($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q),Y=this.exec.evalExpression($.args[2],Q);if(J instanceof s&&K instanceof s&&Y instanceof X0){let q=this._dot(K.data,J.data);return new s(J.data.map((Z,X)=>{let W=1-Y.value*Y.value*(1-q*q);if(W<0)return 0;let F=Math.sqrt(W);return Y.value*Z-(Y.value*q+F)*K.data[X]}),J.typeInfo)}return console.error(`Refract() expects vector arguments and a scalar argument. Line ${$.line}`),null}ReverseBits($,Q){return console.error(`TODO: reverseBits. Line ${$.line}`),null}Round($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.round(Y)),J.typeInfo);return new X0(Math.round(J.value),J.typeInfo)}Saturate($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.min(Math.max(Y,0),1)),J.typeInfo);return new X0(Math.min(Math.max(J.value,0),1),J.typeInfo)}Sign($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.sign(Y)),J.typeInfo);return new X0(Math.sign(J.value),J.typeInfo)}Sin($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.sin(Y)),J.typeInfo);return new X0(Math.sin(J.value),J.typeInfo)}Sinh($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.sinh(Y)),J.typeInfo);return new X0(Math.sinh(J.value),J.typeInfo)}_smoothstep($,Q,J){let K=Math.min(Math.max((J-$)/(Q-$),0),1);return K*K*(3-2*K)}SmoothStep($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q),Y=this.exec.evalExpression($.args[2],Q);if(Y instanceof s&&J instanceof s&&K instanceof s)return new s(Y.data.map((W,F)=>this._smoothstep(J.data[F],K.data[F],W)),Y.typeInfo);let q=J,Z=K,X=Y;return new X0(this._smoothstep(q.value,Z.value,X.value),Y.typeInfo)}Sqrt($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.sqrt(Y)),J.typeInfo);return new X0(Math.sqrt(J.value),J.typeInfo)}Step($,Q){let J=this.exec.evalExpression($.args[0],Q),K=this.exec.evalExpression($.args[1],Q);if(K instanceof s&&J instanceof s)return new s(K.data.map((q,Z)=>q<J.data[Z]?0:1),K.typeInfo);let Y=J;return new X0(K.value<Y.value?0:1,Y.typeInfo)}Tan($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.tan(Y)),J.typeInfo);return new X0(Math.tan(J.value),J.typeInfo)}Tanh($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.tanh(Y)),J.typeInfo);return new X0(Math.tanh(J.value),J.typeInfo)}_getTransposeType($){let Q=$.getTypeName();return Q==="mat2x2f"||Q==="mat2x2h"?$:Q==="mat2x3f"?this.getTypeInfo("mat3x2f"):Q==="mat2x3h"?this.getTypeInfo("mat3x2h"):Q==="mat2x4f"?this.getTypeInfo("mat4x2f"):Q==="mat2x4h"?this.getTypeInfo("mat4x2h"):Q==="mat3x2f"?this.getTypeInfo("mat2x3f"):Q==="mat3x2h"?this.getTypeInfo("mat2x3h"):Q==="mat3x3f"||Q==="mat3x3h"?$:Q==="mat3x4f"?this.getTypeInfo("mat4x3f"):Q==="mat3x4h"?this.getTypeInfo("mat4x3h"):Q==="mat4x2f"?this.getTypeInfo("mat2x4f"):Q==="mat4x2h"?this.getTypeInfo("mat2x4h"):Q==="mat4x3f"?this.getTypeInfo("mat3x4f"):Q==="mat4x3h"?this.getTypeInfo("mat3x4h"):(Q==="mat4x4f"||Q==="mat4x4h"||console.error(`Invalid matrix type ${Q}`),$)}Transpose($,Q){let J=this.exec.evalExpression($.args[0],Q);if(!(J instanceof r1))return console.error(`Transpose() expects a matrix argument. Line ${$.line}`),null;let K=this._getTransposeType(J.typeInfo);if(J.typeInfo.name==="mat2x2"||J.typeInfo.name==="mat2x2f"||J.typeInfo.name==="mat2x2h"){let Y=J.data;return new r1([Y[0],Y[2],Y[1],Y[3]],K)}if(J.typeInfo.name==="mat2x3"||J.typeInfo.name==="mat2x3f"||J.typeInfo.name==="mat2x3h"){let Y=J.data;return new r1([Y[0],Y[3],Y[6],Y[1],Y[4],Y[7]],K)}if(J.typeInfo.name==="mat2x4"||J.typeInfo.name==="mat2x4f"||J.typeInfo.name==="mat2x4h"){let Y=J.data;return new r1([Y[0],Y[4],Y[8],Y[12],Y[1],Y[5],Y[9],Y[13]],K)}if(J.typeInfo.name==="mat3x2"||J.typeInfo.name==="mat3x2f"||J.typeInfo.name==="mat3x2h"){let Y=J.data;return new r1([Y[0],Y[3],Y[1],Y[4],Y[2],Y[5]],K)}if(J.typeInfo.name==="mat3x3"||J.typeInfo.name==="mat3x3f"||J.typeInfo.name==="mat3x3h"){let Y=J.data;return new r1([Y[0],Y[3],Y[6],Y[1],Y[4],Y[7],Y[2],Y[5],Y[8]],K)}if(J.typeInfo.name==="mat3x4"||J.typeInfo.name==="mat3x4f"||J.typeInfo.name==="mat3x4h"){let Y=J.data;return new r1([Y[0],Y[4],Y[8],Y[12],Y[1],Y[5],Y[9],Y[13],Y[2],Y[6],Y[10],Y[14]],K)}if(J.typeInfo.name==="mat4x2"||J.typeInfo.name==="mat4x2f"||J.typeInfo.name==="mat4x2h"){let Y=J.data;return new r1([Y[0],Y[4],Y[1],Y[5],Y[2],Y[6]],K)}if(J.typeInfo.name==="mat4x3"||J.typeInfo.name==="mat4x3f"||J.typeInfo.name==="mat4x3h"){let Y=J.data;return new r1([Y[0],Y[4],Y[8],Y[1],Y[5],Y[9],Y[2],Y[6],Y[10]],K)}if(J.typeInfo.name==="mat4x4"||J.typeInfo.name==="mat4x4f"||J.typeInfo.name==="mat4x4h"){let Y=J.data;return new r1([Y[0],Y[4],Y[8],Y[12],Y[1],Y[5],Y[9],Y[13],Y[2],Y[6],Y[10],Y[14],Y[3],Y[7],Y[11],Y[15]],K)}return console.error(`Invalid matrix type ${J.typeInfo.name}`),null}Trunc($,Q){let J=this.exec.evalExpression($.args[0],Q);if(J instanceof s)return new s(J.data.map((Y)=>Math.trunc(Y)),J.typeInfo);return new X0(Math.trunc(J.value),J.typeInfo)}Dpdx($,Q){return console.error(`TODO: dpdx. Line ${$.line}`),null}DpdxCoarse($,Q){return console.error(`TODO: dpdxCoarse. Line ${$.line}`),null}DpdxFine($,Q){return console.error("TODO: dpdxFine"),null}Dpdy($,Q){return console.error("TODO: dpdy"),null}DpdyCoarse($,Q){return console.error("TODO: dpdyCoarse"),null}DpdyFine($,Q){return console.error("TODO: dpdyFine"),null}Fwidth($,Q){return console.error("TODO: fwidth"),null}FwidthCoarse($,Q){return console.error("TODO: fwidthCoarse"),null}FwidthFine($,Q){return console.error("TODO: fwidthFine"),null}TextureDimensions($,Q){let J=$.args[0],K=$.args.length>1?this.exec.evalExpression($.args[1],Q).value:0;if(J instanceof m4){let Y=J.name,q=Q.getVariableValue(Y);if(q instanceof gK){if(K<0||K>=q.mipLevelCount)return console.error(`Invalid mip level for textureDimensions. Line ${$.line}`),null;let Z=q.getMipLevelSize(K),X=q.dimension;return X==="1d"?new X0(Z[0],this.getTypeInfo("u32")):X==="3d"?new s(Z,this.getTypeInfo("vec3u")):X==="2d"?new s(Z.slice(0,2),this.getTypeInfo("vec2u")):(console.error(`Invalid texture dimension ${X} not found. Line ${$.line}`),null)}return console.error(`Texture ${Y} not found. Line ${$.line}`),null}return console.error(`Invalid texture argument for textureDimensions. Line ${$.line}`),null}TextureGather($,Q){return console.error("TODO: textureGather"),null}TextureGatherCompare($,Q){return console.error("TODO: textureGatherCompare"),null}TextureLoad($,Q){let J=$.args[0],K=this.exec.evalExpression($.args[1],Q),Y=$.args.length>2?this.exec.evalExpression($.args[2],Q).value:0;if(!(K instanceof s)||K.data.length!==2)return console.error(`Invalid UV argument for textureLoad. Line ${$.line}`),null;if(J instanceof m4){let q=J.name,Z=Q.getVariableValue(q);if(Z instanceof gK){let X=Math.floor(K.data[0]),W=Math.floor(K.data[1]);if(X<0||X>=Z.width||W<0||W>=Z.height)return console.error(`Texture ${q} out of bounds. Line ${$.line}`),null;let F=Z.getPixel(X,W,0,Y);return F===null?(console.error(`Invalid texture format for textureLoad. Line ${$.line}`),null):new s(F,this.getTypeInfo("vec4f"))}return console.error(`Texture ${q} not found. Line ${$.line}`),null}return console.error(`Invalid texture argument for textureLoad. Line ${$.line}`),null}TextureNumLayers($,Q){let J=$.args[0];if(J instanceof m4){let K=J.name,Y=Q.getVariableValue(K);return Y instanceof gK?new X0(Y.depthOrArrayLayers,this.getTypeInfo("u32")):(console.error(`Texture ${K} not found. Line ${$.line}`),null)}return console.error(`Invalid texture argument for textureNumLayers. Line ${$.line}`),null}TextureNumLevels($,Q){let J=$.args[0];if(J instanceof m4){let K=J.name,Y=Q.getVariableValue(K);return Y instanceof gK?new X0(Y.mipLevelCount,this.getTypeInfo("u32")):(console.error(`Texture ${K} not found. Line ${$.line}`),null)}return console.error(`Invalid texture argument for textureNumLevels. Line ${$.line}`),null}TextureNumSamples($,Q){let J=$.args[0];if(J instanceof m4){let K=J.name,Y=Q.getVariableValue(K);return Y instanceof gK?new X0(Y.sampleCount,this.getTypeInfo("u32")):(console.error(`Texture ${K} not found. Line ${$.line}`),null)}return console.error(`Invalid texture argument for textureNumSamples. Line ${$.line}`),null}TextureSample($,Q){return console.error("TODO: textureSample"),null}TextureSampleBias($,Q){return console.error("TODO: textureSampleBias"),null}TextureSampleCompare($,Q){return console.error("TODO: textureSampleCompare"),null}TextureSampleCompareLevel($,Q){return console.error("TODO: textureSampleCompareLevel"),null}TextureSampleGrad($,Q){return console.error("TODO: textureSampleGrad"),null}TextureSampleLevel($,Q){return console.error("TODO: textureSampleLevel"),null}TextureSampleBaseClampToEdge($,Q){return console.error("TODO: textureSampleBaseClampToEdge"),null}TextureStore($,Q){let J=$.args[0],K=this.exec.evalExpression($.args[1],Q),Y=$.args.length===4?this.exec.evalExpression($.args[2],Q).value:0,q=$.args.length===4?this.exec.evalExpression($.args[3],Q).data:this.exec.evalExpression($.args[2],Q).data;if(q.length!==4)return console.error(`Invalid value argument for textureStore. Line ${$.line}`),null;if(!(K instanceof s)||K.data.length!==2)return console.error(`Invalid UV argument for textureStore. Line ${$.line}`),null;if(J instanceof m4){let Z=J.name,X=Q.getVariableValue(Z);if(X instanceof gK){let W=X.getMipLevelSize(0),F=Math.floor(K.data[0]),H=Math.floor(K.data[1]);return F<0||F>=W[0]||H<0||H>=W[1]?(console.error(`Texture ${Z} out of bounds. Line ${$.line}`),null):(X.setPixel(F,H,0,Y,Array.from(q)),null)}return console.error(`Texture ${Z} not found. Line ${$.line}`),null}return console.error(`Invalid texture argument for textureStore. Line ${$.line}`),null}AtomicLoad($,Q){let J=$.args[0];J instanceof w7&&(J=J.right);let K=this.exec.getVariableName(J,Q);return Q.getVariable(K).value.getSubData(this.exec,J.postfix,Q)}AtomicStore($,Q){let J=$.args[0];J instanceof w7&&(J=J.right);let K=this.exec.getVariableName(J,Q),Y=Q.getVariable(K),q=$.args[1],Z=this.exec.evalExpression(q,Q),X=Y.value.getSubData(this.exec,J.postfix,Q);return X instanceof X0&&Z instanceof X0&&(X.value=Z.value),Y.value instanceof X7&&Y.value.setDataValue(this.exec,X,J.postfix,Q),null}AtomicAdd($,Q){let J=$.args[0];J instanceof w7&&(J=J.right);let K=this.exec.getVariableName(J,Q),Y=Q.getVariable(K),q=$.args[1],Z=this.exec.evalExpression(q,Q),X=Y.value.getSubData(this.exec,J.postfix,Q),W=new X0(X.value,X.typeInfo);return X instanceof X0&&Z instanceof X0&&(X.value+=Z.value),Y.value instanceof X7&&Y.value.setDataValue(this.exec,X,J.postfix,Q),W}AtomicSub($,Q){let J=$.args[0];J instanceof w7&&(J=J.right);let K=this.exec.getVariableName(J,Q),Y=Q.getVariable(K),q=$.args[1],Z=this.exec.evalExpression(q,Q),X=Y.value.getSubData(this.exec,J.postfix,Q),W=new X0(X.value,X.typeInfo);return X instanceof X0&&Z instanceof X0&&(X.value-=Z.value),Y.value instanceof X7&&Y.value.setDataValue(this.exec,X,J.postfix,Q),W}AtomicMax($,Q){let J=$.args[0];J instanceof w7&&(J=J.right);let K=this.exec.getVariableName(J,Q),Y=Q.getVariable(K),q=$.args[1],Z=this.exec.evalExpression(q,Q),X=Y.value.getSubData(this.exec,J.postfix,Q),W=new X0(X.value,X.typeInfo);return X instanceof X0&&Z instanceof X0&&(X.value=Math.max(X.value,Z.value)),Y.value instanceof X7&&Y.value.setDataValue(this.exec,X,J.postfix,Q),W}AtomicMin($,Q){let J=$.args[0];J instanceof w7&&(J=J.right);let K=this.exec.getVariableName(J,Q),Y=Q.getVariable(K),q=$.args[1],Z=this.exec.evalExpression(q,Q),X=Y.value.getSubData(this.exec,J.postfix,Q),W=new X0(X.value,X.typeInfo);return X instanceof X0&&Z instanceof X0&&(X.value=Math.min(X.value,Z.value)),Y.value instanceof X7&&Y.value.setDataValue(this.exec,X,J.postfix,Q),W}AtomicAnd($,Q){let J=$.args[0];J instanceof w7&&(J=J.right);let K=this.exec.getVariableName(J,Q),Y=Q.getVariable(K),q=$.args[1],Z=this.exec.evalExpression(q,Q),X=Y.value.getSubData(this.exec,J.postfix,Q),W=new X0(X.value,X.typeInfo);return X instanceof X0&&Z instanceof X0&&(X.value=X.value&Z.value),Y.value instanceof X7&&Y.value.setDataValue(this.exec,X,J.postfix,Q),W}AtomicOr($,Q){let J=$.args[0];J instanceof w7&&(J=J.right);let K=this.exec.getVariableName(J,Q),Y=Q.getVariable(K),q=$.args[1],Z=this.exec.evalExpression(q,Q),X=Y.value.getSubData(this.exec,J.postfix,Q),W=new X0(X.value,X.typeInfo);return X instanceof X0&&Z instanceof X0&&(X.value=X.value|Z.value),Y.value instanceof X7&&Y.value.setDataValue(this.exec,X,J.postfix,Q),W}AtomicXor($,Q){let J=$.args[0];J instanceof w7&&(J=J.right);let K=this.exec.getVariableName(J,Q),Y=Q.getVariable(K),q=$.args[1],Z=this.exec.evalExpression(q,Q),X=Y.value.getSubData(this.exec,J.postfix,Q),W=new X0(X.value,X.typeInfo);return X instanceof X0&&Z instanceof X0&&(X.value=X.value^Z.value),Y.value instanceof X7&&Y.value.setDataValue(this.exec,X,J.postfix,Q),W}AtomicExchange($,Q){let J=$.args[0];J instanceof w7&&(J=J.right);let K=this.exec.getVariableName(J,Q),Y=Q.getVariable(K),q=$.args[1],Z=this.exec.evalExpression(q,Q),X=Y.value.getSubData(this.exec,J.postfix,Q),W=new X0(X.value,X.typeInfo);return X instanceof X0&&Z instanceof X0&&(X.value=Z.value),Y.value instanceof X7&&Y.value.setDataValue(this.exec,X,J.postfix,Q),W}AtomicCompareExchangeWeak($,Q){return console.error("TODO: atomicCompareExchangeWeak"),null}Pack4x8snorm($,Q){return console.error("TODO: pack4x8snorm"),null}Pack4x8unorm($,Q){return console.error("TODO: pack4x8unorm"),null}Pack4xI8($,Q){return console.error("TODO: pack4xI8"),null}Pack4xU8($,Q){return console.error("TODO: pack4xU8"),null}Pack4x8Clamp($,Q){return console.error("TODO: pack4x8Clamp"),null}Pack4xU8Clamp($,Q){return console.error("TODO: pack4xU8Clamp"),null}Pack2x16snorm($,Q){return console.error("TODO: pack2x16snorm"),null}Pack2x16unorm($,Q){return console.error("TODO: pack2x16unorm"),null}Pack2x16float($,Q){return console.error("TODO: pack2x16float"),null}Unpack4x8snorm($,Q){return console.error("TODO: unpack4x8snorm"),null}Unpack4x8unorm($,Q){return console.error("TODO: unpack4x8unorm"),null}Unpack4xI8($,Q){return console.error("TODO: unpack4xI8"),null}Unpack4xU8($,Q){return console.error("TODO: unpack4xU8"),null}Unpack2x16snorm($,Q){return console.error("TODO: unpack2x16snorm"),null}Unpack2x16unorm($,Q){return console.error("TODO: unpack2x16unorm"),null}Unpack2x16float($,Q){return console.error("TODO: unpack2x16float"),null}StorageBarrier($,Q){return null}TextureBarrier($,Q){return null}WorkgroupBarrier($,Q){return null}WorkgroupUniformLoad($,Q){return null}SubgroupAdd($,Q){return console.error("TODO: subgroupAdd"),null}SubgroupExclusiveAdd($,Q){return console.error("TODO: subgroupExclusiveAdd"),null}SubgroupInclusiveAdd($,Q){return console.error("TODO: subgroupInclusiveAdd"),null}SubgroupAll($,Q){return console.error("TODO: subgroupAll"),null}SubgroupAnd($,Q){return console.error("TODO: subgroupAnd"),null}SubgroupAny($,Q){return console.error("TODO: subgroupAny"),null}SubgroupBallot($,Q){return console.error("TODO: subgroupBallot"),null}SubgroupBroadcast($,Q){return console.error("TODO: subgroupBroadcast"),null}SubgroupBroadcastFirst($,Q){return console.error("TODO: subgroupBroadcastFirst"),null}SubgroupElect($,Q){return console.error("TODO: subgroupElect"),null}SubgroupMax($,Q){return console.error("TODO: subgroupMax"),null}SubgroupMin($,Q){return console.error("TODO: subgroupMin"),null}SubgroupMul($,Q){return console.error("TODO: subgroupMul"),null}SubgroupExclusiveMul($,Q){return console.error("TODO: subgroupExclusiveMul"),null}SubgroupInclusiveMul($,Q){return console.error("TODO: subgroupInclusiveMul"),null}SubgroupOr($,Q){return console.error("TODO: subgroupOr"),null}SubgroupShuffle($,Q){return console.error("TODO: subgroupShuffle"),null}SubgroupShuffleDown($,Q){return console.error("TODO: subgroupShuffleDown"),null}SubgroupShuffleUp($,Q){return console.error("TODO: subgroupShuffleUp"),null}SubgroupShuffleXor($,Q){return console.error("TODO: subgroupShuffleXor"),null}SubgroupXor($,Q){return console.error("TODO: subgroupXor"),null}QuadBroadcast($,Q){return console.error("TODO: quadBroadcast"),null}QuadSwapDiagonal($,Q){return console.error("TODO: quadSwapDiagonal"),null}QuadSwapX($,Q){return console.error("TODO: quadSwapX"),null}QuadSwapY($,Q){return console.error("TODO: quadSwapY"),null}}var Ic={vec2:2,vec2f:2,vec2i:2,vec2u:2,vec2b:2,vec2h:2,vec3:3,vec3f:3,vec3i:3,vec3u:3,vec3b:3,vec3h:3,vec4:4,vec4f:4,vec4i:4,vec4u:4,vec4b:4,vec4h:4},U4={mat2x2:[2,2,4],mat2x2f:[2,2,4],mat2x2h:[2,2,4],mat2x3:[2,3,6],mat2x3f:[2,3,6],mat2x3h:[2,3,6],mat2x4:[2,4,8],mat2x4f:[2,4,8],mat2x4h:[2,4,8],mat3x2:[3,2,6],mat3x2f:[3,2,6],mat3x2h:[3,2,6],mat3x3:[3,3,9],mat3x3f:[3,3,9],mat3x3h:[3,3,9],mat3x4:[3,4,12],mat3x4f:[3,4,12],mat3x4h:[3,4,12],mat4x2:[4,2,8],mat4x2f:[4,2,8],mat4x2h:[4,2,8],mat4x3:[4,3,12],mat4x3f:[4,3,12],mat4x3h:[4,3,12],mat4x4:[4,4,16],mat4x4f:[4,4,16],mat4x4h:[4,4,16]};class b8 extends eF0{constructor($,Q){var J;super(),this.ast=$!=null?$:[],this.reflection=new WJ,this.reflection.updateAST(this.ast),this.context=(J=Q==null?void 0:Q.clone())!==null&&J!==void 0?J:new Fu,this.builtins=new $U0(this),this.typeInfo={bool:this.getTypeInfo(M0.bool),i32:this.getTypeInfo(M0.i32),u32:this.getTypeInfo(M0.u32),f32:this.getTypeInfo(M0.f32),f16:this.getTypeInfo(M0.f16),vec2f:this.getTypeInfo(U0.vec2f),vec2u:this.getTypeInfo(U0.vec2u),vec2i:this.getTypeInfo(U0.vec2i),vec2h:this.getTypeInfo(U0.vec2h),vec3f:this.getTypeInfo(U0.vec3f),vec3u:this.getTypeInfo(U0.vec3u),vec3i:this.getTypeInfo(U0.vec3i),vec3h:this.getTypeInfo(U0.vec3h),vec4f:this.getTypeInfo(U0.vec4f),vec4u:this.getTypeInfo(U0.vec4u),vec4i:this.getTypeInfo(U0.vec4i),vec4h:this.getTypeInfo(U0.vec4h),mat2x2f:this.getTypeInfo(U0.mat2x2f),mat2x3f:this.getTypeInfo(U0.mat2x3f),mat2x4f:this.getTypeInfo(U0.mat2x4f),mat3x2f:this.getTypeInfo(U0.mat3x2f),mat3x3f:this.getTypeInfo(U0.mat3x3f),mat3x4f:this.getTypeInfo(U0.mat3x4f),mat4x2f:this.getTypeInfo(U0.mat4x2f),mat4x3f:this.getTypeInfo(U0.mat4x3f),mat4x4f:this.getTypeInfo(U0.mat4x4f)}}getVariableValue($){var Q,J;let K=(J=(Q=this.context.getVariable($))===null||Q===void 0?void 0:Q.value)!==null&&J!==void 0?J:null;if(K===null)return null;if(K instanceof X0)return K.value;if(K instanceof s)return Array.from(K.data);if(K instanceof r1)return Array.from(K.data);if(K instanceof X7&&K.typeInfo instanceof xK){if(K.typeInfo.format.name==="u32")return Array.from(new Uint32Array(K.buffer,K.offset,K.typeInfo.count));if(K.typeInfo.format.name==="i32")return Array.from(new Int32Array(K.buffer,K.offset,K.typeInfo.count));if(K.typeInfo.format.name==="f32")return Array.from(new Float32Array(K.buffer,K.offset,K.typeInfo.count))}return console.error(`Unsupported return variable type ${K.typeInfo.name}`),null}execute($){($=$!=null?$:{}).constants&&this._setOverrides($.constants,this.context),this._execStatements(this.ast,this.context)}dispatchWorkgroups($,Q,J,K){let Y=this.context.clone();(K=K!=null?K:{}).constants&&this._setOverrides(K.constants,Y),this._execStatements(this.ast,Y);let q=Y.getFunction($);if(!q)return void console.error(`Function ${$} not found`);if(typeof Q=="number")Q=[Q,1,1];else{if(Q.length===0)return void console.error("Invalid dispatch count");Q.length===1?Q=[Q[0],1,1]:Q.length===2?Q=[Q[0],Q[1],1]:Q.length>3&&(Q=[Q[0],Q[1],Q[2]])}let Z=Q[0],X=Q[1],W=Q[2],F=this.getTypeInfo("vec3u");Y.setVariable("@num_workgroups",new s(Q,F));let H=this.reflection.getFunctionInfo($);H===null&&console.error(`Function ${$} not found in reflection data`);for(let B in J)for(let z in J[B]){let A=J[B][z];Y.variables.forEach((R)=>{var G;let w=R.node;if(w==null?void 0:w.attributes){let T=null,D=null;for(let P of w.attributes)P.name==="binding"?T=P.value:P.name==="group"&&(D=P.value);if(z==T&&B==D){let P=!1;for(let j of H.resources)if(j.name===R.name&&j.group===parseInt(B)&&j.binding===parseInt(z)){P=!0;break}if(P)if(A.texture!==void 0&&A.descriptor!==void 0){let j=new gK(A.texture,this.getTypeInfo(w.type),A.descriptor,(G=A.texture.view)!==null&&G!==void 0?G:null);R.value=j}else A.uniform!==void 0?R.value=new X7(A.uniform,this.getTypeInfo(w.type)):R.value=new X7(A,this.getTypeInfo(w.type))}}})}for(let B=0;B<W;++B)for(let z=0;z<X;++z)for(let A=0;A<Z;++A)Y.setVariable("@workgroup_id",new s([A,z,B],this.getTypeInfo("vec3u"))),this._dispatchWorkgroup(q,[A,z,B],Y)}execStatement($,Q){if($ instanceof sc)return this.evalExpression($.value,Q);if($ instanceof ac){if($.condition){let J=this.evalExpression($.condition,Q);if(!(J instanceof X0))throw Error("Invalid break-if condition");if(!J.value)return null}return b8._breakObj}if($ instanceof tc)return b8._continueObj;if($ instanceof DH)this._let($,Q);else if($ instanceof XJ)this._var($,Q);else if($ instanceof LV)this._const($,Q);else if($ instanceof PH)this._function($,Q);else{if($ instanceof ic)return this._if($,Q);if($ instanceof rc)return this._switch($,Q);if($ instanceof pc)return this._for($,Q);if($ instanceof mc)return this._while($,Q);if($ instanceof lc)return this._loop($,Q);if($ instanceof NP){let J=Q.clone();return J.currentFunctionName=Q.currentFunctionName,this._execStatements($.body,J)}if($ instanceof nc)this._assign($,Q);else if($ instanceof dc)this._increment($,Q);else{if($ instanceof ZJ)return null;if($ instanceof RP){let J=$.name;Q.getVariable(J)===null&&Q.setVariable(J,new X0(0,this.getTypeInfo("u32")))}else if($ instanceof GP)this._call($,Q);else{if($ instanceof oc)return null;if($ instanceof wP)return null;console.error("Invalid statement type.",$,`Line ${$.line}`)}}}return null}evalExpression($,Q){return $ instanceof h3?this._evalBinaryOp($,Q):$ instanceof L7?this._evalLiteral($,Q):$ instanceof m4?this._evalVariable($,Q):$ instanceof OP?this._evalCall($,Q):$ instanceof g$?this._evalCreate($,Q):$ instanceof ec?this._evalConst($,Q):$ instanceof $u?this._evalBitcast($,Q):$ instanceof w7?this._evalUnaryOp($,Q):(console.error("Invalid expression type",$,`Line ${$.line}`),null)}getTypeInfo($){var Q;if($ instanceof M0){let K=this.reflection.getTypeInfo($);if(K!==null)return K}let J=(Q=this.typeInfo[$])!==null&&Q!==void 0?Q:null;return J!==null||(J=this.reflection.getTypeInfoByName($)),J}_setOverrides($,Q){for(let J in $){let K=$[J],Y=this.reflection.getOverrideInfo(J);Y!==null?(Y.type===null&&(Y.type=this.getTypeInfo("u32")),Y.type.name==="u32"||Y.type.name==="i32"||Y.type.name==="f32"||Y.type.name==="f16"?Q.setVariable(J,new X0(K,Y.type)):Y.type.name==="bool"?Q.setVariable(J,new X0(K?1:0,Y.type)):Y.type.name==="vec2"||Y.type.name==="vec3"||Y.type.name==="vec4"||Y.type.name==="vec2f"||Y.type.name==="vec3f"||Y.type.name==="vec4f"||Y.type.name==="vec2i"||Y.type.name==="vec3i"||Y.type.name==="vec4i"||Y.type.name==="vec2u"||Y.type.name==="vec3u"||Y.type.name==="vec4u"||Y.type.name==="vec2h"||Y.type.name==="vec3h"||Y.type.name==="vec4h"?Q.setVariable(J,new s(K,Y.type)):console.error(`Invalid constant type for ${J}`)):console.error(`Override ${J} does not exist in the shader.`)}}_dispatchWorkgroup($,Q,J){let K=[1,1,1];for(let F of $.node.attributes)if(F.name==="workgroup_size"){if(F.value.length>0){let H=J.getVariableValue(F.value[0]);K[0]=H instanceof X0?H.value:parseInt(F.value[0])}if(F.value.length>1){let H=J.getVariableValue(F.value[1]);K[1]=H instanceof X0?H.value:parseInt(F.value[1])}if(F.value.length>2){let H=J.getVariableValue(F.value[2]);K[2]=H instanceof X0?H.value:parseInt(F.value[2])}}let Y=this.getTypeInfo("vec3u"),q=this.getTypeInfo("u32");J.setVariable("@workgroup_size",new s(K,Y));let Z=K[0],X=K[1],W=K[2];for(let F=0,H=0;F<W;++F)for(let B=0;B<X;++B)for(let z=0;z<Z;++z,++H){let A=[z,B,F],R=[z+Q[0]*K[0],B+Q[1]*K[1],F+Q[2]*K[2]];J.setVariable("@local_invocation_id",new s(A,Y)),J.setVariable("@global_invocation_id",new s(R,Y)),J.setVariable("@local_invocation_index",new X0(H,q)),this._dispatchExec($,J)}}_dispatchExec($,Q){for(let J of $.node.args)for(let K of J.attributes)if(K.name==="builtin"){let Y=`@${K.value}`,q=Q.getVariable(Y);q!==void 0&&Q.variables.set(J.name,q)}this._execStatements($.node.body,Q)}getVariableName($,Q){for(;$ instanceof w7;)$=$.right;return $ instanceof m4?$.name:(console.error("Unknown variable type",$,"Line",$.line),null)}_execStatements($,Q){for(let J of $){if(J instanceof Array){let Y=Q.clone(),q=this._execStatements(J,Y);if(q)return q;continue}let K=this.execStatement(J,Q);if(K)return K}return null}_call($,Q){let J=Q.clone();J.currentFunctionName=$.name;let K=Q.getFunction($.name);if(K){for(let Y=0;Y<K.node.args.length;++Y){let q=K.node.args[Y],Z=this.evalExpression($.args[Y],J);J.setVariable(q.name,Z,q)}this._execStatements(K.node.body,J)}else if($.isBuiltin)this._callBuiltinFunction($,J);else this.getTypeInfo($.name)&&this._evalCreate($,Q)}_increment($,Q){let J=this.getVariableName($.variable,Q),K=Q.getVariable(J);K?$.operator==="++"?K.value instanceof X0?K.value.value++:console.error(`Variable ${J} is not a scalar. Line ${$.line}`):$.operator==="--"?K.value instanceof X0?K.value.value--:console.error(`Variable ${J} is not a scalar. Line ${$.line}`):console.error(`Unknown increment operator ${$.operator}. Line ${$.line}`):console.error(`Variable ${J} not found. Line ${$.line}`)}_getVariableData($,Q){if($ instanceof m4){let J=this.getVariableName($,Q),K=Q.getVariable(J);return K===null?(console.error(`Variable ${J} not found. Line ${$.line}`),null):K.value.getSubData(this,$.postfix,Q)}if($ instanceof w7){if($.operator==="*"){let J=this._getVariableData($.right,Q);return J instanceof MX?J.reference.getSubData(this,$.postfix,Q):(console.error(`Variable ${$.right} is not a pointer. Line ${$.line}`),null)}if($.operator==="&"){let J=this._getVariableData($.right,Q);return new MX(J)}}return null}_assign($,Q){let J=null,K="<var>",Y=null;if($.variable instanceof w7){let X=this._getVariableData($.variable,Q),W=this.evalExpression($.value,Q),F=$.operator;if(F==="="){if(X instanceof X0||X instanceof s||X instanceof r1){if(W instanceof X0||W instanceof s||W instanceof r1&&X.data.length===W.data.length)return void X.data.set(W.data);console.error(`Invalid assignment. Line ${$.line}`)}else if(X instanceof X7&&W instanceof X7&&X.buffer.byteLength-X.offset>=W.buffer.byteLength-W.offset)return void(X.buffer.byteLength%4==0?new Uint32Array(X.buffer,X.offset,X.typeInfo.size/4).set(new Uint32Array(W.buffer,W.offset,W.typeInfo.size/4)):new Uint8Array(X.buffer,X.offset,X.typeInfo.size).set(new Uint8Array(W.buffer,W.offset,W.typeInfo.size)));return console.error(`Invalid assignment. Line ${$.line}`),null}if(F==="+=")return X instanceof X0||X instanceof s||X instanceof r1?W instanceof X0||W instanceof s||W instanceof r1?void X.data.set(W.data.map((H,B)=>X.data[B]+H)):void console.error(`Invalid assignment . Line ${$.line}`):void console.error(`Invalid assignment. Line ${$.line}`);if(F==="-=")return(X instanceof X0||X instanceof s||X instanceof r1)&&(W instanceof X0||W instanceof s||W instanceof r1)?void X.data.set(W.data.map((H,B)=>X.data[B]-H)):void console.error(`Invalid assignment. Line ${$.line}`)}if($.variable instanceof w7){if($.variable.operator==="*"){K=this.getVariableName($.variable.right,Q);let X=Q.getVariable(K);if(!(X&&X.value instanceof MX))return void console.error(`Variable ${K} is not a pointer. Line ${$.line}`);J=X.value.reference;let W=$.variable.postfix;if(!W){let F=$.variable.right;for(;F instanceof w7;){if(F.postfix){W=F.postfix;break}F=F.right}}W&&(J=J.getSubData(this,W,Q))}}else{Y=$.variable.postfix,K=this.getVariableName($.variable,Q);let X=Q.getVariable(K);if(X===null)return void console.error(`Variable ${K} not found. Line ${$.line}`);J=X.value}if(J instanceof MX&&(J=J.reference),J===null)return void console.error(`Variable ${K} not found. Line ${$.line}`);let q=this.evalExpression($.value,Q),Z=$.operator;if(Z!=="="){let X=J.getSubData(this,Y,Q);if(X instanceof s&&q instanceof X0){let W=X.data,F=q.value;if(Z==="+=")for(let H=0;H<W.length;++H)W[H]+=F;else if(Z==="-=")for(let H=0;H<W.length;++H)W[H]-=F;else if(Z==="*=")for(let H=0;H<W.length;++H)W[H]*=F;else if(Z==="/=")for(let H=0;H<W.length;++H)W[H]/=F;else if(Z==="%=")for(let H=0;H<W.length;++H)W[H]%=F;else if(Z==="&=")for(let H=0;H<W.length;++H)W[H]&=F;else if(Z==="|=")for(let H=0;H<W.length;++H)W[H]|=F;else if(Z==="^=")for(let H=0;H<W.length;++H)W[H]^=F;else if(Z==="<<=")for(let H=0;H<W.length;++H)W[H]<<=F;else if(Z===">>=")for(let H=0;H<W.length;++H)W[H]>>=F;else console.error(`Invalid operator ${Z}. Line ${$.line}`)}else if(X instanceof s&&q instanceof s){let W=X.data,F=q.data;if(W.length!==F.length)return void console.error(`Vector length mismatch. Line ${$.line}`);if(Z==="+=")for(let H=0;H<W.length;++H)W[H]+=F[H];else if(Z==="-=")for(let H=0;H<W.length;++H)W[H]-=F[H];else if(Z==="*=")for(let H=0;H<W.length;++H)W[H]*=F[H];else if(Z==="/=")for(let H=0;H<W.length;++H)W[H]/=F[H];else if(Z==="%=")for(let H=0;H<W.length;++H)W[H]%=F[H];else if(Z==="&=")for(let H=0;H<W.length;++H)W[H]&=F[H];else if(Z==="|=")for(let H=0;H<W.length;++H)W[H]|=F[H];else if(Z==="^=")for(let H=0;H<W.length;++H)W[H]^=F[H];else if(Z==="<<=")for(let H=0;H<W.length;++H)W[H]<<=F[H];else if(Z===">>=")for(let H=0;H<W.length;++H)W[H]>>=F[H];else console.error(`Invalid operator ${Z}. Line ${$.line}`)}else{if(!(X instanceof X0&&q instanceof X0))return void console.error(`Invalid type for ${$.operator} operator. Line ${$.line}`);Z==="+="?X.value+=q.value:Z==="-="?X.value-=q.value:Z==="*="?X.value*=q.value:Z==="/="?X.value/=q.value:Z==="%="?X.value%=q.value:Z==="&="?X.value&=q.value:Z==="|="?X.value|=q.value:Z==="^="?X.value^=q.value:Z==="<<="?X.value<<=q.value:Z===">>="?X.value>>=q.value:console.error(`Invalid operator ${Z}. Line ${$.line}`)}return void(J instanceof X7&&J.setDataValue(this,X,Y,Q))}if(J instanceof X7)J.setDataValue(this,q,Y,Q);else if(Y){if(!(J instanceof s||J instanceof r1))return void console.error(`Variable ${K} is not a vector or matrix. Line ${$.line}`);if(Y instanceof bX){let X=this.evalExpression(Y.index,Q).value;if(J instanceof s){if(!(q instanceof X0))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);J.data[X]=q.value}else{if(!(J instanceof r1))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);{let W=this.evalExpression(Y.index,Q).value;if(W<0)return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);if(!(q instanceof s))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);{let F=J.typeInfo.getTypeName();if(F==="mat2x2"||F==="mat2x2f"||F==="mat2x2h"){if(!(W<2&&q.data.length===2))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);J.data[2*W]=q.data[0],J.data[2*W+1]=q.data[1]}else if(F==="mat2x3"||F==="mat2x3f"||F==="mat2x3h"){if(!(W<2&&q.data.length===3))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);J.data[3*W]=q.data[0],J.data[3*W+1]=q.data[1],J.data[3*W+2]=q.data[2]}else if(F==="mat2x4"||F==="mat2x4f"||F==="mat2x4h"){if(!(W<2&&q.data.length===4))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);J.data[4*W]=q.data[0],J.data[4*W+1]=q.data[1],J.data[4*W+2]=q.data[2],J.data[4*W+3]=q.data[3]}else if(F==="mat3x2"||F==="mat3x2f"||F==="mat3x2h"){if(!(W<3&&q.data.length===2))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);J.data[2*W]=q.data[0],J.data[2*W+1]=q.data[1]}else if(F==="mat3x3"||F==="mat3x3f"||F==="mat3x3h"){if(!(W<3&&q.data.length===3))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);J.data[3*W]=q.data[0],J.data[3*W+1]=q.data[1],J.data[3*W+2]=q.data[2]}else if(F==="mat3x4"||F==="mat3x4f"||F==="mat3x4h"){if(!(W<3&&q.data.length===4))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);J.data[4*W]=q.data[0],J.data[4*W+1]=q.data[1],J.data[4*W+2]=q.data[2],J.data[4*W+3]=q.data[3]}else if(F==="mat4x2"||F==="mat4x2f"||F==="mat4x2h"){if(!(W<4&&q.data.length===2))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);J.data[2*W]=q.data[0],J.data[2*W+1]=q.data[1]}else if(F==="mat4x3"||F==="mat4x3f"||F==="mat4x3h"){if(!(W<4&&q.data.length===3))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);J.data[3*W]=q.data[0],J.data[3*W+1]=q.data[1],J.data[3*W+2]=q.data[2]}else{if(F!=="mat4x4"&&F!=="mat4x4f"&&F!=="mat4x4h")return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);if(!(W<4&&q.data.length===4))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);J.data[4*W]=q.data[0],J.data[4*W+1]=q.data[1],J.data[4*W+2]=q.data[2],J.data[4*W+3]=q.data[3]}}}}}else if(Y instanceof sq){let X=Y.value;if(!(J instanceof s))return void console.error(`Invalid assignment to ${X}. Variable ${K} is not a vector. Line ${$.line}`);if(q instanceof X0){if(X.length>1)return void console.error(`Invalid assignment to ${X} for variable ${K}. Line ${$.line}`);if(X==="x")J.data[0]=q.value;else if(X==="y"){if(J.data.length<2)return void console.error(`Invalid assignment to ${X} for variable ${K}. Line ${$.line}`);J.data[1]=q.value}else if(X==="z"){if(J.data.length<3)return void console.error(`Invalid assignment to ${X} for variable ${K}. Line ${$.line}`);J.data[2]=q.value}else if(X==="w"){if(J.data.length<4)return void console.error(`Invalid assignment to ${X} for variable ${K}. Line ${$.line}`);J.data[3]=q.value}}else{if(!(q instanceof s))return void console.error(`Invalid assignment to ${K}. Line ${$.line}`);if(X.length!==q.data.length)return void console.error(`Invalid assignment to ${X} for variable ${K}. Line ${$.line}`);for(let W=0;W<X.length;++W){let F=X[W];if(F==="x"||F==="r")J.data[0]=q.data[W];else if(F==="y"||F==="g"){if(q.data.length<2)return void console.error(`Invalid assignment to ${F} for variable ${K}. Line ${$.line}`);J.data[1]=q.data[W]}else if(F==="z"||F==="b"){if(q.data.length<3)return void console.error(`Invalid assignment to ${F} for variable ${K}. Line ${$.line}`);J.data[2]=q.data[W]}else{if(F!=="w"&&F!=="a")return void console.error(`Invalid assignment to ${F} for variable ${K}. Line ${$.line}`);if(q.data.length<4)return void console.error(`Invalid assignment to ${F} for variable ${K}. Line ${$.line}`);J.data[3]=q.data[W]}}}}}else J instanceof X0&&q instanceof X0?J.value=q.value:J instanceof s&&q instanceof s||J instanceof r1&&q instanceof r1?J.data.set(q.data):console.error(`Invalid assignment to ${K}. Line ${$.line}`)}_function($,Q){let J=new Wu($);Q.functions.set($.name,J)}_const($,Q){let J=null;$.value!==null&&(J=this.evalExpression($.value,Q)),Q.createVariable($.name,J,$)}_let($,Q){let J=null;if($.value!==null){if(J=this.evalExpression($.value,Q),J===null)return void console.error(`Invalid value for variable ${$.name}. Line ${$.line}`);$.value instanceof w7||(J=J.clone())}else{let K=$.type.name;if(K==="f32"||K==="i32"||K==="u32"||K==="bool"||K==="f16"||K==="vec2"||K==="vec3"||K==="vec4"||K==="vec2f"||K==="vec3f"||K==="vec4f"||K==="vec2i"||K==="vec3i"||K==="vec4i"||K==="vec2u"||K==="vec3u"||K==="vec4u"||K==="vec2h"||K==="vec3h"||K==="vec4h"||K==="vec2b"||K==="vec3b"||K==="vec4b"||K==="mat2x2"||K==="mat2x3"||K==="mat2x4"||K==="mat3x2"||K==="mat3x3"||K==="mat3x4"||K==="mat4x2"||K==="mat4x3"||K==="mat4x4"||K==="mat2x2f"||K==="mat2x3f"||K==="mat2x4f"||K==="mat3x2f"||K==="mat3x3f"||K==="mat3x4f"||K==="mat4x2f"||K==="mat4x3f"||K==="mat4x4f"||K==="mat2x2h"||K==="mat2x3h"||K==="mat2x4h"||K==="mat3x2h"||K==="mat3x3h"||K==="mat3x4h"||K==="mat4x2h"||K==="mat4x3h"||K==="mat4x4h"||K==="array"){let Y=new g$($.type,[]);J=this._evalCreate(Y,Q)}}Q.createVariable($.name,J,$)}_var($,Q){let J=null;if($.value!==null){if(J=this.evalExpression($.value,Q),J===null)return void console.error(`Invalid value for variable ${$.name}. Line ${$.line}`);$.value instanceof w7||(J=J.clone())}else{if($.type===null)return void console.error(`Variable ${$.name} has no type. Line ${$.line}`);let K=$.type.name;if(K==="f32"||K==="i32"||K==="u32"||K==="bool"||K==="f16"||K==="vec2"||K==="vec3"||K==="vec4"||K==="vec2f"||K==="vec3f"||K==="vec4f"||K==="vec2i"||K==="vec3i"||K==="vec4i"||K==="vec2u"||K==="vec3u"||K==="vec4u"||K==="vec2h"||K==="vec3h"||K==="vec4h"||K==="vec2b"||K==="vec3b"||K==="vec4b"||K==="mat2x2"||K==="mat2x3"||K==="mat2x4"||K==="mat3x2"||K==="mat3x3"||K==="mat3x4"||K==="mat4x2"||K==="mat4x3"||K==="mat4x4"||K==="mat2x2f"||K==="mat2x3f"||K==="mat2x4f"||K==="mat3x2f"||K==="mat3x3f"||K==="mat3x4f"||K==="mat4x2f"||K==="mat4x3f"||K==="mat4x4f"||K==="mat2x2h"||K==="mat2x3h"||K==="mat2x4h"||K==="mat3x2h"||K==="mat3x3h"||K==="mat3x4h"||K==="mat4x2h"||K==="mat4x3h"||K==="mat4x4h"||$.type instanceof CH||$.type instanceof ZJ||$.type instanceof U0){let Y=new g$($.type,[]);J=this._evalCreate(Y,Q)}}Q.createVariable($.name,J,$)}_switch($,Q){Q=Q.clone();let J=this.evalExpression($.condition,Q);if(!(J instanceof X0))return console.error(`Invalid if condition. Line ${$.line}`),null;let K=null;for(let Y of $.cases)if(Y instanceof Ku)for(let q of Y.selectors){if(q instanceof vV){K=Y;continue}let Z=this.evalExpression(q,Q);if(!(Z instanceof X0))return console.error(`Invalid case selector. Line ${$.line}`),null;if(Z.value===J.value)return this._execStatements(Y.body,Q)}else Y instanceof Yu&&(K=Y);return K?this._execStatements(K.body,Q):null}_if($,Q){Q=Q.clone();let J=this.evalExpression($.condition,Q);if(!(J instanceof X0))return console.error(`Invalid if condition. Line ${$.line}`),null;if(J.value)return this._execStatements($.body,Q);for(let K of $.elseif){let Y=this.evalExpression(K.condition,Q);if(!(Y instanceof X0))return console.error(`Invalid if condition. Line ${$.line}`),null;if(Y.value)return this._execStatements(K.body,Q)}return $.else?this._execStatements($.else,Q):null}_getScalarValue($){return $ instanceof X0?$.value:(console.error("Expected scalar value.",$),0)}_for($,Q){for(Q=Q.clone(),this.execStatement($.init,Q);this._getScalarValue(this.evalExpression($.condition,Q));){let J=this._execStatements($.body,Q);if(J===b8._breakObj)break;if(J!==null&&J!==b8._continueObj)return J;this.execStatement($.increment,Q)}return null}_loop($,Q){for(Q=Q.clone();;){let J=this._execStatements($.body,Q);if(J===b8._breakObj)break;if(J===b8._continueObj){if($.continuing){if(this._execStatements($.continuing.body,Q)===b8._breakObj)break}}else if(J!==null)return J}return null}_while($,Q){for(Q=Q.clone();this._getScalarValue(this.evalExpression($.condition,Q));){let J=this._execStatements($.body,Q);if(J===b8._breakObj)break;if(J!==b8._continueObj&&J!==null)return J}return null}_evalBitcast($,Q){let J=this.evalExpression($.value,Q),K=$.type;if(J instanceof X0){let Y=bF0(J.value,J.typeInfo.name,K.name);return new X0(Y,this.getTypeInfo(K))}if(J instanceof s){let Y=J.typeInfo.getTypeName(),q="";if(Y.endsWith("f"))q="f32";else if(Y.endsWith("i"))q="i32";else if(Y.endsWith("u"))q="u32";else if(Y.endsWith("b"))q="bool";else{if(!Y.endsWith("h"))return console.error(`Unknown vector type ${Y}. Line ${$.line}`),null;q="f16"}let Z=K.getTypeName(),X="";if(Z.endsWith("f"))X="f32";else if(Z.endsWith("i"))X="i32";else if(Z.endsWith("u"))X="u32";else if(Z.endsWith("b"))X="bool";else{if(!Z.endsWith("h"))return console.error(`Unknown vector type ${X}. Line ${$.line}`),null;X="f16"}let W=function(F,H,B){if(H===B)return F;let z=Array(F.length);for(let A=0;A<F.length;A++)z[A]=bF0(F[A],H,B);return z}(Array.from(J.data),q,X);return new s(W,this.getTypeInfo(K))}return console.error(`TODO: bitcast for ${J.typeInfo.name}. Line ${$.line}`),null}_evalConst($,Q){return Q.getVariableValue($.name).clone().getSubData(this,$.postfix,Q)}_evalCreate($,Q){var J;if($ instanceof g$){if($.type===null)return BP.void;switch($.type.getTypeName()){case"bool":case"i32":case"u32":case"f32":case"f16":return this._callConstructorValue($,Q);case"vec2":case"vec3":case"vec4":case"vec2f":case"vec3f":case"vec4f":case"vec2h":case"vec3h":case"vec4h":case"vec2i":case"vec3i":case"vec4i":case"vec2u":case"vec3u":case"vec4u":case"vec2b":case"vec3b":case"vec4b":return this._callConstructorVec($,Q);case"mat2x2":case"mat2x2f":case"mat2x2h":case"mat2x3":case"mat2x3f":case"mat2x3h":case"mat2x4":case"mat2x4f":case"mat2x4h":case"mat3x2":case"mat3x2f":case"mat3x2h":case"mat3x3":case"mat3x3f":case"mat3x3h":case"mat3x4":case"mat3x4f":case"mat3x4h":case"mat4x2":case"mat4x2f":case"mat4x2h":case"mat4x3":case"mat4x3f":case"mat4x3h":case"mat4x4":case"mat4x4f":case"mat4x4h":return this._callConstructorMatrix($,Q)}}let K=$ instanceof g$?$.type.name:$.name,Y=$ instanceof g$?this.getTypeInfo($.type):this.getTypeInfo($.name);if(Y===null)return console.error(`Unknown type ${K}. Line ${$.line}`),null;if(Y.size===0)return null;let q=new X7(new ArrayBuffer(Y.size),Y,0);if(Y instanceof yK){if($.args)for(let Z=0;Z<$.args.length;++Z){let X=Y.members[Z],W=$.args[Z],F=this.evalExpression(W,Q);q.setData(this,F,X.type,X.offset,Q)}}else if(Y instanceof xK){let Z=0;if($.args)for(let X=0;X<$.args.length;++X){let W=$.args[X],F=this.evalExpression(W,Q);Y.format===null&&(((J=F.typeInfo)===null||J===void 0?void 0:J.name)==="x32"?Y.format=this.getTypeInfo("i32"):Y.format=F.typeInfo),q.setData(this,F,Y.format,Z,Q),Z+=Y.stride}}else console.error(`Unknown type "${K}". Line ${$.line}`);return $ instanceof g$?q.getSubData(this,$.postfix,Q):q}_evalLiteral($,Q){let J=this.getTypeInfo($.type),K=J.name;if(K==="x32"||K==="u32"||K==="f32"||K==="f16"||K==="i32"||K==="bool")return new X0($.scalarValue,J);return K==="vec2"||K==="vec3"||K==="vec4"||K==="vec2f"||K==="vec3f"||K==="vec4f"||K==="vec2h"||K==="vec3h"||K==="vec4h"||K==="vec2i"||K==="vec3i"||K==="vec4i"||K==="vec2u"||K==="vec3u"||K==="vec4u"?this._callConstructorVec($,Q):K==="mat2x2"||K==="mat2x3"||K==="mat2x4"||K==="mat3x2"||K==="mat3x3"||K==="mat3x4"||K==="mat4x2"||K==="mat4x3"||K==="mat4x4"||K==="mat2x2f"||K==="mat2x3f"||K==="mat2x4f"||K==="mat3x2f"||K==="mat3x3f"||K==="mat3x4f"||K==="mat4x2f"||K==="mat4x3f"||K==="mat4x4f"||K==="mat2x2h"||K==="mat2x3h"||K==="mat2x4h"||K==="mat3x2h"||K==="mat3x3h"||K==="mat3x4h"||K==="mat4x2h"||K==="mat4x3h"||K==="mat4x4h"?this._callConstructorMatrix($,Q):$.value}_evalVariable($,Q){let J=Q.getVariableValue($.name);return J===null?J:J.getSubData(this,$.postfix,Q)}_maxFormatTypeInfo($){let Q=$[0];if(Q.name==="f32")return Q;for(let J=1;J<$.length;++J){let K=b8._priority.get(Q.name);b8._priority.get($[J].name)<K&&(Q=$[J])}return Q.name==="x32"?this.getTypeInfo("i32"):Q}_evalUnaryOp($,Q){let J=this.evalExpression($.right,Q);if($.operator==="&")return new MX(J);if($.operator==="*")return J instanceof MX?J.reference.getSubData(this,$.postfix,Q):(console.error(`Invalid dereference. Line ${$.line}`),null);let K=J instanceof X0?J.value:J instanceof s?Array.from(J.data):null;switch($.operator){case"+":{if(q1(K)){let Z=K.map((X,W)=>+X);return new s(Z,J.typeInfo)}let Y=K,q=this._maxFormatTypeInfo([J.typeInfo,J.typeInfo]);return new X0(+Y,q)}case"-":{if(q1(K)){let Z=K.map((X,W)=>-X);return new s(Z,J.typeInfo)}let Y=K,q=this._maxFormatTypeInfo([J.typeInfo,J.typeInfo]);return new X0(-Y,q)}case"!":{if(q1(K)){let Z=K.map((X,W)=>X?0:1);return new s(Z,J.typeInfo)}let Y=K,q=this._maxFormatTypeInfo([J.typeInfo,J.typeInfo]);return new X0(Y?0:1,q)}case"~":{if(q1(K)){let Z=K.map((X,W)=>~X);return new s(Z,J.typeInfo)}let Y=K,q=this._maxFormatTypeInfo([J.typeInfo,J.typeInfo]);return new X0(~Y,q)}}return console.error(`Invalid unary operator ${$.operator}. Line ${$.line}`),null}_evalBinaryOp($,Q){let J=this.evalExpression($.left,Q),K=this.evalExpression($.right,Q),Y=J instanceof X0?J.value:J instanceof s||J instanceof r1?Array.from(J.data):null,q=K instanceof X0?K.value:K instanceof s||K instanceof r1?Array.from(K.data):null;switch($.operator){case"+":{if(q1(Y)&&q1(q)){let F=Y,H=q;if(F.length!==H.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let B=F.map((z,A)=>z+H[A]);return new s(B,J.typeInfo)}if(q1(Y)){let F=q,H=Y.map((B,z)=>B+F);return new s(H,J.typeInfo)}if(q1(q)){let F=Y,H=q.map((B,z)=>F+B);return new s(H,K.typeInfo)}let Z=Y,X=q,W=this._maxFormatTypeInfo([J.typeInfo,K.typeInfo]);return new X0(Z+X,W)}case"-":{if(q1(Y)&&q1(q)){let F=Y,H=q;if(F.length!==H.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let B=F.map((z,A)=>z-H[A]);return new s(B,J.typeInfo)}if(q1(Y)){let F=q,H=Y.map((B,z)=>B-F);return new s(H,J.typeInfo)}if(q1(q)){let F=Y,H=q.map((B,z)=>F-B);return new s(H,K.typeInfo)}let Z=Y,X=q,W=this._maxFormatTypeInfo([J.typeInfo,K.typeInfo]);return new X0(Z-X,W)}case"*":{if(q1(Y)&&q1(q)){let F=Y,H=q;if(J instanceof r1&&K instanceof r1){let B=function(G,w,T,D){if(U4[w.name]===void 0||U4[D.name]===void 0)return null;let P=U4[w.name][0],j=U4[w.name][1],E=U4[D.name][0];if(P!==U4[D.name][1])return null;let L=Array(E*j);for(let h=0;h<j;h++)for(let _=0;_<E;_++){let S=0;for(let I=0;I<P;I++)S+=G[I*j+h]*T[_*P+I];L[h*E+_]=S}return L}(F,J.typeInfo,H,K.typeInfo);if(B===null)return console.error(`Matrix multiplication failed. Line ${$.line}.`),null;let z=U4[K.typeInfo.name][0],A=U4[J.typeInfo.name][1],R=this.getTypeInfo(`mat${z}x${A}f`);return new r1(B,R)}if(J instanceof r1&&K instanceof s){let B=function(z,A,R,G){if(U4[A.name]===void 0||Ic[G.name]===void 0)return null;let w=U4[A.name][0],T=U4[A.name][1];if(w!==R.length)return null;let D=Array(T);for(let P=0;P<T;P++){let j=0;for(let E=0;E<w;E++)j+=z[E*T+P]*R[E];D[P]=j}return D}(F,J.typeInfo,H,K.typeInfo);return B===null?(console.error(`Matrix vector multiplication failed. Line ${$.line}.`),null):new s(B,K.typeInfo)}if(J instanceof s&&K instanceof r1){let B=function(z,A,R,G){if(Ic[A.name]===void 0||U4[G.name]===void 0)return null;let w=U4[G.name][0],T=U4[G.name][1];if(T!==z.length)return null;let D=[];for(let P=0;P<w;P++){let j=0;for(let E=0;E<T;E++)j+=z[E]*R[E*w+P];D[P]=j}return D}(F,J.typeInfo,H,K.typeInfo);return B===null?(console.error(`Matrix vector multiplication failed. Line ${$.line}.`),null):new s(B,J.typeInfo)}{if(F.length!==H.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let B=F.map((z,A)=>z*H[A]);return new s(B,J.typeInfo)}}if(q1(Y)){let F=q,H=Y.map((B,z)=>B*F);return J instanceof r1?new r1(H,J.typeInfo):new s(H,J.typeInfo)}if(q1(q)){let F=Y,H=q.map((B,z)=>F*B);return K instanceof r1?new r1(H,K.typeInfo):new s(H,K.typeInfo)}let Z=Y,X=q,W=this._maxFormatTypeInfo([J.typeInfo,K.typeInfo]);return new X0(Z*X,W)}case"%":{if(q1(Y)&&q1(q)){let F=Y,H=q;if(F.length!==H.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let B=F.map((z,A)=>z%H[A]);return new s(B,J.typeInfo)}if(q1(Y)){let F=q,H=Y.map((B,z)=>B%F);return new s(H,J.typeInfo)}if(q1(q)){let F=Y,H=q.map((B,z)=>F%B);return new s(H,K.typeInfo)}let Z=Y,X=q,W=this._maxFormatTypeInfo([J.typeInfo,K.typeInfo]);return new X0(Z%X,W)}case"/":{if(q1(Y)&&q1(q)){let F=Y,H=q;if(F.length!==H.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let B=F.map((z,A)=>z/H[A]);return new s(B,J.typeInfo)}if(q1(Y)){let F=q,H=Y.map((B,z)=>B/F);return new s(H,J.typeInfo)}if(q1(q)){let F=Y,H=q.map((B,z)=>F/B);return new s(H,K.typeInfo)}let Z=Y,X=q,W=this._maxFormatTypeInfo([J.typeInfo,K.typeInfo]);return new X0(Z/X,W)}case"&":{if(q1(Y)&&q1(q)){let F=Y,H=q;if(F.length!==H.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let B=F.map((z,A)=>z&H[A]);return new s(B,J.typeInfo)}if(q1(Y)){let F=q,H=Y.map((B,z)=>B&F);return new s(H,J.typeInfo)}if(q1(q)){let F=Y,H=q.map((B,z)=>F&B);return new s(H,K.typeInfo)}let Z=Y,X=q,W=this._maxFormatTypeInfo([J.typeInfo,K.typeInfo]);return new X0(Z&X,W)}case"|":{if(q1(Y)&&q1(q)){let F=Y,H=q;if(F.length!==H.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let B=F.map((z,A)=>z|H[A]);return new s(B,J.typeInfo)}if(q1(Y)){let F=q,H=Y.map((B,z)=>B|F);return new s(H,J.typeInfo)}if(q1(q)){let F=Y,H=q.map((B,z)=>F|B);return new s(H,K.typeInfo)}let Z=Y,X=q,W=this._maxFormatTypeInfo([J.typeInfo,K.typeInfo]);return new X0(Z|X,W)}case"^":{if(q1(Y)&&q1(q)){let F=Y,H=q;if(F.length!==H.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let B=F.map((z,A)=>z^H[A]);return new s(B,J.typeInfo)}if(q1(Y)){let F=q,H=Y.map((B,z)=>B^F);return new s(H,J.typeInfo)}if(q1(q)){let F=Y,H=q.map((B,z)=>F^B);return new s(H,K.typeInfo)}let Z=Y,X=q,W=this._maxFormatTypeInfo([J.typeInfo,K.typeInfo]);return new X0(Z^X,W)}case"<<":{if(q1(Y)&&q1(q)){let F=Y,H=q;if(F.length!==H.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let B=F.map((z,A)=>z<<H[A]);return new s(B,J.typeInfo)}if(q1(Y)){let F=q,H=Y.map((B,z)=>B<<F);return new s(H,J.typeInfo)}if(q1(q)){let F=Y,H=q.map((B,z)=>F<<B);return new s(H,K.typeInfo)}let Z=Y,X=q,W=this._maxFormatTypeInfo([J.typeInfo,K.typeInfo]);return new X0(Z<<X,W)}case">>":{if(q1(Y)&&q1(q)){let F=Y,H=q;if(F.length!==H.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let B=F.map((z,A)=>z>>H[A]);return new s(B,J.typeInfo)}if(q1(Y)){let F=q,H=Y.map((B,z)=>B>>F);return new s(H,J.typeInfo)}if(q1(q)){let F=Y,H=q.map((B,z)=>F>>B);return new s(H,K.typeInfo)}let Z=Y,X=q,W=this._maxFormatTypeInfo([J.typeInfo,K.typeInfo]);return new X0(Z>>X,W)}case">":if(q1(Y)&&q1(q)){let Z=Y,X=q;if(Z.length!==X.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let W=Z.map((F,H)=>F>X[H]?1:0);return new s(W,J.typeInfo)}if(q1(Y)){let Z=q,X=Y.map((W,F)=>W>Z?1:0);return new s(X,J.typeInfo)}if(q1(q)){let Z=Y,X=q.map((W,F)=>Z>W?1:0);return new s(X,K.typeInfo)}return new X0(Y>q?1:0,this.getTypeInfo("bool"));case"<":if(q1(Y)&&q1(q)){let Z=Y,X=q;if(Z.length!==X.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let W=Z.map((F,H)=>F<X[H]?1:0);return new s(W,J.typeInfo)}if(q1(Y)){let Z=q,X=Y.map((W,F)=>W<Z?1:0);return new s(X,J.typeInfo)}if(q1(q)){let Z=Y,X=q.map((W,F)=>Z<W?1:0);return new s(X,K.typeInfo)}return new X0(Y<q?1:0,this.getTypeInfo("bool"));case"==":if(q1(Y)&&q1(q)){let Z=Y,X=q;if(Z.length!==X.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let W=Z.map((F,H)=>F===X[H]?1:0);return new s(W,J.typeInfo)}if(q1(Y)){let Z=q,X=Y.map((W,F)=>W==Z?1:0);return new s(X,J.typeInfo)}if(q1(q)){let Z=Y,X=q.map((W,F)=>Z==W?1:0);return new s(X,K.typeInfo)}return new X0(Y===q?1:0,this.getTypeInfo("bool"));case"!=":if(q1(Y)&&q1(q)){let Z=Y,X=q;if(Z.length!==X.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let W=Z.map((F,H)=>F!==X[H]?1:0);return new s(W,J.typeInfo)}if(q1(Y)){let Z=q,X=Y.map((W,F)=>W!==Z?1:0);return new s(X,J.typeInfo)}if(q1(q)){let Z=Y,X=q.map((W,F)=>Z!==W?1:0);return new s(X,K.typeInfo)}return new X0(Y!==q?1:0,this.getTypeInfo("bool"));case">=":if(q1(Y)&&q1(q)){let Z=Y,X=q;if(Z.length!==X.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let W=Z.map((F,H)=>F>=X[H]?1:0);return new s(W,J.typeInfo)}if(q1(Y)){let Z=q,X=Y.map((W,F)=>W>=Z?1:0);return new s(X,J.typeInfo)}if(q1(q)){let Z=Y,X=q.map((W,F)=>Z>=W?1:0);return new s(X,K.typeInfo)}return new X0(Y>=q?1:0,this.getTypeInfo("bool"));case"<=":if(q1(Y)&&q1(q)){let Z=Y,X=q;if(Z.length!==X.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let W=Z.map((F,H)=>F<=X[H]?1:0);return new s(W,J.typeInfo)}if(q1(Y)){let Z=q,X=Y.map((W,F)=>W<=Z?1:0);return new s(X,J.typeInfo)}if(q1(q)){let Z=Y,X=q.map((W,F)=>Z<=W?1:0);return new s(X,K.typeInfo)}return new X0(Y<=q?1:0,this.getTypeInfo("bool"));case"&&":if(q1(Y)&&q1(q)){let Z=Y,X=q;if(Z.length!==X.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let W=Z.map((F,H)=>F&&X[H]?1:0);return new s(W,J.typeInfo)}if(q1(Y)){let Z=q,X=Y.map((W,F)=>W&&Z?1:0);return new s(X,J.typeInfo)}if(q1(q)){let Z=Y,X=q.map((W,F)=>Z&&W?1:0);return new s(X,K.typeInfo)}return new X0(Y&&q?1:0,this.getTypeInfo("bool"));case"||":if(q1(Y)&&q1(q)){let Z=Y,X=q;if(Z.length!==X.length)return console.error(`Vector length mismatch. Line ${$.line}.`),null;let W=Z.map((F,H)=>F||X[H]?1:0);return new s(W,J.typeInfo)}if(q1(Y)){let Z=q,X=Y.map((W,F)=>W||Z?1:0);return new s(X,J.typeInfo)}if(q1(q)){let Z=Y,X=q.map((W,F)=>Z||W?1:0);return new s(X,K.typeInfo)}return new X0(Y||q?1:0,this.getTypeInfo("bool"))}return console.error(`Unknown operator ${$.operator}. Line ${$.line}`),null}_evalCall($,Q){if($.cachedReturnValue!==null)return $.cachedReturnValue;let J=Q.clone();J.currentFunctionName=$.name;let K=Q.getFunction($.name);if(!K){if($.isBuiltin)return this._callBuiltinFunction($,J);return this.getTypeInfo($.name)?this._evalCreate($,Q):(console.error(`Unknown function "${$.name}". Line ${$.line}`),null)}for(let Y=0;Y<K.node.args.length;++Y){let q=K.node.args[Y],Z=this.evalExpression($.args[Y],J);J.createVariable(q.name,Z,q)}return this._execStatements(K.node.body,J)}_callBuiltinFunction($,Q){switch($.name){case"all":return this.builtins.All($,Q);case"any":return this.builtins.Any($,Q);case"select":return this.builtins.Select($,Q);case"arrayLength":return this.builtins.ArrayLength($,Q);case"abs":return this.builtins.Abs($,Q);case"acos":return this.builtins.Acos($,Q);case"acosh":return this.builtins.Acosh($,Q);case"asin":return this.builtins.Asin($,Q);case"asinh":return this.builtins.Asinh($,Q);case"atan":return this.builtins.Atan($,Q);case"atanh":return this.builtins.Atanh($,Q);case"atan2":return this.builtins.Atan2($,Q);case"ceil":return this.builtins.Ceil($,Q);case"clamp":return this.builtins.Clamp($,Q);case"cos":return this.builtins.Cos($,Q);case"cosh":return this.builtins.Cosh($,Q);case"countLeadingZeros":return this.builtins.CountLeadingZeros($,Q);case"countOneBits":return this.builtins.CountOneBits($,Q);case"countTrailingZeros":return this.builtins.CountTrailingZeros($,Q);case"cross":return this.builtins.Cross($,Q);case"degrees":return this.builtins.Degrees($,Q);case"determinant":return this.builtins.Determinant($,Q);case"distance":return this.builtins.Distance($,Q);case"dot":return this.builtins.Dot($,Q);case"dot4U8Packed":return this.builtins.Dot4U8Packed($,Q);case"dot4I8Packed":return this.builtins.Dot4I8Packed($,Q);case"exp":return this.builtins.Exp($,Q);case"exp2":return this.builtins.Exp2($,Q);case"extractBits":return this.builtins.ExtractBits($,Q);case"faceForward":return this.builtins.FaceForward($,Q);case"firstLeadingBit":return this.builtins.FirstLeadingBit($,Q);case"firstTrailingBit":return this.builtins.FirstTrailingBit($,Q);case"floor":return this.builtins.Floor($,Q);case"fma":return this.builtins.Fma($,Q);case"fract":return this.builtins.Fract($,Q);case"frexp":return this.builtins.Frexp($,Q);case"insertBits":return this.builtins.InsertBits($,Q);case"inverseSqrt":return this.builtins.InverseSqrt($,Q);case"ldexp":return this.builtins.Ldexp($,Q);case"length":return this.builtins.Length($,Q);case"log":return this.builtins.Log($,Q);case"log2":return this.builtins.Log2($,Q);case"max":return this.builtins.Max($,Q);case"min":return this.builtins.Min($,Q);case"mix":return this.builtins.Mix($,Q);case"modf":return this.builtins.Modf($,Q);case"normalize":return this.builtins.Normalize($,Q);case"pow":return this.builtins.Pow($,Q);case"quantizeToF16":return this.builtins.QuantizeToF16($,Q);case"radians":return this.builtins.Radians($,Q);case"reflect":return this.builtins.Reflect($,Q);case"refract":return this.builtins.Refract($,Q);case"reverseBits":return this.builtins.ReverseBits($,Q);case"round":return this.builtins.Round($,Q);case"saturate":return this.builtins.Saturate($,Q);case"sign":return this.builtins.Sign($,Q);case"sin":return this.builtins.Sin($,Q);case"sinh":return this.builtins.Sinh($,Q);case"smoothstep":return this.builtins.SmoothStep($,Q);case"sqrt":return this.builtins.Sqrt($,Q);case"step":return this.builtins.Step($,Q);case"tan":return this.builtins.Tan($,Q);case"tanh":return this.builtins.Tanh($,Q);case"transpose":return this.builtins.Transpose($,Q);case"trunc":return this.builtins.Trunc($,Q);case"dpdx":return this.builtins.Dpdx($,Q);case"dpdxCoarse":return this.builtins.DpdxCoarse($,Q);case"dpdxFine":return this.builtins.DpdxFine($,Q);case"dpdy":return this.builtins.Dpdy($,Q);case"dpdyCoarse":return this.builtins.DpdyCoarse($,Q);case"dpdyFine":return this.builtins.DpdyFine($,Q);case"fwidth":return this.builtins.Fwidth($,Q);case"fwidthCoarse":return this.builtins.FwidthCoarse($,Q);case"fwidthFine":return this.builtins.FwidthFine($,Q);case"textureDimensions":return this.builtins.TextureDimensions($,Q);case"textureGather":return this.builtins.TextureGather($,Q);case"textureGatherCompare":return this.builtins.TextureGatherCompare($,Q);case"textureLoad":return this.builtins.TextureLoad($,Q);case"textureNumLayers":return this.builtins.TextureNumLayers($,Q);case"textureNumLevels":return this.builtins.TextureNumLevels($,Q);case"textureNumSamples":return this.builtins.TextureNumSamples($,Q);case"textureSample":return this.builtins.TextureSample($,Q);case"textureSampleBias":return this.builtins.TextureSampleBias($,Q);case"textureSampleCompare":return this.builtins.TextureSampleCompare($,Q);case"textureSampleCompareLevel":return this.builtins.TextureSampleCompareLevel($,Q);case"textureSampleGrad":return this.builtins.TextureSampleGrad($,Q);case"textureSampleLevel":return this.builtins.TextureSampleLevel($,Q);case"textureSampleBaseClampToEdge":return this.builtins.TextureSampleBaseClampToEdge($,Q);case"textureStore":return this.builtins.TextureStore($,Q);case"atomicLoad":return this.builtins.AtomicLoad($,Q);case"atomicStore":return this.builtins.AtomicStore($,Q);case"atomicAdd":return this.builtins.AtomicAdd($,Q);case"atomicSub":return this.builtins.AtomicSub($,Q);case"atomicMax":return this.builtins.AtomicMax($,Q);case"atomicMin":return this.builtins.AtomicMin($,Q);case"atomicAnd":return this.builtins.AtomicAnd($,Q);case"atomicOr":return this.builtins.AtomicOr($,Q);case"atomicXor":return this.builtins.AtomicXor($,Q);case"atomicExchange":return this.builtins.AtomicExchange($,Q);case"atomicCompareExchangeWeak":return this.builtins.AtomicCompareExchangeWeak($,Q);case"pack4x8snorm":return this.builtins.Pack4x8snorm($,Q);case"pack4x8unorm":return this.builtins.Pack4x8unorm($,Q);case"pack4xI8":return this.builtins.Pack4xI8($,Q);case"pack4xU8":return this.builtins.Pack4xU8($,Q);case"pack4x8Clamp":return this.builtins.Pack4x8Clamp($,Q);case"pack4xU8Clamp":return this.builtins.Pack4xU8Clamp($,Q);case"pack2x16snorm":return this.builtins.Pack2x16snorm($,Q);case"pack2x16unorm":return this.builtins.Pack2x16unorm($,Q);case"pack2x16float":return this.builtins.Pack2x16float($,Q);case"unpack4x8snorm":return this.builtins.Unpack4x8snorm($,Q);case"unpack4x8unorm":return this.builtins.Unpack4x8unorm($,Q);case"unpack4xI8":return this.builtins.Unpack4xI8($,Q);case"unpack4xU8":return this.builtins.Unpack4xU8($,Q);case"unpack2x16snorm":return this.builtins.Unpack2x16snorm($,Q);case"unpack2x16unorm":return this.builtins.Unpack2x16unorm($,Q);case"unpack2x16float":return this.builtins.Unpack2x16float($,Q);case"storageBarrier":return this.builtins.StorageBarrier($,Q);case"textureBarrier":return this.builtins.TextureBarrier($,Q);case"workgroupBarrier":return this.builtins.WorkgroupBarrier($,Q);case"workgroupUniformLoad":return this.builtins.WorkgroupUniformLoad($,Q);case"subgroupAdd":return this.builtins.SubgroupAdd($,Q);case"subgroupExclusiveAdd":return this.builtins.SubgroupExclusiveAdd($,Q);case"subgroupInclusiveAdd":return this.builtins.SubgroupInclusiveAdd($,Q);case"subgroupAll":return this.builtins.SubgroupAll($,Q);case"subgroupAnd":return this.builtins.SubgroupAnd($,Q);case"subgroupAny":return this.builtins.SubgroupAny($,Q);case"subgroupBallot":return this.builtins.SubgroupBallot($,Q);case"subgroupBroadcast":return this.builtins.SubgroupBroadcast($,Q);case"subgroupBroadcastFirst":return this.builtins.SubgroupBroadcastFirst($,Q);case"subgroupElect":return this.builtins.SubgroupElect($,Q);case"subgroupMax":return this.builtins.SubgroupMax($,Q);case"subgroupMin":return this.builtins.SubgroupMin($,Q);case"subgroupMul":return this.builtins.SubgroupMul($,Q);case"subgroupExclusiveMul":return this.builtins.SubgroupExclusiveMul($,Q);case"subgroupInclusiveMul":return this.builtins.SubgroupInclusiveMul($,Q);case"subgroupOr":return this.builtins.SubgroupOr($,Q);case"subgroupShuffle":return this.builtins.SubgroupShuffle($,Q);case"subgroupShuffleDown":return this.builtins.SubgroupShuffleDown($,Q);case"subgroupShuffleUp":return this.builtins.SubgroupShuffleUp($,Q);case"subgroupShuffleXor":return this.builtins.SubgroupShuffleXor($,Q);case"subgroupXor":return this.builtins.SubgroupXor($,Q);case"quadBroadcast":return this.builtins.QuadBroadcast($,Q);case"quadSwapDiagonal":return this.builtins.QuadSwapDiagonal($,Q);case"quadSwapX":return this.builtins.QuadSwapX($,Q);case"quadSwapY":return this.builtins.QuadSwapY($,Q)}let J=Q.getFunction($.name);if(J){let K=Q.clone();for(let Y=0;Y<J.node.args.length;++Y){let q=J.node.args[Y],Z=this.evalExpression($.args[Y],K);K.setVariable(q.name,Z,q)}return this._execStatements(J.node.body,K)}return null}_callConstructorValue($,Q){if(!$.args||$.args.length===0)return new X0(0,this.getTypeInfo($.type));let J=this.evalExpression($.args[0],Q);return J.typeInfo=this.getTypeInfo($.type),J.getSubData(this,$.postfix,Q).clone()}_callConstructorVec($,Q){let J=this.getTypeInfo($.type),K=$.type.getTypeName(),Y=Ic[K];if(Y===void 0)return console.error(`Invalid vec constructor ${K}. Line ${$.line}`),null;let q=[];if($ instanceof L7)if($.isVector){let Z=$.vectorValue;for(let X of Z)q.push(X)}else q.push($.scalarValue);else if($.args)for(let Z of $.args){let X=this.evalExpression(Z,Q);if(X instanceof s){let W=X.data;for(let F=0;F<W.length;++F){let H=W[F];q.push(H)}}else if(X instanceof X0){let W=X.value;q.push(W)}}if($.type instanceof U0&&$.type.format===null&&($.type.format=U0.f32),q.length===0){let Z=Array(Y).fill(0);return new s(Z,J).getSubData(this,$.postfix,Q)}if(q.length===1)for(;q.length<Y;)q.push(q[0]);if(q.length<Y)return console.error(`Invalid vec constructor. Line ${$.line}`),null;return new s(q.length>Y?q.slice(0,Y):q,J).getSubData(this,$.postfix,Q)}_callConstructorMatrix($,Q){let J=this.getTypeInfo($.type),K=$.type.getTypeName(),Y=U4[K];if(Y===void 0)return console.error(`Invalid matrix constructor ${K}. Line ${$.line}`),null;let q=[];if($ instanceof L7)if($.isVector){let Z=$.vectorValue;for(let X of Z)q.push(X)}else q.push($.scalarValue);else if($.args)for(let Z of $.args){let X=this.evalExpression(Z,Q);X instanceof s?q.push(...X.data):X instanceof X0?q.push(X.value):X instanceof r1&&q.push(...X.data)}if(J instanceof iq&&J.format===null&&(J.format=this.getTypeInfo("f32")),q.length===0){let Z=Array(Y[2]).fill(0);return new r1(Z,J).getSubData(this,$.postfix,Q)}return q.length!==Y[2]?(console.error(`Invalid matrix constructor. Line ${$.line}`),null):new r1(q,J).getSubData(this,$.postfix,Q)}}b8._breakObj=new v3(new S9("BREAK",null),null),b8._continueObj=new v3(new S9("CONTINUE",null),null),b8._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);class QU0{constructor(){this.constants=new Map,this.aliases=new Map,this.structs=new Map}}class JU0{constructor(){this._tokens=[],this._current=0,this._currentLine=1,this._deferArrayCountEval=[],this._currentLoop=[],this._context=new QU0,this._exec=new b8,this._forwardTypeCount=0}parse($){this._initialize($),this._deferArrayCountEval.length=0;let Q=[];for(;!this._isAtEnd();){let J=this._global_decl_or_directive();if(!J)break;Q.push(J)}if(this._deferArrayCountEval.length>0){for(let J of this._deferArrayCountEval){let{arrayType:K,countNode:Y}=J;if(Y instanceof m4){let q=Y.name,Z=this._context.constants.get(q);if(Z)try{let X=Z.constEvaluate(this._exec);K.count=X}catch(X){}}}this._deferArrayCountEval.length=0}if(this._forwardTypeCount>0)for(let J of Q)J.search((K)=>{K instanceof xc||K instanceof hV?K.type=this._forwardType(K.type):K instanceof CH?K.format=this._forwardType(K.format):K instanceof XJ||K instanceof DH||K instanceof LV?K.type=this._forwardType(K.type):K instanceof PH?K.returnType=this._forwardType(K.returnType):K instanceof yc&&(K.type=this._forwardType(K.type))});return Q}_forwardType($){if($ instanceof gc){let Q=this._getType($.name);if(Q)return Q}else $ instanceof hV?$.type=this._forwardType($.type):$ instanceof CH&&($.format=this._forwardType($.format));return $}_initialize($){if($)if(typeof $=="string"){let Q=new aF0($);this._tokens=Q.scanTokens()}else this._tokens=$;else this._tokens=[];this._current=0}_updateNode($,Q){return $.line=Q!=null?Q:this._currentLine,$}_error($,Q){return{token:$,message:Q,toString:()=>`${Q}`}}_isAtEnd(){return this._current>=this._tokens.length||this._peek().type==l.eof}_match($){if($ instanceof F0)return!!this._check($)&&(this._advance(),!0);for(let Q=0,J=$.length;Q<J;++Q){let K=$[Q];if(this._check(K))return this._advance(),!0}return!1}_consume($,Q){if(this._check($))return this._advance();throw this._error(this._peek(),`${Q}. Line:${this._currentLine}`)}_check($){if(this._isAtEnd())return!1;let Q=this._peek();if($ instanceof Array){let J=Q.type,K=!1;for(let Y of $){if(J===Y)return!0;Y===l.tokens.name&&(K=!0)}if(K){let Y=l.tokens.name.rule.exec(Q.lexeme);if(Y&&Y.index==0&&Y[0]==Q.lexeme)return!0}return!1}if(Q.type===$)return!0;if($===l.tokens.name){let J=l.tokens.name.rule.exec(Q.lexeme);return J&&J.index==0&&J[0]==Q.lexeme}return!1}_advance(){var $,Q;return this._currentLine=(Q=($=this._peek())===null||$===void 0?void 0:$.line)!==null&&Q!==void 0?Q:-1,this._isAtEnd()||this._current++,this._previous()}_peek(){return this._tokens[this._current]}_previous(){return this._tokens[this._current-1]}_global_decl_or_directive(){for(;this._match(l.tokens.semicolon)&&!this._isAtEnd(););if(this._match(l.keywords.alias)){let Q=this._type_alias();return this._consume(l.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([Q]),Q}if(this._match(l.keywords.diagnostic)){let Q=this._diagnostic();return this._consume(l.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([Q]),Q}if(this._match(l.keywords.requires)){let Q=this._requires_directive();return this._consume(l.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([Q]),Q}if(this._match(l.keywords.enable)){let Q=this._enable_directive();return this._consume(l.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([Q]),Q}let $=this._attribute();if(this._check(l.keywords.var)){let Q=this._global_variable_decl();return Q!=null&&(Q.attributes=$),this._consume(l.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([Q]),Q}if(this._check(l.keywords.override)){let Q=this._override_variable_decl();return Q!=null&&(Q.attributes=$),this._consume(l.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([Q]),Q}if(this._check(l.keywords.let)){let Q=this._global_let_decl();return Q!=null&&(Q.attributes=$),this._consume(l.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([Q]),Q}if(this._check(l.keywords.const)){let Q=this._global_const_decl();return Q!=null&&(Q.attributes=$),this._consume(l.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([Q]),Q}if(this._check(l.keywords.struct)){let Q=this._struct_decl();return Q!=null&&(Q.attributes=$),this._exec.reflection.updateAST([Q]),Q}if(this._check(l.keywords.fn)){let Q=this._function_decl();return Q!=null&&(Q.attributes=$),this._exec.reflection.updateAST([Q]),Q}return null}_function_decl(){if(!this._match(l.keywords.fn))return null;let $=this._currentLine,Q=this._consume(l.tokens.ident,"Expected function name.").toString();this._consume(l.tokens.paren_left,"Expected '(' for function arguments.");let J=[];if(!this._check(l.tokens.paren_right))do{if(this._check(l.tokens.paren_right))break;let Z=this._attribute(),X=this._consume(l.tokens.name,"Expected argument name.").toString();this._consume(l.tokens.colon,"Expected ':' for argument type.");let W=this._attribute(),F=this._type_decl();F!=null&&(F.attributes=W,J.push(this._updateNode(new yc(X,F,Z))))}while(this._match(l.tokens.comma));this._consume(l.tokens.paren_right,"Expected ')' after function arguments.");let K=null;if(this._match(l.tokens.arrow)){let Z=this._attribute();K=this._type_decl(),K!=null&&(K.attributes=Z)}let Y=this._compound_statement(),q=this._currentLine;return this._updateNode(new PH(Q,J,K,Y,$,q),$)}_compound_statement(){let $=[];for(this._consume(l.tokens.brace_left,"Expected '{' for block.");!this._check(l.tokens.brace_right);){let Q=this._statement();Q!==null&&$.push(Q)}return this._consume(l.tokens.brace_right,"Expected '}' for block."),$}_statement(){for(;this._match(l.tokens.semicolon)&&!this._isAtEnd(););if(this._check(l.tokens.attr)&&this._attribute(),this._check(l.keywords.if))return this._if_statement();if(this._check(l.keywords.switch))return this._switch_statement();if(this._check(l.keywords.loop))return this._loop_statement();if(this._check(l.keywords.for))return this._for_statement();if(this._check(l.keywords.while))return this._while_statement();if(this._check(l.keywords.continuing))return this._continuing_statement();if(this._check(l.keywords.static_assert))return this._static_assert_statement();if(this._check(l.tokens.brace_left))return this._compound_statement();let $=null;if(this._check(l.keywords.return))$=this._return_statement();else if(this._check([l.keywords.var,l.keywords.let,l.keywords.const]))$=this._variable_statement();else if(this._match(l.keywords.discard))$=this._updateNode(new sF0);else if(this._match(l.keywords.break)){let Q=this._updateNode(new ac);if(this._currentLoop.length>0){let J=this._currentLoop[this._currentLoop.length-1];Q.loopId=J.id}$=Q,this._check(l.keywords.if)&&(this._advance(),Q.condition=this._optional_paren_expression())}else if(this._match(l.keywords.continue)){let Q=this._updateNode(new tc);if(!(this._currentLoop.length>0))throw this._error(this._peek(),`Continue statement must be inside a loop. Line: ${Q.line}`);{let J=this._currentLoop[this._currentLoop.length-1];Q.loopId=J.id}$=Q}else $=this._increment_decrement_statement()||this._func_call_statement()||this._assignment_statement();return $!=null&&this._consume(l.tokens.semicolon,"Expected ';' after statement."),$}_static_assert_statement(){if(!this._match(l.keywords.static_assert))return null;let $=this._currentLine,Q=this._optional_paren_expression();return this._updateNode(new lF0(Q),$)}_while_statement(){if(!this._match(l.keywords.while))return null;let $=this._updateNode(new mc(null,null));return this._currentLoop.push($),$.condition=this._optional_paren_expression(),this._check(l.tokens.attr)&&this._attribute(),$.body=this._compound_statement(),this._currentLoop.pop(),$}_continuing_statement(){let $=this._currentLoop.length>0?this._currentLoop[this._currentLoop.length-1].id:-1;if(!this._match(l.keywords.continuing))return null;let Q=this._currentLine,J=this._compound_statement();return this._updateNode(new NP(J,$),Q)}_for_statement(){if(!this._match(l.keywords.for))return null;this._consume(l.tokens.paren_left,"Expected '('.");let $=this._updateNode(new pc(null,null,null,null));return this._currentLoop.push($),$.init=this._check(l.tokens.semicolon)?null:this._for_init(),this._consume(l.tokens.semicolon,"Expected ';'."),$.condition=this._check(l.tokens.semicolon)?null:this._short_circuit_or_expression(),this._consume(l.tokens.semicolon,"Expected ';'."),$.increment=this._check(l.tokens.paren_right)?null:this._for_increment(),this._consume(l.tokens.paren_right,"Expected ')'."),this._check(l.tokens.attr)&&this._attribute(),$.body=this._compound_statement(),this._currentLoop.pop(),$}_for_init(){return this._variable_statement()||this._func_call_statement()||this._assignment_statement()}_for_increment(){return this._func_call_statement()||this._increment_decrement_statement()||this._assignment_statement()}_variable_statement(){if(this._check(l.keywords.var)){let $=this._variable_decl();if($===null)throw this._error(this._peek(),"Variable declaration expected.");let Q=null;return this._match(l.tokens.equal)&&(Q=this._short_circuit_or_expression()),this._updateNode(new XJ($.name,$.type,$.storage,$.access,Q),$.line)}if(this._match(l.keywords.let)){let $=this._currentLine,Q=this._consume(l.tokens.name,"Expected name for let.").toString(),J=null;if(this._match(l.tokens.colon)){let Y=this._attribute();J=this._type_decl(),J!=null&&(J.attributes=Y)}this._consume(l.tokens.equal,"Expected '=' for let.");let K=this._short_circuit_or_expression();return this._updateNode(new DH(Q,J,null,null,K),$)}if(this._match(l.keywords.const)){let $=this._currentLine,Q=this._consume(l.tokens.name,"Expected name for const.").toString(),J=null;if(this._match(l.tokens.colon)){let Y=this._attribute();J=this._type_decl(),J!=null&&(J.attributes=Y)}this._consume(l.tokens.equal,"Expected '=' for const.");let K=this._short_circuit_or_expression();return J===null&&K instanceof L7&&(J=K.type),this._updateNode(new LV(Q,J,null,null,K),$)}return null}_increment_decrement_statement(){let $=this._current,Q=this._unary_expression();if(Q==null)return null;if(!this._check(l.increment_operators))return this._current=$,null;let J=this._consume(l.increment_operators,"Expected increment operator");return this._updateNode(new dc(J.type===l.tokens.plus_plus?OH.increment:OH.decrement,Q))}_assignment_statement(){let $=null,Q=this._currentLine;if(this._check(l.tokens.brace_right))return null;let J=this._match(l.tokens.underscore);if(J||($=this._unary_expression()),!J&&$==null)return null;let K=this._consume(l.assignment_operators,"Expected assignment operator."),Y=this._short_circuit_or_expression();return this._updateNode(new nc(jV.parse(K.lexeme),$,Y),Q)}_func_call_statement(){if(!this._check(l.tokens.ident))return null;let $=this._currentLine,Q=this._current,J=this._consume(l.tokens.ident,"Expected function name."),K=this._argument_expression_list();return K===null?(this._current=Q,null):this._updateNode(new GP(J.lexeme,K),$)}_loop_statement(){if(!this._match(l.keywords.loop))return null;this._check(l.tokens.attr)&&this._attribute(),this._consume(l.tokens.brace_left,"Expected '{' for loop.");let $=this._updateNode(new lc([],null));this._currentLoop.push($);let Q=this._statement();for(;Q!==null;){if(Array.isArray(Q))for(let J of Q)$.body.push(J);else $.body.push(Q);if(Q instanceof NP){$.continuing=Q;break}Q=this._statement()}return this._currentLoop.pop(),this._consume(l.tokens.brace_right,"Expected '}' for loop."),$}_switch_statement(){if(!this._match(l.keywords.switch))return null;let $=this._updateNode(new rc(null,[]));if(this._currentLoop.push($),$.condition=this._optional_paren_expression(),this._check(l.tokens.attr)&&this._attribute(),this._consume(l.tokens.brace_left,"Expected '{' for switch."),$.cases=this._switch_body(),$.cases==null||$.cases.length==0)throw this._error(this._previous(),"Expected 'case' or 'default'.");return this._consume(l.tokens.brace_right,"Expected '}' for switch."),this._currentLoop.pop(),$}_switch_body(){let $=[],Q=!1;for(;this._check([l.keywords.default,l.keywords.case]);){if(this._match(l.keywords.case)){let J=this._case_selectors();for(let Y of J)if(Y instanceof vV){if(Q)throw this._error(this._previous(),"Multiple default cases in switch statement.");Q=!0;break}this._match(l.tokens.colon),this._check(l.tokens.attr)&&this._attribute(),this._consume(l.tokens.brace_left,"Exected '{' for switch case.");let K=this._case_body();this._consume(l.tokens.brace_right,"Exected '}' for switch case."),$.push(this._updateNode(new Ku(J,K)))}if(this._match(l.keywords.default)){if(Q)throw this._error(this._previous(),"Multiple default cases in switch statement.");this._match(l.tokens.colon),this._check(l.tokens.attr)&&this._attribute(),this._consume(l.tokens.brace_left,"Exected '{' for switch default.");let J=this._case_body();this._consume(l.tokens.brace_right,"Exected '}' for switch default."),$.push(this._updateNode(new Yu(J)))}}return $}_case_selectors(){let $=[];for(this._match(l.keywords.default)?$.push(this._updateNode(new vV)):$.push(this._shift_expression());this._match(l.tokens.comma);)this._match(l.keywords.default)?$.push(this._updateNode(new vV)):$.push(this._shift_expression());return $}_case_body(){if(this._match(l.keywords.fallthrough))return this._consume(l.tokens.semicolon,"Expected ';'"),[];let $=this._statement();if($==null)return[];$ instanceof Array||($=[$]);let Q=this._case_body();return Q.length==0?$:[...$,Q[0]]}_if_statement(){if(!this._match(l.keywords.if))return null;let $=this._currentLine,Q=this._optional_paren_expression();this._check(l.tokens.attr)&&this._attribute();let J=this._compound_statement(),K=[];this._match_elseif()&&(this._check(l.tokens.attr)&&this._attribute(),K=this._elseif_statement(K));let Y=null;return this._match(l.keywords.else)&&(this._check(l.tokens.attr)&&this._attribute(),Y=this._compound_statement()),this._updateNode(new ic(Q,J,K,Y),$)}_match_elseif(){return this._tokens[this._current].type===l.keywords.else&&this._tokens[this._current+1].type===l.keywords.if&&(this._advance(),this._advance(),!0)}_elseif_statement($=[]){let Q=this._optional_paren_expression(),J=this._compound_statement();return $.push(this._updateNode(new oF0(Q,J))),this._match_elseif()&&(this._check(l.tokens.attr)&&this._attribute(),this._elseif_statement($)),$}_return_statement(){if(!this._match(l.keywords.return))return null;let $=this._short_circuit_or_expression();return this._updateNode(new sc($))}_short_circuit_or_expression(){let $=this._short_circuit_and_expr();for(;this._match(l.tokens.or_or);)$=this._updateNode(new h3(this._previous().toString(),$,this._short_circuit_and_expr()));return $}_short_circuit_and_expr(){let $=this._inclusive_or_expression();for(;this._match(l.tokens.and_and);)$=this._updateNode(new h3(this._previous().toString(),$,this._inclusive_or_expression()));return $}_inclusive_or_expression(){let $=this._exclusive_or_expression();for(;this._match(l.tokens.or);)$=this._updateNode(new h3(this._previous().toString(),$,this._exclusive_or_expression()));return $}_exclusive_or_expression(){let $=this._and_expression();for(;this._match(l.tokens.xor);)$=this._updateNode(new h3(this._previous().toString(),$,this._and_expression()));return $}_and_expression(){let $=this._equality_expression();for(;this._match(l.tokens.and);)$=this._updateNode(new h3(this._previous().toString(),$,this._equality_expression()));return $}_equality_expression(){let $=this._relational_expression();return this._match([l.tokens.equal_equal,l.tokens.not_equal])?this._updateNode(new h3(this._previous().toString(),$,this._relational_expression())):$}_relational_expression(){let $=this._shift_expression();for(;this._match([l.tokens.less_than,l.tokens.greater_than,l.tokens.less_than_equal,l.tokens.greater_than_equal]);)$=this._updateNode(new h3(this._previous().toString(),$,this._shift_expression()));return $}_shift_expression(){let $=this._additive_expression();for(;this._match([l.tokens.shift_left,l.tokens.shift_right]);)$=this._updateNode(new h3(this._previous().toString(),$,this._additive_expression()));return $}_additive_expression(){let $=this._multiplicative_expression();for(;this._match([l.tokens.plus,l.tokens.minus]);)$=this._updateNode(new h3(this._previous().toString(),$,this._multiplicative_expression()));return $}_multiplicative_expression(){let $=this._unary_expression();for(;this._match([l.tokens.star,l.tokens.forward_slash,l.tokens.modulo]);)$=this._updateNode(new h3(this._previous().toString(),$,this._unary_expression()));return $}_unary_expression(){return this._match([l.tokens.minus,l.tokens.bang,l.tokens.tilde,l.tokens.star,l.tokens.and])?this._updateNode(new w7(this._previous().toString(),this._unary_expression())):this._singular_expression()}_singular_expression(){let $=this._primary_expression(),Q=this._postfix_expression();return Q&&($.postfix=Q),$}_postfix_expression(){if(this._match(l.tokens.bracket_left)){let $=this._short_circuit_or_expression();this._consume(l.tokens.bracket_right,"Expected ']'.");let Q=this._updateNode(new bX($)),J=this._postfix_expression();return J&&(Q.postfix=J),Q}if(this._match(l.tokens.period)){let $=this._consume(l.tokens.name,"Expected member name."),Q=this._postfix_expression(),J=this._updateNode(new sq($.lexeme));return Q&&(J.postfix=Q),J}return null}_getStruct($){if(this._context.aliases.has($))return this._context.aliases.get($).type;if(this._context.structs.has($))return this._context.structs.get($);return null}_getType($){let Q=this._getStruct($);if(Q!==null)return Q;switch($){case"void":return M0.void;case"bool":return M0.bool;case"i32":return M0.i32;case"u32":return M0.u32;case"f32":return M0.f32;case"f16":return M0.f16;case"vec2f":return U0.vec2f;case"vec3f":return U0.vec3f;case"vec4f":return U0.vec4f;case"vec2i":return U0.vec2i;case"vec3i":return U0.vec3i;case"vec4i":return U0.vec4i;case"vec2u":return U0.vec2u;case"vec3u":return U0.vec3u;case"vec4u":return U0.vec4u;case"vec2h":return U0.vec2h;case"vec3h":return U0.vec3h;case"vec4h":return U0.vec4h;case"mat2x2f":return U0.mat2x2f;case"mat2x3f":return U0.mat2x3f;case"mat2x4f":return U0.mat2x4f;case"mat3x2f":return U0.mat3x2f;case"mat3x3f":return U0.mat3x3f;case"mat3x4f":return U0.mat3x4f;case"mat4x2f":return U0.mat4x2f;case"mat4x3f":return U0.mat4x3f;case"mat4x4f":return U0.mat4x4f;case"mat2x2h":return U0.mat2x2h;case"mat2x3h":return U0.mat2x3h;case"mat2x4h":return U0.mat2x4h;case"mat3x2h":return U0.mat3x2h;case"mat3x3h":return U0.mat3x3h;case"mat3x4h":return U0.mat3x4h;case"mat4x2h":return U0.mat4x2h;case"mat4x3h":return U0.mat4x3h;case"mat4x4h":return U0.mat4x4h;case"mat2x2i":return U0.mat2x2i;case"mat2x3i":return U0.mat2x3i;case"mat2x4i":return U0.mat2x4i;case"mat3x2i":return U0.mat3x2i;case"mat3x3i":return U0.mat3x3i;case"mat3x4i":return U0.mat3x4i;case"mat4x2i":return U0.mat4x2i;case"mat4x3i":return U0.mat4x3i;case"mat4x4i":return U0.mat4x4i;case"mat2x2u":return U0.mat2x2u;case"mat2x3u":return U0.mat2x3u;case"mat2x4u":return U0.mat2x4u;case"mat3x2u":return U0.mat3x2u;case"mat3x3u":return U0.mat3x3u;case"mat3x4u":return U0.mat3x4u;case"mat4x2u":return U0.mat4x2u;case"mat4x3u":return U0.mat4x3u;case"mat4x4u":return U0.mat4x4u}return null}_validateTypeRange($,Q){if(Q.name==="i32"){if($<-2147483648||$>2147483647)throw this._error(this._previous(),`Value out of range for i32: ${$}. Line: ${this._currentLine}.`)}else if(Q.name==="u32"&&($<0||$>4294967295))throw this._error(this._previous(),`Value out of range for u32: ${$}. Line: ${this._currentLine}.`)}_primary_expression(){if(this._match(l.tokens.ident)){let J=this._previous().toString();if(this._check(l.tokens.paren_left)){let K=this._argument_expression_list(),Y=this._getType(J);return Y!==null?this._updateNode(new g$(Y,K)):this._updateNode(new OP(J,K))}if(this._context.constants.has(J)){let K=this._context.constants.get(J);return this._updateNode(new ec(J,K.value))}return this._updateNode(new m4(J))}if(this._match(l.tokens.int_literal)){let J=this._previous().toString(),K=J.endsWith("i")||J.endsWith("i")?M0.i32:J.endsWith("u")||J.endsWith("U")?M0.u32:M0.x32,Y=parseInt(J);return this._validateTypeRange(Y,K),this._updateNode(new L7(new X0(Y,this._exec.getTypeInfo(K)),K))}if(this._match(l.tokens.uint_literal)){let J=parseInt(this._previous().toString());return this._validateTypeRange(J,M0.u32),this._updateNode(new L7(new X0(J,this._exec.getTypeInfo(M0.u32)),M0.u32))}if(this._match([l.tokens.decimal_float_literal,l.tokens.hex_float_literal])){let J=this._previous().toString(),K=J.endsWith("h");K&&(J=J.substring(0,J.length-1));let Y=parseFloat(J);this._validateTypeRange(Y,K?M0.f16:M0.f32);let q=K?M0.f16:M0.f32;return this._updateNode(new L7(new X0(Y,this._exec.getTypeInfo(q)),q))}if(this._match([l.keywords.true,l.keywords.false])){let J=this._previous().toString()===l.keywords.true.rule;return this._updateNode(new L7(new X0(J?1:0,this._exec.getTypeInfo(M0.bool)),M0.bool))}if(this._check(l.tokens.paren_left))return this._paren_expression();if(this._match(l.keywords.bitcast)){this._consume(l.tokens.less_than,"Expected '<'.");let J=this._type_decl();this._consume(l.tokens.greater_than,"Expected '>'.");let K=this._paren_expression();return this._updateNode(new $u(J,K))}let $=this._type_decl(),Q=this._argument_expression_list();return this._updateNode(new g$($,Q))}_argument_expression_list(){if(!this._match(l.tokens.paren_left))return null;let $=[];do{if(this._check(l.tokens.paren_right))break;let Q=this._short_circuit_or_expression();$.push(Q)}while(this._match(l.tokens.comma));return this._consume(l.tokens.paren_right,"Expected ')' for agument list"),$}_optional_paren_expression(){this._match(l.tokens.paren_left);let $=this._short_circuit_or_expression();return this._match(l.tokens.paren_right),$}_paren_expression(){this._consume(l.tokens.paren_left,"Expected '('.");let $=this._short_circuit_or_expression();return this._consume(l.tokens.paren_right,"Expected ')'."),$}_struct_decl(){if(!this._match(l.keywords.struct))return null;let $=this._currentLine,Q=this._consume(l.tokens.ident,"Expected name for struct.").toString();this._consume(l.tokens.brace_left,"Expected '{' for struct body.");let J=[];for(;!this._check(l.tokens.brace_right);){let q=this._attribute(),Z=this._consume(l.tokens.name,"Expected variable name.").toString();this._consume(l.tokens.colon,"Expected ':' for struct member type.");let X=this._attribute(),W=this._type_decl();W!=null&&(W.attributes=X),this._check(l.tokens.brace_right)?this._match(l.tokens.comma):this._consume(l.tokens.comma,"Expected ',' for struct member."),J.push(this._updateNode(new xc(Z,W,q)))}this._consume(l.tokens.brace_right,"Expected '}' after struct body.");let K=this._currentLine,Y=this._updateNode(new ZJ(Q,J,$,K),$);return this._context.structs.set(Q,Y),Y}_global_variable_decl(){let $=this._variable_decl();if(!$)return null;if(this._match(l.tokens.equal)){let Q=this._const_expression();$.value=Q}if($.type!==null&&$.value instanceof L7){if($.value.type.name!=="x32"){if($.type.getTypeName()!==$.value.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${$.value.type.name} to ${$.type.name}. Line:${this._currentLine}`)}$.value.isScalar&&this._validateTypeRange($.value.scalarValue,$.type),$.value.type=$.type}else $.type===null&&$.value instanceof L7&&($.type=$.value.type.name==="x32"?M0.i32:$.value.type,$.value.isScalar&&this._validateTypeRange($.value.scalarValue,$.type));return $}_override_variable_decl(){let $=this._override_decl();return $&&this._match(l.tokens.equal)&&($.value=this._const_expression()),$}_global_const_decl(){var $;if(!this._match(l.keywords.const))return null;let Q=this._consume(l.tokens.name,"Expected variable name"),J=this._currentLine,K=null;if(this._match(l.tokens.colon)){let X=this._attribute();K=this._type_decl(),K!=null&&(K.attributes=X)}let Y=null;this._consume(l.tokens.equal,"const declarations require an assignment");let q=this._short_circuit_or_expression();try{let X=[M0.f32],W=q.constEvaluate(this._exec,X);W instanceof X0&&this._validateTypeRange(W.value,X[0]),X[0]instanceof U0&&X[0].format===null&&W.typeInfo instanceof iq&&W.typeInfo.format!==null&&(W.typeInfo.format.name==="f16"?X[0].format=M0.f16:W.typeInfo.format.name==="f32"?X[0].format=M0.f32:W.typeInfo.format.name==="i32"?X[0].format=M0.i32:W.typeInfo.format.name==="u32"?X[0].format=M0.u32:W.typeInfo.format.name==="bool"?X[0].format=M0.bool:console.error(`TODO: impelement template format type ${W.typeInfo.format.name}`)),Y=this._updateNode(new L7(W,X[0])),this._exec.context.setVariable(Q.toString(),W)}catch(X){Y=q}if(K!==null&&Y instanceof L7){if(Y.type.name!=="x32"){if(K.getTypeName()!==Y.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${Y.type.name} to ${K.name}. Line:${this._currentLine}`)}Y.type=K,Y.isScalar&&this._validateTypeRange(Y.scalarValue,Y.type)}else K===null&&Y instanceof L7&&(K=($=Y==null?void 0:Y.type)!==null&&$!==void 0?$:M0.f32,K===M0.x32&&(K=M0.i32));let Z=this._updateNode(new LV(Q.toString(),K,"","",Y),J);return this._context.constants.set(Z.name,Z),Z}_global_let_decl(){if(!this._match(l.keywords.let))return null;let $=this._currentLine,Q=this._consume(l.tokens.name,"Expected variable name"),J=null;if(this._match(l.tokens.colon)){let Y=this._attribute();J=this._type_decl(),J!=null&&(J.attributes=Y)}let K=null;if(this._match(l.tokens.equal)&&(K=this._const_expression()),J!==null&&K instanceof L7){if(K.type.name!=="x32"){if(J.getTypeName()!==K.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${K.type.name} to ${J.name}. Line:${this._currentLine}`)}K.type=J}else J===null&&K instanceof L7&&(J=K.type.name==="x32"?M0.i32:K.type);return K instanceof L7&&K.isScalar&&this._validateTypeRange(K.scalarValue,J),this._updateNode(new DH(Q.toString(),J,"","",K),$)}_const_expression(){return this._short_circuit_or_expression()}_variable_decl(){if(!this._match(l.keywords.var))return null;let $=this._currentLine,Q="",J="";this._match(l.tokens.less_than)&&(Q=this._consume(l.storage_class,"Expected storage_class.").toString(),this._match(l.tokens.comma)&&(J=this._consume(l.access_mode,"Expected access_mode.").toString()),this._consume(l.tokens.greater_than,"Expected '>'."));let K=this._consume(l.tokens.name,"Expected variable name"),Y=null;if(this._match(l.tokens.colon)){let q=this._attribute();Y=this._type_decl(),Y!=null&&(Y.attributes=q)}return this._updateNode(new XJ(K.toString(),Y,Q,J,null),$)}_override_decl(){if(!this._match(l.keywords.override))return null;let $=this._consume(l.tokens.name,"Expected variable name"),Q=null;if(this._match(l.tokens.colon)){let J=this._attribute();Q=this._type_decl(),Q!=null&&(Q.attributes=J)}return this._updateNode(new RP($.toString(),Q,null))}_diagnostic(){this._consume(l.tokens.paren_left,"Expected '('");let $=this._consume(l.tokens.ident,"Expected severity control name.");this._consume(l.tokens.comma,"Expected ','");let Q=this._consume(l.tokens.ident,"Expected diagnostic rule name.").toString();if(this._match(l.tokens.period))Q+=`.${this._consume(l.tokens.ident,"Expected diagnostic message.").toString()}`;return this._consume(l.tokens.paren_right,"Expected ')'"),this._updateNode(new oc($.toString(),Q))}_enable_directive(){let $=this._consume(l.tokens.ident,"identity expected.");return this._updateNode(new rF0($.toString()))}_requires_directive(){let $=[this._consume(l.tokens.ident,"identity expected.").toString()];for(;this._match(l.tokens.comma);){let Q=this._consume(l.tokens.ident,"identity expected.");$.push(Q.toString())}return this._updateNode(new iF0($))}_type_alias(){let $=this._consume(l.tokens.ident,"identity expected.");this._consume(l.tokens.equal,"Expected '=' for type alias.");let Q=this._type_decl();if(Q===null)throw this._error(this._peek(),"Expected Type for Alias.");this._context.aliases.has(Q.name)&&(Q=this._context.aliases.get(Q.name).type);let J=this._updateNode(new wP($.toString(),Q));return this._context.aliases.set(J.name,J),J}_type_decl(){if(this._check([l.tokens.ident,...l.texel_format,l.keywords.bool,l.keywords.f32,l.keywords.i32,l.keywords.u32])){let J=this._advance().toString();if(this._context.structs.has(J))return this._context.structs.get(J);if(this._context.aliases.has(J))return this._context.aliases.get(J).type;if(!this._getType(J)){let K=this._updateNode(new gc(J));return this._forwardTypeCount++,K}return this._updateNode(new M0(J))}let $=this._texture_sampler_types();if($)return $;if(this._check(l.template_types)){let J=this._advance().toString(),K=null,Y=null;return this._match(l.tokens.less_than)&&(K=this._type_decl(),Y=null,this._match(l.tokens.comma)&&(Y=this._consume(l.access_mode,"Expected access_mode for pointer").toString()),this._consume(l.tokens.greater_than,"Expected '>' for type.")),this._updateNode(new U0(J,K,Y))}if(this._match(l.keywords.ptr)){let J=this._previous().toString();this._consume(l.tokens.less_than,"Expected '<' for pointer.");let K=this._consume(l.storage_class,"Expected storage_class for pointer");this._consume(l.tokens.comma,"Expected ',' for pointer.");let Y=this._type_decl(),q=null;return this._match(l.tokens.comma)&&(q=this._consume(l.access_mode,"Expected access_mode for pointer").toString()),this._consume(l.tokens.greater_than,"Expected '>' for pointer."),this._updateNode(new hV(J,K.toString(),Y,q))}let Q=this._attribute();if(this._match(l.keywords.array)){let J=null,K=-1,Y=this._previous(),q=null;if(this._match(l.tokens.less_than)){J=this._type_decl(),this._context.aliases.has(J.name)&&(J=this._context.aliases.get(J.name).type);let X="";if(this._match(l.tokens.comma)){q=this._shift_expression();try{X=q.constEvaluate(this._exec).toString(),q=null}catch(W){X="1"}}this._consume(l.tokens.greater_than,"Expected '>' for array."),K=X?parseInt(X):0}let Z=this._updateNode(new CH(Y.toString(),Q,J,K));return q&&this._deferArrayCountEval.push({arrayType:Z,countNode:q}),Z}return null}_texture_sampler_types(){if(this._match(l.sampler_type))return this._updateNode(new TH(this._previous().toString(),null,null));if(this._match(l.depth_texture_type))return this._updateNode(new TH(this._previous().toString(),null,null));if(this._match(l.sampled_texture_type)||this._match(l.multisampled_texture_type)){let $=this._previous();this._consume(l.tokens.less_than,"Expected '<' for sampler type.");let Q=this._type_decl();return this._consume(l.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new TH($.toString(),Q,null))}if(this._match(l.storage_texture_type)){let $=this._previous();this._consume(l.tokens.less_than,"Expected '<' for sampler type.");let Q=this._consume(l.texel_format,"Invalid texel format.").toString();this._consume(l.tokens.comma,"Expected ',' after texel format.");let J=this._consume(l.access_mode,"Expected access mode for storage texture type.").toString();return this._consume(l.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new TH($.toString(),Q,J))}return null}_attribute(){let $=[];for(;this._match(l.tokens.attr);){let Q=this._consume(l.attribute_name,"Expected attribute name"),J=this._updateNode(new qu(Q.toString(),null));if(this._match(l.tokens.paren_left)){if(J.value=this._consume(l.literal_or_ident,"Expected attribute value").toString(),this._check(l.tokens.comma)){this._advance();do{let K=this._consume(l.literal_or_ident,"Expected attribute value").toString();J.value instanceof Array||(J.value=[J.value]),J.value.push(K)}while(this._match(l.tokens.comma))}this._consume(l.tokens.paren_right,"Expected ')'")}$.push(J)}return $.length==0?null:$}}class Uu extends WJ{constructor($){super(),$&&this.update($)}update($){let Q=new JU0().parse($);this.updateAST(Q)}}function Hu($){let Q={attributes:[],bindings:[]},J;try{J=Z01($)}catch(q){return g0.error(q.message)(),Q}for(let q of J.uniforms){let Z=[];for(let X of q.type?.members||[])Z.push({name:X.name,type:KU0(X.type)});Q.bindings.push({type:"uniform",name:q.name,group:q.group,location:q.binding,members:Z})}for(let q of J.textures)Q.bindings.push({type:"texture",name:q.name,group:q.group,location:q.binding});for(let q of J.samplers)Q.bindings.push({type:"sampler",name:q.name,group:q.group,location:q.binding});let K=J.entry.vertex[0],Y=K?.inputs.length||0;for(let q=0;q<Y;q++){let Z=K.inputs[q];if(Z.locationType==="location"){let X=KU0(Z.type);Q.attributes.push({name:Z.name,location:Number(Z.location),type:X})}}return Q}function KU0($){return $.format?`${$.name}<${$.format.name}>`:$.name}function Z01($){try{return new Uu($)}catch(Q){if(Q instanceof Error)throw Q;let J="WGSL parse error";if(typeof Q==="object"&&Q?.message)J+=`: ${Q.message} `;if(typeof Q==="object"&&Q?.token)J+=Q.token.line||"";throw Error(J,{cause:Q})}}var GM1=1/Math.PI*180,wM1=0.005555555555555556*Math.PI,X01={EPSILON:0.000000000001,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1};globalThis.mathgl=globalThis.mathgl||{config:{...X01}};var Q8=globalThis.mathgl.config;function Nu($,{precision:Q=Q8.precision}={}){return $=W01($),`${parseFloat($.toPrecision(Q))}`}function cK($){return Array.isArray($)||ArrayBuffer.isView($)&&!($ instanceof DataView)}function f3($,Q,J){return U01($,(K)=>Math.max(Q,Math.min(J,K)))}function gX($,Q,J){if(cK($))return $.map((K,Y)=>gX(K,Q[Y],J));return J*Q+(1-J)*$}function uK($,Q,J){let K=Q8.EPSILON;if(J)Q8.EPSILON=J;try{if($===Q)return!0;if(cK($)&&cK(Q)){if($.length!==Q.length)return!1;for(let Y=0;Y<$.length;++Y)if(!uK($[Y],Q[Y]))return!1;return!0}if($&&$.equals)return $.equals(Q);if(Q&&Q.equals)return Q.equals($);if(typeof $==="number"&&typeof Q==="number")return Math.abs($-Q)<=Q8.EPSILON*Math.max(1,Math.abs($),Math.abs(Q));return!1}finally{Q8.EPSILON=K}}function W01($){return Math.round($/Q8.EPSILON)*Q8.EPSILON}function F01($){return $.clone?$.clone():Array($.length)}function U01($,Q,J){if(cK($)){let K=$;J=J||F01(K);for(let Y=0;Y<J.length&&Y<K.length;++Y){let q=typeof $==="number"?$:$[Y];J[Y]=Q(q,Y,J)}return J}return Q($)}class fV extends Array{clone(){return new this.constructor().copy(this)}fromArray($,Q=0){for(let J=0;J<this.ELEMENTS;++J)this[J]=$[J+Q];return this.check()}toArray($=[],Q=0){for(let J=0;J<this.ELEMENTS;++J)$[Q+J]=this[J];return $}toObject($){return $}from($){return Array.isArray($)?this.copy($):this.fromObject($)}to($){if($===this)return this;return cK($)?this.toArray($):this.toObject($)}toTarget($){return $?this.to($):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(Q8)}formatString($){let Q="";for(let J=0;J<this.ELEMENTS;++J)Q+=(J>0?", ":"")+Nu(this[J],$);return`${$.printTypes?this.constructor.name:""}[${Q}]`}equals($){if(!$||this.length!==$.length)return!1;for(let Q=0;Q<this.ELEMENTS;++Q)if(!uK(this[Q],$[Q]))return!1;return!0}exactEquals($){if(!$||this.length!==$.length)return!1;for(let Q=0;Q<this.ELEMENTS;++Q)if(this[Q]!==$[Q])return!1;return!0}negate(){for(let $=0;$<this.ELEMENTS;++$)this[$]=-this[$];return this.check()}lerp($,Q,J){if(J===void 0)return this.lerp(this,$,Q);for(let K=0;K<this.ELEMENTS;++K){let Y=$[K],q=typeof Q==="number"?Q:Q[K];this[K]=Y+J*(q-Y)}return this.check()}min($){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]=Math.min($[Q],this[Q]);return this.check()}max($){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]=Math.max($[Q],this[Q]);return this.check()}clamp($,Q){for(let J=0;J<this.ELEMENTS;++J)this[J]=Math.min(Math.max(this[J],$[J]),Q[J]);return this.check()}add(...$){for(let Q of $)for(let J=0;J<this.ELEMENTS;++J)this[J]+=Q[J];return this.check()}subtract(...$){for(let Q of $)for(let J=0;J<this.ELEMENTS;++J)this[J]-=Q[J];return this.check()}scale($){if(typeof $==="number")for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]*=$;else for(let Q=0;Q<this.ELEMENTS&&Q<$.length;++Q)this[Q]*=$[Q];return this.check()}multiplyByScalar($){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]*=$;return this.check()}check(){if(Q8.debug&&!this.validate())throw Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);return this}validate(){let $=this.length===this.ELEMENTS;for(let Q=0;Q<this.ELEMENTS;++Q)$=$&&Number.isFinite(this[Q]);return $}sub($){return this.subtract($)}setScalar($){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]=$;return this.check()}addScalar($){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]+=$;return this.check()}subScalar($){return this.addScalar(-$)}multiplyScalar($){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]*=$;return this.check()}divideScalar($){return this.multiplyByScalar(1/$)}clampScalar($,Q){for(let J=0;J<this.ELEMENTS;++J)this[J]=Math.min(Math.max(this[J],$),Q);return this.check()}get elements(){return this}}function H01($,Q){if($.length!==Q)return!1;for(let J=0;J<$.length;++J)if(!Number.isFinite($[J]))return!1;return!0}function g8($){if(!Number.isFinite($))throw Error(`Invalid number ${JSON.stringify($)}`);return $}function TP($,Q,J=""){if(Q8.debug&&!H01($,Q))throw Error(`math.gl: ${J} some fields set to invalid numbers'`);return $}function Bu($,Q){if(!$)throw Error(`math.gl assertion ${Q}`)}class zu extends fV{get x(){return this[0]}set x($){this[0]=g8($)}get y(){return this[1]}set y($){this[1]=g8($)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let $=0;for(let Q=0;Q<this.ELEMENTS;++Q)$+=this[Q]*this[Q];return $}magnitudeSquared(){return this.lengthSquared()}distance($){return Math.sqrt(this.distanceSquared($))}distanceSquared($){let Q=0;for(let J=0;J<this.ELEMENTS;++J){let K=this[J]-$[J];Q+=K*K}return g8(Q)}dot($){let Q=0;for(let J=0;J<this.ELEMENTS;++J)Q+=this[J]*$[J];return g8(Q)}normalize(){let $=this.magnitude();if($!==0)for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]/=$;return this.check()}multiply(...$){for(let Q of $)for(let J=0;J<this.ELEMENTS;++J)this[J]*=Q[J];return this.check()}divide(...$){for(let Q of $)for(let J=0;J<this.ELEMENTS;++J)this[J]/=Q[J];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo($){return this.distance($)}distanceToSquared($){return this.distanceSquared($)}getComponent($){return Bu($>=0&&$<this.ELEMENTS,"index is out of range"),g8(this[$])}setComponent($,Q){return Bu($>=0&&$<this.ELEMENTS,"index is out of range"),this[$]=Q,this.check()}addVectors($,Q){return this.copy($).add(Q)}subVectors($,Q){return this.copy($).subtract(Q)}multiplyVectors($,Q){return this.copy($).multiply(Q)}addScaledVector($,Q){return this.add(new this.constructor($).multiplyScalar(Q))}}var UJ={};r2(UJ,{zero:()=>b01,transformMat4:()=>Au,transformMat3:()=>f01,transformMat2d:()=>_01,transformMat2:()=>S01,subtract:()=>qU0,sub:()=>u01,str:()=>g01,squaredLength:()=>HU0,squaredDistance:()=>FU0,sqrLen:()=>l01,sqrDist:()=>n01,set:()=>A01,scaleAndAdd:()=>C01,scale:()=>D01,round:()=>T01,rotate:()=>I01,random:()=>v01,normalize:()=>j01,negate:()=>P01,multiply:()=>ZU0,mul:()=>m01,min:()=>w01,max:()=>O01,lerp:()=>h01,length:()=>UU0,len:()=>c01,inverse:()=>k01,fromValues:()=>B01,forEach:()=>r01,floor:()=>G01,exactEquals:()=>y01,equals:()=>x01,dot:()=>E01,divide:()=>XU0,div:()=>p01,distance:()=>WU0,dist:()=>d01,cross:()=>L01,create:()=>YU0,copy:()=>z01,clone:()=>N01,ceil:()=>R01,angle:()=>M01,add:()=>V01});var y5=0.000001,W7=typeof Float32Array<"u"?Float32Array:Array,FJ=Math.random;function I3($){if($>=0)return Math.round($);return $%0.5===0?Math.floor($):Math.round($)}var vM1=Math.PI/180;function YU0(){let $=new W7(2);if(W7!=Float32Array)$[0]=0,$[1]=0;return $}function N01($){let Q=new W7(2);return Q[0]=$[0],Q[1]=$[1],Q}function B01($,Q){let J=new W7(2);return J[0]=$,J[1]=Q,J}function z01($,Q){return $[0]=Q[0],$[1]=Q[1],$}function A01($,Q,J){return $[0]=Q,$[1]=J,$}function V01($,Q,J){return $[0]=Q[0]+J[0],$[1]=Q[1]+J[1],$}function qU0($,Q,J){return $[0]=Q[0]-J[0],$[1]=Q[1]-J[1],$}function ZU0($,Q,J){return $[0]=Q[0]*J[0],$[1]=Q[1]*J[1],$}function XU0($,Q,J){return $[0]=Q[0]/J[0],$[1]=Q[1]/J[1],$}function R01($,Q){return $[0]=Math.ceil(Q[0]),$[1]=Math.ceil(Q[1]),$}function G01($,Q){return $[0]=Math.floor(Q[0]),$[1]=Math.floor(Q[1]),$}function w01($,Q,J){return $[0]=Math.min(Q[0],J[0]),$[1]=Math.min(Q[1],J[1]),$}function O01($,Q,J){return $[0]=Math.max(Q[0],J[0]),$[1]=Math.max(Q[1],J[1]),$}function T01($,Q){return $[0]=I3(Q[0]),$[1]=I3(Q[1]),$}function D01($,Q,J){return $[0]=Q[0]*J,$[1]=Q[1]*J,$}function C01($,Q,J,K){return $[0]=Q[0]+J[0]*K,$[1]=Q[1]+J[1]*K,$}function WU0($,Q){let J=Q[0]-$[0],K=Q[1]-$[1];return Math.sqrt(J*J+K*K)}function FU0($,Q){let J=Q[0]-$[0],K=Q[1]-$[1];return J*J+K*K}function UU0($){let Q=$[0],J=$[1];return Math.sqrt(Q*Q+J*J)}function HU0($){let Q=$[0],J=$[1];return Q*Q+J*J}function P01($,Q){return $[0]=-Q[0],$[1]=-Q[1],$}function k01($,Q){return $[0]=1/Q[0],$[1]=1/Q[1],$}function j01($,Q){let J=Q[0],K=Q[1],Y=J*J+K*K;if(Y>0)Y=1/Math.sqrt(Y);return $[0]=Q[0]*Y,$[1]=Q[1]*Y,$}function E01($,Q){return $[0]*Q[0]+$[1]*Q[1]}function L01($,Q,J){let K=Q[0]*J[1]-Q[1]*J[0];return $[0]=$[1]=0,$[2]=K,$}function h01($,Q,J,K){let Y=Q[0],q=Q[1];return $[0]=Y+K*(J[0]-Y),$[1]=q+K*(J[1]-q),$}function v01($,Q){Q=Q===void 0?1:Q;let J=FJ()*2*Math.PI;return $[0]=Math.cos(J)*Q,$[1]=Math.sin(J)*Q,$}function S01($,Q,J){let K=Q[0],Y=Q[1];return $[0]=J[0]*K+J[2]*Y,$[1]=J[1]*K+J[3]*Y,$}function _01($,Q,J){let K=Q[0],Y=Q[1];return $[0]=J[0]*K+J[2]*Y+J[4],$[1]=J[1]*K+J[3]*Y+J[5],$}function f01($,Q,J){let K=Q[0],Y=Q[1];return $[0]=J[0]*K+J[3]*Y+J[6],$[1]=J[1]*K+J[4]*Y+J[7],$}function Au($,Q,J){let K=Q[0],Y=Q[1];return $[0]=J[0]*K+J[4]*Y+J[12],$[1]=J[1]*K+J[5]*Y+J[13],$}function I01($,Q,J,K){let Y=Q[0]-J[0],q=Q[1]-J[1],Z=Math.sin(K),X=Math.cos(K);return $[0]=Y*X-q*Z+J[0],$[1]=Y*Z+q*X+J[1],$}function M01($,Q){let J=$[0],K=$[1],Y=Q[0],q=Q[1],Z=Math.sqrt((J*J+K*K)*(Y*Y+q*q)),X=Z&&(J*Y+K*q)/Z;return Math.acos(Math.min(Math.max(X,-1),1))}function b01($){return $[0]=0,$[1]=0,$}function g01($){return`vec2(${$[0]}, ${$[1]})`}function y01($,Q){return $[0]===Q[0]&&$[1]===Q[1]}function x01($,Q){let J=$[0],K=$[1],Y=Q[0],q=Q[1];return Math.abs(J-Y)<=y5*Math.max(1,Math.abs(J),Math.abs(Y))&&Math.abs(K-q)<=y5*Math.max(1,Math.abs(K),Math.abs(q))}var c01=UU0,u01=qU0,m01=ZU0,p01=XU0,d01=WU0,n01=FU0,l01=HU0,r01=function(){let $=YU0();return function(Q,J,K,Y,q,Z){let X,W;if(!J)J=2;if(!K)K=0;if(Y)W=Math.min(Y*J+K,Q.length);else W=Q.length;for(X=K;X<W;X+=J)$[0]=Q[X],$[1]=Q[X+1],q($,$,Z),Q[X]=$[0],Q[X+1]=$[1];return Q}}();function NU0($,Q,J){let K=Q[0],Y=Q[1],q=J[3]*K+J[7]*Y||1;return $[0]=(J[0]*K+J[4]*Y)/q,$[1]=(J[1]*K+J[5]*Y)/q,$}function CP($,Q,J){let K=Q[0],Y=Q[1],q=Q[2],Z=J[3]*K+J[7]*Y+J[11]*q||1;return $[0]=(J[0]*K+J[4]*Y+J[8]*q)/Z,$[1]=(J[1]*K+J[5]*Y+J[9]*q)/Z,$[2]=(J[2]*K+J[6]*Y+J[10]*q)/Z,$}function BU0($,Q,J){let K=Q[0],Y=Q[1];return $[0]=J[0]*K+J[2]*Y,$[1]=J[1]*K+J[3]*Y,$[2]=Q[2],$}var kH={};r2(kH,{zero:()=>z11,transformQuat:()=>wu,transformMat4:()=>IV,transformMat3:()=>Gu,subtract:()=>VU0,sub:()=>G11,str:()=>A11,squaredLength:()=>TU0,squaredDistance:()=>OU0,sqrLen:()=>P11,sqrDist:()=>D11,slerp:()=>U11,set:()=>a01,scaleAndAdd:()=>q11,scale:()=>Y11,round:()=>K11,rotateZ:()=>Du,rotateY:()=>Tu,rotateX:()=>Ou,random:()=>B11,normalize:()=>W11,negate:()=>Z11,multiply:()=>RU0,mul:()=>w11,min:()=>Q11,max:()=>J11,lerp:()=>F11,length:()=>AU0,len:()=>C11,inverse:()=>X11,hermite:()=>H11,fromValues:()=>s01,forEach:()=>k11,floor:()=>$11,exactEquals:()=>V11,equals:()=>R11,dot:()=>Vu,divide:()=>GU0,div:()=>O11,distance:()=>wU0,dist:()=>T11,cross:()=>Ru,create:()=>zU0,copy:()=>o01,clone:()=>i01,ceil:()=>e01,bezier:()=>N11,angle:()=>Cu,add:()=>t01});function zU0(){let $=new W7(3);if(W7!=Float32Array)$[0]=0,$[1]=0,$[2]=0;return $}function i01($){let Q=new W7(3);return Q[0]=$[0],Q[1]=$[1],Q[2]=$[2],Q}function AU0($){let Q=$[0],J=$[1],K=$[2];return Math.sqrt(Q*Q+J*J+K*K)}function s01($,Q,J){let K=new W7(3);return K[0]=$,K[1]=Q,K[2]=J,K}function o01($,Q){return $[0]=Q[0],$[1]=Q[1],$[2]=Q[2],$}function a01($,Q,J,K){return $[0]=Q,$[1]=J,$[2]=K,$}function t01($,Q,J){return $[0]=Q[0]+J[0],$[1]=Q[1]+J[1],$[2]=Q[2]+J[2],$}function VU0($,Q,J){return $[0]=Q[0]-J[0],$[1]=Q[1]-J[1],$[2]=Q[2]-J[2],$}function RU0($,Q,J){return $[0]=Q[0]*J[0],$[1]=Q[1]*J[1],$[2]=Q[2]*J[2],$}function GU0($,Q,J){return $[0]=Q[0]/J[0],$[1]=Q[1]/J[1],$[2]=Q[2]/J[2],$}function e01($,Q){return $[0]=Math.ceil(Q[0]),$[1]=Math.ceil(Q[1]),$[2]=Math.ceil(Q[2]),$}function $11($,Q){return $[0]=Math.floor(Q[0]),$[1]=Math.floor(Q[1]),$[2]=Math.floor(Q[2]),$}function Q11($,Q,J){return $[0]=Math.min(Q[0],J[0]),$[1]=Math.min(Q[1],J[1]),$[2]=Math.min(Q[2],J[2]),$}function J11($,Q,J){return $[0]=Math.max(Q[0],J[0]),$[1]=Math.max(Q[1],J[1]),$[2]=Math.max(Q[2],J[2]),$}function K11($,Q){return $[0]=I3(Q[0]),$[1]=I3(Q[1]),$[2]=I3(Q[2]),$}function Y11($,Q,J){return $[0]=Q[0]*J,$[1]=Q[1]*J,$[2]=Q[2]*J,$}function q11($,Q,J,K){return $[0]=Q[0]+J[0]*K,$[1]=Q[1]+J[1]*K,$[2]=Q[2]+J[2]*K,$}function wU0($,Q){let J=Q[0]-$[0],K=Q[1]-$[1],Y=Q[2]-$[2];return Math.sqrt(J*J+K*K+Y*Y)}function OU0($,Q){let J=Q[0]-$[0],K=Q[1]-$[1],Y=Q[2]-$[2];return J*J+K*K+Y*Y}function TU0($){let Q=$[0],J=$[1],K=$[2];return Q*Q+J*J+K*K}function Z11($,Q){return $[0]=-Q[0],$[1]=-Q[1],$[2]=-Q[2],$}function X11($,Q){return $[0]=1/Q[0],$[1]=1/Q[1],$[2]=1/Q[2],$}function W11($,Q){let J=Q[0],K=Q[1],Y=Q[2],q=J*J+K*K+Y*Y;if(q>0)q=1/Math.sqrt(q);return $[0]=Q[0]*q,$[1]=Q[1]*q,$[2]=Q[2]*q,$}function Vu($,Q){return $[0]*Q[0]+$[1]*Q[1]+$[2]*Q[2]}function Ru($,Q,J){let K=Q[0],Y=Q[1],q=Q[2],Z=J[0],X=J[1],W=J[2];return $[0]=Y*W-q*X,$[1]=q*Z-K*W,$[2]=K*X-Y*Z,$}function F11($,Q,J,K){let Y=Q[0],q=Q[1],Z=Q[2];return $[0]=Y+K*(J[0]-Y),$[1]=q+K*(J[1]-q),$[2]=Z+K*(J[2]-Z),$}function U11($,Q,J,K){let Y=Math.acos(Math.min(Math.max(Vu(Q,J),-1),1)),q=Math.sin(Y),Z=Math.sin((1-K)*Y)/q,X=Math.sin(K*Y)/q;return $[0]=Z*Q[0]+X*J[0],$[1]=Z*Q[1]+X*J[1],$[2]=Z*Q[2]+X*J[2],$}function H11($,Q,J,K,Y,q){let Z=q*q,X=Z*(2*q-3)+1,W=Z*(q-2)+q,F=Z*(q-1),H=Z*(3-2*q);return $[0]=Q[0]*X+J[0]*W+K[0]*F+Y[0]*H,$[1]=Q[1]*X+J[1]*W+K[1]*F+Y[1]*H,$[2]=Q[2]*X+J[2]*W+K[2]*F+Y[2]*H,$}function N11($,Q,J,K,Y,q){let Z=1-q,X=Z*Z,W=q*q,F=X*Z,H=3*q*X,B=3*W*Z,z=W*q;return $[0]=Q[0]*F+J[0]*H+K[0]*B+Y[0]*z,$[1]=Q[1]*F+J[1]*H+K[1]*B+Y[1]*z,$[2]=Q[2]*F+J[2]*H+K[2]*B+Y[2]*z,$}function B11($,Q){Q=Q===void 0?1:Q;let J=FJ()*2*Math.PI,K=FJ()*2-1,Y=Math.sqrt(1-K*K)*Q;return $[0]=Math.cos(J)*Y,$[1]=Math.sin(J)*Y,$[2]=K*Q,$}function IV($,Q,J){let K=Q[0],Y=Q[1],q=Q[2],Z=J[3]*K+J[7]*Y+J[11]*q+J[15];return Z=Z||1,$[0]=(J[0]*K+J[4]*Y+J[8]*q+J[12])/Z,$[1]=(J[1]*K+J[5]*Y+J[9]*q+J[13])/Z,$[2]=(J[2]*K+J[6]*Y+J[10]*q+J[14])/Z,$}function Gu($,Q,J){let K=Q[0],Y=Q[1],q=Q[2];return $[0]=K*J[0]+Y*J[3]+q*J[6],$[1]=K*J[1]+Y*J[4]+q*J[7],$[2]=K*J[2]+Y*J[5]+q*J[8],$}function wu($,Q,J){let K=J[0],Y=J[1],q=J[2],Z=J[3],X=Q[0],W=Q[1],F=Q[2],H=Y*F-q*W,B=q*X-K*F,z=K*W-Y*X,A=Y*z-q*B,R=q*H-K*z,G=K*B-Y*H,w=Z*2;return H*=w,B*=w,z*=w,A*=2,R*=2,G*=2,$[0]=X+H+A,$[1]=W+B+R,$[2]=F+z+G,$}function Ou($,Q,J,K){let Y=[],q=[];return Y[0]=Q[0]-J[0],Y[1]=Q[1]-J[1],Y[2]=Q[2]-J[2],q[0]=Y[0],q[1]=Y[1]*Math.cos(K)-Y[2]*Math.sin(K),q[2]=Y[1]*Math.sin(K)+Y[2]*Math.cos(K),$[0]=q[0]+J[0],$[1]=q[1]+J[1],$[2]=q[2]+J[2],$}function Tu($,Q,J,K){let Y=[],q=[];return Y[0]=Q[0]-J[0],Y[1]=Q[1]-J[1],Y[2]=Q[2]-J[2],q[0]=Y[2]*Math.sin(K)+Y[0]*Math.cos(K),q[1]=Y[1],q[2]=Y[2]*Math.cos(K)-Y[0]*Math.sin(K),$[0]=q[0]+J[0],$[1]=q[1]+J[1],$[2]=q[2]+J[2],$}function Du($,Q,J,K){let Y=[],q=[];return Y[0]=Q[0]-J[0],Y[1]=Q[1]-J[1],Y[2]=Q[2]-J[2],q[0]=Y[0]*Math.cos(K)-Y[1]*Math.sin(K),q[1]=Y[0]*Math.sin(K)+Y[1]*Math.cos(K),q[2]=Y[2],$[0]=q[0]+J[0],$[1]=q[1]+J[1],$[2]=q[2]+J[2],$}function Cu($,Q){let J=$[0],K=$[1],Y=$[2],q=Q[0],Z=Q[1],X=Q[2],W=Math.sqrt((J*J+K*K+Y*Y)*(q*q+Z*Z+X*X)),F=W&&Vu($,Q)/W;return Math.acos(Math.min(Math.max(F,-1),1))}function z11($){return $[0]=0,$[1]=0,$[2]=0,$}function A11($){return`vec3(${$[0]}, ${$[1]}, ${$[2]})`}function V11($,Q){return $[0]===Q[0]&&$[1]===Q[1]&&$[2]===Q[2]}function R11($,Q){let J=$[0],K=$[1],Y=$[2],q=Q[0],Z=Q[1],X=Q[2];return Math.abs(J-q)<=y5*Math.max(1,Math.abs(J),Math.abs(q))&&Math.abs(K-Z)<=y5*Math.max(1,Math.abs(K),Math.abs(Z))&&Math.abs(Y-X)<=y5*Math.max(1,Math.abs(Y),Math.abs(X))}var G11=VU0,w11=RU0,O11=GU0,T11=wU0,D11=OU0,C11=AU0,P11=TU0,k11=function(){let $=zU0();return function(Q,J,K,Y,q,Z){let X,W;if(!J)J=3;if(!K)K=0;if(Y)W=Math.min(Y*J+K,Q.length);else W=Q.length;for(X=K;X<W;X+=J)$[0]=Q[X],$[1]=Q[X+1],$[2]=Q[X+2],q($,$,Z),Q[X]=$[0],Q[X+1]=$[1],Q[X+2]=$[2];return Q}}();var Pu=[0,0,0],PP;class y8 extends zu{static get ZERO(){if(!PP)PP=new y8(0,0,0),Object.freeze(PP);return PP}constructor($=0,Q=0,J=0){super(-0,-0,-0);if(arguments.length===1&&cK($))this.copy($);else{if(Q8.debug)g8($),g8(Q),g8(J);this[0]=$,this[1]=Q,this[2]=J}}set($,Q,J){return this[0]=$,this[1]=Q,this[2]=J,this.check()}copy($){return this[0]=$[0],this[1]=$[1],this[2]=$[2],this.check()}fromObject($){if(Q8.debug)g8($.x),g8($.y),g8($.z);return this[0]=$.x,this[1]=$.y,this[2]=$.z,this.check()}toObject($){return $.x=this[0],$.y=this[1],$.z=this[2],$}get ELEMENTS(){return 3}get z(){return this[2]}set z($){this[2]=g8($)}angle($){return Cu(this,$)}cross($){return Ru(this,this,$),this.check()}rotateX({radians:$,origin:Q=Pu}){return Ou(this,this,Q,$),this.check()}rotateY({radians:$,origin:Q=Pu}){return Tu(this,this,Q,$),this.check()}rotateZ({radians:$,origin:Q=Pu}){return Du(this,this,Q,$),this.check()}transform($){return this.transformAsPoint($)}transformAsPoint($){return IV(this,this,$),this.check()}transformAsVector($){return CP(this,this,$),this.check()}transformByMatrix3($){return Gu(this,this,$),this.check()}transformByMatrix2($){return BU0(this,this,$),this.check()}transformByQuaternion($){return wu(this,this,$),this.check()}}class ku extends fV{toString(){let $="[";if(Q8.printRowMajor){$+="row-major:";for(let Q=0;Q<this.RANK;++Q)for(let J=0;J<this.RANK;++J)$+=` ${this[J*this.RANK+Q]}`}else{$+="column-major:";for(let Q=0;Q<this.ELEMENTS;++Q)$+=` ${this[Q]}`}return $+="]",$}getElementIndex($,Q){return Q*this.RANK+$}getElement($,Q){return this[Q*this.RANK+$]}setElement($,Q,J){return this[Q*this.RANK+$]=g8(J),this}getColumn($,Q=Array(this.RANK).fill(-0)){let J=$*this.RANK;for(let K=0;K<this.RANK;++K)Q[K]=this[J+K];return Q}setColumn($,Q){let J=$*this.RANK;for(let K=0;K<this.RANK;++K)this[J+K]=Q[K];return this}}var c7={};r2(c7,{transpose:()=>ju,translate:()=>hu,targetTo:()=>r11,subtract:()=>EU0,sub:()=>J51,str:()=>i11,set:()=>v11,scale:()=>vu,rotateZ:()=>Iu,rotateY:()=>fu,rotateX:()=>_u,rotate:()=>Su,perspectiveZO:()=>d11,perspectiveNO:()=>kU0,perspectiveFromFieldOfView:()=>n11,perspective:()=>gu,orthoZO:()=>l11,orthoNO:()=>jU0,ortho:()=>yu,multiplyScalarAndAdd:()=>t11,multiplyScalar:()=>a11,multiply:()=>MV,mul:()=>Q51,lookAt:()=>xu,invert:()=>Eu,identity:()=>DU0,getTranslation:()=>x11,getScaling:()=>PU0,getRotation:()=>c11,frustum:()=>bu,fromZRotation:()=>g11,fromYRotation:()=>b11,fromXRotation:()=>M11,fromValues:()=>h11,fromTranslation:()=>_11,fromScaling:()=>f11,fromRotationTranslationScaleOrigin:()=>p11,fromRotationTranslationScale:()=>m11,fromRotationTranslation:()=>CU0,fromRotation:()=>I11,fromQuat2:()=>y11,fromQuat:()=>Mu,frob:()=>s11,exactEquals:()=>e11,equals:()=>$51,determinant:()=>Lu,decompose:()=>u11,create:()=>j11,copy:()=>L11,clone:()=>E11,adjoint:()=>S11,add:()=>o11});function j11(){let $=new W7(16);if(W7!=Float32Array)$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[11]=0,$[12]=0,$[13]=0,$[14]=0;return $[0]=1,$[5]=1,$[10]=1,$[15]=1,$}function E11($){let Q=new W7(16);return Q[0]=$[0],Q[1]=$[1],Q[2]=$[2],Q[3]=$[3],Q[4]=$[4],Q[5]=$[5],Q[6]=$[6],Q[7]=$[7],Q[8]=$[8],Q[9]=$[9],Q[10]=$[10],Q[11]=$[11],Q[12]=$[12],Q[13]=$[13],Q[14]=$[14],Q[15]=$[15],Q}function L11($,Q){return $[0]=Q[0],$[1]=Q[1],$[2]=Q[2],$[3]=Q[3],$[4]=Q[4],$[5]=Q[5],$[6]=Q[6],$[7]=Q[7],$[8]=Q[8],$[9]=Q[9],$[10]=Q[10],$[11]=Q[11],$[12]=Q[12],$[13]=Q[13],$[14]=Q[14],$[15]=Q[15],$}function h11($,Q,J,K,Y,q,Z,X,W,F,H,B,z,A,R,G){let w=new W7(16);return w[0]=$,w[1]=Q,w[2]=J,w[3]=K,w[4]=Y,w[5]=q,w[6]=Z,w[7]=X,w[8]=W,w[9]=F,w[10]=H,w[11]=B,w[12]=z,w[13]=A,w[14]=R,w[15]=G,w}function v11($,Q,J,K,Y,q,Z,X,W,F,H,B,z,A,R,G,w){return $[0]=Q,$[1]=J,$[2]=K,$[3]=Y,$[4]=q,$[5]=Z,$[6]=X,$[7]=W,$[8]=F,$[9]=H,$[10]=B,$[11]=z,$[12]=A,$[13]=R,$[14]=G,$[15]=w,$}function DU0($){return $[0]=1,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=1,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[10]=1,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}function ju($,Q){if($===Q){let J=Q[1],K=Q[2],Y=Q[3],q=Q[6],Z=Q[7],X=Q[11];$[1]=Q[4],$[2]=Q[8],$[3]=Q[12],$[4]=J,$[6]=Q[9],$[7]=Q[13],$[8]=K,$[9]=q,$[11]=Q[14],$[12]=Y,$[13]=Z,$[14]=X}else $[0]=Q[0],$[1]=Q[4],$[2]=Q[8],$[3]=Q[12],$[4]=Q[1],$[5]=Q[5],$[6]=Q[9],$[7]=Q[13],$[8]=Q[2],$[9]=Q[6],$[10]=Q[10],$[11]=Q[14],$[12]=Q[3],$[13]=Q[7],$[14]=Q[11],$[15]=Q[15];return $}function Eu($,Q){let J=Q[0],K=Q[1],Y=Q[2],q=Q[3],Z=Q[4],X=Q[5],W=Q[6],F=Q[7],H=Q[8],B=Q[9],z=Q[10],A=Q[11],R=Q[12],G=Q[13],w=Q[14],T=Q[15],D=J*X-K*Z,P=J*W-Y*Z,j=J*F-q*Z,E=K*W-Y*X,L=K*F-q*X,h=Y*F-q*W,_=H*G-B*R,S=H*w-z*R,I=H*T-A*R,M=B*w-z*G,y=B*T-A*G,b=z*T-A*w,u=D*b-P*y+j*M+E*I-L*S+h*_;if(!u)return null;return u=1/u,$[0]=(X*b-W*y+F*M)*u,$[1]=(Y*y-K*b-q*M)*u,$[2]=(G*h-w*L+T*E)*u,$[3]=(z*L-B*h-A*E)*u,$[4]=(W*I-Z*b-F*S)*u,$[5]=(J*b-Y*I+q*S)*u,$[6]=(w*j-R*h-T*P)*u,$[7]=(H*h-z*j+A*P)*u,$[8]=(Z*y-X*I+F*_)*u,$[9]=(K*I-J*y-q*_)*u,$[10]=(R*L-G*j+T*D)*u,$[11]=(B*j-H*L-A*D)*u,$[12]=(X*S-Z*M-W*_)*u,$[13]=(J*M-K*S+Y*_)*u,$[14]=(G*P-R*E-w*D)*u,$[15]=(H*E-B*P+z*D)*u,$}function S11($,Q){let J=Q[0],K=Q[1],Y=Q[2],q=Q[3],Z=Q[4],X=Q[5],W=Q[6],F=Q[7],H=Q[8],B=Q[9],z=Q[10],A=Q[11],R=Q[12],G=Q[13],w=Q[14],T=Q[15],D=J*X-K*Z,P=J*W-Y*Z,j=J*F-q*Z,E=K*W-Y*X,L=K*F-q*X,h=Y*F-q*W,_=H*G-B*R,S=H*w-z*R,I=H*T-A*R,M=B*w-z*G,y=B*T-A*G,b=z*T-A*w;return $[0]=X*b-W*y+F*M,$[1]=Y*y-K*b-q*M,$[2]=G*h-w*L+T*E,$[3]=z*L-B*h-A*E,$[4]=W*I-Z*b-F*S,$[5]=J*b-Y*I+q*S,$[6]=w*j-R*h-T*P,$[7]=H*h-z*j+A*P,$[8]=Z*y-X*I+F*_,$[9]=K*I-J*y-q*_,$[10]=R*L-G*j+T*D,$[11]=B*j-H*L-A*D,$[12]=X*S-Z*M-W*_,$[13]=J*M-K*S+Y*_,$[14]=G*P-R*E-w*D,$[15]=H*E-B*P+z*D,$}function Lu($){let Q=$[0],J=$[1],K=$[2],Y=$[3],q=$[4],Z=$[5],X=$[6],W=$[7],F=$[8],H=$[9],B=$[10],z=$[11],A=$[12],R=$[13],G=$[14],w=$[15],T=Q*Z-J*q,D=Q*X-K*q,P=J*X-K*Z,j=F*R-H*A,E=F*G-B*A,L=H*G-B*R,h=Q*L-J*E+K*j,_=q*L-Z*E+X*j,S=F*P-H*D+B*T,I=A*P-R*D+G*T;return W*h-Y*_+w*S-z*I}function MV($,Q,J){let K=Q[0],Y=Q[1],q=Q[2],Z=Q[3],X=Q[4],W=Q[5],F=Q[6],H=Q[7],B=Q[8],z=Q[9],A=Q[10],R=Q[11],G=Q[12],w=Q[13],T=Q[14],D=Q[15],P=J[0],j=J[1],E=J[2],L=J[3];return $[0]=P*K+j*X+E*B+L*G,$[1]=P*Y+j*W+E*z+L*w,$[2]=P*q+j*F+E*A+L*T,$[3]=P*Z+j*H+E*R+L*D,P=J[4],j=J[5],E=J[6],L=J[7],$[4]=P*K+j*X+E*B+L*G,$[5]=P*Y+j*W+E*z+L*w,$[6]=P*q+j*F+E*A+L*T,$[7]=P*Z+j*H+E*R+L*D,P=J[8],j=J[9],E=J[10],L=J[11],$[8]=P*K+j*X+E*B+L*G,$[9]=P*Y+j*W+E*z+L*w,$[10]=P*q+j*F+E*A+L*T,$[11]=P*Z+j*H+E*R+L*D,P=J[12],j=J[13],E=J[14],L=J[15],$[12]=P*K+j*X+E*B+L*G,$[13]=P*Y+j*W+E*z+L*w,$[14]=P*q+j*F+E*A+L*T,$[15]=P*Z+j*H+E*R+L*D,$}function hu($,Q,J){let K=J[0],Y=J[1],q=J[2],Z,X,W,F,H,B,z,A,R,G,w,T;if(Q===$)$[12]=Q[0]*K+Q[4]*Y+Q[8]*q+Q[12],$[13]=Q[1]*K+Q[5]*Y+Q[9]*q+Q[13],$[14]=Q[2]*K+Q[6]*Y+Q[10]*q+Q[14],$[15]=Q[3]*K+Q[7]*Y+Q[11]*q+Q[15];else Z=Q[0],X=Q[1],W=Q[2],F=Q[3],H=Q[4],B=Q[5],z=Q[6],A=Q[7],R=Q[8],G=Q[9],w=Q[10],T=Q[11],$[0]=Z,$[1]=X,$[2]=W,$[3]=F,$[4]=H,$[5]=B,$[6]=z,$[7]=A,$[8]=R,$[9]=G,$[10]=w,$[11]=T,$[12]=Z*K+H*Y+R*q+Q[12],$[13]=X*K+B*Y+G*q+Q[13],$[14]=W*K+z*Y+w*q+Q[14],$[15]=F*K+A*Y+T*q+Q[15];return $}function vu($,Q,J){let K=J[0],Y=J[1],q=J[2];return $[0]=Q[0]*K,$[1]=Q[1]*K,$[2]=Q[2]*K,$[3]=Q[3]*K,$[4]=Q[4]*Y,$[5]=Q[5]*Y,$[6]=Q[6]*Y,$[7]=Q[7]*Y,$[8]=Q[8]*q,$[9]=Q[9]*q,$[10]=Q[10]*q,$[11]=Q[11]*q,$[12]=Q[12],$[13]=Q[13],$[14]=Q[14],$[15]=Q[15],$}function Su($,Q,J,K){let Y=K[0],q=K[1],Z=K[2],X=Math.sqrt(Y*Y+q*q+Z*Z),W,F,H,B,z,A,R,G,w,T,D,P,j,E,L,h,_,S,I,M,y,b,u,c;if(X<y5)return null;if(X=1/X,Y*=X,q*=X,Z*=X,F=Math.sin(J),W=Math.cos(J),H=1-W,B=Q[0],z=Q[1],A=Q[2],R=Q[3],G=Q[4],w=Q[5],T=Q[6],D=Q[7],P=Q[8],j=Q[9],E=Q[10],L=Q[11],h=Y*Y*H+W,_=q*Y*H+Z*F,S=Z*Y*H-q*F,I=Y*q*H-Z*F,M=q*q*H+W,y=Z*q*H+Y*F,b=Y*Z*H+q*F,u=q*Z*H-Y*F,c=Z*Z*H+W,$[0]=B*h+G*_+P*S,$[1]=z*h+w*_+j*S,$[2]=A*h+T*_+E*S,$[3]=R*h+D*_+L*S,$[4]=B*I+G*M+P*y,$[5]=z*I+w*M+j*y,$[6]=A*I+T*M+E*y,$[7]=R*I+D*M+L*y,$[8]=B*b+G*u+P*c,$[9]=z*b+w*u+j*c,$[10]=A*b+T*u+E*c,$[11]=R*b+D*u+L*c,Q!==$)$[12]=Q[12],$[13]=Q[13],$[14]=Q[14],$[15]=Q[15];return $}function _u($,Q,J){let K=Math.sin(J),Y=Math.cos(J),q=Q[4],Z=Q[5],X=Q[6],W=Q[7],F=Q[8],H=Q[9],B=Q[10],z=Q[11];if(Q!==$)$[0]=Q[0],$[1]=Q[1],$[2]=Q[2],$[3]=Q[3],$[12]=Q[12],$[13]=Q[13],$[14]=Q[14],$[15]=Q[15];return $[4]=q*Y+F*K,$[5]=Z*Y+H*K,$[6]=X*Y+B*K,$[7]=W*Y+z*K,$[8]=F*Y-q*K,$[9]=H*Y-Z*K,$[10]=B*Y-X*K,$[11]=z*Y-W*K,$}function fu($,Q,J){let K=Math.sin(J),Y=Math.cos(J),q=Q[0],Z=Q[1],X=Q[2],W=Q[3],F=Q[8],H=Q[9],B=Q[10],z=Q[11];if(Q!==$)$[4]=Q[4],$[5]=Q[5],$[6]=Q[6],$[7]=Q[7],$[12]=Q[12],$[13]=Q[13],$[14]=Q[14],$[15]=Q[15];return $[0]=q*Y-F*K,$[1]=Z*Y-H*K,$[2]=X*Y-B*K,$[3]=W*Y-z*K,$[8]=q*K+F*Y,$[9]=Z*K+H*Y,$[10]=X*K+B*Y,$[11]=W*K+z*Y,$}function Iu($,Q,J){let K=Math.sin(J),Y=Math.cos(J),q=Q[0],Z=Q[1],X=Q[2],W=Q[3],F=Q[4],H=Q[5],B=Q[6],z=Q[7];if(Q!==$)$[8]=Q[8],$[9]=Q[9],$[10]=Q[10],$[11]=Q[11],$[12]=Q[12],$[13]=Q[13],$[14]=Q[14],$[15]=Q[15];return $[0]=q*Y+F*K,$[1]=Z*Y+H*K,$[2]=X*Y+B*K,$[3]=W*Y+z*K,$[4]=F*Y-q*K,$[5]=H*Y-Z*K,$[6]=B*Y-X*K,$[7]=z*Y-W*K,$}function _11($,Q){return $[0]=1,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=1,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[10]=1,$[11]=0,$[12]=Q[0],$[13]=Q[1],$[14]=Q[2],$[15]=1,$}function f11($,Q){return $[0]=Q[0],$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=Q[1],$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[10]=Q[2],$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}function I11($,Q,J){let K=J[0],Y=J[1],q=J[2],Z=Math.sqrt(K*K+Y*Y+q*q),X,W,F;if(Z<y5)return null;return Z=1/Z,K*=Z,Y*=Z,q*=Z,W=Math.sin(Q),X=Math.cos(Q),F=1-X,$[0]=K*K*F+X,$[1]=Y*K*F+q*W,$[2]=q*K*F-Y*W,$[3]=0,$[4]=K*Y*F-q*W,$[5]=Y*Y*F+X,$[6]=q*Y*F+K*W,$[7]=0,$[8]=K*q*F+Y*W,$[9]=Y*q*F-K*W,$[10]=q*q*F+X,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}function M11($,Q){let J=Math.sin(Q),K=Math.cos(Q);return $[0]=1,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=K,$[6]=J,$[7]=0,$[8]=0,$[9]=-J,$[10]=K,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}function b11($,Q){let J=Math.sin(Q),K=Math.cos(Q);return $[0]=K,$[1]=0,$[2]=-J,$[3]=0,$[4]=0,$[5]=1,$[6]=0,$[7]=0,$[8]=J,$[9]=0,$[10]=K,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}function g11($,Q){let J=Math.sin(Q),K=Math.cos(Q);return $[0]=K,$[1]=J,$[2]=0,$[3]=0,$[4]=-J,$[5]=K,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[10]=1,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}function CU0($,Q,J){let K=Q[0],Y=Q[1],q=Q[2],Z=Q[3],X=K+K,W=Y+Y,F=q+q,H=K*X,B=K*W,z=K*F,A=Y*W,R=Y*F,G=q*F,w=Z*X,T=Z*W,D=Z*F;return $[0]=1-(A+G),$[1]=B+D,$[2]=z-T,$[3]=0,$[4]=B-D,$[5]=1-(H+G),$[6]=R+w,$[7]=0,$[8]=z+T,$[9]=R-w,$[10]=1-(H+A),$[11]=0,$[12]=J[0],$[13]=J[1],$[14]=J[2],$[15]=1,$}function y11($,Q){let J=new W7(3),K=-Q[0],Y=-Q[1],q=-Q[2],Z=Q[3],X=Q[4],W=Q[5],F=Q[6],H=Q[7],B=K*K+Y*Y+q*q+Z*Z;if(B>0)J[0]=(X*Z+H*K+W*q-F*Y)*2/B,J[1]=(W*Z+H*Y+F*K-X*q)*2/B,J[2]=(F*Z+H*q+X*Y-W*K)*2/B;else J[0]=(X*Z+H*K+W*q-F*Y)*2,J[1]=(W*Z+H*Y+F*K-X*q)*2,J[2]=(F*Z+H*q+X*Y-W*K)*2;return CU0($,Q,J),$}function x11($,Q){return $[0]=Q[12],$[1]=Q[13],$[2]=Q[14],$}function PU0($,Q){let J=Q[0],K=Q[1],Y=Q[2],q=Q[4],Z=Q[5],X=Q[6],W=Q[8],F=Q[9],H=Q[10];return $[0]=Math.sqrt(J*J+K*K+Y*Y),$[1]=Math.sqrt(q*q+Z*Z+X*X),$[2]=Math.sqrt(W*W+F*F+H*H),$}function c11($,Q){let J=new W7(3);PU0(J,Q);let K=1/J[0],Y=1/J[1],q=1/J[2],Z=Q[0]*K,X=Q[1]*Y,W=Q[2]*q,F=Q[4]*K,H=Q[5]*Y,B=Q[6]*q,z=Q[8]*K,A=Q[9]*Y,R=Q[10]*q,G=Z+H+R,w=0;if(G>0)w=Math.sqrt(G+1)*2,$[3]=0.25*w,$[0]=(B-A)/w,$[1]=(z-W)/w,$[2]=(X-F)/w;else if(Z>H&&Z>R)w=Math.sqrt(1+Z-H-R)*2,$[3]=(B-A)/w,$[0]=0.25*w,$[1]=(X+F)/w,$[2]=(z+W)/w;else if(H>R)w=Math.sqrt(1+H-Z-R)*2,$[3]=(z-W)/w,$[0]=(X+F)/w,$[1]=0.25*w,$[2]=(B+A)/w;else w=Math.sqrt(1+R-Z-H)*2,$[3]=(X-F)/w,$[0]=(z+W)/w,$[1]=(B+A)/w,$[2]=0.25*w;return $}function u11($,Q,J,K){Q[0]=K[12],Q[1]=K[13],Q[2]=K[14];let Y=K[0],q=K[1],Z=K[2],X=K[4],W=K[5],F=K[6],H=K[8],B=K[9],z=K[10];J[0]=Math.sqrt(Y*Y+q*q+Z*Z),J[1]=Math.sqrt(X*X+W*W+F*F),J[2]=Math.sqrt(H*H+B*B+z*z);let A=1/J[0],R=1/J[1],G=1/J[2],w=Y*A,T=q*R,D=Z*G,P=X*A,j=W*R,E=F*G,L=H*A,h=B*R,_=z*G,S=w+j+_,I=0;if(S>0)I=Math.sqrt(S+1)*2,$[3]=0.25*I,$[0]=(E-h)/I,$[1]=(L-D)/I,$[2]=(T-P)/I;else if(w>j&&w>_)I=Math.sqrt(1+w-j-_)*2,$[3]=(E-h)/I,$[0]=0.25*I,$[1]=(T+P)/I,$[2]=(L+D)/I;else if(j>_)I=Math.sqrt(1+j-w-_)*2,$[3]=(L-D)/I,$[0]=(T+P)/I,$[1]=0.25*I,$[2]=(E+h)/I;else I=Math.sqrt(1+_-w-j)*2,$[3]=(T-P)/I,$[0]=(L+D)/I,$[1]=(E+h)/I,$[2]=0.25*I;return $}function m11($,Q,J,K){let Y=Q[0],q=Q[1],Z=Q[2],X=Q[3],W=Y+Y,F=q+q,H=Z+Z,B=Y*W,z=Y*F,A=Y*H,R=q*F,G=q*H,w=Z*H,T=X*W,D=X*F,P=X*H,j=K[0],E=K[1],L=K[2];return $[0]=(1-(R+w))*j,$[1]=(z+P)*j,$[2]=(A-D)*j,$[3]=0,$[4]=(z-P)*E,$[5]=(1-(B+w))*E,$[6]=(G+T)*E,$[7]=0,$[8]=(A+D)*L,$[9]=(G-T)*L,$[10]=(1-(B+R))*L,$[11]=0,$[12]=J[0],$[13]=J[1],$[14]=J[2],$[15]=1,$}function p11($,Q,J,K,Y){let q=Q[0],Z=Q[1],X=Q[2],W=Q[3],F=q+q,H=Z+Z,B=X+X,z=q*F,A=q*H,R=q*B,G=Z*H,w=Z*B,T=X*B,D=W*F,P=W*H,j=W*B,E=K[0],L=K[1],h=K[2],_=Y[0],S=Y[1],I=Y[2],M=(1-(G+T))*E,y=(A+j)*E,b=(R-P)*E,u=(A-j)*L,c=(1-(z+T))*L,m=(w+D)*L,i=(R+P)*h,o=(w-D)*h,n=(1-(z+G))*h;return $[0]=M,$[1]=y,$[2]=b,$[3]=0,$[4]=u,$[5]=c,$[6]=m,$[7]=0,$[8]=i,$[9]=o,$[10]=n,$[11]=0,$[12]=J[0]+_-(M*_+u*S+i*I),$[13]=J[1]+S-(y*_+c*S+o*I),$[14]=J[2]+I-(b*_+m*S+n*I),$[15]=1,$}function Mu($,Q){let J=Q[0],K=Q[1],Y=Q[2],q=Q[3],Z=J+J,X=K+K,W=Y+Y,F=J*Z,H=K*Z,B=K*X,z=Y*Z,A=Y*X,R=Y*W,G=q*Z,w=q*X,T=q*W;return $[0]=1-B-R,$[1]=H+T,$[2]=z-w,$[3]=0,$[4]=H-T,$[5]=1-F-R,$[6]=A+G,$[7]=0,$[8]=z+w,$[9]=A-G,$[10]=1-F-B,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}function bu($,Q,J,K,Y,q,Z){let X=1/(J-Q),W=1/(Y-K),F=1/(q-Z);return $[0]=q*2*X,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=q*2*W,$[6]=0,$[7]=0,$[8]=(J+Q)*X,$[9]=(Y+K)*W,$[10]=(Z+q)*F,$[11]=-1,$[12]=0,$[13]=0,$[14]=Z*q*2*F,$[15]=0,$}function kU0($,Q,J,K,Y){let q=1/Math.tan(Q/2);if($[0]=q/J,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=q,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[11]=-1,$[12]=0,$[13]=0,$[15]=0,Y!=null&&Y!==1/0){let Z=1/(K-Y);$[10]=(Y+K)*Z,$[14]=2*Y*K*Z}else $[10]=-1,$[14]=-2*K;return $}var gu=kU0;function d11($,Q,J,K,Y){let q=1/Math.tan(Q/2);if($[0]=q/J,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=q,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[11]=-1,$[12]=0,$[13]=0,$[15]=0,Y!=null&&Y!==1/0){let Z=1/(K-Y);$[10]=Y*Z,$[14]=Y*K*Z}else $[10]=-1,$[14]=-K;return $}function n11($,Q,J,K){let Y=Math.tan(Q.upDegrees*Math.PI/180),q=Math.tan(Q.downDegrees*Math.PI/180),Z=Math.tan(Q.leftDegrees*Math.PI/180),X=Math.tan(Q.rightDegrees*Math.PI/180),W=2/(Z+X),F=2/(Y+q);return $[0]=W,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=F,$[6]=0,$[7]=0,$[8]=-((Z-X)*W*0.5),$[9]=(Y-q)*F*0.5,$[10]=K/(J-K),$[11]=-1,$[12]=0,$[13]=0,$[14]=K*J/(J-K),$[15]=0,$}function jU0($,Q,J,K,Y,q,Z){let X=1/(Q-J),W=1/(K-Y),F=1/(q-Z);return $[0]=-2*X,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=-2*W,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[10]=2*F,$[11]=0,$[12]=(Q+J)*X,$[13]=(Y+K)*W,$[14]=(Z+q)*F,$[15]=1,$}var yu=jU0;function l11($,Q,J,K,Y,q,Z){let X=1/(Q-J),W=1/(K-Y),F=1/(q-Z);return $[0]=-2*X,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=-2*W,$[6]=0,$[7]=0,$[8]=0,$[9]=0,$[10]=F,$[11]=0,$[12]=(Q+J)*X,$[13]=(Y+K)*W,$[14]=q*F,$[15]=1,$}function xu($,Q,J,K){let Y,q,Z,X,W,F,H,B,z,A,R=Q[0],G=Q[1],w=Q[2],T=K[0],D=K[1],P=K[2],j=J[0],E=J[1],L=J[2];if(Math.abs(R-j)<y5&&Math.abs(G-E)<y5&&Math.abs(w-L)<y5)return DU0($);if(B=R-j,z=G-E,A=w-L,Y=1/Math.sqrt(B*B+z*z+A*A),B*=Y,z*=Y,A*=Y,q=D*A-P*z,Z=P*B-T*A,X=T*z-D*B,Y=Math.sqrt(q*q+Z*Z+X*X),!Y)q=0,Z=0,X=0;else Y=1/Y,q*=Y,Z*=Y,X*=Y;if(W=z*X-A*Z,F=A*q-B*X,H=B*Z-z*q,Y=Math.sqrt(W*W+F*F+H*H),!Y)W=0,F=0,H=0;else Y=1/Y,W*=Y,F*=Y,H*=Y;return $[0]=q,$[1]=W,$[2]=B,$[3]=0,$[4]=Z,$[5]=F,$[6]=z,$[7]=0,$[8]=X,$[9]=H,$[10]=A,$[11]=0,$[12]=-(q*R+Z*G+X*w),$[13]=-(W*R+F*G+H*w),$[14]=-(B*R+z*G+A*w),$[15]=1,$}function r11($,Q,J,K){let Y=Q[0],q=Q[1],Z=Q[2],X=K[0],W=K[1],F=K[2],H=Y-J[0],B=q-J[1],z=Z-J[2],A=H*H+B*B+z*z;if(A>0)A=1/Math.sqrt(A),H*=A,B*=A,z*=A;let R=W*z-F*B,G=F*H-X*z,w=X*B-W*H;if(A=R*R+G*G+w*w,A>0)A=1/Math.sqrt(A),R*=A,G*=A,w*=A;return $[0]=R,$[1]=G,$[2]=w,$[3]=0,$[4]=B*w-z*G,$[5]=z*R-H*w,$[6]=H*G-B*R,$[7]=0,$[8]=H,$[9]=B,$[10]=z,$[11]=0,$[12]=Y,$[13]=q,$[14]=Z,$[15]=1,$}function i11($){return`mat4(${$[0]}, ${$[1]}, ${$[2]}, ${$[3]}, ${$[4]}, ${$[5]}, ${$[6]}, ${$[7]}, ${$[8]}, ${$[9]}, ${$[10]}, ${$[11]}, ${$[12]}, ${$[13]}, ${$[14]}, ${$[15]})`}function s11($){return Math.sqrt($[0]*$[0]+$[1]*$[1]+$[2]*$[2]+$[3]*$[3]+$[4]*$[4]+$[5]*$[5]+$[6]*$[6]+$[7]*$[7]+$[8]*$[8]+$[9]*$[9]+$[10]*$[10]+$[11]*$[11]+$[12]*$[12]+$[13]*$[13]+$[14]*$[14]+$[15]*$[15])}function o11($,Q,J){return $[0]=Q[0]+J[0],$[1]=Q[1]+J[1],$[2]=Q[2]+J[2],$[3]=Q[3]+J[3],$[4]=Q[4]+J[4],$[5]=Q[5]+J[5],$[6]=Q[6]+J[6],$[7]=Q[7]+J[7],$[8]=Q[8]+J[8],$[9]=Q[9]+J[9],$[10]=Q[10]+J[10],$[11]=Q[11]+J[11],$[12]=Q[12]+J[12],$[13]=Q[13]+J[13],$[14]=Q[14]+J[14],$[15]=Q[15]+J[15],$}function EU0($,Q,J){return $[0]=Q[0]-J[0],$[1]=Q[1]-J[1],$[2]=Q[2]-J[2],$[3]=Q[3]-J[3],$[4]=Q[4]-J[4],$[5]=Q[5]-J[5],$[6]=Q[6]-J[6],$[7]=Q[7]-J[7],$[8]=Q[8]-J[8],$[9]=Q[9]-J[9],$[10]=Q[10]-J[10],$[11]=Q[11]-J[11],$[12]=Q[12]-J[12],$[13]=Q[13]-J[13],$[14]=Q[14]-J[14],$[15]=Q[15]-J[15],$}function a11($,Q,J){return $[0]=Q[0]*J,$[1]=Q[1]*J,$[2]=Q[2]*J,$[3]=Q[3]*J,$[4]=Q[4]*J,$[5]=Q[5]*J,$[6]=Q[6]*J,$[7]=Q[7]*J,$[8]=Q[8]*J,$[9]=Q[9]*J,$[10]=Q[10]*J,$[11]=Q[11]*J,$[12]=Q[12]*J,$[13]=Q[13]*J,$[14]=Q[14]*J,$[15]=Q[15]*J,$}function t11($,Q,J,K){return $[0]=Q[0]+J[0]*K,$[1]=Q[1]+J[1]*K,$[2]=Q[2]+J[2]*K,$[3]=Q[3]+J[3]*K,$[4]=Q[4]+J[4]*K,$[5]=Q[5]+J[5]*K,$[6]=Q[6]+J[6]*K,$[7]=Q[7]+J[7]*K,$[8]=Q[8]+J[8]*K,$[9]=Q[9]+J[9]*K,$[10]=Q[10]+J[10]*K,$[11]=Q[11]+J[11]*K,$[12]=Q[12]+J[12]*K,$[13]=Q[13]+J[13]*K,$[14]=Q[14]+J[14]*K,$[15]=Q[15]+J[15]*K,$}function e11($,Q){return $[0]===Q[0]&&$[1]===Q[1]&&$[2]===Q[2]&&$[3]===Q[3]&&$[4]===Q[4]&&$[5]===Q[5]&&$[6]===Q[6]&&$[7]===Q[7]&&$[8]===Q[8]&&$[9]===Q[9]&&$[10]===Q[10]&&$[11]===Q[11]&&$[12]===Q[12]&&$[13]===Q[13]&&$[14]===Q[14]&&$[15]===Q[15]}function $51($,Q){let J=$[0],K=$[1],Y=$[2],q=$[3],Z=$[4],X=$[5],W=$[6],F=$[7],H=$[8],B=$[9],z=$[10],A=$[11],R=$[12],G=$[13],w=$[14],T=$[15],D=Q[0],P=Q[1],j=Q[2],E=Q[3],L=Q[4],h=Q[5],_=Q[6],S=Q[7],I=Q[8],M=Q[9],y=Q[10],b=Q[11],u=Q[12],c=Q[13],m=Q[14],i=Q[15];return Math.abs(J-D)<=y5*Math.max(1,Math.abs(J),Math.abs(D))&&Math.abs(K-P)<=y5*Math.max(1,Math.abs(K),Math.abs(P))&&Math.abs(Y-j)<=y5*Math.max(1,Math.abs(Y),Math.abs(j))&&Math.abs(q-E)<=y5*Math.max(1,Math.abs(q),Math.abs(E))&&Math.abs(Z-L)<=y5*Math.max(1,Math.abs(Z),Math.abs(L))&&Math.abs(X-h)<=y5*Math.max(1,Math.abs(X),Math.abs(h))&&Math.abs(W-_)<=y5*Math.max(1,Math.abs(W),Math.abs(_))&&Math.abs(F-S)<=y5*Math.max(1,Math.abs(F),Math.abs(S))&&Math.abs(H-I)<=y5*Math.max(1,Math.abs(H),Math.abs(I))&&Math.abs(B-M)<=y5*Math.max(1,Math.abs(B),Math.abs(M))&&Math.abs(z-y)<=y5*Math.max(1,Math.abs(z),Math.abs(y))&&Math.abs(A-b)<=y5*Math.max(1,Math.abs(A),Math.abs(b))&&Math.abs(R-u)<=y5*Math.max(1,Math.abs(R),Math.abs(u))&&Math.abs(G-c)<=y5*Math.max(1,Math.abs(G),Math.abs(c))&&Math.abs(w-m)<=y5*Math.max(1,Math.abs(w),Math.abs(m))&&Math.abs(T-i)<=y5*Math.max(1,Math.abs(T),Math.abs(i))}var Q51=MV,J51=EU0;var HJ={};r2(HJ,{zero:()=>C51,transformQuat:()=>D51,transformMat4:()=>cu,subtract:()=>hU0,sub:()=>E51,str:()=>P51,squaredLength:()=>MU0,squaredDistance:()=>fU0,sqrLen:()=>f51,sqrDist:()=>S51,set:()=>Z51,scaleAndAdd:()=>z51,scale:()=>B51,round:()=>N51,random:()=>T51,normalize:()=>R51,negate:()=>A51,multiply:()=>vU0,mul:()=>L51,min:()=>U51,max:()=>H51,lerp:()=>O51,length:()=>IU0,len:()=>_51,inverse:()=>V51,fromValues:()=>Y51,forEach:()=>I51,floor:()=>F51,exactEquals:()=>k51,equals:()=>j51,dot:()=>G51,divide:()=>SU0,div:()=>h51,distance:()=>_U0,dist:()=>v51,cross:()=>w51,create:()=>LU0,copy:()=>q51,clone:()=>K51,ceil:()=>W51,add:()=>X51});function LU0(){let $=new W7(4);if(W7!=Float32Array)$[0]=0,$[1]=0,$[2]=0,$[3]=0;return $}function K51($){let Q=new W7(4);return Q[0]=$[0],Q[1]=$[1],Q[2]=$[2],Q[3]=$[3],Q}function Y51($,Q,J,K){let Y=new W7(4);return Y[0]=$,Y[1]=Q,Y[2]=J,Y[3]=K,Y}function q51($,Q){return $[0]=Q[0],$[1]=Q[1],$[2]=Q[2],$[3]=Q[3],$}function Z51($,Q,J,K,Y){return $[0]=Q,$[1]=J,$[2]=K,$[3]=Y,$}function X51($,Q,J){return $[0]=Q[0]+J[0],$[1]=Q[1]+J[1],$[2]=Q[2]+J[2],$[3]=Q[3]+J[3],$}function hU0($,Q,J){return $[0]=Q[0]-J[0],$[1]=Q[1]-J[1],$[2]=Q[2]-J[2],$[3]=Q[3]-J[3],$}function vU0($,Q,J){return $[0]=Q[0]*J[0],$[1]=Q[1]*J[1],$[2]=Q[2]*J[2],$[3]=Q[3]*J[3],$}function SU0($,Q,J){return $[0]=Q[0]/J[0],$[1]=Q[1]/J[1],$[2]=Q[2]/J[2],$[3]=Q[3]/J[3],$}function W51($,Q){return $[0]=Math.ceil(Q[0]),$[1]=Math.ceil(Q[1]),$[2]=Math.ceil(Q[2]),$[3]=Math.ceil(Q[3]),$}function F51($,Q){return $[0]=Math.floor(Q[0]),$[1]=Math.floor(Q[1]),$[2]=Math.floor(Q[2]),$[3]=Math.floor(Q[3]),$}function U51($,Q,J){return $[0]=Math.min(Q[0],J[0]),$[1]=Math.min(Q[1],J[1]),$[2]=Math.min(Q[2],J[2]),$[3]=Math.min(Q[3],J[3]),$}function H51($,Q,J){return $[0]=Math.max(Q[0],J[0]),$[1]=Math.max(Q[1],J[1]),$[2]=Math.max(Q[2],J[2]),$[3]=Math.max(Q[3],J[3]),$}function N51($,Q){return $[0]=I3(Q[0]),$[1]=I3(Q[1]),$[2]=I3(Q[2]),$[3]=I3(Q[3]),$}function B51($,Q,J){return $[0]=Q[0]*J,$[1]=Q[1]*J,$[2]=Q[2]*J,$[3]=Q[3]*J,$}function z51($,Q,J,K){return $[0]=Q[0]+J[0]*K,$[1]=Q[1]+J[1]*K,$[2]=Q[2]+J[2]*K,$[3]=Q[3]+J[3]*K,$}function _U0($,Q){let J=Q[0]-$[0],K=Q[1]-$[1],Y=Q[2]-$[2],q=Q[3]-$[3];return Math.sqrt(J*J+K*K+Y*Y+q*q)}function fU0($,Q){let J=Q[0]-$[0],K=Q[1]-$[1],Y=Q[2]-$[2],q=Q[3]-$[3];return J*J+K*K+Y*Y+q*q}function IU0($){let Q=$[0],J=$[1],K=$[2],Y=$[3];return Math.sqrt(Q*Q+J*J+K*K+Y*Y)}function MU0($){let Q=$[0],J=$[1],K=$[2],Y=$[3];return Q*Q+J*J+K*K+Y*Y}function A51($,Q){return $[0]=-Q[0],$[1]=-Q[1],$[2]=-Q[2],$[3]=-Q[3],$}function V51($,Q){return $[0]=1/Q[0],$[1]=1/Q[1],$[2]=1/Q[2],$[3]=1/Q[3],$}function R51($,Q){let J=Q[0],K=Q[1],Y=Q[2],q=Q[3],Z=J*J+K*K+Y*Y+q*q;if(Z>0)Z=1/Math.sqrt(Z);return $[0]=J*Z,$[1]=K*Z,$[2]=Y*Z,$[3]=q*Z,$}function G51($,Q){return $[0]*Q[0]+$[1]*Q[1]+$[2]*Q[2]+$[3]*Q[3]}function w51($,Q,J,K){let Y=J[0]*K[1]-J[1]*K[0],q=J[0]*K[2]-J[2]*K[0],Z=J[0]*K[3]-J[3]*K[0],X=J[1]*K[2]-J[2]*K[1],W=J[1]*K[3]-J[3]*K[1],F=J[2]*K[3]-J[3]*K[2],H=Q[0],B=Q[1],z=Q[2],A=Q[3];return $[0]=B*F-z*W+A*X,$[1]=-(H*F)+z*Z-A*q,$[2]=H*W-B*Z+A*Y,$[3]=-(H*X)+B*q-z*Y,$}function O51($,Q,J,K){let Y=Q[0],q=Q[1],Z=Q[2],X=Q[3];return $[0]=Y+K*(J[0]-Y),$[1]=q+K*(J[1]-q),$[2]=Z+K*(J[2]-Z),$[3]=X+K*(J[3]-X),$}function T51($,Q){Q=Q===void 0?1:Q;let J,K,Y,q,Z,X;do J=FJ()*2-1,K=FJ()*2-1,Z=J*J+K*K;while(Z>=1);do Y=FJ()*2-1,q=FJ()*2-1,X=Y*Y+q*q;while(X>=1);let W=Math.sqrt((1-Z)/X);return $[0]=Q*J,$[1]=Q*K,$[2]=Q*Y*W,$[3]=Q*q*W,$}function cu($,Q,J){let K=Q[0],Y=Q[1],q=Q[2],Z=Q[3];return $[0]=J[0]*K+J[4]*Y+J[8]*q+J[12]*Z,$[1]=J[1]*K+J[5]*Y+J[9]*q+J[13]*Z,$[2]=J[2]*K+J[6]*Y+J[10]*q+J[14]*Z,$[3]=J[3]*K+J[7]*Y+J[11]*q+J[15]*Z,$}function D51($,Q,J){let K=Q[0],Y=Q[1],q=Q[2],Z=J[0],X=J[1],W=J[2],F=J[3],H=F*K+X*q-W*Y,B=F*Y+W*K-Z*q,z=F*q+Z*Y-X*K,A=-Z*K-X*Y-W*q;return $[0]=H*F+A*-Z+B*-W-z*-X,$[1]=B*F+A*-X+z*-Z-H*-W,$[2]=z*F+A*-W+H*-X-B*-Z,$[3]=Q[3],$}function C51($){return $[0]=0,$[1]=0,$[2]=0,$[3]=0,$}function P51($){return`vec4(${$[0]}, ${$[1]}, ${$[2]}, ${$[3]})`}function k51($,Q){return $[0]===Q[0]&&$[1]===Q[1]&&$[2]===Q[2]&&$[3]===Q[3]}function j51($,Q){let J=$[0],K=$[1],Y=$[2],q=$[3],Z=Q[0],X=Q[1],W=Q[2],F=Q[3];return Math.abs(J-Z)<=y5*Math.max(1,Math.abs(J),Math.abs(Z))&&Math.abs(K-X)<=y5*Math.max(1,Math.abs(K),Math.abs(X))&&Math.abs(Y-W)<=y5*Math.max(1,Math.abs(Y),Math.abs(W))&&Math.abs(q-F)<=y5*Math.max(1,Math.abs(q),Math.abs(F))}var E51=hU0,L51=vU0,h51=SU0,v51=_U0,S51=fU0,_51=IU0,f51=MU0,I51=function(){let $=LU0();return function(Q,J,K,Y,q,Z){let X,W;if(!J)J=4;if(!K)K=0;if(Y)W=Math.min(Y*J+K,Q.length);else W=Q.length;for(X=K;X<W;X+=J)$[0]=Q[X],$[1]=Q[X+1],$[2]=Q[X+2],$[3]=Q[X+3],q($,$,Z),Q[X]=$[0],Q[X+1]=$[1],Q[X+2]=$[2],Q[X+3]=$[3];return Q}}();var pu;(function($){$[$.COL0ROW0=0]="COL0ROW0",$[$.COL0ROW1=1]="COL0ROW1",$[$.COL0ROW2=2]="COL0ROW2",$[$.COL0ROW3=3]="COL0ROW3",$[$.COL1ROW0=4]="COL1ROW0",$[$.COL1ROW1=5]="COL1ROW1",$[$.COL1ROW2=6]="COL1ROW2",$[$.COL1ROW3=7]="COL1ROW3",$[$.COL2ROW0=8]="COL2ROW0",$[$.COL2ROW1=9]="COL2ROW1",$[$.COL2ROW2=10]="COL2ROW2",$[$.COL2ROW3=11]="COL2ROW3",$[$.COL3ROW0=12]="COL3ROW0",$[$.COL3ROW1=13]="COL3ROW1",$[$.COL3ROW2=14]="COL3ROW2",$[$.COL3ROW3=15]="COL3ROW3"})(pu||(pu={}));var M51=45*Math.PI/180,b51=1,uu=0.1,mu=500,g51=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class x8 extends ku{static get IDENTITY(){return x51()}static get ZERO(){return y51()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return pu}constructor($){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0);if(arguments.length===1&&Array.isArray($))this.copy($);else this.identity()}copy($){return this[0]=$[0],this[1]=$[1],this[2]=$[2],this[3]=$[3],this[4]=$[4],this[5]=$[5],this[6]=$[6],this[7]=$[7],this[8]=$[8],this[9]=$[9],this[10]=$[10],this[11]=$[11],this[12]=$[12],this[13]=$[13],this[14]=$[14],this[15]=$[15],this.check()}set($,Q,J,K,Y,q,Z,X,W,F,H,B,z,A,R,G){return this[0]=$,this[1]=Q,this[2]=J,this[3]=K,this[4]=Y,this[5]=q,this[6]=Z,this[7]=X,this[8]=W,this[9]=F,this[10]=H,this[11]=B,this[12]=z,this[13]=A,this[14]=R,this[15]=G,this.check()}setRowMajor($,Q,J,K,Y,q,Z,X,W,F,H,B,z,A,R,G){return this[0]=$,this[1]=Y,this[2]=W,this[3]=z,this[4]=Q,this[5]=q,this[6]=F,this[7]=A,this[8]=J,this[9]=Z,this[10]=H,this[11]=R,this[12]=K,this[13]=X,this[14]=B,this[15]=G,this.check()}toRowMajor($){return $[0]=this[0],$[1]=this[4],$[2]=this[8],$[3]=this[12],$[4]=this[1],$[5]=this[5],$[6]=this[9],$[7]=this[13],$[8]=this[2],$[9]=this[6],$[10]=this[10],$[11]=this[14],$[12]=this[3],$[13]=this[7],$[14]=this[11],$[15]=this[15],$}identity(){return this.copy(g51)}fromObject($){return this.check()}fromQuaternion($){return Mu(this,$),this.check()}frustum($){let{left:Q,right:J,bottom:K,top:Y,near:q=uu,far:Z=mu}=$;if(Z===1/0)c51(this,Q,J,K,Y,q);else bu(this,Q,J,K,Y,q,Z);return this.check()}lookAt($){let{eye:Q,center:J=[0,0,0],up:K=[0,1,0]}=$;return xu(this,Q,J,K),this.check()}ortho($){let{left:Q,right:J,bottom:K,top:Y,near:q=uu,far:Z=mu}=$;return yu(this,Q,J,K,Y,q,Z),this.check()}orthographic($){let{fovy:Q=M51,aspect:J=b51,focalDistance:K=1,near:Y=uu,far:q=mu}=$;bU0(Q);let Z=Q/2,X=K*Math.tan(Z),W=X*J;return this.ortho({left:-W,right:W,bottom:-X,top:X,near:Y,far:q})}perspective($){let{fovy:Q=45*Math.PI/180,aspect:J=1,near:K=0.1,far:Y=500}=$;return bU0(Q),gu(this,Q,J,K,Y),this.check()}determinant(){return Lu(this)}getScale($=[-0,-0,-0]){return $[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),$[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),$[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),$}getTranslation($=[-0,-0,-0]){return $[0]=this[12],$[1]=this[13],$[2]=this[14],$}getRotation($,Q){$=$||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],Q=Q||[-0,-0,-0];let J=this.getScale(Q),K=1/J[0],Y=1/J[1],q=1/J[2];return $[0]=this[0]*K,$[1]=this[1]*Y,$[2]=this[2]*q,$[3]=0,$[4]=this[4]*K,$[5]=this[5]*Y,$[6]=this[6]*q,$[7]=0,$[8]=this[8]*K,$[9]=this[9]*Y,$[10]=this[10]*q,$[11]=0,$[12]=0,$[13]=0,$[14]=0,$[15]=1,$}getRotationMatrix3($,Q){$=$||[-0,-0,-0,-0,-0,-0,-0,-0,-0],Q=Q||[-0,-0,-0];let J=this.getScale(Q),K=1/J[0],Y=1/J[1],q=1/J[2];return $[0]=this[0]*K,$[1]=this[1]*Y,$[2]=this[2]*q,$[3]=this[4]*K,$[4]=this[5]*Y,$[5]=this[6]*q,$[6]=this[8]*K,$[7]=this[9]*Y,$[8]=this[10]*q,$}transpose(){return ju(this,this),this.check()}invert(){return Eu(this,this),this.check()}multiplyLeft($){return MV(this,$,this),this.check()}multiplyRight($){return MV(this,this,$),this.check()}rotateX($){return _u(this,this,$),this.check()}rotateY($){return fu(this,this,$),this.check()}rotateZ($){return Iu(this,this,$),this.check()}rotateXYZ($){return this.rotateX($[0]).rotateY($[1]).rotateZ($[2])}rotateAxis($,Q){return Su(this,this,$,Q),this.check()}scale($){return vu(this,this,Array.isArray($)?$:[$,$,$]),this.check()}translate($){return hu(this,this,$),this.check()}transform($,Q){if($.length===4)return Q=cu(Q||[-0,-0,-0,-0],$,this),TP(Q,4),Q;return this.transformAsPoint($,Q)}transformAsPoint($,Q){let{length:J}=$,K;switch(J){case 2:K=Au(Q||[-0,-0],$,this);break;case 3:K=IV(Q||[-0,-0,-0],$,this);break;default:throw Error("Illegal vector")}return TP(K,$.length),K}transformAsVector($,Q){let J;switch($.length){case 2:J=NU0(Q||[-0,-0],$,this);break;case 3:J=CP(Q||[-0,-0,-0],$,this);break;default:throw Error("Illegal vector")}return TP(J,$.length),J}transformPoint($,Q){return this.transformAsPoint($,Q)}transformVector($,Q){return this.transformAsPoint($,Q)}transformDirection($,Q){return this.transformAsVector($,Q)}makeRotationX($){return this.identity().rotateX($)}makeTranslation($,Q,J){return this.identity().translate([$,Q,J])}}var kP,jP;function y51(){if(!kP)kP=new x8([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(kP);return kP}function x51(){if(!jP)jP=new x8,Object.freeze(jP);return jP}function bU0($){if($>Math.PI*2)throw Error("expected radians")}function c51($,Q,J,K,Y,q){let Z=2*q/(J-Q),X=2*q/(Y-K),W=(J+Q)/(J-Q),F=(Y+K)/(Y-K),H=-1,B=-1,z=-2*q;return $[0]=Z,$[1]=0,$[2]=0,$[3]=0,$[4]=0,$[5]=X,$[6]=0,$[7]=0,$[8]=W,$[9]=F,$[10]=-1,$[11]=-1,$[12]=0,$[13]=0,$[14]=z,$[15]=0,$}function du($,Q=[],J=0){let K=Math.fround($),Y=$-K;return Q[J]=K,Q[J+1]=Y,Q}function gU0($){return $-Math.fround($)}function yU0($){let Q=new Float32Array(32);for(let J=0;J<4;++J)for(let K=0;K<4;++K){let Y=J*4+K;du($[K*4+J],Q,Y*2)}return Q}var nu={name:"fp32",vs:`#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND

// All these functions are for substituting tan() function from Intel GPU only
const float TWO_PI = 6.2831854820251465;
const float PI_2 = 1.5707963705062866;
const float PI_16 = 0.1963495463132858;

const float SIN_TABLE_0 = 0.19509032368659973;
const float SIN_TABLE_1 = 0.3826834261417389;
const float SIN_TABLE_2 = 0.5555702447891235;
const float SIN_TABLE_3 = 0.7071067690849304;

const float COS_TABLE_0 = 0.9807852506637573;
const float COS_TABLE_1 = 0.9238795042037964;
const float COS_TABLE_2 = 0.8314695954322815;
const float COS_TABLE_3 = 0.7071067690849304;

const float INVERSE_FACTORIAL_3 = 1.666666716337204e-01; // 1/3!
const float INVERSE_FACTORIAL_5 = 8.333333767950535e-03; // 1/5!
const float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04; // 1/7!
const float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06; // 1/9!

float sin_taylor_fp32(float a) {
  float r, s, t, x;

  if (a == 0.0) {
    return 0.0;
  }

  x = -a * a;
  s = a;
  r = a;

  r = r * x;
  t = r * INVERSE_FACTORIAL_3;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_5;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_7;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_9;
  s = s + t;

  return s;
}

void sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {
  if (a == 0.0) {
    sin_t = 0.0;
    cos_t = 1.0;
  }
  sin_t = sin_taylor_fp32(a);
  cos_t = sqrt(1.0 - sin_t * sin_t);
}

float tan_taylor_fp32(float a) {
    float sin_a;
    float cos_a;

    if (a == 0.0) {
        return 0.0;
    }

    // 2pi range reduction
    float z = floor(a / TWO_PI);
    float r = a - TWO_PI * z;

    float t;
    float q = floor(r / PI_2 + 0.5);
    int j = int(q);

    if (j < -2 || j > 2) {
        return 1.0 / 0.0;
    }

    t = r - PI_2 * q;

    q = floor(t / PI_16 + 0.5);
    int k = int(q);
    int abs_k = int(abs(float(k)));

    if (abs_k > 4) {
        return 1.0 / 0.0;
    } else {
        t = t - PI_16 * q;
    }

    float u = 0.0;
    float v = 0.0;

    float sin_t, cos_t;
    float s, c;
    sincos_taylor_fp32(t, sin_t, cos_t);

    if (k == 0) {
        s = sin_t;
        c = cos_t;
    } else {
        if (abs(float(abs_k) - 1.0) < 0.5) {
            u = COS_TABLE_0;
            v = SIN_TABLE_0;
        } else if (abs(float(abs_k) - 2.0) < 0.5) {
            u = COS_TABLE_1;
            v = SIN_TABLE_1;
        } else if (abs(float(abs_k) - 3.0) < 0.5) {
            u = COS_TABLE_2;
            v = SIN_TABLE_2;
        } else if (abs(float(abs_k) - 4.0) < 0.5) {
            u = COS_TABLE_3;
            v = SIN_TABLE_3;
        }
        if (k > 0) {
            s = u * sin_t + v * cos_t;
            c = u * cos_t - v * sin_t;
        } else {
            s = u * sin_t - v * cos_t;
            c = u * cos_t + v * sin_t;
        }
    }

    if (j == 0) {
        sin_a = s;
        cos_a = c;
    } else if (j == 1) {
        sin_a = c;
        cos_a = -s;
    } else if (j == -1) {
        sin_a = -c;
        cos_a = s;
    } else {
        sin_a = -s;
        cos_a = -c;
    }
    return sin_a / cos_a;
}
#endif

float tan_fp32(float a) {
#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND
  return tan_taylor_fp32(a);
#else
  return tan(a);
#endif
}
`};var xU0=`
uniform fp64arithmeticUniforms {
  uniform float ONE;
} fp64;

/*
About LUMA_FP64_CODE_ELIMINATION_WORKAROUND

The purpose of this workaround is to prevent shader compilers from
optimizing away necessary arithmetic operations by swapping their sequences
or transform the equation to some 'equivalent' form.

The method is to multiply an artifical variable, ONE, which will be known to
the compiler to be 1 only at runtime. The whole expression is then represented
as a polynomial with respective to ONE. In the coefficients of all terms, only one a
and one b should appear

err = (a + b) * ONE^6 - a * ONE^5 - (a + b) * ONE^4 + a * ONE^3 - b - (a + b) * ONE^2 + a * ONE
*/

// Divide float number to high and low floats to extend fraction bits
vec2 split(float a) {
  const float SPLIT = 4097.0;
  float t = a * SPLIT;
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float a_hi = t * fp64.ONE - (t - a);
  float a_lo = a * fp64.ONE - a_hi;
#else
  float a_hi = t - (t - a);
  float a_lo = a - a_hi;
#endif
  return vec2(a_hi, a_lo);
}

// Divide float number again when high float uses too many fraction bits
vec2 split2(vec2 a) {
  vec2 b = split(a.x);
  b.y += a.y;
  return b;
}

// Special sum operation when a > b
vec2 quickTwoSum(float a, float b) {
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float sum = (a + b) * fp64.ONE;
  float err = b - (sum - a) * fp64.ONE;
#else
  float sum = a + b;
  float err = b - (sum - a);
#endif
  return vec2(sum, err);
}

// General sum operation
vec2 twoSum(float a, float b) {
  float s = (a + b);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float v = (s * fp64.ONE - a) * fp64.ONE;
  float err = (a - (s - v) * fp64.ONE) * fp64.ONE * fp64.ONE * fp64.ONE + (b - v);
#else
  float v = s - a;
  float err = (a - (s - v)) + (b - v);
#endif
  return vec2(s, err);
}

vec2 twoSub(float a, float b) {
  float s = (a - b);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float v = (s * fp64.ONE - a) * fp64.ONE;
  float err = (a - (s - v) * fp64.ONE) * fp64.ONE * fp64.ONE * fp64.ONE - (b + v);
#else
  float v = s - a;
  float err = (a - (s - v)) - (b + v);
#endif
  return vec2(s, err);
}

vec2 twoSqr(float a) {
  float prod = a * a;
  vec2 a_fp64 = split(a);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float err = ((a_fp64.x * a_fp64.x - prod) * fp64.ONE + 2.0 * a_fp64.x *
    a_fp64.y * fp64.ONE * fp64.ONE) + a_fp64.y * a_fp64.y * fp64.ONE * fp64.ONE * fp64.ONE;
#else
  float err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;
#endif
  return vec2(prod, err);
}

vec2 twoProd(float a, float b) {
  float prod = a * b;
  vec2 a_fp64 = split(a);
  vec2 b_fp64 = split(b);
  float err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +
    a_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;
  return vec2(prod, err);
}

vec2 sum_fp64(vec2 a, vec2 b) {
  vec2 s, t;
  s = twoSum(a.x, b.x);
  t = twoSum(a.y, b.y);
  s.y += t.x;
  s = quickTwoSum(s.x, s.y);
  s.y += t.y;
  s = quickTwoSum(s.x, s.y);
  return s;
}

vec2 sub_fp64(vec2 a, vec2 b) {
  vec2 s, t;
  s = twoSub(a.x, b.x);
  t = twoSub(a.y, b.y);
  s.y += t.x;
  s = quickTwoSum(s.x, s.y);
  s.y += t.y;
  s = quickTwoSum(s.x, s.y);
  return s;
}

vec2 mul_fp64(vec2 a, vec2 b) {
  vec2 prod = twoProd(a.x, b.x);
  // y component is for the error
  prod.y += a.x * b.y;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  prod = split2(prod);
#endif
  prod = quickTwoSum(prod.x, prod.y);
  prod.y += a.y * b.x;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  prod = split2(prod);
#endif
  prod = quickTwoSum(prod.x, prod.y);
  return prod;
}

vec2 div_fp64(vec2 a, vec2 b) {
  float xn = 1.0 / b.x;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  vec2 yn = mul_fp64(a, vec2(xn, 0));
#else
  vec2 yn = a * xn;
#endif
  float diff = (sub_fp64(a, mul_fp64(b, yn))).x;
  vec2 prod = twoProd(xn, diff);
  return sum_fp64(yn, prod);
}

vec2 sqrt_fp64(vec2 a) {
  if (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);
  if (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);

  float x = 1.0 / sqrt(a.x);
  float yn = a.x * x;
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  vec2 yn_sqr = twoSqr(yn) * fp64.ONE;
#else
  vec2 yn_sqr = twoSqr(yn);
#endif
  float diff = sub_fp64(a, yn_sqr).x;
  vec2 prod = twoProd(x * 0.5, diff);
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  return sum_fp64(split(yn), prod);
#else
  return sum_fp64(vec2(yn, 0.0), prod);
#endif
}
`;var u51={ONE:1},lu={name:"fp64arithmetic",vs:xU0,defaultUniforms:u51,uniformTypes:{ONE:"f32"},fp64ify:du,fp64LowPart:gU0,fp64ifyMatrix4:yU0};var m51=[0,1,1,1];var EP={props:{},uniforms:{},name:"picking",uniformTypes:{isActive:"f32",isAttribute:"f32",isHighlightActive:"f32",useFloatColors:"f32",highlightedObjectColor:"vec3<f32>",highlightColor:"vec4<f32>"},defaultUniforms:{isActive:!1,isAttribute:!1,isHighlightActive:!1,useFloatColors:!0,highlightedObjectColor:[0,0,0],highlightColor:m51},vs:`uniform pickingUniforms {
  float isActive;
  float isAttribute;
  float isHighlightActive;
  float useFloatColors;
  vec3 highlightedObjectColor;
  vec4 highlightColor;
} picking;

out vec4 picking_vRGBcolor_Avalid;

// Normalize unsigned byte color to 0-1 range
vec3 picking_normalizeColor(vec3 color) {
  return picking.useFloatColors > 0.5 ? color : color / 255.0;
}

// Normalize unsigned byte color to 0-1 range
vec4 picking_normalizeColor(vec4 color) {
  return picking.useFloatColors > 0.5 ? color : color / 255.0;
}

bool picking_isColorZero(vec3 color) {
  return dot(color, vec3(1.0)) < 0.00001;
}

bool picking_isColorValid(vec3 color) {
  return dot(color, vec3(1.0)) > 0.00001;
}

// Check if this vertex is highlighted 
bool isVertexHighlighted(vec3 vertexColor) {
  vec3 highlightedObjectColor = picking_normalizeColor(picking.highlightedObjectColor);
  return
    bool(picking.isHighlightActive) && picking_isColorZero(abs(vertexColor - highlightedObjectColor));
}

// Set the current picking color
void picking_setPickingColor(vec3 pickingColor) {
  pickingColor = picking_normalizeColor(pickingColor);

  if (bool(picking.isActive)) {
    // Use alpha as the validity flag. If pickingColor is [0, 0, 0] fragment is non-pickable
    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));

    if (!bool(picking.isAttribute)) {
      // Stores the picking color so that the fragment shader can render it during picking
      picking_vRGBcolor_Avalid.rgb = pickingColor;
    }
  } else {
    // Do the comparison with selected item color in vertex shader as it should mean fewer compares
    picking_vRGBcolor_Avalid.a = float(isVertexHighlighted(pickingColor));
  }
}

void picking_setPickingAttribute(float value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.r = value;
  }
}

void picking_setPickingAttribute(vec2 value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.rg = value;
  }
}

void picking_setPickingAttribute(vec3 value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.rgb = value;
  }
}
`,fs:`uniform pickingUniforms {
  float isActive;
  float isAttribute;
  float isHighlightActive;
  float useFloatColors;
  vec3 highlightedObjectColor;
  vec4 highlightColor;
} picking;

in vec4 picking_vRGBcolor_Avalid;

/*
 * Returns highlight color if this item is selected.
 */
vec4 picking_filterHighlightColor(vec4 color) {
  // If we are still picking, we don't highlight
  if (picking.isActive > 0.5) {
    return color;
  }

  bool selected = bool(picking_vRGBcolor_Avalid.a);

  if (selected) {
    // Blend in highlight color based on its alpha value
    float highLightAlpha = picking.highlightColor.a;
    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);
    float highLightRatio = highLightAlpha / blendedAlpha;

    vec3 blendedRGB = mix(color.rgb, picking.highlightColor.rgb, highLightRatio);
    return vec4(blendedRGB, blendedAlpha);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 picking_filterPickingColor(vec4 color) {
  if (bool(picking.isActive)) {
    if (picking_vRGBcolor_Avalid.a == 0.0) {
      discard;
    }
    return picking_vRGBcolor_Avalid;
  }
  return color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 picking_filterColor(vec4 color) {
  vec4 highlightColor = picking_filterHighlightColor(color);
  return picking_filterPickingColor(highlightColor);
}
`,getUniforms:p51};function p51($={},Q){let J={};if($.highlightedObjectColor===void 0);else if($.highlightedObjectColor===null)J.isHighlightActive=!1;else{J.isHighlightActive=!0;let K=$.highlightedObjectColor.slice(0,3);J.highlightedObjectColor=K}if($.highlightColor){let K=Array.from($.highlightColor,(Y)=>Y/255);if(!Number.isFinite(K[3]))K[3]=1;J.highlightColor=K}if($.isActive!==void 0)J.isActive=Boolean($.isActive),J.isAttribute=Boolean($.isAttribute);if($.useFloatColors!==void 0)J.useFloatColors=Boolean($.useFloatColors);return J}var ru=`precision highp int;

// #if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))
struct AmbientLight {
  vec3 color;
};

struct PointLight {
  vec3 color;
  vec3 position;
  vec3 attenuation; // 2nd order x:Constant-y:Linear-z:Exponential
};

struct DirectionalLight {
  vec3 color;
  vec3 direction;
};

uniform lightingUniforms {
  int enabled;
  int lightType;

  int directionalLightCount;
  int pointLightCount;

  vec3 ambientColor;

  vec3 lightColor0;
  vec3 lightPosition0;
  vec3 lightDirection0;
  vec3 lightAttenuation0;

  vec3 lightColor1;
  vec3 lightPosition1;
  vec3 lightDirection1;
  vec3 lightAttenuation1;

  vec3 lightColor2;
  vec3 lightPosition2;
  vec3 lightDirection2;
  vec3 lightAttenuation2;
} lighting;

PointLight lighting_getPointLight(int index) {
  switch (index) {
    case 0:
      return PointLight(lighting.lightColor0, lighting.lightPosition0, lighting.lightAttenuation0);
    case 1:
      return PointLight(lighting.lightColor1, lighting.lightPosition1, lighting.lightAttenuation1);
    case 2:
    default:  
      return PointLight(lighting.lightColor2, lighting.lightPosition2, lighting.lightAttenuation2);
  }
}

DirectionalLight lighting_getDirectionalLight(int index) {
  switch (index) {
    case 0:
      return DirectionalLight(lighting.lightColor0, lighting.lightDirection0);
    case 1:
      return DirectionalLight(lighting.lightColor1, lighting.lightDirection1);
    case 2:
    default:   
      return DirectionalLight(lighting.lightColor2, lighting.lightDirection2);
  }
} 

float getPointLightAttenuation(PointLight pointLight, float distance) {
  return pointLight.attenuation.x
       + pointLight.attenuation.y * distance
       + pointLight.attenuation.z * distance * distance;
}

// #endif
`;var cU0=`// #if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))
struct AmbientLight {
  color: vec3<f32>,
};

struct PointLight {
  color: vec3<f32>,
  position: vec3<f32>,
  attenuation: vec3<f32>, // 2nd order x:Constant-y:Linear-z:Exponential
};

struct DirectionalLight {
  color: vec3<f32>,
  direction: vec3<f32>,
};

struct lightingUniforms {
  enabled: i32,
  pointLightCount: i32,
  directionalLightCount: i32,

  ambientColor: vec3<f32>,

  // TODO - support multiple lights by uncommenting arrays below
  lightType: i32,
  lightColor: vec3<f32>,
  lightDirection: vec3<f32>,
  lightPosition: vec3<f32>,
  lightAttenuation: vec3<f32>,

  // AmbientLight ambientLight;
  // PointLight pointLight[MAX_LIGHTS];
  // DirectionalLight directionalLight[MAX_LIGHTS];
};

// Binding 0:1 is reserved for lighting (Note: could go into separate bind group as it is stable across draw calls)
@binding(1) @group(0) var<uniform> lighting : lightingUniforms;

fn lighting_getPointLight(index: i32) -> PointLight {
  return PointLight(lighting.lightColor, lighting.lightPosition, lighting.lightAttenuation);
}

fn lighting_getDirectionalLight(index: i32) -> DirectionalLight {
  return DirectionalLight(lighting.lightColor, lighting.lightDirection);
} 

fn getPointLightAttenuation(pointLight: PointLight, distance: f32) -> f32 {
  return pointLight.attenuation.x
       + pointLight.attenuation.y * distance
       + pointLight.attenuation.z * distance * distance;
}
`;var uU0=3,d51=255,gV;(function($){$[$.POINT=0]="POINT",$[$.DIRECTIONAL=1]="DIRECTIONAL"})(gV||(gV={}));var bV={props:{},uniforms:{},name:"lighting",defines:{MAX_LIGHTS:uU0},uniformTypes:{enabled:"i32",lightType:"i32",directionalLightCount:"i32",pointLightCount:"i32",ambientLightColor:"vec3<f32>",lightColor0:"vec3<f32>",lightPosition0:"vec3<f32>",lightDirection0:"vec3<f32>",lightAttenuation0:"vec3<f32>",lightColor1:"vec3<f32>",lightPosition1:"vec3<f32>",lightDirection1:"vec3<f32>",lightAttenuation1:"vec3<f32>",lightColor2:"vec3<f32>",lightPosition2:"vec3<f32>",lightDirection2:"vec3<f32>",lightAttenuation2:"vec3<f32>"},defaultUniforms:{enabled:1,lightType:gV.POINT,directionalLightCount:0,pointLightCount:0,ambientLightColor:[0.1,0.1,0.1],lightColor0:[1,1,1],lightPosition0:[1,1,2],lightDirection0:[1,1,1],lightAttenuation0:[1,0,0],lightColor1:[1,1,1],lightPosition1:[1,1,2],lightDirection1:[1,1,1],lightAttenuation1:[1,0,0],lightColor2:[1,1,1],lightPosition2:[1,1,2],lightDirection2:[1,1,1],lightAttenuation2:[1,0,0]},source:cU0,vs:ru,fs:ru,getUniforms:n51};function n51($,Q={}){if($=$?{...$}:$,!$)return{...bV.defaultUniforms};if($.lights)$={...$,...r51($.lights),lights:void 0};let{ambientLight:J,pointLights:K,directionalLights:Y}=$||{};if(!(J||K&&K.length>0||Y&&Y.length>0))return{...bV.defaultUniforms,enabled:0};let Z={...bV.defaultUniforms,...Q,...l51({ambientLight:J,pointLights:K,directionalLights:Y})};if($.enabled!==void 0)Z.enabled=$.enabled?1:0;return Z}function l51({ambientLight:$,pointLights:Q=[],directionalLights:J=[]}){let K={};K.ambientLightColor=iu($);let Y=0;for(let q of Q){K.lightType=gV.POINT;let Z=Y;K[`lightColor${Z}`]=iu(q),K[`lightPosition${Z}`]=q.position,K[`lightAttenuation${Z}`]=q.attenuation||[1,0,0],Y++}for(let q of J){K.lightType=gV.DIRECTIONAL;let Z=Y;K[`lightColor${Z}`]=iu(q),K[`lightDirection${Z}`]=q.direction,Y++}if(Y>uU0)g0.warn("MAX_LIGHTS exceeded")();return K.directionalLightCount=J.length,K.pointLightCount=Q.length,K}function r51($){let Q={pointLights:[],directionalLights:[]};for(let J of $||[])switch(J.type){case"ambient":Q.ambientLight=J;break;case"directional":Q.directionalLights?.push(J);break;case"point":Q.pointLights?.push(J);break;default:}return Q}function iu($={}){let{color:Q=[0,0,0],intensity:J=1}=$;return Q.map((K)=>K*J/d51)}var mU0=`uniform phongMaterialUniforms {
  uniform float ambient;
  uniform float diffuse;
  uniform float shininess;
  uniform vec3  specularColor;
} material;
`,pU0=`uniform phongMaterialUniforms {
  uniform float ambient;
  uniform float diffuse;
  uniform float shininess;
  uniform vec3  specularColor;
} material;

vec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {
  vec3 halfway_direction = normalize(light_direction + view_direction);
  float lambertian = dot(light_direction, normal_worldspace);
  float specular = 0.0;
  if (lambertian > 0.0) {
    float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);
    specular = pow(specular_angle, material.shininess);
  }
  lambertian = max(lambertian, 0.0);
  return (lambertian * material.diffuse * surfaceColor + specular * material.specularColor) * color;
}

vec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {
  vec3 lightColor = surfaceColor;

  if (lighting.enabled == 0) {
    return lightColor;
  }

  vec3 view_direction = normalize(cameraPosition - position_worldspace);
  lightColor = material.ambient * surfaceColor * lighting.ambientColor;

  for (int i = 0; i < lighting.pointLightCount; i++) {
    PointLight pointLight = lighting_getPointLight(i);
    vec3 light_position_worldspace = pointLight.position;
    vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
    float light_attenuation = getPointLightAttenuation(pointLight, distance(light_position_worldspace, position_worldspace));
    lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color / light_attenuation);
  }

  int totalLights = min(MAX_LIGHTS, lighting.pointLightCount + lighting.directionalLightCount);
  for (int i = lighting.pointLightCount; i < totalLights; i++) {
    DirectionalLight directionalLight = lighting_getDirectionalLight(i);
    lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
  }
  
  return lightColor;
}
`;var dU0=`struct phongMaterialUniforms {
  ambient: f32,
  diffuse: f32,
  shininess: f32,
  specularColor: vec3<f32>,
};

@binding(2) @group(0) var<uniform> phongMaterial : phongMaterialUniforms;

fn lighting_getLightColor(surfaceColor: vec3<f32>, light_direction: vec3<f32>, view_direction: vec3<f32>, normal_worldspace: vec3<f32>, color: vec3<f32>) -> vec3<f32> {
  let halfway_direction: vec3<f32> = normalize(light_direction + view_direction);
  var lambertian: f32 = dot(light_direction, normal_worldspace);
  var specular: f32 = 0.0;
  if (lambertian > 0.0) {
    let specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);
    specular = pow(specular_angle, phongMaterial.shininess);
  }
  lambertian = max(lambertian, 0.0);
  return (lambertian * phongMaterial.diffuse * surfaceColor + specular * phongMaterial.specularColor) * color;
}

fn lighting_getLightColor2(surfaceColor: vec3<f32>, cameraPosition: vec3<f32>, position_worldspace: vec3<f32>, normal_worldspace: vec3<f32>) -> vec3<f32> {
  var lightColor: vec3<f32> = surfaceColor;

  if (lighting.enabled == 0) {
    return lightColor;
  }

  let view_direction: vec3<f32> = normalize(cameraPosition - position_worldspace);
  lightColor = phongMaterial.ambient * surfaceColor * lighting.ambientColor;

  if (lighting.lightType == 0) {
    let pointLight: PointLight  = lighting_getPointLight(0);
    let light_position_worldspace: vec3<f32> = pointLight.position;
    let light_direction: vec3<f32> = normalize(light_position_worldspace - position_worldspace);
    lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
  } else if (lighting.lightType == 1) {
    var directionalLight: DirectionalLight = lighting_getDirectionalLight(0);
    lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
  }
  
  return lightColor;
  /*
  for (int i = 0; i < MAX_LIGHTS; i++) {
    if (i >= lighting.pointLightCount) {
      break;
    }
    PointLight pointLight = lighting.pointLight[i];
    vec3 light_position_worldspace = pointLight.position;
    vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
    lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
  }

  for (int i = 0; i < MAX_LIGHTS; i++) {
    if (i >= lighting.directionalLightCount) {
      break;
    }
    DirectionalLight directionalLight = lighting.directionalLight[i];
    lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
  }
  */
}

fn lighting_getSpecularLightColor(cameraPosition: vec3<f32>, position_worldspace: vec3<f32>, normal_worldspace: vec3<f32>) -> vec3<f32>{
  var lightColor = vec3<f32>(0, 0, 0);
  let surfaceColor = vec3<f32>(0, 0, 0);

  if (lighting.enabled == 0) {
    let view_direction = normalize(cameraPosition - position_worldspace);

    switch (lighting.lightType) {
      case 0, default: {
        let pointLight: PointLight = lighting_getPointLight(0);
        let light_position_worldspace: vec3<f32> = pointLight.position;
        let light_direction: vec3<f32> = normalize(light_position_worldspace - position_worldspace);
        lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
      }
      case 1: {
        let directionalLight: DirectionalLight = lighting_getDirectionalLight(0);
        lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
      }
    }
  }
  return lightColor;
}
`;var LP={props:{},name:"gouraudMaterial",vs:pU0.replace("phongMaterial","gouraudMaterial"),fs:mU0.replace("phongMaterial","gouraudMaterial"),source:dU0.replaceAll("phongMaterial","gouraudMaterial"),defines:{LIGHTING_VERTEX:1},dependencies:[bV],uniformTypes:{ambient:"f32",diffuse:"f32",shininess:"f32",specularColor:"vec3<f32>"},defaultUniforms:{ambient:0.35,diffuse:0.6,shininess:32,specularColor:[0.15,0.15,0.15]},getUniforms($){let Q={...$};if(Q.specularColor)Q.specularColor=Q.specularColor.map((J)=>J/255);return{...LP.defaultUniforms,...Q}}};var su={name:"layer",vs:`uniform layerUniforms {
  uniform float opacity;
} layer;
`,fs:`uniform layerUniforms {
  uniform float opacity;
} layer;
`,getUniforms:($)=>{return{opacity:Math.pow($.opacity,0.45454545454545453)}},uniformTypes:{opacity:"f32"}};var hP={name:"geometry",source:`const SMOOTH_EDGE_RADIUS: f32 = 0.5;

struct VertexGeometry {
  position: vec4<f32>,
  worldPosition: vec3<f32>,
  worldPositionAlt: vec3<f32>,
  normal: vec3<f32>,
  uv: vec2<f32>,
  pickingColor: vec3<f32>,
};

var<private> geometry_: VertexGeometry = VertexGeometry(
  vec4<f32>(0.0, 0.0, 1.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec2<f32>(0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0)
);

struct FragmentGeometry {
  uv: vec2<f32>,
};

var<private> fragmentGeometry: FragmentGeometry;

fn smoothedge(edge: f32, x: f32) -> f32 {
  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);
}
`,vs:`#define SMOOTH_EDGE_RADIUS 0.5

struct VertexGeometry {
  vec4 position;
  vec3 worldPosition;
  vec3 worldPositionAlt;
  vec3 normal;
  vec2 uv;
  vec3 pickingColor;
} geometry = VertexGeometry(
  vec4(0.0, 0.0, 1.0, 0.0),
  vec3(0.0),
  vec3(0.0),
  vec3(0.0),
  vec2(0.0),
  vec3(0.0)
);
`,fs:`#define SMOOTH_EDGE_RADIUS 0.5

struct FragmentGeometry {
  vec2 uv;
} geometry;

float smoothedge(float edge, float x) {
  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);
}
`};var nU0=25,$6;(function($){$[$.Start=1]="Start",$[$.Move=2]="Move",$[$.End=4]="End",$[$.Cancel=8]="Cancel"})($6||($6={}));var f6;(function($){$[$.None=0]="None",$[$.Left=1]="Left",$[$.Right=2]="Right",$[$.Up=4]="Up",$[$.Down=8]="Down",$[$.Horizontal=3]="Horizontal",$[$.Vertical=12]="Vertical",$[$.All=15]="All"})(f6||(f6={}));var g1;(function($){$[$.Possible=1]="Possible",$[$.Began=2]="Began",$[$.Changed=4]="Changed",$[$.Ended=8]="Ended",$[$.Recognized=8]="Recognized",$[$.Cancelled=16]="Cancelled",$[$.Failed=32]="Failed"})(g1||(g1={}));var lU0="compute",ou="auto",yV="manipulation",yX="none",xV="pan-x",cV="pan-y";function au($){if($.includes(yX))return yX;let Q=$.includes(xV),J=$.includes(cV);if(Q&&J)return yX;if(Q||J)return Q?xV:cV;if($.includes(yV))return yV;return ou}class vP{constructor($,Q){this.actions="",this.manager=$,this.set(Q)}set($){if($===lU0)$=this.compute();if(this.manager.element)this.manager.element.style.touchAction=$,this.actions=$}update(){this.set(this.manager.options.touchAction)}compute(){let $=[];for(let Q of this.manager.recognizers)if(Q.options.enable)$=$.concat(Q.getTouchAction());return au($.join(" "))}}function jH($){return $.trim().split(/\s+/g)}function SP($,Q,J){if(!$)return;for(let K of jH(Q))$.addEventListener(K,J,!1)}function _P($,Q,J){if(!$)return;for(let K of jH(Q))$.removeEventListener(K,J,!1)}function tu($){return($.ownerDocument||$).defaultView}function eu($,Q){let J=$;while(J){if(J===Q)return!0;J=J.parentNode}return!1}function fP($){let Q=$.length;if(Q===1)return{x:Math.round($[0].clientX),y:Math.round($[0].clientY)};let J=0,K=0,Y=0;while(Y<Q)J+=$[Y].clientX,K+=$[Y].clientY,Y++;return{x:Math.round(J/Q),y:Math.round(K/Q)}}function $m($){let Q=[],J=0;while(J<$.pointers.length)Q[J]={clientX:Math.round($.pointers[J].clientX),clientY:Math.round($.pointers[J].clientY)},J++;return{timeStamp:Date.now(),pointers:Q,center:fP(Q),deltaX:$.deltaX,deltaY:$.deltaY}}function IP($,Q){let J=Q.x-$.x,K=Q.y-$.y;return Math.sqrt(J*J+K*K)}function Qm($,Q){let J=Q.clientX-$.clientX,K=Q.clientY-$.clientY;return Math.sqrt(J*J+K*K)}function rU0($,Q){let J=Q.x-$.x,K=Q.y-$.y;return Math.atan2(K,J)*180/Math.PI}function Jm($,Q){let J=Q.clientX-$.clientX,K=Q.clientY-$.clientY;return Math.atan2(K,J)*180/Math.PI}function MP($,Q){if($===Q)return f6.None;if(Math.abs($)>=Math.abs(Q))return $<0?f6.Left:f6.Right;return Q<0?f6.Up:f6.Down}function iU0($,Q){let J=Q.center,K=$.offsetDelta,Y=$.prevDelta,q=$.prevInput;if(Q.eventType===$6.Start||q?.eventType===$6.End)Y=$.prevDelta={x:q?.deltaX||0,y:q?.deltaY||0},K=$.offsetDelta={x:J.x,y:J.y};return{deltaX:Y.x+(J.x-K.x),deltaY:Y.y+(J.y-K.y)}}function bP($,Q,J){return{x:Q/$||0,y:J/$||0}}function sU0($,Q){return Qm(Q[0],Q[1])/Qm($[0],$[1])}function oU0($,Q){return Jm(Q[1],Q[0])-Jm($[1],$[0])}function aU0($,Q){let J=$.lastInterval||Q,K=Q.timeStamp-J.timeStamp,Y,q,Z,X;if(Q.eventType!==$6.Cancel&&(K>nU0||J.velocity===void 0)){let W=Q.deltaX-J.deltaX,F=Q.deltaY-J.deltaY,H=bP(K,W,F);q=H.x,Z=H.y,Y=Math.abs(H.x)>Math.abs(H.y)?H.x:H.y,X=MP(W,F),$.lastInterval=Q}else Y=J.velocity,q=J.velocityX,Z=J.velocityY,X=J.direction;Q.velocity=Y,Q.velocityX=q,Q.velocityY=Z,Q.direction=X}function tU0($,Q){let{session:J}=$,{pointers:K}=Q,{length:Y}=K;if(!J.firstInput)J.firstInput=$m(Q);if(Y>1&&!J.firstMultiple)J.firstMultiple=$m(Q);else if(Y===1)J.firstMultiple=!1;let{firstInput:q,firstMultiple:Z}=J,X=Z?Z.center:q.center,W=Q.center=fP(K);Q.timeStamp=Date.now(),Q.deltaTime=Q.timeStamp-q.timeStamp,Q.angle=rU0(X,W),Q.distance=IP(X,W);let{deltaX:F,deltaY:H}=iU0(J,Q);Q.deltaX=F,Q.deltaY=H,Q.offsetDirection=MP(Q.deltaX,Q.deltaY);let B=bP(Q.deltaTime,Q.deltaX,Q.deltaY);Q.overallVelocityX=B.x,Q.overallVelocityY=B.y,Q.overallVelocity=Math.abs(B.x)>Math.abs(B.y)?B.x:B.y,Q.scale=Z?sU0(Z.pointers,K):1,Q.rotation=Z?oU0(Z.pointers,K):0,Q.maxPointers=!J.prevInput?Q.pointers.length:Q.pointers.length>J.prevInput.maxPointers?Q.pointers.length:J.prevInput.maxPointers;let z=$.element;if(eu(Q.srcEvent.target,z))z=Q.srcEvent.target;return Q.target=z,aU0(J,Q),Q}function eU0($,Q,J){let K=J.pointers.length,Y=J.changedPointers.length,q=Q&$6.Start&&K-Y===0,Z=Q&($6.End|$6.Cancel)&&K-Y===0;if(J.isFirst=Boolean(q),J.isFinal=Boolean(Z),q)$.session={};J.eventType=Q;let X=tU0($,J);$.emit("hammer.input",X),$.recognize(X),$.session.prevInput=X}class gP{constructor($){this.evEl="",this.evWin="",this.evTarget="",this.domHandler=(Q)=>{if(this.manager.options.enable)this.handler(Q)},this.manager=$,this.element=$.element,this.target=$.options.inputTarget||$.element}callback($,Q){eU0(this.manager,$,Q)}init(){SP(this.element,this.evEl,this.domHandler),SP(this.target,this.evTarget,this.domHandler),SP(tu(this.element),this.evWin,this.domHandler)}destroy(){_P(this.element,this.evEl,this.domHandler),_P(this.target,this.evTarget,this.domHandler),_P(tu(this.element),this.evWin,this.domHandler)}}var i51={pointerdown:$6.Start,pointermove:$6.Move,pointerup:$6.End,pointercancel:$6.Cancel,pointerout:$6.Cancel},s51="pointerdown",o51="pointermove pointerup pointercancel";class yP extends gP{constructor($){super($);this.evEl=s51,this.evWin=o51,this.store=this.manager.session.pointerEvents=[],this.init()}handler($){let{store:Q}=this,J=!1,K=i51[$.type],Y=$.pointerType,q=Y==="touch",Z=Q.findIndex((X)=>X.pointerId===$.pointerId);if(K&$6.Start&&($.buttons||q)){if(Z<0)Q.push($),Z=Q.length-1}else if(K&($6.End|$6.Cancel))J=!0;if(Z<0)return;if(Q[Z]=$,this.callback(K,{pointers:Q,changedPointers:[$],eventType:K,pointerType:Y,srcEvent:$}),J)Q.splice(Z,1)}}var a51=["","webkit","Moz","MS","ms","o"];function $H0($,Q){let J=Q[0].toUpperCase()+Q.slice(1);for(let K of a51){let Y=K?K+J:Q;if(Y in $)return Y}return}var t51=1,QH0=2,JH0={touchAction:"compute",enable:!0,inputTarget:null,cssProps:{userSelect:"none",userDrag:"none",touchCallout:"none",tapHighlightColor:"rgba(0,0,0,0)"}};class xP{constructor($,Q){this.options={...JH0,...Q,cssProps:{...JH0.cssProps,...Q.cssProps},inputTarget:Q.inputTarget||$},this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=$,this.input=new yP(this),this.touchAction=new vP(this,this.options.touchAction),this.toggleCssProps(!0)}set($){if(Object.assign(this.options,$),$.touchAction)this.touchAction.update();if($.inputTarget)this.input.destroy(),this.input.target=$.inputTarget,this.input.init();return this}stop($){this.session.stopped=$?QH0:t51}recognize($){let{session:Q}=this;if(Q.stopped)return;if(this.session.prevented)$.srcEvent.preventDefault();let J,{recognizers:K}=this,{curRecognizer:Y}=Q;if(!Y||Y&&Y.state&g1.Recognized)Y=Q.curRecognizer=null;let q=0;while(q<K.length){if(J=K[q],Q.stopped!==QH0&&(!Y||J===Y||J.canRecognizeWith(Y)))J.recognize($);else J.reset();if(!Y&&J.state&(g1.Began|g1.Changed|g1.Ended))Y=Q.curRecognizer=J;q++}}get($){let{recognizers:Q}=this;for(let J=0;J<Q.length;J++)if(Q[J].options.event===$)return Q[J];return null}add($){if(Array.isArray($)){for(let J of $)this.add(J);return this}let Q=this.get($.options.event);if(Q)this.remove(Q);return this.recognizers.push($),$.manager=this,this.touchAction.update(),$}remove($){if(Array.isArray($)){for(let J of $)this.remove(J);return this}let Q=typeof $==="string"?this.get($):$;if(Q){let{recognizers:J}=this,K=J.indexOf(Q);if(K!==-1)J.splice(K,1),this.touchAction.update()}return this}on($,Q){if(!$||!Q)return;let{handlers:J}=this;for(let K of jH($))J[K]=J[K]||[],J[K].push(Q)}off($,Q){if(!$)return;let{handlers:J}=this;for(let K of jH($))if(!Q)delete J[K];else if(J[K])J[K].splice(J[K].indexOf(Q),1)}emit($,Q){let J=this.handlers[$]&&this.handlers[$].slice();if(!J||!J.length)return;let K=Q;K.type=$,K.preventDefault=function(){Q.srcEvent.preventDefault()};let Y=0;while(Y<J.length)J[Y](K),Y++}destroy(){this.toggleCssProps(!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}toggleCssProps($){let{element:Q}=this;if(!Q)return;for(let[J,K]of Object.entries(this.options.cssProps)){let Y=$H0(Q.style,J);if($)this.oldCssProps[Y]=Q.style[Y],Q.style[Y]=K;else Q.style[Y]=this.oldCssProps[Y]||""}if(!$)this.oldCssProps={}}}var e51=1;function KH0(){return e51++}function Km($){if($&g1.Cancelled)return"cancel";else if($&g1.Ended)return"end";else if($&g1.Changed)return"move";else if($&g1.Began)return"start";return""}class oq{constructor($){this.options=$,this.id=KH0(),this.state=g1.Possible,this.simultaneous={},this.requireFail=[]}set($){return Object.assign(this.options,$),this.manager.touchAction.update(),this}recognizeWith($){if(Array.isArray($)){for(let K of $)this.recognizeWith(K);return this}let Q;if(typeof $==="string"){if(Q=this.manager.get($),!Q)throw Error(`Cannot find recognizer ${$}`)}else Q=$;let{simultaneous:J}=this;if(!J[Q.id])J[Q.id]=Q,Q.recognizeWith(this);return this}dropRecognizeWith($){if(Array.isArray($)){for(let J of $)this.dropRecognizeWith(J);return this}let Q;if(typeof $==="string")Q=this.manager.get($);else Q=$;if(Q)delete this.simultaneous[Q.id];return this}requireFailure($){if(Array.isArray($)){for(let K of $)this.requireFailure(K);return this}let Q;if(typeof $==="string"){if(Q=this.manager.get($),!Q)throw Error(`Cannot find recognizer ${$}`)}else Q=$;let{requireFail:J}=this;if(J.indexOf(Q)===-1)J.push(Q),Q.requireFailure(this);return this}dropRequireFailure($){if(Array.isArray($)){for(let J of $)this.dropRequireFailure(J);return this}let Q;if(typeof $==="string")Q=this.manager.get($);else Q=$;if(Q){let J=this.requireFail.indexOf(Q);if(J>-1)this.requireFail.splice(J,1)}return this}hasRequireFailures(){return Boolean(this.requireFail.find(($)=>$.options.enable))}canRecognizeWith($){return Boolean(this.simultaneous[$.id])}emit($){if(!$)return;let{state:Q}=this;if(Q<g1.Ended)this.manager.emit(this.options.event+Km(Q),$);if(this.manager.emit(this.options.event,$),$.additionalEvent)this.manager.emit($.additionalEvent,$);if(Q>=g1.Ended)this.manager.emit(this.options.event+Km(Q),$)}tryEmit($){if(this.canEmit())this.emit($);else this.state=g1.Failed}canEmit(){let $=0;while($<this.requireFail.length){if(!(this.requireFail[$].state&(g1.Failed|g1.Possible)))return!1;$++}return!0}recognize($){let Q={...$};if(!this.options.enable){this.reset(),this.state=g1.Failed;return}if(this.state&(g1.Recognized|g1.Cancelled|g1.Failed))this.state=g1.Possible;if(this.state=this.process(Q),this.state&(g1.Began|g1.Changed|g1.Ended|g1.Cancelled))this.tryEmit(Q)}getEventNames(){return[this.options.event]}reset(){}}class aq extends oq{attrTest($){let Q=this.options.pointers;return Q===0||$.pointers.length===Q}process($){let{state:Q}=this,{eventType:J}=$,K=Q&(g1.Began|g1.Changed),Y=this.attrTest($);if(K&&(J&$6.Cancel||!Y))return Q|g1.Cancelled;else if(K||Y){if(J&$6.End)return Q|g1.Ended;else if(!(Q&g1.Began))return g1.Began;return Q|g1.Changed}return g1.Failed}}class EH extends oq{constructor($={}){super({enable:!0,event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10,...$});this.pTime=null,this.pCenter=null,this._timer=null,this._input=null,this.count=0}getTouchAction(){return[yV]}process($){let{options:Q}=this,J=$.pointers.length===Q.pointers,K=$.distance<Q.threshold,Y=$.deltaTime<Q.time;if(this.reset(),$.eventType&$6.Start&&this.count===0)return this.failTimeout();if(K&&Y&&J){if($.eventType!==$6.End)return this.failTimeout();let q=this.pTime?$.timeStamp-this.pTime<Q.interval:!0,Z=!this.pCenter||IP(this.pCenter,$.center)<Q.posThreshold;if(this.pTime=$.timeStamp,this.pCenter=$.center,!Z||!q)this.count=1;else this.count+=1;if(this._input=$,this.count%Q.taps===0){if(!this.hasRequireFailures())return g1.Recognized;return this._timer=setTimeout(()=>{this.state=g1.Recognized,this.tryEmit(this._input)},Q.interval),g1.Began}}return g1.Failed}failTimeout(){return this._timer=setTimeout(()=>{this.state=g1.Failed},this.options.interval),g1.Failed}reset(){clearTimeout(this._timer)}emit($){if(this.state===g1.Recognized)$.tapCount=this.count,this.manager.emit(this.options.event,$)}}var $61=["","start","move","end","cancel","up","down","left","right"];class xX extends aq{constructor($={}){super({enable:!0,pointers:1,event:"pan",threshold:10,direction:f6.All,...$});this.pX=null,this.pY=null}getTouchAction(){let{options:{direction:$}}=this,Q=[];if($&f6.Horizontal)Q.push(cV);if($&f6.Vertical)Q.push(xV);return Q}getEventNames(){return $61.map(($)=>this.options.event+$)}directionTest($){let{options:Q}=this,J=!0,{distance:K}=$,{direction:Y}=$,q=$.deltaX,Z=$.deltaY;if(!(Y&Q.direction))if(Q.direction&f6.Horizontal)Y=q===0?f6.None:q<0?f6.Left:f6.Right,J=q!==this.pX,K=Math.abs($.deltaX);else Y=Z===0?f6.None:Z<0?f6.Up:f6.Down,J=Z!==this.pY,K=Math.abs($.deltaY);return $.direction=Y,J&&K>Q.threshold&&Boolean(Y&Q.direction)}attrTest($){return super.attrTest($)&&(Boolean(this.state&g1.Began)||!(this.state&g1.Began)&&this.directionTest($))}emit($){this.pX=$.deltaX,this.pY=$.deltaY;let Q=f6[$.direction].toLowerCase();if(Q)$.additionalEvent=this.options.event+Q;super.emit($)}}var Q61=["","start","move","end","cancel","in","out"];class uV extends aq{constructor($={}){super({enable:!0,event:"pinch",threshold:0,pointers:2,...$})}getTouchAction(){return[yX]}getEventNames(){return Q61.map(($)=>this.options.event+$)}attrTest($){return super.attrTest($)&&(Math.abs($.scale-1)>this.options.threshold||Boolean(this.state&g1.Began))}emit($){if($.scale!==1){let Q=$.scale<1?"in":"out";$.additionalEvent=this.options.event+Q}super.emit($)}}class mK{constructor($,Q,J){this.element=$,this.callback=Q,this.options=J}}var YH0=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",qx1=typeof window<"u"?window:global;var q61=YH0.indexOf("firefox")!==-1,qH0=4.000244140625,Z61=40,X61=0.25;class Ym extends mK{constructor($,Q,J){super($,Q,{enable:!0,...J});this.handleEvent=(K)=>{if(!this.options.enable)return;let Y=K.deltaY;if(globalThis.WheelEvent){if(q61&&K.deltaMode===globalThis.WheelEvent.DOM_DELTA_PIXEL)Y/=globalThis.devicePixelRatio;if(K.deltaMode===globalThis.WheelEvent.DOM_DELTA_LINE)Y*=Z61}if(Y!==0&&Y%qH0===0)Y=Math.floor(Y/qH0);if(K.shiftKey&&Y)Y=Y*X61;this.callback({type:"wheel",center:{x:K.clientX,y:K.clientY},delta:-Y,srcEvent:K,pointerType:"mouse",target:K.target})},$.addEventListener("wheel",this.handleEvent,{passive:!1})}destroy(){this.element.removeEventListener("wheel",this.handleEvent)}enableEventType($,Q){if($==="wheel")this.options.enable=Q}}var ZH0=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"];class qm extends mK{constructor($,Q,J){super($,Q,{enable:!0,...J});this.handleEvent=(Y)=>{this.handleOverEvent(Y),this.handleOutEvent(Y),this.handleEnterEvent(Y),this.handleLeaveEvent(Y),this.handleMoveEvent(Y)},this.pressed=!1;let{enable:K}=this.options;this.enableMoveEvent=K,this.enableLeaveEvent=K,this.enableEnterEvent=K,this.enableOutEvent=K,this.enableOverEvent=K,ZH0.forEach((Y)=>$.addEventListener(Y,this.handleEvent))}destroy(){ZH0.forEach(($)=>this.element.removeEventListener($,this.handleEvent))}enableEventType($,Q){switch($){case"pointermove":this.enableMoveEvent=Q;break;case"pointerover":this.enableOverEvent=Q;break;case"pointerout":this.enableOutEvent=Q;break;case"pointerenter":this.enableEnterEvent=Q;break;case"pointerleave":this.enableLeaveEvent=Q;break;default:}}handleOverEvent($){if(this.enableOverEvent&&$.type==="mouseover")this._emit("pointerover",$)}handleOutEvent($){if(this.enableOutEvent&&$.type==="mouseout")this._emit("pointerout",$)}handleEnterEvent($){if(this.enableEnterEvent&&$.type==="mouseenter")this._emit("pointerenter",$)}handleLeaveEvent($){if(this.enableLeaveEvent&&$.type==="mouseleave")this._emit("pointerleave",$)}handleMoveEvent($){if(this.enableMoveEvent)switch($.type){case"mousedown":if($.button>=0)this.pressed=!0;break;case"mousemove":if($.buttons===0)this.pressed=!1;if(!this.pressed)this._emit("pointermove",$);break;case"mouseup":this.pressed=!1;break;default:}}_emit($,Q){this.callback({type:$,center:{x:Q.clientX,y:Q.clientY},srcEvent:Q,pointerType:"mouse",target:Q.target})}}var XH0=["keydown","keyup"];class Zm extends mK{constructor($,Q,J){super($,Q,{enable:!0,tabIndex:0,...J});this.handleEvent=(K)=>{let Y=K.target||K.srcElement;if(Y.tagName==="INPUT"&&Y.type==="text"||Y.tagName==="TEXTAREA")return;if(this.enableDownEvent&&K.type==="keydown")this.callback({type:"keydown",srcEvent:K,key:K.key,target:K.target});if(this.enableUpEvent&&K.type==="keyup")this.callback({type:"keyup",srcEvent:K,key:K.key,target:K.target})},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,$.tabIndex=this.options.tabIndex,$.style.outline="none",XH0.forEach((K)=>$.addEventListener(K,this.handleEvent))}destroy(){XH0.forEach(($)=>this.element.removeEventListener($,this.handleEvent))}enableEventType($,Q){if($==="keydown")this.enableDownEvent=Q;if($==="keyup")this.enableUpEvent=Q}}class Xm extends mK{constructor($,Q,J){super($,Q,J);this.handleEvent=(K)=>{if(!this.options.enable)return;this.callback({type:"contextmenu",center:{x:K.clientX,y:K.clientY},srcEvent:K,pointerType:"mouse",target:K.target})},$.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType($,Q){if($==="contextmenu")this.options.enable=Q}}var W61={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};function WH0($){let Q=W61[$.srcEvent.type];if(!Q)return null;let{buttons:J,button:K}=$.srcEvent,Y=!1,q=!1,Z=!1;if(Q===2)Y=Boolean(J&1),q=Boolean(J&4),Z=Boolean(J&2);else Y=K===0,q=K===1,Z=K===2;return{leftButton:Y,middleButton:q,rightButton:Z}}function FH0($,Q){let J=$.center;if(!J)return null;let K=Q.getBoundingClientRect(),Y=K.width/Q.offsetWidth||1,q=K.height/Q.offsetHeight||1,Z={x:(J.x-K.left-Q.clientLeft)/Y,y:(J.y-K.top-Q.clientTop)/q};return{center:J,offsetCenter:Z}}var F61={srcElement:"root",priority:0};class Wm{constructor($,Q){this.handleEvent=(J)=>{if(this.isEmpty())return;let K=this._normalizeEvent(J),Y=J.srcEvent.target;while(Y&&Y!==K.rootElement){if(this._emit(K,Y),K.handled)return;Y=Y.parentNode}this._emit(K,"root")},this.eventManager=$,this.recognizerName=Q,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add($,Q,J,K=!1,Y=!1){let{handlers:q,handlersByElement:Z}=this,X={...F61,...J},W=Z.get(X.srcElement);if(!W)W=[],Z.set(X.srcElement,W);let F={type:$,handler:Q,srcElement:X.srcElement,priority:X.priority};if(K)F.once=!0;if(Y)F.passive=!0;q.push(F),this._active=this._active||!F.passive;let H=W.length-1;while(H>=0){if(W[H].priority>=F.priority)break;H--}W.splice(H+1,0,F)}remove($,Q){let{handlers:J,handlersByElement:K}=this;for(let Y=J.length-1;Y>=0;Y--){let q=J[Y];if(q.type===$&&q.handler===Q){J.splice(Y,1);let Z=K.get(q.srcElement);if(Z.splice(Z.indexOf(q),1),Z.length===0)K.delete(q.srcElement)}}this._active=J.some((Y)=>!Y.passive)}_emit($,Q){let J=this.handlersByElement.get(Q);if(J){let K=!1,Y=()=>{$.handled=!0},q=()=>{$.handled=!0,K=!0},Z=[];for(let X=0;X<J.length;X++){let{type:W,handler:F,once:H}=J[X];if(F({...$,type:W,stopPropagation:Y,stopImmediatePropagation:q}),H)Z.push(J[X]);if(K)break}for(let X=0;X<Z.length;X++){let{type:W,handler:F}=Z[X];this.remove(W,F)}}}_normalizeEvent($){let Q=this.eventManager.getElement();return{...$,...WH0($),...FH0($,Q),preventDefault:()=>{$.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:Q}}}function U61($){if("recognizer"in $)return $;let Q,J=Array.isArray($)?[...$]:[$];if(typeof J[0]==="function"){let K=J.shift(),Y=J.shift()||{};Q=new K(Y)}else Q=J.shift();return{recognizer:Q,recognizeWith:typeof J[0]==="string"?[J[0]]:J[0],requireFailure:typeof J[1]==="string"?[J[1]]:J[1]}}class cP{constructor($=null,Q={}){if(this._onBasicInput=(J)=>{this.manager.emit(J.srcEvent.type,J)},this._onOtherEvent=(J)=>{this.manager.emit(J.type,J)},this.options={recognizers:[],events:{},touchAction:"compute",tabIndex:0,cssProps:{},...Q},this.events=new Map,this.element=$,!$)return;this.manager=new xP($,this.options);for(let J of this.options.recognizers){let{recognizer:K,recognizeWith:Y,requireFailure:q}=U61(J);if(this.manager.add(K),Y)K.recognizeWith(Y);if(q)K.requireFailure(q)}this.manager.on("hammer.input",this._onBasicInput),this.wheelInput=new Ym($,this._onOtherEvent,{enable:!1}),this.moveInput=new qm($,this._onOtherEvent,{enable:!1}),this.keyInput=new Zm($,this._onOtherEvent,{enable:!1,tabIndex:Q.tabIndex}),this.contextmenuInput=new Xm($,this._onOtherEvent,{enable:!1}),this.on(this.options.events)}getElement(){return this.element}destroy(){if(!this.element)return;this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy()}on($,Q,J){this._addEventHandler($,Q,J,!1)}once($,Q,J){this._addEventHandler($,Q,J,!0)}watch($,Q,J){this._addEventHandler($,Q,J,!1,!0)}off($,Q){this._removeEventHandler($,Q)}_toggleRecognizer($,Q){let{manager:J}=this;if(!J)return;let K=J.get($);if(K)K.set({enable:Q}),J.touchAction.update();this.wheelInput?.enableEventType($,Q),this.moveInput?.enableEventType($,Q),this.keyInput?.enableEventType($,Q),this.contextmenuInput?.enableEventType($,Q)}_addEventHandler($,Q,J,K,Y){if(typeof $!=="string"){J=Q;for(let[W,F]of Object.entries($))this._addEventHandler(W,F,J,K,Y);return}let{manager:q,events:Z}=this;if(!q)return;let X=Z.get($);if(!X){let W=this._getRecognizerName($)||$;if(X=new Wm(this,W),Z.set($,X),q)q.on($,X.handleEvent)}if(X.add($,Q,J,K,Y),!X.isEmpty())this._toggleRecognizer(X.recognizerName,!0)}_removeEventHandler($,Q){if(typeof $!=="string"){for(let[Y,q]of Object.entries($))this._removeEventHandler(Y,q);return}let{events:J}=this,K=J.get($);if(!K)return;if(K.remove($,Q),K.isEmpty()){let{recognizerName:Y}=K,q=!1;for(let Z of J.values())if(Z.recognizerName===Y&&!Z.isEmpty()){q=!0;break}if(!q)this._toggleRecognizer(Y,!1)}}_getRecognizerName($){return this.manager.recognizers.find((Q)=>{return Q.getEventNames().includes($)})?.options.event}}var z5={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(z5,"IDENTITY",{get:()=>{return E1.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0}});var R8={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},c8={common:0,meters:1,pixels:2},mV={click:"onClick",dblclick:"onClick",panstart:"onDragStart",panmove:"onDrag",panend:"onDragEnd"},Fm={multipan:[xX,{threshold:10,direction:f6.Vertical,pointers:2}],pinch:[uV,{},null,["multipan"]],pan:[xX,{threshold:1},["pinch"],["multipan"]],dblclick:[EH,{event:"dblclick",taps:2}],click:[EH,{event:"click"},null,["dblclick"]]};function H61($,Q){if($===Q)return!0;if(Array.isArray($)){let J=$.length;if(!Q||Q.length!==J)return!1;for(let K=0;K<J;K++)if($[K]!==Q[K])return!1;return!0}return!1}function NJ($){let Q={},J;return(K)=>{for(let Y in K)if(!H61(K[Y],Q[Y])){J=$(K),Q=K;break}return J}}var UH0=[0,0,0,0],N61=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],HH0=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],B61=[0,0,0],NH0=[0,0,0],z61=NJ(V61);function Um($,Q,J=NH0){if(J.length<3)J=[J[0],J[1],0];let K=J,Y,q=!0;if(Q===z5.LNGLAT_OFFSETS||Q===z5.METER_OFFSETS)Y=J;else Y=$.isGeospatial?[Math.fround($.longitude),Math.fround($.latitude),0]:null;switch($.projectionMode){case R8.WEB_MERCATOR:if(Q===z5.LNGLAT||Q===z5.CARTESIAN)Y=[0,0,0],q=!1;break;case R8.WEB_MERCATOR_AUTO_OFFSET:if(Q===z5.LNGLAT)K=Y;else if(Q===z5.CARTESIAN)K=[Math.fround($.center[0]),Math.fround($.center[1]),0],Y=$.unprojectPosition(K),K[0]-=J[0],K[1]-=J[1],K[2]-=J[2];break;case R8.IDENTITY:K=$.position.map(Math.fround),K[2]=K[2]||0;break;case R8.GLOBE:q=!1,Y=null;break;default:q=!1}return{geospatialOrigin:Y,shaderCoordinateOrigin:K,offsetMode:q}}function A61($,Q,J){let{viewMatrixUncentered:K,projectionMatrix:Y}=$,{viewMatrix:q,viewProjectionMatrix:Z}=$,X=UH0,W=UH0,F=$.cameraPosition,{geospatialOrigin:H,shaderCoordinateOrigin:B,offsetMode:z}=Um($,Q,J);if(z)W=$.projectPosition(H||B),F=[F[0]-W[0],F[1]-W[1],F[2]-W[2]],W[3]=1,X=HJ.transformMat4([],W,Z),q=K||q,Z=c7.multiply([],Y,q),Z=c7.multiply([],Z,N61);return{viewMatrix:q,viewProjectionMatrix:Z,projectionCenter:X,originCommon:W,cameraPosCommon:F,shaderCoordinateOrigin:B,geospatialOrigin:H}}function BH0({viewport:$,devicePixelRatio:Q=1,modelMatrix:J=null,coordinateSystem:K=z5.DEFAULT,coordinateOrigin:Y=NH0,autoWrapLongitude:q=!1}){if(K===z5.DEFAULT)K=$.isGeospatial?z5.LNGLAT:z5.CARTESIAN;let Z=z61({viewport:$,devicePixelRatio:Q,coordinateSystem:K,coordinateOrigin:Y});return Z.wrapLongitude=q,Z.modelMatrix=J||HH0,Z}function V61({viewport:$,devicePixelRatio:Q,coordinateSystem:J,coordinateOrigin:K}){let{projectionCenter:Y,viewProjectionMatrix:q,originCommon:Z,cameraPosCommon:X,shaderCoordinateOrigin:W,geospatialOrigin:F}=A61($,J,K),H=$.getDistanceScales(),B=[$.width*Q,$.height*Q],z=HJ.transformMat4([],[0,0,-$.focalDistance,1],$.projectionMatrix)[3]||1,A={coordinateSystem:J,projectionMode:$.projectionMode,coordinateOrigin:W,commonOrigin:Z.slice(0,3),center:Y,pseudoMeters:Boolean($._pseudoMeters),viewportSize:B,devicePixelRatio:Q,focalDistance:z,commonUnitsPerMeter:H.unitsPerMeter,commonUnitsPerWorldUnit:H.unitsPerMeter,commonUnitsPerWorldUnit2:B61,scale:$.scale,wrapLongitude:!1,viewProjectionMatrix:q,modelMatrix:HH0,cameraPosition:X};if(F){let R=$.getDistanceScales(F);switch(J){case z5.METER_OFFSETS:A.commonUnitsPerWorldUnit=R.unitsPerMeter,A.commonUnitsPerWorldUnit2=R.unitsPerMeter2;break;case z5.LNGLAT:case z5.LNGLAT_OFFSETS:if(!$._pseudoMeters)A.commonUnitsPerMeter=R.unitsPerMeter;A.commonUnitsPerWorldUnit=R.unitsPerDegree,A.commonUnitsPerWorldUnit2=R.unitsPerDegree2;break;case z5.CARTESIAN:A.commonUnitsPerWorldUnit=[1,1,R.unitsPerMeter[2]],A.commonUnitsPerWorldUnit2=[0,0,R.unitsPerMeter2[2]];break;default:break}}return A}var R61=Object.keys(z5).map(($)=>`const COORDINATE_SYSTEM_${$}: i32 = ${z5[$]};`).join(""),G61=Object.keys(R8).map(($)=>`const PROJECTION_MODE_${$}: i32 = ${R8[$]};`).join(""),w61=Object.keys(c8).map(($)=>`const UNIT_${$.toUpperCase()}: i32 = ${c8[$]};`).join(""),O61=`${R61}
${G61}
${w61}

const TILE_SIZE: f32 = 512.0;
const PI: f32 = 3.1415926536;
const WORLD_SCALE: f32 = TILE_SIZE / (PI * 2.0);
const ZERO_64_LOW: vec3<f32> = vec3<f32>(0.0, 0.0, 0.0);
const EARTH_RADIUS: f32 = 6370972.0; // meters
const GLOBE_RADIUS: f32 = 256.0;

// -----------------------------------------------------------------------------
// Uniform block (converted from GLSL uniform block)
// -----------------------------------------------------------------------------
struct ProjectUniforms {
  wrapLongitude: i32,
  coordinateSystem: i32,
  commonUnitsPerMeter: vec3<f32>,
  projectionMode: i32,
  scale: f32,
  commonUnitsPerWorldUnit: vec3<f32>,
  commonUnitsPerWorldUnit2: vec3<f32>,
  center: vec4<f32>,
  modelMatrix: mat4x4<f32>,
  viewProjectionMatrix: mat4x4<f32>,
  viewportSize: vec2<f32>,
  devicePixelRatio: f32,
  focalDistance: f32,
  cameraPosition: vec3<f32>,
  coordinateOrigin: vec3<f32>,
  commonOrigin: vec3<f32>,
  pseudoMeters: i32,
};

@group(0) @binding(0)
var<uniform> project: ProjectUniforms;

// -----------------------------------------------------------------------------
// Geometry data
// (In your GLSL code, "geometry" was assumed to be available globally. In WGSL,
// you might supply this via vertex attributes or a uniform. Here we define a
// uniform struct for demonstration.)
// -----------------------------------------------------------------------------

// Structure to carry additional geometry data used by deck.gl filters.
struct Geometry {
  worldPosition: vec3<f32>,
  worldPositionAlt: vec3<f32>,
  position: vec4<f32>,
  uv: vec2<f32>,
  pickingColor: vec3<f32>,
};

// @group(0) @binding(1)
var<private> geometry: Geometry;
`,zH0=`${O61}

// -----------------------------------------------------------------------------
// Functions
// -----------------------------------------------------------------------------

// Returns an adjustment factor for commonUnitsPerMeter
fn _project_size_at_latitude(lat: f32) -> f32 {
  let y = clamp(lat, -89.9, 89.9);
  return 1.0 / cos(radians(y));
}

// Overloaded version: scales a value in meters at a given latitude.
fn _project_size_at_latitude_m(meters: f32, lat: f32) -> f32 {
  return meters * project.commonUnitsPerMeter.z * _project_size_at_latitude(lat);
}

// Computes a non-linear scale factor based on geometry.
// (Note: This function relies on "geometry" being provided.)
fn project_size() -> f32 {
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR &&
      project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT &&
      project.pseudoMeters == 0) {
    if (geometry.position.w == 0.0) {
      return _project_size_at_latitude(geometry.worldPosition.y);
    }
    let y: f32 = geometry.position.y / TILE_SIZE * 2.0 - 1.0;
    let y2 = y * y;
    let y4 = y2 * y2;
    let y6 = y4 * y2;
    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;
  }
  return 1.0;
}

// Overloads to scale offsets (meters to world units)
fn project_size_float(meters: f32) -> f32 {
  return meters * project.commonUnitsPerMeter.z * project_size();
}

fn project_size_vec2(meters: vec2<f32>) -> vec2<f32> {
  return meters * project.commonUnitsPerMeter.xy * project_size();
}

fn project_size_vec3(meters: vec3<f32>) -> vec3<f32> {
  return meters * project.commonUnitsPerMeter * project_size();
}

fn project_size_vec4(meters: vec4<f32>) -> vec4<f32> {
  return vec4<f32>(meters.xyz * project.commonUnitsPerMeter, meters.w);
}

// Returns a rotation matrix aligning the zaxis with the given up vector.
fn project_get_orientation_matrix(up: vec3<f32>) -> mat3x3<f32> {
  let uz = normalize(up);
  let ux = select(
    vec3<f32>(1.0, 0.0, 0.0),
    normalize(vec3<f32>(uz.y, -uz.x, 0.0)),
    abs(uz.z) == 1.0
  );
  let uy = cross(uz, ux);
  return mat3x3<f32>(ux, uy, uz);
}

// Since WGSL does not support "out" parameters, we return a struct.
struct RotationResult {
  needsRotation: bool,
  transform: mat3x3<f32>,
};

fn project_needs_rotation(commonPosition: vec3<f32>) -> RotationResult {
  if (project.projectionMode == PROJECTION_MODE_GLOBE) {
    return RotationResult(true, project_get_orientation_matrix(commonPosition));
  } else {
    return RotationResult(false, mat3x3<f32>());  // identity alternative if needed
  };
}

// Projects a normal vector from the current coordinate system to world space.
fn project_normal(vector: vec3<f32>) -> vec3<f32> {
  let normal_modelspace = project.modelMatrix * vec4<f32>(vector, 0.0);
  var n = normalize(normal_modelspace.xyz * project.commonUnitsPerMeter);
  let rotResult = project_needs_rotation(geometry.position.xyz);
  if (rotResult.needsRotation) {
    n = rotResult.transform * n;
  }
  return n;
}

// Applies a scale offset based on y-offset (dy)
fn project_offset_(offset: vec4<f32>) -> vec4<f32> {
  let dy: f32 = offset.y;
  let commonUnitsPerWorldUnit = project.commonUnitsPerWorldUnit + project.commonUnitsPerWorldUnit2 * dy;
  return vec4<f32>(offset.xyz * commonUnitsPerWorldUnit, offset.w);
}

// Projects lng/lat coordinates to a unit tile [0,1]
fn project_mercator_(lnglat: vec2<f32>) -> vec2<f32> {
  var x = lnglat.x;
  if (project.wrapLongitude != 0) {
    x = ((x + 180.0) % 360.0) - 180.0;
  }
  let y = clamp(lnglat.y, -89.9, 89.9);
  return vec2<f32>(
    radians(x) + PI,
    PI + log(tan(PI * 0.25 + radians(y) * 0.5))
  ) * WORLD_SCALE;
}

// Projects lng/lat/z coordinates for a globe projection.
fn project_globe_(lnglatz: vec3<f32>) -> vec3<f32> {
  let lambda = radians(lnglatz.x);
  let phi = radians(lnglatz.y);
  let cosPhi = cos(phi);
  let D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;
  return vec3<f32>(
    sin(lambda) * cosPhi,
    -cos(lambda) * cosPhi,
    sin(phi)
  ) * D;
}

// Projects positions (with an optional 64-bit low part) from the input
// coordinate system to the common space.
fn project_position_vec4_f64(position: vec4<f32>, position64Low: vec3<f32>) -> vec4<f32> {
  var position_world = project.modelMatrix * position;

  // Work around for a Mac+NVIDIA bug:
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4<f32>(
        project_mercator_(position_world.xy),
        _project_size_at_latitude_m(position_world.z, position_world.y),
        position_world.w
      );
    }
    if (project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {
      position_world = vec4f(position_world.xyz + project.coordinateOrigin, position_world.w);
    }
  }
  if (project.projectionMode == PROJECTION_MODE_GLOBE) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4<f32>(
        project_globe_(position_world.xyz),
        position_world.w
      );
    }
  }
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      if (abs(position_world.y - project.coordinateOrigin.y) > 0.25) {
        return vec4<f32>(
          project_mercator_(position_world.xy) - project.commonOrigin.xy,
          project_size_float(position_world.z),
          position_world.w
        );
      }
    }
  }
  if (project.projectionMode == PROJECTION_MODE_IDENTITY ||
      (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&
       (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
        project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {
    position_world = vec4f(position_world.xyz - project.coordinateOrigin, position_world.w);
  }

  return project_offset_(position_world) +
         project_offset_(project.modelMatrix * vec4<f32>(position64Low, 0.0));
}

// Overloaded versions for different input types.
fn project_position_vec4_f32(position: vec4<f32>) -> vec4<f32> {
  return project_position_vec4_f64(position, ZERO_64_LOW);
}

fn project_position_vec3_f64(position: vec3<f32>, position64Low: vec3<f32>) -> vec3<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 1.0), position64Low);
  return projected_position.xyz;
}

fn project_position_vec3_f32(position: vec3<f32>) -> vec3<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 1.0), ZERO_64_LOW);
  return projected_position.xyz;
}

fn project_position_vec2_f32(position: vec2<f32>) -> vec2<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 0.0, 1.0), ZERO_64_LOW);
  return projected_position.xy;
}

// Transforms a common space position to clip space.
fn project_common_position_to_clipspace_with_projection(position: vec4<f32>, viewProjectionMatrix: mat4x4<f32>, center: vec4<f32>) -> vec4<f32> {
  return viewProjectionMatrix * position + center;
}

// Uses the project viewProjectionMatrix and center.
fn project_common_position_to_clipspace(position: vec4<f32>) -> vec4<f32> {
  return project_common_position_to_clipspace_with_projection(position, project.viewProjectionMatrix, project.center);
}

// Returns a clip space offset corresponding to a given number of screen pixels.
fn project_pixel_size_to_clipspace(pixels: vec2<f32>) -> vec2<f32> {
  let offset = pixels / project.viewportSize * project.devicePixelRatio * 2.0;
  return offset * project.focalDistance;
}

fn project_meter_size_to_pixel(meters: f32) -> f32 {
  return project_size_float(meters) * project.scale;
}

fn project_unit_size_to_pixel(size: f32, unit: i32) -> f32 {
  if (unit == UNIT_METERS) {
    return project_meter_size_to_pixel(size);
  } else if (unit == UNIT_COMMON) {
    return size * project.scale;
  }
  // UNIT_PIXELS: no scaling applied.
  return size;
}

fn project_pixel_size_float(pixels: f32) -> f32 {
  return pixels / project.scale;
}

fn project_pixel_size_vec2(pixels: vec2<f32>) -> vec2<f32> {
  return pixels / project.scale;
}
`;var T61=Object.keys(z5).map(($)=>`const int COORDINATE_SYSTEM_${$} = ${z5[$]};`).join(""),D61=Object.keys(R8).map(($)=>`const int PROJECTION_MODE_${$} = ${R8[$]};`).join(""),C61=Object.keys(c8).map(($)=>`const int UNIT_${$.toUpperCase()} = ${c8[$]};`).join(""),AH0=`${T61}
${D61}
${C61}
uniform projectUniforms {
bool wrapLongitude;
int coordinateSystem;
vec3 commonUnitsPerMeter;
int projectionMode;
float scale;
vec3 commonUnitsPerWorldUnit;
vec3 commonUnitsPerWorldUnit2;
vec4 center;
mat4 modelMatrix;
mat4 viewProjectionMatrix;
vec2 viewportSize;
float devicePixelRatio;
float focalDistance;
vec3 cameraPosition;
vec3 coordinateOrigin;
vec3 commonOrigin;
bool pseudoMeters;
} project;
const float TILE_SIZE = 512.0;
const float PI = 3.1415926536;
const float WORLD_SCALE = TILE_SIZE / (PI * 2.0);
const vec3 ZERO_64_LOW = vec3(0.0);
const float EARTH_RADIUS = 6370972.0;
const float GLOBE_RADIUS = 256.0;
float project_size_at_latitude(float lat) {
float y = clamp(lat, -89.9, 89.9);
return 1.0 / cos(radians(y));
}
float project_size() {
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR &&
project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT &&
project.pseudoMeters == false) {
if (geometry.position.w == 0.0) {
return project_size_at_latitude(geometry.worldPosition.y);
}
float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;
float y2 = y * y;
float y4 = y2 * y2;
float y6 = y4 * y2;
return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;
}
return 1.0;
}
float project_size_at_latitude(float meters, float lat) {
return meters * project.commonUnitsPerMeter.z * project_size_at_latitude(lat);
}
float project_size(float meters) {
return meters * project.commonUnitsPerMeter.z * project_size();
}
vec2 project_size(vec2 meters) {
return meters * project.commonUnitsPerMeter.xy * project_size();
}
vec3 project_size(vec3 meters) {
return meters * project.commonUnitsPerMeter * project_size();
}
vec4 project_size(vec4 meters) {
return vec4(meters.xyz * project.commonUnitsPerMeter, meters.w);
}
mat3 project_get_orientation_matrix(vec3 up) {
vec3 uz = normalize(up);
vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));
vec3 uy = cross(uz, ux);
return mat3(ux, uy, uz);
}
bool project_needs_rotation(vec3 commonPosition, out mat3 transform) {
if (project.projectionMode == PROJECTION_MODE_GLOBE) {
transform = project_get_orientation_matrix(commonPosition);
return true;
}
return false;
}
vec3 project_normal(vec3 vector) {
vec4 normal_modelspace = project.modelMatrix * vec4(vector, 0.0);
vec3 n = normalize(normal_modelspace.xyz * project.commonUnitsPerMeter);
mat3 rotation;
if (project_needs_rotation(geometry.position.xyz, rotation)) {
n = rotation * n;
}
return n;
}
vec4 project_offset_(vec4 offset) {
float dy = offset.y;
vec3 commonUnitsPerWorldUnit = project.commonUnitsPerWorldUnit + project.commonUnitsPerWorldUnit2 * dy;
return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);
}
vec2 project_mercator_(vec2 lnglat) {
float x = lnglat.x;
if (project.wrapLongitude) {
x = mod(x + 180., 360.0) - 180.;
}
float y = clamp(lnglat.y, -89.9, 89.9);
return vec2(
radians(x) + PI,
PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))
) * WORLD_SCALE;
}
vec3 project_globe_(vec3 lnglatz) {
float lambda = radians(lnglatz.x);
float phi = radians(lnglatz.y);
float cosPhi = cos(phi);
float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;
return vec3(
sin(lambda) * cosPhi,
-cos(lambda) * cosPhi,
sin(phi)
) * D;
}
vec4 project_position(vec4 position, vec3 position64Low) {
vec4 position_world = project.modelMatrix * position;
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
return vec4(
project_mercator_(position_world.xy),
project_size_at_latitude(position_world.z, position_world.y),
position_world.w
);
}
if (project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {
position_world.xyz += project.coordinateOrigin;
}
}
if (project.projectionMode == PROJECTION_MODE_GLOBE) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
return vec4(
project_globe_(position_world.xyz),
position_world.w
);
}
}
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
if (abs(position_world.y - project.coordinateOrigin.y) > 0.25) {
return vec4(
project_mercator_(position_world.xy) - project.commonOrigin.xy,
project_size(position_world.z),
position_world.w
);
}
}
}
if (project.projectionMode == PROJECTION_MODE_IDENTITY ||
(project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&
(project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {
position_world.xyz -= project.coordinateOrigin;
}
return project_offset_(position_world) + project_offset_(project.modelMatrix * vec4(position64Low, 0.0));
}
vec4 project_position(vec4 position) {
return project_position(position, ZERO_64_LOW);
}
vec3 project_position(vec3 position, vec3 position64Low) {
vec4 projected_position = project_position(vec4(position, 1.0), position64Low);
return projected_position.xyz;
}
vec3 project_position(vec3 position) {
vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);
return projected_position.xyz;
}
vec2 project_position(vec2 position) {
vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);
return projected_position.xy;
}
vec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {
return viewProjectionMatrix * position + center;
}
vec4 project_common_position_to_clipspace(vec4 position) {
return project_common_position_to_clipspace(position, project.viewProjectionMatrix, project.center);
}
vec2 project_pixel_size_to_clipspace(vec2 pixels) {
vec2 offset = pixels / project.viewportSize * project.devicePixelRatio * 2.0;
return offset * project.focalDistance;
}
float project_size_to_pixel(float meters) {
return project_size(meters) * project.scale;
}
float project_size_to_pixel(float size, int unit) {
if (unit == UNIT_METERS) return project_size_to_pixel(size);
if (unit == UNIT_COMMON) return size * project.scale;
return size;
}
float project_pixel_size(float pixels) {
return pixels / project.scale;
}
vec2 project_pixel_size(vec2 pixels) {
return pixels / project.scale;
}
`;var P61={};function k61($=P61){if("viewport"in $)return BH0($);return{}}var LH={name:"project",dependencies:[nu,hP],source:zH0,vs:AH0,getUniforms:k61,uniformTypes:{wrapLongitude:"f32",coordinateSystem:"i32",commonUnitsPerMeter:"vec3<f32>",projectionMode:"i32",scale:"f32",commonUnitsPerWorldUnit:"vec3<f32>",commonUnitsPerWorldUnit2:"vec3<f32>",center:"vec4<f32>",modelMatrix:"mat4x4<f32>",viewProjectionMatrix:"mat4x4<f32>",viewportSize:"vec2<f32>",devicePixelRatio:"f32",focalDistance:"f32",cameraPosition:"vec3<f32>",coordinateOrigin:"vec3<f32>",commonOrigin:"vec3<f32>",pseudoMeters:"f32"}};var j61=`// Define a structure to hold both the clip-space position and the common position.
struct ProjectResult {
  clipPosition: vec4<f32>,
  commonPosition: vec4<f32>,
};

// This function mimics the GLSL version with the 'out' parameter by returning both values.
fn project_position_to_clipspace_and_commonspace(
    position: vec3<f32>,
    position64Low: vec3<f32>,
    offset: vec3<f32>
) -> ProjectResult {
  // Compute the projected position.
  let projectedPosition: vec3<f32> = project_position_vec3_f64(position, position64Low);

  // Start with the provided offset.
  var finalOffset: vec3<f32> = offset;

  // Get whether a rotation is needed and the rotation matrix.
  let rotationResult = project_needs_rotation(projectedPosition);

  // If rotation is needed, update the offset.
  if (rotationResult.needsRotation) {
    finalOffset = rotationResult.transform * offset;
  }

  // Compute the common position.
  let commonPosition: vec4<f32> = vec4<f32>(projectedPosition + finalOffset, 1.0);

  // Convert to clip-space.
  let clipPosition: vec4<f32> = project_common_position_to_clipspace(commonPosition);

  return ProjectResult(clipPosition, commonPosition);
}

// A convenience overload that returns only the clip-space position.
fn project_position_to_clipspace(
    position: vec3<f32>,
    position64Low: vec3<f32>,
    offset: vec3<f32>
) -> vec4<f32> {
  return project_position_to_clipspace_and_commonspace(position, position64Low, offset).clipPosition;
}
`,E61=`vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition
) {
  vec3 projectedPosition = project_position(position, position64Low);
  mat3 rotation;
  if (project_needs_rotation(projectedPosition, rotation)) {
    // offset is specified as ENU
    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe
    offset = rotation * offset;
  }
  commonPosition = vec4(projectedPosition + offset, 1.0);
  return project_common_position_to_clipspace(commonPosition);
}

vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset
) {
  vec4 commonPosition;
  return project_position_to_clipspace(position, position64Low, offset, commonPosition);
}
`,M3={name:"project32",dependencies:[LH],source:j61,vs:E61};function Hm(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function tq($,Q){let J=HJ.transformMat4([],Q,$);return HJ.scale(J,J,1/J[3]),J}function Nm($,Q){let J=$%Q;return J<0?Q+J:J}function pV($,Q,J){return $<Q?Q:$>J?J:$}function L61($){return Math.log($)*Math.LOG2E}var hH=Math.log2||L61;function y$($,Q){if(!$)throw Error(Q||"@math.gl/web-mercator: assertion failed.")}var x$=Math.PI,VH0=x$/4,b3=x$/180,Bm=180/x$,vH=512,uP=40030000,SH=85.051129,RH0=1.5;function zm($){return hH($)}function pK($){let[Q,J]=$;y$(Number.isFinite(Q)),y$(Number.isFinite(J)&&J>=-90&&J<=90,"invalid latitude");let K=Q*b3,Y=J*b3,q=vH*(K+x$)/(2*x$),Z=vH*(x$+Math.log(Math.tan(VH0+Y*0.5)))/(2*x$);return[q,Z]}function _9($){let[Q,J]=$,K=Q/vH*(2*x$)-x$,Y=2*(Math.atan(Math.exp(J/vH*(2*x$)-x$))-VH0);return[K*Bm,Y*Bm]}function Am($){let{latitude:Q}=$;y$(Number.isFinite(Q));let J=Math.cos(Q*b3);return zm(uP*J)-9}function dV($){let Q=Math.cos($*b3);return vH/uP/Q}function _H($){let{latitude:Q,longitude:J,highPrecision:K=!1}=$;y$(Number.isFinite(Q)&&Number.isFinite(J));let Y=vH,q=Math.cos(Q*b3),Z=Y/360,X=Z/q,W=Y/uP/q,F={unitsPerMeter:[W,W,W],metersPerUnit:[1/W,1/W,1/W],unitsPerDegree:[Z,X,W],degreesPerUnit:[1/Z,1/X,1/W]};if(K){let H=b3*Math.tan(Q*b3)/q,B=Z*H/2,z=Y/uP*H,A=z/X*W;F.unitsPerDegree2=[0,B,z],F.unitsPerMeter2=[A,0,A]}return F}function nV($,Q){let[J,K,Y]=$,[q,Z,X]=Q,{unitsPerMeter:W,unitsPerMeter2:F}=_H({longitude:J,latitude:K,highPrecision:!0}),H=pK($);H[0]+=q*(W[0]+F[0]*Z),H[1]+=Z*(W[1]+F[1]*Z);let B=_9(H),z=(Y||0)+(X||0);return Number.isFinite(Y)||Number.isFinite(X)?[B[0],B[1],z]:B}function mP($){let{height:Q,pitch:J,bearing:K,altitude:Y,scale:q,center:Z}=$,X=Hm();c7.translate(X,X,[0,0,-Y]),c7.rotateX(X,X,-J*b3),c7.rotateZ(X,X,K*b3);let W=q/Q;if(c7.scale(X,X,[W,W,W]),Z)c7.translate(X,X,kH.negate([],Z));return X}function Vm($){let{width:Q,height:J,altitude:K,pitch:Y=0,offset:q,center:Z,scale:X,nearZMultiplier:W=1,farZMultiplier:F=1}=$,{fovy:H=cX(RH0)}=$;if(K!==void 0)H=cX(K);let B=H*b3,z=Y*b3,A=lV(H),R=A;if(Z)R+=Z[2]*X/Math.cos(z)/J;let G=B*(0.5+(q?q[1]:0)/J),w=Math.sin(G)*R/Math.sin(pV(Math.PI/2-z-G,0.01,Math.PI-0.01)),T=Math.sin(z)*w+R,D=R*10,P=Math.min(T*F,D);return{fov:B,aspect:Q/J,focalDistance:A,near:W,far:P}}function cX($){return 2*Math.atan(0.5/$)*Bm}function lV($){return 0.5/Math.tan(0.5*$*b3)}function fH($,Q){let[J,K,Y=0]=$;return y$(Number.isFinite(J)&&Number.isFinite(K)&&Number.isFinite(Y)),tq(Q,[J,K,Y,1])}function eq($,Q,J=0){let[K,Y,q]=$;if(y$(Number.isFinite(K)&&Number.isFinite(Y),"invalid pixel coordinate"),Number.isFinite(q))return tq(Q,[K,Y,q,1]);let Z=tq(Q,[K,Y,0,1]),X=tq(Q,[K,Y,1,1]),W=Z[2],F=X[2],H=W===F?0:((J||0)-W)/(F-W);return UJ.lerp([],Z,X,H)}function pP($){let{width:Q,height:J,bounds:K,minExtent:Y=0,maxZoom:q=24,offset:Z=[0,0]}=$,[[X,W],[F,H]]=K,B=h61($.padding),z=pK([X,pV(H,-SH,SH)]),A=pK([F,pV(W,-SH,SH)]),R=[Math.max(Math.abs(A[0]-z[0]),Y),Math.max(Math.abs(A[1]-z[1]),Y)],G=[Q-B.left-B.right-Math.abs(Z[0])*2,J-B.top-B.bottom-Math.abs(Z[1])*2];y$(G[0]>0&&G[1]>0);let w=G[0]/R[0],T=G[1]/R[1],D=(B.right-B.left)/2/w,P=(B.top-B.bottom)/2/T,j=[(A[0]+z[0])/2+D,(A[1]+z[1])/2+P],E=_9(j),L=Math.min(q,hH(Math.abs(Math.min(w,T))));return y$(Number.isFinite(L)),{longitude:E[0],latitude:E[1],zoom:L}}function h61($=0){if(typeof $==="number")return{top:$,bottom:$,left:$,right:$};return y$(Number.isFinite($.top)&&Number.isFinite($.bottom)&&Number.isFinite($.left)&&Number.isFinite($.right)),$}var GH0=Math.PI/180;function dP($,Q=0){let{width:J,height:K,unproject:Y}=$,q={targetZ:Q},Z=Y([0,K],q),X=Y([J,K],q),W,F,H=$.fovy?0.5*$.fovy*GH0:Math.atan(0.5/$.altitude),B=(90-$.pitch)*GH0;if(H>B-0.01)W=wH0($,0,Q),F=wH0($,J,Q);else W=Y([0,0],q),F=Y([J,0],q);return[Z,X,F,W]}function wH0($,Q,J){let{pixelUnprojectionMatrix:K}=$,Y=tq(K,[Q,0,1,1]),q=tq(K,[Q,$.height,1,1]),X=(J*$.distanceScales.unitsPerMeter[2]-Y[2])/(q[2]-Y[2]),W=UJ.lerp([],Y,q,X),F=_9(W);return F.push(J),F}var TH0=512;function Rm($){let{width:Q,height:J,pitch:K=0}=$,{longitude:Y,latitude:q,zoom:Z,bearing:X=0}=$;if(Y<-180||Y>180)Y=Nm(Y+180,360)-180;if(X<-180||X>180)X=Nm(X+180,360)-180;let W=hH(J/TH0);if(Z<=W)Z=W,q=0;else{let F=J/2/Math.pow(2,Z),H=_9([0,F])[1];if(q<H)q=H;else{let B=_9([0,TH0-F])[1];if(q>B)q=B}}return{width:Q,height:J,longitude:Y,latitude:q,zoom:Z,pitch:K,bearing:X}}var DH0=`
uniform shadowUniforms {
  bool drawShadowMap;
  bool useShadowMap;
  vec4 color;
  highp int lightId;
  float lightCount;
  mat4 viewProjectionMatrix0;
  mat4 viewProjectionMatrix1;
  vec4 projectCenter0;
  vec4 projectCenter1;
} shadow;
`,_61=`
const int max_lights = 2;

out vec3 shadow_vPosition[max_lights];

vec4 shadow_setVertexPosition(vec4 position_commonspace) {
  mat4 viewProjectionMatrices[max_lights];
  viewProjectionMatrices[0] = shadow.viewProjectionMatrix0;
  viewProjectionMatrices[1] = shadow.viewProjectionMatrix1;
  vec4 projectCenters[max_lights];
  projectCenters[0] = shadow.projectCenter0;
  projectCenters[1] = shadow.projectCenter1;

  if (shadow.drawShadowMap) {
    return project_common_position_to_clipspace(position_commonspace, viewProjectionMatrices[shadow.lightId], projectCenters[shadow.lightId]);
  }
  if (shadow.useShadowMap) {
    for (int i = 0; i < max_lights; i++) {
      if(i < int(shadow.lightCount)) {
        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, viewProjectionMatrices[i], projectCenters[i]);
        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;
      }
    }
  }
  return gl_Position;
}
`,f61=`
${DH0}
${_61}
`,I61=`
const int max_lights = 2;
uniform sampler2D shadow_uShadowMap0;
uniform sampler2D shadow_uShadowMap1;

in vec3 shadow_vPosition[max_lights];

const vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);
const vec4 bitUnpackShift = 1.0 / bitPackShift;
const vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);

float shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {
  vec4 rgbaDepth = texture(shadowMap, position.xy);

  float z = dot(rgbaDepth, bitUnpackShift);
  return smoothstep(0.001, 0.01, position.z - z);
}

vec4 shadow_filterShadowColor(vec4 color) {
  if (shadow.drawShadowMap) {
    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);
    rgbaDepth -= rgbaDepth.gbaa * bitMask;
    return rgbaDepth;
  }
  if (shadow.useShadowMap) {
    float shadowAlpha = 0.0;
    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);
    if(shadow.lightCount > 1.0) {
      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);
    }
    shadowAlpha *= shadow.color.a / shadow.lightCount;
    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);

    return vec4(
      mix(color.rgb, shadow.color.rgb, shadowAlpha / blendedAlpha),
      blendedAlpha
    );
  }
  return color;
}
`,M61=`
${DH0}
${I61}
`,b61=NJ(u61),g61=NJ(m61),y61=[0,0,0,1],x61=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];function c61($,Q){let[J,K,Y]=$,q=eq([J,K,Y],Q);if(Number.isFinite(Y))return q;return[q[0],q[1],0]}function u61({viewport:$,center:Q}){return new x8($.viewProjectionMatrix).invert().transform(Q)}function m61({viewport:$,shadowMatrices:Q}){let J=[],K=$.pixelUnprojectionMatrix,Y=$.isGeospatial?void 0:1,q=[[0,0,Y],[$.width,0,Y],[0,$.height,Y],[$.width,$.height,Y],[0,0,-1],[$.width,0,-1],[0,$.height,-1],[$.width,$.height,-1]].map((Z)=>c61(Z,K));for(let Z of Q){let X=Z.clone().translate(new y8($.center).negate()),W=q.map((H)=>X.transform(H)),F=new x8().ortho({left:Math.min(...W.map((H)=>H[0])),right:Math.max(...W.map((H)=>H[0])),bottom:Math.min(...W.map((H)=>H[1])),top:Math.max(...W.map((H)=>H[1])),near:Math.min(...W.map((H)=>-H[2])),far:Math.max(...W.map((H)=>-H[2]))});J.push(F.multiplyRight(Z))}return J}function p61($){let{shadowEnabled:Q=!0,project:J}=$;if(!Q||!J||!$.shadowMatrices||!$.shadowMatrices.length)return{drawShadowMap:!1,useShadowMap:!1,shadow_uShadowMap0:$.dummyShadowMap,shadow_uShadowMap1:$.dummyShadowMap};let K=LH.getUniforms(J),Y=b61({viewport:J.viewport,center:K.center}),q=[],Z=g61({shadowMatrices:$.shadowMatrices,viewport:J.viewport}).slice();for(let W=0;W<$.shadowMatrices.length;W++){let F=Z[W],H=F.clone().translate(new y8(J.viewport.center).negate());if(K.coordinateSystem===z5.LNGLAT&&K.projectionMode===R8.WEB_MERCATOR)Z[W]=H,q[W]=Y;else Z[W]=F.clone().multiplyRight(x61),q[W]=H.transform(Y)}let X={drawShadowMap:Boolean($.drawToShadowMap),useShadowMap:$.shadowMaps?$.shadowMaps.length>0:!1,color:$.shadowColor||y61,lightId:$.shadowLightId||0,lightCount:$.shadowMatrices.length,shadow_uShadowMap0:$.dummyShadowMap,shadow_uShadowMap1:$.dummyShadowMap};for(let W=0;W<Z.length;W++)X[`viewProjectionMatrix${W}`]=Z[W],X[`projectCenter${W}`]=q[W];for(let W=0;W<2;W++)X[`shadow_uShadowMap${W}`]=$.shadowMaps&&$.shadowMaps[W]||$.dummyShadowMap;return X}var nP={name:"shadow",dependencies:[LH],vs:f61,fs:M61,inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    position = shadow_setVertexPosition(geometry.position);
    `,"fs:DECKGL_FILTER_COLOR":`
    color = shadow_filterShadowColor(color);
    `},getUniforms:p61,uniformTypes:{drawShadowMap:"f32",useShadowMap:"f32",color:"vec4<f32>",lightId:"i32",lightCount:"f32",viewProjectionMatrix0:"mat4x4<f32>",viewProjectionMatrix1:"mat4x4<f32>",projectCenter0:"vec4<f32>",projectCenter1:"vec4<f32>"}};var g3={...EP,defaultUniforms:{...EP.defaultUniforms,useFloatColors:!1},inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    // for picking depth values
    picking_setPickingAttribute(position.z / position.w);
  `,"vs:DECKGL_FILTER_COLOR":`
  picking_setPickingColor(geometry.pickingColor);
  `,"fs:DECKGL_FILTER_COLOR":{order:99,injection:`
  // use highlight color if this fragment belongs to the selected object.
  color = picking_filterHighlightColor(color);

  // use picking color if rendering to picking FBO.
  color = picking_filterPickingColor(color);
    `}}};var d61=[hP],n61=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"],l61=[];function CH0($){let Q=YJ.getDefaultShaderAssembler();for(let K of d61)Q.addDefaultModule(K);let J=$==="glsl"?n61:l61;for(let K of J)Q.addShaderHook(K);return Q}var r61=[255,255,255];var i61=0;class Gm{constructor($={}){this.type="ambient";let{color:Q=r61}=$,{intensity:J=1}=$;this.id=$.id||`ambient-${i61++}`,this.color=Q,this.intensity=J}}var s61=[255,255,255],o61=1,a61=[0,0,-1],t61=0;class lP{constructor($={}){this.type="directional";let{color:Q=s61}=$,{intensity:J=o61}=$,{direction:K=a61}=$,{_shadow:Y=!1}=$;this.id=$.id||`directional-${t61++}`,this.color=Q,this.intensity=J,this.type="directional",this.direction=new y8(K).normalize().toArray(),this.shadow=Y}getProjectedLight($){return this}}class rP{constructor($,Q={id:"pass"}){let{id:J}=Q;this.id=J,this.device=$,this.props={...Q}}setProps($){Object.assign(this.props,$)}render($){}cleanup(){}}class $Z extends rP{constructor(){super(...arguments);this._lastRenderIndex=-1}render($){let[Q,J]=this.device.canvasContext.getDrawingBufferSize(),K=$.clearCanvas??!0,Y=$.clearColor??(K?[0,0,0,0]:!1),q=K?1:!1,Z=K?0:!1,X=$.colorMask??15,W={viewport:[0,0,Q,J]};if($.colorMask)W.colorMask=X;if($.scissorRect)W.scissorRect=$.scissorRect;let F=this.device.beginRenderPass({framebuffer:$.target,parameters:W,clearColor:Y,clearDepth:q,clearStencil:Z});try{return this._drawLayers(F,$)}finally{F.end(),this.device.submit()}}_drawLayers($,Q){let{target:J,shaderModuleProps:K,viewports:Y,views:q,onViewportActive:Z,clearStack:X=!0}=Q;if(Q.pass=Q.pass||"unknown",X)this._lastRenderIndex=-1;let W=[];for(let F of Y){let H=q&&q[F.id];Z?.(F);let B=this._getDrawLayerParams(F,Q),z=F.subViewports||[F];for(let A of z){let R=this._drawLayersInViewport($,{target:J,shaderModuleProps:K,viewport:A,view:H,pass:Q.pass,layers:Q.layers},B);W.push(R)}}return W}_getDrawLayerParams($,{layers:Q,pass:J,isPicking:K=!1,layerFilter:Y,cullRect:q,effects:Z,shaderModuleProps:X},W=!1){let F=[],H=kH0(this._lastRenderIndex+1),B={layer:Q[0],viewport:$,isPicking:K,renderPass:J,cullRect:q},z={};for(let A=0;A<Q.length;A++){let R=Q[A],G=this._shouldDrawLayer(R,B,Y,z),w={shouldDrawLayer:G};if(G&&!W)w.shouldDrawLayer=!0,w.layerRenderIndex=H(R,G),w.shaderModuleProps=this._getShaderModuleProps(R,Z,J,X),w.layerParameters={...R.context.deck?.props.parameters,...this.getLayerParameters(R,A,$)};F[A]=w}return F}_drawLayersInViewport($,{layers:Q,shaderModuleProps:J,pass:K,target:Y,viewport:q,view:Z},X){let W=e61(this.device,{shaderModuleProps:J,target:Y,viewport:q});if(Z&&Z.props.clear){let H=Z.props.clear===!0?{color:!0,depth:!0}:Z.props.clear;this.device.beginRenderPass({framebuffer:Y,parameters:{viewport:W,scissorRect:W},clearColor:H.color?[0,0,0,0]:!1,clearDepth:H.depth?1:!1}).end()}let F={totalCount:Q.length,visibleCount:0,compositeCount:0,pickableCount:0};$.setParameters({viewport:W});for(let H=0;H<Q.length;H++){let B=Q[H],z=X[H],{shouldDrawLayer:A}=z;if(A&&B.props.pickable)F.pickableCount++;if(B.isComposite)F.compositeCount++;if(B.isDrawable&&z.shouldDrawLayer){let{layerRenderIndex:R,shaderModuleProps:G,layerParameters:w}=z;if(F.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,R),G.project)G.project.viewport=q;B.context.renderPass=$;try{B._drawLayer({renderPass:$,shaderModuleProps:G,uniforms:{layerIndex:R},parameters:w})}catch(T){B.raiseError(T,`drawing ${B} to ${K}`)}}}return F}shouldDrawLayer($){return!0}getShaderModuleProps($,Q,J){return null}getLayerParameters($,Q,J){return $.props.parameters}_shouldDrawLayer($,Q,J,K){if(!($.props.visible&&this.shouldDrawLayer($)))return!1;Q.layer=$;let q=$.parent;while(q){if(!q.props.visible||!q.filterSubLayer(Q))return!1;Q.layer=q,q=q.parent}if(J){let Z=Q.layer.id;if(!(Z in K))K[Z]=J(Q);if(!K[Z])return!1}return $.activateViewport(Q.viewport),!0}_getShaderModuleProps($,Q,J,K){let Y=this.device.canvasContext.cssToDeviceRatio(),q=$.internalState?.propsInTransition||$.props,Z={layer:q,picking:{isActive:!1},project:{viewport:$.context.viewport,devicePixelRatio:Y,modelMatrix:q.modelMatrix,coordinateSystem:q.coordinateSystem,coordinateOrigin:q.coordinateOrigin,autoWrapLongitude:$.wrapLongitude}};if(Q)for(let X of Q)PH0(Z,X.getShaderModuleProps?.($,Z));return PH0(Z,this.getShaderModuleProps($,Q,Z),K)}}function kH0($=0,Q={}){let J={},K=(Y,q)=>{let Z=Y.props._offset,X=Y.id,W=Y.parent&&Y.parent.id,F;if(W&&!(W in Q))K(Y.parent,!1);if(W in J){let H=J[W]=J[W]||kH0(Q[W],Q);F=H(Y,q),J[X]=H}else if(Number.isFinite(Z))F=Z+(Q[W]||0),J[X]=null;else F=$;if(q&&F>=$)$=F+1;return Q[X]=F,F};return K}function e61($,{shaderModuleProps:Q,target:J,viewport:K}){let Y=Q?.project?.devicePixelRatio??$.canvasContext.cssToDeviceRatio(),[,q]=$.canvasContext.getDrawingBufferSize(),Z=J?J.height:q,X=K;return[X.x*Y,Z-(X.y+X.height)*Y,X.width*Y,X.height*Y]}function PH0($,...Q){for(let J of Q)if(J)for(let K in J)if($[K])Object.assign($[K],J[K]);else $[K]=J[K];return $}class iP extends $Z{constructor($,Q){super($,Q);let J=$.createTexture({format:"rgba8unorm",width:1,height:1,sampler:{minFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},mipmaps:!0}),K=$.createTexture({format:"depth16unorm",width:1,height:1,mipmaps:!1});this.fbo=$.createFramebuffer({id:"shadowmap",width:1,height:1,colorAttachments:[J],depthStencilAttachment:K})}delete(){if(this.fbo)this.fbo.destroy(),this.fbo=null}getShadowMap(){return this.fbo.colorAttachments[0].texture}render($){let Q=this.fbo,J=this.device.canvasContext.cssToDeviceRatio(),K=$.viewports[0],Y=K.width*J,q=K.height*J,Z=[1,1,1,1];if(Y!==Q.width||q!==Q.height)Q.resize({width:Y,height:q});super.render({...$,clearColor:Z,target:Q,pass:"shadow"})}getLayerParameters($,Q,J){return{...$.props.parameters,blend:!1,depthWriteEnabled:!0,depthCompare:"less-equal"}}shouldDrawLayer($){return $.props.shadowEnabled!==!1}getShaderModuleProps($,Q,J){return{shadow:{project:J.project,drawToShadowMap:!0}}}}var $71={color:[255,255,255],intensity:1},jH0=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:0.9,direction:[1,-8,-2.5]}],Q71=[0,0,0,0.7843137254901961];class rV{constructor($={}){this.id="lighting-effect",this.shadowColor=Q71,this.shadow=!1,this.directionalLights=[],this.pointLights=[],this.shadowPasses=[],this.dummyShadowMap=null,this.setProps($)}setup($){this.context=$;let{device:Q,deck:J}=$;if(this.shadow&&!this.dummyShadowMap)this._createShadowPasses(Q),J._addDefaultShaderModule(nP),this.dummyShadowMap=Q.createTexture({width:1,height:1})}setProps($){this.ambientLight=void 0,this.directionalLights=[],this.pointLights=[];for(let Q in $){let J=$[Q];switch(J.type){case"ambient":this.ambientLight=J;break;case"directional":this.directionalLights.push(J);break;case"point":this.pointLights.push(J);break;default:}}if(this._applyDefaultLights(),this.shadow=this.directionalLights.some((Q)=>Q.shadow),this.context)this.setup(this.context);this.props=$}preRender({layers:$,layerFilter:Q,viewports:J,onViewportActive:K,views:Y}){if(!this.shadow)return;this.shadowMatrices=this._calculateMatrices();for(let q=0;q<this.shadowPasses.length;q++)this.shadowPasses[q].render({layers:$,layerFilter:Q,viewports:J,onViewportActive:K,views:Y,shaderModuleProps:{shadow:{shadowLightId:q,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}}})}getShaderModuleProps($,Q){let J=this.shadow?{project:Q.project,shadowMaps:this.shadowPasses.map((q)=>q.getShadowMap()),dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{},K={enabled:!0,ambientLight:this.ambientLight,directionalLights:this.directionalLights.map((q)=>q.getProjectedLight({layer:$})),pointLights:this.pointLights.map((q)=>q.getProjectedLight({layer:$}))},Y=$.props.material;return{shadow:J,lighting:K,phongMaterial:Y,gouraudMaterial:Y}}cleanup($){for(let Q of this.shadowPasses)Q.delete();if(this.shadowPasses.length=0,this.dummyShadowMap)this.dummyShadowMap.destroy(),this.dummyShadowMap=null,$.deck._removeDefaultShaderModule(nP)}_calculateMatrices(){let $=[];for(let Q of this.directionalLights){let J=new x8().lookAt({eye:new y8(Q.direction).negate()});$.push(J)}return $}_createShadowPasses($){for(let Q=0;Q<this.directionalLights.length;Q++){let J=new iP($);this.shadowPasses[Q]=J}}_applyDefaultLights(){let{ambientLight:$,pointLights:Q,directionalLights:J}=this;if(!$&&Q.length===0&&J.length===0)this.ambientLight=new Gm($71),this.directionalLights.push(new lP(jH0[0]),new lP(jH0[1]))}}class EH0{constructor($={}){this._pool=[],this.opts={overAlloc:2,poolSize:100},this.setOptions($)}setOptions($){Object.assign(this.opts,$)}allocate($,Q,{size:J=1,type:K,padding:Y=0,copy:q=!1,initialize:Z=!1,maxCount:X}){let W=K||$&&$.constructor||Float32Array,F=Q*J+Y;if(ArrayBuffer.isView($)){if(F<=$.length)return $;if(F*$.BYTES_PER_ELEMENT<=$.buffer.byteLength)return new W($.buffer,0,F)}let H=1/0;if(X)H=X*J+Y;let B=this._allocate(W,F,Z,H);if($&&q)B.set($);else if(!Z)B.fill(0,0,4);return this._release($),B}release($){this._release($)}_allocate($,Q,J,K){let Y=Math.max(Math.ceil(Q*this.opts.overAlloc),1);if(Y>K)Y=K;let q=this._pool,Z=$.BYTES_PER_ELEMENT*Y,X=q.findIndex((W)=>W.byteLength>=Z);if(X>=0){let W=new $(q.splice(X,1)[0],0,Y);if(J)W.fill(0);return W}return new $(Y)}_release($){if(!ArrayBuffer.isView($))return;let Q=this._pool,{buffer:J}=$,{byteLength:K}=J,Y=Q.findIndex((q)=>q.byteLength>=K);if(Y<0)Q.push(J);else if(Y>0||Q.length<this.opts.poolSize)Q.splice(Y,0,J);if(Q.length>this.opts.poolSize)Q.shift()}}var c$=new EH0;function MH(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function hH0($){return[$[12],$[13],$[14]]}function vH0($){return{left:IH($[3]+$[0],$[7]+$[4],$[11]+$[8],$[15]+$[12]),right:IH($[3]-$[0],$[7]-$[4],$[11]-$[8],$[15]-$[12]),bottom:IH($[3]+$[1],$[7]+$[5],$[11]+$[9],$[15]+$[13]),top:IH($[3]-$[1],$[7]-$[5],$[11]-$[9],$[15]-$[13]),near:IH($[3]+$[2],$[7]+$[6],$[11]+$[10],$[15]+$[14]),far:IH($[3]-$[2],$[7]-$[6],$[11]-$[10],$[15]-$[14])}}var LH0=new y8;function IH($,Q,J,K){LH0.set($,Q,J);let Y=LH0.len();return{distance:K/Y,normal:new y8(-$/Y,-Q/Y,-J/Y)}}function J71($){return $-Math.fround($)}var iV;function sP($,Q){let{size:J=1,startIndex:K=0}=Q,Y=Q.endIndex!==void 0?Q.endIndex:$.length,q=(Y-K)/J;iV=c$.allocate(iV,q,{type:Float32Array,size:J*2});let Z=K,X=0;while(Z<Y){for(let W=0;W<J;W++){let F=$[Z++];iV[X+W]=F,iV[X+W+J]=J71(F)}X+=J*2}return iV.subarray(0,q*J*2)}function SH0($){let Q=null,J=!1;for(let K of $){if(!K)continue;if(!Q)Q=K;else{if(!J)Q=[[Q[0][0],Q[0][1]],[Q[1][0],Q[1][1]]],J=!0;Q[0][0]=Math.min(Q[0][0],K[0][0]),Q[0][1]=Math.min(Q[0][1],K[0][1]),Q[1][0]=Math.max(Q[1][0],K[1][0]),Q[1][1]=Math.max(Q[1][1],K[1][1])}}return Q}var K71=Math.PI/180,Y71=MH(),_H0=[0,0,0],q71={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};function Z71({width:$,height:Q,orthographic:J,fovyRadians:K,focalDistance:Y,padding:q,near:Z,far:X}){let W=$/Q,F=J?new x8().orthographic({fovy:K,aspect:W,focalDistance:Y,near:Z,far:X}):new x8().perspective({fovy:K,aspect:W,near:Z,far:X});if(q){let{left:H=0,right:B=0,top:z=0,bottom:A=0}=q,R=f3((H+$-B)/2,0,$)-$/2,G=f3((z+Q-A)/2,0,Q)-Q/2;F[8]-=R*2/$,F[9]+=G*2/Q}return F}class oP{constructor($={}){this._frustumPlanes={},this.id=$.id||this.constructor.displayName||"viewport",this.x=$.x||0,this.y=$.y||0,this.width=$.width||1,this.height=$.height||1,this.zoom=$.zoom||0,this.padding=$.padding,this.distanceScales=$.distanceScales||q71,this.focalDistance=$.focalDistance||1,this.position=$.position||_H0,this.modelMatrix=$.modelMatrix||null;let{longitude:Q,latitude:J}=$;this.isGeospatial=Number.isFinite(J)&&Number.isFinite(Q),this._initProps($),this._initMatrices($),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get subViewports(){return null}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){if(this.isGeospatial)return this.zoom<12?R8.WEB_MERCATOR:R8.WEB_MERCATOR_AUTO_OFFSET;return R8.IDENTITY}equals($){if(!($ instanceof oP))return!1;if(this===$)return!0;return $.width===this.width&&$.height===this.height&&$.scale===this.scale&&uK($.projectionMatrix,this.projectionMatrix)&&uK($.viewMatrix,this.viewMatrix)}project($,{topLeft:Q=!0}={}){let J=this.projectPosition($),K=fH(J,this.pixelProjectionMatrix),[Y,q]=K,Z=Q?q:this.height-q;return $.length===2?[Y,Z]:[Y,Z,K[2]]}unproject($,{topLeft:Q=!0,targetZ:J}={}){let[K,Y,q]=$,Z=Q?Y:this.height-Y,X=J&&J*this.distanceScales.unitsPerMeter[2],W=eq([K,Z,q],this.pixelUnprojectionMatrix,X),[F,H,B]=this.unprojectPosition(W);if(Number.isFinite(q))return[F,H,B];return Number.isFinite(J)?[F,H,J]:[F,H]}projectPosition($){let[Q,J]=this.projectFlat($),K=($[2]||0)*this.distanceScales.unitsPerMeter[2];return[Q,J,K]}unprojectPosition($){let[Q,J]=this.unprojectFlat($),K=($[2]||0)*this.distanceScales.metersPerUnit[2];return[Q,J,K]}projectFlat($){if(this.isGeospatial){let Q=pK($);return Q[1]=f3(Q[1],-318,830),Q}return $}unprojectFlat($){if(this.isGeospatial)return _9($);return $}getBounds($={}){let Q={targetZ:$.z||0},J=this.unproject([0,0],Q),K=this.unproject([this.width,0],Q),Y=this.unproject([0,this.height],Q),q=this.unproject([this.width,this.height],Q);return[Math.min(J[0],K[0],Y[0],q[0]),Math.min(J[1],K[1],Y[1],q[1]),Math.max(J[0],K[0],Y[0],q[0]),Math.max(J[1],K[1],Y[1],q[1])]}getDistanceScales($){if($&&this.isGeospatial)return _H({longitude:$[0],latitude:$[1],highPrecision:!0});return this.distanceScales}containsPixel({x:$,y:Q,width:J=1,height:K=1}){return $<this.x+this.width&&this.x<$+J&&Q<this.y+this.height&&this.y<Q+K}getFrustumPlanes(){if(this._frustumPlanes.near)return this._frustumPlanes;return Object.assign(this._frustumPlanes,vH0(this.viewProjectionMatrix)),this._frustumPlanes}panByPosition($,Q){return null}_initProps($){let{longitude:Q,latitude:J}=$;if(this.isGeospatial){if(!Number.isFinite($.zoom))this.zoom=Am({latitude:J})+Math.log2(this.focalDistance);this.distanceScales=$.distanceScales||_H({latitude:J,longitude:Q})}let K=Math.pow(2,this.zoom);this.scale=K;let{position:Y,modelMatrix:q}=$,Z=_H0;if(Y)Z=q?new x8(q).transformAsVector(Y,[]):Y;if(this.isGeospatial){let X=this.projectPosition([Q,J,0]);this.center=new y8(Z).scale(this.distanceScales.unitsPerMeter).add(X)}else this.center=this.projectPosition(Z)}_initMatrices($){let{viewMatrix:Q=Y71,projectionMatrix:J=null,orthographic:K=!1,fovyRadians:Y,fovy:q=75,near:Z=0.1,far:X=1000,padding:W=null,focalDistance:F=1}=$;this.viewMatrixUncentered=Q,this.viewMatrix=new x8().multiplyRight(Q).translate(new y8(this.center).negate()),this.projectionMatrix=J||Z71({width:this.width,height:this.height,orthographic:K,fovyRadians:Y||q*K71,focalDistance:F,padding:W,near:Z,far:X});let H=MH();c7.multiply(H,H,this.projectionMatrix),c7.multiply(H,H,this.viewMatrix),this.viewProjectionMatrix=H,this.viewMatrixInverse=c7.invert([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=hH0(this.viewMatrixInverse);let B=MH(),z=MH();if(c7.scale(B,B,[this.width/2,-this.height/2,1]),c7.translate(B,B,[1,-1,0]),c7.multiply(z,B,this.viewProjectionMatrix),this.pixelProjectionMatrix=z,this.pixelUnprojectionMatrix=c7.invert(MH(),this.pixelProjectionMatrix),!this.pixelUnprojectionMatrix)E1.warn("Pixel project matrix not invertible")()}}oP.displayName="Viewport";var aP=oP;class sV extends aP{constructor($={}){let{latitude:Q=0,longitude:J=0,zoom:K=0,pitch:Y=0,bearing:q=0,nearZMultiplier:Z=0.1,farZMultiplier:X=1.01,nearZ:W,farZ:F,orthographic:H=!1,projectionMatrix:B,repeat:z=!1,worldOffset:A=0,position:R,padding:G,legacyMeterSizes:w=!1}=$,{width:T,height:D,altitude:P=1.5}=$,j=Math.pow(2,K);T=T||1,D=D||1;let E,L=null;if(B)P=B[5]/2,E=cX(P);else{if($.fovy)E=$.fovy,P=lV(E);else E=cX(P);let _;if(G){let{top:S=0,bottom:I=0}=G;_=[0,f3((S+D-I)/2,0,D)-D/2]}if(L=Vm({width:T,height:D,scale:j,center:R&&[0,0,R[2]*dV(Q)],offset:_,pitch:Y,fovy:E,nearZMultiplier:Z,farZMultiplier:X}),Number.isFinite(W))L.near=W;if(Number.isFinite(F))L.far=F}let h=mP({height:D,pitch:Y,bearing:q,scale:j,altitude:P});if(A)h=new x8().translate([512*A,0,0]).multiplyLeft(h);super({...$,width:T,height:D,viewMatrix:h,longitude:J,latitude:Q,zoom:K,...L,fovy:E,focalDistance:P});this.latitude=Q,this.longitude=J,this.zoom=K,this.pitch=Y,this.bearing=q,this.altitude=P,this.fovy=E,this.orthographic=H,this._subViewports=z?[]:null,this._pseudoMeters=w,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){let $=this.getBounds(),Q=Math.floor(($[0]+180)/360),J=Math.ceil(($[2]-180)/360);for(let K=Q;K<=J;K++){let Y=K?new sV({...this,worldOffset:K}):this;this._subViewports.push(Y)}}return this._subViewports}projectPosition($){if(this._pseudoMeters)return super.projectPosition($);let[Q,J]=this.projectFlat($),K=($[2]||0)*dV($[1]);return[Q,J,K]}unprojectPosition($){if(this._pseudoMeters)return super.unprojectPosition($);let[Q,J]=this.unprojectFlat($),K=($[2]||0)/dV(J);return[Q,J,K]}addMetersToLngLat($,Q){return nV($,Q)}panByPosition($,Q){let J=eq(Q,this.pixelUnprojectionMatrix),K=this.projectFlat($),Y=UJ.add([],K,UJ.negate([],J)),q=UJ.add([],this.center,Y),[Z,X]=this.unprojectFlat(q);return{longitude:Z,latitude:X}}getBounds($={}){let Q=dP(this,$.z||0);return[Math.min(Q[0][0],Q[1][0],Q[2][0],Q[3][0]),Math.min(Q[0][1],Q[1][1],Q[2][1],Q[3][1]),Math.max(Q[0][0],Q[1][0],Q[2][0],Q[3][0]),Math.max(Q[0][1],Q[1][1],Q[2][1],Q[3][1])]}fitBounds($,Q={}){let{width:J,height:K}=this,{longitude:Y,latitude:q,zoom:Z}=pP({width:J,height:K,bounds:$,...Q});return new sV({width:J,height:K,longitude:Y,latitude:q,zoom:Z})}}sV.displayName="WebMercatorViewport";var tP=sV;var fH0=[0,0,0];function wm($,Q,J=!1){let K=Q.projectPosition($);if(J&&Q instanceof tP){let[Y,q,Z=0]=$,X=Q.getDistanceScales([Y,q]);K[2]=Z*X.unitsPerMeter[2]}return K}function X71($){let{viewport:Q,modelMatrix:J,coordinateOrigin:K}=$,{coordinateSystem:Y,fromCoordinateSystem:q,fromCoordinateOrigin:Z}=$;if(Y===z5.DEFAULT)Y=Q.isGeospatial?z5.LNGLAT:z5.CARTESIAN;if(q===void 0)q=Y;if(Z===void 0)Z=K;return{viewport:Q,coordinateSystem:Y,coordinateOrigin:K,modelMatrix:J,fromCoordinateSystem:q,fromCoordinateOrigin:Z}}function Om($,{viewport:Q,modelMatrix:J,coordinateSystem:K,coordinateOrigin:Y,offsetMode:q}){let[Z,X,W=0]=$;if(J)[Z,X,W]=HJ.transformMat4([],[Z,X,W,1],J);switch(K){case z5.LNGLAT:return wm([Z,X,W],Q,q);case z5.LNGLAT_OFFSETS:return wm([Z+Y[0],X+Y[1],W+(Y[2]||0)],Q,q);case z5.METER_OFFSETS:return wm(nV(Y,[Z,X,W]),Q,q);case z5.CARTESIAN:default:return Q.isGeospatial?[Z+Y[0],X+Y[1],W+Y[2]]:Q.projectPosition([Z,X,W])}}function IH0($,Q){let{viewport:J,coordinateSystem:K,coordinateOrigin:Y,modelMatrix:q,fromCoordinateSystem:Z,fromCoordinateOrigin:X}=X71(Q),{autoOffset:W=!0}=Q,{geospatialOrigin:F=fH0,shaderCoordinateOrigin:H=fH0,offsetMode:B=!1}=W?Um(J,K,Y):{},z=Om($,{viewport:J,modelMatrix:q,coordinateSystem:Z,coordinateOrigin:X,offsetMode:B});if(B){let A=J.projectPosition(F||H);kH.sub(z,z,A)}return z}var W71=1,F71=1;class bH{time=0;channels=new Map;animations=new Map;playing=!1;lastEngineTime=-1;constructor(){}addChannel($){let{delay:Q=0,duration:J=Number.POSITIVE_INFINITY,rate:K=1,repeat:Y=1}=$,q=W71++,Z={time:0,delay:Q,duration:J,rate:K,repeat:Y};return this._setChannelTime(Z,this.time),this.channels.set(q,Z),q}removeChannel($){this.channels.delete($);for(let[Q,J]of this.animations)if(J.channel===$)this.detachAnimation(Q)}isFinished($){let Q=this.channels.get($);if(Q===void 0)return!1;return this.time>=Q.delay+Q.duration*Q.repeat}getTime($){if($===void 0)return this.time;let Q=this.channels.get($);if(Q===void 0)return-1;return Q.time}setTime($){this.time=Math.max(0,$);let Q=this.channels.values();for(let K of Q)this._setChannelTime(K,this.time);let J=this.animations.values();for(let K of J){let{animation:Y,channel:q}=K;Y.setTime(this.getTime(q))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation($,Q){let J=F71++;return this.animations.set(J,{animation:$,channel:Q}),$.setTime(this.getTime(Q)),J}detachAnimation($){this.animations.delete($)}update($){if(this.playing){if(this.lastEngineTime===-1)this.lastEngineTime=$;this.setTime(this.time+($-this.lastEngineTime)),this.lastEngineTime=$}}_setChannelTime($,Q){let J=Q-$.delay,K=$.duration*$.repeat;if(J>=K)$.time=$.duration*$.rate;else $.time=Math.max(0,J)%$.duration,$.time*=$.rate}}function MH0($){return typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame($):setTimeout($,16.666666666666668)}function bH0($){return typeof window<"u"&&window.cancelAnimationFrame?window.cancelAnimationFrame($):clearTimeout($)}var U71=0,H71={device:null,onAddHTML:()=>"",onInitialize:async()=>{return null},onRender:()=>{},onFinalize:()=>{},onError:($)=>console.error($),stats:VH.stats.get(`animation-loop-${U71++}`),useDevicePixels:!0,autoResizeViewport:!1,autoResizeDrawingBuffer:!1};class eP{device=null;canvas=null;props;animationProps=null;timeline=null;stats;cpuTime;gpuTime;frameRate;display;needsRedraw="initialized";_initialized=!1;_running=!1;_animationFrameId=null;_nextFramePromise=null;_resolveNextFrame=null;_cpuStartTime=0;_error=null;constructor($){if(this.props={...H71,...$},$=this.props,!$.device)throw Error("No device provided");let{useDevicePixels:Q=!0}=this.props;this.stats=$.stats||new b$({id:"animation-loop-stats"}),this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this.setProps({autoResizeViewport:$.autoResizeViewport,autoResizeDrawingBuffer:$.autoResizeDrawingBuffer,useDevicePixels:Q}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}destroy(){this.stop(),this._setDisplay(null)}delete(){this.destroy()}setError($){if(this.props.onError($),this._error=Error(),this.device?.canvasContext?.canvas instanceof HTMLCanvasElement){let J=document.createElement("h1");J.innerHTML=$.message,J.style.position="absolute",J.style.top="20%",J.style.left="10px",J.style.color="black",J.style.backgroundColor="red",document.body.appendChild(J)}}setNeedsRedraw($){return this.needsRedraw=this.needsRedraw||$,this}setProps($){if("autoResizeViewport"in $)this.props.autoResizeViewport=$.autoResizeViewport||!1;if("autoResizeDrawingBuffer"in $)this.props.autoResizeDrawingBuffer=$.autoResizeDrawingBuffer||!1;if("useDevicePixels"in $)this.props.useDevicePixels=$.useDevicePixels||!1;return this}async start(){if(this._running)return this;this._running=!0;try{let $;if(!this._initialized)this._initialized=!0,await this._initDevice(),this._initialize(),await this.props.onInitialize(this._getAnimationProps());if(!this._running)return null;if($!==!1)this._cancelAnimationFrame(),this._requestAnimationFrame();return this}catch($){let Q=$ instanceof Error?$:Error("Unknown error");throw this.props.onError(Q),Q}}stop(){if(this._running){if(this.animationProps&&!this._error)this.props.onFinalize(this.animationProps);this._cancelAnimationFrame(),this._nextFramePromise=null,this._resolveNextFrame=null,this._running=!1}return this}redraw(){if(this.device?.isLost||this._error)return this;if(this._beginFrameTimers(),this._setupFrame(),this._updateAnimationProps(),this._renderFrame(this._getAnimationProps()),this._clearNeedsRedraw(),this._resolveNextFrame)this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null;return this._endFrameTimers(),this}attachTimeline($){return this.timeline=$,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){if(this.setNeedsRedraw("waitForRender"),!this._nextFramePromise)this._nextFramePromise=new Promise(($)=>{this._resolveNextFrame=$});return this._nextFramePromise}async toDataURL(){if(this.setNeedsRedraw("toDataURL"),await this.waitForRender(),this.canvas instanceof HTMLCanvasElement)return this.canvas.toDataURL();throw Error("OffscreenCanvas")}_initialize(){this._startEventHandling(),this._initializeAnimationProps(),this._updateAnimationProps(),this._resizeCanvasDrawingBuffer(),this._resizeViewport()}_setDisplay($){if(this.display)this.display.destroy(),this.display.animationLoop=null;if($)$.animationLoop=this;this.display=$}_requestAnimationFrame(){if(!this._running)return;this._animationFrameId=MH0(this._animationFrame.bind(this))}_cancelAnimationFrame(){if(this._animationFrameId===null)return;bH0(this._animationFrameId),this._animationFrameId=null}_animationFrame(){if(!this._running)return;this.redraw(),this._requestAnimationFrame()}_renderFrame($){if(this.display){this.display._renderFrame($);return}this.props.onRender(this._getAnimationProps()),this.device?.submit()}_clearNeedsRedraw(){this.needsRedraw=!1}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport()}_initializeAnimationProps(){let $=this.device?.canvasContext?.canvas;if(!this.device||!$)throw Error("loop");this.animationProps={animationLoop:this,device:this.device,canvas:$,timeline:this.timeline,useDevicePixels:this.props.useDevicePixels,needsRedraw:!1,width:1,height:1,aspect:1,time:0,startTime:Date.now(),engineTime:0,tick:0,tock:0,_mousePosition:null}}_getAnimationProps(){if(!this.animationProps)throw Error("animationProps");return this.animationProps}_updateAnimationProps(){if(!this.animationProps)return;let{width:$,height:Q,aspect:J}=this._getSizeAndAspect();if($!==this.animationProps.width||Q!==this.animationProps.height)this.setNeedsRedraw("drawing buffer resized");if(J!==this.animationProps.aspect)this.setNeedsRedraw("drawing buffer aspect changed");if(this.animationProps.width=$,this.animationProps.height=Q,this.animationProps.aspect=J,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline)this.timeline.update(this.animationProps.engineTime);this.animationProps.tick=Math.floor(this.animationProps.time/1000*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime}async _initDevice(){if(this.device=await this.props.device,!this.device)throw Error("No device provided");this.canvas=this.device.canvasContext?.canvas||null}_createInfoDiv(){if(this.canvas&&this.props.onAddHTML){let $=document.createElement("div");document.body.appendChild($),$.style.position="relative";let Q=document.createElement("div");if(Q.style.position="absolute",Q.style.left="10px",Q.style.bottom="10px",Q.style.width="300px",Q.style.background="white",this.canvas instanceof HTMLCanvasElement)$.appendChild(this.canvas);$.appendChild(Q);let J=this.props.onAddHTML(Q);if(J)Q.innerHTML=J}}_getSizeAndAspect(){if(!this.device)return{width:1,height:1,aspect:1};let[$,Q]=this.device?.canvasContext?.getPixelSize()||[1,1],J=1,K=this.device?.canvasContext?.canvas;if(K&&K.clientHeight)J=K.clientWidth/K.clientHeight;else if($>0&&Q>0)J=$/Q;return{width:$,height:Q,aspect:J}}_resizeViewport(){if(this.props.autoResizeViewport&&this.device.gl)this.device.gl.viewport(0,0,this.device.gl.drawingBufferWidth,this.device.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){if(this.props.autoResizeDrawingBuffer)this.device?.canvasContext?.resize({useDevicePixels:this.props.useDevicePixels})}_beginFrameTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this.cpuTime.timeStart()}_endFrameTimers(){this.cpuTime.timeEnd()}_startEventHandling(){if(this.canvas)this.canvas.addEventListener("mousemove",this._onMousemove.bind(this)),this.canvas.addEventListener("mouseleave",this._onMouseleave.bind(this))}_onMousemove($){if($ instanceof MouseEvent)this._getAnimationProps()._mousePosition=[$.offsetX,$.offsetY]}_onMouseleave($){this._getAnimationProps()._mousePosition=null}}var Tm={};function QZ($="id"){Tm[$]=Tm[$]||1;let Q=Tm[$]++;return`${$}-${Q}`}class Dm{id;userData={};topology;bufferLayout=[];vertexCount;indices;attributes;constructor($){if(this.id=$.id||QZ("geometry"),this.topology=$.topology,this.indices=$.indices||null,this.attributes=$.attributes,this.vertexCount=$.vertexCount,this.bufferLayout=$.bufferLayout||[],this.indices){if(!(this.indices.usage&h5.INDEX))throw Error("Index buffer must have INDEX usage")}}destroy(){this.indices?.destroy();for(let $ of Object.values(this.attributes))$.destroy()}getVertexCount(){return this.vertexCount}getAttributes(){return this.attributes}getIndexes(){return this.indices||null}_calculateVertexCount($){return $.byteLength/12}}function gH0($,Q){if(Q instanceof Dm)return Q;let J=N71($,Q),{attributes:K,bufferLayout:Y}=B71($,Q);return new Dm({topology:Q.topology||"triangle-list",bufferLayout:Y,vertexCount:Q.vertexCount,indices:J,attributes:K})}function N71($,Q){if(!Q.indices)return;let J=Q.indices.value;return $.createBuffer({usage:h5.INDEX,data:J})}function B71($,Q){let J=[],K={};for(let[q,Z]of Object.entries(Q.attributes)){let X=q;switch(q){case"POSITION":X="positions";break;case"NORMAL":X="normals";break;case"TEXCOORD_0":X="texCoords";break;case"COLOR_0":X="colors";break}if(Z){K[X]=$.createBuffer({data:Z.value,id:`${q}-buffer`});let{value:W,size:F,normalized:H}=Z;J.push({name:X,format:Sc(W,F,H)})}}let Y=Q._calculateVertexCount(Q.attributes,Q.indices);return{attributes:K,bufferLayout:J,vertexCount:Y}}class $k{static defaultProps={...qJ.defaultProps};static getDefaultPipelineFactory($){return $._lumaData.defaultPipelineFactory=$._lumaData.defaultPipelineFactory||new $k($),$._lumaData.defaultPipelineFactory}device;destroyPolicy;_hashCounter=0;_hashes={};_renderPipelineCache={};_computePipelineCache={};constructor($){this.device=$,this.destroyPolicy=$.props._factoryDestroyPolicy}createRenderPipeline($){let Q={...qJ.defaultProps,...$},J=this._hashRenderPipeline(Q);if(!this._renderPipelineCache[J]){let K=this.device.createRenderPipeline({...Q,id:Q.id?`${Q.id}-cached`:void 0});K.hash=J,this._renderPipelineCache[J]={pipeline:K,useCount:0}}return this._renderPipelineCache[J].useCount++,this._renderPipelineCache[J].pipeline}createComputePipeline($){let Q={...RH.defaultProps,...$},J=this._hashComputePipeline(Q);if(!this._computePipelineCache[J]){let K=this.device.createComputePipeline({...Q,id:Q.id?`${Q.id}-cached`:void 0});K.hash=J,this._computePipelineCache[J]={pipeline:K,useCount:0}}return this._computePipelineCache[J].useCount++,this._computePipelineCache[J].pipeline}release($){let Q=$.hash,J=$ instanceof RH?this._computePipelineCache:this._renderPipelineCache;if(J[Q].useCount--,J[Q].useCount===0){if(this.destroyPolicy==="unused")J[Q].pipeline.destroy(),delete J[Q]}}_hashComputePipeline($){return`${this._getHash($.shader.source)}`}_hashRenderPipeline($){let Q=$.vs?this._getHash($.vs.source):0,J=$.fs?this._getHash($.fs.source):0,K="-",Y=this._getHash(JSON.stringify($.bufferLayout));switch(this.device.type){case"webgl":return`${Q}/${J}V-BL${Y}`;default:let q=this._getHash(JSON.stringify($.parameters));return`${Q}/${J}V-T${$.topology}P${q}BL${Y}`}}_getHash($){if(this._hashes[$]===void 0)this._hashes[$]=this._hashCounter++;return this._hashes[$]}}class Qk{static defaultProps={...fX.defaultProps};static getDefaultShaderFactory($){return $._lumaData.defaultShaderFactory||=new Qk($),$._lumaData.defaultShaderFactory}device;destroyPolicy;_cache={};constructor($){this.device=$,this.destroyPolicy=$.props._factoryDestroyPolicy}createShader($){let Q=this._hashShader($),J=this._cache[Q];if(!J){let K=this.device.createShader({...$,id:$.id?`${$.id}-cached`:void 0});this._cache[Q]=J={shader:K,useCount:0}}return J.useCount++,J.shader}release($){let Q=this._hashShader($),J=this._cache[Q];if(J){if(J.useCount--,J.useCount===0){if(this.destroyPolicy==="unused")delete this._cache[Q],J.shader.destroy()}}}_hashShader($){return`${$.stage}:${$.source}`}}function yH0($,Q){let J={},K="Values";if($.attributes.length===0&&!$.varyings?.length)return{"No attributes or varyings":{["Values"]:"N/A"}};for(let Y of $.attributes)if(Y){let q=`${Y.location} ${Y.name}: ${Y.type}`;J[`in ${q}`]={["Values"]:Y.stepMode||"vertex"}}for(let Y of $.varyings||[]){let q=`${Y.location} ${Y.name}`;J[`out ${q}`]={["Values"]:JSON.stringify(Y)}}return J}var J8=null,Cm=null;function xH0($,{id:Q,minimap:J,opaque:K,top:Y="0",left:q="0",rgbaScale:Z=1}){if(!J8)J8=document.createElement("canvas"),J8.id=Q,J8.title=Q,J8.style.zIndex="100",J8.style.position="absolute",J8.style.top=Y,J8.style.left=q,J8.style.border="blue 5px solid",J8.style.transform="scaleY(-1)",document.body.appendChild(J8),Cm=J8.getContext("2d");if(J8.width!==$.width||J8.height!==$.height)J8.width=$.width/2,J8.height=$.height/2,J8.style.width="400px",J8.style.height="400px";let X=$.device.readPixelsToArrayWebGL($),W=Cm?.createImageData($.width,$.height);if(W){for(let H=0;H<X.length;H+=4)W.data[0+H+0]=X[H+0]*Z,W.data[0+H+1]=X[H+1]*Z,W.data[0+H+2]=X[H+2]*Z,W.data[0+H+3]=K?255:X[H+3]*Z;Cm?.putImageData(W,0,0)}}function Jk($,Q,J){if($===Q)return!0;if(!J||!$||!Q)return!1;if(Array.isArray($)){if(!Array.isArray(Q)||$.length!==Q.length)return!1;for(let K=0;K<$.length;K++)if(!Jk($[K],Q[K],J-1))return!1;return!0}if(Array.isArray(Q))return!1;if(typeof $==="object"&&typeof Q==="object"){let K=Object.keys($),Y=Object.keys(Q);if(K.length!==Y.length)return!1;for(let q of K){if(!Q.hasOwnProperty(q))return!1;if(!Jk($[q],Q[q],J-1))return!1}return!0}return!1}function cH0($){return ArrayBuffer.isView($)&&!($ instanceof DataView)}function uH0($){if(Array.isArray($))return $.length===0||typeof $[0]==="number";return!1}function oV($){return cH0($)||uH0($)}function z71($){return oV($)||typeof $==="number"||typeof $==="boolean"}function Kk($){let Q={bindings:{},uniforms:{}};return Object.keys($).forEach((J)=>{let K=$[J];if(z71(K))Q.uniforms[J]=K;else Q.bindings[J]=K}),Q}class Pm{options={disableWarnings:!1};modules;moduleUniforms;moduleBindings;constructor($,Q){Object.assign(this.options,Q);let J=BH(Object.values($).filter((K)=>K.dependencies));for(let K of J)$[K.name]=K;g0.log(1,"Creating ShaderInputs with modules",Object.keys($))(),this.modules=$,this.moduleUniforms={},this.moduleBindings={};for(let[K,Y]of Object.entries($))if(this._addModule(Y),Y.name&&K!==Y.name&&!this.options.disableWarnings)g0.warn(`Module name: ${K} vs ${Y.name}`)()}destroy(){}setProps($){for(let Q of Object.keys($)){let J=Q,K=$[J]||{},Y=this.modules[J];if(!Y){if(!this.options.disableWarnings)g0.warn(`Module ${Q} not found`)();continue}let q=this.moduleUniforms[J],Z=this.moduleBindings[J],X=Y.getUniforms?.(K,q)||K,{uniforms:W,bindings:F}=Kk(X);this.moduleUniforms[J]={...q,...W},this.moduleBindings[J]={...Z,...F}}}getModules(){return Object.values(this.modules)}getUniformValues(){return this.moduleUniforms}getBindingValues(){let $={};for(let Q of Object.values(this.moduleBindings))Object.assign($,Q);return $}getDebugTable(){let $={};for(let[Q,J]of Object.entries(this.moduleUniforms))for(let[K,Y]of Object.entries(J))$[`${Q}.${K}`]={type:this.modules[Q].uniformTypes?.[K],value:String(Y)};return $}_addModule($){let Q=$.name;this.moduleUniforms[Q]=$.defaultUniforms||{},this.moduleBindings[Q]={}}}var A71="";async function mH0($,Q){let J=new Image;return J.crossOrigin=Q?.crossOrigin||"anonymous",J.src=$.startsWith("http")?$:A71+$,await J.decode(),Q?await createImageBitmap(J,Q):await createImageBitmap(J)}class aV{device;id;texture;sampler;view;ready;isReady=!1;destroyed=!1;resolveReady=()=>{};rejectReady=()=>{};get[Symbol.toStringTag](){return"AsyncTexture"}toString(){return`AsyncTexture:"${this.id}"(${this.isReady?"ready":"loading"})`}constructor($,Q){if(this.device=$,this.id=Q.id||QZ("async-texture"),typeof Q?.data==="string"&&Q.dimension==="2d")Q={...Q,data:mH0(Q.data)};this.ready=new Promise((J,K)=>{this.resolveReady=()=>{this.isReady=!0,J()},this.rejectReady=K}),this.initAsync(Q)}async initAsync($){let Q=$.data,J;try{J=await pH0(Q)}catch(Y){this.rejectReady(Y)}if(this.destroyed)return;let K={...$,data:J};this.texture=this.device.createTexture(K),this.sampler=this.texture.sampler,this.view=this.texture.view,this.isReady=!0,this.resolveReady()}destroy(){if(this.texture)this.texture.destroy(),this.texture=null;this.destroyed=!0}resize($){if(!this.isReady)throw Error("Cannot resize texture before it is ready");if($.width===this.texture.width&&$.height===this.texture.height)return!1;if(this.texture){let Q=this.texture;this.texture=Q.clone($),Q.destroy()}return!0}}async function pH0($){if($=await $,Array.isArray($))return await Promise.all($.map(pH0));if($&&typeof $==="object"&&$.constructor===Object){let Q=$,J=await Promise.all(Object.values(Q)),K=Object.keys(Q),Y={};for(let q=0;q<K.length;q++)Y[K[q]]=J[q];return Y}return $}var uX=2,V71=1e4;class K8{static defaultProps={...qJ.defaultProps,source:void 0,vs:null,fs:null,id:"unnamed",handle:void 0,userData:{},defines:{},modules:[],moduleSettings:void 0,geometry:null,indexBuffer:null,attributes:{},constantAttributes:{},varyings:[],isInstanced:void 0,instanceCount:0,vertexCount:0,shaderInputs:void 0,pipelineFactory:void 0,shaderFactory:void 0,transformFeedback:void 0,shaderAssembler:YJ.getDefaultShaderAssembler(),debugShaders:void 0,disableWarnings:void 0};device;id;source;vs;fs;pipelineFactory;shaderFactory;userData={};parameters;topology;bufferLayout;isInstanced=void 0;instanceCount=0;vertexCount;indexBuffer=null;bufferAttributes={};constantAttributes={};bindings={};uniforms={};vertexArray;transformFeedback=null;pipeline;shaderInputs;_uniformStore;_attributeInfos={};_gpuGeometry=null;_getModuleUniforms;props;_pipelineNeedsUpdate="newly created";_needsRedraw="initializing";_destroyed=!1;_lastDrawTimestamp=-1;get[Symbol.toStringTag](){return"Model"}toString(){return`Model(${this.id})`}constructor($,Q){this.props={...K8.defaultProps,...Q},Q=this.props,this.id=Q.id||QZ("model"),this.device=$,Object.assign(this.userData,Q.userData);let J=Object.fromEntries(this.props.modules?.map((X)=>[X.name,X])||[]),K=Q.shaderInputs||new Pm(J,{disableWarnings:this.props.disableWarnings});this.setShaderInputs(K);let Y=G71($),q=(this.props.modules?.length>0?this.props.modules:this.shaderInputs?.getModules())||[];if(this.device.type==="webgpu"&&this.props.source){let{source:X,getUniforms:W}=this.props.shaderAssembler.assembleWGSLShader({platformInfo:Y,...this.props,modules:q});this.source=X,this._getModuleUniforms=W,this.props.shaderLayout||=Hu(this.source)}else{let{vs:X,fs:W,getUniforms:F}=this.props.shaderAssembler.assembleGLSLShaderPair({platformInfo:Y,...this.props,modules:q});this.vs=X,this.fs=W,this._getModuleUniforms=F}if(this.vertexCount=this.props.vertexCount,this.instanceCount=this.props.instanceCount,this.topology=this.props.topology,this.bufferLayout=this.props.bufferLayout,this.parameters=this.props.parameters,Q.geometry)this.setGeometry(Q.geometry);if(this.pipelineFactory=Q.pipelineFactory||$k.getDefaultPipelineFactory(this.device),this.shaderFactory=Q.shaderFactory||Qk.getDefaultShaderFactory(this.device),this.pipeline=this._updatePipeline(),this.vertexArray=$.createVertexArray({renderPipeline:this.pipeline}),this._gpuGeometry)this._setGeometryAttributes(this._gpuGeometry);if("isInstanced"in Q)this.isInstanced=Q.isInstanced;if(Q.instanceCount)this.setInstanceCount(Q.instanceCount);if(Q.vertexCount)this.setVertexCount(Q.vertexCount);if(Q.indexBuffer)this.setIndexBuffer(Q.indexBuffer);if(Q.attributes)this.setAttributes(Q.attributes);if(Q.constantAttributes)this.setConstantAttributes(Q.constantAttributes);if(Q.bindings)this.setBindings(Q.bindings);if(Q.uniforms)this.setUniformsWebGL(Q.uniforms);if(Q.moduleSettings)this.updateModuleSettingsWebGL(Q.moduleSettings);if(Q.transformFeedback)this.transformFeedback=Q.transformFeedback;Object.seal(this)}destroy(){if(this._destroyed)return;if(this.pipelineFactory.release(this.pipeline),this.shaderFactory.release(this.pipeline.vs),this.pipeline.fs)this.shaderFactory.release(this.pipeline.fs);this._uniformStore.destroy(),this._gpuGeometry?.destroy(),this._destroyed=!0}needsRedraw(){if(this._getBindingsUpdateTimestamp()>this._lastDrawTimestamp)this.setNeedsRedraw("contents of bound textures or buffers updated");let $=this._needsRedraw;return this._needsRedraw=!1,$}setNeedsRedraw($){this._needsRedraw||=$}predraw(){this.updateShaderInputs(),this.pipeline=this._updatePipeline()}draw($){let Q=this._areBindingsLoading();if(Q)return g0.info(uX,`>>> DRAWING ABORTED ${this.id}: ${Q} not loaded`)(),!1;try{$.pushDebugGroup(`${this}.predraw(${$})`),this.predraw()}finally{$.popDebugGroup()}let J;try{$.pushDebugGroup(`${this}.draw(${$})`),this._logDrawCallStart(),this.pipeline=this._updatePipeline();let K=this._getBindings();if(this.pipeline.setBindings(K,{disableWarnings:this.props.disableWarnings}),!km(this.uniforms))this.pipeline.setUniformsWebGL(this.uniforms);let{indexBuffer:Y}=this.vertexArray,q=Y?Y.byteLength/(Y.indexType==="uint32"?4:2):void 0;J=this.pipeline.draw({renderPass:$,vertexArray:this.vertexArray,isInstanced:this.isInstanced,vertexCount:this.vertexCount,instanceCount:this.instanceCount,indexCount:q,transformFeedback:this.transformFeedback||void 0,parameters:this.parameters,topology:this.topology})}finally{$.popDebugGroup(),this._logDrawCallEnd()}if(this._logFramebuffer($),J)this._lastDrawTimestamp=this.device.timestamp,this._needsRedraw=!1;else this._needsRedraw="waiting for resource initialization";return J}setGeometry($){this._gpuGeometry?.destroy();let Q=$&&gH0(this.device,$);if(Q){this.setTopology(Q.topology||"triangle-list");let J=new wH(this.bufferLayout);if(this.bufferLayout=J.mergeBufferLayouts(Q.bufferLayout,this.bufferLayout),this.vertexArray)this._setGeometryAttributes(Q)}this._gpuGeometry=Q}setTopology($){if($!==this.topology)this.topology=$,this._setPipelineNeedsUpdate("topology")}setBufferLayout($){let Q=new wH(this.bufferLayout);if(this.bufferLayout=this._gpuGeometry?Q.mergeBufferLayouts($,this._gpuGeometry.bufferLayout):$,this._setPipelineNeedsUpdate("bufferLayout"),this.pipeline=this._updatePipeline(),this.vertexArray=this.device.createVertexArray({renderPipeline:this.pipeline}),this._gpuGeometry)this._setGeometryAttributes(this._gpuGeometry)}setParameters($){if(!Jk($,this.parameters,2))this.parameters=$,this._setPipelineNeedsUpdate("parameters")}setInstanceCount($){if(this.instanceCount=$,this.isInstanced===void 0&&$>0)this.isInstanced=!0;this.setNeedsRedraw("instanceCount")}setVertexCount($){this.vertexCount=$,this.setNeedsRedraw("vertexCount")}setShaderInputs($){this.shaderInputs=$,this._uniformStore=new FP(this.shaderInputs.modules);for(let[Q,J]of Object.entries(this.shaderInputs.modules))if(R71(J)){let K=this._uniformStore.getManagedUniformBuffer(this.device,Q);this.bindings[`${Q}Uniforms`]=K}this.setNeedsRedraw("shaderInputs")}updateShaderInputs(){this._uniformStore.setUniforms(this.shaderInputs.getUniformValues()),this.setBindings(this.shaderInputs.getBindingValues()),this.setNeedsRedraw("shaderInputs")}setBindings($){Object.assign(this.bindings,$),this.setNeedsRedraw("bindings")}setTransformFeedback($){this.transformFeedback=$,this.setNeedsRedraw("transformFeedback")}setIndexBuffer($){this.vertexArray.setIndexBuffer($),this.setNeedsRedraw("indexBuffer")}setAttributes($,Q){let J=Q?.disableWarnings??this.props.disableWarnings;if($.indices)g0.warn(`Model:${this.id} setAttributes() - indexBuffer should be set using setIndexBuffer()`)();this.bufferLayout=_c(this.pipeline.shaderLayout,this.bufferLayout);let K=new wH(this.bufferLayout);for(let[Y,q]of Object.entries($)){let Z=K.getBufferLayout(Y);if(!Z){if(!J)g0.warn(`Model(${this.id}): Missing layout for buffer "${Y}".`)();continue}let X=K.getAttributeNamesForBuffer(Z),W=!1;for(let F of X){let H=this._attributeInfos[F];if(H){let B=this.device.type==="webgpu"?K.getBufferIndex(H.bufferName):H.location;this.vertexArray.setBuffer(B,q),W=!0}}if(!W&&!J)g0.warn(`Model(${this.id}): Ignoring buffer "${q.id}" for unknown attribute "${Y}"`)()}this.setNeedsRedraw("attributes")}setConstantAttributes($,Q){for(let[J,K]of Object.entries($)){let Y=this._attributeInfos[J];if(Y)this.vertexArray.setConstantWebGL(Y.location,K);else if(!(Q?.disableWarnings??this.props.disableWarnings))g0.warn(`Model "${this.id}: Ignoring constant supplied for unknown attribute "${J}"`)()}this.setNeedsRedraw("constants")}setUniforms($){this.setUniformsWebGL($)}setUniformsWebGL($){if(!km($))this.pipeline.setUniformsWebGL($),Object.assign(this.uniforms,$);this.setNeedsRedraw("uniforms")}updateModuleSettingsWebGL($){let{bindings:Q,uniforms:J}=Kk(this._getModuleUniforms($));Object.assign(this.bindings,Q),Object.assign(this.uniforms,J),this.setNeedsRedraw("moduleSettings")}_areBindingsLoading(){for(let $ of Object.values(this.bindings))if($ instanceof aV&&!$.isReady)return $.id;return!1}_getBindings(){let $={};for(let[Q,J]of Object.entries(this.bindings))if(J instanceof aV){if(J.isReady)$[Q]=J.texture}else $[Q]=J;return $}_getBindingsUpdateTimestamp(){let $=0;for(let Q of Object.values(this.bindings))if(Q instanceof _X)$=Math.max($,Q.texture.updateTimestamp);else if(Q instanceof h5||Q instanceof I5)$=Math.max($,Q.updateTimestamp);else if(Q instanceof aV)$=Q.texture?Math.max($,Q.texture.updateTimestamp):1/0;else if(!(Q instanceof lq))$=Math.max($,Q.buffer.updateTimestamp);return $}_setGeometryAttributes($){let Q={...$.attributes};for(let[J]of Object.entries(Q))if(!this.pipeline.shaderLayout.attributes.find((K)=>K.name===J)&&J!=="positions")delete Q[J];this.vertexCount=$.vertexCount,this.setIndexBuffer($.indices||null),this.setAttributes($.attributes,{disableWarnings:!0}),this.setAttributes(Q,{disableWarnings:this.props.disableWarnings}),this.setNeedsRedraw("geometry attributes")}_setPipelineNeedsUpdate($){this._pipelineNeedsUpdate||=$,this.setNeedsRedraw($)}_updatePipeline(){if(this._pipelineNeedsUpdate){let $=null,Q=null;if(this.pipeline)g0.log(1,`Model ${this.id}: Recreating pipeline because "${this._pipelineNeedsUpdate}".`)(),$=this.pipeline.vs,Q=this.pipeline.fs;this._pipelineNeedsUpdate=!1;let J=this.shaderFactory.createShader({id:`${this.id}-vertex`,stage:"vertex",source:this.source||this.vs,debugShaders:this.props.debugShaders}),K=null;if(this.source)K=J;else if(this.fs)K=this.shaderFactory.createShader({id:`${this.id}-fragment`,stage:"fragment",source:this.source||this.fs,debugShaders:this.props.debugShaders});if(this.pipeline=this.pipelineFactory.createRenderPipeline({...this.props,bufferLayout:this.bufferLayout,topology:this.topology,parameters:this.parameters,bindings:this._getBindings(),vs:J,fs:K}),this._attributeInfos=XP(this.pipeline.shaderLayout,this.bufferLayout),$)this.shaderFactory.release($);if(Q)this.shaderFactory.release(Q)}return this.pipeline}_lastLogTime=0;_logOpen=!1;_logDrawCallStart(){let $=g0.level>3?0:V71;if(g0.level<2||Date.now()-this._lastLogTime<$)return;this._lastLogTime=Date.now(),this._logOpen=!0,g0.group(uX,`>>> DRAWING MODEL ${this.id}`,{collapsed:g0.level<=2})()}_logDrawCallEnd(){if(this._logOpen){let $=yH0(this.pipeline.shaderLayout,this.id);g0.table(uX,$)();let Q=this.shaderInputs.getDebugTable();for(let[K,Y]of Object.entries(this.uniforms))Q[K]={value:Y};g0.table(uX,Q)();let J=this._getAttributeDebugTable();g0.table(uX,this._attributeInfos)(),g0.table(uX,J)(),g0.groupEnd(uX)(),this._logOpen=!1}}_drawCount=0;_logFramebuffer($){let Q=this.device.props.debugFramebuffers;if(this._drawCount++,!Q)return;let J=$.props.framebuffer;if(J)xH0(J,{id:J.id,minimap:!0})}_getAttributeDebugTable(){let $={};for(let[Q,J]of Object.entries(this._attributeInfos)){let K=this.vertexArray.attributes[J.location];$[J.location]={name:Q,type:J.shaderType,values:K?this._getBufferOrConstantValues(K,J.bufferDataType):"null"}}if(this.vertexArray.indexBuffer){let{indexBuffer:Q}=this.vertexArray,J=Q.indexType==="uint32"?new Uint32Array(Q.debugData):new Uint16Array(Q.debugData);$.indices={name:"indices",type:Q.indexType,values:J.toString()}}return $}_getBufferOrConstantValues($,Q){let J=PV(Q);return($ instanceof h5?new J($.debugData):$).toString()}}function R71($){return Boolean($.uniformTypes&&!km($.uniformTypes))}function G71($){return{type:$.type,shaderLanguage:$.info.shadingLanguage,shaderLanguageVersion:$.info.shadingLanguageVersion,gpu:$.info.gpu,features:$.features}}function km($){for(let Q in $)return!1;return!0}class dK{device;model;transformFeedback;static defaultProps={...K8.defaultProps,outputs:void 0,feedbackBuffers:void 0};static isSupported($){return $?.info?.type==="webgl"}constructor($,Q=dK.defaultProps){if(!dK.isSupported($))throw Error("BufferTransform not yet implemented on WebGPU");this.device=$,this.model=new K8(this.device,{id:Q.id||"buffer-transform-model",fs:Q.fs||Cc(),topology:Q.topology||"point-list",varyings:Q.outputs||Q.varyings,...Q}),this.transformFeedback=this.device.createTransformFeedback({layout:this.model.pipeline.shaderLayout,buffers:Q.feedbackBuffers}),this.model.setTransformFeedback(this.transformFeedback),Object.seal(this)}destroy(){if(this.model)this.model.destroy()}delete(){this.destroy()}run($){if($?.inputBuffers)this.model.setAttributes($.inputBuffers);if($?.outputBuffers)this.transformFeedback.setBuffers($.outputBuffers);let Q=this.device.beginRenderPass($);this.model.draw(Q),Q.end()}getBuffer($){return this.transformFeedback.getBuffer($)}readAsync($){let Q=this.getBuffer($);if(!Q)throw Error("BufferTransform#getBuffer");if(Q instanceof h5)return Q.readAsync();let{buffer:J,byteOffset:K=0,byteLength:Y=J.byteLength}=Q;return J.readAsync(K,Y)}}class f9{id;topology;vertexCount;indices;attributes;userData={};constructor($){let{attributes:Q={},indices:J=null,vertexCount:K=null}=$;if(this.id=$.id||QZ("geometry"),this.topology=$.topology,J)this.indices=ArrayBuffer.isView(J)?{value:J,size:1}:J;this.attributes={};for(let[Y,q]of Object.entries(Q)){let Z=ArrayBuffer.isView(q)?{value:q}:q;if(!ArrayBuffer.isView(Z.value))throw Error(`${this._print(Y)}: must be typed array or object with value as typed array`);if((Y==="POSITION"||Y==="positions")&&!Z.size)Z.size=3;if(Y==="indices"){if(this.indices)throw Error("Multiple indices detected");this.indices=Z}else this.attributes[Y]=Z}if(this.indices&&this.indices.isIndexed!==void 0)this.indices=Object.assign({},this.indices),delete this.indices.isIndexed;this.vertexCount=K||this._calculateVertexCount(this.attributes,this.indices)}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print($){return`Geometry ${this.id} attribute ${$}`}_setAttributes($,Q){return this}_calculateVertexCount($,Q){if(Q)return Q.value.length;let J=1/0;for(let K of Object.values($)){let{value:Y,size:q,constant:Z}=K;if(!Z&&Y&&q!==void 0&&q>=1)J=Math.min(J,Y.length/q)}return J}}var w71={blendColorOperation:"add",blendColorSrcFactor:"one",blendColorDstFactor:"zero",blendAlphaOperation:"add",blendAlphaSrcFactor:"constant-alpha",blendAlphaDstFactor:"zero"};class gH extends $Z{constructor(){super(...arguments);this._colorEncoderState=null}render($){if("pickingFBO"in $)return this._drawPickingBuffer($);return super.render($)}_drawPickingBuffer({layers:$,layerFilter:Q,views:J,viewports:K,onViewportActive:Y,pickingFBO:q,deviceRect:{x:Z,y:X,width:W,height:F},cullRect:H,effects:B,pass:z="picking",pickZ:A,shaderModuleProps:R}){this.pickZ=A;let G=this._resetColorEncoder(A),w=[Z,X,W,F],T=super.render({target:q,layers:$,layerFilter:Q,views:J,viewports:K,onViewportActive:Y,cullRect:H,effects:B?.filter((P)=>P.useInPicking),pass:z,isPicking:!0,shaderModuleProps:R,clearColor:[0,0,0,0],colorMask:15,scissorRect:w});return this._colorEncoderState=null,{decodePickingColor:G&&T71.bind(null,G),stats:T}}shouldDrawLayer($){let{pickable:Q,operation:J}=$.props;return Q&&J.includes("draw")||J.includes("terrain")||J.includes("mask")}getShaderModuleProps($,Q,J){return{picking:{isActive:1,isAttribute:this.pickZ},lighting:{enabled:!1}}}getLayerParameters($,Q,J){let K={...$.props.parameters},{pickable:Y,operation:q}=$.props;if(!this._colorEncoderState||q.includes("terrain"))K.blend=!1;else if(Y&&q.includes("draw"))Object.assign(K,w71),K.blend=!0,K.blendColor=O71(this._colorEncoderState,$,J);return K}_resetColorEncoder($){return this._colorEncoderState=$?null:{byLayer:new Map,byAlpha:[]},this._colorEncoderState}}function O71($,Q,J){let{byLayer:K,byAlpha:Y}=$,q,Z=K.get(Q);if(Z)Z.viewports.push(J),q=Z.a;else if(q=K.size+1,q<=255)Z={a:q,layer:Q,viewports:[J]},K.set(Q,Z),Y[q]=Z;else E1.warn("Too many pickable layers, only picking the first 255")(),q=0;return[0,0,0,q/255]}function T71($,Q){let J=$.byAlpha[Q[3]];return J&&{pickedLayer:J.layer,pickedViewports:J.viewports,pickedObjectIndex:J.layer.decodePickingColor(Q)}}var JZ={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},mX=Symbol.for("component"),I9=Symbol.for("propTypes"),Yk=Symbol.for("deprecatedProps"),nK=Symbol.for("asyncPropDefaults"),BJ=Symbol.for("asyncPropOriginal"),u$=Symbol.for("asyncPropResolved");function yH($,Q=()=>!0){if(!Array.isArray($))return Q($)?[$]:[];return dH0($,Q,[])}function dH0($,Q,J){let K=-1;while(++K<$.length){let Y=$[K];if(Array.isArray(Y))dH0(Y,Q,J);else if(Q(Y))J.push(Y)}return J}function nH0({target:$,source:Q,start:J=0,count:K=1}){let Y=Q.length,q=K*Y,Z=0;for(let X=J;Z<Y;Z++)$[X++]=Q[Z];while(Z<q)if(Z<q-Z)$.copyWithin(J+Z,J,J+Z),Z*=2;else $.copyWithin(J+Z,J,J+q-Z),Z=q;return $}class qk{constructor($,Q,J){this._loadCount=0,this._subscribers=new Set,this.id=$,this.context=J,this.setData(Q)}subscribe($){this._subscribers.add($)}unsubscribe($){this._subscribers.delete($)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then(()=>this.getData())}setData($,Q){if($===this._data&&!Q)return;this._data=$;let J=++this._loadCount,K=$;if(typeof $==="string")K=pq($);if(K instanceof Promise)this.isLoaded=!1,this._loader=K.then((Y)=>{if(this._loadCount===J)this.isLoaded=!0,this._error=void 0,this._content=Y}).catch((Y)=>{if(this._loadCount===J)this.isLoaded=!0,this._error=Y||!0});else this.isLoaded=!0,this._error=void 0,this._content=$;for(let Y of this._subscribers)Y.onChange(this.getData())}}class Zk{constructor($){this.protocol=$.protocol||"resource://",this._context={device:$.device,gl:$.device?.gl,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains($){if($.startsWith(this.protocol))return!0;return $ in this._resources}add({resourceId:$,data:Q,forceUpdate:J=!1,persistent:K=!0}){let Y=this._resources[$];if(Y)Y.setData(Q,J);else Y=new qk($,Q,this._context),this._resources[$]=Y;Y.persistent=K}remove($){let Q=this._resources[$];if(Q)Q.delete(),delete this._resources[$]}unsubscribe({consumerId:$}){let Q=this._consumers[$];if(Q){for(let J in Q){let K=Q[J],Y=this._resources[K.resourceId];if(Y)Y.unsubscribe(K)}delete this._consumers[$],this.prune()}}subscribe({resourceId:$,onChange:Q,consumerId:J,requestId:K="default"}){let{_resources:Y,protocol:q}=this;if($.startsWith(q)){if($=$.replace(q,""),!Y[$])this.add({resourceId:$,data:null,persistent:!1})}let Z=Y[$];if(this._track(J,K,Z,Q),Z)return Z.getData();return}prune(){if(!this._pruneRequest)this._pruneRequest=setTimeout(()=>this._prune(),0)}finalize(){for(let $ in this._resources)this._resources[$].delete()}_track($,Q,J,K){let Y=this._consumers,q=Y[$]=Y[$]||{},Z=q[Q],X=Z&&Z.resourceId&&this._resources[Z.resourceId];if(X)X.unsubscribe(Z),this.prune();if(J){if(Z)Z.onChange=K,Z.resourceId=J.id;else Z={onChange:K,resourceId:J.id};q[Q]=Z,J.subscribe(Z)}}_prune(){this._pruneRequest=null;for(let $ of Object.keys(this._resources)){let Q=this._resources[$];if(!Q.persistent&&!Q.inUse())Q.delete(),delete this._resources[$]}}}var D71="layerManager.setLayers",C71="layerManager.activateViewport";class Xk{constructor($,Q){this._lastRenderedLayers=[],this._needsRedraw=!1,this._needsUpdate=!1,this._nextLayers=null,this._debug=!1,this._defaultShaderModulesChanged=!1,this.activateViewport=(Z)=>{if(Z7(C71,this,Z),Z)this.context.viewport=Z};let{deck:J,stats:K,viewport:Y,timeline:q}=Q||{};this.layers=[],this.resourceManager=new Zk({device:$,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,device:$,gl:$?.gl,deck:J,shaderAssembler:CH0($?.info?.shadingLanguage||"glsl"),defaultShaderModules:[su],renderPass:void 0,stats:K||new b$({id:"deck.gl"}),viewport:Y||new aP({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:q||new bH,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(let $ of this.layers)this._finalizeLayer($)}needsRedraw($={clearRedrawFlags:!1}){let Q=this._needsRedraw;if($.clearRedrawFlags)this._needsRedraw=!1;for(let J of this.layers){let K=J.getNeedsRedraw($);Q=Q||K}return Q}needsUpdate(){if(this._nextLayers&&this._nextLayers!==this._lastRenderedLayers)return"layers changed";if(this._defaultShaderModulesChanged)return"shader modules changed";return this._needsUpdate}setNeedsRedraw($){this._needsRedraw=this._needsRedraw||$}setNeedsUpdate($){this._needsUpdate=this._needsUpdate||$}getLayers({layerIds:$}={}){return $?this.layers.filter((Q)=>$.find((J)=>Q.id.indexOf(J)===0)):this.layers}setProps($){if("debug"in $)this._debug=$.debug;if("userData"in $)this.context.userData=$.userData;if("layers"in $)this._nextLayers=$.layers;if("onError"in $)this.context.onError=$.onError}setLayers($,Q){Z7(D71,this,Q,$),this._lastRenderedLayers=$;let J=yH($,Boolean);for(let K of J)K.context=this.context;this._updateLayers(this.layers,J)}updateLayers(){let $=this.needsUpdate();if($)this.setNeedsRedraw(`updating layers: ${$}`),this.setLayers(this._nextLayers||this._lastRenderedLayers,$);this._nextLayers=null}addDefaultShaderModule($){let{defaultShaderModules:Q}=this.context;if(!Q.find((J)=>J.name===$.name))Q.push($),this._defaultShaderModulesChanged=!0}removeDefaultShaderModule($){let{defaultShaderModules:Q}=this.context,J=Q.findIndex((K)=>K.name===$.name);if(J>=0)Q.splice(J,1),this._defaultShaderModulesChanged=!0}_handleError($,Q,J){J.raiseError(Q,`${$} of ${J}`)}_updateLayers($,Q){let J={};for(let q of $)if(J[q.id])E1.warn(`Multiple old layers with same id ${q.id}`)();else J[q.id]=q;if(this._defaultShaderModulesChanged){for(let q of $)q.setNeedsUpdate(),q.setChangeFlags({extensionsChanged:!0});this._defaultShaderModulesChanged=!1}let K=[];this._updateSublayersRecursively(Q,J,K),this._finalizeOldLayers(J);let Y=!1;for(let q of K)if(q.hasUniformTransition()){Y=`Uniform transition in ${q}`;break}this._needsUpdate=Y,this.layers=K}_updateSublayersRecursively($,Q,J){for(let K of $){K.context=this.context;let Y=Q[K.id];if(Y===null)E1.warn(`Multiple new layers with same id ${K.id}`)();Q[K.id]=null;let q=null;try{if(this._debug&&Y!==K)K.validateProps();if(!Y)this._initializeLayer(K);else this._transferLayerState(Y,K),this._updateLayer(K);J.push(K),q=K.isComposite?K.getSubLayers():null}catch(Z){this._handleError("matching",Z,K)}if(q)this._updateSublayersRecursively(q,Q,J)}}_finalizeOldLayers($){for(let Q in $){let J=$[Q];if(J)this._finalizeLayer(J)}}_initializeLayer($){try{$._initialize(),$.lifecycle=JZ.INITIALIZED}catch(Q){this._handleError("initialization",Q,$)}}_transferLayerState($,Q){if(Q._transferState($),Q.lifecycle=JZ.MATCHED,Q!==$)$.lifecycle=JZ.AWAITING_GC}_updateLayer($){try{$._update()}catch(Q){this._handleError("update",Q,$)}}_finalizeLayer($){this._needsRedraw=this._needsRedraw||`finalized ${$}`,$.lifecycle=JZ.AWAITING_FINALIZATION;try{$._finalize(),$.lifecycle=JZ.FINALIZED}catch(Q){this._handleError("finalization",Q,$)}}}function G8($,Q,J){if($===Q)return!0;if(!J||!$||!Q)return!1;if(Array.isArray($)){if(!Array.isArray(Q)||$.length!==Q.length)return!1;for(let K=0;K<$.length;K++)if(!G8($[K],Q[K],J-1))return!1;return!0}if(Array.isArray(Q))return!1;if(typeof $==="object"&&typeof Q==="object"){let K=Object.keys($),Y=Object.keys(Q);if(K.length!==Y.length)return!1;for(let q of K){if(!Q.hasOwnProperty(q))return!1;if(!G8($[q],Q[q],J-1))return!1}return!0}return!1}class Wk{constructor($){this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=$.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=$.eventManager,this._eventCallbacks={onViewStateChange:$.onViewStateChange,onInteractionStateChange:$.onInteractionStateChange},Object.seal(this),this.setProps($)}finalize(){for(let $ in this.controllers){let Q=this.controllers[$];if(Q)Q.finalize()}this.controllers={}}needsRedraw($={clearRedrawFlags:!1}){let Q=this._needsRedraw;if($.clearRedrawFlags)this._needsRedraw=!1;return Q}setNeedsUpdate($){this._needsUpdate=this._needsUpdate||$,this._needsRedraw=this._needsRedraw||$}updateViewStates(){for(let $ in this.controllers){let Q=this.controllers[$];if(Q)Q.updateTransition()}}getViewports($){if($)return this._viewports.filter((Q)=>Q.containsPixel($));return this._viewports}getViews(){let $={};return this.views.forEach((Q)=>{$[Q.id]=Q}),$}getView($){return this.views.find((Q)=>Q.id===$)}getViewState($){let Q=typeof $==="string"?this.getView($):$,J=Q&&this.viewState[Q.getViewStateId()]||this.viewState;return Q?Q.filterViewState(J):J}getViewport($){return this._viewportMap[$]}unproject($,Q){let J=this.getViewports(),K={x:$[0],y:$[1]};for(let Y=J.length-1;Y>=0;--Y){let q=J[Y];if(q.containsPixel(K)){let Z=$.slice();return Z[0]-=q.x,Z[1]-=q.y,q.unproject(Z,Q)}}return null}setProps($){if($.views)this._setViews($.views);if($.viewState)this._setViewState($.viewState);if("width"in $||"height"in $)this._setSize($.width,$.height);if(!this._isUpdating)this._update()}_update(){if(this._isUpdating=!0,this._needsUpdate)this._needsUpdate=!1,this._rebuildViewports();if(this._needsUpdate)this._needsUpdate=!1,this._rebuildViewports();this._isUpdating=!1}_setSize($,Q){if($!==this.width||Q!==this.height)this.width=$,this.height=Q,this.setNeedsUpdate("Size changed")}_setViews($){if($=yH($,Boolean),this._diffViews($,this.views))this.setNeedsUpdate("views changed");this.views=$}_setViewState($){if($){if(!G8($,this.viewState,3))this.setNeedsUpdate("viewState changed");this.viewState=$}else E1.warn("missing `viewState` or `initialViewState`")()}_createController($,Q){return new Q.type({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._eventCallbacks.onViewStateChange,onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:(Y)=>this.getView($.id)?.makeViewport({viewState:Y,width:this.width,height:this.height})})}_updateController($,Q,J,K){let Y=$.controller;if(Y&&J){let q={...Q,...Y,id:$.id,x:J.x,y:J.y,width:J.width,height:J.height};if(!K||K.constructor!==Y.type)K=this._createController($,q);if(K)K.setProps(q);return K}return null}_rebuildViewports(){let{views:$}=this,Q=this.controllers;this._viewports=[],this.controllers={};let J=!1;for(let K=$.length;K--;){let Y=$[K],q=this.getViewState(Y),Z=Y.makeViewport({viewState:q,width:this.width,height:this.height}),X=Q[Y.id],W=Boolean(Y.controller);if(W&&!X)J=!0;if((J||!W)&&X)X.finalize(),X=null;if(this.controllers[Y.id]=this._updateController(Y,q,Z,X),Z)this._viewports.unshift(Z)}for(let K in Q){let Y=Q[K];if(Y&&!this.controllers[K])Y.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach(($)=>{if($.id)this._viewportMap[$.id]=this._viewportMap[$.id]||$})}_diffViews($,Q){if($.length!==Q.length)return!0;return $.some((J,K)=>!$[K].equals(Q[K]))}}var P71=/([0-9]+\.?[0-9]*)(%|px)/;function lK($){switch(typeof $){case"number":return{position:$,relative:!1};case"string":let Q=P71.exec($);if(Q&&Q.length>=3){let J=Q[2]==="%",K=parseFloat(Q[1]);return{position:J?K/100:K,relative:J}}default:throw Error(`Could not parse position string ${$}`)}}function rK($,Q){return $.relative?Math.round($.position*Q):$.position}class y3{constructor($){let{id:Q,x:J=0,y:K=0,width:Y="100%",height:q="100%",padding:Z=null}=$;this.id=Q||this.constructor.displayName||"view",this.props={...$,id:this.id},this._x=lK(J),this._y=lK(K),this._width=lK(Y),this._height=lK(q),this._padding=Z&&{left:lK(Z.left||0),right:lK(Z.right||0),top:lK(Z.top||0),bottom:lK(Z.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals($){if(this===$)return!0;return this.constructor===$.constructor&&G8(this.props,$.props,2)}makeViewport({width:$,height:Q,viewState:J}){J=this.filterViewState(J);let K=this.getDimensions({width:$,height:Q});if(!K.height||!K.width)return null;return new(this.getViewportType(J))({...J,...this.props,...K})}getViewStateId(){let{viewState:$}=this.props;if(typeof $==="string")return $;return $?.id||this.id}filterViewState($){if(this.props.viewState&&typeof this.props.viewState==="object"){if(!this.props.viewState.id)return this.props.viewState;let Q={...$};for(let J in this.props.viewState)if(J!=="id")Q[J]=this.props.viewState[J];return Q}return $}getDimensions({width:$,height:Q}){let J={x:rK(this._x,$),y:rK(this._y,Q),width:rK(this._width,$),height:rK(this._height,Q)};if(this._padding)J.padding={left:rK(this._padding.left,$),top:rK(this._padding.top,Q),right:rK(this._padding.right,$),bottom:rK(this._padding.bottom,Q)};return J}get controller(){let $=this.props.controller;if(!$)return null;if($===!0)return{type:this.ControllerType};if(typeof $==="function")return{type:$};return{type:this.ControllerType,...$}}}class zJ{constructor($){this._inProgress=!1,this._handle=null,this.time=0,this.settings={duration:0},this._timeline=$}get inProgress(){return this._inProgress}start($){this.cancel(),this.settings=$,this._inProgress=!0,this.settings.onStart?.(this)}end(){if(this._inProgress)this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,this.settings.onEnd?.(this)}cancel(){if(this._inProgress)this.settings.onInterrupt?.(this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1}update(){if(!this._inProgress)return!1;if(this._handle===null){let{_timeline:$,settings:Q}=this;this._handle=$.addChannel({delay:$.getTime(),duration:Q.duration})}if(this.time=this._timeline.getTime(this._handle),this._onUpdate(),this.settings.onUpdate?.(this),this._timeline.isFinished(this._handle))this.end();return!0}_onUpdate(){}}var lH0=()=>{},jm={BREAK:1,SNAP_TO_END:2,IGNORE:3},k71=($)=>$,j71=jm.BREAK;class Fk{constructor($){this._onTransitionUpdate=(Q)=>{let{time:J,settings:{interpolator:K,startProps:Y,endProps:q,duration:Z,easing:X}}=Q,W=X(J/Z),F=K.interpolateProps(Y,q,W);this.propsInTransition=this.getControllerState({...this.props,...F}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})},this.getControllerState=$.getControllerState,this.propsInTransition=null,this.transition=new zJ($.timeline),this.onViewStateChange=$.onViewStateChange||lH0,this.onStateChange=$.onStateChange||lH0}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange($){let Q=!1,J=this.props;if(this.props=$,!J||this._shouldIgnoreViewportChange(J,$))return!1;if(this._isTransitionEnabled($)){let K=J;if(this.transition.inProgress){let{interruption:Y,endProps:q}=this.transition.settings;K={...J,...Y===jm.SNAP_TO_END?q:this.propsInTransition||J}}this._triggerTransition(K,$),Q=!0}else this.transition.cancel();return Q}updateTransition(){this.transition.update()}_isTransitionEnabled($){let{transitionDuration:Q,transitionInterpolator:J}=$;return(Q>0||Q==="auto")&&Boolean(J)}_isUpdateDueToCurrentTransition($){if(this.transition.inProgress&&this.propsInTransition)return this.transition.settings.interpolator.arePropsEqual($,this.propsInTransition);return!1}_shouldIgnoreViewportChange($,Q){if(this.transition.inProgress)return this.transition.settings.interruption===jm.IGNORE||this._isUpdateDueToCurrentTransition(Q);if(this._isTransitionEnabled(Q))return Q.transitionInterpolator.arePropsEqual($,Q);return!0}_triggerTransition($,Q){let J=this.getControllerState($),K=this.getControllerState(Q).shortestPathFrom(J),Y=Q.transitionInterpolator,q=Y.getDuration?Y.getDuration($,Q):Q.transitionDuration;if(q===0)return;let Z=Y.initializeProps($,K);this.propsInTransition={};let X={duration:q,easing:Q.transitionEasing||k71,interpolator:Y,interruption:Q.transitionInterruption||j71,startProps:Z.start,endProps:Z.end,onStart:Q.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(Q.onTransitionInterrupt),onEnd:this._onTransitionEnd(Q.onTransitionEnd)};this.transition.start(X),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd($){return(Q)=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),$?.(Q)}}}function x6($,Q){if(!$)throw Error(Q||"deck.gl: assertion failed.")}class Uk{constructor($){let{compare:Q,extract:J,required:K}=$;this._propsToCompare=Q,this._propsToExtract=J||Q,this._requiredProps=K}arePropsEqual($,Q){for(let J of this._propsToCompare)if(!(J in $)||!(J in Q)||!uK($[J],Q[J]))return!1;return!0}initializeProps($,Q){let J={},K={};for(let Y of this._propsToExtract)if(Y in $||Y in Q)J[Y]=$[Y],K[Y]=Q[Y];return this._checkRequiredProps(J),this._checkRequiredProps(K),{start:J,end:K}}getDuration($,Q){return Q.transitionDuration}_checkRequiredProps($){if(!this._requiredProps)return;this._requiredProps.forEach((Q)=>{let J=$[Q];x6(Number.isFinite(J)||Array.isArray(J),`${Q} is required for transition`)})}}var E71=["longitude","latitude","zoom","bearing","pitch"],L71=["longitude","latitude","zoom"];class xH extends Uk{constructor($={}){let Q=Array.isArray($)?$:$.transitionProps,J=Array.isArray($)?{}:$;J.transitionProps=Array.isArray(Q)?{compare:Q,required:Q}:Q||{compare:E71,required:L71};super(J.transitionProps);this.opts=J}initializeProps($,Q){let J=super.initializeProps($,Q),{makeViewport:K,around:Y}=this.opts;if(K&&Y){let q=K($),Z=K(Q),X=q.unproject(Y);J.start.around=Y,Object.assign(J.end,{around:Z.project(X),aroundPosition:X,width:Q.width,height:Q.height})}return J}interpolateProps($,Q,J){let K={};for(let Y of this._propsToExtract)K[Y]=gX($[Y]||0,Q[Y]||0,J);if(Q.aroundPosition&&this.opts.makeViewport){let Y=this.opts.makeViewport({...Q,...K});Object.assign(K,Y.panByPosition(Q.aroundPosition,gX($.around,Q.around,J)))}return K}}var iK={transitionDuration:0},h71=300,Hk=($)=>1-(1-$)*(1-$),cH={WHEEL:["wheel"],PAN:["panstart","panmove","panend"],PINCH:["pinchstart","pinchmove","pinchend"],MULTI_PAN:["multipanstart","multipanmove","multipanend"],DOUBLE_CLICK:["dblclick"],KEYBOARD:["keydown"]},pX={};class Nk{constructor($){this.state={},this._events={},this._interactionState={isDragging:!1},this._customEvents=[],this._eventStartBlocked=null,this._panMove=!1,this.invertPan=!1,this.dragMode="rotate",this.inertia=0,this.scrollZoom=!0,this.dragPan=!0,this.dragRotate=!0,this.doubleClickZoom=!0,this.touchZoom=!0,this.touchRotate=!1,this.keyboard=!0,this.transitionManager=new Fk({...$,getControllerState:(Q)=>new this.ControllerState(Q),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=$.eventManager,this.onViewStateChange=$.onViewStateChange||(()=>{}),this.onStateChange=$.onStateChange||(()=>{}),this.makeViewport=$.makeViewport}set events($){if(this.toggleEvents(this._customEvents,!1),this.toggleEvents($,!0),this._customEvents=$,this.props)this.setProps(this.props)}finalize(){for(let $ in this._events)if(this._events[$])this.eventManager?.off($,this.handleEvent);this.transitionManager.finalize()}handleEvent($){this._controllerState=void 0;let Q=this._eventStartBlocked;switch($.type){case"panstart":return Q?!1:this._onPanStart($);case"panmove":return this._onPan($);case"panend":return this._onPanEnd($);case"pinchstart":return Q?!1:this._onPinchStart($);case"pinchmove":return this._onPinch($);case"pinchend":return this._onPinchEnd($);case"multipanstart":return Q?!1:this._onMultiPanStart($);case"multipanmove":return this._onMultiPan($);case"multipanend":return this._onMultiPanEnd($);case"dblclick":return this._onDoubleClick($);case"wheel":return this._onWheel($);case"keydown":return this._onKeyDown($);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter($){let{x:Q,y:J}=this.props,{offsetCenter:K}=$;return[K.x-Q,K.y-J]}isPointInBounds($,Q){let{width:J,height:K}=this.props;if(Q&&Q.handled)return!1;let Y=$[0]>=0&&$[0]<=J&&$[1]>=0&&$[1]<=K;if(Y&&Q)Q.stopPropagation();return Y}isFunctionKeyPressed($){let{srcEvent:Q}=$;return Boolean(Q.metaKey||Q.altKey||Q.ctrlKey||Q.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents($){let Q=setTimeout(()=>{if(this._eventStartBlocked===Q)this._eventStartBlocked=null},$);this._eventStartBlocked=Q}setProps($){if($.dragMode)this.dragMode=$.dragMode;if(this.props=$,!("transitionInterpolator"in $))$.transitionInterpolator=this._getTransitionProps().transitionInterpolator;this.transitionManager.processViewStateChange($);let{inertia:Q}=$;this.inertia=Number.isFinite(Q)?Q:Q===!0?h71:0;let{scrollZoom:J=!0,dragPan:K=!0,dragRotate:Y=!0,doubleClickZoom:q=!0,touchZoom:Z=!0,touchRotate:X=!1,keyboard:W=!0}=$,F=Boolean(this.onViewStateChange);this.toggleEvents(cH.WHEEL,F&&J),this.toggleEvents(cH.PAN,F),this.toggleEvents(cH.PINCH,F&&(Z||X)),this.toggleEvents(cH.MULTI_PAN,F&&X),this.toggleEvents(cH.DOUBLE_CLICK,F&&q),this.toggleEvents(cH.KEYBOARD,F&&W),this.scrollZoom=J,this.dragPan=K,this.dragRotate=Y,this.doubleClickZoom=q,this.touchZoom=Z,this.touchRotate=X,this.keyboard=W}updateTransition(){this.transitionManager.updateTransition()}toggleEvents($,Q){if(this.eventManager)$.forEach((J)=>{if(this._events[J]!==Q)if(this._events[J]=Q,Q)this.eventManager.on(J,this.handleEvent);else this.eventManager.off(J,this.handleEvent)})}updateViewport($,Q=null,J={}){let K={...$.getViewportProps(),...Q},Y=this.controllerState!==$;if(this.state=$.getState(),this._setInteractionState(J),Y){let q=this.controllerState&&this.controllerState.getViewportProps();if(this.onViewStateChange)this.onViewStateChange({viewState:K,interactionState:this._interactionState,oldViewState:q,viewId:this.props.id})}}_onTransition($){this.onViewStateChange({...$,interactionState:this._interactionState,viewId:this.props.id})}_setInteractionState($){Object.assign(this._interactionState,$),this.onStateChange(this._interactionState)}_onPanStart($){let Q=this.getCenter($);if(!this.isPointInBounds(Q,$))return!1;let J=this.isFunctionKeyPressed($)||$.rightButton||!1;if(this.invertPan||this.dragMode==="pan")J=!J;let K=this.controllerState[J?"panStart":"rotateStart"]({pos:Q});return this._panMove=J,this.updateViewport(K,iK,{isDragging:!0}),!0}_onPan($){if(!this.isDragging())return!1;return this._panMove?this._onPanMove($):this._onPanRotate($)}_onPanEnd($){if(!this.isDragging())return!1;return this._panMove?this._onPanMoveEnd($):this._onPanRotateEnd($)}_onPanMove($){if(!this.dragPan)return!1;let Q=this.getCenter($),J=this.controllerState.pan({pos:Q});return this.updateViewport(J,iK,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd($){let{inertia:Q}=this;if(this.dragPan&&Q&&$.velocity){let J=this.getCenter($),K=[J[0]+$.velocityX*Q/2,J[1]+$.velocityY*Q/2],Y=this.controllerState.pan({pos:K}).panEnd();this.updateViewport(Y,{...this._getTransitionProps(),transitionDuration:Q,transitionEasing:Hk},{isDragging:!1,isPanning:!0})}else{let J=this.controllerState.panEnd();this.updateViewport(J,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate($){if(!this.dragRotate)return!1;let Q=this.getCenter($),J=this.controllerState.rotate({pos:Q});return this.updateViewport(J,iK,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd($){let{inertia:Q}=this;if(this.dragRotate&&Q&&$.velocity){let J=this.getCenter($),K=[J[0]+$.velocityX*Q/2,J[1]+$.velocityY*Q/2],Y=this.controllerState.rotate({pos:K}).rotateEnd();this.updateViewport(Y,{...this._getTransitionProps(),transitionDuration:Q,transitionEasing:Hk},{isDragging:!1,isRotating:!0})}else{let J=this.controllerState.rotateEnd();this.updateViewport(J,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel($){if(!this.scrollZoom)return!1;let Q=this.getCenter($);if(!this.isPointInBounds(Q,$))return!1;$.srcEvent.preventDefault();let{speed:J=0.01,smooth:K=!1}=this.scrollZoom===!0?{}:this.scrollZoom,{delta:Y}=$,q=2/(1+Math.exp(-Math.abs(Y*J)));if(Y<0&&q!==0)q=1/q;let Z=K?{...this._getTransitionProps({around:Q}),transitionDuration:250}:iK,X=this.controllerState.zoom({pos:Q,scale:q});return this.updateViewport(X,Z,{isZooming:!0,isPanning:!0}),!0}_onMultiPanStart($){let Q=this.getCenter($);if(!this.isPointInBounds(Q,$))return!1;let J=this.controllerState.rotateStart({pos:Q});return this.updateViewport(J,iK,{isDragging:!0}),!0}_onMultiPan($){if(!this.touchRotate)return!1;if(!this.isDragging())return!1;let Q=this.getCenter($);Q[0]-=$.deltaX;let J=this.controllerState.rotate({pos:Q});return this.updateViewport(J,iK,{isDragging:!0,isRotating:!0}),!0}_onMultiPanEnd($){if(!this.isDragging())return!1;let{inertia:Q}=this;if(this.touchRotate&&Q&&$.velocityY){let J=this.getCenter($),K=[J[0],J[1]+=$.velocityY*Q/2],Y=this.controllerState.rotate({pos:K});this.updateViewport(Y,{...this._getTransitionProps(),transitionDuration:Q,transitionEasing:Hk},{isDragging:!1,isRotating:!0}),this.blockEvents(Q)}else{let J=this.controllerState.rotateEnd();this.updateViewport(J,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart($){let Q=this.getCenter($);if(!this.isPointInBounds(Q,$))return!1;let J=this.controllerState.zoomStart({pos:Q}).rotateStart({pos:Q});return pX._startPinchRotation=$.rotation,pX._lastPinchEvent=$,this.updateViewport(J,iK,{isDragging:!0}),!0}_onPinch($){if(!this.touchZoom&&!this.touchRotate)return!1;if(!this.isDragging())return!1;let Q=this.controllerState;if(this.touchZoom){let{scale:J}=$,K=this.getCenter($);Q=Q.zoom({pos:K,scale:J})}if(this.touchRotate){let{rotation:J}=$;Q=Q.rotate({deltaAngleX:pX._startPinchRotation-J})}return this.updateViewport(Q,iK,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),pX._lastPinchEvent=$,!0}_onPinchEnd($){if(!this.isDragging())return!1;let{inertia:Q}=this,{_lastPinchEvent:J}=pX;if(this.touchZoom&&Q&&J&&$.scale!==J.scale){let K=this.getCenter($),Y=this.controllerState.rotateEnd(),q=Math.log2($.scale),Z=(q-Math.log2(J.scale))/($.deltaTime-J.deltaTime),X=Math.pow(2,q+Z*Q/2);Y=Y.zoom({pos:K,scale:X}).zoomEnd(),this.updateViewport(Y,{...this._getTransitionProps({around:K}),transitionDuration:Q,transitionEasing:Hk},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(Q)}else{let K=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(K,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return pX._startPinchRotation=null,pX._lastPinchEvent=null,!0}_onDoubleClick($){if(!this.doubleClickZoom)return!1;let Q=this.getCenter($);if(!this.isPointInBounds(Q,$))return!1;let J=this.isFunctionKeyPressed($),K=this.controllerState.zoom({pos:Q,scale:J?0.5:2});return this.updateViewport(K,this._getTransitionProps({around:Q}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown($){if(!this.keyboard)return!1;let Q=this.isFunctionKeyPressed($),{zoomSpeed:J,moveSpeed:K,rotateSpeedX:Y,rotateSpeedY:q}=this.keyboard===!0?{}:this.keyboard,{controllerState:Z}=this,X,W={};switch($.srcEvent.code){case"Minus":X=Q?Z.zoomOut(J).zoomOut(J):Z.zoomOut(J),W.isZooming=!0;break;case"Equal":X=Q?Z.zoomIn(J).zoomIn(J):Z.zoomIn(J),W.isZooming=!0;break;case"ArrowLeft":if(Q)X=Z.rotateLeft(Y),W.isRotating=!0;else X=Z.moveLeft(K),W.isPanning=!0;break;case"ArrowRight":if(Q)X=Z.rotateRight(Y),W.isRotating=!0;else X=Z.moveRight(K),W.isPanning=!0;break;case"ArrowUp":if(Q)X=Z.rotateUp(q),W.isRotating=!0;else X=Z.moveUp(K),W.isPanning=!0;break;case"ArrowDown":if(Q)X=Z.rotateDown(q),W.isRotating=!0;else X=Z.moveDown(K),W.isPanning=!0;break;default:return!1}return this.updateViewport(X,this._getTransitionProps(),W),!0}_getTransitionProps($){let{transition:Q}=this;if(!Q||!Q.transitionInterpolator)return iK;return $?{...Q,transitionInterpolator:new xH({...$,...Q.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:Q}}class Bk{constructor($,Q){this._viewportProps=this.applyConstraints($),this._state=Q}getViewportProps(){return this._viewportProps}getState(){return this._state}}var rH0=5,v71=1.2;class iH0 extends Bk{constructor($){let{width:Q,height:J,latitude:K,longitude:Y,zoom:q,bearing:Z=0,pitch:X=0,altitude:W=1.5,position:F=[0,0,0],maxZoom:H=20,minZoom:B=0,maxPitch:z=60,minPitch:A=0,startPanLngLat:R,startZoomLngLat:G,startRotatePos:w,startBearing:T,startPitch:D,startZoom:P,normalize:j=!0}=$;x6(Number.isFinite(Y)),x6(Number.isFinite(K)),x6(Number.isFinite(q));super({width:Q,height:J,latitude:K,longitude:Y,zoom:q,bearing:Z,pitch:X,altitude:W,maxZoom:H,minZoom:B,maxPitch:z,minPitch:A,normalize:j,position:F},{startPanLngLat:R,startZoomLngLat:G,startRotatePos:w,startBearing:T,startPitch:D,startZoom:P});this.makeViewport=$.makeViewport}panStart({pos:$}){return this._getUpdatedState({startPanLngLat:this._unproject($)})}pan({pos:$,startPos:Q}){let J=this.getState().startPanLngLat||this._unproject(Q);if(!J)return this;let Y=this.makeViewport(this.getViewportProps()).panByPosition(J,$);return this._getUpdatedState(Y)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:$}){return this._getUpdatedState({startRotatePos:$,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:$,deltaAngleX:Q=0,deltaAngleY:J=0}){let{startRotatePos:K,startBearing:Y,startPitch:q}=this.getState();if(!K||Y===void 0||q===void 0)return this;let Z;if($)Z=this._getNewRotation($,K,q,Y);else Z={bearing:Y+Q,pitch:q+J};return this._getUpdatedState(Z)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:$}){return this._getUpdatedState({startZoomLngLat:this._unproject($),startZoom:this.getViewportProps().zoom})}zoom({pos:$,startPos:Q,scale:J}){let{startZoom:K,startZoomLngLat:Y}=this.getState();if(!Y)K=this.getViewportProps().zoom,Y=this._unproject(Q)||this._unproject($);if(!Y)return this;let{maxZoom:q,minZoom:Z}=this.getViewportProps(),X=K+Math.log2(J);X=f3(X,Z,q);let W=this.makeViewport({...this.getViewportProps(),zoom:X});return this._getUpdatedState({zoom:X,...W.panByPosition(Y,$)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn($=2){return this._zoomFromCenter($)}zoomOut($=2){return this._zoomFromCenter(1/$)}moveLeft($=100){return this._panFromCenter([$,0])}moveRight($=100){return this._panFromCenter([-$,0])}moveUp($=100){return this._panFromCenter([0,$])}moveDown($=100){return this._panFromCenter([0,-$])}rotateLeft($=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-$})}rotateRight($=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+$})}rotateUp($=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+$})}rotateDown($=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-$})}shortestPathFrom($){let Q=$.getViewportProps(),J={...this.getViewportProps()},{bearing:K,longitude:Y}=J;if(Math.abs(K-Q.bearing)>180)J.bearing=K<0?K+360:K-360;if(Math.abs(Y-Q.longitude)>180)J.longitude=Y<0?Y+360:Y-360;return J}applyConstraints($){let{maxZoom:Q,minZoom:J,zoom:K}=$;$.zoom=f3(K,J,Q);let{maxPitch:Y,minPitch:q,pitch:Z}=$;$.pitch=f3(Z,q,Y);let{normalize:X=!0}=$;if(X)Object.assign($,Rm($));return $}_zoomFromCenter($){let{width:Q,height:J}=this.getViewportProps();return this.zoom({pos:[Q/2,J/2],scale:$})}_panFromCenter($){let{width:Q,height:J}=this.getViewportProps();return this.pan({startPos:[Q/2,J/2],pos:[Q/2+$[0],J/2+$[1]]})}_getUpdatedState($){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...$})}_unproject($){let Q=this.makeViewport(this.getViewportProps());return $&&Q.unproject($)}_getNewRotation($,Q,J,K){let Y=$[0]-Q[0],q=$[1]-Q[1],Z=$[1],X=Q[1],{width:W,height:F}=this.getViewportProps(),H=Y/W,B=0;if(q>0){if(Math.abs(F-X)>rH0)B=q/(X-F)*v71}else if(q<0){if(X>rH0)B=1-Z/X}B=f3(B,-1,1);let{minPitch:z,maxPitch:A}=this.getViewportProps(),R=K+180*H,G=J;if(B>0)G=J+B*(A-J);else if(B<0)G=J-B*(z-J);return{pitch:G,bearing:R}}}class zk extends Nk{constructor(){super(...arguments);this.ControllerState=iH0,this.transition={transitionDuration:300,transitionInterpolator:new xH({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})},this.dragMode="pan"}setProps($){$.position=$.position||[0,0,0];let Q=this.props;if(super.setProps($),!Q||Q.height!==$.height)this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...$,...this.state}))}}class Em extends y3{constructor($={}){super($)}getViewportType(){return tP}get ControllerType(){return zk}}Em.displayName="MapView";var sH0=Em;var S71=new rV;function _71($,Q){let J=$.order??1/0,K=Q.order??1/0;return J-K}class Ak{constructor($){this._resolvedEffects=[],this._defaultEffects=[],this.effects=[],this._context=$,this._needsRedraw="Initial render",this._setEffects([])}addDefaultEffect($){let Q=this._defaultEffects;if(!Q.find((J)=>J.id===$.id)){let J=Q.findIndex((K)=>_71(K,$)>0);if(J<0)Q.push($);else Q.splice(J,0,$);$.setup(this._context),this._setEffects(this.effects)}}setProps($){if("effects"in $){if(!G8($.effects,this.effects,1))this._setEffects($.effects)}}needsRedraw($={clearRedrawFlags:!1}){let Q=this._needsRedraw;if($.clearRedrawFlags)this._needsRedraw=!1;return Q}getEffects(){return this._resolvedEffects}_setEffects($){let Q={};for(let K of this.effects)Q[K.id]=K;let J=[];for(let K of $){let Y=Q[K.id],q=K;if(Y&&Y!==K)if(Y.setProps)Y.setProps(K.props),q=Y;else Y.cleanup(this._context);else if(!Y)K.setup(this._context);J.push(q),delete Q[K.id]}for(let K in Q)Q[K].cleanup(this._context);if(this.effects=J,this._resolvedEffects=J.concat(this._defaultEffects),!$.some((K)=>K instanceof rV))this._resolvedEffects.push(S71);this._needsRedraw="effects changed"}finalize(){for(let $ of this._resolvedEffects)$.cleanup(this._context);this.effects.length=0,this._resolvedEffects.length=0,this._defaultEffects.length=0}}class Vk extends $Z{shouldDrawLayer($){let{operation:Q}=$.props;return Q.includes("draw")||Q.includes("terrain")}}var f71="deckRenderer.renderLayers";class Rk{constructor($){this.device=$,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new Vk($),this.pickLayersPass=new gH($),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps($){if(this.layerFilter!==$.layerFilter)this.layerFilter=$.layerFilter,this._needsRedraw="layerFilter changed";if(this.drawPickingColors!==$.drawPickingColors)this.drawPickingColors=$.drawPickingColors,this._needsRedraw="drawPickingColors changed"}renderLayers($){if(!$.viewports.length)return;let Q=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass,J={layerFilter:this.layerFilter,isPicking:this.drawPickingColors,...$};if(J.effects)this._preRender(J.effects,J);let K=this.lastPostProcessEffect?this.renderBuffers[0]:J.target;if(this.lastPostProcessEffect)J.clearColor=[0,0,0,0],J.clearCanvas=!0;let Y=Q.render({...J,target:K});if(J.effects)this._postRender(J.effects,J);this.renderCount++,Z7(f71,this,Y,$)}needsRedraw($={clearRedrawFlags:!1}){let Q=this._needsRedraw;if($.clearRedrawFlags)this._needsRedraw=!1;return Q}finalize(){let{renderBuffers:$}=this;for(let Q of $)Q.delete();$.length=0}_preRender($,Q){this.lastPostProcessEffect=null,Q.preRenderStats=Q.preRenderStats||{};for(let J of $)if(Q.preRenderStats[J.id]=J.preRender(Q),J.postRender)this.lastPostProcessEffect=J.id;if(this.lastPostProcessEffect)this._resizeRenderBuffers()}_resizeRenderBuffers(){let{renderBuffers:$}=this,Q=this.device.canvasContext.getDrawingBufferSize();if($.length===0)[0,1].map((J)=>{let K=this.device.createTexture({sampler:{minFilter:"linear",magFilter:"linear"}});$.push(this.device.createFramebuffer({id:`deck-renderbuffer-${J}`,colorAttachments:[K]}))});for(let J of $)J.resize(Q)}_postRender($,Q){let{renderBuffers:J}=this,K={...Q,inputBuffer:J[0],swapBuffer:J[1]};for(let Y of $)if(Y.postRender){K.target=Y.id===this.lastPostProcessEffect?Q.target:void 0;let q=Y.postRender(K);K.inputBuffer=q,K.swapBuffer=q===J[0]?J[1]:J[0]}}}var I71={pickedColor:null,pickedObjectIndex:-1};function oH0({pickedColors:$,decodePickingColor:Q,deviceX:J,deviceY:K,deviceRadius:Y,deviceRect:q}){let{x:Z,y:X,width:W,height:F}=q,H=Y*Y,B=-1,z=0;for(let A=0;A<F;A++){let R=A+X-K,G=R*R;if(G>H)z+=4*W;else for(let w=0;w<W;w++){if($[z+3]-1>=0){let D=w+Z-J,P=D*D+G;if(P<=H)H=P,B=z}z+=4}}if(B>=0){let A=$.slice(B,B+4),R=Q(A);if(R){let G=Math.floor(B/4/W),w=B/4-G*W;return{...R,pickedColor:A,pickedX:Z+w,pickedY:X+G}}E1.error("Picked non-existent layer. Is picking buffer corrupt?")()}return I71}function aH0({pickedColors:$,decodePickingColor:Q}){let J=new Map;if($){for(let K=0;K<$.length;K+=4)if($[K+3]-1>=0){let q=$.slice(K,K+4),Z=q.join(",");if(!J.has(Z)){let X=Q(q);if(X)J.set(Z,{...X,color:q});else E1.error("Picked non-existent layer. Is picking buffer corrupt?")()}}}return Array.from(J.values())}function Lm({pickInfo:$,viewports:Q,pixelRatio:J,x:K,y:Y,z:q}){let Z=Q[0];if(Q.length>1)Z=M71($?.pickedViewports||Q,{x:K,y:Y});let X;if(Z){let W=[K-Z.x,Y-Z.y];if(q!==void 0)W[2]=q;X=Z.unproject(W)}return{color:null,layer:null,viewport:Z,index:-1,picked:!1,x:K,y:Y,pixel:[K,Y],coordinate:X,devicePixel:$&&"pickedX"in $?[$.pickedX,$.pickedY]:void 0,pixelRatio:J}}function tH0($){let{pickInfo:Q,lastPickedInfo:J,mode:K,layers:Y}=$,{pickedColor:q,pickedLayer:Z,pickedObjectIndex:X}=Q,W=Z?[Z]:[];if(K==="hover"){let{index:B,layerId:z}=J,A=Z?Z.props.id:null;if(A!==z||X!==B){if(A!==z){let R=Y.find((G)=>G.props.id===z);if(R)W.unshift(R)}J.layerId=A,J.index=X,J.info=null}}let F=Lm($),H=new Map;return H.set(null,F),W.forEach((B)=>{let z={...F};if(B===Z)z.color=q,z.index=X,z.picked=!0;z=hm({layer:B,info:z,mode:K});let A=z.layer;if(B===Z&&K==="hover")J.info=z;if(H.set(A.id,z),K==="hover")A.updateAutoHighlight(z)}),H}function hm({layer:$,info:Q,mode:J}){while($&&Q){let K=Q.layer||null;Q.sourceLayer=K,Q.layer=$,Q=$.getPickingInfo({info:Q,mode:J,sourceLayer:K}),$=$.parent}return Q}function M71($,Q){for(let J=$.length-1;J>=0;J--){let K=$[J];if(K.containsPixel(Q))return K}return $[0]}class Gk{constructor($){this._pickable=!0,this.device=$,this.pickLayersPass=new gH($),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps($){if("layerFilter"in $)this.layerFilter=$.layerFilter;if("_pickable"in $)this._pickable=$._pickable}finalize(){if(this.pickingFBO)this.pickingFBO.destroy();if(this.depthFBO)this.depthFBO.destroy()}pickObject($){return this._pickClosestObject($)}pickObjects($){return this._pickVisibleObjects($)}getLastPickedObject({x:$,y:Q,layers:J,viewports:K},Y=this.lastPickedInfo.info){let q=Y&&Y.layer&&Y.layer.id,Z=Y&&Y.viewport&&Y.viewport.id,X=q?J.find((B)=>B.id===q):null,W=Z&&K.find((B)=>B.id===Z)||K[0],F=W&&W.unproject([$-W.x,Q-W.y]);return{...Y,...{x:$,y:Q,viewport:W,coordinate:F,layer:X}}}_resizeBuffer(){if(!this.pickingFBO){if(this.pickingFBO=this.device.createFramebuffer({colorAttachments:["rgba8unorm"],depthStencilAttachment:"depth16unorm"}),this.device.isTextureFormatRenderable("rgba32float")){let Q=this.device.createFramebuffer({colorAttachments:["rgba32float"],depthStencilAttachment:"depth16unorm"});this.depthFBO=Q}}let{canvas:$}=this.device.getDefaultCanvasContext();this.pickingFBO?.resize({width:$.width,height:$.height}),this.depthFBO?.resize({width:$.width,height:$.height})}_getPickable($){if(this._pickable===!1)return null;let Q=$.filter((J)=>this.pickLayersPass.shouldDrawLayer(J)&&!J.isComposite);return Q.length?Q:null}_pickClosestObject({layers:$,views:Q,viewports:J,x:K,y:Y,radius:q=0,depth:Z=1,mode:X="query",unproject3D:W,onViewportActive:F,effects:H}){let B=this.device.canvasContext.cssToDeviceRatio(),z=this._getPickable($);if(!z||J.length===0)return{result:[],emptyInfo:Lm({viewports:J,x:K,y:Y,pixelRatio:B})};this._resizeBuffer();let A=this.device.canvasContext.cssToDevicePixels([K,Y],!0),R=[A.x+Math.floor(A.width/2),A.y+Math.floor(A.height/2)],G=Math.round(q*B),{width:w,height:T}=this.pickingFBO,D=this._getPickingRect({deviceX:R[0],deviceY:R[1],deviceRadius:G,deviceWidth:w,deviceHeight:T}),P={x:K-q,y:Y-q,width:q*2+1,height:q*2+1},j,E=[],L=new Set;for(let h=0;h<Z;h++){let _;if(D){let I=this._drawAndSample({layers:z,views:Q,viewports:J,onViewportActive:F,deviceRect:D,cullRect:P,effects:H,pass:`picking:${X}`});_=oH0({...I,deviceX:R[0],deviceY:R[1],deviceRadius:G,deviceRect:D})}else _={pickedColor:null,pickedObjectIndex:-1};let S;if(_.pickedLayer&&W&&this.depthFBO){let{pickedColors:I}=this._drawAndSample({layers:[_.pickedLayer],views:Q,viewports:J,onViewportActive:F,deviceRect:{x:_.pickedX,y:_.pickedY,width:1,height:1},cullRect:P,effects:H,pass:`picking:${X}:z`},!0);if(I[3])S=I[0]}if(_.pickedLayer&&h+1<Z)L.add(_.pickedLayer),_.pickedLayer.disablePickingIndex(_.pickedObjectIndex);j=tH0({pickInfo:_,lastPickedInfo:this.lastPickedInfo,mode:X,layers:z,viewports:J,x:K,y:Y,z:S,pixelRatio:B});for(let I of j.values())if(I.layer)E.push(I);if(!_.pickedColor)break}for(let h of L)h.restorePickingColors();return{result:E,emptyInfo:j.get(null)}}_pickVisibleObjects({layers:$,views:Q,viewports:J,x:K,y:Y,width:q=1,height:Z=1,mode:X="query",maxObjects:W=null,onViewportActive:F,effects:H}){let B=this._getPickable($);if(!B||J.length===0)return[];this._resizeBuffer();let z=this.device.canvasContext.cssToDeviceRatio(),A=this.device.canvasContext.cssToDevicePixels([K,Y],!0),R=A.x,G=A.y+A.height,w=this.device.canvasContext.cssToDevicePixels([K+q,Y+Z],!0),T=w.x+w.width,D=w.y,P={x:R,y:D,width:T-R,height:G-D},j=this._drawAndSample({layers:B,views:Q,viewports:J,onViewportActive:F,deviceRect:P,cullRect:{x:K,y:Y,width:q,height:Z},effects:H,pass:`picking:${X}`}),E=aH0(j),L=new Map,h=[],_=Number.isFinite(W);for(let S=0;S<E.length;S++){if(_&&h.length>=W)break;let I=E[S],M={color:I.pickedColor,layer:null,index:I.pickedObjectIndex,picked:!0,x:K,y:Y,pixelRatio:z};M=hm({layer:I.pickedLayer,info:M,mode:X});let y=M.layer.id;if(!L.has(y))L.set(y,new Set);let b=L.get(y),u=M.object??M.index;if(!b.has(u))b.add(u),h.push(M)}return h}_drawAndSample({layers:$,views:Q,viewports:J,onViewportActive:K,deviceRect:Y,cullRect:q,effects:Z,pass:X},W=!1){let F=W?this.depthFBO:this.pickingFBO,H={layers:$,layerFilter:this.layerFilter,views:Q,viewports:J,onViewportActive:K,pickingFBO:F,deviceRect:Y,cullRect:q,effects:Z,pass:X,pickZ:W,preRenderStats:{},isPicking:!0};for(let T of Z)if(T.useInPicking)H.preRenderStats[T.id]=T.preRender(H);let{decodePickingColor:B}=this.pickLayersPass.render(H),{x:z,y:A,width:R,height:G}=Y,w=new(W?Float32Array:Uint8Array)(R*G*4);return this.device.readPixelsToArrayWebGL(F,{sourceX:z,sourceY:A,sourceWidth:R,sourceHeight:G,target:w}),{pickedColors:w,decodePickingColor:B}}_getPickingRect({deviceX:$,deviceY:Q,deviceRadius:J,deviceWidth:K,deviceHeight:Y}){let q=Math.max(0,$-J),Z=Math.max(0,Q-J),X=Math.min(K,$+J+1)-q,W=Math.min(Y,Q+J+1)-Z;if(X<=0||W<=0)return null;return{x:q,y:Z,width:X,height:W}}}var b71={"top-left":{top:0,left:0},"top-right":{top:0,right:0},"bottom-left":{bottom:0,left:0},"bottom-right":{bottom:0,right:0},fill:{top:0,left:0,bottom:0,right:0}},g71="top-left",eH0="__root";class vm{constructor({deck:$,parentElement:Q}){this.defaultWidgets=[],this.widgets=[],this.resolvedWidgets=[],this.containers={},this.lastViewports={},this.deck=$,this.parentElement=Q}getWidgets(){return this.resolvedWidgets}setProps($){if($.widgets&&!G8($.widgets,this.widgets,1))this._setWidgets($.widgets)}finalize(){for(let $ of this.getWidgets())this._remove($);this.defaultWidgets.length=0,this.resolvedWidgets.length=0;for(let $ in this.containers)this.containers[$].remove()}addDefault($){if(!this.defaultWidgets.find((Q)=>Q.id===$.id))this._add($),this.defaultWidgets.push($),this._setWidgets(this.widgets)}_setWidgets($){let Q={};for(let J of this.resolvedWidgets)Q[J.id]=J;this.resolvedWidgets.length=0;for(let J of this.defaultWidgets)Q[J.id]=null,this.resolvedWidgets.push(J);for(let J of $){let K=Q[J.id];if(!K)this._add(J);else if(K.viewId!==J.viewId||K.placement!==J.placement)this._remove(K),this._add(J);else if(J!==K)K.setProps(J.props),J=K;Q[J.id]=null,this.resolvedWidgets.push(J)}for(let J in Q){let K=Q[J];if(K)this._remove(K)}this.widgets=$}_add($){let{viewId:Q=null,placement:J=g71}=$,K=$.onAdd({deck:this.deck,viewId:Q});if(K)this._getContainer(Q,J).append(K);$._element=K}_remove($){if($.onRemove?.(),$._element)$._element.remove();$._element=void 0}_getContainer($,Q){let J=$||eH0,K=this.containers[J];if(!K)K=document.createElement("div"),K.style.pointerEvents="none",K.style.position="absolute",K.style.overflow="hidden",this.parentElement?.append(K),this.containers[J]=K;let Y=K.querySelector(`.${Q}`);if(!Y)Y=document.createElement("div"),Y.className=Q,Y.style.position="absolute",Y.style.zIndex="2",Object.assign(Y.style,b71[Q]),K.append(Y);return Y}_updateContainers(){let $=this.deck.width,Q=this.deck.height;for(let J in this.containers){let K=this.lastViewports[J]||null,Y=J===eH0||K,q=this.containers[J];if(Y)q.style.display="block",q.style.left=`${K?K.x:0}px`,q.style.top=`${K?K.y:0}px`,q.style.width=`${K?K.width:$}px`,q.style.height=`${K?K.height:Q}px`;else q.style.display="none"}}onRedraw({viewports:$,layers:Q}){let J=$.reduce((K,Y)=>{return K[Y.id]=Y,K},{});for(let K of this.getWidgets()){let{viewId:Y}=K;if(Y){let q=J[Y];if(q){if(K.onViewportChange)K.onViewportChange(q);K.onRedraw?.({viewports:[q],layers:Q})}}else{if(K.onViewportChange)for(let q of $)K.onViewportChange(q);K.onRedraw?.({viewports:$,layers:Q})}}this.lastViewports=J,this._updateContainers()}onHover($,Q){for(let J of this.getWidgets()){let{viewId:K}=J;if(!K||K===$.viewport?.id)J.onHover?.($,Q)}}onEvent($,Q){let J=mV[Q.type];if(!J)return;for(let K of this.getWidgets()){let{viewId:Y}=K;if(!Y||Y===$.viewport?.id)K[J]?.($,Q)}}}var y71={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class wk{constructor(){this.id="default-tooltip",this.placement="fill",this.props={},this.isVisible=!1}onAdd({deck:$}){let Q=document.createElement("div");return Q.className="deck-tooltip",Object.assign(Q.style,y71),this.deck=$,this.element=Q,Q}onRemove(){this.deck=void 0,this.element=void 0}setProps(){}onViewportChange($){if(this.isVisible&&$.id===this.lastViewport?.id&&$!==this.lastViewport)this.setTooltip(null)}onHover($){let{deck:Q}=this,J=Q&&Q.props.getTooltip;if(!J)return;let K=J($);this.lastViewport=$.viewport,this.setTooltip(K,$.x,$.y)}setTooltip($,Q,J){let K=this.element;if(!K)return;if(typeof $==="string")K.innerText=$;else if(!$){this.isVisible=!1,K.style.display="none";return}else{if($.text)K.innerText=$.text;if($.html)K.innerHTML=$.html;if($.className)K.className=$.className}if(this.isVisible=!0,K.style.display="block",K.style.transform=`translate(${Q}px, ${J}px)`,$&&typeof $==="object"&&"style"in $)Object.assign(K.style,$.style)}}var KZ;(function($){$[$.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",$[$.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",$[$.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",$[$.POINTS=0]="POINTS",$[$.LINES=1]="LINES",$[$.LINE_LOOP=2]="LINE_LOOP",$[$.LINE_STRIP=3]="LINE_STRIP",$[$.TRIANGLES=4]="TRIANGLES",$[$.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",$[$.TRIANGLE_FAN=6]="TRIANGLE_FAN",$[$.ZERO=0]="ZERO",$[$.ONE=1]="ONE",$[$.SRC_COLOR=768]="SRC_COLOR",$[$.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",$[$.SRC_ALPHA=770]="SRC_ALPHA",$[$.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",$[$.DST_ALPHA=772]="DST_ALPHA",$[$.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",$[$.DST_COLOR=774]="DST_COLOR",$[$.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",$[$.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",$[$.CONSTANT_COLOR=32769]="CONSTANT_COLOR",$[$.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",$[$.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",$[$.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",$[$.FUNC_ADD=32774]="FUNC_ADD",$[$.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",$[$.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",$[$.BLEND_EQUATION=32777]="BLEND_EQUATION",$[$.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",$[$.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",$[$.BLEND_DST_RGB=32968]="BLEND_DST_RGB",$[$.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",$[$.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",$[$.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",$[$.BLEND_COLOR=32773]="BLEND_COLOR",$[$.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",$[$.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",$[$.LINE_WIDTH=2849]="LINE_WIDTH",$[$.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",$[$.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",$[$.CULL_FACE_MODE=2885]="CULL_FACE_MODE",$[$.FRONT_FACE=2886]="FRONT_FACE",$[$.DEPTH_RANGE=2928]="DEPTH_RANGE",$[$.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",$[$.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",$[$.DEPTH_FUNC=2932]="DEPTH_FUNC",$[$.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",$[$.STENCIL_FUNC=2962]="STENCIL_FUNC",$[$.STENCIL_FAIL=2964]="STENCIL_FAIL",$[$.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",$[$.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",$[$.STENCIL_REF=2967]="STENCIL_REF",$[$.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",$[$.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",$[$.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",$[$.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",$[$.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",$[$.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",$[$.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",$[$.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",$[$.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",$[$.VIEWPORT=2978]="VIEWPORT",$[$.SCISSOR_BOX=3088]="SCISSOR_BOX",$[$.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",$[$.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",$[$.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",$[$.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",$[$.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",$[$.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",$[$.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",$[$.RED_BITS=3410]="RED_BITS",$[$.GREEN_BITS=3411]="GREEN_BITS",$[$.BLUE_BITS=3412]="BLUE_BITS",$[$.ALPHA_BITS=3413]="ALPHA_BITS",$[$.DEPTH_BITS=3414]="DEPTH_BITS",$[$.STENCIL_BITS=3415]="STENCIL_BITS",$[$.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",$[$.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",$[$.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",$[$.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",$[$.SAMPLES=32937]="SAMPLES",$[$.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",$[$.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",$[$.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",$[$.VENDOR=7936]="VENDOR",$[$.RENDERER=7937]="RENDERER",$[$.VERSION=7938]="VERSION",$[$.IMPLEMENTATION_COLOR_READ_TYPE=35738]="IMPLEMENTATION_COLOR_READ_TYPE",$[$.IMPLEMENTATION_COLOR_READ_FORMAT=35739]="IMPLEMENTATION_COLOR_READ_FORMAT",$[$.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",$[$.STATIC_DRAW=35044]="STATIC_DRAW",$[$.STREAM_DRAW=35040]="STREAM_DRAW",$[$.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",$[$.ARRAY_BUFFER=34962]="ARRAY_BUFFER",$[$.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",$[$.BUFFER_SIZE=34660]="BUFFER_SIZE",$[$.BUFFER_USAGE=34661]="BUFFER_USAGE",$[$.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",$[$.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",$[$.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",$[$.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",$[$.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",$[$.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",$[$.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",$[$.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",$[$.CULL_FACE=2884]="CULL_FACE",$[$.FRONT=1028]="FRONT",$[$.BACK=1029]="BACK",$[$.FRONT_AND_BACK=1032]="FRONT_AND_BACK",$[$.BLEND=3042]="BLEND",$[$.DEPTH_TEST=2929]="DEPTH_TEST",$[$.DITHER=3024]="DITHER",$[$.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",$[$.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",$[$.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",$[$.SCISSOR_TEST=3089]="SCISSOR_TEST",$[$.STENCIL_TEST=2960]="STENCIL_TEST",$[$.NO_ERROR=0]="NO_ERROR",$[$.INVALID_ENUM=1280]="INVALID_ENUM",$[$.INVALID_VALUE=1281]="INVALID_VALUE",$[$.INVALID_OPERATION=1282]="INVALID_OPERATION",$[$.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",$[$.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",$[$.CW=2304]="CW",$[$.CCW=2305]="CCW",$[$.DONT_CARE=4352]="DONT_CARE",$[$.FASTEST=4353]="FASTEST",$[$.NICEST=4354]="NICEST",$[$.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",$[$.BYTE=5120]="BYTE",$[$.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",$[$.SHORT=5122]="SHORT",$[$.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",$[$.INT=5124]="INT",$[$.UNSIGNED_INT=5125]="UNSIGNED_INT",$[$.FLOAT=5126]="FLOAT",$[$.DOUBLE=5130]="DOUBLE",$[$.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",$[$.ALPHA=6406]="ALPHA",$[$.RGB=6407]="RGB",$[$.RGBA=6408]="RGBA",$[$.LUMINANCE=6409]="LUMINANCE",$[$.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",$[$.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",$[$.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",$[$.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",$[$.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",$[$.VERTEX_SHADER=35633]="VERTEX_SHADER",$[$.COMPILE_STATUS=35713]="COMPILE_STATUS",$[$.DELETE_STATUS=35712]="DELETE_STATUS",$[$.LINK_STATUS=35714]="LINK_STATUS",$[$.VALIDATE_STATUS=35715]="VALIDATE_STATUS",$[$.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",$[$.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",$[$.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",$[$.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",$[$.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",$[$.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",$[$.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",$[$.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",$[$.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",$[$.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",$[$.SHADER_TYPE=35663]="SHADER_TYPE",$[$.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",$[$.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",$[$.NEVER=512]="NEVER",$[$.LESS=513]="LESS",$[$.EQUAL=514]="EQUAL",$[$.LEQUAL=515]="LEQUAL",$[$.GREATER=516]="GREATER",$[$.NOTEQUAL=517]="NOTEQUAL",$[$.GEQUAL=518]="GEQUAL",$[$.ALWAYS=519]="ALWAYS",$[$.KEEP=7680]="KEEP",$[$.REPLACE=7681]="REPLACE",$[$.INCR=7682]="INCR",$[$.DECR=7683]="DECR",$[$.INVERT=5386]="INVERT",$[$.INCR_WRAP=34055]="INCR_WRAP",$[$.DECR_WRAP=34056]="DECR_WRAP",$[$.NEAREST=9728]="NEAREST",$[$.LINEAR=9729]="LINEAR",$[$.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",$[$.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",$[$.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",$[$.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",$[$.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",$[$.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",$[$.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",$[$.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",$[$.TEXTURE_2D=3553]="TEXTURE_2D",$[$.TEXTURE=5890]="TEXTURE",$[$.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",$[$.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",$[$.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",$[$.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",$[$.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",$[$.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",$[$.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",$[$.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",$[$.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",$[$.TEXTURE0=33984]="TEXTURE0",$[$.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",$[$.REPEAT=10497]="REPEAT",$[$.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",$[$.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",$[$.TEXTURE_WIDTH=4096]="TEXTURE_WIDTH",$[$.TEXTURE_HEIGHT=4097]="TEXTURE_HEIGHT",$[$.FLOAT_VEC2=35664]="FLOAT_VEC2",$[$.FLOAT_VEC3=35665]="FLOAT_VEC3",$[$.FLOAT_VEC4=35666]="FLOAT_VEC4",$[$.INT_VEC2=35667]="INT_VEC2",$[$.INT_VEC3=35668]="INT_VEC3",$[$.INT_VEC4=35669]="INT_VEC4",$[$.BOOL=35670]="BOOL",$[$.BOOL_VEC2=35671]="BOOL_VEC2",$[$.BOOL_VEC3=35672]="BOOL_VEC3",$[$.BOOL_VEC4=35673]="BOOL_VEC4",$[$.FLOAT_MAT2=35674]="FLOAT_MAT2",$[$.FLOAT_MAT3=35675]="FLOAT_MAT3",$[$.FLOAT_MAT4=35676]="FLOAT_MAT4",$[$.SAMPLER_2D=35678]="SAMPLER_2D",$[$.SAMPLER_CUBE=35680]="SAMPLER_CUBE",$[$.LOW_FLOAT=36336]="LOW_FLOAT",$[$.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",$[$.HIGH_FLOAT=36338]="HIGH_FLOAT",$[$.LOW_INT=36339]="LOW_INT",$[$.MEDIUM_INT=36340]="MEDIUM_INT",$[$.HIGH_INT=36341]="HIGH_INT",$[$.FRAMEBUFFER=36160]="FRAMEBUFFER",$[$.RENDERBUFFER=36161]="RENDERBUFFER",$[$.RGBA4=32854]="RGBA4",$[$.RGB5_A1=32855]="RGB5_A1",$[$.RGB565=36194]="RGB565",$[$.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",$[$.STENCIL_INDEX=6401]="STENCIL_INDEX",$[$.STENCIL_INDEX8=36168]="STENCIL_INDEX8",$[$.DEPTH_STENCIL=34041]="DEPTH_STENCIL",$[$.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",$[$.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",$[$.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",$[$.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",$[$.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",$[$.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",$[$.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",$[$.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",$[$.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",$[$.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",$[$.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",$[$.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",$[$.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",$[$.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",$[$.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",$[$.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",$[$.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",$[$.NONE=0]="NONE",$[$.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",$[$.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",$[$.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",$[$.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",$[$.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",$[$.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",$[$.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",$[$.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",$[$.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER",$[$.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",$[$.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",$[$.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",$[$.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",$[$.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",$[$.READ_BUFFER=3074]="READ_BUFFER",$[$.UNPACK_ROW_LENGTH=3314]="UNPACK_ROW_LENGTH",$[$.UNPACK_SKIP_ROWS=3315]="UNPACK_SKIP_ROWS",$[$.UNPACK_SKIP_PIXELS=3316]="UNPACK_SKIP_PIXELS",$[$.PACK_ROW_LENGTH=3330]="PACK_ROW_LENGTH",$[$.PACK_SKIP_ROWS=3331]="PACK_SKIP_ROWS",$[$.PACK_SKIP_PIXELS=3332]="PACK_SKIP_PIXELS",$[$.TEXTURE_BINDING_3D=32874]="TEXTURE_BINDING_3D",$[$.UNPACK_SKIP_IMAGES=32877]="UNPACK_SKIP_IMAGES",$[$.UNPACK_IMAGE_HEIGHT=32878]="UNPACK_IMAGE_HEIGHT",$[$.MAX_3D_TEXTURE_SIZE=32883]="MAX_3D_TEXTURE_SIZE",$[$.MAX_ELEMENTS_VERTICES=33000]="MAX_ELEMENTS_VERTICES",$[$.MAX_ELEMENTS_INDICES=33001]="MAX_ELEMENTS_INDICES",$[$.MAX_TEXTURE_LOD_BIAS=34045]="MAX_TEXTURE_LOD_BIAS",$[$.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657]="MAX_FRAGMENT_UNIFORM_COMPONENTS",$[$.MAX_VERTEX_UNIFORM_COMPONENTS=35658]="MAX_VERTEX_UNIFORM_COMPONENTS",$[$.MAX_ARRAY_TEXTURE_LAYERS=35071]="MAX_ARRAY_TEXTURE_LAYERS",$[$.MIN_PROGRAM_TEXEL_OFFSET=35076]="MIN_PROGRAM_TEXEL_OFFSET",$[$.MAX_PROGRAM_TEXEL_OFFSET=35077]="MAX_PROGRAM_TEXEL_OFFSET",$[$.MAX_VARYING_COMPONENTS=35659]="MAX_VARYING_COMPONENTS",$[$.FRAGMENT_SHADER_DERIVATIVE_HINT=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT",$[$.RASTERIZER_DISCARD=35977]="RASTERIZER_DISCARD",$[$.VERTEX_ARRAY_BINDING=34229]="VERTEX_ARRAY_BINDING",$[$.MAX_VERTEX_OUTPUT_COMPONENTS=37154]="MAX_VERTEX_OUTPUT_COMPONENTS",$[$.MAX_FRAGMENT_INPUT_COMPONENTS=37157]="MAX_FRAGMENT_INPUT_COMPONENTS",$[$.MAX_SERVER_WAIT_TIMEOUT=37137]="MAX_SERVER_WAIT_TIMEOUT",$[$.MAX_ELEMENT_INDEX=36203]="MAX_ELEMENT_INDEX",$[$.RED=6403]="RED",$[$.RGB8=32849]="RGB8",$[$.RGBA8=32856]="RGBA8",$[$.RGB10_A2=32857]="RGB10_A2",$[$.TEXTURE_3D=32879]="TEXTURE_3D",$[$.TEXTURE_WRAP_R=32882]="TEXTURE_WRAP_R",$[$.TEXTURE_MIN_LOD=33082]="TEXTURE_MIN_LOD",$[$.TEXTURE_MAX_LOD=33083]="TEXTURE_MAX_LOD",$[$.TEXTURE_BASE_LEVEL=33084]="TEXTURE_BASE_LEVEL",$[$.TEXTURE_MAX_LEVEL=33085]="TEXTURE_MAX_LEVEL",$[$.TEXTURE_COMPARE_MODE=34892]="TEXTURE_COMPARE_MODE",$[$.TEXTURE_COMPARE_FUNC=34893]="TEXTURE_COMPARE_FUNC",$[$.SRGB=35904]="SRGB",$[$.SRGB8=35905]="SRGB8",$[$.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",$[$.COMPARE_REF_TO_TEXTURE=34894]="COMPARE_REF_TO_TEXTURE",$[$.RGBA32F=34836]="RGBA32F",$[$.RGB32F=34837]="RGB32F",$[$.RGBA16F=34842]="RGBA16F",$[$.RGB16F=34843]="RGB16F",$[$.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",$[$.TEXTURE_BINDING_2D_ARRAY=35869]="TEXTURE_BINDING_2D_ARRAY",$[$.R11F_G11F_B10F=35898]="R11F_G11F_B10F",$[$.RGB9_E5=35901]="RGB9_E5",$[$.RGBA32UI=36208]="RGBA32UI",$[$.RGB32UI=36209]="RGB32UI",$[$.RGBA16UI=36214]="RGBA16UI",$[$.RGB16UI=36215]="RGB16UI",$[$.RGBA8UI=36220]="RGBA8UI",$[$.RGB8UI=36221]="RGB8UI",$[$.RGBA32I=36226]="RGBA32I",$[$.RGB32I=36227]="RGB32I",$[$.RGBA16I=36232]="RGBA16I",$[$.RGB16I=36233]="RGB16I",$[$.RGBA8I=36238]="RGBA8I",$[$.RGB8I=36239]="RGB8I",$[$.RED_INTEGER=36244]="RED_INTEGER",$[$.RGB_INTEGER=36248]="RGB_INTEGER",$[$.RGBA_INTEGER=36249]="RGBA_INTEGER",$[$.R8=33321]="R8",$[$.RG8=33323]="RG8",$[$.R16F=33325]="R16F",$[$.R32F=33326]="R32F",$[$.RG16F=33327]="RG16F",$[$.RG32F=33328]="RG32F",$[$.R8I=33329]="R8I",$[$.R8UI=33330]="R8UI",$[$.R16I=33331]="R16I",$[$.R16UI=33332]="R16UI",$[$.R32I=33333]="R32I",$[$.R32UI=33334]="R32UI",$[$.RG8I=33335]="RG8I",$[$.RG8UI=33336]="RG8UI",$[$.RG16I=33337]="RG16I",$[$.RG16UI=33338]="RG16UI",$[$.RG32I=33339]="RG32I",$[$.RG32UI=33340]="RG32UI",$[$.R8_SNORM=36756]="R8_SNORM",$[$.RG8_SNORM=36757]="RG8_SNORM",$[$.RGB8_SNORM=36758]="RGB8_SNORM",$[$.RGBA8_SNORM=36759]="RGBA8_SNORM",$[$.RGB10_A2UI=36975]="RGB10_A2UI",$[$.TEXTURE_IMMUTABLE_FORMAT=37167]="TEXTURE_IMMUTABLE_FORMAT",$[$.TEXTURE_IMMUTABLE_LEVELS=33503]="TEXTURE_IMMUTABLE_LEVELS",$[$.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",$[$.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",$[$.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",$[$.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",$[$.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",$[$.HALF_FLOAT=5131]="HALF_FLOAT",$[$.RG=33319]="RG",$[$.RG_INTEGER=33320]="RG_INTEGER",$[$.INT_2_10_10_10_REV=36255]="INT_2_10_10_10_REV",$[$.CURRENT_QUERY=34917]="CURRENT_QUERY",$[$.QUERY_RESULT=34918]="QUERY_RESULT",$[$.QUERY_RESULT_AVAILABLE=34919]="QUERY_RESULT_AVAILABLE",$[$.ANY_SAMPLES_PASSED=35887]="ANY_SAMPLES_PASSED",$[$.ANY_SAMPLES_PASSED_CONSERVATIVE=36202]="ANY_SAMPLES_PASSED_CONSERVATIVE",$[$.MAX_DRAW_BUFFERS=34852]="MAX_DRAW_BUFFERS",$[$.DRAW_BUFFER0=34853]="DRAW_BUFFER0",$[$.DRAW_BUFFER1=34854]="DRAW_BUFFER1",$[$.DRAW_BUFFER2=34855]="DRAW_BUFFER2",$[$.DRAW_BUFFER3=34856]="DRAW_BUFFER3",$[$.DRAW_BUFFER4=34857]="DRAW_BUFFER4",$[$.DRAW_BUFFER5=34858]="DRAW_BUFFER5",$[$.DRAW_BUFFER6=34859]="DRAW_BUFFER6",$[$.DRAW_BUFFER7=34860]="DRAW_BUFFER7",$[$.DRAW_BUFFER8=34861]="DRAW_BUFFER8",$[$.DRAW_BUFFER9=34862]="DRAW_BUFFER9",$[$.DRAW_BUFFER10=34863]="DRAW_BUFFER10",$[$.DRAW_BUFFER11=34864]="DRAW_BUFFER11",$[$.DRAW_BUFFER12=34865]="DRAW_BUFFER12",$[$.DRAW_BUFFER13=34866]="DRAW_BUFFER13",$[$.DRAW_BUFFER14=34867]="DRAW_BUFFER14",$[$.DRAW_BUFFER15=34868]="DRAW_BUFFER15",$[$.MAX_COLOR_ATTACHMENTS=36063]="MAX_COLOR_ATTACHMENTS",$[$.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",$[$.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",$[$.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",$[$.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",$[$.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",$[$.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",$[$.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",$[$.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",$[$.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",$[$.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",$[$.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",$[$.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",$[$.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",$[$.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",$[$.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15",$[$.SAMPLER_3D=35679]="SAMPLER_3D",$[$.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",$[$.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",$[$.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",$[$.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",$[$.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",$[$.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",$[$.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",$[$.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",$[$.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",$[$.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",$[$.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",$[$.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY",$[$.MAX_SAMPLES=36183]="MAX_SAMPLES",$[$.SAMPLER_BINDING=35097]="SAMPLER_BINDING",$[$.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",$[$.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",$[$.PIXEL_PACK_BUFFER_BINDING=35053]="PIXEL_PACK_BUFFER_BINDING",$[$.PIXEL_UNPACK_BUFFER_BINDING=35055]="PIXEL_UNPACK_BUFFER_BINDING",$[$.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",$[$.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",$[$.COPY_READ_BUFFER_BINDING=36662]="COPY_READ_BUFFER_BINDING",$[$.COPY_WRITE_BUFFER_BINDING=36663]="COPY_WRITE_BUFFER_BINDING",$[$.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",$[$.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",$[$.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",$[$.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",$[$.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",$[$.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",$[$.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",$[$.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",$[$.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",$[$.UNSIGNED_NORMALIZED=35863]="UNSIGNED_NORMALIZED",$[$.SIGNED_NORMALIZED=36764]="SIGNED_NORMALIZED",$[$.VERTEX_ATTRIB_ARRAY_INTEGER=35069]="VERTEX_ATTRIB_ARRAY_INTEGER",$[$.VERTEX_ATTRIB_ARRAY_DIVISOR=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR",$[$.TRANSFORM_FEEDBACK_BUFFER_MODE=35967]="TRANSFORM_FEEDBACK_BUFFER_MODE",$[$.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968]="MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",$[$.TRANSFORM_FEEDBACK_VARYINGS=35971]="TRANSFORM_FEEDBACK_VARYINGS",$[$.TRANSFORM_FEEDBACK_BUFFER_START=35972]="TRANSFORM_FEEDBACK_BUFFER_START",$[$.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973]="TRANSFORM_FEEDBACK_BUFFER_SIZE",$[$.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976]="TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",$[$.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978]="MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",$[$.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979]="MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",$[$.INTERLEAVED_ATTRIBS=35980]="INTERLEAVED_ATTRIBS",$[$.SEPARATE_ATTRIBS=35981]="SEPARATE_ATTRIBS",$[$.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER",$[$.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983]="TRANSFORM_FEEDBACK_BUFFER_BINDING",$[$.TRANSFORM_FEEDBACK=36386]="TRANSFORM_FEEDBACK",$[$.TRANSFORM_FEEDBACK_PAUSED=36387]="TRANSFORM_FEEDBACK_PAUSED",$[$.TRANSFORM_FEEDBACK_ACTIVE=36388]="TRANSFORM_FEEDBACK_ACTIVE",$[$.TRANSFORM_FEEDBACK_BINDING=36389]="TRANSFORM_FEEDBACK_BINDING",$[$.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",$[$.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",$[$.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298]="FRAMEBUFFER_ATTACHMENT_RED_SIZE",$[$.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299]="FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",$[$.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300]="FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",$[$.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301]="FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",$[$.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302]="FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",$[$.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303]="FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",$[$.FRAMEBUFFER_DEFAULT=33304]="FRAMEBUFFER_DEFAULT",$[$.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",$[$.DRAW_FRAMEBUFFER_BINDING=36006]="DRAW_FRAMEBUFFER_BINDING",$[$.READ_FRAMEBUFFER_BINDING=36010]="READ_FRAMEBUFFER_BINDING",$[$.RENDERBUFFER_SAMPLES=36011]="RENDERBUFFER_SAMPLES",$[$.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",$[$.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182]="FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",$[$.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",$[$.UNIFORM_BUFFER_BINDING=35368]="UNIFORM_BUFFER_BINDING",$[$.UNIFORM_BUFFER_START=35369]="UNIFORM_BUFFER_START",$[$.UNIFORM_BUFFER_SIZE=35370]="UNIFORM_BUFFER_SIZE",$[$.MAX_VERTEX_UNIFORM_BLOCKS=35371]="MAX_VERTEX_UNIFORM_BLOCKS",$[$.MAX_FRAGMENT_UNIFORM_BLOCKS=35373]="MAX_FRAGMENT_UNIFORM_BLOCKS",$[$.MAX_COMBINED_UNIFORM_BLOCKS=35374]="MAX_COMBINED_UNIFORM_BLOCKS",$[$.MAX_UNIFORM_BUFFER_BINDINGS=35375]="MAX_UNIFORM_BUFFER_BINDINGS",$[$.MAX_UNIFORM_BLOCK_SIZE=35376]="MAX_UNIFORM_BLOCK_SIZE",$[$.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377]="MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",$[$.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379]="MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",$[$.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380]="UNIFORM_BUFFER_OFFSET_ALIGNMENT",$[$.ACTIVE_UNIFORM_BLOCKS=35382]="ACTIVE_UNIFORM_BLOCKS",$[$.UNIFORM_TYPE=35383]="UNIFORM_TYPE",$[$.UNIFORM_SIZE=35384]="UNIFORM_SIZE",$[$.UNIFORM_BLOCK_INDEX=35386]="UNIFORM_BLOCK_INDEX",$[$.UNIFORM_OFFSET=35387]="UNIFORM_OFFSET",$[$.UNIFORM_ARRAY_STRIDE=35388]="UNIFORM_ARRAY_STRIDE",$[$.UNIFORM_MATRIX_STRIDE=35389]="UNIFORM_MATRIX_STRIDE",$[$.UNIFORM_IS_ROW_MAJOR=35390]="UNIFORM_IS_ROW_MAJOR",$[$.UNIFORM_BLOCK_BINDING=35391]="UNIFORM_BLOCK_BINDING",$[$.UNIFORM_BLOCK_DATA_SIZE=35392]="UNIFORM_BLOCK_DATA_SIZE",$[$.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394]="UNIFORM_BLOCK_ACTIVE_UNIFORMS",$[$.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395]="UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",$[$.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396]="UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",$[$.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398]="UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",$[$.OBJECT_TYPE=37138]="OBJECT_TYPE",$[$.SYNC_CONDITION=37139]="SYNC_CONDITION",$[$.SYNC_STATUS=37140]="SYNC_STATUS",$[$.SYNC_FLAGS=37141]="SYNC_FLAGS",$[$.SYNC_FENCE=37142]="SYNC_FENCE",$[$.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE",$[$.UNSIGNALED=37144]="UNSIGNALED",$[$.SIGNALED=37145]="SIGNALED",$[$.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",$[$.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",$[$.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",$[$.WAIT_FAILED=37149]="WAIT_FAILED",$[$.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT",$[$.COLOR=6144]="COLOR",$[$.DEPTH=6145]="DEPTH",$[$.STENCIL=6146]="STENCIL",$[$.MIN=32775]="MIN",$[$.MAX=32776]="MAX",$[$.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",$[$.STREAM_READ=35041]="STREAM_READ",$[$.STREAM_COPY=35042]="STREAM_COPY",$[$.STATIC_READ=35045]="STATIC_READ",$[$.STATIC_COPY=35046]="STATIC_COPY",$[$.DYNAMIC_READ=35049]="DYNAMIC_READ",$[$.DYNAMIC_COPY=35050]="DYNAMIC_COPY",$[$.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",$[$.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8",$[$.INVALID_INDEX=4294967295]="INVALID_INDEX",$[$.TIMEOUT_IGNORED=-1]="TIMEOUT_IGNORED",$[$.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447]="MAX_CLIENT_WAIT_TIMEOUT_WEBGL",$[$.UNMASKED_VENDOR_WEBGL=37445]="UNMASKED_VENDOR_WEBGL",$[$.UNMASKED_RENDERER_WEBGL=37446]="UNMASKED_RENDERER_WEBGL",$[$.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047]="MAX_TEXTURE_MAX_ANISOTROPY_EXT",$[$.TEXTURE_MAX_ANISOTROPY_EXT=34046]="TEXTURE_MAX_ANISOTROPY_EXT",$[$.R16_EXT=33322]="R16_EXT",$[$.RG16_EXT=33324]="RG16_EXT",$[$.RGB16_EXT=32852]="RGB16_EXT",$[$.RGBA16_EXT=32859]="RGBA16_EXT",$[$.R16_SNORM_EXT=36760]="R16_SNORM_EXT",$[$.RG16_SNORM_EXT=36761]="RG16_SNORM_EXT",$[$.RGB16_SNORM_EXT=36762]="RGB16_SNORM_EXT",$[$.RGBA16_SNORM_EXT=36763]="RGBA16_SNORM_EXT",$[$.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",$[$.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",$[$.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",$[$.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",$[$.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",$[$.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",$[$.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",$[$.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",$[$.COMPRESSED_RED_RGTC1_EXT=36283]="COMPRESSED_RED_RGTC1_EXT",$[$.COMPRESSED_SIGNED_RED_RGTC1_EXT=36284]="COMPRESSED_SIGNED_RED_RGTC1_EXT",$[$.COMPRESSED_RED_GREEN_RGTC2_EXT=36285]="COMPRESSED_RED_GREEN_RGTC2_EXT",$[$.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT=36286]="COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT",$[$.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",$[$.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",$[$.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",$[$.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",$[$.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",$[$.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",$[$.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",$[$.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",$[$.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",$[$.COMPRESSED_RGBA8_ETC2_EAC=37493]="COMPRESSED_RGBA8_ETC2_EAC",$[$.COMPRESSED_SRGB8_ETC2=37494]="COMPRESSED_SRGB8_ETC2",$[$.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37495]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",$[$.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37496]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",$[$.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37497]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",$[$.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",$[$.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",$[$.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",$[$.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",$[$.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",$[$.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",$[$.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",$[$.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",$[$.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",$[$.COMPRESSED_RGBA_ASTC_5x4_KHR=37809]="COMPRESSED_RGBA_ASTC_5x4_KHR",$[$.COMPRESSED_RGBA_ASTC_5x5_KHR=37810]="COMPRESSED_RGBA_ASTC_5x5_KHR",$[$.COMPRESSED_RGBA_ASTC_6x5_KHR=37811]="COMPRESSED_RGBA_ASTC_6x5_KHR",$[$.COMPRESSED_RGBA_ASTC_6x6_KHR=37812]="COMPRESSED_RGBA_ASTC_6x6_KHR",$[$.COMPRESSED_RGBA_ASTC_8x5_KHR=37813]="COMPRESSED_RGBA_ASTC_8x5_KHR",$[$.COMPRESSED_RGBA_ASTC_8x6_KHR=37814]="COMPRESSED_RGBA_ASTC_8x6_KHR",$[$.COMPRESSED_RGBA_ASTC_8x8_KHR=37815]="COMPRESSED_RGBA_ASTC_8x8_KHR",$[$.COMPRESSED_RGBA_ASTC_10x5_KHR=37816]="COMPRESSED_RGBA_ASTC_10x5_KHR",$[$.COMPRESSED_RGBA_ASTC_10x6_KHR=37817]="COMPRESSED_RGBA_ASTC_10x6_KHR",$[$.COMPRESSED_RGBA_ASTC_10x8_KHR=37818]="COMPRESSED_RGBA_ASTC_10x8_KHR",$[$.COMPRESSED_RGBA_ASTC_10x10_KHR=37819]="COMPRESSED_RGBA_ASTC_10x10_KHR",$[$.COMPRESSED_RGBA_ASTC_12x10_KHR=37820]="COMPRESSED_RGBA_ASTC_12x10_KHR",$[$.COMPRESSED_RGBA_ASTC_12x12_KHR=37821]="COMPRESSED_RGBA_ASTC_12x12_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR=37840]="COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR=37841]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR=37842]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR=37843]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR=37844]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR=37845]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR=37846]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR=37847]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR=37848]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR=37849]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR=37850]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR=37851]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR=37852]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR",$[$.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR=37853]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR",$[$.QUERY_COUNTER_BITS_EXT=34916]="QUERY_COUNTER_BITS_EXT",$[$.CURRENT_QUERY_EXT=34917]="CURRENT_QUERY_EXT",$[$.QUERY_RESULT_EXT=34918]="QUERY_RESULT_EXT",$[$.QUERY_RESULT_AVAILABLE_EXT=34919]="QUERY_RESULT_AVAILABLE_EXT",$[$.TIME_ELAPSED_EXT=35007]="TIME_ELAPSED_EXT",$[$.TIMESTAMP_EXT=36392]="TIMESTAMP_EXT",$[$.GPU_DISJOINT_EXT=36795]="GPU_DISJOINT_EXT",$[$.COMPLETION_STATUS_KHR=37297]="COMPLETION_STATUS_KHR",$[$.DEPTH_CLAMP_EXT=34383]="DEPTH_CLAMP_EXT",$[$.FIRST_VERTEX_CONVENTION_WEBGL=36429]="FIRST_VERTEX_CONVENTION_WEBGL",$[$.LAST_VERTEX_CONVENTION_WEBGL=36430]="LAST_VERTEX_CONVENTION_WEBGL",$[$.PROVOKING_VERTEX_WEBL=36431]="PROVOKING_VERTEX_WEBL",$[$.POLYGON_MODE_WEBGL=2880]="POLYGON_MODE_WEBGL",$[$.POLYGON_OFFSET_LINE_WEBGL=10754]="POLYGON_OFFSET_LINE_WEBGL",$[$.LINE_WEBGL=6913]="LINE_WEBGL",$[$.FILL_WEBGL=6914]="FILL_WEBGL",$[$.MAX_CLIP_DISTANCES_WEBGL=3378]="MAX_CLIP_DISTANCES_WEBGL",$[$.MAX_CULL_DISTANCES_WEBGL=33529]="MAX_CULL_DISTANCES_WEBGL",$[$.MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL=33530]="MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL",$[$.CLIP_DISTANCE0_WEBGL=12288]="CLIP_DISTANCE0_WEBGL",$[$.CLIP_DISTANCE1_WEBGL=12289]="CLIP_DISTANCE1_WEBGL",$[$.CLIP_DISTANCE2_WEBGL=12290]="CLIP_DISTANCE2_WEBGL",$[$.CLIP_DISTANCE3_WEBGL=12291]="CLIP_DISTANCE3_WEBGL",$[$.CLIP_DISTANCE4_WEBGL=12292]="CLIP_DISTANCE4_WEBGL",$[$.CLIP_DISTANCE5_WEBGL=12293]="CLIP_DISTANCE5_WEBGL",$[$.CLIP_DISTANCE6_WEBGL=12294]="CLIP_DISTANCE6_WEBGL",$[$.CLIP_DISTANCE7_WEBGL=12295]="CLIP_DISTANCE7_WEBGL",$[$.POLYGON_OFFSET_CLAMP_EXT=36379]="POLYGON_OFFSET_CLAMP_EXT",$[$.LOWER_LEFT_EXT=36001]="LOWER_LEFT_EXT",$[$.UPPER_LEFT_EXT=36002]="UPPER_LEFT_EXT",$[$.NEGATIVE_ONE_TO_ONE_EXT=37726]="NEGATIVE_ONE_TO_ONE_EXT",$[$.ZERO_TO_ONE_EXT=37727]="ZERO_TO_ONE_EXT",$[$.CLIP_ORIGIN_EXT=37724]="CLIP_ORIGIN_EXT",$[$.CLIP_DEPTH_MODE_EXT=37725]="CLIP_DEPTH_MODE_EXT",$[$.SRC1_COLOR_WEBGL=35065]="SRC1_COLOR_WEBGL",$[$.SRC1_ALPHA_WEBGL=34185]="SRC1_ALPHA_WEBGL",$[$.ONE_MINUS_SRC1_COLOR_WEBGL=35066]="ONE_MINUS_SRC1_COLOR_WEBGL",$[$.ONE_MINUS_SRC1_ALPHA_WEBGL=35067]="ONE_MINUS_SRC1_ALPHA_WEBGL",$[$.MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL=35068]="MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL",$[$.MIRROR_CLAMP_TO_EDGE_EXT=34627]="MIRROR_CLAMP_TO_EDGE_EXT"})(KZ||(KZ={}));var eV={[3042]:!1,[32773]:new Float32Array([0,0,0,0]),[32777]:32774,[34877]:32774,[32969]:1,[32968]:0,[32971]:1,[32970]:0,[3106]:new Float32Array([0,0,0,0]),[3107]:[!0,!0,!0,!0],[2884]:!1,[2885]:1029,[2929]:!1,[2931]:1,[2932]:513,[2928]:new Float32Array([0,1]),[2930]:!0,[3024]:!0,[35725]:null,[36006]:null,[36007]:null,[34229]:null,[34964]:null,[2886]:2305,[33170]:4352,[2849]:1,[32823]:!1,[32824]:0,[10752]:0,[32926]:!1,[32928]:!1,[32938]:1,[32939]:!1,[3089]:!1,[3088]:new Int32Array([0,0,1024,1024]),[2960]:!1,[2961]:0,[2968]:4294967295,[36005]:4294967295,[2962]:519,[2967]:0,[2963]:4294967295,[34816]:519,[36003]:0,[36004]:4294967295,[2964]:7680,[2965]:7680,[2966]:7680,[34817]:7680,[34818]:7680,[34819]:7680,[2978]:[0,0,1024,1024],[36389]:null,[36662]:null,[36663]:null,[35053]:null,[35055]:null,[35723]:4352,[36010]:null,[35977]:!1,[3333]:4,[3317]:4,[37440]:!1,[37441]:!1,[37443]:37444,[3330]:0,[3332]:0,[3331]:0,[3314]:0,[32878]:0,[3316]:0,[3315]:0,[32877]:0},h7=($,Q,J)=>Q?$.enable(J):$.disable(J),$N0=($,Q,J)=>$.hint(J,Q),M9=($,Q,J)=>$.pixelStorei(J,Q),QN0=($,Q,J)=>{let K=J===36006?36009:36008;return $.bindFramebuffer(K,Q)},tV=($,Q,J)=>{let Y={[34964]:34962,[36662]:36662,[36663]:36663,[35053]:35051,[35055]:35052}[J];$.bindBuffer(Y,Q)};function Sm($){return Array.isArray($)||ArrayBuffer.isView($)&&!($ instanceof DataView)}var JN0={[3042]:h7,[32773]:($,Q)=>$.blendColor(...Q),[32777]:"blendEquation",[34877]:"blendEquation",[32969]:"blendFunc",[32968]:"blendFunc",[32971]:"blendFunc",[32970]:"blendFunc",[3106]:($,Q)=>$.clearColor(...Q),[3107]:($,Q)=>$.colorMask(...Q),[2884]:h7,[2885]:($,Q)=>$.cullFace(Q),[2929]:h7,[2931]:($,Q)=>$.clearDepth(Q),[2932]:($,Q)=>$.depthFunc(Q),[2928]:($,Q)=>$.depthRange(...Q),[2930]:($,Q)=>$.depthMask(Q),[3024]:h7,[35723]:$N0,[35725]:($,Q)=>$.useProgram(Q),[36007]:($,Q)=>$.bindRenderbuffer(36161,Q),[36389]:($,Q)=>$.bindTransformFeedback?.(36386,Q),[34229]:($,Q)=>$.bindVertexArray(Q),[36006]:QN0,[36010]:QN0,[34964]:tV,[36662]:tV,[36663]:tV,[35053]:tV,[35055]:tV,[2886]:($,Q)=>$.frontFace(Q),[33170]:$N0,[2849]:($,Q)=>$.lineWidth(Q),[32823]:h7,[32824]:"polygonOffset",[10752]:"polygonOffset",[35977]:h7,[32926]:h7,[32928]:h7,[32938]:"sampleCoverage",[32939]:"sampleCoverage",[3089]:h7,[3088]:($,Q)=>$.scissor(...Q),[2960]:h7,[2961]:($,Q)=>$.clearStencil(Q),[2968]:($,Q)=>$.stencilMaskSeparate(1028,Q),[36005]:($,Q)=>$.stencilMaskSeparate(1029,Q),[2962]:"stencilFuncFront",[2967]:"stencilFuncFront",[2963]:"stencilFuncFront",[34816]:"stencilFuncBack",[36003]:"stencilFuncBack",[36004]:"stencilFuncBack",[2964]:"stencilOpFront",[2965]:"stencilOpFront",[2966]:"stencilOpFront",[34817]:"stencilOpBack",[34818]:"stencilOpBack",[34819]:"stencilOpBack",[2978]:($,Q)=>$.viewport(...Q),[34383]:h7,[10754]:h7,[12288]:h7,[12289]:h7,[12290]:h7,[12291]:h7,[12292]:h7,[12293]:h7,[12294]:h7,[12295]:h7,[3333]:M9,[3317]:M9,[37440]:M9,[37441]:M9,[37443]:M9,[3330]:M9,[3332]:M9,[3331]:M9,[3314]:M9,[32878]:M9,[3316]:M9,[3315]:M9,[32877]:M9,framebuffer:($,Q)=>{let J=Q&&"handle"in Q?Q.handle:Q;return $.bindFramebuffer(36160,J)},blend:($,Q)=>Q?$.enable(3042):$.disable(3042),blendColor:($,Q)=>$.blendColor(...Q),blendEquation:($,Q)=>{let J=typeof Q==="number"?[Q,Q]:Q;$.blendEquationSeparate(...J)},blendFunc:($,Q)=>{let J=Q?.length===2?[...Q,...Q]:Q;$.blendFuncSeparate(...J)},clearColor:($,Q)=>$.clearColor(...Q),clearDepth:($,Q)=>$.clearDepth(Q),clearStencil:($,Q)=>$.clearStencil(Q),colorMask:($,Q)=>$.colorMask(...Q),cull:($,Q)=>Q?$.enable(2884):$.disable(2884),cullFace:($,Q)=>$.cullFace(Q),depthTest:($,Q)=>Q?$.enable(2929):$.disable(2929),depthFunc:($,Q)=>$.depthFunc(Q),depthMask:($,Q)=>$.depthMask(Q),depthRange:($,Q)=>$.depthRange(...Q),dither:($,Q)=>Q?$.enable(3024):$.disable(3024),derivativeHint:($,Q)=>{$.hint(35723,Q)},frontFace:($,Q)=>$.frontFace(Q),mipmapHint:($,Q)=>$.hint(33170,Q),lineWidth:($,Q)=>$.lineWidth(Q),polygonOffsetFill:($,Q)=>Q?$.enable(32823):$.disable(32823),polygonOffset:($,Q)=>$.polygonOffset(...Q),sampleCoverage:($,Q)=>$.sampleCoverage(Q[0],Q[1]||!1),scissorTest:($,Q)=>Q?$.enable(3089):$.disable(3089),scissor:($,Q)=>$.scissor(...Q),stencilTest:($,Q)=>Q?$.enable(2960):$.disable(2960),stencilMask:($,Q)=>{Q=Sm(Q)?Q:[Q,Q];let[J,K]=Q;$.stencilMaskSeparate(1028,J),$.stencilMaskSeparate(1029,K)},stencilFunc:($,Q)=>{Q=Sm(Q)&&Q.length===3?[...Q,...Q]:Q;let[J,K,Y,q,Z,X]=Q;$.stencilFuncSeparate(1028,J,K,Y),$.stencilFuncSeparate(1029,q,Z,X)},stencilOp:($,Q)=>{Q=Sm(Q)&&Q.length===3?[...Q,...Q]:Q;let[J,K,Y,q,Z,X]=Q;$.stencilOpSeparate(1028,J,K,Y),$.stencilOpSeparate(1029,q,Z,X)},viewport:($,Q)=>$.viewport(...Q)};function F7($,Q,J){return Q[$]!==void 0?Q[$]:J[$]}var KN0={blendEquation:($,Q,J)=>$.blendEquationSeparate(F7(32777,Q,J),F7(34877,Q,J)),blendFunc:($,Q,J)=>$.blendFuncSeparate(F7(32969,Q,J),F7(32968,Q,J),F7(32971,Q,J),F7(32970,Q,J)),polygonOffset:($,Q,J)=>$.polygonOffset(F7(32824,Q,J),F7(10752,Q,J)),sampleCoverage:($,Q,J)=>$.sampleCoverage(F7(32938,Q,J),F7(32939,Q,J)),stencilFuncFront:($,Q,J)=>$.stencilFuncSeparate(1028,F7(2962,Q,J),F7(2967,Q,J),F7(2963,Q,J)),stencilFuncBack:($,Q,J)=>$.stencilFuncSeparate(1029,F7(34816,Q,J),F7(36003,Q,J),F7(36004,Q,J)),stencilOpFront:($,Q,J)=>$.stencilOpSeparate(1028,F7(2964,Q,J),F7(2965,Q,J),F7(2966,Q,J)),stencilOpBack:($,Q,J)=>$.stencilOpSeparate(1029,F7(34817,Q,J),F7(34818,Q,J),F7(34819,Q,J))},_m={enable:($,Q)=>$({[Q]:!0}),disable:($,Q)=>$({[Q]:!1}),pixelStorei:($,Q,J)=>$({[Q]:J}),hint:($,Q,J)=>$({[Q]:J}),useProgram:($,Q)=>$({[35725]:Q}),bindRenderbuffer:($,Q,J)=>$({[36007]:J}),bindTransformFeedback:($,Q,J)=>$({[36389]:J}),bindVertexArray:($,Q)=>$({[34229]:Q}),bindFramebuffer:($,Q,J)=>{switch(Q){case 36160:return $({[36006]:J,[36010]:J});case 36009:return $({[36006]:J});case 36008:return $({[36010]:J});default:return null}},bindBuffer:($,Q,J)=>{let K={[34962]:[34964],[36662]:[36662],[36663]:[36663],[35051]:[35053],[35052]:[35055]}[Q];if(K)return $({[K]:J});return{valueChanged:!0}},blendColor:($,Q,J,K,Y)=>$({[32773]:new Float32Array([Q,J,K,Y])}),blendEquation:($,Q)=>$({[32777]:Q,[34877]:Q}),blendEquationSeparate:($,Q,J)=>$({[32777]:Q,[34877]:J}),blendFunc:($,Q,J)=>$({[32969]:Q,[32968]:J,[32971]:Q,[32970]:J}),blendFuncSeparate:($,Q,J,K,Y)=>$({[32969]:Q,[32968]:J,[32971]:K,[32970]:Y}),clearColor:($,Q,J,K,Y)=>$({[3106]:new Float32Array([Q,J,K,Y])}),clearDepth:($,Q)=>$({[2931]:Q}),clearStencil:($,Q)=>$({[2961]:Q}),colorMask:($,Q,J,K,Y)=>$({[3107]:[Q,J,K,Y]}),cullFace:($,Q)=>$({[2885]:Q}),depthFunc:($,Q)=>$({[2932]:Q}),depthRange:($,Q,J)=>$({[2928]:new Float32Array([Q,J])}),depthMask:($,Q)=>$({[2930]:Q}),frontFace:($,Q)=>$({[2886]:Q}),lineWidth:($,Q)=>$({[2849]:Q}),polygonOffset:($,Q,J)=>$({[32824]:Q,[10752]:J}),sampleCoverage:($,Q,J)=>$({[32938]:Q,[32939]:J}),scissor:($,Q,J,K,Y)=>$({[3088]:new Int32Array([Q,J,K,Y])}),stencilMask:($,Q)=>$({[2968]:Q,[36005]:Q}),stencilMaskSeparate:($,Q,J)=>$({[Q===1028?2968:36005]:J}),stencilFunc:($,Q,J,K)=>$({[2962]:Q,[2967]:J,[2963]:K,[34816]:Q,[36003]:J,[36004]:K}),stencilFuncSeparate:($,Q,J,K,Y)=>$({[Q===1028?2962:34816]:J,[Q===1028?2967:36003]:K,[Q===1028?2963:36004]:Y}),stencilOp:($,Q,J,K)=>$({[2964]:Q,[2965]:J,[2966]:K,[34817]:Q,[34818]:J,[34819]:K}),stencilOpSeparate:($,Q,J,K,Y)=>$({[Q===1028?2964:34817]:J,[Q===1028?2965:34818]:K,[Q===1028?2966:34819]:Y}),viewport:($,Q,J,K,Y)=>$({[2978]:[Q,J,K,Y]})},AJ=($,Q)=>$.isEnabled(Q),fm={[3042]:AJ,[2884]:AJ,[2929]:AJ,[3024]:AJ,[32823]:AJ,[32926]:AJ,[32928]:AJ,[3089]:AJ,[2960]:AJ,[35977]:AJ},YN0=new Set([34016,36388,36387,35983,35368,34965,35739,35738,3074,34853,34854,34855,34856,34857,34858,34859,34860,34861,34862,34863,34864,34865,34866,34867,34868,35097,32873,35869,32874,34068]);function m$($,Q){if(x71(Q))return;let J={};for(let Y in Q){let q=Number(Y),Z=JN0[Y];if(Z)if(typeof Z==="string")J[Z]=!0;else Z($,Q[Y],q)}let K=$.state&&$.state.cache;if(K)for(let Y in J){let q=KN0[Y];q($,Q,K)}}function Ok($,Q=eV){if(typeof Q==="number"){let Y=Q,q=fm[Y];return q?q($,Y):$.getParameter(Y)}let J=Array.isArray(Q)?Q:Object.keys(Q),K={};for(let Y of J){let q=fm[Y];K[Y]=q?q($,Number(Y)):$.getParameter(Number(Y))}return K}function qN0($){m$($,eV)}function x71($){for(let Q in $)return!1;return!0}function ZN0($,Q){if($===Q)return!0;let J=Array.isArray($)||ArrayBuffer.isView($),K=Array.isArray(Q)||ArrayBuffer.isView(Q);if(J&&K&&$.length===Q.length){for(let Y=0;Y<$.length;++Y)if($[Y]!==Q[Y])return!1;return!0}return!1}class VJ{static get($){return $.state}gl;program=null;stateStack=[];enable=!0;cache=null;log;initialized=!1;constructor($,Q){this.gl=$,this.log=Q?.log||(()=>{}),this._updateCache=this._updateCache.bind(this),Object.seal(this)}push($={}){this.stateStack.push({})}pop(){let $=this.stateStack[this.stateStack.length-1];m$(this.gl,$),this.stateStack.pop()}trackState($,Q){if(this.cache=Q.copyState?Ok($):Object.assign({},eV),this.initialized)throw Error("WebGLStateTracker");this.initialized=!0,this.gl.state=this,u71($);for(let J in _m){let K=_m[J];c71($,J,K)}XN0($,"getParameter"),XN0($,"isEnabled")}_updateCache($){let Q=!1,J,K=this.stateStack.length>0?this.stateStack[this.stateStack.length-1]:null;for(let Y in $){let q=$[Y],Z=this.cache[Y];if(!ZN0(q,Z)){if(Q=!0,J=Z,K&&!(Y in K))K[Y]=Z;this.cache[Y]=q}}return{valueChanged:Q,oldValue:J}}}function XN0($,Q){let J=$[Q].bind($);$[Q]=function(Y){if(Y===void 0||YN0.has(Y))return J(Y);let q=VJ.get($);if(!(Y in q.cache))q.cache[Y]=J(Y);return q.enable?q.cache[Y]:J(Y)},Object.defineProperty($[Q],"name",{value:`${Q}-from-cache`,configurable:!1})}function c71($,Q,J){if(!$[Q])return;let K=$[Q].bind($);$[Q]=function(...q){let Z=VJ.get($),{valueChanged:X,oldValue:W}=J(Z._updateCache,...q);if(X)K(...q);return W},Object.defineProperty($[Q],"name",{value:`${Q}-to-cache`,configurable:!1})}function u71($){let Q=$.useProgram.bind($);$.useProgram=function(K){let Y=VJ.get($);if(Y.program!==K)Q(K),Y.program=K}}function WN0($,Q,J){let K="",Y={preserveDrawingBuffer:!0,...J},q=null;if(q||=$.getContext("webgl2",Y),Y.failIfMajorPerformanceCaveat)K||="Only software GPU is available. Set `failIfMajorPerformanceCaveat: false` to allow.";if(!q&&!J.failIfMajorPerformanceCaveat)Y.failIfMajorPerformanceCaveat=!1,q=$.getContext("webgl2",Y),q.luma||={},q.luma.softwareRenderer=!0;if(!q){if(q=$.getContext("webgl",{}),q)q=null,K||="Your browser only supports WebGL1"}if(!q)throw K||="Your browser does not support WebGL",Error(`Failed to create WebGL context: ${K}`);let{onContextLost:Z,onContextRestored:X}=Q;return $.addEventListener("webglcontextlost",(W)=>Z(W),!1),$.addEventListener("webglcontextrestored",(W)=>X(W),!1),q.luma||={},q}function RJ($,Q,J){if(J[Q]===void 0)J[Q]=$.getExtension(Q)||null;return J[Q]}function FN0($,Q){let J=$.getParameter(7936),K=$.getParameter(7937);RJ($,"WEBGL_debug_renderer_info",Q);let Y=Q.WEBGL_debug_renderer_info,q=$.getParameter(Y?Y.UNMASKED_VENDOR_WEBGL:7936),Z=$.getParameter(Y?Y.UNMASKED_RENDERER_WEBGL:7937),X=q||J,W=Z||K,F=$.getParameter(7938),H=UN0(X,W),B=m71(X,W),z=p71(X,W);return{type:"webgl",gpu:H,gpuType:z,gpuBackend:B,vendor:X,renderer:W,version:F,shadingLanguage:"glsl",shadingLanguageVersion:300}}function UN0($,Q){if(/NVIDIA/i.exec($)||/NVIDIA/i.exec(Q))return"nvidia";if(/INTEL/i.exec($)||/INTEL/i.exec(Q))return"intel";if(/Apple/i.exec($)||/Apple/i.exec(Q))return"apple";if(/AMD/i.exec($)||/AMD/i.exec(Q)||/ATI/i.exec($)||/ATI/i.exec(Q))return"amd";if(/SwiftShader/i.exec($)||/SwiftShader/i.exec(Q))return"software";return"unknown"}function m71($,Q){if(/Metal/i.exec($)||/Metal/i.exec(Q))return"metal";if(/ANGLE/i.exec($)||/ANGLE/i.exec(Q))return"opengl";return"unknown"}function p71($,Q){if(/SwiftShader/i.exec($)||/SwiftShader/i.exec(Q))return"cpu";switch(UN0($,Q)){case"intel":return"integrated";case"software":return"cpu";case"unknown":return"unknown";default:return"discrete"}}function Tk($){switch($){case"uint8":return 5121;case"sint8":return 5120;case"unorm8":return 5121;case"snorm8":return 5120;case"uint16":return 5123;case"sint16":return 5122;case"unorm16":return 5123;case"snorm16":return 5122;case"uint32":return 5125;case"sint32":return 5124;case"float16":return 5131;case"float32":return 5126}throw Error(String($))}var $R="WEBGL_compressed_texture_s3tc",QR="WEBGL_compressed_texture_s3tc_srgb",uH="EXT_texture_compression_rgtc",mH="EXT_texture_compression_bptc",d71="WEBGL_compressed_texture_etc",n71="WEBGL_compressed_texture_astc",l71="WEBGL_compressed_texture_etc1",r71="WEBGL_compressed_texture_pvrtc",i71="WEBGL_compressed_texture_atc",HN0="EXT_texture_norm16",NN0="EXT_render_snorm",s71="EXT_color_buffer_float",Dk={"float32-renderable-webgl":["EXT_color_buffer_float"],"float16-renderable-webgl":["EXT_color_buffer_half_float"],"rgb9e5ufloat-renderable-webgl":["WEBGL_render_shared_exponent"],"snorm8-renderable-webgl":[NN0],"norm16-renderable-webgl":[HN0],"snorm16-renderable-webgl":[HN0,NN0],"float32-filterable":["OES_texture_float_linear"],"float16-filterable-webgl":["OES_texture_half_float_linear"],"texture-filterable-anisotropic-webgl":["EXT_texture_filter_anisotropic"],"texture-blend-float-webgl":["EXT_float_blend"],"texture-compression-bc":[$R,QR,uH,mH],"texture-compression-bc5-webgl":[uH],"texture-compression-bc7-webgl":[mH],"texture-compression-etc2":[d71],"texture-compression-astc":[n71],"texture-compression-etc1-webgl":[l71],"texture-compression-pvrtc-webgl":[r71],"texture-compression-atc-webgl":[i71]};function BN0($){return $ in Dk}function zN0($,Q,J){return(Dk[Q]||[]).every((Y)=>RJ($,Y,J))}var Im={r8unorm:{gl:33321,rb:!0},r8snorm:{gl:36756},r8uint:{gl:33330,rb:!0},r8sint:{gl:33329,rb:!0},rg8unorm:{gl:33323,rb:!0},rg8snorm:{gl:36757},rg8uint:{gl:33336,rb:!0},rg8sint:{gl:33335,rb:!0},r16uint:{gl:33332,rb:!0},r16sint:{gl:33331,rb:!0},r16float:{gl:33325,rb:!0},"r16unorm-webgl":{gl:33322,rb:!0},"r16snorm-webgl":{gl:36760},"rgba4unorm-webgl":{gl:32854,rb:!0},"rgb565unorm-webgl":{gl:36194,rb:!0},"rgb5a1unorm-webgl":{gl:32855,rb:!0},"rgb8unorm-webgl":{gl:32849},"rgb8snorm-webgl":{gl:36758},rgba8unorm:{gl:32856},"rgba8unorm-srgb":{gl:35907},rgba8snorm:{gl:36759},rgba8uint:{gl:36220},rgba8sint:{gl:36238},bgra8unorm:{},"bgra8unorm-srgb":{},rg16uint:{gl:33338},rg16sint:{gl:33337},rg16float:{gl:33327,rb:!0},"rg16unorm-webgl":{gl:33324},"rg16snorm-webgl":{gl:36761},r32uint:{gl:33334,rb:!0},r32sint:{gl:33333,rb:!0},r32float:{gl:33326},rgb9e5ufloat:{gl:35901},rg11b10ufloat:{gl:35898,rb:!0},rgb10a2unorm:{gl:32857,rb:!0},"rgb10a2uint-webgl":{gl:36975,rb:!0},"rgb16unorm-webgl":{gl:32852},"rgb16snorm-webgl":{gl:36762},rg32uint:{gl:33340,rb:!0},rg32sint:{gl:33339,rb:!0},rg32float:{gl:33328,rb:!0},rgba16uint:{gl:36214,rb:!0},rgba16sint:{gl:36232,rb:!0},rgba16float:{gl:34842},"rgba16unorm-webgl":{gl:32859,rb:!0},"rgba16snorm-webgl":{gl:36763},"rgb32float-webgl":{gl:34837,x:s71,dataFormat:6407,types:[5126]},rgba32uint:{gl:36208,rb:!0},rgba32sint:{gl:36226,rb:!0},rgba32float:{gl:34836,rb:!0},stencil8:{gl:36168,rb:!0},depth16unorm:{gl:33189,dataFormat:6402,types:[5123],rb:!0},depth24plus:{gl:33190,dataFormat:6402,types:[5125]},depth32float:{gl:36012,dataFormat:6402,types:[5126],rb:!0},"depth24plus-stencil8":{gl:35056,rb:!0,depthTexture:!0,dataFormat:34041,types:[34042]},"depth32float-stencil8":{gl:36013,dataFormat:34041,types:[36269],rb:!0},"bc1-rgb-unorm-webgl":{gl:33776,x:$R},"bc1-rgb-unorm-srgb-webgl":{gl:35916,x:QR},"bc1-rgba-unorm":{gl:33777,x:$R},"bc1-rgba-unorm-srgb":{gl:35916,x:QR},"bc2-rgba-unorm":{gl:33778,x:$R},"bc2-rgba-unorm-srgb":{gl:35918,x:QR},"bc3-rgba-unorm":{gl:33779,x:$R},"bc3-rgba-unorm-srgb":{gl:35919,x:QR},"bc4-r-unorm":{gl:36283,x:uH},"bc4-r-snorm":{gl:36284,x:uH},"bc5-rg-unorm":{gl:36285,x:uH},"bc5-rg-snorm":{gl:36286,x:uH},"bc6h-rgb-ufloat":{gl:36495,x:mH},"bc6h-rgb-float":{gl:36494,x:mH},"bc7-rgba-unorm":{gl:36492,x:mH},"bc7-rgba-unorm-srgb":{gl:36493,x:mH},"etc2-rgb8unorm":{gl:37492},"etc2-rgb8unorm-srgb":{gl:37494},"etc2-rgb8a1unorm":{gl:37496},"etc2-rgb8a1unorm-srgb":{gl:37497},"etc2-rgba8unorm":{gl:37493},"etc2-rgba8unorm-srgb":{gl:37495},"eac-r11unorm":{gl:37488},"eac-r11snorm":{gl:37489},"eac-rg11unorm":{gl:37490},"eac-rg11snorm":{gl:37491},"astc-4x4-unorm":{gl:37808},"astc-4x4-unorm-srgb":{gl:37840},"astc-5x4-unorm":{gl:37809},"astc-5x4-unorm-srgb":{gl:37841},"astc-5x5-unorm":{gl:37810},"astc-5x5-unorm-srgb":{gl:37842},"astc-6x5-unorm":{gl:37811},"astc-6x5-unorm-srgb":{gl:37843},"astc-6x6-unorm":{gl:37812},"astc-6x6-unorm-srgb":{gl:37844},"astc-8x5-unorm":{gl:37813},"astc-8x5-unorm-srgb":{gl:37845},"astc-8x6-unorm":{gl:37814},"astc-8x6-unorm-srgb":{gl:37846},"astc-8x8-unorm":{gl:37815},"astc-8x8-unorm-srgb":{gl:37847},"astc-10x5-unorm":{gl:37819},"astc-10x5-unorm-srgb":{gl:37851},"astc-10x6-unorm":{gl:37817},"astc-10x6-unorm-srgb":{gl:37849},"astc-10x8-unorm":{gl:37818},"astc-10x8-unorm-srgb":{gl:37850},"astc-10x10-unorm":{gl:37819},"astc-10x10-unorm-srgb":{gl:37851},"astc-12x10-unorm":{gl:37820},"astc-12x10-unorm-srgb":{gl:37852},"astc-12x12-unorm":{gl:37821},"astc-12x12-unorm-srgb":{gl:37853},"pvrtc-rgb4unorm-webgl":{gl:35840},"pvrtc-rgba4unorm-webgl":{gl:35842},"pvrtc-rbg2unorm-webgl":{gl:35841},"pvrtc-rgba2unorm-webgl":{gl:35843},"etc1-rbg-unorm-webgl":{gl:36196},"atc-rgb-unorm-webgl":{gl:35986},"atc-rgba-unorm-webgl":{gl:35986},"atc-rgbai-unorm-webgl":{gl:34798}};function AN0($,Q,J){let K=Q.create,Y=Im[Q.format];if(Y?.gl===void 0)K=!1;if(Y?.x)K=K&&Boolean(RJ($,Y.x,J));return{format:Q.format,create:K&&Q.create,render:K&&Q.render,filter:K&&Q.filter,blend:K&&Q.blend,store:K&&Q.store}}function Ck($){let Q=Im[$],J=a71($),K=zH($);return{internalFormat:J,format:Q?.dataFormat||o71(K.channels,K.integer,K.normalized,J),type:K.dataType?Tk(K.dataType):Q?.types?.[0]||5121,compressed:K.compressed||!1}}function VN0($){switch(zH($).attachment){case"depth":return 36096;case"stencil":return 36128;case"depth-stencil":return 33306;default:throw Error(`Not a depth stencil format: ${$}`)}}function o71($,Q,J,K){if(K===6408||K===6407)return K;switch($){case"r":return Q&&!J?36244:6403;case"rg":return Q&&!J?33320:33319;case"rgb":return Q&&!J?36248:6407;case"rgba":return Q&&!J?36249:6408;case"bgra":throw Error("bgra pixels not supported by WebGL");default:return 6408}}function a71($){let J=Im[$]?.gl;if(J===void 0)throw Error(`Unsupported texture format ${$}`);return J}var RN0={"depth-clip-control":"EXT_depth_clamp","timer-query-webgl":"EXT_disjoint_timer_query_webgl2","compilation-status-async-webgl":"KHR_parallel_shader_compile","polygon-mode-webgl":"WEBGL_polygon_mode","provoking-vertex-webgl":"WEBGL_provoking_vertex","shader-clip-cull-distance-webgl":"WEBGL_clip_cull_distance","shader-noperspective-interpolation-webgl":"NV_shader_noperspective_interpolation","shader-conservative-depth-webgl":"EXT_conservative_depth"};class Mm extends qP{gl;extensions;testedFeatures=new Set;constructor($,Q,J){super([],J);this.gl=$,this.extensions=Q,RJ($,"EXT_color_buffer_float",Q)}*[Symbol.iterator](){let $=this.getFeatures();for(let Q of $)if(this.has(Q))yield Q;return[]}has($){if(this.disabledFeatures?.[$])return!1;if(!this.testedFeatures.has($)){if(this.testedFeatures.add($),BN0($)&&zN0(this.gl,$,this.extensions))this.features.add($);if(this.getWebGLFeature($))this.features.add($)}return this.features.has($)}initializeFeatures(){let $=this.getFeatures().filter((Q)=>Q!=="polygon-mode-webgl");for(let Q of $)this.has(Q)}getFeatures(){return[...Object.keys(RN0),...Object.keys(Dk)]}getWebGLFeature($){let Q=RN0[$];return typeof Q==="string"?Boolean(RJ(this.gl,Q,this.extensions)):Boolean(Q)}}class bm extends YP{get maxTextureDimension1D(){return 0}get maxTextureDimension2D(){return this.getParameter(3379)}get maxTextureDimension3D(){return this.getParameter(32883)}get maxTextureArrayLayers(){return this.getParameter(35071)}get maxBindGroups(){return 0}get maxDynamicUniformBuffersPerPipelineLayout(){return 0}get maxDynamicStorageBuffersPerPipelineLayout(){return 0}get maxSampledTexturesPerShaderStage(){return this.getParameter(35660)}get maxSamplersPerShaderStage(){return this.getParameter(35661)}get maxStorageBuffersPerShaderStage(){return 0}get maxStorageTexturesPerShaderStage(){return 0}get maxUniformBuffersPerShaderStage(){return this.getParameter(35375)}get maxUniformBufferBindingSize(){return this.getParameter(35376)}get maxStorageBufferBindingSize(){return 0}get minUniformBufferOffsetAlignment(){return this.getParameter(35380)}get minStorageBufferOffsetAlignment(){return 0}get maxVertexBuffers(){return 16}get maxVertexAttributes(){return this.getParameter(34921)}get maxVertexBufferArrayStride(){return 2048}get maxInterStageShaderComponents(){return this.getParameter(35659)}get maxComputeWorkgroupStorageSize(){return 0}get maxComputeInvocationsPerWorkgroup(){return 0}get maxComputeWorkgroupSizeX(){return 0}get maxComputeWorkgroupSizeY(){return 0}get maxComputeWorkgroupSizeZ(){return 0}get maxComputeWorkgroupsPerDimension(){return 0}gl;limits={};constructor($){super();this.gl=$}getParameter($){if(this.limits[$]===void 0)this.limits[$]=this.gl.getParameter($);return this.limits[$]||0}}class sK extends IX{device;gl;handle;colorAttachments=[];depthStencilAttachment=null;constructor($,Q){super($,Q);let J=Q.handle===null;if(this.device=$,this.gl=$.gl,this.handle=this.props.handle||J?this.props.handle:this.gl.createFramebuffer(),!J)$.setSpectorMetadata(this.handle,{id:this.props.id,props:this.props}),this.autoCreateAttachmentTextures(),this.updateAttachments()}destroy(){if(super.destroy(),!this.destroyed&&this.handle!==null)this.gl.deleteFramebuffer(this.handle)}updateAttachments(){let $=this.gl.bindFramebuffer(36160,this.handle);for(let Q=0;Q<this.colorAttachments.length;++Q){let J=this.colorAttachments[Q];if(J){let K=36064+Q;this._attachTextureView(K,J)}}if(this.depthStencilAttachment){let Q=VN0(this.depthStencilAttachment.props.format);this._attachTextureView(Q,this.depthStencilAttachment)}if(this.device.props.debug){let Q=this.gl.checkFramebufferStatus(36160);if(Q!==36053)throw Error(`Framebuffer ${e71(Q)}`)}this.gl.bindFramebuffer(36160,$)}_attachTextureView($,Q){let{gl:J}=this.device,{texture:K}=Q,Y=Q.props.baseMipLevel,q=Q.props.baseArrayLayer;switch(J.bindTexture(K.glTarget,K.handle),K.glTarget){case 35866:case 32879:J.framebufferTextureLayer(36160,$,K.handle,Y,q);break;case 34067:let Z=t71(q);J.framebufferTexture2D(36160,$,Z,K.handle,Y);break;case 3553:J.framebufferTexture2D(36160,$,3553,K.handle,Y);break;default:throw Error("Illegal texture type")}J.bindTexture(K.glTarget,null)}}function t71($){return $<34069?$+34069:$}function e71($){switch($){case 36053:return"success";case 36054:return"Mismatched attachments";case 36055:return"No attachments";case 36057:return"Height/width mismatch";case 36061:return"Unsupported or split attachments";case 36182:return"Samples mismatch";default:return`${$}`}}class gm extends GV{device;format="rgba8unorm";depthStencilFormat="depth24plus";presentationSize;_framebuffer=null;get[Symbol.toStringTag](){return"WebGLCanvasContext"}constructor($,Q){super(Q);this.device=$,this.presentationSize=[-1,-1],this._setAutoCreatedCanvasId(`${this.device.id}-canvas`),this.update()}getCurrentFramebuffer(){return this.update(),this._framebuffer=this._framebuffer||new sK(this.device,{handle:null}),this._framebuffer}update(){let $=this.getPixelSize();if($[0]!==this.presentationSize[0]||$[1]!==this.presentationSize[1])this.presentationSize=$,this.resize()}resize($){if(!this.device.gl)return;if(this.canvas){let Q=this.getDevicePixelRatio($?.useDevicePixels);this.setDevicePixelRatio(Q,$);return}}commit(){}}async function Pk($,Q){let J=document.getElementsByTagName("head")[0];if(!J)throw Error("loadScript");let K=document.createElement("script");if(K.setAttribute("type","text/javascript"),K.setAttribute("src",$),Q)K.id=Q;return new Promise((Y,q)=>{K.onload=Y,K.onerror=(Z)=>q(Error(`Unable to load script '${$}': ${Z}`)),J.appendChild(K)})}var $81=1,b9=null,GN0=!1,kk={debugSpectorJS:g0.get("debug-spectorjs"),debugSpectorJSUrl:"https://cdn.jsdelivr.net/npm/spectorjs@0.9.30/dist/spector.bundle.js",gl:void 0};async function wN0($){if(!globalThis.SPECTOR)try{await Pk($.debugSpectorJSUrl||kk.debugSpectorJSUrl)}catch(Q){g0.warn(String(Q))}}function ON0($){if($={...kk,...$},!$.debugSpectorJS)return null;if(!b9&&globalThis.SPECTOR&&!globalThis.luma?.spector){g0.probe($81,"SPECTOR found and initialized. Start with `luma.spector.displayUI()`")();let{Spector:Q}=globalThis.SPECTOR;if(b9=new Q,globalThis.luma)globalThis.luma.spector=b9}if(!b9)return null;if(!GN0)GN0=!0,b9.spyCanvases(),b9?.onCaptureStarted.add((Q)=>g0.info("Spector capture started:",Q)()),b9?.onCapture.add((Q)=>{g0.info("Spector capture complete:",Q)(),b9?.getResultUI(),b9?.resultView.display(),b9?.resultView.addCapture(Q)});if($.gl){let Q=$.gl,J=Q.device;b9?.startCapture($.gl,500),Q.device=J,new Promise((K)=>setTimeout(K,2000)).then((K)=>{g0.info("Spector capture stopped after 2 seconds")(),b9?.stopCapture()})}return b9}var Q81="https://unpkg.com/webgl-debug@2.0.1/index.js";function DN0($){return $.luma=$.luma||{},$.luma}async function CN0(){if(W4()&&!globalThis.WebGLDebugUtils)globalThis.global=globalThis.global||globalThis,globalThis.global.module={},await Pk(Q81)}function PN0($,Q={}){return Q.debugWebGL||Q.traceWebGL?K81($,Q):J81($)}function J81($){let Q=DN0($);return Q.realContext?Q.realContext:$}function K81($,Q){if(!globalThis.WebGLDebugUtils)return g0.warn("webgl-debug not loaded")(),$;let J=DN0($);if(J.debugContext)return J.debugContext;globalThis.WebGLDebugUtils.init({...KZ,...$});let K=globalThis.WebGLDebugUtils.makeDebugContext($,Y81.bind(null,Q),q81.bind(null,Q));for(let Z in KZ)if(!(Z in K)&&typeof KZ[Z]==="number")K[Z]=KZ[Z];class Y{}Object.setPrototypeOf(K,Object.getPrototypeOf($)),Object.setPrototypeOf(Y,K);let q=Object.create(Y);return J.realContext=$,J.debugContext=q,q.debug=!0,q}function TN0($,Q){Q=Array.from(Q).map((K)=>K===void 0?"undefined":K);let J=globalThis.WebGLDebugUtils.glFunctionArgsToString($,Q);return J=`${J.slice(0,100)}${J.length>100?"...":""}`,`gl.${$}(${J})`}function Y81($,Q,J,K){K=Array.from(K).map((X)=>X===void 0?"undefined":X);let Y=globalThis.WebGLDebugUtils.glEnumToString(Q),q=globalThis.WebGLDebugUtils.glFunctionArgsToString(J,K),Z=`${Y} in gl.${J}(${q})`;g0.error(Z)();debugger}function q81($,Q,J){let K="";if(g0.level>=1){if(K=TN0(Q,J),$.traceWebGL)g0.log(1,K)()}for(let Y of J)if(Y===void 0){K=K||TN0(Q,J);debugger}}var ym={};function kN0($="id"){ym[$]=ym[$]||1;let Q=ym[$]++;return`${$}-${Q}`}class GJ extends h5{device;gl;handle;glTarget;glUsage;glIndexType=5123;byteLength;bytesUsed;constructor($,Q={}){super($,Q);this.device=$,this.gl=this.device.gl;let J=typeof Q==="object"?Q.handle:void 0;if(this.handle=J||this.gl.createBuffer(),$.setSpectorMetadata(this.handle,{...this.props,data:typeof this.props.data}),this.glTarget=Z81(this.props.usage),this.glUsage=X81(this.props.usage),this.glIndexType=this.props.indexType==="uint32"?5125:5123,Q.data)this._initWithData(Q.data,Q.byteOffset,Q.byteLength);else this._initWithByteLength(Q.byteLength||0)}_initWithData($,Q=0,J=$.byteLength+Q){let K=this.glTarget;this.gl.bindBuffer(K,this.handle),this.gl.bufferData(K,J,this.glUsage),this.gl.bufferSubData(K,Q,$),this.gl.bindBuffer(K,null),this.bytesUsed=J,this.byteLength=J,this._setDebugData($,Q,J),this.trackAllocatedMemory(J)}_initWithByteLength($){let Q=$;if($===0)Q=new Float32Array(0);let J=this.glTarget;return this.gl.bindBuffer(J,this.handle),this.gl.bufferData(J,Q,this.glUsage),this.gl.bindBuffer(J,null),this.bytesUsed=$,this.byteLength=$,this._setDebugData(null,0,$),this.trackAllocatedMemory($),this}destroy(){if(!this.destroyed&&this.handle)this.removeStats(),this.trackDeallocatedMemory(),this.gl.deleteBuffer(this.handle),this.destroyed=!0,this.handle=null}write($,Q=0){this.gl.bindBuffer(36663,this.handle),this.gl.bufferSubData(36663,Q,$),this.gl.bindBuffer(36663,null),this._setDebugData($,Q,$.byteLength)}async readAsync($=0,Q){return this.readSyncWebGL($,Q)}readSyncWebGL($=0,Q){Q=Q??this.byteLength-$;let J=new Uint8Array(Q),K=0;return this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,$,J,K,Q),this.gl.bindBuffer(36662,null),this._setDebugData(J,$,Q),J}}function Z81($){if($&h5.INDEX)return 34963;if($&h5.VERTEX)return 34962;if($&h5.UNIFORM)return 35345;return 34962}function X81($){if($&h5.INDEX)return 35044;if($&h5.VERTEX)return 35044;if($&h5.UNIFORM)return 35048;return 35044}function EN0($){let Q=$.split(/\r?\n/),J=[];for(let K of Q){if(K.length<=1)continue;let Y=K.split(":");if(Y.length===2){let[B,z]=Y;J.push({message:z.trim(),type:jN0(B),lineNum:0,linePos:0});continue}let[q,Z,X,...W]=Y,F=parseInt(X,10);if(isNaN(F))F=0;let H=parseInt(Z,10);if(isNaN(H))H=0;J.push({message:W.join(":").trim(),type:jN0(q),lineNum:F,linePos:H})}return J}function jN0($){let Q=["warning","error","info"],J=$.toLowerCase();return Q.includes(J)?J:"info"}class xm extends fX{device;handle;constructor($,Q){super($,Q);switch(this.device=$,this.props.stage){case"vertex":this.handle=this.props.handle||this.device.gl.createShader(35633);break;case"fragment":this.handle=this.props.handle||this.device.gl.createShader(35632);break;default:throw Error(this.props.stage)}this._compile(this.source)}destroy(){if(this.handle)this.removeStats(),this.device.gl.deleteShader(this.handle),this.destroyed=!0}get asyncCompilationStatus(){return this._waitForCompilationComplete().then(()=>this.compilationStatus)}async getCompilationInfo(){return await this._waitForCompilationComplete(),this.getCompilationInfoSync()}getCompilationInfoSync(){let $=this.device.gl.getShaderInfoLog(this.handle);return $?EN0($):[]}getTranslatedSource(){return this.device.getExtension("WEBGL_debug_shaders").WEBGL_debug_shaders?.getTranslatedShaderSource(this.handle)||null}async _compile($){$=$.startsWith("#version ")?$:`#version 300 es
${$}`;let{gl:Q}=this.device;if(Q.shaderSource(this.handle,$),Q.compileShader(this.handle),!this.device.props.debug){this.compilationStatus="pending";return}if(!this.device.features.has("compilation-status-async-webgl")){if(this._getCompilationStatus(),this.debugShader(),this.compilationStatus==="error")throw Error(`GLSL compilation errors in ${this.props.stage} shader ${this.props.id}`);return}g0.once(1,"Shader compilation is asynchronous")(),await this._waitForCompilationComplete(),g0.info(2,`Shader ${this.id} - async compilation complete: ${this.compilationStatus}`)(),this._getCompilationStatus(),this.debugShader()}async _waitForCompilationComplete(){let $=async(K)=>await new Promise((Y)=>setTimeout(Y,K)),Q=10;if(!this.device.features.has("compilation-status-async-webgl")){await $(10);return}let{gl:J}=this.device;for(;;){if(J.getShaderParameter(this.handle,37297))return;await $(10)}}_getCompilationStatus(){this.compilationStatus=this.device.gl.getShaderParameter(this.handle,35713)?"success":"error"}}function hN0($,Q,J,K){if(H81(Q))return K($);let Y=$;Y.pushState();try{return W81($,Q),m$(Y.gl,J),K($)}finally{Y.popState()}}function W81($,Q){let J=$,{gl:K}=J;if(Q.cullMode)switch(Q.cullMode){case"none":K.disable(2884);break;case"front":K.enable(2884),K.cullFace(1028);break;case"back":K.enable(2884),K.cullFace(1029);break}if(Q.frontFace)K.frontFace(dX("frontFace",Q.frontFace,{ccw:2305,cw:2304}));if(Q.unclippedDepth){if($.features.has("depth-clip-control"))K.enable(34383)}if(Q.depthBias!==void 0)K.enable(32823),K.polygonOffset(Q.depthBias,Q.depthBiasSlopeScale||0);if(Q.provokingVertex){if($.features.has("provoking-vertex-webgl")){let q=J.getExtension("WEBGL_provoking_vertex").WEBGL_provoking_vertex,Z=dX("provokingVertex",Q.provokingVertex,{first:36429,last:36430});q?.provokingVertexWEBGL(Z)}}if(Q.polygonMode||Q.polygonOffsetLine){if($.features.has("polygon-mode-webgl")){if(Q.polygonMode){let q=J.getExtension("WEBGL_polygon_mode").WEBGL_polygon_mode,Z=dX("polygonMode",Q.polygonMode,{fill:6914,line:6913});q?.polygonModeWEBGL(1028,Z),q?.polygonModeWEBGL(1029,Z)}if(Q.polygonOffsetLine)K.enable(10754)}}if($.features.has("shader-clip-cull-distance-webgl")){if(Q.clipDistance0)K.enable(12288);if(Q.clipDistance1)K.enable(12289);if(Q.clipDistance2)K.enable(12290);if(Q.clipDistance3)K.enable(12291);if(Q.clipDistance4)K.enable(12292);if(Q.clipDistance5)K.enable(12293);if(Q.clipDistance6)K.enable(12294);if(Q.clipDistance7)K.enable(12295)}if(Q.depthWriteEnabled!==void 0)K.depthMask(U81("depthWriteEnabled",Q.depthWriteEnabled));if(Q.depthCompare)Q.depthCompare!=="always"?K.enable(2929):K.disable(2929),K.depthFunc(Ek("depthCompare",Q.depthCompare));if(Q.stencilWriteMask){let Y=Q.stencilWriteMask;K.stencilMaskSeparate(1028,Y),K.stencilMaskSeparate(1029,Y)}if(Q.stencilReadMask)g0.warn("stencilReadMask not supported under WebGL");if(Q.stencilCompare){let Y=Q.stencilReadMask||4294967295,q=Ek("depthCompare",Q.stencilCompare);Q.stencilCompare!=="always"?K.enable(2960):K.disable(2960),K.stencilFuncSeparate(1028,q,0,Y),K.stencilFuncSeparate(1029,q,0,Y)}if(Q.stencilPassOperation&&Q.stencilFailOperation&&Q.stencilDepthFailOperation){let Y=cm("stencilPassOperation",Q.stencilPassOperation),q=cm("stencilFailOperation",Q.stencilFailOperation),Z=cm("stencilDepthFailOperation",Q.stencilDepthFailOperation);K.stencilOpSeparate(1028,q,Z,Y),K.stencilOpSeparate(1029,q,Z,Y)}switch(Q.blend){case!0:K.enable(3042);break;case!1:K.disable(3042);break;default:}if(Q.blendColorOperation||Q.blendAlphaOperation){let Y=LN0("blendColorOperation",Q.blendColorOperation||"add"),q=LN0("blendAlphaOperation",Q.blendAlphaOperation||"add");K.blendEquationSeparate(Y,q);let Z=jk("blendColorSrcFactor",Q.blendColorSrcFactor||"one"),X=jk("blendColorDstFactor",Q.blendColorDstFactor||"zero"),W=jk("blendAlphaSrcFactor",Q.blendAlphaSrcFactor||"one"),F=jk("blendAlphaDstFactor",Q.blendAlphaDstFactor||"zero");K.blendFuncSeparate(Z,X,W,F)}}function Ek($,Q){return dX($,Q,{never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519})}function cm($,Q){return dX($,Q,{keep:7680,zero:0,replace:7681,invert:5386,"increment-clamp":7682,"decrement-clamp":7683,"increment-wrap":34055,"decrement-wrap":34056})}function LN0($,Q){return dX($,Q,{add:32774,subtract:32778,"reverse-subtract":32779,min:32775,max:32776})}function jk($,Q){return dX($,Q,{one:1,zero:0,"src-color":768,"one-minus-src-color":769,"dst-color":774,"one-minus-dst-color":775,"src-alpha":770,"one-minus-src-alpha":771,"dst-alpha":772,"one-minus-dst-alpha":773,"src-alpha-saturated":776,"constant-color":32769,"one-minus-constant-color":32770,"constant-alpha":32771,"one-minus-constant-alpha":32772})}function F81($,Q){return`Illegal parameter ${Q} for ${$}`}function dX($,Q,J){if(!(Q in J))throw Error(F81($,Q));return J[Q]}function U81($,Q){return Q}function H81($){let Q=!0;for(let J in $){Q=!1;break}return Q}function Lk($){let Q={};if($.addressModeU)Q[10242]=um($.addressModeU);if($.addressModeV)Q[10243]=um($.addressModeV);if($.addressModeW)Q[32882]=um($.addressModeW);if($.magFilter)Q[10240]=mm($.magFilter);if($.minFilter||$.mipmapFilter)Q[10241]=N81($.minFilter||"linear",$.mipmapFilter);if($.lodMinClamp!==void 0)Q[33082]=$.lodMinClamp;if($.lodMaxClamp!==void 0)Q[33083]=$.lodMaxClamp;if($.type==="comparison-sampler")Q[34892]=34894;if($.compare)Q[34893]=Ek("compare",$.compare);if($.maxAnisotropy)Q[34046]=$.maxAnisotropy;return Q}function um($){switch($){case"clamp-to-edge":return 33071;case"repeat":return 10497;case"mirror-repeat":return 33648}}function mm($){switch($){case"nearest":return 9728;case"linear":return 9729}}function N81($,Q="none"){if(!Q)return mm($);switch(Q){case"none":return mm($);case"nearest":return $==="nearest"?9984:9986;case"linear":return $==="nearest"?9985:9987}}class pH extends lq{device;handle;parameters;constructor($,Q){super($,Q);this.device=$,this.parameters=Lk(Q),this.handle=this.handle||this.device.gl.createSampler(),this._setSamplerParameters(this.parameters)}destroy(){if(this.handle)this.device.gl.deleteSampler(this.handle),this.handle=void 0}toString(){return`Sampler(${this.id},${JSON.stringify(this.props)})`}_setSamplerParameters($){for(let[Q,J]of Object.entries($)){let K=Number(Q);switch(K){case 33082:case 33083:this.device.gl.samplerParameterf(this.handle,K,J);break;default:this.device.gl.samplerParameteri(this.handle,K,J);break}}}}class oK extends _X{device;gl;handle;texture;constructor($,Q){super($,{...I5.defaultProps,...Q});this.device=$,this.gl=this.device.gl,this.handle=null,this.texture=Q.texture}}var B81="Failed to deduce GL constant from typed array";function vN0($){switch(ArrayBuffer.isView($)?$.constructor:$){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:return 5121;case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw Error(B81)}}function SN0($,Q){let{clamped:J=!0}=Q||{};switch($){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return J?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw Error("Failed to deduce typed array type from GL constant")}}function pm($){switch($){case 6406:case 33326:case 6403:case 36244:return 1;case 33339:case 33340:case 33328:case 33320:case 33319:return 2;case 6407:case 36248:case 34837:return 3;case 6408:case 36249:case 34836:return 4;default:return 0}}function _N0($){switch($){case 5121:return 1;case 33635:case 32819:case 32820:return 2;case 5126:return 4;default:return 0}}function nX($,Q,J){if(z81(Q))return J($);let{nocatch:K=!0}=Q,Y=VJ.get($);Y.push(),m$($,Q);let q;if(K)q=J($),Y.pop();else try{q=J($)}finally{Y.pop()}return q}function z81($){for(let Q in $)return!1;return!0}function fN0($,Q,J){let{dimension:K,width:Y,height:q,depth:Z=0}=J,{glInternalFormat:X}=J,W=J.glTarget;switch(K){case"2d-array":case"3d":$.texStorage3D(W,Q,X,Y,q,Z);break;default:$.texStorage2D(W,Q,X,Y,q)}}function dm($,Q,J,K){let{width:Y,height:q}=K,{dimension:Z,depth:X=0,mipLevel:W=0}=K,{x:F=0,y:H=0,z:B=0}=K,{glFormat:z,glType:A}=K,R=MN0(K.glTarget,Z,X),G=K.flipY?{[37440]:!0}:{};nX($,G,()=>{switch(Z){case"2d-array":case"3d":$.bindTexture(R,Q),$.texSubImage3D(R,W,F,H,B,Y,q,X,z,A,J),$.bindTexture(R,null);break;case"2d":case"cube":$.bindTexture(R,Q),$.texSubImage2D(R,W,F,H,Y,q,z,A,J),$.bindTexture(R,null);break;default:throw Error(Z)}})}function nm($,Q,J){let{dimension:K,width:Y,height:q,depth:Z=0,mipLevel:X=0,byteOffset:W=0}=J,{x:F=0,y:H=0,z:B=0}=J,{glFormat:z,glType:A,compressed:R}=J,G=MN0(J.glTarget,K,Z);switch(K){case"2d-array":case"3d":if(R)$.compressedTexSubImage3D(G,X,F,H,B,Y,q,Z,z,Q,W);else $.texSubImage3D(G,X,F,H,B,Y,q,Z,z,A,Q,W);break;case"2d":case"cube":if(R)$.compressedTexSubImage2D(G,X,F,H,Y,q,z,Q,W);else $.texSubImage2D(G,X,F,H,Y,q,z,A,Q,W);break;default:throw Error(K)}}function IN0($){switch($){case"1d":break;case"2d":return 3553;case"3d":return 32879;case"cube":return 34067;case"2d-array":return 35866;case"cube-array":break}throw Error($)}function MN0($,Q,J){return Q==="cube"?34069+J:$}function bN0($,Q){let{sourceX:J=0,sourceY:K=0,sourceAttachment:Y=0}=Q||{},{target:q=null,sourceWidth:Z,sourceHeight:X,sourceDepth:W,sourceFormat:F,sourceType:H}=Q||{},{framebuffer:B,deleteFramebuffer:z}=yN0($),{gl:A,handle:R}=B;Z||=B.width,X||=B.height;let G=B.colorAttachments[Y]?.texture;if(!G)throw Error(`Invalid framebuffer attachment ${Y}`);W=G?.depth||1,F||=G?.glFormat||6408,H||=G?.glType||5121,q=V81(q,H,F,Z,X,W),H=H||vN0(q);let w=A.bindFramebuffer(36160,R);if(A.readBuffer(36064+Y),A.readPixels(J,K,Z,X,F,H,q),A.readBuffer(36064),A.bindFramebuffer(36160,w||null),z)B.destroy();return q}function gN0($,Q){let{target:J,sourceX:K=0,sourceY:Y=0,sourceFormat:q=6408,targetByteOffset:Z=0}=Q||{},{sourceWidth:X,sourceHeight:W,sourceType:F}=Q||{},{framebuffer:H,deleteFramebuffer:B}=yN0($);X=X||H.width,W=W||H.height;let z=H;F=F||5121;let A=J;if(!A){let G=pm(q),w=_N0(F),T=Z+X*W*G*w;A=z.device.createBuffer({byteLength:T})}let R=$.device.createCommandEncoder();if(R.copyTextureToBuffer({sourceTexture:$,width:X,height:W,origin:[K,Y],destinationBuffer:A,byteOffset:Z}),R.destroy(),B)H.destroy();return A}function yN0($){if(!($ instanceof IX))return{framebuffer:A81($),deleteFramebuffer:!0};return{framebuffer:$,deleteFramebuffer:!1}}function A81($,Q){let{device:J,width:K,height:Y,id:q}=$;return J.createFramebuffer({...Q,id:`framebuffer-for-${q}`,width:K,height:Y,colorAttachments:[$]})}function V81($,Q,J,K,Y,q){if($)return $;Q||=5121;let Z=SN0(Q,{clamped:!1}),X=pm(J);return new Z(K*Y*X)}class aK extends I5{device;gl;handle;sampler=void 0;view=void 0;mipmaps;compressed;glTarget;glFormat;glType;glInternalFormat;textureUnit=0;constructor($,Q){super($,Q);let J={...this.props};J.data=Q.data,this.device=$,this.gl=this.device.gl,this.glTarget=IN0(this.props.dimension);let K=Ck(this.props.format);this.glInternalFormat=K.internalFormat,this.glFormat=K.format,this.glType=K.type,this.compressed=K.compressed,this.mipmaps=Boolean(this.props.mipmaps),this._initialize(J),Object.seal(this)}_initialize($){this.handle=this.props.handle||this.gl.createTexture(),this.device.setSpectorMetadata(this.handle,{...this.props,data:$.data});let{width:Q,height:J}=$;if(!Q||!J){let K=I5.getTextureDataSize($.data);Q=K?.width||1,J=K?.height||1}if(this.width=Q,this.height=J,this.depth=$.depth,this.setSampler($.sampler),this.view=new oK(this.device,{...this.props,texture:this}),this.bind(),fN0(this.gl,this.mipLevels,this),$.data)switch($.dimension){case"1d":this.setTexture1DData($.data);break;case"2d":this.setTexture2DData($.data);break;case"3d":this.setTexture3DData($.data);break;case"cube":this.setTextureCubeData($.data);break;case"2d-array":this.setTextureArrayData($.data);break;case"cube-array":this.setTextureCubeArrayData($.data);break;default:throw Error($.dimension)}if(this.mipmaps)this.generateMipmap()}destroy(){if(this.handle)this.gl.deleteTexture(this.handle),this.removeStats(),this.trackDeallocatedMemory("Texture"),this.destroyed=!0}createView($){return new oK(this.device,{...$,texture:this})}setSampler($={}){let Q;if($ instanceof pH)this.sampler=$,Q=$.props;else this.sampler=new pH(this.device,$),Q=$;let J=Lk(Q);this._setSamplerParameters(J)}generateMipmap($){if(!(this.device.isTextureFormatRenderable(this.props.format)&&this.device.isTextureFormatFilterable(this.props.format))){if(g0.warn(`${this} is not renderable or filterable, may not be able to generate mipmaps`)(),!$?.force)return}try{this.gl.bindTexture(this.glTarget,this.handle),this.gl.generateMipmap(this.glTarget)}catch(J){g0.warn(`Error generating mipmap for ${this}: ${J.message}`)()}finally{this.gl.bindTexture(this.glTarget,null)}}copyExternalImage($){let Q=I5.getExternalImageSize($.image),J={...I5.defaultCopyExternalImageOptions,...Q,...$},{image:K,depth:Y,mipLevel:q,x:Z,y:X,z:W,flipY:F}=J,{width:H,height:B}=J,{dimension:z,glTarget:A,glFormat:R,glInternalFormat:G,glType:w}=this;if(H=Math.min(H,this.width-Z),B=Math.min(B,this.height-X),$.sourceX||$.sourceY)throw Error("WebGL does not support sourceX/sourceY)");return dm(this.device.gl,this.handle,K,{dimension:z,mipLevel:q,x:Z,y:X,z:W,width:H,height:B,depth:Y,glFormat:R,glInternalFormat:G,glType:w,glTarget:A,flipY:F}),{width:J.width,height:J.height}}setTexture1DData($){throw Error("setTexture1DData not supported in WebGL.")}setTexture2DData($,Q=0){this.bind();let J=I5.normalizeTextureData($,this);if(J.length>1&&this.props.mipmaps!==!1)g0.warn(`Texture ${this.id} mipmap and multiple LODs.`)();for(let K=0;K<J.length;K++){let Y=J[K];this._setMipLevel(Q,K,Y)}this.unbind()}setTexture3DData($){if(this.props.dimension!=="3d")throw Error(this.id);if(ArrayBuffer.isView($))this.bind(),nm(this.device.gl,$,this),this.unbind()}setTextureCubeData($,Q=0){if(this.props.dimension!=="cube")throw Error(this.id);for(let J of I5.CubeFaces)this.setTextureCubeFaceData($[J],J)}setTextureArrayData($){if(this.props.dimension!=="2d-array")throw Error(this.id);throw Error("setTextureArrayData not implemented.")}setTextureCubeArrayData($){throw Error("setTextureCubeArrayData not supported in WebGL2.")}setTextureCubeFaceData($,Q,J=0){if(Array.isArray($)&&$.length>1&&this.props.mipmaps!==!1)g0.warn(`${this.id} has mipmap and multiple LODs.`)();let K=I5.CubeFaces.indexOf(Q);this.setTexture2DData($,K)}update(){throw Error("Texture.update() not implemented. Use ExternalTexture")}setImageDataForFace($){let{face:Q,width:J,height:K,pixels:Y,data:q,format:Z=6408,type:X=5121}=$,{gl:W}=this,F=Y||q;if(this.bind(),F instanceof Promise)F.then((H)=>this.setImageDataForFace(Object.assign({},$,{face:Q,data:H,pixels:H})));else if(this.width||this.height)W.texImage2D(Q,0,Z,J,K,0,Z,X,F);else W.texImage2D(Q,0,Z,Z,X,F)}_getImageDataMap($){for(let Q=0;Q<I5.CubeFaces.length;++Q){let J=I5.CubeFaces[Q];if($[J])$[34069+Q]=$[J],delete $[J]}return $}_setSamplerParameters($){g0.log(1,`${this.id} sampler parameters`,this.device.getGLKeys($))(),this.gl.bindTexture(this.glTarget,this.handle);for(let[Q,J]of Object.entries($)){let K=Number(Q),Y=J;switch(K){case 33082:case 33083:this.gl.texParameterf(this.glTarget,K,Y);break;case 10241:this.gl.texParameteri(this.glTarget,K,Y);break;case 10242:case 10243:this.gl.texParameteri(this.glTarget,K,Y);break;case 34046:if(this.device.features.has("texture-filterable-anisotropic-webgl"))this.gl.texParameteri(this.glTarget,K,Y);break;default:this.gl.texParameteri(this.glTarget,K,Y);break}}this.gl.bindTexture(this.glTarget,null)}_setMipLevel($,Q,J,K=this.glTarget){if(I5.isExternalImage(J)){dm(this.device.gl,this.handle,J,{...this,depth:$,mipLevel:Q,glTarget:K,flipY:this.props.flipY});return}if(I5.isTextureLevelData(J)){nm(this.device.gl,J.data,{...this,depth:$,mipLevel:Q,glTarget:K});return}throw Error("Texture: invalid image data")}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind($){let{gl:Q}=this;if($!==void 0)this.textureUnit=$,Q.activeTexture(33984+$);return Q.bindTexture(this.glTarget,this.handle),$}unbind($){let{gl:Q}=this;if($!==void 0)this.textureUnit=$,Q.activeTexture(33984+$);return Q.bindTexture(this.glTarget,null),$}}var R81=[1,2,4,8];class lm extends bK{device;glParameters;constructor($,Q){super($,Q);this.device=$;let J;if(!Q?.parameters?.viewport)if(Q?.framebuffer){let{width:Y,height:q}=Q.framebuffer;J=[0,0,Y,q]}else{let[Y,q]=$.getCanvasContext().getDrawingBufferSize();J=[0,0,Y,q]}if(this.device.pushState(),this.setParameters({viewport:J,...this.props.parameters}),this.props.framebuffer?.handle)if(this.props.framebuffer){let Y=this.props.framebuffer.colorAttachments.map((q,Z)=>36064+Z);this.device.gl.drawBuffers(Y)}else this.device.gl.drawBuffers([1029]);this.clear()}end(){this.device.popState()}pushDebugGroup($){}popDebugGroup(){}insertDebugMarker($){}setParameters($={}){let Q={...this.glParameters};if(Q.framebuffer=this.props.framebuffer||null,this.props.depthReadOnly)Q.depthMask=!this.props.depthReadOnly;if(Q.stencilMask=this.props.stencilReadOnly?0:1,Q[35977]=this.props.discard,$.viewport)if($.viewport.length>=6)Q.viewport=$.viewport.slice(0,4),Q.depthRange=[$.viewport[4],$.viewport[5]];else Q.viewport=$.viewport;if($.scissorRect)Q.scissorTest=!0,Q.scissor=$.scissorRect;if($.blendConstant)Q.blendColor=$.blendConstant;if($.stencilReference)console.warn("RenderPassParameters.stencilReference not yet implemented in WebGL"),$[2967]=$.stencilReference;if($.colorMask)Q.colorMask=R81.map((J)=>Boolean(J&$.colorMask));this.glParameters=Q,m$(this.device.gl,Q)}beginOcclusionQuery($){this.props.occlusionQuerySet?.beginOcclusionQuery()}endOcclusionQuery(){this.props.occlusionQuerySet?.endOcclusionQuery()}clear(){let $={...this.glParameters},Q=0;if(this.props.clearColors)this.props.clearColors.forEach((J,K)=>{if(J)this.clearColorBuffer(K,J)});if(this.props.clearColor!==!1&&this.props.clearColors===void 0)Q|=16384,$.clearColor=this.props.clearColor;if(this.props.clearDepth!==!1)Q|=256,$.clearDepth=this.props.clearDepth;if(this.props.clearStencil!==!1)Q|=1024,$.clearStencil=this.props.clearStencil;if(Q!==0)nX(this.device.gl,$,()=>{this.device.gl.clear(Q)})}clearColorBuffer($=0,Q=[0,0,0,0]){nX(this.device.gl,{framebuffer:this.props.framebuffer},()=>{switch(Q.constructor){case Int8Array:case Int16Array:case Int32Array:this.device.gl.clearBufferiv(6144,$,Q);break;case Uint8Array:case Uint8ClampedArray:case Uint16Array:case Uint32Array:this.device.gl.clearBufferuiv(6144,$,Q);break;case Float32Array:this.device.gl.clearBufferfv(6144,$,Q);break;default:throw Error("clearColorBuffer: color must be typed array")}})}}function xN0($){return G81.includes($)}var G81=[35678,35680,35679,35682,36289,36292,36293,36298,36299,36300,36303,36306,36307,36308,36311],cN0={[5126]:[5126,1,"float","f32","float32"],[35664]:[5126,2,"vec2","vec2<f32>","float32x2"],[35665]:[5126,3,"vec3","vec3<f32>","float32x3"],[35666]:[5126,4,"vec4","vec4<f32>","float32x4"],[5124]:[5124,1,"int","i32","sint32"],[35667]:[5124,2,"ivec2","vec2<i32>","sint32x2"],[35668]:[5124,3,"ivec3","vec3<i32>","sint32x3"],[35669]:[5124,4,"ivec4","vec4<i32>","sint32x4"],[5125]:[5125,1,"uint","u32","uint32"],[36294]:[5125,2,"uvec2","vec2<u32>","uint32x2"],[36295]:[5125,3,"uvec3","vec3<u32>","uint32x3"],[36296]:[5125,4,"uvec4","vec4<u32>","uint32x4"],[35670]:[5126,1,"bool","f32","float32"],[35671]:[5126,2,"bvec2","vec2<f32>","float32x2"],[35672]:[5126,3,"bvec3","vec3<f32>","float32x3"],[35673]:[5126,4,"bvec4","vec4<f32>","float32x4"],[35674]:[5126,8,"mat2","mat2x2<f32>"],[35685]:[5126,8,"mat2x3","mat2x3<f32>"],[35686]:[5126,8,"mat2x4","mat2x4<f32>"],[35687]:[5126,12,"mat3x2","mat3x2<f32>"],[35675]:[5126,12,"mat3","mat3x3<f32>"],[35688]:[5126,12,"mat3x4","mat3x4<f32>"],[35689]:[5126,16,"mat4x2","mat4x2<f32>"],[35690]:[5126,16,"mat4x3","mat4x3<f32>"],[35676]:[5126,16,"mat4","mat4x4<f32>"]};function rm($){let Q=cN0[$];if(!Q)throw Error("uniform");let[J,K,,Y]=Q;return{format:Y,components:K,glType:J}}function uN0($){let Q=cN0[$];if(!Q)throw Error("attribute");let[,J,,K,Y]=Q;return{attributeType:K,vertexFormat:Y,components:J}}function mN0($,Q){let J={attributes:[],bindings:[]};J.attributes=w81($,Q);let K=D81($,Q);for(let X of K){let W=X.uniforms.map((F)=>({name:F.name,format:F.format,byteOffset:F.byteOffset,byteStride:F.byteStride,arrayLength:F.arrayLength}));J.bindings.push({type:"uniform",name:X.name,group:0,location:X.location,visibility:(X.vertex?1:0)&(X.fragment?2:0),minBindingSize:X.byteLength,uniforms:W})}let Y=T81($,Q),q=0;for(let X of Y)if(xN0(X.type)){let{viewDimension:W,sampleType:F}=P81(X.type);J.bindings.push({type:"texture",name:X.name,group:0,location:q,viewDimension:W,sampleType:F}),X.textureUnit=q,q+=1}if(Y.length)J.uniforms=Y;let Z=O81($,Q);if(Z?.length)J.varyings=Z;return J}function w81($,Q){let J=[],K=$.getProgramParameter(Q,35721);for(let Y=0;Y<K;Y++){let q=$.getActiveAttrib(Q,Y);if(!q)throw Error("activeInfo");let{name:Z,type:X}=q,W=$.getAttribLocation(Q,Z);if(W>=0){let{attributeType:F}=uN0(X),H=/instance/i.test(Z)?"instance":"vertex";J.push({name:Z,location:W,stepMode:H,type:F})}}return J.sort((Y,q)=>Y.location-q.location),J}function O81($,Q){let J=[],K=$.getProgramParameter(Q,35971);for(let Y=0;Y<K;Y++){let q=$.getTransformFeedbackVarying(Q,Y);if(!q)throw Error("activeInfo");let{name:Z,type:X,size:W}=q,{glType:F,components:H}=rm(X),B={location:Y,name:Z,type:F,size:W*H};J.push(B)}return J.sort((Y,q)=>Y.location-q.location),J}function T81($,Q){let J=[],K=$.getProgramParameter(Q,35718);for(let Y=0;Y<K;Y++){let q=$.getActiveUniform(Q,Y);if(!q)throw Error("activeInfo");let{name:Z,size:X,type:W}=q,{name:F,isArray:H}=k81(Z),B=$.getUniformLocation(Q,F),z={location:B,name:F,size:X,type:W,isArray:H};if(J.push(z),z.size>1)for(let A=0;A<z.size;A++){let R=`${F}[${A}]`;B=$.getUniformLocation(Q,R);let G={...z,name:R,location:B};J.push(G)}}return J}function D81($,Q){let J=(q,Z)=>$.getActiveUniformBlockParameter(Q,q,Z),K=[],Y=$.getProgramParameter(Q,35382);for(let q=0;q<Y;q++){let Z={name:$.getActiveUniformBlockName(Q,q)||"",location:J(q,35391),byteLength:J(q,35392),vertex:J(q,35396),fragment:J(q,35398),uniformCount:J(q,35394),uniforms:[]},X=J(q,35395)||[],W=$.getActiveUniforms(Q,X,35383),F=$.getActiveUniforms(Q,X,35384),H=$.getActiveUniforms(Q,X,35387),B=$.getActiveUniforms(Q,X,35388);for(let z=0;z<Z.uniformCount;++z){let A=$.getActiveUniform(Q,X[z]);if(!A)throw Error("activeInfo");Z.uniforms.push({name:A.name,format:rm(W[z]).format,type:W[z],arrayLength:F[z],byteOffset:H[z],byteStride:B[z]})}K.push(Z)}return K.sort((q,Z)=>q.location-Z.location),K}var C81={[35678]:["2d","float"],[35680]:["cube","float"],[35679]:["3d","float"],[35682]:["3d","depth"],[36289]:["2d-array","float"],[36292]:["2d-array","depth"],[36293]:["cube","float"],[36298]:["2d","sint"],[36299]:["3d","sint"],[36300]:["cube","sint"],[36303]:["2d-array","uint"],[36306]:["2d","uint"],[36307]:["3d","uint"],[36308]:["cube","uint"],[36311]:["2d-array","uint"]};function P81($){let Q=C81[$];if(!Q)throw Error("sampler");let[J,K]=Q;return{viewDimension:J,sampleType:K}}function k81($){if($[$.length-1]!=="]")return{name:$,length:1,isArray:!1};let J=/([^[]*)(\[[0-9]+\])?/.exec($);if(!J||J.length<2)throw Error(`Failed to parse GLSL uniform name ${$}`);return{name:J[1],length:J[2]?1:0,isArray:Boolean(J[2])}}function pN0($,Q,J,K){let Y=$,q=K;if(q===!0)q=1;if(q===!1)q=0;let Z=typeof q==="number"?[q]:q;switch(J){case 35678:case 35680:case 35679:case 35682:case 36289:case 36292:case 36293:case 36298:case 36299:case 36300:case 36303:case 36306:case 36307:case 36308:case 36311:if(typeof K!=="number")throw Error("samplers must be set to integers");return $.uniform1i(Q,K);case 5126:return $.uniform1fv(Q,Z);case 35664:return $.uniform2fv(Q,Z);case 35665:return $.uniform3fv(Q,Z);case 35666:return $.uniform4fv(Q,Z);case 5124:return $.uniform1iv(Q,Z);case 35667:return $.uniform2iv(Q,Z);case 35668:return $.uniform3iv(Q,Z);case 35669:return $.uniform4iv(Q,Z);case 35670:return $.uniform1iv(Q,Z);case 35671:return $.uniform2iv(Q,Z);case 35672:return $.uniform3iv(Q,Z);case 35673:return $.uniform4iv(Q,Z);case 5125:return Y.uniform1uiv(Q,Z,1);case 36294:return Y.uniform2uiv(Q,Z,2);case 36295:return Y.uniform3uiv(Q,Z,3);case 36296:return Y.uniform4uiv(Q,Z,4);case 35674:return $.uniformMatrix2fv(Q,!1,Z);case 35675:return $.uniformMatrix3fv(Q,!1,Z);case 35676:return $.uniformMatrix4fv(Q,!1,Z);case 35685:return Y.uniformMatrix2x3fv(Q,!1,Z);case 35686:return Y.uniformMatrix2x4fv(Q,!1,Z);case 35687:return Y.uniformMatrix3x2fv(Q,!1,Z);case 35688:return Y.uniformMatrix3x4fv(Q,!1,Z);case 35689:return Y.uniformMatrix4x2fv(Q,!1,Z);case 35690:return Y.uniformMatrix4x3fv(Q,!1,Z)}throw Error("Illegal uniform")}function j81($){return oV($)!==null||typeof $==="number"||typeof $==="boolean"}function dN0($){let Q={bindings:{},uniforms:{}};return Object.keys($).forEach((J)=>{let K=$[J];if(j81(K))Q.uniforms[J]=K;else Q.bindings[J]=K}),Q}function nN0($){switch($){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 3;case"triangle-list":return 4;case"triangle-strip":return 5;default:throw Error($)}}function lN0($){switch($){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 1;case"triangle-list":return 4;case"triangle-strip":return 4;default:throw Error($)}}var rN0=4;class im extends qJ{device;handle;vs;fs;introspectedLayout;uniforms={};bindings={};varyings=null;_uniformCount=0;_uniformSetters={};constructor($,Q){super($,Q);this.device=$,this.handle=this.props.handle||this.device.gl.createProgram(),this.device.setSpectorMetadata(this.handle,{id:this.props.id}),this.vs=Q.vs,this.fs=Q.fs;let{varyings:J,bufferMode:K=35981}=Q;if(J&&J.length>0)this.varyings=J,this.device.gl.transformFeedbackVaryings(this.handle,J,K);this._linkShaders(),g0.time(1,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.introspectedLayout=mN0(this.device.gl,this.handle),g0.timeEnd(1,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.shaderLayout=E81(this.introspectedLayout,Q.shaderLayout)}destroy(){if(this.handle)this.device.gl.deleteProgram(this.handle),this.destroyed=!0}setBindings($,Q){for(let[J,K]of Object.entries($)){let Y=this.shaderLayout.bindings.find((q)=>q.name===J)||this.shaderLayout.bindings.find((q)=>q.name===`${J}Uniforms`);if(!Y){let q=this.shaderLayout.bindings.map((Z)=>`"${Z.name}"`).join(", ");if(!Q?.disableWarnings)g0.warn(`No binding "${J}" in render pipeline "${this.id}", expected one of ${q}`,K)();continue}if(!K)g0.warn(`Unsetting binding "${J}" in render pipeline "${this.id}"`)();switch(Y.type){case"uniform":if(!(K instanceof GJ)&&!(K.buffer instanceof GJ))throw Error("buffer value");break;case"texture":if(!(K instanceof oK||K instanceof aK||K instanceof sK))throw Error("texture value");break;case"sampler":g0.warn(`Ignoring sampler ${J}`)();break;default:throw Error(Y.type)}this.bindings[J]=K}}draw($){let{renderPass:Q,parameters:J=this.props.parameters,topology:K=this.props.topology,vertexArray:Y,vertexCount:q,instanceCount:Z,isInstanced:X=!1,firstVertex:W=0,transformFeedback:F}=$,H=nN0(K),B=Boolean(Y.indexBuffer),z=Y.indexBuffer?.glIndexType;if(this.linkStatus!=="success")return g0.info(2,`RenderPipeline:${this.id}.draw() aborted - waiting for shader linking`)(),!1;if(!this._areTexturesRenderable())return g0.info(2,`RenderPipeline:${this.id}.draw() aborted - textures not yet loaded`)(),!1;if(this.device.gl.useProgram(this.handle),Y.bindBeforeRender(Q),F)F.begin(this.props.topology);this._applyBindings(),this._applyUniforms();let A=Q;return hN0(this.device,J,A.glParameters,()=>{if(B&&X)this.device.gl.drawElementsInstanced(H,q||0,z,W,Z||0);else if(B)this.device.gl.drawElements(H,q||0,z,W);else if(X)this.device.gl.drawArraysInstanced(H,W,q||0,Z||0);else this.device.gl.drawArrays(H,W,q||0);if(F)F.end()}),Y.unbindAfterRender(Q),!0}setUniformsWebGL($){let{bindings:Q}=dN0($);Object.keys(Q).forEach((J)=>{g0.warn(`Unsupported value "${JSON.stringify(Q[J])}" used in setUniforms() for key ${J}. Use setBindings() instead?`)()}),Object.assign(this.uniforms,$)}async _linkShaders(){let{gl:$}=this.device;if($.attachShader(this.handle,this.vs.handle),$.attachShader(this.handle,this.fs.handle),g0.time(rN0,`linkProgram for ${this.id}`)(),$.linkProgram(this.handle),g0.timeEnd(rN0,`linkProgram for ${this.id}`)(),g0.level===0);if(!this.device.features.has("compilation-status-async-webgl")){let J=this._getLinkStatus();this._reportLinkStatus(J);return}g0.once(1,"RenderPipeline linking is asynchronous")(),await this._waitForLinkComplete(),g0.info(2,`RenderPipeline ${this.id} - async linking complete: ${this.linkStatus}`)();let Q=this._getLinkStatus();this._reportLinkStatus(Q)}async _reportLinkStatus($){switch($){case"success":return;default:switch(this.vs.compilationStatus){case"error":throw this.vs.debugShader(),Error(`Error during compilation of shader ${this.vs.id}`);case"pending":this.vs.asyncCompilationStatus.then(()=>this.vs.debugShader());break;case"success":break}switch(this.fs?.compilationStatus){case"error":throw this.fs.debugShader(),Error(`Error during compilation of shader ${this.fs.id}`);case"pending":this.fs.asyncCompilationStatus.then(()=>this.fs.debugShader());break;case"success":break}let Q=this.device.gl.getProgramInfoLog(this.handle);throw Error(`Error during ${$}: ${Q}`)}}_getLinkStatus(){let{gl:$}=this.device;if(!$.getProgramParameter(this.handle,35714))return this.linkStatus="error","linking";if($.validateProgram(this.handle),!$.getProgramParameter(this.handle,35715))return this.linkStatus="error","validation";return this.linkStatus="success","success"}async _waitForLinkComplete(){let $=async(K)=>await new Promise((Y)=>setTimeout(Y,K)),Q=10;if(!this.device.features.has("compilation-status-async-webgl")){await $(10);return}let{gl:J}=this.device;for(;;){if(J.getProgramParameter(this.handle,37297))return;await $(10)}}_areTexturesRenderable(){let $=!0;for(let Q of this.shaderLayout.bindings)if(!this.bindings[Q.name]&&!this.bindings[Q.name.replace(/Uniforms$/,"")])g0.warn(`Binding ${Q.name} not found in ${this.id}`)(),$=!1;return $}_applyBindings(){if(this.linkStatus!=="success")return;let{gl:$}=this.device;$.useProgram(this.handle);let Q=0,J=0;for(let K of this.shaderLayout.bindings){let Y=this.bindings[K.name]||this.bindings[K.name.replace(/Uniforms$/,"")];if(!Y)throw Error(`No value for binding ${K.name} in ${this.id}`);switch(K.type){case"uniform":let{name:q}=K,Z=$.getUniformBlockIndex(this.handle,q);if(Z===4294967295)throw Error(`Invalid uniform block name ${q}`);if($.uniformBlockBinding(this.handle,J,Z),Y instanceof GJ)$.bindBufferBase(35345,J,Y.handle);else $.bindBufferRange(35345,J,Y.buffer.handle,Y.offset||0,Y.size||Y.buffer.byteLength-Y.offset);J+=1;break;case"texture":if(!(Y instanceof oK||Y instanceof aK||Y instanceof sK))throw Error("texture");let X;if(Y instanceof oK)X=Y.texture;else if(Y instanceof aK)X=Y;else if(Y instanceof sK&&Y.colorAttachments[0]instanceof oK)g0.warn("Passing framebuffer in texture binding may be deprecated. Use fbo.colorAttachments[0] instead")(),X=Y.colorAttachments[0].texture;else throw Error("No texture");$.activeTexture(33984+Q),$.bindTexture(X.glTarget,X.handle),Q+=1;break;case"sampler":break;case"storage":case"read-only-storage":throw Error(`binding type '${K.type}' not supported in WebGL`)}}}_applyUniforms(){for(let $ of this.shaderLayout.uniforms||[]){let{name:Q,location:J,type:K,textureUnit:Y}=$,q=this.uniforms[Q]??Y;if(q!==void 0)pN0(this.device.gl,J,K,q)}}}function E81($,Q){let J={...$,attributes:$.attributes.map((K)=>({...K}))};for(let K of Q?.attributes||[]){let Y=J.attributes.find((q)=>q.name===K.name);if(!Y)g0.warn(`shader layout attribute ${K.name} not present in shader`);else Y.type=K.type||Y.type,Y.stepMode=K.stepMode||Y.stepMode}return J}class sm extends OV{device;commands=[];constructor($){super($,{});this.device=$}submitCommands($=this.commands){for(let Q of $)switch(Q.name){case"copy-buffer-to-buffer":L81(this.device,Q.options);break;case"copy-buffer-to-texture":h81(this.device,Q.options);break;case"copy-texture-to-buffer":v81(this.device,Q.options);break;case"copy-texture-to-texture":S81(this.device,Q.options);break;default:throw Error(Q.name)}}}function L81($,Q){let{sourceBuffer:J,destinationBuffer:K}=Q;$.gl.bindBuffer(36662,J.handle),$.gl.bindBuffer(36663,K.handle),$.gl.copyBufferSubData(36662,36663,Q.sourceOffset??0,Q.destinationOffset??0,Q.size),$.gl.bindBuffer(36662,null),$.gl.bindBuffer(36663,null)}function h81($,Q){throw Error("Not implemented")}function v81($,Q){let{sourceTexture:J,mipLevel:K=0,aspect:Y="all",width:q=Q.sourceTexture.width,height:Z=Q.sourceTexture.height,depthOrArrayLayers:X=0,origin:W=[0,0],destinationBuffer:F,byteOffset:H=0,bytesPerRow:B,rowsPerImage:z}=Q;if(Y!=="all")throw Error("aspect not supported in WebGL");if(K!==0||X!==0||B||z)throw Error("not implemented");let{framebuffer:A,destroyFramebuffer:R}=iN0(J),G;try{let w=F,T=q||A.width,D=Z||A.height,P=Ck(A.colorAttachments[0].texture.props.format),j=P.format,E=P.type;$.gl.bindBuffer(35051,w.handle),G=$.gl.bindFramebuffer(36160,A.handle),$.gl.readPixels(W[0],W[1],T,D,j,E,H)}finally{if($.gl.bindBuffer(35051,null),G!==void 0)$.gl.bindFramebuffer(36160,G);if(R)A.destroy()}}function S81($,Q){let{sourceTexture:J,destinationMipLevel:K=0,origin:Y=[0,0],destinationOrigin:q=[0,0],destinationTexture:Z}=Q,{width:X=Q.destinationTexture.width,height:W=Q.destinationTexture.height}=Q,{framebuffer:F,destroyFramebuffer:H}=iN0(J),[B,z]=Y,[A,R,G]=q,w=$.gl.bindFramebuffer(36160,F.handle),T=null,D;if(Z instanceof aK)T=Z,X=Number.isFinite(X)?X:T.width,W=Number.isFinite(W)?W:T.height,T.bind(0),D=T.glTarget;else throw Error("invalid destination");switch(D){case 3553:case 34067:$.gl.copyTexSubImage2D(D,K,A,R,B,z,X,W);break;case 35866:case 32879:$.gl.copyTexSubImage3D(D,K,A,R,G,B,z,X,W);break;default:}if(T)T.unbind();if($.gl.bindFramebuffer(36160,w),H)F.destroy()}function iN0($){if($ instanceof I5){let{width:Q,height:J,id:K}=$;return{framebuffer:$.device.createFramebuffer({id:`framebuffer-for-${K}`,width:Q,height:J,colorAttachments:[$]}),destroyFramebuffer:!0}}return{framebuffer:$,destroyFramebuffer:!1}}class om extends wV{device;commandBuffer;constructor($,Q){super($,Q);this.device=$,this.commandBuffer=new sm($)}destroy(){}finish(){this.commandBuffer.submitCommands()}copyBufferToBuffer($){this.commandBuffer.commands.push({name:"copy-buffer-to-buffer",options:$})}copyBufferToTexture($){this.commandBuffer.commands.push({name:"copy-buffer-to-texture",options:$})}copyTextureToBuffer($){this.commandBuffer.commands.push({name:"copy-texture-to-buffer",options:$})}copyTextureToTexture($){this.commandBuffer.commands.push({name:"copy-texture-to-texture",options:$})}pushDebugGroup($){}popDebugGroup(){}insertDebugMarker($){}resolveQuerySet($,Q,J){}}function sN0($){let{target:Q,source:J,start:K=0,count:Y=1}=$,q=J.length,Z=Y*q,X=0;for(let W=K;X<q;X++)Q[W++]=J[X];while(X<Z)if(X<Z-X)Q.copyWithin(K+X,K,K+X),X*=2;else Q.copyWithin(K+X,K,K+Z-X),X=Z;return $.target}class hk extends TV{get[Symbol.toStringTag](){return"VertexArray"}device;handle;buffer=null;bufferValue=null;static isConstantAttributeZeroSupported($){return _x()==="Chrome"}constructor($,Q){super($,Q);this.device=$,this.handle=this.device.gl.createVertexArray()}destroy(){if(super.destroy(),this.buffer)this.buffer?.destroy();if(this.handle)this.device.gl.deleteVertexArray(this.handle),this.handle=void 0}setIndexBuffer($){let Q=$;if(Q&&Q.glTarget!==34963)throw Error("Use .setBuffer()");this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34963,Q?Q.handle:null),this.indexBuffer=Q,this.device.gl.bindVertexArray(null)}setBuffer($,Q){let J=Q;if(J.glTarget===34963)throw Error("Use .setIndexBuffer()");let{size:K,type:Y,stride:q,offset:Z,normalized:X,integer:W,divisor:F}=this._getAccessor($);if(this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34962,J.handle),W)this.device.gl.vertexAttribIPointer($,K,Y,q,Z);else this.device.gl.vertexAttribPointer($,K,Y,X,q,Z);this.device.gl.bindBuffer(34962,null),this.device.gl.enableVertexAttribArray($),this.device.gl.vertexAttribDivisor($,F||0),this.attributes[$]=J,this.device.gl.bindVertexArray(null)}setConstantWebGL($,Q){this._enable($,!1),this.attributes[$]=Q}bindBeforeRender(){this.device.gl.bindVertexArray(this.handle),this._applyConstantAttributes()}unbindAfterRender(){this.device.gl.bindVertexArray(null)}_applyConstantAttributes(){for(let $=0;$<this.maxVertexAttributes;++$){let Q=this.attributes[$];if(ArrayBuffer.isView(Q))this.device.setConstantAttributeWebGL($,Q)}}_getAccessor($){let Q=this.attributeInfos[$];if(!Q)throw Error(`Unknown attribute location ${$}`);let J=Tk(Q.bufferDataType);return{size:Q.bufferComponents,type:J,stride:Q.byteStride,offset:Q.byteOffset,normalized:Q.normalized,integer:Q.integer,divisor:Q.stepMode==="instance"?1:0}}_enable($,Q=!0){let K=hk.isConstantAttributeZeroSupported(this.device)||$!==0;if(Q||K){if($=Number($),this.device.gl.bindVertexArray(this.handle),Q)this.device.gl.enableVertexAttribArray($);else this.device.gl.disableVertexAttribArray($);this.device.gl.bindVertexArray(null)}}getConstantBuffer($,Q){let J=_81(Q),K=J.byteLength*$,Y=J.length*$;if(this.buffer&&K!==this.buffer.byteLength)throw Error(`Buffer size is immutable, byte length ${K} !== ${this.buffer.byteLength}.`);let q=!this.buffer;if(this.buffer=this.buffer||this.device.createBuffer({byteLength:K}),q=q||!f81(J,this.bufferValue),q){let Z=Lc(Q.constructor,Y);sN0({target:Z,source:J,start:0,count:Y}),this.buffer.write(Z),this.bufferValue=Q}return this.buffer}}function _81($){if(Array.isArray($))return new Float32Array($);return $}function f81($,Q){if(!$||!Q||$.length!==Q.length||$.constructor!==Q.constructor)return!1;for(let J=0;J<$.length;++J)if($[J]!==Q[J])return!1;return!0}class am extends DV{device;gl;handle;layout;buffers={};unusedBuffers={};bindOnUse=!0;_bound=!1;constructor($,Q){super($,Q);if(this.device=$,this.gl=$.gl,this.handle=this.props.handle||this.gl.createTransformFeedback(),this.layout=this.props.layout,Q.buffers)this.setBuffers(Q.buffers);Object.seal(this)}destroy(){this.gl.deleteTransformFeedback(this.handle),super.destroy()}begin($="point-list"){if(this.gl.bindTransformFeedback(36386,this.handle),this.bindOnUse)this._bindBuffers();this.gl.beginTransformFeedback(lN0($))}end(){if(this.gl.endTransformFeedback(),this.bindOnUse)this._unbindBuffers();this.gl.bindTransformFeedback(36386,null)}setBuffers($){this.buffers={},this.unusedBuffers={},this.bind(()=>{for(let Q in $)this.setBuffer(Q,$[Q])})}setBuffer($,Q){let J=this._getVaryingIndex($),{buffer:K,byteLength:Y,byteOffset:q}=this._getBufferRange(Q);if(J<0){this.unusedBuffers[$]=K,g0.warn(`${this.id} unusedBuffers varying buffer ${$}`)();return}if(this.buffers[J]={buffer:K,byteLength:Y,byteOffset:q},!this.bindOnUse)this._bindBuffer(J,K,q,Y)}getBuffer($){if(oN0($))return this.buffers[$]||null;let Q=this._getVaryingIndex($);return Q>=0?this.buffers[Q]:null}bind($=this.handle){if(typeof $!=="function")return this.gl.bindTransformFeedback(36386,$),this;let Q;if(!this._bound)this.gl.bindTransformFeedback(36386,this.handle),this._bound=!0,Q=$(),this._bound=!1,this.gl.bindTransformFeedback(36386,null);else Q=$();return Q}unbind(){this.bind(null)}_getBufferRange($){if($ instanceof GJ)return{buffer:$,byteOffset:0,byteLength:$.byteLength};let{buffer:Q,byteOffset:J=0,byteLength:K=$.buffer.byteLength}=$;return{buffer:Q,byteOffset:J,byteLength:K}}_getVaryingIndex($){if(oN0($))return Number($);for(let Q of this.layout.varyings)if($===Q.name)return Q.location;return-1}_bindBuffers(){for(let $ in this.buffers){let{buffer:Q,byteLength:J,byteOffset:K}=this._getBufferRange(this.buffers[$]);this._bindBuffer(Number($),Q,K,J)}}_unbindBuffers(){for(let $ in this.buffers)this.gl.bindBufferBase(35982,Number($),null)}_bindBuffer($,Q,J=0,K){let Y=Q&&Q.handle;if(!Y||K===void 0)this.gl.bindBufferBase(35982,$,Y);else this.gl.bindBufferRange(35982,$,Y,J,K)}}function oN0($){if(typeof $==="number")return Number.isInteger($);return/^\d+$/.test($)}class tm extends CV{device;handle;target=null;_queryPending=!1;_pollingPromise=null;get[Symbol.toStringTag](){return"Query"}constructor($,Q){super($,Q);if(this.device=$,Q.count>1)throw Error("WebGL QuerySet can only have one value");this.handle=this.device.gl.createQuery(),Object.seal(this)}destroy(){this.device.gl.deleteQuery(this.handle)}beginTimestampQuery(){return this._begin(35007)}endTimestampQuery(){this._end()}beginOcclusionQuery($){return this._begin($?.conservative?36202:35887)}endOcclusionQuery(){this._end()}beginTransformFeedbackQuery(){return this._begin(35976)}endTransformFeedbackQuery(){this._end()}async resolveQuery(){return[await this.pollQuery()]}_begin($){if(this._queryPending)return;this.target=$,this.device.gl.beginQuery(this.target,this.handle);return}_end(){if(this._queryPending)return;if(this.target)this.device.gl.endQuery(this.target),this.target=null,this._queryPending=!0;return}isResultAvailable(){if(!this._queryPending)return!1;let $=this.device.gl.getQueryParameter(this.handle,34919);if($)this._queryPending=!1;return $}isTimerDisjoint(){return this.device.gl.getParameter(36795)}getResult(){return this.device.gl.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}pollQuery($=Number.POSITIVE_INFINITY){if(this._pollingPromise)return this._pollingPromise;let Q=0;return this._pollingPromise=new Promise((J,K)=>{let Y=()=>{if(this.isResultAvailable())J(this.getResult()),this._pollingPromise=null;else if(Q++>$)K("Timed out"),this._pollingPromise=null;else requestAnimationFrame(Y)};requestAnimationFrame(Y)}),this._pollingPromise}}class wJ extends L3{type="webgl";handle;features;limits;info;canvasContext;lost;_resolveContextLost;gl;debug=!1;_canvasSizeInfo={clientWidth:0,clientHeight:0,devicePixelRatio:1};_extensions={};_polyfilled=!1;spectorJS;constructor($){super({...$,id:$.id||kN0("webgl-device")});let Q=L3._getCanvasContextProps($);if(!Q)throw Error("WebGLDevice requires props.createCanvasContext to be set");let J=Q.canvas?.gl?.device;if(J)throw Error(`WebGL context already attached to device ${J.id}`);this.canvasContext=new gm(this,Q),this.lost=new Promise((F)=>{this._resolveContextLost=F});let K={...$.webgl};if(Q.alphaMode==="premultiplied")K.premultipliedAlpha=!0;if($.powerPreference!==void 0)K.powerPreference=$.powerPreference;let q=this.props._handle||WN0(this.canvasContext.canvas,{onContextLost:(F)=>this._resolveContextLost?.({reason:"destroyed",message:"Entered sleep mode, or too many apps or browser tabs are using the GPU."}),onContextRestored:(F)=>console.log("WebGL context restored")},K);if(!q)throw Error("WebGL context creation failed");if(J=q.device,J){if($._reuseDevices)return g0.log(1,`Not creating a new Device, instead returning a reference to Device ${J.id} already attached to WebGL context`,J)(),J._reused=!0,J;throw Error(`WebGL context already attached to device ${J.id}`)}if(this.handle=q,this.gl=q,this.spectorJS=ON0({...this.props,gl:this.handle}),this.gl.device=this,this.gl._version=2,this.info=FN0(this.gl,this._extensions),this.limits=new bm(this.gl),this.features=new Mm(this.gl,this._extensions,this.props._disabledFeatures),this.props._initializeFeatures)this.features.initializeFeatures();if(Q.autoResize!==!1)this.canvasContext.resize();new VJ(this.gl,{log:(...F)=>g0.log(1,...F)()}).trackState(this.gl,{copyState:!1});let X=$.debugWebGL||$.debug,W=$.debugWebGL;if(X){if(this.gl=PN0(this.gl,{debugWebGL:X,traceWebGL:W}),g0.warn("WebGL debug mode activated. Performance reduced.")(),$.debugWebGL)g0.level=Math.max(g0.level,1)}}destroy(){if(!this.props._reuseDevices&&!this._reused)delete this.gl.device}get isLost(){return this.gl.isContextLost()}createCanvasContext($){throw Error("WebGL only supports a single canvas")}createBuffer($){let Q=this._normalizeBufferProps($);return new GJ(this,Q)}createTexture($){return new aK(this,$)}createExternalTexture($){throw Error("createExternalTexture() not implemented")}createSampler($){return new pH(this,$)}createShader($){return new xm(this,$)}createFramebuffer($){return new sK(this,$)}createVertexArray($){return new hk(this,$)}createTransformFeedback($){return new am(this,$)}createQuerySet($){return new tm(this,$)}createRenderPipeline($){return new im(this,$)}beginRenderPass($){return new lm(this,$)}createComputePipeline($){throw Error("ComputePipeline not supported in WebGL")}beginComputePass($){throw Error("ComputePass not supported in WebGL")}renderPass=null;createCommandEncoder($={}){return new om(this,$)}submit(){this.renderPass?.end(),this.renderPass=null}readPixelsToArrayWebGL($,Q){return bN0($,Q)}readPixelsToBufferWebGL($,Q){return gN0($,Q)}setParametersWebGL($){m$(this.gl,$)}getParametersWebGL($){return Ok(this.gl,$)}withParametersWebGL($,Q){return nX(this.gl,$,Q)}resetWebGL(){g0.warn("WebGLDevice.resetWebGL is deprecated, use only for debugging")(),qN0(this.gl)}_getDeviceSpecificTextureFormatCapabilities($){return AN0(this.gl,$,this._extensions)}loseDevice(){let $=!1,J=this.getExtension("WEBGL_lose_context").WEBGL_lose_context;if(J)$=!0,J.loseContext();return this._resolveContextLost?.({reason:"destroyed",message:"Application triggered context loss"}),$}pushState(){VJ.get(this.gl).push()}popState(){VJ.get(this.gl).pop()}setSpectorMetadata($,Q){$.__SPECTOR_Metadata=Q}getGLKey($,Q){let J=Number($);for(let K in this.gl)if(this.gl[K]===J)return`GL.${K}`;return Q?.emptyIfUnknown?"":String($)}getGLKeys($){let Q={emptyIfUnknown:!0};return Object.entries($).reduce((J,[K,Y])=>{return J[`${K}:${this.getGLKey(K,Q)}`]=`${Y}:${this.getGLKey(Y,Q)}`,J},{})}_constants;setConstantAttributeWebGL($,Q){let J=this.limits.maxVertexAttributes;this._constants=this._constants||Array(J).fill(null);let K=this._constants[$];if(K&&g81(K,Q))g0.info(1,`setConstantAttributeWebGL(${$}) could have been skipped, value unchanged`)();switch(this._constants[$]=Q,Q.constructor){case Float32Array:I81(this,$,Q);break;case Int32Array:M81(this,$,Q);break;case Uint32Array:b81(this,$,Q);break;default:throw Error("constant")}}getExtension($){return RJ(this.gl,$,this._extensions),this._extensions}}function I81($,Q,J){switch(J.length){case 1:$.gl.vertexAttrib1fv(Q,J);break;case 2:$.gl.vertexAttrib2fv(Q,J);break;case 3:$.gl.vertexAttrib3fv(Q,J);break;case 4:$.gl.vertexAttrib4fv(Q,J);break;default:}}function M81($,Q,J){$.gl.vertexAttribI4iv(Q,J)}function b81($,Q,J){$.gl.vertexAttribI4uiv(Q,J)}function g81($,Q){if(!$||!Q||$.length!==Q.length||$.constructor!==Q.constructor)return!1;for(let J=0;J<$.length;++J)if($[J]!==Q[J])return!1;return!0}var y81={WEBGL_depth_texture:{UNSIGNED_INT_24_8_WEBGL:34042},OES_element_index_uint:{},OES_texture_float:{},OES_texture_half_float:{HALF_FLOAT_OES:5131},EXT_color_buffer_float:{},OES_standard_derivatives:{FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723},EXT_frag_depth:{},EXT_blend_minmax:{MIN_EXT:32775,MAX_EXT:32776},EXT_shader_texture_lod:{}},x81=($)=>({drawBuffersWEBGL(Q){return $.drawBuffers(Q)},COLOR_ATTACHMENT0_WEBGL:36064,COLOR_ATTACHMENT1_WEBGL:36065,COLOR_ATTACHMENT2_WEBGL:36066,COLOR_ATTACHMENT3_WEBGL:36067}),c81=($)=>({VERTEX_ARRAY_BINDING_OES:34229,createVertexArrayOES(){return $.createVertexArray()},deleteVertexArrayOES(Q){return $.deleteVertexArray(Q)},isVertexArrayOES(Q){return $.isVertexArray(Q)},bindVertexArrayOES(Q){return $.bindVertexArray(Q)}}),u81=($)=>({VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,drawArraysInstancedANGLE(...Q){return $.drawArraysInstanced(...Q)},drawElementsInstancedANGLE(...Q){return $.drawElementsInstanced(...Q)},vertexAttribDivisorANGLE(...Q){return $.vertexAttribDivisor(...Q)}});function aN0($=!0){let Q=HTMLCanvasElement.prototype;if(!$&&Q.originalGetContext){Q.getContext=Q.originalGetContext,Q.originalGetContext=void 0;return}Q.originalGetContext=Q.getContext,Q.getContext=function(J,K){if(J==="webgl"||J==="experimental-webgl"){let Y=this.originalGetContext("webgl2",K);if(Y instanceof HTMLElement)m81(Y);return Y}return this.originalGetContext(J,K)}}function m81($){$.getExtension("EXT_color_buffer_float");let Q={...y81,WEBGL_disjoint_timer_query:$.getExtension("EXT_disjoint_timer_query_webgl2"),WEBGL_draw_buffers:x81($),OES_vertex_array_object:c81($),ANGLE_instanced_arrays:u81($)},J=$.getExtension;$.getExtension=function(Y){let q=J.call($,Y);if(q)return q;if(Y in Q)return Q[Y];return null};let K=$.getSupportedExtensions;$.getSupportedExtensions=function(){return(K.apply($)||[])?.concat(Object.keys(Q))}}var vk=1;class tN0 extends ZP{type="webgl";constructor(){super();L3.defaultProps={...L3.defaultProps,...kk},wJ.adapter=this}isSupported(){return typeof WebGL2RenderingContext<"u"}enforceWebGL2($){aN0($)}async attach($){if($ instanceof wJ)return $;if($?.device instanceof L3)return $.device;if(!p81($))throw Error("Invalid WebGL2RenderingContext");return new wJ({_handle:$,createCanvasContext:{canvas:$.canvas,autoResize:!1}})}async create($={}){g0.groupCollapsed(vk,"WebGLDevice created")();let Q=[];if($.debugWebGL||$.debug)Q.push(CN0());if($.debugSpectorJS)Q.push(wN0($));let J=await Promise.allSettled(Q);for(let q of J)if(q.status==="rejected")g0.error(`Failed to initialize debug libraries ${q.reason}`)();let K=new wJ($),Y=`${K._reused?"Reusing":"Created"} device with WebGL2 ${K.debug?"debug ":""}context: ${K.info.vendor}, ${K.info.renderer} for canvas: ${K.canvasContext.id}`;return g0.probe(vk,Y)(),g0.table(vk,K.info)(),g0.groupEnd(vk)(),K}}function p81($){if(typeof WebGL2RenderingContext<"u"&&$ instanceof WebGL2RenderingContext)return!0;return Boolean($&&Number.isFinite($._version))}var Sk=new tN0;function YZ(){}var d81=({isDragging:$})=>$?"grabbing":"grab",eN0={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,parameters:{},parent:null,device:null,deviceProps:{},gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,widgets:[],onDeviceInitialized:YZ,onWebGLInitialized:YZ,onResize:YZ,onViewStateChange:YZ,onInteractionStateChange:YZ,onBeforeRender:YZ,onAfterRender:YZ,onLoad:YZ,onError:($)=>E1.error($.message,$.cause)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:d81,getTooltip:null,debug:!1,drawPickingColors:!1};class _k{constructor($){if(this.width=0,this.height=0,this.userData={},this.device=null,this.canvas=null,this.viewManager=null,this.layerManager=null,this.effectManager=null,this.deckRenderer=null,this.deckPicker=null,this.eventManager=null,this.widgetManager=null,this.tooltip=null,this.animationLoop=null,this.cursorState={isHovering:!1,isDragging:!1},this.stats=new b$({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this._lastPointerDownInfo=null,this._onPointerMove=(J)=>{let{_pickRequest:K}=this;if(J.type==="pointerleave")K.x=-1,K.y=-1,K.radius=0;else if(J.leftButton||J.rightButton)return;else{let Y=J.offsetCenter;if(!Y)return;K.x=Y.x,K.y=Y.y,K.radius=this.props.pickingRadius}if(this.layerManager)this.layerManager.context.mousePosition={x:K.x,y:K.y};K.event=J},this._onEvent=(J)=>{let K=mV[J.type],Y=J.offsetCenter;if(!K||!Y||!this.layerManager)return;let q=this.layerManager.getLayers(),Z=this.deckPicker.getLastPickedObject({x:Y.x,y:Y.y,layers:q,viewports:this.getViewports(Y)},this._lastPointerDownInfo),{layer:X}=Z,W=X&&(X[K]||X.props[K]),F=this.props[K],H=!1;if(W)H=W.call(X,Z,J);if(!H)F?.(Z,J),this.widgetManager.onEvent(Z,J)},this._onPointerDown=(J)=>{if(this.device?.type==="webgpu")return;let K=J.offsetCenter,Y=this._pick("pickObject","pickObject Time",{x:K.x,y:K.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=Y.result[0]||Y.emptyInfo},this.props={...eN0,...$},$=this.props,$.viewState&&$.initialViewState)E1.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")();if(this.viewState=this.props.initialViewState,$.device)this.device=$.device;let Q=this.device;if(!Q&&$.gl){if($.gl instanceof WebGLRenderingContext)E1.error("WebGL1 context not supported.")();Q=Sk.attach($.gl)}if(!Q)Q=VH.createDevice({type:"best-available",_reuseDevices:!0,adapters:[Sk],...$.deviceProps,createCanvasContext:{canvas:this._createCanvas($),useDevicePixels:this.props.useDevicePixels,autoResize:!1}});if(this.animationLoop=this._createAnimationLoop(Q,$),this.setProps($),$._typedArrayManagerProps)c$.setOptions($._typedArrayManagerProps);this.animationLoop.start()}finalize(){if(this.animationLoop?.stop(),this.animationLoop?.destroy(),this.animationLoop=null,this._lastPointerDownInfo=null,this.layerManager?.finalize(),this.layerManager=null,this.viewManager?.finalize(),this.viewManager=null,this.effectManager?.finalize(),this.effectManager=null,this.deckRenderer?.finalize(),this.deckRenderer=null,this.deckPicker?.finalize(),this.deckPicker=null,this.eventManager?.destroy(),this.eventManager=null,this.widgetManager?.finalize(),this.widgetManager=null,!this.props.canvas&&!this.props.device&&!this.props.gl&&this.canvas)this.canvas.parentElement?.removeChild(this.canvas),this.canvas=null}setProps($){if(this.stats.get("setProps Time").timeStart(),"onLayerHover"in $)E1.removed("onLayerHover","onHover")();if("onLayerClick"in $)E1.removed("onLayerClick","onClick")();if($.initialViewState&&!G8(this.props.initialViewState,$.initialViewState,3))this.viewState=$.initialViewState;Object.assign(this.props,$),this._setCanvasSize(this.props);let Q=Object.create(this.props);if(Object.assign(Q,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop?.setProps(Q),this.layerManager)this.viewManager.setProps(Q),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(Q),this.effectManager.setProps(Q),this.deckRenderer.setProps(Q),this.deckPicker.setProps(Q),this.widgetManager.setProps(Q);this.stats.get("setProps Time").timeEnd()}needsRedraw($={clearRedrawFlags:!1}){if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let Q=this._needsRedraw;if($.clearRedrawFlags)this._needsRedraw=!1;let J=this.viewManager.needsRedraw($),K=this.layerManager.needsRedraw($),Y=this.effectManager.needsRedraw($),q=this.deckRenderer.needsRedraw($);return Q=Q||J||K||Y||q,Q}redraw($){if(!this.layerManager)return;let Q=this.needsRedraw({clearRedrawFlags:!0});if(Q=$||Q,!Q)return;if(this.stats.get("Redraw Count").incrementCount(),this.props._customRender)this.props._customRender(Q);else this._drawLayers(Q)}get isInitialized(){return this.viewManager!==null}getViews(){return x6(this.viewManager),this.viewManager.views}getViewports($){return x6(this.viewManager),this.viewManager.getViewports($)}getCanvas(){return this.canvas}pickObject($){let Q=this._pick("pickObject","pickObject Time",$).result;return Q.length?Q[0]:null}pickMultipleObjects($){return $.depth=$.depth||10,this._pick("pickObject","pickMultipleObjects Time",$).result}pickObjects($){return this._pick("pickObjects","pickObjects Time",$)}_addResources($,Q=!1){for(let J in $)this.layerManager.resourceManager.add({resourceId:J,data:$[J],forceUpdate:Q})}_removeResources($){for(let Q of $)this.layerManager.resourceManager.remove(Q)}_addDefaultEffect($){this.effectManager.addDefaultEffect($)}_addDefaultShaderModule($){this.layerManager.addDefaultShaderModule($)}_removeDefaultShaderModule($){this.layerManager?.removeDefaultShaderModule($)}_pick($,Q,J){x6(this.deckPicker);let{stats:K}=this;K.get("Pick Count").incrementCount(),K.get(Q).timeStart();let Y=this.deckPicker[$]({layers:this.layerManager.getLayers(J),views:this.viewManager.getViews(),viewports:this.getViewports(J),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...J});return K.get(Q).timeEnd(),Y}_createCanvas($){let Q=$.canvas;if(typeof Q==="string")Q=document.getElementById(Q),x6(Q);if(!Q)Q=document.createElement("canvas"),Q.id=$.id||"deckgl-overlay",($.parent||document.body).appendChild(Q);return Object.assign(Q.style,$.style),Q}_setCanvasSize($){if(!this.canvas)return;let{width:Q,height:J}=$;if(Q||Q===0){let K=Number.isFinite(Q)?`${Q}px`:Q;this.canvas.style.width=K}if(J||J===0){let K=Number.isFinite(J)?`${J}px`:J;this.canvas.style.position=$.style?.position||"absolute",this.canvas.style.height=K}}_updateCanvasSize(){let{canvas:$}=this;if(!$)return;let Q=$.clientWidth??$.width,J=$.clientHeight??$.height;if(Q!==this.width||J!==this.height)this.width=Q,this.height=J,this.viewManager?.setProps({width:Q,height:J}),this.layerManager?.activateViewport(this.getViewports()[0]),this.props.onResize({width:Q,height:J})}_createAnimationLoop($,Q){let{gl:J,onError:K,useDevicePixels:Y}=Q;return new eP({device:$,useDevicePixels:Y,autoResizeDrawingBuffer:!J,autoResizeViewport:!1,onInitialize:(q)=>this._setDevice(q.device),onRender:this._onRenderFrame.bind(this),onError:K})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){let{views:$}=this.props,Q=Array.isArray($)?$:$?[$]:[new sH0({id:"default-view"})];if(Q.length&&this.props.controller)Q[0].props.controller=this.props.controller;return Q}_onContextLost(){let{onError:$}=this.props;if(this.animationLoop&&$)$(Error("WebGL context is lost"))}_pickAndCallback(){if(this.device?.type==="webgpu")return;let{_pickRequest:$}=this;if($.event){let{result:Q,emptyInfo:J}=this._pick("pickObject","pickObject Time",$);this.cursorState.isHovering=Q.length>0;let K=J,Y=!1;for(let q of Q)K=q,Y=q.layer?.onHover(q,$.event)||Y;if(!Y)this.props.onHover?.(K,$.event),this.widgetManager.onHover(K,$.event);$.event=null}}_updateCursor(){let $=this.props.parent||this.canvas;if($)$.style.cursor=this.props.getCursor(this.cursorState)}_setDevice($){if(this.device=$,!this.animationLoop)return;if(!this.canvas)this.canvas=this.device.canvasContext?.canvas;if(this.device.type==="webgl")this.device.setParametersWebGL({blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515});if(this.props.onDeviceInitialized(this.device),this.device.type==="webgl")this.props.onWebGLInitialized(this.device.gl);let Q=new bH;Q.play(),this.animationLoop.attachTimeline(Q),this.eventManager=new cP(this.props.parent||this.canvas,{touchAction:this.props.touchAction,recognizers:Object.keys(Fm).map((K)=>{let[Y,q,Z,X]=Fm[K],W=this.props.eventRecognizerOptions?.[K],F={...q,...W,event:K};return{recognizer:new Y(F),recognizeWith:Z,requestFailure:X}}),events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(let K in mV)this.eventManager.on(K,this._onEvent);this.viewManager=new Wk({timeline:Q,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});let J=this.viewManager.getViewports()[0];this.layerManager=new Xk(this.device,{deck:this,stats:this.stats,viewport:J,timeline:Q}),this.effectManager=new Ak({deck:this,device:this.device}),this.deckRenderer=new Rk(this.device),this.deckPicker=new Gk(this.device),this.widgetManager=new vm({deck:this,parentElement:this.canvas?.parentElement}),this.widgetManager.addDefault(new wk),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers($,Q){let{device:J,gl:K}=this.layerManager.context;this.props.onBeforeRender({device:J,gl:K});let Y={target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",effects:this.effectManager.getEffects(),...Q};if(this.deckRenderer?.renderLayers(Y),Y.pass==="screen")this.widgetManager.onRedraw({viewports:Y.viewports,layers:Y.layers});this.props.onAfterRender({device:J,gl:K})}_onRenderFrame(){if(this._getFrameStats(),this._metricsCounter++%60===0){if(this._getMetrics(),this.stats.reset(),E1.table(4,this.metrics)(),this.props._onMetrics)this.props._onMetrics(this.metrics)}if(this._updateCanvasSize(),this._updateCursor(),this.layerManager.updateLayers(),this.device?.type!=="webgpu")this._pickAndCallback();if(this.redraw(),this.viewManager)this.viewManager.updateViewStates()}_onViewStateChange($){let Q=this.props.onViewStateChange($)||$.viewState;if(this.viewState){if(this.viewState={...this.viewState,[$.viewId]:Q},!this.props.viewState){if(this.viewManager)this.viewManager.setProps({viewState:this.viewState})}}}_onInteractionStateChange($){this.cursorState.isDragging=$.isDragging||!1,this.props.onInteractionStateChange($)}_getFrameStats(){let{stats:$}=this;$.get("frameRate").timeEnd(),$.get("frameRate").timeStart();let Q=this.animationLoop.stats;$.get("GPU Time").addTime(Q.get("GPU Time").lastTiming),$.get("CPU Time").addTime(Q.get("CPU Time").lastTiming)}_getMetrics(){let{metrics:$,stats:Q}=this;$.fps=Q.get("frameRate").getHz(),$.setPropsTime=Q.get("setProps Time").time,$.updateAttributesTime=Q.get("Update Attributes").time,$.framesRedrawn=Q.get("Redraw Count").count,$.pickTime=Q.get("pickObject Time").time+Q.get("pickMultipleObjects Time").time+Q.get("pickObjects Time").time,$.pickCount=Q.get("Pick Count").count,$.gpuTime=Q.get("GPU Time").time,$.cpuTime=Q.get("CPU Time").time,$.gpuTimePerFrame=Q.get("GPU Time").getAverageTime(),$.cpuTimePerFrame=Q.get("CPU Time").getAverageTime();let J=VH.stats.get("Memory Usage");$.bufferMemory=J.get("Buffer Memory").count,$.textureMemory=J.get("Texture Memory").count,$.renderbufferMemory=J.get("Renderbuffer Memory").count,$.gpuMemory=J.get("GPU Memory").count}}_k.defaultProps=eN0;_k.VERSION=oW0;var em=_k;function $B0($){switch($){case"float64":return Float64Array;case"uint8":case"unorm8":return Uint8ClampedArray;default:return PV($)}}var QB0=UP;function JR($,Q,J){let K=J==="webgpu"&&Q.type==="uint8"?"unorm8":Q.type;return{attribute:$,format:Q.size>1?`${K}x${Q.size}`:Q.type,byteOffset:Q.offset||0}}function qZ($){return $.stride||$.size*$.bytesPerElement}function JB0($,Q){return $.type===Q.type&&$.size===Q.size&&qZ($)===qZ(Q)&&($.offset||0)===(Q.offset||0)}function $p($,Q){if(Q.offset)E1.removed("shaderAttribute.offset","vertexOffset, elementOffset")();let J=qZ($),K=Q.vertexOffset!==void 0?Q.vertexOffset:$.vertexOffset||0,Y=Q.elementOffset||0,q=K*J+Y*$.bytesPerElement+($.offset||0);return{...Q,offset:q,stride:J}}function n81($,Q){let J=$p($,Q);return{high:J,low:{...J,offset:J.offset+$.size*4}}}class fk{constructor($,Q,J){this._buffer=null,this.device=$,this.id=Q.id||"",this.size=Q.size||1;let K=Q.logicalType||Q.type,Y=K==="float64",{defaultValue:q}=Q;q=Number.isFinite(q)?[q]:q||Array(this.size).fill(0);let Z;if(Y)Z="float32";else if(!K&&Q.isIndexed)Z="uint32";else Z=K||"float32";let X=$B0(K||Z);if(this.doublePrecision=Y,Y&&Q.fp64===!1)X=Float32Array;this.value=null,this.settings={...Q,defaultType:X,defaultValue:q,logicalType:K,type:Z,normalized:Z.includes("norm"),size:this.size,bytesPerElement:X.BYTES_PER_ELEMENT},this.state={...J,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1}}get isConstant(){return this.state.constant}get buffer(){return this._buffer}get byteOffset(){let $=this.getAccessor();if($.vertexOffset)return $.vertexOffset*qZ($);return 0}get numInstances(){return this.state.numInstances}set numInstances($){this.state.numInstances=$}delete(){if(this._buffer)this._buffer.delete(),this._buffer=null;c$.release(this.state.allocatedValue)}getBuffer(){if(this.state.constant)return null;return this.state.externalBuffer||this._buffer}getValue($=this.id,Q=null){let J={};if(this.state.constant){let K=this.value;if(Q){let Y=$p(this.getAccessor(),Q),q=Y.offset/K.BYTES_PER_ELEMENT,Z=Y.size||this.size;J[$]=K.subarray(q,q+Z)}else J[$]=K}else J[$]=this.getBuffer();if(this.doublePrecision)if(this.value instanceof Float64Array)J[`${$}64Low`]=J[$];else J[`${$}64Low`]=new Float32Array(this.size);return J}_getBufferLayout($=this.id,Q=null){let J=this.getAccessor(),K=[],Y={name:this.id,byteStride:qZ(J),attributes:K};if(this.doublePrecision){let q=n81(J,Q||{});K.push(JR($,{...J,...q.high},this.device.type),JR(`${$}64Low`,{...J,...q.low},this.device.type))}else if(Q){let q=$p(J,Q);K.push(JR($,{...J,...q},this.device.type))}else K.push(JR($,J,this.device.type));return Y}setAccessor($){this.state.bufferAccessor=$}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let $=null;if(this.state.constant&&this.value){let Q=Array.from(this.value);$=[Q,Q]}else{let{value:Q,numInstances:J,size:K}=this,Y=J*K;if(Q&&Y&&Q.length>=Y){let q=Array(K).fill(1/0),Z=Array(K).fill(-1/0);for(let X=0;X<Y;)for(let W=0;W<K;W++){let F=Q[X++];if(F<q[W])q[W]=F;if(F>Z[W])Z[W]=F}$=[q,Z]}}return this.state.bounds=$,$}setData($){let{state:Q}=this,J;if(ArrayBuffer.isView($))J={value:$};else if($ instanceof h5)J={buffer:$};else J=$;let K={...this.settings,...J};if(ArrayBuffer.isView(J.value)){if(!J.type)if(this.doublePrecision&&J.value instanceof Float64Array)K.type="float32";else{let q=QB0(J.value);K.type=K.normalized?q.replace("int","norm"):q}K.bytesPerElement=J.value.BYTES_PER_ELEMENT,K.stride=qZ(K)}if(Q.bounds=null,J.constant){let Y=J.value;if(Y=this._normalizeValue(Y,[],0),this.settings.normalized)Y=this.normalizeConstant(Y);if(!(!Q.constant||!this._areValuesEqual(Y,this.value)))return!1;Q.externalBuffer=null,Q.constant=!0,this.value=ArrayBuffer.isView(Y)?Y:new Float32Array(Y)}else if(J.buffer){let Y=J.buffer;Q.externalBuffer=Y,Q.constant=!1,this.value=J.value||null}else if(J.value){this._checkExternalBuffer(J);let Y=J.value;Q.externalBuffer=null,Q.constant=!1,this.value=Y;let{buffer:q}=this,Z=qZ(K),X=(K.vertexOffset||0)*Z;if(this.doublePrecision&&Y instanceof Float64Array)Y=sP(Y,K);if(this.settings.isIndexed){let F=this.settings.defaultType;if(Y.constructor!==F)Y=new F(Y)}let W=Y.byteLength+X+Z*2;if(!q||q.byteLength<W)q=this._createBuffer(W);q.write(Y,X)}return this.setAccessor(K),!0}updateSubBuffer($={}){this.state.bounds=null;let Q=this.value,{startOffset:J=0,endOffset:K}=$;this.buffer.write(this.doublePrecision&&Q instanceof Float64Array?sP(Q,{size:this.size,startIndex:J,endIndex:K}):Q.subarray(J,K),J*Q.BYTES_PER_ELEMENT+this.byteOffset)}allocate($,Q=!1){let{state:J}=this,K=J.allocatedValue,Y=c$.allocate(K,$+1,{size:this.size,type:this.settings.defaultType,copy:Q});this.value=Y;let{byteOffset:q}=this,{buffer:Z}=this;if(!Z||Z.byteLength<Y.byteLength+q){if(Z=this._createBuffer(Y.byteLength+q),Q&&K)Z.write(K instanceof Float64Array?sP(K,this):K,q)}return J.allocatedValue=Y,J.constant=!1,J.externalBuffer=null,this.setAccessor(this.settings),!0}_checkExternalBuffer($){let{value:Q}=$;if(!ArrayBuffer.isView(Q))throw Error(`Attribute ${this.id} value is not TypedArray`);let J=this.settings.defaultType,K=!1;if(this.doublePrecision)K=Q.BYTES_PER_ELEMENT<4;if(K)throw Error(`Attribute ${this.id} does not support ${Q.constructor.name}`);if(!(Q instanceof J)&&this.settings.normalized&&!("normalized"in $))E1.warn(`Attribute ${this.id} is normalized`)()}normalizeConstant($){switch(this.settings.type){case"snorm8":return new Float32Array($).map((Q)=>(Q+128)/255*2-1);case"snorm16":return new Float32Array($).map((Q)=>(Q+32768)/65535*2-1);case"unorm8":return new Float32Array($).map((Q)=>Q/255);case"unorm16":return new Float32Array($).map((Q)=>Q/65535);default:return $}}_normalizeValue($,Q,J){let{defaultValue:K,size:Y}=this.settings;if(Number.isFinite($))return Q[J]=$,Q;if(!$){let q=Y;while(--q>=0)Q[J+q]=K[q];return Q}switch(Y){case 4:Q[J+3]=Number.isFinite($[3])?$[3]:K[3];case 3:Q[J+2]=Number.isFinite($[2])?$[2]:K[2];case 2:Q[J+1]=Number.isFinite($[1])?$[1]:K[1];case 1:Q[J+0]=Number.isFinite($[0])?$[0]:K[0];break;default:let q=Y;while(--q>=0)Q[J+q]=Number.isFinite($[q])?$[q]:K[q]}return Q}_areValuesEqual($,Q){if(!$||!Q)return!1;let{size:J}=this;for(let K=0;K<J;K++)if($[K]!==Q[K])return!1;return!0}_createBuffer($){if(this._buffer)this._buffer.destroy();let{isIndexed:Q,type:J}=this.settings;return this._buffer=this.device.createBuffer({...this._buffer?.props,id:this.id,usage:(Q?h5.INDEX:h5.VERTEX)|h5.COPY_DST,indexType:Q?J:void 0,byteLength:$}),this._buffer}}var KB0=[],YB0=[];function tK($,Q=0,J=1/0){let K=KB0,Y={index:-1,data:$,target:[]};if(!$)K=KB0;else if(typeof $[Symbol.iterator]==="function")K=$;else if($.length>0)YB0.length=$.length,K=YB0;if(Q>0||Number.isFinite(J))K=(Array.isArray(K)?K:Array.from(K)).slice(Q,J),Y.index=Q-1;return{iterable:K,objectInfo:Y}}function Ik($){return $&&$[Symbol.asyncIterator]}function Mk($,Q){let{size:J,stride:K,offset:Y,startIndices:q,nested:Z}=Q,X=$.BYTES_PER_ELEMENT,W=K?K/X:J,F=Y?Y/X:0,H=Math.floor(($.length-F)/W);return(B,{index:z,target:A})=>{if(!q){let T=z*W+F;for(let D=0;D<J;D++)A[D]=$[T+D];return A}let R=q[z],G=q[z+1]||H,w;if(Z){w=Array(G-R);for(let T=R;T<G;T++){let D=T*W+F;A=Array(J);for(let P=0;P<J;P++)A[P]=$[D+P];w[T-R]=A}}else if(W===J)w=$.subarray(R*J+F,G*J+F);else{w=new $.constructor((G-R)*J);let T=0;for(let D=R;D<G;D++){let P=D*W+F;for(let j=0;j<J;j++)w[T++]=$[P+j]}}return w}}var qB0=[],KR=[[0,1/0]];function ZB0($,Q){if($===KR)return $;if(Q[0]<0)Q[0]=0;if(Q[0]>=Q[1])return $;let J=[],K=$.length,Y=0;for(let q=0;q<K;q++){let Z=$[q];if(Z[1]<Q[0])J.push(Z),Y=q+1;else if(Z[0]>Q[1])J.push(Z);else Q=[Math.min(Z[0],Q[0]),Math.max(Z[1],Q[1])]}return J.splice(Y,0,Q),J}var r81={interpolation:{duration:0,easing:($)=>$},spring:{stiffness:0.05,damping:0.5}};function bk($,Q){if(!$)return null;if(Number.isFinite($))$={type:"interpolation",duration:$};let J=$.type||"interpolation";return{...r81[J],...Q,...$,type:J}}class dH extends fk{constructor($,Q){super($,Q,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,layoutChanged:!1,updateRanges:KR});this.constant=!1,this.settings.update=Q.update||(Q.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices($){this.state.startIndices=$}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:$=!1}={}){let Q=this.state.needsRedraw;return this.state.needsRedraw=Q&&!$,Q}layoutChanged(){return this.state.layoutChanged}setAccessor($){var Q;(Q=this.state).layoutChanged||(Q.layoutChanged=!JB0($,this.getAccessor())),super.setAccessor($)}getUpdateTriggers(){let{accessor:$}=this.settings;return[this.id].concat(typeof $!=="function"&&$||[])}supportsTransition(){return Boolean(this.settings.transition)}getTransitionSetting($){if(!$||!this.supportsTransition())return null;let{accessor:Q}=this.settings,J=this.settings.transition,K=Array.isArray(Q)?$[Q.find((Y)=>$[Y])]:$[Q];return bk(K,J)}setNeedsUpdate($=this.id,Q){if(this.state.needsUpdate=this.state.needsUpdate||$,this.setNeedsRedraw($),Q){let{startRow:J=0,endRow:K=1/0}=Q;this.state.updateRanges=ZB0(this.state.updateRanges,[J,K])}else this.state.updateRanges=KR}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=qB0}setNeedsRedraw($=this.id){this.state.needsRedraw=this.state.needsRedraw||$}allocate($){let{state:Q,settings:J}=this;if(J.noAlloc)return!1;if(J.update)return super.allocate($,Q.updateRanges!==KR),!0;return!1}updateBuffer({numInstances:$,data:Q,props:J,context:K}){if(!this.needsUpdate())return!1;let{state:{updateRanges:Y},settings:{update:q,noAlloc:Z}}=this,X=!0;if(q){for(let[W,F]of Y)q.call(K,this,{data:Q,startRow:W,endRow:F,props:J,numInstances:$});if(!this.value);else if(this.constant||!this.buffer||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(let[W,F]of Y){let H=Number.isFinite(W)?this.getVertexOffset(W):0,B=Number.isFinite(F)?this.getVertexOffset(F):Z||!Number.isFinite($)?this.value.length:$*this.size;super.updateSubBuffer({startOffset:H,endOffset:B})}this._checkAttributeArray()}else X=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),X}setConstantValue($){if(this.device.type==="webgpu"||$===void 0||typeof $==="function")return!1;if(this.setData({constant:!0,value:$}))this.setNeedsRedraw();return this.clearNeedsUpdate(),!0}setExternalBuffer($){let{state:Q}=this;if(!$)return Q.lastExternalBuffer=null,!1;if(this.clearNeedsUpdate(),Q.lastExternalBuffer===$)return!0;return Q.lastExternalBuffer=$,this.setNeedsRedraw(),this.setData($),!0}setBinaryValue($,Q=null){let{state:J,settings:K}=this;if(!$)return J.binaryValue=null,J.binaryAccessor=null,!1;if(K.noAlloc)return!1;if(J.binaryValue===$)return this.clearNeedsUpdate(),!0;if(J.binaryValue=$,this.setNeedsRedraw(),K.transform||Q!==this.startIndices){if(ArrayBuffer.isView($))$={value:$};let q=$;x6(ArrayBuffer.isView(q.value),`invalid ${K.accessor}`);let Z=Boolean(q.size)&&q.size!==this.size;return J.binaryAccessor=Mk(q.value,{size:q.size||this.size,stride:q.stride,offset:q.offset,startIndices:Q,nested:Z}),!1}return this.clearNeedsUpdate(),this.setData($),!0}getVertexOffset($){let{startIndices:Q}=this;return(Q?$<Q.length?Q[$]:this.numInstances:$)*this.size}getValue(){let $=this.settings.shaderAttributes,Q=super.getValue();if(!$)return Q;for(let J in $)Object.assign(Q,super.getValue(J,$[J]));return Q}getBufferLayout($){this.state.layoutChanged=!1;let Q=this.settings.shaderAttributes,J=super._getBufferLayout(),{stepMode:K}=this.settings;if(K==="dynamic")J.stepMode=$?$.isInstanced?"instance":"vertex":"instance";else J.stepMode=K??"vertex";if(!Q)return J;for(let Y in Q){let q=super._getBufferLayout(Y,Q[Y]);J.attributes.push(...q.attributes)}return J}_autoUpdater($,{data:Q,startRow:J,endRow:K,props:Y,numInstances:q}){if($.constant){if(this.context.device.type!=="webgpu")return}let{settings:Z,state:X,value:W,size:F,startIndices:H}=$,{accessor:B,transform:z}=Z,A=X.binaryAccessor||(typeof B==="function"?B:Y[B]);if(typeof A!=="function")A=()=>A;x6(typeof A==="function",`accessor "${B}" is not a function`);let R=$.getVertexOffset(J),{iterable:G,objectInfo:w}=tK(Q,J,K);for(let T of G){w.index++;let D=A(T,w);if(z)D=z.call(this,D);if(H){let P=(w.index<H.length-1?H[w.index+1]:q)-H[w.index];if(D&&Array.isArray(D[0])){let j=R;for(let E of D)$._normalizeValue(E,W,j),j+=F}else if(D&&D.length>F)W.set(D,R);else $._normalizeValue(D,w.target,0),nH0({target:W,source:w.target,start:R,count:P});R+=P*F}else $._normalizeValue(D,W,R),R+=F}}_validateAttributeUpdaters(){let{settings:$}=this;if(!($.noAlloc||typeof $.update==="function"))throw Error(`Attribute ${this.id} missing update or accessor`)}_checkAttributeArray(){let{value:$}=this,Q=Math.min(4,this.size);if($&&$.length>=Q){let J=!0;switch(Q){case 4:J=J&&Number.isFinite($[3]);case 3:J=J&&Number.isFinite($[2]);case 2:J=J&&Number.isFinite($[1]);case 1:J=J&&Number.isFinite($[0]);break;default:J=!1}if(!J)throw Error(`Illegal attribute generated for ${this.id}`)}}}function Qp($){let{source:Q,target:J,start:K=0,size:Y,getData:q}=$,Z=$.end||J.length,X=Q.length,W=Z-K;if(X>W){J.set(Q.subarray(0,W),K);return}if(J.set(Q,K),!q)return;let F=X;while(F<W){let H=q(F,Q);for(let B=0;B<Y;B++)J[K+F]=H[B]||0,F++}}function XB0({source:$,target:Q,size:J,getData:K,sourceStartIndices:Y,targetStartIndices:q}){if(!Y||!q)return Qp({source:$,target:Q,size:J,getData:K}),Q;let Z=0,X=0,W=K&&((H,B)=>K(H+X,B)),F=Math.min(Y.length,q.length);for(let H=1;H<F;H++){let B=Y[H]*J,z=q[H]*J;Qp({source:$.subarray(Z,B),target:Q,start:X,end:z,size:J,getData:W}),Z=B,X=z}if(X<Q.length)Qp({source:[],target:Q,start:X,size:J,getData:W});return Q}function WB0($){let{device:Q,settings:J,value:K}=$,Y=new dH(Q,J);return Y.setData({value:K instanceof Float64Array?new Float64Array(0):new Float32Array(0),normalized:J.normalized}),Y}function gk($){switch($){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw Error(`No defined attribute type for size "${$}"`)}}function yk($){switch($){case 1:return"float32";case 2:return"float32x2";case 3:return"float32x3";case 4:return"float32x4";default:throw Error("invalid type size")}}function xk($){$.push($.shift())}function FB0($,Q){let{doublePrecision:J,settings:K,value:Y,size:q}=$,Z=J&&Y instanceof Float64Array?2:1,X=0,{shaderAttributes:W}=$.settings;if(W)for(let F of Object.values(W))X=Math.max(X,F.vertexOffset??0);return(K.noAlloc?Y.length:(Q+X)*q)*Z}function ck({device:$,source:Q,target:J}){if(!J||J.byteLength<Q.byteLength)J?.destroy(),J=$.createBuffer({byteLength:Q.byteLength,usage:Q.usage});return J}function uk({device:$,buffer:Q,attribute:J,fromLength:K,toLength:Y,fromStartIndices:q,getData:Z=(X)=>X}){let X=J.doublePrecision&&J.value instanceof Float64Array?2:1,W=J.size*X,F=J.byteOffset,H=J.settings.bytesPerElement<4?F/J.settings.bytesPerElement*4:F,B=J.startIndices,z=q&&B,A=J.isConstant;if(!z&&Q&&K>=Y)return Q;let R=J.value instanceof Float64Array?Float32Array:J.value.constructor,G=A?J.value:new R(J.getBuffer().readSyncWebGL(F,Y*R.BYTES_PER_ELEMENT).buffer);if(J.settings.normalized&&!A){let P=Z;Z=(j,E)=>J.normalizeConstant(P(j,E))}let w=A?(P,j)=>Z(G,j):(P,j)=>Z(G.subarray(P+F,P+F+W),j),T=Q?new Float32Array(Q.readSyncWebGL(H,K*4).buffer):new Float32Array(0),D=new Float32Array(Y);if(XB0({source:T,target:D,sourceStartIndices:q,targetStartIndices:B,size:W,getData:w}),!Q||Q.byteLength<D.byteLength+H)Q?.destroy(),Q=$.createBuffer({byteLength:D.byteLength+H,usage:35050});return Q.write(D,H),Q}class YR{constructor({device:$,attribute:Q,timeline:J}){this.buffers=[],this.currentLength=0,this.device=$,this.transition=new zJ(J),this.attribute=Q,this.attributeInTransition=WB0(Q),this.currentStartIndices=Q.startIndices}get inProgress(){return this.transition.inProgress}start($,Q,J=1/0){this.settings=$,this.currentStartIndices=this.attribute.startIndices,this.currentLength=FB0(this.attribute,Q),this.transition.start({...$,duration:J})}update(){let $=this.transition.update();if($)this.onUpdate();return $}setBuffer($){this.attributeInTransition.setData({buffer:$,normalized:this.attribute.settings.normalized,value:this.attributeInTransition.value})}cancel(){this.transition.cancel()}delete(){this.cancel();for(let $ of this.buffers)$.destroy();this.buffers.length=0}}class mk extends YR{constructor({device:$,attribute:Q,timeline:J}){super({device:$,attribute:Q,timeline:J});this.type="interpolation",this.transform=a81($,Q)}start($,Q){let J=this.currentLength,K=this.currentStartIndices;if(super.start($,Q,$.duration),$.duration<=0){this.transition.cancel();return}let{buffers:Y,attribute:q}=this;xk(Y),Y[0]=uk({device:this.device,buffer:Y[0],attribute:q,fromLength:J,toLength:this.currentLength,fromStartIndices:K,getData:$.enter}),Y[1]=ck({device:this.device,source:Y[0],target:Y[1]}),this.setBuffer(Y[1]);let{transform:Z}=this,X=Z.model,W=Math.floor(this.currentLength/q.size);if(HB0(q))W/=2;if(X.setVertexCount(W),q.isConstant)X.setAttributes({aFrom:Y[0]}),X.setConstantAttributes({aTo:q.value});else X.setAttributes({aFrom:Y[0],aTo:q.getBuffer()});Z.transformFeedback.setBuffers({vCurrent:Y[1]})}onUpdate(){let{duration:$,easing:Q}=this.settings,{time:J}=this.transition,K=J/$;if(Q)K=Q(K);let{model:Y}=this.transform,q={time:K};Y.shaderInputs.setProps({interpolation:q}),this.transform.run({discard:!0})}delete(){super.delete(),this.transform.destroy()}}var i81=`uniform interpolationUniforms {
  float time;
} interpolation;
`,UB0={name:"interpolation",vs:i81,uniformTypes:{time:"f32"}},s81=`#version 300 es
#define SHADER_NAME interpolation-transition-vertex-shader

in ATTRIBUTE_TYPE aFrom;
in ATTRIBUTE_TYPE aTo;
out ATTRIBUTE_TYPE vCurrent;

void main(void) {
  vCurrent = mix(aFrom, aTo, interpolation.time);
  gl_Position = vec4(0.0);
}
`,o81=`#version 300 es
#define SHADER_NAME interpolation-transition-vertex-shader

in ATTRIBUTE_TYPE aFrom;
in ATTRIBUTE_TYPE aFrom64Low;
in ATTRIBUTE_TYPE aTo;
in ATTRIBUTE_TYPE aTo64Low;
out ATTRIBUTE_TYPE vCurrent;
out ATTRIBUTE_TYPE vCurrent64Low;

vec2 mix_fp64(vec2 a, vec2 b, float x) {
  vec2 range = sub_fp64(b, a);
  return sum_fp64(a, mul_fp64(range, vec2(x, 0.0)));
}

void main(void) {
  for (int i=0; i<ATTRIBUTE_SIZE; i++) {
    vec2 value = mix_fp64(vec2(aFrom[i], aFrom64Low[i]), vec2(aTo[i], aTo64Low[i]), interpolation.time);
    vCurrent[i] = value.x;
    vCurrent64Low[i] = value.y;
  }
  gl_Position = vec4(0.0);
}
`;function HB0($){return $.doublePrecision&&$.value instanceof Float64Array}function a81($,Q){let J=Q.size,K=gk(J),Y=yk(J),q=Q.getBufferLayout();if(HB0(Q))return new dK($,{vs:o81,bufferLayout:[{name:"aFrom",byteStride:8*J,attributes:[{attribute:"aFrom",format:Y,byteOffset:0},{attribute:"aFrom64Low",format:Y,byteOffset:4*J}]},{name:"aTo",byteStride:8*J,attributes:[{attribute:"aTo",format:Y,byteOffset:0},{attribute:"aTo64Low",format:Y,byteOffset:4*J}]}],modules:[lu,UB0],defines:{ATTRIBUTE_TYPE:K,ATTRIBUTE_SIZE:J},moduleSettings:{},varyings:["vCurrent","vCurrent64Low"],bufferMode:35980,disableWarnings:!0});return new dK($,{vs:s81,bufferLayout:[{name:"aFrom",format:Y},{name:"aTo",format:q.attributes[0].format}],modules:[UB0],defines:{ATTRIBUTE_TYPE:K},varyings:["vCurrent"],disableWarnings:!0})}class pk extends YR{constructor({device:$,attribute:Q,timeline:J}){super({device:$,attribute:Q,timeline:J});this.type="spring",this.texture=K41($),this.framebuffer=Y41($,this.texture),this.transform=J41($,Q)}start($,Q){let J=this.currentLength,K=this.currentStartIndices;super.start($,Q);let{buffers:Y,attribute:q}=this;for(let X=0;X<2;X++)Y[X]=uk({device:this.device,buffer:Y[X],attribute:q,fromLength:J,toLength:this.currentLength,fromStartIndices:K,getData:$.enter});Y[2]=ck({device:this.device,source:Y[0],target:Y[2]}),this.setBuffer(Y[1]);let{model:Z}=this.transform;if(Z.setVertexCount(Math.floor(this.currentLength/q.size)),q.isConstant)Z.setConstantAttributes({aTo:q.value});else Z.setAttributes({aTo:q.getBuffer()})}onUpdate(){let{buffers:$,transform:Q,framebuffer:J,transition:K}=this,Y=this.settings;Q.model.setAttributes({aPrev:$[0],aCur:$[1]}),Q.transformFeedback.setBuffers({vNext:$[2]});let q={stiffness:Y.stiffness,damping:Y.damping};if(Q.model.shaderInputs.setProps({spring:q}),Q.run({framebuffer:J,discard:!1,parameters:{viewport:[0,0,1,1]},clearColor:[0,0,0,0]}),xk($),this.setBuffer($[1]),!(this.device.readPixelsToArrayWebGL(J)[0]>0))K.end()}delete(){super.delete(),this.transform.destroy(),this.texture.destroy(),this.framebuffer.destroy()}}var t81=`uniform springUniforms {
  float damping;
  float stiffness;
} spring;
`,e81={name:"spring",vs:t81,uniformTypes:{damping:"f32",stiffness:"f32"}},$41=`#version 300 es
#define SHADER_NAME spring-transition-vertex-shader

#define EPSILON 0.00001

in ATTRIBUTE_TYPE aPrev;
in ATTRIBUTE_TYPE aCur;
in ATTRIBUTE_TYPE aTo;
out ATTRIBUTE_TYPE vNext;
out float vIsTransitioningFlag;

ATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {
  ATTRIBUTE_TYPE velocity = cur - prev;
  ATTRIBUTE_TYPE delta = dest - cur;
  ATTRIBUTE_TYPE force = delta * spring.stiffness;
  ATTRIBUTE_TYPE resistance = velocity * spring.damping;
  return force - resistance + velocity + cur;
}

void main(void) {
  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;
  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;

  vNext = getNextValue(aCur, aPrev, aTo);
  gl_Position = vec4(0, 0, 0, 1);
  gl_PointSize = 100.0;
}
`,Q41=`#version 300 es
#define SHADER_NAME spring-transition-is-transitioning-fragment-shader

in float vIsTransitioningFlag;

out vec4 fragColor;

void main(void) {
  if (vIsTransitioningFlag == 0.0) {
    discard;
  }
  fragColor = vec4(1.0);
}`;function J41($,Q){let J=gk(Q.size),K=yk(Q.size);return new dK($,{vs:$41,fs:Q41,bufferLayout:[{name:"aPrev",format:K},{name:"aCur",format:K},{name:"aTo",format:Q.getBufferLayout().attributes[0].format}],varyings:["vNext"],modules:[e81],defines:{ATTRIBUTE_TYPE:J},parameters:{depthCompare:"always",blendColorOperation:"max",blendColorSrcFactor:"one",blendColorDstFactor:"one",blendAlphaOperation:"max",blendAlphaSrcFactor:"one",blendAlphaDstFactor:"one"}})}function K41($){return $.createTexture({data:new Uint8Array(4),format:"rgba8unorm",mipmaps:!1,width:1,height:1})}function Y41($,Q){return $.createFramebuffer({id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,colorAttachments:[Q]})}var q41={interpolation:mk,spring:pk};class dk{constructor($,{id:Q,timeline:J}){if(!$)throw Error("AttributeTransitionManager is constructed without device");this.id=Q,this.device=$,this.timeline=J,this.transitions={},this.needsRedraw=!1,this.numInstances=1}finalize(){for(let $ in this.transitions)this._removeTransition($)}update({attributes:$,transitions:Q,numInstances:J}){this.numInstances=J||1;for(let K in $){let Y=$[K],q=Y.getTransitionSetting(Q);if(!q)continue;this._updateAttribute(K,Y,q)}for(let K in this.transitions){let Y=$[K];if(!Y||!Y.getTransitionSetting(Q))this._removeTransition(K)}}hasAttribute($){let Q=this.transitions[$];return Q&&Q.inProgress}getAttributes(){let $={};for(let Q in this.transitions){let J=this.transitions[Q];if(J.inProgress)$[Q]=J.attributeInTransition}return $}run(){if(this.numInstances===0)return!1;for(let Q in this.transitions)if(this.transitions[Q].update())this.needsRedraw=!0;let $=this.needsRedraw;return this.needsRedraw=!1,$}_removeTransition($){this.transitions[$].delete(),delete this.transitions[$]}_updateAttribute($,Q,J){let K=this.transitions[$],Y=!K||K.type!==J.type;if(Y){if(K)this._removeTransition($);let q=q41[J.type];if(q)this.transitions[$]=new q({attribute:Q,timeline:this.timeline,device:this.device});else E1.error(`unsupported transition type '${J.type}'`)(),Y=!1}if(Y||Q.needsRedraw())this.needsRedraw=!0,this.transitions[$].start(J,this.numInstances)}}var NB0="attributeManager.invalidate",Z41="attributeManager.updateStart",X41="attributeManager.updateEnd",W41="attribute.updateStart",F41="attribute.allocate",U41="attribute.updateEnd";class nk{constructor($,{id:Q="attribute-manager",stats:J,timeline:K}={}){this.mergeBoundsMemoized=NJ(SH0),this.id=Q,this.device=$,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=J,this.attributeTransitionManager=new dk($,{id:`${Q}-transitions`,timeline:K}),Object.seal(this)}finalize(){for(let $ in this.attributes)this.attributes[$].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw($={clearRedrawFlags:!1}){let Q=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!$.clearRedrawFlags,Q&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add($){this._add($)}addInstanced($){this._add($,{stepMode:"instance"})}remove($){for(let Q of $)if(this.attributes[Q]!==void 0)this.attributes[Q].delete(),delete this.attributes[Q]}invalidate($,Q){let J=this._invalidateTrigger($,Q);Z7(NB0,this,$,J)}invalidateAll($){for(let Q in this.attributes)this.attributes[Q].setNeedsUpdate(Q,$);Z7(NB0,this,"all")}update({data:$,numInstances:Q,startIndices:J=null,transitions:K,props:Y={},buffers:q={},context:Z={}}){let X=!1;if(Z7(Z41,this),this.stats)this.stats.get("Update Attributes").timeStart();for(let W in this.attributes){let F=this.attributes[W],H=F.settings.accessor;if(F.startIndices=J,F.numInstances=Q,Y[W])E1.removed(`props.${W}`,`data.attributes.${W}`)();if(F.setExternalBuffer(q[W]));else if(F.setBinaryValue(typeof H==="string"?q[H]:void 0,$.startIndices));else if(typeof H==="string"&&!q[H]&&F.setConstantValue(Y[H]));else if(F.needsUpdate())X=!0,this._updateAttribute({attribute:F,numInstances:Q,data:$,props:Y,context:Z});this.needsRedraw=this.needsRedraw||F.needsRedraw()}if(X)Z7(X41,this,Q);if(this.stats)this.stats.get("Update Attributes").timeEnd();this.attributeTransitionManager.update({attributes:this.attributes,numInstances:Q,transitions:K})}updateTransition(){let{attributeTransitionManager:$}=this,Q=$.run();return this.needsRedraw=this.needsRedraw||Q,Q}getAttributes(){return{...this.attributes,...this.attributeTransitionManager.getAttributes()}}getBounds($){let Q=$.map((J)=>this.attributes[J]?.getBounds());return this.mergeBoundsMemoized(Q)}getChangedAttributes($={clearChangedFlags:!1}){let{attributes:Q,attributeTransitionManager:J}=this,K={...J.getAttributes()};for(let Y in Q){let q=Q[Y];if(q.needsRedraw($)&&!J.hasAttribute(Y))K[Y]=q}return K}getBufferLayouts($){return Object.values(this.getAttributes()).map((Q)=>Q.getBufferLayout($))}_add($,Q){for(let J in $){let K=$[J],Y={...K,id:J,size:K.isIndexed&&1||K.size||1,...Q};this.attributes[J]=new dH(this.device,Y)}this._mapUpdateTriggersToAttributes()}_mapUpdateTriggersToAttributes(){let $={};for(let Q in this.attributes)this.attributes[Q].getUpdateTriggers().forEach((K)=>{if(!$[K])$[K]=[];$[K].push(Q)});this.updateTriggers=$}_invalidateTrigger($,Q){let{attributes:J,updateTriggers:K}=this,Y=K[$];if(Y)Y.forEach((q)=>{let Z=J[q];if(Z)Z.setNeedsUpdate(Z.id,Q)});return Y}_updateAttribute($){let{attribute:Q,numInstances:J}=$;if(Z7(W41,Q),Q.constant){Q.setConstantValue(Q.value);return}if(Q.allocate(J))Z7(F41,Q,J);if(Q.updateBuffer($))this.needsRedraw=!0,Z7(U41,Q,J)}}class lk extends zJ{get value(){return this._value}_onUpdate(){let{time:$,settings:{fromValue:Q,toValue:J,duration:K,easing:Y}}=this,q=Y($/K);this._value=gX(Q,J,q)}}var BB0=0.00001;function zB0($,Q,J,K,Y){let q=Q-$,X=(J-Q)*Y,W=-q*K;return X+W+q+Q}function H41($,Q,J,K,Y){if(Array.isArray(J)){let q=[];for(let Z=0;Z<J.length;Z++)q[Z]=zB0($[Z],Q[Z],J[Z],K,Y);return q}return zB0($,Q,J,K,Y)}function AB0($,Q){if(Array.isArray($)){let J=0;for(let K=0;K<$.length;K++){let Y=$[K]-Q[K];J+=Y*Y}return Math.sqrt(J)}return Math.abs($-Q)}class rk extends zJ{get value(){return this._currValue}_onUpdate(){let{fromValue:$,toValue:Q,damping:J,stiffness:K}=this.settings,{_prevValue:Y=$,_currValue:q=$}=this,Z=H41(Y,q,Q,J,K),X=AB0(Z,Q),W=AB0(Z,q);if(X<BB0&&W<BB0)Z=Q,this.end();this._prevValue=q,this._currValue=Z}}var N41={interpolation:lk,spring:rk};class ik{constructor($){this.transitions=new Map,this.timeline=$}get active(){return this.transitions.size>0}add($,Q,J,K){let{transitions:Y}=this;if(Y.has($)){let X=Y.get($),{value:W=X.settings.fromValue}=X;Q=W,this.remove($)}if(K=bk(K),!K)return;let q=N41[K.type];if(!q){E1.error(`unsupported transition type '${K.type}'`)();return}let Z=new q(this.timeline);Z.start({...K,fromValue:Q,toValue:J}),Y.set($,Z)}remove($){let{transitions:Q}=this;if(Q.has($))Q.get($).cancel(),Q.delete($)}update(){let $={};for(let[Q,J]of this.transitions)if(J.update(),$[Q]=J.value,!J.inProgress)this.remove(Q);return $}clear(){for(let $ of this.transitions.keys())this.remove($)}}function RB0($){let Q=$[I9];for(let J in Q){let K=Q[J],{validate:Y}=K;if(Y&&!Y($[J],K))throw Error(`Invalid prop ${J}: ${$[J]}`)}}function GB0($,Q){let J=wB0({newProps:$,oldProps:Q,propTypes:$[I9],ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),K=z41($,Q),Y=!1;if(!K)Y=A41($,Q);return{dataChanged:K,propsChanged:J,updateTriggersChanged:Y,extensionsChanged:V41($,Q),transitionsChanged:B41($,Q)}}function B41($,Q){if(!$.transitions)return!1;let J={},K=$[I9],Y=!1;for(let q in $.transitions){let Z=K[q],X=Z&&Z.type;if((X==="number"||X==="color"||X==="array")&&Jp($[q],Q[q],Z))J[q]=!0,Y=!0}return Y?J:!1}function wB0({newProps:$,oldProps:Q,ignoreProps:J={},propTypes:K={},triggerName:Y="props"}){if(Q===$)return!1;if(typeof $!=="object"||$===null)return`${Y} changed shallowly`;if(typeof Q!=="object"||Q===null)return`${Y} changed shallowly`;for(let q of Object.keys($))if(!(q in J)){if(!(q in Q))return`${Y}.${q} added`;let Z=Jp($[q],Q[q],K[q]);if(Z)return`${Y}.${q} ${Z}`}for(let q of Object.keys(Q))if(!(q in J)){if(!(q in $))return`${Y}.${q} dropped`;if(!Object.hasOwnProperty.call($,q)){let Z=Jp($[q],Q[q],K[q]);if(Z)return`${Y}.${q} ${Z}`}}return!1}function Jp($,Q,J){let K=J&&J.equal;if(K&&!K($,Q,J))return"changed deeply";if(!K){if(K=$&&Q&&$.equals,K&&!K.call($,Q))return"changed deeply"}if(!K&&Q!==$)return"changed shallowly";return null}function z41($,Q){if(Q===null)return"oldProps is null, initial diff";let J=!1,{dataComparator:K,_dataDiff:Y}=$;if(K){if(!K($.data,Q.data))J="Data comparator detected a change"}else if($.data!==Q.data)J="A new data container was supplied";if(J&&Y)J=Y($.data,Q.data)||J;return J}function A41($,Q){if(Q===null)return{all:!0};if("all"in $.updateTriggers){if(VB0($,Q,"all"))return{all:!0}}let J={},K=!1;for(let Y in $.updateTriggers)if(Y!=="all"){if(VB0($,Q,Y))J[Y]=!0,K=!0}return K?J:!1}function V41($,Q){if(Q===null)return!0;let J=Q.extensions,{extensions:K}=$;if(K===J)return!1;if(!J||!K)return!0;if(K.length!==J.length)return!0;for(let Y=0;Y<K.length;Y++)if(!K[Y].equals(J[Y]))return!0;return!1}function VB0($,Q,J){let K=$.updateTriggers[J];K=K===void 0||K===null?{}:K;let Y=Q.updateTriggers[J];return Y=Y===void 0||Y===null?{}:Y,wB0({oldProps:Y,newProps:K,triggerName:J})}function OB0($){if(!G41($))throw Error("count(): argument not an object");if(typeof $.count==="function")return $.count();if(Number.isFinite($.size))return $.size;if(Number.isFinite($.length))return $.length;if(R41($))return Object.keys($).length;throw Error("count(): argument not a container")}function R41($){return $!==null&&typeof $==="object"&&$.constructor===Object}function G41($){return $!==null&&typeof $==="object"}function Kp($,Q){if(!Q)return $;let J={...$,...Q};if("defines"in Q)J.defines={...$.defines,...Q.defines};if("modules"in Q){if(J.modules=($.modules||[]).concat(Q.modules),Q.modules.some((K)=>K.name==="project64")){let K=J.modules.findIndex((Y)=>Y.name==="project32");if(K>=0)J.modules.splice(K,1)}}if("inject"in Q)if(!$.inject)J.inject=Q.inject;else{let K={...$.inject};for(let Y in Q.inject)K[Y]=(K[Y]||"")+Q.inject[Y];J.inject=K}return J}var w41={minFilter:"linear",mipmapFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},Yp={};function TB0($,Q,J,K){if(J instanceof I5)return J;else if(J.constructor&&J.constructor.name!=="Object")J={data:J};let Y=null;if(J.compressed)Y={minFilter:"linear",mipmapFilter:J.data.length>1?"nearest":"linear"};let q=Q.createTexture({...J,sampler:{...w41,...Y,...K},mipmaps:!0});return Yp[q.id]=$,q}function DB0($,Q){if(!Q||!(Q instanceof I5))return;if(Yp[Q.id]===$)Q.delete(),delete Yp[Q.id]}var O41={boolean:{validate($,Q){return!0},equal($,Q,J){return Boolean($)===Boolean(Q)}},number:{validate($,Q){return Number.isFinite($)&&(!("max"in Q)||$<=Q.max)&&(!("min"in Q)||$>=Q.min)}},color:{validate($,Q){return Q.optional&&!$||qp($)&&($.length===3||$.length===4)},equal($,Q,J){return G8($,Q,1)}},accessor:{validate($,Q){let J=sk($);return J==="function"||J===sk(Q.value)},equal($,Q,J){if(typeof Q==="function")return!0;return G8($,Q,1)}},array:{validate($,Q){return Q.optional&&!$||qp($)},equal($,Q,J){let{compare:K}=J,Y=Number.isInteger(K)?K:K?1:0;return K?G8($,Q,Y):$===Q}},object:{equal($,Q,J){if(J.ignore)return!0;let{compare:K}=J,Y=Number.isInteger(K)?K:K?1:0;return K?G8($,Q,Y):$===Q}},function:{validate($,Q){return Q.optional&&!$||typeof $==="function"},equal($,Q,J){return!J.compare&&J.ignore!==!1||$===Q}},data:{transform:($,Q,J)=>{if(!$)return $;let{dataTransform:K}=J.props;if(K)return K($);if(typeof $.shape==="string"&&$.shape.endsWith("-table")&&Array.isArray($.data))return $.data;return $}},image:{transform:($,Q,J)=>{let K=J.context;if(!K||!K.device)return null;return TB0(J.id,K.device,$,{...Q.parameters,...J.props.textureParameters})},release:($,Q,J)=>{DB0(J.id,$)}}};function CB0($){let Q={},J={},K={};for(let[Y,q]of Object.entries($)){let Z=q?.deprecatedFor;if(Z)K[Y]=Array.isArray(Z)?Z:[Z];else{let X=T41(Y,q);Q[Y]=X,J[Y]=X.value}}return{propTypes:Q,defaultProps:J,deprecatedProps:K}}function T41($,Q){switch(sk(Q)){case"object":return qR($,Q);case"array":return qR($,{type:"array",value:Q,compare:!1});case"boolean":return qR($,{type:"boolean",value:Q});case"number":return qR($,{type:"number",value:Q});case"function":return qR($,{type:"function",value:Q,compare:!0});default:return{name:$,type:"unknown",value:Q}}}function qR($,Q){if(!("type"in Q)){if(!("value"in Q))return{name:$,type:"object",value:Q};return{name:$,type:sk(Q.value),...Q}}return{name:$,...O41[Q.type],...Q}}function qp($){return Array.isArray($)||ArrayBuffer.isView($)}function sk($){if(qp($))return"array";if($===null)return"null";return typeof $}function PB0($,Q){let J;for(let q=Q.length-1;q>=0;q--){let Z=Q[q];if("extensions"in Z)J=Z.extensions}let K=Zp($.constructor,J),Y=Object.create(K);Y[mX]=$,Y[BJ]={},Y[u$]={};for(let q=0;q<Q.length;++q){let Z=Q[q];for(let X in Z)Y[X]=Z[X]}return Object.freeze(Y),Y}var D41="_mergedDefaultProps";function Zp($,Q){if(!($ instanceof ok.constructor))return{};let J=D41;if(Q)for(let Y of Q){let q=Y.constructor;if(q)J+=`:${q.extensionName||q.name}`}let K=kB0($,J);if(!K)return $[J]=C41($,Q||[]);return K}function C41($,Q){if(!$.prototype)return null;let K=Object.getPrototypeOf($),Y=Zp(K),q=kB0($,"defaultProps")||{},Z=CB0(q),X=Object.assign(Object.create(null),Y,Z.defaultProps),W=Object.assign(Object.create(null),Y?.[I9],Z.propTypes),F=Object.assign(Object.create(null),Y?.[Yk],Z.deprecatedProps);for(let H of Q){let B=Zp(H.constructor);if(B)Object.assign(X,B),Object.assign(W,B[I9]),Object.assign(F,B[Yk])}if(P41(X,$),j41(X,W),k41(X,F),X[I9]=W,X[Yk]=F,Q.length===0&&!Xp($,"_propTypes"))$._propTypes=W;return X}function P41($,Q){let J=L41(Q);Object.defineProperties($,{id:{writable:!0,value:J}})}function k41($,Q){for(let J in Q)Object.defineProperty($,J,{enumerable:!1,set(K){let Y=`${this.id}: ${J}`;for(let q of Q[J])if(!Xp(this,q))this[q]=K;E1.deprecated(Y,Q[J].join("/"))()}})}function j41($,Q){let J={},K={};for(let Y in Q){let q=Q[Y],{name:Z,value:X}=q;if(q.async)J[Z]=X,K[Z]=E41(Z)}$[nK]=J,$[BJ]={},Object.defineProperties($,K)}function E41($){return{enumerable:!0,set(Q){if(typeof Q==="string"||Q instanceof Promise||Ik(Q))this[BJ][$]=Q;else this[u$][$]=Q},get(){if(this[u$]){if($ in this[u$])return this[u$][$]||this[nK][$];if($ in this[BJ]){let Q=this[mX]&&this[mX].internalState;if(Q&&Q.hasAsyncProp($))return Q.getAsyncProp($)||this[nK][$]}}return this[nK][$]}}}function Xp($,Q){return Object.prototype.hasOwnProperty.call($,Q)}function kB0($,Q){return Xp($,Q)&&$[Q]}function L41($){let Q=$.componentName;if(!Q)E1.warn(`${$.name}.componentName not specified`)();return Q||$.name}var h41=0;class ak{constructor(...$){this.props=PB0(this,$),this.id=this.props.id,this.count=h41++}clone($){let{props:Q}=this,J={};for(let K in Q[nK])if(K in Q[u$])J[K]=Q[u$][K];else if(K in Q[BJ])J[K]=Q[BJ][K];return new this.constructor({...Q,...J,...$})}}ak.componentName="Component";ak.defaultProps={};var ok=ak;var v41=Object.freeze({});class tk{constructor($){this.component=$,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(let $ in this.asyncProps){let Q=this.asyncProps[$];if(Q&&Q.type&&Q.type.release)Q.type.release(Q.resolvedValue,Q.type,this.component)}this.asyncProps={},this.component=null,this.resetOldProps()}getOldProps(){return this.oldAsyncProps||this.oldProps||v41}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component?this.component.props:null}hasAsyncProp($){return $ in this.asyncProps}getAsyncProp($){let Q=this.asyncProps[$];return Q&&Q.resolvedValue}isAsyncPropLoading($){if($){let Q=this.asyncProps[$];return Boolean(Q&&Q.pendingLoadCount>0&&Q.pendingLoadCount!==Q.resolvedLoadCount)}for(let Q in this.asyncProps)if(this.isAsyncPropLoading(Q))return!0;return!1}reloadAsyncProp($,Q){this._watchPromise($,Promise.resolve(Q))}setAsyncProps($){this.component=$[mX]||this.component;let Q=$[u$]||{},J=$[BJ]||$,K=$[nK]||{};for(let Y in Q){let q=Q[Y];this._createAsyncPropData(Y,K[Y]),this._updateAsyncProp(Y,q),Q[Y]=this.getAsyncProp(Y)}for(let Y in J){let q=J[Y];this._createAsyncPropData(Y,K[Y]),this._updateAsyncProp(Y,q)}}_fetch($,Q){return null}_onResolve($,Q){}_onError($,Q){}_updateAsyncProp($,Q){if(!this._didAsyncInputValueChange($,Q))return;if(typeof Q==="string")Q=this._fetch($,Q);if(Q instanceof Promise){this._watchPromise($,Q);return}if(Ik(Q)){this._resolveAsyncIterable($,Q);return}this._setPropValue($,Q)}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(let $ in this.asyncProps)Object.defineProperty(this.oldAsyncProps,$,{enumerable:!0,value:this.oldProps[$]})}}_didAsyncInputValueChange($,Q){let J=this.asyncProps[$];if(Q===J.resolvedValue||Q===J.lastValue)return!1;return J.lastValue=Q,!0}_setPropValue($,Q){this._freezeAsyncOldProps();let J=this.asyncProps[$];if(J)Q=this._postProcessValue(J,Q),J.resolvedValue=Q,J.pendingLoadCount++,J.resolvedLoadCount=J.pendingLoadCount}_setAsyncPropValue($,Q,J){let K=this.asyncProps[$];if(K&&J>=K.resolvedLoadCount&&Q!==void 0)this._freezeAsyncOldProps(),K.resolvedValue=Q,K.resolvedLoadCount=J,this.onAsyncPropUpdated($,Q)}_watchPromise($,Q){let J=this.asyncProps[$];if(J){J.pendingLoadCount++;let K=J.pendingLoadCount;Q.then((Y)=>{if(!this.component)return;Y=this._postProcessValue(J,Y),this._setAsyncPropValue($,Y,K),this._onResolve($,Y)}).catch((Y)=>{this._onError($,Y)})}}async _resolveAsyncIterable($,Q){if($!=="data"){this._setPropValue($,Q);return}let J=this.asyncProps[$];if(!J)return;J.pendingLoadCount++;let K=J.pendingLoadCount,Y=[],q=0;for await(let Z of Q){if(!this.component)return;let{dataTransform:X}=this.component.props;if(X)Y=X(Z,Y);else Y=Y.concat(Z);Object.defineProperty(Y,"__diff",{enumerable:!1,value:[{startRow:q,endRow:Y.length}]}),q=Y.length,this._setAsyncPropValue($,Y,K)}this._onResolve($,Y)}_postProcessValue($,Q){let J=$.type;if(J&&this.component){if(J.release)J.release($.resolvedValue,J,this.component);if(J.transform)return J.transform(Q,J,this.component)}return Q}_createAsyncPropData($,Q){if(!this.asyncProps[$]){let K=this.component&&this.component.props[I9];this.asyncProps[$]={type:K&&K[$],lastValue:null,resolvedValue:Q,pendingLoadCount:0,resolvedLoadCount:0}}}}class ek extends tk{constructor({attributeManager:$,layer:Q}){super(Q);this.attributeManager=$,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}_fetch($,Q){let J=this.layer,K=J?.props.fetch;if(K)return K(Q,{propName:$,layer:J});return super._fetch($,Q)}_onResolve($,Q){let J=this.layer;if(J){let K=J.props.onDataLoad;if($==="data"&&K)K(Q,{propName:$,layer:J})}}_onError($,Q){let J=this.layer;if(J)J.raiseError(Q,`loading ${$} of ${this.layer}`)}}var S41="layer.changeFlag",_41="layer.initialize",f41="layer.update",I41="layer.finalize",M41="layer.matched",jB0=16777215,b41=Object.freeze([]),g41=NJ(({oldViewport:$,viewport:Q})=>{return $.equals(Q)}),p$=new Uint8ClampedArray(0),y41={data:{type:"data",value:b41,async:!0},dataComparator:{type:"function",value:null,optional:!0},_dataDiff:{type:"function",value:($)=>$&&$.__diff,optional:!0},dataTransform:{type:"function",value:null,optional:!0},onDataLoad:{type:"function",value:null,optional:!0},onError:{type:"function",value:null,optional:!0},fetch:{type:"function",value:($,{propName:Q,layer:J,loaders:K,loadOptions:Y,signal:q})=>{let{resourceManager:Z}=J.context;if(Y=Y||J.getLoadOptions(),K=K||J.props.loaders,q)Y={...Y,fetch:{...Y?.fetch,signal:q}};let X=Z.contains($);if(!X&&!Y)Z.add({resourceId:$,data:pq($,K),persistent:!1}),X=!0;if(X)return Z.subscribe({resourceId:$,onChange:(W)=>J.internalState?.reloadAsyncProp(Q,W),consumerId:J.id,requestId:Q});return pq($,K,Y)}},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:"draw",onHover:{type:"function",value:null,optional:!0},onClick:{type:"function",value:null,optional:!0},onDragStart:{type:"function",value:null,optional:!0},onDrag:{type:"function",value:null,optional:!0},onDragEnd:{type:"function",value:null,optional:!0},coordinateSystem:z5.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:2},loadOptions:{type:"object",value:null,optional:!0,ignore:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,ignore:!0},getPolygonOffset:{type:"function",value:({layerIndex:$})=>[0,-$*100]},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class $j extends ok{constructor(){super(...arguments);this.internalState=null,this.lifecycle=JZ.NO_STATE,this.parent=null}static get componentName(){return Object.prototype.hasOwnProperty.call(this,"layerName")?this.layerName:""}get root(){let $=this;while($.parent)$=$.parent;return $}toString(){return`${this.constructor.layerName||this.constructor.name}({id: '${this.props.id}'})`}project($){x6(this.internalState);let Q=this.internalState.viewport||this.context.viewport,J=Om($,{viewport:Q,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[K,Y,q]=fH(J,Q.pixelProjectionMatrix);return $.length===2?[K,Y]:[K,Y,q]}unproject($){return x6(this.internalState),(this.internalState.viewport||this.context.viewport).unproject($)}projectPosition($,Q){x6(this.internalState);let J=this.internalState.viewport||this.context.viewport;return IH0($,{viewport:J,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...Q})}get isComposite(){return!1}get isDrawable(){return!0}setState($){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,$),this.setNeedsRedraw()}setNeedsRedraw(){if(this.internalState)this.internalState.needsRedraw=!0}setNeedsUpdate(){if(this.internalState)this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0}get isLoaded(){return this.internalState?!this.internalState.isAsyncPropLoading():!1}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){let $=this.state;return $&&($.models||$.model&&[$.model])||[]}setShaderModuleProps(...$){for(let Q of this.getModels())Q.shaderInputs.setProps(...$)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){let{coordinateSystem:$}=this.props;return $===z5.DEFAULT||$===z5.LNGLAT||$===z5.CARTESIAN}onHover($,Q){if(this.props.onHover)return this.props.onHover($,Q)||!1;return!1}onClick($,Q){if(this.props.onClick)return this.props.onClick($,Q)||!1;return!1}nullPickingColor(){return[0,0,0]}encodePickingColor($,Q=[]){return Q[0]=$+1&255,Q[1]=$+1>>8&255,Q[2]=$+1>>8>>8&255,Q}decodePickingColor($){x6($ instanceof Uint8Array);let[Q,J,K]=$;return Q+J*256+K*65536-1}getNumInstances(){if(Number.isFinite(this.props.numInstances))return this.props.numInstances;if(this.state&&this.state.numInstances!==void 0)return this.state.numInstances;return OB0(this.props.data)}getStartIndices(){if(this.props.startIndices)return this.props.startIndices;if(this.state&&this.state.startIndices)return this.state.startIndices;return null}getBounds(){return this.getAttributeManager()?.getBounds(["positions","instancePositions"])}getShaders($){$=Kp($,{disableWarnings:!0,modules:this.context.defaultShaderModules});for(let Q of this.props.extensions)$=Kp($,Q.getShaders.call(this,Q));return $}shouldUpdateState($){return $.changeFlags.propsOrDataChanged}updateState($){let Q=this.getAttributeManager(),{dataChanged:J}=$.changeFlags;if(J&&Q)if(Array.isArray(J))for(let K of J)Q.invalidateAll(K);else Q.invalidateAll();if(Q){let{props:K}=$,Y=this.internalState.hasPickingBuffer,q=Number.isInteger(K.highlightedObjectIndex)||K.pickable||K.extensions.some((Z)=>Z.getNeedsPickingBuffer.call(this,Z));if(Y!==q){this.internalState.hasPickingBuffer=q;let{pickingColors:Z,instancePickingColors:X}=Q.attributes,W=Z||X;if(W){if(q&&W.constant)W.constant=!1,Q.invalidate(W.id);if(!W.value&&!q)W.constant=!0,W.value=[0,0,0]}}}}finalizeState($){for(let J of this.getModels())J.destroy();let Q=this.getAttributeManager();if(Q)Q.finalize();if(this.context)this.context.resourceManager.unsubscribe({consumerId:this.id});if(this.internalState)this.internalState.uniformTransitions.clear(),this.internalState.finalize()}draw($){for(let Q of this.getModels())Q.draw($.renderPass)}getPickingInfo({info:$,mode:Q,sourceLayer:J}){let{index:K}=$;if(K>=0){if(Array.isArray(this.props.data))$.object=this.props.data[K]}return $}raiseError($,Q){if(Q)$=Error(`${Q}: ${$.message}`,{cause:$});if(!this.props.onError?.($))this.context?.onError?.($,this)}getNeedsRedraw($={clearRedrawFlags:!1}){return this._getNeedsRedraw($)}needsUpdate(){if(!this.internalState)return!1;return this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams())}hasUniformTransition(){return this.internalState?.uniformTransitions.active||!1}activateViewport($){if(!this.internalState)return;let Q=this.internalState.viewport;if(this.internalState.viewport=$,!Q||!g41({oldViewport:Q,viewport:$}))if(this.setChangeFlags({viewportChanged:!0}),this.isComposite){if(this.needsUpdate())this.setNeedsUpdate()}else this._update()}invalidateAttribute($="all"){let Q=this.getAttributeManager();if(!Q)return;if($==="all")Q.invalidateAll();else Q.invalidate($)}updateAttributes($){let Q=!1;for(let J in $)if($[J].layoutChanged())Q=!0;for(let J of this.getModels())this._setModelAttributes(J,$,Q)}_updateAttributes(){let $=this.getAttributeManager();if(!$)return;let Q=this.props,J=this.getNumInstances(),K=this.getStartIndices();$.update({data:Q.data,numInstances:J,startIndices:K,props:Q,transitions:Q.transitions,buffers:Q.data.attributes,context:this});let Y=$.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(Y)}_updateAttributeTransition(){let $=this.getAttributeManager();if($)$.updateTransition()}_updateUniformTransition(){let{uniformTransitions:$}=this.internalState;if($.active){let Q=$.update(),J=Object.create(this.props);for(let K in Q)Object.defineProperty(J,K,{value:Q[K]});return J}return this.props}calculateInstancePickingColors($,{numInstances:Q}){if($.constant)return;let J=Math.floor(p$.length/4);if(this.internalState.usesPickingColorCache=!0,J<Q){if(Q>jB0)E1.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")();p$=c$.allocate(p$,Q,{size:4,copy:!0,maxCount:Math.max(Q,jB0)});let K=Math.floor(p$.length/4),Y=[0,0,0];for(let q=J;q<K;q++)this.encodePickingColor(q,Y),p$[q*4+0]=Y[0],p$[q*4+1]=Y[1],p$[q*4+2]=Y[2],p$[q*4+3]=0}$.value=p$.subarray(0,Q*4)}_setModelAttributes($,Q,J=!1){if(!Object.keys(Q).length)return;if(J){let Z=this.getAttributeManager();$.setBufferLayout(Z.getBufferLayouts($)),Q=Z.getAttributes()}let K=$.userData?.excludeAttributes||{},Y={},q={};for(let Z in Q){if(K[Z])continue;let X=Q[Z].getValue();for(let W in X){let F=X[W];if(F instanceof h5)if(Q[Z].settings.isIndexed)$.setIndexBuffer(F);else Y[W]=F;else if(F)q[W]=F}}$.setAttributes(Y),$.setConstantAttributes(q)}disablePickingIndex($){let Q=this.props.data;if(!("attributes"in Q)){this._disablePickingIndex($);return}let{pickingColors:J,instancePickingColors:K}=this.getAttributeManager().attributes,Y=J||K,q=Y&&Q.attributes&&Q.attributes[Y.id];if(q&&q.value){let Z=q.value,X=this.encodePickingColor($);for(let W=0;W<Q.length;W++){let F=Y.getVertexOffset(W);if(Z[F]===X[0]&&Z[F+1]===X[1]&&Z[F+2]===X[2])this._disablePickingIndex(W)}}else this._disablePickingIndex($)}_disablePickingIndex($){let{pickingColors:Q,instancePickingColors:J}=this.getAttributeManager().attributes,K=Q||J;if(!K)return;let Y=K.getVertexOffset($),q=K.getVertexOffset($+1);K.buffer.write(new Uint8Array(q-Y),Y)}restorePickingColors(){let{pickingColors:$,instancePickingColors:Q}=this.getAttributeManager().attributes,J=$||Q;if(!J)return;if(this.internalState.usesPickingColorCache&&J.value.buffer!==p$.buffer)J.value=p$.subarray(0,J.value.length);J.updateSubBuffer({startOffset:0})}_initialize(){x6(!this.internalState),x6(Number.isFinite(this.props.coordinateSystem)),Z7(_41,this);let $=this._getAttributeManager();if($)$.addInstanced({instancePickingColors:{type:"uint8",size:4,noAlloc:!0,update:this.calculateInstancePickingColors}});this.internalState=new ek({attributeManager:$,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>{return E1.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),$}}),this.internalState.uniformTransitions=new ik(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(let Q of this.props.extensions)Q.initializeState.call(this,this.context,Q);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState($){Z7(M41,this,this===$);let{state:Q,internalState:J}=$;if(this===$)return;this.internalState=J,this.state=Q,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps())}_update(){let $=this.needsUpdate();if(Z7(f41,this,$),!$)return;let Q=this.props,J=this.context,K=this.internalState,Y=J.viewport,q=this._updateUniformTransition();K.propsInTransition=q,J.viewport=K.viewport||Y,this.props=q;try{let Z=this._getUpdateParams(),X=this.getModels();if(J.device)this.updateState(Z);else try{this.updateState(Z)}catch(F){}for(let F of this.props.extensions)F.updateState.call(this,Z,F);this.setNeedsRedraw(),this._updateAttributes();let W=this.getModels()[0]!==X[0];this._postUpdate(Z,W)}finally{J.viewport=Y,this.props=Q,this._clearChangeFlags(),K.needsUpdate=!1,K.resetOldProps()}}_finalize(){Z7(I41,this),this.finalizeState(this.context);for(let $ of this.props.extensions)$.finalizeState.call(this,this.context,$)}_drawLayer({renderPass:$,shaderModuleProps:Q=null,uniforms:J={},parameters:K={}}){this._updateAttributeTransition();let Y=this.props,q=this.context;this.props=this.internalState.propsInTransition||Y;try{if(Q)this.setShaderModuleProps(Q);let{getPolygonOffset:Z}=this.props,X=Z&&Z(J)||[0,0];if(q.device instanceof wJ)q.device.setParametersWebGL({polygonOffset:X});for(let W of this.getModels())if(W.device.type==="webgpu")W.setParameters({...W.parameters,...K});else W.setParameters(K);if(q.device instanceof wJ)q.device.withParametersWebGL(K,()=>{let W={renderPass:$,shaderModuleProps:Q,uniforms:J,parameters:K,context:q};for(let F of this.props.extensions)F.draw.call(this,W,F);this.draw(W)});else{let W={renderPass:$,shaderModuleProps:Q,uniforms:J,parameters:K,context:q};for(let F of this.props.extensions)F.draw.call(this,W,F);this.draw(W)}}finally{this.props=Y}}getChangeFlags(){return this.internalState?.changeFlags}setChangeFlags($){if(!this.internalState)return;let{changeFlags:Q}=this.internalState;for(let K in $)if($[K]){let Y=!1;switch(K){case"dataChanged":let q=$[K],Z=Q[K];if(q&&Array.isArray(Z))Q.dataChanged=Array.isArray(q)?Z.concat(q):q,Y=!0;default:if(!Q[K])Q[K]=$[K],Y=!0}if(Y)Z7(S41,this,K,$)}let J=Boolean(Q.dataChanged||Q.updateTriggersChanged||Q.propsChanged||Q.extensionsChanged);Q.propsOrDataChanged=J,Q.somethingChanged=J||Q.viewportChanged||Q.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps($,Q){let J=GB0($,Q);if(J.updateTriggersChanged){for(let K in J.updateTriggersChanged)if(J.updateTriggersChanged[K])this.invalidateAttribute(K)}if(J.transitionsChanged)for(let K in J.transitionsChanged)this.internalState.uniformTransitions.add(K,Q[K],$[K],$.transitions?.[K]);return this.setChangeFlags(J)}validateProps(){RB0(this.props)}updateAutoHighlight($){if(this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex))this._updateAutoHighlight($)}_updateAutoHighlight($){let Q={highlightedObjectColor:$.picked?$.color:null},{highlightColor:J}=this.props;if($.picked&&typeof J==="function")Q.highlightColor=J($);this.setShaderModuleProps({picking:Q}),this.setNeedsRedraw()}_getAttributeManager(){let $=this.context;return new nk($.device,{id:this.props.id,stats:$.stats,timeline:$.timeline})}_postUpdate($,Q){let{props:J,oldProps:K}=$,Y=this.state.model;if(Y?.isInstanced)Y.setInstanceCount(this.getNumInstances());let{autoHighlight:q,highlightedObjectIndex:Z,highlightColor:X}=J;if(Q||K.autoHighlight!==q||K.highlightedObjectIndex!==Z||K.highlightColor!==X){let W={};if(Array.isArray(X))W.highlightColor=X;if(Q||K.autoHighlight!==q||Z!==K.highlightedObjectIndex)W.highlightedObjectColor=Number.isFinite(Z)&&Z>=0?this.encodePickingColor(Z):null;this.setShaderModuleProps({picking:W})}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw($){if(!this.internalState)return!1;let Q=!1;Q=Q||this.internalState.needsRedraw&&this.id;let J=this.getAttributeManager(),K=J?J.getNeedsRedraw($):!1;if(Q=Q||K,Q)for(let Y of this.props.extensions)Y.onNeedsRedraw.call(this,Y);return this.internalState.needsRedraw=this.internalState.needsRedraw&&!$.clearRedrawFlags,Q}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}$j.defaultProps=y41;$j.layerName="Layer";var H4=$j;var x41="compositeLayer.renderLayers";class Wp extends H4{get isComposite(){return!0}get isDrawable(){return!1}get isLoaded(){return super.isLoaded&&this.getSubLayers().every(($)=>$.isLoaded)}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState($){}setState($){super.setState($),this.setNeedsUpdate()}getPickingInfo({info:$}){let{object:Q}=$;if(!(Q&&Q.__source&&Q.__source.parent&&Q.__source.parent.id===this.id))return $;return $.object=Q.__source.object,$.index=Q.__source.index,$}filterSubLayer($){return!0}shouldRenderSubLayer($,Q){return Q&&Q.length}getSubLayerClass($,Q){let{_subLayerProps:J}=this.props;return J&&J[$]&&J[$].type||Q}getSubLayerRow($,Q,J){return $.__source={parent:this,object:Q,index:J},$}getSubLayerAccessor($){if(typeof $==="function"){let Q={index:-1,data:this.props.data,target:[]};return(J,K)=>{if(J&&J.__source)return Q.index=J.__source.index,$(J.__source.object,Q);return $(J,K)}}return $}getSubLayerProps($={}){let{opacity:Q,pickable:J,visible:K,parameters:Y,getPolygonOffset:q,highlightedObjectIndex:Z,autoHighlight:X,highlightColor:W,coordinateSystem:F,coordinateOrigin:H,wrapLongitude:B,positionFormat:z,modelMatrix:A,extensions:R,fetch:G,operation:w,_subLayerProps:T}=this.props,D={id:"",updateTriggers:{},opacity:Q,pickable:J,visible:K,parameters:Y,getPolygonOffset:q,highlightedObjectIndex:Z,autoHighlight:X,highlightColor:W,coordinateSystem:F,coordinateOrigin:H,wrapLongitude:B,positionFormat:z,modelMatrix:A,extensions:R,fetch:G,operation:w},P=T&&$.id&&T[$.id],j=P&&P.updateTriggers,E=$.id||"sublayer";if(P){let L=this.props[I9],h=$.type?$.type._propTypes:{};for(let _ in P){let S=h[_]||L[_];if(S&&S.type==="accessor")P[_]=this.getSubLayerAccessor(P[_])}}Object.assign(D,$,P),D.id=`${this.props.id}-${E}`,D.updateTriggers={all:this.props.updateTriggers?.all,...$.updateTriggers,...j};for(let L of R){let h=L.getSubLayerProps.call(this,L);if(h)Object.assign(D,h,{updateTriggers:Object.assign(D.updateTriggers,h.updateTriggers)})}return D}_updateAutoHighlight($){for(let Q of this.getSubLayers())Q.updateAutoHighlight($)}_getAttributeManager(){return null}_postUpdate($,Q){let J=this.internalState.subLayers,K=!J||this.needsUpdate();if(K){let Y=this.renderLayers();J=yH(Y,Boolean),this.internalState.subLayers=J}Z7(x41,this,K,J);for(let Y of J)Y.parent=this}}Wp.layerName="CompositeLayer";var ZR=Wp;class lX{constructor($){this.indexStarts=[0],this.vertexStarts=[0],this.vertexCount=0,this.instanceCount=0;let{attributes:Q={}}=$;this.typedArrayManager=c$,this.attributes={},this._attributeDefs=Q,this.opts=$,this.updateGeometry($)}updateGeometry($){Object.assign(this.opts,$);let{data:Q,buffers:J={},getGeometry:K,geometryBuffer:Y,positionFormat:q,dataChanged:Z,normalize:X=!0}=this.opts;if(this.data=Q,this.getGeometry=K,this.positionSize=Y&&Y.size||(q==="XY"?2:3),this.buffers=J,this.normalize=X,Y){if(x6(Q.startIndices),this.getGeometry=this.getGeometryFromBuffer(Y),!X)J.vertexPositions=Y}if(this.geometryBuffer=J.vertexPositions,Array.isArray(Z))for(let W of Z)this._rebuildGeometry(W);else this._rebuildGeometry()}updatePartialGeometry({startRow:$,endRow:Q}){this._rebuildGeometry({startRow:$,endRow:Q})}getGeometryFromBuffer($){let Q=$.value||$;if(!ArrayBuffer.isView(Q))return null;return Mk(Q,{size:this.positionSize,offset:$.offset,stride:$.stride,startIndices:this.data.startIndices})}_allocate($,Q){let{attributes:J,buffers:K,_attributeDefs:Y,typedArrayManager:q}=this;for(let Z in Y)if(Z in K)q.release(J[Z]),J[Z]=null;else{let X=Y[Z];X.copy=Q,J[Z]=q.allocate(J[Z],$,X)}}_forEachGeometry($,Q,J){let{data:K,getGeometry:Y}=this,{iterable:q,objectInfo:Z}=tK(K,Q,J);for(let X of q){Z.index++;let W=Y?Y(X,Z):null;$(W,Z.index)}}_rebuildGeometry($){if(!this.data)return;let{indexStarts:Q,vertexStarts:J,instanceCount:K}=this,{data:Y,geometryBuffer:q}=this,{startRow:Z=0,endRow:X=1/0}=$||{},W={};if(!$)Q=[0],J=[0];if(this.normalize||!q)this._forEachGeometry((H,B)=>{let z=H&&this.normalizeGeometry(H);W[B]=z,J[B+1]=J[B]+(z?this.getGeometrySize(z):0)},Z,X),K=J[J.length-1];else if(J=Y.startIndices,K=J[Y.length]||0,ArrayBuffer.isView(q))K=K||q.length/this.positionSize;else if(q instanceof h5){let H=this.positionSize*4;K=K||q.byteLength/H}else if(q.buffer){let H=q.stride||this.positionSize*4;K=K||q.buffer.byteLength/H}else if(q.value){let H=q.value,B=q.stride/H.BYTES_PER_ELEMENT||this.positionSize;K=K||H.length/B}this._allocate(K,Boolean($)),this.indexStarts=Q,this.vertexStarts=J,this.instanceCount=K;let F={};this._forEachGeometry((H,B)=>{let z=W[B]||H;F.vertexStart=J[B],F.indexStart=Q[B];let A=B<J.length-1?J[B+1]:K;F.geometrySize=A-J[B],F.geometryIndex=B,this.updateGeometryAttributes(z,F)},Z,X),this.vertexCount=Q[Q.length-1]}}var EB0={name:"icon",vs:`uniform iconUniforms {
  float sizeScale;
  vec2 iconsTextureDim;
  float sizeMinPixels;
  float sizeMaxPixels;
  bool billboard;
  highp int sizeUnits;
  float alphaCutoff;
} icon;
`,fs:`uniform iconUniforms {
  float sizeScale;
  vec2 iconsTextureDim;
  float sizeMinPixels;
  float sizeMaxPixels;
  bool billboard;
  highp int sizeUnits;
  float alphaCutoff;
} icon;
`,uniformTypes:{sizeScale:"f32",iconsTextureDim:"vec2<f32>",sizeMinPixels:"f32",sizeMaxPixels:"f32",billboard:"f32",sizeUnits:"i32",alphaCutoff:"f32"}};var LB0=`#version 300 es
#define SHADER_NAME icon-layer-vertex-shader
in vec2 positions;
in vec3 instancePositions;
in vec3 instancePositions64Low;
in float instanceSizes;
in float instanceAngles;
in vec4 instanceColors;
in vec3 instancePickingColors;
in vec4 instanceIconFrames;
in float instanceColorModes;
in vec2 instanceOffsets;
in vec2 instancePixelOffset;
out float vColorMode;
out vec4 vColor;
out vec2 vTextureCoords;
out vec2 uv;
vec2 rotate_by_angle(vec2 vertex, float angle) {
float angle_radian = angle * PI / 180.0;
float cos_angle = cos(angle_radian);
float sin_angle = sin(angle_radian);
mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);
return rotationMatrix * vertex;
}
void main(void) {
geometry.worldPosition = instancePositions;
geometry.uv = positions;
geometry.pickingColor = instancePickingColors;
uv = positions;
vec2 iconSize = instanceIconFrames.zw;
float sizePixels = clamp(
project_size_to_pixel(instanceSizes * icon.sizeScale, icon.sizeUnits),
icon.sizeMinPixels, icon.sizeMaxPixels
);
float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;
vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;
pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;
pixelOffset += instancePixelOffset;
pixelOffset.y *= -1.0;
if (icon.billboard)  {
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
vec3 offset = vec3(pixelOffset, 0.0);
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
} else {
vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);
DECKGL_FILTER_SIZE(offset_common, geometry);
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
vTextureCoords = mix(
instanceIconFrames.xy,
instanceIconFrames.xy + iconSize,
(positions.xy + 1.0) / 2.0
) / icon.iconsTextureDim;
vColor = instanceColors;
DECKGL_FILTER_COLOR(vColor, geometry);
vColorMode = instanceColorModes;
}
`;var hB0=`#version 300 es
#define SHADER_NAME icon-layer-fragment-shader
precision highp float;
uniform sampler2D iconsTexture;
in float vColorMode;
in vec4 vColor;
in vec2 vTextureCoords;
in vec2 uv;
out vec4 fragColor;
void main(void) {
geometry.uv = uv;
vec4 texColor = texture(iconsTexture, vTextureCoords);
vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);
float a = texColor.a * layer.opacity * vColor.a;
if (a < icon.alphaCutoff) {
discard;
}
fragColor = vec4(color, a);
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`;var c41=1024,u41=4,vB0=()=>{},SB0={minFilter:"linear",mipmapFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},m41={x:0,y:0,width:0,height:0};function p41($){return Math.pow(2,Math.ceil(Math.log2($)))}function d41($,Q,J,K){let Y=Math.min(J/Q.width,K/Q.height),q=Math.floor(Q.width*Y),Z=Math.floor(Q.height*Y);if(Y===1)return{image:Q,width:q,height:Z};return $.canvas.height=Z,$.canvas.width=q,$.clearRect(0,0,q,Z),$.drawImage(Q,0,0,Q.width,Q.height,0,0,q,Z),{image:$.canvas,width:q,height:Z}}function XR($){return $&&($.id||$.url)}function n41($,Q,J,K){let{width:Y,height:q,device:Z}=$,X=Z.createTexture({format:"rgba8unorm",width:Q,height:J,sampler:K,mipmaps:!0}),W=Z.createCommandEncoder();return W.copyTextureToTexture({sourceTexture:$,destinationTexture:X,width:Y,height:q}),W.finish(),$.destroy(),X}function _B0($,Q,J){for(let K=0;K<Q.length;K++){let{icon:Y,xOffset:q}=Q[K],Z=XR(Y);$[Z]={...Y,x:q,y:J}}}function l41({icons:$,buffer:Q,mapping:J={},xOffset:K=0,yOffset:Y=0,rowHeight:q=0,canvasWidth:Z}){let X=[];for(let W=0;W<$.length;W++){let F=$[W],H=XR(F);if(!J[H]){let{height:B,width:z}=F;if(K+z+Q>Z)_B0(J,X,Y),K=0,Y=q+Y+Q,q=0,X=[];X.push({icon:F,xOffset:K}),K=K+z+Q,q=Math.max(q,B)}}if(X.length>0)_B0(J,X,Y);return{mapping:J,rowHeight:q,xOffset:K,yOffset:Y,canvasWidth:Z,canvasHeight:p41(q+Y+Q)}}function r41($,Q,J){if(!$||!Q)return null;J=J||{};let K={},{iterable:Y,objectInfo:q}=tK($);for(let Z of Y){q.index++;let X=Q(Z,q),W=XR(X);if(!X)throw Error("Icon is missing.");if(!X.url)throw Error("Icon url is missing.");if(!K[W]&&(!J[W]||X.url!==J[W].url))K[W]={...X,source:Z,sourceIndex:q.index}}return K}class Qj{constructor($,{onUpdate:Q=vB0,onError:J=vB0}){this._loadOptions=null,this._texture=null,this._externalTexture=null,this._mapping={},this._samplerParameters=null,this._pendingCount=0,this._autoPacking=!1,this._xOffset=0,this._yOffset=0,this._rowHeight=0,this._buffer=u41,this._canvasWidth=c41,this._canvasHeight=0,this._canvas=null,this.device=$,this.onUpdate=Q,this.onError=J}finalize(){this._texture?.delete()}getTexture(){return this._texture||this._externalTexture}getIconMapping($){let Q=this._autoPacking?XR($):$;return this._mapping[Q]||m41}setProps({loadOptions:$,autoPacking:Q,iconAtlas:J,iconMapping:K,textureParameters:Y}){if($)this._loadOptions=$;if(Q!==void 0)this._autoPacking=Q;if(K)this._mapping=K;if(J)this._texture?.delete(),this._texture=null,this._externalTexture=J;if(Y)this._samplerParameters=Y}get isLoaded(){return this._pendingCount===0}packIcons($,Q){if(!this._autoPacking||typeof document>"u")return;let J=Object.values(r41($,Q,this._mapping)||{});if(J.length>0){let{mapping:K,xOffset:Y,yOffset:q,rowHeight:Z,canvasHeight:X}=l41({icons:J,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset});if(this._rowHeight=Z,this._mapping=K,this._xOffset=Y,this._yOffset=q,this._canvasHeight=X,!this._texture)this._texture=this.device.createTexture({format:"rgba8unorm",width:this._canvasWidth,height:this._canvasHeight,sampler:this._samplerParameters||SB0,mipmaps:!0});if(this._texture.height!==this._canvasHeight)this._texture=n41(this._texture,this._canvasWidth,this._canvasHeight,this._samplerParameters||SB0);this.onUpdate(),this._canvas=this._canvas||document.createElement("canvas"),this._loadIcons(J)}}_loadIcons($){let Q=this._canvas.getContext("2d",{willReadFrequently:!0});for(let J of $)this._pendingCount++,pq(J.url,this._loadOptions).then((K)=>{let Y=XR(J),q=this._mapping[Y],{x:Z,y:X,width:W,height:F}=q,{image:H,width:B,height:z}=d41(Q,K,W,F);this._texture?.copyExternalImage({image:H,x:Z+(W-B)/2,y:X+(F-z)/2,width:B,height:z}),q.width=B,q.height=z,this._texture.generateMipmap(),this.onUpdate()}).catch((K)=>{this.onError({url:J.url,source:J.source,sourceIndex:J.sourceIndex,loadOptions:this._loadOptions,error:K})}).finally(()=>{this._pendingCount--})}}var fB0=[0,0,0,255],i41={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:0.05,min:0,max:1},getPosition:{type:"accessor",value:($)=>$.position},getIcon:{type:"accessor",value:($)=>$.icon},getColor:{type:"accessor",value:fB0},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,optional:!0},textureParameters:{type:"object",ignore:!0,value:null}};class Jj extends H4{getShaders(){return super.getShaders({vs:LB0,fs:hB0,modules:[M3,g3,EB0]})}initializeState(){this.state={iconManager:new Qj(this.context.device,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})},this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:"uint8",accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getColor",defaultValue:fB0},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}updateState($){super.updateState($);let{props:Q,oldProps:J,changeFlags:K}=$,Y=this.getAttributeManager(),{iconAtlas:q,iconMapping:Z,data:X,getIcon:W,textureParameters:F}=Q,{iconManager:H}=this.state;if(typeof q==="string")return;let B=q||this.internalState.isAsyncPropLoading("iconAtlas");if(H.setProps({loadOptions:Q.loadOptions,autoPacking:!B,iconAtlas:q,iconMapping:B?Z:null,textureParameters:F}),B){if(J.iconMapping!==Q.iconMapping)Y.invalidate("getIcon")}else if(K.dataChanged||K.updateTriggersChanged&&(K.updateTriggersChanged.all||K.updateTriggersChanged.getIcon))H.packIcons(X,W);if(K.extensionsChanged)this.state.model?.destroy(),this.state.model=this._getModel(),Y.invalidateAll()}get isLoaded(){return super.isLoaded&&this.state.iconManager.isLoaded}finalizeState($){super.finalizeState($),this.state.iconManager.finalize()}draw({uniforms:$}){let{sizeScale:Q,sizeMinPixels:J,sizeMaxPixels:K,sizeUnits:Y,billboard:q,alphaCutoff:Z}=this.props,{iconManager:X}=this.state,W=X.getTexture();if(W){let F=this.state.model,H={iconsTexture:W,iconsTextureDim:[W.width,W.height],sizeUnits:c8[Y],sizeScale:Q,sizeMinPixels:J,sizeMaxPixels:K,billboard:q,alphaCutoff:Z};F.shaderInputs.setProps({icon:H}),F.draw(this.context.renderPass)}}_getModel(){let $=[-1,-1,1,-1,-1,1,1,1];return new K8(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new f9({topology:"triangle-strip",attributes:{positions:{size:2,value:new Float32Array($)}}}),isInstanced:!0})}_onUpdate(){this.setNeedsRedraw()}_onError($){let Q=this.getCurrentLayer()?.props.onIconError;if(Q)Q($);else E1.error($.error.message)()}getInstanceOffset($){let{width:Q,height:J,anchorX:K=Q/2,anchorY:Y=J/2}=this.state.iconManager.getIconMapping($);return[Q/2-K,J/2-Y]}getInstanceColorMode($){return this.state.iconManager.getIconMapping($).mask?1:0}getInstanceIconFrame($){let{x:Q,y:J,width:K,height:Y}=this.state.iconManager.getIconMapping($);return[Q,J,K,Y]}}Jj.defaultProps=i41;Jj.layerName="IconLayer";var Kj=Jj;var IB0={name:"scatterplot",vs:`uniform scatterplotUniforms {
  float radiusScale;
  float radiusMinPixels;
  float radiusMaxPixels;
  float lineWidthScale;
  float lineWidthMinPixels;
  float lineWidthMaxPixels;
  float stroked;
  float filled;
  bool antialiasing;
  bool billboard;
  highp int radiusUnits;
  highp int lineWidthUnits;
} scatterplot;
`,fs:`uniform scatterplotUniforms {
  float radiusScale;
  float radiusMinPixels;
  float radiusMaxPixels;
  float lineWidthScale;
  float lineWidthMinPixels;
  float lineWidthMaxPixels;
  float stroked;
  float filled;
  bool antialiasing;
  bool billboard;
  highp int radiusUnits;
  highp int lineWidthUnits;
} scatterplot;
`,source:"",uniformTypes:{radiusScale:"f32",radiusMinPixels:"f32",radiusMaxPixels:"f32",lineWidthScale:"f32",lineWidthMinPixels:"f32",lineWidthMaxPixels:"f32",stroked:"f32",filled:"f32",antialiasing:"f32",billboard:"f32",radiusUnits:"i32",lineWidthUnits:"i32"}};var MB0=`#version 300 es
#define SHADER_NAME scatterplot-layer-vertex-shader
in vec3 positions;
in vec3 instancePositions;
in vec3 instancePositions64Low;
in float instanceRadius;
in float instanceLineWidths;
in vec4 instanceFillColors;
in vec4 instanceLineColors;
in vec3 instancePickingColors;
out vec4 vFillColor;
out vec4 vLineColor;
out vec2 unitPosition;
out float innerUnitRadius;
out float outerRadiusPixels;
void main(void) {
geometry.worldPosition = instancePositions;
outerRadiusPixels = clamp(
project_size_to_pixel(scatterplot.radiusScale * instanceRadius, scatterplot.radiusUnits),
scatterplot.radiusMinPixels, scatterplot.radiusMaxPixels
);
float lineWidthPixels = clamp(
project_size_to_pixel(scatterplot.lineWidthScale * instanceLineWidths, scatterplot.lineWidthUnits),
scatterplot.lineWidthMinPixels, scatterplot.lineWidthMaxPixels
);
outerRadiusPixels += scatterplot.stroked * lineWidthPixels / 2.0;
float edgePadding = scatterplot.antialiasing ? (outerRadiusPixels + SMOOTH_EDGE_RADIUS) / outerRadiusPixels : 1.0;
unitPosition = edgePadding * positions.xy;
geometry.uv = unitPosition;
geometry.pickingColor = instancePickingColors;
innerUnitRadius = 1.0 - scatterplot.stroked * lineWidthPixels / outerRadiusPixels;
if (scatterplot.billboard) {
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
vec3 offset = edgePadding * positions * outerRadiusPixels;
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
} else {
vec3 offset = edgePadding * positions * project_pixel_size(outerRadiusPixels);
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vFillColor, geometry);
vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vLineColor, geometry);
}
`;var bB0=`#version 300 es
#define SHADER_NAME scatterplot-layer-fragment-shader
precision highp float;
in vec4 vFillColor;
in vec4 vLineColor;
in vec2 unitPosition;
in float innerUnitRadius;
in float outerRadiusPixels;
out vec4 fragColor;
void main(void) {
geometry.uv = unitPosition;
float distToCenter = length(unitPosition) * outerRadiusPixels;
float inCircle = scatterplot.antialiasing ?
smoothedge(distToCenter, outerRadiusPixels) :
step(distToCenter, outerRadiusPixels);
if (inCircle == 0.0) {
discard;
}
if (scatterplot.stroked > 0.5) {
float isLine = scatterplot.antialiasing ?
smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :
step(innerUnitRadius * outerRadiusPixels, distToCenter);
if (scatterplot.filled > 0.5) {
fragColor = mix(vFillColor, vLineColor, isLine);
} else {
if (isLine == 0.0) {
discard;
}
fragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);
}
} else if (scatterplot.filled < 0.5) {
discard;
} else {
fragColor = vFillColor;
}
fragColor.a *= inCircle;
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`;var gB0=`// TODO(ibgreen): Hack for Layer uniforms (move to new "color" module?)

struct LayerUniforms {
  opacity: f32,
};

var<private> layer: LayerUniforms = LayerUniforms(1.0);
// @group(0) @binding(1) var<uniform> layer: LayerUniforms;

// Main shaders

struct ScatterplotUniforms {
  radiusScale: f32,
  radiusMinPixels: f32,
  radiusMaxPixels: f32,
  lineWidthScale: f32,
  lineWidthMinPixels: f32,
  lineWidthMaxPixels: f32,
  stroked: f32,
  filled: i32,
  antialiasing: i32,
  billboard: i32,
  radiusUnits: i32,
  lineWidthUnits: i32,
};

struct ConstantAttributeUniforms {
 instancePositions: vec3<f32>,
 instancePositions64Low: vec3<f32>,
 instanceRadius: f32,
 instanceLineWidths: f32,
 instanceFillColors: vec4<f32>,
 instanceLineColors: vec4<f32>,
 instancePickingColors: vec3<f32>,

 instancePositionsConstant: i32,
 instancePositions64LowConstant: i32,
 instanceRadiusConstant: i32,
 instanceLineWidthsConstant: i32,
 instanceFillColorsConstant: i32,
 instanceLineColorsConstant: i32,
 instancePickingColorsConstant: i32
};

@group(0) @binding(2) var<uniform> scatterplot: ScatterplotUniforms;

struct ConstantAttributes {
  instancePositions: vec3<f32>,
  instancePositions64Low: vec3<f32>,
  instanceRadius: f32,
  instanceLineWidths: f32,
  instanceFillColors: vec4<f32>,
  instanceLineColors: vec4<f32>,
  instancePickingColors: vec3<f32>
};

const constants = ConstantAttributes(
  vec3<f32>(0.0),
  vec3<f32>(0.0),
  0.0,
  0.0,
  vec4<f32>(0.0, 0.0, 0.0, 1.0),
  vec4<f32>(0.0, 0.0, 0.0, 1.0),
  vec3<f32>(0.0)
);

struct Attributes {
  @builtin(instance_index) instanceIndex : u32,
  @builtin(vertex_index) vertexIndex : u32,
  @location(0) positions: vec3<f32>,
  @location(1) instancePositions: vec3<f32>,
  @location(2) instancePositions64Low: vec3<f32>,
  @location(3) instanceRadius: f32,
  @location(4) instanceLineWidths: f32,
  @location(5) instanceFillColors: vec4<f32>,
  @location(6) instanceLineColors: vec4<f32>,
  @location(7) instancePickingColors: vec3<f32>
};

struct Varyings {
  @builtin(position) position: vec4<f32>,
  @location(0) vFillColor: vec4<f32>,
  @location(1) vLineColor: vec4<f32>,
  @location(2) unitPosition: vec2<f32>,
  @location(3) innerUnitRadius: f32,
  @location(4) outerRadiusPixels: f32,
};

@vertex
fn vertexMain(attributes: Attributes) -> Varyings {
  var varyings: Varyings;

  // Draw an inline geometry constant array clip space triangle to verify that rendering works.
  // var positions = array<vec2<f32>, 3>(vec2(0.0, 0.5), vec2(-0.5, -0.5), vec2(0.5, -0.5));
  // if (attributes.instanceIndex == 0) {
  //   varyings.position = vec4<f32>(positions[attributes.vertexIndex], 0.0, 1.0);
  //   return varyings;
  // }

  // var geometry: Geometry;
  // geometry.worldPosition = instancePositions;

  // Multiply out radius and clamp to limits
  varyings.outerRadiusPixels = clamp(
    project_unit_size_to_pixel(scatterplot.radiusScale * attributes.instanceRadius, scatterplot.radiusUnits),
    scatterplot.radiusMinPixels, scatterplot.radiusMaxPixels
  );

  // Multiply out line width and clamp to limits
  let lineWidthPixels = clamp(
    project_unit_size_to_pixel(scatterplot.lineWidthScale * attributes.instanceLineWidths, scatterplot.lineWidthUnits),
    scatterplot.lineWidthMinPixels, scatterplot.lineWidthMaxPixels
  );

  // outer radius needs to offset by half stroke width
  varyings.outerRadiusPixels += scatterplot.stroked * lineWidthPixels / 2.0;
  // Expand geometry to accommodate edge smoothing
  let edgePadding = select(
    (varyings.outerRadiusPixels + SMOOTH_EDGE_RADIUS) / varyings.outerRadiusPixels,
    1.0,
    scatterplot.antialiasing != 0
  );

  // position on the containing square in [-1, 1] space
  varyings.unitPosition = edgePadding * attributes.positions.xy;
  geometry.uv = varyings.unitPosition;
  geometry.pickingColor = attributes.instancePickingColors;

  varyings.innerUnitRadius = 1.0 - scatterplot.stroked * lineWidthPixels / varyings.outerRadiusPixels;

  if (scatterplot.billboard != 0) {
    varyings.position = project_position_to_clipspace(attributes.instancePositions, attributes.instancePositions64Low, vec3<f32>(0.0)); // TODO , geometry.position);
    // DECKGL_FILTER_GL_POSITION(varyings.position, geometry);
    let offset = attributes.positions; // * edgePadding * varyings.outerRadiusPixels;
    // DECKGL_FILTER_SIZE(offset, geometry);
    let clipPixels = project_pixel_size_to_clipspace(offset.xy);
    varyings.position.x = clipPixels.x;
    varyings.position.y = clipPixels.y;
  } else {
    let offset = edgePadding * attributes.positions * project_pixel_size_float(varyings.outerRadiusPixels);
    // DECKGL_FILTER_SIZE(offset, geometry);
    varyings.position = project_position_to_clipspace(attributes.instancePositions, attributes.instancePositions64Low, offset); // TODO , geometry.position);
    // DECKGL_FILTER_GL_POSITION(varyings.position, geometry);
  }

  // Apply opacity to instance color, or return instance picking color
  varyings.vFillColor = vec4<f32>(attributes.instanceFillColors.rgb, attributes.instanceFillColors.a * layer.opacity);
  // DECKGL_FILTER_COLOR(varyings.vFillColor, geometry);
  varyings.vLineColor = vec4<f32>(attributes.instanceLineColors.rgb, attributes.instanceLineColors.a * layer.opacity);
  // DECKGL_FILTER_COLOR(varyings.vLineColor, geometry);

  return varyings;
}

@fragment
fn fragmentMain(varyings: Varyings) -> @location(0) vec4<f32> {
  // var geometry: Geometry;
  // geometry.uv = unitPosition;

  let distToCenter = length(varyings.unitPosition) * varyings.outerRadiusPixels;
  let inCircle = select(
    smoothedge(distToCenter, varyings.outerRadiusPixels),
    step(distToCenter, varyings.outerRadiusPixels),
    scatterplot.antialiasing != 0
  );

  if (inCircle == 0.0) {
    // discard;
  }

  var fragColor: vec4<f32>;

  if (scatterplot.stroked != 0) {
    let isLine = select(
      smoothedge(varyings.innerUnitRadius * varyings.outerRadiusPixels, distToCenter),
      step(varyings.innerUnitRadius * varyings.outerRadiusPixels, distToCenter),
      scatterplot.antialiasing != 0
    );

    if (scatterplot.filled != 0) {
      fragColor = mix(varyings.vFillColor, varyings.vLineColor, isLine);
    } else {
      if (isLine == 0.0) {
        // discard;
      }
      fragColor = vec4<f32>(varyings.vLineColor.rgb, varyings.vLineColor.a * isLine);
    }
  } else if (scatterplot.filled == 0) {
    // discard;
  } else {
    fragColor = varyings.vFillColor;
  }

  fragColor.a *= inCircle;
  // DECKGL_FILTER_COLOR(fragColor, geometry);

  return fragColor;
  // return vec4<f32>(0, 0, 1, 1);
}
`;var yB0=[0,0,0,255],s41={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:($)=>$.position},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:yB0},getLineColor:{type:"accessor",value:yB0},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class Yj extends H4{getShaders(){return super.getShaders({vs:MB0,fs:bB0,source:gB0,modules:[M3,g3,IB0]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState($){if(super.updateState($),$.changeFlags.extensionsChanged)this.state.model?.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll()}draw({uniforms:$}){let{radiusUnits:Q,radiusScale:J,radiusMinPixels:K,radiusMaxPixels:Y,stroked:q,filled:Z,billboard:X,antialiasing:W,lineWidthUnits:F,lineWidthScale:H,lineWidthMinPixels:B,lineWidthMaxPixels:z}=this.props,A={stroked:q,filled:Z,billboard:X,antialiasing:W,radiusUnits:c8[Q],radiusScale:J,radiusMinPixels:K,radiusMaxPixels:Y,lineWidthUnits:c8[F],lineWidthScale:H,lineWidthMinPixels:B,lineWidthMaxPixels:z},R=this.state.model;R.shaderInputs.setProps({scatterplot:A}),R.draw(this.context.renderPass)}_getModel(){let $=[-1,-1,0,1,-1,0,-1,1,0,1,1,0];return new K8(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new f9({topology:"triangle-strip",attributes:{positions:{size:3,value:new Float32Array($)}}}),isInstanced:!0})}}Yj.defaultProps=s41;Yj.layerName="ScatterplotLayer";var xB0=Yj;var qj={CLOCKWISE:1,COUNTER_CLOCKWISE:-1};function WR($,Q,J={}){if(cB0($,J)!==Q)return o41($,J),!0;return!1}function cB0($,Q={}){return Math.sign(Zj($,Q))}var Fp={x:0,y:1,z:2};function Zj($,Q={}){let{start:J=0,end:K=$.length,plane:Y="xy"}=Q,q=Q.size||2,Z=0,X=Fp[Y[0]],W=Fp[Y[1]];for(let F=J,H=K-q;F<K;F+=q)Z+=($[F+X]-$[H+X])*($[F+W]+$[H+W]),H=F;return Z/2}function o41($,Q){let{start:J=0,end:K=$.length,size:Y=2}=Q,q=(K-J)/Y,Z=Math.floor(q/2);for(let X=0;X<Z;++X){let W=J+X*Y,F=J+(q-1-X)*Y;for(let H=0;H<Y;++H){let B=$[W+H];$[W+H]=$[F+H],$[F+H]=B}}}function p4($,Q){let J=Q.length,K=$.length;if(K>0){let Y=!0;for(let q=0;q<J;q++)if($[K-J+q]!==Q[q]){Y=!1;break}if(Y)return!1}for(let Y=0;Y<J;Y++)$[K+Y]=Q[Y];return!0}function FR($,Q){let J=Q.length;for(let K=0;K<J;K++)$[K]=Q[K]}function ZZ($,Q,J,K,Y=[]){let q=K+Q*J;for(let Z=0;Z<J;Z++)Y[Z]=$[q+Z];return Y}function Xj($,Q,J,K,Y=[]){let q,Z;if(J&8)q=(K[3]-$[1])/(Q[1]-$[1]),Z=3;else if(J&4)q=(K[1]-$[1])/(Q[1]-$[1]),Z=1;else if(J&2)q=(K[2]-$[0])/(Q[0]-$[0]),Z=2;else if(J&1)q=(K[0]-$[0])/(Q[0]-$[0]),Z=0;else return null;for(let X=0;X<$.length;X++)Y[X]=(Z&1)===X?K[Z]:q*(Q[X]-$[X])+$[X];return Y}function UR($,Q){let J=0;if($[0]<Q[0])J|=1;else if($[0]>Q[2])J|=2;if($[1]<Q[1])J|=4;else if($[1]>Q[3])J|=8;return J}function HR($,Q){let{size:J=2,broken:K=!1,gridResolution:Y=10,gridOffset:q=[0,0],startIndex:Z=0,endIndex:X=$.length}=Q||{},W=(X-Z)/J,F=[],H=[F],B=ZZ($,0,J,Z),z,A,R=pB0(B,Y,q,[]),G=[];p4(F,B);for(let w=1;w<W;w++){z=ZZ($,w,J,Z,z),A=UR(z,R);while(A){Xj(B,z,A,R,G);let T=UR(G,R);if(T)Xj(B,G,T,R,G),A=T;if(p4(F,G),FR(B,G),e41(R,Y,A),K&&F.length>J)F=[],H.push(F),p4(F,B);A=UR(z,R)}p4(F,z),FR(B,z)}return K?H:H[0]}var uB0=0,t41=1;function NR($,Q=null,J){if(!$.length)return[];let{size:K=2,gridResolution:Y=10,gridOffset:q=[0,0],edgeTypes:Z=!1}=J||{},X=[],W=[{pos:$,types:Z?Array($.length/K).fill(t41):null,holes:Q||[]}],F=[[],[]],H=[];while(W.length){let{pos:B,types:z,holes:A}=W.shift();$91(B,K,A[0]||B.length,F),H=pB0(F[0],Y,q,H);let R=UR(F[1],H);if(R){let G=mB0(B,z,K,0,A[0]||B.length,H,R),w={pos:G[0].pos,types:G[0].types,holes:[]},T={pos:G[1].pos,types:G[1].types,holes:[]};W.push(w,T);for(let D=0;D<A.length;D++){if(G=mB0(B,z,K,A[D],A[D+1]||B.length,H,R),G[0]){if(w.holes.push(w.pos.length),w.pos=Wj(w.pos,G[0].pos),Z)w.types=Wj(w.types,G[0].types)}if(G[1]){if(T.holes.push(T.pos.length),T.pos=Wj(T.pos,G[1].pos),Z)T.types=Wj(T.types,G[1].types)}}}else{let G={positions:B};if(Z)G.edgeTypes=z;if(A.length)G.holeIndices=A;X.push(G)}}return X}function mB0($,Q,J,K,Y,q,Z){let X=(Y-K)/J,W=[],F=[],H=[],B=[],z=[],A,R,G,w=ZZ($,X-1,J,K),T=Math.sign(Z&8?w[1]-q[3]:w[0]-q[2]),D=Q&&Q[X-1],P=0,j=0;for(let E=0;E<X;E++){if(A=ZZ($,E,J,K,A),R=Math.sign(Z&8?A[1]-q[3]:A[0]-q[2]),G=Q&&Q[K/J+E],R&&T&&T!==R)Xj(w,A,Z,q,z),p4(W,z)&&H.push(D),p4(F,z)&&B.push(D);if(R<=0)p4(W,A)&&H.push(G),P-=R;else if(H.length)H[H.length-1]=uB0;if(R>=0)p4(F,A)&&B.push(G),j+=R;else if(B.length)B[B.length-1]=uB0;FR(w,A),T=R,D=G}return[P?{pos:W,types:Q&&H}:null,j?{pos:F,types:Q&&B}:null]}function pB0($,Q,J,K){let Y=Math.floor(($[0]-J[0])/Q)*Q+J[0],q=Math.floor(($[1]-J[1])/Q)*Q+J[1];return K[0]=Y,K[1]=q,K[2]=Y+Q,K[3]=q+Q,K}function e41($,Q,J){if(J&8)$[1]+=Q,$[3]+=Q;else if(J&4)$[1]-=Q,$[3]-=Q;else if(J&2)$[0]+=Q,$[2]+=Q;else if(J&1)$[0]-=Q,$[2]-=Q}function $91($,Q,J,K){let Y=1/0,q=-1/0,Z=1/0,X=-1/0;for(let W=0;W<J;W+=Q){let F=$[W],H=$[W+1];Y=F<Y?F:Y,q=F>q?F:q,Z=H<Z?H:Z,X=H>X?H:X}return K[0][0]=Y,K[0][1]=Z,K[1][0]=q,K[1][1]=X,K}function Wj($,Q){for(let J=0;J<Q.length;J++)$.push(Q[J]);return $}var Q91=85.051129;function Up($,Q){let{size:J=2,startIndex:K=0,endIndex:Y=$.length,normalize:q=!0}=Q||{},Z=$.slice(K,Y);dB0(Z,J,0,Y-K);let X=HR(Z,{size:J,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(q)for(let W of X)nB0(W,J);return X}function Hp($,Q=null,J){let{size:K=2,normalize:Y=!0,edgeTypes:q=!1}=J||{};Q=Q||[];let Z=[],X=[],W=0,F=0;for(let B=0;B<=Q.length;B++){let z=Q[B]||$.length,A=F,R=J91($,K,W,z);for(let G=R;G<z;G++)Z[F++]=$[G];for(let G=W;G<R;G++)Z[F++]=$[G];dB0(Z,K,A,F),K91(Z,K,A,F,J?.maxLatitude),W=z,X[B]=F}X.pop();let H=NR(Z,X,{size:K,gridResolution:360,gridOffset:[-180,-180],edgeTypes:q});if(Y)for(let B of H)nB0(B.positions,K);return H}function J91($,Q,J,K){let Y=-1,q=-1;for(let Z=J+1;Z<K;Z+=Q){let X=Math.abs($[Z]);if(X>Y)Y=X,q=Z-1}return q}function K91($,Q,J,K,Y=Q91){let q=$[J],Z=$[K-Q];if(Math.abs(q-Z)>180){let X=ZZ($,0,Q,J);X[0]+=Math.round((Z-q)/360)*360,p4($,X),X[1]=Math.sign(X[1])*Y,p4($,X),X[0]=q,p4($,X)}}function dB0($,Q,J,K){let Y=$[0],q;for(let Z=J;Z<K;Z+=Q){q=$[Z];let X=q-Y;if(X>180||X<-180)q-=Math.round(X/360)*360;$[Z]=Y=q}}function nB0($,Q){let J,K=$.length/Q;for(let q=0;q<K;q++)if(J=$[q*Q],(J+180)%360!==0)break;let Y=-Math.round(J/360)*360;if(Y===0)return;for(let q=0;q<K;q++)$[q*Q]+=Y}function lB0($,Q,J,K){let Y;if(Array.isArray($[0])){let q=$.length*Q;Y=Array(q);for(let Z=0;Z<$.length;Z++)for(let X=0;X<Q;X++)Y[Z*Q+X]=$[Z][X]||0}else Y=$;if(J)return HR(Y,{size:Q,gridResolution:J});if(K)return Up(Y,{size:Q});return Y}var q91=1,Z91=2,Np=4;class Fj extends lX{constructor($){super({...$,attributes:{positions:{size:3,padding:18,initialize:!0,type:$.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}})}get($){return this.attributes[$]}getGeometryFromBuffer($){if(this.normalize)return super.getGeometryFromBuffer($);return null}normalizeGeometry($){if(this.normalize)return lB0($,this.positionSize,this.opts.resolution,this.opts.wrapLongitude);return $}getGeometrySize($){if(rB0($)){let J=0;for(let K of $)J+=this.getGeometrySize(K);return J}let Q=this.getPathLength($);if(Q<2)return 0;if(this.isClosed($))return Q<3?0:Q+2;return Q}updateGeometryAttributes($,Q){if(Q.geometrySize===0)return;if($&&rB0($))for(let J of $){let K=this.getGeometrySize(J);Q.geometrySize=K,this.updateGeometryAttributes(J,Q),Q.vertexStart+=K}else this._updateSegmentTypes($,Q),this._updatePositions($,Q)}_updateSegmentTypes($,Q){let J=this.attributes.segmentTypes,K=$?this.isClosed($):!1,{vertexStart:Y,geometrySize:q}=Q;if(J.fill(0,Y,Y+q),K)J[Y]=Np,J[Y+q-2]=Np;else J[Y]+=q91,J[Y+q-2]+=Z91;J[Y+q-1]=Np}_updatePositions($,Q){let{positions:J}=this.attributes;if(!J||!$)return;let{vertexStart:K,geometrySize:Y}=Q,q=[,,,];for(let Z=K,X=0;X<Y;Z++,X++)this.getPointOnPath($,X,q),J[Z*3]=q[0],J[Z*3+1]=q[1],J[Z*3+2]=q[2]}getPathLength($){return $.length/this.positionSize}getPointOnPath($,Q,J=[]){let{positionSize:K}=this;if(Q*K>=$.length)Q+=1-$.length/K;let Y=Q*K;return J[0]=$[Y],J[1]=$[Y+1],J[2]=K===3&&$[Y+2]||0,J}isClosed($){if(!this.normalize)return Boolean(this.opts.loop);let{positionSize:Q}=this,J=$.length-Q;return $[0]===$[J]&&$[1]===$[J+1]&&(Q===2||$[2]===$[J+2])}}function rB0($){return Array.isArray($[0])}var iB0={name:"path",vs:`uniform pathUniforms {
  float widthScale;
  float widthMinPixels;
  float widthMaxPixels;
  float jointType;
  float capType;
  float miterLimit;
  bool billboard;
  highp int widthUnits;
} path;
`,fs:`uniform pathUniforms {
  float widthScale;
  float widthMinPixels;
  float widthMaxPixels;
  float jointType;
  float capType;
  float miterLimit;
  bool billboard;
  highp int widthUnits;
} path;
`,uniformTypes:{widthScale:"f32",widthMinPixels:"f32",widthMaxPixels:"f32",jointType:"f32",capType:"f32",miterLimit:"f32",billboard:"f32",widthUnits:"i32"}};var sB0=`#version 300 es
#define SHADER_NAME path-layer-vertex-shader
in vec2 positions;
in float instanceTypes;
in vec3 instanceStartPositions;
in vec3 instanceEndPositions;
in vec3 instanceLeftPositions;
in vec3 instanceRightPositions;
in vec3 instanceLeftPositions64Low;
in vec3 instanceStartPositions64Low;
in vec3 instanceEndPositions64Low;
in vec3 instanceRightPositions64Low;
in float instanceStrokeWidths;
in vec4 instanceColors;
in vec3 instancePickingColors;
uniform float opacity;
out vec4 vColor;
out vec2 vCornerOffset;
out float vMiterLength;
out vec2 vPathPosition;
out float vPathLength;
out float vJointType;
const float EPSILON = 0.001;
const vec3 ZERO_OFFSET = vec3(0.0);
float flipIfTrue(bool flag) {
return -(float(flag) * 2. - 1.);
}
vec3 getLineJoinOffset(
vec3 prevPoint, vec3 currPoint, vec3 nextPoint,
vec2 width
) {
bool isEnd = positions.x > 0.0;
float sideOfPath = positions.y;
float isJoint = float(sideOfPath == 0.0);
vec3 deltaA3 = (currPoint - prevPoint);
vec3 deltaB3 = (nextPoint - currPoint);
mat3 rotationMatrix;
bool needsRotation = !path.billboard && project_needs_rotation(currPoint, rotationMatrix);
if (needsRotation) {
deltaA3 = deltaA3 * rotationMatrix;
deltaB3 = deltaB3 * rotationMatrix;
}
vec2 deltaA = deltaA3.xy / width;
vec2 deltaB = deltaB3.xy / width;
float lenA = length(deltaA);
float lenB = length(deltaB);
vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);
vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);
vec2 perpA = vec2(-dirA.y, dirA.x);
vec2 perpB = vec2(-dirB.y, dirB.x);
vec2 tangent = dirA + dirB;
tangent = length(tangent) > 0. ? normalize(tangent) : perpA;
vec2 miterVec = vec2(-tangent.y, tangent.x);
vec2 dir = isEnd ? dirA : dirB;
vec2 perp = isEnd ? perpA : perpB;
float L = isEnd ? lenA : lenB;
float sinHalfA = abs(dot(miterVec, perp));
float cosHalfA = abs(dot(dirA, miterVec));
float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);
float cornerPosition = sideOfPath * turnDirection;
float miterSize = 1.0 / max(sinHalfA, EPSILON);
miterSize = mix(
min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),
miterSize,
step(0.0, cornerPosition)
);
vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))
* (sideOfPath + isJoint * turnDirection);
bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));
bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));
bool isCap = isStartCap || isEndCap;
if (isCap) {
offsetVec = mix(perp * sideOfPath, dir * path.capType * 4.0 * flipIfTrue(isStartCap), isJoint);
vJointType = path.capType;
} else {
vJointType = path.jointType;
}
vPathLength = L;
vCornerOffset = offsetVec;
vMiterLength = dot(vCornerOffset, miterVec * turnDirection);
vMiterLength = isCap ? isJoint : vMiterLength;
vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);
vPathPosition = vec2(
dot(offsetFromStartOfPath, perp),
dot(offsetFromStartOfPath, dir)
);
geometry.uv = vPathPosition;
float isValid = step(instanceTypes, 3.5);
vec3 offset = vec3(offsetVec * width * isValid, 0.0);
if (needsRotation) {
offset = rotationMatrix * offset;
}
return offset;
}
void clipLine(inout vec4 position, vec4 refPosition) {
if (position.w < EPSILON) {
float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);
position = refPosition + (position - refPosition) * r;
}
}
void main() {
geometry.pickingColor = instancePickingColors;
vColor = vec4(instanceColors.rgb, instanceColors.a * layer.opacity);
float isEnd = positions.x;
vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);
vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);
vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);
vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);
vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);
vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);
geometry.worldPosition = currPosition;
vec2 widthPixels = vec2(clamp(
project_size_to_pixel(instanceStrokeWidths * path.widthScale, path.widthUnits),
path.widthMinPixels, path.widthMaxPixels) / 2.0);
vec3 width;
if (path.billboard) {
vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);
vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);
vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);
clipLine(prevPositionScreen, currPositionScreen);
clipLine(nextPositionScreen, currPositionScreen);
clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));
width = vec3(widthPixels, 0.0);
DECKGL_FILTER_SIZE(width, geometry);
vec3 offset = getLineJoinOffset(
prevPositionScreen.xyz / prevPositionScreen.w,
currPositionScreen.xyz / currPositionScreen.w,
nextPositionScreen.xyz / nextPositionScreen.w,
project_pixel_size_to_clipspace(width.xy)
);
DECKGL_FILTER_GL_POSITION(currPositionScreen, geometry);
gl_Position = vec4(currPositionScreen.xyz + offset * currPositionScreen.w, currPositionScreen.w);
} else {
prevPosition = project_position(prevPosition, prevPosition64Low);
currPosition = project_position(currPosition, currPosition64Low);
nextPosition = project_position(nextPosition, nextPosition64Low);
width = vec3(project_pixel_size(widthPixels), 0.0);
DECKGL_FILTER_SIZE(width, geometry);
vec3 offset = getLineJoinOffset(prevPosition, currPosition, nextPosition, width.xy);
geometry.position = vec4(currPosition + offset, 1.0);
gl_Position = project_common_position_to_clipspace(geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
DECKGL_FILTER_COLOR(vColor, geometry);
}
`;var oB0=`#version 300 es
#define SHADER_NAME path-layer-fragment-shader
precision highp float;
in vec4 vColor;
in vec2 vCornerOffset;
in float vMiterLength;
in vec2 vPathPosition;
in float vPathLength;
in float vJointType;
out vec4 fragColor;
void main(void) {
geometry.uv = vPathPosition;
if (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {
if (vJointType > 0.5 && length(vCornerOffset) > 1.0) {
discard;
}
if (vJointType < 0.5 && vMiterLength > path.miterLimit + 1.0) {
discard;
}
}
fragColor = vColor;
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`;var aB0=[0,0,0,255],X91={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},jointRounded:!1,capRounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:($)=>$.path},getColor:{type:"accessor",value:aB0},getWidth:{type:"accessor",value:1},rounded:{deprecatedFor:["jointRounded","capRounded"]}},Bp={enter:($,Q)=>{return Q.length?Q.subarray(Q.length-$.length):$}};class Uj extends H4{getShaders(){return super.getShaders({vs:sB0,fs:oB0,modules:[M3,g3,iB0]})}get wrapLongitude(){return!1}getBounds(){return this.getAttributeManager()?.getBounds(["vertexPositions"])}initializeState(){this.getAttributeManager().addInstanced({vertexPositions:{size:3,vertexOffset:1,type:"float64",fp64:this.use64bitPositions(),transition:Bp,accessor:"getPath",update:this.calculatePositions,noAlloc:!0,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:"uint8",update:this.calculateSegmentTypes,noAlloc:!0},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:Bp,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:"unorm8",accessor:"getColor",transition:Bp,defaultValue:aB0},instancePickingColors:{size:4,type:"uint8",accessor:(J,{index:K,target:Y})=>this.encodePickingColor(J&&J.__source?J.__source.index:K,Y)}}),this.setState({pathTesselator:new Fj({fp64:this.use64bitPositions()})})}updateState($){super.updateState($);let{props:Q,changeFlags:J}=$,K=this.getAttributeManager();if(J.dataChanged||J.updateTriggersChanged&&(J.updateTriggersChanged.all||J.updateTriggersChanged.getPath)){let{pathTesselator:q}=this.state,Z=Q.data.attributes||{};if(q.updateGeometry({data:Q.data,geometryBuffer:Z.getPath,buffers:Z,normalize:!Q._pathType,loop:Q._pathType==="loop",getGeometry:Q.getPath,positionFormat:Q.positionFormat,wrapLongitude:Q.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:J.dataChanged}),this.setState({numInstances:q.instanceCount,startIndices:q.vertexStarts}),!J.dataChanged)K.invalidateAll()}if(J.extensionsChanged)this.state.model?.destroy(),this.state.model=this._getModel(),K.invalidateAll()}getPickingInfo($){let Q=super.getPickingInfo($),{index:J}=Q,K=this.props.data;if(K[0]&&K[0].__source)Q.object=K.find((Y)=>Y.__source.index===J);return Q}disablePickingIndex($){let Q=this.props.data;if(Q[0]&&Q[0].__source){for(let J=0;J<Q.length;J++)if(Q[J].__source.index===$)this._disablePickingIndex(J)}else super.disablePickingIndex($)}draw({uniforms:$}){let{jointRounded:Q,capRounded:J,billboard:K,miterLimit:Y,widthUnits:q,widthScale:Z,widthMinPixels:X,widthMaxPixels:W}=this.props,F=this.state.model,H={jointType:Number(Q),capType:Number(J),billboard:K,widthUnits:c8[q],widthScale:Z,miterLimit:Y,widthMinPixels:X,widthMaxPixels:W};F.shaderInputs.setProps({path:H}),F.draw(this.context.renderPass)}_getModel(){let $=[0,1,2,1,4,2,1,3,4,3,5,4],Q=[0,0,0,-1,0,1,1,-1,1,1,1,0];return new K8(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new f9({topology:"triangle-list",attributes:{indices:new Uint16Array($),positions:{value:new Float32Array(Q),size:2}}}),isInstanced:!0})}calculatePositions($){let{pathTesselator:Q}=this.state;$.startIndices=Q.vertexStarts,$.value=Q.get("positions")}calculateSegmentTypes($){let{pathTesselator:Q}=this.state;$.startIndices=Q.vertexStarts,$.value=Q.get("segmentTypes")}}Uj.defaultProps=X91;Uj.layerName="PathLayer";var tB0=Uj;var Wz0=x1(Kz0(),1);var Aj=qj.CLOCKWISE,Yz0=qj.COUNTER_CLOCKWISE,XZ={isClosed:!0};function C91($){if($=$&&$.positions||$,!Array.isArray($)&&!ArrayBuffer.isView($))throw Error("invalid polygon")}function lH($){return"positions"in $?$.positions:$}function VR($){return"holeIndices"in $?$.holeIndices:null}function P91($){return Array.isArray($[0])}function k91($){return $.length>=1&&$[0].length>=2&&Number.isFinite($[0][0])}function j91($){let Q=$[0],J=$[$.length-1];return Q[0]===J[0]&&Q[1]===J[1]&&Q[2]===J[2]}function E91($,Q,J,K){for(let Y=0;Y<Q;Y++)if($[J+Y]!==$[K-Q+Y])return!1;return!0}function qz0($,Q,J,K,Y){let q=Q,Z=J.length;for(let X=0;X<Z;X++)for(let W=0;W<K;W++)$[q++]=J[X][W]||0;if(!j91(J))for(let X=0;X<K;X++)$[q++]=J[0][X]||0;return XZ.start=Q,XZ.end=q,XZ.size=K,WR($,Y,XZ),q}function Zz0($,Q,J,K,Y=0,q,Z){q=q||J.length;let X=q-Y;if(X<=0)return Q;let W=Q;for(let F=0;F<X;F++)$[W++]=J[Y+F];if(!E91(J,K,Y,q))for(let F=0;F<K;F++)$[W++]=J[Y+F];return XZ.start=Q,XZ.end=W,XZ.size=K,WR($,Z,XZ),W}function Fz0($,Q){C91($);let J=[],K=[];if("positions"in $){let{positions:Y,holeIndices:q}=$;if(q){let Z=0;for(let X=0;X<=q.length;X++)Z=Zz0(J,Z,Y,Q,q[X-1],q[X],X===0?Aj:Yz0),K.push(Z);return K.pop(),{positions:J,holeIndices:K}}$=Y}if(!P91($))return Zz0(J,0,$,Q,0,J.length,Aj),J;if(!k91($)){let Y=0;for(let[q,Z]of $.entries())Y=qz0(J,Y,Z,Q,q===0?Aj:Yz0),K.push(Y);return K.pop(),{positions:J,holeIndices:K}}return qz0(J,0,$,Q,Aj),J}function Gp($,Q,J){let K=$.length/3,Y=0;for(let q=0;q<K;q++){let Z=(q+1)%K;Y+=$[q*3+Q]*$[Z*3+J],Y-=$[Z*3+Q]*$[q*3+J]}return Math.abs(Y/2)}function Xz0($,Q,J,K){let Y=$.length/3;for(let q=0;q<Y;q++){let Z=q*3,X=$[Z+0],W=$[Z+1],F=$[Z+2];$[Z+Q]=X,$[Z+J]=W,$[Z+K]=F}}function Uz0($,Q,J,K){let Y=VR($);if(Y)Y=Y.map((X)=>X/Q);let q=lH($),Z=K&&Q===3;if(J){let X=q.length;q=q.slice();let W=[];for(let F=0;F<X;F+=Q){if(W[0]=q[F],W[1]=q[F+1],Z)W[2]=q[F+2];let H=J(W);if(q[F]=H[0],q[F+1]=H[1],Z)q[F+2]=H[2]}}if(Z){let X=Gp(q,0,1),W=Gp(q,0,2),F=Gp(q,1,2);if(!X&&!W&&!F)return[];if(X>W&&X>F);else if(W>F){if(!J)q=q.slice();Xz0(q,0,2,1)}else{if(!J)q=q.slice();Xz0(q,2,0,1)}}return Wz0.default(q,Y,Q)}class Vj extends lX{constructor($){let{fp64:Q,IndexType:J=Uint32Array}=$;super({...$,attributes:{positions:{size:3,type:Q?Float64Array:Float32Array},vertexValid:{type:Uint16Array,size:1},indices:{type:J,size:1}}})}get($){let{attributes:Q}=this;if($==="indices")return Q.indices&&Q.indices.subarray(0,this.vertexCount);return Q[$]}updateGeometry($){super.updateGeometry($);let Q=this.buffers.indices;if(Q)this.vertexCount=(Q.value||Q).length;else if(this.data&&!this.getGeometry)throw Error("missing indices buffer")}normalizeGeometry($){if(this.normalize){let Q=Fz0($,this.positionSize);if(this.opts.resolution)return NR(lH(Q),VR(Q),{size:this.positionSize,gridResolution:this.opts.resolution,edgeTypes:!0});if(this.opts.wrapLongitude)return Hp(lH(Q),VR(Q),{size:this.positionSize,maxLatitude:86,edgeTypes:!0});return Q}return $}getGeometrySize($){if(Hz0($)){let Q=0;for(let J of $)Q+=this.getGeometrySize(J);return Q}return lH($).length/this.positionSize}getGeometryFromBuffer($){if(this.normalize||!this.buffers.indices)return super.getGeometryFromBuffer($);return null}updateGeometryAttributes($,Q){if($&&Hz0($))for(let J of $){let K=this.getGeometrySize(J);Q.geometrySize=K,this.updateGeometryAttributes(J,Q),Q.vertexStart+=K,Q.indexStart=this.indexStarts[Q.geometryIndex+1]}else{let J=$;this._updateIndices(J,Q),this._updatePositions(J,Q),this._updateVertexValid(J,Q)}}_updateIndices($,{geometryIndex:Q,vertexStart:J,indexStart:K}){let{attributes:Y,indexStarts:q,typedArrayManager:Z}=this,X=Y.indices;if(!X||!$)return;let W=K,F=Uz0($,this.positionSize,this.opts.preproject,this.opts.full3d);X=Z.allocate(X,K+F.length,{copy:!0});for(let H=0;H<F.length;H++)X[W++]=F[H]+J;q[Q+1]=K+F.length,Y.indices=X}_updatePositions($,{vertexStart:Q,geometrySize:J}){let{attributes:{positions:K},positionSize:Y}=this;if(!K||!$)return;let q=lH($);for(let Z=Q,X=0;X<J;Z++,X++){let W=q[X*Y],F=q[X*Y+1],H=Y>2?q[X*Y+2]:0;K[Z*3]=W,K[Z*3+1]=F,K[Z*3+2]=H}}_updateVertexValid($,{vertexStart:Q,geometrySize:J}){let{positionSize:K}=this,Y=this.attributes.vertexValid,q=$&&VR($);if($&&$.edgeTypes)Y.set($.edgeTypes,Q);else Y.fill(1,Q,Q+J);if(q)for(let Z=0;Z<q.length;Z++)Y[Q+q[Z]/K-1]=0;Y[Q+J-1]=0}}function Hz0($){return Array.isArray($)&&$.length>0&&!Number.isFinite($[0])}var Nz0={name:"solidPolygon",vs:`uniform solidPolygonUniforms {
  bool extruded;
  bool isWireframe;
  float elevationScale;
} solidPolygon;
`,fs:`uniform solidPolygonUniforms {
  bool extruded;
  bool isWireframe;
  float elevationScale;
} solidPolygon;
`,uniformTypes:{extruded:"f32",isWireframe:"f32",elevationScale:"f32"}};var Rj=`in vec4 fillColors;
in vec4 lineColors;
in vec3 pickingColors;
out vec4 vColor;
struct PolygonProps {
vec3 positions;
vec3 positions64Low;
vec3 normal;
float elevations;
};
vec3 project_offset_normal(vec3 vector) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {
return normalize(vector * project.commonUnitsPerWorldUnit);
}
return project_normal(vector);
}
void calculatePosition(PolygonProps props) {
vec3 pos = props.positions;
vec3 pos64Low = props.positions64Low;
vec3 normal = props.normal;
vec4 colors = solidPolygon.isWireframe ? lineColors : fillColors;
geometry.worldPosition = props.positions;
geometry.pickingColor = pickingColors;
if (solidPolygon.extruded) {
pos.z += props.elevations * solidPolygon.elevationScale;
}
gl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
if (solidPolygon.extruded) {
#ifdef IS_SIDE_VERTEX
normal = project_offset_normal(normal);
#else
normal = project_normal(normal);
#endif
geometry.normal = normal;
vec3 lightColor = lighting_getLightColor(colors.rgb, project.cameraPosition, geometry.position.xyz, geometry.normal);
vColor = vec4(lightColor, colors.a * layer.opacity);
} else {
vColor = vec4(colors.rgb, colors.a * layer.opacity);
}
DECKGL_FILTER_COLOR(vColor, geometry);
}
`;var Bz0=`#version 300 es
#define SHADER_NAME solid-polygon-layer-vertex-shader
in vec3 vertexPositions;
in vec3 vertexPositions64Low;
in float elevations;
${Rj}
void main(void) {
PolygonProps props;
props.positions = vertexPositions;
props.positions64Low = vertexPositions64Low;
props.elevations = elevations;
props.normal = vec3(0.0, 0.0, 1.0);
calculatePosition(props);
}
`;var zz0=`#version 300 es
#define SHADER_NAME solid-polygon-layer-vertex-shader-side
#define IS_SIDE_VERTEX
in vec2 positions;
in vec3 vertexPositions;
in vec3 nextVertexPositions;
in vec3 vertexPositions64Low;
in vec3 nextVertexPositions64Low;
in float elevations;
in float instanceVertexValid;
${Rj}
void main(void) {
if(instanceVertexValid < 0.5){
gl_Position = vec4(0.);
return;
}
PolygonProps props;
vec3 pos;
vec3 pos64Low;
vec3 nextPos;
vec3 nextPos64Low;
#if RING_WINDING_ORDER_CW == 1
pos = vertexPositions;
pos64Low = vertexPositions64Low;
nextPos = nextVertexPositions;
nextPos64Low = nextVertexPositions64Low;
#else
pos = nextVertexPositions;
pos64Low = nextVertexPositions64Low;
nextPos = vertexPositions;
nextPos64Low = vertexPositions64Low;
#endif
props.positions = mix(pos, nextPos, positions.x);
props.positions64Low = mix(pos64Low, nextPos64Low, positions.x);
props.normal = vec3(
pos.y - nextPos.y + (pos64Low.y - nextPos64Low.y),
nextPos.x - pos.x + (nextPos64Low.x - pos64Low.x),
0.0);
props.elevations = elevations * positions.y;
calculatePosition(props);
}
`;var Az0=`#version 300 es
#define SHADER_NAME solid-polygon-layer-fragment-shader
precision highp float;
in vec4 vColor;
out vec4 fragColor;
void main(void) {
fragColor = vColor;
geometry.uv = vec2(0.);
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`;var wj=[0,0,0,255],h91={filled:!0,extruded:!1,wireframe:!1,_normalize:!0,_windingOrder:"CW",_full3d:!1,elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:($)=>$.polygon},getElevation:{type:"accessor",value:1000},getFillColor:{type:"accessor",value:wj},getLineColor:{type:"accessor",value:wj},material:!0},Gj={enter:($,Q)=>{return Q.length?Q.subarray(Q.length-$.length):$}};class Oj extends H4{getShaders($){return super.getShaders({vs:$==="top"?Bz0:zz0,fs:Az0,defines:{RING_WINDING_ORDER_CW:!this.props._normalize&&this.props._windingOrder==="CCW"?0:1},modules:[M3,LP,g3,Nz0]})}get wrapLongitude(){return!1}getBounds(){return this.getAttributeManager()?.getBounds(["vertexPositions"])}initializeState(){let{viewport:$}=this.context,{coordinateSystem:Q}=this.props,{_full3d:J}=this.props;if($.isGeospatial&&Q===z5.DEFAULT)Q=z5.LNGLAT;let K;if(Q===z5.LNGLAT)if(J)K=$.projectPosition.bind($);else K=$.projectFlat.bind($);this.setState({numInstances:0,polygonTesselator:new Vj({preproject:K,fp64:this.use64bitPositions(),IndexType:Uint32Array})});let Y=this.getAttributeManager(),q=!0;Y.remove(["instancePickingColors"]),Y.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:q},vertexPositions:{size:3,type:"float64",stepMode:"dynamic",fp64:this.use64bitPositions(),transition:Gj,accessor:"getPolygon",update:this.calculatePositions,noAlloc:q,shaderAttributes:{nextVertexPositions:{vertexOffset:1}}},instanceVertexValid:{size:1,type:"uint16",stepMode:"instance",update:this.calculateVertexValid,noAlloc:q},elevations:{size:1,stepMode:"dynamic",transition:Gj,accessor:"getElevation"},fillColors:{size:this.props.colorFormat.length,type:"unorm8",stepMode:"dynamic",transition:Gj,accessor:"getFillColor",defaultValue:wj},lineColors:{size:this.props.colorFormat.length,type:"unorm8",stepMode:"dynamic",transition:Gj,accessor:"getLineColor",defaultValue:wj},pickingColors:{size:4,type:"uint8",stepMode:"dynamic",accessor:(Z,{index:X,target:W})=>this.encodePickingColor(Z&&Z.__source?Z.__source.index:X,W)}})}getPickingInfo($){let Q=super.getPickingInfo($),{index:J}=Q,K=this.props.data;if(K[0]&&K[0].__source)Q.object=K.find((Y)=>Y.__source.index===J);return Q}disablePickingIndex($){let Q=this.props.data;if(Q[0]&&Q[0].__source){for(let J=0;J<Q.length;J++)if(Q[J].__source.index===$)this._disablePickingIndex(J)}else super.disablePickingIndex($)}draw({uniforms:$}){let{extruded:Q,filled:J,wireframe:K,elevationScale:Y}=this.props,{topModel:q,sideModel:Z,wireframeModel:X,polygonTesselator:W}=this.state,F={extruded:Boolean(Q),elevationScale:Y,isWireframe:!1};if(X&&K)X.setInstanceCount(W.instanceCount-1),X.shaderInputs.setProps({solidPolygon:{...F,isWireframe:!0}}),X.draw(this.context.renderPass);if(Z&&J)Z.setInstanceCount(W.instanceCount-1),Z.shaderInputs.setProps({solidPolygon:F}),Z.draw(this.context.renderPass);if(q&&J)q.setVertexCount(W.vertexCount),q.shaderInputs.setProps({solidPolygon:F}),q.draw(this.context.renderPass)}updateState($){super.updateState($),this.updateGeometry($);let{props:Q,oldProps:J,changeFlags:K}=$,Y=this.getAttributeManager();if(K.extensionsChanged||Q.filled!==J.filled||Q.extruded!==J.extruded)this.state.models?.forEach((Z)=>Z.destroy()),this.setState(this._getModels()),Y.invalidateAll()}updateGeometry({props:$,oldProps:Q,changeFlags:J}){if(J.dataChanged||J.updateTriggersChanged&&(J.updateTriggersChanged.all||J.updateTriggersChanged.getPolygon)){let{polygonTesselator:Y}=this.state,q=$.data.attributes||{};if(Y.updateGeometry({data:$.data,normalize:$._normalize,geometryBuffer:q.getPolygon,buffers:q,getGeometry:$.getPolygon,positionFormat:$.positionFormat,wrapLongitude:$.wrapLongitude,resolution:this.context.viewport.resolution,fp64:this.use64bitPositions(),dataChanged:J.dataChanged,full3d:$._full3d}),this.setState({numInstances:Y.instanceCount,startIndices:Y.vertexStarts}),!J.dataChanged)this.getAttributeManager().invalidateAll()}}_getModels(){let{id:$,filled:Q,extruded:J}=this.props,K,Y,q;if(Q){let Z=this.getShaders("top");Z.defines.NON_INSTANCED_MODEL=1;let X=this.getAttributeManager().getBufferLayouts({isInstanced:!1});K=new K8(this.context.device,{...Z,id:`${$}-top`,topology:"triangle-list",bufferLayout:X,isIndexed:!0,userData:{excludeAttributes:{instanceVertexValid:!0}}})}if(J){let Z=this.getAttributeManager().getBufferLayouts({isInstanced:!0});Y=new K8(this.context.device,{...this.getShaders("side"),id:`${$}-side`,bufferLayout:Z,geometry:new f9({topology:"triangle-strip",attributes:{positions:{size:2,value:new Float32Array([1,0,0,0,1,1,0,1])}}}),isInstanced:!0,userData:{excludeAttributes:{indices:!0}}}),q=new K8(this.context.device,{...this.getShaders("side"),id:`${$}-wireframe`,bufferLayout:Z,geometry:new f9({topology:"line-strip",attributes:{positions:{size:2,value:new Float32Array([1,0,0,0,0,1,1,1])}}}),isInstanced:!0,userData:{excludeAttributes:{indices:!0}}})}return{models:[Y,q,K].filter(Boolean),topModel:K,sideModel:Y,wireframeModel:q}}calculateIndices($){let{polygonTesselator:Q}=this.state;$.startIndices=Q.indexStarts,$.value=Q.get("indices")}calculatePositions($){let{polygonTesselator:Q}=this.state;$.startIndices=Q.vertexStarts,$.value=Q.get("positions")}calculateVertexValid($){$.value=this.state.polygonTesselator.get("vertexValid")}}Oj.defaultProps=h91;Oj.layerName="SolidPolygonLayer";var Vz0=Oj;function Rz0({data:$,getIndex:Q,dataRange:J,replace:K}){let{startRow:Y=0,endRow:q=1/0}=J,Z=$.length,X=Z,W=Z;for(let z=0;z<Z;z++){let A=Q($[z]);if(X>z&&A>=Y)X=z;if(A>=q){W=z;break}}let F=X,B=W-X!==K.length?$.slice(W):void 0;for(let z=0;z<K.length;z++)$[F++]=K[z];if(B){for(let z=0;z<B.length;z++)$[F++]=B[z];$.length=F}return{startRow:X,endRow:X+K.length}}function Gz0($,Q){if(!$)return null;let J="startIndices"in $?$.startIndices[Q]:Q,K=$.featureIds.value[J];if(J!==-1)return v91($,K,J);return null}function v91($,Q,J){let K={properties:{...$.properties[Q]}};for(let Y in $.numericProps)K.properties[Y]=$.numericProps[Y].value[J];return K}function wz0($,Q){let J={points:null,lines:null,polygons:null};for(let K in J){let Y=$[K].globalFeatureIds.value;J[K]=new Uint8ClampedArray(Y.length*4);let q=[];for(let Z=0;Z<Y.length;Z++)Q(Y[Z],q),J[K][Z*4+0]=q[0],J[K][Z*4+1]=q[1],J[K][Z*4+2]=q[2],J[K][Z*4+3]=255}return J}var Oz0={name:"sdf",vs:`uniform sdfUniforms {
  float gamma;
  bool enabled;
  float buffer;
  float outlineBuffer;
  vec4 outlineColor;
} sdf;
`,fs:`uniform sdfUniforms {
  float gamma;
  bool enabled;
  float buffer;
  float outlineBuffer;
  vec4 outlineColor;
} sdf;
`,uniformTypes:{gamma:"f32",enabled:"f32",buffer:"f32",outlineBuffer:"f32",outlineColor:"vec4<f32>"}};var Tz0=`#version 300 es
#define SHADER_NAME multi-icon-layer-fragment-shader
precision highp float;
uniform sampler2D iconsTexture;
in vec4 vColor;
in vec2 vTextureCoords;
in vec2 uv;
out vec4 fragColor;
void main(void) {
geometry.uv = uv;
if (!bool(picking.isActive)) {
float alpha = texture(iconsTexture, vTextureCoords).a;
vec4 color = vColor;
if (sdf.enabled) {
float distance = alpha;
alpha = smoothstep(sdf.buffer - sdf.gamma, sdf.buffer + sdf.gamma, distance);
if (sdf.outlineBuffer > 0.0) {
float inFill = alpha;
float inBorder = smoothstep(sdf.outlineBuffer - sdf.gamma, sdf.outlineBuffer + sdf.gamma, distance);
color = mix(sdf.outlineColor, vColor, inFill);
alpha = inBorder;
}
}
float a = alpha * color.a;
if (a < icon.alphaCutoff) {
discard;
}
fragColor = vec4(color.rgb, a * layer.opacity);
}
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`;var wp=0.75,Dz0=[],S91={getIconOffsets:{type:"accessor",value:($)=>$.offsets},alphaCutoff:0.001,smoothing:0.1,outlineWidth:0,outlineColor:{type:"color",value:[0,0,0,255]}};class Tj extends Kj{getShaders(){let $=super.getShaders();return{...$,modules:[...$.modules,Oz0],fs:Tz0}}initializeState(){super.initializeState(),this.getAttributeManager().addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:"uint8",size:3,accessor:(Q,{index:J,target:K})=>this.encodePickingColor(J,K)}})}updateState($){super.updateState($);let{props:Q,oldProps:J}=$,{outlineColor:K}=Q;if(K!==J.outlineColor)K=K.map((Y)=>Y/255),K[3]=Number.isFinite(K[3])?K[3]:1,this.setState({outlineColor:K});if(!Q.sdf&&Q.outlineWidth)E1.warn(`${this.id}: fontSettings.sdf is required to render outline`)()}draw($){let{sdf:Q,smoothing:J,outlineWidth:K}=this.props,{outlineColor:Y}=this.state,q=K?Math.max(J,wp*(1-K)):-1,Z=this.state.model,X={buffer:wp,outlineBuffer:q,gamma:J,enabled:Boolean(Q),outlineColor:Y};if(Z.shaderInputs.setProps({sdf:X}),super.draw($),Q&&K){let{iconManager:W}=this.state;if(W.getTexture())Z.shaderInputs.setProps({sdf:{...X,outlineBuffer:wp}}),Z.draw(this.context.renderPass)}}getInstanceOffset($){return $?Array.from($).flatMap((Q)=>super.getInstanceOffset(Q)):Dz0}getInstanceColorMode($){return 1}getInstanceIconFrame($){return $?Array.from($).flatMap((Q)=>super.getInstanceIconFrame(Q)):Dz0}}Tj.defaultProps=S91;Tj.layerName="MultiIconLayer";var Cz0=Tj;class Dj{constructor({fontSize:$=24,buffer:Q=3,radius:J=8,cutoff:K=0.25,fontFamily:Y="sans-serif",fontWeight:q="normal",fontStyle:Z="normal",lang:X=null}={}){this.buffer=Q,this.cutoff=K,this.radius=J,this.lang=X;let W=this.size=$+Q*4,F=this._createCanvas(W),H=this.ctx=F.getContext("2d",{willReadFrequently:!0});H.font=`${Z} ${q} ${$}px ${Y}`,H.textBaseline="alphabetic",H.textAlign="left",H.fillStyle="black",this.gridOuter=new Float64Array(W*W),this.gridInner=new Float64Array(W*W),this.f=new Float64Array(W),this.z=new Float64Array(W+1),this.v=new Uint16Array(W)}_createCanvas($){let Q=document.createElement("canvas");return Q.width=Q.height=$,Q}draw($){let{width:Q,actualBoundingBoxAscent:J,actualBoundingBoxDescent:K,actualBoundingBoxLeft:Y,actualBoundingBoxRight:q}=this.ctx.measureText($),Z=Math.ceil(J),X=0,W=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(q-Y))),F=Math.min(this.size-this.buffer,Z+Math.ceil(K)),H=W+2*this.buffer,B=F+2*this.buffer,z=Math.max(H*B,0),A=new Uint8ClampedArray(z),R={data:A,width:H,height:B,glyphWidth:W,glyphHeight:F,glyphTop:Z,glyphLeft:0,glyphAdvance:Q};if(W===0||F===0)return R;let{ctx:G,buffer:w,gridInner:T,gridOuter:D}=this;if(this.lang)G.lang=this.lang;G.clearRect(w,w,W,F),G.fillText($,w,w+Z);let P=G.getImageData(w,w,W,F);D.fill(100000000000000000000,0,z),T.fill(0,0,z);for(let j=0;j<F;j++)for(let E=0;E<W;E++){let L=P.data[4*(j*W+E)+3]/255;if(L===0)continue;let h=(j+w)*H+E+w;if(L===1)D[h]=0,T[h]=100000000000000000000;else{let _=0.5-L;D[h]=_>0?_*_:0,T[h]=_<0?_*_:0}}Pz0(D,0,0,H,B,H,this.f,this.v,this.z),Pz0(T,w,w,W,F,H,this.f,this.v,this.z);for(let j=0;j<z;j++){let E=Math.sqrt(D[j])-Math.sqrt(T[j]);A[j]=Math.round(255-255*(E/this.radius+this.cutoff))}return R}}function Pz0($,Q,J,K,Y,q,Z,X,W){for(let F=Q;F<Q+K;F++)kz0($,J*q+F,q,Y,Z,X,W);for(let F=J;F<J+Y;F++)kz0($,F*q+Q,1,K,Z,X,W)}function kz0($,Q,J,K,Y,q,Z){q[0]=0,Z[0]=-100000000000000000000,Z[1]=100000000000000000000,Y[0]=$[Q];for(let X=1,W=0,F=0;X<K;X++){Y[X]=$[Q+X*J];let H=X*X;do{let B=q[W];F=(Y[X]-Y[B]+H-B*B)/(X-B)/2}while(F<=Z[W]&&--W>-1);W++,q[W]=X,Z[W]=F,Z[W+1]=100000000000000000000}for(let X=0,W=0;X<K;X++){while(Z[W+1]<X)W++;let F=q[W],H=X-F;$[Q+X*J]=Y[F]+H*H}}var _91=32,f91=[];function I91($){return Math.pow(2,Math.ceil(Math.log2($)))}function jz0({characterSet:$,getFontWidth:Q,fontHeight:J,buffer:K,maxCanvasWidth:Y,mapping:q={},xOffset:Z=0,yOffset:X=0}){let W=0,F=Z,H=J+K*2;for(let B of $)if(!q[B]){let z=Q(B);if(F+z+K*2>Y)F=0,W++;q[B]={x:F+K,y:X+W*H+K,width:z,height:H,layoutWidth:z,layoutHeight:J},F+=z+K*2}return{mapping:q,xOffset:F,yOffset:X+W*H,canvasHeight:I91(X+(W+1)*H)}}function Ez0($,Q,J,K){let Y=0;for(let q=Q;q<J;q++){let Z=$[q];Y+=K[Z]?.layoutWidth||0}return Y}function Lz0($,Q,J,K,Y,q){let Z=Q,X=0;for(let W=Q;W<J;W++){let F=Ez0($,W,W+1,Y);if(X+F>K){if(Z<W)q.push(W);Z=W,X=0}X+=F}return X}function M91($,Q,J,K,Y,q){let Z=Q,X=Q,W=Q,F=0;for(let H=Q;H<J;H++){if($[H]===" ")W=H+1;else if($[H+1]===" "||H+1===J)W=H+1;if(W>X){let B=Ez0($,X,W,Y);if(F+B>K){if(Z<X)q.push(X),Z=X,F=0;if(B>K)B=Lz0($,X,W,K,Y,q),Z=q[q.length-1]}X=W,F+=B}}return F}function b91($,Q,J,K,Y=0,q){if(q===void 0)q=$.length;let Z=[];if(Q==="break-all")Lz0($,Y,q,J,K,Z);else M91($,Y,q,J,K,Z);return Z}function g91($,Q,J,K,Y,q){let Z=0,X=0;for(let W=Q;W<J;W++){let F=$[W],H=K[F];if(H){if(!X)X=H.layoutHeight;Y[W]=Z+H.layoutWidth/2,Z+=H.layoutWidth}else E1.warn(`Missing character: ${F} (${F.codePointAt(0)})`)(),Y[W]=Z,Z+=_91}q[0]=Z,q[1]=X}function hz0($,Q,J,K,Y){let q=Array.from($),Z=q.length,X=Array(Z),W=Array(Z),F=Array(Z),H=(J==="break-word"||J==="break-all")&&isFinite(K)&&K>0,B=[0,0],z=[0,0],A=0,R=0,G=0;for(let w=0;w<=Z;w++){let T=q[w];if(T===`
`||w===Z)G=w;if(G>R){let D=H?b91(q,J,K,Y,R,G):f91;for(let P=0;P<=D.length;P++){let j=P===0?R:D[P-1],E=P<D.length?D[P]:G;g91(q,j,E,Y,X,z);for(let L=j;L<E;L++){let h=X[L]-z[0]/2,_=q[L],S=Y[_]?.layoutOffsetY||0;W[L]=A+z[1]/2+S,F[L]=z[0]}A=A+z[1]*Q,B[0]=Math.max(B[0],z[0])}R=G}if(T===`
`)X[R]=0,W[R]=0,F[R]=0,R++}return B[1]=A,{x:X,y:W,rowWidth:F,size:B}}function vz0({value:$,length:Q,stride:J,offset:K,startIndices:Y,characterSet:q}){let Z=$.BYTES_PER_ELEMENT,X=J?J/Z:1,W=K?K/Z:0,F=Y[Q]||Math.ceil(($.length-W)/X),H=q&&new Set,B=Array(Q),z=$;if(X>1||W>0){z=new $.constructor(F);for(let R=0;R<F;R++)z[R]=$[R*X+W]}for(let A=0;A<Q;A++){let R=Y[A],G=Y[A+1]||F,w=z.subarray(R,G);if(B[A]=String.fromCodePoint.apply(null,w),H)w.forEach(H.add,H)}if(H)for(let A of H)q.add(String.fromCodePoint(A));return{texts:B,characterCount:F}}class RR{constructor($=5){this._cache={},this._order=[],this.limit=$}get($){let Q=this._cache[$];if(Q)this._deleteOrder($),this._appendOrder($);return Q}set($,Q){if(!this._cache[$]){if(Object.keys(this._cache).length===this.limit)this.delete(this._order[0]);this._cache[$]=Q,this._appendOrder($)}else this.delete($),this._cache[$]=Q,this._appendOrder($)}delete($){if(this._cache[$])delete this._cache[$],this._deleteOrder($)}_deleteOrder($){let Q=this._order.indexOf($);if(Q>=0)this._order.splice(Q,1)}_appendOrder($){this._order.push($)}}function y91(){let $=[];for(let Q=32;Q<128;Q++)$.push(String.fromCharCode(Q));return $}var iX={fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:y91(),fontSize:64,buffer:4,sdf:!1,cutoff:0.25,radius:12,smoothing:0.1},Sz0=1024,_z0=0.9,fz0=1.2,Mz0=3,Cj=new RR(Mz0);function x91($,Q){let J;if(typeof Q==="string")J=new Set(Array.from(Q));else J=new Set(Q);let K=Cj.get($);if(!K)return J;for(let Y in K.mapping)if(J.has(Y))J.delete(Y);return J}function c91($,Q){for(let J=0;J<$.length;J++)Q.data[4*J+3]=$[J]}function Iz0($,Q,J,K){$.font=`${K} ${J}px ${Q}`,$.fillStyle="#000",$.textBaseline="alphabetic",$.textAlign="left"}function bz0($){E1.assert(Number.isFinite($)&&$>=Mz0,"Invalid cache limit"),Cj=new RR($)}class Pj{constructor(){this.props={...iX}}get atlas(){return this._atlas}get mapping(){return this._atlas&&this._atlas.mapping}get scale(){let{fontSize:$,buffer:Q}=this.props;return($*fz0+Q*2)/$}setProps($={}){Object.assign(this.props,$),this._key=this._getKey();let Q=x91(this._key,this.props.characterSet),J=Cj.get(this._key);if(J&&Q.size===0){if(this._atlas!==J)this._atlas=J;return}let K=this._generateFontAtlas(Q,J);this._atlas=K,Cj.set(this._key,K)}_generateFontAtlas($,Q){let{fontFamily:J,fontWeight:K,fontSize:Y,buffer:q,sdf:Z,radius:X,cutoff:W}=this.props,F=Q&&Q.data;if(!F)F=document.createElement("canvas"),F.width=Sz0;let H=F.getContext("2d",{willReadFrequently:!0});Iz0(H,J,Y,K);let{mapping:B,canvasHeight:z,xOffset:A,yOffset:R}=jz0({getFontWidth:(G)=>H.measureText(G).width,fontHeight:Y*fz0,buffer:q,characterSet:$,maxCanvasWidth:Sz0,...Q&&{mapping:Q.mapping,xOffset:Q.xOffset,yOffset:Q.yOffset}});if(F.height!==z){let G=H.getImageData(0,0,F.width,F.height);F.height=z,H.putImageData(G,0,0)}if(Iz0(H,J,Y,K),Z){let G=new Dj({fontSize:Y,buffer:q,radius:X,cutoff:W,fontFamily:J,fontWeight:`${K}`});for(let w of $){let{data:T,width:D,height:P,glyphTop:j}=G.draw(w);B[w].width=D,B[w].layoutOffsetY=Y*_z0-j;let E=H.createImageData(D,P);c91(T,E),H.putImageData(E,B[w].x,B[w].y)}}else for(let G of $)H.fillText(G,B[G].x,B[G].y+q+Y*_z0);return{xOffset:A,yOffset:R,mapping:B,data:F,width:F.width,height:F.height}}_getKey(){let{fontFamily:$,fontWeight:Q,fontSize:J,buffer:K,sdf:Y,radius:q,cutoff:Z}=this.props;if(Y)return`${$} ${Q} ${J} ${K} ${q} ${Z}`;return`${$} ${Q} ${J} ${K}`}}var gz0={name:"textBackground",vs:`uniform textBackgroundUniforms {
  bool billboard;
  float sizeScale;
  float sizeMinPixels;
  float sizeMaxPixels;
  vec4 borderRadius;
  vec4 padding;
  highp int sizeUnits;
  bool stroked;
} textBackground;
`,fs:`uniform textBackgroundUniforms {
  bool billboard;
  float sizeScale;
  float sizeMinPixels;
  float sizeMaxPixels;
  vec4 borderRadius;
  vec4 padding;
  highp int sizeUnits;
  bool stroked;
} textBackground;
`,uniformTypes:{billboard:"f32",sizeScale:"f32",sizeMinPixels:"f32",sizeMaxPixels:"f32",borderRadius:"vec4<f32>",padding:"vec4<f32>",sizeUnits:"i32",stroked:"f32"}};var yz0=`#version 300 es
#define SHADER_NAME text-background-layer-vertex-shader
in vec2 positions;
in vec3 instancePositions;
in vec3 instancePositions64Low;
in vec4 instanceRects;
in float instanceSizes;
in float instanceAngles;
in vec2 instancePixelOffsets;
in float instanceLineWidths;
in vec4 instanceFillColors;
in vec4 instanceLineColors;
in vec3 instancePickingColors;
out vec4 vFillColor;
out vec4 vLineColor;
out float vLineWidth;
out vec2 uv;
out vec2 dimensions;
vec2 rotate_by_angle(vec2 vertex, float angle) {
float angle_radian = radians(angle);
float cos_angle = cos(angle_radian);
float sin_angle = sin(angle_radian);
mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);
return rotationMatrix * vertex;
}
void main(void) {
geometry.worldPosition = instancePositions;
geometry.uv = positions;
geometry.pickingColor = instancePickingColors;
uv = positions;
vLineWidth = instanceLineWidths;
float sizePixels = clamp(
project_size_to_pixel(instanceSizes * textBackground.sizeScale, textBackground.sizeUnits),
textBackground.sizeMinPixels, textBackground.sizeMaxPixels
);
dimensions = instanceRects.zw * sizePixels + textBackground.padding.xy + textBackground.padding.zw;
vec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-textBackground.padding.xy, textBackground.padding.zw, positions);
pixelOffset = rotate_by_angle(pixelOffset, instanceAngles);
pixelOffset += instancePixelOffsets;
pixelOffset.y *= -1.0;
if (textBackground.billboard)  {
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
vec3 offset = vec3(pixelOffset, 0.0);
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
} else {
vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);
DECKGL_FILTER_SIZE(offset_common, geometry);
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vFillColor, geometry);
vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vLineColor, geometry);
}
`;var xz0=`#version 300 es
#define SHADER_NAME text-background-layer-fragment-shader
precision highp float;
in vec4 vFillColor;
in vec4 vLineColor;
in float vLineWidth;
in vec2 uv;
in vec2 dimensions;
out vec4 fragColor;
float round_rect(vec2 p, vec2 size, vec4 radii) {
vec2 pixelPositionCB = (p - 0.5) * size;
vec2 sizeCB = size * 0.5;
float maxBorderRadius = min(size.x, size.y) * 0.5;
vec4 borderRadius = vec4(min(radii, maxBorderRadius));
borderRadius.xy =
(pixelPositionCB.x > 0.0) ? borderRadius.xy : borderRadius.zw;
borderRadius.x = (pixelPositionCB.y > 0.0) ? borderRadius.x : borderRadius.y;
vec2 q = abs(pixelPositionCB) - sizeCB + borderRadius.x;
return -(min(max(q.x, q.y), 0.0) + length(max(q, 0.0)) - borderRadius.x);
}
float rect(vec2 p, vec2 size) {
vec2 pixelPosition = p * size;
return min(min(pixelPosition.x, size.x - pixelPosition.x),
min(pixelPosition.y, size.y - pixelPosition.y));
}
vec4 get_stroked_fragColor(float dist) {
float isBorder = smoothedge(dist, vLineWidth);
return mix(vFillColor, vLineColor, isBorder);
}
void main(void) {
geometry.uv = uv;
if (textBackground.borderRadius != vec4(0.0)) {
float distToEdge = round_rect(uv, dimensions, textBackground.borderRadius);
if (textBackground.stroked) {
fragColor = get_stroked_fragColor(distToEdge);
} else {
fragColor = vFillColor;
}
float shapeAlpha = smoothedge(-distToEdge, 0.0);
fragColor.a *= shapeAlpha;
} else {
if (textBackground.stroked) {
float distToEdge = rect(uv, dimensions);
fragColor = get_stroked_fragColor(distToEdge);
} else {
fragColor = vFillColor;
}
}
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`;var u91={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,borderRadius:{type:"object",value:0},padding:{type:"array",value:[0,0,0,0]},getPosition:{type:"accessor",value:($)=>$.position},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},getBoundingRect:{type:"accessor",value:[0,0,0,0]},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1}};class kj extends H4{getShaders(){return super.getShaders({vs:yz0,fs:xz0,modules:[M3,g3,gz0]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instanceRects:{size:4,accessor:"getBoundingRect"},instancePixelOffsets:{size:2,transition:!0,accessor:"getPixelOffset"},instanceFillColors:{size:4,transition:!0,type:"unorm8",accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,type:"unorm8",accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState($){super.updateState($);let{changeFlags:Q}=$;if(Q.extensionsChanged)this.state.model?.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll()}draw({uniforms:$}){let{billboard:Q,sizeScale:J,sizeUnits:K,sizeMinPixels:Y,sizeMaxPixels:q,getLineWidth:Z}=this.props,{padding:X,borderRadius:W}=this.props;if(X.length<4)X=[X[0],X[1],X[0],X[1]];if(!Array.isArray(W))W=[W,W,W,W];let F=this.state.model,H={billboard:Q,stroked:Boolean(Z),borderRadius:W,padding:X,sizeUnits:c8[K],sizeScale:J,sizeMinPixels:Y,sizeMaxPixels:q};F.shaderInputs.setProps({textBackground:H}),F.draw(this.context.renderPass)}_getModel(){let $=[0,0,1,0,0,1,1,1];return new K8(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new f9({topology:"triangle-strip",vertexCount:4,attributes:{positions:{size:2,value:new Float32Array($)}}}),isInstanced:!0})}}kj.defaultProps=u91;kj.layerName="TextBackgroundLayer";var cz0=kj;var uz0={start:1,middle:0,end:-1},mz0={top:1,center:0,bottom:-1},Op=[0,0,0,255],m91=1,p91={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,background:!1,getBackgroundColor:{type:"accessor",value:[255,255,255,255]},getBorderColor:{type:"accessor",value:Op},getBorderWidth:{type:"accessor",value:0},backgroundBorderRadius:{type:"object",value:0},backgroundPadding:{type:"array",value:[0,0,0,0]},characterSet:{type:"object",value:iX.characterSet},fontFamily:iX.fontFamily,fontWeight:iX.fontWeight,lineHeight:m91,outlineWidth:{type:"number",value:0,min:0},outlineColor:{type:"color",value:Op},fontSettings:{type:"object",value:{},compare:1},wordBreak:"break-word",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:($)=>$.text},getPosition:{type:"accessor",value:($)=>$.position},getColor:{type:"accessor",value:Op},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]},backgroundColor:{deprecatedFor:["background","getBackgroundColor"]}};class jj extends ZR{constructor(){super(...arguments);this.getBoundingRect=($,Q)=>{let{size:[J,K]}=this.transformParagraph($,Q),{fontSize:Y}=this.state.fontAtlasManager.props;J/=Y,K/=Y;let{getTextAnchor:q,getAlignmentBaseline:Z}=this.props,X=uz0[typeof q==="function"?q($,Q):q],W=mz0[typeof Z==="function"?Z($,Q):Z];return[(X-1)*J/2,(W-1)*K/2,J,K]},this.getIconOffsets=($,Q)=>{let{getTextAnchor:J,getAlignmentBaseline:K}=this.props,{x:Y,y:q,rowWidth:Z,size:[X,W]}=this.transformParagraph($,Q),F=uz0[typeof J==="function"?J($,Q):J],H=mz0[typeof K==="function"?K($,Q):K],B=Y.length,z=Array(B*2),A=0;for(let R=0;R<B;R++){let G=(1-F)*(X-Z[R])/2;z[A++]=(F-1)*X/2+G+Y[R],z[A++]=(H-1)*W/2+q[R]}return z}}initializeState(){if(this.state={styleVersion:0,fontAtlasManager:new Pj},this.props.maxWidth>0)E1.once(1,"v8.9 breaking change: TextLayer maxWidth is now relative to text size")()}updateState($){let{props:Q,oldProps:J,changeFlags:K}=$;if(K.dataChanged||K.updateTriggersChanged&&(K.updateTriggersChanged.all||K.updateTriggersChanged.getText))this._updateText();if(this._updateFontAtlas()||Q.lineHeight!==J.lineHeight||Q.wordBreak!==J.wordBreak||Q.maxWidth!==J.maxWidth)this.setState({styleVersion:this.state.styleVersion+1})}getPickingInfo({info:$}){return $.object=$.index>=0?this.props.data[$.index]:null,$}_updateFontAtlas(){let{fontSettings:$,fontFamily:Q,fontWeight:J}=this.props,{fontAtlasManager:K,characterSet:Y}=this.state,q={...$,characterSet:Y,fontFamily:Q,fontWeight:J};if(!K.mapping)return K.setProps(q),!0;for(let Z in q)if(q[Z]!==K.props[Z])return K.setProps(q),!0;return!1}_updateText(){let{data:$,characterSet:Q}=this.props,J=$.attributes?.getText,{getText:K}=this.props,Y=$.startIndices,q,Z=Q==="auto"&&new Set;if(J&&Y){let{texts:X,characterCount:W}=vz0({...ArrayBuffer.isView(J)?{value:J}:J,length:$.length,startIndices:Y,characterSet:Z});q=W,K=(F,{index:H})=>X[H]}else{let{iterable:X,objectInfo:W}=tK($);Y=[0],q=0;for(let F of X){W.index++;let H=Array.from(K(F,W)||"");if(Z)H.forEach(Z.add,Z);q+=H.length,Y.push(q)}}this.setState({getText:K,startIndices:Y,numInstances:q,characterSet:Z||Q})}transformParagraph($,Q){let{fontAtlasManager:J}=this.state,K=J.mapping,Y=this.state.getText,{wordBreak:q,lineHeight:Z,maxWidth:X}=this.props,W=Y($,Q)||"";return hz0(W,Z,q,X*J.props.fontSize,K)}renderLayers(){let{startIndices:$,numInstances:Q,getText:J,fontAtlasManager:{scale:K,atlas:Y,mapping:q},styleVersion:Z}=this.state,{data:X,_dataDiff:W,getPosition:F,getColor:H,getSize:B,getAngle:z,getPixelOffset:A,getBackgroundColor:R,getBorderColor:G,getBorderWidth:w,backgroundBorderRadius:T,backgroundPadding:D,background:P,billboard:j,fontSettings:E,outlineWidth:L,outlineColor:h,sizeScale:_,sizeUnits:S,sizeMinPixels:I,sizeMaxPixels:M,transitions:y,updateTriggers:b}=this.props,u=this.getSubLayerClass("characters",Cz0),c=this.getSubLayerClass("background",cz0);return[P&&new c({getFillColor:R,getLineColor:G,getLineWidth:w,borderRadius:T,padding:D,getPosition:F,getSize:B,getAngle:z,getPixelOffset:A,billboard:j,sizeScale:_,sizeUnits:S,sizeMinPixels:I,sizeMaxPixels:M,transitions:y&&{getPosition:y.getPosition,getAngle:y.getAngle,getSize:y.getSize,getFillColor:y.getBackgroundColor,getLineColor:y.getBorderColor,getLineWidth:y.getBorderWidth,getPixelOffset:y.getPixelOffset}},this.getSubLayerProps({id:"background",updateTriggers:{getPosition:b.getPosition,getAngle:b.getAngle,getSize:b.getSize,getFillColor:b.getBackgroundColor,getLineColor:b.getBorderColor,getLineWidth:b.getBorderWidth,getPixelOffset:b.getPixelOffset,getBoundingRect:{getText:b.getText,getTextAnchor:b.getTextAnchor,getAlignmentBaseline:b.getAlignmentBaseline,styleVersion:Z}}}),{data:X.attributes&&X.attributes.background?{length:X.length,attributes:X.attributes.background}:X,_dataDiff:W,autoHighlight:!1,getBoundingRect:this.getBoundingRect}),new u({sdf:E.sdf,smoothing:Number.isFinite(E.smoothing)?E.smoothing:iX.smoothing,outlineWidth:L/(E.radius||iX.radius),outlineColor:h,iconAtlas:Y,iconMapping:q,getPosition:F,getColor:H,getSize:B,getAngle:z,getPixelOffset:A,billboard:j,sizeScale:_*K,sizeUnits:S,sizeMinPixels:I*K,sizeMaxPixels:M*K,transitions:y&&{getPosition:y.getPosition,getAngle:y.getAngle,getColor:y.getColor,getSize:y.getSize,getPixelOffset:y.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{all:b.getText,getPosition:b.getPosition,getAngle:b.getAngle,getColor:b.getColor,getSize:b.getSize,getPixelOffset:b.getPixelOffset,getIconOffsets:{getTextAnchor:b.getTextAnchor,getAlignmentBaseline:b.getAlignmentBaseline,styleVersion:Z}}}),{data:X,_dataDiff:W,startIndices:$,numInstances:Q,getIconOffsets:this.getIconOffsets,getIcon:J})]}static set fontAtlasCacheLimit($){bz0($)}}jj.defaultProps=p91;jj.layerName="TextLayer";var pz0=jj;var GR={circle:{type:xB0,props:{filled:"filled",stroked:"stroked",lineWidthMaxPixels:"lineWidthMaxPixels",lineWidthMinPixels:"lineWidthMinPixels",lineWidthScale:"lineWidthScale",lineWidthUnits:"lineWidthUnits",pointRadiusMaxPixels:"radiusMaxPixels",pointRadiusMinPixels:"radiusMinPixels",pointRadiusScale:"radiusScale",pointRadiusUnits:"radiusUnits",pointAntialiasing:"antialiasing",pointBillboard:"billboard",getFillColor:"getFillColor",getLineColor:"getLineColor",getLineWidth:"getLineWidth",getPointRadius:"getRadius"}},icon:{type:Kj,props:{iconAtlas:"iconAtlas",iconMapping:"iconMapping",iconSizeMaxPixels:"sizeMaxPixels",iconSizeMinPixels:"sizeMinPixels",iconSizeScale:"sizeScale",iconSizeUnits:"sizeUnits",iconAlphaCutoff:"alphaCutoff",iconBillboard:"billboard",getIcon:"getIcon",getIconAngle:"getAngle",getIconColor:"getColor",getIconPixelOffset:"getPixelOffset",getIconSize:"getSize"}},text:{type:pz0,props:{textSizeMaxPixels:"sizeMaxPixels",textSizeMinPixels:"sizeMinPixels",textSizeScale:"sizeScale",textSizeUnits:"sizeUnits",textBackground:"background",textBackgroundPadding:"backgroundPadding",textFontFamily:"fontFamily",textFontWeight:"fontWeight",textLineHeight:"lineHeight",textMaxWidth:"maxWidth",textOutlineColor:"outlineColor",textOutlineWidth:"outlineWidth",textWordBreak:"wordBreak",textCharacterSet:"characterSet",textBillboard:"billboard",textFontSettings:"fontSettings",getText:"getText",getTextAngle:"getAngle",getTextColor:"getColor",getTextPixelOffset:"getPixelOffset",getTextSize:"getSize",getTextAnchor:"getTextAnchor",getTextAlignmentBaseline:"getAlignmentBaseline",getTextBackgroundColor:"getBackgroundColor",getTextBorderColor:"getBorderColor",getTextBorderWidth:"getBorderWidth"}}},wR={type:tB0,props:{lineWidthUnits:"widthUnits",lineWidthScale:"widthScale",lineWidthMinPixels:"widthMinPixels",lineWidthMaxPixels:"widthMaxPixels",lineJointRounded:"jointRounded",lineCapRounded:"capRounded",lineMiterLimit:"miterLimit",lineBillboard:"billboard",getLineColor:"getColor",getLineWidth:"getWidth"}},Ej={type:Vz0,props:{extruded:"extruded",filled:"filled",wireframe:"wireframe",elevationScale:"elevationScale",material:"material",_full3d:"_full3d",getElevation:"getElevation",getFillColor:"getFillColor",getLineColor:"getLineColor"}};function rH({type:$,props:Q}){let J={};for(let K in Q)J[K]=$.defaultProps[Q[K]];return J}function Lj($,Q){let{transitions:J,updateTriggers:K}=$.props,Y={updateTriggers:{},transitions:J&&{getPosition:J.geometry}};for(let q in Q){let Z=Q[q],X=$.props[q];if(q.startsWith("get")){if(X=$.getSubLayerAccessor(X),Y.updateTriggers[Z]=K[q],J)Y.transitions[Z]=J[q]}Y[Z]=X}return Y}function nz0($){if(Array.isArray($))return $;switch(E1.assert($.type,"GeoJSON does not have type"),$.type){case"Feature":return[$];case"FeatureCollection":return E1.assert(Array.isArray($.features),"GeoJSON does not have features array"),$.features;default:return[{geometry:$}]}}function Tp($,Q,J={}){let K={pointFeatures:[],lineFeatures:[],polygonFeatures:[],polygonOutlineFeatures:[]},{startRow:Y=0,endRow:q=$.length}=J;for(let Z=Y;Z<q;Z++){let X=$[Z],{geometry:W}=X;if(!W)continue;if(W.type==="GeometryCollection"){E1.assert(Array.isArray(W.geometries),"GeoJSON does not have geometries array");let{geometries:F}=W;for(let H=0;H<F.length;H++){let B=F[H];dz0(B,K,Q,X,Z)}}else dz0(W,K,Q,X,Z)}return K}function dz0($,Q,J,K,Y){let{type:q,coordinates:Z}=$,{pointFeatures:X,lineFeatures:W,polygonFeatures:F,polygonOutlineFeatures:H}=Q;if(!n91(q,Z)){E1.warn(`${q} coordinates are malformed`)();return}switch(q){case"Point":X.push(J({geometry:$},K,Y));break;case"MultiPoint":Z.forEach((B)=>{X.push(J({geometry:{type:"Point",coordinates:B}},K,Y))});break;case"LineString":W.push(J({geometry:$},K,Y));break;case"MultiLineString":Z.forEach((B)=>{W.push(J({geometry:{type:"LineString",coordinates:B}},K,Y))});break;case"Polygon":F.push(J({geometry:$},K,Y)),Z.forEach((B)=>{H.push(J({geometry:{type:"LineString",coordinates:B}},K,Y))});break;case"MultiPolygon":Z.forEach((B)=>{F.push(J({geometry:{type:"Polygon",coordinates:B}},K,Y)),B.forEach((z)=>{H.push(J({geometry:{type:"LineString",coordinates:z}},K,Y))})});break;default:}}var d91={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4};function n91($,Q){let J=d91[$];E1.assert(J,`Unknown GeoJSON type ${$}`);while(Q&&--J>0)Q=Q[0];return Q&&Number.isFinite(Q[0])}function lz0(){return{points:{},lines:{},polygons:{},polygonsOutline:{}}}function hj($){return $.geometry.coordinates}function rz0($,Q){let J=lz0(),{pointFeatures:K,lineFeatures:Y,polygonFeatures:q,polygonOutlineFeatures:Z}=$;return J.points.data=K,J.points._dataDiff=Q.pointFeatures&&(()=>Q.pointFeatures),J.points.getPosition=hj,J.lines.data=Y,J.lines._dataDiff=Q.lineFeatures&&(()=>Q.lineFeatures),J.lines.getPath=hj,J.polygons.data=q,J.polygons._dataDiff=Q.polygonFeatures&&(()=>Q.polygonFeatures),J.polygons.getPolygon=hj,J.polygonsOutline.data=Z,J.polygonsOutline._dataDiff=Q.polygonOutlineFeatures&&(()=>Q.polygonOutlineFeatures),J.polygonsOutline.getPath=hj,J}function iz0($,Q){let J=lz0(),{points:K,lines:Y,polygons:q}=$,Z=wz0($,Q);if(J.points.data={length:K.positions.value.length/K.positions.size,attributes:{...K.attributes,getPosition:K.positions,instancePickingColors:{size:4,value:Z.points}},properties:K.properties,numericProps:K.numericProps,featureIds:K.featureIds},J.lines.data={length:Y.pathIndices.value.length-1,startIndices:Y.pathIndices.value,attributes:{...Y.attributes,getPath:Y.positions,instancePickingColors:{size:4,value:Z.lines}},properties:Y.properties,numericProps:Y.numericProps,featureIds:Y.featureIds},J.lines._pathType="open",J.polygons.data={length:q.polygonIndices.value.length-1,startIndices:q.polygonIndices.value,attributes:{...q.attributes,getPolygon:q.positions,pickingColors:{size:4,value:Z.polygons}},properties:q.properties,numericProps:q.numericProps,featureIds:q.featureIds},J.polygons._normalize=!1,q.triangles)J.polygons.data.attributes.indices=q.triangles.value;return J.polygonsOutline.data={length:q.primitivePolygonIndices.value.length-1,startIndices:q.primitivePolygonIndices.value,attributes:{...q.attributes,getPath:q.positions,instancePickingColors:{size:4,value:Z.polygons}},properties:q.properties,numericProps:q.numericProps,featureIds:q.featureIds},J.polygonsOutline._pathType="open",J}var l91=["points","linestrings","polygons"],r91={...rH(GR.circle),...rH(GR.icon),...rH(GR.text),...rH(wR),...rH(Ej),stroked:!0,filled:!0,extruded:!1,wireframe:!1,_full3d:!1,iconAtlas:{type:"object",value:null},iconMapping:{type:"object",value:{}},getIcon:{type:"accessor",value:($)=>$.properties.icon},getText:{type:"accessor",value:($)=>$.properties.text},pointType:"circle",getRadius:{deprecatedFor:"getPointRadius"}};class vj extends ZR{initializeState(){this.state={layerProps:{},features:{},featuresDiff:{}}}updateState({props:$,changeFlags:Q}){if(!Q.dataChanged)return;let{data:J}=this.props,K=J&&"points"in J&&"polygons"in J&&"lines"in J;if(this.setState({binary:K}),K)this._updateStateBinary({props:$,changeFlags:Q});else this._updateStateJSON({props:$,changeFlags:Q})}_updateStateBinary({props:$,changeFlags:Q}){let J=iz0($.data,this.encodePickingColor);this.setState({layerProps:J})}_updateStateJSON({props:$,changeFlags:Q}){let J=nz0($.data),K=this.getSubLayerRow.bind(this),Y={},q={};if(Array.isArray(Q.dataChanged)){let X=this.state.features;for(let W in X)Y[W]=X[W].slice(),q[W]=[];for(let W of Q.dataChanged){let F=Tp(J,K,W);for(let H in X)q[H].push(Rz0({data:Y[H],getIndex:(B)=>B.__source.index,dataRange:W,replace:F[H]}))}}else Y=Tp(J,K);let Z=rz0(Y,q);this.setState({features:Y,featuresDiff:q,layerProps:Z})}getPickingInfo($){let Q=super.getPickingInfo($),{index:J,sourceLayer:K}=Q;if(Q.featureType=l91.find((Y)=>K.id.startsWith(`${this.id}-${Y}-`)),J>=0&&K.id.startsWith(`${this.id}-points-text`)&&this.state.binary)Q.index=this.props.data.points.globalFeatureIds.value[J];return Q}_updateAutoHighlight($){let Q=`${this.id}-points-`,J=$.featureType==="points";for(let K of this.getSubLayers())if(K.id.startsWith(Q)===J)K.updateAutoHighlight($)}_renderPolygonLayer(){let{extruded:$,wireframe:Q}=this.props,{layerProps:J}=this.state,K="polygons-fill",Y=this.shouldRenderSubLayer("polygons-fill",J.polygons?.data)&&this.getSubLayerClass("polygons-fill",Ej.type);if(Y){let q=Lj(this,Ej.props),Z=$&&Q;if(!Z)delete q.getLineColor;return q.updateTriggers.lineColors=Z,new Y(q,this.getSubLayerProps({id:"polygons-fill",updateTriggers:q.updateTriggers}),J.polygons)}return null}_renderLineLayers(){let{extruded:$,stroked:Q}=this.props,{layerProps:J}=this.state,K="polygons-stroke",Y="linestrings",q=!$&&Q&&this.shouldRenderSubLayer("polygons-stroke",J.polygonsOutline?.data)&&this.getSubLayerClass("polygons-stroke",wR.type),Z=this.shouldRenderSubLayer("linestrings",J.lines?.data)&&this.getSubLayerClass("linestrings",wR.type);if(q||Z){let X=Lj(this,wR.props);return[q&&new q(X,this.getSubLayerProps({id:"polygons-stroke",updateTriggers:X.updateTriggers}),J.polygonsOutline),Z&&new Z(X,this.getSubLayerProps({id:"linestrings",updateTriggers:X.updateTriggers}),J.lines)]}return null}_renderPointLayers(){let{pointType:$}=this.props,{layerProps:Q,binary:J}=this.state,{highlightedObjectIndex:K}=this.props;if(!J&&Number.isFinite(K))K=Q.points.data.findIndex((Z)=>Z.__source.index===K);let Y=new Set($.split("+")),q=[];for(let Z of Y){let X=`points-${Z}`,W=GR[Z],F=W&&this.shouldRenderSubLayer(X,Q.points?.data)&&this.getSubLayerClass(X,W.type);if(F){let H=Lj(this,W.props),B=Q.points;if(Z==="text"&&J){let{instancePickingColors:z,...A}=B.data.attributes;B={...B,data:{...B.data,attributes:A}}}q.push(new F(H,this.getSubLayerProps({id:X,updateTriggers:H.updateTriggers,highlightedObjectIndex:K}),B))}}return q}renderLayers(){let{extruded:$}=this.props,Q=this._renderPolygonLayer(),J=this._renderLineLayers(),K=this._renderPointLayers();return[!$&&Q,J,K,$&&Q]}getSubLayerAccessor($){let{binary:Q}=this.state;if(!Q||typeof $!=="function")return super.getSubLayerAccessor($);return(J,K)=>{let{data:Y,index:q}=K,Z=Gz0(Y,q);return $(Z,K)}}}vj.layerName="GeoJsonLayer";vj.defaultProps=r91;var Dp=vj;var ez0=x1(n6(),1),w8=x1(n6(),1);var Sj=x1(n6(),1),s91=typeof window<"u"?Sj.useLayoutEffect:Sj.useEffect,sz0=s91;var fj=x1(n6(),1),oz0=x1(n6(),1);function iH($,Q){while($){if($===Q)return!0;$=Object.getPrototypeOf($)}return!1}var Cp=x1(n6(),1),o91={position:"absolute",zIndex:-1};function _j($,Q){if(typeof $==="function")return $(Q);if(Array.isArray($))return $.map((J)=>_j(J,Q));if(sH($)){if(a91($))return Q.style=o91,Cp.cloneElement($,Q);if(t91($))return Cp.cloneElement($,Q)}return $}function sH($){return $&&typeof $==="object"&&"type"in $||!1}function a91($){return $.props?.mapStyle}function t91($){let Q=$.type;return Q&&Q.deckGLViewProps}function Pp($){if(typeof $==="function")return oz0.createElement(y3,{},$);if(Array.isArray($))return $.map(Pp);if(sH($)){if($.type===fj.Fragment)return Pp($.props.children);if(iH($.type,y3))return $}return $}function kp({children:$,layers:Q=[],views:J=null}){let K=[],Y=[],q={};if(fj.Children.forEach(Pp($),(Z)=>{if(sH(Z)){let X=Z.type;if(iH(X,H4)){let W=e91(X,Z.props);Y.push(W)}else K.push(Z);if(iH(X,y3)&&X!==y3&&Z.props.id){let W=new X(Z.props);q[W.id]=W}}else if(Z)K.push(Z)}),Object.keys(q).length>0){if(Array.isArray(J))J.forEach((Z)=>{q[Z.id]=Z});else if(J)q[J.id]=J;J=Object.values(q)}return Q=Y.length>0?[...Y,...Q]:Q,{layers:Q,children:K,views:J}}function e91($,Q){let J={},K=$.defaultProps||{};for(let Y in Q)if(K[Y]!==Q[Y])J[Y]=Q[Y];return new $(J)}var jp=x1(n6(),1);var az0=x1(n6(),1),tz0=az0.createContext();function Ep({children:$,deck:Q,ContextProvider:J=tz0.Provider}){let{viewManager:K}=Q||{};if(!K||!K.views.length)return[];let Y={},q=K.views[0].id;for(let Z of $){let X=q,W=Z;if(sH(Z)&&iH(Z.type,y3))X=Z.props.id||q,W=Z.props.children;let F=K.getViewport(X),H=K.getViewState(X);if(F){H.padding=F.padding;let{x:B,y:z,width:A,height:R}=F;if(W=_j(W,{x:B,y:z,width:A,height:R,viewport:F,viewState:H}),!Y[X])Y[X]={viewport:F,children:[]};Y[X].children.push(W)}}return Object.keys(Y).map((Z)=>{let{viewport:X,children:W}=Y[Z],{x:F,y:H,width:B,height:z}=X,A={position:"absolute",left:F,top:H,width:B,height:z},R=`view-${Z}`,G=jp.createElement("div",{key:R,id:R,style:A},...W),w={deck:Q,viewport:X,container:Q.canvas.offsetParent,eventManager:Q.eventManager,onViewStateChange:(D)=>{D.viewId=Z,Q._onViewStateChange(D)},widgets:[]},T=`view-${Z}-context`;return jp.createElement(J,{key:T,value:w},G)})}var $31={mixBlendMode:null};function Lp({width:$,height:Q,style:J}){let K={position:"absolute",zIndex:0,left:0,top:0,width:$,height:Q},Y={left:0,top:0};if(J)for(let q in J)if(q in $31)Y[q]=J[q];else K[q]=J[q];return{containerStyle:K,canvasStyle:Y}}function Q31($){return{get deck(){return $.deck},pickObject:(Q)=>$.deck.pickObject(Q),pickMultipleObjects:(Q)=>$.deck.pickMultipleObjects(Q),pickObjects:(Q)=>$.deck.pickObjects(Q)}}function $A0($){if($.redrawReason)$.deck._drawLayers($.redrawReason),$.redrawReason=null}function J31($,Q,J){let K=new Q({...J,_customRender:J.deviceProps?.adapters?.[0]?.type==="webgpu"?void 0:(Y)=>{$.redrawReason=Y;let q=K.getViewports();if($.lastRenderedViewports!==q)$.forceUpdate();else $A0($)}});return K}function K31($,Q){let[J,K]=w8.useState(0),q=w8.useRef({control:null,version:J,forceUpdate:()=>K((E)=>E+1)}).current,Z=w8.useRef(null),X=w8.useRef(null),W=w8.useMemo(()=>kp($),[$.layers,$.views,$.children]),F=!0,H=(E)=>{if(F&&$.viewState)return q.viewStateUpdateRequested=E,null;return q.viewStateUpdateRequested=null,$.onViewStateChange?.(E)},B=(E)=>{if(F)q.interactionStateUpdateRequested=E;else q.interactionStateUpdateRequested=null,$.onInteractionStateChange?.(E)},z=w8.useMemo(()=>{let E={widgets:[],...$,style:null,width:"100%",height:"100%",parent:Z.current,canvas:X.current,layers:W.layers,views:W.views,onViewStateChange:H,onInteractionStateChange:B};if(delete E._customRender,q.deck)q.deck.setProps(E);return E},[$]);w8.useEffect(()=>{let E=$.Deck||em;return q.deck=J31(q,E,{...z,parent:Z.current,canvas:X.current}),()=>q.deck?.finalize()},[]),sz0(()=>{$A0(q);let{viewStateUpdateRequested:E,interactionStateUpdateRequested:L}=q;if(E)H(E);if(L)B(L)}),w8.useImperativeHandle(Q,()=>Q31(q),[]);let A=q.deck&&q.deck.isInitialized?q.deck.getViewports():void 0,{ContextProvider:R,width:G="100%",height:w="100%",id:T,style:D}=$,{containerStyle:P,canvasStyle:j}=w8.useMemo(()=>Lp({width:G,height:w,style:D}),[G,w,D]);if(!q.viewStateUpdateRequested&&q.lastRenderedViewports===A||q.version!==J){q.lastRenderedViewports=A,q.version=J;let E=Ep({children:W.children,deck:q.deck,ContextProvider:R}),L=w8.createElement("canvas",{key:"canvas",id:T||"deckgl-overlay",ref:X,style:j});q.control=w8.createElement("div",{id:`${T||"deckgl"}-wrapper`,ref:Z,style:P},[L,E])}return F=!1,q.control}var Y31=ez0.forwardRef(K31),OR=Y31;var Ij=x1(i6(),1),q31={longitude:-122.41669,latitude:37.7853,zoom:13,pitch:0,bearing:0};function QA0({config:$,filters:Q=[]}){let{db:J,tableVersion:K}=I8(),[Y,q]=Mj.useState([]);if(Mj.useEffect(()=>{if(console.log(K),!J||K<1)return;debugger;new IK(J,$,Q).execute().then((W)=>{debugger;let F=W.reduce((H,B)=>{if(B&&B.simplified_geom_geojson)try{H.push(JSON.parse(B.simplified_geom_geojson))}catch(z){console.error("Error parsing GeoJSON:",z)}return H},[]);debugger;q(F)})},[J,K]),console.log("Rendering MapWidget",Y?.length),K<1)return Ij.jsxDEV("div",{children:"Map will load after initial data is loaded."},void 0,!1,void 0,this);let Z=[new Dp({id:"geojson-layer",data:Y,pickable:!0,stroked:!1,filled:!0,extruded:!0,pointType:"circle",lineWidthScale:20,lineWidthMinPixels:2,getFillColor:[160,160,180,200],getPointRadius:100,getLineWidth:1,getElevation:30})];if(K==0)return Ij.jsxDEV("span",{children:"Waiting"},void 0,!1,void 0,this);return Ij.jsxDEV(OR,{initialViewState:q31,controller:!0,layers:Z,getTooltip:({object:X})=>{if(X&&X.properties){let W=$.params.columns?.find((F)=>F.column==="org_unit_name");if(W)return X.properties[W.label||W.column];return X.properties.name}return null}},void 0,!1,void 0,this)}var eK=x1(n6(),1);var TR=x1(i6(),1);function JA0({config:$,onFilterChange:Q,filters:J}){let{db:K}=I8(),[Y,q]=eK.useState([]),[Z,X]=eK.useState([]);eK.useEffect(()=>{if(console.log(`FilterWidget ${$.id} useEffect (fetchOptions) running. Filters:`,J),!K)return;(async()=>{let H=await K.connect(),B=`SELECT DISTINCT ${$.source.column} FROM ${$.source.dataSource}`,z=[];if($.dependsOn&&J[$.dependsOn]&&J[$.dependsOn].length>0){let w=J[$.dependsOn],T=w.map(()=>"?").join(", ");B+=` WHERE ${$.dependsOn} IN (${T})`,z=w}let G=(await(await H.prepare(B)).query(...z)).toArray().map((w)=>w[$.source.column]);q(G),console.log(`FilterWidget ${$.id} fetched options:`,G)})()},[K,$,J]),eK.useEffect(()=>{let F=J[$.id]||[];if(Z.length!==F.length||Z.some((H,B)=>H!==F[B]))console.log(`FilterWidget ${$.id} synchronizing selected from parent. Parent:`,F,"Current:",Z),X(F)},[J,$.id,Z]),eK.useEffect(()=>{if(Y.length>0&&Z.length>0){let F=Z.filter((H)=>Y.includes(H));if(F.length!==Z.length)console.log(`FilterWidget ${$.id} clearing invalid selections. New selected:`,F),X(F),Q($.id,F)}},[Y,Z,$.id,Q]),console.log(`FilterWidget ${$.id} rendering. Selected:`,Z);let W=eK.useCallback((F)=>{let H=Array.from(F.target.selectedOptions,(B)=>B.value);console.log(`FilterWidget ${$.id} handleChange. Selected options:`,H),X(H),Q($.id,H)},[$.id,Q]);return TR.jsxDEV("div",{className:"p-4 border rounded-2xl bg-gray-50",children:[TR.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:$.label},void 0,!1,void 0,this),TR.jsxDEV("select",{multiple:!0,onChange:W,value:Z,className:"block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:Y.map((F)=>TR.jsxDEV("option",{value:F,children:F},F,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}var SY=x1(n6(),1);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hp=function($,Q){return hp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,K){J.__proto__=K}||function(J,K){for(var Y in K)if(Object.prototype.hasOwnProperty.call(K,Y))J[Y]=K[Y]},hp($,Q)};function x($,Q){if(typeof Q!=="function"&&Q!==null)throw TypeError("Class extends value "+String(Q)+" is not a constructor or null");hp($,Q);function J(){this.constructor=$}$.prototype=Q===null?Object.create(Q):(J.prototype=Q.prototype,new J)}var Z31=function(){function $(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return $}(),X31=function(){function $(){this.browser=new Z31,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return $}(),WZ=new X31;if(typeof wx==="object"&&typeof wx.getSystemInfoSync==="function")WZ.wxa=!0,WZ.touchEventsSupported=!0;else if(typeof document>"u"&&typeof self<"u")WZ.worker=!0;else if(!WZ.hasGlobalWindow||"Deno"in window||typeof navigator<"u"&&typeof navigator.userAgent==="string"&&navigator.userAgent.indexOf("Node.js")>-1)WZ.node=!0,WZ.svgSupported=!0;else W31(navigator.userAgent,WZ);function W31($,Q){var J=Q.browser,K=$.match(/Firefox\/([\d.]+)/),Y=$.match(/MSIE\s([\d.]+)/)||$.match(/Trident\/.+?rv:(([\d.]+))/),q=$.match(/Edge?\/([\d.]+)/),Z=/micromessenger/i.test($);if(K)J.firefox=!0,J.version=K[1];if(Y)J.ie=!0,J.version=Y[1];if(q)J.edge=!0,J.version=q[1],J.newEdge=+q[1].split(".")[0]>18;if(Z)J.weChat=!0;Q.svgSupported=typeof SVGRect<"u",Q.touchEventsSupported="ontouchstart"in window&&!J.ie&&!J.edge,Q.pointerEventsSupported="onpointerdown"in window&&(J.edge||J.ie&&+J.version>=11);var X=Q.domSupported=typeof document<"u";if(X){var W=document.documentElement.style;Q.transform3dSupported=(J.ie&&("transition"in W)||J.edge||("WebKitCSSMatrix"in window)&&("m11"in new WebKitCSSMatrix)||("MozPerspective"in W))&&!("OTransition"in W),Q.transformSupported=Q.transform3dSupported||J.ie&&+J.version>=9}}var L1=WZ;var bj=12,vp="sans-serif",d4=bj+"px "+vp,F31=20,U31=100,H31="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function N31($){var Q={};if(typeof JSON>"u")return Q;for(var J=0;J<$.length;J++){var K=String.fromCharCode(J+32),Y=($.charCodeAt(J)-F31)/U31;Q[K]=Y}return Q}var B31=N31(H31),u7={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var $,Q;return function(J,K){if(!$){var Y=u7.createCanvas();$=Y&&Y.getContext("2d")}if($){if(Q!==K)Q=$.font=K||d4;return $.measureText(J)}else{J=J||"",K=K||d4;var q=/((?:\d+)?\.?\d*)px/.exec(K),Z=q&&+q[1]||bj,X=0;if(K.indexOf("mono")>=0)X=Z*J.length;else for(var W=0;W<J.length;W++){var F=B31[J[W]];X+=F==null?Z:F*Z}return{width:X}}}}(),loadImage:function($,Q,J){var K=new Image;return K.onload=Q,K.onerror=J,K.src=$,K}};var qA0=O8(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function($,Q){return $["[object "+Q+"]"]=!0,$},{}),ZA0=O8(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function($,Q){return $["[object "+Q+"Array]"]=!0,$},{}),oH=Object.prototype.toString,yj=Array.prototype,z31=yj.forEach,A31=yj.filter,Sp=yj.slice,V31=yj.map,KA0=function(){}.constructor,gj=KA0?KA0.prototype:null,_p="__proto__",R31=2311;function xj(){return R31++}function m7(){var $=[];for(var Q=0;Q<arguments.length;Q++)$[Q]=arguments[Q];if(typeof console<"u")console.error.apply(console,$)}function y0($){if($==null||typeof $!=="object")return $;var Q=$,J=oH.call($);if(J==="[object Array]"){if(!DR($)){Q=[];for(var K=0,Y=$.length;K<Y;K++)Q[K]=y0($[K])}}else if(ZA0[J]){if(!DR($)){var q=$.constructor;if(q.from)Q=q.from($);else{Q=new q($.length);for(var K=0,Y=$.length;K<Y;K++)Q[K]=$[K]}}}else if(!qA0[J]&&!DR($)&&!OJ($)){Q={};for(var Z in $)if($.hasOwnProperty(Z)&&Z!==_p)Q[Z]=y0($[Z])}return Q}function K1($,Q,J){if(!I0(Q)||!I0($))return J?y0(Q):$;for(var K in Q)if(Q.hasOwnProperty(K)&&K!==_p){var Y=$[K],q=Q[K];if(I0(q)&&I0(Y)&&!J0(q)&&!J0(Y)&&!OJ(q)&&!OJ(Y)&&!YA0(q)&&!YA0(Y)&&!DR(q)&&!DR(Y))K1(Y,q,J);else if(J||!(K in $))$[K]=y0(Q[K])}return $}function aH($,Q){var J=$[0];for(var K=1,Y=$.length;K<Y;K++)J=K1(J,$[K],Q);return J}function Q0($,Q){if(Object.assign)Object.assign($,Q);else for(var J in Q)if(Q.hasOwnProperty(J)&&J!==_p)$[J]=Q[J];return $}function b0($,Q,J){var K=Z1(Q);for(var Y=0,q=K.length;Y<q;Y++){var Z=K[Y];if(J?Q[Z]!=null:$[Z]==null)$[Z]=Q[Z]}return $}var It1=u7.createCanvas;function o0($,Q){if($){if($.indexOf)return $.indexOf(Q);for(var J=0,K=$.length;J<K;J++)if($[J]===Q)return J}return-1}function XA0($,Q){var J=$.prototype;function K(){}K.prototype=Q.prototype,$.prototype=new K;for(var Y in J)if(J.hasOwnProperty(Y))$.prototype[Y]=J[Y];$.prototype.constructor=$,$.superClass=Q}function _5($,Q,J){if($="prototype"in $?$.prototype:$,Q="prototype"in Q?Q.prototype:Q,Object.getOwnPropertyNames){var K=Object.getOwnPropertyNames(Q);for(var Y=0;Y<K.length;Y++){var q=K[Y];if(q!=="constructor"){if(J?Q[q]!=null:$[q]==null)$[q]=Q[q]}}}else b0($,Q,J)}function c6($){if(!$)return!1;if(typeof $==="string")return!1;return typeof $.length==="number"}function v($,Q,J){if(!($&&Q))return;if($.forEach&&$.forEach===z31)$.forEach(Q,J);else if($.length===+$.length)for(var K=0,Y=$.length;K<Y;K++)Q.call(J,$[K],K,$);else for(var q in $)if($.hasOwnProperty(q))Q.call(J,$[q],q,$)}function K0($,Q,J){if(!$)return[];if(!Q)return uj($);if($.map&&$.map===V31)return $.map(Q,J);else{var K=[];for(var Y=0,q=$.length;Y<q;Y++)K.push(Q.call(J,$[Y],Y,$));return K}}function O8($,Q,J,K){if(!($&&Q))return;for(var Y=0,q=$.length;Y<q;Y++)J=Q.call(K,J,$[Y],Y,$);return J}function j1($,Q,J){if(!$)return[];if(!Q)return uj($);if($.filter&&$.filter===A31)return $.filter(Q,J);else{var K=[];for(var Y=0,q=$.length;Y<q;Y++)if(Q.call(J,$[Y],Y,$))K.push($[Y]);return K}}function d$($,Q,J){if(!($&&Q))return;for(var K=0,Y=$.length;K<Y;K++)if(Q.call(J,$[K],K,$))return $[K]}function Z1($){if(!$)return[];if(Object.keys)return Object.keys($);var Q=[];for(var J in $)if($.hasOwnProperty(J))Q.push(J);return Q}function G31($,Q){var J=[];for(var K=2;K<arguments.length;K++)J[K-2]=arguments[K];return function(){return $.apply(Q,J.concat(Sp.call(arguments)))}}var O0=gj&&v0(gj.bind)?gj.call.bind(gj.bind):G31;function a0($){var Q=[];for(var J=1;J<arguments.length;J++)Q[J-1]=arguments[J];return function(){return $.apply(this,Q.concat(Sp.call(arguments)))}}function J0($){if(Array.isArray)return Array.isArray($);return oH.call($)==="[object Array]"}function v0($){return typeof $==="function"}function B0($){return typeof $==="string"}function tH($){return oH.call($)==="[object String]"}function U1($){return typeof $==="number"}function I0($){var Q=typeof $;return Q==="function"||!!$&&Q==="object"}function YA0($){return!!qA0[oH.call($)]}function u6($){return!!ZA0[oH.call($)]}function OJ($){return typeof $==="object"&&typeof $.nodeType==="number"&&typeof $.ownerDocument==="object"}function FZ($){return $.colorStops!=null}function WA0($){return $.image!=null}function cj($){return oH.call($)==="[object RegExp]"}function N6($){return $!==$}function u5(){var $=[];for(var Q=0;Q<arguments.length;Q++)$[Q]=arguments[Q];for(var J=0,K=$.length;J<K;J++)if($[J]!=null)return $[J]}function f0($,Q){return $!=null?$:Q}function B6($,Q,J){return $!=null?$:Q!=null?Q:J}function uj($){var Q=[];for(var J=1;J<arguments.length;J++)Q[J-1]=arguments[J];return Sp.apply($,Q)}function UZ($){if(typeof $==="number")return[$,$,$,$];var Q=$.length;if(Q===2)return[$[0],$[1],$[0],$[1]];else if(Q===3)return[$[0],$[1],$[2],$[1]];return $}function S0($,Q){if(!$)throw Error(Q)}function O7($){if($==null)return null;else if(typeof $.trim==="function")return $.trim();else return $.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var FA0="__ec_primitive__";function sX($){$[FA0]=!0}function DR($){return $[FA0]}var w31=function(){function $(){this.data={}}return $.prototype.delete=function(Q){var J=this.has(Q);if(J)delete this.data[Q];return J},$.prototype.has=function(Q){return this.data.hasOwnProperty(Q)},$.prototype.get=function(Q){return this.data[Q]},$.prototype.set=function(Q,J){return this.data[Q]=J,this},$.prototype.keys=function(){return Z1(this.data)},$.prototype.forEach=function(Q){var J=this.data;for(var K in J)if(J.hasOwnProperty(K))Q(J[K],K)},$}(),UA0=typeof Map==="function";function O31(){return UA0?new Map:new w31}var T31=function(){function $(Q){var J=J0(Q);this.data=O31();var K=this;Q instanceof $?Q.each(Y):Q&&v(Q,Y);function Y(q,Z){J?K.set(q,Z):K.set(Z,q)}}return $.prototype.hasKey=function(Q){return this.data.has(Q)},$.prototype.get=function(Q){return this.data.get(Q)},$.prototype.set=function(Q,J){return this.data.set(Q,J),J},$.prototype.each=function(Q,J){this.data.forEach(function(K,Y){Q.call(J,K,Y)})},$.prototype.keys=function(){var Q=this.data.keys();return UA0?Array.from(Q):Q},$.prototype.removeKey=function(Q){this.data.delete(Q)},$}();function L0($){return new T31($)}function $Y($,Q){var J=new $.constructor($.length+Q.length);for(var K=0;K<$.length;K++)J[K]=$[K];var Y=$.length;for(var K=0;K<Q.length;K++)J[K+Y]=Q[K];return J}function HZ($,Q){var J;if(Object.create)J=Object.create($);else{var K=function(){};K.prototype=$,J=new K}if(Q)Q0(J,Q);return J}function mj($){var Q=$.style;Q.webkitUserSelect="none",Q.userSelect="none",Q.webkitTapHighlightColor="rgba(0,0,0,0)",Q["-webkit-touch-callout"]="none"}function x0($,Q){return $.hasOwnProperty(Q)}function m5(){}var eH=180/Math.PI,Mt1=Number.EPSILON||Math.pow(2,-52);function TJ($,Q){if($==null)$=0;if(Q==null)Q=0;return[$,Q]}function p7($,Q){return $[0]=Q[0],$[1]=Q[1],$}function n4($){return[$[0],$[1]]}function CR($,Q,J){return $[0]=Q,$[1]=J,$}function fp($,Q,J){return $[0]=Q[0]+J[0],$[1]=Q[1]+J[1],$}function PR($,Q,J,K){return $[0]=Q[0]+J[0]*K,$[1]=Q[1]+J[1]*K,$}function n$($,Q,J){return $[0]=Q[0]-J[0],$[1]=Q[1]-J[1],$}function pj($){return Math.sqrt(D31($))}function D31($){return $[0]*$[0]+$[1]*$[1]}function $N($,Q,J){return $[0]=Q[0]*J,$[1]=Q[1]*J,$}function x3($,Q){var J=pj(Q);if(J===0)$[0]=0,$[1]=0;else $[0]=Q[0]/J,$[1]=Q[1]/J;return $}function dj($,Q){return Math.sqrt(($[0]-Q[0])*($[0]-Q[0])+($[1]-Q[1])*($[1]-Q[1]))}var c3=dj;function C31($,Q){return($[0]-Q[0])*($[0]-Q[0])+($[1]-Q[1])*($[1]-Q[1])}var QY=C31;function QN($,Q,J,K){return $[0]=Q[0]+K*(J[0]-Q[0]),$[1]=Q[1]+K*(J[1]-Q[1]),$}function o5($,Q,J){var K=Q[0],Y=Q[1];return $[0]=J[0]*K+J[2]*Y+J[4],$[1]=J[1]*K+J[3]*Y+J[5],$}function g9($,Q,J){return $[0]=Math.min(Q[0],J[0]),$[1]=Math.min(Q[1],J[1]),$}function y9($,Q,J){return $[0]=Math.max(Q[0],J[0]),$[1]=Math.max(Q[1],J[1]),$}var JN=function(){function $(Q,J){this.target=Q,this.topTarget=J&&J.topTarget}return $}(),P31=function(){function $(Q){this.handler=Q,Q.on("mousedown",this._dragStart,this),Q.on("mousemove",this._drag,this),Q.on("mouseup",this._dragEnd,this)}return $.prototype._dragStart=function(Q){var J=Q.target;while(J&&!J.draggable)J=J.parent||J.__hostTarget;if(J)this._draggingTarget=J,J.dragging=!0,this._x=Q.offsetX,this._y=Q.offsetY,this.handler.dispatchToElement(new JN(J,Q),"dragstart",Q.event)},$.prototype._drag=function(Q){var J=this._draggingTarget;if(J){var{offsetX:K,offsetY:Y}=Q,q=K-this._x,Z=Y-this._y;this._x=K,this._y=Y,J.drift(q,Z,Q),this.handler.dispatchToElement(new JN(J,Q),"drag",Q.event);var X=this.handler.findHover(K,Y,J).target,W=this._dropTarget;if(this._dropTarget=X,J!==X){if(W&&X!==W)this.handler.dispatchToElement(new JN(W,Q),"dragleave",Q.event);if(X&&X!==W)this.handler.dispatchToElement(new JN(X,Q),"dragenter",Q.event)}}},$.prototype._dragEnd=function(Q){var J=this._draggingTarget;if(J)J.dragging=!1;if(this.handler.dispatchToElement(new JN(J,Q),"dragend",Q.event),this._dropTarget)this.handler.dispatchToElement(new JN(this._dropTarget,Q),"drop",Q.event);this._draggingTarget=null,this._dropTarget=null},$}(),HA0=P31;var k31=function(){function $(Q){if(Q)this._$eventProcessor=Q}return $.prototype.on=function(Q,J,K,Y){if(!this._$handlers)this._$handlers={};var q=this._$handlers;if(typeof J==="function")Y=K,K=J,J=null;if(!K||!Q)return this;var Z=this._$eventProcessor;if(J!=null&&Z&&Z.normalizeQuery)J=Z.normalizeQuery(J);if(!q[Q])q[Q]=[];for(var X=0;X<q[Q].length;X++)if(q[Q][X].h===K)return this;var W={h:K,query:J,ctx:Y||this,callAtLast:K.zrEventfulCallAtLast},F=q[Q].length-1,H=q[Q][F];return H&&H.callAtLast?q[Q].splice(F,0,W):q[Q].push(W),this},$.prototype.isSilent=function(Q){var J=this._$handlers;return!J||!J[Q]||!J[Q].length},$.prototype.off=function(Q,J){var K=this._$handlers;if(!K)return this;if(!Q)return this._$handlers={},this;if(J){if(K[Q]){var Y=[];for(var q=0,Z=K[Q].length;q<Z;q++)if(K[Q][q].h!==J)Y.push(K[Q][q]);K[Q]=Y}if(K[Q]&&K[Q].length===0)delete K[Q]}else delete K[Q];return this},$.prototype.trigger=function(Q){var J=[];for(var K=1;K<arguments.length;K++)J[K-1]=arguments[K];if(!this._$handlers)return this;var Y=this._$handlers[Q],q=this._$eventProcessor;if(Y){var Z=J.length,X=Y.length;for(var W=0;W<X;W++){var F=Y[W];if(q&&q.filter&&F.query!=null&&!q.filter(Q,F.query))continue;switch(Z){case 0:F.h.call(F.ctx);break;case 1:F.h.call(F.ctx,J[0]);break;case 2:F.h.call(F.ctx,J[0],J[1]);break;default:F.h.apply(F.ctx,J);break}}}return q&&q.afterTrigger&&q.afterTrigger(Q),this},$.prototype.triggerWithContext=function(Q){var J=[];for(var K=1;K<arguments.length;K++)J[K-1]=arguments[K];if(!this._$handlers)return this;var Y=this._$handlers[Q],q=this._$eventProcessor;if(Y){var Z=J.length,X=J[Z-1],W=Y.length;for(var F=0;F<W;F++){var H=Y[F];if(q&&q.filter&&H.query!=null&&!q.filter(Q,H.query))continue;switch(Z){case 0:H.h.call(X);break;case 1:H.h.call(X,J[0]);break;case 2:H.h.call(X,J[0],J[1]);break;default:H.h.apply(X,J.slice(1,Z-1));break}}}return q&&q.afterTrigger&&q.afterTrigger(Q),this},$}(),T7=k31;var j31=Math.log(2);function Ip($,Q,J,K,Y,q){var Z=K+"-"+Y,X=$.length;if(q.hasOwnProperty(Z))return q[Z];if(Q===1){var W=Math.round(Math.log((1<<X)-1&~Y)/j31);return $[J][W]}var F=K|1<<J,H=J+1;while(K&1<<H)H++;var B=0;for(var z=0,A=0;z<X;z++){var R=1<<z;if(!(R&Y))B+=(A%2?-1:1)*$[J][z]*Ip($,Q-1,H,F,Y|R,q),A++}return q[Z]=B,B}function Mp($,Q){var J=[[$[0],$[1],1,0,0,0,-Q[0]*$[0],-Q[0]*$[1]],[0,0,0,$[0],$[1],1,-Q[1]*$[0],-Q[1]*$[1]],[$[2],$[3],1,0,0,0,-Q[2]*$[2],-Q[2]*$[3]],[0,0,0,$[2],$[3],1,-Q[3]*$[2],-Q[3]*$[3]],[$[4],$[5],1,0,0,0,-Q[4]*$[4],-Q[4]*$[5]],[0,0,0,$[4],$[5],1,-Q[5]*$[4],-Q[5]*$[5]],[$[6],$[7],1,0,0,0,-Q[6]*$[6],-Q[6]*$[7]],[0,0,0,$[6],$[7],1,-Q[7]*$[6],-Q[7]*$[7]]],K={},Y=Ip(J,8,0,0,0,K);if(Y===0)return;var q=[];for(var Z=0;Z<8;Z++)for(var X=0;X<8;X++)q[X]==null&&(q[X]=0),q[X]+=((Z+X)%2?-1:1)*Ip(J,7,Z===0?1:0,1<<Z,1<<X,K)/Y*Q[Z];return function(W,F,H){var B=F*q[6]+H*q[7]+1;W[0]=(F*q[0]+H*q[1]+q[2])/B,W[1]=(F*q[3]+H*q[4]+q[5])/B}}var nj="___zrEVENTSAVED",bp=[];function NA0($,Q,J,K,Y){return lj(bp,Q,K,Y,!0)&&lj($,J,bp[0],bp[1])}function BA0($,Q){$&&J($),Q&&J(Q);function J(K){var Y=K[nj];if(Y)Y.clearMarkers&&Y.clearMarkers(),delete K[nj]}}function lj($,Q,J,K,Y){if(Q.getBoundingClientRect&&L1.domSupported&&!gp(Q)){var q=Q[nj]||(Q[nj]={}),Z=E31(Q,q),X=L31(Z,q,Y);if(X)return X($,J,K),!0}return!1}function E31($,Q){var J=Q.markers;if(J)return J;J=Q.markers=[];var K=["left","right"],Y=["top","bottom"];for(var q=0;q<4;q++){var Z=document.createElement("div"),X=Z.style,W=q%2,F=(q>>1)%2;X.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",K[W]+":0",Y[F]+":0",K[1-W]+":auto",Y[1-F]+":auto",""].join("!important;"),$.appendChild(Z),J.push(Z)}return Q.clearMarkers=function(){v(J,function(H){H.parentNode&&H.parentNode.removeChild(H)})},J}function L31($,Q,J){var K=J?"invTrans":"trans",Y=Q[K],q=Q.srcCoords,Z=[],X=[],W=!0;for(var F=0;F<4;F++){var H=$[F].getBoundingClientRect(),B=2*F,z=H.left,A=H.top;Z.push(z,A),W=W&&q&&z===q[B]&&A===q[B+1],X.push($[F].offsetLeft,$[F].offsetTop)}return W&&Y?Y:(Q.srcCoords=Z,Q[K]=J?Mp(X,Z):Mp(Z,X))}function gp($){return $.nodeName.toUpperCase()==="CANVAS"}var h31=/([&<>"'])/g,v31={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function S7($){return $==null?"":($+"").replace(h31,function(Q,J){return v31[J]})}var S31=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,yp=[],_31=L1.browser.firefox&&+L1.browser.version.split(".")[0]<39;function rj($,Q,J,K){if(J=J||{},K)zA0($,Q,J);else if(_31&&Q.layerX!=null&&Q.layerX!==Q.offsetX)J.zrX=Q.layerX,J.zrY=Q.layerY;else if(Q.offsetX!=null)J.zrX=Q.offsetX,J.zrY=Q.offsetY;else zA0($,Q,J);return J}function zA0($,Q,J){if(L1.domSupported&&$.getBoundingClientRect){var{clientX:K,clientY:Y}=Q;if(gp($)){var q=$.getBoundingClientRect();J.zrX=K-q.left,J.zrY=Y-q.top;return}else if(lj(yp,$,K,Y)){J.zrX=yp[0],J.zrY=yp[1];return}}J.zrX=J.zrY=0}function ij($){return $||window.event}function l4($,Q,J){if(Q=ij(Q),Q.zrX!=null)return Q;var K=Q.type,Y=K&&K.indexOf("touch")>=0;if(!Y){rj($,Q,Q,J);var q=f31(Q);Q.zrDelta=q?q/120:-(Q.detail||0)/3}else{var Z=K!=="touchend"?Q.targetTouches[0]:Q.changedTouches[0];Z&&rj($,Z,Q,J)}var X=Q.button;if(Q.which==null&&X!==void 0&&S31.test(Q.type))Q.which=X&1?1:X&2?3:X&4?2:0;return Q}function f31($){var Q=$.wheelDelta;if(Q)return Q;var{deltaX:J,deltaY:K}=$;if(J==null||K==null)return Q;var Y=K!==0?Math.abs(K):Math.abs(J),q=K>0?-1:K<0?1:J>0?-1:1;return 3*Y*q}function kR($,Q,J,K){$.addEventListener(Q,J,K)}function AA0($,Q,J,K){$.removeEventListener(Q,J,K)}var r4=function($){$.preventDefault(),$.stopPropagation(),$.cancelBubble=!0};function xp($){return $.which===2||$.which===3}var RA0=function(){function $(){this._track=[]}return $.prototype.recognize=function(Q,J,K){return this._doTrack(Q,J,K),this._recognize(Q)},$.prototype.clear=function(){return this._track.length=0,this},$.prototype._doTrack=function(Q,J,K){var Y=Q.touches;if(!Y)return;var q={points:[],touches:[],target:J,event:Q};for(var Z=0,X=Y.length;Z<X;Z++){var W=Y[Z],F=rj(K,W,{});q.points.push([F.zrX,F.zrY]),q.touches.push(W)}this._track.push(q)},$.prototype._recognize=function(Q){for(var J in cp)if(cp.hasOwnProperty(J)){var K=cp[J](this._track,Q);if(K)return K}},$}();function VA0($){var Q=$[1][0]-$[0][0],J=$[1][1]-$[0][1];return Math.sqrt(Q*Q+J*J)}function I31($){return[($[0][0]+$[1][0])/2,($[0][1]+$[1][1])/2]}var cp={pinch:function($,Q){var J=$.length;if(!J)return;var K=($[J-1]||{}).points,Y=($[J-2]||{}).points||K;if(Y&&Y.length>1&&K&&K.length>1){var q=VA0(K)/VA0(Y);!isFinite(q)&&(q=1),Q.pinchScale=q;var Z=I31(K);return Q.pinchX=Z[0],Q.pinchY=Z[1],{type:"pinch",target:$[0].target,event:Q}}}};function Q6(){return[1,0,0,1,0,0]}function NZ($){return $[0]=1,$[1]=0,$[2]=0,$[3]=1,$[4]=0,$[5]=0,$}function oX($,Q){return $[0]=Q[0],$[1]=Q[1],$[2]=Q[2],$[3]=Q[3],$[4]=Q[4],$[5]=Q[5],$}function T8($,Q,J){var K=Q[0]*J[0]+Q[2]*J[1],Y=Q[1]*J[0]+Q[3]*J[1],q=Q[0]*J[2]+Q[2]*J[3],Z=Q[1]*J[2]+Q[3]*J[3],X=Q[0]*J[4]+Q[2]*J[5]+Q[4],W=Q[1]*J[4]+Q[3]*J[5]+Q[5];return $[0]=K,$[1]=Y,$[2]=q,$[3]=Z,$[4]=X,$[5]=W,$}function D8($,Q,J){return $[0]=Q[0],$[1]=Q[1],$[2]=Q[2],$[3]=Q[3],$[4]=Q[4]+J[0],$[5]=Q[5]+J[1],$}function u8($,Q,J,K){if(K===void 0)K=[0,0];var Y=Q[0],q=Q[2],Z=Q[4],X=Q[1],W=Q[3],F=Q[5],H=Math.sin(J),B=Math.cos(J);return $[0]=Y*B+X*H,$[1]=-Y*H+X*B,$[2]=q*B+W*H,$[3]=-q*H+B*W,$[4]=B*(Z-K[0])+H*(F-K[1])+K[0],$[5]=B*(F-K[1])-H*(Z-K[0])+K[1],$}function YN($,Q,J){var K=J[0],Y=J[1];return $[0]=Q[0]*K,$[1]=Q[1]*Y,$[2]=Q[2]*K,$[3]=Q[3]*Y,$[4]=Q[4]*K,$[5]=Q[5]*Y,$}function D7($,Q){var J=Q[0],K=Q[2],Y=Q[4],q=Q[1],Z=Q[3],X=Q[5],W=J*Z-q*K;if(!W)return null;return W=1/W,$[0]=Z*W,$[1]=-q*W,$[2]=-K*W,$[3]=J*W,$[4]=(K*X-Z*Y)*W,$[5]=(q*Y-J*X)*W,$}function GA0($){var Q=Q6();return oX(Q,$),Q}var M31=function(){function $(Q,J){this.x=Q||0,this.y=J||0}return $.prototype.copy=function(Q){return this.x=Q.x,this.y=Q.y,this},$.prototype.clone=function(){return new $(this.x,this.y)},$.prototype.set=function(Q,J){return this.x=Q,this.y=J,this},$.prototype.equal=function(Q){return Q.x===this.x&&Q.y===this.y},$.prototype.add=function(Q){return this.x+=Q.x,this.y+=Q.y,this},$.prototype.scale=function(Q){this.x*=Q,this.y*=Q},$.prototype.scaleAndAdd=function(Q,J){this.x+=Q.x*J,this.y+=Q.y*J},$.prototype.sub=function(Q){return this.x-=Q.x,this.y-=Q.y,this},$.prototype.dot=function(Q){return this.x*Q.x+this.y*Q.y},$.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},$.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},$.prototype.normalize=function(){var Q=this.len();return this.x/=Q,this.y/=Q,this},$.prototype.distance=function(Q){var J=this.x-Q.x,K=this.y-Q.y;return Math.sqrt(J*J+K*K)},$.prototype.distanceSquare=function(Q){var J=this.x-Q.x,K=this.y-Q.y;return J*J+K*K},$.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},$.prototype.transform=function(Q){if(!Q)return;var J=this.x,K=this.y;return this.x=Q[0]*J+Q[2]*K+Q[4],this.y=Q[1]*J+Q[3]*K+Q[5],this},$.prototype.toArray=function(Q){return Q[0]=this.x,Q[1]=this.y,Q},$.prototype.fromArray=function(Q){this.x=Q[0],this.y=Q[1]},$.set=function(Q,J,K){Q.x=J,Q.y=K},$.copy=function(Q,J){Q.x=J.x,Q.y=J.y},$.len=function(Q){return Math.sqrt(Q.x*Q.x+Q.y*Q.y)},$.lenSquare=function(Q){return Q.x*Q.x+Q.y*Q.y},$.dot=function(Q,J){return Q.x*J.x+Q.y*J.y},$.add=function(Q,J,K){Q.x=J.x+K.x,Q.y=J.y+K.y},$.sub=function(Q,J,K){Q.x=J.x-K.x,Q.y=J.y-K.y},$.scale=function(Q,J,K){Q.x=J.x*K,Q.y=J.y*K},$.scaleAndAdd=function(Q,J,K,Y){Q.x=J.x+K.x*Y,Q.y=J.y+K.y*Y},$.lerp=function(Q,J,K,Y){var q=1-Y;Q.x=q*J.x+Y*K.x,Q.y=q*J.y+Y*K.y},$}(),e0=M31;var{min:QW,max:qN,abs:up}=Math,wA0=["x","y"],b31=["width","height"],aX=new e0,tX=new e0,eX=new e0,$W=new e0,x9=dp(),jR=x9.minTv,mp=x9.maxTv,ER=[0,0],pp=function(){function $(Q,J,K,Y){$.set(this,Q,J,K,Y)}return $.set=function(Q,J,K,Y,q){if(Y<0)J=J+Y,Y=-Y;if(q<0)K=K+q,q=-q;return Q.x=J,Q.y=K,Q.width=Y,Q.height=q,Q},$.prototype.union=function(Q){var J=QW(Q.x,this.x),K=QW(Q.y,this.y);if(isFinite(this.x)&&isFinite(this.width))this.width=qN(Q.x+Q.width,this.x+this.width)-J;else this.width=Q.width;if(isFinite(this.y)&&isFinite(this.height))this.height=qN(Q.y+Q.height,this.y+this.height)-K;else this.height=Q.height;this.x=J,this.y=K},$.prototype.applyTransform=function(Q){$.applyTransform(this,this,Q)},$.prototype.calculateTransform=function(Q){var J=this,K=Q.width/J.width,Y=Q.height/J.height,q=Q6();return D8(q,q,[-J.x,-J.y]),YN(q,q,[K,Y]),D8(q,q,[Q.x,Q.y]),q},$.prototype.intersect=function(Q,J,K){return $.intersect(this,Q,J,K)},$.intersect=function(Q,J,K,Y){if(K)e0.set(K,0,0);var q=Y&&Y.outIntersectRect||null,Z=Y&&Y.clamp;if(q)q.x=q.y=q.width=q.height=NaN;if(!Q||!J)return!1;if(!(Q instanceof $))Q=$.set(g31,Q.x,Q.y,Q.width,Q.height);if(!(J instanceof $))J=$.set(y31,J.x,J.y,J.width,J.height);var X=!!K;x9.reset(Y,X);var W=x9.touchThreshold,F=Q.x+W,H=Q.x+Q.width-W,B=Q.y+W,z=Q.y+Q.height-W,A=J.x+W,R=J.x+J.width-W,G=J.y+W,w=J.y+J.height-W;if(F>H||B>z||A>R||G>w)return!1;var T=!(H<A||R<F||z<G||w<B);if(X||q){if(ER[0]=1/0,ER[1]=0,OA0(F,H,A,R,0,X,q,Z),OA0(B,z,G,w,1,X,q,Z),X)e0.copy(K,T?x9.useDir?x9.dirMinTv:jR:mp)}return T},$.contain=function(Q,J,K){return J>=Q.x&&J<=Q.x+Q.width&&K>=Q.y&&K<=Q.y+Q.height},$.prototype.contain=function(Q,J){return $.contain(this,Q,J)},$.prototype.clone=function(){return new $(this.x,this.y,this.width,this.height)},$.prototype.copy=function(Q){$.copy(this,Q)},$.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},$.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},$.prototype.isZero=function(){return this.width===0||this.height===0},$.create=function(Q){return new $(Q.x,Q.y,Q.width,Q.height)},$.copy=function(Q,J){return Q.x=J.x,Q.y=J.y,Q.width=J.width,Q.height=J.height,Q},$.applyTransform=function(Q,J,K){if(!K){if(Q!==J)$.copy(Q,J);return}if(K[1]<0.00001&&K[1]>-0.00001&&K[2]<0.00001&&K[2]>-0.00001){var Y=K[0],q=K[3],Z=K[4],X=K[5];if(Q.x=J.x*Y+Z,Q.y=J.y*q+X,Q.width=J.width*Y,Q.height=J.height*q,Q.width<0)Q.x+=Q.width,Q.width=-Q.width;if(Q.height<0)Q.y+=Q.height,Q.height=-Q.height;return}aX.x=eX.x=J.x,aX.y=$W.y=J.y,tX.x=$W.x=J.x+J.width,tX.y=eX.y=J.y+J.height,aX.transform(K),$W.transform(K),tX.transform(K),eX.transform(K),Q.x=QW(aX.x,tX.x,eX.x,$W.x),Q.y=QW(aX.y,tX.y,eX.y,$W.y);var W=qN(aX.x,tX.x,eX.x,$W.x),F=qN(aX.y,tX.y,eX.y,$W.y);Q.width=W-Q.x,Q.height=F-Q.y},$}(),g31=new pp(0,0,0,0),y31=new pp(0,0,0,0);function OA0($,Q,J,K,Y,q,Z,X){var W=up(Q-J),F=up(K-$),H=QW(W,F),B=wA0[Y],z=wA0[1-Y],A=b31[Y];if(Q<J||K<$)if(W<F){if(q)mp[B]=-W;if(X)Z[B]=Q,Z[A]=0}else{if(q)mp[B]=F;if(X)Z[B]=$,Z[A]=0}else{if(Z)Z[B]=qN($,J),Z[A]=QW(Q,K)-Z[B];if(q){if(H<ER[0]||x9.useDir){if(ER[0]=QW(H,ER[0]),W<F||!x9.bidirectional){if(jR[B]=W,jR[z]=0,x9.useDir)x9.calcDirMTV()}if(W>=F||!x9.bidirectional){if(jR[B]=-F,jR[z]=0,x9.useDir)x9.calcDirMTV()}}}}}function dp(){var $=0,Q=new e0,J=new e0,K={minTv:new e0,maxTv:new e0,useDir:!1,dirMinTv:new e0,touchThreshold:0,bidirectional:!0,negativeSize:!1,reset:function(q,Z){if(K.touchThreshold=0,q&&q.touchThreshold!=null)K.touchThreshold=qN(0,q.touchThreshold);if(K.negativeSize=!1,!Z)return;if(K.minTv.set(1/0,1/0),K.maxTv.set(0,0),K.useDir=!1,q&&q.direction!=null){if(K.useDir=!0,K.dirMinTv.copy(K.minTv),J.copy(K.minTv),$=q.direction,K.bidirectional=q.bidirectional==null||!!q.bidirectional,!K.bidirectional)Q.set(Math.cos($),Math.sin($))}},calcDirMTV:function(){var{minTv:q,dirMinTv:Z}=K,X=q.y*q.y+q.x*q.x,W=Math.sin($),F=Math.cos($),H=W*q.y+F*q.x;if(Y(H)){if(Y(q.x)&&Y(q.y))Z.set(0,0);return}if(J.x=X*F/H,J.y=X*W/H,Y(J.x)&&Y(J.y)){Z.set(0,0);return}if((K.bidirectional||Q.dot(J)>0)&&J.len()<Z.len())Z.copy(J)}};function Y(q){return up(q)<0.0000000001}return K}var u0=pp;var DA0="silent";function x31($,Q,J){return{type:$,event:J,target:Q.target,topTarget:Q.topTarget,cancelBubble:!1,offsetX:J.zrX,offsetY:J.zrY,gestureEvent:J.gestureEvent,pinchX:J.pinchX,pinchY:J.pinchY,pinchScale:J.pinchScale,wheelDelta:J.zrDelta,zrByTouch:J.zrByTouch,which:J.which,stop:c31}}function c31(){r4(this.event)}var u31=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.handler=null,J}return Q.prototype.dispose=function(){},Q.prototype.setCursor=function(){},Q}(T7),LR=function(){function $(Q,J){this.x=Q,this.y=J}return $}(),m31=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],np=new u0(0,0,0,0),CA0=function($){x(Q,$);function Q(J,K,Y,q,Z){var X=$.call(this)||this;return X._hovered=new LR(0,0),X.storage=J,X.painter=K,X.painterRoot=q,X._pointerSize=Z,Y=Y||new u31,X.proxy=null,X.setHandlerProxy(Y),X._draggingMgr=new HA0(X),X}return Q.prototype.setHandlerProxy=function(J){if(this.proxy)this.proxy.dispose();if(J)v(m31,function(K){J.on&&J.on(K,this[K],this)},this),J.handler=this;this.proxy=J},Q.prototype.mousemove=function(J){var{zrX:K,zrY:Y}=J,q=PA0(this,K,Y),Z=this._hovered,X=Z.target;if(X&&!X.__zr)Z=this.findHover(Z.x,Z.y),X=Z.target;var W=this._hovered=q?new LR(K,Y):this.findHover(K,Y),F=W.target,H=this.proxy;if(H.setCursor&&H.setCursor(F?F.cursor:"default"),X&&F!==X)this.dispatchToElement(Z,"mouseout",J);if(this.dispatchToElement(W,"mousemove",J),F&&F!==X)this.dispatchToElement(W,"mouseover",J)},Q.prototype.mouseout=function(J){var K=J.zrEventControl;if(K!=="only_globalout")this.dispatchToElement(this._hovered,"mouseout",J);if(K!=="no_globalout")this.trigger("globalout",{type:"globalout",event:J})},Q.prototype.resize=function(){this._hovered=new LR(0,0)},Q.prototype.dispatch=function(J,K){var Y=this[J];Y&&Y.call(this,K)},Q.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},Q.prototype.setCursorStyle=function(J){var K=this.proxy;K.setCursor&&K.setCursor(J)},Q.prototype.dispatchToElement=function(J,K,Y){J=J||{};var q=J.target;if(q&&q.silent)return;var Z="on"+K,X=x31(K,J,Y);while(q)if(q[Z]&&(X.cancelBubble=!!q[Z].call(q,X)),q.trigger(K,X),q=q.__hostTarget?q.__hostTarget:q.parent,X.cancelBubble)break;if(!X.cancelBubble){if(this.trigger(K,X),this.painter&&this.painter.eachOtherLayer)this.painter.eachOtherLayer(function(W){if(typeof W[Z]==="function")W[Z].call(W,X);if(W.trigger)W.trigger(K,X)})}},Q.prototype.findHover=function(J,K,Y){var q=this.storage.getDisplayList(),Z=new LR(J,K);if(TA0(q,Z,J,K,Y),this._pointerSize&&!Z.target){var X=[],W=this._pointerSize,F=W/2,H=new u0(J-F,K-F,W,W);for(var B=q.length-1;B>=0;B--){var z=q[B];if(z!==Y&&!z.ignore&&!z.ignoreCoarsePointer&&(!z.parent||!z.parent.ignoreCoarsePointer)){if(np.copy(z.getBoundingRect()),z.transform)np.applyTransform(z.transform);if(np.intersect(H))X.push(z)}}if(X.length){var A=4,R=Math.PI/12,G=Math.PI*2;for(var w=0;w<F;w+=A)for(var T=0;T<G;T+=R){var D=J+w*Math.cos(T),P=K+w*Math.sin(T);if(TA0(X,Z,D,P,Y),Z.target)return Z}}}return Z},Q.prototype.processGesture=function(J,K){if(!this._gestureMgr)this._gestureMgr=new RA0;var Y=this._gestureMgr;K==="start"&&Y.clear();var q=Y.recognize(J,this.findHover(J.zrX,J.zrY,null).target,this.proxy.dom);if(K==="end"&&Y.clear(),q){var Z=q.type;J.gestureEvent=Z;var X=new LR;X.target=q.target,this.dispatchToElement(X,Z,q.event)}},Q}(T7);v(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function($){CA0.prototype[$]=function(Q){var{zrX:J,zrY:K}=Q,Y=PA0(this,J,K),q,Z;if($!=="mouseup"||!Y)q=this.findHover(J,K),Z=q.target;if($==="mousedown")this._downEl=Z,this._downPoint=[Q.zrX,Q.zrY],this._upEl=Z;else if($==="mouseup")this._upEl=Z;else if($==="click"){if(this._downEl!==this._upEl||!this._downPoint||c3(this._downPoint,[Q.zrX,Q.zrY])>4)return;this._downPoint=null}this.dispatchToElement(q,$,Q)}});function p31($,Q,J){if($[$.rectHover?"rectContain":"contain"](Q,J)){var K=$,Y=void 0,q=!1;while(K){if(K.ignoreClip)q=!0;if(!q){var Z=K.getClipPath();if(Z&&!Z.contain(Q,J))return!1}if(K.silent)Y=!0;var X=K.__hostTarget;K=X?K.ignoreHostSilent?null:X:K.parent}return Y?DA0:!0}return!1}function TA0($,Q,J,K,Y){for(var q=$.length-1;q>=0;q--){var Z=$[q],X=void 0;if(Z!==Y&&!Z.ignore&&(X=p31(Z,J,K))){if(!Q.topTarget&&(Q.topTarget=Z),X!==DA0){Q.target=Z;break}}}}function PA0($,Q,J){var K=$.painter;return Q<0||Q>K.getWidth()||J<0||J>K.getHeight()}var kA0=CA0;var LA0=32,hR=7;function d31($){var Q=0;while($>=LA0)Q|=$&1,$>>=1;return $+Q}function jA0($,Q,J,K){var Y=Q+1;if(Y===J)return 1;if(K($[Y++],$[Q])<0){while(Y<J&&K($[Y],$[Y-1])<0)Y++;n31($,Q,Y)}else while(Y<J&&K($[Y],$[Y-1])>=0)Y++;return Y-Q}function n31($,Q,J){J--;while(Q<J){var K=$[Q];$[Q++]=$[J],$[J--]=K}}function EA0($,Q,J,K,Y){if(K===Q)K++;for(;K<J;K++){var q=$[K],Z=Q,X=K,W;while(Z<X)if(W=Z+X>>>1,Y(q,$[W])<0)X=W;else Z=W+1;var F=K-Z;switch(F){case 3:$[Z+3]=$[Z+2];case 2:$[Z+2]=$[Z+1];case 1:$[Z+1]=$[Z];break;default:while(F>0)$[Z+F]=$[Z+F-1],F--}$[Z]=q}}function lp($,Q,J,K,Y,q){var Z=0,X=0,W=1;if(q($,Q[J+Y])>0){X=K-Y;while(W<X&&q($,Q[J+Y+W])>0)if(Z=W,W=(W<<1)+1,W<=0)W=X;if(W>X)W=X;Z+=Y,W+=Y}else{X=Y+1;while(W<X&&q($,Q[J+Y-W])<=0)if(Z=W,W=(W<<1)+1,W<=0)W=X;if(W>X)W=X;var F=Z;Z=Y-W,W=Y-F}Z++;while(Z<W){var H=Z+(W-Z>>>1);if(q($,Q[J+H])>0)Z=H+1;else W=H}return W}function rp($,Q,J,K,Y,q){var Z=0,X=0,W=1;if(q($,Q[J+Y])<0){X=Y+1;while(W<X&&q($,Q[J+Y-W])<0)if(Z=W,W=(W<<1)+1,W<=0)W=X;if(W>X)W=X;var F=Z;Z=Y-W,W=Y-F}else{X=K-Y;while(W<X&&q($,Q[J+Y+W])>=0)if(Z=W,W=(W<<1)+1,W<=0)W=X;if(W>X)W=X;Z+=Y,W+=Y}Z++;while(Z<W){var H=Z+(W-Z>>>1);if(q($,Q[J+H])<0)W=H;else Z=H+1}return W}function l31($,Q){var J=hR,K,Y,q=0,Z=[];K=[],Y=[];function X(A,R){K[q]=A,Y[q]=R,q+=1}function W(){while(q>1){var A=q-2;if(A>=1&&Y[A-1]<=Y[A]+Y[A+1]||A>=2&&Y[A-2]<=Y[A]+Y[A-1]){if(Y[A-1]<Y[A+1])A--}else if(Y[A]>Y[A+1])break;H(A)}}function F(){while(q>1){var A=q-2;if(A>0&&Y[A-1]<Y[A+1])A--;H(A)}}function H(A){var R=K[A],G=Y[A],w=K[A+1],T=Y[A+1];if(Y[A]=G+T,A===q-3)K[A+1]=K[A+2],Y[A+1]=Y[A+2];q--;var D=rp($[w],$,R,G,0,Q);if(R+=D,G-=D,G===0)return;if(T=lp($[R+G-1],$,w,T,T-1,Q),T===0)return;if(G<=T)B(R,G,w,T);else z(R,G,w,T)}function B(A,R,G,w){var T=0;for(T=0;T<R;T++)Z[T]=$[A+T];var D=0,P=G,j=A;if($[j++]=$[P++],--w===0){for(T=0;T<R;T++)$[j+T]=Z[D+T];return}if(R===1){for(T=0;T<w;T++)$[j+T]=$[P+T];$[j+w]=Z[D];return}var E=J,L,h,_;while(!0){L=0,h=0,_=!1;do if(Q($[P],Z[D])<0){if($[j++]=$[P++],h++,L=0,--w===0){_=!0;break}}else if($[j++]=Z[D++],L++,h=0,--R===1){_=!0;break}while((L|h)<E);if(_)break;do{if(L=rp($[P],Z,D,R,0,Q),L!==0){for(T=0;T<L;T++)$[j+T]=Z[D+T];if(j+=L,D+=L,R-=L,R<=1){_=!0;break}}if($[j++]=$[P++],--w===0){_=!0;break}if(h=lp(Z[D],$,P,w,0,Q),h!==0){for(T=0;T<h;T++)$[j+T]=$[P+T];if(j+=h,P+=h,w-=h,w===0){_=!0;break}}if($[j++]=Z[D++],--R===1){_=!0;break}E--}while(L>=hR||h>=hR);if(_)break;if(E<0)E=0;E+=2}if(J=E,J<1&&(J=1),R===1){for(T=0;T<w;T++)$[j+T]=$[P+T];$[j+w]=Z[D]}else if(R===0)throw Error();else for(T=0;T<R;T++)$[j+T]=Z[D+T]}function z(A,R,G,w){var T=0;for(T=0;T<w;T++)Z[T]=$[G+T];var D=A+R-1,P=w-1,j=G+w-1,E=0,L=0;if($[j--]=$[D--],--R===0){E=j-(w-1);for(T=0;T<w;T++)$[E+T]=Z[T];return}if(w===1){j-=R,D-=R,L=j+1,E=D+1;for(T=R-1;T>=0;T--)$[L+T]=$[E+T];$[j]=Z[P];return}var h=J;while(!0){var _=0,S=0,I=!1;do if(Q(Z[P],$[D])<0){if($[j--]=$[D--],_++,S=0,--R===0){I=!0;break}}else if($[j--]=Z[P--],S++,_=0,--w===1){I=!0;break}while((_|S)<h);if(I)break;do{if(_=R-rp(Z[P],$,A,R,R-1,Q),_!==0){j-=_,D-=_,R-=_,L=j+1,E=D+1;for(T=_-1;T>=0;T--)$[L+T]=$[E+T];if(R===0){I=!0;break}}if($[j--]=Z[P--],--w===1){I=!0;break}if(S=w-lp($[D],Z,0,w,w-1,Q),S!==0){j-=S,P-=S,w-=S,L=j+1,E=P+1;for(T=0;T<S;T++)$[L+T]=Z[E+T];if(w<=1){I=!0;break}}if($[j--]=$[D--],--R===0){I=!0;break}h--}while(_>=hR||S>=hR);if(I)break;if(h<0)h=0;h+=2}if(J=h,J<1)J=1;if(w===1){j-=R,D-=R,L=j+1,E=D+1;for(T=R-1;T>=0;T--)$[L+T]=$[E+T];$[j]=Z[P]}else if(w===0)throw Error();else{E=j-(w-1);for(T=0;T<w;T++)$[E+T]=Z[T]}}return{mergeRuns:W,forceMergeRuns:F,pushRun:X}}function JW($,Q,J,K){if(!J)J=0;if(!K)K=$.length;var Y=K-J;if(Y<2)return;var q=0;if(Y<LA0){q=jA0($,J,K,Q),EA0($,J,K,J+q,Q);return}var Z=l31($,Q),X=d31(Y);do{if(q=jA0($,J,K,Q),q<X){var W=Y;if(W>X)W=X;EA0($,J,J+W,J+q,Q),q=W}Z.pushRun(J,q),Z.mergeRuns(),Y-=q,J+=q}while(Y!==0);Z.forceMergeRuns()}var _7=1,KW=2,BZ=4;var hA0=!1;function ip(){if(hA0)return;hA0=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors")}function vA0($,Q){if($.zlevel===Q.zlevel){if($.z===Q.z)return $.z2-Q.z2;return $.z-Q.z}return $.zlevel-Q.zlevel}var r31=function(){function $(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=vA0}return $.prototype.traverse=function(Q,J){for(var K=0;K<this._roots.length;K++)this._roots[K].traverse(Q,J)},$.prototype.getDisplayList=function(Q,J){J=J||!1;var K=this._displayList;if(Q||!K.length)this.updateDisplayList(J);return K},$.prototype.updateDisplayList=function(Q){this._displayListLen=0;var J=this._roots,K=this._displayList;for(var Y=0,q=J.length;Y<q;Y++)this._updateAndAddDisplayable(J[Y],null,Q);K.length=this._displayListLen,JW(K,vA0)},$.prototype._updateAndAddDisplayable=function(Q,J,K){if(Q.ignore&&!K)return;Q.beforeUpdate(),Q.update(),Q.afterUpdate();var Y=Q.getClipPath(),q=J&&J.length,Z=0,X=Q.__clipPaths;if(!Q.ignoreClip&&(q||Y)){if(!X)X=Q.__clipPaths=[];if(q)for(var W=0;W<J.length;W++)X[Z++]=J[W];var F=Y,H=Q;while(F)F.parent=H,F.updateTransform(),X[Z++]=F,H=F,F=F.getClipPath()}if(X)X.length=Z;if(Q.childrenRef){var B=Q.childrenRef();for(var z=0;z<B.length;z++){var A=B[z];if(Q.__dirty)A.__dirty|=_7;this._updateAndAddDisplayable(A,X,K)}Q.__dirty=0}else{var R=Q;if(isNaN(R.z))ip(),R.z=0;if(isNaN(R.z2))ip(),R.z2=0;if(isNaN(R.zlevel))ip(),R.zlevel=0;this._displayList[this._displayListLen++]=R}var G=Q.getDecalElement&&Q.getDecalElement();if(G)this._updateAndAddDisplayable(G,X,K);var w=Q.getTextGuideLine();if(w)this._updateAndAddDisplayable(w,X,K);var T=Q.getTextContent();if(T)this._updateAndAddDisplayable(T,X,K)},$.prototype.addRoot=function(Q){if(Q.__zr&&Q.__zr.storage===this)return;this._roots.push(Q)},$.prototype.delRoot=function(Q){if(Q instanceof Array){for(var J=0,K=Q.length;J<K;J++)this.delRoot(Q[J]);return}var Y=o0(this._roots,Q);if(Y>=0)this._roots.splice(Y,1)},$.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0;return},$.prototype.getRoots=function(){return this._roots},$.prototype.dispose=function(){this._displayList=null,this._roots=null},$}(),SA0=r31;var _A0;_A0=L1.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function($){return setTimeout($,16)};var vR=_A0;var sj={linear:function($){return $},quadraticIn:function($){return $*$},quadraticOut:function($){return $*(2-$)},quadraticInOut:function($){if(($*=2)<1)return 0.5*$*$;return-0.5*(--$*($-2)-1)},cubicIn:function($){return $*$*$},cubicOut:function($){return--$*$*$+1},cubicInOut:function($){if(($*=2)<1)return 0.5*$*$*$;return 0.5*(($-=2)*$*$+2)},quarticIn:function($){return $*$*$*$},quarticOut:function($){return 1- --$*$*$*$},quarticInOut:function($){if(($*=2)<1)return 0.5*$*$*$*$;return-0.5*(($-=2)*$*$*$-2)},quinticIn:function($){return $*$*$*$*$},quinticOut:function($){return--$*$*$*$*$+1},quinticInOut:function($){if(($*=2)<1)return 0.5*$*$*$*$*$;return 0.5*(($-=2)*$*$*$*$+2)},sinusoidalIn:function($){return 1-Math.cos($*Math.PI/2)},sinusoidalOut:function($){return Math.sin($*Math.PI/2)},sinusoidalInOut:function($){return 0.5*(1-Math.cos(Math.PI*$))},exponentialIn:function($){return $===0?0:Math.pow(1024,$-1)},exponentialOut:function($){return $===1?1:1-Math.pow(2,-10*$)},exponentialInOut:function($){if($===0)return 0;if($===1)return 1;if(($*=2)<1)return 0.5*Math.pow(1024,$-1);return 0.5*(-Math.pow(2,-10*($-1))+2)},circularIn:function($){return 1-Math.sqrt(1-$*$)},circularOut:function($){return Math.sqrt(1- --$*$)},circularInOut:function($){if(($*=2)<1)return-0.5*(Math.sqrt(1-$*$)-1);return 0.5*(Math.sqrt(1-($-=2)*$)+1)},elasticIn:function($){var Q,J=0.1,K=0.4;if($===0)return 0;if($===1)return 1;if(!J||J<1)J=1,Q=K/4;else Q=K*Math.asin(1/J)/(2*Math.PI);return-(J*Math.pow(2,10*($-=1))*Math.sin(($-Q)*(2*Math.PI)/K))},elasticOut:function($){var Q,J=0.1,K=0.4;if($===0)return 0;if($===1)return 1;if(!J||J<1)J=1,Q=K/4;else Q=K*Math.asin(1/J)/(2*Math.PI);return J*Math.pow(2,-10*$)*Math.sin(($-Q)*(2*Math.PI)/K)+1},elasticInOut:function($){var Q,J=0.1,K=0.4;if($===0)return 0;if($===1)return 1;if(!J||J<1)J=1,Q=K/4;else Q=K*Math.asin(1/J)/(2*Math.PI);if(($*=2)<1)return-0.5*(J*Math.pow(2,10*($-=1))*Math.sin(($-Q)*(2*Math.PI)/K));return J*Math.pow(2,-10*($-=1))*Math.sin(($-Q)*(2*Math.PI)/K)*0.5+1},backIn:function($){var Q=1.70158;return $*$*((Q+1)*$-Q)},backOut:function($){var Q=1.70158;return--$*$*((Q+1)*$+Q)+1},backInOut:function($){var Q=2.5949095;if(($*=2)<1)return 0.5*($*$*((Q+1)*$-Q));return 0.5*(($-=2)*$*((Q+1)*$+Q)+2)},bounceIn:function($){return 1-sj.bounceOut(1-$)},bounceOut:function($){if($<0.36363636363636365)return 7.5625*$*$;else if($<0.7272727272727273)return 7.5625*($-=0.5454545454545454)*$+0.75;else if($<0.9090909090909091)return 7.5625*($-=0.8181818181818182)*$+0.9375;else return 7.5625*($-=0.9545454545454546)*$+0.984375},bounceInOut:function($){if($<0.5)return sj.bounceIn($*2)*0.5;return sj.bounceOut($*2-1)*0.5+0.5}},oj=sj;var{pow:aj,sqrt:AZ}=Math,ej=0.00000001,IA0=0.0001,fA0=AZ(3),tj=0.3333333333333333,DJ=TJ(),u3=TJ(),ZN=TJ();function zZ($){return $>-ej&&$<ej}function MA0($){return $>ej||$<-ej}function m6($,Q,J,K,Y){var q=1-Y;return q*q*(q*$+3*Y*Q)+Y*Y*(Y*K+3*q*J)}function sp($,Q,J,K,Y){var q=1-Y;return 3*(((Q-$)*q+2*(J-Q)*Y)*q+(K-J)*Y*Y)}function YW($,Q,J,K,Y,q){var Z=K+3*(Q-J)-$,X=3*(J-Q*2+$),W=3*(Q-$),F=$-Y,H=X*X-3*Z*W,B=X*W-9*Z*F,z=W*W-3*X*F,A=0;if(zZ(H)&&zZ(B))if(zZ(X))q[0]=0;else{var R=-W/X;if(R>=0&&R<=1)q[A++]=R}else{var G=B*B-4*H*z;if(zZ(G)){var w=B/H,R=-X/Z+w,T=-w/2;if(R>=0&&R<=1)q[A++]=R;if(T>=0&&T<=1)q[A++]=T}else if(G>0){var D=AZ(G),P=H*X+1.5*Z*(-B+D),j=H*X+1.5*Z*(-B-D);if(P<0)P=-aj(-P,tj);else P=aj(P,tj);if(j<0)j=-aj(-j,tj);else j=aj(j,tj);var R=(-X-(P+j))/(3*Z);if(R>=0&&R<=1)q[A++]=R}else{var E=(2*H*X-3*Z*B)/(2*AZ(H*H*H)),L=Math.acos(E)/3,h=AZ(H),_=Math.cos(L),R=(-X-2*h*_)/(3*Z),T=(-X+h*(_+fA0*Math.sin(L)))/(3*Z),S=(-X+h*(_-fA0*Math.sin(L)))/(3*Z);if(R>=0&&R<=1)q[A++]=R;if(T>=0&&T<=1)q[A++]=T;if(S>=0&&S<=1)q[A++]=S}}return A}function $E($,Q,J,K,Y){var q=6*J-12*Q+6*$,Z=9*Q+3*K-3*$-9*J,X=3*Q-3*$,W=0;if(zZ(Z)){if(MA0(q)){var F=-X/q;if(F>=0&&F<=1)Y[W++]=F}}else{var H=q*q-4*Z*X;if(zZ(H))Y[0]=-q/(2*Z);else if(H>0){var B=AZ(H),F=(-q+B)/(2*Z),z=(-q-B)/(2*Z);if(F>=0&&F<=1)Y[W++]=F;if(z>=0&&z<=1)Y[W++]=z}}return W}function m3($,Q,J,K,Y,q){var Z=(Q-$)*Y+$,X=(J-Q)*Y+Q,W=(K-J)*Y+J,F=(X-Z)*Y+Z,H=(W-X)*Y+X,B=(H-F)*Y+F;q[0]=$,q[1]=Z,q[2]=F,q[3]=B,q[4]=B,q[5]=H,q[6]=W,q[7]=K}function QE($,Q,J,K,Y,q,Z,X,W,F,H){var B,z=0.005,A=1/0,R,G,w,T;DJ[0]=W,DJ[1]=F;for(var D=0;D<1;D+=0.05)if(u3[0]=m6($,J,Y,Z,D),u3[1]=m6(Q,K,q,X,D),w=QY(DJ,u3),w<A)B=D,A=w;A=1/0;for(var P=0;P<32;P++){if(z<IA0)break;if(R=B-z,G=B+z,u3[0]=m6($,J,Y,Z,R),u3[1]=m6(Q,K,q,X,R),w=QY(u3,DJ),R>=0&&w<A)B=R,A=w;else if(ZN[0]=m6($,J,Y,Z,G),ZN[1]=m6(Q,K,q,X,G),T=QY(ZN,DJ),G<=1&&T<A)B=G,A=T;else z*=0.5}if(H)H[0]=m6($,J,Y,Z,B),H[1]=m6(Q,K,q,X,B);return AZ(A)}function bA0($,Q,J,K,Y,q,Z,X,W){var F=$,H=Q,B=0,z=1/W;for(var A=1;A<=W;A++){var R=A*z,G=m6($,J,Y,Z,R),w=m6(Q,K,q,X,R),T=G-F,D=w-H;B+=Math.sqrt(T*T+D*D),F=G,H=w}return B}function o6($,Q,J,K){var Y=1-K;return Y*(Y*$+2*K*Q)+K*K*J}function SR($,Q,J,K){return 2*((1-K)*(Q-$)+K*(J-Q))}function gA0($,Q,J,K,Y){var q=$-2*Q+J,Z=2*(Q-$),X=$-K,W=0;if(zZ(q)){if(MA0(Z)){var F=-X/Z;if(F>=0&&F<=1)Y[W++]=F}}else{var H=Z*Z-4*q*X;if(zZ(H)){var F=-Z/(2*q);if(F>=0&&F<=1)Y[W++]=F}else if(H>0){var B=AZ(H),F=(-Z+B)/(2*q),z=(-Z-B)/(2*q);if(F>=0&&F<=1)Y[W++]=F;if(z>=0&&z<=1)Y[W++]=z}}return W}function JE($,Q,J){var K=$+J-2*Q;if(K===0)return 0.5;else return($-Q)/K}function VZ($,Q,J,K,Y){var q=(Q-$)*K+$,Z=(J-Q)*K+Q,X=(Z-q)*K+q;Y[0]=$,Y[1]=q,Y[2]=X,Y[3]=X,Y[4]=Z,Y[5]=J}function KE($,Q,J,K,Y,q,Z,X,W){var F,H=0.005,B=1/0;DJ[0]=Z,DJ[1]=X;for(var z=0;z<1;z+=0.05){u3[0]=o6($,J,Y,z),u3[1]=o6(Q,K,q,z);var A=QY(DJ,u3);if(A<B)F=z,B=A}B=1/0;for(var R=0;R<32;R++){if(H<IA0)break;var G=F-H,w=F+H;u3[0]=o6($,J,Y,G),u3[1]=o6(Q,K,q,G);var A=QY(u3,DJ);if(G>=0&&A<B)F=G,B=A;else{ZN[0]=o6($,J,Y,w),ZN[1]=o6(Q,K,q,w);var T=QY(ZN,DJ);if(w<=1&&T<B)F=w,B=T;else H*=0.5}}if(W)W[0]=o6($,J,Y,F),W[1]=o6(Q,K,q,F);return AZ(B)}function yA0($,Q,J,K,Y,q,Z){var X=$,W=Q,F=0,H=1/Z;for(var B=1;B<=Z;B++){var z=B*H,A=o6($,J,Y,z),R=o6(Q,K,q,z),G=A-X,w=R-W;F+=Math.sqrt(G*G+w*w),X=A,W=R}return F}var i31=/cubic-bezier\(([0-9,\.e ]+)\)/;function XN($){var Q=$&&i31.exec($);if(Q){var J=Q[1].split(","),K=+O7(J[0]),Y=+O7(J[1]),q=+O7(J[2]),Z=+O7(J[3]);if(isNaN(K+Y+q+Z))return;var X=[];return function(W){return W<=0?0:W>=1?1:YW(0,K,q,1,W,X)&&m6(0,Y,Z,1,X[0])}}}var s31=function(){function $(Q){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=Q.life||1000,this._delay=Q.delay||0,this.loop=Q.loop||!1,this.onframe=Q.onframe||m5,this.ondestroy=Q.ondestroy||m5,this.onrestart=Q.onrestart||m5,Q.easing&&this.setEasing(Q.easing)}return $.prototype.step=function(Q,J){if(!this._inited)this._startTime=Q+this._delay,this._inited=!0;if(this._paused){this._pausedTime+=J;return}var K=this._life,Y=Q-this._startTime-this._pausedTime,q=Y/K;if(q<0)q=0;q=Math.min(q,1);var Z=this.easingFunc,X=Z?Z(q):q;if(this.onframe(X),q===1)if(this.loop){var W=Y%K;this._startTime=Q-W,this._pausedTime=0,this.onrestart()}else return!0;return!1},$.prototype.pause=function(){this._paused=!0},$.prototype.resume=function(){this._paused=!1},$.prototype.setEasing=function(Q){this.easing=Q,this.easingFunc=v0(Q)?Q:oj[Q]||XN(Q)},$}(),xA0=s31;var cA0=function(){function $(Q){this.value=Q}return $}();var o31=function(){function $(){this._len=0}return $.prototype.insert=function(Q){var J=new cA0(Q);return this.insertEntry(J),J},$.prototype.insertEntry=function(Q){if(!this.head)this.head=this.tail=Q;else this.tail.next=Q,Q.prev=this.tail,Q.next=null,this.tail=Q;this._len++},$.prototype.remove=function(Q){var{prev:J,next:K}=Q;if(J)J.next=K;else this.head=K;if(K)K.prev=J;else this.tail=J;Q.next=Q.prev=null,this._len--},$.prototype.len=function(){return this._len},$.prototype.clear=function(){this.head=this.tail=null,this._len=0},$}();var a31=function(){function $(Q){this._list=new o31,this._maxSize=10,this._map={},this._maxSize=Q}return $.prototype.put=function(Q,J){var K=this._list,Y=this._map,q=null;if(Y[Q]==null){var Z=K.len(),X=this._lastRemovedEntry;if(Z>=this._maxSize&&Z>0){var W=K.head;K.remove(W),delete Y[W.key],q=W.value,this._lastRemovedEntry=W}if(X)X.value=J;else X=new cA0(J);X.key=Q,K.insertEntry(X),Y[Q]=X}return q},$.prototype.get=function(Q){var J=this._map[Q],K=this._list;if(J!=null){if(J!==K.tail)K.remove(J),K.insertEntry(J);return J.value}},$.prototype.clear=function(){this._list.clear(),this._map={}},$.prototype.len=function(){return this._list.len()},$}(),CJ=a31;var uA0={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function l$($){return $=Math.round($),$<0?0:$>255?255:$}function t31($){return $=Math.round($),$<0?0:$>360?360:$}function fR($){return $<0?0:$>1?1:$}function op($){var Q=$;if(Q.length&&Q.charAt(Q.length-1)==="%")return l$(parseFloat(Q)/100*255);return l$(parseInt(Q,10))}function JY($){var Q=$;if(Q.length&&Q.charAt(Q.length-1)==="%")return fR(parseFloat(Q)/100);return fR(parseFloat(Q))}function ap($,Q,J){if(J<0)J+=1;else if(J>1)J-=1;if(J*6<1)return $+(Q-$)*J*6;if(J*2<1)return Q;if(J*3<2)return $+(Q-$)*(0.6666666666666666-J)*6;return $}function RZ($,Q,J){return $+(Q-$)*J}function p3($,Q,J,K,Y){return $[0]=Q,$[1]=J,$[2]=K,$[3]=Y,$}function tp($,Q){return $[0]=Q[0],$[1]=Q[1],$[2]=Q[2],$[3]=Q[3],$}var pA0=new CJ(20),YE=null;function WN($,Q){if(YE)tp(YE,Q);YE=pA0.put($,YE||Q.slice())}function f7($,Q){if(!$)return;Q=Q||[];var J=pA0.get($);if(J)return tp(Q,J);$=$+"";var K=$.replace(/ /g,"").toLowerCase();if(K in uA0)return tp(Q,uA0[K]),WN($,Q),Q;var Y=K.length;if(K.charAt(0)==="#"){if(Y===4||Y===5){var q=parseInt(K.slice(1,4),16);if(!(q>=0&&q<=4095)){p3(Q,0,0,0,1);return}return p3(Q,(q&3840)>>4|(q&3840)>>8,q&240|(q&240)>>4,q&15|(q&15)<<4,Y===5?parseInt(K.slice(4),16)/15:1),WN($,Q),Q}else if(Y===7||Y===9){var q=parseInt(K.slice(1,7),16);if(!(q>=0&&q<=16777215)){p3(Q,0,0,0,1);return}return p3(Q,(q&16711680)>>16,(q&65280)>>8,q&255,Y===9?parseInt(K.slice(7),16)/255:1),WN($,Q),Q}return}var Z=K.indexOf("("),X=K.indexOf(")");if(Z!==-1&&X+1===Y){var W=K.substr(0,Z),F=K.substr(Z+1,X-(Z+1)).split(","),H=1;switch(W){case"rgba":if(F.length!==4)return F.length===3?p3(Q,+F[0],+F[1],+F[2],1):p3(Q,0,0,0,1);H=JY(F.pop());case"rgb":if(F.length>=3)return p3(Q,op(F[0]),op(F[1]),op(F[2]),F.length===3?H:JY(F[3])),WN($,Q),Q;else{p3(Q,0,0,0,1);return}case"hsla":if(F.length!==4){p3(Q,0,0,0,1);return}return F[3]=JY(F[3]),ep(F,Q),WN($,Q),Q;case"hsl":if(F.length!==3){p3(Q,0,0,0,1);return}return ep(F,Q),WN($,Q),Q;default:return}}p3(Q,0,0,0,1);return}function ep($,Q){var J=(parseFloat($[0])%360+360)%360/360,K=JY($[1]),Y=JY($[2]),q=Y<=0.5?Y*(K+1):Y+K-Y*K,Z=Y*2-q;if(Q=Q||[],p3(Q,l$(ap(Z,q,J+0.3333333333333333)*255),l$(ap(Z,q,J)*255),l$(ap(Z,q,J-0.3333333333333333)*255),1),$.length===4)Q[3]=$[3];return Q}function e31($){if(!$)return;var Q=$[0]/255,J=$[1]/255,K=$[2]/255,Y=Math.min(Q,J,K),q=Math.max(Q,J,K),Z=q-Y,X=(q+Y)/2,W,F;if(Z===0)W=0,F=0;else{if(X<0.5)F=Z/(q+Y);else F=Z/(2-q-Y);var H=((q-Q)/6+Z/2)/Z,B=((q-J)/6+Z/2)/Z,z=((q-K)/6+Z/2)/Z;if(Q===q)W=z-B;else if(J===q)W=0.3333333333333333+H-z;else if(K===q)W=0.6666666666666666+B-H;if(W<0)W+=1;if(W>1)W-=1}var A=[W*360,F,X];if($[3]!=null)A.push($[3]);return A}function qE($,Q){var J=f7($);if(J){for(var K=0;K<3;K++){if(Q<0)J[K]=J[K]*(1-Q)|0;else J[K]=(255-J[K])*Q+J[K]|0;if(J[K]>255)J[K]=255;else if(J[K]<0)J[K]=0}return i4(J,J.length===4?"rgba":"rgb")}}function ZE($,Q,J){if(!(Q&&Q.length)||!($>=0&&$<=1))return;J=J||[];var K=$*(Q.length-1),Y=Math.floor(K),q=Math.ceil(K),Z=Q[Y],X=Q[q],W=K-Y;return J[0]=l$(RZ(Z[0],X[0],W)),J[1]=l$(RZ(Z[1],X[1],W)),J[2]=l$(RZ(Z[2],X[2],W)),J[3]=fR(RZ(Z[3],X[3],W)),J}function dA0($,Q,J){if(!(Q&&Q.length)||!($>=0&&$<=1))return;var K=$*(Q.length-1),Y=Math.floor(K),q=Math.ceil(K),Z=f7(Q[Y]),X=f7(Q[q]),W=K-Y,F=i4([l$(RZ(Z[0],X[0],W)),l$(RZ(Z[1],X[1],W)),l$(RZ(Z[2],X[2],W)),fR(RZ(Z[3],X[3],W))],"rgba");return J?{color:F,leftIndex:Y,rightIndex:q,value:K}:F}function d3($,Q,J,K){var Y=f7($);if($)return Y=e31(Y),Q!=null&&(Y[0]=t31(v0(Q)?Q(Y[0]):Q)),J!=null&&(Y[1]=JY(v0(J)?J(Y[1]):J)),K!=null&&(Y[2]=JY(v0(K)?K(Y[2]):K)),i4(ep(Y),"rgba")}function qW($,Q){var J=f7($);if(J&&Q!=null)return J[3]=fR(Q),i4(J,"rgba")}function i4($,Q){if(!$||!$.length)return;var J=$[0]+","+$[1]+","+$[2];if(Q==="rgba"||Q==="hsva"||Q==="hsla")J+=","+$[3];return Q+"("+J+")"}function FN($,Q){var J=f7($);return J?(0.299*J[0]+0.587*J[1]+0.114*J[2])*J[3]/255+(1-J[3])*Q:0}var mA0=new CJ(100);function IR($){if(B0($)){var Q=mA0.get($);if(!Q)Q=qE($,-0.1),mA0.put($,Q);return Q}else if(FZ($)){var J=Q0({},$);return J.colorStops=K0($.colorStops,function(K){return{offset:K.offset,color:qE(K.color,-0.1)}}),J}return $}var FE=Math.round;function GZ($){var Q;if(!$||$==="transparent")$="none";else if(typeof $==="string"&&$.indexOf("rgba")>-1){var J=f7($);if(J)$="rgb("+J[0]+","+J[1]+","+J[2]+")",Q=J[3]}return{color:$,opacity:Q==null?1:Q}}var nA0=0.0001;function PJ($){return $<nA0&&$>-nA0}function WE($){return FE($*1000)/1000}function UE($){return FE($*1e4)/1e4}function lA0($){return"matrix("+WE($[0])+","+WE($[1])+","+WE($[2])+","+WE($[3])+","+UE($[4])+","+UE($[5])+")"}var rA0={left:"start",right:"end",center:"middle",middle:"middle"};function iA0($,Q,J){if(J==="top")$+=Q/2;else if(J==="bottom")$-=Q/2;return $}function sA0($){return $&&($.shadowBlur||$.shadowOffsetX||$.shadowOffsetY)}function oA0($){var Q=$.style,J=$.getGlobalScale();return[Q.shadowColor,(Q.shadowBlur||0).toFixed(2),(Q.shadowOffsetX||0).toFixed(2),(Q.shadowOffsetY||0).toFixed(2),J[0],J[1]].join(",")}function $d($){return $&&!!$.image}function $$1($){return $&&!!$.svgElement}function MR($){return $d($)||$$1($)}function HE($){return $.type==="linear"}function NE($){return $.type==="radial"}function BE($){return $&&($.type==="linear"||$.type==="radial")}function bR($){return"url(#"+$+")"}function zE($){var Q=$.getGlobalScale(),J=Math.max(Q[0],Q[1]);return Math.max(Math.ceil(Math.log(J)/Math.log(10)),1)}function AE($){var Q=$.x||0,J=$.y||0,K=($.rotation||0)*eH,Y=f0($.scaleX,1),q=f0($.scaleY,1),Z=$.skewX||0,X=$.skewY||0,W=[];if(Q||J)W.push("translate("+Q+"px,"+J+"px)");if(K)W.push("rotate("+K+")");if(Y!==1||q!==1)W.push("scale("+Y+","+q+")");if(Z||X)W.push("skew("+FE(Z*eH)+"deg, "+FE(X*eH)+"deg)");return W.join(" ")}var aA0=function(){if(L1.hasGlobalWindow&&v0(window.btoa))return function($){return window.btoa(unescape(encodeURIComponent($)))};if(typeof Buffer<"u")return function($){return Buffer.from($).toString("base64")};return function($){return m7("Base64 isn't natively supported in the current environment."),null}}();var Jd=Array.prototype.slice;function KY($,Q,J){return(Q-$)*J+$}function Qd($,Q,J,K){var Y=Q.length;for(var q=0;q<Y;q++)$[q]=KY(Q[q],J[q],K);return $}function Q$1($,Q,J,K){var Y=Q.length,q=Y&&Q[0].length;for(var Z=0;Z<Y;Z++){if(!$[Z])$[Z]=[];for(var X=0;X<q;X++)$[Z][X]=KY(Q[Z][X],J[Z][X],K)}return $}function VE($,Q,J,K){var Y=Q.length;for(var q=0;q<Y;q++)$[q]=Q[q]+J[q]*K;return $}function tA0($,Q,J,K){var Y=Q.length,q=Y&&Q[0].length;for(var Z=0;Z<Y;Z++){if(!$[Z])$[Z]=[];for(var X=0;X<q;X++)$[Z][X]=Q[Z][X]+J[Z][X]*K}return $}function J$1($,Q){var J=$.length,K=Q.length,Y=J>K?Q:$,q=Math.min(J,K),Z=Y[q-1]||{color:[0,0,0,0],offset:0};for(var X=q;X<Math.max(J,K);X++)Y.push({offset:Z.offset,color:Z.color.slice()})}function K$1($,Q,J){var K=$,Y=Q;if(!K.push||!Y.push)return;var q=K.length,Z=Y.length;if(q!==Z){var X=q>Z;if(X)K.length=Z;else for(var W=q;W<Z;W++)K.push(J===1?Y[W]:Jd.call(Y[W]))}var F=K[0]&&K[0].length;for(var W=0;W<K.length;W++)if(J===1){if(isNaN(K[W]))K[W]=Y[W]}else for(var H=0;H<F;H++)if(isNaN(K[W][H]))K[W][H]=Y[W][H]}function ZW($){if(c6($)){var Q=$.length;if(c6($[0])){var J=[];for(var K=0;K<Q;K++)J.push(Jd.call($[K]));return J}return Jd.call($)}return $}function wE($){return $[0]=Math.floor($[0])||0,$[1]=Math.floor($[1])||0,$[2]=Math.floor($[2])||0,$[3]=$[3]==null?1:$[3],"rgba("+$.join(",")+")"}function Y$1($){return c6($&&$[0])?2:1}var RE=0,OE=1,QV0=2,yR=3,Kd=4,Yd=5,eA0=6;function $V0($){return $===Kd||$===Yd}function GE($){return $===OE||$===QV0}var gR=[0,0,0,0],q$1=function(){function $(Q){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=Q}return $.prototype.isFinished=function(){return this._finished},$.prototype.setFinished=function(){if(this._finished=!0,this._additiveTrack)this._additiveTrack.setFinished()},$.prototype.needsAnimate=function(){return this.keyframes.length>=1},$.prototype.getAdditiveTrack=function(){return this._additiveTrack},$.prototype.addKeyframe=function(Q,J,K){this._needsSort=!0;var Y=this.keyframes,q=Y.length,Z=!1,X=eA0,W=J;if(c6(J)){var F=Y$1(J);if(X=F,F===1&&!U1(J[0])||F===2&&!U1(J[0][0]))Z=!0}else if(U1(J)&&!N6(J))X=RE;else if(B0(J))if(!isNaN(+J))X=RE;else{var H=f7(J);if(H)W=H,X=yR}else if(FZ(J)){var B=Q0({},W);if(B.colorStops=K0(J.colorStops,function(A){return{offset:A.offset,color:f7(A.color)}}),HE(J))X=Kd;else if(NE(J))X=Yd;W=B}if(q===0)this.valType=X;else if(X!==this.valType||X===eA0)Z=!0;this.discrete=this.discrete||Z;var z={time:Q,value:W,rawValue:J,percent:0};if(K)z.easing=K,z.easingFunc=v0(K)?K:oj[K]||XN(K);return Y.push(z),z},$.prototype.prepare=function(Q,J){var K=this.keyframes;if(this._needsSort)K.sort(function(G,w){return G.time-w.time});var Y=this.valType,q=K.length,Z=K[q-1],X=this.discrete,W=GE(Y),F=$V0(Y);for(var H=0;H<q;H++){var B=K[H],z=B.value,A=Z.value;if(B.percent=B.time/Q,!X){if(W&&H!==q-1)K$1(z,A,Y);else if(F)J$1(z.colorStops,A.colorStops)}}if(!X&&Y!==Yd&&J&&this.needsAnimate()&&J.needsAnimate()&&Y===J.valType&&!J._finished){this._additiveTrack=J;var R=K[0].value;for(var H=0;H<q;H++)if(Y===RE)K[H].additiveValue=K[H].value-R;else if(Y===yR)K[H].additiveValue=VE([],K[H].value,R,-1);else if(GE(Y))K[H].additiveValue=Y===OE?VE([],K[H].value,R,-1):tA0([],K[H].value,R,-1)}},$.prototype.step=function(Q,J){if(this._finished)return;if(this._additiveTrack&&this._additiveTrack._finished)this._additiveTrack=null;var K=this._additiveTrack!=null,Y=K?"additiveValue":"value",q=this.valType,Z=this.keyframes,X=Z.length,W=this.propName,F=q===yR,H,B=this._lastFr,z=Math.min,A,R;if(X===1)A=R=Z[0];else{if(J<0)H=0;else if(J<this._lastFrP){var G=z(B+1,X-1);for(H=G;H>=0;H--)if(Z[H].percent<=J)break;H=z(H,X-2)}else{for(H=B;H<X;H++)if(Z[H].percent>J)break;H=z(H-1,X-2)}R=Z[H+1],A=Z[H]}if(!(A&&R))return;this._lastFr=H,this._lastFrP=J;var w=R.percent-A.percent,T=w===0?1:z((J-A.percent)/w,1);if(R.easingFunc)T=R.easingFunc(T);var D=K?this._additiveValue:F?gR:Q[W];if((GE(q)||F)&&!D)D=this._additiveValue=[];if(this.discrete)Q[W]=T<1?A.rawValue:R.rawValue;else if(GE(q))q===OE?Qd(D,A[Y],R[Y],T):Q$1(D,A[Y],R[Y],T);else if($V0(q)){var P=A[Y],j=R[Y],E=q===Kd;if(Q[W]={type:E?"linear":"radial",x:KY(P.x,j.x,T),y:KY(P.y,j.y,T),colorStops:K0(P.colorStops,function(h,_){var S=j.colorStops[_];return{offset:KY(h.offset,S.offset,T),color:wE(Qd([],h.color,S.color,T))}}),global:j.global},E)Q[W].x2=KY(P.x2,j.x2,T),Q[W].y2=KY(P.y2,j.y2,T);else Q[W].r=KY(P.r,j.r,T)}else if(F){if(Qd(D,A[Y],R[Y],T),!K)Q[W]=wE(D)}else{var L=KY(A[Y],R[Y],T);if(K)this._additiveValue=L;else Q[W]=L}if(K)this._addToTarget(Q)},$.prototype._addToTarget=function(Q){var J=this.valType,K=this.propName,Y=this._additiveValue;if(J===RE)Q[K]=Q[K]+Y;else if(J===yR)f7(Q[K],gR),VE(gR,gR,Y,1),Q[K]=wE(gR);else if(J===OE)VE(Q[K],Q[K],Y,1);else if(J===QV0)tA0(Q[K],Q[K],Y,1)},$}(),Z$1=function(){function $(Q,J,K,Y){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=Q,this._loop=J,J&&Y){m7("Can' use additive animation on looped animation.");return}this._additiveAnimators=Y,this._allowDiscrete=K}return $.prototype.getMaxTime=function(){return this._maxTime},$.prototype.getDelay=function(){return this._delay},$.prototype.getLoop=function(){return this._loop},$.prototype.getTarget=function(){return this._target},$.prototype.changeTarget=function(Q){this._target=Q},$.prototype.when=function(Q,J,K){return this.whenWithKeys(Q,J,Z1(J),K)},$.prototype.whenWithKeys=function(Q,J,K,Y){var q=this._tracks;for(var Z=0;Z<K.length;Z++){var X=K[Z],W=q[X];if(!W){W=q[X]=new q$1(X);var F=void 0,H=this._getAdditiveTrack(X);if(H){var B=H.keyframes,z=B[B.length-1];if(F=z&&z.value,H.valType===yR&&F)F=wE(F)}else F=this._target[X];if(F==null)continue;if(Q>0)W.addKeyframe(0,ZW(F),Y);this._trackKeys.push(X)}W.addKeyframe(Q,ZW(J[X]),Y)}return this._maxTime=Math.max(this._maxTime,Q),this},$.prototype.pause=function(){this._clip.pause(),this._paused=!0},$.prototype.resume=function(){this._clip.resume(),this._paused=!1},$.prototype.isPaused=function(){return!!this._paused},$.prototype.duration=function(Q){return this._maxTime=Q,this._force=!0,this},$.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var Q=this._doneCbs;if(Q){var J=Q.length;for(var K=0;K<J;K++)Q[K].call(this)}},$.prototype._abortedCallback=function(){this._setTracksFinished();var Q=this.animation,J=this._abortedCbs;if(Q)Q.removeClip(this._clip);if(this._clip=null,J)for(var K=0;K<J.length;K++)J[K].call(this)},$.prototype._setTracksFinished=function(){var Q=this._tracks,J=this._trackKeys;for(var K=0;K<J.length;K++)Q[J[K]].setFinished()},$.prototype._getAdditiveTrack=function(Q){var J,K=this._additiveAnimators;if(K)for(var Y=0;Y<K.length;Y++){var q=K[Y].getTrack(Q);if(q)J=q}return J},$.prototype.start=function(Q){if(this._started>0)return;this._started=1;var J=this,K=[],Y=this._maxTime||0;for(var q=0;q<this._trackKeys.length;q++){var Z=this._trackKeys[q],X=this._tracks[Z],W=this._getAdditiveTrack(Z),F=X.keyframes,H=F.length;if(X.prepare(Y,W),X.needsAnimate())if(!this._allowDiscrete&&X.discrete){var B=F[H-1];if(B)J._target[X.propName]=B.rawValue;X.setFinished()}else K.push(X)}if(K.length||this._force){var z=new xA0({life:Y,loop:this._loop,delay:this._delay||0,onframe:function(A){J._started=2;var R=J._additiveAnimators;if(R){var G=!1;for(var w=0;w<R.length;w++)if(R[w]._clip){G=!0;break}if(!G)J._additiveAnimators=null}for(var w=0;w<K.length;w++)K[w].step(J._target,A);var T=J._onframeCbs;if(T)for(var w=0;w<T.length;w++)T[w](J._target,A)},ondestroy:function(){J._doneCallback()}});if(this._clip=z,this.animation)this.animation.addClip(z);if(Q)z.setEasing(Q)}else this._doneCallback();return this},$.prototype.stop=function(Q){if(!this._clip)return;var J=this._clip;if(Q)J.onframe(1);this._abortedCallback()},$.prototype.delay=function(Q){return this._delay=Q,this},$.prototype.during=function(Q){if(Q){if(!this._onframeCbs)this._onframeCbs=[];this._onframeCbs.push(Q)}return this},$.prototype.done=function(Q){if(Q){if(!this._doneCbs)this._doneCbs=[];this._doneCbs.push(Q)}return this},$.prototype.aborted=function(Q){if(Q){if(!this._abortedCbs)this._abortedCbs=[];this._abortedCbs.push(Q)}return this},$.prototype.getClip=function(){return this._clip},$.prototype.getTrack=function(Q){return this._tracks[Q]},$.prototype.getTracks=function(){var Q=this;return K0(this._trackKeys,function(J){return Q._tracks[J]})},$.prototype.stopTracks=function(Q,J){if(!Q.length||!this._clip)return!0;var K=this._tracks,Y=this._trackKeys;for(var q=0;q<Q.length;q++){var Z=K[Q[q]];if(Z&&!Z.isFinished()){if(J)Z.step(this._target,1);else if(this._started===1)Z.step(this._target,0);Z.setFinished()}}var X=!0;for(var q=0;q<Y.length;q++)if(!K[Y[q]].isFinished()){X=!1;break}if(X)this._abortedCallback();return X},$.prototype.saveTo=function(Q,J,K){if(!Q)return;J=J||this._trackKeys;for(var Y=0;Y<J.length;Y++){var q=J[Y],Z=this._tracks[q];if(!Z||Z.isFinished())continue;var X=Z.keyframes,W=X[K?0:X.length-1];if(W)Q[q]=ZW(W.rawValue)}},$.prototype.__changeFinalValue=function(Q,J){J=J||Z1(Q);for(var K=0;K<J.length;K++){var Y=J[K],q=this._tracks[Y];if(!q)continue;var Z=q.keyframes;if(Z.length>1){var X=Z.pop();q.addKeyframe(X.time,Q[Y]),q.prepare(this._maxTime,q.getAdditiveTrack())}}},$}(),xR=Z$1;function XW(){return new Date().getTime()}var X$1=function($){x(Q,$);function Q(J){var K=$.call(this)||this;return K._running=!1,K._time=0,K._pausedTime=0,K._pauseStart=0,K._paused=!1,J=J||{},K.stage=J.stage||{},K}return Q.prototype.addClip=function(J){if(J.animation)this.removeClip(J);if(!this._head)this._head=this._tail=J;else this._tail.next=J,J.prev=this._tail,J.next=null,this._tail=J;J.animation=this},Q.prototype.addAnimator=function(J){J.animation=this;var K=J.getClip();if(K)this.addClip(K)},Q.prototype.removeClip=function(J){if(!J.animation)return;var{prev:K,next:Y}=J;if(K)K.next=Y;else this._head=Y;if(Y)Y.prev=K;else this._tail=K;J.next=J.prev=J.animation=null},Q.prototype.removeAnimator=function(J){var K=J.getClip();if(K)this.removeClip(K);J.animation=null},Q.prototype.update=function(J){var K=XW()-this._pausedTime,Y=K-this._time,q=this._head;while(q){var Z=q.next,X=q.step(K,Y);if(X)q.ondestroy(),this.removeClip(q),q=Z;else q=Z}if(this._time=K,!J)this.trigger("frame",Y),this.stage.update&&this.stage.update()},Q.prototype._startLoop=function(){var J=this;this._running=!0;function K(){if(J._running)vR(K),!J._paused&&J.update()}vR(K)},Q.prototype.start=function(){if(this._running)return;this._time=XW(),this._pausedTime=0,this._startLoop()},Q.prototype.stop=function(){this._running=!1},Q.prototype.pause=function(){if(!this._paused)this._pauseStart=XW(),this._paused=!0},Q.prototype.resume=function(){if(this._paused)this._pausedTime+=XW()-this._pauseStart,this._paused=!1},Q.prototype.clear=function(){var J=this._head;while(J){var K=J.next;J.prev=J.next=J.animation=null,J=K}this._head=this._tail=null},Q.prototype.isFinished=function(){return this._head==null},Q.prototype.animate=function(J,K){K=K||{},this.start();var Y=new xR(J,K.loop);return this.addAnimator(Y),Y},Q}(T7),JV0=X$1;var W$1=300,qd=L1.domSupported,Zd=function(){var $=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Q=["touchstart","touchend","touchmove"],J={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},K=K0($,function(Y){var q=Y.replace("mouse","pointer");return J.hasOwnProperty(q)?q:Y});return{mouse:$,touch:Q,pointer:K}}(),KV0={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},YV0=!1;function Fd($){var Q=$.pointerType;return Q==="pen"||Q==="touch"}function F$1($){if($.touching=!0,$.touchTimer!=null)clearTimeout($.touchTimer),$.touchTimer=null;$.touchTimer=setTimeout(function(){$.touching=!1,$.touchTimer=null},700)}function Xd($){$&&($.zrByTouch=!0)}function U$1($,Q){return l4($.dom,new H$1($,Q),!0)}function ZV0($,Q){var J=Q,K=!1;while(J&&J.nodeType!==9&&!(K=J.domBelongToZr||J!==Q&&J===$.painterRoot))J=J.parentNode;return K}var H$1=function(){function $(Q,J){this.stopPropagation=m5,this.stopImmediatePropagation=m5,this.preventDefault=m5,this.type=J.type,this.target=this.currentTarget=Q.dom,this.pointerType=J.pointerType,this.clientX=J.clientX,this.clientY=J.clientY}return $}(),r$={mousedown:function($){$=l4(this.dom,$),this.__mayPointerCapture=[$.zrX,$.zrY],this.trigger("mousedown",$)},mousemove:function($){$=l4(this.dom,$);var Q=this.__mayPointerCapture;if(Q&&($.zrX!==Q[0]||$.zrY!==Q[1]))this.__togglePointerCapture(!0);this.trigger("mousemove",$)},mouseup:function($){$=l4(this.dom,$),this.__togglePointerCapture(!1),this.trigger("mouseup",$)},mouseout:function($){$=l4(this.dom,$);var Q=$.toElement||$.relatedTarget;if(!ZV0(this,Q)){if(this.__pointerCapturing)$.zrEventControl="no_globalout";this.trigger("mouseout",$)}},wheel:function($){YV0=!0,$=l4(this.dom,$),this.trigger("mousewheel",$)},mousewheel:function($){if(YV0)return;$=l4(this.dom,$),this.trigger("mousewheel",$)},touchstart:function($){$=l4(this.dom,$),Xd($),this.__lastTouchMoment=new Date,this.handler.processGesture($,"start"),r$.mousemove.call(this,$),r$.mousedown.call(this,$)},touchmove:function($){$=l4(this.dom,$),Xd($),this.handler.processGesture($,"change"),r$.mousemove.call(this,$)},touchend:function($){if($=l4(this.dom,$),Xd($),this.handler.processGesture($,"end"),r$.mouseup.call(this,$),+new Date-+this.__lastTouchMoment<W$1)r$.click.call(this,$)},pointerdown:function($){r$.mousedown.call(this,$)},pointermove:function($){if(!Fd($))r$.mousemove.call(this,$)},pointerup:function($){r$.mouseup.call(this,$)},pointerout:function($){if(!Fd($))r$.mouseout.call(this,$)}};v(["click","dblclick","contextmenu"],function($){r$[$]=function(Q){Q=l4(this.dom,Q),this.trigger($,Q)}});var Ud={pointermove:function($){if(!Fd($))Ud.mousemove.call(this,$)},pointerup:function($){Ud.mouseup.call(this,$)},mousemove:function($){this.trigger("mousemove",$)},mouseup:function($){var Q=this.__pointerCapturing;if(this.__togglePointerCapture(!1),this.trigger("mouseup",$),Q)$.zrEventControl="only_globalout",this.trigger("mouseout",$)}};function N$1($,Q){var J=Q.domHandlers;if(L1.pointerEventsSupported)v(Zd.pointer,function(K){TE(Q,K,function(Y){J[K].call($,Y)})});else{if(L1.touchEventsSupported)v(Zd.touch,function(K){TE(Q,K,function(Y){J[K].call($,Y),F$1(Q)})});v(Zd.mouse,function(K){TE(Q,K,function(Y){if(Y=ij(Y),!Q.touching)J[K].call($,Y)})})}}function B$1($,Q){if(L1.pointerEventsSupported)v(KV0.pointer,J);else if(!L1.touchEventsSupported)v(KV0.mouse,J);function J(K){function Y(q){if(q=ij(q),!ZV0($,q.target))q=U$1($,q),Q.domHandlers[K].call($,q)}TE(Q,K,Y,{capture:!0})}}function TE($,Q,J,K){$.mounted[Q]=J,$.listenerOpts[Q]=K,kR($.domTarget,Q,J,K)}function Wd($){var Q=$.mounted;for(var J in Q)if(Q.hasOwnProperty(J))AA0($.domTarget,J,Q[J],$.listenerOpts[J]);$.mounted={}}var qV0=function(){function $(Q,J){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=Q,this.domHandlers=J}return $}(),z$1=function($){x(Q,$);function Q(J,K){var Y=$.call(this)||this;if(Y.__pointerCapturing=!1,Y.dom=J,Y.painterRoot=K,Y._localHandlerScope=new qV0(J,r$),qd)Y._globalHandlerScope=new qV0(document,Ud);return N$1(Y,Y._localHandlerScope),Y}return Q.prototype.dispose=function(){if(Wd(this._localHandlerScope),qd)Wd(this._globalHandlerScope)},Q.prototype.setCursor=function(J){this.dom.style&&(this.dom.style.cursor=J||"default")},Q.prototype.__togglePointerCapture=function(J){if(this.__mayPointerCapture=null,qd&&+this.__pointerCapturing^+J){this.__pointerCapturing=J;var K=this._globalHandlerScope;J?B$1(this,K):Wd(K)}},Q}(T7),XV0=z$1;var WV0=1;if(L1.hasGlobalWindow)WV0=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1);var WW=WV0,cR=0.4,uR="#333",mR="#ccc",FV0="#eee";var UV0=NZ,HV0=0.00005;function FW($){return $>HV0||$<-HV0}var UW=[],UN=[],Hd=Q6(),Nd=Math.abs,A$1=function(){function $(){}return $.prototype.getLocalTransform=function(Q){return $.getLocalTransform(this,Q)},$.prototype.setPosition=function(Q){this.x=Q[0],this.y=Q[1]},$.prototype.setScale=function(Q){this.scaleX=Q[0],this.scaleY=Q[1]},$.prototype.setSkew=function(Q){this.skewX=Q[0],this.skewY=Q[1]},$.prototype.setOrigin=function(Q){this.originX=Q[0],this.originY=Q[1]},$.prototype.needLocalTransform=function(){return FW(this.rotation)||FW(this.x)||FW(this.y)||FW(this.scaleX-1)||FW(this.scaleY-1)||FW(this.skewX)||FW(this.skewY)},$.prototype.updateTransform=function(){var Q=this.parent&&this.parent.transform,J=this.needLocalTransform(),K=this.transform;if(!(J||Q)){if(K)UV0(K),this.invTransform=null;return}if(K=K||Q6(),J)this.getLocalTransform(K);else UV0(K);if(Q)if(J)T8(K,Q,K);else oX(K,Q);this.transform=K,this._resolveGlobalScaleRatio(K)},$.prototype._resolveGlobalScaleRatio=function(Q){var J=this.globalScaleRatio;if(J!=null&&J!==1){this.getGlobalScale(UW);var K=UW[0]<0?-1:1,Y=UW[1]<0?-1:1,q=((UW[0]-K)*J+K)/UW[0]||0,Z=((UW[1]-Y)*J+Y)/UW[1]||0;Q[0]*=q,Q[1]*=q,Q[2]*=Z,Q[3]*=Z}this.invTransform=this.invTransform||Q6(),D7(this.invTransform,Q)},$.prototype.getComputedTransform=function(){var Q=this,J=[];while(Q)J.push(Q),Q=Q.parent;while(Q=J.pop())Q.updateTransform();return this.transform},$.prototype.setLocalTransform=function(Q){if(!Q)return;var J=Q[0]*Q[0]+Q[1]*Q[1],K=Q[2]*Q[2]+Q[3]*Q[3],Y=Math.atan2(Q[1],Q[0]),q=Math.PI/2+Y-Math.atan2(Q[3],Q[2]);K=Math.sqrt(K)*Math.cos(q),J=Math.sqrt(J),this.skewX=q,this.skewY=0,this.rotation=-Y,this.x=+Q[4],this.y=+Q[5],this.scaleX=J,this.scaleY=K,this.originX=0,this.originY=0},$.prototype.decomposeTransform=function(){if(!this.transform)return;var Q=this.parent,J=this.transform;if(Q&&Q.transform)Q.invTransform=Q.invTransform||Q6(),T8(UN,Q.invTransform,J),J=UN;var K=this.originX,Y=this.originY;if(K||Y)Hd[4]=K,Hd[5]=Y,T8(UN,J,Hd),UN[4]-=K,UN[5]-=Y,J=UN;this.setLocalTransform(J)},$.prototype.getGlobalScale=function(Q){var J=this.transform;if(Q=Q||[],!J)return Q[0]=1,Q[1]=1,Q;if(Q[0]=Math.sqrt(J[0]*J[0]+J[1]*J[1]),Q[1]=Math.sqrt(J[2]*J[2]+J[3]*J[3]),J[0]<0)Q[0]=-Q[0];if(J[3]<0)Q[1]=-Q[1];return Q},$.prototype.transformCoordToLocal=function(Q,J){var K=[Q,J],Y=this.invTransform;if(Y)o5(K,K,Y);return K},$.prototype.transformCoordToGlobal=function(Q,J){var K=[Q,J],Y=this.transform;if(Y)o5(K,K,Y);return K},$.prototype.getLineScale=function(){var Q=this.transform;return Q&&Nd(Q[0]-1)>0.0000000001&&Nd(Q[3]-1)>0.0000000001?Math.sqrt(Nd(Q[0]*Q[3]-Q[2]*Q[1])):1},$.prototype.copyTransform=function(Q){HN(this,Q)},$.getLocalTransform=function(Q,J){J=J||[];var K=Q.originX||0,Y=Q.originY||0,q=Q.scaleX,Z=Q.scaleY,X=Q.anchorX,W=Q.anchorY,F=Q.rotation||0,H=Q.x,B=Q.y,z=Q.skewX?Math.tan(Q.skewX):0,A=Q.skewY?Math.tan(-Q.skewY):0;if(K||Y||X||W){var R=K+X,G=Y+W;J[4]=-R*q-z*G*Z,J[5]=-G*Z-A*R*q}else J[4]=J[5]=0;return J[0]=q,J[3]=Z,J[1]=A*q,J[2]=z*Z,F&&u8(J,J,F),J[4]+=K+H,J[5]+=Y+B,J},$.initDefaultProps=function(){var Q=$.prototype;Q.scaleX=Q.scaleY=Q.globalScaleRatio=1,Q.x=Q.y=Q.originX=Q.originY=Q.skewX=Q.skewY=Q.rotation=Q.anchorX=Q.anchorY=0}(),$}(),c9=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function HN($,Q){for(var J=0;J<c9.length;J++){var K=c9[J];$[K]=Q[K]}}var s4=A$1;function i$($){if(!DE)DE=new CJ(100);$=$||d4;var Q=DE.get($);if(!Q)Q={font:$,strWidthCache:new CJ(500),asciiWidthMap:null,asciiWidthMapTried:!1,stWideCharWidth:u7.measureText("",$).width,asciiCharWidth:u7.measureText("a",$).width},DE.put($,Q);return Q}var DE;function V$1($){if(Bd>=NV0)return;$=$||d4;var Q=[],J=+new Date;for(var K=0;K<=127;K++)Q[K]=u7.measureText(String.fromCharCode(K),$).width;var Y=+new Date-J;if(Y>16)Bd=NV0;else if(Y>2)Bd++;return Q}var Bd=0,NV0=5;function zd($,Q){if(!$.asciiWidthMapTried)$.asciiWidthMap=V$1($.font),$.asciiWidthMapTried=!0;return 0<=Q&&Q<=127?$.asciiWidthMap!=null?$.asciiWidthMap[Q]:$.asciiCharWidth:$.stWideCharWidth}function s$($,Q){var J=$.strWidthCache,K=J.get(Q);if(K==null)K=u7.measureText(Q,$.font).width,J.put(Q,K);return K}function BV0($,Q,J,K){var Y=s$(i$(Q),$),q=HW(Q),Z=OZ(0,Y,J),X=YY(0,q,K),W=new u0(Z,X,Y,q);return W}function wZ($,Q,J,K){var Y=(($||"")+"").split(`
`),q=Y.length;if(q===1)return BV0(Y[0],Q,J,K);else{var Z=new u0(0,0,0,0);for(var X=0;X<Y.length;X++){var W=BV0(Y[X],Q,J,K);X===0?Z.copy(W):Z.union(W)}return Z}}function OZ($,Q,J,K){if(J==="right")!K?$-=Q:$+=Q;else if(J==="center")!K?$-=Q/2:$+=Q/2;return $}function YY($,Q,J,K){if(J==="middle")!K?$-=Q/2:$+=Q/2;else if(J==="bottom")!K?$-=Q:$+=Q;return $}function HW($){return i$($).stWideCharWidth}function C8($,Q){if(typeof $==="string"){if($.lastIndexOf("%")>=0)return parseFloat($)/100*Q;return parseFloat($)}return $}function NW($,Q,J){var K=Q.position||"inside",Y=Q.distance!=null?Q.distance:5,q=J.height,Z=J.width,X=q/2,W=J.x,F=J.y,H="left",B="top";if(K instanceof Array)W+=C8(K[0],J.width),F+=C8(K[1],J.height),H=null,B=null;else switch(K){case"left":W-=Y,F+=X,H="right",B="middle";break;case"right":W+=Y+Z,F+=X,B="middle";break;case"top":W+=Z/2,F-=Y,H="center",B="bottom";break;case"bottom":W+=Z/2,F+=q+Y,H="center";break;case"inside":W+=Z/2,F+=X,H="center",B="middle";break;case"insideLeft":W+=Y,F+=X,B="middle";break;case"insideRight":W+=Z-Y,F+=X,H="right",B="middle";break;case"insideTop":W+=Z/2,F+=Y,H="center";break;case"insideBottom":W+=Z/2,F+=q-Y,H="center",B="bottom";break;case"insideTopLeft":W+=Y,F+=Y;break;case"insideTopRight":W+=Z-Y,F+=Y,H="right";break;case"insideBottomLeft":W+=Y,F+=q-Y,B="bottom";break;case"insideBottomRight":W+=Z-Y,F+=q-Y,H="right",B="bottom";break}return $=$||{},$.x=W,$.y=F,$.align=H,$.verticalAlign=B,$}var Ad="__zr_normal__",Vd=c9.concat(["ignore"]),R$1=O8(c9,function($,Q){return $[Q]=!0,$},{ignore:!1}),NN={},G$1=new u0(0,0,0,0),PE=[],wd=function(){function $(Q){this.id=xj(),this.animators=[],this.currentStates=[],this.states={},this._init(Q)}return $.prototype._init=function(Q){this.attr(Q)},$.prototype.drift=function(Q,J,K){switch(this.draggable){case"horizontal":J=0;break;case"vertical":Q=0;break}var Y=this.transform;if(!Y)Y=this.transform=[1,0,0,1,0,0];Y[4]+=Q,Y[5]+=J,this.decomposeTransform(),this.markRedraw()},$.prototype.beforeUpdate=function(){},$.prototype.afterUpdate=function(){},$.prototype.update=function(){if(this.updateTransform(),this.__dirty)this.updateInnerText()},$.prototype.updateInnerText=function(Q){var J=this._textContent;if(J&&(!J.ignore||Q)){if(!this.textConfig)this.textConfig={};var K=this.textConfig,Y=K.local,q=J.innerTransformable,Z=void 0,X=void 0,W=!1;q.parent=Y?this:null;var F=!1;q.copyTransform(J);var H=K.position!=null,B=K.autoOverflowArea,z=void 0;if(B||H){if(z=G$1,K.layoutRect)z.copy(K.layoutRect);else z.copy(this.getBoundingRect());if(!Y)z.applyTransform(this.transform)}if(H){if(this.calculateTextPosition)this.calculateTextPosition(NN,K,z);else NW(NN,K,z);q.x=NN.x,q.y=NN.y,Z=NN.align,X=NN.verticalAlign;var A=K.origin;if(A&&K.rotation!=null){var R=void 0,G=void 0;if(A==="center")R=z.width*0.5,G=z.height*0.5;else R=C8(A[0],z.width),G=C8(A[1],z.height);F=!0,q.originX=-q.x+R+(Y?0:z.x),q.originY=-q.y+G+(Y?0:z.y)}}if(K.rotation!=null)q.rotation=K.rotation;var w=K.offset;if(w){if(q.x+=w[0],q.y+=w[1],!F)q.originX=-w[0],q.originY=-w[1]}var T=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});if(B){var D=T.overflowRect=T.overflowRect||new u0(0,0,0,0);q.getLocalTransform(PE),D7(PE,PE),u0.copy(D,z),D.applyTransform(PE)}else T.overflowRect=null;var P=K.inside==null?typeof K.position==="string"&&K.position.indexOf("inside")>=0:K.inside,j=void 0,E=void 0,L=void 0;if(P&&this.canBeInsideText()){if(j=K.insideFill,E=K.insideStroke,j==null||j==="auto")j=this.getInsideTextFill();if(E==null||E==="auto")E=this.getInsideTextStroke(j),L=!0}else{if(j=K.outsideFill,E=K.outsideStroke,j==null||j==="auto")j=this.getOutsideFill();if(E==null||E==="auto")E=this.getOutsideStroke(j),L=!0}if(j=j||"#000",j!==T.fill||E!==T.stroke||L!==T.autoStroke||Z!==T.align||X!==T.verticalAlign)W=!0,T.fill=j,T.stroke=E,T.autoStroke=L,T.align=Z,T.verticalAlign=X,J.setDefaultTextStyle(T);if(J.__dirty|=_7,W)J.dirtyStyle(!0)}},$.prototype.canBeInsideText=function(){return!0},$.prototype.getInsideTextFill=function(){return"#fff"},$.prototype.getInsideTextStroke=function(Q){return"#000"},$.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?mR:uR},$.prototype.getOutsideStroke=function(Q){var J=this.__zr&&this.__zr.getBackgroundColor(),K=typeof J==="string"&&f7(J);if(!K)K=[255,255,255,1];var Y=K[3],q=this.__zr.isDarkMode();for(var Z=0;Z<3;Z++)K[Z]=K[Z]*Y+(q?0:255)*(1-Y);return K[3]=1,i4(K,"rgba")},$.prototype.traverse=function(Q,J){},$.prototype.attrKV=function(Q,J){if(Q==="textConfig")this.setTextConfig(J);else if(Q==="textContent")this.setTextContent(J);else if(Q==="clipPath")this.setClipPath(J);else if(Q==="extra")this.extra=this.extra||{},Q0(this.extra,J);else this[Q]=J},$.prototype.hide=function(){this.ignore=!0,this.markRedraw()},$.prototype.show=function(){this.ignore=!1,this.markRedraw()},$.prototype.attr=function(Q,J){if(typeof Q==="string")this.attrKV(Q,J);else if(I0(Q)){var K=Q,Y=Z1(K);for(var q=0;q<Y.length;q++){var Z=Y[q];this.attrKV(Z,Q[Z])}}return this.markRedraw(),this},$.prototype.saveCurrentToNormalState=function(Q){this._innerSaveToNormal(Q);var J=this._normalState;for(var K=0;K<this.animators.length;K++){var Y=this.animators[K],q=Y.__fromStateTransition;if(Y.getLoop()||q&&q!==Ad)continue;var Z=Y.targetName,X=Z?J[Z]:J;Y.saveTo(X)}},$.prototype._innerSaveToNormal=function(Q){var J=this._normalState;if(!J)J=this._normalState={};if(Q.textConfig&&!J.textConfig)J.textConfig=this.textConfig;this._savePrimaryToNormal(Q,J,Vd)},$.prototype._savePrimaryToNormal=function(Q,J,K){for(var Y=0;Y<K.length;Y++){var q=K[Y];if(Q[q]!=null&&!(q in J))J[q]=this[q]}},$.prototype.hasState=function(){return this.currentStates.length>0},$.prototype.getState=function(Q){return this.states[Q]},$.prototype.ensureState=function(Q){var J=this.states;if(!J[Q])J[Q]={};return J[Q]},$.prototype.clearStates=function(Q){this.useState(Ad,!1,Q)},$.prototype.useState=function(Q,J,K,Y){var q=Q===Ad,Z=this.hasState();if(!Z&&q)return;var X=this.currentStates,W=this.stateTransition;if(o0(X,Q)>=0&&(J||X.length===1))return;var F;if(this.stateProxy&&!q)F=this.stateProxy(Q);if(!F)F=this.states&&this.states[Q];if(!F&&!q){m7("State "+Q+" not exists.");return}if(!q)this.saveCurrentToNormalState(F);var H=!!(F&&F.hoverLayer||Y);if(H)this._toggleHoverLayerFlag(!0);this._applyStateObj(Q,F,this._normalState,J,!K&&!this.__inHover&&W&&W.duration>0,W);var B=this._textContent,z=this._textGuide;if(B)B.useState(Q,J,K,H);if(z)z.useState(Q,J,K,H);if(q)this.currentStates=[],this._normalState={};else if(!J)this.currentStates=[Q];else this.currentStates.push(Q);if(this._updateAnimationTargets(),this.markRedraw(),!H&&this.__inHover)this._toggleHoverLayerFlag(!1),this.__dirty&=~_7;return F},$.prototype.useStates=function(Q,J,K){if(!Q.length)this.clearStates();else{var Y=[],q=this.currentStates,Z=Q.length,X=Z===q.length;if(X){for(var W=0;W<Z;W++)if(Q[W]!==q[W]){X=!1;break}}if(X)return;for(var W=0;W<Z;W++){var F=Q[W],H=void 0;if(this.stateProxy)H=this.stateProxy(F,Q);if(!H)H=this.states[F];if(H)Y.push(H)}var B=Y[Z-1],z=!!(B&&B.hoverLayer||K);if(z)this._toggleHoverLayerFlag(!0);var A=this._mergeStates(Y),R=this.stateTransition;this.saveCurrentToNormalState(A),this._applyStateObj(Q.join(","),A,this._normalState,!1,!J&&!this.__inHover&&R&&R.duration>0,R);var G=this._textContent,w=this._textGuide;if(G)G.useStates(Q,J,z);if(w)w.useStates(Q,J,z);if(this._updateAnimationTargets(),this.currentStates=Q.slice(),this.markRedraw(),!z&&this.__inHover)this._toggleHoverLayerFlag(!1),this.__dirty&=~_7}},$.prototype.isSilent=function(){var Q=this;while(Q){if(Q.silent)return!0;var J=Q.__hostTarget;Q=J?Q.ignoreHostSilent?null:J:Q.parent}return!1},$.prototype._updateAnimationTargets=function(){for(var Q=0;Q<this.animators.length;Q++){var J=this.animators[Q];if(J.targetName)J.changeTarget(this[J.targetName])}},$.prototype.removeState=function(Q){var J=o0(this.currentStates,Q);if(J>=0){var K=this.currentStates.slice();K.splice(J,1),this.useStates(K)}},$.prototype.replaceState=function(Q,J,K){var Y=this.currentStates.slice(),q=o0(Y,Q),Z=o0(Y,J)>=0;if(q>=0)if(!Z)Y[q]=J;else Y.splice(q,1);else if(K&&!Z)Y.push(J);this.useStates(Y)},$.prototype.toggleState=function(Q,J){if(J)this.useState(Q,!0);else this.removeState(Q)},$.prototype._mergeStates=function(Q){var J={},K;for(var Y=0;Y<Q.length;Y++){var q=Q[Y];if(Q0(J,q),q.textConfig)K=K||{},Q0(K,q.textConfig)}if(K)J.textConfig=K;return J},$.prototype._applyStateObj=function(Q,J,K,Y,q,Z){var X=!(J&&Y);if(J&&J.textConfig)this.textConfig=Q0({},Y?this.textConfig:K.textConfig),Q0(this.textConfig,J.textConfig);else if(X){if(K.textConfig)this.textConfig=K.textConfig}var W={},F=!1;for(var H=0;H<Vd.length;H++){var B=Vd[H],z=q&&R$1[B];if(J&&J[B]!=null)if(z)F=!0,W[B]=J[B];else this[B]=J[B];else if(X){if(K[B]!=null)if(z)F=!0,W[B]=K[B];else this[B]=K[B]}}if(!q)for(var H=0;H<this.animators.length;H++){var A=this.animators[H],R=A.targetName;if(!A.getLoop())A.__changeFinalValue(R?(J||K)[R]:J||K)}if(F)this._transitionState(Q,W,Z)},$.prototype._attachComponent=function(Q){if(Q.__zr&&!Q.__hostTarget)throw Error("Text element has been added to zrender.");if(Q===this)throw Error("Recursive component attachment.");var J=this.__zr;if(J)Q.addSelfToZr(J);Q.__zr=J,Q.__hostTarget=this},$.prototype._detachComponent=function(Q){if(Q.__zr)Q.removeSelfFromZr(Q.__zr);Q.__zr=null,Q.__hostTarget=null},$.prototype.getClipPath=function(){return this._clipPath},$.prototype.setClipPath=function(Q){if(this._clipPath&&this._clipPath!==Q)this.removeClipPath();this._attachComponent(Q),this._clipPath=Q,this.markRedraw()},$.prototype.removeClipPath=function(){var Q=this._clipPath;if(Q)this._detachComponent(Q),this._clipPath=null,this.markRedraw()},$.prototype.getTextContent=function(){return this._textContent},$.prototype.setTextContent=function(Q){var J=this._textContent;if(J===Q)return;if(J&&J!==Q)this.removeTextContent();if(Q.__zr&&!Q.__hostTarget)throw Error("Text element has been added to zrender.");Q.innerTransformable=new s4,this._attachComponent(Q),this._textContent=Q,this.markRedraw()},$.prototype.setTextConfig=function(Q){if(!this.textConfig)this.textConfig={};Q0(this.textConfig,Q),this.markRedraw()},$.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},$.prototype.removeTextContent=function(){var Q=this._textContent;if(Q)Q.innerTransformable=null,this._detachComponent(Q),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw()},$.prototype.getTextGuideLine=function(){return this._textGuide},$.prototype.setTextGuideLine=function(Q){if(this._textGuide&&this._textGuide!==Q)this.removeTextGuideLine();this._attachComponent(Q),this._textGuide=Q,this.markRedraw()},$.prototype.removeTextGuideLine=function(){var Q=this._textGuide;if(Q)this._detachComponent(Q),this._textGuide=null,this.markRedraw()},$.prototype.markRedraw=function(){this.__dirty|=_7;var Q=this.__zr;if(Q)if(this.__inHover)Q.refreshHover();else Q.refresh();if(this.__hostTarget)this.__hostTarget.markRedraw()},$.prototype.dirty=function(){this.markRedraw()},$.prototype._toggleHoverLayerFlag=function(Q){this.__inHover=Q;var J=this._textContent,K=this._textGuide;if(J)J.__inHover=Q;if(K)K.__inHover=Q},$.prototype.addSelfToZr=function(Q){if(this.__zr===Q)return;this.__zr=Q;var J=this.animators;if(J)for(var K=0;K<J.length;K++)Q.animation.addAnimator(J[K]);if(this._clipPath)this._clipPath.addSelfToZr(Q);if(this._textContent)this._textContent.addSelfToZr(Q);if(this._textGuide)this._textGuide.addSelfToZr(Q)},$.prototype.removeSelfFromZr=function(Q){if(!this.__zr)return;this.__zr=null;var J=this.animators;if(J)for(var K=0;K<J.length;K++)Q.animation.removeAnimator(J[K]);if(this._clipPath)this._clipPath.removeSelfFromZr(Q);if(this._textContent)this._textContent.removeSelfFromZr(Q);if(this._textGuide)this._textGuide.removeSelfFromZr(Q)},$.prototype.animate=function(Q,J,K){var Y=Q?this[Q]:this;if(!Y){m7('Property "'+Q+'" is not existed in element '+this.id);return}var q=new xR(Y,J,K);return Q&&(q.targetName=Q),this.addAnimator(q,Q),q},$.prototype.addAnimator=function(Q,J){var K=this.__zr,Y=this;if(Q.during(function(){Y.updateDuringAnimation(J)}).done(function(){var q=Y.animators,Z=o0(q,Q);if(Z>=0)q.splice(Z,1)}),this.animators.push(Q),K)K.animation.addAnimator(Q);K&&K.wakeUp()},$.prototype.updateDuringAnimation=function(Q){this.markRedraw()},$.prototype.stopAnimation=function(Q,J){var K=this.animators,Y=K.length,q=[];for(var Z=0;Z<Y;Z++){var X=K[Z];if(!Q||Q===X.scope)X.stop(J);else q.push(X)}return this.animators=q,this},$.prototype.animateTo=function(Q,J,K){Rd(this,Q,J,K)},$.prototype.animateFrom=function(Q,J,K){Rd(this,Q,J,K,!0)},$.prototype._transitionState=function(Q,J,K,Y){var q=Rd(this,J,K,Y);for(var Z=0;Z<q.length;Z++)q[Z].__fromStateTransition=Q},$.prototype.getBoundingRect=function(){return null},$.prototype.getPaintRect=function(){return null},$.initDefaultProps=function(){var Q=$.prototype;Q.type="element",Q.name="",Q.ignore=Q.silent=Q.ignoreHostSilent=Q.isGroup=Q.draggable=Q.dragging=Q.ignoreClip=Q.__inHover=!1,Q.__dirty=_7;var J={};function K(q,Z,X){if(!J[q+Z+X])console.warn("DEPRECATED: '"+q+"' has been deprecated. use '"+Z+"', '"+X+"' instead"),J[q+Z+X]=!0}function Y(q,Z,X,W){Object.defineProperty(Q,q,{get:function(){if(K(q,X,W),!this[Z]){var H=this[Z]=[];F(this,H)}return this[Z]},set:function(H){K(q,X,W),this[X]=H[0],this[W]=H[1],this[Z]=H,F(this,H)}});function F(H,B){Object.defineProperty(B,0,{get:function(){return H[X]},set:function(z){H[X]=z}}),Object.defineProperty(B,1,{get:function(){return H[W]},set:function(z){H[W]=z}})}}if(Object.defineProperty)Y("position","_legacyPos","x","y"),Y("scale","_legacyScale","scaleX","scaleY"),Y("origin","_legacyOrigin","originX","originY")}(),$}();_5(wd,T7);_5(wd,s4);function Rd($,Q,J,K,Y){J=J||{};var q=[];zV0($,"",$,Q,J,K,q,Y);var Z=q.length,X=!1,W=J.done,F=J.aborted,H=function(){if(X=!0,Z--,Z<=0)X?W&&W():F&&F()},B=function(){if(Z--,Z<=0)X?W&&W():F&&F()};if(!Z)W&&W();if(q.length>0&&J.during)q[0].during(function(R,G){J.during(G)});for(var z=0;z<q.length;z++){var A=q[z];if(H)A.done(H);if(B)A.aborted(B);if(J.force)A.duration(J.duration);A.start(J.easing)}return q}function Gd($,Q,J){for(var K=0;K<J;K++)$[K]=Q[K]}function w$1($){return c6($[0])}function O$1($,Q,J){if(c6(Q[J])){if(!c6($[J]))$[J]=[];if(u6(Q[J])){var K=Q[J].length;if($[J].length!==K)$[J]=new Q[J].constructor(K),Gd($[J],Q[J],K)}else{var Y=Q[J],q=$[J],Z=Y.length;if(w$1(Y)){var X=Y[0].length;for(var W=0;W<Z;W++)if(!q[W])q[W]=Array.prototype.slice.call(Y[W]);else Gd(q[W],Y[W],X)}else Gd(q,Y,Z);q.length=Y.length}}else $[J]=Q[J]}function T$1($,Q){return $===Q||c6($)&&c6(Q)&&D$1($,Q)}function D$1($,Q){var J=$.length;if(J!==Q.length)return!1;for(var K=0;K<J;K++)if($[K]!==Q[K])return!1;return!0}function zV0($,Q,J,K,Y,q,Z,X){var W=Z1(K),F=Y.duration,H=Y.delay,B=Y.additive,z=Y.setToFinal,A=!I0(q),R=$.animators,G=[];for(var w=0;w<W.length;w++){var T=W[w],D=K[T];if(D!=null&&J[T]!=null&&(A||q[T]))if(I0(D)&&!c6(D)&&!FZ(D)){if(Q){if(!X)J[T]=D,$.updateDuringAnimation(Q);continue}zV0($,T,J[T],D,Y,q&&q[T],Z,X)}else G.push(T);else if(!X)J[T]=D,$.updateDuringAnimation(Q),G.push(T)}var P=G.length;if(!B&&P)for(var j=0;j<R.length;j++){var E=R[j];if(E.targetName===Q){var L=E.stopTracks(G);if(L){var h=o0(R,E);R.splice(h,1)}}}if(!Y.force)G=j1(G,function(M){return!T$1(K[M],J[M])}),P=G.length;if(P>0||Y.force&&!Z.length){var _=void 0,S=void 0,I=void 0;if(X){if(S={},z)_={};for(var j=0;j<P;j++){var T=G[j];if(S[T]=J[T],z)_[T]=K[T];else J[T]=K[T]}}else if(z){I={};for(var j=0;j<P;j++){var T=G[j];I[T]=ZW(J[T]),O$1(J,K,T)}}var E=new xR(J,!1,!1,B?j1(R,function(y){return y.targetName===Q}):null);if(E.targetName=Q,Y.scope)E.scope=Y.scope;if(z&&_)E.whenWithKeys(0,_,G);if(I)E.whenWithKeys(0,I,G);E.whenWithKeys(F==null?500:F,X?S:K,G).delay(H||0),$.addAnimator(E,Q),Z.push(E)}}var kE=wd;var AV0=function($){x(Q,$);function Q(J){var K=$.call(this)||this;return K.isGroup=!0,K._children=[],K.attr(J),K}return Q.prototype.childrenRef=function(){return this._children},Q.prototype.children=function(){return this._children.slice()},Q.prototype.childAt=function(J){return this._children[J]},Q.prototype.childOfName=function(J){var K=this._children;for(var Y=0;Y<K.length;Y++)if(K[Y].name===J)return K[Y]},Q.prototype.childCount=function(){return this._children.length},Q.prototype.add=function(J){if(J){if(J!==this&&J.parent!==this)this._children.push(J),this._doAdd(J);if(J.__hostTarget)throw"This elemenet has been used as an attachment"}return this},Q.prototype.addBefore=function(J,K){if(J&&J!==this&&J.parent!==this&&K&&K.parent===this){var Y=this._children,q=Y.indexOf(K);if(q>=0)Y.splice(q,0,J),this._doAdd(J)}return this},Q.prototype.replace=function(J,K){var Y=o0(this._children,J);if(Y>=0)this.replaceAt(K,Y);return this},Q.prototype.replaceAt=function(J,K){var Y=this._children,q=Y[K];if(J&&J!==this&&J.parent!==this&&J!==q){Y[K]=J,q.parent=null;var Z=this.__zr;if(Z)q.removeSelfFromZr(Z);this._doAdd(J)}return this},Q.prototype._doAdd=function(J){if(J.parent)J.parent.remove(J);J.parent=this;var K=this.__zr;if(K&&K!==J.__zr)J.addSelfToZr(K);K&&K.refresh()},Q.prototype.remove=function(J){var K=this.__zr,Y=this._children,q=o0(Y,J);if(q<0)return this;if(Y.splice(q,1),J.parent=null,K)J.removeSelfFromZr(K);return K&&K.refresh(),this},Q.prototype.removeAll=function(){var J=this._children,K=this.__zr;for(var Y=0;Y<J.length;Y++){var q=J[Y];if(K)q.removeSelfFromZr(K);q.parent=null}return J.length=0,this},Q.prototype.eachChild=function(J,K){var Y=this._children;for(var q=0;q<Y.length;q++){var Z=Y[q];J.call(K,Z,q)}return this},Q.prototype.traverse=function(J,K){for(var Y=0;Y<this._children.length;Y++){var q=this._children[Y],Z=J.call(K,q);if(q.isGroup&&!Z)q.traverse(J,K)}return this},Q.prototype.addSelfToZr=function(J){$.prototype.addSelfToZr.call(this,J);for(var K=0;K<this._children.length;K++){var Y=this._children[K];Y.addSelfToZr(J)}},Q.prototype.removeSelfFromZr=function(J){$.prototype.removeSelfFromZr.call(this,J);for(var K=0;K<this._children.length;K++){var Y=this._children[K];Y.removeSelfFromZr(J)}},Q.prototype.getBoundingRect=function(J){var K=new u0(0,0,0,0),Y=J||this._children,q=[],Z=null;for(var X=0;X<Y.length;X++){var W=Y[X];if(W.ignore||W.invisible)continue;var F=W.getBoundingRect(),H=W.getLocalTransform(q);if(H)u0.applyTransform(K,F,H),Z=Z||K.clone(),Z.union(K);else Z=Z||F.clone(),Z.union(F)}return Z||K},Q}(kE);AV0.prototype.type="group";var _0=AV0;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var pR={},VV0={};function C$1($){delete VV0[$]}function P$1($){if(!$)return!1;if(typeof $==="string")return FN($,1)<cR;else if($.colorStops){var Q=$.colorStops,J=0,K=Q.length;for(var Y=0;Y<K;Y++)J+=FN(Q[Y].color,1);return J/=K,J<cR}return!1}var k$1=function(){function $(Q,J,K){var Y=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,K=K||{},this.dom=J,this.id=Q;var q=new SA0,Z=K.renderer||"canvas";if(!pR[Z])Z=Z1(pR)[0];if(!pR[Z])throw Error("Renderer '"+Z+"' is not imported. Please import it first.");K.useDirtyRect=K.useDirtyRect==null?!1:K.useDirtyRect;var X=new pR[Z](J,q,K,Q),W=K.ssr||X.ssrOnly;this.storage=q,this.painter=X;var F=!L1.node&&!L1.worker&&!W?new XV0(X.getViewportRoot(),X.root):null,H=K.useCoarsePointer,B=H==null||H==="auto"?L1.touchEventsSupported:!!H,z=44,A;if(B)A=f0(K.pointerSize,z);if(this.handler=new kA0(q,X,F,X.root,A),this.animation=new JV0({stage:{update:W?null:function(){return Y._flush(!0)}}}),!W)this.animation.start()}return $.prototype.add=function(Q){if(this._disposed||!Q)return;this.storage.addRoot(Q),Q.addSelfToZr(this),this.refresh()},$.prototype.remove=function(Q){if(this._disposed||!Q)return;this.storage.delRoot(Q),Q.removeSelfFromZr(this),this.refresh()},$.prototype.configLayer=function(Q,J){if(this._disposed)return;if(this.painter.configLayer)this.painter.configLayer(Q,J);this.refresh()},$.prototype.setBackgroundColor=function(Q){if(this._disposed)return;if(this.painter.setBackgroundColor)this.painter.setBackgroundColor(Q);this.refresh(),this._backgroundColor=Q,this._darkMode=P$1(Q)},$.prototype.getBackgroundColor=function(){return this._backgroundColor},$.prototype.setDarkMode=function(Q){this._darkMode=Q},$.prototype.isDarkMode=function(){return this._darkMode},$.prototype.refreshImmediately=function(Q){if(this._disposed)return;if(!Q)this.animation.update(!0);this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},$.prototype.refresh=function(){if(this._disposed)return;this._needsRefresh=!0,this.animation.start()},$.prototype.flush=function(){if(this._disposed)return;this._flush(!1)},$.prototype._flush=function(Q){var J,K=XW();if(this._needsRefresh)J=!0,this.refreshImmediately(Q);if(this._needsRefreshHover)J=!0,this.refreshHoverImmediately();var Y=XW();if(J)this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:Y-K});else if(this._sleepAfterStill>0){if(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill)this.animation.stop()}},$.prototype.setSleepAfterStill=function(Q){this._sleepAfterStill=Q},$.prototype.wakeUp=function(){if(this._disposed)return;this.animation.start(),this._stillFrameAccum=0},$.prototype.refreshHover=function(){this._needsRefreshHover=!0},$.prototype.refreshHoverImmediately=function(){if(this._disposed)return;if(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas")this.painter.refreshHover()},$.prototype.resize=function(Q){if(this._disposed)return;Q=Q||{},this.painter.resize(Q.width,Q.height),this.handler.resize()},$.prototype.clearAnimation=function(){if(this._disposed)return;this.animation.clear()},$.prototype.getWidth=function(){if(this._disposed)return;return this.painter.getWidth()},$.prototype.getHeight=function(){if(this._disposed)return;return this.painter.getHeight()},$.prototype.setCursorStyle=function(Q){if(this._disposed)return;this.handler.setCursorStyle(Q)},$.prototype.findHover=function(Q,J){if(this._disposed)return;return this.handler.findHover(Q,J)},$.prototype.on=function(Q,J,K){if(!this._disposed)this.handler.on(Q,J,K);return this},$.prototype.off=function(Q,J){if(this._disposed)return;this.handler.off(Q,J)},$.prototype.trigger=function(Q,J){if(this._disposed)return;this.handler.trigger(Q,J)},$.prototype.clear=function(){if(this._disposed)return;var Q=this.storage.getRoots();for(var J=0;J<Q.length;J++)if(Q[J]instanceof _0)Q[J].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},$.prototype.dispose=function(){if(this._disposed)return;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,C$1(this.id)},$}();function Td($,Q){var J=new k$1(xj(),$,Q);return VV0[J.id]=J,J}function RV0($,Q){pR[$]=Q}var Od;function GV0($){if(typeof Od==="function")return Od($)}function wV0($){Od=$}var OV0=0.0001,TV0=20;function E$1($){return $.replace(/^\s+|\s+$/g,"")}var{min:m8,max:D6,abs:o$}=Math;function a1($,Q,J,K){var Y=Q[0],q=Q[1],Z=J[0],X=J[1],W=q-Y,F=X-Z;if(W===0)return F===0?Z:(Z+X)/2;if(K){if(W>0){if($<=Y)return Z;else if($>=q)return X}else if($>=Y)return Z;else if($<=q)return X}else{if($===Y)return Z;if($===q)return X}return($-Y)/W*F+Z}var h0=L$1;function L$1($,Q,J){switch($){case"center":case"middle":$="50%";break;case"left":case"top":$="0%";break;case"right":case"bottom":$="100%";break}return BN($,Q,J)}function BN($,Q,J){if(B0($)){if(E$1($).match(/%$/))return parseFloat($)/100*Q+(J||0);return parseFloat($)}return $==null?NaN:+$}function d5($,Q,J){if(Q==null)Q=10;return Q=Math.min(Math.max(0,Q),TV0),$=(+$).toFixed(Q),J?$:+$}function I7($){return $.sort(function(Q,J){return Q-J}),$}function B4($){if($=+$,isNaN($))return 0;if($>0.00000000000001){var Q=1;for(var J=0;J<15;J++,Q*=10)if(Math.round($*Q)/Q===$)return J}return jE($)}function jE($){var Q=$.toString().toLowerCase(),J=Q.indexOf("e"),K=J>0?+Q.slice(J+1):0,Y=J>0?J:Q.length,q=Q.indexOf("."),Z=q<0?0:Y-1-q;return Math.max(0,Z-K)}function EE($,Q){var{log:J,LN10:K}=Math,Y=Math.floor(J($[1]-$[0])/K),q=Math.round(J(o$(Q[1]-Q[0]))/K),Z=Math.min(Math.max(-Y+q,0),20);return!isFinite(Z)?20:Z}function DV0($,Q){var J=O8($,function(A,R){return A+(isNaN(R)?0:R)},0);if(J===0)return[];var K=Math.pow(10,Q),Y=K0($,function(A){return(isNaN(A)?0:A)/J*K*100}),q=K*100,Z=K0(Y,function(A){return Math.floor(A)}),X=O8(Z,function(A,R){return A+R},0),W=K0(Y,function(A,R){return A-Z[R]});while(X<q){var F=Number.NEGATIVE_INFINITY,H=null;for(var B=0,z=W.length;B<z;++B)if(W[B]>F)F=W[B],H=B;++Z[H],W[H]=0,++X}return K0(Z,function(A){return A/K})}function CV0($,Q){var J=Math.max(B4($),B4(Q)),K=$+Q;return J>TV0?K:d5(K,J)}var Dd=9007199254740991;function Cd($){var Q=Math.PI*2;return($%Q+Q)%Q}function BW($){return $>-OV0&&$<OV0}var h$1=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function n3($){if($ instanceof Date)return $;else if(B0($)){var Q=h$1.exec($);if(!Q)return new Date(NaN);if(!Q[8])return new Date(+Q[1],+(Q[2]||1)-1,+Q[3]||1,+Q[4]||0,+(Q[5]||0),+Q[6]||0,Q[7]?+Q[7].substring(0,3):0);else{var J=+Q[4]||0;if(Q[8].toUpperCase()!=="Z")J-=+Q[8].slice(0,3);return new Date(Date.UTC(+Q[1],+(Q[2]||1)-1,+Q[3]||1,J,+(Q[5]||0),+Q[6]||0,Q[7]?+Q[7].substring(0,3):0))}}else if($==null)return new Date(NaN);return new Date(Math.round($))}function PV0($){return Math.pow(10,dR($))}function dR($){if($===0)return 0;var Q=Math.floor(Math.log($)/Math.LN10);if($/Math.pow(10,Q)>=10)Q++;return Q}function LE($,Q){var J=dR($),K=Math.pow(10,J),Y=$/K,q;if(Q)if(Y<1.5)q=1;else if(Y<2.5)q=2;else if(Y<4)q=3;else if(Y<7)q=5;else q=10;else if(Y<1)q=1;else if(Y<2)q=2;else if(Y<3)q=3;else if(Y<5)q=5;else q=10;return $=q*K,J>=-20?+$.toFixed(J<0?-J:0):$}function hE($,Q){var J=($.length-1)*Q+1,K=Math.floor(J),Y=+$[K-1],q=J-K;return q?Y+q*($[K]-Y):Y}function Pd($){$.sort(function(W,F){return X(W,F,0)?-1:1});var Q=-1/0,J=1;for(var K=0;K<$.length;){var Y=$[K].interval,q=$[K].close;for(var Z=0;Z<2;Z++){if(Y[Z]<=Q)Y[Z]=Q,q[Z]=!Z?1-J:1;Q=Y[Z],J=q[Z]}if(Y[0]===Y[1]&&q[0]*q[1]!==1)$.splice(K,1);else K++}return $;function X(W,F,H){return W.interval[H]<F.interval[H]||W.interval[H]===F.interval[H]&&(W.close[H]-F.close[H]===(!H?1:-1)||!H&&X(W,F,1))}}function l3($){var Q=parseFloat($);return Q==$&&(Q!==0||!B0($)||$.indexOf("x")<=0)?Q:NaN}function zN($){return!isNaN(l3($))}function vE(){return Math.round(Math.random()*9)}function kV0($,Q){if(Q===0)return $;return kV0(Q,$%Q)}function kd($,Q){if($==null)return Q;if(Q==null)return $;return $*Q/kV0($,Q)}var v$1="[ECharts] ",jV0={},S$1=typeof console<"u"&&console.warn&&console.log;function SE($,Q,J){if(S$1){if(J){if(jV0[Q])return;jV0[Q]=!0}console[$](v$1+Q)}}function _E($,Q){SE("log",$,Q)}function T5($,Q){SE("warn",$,Q)}function P1($,Q){SE("error",$,Q)}function z4($){SE("warn","DEPRECATED: "+$,!0)}function C6($,Q,J){z4((J?"["+J+"]":"")+($+" is deprecated; use "+Q+" instead."))}function U7(){var $=[];for(var Q=0;Q<arguments.length;Q++)$[Q]=arguments[Q];var J="",K=function(Y){return Y===void 0?"undefined":Y===1/0?"Infinity":Y===-1/0?"-Infinity":N6(Y)?"NaN":Y instanceof Date?"Date("+Y.toISOString()+")":v0(Y)?"function () { ... }":cj(Y)?Y+"":null};return J=K0($,function(Y){if(B0(Y))return Y;else{var q=K(Y);if(q!=null)return q;else if(typeof JSON<"u"&&JSON.stringify)try{return JSON.stringify(Y,function(Z,X){var W=K(X);return W==null?X:W})}catch(Z){return"?"}else return"?"}}).join(" "),J}function J5($){throw Error($)}function EV0($,Q,J){return(Q-$)*J+$}var vV0="series\x00",SV0="\x00_ec_\x00";function K5($){return $ instanceof Array?$:$==null?[]:[$]}function u9($,Q,J){if($){$[Q]=$[Q]||{},$.emphasis=$.emphasis||{},$.emphasis[Q]=$.emphasis[Q]||{};for(var K=0,Y=J.length;K<Y;K++){var q=J[K];if(!$.emphasis[Q].hasOwnProperty(q)&&$[Q].hasOwnProperty(q))$.emphasis[Q][q]=$[Q][q]}}}var jd=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function a$($){return I0($)&&!J0($)&&!($ instanceof Date)?$.value:$}function _V0($){return I0($)&&!($ instanceof Array)}function fE($,Q,J){var K=J==="normalMerge",Y=J==="replaceMerge",q=J==="replaceAll";$=$||[],Q=(Q||[]).slice();var Z=L0();v(Q,function(W,F){if(!I0(W)){Q[F]=null;return}if(W.id!=null&&!hV0(W.id))LV0(W.id);if(W.name!=null&&!hV0(W.name))LV0(W.name)});var X=_$1($,Z,J);if(K||Y)f$1(X,$,Z,Q);if(K)I$1(X,Q);if(K||Y)M$1(X,Q,Y);else if(q)b$1(X,Q);return g$1(X),X}function _$1($,Q,J){var K=[];if(J==="replaceAll")return K;for(var Y=0;Y<$.length;Y++){var q=$[Y];if(q&&q.id!=null)Q.set(q.id,Y);K.push({existing:J==="replaceMerge"||TZ(q)?null:q,newOption:null,keyInfo:null,brandNew:null})}return K}function f$1($,Q,J,K){v(K,function(Y,q){if(!Y||Y.id==null)return;var Z=nR(Y.id),X=J.get(Z);if(X!=null){var W=$[X];S0(!W.newOption,'Duplicated option on id "'+Z+'".'),W.newOption=Y,W.existing=Q[X],K[q]=null}})}function I$1($,Q){v(Q,function(J,K){if(!J||J.name==null)return;for(var Y=0;Y<$.length;Y++){var q=$[Y].existing;if(!$[Y].newOption&&q&&(q.id==null||J.id==null)&&!TZ(J)&&!TZ(q)&&fV0("name",q,J)){$[Y].newOption=J,Q[K]=null;return}}})}function M$1($,Q,J){v(Q,function(K){if(!K)return;var Y,q=0;while((Y=$[q])&&(Y.newOption||TZ(Y.existing)||Y.existing&&K.id!=null&&!fV0("id",K,Y.existing)))q++;if(Y)Y.newOption=K,Y.brandNew=J;else $.push({newOption:K,brandNew:J,existing:null,keyInfo:null});q++})}function b$1($,Q){v(Q,function(J){$.push({newOption:J,brandNew:!0,existing:null,keyInfo:null})})}function g$1($){var Q=L0();v($,function(J){var K=J.existing;K&&Q.set(K.id,J)}),v($,function(J){var K=J.newOption;S0(!K||K.id==null||!Q.get(K.id)||Q.get(K.id)===J,"id duplicates: "+(K&&K.id)),K&&K.id!=null&&Q.set(K.id,J),!J.keyInfo&&(J.keyInfo={})}),v($,function(J,K){var{existing:Y,newOption:q,keyInfo:Z}=J;if(!I0(q))return;if(Z.name=q.name!=null?nR(q.name):Y?Y.name:vV0+K,Y)Z.id=nR(Y.id);else if(q.id!=null)Z.id=nR(q.id);else{var X=0;do Z.id="\x00"+Z.name+"\x00"+X++;while(Q.get(Z.id))}Q.set(Z.id,J)})}function fV0($,Q,J){var K=q6(Q[$],null),Y=q6(J[$],null);return K!=null&&Y!=null&&K===Y}function nR($){if($==null)throw Error();return q6($,"")}function q6($,Q){if($==null)return Q;return B0($)?$:U1($)||tH($)?$+"":Q}function LV0($){T5("`"+$+"` is invalid id or name. Must be a string or number.")}function hV0($){return tH($)||zN($)}function AN($){var Q=$.name;return!!(Q&&Q.indexOf(vV0))}function TZ($){return $&&$.id!=null&&nR($.id).indexOf(SV0)===0}function IV0($){return SV0+$}function MV0($,Q,J){v($,function(K){var Y=K.newOption;if(I0(Y))K.keyInfo.mainType=Q,K.keyInfo.subType=y$1(Q,Y,K.existing,J)})}function y$1($,Q,J,K){var Y=Q.type?Q.type:J?J.subType:K.determineSubType($,Q);return Y}function bV0($,Q){var J={},K={};return Y($||[],J),Y(Q||[],K,J),[q(J),q(K)];function Y(Z,X,W){for(var F=0,H=Z.length;F<H;F++){var B=q6(Z[F].seriesId,null);if(B==null)return;var z=K5(Z[F].dataIndex),A=W&&W[B];for(var R=0,G=z.length;R<G;R++){var w=z[R];if(A&&A[w])A[w]=null;else(X[B]||(X[B]={}))[w]=1}}}function q(Z,X){var W=[];for(var F in Z)if(Z.hasOwnProperty(F)&&Z[F]!=null)if(X)W.push(+F);else{var H=q(Z[F],!0);H.length&&W.push({seriesId:F,dataIndex:H})}return W}}function r3($,Q){if(Q.dataIndexInside!=null)return Q.dataIndexInside;else if(Q.dataIndex!=null)return J0(Q.dataIndex)?K0(Q.dataIndex,function(J){return $.indexOfRawIndex(J)}):$.indexOfRawIndex(Q.dataIndex);else if(Q.name!=null)return J0(Q.name)?K0(Q.name,function(J){return $.indexOfName(J)}):$.indexOfName(Q.name)}function n0(){var $="__ec_inner_"+x$1++;return function(Q){return Q[$]||(Q[$]={})}}var x$1=vE();function kJ($,Q,J){var K=lR(Q,J),Y=K.mainTypeSpecified,q=K.queryOptionMap,Z=K.others,X=Z,W=J?J.defaultMainType:null;if(!Y&&W)q.set(W,{});return q.each(function(F,H){var B=jJ($,H,F,{useDefault:W===H,enableAll:J&&J.enableAll!=null?J.enableAll:!0,enableNone:J&&J.enableNone!=null?J.enableNone:!0});X[H+"Models"]=B.models,X[H+"Model"]=B.models[0]}),X}function lR($,Q){var J;if(B0($)){var K={};K[$+"Index"]=0,J=K}else J=$;var Y=L0(),q={},Z=!1;return v(J,function(X,W){if(W==="dataIndex"||W==="dataIndexInside"){q[W]=X;return}var F=W.match(/^(\w+)(Index|Id|Name)$/)||[],H=F[1],B=(F[2]||"").toLowerCase();if(!H||!B||Q&&Q.includeMainTypes&&o0(Q.includeMainTypes,H)<0)return;Z=Z||!!H;var z=Y.get(H)||Y.set(H,{});z[B]=X}),{mainTypeSpecified:Z,queryOptionMap:Y,others:q}}var w5={useDefault:!0,enableAll:!1,enableNone:!1},gV0={useDefault:!1,enableAll:!0,enableNone:!0};function jJ($,Q,J,K){K=K||w5;var{index:Y,id:q,name:Z}=J,X={models:null,specified:Y!=null||q!=null||Z!=null};if(!X.specified){var W=void 0;return X.models=K.useDefault&&(W=$.getComponent(Q))?[W]:[],X}if(Y==="none"||Y===!1)if(K.enableNone)return X.models=[],X;else P1('`"none"` or `false` is not a valid value on index option.'),Y=-1;if(Y==="all")if(K.enableAll)Y=q=Z=null;else P1('`"all"` is not a valid value on index option.'),Y=-1;return X.models=$.queryComponents({mainType:Q,index:Y,id:q,name:Z}),X}function Ed($,Q,J){$.setAttribute?$.setAttribute(Q,J):$[Q]=J}function yV0($,Q){return $.getAttribute?$.getAttribute(Q):$[Q]}function xV0($){if($==="auto")return L1.domSupported?"html":"richText";else return $||"html"}function rR($,Q){var J=L0(),K=[];return v($,function(Y){var q=Q(Y);(J.get(q)||(K.push(q),J.set(q,[]))).push(Y)}),{keys:K,buckets:J}}function IE($,Q,J,K,Y){var q=Q==null||Q==="auto";if(K==null)return K;if(U1(K)){var Z=EV0(J||0,K,Y);return d5(Z,q?Math.max(B4(J||0),B4(K)):Q)}else if(B0(K))return Y<1?J:K;else{var X=[],W=J,F=K,H=Math.max(W?W.length:0,F.length);for(var B=0;B<H;++B){var z=$.getDimensionInfo(B);if(z&&z.type==="ordinal")X[B]=(Y<1&&W?W:F)[B];else{var A=W&&W[B]?W[B]:0,R=F[B],Z=EV0(A,R,Y);X[B]=d5(Z,q?Math.max(B4(A),B4(R)):Q)}}return X}}var t$=function(){function $(){}return $.prototype.reset=function(Q,J,K,Y){return this._list=Q,this._step=Y=Y||1,this._idx=J,this._end=K!=null?K:Y>0?Q.length:0,this.item=null,this.key=NaN,this},$.prototype.next=function(){if(this._step>0?this._idx<this._end:this._idx>=this._end)return this.item=this._list[this._idx],this.key=this._idx=this._idx+this._step,!0;return!1},$}();function ME($){$.option=$.parentModel=$.ecModel=null}var c$1=".",zW="___EC__COMPONENT__CONTAINER___",cV0="___EC__EXTENDED_CLASS___";function a4($){var Q={main:"",sub:""};if($){var J=$.split(c$1);Q.main=J[0]||"",Q.sub=J[1]||""}return Q}function u$1($){S0(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test($),'componentType "'+$+'" illegal')}function uV0($){return!!($&&$[cV0])}function VN($,Q){$.$constructor=$,$.extend=function(J){v(Q,function(q){if(!J[q])console.warn("Method `"+q+"` should be implemented"+(J.type?" in "+J.type:"")+".")});var K=this,Y;if(m$1(K))Y=function(q){x(Z,q);function Z(){return q.apply(this,arguments)||this}return Z}(K);else Y=function(){(J.$constructor||K).apply(this,arguments)},XA0(Y,this);return Q0(Y.prototype,J),Y[cV0]=!0,Y.extend=this.extend,Y.superCall=d$1,Y.superApply=n$1,Y.superClass=K,Y}}function m$1($){return v0($)&&/^class\s/.test(Function.prototype.toString.call($))}function bE($,Q){$.extend=Q.extend}var p$1=Math.round(Math.random()*10);function mV0($){var Q=["__\x00is_clz",p$1++].join("_");$.prototype[Q]=!0,S0(!$.isInstance,'The method "is" can not be defined.'),$.isInstance=function(J){return!!(J&&J[Q])}}function d$1($,Q){var J=[];for(var K=2;K<arguments.length;K++)J[K-2]=arguments[K];return this.superClass.prototype[Q].apply($,J)}function n$1($,Q,J){return this.superClass.prototype[Q].apply($,J)}function DZ($){var Q={};$.registerClass=function(K){var Y=K.type||K.prototype.type;if(Y){u$1(Y),K.prototype.type=Y;var q=a4(Y);if(!q.sub){if(Q[q.main])console.warn(q.main+" exists.");Q[q.main]=K}else if(q.sub!==zW){var Z=J(q);Z[q.sub]=K}}return K},$.getClass=function(K,Y,q){var Z=Q[K];if(Z&&Z[zW])Z=Y?Z[Y]:null;if(q&&!Z)throw Error(!Y?K+".type should be specified.":"Component "+K+"."+(Y||"")+" is used but not imported.");return Z},$.getClassesByMainType=function(K){var Y=a4(K),q=[],Z=Q[Y.main];if(Z&&Z[zW])v(Z,function(X,W){W!==zW&&q.push(X)});else q.push(Z);return q},$.hasClass=function(K){var Y=a4(K);return!!Q[Y.main]},$.getAllClassMainTypes=function(){var K=[];return v(Q,function(Y,q){K.push(q)}),K},$.hasSubTypes=function(K){var Y=a4(K),q=Q[Y.main];return q&&q[zW]};function J(K){var Y=Q[K.main];if(!Y||!Y[zW])Y=Q[K.main]={},Y[zW]=!0;return Y}}function t4($,Q){for(var J=0;J<$.length;J++)if(!$[J][1])$[J][1]=$[J][0];return Q=Q||!1,function(K,Y,q){var Z={};for(var X=0;X<$.length;X++){var W=$[X][1];if(Y&&o0(Y,W)>=0||q&&o0(q,W)<0)continue;var F=K.getShallow(W,Q);if(F!=null)Z[$[X][0]]=F}return Z}}var l$1=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],r$1=t4(l$1),pV0=function(){function $(){}return $.prototype.getAreaStyle=function(Q,J){return r$1(this,Q,J)},$}();var hd=new CJ(50);function nV0($){if(typeof $==="string"){var Q=hd.get($);return Q&&Q.image}else return $}function iR($,Q,J,K,Y){if(!$)return Q;else if(typeof $==="string"){if(Q&&Q.__zrImageSrc===$||!J)return Q;var q=hd.get($),Z={hostEl:J,cb:K,cbPayload:Y};if(q)Q=q.image,!RN(Q)&&q.pending.push(Z);else Q=u7.loadImage($,dV0,dV0),Q.__zrImageSrc=$,hd.put($,Q.__cachedImgObj={image:Q,pending:[Z]});return Q}else return $}function dV0(){var $=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var Q=0;Q<$.pending.length;Q++){var J=$.pending[Q],K=J.cb;K&&K(this,J.cbPayload),J.hostEl.dirty()}$.pending.length=0}function RN($){return $&&$.width&&$.height}var vd=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function s$1($,Q,J,K,Y,q){if(!J){$.text="",$.isTruncated=!1;return}var Z=(Q+"").split(`
`);q=sV0(J,K,Y,q);var X=!1,W={};for(var F=0,H=Z.length;F<H;F++)oV0(W,Z[F],q),Z[F]=W.textLine,X=X||W.isTruncated;$.text=Z.join(`
`),$.isTruncated=X}function sV0($,Q,J,K){K=K||{};var Y=Q0({},K);J=f0(J,"..."),Y.maxIterations=f0(K.maxIterations,2);var q=Y.minChar=f0(K.minChar,0),Z=Y.fontMeasureInfo=i$(Q),X=Z.asciiCharWidth;Y.placeholder=f0(K.placeholder,"");var W=$=Math.max(0,$-1);for(var F=0;F<q&&W>=X;F++)W-=X;var H=s$(Z,J);if(H>W)J="",H=0;return W=$-H,Y.ellipsis=J,Y.ellipsisWidth=H,Y.contentWidth=W,Y.containerWidth=$,Y}function oV0($,Q,J){var{containerWidth:K,contentWidth:Y,fontMeasureInfo:q}=J;if(!K){$.textLine="",$.isTruncated=!1;return}var Z=s$(q,Q);if(Z<=K){$.textLine=Q,$.isTruncated=!1;return}for(var X=0;;X++){if(Z<=Y||X>=J.maxIterations){Q+=J.ellipsis;break}var W=X===0?o$1(Q,Y,q):Z>0?Math.floor(Q.length*Y/Z):0;Q=Q.substr(0,W),Z=s$(q,Q)}if(Q==="")Q=J.placeholder;$.textLine=Q,$.isTruncated=!0}function o$1($,Q,J){var K=0,Y=0;for(var q=$.length;Y<q&&K<Q;Y++)K+=zd(J,$.charCodeAt(Y));return Y}function aV0($,Q,J,K){var Y=fd($),q=Q.overflow,Z=Q.padding,X=Z?Z[1]+Z[3]:0,W=Z?Z[0]+Z[2]:0,F=Q.font,H=q==="truncate",B=HW(F),z=f0(Q.lineHeight,B),A=Q.lineOverflow==="truncate",R=!1,G=Q.width;if(G==null&&J!=null)G=J-X;var w=Q.height;if(w==null&&K!=null)w=K-W;var T;if(G!=null&&(q==="break"||q==="breakAll"))T=Y?eV0(Y,Q.font,G,q==="breakAll",0).lines:[];else T=Y?Y.split(`
`):[];var D=T.length*z;if(w==null)w=D;if(D>w&&A){var P=Math.floor(w/z);R=R||T.length>P,T=T.slice(0,P),D=T.length*z}if(Y&&H&&G!=null){var j=sV0(G,F,Q.ellipsis,{minChar:Q.truncateMinChar,placeholder:Q.placeholder}),E={};for(var L=0;L<T.length;L++)oV0(E,T[L],j),T[L]=E.textLine,R=R||E.isTruncated}var h=w,_=0,S=i$(F);for(var L=0;L<T.length;L++)_=Math.max(s$(S,T[L]),_);if(G==null)G=_;var I=G;return h+=W,I+=X,{lines:T,height:w,outerWidth:I,outerHeight:h,lineHeight:z,calculatedLineHeight:B,contentWidth:_,contentHeight:D,width:G,isTruncated:R}}var a$1=function(){function $(){}return $}(),lV0=function(){function $(Q){if(this.tokens=[],Q)this.tokens=Q}return $}(),t$1=function(){function $(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return $}();function tV0($,Q,J,K,Y){var q=new t$1,Z=fd($);if(!Z)return q;var X=Q.padding,W=X?X[1]+X[3]:0,F=X?X[0]+X[2]:0,H=Q.width;if(H==null&&J!=null)H=J-W;var B=Q.height;if(B==null&&K!=null)B=K-F;var z=Q.overflow,A=(z==="break"||z==="breakAll")&&H!=null?{width:H,accumWidth:0,breakAll:z==="breakAll"}:null,R=vd.lastIndex=0,G;while((G=vd.exec(Z))!=null){var w=G.index;if(w>R)Sd(q,Z.substring(R,w),Q,A);Sd(q,G[2],Q,A,G[1]),R=vd.lastIndex}if(R<Z.length)Sd(q,Z.substring(R,Z.length),Q,A);var T=[],D=0,P=0,j=z==="truncate",E=Q.lineOverflow==="truncate",L={};function h(W1,h1,X1){W1.width=h1,W1.lineHeight=X1,D+=X1,P=Math.max(P,h1)}$:for(var _=0;_<q.lines.length;_++){var S=q.lines[_],I=0,M=0;for(var y=0;y<S.tokens.length;y++){var b=S.tokens[y],u=b.styleName&&Q.rich[b.styleName]||{},c=b.textPadding=u.padding,m=c?c[1]+c[3]:0,i=b.font=u.font||Q.font;b.contentHeight=HW(i);var o=f0(u.height,b.contentHeight);if(b.innerHeight=o,c&&(o+=c[0]+c[2]),b.height=o,b.lineHeight=B6(u.lineHeight,Q.lineHeight,o),b.align=u&&u.align||Y,b.verticalAlign=u&&u.verticalAlign||"middle",E&&B!=null&&D+b.lineHeight>B){var n=q.lines.length;if(y>0)S.tokens=S.tokens.slice(0,y),h(S,M,I),q.lines=q.lines.slice(0,_+1);else q.lines=q.lines.slice(0,_);q.isTruncated=q.isTruncated||q.lines.length<n;break $}var e=u.width,Z0=e==null||e==="auto";if(typeof e==="string"&&e.charAt(e.length-1)==="%")b.percentWidth=e,T.push(b),b.contentWidth=s$(i$(i),b.text);else{if(Z0){var q0=u.backgroundColor,k0=q0&&q0.image;if(k0){if(k0=nV0(k0),RN(k0))b.width=Math.max(b.width,k0.width*o/k0.height)}}var c0=j&&H!=null?H-M:null;if(c0!=null&&c0<b.width)if(!Z0||c0<m)b.text="",b.width=b.contentWidth=0;else s$1(L,b.text,c0-m,i,Q.ellipsis,{minChar:Q.truncateMinChar}),b.text=L.text,q.isTruncated=q.isTruncated||L.isTruncated,b.width=b.contentWidth=s$(i$(i),b.text);else b.contentWidth=s$(i$(i),b.text)}b.width+=m,M+=b.width,u&&(I=Math.max(I,b.lineHeight))}h(S,M,I)}q.outerWidth=q.width=f0(H,P),q.outerHeight=q.height=f0(B,D),q.contentHeight=D,q.contentWidth=P,q.outerWidth+=W,q.outerHeight+=F;for(var _=0;_<T.length;_++){var b=T[_],J1=b.percentWidth;b.width=parseInt(J1,10)/100*q.width}return q}function Sd($,Q,J,K,Y){var q=Q==="",Z=Y&&J.rich[Y]||{},X=$.lines,W=Z.font||J.font,F=!1,H,B;if(K){var z=Z.padding,A=z?z[1]+z[3]:0;if(Z.width!=null&&Z.width!=="auto"){var R=C8(Z.width,K.width)+A;if(X.length>0){if(R+K.accumWidth>K.width)H=Q.split(`
`),F=!0}K.accumWidth=R}else{var G=eV0(Q,W,K.width,K.breakAll,K.accumWidth);K.accumWidth=G.accumWidth+A,B=G.linesWidths,H=G.lines}}if(!H)H=Q.split(`
`);var w=i$(W);for(var T=0;T<H.length;T++){var D=H[T],P=new a$1;if(P.styleName=Y,P.text=D,P.isLineHolder=!D&&!q,typeof Z.width==="number")P.width=Z.width;else P.width=B?B[T]:s$(w,D);if(!T&&!F){var j=(X[X.length-1]||(X[0]=new lV0)).tokens,E=j.length;E===1&&j[0].isLineHolder?j[0]=P:(D||!E||q)&&j.push(P)}else X.push(new lV0([P]))}}function e$1($){var Q=$.charCodeAt(0);return Q>=32&&Q<=591||Q>=880&&Q<=4351||Q>=4608&&Q<=5119||Q>=7680&&Q<=8303}var $Q1=O8(",&?/;] ".split(""),function($,Q){return $[Q]=!0,$},{});function QQ1($){if(e$1($)){if($Q1[$])return!0;return!1}return!0}function eV0($,Q,J,K,Y){var q=[],Z=[],X="",W="",F=0,H=0,B=i$(Q);for(var z=0;z<$.length;z++){var A=$.charAt(z);if(A===`
`){if(W)X+=W,H+=F;q.push(X),Z.push(H),X="",W="",F=0,H=0;continue}var R=zd(B,A.charCodeAt(0)),G=K?!1:!QQ1(A);if(!q.length?Y+H+R>J:H+R>J){if(!H)if(G)q.push(W),Z.push(F),W=A,F=R;else q.push(A),Z.push(R);else if(X||W)if(G){if(!X)X=W,W="",F=0,H=F;q.push(X),Z.push(H-F),W+=A,F+=R,X="",H=F}else{if(W)X+=W,W="",F=0;q.push(X),Z.push(H),X=A,H=R}continue}if(H+=R,G)W+=A,F+=R;else{if(W)X+=W,W="",F=0;X+=A}}if(W)X+=W;if(X)q.push(X),Z.push(H);if(q.length===1)H+=Y;return{accumWidth:H,lines:q,linesWidths:Z}}function _d($,Q,J,K,Y,q){if($.baseX=J,$.baseY=K,$.outerWidth=$.outerHeight=null,!Q)return;var Z=Q.width*2,X=Q.height*2;u0.set(rV0,OZ(J,Z,Y),YY(K,X,q),Z,X),u0.intersect(Q,rV0,null,iV0);var W=iV0.outIntersectRect;$.outerWidth=W.width,$.outerHeight=W.height,$.baseX=OZ(W.x,W.width,Y,!0),$.baseY=YY(W.y,W.height,q,!0)}var rV0=new u0(0,0,0,0),iV0={outIntersectRect:{},clamp:!0};function fd($){return $!=null?$+="":$=""}function $R0($){var Q=fd($.text),J=$.font,K=s$(i$(J),Q),Y=HW(J);return gE($,K,Y,null)}function gE($,Q,J,K){var Y=new u0(OZ($.x||0,Q,$.textAlign),YY($.y||0,J,$.textBaseline),Q,J),q=K!=null?K:Id($)?$.lineWidth:0;if(q>0)Y.x-=q/2,Y.y-=q/2,Y.width+=q,Y.height+=q;return Y}function Id($){var Q=$.stroke;return Q!=null&&Q!=="none"&&$.lineWidth>0}var gd="__zr_style_"+Math.round(Math.random()*10),EJ={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},AW={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};EJ[gd]=!0;var QR0=["z","z2","invisible"],JQ1=["invisible"],KQ1=function($){x(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype._init=function(J){var K=Z1(J);for(var Y=0;Y<K.length;Y++){var q=K[Y];if(q==="style")this.useStyle(J[q]);else $.prototype.attrKV.call(this,q,J[q])}if(!this.style)this.useStyle({})},Q.prototype.beforeBrush=function(){},Q.prototype.afterBrush=function(){},Q.prototype.innerBeforeBrush=function(){},Q.prototype.innerAfterBrush=function(){},Q.prototype.shouldBePainted=function(J,K,Y,q){var Z=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&YQ1(this,J,K)||Z&&!Z[0]&&!Z[3])return!1;if(Y&&this.__clipPaths&&this.__clipPaths.length){for(var X=0;X<this.__clipPaths.length;++X)if(this.__clipPaths[X].isZeroArea())return!1}if(q&&this.parent){var W=this.parent;while(W){if(W.ignore)return!1;W=W.parent}}return!0},Q.prototype.contain=function(J,K){return this.rectContain(J,K)},Q.prototype.traverse=function(J,K){J.call(K,this)},Q.prototype.rectContain=function(J,K){var Y=this.transformCoordToLocal(J,K),q=this.getBoundingRect();return q.contain(Y[0],Y[1])},Q.prototype.getPaintRect=function(){var J=this._paintRect;if(!this._paintRect||this.__dirty){var K=this.transform,Y=this.getBoundingRect(),q=this.style,Z=q.shadowBlur||0,X=q.shadowOffsetX||0,W=q.shadowOffsetY||0;if(J=this._paintRect||(this._paintRect=new u0(0,0,0,0)),K)u0.applyTransform(J,Y,K);else J.copy(Y);if(Z||X||W)J.width+=Z*2+Math.abs(X),J.height+=Z*2+Math.abs(W),J.x=Math.min(J.x,J.x+X-Z),J.y=Math.min(J.y,J.y+W-Z);var F=this.dirtyRectTolerance;if(!J.isZero())J.x=Math.floor(J.x-F),J.y=Math.floor(J.y-F),J.width=Math.ceil(J.width+1+F*2),J.height=Math.ceil(J.height+1+F*2)}return J},Q.prototype.setPrevPaintRect=function(J){if(J)this._prevPaintRect=this._prevPaintRect||new u0(0,0,0,0),this._prevPaintRect.copy(J);else this._prevPaintRect=null},Q.prototype.getPrevPaintRect=function(){return this._prevPaintRect},Q.prototype.animateStyle=function(J){return this.animate("style",J)},Q.prototype.updateDuringAnimation=function(J){if(J==="style")this.dirtyStyle();else this.markRedraw()},Q.prototype.attrKV=function(J,K){if(J!=="style")$.prototype.attrKV.call(this,J,K);else if(!this.style)this.useStyle(K);else this.setStyle(K)},Q.prototype.setStyle=function(J,K){if(typeof J==="string")this.style[J]=K;else Q0(this.style,J);return this.dirtyStyle(),this},Q.prototype.dirtyStyle=function(J){if(!J)this.markRedraw();if(this.__dirty|=KW,this._rect)this._rect=null},Q.prototype.dirty=function(){this.dirtyStyle()},Q.prototype.styleChanged=function(){return!!(this.__dirty&KW)},Q.prototype.styleUpdated=function(){this.__dirty&=~KW},Q.prototype.createStyle=function(J){return HZ(EJ,J)},Q.prototype.useStyle=function(J){if(!J[gd])J=this.createStyle(J);if(this.__inHover)this.__hoverStyle=J;else this.style=J;this.dirtyStyle()},Q.prototype.isStyleObject=function(J){return J[gd]},Q.prototype._innerSaveToNormal=function(J){$.prototype._innerSaveToNormal.call(this,J);var K=this._normalState;if(J.style&&!K.style)K.style=this._mergeStyle(this.createStyle(),this.style);this._savePrimaryToNormal(J,K,QR0)},Q.prototype._applyStateObj=function(J,K,Y,q,Z,X){$.prototype._applyStateObj.call(this,J,K,Y,q,Z,X);var W=!(K&&q),F;if(K&&K.style)if(Z)if(q)F=K.style;else F=this._mergeStyle(this.createStyle(),Y.style),this._mergeStyle(F,K.style);else F=this._mergeStyle(this.createStyle(),q?this.style:Y.style),this._mergeStyle(F,K.style);else if(W)F=Y.style;if(F)if(Z){var H=this.style;if(this.style=this.createStyle(W?{}:H),W){var B=Z1(H);for(var z=0;z<B.length;z++){var A=B[z];if(A in F)F[A]=F[A],this.style[A]=H[A]}}var R=Z1(F);for(var z=0;z<R.length;z++){var A=R[z];this.style[A]=this.style[A]}this._transitionState(J,{style:F},X,this.getAnimationStyleProps())}else this.useStyle(F);var G=this.__inHover?JQ1:QR0;for(var z=0;z<G.length;z++){var A=G[z];if(K&&K[A]!=null)this[A]=K[A];else if(W){if(Y[A]!=null)this[A]=Y[A]}}},Q.prototype._mergeStates=function(J){var K=$.prototype._mergeStates.call(this,J),Y;for(var q=0;q<J.length;q++){var Z=J[q];if(Z.style)Y=Y||{},this._mergeStyle(Y,Z.style)}if(Y)K.style=Y;return K},Q.prototype._mergeStyle=function(J,K){return Q0(J,K),J},Q.prototype.getAnimationStyleProps=function(){return AW},Q.initDefaultProps=function(){var J=Q.prototype;J.type="displayable",J.invisible=!1,J.z=0,J.z2=0,J.zlevel=0,J.culling=!1,J.cursor="pointer",J.rectHover=!1,J.incremental=!1,J._rect=null,J.dirtyRectTolerance=0,J.__dirty=_7|KW}(),Q}(kE),Md=new u0(0,0,0,0),bd=new u0(0,0,0,0);function YQ1($,Q,J){if(Md.copy($.getBoundingRect()),$.transform)Md.applyTransform($.transform);return bd.width=Q,bd.height=J,!Md.intersect(bd)}var a6=KQ1;var{min:e4,max:$9,sin:yd,cos:xd}=Math,VW=Math.PI*2,yE=TJ(),xE=TJ(),cE=TJ();function RW($,Q,J){if($.length===0)return;var K=$[0],Y=K[0],q=K[0],Z=K[1],X=K[1];for(var W=1;W<$.length;W++)K=$[W],Y=e4(Y,K[0]),q=$9(q,K[0]),Z=e4(Z,K[1]),X=$9(X,K[1]);Q[0]=Y,Q[1]=Z,J[0]=q,J[1]=X}function cd($,Q,J,K,Y,q){Y[0]=e4($,J),Y[1]=e4(Q,K),q[0]=$9($,J),q[1]=$9(Q,K)}var JR0=[],KR0=[];function YR0($,Q,J,K,Y,q,Z,X,W,F){var H=$E,B=m6,z=H($,J,Y,Z,JR0);W[0]=1/0,W[1]=1/0,F[0]=-1/0,F[1]=-1/0;for(var A=0;A<z;A++){var R=B($,J,Y,Z,JR0[A]);W[0]=e4(R,W[0]),F[0]=$9(R,F[0])}z=H(Q,K,q,X,KR0);for(var A=0;A<z;A++){var G=B(Q,K,q,X,KR0[A]);W[1]=e4(G,W[1]),F[1]=$9(G,F[1])}W[0]=e4($,W[0]),F[0]=$9($,F[0]),W[0]=e4(Z,W[0]),F[0]=$9(Z,F[0]),W[1]=e4(Q,W[1]),F[1]=$9(Q,F[1]),W[1]=e4(X,W[1]),F[1]=$9(X,F[1])}function qR0($,Q,J,K,Y,q,Z,X){var W=JE,F=o6,H=$9(e4(W($,J,Y),1),0),B=$9(e4(W(Q,K,q),1),0),z=F($,J,Y,H),A=F(Q,K,q,B);Z[0]=e4($,Y,z),Z[1]=e4(Q,q,A),X[0]=$9($,Y,z),X[1]=$9(Q,q,A)}function ZR0($,Q,J,K,Y,q,Z,X,W){var F=g9,H=y9,B=Math.abs(Y-q);if(B%VW<0.0001&&B>0.0001){X[0]=$-J,X[1]=Q-K,W[0]=$+J,W[1]=Q+K;return}if(yE[0]=xd(Y)*J+$,yE[1]=yd(Y)*K+Q,xE[0]=xd(q)*J+$,xE[1]=yd(q)*K+Q,F(X,yE,xE),H(W,yE,xE),Y=Y%VW,Y<0)Y=Y+VW;if(q=q%VW,q<0)q=q+VW;if(Y>q&&!Z)q+=VW;else if(Y<q&&Z)Y+=VW;if(Z){var z=q;q=Y,Y=z}for(var A=0;A<q;A+=Math.PI/2)if(A>Y)cE[0]=xd(A)*J+$,cE[1]=yd(A)*K+Q,F(X,cE,X),H(W,cE,W)}var J6={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},GW=[],wW=[],LJ=[],CZ=[],hJ=[],vJ=[],ud=Math.min,md=Math.max,OW=Math.cos,TW=Math.sin,qY=Math.abs,nd=Math.PI,PZ=nd*2,pd=typeof Float32Array<"u",sR=[];function dd($){var Q=Math.round($/nd*1e8)/1e8;return Q%2*nd}function DW($,Q){var J=dd($[0]);if(J<0)J+=PZ;var K=J-$[0],Y=$[1];if(Y+=K,!Q&&Y-J>=PZ)Y=J+PZ;else if(Q&&J-Y>=PZ)Y=J-PZ;else if(!Q&&J>Y)Y=J+(PZ-dd(J-Y));else if(Q&&J<Y)Y=J-(PZ-dd(Y-J));$[0]=J,$[1]=Y}var qQ1=function(){function $(Q){if(this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,Q)this._saveData=!1;if(this._saveData)this.data=[]}return $.prototype.increaseVersion=function(){this._version++},$.prototype.getVersion=function(){return this._version},$.prototype.setScale=function(Q,J,K){if(K=K||0,K>0)this._ux=qY(K/WW/Q)||0,this._uy=qY(K/WW/J)||0},$.prototype.setDPR=function(Q){this.dpr=Q},$.prototype.setContext=function(Q){this._ctx=Q},$.prototype.getContext=function(){return this._ctx},$.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},$.prototype.reset=function(){if(this._saveData)this._len=0;if(this._pathSegLen)this._pathSegLen=null,this._pathLen=0;this._version++},$.prototype.moveTo=function(Q,J){return this._drawPendingPt(),this.addData(J6.M,Q,J),this._ctx&&this._ctx.moveTo(Q,J),this._x0=Q,this._y0=J,this._xi=Q,this._yi=J,this},$.prototype.lineTo=function(Q,J){var K=qY(Q-this._xi),Y=qY(J-this._yi),q=K>this._ux||Y>this._uy;if(this.addData(J6.L,Q,J),this._ctx&&q)this._ctx.lineTo(Q,J);if(q)this._xi=Q,this._yi=J,this._pendingPtDist=0;else{var Z=K*K+Y*Y;if(Z>this._pendingPtDist)this._pendingPtX=Q,this._pendingPtY=J,this._pendingPtDist=Z}return this},$.prototype.bezierCurveTo=function(Q,J,K,Y,q,Z){if(this._drawPendingPt(),this.addData(J6.C,Q,J,K,Y,q,Z),this._ctx)this._ctx.bezierCurveTo(Q,J,K,Y,q,Z);return this._xi=q,this._yi=Z,this},$.prototype.quadraticCurveTo=function(Q,J,K,Y){if(this._drawPendingPt(),this.addData(J6.Q,Q,J,K,Y),this._ctx)this._ctx.quadraticCurveTo(Q,J,K,Y);return this._xi=K,this._yi=Y,this},$.prototype.arc=function(Q,J,K,Y,q,Z){this._drawPendingPt(),sR[0]=Y,sR[1]=q,DW(sR,Z),Y=sR[0],q=sR[1];var X=q-Y;return this.addData(J6.A,Q,J,K,K,Y,X,0,Z?0:1),this._ctx&&this._ctx.arc(Q,J,K,Y,q,Z),this._xi=OW(q)*K+Q,this._yi=TW(q)*K+J,this},$.prototype.arcTo=function(Q,J,K,Y,q){if(this._drawPendingPt(),this._ctx)this._ctx.arcTo(Q,J,K,Y,q);return this},$.prototype.rect=function(Q,J,K,Y){return this._drawPendingPt(),this._ctx&&this._ctx.rect(Q,J,K,Y),this.addData(J6.R,Q,J,K,Y),this},$.prototype.closePath=function(){this._drawPendingPt(),this.addData(J6.Z);var Q=this._ctx,J=this._x0,K=this._y0;if(Q)Q.closePath();return this._xi=J,this._yi=K,this},$.prototype.fill=function(Q){Q&&Q.fill(),this.toStatic()},$.prototype.stroke=function(Q){Q&&Q.stroke(),this.toStatic()},$.prototype.len=function(){return this._len},$.prototype.setData=function(Q){if(!this._saveData)return;var J=Q.length;if(!(this.data&&this.data.length===J)&&pd)this.data=new Float32Array(J);for(var K=0;K<J;K++)this.data[K]=Q[K];this._len=J},$.prototype.appendPath=function(Q){if(!this._saveData)return;if(!(Q instanceof Array))Q=[Q];var J=Q.length,K=0,Y=this._len;for(var q=0;q<J;q++)K+=Q[q].len();var Z=this.data;if(pd&&(Z instanceof Float32Array||!Z)){if(this.data=new Float32Array(Y+K),Y>0&&Z)for(var X=0;X<Y;X++)this.data[X]=Z[X]}for(var q=0;q<J;q++){var W=Q[q].data;for(var X=0;X<W.length;X++)this.data[Y++]=W[X]}this._len=Y},$.prototype.addData=function(Q,J,K,Y,q,Z,X,W,F){if(!this._saveData)return;var H=this.data;if(this._len+arguments.length>H.length)this._expandData(),H=this.data;for(var B=0;B<arguments.length;B++)H[this._len++]=arguments[B]},$.prototype._drawPendingPt=function(){if(this._pendingPtDist>0)this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0},$.prototype._expandData=function(){if(!(this.data instanceof Array)){var Q=[];for(var J=0;J<this._len;J++)Q[J]=this.data[J];this.data=Q}},$.prototype.toStatic=function(){if(!this._saveData)return;this._drawPendingPt();var Q=this.data;if(Q instanceof Array){if(Q.length=this._len,pd&&this._len>11)this.data=new Float32Array(Q)}},$.prototype.getBoundingRect=function(){LJ[0]=LJ[1]=hJ[0]=hJ[1]=Number.MAX_VALUE,CZ[0]=CZ[1]=vJ[0]=vJ[1]=-Number.MAX_VALUE;var Q=this.data,J=0,K=0,Y=0,q=0,Z;for(Z=0;Z<this._len;){var X=Q[Z++],W=Z===1;if(W)J=Q[Z],K=Q[Z+1],Y=J,q=K;switch(X){case J6.M:J=Y=Q[Z++],K=q=Q[Z++],hJ[0]=Y,hJ[1]=q,vJ[0]=Y,vJ[1]=q;break;case J6.L:cd(J,K,Q[Z],Q[Z+1],hJ,vJ),J=Q[Z++],K=Q[Z++];break;case J6.C:YR0(J,K,Q[Z++],Q[Z++],Q[Z++],Q[Z++],Q[Z],Q[Z+1],hJ,vJ),J=Q[Z++],K=Q[Z++];break;case J6.Q:qR0(J,K,Q[Z++],Q[Z++],Q[Z],Q[Z+1],hJ,vJ),J=Q[Z++],K=Q[Z++];break;case J6.A:var F=Q[Z++],H=Q[Z++],B=Q[Z++],z=Q[Z++],A=Q[Z++],R=Q[Z++]+A;Z+=1;var G=!Q[Z++];if(W)Y=OW(A)*B+F,q=TW(A)*z+H;ZR0(F,H,B,z,A,R,G,hJ,vJ),J=OW(R)*B+F,K=TW(R)*z+H;break;case J6.R:Y=J=Q[Z++],q=K=Q[Z++];var w=Q[Z++],T=Q[Z++];cd(Y,q,Y+w,q+T,hJ,vJ);break;case J6.Z:J=Y,K=q;break}g9(LJ,LJ,hJ),y9(CZ,CZ,vJ)}if(Z===0)LJ[0]=LJ[1]=CZ[0]=CZ[1]=0;return new u0(LJ[0],LJ[1],CZ[0]-LJ[0],CZ[1]-LJ[1])},$.prototype._calculateLength=function(){var Q=this.data,J=this._len,K=this._ux,Y=this._uy,q=0,Z=0,X=0,W=0;if(!this._pathSegLen)this._pathSegLen=[];var F=this._pathSegLen,H=0,B=0;for(var z=0;z<J;){var A=Q[z++],R=z===1;if(R)q=Q[z],Z=Q[z+1],X=q,W=Z;var G=-1;switch(A){case J6.M:q=X=Q[z++],Z=W=Q[z++];break;case J6.L:{var w=Q[z++],T=Q[z++],D=w-q,P=T-Z;if(qY(D)>K||qY(P)>Y||z===J-1)G=Math.sqrt(D*D+P*P),q=w,Z=T;break}case J6.C:{var j=Q[z++],E=Q[z++],w=Q[z++],T=Q[z++],L=Q[z++],h=Q[z++];G=bA0(q,Z,j,E,w,T,L,h,10),q=L,Z=h;break}case J6.Q:{var j=Q[z++],E=Q[z++],w=Q[z++],T=Q[z++];G=yA0(q,Z,j,E,w,T,10),q=w,Z=T;break}case J6.A:var _=Q[z++],S=Q[z++],I=Q[z++],M=Q[z++],y=Q[z++],b=Q[z++],u=b+y;if(z+=1,R)X=OW(y)*I+_,W=TW(y)*M+S;G=md(I,M)*ud(PZ,Math.abs(b)),q=OW(u)*I+_,Z=TW(u)*M+S;break;case J6.R:{X=q=Q[z++],W=Z=Q[z++];var c=Q[z++],m=Q[z++];G=c*2+m*2;break}case J6.Z:{var D=X-q,P=W-Z;G=Math.sqrt(D*D+P*P),q=X,Z=W;break}}if(G>=0)F[B++]=G,H+=G}return this._pathLen=H,H},$.prototype.rebuildPath=function(Q,J){var K=this.data,Y=this._ux,q=this._uy,Z=this._len,X,W,F,H,B,z,A=J<1,R,G,w=0,T=0,D,P=0,j,E;if(A){if(!this._pathSegLen)this._calculateLength();if(R=this._pathSegLen,G=this._pathLen,D=J*G,!D)return}$:for(var L=0;L<Z;){var h=K[L++],_=L===1;if(_)F=K[L],H=K[L+1],X=F,W=H;if(h!==J6.L&&P>0)Q.lineTo(j,E),P=0;switch(h){case J6.M:X=F=K[L++],W=H=K[L++],Q.moveTo(F,H);break;case J6.L:{B=K[L++],z=K[L++];var S=qY(B-F),I=qY(z-H);if(S>Y||I>q){if(A){var M=R[T++];if(w+M>D){var y=(D-w)/M;Q.lineTo(F*(1-y)+B*y,H*(1-y)+z*y);break $}w+=M}Q.lineTo(B,z),F=B,H=z,P=0}else{var b=S*S+I*I;if(b>P)j=B,E=z,P=b}break}case J6.C:{var u=K[L++],c=K[L++],m=K[L++],i=K[L++],o=K[L++],n=K[L++];if(A){var M=R[T++];if(w+M>D){var y=(D-w)/M;m3(F,u,m,o,y,GW),m3(H,c,i,n,y,wW),Q.bezierCurveTo(GW[1],wW[1],GW[2],wW[2],GW[3],wW[3]);break $}w+=M}Q.bezierCurveTo(u,c,m,i,o,n),F=o,H=n;break}case J6.Q:{var u=K[L++],c=K[L++],m=K[L++],i=K[L++];if(A){var M=R[T++];if(w+M>D){var y=(D-w)/M;VZ(F,u,m,y,GW),VZ(H,c,i,y,wW),Q.quadraticCurveTo(GW[1],wW[1],GW[2],wW[2]);break $}w+=M}Q.quadraticCurveTo(u,c,m,i),F=m,H=i;break}case J6.A:var e=K[L++],Z0=K[L++],q0=K[L++],k0=K[L++],c0=K[L++],J1=K[L++],W1=K[L++],h1=!K[L++],X1=q0>k0?q0:k0,r0=qY(q0-k0)>0.001,G1=c0+J1,l0=!1;if(A){var M=R[T++];if(w+M>D)G1=c0+J1*(D-w)/M,l0=!0;w+=M}if(r0&&Q.ellipse)Q.ellipse(e,Z0,q0,k0,W1,c0,G1,h1);else Q.arc(e,Z0,X1,c0,G1,h1);if(l0)break $;if(_)X=OW(c0)*q0+e,W=TW(c0)*k0+Z0;F=OW(G1)*q0+e,H=TW(G1)*k0+Z0;break;case J6.R:X=F=K[L],W=H=K[L+1],B=K[L++],z=K[L++];var z1=K[L++],X5=K[L++];if(A){var M=R[T++];if(w+M>D){var v1=D-w;if(Q.moveTo(B,z),Q.lineTo(B+ud(v1,z1),z),v1-=z1,v1>0)Q.lineTo(B+z1,z+ud(v1,X5));if(v1-=X5,v1>0)Q.lineTo(B+md(z1-v1,0),z+X5);if(v1-=z1,v1>0)Q.lineTo(B,z+md(X5-v1,0));break $}w+=M}Q.rect(B,z,z1,X5);break;case J6.Z:if(A){var M=R[T++];if(w+M>D){var y=(D-w)/M;Q.lineTo(F*(1-y)+X*y,H*(1-y)+W*y);break $}w+=M}Q.closePath(),F=X,H=W}}},$.prototype.clone=function(){var Q=new $,J=this.data;return Q.data=J.slice?J.slice():Array.prototype.slice.call(J),Q._len=this._len,Q},$.prototype.canSave=function(){return!!this._saveData},$.CMD=J6,$.initDefaultProps=function(){var Q=$.prototype;Q._saveData=!0,Q._ux=0,Q._uy=0,Q._pendingPtDist=0,Q._version=0}(),$}(),n7=qQ1;function SJ($,Q,J,K,Y,q,Z){if(Y===0)return!1;var X=Y,W=0,F=$;if(Z>Q+X&&Z>K+X||Z<Q-X&&Z<K-X||q>$+X&&q>J+X||q<$-X&&q<J-X)return!1;if($!==J)W=(Q-K)/($-J),F=($*K-J*Q)/($-J);else return Math.abs(q-$)<=X/2;var H=W*q-Z+F,B=H*H/(W*W+1);return B<=X/2*X/2}function FR0($,Q,J,K,Y,q,Z,X,W,F,H){if(W===0)return!1;var B=W;if(H>Q+B&&H>K+B&&H>q+B&&H>X+B||H<Q-B&&H<K-B&&H<q-B&&H<X-B||F>$+B&&F>J+B&&F>Y+B&&F>Z+B||F<$-B&&F<J-B&&F<Y-B&&F<Z-B)return!1;var z=QE($,Q,J,K,Y,q,Z,X,F,H,null);return z<=B/2}function uE($,Q,J,K,Y,q,Z,X,W){if(Z===0)return!1;var F=Z;if(W>Q+F&&W>K+F&&W>q+F||W<Q-F&&W<K-F&&W<q-F||X>$+F&&X>J+F&&X>Y+F||X<$-F&&X<J-F&&X<Y-F)return!1;var H=KE($,Q,J,K,Y,q,X,W,null);return H<=F/2}var HR0=Math.PI*2;function P8($){if($%=HR0,$<0)$+=HR0;return $}var oR=Math.PI*2;function NR0($,Q,J,K,Y,q,Z,X,W){if(Z===0)return!1;var F=Z;X-=$,W-=Q;var H=Math.sqrt(X*X+W*W);if(H-F>J||H+F<J)return!1;if(Math.abs(K-Y)%oR<0.0001)return!0;if(q){var B=K;K=P8(Y),Y=P8(B)}else K=P8(K),Y=P8(Y);if(K>Y)Y+=oR;var z=Math.atan2(W,X);if(z<0)z+=oR;return z>=K&&z<=Y||z+oR>=K&&z+oR<=Y}function i3($,Q,J,K,Y,q){if(q>Q&&q>K||q<Q&&q<K)return 0;if(K===Q)return 0;var Z=(q-Q)/(K-Q),X=K<Q?1:-1;if(Z===1||Z===0)X=K<Q?0.5:-0.5;var W=Z*(J-$)+$;return W===Y?1/0:W>Y?X:0}var kZ=n7.CMD,CW=Math.PI*2,WQ1=0.0001;function FQ1($,Q){return Math.abs($-Q)<WQ1}var A4=[-1,-1,-1],s3=[-1,-1];function UQ1(){var $=s3[0];s3[0]=s3[1],s3[1]=$}function HQ1($,Q,J,K,Y,q,Z,X,W,F){if(F>Q&&F>K&&F>q&&F>X||F<Q&&F<K&&F<q&&F<X)return 0;var H=YW(Q,K,q,X,F,A4);if(H===0)return 0;else{var B=0,z=-1,A=void 0,R=void 0;for(var G=0;G<H;G++){var w=A4[G],T=w===0||w===1?0.5:1,D=m6($,J,Y,Z,w);if(D<W)continue;if(z<0){if(z=$E(Q,K,q,X,s3),s3[1]<s3[0]&&z>1)UQ1();if(A=m6(Q,K,q,X,s3[0]),z>1)R=m6(Q,K,q,X,s3[1])}if(z===2)if(w<s3[0])B+=A<Q?T:-T;else if(w<s3[1])B+=R<A?T:-T;else B+=X<R?T:-T;else if(w<s3[0])B+=A<Q?T:-T;else B+=X<A?T:-T}return B}}function NQ1($,Q,J,K,Y,q,Z,X){if(X>Q&&X>K&&X>q||X<Q&&X<K&&X<q)return 0;var W=gA0(Q,K,q,X,A4);if(W===0)return 0;else{var F=JE(Q,K,q);if(F>=0&&F<=1){var H=0,B=o6(Q,K,q,F);for(var z=0;z<W;z++){var A=A4[z]===0||A4[z]===1?0.5:1,R=o6($,J,Y,A4[z]);if(R<Z)continue;if(A4[z]<F)H+=B<Q?A:-A;else H+=q<B?A:-A}return H}else{var A=A4[0]===0||A4[0]===1?0.5:1,R=o6($,J,Y,A4[0]);if(R<Z)return 0;return q<Q?A:-A}}}function BQ1($,Q,J,K,Y,q,Z,X){if(X-=Q,X>J||X<-J)return 0;var W=Math.sqrt(J*J-X*X);A4[0]=-W,A4[1]=W;var F=Math.abs(K-Y);if(F<0.0001)return 0;if(F>=CW-0.0001){K=0,Y=CW;var H=q?1:-1;if(Z>=A4[0]+$&&Z<=A4[1]+$)return H;else return 0}if(K>Y){var B=K;K=Y,Y=B}if(K<0)K+=CW,Y+=CW;var z=0;for(var A=0;A<2;A++){var R=A4[A];if(R+$>Z){var G=Math.atan2(X,R),H=q?1:-1;if(G<0)G=CW+G;if(G>=K&&G<=Y||G+CW>=K&&G+CW<=Y){if(G>Math.PI/2&&G<Math.PI*1.5)H=-H;z+=H}}}return z}function BR0($,Q,J,K,Y){var q=$.data,Z=$.len(),X=0,W=0,F=0,H=0,B=0,z,A;for(var R=0;R<Z;){var G=q[R++],w=R===1;if(G===kZ.M&&R>1){if(!J)X+=i3(W,F,H,B,K,Y)}if(w)W=q[R],F=q[R+1],H=W,B=F;switch(G){case kZ.M:H=q[R++],B=q[R++],W=H,F=B;break;case kZ.L:if(J){if(SJ(W,F,q[R],q[R+1],Q,K,Y))return!0}else X+=i3(W,F,q[R],q[R+1],K,Y)||0;W=q[R++],F=q[R++];break;case kZ.C:if(J){if(FR0(W,F,q[R++],q[R++],q[R++],q[R++],q[R],q[R+1],Q,K,Y))return!0}else X+=HQ1(W,F,q[R++],q[R++],q[R++],q[R++],q[R],q[R+1],K,Y)||0;W=q[R++],F=q[R++];break;case kZ.Q:if(J){if(uE(W,F,q[R++],q[R++],q[R],q[R+1],Q,K,Y))return!0}else X+=NQ1(W,F,q[R++],q[R++],q[R],q[R+1],K,Y)||0;W=q[R++],F=q[R++];break;case kZ.A:var T=q[R++],D=q[R++],P=q[R++],j=q[R++],E=q[R++],L=q[R++];R+=1;var h=!!(1-q[R++]);if(z=Math.cos(E)*P+T,A=Math.sin(E)*j+D,!w)X+=i3(W,F,z,A,K,Y);else H=z,B=A;var _=(K-T)*j/P+T;if(J){if(NR0(T,D,j,E,E+L,h,Q,_,Y))return!0}else X+=BQ1(T,D,j,E,E+L,h,_,Y);W=Math.cos(E+L)*P+T,F=Math.sin(E+L)*j+D;break;case kZ.R:H=W=q[R++],B=F=q[R++];var S=q[R++],I=q[R++];if(z=H+S,A=B+I,J){if(SJ(H,B,z,B,Q,K,Y)||SJ(z,B,z,A,Q,K,Y)||SJ(z,A,H,A,Q,K,Y)||SJ(H,A,H,B,Q,K,Y))return!0}else X+=i3(z,B,z,A,K,Y),X+=i3(H,A,H,B,K,Y);break;case kZ.Z:if(J){if(SJ(W,F,H,B,Q,K,Y))return!0}else X+=i3(W,F,H,B,K,Y);W=H,F=B;break}}if(!J&&!FQ1(F,B))X+=i3(W,F,H,B,K,Y)||0;return X!==0}function zR0($,Q,J){return BR0($,0,!1,Q,J)}function AR0($,Q,J,K){return BR0($,Q,!0,J,K)}var GN=b0({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},EJ),AQ1={style:b0({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},AW.style)},ld=c9.concat(["invisible","culling","z","z2","zlevel","parent"]),VQ1=function($){x(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.update=function(){var J=this;$.prototype.update.call(this);var K=this.style;if(K.decal){var Y=this._decalEl=this._decalEl||new Q;if(Y.buildPath===Q.prototype.buildPath)Y.buildPath=function(W){J.buildPath(W,J.shape)};Y.silent=!0;var q=Y.style;for(var Z in K)if(q[Z]!==K[Z])q[Z]=K[Z];q.fill=K.fill?K.decal:null,q.decal=null,q.shadowColor=null,K.strokeFirst&&(q.stroke=null);for(var X=0;X<ld.length;++X)Y[ld[X]]=this[ld[X]];Y.__dirty|=_7}else if(this._decalEl)this._decalEl=null},Q.prototype.getDecalElement=function(){return this._decalEl},Q.prototype._init=function(J){var K=Z1(J);this.shape=this.getDefaultShape();var Y=this.getDefaultStyle();if(Y)this.useStyle(Y);for(var q=0;q<K.length;q++){var Z=K[q],X=J[Z];if(Z==="style")if(!this.style)this.useStyle(X);else Q0(this.style,X);else if(Z==="shape")Q0(this.shape,X);else $.prototype.attrKV.call(this,Z,X)}if(!this.style)this.useStyle({})},Q.prototype.getDefaultStyle=function(){return null},Q.prototype.getDefaultShape=function(){return{}},Q.prototype.canBeInsideText=function(){return this.hasFill()},Q.prototype.getInsideTextFill=function(){var J=this.style.fill;if(J!=="none"){if(B0(J)){var K=FN(J,0);if(K>0.5)return uR;else if(K>0.2)return FV0;return mR}else if(J)return mR}return uR},Q.prototype.getInsideTextStroke=function(J){var K=this.style.fill;if(B0(K)){var Y=this.__zr,q=!!(Y&&Y.isDarkMode()),Z=FN(J,0)<cR;if(q===Z)return K}},Q.prototype.buildPath=function(J,K,Y){},Q.prototype.pathUpdated=function(){this.__dirty&=~BZ},Q.prototype.getUpdatedPathProxy=function(J){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,J),this.path},Q.prototype.createPathProxy=function(){this.path=new n7(!1)},Q.prototype.hasStroke=function(){var J=this.style,K=J.stroke;return!(K==null||K==="none"||!(J.lineWidth>0))},Q.prototype.hasFill=function(){var J=this.style,K=J.fill;return K!=null&&K!=="none"},Q.prototype.getBoundingRect=function(){var J=this._rect,K=this.style,Y=!J;if(Y){var q=!1;if(!this.path)q=!0,this.createPathProxy();var Z=this.path;if(q||this.__dirty&BZ)Z.beginPath(),this.buildPath(Z,this.shape,!1),this.pathUpdated();J=Z.getBoundingRect()}if(this._rect=J,this.hasStroke()&&this.path&&this.path.len()>0){var X=this._rectStroke||(this._rectStroke=J.clone());if(this.__dirty||Y){X.copy(J);var W=K.strokeNoScale?this.getLineScale():1,F=K.lineWidth;if(!this.hasFill()){var H=this.strokeContainThreshold;F=Math.max(F,H==null?4:H)}if(W>0.0000000001)X.width+=F/W,X.height+=F/W,X.x-=F/W/2,X.y-=F/W/2}return X}return J},Q.prototype.contain=function(J,K){var Y=this.transformCoordToLocal(J,K),q=this.getBoundingRect(),Z=this.style;if(J=Y[0],K=Y[1],q.contain(J,K)){var X=this.path;if(this.hasStroke()){var W=Z.lineWidth,F=Z.strokeNoScale?this.getLineScale():1;if(F>0.0000000001){if(!this.hasFill())W=Math.max(W,this.strokeContainThreshold);if(AR0(X,W/F,J,K))return!0}}if(this.hasFill())return zR0(X,J,K)}return!1},Q.prototype.dirtyShape=function(){if(this.__dirty|=BZ,this._rect)this._rect=null;if(this._decalEl)this._decalEl.dirtyShape();this.markRedraw()},Q.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},Q.prototype.animateShape=function(J){return this.animate("shape",J)},Q.prototype.updateDuringAnimation=function(J){if(J==="style")this.dirtyStyle();else if(J==="shape")this.dirtyShape();else this.markRedraw()},Q.prototype.attrKV=function(J,K){if(J==="shape")this.setShape(K);else $.prototype.attrKV.call(this,J,K)},Q.prototype.setShape=function(J,K){var Y=this.shape;if(!Y)Y=this.shape={};if(typeof J==="string")Y[J]=K;else Q0(Y,J);return this.dirtyShape(),this},Q.prototype.shapeChanged=function(){return!!(this.__dirty&BZ)},Q.prototype.createStyle=function(J){return HZ(GN,J)},Q.prototype._innerSaveToNormal=function(J){$.prototype._innerSaveToNormal.call(this,J);var K=this._normalState;if(J.shape&&!K.shape)K.shape=Q0({},this.shape)},Q.prototype._applyStateObj=function(J,K,Y,q,Z,X){$.prototype._applyStateObj.call(this,J,K,Y,q,Z,X);var W=!(K&&q),F;if(K&&K.shape)if(Z)if(q)F=K.shape;else F=Q0({},Y.shape),Q0(F,K.shape);else F=Q0({},q?this.shape:Y.shape),Q0(F,K.shape);else if(W)F=Y.shape;if(F)if(Z){this.shape=Q0({},this.shape);var H={},B=Z1(F);for(var z=0;z<B.length;z++){var A=B[z];if(typeof F[A]==="object")this.shape[A]=F[A];else H[A]=F[A]}this._transitionState(J,{shape:H},X)}else this.shape=F,this.dirtyShape()},Q.prototype._mergeStates=function(J){var K=$.prototype._mergeStates.call(this,J),Y;for(var q=0;q<J.length;q++){var Z=J[q];if(Z.shape)Y=Y||{},this._mergeStyle(Y,Z.shape)}if(Y)K.shape=Y;return K},Q.prototype.getAnimationStyleProps=function(){return AQ1},Q.prototype.isZeroArea=function(){return!1},Q.extend=function(J){var K=function(q){x(Z,q);function Z(X){var W=q.call(this,X)||this;return J.init&&J.init.call(W,X),W}return Z.prototype.getDefaultStyle=function(){return y0(J.style)},Z.prototype.getDefaultShape=function(){return y0(J.shape)},Z}(Q);for(var Y in J)if(typeof J[Y]==="function")K.prototype[Y]=J[Y];return K},Q.initDefaultProps=function(){var J=Q.prototype;J.type="path",J.strokeContainThreshold=5,J.segmentIgnoreThreshold=0,J.subPixelOptimize=!1,J.autoBatch=!1,J.__dirty=_7|KW|BZ}(),Q}(a6),t0=VQ1;var RQ1=b0({strokeFirst:!0,font:d4,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},GN),VR0=function($){x(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.hasStroke=function(){return Id(this.style)},Q.prototype.hasFill=function(){var J=this.style,K=J.fill;return K!=null&&K!=="none"},Q.prototype.createStyle=function(J){return HZ(RQ1,J)},Q.prototype.setBoundingRect=function(J){this._rect=J},Q.prototype.getBoundingRect=function(){if(!this._rect)this._rect=$R0(this.style);return this._rect},Q.initDefaultProps=function(){var J=Q.prototype;J.dirtyRectTolerance=10}(),Q}(a6);VR0.prototype.type="tspan";var ZY=VR0;var GQ1=b0({x:0,y:0},EJ),wQ1={style:b0({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},AW.style)};function OQ1($){return!!($&&typeof $!=="string"&&$.width&&$.height)}var RR0=function($){x(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.createStyle=function(J){return HZ(GQ1,J)},Q.prototype._getSize=function(J){var K=this.style,Y=K[J];if(Y!=null)return Y;var q=OQ1(K.image)?K.image:this.__image;if(!q)return 0;var Z=J==="width"?"height":"width",X=K[Z];if(X==null)return q[J];else return q[J]/q[Z]*X},Q.prototype.getWidth=function(){return this._getSize("width")},Q.prototype.getHeight=function(){return this._getSize("height")},Q.prototype.getAnimationStyleProps=function(){return wQ1},Q.prototype.getBoundingRect=function(){var J=this.style;if(!this._rect)this._rect=new u0(J.x||0,J.y||0,this.getWidth(),this.getHeight());return this._rect},Q}(a6);RR0.prototype.type="image";var n5=RR0;function GR0($,Q){var{x:J,y:K,width:Y,height:q,r:Z}=Q,X,W,F,H;if(Y<0)J=J+Y,Y=-Y;if(q<0)K=K+q,q=-q;if(typeof Z==="number")X=W=F=H=Z;else if(Z instanceof Array)if(Z.length===1)X=W=F=H=Z[0];else if(Z.length===2)X=F=Z[0],W=H=Z[1];else if(Z.length===3)X=Z[0],W=H=Z[1],F=Z[2];else X=Z[0],W=Z[1],F=Z[2],H=Z[3];else X=W=F=H=0;var B;if(X+W>Y)B=X+W,X*=Y/B,W*=Y/B;if(F+H>Y)B=F+H,F*=Y/B,H*=Y/B;if(W+F>q)B=W+F,W*=q/B,F*=q/B;if(X+H>q)B=X+H,X*=q/B,H*=q/B;$.moveTo(J+X,K),$.lineTo(J+Y-W,K),W!==0&&$.arc(J+Y-W,K+W,W,-Math.PI/2,0),$.lineTo(J+Y,K+q-F),F!==0&&$.arc(J+Y-F,K+q-F,F,0,Math.PI/2),$.lineTo(J+H,K+q),H!==0&&$.arc(J+H,K+q-H,H,Math.PI/2,Math.PI),$.lineTo(J,K+X),X!==0&&$.arc(J+X,K+X,X,Math.PI,Math.PI*1.5)}var wN=Math.round;function PW($,Q,J){if(!Q)return;var{x1:K,x2:Y,y1:q,y2:Z}=Q;$.x1=K,$.x2=Y,$.y1=q,$.y2=Z;var X=J&&J.lineWidth;if(!X)return $;if(wN(K*2)===wN(Y*2))$.x1=$.x2=V4(K,X,!0);if(wN(q*2)===wN(Z*2))$.y1=$.y2=V4(q,X,!0);return $}function mE($,Q,J){if(!Q)return;var{x:K,y:Y,width:q,height:Z}=Q;$.x=K,$.y=Y,$.width=q,$.height=Z;var X=J&&J.lineWidth;if(!X)return $;return $.x=V4(K,X,!0),$.y=V4(Y,X,!0),$.width=Math.max(V4(K+q,X,!1)-$.x,q===0?0:1),$.height=Math.max(V4(Y+Z,X,!1)-$.y,Z===0?0:1),$}function V4($,Q,J){if(!Q)return $;var K=wN($*2);return(K+wN(Q))%2===0?K/2:(K+(J?1:-1))/2}var CQ1=function(){function $(){this.x=0,this.y=0,this.width=0,this.height=0}return $}();var PQ1={},wR0=function($){x(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultShape=function(){return new CQ1},Q.prototype.buildPath=function(J,K){var Y,q,Z,X;if(this.subPixelOptimize){var W=mE(PQ1,K,this.style);Y=W.x,q=W.y,Z=W.width,X=W.height,W.r=K.r,K=W}else Y=K.x,q=K.y,Z=K.width,X=K.height;if(!K.r)J.rect(Y,q,Z,X);else GR0(J,K)},Q.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},Q}(t0);wR0.prototype.type="rect";var Q1=wR0;var OR0={fill:"#000"},TR0=2,_J={},kQ1={style:b0({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},AW.style)},hR0=function($){x(Q,$);function Q(J){var K=$.call(this)||this;return K.type="text",K._children=[],K._defaultStyle=OR0,K.attr(J),K}return Q.prototype.childrenRef=function(){return this._children},Q.prototype.update=function(){if($.prototype.update.call(this),this.styleChanged())this._updateSubTexts();for(var J=0;J<this._children.length;J++){var K=this._children[J];K.zlevel=this.zlevel,K.z=this.z,K.z2=this.z2,K.culling=this.culling,K.cursor=this.cursor,K.invisible=this.invisible}},Q.prototype.updateTransform=function(){var J=this.innerTransformable;if(J){if(J.updateTransform(),J.transform)this.transform=J.transform}else $.prototype.updateTransform.call(this)},Q.prototype.getLocalTransform=function(J){var K=this.innerTransformable;return K?K.getLocalTransform(J):$.prototype.getLocalTransform.call(this,J)},Q.prototype.getComputedTransform=function(){if(this.__hostTarget)this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0);return $.prototype.getComputedTransform.call(this)},Q.prototype._updateSubTexts=function(){this._childCursor=0,LQ1(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},Q.prototype.addSelfToZr=function(J){$.prototype.addSelfToZr.call(this,J);for(var K=0;K<this._children.length;K++)this._children[K].__zr=J},Q.prototype.removeSelfFromZr=function(J){$.prototype.removeSelfFromZr.call(this,J);for(var K=0;K<this._children.length;K++)this._children[K].__zr=null},Q.prototype.getBoundingRect=function(){if(this.styleChanged())this._updateSubTexts();if(!this._rect){var J=new u0(0,0,0,0),K=this._children,Y=[],q=null;for(var Z=0;Z<K.length;Z++){var X=K[Z],W=X.getBoundingRect(),F=X.getLocalTransform(Y);if(F)J.copy(W),J.applyTransform(F),q=q||J.clone(),q.union(J);else q=q||W.clone(),q.union(W)}this._rect=q||J}return this._rect},Q.prototype.setDefaultTextStyle=function(J){this._defaultStyle=J||OR0},Q.prototype.setTextContent=function(J){throw Error("Can't attach text on another text")},Q.prototype._mergeStyle=function(J,K){if(!K)return J;var Y=K.rich,q=J.rich||Y&&{};if(Q0(J,K),Y&&q)this._mergeRich(q,Y),J.rich=q;else if(q)J.rich=q;return J},Q.prototype._mergeRich=function(J,K){var Y=Z1(K);for(var q=0;q<Y.length;q++){var Z=Y[q];J[Z]=J[Z]||{},Q0(J[Z],K[Z])}},Q.prototype.getAnimationStyleProps=function(){return kQ1},Q.prototype._getOrCreateChild=function(J){var K=this._children[this._childCursor];if(!K||!(K instanceof J))K=new J;return this._children[this._childCursor++]=K,K.__zr=this.__zr,K.parent=this,K},Q.prototype._updatePlainTexts=function(){var J=this.style,K=J.font||d4,Y=J.padding,q=this._defaultStyle,Z=J.x||0,X=J.y||0,W=J.align||q.align||"left",F=J.verticalAlign||q.verticalAlign||"top";_d(_J,q.overflowRect,Z,X,W,F),Z=_J.baseX,X=_J.baseY;var H=LR0(J),B=aV0(H,J,_J.outerWidth,_J.outerHeight),z=rd(J),A=!!J.backgroundColor,R=B.outerHeight,G=B.outerWidth,w=B.lines,T=B.lineHeight;this.isTruncated=!!B.isTruncated;var D=Z,P=YY(X,B.contentHeight,F);if(z||Y){var j=OZ(Z,G,W),E=YY(X,R,F);z&&this._renderBackground(J,J,j,E,G,R)}if(P+=T/2,Y){if(D=ER0(Z,W,Y),F==="top")P+=Y[0];else if(F==="bottom")P-=Y[2]}var L=0,h=!1,_=!1,S=jR0("fill"in J?J.fill:(_=!0,q.fill)),I=kR0("stroke"in J?J.stroke:!A&&(!q.autoStroke||_)?(L=TR0,h=!0,q.stroke):null),M=J.textShadowBlur>0;for(var y=0;y<w.length;y++){var b=this._getOrCreateChild(ZY),u=b.createStyle();if(b.useStyle(u),u.text=w[y],u.x=D,u.y=P,W)u.textAlign=W;if(u.textBaseline="middle",u.opacity=J.opacity,u.strokeFirst=!0,M)u.shadowBlur=J.textShadowBlur||0,u.shadowColor=J.textShadowColor||"transparent",u.shadowOffsetX=J.textShadowOffsetX||0,u.shadowOffsetY=J.textShadowOffsetY||0;if(u.stroke=I,u.fill=S,I)u.lineWidth=J.lineWidth||L,u.lineDash=J.lineDash,u.lineDashOffset=J.lineDashOffset||0;u.font=K,CR0(u,J),P+=T,b.setBoundingRect(gE(u,B.contentWidth,B.calculatedLineHeight,h?0:null))}},Q.prototype._updateRichTexts=function(){var J=this.style,K=this._defaultStyle,Y=J.align||K.align,q=J.verticalAlign||K.verticalAlign,Z=J.x||0,X=J.y||0;_d(_J,K.overflowRect,Z,X,Y,q),Z=_J.baseX,X=_J.baseY;var W=LR0(J),F=tV0(W,J,_J.outerWidth,_J.outerHeight,Y),H=F.width,B=F.outerWidth,z=F.outerHeight,A=J.padding;this.isTruncated=!!F.isTruncated;var R=OZ(Z,B,Y),G=YY(X,z,q),w=R,T=G;if(A)w+=A[3],T+=A[0];var D=w+H;if(rd(J))this._renderBackground(J,J,R,G,B,z);var P=!!J.backgroundColor;for(var j=0;j<F.lines.length;j++){var E=F.lines[j],L=E.tokens,h=L.length,_=E.lineHeight,S=E.width,I=0,M=w,y=D,b=h-1,u=void 0;while(I<h&&(u=L[I],!u.align||u.align==="left"))this._placeToken(u,J,_,T,M,"left",P),S-=u.width,M+=u.width,I++;while(b>=0&&(u=L[b],u.align==="right"))this._placeToken(u,J,_,T,y,"right",P),S-=u.width,y-=u.width,b--;M+=(H-(M-w)-(D-y)-S)/2;while(I<=b)u=L[I],this._placeToken(u,J,_,T,M+u.width/2,"center",P),M+=u.width,I++;T+=_}},Q.prototype._placeToken=function(J,K,Y,q,Z,X,W){var F=K.rich[J.styleName]||{};F.text=J.text;var H=J.verticalAlign,B=q+Y/2;if(H==="top")B=q+J.height/2;else if(H==="bottom")B=q+Y-J.height/2;var z=!J.isLineHolder&&rd(F);z&&this._renderBackground(F,K,X==="right"?Z-J.width:X==="center"?Z-J.width/2:Z,B-J.height/2,J.width,J.height);var A=!!F.backgroundColor,R=J.textPadding;if(R)Z=ER0(Z,X,R),B-=J.height/2-R[0]-J.innerHeight/2;var G=this._getOrCreateChild(ZY),w=G.createStyle();G.useStyle(w);var T=this._defaultStyle,D=!1,P=0,j=!1,E=jR0("fill"in F?F.fill:("fill"in K)?K.fill:(D=!0,T.fill)),L=kR0("stroke"in F?F.stroke:("stroke"in K)?K.stroke:!A&&!W&&(!T.autoStroke||D)?(P=TR0,j=!0,T.stroke):null),h=F.textShadowBlur>0||K.textShadowBlur>0;if(w.text=J.text,w.x=Z,w.y=B,h)w.shadowBlur=F.textShadowBlur||K.textShadowBlur||0,w.shadowColor=F.textShadowColor||K.textShadowColor||"transparent",w.shadowOffsetX=F.textShadowOffsetX||K.textShadowOffsetX||0,w.shadowOffsetY=F.textShadowOffsetY||K.textShadowOffsetY||0;if(w.textAlign=X,w.textBaseline="middle",w.font=J.font||d4,w.opacity=B6(F.opacity,K.opacity,1),CR0(w,F),L)w.lineWidth=B6(F.lineWidth,K.lineWidth,P),w.lineDash=f0(F.lineDash,K.lineDash),w.lineDashOffset=K.lineDashOffset||0,w.stroke=L;if(E)w.fill=E;G.setBoundingRect(gE(w,J.contentWidth,J.contentHeight,j?0:null))},Q.prototype._renderBackground=function(J,K,Y,q,Z,X){var{backgroundColor:W,borderWidth:F,borderColor:H}=J,B=W&&W.image,z=W&&!B,A=J.borderRadius,R=this,G,w;if(z||J.lineHeight||F&&H){G=this._getOrCreateChild(Q1),G.useStyle(G.createStyle()),G.style.fill=null;var T=G.shape;T.x=Y,T.y=q,T.width=Z,T.height=X,T.r=A,G.dirtyShape()}if(z){var D=G.style;D.fill=W||null,D.fillOpacity=f0(J.fillOpacity,1)}else if(B){w=this._getOrCreateChild(n5),w.onload=function(){R.dirtyStyle()};var P=w.style;P.image=W.image,P.x=Y,P.y=q,P.width=Z,P.height=X}if(F&&H){var D=G.style;if(D.lineWidth=F,D.stroke=H,D.strokeOpacity=f0(J.strokeOpacity,1),D.lineDash=J.borderDash,D.lineDashOffset=J.borderDashOffset||0,G.strokeContainThreshold=0,G.hasFill()&&G.hasStroke())D.strokeFirst=!0,D.lineWidth*=2}var j=(G||w).style;j.shadowBlur=J.shadowBlur||0,j.shadowColor=J.shadowColor||"transparent",j.shadowOffsetX=J.shadowOffsetX||0,j.shadowOffsetY=J.shadowOffsetY||0,j.opacity=B6(J.opacity,K.opacity,1)},Q.makeFont=function(J){var K="";if(sd(J))K=[J.fontStyle,J.fontWeight,id(J.fontSize),J.fontFamily||"sans-serif"].join(" ");return K&&O7(K)||J.textFont||J.font},Q}(a6),jQ1={left:!0,right:1,center:1},EQ1={top:1,bottom:1,middle:1},DR0=["fontStyle","fontWeight","fontSize","fontFamily"];function id($){if(typeof $==="string"&&($.indexOf("px")!==-1||$.indexOf("rem")!==-1||$.indexOf("em")!==-1))return $;else if(!isNaN(+$))return $+"px";else return bj+"px"}function CR0($,Q){for(var J=0;J<DR0.length;J++){var K=DR0[J],Y=Q[K];if(Y!=null)$[K]=Y}}function sd($){return $.fontSize!=null||$.fontFamily||$.fontWeight}function LQ1($){return PR0($),v($.rich,PR0),$}function PR0($){if($){$.font=hR0.makeFont($);var Q=$.align;Q==="middle"&&(Q="center"),$.align=Q==null||jQ1[Q]?Q:"left";var J=$.verticalAlign;J==="center"&&(J="middle"),$.verticalAlign=J==null||EQ1[J]?J:"top";var K=$.padding;if(K)$.padding=UZ($.padding)}}function kR0($,Q){return $==null||Q<=0||$==="transparent"||$==="none"?null:$.image||$.colorStops?"#000":$}function jR0($){return $==null||$==="none"?null:$.image||$.colorStops?"#000":$}function ER0($,Q,J){return Q==="right"?$-J[1]:Q==="center"?$+J[3]/2-J[1]/2:$+J[3]}function LR0($){var Q=$.text;return Q!=null&&(Q+=""),Q}function rd($){return!!($.backgroundColor||$.lineHeight||$.borderWidth&&$.borderColor)}var w1=hR0;var m0=n0(),aR=function($,Q,J,K){if(K){var Y=m0(K);if(Y.dataIndex=J,Y.dataType=Q,Y.seriesIndex=$,Y.ssrType="chart",K.type==="group")K.traverse(function(q){var Z=m0(q);Z.seriesIndex=$,Z.dataIndex=J,Z.dataType=Q,Z.ssrType="chart"})}};var vR0=1,SR0={},bR0=n0(),td=n0(),ed=0,kW=1,tR=2,M7=["emphasis","blur","select"],jZ=["normal","emphasis","blur","select"],XY=10,hQ1=9,EZ="highlight",eR="downplay",$G="select",dE="unselect",QG="toggleSelect",nE="selectchanged";function ON($){return $!=null&&$!=="none"}function lE($,Q,J){if($.onHoverStateChange&&($.hoverState||0)!==J)$.onHoverStateChange(Q);$.hoverState=J}function gR0($){lE($,"emphasis",tR)}function yR0($){if($.hoverState===tR)lE($,"normal",ed)}function $n($){lE($,"blur",kW)}function xR0($){if($.hoverState===kW)lE($,"normal",ed)}function vQ1($){$.selected=!0}function SQ1($){$.selected=!1}function _R0($,Q,J){Q($,J)}function WY($,Q,J){_R0($,Q,J),$.isGroup&&$.traverse(function(K){_R0(K,Q,J)})}function jW($,Q){switch(Q){case"emphasis":$.hoverState=tR;break;case"normal":$.hoverState=ed;break;case"blur":$.hoverState=kW;break;case"select":$.selected=!0}}function _Q1($,Q,J,K){var Y=$.style,q={};for(var Z=0;Z<Q.length;Z++){var X=Q[Z],W=Y[X];q[X]=W==null?K&&K[X]:W}for(var Z=0;Z<$.animators.length;Z++){var F=$.animators[Z];if(F.__fromStateTransition&&F.__fromStateTransition.indexOf(J)<0&&F.targetName==="style")F.saveTo(q,Q)}return q}function fQ1($,Q,J,K){var Y=J&&o0(J,"select")>=0,q=!1;if($ instanceof t0){var Z=bR0($),X=Y?Z.selectFill||Z.normalFill:Z.normalFill,W=Y?Z.selectStroke||Z.normalStroke:Z.normalStroke;if(ON(X)||ON(W)){K=K||{};var F=K.style||{};if(F.fill==="inherit")q=!0,K=Q0({},K),F=Q0({},F),F.fill=X;else if(!ON(F.fill)&&ON(X))q=!0,K=Q0({},K),F=Q0({},F),F.fill=IR(X);else if(!ON(F.stroke)&&ON(W)){if(!q)K=Q0({},K),F=Q0({},F);F.stroke=IR(W)}K.style=F}}if(K){if(K.z2==null){if(!q)K=Q0({},K);var H=$.z2EmphasisLift;K.z2=$.z2+(H!=null?H:XY)}}return K}function IQ1($,Q,J){if(J){if(J.z2==null){J=Q0({},J);var K=$.z2SelectLift;J.z2=$.z2+(K!=null?K:hQ1)}}return J}function MQ1($,Q,J){var K=o0($.currentStates,Q)>=0,Y=$.style.opacity,q=!K?_Q1($,["opacity"],Q,{opacity:1}):null;J=J||{};var Z=J.style||{};if(Z.opacity==null)J=Q0({},J),Z=Q0({opacity:K?Y:q.opacity*0.1},Z),J.style=Z;return J}function od($,Q){var J=this.states[$];if(this.style){if($==="emphasis")return fQ1(this,$,Q,J);else if($==="blur")return MQ1(this,$,J);else if($==="select")return IQ1(this,$,J)}return J}function e$($){$.stateProxy=od;var Q=$.getTextContent(),J=$.getTextGuideLine();if(Q)Q.stateProxy=od;if(J)J.stateProxy=od}function fR0($,Q){!cR0($,Q)&&!$.__highByOuter&&WY($,gR0)}function IR0($,Q){!cR0($,Q)&&!$.__highByOuter&&WY($,yR0)}function p8($,Q){$.__highByOuter|=1<<(Q||0),WY($,gR0)}function d8($,Q){!($.__highByOuter&=~(1<<(Q||0)))&&WY($,yR0)}function rE($){WY($,$n)}function JG($){WY($,xR0)}function Qn($){WY($,vQ1)}function Jn($){WY($,SQ1)}function cR0($,Q){return $.__highDownSilentOnTouch&&Q.zrByTouch}function Kn($){var Q=$.getModel(),J=[],K=[];Q.eachComponent(function(Y,q){var Z=td(q),X=Y==="series",W=X?$.getViewOfSeriesModel(q):$.getViewOfComponentModel(q);if(!X&&K.push(W),Z.isBlured)W.group.traverse(function(F){xR0(F)}),X&&J.push(q);Z.isBlured=!1}),v(K,function(Y){if(Y&&Y.toggleBlurSeries)Y.toggleBlurSeries(J,!1,Q)})}function ad($,Q,J,K){var Y=K.getModel();J=J||"coordinateSystem";function q(F,H){for(var B=0;B<H.length;B++){var z=F.getItemGraphicEl(H[B]);z&&JG(z)}}if($==null)return;if(!Q||Q==="none")return;var Z=Y.getSeriesByIndex($),X=Z.coordinateSystem;if(X&&X.master)X=X.master;var W=[];Y.eachSeries(function(F){var H=Z===F,B=F.coordinateSystem;if(B&&B.master)B=B.master;var z=B&&X?B===X:H;if(!(J==="series"&&!H||J==="coordinateSystem"&&!z||Q==="series"&&H)){var A=K.getViewOfSeriesModel(F);if(A.group.traverse(function(w){if(w.__highByOuter&&H&&Q==="self")return;$n(w)}),c6(Q))q(F.getData(),Q);else if(I0(Q)){var R=Z1(Q);for(var G=0;G<R.length;G++)q(F.getData(R[G]),Q[R[G]])}W.push(F),td(F).isBlured=!0}}),Y.eachComponent(function(F,H){if(F==="series")return;var B=K.getViewOfComponentModel(H);if(B&&B.toggleBlurSeries)B.toggleBlurSeries(W,!0,Y)})}function pE($,Q,J){if($==null||Q==null)return;var K=J.getModel().getComponent($,Q);if(!K)return;td(K).isBlured=!0;var Y=J.getViewOfComponentModel(K);if(!Y||!Y.focusBlurEnabled)return;Y.group.traverse(function(q){$n(q)})}function uR0($,Q,J){var K=$.seriesIndex,Y=$.getData(Q.dataType);if(!Y){P1("Unknown dataType "+Q.dataType);return}var q=r3(Y,Q);q=(J0(q)?q[0]:q)||0;var Z=Y.getItemGraphicEl(q);if(!Z){var X=Y.count(),W=0;while(!Z&&W<X)Z=Y.getItemGraphicEl(W++)}if(Z){var F=m0(Z);ad(K,F.focus,F.blurScope,J)}else{var H=$.get(["emphasis","focus"]),B=$.get(["emphasis","blurScope"]);if(H!=null)ad(K,H,B,J)}}function iE($,Q,J,K){var Y={focusSelf:!1,dispatchers:null};if($==null||$==="series"||Q==null||J==null)return Y;var q=K.getModel().getComponent($,Q);if(!q)return Y;var Z=K.getViewOfComponentModel(q);if(!Z||!Z.findHighDownDispatchers)return Y;var X=Z.findHighDownDispatchers(J),W;for(var F=0;F<X.length;F++){if(!$Q(X[F]))P1("param should be highDownDispatcher");if(m0(X[F]).focus==="self"){W=!0;break}}return{focusSelf:W,dispatchers:X}}function mR0($,Q,J){if(!$Q($))P1("param should be highDownDispatcher");var K=m0($),Y=iE(K.componentMainType,K.componentIndex,K.componentHighDownName,J),q=Y.dispatchers,Z=Y.focusSelf;if(q){if(Z)pE(K.componentMainType,K.componentIndex,J);v(q,function(X){return fR0(X,Q)})}else{if(ad(K.seriesIndex,K.focus,K.blurScope,J),K.focus==="self")pE(K.componentMainType,K.componentIndex,J);fR0($,Q)}}function pR0($,Q,J){if(!$Q($))P1("param should be highDownDispatcher");Kn(J);var K=m0($),Y=iE(K.componentMainType,K.componentIndex,K.componentHighDownName,J).dispatchers;if(Y)v(Y,function(q){return IR0(q,Q)});else IR0($,Q)}function dR0($,Q,J){if(!oE(Q))return;var K=Q.dataType,Y=$.getData(K),q=r3(Y,Q);if(!J0(q))q=[q];$[Q.type===QG?"toggleSelect":Q.type===$G?"select":"unselect"](q,K)}function Yn($){var Q=$.getAllData();v(Q,function(J){var{data:K,type:Y}=J;K.eachItemGraphicEl(function(q,Z){$.isSelected(Z,Y)?Qn(q):Jn(q)})})}function nR0($){var Q=[];return $.eachSeries(function(J){var K=J.getAllData();v(K,function(Y){var{data:q,type:Z}=Y,X=J.getSelectedDataIndices();if(X.length>0){var W={dataIndex:X,seriesIndex:J.seriesIndex};if(Z!=null)W.dataType=Z;Q.push(W)}})}),Q}function fJ($,Q,J){FY($,!0),WY($,e$),sE($,Q,J)}function bQ1($){FY($,!1)}function u1($,Q,J,K){K?bQ1($):fJ($,Q,J)}function sE($,Q,J){var K=m0($);if(Q!=null)K.focus=Q,K.blurScope=J;else if(K.focus)K.focus=null}var MR0=["emphasis","blur","select"],gQ1={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function M5($,Q,J,K){J=J||"itemStyle";for(var Y=0;Y<MR0.length;Y++){var q=MR0[Y],Z=Q.getModel([q,J]),X=$.ensureState(q);X.style=K?K(Z):Z[gQ1[J]]()}}function FY($,Q){var J=Q===!1,K=$;if($.highDownSilentOnTouch)K.__highDownSilentOnTouch=$.highDownSilentOnTouch;if(!J||K.__highDownDispatcher)K.__highByOuter=K.__highByOuter||0,K.__highDownDispatcher=!J}function $Q($){return!!($&&$.__highDownDispatcher)}function lR0($,Q,J){var K=m0($);K.componentMainType=Q.mainType,K.componentIndex=Q.componentIndex,K.componentHighDownName=J}function rR0($){var Q=SR0[$];if(Q==null&&vR0<=32)Q=SR0[$]=vR0++;return Q}function oE($){var Q=$.type;return Q===$G||Q===dE||Q===QG}function qn($){var Q=$.type;return Q===EZ||Q===eR}function iR0($){var Q=bR0($);Q.normalFill=$.style.fill,Q.normalStroke=$.style.stroke;var J=$.states.select||{};Q.selectFill=J.style&&J.style.fill||null,Q.selectStroke=J.style&&J.style.stroke||null}var N1={};r2(N1,{updateProps:()=>V1,traverseUpdateZ:()=>IW,traverseElements:()=>G4,transformDirection:()=>fW,subPixelOptimizeRect:()=>AJ1,subPixelOptimizeLine:()=>HY,subPixelOptimize:()=>WG,setTooltipConfig:()=>r8,retrieveZInfo:()=>e3,resizePath:()=>kG0,removeElementWithFadeOut:()=>J9,removeElement:()=>a3,registerShape:()=>JQ,mergePath:()=>l8,makePath:()=>_W,makeImage:()=>An,linePolygonIntersect:()=>kN,lineLineIntersect:()=>jG0,isElementRemoved:()=>UY,isBoundingRectAxisAligned:()=>UL,initProps:()=>t1,groupTransition:()=>NY,getTransform:()=>KQ,getShapeClass:()=>PN,extendShape:()=>NJ1,extendPath:()=>zJ1,expandOrShrinkRect:()=>t3,ensureCopyTransform:()=>HL,ensureCopyRect:()=>jN,createIcon:()=>BY,clipRectByRect:()=>RJ1,clipPointsByRect:()=>Vn,calcZ2Range:()=>Rn,applyTransform:()=>k8,XY:()=>A1,WH:()=>P6,Text:()=>w1,Sector:()=>I6,Ring:()=>LW,Rect:()=>Q1,RadialGradient:()=>YL,Polyline:()=>K6,Polygon:()=>z6,Point:()=>e0,Path:()=>t0,OrientedBoundingRect:()=>WL,LinearGradient:()=>o3,Line:()=>l5,IncrementalDisplayable:()=>GG0,Image:()=>n5,Group:()=>_0,Ellipse:()=>YG,CompoundPath:()=>LZ,Circle:()=>R4,BoundingRect:()=>u0,BezierCurve:()=>hW,Arc:()=>XG});var TN=n7.CMD,yQ1=[[],[],[]],sR0=Math.sqrt,xQ1=Math.atan2;function aE($,Q){if(!Q)return;var J=$.data,K=$.len(),Y,q,Z,X,W,F,H=TN.M,B=TN.C,z=TN.L,A=TN.R,R=TN.A,G=TN.Q;for(Z=0,X=0;Z<K;){switch(Y=J[Z++],X=Z,q=0,Y){case H:q=1;break;case z:q=1;break;case B:q=3;break;case G:q=2;break;case R:var w=Q[4],T=Q[5],D=sR0(Q[0]*Q[0]+Q[1]*Q[1]),P=sR0(Q[2]*Q[2]+Q[3]*Q[3]),j=xQ1(-Q[1]/P,Q[0]/D);J[Z]*=D,J[Z++]+=w,J[Z]*=P,J[Z++]+=T,J[Z++]*=D,J[Z++]*=P,J[Z++]+=j,J[Z++]+=j,Z+=2,X=Z;break;case A:F[0]=J[Z++],F[1]=J[Z++],o5(F,F,Q),J[X++]=F[0],J[X++]=F[1],F[0]+=J[Z++],F[1]+=J[Z++],o5(F,F,Q),J[X++]=F[0],J[X++]=F[1]}for(W=0;W<q;W++){var E=yQ1[W];E[0]=J[Z++],E[1]=J[Z++],o5(E,E,Q),J[X++]=E[0],J[X++]=E[1]}}$.increaseVersion()}var{sqrt:Zn,sin:tE,cos:eE,PI:KG}=Math;function oR0($){return Math.sqrt($[0]*$[0]+$[1]*$[1])}function Xn($,Q){return($[0]*Q[0]+$[1]*Q[1])/(oR0($)*oR0(Q))}function aR0($,Q){return($[0]*Q[1]<$[1]*Q[0]?-1:1)*Math.acos(Xn($,Q))}function tR0($,Q,J,K,Y,q,Z,X,W,F,H){var B=W*(KG/180),z=eE(B)*($-J)/2+tE(B)*(Q-K)/2,A=-1*tE(B)*($-J)/2+eE(B)*(Q-K)/2,R=z*z/(Z*Z)+A*A/(X*X);if(R>1)Z*=Zn(R),X*=Zn(R);var G=(Y===q?-1:1)*Zn((Z*Z*(X*X)-Z*Z*(A*A)-X*X*(z*z))/(Z*Z*(A*A)+X*X*(z*z)))||0,w=G*Z*A/X,T=G*-X*z/Z,D=($+J)/2+eE(B)*w-tE(B)*T,P=(Q+K)/2+tE(B)*w+eE(B)*T,j=aR0([1,0],[(z-w)/Z,(A-T)/X]),E=[(z-w)/Z,(A-T)/X],L=[(-1*z-w)/Z,(-1*A-T)/X],h=aR0(E,L);if(Xn(E,L)<=-1)h=KG;if(Xn(E,L)>=1)h=0;if(h<0){var _=Math.round(h/KG*1e6)/1e6;h=KG*2+_%2*KG}H.addData(F,D,P,Z,X,j,h,B,q)}var cQ1=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,uQ1=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function mQ1($){var Q=new n7;if(!$)return Q;var J=0,K=0,Y=J,q=K,Z,X=n7.CMD,W=$.match(cQ1);if(!W)return Q;for(var F=0;F<W.length;F++){var H=W[F],B=H.charAt(0),z=void 0,A=H.match(uQ1)||[],R=A.length;for(var G=0;G<R;G++)A[G]=parseFloat(A[G]);var w=0;while(w<R){var T=void 0,D=void 0,P=void 0,j=void 0,E=void 0,L=void 0,h=void 0,_=J,S=K,I=void 0,M=void 0;switch(B){case"l":J+=A[w++],K+=A[w++],z=X.L,Q.addData(z,J,K);break;case"L":J=A[w++],K=A[w++],z=X.L,Q.addData(z,J,K);break;case"m":J+=A[w++],K+=A[w++],z=X.M,Q.addData(z,J,K),Y=J,q=K,B="l";break;case"M":J=A[w++],K=A[w++],z=X.M,Q.addData(z,J,K),Y=J,q=K,B="L";break;case"h":J+=A[w++],z=X.L,Q.addData(z,J,K);break;case"H":J=A[w++],z=X.L,Q.addData(z,J,K);break;case"v":K+=A[w++],z=X.L,Q.addData(z,J,K);break;case"V":K=A[w++],z=X.L,Q.addData(z,J,K);break;case"C":z=X.C,Q.addData(z,A[w++],A[w++],A[w++],A[w++],A[w++],A[w++]),J=A[w-2],K=A[w-1];break;case"c":z=X.C,Q.addData(z,A[w++]+J,A[w++]+K,A[w++]+J,A[w++]+K,A[w++]+J,A[w++]+K),J+=A[w-2],K+=A[w-1];break;case"S":if(T=J,D=K,I=Q.len(),M=Q.data,Z===X.C)T+=J-M[I-4],D+=K-M[I-3];z=X.C,_=A[w++],S=A[w++],J=A[w++],K=A[w++],Q.addData(z,T,D,_,S,J,K);break;case"s":if(T=J,D=K,I=Q.len(),M=Q.data,Z===X.C)T+=J-M[I-4],D+=K-M[I-3];z=X.C,_=J+A[w++],S=K+A[w++],J+=A[w++],K+=A[w++],Q.addData(z,T,D,_,S,J,K);break;case"Q":_=A[w++],S=A[w++],J=A[w++],K=A[w++],z=X.Q,Q.addData(z,_,S,J,K);break;case"q":_=A[w++]+J,S=A[w++]+K,J+=A[w++],K+=A[w++],z=X.Q,Q.addData(z,_,S,J,K);break;case"T":if(T=J,D=K,I=Q.len(),M=Q.data,Z===X.Q)T+=J-M[I-4],D+=K-M[I-3];J=A[w++],K=A[w++],z=X.Q,Q.addData(z,T,D,J,K);break;case"t":if(T=J,D=K,I=Q.len(),M=Q.data,Z===X.Q)T+=J-M[I-4],D+=K-M[I-3];J+=A[w++],K+=A[w++],z=X.Q,Q.addData(z,T,D,J,K);break;case"A":P=A[w++],j=A[w++],E=A[w++],L=A[w++],h=A[w++],_=J,S=K,J=A[w++],K=A[w++],z=X.A,tR0(_,S,J,K,L,h,P,j,E,z,Q);break;case"a":P=A[w++],j=A[w++],E=A[w++],L=A[w++],h=A[w++],_=J,S=K,J+=A[w++],K+=A[w++],z=X.A,tR0(_,S,J,K,L,h,P,j,E,z,Q);break}}if(B==="z"||B==="Z")z=X.Z,Q.addData(z),J=Y,K=q;Z=z}return Q.toStatic(),Q}var eR0=function($){x(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.applyTransform=function(J){},Q}(t0);function $G0($){return $.setData!=null}function QG0($,Q){var J=mQ1($),K=Q0({},Q);return K.buildPath=function(Y){var q=$G0(Y);if(q&&Y.canSave()){Y.appendPath(J);var Z=Y.getContext();if(Z)Y.rebuildPath(Z,1)}else{var Z=q?Y.getContext():Y;if(Z)J.rebuildPath(Z,1)}},K.applyTransform=function(Y){aE(J,Y),this.dirtyShape()},K}function $L($,Q){return new eR0(QG0($,Q))}function JG0($,Q){var J=QG0($,Q),K=function(Y){x(q,Y);function q(Z){var X=Y.call(this,Z)||this;return X.applyTransform=J.applyTransform,X.buildPath=J.buildPath,X}return q}(eR0);return K}function KG0($,Q){var J=[],K=$.length;for(var Y=0;Y<K;Y++){var q=$[Y];J.push(q.getUpdatedPathProxy(!0))}var Z=new t0(Q);return Z.createPathProxy(),Z.buildPath=function(X){if($G0(X)){X.appendPath(J);var W=X.getContext();if(W)X.rebuildPath(W,1)}},Z}function DN($,Q){Q=Q||{};var J=new t0;if($.shape)J.setShape($.shape);if(J.setStyle($.style),Q.bakeTransform)aE(J.path,$.getComputedTransform());else if(Q.toLocal)J.setLocalTransform($.getComputedTransform());else J.copyTransform($);return J.buildPath=$.buildPath,J.applyTransform=J.applyTransform,J.z=$.z,J.z2=$.z2,J.zlevel=$.zlevel,J}var dQ1=function(){function $(){this.cx=0,this.cy=0,this.r=0}return $}();var YG0=function($){x(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultShape=function(){return new dQ1},Q.prototype.buildPath=function(J,K){J.moveTo(K.cx+K.r,K.cy),J.arc(K.cx,K.cy,K.r,0,Math.PI*2)},Q}(t0);YG0.prototype.type="circle";var R4=YG0;var nQ1=function(){function $(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return $}();var qG0=function($){x(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultShape=function(){return new nQ1},Q.prototype.buildPath=function(J,K){var Y=0.5522848,q=K.cx,Z=K.cy,X=K.rx,W=K.ry,F=X*Y,H=W*Y;J.moveTo(q-X,Z),J.bezierCurveTo(q-X,Z-H,q-F,Z-W,q,Z-W),J.bezierCurveTo(q+F,Z-W,q+X,Z-H,q+X,Z),J.bezierCurveTo(q+X,Z+H,q+F,Z+W,q,Z+W),J.bezierCurveTo(q-F,Z+W,q-X,Z+H,q-X,Z),J.closePath()},Q}(t0);qG0.prototype.type="ellipse";var YG=qG0;var XG0=Math.PI,Wn=XG0*2,EW=Math.sin,CN=Math.cos,lQ1=Math.acos,n8=Math.atan2,ZG0=Math.abs,ZG=Math.sqrt,qG=Math.max,IJ=Math.min,QQ=0.0001;function rQ1($,Q,J,K,Y,q,Z,X){var W=J-$,F=K-Q,H=Z-Y,B=X-q,z=B*W-H*F;if(z*z<QQ)return;return z=(H*(Q-q)-B*($-Y))/z,[$+z*W,Q+z*F]}function QL($,Q,J,K,Y,q,Z){var X=$-J,W=Q-K,F=(Z?q:-q)/ZG(X*X+W*W),H=F*W,B=-F*X,z=$+H,A=Q+B,R=J+H,G=K+B,w=(z+R)/2,T=(A+G)/2,D=R-z,P=G-A,j=D*D+P*P,E=Y-q,L=z*G-R*A,h=(P<0?-1:1)*ZG(qG(0,E*E*j-L*L)),_=(L*P-D*h)/j,S=(-L*D-P*h)/j,I=(L*P+D*h)/j,M=(-L*D+P*h)/j,y=_-w,b=S-T,u=I-w,c=M-T;if(y*y+b*b>u*u+c*c)_=I,S=M;return{cx:_,cy:S,x0:-H,y0:-B,x1:_*(Y/E-1),y1:S*(Y/E-1)}}function iQ1($){var Q;if(J0($)){var J=$.length;if(!J)return $;if(J===1)Q=[$[0],$[0],0,0];else if(J===2)Q=[$[0],$[0],$[1],$[1]];else if(J===3)Q=$.concat($[2]);else Q=$}else Q=[$,$,$,$];return Q}function WG0($,Q){var J,K=qG(Q.r,0),Y=qG(Q.r0||0,0),q=K>0,Z=Y>0;if(!q&&!Z)return;if(!q)K=Y,Y=0;if(Y>K){var X=K;K=Y,Y=X}var{startAngle:W,endAngle:F}=Q;if(isNaN(W)||isNaN(F))return;var{cx:H,cy:B}=Q,z=!!Q.clockwise,A=ZG0(F-W),R=A>Wn&&A%Wn;if(R>QQ&&(A=R),!(K>QQ))$.moveTo(H,B);else if(A>Wn-QQ){if($.moveTo(H+K*CN(W),B+K*EW(W)),$.arc(H,B,K,W,F,!z),Y>QQ)$.moveTo(H+Y*CN(F),B+Y*EW(F)),$.arc(H,B,Y,F,W,z)}else{var G=void 0,w=void 0,T=void 0,D=void 0,P=void 0,j=void 0,E=void 0,L=void 0,h=void 0,_=void 0,S=void 0,I=void 0,M=void 0,y=void 0,b=void 0,u=void 0,c=K*CN(W),m=K*EW(W),i=Y*CN(F),o=Y*EW(F),n=A>QQ;if(n){var e=Q.cornerRadius;if(e)J=iQ1(e),G=J[0],w=J[1],T=J[2],D=J[3];var Z0=ZG0(K-Y)/2;if(P=IJ(Z0,T),j=IJ(Z0,D),E=IJ(Z0,G),L=IJ(Z0,w),S=h=qG(P,j),I=_=qG(E,L),h>QQ||_>QQ){if(M=K*CN(F),y=K*EW(F),b=Y*CN(W),u=Y*EW(W),A<XG0){var q0=rQ1(c,m,b,u,M,y,i,o);if(q0){var k0=c-q0[0],c0=m-q0[1],J1=M-q0[0],W1=y-q0[1],h1=1/EW(lQ1((k0*J1+c0*W1)/(ZG(k0*k0+c0*c0)*ZG(J1*J1+W1*W1)))/2),X1=ZG(q0[0]*q0[0]+q0[1]*q0[1]);S=IJ(h,(K-X1)/(h1+1)),I=IJ(_,(Y-X1)/(h1-1))}}}}if(!n)$.moveTo(H+c,B+m);else if(S>QQ){var r0=IJ(T,S),G1=IJ(D,S),l0=QL(b,u,c,m,K,r0,z),z1=QL(M,y,i,o,K,G1,z);if($.moveTo(H+l0.cx+l0.x0,B+l0.cy+l0.y0),S<h&&r0===G1)$.arc(H+l0.cx,B+l0.cy,S,n8(l0.y0,l0.x0),n8(z1.y0,z1.x0),!z);else r0>0&&$.arc(H+l0.cx,B+l0.cy,r0,n8(l0.y0,l0.x0),n8(l0.y1,l0.x1),!z),$.arc(H,B,K,n8(l0.cy+l0.y1,l0.cx+l0.x1),n8(z1.cy+z1.y1,z1.cx+z1.x1),!z),G1>0&&$.arc(H+z1.cx,B+z1.cy,G1,n8(z1.y1,z1.x1),n8(z1.y0,z1.x0),!z)}else $.moveTo(H+c,B+m),$.arc(H,B,K,W,F,!z);if(!(Y>QQ)||!n)$.lineTo(H+i,B+o);else if(I>QQ){var r0=IJ(G,I),G1=IJ(w,I),l0=QL(i,o,M,y,Y,-G1,z),z1=QL(c,m,b,u,Y,-r0,z);if($.lineTo(H+l0.cx+l0.x0,B+l0.cy+l0.y0),I<_&&r0===G1)$.arc(H+l0.cx,B+l0.cy,I,n8(l0.y0,l0.x0),n8(z1.y0,z1.x0),!z);else G1>0&&$.arc(H+l0.cx,B+l0.cy,G1,n8(l0.y0,l0.x0),n8(l0.y1,l0.x1),!z),$.arc(H,B,Y,n8(l0.cy+l0.y1,l0.cx+l0.x1),n8(z1.cy+z1.y1,z1.cx+z1.x1),z),r0>0&&$.arc(H+z1.cx,B+z1.cy,r0,n8(z1.y1,z1.x1),n8(z1.y0,z1.x0),!z)}else $.lineTo(H+i,B+o),$.arc(H,B,Y,F,W,z)}$.closePath()}var oQ1=function(){function $(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return $}();var FG0=function($){x(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultShape=function(){return new oQ1},Q.prototype.buildPath=function(J,K){WG0(J,K)},Q.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},Q}(t0);FG0.prototype.type="sector";var I6=FG0;var aQ1=function(){function $(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return $}();var UG0=function($){x(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultShape=function(){return new aQ1},Q.prototype.buildPath=function(J,K){var{cx:Y,cy:q}=K,Z=Math.PI*2;J.moveTo(Y+K.r,q),J.arc(Y,q,K.r,0,Z,!1),J.moveTo(Y+K.r0,q),J.arc(Y,q,K.r0,0,Z,!0)},Q}(t0);UG0.prototype.type="ring";var LW=UG0;function Fn($,Q,J,K){var Y=[],q=[],Z=[],X=[],W,F,H,B;if(K){H=[1/0,1/0],B=[-1/0,-1/0];for(var z=0,A=$.length;z<A;z++)g9(H,H,$[z]),y9(B,B,$[z]);g9(H,H,K[0]),y9(B,B,K[1])}for(var z=0,A=$.length;z<A;z++){var R=$[z];if(J)W=$[z?z-1:A-1],F=$[(z+1)%A];else if(z===0||z===A-1){Y.push(n4($[z]));continue}else W=$[z-1],F=$[z+1];n$(q,F,W),$N(q,q,Q);var G=dj(R,W),w=dj(R,F),T=G+w;if(T!==0)G/=T,w/=T;$N(Z,q,-G),$N(X,q,w);var D=fp([],R,Z),P=fp([],R,X);if(K)y9(D,D,H),g9(D,D,B),y9(P,P,H),g9(P,P,B);Y.push(D),Y.push(P)}if(J)Y.push(Y.shift());return Y}function JL($,Q,J){var{smooth:K,points:Y}=Q;if(Y&&Y.length>=2){if(K){var q=Fn(Y,K,J,Q.smoothConstraint);$.moveTo(Y[0][0],Y[0][1]);var Z=Y.length;for(var X=0;X<(J?Z:Z-1);X++){var W=q[X*2],F=q[X*2+1],H=Y[(X+1)%Z];$.bezierCurveTo(W[0],W[1],F[0],F[1],H[0],H[1])}}else{$.moveTo(Y[0][0],Y[0][1]);for(var X=1,B=Y.length;X<B;X++)$.lineTo(Y[X][0],Y[X][1])}J&&$.closePath()}}var tQ1=function(){function $(){this.points=null,this.smooth=0,this.smoothConstraint=null}return $}();var NG0=function($){x(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultShape=function(){return new tQ1},Q.prototype.buildPath=function(J,K){JL(J,K,!0)},Q}(t0);NG0.prototype.type="polygon";var z6=NG0;var eQ1=function(){function $(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return $}();var BG0=function($){x(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Q.prototype.getDefaultShape=function(){return new eQ1},Q.prototype.buildPath=function(J,K){JL(J,K,!1)},Q}(t0);BG0.prototype.type="polyline";var K6=BG0;var $J1={},QJ1=function(){function $(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return $}();var zG0=function($){x(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Q.prototype.getDefaultShape=function(){return new QJ1},Q.prototype.buildPath=function(J,K){var Y,q,Z,X;if(this.subPixelOptimize){var W=PW($J1,K,this.style);Y=W.x1,q=W.y1,Z=W.x2,X=W.y2}else Y=K.x1,q=K.y1,Z=K.x2,X=K.y2;var F=K.percent;if(F===0)return;if(J.moveTo(Y,q),F<1)Z=Y*(1-F)+Z*F,X=q*(1-F)+X*F;J.lineTo(Z,X)},Q.prototype.pointAt=function(J){var K=this.shape;return[K.x1*(1-J)+K.x2*J,K.y1*(1-J)+K.y2*J]},Q}(t0);zG0.prototype.type="line";var l5=zG0;var Q9=[],JJ1=function(){function $(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return $}();function AG0($,Q,J){var{cpx2:K,cpy2:Y}=$;if(K!=null||Y!=null)return[(J?sp:m6)($.x1,$.cpx1,$.cpx2,$.x2,Q),(J?sp:m6)($.y1,$.cpy1,$.cpy2,$.y2,Q)];else return[(J?SR:o6)($.x1,$.cpx1,$.x2,Q),(J?SR:o6)($.y1,$.cpy1,$.y2,Q)]}var VG0=function($){x(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Q.prototype.getDefaultShape=function(){return new JJ1},Q.prototype.buildPath=function(J,K){var{x1:Y,y1:q,x2:Z,y2:X,cpx1:W,cpy1:F,cpx2:H,cpy2:B,percent:z}=K;if(z===0)return;if(J.moveTo(Y,q),H==null||B==null){if(z<1)VZ(Y,W,Z,z,Q9),W=Q9[1],Z=Q9[2],VZ(q,F,X,z,Q9),F=Q9[1],X=Q9[2];J.quadraticCurveTo(W,F,Z,X)}else{if(z<1)m3(Y,W,H,Z,z,Q9),W=Q9[1],H=Q9[2],Z=Q9[3],m3(q,F,B,X,z,Q9),F=Q9[1],B=Q9[2],X=Q9[3];J.bezierCurveTo(W,F,H,B,Z,X)}},Q.prototype.pointAt=function(J){return AG0(this.shape,J,!1)},Q.prototype.tangentAt=function(J){var K=AG0(this.shape,J,!0);return x3(K,K)},Q}(t0);VG0.prototype.type="bezier-curve";var hW=VG0;var KJ1=function(){function $(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return $}();var RG0=function($){x(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Q.prototype.getDefaultShape=function(){return new KJ1},Q.prototype.buildPath=function(J,K){var{cx:Y,cy:q}=K,Z=Math.max(K.r,0),X=K.startAngle,W=K.endAngle,F=K.clockwise,H=Math.cos(X),B=Math.sin(X);J.moveTo(H*Z+Y,B*Z+q),J.arc(Y,q,Z,X,W,!F)},Q}(t0);RG0.prototype.type="arc";var XG=RG0;var YJ1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type="compound",J}return Q.prototype._updatePathDirty=function(){var J=this.shape.paths,K=this.shapeChanged();for(var Y=0;Y<J.length;Y++)K=K||J[Y].shapeChanged();if(K)this.dirtyShape()},Q.prototype.beforeBrush=function(){this._updatePathDirty();var J=this.shape.paths||[],K=this.getGlobalScale();for(var Y=0;Y<J.length;Y++){if(!J[Y].path)J[Y].createPathProxy();J[Y].path.setScale(K[0],K[1],J[Y].segmentIgnoreThreshold)}},Q.prototype.buildPath=function(J,K){var Y=K.paths||[];for(var q=0;q<Y.length;q++)Y[q].buildPath(J,Y[q].shape,!0)},Q.prototype.afterBrush=function(){var J=this.shape.paths||[];for(var K=0;K<J.length;K++)J[K].pathUpdated()},Q.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),t0.prototype.getBoundingRect.call(this)},Q}(t0),LZ=YJ1;var qJ1=function(){function $(Q){this.colorStops=Q||[]}return $.prototype.addColorStop=function(Q,J){this.colorStops.push({offset:Q,color:J})},$}(),KL=qJ1;var ZJ1=function($){x(Q,$);function Q(J,K,Y,q,Z,X){var W=$.call(this,Z)||this;return W.x=J==null?0:J,W.y=K==null?0:K,W.x2=Y==null?1:Y,W.y2=q==null?0:q,W.type="linear",W.global=X||!1,W}return Q}(KL),o3=ZJ1;var XJ1=function($){x(Q,$);function Q(J,K,Y,q,Z){var X=$.call(this,q)||this;return X.x=J==null?0.5:J,X.y=K==null?0.5:K,X.r=Y==null?0.5:Y,X.type="radial",X.global=Z||!1,X}return Q}(KL),YL=XJ1;var{min:Un,max:WJ1,abs:qL}=Math,vW=[0,0],SW=[0,0],Y8=dp(),ZL=Y8.minTv,XL=Y8.maxTv,FJ1=function(){function $(Q,J){this._corners=[],this._axes=[],this._origin=[0,0];for(var K=0;K<4;K++)this._corners[K]=new e0;for(var K=0;K<2;K++)this._axes[K]=new e0;if(Q)this.fromBoundingRect(Q,J)}return $.prototype.fromBoundingRect=function(Q,J){var K=this._corners,Y=this._axes,q=Q.x,Z=Q.y,X=q+Q.width,W=Z+Q.height;if(K[0].set(q,Z),K[1].set(X,Z),K[2].set(X,W),K[3].set(q,W),J)for(var F=0;F<4;F++)K[F].transform(J);e0.sub(Y[0],K[1],K[0]),e0.sub(Y[1],K[3],K[0]),Y[0].normalize(),Y[1].normalize();for(var F=0;F<2;F++)this._origin[F]=Y[F].dot(K[0])},$.prototype.intersect=function(Q,J,K){var Y=!0,q=!J;if(J)e0.set(J,0,0);if(Y8.reset(K,!q),!this._intersectCheckOneSide(this,Q,q,1)){if(Y=!1,q)return Y}if(!this._intersectCheckOneSide(Q,this,q,-1)){if(Y=!1,q)return Y}if(!q&&!Y8.negativeSize)e0.copy(J,Y?Y8.useDir?Y8.dirMinTv:ZL:XL);return Y},$.prototype._intersectCheckOneSide=function(Q,J,K,Y){var q=!0;for(var Z=0;Z<2;Z++){var X=Q._axes[Z];if(Q._getProjMinMaxOnAxis(Z,Q._corners,vW),Q._getProjMinMaxOnAxis(Z,J._corners,SW),Y8.negativeSize||vW[1]<SW[0]||vW[0]>SW[1]){if(q=!1,Y8.negativeSize||K)return q;var W=qL(SW[0]-vW[1]),F=qL(vW[0]-SW[1]);if(Un(W,F)>XL.len())if(W<F)e0.scale(XL,X,-W*Y);else e0.scale(XL,X,F*Y)}else if(!K){var W=qL(SW[0]-vW[1]),F=qL(vW[0]-SW[1]);if(Y8.useDir||Un(W,F)<ZL.len()){if(W<F||!Y8.bidirectional){if(e0.scale(ZL,X,W*Y),Y8.useDir)Y8.calcDirMTV()}if(W>=F||!Y8.bidirectional){if(e0.scale(ZL,X,-F*Y),Y8.useDir)Y8.calcDirMTV()}}}}return q},$.prototype._getProjMinMaxOnAxis=function(Q,J,K){var Y=this._axes[Q],q=this._origin,Z=J[0].dot(Y)+q[Q],X=Z,W=Z;for(var F=1;F<J.length;F++){var H=J[F].dot(Y)+q[Q];X=Un(H,X),W=WJ1(H,W)}K[0]=X+Y8.touchThreshold,K[1]=W-Y8.touchThreshold,Y8.negativeSize=K[1]<K[0]},$}(),WL=FJ1;var UJ1=[],HJ1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.notClear=!0,J.incremental=!0,J._displayables=[],J._temporaryDisplayables=[],J._cursor=0,J}return Q.prototype.traverse=function(J,K){J.call(K,this)},Q.prototype.useStyle=function(){this.style={}},Q.prototype.getCursor=function(){return this._cursor},Q.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},Q.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},Q.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},Q.prototype.addDisplayable=function(J,K){if(K)this._temporaryDisplayables.push(J);else this._displayables.push(J);this.markRedraw()},Q.prototype.addDisplayables=function(J,K){K=K||!1;for(var Y=0;Y<J.length;Y++)this.addDisplayable(J[Y],K)},Q.prototype.getDisplayables=function(){return this._displayables},Q.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},Q.prototype.eachPendingDisplayable=function(J){for(var K=this._cursor;K<this._displayables.length;K++)J&&J(this._displayables[K]);for(var K=0;K<this._temporaryDisplayables.length;K++)J&&J(this._temporaryDisplayables[K])},Q.prototype.update=function(){this.updateTransform();for(var J=this._cursor;J<this._displayables.length;J++){var K=this._displayables[J];K.parent=this,K.update(),K.parent=null}for(var J=0;J<this._temporaryDisplayables.length;J++){var K=this._temporaryDisplayables[J];K.parent=this,K.update(),K.parent=null}},Q.prototype.getBoundingRect=function(){if(!this._rect){var J=new u0(1/0,1/0,-1/0,-1/0);for(var K=0;K<this._displayables.length;K++){var Y=this._displayables[K],q=Y.getBoundingRect().clone();if(Y.needLocalTransform())q.applyTransform(Y.getLocalTransform(UJ1));J.union(q)}this._rect=J}return this._rect},Q.prototype.contain=function(J,K){var Y=this.transformCoordToLocal(J,K),q=this.getBoundingRect();if(q.contain(Y[0],Y[1]))for(var Z=0;Z<this._displayables.length;Z++){var X=this._displayables[Z];if(X.contain(J,K))return!0}return!1},Q}(a6),GG0=HJ1;var OG0=n0();function MJ($,Q,J,K,Y){var q;if(Q&&Q.ecModel){var Z=Q.ecModel.getUpdatePayload();q=Z&&Z.animation}var X=Q&&Q.isAnimationEnabled(),W=$==="update";if(X){var F=void 0,H=void 0,B=void 0;if(K)F=f0(K.duration,200),H=f0(K.easing,"cubicOut"),B=0;else F=Q.getShallow(W?"animationDurationUpdate":"animationDuration"),H=Q.getShallow(W?"animationEasingUpdate":"animationEasing"),B=Q.getShallow(W?"animationDelayUpdate":"animationDelay");if(q)q.duration!=null&&(F=q.duration),q.easing!=null&&(H=q.easing),q.delay!=null&&(B=q.delay);if(v0(B))B=B(J,Y);if(v0(F))F=F(J);var z={duration:F||0,delay:B,easing:H};return z}else return null}function Hn($,Q,J,K,Y,q,Z){var X=!1,W;if(v0(Y))Z=q,q=Y,Y=null;else if(I0(Y))q=Y.cb,Z=Y.during,X=Y.isFrom,W=Y.removeOpt,Y=Y.dataIndex;var F=$==="leave";if(!F)Q.stopAnimation("leave");var H=MJ($,K,Y,F?W||{}:null,K&&K.getAnimationDelayParams?K.getAnimationDelayParams(Q,Y):null);if(H&&H.duration>0){var{duration:B,delay:z,easing:A}=H,R={duration:B,delay:z||0,easing:A,done:q,force:!!q||!!Z,setToFinal:!F,scope:$,during:Z};X?Q.animateFrom(J,R):Q.animateTo(J,R)}else Q.stopAnimation(),!X&&Q.attr(J),Z&&Z(1),q&&q()}function V1($,Q,J,K,Y,q){Hn("update",$,Q,J,K,Y,q)}function t1($,Q,J,K,Y,q){Hn("enter",$,Q,J,K,Y,q)}function UY($){if(!$.__zr)return!0;for(var Q=0;Q<$.animators.length;Q++){var J=$.animators[Q];if(J.scope==="leave")return!0}return!1}function a3($,Q,J,K,Y,q){if(UY($))return;Hn("leave",$,Q,J,K,Y,q)}function wG0($,Q,J,K){$.removeTextContent(),$.removeTextGuideLine(),a3($,{style:{opacity:0}},Q,J,K)}function J9($,Q,J){function K(){$.parent&&$.parent.remove($)}if(!$.isGroup)wG0($,Q,J,K);else $.traverse(function(Y){if(!Y.isGroup)wG0(Y,Q,J,K)})}function t6($){OG0($).oldStyle=$.style}function TG0($){return OG0($).oldStyle}var Bn={},A1=["x","y"],P6=["width","height"];function NJ1($){return t0.extend($)}var BJ1=JG0;function zJ1($,Q){return BJ1($,Q)}function JQ($,Q){Bn[$]=Q}function PN($){if(Bn.hasOwnProperty($))return Bn[$]}function _W($,Q,J,K){var Y=$L($,Q);if(J){if(K==="center")J=PG0(J,Y.getBoundingRect());kG0(Y,J)}return Y}function An($,Q,J){var K=new n5({style:{image:$,x:Q.x,y:Q.y,width:Q.width,height:Q.height},onload:function(Y){if(J==="center"){var q={width:Y.width,height:Y.height};K.setStyle(PG0(Q,q))}}});return K}function PG0($,Q){var J=Q.width/Q.height,K=$.height*J,Y;if(K<=$.width)Y=$.height;else K=$.width,Y=K/J;var q=$.x+$.width/2,Z=$.y+$.height/2;return{x:q-K/2,y:Z-Y/2,width:K,height:Y}}var l8=KG0;function kG0($,Q){if(!$.applyTransform)return;var J=$.getBoundingRect(),K=J.calculateTransform(Q);$.applyTransform(K)}function HY($,Q){return PW($,$,{lineWidth:Q}),$}function AJ1($,Q){return mE($,$,Q),$}var WG=V4;function KQ($,Q){var J=NZ([]);while($&&$!==Q)T8(J,$.getLocalTransform(),J),$=$.parent;return J}function k8($,Q,J){if(Q&&!c6(Q))Q=s4.getLocalTransform(Q);if(J)Q=D7([],Q);return o5([],$,Q)}function fW($,Q,J){var K=Q[4]===0||Q[5]===0||Q[0]===0?1:o$(2*Q[4]/Q[0]),Y=Q[4]===0||Q[5]===0||Q[2]===0?1:o$(2*Q[4]/Q[2]),q=[$==="left"?-K:$==="right"?K:0,$==="top"?-Y:$==="bottom"?Y:0];return q=k8(q,Q,J),o$(q[0])>o$(q[1])?q[0]>0?"right":"left":q[1]>0?"bottom":"top"}function DG0($){return!$.isGroup}function VJ1($){return $.shape!=null}function NY($,Q,J){if(!$||!Q)return;function K(Z){var X={};return Z.traverse(function(W){if(DG0(W)&&W.anid)X[W.anid]=W}),X}function Y(Z){var X={x:Z.x,y:Z.y,rotation:Z.rotation};if(VJ1(Z))X.shape=y0(Z.shape);return X}var q=K($);Q.traverse(function(Z){if(DG0(Z)&&Z.anid){var X=q[Z.anid];if(X){var W=Y(Z);Z.attr(Y(X)),V1(Z,W,J,m0(Z).dataIndex)}}})}function Vn($,Q){return K0($,function(J){var K=J[0];K=D6(K,Q.x),K=m8(K,Q.x+Q.width);var Y=J[1];return Y=D6(Y,Q.y),Y=m8(Y,Q.y+Q.height),[K,Y]})}function RJ1($,Q){var J=D6($.x,Q.x),K=m8($.x+$.width,Q.x+Q.width),Y=D6($.y,Q.y),q=m8($.y+$.height,Q.y+Q.height);if(K>=J&&q>=Y)return{x:J,y:Y,width:K-J,height:q-Y}}function BY($,Q,J){var K=Q0({rectHover:!0},Q),Y=K.style={strokeNoScale:!0};if(J=J||{x:-1,y:-1,width:2,height:2},$)return $.indexOf("image://")===0?(Y.image=$.slice(8),b0(Y,J),new n5(K)):_W($.replace("path://",""),K,J,"center")}function kN($,Q,J,K,Y){for(var q=0,Z=Y[Y.length-1];q<Y.length;q++){var X=Y[q];if(jG0($,Q,J,K,X[0],X[1],Z[0],Z[1]))return!0;Z=X}}function jG0($,Q,J,K,Y,q,Z,X){var W=J-$,F=K-Q,H=Z-Y,B=X-q,z=Nn(H,B,W,F);if(GJ1(z))return!1;var A=$-Y,R=Q-q,G=Nn(A,R,W,F)/z;if(G<0||G>1)return!1;var w=Nn(A,R,H,B)/z;if(w<0||w>1)return!1;return!0}function Nn($,Q,J,K){return $*K-J*Q}function GJ1($){return $<=0.000001&&$>=-0.000001}function t3($,Q,J,K,Y){if(Q==null)return $;else if(U1(Q))v6[0]=v6[1]=v6[2]=v6[3]=Q;else S0(Q.length===4),v6[0]=Q[0],v6[1]=Q[1],v6[2]=Q[2],v6[3]=Q[3];if(K)v6[0]=D6(0,v6[0]),v6[1]=D6(0,v6[1]),v6[2]=D6(0,v6[2]),v6[3]=D6(0,v6[3]);if(J)v6[0]=-v6[0],v6[1]=-v6[1],v6[2]=-v6[2],v6[3]=-v6[3];return CG0($,v6,"x","width",3,1,Y&&Y[0]||0),CG0($,v6,"y","height",0,2,Y&&Y[1]||0),$}var v6=[0,0,0,0];function CG0($,Q,J,K,Y,q,Z){var X=Q[q]+Q[Y],W=$[K];if($[K]+=X,Z=D6(0,m8(Z,W)),$[K]<Z)$[K]=Z,$[J]+=Q[Y]>=0?-Q[Y]:Q[q]>=0?W+Q[q]:o$(X)>0.00000001?(W-Z)*Q[Y]/X:0;else $[J]-=Q[Y]}function r8($){var{itemTooltipOption:Q,componentModel:J,itemName:K}=$,Y=B0(Q)?{formatter:Q}:Q,q=J.mainType,Z=J.componentIndex,X={componentType:q,name:K,$vars:["name"]};X[q+"Index"]=Z;var W=$.formatterParamsExtra;if(W)v(Z1(W),function(H){if(!x0(X,H))X[H]=W[H],X.$vars.push(H)});var F=m0($.el);F.componentMainType=q,F.componentIndex=Z,F.tooltipConfig={name:K,option:b0({content:K,encodeHTMLContent:!0,formatterParams:X},Y)}}function zn($,Q){var J;if($.isGroup)J=Q($);if(!J)$.traverse(Q)}function G4($,Q){if($)if(J0($))for(var J=0;J<$.length;J++)zn($[J],Q);else zn($,Q)}function UL($){return!$||o$($[1])<FL&&o$($[2])<FL||o$($[0])<FL&&o$($[3])<FL}var FL=0.00001;function jN($,Q){return $?u0.copy($,Q):Q.clone()}function HL($,Q){return Q?oX($||Q6(),Q):void 0}function e3($){return{z:$.get("z")||0,zlevel:$.get("zlevel")||0}}function Rn($){var Q=-1/0,J=1/0;zn($,function(q){K(q),K(q.getTextContent()),K(q.getTextGuideLine())});function K(q){if(!q||q.isGroup)return;var Z=q.currentStates;if(Z.length)for(var X=0;X<Z.length;X++)Y(q.states[Z[X]]);Y(q)}function Y(q){if(q){var Z=q.z2;if(Z>Q)Q=Z;if(Z<J)J=Z}}if(J>Q)J=Q=0;return{min:J,max:Q}}function IW($,Q,J){EG0($,Q,J,-1/0)}function EG0($,Q,J,K){if($.ignoreModelZ)return K;var Y=$.getTextContent(),q=$.getTextGuideLine(),Z=$.isGroup;if(Z){var X=$.childrenRef();for(var W=0;W<X.length;W++)K=D6(EG0(X[W],Q,J,K),K)}else $.z=Q,$.zlevel=J,K=D6($.z2||0,K);if(Y)Y.z=Q,Y.zlevel=J,isFinite(K)&&(Y.z2=K+2);if(q){var F=$.textGuideLineConfig;q.z=Q,q.zlevel=J,isFinite(K)&&(q.z2=K+(F&&F.showAbove?1:-1))}return K}JQ("circle",R4);JQ("ellipse",YG);JQ("sector",I6);JQ("ring",LW);JQ("polygon",z6);JQ("polyline",K6);JQ("rect",Q1);JQ("line",l5);JQ("bezierCurve",hW);JQ("arc",XG);var NL={};function _G0($,Q){for(var J=0;J<M7.length;J++){var K=M7[J],Y=Q[K],q=$.ensureState(K);q.style=q.style||{},q.style.text=Y}var Z=$.currentStates.slice();$.clearStates(!0),$.setStyle({text:Q.normal}),$.useStates(Z,!0)}function Gn($,Q,J){var{labelFetcher:K,labelDataIndex:Y,labelDimIndex:q}=$,Z=Q.normal,X;if(K)X=K.getFormattedLabel(Y,"normal",null,q,Z&&Z.get("formatter"),J!=null?{interpolatedValue:J}:null);if(X==null)X=v0($.defaultText)?$.defaultText(Y,$,J):$.defaultText;var W={normal:X};for(var F=0;F<M7.length;F++){var H=M7[F],B=Q[H];W[H]=f0(K?K.getFormattedLabel(Y,H,null,q,B&&B.get("formatter")):null,X)}return W}function v5($,Q,J,K){J=J||NL;var Y=$ instanceof w1,q=!1;for(var Z=0;Z<jZ.length;Z++){var X=Q[jZ[Z]];if(X&&X.getShallow("show")){q=!0;break}}var W=Y?$:$.getTextContent();if(q){if(!Y){if(!W)W=new w1,$.setTextContent(W);if($.stateProxy)W.stateProxy=$.stateProxy}var F=Gn(J,Q),H=Q.normal,B=!!H.getShallow("show"),z=Z5(H,K&&K.normal,J,!1,!Y);if(z.text=F.normal,!Y)$.setTextConfig(FG(H,J,!1));for(var Z=0;Z<M7.length;Z++){var A=M7[Z],X=Q[A];if(X){var R=W.ensureState(A),G=!!f0(X.getShallow("show"),B);if(G!==B)R.ignore=!G;if(R.style=Z5(X,K&&K[A],J,!0,!Y),R.style.text=F[A],!Y){var w=$.ensureState(A);w.textConfig=FG(X,J,!0)}}}if(W.silent=!!H.getShallow("silent"),W.style.x!=null)z.x=W.style.x;if(W.style.y!=null)z.y=W.style.y;if(W.ignore=!B,W.useStyle(z),W.dirty(),J.enableTextSetter)zY(W).setLabelText=function(T){var D=Gn(J,Q,T);_G0(W,D)}}else if(W)W.ignore=!0;$.dirty()}function k5($,Q){Q=Q||"label";var J={normal:$.getModel(Q)};for(var K=0;K<M7.length;K++){var Y=M7[K];J[Y]=$.getModel([Y,Q])}return J}function Z5($,Q,J,K,Y){var q={};return wJ1(q,$,J,K,Y),Q&&Q0(q,Q),q}function FG($,Q,J){Q=Q||{};var K={},Y,q=$.getShallow("rotate"),Z=f0($.getShallow("distance"),J?null:5),X=$.getShallow("offset");if(Y=$.getShallow("position")||(J?null:"inside"),Y==="outside"&&(Y=Q.defaultOutsidePosition||"top"),Y!=null)K.position=Y;if(X!=null)K.offset=X;if(q!=null)q*=Math.PI/180,K.rotation=q;if(Z!=null)K.distance=Z;if(K.outsideFill=$.get("color")==="inherit"?Q.inheritColor||null:"auto",Q.autoOverflowArea!=null)K.autoOverflowArea=Q.autoOverflowArea;if(Q.layoutRect!=null)K.layoutRect=Q.layoutRect;return K}function wJ1($,Q,J,K,Y){J=J||NL;var q=Q.ecModel,Z=q&&q.option.textStyle,X=OJ1(Q),W;if(X){W={};var F="richInheritPlainLabel",H=f0(Q.get(F),q?q.get(F):void 0);for(var B in X)if(X.hasOwnProperty(B)){var z=Q.getModel(["rich",B]);SG0(W[B]={},z,Z,Q,H,J,K,Y,!1,!0)}}if(W)$.rich=W;var A=Q.get("overflow");if(A)$.overflow=A;var R=Q.get("lineOverflow");if(R)$.lineOverflow=R;var G=$,w=Q.get("minMargin");if(w!=null)w=!U1(w)?0:w/2,G.margin=[w,w,w,w],G.__marginType=MW.minMargin;else{var T=Q.get("textMargin");if(T!=null)G.margin=UZ(T),G.__marginType=MW.textMargin}SG0($,Q,Z,null,null,J,K,Y,!0,!1)}function OJ1($){var Q;while($&&$!==$.ecModel){var J=($.option||NL).rich;if(J){Q=Q||{};var K=Z1(J);for(var Y=0;Y<K.length;Y++){var q=K[Y];Q[q]=1}}$=$.parentModel}return Q}var LG0=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],hG0=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],vG0=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function SG0($,Q,J,K,Y,q,Z,X,W,F){J=!Z&&J||NL;var H=q&&q.inheritColor,B=Q.getShallow("color"),z=Q.getShallow("textBorderColor"),A=f0(Q.getShallow("opacity"),J.opacity);if(B==="inherit"||B==="auto"){if(B==="auto")C6("color: 'auto'","color: 'inherit'");if(H)B=H;else B=null}if(z==="inherit"||z==="auto"){if(z==="auto")C6("color: 'auto'","color: 'inherit'");if(H)z=H;else z=null}if(!X)B=B||J.color,z=z||J.textBorderColor;if(B!=null)$.fill=B;if(z!=null)$.stroke=z;var R=f0(Q.getShallow("textBorderWidth"),J.textBorderWidth);if(R!=null)$.lineWidth=R;var G=f0(Q.getShallow("textBorderType"),J.textBorderType);if(G!=null)$.lineDash=G;var w=f0(Q.getShallow("textBorderDashOffset"),J.textBorderDashOffset);if(w!=null)$.lineDashOffset=w;if(!Z&&A==null&&!F)A=q&&q.defaultOpacity;if(A!=null)$.opacity=A;if(!Z&&!X){if($.fill==null&&q.inheritColor)$.fill=q.inheritColor}for(var T=0;T<LG0.length;T++){var D=LG0[T],P=Y!==!1&&K?B6(Q.getShallow(D),K.getShallow(D),J[D]):f0(Q.getShallow(D),J[D]);if(P!=null)$[D]=P}for(var T=0;T<hG0.length;T++){var D=hG0[T],P=Q.getShallow(D);if(P!=null)$[D]=P}if($.verticalAlign==null){var j=Q.getShallow("baseline");if(j!=null)$.verticalAlign=j}if(!W||!q.disableBox){for(var T=0;T<vG0.length;T++){var D=vG0[T],P=Q.getShallow(D);if(P!=null)$[D]=P}var E=Q.getShallow("borderType");if(E!=null)$.borderDash=E;if(($.backgroundColor==="auto"||$.backgroundColor==="inherit")&&H){if($.backgroundColor==="auto")C6("backgroundColor: 'auto'","backgroundColor: 'inherit'");$.backgroundColor=H}if(($.borderColor==="auto"||$.borderColor==="inherit")&&H){if($.borderColor==="auto")C6("borderColor: 'auto'","borderColor: 'inherit'");$.borderColor=H}}}function EN($,Q){var J=Q&&Q.getModel("textStyle");return O7([$.fontStyle||J&&J.getShallow("fontStyle")||"",$.fontWeight||J&&J.getShallow("fontWeight")||"",($.fontSize||J&&J.getShallow("fontSize")||12)+"px",$.fontFamily||J&&J.getShallow("fontFamily")||"sans-serif"].join(" "))}var zY=n0();function BL($,Q,J,K){if(!$)return;var Y=zY($);Y.prevValue=Y.value,Y.value=J;var q=Q.normal;if(Y.valueAnimation=q.get("valueAnimation"),Y.valueAnimation)Y.precision=q.get("precision"),Y.defaultInterpolatedText=K,Y.statesModels=Q}function zL($,Q,J,K,Y){var q=zY($);if(!q.valueAnimation||q.prevValue===q.value)return;var Z=q.defaultInterpolatedText,X=f0(q.interpolatedValue,q.prevValue),W=q.value;function F(H){var B=IE(J,q.precision,X,W,H);q.interpolatedValue=H===1?null:B;var z=Gn({labelDataIndex:Q,labelFetcher:Y,defaultText:Z?Z(B):B+""},q.statesModels,B);_G0($,z)}$.percent=0,(q.prevValue==null?t1:V1)($,{percent:1},K,Q,null,F)}var MW={minMargin:1,textMargin:2};var DJ1=["textStyle","color"],wn=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],On=new w1,CJ1=function(){function $(){}return $.prototype.getTextColor=function(Q){var J=this.ecModel;return this.getShallow("color")||(!Q&&J?J.get(DJ1):null)},$.prototype.getFont=function(){return EN({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},$.prototype.getTextRect=function(Q){var J={text:Q,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")};for(var K=0;K<wn.length;K++)J[wn[K]]=this.getShallow(wn[K]);return On.useStyle(J),On.update(),On.getBoundingRect()},$}(),fG0=CJ1;var Tn=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],PJ1=t4(Tn),IG0=function(){function $(){}return $.prototype.getLineStyle=function(Q){return PJ1(this,Q)},$}();var Dn=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],kJ1=t4(Dn),MG0=function(){function $(){}return $.prototype.getItemStyle=function(Q,J){return kJ1(this,Q,J)},$}();var bW=function(){function $(Q,J,K){this.parentModel=J,this.ecModel=K,this.option=Q}return $.prototype.init=function(Q,J,K){var Y=[];for(var q=3;q<arguments.length;q++)Y[q-3]=arguments[q]},$.prototype.mergeOption=function(Q,J){K1(this.option,Q,!0)},$.prototype.get=function(Q,J){if(Q==null)return this.option;return this._doGet(this.parsePath(Q),!J&&this.parentModel)},$.prototype.getShallow=function(Q,J){var K=this.option,Y=K==null?K:K[Q];if(Y==null&&!J){var q=this.parentModel;if(q)Y=q.getShallow(Q)}return Y},$.prototype.getModel=function(Q,J){var K=Q!=null,Y=K?this.parsePath(Q):null,q=K?this._doGet(Y):this.option;return J=J||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(Y)),new $(q,J,this.ecModel)},$.prototype.isEmpty=function(){return this.option==null},$.prototype.restoreData=function(){},$.prototype.clone=function(){var Q=this.constructor;return new Q(y0(this.option))},$.prototype.parsePath=function(Q){if(typeof Q==="string")return Q.split(".");return Q},$.prototype.resolveParentPath=function(Q){return Q},$.prototype.isAnimationEnabled=function(){if(!L1.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;else if(this.parentModel)return this.parentModel.isAnimationEnabled()}},$.prototype._doGet=function(Q,J){var K=this.option;if(!Q)return K;for(var Y=0;Y<Q.length;Y++){if(!Q[Y])continue;if(K=K&&typeof K==="object"?K[Q[Y]]:null,K==null)break}if(K==null&&J)K=J._doGet(this.resolveParentPath(Q),J.parentModel);return K},$}();VN(bW);mV0(bW);_5(bW,IG0);_5(bW,MG0);_5(bW,pV0);_5(bW,fG0);var D1=bW;var jJ1=Math.round(Math.random()*10);function $$($){return[$||"",jJ1++].join("_")}function bG0($){var Q={};$.registerSubTypeDefaulter=function(J,K){var Y=a4(J);Q[Y.main]=K},$.determineSubType=function(J,K){var Y=K.type;if(!Y){var q=a4(J).main;if($.hasSubTypes(J)&&Q[q])Y=Q[q](K)}return Y}}function gG0($,Q){$.topologicalTravel=function(q,Z,X,W){if(!q.length)return;var F=J(Z),H=F.graph,B=F.noEntryList,z={};v(q,function(D){z[D]=!0});while(B.length){var A=B.pop(),R=H[A],G=!!z[A];if(G)X.call(W,A,R.originalDeps.slice()),delete z[A];v(R.successor,G?T:w)}v(z,function(){var D="";throw D=U7("Circular dependency may exists: ",z,q,Z),Error(D)});function w(D){if(H[D].entryCount--,H[D].entryCount===0)B.push(D)}function T(D){z[D]=!0,w(D)}};function J(q){var Z={},X=[];return v(q,function(W){var F=K(Z,W),H=F.originalDeps=Q(W),B=Y(H,q);if(F.entryCount=B.length,F.entryCount===0)X.push(W);v(B,function(z){if(o0(F.predecessor,z)<0)F.predecessor.push(z);var A=K(Z,z);if(o0(A.successor,z)<0)A.successor.push(W)})}),{graph:Z,noEntryList:X}}function K(q,Z){if(!q[Z])q[Z]={predecessor:[],successor:[]};return q[Z]}function Y(q,Z){var X=[];return v(q,function(W){o0(Z,W)>=0&&X.push(W)}),X}}function i8($,Q){return K1(K1({},$,!0),Q,!0)}var yG0={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}};var xG0={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var VL="ZH",Pn="EN",LN=Pn,AL={},kn={},RL=!L1.domSupported?LN:function(){var $=(document.documentElement.lang||navigator.language||navigator.browserLanguage||LN).toUpperCase();return $.indexOf(VL)>-1?VL:LN}();function cG0($,Q){$=$.toUpperCase(),kn[$]=new D1(Q),AL[$]=Q}function uG0($){if(B0($)){var Q=AL[$.toUpperCase()]||{};if($===VL||$===Pn)return y0(Q);else return K1(y0(Q),y0(AL[LN]),!1)}else return K1(y0($),y0(AL[LN]),!1)}function UG($){return kn[$]}function mG0(){return kn[LN]}cG0(Pn,yG0);cG0(VL,xG0);var jn=null;function pG0($){if(!jn)jn=$}function Z6(){return jn}var OL=1000,TL=OL*60,hN=TL*60,m9=hN*24,En=m9*365,EJ1={year:/({yyyy}|{yy})/,month:/({MMMM}|{MMM}|{MM}|{M})/,day:/({dd}|{d})/,hour:/({HH}|{H}|{hh}|{h})/,minute:/({mm}|{m})/,second:/({ss}|{s})/,millisecond:/({SSS}|{S})/},wL={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}"},LJ1="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}",GL="{yyyy}-{MM}-{dd}",Ln={year:"{yyyy}",month:"{yyyy}-{MM}",day:GL,hour:GL+" "+wL.hour,minute:GL+" "+wL.minute,second:GL+" "+wL.second,millisecond:LJ1},K9=["year","month","day","hour","minute","second","millisecond"],dG0=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function nG0($){return!B0($)&&!v0($)?hJ1($):$}function hJ1($){$=$||{};var Q={},J=!0;return v(K9,function(K){J&&(J=$[K]==null)}),v(K9,function(K,Y){var q=$[K];Q[K]={};var Z=null;for(var X=Y;X>=0;X--){var W=K9[X],F=I0(q)&&!J0(q)?q[W]:q,H=void 0;if(J0(F))H=F.slice(),Z=H[0]||"";else if(B0(F))Z=F,H=[Z];else{if(Z==null)Z=wL[K];else if(!EJ1[W].test(Z))Z=Q[W][W][0]+" "+Z;if(H=[Z],J)H[1]="{primary|"+Z+"}"}Q[K][W]=H}}),Q}function AY($,Q){return $+="","0000".substr(0,Q-$.length)+$}function vN($){switch($){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return $}}function lG0($){return $===vN($)}function rG0($){switch($){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function gW($,Q,J,K){var Y=n3($),q=Y[hn(J)](),Z=Y[CL(J)]()+1,X=Math.floor((Z-1)/3)+1,W=Y[PL(J)](),F=Y["get"+(J?"UTC":"")+"Day"](),H=Y[kL(J)](),B=(H-1)%12+1,z=Y[jL(J)](),A=Y[EL(J)](),R=Y[LL(J)](),G=H>=12?"pm":"am",w=G.toUpperCase(),T=K instanceof D1?K:UG(K||RL)||mG0(),D=T.getModel("time"),P=D.get("month"),j=D.get("monthAbbr"),E=D.get("dayOfWeek"),L=D.get("dayOfWeekAbbr");return(Q||"").replace(/{a}/g,G+"").replace(/{A}/g,w+"").replace(/{yyyy}/g,q+"").replace(/{yy}/g,AY(q%100+"",2)).replace(/{Q}/g,X+"").replace(/{MMMM}/g,P[Z-1]).replace(/{MMM}/g,j[Z-1]).replace(/{MM}/g,AY(Z,2)).replace(/{M}/g,Z+"").replace(/{dd}/g,AY(W,2)).replace(/{d}/g,W+"").replace(/{eeee}/g,E[F]).replace(/{ee}/g,L[F]).replace(/{e}/g,F+"").replace(/{HH}/g,AY(H,2)).replace(/{H}/g,H+"").replace(/{hh}/g,AY(B+"",2)).replace(/{h}/g,B+"").replace(/{mm}/g,AY(z,2)).replace(/{m}/g,z+"").replace(/{ss}/g,AY(A,2)).replace(/{s}/g,A+"").replace(/{SSS}/g,AY(R,3)).replace(/{S}/g,R+"")}function iG0($,Q,J,K,Y){var q=null;if(B0(J))q=J;else if(v0(J)){var Z={time:$.time,level:$.time.level},X=Z6();if(X)X.makeAxisLabelFormatterParamBreak(Z,$.break);q=J($.value,Q,Z)}else{var W=$.time;if(W){var F=J[W.lowerTimeUnit][W.upperTimeUnit];q=F[Math.min(W.level,F.length-1)]||""}else{var H=yW($.value,Y);q=J[H][H][0]}}return gW(new Date($.value),q,Y,K)}function yW($,Q){var J=n3($),K=J[CL(Q)]()+1,Y=J[PL(Q)](),q=J[kL(Q)](),Z=J[jL(Q)](),X=J[EL(Q)](),W=J[LL(Q)](),F=W===0,H=F&&X===0,B=H&&Z===0,z=B&&q===0,A=z&&Y===1,R=A&&K===1;if(R)return"year";else if(A)return"month";else if(z)return"day";else if(B)return"hour";else if(H)return"minute";else if(F)return"second";else return"millisecond"}function DL($,Q,J){switch(Q){case"year":$[vn(J)](0);case"month":$[Sn(J)](1);case"day":$[_n(J)](0);case"hour":$[fn(J)](0);case"minute":$[In(J)](0);case"second":$[Mn(J)](0)}return $}function hn($){return $?"getUTCFullYear":"getFullYear"}function CL($){return $?"getUTCMonth":"getMonth"}function PL($){return $?"getUTCDate":"getDate"}function kL($){return $?"getUTCHours":"getHours"}function jL($){return $?"getUTCMinutes":"getMinutes"}function EL($){return $?"getUTCSeconds":"getSeconds"}function LL($){return $?"getUTCMilliseconds":"getMilliseconds"}function sG0($){return $?"setUTCFullYear":"setFullYear"}function vn($){return $?"setUTCMonth":"setMonth"}function Sn($){return $?"setUTCDate":"setDate"}function _n($){return $?"setUTCHours":"setHours"}function fn($){return $?"setUTCMinutes":"setMinutes"}function In($){return $?"setUTCSeconds":"setSeconds"}function Mn($){return $?"setUTCMilliseconds":"setMilliseconds"}function gn($){if(!zN($))return B0($)?$:"-";var Q=($+"").split(".");return Q[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(Q.length>1?"."+Q[1]:"")}function hL($,Q){if($=($||"").toLowerCase().replace(/-(.)/g,function(J,K){return K.toUpperCase()}),Q&&$)$=$.charAt(0).toUpperCase()+$.slice(1);return $}var bJ=UZ;function vL($,Q,J){var K="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function Y(H){return H&&O7(H)?H:"-"}function q(H){return!!(H!=null&&!isNaN(H)&&isFinite(H))}var Z=Q==="time",X=$ instanceof Date;if(Z||X){var W=Z?n3($):$;if(!isNaN(+W))return gW(W,K,J);else if(X)return"-"}if(Q==="ordinal")return tH($)?Y($):U1($)?q($)?$+"":"-":"-";var F=l3($);return q(F)?gn(F):tH($)?Y($):typeof $==="boolean"?$+"":"-"}var oG0=["a","b","c","d","e","f","g"],bn=function($,Q){return"{"+$+(Q==null?"":Q)+"}"};function SL($,Q,J){if(!J0(Q))Q=[Q];var K=Q.length;if(!K)return"";var Y=Q[0].$vars||[];for(var q=0;q<Y.length;q++){var Z=oG0[q];$=$.replace(bn(Z),bn(Z,0))}for(var X=0;X<K;X++)for(var W=0;W<Y.length;W++){var F=Q[X][Y[W]];$=$.replace(bn(oG0[W],X),J?S7(F):F)}return $}function aG0($,Q,J){return v(Q,function(K,Y){$=$.replace("{"+Y+"}",J?S7(K):K)}),$}function tG0($,Q){var J=B0($)?{color:$,extraCssText:Q}:$||{},K=J.color,Y=J.type;Q=J.extraCssText;var q=J.renderMode||"html";if(!K)return"";if(q==="html")return Y==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+S7(K)+";"+(Q||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+S7(K)+";"+(Q||"")+'"></span>';else{var Z=J.markerId||"markerX";return{renderMode:q,content:"{"+Z+"|}  ",style:Y==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:K}:{width:10,height:10,borderRadius:5,backgroundColor:K}}}}function YQ($,Q){return Q=Q||"transparent",B0($)?$:I0($)?$.colorStops&&($.colorStops[0]||{}).color||Q:Q}function xW($,Q){if(Q==="_blank"||Q==="blank"){var J=window.open();J.opener=null,J.location.href=$}else window.open($,Q)}var _L={},yn={},vJ1=function(){function $(){this._normalMasterList=[],this._nonSeriesBoxMasterList=[]}return $.prototype.create=function(Q,J){this._nonSeriesBoxMasterList=K(_L,!0),this._normalMasterList=K(yn,!1);function K(Y,q){var Z=[];return v(Y,function(X,W){var F=X.create(Q,J);if(Z=Z.concat(F||[]),q)v(F,function(H){return S0(!H.update)})}),Z}},$.prototype.update=function(Q,J){v(this._normalMasterList,function(K){K.update&&K.update(Q,J)})},$.prototype.getCoordinateSystems=function(){return this._normalMasterList.concat(this._nonSeriesBoxMasterList)},$.register=function(Q,J){if(Q==="matrix"||Q==="calendar"){_L[Q]=J;return}yn[Q]=J},$.get=function(Q){return yn[Q]||_L[Q]},$}();function SJ1($){return!!_L[$]}var fL={coord:1,coord2:2};function eG0($){S0(!xn.get($.fullType)),xn.set($.fullType,{getCoord2:void 0}).getCoord2=$.getCoord2}var xn=L0();function $w0($){var Q=$.getShallow("coord",!0),J=fL.coord;if(Q==null){var K=xn.get($.type);if(K&&K.getCoord2)J=fL.coord2,Q=K.getCoord2($)}return{coord:Q,from:J}}var qQ={none:0,dataCoordSys:1,boxCoordSys:2};function cn($,Q){var J=$.getShallow("coordinateSystem"),K=$.getShallow("coordinateSystemUsage",!0),Y=K!=null,q=qQ.none;if(J){var Z=$.mainType==="series";if(K==null)K=Z?"data":"box";if(K==="data"){if(q=qQ.dataCoordSys,!Z){if(Y&&Q)P1('coordinateSystemUsage "data" is not supported in non-series components.');q=qQ.none}}else if(K==="box"){if(q=qQ.boxCoordSys,!Z&&!SJ1(J)){if(Y&&Q)P1('coordinateSystem "'+J+'" cannot be used'+(' as coordinateSystemUsage "box" for "'+$.type+'" yet.'));q=qQ.none}}}return{coordSysType:J,kind:q}}function gJ($){var{targetModel:Q,coordSysType:J,coordSysProvider:K,isDefaultDataCoordSys:Y,allowNotFound:q}=$;S0(!!J);var Z=cn(Q,!0),X=Z.kind,W=Z.coordSysType;if(Y&&X!==qQ.dataCoordSys)X=qQ.dataCoordSys,W=J;if(X===qQ.none||W!==J)return!1;var F=K(J,Q);if(!F){if(!q)P1(J+" cannot be found for"+(" "+Q.type+" (index: "+Q.componentIndex+")."));return!1}if(X===qQ.dataCoordSys)S0(Q.mainType==="series"),Q.coordinateSystem=F;else Q.boxCoordinateSystem=F;return!0}var IL=function($,Q){var J=Q.getReferringComponents($,w5).models[0];return J&&J.coordinateSystem},ZQ=vJ1;var ML=v,un=["left","right","top","bottom","width","height"],cW=[["width","left","right"],["height","top","bottom"]];function mn($,Q,J,K,Y){var q=0,Z=0;if(K==null)K=1/0;if(Y==null)Y=1/0;var X=0;Q.eachChild(function(W,F){var H=W.getBoundingRect(),B=Q.childAt(F+1),z=B&&B.getBoundingRect(),A,R;if($==="horizontal"){var G=H.width+(z?-z.x+H.x:0);if(A=q+G,A>K||W.newline)q=0,A=G,Z+=X+J,X=H.height;else X=Math.max(X,H.height)}else{var w=H.height+(z?-z.y+H.y:0);if(R=Z+w,R>Y||W.newline)q+=X+J,Z=0,R=w,X=H.width;else X=Math.max(X,H.width)}if(W.newline)return;W.x=q,W.y=Z,W.markRedraw(),$==="horizontal"?q=A+J:Z=R+J})}var XQ=mn,U75=a0(mn,"vertical"),H75=a0(mn,"horizontal");function bL($,Q){return{left:$.getShallow("left",Q),top:$.getShallow("top",Q),right:$.getShallow("right",Q),bottom:$.getShallow("bottom",Q),width:$.getShallow("width",Q),height:$.getShallow("height",Q)}}function _J1($,Q){var J=D5($,Q,{enableLayoutOnlyByCenter:!0}),K=$.getBoxLayoutParams(),Y,q;if(J.type===NG.point)q=J.refPoint,Y=e1(K,{width:Q.getWidth(),height:Q.getHeight()});else{var Z=$.get("center"),X=J0(Z)?Z:[Z,Z];Y=e1(K,J.refContainer),q=J.boxCoordFrom===fL.coord2?J.refPoint:[h0(X[0],Y.width)+Y.x,h0(X[1],Y.height)+Y.y]}return{viewRect:Y,center:q}}function gL($,Q){var J=_J1($,Q),K=J.viewRect,Y=J.center,q=$.get("radius");if(!J0(q))q=[0,q];var Z=h0(K.width,Q.getWidth()),X=h0(K.height,Q.getHeight()),W=Math.min(Z,X),F=h0(q[0],W/2),H=h0(q[1],W/2);return{cx:Y[0],cy:Y[1],r0:F,r:H,viewRect:K}}function e1($,Q,J){J=bJ(J||0);var{width:K,height:Y}=Q,q=h0($.left,K),Z=h0($.top,Y),X=h0($.right,K),W=h0($.bottom,Y),F=h0($.width,K),H=h0($.height,Y),B=J[2]+J[0],z=J[1]+J[3],A=$.aspect;if(isNaN(F))F=K-X-z-q;if(isNaN(H))H=Y-W-B-Z;if(A!=null){if(isNaN(F)&&isNaN(H))if(A>K/Y)F=K*0.8;else H=Y*0.8;if(isNaN(F))F=A*H;if(isNaN(H))H=F/A}if(isNaN(q))q=K-X-F-z;if(isNaN(Z))Z=Y-W-H-B;switch($.left||$.right){case"center":q=K/2-F/2-J[3];break;case"right":q=K-F-z;break}switch($.top||$.bottom){case"middle":case"center":Z=Y/2-H/2-J[0];break;case"bottom":Z=Y-H-B;break}if(q=q||0,Z=Z||0,isNaN(F))F=K-z-q-(X||0);if(isNaN(H))H=Y-B-Z-(W||0);var R=new u0((Q.x||0)+q+J[3],(Q.y||0)+Z+J[0],F,H);return R.margin=J,R}function yL($,Q,J){var K=$.getShallow("preserveAspect",!0);if(!K)return Q;var Y=Q.width/Q.height;if(Math.abs(Math.atan(J)-Math.atan(Y))<0.000000001)return Q;var q=$.getShallow("preserveAspectAlign",!0),Z=$.getShallow("preserveAspectVerticalAlign",!0),X={width:Q.width,height:Q.height},W=K==="cover";if(Y>J&&!W||Y<J&&W)X.width=Q.height*J,q==="left"?X.left=0:q==="right"?X.right=0:X.left="center";else X.height=Q.width/J,Z==="top"?X.top=0:Z==="bottom"?X.bottom=0:X.top="middle";return e1(X,Q)}var NG={rect:1,point:2};function D5($,Q,J){var K,Y,q,Z=$.boxCoordinateSystem,X;if(Z){var W=$w0($),F=W.coord,H=W.from;if(Z.dataToLayout){q=NG.rect,X=H;var B=Z.dataToLayout(F);K=B.contentRect||B.rect}else if(J&&J.enableLayoutOnlyByCenter&&Z.dataToPoint)q=NG.point,X=H,Y=Z.dataToPoint(F);else P1($.type+"["+$.componentIndex+"]"+(" layout based on "+Z.type+" is not supported."))}if(q==null)q=NG.rect;if(q===NG.rect){if(!K)K={x:0,y:0,width:Q.getWidth(),height:Q.getHeight()};Y=[K.x+K.width/2,K.y+K.height/2]}return{type:q,refContainer:K,refPoint:Y,boxCoordFrom:X}}function hZ($,Q,J,K,Y,q){var Z=!Y||!Y.hv||Y.hv[0],X=!Y||!Y.hv||Y.hv[1],W=Y&&Y.boundingMode||"all";if(q=q||$,q.x=$.x,q.y=$.y,!Z&&!X)return!1;var F;if(W==="raw")F=$.type==="group"?new u0(0,0,+Q.width||0,+Q.height||0):$.getBoundingRect();else if(F=$.getBoundingRect(),$.needLocalTransform()){var H=$.getLocalTransform();F=F.clone(),F.applyTransform(H)}var B=e1(b0({width:F.width,height:F.height},Q),J,K),z=Z?B.x-F.x:0,A=X?B.y-F.y:0;if(W==="raw")q.x=z,q.y=A;else q.x+=z,q.y+=A;if(q===$)$.markRedraw();return!0}function Qw0($,Q){return $[cW[Q][0]]!=null||$[cW[Q][1]]!=null&&$[cW[Q][2]]!=null}function vZ($){var Q=$.layoutMode||$.constructor.layoutMode;return I0(Q)?Q:Q?{type:Q}:null}function j8($,Q,J){var K=J&&J.ignoreSize;!J0(K)&&(K=[K,K]);var Y=Z(cW[0],0),q=Z(cW[1],1);W(cW[0],$,Y),W(cW[1],$,q);function Z(F,H){var B={},z=0,A={},R=0,G=2;if(ML(F,function(D){A[D]=$[D]}),ML(F,function(D){x0(Q,D)&&(B[D]=A[D]=Q[D]),X(B,D)&&z++,X(A,D)&&R++}),K[H]){if(X(Q,F[1]))A[F[2]]=null;else if(X(Q,F[2]))A[F[1]]=null;return A}if(R===G||!z)return A;else if(z>=G)return B;else{for(var w=0;w<F.length;w++){var T=F[w];if(!x0(B,T)&&x0($,T)){B[T]=$[T];break}}return B}}function X(F,H){return F[H]!=null&&F[H]!=="auto"}function W(F,H,B){ML(F,function(z){H[z]=B[z]})}}function Y9($){return pn({},$)}function pn($,Q){return Q&&$&&ML(un,function(J){x0(Q,J)&&($[J]=Q[J])}),$}var fJ1=n0(),SN=function($){x(Q,$);function Q(J,K,Y){var q=$.call(this,J,K,Y)||this;return q.uid=$$("ec_cpt_model"),q}return Q.prototype.init=function(J,K,Y){this.mergeDefaultAndTheme(J,Y)},Q.prototype.mergeDefaultAndTheme=function(J,K){var Y=vZ(this),q=Y?Y9(J):{},Z=K.getTheme();if(K1(J,Z.get(this.mainType)),K1(J,this.getDefaultOption()),Y)j8(J,q,Y)},Q.prototype.mergeOption=function(J,K){K1(this.option,J,!0);var Y=vZ(this);if(Y)j8(this.option,J,Y)},Q.prototype.optionUpdated=function(J,K){},Q.prototype.getDefaultOption=function(){var J=this.constructor;if(!uV0(J))return J.defaultOption;var K=fJ1(this);if(!K.defaultOption){var Y=[],q=J;while(q){var Z=q.prototype.defaultOption;Z&&Y.push(Z),q=q.superClass}var X={};for(var W=Y.length-1;W>=0;W--)X=K1(X,Y[W],!0);K.defaultOption=X}return K.defaultOption},Q.prototype.getReferringComponents=function(J,K){var Y=J+"Index",q=J+"Id";return jJ(this.ecModel,J,{index:this.get(Y,!0),id:this.get(q,!0)},K)},Q.prototype.getBoxLayoutParams=function(){return bL(this,!1)},Q.prototype.getZLevelKey=function(){return""},Q.prototype.setZLevel=function(J){this.option.zlevel=J},Q.protoInitialize=function(){var J=Q.prototype;J.type="component",J.id="",J.name="",J.mainType="",J.subType="",J.componentIndex=0}(),Q}(D1);bE(SN,D1);DZ(SN);bG0(SN);gG0(SN,IJ1);function IJ1($){var Q=[];if(v(SN.getClassesByMainType($),function(J){Q=Q.concat(J.dependencies||J.prototype.dependencies||[])}),Q=K0(Q,function(J){return a4(J).main}),$!=="dataset"&&o0(Q,"dataset")<=0)Q.unshift("dataset");return Q}var B1=SN;var uW={color:{},darkColor:{},size:{}},H7=uW.color={theme:["#5070dd","#b6d634","#505372","#ff994d","#0ca8df","#ffd10a","#fb628b","#785db0","#3fbe95"],neutral00:"#fff",neutral05:"#f4f7fd",neutral10:"#e8ebf0",neutral15:"#dbdee4",neutral20:"#cfd2d7",neutral25:"#c3c5cb",neutral30:"#b7b9be",neutral35:"#aaacb2",neutral40:"#9ea0a5",neutral45:"#929399",neutral50:"#86878c",neutral55:"#797b7f",neutral60:"#6d6e73",neutral65:"#616266",neutral70:"#54555a",neutral75:"#48494d",neutral80:"#3c3c41",neutral85:"#303034",neutral90:"#232328",neutral95:"#17171b",neutral99:"#000",accent05:"#eff1f9",accent10:"#e0e4f2",accent15:"#d0d6ec",accent20:"#c0c9e6",accent25:"#b1bbdf",accent30:"#a1aed9",accent35:"#91a0d3",accent40:"#8292cc",accent45:"#7285c6",accent50:"#6578ba",accent55:"#5c6da9",accent60:"#536298",accent65:"#4a5787",accent70:"#404c76",accent75:"#374165",accent80:"#2e3654",accent85:"#252b43",accent90:"#1b2032",accent95:"#121521",transparent:"rgba(0,0,0,0)",highlight:"rgba(255,231,130,0.8)"};Q0(H7,{primary:H7.neutral80,secondary:H7.neutral70,tertiary:H7.neutral60,quaternary:H7.neutral50,disabled:H7.neutral20,border:H7.neutral30,borderTint:H7.neutral20,borderShade:H7.neutral40,background:H7.neutral05,backgroundTint:"rgba(234,237,245,0.5)",backgroundTransparent:"rgba(255,255,255,0)",backgroundShade:H7.neutral10,shadow:"rgba(0,0,0,0.2)",shadowTint:"rgba(129,130,136,0.2)",axisLine:H7.neutral70,axisLineTint:H7.neutral40,axisTick:H7.neutral70,axisTickMinor:H7.neutral60,axisLabel:H7.neutral70,axisSplitLine:H7.neutral15,axisMinorSplitLine:H7.neutral05});for(VY in H7)if(H7.hasOwnProperty(VY))if(xL=H7[VY],VY==="theme")uW.darkColor.theme=H7.theme.slice();else if(VY==="highlight")uW.darkColor.highlight="rgba(255,231,130,0.4)";else if(VY.indexOf("accent")===0)uW.darkColor[VY]=d3(xL,null,function($){return $*0.5},function($){return Math.min(1,1.3-$)});else uW.darkColor[VY]=d3(xL,null,function($){return $*0.9},function($){return 1-Math.pow($,1.5)});var xL,VY;uW.size={xxs:2,xs:5,s:10,m:15,l:20,xl:30,xxl:40,xxxl:50};var a=uW;var Jw0="";if(typeof navigator<"u")Jw0=navigator.platform||"";var _N="rgba(0, 0, 0, 0.2)",Kw0=a.color.theme[0],MJ1=d3(Kw0,null,null,0.9),Yw0={darkMode:"auto",colorBy:"series",color:a.color.theme,gradientColor:[MJ1,Kw0],aria:{decal:{decals:[{color:_N,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:_N,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:0.8},{color:_N,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:_N,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:_N,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:_N,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:0.75}]}},textStyle:{fontFamily:Jw0.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1000,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2000,progressiveThreshold:3000,progressive:400,hoverLayerThreshold:3000,useUTC:!1};var BG=L0(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),l7="original",p6="arrayRows",q8="objectRows",Z9="keyedColumns",p9="typedArray",dn="unknown",w4="column",yJ="row";var r7={Must:1,Might:2,Not:3},qw0=n0();function Zw0($){qw0($).datasetMap=L0()}function cL($,Q,J){var K={},Y=uL(Q);if(!Y||!$)return K;var q=[],Z=[],X=Q.ecModel,W=qw0(X).datasetMap,F=Y.uid+"_"+J.seriesLayoutBy,H,B;$=$.slice(),v($,function(G,w){var T=I0(G)?G:$[w]={name:G};if(T.type==="ordinal"&&H==null)H=w,B=R(T);K[T.name]=[]});var z=W.get(F)||W.set(F,{categoryWayDim:B,valueWayDim:0});v($,function(G,w){var T=G.name,D=R(G);if(H==null){var P=z.valueWayDim;A(K[T],P,D),A(Z,P,D),z.valueWayDim+=D}else if(H===w)A(K[T],0,D),A(q,0,D);else{var P=z.categoryWayDim;A(K[T],P,D),A(Z,P,D),z.categoryWayDim+=D}});function A(G,w,T){for(var D=0;D<T;D++)G.push(w+D)}function R(G){var w=G.dimsDef;return w?w.length:1}return q.length&&(K.itemName=q),Z.length&&(K.seriesName=Z),K}function fN($,Q,J){var K={},Y=uL($);if(!Y)return K;var{sourceFormat:q,dimensionsDefine:Z}=Q,X;if(q===q8||q===Z9)v(Z,function(H,B){if((I0(H)?H.name:H)==="name")X=B});var W=function(){var H={},B={},z=[];for(var A=0,R=Math.min(5,J);A<R;A++){var G=Ww0(Q.data,q,Q.seriesLayoutBy,Z,Q.startIndex,A);z.push(G);var w=G===r7.Not;if(w&&H.v==null&&A!==X)H.v=A;if(H.n==null||H.n===H.v||!w&&z[H.n]===r7.Not)H.n=A;if(T(H)&&z[H.n]!==r7.Not)return H;if(!w){if(G===r7.Might&&B.v==null&&A!==X)B.v=A;if(B.n==null||B.n===B.v)B.n=A}}function T(D){return D.v!=null&&D.n!=null}return T(H)?H:T(B)?B:null}();if(W){K.value=[W.v];var F=X!=null?X:W.n;K.itemName=[F],K.seriesName=[F]}return K}function uL($){var Q=$.get("data",!0);if(!Q)return jJ($.ecModel,"dataset",{index:$.get("datasetIndex",!0),id:$.get("datasetId",!0)},w5).models[0]}function Xw0($){if(!$.get("transform",!0)&&!$.get("fromTransformResult",!0))return[];return jJ($.ecModel,"dataset",{index:$.get("fromDatasetIndex",!0),id:$.get("fromDatasetId",!0)},w5).models}function mL($,Q){return Ww0($.data,$.sourceFormat,$.seriesLayoutBy,$.dimensionsDefine,$.startIndex,Q)}function Ww0($,Q,J,K,Y,q){var Z,X=5;if(u6($))return r7.Not;var W,F;if(K){var H=K[q];if(I0(H))W=H.name,F=H.type;else if(B0(H))W=H}if(F!=null)return F==="ordinal"?r7.Must:r7.Not;if(Q===p6){var B=$;if(J===yJ){var z=B[q];for(var A=0;A<(z||[]).length&&A<X;A++)if((Z=j(z[Y+A]))!=null)return Z}else for(var A=0;A<B.length&&A<X;A++){var R=B[Y+A];if(R&&(Z=j(R[q]))!=null)return Z}}else if(Q===q8){var G=$;if(!W)return r7.Not;for(var A=0;A<G.length&&A<X;A++){var w=G[A];if(w&&(Z=j(w[W]))!=null)return Z}}else if(Q===Z9){var T=$;if(!W)return r7.Not;var z=T[W];if(!z||u6(z))return r7.Not;for(var A=0;A<z.length&&A<X;A++)if((Z=j(z[A]))!=null)return Z}else if(Q===l7){var D=$;for(var A=0;A<D.length&&A<X;A++){var w=D[A],P=a$(w);if(!J0(P))return r7.Not;if((Z=j(P[q]))!=null)return Z}}function j(E){var L=B0(E);if(E!=null&&Number.isFinite(Number(E))&&E!=="")return L?r7.Might:r7.Not;else if(L&&E!=="-")return r7.Must}return r7.Not}var nn=L0();function Fw0($,Q){S0(nn.get($)==null&&Q),nn.set($,Q)}function Uw0($,Q,J){var K=nn.get(Q);if(!K)return J;var Y=K($);if(!Y)return J;for(var q=0;q<Y.length;q++)S0(TZ(Y[q]));return J.concat(Y)}var Hw0=n0(),bJ1=n0(),zG=function(){function $(){}return $.prototype.getColorFromPalette=function(Q,J,K){var Y=K5(this.get("color",!0)),q=this.get("colorLayer",!0);return Nw0(this,Hw0,Y,q,Q,J,K)},$.prototype.clearColorPalette=function(){yJ1(this,Hw0)},$}();function AG($,Q,J,K){var Y=K5($.get(["aria","decal","decals"]));return Nw0($,bJ1,Y,null,Q,J,K)}function gJ1($,Q){var J=$.length;for(var K=0;K<J;K++)if($[K].length>Q)return $[K];return $[J-1]}function Nw0($,Q,J,K,Y,q,Z){q=q||$;var X=Q(q),W=X.paletteIdx||0,F=X.paletteNameMap=X.paletteNameMap||{};if(F.hasOwnProperty(Y))return F[Y];var H=Z==null||!K?J:gJ1(K,Z);if(H=H||J,!H||!H.length)return;var B=H[W];if(Y)F[Y]=B;return X.paletteIdx=(W+1)%H.length,B}function yJ1($,Q){Q($).paletteIdx=0,Q($).paletteNameMap={}}var pL,VG,Bw0,ln="\x00_ec_inner",zw0=1,xJ1={grid:"GridComponent",polar:"PolarComponent",geo:"GeoComponent",singleAxis:"SingleAxisComponent",parallel:"ParallelComponent",calendar:"CalendarComponent",matrix:"MatrixComponent",graphic:"GraphicComponent",toolbox:"ToolboxComponent",tooltip:"TooltipComponent",axisPointer:"AxisPointerComponent",brush:"BrushComponent",title:"TitleComponent",timeline:"TimelineComponent",markPoint:"MarkPointComponent",markLine:"MarkLineComponent",markArea:"MarkAreaComponent",legend:"LegendComponent",dataZoom:"DataZoomComponent",visualMap:"VisualMapComponent",xAxis:"GridComponent",yAxis:"GridComponent",angleAxis:"PolarComponent",radiusAxis:"PolarComponent"},cJ1={line:"LineChart",bar:"BarChart",pie:"PieChart",scatter:"ScatterChart",radar:"RadarChart",map:"MapChart",tree:"TreeChart",treemap:"TreemapChart",graph:"GraphChart",chord:"ChordChart",gauge:"GaugeChart",funnel:"FunnelChart",parallel:"ParallelChart",sankey:"SankeyChart",boxplot:"BoxplotChart",candlestick:"CandlestickChart",effectScatter:"EffectScatterChart",lines:"LinesChart",heatmap:"HeatmapChart",pictorialBar:"PictorialBarChart",themeRiver:"ThemeRiverChart",sunburst:"SunburstChart",custom:"CustomChart"},dL={};function uJ1($){v($,function(Q,J){if(!B1.hasClass(J)){var K=xJ1[J];if(K&&!dL[K])P1("Component "+J+` is used but not imported.
import { `+K+` } from 'echarts/components';
echarts.use([`+K+"]);"),dL[K]=!0}})}var Gw0=function($){x(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.init=function(J,K,Y,q,Z,X){q=q||{},this.option=null,this._theme=new D1(q),this._locale=new D1(Z),this._optionManager=X},Q.prototype.setOption=function(J,K,Y){S0(J!=null,"option is null/undefined"),S0(J[ln]!==zw0,"please use chart.getOption()");var q=Rw0(K);this._optionManager.setOption(J,Y,q),this._resetOption(null,q)},Q.prototype.resetOption=function(J,K){return this._resetOption(J,Rw0(K))},Q.prototype._resetOption=function(J,K){var Y=!1,q=this._optionManager;if(!J||J==="recreate"){var Z=q.mountOption(J==="recreate");if(uJ1(Z),!this.option||J==="recreate")Bw0(this,Z);else this.restoreData(),this._mergeOption(Z,K);Y=!0}if(J==="timeline"||J==="media")this.restoreData();if(!J||J==="recreate"||J==="timeline"){var X=q.getTimelineOption(this);if(X)Y=!0,this._mergeOption(X,K)}if(!J||J==="recreate"||J==="media"){var W=q.getMediaOption(this);if(W.length)v(W,function(F){Y=!0,this._mergeOption(F,K)},this)}return Y},Q.prototype.mergeOption=function(J){this._mergeOption(J,null)},Q.prototype._mergeOption=function(J,K){var Y=this.option,q=this._componentsMap,Z=this._componentsCount,X=[],W=L0(),F=K&&K.replaceMergeMainTypeMap;if(Zw0(this),v(J,function(B,z){if(B==null)return;if(!B1.hasClass(z))Y[z]=Y[z]==null?y0(B):K1(Y[z],B,!0);else if(z)X.push(z),W.set(z,!0)}),F)F.each(function(B,z){if(B1.hasClass(z)&&!W.get(z))X.push(z),W.set(z,!0)});B1.topologicalTravel(X,B1.getAllClassMainTypes(),H,this);function H(B){var z=Uw0(this,B,K5(J[B])),A=q.get(B),R=!A?"replaceAll":F&&F.get(B)?"replaceMerge":"normalMerge",G=fE(A,z,R);MV0(G,B,B1),Y[B]=null,q.set(B,null),Z.set(B,0);var w=[],T=[],D=0,P,j;if(v(G,function(E,L){var{existing:h,newOption:_}=E;if(!_){if(h)h.mergeOption({},this),h.optionUpdated({},!1)}else{var S=B==="series",I=B1.getClass(B,E.keyInfo.subType,!S);if(!I){var M=E.keyInfo.subType,y=cJ1[M];if(!dL[M])if(dL[M]=!0,y)P1("Series "+M+` is used but not imported.
import { `+y+` } from 'echarts/charts';
echarts.use([`+y+"]);");else P1("Unknown series "+M);return}if(B==="tooltip"){if(P){if(!j)T5("Currently only one tooltip component is allowed."),j=!0;return}P=!0}if(h&&h.constructor===I)h.name=E.keyInfo.name,h.mergeOption(_,this),h.optionUpdated(_,!1);else{var b=Q0({componentIndex:L},E.keyInfo);if(h=new I(_,this,this,b),Q0(h,b),E.brandNew)h.__requireNewView=!0;h.init(_,this,this),h.optionUpdated(null,!0)}}if(h)w.push(h.option),T.push(h),D++;else w.push(void 0),T.push(void 0)},this),Y[B]=w,q.set(B,T),Z.set(B,D),B==="series")pL(this)}if(!this._seriesIndices)pL(this)},Q.prototype.getOption=function(){var J=y0(this.option);return v(J,function(K,Y){if(B1.hasClass(Y)){var q=K5(K),Z=q.length,X=!1;for(var W=Z-1;W>=0;W--)if(q[W]&&!TZ(q[W]))X=!0;else q[W]=null,!X&&Z--;q.length=Z,J[Y]=q}}),delete J[ln],J},Q.prototype.setTheme=function(J){this._theme=new D1(J),this._resetOption("recreate",null)},Q.prototype.getTheme=function(){return this._theme},Q.prototype.getLocaleModel=function(){return this._locale},Q.prototype.setUpdatePayload=function(J){this._payload=J},Q.prototype.getUpdatePayload=function(){return this._payload},Q.prototype.getComponent=function(J,K){var Y=this._componentsMap.get(J);if(Y){var q=Y[K||0];if(q)return q;else if(K==null){for(var Z=0;Z<Y.length;Z++)if(Y[Z])return Y[Z]}}},Q.prototype.queryComponents=function(J){var K=J.mainType;if(!K)return[];var{index:Y,id:q,name:Z}=J,X=this._componentsMap.get(K);if(!X||!X.length)return[];var W;if(Y!=null)W=[],v(K5(Y),function(F){X[F]&&W.push(X[F])});else if(q!=null)W=Aw0("id",q,X);else if(Z!=null)W=Aw0("name",Z,X);else W=j1(X,function(F){return!!F});return Vw0(W,J)},Q.prototype.findComponents=function(J){var{query:K,mainType:Y}=J,q=X(K),Z=q?this.queryComponents(q):j1(this._componentsMap.get(Y),function(F){return!!F});return W(Vw0(Z,J));function X(F){var H=Y+"Index",B=Y+"Id",z=Y+"Name";return F&&(F[H]!=null||F[B]!=null||F[z]!=null)?{mainType:Y,index:F[H],id:F[B],name:F[z]}:null}function W(F){return J.filter?j1(F,J.filter):F}},Q.prototype.eachComponent=function(J,K,Y){var q=this._componentsMap;if(v0(J)){var Z=K,X=J;q.each(function(B,z){for(var A=0;B&&A<B.length;A++){var R=B[A];R&&X.call(Z,z,R,R.componentIndex)}})}else{var W=B0(J)?q.get(J):I0(J)?this.findComponents(J):null;for(var F=0;W&&F<W.length;F++){var H=W[F];H&&K.call(Y,H,H.componentIndex)}}},Q.prototype.getSeriesByName=function(J){var K=q6(J,null);return j1(this._componentsMap.get("series"),function(Y){return!!Y&&K!=null&&Y.name===K})},Q.prototype.getSeriesByIndex=function(J){return this._componentsMap.get("series")[J]},Q.prototype.getSeriesByType=function(J){return j1(this._componentsMap.get("series"),function(K){return!!K&&K.subType===J})},Q.prototype.getSeries=function(){return j1(this._componentsMap.get("series"),function(J){return!!J})},Q.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},Q.prototype.eachSeries=function(J,K){VG(this),v(this._seriesIndices,function(Y){var q=this._componentsMap.get("series")[Y];J.call(K,q,Y)},this)},Q.prototype.eachRawSeries=function(J,K){v(this._componentsMap.get("series"),function(Y){Y&&J.call(K,Y,Y.componentIndex)})},Q.prototype.eachSeriesByType=function(J,K,Y){VG(this),v(this._seriesIndices,function(q){var Z=this._componentsMap.get("series")[q];if(Z.subType===J)K.call(Y,Z,q)},this)},Q.prototype.eachRawSeriesByType=function(J,K,Y){return v(this.getSeriesByType(J),K,Y)},Q.prototype.isSeriesFiltered=function(J){return VG(this),this._seriesIndicesMap.get(J.componentIndex)==null},Q.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},Q.prototype.filterSeries=function(J,K){VG(this);var Y=[];v(this._seriesIndices,function(q){var Z=this._componentsMap.get("series")[q];J.call(K,Z,q)&&Y.push(q)},this),this._seriesIndices=Y,this._seriesIndicesMap=L0(Y)},Q.prototype.restoreData=function(J){pL(this);var K=this._componentsMap,Y=[];K.each(function(q,Z){if(B1.hasClass(Z))Y.push(Z)}),B1.topologicalTravel(Y,B1.getAllClassMainTypes(),function(q){v(K.get(q),function(Z){if(Z&&(q!=="series"||!mJ1(Z,J)))Z.restoreData()})})},Q.internalField=function(){pL=function(J){var K=J._seriesIndices=[];v(J._componentsMap.get("series"),function(Y){Y&&K.push(Y.componentIndex)}),J._seriesIndicesMap=L0(K)},VG=function(J){if(!J._seriesIndices)throw Error("Option should contains series.")},Bw0=function(J,K){J.option={},J.option[ln]=zw0,J._componentsMap=L0({series:[]}),J._componentsCount=L0();var Y=K.aria;if(I0(Y)&&Y.enabled==null)Y.enabled=!0;pJ1(K,J._theme.option),K1(K,Yw0,!1),J._mergeOption(K,null)}}(),Q}(D1);function mJ1($,Q){if(Q){var{seriesIndex:J,seriesId:K,seriesName:Y}=Q;return J!=null&&$.componentIndex!==J||K!=null&&$.id!==K||Y!=null&&$.name!==Y}}function pJ1($,Q){var J=$.color&&!$.colorLayer;v(Q,function(K,Y){if(Y==="colorLayer"&&J||Y==="color"&&$.color)return;if(!B1.hasClass(Y)){if(typeof K==="object")$[Y]=!$[Y]?y0(K):K1($[Y],K,!1);else if($[Y]==null)$[Y]=K}})}function Aw0($,Q,J){if(J0(Q)){var K=L0();return v(Q,function(q){if(q!=null){var Z=q6(q,null);Z!=null&&K.set(q,!0)}}),j1(J,function(q){return q&&K.get(q[$])})}else{var Y=q6(Q,null);return j1(J,function(q){return q&&Y!=null&&q[$]===Y})}}function Vw0($,Q){return Q.hasOwnProperty("subType")?j1($,function(J){return J&&J.subType===Q.subType}):$}function Rw0($){var Q=L0();return $&&v(K5($.replaceMerge),function(J){S0(B1.hasClass(J),'"'+J+'" is not valid component main type in "replaceMerge"'),Q.set(J,!0)}),{replaceMergeMainTypeMap:Q}}_5(Gw0,zG);var nL=Gw0;var dJ1=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],nJ1=function(){function $(Q){v(dJ1,function(J){this[J]=O0(Q[J],Q)},this)}return $}(),lL=nJ1;var lJ1=/^(min|max)?(.+)$/,rJ1=function(){function $(Q){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=Q}return $.prototype.setOption=function(Q,J,K){if(Q)v(K5(Q.series),function(Z){Z&&Z.data&&u6(Z.data)&&sX(Z.data)}),v(K5(Q.dataset),function(Z){Z&&Z.source&&u6(Z.source)&&sX(Z.source)});Q=y0(Q);var Y=this._optionBackup,q=iJ1(Q,J,!Y);if(this._newBaseOption=q.baseOption,Y){if(q.timelineOptions.length)Y.timelineOptions=q.timelineOptions;if(q.mediaList.length)Y.mediaList=q.mediaList;if(q.mediaDefault)Y.mediaDefault=q.mediaDefault}else this._optionBackup=q},$.prototype.mountOption=function(Q){var J=this._optionBackup;return this._timelineOptions=J.timelineOptions,this._mediaList=J.mediaList,this._mediaDefault=J.mediaDefault,this._currentMediaIndices=[],y0(Q?J.baseOption:this._newBaseOption)},$.prototype.getTimelineOption=function(Q){var J,K=this._timelineOptions;if(K.length){var Y=Q.getComponent("timeline");if(Y)J=y0(K[Y.getCurrentIndex()])}return J},$.prototype.getMediaOption=function(Q){var J=this._api.getWidth(),K=this._api.getHeight(),Y=this._mediaList,q=this._mediaDefault,Z=[],X=[];if(!Y.length&&!q)return X;for(var W=0,F=Y.length;W<F;W++)if(sJ1(Y[W].query,J,K))Z.push(W);if(!Z.length&&q)Z=[-1];if(Z.length&&!aJ1(Z,this._currentMediaIndices))X=K0(Z,function(H){return y0(H===-1?q.option:Y[H].option)});return this._currentMediaIndices=Z,X},$}();function iJ1($,Q,J){var K=[],Y,q,Z=$.baseOption,X=$.timeline,W=$.options,F=$.media,H=!!$.media,B=!!(W||X||Z&&Z.timeline);if(Z){if(q=Z,!q.timeline)q.timeline=X}else{if(B||H)$.options=$.media=null;q=$}if(H)if(J0(F))v(F,function(A){if(A&&!A.option&&I0(A.query)&&I0(A.query.option))P1("Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }");if(A&&A.option){if(A.query)K.push(A);else if(!Y)Y=A}});else P1("Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }");z(q),v(W,function(A){return z(A)}),v(K,function(A){return z(A.option)});function z(A){v(Q,function(R){R(A,J)})}return{baseOption:q,timelineOptions:W||[],mediaDefault:Y,mediaList:K}}function sJ1($,Q,J){var K={width:Q,height:J,aspectratio:Q/J},Y=!0;return v($,function(q,Z){var X=Z.match(lJ1);if(!X||!X[1]||!X[2])return;var W=X[1],F=X[2].toLowerCase();if(!oJ1(K[F],q,W))Y=!1}),Y}function oJ1($,Q,J){if(J==="min")return $>=Q;else if(J==="max")return $<=Q;else return $===Q}function aJ1($,Q){return $.join(",")===Q.join(",")}var ww0=rJ1;var Q$=v,GG=I0,Ow0=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function rn($){var Q=$&&$.itemStyle;if(!Q)return;for(var J=0,K=Ow0.length;J<K;J++){var Y=Ow0[J],q=Q.normal,Z=Q.emphasis;if(q&&q[Y]){if(C6("itemStyle.normal."+Y,Y),$[Y]=$[Y]||{},!$[Y].normal)$[Y].normal=q[Y];else K1($[Y].normal,q[Y]);q[Y]=null}if(Z&&Z[Y]){if(C6("itemStyle.emphasis."+Y,"emphasis."+Y),$[Y]=$[Y]||{},!$[Y].emphasis)$[Y].emphasis=Z[Y];else K1($[Y].emphasis,Z[Y]);Z[Y]=null}}}function s8($,Q,J){if($&&$[Q]&&($[Q].normal||$[Q].emphasis)){var K=$[Q].normal,Y=$[Q].emphasis;if(K)if(z4("'normal' hierarchy in "+Q+" has been removed since 4.0. All style properties are configured in "+Q+" directly now."),J)$[Q].normal=$[Q].emphasis=null,b0($[Q],K);else $[Q]=K;if(Y){if(z4(Q+".emphasis has been changed to emphasis."+Q+" since 4.0"),$.emphasis=$.emphasis||{},$.emphasis[Q]=Y,Y.focus)$.emphasis.focus=Y.focus;if(Y.blurScope)$.emphasis.blurScope=Y.blurScope}}}function RG($){s8($,"itemStyle"),s8($,"lineStyle"),s8($,"areaStyle"),s8($,"label"),s8($,"labelLine"),s8($,"upperLabel"),s8($,"edgeLabel")}function C7($,Q){var J=GG($)&&$[Q],K=GG(J)&&J.textStyle;if(K){z4("textStyle hierarchy in "+Q+" has been removed since 4.0. All textStyle properties are configured in "+Q+" directly now.");for(var Y=0,q=jd.length;Y<q;Y++){var Z=jd[Y];if(K.hasOwnProperty(Z))J[Z]=K[Z]}}}function J$($){if($)RG($),C7($,"label"),$.emphasis&&C7($.emphasis,"label")}function tJ1($){if(!GG($))return;if(rn($),RG($),C7($,"label"),C7($,"upperLabel"),C7($,"edgeLabel"),$.emphasis)C7($.emphasis,"label"),C7($.emphasis,"upperLabel"),C7($.emphasis,"edgeLabel");var Q=$.markPoint;if(Q)rn(Q),J$(Q);var J=$.markLine;if(J)rn(J),J$(J);var K=$.markArea;if(K)J$(K);var Y=$.data;if($.type==="graph"){Y=Y||$.nodes;var q=$.links||$.edges;if(q&&!u6(q))for(var Z=0;Z<q.length;Z++)J$(q[Z]);v($.categories,function(F){RG(F)})}if(Y&&!u6(Y))for(var Z=0;Z<Y.length;Z++)J$(Y[Z]);if(Q=$.markPoint,Q&&Q.data){var X=Q.data;for(var Z=0;Z<X.length;Z++)J$(X[Z])}if(J=$.markLine,J&&J.data){var W=J.data;for(var Z=0;Z<W.length;Z++)if(J0(W[Z]))J$(W[Z][0]),J$(W[Z][1]);else J$(W[Z])}if($.type==="gauge")C7($,"axisLabel"),C7($,"title"),C7($,"detail");else if($.type==="treemap")s8($.breadcrumb,"itemStyle"),v($.levels,function(F){RG(F)});else if($.type==="tree")RG($.leaves)}function RY($){return J0($)?$:$?[$]:[]}function Tw0($){return(J0($)?$[0]:$)||{}}function sn($,Q){Q$(RY($.series),function(K){GG(K)&&tJ1(K)});var J=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];Q&&J.push("valueAxis","categoryAxis","logAxis","timeAxis"),Q$(J,function(K){Q$(RY($[K]),function(Y){if(Y)C7(Y,"axisLabel"),C7(Y.axisPointer,"label")})}),Q$(RY($.parallel),function(K){var Y=K&&K.parallelAxisDefault;C7(Y,"axisLabel"),C7(Y&&Y.axisPointer,"label")}),Q$(RY($.calendar),function(K){s8(K,"itemStyle"),C7(K,"dayLabel"),C7(K,"monthLabel"),C7(K,"yearLabel")}),Q$(RY($.radar),function(K){if(C7(K,"name"),K.name&&K.axisName==null)K.axisName=K.name,delete K.name,z4("name property in radar component has been changed to axisName");if(K.nameGap!=null&&K.axisNameGap==null)K.axisNameGap=K.nameGap,delete K.nameGap,z4("nameGap property in radar component has been changed to axisNameGap");Q$(K.indicator,function(Y){if(Y.text)C6("text","name","radar.indicator")})}),Q$(RY($.geo),function(K){if(GG(K))J$(K),Q$(RY(K.regions),function(Y){J$(Y)})}),Q$(RY($.timeline),function(K){J$(K),s8(K,"label"),s8(K,"itemStyle"),s8(K,"controlStyle",!0);var Y=K.data;J0(Y)&&v(Y,function(q){if(I0(q))s8(q,"label"),s8(q,"itemStyle")})}),Q$(RY($.toolbox),function(K){s8(K,"iconStyle"),Q$(K.feature,function(Y){s8(Y,"iconStyle")})}),C7(Tw0($.axisPointer),"label"),C7(Tw0($.tooltip).axisPointer,"label")}function eJ1($,Q){var J=Q.split(","),K=$;for(var Y=0;Y<J.length;Y++)if(K=K&&K[J[Y]],K==null)break;return K}function $K1($,Q,J,K){var Y=Q.split(","),q=$,Z,X=0;for(;X<Y.length-1;X++){if(Z=Y[X],q[Z]==null)q[Z]={};q=q[Z]}if(K||q[Y[X]]==null)q[Y[X]]=J}function Dw0($){$&&v(QK1,function(Q){if(Q[0]in $&&!(Q[1]in $))$[Q[1]]=$[Q[0]]})}var QK1=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],JK1=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],on=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function wG($){var Q=$&&$.itemStyle;if(Q)for(var J=0;J<on.length;J++){var K=on[J][1],Y=on[J][0];if(Q[K]!=null)Q[Y]=Q[K],C6(K,Y)}}function Cw0($){if(!$)return;if($.alignTo==="edge"&&$.margin!=null&&$.edgeDistance==null)C6("label.margin","label.edgeDistance","pie"),$.edgeDistance=$.margin}function Pw0($){if(!$)return;if($.downplay&&!$.blur)$.blur=$.downplay,C6("downplay","blur","sunburst")}function KK1($){if(!$)return;if($.focusNodeAdjacency!=null){if($.emphasis=$.emphasis||{},$.emphasis.focus==null)C6("focusNodeAdjacency","emphasis: { focus: 'adjacency'}","graph/sankey"),$.emphasis.focus="adjacency"}}function kw0($,Q){if($)for(var J=0;J<$.length;J++)Q($[J]),$[J]&&kw0($[J].children,Q)}function rL($,Q){if(sn($,Q),$.series=K5($.series),v($.series,function(J){if(!I0(J))return;var K=J.type;if(K==="line"){if(J.clipOverflow!=null)J.clip=J.clipOverflow,C6("clipOverflow","clip","line")}else if(K==="pie"||K==="gauge"){if(J.clockWise!=null)J.clockwise=J.clockWise,C6("clockWise","clockwise");Cw0(J.label);var Y=J.data;if(Y&&!u6(Y))for(var q=0;q<Y.length;q++)Cw0(Y[q]);if(J.hoverOffset!=null){if(J.emphasis=J.emphasis||{},J.emphasis.scaleSize=null)C6("hoverOffset","emphasis.scaleSize"),J.emphasis.scaleSize=J.hoverOffset}}else if(K==="gauge"){var Z=eJ1(J,"pointer.color");Z!=null&&$K1(J,"itemStyle.color",Z)}else if(K==="bar"){wG(J),wG(J.backgroundStyle),wG(J.emphasis);var Y=J.data;if(Y&&!u6(Y)){for(var q=0;q<Y.length;q++)if(typeof Y[q]==="object")wG(Y[q]),wG(Y[q]&&Y[q].emphasis)}}else if(K==="sunburst"){var X=J.highlightPolicy;if(X){if(J.emphasis=J.emphasis||{},!J.emphasis.focus)J.emphasis.focus=X,C6("highlightPolicy","emphasis.focus","sunburst")}Pw0(J),kw0(J.data,Pw0)}else if(K==="graph"||K==="sankey")KK1(J);else if(K==="map"){if(J.mapType&&!J.map)C6("mapType","map","map"),J.map=J.mapType;if(J.mapLocation)z4("`mapLocation` is not used anymore."),b0(J,J.mapLocation)}if(J.hoverAnimation!=null){if(J.emphasis=J.emphasis||{},J.emphasis&&J.emphasis.scale==null)C6("hoverAnimation","emphasis.scale"),J.emphasis.scale=J.hoverAnimation}Dw0(J)}),$.dataRange)$.visualMap=$.dataRange;v(JK1,function(J){var K=$[J];if(K){if(!J0(K))K=[K];v(K,function(Y){Dw0(Y)})}})}function an($){var Q=L0();$.eachSeries(function(J){var K=J.get("stack");if(K){var Y=Q.get(K)||Q.set(K,[]),q=J.getData(),Z={stackResultDimension:q.getCalculationInfo("stackResultDimension"),stackedOverDimension:q.getCalculationInfo("stackedOverDimension"),stackedDimension:q.getCalculationInfo("stackedDimension"),stackedByDimension:q.getCalculationInfo("stackedByDimension"),isStackedByIndex:q.getCalculationInfo("isStackedByIndex"),data:q,seriesModel:J};if(!Z.stackedDimension||!(Z.isStackedByIndex||Z.stackedByDimension))return;Y.push(Z)}}),Q.each(function(J){if(J.length===0)return;var K=J[0].seriesModel,Y=K.get("stackOrder")||"seriesAsc";if(Y==="seriesDesc")J.reverse();v(J,function(q,Z){q.data.setCalculationInfo("stackedOnSeries",Z>0?J[Z-1].seriesModel:null)}),YK1(J)})}function YK1($){v($,function(Q,J){var K=[],Y=[NaN,NaN],q=[Q.stackResultDimension,Q.stackedOverDimension],Z=Q.data,X=Q.isStackedByIndex,W=Q.seriesModel.get("stackStrategy")||"samesign";Z.modify(q,function(F,H,B){var z=Z.get(Q.stackedDimension,B);if(isNaN(z))return Y;var A,R;if(X)R=Z.getRawIndex(B);else A=Z.get(Q.stackedByDimension,B);var G=NaN;for(var w=J-1;w>=0;w--){var T=$[w];if(!X)R=T.data.rawIndexOf(T.stackedByDimension,A);if(R>=0){var D=T.data.getByRawIndex(T.stackResultDimension,R);if(W==="all"||W==="positive"&&D>0||W==="negative"&&D<0||W==="samesign"&&z>=0&&D>0||W==="samesign"&&z<=0&&D<0){z=CV0(z,D),G=D;break}}}return K[0]=z,K[1]=G,K})})}var iL=function(){function $(Q){this.data=Q.data||(Q.sourceFormat===Z9?{}:[]),this.sourceFormat=Q.sourceFormat||dn,this.seriesLayoutBy=Q.seriesLayoutBy||w4,this.startIndex=Q.startIndex||0,this.dimensionsDetectedCount=Q.dimensionsDetectedCount,this.metaRawOption=Q.metaRawOption;var J=this.dimensionsDefine=Q.dimensionsDefine;if(J)for(var K=0;K<J.length;K++){var Y=J[K];if(Y.type==null){if(mL(this,K)===r7.Must)Y.type="ordinal"}}}return $}();function IN($){return $ instanceof iL}function OG($,Q,J){J=J||tn($);var K=Q.seriesLayoutBy,Y=qK1($,J,K,Q.sourceHeader,Q.dimensions),q=new iL({data:$,sourceFormat:J,seriesLayoutBy:K,dimensionsDefine:Y.dimensionsDefine,startIndex:Y.startIndex,dimensionsDetectedCount:Y.dimensionsDetectedCount,metaRawOption:y0(Q)});return q}function MN($){return new iL({data:$,sourceFormat:u6($)?p9:l7})}function Lw0($){return new iL({data:$.data,sourceFormat:$.sourceFormat,seriesLayoutBy:$.seriesLayoutBy,dimensionsDefine:y0($.dimensionsDefine),startIndex:$.startIndex,dimensionsDetectedCount:$.dimensionsDetectedCount})}function tn($){var Q=dn;if(u6($))Q=p9;else if(J0($)){if($.length===0)Q=p6;for(var J=0,K=$.length;J<K;J++){var Y=$[J];if(Y==null)continue;else if(J0(Y)||u6(Y)){Q=p6;break}else if(I0(Y)){Q=q8;break}}}else if(I0($)){for(var q in $)if(x0($,q)&&c6($[q])){Q=Z9;break}}return Q}function qK1($,Q,J,K,Y){var q,Z;if(!$)return{dimensionsDefine:jw0(Y),startIndex:Z,dimensionsDetectedCount:q};if(Q===p6){var X=$;if(K==="auto"||K==null)Ew0(function(F){if(F!=null&&F!=="-")if(B0(F))Z==null&&(Z=1);else Z=0},J,X,10);else Z=U1(K)?K:K?1:0;if(!Y&&Z===1)Y=[],Ew0(function(F,H){Y[H]=F!=null?F+"":""},J,X,1/0);q=Y?Y.length:J===yJ?X.length:X[0]?X[0].length:null}else if(Q===q8){if(!Y)Y=ZK1($)}else if(Q===Z9){if(!Y)Y=[],v($,function(F,H){Y.push(H)})}else if(Q===l7){var W=a$($[0]);q=J0(W)&&W.length||1}else if(Q===p9)S0(!!Y,"dimensions must be given if data is TypedArray.");return{startIndex:Z,dimensionsDefine:jw0(Y),dimensionsDetectedCount:q}}function ZK1($){var Q=0,J;while(Q<$.length&&!(J=$[Q++]));if(J)return Z1(J)}function jw0($){if(!$)return;var Q=L0();return K0($,function(J,K){J=I0(J)?J:{name:J};var Y={name:J.name,displayName:J.displayName,type:J.type};if(Y.name==null)return Y;if(Y.name+="",Y.displayName==null)Y.displayName=Y.name;var q=Q.get(Y.name);if(!q)Q.set(Y.name,{count:1});else Y.name+="-"+q.count++;return Y})}function Ew0($,Q,J,K){if(Q===yJ)for(var Y=0;Y<J.length&&Y<K;Y++)$(J[Y]?J[Y][0]:null,Y);else{var q=J[0]||[];for(var Y=0;Y<q.length&&Y<K;Y++)$(q[Y],Y)}}function sL($){var Q=$.sourceFormat;return Q===q8||Q===Z9}var mW,pW,dW,nW,hw0,vw0,tL=function(){function $(Q,J){var K=!IN(Q)?MN(Q):Q;this._source=K;var Y=this._data=K.data,q=K.sourceFormat,Z=K.seriesLayoutBy;if(q===p9){if(J==null)throw Error("Typed array data must specify dimension size");this._offset=0,this._dimSize=J,this._data=Y}var X=XK1[aL(q,Z)];X&&X(Y,K.dimensionsDefine),vw0(this,Y,K)}return $.prototype.getSource=function(){return this._source},$.prototype.count=function(){return 0},$.prototype.getItem=function(Q,J){return},$.prototype.appendData=function(Q){},$.prototype.clean=function(){},$.protoInitialize=function(){var Q=$.prototype;Q.pure=!1,Q.persistent=!0}(),$.internalField=function(){var Q;vw0=function(Z,X,W){var{sourceFormat:F,seriesLayoutBy:H,startIndex:B,dimensionsDefine:z}=W,A=hw0[aL(F,H)];if(S0(A,"Invalide sourceFormat: "+F),Q0(Z,A),F===p9)Z.getItem=J,Z.count=Y,Z.fillStorage=K;else{var R=$l(F,H);Z.getItem=O0(R,null,X,B,z);var G=Ql(F,H);Z.count=O0(G,null,X,B,z)}};var J=function(Z,X){Z=Z-this._offset,X=X||[];var W=this._data,F=this._dimSize,H=F*Z;for(var B=0;B<F;B++)X[B]=W[H+B];return X},K=function(Z,X,W,F){var H=this._data,B=this._dimSize;for(var z=0;z<B;z++){var A=F[z],R=A[0]==null?1/0:A[0],G=A[1]==null?-1/0:A[1],w=X-Z,T=W[z];for(var D=0;D<w;D++){var P=H[D*B+z];T[Z+D]=P,P<R&&(R=P),P>G&&(G=P)}A[0]=R,A[1]=G}},Y=function(){return this._data?this._data.length/this._dimSize:0};hw0=(Q={},Q[p6+"_"+w4]={pure:!0,appendData:q},Q[p6+"_"+yJ]={pure:!0,appendData:function(){throw Error('Do not support appendData when set seriesLayoutBy: "row".')}},Q[q8]={pure:!0,appendData:q},Q[Z9]={pure:!0,appendData:function(Z){var X=this._data;v(Z,function(W,F){var H=X[F]||(X[F]=[]);for(var B=0;B<(W||[]).length;B++)H.push(W[B])})}},Q[l7]={appendData:q},Q[p9]={persistent:!1,pure:!0,appendData:function(Z){S0(u6(Z),"Added data must be TypedArray if data in initialization is TypedArray"),this._data=Z},clean:function(){this._offset+=this.count(),this._data=null}},Q);function q(Z){for(var X=0;X<Z.length;X++)this._data.push(Z[X])}}(),$}();var oL=function($){if(!J0($))P1("series.data or dataset.source must be an array.")},XK1=(mW={},mW[p6+"_"+w4]=oL,mW[p6+"_"+yJ]=oL,mW[q8]=oL,mW[Z9]=function($,Q){for(var J=0;J<Q.length;J++){var K=Q[J].name;if(K==null)P1("dimension name must not be null/undefined.")}},mW[l7]=oL,mW),Sw0=function($,Q,J,K){return $[K]},WK1=(pW={},pW[p6+"_"+w4]=function($,Q,J,K){return $[K+Q]},pW[p6+"_"+yJ]=function($,Q,J,K,Y){K+=Q;var q=Y||[],Z=$;for(var X=0;X<Z.length;X++){var W=Z[X];q[X]=W?W[K]:null}return q},pW[q8]=Sw0,pW[Z9]=function($,Q,J,K,Y){var q=Y||[];for(var Z=0;Z<J.length;Z++){var X=J[Z].name,W=X!=null?$[X]:null;q[Z]=W?W[K]:null}return q},pW[l7]=Sw0,pW);function $l($,Q){var J=WK1[aL($,Q)];return S0(J,'Do not support get item on "'+$+'", "'+Q+'".'),J}var _w0=function($,Q,J){return $.length},FK1=(dW={},dW[p6+"_"+w4]=function($,Q,J){return Math.max(0,$.length-Q)},dW[p6+"_"+yJ]=function($,Q,J){var K=$[0];return K?Math.max(0,K.length-Q):0},dW[q8]=_w0,dW[Z9]=function($,Q,J){var K=J[0].name,Y=K!=null?$[K]:null;return Y?Y.length:0},dW[l7]=_w0,dW);function Ql($,Q){var J=FK1[aL($,Q)];return S0(J,'Do not support count on "'+$+'", "'+Q+'".'),J}var en=function($,Q,J){return $[Q]},UK1=(nW={},nW[p6]=en,nW[q8]=function($,Q,J){return $[J]},nW[Z9]=en,nW[l7]=function($,Q,J){var K=a$($);return!(K instanceof Array)?K:K[Q]},nW[p9]=en,nW);function Jl($){var Q=UK1[$];return S0(Q,'Do not support get value on "'+$+'".'),Q}function aL($,Q){return $===p6?$+"_"+Q:$}function GY($,Q,J){if(!$)return;var K=$.getRawDataItem(Q);if(K==null)return;var Y=$.getStore(),q=Y.getSource().sourceFormat;if(J!=null){var Z=$.getDimensionIndex(J),X=Y.getDimensionProperty(Z);return Jl(q)(K,Z,X)}else{var W=K;if(q===l7)W=a$(K);return W}}var HK1=/\{@(.+?)\}/g,lW=function(){function $(){}return $.prototype.getDataParams=function(Q,J){var K=this.getData(J),Y=this.getRawValue(Q,J),q=K.getRawIndex(Q),Z=K.getName(Q),X=K.getRawDataItem(Q),W=K.getItemVisual(Q,"style"),F=W&&W[K.getItemVisual(Q,"drawType")||"fill"],H=W&&W.stroke,B=this.mainType,z=B==="series",A=K.userOutput&&K.userOutput.get();return{componentType:B,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:z?this.subType:null,seriesIndex:this.seriesIndex,seriesId:z?this.id:null,seriesName:z?this.name:null,name:Z,dataIndex:q,data:X,dataType:J,value:Y,color:F,borderColor:H,dimensionNames:A?A.fullDimensions:null,encode:A?A.encode:null,$vars:["seriesName","name","value"]}},$.prototype.getFormattedLabel=function(Q,J,K,Y,q,Z){J=J||"normal";var X=this.getData(K),W=this.getDataParams(Q,K);if(Z)W.value=Z.interpolatedValue;if(Y!=null&&J0(W.value))W.value=W.value[Y];if(!q){var F=X.getItemModel(Q);q=F.get(J==="normal"?["label","formatter"]:[J,"label","formatter"])}if(v0(q))return W.status=J,W.dimensionIndex=Y,q(W);else if(B0(q)){var H=SL(q,W);return H.replace(HK1,function(B,z){var A=z.length,R=z;if(R.charAt(0)==="["&&R.charAt(A-1)==="]"){if(R=+R.slice(1,A-1),isNaN(R))P1("Invalide label formatter: @"+z+", only support @[0], @[1], @[2], ...")}var G=GY(X,Q,R);if(Z&&J0(Z.interpolatedValue)){var w=X.getDimensionIndex(R);if(w>=0)G=Z.interpolatedValue[w]}return G!=null?G+"":""})}},$.prototype.getRawValue=function(Q,J){return GY(this.getData(J),Q)},$.prototype.formatTooltip=function(Q,J,K){return},$}();function Kl($){var Q,J;if(I0($))if($.type)J=$;else console.warn("The return type of `formatTooltip` is not supported: "+U7($));else Q=$;return{text:Q,frag:J}}function SZ($){return new NK1($)}var NK1=function(){function $(Q){Q=Q||{},this._reset=Q.reset,this._plan=Q.plan,this._count=Q.count,this._onDirty=Q.onDirty,this._dirty=!0}return $.prototype.perform=function(Q){var J=this._upstream,K=Q&&Q.skip;if(this._dirty&&J){var Y=this.context;Y.data=Y.outputData=J.context.outputData}if(this.__pipeline)this.__pipeline.currentTask=this;var q;if(this._plan&&!K)q=this._plan(this.context);var Z=H(this._modBy),X=this._modDataCount||0,W=H(Q&&Q.modBy),F=Q&&Q.modDataCount||0;if(Z!==W||X!==F)q="reset";function H(D){return!(D>=1)&&(D=1),D}var B;if(this._dirty||q==="reset")this._dirty=!1,B=this._doReset(K);this._modBy=W,this._modDataCount=F;var z=Q&&Q.step;if(J)S0(J._outputDueEnd!=null),this._dueEnd=J._outputDueEnd;else S0(!this._progress||this._count),this._dueEnd=this._count?this._count(this.context):1/0;if(this._progress){var A=this._dueIndex,R=Math.min(z!=null?this._dueIndex+z:1/0,this._dueEnd);if(!K&&(B||A<R)){var G=this._progress;if(J0(G))for(var w=0;w<G.length;w++)this._doProgress(G[w],A,R,W,F);else this._doProgress(G,A,R,W,F)}this._dueIndex=R;var T=this._settedOutputEnd!=null?this._settedOutputEnd:R;S0(T>=this._outputDueEnd),this._outputDueEnd=T}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},$.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},$.prototype._doProgress=function(Q,J,K,Y,q){fw0.reset(J,K,Y,q),this._callingProgress=Q,this._callingProgress({start:J,end:K,count:K-J,next:fw0.next},this.context)},$.prototype._doReset=function(Q){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var J,K;if(!Q&&this._reset){if(J=this._reset(this.context),J&&J.progress)K=J.forceFirstProgress,J=J.progress;if(J0(J)&&!J.length)J=null}this._progress=J,this._modBy=this._modDataCount=null;var Y=this._downstream;return Y&&Y.dirty(),K},$.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},$.prototype.pipe=function(Q){if(S0(Q&&!Q._disposed&&Q!==this),this._downstream!==Q||this._dirty)this._downstream=Q,Q._upstream=this,Q.dirty()},$.prototype.dispose=function(){if(this._disposed)return;this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0},$.prototype.getUpstream=function(){return this._upstream},$.prototype.getDownstream=function(){return this._downstream},$.prototype.setOutputEnd=function(Q){this._outputDueEnd=this._settedOutputEnd=Q},$}();var fw0=function(){var $,Q,J,K,Y,q={reset:function(W,F,H,B){Q=W,$=F,J=H,K=B,Y=Math.ceil(K/J),q.next=J>1&&K>0?X:Z}};return q;function Z(){return Q<$?Q++:null}function X(){var W=Q%Y*J+Math.ceil(Q/Y),F=Q>=$?null:W<K?W:Q;return Q++,F}}();function K$($,Q){var J=Q&&Q.type;if(J==="ordinal")return $;if(J==="time"&&!U1($)&&$!=null&&$!=="-")$=+n3($);return $==null||$===""?NaN:Number($)}var BK1=L0({number:function($){return parseFloat($)},time:function($){return+n3($)},trim:function($){return B0($)?O7($):$}});function eL($){return BK1.get($)}var Iw0={lt:function($,Q){return $<Q},lte:function($,Q){return $<=Q},gt:function($,Q){return $>Q},gte:function($,Q){return $>=Q}},zK1=function(){function $(Q,J){if(!U1(J)){var K="";K='rvalue of "<", ">", "<=", ">=" can only be number in filter.',J5(K)}this._opFn=Iw0[Q],this._rvalFloat=l3(J)}return $.prototype.evaluate=function(Q){return U1(Q)?this._opFn(Q,this._rvalFloat):this._opFn(l3(Q),this._rvalFloat)},$}(),$h=function(){function $(Q,J){var K=Q==="desc";if(this._resultLT=K?1:-1,J==null)J=K?"min":"max";this._incomparable=J==="min"?-1/0:1/0}return $.prototype.evaluate=function(Q,J){var K=U1(Q)?Q:l3(Q),Y=U1(J)?J:l3(J),q=isNaN(K),Z=isNaN(Y);if(q)K=this._incomparable;if(Z)Y=this._incomparable;if(q&&Z){var X=B0(Q),W=B0(J);if(X)K=W?Q:0;if(W)Y=X?J:0}return K<Y?this._resultLT:K>Y?-this._resultLT:0},$}();var AK1=function(){function $(Q,J){this._rval=J,this._isEQ=Q,this._rvalTypeof=typeof J,this._rvalFloat=l3(J)}return $.prototype.evaluate=function(Q){var J=Q===this._rval;if(!J){var K=typeof Q;if(K!==this._rvalTypeof&&(K==="number"||this._rvalTypeof==="number"))J=l3(Q)===this._rvalFloat}return this._isEQ?J:!J},$}();function Mw0($,Q){return $==="eq"||$==="ne"?new AK1($==="eq",Q):x0(Iw0,$)?new zK1($,Q):null}var VK1=function(){function $(){}return $.prototype.getRawData=function(){throw Error("not supported")},$.prototype.getRawDataItem=function(Q){throw Error("not supported")},$.prototype.cloneRawData=function(){return},$.prototype.getDimensionInfo=function(Q){return},$.prototype.cloneAllDimensionInfo=function(){return},$.prototype.count=function(){return},$.prototype.retrieveValue=function(Q,J){return},$.prototype.retrieveValueFromItem=function(Q,J){return},$.prototype.convertValue=function(Q,J){return K$(Q,J)},$}();function RK1($,Q){var J=new VK1,K=$.data,Y=J.sourceFormat=$.sourceFormat,q=$.startIndex,Z="";if($.seriesLayoutBy!==w4)Z='`seriesLayoutBy` of upstream dataset can only be "column" in data transform.',J5(Z);var X=[],W={},F=$.dimensionsDefine;if(F)v(F,function(G,w){var T=G.name,D={index:w,name:T,displayName:G.displayName};if(X.push(D),T!=null){var P="";if(x0(W,T))P='dimension name "'+T+'" duplicated.',J5(P);W[T]=D}});else for(var H=0;H<$.dimensionsDetectedCount;H++)X.push({index:H});var B=$l(Y,w4);if(Q.__isBuiltIn)J.getRawDataItem=function(G){return B(K,q,X,G)},J.getRawData=O0(GK1,null,$);J.cloneRawData=O0(wK1,null,$);var z=Ql(Y,w4);J.count=O0(z,null,K,q,X);var A=Jl(Y);J.retrieveValue=function(G,w){var T=B(K,q,X,G);return R(T,w)};var R=J.retrieveValueFromItem=function(G,w){if(G==null)return;var T=X[w];if(T)return A(G,w,T.name)};return J.getDimensionInfo=O0(OK1,null,X,W),J.cloneAllDimensionInfo=O0(TK1,null,X),J}function GK1($){var Q=$.sourceFormat;if(!Yl(Q)){var J="";J="`getRawData` is not supported in source format "+Q,J5(J)}return $.data}function wK1($){var{sourceFormat:Q,data:J}=$;if(!Yl(Q)){var K="";K="`cloneRawData` is not supported in source format "+Q,J5(K)}if(Q===p6){var Y=[];for(var q=0,Z=J.length;q<Z;q++)Y.push(J[q].slice());return Y}else if(Q===q8){var Y=[];for(var q=0,Z=J.length;q<Z;q++)Y.push(Q0({},J[q]));return Y}}function OK1($,Q,J){if(J==null)return;if(U1(J)||!isNaN(J)&&!x0(Q,J))return $[J];else if(x0(Q,J))return Q[J]}function TK1($){return y0($)}var bw0=L0();function gw0($){$=y0($);var Q=$.type,J="";if(!Q)J="Must have a `type` when `registerTransform`.",J5(J);var K=Q.split(":");if(K.length!==2)J='Name must include namespace like "ns:regression".',J5(J);var Y=!1;if(K[0]==="echarts")Q=K[1],Y=!0;$.__isBuiltIn=Y,bw0.set(Q,$)}function yw0($,Q,J){var K=K5($),Y=K.length,q="";if(!Y)q="If `transform` declared, it should at least contain one transform.",J5(q);for(var Z=0,X=Y;Z<X;Z++){var W=K[Z];if(Q=DK1(W,Q,J,Y===1?null:Z),Z!==X-1)Q.length=Math.max(Q.length,1)}return Q}function DK1($,Q,J,K){var Y="";if(!Q.length)Y="Must have at least one upstream dataset.",J5(Y);if(!I0($))Y="transform declaration must be an object rather than "+typeof $+".",J5(Y);var q=$.type,Z=bw0.get(q);if(!Z)Y='Can not find transform on type "'+q+'".',J5(Y);var X=K0(Q,function(H){return RK1(H,Z)}),W=K5(Z.transform({upstream:X[0],upstreamList:X,config:y0($.config)}));if($.print){var F=K0(W,function(H){var B=K!=null?" === pipe index: "+K:"";return["=== dataset index: "+J.datasetIndex+B+" ===","- transform result data:",U7(H.data),"- transform result dimensions:",U7(H.dimensions)].join(`
`)}).join(`
`);_E(F)}return K0(W,function(H,B){var z="";if(!I0(H))z="A transform should not return some empty results.",J5(z);if(!H.data)z="Transform result data should be not be null or undefined",J5(z);var A=tn(H.data);if(!Yl(A))z="Transform result data should be array rows or object rows.",J5(z);var R,G=Q[0];if(G&&B===0&&!H.dimensions){var w=G.startIndex;if(w)H.data=G.data.slice(0,w).concat(H.data);R={seriesLayoutBy:w4,sourceHeader:w,dimensions:G.metaRawOption.dimensions}}else R={seriesLayoutBy:w4,sourceHeader:0,dimensions:H.dimensions};return OG(H.data,R,null)})}function Yl($){return $===p6||$===q8}var Qh="undefined",CK1=typeof Uint32Array===Qh?Array:Uint32Array,PK1=typeof Uint16Array===Qh?Array:Uint16Array,Zl=typeof Int32Array===Qh?Array:Int32Array,xw0=typeof Float64Array===Qh?Array:Float64Array,uw0={float:xw0,int:Zl,ordinal:Array,number:Array,time:xw0},ql;function bN($){return $>65535?CK1:PK1}function gN(){return[1/0,-1/0]}function kK1($){var Q=$.constructor;return Q===Array?$.slice():new Q($)}function cw0($,Q,J,K,Y){var q=uw0[J||"float"];if(Y){var Z=$[Q],X=Z&&Z.length;if(X!==K){var W=new q(K);for(var F=0;F<X;F++)W[F]=Z[F];$[Q]=W}}else $[Q]=new q(K)}var jK1=function(){function $(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=L0()}return $.prototype.initData=function(Q,J,K){S0(v0(Q.getItem)&&v0(Q.count),"Invalid data provider."),this._provider=Q,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var Y=Q.getSource(),q=this.defaultDimValueGetter=ql[Y.sourceFormat];this._dimValueGetter=K||q,this._rawExtent=[];var Z=sL(Y);this._dimensions=K0(J,function(X){if(Z)S0(X.property!=null);return{type:X.type,property:X.property}}),this._initDataFromProvider(0,Q.count())},$.prototype.getProvider=function(){return this._provider},$.prototype.getSource=function(){return this._provider.getSource()},$.prototype.ensureCalculationDimension=function(Q,J){var K=this._calcDimNameToIdx,Y=this._dimensions,q=K.get(Q);if(q!=null){if(Y[q].type===J)return q}else q=Y.length;return Y[q]={type:J},K.set(Q,q),this._chunks[q]=new uw0[J||"float"](this._rawCount),this._rawExtent[q]=gN(),q},$.prototype.collectOrdinalMeta=function(Q,J){var K=this._chunks[Q],Y=this._dimensions[Q],q=this._rawExtent,Z=Y.ordinalOffset||0,X=K.length;if(Z===0)q[Q]=gN();var W=q[Q];for(var F=Z;F<X;F++){var H=K[F]=J.parseAndCollect(K[F]);if(!isNaN(H))W[0]=Math.min(H,W[0]),W[1]=Math.max(H,W[1])}Y.ordinalMeta=J,Y.ordinalOffset=X,Y.type="ordinal"},$.prototype.getOrdinalMeta=function(Q){var J=this._dimensions[Q],K=J.ordinalMeta;return K},$.prototype.getDimensionProperty=function(Q){var J=this._dimensions[Q];return J&&J.property},$.prototype.appendData=function(Q){S0(!this._indices,"appendData can only be called on raw data.");var J=this._provider,K=this.count();J.appendData(Q);var Y=J.count();if(!J.persistent)Y+=K;if(K<Y)this._initDataFromProvider(K,Y,!0);return[K,Y]},$.prototype.appendValues=function(Q,J){var K=this._chunks,Y=this._dimensions,q=Y.length,Z=this._rawExtent,X=this.count(),W=X+Math.max(Q.length,J||0);for(var F=0;F<q;F++){var H=Y[F];cw0(K,F,H.type,W,!0)}var B=[];for(var z=X;z<W;z++){var A=z-X;for(var R=0;R<q;R++){var H=Y[R],G=ql.arrayRows.call(this,Q[A]||B,H.property,A,R);K[R][z]=G;var w=Z[R];G<w[0]&&(w[0]=G),G>w[1]&&(w[1]=G)}}return this._rawCount=this._count=W,{start:X,end:W}},$.prototype._initDataFromProvider=function(Q,J,K){var Y=this._provider,q=this._chunks,Z=this._dimensions,X=Z.length,W=this._rawExtent,F=K0(Z,function(D){return D.property});for(var H=0;H<X;H++){var B=Z[H];if(!W[H])W[H]=gN();cw0(q,H,B.type,J,K)}if(Y.fillStorage)Y.fillStorage(Q,J,q,W);else{var z=[];for(var A=Q;A<J;A++){z=Y.getItem(A,z);for(var R=0;R<X;R++){var G=q[R],w=this._dimValueGetter(z,F[R],A,R);G[A]=w;var T=W[R];w<T[0]&&(T[0]=w),w>T[1]&&(T[1]=w)}}}if(!Y.persistent&&Y.clean)Y.clean();this._rawCount=this._count=J,this._extent=[]},$.prototype.count=function(){return this._count},$.prototype.get=function(Q,J){if(!(J>=0&&J<this._count))return NaN;var K=this._chunks[Q];return K?K[this.getRawIndex(J)]:NaN},$.prototype.getValues=function(Q,J){var K=[],Y=[];if(J==null){J=Q,Q=[];for(var q=0;q<this._dimensions.length;q++)Y.push(q)}else Y=Q;for(var q=0,Z=Y.length;q<Z;q++)K.push(this.get(Y[q],J));return K},$.prototype.getByRawIndex=function(Q,J){if(!(J>=0&&J<this._rawCount))return NaN;var K=this._chunks[Q];return K?K[J]:NaN},$.prototype.getSum=function(Q){var J=this._chunks[Q],K=0;if(J)for(var Y=0,q=this.count();Y<q;Y++){var Z=this.get(Q,Y);if(!isNaN(Z))K+=Z}return K},$.prototype.getMedian=function(Q){var J=[];this.each([Q],function(q){if(!isNaN(q))J.push(q)});var K=J.sort(function(q,Z){return q-Z}),Y=this.count();return Y===0?0:Y%2===1?K[(Y-1)/2]:(K[Y/2]+K[Y/2-1])/2},$.prototype.indexOfRawIndex=function(Q){if(Q>=this._rawCount||Q<0)return-1;if(!this._indices)return Q;var J=this._indices,K=J[Q];if(K!=null&&K<this._count&&K===Q)return Q;var Y=0,q=this._count-1;while(Y<=q){var Z=(Y+q)/2|0;if(J[Z]<Q)Y=Z+1;else if(J[Z]>Q)q=Z-1;else return Z}return-1},$.prototype.getIndices=function(){var Q,J=this._indices;if(J){var K=J.constructor,Y=this._count;if(K===Array){Q=new K(Y);for(var q=0;q<Y;q++)Q[q]=J[q]}else Q=new K(J.buffer,0,Y)}else{var K=bN(this._rawCount);Q=new K(this.count());for(var q=0;q<Q.length;q++)Q[q]=q}return Q},$.prototype.filter=function(Q,J){if(!this._count)return this;var K=this.clone(),Y=K.count(),q=bN(K._rawCount),Z=new q(Y),X=[],W=Q.length,F=0,H=Q[0],B=K._chunks;for(var z=0;z<Y;z++){var A=void 0,R=K.getRawIndex(z);if(W===0)A=J(z);else if(W===1){var G=B[H][R];A=J(G,z)}else{var w=0;for(;w<W;w++)X[w]=B[Q[w]][R];X[w]=z,A=J.apply(null,X)}if(A)Z[F++]=R}if(F<Y)K._indices=Z;return K._count=F,K._extent=[],K._updateGetRawIdx(),K},$.prototype.selectRange=function(Q){var J=this.clone(),K=J._count;if(!K)return this;var Y=Z1(Q),q=Y.length;if(!q)return this;var Z=J.count(),X=bN(J._rawCount),W=new X(Z),F=0,H=Y[0],B=Q[H][0],z=Q[H][1],A=J._chunks,R=!1;if(!J._indices){var G=0;if(q===1){var w=A[Y[0]];for(var T=0;T<K;T++){var D=w[T];if(D>=B&&D<=z||isNaN(D))W[F++]=G;G++}R=!0}else if(q===2){var w=A[Y[0]],P=A[Y[1]],j=Q[Y[1]][0],E=Q[Y[1]][1];for(var T=0;T<K;T++){var D=w[T],L=P[T];if((D>=B&&D<=z||isNaN(D))&&(L>=j&&L<=E||isNaN(L)))W[F++]=G;G++}R=!0}}if(!R)if(q===1)for(var T=0;T<Z;T++){var h=J.getRawIndex(T),D=A[Y[0]][h];if(D>=B&&D<=z||isNaN(D))W[F++]=h}else for(var T=0;T<Z;T++){var _=!0,h=J.getRawIndex(T);for(var S=0;S<q;S++){var I=Y[S],D=A[I][h];if(D<Q[I][0]||D>Q[I][1])_=!1}if(_)W[F++]=J.getRawIndex(T)}if(F<Z)J._indices=W;return J._count=F,J._extent=[],J._updateGetRawIdx(),J},$.prototype.map=function(Q,J){var K=this.clone(Q);return this._updateDims(K,Q,J),K},$.prototype.modify=function(Q,J){this._updateDims(this,Q,J)},$.prototype._updateDims=function(Q,J,K){var Y=Q._chunks,q=[],Z=J.length,X=Q.count(),W=[],F=Q._rawExtent;for(var H=0;H<J.length;H++)F[J[H]]=gN();for(var B=0;B<X;B++){var z=Q.getRawIndex(B);for(var A=0;A<Z;A++)W[A]=Y[J[A]][z];W[Z]=B;var R=K&&K.apply(null,W);if(R!=null){if(typeof R!=="object")q[0]=R,R=q;for(var H=0;H<R.length;H++){var G=J[H],w=R[H],T=F[G],D=Y[G];if(D)D[z]=w;if(w<T[0])T[0]=w;if(w>T[1])T[1]=w}}}},$.prototype.lttbDownSample=function(Q,J){var K=this.clone([Q],!0),Y=K._chunks,q=Y[Q],Z=this.count(),X=0,W=Math.floor(1/J),F=this.getRawIndex(0),H,B,z,A=new(bN(this._rawCount))(Math.min((Math.ceil(Z/W)+2)*2,Z));A[X++]=F;for(var R=1;R<Z-1;R+=W){var G=Math.min(R+W,Z-1),w=Math.min(R+W*2,Z),T=(w+G)/2,D=0;for(var P=G;P<w;P++){var j=this.getRawIndex(P),E=q[j];if(isNaN(E))continue;D+=E}D/=w-G;var L=R,h=Math.min(R+W,Z),_=R-1,S=q[F];H=-1,z=L;var I=-1,M=0;for(var P=L;P<h;P++){var j=this.getRawIndex(P),E=q[j];if(isNaN(E)){if(M++,I<0)I=j;continue}if(B=Math.abs((_-T)*(E-S)-(_-P)*(D-S)),B>H)H=B,z=j}if(M>0&&M<h-L)A[X++]=Math.min(I,z),z=Math.max(I,z);A[X++]=z,F=z}return A[X++]=this.getRawIndex(Z-1),K._count=X,K._indices=A,K.getRawIndex=this._getRawIdx,K},$.prototype.minmaxDownSample=function(Q,J){var K=this.clone([Q],!0),Y=K._chunks,q=Math.floor(1/J),Z=Y[Q],X=this.count(),W=new(bN(this._rawCount))(Math.ceil(X/q)*2),F=0;for(var H=0;H<X;H+=q){var B=H,z=Z[this.getRawIndex(B)],A=H,R=Z[this.getRawIndex(A)],G=q;if(H+q>X)G=X-H;for(var w=0;w<G;w++){var T=this.getRawIndex(H+w),D=Z[T];if(D<z)z=D,B=H+w;if(D>R)R=D,A=H+w}var P=this.getRawIndex(B),j=this.getRawIndex(A);if(B<A)W[F++]=P,W[F++]=j;else W[F++]=j,W[F++]=P}return K._count=F,K._indices=W,K._updateGetRawIdx(),K},$.prototype.downSample=function(Q,J,K,Y){var q=this.clone([Q],!0),Z=q._chunks,X=[],W=Math.floor(1/J),F=Z[Q],H=this.count(),B=q._rawExtent[Q]=gN(),z=new(bN(this._rawCount))(Math.ceil(H/W)),A=0;for(var R=0;R<H;R+=W){if(W>H-R)W=H-R,X.length=W;for(var G=0;G<W;G++){var w=this.getRawIndex(R+G);X[G]=F[w]}var T=K(X),D=this.getRawIndex(Math.min(R+Y(X,T)||0,H-1));if(F[D]=T,T<B[0])B[0]=T;if(T>B[1])B[1]=T;z[A++]=D}return q._count=A,q._indices=z,q._updateGetRawIdx(),q},$.prototype.each=function(Q,J){if(!this._count)return;var K=Q.length,Y=this._chunks;for(var q=0,Z=this.count();q<Z;q++){var X=this.getRawIndex(q);switch(K){case 0:J(q);break;case 1:J(Y[Q[0]][X],q);break;case 2:J(Y[Q[0]][X],Y[Q[1]][X],q);break;default:var W=0,F=[];for(;W<K;W++)F[W]=Y[Q[W]][X];F[W]=q,J.apply(null,F)}}},$.prototype.getDataExtent=function(Q){var J=this._chunks[Q],K=gN();if(!J)return K;var Y=this.count(),q=!this._indices,Z;if(q)return this._rawExtent[Q].slice();if(Z=this._extent[Q],Z)return Z.slice();Z=K;var X=Z[0],W=Z[1];for(var F=0;F<Y;F++){var H=this.getRawIndex(F),B=J[H];B<X&&(X=B),B>W&&(W=B)}return Z=[X,W],this._extent[Q]=Z,Z},$.prototype.getRawDataItem=function(Q){var J=this.getRawIndex(Q);if(!this._provider.persistent){var K=[],Y=this._chunks;for(var q=0;q<Y.length;q++)K.push(Y[q][J]);return K}else return this._provider.getItem(J)},$.prototype.clone=function(Q,J){var K=new $,Y=this._chunks,q=Q&&O8(Q,function(X,W){return X[W]=!0,X},{});if(q)for(var Z=0;Z<Y.length;Z++)K._chunks[Z]=!q[Z]?Y[Z]:kK1(Y[Z]);else K._chunks=Y;if(this._copyCommonProps(K),!J)K._indices=this._cloneIndices();return K._updateGetRawIdx(),K},$.prototype._copyCommonProps=function(Q){Q._count=this._count,Q._rawCount=this._rawCount,Q._provider=this._provider,Q._dimensions=this._dimensions,Q._extent=y0(this._extent),Q._rawExtent=y0(this._rawExtent)},$.prototype._cloneIndices=function(){if(this._indices){var Q=this._indices.constructor,J=void 0;if(Q===Array){var K=this._indices.length;J=new Q(K);for(var Y=0;Y<K;Y++)J[Y]=this._indices[Y]}else J=new Q(this._indices);return J}return null},$.prototype._getRawIdxIdentity=function(Q){return Q},$.prototype._getRawIdx=function(Q){if(Q<this._count&&Q>=0)return this._indices[Q];return-1},$.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},$.internalField=function(){function Q(J,K,Y,q){return K$(J[q],this._dimensions[q])}ql={arrayRows:Q,objectRows:function(J,K,Y,q){return K$(J[K],this._dimensions[q])},keyedColumns:Q,original:function(J,K,Y,q){var Z=J&&(J.value==null?J:J.value);return K$(Z instanceof Array?Z[q]:Z,this._dimensions[q])},typedArray:function(J,K,Y,q){return J[q]}}}(),$}(),TG=jK1;var Jh=function(){function $(Q){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=Q}return $.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},$.prototype._setLocalSource=function(Q,J){if(this._sourceList=Q,this._upstreamSignList=J,this._versionSignBase++,this._versionSignBase>90000000000)this._versionSignBase=0},$.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},$.prototype.prepareSource=function(){if(this._isDirty())this._createSource(),this._dirty=!1},$.prototype._createSource=function(){this._setLocalSource([],[]);var Q=this._sourceHost,J=this._getUpstreamSourceManagers(),K=!!J.length,Y,q;if(DG(Q)){var Z=Q,X=void 0,W=void 0,F=void 0;if(K){var H=J[0];H.prepareSource(),F=H.getSource(),X=F.data,W=F.sourceFormat,q=[H._getVersionSign()]}else X=Z.get("data",!0),W=u6(X)?p9:l7,q=[];var B=this._getSourceMetaRawOption()||{},z=F&&F.metaRawOption||{},A=f0(B.seriesLayoutBy,z.seriesLayoutBy)||null,R=f0(B.sourceHeader,z.sourceHeader),G=f0(B.dimensions,z.dimensions),w=A!==z.seriesLayoutBy||!!R!==!!z.sourceHeader||G;Y=w?[OG(X,{seriesLayoutBy:A,sourceHeader:R,dimensions:G},W)]:[]}else{var T=Q;if(K){var D=this._applyTransform(J);Y=D.sourceList,q=D.upstreamSignList}else{var P=T.get("source",!0);Y=[OG(P,this._getSourceMetaRawOption(),null)],q=[]}}S0(Y&&q),this._setLocalSource(Y,q)},$.prototype._applyTransform=function(Q){var J=this._sourceHost,K=J.get("transform",!0),Y=J.get("fromTransformResult",!0);if(S0(Y!=null||K!=null),Y!=null){var q="";if(Q.length!==1)q="When using `fromTransformResult`, there should be only one upstream dataset",mw0(q)}var Z,X=[],W=[];if(v(Q,function(F){F.prepareSource();var H=F.getSource(Y||0),B="";if(Y!=null&&!H)B="Can not retrieve result by `fromTransformResult`: "+Y,mw0(B);X.push(H),W.push(F._getVersionSign())}),K)Z=yw0(K,X,{datasetIndex:J.componentIndex});else if(Y!=null)Z=[Lw0(X[0])];return{sourceList:Z,upstreamSignList:W}},$.prototype._isDirty=function(){if(this._dirty)return!0;var Q=this._getUpstreamSourceManagers();for(var J=0;J<Q.length;J++){var K=Q[J];if(K._isDirty()||this._upstreamSignList[J]!==K._getVersionSign())return!0}},$.prototype.getSource=function(Q){Q=Q||0;var J=this._sourceList[Q];if(!J){var K=this._getUpstreamSourceManagers();return K[0]&&K[0].getSource(Q)}return J},$.prototype.getSharedDataStore=function(Q){S0(DG(this._sourceHost),"Can only call getDataStore on series source manager.");var J=Q.makeStoreSchema();return this._innerGetDataStore(J.dimensions,Q.source,J.hash)},$.prototype._innerGetDataStore=function(Q,J,K){var Y=0,q=this._storeList,Z=q[Y];if(!Z)Z=q[Y]={};var X=Z[K];if(!X){var W=this._getUpstreamSourceManagers()[0];if(DG(this._sourceHost)&&W)X=W._innerGetDataStore(Q,J,K);else X=new TG,X.initData(new tL(J,Q.length),Q);Z[K]=X}return X},$.prototype._getUpstreamSourceManagers=function(){var Q=this._sourceHost;if(DG(Q)){var J=uL(Q);return!J?[]:[J.getSourceManager()]}else return K0(Xw0(Q),function(K){return K.getSourceManager()})},$.prototype._getSourceMetaRawOption=function(){var Q=this._sourceHost,J,K,Y;if(DG(Q))J=Q.get("seriesLayoutBy",!0),K=Q.get("sourceHeader",!0),Y=Q.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var q=Q;J=q.get("seriesLayoutBy",!0),K=q.get("sourceHeader",!0),Y=q.get("dimensions",!0)}return{seriesLayoutBy:J,sourceHeader:K,dimensions:Y}},$}();function Xl($){var Q=$.option.transform;Q&&sX($.option.transform)}function DG($){return $.mainType==="series"}function mw0($){throw Error($)}var EK1="line-height:1";function pw0($){var Q=$.lineHeight;if(Q==null)return EK1;else return"line-height:"+S7(Q+"")+"px"}function dw0($,Q){var J=$.color||a.color.tertiary,K=$.fontSize||12,Y=$.fontWeight||"400",q=$.color||a.color.secondary,Z=$.fontSize||14,X=$.fontWeight||"900";if(Q==="html")return{nameStyle:"font-size:"+S7(K+"")+"px;color:"+S7(J)+";font-weight:"+S7(Y+""),valueStyle:"font-size:"+S7(Z+"")+"px;color:"+S7(q)+";font-weight:"+S7(X+"")};else return{nameStyle:{fontSize:K,fill:J,fontWeight:Y},valueStyle:{fontSize:Z,fill:q,fontWeight:X}}}var LK1=[0,10,20,30],hK1=["",`
`,`

`,`


`];function x5($,Q){return Q.type=$,Q}function Wl($){return $.type==="section"}function nw0($){return Wl($)?vK1:SK1}function lw0($){if(Wl($)){var Q=0,J=$.blocks.length,K=J>1||J>0&&!$.noHeader;return v($.blocks,function(Y){var q=lw0(Y);if(q>=Q)Q=q+ +(K&&(!q||Wl(Y)&&!Y.noHeader))}),Q}return 0}function vK1($,Q,J,K){var Y=Q.noHeader,q=_K1(lw0(Q)),Z=[],X=Q.blocks||[];S0(!X||J0(X)),X=X||[];var W=$.orderMode;if(Q.sortBlocks&&W){X=X.slice();var F={valueAsc:"asc",valueDesc:"desc"};if(x0(F,W)){var H=new $h(F[W],null);X.sort(function(G,w){return H.evaluate(G.sortParam,w.sortParam)})}else if(W==="seriesDesc")X.reverse()}v(X,function(G,w){var T=Q.valueFormatter,D=nw0(G)(T?Q0(Q0({},$),{valueFormatter:T}):$,G,w>0?q.html:0,K);D!=null&&Z.push(D)});var B=$.renderMode==="richText"?Z.join(q.richText):Fl(K,Z.join(""),Y?J:q.html);if(Y)return B;var z=vL(Q.header,"ordinal",$.useUTC),A=dw0(K,$.renderMode).nameStyle,R=pw0(K);if($.renderMode==="richText")return rw0($,z,A)+q.richText+B;else return Fl(K,'<div style="'+A+";"+R+';">'+S7(z)+"</div>"+B,J)}function SK1($,Q,J,K){var Y=$.renderMode,q=Q.noName,Z=Q.noValue,X=!Q.markerType,W=Q.name,F=$.useUTC,H=Q.valueFormatter||$.valueFormatter||function(j){return j=J0(j)?j:[j],K0(j,function(E,L){return vL(E,J0(A)?A[L]:A,F)})};if(q&&Z)return;var B=X?"":$.markupStyleCreator.makeTooltipMarker(Q.markerType,Q.markerColor||a.color.secondary,Y),z=q?"":vL(W,"ordinal",F),A=Q.valueType,R=Z?[]:H(Q.value,Q.dataIndex),G=!X||!q,w=!X&&q,T=dw0(K,Y),D=T.nameStyle,P=T.valueStyle;return Y==="richText"?(X?"":B)+(q?"":rw0($,z,D))+(Z?"":MK1($,R,G,w,P)):Fl(K,(X?"":B)+(q?"":fK1(z,!X,D))+(Z?"":IK1(R,G,w,P)),J)}function Ul($,Q,J,K,Y,q){if(!$)return;var Z=nw0($),X={useUTC:Y,renderMode:J,orderMode:K,markupStyleCreator:Q,valueFormatter:$.valueFormatter};return Z(X,$,0,q)}function _K1($){return{html:LK1[$],richText:hK1[$]}}function Fl($,Q,J){var K='<div style="clear:both"></div>',Y="margin: "+J+"px 0 0",q=pw0($);return'<div style="'+Y+";"+q+';">'+Q+K+"</div>"}function fK1($,Q,J){var K=Q?"margin-left:2px":"";return'<span style="'+J+";"+K+'">'+S7($)+"</span>"}function IK1($,Q,J,K){var Y=J?"10px":"20px",q=Q?"float:right;margin-left:"+Y:"";return $=J0($)?$:[$],'<span style="'+q+";"+K+'">'+K0($,function(Z){return S7(Z)}).join("&nbsp;&nbsp;")+"</span>"}function rw0($,Q,J){return $.markupStyleCreator.wrapRichTextStyle(Q,J)}function MK1($,Q,J,K,Y){var q=[Y],Z=K?10:20;return J&&q.push({padding:[0,0,0,Z],align:"right"}),$.markupStyleCreator.wrapRichTextStyle(J0(Q)?Q.join("  "):Q,q)}function Kh($,Q){var J=$.getData().getItemVisual(Q,"style"),K=J[$.visualDrawType];return YQ(K)}function Yh($,Q){var J=$.get("padding");return J!=null?J:Q==="richText"?[8,10]:10}var qh=function(){function $(){this.richTextStyles={},this._nextStyleNameId=vE()}return $.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},$.prototype.makeTooltipMarker=function(Q,J,K){var Y=K==="richText"?this._generateStyleName():null,q=tG0({color:J,type:Q,renderMode:K,markerId:Y});if(B0(q))return q;else return S0(Y),this.richTextStyles[Y]=q.style,q.content},$.prototype.wrapRichTextStyle=function(Q,J){var K={};if(J0(J))v(J,function(q){return Q0(K,q)});else Q0(K,J);var Y=this._generateStyleName();return this.richTextStyles[Y]=K,"{"+Y+"|"+Q+"}"},$}();function Zh($){var{series:Q,dataIndex:J,multipleSeries:K}=$,Y=Q.getData(),q=Y.mapDimensionsAll("defaultedTooltip"),Z=q.length,X=Q.getRawValue(J),W=J0(X),F=Kh(Q,J),H,B,z,A;if(Z>1||W&&!Z){var R=bK1(X,Q,J,q,F);H=R.inlineValues,B=R.inlineValueTypes,z=R.blocks,A=R.inlineValues[0]}else if(Z){var G=Y.getDimensionInfo(q[0]);A=H=GY(Y,J,q[0]),B=G.type}else A=H=W?X[0]:X;var w=AN(Q),T=w&&Q.name||"",D=Y.getName(J),P=K?T:D;return x5("section",{header:T,noHeader:K||!w,sortParam:A,blocks:[x5("nameValue",{markerType:"item",markerColor:F,name:P,noName:!O7(P),value:H,valueType:B,dataIndex:J})].concat(z||[])})}function bK1($,Q,J,K,Y){var q=Q.getData(),Z=O8($,function(B,z,A){var R=q.getDimensionInfo(A);return B=B||R&&R.tooltip!==!1&&R.displayName!=null},!1),X=[],W=[],F=[];K.length?v(K,function(B){H(GY(q,J,B),B)}):v($,H);function H(B,z){var A=q.getDimensionInfo(z);if(!A||A.otherDims.tooltip===!1)return;if(Z)F.push(x5("nameValue",{markerType:"subItem",markerColor:Y,name:A.displayName,value:B,valueType:A.type}));else X.push(B),W.push(A.type)}return{inlineValues:X,inlineValueTypes:W,blocks:F}}var _Z=n0();function Xh($,Q){return $.getName(Q)||$.getId(Q)}var CG="__universalTransitionEnabled",Wh=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J._selectedDataIndicesMap={},J}return Q.prototype.init=function(J,K,Y){this.seriesIndex=this.componentIndex,this.dataTask=SZ({count:yK1,reset:xK1}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(J,Y);var q=_Z(this).sourceManager=new Jh(this);q.prepareSource();var Z=this.getInitialData(J,Y);sw0(Z,this),this.dataTask.context.data=Z,S0(Z,"getInitialData returned invalid data."),_Z(this).dataBeforeProcessed=Z,iw0(this),this._initSelectedMapFromData(Z)},Q.prototype.mergeDefaultAndTheme=function(J,K){var Y=vZ(this),q=Y?Y9(J):{},Z=this.subType;if(B1.hasClass(Z))Z+="Series";if(K1(J,K.getTheme().get(this.subType)),K1(J,this.getDefaultOption()),u9(J,"label",["show"]),this.fillDataTextStyle(J.data),Y)j8(J,q,Y)},Q.prototype.mergeOption=function(J,K){J=K1(this.option,J,!0),this.fillDataTextStyle(J.data);var Y=vZ(this);if(Y)j8(this.option,J,Y);var q=_Z(this).sourceManager;q.dirty(),q.prepareSource();var Z=this.getInitialData(J,K);sw0(Z,this),this.dataTask.dirty(),this.dataTask.context.data=Z,_Z(this).dataBeforeProcessed=Z,iw0(this),this._initSelectedMapFromData(Z)},Q.prototype.fillDataTextStyle=function(J){if(J&&!u6(J)){var K=["show"];for(var Y=0;Y<J.length;Y++)if(J[Y]&&J[Y].label)u9(J[Y],"label",K)}},Q.prototype.getInitialData=function(J,K){return},Q.prototype.appendData=function(J){var K=this.getRawData();K.appendData(J.data)},Q.prototype.getData=function(J){var K=Hl(this);if(K){var Y=K.context.data;return J==null||!Y.getLinkedData?Y:Y.getLinkedData(J)}else return _Z(this).data},Q.prototype.getAllData=function(){var J=this.getData();return J&&J.getLinkedDataAll?J.getLinkedDataAll():[{data:J}]},Q.prototype.setData=function(J){var K=Hl(this);if(K){var Y=K.context;if(Y.outputData=J,K!==this.dataTask)Y.data=J}_Z(this).data=J},Q.prototype.getEncode=function(){var J=this.get("encode",!0);if(J)return L0(J)},Q.prototype.getSourceManager=function(){return _Z(this).sourceManager},Q.prototype.getSource=function(){return this.getSourceManager().getSource()},Q.prototype.getRawData=function(){return _Z(this).dataBeforeProcessed},Q.prototype.getColorBy=function(){var J=this.get("colorBy");return J||"series"},Q.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},Q.prototype.getBaseAxis=function(){var J=this.coordinateSystem;return J&&J.getBaseAxis&&J.getBaseAxis()},Q.prototype.indicesOfNearest=function(J,K,Y,q){var Z=this.getData(),X=this.coordinateSystem,W=X&&X.getAxis(J);if(!X||!W)return[];var F=W.dataToCoord(Y);if(q==null)q=1/0;var H=[],B=1/0,z=-1,A=0;return Z.each(K,function(R,G){var w=W.dataToCoord(R),T=F-w,D=Math.abs(T);if(D<=q){if(D<B||D===B&&T>=0&&z<0)B=D,z=T,A=0;if(T===z)H[A++]=G}}),H.length=A,H},Q.prototype.formatTooltip=function(J,K,Y){return Zh({series:this,dataIndex:J,multipleSeries:K})},Q.prototype.isAnimationEnabled=function(){var J=this.ecModel;if(L1.node&&!(J&&J.ssr))return!1;var K=this.getShallow("animation");if(K){if(this.getData().count()>this.getShallow("animationThreshold"))K=!1}return!!K},Q.prototype.restoreData=function(){this.dataTask.dirty()},Q.prototype.getColorFromPalette=function(J,K,Y){var q=this.ecModel,Z=zG.prototype.getColorFromPalette.call(this,J,K,Y);if(!Z)Z=q.getColorFromPalette(J,K,Y);return Z},Q.prototype.coordDimToDataDim=function(J){return this.getRawData().mapDimensionsAll(J)},Q.prototype.getProgressive=function(){return this.get("progressive")},Q.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},Q.prototype.select=function(J,K){this._innerSelect(this.getData(K),J)},Q.prototype.unselect=function(J,K){var Y=this.option.selectedMap;if(!Y)return;var q=this.option.selectedMode,Z=this.getData(K);if(q==="series"||Y==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var X=0;X<J.length;X++){var W=J[X],F=Xh(Z,W);Y[F]=!1,this._selectedDataIndicesMap[F]=-1}},Q.prototype.toggleSelect=function(J,K){var Y=[];for(var q=0;q<J.length;q++)Y[0]=J[q],this.isSelected(J[q],K)?this.unselect(Y,K):this.select(Y,K)},Q.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());var J=this._selectedDataIndicesMap,K=Z1(J),Y=[];for(var q=0;q<K.length;q++){var Z=J[K[q]];if(Z>=0)Y.push(Z)}return Y},Q.prototype.isSelected=function(J,K){var Y=this.option.selectedMap;if(!Y)return!1;var q=this.getData(K);return(Y==="all"||Y[Xh(q,J)])&&!q.getItemModel(J).get(["select","disabled"])},Q.prototype.isUniversalTransitionEnabled=function(){if(this[CG])return!0;var J=this.option.universalTransition;if(!J)return!1;if(J===!0)return!0;return J&&J.enabled},Q.prototype._innerSelect=function(J,K){var Y,q,Z=this.option,X=Z.selectedMode,W=K.length;if(!X||!W)return;if(X==="series")Z.selectedMap="all";else if(X==="multiple"){if(!I0(Z.selectedMap))Z.selectedMap={};var F=Z.selectedMap;for(var H=0;H<W;H++){var B=K[H],z=Xh(J,B);F[z]=!0,this._selectedDataIndicesMap[z]=J.getRawIndex(B)}}else if(X==="single"||X===!0){var A=K[W-1],z=Xh(J,A);Z.selectedMap=(Y={},Y[z]=!0,Y),this._selectedDataIndicesMap=(q={},q[z]=J.getRawIndex(A),q)}},Q.prototype._initSelectedMapFromData=function(J){if(this.option.selectedMap)return;var K=[];if(J.hasItemOption)J.each(function(Y){var q=J.getRawDataItem(Y);if(q&&q.selected)K.push(Y)});if(K.length>0)this._innerSelect(J,K)},Q.registerClass=function(J){return B1.registerClass(J)},Q.protoInitialize=function(){var J=Q.prototype;J.type="series.__base__",J.seriesIndex=0,J.ignoreStyleOnData=!1,J.hasSymbolVisual=!1,J.defaultSymbol="circle",J.visualStyleAccessPath="itemStyle",J.visualDrawType="fill"}(),Q}(B1);_5(Wh,lW);_5(Wh,zG);bE(Wh,B1);function iw0($){var Q=$.name;if(!AN($))$.name=gK1($)||Q}function gK1($){var Q=$.getRawData(),J=Q.mapDimensionsAll("seriesName"),K=[];return v(J,function(Y){var q=Q.getDimensionInfo(Y);q.displayName&&K.push(q.displayName)}),K.join(" ")}function yK1($){return $.model.getRawData().count()}function xK1($){var Q=$.model;return Q.setData(Q.getRawData().cloneShallow()),cK1}function cK1($,Q){if(Q.outputData&&$.end>Q.outputData.count())Q.model.getRawData().cloneShallow(Q.outputData)}function sw0($,Q){v($Y($.CHANGABLE_METHODS,$.DOWNSAMPLE_METHODS),function(J){$.wrapMethod(J,a0(uK1,Q))})}function uK1($,Q){var J=Hl($);if(J)J.setOutputEnd((Q||this).count());return Q}function Hl($){var Q=($.ecModel||{}).scheduler,J=Q&&Q.getPipeline($.uid);if(J){var K=J.currentTask;if(K){var Y=K.agentStubMap;if(Y)K=Y.get($.uid)}return K}}var m1=Wh;var Nl=function(){function $(){this.group=new _0,this.uid=$$("viewComponent")}return $.prototype.init=function(Q,J){},$.prototype.render=function(Q,J,K,Y){},$.prototype.dispose=function(Q,J){},$.prototype.updateView=function(Q,J,K,Y){},$.prototype.updateLayout=function(Q,J,K,Y){},$.prototype.updateVisual=function(Q,J,K,Y){},$.prototype.toggleBlurSeries=function(Q,J,K){},$.prototype.eachRendered=function(Q){var J=this.group;if(J)J.traverse(Q)},$}();VN(Nl);DZ(Nl);var p1=Nl;function d9(){var $=n0();return function(Q){var J=$(Q),K=Q.pipelineContext,Y=!!J.large,q=!!J.progressiveRender,Z=J.large=!!(K&&K.large),X=J.progressiveRender=!!(K&&K.progressiveRender);return(Y!==Z||q!==X)&&"reset"}}var tw0=n0(),mK1=d9(),Bl=function(){function $(){this.group=new _0,this.uid=$$("viewChart"),this.renderTask=SZ({plan:pK1,reset:dK1}),this.renderTask.context={view:this}}return $.prototype.init=function(Q,J){},$.prototype.render=function(Q,J,K,Y){throw Error("render method must been implemented")},$.prototype.highlight=function(Q,J,K,Y){var q=Q.getData(Y&&Y.dataType);if(!q){P1("Unknown dataType "+Y.dataType);return}aw0(q,Y,"emphasis")},$.prototype.downplay=function(Q,J,K,Y){var q=Q.getData(Y&&Y.dataType);if(!q){P1("Unknown dataType "+Y.dataType);return}aw0(q,Y,"normal")},$.prototype.remove=function(Q,J){this.group.removeAll()},$.prototype.dispose=function(Q,J){},$.prototype.updateView=function(Q,J,K,Y){this.render(Q,J,K,Y)},$.prototype.updateLayout=function(Q,J,K,Y){this.render(Q,J,K,Y)},$.prototype.updateVisual=function(Q,J,K,Y){this.render(Q,J,K,Y)},$.prototype.eachRendered=function(Q){G4(this.group,Q)},$.markUpdateMethod=function(Q,J){tw0(Q).updateMethod=J},$.protoInitialize=function(){var Q=$.prototype;Q.type="chart"}(),$}();function ow0($,Q,J){if($&&$Q($))(Q==="emphasis"?p8:d8)($,J)}function aw0($,Q,J){var K=r3($,Q),Y=Q&&Q.highlightKey!=null?rR0(Q.highlightKey):null;if(K!=null)v(K5(K),function(q){ow0($.getItemGraphicEl(q),J,Y)});else $.eachItemGraphicEl(function(q){ow0(q,J,Y)})}VN(Bl,["dispose"]);DZ(Bl);function pK1($){return mK1($.model)}function dK1($){var{model:Q,ecModel:J,api:K,payload:Y}=$,q=Q.pipelineContext.progressiveRender,Z=$.view,X=Y&&tw0(Y).updateMethod,W=q?"incrementalPrepareRender":X&&Z[X]?X:"render";if(W!=="render")Z[W](Q,J,K,Y);return nK1[W]}var nK1={incrementalPrepareRender:{progress:function($,Q){Q.view.incrementalRender($,Q.model,Q.ecModel,Q.api,Q.payload)}},render:{forceFirstProgress:!0,progress:function($,Q){Q.view.render(Q.model,Q.ecModel,Q.api,Q.payload)}}},_1=Bl;var Fh="\x00__throttleOriginMethod",ew0="\x00__throttleRate",$O0="\x00__throttleType";function PG($,Q,J){var K,Y=0,q=0,Z=null,X,W,F,H;Q=Q||0;function B(){q=new Date().getTime(),Z=null,$.apply(W,F||[])}var z=function(){var A=[];for(var R=0;R<arguments.length;R++)A[R]=arguments[R];K=new Date().getTime(),W=this,F=A;var G=H||Q,w=H||J;if(H=null,X=K-(w?Y:q)-G,clearTimeout(Z),w)Z=setTimeout(B,G);else if(X>=0)B();else Z=setTimeout(B,-X);Y=K};return z.clear=function(){if(Z)clearTimeout(Z),Z=null},z.debounceNextCall=function(A){H=A},z}function Y$($,Q,J,K){var Y=$[Q];if(!Y)return;var q=Y[Fh]||Y,Z=Y[$O0],X=Y[ew0];if(X!==J||Z!==K){if(J==null||!K)return $[Q]=q;Y=$[Q]=PG(q,J,K==="debounce"),Y[Fh]=q,Y[$O0]=K,Y[ew0]=J}return Y}function wY($,Q){var J=$[Q];if(J&&J[Fh])J.clear&&J.clear(),$[Q]=J[Fh]}var QO0=n0(),JO0={itemStyle:t4(Dn,!0),lineStyle:t4(Tn,!0)},lK1={lineStyle:"stroke",itemStyle:"fill"};function KO0($,Q){var J=$.visualStyleMapper||JO0[Q];if(!J)return console.warn("Unknown style type '"+Q+"'."),JO0.itemStyle;return J}function YO0($,Q){var J=$.visualDrawType||lK1[Q];if(!J)return console.warn("Unknown style type '"+Q+"'."),"fill";return J}var qO0={createOnAllSeries:!0,performRawSeries:!0,reset:function($,Q){var J=$.getData(),K=$.visualStyleAccessPath||"itemStyle",Y=$.getModel(K),q=KO0($,K),Z=q(Y),X=Y.getShallow("decal");if(X)J.setVisual("decal",X),X.dirty=!0;var W=YO0($,K),F=Z[W],H=v0(F)?F:null,B=Z.fill==="auto"||Z.stroke==="auto";if(!Z[W]||H||B){var z=$.getColorFromPalette($.name,null,Q.getSeriesCount());if(!Z[W])Z[W]=z,J.setVisual("colorFromPalette",!0);Z.fill=Z.fill==="auto"||v0(Z.fill)?z:Z.fill,Z.stroke=Z.stroke==="auto"||v0(Z.stroke)?z:Z.stroke}if(J.setVisual("style",Z),J.setVisual("drawType",W),!Q.isSeriesFiltered($)&&H)return J.setVisual("colorFromPalette",!1),{dataEach:function(A,R){var G=$.getDataParams(R),w=Q0({},Z);w[W]=H(G),A.setItemVisual(R,"style",w)}}}},kG=new D1,ZO0={createOnAllSeries:!0,performRawSeries:!0,reset:function($,Q){if($.ignoreStyleOnData||Q.isSeriesFiltered($))return;var J=$.getData(),K=$.visualStyleAccessPath||"itemStyle",Y=KO0($,K),q=J.getVisual("drawType");return{dataEach:J.hasItemOption?function(Z,X){var W=Z.getRawDataItem(X);if(W&&W[K]){kG.option=W[K];var F=Y(kG),H=Z.ensureUniqueItemVisual(X,"style");if(Q0(H,F),kG.option.decal)Z.setItemVisual(X,"decal",kG.option.decal),kG.option.decal.dirty=!0;if(q in F)Z.setItemVisual(X,"colorFromPalette",!1)}}:null}}},XO0={performRawSeries:!0,overallReset:function($){var Q=L0();$.eachSeries(function(J){var K=J.getColorBy();if(J.isColorBySeries())return;var Y=J.type+"-"+K,q=Q.get(Y);if(!q)q={},Q.set(Y,q);QO0(J).scope=q}),$.eachSeries(function(J){if(J.isColorBySeries()||$.isSeriesFiltered(J))return;var K=J.getRawData(),Y={},q=J.getData(),Z=QO0(J).scope,X=J.visualStyleAccessPath||"itemStyle",W=YO0(J,X);q.each(function(F){var H=q.getRawIndex(F);Y[H]=F}),K.each(function(F){var H=Y[F],B=q.getItemVisual(H,"colorFromPalette");if(B){var z=q.ensureUniqueItemVisual(H,"style"),A=K.getName(F)||F+"",R=K.count();z[W]=J.getColorFromPalette(A,Z,R)}})})}};var Hh=Math.PI;function zl($,Q){Q=Q||{},b0(Q,{text:"loading",textColor:a.color.primary,fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255,255,255,0.8)",showSpinner:!0,color:a.color.theme[0],spinnerRadius:10,lineWidth:5,zlevel:0});var J=new _0,K=new Q1({style:{fill:Q.maskColor},zlevel:Q.zlevel,z:1e4});J.add(K);var Y=new w1({style:{text:Q.text,fill:Q.textColor,fontSize:Q.fontSize,fontWeight:Q.fontWeight,fontStyle:Q.fontStyle,fontFamily:Q.fontFamily},zlevel:Q.zlevel,z:10001}),q=new Q1({style:{fill:"none"},textContent:Y,textConfig:{position:"right",distance:10},zlevel:Q.zlevel,z:10001});J.add(q);var Z;if(Q.showSpinner)Z=new XG({shape:{startAngle:-Hh/2,endAngle:-Hh/2+0.1,r:Q.spinnerRadius},style:{stroke:Q.color,lineCap:"round",lineWidth:Q.lineWidth},zlevel:Q.zlevel,z:10001}),Z.animateShape(!0).when(1000,{endAngle:Hh*3/2}).start("circularInOut"),Z.animateShape(!0).when(1000,{startAngle:Hh*3/2}).delay(300).start("circularInOut"),J.add(Z);return J.resize=function(){var X=Y.getBoundingRect().width,W=Q.showSpinner?Q.spinnerRadius:0,F=($.getWidth()-W*2-(Q.showSpinner&&X?10:0)-X)/2-(Q.showSpinner&&X?0:5+X/2)+(Q.showSpinner?0:X/2)+(X?0:W),H=$.getHeight()/2;Q.showSpinner&&Z.setShape({cx:F,cy:H}),q.setShape({x:F-W,y:H-W,width:W*2,height:W*2}),K.setShape({x:0,y:0,width:$.getWidth(),height:$.getHeight()})},J.resize(),J}var rK1=function(){function $(Q,J,K,Y){this._stageTaskMap=L0(),this.ecInstance=Q,this.api=J,K=this._dataProcessorHandlers=K.slice(),Y=this._visualHandlers=Y.slice(),this._allHandlers=K.concat(Y)}return $.prototype.restoreData=function(Q,J){Q.restoreData(J),this._stageTaskMap.each(function(K){var Y=K.overallTask;Y&&Y.dirty()})},$.prototype.getPerformArgs=function(Q,J){if(!Q.__pipeline)return;var K=this._pipelineMap.get(Q.__pipeline.id),Y=K.context,q=!J&&K.progressiveEnabled&&(!Y||Y.progressiveRender)&&Q.__idxInPipeline>K.blockIndex,Z=q?K.step:null,X=Y&&Y.modDataCount,W=X!=null?Math.ceil(X/Z):null;return{step:Z,modBy:W,modDataCount:X}},$.prototype.getPipeline=function(Q){return this._pipelineMap.get(Q)},$.prototype.updateStreamModes=function(Q,J){var K=this._pipelineMap.get(Q.uid),Y=Q.getData(),q=Y.count(),Z=K.progressiveEnabled&&J.incrementalPrepareRender&&q>=K.threshold,X=Q.get("large")&&q>=Q.get("largeThreshold"),W=Q.get("progressiveChunkMode")==="mod"?q:null;Q.pipelineContext=K.context={progressiveRender:Z,modDataCount:W,large:X}},$.prototype.restorePipelines=function(Q){var J=this,K=J._pipelineMap=L0();Q.eachSeries(function(Y){var q=Y.getProgressive(),Z=Y.uid;K.set(Z,{id:Z,head:null,tail:null,threshold:Y.getProgressiveThreshold(),progressiveEnabled:q&&!(Y.preventIncremental&&Y.preventIncremental()),blockIndex:-1,step:Math.round(q||700),count:0}),J._pipe(Y,Y.dataTask)})},$.prototype.prepareStageTasks=function(){var Q=this._stageTaskMap,J=this.api.getModel(),K=this.api;v(this._allHandlers,function(Y){var q=Q.get(Y.uid)||Q.set(Y.uid,{}),Z="";Z='"reset" and "overallReset" must not be both specified.',S0(!(Y.reset&&Y.overallReset),Z),Y.reset&&this._createSeriesStageTask(Y,q,J,K),Y.overallReset&&this._createOverallStageTask(Y,q,J,K)},this)},$.prototype.prepareView=function(Q,J,K,Y){var q=Q.renderTask,Z=q.context;Z.model=J,Z.ecModel=K,Z.api=Y,q.__block=!Q.incrementalPrepareRender,this._pipe(J,q)},$.prototype.performDataProcessorTasks=function(Q,J){this._performStageTasks(this._dataProcessorHandlers,Q,J,{block:!0})},$.prototype.performVisualTasks=function(Q,J,K){this._performStageTasks(this._visualHandlers,Q,J,K)},$.prototype._performStageTasks=function(Q,J,K,Y){Y=Y||{};var q=!1,Z=this;v(Q,function(W,F){if(Y.visualType&&Y.visualType!==W.visualType)return;var H=Z._stageTaskMap.get(W.uid),B=H.seriesTaskMap,z=H.overallTask;if(z){var A,R=z.agentStubMap;R.each(function(w){if(X(Y,w))w.dirty(),A=!0}),A&&z.dirty(),Z.updatePayload(z,K);var G=Z.getPerformArgs(z,Y.block);if(R.each(function(w){w.perform(G)}),z.perform(G))q=!0}else if(B)B.each(function(w,T){if(X(Y,w))w.dirty();var D=Z.getPerformArgs(w,Y.block);if(D.skip=!W.performRawSeries&&J.isSeriesFiltered(w.context.model),Z.updatePayload(w,K),w.perform(D))q=!0})});function X(W,F){return W.setDirty&&(!W.dirtyMap||W.dirtyMap.get(F.__pipeline.id))}this.unfinished=q||this.unfinished},$.prototype.performSeriesTasks=function(Q){var J;Q.eachSeries(function(K){J=K.dataTask.perform()||J}),this.unfinished=J||this.unfinished},$.prototype.plan=function(){this._pipelineMap.each(function(Q){var J=Q.tail;do{if(J.__block){Q.blockIndex=J.__idxInPipeline;break}J=J.getUpstream()}while(J)})},$.prototype.updatePayload=function(Q,J){J!=="remain"&&(Q.context.payload=J)},$.prototype._createSeriesStageTask=function(Q,J,K,Y){var q=this,Z=J.seriesTaskMap,X=J.seriesTaskMap=L0(),W=Q.seriesType,F=Q.getTargetSeries;if(Q.createOnAllSeries)K.eachRawSeries(H);else if(W)K.eachRawSeriesByType(W,H);else if(F)F(K,Y).each(H);function H(B){var z=B.uid,A=X.set(z,Z&&Z.get(z)||SZ({plan:tK1,reset:eK1,count:QY1}));A.context={model:B,ecModel:K,api:Y,useClearVisual:Q.isVisual&&!Q.isLayout,plan:Q.plan,reset:Q.reset,scheduler:q},q._pipe(B,A)}},$.prototype._createOverallStageTask=function(Q,J,K,Y){var q=this,Z=J.overallTask=J.overallTask||SZ({reset:iK1});Z.context={ecModel:K,api:Y,overallReset:Q.overallReset,scheduler:q};var X=Z.agentStubMap,W=Z.agentStubMap=L0(),F=Q.seriesType,H=Q.getTargetSeries,B=!0,z=!1,A="";if(A='"createOnAllSeries" is not supported for "overallReset", because it will block all streams.',S0(!Q.createOnAllSeries,A),F)K.eachRawSeriesByType(F,R);else if(H)H(K,Y).each(R);else B=!1,v(K.getSeries(),R);function R(G){var w=G.uid,T=W.set(w,X&&X.get(w)||(z=!0,SZ({reset:sK1,onDirty:aK1})));T.context={model:G,overallProgress:B},T.agent=Z,T.__block=B,q._pipe(G,T)}if(z)Z.dirty()},$.prototype._pipe=function(Q,J){var K=Q.uid,Y=this._pipelineMap.get(K);!Y.head&&(Y.head=J),Y.tail&&Y.tail.pipe(J),Y.tail=J,J.__idxInPipeline=Y.count++,J.__pipeline=Y},$.wrapStageHandler=function(Q,J){if(v0(Q))Q={overallReset:Q,seriesType:JY1(Q)};return Q.uid=$$("stageHandler"),J&&(Q.visualType=J),Q},$}();function iK1($){$.overallReset($.ecModel,$.api,$.payload)}function sK1($){return $.overallProgress&&oK1}function oK1(){this.agent.dirty(),this.getDownstream().dirty()}function aK1(){this.agent&&this.agent.dirty()}function tK1($){return $.plan?$.plan($.model,$.ecModel,$.api,$.payload):null}function eK1($){if($.useClearVisual)$.data.clearAllVisual();var Q=$.resetDefines=K5($.reset($.model,$.ecModel,$.api,$.payload));return Q.length>1?K0(Q,function(J,K){return WO0(K)}):$Y1}var $Y1=WO0(0);function WO0($){return function(Q,J){var K=J.data,Y=J.resetDefines[$];if(Y&&Y.dataEach)for(var q=Q.start;q<Q.end;q++)Y.dataEach(K,q);else if(Y&&Y.progress)Y.progress(Q,K)}}function QY1($){return $.data.count()}function JY1($){Nh=null;try{$(jG,FO0)}catch(Q){}return Nh}var jG={},FO0={},Nh;UO0(jG,nL);UO0(FO0,lL);jG.eachSeriesByType=jG.eachRawSeriesByType=function($){Nh=$};jG.eachComponent=function($){if($.mainType==="series"&&$.subType)Nh=$.subType};function UO0($,Q){for(var J in Q.prototype)$[J]=m5}var Al=rK1;var H1=a.darkColor,KY1=H1.background,EG=function(){return{axisLine:{lineStyle:{color:H1.axisLine}},splitLine:{lineStyle:{color:H1.axisSplitLine}},splitArea:{areaStyle:{color:[H1.backgroundTint,H1.backgroundTransparent]}},minorSplitLine:{lineStyle:{color:H1.axisMinorSplitLine}},axisLabel:{color:H1.axisLabel},axisName:{}}},HO0={label:{color:H1.secondary},itemStyle:{borderColor:H1.borderTint},dividerLineStyle:{color:H1.border}},NO0={darkMode:!0,color:H1.theme,backgroundColor:KY1,axisPointer:{lineStyle:{color:H1.border},crossStyle:{color:H1.borderShade},label:{color:H1.tertiary}},legend:{textStyle:{color:H1.secondary},pageTextStyle:{color:H1.tertiary}},textStyle:{color:H1.secondary},title:{textStyle:{color:H1.primary},subtextStyle:{color:H1.quaternary}},toolbox:{iconStyle:{borderColor:H1.accent50}},tooltip:{backgroundColor:H1.neutral20,defaultBorderColor:H1.border,textStyle:{color:H1.tertiary}},dataZoom:{borderColor:H1.accent10,textStyle:{color:H1.tertiary},brushStyle:{color:H1.backgroundTint},handleStyle:{color:H1.neutral00,borderColor:H1.accent20},moveHandleStyle:{color:H1.accent40},emphasis:{handleStyle:{borderColor:H1.accent50}},dataBackground:{lineStyle:{color:H1.accent30},areaStyle:{color:H1.accent20}},selectedDataBackground:{lineStyle:{color:H1.accent50},areaStyle:{color:H1.accent30}}},visualMap:{textStyle:{color:H1.secondary},handleStyle:{borderColor:H1.neutral30}},timeline:{lineStyle:{color:H1.accent10},label:{color:H1.tertiary},controlStyle:{color:H1.accent30,borderColor:H1.accent30}},calendar:{itemStyle:{color:H1.neutral00,borderColor:H1.neutral20},dayLabel:{color:H1.tertiary},monthLabel:{color:H1.secondary},yearLabel:{color:H1.secondary}},matrix:{x:HO0,y:HO0,backgroundColor:{borderColor:H1.axisLine},body:{itemStyle:{borderColor:H1.borderTint}}},timeAxis:EG(),logAxis:EG(),valueAxis:EG(),categoryAxis:EG(),line:{symbol:"circle"},graph:{color:H1.theme},gauge:{title:{color:H1.secondary},axisLine:{lineStyle:{color:[[1,H1.neutral05]]}},axisLabel:{color:H1.axisLabel},detail:{color:H1.primary}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}},funnel:{itemStyle:{borderColor:H1.background}},radar:function(){var $=EG();return $.axisName={color:H1.axisLabel},$.axisLine.lineStyle.color=H1.neutral20,$}(),treemap:{breadcrumb:{itemStyle:{color:H1.neutral20,textStyle:{color:H1.secondary}},emphasis:{itemStyle:{color:H1.neutral30}}}},sunburst:{itemStyle:{borderColor:H1.background}},map:{itemStyle:{borderColor:H1.border,areaColor:H1.neutral10},label:{color:H1.tertiary},emphasis:{label:{color:H1.primary},itemStyle:{areaColor:H1.highlight}},select:{label:{color:H1.primary},itemStyle:{areaColor:H1.highlight}}},geo:{itemStyle:{borderColor:H1.border,areaColor:H1.neutral10},emphasis:{label:{color:H1.primary},itemStyle:{areaColor:H1.highlight}},select:{label:{color:H1.primary},itemStyle:{color:H1.highlight}}}};NO0.categoryAxis.splitLine.show=!1;var BO0=NO0;var zO0=function(){function $(){}return $.prototype.normalizeQuery=function(Q){var J={},K={},Y={};if(B0(Q)){var q=a4(Q);J.mainType=q.main||null,J.subType=q.sub||null}else{var Z=["Index","Name","Id"],X={name:1,dataIndex:1,dataType:1};v(Q,function(W,F){var H=!1;for(var B=0;B<Z.length;B++){var z=Z[B],A=F.lastIndexOf(z);if(A>0&&A===F.length-z.length){var R=F.slice(0,A);if(R!=="data")J.mainType=R,J[z.toLowerCase()]=W,H=!0}}if(X.hasOwnProperty(F))K[F]=W,H=!0;if(!H)Y[F]=W})}return{cptQuery:J,dataQuery:K,otherQuery:Y}},$.prototype.filter=function(Q,J){var K=this.eventInfo;if(!K)return!0;var{targetEl:Y,packedEvent:q,model:Z,view:X}=K;if(!Z||!X)return!0;var{cptQuery:W,dataQuery:F}=J;return H(W,Z,"mainType")&&H(W,Z,"subType")&&H(W,Z,"index","componentIndex")&&H(W,Z,"name")&&H(W,Z,"id")&&H(F,q,"name")&&H(F,q,"dataIndex")&&H(F,q,"dataType")&&(!X.filterForExposedEvent||X.filterForExposedEvent(Q,J.otherQuery,Y,q));function H(B,z,A,R){return B[A]==null||z[R||A]===B[A]}},$.prototype.afterTrigger=function(){this.eventInfo=null},$}();var Vl=["symbol","symbolSize","symbolRotate","symbolOffset"],AO0=Vl.concat(["symbolKeepAspect"]),VO0={createOnAllSeries:!0,performRawSeries:!0,reset:function($,Q){var J=$.getData();if($.legendIcon)J.setVisual("legendIcon",$.legendIcon);if(!$.hasSymbolVisual)return;var K={},Y={},q=!1;for(var Z=0;Z<Vl.length;Z++){var X=Vl[Z],W=$.get(X);if(v0(W))q=!0,Y[X]=W;else K[X]=W}if(K.symbol=K.symbol||$.defaultSymbol,J.setVisual(Q0({legendIcon:$.legendIcon||K.symbol,symbolKeepAspect:$.get("symbolKeepAspect")},K)),Q.isSeriesFiltered($))return;var F=Z1(Y);function H(B,z){var A=$.getRawValue(z),R=$.getDataParams(z);for(var G=0;G<F.length;G++){var w=F[G];B.setItemVisual(z,w,Y[w](A,R))}}return{dataEach:q?H:null}}},RO0={createOnAllSeries:!0,performRawSeries:!0,reset:function($,Q){if(!$.hasSymbolVisual)return;if(Q.isSeriesFiltered($))return;var J=$.getData();function K(Y,q){var Z=Y.getItemModel(q);for(var X=0;X<AO0.length;X++){var W=AO0[X],F=Z.getShallow(W,!0);if(F!=null)Y.setItemVisual(q,W,F)}}return{dataEach:J.hasItemOption?K:null}}};function LG($,Q,J){switch(J){case"color":var K=$.getItemVisual(Q,"style");return K[$.getVisual("drawType")];case"opacity":return $.getItemVisual(Q,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return $.getItemVisual(Q,J);default:console.warn("Unknown visual type "+J)}}function xJ($,Q){switch(Q){case"color":var J=$.getVisual("style");return J[$.getVisual("drawType")];case"opacity":return $.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return $.getVisual(Q);default:console.warn("Unknown visual type "+Q)}}function Rl($,Q,J,K){switch(J){case"color":var Y=$.ensureUniqueItemVisual(Q,"style");Y[$.getVisual("drawType")]=K,$.setItemVisual(Q,"colorFromPalette",!1);break;case"opacity":$.ensureUniqueItemVisual(Q,"style").opacity=K;break;case"symbol":case"symbolSize":case"liftZ":$.setItemVisual(Q,J,K);break;default:console.warn("Unknown visual type "+J)}}function Bh($,Q){function J(K,Y){var q=[];return K.eachComponent({mainType:"series",subType:$,query:Y},function(Z){q.push(Z.seriesIndex)}),q}v([[$+"ToggleSelect","toggleSelect"],[$+"Select","select"],[$+"UnSelect","unselect"]],function(K){Q(K[0],function(Y,q,Z){Y=Q0({},Y),C6(Y.type,K[1]),Z.dispatchAction(Q0(Y,{type:K[1],seriesIndex:J(q,Y)}))})})}function yN($,Q,J,K,Y){var q=$+Q;if(!J.isSilent(q))z4("event "+q+" is deprecated."),K.eachComponent({mainType:"series",subType:"pie"},function(Z){var X=Z.seriesIndex,W=Z.option.selectedMap,F=Y.selected;for(var H=0;H<F.length;H++)if(F[H].seriesIndex===X){var B=Z.getData(),z=r3(B,Y.fromActionPayload);J.trigger(q,{type:q,seriesId:Z.id,name:J0(z)?B.getName(z[0]):B.getName(z),selected:B0(W)?W:Q0({},W)})}})}function GO0($,Q,J){$.on("selectchanged",function(K){var Y=J.getModel();if(K.isFromClick)yN("map","selectchanged",Q,Y,K),yN("pie","selectchanged",Q,Y,K);else if(K.fromAction==="select")yN("map","selected",Q,Y,K),yN("pie","selected",Q,Y,K);else if(K.fromAction==="unselect")yN("map","unselected",Q,Y,K),yN("pie","unselected",Q,Y,K)})}function WQ($,Q,J){var K;while($){if(Q($)){if(K=$,J)break}$=$.__hostTarget||$.parent}return K}var YY1=Math.round(Math.random()*9),qY1=typeof Object.defineProperty==="function",ZY1=function(){function $(){this._id="__ec_inner_"+YY1++}return $.prototype.get=function(Q){return this._guard(Q)[this._id]},$.prototype.set=function(Q,J){var K=this._guard(Q);if(qY1)Object.defineProperty(K,this._id,{value:J,enumerable:!1,configurable:!0});else K[this._id]=J;return this},$.prototype.delete=function(Q){if(this.has(Q))return delete this._guard(Q)[this._id],!0;return!1},$.prototype.has=function(Q){return!!this._guard(Q)[this._id]},$.prototype._guard=function(Q){if(Q!==Object(Q))throw TypeError("Value of WeakMap is not a non-null object.");return Q},$}(),wO0=ZY1;var XY1=t0.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function($,Q){var{cx:J,cy:K}=Q,Y=Q.width/2,q=Q.height/2;$.moveTo(J,K-q),$.lineTo(J+Y,K+q),$.lineTo(J-Y,K+q),$.closePath()}}),WY1=t0.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function($,Q){var{cx:J,cy:K}=Q,Y=Q.width/2,q=Q.height/2;$.moveTo(J,K-q),$.lineTo(J+Y,K),$.lineTo(J,K+q),$.lineTo(J-Y,K),$.closePath()}}),FY1=t0.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function($,Q){var{x:J,y:K}=Q,Y=Q.width/5*3,q=Math.max(Y,Q.height),Z=Y/2,X=Z*Z/(q-Z),W=K-q+Z+X,F=Math.asin(X/Z),H=Math.cos(F)*Z,B=Math.sin(F),z=Math.cos(F),A=Z*0.6,R=Z*0.7;$.moveTo(J-H,W+X),$.arc(J,W,Z,Math.PI-F,Math.PI*2+F),$.bezierCurveTo(J+H-B*A,W+X+z*A,J,K-R,J,K),$.bezierCurveTo(J,K-R,J-H+B*A,W+X+z*A,J-H,W+X),$.closePath()}}),UY1=t0.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function($,Q){var{height:J,width:K,x:Y,y:q}=Q,Z=K/3*2;$.moveTo(Y,q),$.lineTo(Y+Z,q+J),$.lineTo(Y,q+J/4*3),$.lineTo(Y-Z,q+J),$.lineTo(Y,q),$.closePath()}}),HY1={line:l5,rect:Q1,roundRect:Q1,square:Q1,circle:R4,diamond:WY1,pin:FY1,arrow:UY1,triangle:XY1},NY1={line:function($,Q,J,K,Y){Y.x1=$,Y.y1=Q+K/2,Y.x2=$+J,Y.y2=Q+K/2},rect:function($,Q,J,K,Y){Y.x=$,Y.y=Q,Y.width=J,Y.height=K},roundRect:function($,Q,J,K,Y){Y.x=$,Y.y=Q,Y.width=J,Y.height=K,Y.r=Math.min(J,K)/4},square:function($,Q,J,K,Y){var q=Math.min(J,K);Y.x=$,Y.y=Q,Y.width=q,Y.height=q},circle:function($,Q,J,K,Y){Y.cx=$+J/2,Y.cy=Q+K/2,Y.r=Math.min(J,K)/2},diamond:function($,Q,J,K,Y){Y.cx=$+J/2,Y.cy=Q+K/2,Y.width=J,Y.height=K},pin:function($,Q,J,K,Y){Y.x=$+J/2,Y.y=Q+K/2,Y.width=J,Y.height=K},arrow:function($,Q,J,K,Y){Y.x=$+J/2,Y.y=Q+K/2,Y.width=J,Y.height=K},triangle:function($,Q,J,K,Y){Y.cx=$+J/2,Y.cy=Q+K/2,Y.width=J,Y.height=K}},hG={};v(HY1,function($,Q){hG[Q]=new $});var BY1=t0.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function($,Q,J){var K=NW($,Q,J),Y=this.shape;if(Y&&Y.symbolType==="pin"&&Q.position==="inside")K.y=J.y+J.height*0.4;return K},buildPath:function($,Q,J){var K=Q.symbolType;if(K!=="none"){var Y=hG[K];if(!Y)K="rect",Y=hG[K];NY1[K](Q.x,Q.y,Q.width,Q.height,Y.shape),Y.buildPath($,Y.shape,J)}}});function zY1($,Q){if(this.type!=="image"){var J=this.style;if(this.__isEmptyBrush)J.stroke=$,J.fill=Q||a.color.neutral00,J.lineWidth=2;else if(this.shape.symbolType==="line")J.stroke=$;else J.fill=$;this.markRedraw()}}function j5($,Q,J,K,Y,q,Z){var X=$.indexOf("empty")===0;if(X)$=$.substr(5,1).toLowerCase()+$.substr(6);var W;if($.indexOf("image://")===0)W=An($.slice(8),new u0(Q,J,K,Y),Z?"center":"cover");else if($.indexOf("path://")===0)W=_W($.slice(7),{},new u0(Q,J,K,Y),Z?"center":"cover");else W=new BY1({shape:{symbolType:$,x:Q,y:J,width:K,height:Y}});if(W.__isEmptyBrush=X,W.setColor=zY1,q)W.setColor(q);return W}function FQ($){if(!J0($))$=[+$,+$];return[$[0]||0,$[1]||0]}function n9($,Q){if($==null)return;if(!J0($))$=[$,$];return[h0($[0],Q[0])||0,h0(f0($[1],$[0]),Q[1])||0]}function rW($){return isFinite($)}function AY1($,Q,J){var K=Q.x==null?0:Q.x,Y=Q.x2==null?1:Q.x2,q=Q.y==null?0:Q.y,Z=Q.y2==null?0:Q.y2;if(!Q.global)K=K*J.width+J.x,Y=Y*J.width+J.x,q=q*J.height+J.y,Z=Z*J.height+J.y;K=rW(K)?K:0,Y=rW(Y)?Y:1,q=rW(q)?q:0,Z=rW(Z)?Z:0;var X=$.createLinearGradient(K,q,Y,Z);return X}function VY1($,Q,J){var{width:K,height:Y}=J,q=Math.min(K,Y),Z=Q.x==null?0.5:Q.x,X=Q.y==null?0.5:Q.y,W=Q.r==null?0.5:Q.r;if(!Q.global)Z=Z*K+J.x,X=X*Y+J.y,W=W*q;Z=rW(Z)?Z:0.5,X=rW(X)?X:0.5,W=W>=0&&rW(W)?W:0.5;var F=$.createRadialGradient(Z,X,0,Z,X,W);return F}function vG($,Q,J){var K=Q.type==="radial"?VY1($,Q,J):AY1($,Q,J),Y=Q.colorStops;for(var q=0;q<Y.length;q++)K.addColorStop(Y[q].offset,Y[q].color);return K}function TO0($,Q){if($===Q||!$&&!Q)return!1;if(!$||!Q||$.length!==Q.length)return!0;for(var J=0;J<$.length;J++)if($[J]!==Q[J])return!0;return!1}function zh($){return parseInt($,10)}function fZ($,Q,J){var K=["width","height"][Q],Y=["clientWidth","clientHeight"][Q],q=["paddingLeft","paddingTop"][Q],Z=["paddingRight","paddingBottom"][Q];if(J[K]!=null&&J[K]!=="auto")return parseFloat(J[K]);var X=document.defaultView.getComputedStyle($);return($[Y]||zh(X[K])||zh($.style[K]))-(zh(X[q])||0)-(zh(X[Z])||0)|0}function RY1($,Q){if(!$||$==="solid"||!(Q>0))return null;return $==="dashed"?[4*Q,2*Q]:$==="dotted"?[Q]:U1($)?[$]:J0($)?$:null}function SG($){var Q=$.style,J=Q.lineDash&&Q.lineWidth>0&&RY1(Q.lineDash,Q.lineWidth),K=Q.lineDashOffset;if(J){var Y=Q.strokeNoScale&&$.getLineScale?$.getLineScale():1;if(Y&&Y!==1)J=K0(J,function(q){return q/Y}),K/=Y}return[J,K]}var GY1=new n7(!0);function Ah($){var Q=$.stroke;return!(Q==null||Q==="none"||!($.lineWidth>0))}function DO0($){return typeof $==="string"&&$!=="none"}function Vh($){var Q=$.fill;return Q!=null&&Q!=="none"}function CO0($,Q){if(Q.fillOpacity!=null&&Q.fillOpacity!==1){var J=$.globalAlpha;$.globalAlpha=Q.fillOpacity*Q.opacity,$.fill(),$.globalAlpha=J}else $.fill()}function PO0($,Q){if(Q.strokeOpacity!=null&&Q.strokeOpacity!==1){var J=$.globalAlpha;$.globalAlpha=Q.strokeOpacity*Q.opacity,$.stroke(),$.globalAlpha=J}else $.stroke()}function Rh($,Q,J){var K=iR(Q.image,Q.__image,J);if(RN(K)){var Y=$.createPattern(K,Q.repeat||"repeat");if(typeof DOMMatrix==="function"&&Y&&Y.setTransform){var q=new DOMMatrix;q.translateSelf(Q.x||0,Q.y||0),q.rotateSelf(0,0,(Q.rotation||0)*eH),q.scaleSelf(Q.scaleX||1,Q.scaleY||1),Y.setTransform(q)}return Y}}function wY1($,Q,J,K){var Y,q=Ah(J),Z=Vh(J),X=J.strokePercent,W=X<1,F=!Q.path;if((!Q.silent||W)&&F)Q.createPathProxy();var H=Q.path||GY1,B=Q.__dirty;if(!K){var{fill:z,stroke:A}=J,R=Z&&!!z.colorStops,G=q&&!!A.colorStops,w=Z&&!!z.image,T=q&&!!A.image,D=void 0,P=void 0,j=void 0,E=void 0,L=void 0;if(R||G)L=Q.getBoundingRect();if(R)D=B?vG($,z,L):Q.__canvasFillGradient,Q.__canvasFillGradient=D;if(G)P=B?vG($,A,L):Q.__canvasStrokeGradient,Q.__canvasStrokeGradient=P;if(w)j=B||!Q.__canvasFillPattern?Rh($,z,Q):Q.__canvasFillPattern,Q.__canvasFillPattern=j;if(T)E=B||!Q.__canvasStrokePattern?Rh($,A,Q):Q.__canvasStrokePattern,Q.__canvasStrokePattern=E;if(R)$.fillStyle=D;else if(w)if(j)$.fillStyle=j;else Z=!1;if(G)$.strokeStyle=P;else if(T)if(E)$.strokeStyle=E;else q=!1}var h=Q.getGlobalScale();H.setScale(h[0],h[1],Q.segmentIgnoreThreshold);var _,S;if($.setLineDash&&J.lineDash)Y=SG(Q),_=Y[0],S=Y[1];var I=!0;if(F||B&BZ){if(H.setDPR($.dpr),W)H.setContext(null);else H.setContext($),I=!1;H.reset(),Q.buildPath(H,Q.shape,K),H.toStatic(),Q.pathUpdated()}if(I)H.rebuildPath($,W?X:1);if(_)$.setLineDash(_),$.lineDashOffset=S;if(!K)if(J.strokeFirst){if(q)PO0($,J);if(Z)CO0($,J)}else{if(Z)CO0($,J);if(q)PO0($,J)}if(_)$.setLineDash([])}function OY1($,Q,J){var K=Q.__image=iR(J.image,Q.__image,Q,Q.onload);if(!K||!RN(K))return;var Y=J.x||0,q=J.y||0,Z=Q.getWidth(),X=Q.getHeight(),W=K.width/K.height;if(Z==null&&X!=null)Z=X*W;else if(X==null&&Z!=null)X=Z/W;else if(Z==null&&X==null)Z=K.width,X=K.height;if(J.sWidth&&J.sHeight){var F=J.sx||0,H=J.sy||0;$.drawImage(K,F,H,J.sWidth,J.sHeight,Y,q,Z,X)}else if(J.sx&&J.sy){var{sx:F,sy:H}=J,B=Z-F,z=X-H;$.drawImage(K,F,H,B,z,Y,q,Z,X)}else $.drawImage(K,Y,q,Z,X)}function TY1($,Q,J){var K,Y=J.text;if(Y!=null&&(Y+=""),Y){$.font=J.font||d4,$.textAlign=J.textAlign,$.textBaseline=J.textBaseline;var q=void 0,Z=void 0;if($.setLineDash&&J.lineDash)K=SG(Q),q=K[0],Z=K[1];if(q)$.setLineDash(q),$.lineDashOffset=Z;if(J.strokeFirst){if(Ah(J))$.strokeText(Y,J.x,J.y);if(Vh(J))$.fillText(Y,J.x,J.y)}else{if(Vh(J))$.fillText(Y,J.x,J.y);if(Ah(J))$.strokeText(Y,J.x,J.y)}if(q)$.setLineDash([])}}var kO0=["shadowBlur","shadowOffsetX","shadowOffsetY"],jO0=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function _O0($,Q,J,K,Y){var q=!1;if(!K){if(J=J||{},Q===J)return!1}if(K||Q.opacity!==J.opacity){X9($,Y),q=!0;var Z=Math.max(Math.min(Q.opacity,1),0);$.globalAlpha=isNaN(Z)?EJ.opacity:Z}if(K||Q.blend!==J.blend){if(!q)X9($,Y),q=!0;$.globalCompositeOperation=Q.blend||EJ.blend}for(var X=0;X<kO0.length;X++){var W=kO0[X];if(K||Q[W]!==J[W]){if(!q)X9($,Y),q=!0;$[W]=$.dpr*(Q[W]||0)}}if(K||Q.shadowColor!==J.shadowColor){if(!q)X9($,Y),q=!0;$.shadowColor=Q.shadowColor||EJ.shadowColor}return q}function EO0($,Q,J,K,Y){var q=_G(Q,Y.inHover),Z=K?null:J&&_G(J,Y.inHover)||{};if(q===Z)return!1;var X=_O0($,q,Z,K,Y);if(K||q.fill!==Z.fill){if(!X)X9($,Y),X=!0;DO0(q.fill)&&($.fillStyle=q.fill)}if(K||q.stroke!==Z.stroke){if(!X)X9($,Y),X=!0;DO0(q.stroke)&&($.strokeStyle=q.stroke)}if(K||q.opacity!==Z.opacity){if(!X)X9($,Y),X=!0;$.globalAlpha=q.opacity==null?1:q.opacity}if(Q.hasStroke()){var W=q.lineWidth,F=W/(q.strokeNoScale&&Q.getLineScale?Q.getLineScale():1);if($.lineWidth!==F){if(!X)X9($,Y),X=!0;$.lineWidth=F}}for(var H=0;H<jO0.length;H++){var B=jO0[H],z=B[0];if(K||q[z]!==Z[z]){if(!X)X9($,Y),X=!0;$[z]=q[z]||B[1]}}return X}function DY1($,Q,J,K,Y){return _O0($,_G(Q,Y.inHover),J&&_G(J,Y.inHover),K,Y)}function fO0($,Q){var J=Q.transform,K=$.dpr||1;if(J)$.setTransform(K*J[0],K*J[1],K*J[2],K*J[3],K*J[4],K*J[5]);else $.setTransform(K,0,0,K,0,0)}function CY1($,Q,J){var K=!1;for(var Y=0;Y<$.length;Y++){var q=$[Y];K=K||q.isZeroArea(),fO0(Q,q),Q.beginPath(),q.buildPath(Q,q.shape),Q.clip()}J.allClipped=K}function PY1($,Q){if($&&Q)return $[0]!==Q[0]||$[1]!==Q[1]||$[2]!==Q[2]||$[3]!==Q[3]||$[4]!==Q[4]||$[5]!==Q[5];else if(!$&&!Q)return!1;return!0}var LO0=1,hO0=2,vO0=3,SO0=4;function kY1($){var Q=Vh($),J=Ah($);return!($.lineDash||!(+Q^+J)||Q&&typeof $.fill!=="string"||J&&typeof $.stroke!=="string"||$.strokePercent<1||$.strokeOpacity<1||$.fillOpacity<1)}function X9($,Q){Q.batchFill&&$.fill(),Q.batchStroke&&$.stroke(),Q.batchFill="",Q.batchStroke=""}function _G($,Q){return Q?$.__hoverStyle||$.style:$.style}function Gh($,Q){IZ($,Q,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function IZ($,Q,J,K){var Y=Q.transform;if(!Q.shouldBePainted(J.viewWidth,J.viewHeight,!1,!1)){Q.__dirty&=~_7,Q.__isRendered=!1;return}var q=Q.__clipPaths,Z=J.prevElClipPaths,X=!1,W=!1;if(!Z||TO0(q,Z)){if(Z&&Z.length)X9($,J),$.restore(),W=X=!0,J.prevElClipPaths=null,J.allClipped=!1,J.prevEl=null;if(q&&q.length)X9($,J),$.save(),CY1(q,$,J),X=!0;J.prevElClipPaths=q}if(J.allClipped){Q.__isRendered=!1;return}Q.beforeBrush&&Q.beforeBrush(),Q.innerBeforeBrush();var F=J.prevEl;if(!F)W=X=!0;var H=Q instanceof t0&&Q.autoBatch&&kY1(Q.style);if(X||PY1(Y,F.transform))X9($,J),fO0($,Q);else if(!H)X9($,J);var B=_G(Q,J.inHover);if(Q instanceof t0){if(J.lastDrawType!==LO0)W=!0,J.lastDrawType=LO0;if(EO0($,Q,F,W,J),!H||!J.batchFill&&!J.batchStroke)$.beginPath();if(wY1($,Q,B,H),H)J.batchFill=B.fill||"",J.batchStroke=B.stroke||""}else if(Q instanceof ZY){if(J.lastDrawType!==vO0)W=!0,J.lastDrawType=vO0;EO0($,Q,F,W,J),TY1($,Q,B)}else if(Q instanceof n5){if(J.lastDrawType!==hO0)W=!0,J.lastDrawType=hO0;DY1($,Q,F,W,J),OY1($,Q,B)}else if(Q.getTemporalDisplayables){if(J.lastDrawType!==SO0)W=!0,J.lastDrawType=SO0;jY1($,Q,J)}if(H&&K)X9($,J);Q.innerAfterBrush(),Q.afterBrush&&Q.afterBrush(),J.prevEl=Q,Q.__dirty=0,Q.__isRendered=!0}function jY1($,Q,J){var K=Q.getDisplayables(),Y=Q.getTemporalDisplayables();$.save();var q={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:J.viewWidth,viewHeight:J.viewHeight,inHover:J.inHover},Z,X;for(Z=Q.getCursor(),X=K.length;Z<X;Z++){var W=K[Z];W.beforeBrush&&W.beforeBrush(),W.innerBeforeBrush(),IZ($,W,q,Z===X-1),W.innerAfterBrush(),W.afterBrush&&W.afterBrush(),q.prevEl=W}for(var F=0,H=Y.length;F<H;F++){var W=Y[F];W.beforeBrush&&W.beforeBrush(),W.innerBeforeBrush(),IZ($,W,q,F===H-1),W.innerAfterBrush(),W.afterBrush&&W.afterBrush(),q.prevEl=W}Q.clearTemporalDisplayables(),Q.notClear=!0,$.restore()}var Gl=new wO0,IO0=new CJ(100),MO0=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function UQ($,Q){if($==="none")return null;var J=Q.getDevicePixelRatio(),K=Q.getZr(),Y=K.painter.type==="svg";if($.dirty)Gl.delete($);var q=Gl.get($);if(q)return q;var Z=b0($,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});if(Z.backgroundColor==="none")Z.backgroundColor=null;var X={repeat:"repeat"};return W(X),X.rotation=Z.rotation,X.scaleX=X.scaleY=Y?1:1/J,Gl.set($,X),$.dirty=!1,X;function W(F){var H=[J],B=!0;for(var z=0;z<MO0.length;++z){var A=Z[MO0[z]];if(A!=null&&!J0(A)&&!B0(A)&&!U1(A)&&typeof A!=="boolean"){B=!1;break}H.push(A)}var R;if(B){R=H.join(",")+(Y?"-svg":"");var G=IO0.get(R);if(G)Y?F.svgElement=G:F.image=G}var w=gO0(Z.dashArrayX),T=EY1(Z.dashArrayY),D=bO0(Z.symbol),P=LY1(w),j=yO0(T),E=!Y&&u7.createCanvas(),L=Y&&{tag:"g",attrs:{},key:"dcl",children:[]},h=S(),_;if(E)E.width=h.width*J,E.height=h.height*J,_=E.getContext("2d");if(I(),B)IO0.put(R,E||L);F.image=E,F.svgElement=L,F.svgWidth=h.width,F.svgHeight=h.height;function S(){var M=1;for(var y=0,b=P.length;y<b;++y)M=kd(M,P[y]);var u=1;for(var y=0,b=D.length;y<b;++y)u=kd(u,D[y].length);M*=u;var c=j*P.length*D.length,m=function(i){console.warn("Calculated decal size is greater than "+i+" due to decal option settings so "+i+" is used for the decal size. Please consider changing the decal option to make a smaller decal or set "+i+" to be larger to avoid incontinuity.")};if(M>Z.maxTileWidth)m("maxTileWidth");if(c>Z.maxTileHeight)m("maxTileHeight");return{width:Math.max(1,Math.min(M,Z.maxTileWidth)),height:Math.max(1,Math.min(c,Z.maxTileHeight))}}function I(){if(_){if(_.clearRect(0,0,E.width,E.height),Z.backgroundColor)_.fillStyle=Z.backgroundColor,_.fillRect(0,0,E.width,E.height)}var M=0;for(var y=0;y<T.length;++y)M+=T[y];if(M<=0)return;var b=-j,u=0,c=0,m=0;while(b<h.height){if(u%2===0){var i=c/2%D.length,o=0,n=0,e=0;while(o<h.width*2){var Z0=0;for(var y=0;y<w[m].length;++y)Z0+=w[m][y];if(Z0<=0)break;if(n%2===0){var q0=(1-Z.symbolSize)*0.5,k0=o+w[m][n]*q0,c0=b+T[u]*q0,J1=w[m][n]*Z.symbolSize,W1=T[u]*Z.symbolSize,h1=e/2%D[i].length;X1(k0,c0,J1,W1,D[i][h1])}if(o+=w[m][n],++e,++n,n===w[m].length)n=0}if(++m,m===w.length)m=0}if(b+=T[u],++c,++u,u===T.length)u=0}function X1(r0,G1,l0,z1,X5){var v1=Y?1:J,H5=j5(X5,r0*v1,G1*v1,l0*v1,z1*v1,Z.color,Z.symbolKeepAspect);if(Y){var N5=K.painter.renderOneToVNode(H5);if(N5)L.children.push(N5)}else Gh(_,H5)}}}}function bO0($){if(!$||$.length===0)return[["rect"]];if(B0($))return[[$]];var Q=!0;for(var J=0;J<$.length;++J)if(!B0($[J])){Q=!1;break}if(Q)return bO0([$]);var K=[];for(var J=0;J<$.length;++J)if(B0($[J]))K.push([$[J]]);else K.push($[J]);return K}function gO0($){if(!$||$.length===0)return[[0,0]];if(U1($)){var Q=Math.ceil($);return[[Q,Q]]}var J=!0;for(var K=0;K<$.length;++K)if(!U1($[K])){J=!1;break}if(J)return gO0([$]);var Y=[];for(var K=0;K<$.length;++K)if(U1($[K])){var Q=Math.ceil($[K]);Y.push([Q,Q])}else{var Q=K0($[K],function(X){return Math.ceil(X)});if(Q.length%2===1)Y.push(Q.concat(Q));else Y.push(Q)}return Y}function EY1($){if(!$||typeof $==="object"&&$.length===0)return[0,0];if(U1($)){var Q=Math.ceil($);return[Q,Q]}var J=K0($,function(K){return Math.ceil(K)});return $.length%2?J.concat(J):J}function LY1($){return K0($,function(Q){return yO0(Q)})}function yO0($){var Q=0;for(var J=0;J<$.length;++J)Q+=$[J];if($.length%2===1)return Q*2;return Q}function wl($,Q){$.eachRawSeries(function(J){if($.isSeriesFiltered(J))return;var K=J.getData();if(K.hasItemVisual())K.each(function(Z){var X=K.getItemVisual(Z,"decal");if(X){var W=K.ensureUniqueItemVisual(Z,"style");W.decal=UQ(X,Q)}});var Y=K.getVisual("decal");if(Y){var q=K.getVisual("style");q.decal=UQ(Y,Q)}})}var hY1=new T7,q$=hY1;var wh={};function xO0($,Q){if(wh[$])P1("Already has an implementation of "+$+".");wh[$]=Q}function cO0($){if(!wh[$])P1("Implementation of "+$+" doesn't exists.");return wh[$]}var uO0={};function mO0($,Q){uO0[$]=Q}function pO0($){return uO0[$]}var vY1=1,SY1=800,_Y1=900,fY1=1000,IY1=2000,MY1=5000,eO0=1000,bY1=1100,vl=2000,$T0=3000,gY1=4000,Eh=4500,yY1=4600,xY1=5000,cY1=6000,QT0=7000,JT0={PROCESSOR:{FILTER:fY1,SERIES_FILTER:SY1,STATISTIC:MY1},VISUAL:{LAYOUT:eO0,PROGRESSIVE_LAYOUT:bY1,GLOBAL:vl,CHART:$T0,POST_CHART_LAYOUT:yY1,COMPONENT:gY1,BRUSH:xY1,CHART_ITEM:Eh,ARIA:cY1,DECAL:QT0}},b7="__flagInMainProcess",Oh="__mainProcessVersion",Z8="__pendingUpdate",Ol="__needsUpdateStatus",dO0=/^[a-zA-Z0-9_]+$/,Tl="__connectUpdateStatus",nO0=0,uY1=1,mY1=2;function KT0($){return function(){var Q=[];for(var J=0;J<arguments.length;J++)Q[J]=arguments[J];if(this.isDisposed()){W9(this.id);return}return qT0(this,$,Q)}}function YT0($){return function(){var Q=[];for(var J=0;J<arguments.length;J++)Q[J]=arguments[J];return qT0(this,$,Q)}}function qT0($,Q,J){return J[0]=J[0]&&J[0].toLowerCase(),T7.prototype[Q].apply($,J)}var ZT0=function($){x(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q}(T7),XT0=ZT0.prototype;XT0.on=YT0("on");XT0.off=YT0("off");var iW,Dl,Th,OY,Dh,Cl,Pl,xN,cN,lO0,rO0,kl,iO0,Ch,sO0,WT0,Z$,oO0,uN,FT0=function($){x(Q,$);function Q(J,K,Y){var q=$.call(this,new zO0)||this;q._chartsViews=[],q._chartsMap={},q._componentsViews=[],q._componentsMap={},q._pendingActions=[],Y=Y||{},q._dom=J;var Z="canvas",X="auto",W=!1;q[Oh]=1;var F=L1.hasGlobalWindow?window:global;if(F)Z=f0(F.__ECHARTS__DEFAULT__RENDERER__,Z),X=f0(F.__ECHARTS__DEFAULT__COARSE_POINTER,X),W=f0(F.__ECHARTS__DEFAULT__USE_DIRTY_RECT__,W);if(Y.ssr)wV0(function(A){var R=m0(A),G=R.dataIndex;if(G==null)return;var w=L0();return w.set("series_index",R.seriesIndex),w.set("data_index",G),R.ssrType&&w.set("ssr_type",R.ssrType),w});var H=q._zr=Td(J,{renderer:Y.renderer||Z,devicePixelRatio:Y.devicePixelRatio,width:Y.width,height:Y.height,ssr:Y.ssr,useDirtyRect:f0(Y.useDirtyRect,W),useCoarsePointer:f0(Y.useCoarsePointer,X),pointerSize:Y.pointerSize});q._ssr=Y.ssr,q._throttledZrFlush=PG(O0(H.flush,H),17),q._updateTheme(K),q._locale=uG0(Y.locale||RL),q._coordSysMgr=new ZQ;var B=q._api=sO0(q);function z(A,R){return A.__prio-R.__prio}return JW(jh,z),JW(El,z),q._scheduler=new Al(q,B,El,jh),q._messageCenter=new ZT0,q._initEvents(),q.resize=O0(q.resize,q),H.animation.on("frame",q._onframe,q),lO0(H,q),rO0(H,q),sX(q),q}return Q.prototype._onframe=function(){if(this._disposed)return;oO0(this);var J=this._scheduler;if(this[Z8]){var K=this[Z8].silent;this[b7]=!0,uN(this);try{iW(this),OY.update.call(this,null,this[Z8].updateParams)}catch(W){throw this[b7]=!1,this[Z8]=null,W}this._zr.flush(),this[b7]=!1,this[Z8]=null,xN.call(this,K),cN.call(this,K)}else if(J.unfinished){var Y=vY1,q=this._model,Z=this._api;J.unfinished=!1;do{var X=+new Date;J.performSeriesTasks(q),J.performDataProcessorTasks(q),Cl(this,q),J.performVisualTasks(q),Ch(this,this._model,Z,"remain",{}),Y-=+new Date-X}while(Y>0&&J.unfinished);if(!J.unfinished)this._zr.flush()}},Q.prototype.getDom=function(){return this._dom},Q.prototype.getId=function(){return this.id},Q.prototype.getZr=function(){return this._zr},Q.prototype.isSSR=function(){return this._ssr},Q.prototype.setOption=function(J,K,Y){if(this[b7]){P1("`setOption` should not be called during main process.");return}if(this._disposed){W9(this.id);return}var q,Z,X;if(I0(K))Y=K.lazyUpdate,q=K.silent,Z=K.replaceMerge,X=K.transition,K=K.notMerge;if(this[b7]=!0,uN(this),!this._model||K){var W=new ww0(this._api),F=this._theme,H=this._model=new nL;H.scheduler=this._scheduler,H.ssr=this._ssr,H.init(null,null,null,F,this._locale,W)}this._model.setOption(J,{replaceMerge:Z},Ll);var B={seriesTransition:X,optionChanged:!0};if(Y)this[Z8]={silent:q,updateParams:B},this[b7]=!1,this.getZr().wakeUp();else{try{iW(this),OY.update.call(this,null,B)}catch(z){throw this[Z8]=null,this[b7]=!1,z}if(!this._ssr)this._zr.flush();this[Z8]=null,this[b7]=!1,xN.call(this,q),cN.call(this,q)}},Q.prototype.setTheme=function(J,K){if(this[b7]){P1("`setTheme` should not be called during main process.");return}if(this._disposed){W9(this.id);return}var Y=this._model;if(!Y)return;var q=K&&K.silent,Z=null;if(this[Z8]){if(q==null)q=this[Z8].silent;Z=this[Z8].updateParams,this[Z8]=null}this[b7]=!0,uN(this);try{this._updateTheme(J),Y.setTheme(this._theme),iW(this),OY.update.call(this,{type:"setTheme"},Z)}catch(X){throw this[b7]=!1,X}this[b7]=!1,xN.call(this,q),cN.call(this,q)},Q.prototype._updateTheme=function(J){if(B0(J))J=UT0[J];if(J)J=y0(J),J&&rL(J,!0),this._theme=J},Q.prototype.getModel=function(){return this._model},Q.prototype.getOption=function(){return this._model&&this._model.getOption()},Q.prototype.getWidth=function(){return this._zr.getWidth()},Q.prototype.getHeight=function(){return this._zr.getHeight()},Q.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||L1.hasGlobalWindow&&window.devicePixelRatio||1},Q.prototype.getRenderedCanvas=function(J){return C6("getRenderedCanvas","renderToCanvas"),this.renderToCanvas(J)},Q.prototype.renderToCanvas=function(J){J=J||{};var K=this._zr.painter;if(K.type!=="canvas")throw Error("renderToCanvas can only be used in the canvas renderer.");return K.getRenderedCanvas({backgroundColor:J.backgroundColor||this._model.get("backgroundColor"),pixelRatio:J.pixelRatio||this.getDevicePixelRatio()})},Q.prototype.renderToSVGString=function(J){J=J||{};var K=this._zr.painter;if(K.type!=="svg")throw Error("renderToSVGString can only be used in the svg renderer.");return K.renderToString({useViewBox:J.useViewBox})},Q.prototype.getSvgDataURL=function(){var J=this._zr,K=J.storage.getDisplayList();return v(K,function(Y){Y.stopAnimation(null,!0)}),J.painter.toDataURL()},Q.prototype.getDataURL=function(J){if(this._disposed){W9(this.id);return}J=J||{};var K=J.excludeComponents,Y=this._model,q=[],Z=this;v(K,function(W){Y.eachComponent({mainType:W},function(F){var H=Z._componentsMap[F.__viewId];if(!H.group.ignore)q.push(H),H.group.ignore=!0})});var X=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(J).toDataURL("image/"+(J&&J.type||"png"));return v(q,function(W){W.group.ignore=!1}),X},Q.prototype.getConnectedDataURL=function(J){if(this._disposed){W9(this.id);return}var K=J.type==="svg",Y=this.group,q=Math.min,Z=Math.max,X=1/0;if(aO0[Y]){var W=X,F=X,H=-X,B=-X,z=[],A=J&&J.pixelRatio||this.getDevicePixelRatio();v(fG,function(P,j){if(P.group===Y){var E=K?P.getZr().painter.getSvgDom().innerHTML:P.renderToCanvas(y0(J)),L=P.getDom().getBoundingClientRect();W=q(L.left,W),F=q(L.top,F),H=Z(L.right,H),B=Z(L.bottom,B),z.push({dom:E,left:L.left,top:L.top})}}),W*=A,F*=A,H*=A,B*=A;var R=H-W,G=B-F,w=u7.createCanvas(),T=Td(w,{renderer:K?"svg":"canvas"});if(T.resize({width:R,height:G}),K){var D="";if(v(z,function(P){var j=P.left-W,E=P.top-F;D+='<g transform="translate('+j+","+E+')">'+P.dom+"</g>"}),T.painter.getSvgRoot().innerHTML=D,J.connectedBackgroundColor)T.painter.setBackgroundColor(J.connectedBackgroundColor);return T.refreshImmediately(),T.painter.toDataURL()}else{if(J.connectedBackgroundColor)T.add(new Q1({shape:{x:0,y:0,width:R,height:G},style:{fill:J.connectedBackgroundColor}}));return v(z,function(P){var j=new n5({style:{x:P.left*A-W,y:P.top*A-F,image:P.dom}});T.add(j)}),T.refreshImmediately(),w.toDataURL("image/"+(J&&J.type||"png"))}}else return this.getDataURL(J)},Q.prototype.convertToPixel=function(J,K,Y){return Dh(this,"convertToPixel",J,K,Y)},Q.prototype.convertToLayout=function(J,K,Y){return Dh(this,"convertToLayout",J,K,Y)},Q.prototype.convertFromPixel=function(J,K,Y){return Dh(this,"convertFromPixel",J,K,Y)},Q.prototype.containPixel=function(J,K){if(this._disposed){W9(this.id);return}var Y=this._model,q,Z=kJ(Y,J);return v(Z,function(X,W){W.indexOf("Models")>=0&&v(X,function(F){var H=F.coordinateSystem;if(H&&H.containPoint)q=q||!!H.containPoint(K);else if(W==="seriesModels"){var B=this._chartsMap[F.__viewId];if(B&&B.containPoint)q=q||B.containPoint(K,F);else T5(W+": "+(B?"The found component do not support containPoint.":"No view mapping to the found component."))}else T5(W+": containPoint is not supported")},this)},this),!!q},Q.prototype.getVisual=function(J,K){var Y=this._model,q=kJ(Y,J,{defaultMainType:"series"}),Z=q.seriesModel;if(!Z)T5("There is no specified series model");var X=Z.getData(),W=q.hasOwnProperty("dataIndexInside")?q.dataIndexInside:q.hasOwnProperty("dataIndex")?X.indexOfRawIndex(q.dataIndex):null;return W!=null?LG(X,W,K):xJ(X,K)},Q.prototype.getViewOfComponentModel=function(J){return this._componentsMap[J.__viewId]},Q.prototype.getViewOfSeriesModel=function(J){return this._chartsMap[J.__viewId]},Q.prototype._initEvents=function(){var J=this;v(pY1,function(Y){var q=function(Z){var X=J.getModel(),W=Z.target,F,H=Y==="globalout";if(H)F={};else W&&WQ(W,function(G){var w=m0(G);if(w&&w.dataIndex!=null){var T=w.dataModel||X.getSeriesByIndex(w.seriesIndex);return F=T&&T.getDataParams(w.dataIndex,w.dataType,W)||{},!0}else if(w.eventData)return F=Q0({},w.eventData),!0},!0);if(F){var{componentType:B,componentIndex:z}=F;if(B==="markLine"||B==="markPoint"||B==="markArea")B="series",z=F.seriesIndex;var A=B&&z!=null&&X.getComponent(B,z),R=A&&J[A.mainType==="series"?"_chartsMap":"_componentsMap"][A.__viewId];if(!H&&!(A&&R))T5("model or view can not be found by params");F.event=Z,F.type=Y,J._$eventProcessor.eventInfo={targetEl:W,packedEvent:F,model:A,view:R},J.trigger(Y,F)}};q.zrEventfulCallAtLast=!0,J._zr.on(Y,q,J)});var K=this._messageCenter;v(jl,function(Y,q){K.on(q,function(Z){J.trigger(q,Z)})}),GO0(K,this,this._api)},Q.prototype.isDisposed=function(){return this._disposed},Q.prototype.clear=function(){if(this._disposed){W9(this.id);return}this.setOption({series:[]},!0)},Q.prototype.dispose=function(){if(this._disposed){W9(this.id);return}this._disposed=!0;var J=this.getDom();if(J)Ed(this.getDom(),_l,"");var K=this,Y=K._api,q=K._model;v(K._componentsViews,function(Z){Z.dispose(q,Y)}),v(K._chartsViews,function(Z){Z.dispose(q,Y)}),K._zr.dispose(),K._dom=K._model=K._chartsMap=K._componentsMap=K._chartsViews=K._componentsViews=K._scheduler=K._api=K._zr=K._throttledZrFlush=K._theme=K._coordSysMgr=K._messageCenter=null,delete fG[K.id]},Q.prototype.resize=function(J){if(this[b7]){P1("`resize` should not be called during main process.");return}if(this._disposed){W9(this.id);return}this._zr.resize(J);var K=this._model;if(this._loadingFX&&this._loadingFX.resize(),!K)return;var Y=K.resetOption("media"),q=J&&J.silent;if(this[Z8]){if(q==null)q=this[Z8].silent;Y=!0,this[Z8]=null}this[b7]=!0,uN(this);try{Y&&iW(this),OY.update.call(this,{type:"resize",animation:Q0({duration:0},J&&J.animation)})}catch(Z){throw this[b7]=!1,Z}this[b7]=!1,xN.call(this,q),cN.call(this,q)},Q.prototype.showLoading=function(J,K){if(this._disposed){W9(this.id);return}if(I0(J))K=J,J="";if(J=J||"default",this.hideLoading(),!hl[J]){T5("Loading effects "+J+" not exists.");return}var Y=hl[J](this._api,K),q=this._zr;this._loadingFX=Y,q.add(Y)},Q.prototype.hideLoading=function(){if(this._disposed){W9(this.id);return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},Q.prototype.makeActionFromEvent=function(J){var K=Q0({},J);return K.type=kh[J.type],K},Q.prototype.dispatchAction=function(J,K){if(this._disposed){W9(this.id);return}if(!I0(K))K={silent:!!K};if(!Ph[J.type])return;if(!this._model)return;if(this[b7]){this._pendingActions.push(J);return}var Y=K.silent;Pl.call(this,J,Y);var q=K.flush;if(q)this._zr.flush();else if(q!==!1&&L1.browser.weChat)this._throttledZrFlush();xN.call(this,Y),cN.call(this,Y)},Q.prototype.updateLabelLayout=function(){q$.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},Q.prototype.appendData=function(J){if(this._disposed){W9(this.id);return}var K=J.seriesIndex,Y=this.getModel(),q=Y.getSeriesByIndex(K);S0(J.data&&q),q.appendData(J),this._scheduler.unfinished=!0,this.getZr().wakeUp()},Q.internalField=function(){iW=function(B){var z=B._scheduler;z.restorePipelines(B._model),z.prepareStageTasks(),Dl(B,!0),Dl(B,!1),z.plan()},Dl=function(B,z){var{_model:A,_scheduler:R}=B,G=z?B._componentsViews:B._chartsViews,w=z?B._componentsMap:B._chartsMap,T=B._zr,D=B._api;for(var P=0;P<G.length;P++)G[P].__alive=!1;z?A.eachComponent(function(L,h){L!=="series"&&j(h)}):A.eachSeries(j);function j(L){var h=L.__requireNewView;L.__requireNewView=!1;var _="_ec_"+L.id+"_"+L.type,S=!h&&w[_];if(!S){var I=a4(L.type),M=z?p1.getClass(I.main,I.sub):_1.getClass(I.sub);S0(M,I.sub+" does not exist."),S=new M,S.init(A,D),w[_]=S,G.push(S),T.add(S.group)}L.__viewId=S.__id=_,S.__alive=!0,S.__model=L,S.group.__ecComponentInfo={mainType:L.mainType,index:L.componentIndex},!z&&R.prepareView(S,L,A,D)}for(var P=0;P<G.length;){var E=G[P];if(!E.__alive){if(!z&&E.renderTask.dispose(),T.remove(E.group),E.dispose(A,D),G.splice(P,1),w[E.__id]===E)delete w[E.__id];E.__id=E.group.__ecComponentInfo=null}else P++}},Th=function(B,z,A,R,G){var w=B._model;if(w.setUpdatePayload(A),!R){v([].concat(B._componentsViews).concat(B._chartsViews),E);return}var T={};T[R+"Id"]=A[R+"Id"],T[R+"Index"]=A[R+"Index"],T[R+"Name"]=A[R+"Name"];var D={mainType:R,query:T};G&&(D.subType=G);var P=A.excludeSeriesId,j;if(P!=null)j=L0(),v(K5(P),function(L){var h=q6(L,null);if(h!=null)j.set(h,!0)});w&&w.eachComponent(D,function(L){var h=j&&j.get(L.id)!=null;if(h)return;if(qn(A))if(L instanceof m1){if(A.type===EZ&&!A.notBlur&&!L.get(["emphasis","disabled"]))uR0(L,A,B._api)}else{var _=iE(L.mainType,L.componentIndex,A.name,B._api),S=_.focusSelf,I=_.dispatchers;if(A.type===EZ&&S&&!A.notBlur)pE(L.mainType,L.componentIndex,B._api);if(I)v(I,function(M){A.type===EZ?p8(M):d8(M)})}else if(oE(A)){if(L instanceof m1)dR0(L,A,B._api),Yn(L),Z$(B)}},B),w&&w.eachComponent(D,function(L){var h=j&&j.get(L.id)!=null;if(h)return;E(B[R==="series"?"_chartsMap":"_componentsMap"][L.__viewId])},B);function E(L){L&&L.__alive&&L[z]&&L[z](L.__model,w,B._api,A)}},OY={prepareAndUpdate:function(B){iW(this),OY.update.call(this,B,B&&{optionChanged:B.newOption!=null})},update:function(B,z){var A=this._model,R=this._api,G=this._zr,w=this._coordSysMgr,T=this._scheduler;if(!A)return;A.setUpdatePayload(B),T.restoreData(A,B),T.performSeriesTasks(A),w.create(A,R),T.performDataProcessorTasks(A,B),Cl(this,A),w.update(A,R),K(A),T.performVisualTasks(A,B);var D=A.get("backgroundColor")||"transparent";G.setBackgroundColor(D);var P=A.get("darkMode");if(P!=null&&P!=="auto")G.setDarkMode(P);kl(this,A,R,B,z),q$.trigger("afterupdate",A,R)},updateTransform:function(B){var z=this,A=this._model,R=this._api;if(!A)return;A.setUpdatePayload(B);var G=[];A.eachComponent(function(T,D){if(T==="series")return;var P=z.getViewOfComponentModel(D);if(P&&P.__alive)if(P.updateTransform){var j=P.updateTransform(D,A,R,B);j&&j.update&&G.push(P)}else G.push(P)});var w=L0();A.eachSeries(function(T){var D=z._chartsMap[T.__viewId];if(D.updateTransform){var P=D.updateTransform(T,A,R,B);P&&P.update&&w.set(T.uid,1)}else w.set(T.uid,1)}),K(A),this._scheduler.performVisualTasks(A,B,{setDirty:!0,dirtyMap:w}),Ch(this,A,R,B,{},w),q$.trigger("afterupdate",A,R)},updateView:function(B){var z=this._model;if(!z)return;z.setUpdatePayload(B),_1.markUpdateMethod(B,"updateView"),K(z),this._scheduler.performVisualTasks(z,B,{setDirty:!0}),kl(this,z,this._api,B,{}),q$.trigger("afterupdate",z,this._api)},updateVisual:function(B){var z=this,A=this._model;if(!A)return;A.setUpdatePayload(B),A.eachSeries(function(R){R.getData().clearAllVisual()}),_1.markUpdateMethod(B,"updateVisual"),K(A),this._scheduler.performVisualTasks(A,B,{visualType:"visual",setDirty:!0}),A.eachComponent(function(R,G){if(R!=="series"){var w=z.getViewOfComponentModel(G);w&&w.__alive&&w.updateVisual(G,A,z._api,B)}}),A.eachSeries(function(R){var G=z._chartsMap[R.__viewId];G.updateVisual(R,A,z._api,B)}),q$.trigger("afterupdate",A,this._api)},updateLayout:function(B){OY.update.call(this,B)}};function J(B,z,A,R,G){if(B._disposed){W9(B.id);return}var w=B._model,T=B._coordSysMgr.getCoordinateSystems(),D,P=kJ(w,A);for(var j=0;j<T.length;j++){var E=T[j];if(E[z]&&(D=E[z](w,P,R,G))!=null)return D}T5("No coordinate system that supports "+z+" found by the given finder.")}Dh=J,Cl=function(B,z){var{_chartsMap:A,_scheduler:R}=B;z.eachSeries(function(G){R.updateStreamModes(G,A[G.__viewId])})},Pl=function(B,z){var A=this,R=this.getModel(),G=B.type,w=B.escapeConnect,T=Ph[G],D=(T.update||"update").split(":"),P=D.pop(),j=D[0]!=null&&a4(D[0]);this[b7]=!0,uN(this);var E=[B],L=!1;if(B.batch)L=!0,E=K0(B.batch,function(m){return m=b0(Q0({},m),B),m.batch=null,m});var h=[],_,S=[],I=T.nonRefinedEventType,M=oE(B),y=qn(B);if(y)Kn(this._api);if(v(E,function(m){var i=T.action(m,R,A._api);if(T.refineEvent)S.push(i);else _=i;if(_=_||Q0({},m),_.type=I,h.push(_),y){var o=lR(B),n=o.queryOptionMap,e=o.mainTypeSpecified,Z0=e?n.keys()[0]:"series";Th(A,P,m,Z0),Z$(A)}else if(M)Th(A,P,m,"series"),Z$(A);else if(j)Th(A,P,m,j.main,j.sub)}),P!=="none"&&!y&&!M&&!j)try{if(this[Z8])iW(this),OY.update.call(this,B),this[Z8]=null;else OY[P].call(this,B)}catch(m){throw this[b7]=!1,m}if(L)_={type:I,escapeConnect:w,batch:h};else _=h[0];if(this[b7]=!1,!z){var b=void 0;if(T.refineEvent){var u=T.refineEvent(S,B,R,this._api).eventContent;S0(I0(u)),b=b0({type:T.refinedEventType},u),b.fromAction=B.type,b.fromActionPayload=B,b.escapeConnect=!0}var c=this._messageCenter;if(c.trigger(_.type,_),b)c.trigger(b.type,b)}},xN=function(B){var z=this._pendingActions;while(z.length){var A=z.shift();Pl.call(this,A,B)}},cN=function(B){!B&&this.trigger("updated")},lO0=function(B,z){B.on("rendered",function(A){if(z.trigger("rendered",A),B.animation.isFinished()&&!z[Z8]&&!z._scheduler.unfinished&&!z._pendingActions.length)z.trigger("finished")})},rO0=function(B,z){B.on("mouseover",function(A){var R=A.target,G=WQ(R,$Q);if(G)mR0(G,A,z._api),Z$(z)}).on("mouseout",function(A){var R=A.target,G=WQ(R,$Q);if(G)pR0(G,A,z._api),Z$(z)}).on("click",function(A){var R=A.target,G=WQ(R,function(D){return m0(D).dataIndex!=null},!0);if(G){var w=G.selected?"unselect":"select",T=m0(G);z._api.dispatchAction({type:w,dataType:T.dataType,dataIndexInside:T.dataIndex,seriesIndex:T.seriesIndex,isFromClick:!0})}})};function K(B){B.clearColorPalette(),B.eachSeries(function(z){z.clearColorPalette()})}function Y(B){var z=[],A=[],R=!1;if(B.eachComponent(function(D,P){var j=P.get("zlevel")||0,E=P.get("z")||0,L=P.getZLevelKey();R=R||!!L,(D==="series"?A:z).push({zlevel:j,z:E,idx:P.componentIndex,type:D,key:L})}),R){var G=z.concat(A),w,T;JW(G,function(D,P){if(D.zlevel===P.zlevel)return D.z-P.z;return D.zlevel-P.zlevel}),v(G,function(D){var P=B.getComponent(D.type,D.idx),j=D.zlevel,E=D.key;if(w!=null)j=Math.max(w,j);if(E){if(j===w&&E!==T)j++;T=E}else if(T){if(j===w)j++;T=""}w=j,P.setZLevel(j)})}}kl=function(B,z,A,R,G){Y(z),iO0(B,z,A,R,G),v(B._chartsViews,function(w){w.__alive=!1}),Ch(B,z,A,R,G),v(B._chartsViews,function(w){if(!w.__alive)w.remove(z,A)})},iO0=function(B,z,A,R,G,w){v(w||B._componentsViews,function(T){var D=T.__model;F(D,T),T.render(D,z,A,R),W(D,T),H(D,T)})},Ch=function(B,z,A,R,G,w){var T=B._scheduler;G=Q0(G||{},{updatedSeries:z.getSeries()}),q$.trigger("series:beforeupdate",z,A,G);var D=!1;z.eachSeries(function(P){var j=B._chartsMap[P.__viewId];j.__alive=!0;var E=j.renderTask;if(T.updatePayload(E,R),F(P,j),w&&w.get(P.uid))E.dirty();if(E.perform(T.getPerformArgs(E)))D=!0;j.group.silent=!!P.get("silent"),X(P,j),Yn(P)}),T.unfinished=D||T.unfinished,q$.trigger("series:layoutlabels",z,A,G),q$.trigger("series:transition",z,A,G),z.eachSeries(function(P){var j=B._chartsMap[P.__viewId];W(P,j),H(P,j)}),Z(B,z),q$.trigger("series:afterupdate",z,A,G)},Z$=function(B){B[Ol]=!0,B.getZr().wakeUp()},uN=function(B){B[Oh]=(B[Oh]+1)%1000},oO0=function(B){if(!B[Ol])return;B.getZr().storage.traverse(function(z){if(UY(z))return;q(z)}),B[Ol]=!1};function q(B){var z=[],A=B.currentStates;for(var R=0;R<A.length;R++){var G=A[R];if(!(G==="emphasis"||G==="blur"||G==="select"))z.push(G)}if(B.selected&&B.states.select)z.push("select");if(B.hoverState===tR&&B.states.emphasis)z.push("emphasis");else if(B.hoverState===kW&&B.states.blur)z.push("blur");B.useStates(z)}function Z(B,z){var A=B._zr,R=A.storage,G=0;if(R.traverse(function(w){if(!w.isGroup)G++}),G>z.get("hoverLayerThreshold")&&!L1.node&&!L1.worker)z.eachSeries(function(w){if(w.preventUsingHoverLayer)return;var T=B._chartsMap[w.__viewId];if(T.__alive)T.eachRendered(function(D){if(D.states.emphasis)D.states.emphasis.hoverLayer=!0})})}function X(B,z){var A=B.get("blendMode")||null;z.eachRendered(function(R){if(!R.isGroup)R.style.blend=A})}function W(B,z){if(B.preventAutoZ)return;var A=e3(B);z.eachRendered(function(R){return IW(R,A.z,A.zlevel),!0})}function F(B,z){z.eachRendered(function(A){if(UY(A))return;var R=A.getTextContent(),G=A.getTextGuideLine();if(A.stateTransition)A.stateTransition=null;if(R&&R.stateTransition)R.stateTransition=null;if(G&&G.stateTransition)G.stateTransition=null;if(A.hasState())A.prevStates=A.currentStates,A.clearStates();else if(A.prevStates)A.prevStates=null})}function H(B,z){var A=B.getModel("stateAnimation"),R=B.isAnimationEnabled(),G=A.get("duration"),w=G>0?{duration:G,delay:A.get("delay"),easing:A.get("easing")}:null;z.eachRendered(function(T){if(T.states&&T.states.emphasis){if(UY(T))return;if(T instanceof t0)iR0(T);if(T.__dirty){var D=T.prevStates;if(D)T.useStates(D)}if(R){T.stateTransition=w;var P=T.getTextContent(),j=T.getTextGuideLine();if(P)P.stateTransition=w;if(j)j.stateTransition=w}if(T.__dirty)q(T)}})}sO0=function(B){return new(function(z){x(A,z);function A(){return z!==null&&z.apply(this,arguments)||this}return A.prototype.getCoordinateSystems=function(){return B._coordSysMgr.getCoordinateSystems()},A.prototype.getComponentByElement=function(R){while(R){var G=R.__ecComponentInfo;if(G!=null)return B._model.getComponent(G.mainType,G.index);R=R.parent}},A.prototype.enterEmphasis=function(R,G){p8(R,G),Z$(B)},A.prototype.leaveEmphasis=function(R,G){d8(R,G),Z$(B)},A.prototype.enterBlur=function(R){rE(R),Z$(B)},A.prototype.leaveBlur=function(R){JG(R),Z$(B)},A.prototype.enterSelect=function(R){Qn(R),Z$(B)},A.prototype.leaveSelect=function(R){Jn(R),Z$(B)},A.prototype.getModel=function(){return B.getModel()},A.prototype.getViewOfComponentModel=function(R){return B.getViewOfComponentModel(R)},A.prototype.getViewOfSeriesModel=function(R){return B.getViewOfSeriesModel(R)},A.prototype.getMainProcessVersion=function(){return B[Oh]},A}(lL))(B)},WT0=function(B){function z(A,R){for(var G=0;G<A.length;G++){var w=A[G];w[Tl]=R}}v(kh,function(A,R){B._messageCenter.on(R,function(G){if(aO0[B.group]&&B[Tl]!==nO0){if(G&&G.escapeConnect)return;var w=B.makeActionFromEvent(G),T=[];v(fG,function(D){if(D!==B&&D.group===B.group)T.push(D)}),z(T,nO0),v(T,function(D){if(D[Tl]!==uY1)D.dispatchAction(w)}),z(T,mY1)}})})}}(),Q}(T7),Sl=FT0.prototype;Sl.on=KT0("on");Sl.off=KT0("off");Sl.one=function($,Q,J){var K=this;z4("ECharts#one is deprecated.");function Y(){var q=[];for(var Z=0;Z<arguments.length;Z++)q[Z]=arguments[Z];Q&&Q.apply&&Q.apply(this,q),K.off($,Y)}this.on.call(this,$,Y,J)};var pY1=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function W9($){T5("Instance "+$+" has been disposed")}var Ph={},kh={},jl={},El=[],Ll=[],jh=[],UT0={},hl={},fG={},aO0={},dY1=+new Date-0,R35=+new Date-0,_l="_echarts_instance_";function HT0($,Q,J){var K=!(J&&J.ssr);if(K){if(!$)throw Error("Initialize failed: invalid dom.");var Y=nY1($);if(Y)return T5("There is a chart instance already initialized on the dom."),Y;if(OJ($)&&$.nodeName.toUpperCase()!=="CANVAS"&&(!$.clientWidth&&(!J||J.width==null)||!$.clientHeight&&(!J||J.height==null)))T5("Can't get DOM width or height. Please check dom.clientWidth and dom.clientHeight. They should not be 0.For example, you may need to call this in the callback of window.onload.")}var q=new FT0($,Q,J);return q.id="ec_"+dY1++,fG[q.id]=q,K&&Ed($,_l,q.id),WT0(q),q$.trigger("afterinit",q),q}function nY1($){return fG[yV0($,_l)]}function NT0($,Q){UT0[$]=Q}function fl($){if(o0(Ll,$)<0)Ll.push($)}function Il($,Q){Ml(El,$,Q,IY1)}function BT0($){Lh("afterinit",$)}function zT0($){Lh("afterupdate",$)}function Lh($,Q){q$.on($,Q)}function O4($,Q,J){var K,Y,q,Z,X;if(v0(Q))J=Q,Q="";if(I0($)){if(K=$.type,Y=$.event,Z=$.update,X=$.publishNonRefinedEvent,!J)J=$.action;q=$.refineEvent}else K=$,Y=Q;function W(H){return H.toLowerCase()}Y=W(Y||K);var F=q?W(K):Y;if(Ph[K])return;if(S0(dO0.test(K)&&dO0.test(Y)),q)S0(Y!==K);if(Ph[K]={actionType:K,refinedEventType:Y,nonRefinedEventType:F,update:Z,action:J,refineEvent:q},jl[Y]=1,q&&X)jl[F]=1;if(kh[F])P1(F+' must not be shared; use "refineEvent" if you intend to share an event name.');kh[F]=K}function AT0($,Q){ZQ.register($,Q)}function VT0($,Q){Ml(jh,$,Q,eO0,"layout")}function MZ($,Q){Ml(jh,$,Q,$T0,"visual")}var tO0=[];function Ml($,Q,J,K,Y){if(v0(Q)||I0(Q))J=Q,Q=K;if(isNaN(Q)||Q==null)throw Error("Illegal priority");if(v($,function(Z){S0(Z.__raw!==J)}),o0(tO0,J)>=0)return;tO0.push(J);var q=Al.wrapStageHandler(J,Y);q.__prio=Q,q.__raw=J,$.push(q)}function bl($,Q){hl[$]=Q}function RT0($,Q,J){var K=cO0("registerMap");K&&K($,Q,J)}var GT0=gw0;MZ(vl,qO0);MZ(Eh,ZO0);MZ(Eh,XO0);MZ(vl,VO0);MZ(Eh,RO0);MZ(QT0,wl);fl(rL);Il(_Y1,an);bl("default",zl);O4({type:EZ,event:EZ,update:EZ},m5);O4({type:eR,event:eR,update:eR},m5);O4({type:$G,event:nE,update:$G,action:m5,refineEvent:gl,publishNonRefinedEvent:!0});O4({type:dE,event:nE,update:dE,action:m5,refineEvent:gl,publishNonRefinedEvent:!0});O4({type:QG,event:nE,update:QG,action:m5,refineEvent:gl,publishNonRefinedEvent:!0});function gl($,Q,J,K){return{eventContent:{selected:nR0(J),isFromClick:Q.isFromClick||!1}}}NT0("default",{});NT0("dark",BO0);var wT0=[],lY1={registerPreprocessor:fl,registerProcessor:Il,registerPostInit:BT0,registerPostUpdate:zT0,registerUpdateLifecycle:Lh,registerAction:O4,registerCoordinateSystem:AT0,registerLayout:VT0,registerVisual:MZ,registerTransform:GT0,registerLoading:bl,registerMap:RT0,registerImpl:xO0,PRIORITY:JT0,ComponentModel:B1,ComponentView:p1,SeriesModel:m1,ChartView:_1,registerComponentModel:function($){B1.registerClass($)},registerComponentView:function($){p1.registerClass($)},registerSeriesModel:function($){m1.registerClass($)},registerChartView:function($){_1.registerClass($)},registerCustomSeries:function($,Q){mO0($,Q)},registerSubTypeDefaulter:function($,Q){B1.registerSubTypeDefaulter($,Q)},registerPainter:function($,Q){RV0($,Q)}};function R1($){if(J0($)){v($,function(Q){R1(Q)});return}if(o0(wT0,$)>=0)return;if(wT0.push($),v0($))$={install:$};$.install(lY1)}function IG($){return $==null?0:$.length||1}function OT0($){return $}var rY1=function(){function $(Q,J,K,Y,q,Z){this._old=Q,this._new=J,this._oldKeyGetter=K||OT0,this._newKeyGetter=Y||OT0,this.context=q,this._diffModeMultiple=Z==="multiple"}return $.prototype.add=function(Q){return this._add=Q,this},$.prototype.update=function(Q){return this._update=Q,this},$.prototype.updateManyToOne=function(Q){return this._updateManyToOne=Q,this},$.prototype.updateOneToMany=function(Q){return this._updateOneToMany=Q,this},$.prototype.updateManyToMany=function(Q){return this._updateManyToMany=Q,this},$.prototype.remove=function(Q){return this._remove=Q,this},$.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},$.prototype._executeOneToOne=function(){var Q=this._old,J=this._new,K={},Y=Array(Q.length),q=Array(J.length);this._initIndexMap(Q,null,Y,"_oldKeyGetter"),this._initIndexMap(J,K,q,"_newKeyGetter");for(var Z=0;Z<Q.length;Z++){var X=Y[Z],W=K[X],F=IG(W);if(F>1){var H=W.shift();if(W.length===1)K[X]=W[0];this._update&&this._update(H,Z)}else if(F===1)K[X]=null,this._update&&this._update(W,Z);else this._remove&&this._remove(Z)}this._performRestAdd(q,K)},$.prototype._executeMultiple=function(){var Q=this._old,J=this._new,K={},Y={},q=[],Z=[];this._initIndexMap(Q,K,q,"_oldKeyGetter"),this._initIndexMap(J,Y,Z,"_newKeyGetter");for(var X=0;X<q.length;X++){var W=q[X],F=K[W],H=Y[W],B=IG(F),z=IG(H);if(B>1&&z===1)this._updateManyToOne&&this._updateManyToOne(H,F),Y[W]=null;else if(B===1&&z>1)this._updateOneToMany&&this._updateOneToMany(H,F),Y[W]=null;else if(B===1&&z===1)this._update&&this._update(H,F),Y[W]=null;else if(B>1&&z>1)this._updateManyToMany&&this._updateManyToMany(H,F),Y[W]=null;else if(B>1)for(var A=0;A<B;A++)this._remove&&this._remove(F[A]);else this._remove&&this._remove(F)}this._performRestAdd(Z,Y)},$.prototype._performRestAdd=function(Q,J){for(var K=0;K<Q.length;K++){var Y=Q[K],q=J[Y],Z=IG(q);if(Z>1)for(var X=0;X<Z;X++)this._add&&this._add(q[X]);else if(Z===1)this._add&&this._add(q);J[Y]=null}},$.prototype._initIndexMap=function(Q,J,K,Y){var q=this._diffModeMultiple;for(var Z=0;Z<Q.length;Z++){var X="_ec_"+this[Y](Q[Z],Z);if(!q)K[Z]=X;if(!J)continue;var W=J[X],F=IG(W);if(F===0){if(J[X]=Z,q)K.push(X)}else if(F===1)J[X]=[W,Z];else W.push(Z)}},$}(),E8=rY1;var iY1=function(){function $(Q,J){this._encode=Q,this._schema=J}return $.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},$.prototype._getFullDimensionNames=function(){if(!this._cachedDimNames)this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[];return this._cachedDimNames},$}();function TT0($,Q){var J={},K=J.encode={},Y=L0(),q=[],Z=[],X={};v($.dimensions,function(z){var A=$.getDimensionInfo(z),R=A.coordDim;if(R){S0(BG.get(R)==null);var G=A.coordDimIndex;if(yl(K,R)[G]=z,!A.isExtraCoord){if(Y.set(R,1),sY1(A.type))q[0]=z;yl(X,R)[G]=$.getDimensionIndex(A.name)}if(A.defaultTooltip)Z.push(z)}BG.each(function(w,T){var D=yl(K,T),P=A.otherDims[T];if(P!=null&&P!==!1)D[P]=A.name})});var W=[],F={};Y.each(function(z,A){var R=K[A];F[A]=R[0],W=W.concat(R)}),J.dataDimsOnCoord=W,J.dataDimIndicesOnCoord=K0(W,function(z){return $.getDimensionInfo(z).storeDimIndex}),J.encodeFirstDimNotExtra=F;var H=K.label;if(H&&H.length)q=H.slice();var B=K.tooltip;if(B&&B.length)Z=B.slice();else if(!Z.length)Z=q.slice();return K.defaultedLabel=q,K.defaultedTooltip=Z,J.userOutput=new iY1(X,Q),J}function yl($,Q){if(!$.hasOwnProperty(Q))$[Q]=[];return $[Q]}function sW($){return $==="category"?"ordinal":$==="time"?"time":"float"}function sY1($){return!($==="ordinal"||$==="time")}var oY1=function(){function $(Q){if(this.otherDims={},Q!=null)Q0(this,Q)}return $}(),mN=oY1;var aY1=n0(),tY1={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},xl=function(){function $(Q){this.dimensions=Q.dimensions,this._dimOmitted=Q.dimensionOmitted,this.source=Q.source,this._fullDimCount=Q.fullDimensionCount,this._updateDimOmitted(Q.dimensionOmitted)}return $.prototype.isDimensionOmitted=function(){return this._dimOmitted},$.prototype._updateDimOmitted=function(Q){if(this._dimOmitted=Q,!Q)return;if(!this._dimNameMap)this._dimNameMap=ul(this.source)},$.prototype.getSourceDimensionIndex=function(Q){return f0(this._dimNameMap.get(Q),-1)},$.prototype.getSourceDimension=function(Q){var J=this.source.dimensionsDefine;if(J)return J[Q]},$.prototype.makeStoreSchema=function(){var Q=this._fullDimCount,J=sL(this.source),K=!ml(Q),Y="",q=[];for(var Z=0,X=0;Z<Q;Z++){var W=void 0,F=void 0,H=void 0,B=this.dimensions[X];if(B&&B.storeDimIndex===Z)W=J?B.name:null,F=B.type,H=B.ordinalMeta,X++;else{var z=this.getSourceDimension(Z);if(z)W=J?z.name:null,F=z.type}if(q.push({property:W,type:F,ordinalMeta:H}),J&&W!=null&&(!B||!B.isCalculationCoord))Y+=K?W.replace(/\`/g,"`1").replace(/\$/g,"`2"):W;if(Y+="$",Y+=tY1[F]||"f",H)Y+=H.uid;Y+="$"}var A=this.source,R=[A.seriesLayoutBy,A.startIndex,Y].join("$$");return{dimensions:q,hash:R}},$.prototype.makeOutputDimensionNames=function(){var Q=[];for(var J=0,K=0;J<this._fullDimCount;J++){var Y=void 0,q=this.dimensions[K];if(q&&q.storeDimIndex===J){if(!q.isCalculationCoord)Y=q.name;K++}else{var Z=this.getSourceDimension(J);if(Z)Y=Z.name}Q.push(Y)}return Q},$.prototype.appendCalculationDimension=function(Q){this.dimensions.push(Q),Q.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},$}();function vh($){return $ instanceof xl}function cl($){var Q=L0();for(var J=0;J<($||[]).length;J++){var K=$[J],Y=I0(K)?K.name:K;if(Y!=null&&Q.get(Y)==null)Q.set(Y,J)}return Q}function ul($){var Q=aY1($);return Q.dimNameMap||(Q.dimNameMap=cl($.dimensionsDefine))}function ml($){return $>30}var MG=I0,bZ=K0,eY1=typeof Int32Array>"u"?Array:Int32Array,$q1="e\x00\x00",DT0=-1,Qq1=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Jq1=["_approximateExtent"],CT0,Sh,bG,pN,pl,gG,dl,Kq1=function(){function $(Q,J){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var K,Y=!1;if(vh(Q))K=Q.dimensions,this._dimOmitted=Q.isDimensionOmitted(),this._schema=Q;else Y=!0,K=Q;K=K||["x","y"];var q={},Z=[],X={},W=!1,F={};for(var H=0;H<K.length;H++){var B=K[H],z=B0(B)?new mN({name:B}):!(B instanceof mN)?new mN(B):B,A=z.name;if(z.type=z.type||"float",!z.coordDim)z.coordDim=A,z.coordDimIndex=0;var R=z.otherDims=z.otherDims||{};if(Z.push(A),q[A]=z,F[A]!=null)W=!0;if(z.createInvertedIndices)X[A]=[];var G=H;if(U1(z.storeDimIndex))G=z.storeDimIndex;if(R.itemName===0)this._nameDimIdx=G;if(R.itemId===0)this._idDimIdx=G;if(S0(Y||z.storeDimIndex>=0),Y)z.storeDimIndex=H}if(this.dimensions=Z,this._dimInfos=q,this._initGetDimensionInfo(W),this.hostModel=J,this._invertedIndicesMap=X,this._dimOmitted){var w=this._dimIdxToName=L0();v(Z,function(T){w.set(q[T].storeDimIndex,T)})}}return $.prototype.getDimension=function(Q){var J=this._recognizeDimIndex(Q);if(J==null)return Q;if(J=Q,!this._dimOmitted)return this.dimensions[J];var K=this._dimIdxToName.get(J);if(K!=null)return K;var Y=this._schema.getSourceDimension(J);if(Y)return Y.name},$.prototype.getDimensionIndex=function(Q){var J=this._recognizeDimIndex(Q);if(J!=null)return J;if(Q==null)return-1;var K=this._getDimInfo(Q);return K?K.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(Q):-1},$.prototype._recognizeDimIndex=function(Q){if(U1(Q)||Q!=null&&!isNaN(Q)&&!this._getDimInfo(Q)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(Q)<0))return+Q},$.prototype._getStoreDimIndex=function(Q){var J=this.getDimensionIndex(Q);if(J==null)throw Error("Unknown dimension "+Q);return J},$.prototype.getDimensionInfo=function(Q){return this._getDimInfo(this.getDimension(Q))},$.prototype._initGetDimensionInfo=function(Q){var J=this._dimInfos;this._getDimInfo=Q?function(K){return J.hasOwnProperty(K)?J[K]:void 0}:function(K){return J[K]}},$.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},$.prototype.mapDimension=function(Q,J){var K=this._dimSummary;if(J==null)return K.encodeFirstDimNotExtra[Q];var Y=K.encode[Q];return Y?Y[J]:null},$.prototype.mapDimensionsAll=function(Q){var J=this._dimSummary,K=J.encode[Q];return(K||[]).slice()},$.prototype.getStore=function(){return this._store},$.prototype.initData=function(Q,J,K){var Y=this,q;if(Q instanceof TG)q=Q;if(!q){var Z=this.dimensions,X=IN(Q)||c6(Q)?new tL(Q,Z.length):Q;q=new TG;var W=bZ(Z,function(F){return{type:Y._dimInfos[F].type,property:F}});q.initData(X,W,K)}this._store=q,this._nameList=(J||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,q.count()),this._dimSummary=TT0(this,this._schema),this.userOutput=this._dimSummary.userOutput},$.prototype.appendData=function(Q){var J=this._store.appendData(Q);this._doInit(J[0],J[1])},$.prototype.appendValues=function(Q,J){var K=this._store.appendValues(Q,J&&J.length),Y=K.start,q=K.end,Z=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),J)for(var X=Y;X<q;X++){var W=X-Y;if(this._nameList[X]=J[W],Z)dl(this,X)}},$.prototype._updateOrdinalMeta=function(){var Q=this._store,J=this.dimensions;for(var K=0;K<J.length;K++){var Y=this._dimInfos[J[K]];if(Y.ordinalMeta)Q.collectOrdinalMeta(Y.storeDimIndex,Y.ordinalMeta)}},$.prototype._shouldMakeIdFromName=function(){var Q=this._store.getProvider();return this._idDimIdx==null&&Q.getSource().sourceFormat!==p9&&!Q.fillStorage},$.prototype._doInit=function(Q,J){if(Q>=J)return;var K=this._store,Y=K.getProvider();this._updateOrdinalMeta();var q=this._nameList,Z=this._idList,X=Y.getSource().sourceFormat,W=X===l7;if(W&&!Y.pure){var F=[];for(var H=Q;H<J;H++){var B=Y.getItem(H,F);if(!this.hasItemOption&&_V0(B))this.hasItemOption=!0;if(B){var z=B.name;if(q[H]==null&&z!=null)q[H]=q6(z,null);var A=B.id;if(Z[H]==null&&A!=null)Z[H]=q6(A,null)}}}if(this._shouldMakeIdFromName())for(var H=Q;H<J;H++)dl(this,H);CT0(this)},$.prototype.getApproximateExtent=function(Q){return this._approximateExtent[Q]||this._store.getDataExtent(this._getStoreDimIndex(Q))},$.prototype.setApproximateExtent=function(Q,J){J=this.getDimension(J),this._approximateExtent[J]=Q.slice()},$.prototype.getCalculationInfo=function(Q){return this._calculationInfo[Q]},$.prototype.setCalculationInfo=function(Q,J){MG(Q)?Q0(this._calculationInfo,Q):this._calculationInfo[Q]=J},$.prototype.getName=function(Q){var J=this.getRawIndex(Q),K=this._nameList[J];if(K==null&&this._nameDimIdx!=null)K=bG(this,this._nameDimIdx,J);if(K==null)K="";return K},$.prototype._getCategory=function(Q,J){var K=this._store.get(Q,J),Y=this._store.getOrdinalMeta(Q);if(Y)return Y.categories[K];return K},$.prototype.getId=function(Q){return Sh(this,this.getRawIndex(Q))},$.prototype.count=function(){return this._store.count()},$.prototype.get=function(Q,J){var K=this._store,Y=this._dimInfos[Q];if(Y)return K.get(Y.storeDimIndex,J)},$.prototype.getByRawIndex=function(Q,J){var K=this._store,Y=this._dimInfos[Q];if(Y)return K.getByRawIndex(Y.storeDimIndex,J)},$.prototype.getIndices=function(){return this._store.getIndices()},$.prototype.getDataExtent=function(Q){return this._store.getDataExtent(this._getStoreDimIndex(Q))},$.prototype.getSum=function(Q){return this._store.getSum(this._getStoreDimIndex(Q))},$.prototype.getMedian=function(Q){return this._store.getMedian(this._getStoreDimIndex(Q))},$.prototype.getValues=function(Q,J){var K=this,Y=this._store;return J0(Q)?Y.getValues(bZ(Q,function(q){return K._getStoreDimIndex(q)}),J):Y.getValues(Q)},$.prototype.hasValue=function(Q){var J=this._dimSummary.dataDimIndicesOnCoord;for(var K=0,Y=J.length;K<Y;K++)if(isNaN(this._store.get(J[K],Q)))return!1;return!0},$.prototype.indexOfName=function(Q){for(var J=0,K=this._store.count();J<K;J++)if(this.getName(J)===Q)return J;return-1},$.prototype.getRawIndex=function(Q){return this._store.getRawIndex(Q)},$.prototype.indexOfRawIndex=function(Q){return this._store.indexOfRawIndex(Q)},$.prototype.rawIndexOf=function(Q,J){var K=Q&&this._invertedIndicesMap[Q];if(!K)throw Error("Do not supported yet");var Y=K&&K[J];if(Y==null||isNaN(Y))return DT0;return Y},$.prototype.each=function(Q,J,K){if(v0(Q))K=J,J=Q,Q=[];var Y=K||this,q=bZ(pN(Q),this._getStoreDimIndex,this);this._store.each(q,Y?O0(J,Y):J)},$.prototype.filterSelf=function(Q,J,K){if(v0(Q))K=J,J=Q,Q=[];var Y=K||this,q=bZ(pN(Q),this._getStoreDimIndex,this);return this._store=this._store.filter(q,Y?O0(J,Y):J),this},$.prototype.selectRange=function(Q){var J=this,K={},Y=Z1(Q),q=[];return v(Y,function(Z){var X=J._getStoreDimIndex(Z);K[X]=Q[Z],q.push(X)}),this._store=this._store.selectRange(K),this},$.prototype.mapArray=function(Q,J,K){if(v0(Q))K=J,J=Q,Q=[];K=K||this;var Y=[];return this.each(Q,function(){Y.push(J&&J.apply(this,arguments))},K),Y},$.prototype.map=function(Q,J,K,Y){var q=K||Y||this,Z=bZ(pN(Q),this._getStoreDimIndex,this),X=gG(this);return X._store=this._store.map(Z,q?O0(J,q):J),X},$.prototype.modify=function(Q,J,K,Y){var q=this,Z=K||Y||this;v(pN(Q),function(W){var F=q.getDimensionInfo(W);if(!F.isCalculationCoord)console.error("Danger: only stack dimension can be modified")});var X=bZ(pN(Q),this._getStoreDimIndex,this);this._store.modify(X,Z?O0(J,Z):J)},$.prototype.downSample=function(Q,J,K,Y){var q=gG(this);return q._store=this._store.downSample(this._getStoreDimIndex(Q),J,K,Y),q},$.prototype.minmaxDownSample=function(Q,J){var K=gG(this);return K._store=this._store.minmaxDownSample(this._getStoreDimIndex(Q),J),K},$.prototype.lttbDownSample=function(Q,J){var K=gG(this);return K._store=this._store.lttbDownSample(this._getStoreDimIndex(Q),J),K},$.prototype.getRawDataItem=function(Q){return this._store.getRawDataItem(Q)},$.prototype.getItemModel=function(Q){var J=this.hostModel,K=this.getRawDataItem(Q);return new D1(K,J,J&&J.ecModel)},$.prototype.diff=function(Q){var J=this;return new E8(Q?Q.getStore().getIndices():[],this.getStore().getIndices(),function(K){return Sh(Q,K)},function(K){return Sh(J,K)})},$.prototype.getVisual=function(Q){var J=this._visual;return J&&J[Q]},$.prototype.setVisual=function(Q,J){if(this._visual=this._visual||{},MG(Q))Q0(this._visual,Q);else this._visual[Q]=J},$.prototype.getItemVisual=function(Q,J){var K=this._itemVisuals[Q],Y=K&&K[J];if(Y==null)return this.getVisual(J);return Y},$.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},$.prototype.ensureUniqueItemVisual=function(Q,J){var K=this._itemVisuals,Y=K[Q];if(!Y)Y=K[Q]={};var q=Y[J];if(q==null){if(q=this.getVisual(J),J0(q))q=q.slice();else if(MG(q))q=Q0({},q);Y[J]=q}return q},$.prototype.setItemVisual=function(Q,J,K){var Y=this._itemVisuals[Q]||{};if(this._itemVisuals[Q]=Y,MG(J))Q0(Y,J);else Y[J]=K},$.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},$.prototype.setLayout=function(Q,J){MG(Q)?Q0(this._layout,Q):this._layout[Q]=J},$.prototype.getLayout=function(Q){return this._layout[Q]},$.prototype.getItemLayout=function(Q){return this._itemLayouts[Q]},$.prototype.setItemLayout=function(Q,J,K){this._itemLayouts[Q]=K?Q0(this._itemLayouts[Q]||{},J):J},$.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},$.prototype.setItemGraphicEl=function(Q,J){var K=this.hostModel&&this.hostModel.seriesIndex;aR(K,this.dataType,Q,J),this._graphicEls[Q]=J},$.prototype.getItemGraphicEl=function(Q){return this._graphicEls[Q]},$.prototype.eachItemGraphicEl=function(Q,J){v(this._graphicEls,function(K,Y){if(K)Q&&Q.call(J,K,Y)})},$.prototype.cloneShallow=function(Q){if(!Q)Q=new $(this._schema?this._schema:bZ(this.dimensions,this._getDimInfo,this),this.hostModel);return pl(Q,this),Q._store=this._store,Q},$.prototype.wrapMethod=function(Q,J){var K=this[Q];if(!v0(K))return;this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(Q),this[Q]=function(){var Y=K.apply(this,arguments);return J.apply(this,[Y].concat(uj(arguments)))}},$.internalField=function(){CT0=function(Q){var J=Q._invertedIndicesMap;v(J,function(K,Y){var q=Q._dimInfos[Y],Z=q.ordinalMeta,X=Q._store;if(Z){K=J[Y]=new eY1(Z.categories.length);for(var W=0;W<K.length;W++)K[W]=DT0;for(var W=0;W<X.count();W++)K[X.get(q.storeDimIndex,W)]=W}})},bG=function(Q,J,K){return q6(Q._getCategory(J,K),null)},Sh=function(Q,J){var K=Q._idList[J];if(K==null&&Q._idDimIdx!=null)K=bG(Q,Q._idDimIdx,J);if(K==null)K=$q1+J;return K},pN=function(Q){if(!J0(Q))Q=Q!=null?[Q]:[];return Q},gG=function(Q){var J=new $(Q._schema?Q._schema:bZ(Q.dimensions,Q._getDimInfo,Q),Q.hostModel);return pl(J,Q),J},pl=function(Q,J){v(Qq1.concat(J.__wrappedMethods||[]),function(K){if(J.hasOwnProperty(K))Q[K]=J[K]}),Q.__wrappedMethods=J.__wrappedMethods,v(Jq1,function(K){Q[K]=y0(J[K])}),Q._calculationInfo=Q0({},J._calculationInfo)},dl=function(Q,J){var{_nameList:K,_idList:Y,_nameDimIdx:q,_idDimIdx:Z}=Q,X=K[J],W=Y[J];if(X==null&&q!=null)K[J]=X=bG(Q,q,J);if(W==null&&Z!=null)Y[J]=W=bG(Q,Z,J);if(W==null&&X!=null){var F=Q._nameRepeatCount,H=F[X]=(F[X]||0)+1;if(W=X,H>1)W+="__ec__"+H;Y[J]=W}}}(),$}(),S6=Kq1;function HQ($,Q){if(!IN($))$=MN($);Q=Q||{};var J=Q.coordDimensions||[],K=Q.dimensionsDefine||$.dimensionsDefine||[],Y=L0(),q=[],Z=qq1($,J,K,Q.dimensionsCount),X=Q.canOmitUnusedDimensions&&ml(Z),W=K===$.dimensionsDefine,F=W?ul($):cl(K),H=Q.encodeDefine;if(!H&&Q.encodeDefaulter)H=Q.encodeDefaulter($,Z);var B=L0(H),z=new Zl(Z);for(var A=0;A<z.length;A++)z[A]=-1;function R(S){var I=z[S];if(I<0){var M=K[S],y=I0(M)?M:{name:M},b=new mN,u=y.name;if(u!=null&&F.get(u)!=null)b.name=b.displayName=u;y.type!=null&&(b.type=y.type),y.displayName!=null&&(b.displayName=y.displayName);var c=q.length;return z[S]=c,b.storeDimIndex=S,q.push(b),b}return q[I]}if(!X)for(var A=0;A<Z;A++)R(A);B.each(function(S,I){var M=K5(S).slice();if(M.length===1&&!B0(M[0])&&M[0]<0){B.set(I,!1);return}var y=B.set(I,[]);v(M,function(b,u){var c=B0(b)?F.get(b):b;if(c!=null&&c<Z)y[u]=c,w(R(c),I,u)})});var G=0;v(J,function(S){var I,M,y,b;if(B0(S))I=S,b={};else{b=S,I=b.name;var u=b.ordinalMeta;b.ordinalMeta=null,b=Q0({},b),b.ordinalMeta=u,M=b.dimsDef,y=b.otherDims,b.name=b.coordDim=b.coordDimIndex=b.dimsDef=b.otherDims=null}var c=B.get(I);if(c===!1)return;if(c=K5(c),!c.length)for(var m=0;m<(M&&M.length||1);m++){while(G<Z&&R(G).coordDim!=null)G++;G<Z&&c.push(G++)}v(c,function(i,o){var n=R(i);if(W&&b.type!=null)n.type=b.type;if(w(b0(n,b),I,o),n.name==null&&M){var e=M[o];!I0(e)&&(e={name:e}),n.name=n.displayName=e.name,n.defaultTooltip=e.defaultTooltip}y&&b0(n.otherDims,y)})});function w(S,I,M){if(BG.get(I)!=null)S.otherDims[I]=M;else S.coordDim=I,S.coordDimIndex=M,Y.set(I,!0)}var{generateCoord:T,generateCoordCount:D}=Q,P=D!=null;D=T?D||1:0;var j=T||"value";function E(S){if(S.name==null)S.name=S.coordDim}if(!X)for(var L=0;L<Z;L++){var h=R(L),_=h.coordDim;if(_==null){if(h.coordDim=Zq1(j,Y,P),h.coordDimIndex=0,!T||D<=0)h.isExtraCoord=!0;D--}if(E(h),h.type==null&&(mL($,L)===r7.Must||h.isExtraCoord&&(h.otherDims.itemName!=null||h.otherDims.seriesName!=null)))h.type="ordinal"}else v(q,function(S){E(S)}),q.sort(function(S,I){return S.storeDimIndex-I.storeDimIndex});return Yq1(q),new xl({source:$,dimensions:q,fullDimensionCount:Z,dimensionOmitted:X})}function Yq1($){var Q=L0();for(var J=0;J<$.length;J++){var K=$[J],Y=K.name,q=Q.get(Y)||0;if(q>0)K.name=Y+(q-1);q++,Q.set(Y,q)}}function qq1($,Q,J,K){var Y=Math.max($.dimensionsDetectedCount||1,Q.length,J.length,K||0);return v(Q,function(q){var Z;if(I0(q)&&(Z=q.dimsDef))Y=Math.max(Y,Z.length)}),Y}function Zq1($,Q,J){if(J||Q.hasKey($)){var K=0;while(Q.hasKey($+K))K++;$+=K}return Q.set($,!0),$}var Xq1=function(){function $(Q){this.coordSysDims=[],this.axisMap=L0(),this.categoryAxisMap=L0(),this.coordSysName=Q}return $}();function PT0($){var Q=$.get("coordinateSystem"),J=new Xq1(Q),K=Wq1[Q];if(K)return K($,J,J.axisMap,J.categoryAxisMap),J}var Wq1={cartesian2d:function($,Q,J,K){var Y=$.getReferringComponents("xAxis",w5).models[0],q=$.getReferringComponents("yAxis",w5).models[0];if(!Y)throw Error('xAxis "'+u5($.get("xAxisIndex"),$.get("xAxisId"),0)+'" not found');if(!q)throw Error('yAxis "'+u5($.get("xAxisIndex"),$.get("yAxisId"),0)+'" not found');if(Q.coordSysDims=["x","y"],J.set("x",Y),J.set("y",q),dN(Y))K.set("x",Y),Q.firstCategoryDimIndex=0;if(dN(q))K.set("y",q),Q.firstCategoryDimIndex==null&&(Q.firstCategoryDimIndex=1)},singleAxis:function($,Q,J,K){var Y=$.getReferringComponents("singleAxis",w5).models[0];if(!Y)throw Error("singleAxis should be specified.");if(Q.coordSysDims=["single"],J.set("single",Y),dN(Y))K.set("single",Y),Q.firstCategoryDimIndex=0},polar:function($,Q,J,K){var Y=$.getReferringComponents("polar",w5).models[0],q=Y.findAxisModel("radiusAxis"),Z=Y.findAxisModel("angleAxis");if(!Z)throw Error("angleAxis option not found");if(!q)throw Error("radiusAxis option not found");if(Q.coordSysDims=["radius","angle"],J.set("radius",q),J.set("angle",Z),dN(q))K.set("radius",q),Q.firstCategoryDimIndex=0;if(dN(Z))K.set("angle",Z),Q.firstCategoryDimIndex==null&&(Q.firstCategoryDimIndex=1)},geo:function($,Q,J,K){Q.coordSysDims=["lng","lat"]},parallel:function($,Q,J,K){var Y=$.ecModel,q=Y.getComponent("parallel",$.get("parallelIndex")),Z=Q.coordSysDims=q.dimensions.slice();v(q.parallelAxisIndex,function(X,W){var F=Y.getComponent("parallelAxis",X),H=Z[W];if(J.set(H,F),dN(F)){if(K.set(H,F),Q.firstCategoryDimIndex==null)Q.firstCategoryDimIndex=W}})},matrix:function($,Q,J,K){var Y=$.getReferringComponents("matrix",w5).models[0];if(!Y)throw Error("matrix coordinate system should be specified.");Q.coordSysDims=["x","y"];var q=Y.getDimensionModel("x"),Z=Y.getDimensionModel("y");J.set("x",q),J.set("y",Z),K.set("x",q),K.set("y",Z)}};function dN($){return $.get("type")==="category"}function kT0($,Q,J){J=J||{};var{byIndex:K,stackedCoordDimension:Y}=J,q,Z,X;if(Fq1(Q))q=Q;else Z=Q.schema,q=Z.dimensions,X=Q.store;var W=!!($&&$.get("stack")),F,H,B,z;if(v(q,function(D,P){if(B0(D))q[P]=D={name:D};if(W&&!D.isExtraCoord){if(!K&&!F&&D.ordinalMeta)F=D;if(!H&&D.type!=="ordinal"&&D.type!=="time"&&(!Y||Y===D.coordDim))H=D}}),H&&!K&&!F)K=!0;if(H){if(B="__\x00ecstackresult_"+$.id,z="__\x00ecstackedover_"+$.id,F)F.createInvertedIndices=!0;var{coordDim:A,type:R}=H,G=0;v(q,function(D){if(D.coordDim===A)G++});var w={name:B,coordDim:A,coordDimIndex:G,type:R,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:q.length},T={name:z,coordDim:z,coordDimIndex:G+1,type:R,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:q.length+1};if(Z){if(X)w.storeDimIndex=X.ensureCalculationDimension(z,R),T.storeDimIndex=X.ensureCalculationDimension(B,R);Z.appendCalculationDimension(w),Z.appendCalculationDimension(T)}else q.push(w),q.push(T)}return{stackedDimension:H&&H.name,stackedByDimension:F&&F.name,isStackedByIndex:K,stackedOverDimension:z,stackResultDimension:B}}function Fq1($){return!vh($.schema)}function l9($,Q){return!!Q&&Q===$.getCalculationInfo("stackedDimension")}function _h($,Q){return l9($,Q)?$.getCalculationInfo("stackResultDimension"):Q}function Uq1($,Q){var J=$.get("coordinateSystem"),K=ZQ.get(J),Y;if(Q&&Q.coordSysDims)Y=K0(Q.coordSysDims,function(q){var Z={name:q},X=Q.axisMap.get(q);if(X){var W=X.get("type");Z.type=sW(W)}return Z});if(!Y)Y=K&&(K.getDimensionsInfo?K.getDimensionsInfo():K.dimensions.slice())||["x","y"];return Y}function Hq1($,Q,J){var K,Y;if(J&&v($,function(q,Z){var X=q.coordDim,W=J.categoryAxisMap.get(X);if(W){if(K==null)K=Z;if(q.ordinalMeta=W.getOrdinalMeta(),Q)q.createInvertedIndices=!0}if(q.otherDims.itemName!=null)Y=!0}),!Y&&K!=null)$[K].otherDims.itemName=0;return K}function Nq1($,Q,J){J=J||{};var K=Q.getSourceManager(),Y,q=!1;if($)q=!0,Y=MN($);else Y=K.getSource(),q=Y.sourceFormat===l7;var Z=PT0(Q),X=Uq1(Q,Z),W=J.useEncodeDefaulter,F=v0(W)?W:W?a0(cL,X,Q):null,H={coordDimensions:X,generateCoord:J.generateCoord,encodeDefine:Q.getEncode(),encodeDefaulter:F,canOmitUnusedDimensions:!q},B=HQ(Y,H),z=Hq1(B.dimensions,J.createInvertedIndices,Z),A=!q?K.getSharedDataStore(B):null,R=kT0(Q,{schema:B,store:A}),G=new S6(B,Q);G.setCalculationInfo(R);var w=z!=null&&Bq1(Y)?function(T,D,P,j){return j===z?P:this.defaultDimValueGetter(T,D,P,j)}:null;return G.hasItemOption=!1,G.initData(q?Y:A,null,w),G}function Bq1($){if($.sourceFormat===l7){var Q=zq1($.data||[]);return!J0(a$(Q))}}function zq1($){var Q=0;while(Q<$.length&&$[Q]==null)Q++;return $[Q]}var X8=Nq1;function hT0($){var Q=Math.pow(10,dR(Math.abs($))),J=Math.abs($/Q);return J===0||J===1||J===2||J===3||J===5}function yG($){return $.type==="interval"||$.type==="log"}function vT0($,Q,J,K,Y){var q={},Z=q.interval=LE(Q/J,!0);if(K!=null&&Z<K)Z=q.interval=K;if(Y!=null&&Z>Y)Z=q.interval=Y;var X=q.intervalPrecision=gZ(Z),W=q.niceTickExtent=[d5(Math.ceil($[0]/Z)*Z,X),d5(Math.floor($[1]/Z)*Z,X)];return Aq1(W,$),q}function fh($){var Q=Math.pow(10,dR($)),J=$/Q;if(!J)J=1;else if(J===2)J=3;else if(J===3)J=5;else J*=2;return d5(J*Q)}function gZ($){return B4($)+2}function jT0($,Q,J){$[Q]=Math.max(Math.min($[Q],J[1]),J[0])}function Aq1($,Q){if(!isFinite($[0])&&($[0]=Q[0]),!isFinite($[1])&&($[1]=Q[1]),jT0($,0,Q),jT0($,1,Q),$[0]>$[1])$[0]=$[1]}function nN($,Q){return $>=Q[0]&&$<=Q[1]}var ST0=function(){function $(){this.normalize=ET0,this.scale=LT0}return $.prototype.updateMethods=function(Q){if(Q.hasBreaks())this.normalize=O0(Q.normalize,Q),this.scale=O0(Q.scale,Q);else this.normalize=ET0,this.scale=LT0},$}();function ET0($,Q){if(Q[1]===Q[0])return 0.5;return($-Q[0])/(Q[1]-Q[0])}function LT0($,Q){return $*(Q[1]-Q[0])+Q[0]}function xG($,Q,J){var K=Math.log($);return[Math.log(J?Q[0]:Math.max(0,Q[0]))/K,Math.log(J?Q[1]:Math.max(0,Q[1]))/K]}var _T0=function(){function $(Q){this._calculator=new ST0,this._setting=Q||{},this._extent=[1/0,-1/0];var J=Z6();if(J)this._brkCtx=J.createScaleBreakContext(),this._brkCtx.update(this._extent)}return $.prototype.getSetting=function(Q){return this._setting[Q]},$.prototype._innerUnionExtent=function(Q){var J=this._extent;this._innerSetExtent(Q[0]<J[0]?Q[0]:J[0],Q[1]>J[1]?Q[1]:J[1])},$.prototype.unionExtentFromData=function(Q,J){this._innerUnionExtent(Q.getApproximateExtent(J))},$.prototype.getExtent=function(){return this._extent.slice()},$.prototype.setExtent=function(Q,J){this._innerSetExtent(Q,J)},$.prototype._innerSetExtent=function(Q,J){var K=this._extent;if(!isNaN(Q))K[0]=Q;if(!isNaN(J))K[1]=J;this._brkCtx&&this._brkCtx.update(K)},$.prototype.setBreaksFromOption=function(Q){var J=Z6();if(J)this._innerSetBreak(J.parseAxisBreakOption(Q,O0(this.parse,this)))},$.prototype._innerSetBreak=function(Q){if(this._brkCtx)this._brkCtx.setBreaks(Q),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent)},$.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},$.prototype.hasBreaks=function(){return this._brkCtx?this._brkCtx.hasBreaks():!1},$.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},$.prototype.isInExtentRange=function(Q){return this._extent[0]<=Q&&this._extent[1]>=Q},$.prototype.isBlank=function(){return this._isBlank},$.prototype.setBlank=function(Q){this._isBlank=Q},$}();DZ(_T0);var X$=_T0;var Vq1=0,Rq1=function(){function $(Q){this.categories=Q.categories||[],this._needCollect=Q.needCollect,this._deduplication=Q.deduplication,this.uid=++Vq1,this._onCollect=Q.onCollect}return $.createByAxisModel=function(Q){var J=Q.option,K=J.data,Y=K&&K0(K,Gq1);return new $({categories:Y,needCollect:!Y,deduplication:J.dedplication!==!1})},$.prototype.getOrdinal=function(Q){return this._getOrCreateMap().get(Q)},$.prototype.parseAndCollect=function(Q){var J,K=this._needCollect;if(!B0(Q)&&!K)return Q;if(K&&!this._deduplication)return J=this.categories.length,this.categories[J]=Q,this._onCollect&&this._onCollect(Q,J),J;var Y=this._getOrCreateMap();if(J=Y.get(Q),J==null)if(K)J=this.categories.length,this.categories[J]=Q,Y.set(Q,J),this._onCollect&&this._onCollect(Q,J);else J=NaN;return J},$.prototype._getOrCreateMap=function(){return this._map||(this._map=L0(this.categories))},$}();function Gq1($){if(I0($)&&$.value!=null)return $.value;else return $+""}var yZ=Rq1;var fT0=function($){x(Q,$);function Q(J){var K=$.call(this,J)||this;K.type="ordinal";var Y=K.getSetting("ordinalMeta");if(!Y)Y=new yZ({});if(J0(Y))Y=new yZ({categories:K0(Y,function(q){return I0(q)?q.value:q})});return K._ordinalMeta=Y,K._extent=K.getSetting("extent")||[0,Y.categories.length-1],K}return Q.prototype.parse=function(J){if(J==null)return NaN;return B0(J)?this._ordinalMeta.getOrdinal(J):Math.round(J)},Q.prototype.contain=function(J){return nN(J,this._extent)&&J>=0&&J<this._ordinalMeta.categories.length},Q.prototype.normalize=function(J){return J=this._getTickNumber(J),this._calculator.normalize(J,this._extent)},Q.prototype.scale=function(J){return J=Math.round(this._calculator.scale(J,this._extent)),this.getRawOrdinalNumber(J)},Q.prototype.getTicks=function(){var J=[],K=this._extent,Y=K[0];while(Y<=K[1])J.push({value:Y}),Y++;return J},Q.prototype.getMinorTicks=function(J){return},Q.prototype.setSortInfo=function(J){if(J==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}var K=J.ordinalNumbers,Y=this._ordinalNumbersByTick=[],q=this._ticksByOrdinalNumber=[],Z=0,X=this._ordinalMeta.categories.length;for(var W=Math.min(X,K.length);Z<W;++Z){var F=K[Z];Y[Z]=F,q[F]=Z}var H=0;for(;Z<X;++Z){while(q[H]!=null)H++;Y.push(H),q[H]=Z}},Q.prototype._getTickNumber=function(J){var K=this._ticksByOrdinalNumber;return K&&J>=0&&J<K.length?K[J]:J},Q.prototype.getRawOrdinalNumber=function(J){var K=this._ordinalNumbersByTick;return K&&J>=0&&J<K.length?K[J]:J},Q.prototype.getLabel=function(J){if(!this.isBlank()){var K=this.getRawOrdinalNumber(J.value),Y=this._ordinalMeta.categories[K];return Y==null?"":Y+""}},Q.prototype.count=function(){return this._extent[1]-this._extent[0]+1},Q.prototype.isInExtentRange=function(J){return J=this._getTickNumber(J),this._extent[0]<=J&&this._extent[1]>=J},Q.prototype.getOrdinalMeta=function(){return this._ordinalMeta},Q.prototype.calcNiceTicks=function(){},Q.prototype.calcNiceExtent=function(){},Q.type="ordinal",Q}(X$);X$.registerClass(fT0);var TY=fT0;var xZ=d5,IT0=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type="interval",J._interval=0,J._intervalPrecision=2,J}return Q.prototype.parse=function(J){return J==null||J===""?NaN:Number(J)},Q.prototype.contain=function(J){return nN(J,this._extent)},Q.prototype.normalize=function(J){return this._calculator.normalize(J,this._extent)},Q.prototype.scale=function(J){return this._calculator.scale(J,this._extent)},Q.prototype.getInterval=function(){return this._interval},Q.prototype.setInterval=function(J){this._interval=J,this._niceExtent=this._extent.slice(),this._intervalPrecision=gZ(J)},Q.prototype.getTicks=function(J){J=J||{};var K=this._interval,Y=this._extent,q=this._niceExtent,Z=this._intervalPrecision,X=Z6(),W=[];if(!K)return W;if(J.breakTicks==="only_break"&&X)return X.addBreaksToTicks(W,this._brkCtx.breaks,this._extent),W;var F=1e4;if(Y[0]<q[0])if(J.expandToNicedExtent)W.push({value:xZ(q[0]-K,Z)});else W.push({value:Y[0]});var H=function(R,G){return Math.round((G-R)/K)},B=q[0];while(B<=q[1]){if(W.push({value:B}),B=xZ(B+K,Z),this._brkCtx){var z=this._brkCtx.calcNiceTickMultiple(B,H);if(z>=0)B=xZ(B+z*K,Z)}if(W.length>0&&B===W[W.length-1].value)break;if(W.length>F)return[]}var A=W.length?W[W.length-1].value:q[1];if(Y[1]>A)if(J.expandToNicedExtent)W.push({value:xZ(A+K,Z)});else W.push({value:Y[1]});if(X)X.pruneTicksByBreak(J.pruneByBreak,W,this._brkCtx.breaks,function(R){return R.value},this._interval,this._extent);if(J.breakTicks!=="none"&&X)X.addBreaksToTicks(W,this._brkCtx.breaks,this._extent);return W},Q.prototype.getMinorTicks=function(J){var K=this.getTicks({expandToNicedExtent:!0}),Y=[],q=this.getExtent();for(var Z=1;Z<K.length;Z++){var X=K[Z],W=K[Z-1];if(W.break||X.break)continue;var F=0,H=[],B=X.value-W.value,z=B/J,A=gZ(z);while(F<J-1){var R=xZ(W.value+(F+1)*z,A);if(R>q[0]&&R<q[1])H.push(R);F++}var G=Z6();G&&G.pruneTicksByBreak("auto",H,this._getNonTransBreaks(),function(w){return w},this._interval,q),Y.push(H)}return Y},Q.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},Q.prototype.getLabel=function(J,K){if(J==null)return"";var Y=K&&K.precision;if(Y==null)Y=B4(J.value)||0;else if(Y==="auto")Y=this._intervalPrecision;var q=xZ(J.value,Y,!0);return gn(q)},Q.prototype.calcNiceTicks=function(J,K,Y){J=J||5;var q=this._extent.slice(),Z=this._getExtentSpanWithBreaks();if(!isFinite(Z))return;if(Z<0)Z=-Z,q.reverse(),this._innerSetExtent(q[0],q[1]),q=this._extent.slice();var X=vT0(q,Z,J,K,Y);this._intervalPrecision=X.intervalPrecision,this._interval=X.interval,this._niceExtent=X.niceTickExtent},Q.prototype.calcNiceExtent=function(J){var K=this._extent.slice();if(K[0]===K[1])if(K[0]!==0){var Y=Math.abs(K[0]);if(!J.fixMax)K[1]+=Y/2,K[0]-=Y/2;else K[0]-=Y/2}else K[1]=1;var q=K[1]-K[0];if(!isFinite(q))K[0]=0,K[1]=1;this._innerSetExtent(K[0],K[1]),K=this._extent.slice(),this.calcNiceTicks(J.splitNumber,J.minInterval,J.maxInterval);var Z=this._interval,X=this._intervalPrecision;if(!J.fixMin)K[0]=xZ(Math.floor(K[0]/Z)*Z,X);if(!J.fixMax)K[1]=xZ(Math.ceil(K[1]/Z)*Z,X);this._innerSetExtent(K[0],K[1])},Q.prototype.setNiceExtent=function(J,K){this._niceExtent=[J,K]},Q.type="interval",Q}(X$);X$.registerClass(IT0);var F9=IT0;var MT0=typeof Float32Array<"u",wq1=!MT0?Array:Float32Array;function T4($){if(J0($))return MT0?new Float32Array($):$;return new wq1($)}var ll="__ec_stack_";function rl($){return $.get("stack")||ll+$.seriesIndex}function il($){return $.dim+$.index}function bT0($){var Q=[],J=$.axis,K="axis0";if(J.type!=="category")return;var Y=J.getBandWidth();for(var q=0;q<$.count;q++)Q.push(b0({bandWidth:Y,axisKey:K,stackId:ll+q},$));var Z=gT0(Q),X=[];for(var q=0;q<$.count;q++){var W=Z[K][ll+q];W.offsetCenter=W.offset+W.width/2,X.push(W)}return X}function sl($,Q){var J=[];return Q.eachSeriesByType($,function(K){if(xT0(K))J.push(K)}),J}function Oq1($){var Q={};v($,function(W){var F=W.coordinateSystem,H=F.getBaseAxis();if(H.type!=="time"&&H.type!=="value")return;var B=W.getData(),z=H.dim+"_"+H.index,A=B.getDimensionIndex(B.mapDimension(H.dim)),R=B.getStore();for(var G=0,w=R.count();G<w;++G){var T=R.get(A,G);if(!Q[z])Q[z]=[T];else Q[z].push(T)}});var J={};for(var K in Q)if(Q.hasOwnProperty(K)){var Y=Q[K];if(Y){Y.sort(function(W,F){return W-F});var q=null;for(var Z=1;Z<Y.length;++Z){var X=Y[Z]-Y[Z-1];if(X>0)q=q===null?X:Math.min(q,X)}J[K]=q}}return J}function ol($){var Q=Oq1($),J=[];return v($,function(K){var Y=K.coordinateSystem,q=Y.getBaseAxis(),Z=q.getExtent(),X;if(q.type==="category")X=q.getBandWidth();else if(q.type==="value"||q.type==="time"){var W=q.dim+"_"+q.index,F=Q[W],H=Math.abs(Z[1]-Z[0]),B=q.scale.getExtent(),z=Math.abs(B[1]-B[0]);X=F?H/z*F:H}else{var A=K.getData();X=Math.abs(Z[1]-Z[0])/A.count()}var R=h0(K.get("barWidth"),X),G=h0(K.get("barMaxWidth"),X),w=h0(K.get("barMinWidth")||(cT0(K)?0.5:1),X),T=K.get("barGap"),D=K.get("barCategoryGap"),P=K.get("defaultBarGap");J.push({bandWidth:X,barWidth:R,barMaxWidth:G,barMinWidth:w,barGap:T,barCategoryGap:D,defaultBarGap:P,axisKey:il(q),stackId:rl(K)})}),gT0(J)}function gT0($){var Q={};v($,function(K,Y){var{axisKey:q,bandWidth:Z}=K,X=Q[q]||{bandWidth:Z,remainedWidth:Z,autoWidthCount:0,categoryGap:null,gap:K.defaultBarGap||0,stacks:{}},W=X.stacks;Q[q]=X;var F=K.stackId;if(!W[F])X.autoWidthCount++;W[F]=W[F]||{width:0,maxWidth:0};var H=K.barWidth;if(H&&!W[F].width)W[F].width=H,H=Math.min(X.remainedWidth,H),X.remainedWidth-=H;var B=K.barMaxWidth;B&&(W[F].maxWidth=B);var z=K.barMinWidth;z&&(W[F].minWidth=z);var A=K.barGap;A!=null&&(X.gap=A);var R=K.barCategoryGap;R!=null&&(X.categoryGap=R)});var J={};return v(Q,function(K,Y){J[Y]={};var{stacks:q,bandWidth:Z,categoryGap:X}=K;if(X==null){var W=Z1(q).length;X=Math.max(35-W*4,15)+"%"}var F=h0(X,Z),H=h0(K.gap,1),B=K.remainedWidth,z=K.autoWidthCount,A=(B-F)/(z+(z-1)*H);A=Math.max(A,0),v(q,function(T){var{maxWidth:D,minWidth:P}=T;if(!T.width){var j=A;if(D&&D<j)j=Math.min(D,B);if(P&&P>j)j=P;if(j!==A)T.width=j,B-=j+H*j,z--}else{var j=T.width;if(D)j=Math.min(j,D);if(P)j=Math.max(j,P);T.width=j,B-=j+H*j,z--}}),A=(B-F)/(z+(z-1)*H),A=Math.max(A,0);var R=0,G;if(v(q,function(T,D){if(!T.width)T.width=A;G=T,R+=T.width*(1+H)}),G)R-=G.width*H;var w=-R/2;v(q,function(T,D){J[Y][D]=J[Y][D]||{bandWidth:Z,offset:w,width:T.width},w+=T.width*(1+H)})}),J}function yT0($,Q,J){if($&&Q){var K=$[il(Q)];if(K!=null&&J!=null)return K[rl(J)];return K}}function Ih($,Q){var J=sl($,Q),K=ol(J);v(J,function(Y){var q=Y.getData(),Z=Y.coordinateSystem,X=Z.getBaseAxis(),W=rl(Y),F=K[il(X)][W],H=F.offset,B=F.width;q.setLayout({bandWidth:F.bandWidth,offset:H,size:B})})}function Mh($){return{seriesType:$,plan:d9(),reset:function(Q){if(!xT0(Q))return;var J=Q.getData(),K=Q.coordinateSystem,Y=K.getBaseAxis(),q=K.getOtherAxis(Y),Z=J.getDimensionIndex(J.mapDimension(q.dim)),X=J.getDimensionIndex(J.mapDimension(Y.dim)),W=Q.get("showBackground",!0),F=J.mapDimension(q.dim),H=J.getCalculationInfo("stackResultDimension"),B=l9(J,F)&&!!J.getCalculationInfo("stackedOnSeries"),z=q.isHorizontal(),A=Tq1(Y,q),R=cT0(Q),G=Q.get("barMinHeight")||0,w=H&&J.getDimensionIndex(H),T=J.getLayout("size"),D=J.getLayout("offset");return{progress:function(P,j){var E=P.count,L=R&&T4(E*3),h=R&&W&&T4(E*3),_=R&&T4(E),S=K.master.getRect(),I=z?S.width:S.height,M,y=j.getStore(),b=0;while((M=P.next())!=null){var u=y.get(B?w:Z,M),c=y.get(X,M),m=A,i=void 0;if(B)i=+u-y.get(Z,M);var o=void 0,n=void 0,e=void 0,Z0=void 0;if(z){var q0=K.dataToPoint([u,c]);if(B){var k0=K.dataToPoint([i,c]);m=k0[0]}if(o=m,n=q0[1]+D,e=q0[0]-m,Z0=T,Math.abs(e)<G)e=(e<0?-1:1)*G}else{var q0=K.dataToPoint([c,u]);if(B){var k0=K.dataToPoint([c,i]);m=k0[1]}if(o=q0[0]+D,n=m,e=T,Z0=q0[1]-m,Math.abs(Z0)<G)Z0=(Z0<=0?-1:1)*G}if(!R)j.setItemLayout(M,{x:o,y:n,width:e,height:Z0});else{if(L[b]=o,L[b+1]=n,L[b+2]=z?e:Z0,h)h[b]=z?S.x:o,h[b+1]=z?n:S.y,h[b+2]=I;_[M]=M}b+=3}if(R)j.setLayout({largePoints:L,largeDataIndices:_,largeBackgroundPoints:h,valueAxisHorizontal:z})}}}}}function xT0($){return $.coordinateSystem&&$.coordinateSystem.type==="cartesian2d"}function cT0($){return $.pipelineContext&&$.pipelineContext.large}function Tq1($,Q){var J=Q.model.get("startValue");if(!J)J=0;return Q.toGlobalCoord(Q.dataToCoord(Q.type==="log"?J>0?J:1:J))}var Dq1=function($,Q,J,K){while(J<K){var Y=J+K>>>1;if($[Y][1]<Q)J=Y+1;else K=Y}return J},mT0=function($){x(Q,$);function Q(J){var K=$.call(this,J)||this;return K.type="time",K}return Q.prototype.getLabel=function(J){var K=this.getSetting("useUTC");return gW(J.value,Ln[rG0(vN(this._minLevelUnit))]||Ln.second,K,this.getSetting("locale"))},Q.prototype.getFormattedLabel=function(J,K,Y){var q=this.getSetting("useUTC"),Z=this.getSetting("locale");return iG0(J,K,Y,Z,q)},Q.prototype.getTicks=function(J){J=J||{};var K=this._interval,Y=this._extent,q=Z6(),Z=[];if(!K)return Z;var X=this.getSetting("useUTC");if(q&&J.breakTicks==="only_break")return Z6().addBreaksToTicks(Z,this._brkCtx.breaks,this._extent),Z;var W=yW(Y[1],X);Z.push({value:Y[0],time:{level:0,upperTimeUnit:W,lowerTimeUnit:W}});var F=hq1(this._minLevelUnit,this._approxInterval,X,Y,this._getExtentSpanWithBreaks(),this._brkCtx);Z=Z.concat(F);var H=yW(Y[1],X);Z.push({value:Y[1],time:{level:0,upperTimeUnit:H,lowerTimeUnit:H}});var B=this.getSetting("useUTC"),z=K9.length-1,A=0;if(v(Z,function(R){z=Math.min(z,o0(K9,R.time.upperTimeUnit)),A=Math.max(A,R.time.level)}),q)Z6().pruneTicksByBreak(J.pruneByBreak,Z,this._brkCtx.breaks,function(R){return R.value},this._approxInterval,this._extent);if(q&&J.breakTicks!=="none")Z6().addBreaksToTicks(Z,this._brkCtx.breaks,this._extent,function(R){var G=Math.max(o0(K9,yW(R.vmin,B)),o0(K9,yW(R.vmax,B))),w=0;for(var T=0;T<K9.length;T++)if(!pT0(K9[T],R.vmin,R.vmax,B)){w=T;break}var D=Math.min(w,z),P=Math.max(D,G);return{level:A,lowerTimeUnit:K9[P],upperTimeUnit:K9[D]}});return Z},Q.prototype.calcNiceExtent=function(J){var K=this.getExtent();if(K[0]===K[1])K[0]-=m9,K[1]+=m9;if(K[1]===-1/0&&K[0]===1/0){var Y=new Date;K[1]=+new Date(Y.getFullYear(),Y.getMonth(),Y.getDate()),K[0]=K[1]-m9}this._innerSetExtent(K[0],K[1]),this.calcNiceTicks(J.splitNumber,J.minInterval,J.maxInterval)},Q.prototype.calcNiceTicks=function(J,K,Y){J=J||10;var q=this._getExtentSpanWithBreaks();if(this._approxInterval=q/J,K!=null&&this._approxInterval<K)this._approxInterval=K;if(Y!=null&&this._approxInterval>Y)this._approxInterval=Y;var Z=bh.length,X=Math.min(Dq1(bh,this._approxInterval,0,Z),Z-1);this._interval=bh[X][1],this._intervalPrecision=gZ(this._interval),this._minLevelUnit=bh[Math.max(X-1,0)][0]},Q.prototype.parse=function(J){return U1(J)?J:+n3(J)},Q.prototype.contain=function(J){return nN(J,this._extent)},Q.prototype.normalize=function(J){return this._calculator.normalize(J,this._extent)},Q.prototype.scale=function(J){return this._calculator.scale(J,this._extent)},Q.type="time",Q}(F9),bh=[["second",OL],["minute",TL],["hour",hN],["quarter-day",hN*6],["half-day",hN*12],["day",m9*1.2],["half-week",m9*3.5],["week",m9*7],["month",m9*31],["quarter",m9*95],["half-year",En/2],["year",En]];function pT0($,Q,J,K){return DL(new Date(Q),$,K).getTime()===DL(new Date(J),$,K).getTime()}function Cq1($,Q){return $/=m9,$>16?16:$>7.5?7:$>3.5?4:$>1.5?2:1}function Pq1($){var Q=30*m9;return $/=Q,$>6?6:$>3?3:$>2?2:1}function kq1($){return $/=hN,$>12?12:$>6?6:$>3.5?4:$>2?2:1}function uT0($,Q){return $/=Q?TL:OL,$>30?30:$>20?20:$>15?15:$>10?10:$>5?5:$>2?2:1}function jq1($){return LE($,!0)}function Eq1($,Q,J){var K=Math.max(0,o0(K9,Q)-1);return DL(new Date($),K9[K],J).getTime()}function Lq1($,Q){var J=new Date(0);J[$](1);var K=J.getTime();J[$](1+Q);var Y=J.getTime()-K;return function(q,Z){return Math.max(0,Math.round((Z-q)/Y))}}function hq1($,Q,J,K,Y,q){var Z=1e4,X=dG0,W=0;function F(b,u,c,m,i,o,n){var e=Lq1(i,b),Z0=u,q0=new Date(Z0);while(Z0<c&&Z0<=K[1]){if(n.push({value:Z0}),W++>Z){T5("Exceed safe limit in time scale.");break}if(q0[i](q0[m]()+b),Z0=q0.getTime(),q){var k0=q.calcNiceTickMultiple(Z0,e);if(k0>0)q0[i](q0[m]()+k0*b),Z0=q0.getTime()}}n.push({value:Z0,notAdd:!0})}function H(b,u,c){var m=[],i=!u.length;if(pT0(vN(b),K[0],K[1],J))return;if(i)u=[{value:Eq1(K[0],b,J)},{value:K[1]}];for(var o=0;o<u.length-1;o++){var n=u[o].value,e=u[o+1].value;if(n===e)continue;var Z0=void 0,q0=void 0,k0=void 0,c0=!1;switch(b){case"year":Z0=Math.max(1,Math.round(Q/m9/365)),q0=hn(J),k0=sG0(J);break;case"half-year":case"quarter":case"month":Z0=Pq1(Q),q0=CL(J),k0=vn(J);break;case"week":case"half-week":case"day":Z0=Cq1(Q,31),q0=PL(J),k0=Sn(J),c0=!0;break;case"half-day":case"quarter-day":case"hour":Z0=kq1(Q),q0=kL(J),k0=_n(J);break;case"minute":Z0=uT0(Q,!0),q0=jL(J),k0=fn(J);break;case"second":Z0=uT0(Q,!1),q0=EL(J),k0=In(J);break;case"millisecond":Z0=jq1(Q),q0=LL(J),k0=Mn(J);break}if(e>=K[0]&&n<=K[1])F(Z0,n,e,q0,k0,c0,m);if(b==="year"&&c.length>1&&o===0)c.unshift({value:c[0].value-Z0})}for(var o=0;o<m.length;o++)c.push(m[o])}var B=[],z=[],A=0,R=0;for(var G=0;G<X.length;++G){var w=vN(X[G]);if(!lG0(X[G]))continue;H(X[G],B[B.length-1]||[],z);var T=X[G+1]?vN(X[G+1]):null;if(w!==T){if(z.length){R=A,z.sort(function(b,u){return b.value-u.value});var D=[];for(var P=0;P<z.length;++P){var j=z[P].value;if(P===0||z[P-1].value!==j){if(D.push(z[P]),j>=K[0]&&j<=K[1])A++}}var E=Y/Q;if(A>E*1.5&&R>E/1.5)break;if(B.push(D),A>E||$===X[G])break}z=[]}}var L=j1(K0(B,function(b){return j1(b,function(u){return u.value>=K[0]&&u.value<=K[1]&&!u.notAdd})}),function(b){return b.length>0}),h=[],_=L.length-1;for(var G=0;G<L.length;++G){var S=L[G];for(var I=0;I<S.length;++I){var M=yW(S[I].value,J);h.push({value:S[I].value,time:{level:_-G,upperTimeUnit:M,lowerTimeUnit:M}})}}h.sort(function(b,u){return b.value-u.value});var y=[];for(var G=0;G<h.length;++G)if(G===0||h[G].value!==h[G-1].value)y.push(h[G]);return y}X$.registerClass(mT0);var gh=mT0;var al=d5,vq1=Math.floor,Sq1=Math.ceil,yh=Math.pow,xh=Math.log,dT0=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type="log",J.base=10,J._originalScale=new F9,J}return Q.prototype.getTicks=function(J){J=J||{};var K=this._extent.slice(),Y=this._originalScale.getExtent(),q=$.prototype.getTicks.call(this,J),Z=this.base,X=this._originalScale._innerGetBreaks(),W=Z6();return K0(q,function(F){var H=F.value,B=null,z=yh(Z,H);if(H===K[0]&&this._fixMin)B=Y[0];else if(H===K[1]&&this._fixMax)B=Y[1];var A;if(W){var R=W.getTicksLogTransformBreak(F,Z,X,ch);if(A=R.vBreak,B==null)B=R.brkRoundingCriterion}if(B!=null)z=ch(z,B);return{value:z,break:A}},this)},Q.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},Q.prototype.setExtent=function(J,K){this._originalScale.setExtent(J,K);var Y=xG(this.base,[J,K]);$.prototype.setExtent.call(this,Y[0],Y[1])},Q.prototype.getExtent=function(){var J=this.base,K=$.prototype.getExtent.call(this);K[0]=yh(J,K[0]),K[1]=yh(J,K[1]);var Y=this._originalScale.getExtent();return this._fixMin&&(K[0]=ch(K[0],Y[0])),this._fixMax&&(K[1]=ch(K[1],Y[1])),K},Q.prototype.unionExtentFromData=function(J,K){this._originalScale.unionExtentFromData(J,K);var Y=xG(this.base,J.getApproximateExtent(K),!0);this._innerUnionExtent(Y)},Q.prototype.calcNiceTicks=function(J){J=J||10;var K=this._extent.slice(),Y=this._getExtentSpanWithBreaks();if(!isFinite(Y)||Y<=0)return;var q=PV0(Y),Z=J/Y*q;if(Z<=0.5)q*=10;while(!isNaN(q)&&Math.abs(q)<1&&Math.abs(q)>0)q*=10;var X=[al(Sq1(K[0]/q)*q),al(vq1(K[1]/q)*q)];this._interval=q,this._intervalPrecision=gZ(q),this._niceExtent=X},Q.prototype.calcNiceExtent=function(J){$.prototype.calcNiceExtent.call(this,J),this._fixMin=J.fixMin,this._fixMax=J.fixMax},Q.prototype.contain=function(J){return J=xh(J)/xh(this.base),$.prototype.contain.call(this,J)},Q.prototype.normalize=function(J){return J=xh(J)/xh(this.base),$.prototype.normalize.call(this,J)},Q.prototype.scale=function(J){return J=$.prototype.scale.call(this,J),yh(this.base,J)},Q.prototype.setBreaksFromOption=function(J){var K=Z6();if(!K)return;var Y=K.logarithmicParseBreaksFromOption(J,this.base,O0(this.parse,this)),q=Y.parsedOriginal,Z=Y.parsedLogged;this._originalScale._innerSetBreak(q),this._innerSetBreak(Z)},Q.type="log",Q}(F9);function ch($,Q){return al($,B4(Q))}X$.registerClass(dT0);var nT0=dT0;var _q1=function(){function $(Q,J,K){this._prepareParams(Q,J,K)}return $.prototype._prepareParams=function(Q,J,K){if(K[1]<K[0])K=[NaN,NaN];this._dataMin=K[0],this._dataMax=K[1];var Y=this._isOrdinal=Q.type==="ordinal";this._needCrossZero=Q.type==="interval"&&J.getNeedCrossZero&&J.getNeedCrossZero();var q=J.get("min",!0);if(q==null)q=J.get("startValue",!0);var Z=this._modelMinRaw=q;if(v0(Z))this._modelMinNum=uh(Q,Z({min:K[0],max:K[1]}));else if(Z!=="dataMin")this._modelMinNum=uh(Q,Z);var X=this._modelMaxRaw=J.get("max",!0);if(v0(X))this._modelMaxNum=uh(Q,X({min:K[0],max:K[1]}));else if(X!=="dataMax")this._modelMaxNum=uh(Q,X);if(Y)this._axisDataLen=J.getCategories().length;else{var W=J.get("boundaryGap"),F=J0(W)?W:[W||0,W||0];if(typeof F[0]==="boolean"||typeof F[1]==="boolean")console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'),this._boundaryGapInner=[0,0];else this._boundaryGapInner=[C8(F[0],1),C8(F[1],1)]}},$.prototype.calculate=function(){var Q=this._isOrdinal,J=this._dataMin,K=this._dataMax,Y=this._axisDataLen,q=this._boundaryGapInner,Z=!Q?K-J||Math.abs(J):null,X=this._modelMinRaw==="dataMin"?J:this._modelMinNum,W=this._modelMaxRaw==="dataMax"?K:this._modelMaxNum,F=X!=null,H=W!=null;if(X==null)X=Q?Y?0:NaN:J-q[0]*Z;if(W==null)W=Q?Y?Y-1:NaN:K+q[1]*Z;(X==null||!isFinite(X))&&(X=NaN),(W==null||!isFinite(W))&&(W=NaN);var B=N6(X)||N6(W)||Q&&!Y;if(this._needCrossZero){if(X>0&&W>0&&!F)X=0;if(X<0&&W<0&&!H)W=0}var z=this._determinedMin,A=this._determinedMax;if(z!=null)X=z,F=!0;if(A!=null)W=A,H=!0;return{min:X,max:W,minFixed:F,maxFixed:H,isBlank:B}},$.prototype.modifyDataMinMax=function(Q,J){S0(!this.frozen),this[Iq1[Q]]=J},$.prototype.setDeterminedMinMax=function(Q,J){var K=fq1[Q];S0(!this.frozen&&this[K]==null),this[K]=J},$.prototype.freeze=function(){this.frozen=!0},$}();var fq1={min:"_determinedMin",max:"_determinedMax"},Iq1={min:"_dataMin",max:"_dataMax"};function mh($,Q,J){var K=$.rawExtentInfo;if(K)return K;return K=new _q1($,Q,J),$.rawExtentInfo=K,K}function uh($,Q){return Q==null?null:N6(Q)?NaN:$.parse(Q)}function tl($,Q){var J=$.type,K=mh($,Q,$.getExtent()).calculate();$.setBlank(K.isBlank);var{min:Y,max:q}=K,Z=Q.ecModel;if(Z&&J==="time"){var X=sl("bar",Z),W=!1;if(v(X,function(B){W=W||B.getBaseAxis()===Q.axis}),W){var F=ol(X),H=Mq1(Y,q,Q,F);Y=H.min,q=H.max}}return{extent:[Y,q],fixMin:K.minFixed,fixMax:K.maxFixed}}function Mq1($,Q,J,K){var Y=J.axis.getExtent(),q=Math.abs(Y[1]-Y[0]),Z=yT0(K,J.axis);if(Z===void 0)return{min:$,max:Q};var X=1/0;v(Z,function(A){X=Math.min(A.offset,X)});var W=-1/0;v(Z,function(A){W=Math.max(A.offset+A.width,W)}),X=Math.abs(X),W=Math.abs(W);var F=X+W,H=Q-$,B=1-(X+W)/q,z=H/B-H;return Q+=z*(W/F),$-=z*(X/F),{min:$,max:Q}}function cJ($,Q){var J=Q,K=tl($,J),Y=K.extent,q=J.get("splitNumber");if($ instanceof nT0)$.base=J.get("logBase");var Z=$.type,X=J.get("interval"),W=Z==="interval"||Z==="time";if($.setBreaksFromOption(el(J)),$.setExtent(Y[0],Y[1]),$.calcNiceExtent({splitNumber:q,fixMin:K.fixMin,fixMax:K.fixMax,minInterval:W?J.get("minInterval"):null,maxInterval:W?J.get("maxInterval"):null}),X!=null)$.setInterval&&$.setInterval(X)}function cZ($,Q){if(Q=Q||$.get("type"),Q)switch(Q){case"category":return new TY({ordinalMeta:$.getOrdinalMeta?$.getOrdinalMeta():$.getCategories(),extent:[1/0,-1/0]});case"time":return new gh({locale:$.ecModel.getLocaleModel(),useUTC:$.ecModel.get("useUTC")});default:return new(X$.getClass(Q)||F9)}}function lT0($){var Q=$.scale.getExtent(),J=Q[0],K=Q[1];return!(J>0&&K>0||J<0&&K<0)}function uZ($){var Q=$.getLabelModel().get("formatter");if($.type==="time"){var J=nG0(Q);return function(Y,q){return $.scale.getFormattedLabel(Y,q,J)}}else if(B0(Q))return function(Y){var q=$.scale.getLabel(Y),Z=Q.replace("{value}",q!=null?q:"");return Z};else if(v0(Q)){if($.type==="category")return function(Y,q){return Q(lN($,Y),Y.value-$.scale.getExtent()[0],null)};var K=Z6();return function(Y,q){var Z=null;if(K)Z=K.makeAxisLabelFormatterParamBreak(Z,Y.break);return Q(lN($,Y),q,Z)}}else return function(Y){return $.scale.getLabel(Y)}}function lN($,Q){return $.type==="category"?$.scale.getLabel(Q):Q.value}function ph($){var Q=$.get("interval");return Q==null?"auto":Q}function dh($){return $.type==="category"&&ph($.getLabelModel())===0}function rN($,Q){var J={};return v($.mapDimensionsAll(Q),function(K){J[_h($,K)]=!0}),Z1(J)}function rT0($,Q,J){if(Q)v(rN(Q,J),function(K){var Y=Q.getApproximateExtent(K);Y[0]<$[0]&&($[0]=Y[0]),Y[1]>$[1]&&($[1]=Y[1])})}function mZ($){return $==="middle"||$==="center"}function oW($){return $.getShallow("show")}function el($){var Q=$.get("breaks",!0);if(Q!=null){if(!Z6()){P1('Must `import {AxisBreak} from "echarts/features.js"; use(AxisBreak);` first if using breaks option.');return}if(!bq1($.axis)){P1("Axis '"+$.axis.dim+"'-'"+$.axis.type+"' does not support break.");return}return Q}}function bq1($){return($.dim==="x"||$.dim==="y"||$.dim==="z"||$.dim==="single")&&$.type!=="category"}var uJ=function(){function $(){}return $.prototype.getNeedCrossZero=function(){var Q=this.option;return!Q.scale},$.prototype.getCoordSysModel=function(){return},$}();var gq1=0.00000001;function iT0($,Q){return Math.abs($-Q)<gq1}function DY($,Q,J){var K=0,Y=$[0];if(!Y)return!1;for(var q=1;q<$.length;q++){var Z=$[q];K+=i3(Y[0],Y[1],Z[0],Z[1],Q,J),Y=Z}var X=$[0];if(!iT0(Y[0],X[0])||!iT0(Y[1],X[1]))K+=i3(Y[0],Y[1],X[0],X[1],Q,J);return K!==0}var yq1=[];function $r($,Q){for(var J=0;J<$.length;J++)o5($[J],$[J],Q)}function oT0($,Q,J,K){for(var Y=0;Y<$.length;Y++){var q=$[Y];if(K)q=K.project(q);if(q&&isFinite(q[0])&&isFinite(q[1]))g9(Q,Q,q),y9(J,J,q)}}function xq1($){var Q=0,J=0,K=0,Y=$.length,q=$[Y-1][0],Z=$[Y-1][1];for(var X=0;X<Y;X++){var W=$[X][0],F=$[X][1],H=q*F-W*Z;Q+=H,J+=(q+W)*H,K+=(Z+F)*H,q=W,Z=F}return Q?[J/Q/3,K/Q/3,Q]:[$[0][0]||0,$[0][1]||0]}var aT0=function(){function $(Q){this.name=Q}return $.prototype.setCenter=function(Q){this._center=Q},$.prototype.getCenter=function(){var Q=this._center;if(!Q)Q=this._center=this.calcCenter();return Q},$}();var Qr=function(){function $(Q,J){this.type="polygon",this.exterior=Q,this.interiors=J}return $}();var Jr=function(){function $(Q){this.type="linestring",this.points=Q}return $}();var lh=function($){x(Q,$);function Q(J,K,Y){var q=$.call(this,J)||this;return q.type="geoJSON",q.geometries=K,q._center=Y&&[Y[0],Y[1]],q}return Q.prototype.calcCenter=function(){var J=this.geometries,K,Y=0;for(var q=0;q<J.length;q++){var Z=J[q],X=Z.exterior,W=X&&X.length;if(W>Y)K=Z,Y=W}if(K)return xq1(K.exterior);var F=this.getBoundingRect();return[F.x+F.width/2,F.y+F.height/2]},Q.prototype.getBoundingRect=function(J){var K=this._rect;if(K&&!J)return K;var Y=[1/0,1/0],q=[-1/0,-1/0],Z=this.geometries;if(v(Z,function(X){if(X.type==="polygon")oT0(X.exterior,Y,q,J);else v(X.points,function(W){oT0(W,Y,q,J)})}),!(isFinite(Y[0])&&isFinite(Y[1])&&isFinite(q[0])&&isFinite(q[1])))Y[0]=Y[1]=q[0]=q[1]=0;if(K=new u0(Y[0],Y[1],q[0]-Y[0],q[1]-Y[1]),!J)this._rect=K;return K},Q.prototype.contain=function(J){var K=this.getBoundingRect(),Y=this.geometries;if(!K.contain(J[0],J[1]))return!1;$:for(var q=0,Z=Y.length;q<Z;q++){var X=Y[q];if(X.type!=="polygon")continue;var{exterior:W,interiors:F}=X;if(DY(W,J[0],J[1])){for(var H=0;H<(F?F.length:0);H++)if(DY(F[H],J[0],J[1]))continue $;return!0}}return!1},Q.prototype.transformTo=function(J,K,Y,q){var Z=this.getBoundingRect(),X=Z.width/Z.height;if(!Y)Y=X*q;else if(!q)q=Y/X;var W=new u0(J,K,Y,q),F=Z.calculateTransform(W),H=this.geometries;for(var B=0;B<H.length;B++){var z=H[B];if(z.type==="polygon")$r(z.exterior,F),v(z.interiors,function(A){$r(A,F)});else v(z.points,function(A){$r(A,F)})}Z=this._rect,Z.copy(W),this._center=[Z.x+Z.width/2,Z.y+Z.height/2]},Q.prototype.cloneShallow=function(J){J==null&&(J=this.name);var K=new Q(J,this.geometries,this._center);return K._rect=this._rect,K.transformTo=null,K},Q}(aT0);var tT0=function($){x(Q,$);function Q(J,K){var Y=$.call(this,J)||this;return Y.type="geoSVG",Y._elOnlyForCalculate=K,Y}return Q.prototype.calcCenter=function(){var J=this._elOnlyForCalculate,K=J.getBoundingRect(),Y=[K.x+K.width/2,K.y+K.height/2],q=NZ(yq1),Z=J;while(Z&&!Z.isGeoSVGGraphicRoot)T8(q,Z.getLocalTransform(),q),Z=Z.parent;return D7(q,q),o5(Y,Y,q),Y},Q}(aT0);function cq1($){if(!$.UTF8Encoding)return $;var Q=$,J=Q.UTF8Scale;if(J==null)J=1024;var K=Q.features;return v(K,function(Y){var q=Y.geometry,Z=q.encodeOffsets,X=q.coordinates;if(!Z)return;switch(q.type){case"LineString":q.coordinates=eT0(X,Z,J);break;case"Polygon":Kr(X,Z,J);break;case"MultiLineString":Kr(X,Z,J);break;case"MultiPolygon":v(X,function(W,F){return Kr(W,Z[F],J)})}}),Q.UTF8Encoding=!1,Q}function Kr($,Q,J){for(var K=0;K<$.length;K++)$[K]=eT0($[K],Q[K],J)}function eT0($,Q,J){var K=[],Y=Q[0],q=Q[1];for(var Z=0;Z<$.length;Z+=2){var X=$.charCodeAt(Z)-64,W=$.charCodeAt(Z+1)-64;X=X>>1^-(X&1),W=W>>1^-(W&1),X+=Y,W+=q,Y=X,q=W,K.push([X/J,W/J])}return K}function Yr($,Q){return $=cq1($),K0(j1($.features,function(J){return J.geometry&&J.properties&&J.geometry.coordinates.length>0}),function(J){var{properties:K,geometry:Y}=J,q=[];switch(Y.type){case"Polygon":var Z=Y.coordinates;q.push(new Qr(Z[0],Z.slice(1)));break;case"MultiPolygon":v(Y.coordinates,function(W){if(W[0])q.push(new Qr(W[0],W.slice(1)))});break;case"LineString":q.push(new Jr([Y.coordinates]));break;case"MultiLineString":q.push(new Jr(Y.coordinates))}var X=new lh(K[Q||"name"],q,K.cp);return X.properties=K,X})}var uq1=n0(),cG=n0(),U9={estimate:1,determine:2};function iN($){return{out:{noPxChangeTryDetermine:[]},kind:$}}function $D0($,Q){var J=K0(Q,function(K){return $.scale.parse(K)});if($.type==="time"&&J.length>0)J.sort(),J.unshift(J[0]),J.push(J[J.length-1]);return J}function QD0($,Q){var J=$.getLabelModel().get("customValues");if(J){var K=uZ($),Y=$.scale.getExtent(),q=$D0($,J),Z=j1(q,function(X){return X>=Y[0]&&X<=Y[1]});return{labels:K0(Z,function(X){var W={value:X};return{formattedLabel:K(W),rawLabel:$.scale.getLabel(W),tickValue:X,time:void 0,break:void 0}})}}return $.type==="category"?mq1($,Q):dq1($)}function JD0($,Q,J){var K=$.getTickModel().get("customValues");if(K){var Y=$.scale.getExtent(),q=$D0($,K);return{ticks:j1(q,function(Z){return Z>=Y[0]&&Z<=Y[1]})}}return $.type==="category"?pq1($,Q):{ticks:K0($.scale.getTicks(J),function(Z){return Z.value})}}function mq1($,Q){var J=$.getLabelModel(),K=KD0($,J,Q);return!J.get("show")||$.scale.isBlank()?{labels:[]}:K}function KD0($,Q,J){var K=lq1($),Y=ph(Q),q=J.kind===U9.estimate;if(!q){var Z=qD0(K,Y);if(Z)return Z}var X,W;if(v0(Y))X=FD0($,Y);else W=Y==="auto"?rq1($,J):Y,X=WD0($,W);var F={labels:X,labelCategoryInterval:W};if(!q)qr(K,Y,F);else J.out.noPxChangeTryDetermine.push(function(){return qr(K,Y,F),!0});return F}function pq1($,Q){var J=nq1($),K=ph(Q),Y=qD0(J,K);if(Y)return Y;var q,Z;if(!Q.get("show")||$.scale.isBlank())q=[];if(v0(K))q=FD0($,K,!0);else if(K==="auto"){var X=KD0($,$.getLabelModel(),iN(U9.determine));Z=X.labelCategoryInterval,q=K0(X.labels,function(W){return W.tickValue})}else Z=K,q=WD0($,Z,!0);return qr(J,K,{ticks:q,tickCategoryInterval:Z})}function dq1($){var Q=$.scale.getTicks(),J=uZ($);return{labels:K0(Q,function(K,Y){return{formattedLabel:J(K,Y),rawLabel:$.scale.getLabel(K),tickValue:K.value,time:K.time,break:K.break}})}}var nq1=YD0("axisTick"),lq1=YD0("axisLabel");function YD0($){return function(J){return cG(J)[$]||(cG(J)[$]={list:[]})}}function qD0($,Q){for(var J=0;J<$.list.length;J++)if($.list[J].key===Q)return $.list[J].value}function qr($,Q,J){return $.list.push({key:Q,value:J}),J}function rq1($,Q){if(Q.kind===U9.estimate){var J=$.calculateCategoryInterval(Q);return Q.out.noPxChangeTryDetermine.push(function(){return cG($).autoInterval=J,!0}),J}var K=cG($).autoInterval;return K!=null?K:cG($).autoInterval=$.calculateCategoryInterval(Q)}function ZD0($,Q){var J=Q.kind,K=sq1($),Y=uZ($),q=(K.axisRotate-K.labelRotate)/180*Math.PI,Z=$.scale,X=Z.getExtent(),W=Z.count();if(X[1]-X[0]<1)return 0;var F=1,H=40;if(W>H)F=Math.max(1,Math.floor(W/H));var B=X[0],z=$.dataToCoord(B+1)-$.dataToCoord(B),A=Math.abs(z*Math.cos(q)),R=Math.abs(z*Math.sin(q)),G=0,w=0;for(;B<=X[1];B+=F){var T=0,D=0,P=wZ(Y({value:B}),K.font,"center","top");T=P.width*1.3,D=P.height*1.3,G=Math.max(G,T,7),w=Math.max(w,D,7)}var j=G/A,E=w/R;isNaN(j)&&(j=1/0),isNaN(E)&&(E=1/0);var L=Math.max(0,Math.floor(Math.min(j,E)));if(J===U9.estimate)return Q.out.noPxChangeTryDetermine.push(O0(iq1,null,$,L,W)),L;var h=XD0($,L,W);return h!=null?h:L}function iq1($,Q,J){return XD0($,Q,J)==null}function XD0($,Q,J){var K=uq1($.model),Y=$.getExtent(),q=K.lastAutoInterval,Z=K.lastTickCount;if(q!=null&&Z!=null&&Math.abs(q-Q)<=1&&Math.abs(Z-J)<=1&&q>Q&&K.axisExtent0===Y[0]&&K.axisExtent1===Y[1])return q;else K.lastTickCount=J,K.lastAutoInterval=Q,K.axisExtent0=Y[0],K.axisExtent1=Y[1]}function sq1($){var Q=$.getLabelModel();return{axisRotate:$.getRotate?$.getRotate():$.isHorizontal&&!$.isHorizontal()?90:0,labelRotate:Q.get("rotate")||0,font:Q.getFont()}}function WD0($,Q,J){var K=uZ($),Y=$.scale,q=Y.getExtent(),Z=$.getLabelModel(),X=[],W=Math.max((Q||0)+1,1),F=q[0],H=Y.count();if(F!==0&&W>1&&H/W>2)F=Math.round(Math.ceil(F/W)*W);var B=dh($),z=Z.get("showMinLabel")||B,A=Z.get("showMaxLabel")||B;if(z&&F!==q[0])G(q[0]);var R=F;for(;R<=q[1];R+=W)G(R);if(A&&R-W!==q[1])G(q[1]);function G(w){var T={value:w};X.push(J?w:{formattedLabel:K(T),rawLabel:Y.getLabel(T),tickValue:w,time:void 0,break:void 0})}return X}function FD0($,Q,J){var K=$.scale,Y=uZ($),q=[];return v(K.getTicks(),function(Z){var X=K.getLabel(Z),W=Z.value;if(Q(Z.value,X))q.push(J?W:{formattedLabel:Y(Z),rawLabel:X,tickValue:W,time:void 0,break:void 0})}),q}var UD0=[0,1],oq1=function(){function $(Q,J,K){this.onBand=!1,this.inverse=!1,this.dim=Q,this.scale=J,this._extent=K||[0,0]}return $.prototype.contain=function(Q){var J=this._extent,K=Math.min(J[0],J[1]),Y=Math.max(J[0],J[1]);return Q>=K&&Q<=Y},$.prototype.containData=function(Q){return this.scale.contain(this.scale.parse(Q))},$.prototype.getExtent=function(){return this._extent.slice()},$.prototype.getPixelPrecision=function(Q){return EE(Q||this.scale.getExtent(),this._extent)},$.prototype.setExtent=function(Q,J){var K=this._extent;K[0]=Q,K[1]=J},$.prototype.dataToCoord=function(Q,J){var K=this._extent,Y=this.scale;if(Q=Y.normalize(Y.parse(Q)),this.onBand&&Y.type==="ordinal")K=K.slice(),HD0(K,Y.count());return a1(Q,UD0,K,J)},$.prototype.coordToData=function(Q,J){var K=this._extent,Y=this.scale;if(this.onBand&&Y.type==="ordinal")K=K.slice(),HD0(K,Y.count());var q=a1(Q,K,UD0,J);return this.scale.scale(q)},$.prototype.pointToData=function(Q,J){return},$.prototype.getTicksCoords=function(Q){Q=Q||{};var J=Q.tickModel||this.getTickModel(),K=JD0(this,J,{breakTicks:Q.breakTicks,pruneByBreak:Q.pruneByBreak}),Y=K.ticks,q=K0(Y,function(X){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(X):X),tickValue:X}},this),Z=J.get("alignWithLabel");return aq1(this,q,Z,Q.clamp),q},$.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var Q=this.model.getModel("minorTick"),J=Q.get("splitNumber");if(!(J>0&&J<100))J=5;var K=this.scale.getMinorTicks(J),Y=K0(K,function(q){return K0(q,function(Z){return{coord:this.dataToCoord(Z),tickValue:Z}},this)},this);return Y},$.prototype.getViewLabels=function(Q){return Q=Q||iN(U9.determine),QD0(this,Q).labels},$.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},$.prototype.getTickModel=function(){return this.model.getModel("axisTick")},$.prototype.getBandWidth=function(){var Q=this._extent,J=this.scale.getExtent(),K=J[1]-J[0]+(this.onBand?1:0);K===0&&(K=1);var Y=Math.abs(Q[1]-Q[0]);return Math.abs(Y)/K},$.prototype.calculateCategoryInterval=function(Q){return Q=Q||iN(U9.determine),ZD0(this,Q)},$}();function HD0($,Q){var J=$[1]-$[0],K=Q,Y=J/K/2;$[0]+=Y,$[1]-=Y}function aq1($,Q,J,K){var Y=Q.length;if(!$.onBand||J||!Y)return;var q=$.getExtent(),Z,X;if(Y===1)Q[0].coord=q[0],Q[0].onBand=!0,Z=Q[1]={coord:q[1],tickValue:Q[0].tickValue,onBand:!0};else{var W=Q[Y-1].tickValue-Q[0].tickValue,F=(Q[Y-1].coord-Q[0].coord)/W;v(Q,function(A){A.coord-=F/2,A.onBand=!0});var H=$.scale.getExtent();X=1+H[1]-Q[Y-1].tickValue,Z={coord:Q[Y-1].coord+F*X,tickValue:H[1]+1,onBand:!0},Q.push(Z)}var B=q[0]>q[1];if(z(Q[0].coord,q[0]))K?Q[0].coord=q[0]:Q.shift();if(K&&z(q[0],Q[0].coord))Q.unshift({coord:q[0],onBand:!0});if(z(q[1],Z.coord))K?Z.coord=q[1]:Q.pop();if(K&&z(Z.coord,q[1]))Q.push({coord:q[1],onBand:!0});function z(A,R){return A=d5(A),R=d5(R),B?A>R:A<R}}var W8=oq1;var uG=Math.PI*2,aW=n7.CMD,tq1=["top","right","bottom","left"];function eq1($,Q,J,K,Y){var{width:q,height:Z}=J;switch($){case"top":K.set(J.x+q/2,J.y-Q),Y.set(0,-1);break;case"bottom":K.set(J.x+q/2,J.y+Z+Q),Y.set(0,1);break;case"left":K.set(J.x-Q,J.y+Z/2),Y.set(-1,0);break;case"right":K.set(J.x+q+Q,J.y+Z/2),Y.set(1,0);break}}function $Z1($,Q,J,K,Y,q,Z,X,W){Z-=$,X-=Q;var F=Math.sqrt(Z*Z+X*X);Z/=F,X/=F;var H=Z*J+$,B=X*J+Q;if(Math.abs(K-Y)%uG<0.0001)return W[0]=H,W[1]=B,F-J;if(q){var z=K;K=P8(Y),Y=P8(z)}else K=P8(K),Y=P8(Y);if(K>Y)Y+=uG;var A=Math.atan2(X,Z);if(A<0)A+=uG;if(A>=K&&A<=Y||A+uG>=K&&A+uG<=Y)return W[0]=H,W[1]=B,F-J;var R=J*Math.cos(K)+$,G=J*Math.sin(K)+Q,w=J*Math.cos(Y)+$,T=J*Math.sin(Y)+Q,D=(R-Z)*(R-Z)+(G-X)*(G-X),P=(w-Z)*(w-Z)+(T-X)*(T-X);if(D<P)return W[0]=R,W[1]=G,Math.sqrt(D);else return W[0]=w,W[1]=T,Math.sqrt(P)}function rh($,Q,J,K,Y,q,Z,X){var W=Y-$,F=q-Q,H=J-$,B=K-Q,z=Math.sqrt(H*H+B*B);H/=z,B/=z;var A=W*H+F*B,R=A/z;if(X)R=Math.min(Math.max(R,0),1);R*=z;var G=Z[0]=$+R*H,w=Z[1]=Q+R*B;return Math.sqrt((G-Y)*(G-Y)+(w-q)*(w-q))}function ND0($,Q,J,K,Y,q,Z){if(J<0)$=$+J,J=-J;if(K<0)Q=Q+K,K=-K;var X=$+J,W=Q+K,F=Z[0]=Math.min(Math.max(Y,$),X),H=Z[1]=Math.min(Math.max(q,Q),W);return Math.sqrt((F-Y)*(F-Y)+(H-q)*(H-q))}var NQ=[];function QZ1($,Q,J){var K=ND0(Q.x,Q.y,Q.width,Q.height,$.x,$.y,NQ);return J.set(NQ[0],NQ[1]),K}function JZ1($,Q,J){var K=0,Y=0,q=0,Z=0,X,W,F=1/0,H=Q.data,B=$.x,z=$.y;for(var A=0;A<H.length;){var R=H[A++];if(A===1)K=H[A],Y=H[A+1],q=K,Z=Y;var G=F;switch(R){case aW.M:q=H[A++],Z=H[A++],K=q,Y=Z;break;case aW.L:G=rh(K,Y,H[A],H[A+1],B,z,NQ,!0),K=H[A++],Y=H[A++];break;case aW.C:G=QE(K,Y,H[A++],H[A++],H[A++],H[A++],H[A],H[A+1],B,z,NQ),K=H[A++],Y=H[A++];break;case aW.Q:G=KE(K,Y,H[A++],H[A++],H[A],H[A+1],B,z,NQ),K=H[A++],Y=H[A++];break;case aW.A:var w=H[A++],T=H[A++],D=H[A++],P=H[A++],j=H[A++],E=H[A++];A+=1;var L=!!(1-H[A++]);if(X=Math.cos(j)*D+w,W=Math.sin(j)*P+T,A<=1)q=X,Z=W;var h=(B-w)*P/D+w;G=$Z1(w,T,P,j,j+E,L,h,z,NQ),K=Math.cos(j+E)*D+w,Y=Math.sin(j+E)*P+T;break;case aW.R:q=K=H[A++],Z=Y=H[A++];var _=H[A++],S=H[A++];G=ND0(q,Z,_,S,B,z,NQ);break;case aW.Z:G=rh(K,Y,q,Z,B,z,NQ,!0),K=q,Y=Z;break}if(G<F)F=G,J.set(NQ[0],NQ[1])}return F}var BQ=new e0,X6=new e0,N7=new e0,pJ=new e0,mJ=new e0;function Xr($,Q){if(!$)return;var J=$.getTextGuideLine(),K=$.getTextContent();if(!(K&&J))return;var Y=$.textGuideLineConfig||{},q=[[0,0],[0,0],[0,0]],Z=Y.candidates||tq1,X=K.getBoundingRect().clone();X.applyTransform(K.getComputedTransform());var W=1/0,F=Y.anchor,H=$.getComputedTransform(),B=H&&D7([],H),z=Q.get("length2")||0;if(F)N7.copy(F);for(var A=0;A<Z.length;A++){var R=Z[A];eq1(R,0,X,BQ,pJ),e0.scaleAndAdd(X6,BQ,pJ,z),X6.transform(B);var G=$.getBoundingRect(),w=F?F.distance(X6):$ instanceof t0?JZ1(X6,$.path,N7):QZ1(X6,G,N7);if(w<W)W=w,X6.transform(H),N7.transform(H),N7.toArray(q[0]),X6.toArray(q[1]),BQ.toArray(q[2])}Wr(q,Q.get("minTurnAngle")),J.setShape({points:q})}var ih=[],D4=new e0;function Wr($,Q){if(!(Q<=180&&Q>0))return;Q=Q/180*Math.PI,BQ.fromArray($[0]),X6.fromArray($[1]),N7.fromArray($[2]),e0.sub(pJ,BQ,X6),e0.sub(mJ,N7,X6);var J=pJ.len(),K=mJ.len();if(J<0.001||K<0.001)return;pJ.scale(1/J),mJ.scale(1/K);var Y=pJ.dot(mJ),q=Math.cos(Q);if(q<Y){var Z=rh(X6.x,X6.y,N7.x,N7.y,BQ.x,BQ.y,ih,!1);D4.fromArray(ih),D4.scaleAndAdd(mJ,Z/Math.tan(Math.PI-Q));var X=N7.x!==X6.x?(D4.x-X6.x)/(N7.x-X6.x):(D4.y-X6.y)/(N7.y-X6.y);if(isNaN(X))return;if(X<0)e0.copy(D4,X6);else if(X>1)e0.copy(D4,N7);D4.toArray($[1])}}function BD0($,Q,J){if(!(J<=180&&J>0))return;J=J/180*Math.PI,BQ.fromArray($[0]),X6.fromArray($[1]),N7.fromArray($[2]),e0.sub(pJ,X6,BQ),e0.sub(mJ,N7,X6);var K=pJ.len(),Y=mJ.len();if(K<0.001||Y<0.001)return;pJ.scale(1/K),mJ.scale(1/Y);var q=pJ.dot(Q),Z=Math.cos(J);if(q<Z){var X=rh(X6.x,X6.y,N7.x,N7.y,BQ.x,BQ.y,ih,!1);D4.fromArray(ih);var W=Math.PI/2,F=Math.acos(mJ.dot(Q)),H=W+F-J;if(H>=W)e0.copy(D4,N7);else{D4.scaleAndAdd(mJ,X/Math.tan(Math.PI/2-H));var B=N7.x!==X6.x?(D4.x-X6.x)/(N7.x-X6.x):(D4.y-X6.y)/(N7.y-X6.y);if(isNaN(B))return;if(B<0)e0.copy(D4,X6);else if(B>1)e0.copy(D4,N7)}D4.toArray($[1])}}function Zr($,Q,J,K){var Y=J==="normal",q=Y?$:$.ensureState(J);q.ignore=Q;var Z=K.get("smooth");if(Z&&Z===!0)Z=0.3;if(q.shape=q.shape||{},Z>0)q.shape.smooth=Z;var X=K.getModel("lineStyle").getLineStyle();Y?$.useStyle(X):q.style=X}function KZ1($,Q){var{smooth:J,points:K}=Q;if(!K)return;if($.moveTo(K[0][0],K[0][1]),J>0&&K.length>=3){var Y=c3(K[0],K[1]),q=c3(K[1],K[2]);if(!Y||!q){$.lineTo(K[1][0],K[1][1]),$.lineTo(K[2][0],K[2][1]);return}var Z=Math.min(Y,q)*J,X=QN([],K[1],K[0],Z/Y),W=QN([],K[1],K[2],Z/q),F=QN([],X,W,0.5);$.bezierCurveTo(X[0],X[1],X[0],X[1],F[0],F[1]),$.bezierCurveTo(W[0],W[1],W[0],W[1],K[2][0],K[2][1])}else for(var H=1;H<K.length;H++)$.lineTo(K[H][0],K[H][1])}function sN($,Q,J){var K=$.getTextGuideLine(),Y=$.getTextContent();if(!Y){if(K)$.removeTextGuideLine();return}var q=Q.normal,Z=q.get("show"),X=Y.ignore;for(var W=0;W<jZ.length;W++){var F=jZ[W],H=Q[F],B=F==="normal";if(H){var z=H.get("show"),A=B?X:f0(Y.states[F]&&Y.states[F].ignore,X);if(A||!f0(z,Z)){var R=B?K:K&&K.states[F];if(R)R.ignore=!0;if(K)Zr(K,!0,F,H);continue}if(!K){if(K=new K6,$.setTextGuideLine(K),!B&&(X||!Z))Zr(K,!0,"normal",Q.normal);if($.stateProxy)K.stateProxy=$.stateProxy}Zr(K,!1,F,H)}}if(K){b0(K.style,J),K.style.fill=null;var G=q.get("showAbove"),w=$.textGuideLineConfig=$.textGuideLineConfig||{};w.showAbove=G||!1,K.buildPath=KZ1}}function oN($,Q){Q=Q||"labelLine";var J={normal:$.getModel(Q)};for(var K=0;K<M7.length;K++){var Y=M7[K];J[Y]=$.getModel([Y,Q])}return J}var zD0=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"],YZ1=1,sh=2,VD0=YZ1|sh;function mG($,Q,J){J=J||VD0,Q?$.dirty|=J:$.dirty&=~J}function RD0($,Q){return Q=Q||VD0,$.dirty==null||!!($.dirty&Q)}function zQ($){if(!$)return;if(RD0($))Ur($,$.label,$);return $}function Ur($,Q,J){var K=Q.getComputedTransform();$.transform=HL($.transform,K);var Y=$.localRect=jN($.localRect,Q.getBoundingRect()),q=Q.style,Z=q.margin,X=J&&J.marginForce,W=J&&J.minMarginForce,F=J&&J.marginDefault,H=q.__marginType;if(H==null&&F)Z=F,H=MW.textMargin;for(var B=0;B<4;B++)Fr[B]=H===MW.minMargin&&W&&W[B]!=null?W[B]:X&&X[B]!=null?X[B]:Z?Z[B]:0;if(H===MW.textMargin)t3(Y,Fr,!1,!1);var z=$.rect=jN($.rect,Y);if(K)z.applyTransform(K);if(H===MW.minMargin)t3(z,Fr,!1,!1);return $.axisAligned=UL(K),($.label=$.label||{}).ignore=Q.ignore,mG($,!1),mG($,!0,sh),$}var Fr=[0,0,0,0];function GD0($,Q,J){if($.transform=HL($.transform,J),$.localRect=jN($.localRect,Q),$.rect=jN($.rect,Q),J)$.rect.applyTransform(J);return $.axisAligned=UL(J),$.obb=void 0,($.label=$.label||{}).ignore=!1,$}function pG($,Q){if(!$)return;$.label.x+=Q.x,$.label.y+=Q.y,$.label.markRedraw();var J=$.transform;if(J)J[4]+=Q.x,J[5]+=Q.y;var K=$.rect;if(K)K.x+=Q.x,K.y+=Q.y;var Y=$.obb;if(Y)Y.fromBoundingRect($.localRect,J)}function dG($,Q){for(var J=0;J<zD0.length;J++){var K=zD0[J];if($[K]==null)$[K]=Q[K]}return zQ($)}function AD0($){var Q=$.obb;if(!Q||RD0($,sh))$.obb=Q=Q||new WL,Q.fromBoundingRect($.localRect,$.transform),mG($,!1,sh);return Q}function nG($,Q,J,K,Y){var q=$.length,Z=A1[Q],X=P6[Q];if(q<2)return!1;$.sort(function(S,I){return S.rect[Z]-I.rect[Z]});var W=0,F,H=!1,B=0;for(var z=0;z<q;z++){var A=$[z],R=A.rect;if(F=R[Z]-W,F<0)R[Z]-=F,A.label[Z]-=F,H=!0;var G=Math.max(-F,0);B+=G,W=R[Z]+R[X]}if(B>0&&Y)L(-B/q,0,q);var w=$[0],T=$[q-1],D,P;if(j(),D<0&&h(-D,0.8),P<0&&h(P,0.8),j(),E(D,P,1),E(P,D,-1),j(),D<0)_(-D);if(P<0)_(P);function j(){D=w.rect[Z]-J,P=K-T.rect[Z]-T.rect[X]}function E(S,I,M){if(S<0){var y=Math.min(I,-S);if(y>0){L(y*M,0,q);var b=y+S;if(b<0)h(-b*M,1)}else h(-S*M,1)}}function L(S,I,M){if(S!==0)H=!0;for(var y=I;y<M;y++){var b=$[y],u=b.rect;u[Z]+=S,b.label[Z]+=S}}function h(S,I){var M=[],y=0;for(var b=1;b<q;b++){var u=$[b-1].rect,c=Math.max($[b].rect[Z]-u[Z]-u[X],0);M.push(c),y+=c}if(!y)return;var m=Math.min(Math.abs(S)/y,I);if(S>0)for(var b=0;b<q-1;b++){var i=M[b]*m;L(i,0,b+1)}else for(var b=q-1;b>0;b--){var i=M[b-1]*m;L(-i,b,q)}}function _(S){var I=S<0?-1:1;S=Math.abs(S);var M=Math.ceil(S/(q-1));for(var y=0;y<q-1;y++){if(I>0)L(M,0,y+1);else L(-M,q-y-1,q);if(S-=M,S<=0)return}}return H}function wD0($){for(var Q=0;Q<$.length;Q++){var J=$[Q],K=J.defaultAttr,Y=J.labelLine;J.label.attr("ignore",K.ignore),Y&&Y.attr("ignore",K.labelGuideIgnore)}}function oh($){var Q=[];$.sort(function(F,H){return(H.suggestIgnore?1:0)-(F.suggestIgnore?1:0)||H.priority-F.priority});function J(F){if(!F.ignore){var H=F.ensureState("emphasis");if(H.ignore==null)H.ignore=!1}F.ignore=!0}for(var K=0;K<$.length;K++){var Y=zQ($[K]);if(Y.label.ignore)continue;var{label:q,labelLine:Z}=Y,X=!1;for(var W=0;W<Q.length;W++)if(aN(Y,Q[W],null,{touchThreshold:0.05})){X=!0;break}if(X)J(q),Z&&J(Z);else Q.push(Y)}}function aN($,Q,J,K){if(!$||!Q)return!1;if($.label&&$.label.ignore||Q.label&&Q.label.ignore)return!1;if(!$.rect.intersect(Q.rect,J,K))return!1;if($.axisAligned&&Q.axisAligned)return!0;return AD0($).intersect(AD0(Q),J,K)}function qZ1($){if($){var Q=[];for(var J=0;J<$.length;J++)Q.push($[J].slice());return Q}}function ZZ1($,Q){var J=$.label,K=Q&&Q.getTextGuideLine();return{dataIndex:$.dataIndex,dataType:$.dataType,seriesIndex:$.seriesModel.seriesIndex,text:$.label.style.text,rect:$.hostRect,labelRect:$.rect,align:J.style.align,verticalAlign:J.style.verticalAlign,labelLinePoints:qZ1(K&&K.shape.points)}}var OD0=["align","verticalAlign","width","height","fontSize"],C4=new s4,Hr=n0(),XZ1=n0();function ah($,Q,J){for(var K=0;K<J.length;K++){var Y=J[K];if(Q[Y]!=null)$[Y]=Q[Y]}}var th=["x","y","rotation"],WZ1=function(){function $(){this._labelList=[],this._chartViewList=[]}return $.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},$.prototype._addLabel=function(Q,J,K,Y,q){var{style:Z,__hostTarget:X}=Y,W=X.textConfig||{},F=Y.getComputedTransform(),H=Y.getBoundingRect().plain();if(u0.applyTransform(H,H,F),F)C4.setLocalTransform(F);else C4.x=C4.y=C4.rotation=C4.originX=C4.originY=0,C4.scaleX=C4.scaleY=1;C4.rotation=P8(C4.rotation);var B=Y.__hostTarget,z;if(B){z=B.getBoundingRect().plain();var A=B.getComputedTransform();u0.applyTransform(z,z,A)}var R=z&&B.getTextGuideLine();this._labelList.push({label:Y,labelLine:R,seriesModel:K,dataIndex:Q,dataType:J,layoutOptionOrCb:q,layoutOption:null,rect:H,hostRect:z,priority:z?z.width*z.height:0,defaultAttr:{ignore:Y.ignore,labelGuideIgnore:R&&R.ignore,x:C4.x,y:C4.y,scaleX:C4.scaleX,scaleY:C4.scaleY,rotation:C4.rotation,style:{x:Z.x,y:Z.y,align:Z.align,verticalAlign:Z.verticalAlign,width:Z.width,height:Z.height,fontSize:Z.fontSize},cursor:Y.cursor,attachedPos:W.position,attachedRot:W.rotation}})},$.prototype.addLabelsOfSeries=function(Q){var J=this;this._chartViewList.push(Q);var K=Q.__model,Y=K.get("labelLayout");if(!(v0(Y)||Z1(Y).length))return;Q.group.traverse(function(q){if(q.ignore)return!0;var Z=q.getTextContent(),X=m0(q);if(Z&&!Z.disableLabelLayout)J._addLabel(X.dataIndex,X.dataType,K,Z,Y)})},$.prototype.updateLayoutConfig=function(Q){var J=Q.getWidth(),K=Q.getHeight();function Y(P,j){return function(){Xr(P,j)}}for(var q=0;q<this._labelList.length;q++){var Z=this._labelList[q],X=Z.label,W=X.__hostTarget,F=Z.defaultAttr,H=void 0;if(v0(Z.layoutOptionOrCb))H=Z.layoutOptionOrCb(ZZ1(Z,W));else H=Z.layoutOptionOrCb;H=H||{},Z.layoutOption=H;var B=Math.PI/180;if(W)W.setTextConfig({local:!1,position:H.x!=null||H.y!=null?null:F.attachedPos,rotation:H.rotate!=null?H.rotate*B:F.attachedRot,offset:[H.dx||0,H.dy||0]});var z=!1;if(H.x!=null)X.x=h0(H.x,J),X.setStyle("x",0),z=!0;else X.x=F.x,X.setStyle("x",F.style.x);if(H.y!=null)X.y=h0(H.y,K),X.setStyle("y",0),z=!0;else X.y=F.y,X.setStyle("y",F.style.y);if(H.labelLinePoints){var A=W.getTextGuideLine();if(A)A.setShape({points:H.labelLinePoints}),z=!1}var R=Hr(X);R.needsUpdateLabelLine=z,X.rotation=H.rotate!=null?H.rotate*B:F.rotation,X.scaleX=F.scaleX,X.scaleY=F.scaleY;for(var G=0;G<OD0.length;G++){var w=OD0[G];X.setStyle(w,H[w]!=null?H[w]:F.style[w])}if(H.draggable){if(X.draggable=!0,X.cursor="move",W){var T=Z.seriesModel;if(Z.dataIndex!=null){var D=Z.seriesModel.getData(Z.dataType);T=D.getItemModel(Z.dataIndex)}X.on("drag",Y(W,T.getModel("labelLine")))}}else X.off("drag"),X.cursor=F.cursor}},$.prototype.layout=function(Q){var J=Q.getWidth(),K=Q.getHeight(),Y=[];v(this._labelList,function(W){if(!W.defaultAttr.ignore)Y.push(dG({},W))});var q=j1(Y,function(W){return W.layoutOption.moveOverlap==="shiftX"}),Z=j1(Y,function(W){return W.layoutOption.moveOverlap==="shiftY"});nG(q,0,0,J),nG(Z,1,0,K);var X=j1(Y,function(W){return W.layoutOption.hideOverlap});wD0(X),oh(X)},$.prototype.processLabelsOverall=function(){var Q=this;v(this._chartViewList,function(J){var{__model:K,ignoreLabelLineUpdate:Y}=J,q=K.isAnimationEnabled();J.group.traverse(function(Z){if(Z.ignore&&!Z.forceLabelAnimation)return!0;var X=!Y,W=Z.getTextContent();if(!X&&W)X=Hr(W).needsUpdateLabelLine;if(X)Q._updateLabelLine(Z,K);if(q)Q._animateLabels(Z,K)})})},$.prototype._updateLabelLine=function(Q,J){var K=Q.getTextContent(),Y=m0(Q),q=Y.dataIndex;if(K&&q!=null){var Z=J.getData(Y.dataType),X=Z.getItemModel(q),W={},F=Z.getItemVisual(q,"style");if(F){var H=Z.getVisual("drawType");W.stroke=F[H]}var B=X.getModel("labelLine");sN(Q,oN(X),W),Xr(Q,B)}},$.prototype._animateLabels=function(Q,J){var K=Q.getTextContent(),Y=Q.getTextGuideLine();if(K&&(Q.forceLabelAnimation||!K.ignore&&!K.invisible&&!Q.disableLabelAnimation&&!UY(Q))){var q=Hr(K),Z=q.oldLayout,X=m0(Q),W=X.dataIndex,F={x:K.x,y:K.y,rotation:K.rotation},H=J.getData(X.dataType);if(!Z){if(K.attr(F),!zY(K).valueAnimation){var B=f0(K.style.opacity,1);K.style.opacity=0,t1(K,{style:{opacity:B}},J,W)}}else{K.attr(Z);var z=Q.prevStates;if(z){if(o0(z,"select")>=0)K.attr(q.oldLayoutSelect);if(o0(z,"emphasis")>=0)K.attr(q.oldLayoutEmphasis)}V1(K,F,J,W)}if(q.oldLayout=F,K.states.select){var A=q.oldLayoutSelect={};ah(A,F,th),ah(A,K.states.select,th)}if(K.states.emphasis){var R=q.oldLayoutEmphasis={};ah(R,F,th),ah(R,K.states.emphasis,th)}zL(K,W,H,J,J)}if(Y&&!Y.ignore&&!Y.invisible){var q=XZ1(Y),Z=q.oldLayout,G={points:Y.shape.points};if(!Z)Y.setShape(G),Y.style.strokePercent=0,t1(Y,{style:{strokePercent:1}},J);else Y.attr({shape:Z}),V1(Y,{shape:G},J);q.oldLayout=G}},$}(),TD0=WZ1;var Nr=n0();function Br($){$.registerUpdateLifecycle("series:beforeupdate",function(Q,J,K){var Y=Nr(J).labelManager;if(!Y)Y=Nr(J).labelManager=new TD0;Y.clearLabels()}),$.registerUpdateLifecycle("series:layoutlabels",function(Q,J,K){var Y=Nr(J).labelManager;K.updatedSeries.forEach(function(q){Y.addLabelsOfSeries(J.getViewOfSeriesModel(q))}),Y.updateLayoutConfig(J),Y.layout(J),Y.processLabelsOverall()})}var{sin:zr,cos:Ar,PI:DD0}=Math,tW=Math.PI*2,FZ1=180/DD0,UZ1=function(){function $(){}return $.prototype.reset=function(Q){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,Q||4)},$.prototype.moveTo=function(Q,J){this._add("M",Q,J)},$.prototype.lineTo=function(Q,J){this._add("L",Q,J)},$.prototype.bezierCurveTo=function(Q,J,K,Y,q,Z){this._add("C",Q,J,K,Y,q,Z)},$.prototype.quadraticCurveTo=function(Q,J,K,Y){this._add("Q",Q,J,K,Y)},$.prototype.arc=function(Q,J,K,Y,q,Z){this.ellipse(Q,J,K,K,0,Y,q,Z)},$.prototype.ellipse=function(Q,J,K,Y,q,Z,X,W){var F=X-Z,H=!W,B=Math.abs(F),z=PJ(B-tW)||(H?F>=tW:-F>=tW),A=F>0?F%tW:F%tW+tW,R=!1;if(z)R=!0;else if(PJ(B))R=!1;else R=A>=DD0===!!H;var G=Q+K*Ar(Z),w=J+Y*zr(Z);if(this._start)this._add("M",G,w);var T=Math.round(q*FZ1);if(z){var D=1/this._p,P=(H?1:-1)*(tW-D);if(this._add("A",K,Y,T,1,+H,Q+K*Ar(Z+P),J+Y*zr(Z+P)),D>0.01)this._add("A",K,Y,T,0,+H,G,w)}else{var j=Q+K*Ar(X),E=J+Y*zr(X);this._add("A",K,Y,T,+R,+H,j,E)}},$.prototype.rect=function(Q,J,K,Y){this._add("M",Q,J),this._add("l",K,0),this._add("l",0,Y),this._add("l",-K,0),this._add("Z")},$.prototype.closePath=function(){if(this._d.length>0)this._add("Z")},$.prototype._add=function(Q,J,K,Y,q,Z,X,W,F){var H=[],B=this._p;for(var z=1;z<arguments.length;z++){var A=arguments[z];if(isNaN(A)){this._invalid=!0;return}H.push(Math.round(A*B)/B)}this._d.push(Q+H.join(" ")),this._start=Q==="Z"},$.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},$.prototype.getStr=function(){return this._str},$}(),eh=UZ1;var lG="none",HZ1=Math.round;function NZ1($){var Q=$.fill;return Q!=null&&Q!==lG}function BZ1($){var Q=$.stroke;return Q!=null&&Q!==lG}var Vr=["lineCap","miterLimit","lineJoin"],zZ1=K0(Vr,function($){return"stroke-"+$.toLowerCase()});function Rr($,Q,J,K){var Y=Q.opacity==null?1:Q.opacity;if(J instanceof n5){$("opacity",Y);return}if(NZ1(Q)){var q=GZ(Q.fill);$("fill",q.color);var Z=Q.fillOpacity!=null?Q.fillOpacity*q.opacity*Y:q.opacity*Y;if(K||Z<1)$("fill-opacity",Z)}else $("fill",lG);if(BZ1(Q)){var X=GZ(Q.stroke);$("stroke",X.color);var W=Q.strokeNoScale?J.getLineScale():1,F=W?(Q.lineWidth||0)/W:0,H=Q.strokeOpacity!=null?Q.strokeOpacity*X.opacity*Y:X.opacity*Y,B=Q.strokeFirst;if(K||F!==1)$("stroke-width",F);if(K||B)$("paint-order",B?"stroke":"fill");if(K||H<1)$("stroke-opacity",H);if(Q.lineDash){var z=SG(J),A=z[0],R=z[1];if(A){if(R=HZ1(R||0),$("stroke-dasharray",A.join(",")),R||K)$("stroke-dashoffset",R)}}else if(K)$("stroke-dasharray",lG);for(var G=0;G<Vr.length;G++){var w=Vr[G];if(K||Q[w]!==GN[w]){var T=Q[w]||GN[w];T&&$(zZ1[G],T)}}}else if(K)$("stroke",lG)}var CD0="http://www.w3.org/2000/svg",Gr="http://www.w3.org/1999/xlink",PD0="http://www.w3.org/2000/xmlns/",kD0="http://www.w3.org/XML/1998/namespace",wr="ecmeta_";function $v($){return document.createElementNS(CD0,$)}function B7($,Q,J,K,Y){return{tag:$,attrs:J||{},children:K,text:Y,key:Q}}function AZ1($,Q){var J=[];if(Q)for(var K in Q){var Y=Q[K],q=K;if(Y===!1)continue;else if(Y!==!0&&Y!=null)q+='="'+Y+'"';J.push(q)}return"<"+$+" "+J.join(" ")+">"}function VZ1($){return"</"+$+">"}function rG($,Q){Q=Q||{};var J=Q.newline?`
`:"";function K(Y){var{children:q,tag:Z,attrs:X,text:W}=Y;return AZ1(Z,X)+(Z!=="style"?S7(W):W||"")+(q?""+J+K0(q,function(F){return K(F)}).join(J)+J:"")+VZ1(Z)}return K($)}function jD0($,Q,J){J=J||{};var K=J.newline?`
`:"",Y=" {"+K,q=K+"}",Z=K0(Z1($),function(W){return W+Y+K0(Z1($[W]),function(F){return F+":"+$[W][F]+";"}).join(K)+q}).join(K),X=K0(Z1(Q),function(W){return"@keyframes "+W+Y+K0(Z1(Q[W]),function(F){return F+Y+K0(Z1(Q[W][F]),function(H){var B=Q[W][F][H];if(H==="d")B='path("'+B+'")';return H+":"+B+";"}).join(K)+q}).join(K)+q}).join(K);if(!Z&&!X)return"";return["<![CDATA[",Z,X,"]]>"].join(K)}function iG($){return{zrId:$,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function Or($,Q,J,K){return B7("svg","root",{width:$,height:Q,xmlns:CD0,"xmlns:xlink":Gr,version:"1.1",baseProfile:"full",viewBox:K?"0 0 "+$+" "+Q:!1},J)}var RZ1=0;function Qv(){return RZ1++}var ED0={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},eW="transform-origin";function GZ1($,Q,J){var K=Q0({},$.shape);Q0(K,Q),$.buildPath(J,K);var Y=new eh;return Y.reset(zE($)),J.rebuildPath(Y,1),Y.generateStr(),Y.getStr()}function wZ1($,Q){var{originX:J,originY:K}=Q;if(J||K)$[eW]=J+"px "+K+"px"}var OZ1={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function hD0($,Q){var J=Q.zrId+"-ani-"+Q.cssAnimIdx++;return Q.cssAnims[J]=$,J}function TZ1($,Q,J){var K=$.shape.paths,Y={},q,Z;if(v(K,function(W){var F=iG(J.zrId);F.animation=!0,sG(W,{},F,!0);var{cssAnims:H,cssNodes:B}=F,z=Z1(H),A=z.length;if(!A)return;Z=z[A-1];var R=H[Z];for(var G in R){var w=R[G];Y[G]=Y[G]||{d:""},Y[G].d+=w.d||""}for(var T in B){var D=B[T].animation;if(D.indexOf(Z)>=0)q=D}}),!q)return;Q.d=!1;var X=hD0(Y,J);return q.replace(Z,X)}function LD0($){return B0($)?ED0[$]?"cubic-bezier("+ED0[$]+")":XN($)?$:"":""}function sG($,Q,J,K){var Y=$.animators,q=Y.length,Z=[];if($ instanceof LZ){var X=TZ1($,Q,J);if(X)Z.push(X);else if(!q)return}else if(!q)return;var W={};for(var F=0;F<q;F++){var H=Y[F],B=[H.getMaxTime()/1000+"s"],z=LD0(H.getClip().easing),A=H.getDelay();if(z)B.push(z);else B.push("linear");if(A)B.push(A/1000+"s");if(H.getLoop())B.push("infinite");var R=B.join(" ");W[R]=W[R]||[R,[]],W[R][1].push(H)}function G(D){var P=D[1],j=P.length,E={},L={},h={},_="animation-timing-function";function S(X1,r0,G1){var l0=X1.getTracks(),z1=X1.getMaxTime();for(var X5=0;X5<l0.length;X5++){var v1=l0[X5];if(v1.needsAnimate()){var{keyframes:H5,propName:N5}=v1;if(G1&&(N5=G1(N5)),N5)for(var k6=0;k6<H5.length;k6++){var S1=H5[k6],z7=Math.round(S1.time/z1*100)+"%",B9=LD0(S1.easing),t9=S1.rawValue;if(B0(t9)||U1(t9)){if(r0[z7]=r0[z7]||{},r0[z7][N5]=S1.rawValue,B9)r0[z7][_]=B9}}}}}for(var I=0;I<j;I++){var M=P[I],y=M.targetName;if(!y)!K&&S(M,E);else if(y==="shape")S(M,L)}for(var b in E){var u={};HN(u,$),Q0(u,E[b]);var c=AE(u),m=E[b][_];if(h[b]=c?{transform:c}:{},wZ1(h[b],u),m)h[b][_]=m}var i,o=!0;for(var b in L){h[b]=h[b]||{};var n=!i,m=L[b][_];if(n)i=new n7;var e=i.len();i.reset(),h[b].d=GZ1($,L[b],i);var Z0=i.len();if(!n&&e!==Z0){o=!1;break}if(m)h[b][_]=m}if(!o)for(var b in h)delete h[b].d;if(!K)for(var I=0;I<j;I++){var M=P[I],y=M.targetName;if(y==="style")S(M,h,function(l0){return OZ1[l0]})}var q0=Z1(h),k0=!0,c0;for(var I=1;I<q0.length;I++){var J1=q0[I-1],W1=q0[I];if(h[J1][eW]!==h[W1][eW]){k0=!1;break}c0=h[J1][eW]}if(k0&&c0){for(var b in h)if(h[b][eW])delete h[b][eW];Q[eW]=c0}if(j1(q0,function(X1){return Z1(h[X1]).length>0}).length){var h1=hD0(h,J);return h1+" "+D[0]+" both"}}for(var w in W){var X=G(W[w]);if(X)Z.push(X)}if(Z.length){var T=J.zrId+"-cls-"+Qv();J.cssNodes["."+T]={animation:Z.join(",")},Q.class=T}}function SD0($,Q,J){if(!$.ignore)if($.isSilent()){var K={"pointer-events":"none"};vD0(K,Q,J,!0)}else{var Y=$.states.emphasis&&$.states.emphasis.style?$.states.emphasis.style:{},q=Y.fill;if(!q){var Z=$.style&&$.style.fill,X=$.states.select&&$.states.select.style&&$.states.select.style.fill,W=$.currentStates.indexOf("select")>=0?X||Z:Z;if(W)q=IR(W)}var F=Y.lineWidth;if(F){var H=!Y.strokeNoScale&&$.transform?$.transform[0]:1;F=F/H}var K={cursor:"pointer"};if(q)K.fill=q;if(Y.stroke)K.stroke=Y.stroke;if(F)K["stroke-width"]=F;vD0(K,Q,J,!0)}}function vD0($,Q,J,K){var Y=JSON.stringify($),q=J.cssStyleCache[Y];if(!q)q=J.zrId+"-cls-"+Qv(),J.cssStyleCache[Y]=q,J.cssNodes["."+q+(K?":hover":"")]=$;Q.class=Q.class?Q.class+" "+q:q}var oG=Math.round;function MD0($){return $&&B0($.src)}function bD0($){return $&&v0($.toDataURL)}function Tr($,Q,J,K){Rr(function(Y,q){var Z=Y==="fill"||Y==="stroke";if(Z&&BE(q))kr(Q,$,Y,K);else if(Z&&MR(q))jr(J,$,Y,K);else $[Y]=q;if(Z&&K.ssr&&q==="none")$["pointer-events"]="visible"},Q,J,!1),LZ1(J,$,K)}function Dr($,Q){var J=GV0(Q);if(J){if(J.each(function(K,Y){K!=null&&($[(wr+Y).toLowerCase()]=K+"")}),Q.isSilent())$[wr+"silent"]="true"}}function _D0($){return PJ($[0]-1)&&PJ($[1])&&PJ($[2])&&PJ($[3]-1)}function DZ1($){return PJ($[4])&&PJ($[5])}function Cr($,Q,J){if(Q&&!(DZ1(Q)&&_D0(Q))){var K=J?10:1e4;$.transform=_D0(Q)?"translate("+oG(Q[4]*K)/K+" "+oG(Q[5]*K)/K+")":lA0(Q)}}function fD0($,Q,J){var K=$.points,Y=[];for(var q=0;q<K.length;q++)Y.push(oG(K[q][0]*J)/J),Y.push(oG(K[q][1]*J)/J);Q.points=Y.join(" ")}function ID0($){return!$.smooth}function CZ1($){var Q=K0($,function(J){return typeof J==="string"?[J,J]:J});return function(J,K,Y){for(var q=0;q<Q.length;q++){var Z=Q[q],X=J[Z[0]];if(X!=null)K[Z[1]]=oG(X*Y)/Y}}}var PZ1={circle:[CZ1(["cx","cy","r"])],polyline:[fD0,ID0],polygon:[fD0,ID0]};function kZ1($){var Q=$.animators;for(var J=0;J<Q.length;J++)if(Q[J].targetName==="shape")return!0;return!1}function gD0($,Q){var{style:J,shape:K}=$,Y=PZ1[$.type],q={},Z=Q.animation,X="path",W=$.style.strokePercent,F=Q.compress&&zE($)||4;if(Y&&!Q.willUpdate&&!(Y[1]&&!Y[1](K))&&!(Z&&kZ1($))&&!(W<1)){X=$.type;var H=Math.pow(10,F);Y[0](K,q,H)}else{var B=!$.path||$.shapeChanged();if(!$.path)$.createPathProxy();var z=$.path;if(B)z.beginPath(),$.buildPath(z,$.shape),$.pathUpdated();var A=z.getVersion(),R=$,G=R.__svgPathBuilder;if(R.__svgPathVersion!==A||!G||W!==R.__svgPathStrokePercent){if(!G)G=R.__svgPathBuilder=new eh;G.reset(F),z.rebuildPath(G,W),G.generateStr(),R.__svgPathVersion=A,R.__svgPathStrokePercent=W}q.d=G.getStr()}return Cr(q,$.transform),Tr(q,J,$,Q),Dr(q,$),Q.animation&&sG($,q,Q),Q.emphasis&&SD0($,q,Q),B7(X,$.id+"",q)}function jZ1($,Q){var J=$.style,K=J.image;if(K&&!B0(K)){if(MD0(K))K=K.src;else if(bD0(K))K=K.toDataURL()}if(!K)return;var Y=J.x||0,q=J.y||0,Z=J.width,X=J.height,W={href:K,width:Z,height:X};if(Y)W.x=Y;if(q)W.y=q;return Cr(W,$.transform),Tr(W,J,$,Q),Dr(W,$),Q.animation&&sG($,W,Q),B7("image",$.id+"",W)}function EZ1($,Q){var J=$.style,K=J.text;if(K!=null&&(K+=""),!K||isNaN(J.x)||isNaN(J.y))return;var Y=J.font||d4,q=J.x||0,Z=iA0(J.y||0,HW(Y),J.textBaseline),X=rA0[J.textAlign]||J.textAlign,W={"dominant-baseline":"central","text-anchor":X};if(sd(J)){var F="",H=J.fontStyle,B=id(J.fontSize);if(!parseFloat(B))return;var z=J.fontFamily||vp,A=J.fontWeight;if(F+="font-size:"+B+";font-family:"+z+";",H&&H!=="normal")F+="font-style:"+H+";";if(A&&A!=="normal")F+="font-weight:"+A+";";W.style=F}else W.style="font: "+Y;if(K.match(/\s/))W["xml:space"]="preserve";if(q)W.x=q;if(Z)W.y=Z;return Cr(W,$.transform),Tr(W,J,$,Q),Dr(W,$),Q.animation&&sG($,W,Q),B7("text",$.id+"",W,void 0,K)}function Pr($,Q){if($ instanceof t0)return gD0($,Q);else if($ instanceof n5)return jZ1($,Q);else if($ instanceof ZY)return EZ1($,Q)}function LZ1($,Q,J){var K=$.style;if(sA0(K)){var Y=oA0($),q=J.shadowCache,Z=q[Y];if(!Z){var X=$.getGlobalScale(),W=X[0],F=X[1];if(!W||!F)return;var H=K.shadowOffsetX||0,B=K.shadowOffsetY||0,z=K.shadowBlur,A=GZ(K.shadowColor),R=A.opacity,G=A.color,w=z/2/W,T=z/2/F,D=w+" "+T;Z=J.zrId+"-s"+J.shadowIdx++,J.defs[Z]=B7("filter",Z,{id:Z,x:"-100%",y:"-100%",width:"300%",height:"300%"},[B7("feDropShadow","",{dx:H/W,dy:B/F,stdDeviation:D,"flood-color":G,"flood-opacity":R})]),q[Y]=Z}Q.filter=bR(Z)}}function kr($,Q,J,K){var Y=$[J],q,Z={gradientUnits:Y.global?"userSpaceOnUse":"objectBoundingBox"};if(HE(Y))q="linearGradient",Z.x1=Y.x,Z.y1=Y.y,Z.x2=Y.x2,Z.y2=Y.y2;else if(NE(Y))q="radialGradient",Z.cx=f0(Y.x,0.5),Z.cy=f0(Y.y,0.5),Z.r=f0(Y.r,0.5);else{m7("Illegal gradient type.");return}var X=Y.colorStops,W=[];for(var F=0,H=X.length;F<H;++F){var B=UE(X[F].offset)*100+"%",z=X[F].color,A=GZ(z),R=A.color,G=A.opacity,w={offset:B};if(w["stop-color"]=R,G<1)w["stop-opacity"]=G;W.push(B7("stop",F+"",w))}var T=B7(q,"",Z,W),D=rG(T),P=K.gradientCache,j=P[D];if(!j)j=K.zrId+"-g"+K.gradientIdx++,P[D]=j,Z.id=j,K.defs[j]=B7(q,j,Z,W);Q[J]=bR(j)}function jr($,Q,J,K){var Y=$.style[J],q=$.getBoundingRect(),Z={},X=Y.repeat,W=X==="no-repeat",F=X==="repeat-x",H=X==="repeat-y",B;if($d(Y)){var{imageWidth:z,imageHeight:A}=Y,R=void 0,G=Y.image;if(B0(G))R=G;else if(MD0(G))R=G.src;else if(bD0(G))R=G.toDataURL();if(typeof Image>"u"){var w="Image width/height must been given explictly in svg-ssr renderer.";S0(z,w),S0(A,w)}else if(z==null||A==null){var T=function(I,M){if(I){var y=I.elm,b=z||M.width,u=A||M.height;if(I.tag==="pattern"){if(F)u=1,b/=q.width;else if(H)b=1,u/=q.height}if(I.attrs.width=b,I.attrs.height=u,y)y.setAttribute("width",b),y.setAttribute("height",u)}},D=iR(R,null,$,function(I){W||T(L,I),T(B,I)});if(D&&D.width&&D.height)z=z||D.width,A=A||D.height}B=B7("image","img",{href:R,width:z,height:A}),Z.width=z,Z.height=A}else if(Y.svgElement)B=y0(Y.svgElement),Z.width=Y.svgWidth,Z.height=Y.svgHeight;if(!B)return;var P,j;if(W)P=j=1;else if(F)j=1,P=Z.width/q.width;else if(H)P=1,j=Z.height/q.height;else Z.patternUnits="userSpaceOnUse";if(P!=null&&!isNaN(P))Z.width=P;if(j!=null&&!isNaN(j))Z.height=j;var E=AE(Y);E&&(Z.patternTransform=E);var L=B7("pattern","",Z,[B]),h=rG(L),_=K.patternCache,S=_[h];if(!S)S=K.zrId+"-p"+K.patternIdx++,_[h]=S,Z.id=S,L=K.defs[S]=B7("pattern",S,Z,[B]);Q[J]=bR(S)}function yD0($,Q,J){var{clipPathCache:K,defs:Y}=J,q=K[$.id];if(!q){q=J.zrId+"-c"+J.clipPathIdx++;var Z={id:q};K[$.id]=q,Y[q]=B7("clipPath",q,Z,[gD0($,J)])}Q["clip-path"]=bR(q)}function Er($){return document.createTextNode($)}function pZ($,Q,J){$.insertBefore(Q,J)}function Lr($,Q){$.removeChild(Q)}function hr($,Q){$.appendChild(Q)}function vr($){return $.parentNode}function Sr($){return $.nextSibling}function Jv($,Q){$.textContent=Q}var xD0=58,vZ1=120,SZ1=B7("","");function _r($){return $===void 0}function dJ($){return $!==void 0}function _Z1($,Q,J){var K={};for(var Y=Q;Y<=J;++Y){var q=$[Y].key;if(q!==void 0){if(K[q]!=null)console.error("Duplicate key "+q);K[q]=Y}}return K}function aG($,Q){var J=$.key===Q.key,K=$.tag===Q.tag;return K&&J}function tG($){var Q,J=$.children,K=$.tag;if(dJ(K)){var Y=$.elm=$v(K);if(Yv(SZ1,$),J0(J))for(Q=0;Q<J.length;++Q){var q=J[Q];if(q!=null)hr(Y,tG(q))}else if(dJ($.text)&&!I0($.text))hr(Y,Er($.text))}else $.elm=Er($.text);return $.elm}function cD0($,Q,J,K,Y){for(;K<=Y;++K){var q=J[K];if(q!=null)pZ($,tG(q),Q)}}function Kv($,Q,J,K){for(;J<=K;++J){var Y=Q[J];if(Y!=null)if(dJ(Y.tag)){var q=vr(Y.elm);Lr(q,Y.elm)}else Lr($,Y.elm)}}function Yv($,Q){var J,K=Q.elm,Y=$&&$.attrs||{},q=Q.attrs||{};if(Y===q)return;for(J in q){var Z=q[J],X=Y[J];if(X!==Z)if(Z===!0)K.setAttribute(J,"");else if(Z===!1)K.removeAttribute(J);else if(J==="style")K.style.cssText=Z;else if(J.charCodeAt(0)!==vZ1)K.setAttribute(J,Z);else if(J==="xmlns:xlink"||J==="xmlns")K.setAttributeNS(PD0,J,Z);else if(J.charCodeAt(3)===xD0)K.setAttributeNS(kD0,J,Z);else if(J.charCodeAt(5)===xD0)K.setAttributeNS(Gr,J,Z);else K.setAttribute(J,Z)}for(J in Y)if(!(J in q))K.removeAttribute(J)}function fZ1($,Q,J){var K=0,Y=0,q=Q.length-1,Z=Q[0],X=Q[q],W=J.length-1,F=J[0],H=J[W],B,z,A,R;while(K<=q&&Y<=W)if(Z==null)Z=Q[++K];else if(X==null)X=Q[--q];else if(F==null)F=J[++Y];else if(H==null)H=J[--W];else if(aG(Z,F))tN(Z,F),Z=Q[++K],F=J[++Y];else if(aG(X,H))tN(X,H),X=Q[--q],H=J[--W];else if(aG(Z,H))tN(Z,H),pZ($,Z.elm,Sr(X.elm)),Z=Q[++K],H=J[--W];else if(aG(X,F))tN(X,F),pZ($,X.elm,Z.elm),X=Q[--q],F=J[++Y];else{if(_r(B))B=_Z1(Q,K,q);if(z=B[F.key],_r(z))pZ($,tG(F),Z.elm);else if(A=Q[z],A.tag!==F.tag)pZ($,tG(F),Z.elm);else tN(A,F),Q[z]=void 0,pZ($,A.elm,Z.elm);F=J[++Y]}if(K<=q||Y<=W)if(K>q)R=J[W+1]==null?null:J[W+1].elm,cD0($,R,J,Y,W);else Kv($,Q,K,q)}function tN($,Q){var J=Q.elm=$.elm,K=$.children,Y=Q.children;if($===Q)return;if(Yv($,Q),_r(Q.text)){if(dJ(K)&&dJ(Y)){if(K!==Y)fZ1(J,K,Y)}else if(dJ(Y)){if(dJ($.text))Jv(J,"");cD0(J,null,Y,0,Y.length-1)}else if(dJ(K))Kv(J,K,0,K.length-1);else if(dJ($.text))Jv(J,"")}else if($.text!==Q.text){if(dJ(K))Kv(J,K,0,K.length-1);Jv(J,Q.text)}}function fr($,Q){if(aG($,Q))tN($,Q);else{var J=$.elm,K=vr(J);if(tG(Q),K!==null)pZ(K,Q.elm,Sr(J)),Kv(K,[$],0,0)}return Q}var IZ1=0,MZ1=function(){function $(Q,J,K){if(this.type="svg",this.refreshHover=uD0("refreshHover"),this.configLayer=uD0("configLayer"),this.storage=J,this._opts=K=Q0({},K),this.root=Q,this._id="zr"+IZ1++,this._oldVNode=Or(K.width,K.height),Q&&!K.ssr){var Y=this._viewport=document.createElement("div");Y.style.cssText="position:relative;overflow:hidden";var q=this._svgDom=this._oldVNode.elm=$v("svg");Yv(null,this._oldVNode),Y.appendChild(q),Q.appendChild(Y)}this.resize(K.width,K.height)}return $.prototype.getType=function(){return this.type},$.prototype.getViewportRoot=function(){return this._viewport},$.prototype.getViewportRootOffset=function(){var Q=this.getViewportRoot();if(Q)return{offsetLeft:Q.offsetLeft||0,offsetTop:Q.offsetTop||0}},$.prototype.getSvgDom=function(){return this._svgDom},$.prototype.refresh=function(){if(this.root){var Q=this.renderToVNode({willUpdate:!0});Q.attrs.style="position:absolute;left:0;top:0;user-select:none",fr(this._oldVNode,Q),this._oldVNode=Q}},$.prototype.renderOneToVNode=function(Q){return Pr(Q,iG(this._id))},$.prototype.renderToVNode=function(Q){Q=Q||{};var J=this.storage.getDisplayList(!0),K=this._width,Y=this._height,q=iG(this._id);q.animation=Q.animation,q.willUpdate=Q.willUpdate,q.compress=Q.compress,q.emphasis=Q.emphasis,q.ssr=this._opts.ssr;var Z=[],X=this._bgVNode=bZ1(K,Y,this._backgroundColor,q);X&&Z.push(X);var W=!Q.compress?this._mainVNode=B7("g","main",{},[]):null;this._paintList(J,q,W?W.children:Z),W&&Z.push(W);var F=K0(Z1(q.defs),function(z){return q.defs[z]});if(F.length)Z.push(B7("defs","defs",{},F));if(Q.animation){var H=jD0(q.cssNodes,q.cssAnims,{newline:!0});if(H){var B=B7("style","stl",{},[],H);Z.push(B)}}return Or(K,Y,Z,Q.useViewBox)},$.prototype.renderToString=function(Q){return Q=Q||{},rG(this.renderToVNode({animation:f0(Q.cssAnimation,!0),emphasis:f0(Q.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:f0(Q.useViewBox,!0)}),{newline:!0})},$.prototype.setBackgroundColor=function(Q){this._backgroundColor=Q},$.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},$.prototype._paintList=function(Q,J,K){var Y=Q.length,q=[],Z=0,X,W,F=0;for(var H=0;H<Y;H++){var B=Q[H];if(!B.invisible){var z=B.__clipPaths,A=z&&z.length||0,R=W&&W.length||0,G=void 0;for(G=Math.max(A-1,R-1);G>=0;G--)if(z&&W&&z[G]===W[G])break;for(var w=R-1;w>G;w--)Z--,X=q[Z-1];for(var T=G+1;T<A;T++){var D={};yD0(z[T],D,J);var P=B7("g","clip-g-"+F++,D,[]);(X?X.children:K).push(P),q[Z++]=P,X=P}W=z;var j=Pr(B,J);if(j)(X?X.children:K).push(j)}}},$.prototype.resize=function(Q,J){var K=this._opts,Y=this.root,q=this._viewport;if(Q!=null&&(K.width=Q),J!=null&&(K.height=J),Y&&q)q.style.display="none",Q=fZ(Y,0,K),J=fZ(Y,1,K),q.style.display="";if(this._width!==Q||this._height!==J){if(this._width=Q,this._height=J,q){var Z=q.style;Z.width=Q+"px",Z.height=J+"px"}if(!MR(this._backgroundColor)){var X=this._svgDom;if(X)X.setAttribute("width",Q),X.setAttribute("height",J);var W=this._bgVNode&&this._bgVNode.elm;if(W)W.setAttribute("width",Q),W.setAttribute("height",J)}else this.refresh()}},$.prototype.getWidth=function(){return this._width},$.prototype.getHeight=function(){return this._height},$.prototype.dispose=function(){if(this.root)this.root.innerHTML="";this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},$.prototype.clear=function(){if(this._svgDom)this._svgDom.innerHTML=null;this._oldVNode=null},$.prototype.toDataURL=function(Q){var J=this.renderToString(),K="data:image/svg+xml;";if(Q)return J=aA0(J),J&&K+"base64,"+J;return K+"charset=UTF-8,"+encodeURIComponent(J)},$}();function uD0($){return function(){m7('In SVG mode painter not support method "'+$+'"')}}function bZ1($,Q,J,K){var Y;if(J&&J!=="none")if(Y=B7("rect","bg",{width:$,height:Q,x:"0",y:"0"}),BE(J))kr({fill:J},Y.attrs,"fill",K);else if(MR(J))jr({style:{fill:J},dirty:m5,getBoundingRect:function(){return{width:$,height:Q}}},Y.attrs,"fill",K);else{var q=GZ(J),Z=q.color,X=q.opacity;Y.attrs.fill=Z,X<1&&(Y.attrs["fill-opacity"]=X)}return Y}var mD0=MZ1;function Ir($){$.registerPainter("svg",mD0)}function pD0($,Q,J){var K=u7.createCanvas(),Y=Q.getWidth(),q=Q.getHeight(),Z=K.style;if(Z)Z.position="absolute",Z.left="0",Z.top="0",Z.width=Y+"px",Z.height=q+"px",K.setAttribute("data-zr-dom-id",$);return K.width=Y*J,K.height=q*J,K}var gZ1=function($){x(Q,$);function Q(J,K,Y){var q=$.call(this)||this;q.motionBlur=!1,q.lastFrameAlpha=0.7,q.dpr=1,q.virtual=!1,q.config={},q.incremental=!1,q.zlevel=0,q.maxRepaintRectCount=5,q.__dirty=!0,q.__firstTimePaint=!0,q.__used=!1,q.__drawIndex=0,q.__startIndex=0,q.__endIndex=0,q.__prevStartIndex=null,q.__prevEndIndex=null;var Z;if(Y=Y||WW,typeof J==="string")Z=pD0(J,K,Y);else if(I0(J))Z=J,J=Z.id;q.id=J,q.dom=Z;var X=Z.style;if(X)mj(Z),Z.onselectstart=function(){return!1},X.padding="0",X.margin="0",X.borderWidth="0";return q.painter=K,q.dpr=Y,q}return Q.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},Q.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},Q.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},Q.prototype.setUnpainted=function(){this.__firstTimePaint=!0},Q.prototype.createBackBuffer=function(){var J=this.dpr;if(this.domBack=pD0("back-"+this.id,this.painter,J),this.ctxBack=this.domBack.getContext("2d"),J!==1)this.ctxBack.scale(J,J)},Q.prototype.createRepaintRects=function(J,K,Y,q){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var Z=[],X=this.maxRepaintRectCount,W=!1,F=new u0(0,0,0,0);function H(D){if(!D.isFinite()||D.isZero())return;if(Z.length===0){var P=new u0(0,0,0,0);P.copy(D),Z.push(P)}else{var j=!1,E=1/0,L=0;for(var h=0;h<Z.length;++h){var _=Z[h];if(_.intersect(D)){var S=new u0(0,0,0,0);S.copy(_),S.union(D),Z[h]=S,j=!0;break}else if(W){F.copy(D),F.union(_);var I=D.width*D.height,M=_.width*_.height,y=F.width*F.height,b=y-I-M;if(b<E)E=b,L=h}}if(W)Z[L].union(D),j=!0;if(!j){var P=new u0(0,0,0,0);P.copy(D),Z.push(P)}if(!W)W=Z.length>=X}}for(var B=this.__startIndex;B<this.__endIndex;++B){var z=J[B];if(z){var A=z.shouldBePainted(Y,q,!0,!0),R=z.__isRendered&&(z.__dirty&_7||!A)?z.getPrevPaintRect():null;if(R)H(R);var G=A&&(z.__dirty&_7||!z.__isRendered)?z.getPaintRect():null;if(G)H(G)}}for(var B=this.__prevStartIndex;B<this.__prevEndIndex;++B){var z=K[B],A=z&&z.shouldBePainted(Y,q,!0,!0);if(z&&(!A||!z.__zr)&&z.__isRendered){var R=z.getPrevPaintRect();if(R)H(R)}}var w;do{w=!1;for(var B=0;B<Z.length;){if(Z[B].isZero()){Z.splice(B,1);continue}for(var T=B+1;T<Z.length;)if(Z[B].intersect(Z[T]))w=!0,Z[B].union(Z[T]),Z.splice(T,1);else T++;B++}}while(w);return this._paintRects=Z,Z},Q.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},Q.prototype.resize=function(J,K){var Y=this.dpr,q=this.dom,Z=q.style,X=this.domBack;if(Z)Z.width=J+"px",Z.height=K+"px";if(q.width=J*Y,q.height=K*Y,X){if(X.width=J*Y,X.height=K*Y,Y!==1)this.ctxBack.scale(Y,Y)}},Q.prototype.clear=function(J,K,Y){var q=this.dom,Z=this.ctx,X=q.width,W=q.height;K=K||this.clearColor;var F=this.motionBlur&&!J,H=this.lastFrameAlpha,B=this.dpr,z=this;if(F){if(!this.domBack)this.createBackBuffer();this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(q,0,0,X/B,W/B)}var A=this.domBack;function R(G,w,T,D){if(Z.clearRect(G,w,T,D),K&&K!=="transparent"){var P=void 0;if(FZ(K)){var j=K.global||K.__width===T&&K.__height===D;P=j&&K.__canvasGradient||vG(Z,K,{x:0,y:0,width:T,height:D}),K.__canvasGradient=P,K.__width=T,K.__height=D}else if(WA0(K))K.scaleX=K.scaleX||B,K.scaleY=K.scaleY||B,P=Rh(Z,K,{dirty:function(){z.setUnpainted(),z.painter.refresh()}});Z.save(),Z.fillStyle=P||K,Z.fillRect(G,w,T,D),Z.restore()}if(F)Z.save(),Z.globalAlpha=H,Z.drawImage(A,G,w,T,D),Z.restore()}if(!Y||F)R(0,0,X,W);else if(Y.length)v(Y,function(G){R(G.x*B,G.y*B,G.width*B,G.height*B)})},Q}(T7),qv=gZ1;var dD0=1e5,$F=314159,Zv=0.01,yZ1=0.001;function xZ1($){if(!$)return!1;if($.__builtin__)return!0;if(typeof $.resize!=="function"||typeof $.refresh!=="function")return!1;return!0}function cZ1($,Q){var J=document.createElement("div");return J.style.cssText=["position:relative","width:"+$+"px","height:"+Q+"px","padding:0","margin:0","border-width:0"].join(";")+";",J}var uZ1=function(){function $(Q,J,K,Y){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var q=!Q.nodeName||Q.nodeName.toUpperCase()==="CANVAS";this._opts=K=Q0({},K||{}),this.dpr=K.devicePixelRatio||WW,this._singleCanvas=q,this.root=Q;var Z=Q.style;if(Z)mj(Q),Q.innerHTML="";this.storage=J;var X=this._zlevelList;this._prevDisplayList=[];var W=this._layers;if(!q){this._width=fZ(Q,0,K),this._height=fZ(Q,1,K);var F=this._domRoot=cZ1(this._width,this._height);Q.appendChild(F)}else{var H=Q,B=H.width,z=H.height;if(K.width!=null)B=K.width;if(K.height!=null)z=K.height;this.dpr=K.devicePixelRatio||1,H.width=B*this.dpr,H.height=z*this.dpr,this._width=B,this._height=z;var A=new qv(H,this,this.dpr);A.__builtin__=!0,A.initContext(),W[$F]=A,A.zlevel=$F,X.push($F),this._domRoot=Q}}return $.prototype.getType=function(){return"canvas"},$.prototype.isSingleCanvas=function(){return this._singleCanvas},$.prototype.getViewportRoot=function(){return this._domRoot},$.prototype.getViewportRootOffset=function(){var Q=this.getViewportRoot();if(Q)return{offsetLeft:Q.offsetLeft||0,offsetTop:Q.offsetTop||0}},$.prototype.refresh=function(Q){var J=this.storage.getDisplayList(!0),K=this._prevDisplayList,Y=this._zlevelList;this._redrawId=Math.random(),this._paintList(J,K,Q,this._redrawId);for(var q=0;q<Y.length;q++){var Z=Y[q],X=this._layers[Z];if(!X.__builtin__&&X.refresh){var W=q===0?this._backgroundColor:null;X.refresh(W)}}if(this._opts.useDirtyRect)this._prevDisplayList=J.slice();return this},$.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},$.prototype._paintHoverList=function(Q){var J=Q.length,K=this._hoverlayer;if(K&&K.clear(),!J)return;var Y={inHover:!0,viewWidth:this._width,viewHeight:this._height},q;for(var Z=0;Z<J;Z++){var X=Q[Z];if(X.__inHover){if(!K)K=this._hoverlayer=this.getLayer(dD0);if(!q)q=K.ctx,q.save();IZ(q,X,Y,Z===J-1)}}if(q)q.restore()},$.prototype.getHoverLayer=function(){return this.getLayer(dD0)},$.prototype.paintOne=function(Q,J){Gh(Q,J)},$.prototype._paintList=function(Q,J,K,Y){if(this._redrawId!==Y)return;K=K||!1,this._updateLayerStatus(Q);var q=this._doPaintList(Q,J,K),Z=q.finished,X=q.needsRefreshHover;if(this._needsManuallyCompositing)this._compositeManually();if(X)this._paintHoverList(Q);if(!Z){var W=this;vR(function(){W._paintList(Q,J,K,Y)})}else this.eachLayer(function(F){F.afterBrush&&F.afterBrush()})},$.prototype._compositeManually=function(){var Q=this.getLayer($F).ctx,J=this._domRoot.width,K=this._domRoot.height;Q.clearRect(0,0,J,K),this.eachBuiltinLayer(function(Y){if(Y.virtual)Q.drawImage(Y.dom,0,0,J,K)})},$.prototype._doPaintList=function(Q,J,K){var Y=this,q=[],Z=this._opts.useDirtyRect;for(var X=0;X<this._zlevelList.length;X++){var W=this._zlevelList[X],F=this._layers[W];if(F.__builtin__&&F!==this._hoverlayer&&(F.__dirty||K))q.push(F)}var H=!0,B=!1,z=function(G){var w=q[G],T=w.ctx,D=Z&&w.createRepaintRects(Q,J,A._width,A._height),P=K?w.__startIndex:w.__drawIndex,j=!K&&w.incremental&&Date.now,E=j&&Date.now(),L=w.zlevel===A._zlevelList[0]?A._backgroundColor:null;if(w.__startIndex===w.__endIndex)w.clear(!1,L,D);else if(P===w.__startIndex){var h=Q[P];if(!h.incremental||!h.notClear||K)w.clear(!1,L,D)}if(P===-1)console.error("For some unknown reason. drawIndex is -1"),P=w.__startIndex;var _,S=function(b){var u={inHover:!1,allClipped:!1,prevEl:null,viewWidth:Y._width,viewHeight:Y._height};for(_=P;_<w.__endIndex;_++){var c=Q[_];if(c.__inHover)B=!0;if(Y._doPaintEl(c,w,Z,b,u,_===w.__endIndex-1),j){var m=Date.now()-E;if(m>15)break}}if(u.prevElClipPaths)T.restore()};if(D)if(D.length===0)_=w.__endIndex;else{var I=A.dpr;for(var M=0;M<D.length;++M){var y=D[M];T.save(),T.beginPath(),T.rect(y.x*I,y.y*I,y.width*I,y.height*I),T.clip(),S(y),T.restore()}}else T.save(),S(),T.restore();if(w.__drawIndex=_,w.__drawIndex<w.__endIndex)H=!1},A=this;for(var R=0;R<q.length;R++)z(R);if(L1.wxa)v(this._layers,function(G){if(G&&G.ctx&&G.ctx.draw)G.ctx.draw()});return{finished:H,needsRefreshHover:B}},$.prototype._doPaintEl=function(Q,J,K,Y,q,Z){var X=J.ctx;if(K){var W=Q.getPaintRect();if(!Y||W&&W.intersect(Y))IZ(X,Q,q,Z),Q.setPrevPaintRect(W)}else IZ(X,Q,q,Z)},$.prototype.getLayer=function(Q,J){if(this._singleCanvas&&!this._needsManuallyCompositing)Q=$F;var K=this._layers[Q];if(!K){if(K=new qv("zr_"+Q,this,this.dpr),K.zlevel=Q,K.__builtin__=!0,this._layerConfig[Q])K1(K,this._layerConfig[Q],!0);else if(this._layerConfig[Q-Zv])K1(K,this._layerConfig[Q-Zv],!0);if(J)K.virtual=J;this.insertLayer(Q,K),K.initContext()}return K},$.prototype.insertLayer=function(Q,J){var K=this._layers,Y=this._zlevelList,q=Y.length,Z=this._domRoot,X=null,W=-1;if(K[Q]){m7("ZLevel "+Q+" has been used already");return}if(!xZ1(J)){m7("Layer of zlevel "+Q+" is not valid");return}if(q>0&&Q>Y[0]){for(W=0;W<q-1;W++)if(Y[W]<Q&&Y[W+1]>Q)break;X=K[Y[W]]}if(Y.splice(W+1,0,Q),K[Q]=J,!J.virtual)if(X){var F=X.dom;if(F.nextSibling)Z.insertBefore(J.dom,F.nextSibling);else Z.appendChild(J.dom)}else if(Z.firstChild)Z.insertBefore(J.dom,Z.firstChild);else Z.appendChild(J.dom);J.painter||(J.painter=this)},$.prototype.eachLayer=function(Q,J){var K=this._zlevelList;for(var Y=0;Y<K.length;Y++){var q=K[Y];Q.call(J,this._layers[q],q)}},$.prototype.eachBuiltinLayer=function(Q,J){var K=this._zlevelList;for(var Y=0;Y<K.length;Y++){var q=K[Y],Z=this._layers[q];if(Z.__builtin__)Q.call(J,Z,q)}},$.prototype.eachOtherLayer=function(Q,J){var K=this._zlevelList;for(var Y=0;Y<K.length;Y++){var q=K[Y],Z=this._layers[q];if(!Z.__builtin__)Q.call(J,Z,q)}},$.prototype.getLayers=function(){return this._layers},$.prototype._updateLayerStatus=function(Q){this.eachBuiltinLayer(function(B,z){B.__dirty=B.__used=!1});function J(B){if(q){if(q.__endIndex!==B)q.__dirty=!0;q.__endIndex=B}}if(this._singleCanvas)for(var K=1;K<Q.length;K++){var Y=Q[K];if(Y.zlevel!==Q[K-1].zlevel||Y.incremental){this._needsManuallyCompositing=!0;break}}var q=null,Z=0,X,W;for(W=0;W<Q.length;W++){var Y=Q[W],F=Y.zlevel,H=void 0;if(X!==F)X=F,Z=0;if(Y.incremental)H=this.getLayer(F+yZ1,this._needsManuallyCompositing),H.incremental=!0,Z=1;else H=this.getLayer(F+(Z>0?Zv:0),this._needsManuallyCompositing);if(!H.__builtin__)m7("ZLevel "+F+" has been used by unkown layer "+H.id);if(H!==q){if(H.__used=!0,H.__startIndex!==W)H.__dirty=!0;if(H.__startIndex=W,!H.incremental)H.__drawIndex=W;else H.__drawIndex=-1;J(W),q=H}if(Y.__dirty&_7&&!Y.__inHover){if(H.__dirty=!0,H.incremental&&H.__drawIndex<0)H.__drawIndex=W}}J(W),this.eachBuiltinLayer(function(B,z){if(!B.__used&&B.getElementCount()>0)B.__dirty=!0,B.__startIndex=B.__endIndex=B.__drawIndex=0;if(B.__dirty&&B.__drawIndex<0)B.__drawIndex=B.__startIndex})},$.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},$.prototype._clearLayer=function(Q){Q.clear()},$.prototype.setBackgroundColor=function(Q){this._backgroundColor=Q,v(this._layers,function(J){J.setUnpainted()})},$.prototype.configLayer=function(Q,J){if(J){var K=this._layerConfig;if(!K[Q])K[Q]=J;else K1(K[Q],J,!0);for(var Y=0;Y<this._zlevelList.length;Y++){var q=this._zlevelList[Y];if(q===Q||q===Q+Zv){var Z=this._layers[q];K1(Z,K[Q],!0)}}}},$.prototype.delLayer=function(Q){var J=this._layers,K=this._zlevelList,Y=J[Q];if(!Y)return;Y.dom.parentNode.removeChild(Y.dom),delete J[Q],K.splice(o0(K,Q),1)},$.prototype.resize=function(Q,J){if(!this._domRoot.style){if(Q==null||J==null)return;this._width=Q,this._height=J,this.getLayer($F).resize(Q,J)}else{var K=this._domRoot;K.style.display="none";var Y=this._opts,q=this.root;if(Q!=null&&(Y.width=Q),J!=null&&(Y.height=J),Q=fZ(q,0,Y),J=fZ(q,1,Y),K.style.display="",this._width!==Q||J!==this._height){K.style.width=Q+"px",K.style.height=J+"px";for(var Z in this._layers)if(this._layers.hasOwnProperty(Z))this._layers[Z].resize(Q,J);this.refresh(!0)}this._width=Q,this._height=J}return this},$.prototype.clearLayer=function(Q){var J=this._layers[Q];if(J)J.clear()},$.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},$.prototype.getRenderedCanvas=function(Q){if(Q=Q||{},this._singleCanvas&&!this._compositeManually)return this._layers[$F].dom;var J=new qv("image",this,Q.pixelRatio||this.dpr);J.initContext(),J.clear(!1,Q.backgroundColor||this._backgroundColor);var K=J.ctx;if(Q.pixelRatio<=this.dpr){this.refresh();var Y=J.dom.width,q=J.dom.height;this.eachLayer(function(B){if(B.__builtin__)K.drawImage(B.dom,0,0,Y,q);else if(B.renderToCanvas)K.save(),B.renderToCanvas(K),K.restore()})}else{var Z={inHover:!1,viewWidth:this._width,viewHeight:this._height},X=this.storage.getDisplayList(!0);for(var W=0,F=X.length;W<F;W++){var H=X[W];IZ(K,H,Z,W===F-1)}}return J.dom},$.prototype.getWidth=function(){return this._width},$.prototype.getHeight=function(){return this._height},$}(),nD0=uZ1;function Mr($){$.registerPainter("canvas",nD0)}var mZ1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.hasSymbolVisual=!0,J}return Q.prototype.getInitialData=function(J){var K=J.coordinateSystem;if(K!=="polar"&&K!=="cartesian2d")throw Error("Line not support coordinateSystem besides cartesian and polar");return X8(null,this,{useEncodeDefaulter:!0})},Q.prototype.getLegendIcon=function(J){var K=new _0,Y=j5("line",0,J.itemHeight/2,J.itemWidth,0,J.lineStyle.stroke,!1);K.add(Y),Y.setStyle(J.lineStyle);var q=this.getData().getVisual("symbol"),Z=this.getData().getVisual("symbolRotate"),X=q==="none"?"circle":q,W=J.itemHeight*0.8,F=j5(X,(J.itemWidth-W)/2,(J.itemHeight-W)/2,W,W,J.itemStyle.fill);K.add(F),F.setStyle(J.itemStyle);var H=J.iconRotate==="inherit"?Z:J.iconRotate||0;if(F.rotation=H*Math.PI/180,F.setOrigin([J.itemWidth/2,J.itemHeight/2]),X.indexOf("empty")>-1)F.style.stroke=F.style.fill,F.style.fill=a.color.neutral00,F.style.lineWidth=2;return K},Q.type="series.line",Q.dependencies=["grid","polar"],Q.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},Q}(m1),lD0=mZ1;function AQ($,Q){var J=$.mapDimensionsAll("defaultedLabel"),K=J.length;if(K===1){var Y=GY($,Q,J[0]);return Y!=null?Y+"":null}else if(K){var q=[];for(var Z=0;Z<J.length;Z++)q.push(GY($,Q,J[Z]));return q.join(" ")}}function Xv($,Q){var J=$.mapDimensionsAll("defaultedLabel");if(!J0(Q))return Q+"";var K=[];for(var Y=0;Y<J.length;Y++){var q=$.getDimensionIndex(J[Y]);if(q>=0)K.push(Q[q])}return K.join(" ")}var pZ1=function($){x(Q,$);function Q(J,K,Y,q){var Z=$.call(this)||this;return Z.updateData(J,K,Y,q),Z}return Q.prototype._createSymbol=function(J,K,Y,q,Z,X){this.removeAll();var W=j5(J,-1,-1,2,2,null,X);W.attr({z2:f0(Z,100),culling:!0,scaleX:q[0]/2,scaleY:q[1]/2}),W.drift=dZ1,this._symbolType=J,this.add(W)},Q.prototype.stopSymbolAnimation=function(J){this.childAt(0).stopAnimation(null,J)},Q.prototype.getSymbolType=function(){return this._symbolType},Q.prototype.getSymbolPath=function(){return this.childAt(0)},Q.prototype.highlight=function(){p8(this.childAt(0))},Q.prototype.downplay=function(){d8(this.childAt(0))},Q.prototype.setZ=function(J,K){var Y=this.childAt(0);Y.zlevel=J,Y.z=K},Q.prototype.setDraggable=function(J,K){var Y=this.childAt(0);Y.draggable=J,Y.cursor=!K&&J?"move":Y.cursor},Q.prototype.updateData=function(J,K,Y,q){this.silent=!1;var Z=J.getItemVisual(K,"symbol")||"circle",X=J.hostModel,W=Q.getSymbolSize(J,K),F=Q.getSymbolZ2(J,K),H=Z!==this._symbolType,B=q&&q.disableAnimation;if(H){var z=J.getItemVisual(K,"symbolKeepAspect");this._createSymbol(Z,J,K,W,F,z)}else{var A=this.childAt(0);A.silent=!1;var R={scaleX:W[0]/2,scaleY:W[1]/2};B?A.attr(R):V1(A,R,X,K),t6(A)}if(this._updateCommon(J,K,W,Y,q),H){var A=this.childAt(0);if(!B){var R={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:A.style.opacity}};A.scaleX=A.scaleY=0,A.style.opacity=0,t1(A,R,X,K)}}if(B)this.childAt(0).stopAnimation("leave")},Q.prototype._updateCommon=function(J,K,Y,q,Z){var X=this.childAt(0),W=J.hostModel,F,H,B,z,A,R,G,w,T;if(q)F=q.emphasisItemStyle,H=q.blurItemStyle,B=q.selectItemStyle,z=q.focus,A=q.blurScope,G=q.labelStatesModels,w=q.hoverScale,T=q.cursorStyle,R=q.emphasisDisabled;if(!q||J.hasItemOption){var D=q&&q.itemModel?q.itemModel:J.getItemModel(K),P=D.getModel("emphasis");F=P.getModel("itemStyle").getItemStyle(),B=D.getModel(["select","itemStyle"]).getItemStyle(),H=D.getModel(["blur","itemStyle"]).getItemStyle(),z=P.get("focus"),A=P.get("blurScope"),R=P.get("disabled"),G=k5(D),w=P.getShallow("scale"),T=D.getShallow("cursor")}var j=J.getItemVisual(K,"symbolRotate");X.attr("rotation",(j||0)*Math.PI/180||0);var E=n9(J.getItemVisual(K,"symbolOffset"),Y);if(E)X.x=E[0],X.y=E[1];T&&X.attr("cursor",T);var L=J.getItemVisual(K,"style"),h=L.fill;if(X instanceof n5){var _=X.style;X.useStyle(Q0({image:_.image,x:_.x,y:_.y,width:_.width,height:_.height},L))}else{if(X.__isEmptyBrush)X.useStyle(Q0({},L));else X.useStyle(L);X.style.decal=null,X.setColor(h,Z&&Z.symbolInnerColor),X.style.strokeNoScale=!0}var S=J.getItemVisual(K,"liftZ"),I=this._z2;if(S!=null){if(I==null)this._z2=X.z2,X.z2+=S}else if(I!=null)X.z2=I,this._z2=null;var M=Z&&Z.useNameLabel;v5(X,G,{labelFetcher:W,labelDataIndex:K,defaultText:y,inheritColor:h,defaultOpacity:L.opacity});function y(c){return M?J.getName(c):AQ(J,c)}this._sizeX=Y[0]/2,this._sizeY=Y[1]/2;var b=X.ensureState("emphasis");b.style=F,X.ensureState("select").style=B,X.ensureState("blur").style=H;var u=w==null||w===!0?Math.max(1.1,3/this._sizeY):isFinite(w)&&w>0?+w:1;b.scaleX=this._sizeX*u,b.scaleY=this._sizeY*u,this.setSymbolScale(1),u1(this,z,A,R)},Q.prototype.setSymbolScale=function(J){this.scaleX=this.scaleY=J},Q.prototype.fadeOut=function(J,K,Y){var q=this.childAt(0),Z=m0(this).dataIndex,X=Y&&Y.animation;if(this.silent=q.silent=!0,Y&&Y.fadeLabel){var W=q.getTextContent();if(W)a3(W,{style:{opacity:0}},K,{dataIndex:Z,removeOpt:X,cb:function(){q.removeTextContent()}})}else q.removeTextContent();a3(q,{style:{opacity:0},scaleX:0,scaleY:0},K,{dataIndex:Z,cb:J,removeOpt:X})},Q.getSymbolSize=function(J,K){return FQ(J.getItemVisual(K,"symbolSize"))},Q.getSymbolZ2=function(J,K){return J.getItemVisual(K,"z2")},Q}(_0);function dZ1($,Q){this.parent.drift($,Q)}var CY=pZ1;function br($,Q,J,K){return Q&&!isNaN(Q[0])&&!isNaN(Q[1])&&!(K.isIgnore&&K.isIgnore(J))&&!(K.clipShape&&!K.clipShape.contain(Q[0],Q[1]))&&$.getItemVisual(J,"symbol")!=="none"}function rD0($){if($!=null&&!I0($))$={isIgnore:$};return $||{}}function iD0($){var Q=$.hostModel,J=Q.getModel("emphasis");return{emphasisItemStyle:J.getModel("itemStyle").getItemStyle(),blurItemStyle:Q.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:Q.getModel(["select","itemStyle"]).getItemStyle(),focus:J.get("focus"),blurScope:J.get("blurScope"),emphasisDisabled:J.get("disabled"),hoverScale:J.get("scale"),labelStatesModels:k5(Q),cursorStyle:Q.get("cursor")}}var nZ1=function(){function $(Q){this.group=new _0,this._SymbolCtor=Q||CY}return $.prototype.updateData=function(Q,J){this._progressiveEls=null,J=rD0(J);var K=this.group,Y=Q.hostModel,q=this._data,Z=this._SymbolCtor,X=J.disableAnimation,W=iD0(Q),F={disableAnimation:X},H=J.getSymbolPoint||function(B){return Q.getItemLayout(B)};if(!q)K.removeAll();Q.diff(q).add(function(B){var z=H(B);if(br(Q,z,B,J)){var A=new Z(Q,B,W,F);A.setPosition(z),Q.setItemGraphicEl(B,A),K.add(A)}}).update(function(B,z){var A=q.getItemGraphicEl(z),R=H(B);if(!br(Q,R,B,J)){K.remove(A);return}var G=Q.getItemVisual(B,"symbol")||"circle",w=A&&A.getSymbolType&&A.getSymbolType();if(!A||w&&w!==G)K.remove(A),A=new Z(Q,B,W,F),A.setPosition(R);else{A.updateData(Q,B,W,F);var T={x:R[0],y:R[1]};X?A.attr(T):V1(A,T,Y)}K.add(A),Q.setItemGraphicEl(B,A)}).remove(function(B){var z=q.getItemGraphicEl(B);z&&z.fadeOut(function(){K.remove(z)},Y)}).execute(),this._getSymbolPoint=H,this._data=Q},$.prototype.updateLayout=function(){var Q=this,J=this._data;if(J)J.eachItemGraphicEl(function(K,Y){var q=Q._getSymbolPoint(Y);K.setPosition(q),K.markRedraw()})},$.prototype.incrementalPrepareUpdate=function(Q){this._seriesScope=iD0(Q),this._data=null,this.group.removeAll()},$.prototype.incrementalUpdate=function(Q,J,K){this._progressiveEls=[],K=rD0(K);function Y(W){if(!W.isGroup)W.incremental=!0,W.ensureState("emphasis").hoverLayer=!0}for(var q=Q.start;q<Q.end;q++){var Z=J.getItemLayout(q);if(br(J,Z,q,K)){var X=new this._SymbolCtor(J,q,this._seriesScope);X.traverse(Y),X.setPosition(Z),this.group.add(X),J.setItemGraphicEl(q,X),this._progressiveEls.push(X)}}},$.prototype.eachRendered=function(Q){G4(this._progressiveEls||this.group,Q)},$.prototype.remove=function(Q){var J=this.group,K=this._data;if(K&&Q)K.eachItemGraphicEl(function(Y){Y.fadeOut(function(){J.remove(Y)},K.hostModel)});else J.removeAll()},$}(),nJ=nZ1;function Wv($,Q,J){var K=$.getBaseAxis(),Y=$.getOtherAxis(K),q=lZ1(Y,J),Z=K.dim,X=Y.dim,W=Q.mapDimension(X),F=Q.mapDimension(Z),H=X==="x"||X==="radius"?1:0,B=K0($.dimensions,function(R){return Q.mapDimension(R)}),z=!1,A=Q.getCalculationInfo("stackResultDimension");if(l9(Q,B[0]))z=!0,B[0]=A;if(l9(Q,B[1]))z=!0,B[1]=A;return{dataDimsForPoint:B,valueStart:q,valueAxisDim:X,baseAxisDim:Z,stacked:!!z,valueDim:W,baseDim:F,baseDataOffset:H,stackedOverDimension:Q.getCalculationInfo("stackedOverDimension")}}function lZ1($,Q){var J=0,K=$.scale.getExtent();if(Q==="start")J=K[0];else if(Q==="end")J=K[1];else if(U1(Q)&&!isNaN(Q))J=Q;else if(K[0]>0)J=K[0];else if(K[1]<0)J=K[1];return J}function Fv($,Q,J,K){var Y=NaN;if($.stacked)Y=J.get(J.getCalculationInfo("stackedOverDimension"),K);if(isNaN(Y))Y=$.valueStart;var q=$.baseDataOffset,Z=[];return Z[q]=J.get($.baseDim,K),Z[1-q]=Y,Q.dataToPoint(Z)}function rZ1($,Q){var J=[];return Q.diff($).add(function(K){J.push({cmd:"+",idx:K})}).update(function(K,Y){J.push({cmd:"=",idx:Y,idx1:K})}).remove(function(K){J.push({cmd:"-",idx:K})}).execute(),J}function gr($,Q,J,K,Y,q,Z,X){var W=rZ1($,Q),F=[],H=[],B=[],z=[],A=[],R=[],G=[],w=Wv(Y,Q,Z),T=$.getLayout("points")||[],D=Q.getLayout("points")||[];for(var P=0;P<W.length;P++){var j=W[P],E=!0,L=void 0,h=void 0;switch(j.cmd){case"=":L=j.idx*2,h=j.idx1*2;var _=T[L],S=T[L+1],I=D[h],M=D[h+1];if(isNaN(_)||isNaN(S))_=I,S=M;F.push(_,S),H.push(I,M),B.push(J[L],J[L+1]),z.push(K[h],K[h+1]),G.push(Q.getRawIndex(j.idx1));break;case"+":var y=j.idx,b=w.dataDimsForPoint,u=Y.dataToPoint([Q.get(b[0],y),Q.get(b[1],y)]);h=y*2,F.push(u[0],u[1]),H.push(D[h],D[h+1]);var c=Fv(w,Y,Q,y);B.push(c[0],c[1]),z.push(K[h],K[h+1]),G.push(Q.getRawIndex(y));break;case"-":E=!1}if(E)A.push(j),R.push(R.length)}R.sort(function(J1,W1){return G[J1]-G[W1]});var m=F.length,i=T4(m),o=T4(m),n=T4(m),e=T4(m),Z0=[];for(var P=0;P<R.length;P++){var q0=R[P],k0=P*2,c0=q0*2;i[k0]=F[c0],i[k0+1]=F[c0+1],o[k0]=H[c0],o[k0+1]=H[c0+1],n[k0]=B[c0],n[k0+1]=B[c0+1],e[k0]=z[c0],e[k0+1]=z[c0+1],Z0[P]=A[q0]}return{current:i,next:o,stackedOnCurrent:n,stackedOnNext:e,status:Z0}}var{min:dZ,max:nZ}=Math;function QF($,Q){return isNaN($)||isNaN(Q)}function yr($,Q,J,K,Y,q,Z,X,W){var F,H,B,z,A,R,G=J,w=0;for(;w<K;w++){var T=Q[G*2],D=Q[G*2+1];if(G>=Y||G<0)break;if(QF(T,D)){if(W){G+=q;continue}break}if(G===J)$[q>0?"moveTo":"lineTo"](T,D),B=T,z=D;else{var P=T-F,j=D-H;if(P*P+j*j<0.5){G+=q;continue}if(Z>0){var E=G+q,L=Q[E*2],h=Q[E*2+1];while(L===T&&h===D&&w<K)w++,E+=q,G+=q,L=Q[E*2],h=Q[E*2+1],T=Q[G*2],D=Q[G*2+1],P=T-F,j=D-H;var _=w+1;if(W)while(QF(L,h)&&_<K)_++,E+=q,L=Q[E*2],h=Q[E*2+1];var S=0.5,I=0,M=0,y=void 0,b=void 0;if(_>=K||QF(L,h))A=T,R=D;else{I=L-F,M=h-H;var u=T-F,c=L-T,m=D-H,i=h-D,o=void 0,n=void 0;if(X==="x"){o=Math.abs(u),n=Math.abs(c);var e=I>0?1:-1;A=T-e*o*Z,R=D,y=T+e*n*Z,b=D}else if(X==="y"){o=Math.abs(m),n=Math.abs(i);var Z0=M>0?1:-1;A=T,R=D-Z0*o*Z,y=T,b=D+Z0*n*Z}else o=Math.sqrt(u*u+m*m),n=Math.sqrt(c*c+i*i),S=n/(n+o),A=T-I*Z*(1-S),R=D-M*Z*(1-S),y=T+I*Z*S,b=D+M*Z*S,y=dZ(y,nZ(L,T)),b=dZ(b,nZ(h,D)),y=nZ(y,dZ(L,T)),b=nZ(b,dZ(h,D)),I=y-T,M=b-D,A=T-I*o/n,R=D-M*o/n,A=dZ(A,nZ(F,T)),R=dZ(R,nZ(H,D)),A=nZ(A,dZ(F,T)),R=nZ(R,dZ(H,D)),I=T-A,M=D-R,y=T+I*n/o,b=D+M*n/o}$.bezierCurveTo(B,z,A,R,T,D),B=y,z=b}else $.lineTo(T,D)}F=T,H=D,G+=q}return w}var sD0=function(){function $(){this.smooth=0,this.smoothConstraint=!0}return $}(),oD0=function($){x(Q,$);function Q(J){var K=$.call(this,J)||this;return K.type="ec-polyline",K}return Q.prototype.getDefaultStyle=function(){return{stroke:a.color.neutral99,fill:null}},Q.prototype.getDefaultShape=function(){return new sD0},Q.prototype.buildPath=function(J,K){var Y=K.points,q=0,Z=Y.length/2;if(K.connectNulls){for(;Z>0;Z--)if(!QF(Y[Z*2-2],Y[Z*2-1]))break;for(;q<Z;q++)if(!QF(Y[q*2],Y[q*2+1]))break}while(q<Z)q+=yr(J,Y,q,Z,Z,1,K.smooth,K.smoothMonotone,K.connectNulls)+1},Q.prototype.getPointOn=function(J,K){if(!this.path)this.createPathProxy(),this.buildPath(this.path,this.shape);var Y=this.path,q=Y.data,Z=n7.CMD,X,W,F=K==="x",H=[];for(var B=0;B<q.length;){var z=q[B++],A=void 0,R=void 0,G=void 0,w=void 0,T=void 0,D=void 0,P=void 0;switch(z){case Z.M:X=q[B++],W=q[B++];break;case Z.L:if(A=q[B++],R=q[B++],P=F?(J-X)/(A-X):(J-W)/(R-W),P<=1&&P>=0){var j=F?(R-W)*P+W:(A-X)*P+X;return F?[J,j]:[j,J]}X=A,W=R;break;case Z.C:A=q[B++],R=q[B++],G=q[B++],w=q[B++],T=q[B++],D=q[B++];var E=F?YW(X,A,G,T,J,H):YW(W,R,w,D,J,H);if(E>0)for(var L=0;L<E;L++){var h=H[L];if(h<=1&&h>=0){var j=F?m6(W,R,w,D,h):m6(X,A,G,T,h);return F?[J,j]:[j,J]}}X=T,W=D;break}}},Q}(t0);var iZ1=function($){x(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q}(sD0),Uv=function($){x(Q,$);function Q(J){var K=$.call(this,J)||this;return K.type="ec-polygon",K}return Q.prototype.getDefaultShape=function(){return new iZ1},Q.prototype.buildPath=function(J,K){var{points:Y,stackedOnPoints:q}=K,Z=0,X=Y.length/2,W=K.smoothMonotone;if(K.connectNulls){for(;X>0;X--)if(!QF(Y[X*2-2],Y[X*2-1]))break;for(;Z<X;Z++)if(!QF(Y[Z*2],Y[Z*2+1]))break}while(Z<X){var F=yr(J,Y,Z,X,X,1,K.smooth,W,K.connectNulls);yr(J,q,Z+F-1,F,X,-1,K.stackedOnSmooth,W,K.connectNulls),Z+=F+1,J.closePath()}},Q}(t0);function xr($,Q,J,K,Y){var q=$.getArea(),Z=q.x,X=q.y,W=q.width,F=q.height,H=J.get(["lineStyle","width"])||0;if(Z-=H/2,X-=H/2,W+=H,F+=H,W=Math.ceil(W),Z!==Math.floor(Z))Z=Math.floor(Z),W++;var B=new Q1({shape:{x:Z,y:X,width:W,height:F}});if(Q){var z=$.getBaseAxis(),A=z.isHorizontal(),R=z.inverse;if(A){if(R)B.shape.x+=W;B.shape.width=0}else{if(!R)B.shape.y+=F;B.shape.height=0}var G=v0(Y)?function(w){Y(w,B)}:null;t1(B,{shape:{width:W,height:F,x:Z,y:X}},J,null,K,G)}return B}function cr($,Q,J){var K=$.getArea(),Y=d5(K.r0,1),q=d5(K.r,1),Z=new I6({shape:{cx:d5($.cx,1),cy:d5($.cy,1),r0:Y,r:q,startAngle:K.startAngle,endAngle:K.endAngle,clockwise:K.clockwise}});if(Q){var X=$.getBaseAxis().dim==="angle";if(X)Z.shape.endAngle=K.startAngle;else Z.shape.r=Y;t1(Z,{shape:{endAngle:K.endAngle,r:q}},J)}return Z}function lJ($,Q,J,K,Y){if(!$)return null;else if($.type==="polar")return cr($,Q,J);else if($.type==="cartesian2d")return xr($,Q,J,K,Y);return null}function r9($,Q){return $.type===Q}function aD0($,Q){if($.length!==Q.length)return;for(var J=0;J<$.length;J++)if($[J]!==Q[J])return;return!0}function tD0($){var Q=1/0,J=1/0,K=-1/0,Y=-1/0;for(var q=0;q<$.length;){var Z=$[q++],X=$[q++];if(!isNaN(Z))Q=Math.min(Z,Q),K=Math.max(Z,K);if(!isNaN(X))J=Math.min(X,J),Y=Math.max(X,Y)}return[[Q,J],[K,Y]]}function eD0($,Q){var J=tD0($),K=J[0],Y=J[1],q=tD0(Q),Z=q[0],X=q[1];return Math.max(Math.abs(K[0]-Z[0]),Math.abs(K[1]-Z[1]),Math.abs(Y[0]-X[0]),Math.abs(Y[1]-X[1]))}function $C0($){return U1($)?$:$?0.5:0}function sZ1($,Q,J){if(!J.valueDim)return[];var K=Q.count(),Y=T4(K*2);for(var q=0;q<K;q++){var Z=Fv(J,$,Q,q);Y[q*2]=Z[0],Y[q*2+1]=Z[1]}return Y}function lZ($,Q,J,K,Y){var q=J.getBaseAxis(),Z=q.dim==="x"||q.dim==="radius"?0:1,X=[],W=0,F=[],H=[],B=[],z=[];if(Y){for(W=0;W<$.length;W+=2){var A=Q||$;if(!isNaN(A[W])&&!isNaN(A[W+1]))z.push($[W],$[W+1])}$=z}for(W=0;W<$.length-2;W+=2)switch(B[0]=$[W+2],B[1]=$[W+3],H[0]=$[W],H[1]=$[W+1],X.push(H[0],H[1]),K){case"end":F[Z]=B[Z],F[1-Z]=H[1-Z],X.push(F[0],F[1]);break;case"middle":var R=(H[Z]+B[Z])/2,G=[];F[Z]=G[Z]=R,F[1-Z]=H[1-Z],G[1-Z]=B[1-Z],X.push(F[0],F[1]),X.push(G[0],G[1]);break;default:F[Z]=H[Z],F[1-Z]=B[1-Z],X.push(F[0],F[1])}return X.push($[W++],$[W++]),X}function oZ1($,Q){var J=[],K=$.length,Y,q;function Z(H,B,z){var A=H.coord,R=(z-A)/(B.coord-A),G=dA0(R,[H.color,B.color]);return{coord:z,color:G}}for(var X=0;X<K;X++){var W=$[X],F=W.coord;if(F<0)Y=W;else if(F>Q){if(q)J.push(Z(q,W,Q));else if(Y)J.push(Z(Y,W,0),Z(Y,W,Q));break}else{if(Y)J.push(Z(Y,W,0)),Y=null;J.push(W),q=W}}return J}function aZ1($,Q,J){var K=$.getVisual("visualMeta");if(!K||!K.length||!$.count())return;if(Q.type!=="cartesian2d"){console.warn("Visual map on line style is only supported on cartesian2d.");return}var Y,q;for(var Z=K.length-1;Z>=0;Z--){var X=$.getDimensionInfo(K[Z].dimension);if(Y=X&&X.coordDim,Y==="x"||Y==="y"){q=K[Z];break}}if(!q){console.warn("Visual map on line style only support x or y dimension.");return}var W=Q.getAxis(Y),F=K0(q.stops,function(P){return{coord:W.toGlobalCoord(W.dataToCoord(P.value)),color:P.color}}),H=F.length,B=q.outerColors.slice();if(H&&F[0].coord>F[H-1].coord)F.reverse(),B.reverse();var z=oZ1(F,Y==="x"?J.getWidth():J.getHeight()),A=z.length;if(!A&&H)return F[0].coord<0?B[1]?B[1]:F[H-1].color:B[0]?B[0]:F[0].color;var R=10,G=z[0].coord-R,w=z[A-1].coord+R,T=w-G;if(T<0.001)return"transparent";v(z,function(P){P.offset=(P.coord-G)/T}),z.push({offset:A?z[A-1].offset:0.5,color:B[1]||"transparent"}),z.unshift({offset:A?z[0].offset:0.5,color:B[0]||"transparent"});var D=new o3(0,0,0,0,z,!0);return D[Y]=G,D[Y+"2"]=w,D}function tZ1($,Q,J){var K=$.get("showAllSymbol"),Y=K==="auto";if(K&&!Y)return;var q=J.getAxesByScale("ordinal")[0];if(!q)return;if(Y&&eZ1(q,Q))return;var Z=Q.mapDimension(q.dim),X={};return v(q.getViewLabels(),function(W){var F=q.scale.getRawOrdinalNumber(W.tickValue);X[F]=1}),function(W){return!X.hasOwnProperty(Q.get(Z,W))}}function eZ1($,Q){var J=$.getExtent(),K=Math.abs(J[1]-J[0])/$.scale.count();isNaN(K)&&(K=0);var Y=Q.count(),q=Math.max(1,Math.round(Y/5));for(var Z=0;Z<Y;Z+=q)if(CY.getSymbolSize(Q,Z)[$.isHorizontal()?1:0]*1.5>K)return!1;return!0}function $21($,Q){return isNaN($)||isNaN(Q)}function Q21($){var Q=$.length/2;for(;Q>0;Q--)if(!$21($[Q*2-2],$[Q*2-1]))break;return Q-1}function QC0($,Q){return[$[Q*2],$[Q*2+1]]}function J21($,Q,J){var K=$.length/2,Y=J==="x"?0:1,q,Z,X=0,W=-1;for(var F=0;F<K;F++){if(Z=$[F*2+Y],isNaN(Z)||isNaN($[F*2+1-Y]))continue;if(F===0){q=Z;continue}if(q<=Q&&Z>=Q||q>=Q&&Z<=Q){W=F;break}X=F,q=Z}return{range:[X,W],t:(Q-q)/(Z-q)}}function JC0($){if($.get(["endLabel","show"]))return!0;for(var Q=0;Q<M7.length;Q++)if($.get([M7[Q],"endLabel","show"]))return!0;return!1}function ur($,Q,J,K){if(r9(Q,"cartesian2d")){var Y=K.getModel("endLabel"),q=Y.get("valueAnimation"),Z=K.getData(),X={lastFrameIndex:0},W=JC0(K)?function(A,R){$._endLabelOnDuring(A,R,Z,X,q,Y,Q)}:null,F=Q.getBaseAxis().isHorizontal(),H=xr(Q,J,K,function(){var A=$._endLabel;if(A&&J){if(X.originalX!=null)A.attr({x:X.originalX,y:X.originalY})}},W);if(!K.get("clip",!0)){var B=H.shape,z=Math.max(B.width,B.height);if(F)B.y-=z,B.height+=z*2;else B.x-=z,B.width+=z*2}if(W)W(1,H);return H}else{if(K.get(["endLabel","show"]))console.warn("endLabel is not supported for lines in polar systems.");return cr(Q,J,K)}}function K21($,Q){var J=Q.getBaseAxis(),K=J.isHorizontal(),Y=J.inverse,q=K?Y?"right":"left":"center",Z=K?"middle":Y?"top":"bottom";return{normal:{align:$.get("align")||q,verticalAlign:$.get("verticalAlign")||Z}}}var Y21=function($){x(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.init=function(){var J=new _0,K=new nJ;this.group.add(K.group),this._symbolDraw=K,this._lineGroup=J,this._changePolyState=O0(this._changePolyState,this)},Q.prototype.render=function(J,K,Y){var q=J.coordinateSystem,Z=this.group,X=J.getData(),W=J.getModel("lineStyle"),F=J.getModel("areaStyle"),H=X.getLayout("points")||[],B=q.type==="polar",z=this._coordSys,A=this._symbolDraw,R=this._polyline,G=this._polygon,w=this._lineGroup,T=!K.ssr&&J.get("animation"),D=!F.isEmpty(),P=F.get("origin"),j=Wv(q,X,P),E=D&&sZ1(q,X,j),L=J.get("showSymbol"),h=J.get("connectNulls"),_=L&&!B&&tZ1(J,X,q),S=this._data;if(S&&S.eachItemGraphicEl(function(J1,W1){if(J1.__temp)Z.remove(J1),S.setItemGraphicEl(W1,null)}),!L)A.remove();Z.add(w);var I=!B?J.get("step"):!1,M;if(q&&q.getArea&&J.get("clip",!0)){if(M=q.getArea(),M.width!=null)M.x-=0.1,M.y-=0.1,M.width+=0.2,M.height+=0.2;else if(M.r0)M.r0-=0.5,M.r+=0.5}this._clipShapeForSymbol=M;var y=aZ1(X,q,Y)||X.getVisual("style")[X.getVisual("drawType")];if(!(R&&z.type===q.type&&I===this._step)){if(L&&A.updateData(X,{isIgnore:_,clipShape:M,disableAnimation:!0,getSymbolPoint:function(J1){return[H[J1*2],H[J1*2+1]]}}),T&&this._initSymbolLabelAnimation(X,q,M),I){if(E)E=lZ(E,H,q,I,h);H=lZ(H,null,q,I,h)}if(R=this._newPolyline(H),D)G=this._newPolygon(H,E);else if(G)w.remove(G),G=this._polygon=null;if(!B)this._initOrUpdateEndLabel(J,q,YQ(y));w.setClipPath(ur(this,q,!0,J))}else{if(D&&!G)G=this._newPolygon(H,E);else if(G&&!D)w.remove(G),G=this._polygon=null;if(!B)this._initOrUpdateEndLabel(J,q,YQ(y));var b=w.getClipPath();if(b){var u=ur(this,q,!1,J);t1(b,{shape:u.shape},J)}else w.setClipPath(ur(this,q,!0,J));if(L&&A.updateData(X,{isIgnore:_,clipShape:M,disableAnimation:!0,getSymbolPoint:function(J1){return[H[J1*2],H[J1*2+1]]}}),!aD0(this._stackedOnPoints,E)||!aD0(this._points,H))if(T)this._doUpdateAnimation(X,E,q,Y,I,P,h);else{if(I){if(E)E=lZ(E,H,q,I,h);H=lZ(H,null,q,I,h)}R.setShape({points:H}),G&&G.setShape({points:H,stackedOnPoints:E})}}var c=J.getModel("emphasis"),m=c.get("focus"),i=c.get("blurScope"),o=c.get("disabled");if(R.useStyle(b0(W.getLineStyle(),{fill:"none",stroke:y,lineJoin:"bevel"})),M5(R,J,"lineStyle"),R.style.lineWidth>0&&J.get(["emphasis","lineStyle","width"])==="bolder"){var n=R.getState("emphasis").style;n.lineWidth=+R.style.lineWidth+1}m0(R).seriesIndex=J.seriesIndex,u1(R,m,i,o);var e=$C0(J.get("smooth")),Z0=J.get("smoothMonotone");if(R.setShape({smooth:e,smoothMonotone:Z0,connectNulls:h}),G){var q0=X.getCalculationInfo("stackedOnSeries"),k0=0;if(G.useStyle(b0(F.getAreaStyle(),{fill:y,opacity:0.7,lineJoin:"bevel",decal:X.getVisual("style").decal})),q0)k0=$C0(q0.get("smooth"));G.setShape({smooth:e,stackedOnSmooth:k0,smoothMonotone:Z0,connectNulls:h}),M5(G,J,"areaStyle"),m0(G).seriesIndex=J.seriesIndex,u1(G,m,i,o)}var c0=this._changePolyState;if(X.eachItemGraphicEl(function(J1){J1&&(J1.onHoverStateChange=c0)}),this._polyline.onHoverStateChange=c0,this._data=X,this._coordSys=q,this._stackedOnPoints=E,this._points=H,this._step=I,this._valueOrigin=P,J.get("triggerLineEvent"))this.packEventData(J,R),G&&this.packEventData(J,G)},Q.prototype.packEventData=function(J,K){m0(K).eventData={componentType:"series",componentSubType:"line",componentIndex:J.componentIndex,seriesIndex:J.seriesIndex,seriesName:J.name,seriesType:"line"}},Q.prototype.highlight=function(J,K,Y,q){var Z=J.getData(),X=r3(Z,q);if(this._changePolyState("emphasis"),!(X instanceof Array)&&X!=null&&X>=0){var W=Z.getLayout("points"),F=Z.getItemGraphicEl(X);if(!F){var H=W[X*2],B=W[X*2+1];if(isNaN(H)||isNaN(B))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(H,B))return;var z=J.get("zlevel")||0,A=J.get("z")||0;F=new CY(Z,X),F.x=H,F.y=B,F.setZ(z,A);var R=F.getSymbolPath().getTextContent();if(R)R.zlevel=z,R.z=A,R.z2=this._polyline.z2+1;F.__temp=!0,Z.setItemGraphicEl(X,F),F.stopSymbolAnimation(!0),this.group.add(F)}F.highlight()}else _1.prototype.highlight.call(this,J,K,Y,q)},Q.prototype.downplay=function(J,K,Y,q){var Z=J.getData(),X=r3(Z,q);if(this._changePolyState("normal"),X!=null&&X>=0){var W=Z.getItemGraphicEl(X);if(W)if(W.__temp)Z.setItemGraphicEl(X,null),this.group.remove(W);else W.downplay()}else _1.prototype.downplay.call(this,J,K,Y,q)},Q.prototype._changePolyState=function(J){var K=this._polygon;jW(this._polyline,J),K&&jW(K,J)},Q.prototype._newPolyline=function(J){var K=this._polyline;if(K)this._lineGroup.remove(K);return K=new oD0({shape:{points:J},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(K),this._polyline=K,K},Q.prototype._newPolygon=function(J,K){var Y=this._polygon;if(Y)this._lineGroup.remove(Y);return Y=new Uv({shape:{points:J,stackedOnPoints:K},segmentIgnoreThreshold:2}),this._lineGroup.add(Y),this._polygon=Y,Y},Q.prototype._initSymbolLabelAnimation=function(J,K,Y){var q,Z,X=K.getBaseAxis(),W=X.inverse;if(K.type==="cartesian2d")q=X.isHorizontal(),Z=!1;else if(K.type==="polar")q=X.dim==="angle",Z=!0;var F=J.hostModel,H=F.get("animationDuration");if(v0(H))H=H(null);var B=F.get("animationDelay")||0,z=v0(B)?B(null):B;J.eachItemGraphicEl(function(A,R){var G=A;if(G){var w=[A.x,A.y],T=void 0,D=void 0,P=void 0;if(Y)if(Z){var j=Y,E=K.pointToCoord(w);if(q)T=j.startAngle,D=j.endAngle,P=-E[1]/180*Math.PI;else T=j.r0,D=j.r,P=E[0]}else{var L=Y;if(q)T=L.x,D=L.x+L.width,P=A.x;else T=L.y+L.height,D=L.y,P=A.y}var h=D===T?0:(P-T)/(D-T);if(W)h=1-h;var _=v0(B)?B(R):H*h+z,S=G.getSymbolPath(),I=S.getTextContent();if(G.attr({scaleX:0,scaleY:0}),G.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:_}),I)I.animateFrom({style:{opacity:0}},{duration:300,delay:_});S.disableLabelAnimation=!0}})},Q.prototype._initOrUpdateEndLabel=function(J,K,Y){var q=J.getModel("endLabel");if(JC0(J)){var Z=J.getData(),X=this._polyline,W=Z.getLayout("points");if(!W){X.removeTextContent(),this._endLabel=null;return}var F=this._endLabel;if(!F)F=this._endLabel=new w1({z2:200}),F.ignoreClip=!0,X.setTextContent(this._endLabel),X.disableLabelAnimation=!0;var H=Q21(W);if(H>=0)v5(X,k5(J,"endLabel"),{inheritColor:Y,labelFetcher:J,labelDataIndex:H,defaultText:function(B,z,A){return A!=null?Xv(Z,A):AQ(Z,B)},enableTextSetter:!0},K21(q,K)),X.textConfig.position=null}else if(this._endLabel)this._polyline.removeTextContent(),this._endLabel=null},Q.prototype._endLabelOnDuring=function(J,K,Y,q,Z,X,W){var F=this._endLabel,H=this._polyline;if(F){if(J<1&&q.originalX==null)q.originalX=F.x,q.originalY=F.y;var B=Y.getLayout("points"),z=Y.hostModel,A=z.get("connectNulls"),R=X.get("precision"),G=X.get("distance")||0,w=W.getBaseAxis(),T=w.isHorizontal(),D=w.inverse,P=K.shape,j=D?T?P.x:P.y+P.height:T?P.x+P.width:P.y,E=(T?G:0)*(D?-1:1),L=(T?0:-G)*(D?-1:1),h=T?"x":"y",_=J21(B,j,h),S=_.range,I=S[1]-S[0],M=void 0;if(I>=1){if(I>1&&!A){var y=QC0(B,S[0]);F.attr({x:y[0]+E,y:y[1]+L}),Z&&(M=z.getRawValue(S[0]))}else{var y=H.getPointOn(j,h);y&&F.attr({x:y[0]+E,y:y[1]+L});var b=z.getRawValue(S[0]),u=z.getRawValue(S[1]);Z&&(M=IE(Y,R,b,u,_.t))}q.lastFrameIndex=S[0]}else{var c=J===1||q.lastFrameIndex>0?S[0]:0,y=QC0(B,c);Z&&(M=z.getRawValue(c)),F.attr({x:y[0]+E,y:y[1]+L})}if(Z){var m=zY(F);if(typeof m.setLabelText==="function")m.setLabelText(M)}}},Q.prototype._doUpdateAnimation=function(J,K,Y,q,Z,X,W){var F=this._polyline,H=this._polygon,B=J.hostModel,z=gr(this._data,J,this._stackedOnPoints,K,this._coordSys,Y,this._valueOrigin,X),A=z.current,R=z.stackedOnCurrent,G=z.next,w=z.stackedOnNext;if(Z)R=lZ(z.stackedOnCurrent,z.current,Y,Z,W),A=lZ(z.current,null,Y,Z,W),w=lZ(z.stackedOnNext,z.next,Y,Z,W),G=lZ(z.next,null,Y,Z,W);if(eD0(A,G)>3000||H&&eD0(R,w)>3000){if(F.stopAnimation(),F.setShape({points:G}),H)H.stopAnimation(),H.setShape({points:G,stackedOnPoints:w});return}F.shape.__points=z.current,F.shape.points=A;var T={shape:{points:G}};if(z.current!==A)T.shape.__points=z.next;if(F.stopAnimation(),V1(F,T,B),H){if(H.setShape({points:A,stackedOnPoints:R}),H.stopAnimation(),V1(H,{shape:{stackedOnPoints:w}},B),F.shape.points!==H.shape.points)H.shape.points=F.shape.points}var D=[],P=z.status;for(var j=0;j<P.length;j++){var E=P[j].cmd;if(E==="="){var L=J.getItemGraphicEl(P[j].idx1);if(L)D.push({el:L,ptIdx:j})}}if(F.animators&&F.animators.length)F.animators[0].during(function(){H&&H.dirtyShape();var h=F.shape.__points;for(var _=0;_<D.length;_++){var S=D[_].el,I=D[_].ptIdx*2;S.x=h[I],S.y=h[I+1],S.markRedraw()}})},Q.prototype.remove=function(J){var K=this.group,Y=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),Y&&Y.eachItemGraphicEl(function(q,Z){if(q.__temp)K.remove(q),Y.setItemGraphicEl(Z,null)}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},Q.type="line",Q}(_1),KC0=Y21;function VQ($,Q){return{seriesType:$,plan:d9(),reset:function(J){var K=J.getData(),Y=J.coordinateSystem,q=J.pipelineContext,Z=Q||q.large;if(!Y)return;var X=K0(Y.dimensions,function(A){return K.mapDimension(A)}).slice(0,2),W=X.length,F=K.getCalculationInfo("stackResultDimension");if(l9(K,X[0]))X[0]=F;if(l9(K,X[1]))X[1]=F;var H=K.getStore(),B=K.getDimensionIndex(X[0]),z=K.getDimensionIndex(X[1]);return W&&{progress:function(A,R){var G=A.end-A.start,w=Z&&T4(G*W),T=[],D=[];for(var P=A.start,j=0;P<A.end;P++){var E=void 0;if(W===1){var L=H.get(B,P);E=Y.dataToPoint(L,null,D)}else T[0]=H.get(B,P),T[1]=H.get(z,P),E=Y.dataToPoint(T,null,D);if(Z)w[j++]=E[0],w[j++]=E[1];else R.setItemLayout(P,E.slice())}Z&&R.setLayout("points",w)}}}}}var q21={average:function($){var Q=0,J=0;for(var K=0;K<$.length;K++)if(!isNaN($[K]))Q+=$[K],J++;return J===0?NaN:Q/J},sum:function($){var Q=0;for(var J=0;J<$.length;J++)Q+=$[J]||0;return Q},max:function($){var Q=-1/0;for(var J=0;J<$.length;J++)$[J]>Q&&(Q=$[J]);return isFinite(Q)?Q:NaN},min:function($){var Q=1/0;for(var J=0;J<$.length;J++)$[J]<Q&&(Q=$[J]);return isFinite(Q)?Q:NaN},nearest:function($){return $[0]}},Z21=function($){return Math.round($.length/2)};function eG($){return{seriesType:$,reset:function(Q,J,K){var Y=Q.getData(),q=Q.get("sampling"),Z=Q.coordinateSystem,X=Y.count();if(X>10&&Z.type==="cartesian2d"&&q){var W=Z.getBaseAxis(),F=Z.getOtherAxis(W),H=W.getExtent(),B=K.getDevicePixelRatio(),z=Math.abs(H[1]-H[0])*(B||1),A=Math.round(X/z);if(isFinite(A)&&A>1){if(q==="lttb")Q.setData(Y.lttbDownSample(Y.mapDimension(F.dim),1/A));else if(q==="minmax")Q.setData(Y.minmaxDownSample(Y.mapDimension(F.dim),1/A));var R=void 0;if(B0(q))R=q21[q];else if(v0(q))R=q;if(R)Q.setData(Y.downSample(Y.mapDimension(F.dim),1/A,R,Z21))}}}}}function mr($){$.registerChartView(KC0),$.registerSeriesModel(lD0),$.registerLayout(VQ("line",!0)),$.registerVisual({seriesType:"line",reset:function(Q){var J=Q.getData(),K=Q.getModel("lineStyle").getLineStyle();if(K&&!K.stroke)K.stroke=J.getVisual("style").fill;J.setVisual("legendLineStyle",K)}}),$.registerProcessor($.PRIORITY.PROCESSOR.STATISTIC,eG("line"))}var YC0=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.getInitialData=function(J,K){return X8(null,this,{useEncodeDefaulter:!0})},Q.prototype.getMarkerPosition=function(J,K,Y){var q=this.coordinateSystem;if(q&&q.clampData){var Z=q.clampData(J),X=q.dataToPoint(Z);if(Y)v(q.getAxes(),function(z,A){if(z.type==="category"&&K!=null){var R=z.getTicksCoords(),G=z.getTickModel().get("alignWithLabel"),w=Z[A],T=K[A]==="x1"||K[A]==="y1";if(T&&!G)w+=1;if(R.length<2)return;else if(R.length===2){X[A]=z.toGlobalCoord(z.getExtent()[T?1:0]);return}var D=void 0,P=void 0,j=1;for(var E=0;E<R.length;E++){var L=R[E].coord,h=E===R.length-1?R[E-1].tickValue+j:R[E].tickValue;if(h===w){P=L;break}else if(h<w)D=L;else if(D!=null&&h>w){P=(L+D)/2;break}if(E===1)j=h-R[0].tickValue}if(P==null){if(!D)P=R[0].coord;else if(D)P=R[R.length-1].coord}X[A]=z.toGlobalCoord(P)}});else{var W=this.getData(),F=W.getLayout("offset"),H=W.getLayout("size"),B=q.getBaseAxis().isHorizontal()?0:1;X[B]+=F+H/2}return X}return[NaN,NaN]},Q.type="series.__base_bar__",Q.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3000,progressiveChunkMode:"mod",defaultBarGap:"10%"},Q}(m1);m1.registerClass(YC0);var eN=YC0;var X21=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.getInitialData=function(){return X8(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},Q.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},Q.prototype.getProgressiveThreshold=function(){var J=this.get("progressiveThreshold"),K=this.get("largeThreshold");if(K>J)J=K;return J},Q.prototype.brushSelector=function(J,K,Y){return Y.rect(K.getItemLayout(J))},Q.type="series.bar",Q.dependencies=["grid","polar"],Q.defaultOption=i8(eN.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:a.color.primary,borderWidth:2}},realtimeSort:!1}),Q}(eN),qC0=X21;var W21=function(){function $(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return $}(),F21=function($){x(Q,$);function Q(J){var K=$.call(this,J)||this;return K.type="sausage",K}return Q.prototype.getDefaultShape=function(){return new W21},Q.prototype.buildPath=function(J,K){var{cx:Y,cy:q}=K,Z=Math.max(K.r0||0,0),X=Math.max(K.r,0),W=(X-Z)*0.5,F=Z+W,H=K.startAngle,B=K.endAngle,z=K.clockwise,A=Math.PI*2,R=z?B-H<A:H-B<A;if(!R)H=B-(z?A:-A);var G=Math.cos(H),w=Math.sin(H),T=Math.cos(B),D=Math.sin(B);if(R)J.moveTo(G*Z+Y,w*Z+q),J.arc(G*F+Y,w*F+q,W,-Math.PI+H,H,!z);else J.moveTo(G*X+Y,w*X+q);if(J.arc(Y,q,X,H,B,!z),J.arc(T*F+Y,D*F+q,W,B-Math.PI*2,B-Math.PI,!z),Z!==0)J.arc(Y,q,Z,B,H,z)},Q}(t0),$B=F21;function ZC0($,Q){Q=Q||{};var J=Q.isRoundCap;return function(K,Y,q){var Z=Y.position;if(!Z||Z instanceof Array)return NW(K,Y,q);var X=$(Z),W=Y.distance!=null?Y.distance:5,F=this.shape,H=F.cx,B=F.cy,z=F.r,A=F.r0,R=(z+A)/2,G=F.startAngle,w=F.endAngle,T=(G+w)/2,D=J?Math.abs(z-A)/2:0,P=Math.cos,j=Math.sin,E=H+z*P(G),L=B+z*j(G),h="left",_="top";switch(X){case"startArc":E=H+(A-W)*P(T),L=B+(A-W)*j(T),h="center",_="top";break;case"insideStartArc":E=H+(A+W)*P(T),L=B+(A+W)*j(T),h="center",_="bottom";break;case"startAngle":E=H+R*P(G)+Hv(G,W+D,!1),L=B+R*j(G)+Nv(G,W+D,!1),h="right",_="middle";break;case"insideStartAngle":E=H+R*P(G)+Hv(G,-W+D,!1),L=B+R*j(G)+Nv(G,-W+D,!1),h="left",_="middle";break;case"middle":E=H+R*P(T),L=B+R*j(T),h="center",_="middle";break;case"endArc":E=H+(z+W)*P(T),L=B+(z+W)*j(T),h="center",_="bottom";break;case"insideEndArc":E=H+(z-W)*P(T),L=B+(z-W)*j(T),h="center",_="top";break;case"endAngle":E=H+R*P(w)+Hv(w,W+D,!0),L=B+R*j(w)+Nv(w,W+D,!0),h="left",_="middle";break;case"insideEndAngle":E=H+R*P(w)+Hv(w,-W+D,!0),L=B+R*j(w)+Nv(w,-W+D,!0),h="right",_="middle";break;default:return NW(K,Y,q)}return K=K||{},K.x=E,K.y=L,K.align=h,K.verticalAlign=_,K}}function XC0($,Q,J,K){if(U1(K)){$.setTextConfig({rotation:K});return}else if(J0(Q)){$.setTextConfig({rotation:0});return}var Y=$.shape,q=Y.clockwise?Y.startAngle:Y.endAngle,Z=Y.clockwise?Y.endAngle:Y.startAngle,X=(q+Z)/2,W,F=J(Q);switch(F){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":W=X;break;case"startAngle":case"insideStartAngle":W=q;break;case"endAngle":case"insideEndAngle":W=Z;break;default:$.setTextConfig({rotation:0});return}var H=Math.PI*1.5-W;if(F==="middle"&&H>Math.PI/2&&H<Math.PI*1.5)H-=Math.PI;$.setTextConfig({rotation:H})}function Hv($,Q,J){return Q*Math.sin($)*(J?-1:1)}function Nv($,Q,J){return Q*Math.cos($)*(J?1:-1)}function P4($,Q,J){var K=$.get("borderRadius");if(K==null)return J?{cornerRadius:0}:null;if(!J0(K))K=[K,K,K,K];var Y=Math.abs(Q.r||0-Q.r0||0);return{cornerRadius:K0(K,function(q){return C8(q,Y)})}}var{max:pr,min:dr}=Math;function U21($,Q){var J=$.getArea&&$.getArea();if(r9($,"cartesian2d")){var K=$.getBaseAxis();if(K.type!=="category"||!K.onBand){var Y=Q.getLayout("bandWidth");if(K.isHorizontal())J.x-=Y,J.width+=Y*2;else J.y-=Y,J.height+=Y*2}}return J}var H21=function($){x(Q,$);function Q(){var J=$.call(this)||this;return J.type=Q.type,J._isFirstFrame=!0,J}return Q.prototype.render=function(J,K,Y,q){this._model=J,this._removeOnRenderedListener(Y),this._updateDrawMode(J);var Z=J.get("coordinateSystem");if(Z==="cartesian2d"||Z==="polar")this._progressiveEls=null,this._isLargeDraw?this._renderLarge(J,K,Y):this._renderNormal(J,K,Y,q);else T5("Only cartesian2d and polar supported for bar.")},Q.prototype.incrementalPrepareRender=function(J){this._clear(),this._updateDrawMode(J),this._updateLargeClip(J)},Q.prototype.incrementalRender=function(J,K){this._progressiveEls=[],this._incrementalRenderLarge(J,K)},Q.prototype.eachRendered=function(J){G4(this._progressiveEls||this.group,J)},Q.prototype._updateDrawMode=function(J){var K=J.pipelineContext.large;if(this._isLargeDraw==null||K!==this._isLargeDraw)this._isLargeDraw=K,this._clear()},Q.prototype._renderNormal=function(J,K,Y,q){var Z=this.group,X=J.getData(),W=this._data,F=J.coordinateSystem,H=F.getBaseAxis(),B;if(F.type==="cartesian2d")B=H.isHorizontal();else if(F.type==="polar")B=H.dim==="angle";var z=J.isAnimationEnabled()?J:null,A=N21(J,F);if(A)this._enableRealtimeSort(A,X,Y);var R=J.get("clip",!0)||A,G=U21(F,X);Z.removeClipPath();var w=J.get("roundCap",!0),T=J.get("showBackground",!0),D=J.getModel("backgroundStyle"),P=D.get("borderRadius")||0,j=[],E=this._backgroundEls,L=q&&q.isInitSort,h=q&&q.type==="changeAxisOrder";function _(M){var y=Bv[F.type](X,M);if(!y)return null;var b=w21(F,B,y);if(b.useStyle(D.getItemStyle()),F.type==="cartesian2d")b.setShape("r",P);else b.setShape("cornerRadius",P);return j[M]=b,b}X.diff(W).add(function(M){var y=X.getItemModel(M),b=Bv[F.type](X,M,y);if(!b)return;if(T)_(M);if(!X.hasValue(M)||!NC0[F.type](b))return;var u=!1;if(R)u=WC0[F.type](G,b);var c=FC0[F.type](J,X,M,b,B,z,H.model,!1,w);if(A)c.forceLabelAnimation=!0;if(BC0(c,X,M,y,b,J,B,F.type==="polar"),L)c.attr({shape:b});else if(A)UC0(A,z,c,b,M,B,!1,!1);else t1(c,{shape:b},J,M);X.setItemGraphicEl(M,c),Z.add(c),c.ignore=u}).update(function(M,y){var b=X.getItemModel(M),u=Bv[F.type](X,M,b);if(!u)return;if(T){var c=void 0;if(E.length===0)c=_(y);else{if(c=E[y],c.useStyle(D.getItemStyle()),F.type==="cartesian2d")c.setShape("r",P);else c.setShape("cornerRadius",P);j[M]=c}var m=Bv[F.type](X,M),i=GC0(B,m,F);V1(c,{shape:i},z,M)}var o=W.getItemGraphicEl(y);if(!X.hasValue(M)||!NC0[F.type](u)){Z.remove(o);return}var n=!1;if(R){if(n=WC0[F.type](G,u),n)Z.remove(o)}var e=o&&(o.type==="sector"&&w||o.type==="sausage"&&!w);if(e)o&&J9(o,J,y),o=null;if(!o)o=FC0[F.type](J,X,M,u,B,z,H.model,!0,w);else t6(o);if(A)o.forceLabelAnimation=!0;if(h){var Z0=o.getTextContent();if(Z0){var q0=zY(Z0);if(q0.prevValue!=null)q0.prevValue=q0.value}}else BC0(o,X,M,b,u,J,B,F.type==="polar");if(L)o.attr({shape:u});else if(A)UC0(A,z,o,u,M,B,!0,h);else V1(o,{shape:u},J,M,null);X.setItemGraphicEl(M,o),o.ignore=n,Z.add(o)}).remove(function(M){var y=W.getItemGraphicEl(M);y&&J9(y,J,M)}).execute();var S=this._backgroundGroup||(this._backgroundGroup=new _0);S.removeAll();for(var I=0;I<j.length;++I)S.add(j[I]);Z.add(S),this._backgroundEls=j,this._data=X},Q.prototype._renderLarge=function(J,K,Y){this._clear(),AC0(J,this.group),this._updateLargeClip(J)},Q.prototype._incrementalRenderLarge=function(J,K){this._removeBackground(),AC0(K,this.group,this._progressiveEls,!0)},Q.prototype._updateLargeClip=function(J){var K=J.get("clip",!0)&&lJ(J.coordinateSystem,!1,J),Y=this.group;if(K)Y.setClipPath(K);else Y.removeClipPath()},Q.prototype._enableRealtimeSort=function(J,K,Y){var q=this;if(!K.count())return;var Z=J.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(K,J,Y),this._isFirstFrame=!1;else{var X=function(W){var F=K.getItemGraphicEl(W),H=F&&F.shape;return H&&Math.abs(Z.isHorizontal()?H.height:H.width)||0};this._onRendered=function(){q._updateSortWithinSameData(K,X,Z,Y)},Y.getZr().on("rendered",this._onRendered)}},Q.prototype._dataSort=function(J,K,Y){var q=[];return J.each(J.mapDimension(K.dim),function(Z,X){var W=Y(X);W=W==null?NaN:W,q.push({dataIndex:X,mappedValue:W,ordinalNumber:Z})}),q.sort(function(Z,X){return X.mappedValue-Z.mappedValue}),{ordinalNumbers:K0(q,function(Z){return Z.ordinalNumber})}},Q.prototype._isOrderChangedWithinSameData=function(J,K,Y){var q=Y.scale,Z=J.mapDimension(Y.dim),X=Number.MAX_VALUE;for(var W=0,F=q.getOrdinalMeta().categories.length;W<F;++W){var H=J.rawIndexOf(Z,q.getRawOrdinalNumber(W)),B=H<0?Number.MIN_VALUE:K(J.indexOfRawIndex(H));if(B>X)return!0;X=B}return!1},Q.prototype._isOrderDifferentInView=function(J,K){var Y=K.scale,q=Y.getExtent(),Z=Math.max(0,q[0]),X=Math.min(q[1],Y.getOrdinalMeta().categories.length-1);for(;Z<=X;++Z)if(J.ordinalNumbers[Z]!==Y.getRawOrdinalNumber(Z))return!0},Q.prototype._updateSortWithinSameData=function(J,K,Y,q){if(!this._isOrderChangedWithinSameData(J,K,Y))return;var Z=this._dataSort(J,Y,K);if(this._isOrderDifferentInView(Z,Y))this._removeOnRenderedListener(q),q.dispatchAction({type:"changeAxisOrder",componentType:Y.dim+"Axis",axisId:Y.index,sortInfo:Z})},Q.prototype._dispatchInitSort=function(J,K,Y){var q=K.baseAxis,Z=this._dataSort(J,q,function(X){return J.get(J.mapDimension(K.otherAxis.dim),X)});Y.dispatchAction({type:"changeAxisOrder",componentType:q.dim+"Axis",isInitSort:!0,axisId:q.index,sortInfo:Z})},Q.prototype.remove=function(J,K){this._clear(this._model),this._removeOnRenderedListener(K)},Q.prototype.dispose=function(J,K){this._removeOnRenderedListener(K)},Q.prototype._removeOnRenderedListener=function(J){if(this._onRendered)J.getZr().off("rendered",this._onRendered),this._onRendered=null},Q.prototype._clear=function(J){var K=this.group,Y=this._data;if(J&&J.isAnimationEnabled()&&Y&&!this._isLargeDraw)this._removeBackground(),this._backgroundEls=[],Y.eachItemGraphicEl(function(q){J9(q,J,m0(q).dataIndex)});else K.removeAll();this._data=null,this._isFirstFrame=!0},Q.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},Q.type="bar",Q}(_1),WC0={cartesian2d:function($,Q){var J=Q.width<0?-1:1,K=Q.height<0?-1:1;if(J<0)Q.x+=Q.width,Q.width=-Q.width;if(K<0)Q.y+=Q.height,Q.height=-Q.height;var Y=$.x+$.width,q=$.y+$.height,Z=pr(Q.x,$.x),X=dr(Q.x+Q.width,Y),W=pr(Q.y,$.y),F=dr(Q.y+Q.height,q),H=X<Z,B=F<W;if(Q.x=H&&Z>Y?X:Z,Q.y=B&&W>q?F:W,Q.width=H?0:X-Z,Q.height=B?0:F-W,J<0)Q.x+=Q.width,Q.width=-Q.width;if(K<0)Q.y+=Q.height,Q.height=-Q.height;return H||B},polar:function($,Q){var J=Q.r0<=Q.r?1:-1;if(J<0){var K=Q.r;Q.r=Q.r0,Q.r0=K}var Y=dr(Q.r,$.r),q=pr(Q.r0,$.r0);Q.r=Y,Q.r0=q;var Z=Y-q<0;if(J<0){var K=Q.r;Q.r=Q.r0,Q.r0=K}return Z}},FC0={cartesian2d:function($,Q,J,K,Y,q,Z,X,W){var F=new Q1({shape:Q0({},K),z2:1});if(F.__dataIndex=J,F.name="item",q){var H=F.shape,B=Y?"height":"width";H[B]=0}return F},polar:function($,Q,J,K,Y,q,Z,X,W){var F=!Y&&W?$B:I6,H=new F({shape:K,z2:1});H.name="item";var B=RC0(Y);if(H.calculateTextPosition=ZC0(B,{isRoundCap:F===$B}),q){var z=H.shape,A=Y?"r":"endAngle",R={};z[A]=Y?K.r0:K.startAngle,R[A]=K[A],(X?V1:t1)(H,{shape:R},q)}return H}};function N21($,Q){var J=$.get("realtimeSort",!0),K=Q.getBaseAxis();if(J){if(K.type!=="category")T5("`realtimeSort` will not work because this bar series is not based on a category axis.");if(Q.type!=="cartesian2d")T5("`realtimeSort` will not work because this bar series is not on cartesian2d.")}if(J&&K.type==="category"&&Q.type==="cartesian2d")return{baseAxis:K,otherAxis:Q.getOtherAxis(K)}}function UC0($,Q,J,K,Y,q,Z,X){var W,F;if(q)F={x:K.x,width:K.width},W={y:K.y,height:K.height};else F={y:K.y,height:K.height},W={x:K.x,width:K.width};if(!X)(Z?V1:t1)(J,{shape:W},Q,Y,null);var H=Q?$.baseAxis.model:null;(Z?V1:t1)(J,{shape:F},H,Y)}function HC0($,Q){for(var J=0;J<Q.length;J++)if(!isFinite($[Q[J]]))return!0;return!1}var B21=["x","y","width","height"],z21=["cx","cy","r","startAngle","endAngle"],NC0={cartesian2d:function($){return!HC0($,B21)},polar:function($){return!HC0($,z21)}},Bv={cartesian2d:function($,Q,J){var K=$.getItemLayout(Q);if(!K)return null;var Y=J?V21(J,K):0,q=K.width>0?1:-1,Z=K.height>0?1:-1;return{x:K.x+q*Y/2,y:K.y+Z*Y/2,width:K.width-q*Y,height:K.height-Z*Y}},polar:function($,Q,J){var K=$.getItemLayout(Q);return{cx:K.cx,cy:K.cy,r0:K.r0,r:K.r,startAngle:K.startAngle,endAngle:K.endAngle,clockwise:K.clockwise}}};function A21($){return $.startAngle!=null&&$.endAngle!=null&&$.startAngle===$.endAngle}function RC0($){return function(Q){var J=Q?"Arc":"Angle";return function(K){switch(K){case"start":case"insideStart":case"end":case"insideEnd":return K+J;default:return K}}}($)}function BC0($,Q,J,K,Y,q,Z,X){var W=Q.getItemVisual(J,"style");if(!X){var F=K.get(["itemStyle","borderRadius"])||0;$.setShape("r",F)}else if(!q.get("roundCap")){var H=$.shape,B=P4(K.getModel("itemStyle"),H,!0);Q0(H,B),$.setShape(H)}$.useStyle(W);var z=K.getShallow("cursor");z&&$.attr("cursor",z);var A=X?Z?Y.r>=Y.r0?"endArc":"startArc":Y.endAngle>=Y.startAngle?"endAngle":"startAngle":Z?Y.height>=0?"bottom":"top":Y.width>=0?"right":"left",R=k5(K);v5($,R,{labelFetcher:q,labelDataIndex:J,defaultText:AQ(q.getData(),J),inheritColor:W.fill,defaultOpacity:W.opacity,defaultOutsidePosition:A});var G=$.getTextContent();if(X&&G){var w=K.get(["label","position"]);$.textConfig.inside=w==="middle"?!0:null,XC0($,w==="outside"?A:w,RC0(Z),K.get(["label","rotate"]))}BL(G,R,q.getRawValue(J),function(D){return Xv(Q,D)});var T=K.getModel(["emphasis"]);if(u1($,T.get("focus"),T.get("blurScope"),T.get("disabled")),M5($,K),A21(Y))$.style.fill="none",$.style.stroke="none",v($.states,function(D){if(D.style)D.style.fill=D.style.stroke="none"})}function V21($,Q){var J=$.get(["itemStyle","borderColor"]);if(!J||J==="none")return 0;var K=$.get(["itemStyle","borderWidth"])||0,Y=isNaN(Q.width)?Number.MAX_VALUE:Math.abs(Q.width),q=isNaN(Q.height)?Number.MAX_VALUE:Math.abs(Q.height);return Math.min(K,Y,q)}var R21=function(){function $(){}return $}(),zC0=function($){x(Q,$);function Q(J){var K=$.call(this,J)||this;return K.type="largeBar",K}return Q.prototype.getDefaultShape=function(){return new R21},Q.prototype.buildPath=function(J,K){var Y=K.points,q=this.baseDimIdx,Z=1-this.baseDimIdx,X=[],W=[],F=this.barWidth;for(var H=0;H<Y.length;H+=3)W[q]=F,W[Z]=Y[H+2],X[q]=Y[H+q],X[Z]=Y[H+Z],J.rect(X[0],X[1],W[0],W[1])},Q}(t0);function AC0($,Q,J,K){var Y=$.getData(),q=Y.getLayout("valueAxisHorizontal")?1:0,Z=Y.getLayout("largeDataIndices"),X=Y.getLayout("size"),W=$.getModel("backgroundStyle"),F=Y.getLayout("largeBackgroundPoints");if(F){var H=new zC0({shape:{points:F},incremental:!!K,silent:!0,z2:0});H.baseDimIdx=q,H.largeDataIndices=Z,H.barWidth=X,H.useStyle(W.getItemStyle()),Q.add(H),J&&J.push(H)}var B=new zC0({shape:{points:Y.getLayout("largePoints")},incremental:!!K,ignoreCoarsePointer:!0,z2:1});if(B.baseDimIdx=q,B.largeDataIndices=Z,B.barWidth=X,Q.add(B),B.useStyle(Y.getVisual("style")),B.style.stroke=null,m0(B).seriesIndex=$.seriesIndex,!$.get("silent"))B.on("mousedown",VC0),B.on("mousemove",VC0);J&&J.push(B)}var VC0=PG(function($){var Q=this,J=G21(Q,$.offsetX,$.offsetY);m0(Q).dataIndex=J>=0?J:null},30,!1);function G21($,Q,J){var K=$.baseDimIdx,Y=1-K,q=$.shape.points,Z=$.largeDataIndices,X=[],W=[],F=$.barWidth;for(var H=0,B=q.length/3;H<B;H++){var z=H*3;if(W[K]=F,W[Y]=q[z+2],X[K]=q[z+K],X[Y]=q[z+Y],W[Y]<0)X[Y]+=W[Y],W[Y]=-W[Y];if(Q>=X[0]&&Q<=X[0]+W[0]&&J>=X[1]&&J<=X[1]+W[1])return Z[H]}return-1}function GC0($,Q,J){if(r9(J,"cartesian2d")){var K=Q,Y=J.getArea();return{x:$?K.x:Y.x,y:$?Y.y:K.y,width:$?K.width:Y.width,height:$?Y.height:K.height}}else{var Y=J.getArea(),q=Q;return{cx:Y.cx,cy:Y.cy,r0:$?Y.r0:q.r0,r:$?Y.r:q.r,startAngle:$?q.startAngle:0,endAngle:$?q.endAngle:Math.PI*2}}}function w21($,Q,J){var K=$.type==="polar"?I6:Q1;return new K({shape:GC0(Q,J,$),silent:!0,z2:0})}var wC0=H21;function nr($){$.registerChartView(wC0),$.registerSeriesModel(qC0),$.registerLayout($.PRIORITY.VISUAL.LAYOUT,a0(Ih,"bar")),$.registerLayout($.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Mh("bar")),$.registerProcessor($.PRIORITY.PROCESSOR.STATISTIC,eG("bar")),$.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(Q,J){var K=Q.componentType||"series";J.eachComponent({mainType:K,query:Q},function(Y){if(Q.sortInfo)Y.axis.setCategorySortInfo(Q.sortInfo)})})}var OC0=Math.PI*2,zv=Math.PI/180;function lr($,Q,J){Q.eachSeriesByType($,function(K){var Y=K.getData(),q=Y.mapDimension("value"),Z=gL(K,J),X=Z.cx,W=Z.cy,F=Z.r,H=Z.r0,B=Z.viewRect,z=-K.get("startAngle")*zv,A=K.get("endAngle"),R=K.get("padAngle")*zv;A=A==="auto"?z-OC0:-A*zv;var G=K.get("minAngle")*zv,w=G+R,T=0;Y.each(q,function(i){!isNaN(i)&&T++});var D=Y.getSum(q),P=Math.PI/(D||T)*2,j=K.get("clockwise"),E=K.get("roseType"),L=K.get("stillShowZeroSum"),h=Y.getDataExtent(q);h[0]=0;var _=j?1:-1,S=[z,A],I=_*R/2;DW(S,!j),z=S[0],A=S[1];var M=rr(K);M.startAngle=z,M.endAngle=A,M.clockwise=j,M.cx=X,M.cy=W,M.r=F,M.r0=H;var y=Math.abs(A-z),b=y,u=0,c=z;if(Y.setLayout({viewRect:B,r:F}),Y.each(q,function(i,o){var n;if(isNaN(i)){Y.setItemLayout(o,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:j,cx:X,cy:W,r0:H,r:E?NaN:F});return}if(E!=="area")n=D===0&&L?P:i*P;else n=y/T;if(n<w)n=w,b-=w;else u+=i;var e=c+_*n,Z0=0,q0=0;if(R>n)Z0=c+_*n/2,q0=Z0;else Z0=c+I,q0=e-I;Y.setItemLayout(o,{angle:n,startAngle:Z0,endAngle:q0,clockwise:j,cx:X,cy:W,r0:H,r:E?a1(i,h,[H,F]):F}),c=e}),b<OC0&&T)if(b<=0.001){var m=y/T;Y.each(q,function(i,o){if(!isNaN(i)){var n=Y.getItemLayout(o);n.angle=m;var e=0,Z0=0;if(m<R)e=z+_*(o+0.5)*m,Z0=e;else e=z+_*o*m+I,Z0=z+_*(o+1)*m-I;n.startAngle=e,n.endAngle=Z0}})}else P=b/u,c=z,Y.each(q,function(i,o){if(!isNaN(i)){var n=Y.getItemLayout(o),e=n.angle===w?w:i*P,Z0=0,q0=0;if(e<R)Z0=c+_*e/2,q0=Z0;else Z0=c+I,q0=c+_*e-I;n.startAngle=Z0,n.endAngle=q0,c+=_*e}})})}var rr=n0();function i9($){return{seriesType:$,reset:function(Q,J){var K=J.findComponents({mainType:"legend"});if(!K||!K.length)return;var Y=Q.getData();Y.filterSelf(function(q){var Z=Y.getName(q);for(var X=0;X<K.length;X++)if(!K[X].isSelected(Z))return!1;return!0})}}}var O21=Math.PI/180;function TC0($,Q,J,K,Y,q,Z,X,W,F){if($.length<2)return;function H(G){var w=G.rB,T=w*w;for(var D=0;D<G.list.length;D++){var P=G.list[D],j=Math.abs(P.label.y-J),E=K+P.len,L=E*E,h=Math.sqrt(Math.abs((1-j*j/T)*L)),_=Q+(h+P.len2)*Y,S=_-P.label.x,I=P.targetTextWidth-S*Y;CC0(P,I,!0),P.label.x=_}}function B(G){var w={list:[],maxY:0},T={list:[],maxY:0};for(var D=0;D<G.length;D++){if(G[D].labelAlignTo!=="none")continue;var P=G[D],j=P.label.y>J?T:w,E=Math.abs(P.label.y-J);if(E>=j.maxY){var L=P.label.x-Q-P.len2*Y,h=K+P.len,_=Math.abs(L)<h?Math.sqrt(E*E/(1-L*L/h/h)):h;j.rB=_,j.maxY=E}j.list.push(P)}H(w),H(T)}var z=$.length;for(var A=0;A<z;A++)if($[A].position==="outer"&&$[A].labelAlignTo==="labelLine"){var R=$[A].label.x-F;$[A].linePoints[1][0]+=R,$[A].label.x=F}if(nG($,1,W,W+Z))B($)}function T21($,Q,J,K,Y,q,Z,X){var W=[],F=[],H=Number.MAX_VALUE,B=-Number.MAX_VALUE;for(var z=0;z<$.length;z++){var A=$[z].label;if(ir($[z]))continue;if(A.x<Q)H=Math.min(H,A.x),W.push($[z]);else B=Math.max(B,A.x),F.push($[z])}for(var z=0;z<$.length;z++){var R=$[z];if(!ir(R)&&R.linePoints){if(R.labelStyleWidth!=null)continue;var{label:A,linePoints:G}=R,w=void 0;if(R.labelAlignTo==="edge")if(A.x<Q)w=G[2][0]-R.labelDistance-Z-R.edgeDistance;else w=Z+Y-R.edgeDistance-G[2][0]-R.labelDistance;else if(R.labelAlignTo==="labelLine")if(A.x<Q)w=H-Z-R.bleedMargin;else w=Z+Y-B-R.bleedMargin;else if(A.x<Q)w=A.x-Z-R.bleedMargin;else w=Z+Y-A.x-R.bleedMargin;R.targetTextWidth=w,CC0(R,w,!1)}}TC0(F,Q,J,K,1,Y,q,Z,X,B),TC0(W,Q,J,K,-1,Y,q,Z,X,H);for(var z=0;z<$.length;z++){var R=$[z];if(!ir(R)&&R.linePoints){var{label:A,linePoints:G}=R,T=R.labelAlignTo==="edge",D=A.style.padding,P=D?D[1]+D[3]:0,j=A.style.backgroundColor?0:P,E=R.rect.width+j,L=G[1][0]-G[2][0];if(T)if(A.x<Q)G[2][0]=Z+R.edgeDistance+E+R.labelDistance;else G[2][0]=Z+Y-R.edgeDistance-E-R.labelDistance;else{if(A.x<Q)G[2][0]=A.x+R.labelDistance;else G[2][0]=A.x-R.labelDistance;G[1][0]=G[2][0]+L}G[1][1]=G[2][1]=A.y}}}function CC0($,Q,J){if($.labelStyleWidth!=null)return;var K=$.label,Y=K.style,q=$.rect,Z=Y.backgroundColor,X=Y.padding,W=X?X[1]+X[3]:0,F=Y.overflow,H=q.width+(Z?0:W);if(Q<H||J){if(F&&F.match("break")){K.setStyle("backgroundColor",null),K.setStyle("width",Q-W);var B=K.getBoundingRect();K.setStyle("width",Math.ceil(B.width)),K.setStyle("backgroundColor",Z)}else{var z=Q-W,A=Q<H?z:J?z>$.unconstrainedWidth?null:z:null;K.setStyle("width",A)}PC0(q,K)}}function PC0($,Q){DC0.rect=$,Ur(DC0,Q,D21)}var D21={minMarginForce:[null,0,null,0],marginDefault:[1,0,1,0]},DC0={};function ir($){return $.position==="center"}function sr($){var Q=$.getData(),J=[],K,Y,q=!1,Z=($.get("minShowLabelAngle")||0)*O21,X=Q.getLayout("viewRect"),W=Q.getLayout("r"),F=X.width,H=X.x,B=X.y,z=X.height;function A(L){L.ignore=!0}function R(L){if(!L.ignore)return!0;for(var h in L.states)if(L.states[h].ignore===!1)return!0;return!1}if(Q.each(function(L){var h=Q.getItemGraphicEl(L),_=h.shape,S=h.getTextContent(),I=h.getTextGuideLine(),M=Q.getItemModel(L),y=M.getModel("label"),b=y.get("position")||M.get(["emphasis","label","position"]),u=y.get("distanceToLabelLine"),c=y.get("alignTo"),m=h0(y.get("edgeDistance"),F),i=y.get("bleedMargin");if(i==null)i=Math.min(F,z)>200?10:2;var o=M.getModel("labelLine"),n=o.get("length");n=h0(n,F);var e=o.get("length2");if(e=h0(e,F),Math.abs(_.endAngle-_.startAngle)<Z){if(v(S.states,A),S.ignore=!0,I)v(I.states,A),I.ignore=!0;return}if(!R(S))return;var Z0=(_.startAngle+_.endAngle)/2,q0=Math.cos(Z0),k0=Math.sin(Z0),c0,J1,W1,h1;K=_.cx,Y=_.cy;var X1=b==="inside"||b==="inner";if(b==="center")c0=_.cx,J1=_.cy,h1="center";else{var r0=(X1?(_.r+_.r0)/2*q0:_.r*q0)+K,G1=(X1?(_.r+_.r0)/2*k0:_.r*k0)+Y;if(c0=r0+q0*3,J1=G1+k0*3,!X1){var l0=r0+q0*(n+W-_.r),z1=G1+k0*(n+W-_.r),X5=l0+(q0<0?-1:1)*e,v1=z1;if(c==="edge")c0=q0<0?H+m:H+F-m;else c0=X5+(q0<0?-u:u);J1=v1,W1=[[r0,G1],[l0,z1],[X5,v1]]}h1=X1?"center":c==="edge"?q0>0?"right":"left":q0>0?"left":"right"}var H5=Math.PI,N5=0,k6=y.get("rotate");if(U1(k6))N5=k6*(H5/180);else if(b==="center")N5=0;else if(k6==="radial"||k6===!0){var S1=q0<0?-Z0+H5:-Z0;N5=S1}else if(k6==="tangential"&&b!=="outside"&&b!=="outer"){var z7=Math.atan2(q0,k0);if(z7<0)z7=H5*2+z7;var B9=k0>0;if(B9)z7=H5+z7;N5=z7-H5}if(q=!!N5,S.x=c0,S.y=J1,S.rotation=N5,S.setStyle({verticalAlign:"middle"}),!X1){var t9=new u0(0,0,0,0);PC0(t9,S),J.push({label:S,labelLine:I,position:b,len:n,len2:e,minTurnAngle:o.get("minTurnAngle"),maxSurfaceAngle:o.get("maxSurfaceAngle"),surfaceNormal:new e0(q0,k0),linePoints:W1,textAlign:h1,labelDistance:u,labelAlignTo:c,edgeDistance:m,bleedMargin:i,rect:t9,unconstrainedWidth:t9.width,labelStyleWidth:S.style.width})}else{S.setStyle({align:h1});var DQ=S.states.select;if(DQ)DQ.x+=S.x,DQ.y+=S.y}h.setTextConfig({inside:X1})}),!q&&$.get("avoidLabelOverlap"))T21(J,K,Y,W,F,z,H,B);for(var G=0;G<J.length;G++){var w=J[G],T=w.label,D=w.labelLine,P=isNaN(T.x)||isNaN(T.y);if(T){if(T.setStyle({align:w.textAlign}),P)v(T.states,A),T.ignore=!0;var j=T.states.select;if(j)j.x+=T.x,j.y+=T.y}if(D){var E=w.linePoints;if(P||!E)v(D.states,A),D.ignore=!0;else Wr(E,w.minTurnAngle),BD0(E,w.surfaceNormal,w.maxSurfaceAngle),D.setShape({points:E}),T.__hostTarget.textGuideLineConfig={anchor:new e0(E[0][0],E[0][1])}}}}var C21=function($){x(Q,$);function Q(J,K,Y){var q=$.call(this)||this;q.z2=2;var Z=new w1;return q.setTextContent(Z),q.updateData(J,K,Y,!0),q}return Q.prototype.updateData=function(J,K,Y,q){var Z=this,X=J.hostModel,W=J.getItemModel(K),F=W.getModel("emphasis"),H=J.getItemLayout(K),B=Q0(P4(W.getModel("itemStyle"),H,!0),H);if(isNaN(B.startAngle)){Z.setShape(B);return}if(q){Z.setShape(B);var z=X.getShallow("animationType");if(X.ecModel.ssr)t1(Z,{scaleX:0,scaleY:0},X,{dataIndex:K,isFrom:!0}),Z.originX=B.cx,Z.originY=B.cy;else if(z==="scale")Z.shape.r=H.r0,t1(Z,{shape:{r:H.r}},X,K);else if(Y!=null)Z.setShape({startAngle:Y,endAngle:Y}),t1(Z,{shape:{startAngle:H.startAngle,endAngle:H.endAngle}},X,K);else Z.shape.endAngle=H.startAngle,V1(Z,{shape:{endAngle:H.endAngle}},X,K)}else t6(Z),V1(Z,{shape:B},X,K);Z.useStyle(J.getItemVisual(K,"style")),M5(Z,W);var A=(H.startAngle+H.endAngle)/2,R=X.get("selectedOffset"),G=Math.cos(A)*R,w=Math.sin(A)*R,T=W.getShallow("cursor");T&&Z.attr("cursor",T),this._updateLabel(X,J,K),Z.ensureState("emphasis").shape=Q0({r:H.r+(F.get("scale")?F.get("scaleSize")||0:0)},P4(F.getModel("itemStyle"),H)),Q0(Z.ensureState("select"),{x:G,y:w,shape:P4(W.getModel(["select","itemStyle"]),H)}),Q0(Z.ensureState("blur"),{shape:P4(W.getModel(["blur","itemStyle"]),H)});var D=Z.getTextGuideLine(),P=Z.getTextContent();D&&Q0(D.ensureState("select"),{x:G,y:w}),Q0(P.ensureState("select"),{x:G,y:w}),u1(this,F.get("focus"),F.get("blurScope"),F.get("disabled"))},Q.prototype._updateLabel=function(J,K,Y){var q=this,Z=K.getItemModel(Y),X=Z.getModel("labelLine"),W=K.getItemVisual(Y,"style"),F=W&&W.fill,H=W&&W.opacity;v5(q,k5(Z),{labelFetcher:K.hostModel,labelDataIndex:Y,inheritColor:F,defaultOpacity:H,defaultText:J.getFormattedLabel(Y,"normal")||K.getName(Y)});var B=q.getTextContent();q.setTextConfig({position:null,rotation:null}),B.attr({z2:10});var z=Z.get(["label","position"]);if(z!=="outside"&&z!=="outer")q.removeTextGuideLine();else{var A=this.getTextGuideLine();if(!A)A=new K6,this.setTextGuideLine(A);sN(this,oN(Z),{stroke:F,opacity:B6(X.get(["lineStyle","opacity"]),H,1)})}},Q}(I6),P21=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.ignoreLabelLineUpdate=!0,J}return Q.prototype.render=function(J,K,Y,q){var Z=J.getData(),X=this._data,W=this.group,F;if(!X&&Z.count()>0){var H=Z.getItemLayout(0);for(var B=1;isNaN(H&&H.startAngle)&&B<Z.count();++B)H=Z.getItemLayout(B);if(H)F=H.startAngle}if(this._emptyCircleSector)W.remove(this._emptyCircleSector);if(Z.count()===0&&J.get("showEmptyCircle")){var z=rr(J),A=new I6({shape:y0(z)});A.useStyle(J.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=A,W.add(A)}if(Z.diff(X).add(function(R){var G=new C21(Z,R,F);Z.setItemGraphicEl(R,G),W.add(G)}).update(function(R,G){var w=X.getItemGraphicEl(G);w.updateData(Z,R,F),w.off("click"),W.add(w),Z.setItemGraphicEl(R,w)}).remove(function(R){var G=X.getItemGraphicEl(R);J9(G,J,R)}).execute(),sr(J),J.get("animationTypeUpdate")!=="expansion")this._data=Z},Q.prototype.dispose=function(){},Q.prototype.containPoint=function(J,K){var Y=K.getData(),q=Y.getItemLayout(0);if(q){var Z=J[0]-q.cx,X=J[1]-q.cy,W=Math.sqrt(Z*Z+X*X);return W<=q.r&&W>=q.r0}},Q.type="pie",Q}(_1),kC0=P21;function s9($,Q,J){Q=J0(Q)&&{coordDimensions:Q}||Q0({encodeDefine:$.getEncode()},Q);var K=$.getSource(),Y=HQ(K,Q).dimensions,q=new S6(Y,$);return q.initData(K,J),q}var k21=function(){function $(Q,J){this._getDataWithEncodedVisual=Q,this._getRawData=J}return $.prototype.getAllNames=function(){var Q=this._getRawData();return Q.mapArray(Q.getName)},$.prototype.containName=function(Q){var J=this._getRawData();return J.indexOfName(Q)>=0},$.prototype.indexOfName=function(Q){var J=this._getDataWithEncodedVisual();return J.indexOfName(Q)},$.prototype.getItemVisual=function(Q,J){var K=this._getDataWithEncodedVisual();return K.getItemVisual(Q,J)},$}(),W$=k21;var j21=n0(),jC0=function($){x(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.init=function(J){$.prototype.init.apply(this,arguments),this.legendVisualProvider=new W$(O0(this.getData,this),O0(this.getRawData,this)),this._defaultLabelLine(J)},Q.prototype.mergeOption=function(){$.prototype.mergeOption.apply(this,arguments)},Q.prototype.getInitialData=function(){return s9(this,{coordDimensions:["value"],encodeDefaulter:a0(fN,this)})},Q.prototype.getDataParams=function(J){var K=this.getData(),Y=j21(K),q=Y.seats;if(!q){var Z=[];K.each(K.mapDimension("value"),function(W){Z.push(W)}),q=Y.seats=DV0(Z,K.hostModel.get("percentPrecision"))}var X=$.prototype.getDataParams.call(this,J);return X.percent=q[J]||0,X.$vars.push("percent"),X},Q.prototype._defaultLabelLine=function(J){u9(J,"labelLine",["show"]);var K=J.labelLine,Y=J.emphasis.labelLine;K.show=K.show&&J.label.show,Y.show=Y.show&&J.emphasis.label.show},Q.type="series.pie",Q.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"50%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,coordinateSystemUsage:"box",left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:30,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1000,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},Q}(m1);eG0({fullType:jC0.type,getCoord2:function($){return $.getShallow("center")}});var EC0=jC0;function or($){return{seriesType:$,reset:function(Q,J){var K=Q.getData();K.filterSelf(function(Y){var q=K.mapDimension("value"),Z=K.get(q,Y);if(U1(Z)&&!isNaN(Z)&&Z<0)return!1;return!0})}}}function ar($){$.registerChartView(kC0),$.registerSeriesModel(EC0),Bh("pie",$.registerAction),$.registerLayout(a0(lr,"pie")),$.registerProcessor(i9("pie")),$.registerProcessor(or("pie"))}var E21=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.hasSymbolVisual=!0,J}return Q.prototype.getInitialData=function(J,K){return X8(null,this,{useEncodeDefaulter:!0})},Q.prototype.getProgressive=function(){var J=this.option.progressive;if(J==null)return this.option.large?5000:this.get("progressive");return J},Q.prototype.getProgressiveThreshold=function(){var J=this.option.progressiveThreshold;if(J==null)return this.option.large?1e4:this.get("progressiveThreshold");return J},Q.prototype.brushSelector=function(J,K,Y){return Y.point(K.getItemLayout(J))},Q.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},Q.type="series.scatter",Q.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],Q.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2000,itemStyle:{opacity:0.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:a.color.primary}},universalTransition:{divideShape:"clone"}},Q}(m1),LC0=E21;var hC0=4,L21=function(){function $(){}return $}(),h21=function($){x(Q,$);function Q(J){var K=$.call(this,J)||this;return K._off=0,K.hoverDataIdx=-1,K}return Q.prototype.getDefaultShape=function(){return new L21},Q.prototype.reset=function(){this.notClear=!1,this._off=0},Q.prototype.buildPath=function(J,K){var{points:Y,size:q}=K,Z=this.symbolProxy,X=Z.shape,W=J.getContext?J.getContext():J,F=W&&q[0]<hC0,H=this.softClipShape,B;if(F){this._ctx=W;return}this._ctx=null;for(B=this._off;B<Y.length;){var z=Y[B++],A=Y[B++];if(isNaN(z)||isNaN(A))continue;if(H&&!H.contain(z,A))continue;X.x=z-q[0]/2,X.y=A-q[1]/2,X.width=q[0],X.height=q[1],Z.buildPath(J,X,!0)}if(this.incremental)this._off=B,this.notClear=!0},Q.prototype.afterBrush=function(){var J=this.shape,K=J.points,Y=J.size,q=this._ctx,Z=this.softClipShape,X;if(!q)return;for(X=this._off;X<K.length;){var W=K[X++],F=K[X++];if(isNaN(W)||isNaN(F))continue;if(Z&&!Z.contain(W,F))continue;q.fillRect(W-Y[0]/2,F-Y[1]/2,Y[0],Y[1])}if(this.incremental)this._off=X,this.notClear=!0},Q.prototype.findDataIndex=function(J,K){var Y=this.shape,q=Y.points,Z=Y.size,X=Math.max(Z[0],4),W=Math.max(Z[1],4);for(var F=q.length/2-1;F>=0;F--){var H=F*2,B=q[H]-X/2,z=q[H+1]-W/2;if(J>=B&&K>=z&&J<=B+X&&K<=z+W)return F}return-1},Q.prototype.contain=function(J,K){var Y=this.transformCoordToLocal(J,K),q=this.getBoundingRect();if(J=Y[0],K=Y[1],q.contain(J,K)){var Z=this.hoverDataIdx=this.findDataIndex(J,K);return Z>=0}return this.hoverDataIdx=-1,!1},Q.prototype.getBoundingRect=function(){var J=this._rect;if(!J){var K=this.shape,Y=K.points,q=K.size,Z=q[0],X=q[1],W=1/0,F=1/0,H=-1/0,B=-1/0;for(var z=0;z<Y.length;){var A=Y[z++],R=Y[z++];W=Math.min(A,W),H=Math.max(A,H),F=Math.min(R,F),B=Math.max(R,B)}J=this._rect=new u0(W-Z/2,F-X/2,H-W+Z,B-F+X)}return J},Q}(t0),v21=function(){function $(){this.group=new _0}return $.prototype.updateData=function(Q,J){this._clear();var K=this._create();K.setShape({points:Q.getLayout("points")}),this._setCommon(K,Q,J)},$.prototype.updateLayout=function(Q){var J=Q.getLayout("points");this.group.eachChild(function(K){if(K.startIndex!=null){var Y=(K.endIndex-K.startIndex)*2,q=K.startIndex*4*2;J=new Float32Array(J.buffer,q,Y)}K.setShape("points",J),K.reset()})},$.prototype.incrementalPrepareUpdate=function(Q){this._clear()},$.prototype.incrementalUpdate=function(Q,J,K){var Y=this._newAdded[0],q=J.getLayout("points"),Z=Y&&Y.shape.points;if(Z&&Z.length<20000){var X=Z.length,W=new Float32Array(X+q.length);W.set(Z),W.set(q,X),Y.endIndex=Q.end,Y.setShape({points:W})}else{this._newAdded=[];var F=this._create();F.startIndex=Q.start,F.endIndex=Q.end,F.incremental=!0,F.setShape({points:q}),this._setCommon(F,J,K)}},$.prototype.eachRendered=function(Q){this._newAdded[0]&&Q(this._newAdded[0])},$.prototype._create=function(){var Q=new h21({cursor:"default"});return Q.ignoreCoarsePointer=!0,this.group.add(Q),this._newAdded.push(Q),Q},$.prototype._setCommon=function(Q,J,K){var Y=J.hostModel;K=K||{};var q=J.getVisual("symbolSize");Q.setShape("size",q instanceof Array?q:[q,q]),Q.softClipShape=K.clipShape||null,Q.symbolProxy=j5(J.getVisual("symbol"),0,0,0,0),Q.setColor=Q.symbolProxy.setColor;var Z=Q.shape.size[0]<hC0;Q.useStyle(Y.getModel("itemStyle").getItemStyle(Z?["color","shadowBlur","shadowColor"]:["color"]));var X=J.getVisual("style"),W=X&&X.fill;if(W)Q.setColor(W);var F=m0(Q);F.seriesIndex=Y.seriesIndex,Q.on("mousemove",function(H){F.dataIndex=null;var B=Q.hoverDataIdx;if(B>=0)F.dataIndex=B+(Q.startIndex||0)})},$.prototype.remove=function(){this._clear()},$.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},$}(),vC0=v21;var S21=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){var q=J.getData(),Z=this._updateSymbolDraw(q,J);Z.updateData(q,{clipShape:this._getClipShape(J)}),this._finished=!0},Q.prototype.incrementalPrepareRender=function(J,K,Y){var q=J.getData(),Z=this._updateSymbolDraw(q,J);Z.incrementalPrepareUpdate(q),this._finished=!1},Q.prototype.incrementalRender=function(J,K,Y){this._symbolDraw.incrementalUpdate(J,K.getData(),{clipShape:this._getClipShape(K)}),this._finished=J.end===K.getData().count()},Q.prototype.updateTransform=function(J,K,Y){var q=J.getData();if(this.group.dirty(),!this._finished||q.count()>1e4)return{update:!0};else{var Z=VQ("").reset(J,K,Y);if(Z.progress)Z.progress({start:0,end:q.count(),count:q.count()},q);this._symbolDraw.updateLayout(q)}},Q.prototype.eachRendered=function(J){this._symbolDraw&&this._symbolDraw.eachRendered(J)},Q.prototype._getClipShape=function(J){if(!J.get("clip",!0))return;var K=J.coordinateSystem;return K&&K.getArea&&K.getArea(0.1)},Q.prototype._updateSymbolDraw=function(J,K){var Y=this._symbolDraw,q=K.pipelineContext,Z=q.large;if(!Y||Z!==this._isLargeDraw)Y&&Y.remove(),Y=this._symbolDraw=Z?new vC0:new nJ,this._isLargeDraw=Z,this.group.removeAll();return this.group.add(Y.group),Y},Q.prototype.remove=function(J,K){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},Q.prototype.dispose=function(){},Q.type="scatter",Q}(_1),SC0=S21;var tr={left:0,right:0,top:0,bottom:0},$w=["25%","25%"],_21=function($){x(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.mergeDefaultAndTheme=function(J,K){var Y=Y9(J.outerBounds);if($.prototype.mergeDefaultAndTheme.apply(this,arguments),Y&&J.outerBounds)j8(J.outerBounds,Y)},Q.prototype.mergeOption=function(J,K){if($.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&J.outerBounds)j8(this.option.outerBounds,J.outerBounds)},Q.type="grid",Q.dependencies=["xAxis","yAxis"],Q.layoutMode="box",Q.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:tr,outerBoundsContain:"all",outerBoundsClampWidth:$w[0],outerBoundsClampHeight:$w[1],backgroundColor:a.color.transparent,borderWidth:1,borderColor:a.color.neutral30},Q}(B1),_C0=_21;var Av=function($){x(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",w5).models[0]},Q.type="cartesian2dAxis",Q}(B1);_5(Av,uJ);var fC0={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:a.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:a.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:a.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[a.color.backgroundTint,a.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:a.color.neutral00,borderColor:a.color.border,borderWidth:1,borderType:[3,3],opacity:0.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},f21=K1({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},fC0),er=K1({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:a.color.axisMinorSplitLine,width:1}}},fC0),I21=K1({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},er),M21=b0({logBase:10},er),Vv={category:f21,value:er,time:I21,log:M21};var IC0={value:1,category:1,time:1,log:1};var $i=null;function MC0($){if(!$i)$i=$}function PY(){return $i}function RQ($,Q,J,K){v(IC0,function(Y,q){var Z=K1(K1({},Vv[q],!0),K,!0),X=function(W){x(F,W);function F(){var H=W!==null&&W.apply(this,arguments)||this;return H.type=Q+"Axis."+q,H}return F.prototype.mergeDefaultAndTheme=function(H,B){var z=vZ(this),A=z?Y9(H):{},R=B.getTheme();if(K1(H,R.get(q+"Axis")),K1(H,this.getDefaultOption()),H.type=bC0(H),z)j8(H,A,z)},F.prototype.optionUpdated=function(){var H=this.option;if(H.type==="category")this.__ordinalMeta=yZ.createByAxisModel(this)},F.prototype.getCategories=function(H){var B=this.option;if(B.type==="category"){if(H)return B.data;return this.__ordinalMeta.categories}},F.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},F.prototype.updateAxisBreaks=function(H){var B=PY();return B?B.updateModelAxisBreak(this,H):{breaks:[]}},F.type=Q+"Axis."+q,F.defaultOption=Z,F}(J);$.registerComponentModel(X)}),$.registerSubTypeDefaulter(Q+"Axis",bC0)}function bC0($){return $.type||($.data?"category":"value")}var b21=function(){function $(Q){this.type="cartesian",this._dimList=[],this._axes={},this.name=Q||""}return $.prototype.getAxis=function(Q){return this._axes[Q]},$.prototype.getAxes=function(){return K0(this._dimList,function(Q){return this._axes[Q]},this)},$.prototype.getAxesByScale=function(Q){return Q=Q.toLowerCase(),j1(this.getAxes(),function(J){return J.scale.type===Q})},$.prototype.addAxis=function(Q){var J=Q.dim;this._axes[J]=Q,this._dimList.push(J)},$}(),gC0=b21;var Rv=["x","y"];function yC0($){return($.type==="interval"||$.type==="time")&&!$.hasBreaks()}var g21=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type="cartesian2d",J.dimensions=Rv,J}return Q.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var J=this.getAxis("x").scale,K=this.getAxis("y").scale;if(!yC0(J)||!yC0(K))return;var Y=J.getExtent(),q=K.getExtent(),Z=this.dataToPoint([Y[0],q[0]]),X=this.dataToPoint([Y[1],q[1]]),W=Y[1]-Y[0],F=q[1]-q[0];if(!W||!F)return;var H=(X[0]-Z[0])/W,B=(X[1]-Z[1])/F,z=Z[0]-Y[0]*H,A=Z[1]-q[0]*B,R=this._transform=[H,0,0,B,z,A];this._invTransform=D7([],R)},Q.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},Q.prototype.containPoint=function(J){var K=this.getAxis("x"),Y=this.getAxis("y");return K.contain(K.toLocalCoord(J[0]))&&Y.contain(Y.toLocalCoord(J[1]))},Q.prototype.containData=function(J){return this.getAxis("x").containData(J[0])&&this.getAxis("y").containData(J[1])},Q.prototype.containZone=function(J,K){var Y=this.dataToPoint(J),q=this.dataToPoint(K),Z=this.getArea(),X=new u0(Y[0],Y[1],q[0]-Y[0],q[1]-Y[1]);return Z.intersect(X)},Q.prototype.dataToPoint=function(J,K,Y){Y=Y||[];var q=J[0],Z=J[1];if(this._transform&&q!=null&&isFinite(q)&&Z!=null&&isFinite(Z))return o5(Y,J,this._transform);var X=this.getAxis("x"),W=this.getAxis("y");return Y[0]=X.toGlobalCoord(X.dataToCoord(q,K)),Y[1]=W.toGlobalCoord(W.dataToCoord(Z,K)),Y},Q.prototype.clampData=function(J,K){var Y=this.getAxis("x").scale,q=this.getAxis("y").scale,Z=Y.getExtent(),X=q.getExtent(),W=Y.parse(J[0]),F=q.parse(J[1]);return K=K||[],K[0]=Math.min(Math.max(Math.min(Z[0],Z[1]),W),Math.max(Z[0],Z[1])),K[1]=Math.min(Math.max(Math.min(X[0],X[1]),F),Math.max(X[0],X[1])),K},Q.prototype.pointToData=function(J,K,Y){if(Y=Y||[],this._invTransform)return o5(Y,J,this._invTransform);var q=this.getAxis("x"),Z=this.getAxis("y");return Y[0]=q.coordToData(q.toLocalCoord(J[0]),K),Y[1]=Z.coordToData(Z.toLocalCoord(J[1]),K),Y},Q.prototype.getOtherAxis=function(J){return this.getAxis(J.dim==="x"?"y":"x")},Q.prototype.getArea=function(J){J=J||0;var K=this.getAxis("x").getGlobalExtent(),Y=this.getAxis("y").getGlobalExtent(),q=Math.min(K[0],K[1])-J,Z=Math.min(Y[0],Y[1])-J,X=Math.max(K[0],K[1])-q+J,W=Math.max(Y[0],Y[1])-Z+J;return new u0(q,Z,X,W)},Q}(gC0),xC0=g21;var y21=function($){x(Q,$);function Q(J,K,Y,q,Z){var X=$.call(this,J,K,Y)||this;return X.index=0,X.type=q||"value",X.position=Z||"bottom",X}return Q.prototype.isHorizontal=function(){var J=this.position;return J==="top"||J==="bottom"},Q.prototype.getGlobalExtent=function(J){var K=this.getExtent();return K[0]=this.toGlobalCoord(K[0]),K[1]=this.toGlobalCoord(K[1]),J&&K[0]>K[1]&&K.reverse(),K},Q.prototype.pointToData=function(J,K){return this.coordToData(this.toLocalCoord(J[this.dim==="x"?0:1]),K)},Q.prototype.setCategorySortInfo=function(J){if(this.type!=="category")return!1;this.model.option.categorySortInfo=J,this.scale.setSortInfo(J)},Q}(W8),Gv=y21;var QB="expandAxisBreak",Qi="collapseAxisBreak",Ji="toggleAxisBreak",Ki="axisbreakchanged",x21={type:QB,event:Ki,update:"update",refineEvent:Yi},c21={type:Qi,event:Ki,update:"update",refineEvent:Yi},u21={type:Ji,event:Ki,update:"update",refineEvent:Yi};function Yi($,Q,J,K){var Y=[];return v($,function(q){Y=Y.concat(q.eventBreaks)}),{eventContent:{breaks:Y}}}function cC0($){$.registerAction(x21,Q),$.registerAction(c21,Q),$.registerAction(u21,Q);function Q(J,K){var Y=[],q=kJ(K,J);function Z(X,W){v(q[X],function(F){var H=F.updateAxisBreaks(J);v(H.breaks,function(B){var z;Y.push(b0((z={},z[W]=F.componentIndex,z),B))})})}return Z("xAxisModels","xAxisIndex"),Z("yAxisModels","yAxisIndex"),Z("singleAxisModels","singleAxisIndex"),{eventBreaks:Y}}}var rZ=Math.PI,m21=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],p21=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],KF=n0(),pC0=n0(),Zi=function(){function $(Q){this.recordMap={},this.resolveAxisNameOverlap=Q}return $.prototype.ensureRecord=function(Q){var J=Q.axis.dim,K=Q.componentIndex,Y=this.recordMap,q=Y[J]||(Y[J]=[]);return q[K]||(q[K]={ready:{}})},$}();function d21($,Q,J,K){var Y=J.axis,q=Q.ensureRecord(J),Z=[],X,W=Fi($.axisName)&&mZ($.nameLocation);v(K,function(R){var G=zQ(R);if(!G||G.label.ignore)return;Z.push(G);var w=q.transGroup;if(W){if(w.transform?D7(Qw,w.transform):NZ(Qw),G.transform)T8(Qw,Qw,G.transform);u0.copy(wv,G.localRect),wv.applyTransform(Qw),X?X.union(wv):u0.copy(X=new u0(0,0,0,0),wv)}});var F=Math.abs(q.dirVec.x)>0.1?"x":"y",H=q.transGroup[F];if(Z.sort(function(R,G){return Math.abs(R.label[F]-H)-Math.abs(G.label[F]-H)}),W&&X){var B=Y.getExtent(),z=Math.min(B[0],B[1]),A=Math.max(B[0],B[1])-z;X.union(new u0(z,0,A,1))}q.stOccupiedRect=X,q.labelInfoList=Z}var Qw=Q6(),wv=new u0(0,0,0,0),Xi=function($,Q,J,K,Y,q){if(mZ($.nameLocation)){var Z=q.stOccupiedRect;if(Z)dC0(GD0({},Z,q.transGroup.transform),K,Y)}else Wi(q.labelInfoList,q.dirVec,K,Y)};function dC0($,Q,J){var K=new e0;if(aN($,Q,K,{direction:Math.atan2(J.y,J.x),bidirectional:!1,touchThreshold:0.05}))pG(Q,K)}function Wi($,Q,J,K){var Y=e0.dot(K,Q)>=0;for(var q=0,Z=$.length;q<Z;q++){var X=$[Y?q:Z-1-q];if(!X.label.ignore)dC0(X,J,K)}}var JF=function(){function $(Q,J,K,Y){this.group=new _0,this._axisModel=Q,this._api=J,this._local={},this._shared=Y||new Zi(Xi),this._resetCfgDetermined(K)}return $.prototype.updateCfg=function(Q){var J=this._shared.ensureRecord(this._axisModel).ready;S0(!J.axisLine&&!J.axisTickLabelDetermine),J.axisName=J.axisTickLabelEstimate=!1;var K=this._cfg.raw;K.position=Q.position,K.labelOffset=Q.labelOffset,this._resetCfgDetermined(K)},$.prototype.__getRawCfg=function(){return this._cfg.raw},$.prototype._resetCfgDetermined=function(Q){var J=this._axisModel,K=J.getDefaultOption?J.getDefaultOption():{},Y=f0(Q.axisName,J.get("name")),q=J.get("nameMoveOverlap");if(q==null||q==="auto")q=f0(Q.defaultNameMoveOverlap,!0);var Z={raw:Q,position:Q.position,rotation:Q.rotation,nameDirection:f0(Q.nameDirection,1),tickDirection:f0(Q.tickDirection,1),labelDirection:f0(Q.labelDirection,1),labelOffset:f0(Q.labelOffset,0),silent:f0(Q.silent,!0),axisName:Y,nameLocation:B6(J.get("nameLocation"),K.nameLocation,"end"),shouldNameMoveOverlap:Fi(Y)&&q,optionHideOverlap:J.get(["axisLabel","hideOverlap"]),showMinorTicks:J.get(["minorTick","show"])};S0(Z.position!=null),S0(Z.rotation!=null),this._cfg=Z;var X=new _0({x:Z.position[0],y:Z.position[1],rotation:Z.rotation});X.updateTransform(),this._transformGroup=X;var W=this._shared.ensureRecord(J);W.transGroup=this._transformGroup,W.dirVec=new e0(Math.cos(-Z.rotation),Math.sin(-Z.rotation))},$.prototype.build=function(Q,J){var K=this;if(!Q)Q={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0};return v(n21,function(Y){if(Q[Y])l21[Y](K._cfg,K._local,K._shared,K._axisModel,K.group,K._transformGroup,K._api,J||{})}),this},$.innerTextLayout=function(Q,J,K){var Y=Cd(J-Q),q,Z;if(BW(Y))Z=K>0?"top":"bottom",q="center";else if(BW(Y-rZ))Z=K>0?"bottom":"top",q="center";else if(Z="middle",Y>0&&Y<rZ)q=K>0?"right":"left";else q=K>0?"left":"right";return{rotation:Y,textAlign:q,textVerticalAlign:Z}},$.makeAxisEventDataBase=function(Q){var J={componentType:Q.mainType,componentIndex:Q.componentIndex};return J[Q.mainType+"Index"]=Q.componentIndex,J},$.isLabelSilent=function(Q){var J=Q.get("tooltip");return Q.get("silent")||!(Q.get("triggerEvent")||J&&J.show)},$}(),n21=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],l21={axisLine:function($,Q,J,K,Y,q,Z){var X=J.ensureRecord(K).ready;S0(!X.axisLine),X.axisLine=!0;var W=K.get(["axisLine","show"]);if(W==="auto"){if(W=!0,$.raw.axisLineAutoShow!=null)W=!!$.raw.axisLineAutoShow}if(!W)return;var F=K.axis.getExtent(),H=q.transform,B=[F[0],0],z=[F[1],0],A=B[0]>z[0];if(H)o5(B,B,H),o5(z,z,H);var R=Q0({lineCap:"round"},K.getModel(["axisLine","lineStyle"]).getLineStyle()),G={strokeContainThreshold:$.raw.strokeContainThreshold||5,silent:!0,z2:1,style:R};if(K.get(["axisLine","breakLine"])&&K.axis.scale.hasBreaks())PY().buildAxisBreakLine(K,Y,q,G);else{var w=new l5(Q0({shape:{x1:B[0],y1:B[1],x2:z[0],y2:z[1]}},G));HY(w.shape,w.style.lineWidth),w.anid="line",Y.add(w)}var T=K.get(["axisLine","symbol"]);if(T!=null){var D=K.get(["axisLine","symbolSize"]);if(B0(T))T=[T,T];if(B0(D)||U1(D))D=[D,D];var P=n9(K.get(["axisLine","symbolOffset"])||0,D),j=D[0],E=D[1];v([{rotate:$.rotation+Math.PI/2,offset:P[0],r:0},{rotate:$.rotation-Math.PI/2,offset:P[1],r:Math.sqrt((B[0]-z[0])*(B[0]-z[0])+(B[1]-z[1])*(B[1]-z[1]))}],function(L,h){if(T[h]!=="none"&&T[h]!=null){var _=j5(T[h],-j/2,-E/2,j,E,R.stroke,!0),S=L.r+L.offset,I=A?z:B;_.attr({rotation:L.rotate,x:I[0]+S*Math.cos($.rotation),y:I[1]-S*Math.sin($.rotation),silent:!0,z2:11}),Y.add(_)}})}},axisTickLabelEstimate:function($,Q,J,K,Y,q,Z,X){var W=J.ensureRecord(K).ready;S0(!W.axisTickLabelDetermine),W.axisTickLabelEstimate=!0;var F=mC0(Q,Y,X);if(F)uC0($,Q,J,K,Y,q,Z,U9.estimate)},axisTickLabelDetermine:function($,Q,J,K,Y,q,Z,X){var W=J.ensureRecord(K).ready;W.axisTickLabelDetermine=!0;var F=mC0(Q,Y,X);if(F)uC0($,Q,J,K,Y,q,Z,U9.determine);var H=o21($,Y,q,K);s21($,Q.labelLayoutList,H),a21($,Y,q,K,$.tickDirection)},axisName:function($,Q,J,K,Y,q,Z,X){var W=J.ensureRecord(K),F=W.ready;if(S0(F.axisTickLabelEstimate||F.axisTickLabelDetermine),F.axisName=!0,Q.nameEl)Y.remove(Q.nameEl),Q.nameEl=W.nameLayout=W.nameLocation=null;var H=$.axisName;if(!Fi(H))return;var{nameLocation:B,nameDirection:z}=$,A=K.getModel("nameTextStyle"),R=K.get("nameGap")||0,G=K.axis.getExtent(),w=K.axis.inverse?-1:1,T=new e0(0,0),D=new e0(0,0);if(B==="start")T.x=G[0]-w*R,D.x=-w;else if(B==="end")T.x=G[1]+w*R,D.x=w;else T.x=(G[0]+G[1])/2,T.y=$.labelOffset+z*R,D.y=z;var P=Q6();D.transform(u8(P,P,$.rotation));var j=K.get("nameRotate");if(j!=null)j=j*rZ/180;var E,L;if(mZ(B))E=JF.innerTextLayout($.rotation,j!=null?j:$.rotation,z);else if(E=r21($.rotation,B,j||0,G),L=$.raw.axisNameAvailableWidth,L!=null)L=Math.abs(L/Math.sin(E.rotation)),!isFinite(L)&&(L=null);var h=A.getFont(),_=K.get("nameTruncate",!0)||{},S=_.ellipsis,I=u5($.raw.nameTruncateMaxWidth,_.maxWidth,L),M=X.nameMarginLevel||0,y=new w1({x:T.x,y:T.y,rotation:E.rotation,silent:JF.isLabelSilent(K),style:Z5(A,{text:H,font:h,overflow:"truncate",width:I,ellipsis:S,fill:A.getTextColor()||K.get(["axisLine","lineStyle","color"]),align:A.get("align")||E.textAlign,verticalAlign:A.get("verticalAlign")||E.textVerticalAlign}),z2:1});if(r8({el:y,componentModel:K,itemName:H}),y.__fullText=H,y.anid="name",K.get("triggerEvent")){var b=JF.makeAxisEventDataBase(K);b.targetType="axisName",b.name=H,m0(y).eventData=b}q.add(y),y.updateTransform(),Q.nameEl=y;var u=W.nameLayout=zQ({label:y,priority:y.z2,defaultAttr:{ignore:y.ignore},marginDefault:mZ(B)?m21[M]:p21[M]});if(W.nameLocation=B,Y.add(y),y.decomposeTransform(),$.shouldNameMoveOverlap&&u){var c=J.ensureRecord(K);S0(c.labelInfoList),J.resolveAxisNameOverlap($,J,K,u,D,c)}}};function uC0($,Q,J,K,Y,q,Z,X){if(!lC0(Q))t21($,Q,Y,X,K,Z);var W=Q.labelLayoutList;e21($,K,W,q),JX1(K,$.rotation,W);var F=$.optionHideOverlap;if(i21(K,W,F),F)oh(j1(W,function(H){return H&&!H.label.ignore}));d21($,J,K,W)}function r21($,Q,J,K){var Y=Cd(J-$),q,Z,X=K[0]>K[1],W=Q==="start"&&!X||Q!=="start"&&X;if(BW(Y-rZ/2))Z=W?"bottom":"top",q="center";else if(BW(Y-rZ*1.5))Z=W?"top":"bottom",q="center";else if(Z="middle",Y<rZ*1.5&&Y>rZ/2)q=W?"left":"right";else q=W?"right":"left";return{rotation:Y,textAlign:q,textVerticalAlign:Z}}function i21($,Q,J){if(dh($.axis))return;function K(X,W,F){var H=zQ(Q[W]),B=zQ(Q[F]);if(!H||!B)return;if(X===!1||H.suggestIgnore){Jw(H.label);return}if(B.suggestIgnore){Jw(B.label);return}var z=0.1;if(!J){var A=[0,0,0,0];H=dG({marginForce:A},H),B=dG({marginForce:A},B)}if(aN(H,B,null,{touchThreshold:z}))if(X)Jw(B.label);else Jw(H.label)}var Y=$.get(["axisLabel","showMinLabel"]),q=$.get(["axisLabel","showMaxLabel"]),Z=Q.length;K(Y,0,1),K(q,Z-1,Z-2)}function s21($,Q,J){if($.showMinorTicks)return;v(Q,function(K){if(K&&K.label.ignore)for(var Y=0;Y<J.length;Y++){var q=J[Y],Z=pC0(q),X=KF(K.label);if(Z.tickValue!=null&&!Z.onBand&&Z.tickValue===X.tickValue){Jw(q);return}}})}function Jw($){$&&($.ignore=!0)}function nC0($,Q,J,K,Y){var q=[],Z=[],X=[];for(var W=0;W<$.length;W++){var F=$[W].coord;if(Z[0]=F,Z[1]=0,X[0]=F,X[1]=J,Q)o5(Z,Z,Q),o5(X,X,Q);var H=new l5({shape:{x1:Z[0],y1:Z[1],x2:X[0],y2:X[1]},style:K,z2:2,autoBatch:!0,silent:!0});HY(H.shape,H.style.lineWidth),H.anid=Y+"_"+$[W].tickValue,q.push(H);var B=pC0(H);B.onBand=!!$[W].onBand,B.tickValue=$[W].tickValue}return q}function o21($,Q,J,K){var Y=K.axis,q=K.getModel("axisTick"),Z=q.get("show");if(Z==="auto"){if(Z=!0,$.raw.axisTickAutoShow!=null)Z=!!$.raw.axisTickAutoShow}if(!Z||Y.scale.isBlank())return[];var X=q.getModel("lineStyle"),W=$.tickDirection*q.get("length"),F=Y.getTicksCoords(),H=nC0(F,J.transform,W,b0(X.getLineStyle(),{stroke:K.get(["axisLine","lineStyle","color"])}),"ticks");for(var B=0;B<H.length;B++)Q.add(H[B]);return H}function a21($,Q,J,K,Y){var q=K.axis,Z=K.getModel("minorTick");if(!$.showMinorTicks||q.scale.isBlank())return;var X=q.getMinorTicksCoords();if(!X.length)return;var W=Z.getModel("lineStyle"),F=Y*Z.get("length"),H=b0(W.getLineStyle(),b0(K.getModel("axisTick").getLineStyle(),{stroke:K.get(["axisLine","lineStyle","color"])}));for(var B=0;B<X.length;B++){var z=nC0(X[B],J.transform,F,H,"minorticks_"+B);for(var A=0;A<z.length;A++)Q.add(z[A])}}function mC0($,Q,J){if(lC0($)){var K=$.axisLabelsCreationContext;S0($.labelGroup&&K);var Y=K.out.noPxChangeTryDetermine;if(J.noPxChange){var q=!0;for(var Z=0;Z<Y.length;Z++)q=q&&Y[Z]();if(q)return!1}if(Y.length)Q.remove($.labelGroup),qi($,null,null,null)}return!0}function t21($,Q,J,K,Y,q){var Z=Y.axis,X=u5($.raw.axisLabelShow,Y.get(["axisLabel","show"])),W=new _0;J.add(W);var F=iN(K);if(!X||Z.scale.isBlank()){qi(Q,[],W,F);return}var H=Y.getModel("axisLabel"),B=Z.getViewLabels(F),z=(u5($.raw.labelRotate,H.get("rotate"))||0)*rZ/180,A=JF.innerTextLayout($.rotation,z,$.labelDirection),R=Y.getCategories&&Y.getCategories(!0),G=[],w=Y.get("triggerEvent"),T=1/0,D=-1/0;v(B,function(j,E){var L,h=Z.scale.type==="ordinal"?Z.scale.getRawOrdinalNumber(j.tickValue):j.tickValue,_=j.formattedLabel,S=j.rawLabel,I=H;if(R&&R[h]){var M=R[h];if(I0(M)&&M.textStyle)I=new D1(M.textStyle,H,Y.ecModel)}var y=I.getTextColor()||Y.get(["axisLine","lineStyle","color"]),b=I.getShallow("align",!0)||A.textAlign,u=f0(I.getShallow("alignMinLabel",!0),b),c=f0(I.getShallow("alignMaxLabel",!0),b),m=I.getShallow("verticalAlign",!0)||I.getShallow("baseline",!0)||A.textVerticalAlign,i=f0(I.getShallow("verticalAlignMinLabel",!0),m),o=f0(I.getShallow("verticalAlignMaxLabel",!0),m),n=10+(((L=j.time)===null||L===void 0?void 0:L.level)||0);T=Math.min(T,n),D=Math.max(D,n);var e=new w1({x:0,y:0,rotation:0,silent:JF.isLabelSilent(Y),z2:n,style:Z5(I,{text:_,align:E===0?u:E===B.length-1?c:b,verticalAlign:E===0?i:E===B.length-1?o:m,fill:v0(y)?y(Z.type==="category"?S:Z.type==="value"?h+"":h,E):y})});e.anid="label_"+h;var Z0=KF(e);if(Z0.break=j.break,Z0.tickValue=h,Z0.layoutRotation=A.rotation,r8({el:e,componentModel:Y,itemName:_,formatterParamsExtra:{isTruncated:function(){return e.isTruncated},value:S,tickIndex:E}}),w){var q0=JF.makeAxisEventDataBase(Y);if(q0.targetType="axisLabel",q0.value=S,q0.tickIndex=E,j.break)q0.break={start:j.break.parsedBreak.vmin,end:j.break.parsedBreak.vmax};if(Z.type==="category")q0.dataIndex=h;if(m0(e).eventData=q0,j.break)QX1(Y,q,e,j.break)}G.push(e),W.add(e)});var P=K0(G,function(j){return{label:j,priority:KF(j).break?j.z2+(D-T+1):j.z2,defaultAttr:{ignore:j.ignore}}});qi(Q,P,W,F)}function lC0($){return!!$.labelLayoutList}function qi($,Q,J,K){$.labelLayoutList=Q,$.labelGroup=J,$.axisLabelsCreationContext=K}function e21($,Q,J,K){var Y=Q.get(["axisLabel","margin"]);v(J,function(q,Z){var X=zQ(q);if(!X)return;var W=X.label,F=KF(W);X.suggestIgnore=W.ignore,W.ignore=!1,HN(kY,$X1),kY.x=Q.axis.dataToCoord(F.tickValue),kY.y=$.labelOffset+$.labelDirection*Y,kY.rotation=F.layoutRotation,K.add(kY),kY.updateTransform(),K.remove(kY),kY.decomposeTransform(),HN(W,kY),W.markRedraw(),mG(X,!0),zQ(X)})}var kY=new Q1,$X1=new Q1;function Fi($){return!!$}function QX1($,Q,J,K){J.on("click",function(Y){var q={type:QB,breaks:[{start:K.parsedBreak.breakOption.start,end:K.parsedBreak.breakOption.end}]};q[$.axis.dim+"AxisIndex"]=$.componentIndex,Q.dispatchAction(q)})}function JX1($,Q,J){var K=Z6();if(!K)return;var Y=K.retrieveAxisBreakPairs(J,function(Z){return Z&&KF(Z.label).break},!0),q=$.get(["breakLabelLayout","moveOverlap"],!0);if(q===!0||q==="auto")v(Y,function(Z){PY().adjustBreakLabelPair($.axis.inverse,Q,[zQ(J[Z[0]]),zQ(J[Z[1]])])})}var L8=JF;function Kw($,Q,J){J=J||{};var K=Q.axis,Y={},q=K.getAxesOnZeroOf()[0],Z=K.position,X=q?"onZero":Z,W=K.dim,F=[$.x,$.x+$.width,$.y,$.y+$.height],H={left:0,right:1,top:0,bottom:1,onZero:2},B=Q.get("offset")||0,z=W==="x"?[F[2]-B,F[3]+B]:[F[0]-B,F[1]+B];if(q){var A=q.toGlobalCoord(q.dataToCoord(0));z[H.onZero]=Math.max(Math.min(A,z[1]),z[0])}Y.position=[W==="y"?z[H[X]]:F[0],W==="x"?z[H[X]]:F[3]],Y.rotation=Math.PI/2*(W==="x"?0:1);var R={top:-1,bottom:1,left:-1,right:1};if(Y.labelDirection=Y.tickDirection=Y.nameDirection=R[Z],Y.labelOffset=q?z[H[Z]]-z[H.onZero]:0,Q.get(["axisTick","inside"]))Y.tickDirection=-Y.tickDirection;if(u5(J.labelInside,Q.get(["axisLabel","inside"])))Y.labelDirection=-Y.labelDirection;var G=Q.get(["axisLabel","rotate"]);return Y.labelRotate=X==="top"?-G:G,Y.z2=1,Y}function rC0($){return $.coordinateSystem&&$.coordinateSystem.type==="cartesian2d"}function Ui($){var Q={xAxisModel:null,yAxisModel:null};return v(Q,function(J,K){var Y=K.replace(/Model$/,""),q=$.getReferringComponents(Y,w5).models[0];if(!q)throw Error(Y+' "'+B6($.get(Y+"Index"),$.get(Y+"Id"),0)+'" not found');Q[K]=q}),Q}function iC0($,Q,J,K,Y,q){var Z=Kw($,J),X=!1,W=!1;for(var F=0;F<Q.length;F++)if(yG(Q[F].getOtherAxis(J.axis).scale)){if(X=W=!0,J.axis.type==="category"&&J.axis.onBand)W=!1}return Z.axisLineAutoShow=X,Z.axisTickAutoShow=W,Z.defaultNameMoveOverlap=q,new L8(J,K,Z,Y)}function sC0($,Q,J){var K=Kw(Q,J),Y=$.__getRawCfg();v(Z1(K),function(q){if(q!=="position"&&q!=="labelOffset")S0(K[q]===Y[q])}),$.updateCfg(K)}function Ov($,Q,J){var K,Y=F9.prototype,q=Y.getTicks.call(J),Z=Y.getTicks.call(J,{expandToNicedExtent:!0}),X=q.length-1,W=Y.getInterval.call(J),F=tl($,Q),H=F.extent,B=F.fixMin,z=F.fixMax;if($.type==="log")H=xG($.base,H,!0);$.setBreaksFromOption(el(Q)),$.setExtent(H[0],H[1]),$.calcNiceExtent({splitNumber:X,fixMin:B,fixMax:z});var A=Y.getExtent.call($);if(B)H[0]=A[0];if(z)H[1]=A[1];var R=Y.getInterval.call($),G=H[0],w=H[1];if(B&&z)R=(w-G)/X;else if(B){w=H[0]+R*X;while(w<H[1]&&isFinite(w)&&isFinite(H[1]))R=fh(R),w=H[0]+R*X}else if(z){G=H[1]-R*X;while(G>H[0]&&isFinite(G)&&isFinite(H[0]))R=fh(R),G=H[1]-R*X}else{var T=$.getTicks().length-1;if(T>X)R=fh(R);var D=R*X;if(w=Math.ceil(H[1]/R)*R,G=d5(w-D),G<0&&H[0]>=0)G=0,w=d5(D);else if(w>0&&H[1]<=0)w=0,G=-d5(D)}var P=(q[0].value-Z[0].value)/W,j=(q[X].value-Z[X].value)/W;if(Y.setExtent.call($,G+R*P,w+R*j),Y.setInterval.call($,R),P||j)Y.setNiceExtent.call($,G+R,w-R);var E=Y.getTicks.call($);if(E[1]&&(!hT0(R)||jE(E[1].value)>jE(R)))T5("The ticks may be not readable when set min: "+Q.get("min")+", max: "+Q.get("max")+(" and alignTicks: true. ("+((K=Q.axis)===null||K===void 0?void 0:K.dim)+"AxisIndex: "+Q.componentIndex+")"),!0)}var oC0=[[3,1],[0,2]],YX1=function(){function $(Q,J,K){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Rv,this._initCartesian(Q,J,K),this.model=Q}return $.prototype.getRect=function(){return this._rect},$.prototype.update=function(Q,J){var K=this._axesMap;this._updateScale(Q,this.model);function Y(Z){var X,W=Z1(Z),F=W.length;if(!F)return;var H=[];for(var B=F-1;B>=0;B--){var z=+W[B],A=Z[z],R=A.model,G=A.scale;if(yG(G)&&R.get("alignTicks")&&R.get("interval")==null)H.push(A);else if(cJ(G,R),yG(G))X=A}if(H.length){if(!X)X=H.pop(),cJ(X.scale,X.model);v(H,function(w){Ov(w.scale,w.model,X.scale)})}}Y(K.x),Y(K.y);var q={};v(K.x,function(Z){aC0(K,"y",Z,q)}),v(K.y,function(Z){aC0(K,"x",Z,q)}),this.resize(this.model,J)},$.prototype.resize=function(Q,J,K){var Y=D5(Q,J),q=this._rect=e1(Q.getBoxLayoutParams(),Y.refContainer),Z=this._axesMap,X=this._coordsList,W=Q.get("containLabel");if(Ni(Z,q),!K){var F=ZX1(q,X,Z,W,J),H=void 0;if(W)if(Bi)Bi(this._axesList,q),Ni(Z,q);else _E("Specified `grid.containLabel` but no `use(LegacyGridContainLabel)`;use `grid.outerBounds` instead.",!0),H=$P0(q.clone(),"axisLabel",null,q,Z,F,Y);else{var B=XX1(Q,q,Y),z=B.outerBoundsRect,A=B.parsedOuterBoundsContain,R=B.outerBoundsClamp;if(z)H=$P0(z,A,R,q,Z,F,Y)}JP0(q,Z,U9.determine,null,H,Y)}v(this._coordsList,function(G){G.calcAffineTransform()})},$.prototype.getAxis=function(Q,J){var K=this._axesMap[Q];if(K!=null)return K[J||0]},$.prototype.getAxes=function(){return this._axesList.slice()},$.prototype.getCartesian=function(Q,J){if(Q!=null&&J!=null){var K="x"+Q+"y"+J;return this._coordsMap[K]}if(I0(Q))J=Q.yAxisIndex,Q=Q.xAxisIndex;for(var Y=0,q=this._coordsList;Y<q.length;Y++)if(q[Y].getAxis("x").index===Q||q[Y].getAxis("y").index===J)return q[Y]},$.prototype.getCartesians=function(){return this._coordsList.slice()},$.prototype.convertToPixel=function(Q,J,K){var Y=this._findConvertTarget(J);return Y.cartesian?Y.cartesian.dataToPoint(K):Y.axis?Y.axis.toGlobalCoord(Y.axis.dataToCoord(K)):null},$.prototype.convertFromPixel=function(Q,J,K){var Y=this._findConvertTarget(J);return Y.cartesian?Y.cartesian.pointToData(K):Y.axis?Y.axis.coordToData(Y.axis.toLocalCoord(K)):null},$.prototype._findConvertTarget=function(Q){var J=Q.seriesModel,K=Q.xAxisModel||J&&J.getReferringComponents("xAxis",w5).models[0],Y=Q.yAxisModel||J&&J.getReferringComponents("yAxis",w5).models[0],q=Q.gridModel,Z=this._coordsList,X,W;if(J)X=J.coordinateSystem,o0(Z,X)<0&&(X=null);else if(K&&Y)X=this.getCartesian(K.componentIndex,Y.componentIndex);else if(K)W=this.getAxis("x",K.componentIndex);else if(Y)W=this.getAxis("y",Y.componentIndex);else if(q){var F=q.coordinateSystem;if(F===this)X=this._coordsList[0]}return{cartesian:X,axis:W}},$.prototype.containPoint=function(Q){var J=this._coordsList[0];if(J)return J.containPoint(Q)},$.prototype._initCartesian=function(Q,J,K){var Y=this,q=this,Z={left:!1,right:!1,top:!1,bottom:!1},X={x:{},y:{}},W={x:0,y:0};if(J.eachComponent("xAxis",F("x"),this),J.eachComponent("yAxis",F("y"),this),!W.x||!W.y){this._axesMap={},this._axesList=[];return}this._axesMap=X,v(X.x,function(H,B){v(X.y,function(z,A){var R="x"+B+"y"+A,G=new xC0(R);G.master=Y,G.model=Q,Y._coordsMap[R]=G,Y._coordsList.push(G),G.addAxis(H),G.addAxis(z)})});function F(H){return function(B,z){if(!Hi(B,Q))return;var A=B.get("position");if(H==="x"){if(A!=="top"&&A!=="bottom")A=Z.bottom?"top":"bottom"}else if(A!=="left"&&A!=="right")A=Z.left?"right":"left";Z[A]=!0;var R=new Gv(H,cZ(B),[0,0],B.get("type"),A),G=R.type==="category";R.onBand=G&&B.get("boundaryGap"),R.inverse=B.get("inverse"),B.axis=R,R.model=B,R.grid=q,R.index=z,q._axesList.push(R),X[H][z]=R,W[H]++}}},$.prototype._updateScale=function(Q,J){v(this._axesList,function(Y){if(Y.scale.setExtent(1/0,-1/0),Y.type==="category"){var q=Y.model.get("categorySortInfo");Y.scale.setSortInfo(q)}}),Q.eachSeries(function(Y){if(rC0(Y)){var q=Ui(Y),Z=q.xAxisModel,X=q.yAxisModel;if(!Hi(Z,J)||!Hi(X,J))return;var W=this.getCartesian(Z.componentIndex,X.componentIndex),F=Y.getData(),H=W.getAxis("x"),B=W.getAxis("y");K(F,H),K(F,B)}},this);function K(Y,q){v(rN(Y,q.dim),function(Z){q.scale.unionExtentFromData(Y,Z)})}},$.prototype.getTooltipAxes=function(Q){var J=[],K=[];return v(this.getCartesians(),function(Y){var q=Q!=null&&Q!=="auto"?Y.getAxis(Q):Y.getBaseAxis(),Z=Y.getOtherAxis(q);o0(J,q)<0&&J.push(q),o0(K,Z)<0&&K.push(Z)}),{baseAxes:J,otherAxes:K}},$.create=function(Q,J){var K=[];return Q.eachComponent("grid",function(Y,q){var Z=new $(Y,Q,J);Z.name="grid_"+q,Z.resize(Y,J,!0),Y.coordinateSystem=Z,K.push(Z)}),Q.eachSeries(function(Y){gJ({targetModel:Y,coordSysType:"cartesian2d",coordSysProvider:q});function q(){var Z=Ui(Y),X=Z.xAxisModel,W=Z.yAxisModel,F=X.getCoordSysModel();if(!F)throw Error('Grid "'+B6(X.get("gridIndex"),X.get("gridId"),0)+'" not found');if(X.getCoordSysModel()!==W.getCoordSysModel())throw Error("xAxis and yAxis must use the same grid");var H=F.coordinateSystem;return H.getCartesian(X.componentIndex,W.componentIndex)}}),K},$.dimensions=Rv,$}();function Hi($,Q){return $.getCoordSysModel()===Q}function aC0($,Q,J,K){J.getAxesOnZeroOf=function(){return q?[q]:[]};var Y=$[Q],q,Z=J.model,X=Z.get(["axisLine","onZero"]),W=Z.get(["axisLine","onZeroAxisIndex"]);if(!X)return;if(W!=null){if(tC0(Y[W]))q=Y[W]}else for(var F in Y)if(Y.hasOwnProperty(F)&&tC0(Y[F])&&!K[H(Y[F])]){q=Y[F];break}if(q)K[H(q)]=!0;function H(B){return B.dim+"_"+B.index}}function tC0($){return $&&$.type!=="category"&&$.type!=="time"&&lT0($)}function qX1($,Q){var J=$.getExtent(),K=J[0]+J[1];$.toGlobalCoord=$.dim==="x"?function(Y){return Y+Q}:function(Y){return K-Y+Q},$.toLocalCoord=$.dim==="x"?function(Y){return Y-Q}:function(Y){return K-Y+Q}}function Ni($,Q){v($.x,function(J){return eC0(J,Q.x,Q.width)}),v($.y,function(J){return eC0(J,Q.y,Q.height)})}function eC0($,Q,J){var K=[0,J],Y=$.inverse?1:0;$.setExtent(K[Y],K[1-Y]),qX1($,Q)}var Bi;function QP0($){Bi=$}function $P0($,Q,J,K,Y,q,Z){S0(Q==="all"||Q==="axisLabel"),JP0(K,Y,U9.estimate,Q,!1,Z);var X=[0,0,0,0];F(0),F(1),H(K,0,NaN),H(K,1,NaN);var W=d$(X,function(z){return z>0})==null;return t3(K,X,!0,!0,J),Ni(Y,K),W;function F(z){v(Y[A1[z]],function(A){if(!oW(A.model))return;var R=q.ensureRecord(A.model),G=R.labelInfoList;if(G)for(var w=0;w<G.length;w++){var T=G[w],D=A.scale.normalize(KF(T.label).tickValue);D=z===1?1-D:D,H(T.rect,z,D),H(T.rect,1-z,NaN)}var P=R.nameLayout;if(P){var D=mZ(R.nameLocation)?0.5:NaN;H(P.rect,z,D),H(P.rect,1-z,NaN)}})}function H(z,A,R){var G=$[A1[A]]-z[A1[A]],w=z[P6[A]]+z[A1[A]]-($[P6[A]]+$[A1[A]]);G=B(G,1-R),w=B(w,R);var T=oC0[A][0],D=oC0[A][1];X[T]=D6(X[T],G),X[D]=D6(X[D],w)}function B(z,A){if(z>0&&!N6(A)&&A>0.0001)z/=A;return z}}function ZX1($,Q,J,K,Y){var q=new Zi(WX1);return v(J,function(Z){return v(Z,function(X){if(oW(X.model)){var W=!K;X.axisBuilder=iC0($,Q,X.model,Y,q,W)}})}),q}function JP0($,Q,J,K,Y,q){var Z=J===U9.determine;v(Q,function(F){return v(F,function(H){if(oW(H.model))sC0(H.axisBuilder,$,H.model),H.axisBuilder.build(Z?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:Y})})});var X={x:0,y:0};W(0),W(1);function W(F){X[A1[1-F]]=$[P6[F]]<=q.refContainer[P6[F]]*0.5?0:1-F===1?2:1}v(Q,function(F,H){return v(F,function(B){if(oW(B.model)){if(K==="all"||Z)B.axisBuilder.build({axisName:!0},{nameMarginLevel:X[H]});if(Z)B.axisBuilder.build({axisLine:!0})}})})}function XX1($,Q,J){var K,Y=$.get("outerBoundsMode",!0);if(Y==="same")K=Q.clone();else if(Y==null||Y==="auto")K=e1($.get("outerBounds",!0)||tr,J.refContainer);else if(Y!=="none")P1("Invalid grid["+$.componentIndex+"].outerBoundsMode.");var q=$.get("outerBoundsContain",!0),Z;if(q==null||q==="auto")Z="all";else if(o0(["all","axisLabel"],q)<0)P1("Invalid grid["+$.componentIndex+"].outerBoundsContain."),Z="all";else Z=q;var X=[BN(f0($.get("outerBoundsClampWidth",!0),$w[0]),Q.width),BN(f0($.get("outerBoundsClampHeight",!0),$w[1]),Q.height)];return{outerBoundsRect:K,parsedOuterBoundsContain:Z,outerBoundsClamp:X}}var WX1=function($,Q,J,K,Y,q){var Z=J.axis.dim==="x"?"y":"x";if(Xi($,Q,J,K,Y,q),!mZ($.nameLocation))v(Q.recordMap[Z],function(X){if(X&&X.labelInfoList&&X.dirVec)Wi(X.labelInfoList,X.dirVec,K,Y)})},KP0=YX1;function YP0($,Q){var J={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return FX1(J,$,Q),J.seriesInvolved&&HX1(J,$),J}function FX1($,Q,J){var K=Q.getComponent("tooltip"),Y=Q.getComponent("axisPointer"),q=Y.get("link",!0)||[],Z=[];v(J.getCoordinateSystems(),function(X){if(!X.axisPointerEnabled)return;var W=JB(X.model),F=$.coordSysAxesInfo[W]={};$.coordSysMap[W]=X;var H=X.model,B=H.getModel("tooltip",K);if(v(X.getAxes(),a0(G,!1,null)),X.getTooltipAxes&&K&&B.get("show")){var z=B.get("trigger")==="axis",A=B.get(["axisPointer","type"])==="cross",R=X.getTooltipAxes(B.get(["axisPointer","axis"]));if(z||A)v(R.baseAxes,a0(G,A?"cross":!0,z));if(A)v(R.otherAxes,a0(G,"cross",!1))}function G(w,T,D){var P=D.model.getModel("axisPointer",Y),j=P.get("show");if(!j||j==="auto"&&!w&&!Ai(P))return;if(T==null)T=P.get("triggerTooltip");P=w?UX1(D,B,Y,Q,w,T):P;var E=P.get("snap"),L=P.get("triggerEmphasis"),h=JB(D.model),_=T||E||D.type==="category",S=$.axesInfo[h]={key:h,axis:D,coordSys:X,axisPointerModel:P,triggerTooltip:T,triggerEmphasis:L,involveSeries:_,snap:E,useHandle:Ai(P),seriesModels:[],linkGroup:null};F[h]=S,$.seriesInvolved=$.seriesInvolved||_;var I=NX1(q,D);if(I!=null){var M=Z[I]||(Z[I]={axesInfo:{}});M.axesInfo[h]=S,M.mapper=q[I].mapper,S.linkGroup=M}}})}function UX1($,Q,J,K,Y,q){var Z=Q.getModel("axisPointer"),X=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],W={};if(v(X,function(z){W[z]=y0(Z.get(z))}),W.snap=$.type!=="category"&&!!q,Z.get("type")==="cross")W.type="line";var F=W.label||(W.label={});if(F.show==null&&(F.show=!1),Y==="cross"){var H=Z.get(["label","show"]);if(F.show=H!=null?H:!0,!q){var B=W.lineStyle=Z.get("crossStyle");B&&b0(F,B.textStyle)}}return $.model.getModel("axisPointer",new D1(W,J,K))}function HX1($,Q){Q.eachSeries(function(J){var K=J.coordinateSystem,Y=J.get(["tooltip","trigger"],!0),q=J.get(["tooltip","show"],!0);if(!K||!K.model||Y==="none"||Y===!1||Y==="item"||q===!1||J.get(["axisPointer","show"],!0)===!1)return;v($.coordSysAxesInfo[JB(K.model)],function(Z){var X=Z.axis;if(K.getAxis(X.dim)===X)Z.seriesModels.push(J),Z.seriesDataCount==null&&(Z.seriesDataCount=0),Z.seriesDataCount+=J.getData().count()})})}function NX1($,Q){var{model:J,dim:K}=Q;for(var Y=0;Y<$.length;Y++){var q=$[Y]||{};if(zi(q[K+"AxisId"],J.id)||zi(q[K+"AxisIndex"],J.componentIndex)||zi(q[K+"AxisName"],J.name))return Y}}function zi($,Q){return $==="all"||J0($)&&o0($,Q)>=0||$===Q}function qP0($){var Q=Tv($);if(!Q)return;var J=Q.axisPointerModel,K=Q.axis.scale,Y=J.option,q=J.get("status"),Z=J.get("value");if(Z!=null)Z=K.parse(Z);var X=Ai(J);if(q==null)Y.status=X?"show":"hide";var W=K.getExtent().slice();if(W[0]>W[1]&&W.reverse(),Z==null||Z>W[1])Z=W[1];if(Z<W[0])Z=W[0];if(Y.value=Z,X)Y.status=Q.axis.scale.isBlank()?"hide":"show"}function Tv($){var Q=($.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return Q&&Q.axesInfo[JB($)]}function ZP0($){var Q=Tv($);return Q&&Q.axisPointerModel}function Ai($){return!!$.get(["handle","show"])}function JB($){return $.type+"||"+$.id}var Ri={},BX1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y,q){this.axisPointerClass&&qP0(J),$.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(J,Y,!0)},Q.prototype.updateAxisPointer=function(J,K,Y,q){this._doUpdateAxisPointerClass(J,Y,!1)},Q.prototype.remove=function(J,K){var Y=this._axisPointer;Y&&Y.remove(K)},Q.prototype.dispose=function(J,K){this._disposeAxisPointer(K),$.prototype.dispose.apply(this,arguments)},Q.prototype._doUpdateAxisPointerClass=function(J,K,Y){var q=Q.getAxisPointerClass(this.axisPointerClass);if(!q)return;var Z=ZP0(J);Z?(this._axisPointer||(this._axisPointer=new q)).render(J,Z,K,Y):this._disposeAxisPointer(K)},Q.prototype._disposeAxisPointer=function(J){this._axisPointer&&this._axisPointer.dispose(J),this._axisPointer=null},Q.registerAxisPointerClass=function(J,K){if(Ri[J])throw Error("axisPointer "+J+" exists");Ri[J]=K},Q.getAxisPointerClass=function(J){return J&&Ri[J]},Q.type="axis",Q}(p1),H9=BX1;var Gi=n0();function Dv($,Q,J,K){var Y=J.axis;if(Y.scale.isBlank())return;var q=J.getModel("splitArea"),Z=q.getModel("areaStyle"),X=Z.get("color"),W=K.coordinateSystem.getRect(),F=Y.getTicksCoords({tickModel:q,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(!F.length)return;var H=X.length,B=Gi($).splitAreaColors,z=L0(),A=0;if(B)for(var R=0;R<F.length;R++){var G=B.get(F[R].tickValue);if(G!=null){A=(G+(H-1)*R)%H;break}}var w=Y.toGlobalCoord(F[0].coord),T=Z.getAreaStyle();X=J0(X)?X:[X];for(var R=1;R<F.length;R++){var D=Y.toGlobalCoord(F[R].coord),P=void 0,j=void 0,E=void 0,L=void 0;if(Y.isHorizontal())P=w,j=W.y,E=D-P,L=W.height,w=P+E;else P=W.x,j=w,E=W.width,L=D-j,w=j+L;var h=F[R-1].tickValue;h!=null&&z.set(h,A),Q.add(new Q1({anid:h!=null?"area_"+h:null,shape:{x:P,y:j,width:E,height:L},style:b0({fill:X[A]},T),autoBatch:!0,silent:!0})),A=(A+1)%H}Gi($).splitAreaColors=z}function Cv($){Gi($).splitAreaColors=null}var zX1=["splitArea","splitLine","minorSplitLine","breakArea"],XP0=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.axisPointerClass="CartesianAxisPointer",J}return Q.prototype.render=function(J,K,Y,q){this.group.removeAll();var Z=this._axisGroup;if(this._axisGroup=new _0,this.group.add(this._axisGroup),!oW(J))return;this._axisGroup.add(J.axis.axisBuilder.group),v(zX1,function(W){if(J.get([W,"show"]))AX1[W](this,this._axisGroup,J,J.getCoordSysModel(),Y)},this);var X=q&&q.type==="changeAxisOrder"&&q.isInitSort;if(!X)NY(Z,this._axisGroup,J);$.prototype.render.call(this,J,K,Y,q)},Q.prototype.remove=function(){Cv(this)},Q.type="cartesianAxis",Q}(H9),AX1={splitLine:function($,Q,J,K,Y){var q=J.axis;if(q.scale.isBlank())return;var Z=J.getModel("splitLine"),X=Z.getModel("lineStyle"),W=X.get("color"),F=Z.get("showMinLine")!==!1,H=Z.get("showMaxLine")!==!1;W=J0(W)?W:[W];var B=K.coordinateSystem.getRect(),z=q.isHorizontal(),A=0,R=q.getTicksCoords({tickModel:Z,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),G=[],w=[],T=X.getLineStyle();for(var D=0;D<R.length;D++){var P=q.toGlobalCoord(R[D].coord);if(D===0&&!F||D===R.length-1&&!H)continue;var j=R[D].tickValue;if(z)G[0]=P,G[1]=B.y,w[0]=P,w[1]=B.y+B.height;else G[0]=B.x,G[1]=P,w[0]=B.x+B.width,w[1]=P;var E=A++%W.length,L=new l5({anid:j!=null?"line_"+j:null,autoBatch:!0,shape:{x1:G[0],y1:G[1],x2:w[0],y2:w[1]},style:b0({stroke:W[E]},T),silent:!0});HY(L.shape,T.lineWidth),Q.add(L)}},minorSplitLine:function($,Q,J,K,Y){var q=J.axis,Z=J.getModel("minorSplitLine"),X=Z.getModel("lineStyle"),W=K.coordinateSystem.getRect(),F=q.isHorizontal(),H=q.getMinorTicksCoords();if(!H.length)return;var B=[],z=[],A=X.getLineStyle();for(var R=0;R<H.length;R++)for(var G=0;G<H[R].length;G++){var w=q.toGlobalCoord(H[R][G].coord);if(F)B[0]=w,B[1]=W.y,z[0]=w,z[1]=W.y+W.height;else B[0]=W.x,B[1]=w,z[0]=W.x+W.width,z[1]=w;var T=new l5({anid:"minor_line_"+H[R][G].tickValue,autoBatch:!0,shape:{x1:B[0],y1:B[1],x2:z[0],y2:z[1]},style:A,silent:!0});HY(T.shape,A.lineWidth),Q.add(T)}},splitArea:function($,Q,J,K,Y){Dv($,Q,J,K)},breakArea:function($,Q,J,K,Y){var q=PY(),Z=J.axis.scale;if(q&&Z.type!=="ordinal")q.rectCoordBuildBreakAxis(Q,$,J,K.coordinateSystem.getRect(),Y)}},wi=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="xAxis",Q}(XP0);var WP0=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=wi.type,J}return Q.type="yAxis",Q}(XP0);var VX1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type="grid",J}return Q.prototype.render=function(J,K){if(this.group.removeAll(),J.get("show"))this.group.add(new Q1({shape:J.coordinateSystem.getRect(),style:b0({fill:J.get("backgroundColor")},J.getItemStyle()),silent:!0,z2:-1}))},Q.type="grid",Q}(p1),FP0={offset:0};function Pv($){$.registerComponentView(VX1),$.registerComponentModel(_C0),$.registerCoordinateSystem("cartesian2d",KP0),RQ($,"x",Av,FP0),RQ($,"y",Av,FP0),$.registerComponentView(wi),$.registerComponentView(WP0),$.registerPreprocessor(function(Q){if(Q.xAxis&&Q.yAxis&&!Q.grid)Q.grid={}})}function HP0($,Q){var J=$.coordinateSystem,K=J&&J.type,Y=J&&J.getBaseAxis&&J.getBaseAxis(),q=Y&&Y.scale&&Y.scale.type,Z=K==="cartesian2d"&&q==="ordinal"||K==="single",X=Q.model.get("jitter")>0;return Z&&X}var RX1=n0();function Oi($,Q,J,K){if($ instanceof Gv){var Y=$.scale.type;if(Y!=="category"&&Y!=="ordinal")return J}var q=$.model,Z=q.get("jitter"),X=q.get("jitterOverlap"),W=q.get("jitterMargin")||0,F=$.scale.type==="ordinal"?$.getBandWidth():null;if(Z>0)if(X)return NP0(J,Z,F,K);else return GX1($,Q,J,K,Z,W);return J}function NP0($,Q,J,K){if(J===null)return $+(Math.random()-0.5)*Q;var Y=J-K*2,q=Math.min(Math.max(0,Q),Y);return $+(Math.random()-0.5)*q}function GX1($,Q,J,K,Y,q){var Z=RX1($);if(!Z.items)Z.items=[];var X=Z.items,W=UP0(X,Q,J,K,Y,q,1),F=UP0(X,Q,J,K,Y,q,-1),H=Math.abs(W-J)<Math.abs(F-J)?W:F,B=$.scale.type==="ordinal"?$.getBandWidth():null,z=Math.abs(H-J);if(z>Y/2||B&&z>B/2-K)return NP0(J,Y,B,K);return X.push({fixedCoord:Q,floatCoord:H,r:K}),H}function UP0($,Q,J,K,Y,q,Z){var X=J;for(var W=0;W<$.length;W++){var F=$[W],H=Q-F.fixedCoord,B=X-F.floatCoord,z=H*H+B*B,A=K+F.r+q;if(z<A*A){var R=F.floatCoord+Math.sqrt(A*A-H*H)*Z;if(Math.abs(R-J)>Y/2)return Number.MAX_VALUE;if(Z===1&&R>X||Z===-1&&R<X){X=R,W=-1;continue}}}return X}function Ti($){$.eachSeriesByType("scatter",function(Q){var J=Q.coordinateSystem;if(J&&(J.type==="cartesian2d"||J.type==="single")){var K=J.getBaseAxis?J.getBaseAxis():null,Y=K&&HP0(Q,K);if(Y){var q=Q.getData();q.each(function(Z){var{dim:X,orient:W}=K,F=W==="horizontal"&&K.type!=="category"||W==="vertical"&&K.type==="category",H=q.getItemLayout(Z),B=q.getItemVisual(Z,"symbolSize"),z=B instanceof Array?(B[1]+B[0])/2:B;if(X==="y"||X==="single"&&F){var A=Oi(K,H[0],H[1],z/2);q.setItemLayout(Z,[H[0],A])}else if(X==="x"||X==="single"&&!F){var A=Oi(K,H[1],H[0],z/2);q.setItemLayout(Z,[A,H[1]])}})}}})}function Di($){R1(Pv),$.registerSeriesModel(LC0),$.registerChartView(SC0),$.registerLayout(VQ("scatter"))}function Ci($){$.registerLayout($.PRIORITY.VISUAL.POST_CHART_LAYOUT,Ti)}function Pi($){$.eachSeriesByType("radar",function(Q){var J=Q.getData(),K=[],Y=Q.coordinateSystem;if(!Y)return;var q=Y.getIndicatorAxes();v(q,function(Z,X){J.each(J.mapDimension(q[X].dim),function(W,F){K[F]=K[F]||[];var H=Y.dataToPoint(W,X);K[F][X]=BP0(H)?H:zP0(Y)})}),J.each(function(Z){var X=d$(K[Z],function(W){return BP0(W)})||zP0(Y);K[Z].push(X.slice()),J.setItemLayout(Z,K[Z])})})}function BP0($){return!isNaN($[0])&&!isNaN($[1])}function zP0($){return[$.cx,$.cy]}function ki($){var Q=$.polar;if(Q){if(!J0(Q))Q=[Q];var J=[];v(Q,function(K,Y){if(K.indicator){if(K.type&&!K.shape)K.shape=K.type;if($.radar=$.radar||[],!J0($.radar))$.radar=[$.radar];$.radar.push(K)}else J.push(K)}),$.polar=J}v($.series,function(K){if(K&&K.type==="radar"&&K.polarIndex)K.radarIndex=K.polarIndex})}var wX1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){var q=J.coordinateSystem,Z=this.group,X=J.getData(),W=this._data;function F(z,A){var R=z.getItemVisual(A,"symbol")||"circle";if(R==="none")return;var G=FQ(z.getItemVisual(A,"symbolSize")),w=j5(R,-1,-1,2,2),T=z.getItemVisual(A,"symbolRotate")||0;return w.attr({style:{strokeNoScale:!0},z2:100,scaleX:G[0]/2,scaleY:G[1]/2,rotation:T*Math.PI/180||0}),w}function H(z,A,R,G,w,T){R.removeAll();for(var D=0;D<A.length-1;D++){var P=F(G,w);if(P){if(P.__dimIdx=D,z[D])P.setPosition(z[D]),N1[T?"initProps":"updateProps"](P,{x:A[D][0],y:A[D][1]},J,w);else P.setPosition(A[D]);R.add(P)}}}function B(z){return K0(z,function(A){return[q.cx,q.cy]})}X.diff(W).add(function(z){var A=X.getItemLayout(z);if(!A)return;var R=new z6,G=new K6,w={shape:{points:A}};R.shape.points=B(A),G.shape.points=B(A),t1(R,w,J,z),t1(G,w,J,z);var T=new _0,D=new _0;T.add(G),T.add(R),T.add(D),H(G.shape.points,A,D,X,z,!0),X.setItemGraphicEl(z,T)}).update(function(z,A){var R=W.getItemGraphicEl(A),G=R.childAt(0),w=R.childAt(1),T=R.childAt(2),D={shape:{points:X.getItemLayout(z)}};if(!D.shape.points)return;H(G.shape.points,D.shape.points,T,X,z,!1),t6(w),t6(G),V1(G,D,J),V1(w,D,J),X.setItemGraphicEl(z,R)}).remove(function(z){Z.remove(W.getItemGraphicEl(z))}).execute(),X.eachItemGraphicEl(function(z,A){var R=X.getItemModel(A),G=z.childAt(0),w=z.childAt(1),T=z.childAt(2),D=X.getItemVisual(A,"style"),P=D.fill;Z.add(z),G.useStyle(b0(R.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:P})),M5(G,R,"lineStyle"),M5(w,R,"areaStyle");var j=R.getModel("areaStyle"),E=j.isEmpty()&&j.parentModel.isEmpty();w.ignore=E,v(["emphasis","select","blur"],function(h){var _=R.getModel([h,"areaStyle"]),S=_.isEmpty()&&_.parentModel.isEmpty();w.ensureState(h).ignore=S&&E;var I=R.getModel([h,"lineStyle"]).getLineStyle();G.ensureState(h).style=I;var M=_.getAreaStyle();w.ensureState(h).style=M;var y=R.getModel([h,"itemStyle"]).getItemStyle();T.eachChild(function(b){b.ensureState(h).style=y0(y)})}),w.useStyle(b0(R.getModel("areaStyle").getAreaStyle(),{fill:P,opacity:0.7,decal:D.decal}));var L=R.getModel("emphasis");T.eachChild(function(h){if(h instanceof n5){var _=h.style;h.useStyle(Q0({image:_.image,x:_.x,y:_.y,width:_.width,height:_.height},D))}else h.useStyle(D),h.setColor(P),h.style.strokeNoScale=!0;var S=X.getStore().get(X.getDimensionIndex(h.__dimIdx),A);(S==null||isNaN(S))&&(S=""),v5(h,k5(R),{labelFetcher:X.hostModel,labelDataIndex:A,labelDimIndex:h.__dimIdx,defaultText:S,inheritColor:P,defaultOpacity:D.opacity})}),u1(z,L.get("focus"),L.get("blurScope"),L.get("disabled"))}),this._data=X},Q.prototype.remove=function(){this.group.removeAll(),this._data=null},Q.type="radar",Q}(_1),AP0=wX1;var OX1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.hasSymbolVisual=!0,J}return Q.prototype.init=function(J){$.prototype.init.apply(this,arguments),this.legendVisualProvider=new W$(O0(this.getData,this),O0(this.getRawData,this))},Q.prototype.getInitialData=function(J,K){return s9(this,{generateCoord:"indicator_",generateCoordCount:1/0})},Q.prototype.formatTooltip=function(J,K,Y){var q=this.getData(),Z=this.coordinateSystem,X=Z.getIndicatorAxes(),W=this.getData().getName(J),F=W===""?this.name:W,H=Kh(this,J);return x5("section",{header:F,sortBlocks:!0,blocks:K0(X,function(B){var z=q.get(q.mapDimension(B.dim),J);return x5("nameValue",{markerType:"subItem",markerColor:H,name:B.name,value:z,sortParam:z})})})},Q.prototype.getTooltipPosition=function(J){if(J!=null){var K=this.getData(),Y=this.coordinateSystem,q=K.getValues(K0(Y.dimensions,function(F){return K.mapDimension(F)}),J);for(var Z=0,X=q.length;Z<X;Z++)if(!isNaN(q[Z])){var W=Y.getIndicatorAxes();return Y.coordToPoint(W[Z].dataToCoord(q[Z]),Z)}}},Q.type="series.radar",Q.dependencies=["radar"],Q.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},Q}(m1),VP0=OX1;var Yw=Vv.value;function kv($,Q){return b0({show:Q},$)}var TX1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.optionUpdated=function(){var J=this.get("boundaryGap"),K=this.get("splitNumber"),Y=this.get("scale"),q=this.get("axisLine"),Z=this.get("axisTick"),X=this.get("axisLabel"),W=this.get("axisName"),F=this.get(["axisName","show"]),H=this.get(["axisName","formatter"]),B=this.get("axisNameGap"),z=this.get("triggerEvent"),A=K0(this.get("indicator")||[],function(R){if(R.max!=null&&R.max>0&&!R.min)R.min=0;else if(R.min!=null&&R.min<0&&!R.max)R.max=0;var G=W;if(R.color!=null)G=b0({color:R.color},W);var w=K1(y0(R),{boundaryGap:J,splitNumber:K,scale:Y,axisLine:q,axisTick:Z,axisLabel:X,name:R.text,showName:F,nameLocation:"end",nameGap:B,nameTextStyle:G,triggerEvent:z},!1);if(B0(H)){var T=w.name;w.name=H.replace("{value}",T!=null?T:"")}else if(v0(H))w.name=H(w.name,w);var D=new D1(w,null,this.ecModel);return _5(D,uJ.prototype),D.mainType="radar",D.componentIndex=this.componentIndex,D},this);this._indicatorModels=A},Q.prototype.getIndicatorModels=function(){return this._indicatorModels},Q.type="radar",Q.defaultOption={z:0,center:["50%","50%"],radius:"50%",startAngle:90,axisName:{show:!0,color:a.color.axisLabel},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:K1({lineStyle:{color:a.color.neutral20}},Yw.axisLine),axisLabel:kv(Yw.axisLabel,!1),axisTick:kv(Yw.axisTick,!1),splitLine:kv(Yw.splitLine,!0),splitArea:kv(Yw.splitArea,!0),indicator:[]},Q}(B1),RP0=TX1;var DX1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){var q=this.group;q.removeAll(),this._buildAxes(J,Y),this._buildSplitLineAndArea(J)},Q.prototype._buildAxes=function(J,K){var Y=J.coordinateSystem,q=Y.getIndicatorAxes(),Z=K0(q,function(X){var W=X.model.get("showName")?X.name:"",F=new L8(X.model,K,{axisName:W,position:[Y.cx,Y.cy],rotation:X.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return F});v(Z,function(X){X.build(),this.group.add(X.group)},this)},Q.prototype._buildSplitLineAndArea=function(J){var K=J.coordinateSystem,Y=K.getIndicatorAxes();if(!Y.length)return;var q=J.get("shape"),Z=J.getModel("splitLine"),X=J.getModel("splitArea"),W=Z.getModel("lineStyle"),F=X.getModel("areaStyle"),H=Z.get("show"),B=X.get("show"),z=W.get("color"),A=F.get("color"),R=J0(z)?z:[z],G=J0(A)?A:[A],w=[],T=[];function D(c,m,i){var o=i%m.length;return c[o]=c[o]||[],o}if(q==="circle"){var P=Y[0].getTicksCoords(),j=K.cx,E=K.cy;for(var L=0;L<P.length;L++){if(H){var h=D(w,R,L);w[h].push(new R4({shape:{cx:j,cy:E,r:P[L].coord}}))}if(B&&L<P.length-1){var h=D(T,G,L);T[h].push(new LW({shape:{cx:j,cy:E,r0:P[L].coord,r:P[L+1].coord}}))}}}else{var _,S=K0(Y,function(c,m){var i=c.getTicksCoords();return _=_==null?i.length-1:Math.min(i.length-1,_),K0(i,function(o){return K.coordToPoint(o.coord,m)})}),I=[];for(var L=0;L<=_;L++){var M=[];for(var y=0;y<Y.length;y++)M.push(S[y][L]);if(M[0])M.push(M[0].slice());else console.error("Can't draw value axis "+L);if(H){var h=D(w,R,L);w[h].push(new K6({shape:{points:M}}))}if(B&&I){var h=D(T,G,L-1);T[h].push(new z6({shape:{points:M.concat(I)}}))}I=M.slice().reverse()}}var b=W.getLineStyle(),u=F.getAreaStyle();v(T,function(c,m){this.group.add(l8(c,{style:b0({stroke:"none",fill:G[m%G.length]},u),silent:!0}))},this),v(w,function(c,m){this.group.add(l8(c,{style:b0({fill:"none",stroke:R[m%R.length]},b),silent:!0}))},this)},Q.type="radar",Q}(p1),GP0=DX1;var CX1=function($){x(Q,$);function Q(J,K,Y){var q=$.call(this,J,K,Y)||this;return q.type="value",q.angle=0,q.name="",q}return Q}(W8),wP0=CX1;var PX1=function(){function $(Q,J,K){this.dimensions=[],this._model=Q,this._indicatorAxes=K0(Q.getIndicatorModels(),function(Y,q){var Z="indicator_"+q,X=new wP0(Z,new F9);return X.name=Y.get("name"),X.model=Y,Y.axis=X,this.dimensions.push(Z),X},this),this.resize(Q,K)}return $.prototype.getIndicatorAxes=function(){return this._indicatorAxes},$.prototype.dataToPoint=function(Q,J){var K=this._indicatorAxes[J];return this.coordToPoint(K.dataToCoord(Q),J)},$.prototype.coordToPoint=function(Q,J){var K=this._indicatorAxes[J],Y=K.angle,q=this.cx+Q*Math.cos(Y),Z=this.cy-Q*Math.sin(Y);return[q,Z]},$.prototype.pointToData=function(Q){var J=Q[0]-this.cx,K=Q[1]-this.cy,Y=Math.sqrt(J*J+K*K);J/=Y,K/=Y;var q=Math.atan2(-K,J),Z=1/0,X,W=-1;for(var F=0;F<this._indicatorAxes.length;F++){var H=this._indicatorAxes[F],B=Math.abs(q-H.angle);if(B<Z)X=H,W=F,Z=B}return[W,+(X&&X.coordToData(Y))]},$.prototype.resize=function(Q,J){var K=D5(Q,J).refContainer,Y=Q.get("center"),q=Math.min(K.width,K.height)/2;this.cx=h0(Y[0],K.width)+K.x,this.cy=h0(Y[1],K.height)+K.y,this.startAngle=Q.get("startAngle")*Math.PI/180;var Z=Q.get("radius");if(B0(Z)||U1(Z))Z=[0,Z];this.r0=h0(Z[0],q),this.r=h0(Z[1],q),v(this._indicatorAxes,function(X,W){X.setExtent(this.r0,this.r);var F=this.startAngle+W*Math.PI*2/this._indicatorAxes.length;F=Math.atan2(Math.sin(F),Math.cos(F)),X.angle=F},this)},$.prototype.update=function(Q,J){var K=this._indicatorAxes,Y=this._model;v(K,function(X){X.scale.setExtent(1/0,-1/0)}),Q.eachSeriesByType("radar",function(X,W){if(X.get("coordinateSystem")!=="radar"||Q.getComponent("radar",X.get("radarIndex"))!==Y)return;var F=X.getData();v(K,function(H){H.scale.unionExtentFromData(F,F.mapDimension(H.dim))})},this);var q=Y.get("splitNumber"),Z=new F9;Z.setExtent(0,q),Z.setInterval(1),v(K,function(X,W){Ov(X.scale,X.model,Z)})},$.prototype.convertToPixel=function(Q,J,K){return console.warn("Not implemented."),null},$.prototype.convertFromPixel=function(Q,J,K){return console.warn("Not implemented."),null},$.prototype.containPoint=function(Q){return console.warn("Not implemented."),!1},$.create=function(Q,J){var K=[];return Q.eachComponent("radar",function(Y){var q=new $(Y,Q,J);K.push(q),Y.coordinateSystem=q}),Q.eachSeriesByType("radar",function(Y){if(Y.get("coordinateSystem")==="radar")Y.coordinateSystem=K[Y.get("radarIndex")||0]}),K},$.dimensions=[],$}(),OP0=PX1;function TP0($){$.registerCoordinateSystem("radar",OP0),$.registerComponentModel(RP0),$.registerComponentView(GP0),$.registerVisual({seriesType:"radar",reset:function(Q){var J=Q.getData();J.each(function(K){J.setItemVisual(K,"legendIcon","roundRect")}),J.setVisual("legendIcon","roundRect")}})}function ji($){R1(TP0),$.registerChartView(AP0),$.registerSeriesModel(VP0),$.registerLayout(Pi),$.registerProcessor(i9("radar")),$.registerPreprocessor(ki)}var Ei=n0();function DP0($,Q,J){Ei($)[Q]=J}function CP0($,Q,J){var K=Ei($),Y=K[Q];if(Y===J)K[Q]=null}function Li($,Q){return!!Ei($)[Q]}O4({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},m5);var kX1={axisPointer:1,tooltip:1,brush:1};function jv($,Q,J){var K=Q.getComponentByElement($.topTarget);if(!K||K===J||kX1.hasOwnProperty(K.mainType))return!1;var Y=K.coordinateSystem;if(!Y||Y.model===J)return!1;var q=e3(K),Z=e3(J);if((q.zlevel-Z.zlevel||q.z-Z.z)<=0)return!1;return!0}var jX1=function($){x(Q,$);function Q(J){var K=$.call(this)||this;K._zr=J;var Y=O0(K._mousedownHandler,K),q=O0(K._mousemoveHandler,K),Z=O0(K._mouseupHandler,K),X=O0(K._mousewheelHandler,K),W=O0(K._pinchHandler,K);return K.enable=function(F,H){var B=H.zInfo,z=e3(B.component),A=z.z,R=z.zlevel,G={component:B.component,z:A,zlevel:R,z2:f0(B.z2,-1/0)},w=Q0({},H.triggerInfo);if(this._opt=b0(Q0({},H),{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0,zInfoParsed:G,triggerInfo:w}),F==null)F=!0;if(!this._enabled||this._controlType!==F){if(this._enabled=!0,this.disable(),F===!0||F==="move"||F==="pan")Zw(J,"mousedown",Y,G),Zw(J,"mousemove",q,G),Zw(J,"mouseup",Z,G);if(F===!0||F==="scale"||F==="zoom")Zw(J,"mousewheel",X,G),Zw(J,"pinch",W,G)}},K.disable=function(){this._enabled=!1,Xw(J,"mousedown",Y),Xw(J,"mousemove",q),Xw(J,"mouseup",Z),Xw(J,"mousewheel",X),Xw(J,"pinch",W)},K}return Q.prototype.isDragging=function(){return this._dragging},Q.prototype.isPinching=function(){return this._pinching},Q.prototype._checkPointer=function(J,K,Y){var q=this._opt,Z=q.zInfoParsed;if(jv(J,q.api,Z.component))return!1;var X=q.triggerInfo,W=X.roamTrigger,F=!1;if(W==="global")F=!0;if(!F)F=X.isInSelf(J,K,Y);if(F&&X.isInClip&&!X.isInClip(J,K,Y))F=!1;return F},Q.prototype._decideCursorStyle=function(J,K,Y,q){var Z=J.target;if(!Z&&this._checkPointer(J,K,Y))return"grab";if(q)return Z&&Z.cursor||"default"},Q.prototype.dispose=function(){this.disable()},Q.prototype._mousedownHandler=function(J){if(xp(J)||qw(J))return;var K=J.target;while(K){if(K.draggable)return;K=K.__hostTarget||K.parent}var{offsetX:Y,offsetY:q}=J;if(this._checkPointer(J,Y,q))this._x=Y,this._y=q,this._dragging=!0},Q.prototype._mousemoveHandler=function(J){var K=this._zr;if(J.gestureEvent==="pinch"||Li(K,"globalPan")||qw(J))return;var{offsetX:Y,offsetY:q}=J;if(!this._dragging||!Ev("moveOnMouseMove",J,this._opt)){var Z=this._decideCursorStyle(J,Y,q,!1);if(Z)K.setCursorStyle(Z);return}K.setCursorStyle("grabbing");var X=this._x,W=this._y,F=Y-X,H=q-W;if(this._x=Y,this._y=q,this._opt.preventDefaultMouseMove)r4(J.event);J.__ecRoamConsumed=!0,kP0(this,"pan","moveOnMouseMove",J,{dx:F,dy:H,oldX:X,oldY:W,newX:Y,newY:q,isAvailableBehavior:null})},Q.prototype._mouseupHandler=function(J){if(qw(J))return;var K=this._zr;if(!xp(J)){this._dragging=!1;var Y=this._decideCursorStyle(J,J.offsetX,J.offsetY,!0);if(Y)K.setCursorStyle(Y)}},Q.prototype._mousewheelHandler=function(J){if(qw(J))return;var K=Ev("zoomOnMouseWheel",J,this._opt),Y=Ev("moveOnMouseWheel",J,this._opt),q=J.wheelDelta,Z=Math.abs(q),X=J.offsetX,W=J.offsetY;if(q===0||!K&&!Y)return;if(K){var F=Z>3?1.4:Z>1?1.2:1.1,H=q>0?F:1/F;this._checkTriggerMoveZoom(this,"zoom","zoomOnMouseWheel",J,{scale:H,originX:X,originY:W,isAvailableBehavior:null})}if(Y){var B=Math.abs(q),z=(q>0?1:-1)*(B>3?0.4:B>1?0.15:0.05);this._checkTriggerMoveZoom(this,"scrollMove","moveOnMouseWheel",J,{scrollDelta:z,originX:X,originY:W,isAvailableBehavior:null})}},Q.prototype._pinchHandler=function(J){if(Li(this._zr,"globalPan")||qw(J))return;var K=J.pinchScale>1?1.1:0.9090909090909091;this._checkTriggerMoveZoom(this,"zoom",null,J,{scale:K,originX:J.pinchX,originY:J.pinchY,isAvailableBehavior:null})},Q.prototype._checkTriggerMoveZoom=function(J,K,Y,q,Z){if(J._checkPointer(q,Z.originX,Z.originY))r4(q.event),q.__ecRoamConsumed=!0,kP0(J,K,Y,q,Z)},Q}(T7);function qw($){return $.__ecRoamConsumed}var EX1=n0();function Lv($){var Q=EX1($);return Q.roam=Q.roam||{},Q.uniform=Q.uniform||{},Q}function Zw($,Q,J,K){var Y=Lv($),q=Y.roam,Z=q[Q]=q[Q]||[],X=0;for(;X<Z.length;X++){var W=Z[X].zInfoParsed;if((W.zlevel-K.zlevel||W.z-K.z||W.z2-K.z2)<=0)break}Z.splice(X,0,{listener:J,zInfoParsed:K}),LX1($,Q)}function Xw($,Q,J){var K=Lv($),Y=K.roam[Q]||[];for(var q=0;q<Y.length;q++)if(Y[q].listener===J){if(Y.splice(q,1),!Y.length)hX1($,Q);return}}function LX1($,Q){var J=Lv($);if(!J.uniform[Q])$.on(Q,J.uniform[Q]=function(K){var Y=J.roam[Q];if(Y)for(var q=0;q<Y.length;q++)Y[q].listener(K)})}function hX1($,Q){var J=Lv($),K=J.uniform;if(K[Q])$.off(Q,K[Q]),K[Q]=null}function kP0($,Q,J,K,Y){Y.isAvailableBehavior=O0(Ev,null,J,K),$.trigger(Q,Y)}function Ev($,Q,J){var K=J[$];return!$||K&&(!B0(K)||Q.event[K+"Key"])}var N9=jX1;function Ww($,Q,J){var K=$.target;K.x+=Q,K.y+=J,K.dirty()}function Fw($,Q,J,K){var{target:Y,zoomLimit:q}=$,Z=$.zoom=$.zoom||1;Z*=Q,Z=vv(Z,q);var X=Z/$.zoom;$.zoom=Z,EP0(Y,J,K,X),Y.dirty()}function hv($,Q,J,K,Y,q){var Z=new u0(0,0,0,0);K.enable($.get("roam"),{api:Q,zInfo:{component:$},triggerInfo:{roamTrigger:$.get("roamTrigger"),isInSelf:function(F,H,B){return Z.copy(J.getBoundingRect()),Z.applyTransform(J.getComputedTransform()),Z.contain(H,B)},isInClip:function(F,H,B){return!q||q.contain(H,B)}}}),Y.zoomLimit=$.get("scaleLimit");var X=$.coordinateSystem;Y.zoom=X?X.getZoom():1;var W=$.subType+"Roam";K.off("pan").off("zoom").on("pan",function(F){Ww(Y,F.dx,F.dy),Q.dispatchAction({seriesId:$.id,type:W,dx:F.dx,dy:F.dy})}).on("zoom",function(F){Fw(Y,F.scale,F.originX,F.originY),Q.dispatchAction({seriesId:$.id,type:W,zoom:F.scale,originX:F.originX,originY:F.originY}),Q.updateLabelLayout()})}function jP0($,Q){return $.pointToProjected?$.pointToProjected(Q):$.pointToData(Q)}function iZ($,Q,J){var K=$.getZoom(),Y=$.getCenter(),q=Q.zoom,Z=$.projectedToPoint?$.projectedToPoint(Y):$.dataToPoint(Y);if(Q.dx!=null&&Q.dy!=null)Z[0]-=Q.dx,Z[1]-=Q.dy,$.setCenter(jP0($,Z));if(q!=null)q=vv(K*q,J)/K,EP0($,Q.originX,Q.originY,q),$.updateTransform(),$.setCenter(jP0($,Z)),$.setZoom(q*K);return{center:$.getCenter(),zoom:$.getZoom()}}function EP0($,Q,J,K){$.x-=(Q-$.x)*(K-1),$.y-=(J-$.y)*(K-1),$.scaleX*=K,$.scaleY*=K}function vv($,Q){if(Q){var J=Q.min||0,K=Q.max||1/0;$=Math.max(Math.min(K,$),J)}return $}function Sv($){if(B0($)){var Q=new DOMParser;$=Q.parseFromString($,"text/xml")}var J=$;if(J.nodeType===9)J=J.firstChild;while(J.nodeName.toLowerCase()!=="svg"||J.nodeType!==1)J=J.nextSibling;return J}var vi,_v={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},LP0=Z1(_v),fv={"alignment-baseline":"textBaseline","stop-color":"stopColor"},hP0=Z1(fv),vX1=function(){function $(){this._defs={},this._root=null}return $.prototype.parse=function(Q,J){J=J||{};var K=Sv(Q);if(!K)throw Error("Illegal svg");this._defsUsePending=[];var Y=new _0;this._root=Y;var q=[],Z=K.getAttribute("viewBox")||"",X=parseFloat(K.getAttribute("width")||J.width),W=parseFloat(K.getAttribute("height")||J.height);isNaN(X)&&(X=null),isNaN(W)&&(W=null),o9(K,Y,null,!0,!1);var F=K.firstChild;while(F)this._parseNode(F,Y,q,null,!1,!1),F=F.nextSibling;fX1(this._defs,this._defsUsePending),this._defsUsePending=[];var H,B;if(Z){var z=Iv(Z);if(z.length>=4)H={x:parseFloat(z[0]||0),y:parseFloat(z[1]||0),width:parseFloat(z[2]),height:parseFloat(z[3])}}if(H&&X!=null&&W!=null){if(B=_i(H,{x:0,y:0,width:X,height:W}),!J.ignoreViewBox){var A=Y;Y=new _0,Y.add(A),A.scaleX=A.scaleY=B.scale,A.x=B.x,A.y=B.y}}if(!J.ignoreRootClip&&X!=null&&W!=null)Y.setClipPath(new Q1({shape:{x:0,y:0,width:X,height:W}}));return{root:Y,width:X,height:W,viewBoxRect:H,viewBoxTransform:B,named:q}},$.prototype._parseNode=function(Q,J,K,Y,q,Z){var X=Q.nodeName.toLowerCase(),W,F=Y;if(X==="defs")q=!0;if(X==="text")Z=!0;if(X==="defs"||X==="switch")W=J;else{if(!q){var H=vi[X];if(H&&x0(vi,X)){W=H.call(this,Q,J);var B=Q.getAttribute("name");if(B){var z={name:B,namedFrom:null,svgNodeTagLower:X,el:W};if(K.push(z),X==="g")F=z}else if(Y)K.push({name:Y.name,namedFrom:Y,svgNodeTagLower:X,el:W});J.add(W)}}var A=vP0[X];if(A&&x0(vP0,X)){var R=A.call(this,Q),G=Q.getAttribute("id");if(G)this._defs[G]=R}}if(W&&W.isGroup){var w=Q.firstChild;while(w){if(w.nodeType===1)this._parseNode(w,W,K,F,q,Z);else if(w.nodeType===3&&Z)this._parseText(w,W);w=w.nextSibling}}},$.prototype._parseText=function(Q,J){var K=new ZY({style:{text:Q.textContent},silent:!0,x:this._textX||0,y:this._textY||0});F$(J,K),o9(Q,K,this._defsUsePending,!1,!1),SX1(K,J);var Y=K.style,q=Y.fontSize;if(q&&q<9)Y.fontSize=9,K.scaleX*=q/9,K.scaleY*=q/9;var Z=(Y.fontSize||Y.fontFamily)&&[Y.fontStyle,Y.fontWeight,(Y.fontSize||12)+"px",Y.fontFamily||"sans-serif"].join(" ");Y.font=Z;var X=K.getBoundingRect();return this._textX+=X.width,J.add(K),K},$.internalField=function(){vi={g:function(Q,J){var K=new _0;return F$(J,K),o9(Q,K,this._defsUsePending,!1,!1),K},rect:function(Q,J){var K=new Q1;return F$(J,K),o9(Q,K,this._defsUsePending,!1,!1),K.setShape({x:parseFloat(Q.getAttribute("x")||"0"),y:parseFloat(Q.getAttribute("y")||"0"),width:parseFloat(Q.getAttribute("width")||"0"),height:parseFloat(Q.getAttribute("height")||"0")}),K.silent=!0,K},circle:function(Q,J){var K=new R4;return F$(J,K),o9(Q,K,this._defsUsePending,!1,!1),K.setShape({cx:parseFloat(Q.getAttribute("cx")||"0"),cy:parseFloat(Q.getAttribute("cy")||"0"),r:parseFloat(Q.getAttribute("r")||"0")}),K.silent=!0,K},line:function(Q,J){var K=new l5;return F$(J,K),o9(Q,K,this._defsUsePending,!1,!1),K.setShape({x1:parseFloat(Q.getAttribute("x1")||"0"),y1:parseFloat(Q.getAttribute("y1")||"0"),x2:parseFloat(Q.getAttribute("x2")||"0"),y2:parseFloat(Q.getAttribute("y2")||"0")}),K.silent=!0,K},ellipse:function(Q,J){var K=new YG;return F$(J,K),o9(Q,K,this._defsUsePending,!1,!1),K.setShape({cx:parseFloat(Q.getAttribute("cx")||"0"),cy:parseFloat(Q.getAttribute("cy")||"0"),rx:parseFloat(Q.getAttribute("rx")||"0"),ry:parseFloat(Q.getAttribute("ry")||"0")}),K.silent=!0,K},polygon:function(Q,J){var K=Q.getAttribute("points"),Y;if(K)Y=fP0(K);var q=new z6({shape:{points:Y||[]},silent:!0});return F$(J,q),o9(Q,q,this._defsUsePending,!1,!1),q},polyline:function(Q,J){var K=Q.getAttribute("points"),Y;if(K)Y=fP0(K);var q=new K6({shape:{points:Y||[]},silent:!0});return F$(J,q),o9(Q,q,this._defsUsePending,!1,!1),q},image:function(Q,J){var K=new n5;return F$(J,K),o9(Q,K,this._defsUsePending,!1,!1),K.setStyle({image:Q.getAttribute("xlink:href")||Q.getAttribute("href"),x:+Q.getAttribute("x"),y:+Q.getAttribute("y"),width:+Q.getAttribute("width"),height:+Q.getAttribute("height")}),K.silent=!0,K},text:function(Q,J){var K=Q.getAttribute("x")||"0",Y=Q.getAttribute("y")||"0",q=Q.getAttribute("dx")||"0",Z=Q.getAttribute("dy")||"0";this._textX=parseFloat(K)+parseFloat(q),this._textY=parseFloat(Y)+parseFloat(Z);var X=new _0;return F$(J,X),o9(Q,X,this._defsUsePending,!1,!0),X},tspan:function(Q,J){var K=Q.getAttribute("x"),Y=Q.getAttribute("y");if(K!=null)this._textX=parseFloat(K);if(Y!=null)this._textY=parseFloat(Y);var q=Q.getAttribute("dx")||"0",Z=Q.getAttribute("dy")||"0",X=new _0;return F$(J,X),o9(Q,X,this._defsUsePending,!1,!0),this._textX+=parseFloat(q),this._textY+=parseFloat(Z),X},path:function(Q,J){var K=Q.getAttribute("d")||"",Y=$L(K);return F$(J,Y),o9(Q,Y,this._defsUsePending,!1,!1),Y.silent=!0,Y}}}(),$}(),vP0={lineargradient:function($){var Q=parseInt($.getAttribute("x1")||"0",10),J=parseInt($.getAttribute("y1")||"0",10),K=parseInt($.getAttribute("x2")||"10",10),Y=parseInt($.getAttribute("y2")||"0",10),q=new o3(Q,J,K,Y);return SP0($,q),_P0($,q),q},radialgradient:function($){var Q=parseInt($.getAttribute("cx")||"0",10),J=parseInt($.getAttribute("cy")||"0",10),K=parseInt($.getAttribute("r")||"0",10),Y=new YL(Q,J,K);return SP0($,Y),_P0($,Y),Y}};function SP0($,Q){var J=$.getAttribute("gradientUnits");if(J==="userSpaceOnUse")Q.global=!0}function _P0($,Q){var J=$.firstChild;while(J){if(J.nodeType===1&&J.nodeName.toLocaleLowerCase()==="stop"){var K=J.getAttribute("offset"),Y=void 0;if(K&&K.indexOf("%")>0)Y=parseInt(K,10)/100;else if(K)Y=parseFloat(K);else Y=0;var q={};bP0(J,q,q);var Z=q.stopColor||J.getAttribute("stop-color")||"#000000",X=q.stopOpacity||J.getAttribute("stop-opacity");if(X){var W=f7(Z),F=W&&W[3];if(F)W[3]*=JY(X),Z=i4(W,"rgba")}Q.colorStops.push({offset:Y,color:Z})}J=J.nextSibling}}function F$($,Q){if($&&$.__inheritedStyle){if(!Q.__inheritedStyle)Q.__inheritedStyle={};b0(Q.__inheritedStyle,$.__inheritedStyle)}}function fP0($){var Q=Iv($),J=[];for(var K=0;K<Q.length;K+=2){var Y=parseFloat(Q[K]),q=parseFloat(Q[K+1]);J.push([Y,q])}return J}function o9($,Q,J,K,Y){var q=Q,Z=q.__inheritedStyle=q.__inheritedStyle||{},X={};if($.nodeType===1){if(bX1($,Q),bP0($,Z,X),!K)gX1($,Z,X)}if(q.style=q.style||{},Z.fill!=null)q.style.fill=IP0(q,"fill",Z.fill,J);if(Z.stroke!=null)q.style.stroke=IP0(q,"stroke",Z.stroke,J);if(v(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(W){if(Z[W]!=null)q.style[W]=parseFloat(Z[W])}),v(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(W){if(Z[W]!=null)q.style[W]=Z[W]}),Y)q.__selfStyle=X;if(Z.lineDash)q.style.lineDash=K0(Iv(Z.lineDash),function(W){return parseFloat(W)});if(Z.visibility==="hidden"||Z.visibility==="collapse")q.invisible=!0;if(Z.display==="none")q.ignore=!0}function SX1($,Q){var J=Q.__selfStyle;if(J){var K=J.textBaseline,Y=K;if(!K||K==="auto")Y="alphabetic";else if(K==="baseline")Y="alphabetic";else if(K==="before-edge"||K==="text-before-edge")Y="top";else if(K==="after-edge"||K==="text-after-edge")Y="bottom";else if(K==="central"||K==="mathematical")Y="middle";$.style.textBaseline=Y}var q=Q.__inheritedStyle;if(q){var Z=q.textAlign,X=Z;if(Z){if(Z==="middle")X="center";$.style.textAlign=X}}}var _X1=/^url\(\s*#(.*?)\)/;function IP0($,Q,J,K){var Y=J&&J.match(_X1);if(Y){var q=O7(Y[1]);K.push([$,Q,q]);return}if(J==="none")J=null;return J}function fX1($,Q){for(var J=0;J<Q.length;J++){var K=Q[J];K[0].style[K[1]]=$[K[2]]}}var IX1=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Iv($){return $.match(IX1)||[]}var MX1=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,Si=Math.PI/180;function bX1($,Q){var J=$.getAttribute("transform");if(J){J=J.replace(/,/g," ");var K=[],Y=null;J.replace(MX1,function(B,z,A){return K.push(z,A),""});for(var q=K.length-1;q>0;q-=2){var Z=K[q],X=K[q-1],W=Iv(Z);switch(Y=Y||Q6(),X){case"translate":D8(Y,Y,[parseFloat(W[0]),parseFloat(W[1]||"0")]);break;case"scale":YN(Y,Y,[parseFloat(W[0]),parseFloat(W[1]||W[0])]);break;case"rotate":u8(Y,Y,-parseFloat(W[0])*Si,[parseFloat(W[1]||"0"),parseFloat(W[2]||"0")]);break;case"skewX":var F=Math.tan(parseFloat(W[0])*Si);T8(Y,[1,0,F,1,0,0],Y);break;case"skewY":var H=Math.tan(parseFloat(W[0])*Si);T8(Y,[1,H,0,1,0,0],Y);break;case"matrix":Y[0]=parseFloat(W[0]),Y[1]=parseFloat(W[1]),Y[2]=parseFloat(W[2]),Y[3]=parseFloat(W[3]),Y[4]=parseFloat(W[4]),Y[5]=parseFloat(W[5]);break}}Q.setLocalTransform(Y)}}var MP0=/([^\s:;]+)\s*:\s*([^:;]+)/g;function bP0($,Q,J){var K=$.getAttribute("style");if(!K)return;MP0.lastIndex=0;var Y;while((Y=MP0.exec(K))!=null){var q=Y[1],Z=x0(_v,q)?_v[q]:null;if(Z)Q[Z]=Y[2];var X=x0(fv,q)?fv[q]:null;if(X)J[X]=Y[2]}}function gX1($,Q,J){for(var K=0;K<LP0.length;K++){var Y=LP0[K],q=$.getAttribute(Y);if(q!=null)Q[_v[Y]]=q}for(var K=0;K<hP0.length;K++){var Y=hP0[K],q=$.getAttribute(Y);if(q!=null)J[fv[Y]]=q}}function _i($,Q){var J=Q.width/$.width,K=Q.height/$.height,Y=Math.min(J,K);return{scale:Y,x:-($.x+$.width/2)*Y+(Q.x+Q.width/2),y:-($.y+$.height/2)*Y+(Q.y+Q.height/2)}}function gP0($,Q){var J=new vX1;return J.parse($,Q)}var yX1=L0(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),yP0=function(){function $(Q,J){this.type="geoSVG",this._usedGraphicMap=L0(),this._freedGraphics=[],this._mapName=Q,this._parsedXML=Sv(J)}return $.prototype.load=function(){var Q=this._firstGraphic;if(!Q){Q=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(Q),this._boundingRect=this._firstGraphic.boundingRect.clone();var J=cX1(Q.named),K=J.regions,Y=J.regionsMap;this._regions=K,this._regionsMap=Y}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},$.prototype._buildGraphic=function(Q){var J,K;try{J=Q&&gP0(Q,{ignoreViewBox:!0,ignoreRootClip:!0})||{},K=J.root,S0(K!=null)}catch(w){throw Error(`Invalid svg format
`+w.message)}var Y=new _0;Y.add(K),Y.isGeoSVGGraphicRoot=!0;var{width:q,height:Z,viewBoxRect:X}=J,W=this._boundingRect;if(!W){var F=void 0,H=void 0,B=void 0,z=void 0;if(q!=null)F=0,B=q;else if(X)F=X.x,B=X.width;if(Z!=null)H=0,z=Z;else if(X)H=X.y,z=X.height;if(F==null||H==null){var A=K.getBoundingRect();if(F==null)F=A.x,B=A.width;if(H==null)H=A.y,z=A.height}W=this._boundingRect=new u0(F,H,B,z)}if(X){var R=_i(X,W);K.scaleX=K.scaleY=R.scale,K.x=R.x,K.y=R.y}Y.setClipPath(new Q1({shape:W.plain()}));var G=[];return v(J.named,function(w){if(yX1.get(w.svgNodeTagLower)!=null)G.push(w),xX1(w.el)}),{root:Y,boundingRect:W,named:G}},$.prototype.useGraphic=function(Q){var J=this._usedGraphicMap,K=J.get(Q);if(K)return K;return K=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),J.set(Q,K),K},$.prototype.freeGraphic=function(Q){var J=this._usedGraphicMap,K=J.get(Q);if(K)J.removeKey(Q),this._freedGraphics.push(K)},$}();function xX1($){if($.silent=!1,$.isGroup)$.traverse(function(Q){Q.silent=!1})}function cX1($){var Q=[],J=L0();return v($,function(K){if(K.namedFrom!=null)return;var Y=new tT0(K.name,K.el);Q.push(Y),J.set(K.name,Y)}),{regions:Q,regionsMap:J}}var fi=[126,25],xP0="",YF=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,0.7],[52,0.7],[56,7.7],[59,0.7],[64,0.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(jY=0;jY<YF.length;jY++)for(sZ=0;sZ<YF[jY].length;sZ++)YF[jY][sZ][0]/=10.5,YF[jY][sZ][1]/=-14,YF[jY][sZ][0]+=fi[0],YF[jY][sZ][1]+=fi[1];var sZ,jY;function Ii($,Q){if($==="china"){for(var J=0;J<Q.length;J++)if(Q[J].name===xP0)return;Q.push(new lh(xP0,K0(YF,function(K){return{type:"polygon",exterior:K}}),fi))}}var uX1={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};function Mi($,Q){if($==="china"){var J=uX1[Q.name];if(J){var K=Q.getCenter();K[0]+=J[0]/10.5,K[1]+=-J[1]/14,Q.setCenter(K)}}}var mX1=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function bi($,Q){if($==="china"&&Q.name==="")Q.geometries.push({type:"polygon",exterior:mX1[0]})}var pX1="name",cP0=function(){function $(Q,J,K){this.type="geoJSON",this._parsedMap=L0(),this._mapName=Q,this._specialAreas=K,this._geoJSON=nX1(J)}return $.prototype.load=function(Q,J){J=J||pX1;var K=this._parsedMap.get(J);if(!K){var Y=this._parseToRegions(J);K=this._parsedMap.set(J,{regions:Y,boundingRect:dX1(Y)})}var q=L0(),Z=[];return v(K.regions,function(X){var W=X.name;if(Q&&x0(Q,W))X=X.cloneShallow(W=Q[W]);Z.push(X),q.set(W,X)}),{regions:Z,boundingRect:K.boundingRect||new u0(0,0,0,0),regionsMap:q}},$.prototype._parseToRegions=function(Q){var J=this._mapName,K=this._geoJSON,Y;try{Y=K?Yr(K,Q):[]}catch(q){throw Error(`Invalid geoJson format
`+q.message)}return Ii(J,Y),v(Y,function(q){var Z=q.name;Mi(J,q),bi(J,q);var X=this._specialAreas&&this._specialAreas[Z];if(X)q.transformTo(X.left,X.top,X.width,X.height)},this),Y},$.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},$}();function dX1($){var Q;for(var J=0;J<$.length;J++){var K=$[J].getBoundingRect();Q=Q||K.clone(),Q.union(K)}return Q}function nX1($){return!B0($)?$:typeof JSON<"u"&&JSON.parse?JSON.parse($):Function("return ("+$+");")()}var Uw=L0(),k4={registerMap:function($,Q,J){if(Q.svg){var K=new yP0($,Q.svg);Uw.set($,K)}else{var Y=Q.geoJson||Q.geoJSON;if(Y&&!Q.features)J=Q.specialAreas;else Y=Q;var K=new cP0($,Y,J);Uw.set($,K)}},getGeoResource:function($){return Uw.get($)},getMapForUser:function($){var Q=Uw.get($);return Q&&Q.type==="geoJSON"&&Q.getMapForUser()},load:function($,Q,J){var K=Uw.get($);if(!K){console.error("Map "+$+" not exists. The GeoJSON of the map must be provided.");return}return K.load(Q,J)}};var gi=["rect","circle","line","ellipse","polygon","polyline","path"],lX1=L0(gi),rX1=L0(gi.concat(["g"])),iX1=L0(gi.concat(["g"])),iP0=n0();function Mv($){var Q=$.getItemStyle(),J=$.get("areaColor");if(J!=null)Q.fill=J;return Q}function uP0($){var Q=$.style;if(Q)Q.stroke=Q.stroke||Q.fill,Q.fill=null}var sX1=function(){function $(Q){var J=this.group=new _0,K=this._transformGroup=new _0;J.add(K),this.uid=$$("ec_map_draw"),this._controller=new N9(Q.getZr()),this._controllerHost={target:K},K.add(this._regionsGroup=new _0),K.add(this._svgGroup=new _0)}return $.prototype.draw=function(Q,J,K,Y,q){var Z=Q.mainType==="geo",X=Q.getData&&Q.getData();Z&&J.eachComponent({mainType:"series",subType:"map"},function(P){if(!X&&P.getHostGeoModel()===Q)X=P.getData()});var W=Q.coordinateSystem,F=this._regionsGroup,H=this._transformGroup,B=W.getTransformInfo(),z=B.raw,A=B.roam,R=!F.childAt(0)||q,G=Q.getShallow("clip",!0),w;if(G)w=W.getViewRect().clone(),this.group.setClipPath(new Q1({shape:w.clone()}));else this.group.removeClipPath();if(R)H.x=A.x,H.y=A.y,H.scaleX=A.scaleX,H.scaleY=A.scaleY,H.dirty();else V1(H,A,Q);var T=X&&X.getVisual("visualMeta")&&X.getVisual("visualMeta").length>0,D={api:K,geo:W,mapOrGeoModel:Q,data:X,isVisualEncodedByVisualMap:T,isGeo:Z,transformInfoRaw:z};if(W.resourceType==="geoJSON")this._buildGeoJSON(D);else if(W.resourceType==="geoSVG")this._buildSVG(D);this._updateController(Q,w,J,K),this._updateMapSelectHandler(Q,F,K,Y)},$.prototype._buildGeoJSON=function(Q){var J=this._regionsGroupByName=L0(),K=L0(),Y=this._regionsGroup,q=Q.transformInfoRaw,Z=Q.mapOrGeoModel,X=Q.data,W=Q.geo.projection,F=W&&W.stream;function H(A,R){if(R)A=R(A);return A&&[A[0]*q.scaleX+q.x,A[1]*q.scaleY+q.y]}function B(A){var R=[],G=!F&&W&&W.project;for(var w=0;w<A.length;++w){var T=H(A[w],G);T&&R.push(T)}return R}function z(A){return{shape:{points:B(A)}}}Y.removeAll(),v(Q.geo.regions,function(A){var R=A.name,G=J.get(R),w=K.get(R)||{},T=w.dataIdx,D=w.regionModel;if(!G){G=J.set(R,new _0),Y.add(G),T=X?X.indexOfName(R):null,D=Q.isGeo?Z.getRegionModel(R):X?X.getItemModel(T):null;var P=D.get("silent",!0);P!=null&&(G.silent=P),K.set(R,{dataIdx:T,regionModel:D})}var j=[],E=[];v(A.geometries,function(_){if(_.type==="polygon"){var S=[_.exterior].concat(_.interiors||[]);if(F)S=rP0(S,F);v(S,function(M){j.push(new z6(z(M)))})}else{var I=_.points;if(F)I=rP0(I,F,!0);v(I,function(M){E.push(new K6(z(M)))})}});var L=H(A.getCenter(),W&&W.project);function h(_,S){if(!_.length)return;var I=new LZ({culling:!0,segmentIgnoreThreshold:1,shape:{paths:_}});if(G.add(I),mP0(Q,I,T,D),pP0(Q,I,R,D,Z,T,L),S)uP0(I),v(I.states,uP0)}h(j),h(E,!0)}),J.each(function(A,R){var G=K.get(R),w=G.dataIdx,T=G.regionModel;dP0(Q,A,R,T,Z,w),nP0(Q,A,R,T,Z),lP0(Q,A,R,T,Z)},this)},$.prototype._buildSVG=function(Q){var J=Q.geo.map,K=Q.transformInfoRaw;if(this._svgGroup.x=K.x,this._svgGroup.y=K.y,this._svgGroup.scaleX=K.scaleX,this._svgGroup.scaleY=K.scaleY,this._svgResourceChanged(J))this._freeSVG(),this._useSVG(J);var Y=this._svgDispatcherMap=L0(),q=!1;v(this._svgGraphicRecord.named,function(Z){var X=Z.name,W=Q.mapOrGeoModel,F=Q.data,H=Z.svgNodeTagLower,B=Z.el,z=F?F.indexOfName(X):null,A=W.getRegionModel(X);if(lX1.get(H)!=null&&B instanceof a6)mP0(Q,B,z,A);if(B instanceof a6)B.culling=!0;var R=A.get("silent",!0);if(R!=null&&(B.silent=R),B.z2EmphasisLift=0,!Z.namedFrom){if(iX1.get(H)!=null)pP0(Q,B,X,A,W,z,null);if(dP0(Q,B,X,A,W,z),nP0(Q,B,X,A,W),rX1.get(H)!=null){var G=lP0(Q,B,X,A,W);if(G==="self")q=!0;var w=Y.get(X)||Y.set(X,[]);w.push(B)}}},this),this._enableBlurEntireSVG(q,Q)},$.prototype._enableBlurEntireSVG=function(Q,J){if(Q&&J.isGeo){var K=J.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),Y=K.opacity;this._svgGraphicRecord.root.traverse(function(q){if(!q.isGroup){e$(q);var Z=q.ensureState("blur").style||{};if(Z.opacity==null&&Y!=null)Z.opacity=Y;q.ensureState("emphasis")}})}},$.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},$.prototype.findHighDownDispatchers=function(Q,J){if(Q==null)return[];var K=J.coordinateSystem;if(K.resourceType==="geoJSON"){var Y=this._regionsGroupByName;if(Y){var q=Y.get(Q);return q?[q]:[]}}else if(K.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(Q)||[]},$.prototype._svgResourceChanged=function(Q){return this._svgMapName!==Q},$.prototype._useSVG=function(Q){var J=k4.getGeoResource(Q);if(J&&J.type==="geoSVG"){var K=J.useGraphic(this.uid);this._svgGroup.add(K.root),this._svgGraphicRecord=K,this._svgMapName=Q}},$.prototype._freeSVG=function(){var Q=this._svgMapName;if(Q==null)return;var J=k4.getGeoResource(Q);if(J&&J.type==="geoSVG")J.freeGraphic(this.uid);this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null},$.prototype._updateController=function(Q,J,K,Y){var q=Q.coordinateSystem,Z=this._controller,X=this._controllerHost;X.zoomLimit=Q.get("scaleLimit"),X.zoom=q.getZoom(),Z.enable(Q.get("roam")||!1,{api:Y,zInfo:{component:Q},triggerInfo:{roamTrigger:Q.get("roamTrigger"),isInSelf:function(H,B,z){return q.containPoint([B,z])},isInClip:function(H,B,z){return!J||J.contain(B,z)}}});var W=Q.mainType;function F(){var H={type:"geoRoam",componentType:W};return H[W+"Id"]=Q.id,H}Z.off("pan").on("pan",function(H){this._mouseDownFlag=!1,Ww(X,H.dx,H.dy),Y.dispatchAction(Q0(F(),{dx:H.dx,dy:H.dy,animation:{duration:0}}))},this),Z.off("zoom").on("zoom",function(H){this._mouseDownFlag=!1,Fw(X,H.scale,H.originX,H.originY),Y.dispatchAction(Q0(F(),{totalZoom:X.zoom,zoom:H.scale,originX:H.originX,originY:H.originY,animation:{duration:0}}))},this)},$.prototype.resetForLabelLayout=function(){this.group.traverse(function(Q){var J=Q.getTextContent();if(J)J.ignore=iP0(J).ignore})},$.prototype._updateMapSelectHandler=function(Q,J,K,Y){var q=this;if(J.off("mousedown"),J.off("click"),Q.get("selectedMode"))J.on("mousedown",function(){q._mouseDownFlag=!0}),J.on("click",function(Z){if(!q._mouseDownFlag)return;q._mouseDownFlag=!1})},$}();function mP0($,Q,J,K){var Y=K.getModel("itemStyle"),q=K.getModel(["emphasis","itemStyle"]),Z=K.getModel(["blur","itemStyle"]),X=K.getModel(["select","itemStyle"]),W=Mv(Y),F=Mv(q),H=Mv(X),B=Mv(Z),z=$.data;if(z){var A=z.getItemVisual(J,"style"),R=z.getItemVisual(J,"decal");if($.isVisualEncodedByVisualMap&&A.fill)W.fill=A.fill;if(R)W.decal=UQ(R,$.api)}Q.setStyle(W),Q.style.strokeNoScale=!0,Q.ensureState("emphasis").style=F,Q.ensureState("select").style=H,Q.ensureState("blur").style=B,e$(Q)}function pP0($,Q,J,K,Y,q,Z){var{data:X,isGeo:W}=$,F=X&&isNaN(X.get(X.mapDimension("value"),q)),H=X&&X.getItemLayout(q);if(W||F||H&&H.showLabel){var B=!W?q:J,z=void 0;if(!X||q>=0)z=Y;var A=Z?{normal:{align:"center",verticalAlign:"middle"}}:null;v5(Q,k5(K),{labelFetcher:z,labelDataIndex:B,defaultText:J},A);var R=Q.getTextContent();if(R){if(iP0(R).ignore=R.ignore,Q.textConfig&&Z){var G=Q.getBoundingRect().clone();Q.textConfig.layoutRect=G,Q.textConfig.position=[(Z[0]-G.x)/G.width*100+"%",(Z[1]-G.y)/G.height*100+"%"]}}Q.disableLabelAnimation=!0}else Q.removeTextContent(),Q.removeTextConfig(),Q.disableLabelAnimation=null}function dP0($,Q,J,K,Y,q){if($.data)$.data.setItemGraphicEl(q,Q);else m0(Q).eventData={componentType:"geo",componentIndex:Y.componentIndex,geoIndex:Y.componentIndex,name:J,region:K&&K.option||{}}}function nP0($,Q,J,K,Y){if(!$.data)r8({el:Q,componentModel:Y,itemName:J,itemTooltipOption:K.get("tooltip")})}function lP0($,Q,J,K,Y){Q.highDownSilentOnTouch=!!Y.get("selectedMode");var q=K.getModel("emphasis"),Z=q.get("focus");if(u1(Q,Z,q.get("blurScope"),q.get("disabled")),$.isGeo)lR0(Q,Y,J);return Z}function rP0($,Q,J){var K=[],Y;function q(){Y=[]}function Z(){if(Y.length)K.push(Y),Y=[]}var X=Q({polygonStart:q,polygonEnd:Z,lineStart:q,lineEnd:Z,point:function(W,F){if(isFinite(W)&&isFinite(F))Y.push([W,F])},sphere:function(){}});return!J&&X.polygonStart(),v($,function(W){X.lineStart();for(var F=0;F<W.length;F++)X.point(W[F][0],W[F][1]);X.lineEnd()}),!J&&X.polygonEnd(),K}var bv=sX1;var oX1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y,q){if(q&&q.type==="mapToggleSelect"&&q.from===this.uid)return;var Z=this.group;if(Z.removeAll(),J.getHostGeoModel())return;if(this._mapDraw&&q&&q.type==="geoRoam")this._mapDraw.resetForLabelLayout();if(!(q&&q.type==="geoRoam"&&q.componentType==="series"&&q.seriesId===J.id))if(J.needsDrawMap){var X=this._mapDraw||new bv(Y);Z.add(X.group),X.draw(J,K,Y,this,q),this._mapDraw=X}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;else{var X=this._mapDraw;X&&Z.add(X.group)}J.get("showLegendSymbol")&&K.getComponent("legend")&&this._renderSymbols(J,K,Y)},Q.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},Q.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},Q.prototype._renderSymbols=function(J,K,Y){var q=J.originalData,Z=this.group;q.each(q.mapDimension("value"),function(X,W){if(isNaN(X))return;var F=q.getItemLayout(W);if(!F||!F.point)return;var{point:H,offset:B}=F,z=new R4({style:{fill:J.getData().getVisual("style").fill},shape:{cx:H[0]+B*9,cy:H[1],r:3},silent:!0,z2:8+(!B?XY+1:0)});if(!B){var A=J.mainSeries.getData(),R=q.getName(W),G=A.indexOfName(R),w=q.getItemModel(W),T=w.getModel("label"),D=A.getItemGraphicEl(G);if(v5(z,k5(w),{labelFetcher:{getFormattedLabel:function(P,j){return J.getFormattedLabel(G,j)}},defaultText:R}),z.disableLabelAnimation=!0,!T.get("position"))z.setTextConfig({position:"bottom"});D.onHoverStateChange=function(P){jW(z,P)}}Z.add(z)})},Q.type="map",Q}(_1),sP0=oX1;var aX1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.needsDrawMap=!1,J.seriesGroup=[],J.getTooltipPosition=function(K){if(K!=null){var Y=this.getData().getName(K),q=this.coordinateSystem,Z=q.getRegion(Y);return Z&&q.dataToPoint(Z.getCenter())}},J}return Q.prototype.getInitialData=function(J){var K=s9(this,{coordDimensions:["value"],encodeDefaulter:a0(fN,this)}),Y=L0(),q=[];for(var Z=0,X=K.count();Z<X;Z++){var W=K.getName(Z);Y.set(W,Z)}var F=k4.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return v(F.regions,function(H){var B=H.name,z=Y.get(B),A=H.properties&&H.properties.echartsStyle,R;if(z==null)R={name:B},q.push(R);else R=K.getRawDataItem(z);A&&K1(R,A)}),K.appendData(q),K},Q.prototype.getHostGeoModel=function(){if(cn(this).kind===qQ.boxCoordSys)return;return this.getReferringComponents("geo",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0]},Q.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},Q.prototype.getRawValue=function(J){var K=this.getData();return K.get(K.mapDimension("value"),J)},Q.prototype.getRegionModel=function(J){var K=this.getData();return K.getItemModel(K.indexOfName(J))},Q.prototype.formatTooltip=function(J,K,Y){var q=this.getData(),Z=this.getRawValue(J),X=q.getName(J),W=this.seriesGroup,F=[];for(var H=0;H<W.length;H++){var B=W[H].originalData.indexOfName(X),z=q.mapDimension("value");if(!isNaN(W[H].originalData.get(z,B)))F.push(W[H].name)}return x5("section",{header:F.join(", "),noHeader:!F.length,blocks:[x5("nameValue",{name:X,value:Z})]})},Q.prototype.setZoom=function(J){this.option.zoom=J},Q.prototype.setCenter=function(J){this.option.center=J},Q.prototype.getLegendIcon=function(J){var K=J.icon||"roundRect",Y=j5(K,0,0,J.itemWidth,J.itemHeight,J.itemStyle.fill);if(Y.setStyle(J.itemStyle),Y.style.stroke="none",K.indexOf("empty")>-1)Y.style.stroke=Y.style.fill,Y.style.fill=a.color.neutral00,Y.style.lineWidth=2;return Y},Q.type="series.map",Q.dependencies=["geo"],Q.layoutMode="box",Q.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:a.color.tertiary},itemStyle:{borderWidth:0.5,borderColor:a.color.border,areaColor:a.color.background},emphasis:{label:{show:!0,color:a.color.primary},itemStyle:{areaColor:a.color.highlight}},select:{label:{show:!0,color:a.color.primary},itemStyle:{color:a.color.highlight}},nameProperty:"name"},Q}(m1),oP0=aX1;function tX1($,Q){var J={};return v($,function(K){K.each(K.mapDimension("value"),function(Y,q){var Z="ec-"+K.getName(q);if(J[Z]=J[Z]||[],!isNaN(Y))J[Z].push(Y)})}),$[0].map($[0].mapDimension("value"),function(K,Y){var q="ec-"+$[0].getName(Y),Z=0,X=1/0,W=-1/0,F=J[q].length;for(var H=0;H<F;H++)X=Math.min(X,J[q][H]),W=Math.max(W,J[q][H]),Z+=J[q][H];var B;if(Q==="min")B=X;else if(Q==="max")B=W;else if(Q==="average")B=Z/F;else B=Z;return F===0?NaN:B})}function yi($){var Q={};$.eachSeriesByType("map",function(J){var K=J.getHostGeoModel(),Y=K?"o"+K.id:"i"+J.getMapType();(Q[Y]=Q[Y]||[]).push(J)}),v(Q,function(J,K){var Y=tX1(K0(J,function(Z){return Z.getData()}),J[0].get("mapValueCalculation"));for(var q=0;q<J.length;q++)J[q].originalData=J[q].getData();for(var q=0;q<J.length;q++)J[q].seriesGroup=J,J[q].needsDrawMap=q===0&&!J[q].getHostGeoModel(),J[q].setData(Y.cloneShallow()),J[q].mainSeries=J[0]})}function xi($){var Q={};$.eachSeriesByType("map",function(J){var K=J.getMapType();if(J.getHostGeoModel()||Q[K])return;var Y={};v(J.seriesGroup,function(Z){var{coordinateSystem:X,originalData:W}=Z;if(Z.get("showLegendSymbol")&&$.getComponent("legend"))W.each(W.mapDimension("value"),function(F,H){var B=W.getName(H),z=X.getRegion(B);if(!z||isNaN(F))return;var A=Y[B]||0,R=X.dataToPoint(z.getCenter());Y[B]=A+1,W.setItemLayout(H,{point:R,offset:A})})});var q=J.getData();q.each(function(Z){var X=q.getName(Z),W=q.getItemLayout(Z)||{};W.showLabel=!Y[X],q.setItemLayout(Z,W)}),Q[K]=!0})}var aP0=o5,eX1=function($){x(Q,$);function Q(J,K){var Y=$.call(this)||this;return Y.type="view",Y.dimensions=["x","y"],Y._roamTransformable=new s4,Y._rawTransformable=new s4,Y.name=J,Y._opt=K,Y}return Q.prototype.setBoundingRect=function(J,K,Y,q){return this._rect=new u0(J,K,Y,q),this._updateCenterAndZoom(),this._rect},Q.prototype.getBoundingRect=function(){return this._rect},Q.prototype.setViewRect=function(J,K,Y,q){this._transformTo(J,K,Y,q),this._viewRect=new u0(J,K,Y,q)},Q.prototype._transformTo=function(J,K,Y,q){var Z=this.getBoundingRect(),X=this._rawTransformable;X.transform=Z.calculateTransform(new u0(J,K,Y,q));var W=X.parent;X.parent=null,X.decomposeTransform(),X.parent=W,this._updateTransform()},Q.prototype.setCenter=function(J){var K=this._opt;if(K&&K.api&&K.ecModel&&K.ecModel.getShallow("legacyViewCoordSysCenterBase")&&J)J=[h0(J[0],K.api.getWidth()),h0(J[1],K.api.getWidth())];this._centerOption=y0(J),this._updateCenterAndZoom()},Q.prototype.setZoom=function(J){this._zoom=vv(J||1,this.zoomLimit),this._updateCenterAndZoom()},Q.prototype.getDefaultCenter=function(){var J=this.getBoundingRect(),K=J.x+J.width/2,Y=J.y+J.height/2;return[K,Y]},Q.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},Q.prototype.getZoom=function(){return this._zoom||1},Q.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},Q.prototype._updateCenterAndZoom=function(){var J=this._centerOption,K=this._rect;if(J&&K)this._center=[h0(J[0],K.width,K.x),h0(J[1],K.height,K.y)];var Y=this._rawTransformable.getLocalTransform(),q=this._roamTransformable,Z=this.getDefaultCenter(),X=this.getCenter(),W=this.getZoom();X=o5([],X,Y),Z=o5([],Z,Y),q.originX=X[0],q.originY=X[1],q.x=Z[0]-X[0],q.y=Z[1]-X[1],q.scaleX=q.scaleY=W,this._updateTransform()},Q.prototype._updateTransform=function(){var J=this._roamTransformable,K=this._rawTransformable;K.parent=J,J.updateTransform(),K.updateTransform(),oX(this.transform||(this.transform=[]),K.transform||Q6()),this._rawTransform=K.getLocalTransform(),this.invTransform=this.invTransform||[],D7(this.invTransform,this.transform),this.decomposeTransform()},Q.prototype.getTransformInfo=function(){var J=this._rawTransformable,K=this._roamTransformable,Y=new s4;return Y.transform=K.transform,Y.decomposeTransform(),{roam:{x:Y.x,y:Y.y,scaleX:Y.scaleX,scaleY:Y.scaleY},raw:{x:J.x,y:J.y,scaleX:J.scaleX,scaleY:J.scaleY}}},Q.prototype.getViewRect=function(){return this._viewRect},Q.prototype.getViewRectAfterRoam=function(){var J=this.getBoundingRect().clone();return J.applyTransform(this.transform),J},Q.prototype.dataToPoint=function(J,K,Y){var q=K?this._rawTransform:this.transform;return Y=Y||[],q?aP0(Y,J,q):p7(Y,J)},Q.prototype.pointToData=function(J,K,Y){Y=Y||[];var q=this.invTransform;return q?aP0(Y,J,q):(Y[0]=J[0],Y[1]=J[1],Y)},Q.prototype.convertToPixel=function(J,K,Y){var q=tP0(K);return q===this?q.dataToPoint(Y):null},Q.prototype.convertFromPixel=function(J,K,Y){var q=tP0(K);return q===this?q.pointToData(Y):null},Q.prototype.containPoint=function(J){return this.getViewRectAfterRoam().contain(J[0],J[1])},Q.dimensions=["x","y"],Q}(s4);function tP0($){var Q=$.seriesModel;return Q?Q.coordinateSystem:null}var a9=eX1;var $W1={geoJSON:{aspectScale:0.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},ci=["lng","lat"],$k0=function($){x(Q,$);function Q(J,K,Y){var q=$.call(this,J,{api:Y.api,ecModel:Y.ecModel})||this;q.dimensions=ci,q.type="geo",q._nameCoordMap=L0(),q.map=K;var Z=Y.projection,X=k4.load(K,Y.nameMap,Y.nameProperty),W=k4.getGeoResource(K),F=q.resourceType=W?W.type:null,H=q.regions=X.regions,B=$W1[W.type];if(q._regionsMap=X.regionsMap,q.regions=X.regions,Z){if(F==="geoSVG")T5("Map "+K+" with SVG source can't use projection. Only GeoJSON source supports projection."),Z=null;if(!(Z.project&&Z.unproject))T5("project and unproject must be both provided in the projeciton."),Z=null}q.projection=Z;var z;if(Z)for(var A=0;A<H.length;A++){var R=H[A].getBoundingRect(Z);z=z||R.clone(),z.union(R)}else z=X.boundingRect;return q.setBoundingRect(z.x,z.y,z.width,z.height),q.aspectScale=Z?1:f0(Y.aspectScale,B.aspectScale),q._invertLongitute=Z?!1:B.invertLongitute,q}return Q.prototype._transformTo=function(J,K,Y,q){var Z=this.getBoundingRect(),X=this._invertLongitute;if(Z=Z.clone(),X)Z.y=-Z.y-Z.height;var W=this._rawTransformable;W.transform=Z.calculateTransform(new u0(J,K,Y,q));var F=W.parent;if(W.parent=null,W.decomposeTransform(),W.parent=F,X)W.scaleY=-W.scaleY;this._updateTransform()},Q.prototype.getRegion=function(J){return this._regionsMap.get(J)},Q.prototype.getRegionByCoord=function(J){var K=this.regions;for(var Y=0;Y<K.length;Y++){var q=K[Y];if(q.type==="geoJSON"&&q.contain(J))return K[Y]}},Q.prototype.addGeoCoord=function(J,K){this._nameCoordMap.set(J,K)},Q.prototype.getGeoCoord=function(J){var K=this._regionsMap.get(J);return this._nameCoordMap.get(J)||K&&K.getCenter()},Q.prototype.dataToPoint=function(J,K,Y){if(B0(J))J=this.getGeoCoord(J);if(J){var q=this.projection;if(q)J=q.project(J);return J&&this.projectedToPoint(J,K,Y)}},Q.prototype.pointToData=function(J,K,Y){var q=this.projection;if(q)J=q.unproject(J);return J&&this.pointToProjected(J,Y)},Q.prototype.pointToProjected=function(J,K){return $.prototype.pointToData.call(this,J,0,K)},Q.prototype.projectedToPoint=function(J,K,Y){return $.prototype.dataToPoint.call(this,J,K,Y)},Q.prototype.convertToPixel=function(J,K,Y){var q=eP0(K);return q===this?q.dataToPoint(Y):null},Q.prototype.convertFromPixel=function(J,K,Y){var q=eP0(K);return q===this?q.pointToData(Y):null},Q}(a9);_5($k0,a9);function eP0($){var{geoModel:Q,seriesModel:J}=$;return Q?Q.coordinateSystem:J?J.coordinateSystem||(J.getReferringComponents("geo",w5).models[0]||{}).coordinateSystem:null}var ui=$k0;function Qk0($,Q){var J=$.get("boundingCoords");if(J!=null){var K=J[0],Y=J[1];if(!(isFinite(K[0])&&isFinite(K[1])&&isFinite(Y[0])&&isFinite(Y[1])))console.error("Invalid boundingCoords");else{var q=this.projection;if(q){var Z=K[0],X=K[1],W=Y[0],F=Y[1];K=[1/0,1/0],Y=[-1/0,-1/0];var H=function(E,L,h,_){var S=h-E,I=_-L;for(var M=0;M<=100;M++){var y=M/100,b=q.project([E+S*y,L+I*y]);g9(K,K,b),y9(Y,Y,b)}};H(Z,X,W,X),H(W,X,W,F),H(W,F,Z,F),H(Z,F,W,X)}this.setBoundingRect(K[0],K[1],Y[0]-K[0],Y[1]-K[1])}}var B=this.getBoundingRect(),z=$.get("layoutCenter"),A=$.get("layoutSize"),R=D5($,Q).refContainer,G=B.width/B.height*this.aspectScale,w=!1,T,D;if(z&&A)if(T=[h0(z[0],R.width)+R.x,h0(z[1],R.height)+R.y],D=h0(A,Math.min(R.width,R.height)),!isNaN(T[0])&&!isNaN(T[1])&&!isNaN(D))w=!0;else console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead.");var P;if(w){if(P={},G>1)P.width=D,P.height=D/G;else P.height=D,P.width=D*G;P.y=T[1]-P.height/2,P.x=T[0]-P.width/2}else{var j=$.getBoxLayoutParams();j.aspect=G,P=e1(j,R),P=yL($,P,G)}this.setViewRect(P.x,P.y,P.width,P.height),this.setCenter($.get("center")),this.setZoom($.get("zoom"))}function QW1($,Q){v(Q.get("geoCoord"),function(J,K){$.addGeoCoord(K,J)})}var JW1=function(){function $(){this.dimensions=ci}return $.prototype.create=function(Q,J){var K=[];function Y(Z){return{nameProperty:Z.get("nameProperty"),aspectScale:Z.get("aspectScale"),projection:Z.get("projection")}}Q.eachComponent("geo",function(Z,X){var W=Z.get("map"),F=new ui(W+X,W,Q0({nameMap:Z.get("nameMap"),api:J,ecModel:Q},Y(Z)));F.zoomLimit=Z.get("scaleLimit"),K.push(F),Z.coordinateSystem=F,F.model=Z,F.resize=Qk0,F.resize(Z,J)}),Q.eachSeries(function(Z){gJ({targetModel:Z,coordSysType:"geo",coordSysProvider:function(){var X=Z.subType==="map"?Z.getHostGeoModel():Z.getReferringComponents("geo",w5).models[0];return X&&X.coordinateSystem},allowNotFound:!0})});var q={};return Q.eachSeriesByType("map",function(Z){if(!Z.getHostGeoModel()){var X=Z.getMapType();q[X]=q[X]||[],q[X].push(Z)}}),v(q,function(Z,X){var W=K0(Z,function(H){return H.get("nameMap")}),F=new ui(X,X,Q0({nameMap:aH(W),api:J,ecModel:Q},Y(Z[0])));F.zoomLimit=u5.apply(null,K0(Z,function(H){return H.get("scaleLimit")})),K.push(F),F.resize=Qk0,F.resize(Z[0],J),v(Z,function(H){H.coordinateSystem=F,QW1(F,H)})}),K},$.prototype.getFilledRegions=function(Q,J,K,Y){var q=(Q||[]).slice(),Z=L0();for(var X=0;X<q.length;X++)Z.set(q[X].name,q[X]);var W=k4.load(J,K,Y);return v(W.regions,function(F){var H=F.name,B=Z.get(H),z=F.properties&&F.properties.echartsStyle;if(!B)B={name:H},q.push(B);z&&K1(B,z)}),q},$}(),KW1=new JW1,gv=KW1;var YW1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(J,K,Y){this.mergeDefaultAndTheme(J,Y);var q=k4.getGeoResource(J.map);if(q&&q.type==="geoJSON"){var Z=J.itemStyle=J.itemStyle||{};if(!("color"in Z))Z.color=J.defaultItemStyleColor||a.color.backgroundTint}u9(J,"label",["show"])},Q.prototype.optionUpdated=function(){var J=this,K=this.option;K.regions=gv.getFilledRegions(K.regions,K.map,K.nameMap,K.nameProperty);var Y={};if(this._optionModelMap=O8(K.regions||[],function(q,Z){var X=Z.name;if(X){if(q.set(X,new D1(Z,J,J.ecModel)),Z.selected)Y[X]=!0}return q},L0()),!K.selectedMap)K.selectedMap=Y},Q.prototype.getRegionModel=function(J){return this._optionModelMap.get(J)||new D1(null,this,this.ecModel)},Q.prototype.getFormattedLabel=function(J,K){var Y=this.getRegionModel(J),q=K==="normal"?Y.get(["label","formatter"]):Y.get(["emphasis","label","formatter"]),Z={name:J};if(v0(q))return Z.status=K,q(Z);else if(B0(q))return q.replace("{a}",J!=null?J:"")},Q.prototype.setZoom=function(J){this.option.zoom=J},Q.prototype.setCenter=function(J){this.option.center=J},Q.prototype.select=function(J){var K=this.option,Y=K.selectedMode;if(!Y)return;if(Y!=="multiple")K.selectedMap=null;var q=K.selectedMap||(K.selectedMap={});q[J]=!0},Q.prototype.unSelect=function(J){var K=this.option.selectedMap;if(K)K[J]=!1},Q.prototype.toggleSelected=function(J){this[this.isSelected(J)?"unSelect":"select"](J)},Q.prototype.isSelected=function(J){var K=this.option.selectedMap;return!!(K&&K[J])},Q.type="geo",Q.layoutMode="box",Q.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:a.color.tertiary},itemStyle:{borderWidth:0.5,borderColor:a.color.border},emphasis:{label:{show:!0,color:a.color.primary},itemStyle:{color:a.color.highlight}},select:{label:{show:!0,color:a.color.primary},itemStyle:{color:a.color.highlight}},regions:[]},Q}(B1),Jk0=YW1;var qW1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.focusBlurEnabled=!0,J}return Q.prototype.init=function(J,K){this._api=K},Q.prototype.render=function(J,K,Y,q){if(this._model=J,!J.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}if(!this._mapDraw)this._mapDraw=new bv(Y);var Z=this._mapDraw;Z.draw(J,K,Y,this,q),Z.group.on("click",this._handleRegionClick,this),Z.group.silent=J.get("silent"),this.group.add(Z.group),this.updateSelectStatus(J,K,Y)},Q.prototype._handleRegionClick=function(J){var K;if(WQ(J.target,function(Y){return(K=m0(Y).eventData)!=null},!0),K)this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:K.name})},Q.prototype.updateSelectStatus=function(J,K,Y){var q=this;this._mapDraw.group.traverse(function(Z){var X=m0(Z).eventData;if(X)return q._model.isSelected(X.name)?Y.enterSelect(Z):Y.leaveSelect(Z),!0})},Q.prototype.findHighDownDispatchers=function(J){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(J,this._model)},Q.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},Q.type="geo",Q}(p1),Kk0=qW1;function ZW1($,Q,J){k4.registerMap($,Q,J)}function Hw($){$.registerCoordinateSystem("geo",gv),$.registerComponentModel(Jk0),$.registerComponentView(Kk0),$.registerImpl("registerMap",ZW1),$.registerImpl("getMap",function(J){return k4.getMapForUser(J)});function Q(J,K){K.update="geo:updateSelectStatus",$.registerAction(K,function(Y,q){var Z={},X=[];return q.eachComponent({mainType:"geo",query:Y},function(W){W[J](Y.name);var F=W.coordinateSystem;v(F.regions,function(B){Z[B.name]=W.isSelected(B.name)||!1});var H=[];v(Z,function(B,z){Z[z]&&H.push(z)}),X.push({geoIndex:W.componentIndex,name:H})}),{selected:Z,allSelected:X,name:Y.name}})}Q("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),Q("select",{type:"geoSelect",event:"geoselected"}),Q("unSelect",{type:"geoUnSelect",event:"geounselected"}),$.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(J,K,Y){var q=J.componentType;if(!q){if(J.geoId!=null)q="geo";else if(J.seriesId!=null)q="series"}if(!q)q="series";K.eachComponent({mainType:q,query:J},function(Z){var X=Z.coordinateSystem;if(X.type!=="geo")return;var W=iZ(X,J,Z.get("scaleLimit"));if(Z.setCenter&&Z.setCenter(W.center),Z.setZoom&&Z.setZoom(W.zoom),q==="series")v(Z.seriesGroup,function(F){F.setCenter(W.center),F.setZoom(W.zoom)})})})}function mi($){R1(Hw),$.registerChartView(sP0),$.registerSeriesModel(oP0),$.registerLayout(xi),$.registerProcessor($.PRIORITY.PROCESSOR.STATISTIC,yi),Bh("map",$.registerAction)}function Yk0($){var Q=$;Q.hierNode={defaultAncestor:null,ancestor:Q,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var J=[Q],K,Y;while(K=J.pop())if(Y=K.children,K.isExpand&&Y.length){var q=Y.length;for(var Z=q-1;Z>=0;Z--){var X=Y[Z];X.hierNode={defaultAncestor:null,ancestor:X,prelim:0,modifier:0,change:0,shift:0,i:Z,thread:null},J.push(X)}}}function qk0($,Q){var J=$.isExpand?$.children:[],K=$.parentNode.children,Y=$.hierNode.i?K[$.hierNode.i-1]:null;if(J.length){XW1($);var q=(J[0].hierNode.prelim+J[J.length-1].hierNode.prelim)/2;if(Y)$.hierNode.prelim=Y.hierNode.prelim+Q($,Y),$.hierNode.modifier=$.hierNode.prelim-q;else $.hierNode.prelim=q}else if(Y)$.hierNode.prelim=Y.hierNode.prelim+Q($,Y);$.parentNode.hierNode.defaultAncestor=WW1($,Y,$.parentNode.hierNode.defaultAncestor||K[0],Q)}function Zk0($){var Q=$.hierNode.prelim+$.parentNode.hierNode.modifier;$.setLayout({x:Q},!0),$.hierNode.modifier+=$.parentNode.hierNode.modifier}function ni($){return arguments.length?$:HW1}function qF($,Q){return $-=Math.PI/2,{x:Q*Math.cos($),y:Q*Math.sin($)}}function XW1($){var Q=$.children,J=Q.length,K=0,Y=0;while(--J>=0){var q=Q[J];q.hierNode.prelim+=K,q.hierNode.modifier+=K,Y+=q.hierNode.change,K+=q.hierNode.shift+Y}}function WW1($,Q,J,K){if(Q){var Y=$,q=$,Z=q.parentNode.children[0],X=Q,W=Y.hierNode.modifier,F=q.hierNode.modifier,H=Z.hierNode.modifier,B=X.hierNode.modifier;while(X=pi(X),q=di(q),X&&q){Y=pi(Y),Z=di(Z),Y.hierNode.ancestor=$;var z=X.hierNode.prelim+B-q.hierNode.prelim-F+K(X,q);if(z>0)UW1(FW1(X,$,J),$,z),F+=z,W+=z;B+=X.hierNode.modifier,F+=q.hierNode.modifier,W+=Y.hierNode.modifier,H+=Z.hierNode.modifier}if(X&&!pi(Y))Y.hierNode.thread=X,Y.hierNode.modifier+=B-W;if(q&&!di(Z))Z.hierNode.thread=q,Z.hierNode.modifier+=F-H,J=$}return J}function pi($){var Q=$.children;return Q.length&&$.isExpand?Q[Q.length-1]:$.hierNode.thread}function di($){var Q=$.children;return Q.length&&$.isExpand?Q[0]:$.hierNode.thread}function FW1($,Q,J){return $.hierNode.ancestor.parentNode===Q.parentNode?$.hierNode.ancestor:J}function UW1($,Q,J){var K=J/(Q.hierNode.i-$.hierNode.i);Q.hierNode.change-=K,Q.hierNode.shift+=J,Q.hierNode.modifier+=J,Q.hierNode.prelim+=J,$.hierNode.change+=K}function HW1($,Q){return $.parentNode===Q.parentNode?1:2}var NW1=function(){function $(){this.parentPoint=[],this.childPoints=[]}return $}(),BW1=function($){x(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultStyle=function(){return{stroke:a.color.neutral99,fill:null}},Q.prototype.getDefaultShape=function(){return new NW1},Q.prototype.buildPath=function(J,K){var Y=K.childPoints,q=Y.length,Z=K.parentPoint,X=Y[0],W=Y[q-1];if(q===1){J.moveTo(Z[0],Z[1]),J.lineTo(X[0],X[1]);return}var F=K.orient,H=F==="TB"||F==="BT"?0:1,B=1-H,z=h0(K.forkPosition,1),A=[];A[H]=Z[H],A[B]=Z[B]+(W[B]-Z[B])*z,J.moveTo(Z[0],Z[1]),J.lineTo(A[0],A[1]),J.moveTo(X[0],X[1]),A[H]=X[H],J.lineTo(A[0],A[1]),A[H]=W[H],J.lineTo(A[0],A[1]),J.lineTo(W[0],W[1]);for(var R=1;R<q-1;R++){var G=Y[R];J.moveTo(G[0],G[1]),A[H]=G[H],J.lineTo(A[0],A[1])}},Q}(t0),zW1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J._mainGroup=new _0,J}return Q.prototype.init=function(J,K){this._controller=new N9(K.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},Q.prototype.render=function(J,K,Y){var q=J.getData(),Z=J.layoutInfo,X=this._mainGroup,W=J.get("layout");if(W==="radial")X.x=Z.x+Z.width/2,X.y=Z.y+Z.height/2;else X.x=Z.x,X.y=Z.y;this._updateViewCoordSys(J,Y),this._updateController(J,null,K,Y);var F=this._data;if(q.diff(F).add(function(H){if(Xk0(q,H))Wk0(q,H,null,X,J)}).update(function(H,B){var z=F.getItemGraphicEl(B);if(!Xk0(q,H)){z&&Uk0(F,B,z,X,J);return}Wk0(q,H,z,X,J)}).remove(function(H){var B=F.getItemGraphicEl(H);if(B)Uk0(F,H,B,X,J)}).execute(),this._nodeScaleRatio=J.get("nodeScaleRatio"),this._updateNodeAndLinkScale(J),J.get("expandAndCollapse")===!0)q.eachItemGraphicEl(function(H,B){H.off("click").on("click",function(){Y.dispatchAction({type:"treeExpandAndCollapse",seriesId:J.id,dataIndex:B})})});this._data=q},Q.prototype._updateViewCoordSys=function(J,K){var Y=J.getData(),q=[];Y.each(function(B){var z=Y.getItemLayout(B);if(z&&!isNaN(z.x)&&!isNaN(z.y))q.push([+z.x,+z.y])});var Z=[],X=[];RW(q,Z,X);var W=this._min,F=this._max;if(X[0]-Z[0]===0)Z[0]=W?W[0]:Z[0]-1,X[0]=F?F[0]:X[0]+1;if(X[1]-Z[1]===0)Z[1]=W?W[1]:Z[1]-1,X[1]=F?F[1]:X[1]+1;var H=J.coordinateSystem=new a9(null,{api:K,ecModel:J.ecModel});H.zoomLimit=J.get("scaleLimit"),H.setBoundingRect(Z[0],Z[1],X[0]-Z[0],X[1]-Z[1]),H.setCenter(J.get("center")),H.setZoom(J.get("zoom")),this.group.attr({x:H.x,y:H.y,scaleX:H.scaleX,scaleY:H.scaleY}),this._min=Z,this._max=X},Q.prototype._updateController=function(J,K,Y,q){var Z=this;hv(J,q,this.group,this._controller,this._controllerHost,K),this._controller.on("zoom",function(X){Z._updateNodeAndLinkScale(J)})},Q.prototype._updateNodeAndLinkScale=function(J){var K=J.getData(),Y=this._getNodeGlobalScale(J);K.eachItemGraphicEl(function(q,Z){q.setSymbolScale(Y)})},Q.prototype._getNodeGlobalScale=function(J){var K=J.coordinateSystem;if(K.type!=="view")return 1;var Y=this._nodeScaleRatio,q=K.scaleX||1,Z=K.getZoom(),X=(Z-1)*Y+1;return X/q},Q.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},Q.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},Q.type="tree",Q}(_1);function Xk0($,Q){var J=$.getItemLayout(Q);return J&&!isNaN(J.x)&&!isNaN(J.y)}function Wk0($,Q,J,K,Y){var q=!J,Z=$.tree.getNodeByDataIndex(Q),X=Z.getModel(),W=Z.getVisual("style").fill,F=Z.isExpand===!1&&Z.children.length!==0?W:a.color.neutral00,H=$.tree.root,B=Z.parentNode===H?Z:Z.parentNode||Z,z=$.getItemGraphicEl(B.dataIndex),A=B.getLayout(),R=z?{x:z.__oldX,y:z.__oldY,rawX:z.__radialOldRawX,rawY:z.__radialOldRawY}:A,G=Z.getLayout();if(q)J=new CY($,Q,null,{symbolInnerColor:F,useNameLabel:!0}),J.x=R.x,J.y=R.y;else J.updateData($,Q,null,{symbolInnerColor:F,useNameLabel:!0});J.__radialOldRawX=J.__radialRawX,J.__radialOldRawY=J.__radialRawY,J.__radialRawX=G.rawX,J.__radialRawY=G.rawY,K.add(J),$.setItemGraphicEl(Q,J),J.__oldX=J.x,J.__oldY=J.y,V1(J,{x:G.x,y:G.y},Y);var w=J.getSymbolPath();if(Y.get("layout")==="radial"){var T=H.children[0],D=T.getLayout(),P=T.children.length,j=void 0,E=void 0;if(G.x===D.x&&Z.isExpand===!0&&T.children.length){var L={x:(T.children[0].getLayout().x+T.children[P-1].getLayout().x)/2,y:(T.children[0].getLayout().y+T.children[P-1].getLayout().y)/2};if(j=Math.atan2(L.y-D.y,L.x-D.x),j<0)j=Math.PI*2+j;if(E=L.x<D.x,E)j=j-Math.PI}else{if(j=Math.atan2(G.y-D.y,G.x-D.x),j<0)j=Math.PI*2+j;if(Z.children.length===0||Z.children.length!==0&&Z.isExpand===!1){if(E=G.x<D.x,E)j=j-Math.PI}else if(E=G.x>D.x,!E)j=j-Math.PI}var h=E?"left":"right",_=X.getModel("label"),S=_.get("rotate"),I=S*(Math.PI/180),M=w.getTextContent();if(M)w.setTextConfig({position:_.get("position")||h,rotation:S==null?-j:I,origin:"center"}),M.setStyle("verticalAlign","middle")}var y=X.get(["emphasis","focus"]),b=y==="relative"?$Y(Z.getAncestorsIndices(),Z.getDescendantIndices()):y==="ancestor"?Z.getAncestorsIndices():y==="descendant"?Z.getDescendantIndices():null;if(b)m0(J).focus=b;if(AW1(Y,Z,H,J,R,A,G,K),J.__edge)J.onHoverStateChange=function(u){if(u!=="blur"){var c=Z.parentNode&&$.getItemGraphicEl(Z.parentNode.dataIndex);if(!(c&&c.hoverState===kW))jW(J.__edge,u)}}}function AW1($,Q,J,K,Y,q,Z,X){var W=Q.getModel(),F=$.get("edgeShape"),H=$.get("layout"),B=$.getOrient(),z=$.get(["lineStyle","curveness"]),A=$.get("edgeForkPosition"),R=W.getModel("lineStyle").getLineStyle(),G=K.__edge;if(F==="curve"){if(Q.parentNode&&Q.parentNode!==J){if(!G)G=K.__edge=new hW({shape:li(H,B,z,Y,Y)});V1(G,{shape:li(H,B,z,q,Z)},$)}}else if(F==="polyline")if(H==="orthogonal"){if(Q!==J&&Q.children&&Q.children.length!==0&&Q.isExpand===!0){var w=Q.children,T=[];for(var D=0;D<w.length;D++){var P=w[D].getLayout();T.push([P.x,P.y])}if(!G)G=K.__edge=new BW1({shape:{parentPoint:[Z.x,Z.y],childPoints:[[Z.x,Z.y]],orient:B,forkPosition:A}});V1(G,{shape:{parentPoint:[Z.x,Z.y],childPoints:T}},$)}}else throw Error("The polyline edgeShape can only be used in orthogonal layout");if(G&&!(F==="polyline"&&!Q.isExpand))G.useStyle(b0({strokeNoScale:!0,fill:null},R)),M5(G,W,"lineStyle"),e$(G),X.add(G)}function Fk0($,Q,J,K,Y){var q=Q.tree.root,Z=Hk0(q,$),X=Z.source,W=Z.sourceLayout,F=Q.getItemGraphicEl($.dataIndex);if(!F)return;var H=Q.getItemGraphicEl(X.dataIndex),B=H.__edge,z=F.__edge||(X.isExpand===!1||X.children.length===1?B:void 0),A=K.get("edgeShape"),R=K.get("layout"),G=K.get("orient"),w=K.get(["lineStyle","curveness"]);if(z){if(A==="curve")a3(z,{shape:li(R,G,w,W,W),style:{opacity:0}},K,{cb:function(){J.remove(z)},removeOpt:Y});else if(A==="polyline"&&K.get("layout")==="orthogonal")a3(z,{shape:{parentPoint:[W.x,W.y],childPoints:[[W.x,W.y]]},style:{opacity:0}},K,{cb:function(){J.remove(z)},removeOpt:Y})}}function Hk0($,Q){var J=Q.parentNode===$?Q:Q.parentNode||Q,K;while(K=J.getLayout(),K==null)J=J.parentNode===$?J:J.parentNode||J;return{source:J,sourceLayout:K}}function Uk0($,Q,J,K,Y){var q=$.tree.getNodeByDataIndex(Q),Z=$.tree.root,X=Hk0(Z,q).sourceLayout,W={duration:Y.get("animationDurationUpdate"),easing:Y.get("animationEasingUpdate")};a3(J,{x:X.x+1,y:X.y+1},Y,{cb:function(){K.remove(J),$.setItemGraphicEl(Q,null)},removeOpt:W}),J.fadeOut(null,$.hostModel,{fadeLabel:!0,animation:W}),q.children.forEach(function(F){Fk0(F,$,K,Y,W)}),Fk0(q,$,K,Y,W)}function li($,Q,J,K,Y){var q,Z,X,W,F,H,B,z;if($==="radial"){F=K.rawX,B=K.rawY,H=Y.rawX,z=Y.rawY;var A=qF(F,B),R=qF(F,B+(z-B)*J),G=qF(H,z+(B-z)*J),w=qF(H,z);return{x1:A.x||0,y1:A.y||0,x2:w.x||0,y2:w.y||0,cpx1:R.x||0,cpy1:R.y||0,cpx2:G.x||0,cpy2:G.y||0}}else{if(F=K.x,B=K.y,H=Y.x,z=Y.y,Q==="LR"||Q==="RL")q=F+(H-F)*J,Z=B,X=H+(F-H)*J,W=z;if(Q==="TB"||Q==="BT")q=F,Z=B+(z-B)*J,X=H,W=z+(B-z)*J}return{x1:F,y1:B,x2:H,y2:z,cpx1:q,cpy1:Z,cpx2:X,cpy2:W}}var Nk0=zW1;var U$=n0();function VW1($){var{mainData:Q,datas:J}=$;if(!J)J={main:Q},$.datasAttr={main:"data"};$.datas=$.mainData=null,Bk0(Q,J,$),v(J,function(K){v(Q.TRANSFERABLE_METHODS,function(Y){K.wrapMethod(Y,a0(RW1,$))})}),Q.wrapMethod("cloneShallow",a0(wW1,$)),v(Q.CHANGABLE_METHODS,function(K){Q.wrapMethod(K,a0(GW1,$))}),S0(J[Q.dataType]===Q)}function RW1($,Q){if(DW1(this)){var J=Q0({},U$(this).datas);J[this.dataType]=Q,Bk0(Q,J,$)}else ri(Q,this.dataType,U$(this).mainData,$);return Q}function GW1($,Q){return $.struct&&$.struct.update(),Q}function wW1($,Q){return v(U$(Q).datas,function(J,K){J!==Q&&ri(J.cloneShallow(),K,Q,$)}),Q}function OW1($){var Q=U$(this).mainData;return $==null||Q==null?Q:U$(Q).datas[$]}function TW1(){var $=U$(this).mainData;return $==null?[{data:$}]:K0(Z1(U$($).datas),function(Q){return{type:Q,data:U$($).datas[Q]}})}function DW1($){return U$($).mainData===$}function Bk0($,Q,J){U$($).datas={},v(Q,function(K,Y){ri(K,Y,$,J)})}function ri($,Q,J,K){if(U$(J).datas[Q]=$,U$($).mainData=J,$.dataType=Q,K.struct)$[K.structAttr]=K.struct,K.struct[K.datasAttr[Q]]=$;$.getLinkedData=OW1,$.getLinkedDataAll=TW1}var yv=VW1;var CW1=function(){function $(Q,J){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=Q||"",this.hostTree=J}return $.prototype.isRemoved=function(){return this.dataIndex<0},$.prototype.eachNode=function(Q,J,K){if(v0(Q))K=J,J=Q,Q=null;if(Q=Q||{},B0(Q))Q={order:Q};var Y=Q.order||"preorder",q=this[Q.attr||"children"],Z;Y==="preorder"&&(Z=J.call(K,this));for(var X=0;!Z&&X<q.length;X++)q[X].eachNode(Q,J,K);Y==="postorder"&&J.call(K,this)},$.prototype.updateDepthAndHeight=function(Q){var J=0;this.depth=Q;for(var K=0;K<this.children.length;K++){var Y=this.children[K];if(Y.updateDepthAndHeight(Q+1),Y.height>J)J=Y.height}this.height=J+1},$.prototype.getNodeById=function(Q){if(this.getId()===Q)return this;for(var J=0,K=this.children,Y=K.length;J<Y;J++){var q=K[J].getNodeById(Q);if(q)return q}},$.prototype.contains=function(Q){if(Q===this)return!0;for(var J=0,K=this.children,Y=K.length;J<Y;J++){var q=K[J].contains(Q);if(q)return q}},$.prototype.getAncestors=function(Q){var J=[],K=Q?this:this.parentNode;while(K)J.push(K),K=K.parentNode;return J.reverse(),J},$.prototype.getAncestorsIndices=function(){var Q=[],J=this;while(J)Q.push(J.dataIndex),J=J.parentNode;return Q.reverse(),Q},$.prototype.getDescendantIndices=function(){var Q=[];return this.eachNode(function(J){Q.push(J.dataIndex)}),Q},$.prototype.getValue=function(Q){var J=this.hostTree.data;return J.getStore().get(J.getDimensionIndex(Q||"value"),this.dataIndex)},$.prototype.setLayout=function(Q,J){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,Q,J)},$.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},$.prototype.getModel=function(Q){if(this.dataIndex<0)return;var J=this.hostTree,K=J.data.getItemModel(this.dataIndex);return K.getModel(Q)},$.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},$.prototype.setVisual=function(Q,J){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,Q,J)},$.prototype.getVisual=function(Q){return this.hostTree.data.getItemVisual(this.dataIndex,Q)},$.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},$.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},$.prototype.getChildIndex=function(){if(this.parentNode){var Q=this.parentNode.children;for(var J=0;J<Q.length;++J)if(Q[J]===this)return J;return-1}return-1},$.prototype.isAncestorOf=function(Q){var J=Q.parentNode;while(J){if(J===this)return!0;J=J.parentNode}return!1},$.prototype.isDescendantOf=function(Q){return Q!==this&&Q.isAncestorOf(this)},$}();var PW1=function(){function $(Q){this.type="tree",this._nodes=[],this.hostModel=Q}return $.prototype.eachNode=function(Q,J,K){this.root.eachNode(Q,J,K)},$.prototype.getNodeByDataIndex=function(Q){var J=this.data.getRawIndex(Q);return this._nodes[J]},$.prototype.getNodeById=function(Q){return this.root.getNodeById(Q)},$.prototype.update=function(){var Q=this.data,J=this._nodes;for(var K=0,Y=J.length;K<Y;K++)J[K].dataIndex=-1;for(var K=0,Y=Q.count();K<Y;K++)J[Q.getRawIndex(K)].dataIndex=K},$.prototype.clearLayouts=function(){this.data.clearItemLayouts()},$.createTree=function(Q,J,K){var Y=new $(J),q=[],Z=1;X(Q);function X(H,B){var z=H.value;Z=Math.max(Z,J0(z)?z.length:1),q.push(H);var A=new CW1(q6(H.name,""),Y);B?kW1(A,B):Y.root=A,Y._nodes.push(A);var R=H.children;if(R)for(var G=0;G<R.length;G++)X(R[G],A)}Y.root.updateDepthAndHeight(0);var W=HQ(q,{coordDimensions:["value"],dimensionsCount:Z}).dimensions,F=new S6(W,J);return F.initData(q),K&&K(F),yv({mainData:F,struct:Y,structAttr:"tree"}),Y.update(),Y},$}();function kW1($,Q){var J=Q.children;if($.parentNode===Q)return;J.push($),$.parentNode=Q}var KB=PW1;function EY($,Q,J){if($&&o0(Q,$.type)>=0){var K=J.getData().tree.root,Y=$.targetNode;if(B0(Y))Y=K.getNodeById(Y);if(Y&&K.contains(Y))return{node:Y};var q=$.targetNodeId;if(q!=null&&(Y=K.getNodeById(q)))return{node:Y}}}function ii($){var Q=[];while($)$=$.parentNode,$&&Q.push($);return Q.reverse()}function YB($,Q){var J=ii($);return o0(J,Q)>=0}function oZ($,Q){var J=[];while($){var K=$.dataIndex;J.push({name:$.name,dataIndex:K,value:Q.getRawValue(K)}),$=$.parentNode}return J.reverse(),J}var jW1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.hasSymbolVisual=!0,J.ignoreStyleOnData=!0,J}return Q.prototype.getInitialData=function(J){var K={name:J.name,children:J.data},Y=J.leaves||{},q=new D1(Y,this,this.ecModel),Z=KB.createTree(K,this,X);function X(B){B.wrapMethod("getItemModel",function(z,A){var R=Z.getNodeByDataIndex(A);if(!(R&&R.children.length&&R.isExpand))z.parentModel=q;return z})}var W=0;Z.eachNode("preorder",function(B){if(B.depth>W)W=B.depth});var F=J.expandAndCollapse,H=F&&J.initialTreeDepth>=0?J.initialTreeDepth:W;return Z.root.eachNode("preorder",function(B){var z=B.hostTree.data.getRawDataItem(B.dataIndex);B.isExpand=z&&z.collapsed!=null?!z.collapsed:B.depth<=H}),Z.data},Q.prototype.getOrient=function(){var J=this.get("orient");if(J==="horizontal")J="LR";else if(J==="vertical")J="TB";return J},Q.prototype.setZoom=function(J){this.option.zoom=J},Q.prototype.setCenter=function(J){this.option.center=J},Q.prototype.formatTooltip=function(J,K,Y){var q=this.getData().tree,Z=q.root.children[0],X=q.getNodeByDataIndex(J),W=X.getValue(),F=X.name;while(X&&X!==Z)F=X.parentNode.name+"."+F,X=X.parentNode;return x5("nameValue",{name:F,value:W,noValue:isNaN(W)||W==null})},Q.prototype.getDataParams=function(J){var K=$.prototype.getDataParams.apply(this,arguments),Y=this.getData().tree.getNodeByDataIndex(J);return K.treeAncestors=oZ(Y,this),K.collapsed=!Y.isExpand,K},Q.type="series.tree",Q.layoutMode="box",Q.defaultOption={z:2,coordinateSystemUsage:"box",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,roamTrigger:"global",nodeScaleRatio:0.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:a.color.borderTint,width:1.5,curveness:0.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},Q}(m1),zk0=jW1;function Ak0($,Q,J){var K=[$],Y=[],q;while(q=K.pop())if(Y.push(q),q.isExpand){var Z=q.children;if(Z.length)for(var X=0;X<Z.length;X++)K.push(Z[X])}while(q=Y.pop())Q(q,J)}function qB($,Q){var J=[$],K;while(K=J.pop())if(Q(K),K.isExpand){var Y=K.children;if(Y.length)for(var q=Y.length-1;q>=0;q--)J.push(Y[q])}}function oi($,Q){$.eachSeriesByType("tree",function(J){EW1(J,Q)})}function EW1($,Q){var J=D5($,Q).refContainer,K=e1($.getBoxLayoutParams(),J);$.layoutInfo=K;var Y=$.get("layout"),q=0,Z=0,X=null;if(Y==="radial")q=2*Math.PI,Z=Math.min(K.height,K.width)/2,X=ni(function(j,E){return(j.parentNode===E.parentNode?1:2)/j.depth});else q=K.width,Z=K.height,X=ni();var W=$.getData().tree.root,F=W.children[0];if(F){Yk0(W),Ak0(F,qk0,X),W.hierNode.modifier=-F.hierNode.prelim,qB(F,Zk0);var H=F,B=F,z=F;qB(F,function(j){var E=j.getLayout().x;if(E<H.getLayout().x)H=j;if(E>B.getLayout().x)B=j;if(j.depth>z.depth)z=j});var A=H===B?1:X(H,B)/2,R=A-H.getLayout().x,G=0,w=0,T=0,D=0;if(Y==="radial")G=q/(B.getLayout().x+A+R),w=Z/(z.depth-1||1),qB(F,function(j){T=(j.getLayout().x+R)*G,D=(j.depth-1)*w;var E=qF(T,D);j.setLayout({x:E.x,y:E.y,rawX:T,rawY:D},!0)});else{var P=$.getOrient();if(P==="RL"||P==="LR")w=Z/(B.getLayout().x+A+R),G=q/(z.depth-1||1),qB(F,function(j){D=(j.getLayout().x+R)*w,T=P==="LR"?(j.depth-1)*G:q-(j.depth-1)*G,j.setLayout({x:T,y:D},!0)});else if(P==="TB"||P==="BT")G=q/(B.getLayout().x+A+R),w=Z/(z.depth-1||1),qB(F,function(j){T=(j.getLayout().x+R)*G,D=P==="TB"?(j.depth-1)*w:Z-(j.depth-1)*w,j.setLayout({x:T,y:D},!0)})}}}function ai($){$.eachSeriesByType("tree",function(Q){var J=Q.getData(),K=J.tree;K.eachNode(function(Y){var q=Y.getModel(),Z=q.getModel("itemStyle").getItemStyle(),X=J.ensureUniqueItemVisual(Y.dataIndex,"style");Q0(X,Z)})})}function Vk0($){$.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(Q,J){J.eachComponent({mainType:"series",subType:"tree",query:Q},function(K){var Y=Q.dataIndex,q=K.getData().tree,Z=q.getNodeByDataIndex(Y);Z.isExpand=!Z.isExpand})}),$.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(Q,J,K){J.eachComponent({mainType:"series",subType:"tree",query:Q},function(Y){var q=Y.coordinateSystem,Z=iZ(q,Q,Y.get("scaleLimit"));Y.setCenter(Z.center),Y.setZoom(Z.zoom)})})}function ti($){$.registerChartView(Nk0),$.registerSeriesModel(zk0),$.registerLayout(oi),$.registerVisual(ai),Vk0($)}var Rk0=["treemapZoomToNode","treemapRender","treemapMove"];function Gk0($){for(var Q=0;Q<Rk0.length;Q++)$.registerAction({type:Rk0[Q],update:"updateView"},m5);$.registerAction({type:"treemapRootToNode",update:"updateView"},function(J,K){K.eachComponent({mainType:"series",subType:"treemap",query:J},Y);function Y(q,Z){var X=["treemapZoomToNode","treemapRootToNode"],W=EY(J,X,q);if(W){var F=q.getViewRoot();if(F)J.direction=YB(F,W.node)?"rollUp":"drillDown";q.resetViewRoot(W.node)}}})}function Nw($){var Q=$.getData(),J=Q.tree,K={};J.eachNode(function(Y){var q=Y;while(q&&q.depth>1)q=q.parentNode;var Z=AG($.ecModel,q.name||q.dataIndex+"",K);Y.setVisual("decal",Z)})}var LW1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.preventUsingHoverLayer=!0,J}return Q.prototype.getInitialData=function(J,K){var Y={name:J.name,children:J.data};wk0(Y);var q=J.levels||[],Z=this.designatedVisualItemStyle={},X=new D1({itemStyle:Z},this,K);q=J.levels=hW1(q,K);var W=K0(q||[],function(B){return new D1(B,X,K)},this),F=KB.createTree(Y,this,H);function H(B){B.wrapMethod("getItemModel",function(z,A){var R=F.getNodeByDataIndex(A),G=R?W[R.depth]:null;return z.parentModel=G||X,z})}return F.data},Q.prototype.optionUpdated=function(){this.resetViewRoot()},Q.prototype.formatTooltip=function(J,K,Y){var q=this.getData(),Z=this.getRawValue(J),X=q.getName(J);return x5("nameValue",{name:X,value:Z})},Q.prototype.getDataParams=function(J){var K=$.prototype.getDataParams.apply(this,arguments),Y=this.getData().tree.getNodeByDataIndex(J);return K.treeAncestors=oZ(Y,this),K.treePathInfo=K.treeAncestors,K},Q.prototype.setLayoutInfo=function(J){this.layoutInfo=this.layoutInfo||{},Q0(this.layoutInfo,J)},Q.prototype.mapIdToIndex=function(J){var K=this._idIndexMap;if(!K)K=this._idIndexMap=L0(),this._idIndexMapCount=0;var Y=K.get(J);if(Y==null)K.set(J,Y=this._idIndexMapCount++);return Y},Q.prototype.getViewRoot=function(){return this._viewRoot},Q.prototype.resetViewRoot=function(J){J?this._viewRoot=J:J=this._viewRoot;var K=this.getRawData().tree.root;if(!J||J!==K&&!K.contains(J))this._viewRoot=K},Q.prototype.enableAriaDecal=function(){Nw(this)},Q.type="series.treemap",Q.layoutMode="box",Q.defaultOption={progressive:0,coordinateSystemUsage:"box",left:a.size.l,top:a.size.xxxl,right:a.size.l,bottom:a.size.xxxl,sort:!0,clipWindow:"origin",squareRatio:0.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:0.1024,scaleLimit:{max:5,min:0.2},roam:!0,roamTrigger:"global",nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",bottom:a.size.m,emptyItemWidth:25,itemStyle:{color:a.color.backgroundShade,textStyle:{color:a.color.secondary}},emphasis:{itemStyle:{color:a.color.background}}},label:{show:!0,distance:0,padding:5,position:"inside",color:a.color.neutral00,overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:a.color.neutral00,borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},Q}(m1);function wk0($){var Q=0;v($.children,function(K){wk0(K);var Y=K.value;J0(Y)&&(Y=Y[0]),Q+=Y});var J=$.value;if(J0(J))J=J[0];if(J==null||isNaN(J))J=Q;if(J<0)J=0;J0($.value)?$.value[0]=J:$.value=J}function hW1($,Q){var J=K5(Q.get("color")),K=K5(Q.get(["aria","decal","decals"]));if(!J)return;$=$||[];var Y,q;v($,function(X){var W=new D1(X),F=W.get("color"),H=W.get("decal");if(W.get(["itemStyle","color"])||F&&F!=="none")Y=!0;if(W.get(["itemStyle","decal"])||H&&H!=="none")q=!0});var Z=$[0]||($[0]={});if(!Y)Z.color=J.slice();if(!q&&K)Z.decal=K.slice();return $}var Ok0=LW1;var vW1=8,Tk0=8,ei=5,SW1=function(){function $(Q){this.group=new _0,Q.add(this.group)}return $.prototype.render=function(Q,J,K,Y){var q=Q.getModel("breadcrumb"),Z=this.group;if(Z.removeAll(),!q.get("show")||!K)return;var X=q.getModel("itemStyle"),W=q.getModel("emphasis"),F=X.getModel("textStyle"),H=W.getModel(["itemStyle","textStyle"]),B=D5(Q,J).refContainer,z={left:q.get("left"),right:q.get("right"),top:q.get("top"),bottom:q.get("bottom")},A={emptyItemWidth:q.get("emptyItemWidth"),totalWidth:0,renderList:[]},R=e1(z,B);this._prepare(K,A,F),this._renderContent(Q,A,R,X,W,F,H,Y),hZ(Z,z,B)},$.prototype._prepare=function(Q,J,K){for(var Y=Q;Y;Y=Y.parentNode){var q=q6(Y.getModel().get("name"),""),Z=K.getTextRect(q),X=Math.max(Z.width+vW1*2,J.emptyItemWidth);J.totalWidth+=X+Tk0,J.renderList.push({node:Y,text:q,width:X})}},$.prototype._renderContent=function(Q,J,K,Y,q,Z,X,W){var F=0,H=J.emptyItemWidth,B=Q.get(["breadcrumb","height"]),z=J.totalWidth,A=J.renderList,R=q.getModel("itemStyle").getItemStyle();for(var G=A.length-1;G>=0;G--){var w=A[G],T=w.node,D=w.width,P=w.text;if(z>K.width)z-=D-H,D=H,P=null;var j=new z6({shape:{points:_W1(F,0,D,B,G===A.length-1,G===0)},style:b0(Y.getItemStyle(),{lineJoin:"bevel"}),textContent:new w1({style:Z5(Z,{text:P})}),textConfig:{position:"inside"},z2:XY*1e4,onclick:a0(W,T)});j.disableLabelAnimation=!0,j.getTextContent().ensureState("emphasis").style=Z5(X,{text:P}),j.ensureState("emphasis").style=R,u1(j,q.get("focus"),q.get("blurScope"),q.get("disabled")),this.group.add(j),fW1(j,Q,T),F+=D+Tk0}},$.prototype.remove=function(){this.group.removeAll()},$}();function _W1($,Q,J,K,Y,q){var Z=[[Y?$:$-ei,Q],[$+J,Q],[$+J,Q+K],[Y?$:$-ei,Q+K]];return!q&&Z.splice(2,0,[$+J+ei,Q+K/2]),!Y&&Z.push([$,Q+K/2]),Z}function fW1($,Q,J){m0($).eventData={componentType:"series",componentSubType:"treemap",componentIndex:Q.componentIndex,seriesIndex:Q.seriesIndex,seriesName:Q.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:J&&J.dataIndex,name:J&&J.name},treePathInfo:J&&oZ(J,Q)}}var Dk0=SW1;var IW1=function(){function $(){this._storage=[],this._elExistsMap={}}return $.prototype.add=function(Q,J,K,Y,q){if(this._elExistsMap[Q.id])return!1;return this._elExistsMap[Q.id]=!0,this._storage.push({el:Q,target:J,duration:K,delay:Y,easing:q}),!0},$.prototype.finished=function(Q){return this._finishedCallback=Q,this},$.prototype.start=function(){var Q=this,J=this._storage.length,K=function(){if(J--,J<=0)Q._storage.length=0,Q._elExistsMap={},Q._finishedCallback&&Q._finishedCallback()};for(var Y=0,q=this._storage.length;Y<q;Y++){var Z=this._storage[Y];Z.el.animateTo(Z.target,{duration:Z.duration,delay:Z.delay,easing:Z.easing,setToFinal:!0,done:K,aborted:K})}return this},$}();function Ck0(){return new IW1}var $s=_0,Pk0=Q1,kk0=3,jk0="label",Ek0="upperLabel",bW1=XY*10,gW1=XY*2,yW1=XY*3,ZF=t4([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Lk0=function($){var Q=ZF($);return Q.stroke=Q.fill=Q.lineWidth=null,Q},xv=n0(),xW1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J._state="ready",J._storage=Bw(),J}return Q.prototype.render=function(J,K,Y,q){var Z=K.findComponents({mainType:"series",subType:"treemap",query:q});if(o0(Z,J)<0)return;this.seriesModel=J,this.api=Y,this.ecModel=K;var X=["treemapZoomToNode","treemapRootToNode"],W=EY(q,X,J),F=q&&q.type,H=J.layoutInfo,B=!this._oldTree,z=this._storage,A=F==="treemapRootToNode"&&W&&z?{rootNodeGroup:z.nodeGroup[W.node.getRawIndex()],direction:q.direction}:null,R=this._giveContainerGroup(H),G=J.get("animation"),w=this._doRender(R,J,A);G&&!B&&(!F||F==="treemapZoomToNode"||F==="treemapRootToNode")?this._doAnimation(R,w,J,A):w.renderFinally(),this._resetController(Y),this._renderBreadcrumb(J,Y,W)},Q.prototype._giveContainerGroup=function(J){var K=this._containerGroup;if(!K)K=this._containerGroup=new $s,this._initEvents(K),this.group.add(K);return K.x=J.x,K.y=J.y,K},Q.prototype._doRender=function(J,K,Y){var q=K.getData().tree,Z=this._oldTree,X=Bw(),W=Bw(),F=this._storage,H=[];function B(D,P,j,E){return cW1(K,W,F,Y,X,H,D,P,j,E)}G(q.root?[q.root]:[],Z&&Z.root?[Z.root]:[],J,q===Z||!Z,0);var z=w(F);if(this._oldTree=q,this._storage=W,this._controllerHost){var A=this.seriesModel.layoutInfo,R=q.root.getLayout();if(R.width===A.width&&R.height===A.height)this._controllerHost.zoom=1}return{lastsForAnimation:X,willDeleteEls:z,renderFinally:T};function G(D,P,j,E,L){if(E)P=D,v(D,function(S,I){!S.isRemoved()&&_(I,I)});else new E8(P,D,h,h).add(_).update(_).remove(a0(_,null)).execute();function h(S){return S.getId()}function _(S,I){var M=S!=null?D[S]:null,y=I!=null?P[I]:null,b=B(M,y,j,L);b&&G(M&&M.viewChildren||[],y&&y.viewChildren||[],b,E,L+1)}}function w(D){var P=Bw();return D&&v(D,function(j,E){var L=P[E];v(j,function(h){h&&(L.push(h),xv(h).willDelete=!0)})}),P}function T(){v(z,function(D){v(D,function(P){P.parent&&P.parent.remove(P)})}),v(H,function(D){D.invisible=!0,D.dirty()})}},Q.prototype._doAnimation=function(J,K,Y,q){var Z=Y.get("animationDurationUpdate"),X=Y.get("animationEasing"),W=(v0(Z)?0:Z)||0,F=(v0(X)?null:X)||"cubicOut",H=Ck0();v(K.willDeleteEls,function(B,z){v(B,function(A,R){if(A.invisible)return;var G=A.parent,w,T=xv(G);if(q&&q.direction==="drillDown")w=G===q.rootNodeGroup?{shape:{x:0,y:0,width:T.nodeWidth,height:T.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var D=0,P=0;if(!T.willDelete)D=T.nodeWidth/2,P=T.nodeHeight/2;w=z==="nodeGroup"?{x:D,y:P,style:{opacity:0}}:{shape:{x:D,y:P,width:0,height:0},style:{opacity:0}}}w&&H.add(A,w,W,0,F)})}),v(this._storage,function(B,z){v(B,function(A,R){var G=K.lastsForAnimation[z][R],w={};if(!G)return;if(A instanceof _0){if(G.oldX!=null)w.x=A.x,w.y=A.y,A.x=G.oldX,A.y=G.oldY}else{if(G.oldShape)w.shape=Q0({},A.shape),A.setShape(G.oldShape);if(G.fadein)A.setStyle("opacity",0),w.style={opacity:1};else if(A.style.opacity!==1)w.style={opacity:1}}H.add(A,w,W,0,F)})},this),this._state="animating",H.finished(O0(function(){this._state="ready",K.renderFinally()},this)).start()},Q.prototype._resetController=function(J){var K=this,Y=this._controller,q=this._controllerHost;if(!q)this._controllerHost={target:this.group},q=this._controllerHost;var Z=this.seriesModel;if(!Y)Y=this._controller=new N9(J.getZr()),Y.on("pan",O0(this._onPan,this)),Y.on("zoom",O0(this._onZoom,this));Y.enable(Z.get("roam"),{api:J,zInfo:{component:Z},triggerInfo:{roamTrigger:Z.get("roamTrigger"),isInSelf:function(X,W,F){var H=K._containerGroup;return H?H.getBoundingRect().contain(W-H.x,F-H.y):!1}}}),q.zoomLimit=Z.get("scaleLimit"),q.zoom=Z.get("zoom")},Q.prototype._clearController=function(){var J=this._controller;if(this._controllerHost=null,J)J.dispose(),J=null},Q.prototype._onPan=function(J){if(this._state!=="animating"&&(Math.abs(J.dx)>kk0||Math.abs(J.dy)>kk0)){var K=this.seriesModel.getData().tree.root;if(!K)return;var Y=K.getLayout();if(!Y)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:Y.x+J.dx,y:Y.y+J.dy,width:Y.width,height:Y.height}})}},Q.prototype._onZoom=function(J){var{originX:K,originY:Y,scale:q}=J;if(this._state!=="animating"){var Z=this.seriesModel.getData().tree.root;if(!Z)return;var X=Z.getLayout();if(!X)return;var W=new u0(X.x,X.y,X.width,X.height),F=null,H=this._controllerHost;F=H.zoomLimit;var B=H.zoom=H.zoom||1;if(B*=q,F){var z=F.min||0,A=F.max||1/0;B=Math.max(Math.min(A,B),z)}var R=B/H.zoom;H.zoom=B;var G=this.seriesModel.layoutInfo;K-=G.x,Y-=G.y;var w=Q6();D8(w,w,[-K,-Y]),YN(w,w,[R,R]),D8(w,w,[K,Y]),W.applyTransform(w),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:W.x,y:W.y,width:W.width,height:W.height}})}},Q.prototype._initEvents=function(J){var K=this;J.on("click",function(Y){if(K._state!=="ready")return;var q=K.seriesModel.get("nodeClick",!0);if(!q)return;var Z=K.findTarget(Y.offsetX,Y.offsetY);if(!Z)return;var X=Z.node;if(X.getLayout().isLeafRoot)K._rootToNode(Z);else if(q==="zoomToNode")K._zoomToNode(Z);else if(q==="link"){var W=X.hostTree.data.getItemModel(X.dataIndex),F=W.get("link",!0),H=W.get("target",!0)||"blank";F&&xW(F,H)}},this)},Q.prototype._renderBreadcrumb=function(J,K,Y){var q=this;if(!Y){if(Y=J.get("leafDepth",!0)!=null?{node:J.getViewRoot()}:this.findTarget(K.getWidth()/2,K.getHeight()/2),!Y)Y={node:J.getData().tree.root}}(this._breadcrumb||(this._breadcrumb=new Dk0(this.group))).render(J,K,Y.node,function(Z){if(q._state!=="animating")YB(J.getViewRoot(),Z)?q._rootToNode({node:Z}):q._zoomToNode({node:Z})})},Q.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=Bw(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},Q.prototype.dispose=function(){this._clearController()},Q.prototype._zoomToNode=function(J){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:J.node})},Q.prototype._rootToNode=function(J){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:J.node})},Q.prototype.findTarget=function(J,K){var Y,q=this.seriesModel.getViewRoot();return q.eachNode({attr:"viewChildren",order:"preorder"},function(Z){var X=this._storage.background[Z.getRawIndex()];if(X){var W=X.transformCoordToLocal(J,K),F=X.shape;if(F.x<=W[0]&&W[0]<=F.x+F.width&&F.y<=W[1]&&W[1]<=F.y+F.height)Y={node:Z,offsetX:W[0],offsetY:W[1]};else return!1}},this),Y},Q.type="treemap",Q}(_1);function Bw(){return{nodeGroup:[],background:[],content:[]}}function cW1($,Q,J,K,Y,q,Z,X,W,F){if(!Z)return;var H=Z.getLayout(),B=$.getData(),z=Z.getModel();if(B.setItemGraphicEl(Z.dataIndex,null),!H||!H.isInView)return;var{width:A,height:R,borderWidth:G,invisible:w}=H,T=Z.getRawIndex(),D=X&&X.getRawIndex(),P=Z.viewChildren,j=H.upperHeight,E=P&&P.length,L=z.getModel("itemStyle"),h=z.getModel(["emphasis","itemStyle"]),_=z.getModel(["blur","itemStyle"]),S=z.getModel(["select","itemStyle"]),I=L.get("borderRadius")||0,M=J1("nodeGroup",$s);if(!M)return;if(W.add(M),M.x=H.x||0,M.y=H.y||0,M.markRedraw(),xv(M).nodeWidth=A,xv(M).nodeHeight=R,H.isAboveViewRoot)return M;var y=J1("background",Pk0,F,gW1);y&&e(M,y,E&&H.upperLabelHeight);var b=z.getModel("emphasis"),u=b.get("focus"),c=b.get("blurScope"),m=b.get("disabled"),i=u==="ancestor"?Z.getAncestorsIndices():u==="descendant"?Z.getDescendantIndices():u;if(E){if($Q(M))FY(M,!1);if(y)FY(y,!m),B.setItemGraphicEl(Z.dataIndex,y),sE(y,i,c)}else{var o=J1("content",Pk0,F,yW1);if(o&&Z0(M,o),y.disableMorphing=!0,y&&$Q(y))FY(y,!1);FY(M,!m),B.setItemGraphicEl(Z.dataIndex,M);var n=z.getShallow("cursor");n&&o.attr("cursor",n),sE(M,i,c)}return M;function e(X1,r0,G1){var l0=m0(r0);if(l0.dataIndex=Z.dataIndex,l0.seriesIndex=$.seriesIndex,r0.setShape({x:0,y:0,width:A,height:R,r:I}),w)q0(r0);else{r0.invisible=!1;var z1=Z.getVisual("style"),X5=z1.stroke,v1=Lk0(L);v1.fill=X5;var H5=ZF(h);H5.fill=h.get("borderColor");var N5=ZF(_);N5.fill=_.get("borderColor");var k6=ZF(S);if(k6.fill=S.get("borderColor"),G1){var S1=A-2*G;k0(r0,X5,z1.opacity,{x:G,y:0,width:S1,height:j})}else r0.removeTextContent();r0.setStyle(v1),r0.ensureState("emphasis").style=H5,r0.ensureState("blur").style=N5,r0.ensureState("select").style=k6,e$(r0)}X1.add(r0)}function Z0(X1,r0){var G1=m0(r0);G1.dataIndex=Z.dataIndex,G1.seriesIndex=$.seriesIndex;var l0=Math.max(A-2*G,0),z1=Math.max(R-2*G,0);if(r0.culling=!0,r0.setShape({x:G,y:G,width:l0,height:z1,r:I}),w)q0(r0);else{r0.invisible=!1;var X5=Z.getVisual("style"),v1=X5.fill,H5=Lk0(L);H5.fill=v1,H5.decal=X5.decal;var N5=ZF(h),k6=ZF(_),S1=ZF(S);k0(r0,v1,X5.opacity,null),r0.setStyle(H5),r0.ensureState("emphasis").style=N5,r0.ensureState("blur").style=k6,r0.ensureState("select").style=S1,e$(r0)}X1.add(r0)}function q0(X1){!X1.invisible&&q.push(X1)}function k0(X1,r0,G1,l0){var z1=z.getModel(l0?Ek0:jk0),X5=q6(z.get("name"),null),v1=z1.getShallow("show");v5(X1,k5(z,l0?Ek0:jk0),{defaultText:v1?X5:null,inheritColor:r0,defaultOpacity:G1,labelFetcher:$,labelDataIndex:Z.dataIndex});var H5=X1.getTextContent();if(!H5)return;var N5=H5.style,k6=UZ(N5.padding||0);if(l0)X1.setTextConfig({layoutRect:l0}),H5.disableLabelLayout=!0;H5.beforeUpdate=function(){var z7=Math.max((l0?l0.width:X1.shape.width)-k6[1]-k6[3],0),B9=Math.max((l0?l0.height:X1.shape.height)-k6[0]-k6[2],0);if(N5.width!==z7||N5.height!==B9)H5.setStyle({width:z7,height:B9})},N5.truncateMinChar=2,N5.lineOverflow="truncate",c0(N5,l0,H);var S1=H5.getState("emphasis");c0(S1?S1.style:null,l0,H)}function c0(X1,r0,G1){var l0=X1?X1.text:null;if(!r0&&G1.isLeafRoot&&l0!=null){var z1=$.get("drillDownIcon",!0);X1.text=z1?z1+" "+l0:l0}}function J1(X1,r0,G1,l0){var z1=D!=null&&J[X1][D],X5=Y[X1];if(z1)J[X1][D]=null,W1(X5,z1);else if(!w){if(z1=new r0,z1 instanceof a6)z1.z2=uW1(G1,l0);h1(X5,z1)}return Q[X1][T]=z1}function W1(X1,r0){var G1=X1[T]={};if(r0 instanceof $s)G1.oldX=r0.x,G1.oldY=r0.y;else G1.oldShape=Q0({},r0.shape)}function h1(X1,r0){var G1=X1[T]={},l0=Z.parentNode,z1=r0 instanceof _0;if(l0&&(!K||K.direction==="drillDown")){var X5=0,v1=0,H5=Y.background[l0.getRawIndex()];if(!K&&H5&&H5.oldShape)X5=H5.oldShape.width,v1=H5.oldShape.height;if(z1)G1.oldX=0,G1.oldY=v1;else G1.oldShape={x:X5,y:v1,width:0,height:0}}G1.fadein=!z1}}function uW1($,Q){return $*bW1+Q}var hk0=xW1;var Vw=v,mW1=I0,mv=-1,Ys=function(){function $(Q){var{mappingMethod:J,type:K}=Q,Y=this.option=y0(Q);this.type=K,this.mappingMethod=J,this._normalizeData=nW1[J];var q=$.visualHandlers[K];if(this.applyVisual=q.applyVisual,this.getColorMapper=q.getColorMapper,this._normalizedToVisual=q._normalizedToVisual[J],J==="piecewise")Qs(Y),pW1(Y);else if(J==="category")Y.categories?dW1(Y):Qs(Y,!0);else S0(J!=="linear"||Y.dataExtent),Qs(Y)}return $.prototype.mapValueToVisual=function(Q){var J=this._normalizeData(Q);return this._normalizedToVisual(J,Q)},$.prototype.getNormalizer=function(){return O0(this._normalizeData,this)},$.listVisualTypes=function(){return Z1($.visualHandlers)},$.isValidType=function(Q){return $.visualHandlers.hasOwnProperty(Q)},$.eachVisual=function(Q,J,K){if(I0(Q))v(Q,J,K);else J.call(K,Q)},$.mapVisual=function(Q,J,K){var Y,q=J0(Q)?[]:I0(Q)?{}:(Y=!0,null);return $.eachVisual(Q,function(Z,X){var W=J.call(K,Z,X);Y?q=W:q[X]=W}),q},$.retrieveVisuals=function(Q){var J={},K;return Q&&Vw($.visualHandlers,function(Y,q){if(Q.hasOwnProperty(q))J[q]=Q[q],K=!0}),K?J:null},$.prepareVisualTypes=function(Q){if(J0(Q))Q=Q.slice();else if(mW1(Q)){var J=[];Vw(Q,function(K,Y){J.push(Y)}),Q=J}else return[];return Q.sort(function(K,Y){return Y==="color"&&K!=="color"&&K.indexOf("color")===0?1:-1}),Q},$.dependsOn=function(Q,J){return J==="color"?!!(Q&&Q.indexOf(J)===0):Q===J},$.findPieceIndex=function(Q,J,K){var Y,q=1/0;for(var Z=0,X=J.length;Z<X;Z++){var W=J[Z].value;if(W!=null){if(W===Q||B0(W)&&W===Q+"")return Z;K&&z(W,Z)}}for(var Z=0,X=J.length;Z<X;Z++){var F=J[Z],H=F.interval,B=F.close;if(H){if(H[0]===-1/0){if(uv(B[1],Q,H[1]))return Z}else if(H[1]===1/0){if(uv(B[0],H[0],Q))return Z}else if(uv(B[0],H[0],Q)&&uv(B[1],Q,H[1]))return Z;K&&z(H[0],Z),K&&z(H[1],Z)}}if(K)return Q===1/0?J.length-1:Q===-1/0?0:Y;function z(A,R){var G=Math.abs(A-Q);if(G<q)q=G,Y=R}},$.visualHandlers={color:{applyVisual:zw("color"),getColorMapper:function(){var Q=this.option;return O0(Q.mappingMethod==="category"?function(J,K){return!K&&(J=this._normalizeData(J)),Aw.call(this,J)}:function(J,K,Y){var q=!!Y;return!K&&(J=this._normalizeData(J)),Y=ZE(J,Q.parsedVisual,Y),q?Y:i4(Y,"rgba")},this)},_normalizedToVisual:{linear:function(Q){return i4(ZE(Q,this.option.parsedVisual),"rgba")},category:Aw,piecewise:function(Q,J){var K=Ks.call(this,J);if(K==null)K=i4(ZE(Q,this.option.parsedVisual),"rgba");return K},fixed:XF}},colorHue:cv(function(Q,J){return d3(Q,J)}),colorSaturation:cv(function(Q,J){return d3(Q,null,J)}),colorLightness:cv(function(Q,J){return d3(Q,null,null,J)}),colorAlpha:cv(function(Q,J){return qW(Q,J)}),decal:{applyVisual:zw("decal"),_normalizedToVisual:{linear:null,category:Aw,piecewise:null,fixed:null}},opacity:{applyVisual:zw("opacity"),_normalizedToVisual:Js([0,1])},liftZ:{applyVisual:zw("liftZ"),_normalizedToVisual:{linear:XF,category:XF,piecewise:XF,fixed:XF}},symbol:{applyVisual:function(Q,J,K){var Y=this.mapValueToVisual(Q);K("symbol",Y)},_normalizedToVisual:{linear:vk0,category:Aw,piecewise:function(Q,J){var K=Ks.call(this,J);if(K==null)K=vk0.call(this,Q);return K},fixed:XF}},symbolSize:{applyVisual:zw("symbolSize"),_normalizedToVisual:Js([0,1])}},$}();function pW1($){var Q=$.pieceList;$.hasSpecialVisual=!1,v(Q,function(J,K){if(J.originIndex=K,J.visual!=null)$.hasSpecialVisual=!0})}function dW1($){var Q=$.categories,J=$.categoryMap={},K=$.visual;if(Vw(Q,function(Z,X){J[Z]=X}),!J0(K)){var Y=[];if(I0(K))Vw(K,function(Z,X){var W=J[X];Y[W!=null?W:mv]=Z});else Y[mv]=K;K=Sk0($,Y)}for(var q=Q.length-1;q>=0;q--)if(K[q]==null)delete J[Q[q]],Q.pop()}function Qs($,Q){var J=$.visual,K=[];if(I0(J))Vw(J,function(q){K.push(q)});else if(J!=null)K.push(J);var Y={color:1,symbol:1};if(!Q&&K.length===1&&!Y.hasOwnProperty($.type))K[1]=K[0];Sk0($,K)}function cv($){return{applyVisual:function(Q,J,K){var Y=this.mapValueToVisual(Q);K("color",$(J("color"),Y))},_normalizedToVisual:Js([0,1])}}function vk0($){var Q=this.option.visual;return Q[Math.round(a1($,[0,1],[0,Q.length-1],!0))]||{}}function zw($){return function(Q,J,K){K($,this.mapValueToVisual(Q))}}function Aw($){var Q=this.option.visual;return Q[this.option.loop&&$!==mv?$%Q.length:$]}function XF(){return this.option.visual[0]}function Js($){return{linear:function(Q){return a1(Q,$,this.option.visual,!0)},category:Aw,piecewise:function(Q,J){var K=Ks.call(this,J);if(K==null)K=a1(Q,$,this.option.visual,!0);return K},fixed:XF}}function Ks($){var Q=this.option,J=Q.pieceList;if(Q.hasSpecialVisual){var K=Ys.findPieceIndex($,J),Y=J[K];if(Y&&Y.visual)return Y.visual[this.type]}}function Sk0($,Q){if($.visual=Q,$.type==="color")$.parsedVisual=K0(Q,function(J){var K=f7(J);if(!K)T5("'"+J+"' is an illegal color, fallback to '#000000'",!0);return K||[0,0,0,1]});return Q}var nW1={linear:function($){return a1($,this.option.dataExtent,[0,1],!0)},piecewise:function($){var Q=this.option.pieceList,J=Ys.findPieceIndex($,Q,!0);if(J!=null)return a1(J,[0,Q.length-1],[0,1],!0)},category:function($){var Q=this.option.categories?this.option.categoryMap[$]:$;return Q==null?mv:Q},fixed:m5};function uv($,Q,J){return $?Q<=J:Q<J}var d6=Ys;var lW1="itemStyle",fk0=n0(),Ik0={seriesType:"treemap",reset:function($){var Q=$.getData().tree,J=Q.root;if(J.isRemoved())return;Mk0(J,{},$.getViewRoot().getAncestors(),$)}};function Mk0($,Q,J,K){var Y=$.getModel(),q=$.getLayout(),Z=$.hostTree.data;if(!q||q.invisible||!q.isInView)return;var X=Y.getModel(lW1),W=rW1(X,Q,K),F=Z.ensureUniqueItemVisual($.dataIndex,"style"),H=X.get("borderColor"),B=X.get("borderColorSaturation"),z;if(B!=null)z=_k0(W),H=iW1(B,z);F.stroke=H;var A=$.viewChildren;if(!A||!A.length)z=_k0(W),F.fill=z;else{var R=sW1($,Y,q,X,W,A);v(A,function(G,w){if(G.depth>=J.length||G===J[G.depth]){var T=oW1(Y,W,G,w,R,K);Mk0(G,T,J,K)}})}}function rW1($,Q,J){var K=Q0({},Q),Y=J.designatedVisualItemStyle;return v(["color","colorAlpha","colorSaturation"],function(q){Y[q]=Q[q];var Z=$.get(q);Y[q]=null,Z!=null&&(K[q]=Z)}),K}function _k0($){var Q=qs($,"color");if(Q){var J=qs($,"colorAlpha"),K=qs($,"colorSaturation");if(K)Q=d3(Q,null,null,K);if(J)Q=qW(Q,J);return Q}}function iW1($,Q){return Q!=null?d3(Q,null,null,$):null}function qs($,Q){var J=$[Q];if(J!=null&&J!=="none")return J}function sW1($,Q,J,K,Y,q){if(!q||!q.length)return;var Z=Zs(Q,"color")||Y.color!=null&&Y.color!=="none"&&(Zs(Q,"colorAlpha")||Zs(Q,"colorSaturation"));if(!Z)return;var X=Q.get("visualMin"),W=Q.get("visualMax"),F=J.dataExtent.slice();X!=null&&X<F[0]&&(F[0]=X),W!=null&&W>F[1]&&(F[1]=W);var H=Q.get("colorMappingBy"),B={type:Z.name,dataExtent:F,visual:Z.range};if(B.type==="color"&&(H==="index"||H==="id"))B.mappingMethod="category",B.loop=!0;else B.mappingMethod="linear";var z=new d6(B);return fk0(z).drColorMappingBy=H,z}function Zs($,Q){var J=$.get(Q);return J0(J)&&J.length?{name:Q,range:J}:null}function oW1($,Q,J,K,Y,q){var Z=Q0({},Q);if(Y){var X=Y.type,W=X==="color"&&fk0(Y).drColorMappingBy,F=W==="index"?K:W==="id"?q.mapIdToIndex(J.getId()):J.getValue($.get("visualDimension"));Z[X]=Y.mapValueToVisual(F)}return Z}var{max:Rw,min:pv}=Math,bk0=u5,Xs=v,yk0=["itemStyle","borderWidth"],aW1=["itemStyle","gapWidth"],tW1=["upperLabel","show"],eW1=["upperLabel","height"],xk0={seriesType:"treemap",reset:function($,Q,J,K){var Y=$.option,q=D5($,J).refContainer,Z=e1($.getBoxLayoutParams(),q),X=Y.size||[],W=h0(bk0(Z.width,X[0]),q.width),F=h0(bk0(Z.height,X[1]),q.height),H=K&&K.type,B=["treemapZoomToNode","treemapRootToNode"],z=EY(K,B,$),A=H==="treemapRender"||H==="treemapMove"?K.rootRect:null,R=$.getViewRoot(),G=ii(R);if(H!=="treemapMove"){var w=H==="treemapZoomToNode"?qF1($,z,R,W,F):A?[A.width,A.height]:[W,F],T=Y.sort;if(T&&T!=="asc"&&T!=="desc")T="desc";var D={squareRatio:Y.squareRatio,sort:T,leafDepth:Y.leafDepth};R.hostTree.clearLayouts();var P={x:0,y:0,width:w[0],height:w[1],area:w[0]*w[1]};R.setLayout(P),ck0(R,D,!1,0),P=R.getLayout(),Xs(G,function(E,L){var h=(G[L+1]||R).getValue();E.setLayout(Q0({dataExtent:[h,h],borderWidth:0,upperHeight:0},P))})}var j=$.getData().tree.root;j.setLayout(ZF1(Z,A,z),!0),$.setLayoutInfo(Z),uk0(j,new u0(-Z.x,-Z.y,J.getWidth(),J.getHeight()),G,R,0)}};function ck0($,Q,J,K){var Y,q;if($.isRemoved())return;var Z=$.getLayout();Y=Z.width,q=Z.height;var X=$.getModel(),W=X.get(yk0),F=X.get(aW1)/2,H=mk0(X),B=Math.max(W,H),z=W-F,A=B-F;$.setLayout({borderWidth:W,upperHeight:B,upperLabelHeight:H},!0),Y=Rw(Y-2*z,0),q=Rw(q-z-A,0);var R=Y*q,G=$F1($,X,R,Q,J,K);if(!G.length)return;var w={x:z,y:A,width:Y,height:q},T=pv(Y,q),D=1/0,P=[];P.area=0;for(var j=0,E=G.length;j<E;){var L=G[j];P.push(L),P.area+=L.getLayout().area;var h=YF1(P,T,Q.squareRatio);if(h<=D)j++,D=h;else P.area-=P.pop().getLayout().area,gk0(P,T,w,F,!1),T=pv(w.width,w.height),P.length=P.area=0,D=1/0}if(P.length)gk0(P,T,w,F,!0);if(!J){var _=X.get("childrenVisibleMin");if(_!=null&&R<_)J=!0}for(var j=0,E=G.length;j<E;j++)ck0(G[j],Q,J,K+1)}function $F1($,Q,J,K,Y,q){var Z=$.children||[],X=K.sort;X!=="asc"&&X!=="desc"&&(X=null);var W=K.leafDepth!=null&&K.leafDepth<=q;if(Y&&!W)return $.viewChildren=[];Z=j1(Z,function(A){return!A.isRemoved()}),JF1(Z,X);var F=KF1(Q,Z,X);if(F.sum===0)return $.viewChildren=[];if(F.sum=QF1(Q,J,F.sum,X,Z),F.sum===0)return $.viewChildren=[];for(var H=0,B=Z.length;H<B;H++){var z=Z[H].getValue()/F.sum*J;Z[H].setLayout({area:z})}if(W)Z.length&&$.setLayout({isLeafRoot:!0},!0),Z.length=0;return $.viewChildren=Z,$.setLayout({dataExtent:F.dataExtent},!0),Z}function QF1($,Q,J,K,Y){if(!K)return J;var q=$.get("visibleMin"),Z=Y.length,X=Z;for(var W=Z-1;W>=0;W--){var F=Y[K==="asc"?Z-W-1:W].getValue();if(F/J*Q<q)X=W,J-=F}return K==="asc"?Y.splice(0,Z-X):Y.splice(X,Z-X),J}function JF1($,Q){if(Q)$.sort(function(J,K){var Y=Q==="asc"?J.getValue()-K.getValue():K.getValue()-J.getValue();return Y===0?Q==="asc"?J.dataIndex-K.dataIndex:K.dataIndex-J.dataIndex:Y});return $}function KF1($,Q,J){var K=0;for(var Y=0,q=Q.length;Y<q;Y++)K+=Q[Y].getValue();var Z=$.get("visualDimension"),X;if(!Q||!Q.length)X=[NaN,NaN];else if(Z==="value"&&J)X=[Q[Q.length-1].getValue(),Q[0].getValue()],J==="asc"&&X.reverse();else X=[1/0,-1/0],Xs(Q,function(W){var F=W.getValue(Z);F<X[0]&&(X[0]=F),F>X[1]&&(X[1]=F)});return{sum:K,dataExtent:X}}function YF1($,Q,J){var K=0,Y=1/0;for(var q=0,Z=void 0,X=$.length;q<X;q++)if(Z=$[q].getLayout().area,Z)Z<Y&&(Y=Z),Z>K&&(K=Z);var W=$.area*$.area,F=Q*Q*J;return W?Rw(F*K/W,W/(F*Y)):1/0}function gk0($,Q,J,K,Y){var q=Q===J.width?0:1,Z=1-q,X=["x","y"],W=["width","height"],F=J[X[q]],H=Q?$.area/Q:0;if(Y||H>J[W[Z]])H=J[W[Z]];for(var B=0,z=$.length;B<z;B++){var A=$[B],R={},G=H?A.getLayout().area/H:0,w=R[W[Z]]=Rw(H-2*K,0),T=J[X[q]]+J[W[q]]-F,D=B===z-1||T<G?T:G,P=R[W[q]]=Rw(D-2*K,0);R[X[Z]]=J[X[Z]]+pv(K,w/2),R[X[q]]=F+pv(K,P/2),F+=D,A.setLayout(R,!0)}J[X[Z]]+=H,J[W[Z]]-=H}function qF1($,Q,J,K,Y){var q=(Q||{}).node,Z=[K,Y];if(!q||q===J)return Z;var X,W=K*Y,F=W*$.option.zoomToNodeRatio;while(X=q.parentNode){var H=0,B=X.children;for(var z=0,A=B.length;z<A;z++)H+=B[z].getValue();var R=q.getValue();if(R===0)return Z;F*=H/R;var G=X.getModel(),w=G.get(yk0),T=Math.max(w,mk0(G));F+=4*w*w+(3*w+T)*Math.pow(F,0.5),F>Dd&&(F=Dd),q=X}F<W&&(F=W);var D=Math.pow(F/W,0.5);return[K*D,Y*D]}function ZF1($,Q,J){if(Q)return{x:Q.x,y:Q.y};var K={x:0,y:0};if(!J)return K;var Y=J.node,q=Y.getLayout();if(!q)return K;var Z=[q.width/2,q.height/2],X=Y;while(X){var W=X.getLayout();Z[0]+=W.x,Z[1]+=W.y,X=X.parentNode}return{x:$.width/2-Z[0],y:$.height/2-Z[1]}}function uk0($,Q,J,K,Y){var q=$.getLayout(),Z=J[Y],X=Z&&Z===$;if(Z&&!X||Y===J.length&&$!==K)return;$.setLayout({isInView:!0,invisible:!X&&!Q.intersect(q),isAboveViewRoot:X},!0);var W=new u0(Q.x-q.x,Q.y-q.y,Q.width,Q.height);Xs($.viewChildren||[],function(F){uk0(F,W,J,K,Y+1)})}function mk0($){return $.get(tW1)?$.get(eW1):0}function Ws($){$.registerSeriesModel(Ok0),$.registerChartView(hk0),$.registerVisual(Ik0),$.registerLayout(xk0),Gk0($)}function Fs($){var Q=$.findComponents({mainType:"legend"});if(!Q||!Q.length)return;$.eachSeriesByType("graph",function(J){var K=J.getCategoriesData(),Y=J.getGraph(),q=Y.data,Z=K.mapArray(K.getName);q.filterSelf(function(X){var W=q.getItemModel(X),F=W.getShallow("category");if(F!=null){if(U1(F))F=Z[F];for(var H=0;H<Q.length;H++)if(!Q[H].isSelected(F))return!1}return!0})})}function Us($){var Q={};$.eachSeriesByType("graph",function(J){var K=J.getCategoriesData(),Y=J.getData(),q={};if(K.each(function(Z){var X=K.getName(Z);q["ec-"+X]=Z;var W=K.getItemModel(Z),F=W.getModel("itemStyle").getItemStyle();if(!F.fill)F.fill=J.getColorFromPalette(X,Q);K.setItemVisual(Z,"style",F);var H=["symbol","symbolSize","symbolKeepAspect"];for(var B=0;B<H.length;B++){var z=W.getShallow(H[B],!0);if(z!=null)K.setItemVisual(Z,H[B],z)}}),K.count())Y.each(function(Z){var X=Y.getItemModel(Z),W=X.getShallow("category");if(W!=null){if(B0(W))W=q["ec-"+W];var F=K.getItemVisual(W,"style"),H=Y.ensureUniqueItemVisual(Z,"style");Q0(H,F);var B=["symbol","symbolSize","symbolKeepAspect"];for(var z=0;z<B.length;z++)Y.setItemVisual(Z,B[z],K.getItemVisual(W,B[z]))}})})}function dv($){if(!($ instanceof Array))$=[$,$];return $}function Hs($){$.eachSeriesByType("graph",function(Q){var J=Q.getGraph(),K=Q.getEdgeData(),Y=dv(Q.get("edgeSymbol")),q=dv(Q.get("edgeSymbolSize"));K.setVisual("fromSymbol",Y&&Y[0]),K.setVisual("toSymbol",Y&&Y[1]),K.setVisual("fromSymbolSize",q&&q[0]),K.setVisual("toSymbolSize",q&&q[1]),K.setVisual("style",Q.getModel("lineStyle").getLineStyle()),K.each(function(Z){var X=K.getItemModel(Z),W=J.getEdgeByIndex(Z),F=dv(X.getShallow("symbol",!0)),H=dv(X.getShallow("symbolSize",!0)),B=X.getModel("lineStyle").getLineStyle(),z=K.ensureUniqueItemVisual(Z,"style");switch(Q0(z,B),z.stroke){case"source":{var A=W.node1.getVisual("style");z.stroke=A&&A.fill;break}case"target":{var A=W.node2.getVisual("style");z.stroke=A&&A.fill;break}}F[0]&&W.setVisual("fromSymbol",F[0]),F[1]&&W.setVisual("toSymbol",F[1]),H[0]&&W.setVisual("fromSymbolSize",H[0]),H[1]&&W.setVisual("toSymbolSize",H[1])})})}var Ns="-->",nv=function($){return $.get("autoCurveness")||null},pk0=function($,Q){var J=nv($),K=20,Y=[];if(U1(J))K=J;else if(J0(J)){$.__curvenessList=J;return}if(Q>K)K=Q;var q=K%2?K+2:K+3;Y=[];for(var Z=0;Z<q;Z++)Y.push((Z%2?Z+1:Z)/10*(Z%2?-1:1));$.__curvenessList=Y},Gw=function($,Q,J){var K=[$.id,$.dataIndex].join("."),Y=[Q.id,Q.dataIndex].join(".");return[J.uid,K,Y].join(Ns)},dk0=function($){var Q=$.split(Ns);return[Q[0],Q[2],Q[1]].join(Ns)},XF1=function($,Q){var J=Gw($.node1,$.node2,Q);return Q.__edgeMap[J]},WF1=function($,Q){var J=Bs(Gw($.node1,$.node2,Q),Q),K=Bs(Gw($.node2,$.node1,Q),Q);return J+K},Bs=function($,Q){var J=Q.__edgeMap;return J[$]?J[$].length:0};function nk0($){if(!nv($))return;$.__curvenessList=[],$.__edgeMap={},pk0($)}function lk0($,Q,J,K){if(!nv(J))return;var Y=Gw($,Q,J),q=J.__edgeMap,Z=q[dk0(Y)];if(q[Y]&&!Z)q[Y].isForward=!0;else if(Z&&q[Y])Z.isForward=!0,q[Y].isForward=!1;q[Y]=q[Y]||[],q[Y].push(K)}function ZB($,Q,J,K){var Y=nv(Q),q=J0(Y);if(!Y)return null;var Z=XF1($,Q);if(!Z)return null;var X=-1;for(var W=0;W<Z.length;W++)if(Z[W]===J){X=W;break}var F=WF1($,Q);pk0(Q,F),$.lineStyle=$.lineStyle||{};var H=Gw($.node1,$.node2,Q),B=Q.__curvenessList,z=q?0:F%2?0:1;if(!Z.isForward){var A=dk0(H),R=Bs(A,Q),G=B[X+R+z];if(K)if(q)if(Y&&Y[0]===0)return(R+z)%2?G:-G;else return((R%2?0:1)+z)%2?G:-G;else return(R+z)%2?G:-G;else return B[X+R+z]}else return B[z+X]}function lv($){var Q=$.coordinateSystem;if(Q&&Q.type!=="view")return;var J=$.getGraph();J.eachNode(function(K){var Y=K.getModel();K.setLayout([+Y.get("x"),+Y.get("y")])}),ww(J,$)}function ww($,Q){$.eachEdge(function(J,K){var Y=B6(J.getModel().get(["lineStyle","curveness"]),-ZB(J,Q,K,!0),0),q=n4(J.node1.getLayout()),Z=n4(J.node2.getLayout()),X=[q,Z];if(+Y)X.push([(q[0]+Z[0])/2-(q[1]-Z[1])*Y,(q[1]+Z[1])/2-(Z[0]-q[0])*Y]);J.setLayout(X)})}function zs($,Q){$.eachSeriesByType("graph",function(J){var K=J.get("layout"),Y=J.coordinateSystem;if(Y&&Y.type!=="view"){var q=J.getData(),Z=[];v(Y.dimensions,function(z){Z=Z.concat(q.mapDimensionsAll(z))});for(var X=0;X<q.count();X++){var W=[],F=!1;for(var H=0;H<Z.length;H++){var B=q.get(Z[H],X);if(!isNaN(B))F=!0;W.push(B)}if(F)q.setItemLayout(X,Y.dataToPoint(W));else q.setItemLayout(X,[NaN,NaN])}ww(q.graph,J)}else if(!K||K==="none")lv(J)})}function WF($){var Q=$.coordinateSystem;if(Q.type!=="view")return 1;var J=$.option.nodeScaleRatio,K=Q.scaleX,Y=Q.getZoom(),q=(Y-1)*J+1;return q/K}function FF($){var Q=$.getVisual("symbolSize");if(Q instanceof Array)Q=(Q[0]+Q[1])/2;return+Q}var rk0=Math.PI,As=[];function XB($,Q,J,K){var Y=$.coordinateSystem;if(Y&&Y.type!=="view")return;var q=Y.getBoundingRect(),Z=$.getData(),X=Z.graph,W=q.width/2+q.x,F=q.height/2+q.y,H=Math.min(q.width,q.height)/2,B=Z.count();if(Z.setLayout({cx:W,cy:F}),!B)return;if(J){var z=Y.pointToData(K),A=z[0],R=z[1],G=[A-W,R-F];x3(G,G),$N(G,G,H),J.setLayout([W+G[0],F+G[1]],!0);var w=$.get(["circular","rotateLabel"]);Vs(J,w,W,F)}FF1[Q]($,X,Z,H,W,F,B),X.eachEdge(function(T,D){var P=B6(T.getModel().get(["lineStyle","curveness"]),ZB(T,$,D),0),j=n4(T.node1.getLayout()),E=n4(T.node2.getLayout()),L,h=(j[0]+E[0])/2,_=(j[1]+E[1])/2;if(+P)P*=3,L=[W*P+h*(1-P),F*P+_*(1-P)];T.setLayout([j,E,L])})}var FF1={value:function($,Q,J,K,Y,q,Z){var X=0,W=J.getSum("value"),F=Math.PI*2/(W||Z);Q.eachNode(function(H){var B=H.getValue("value"),z=F*(W?B:1)/2;X+=z,H.setLayout([K*Math.cos(X)+Y,K*Math.sin(X)+q]),X+=z})},symbolSize:function($,Q,J,K,Y,q,Z){var X=0;As.length=Z;var W=WF($);Q.eachNode(function(B){var z=FF(B);isNaN(z)&&(z=2),z<0&&(z=0),z*=W;var A=Math.asin(z/2/K);isNaN(A)&&(A=rk0/2),As[B.dataIndex]=A,X+=A*2});var F=(2*rk0-X)/Z/2,H=0;Q.eachNode(function(B){var z=F+As[B.dataIndex];H+=z,(!B.getLayout()||!B.getLayout().fixed)&&B.setLayout([K*Math.cos(H)+Y,K*Math.sin(H)+q]),H+=z})}};function Vs($,Q,J,K){var Y=$.getGraphicEl();if(!Y)return;var q=$.getModel(),Z=q.get(["label","rotate"])||0,X=Y.getSymbolPath();if(Q){var W=$.getLayout(),F=Math.atan2(W[1]-K,W[0]-J);if(F<0)F=Math.PI*2+F;var H=W[0]<J;if(H)F=F-Math.PI;var B=H?"left":"right";X.setTextConfig({rotation:-F,position:B,origin:"center"});var z=X.ensureState("emphasis");Q0(z.textConfig||(z.textConfig={}),{position:B})}else X.setTextConfig({rotation:Z*=Math.PI/180})}function Rs($){$.eachSeriesByType("graph",function(Q){if(Q.get("layout")==="circular")XB(Q,"symbolSize")})}var WB=PR;function ik0($,Q,J){var K=$,Y=Q,q=J.rect,Z=q.width,X=q.height,W=[q.x+Z/2,q.y+X/2],F=J.gravity==null?0.1:J.gravity;for(var H=0;H<K.length;H++){var B=K[H];if(!B.p)B.p=TJ(Z*(Math.random()-0.5)+W[0],X*(Math.random()-0.5)+W[1]);B.pp=n4(B.p),B.edges=null}var z=J.friction==null?0.6:J.friction,A=z,R,G;return{warmUp:function(){A=z*0.8},setFixed:function(w){K[w].fixed=!0},setUnfixed:function(w){K[w].fixed=!1},beforeStep:function(w){R=w},afterStep:function(w){G=w},step:function(w){R&&R(K,Y);var T=[],D=K.length;for(var P=0;P<Y.length;P++){var j=Y[P];if(j.ignoreForceLayout)continue;var{n1:E,n2:L}=j;n$(T,L.p,E.p);var h=pj(T)-j.d,_=L.w/(E.w+L.w);if(isNaN(_))_=0;x3(T,T),!E.fixed&&WB(E.p,E.p,T,_*h*A),!L.fixed&&WB(L.p,L.p,T,-(1-_)*h*A)}for(var P=0;P<D;P++){var S=K[P];if(!S.fixed)n$(T,W,S.p),WB(S.p,S.p,T,F*A)}for(var P=0;P<D;P++){var E=K[P];for(var I=P+1;I<D;I++){var L=K[I];n$(T,L.p,E.p);var h=pj(T);if(h===0)CR(T,Math.random()-0.5,Math.random()-0.5),h=1;var M=(E.rep+L.rep)/h/h;!E.fixed&&WB(E.pp,E.pp,T,M),!L.fixed&&WB(L.pp,L.pp,T,-M)}}var y=[];for(var P=0;P<D;P++){var S=K[P];if(!S.fixed)n$(y,S.p,S.pp),WB(S.p,S.p,y,A),p7(S.pp,S.p)}A=A*0.992;var b=A<0.01;G&&G(K,Y,b),w&&w(b)}}}function Gs($){$.eachSeriesByType("graph",function(Q){var J=Q.coordinateSystem;if(J&&J.type!=="view")return;if(Q.get("layout")==="force"){var K=Q.preservedPoints||{},Y=Q.getGraph(),q=Y.data,Z=Y.edgeData,X=Q.getModel("force"),W=X.get("initLayout");if(Q.preservedPoints)q.each(function(P){var j=q.getId(P);q.setItemLayout(P,K[j]||[NaN,NaN])});else if(!W||W==="none")lv(Q);else if(W==="circular")XB(Q,"value");var F=q.getDataExtent("value"),H=Z.getDataExtent("value"),B=X.get("repulsion"),z=X.get("edgeLength"),A=J0(B)?B:[B,B],R=J0(z)?z:[z,z];R=[R[1],R[0]];var G=q.mapArray("value",function(P,j){var E=q.getItemLayout(j),L=a1(P,F,A);if(isNaN(L))L=(A[0]+A[1])/2;return{w:L,rep:L,fixed:q.getItemModel(j).get("fixed"),p:!E||isNaN(E[0])||isNaN(E[1])?null:E}}),w=Z.mapArray("value",function(P,j){var E=Y.getEdgeByIndex(j),L=a1(P,H,R);if(isNaN(L))L=(R[0]+R[1])/2;var h=E.getModel(),_=B6(E.getModel().get(["lineStyle","curveness"]),-ZB(E,Q,j,!0),0);return{n1:G[E.node1.dataIndex],n2:G[E.node2.dataIndex],d:L,curveness:_,ignoreForceLayout:h.get("ignoreForceLayout")}}),T=J.getBoundingRect(),D=ik0(G,w,{rect:T,gravity:X.get("gravity"),friction:X.get("friction")});D.beforeStep(function(P,j){for(var E=0,L=P.length;E<L;E++)if(P[E].fixed)p7(P[E].p,Y.getNodeByIndex(E).getLayout())}),D.afterStep(function(P,j,E){for(var L=0,h=P.length;L<h;L++){if(!P[L].fixed)Y.getNodeByIndex(L).setLayout(P[L].p);K[q.getId(L)]=P[L].p}for(var L=0,h=j.length;L<h;L++){var _=j[L],S=Y.getEdgeByIndex(L),I=_.n1.p,M=_.n2.p,y=S.getLayout();if(y=y?y.slice():[],y[0]=y[0]||[],y[1]=y[1]||[],p7(y[0],I),p7(y[1],M),+_.curveness)y[2]=[(I[0]+M[0])/2-(I[1]-M[1])*_.curveness,(I[1]+M[1])/2-(M[0]-I[0])*_.curveness];S.setLayout(y)}}),Q.forceLayout=D,Q.preservedPoints=K,D.step()}else Q.forceLayout=null})}function UF1($,Q,J){var K=D5($,Q),Y=Q0($.getBoxLayoutParams(),{aspect:J}),q=e1(Y,K.refContainer);return yL($,q,J)}function ws($,Q){var J=[];return $.eachSeriesByType("graph",function(K){gJ({targetModel:K,coordSysType:"view",coordSysProvider:Y,isDefaultDataCoordSys:!0});function Y(){var q=K.getData(),Z=q.mapArray(function(R){var G=q.getItemModel(R);return[+G.get("x"),+G.get("y")]}),X=[],W=[];if(RW(Z,X,W),W[0]-X[0]===0)W[0]+=1,X[0]-=1;if(W[1]-X[1]===0)W[1]+=1,X[1]-=1;var F=(W[0]-X[0])/(W[1]-X[1]),H=UF1(K,Q,F);if(isNaN(F))X=[H.x,H.y],W=[H.x+H.width,H.y+H.height];var B=W[0]-X[0],z=W[1]-X[1],A=new a9(null,{api:Q,ecModel:$});return A.zoomLimit=K.get("scaleLimit"),A.setBoundingRect(X[0],X[1],B,z),A.setViewRect(H.x,H.y,H.width,H.height),A.setCenter(K.get("center")),A.setZoom(K.get("zoom")),J.push(A),A}}),J}var sk0=l5.prototype,Os=hW.prototype,ok0=function(){function $(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return $}(),kB5=function($){x(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q}(ok0);function Ts($){return isNaN(+$.cpx1)||isNaN(+$.cpy1)}var HF1=function($){x(Q,$);function Q(J){var K=$.call(this,J)||this;return K.type="ec-line",K}return Q.prototype.getDefaultStyle=function(){return{stroke:a.color.neutral99,fill:null}},Q.prototype.getDefaultShape=function(){return new ok0},Q.prototype.buildPath=function(J,K){if(Ts(K))sk0.buildPath.call(this,J,K);else Os.buildPath.call(this,J,K)},Q.prototype.pointAt=function(J){if(Ts(this.shape))return sk0.pointAt.call(this,J);else return Os.pointAt.call(this,J)},Q.prototype.tangentAt=function(J){var K=this.shape,Y=Ts(K)?[K.x2-K.x1,K.y2-K.y1]:Os.tangentAt.call(this,J);return x3(Y,Y)},Q}(t0),rv=HF1;var Ds=["fromSymbol","toSymbol"];function ak0($){return"_"+$+"Type"}function tk0($,Q,J){var K=Q.getItemVisual(J,$);if(!K||K==="none")return K;var Y=Q.getItemVisual(J,$+"Size"),q=Q.getItemVisual(J,$+"Rotate"),Z=Q.getItemVisual(J,$+"Offset"),X=Q.getItemVisual(J,$+"KeepAspect"),W=FQ(Y),F=n9(Z||0,W);return K+W+F+(q||"")+(X||"")}function ek0($,Q,J){var K=Q.getItemVisual(J,$);if(!K||K==="none")return;var Y=Q.getItemVisual(J,$+"Size"),q=Q.getItemVisual(J,$+"Rotate"),Z=Q.getItemVisual(J,$+"Offset"),X=Q.getItemVisual(J,$+"KeepAspect"),W=FQ(Y),F=n9(Z||0,W),H=j5(K,-W[0]/2+F[0],-W[1]/2+F[1],W[0],W[1],null,X);return H.__specifiedRotation=q==null||isNaN(q)?void 0:+q*Math.PI/180||0,H.name=$,H}function NF1($){var Q=new rv({name:"line",subPixelOptimize:!0});return Cs(Q.shape,$),Q}function Cs($,Q){$.x1=Q[0][0],$.y1=Q[0][1],$.x2=Q[1][0],$.y2=Q[1][1],$.percent=1;var J=Q[2];if(J)$.cpx1=J[0],$.cpy1=J[1];else $.cpx1=NaN,$.cpy1=NaN}var BF1=function($){x(Q,$);function Q(J,K,Y){var q=$.call(this)||this;return q._createLine(J,K,Y),q}return Q.prototype._createLine=function(J,K,Y){var q=J.hostModel,Z=J.getItemLayout(K),X=J.getItemVisual(K,"z2"),W=NF1(Z);W.shape.percent=0,t1(W,{z2:f0(X,0),shape:{percent:1}},q,K),this.add(W),v(Ds,function(F){var H=ek0(F,J,K);this.add(H),this[ak0(F)]=tk0(F,J,K)},this),this._updateCommonStl(J,K,Y)},Q.prototype.updateData=function(J,K,Y){var q=J.hostModel,Z=this.childOfName("line"),X=J.getItemLayout(K),W={shape:{}};Cs(W.shape,X),V1(Z,W,q,K),v(Ds,function(F){var H=tk0(F,J,K),B=ak0(F);if(this[B]!==H){this.remove(this.childOfName(F));var z=ek0(F,J,K);this.add(z)}this[B]=H},this),this._updateCommonStl(J,K,Y)},Q.prototype.getLinePath=function(){return this.childAt(0)},Q.prototype._updateCommonStl=function(J,K,Y){var q=J.hostModel,Z=this.childOfName("line"),X=Y&&Y.emphasisLineStyle,W=Y&&Y.blurLineStyle,F=Y&&Y.selectLineStyle,H=Y&&Y.labelStatesModels,B=Y&&Y.emphasisDisabled,z=Y&&Y.focus,A=Y&&Y.blurScope;if(!Y||J.hasItemOption){var R=J.getItemModel(K),G=R.getModel("emphasis");X=G.getModel("lineStyle").getLineStyle(),W=R.getModel(["blur","lineStyle"]).getLineStyle(),F=R.getModel(["select","lineStyle"]).getLineStyle(),B=G.get("disabled"),z=G.get("focus"),A=G.get("blurScope"),H=k5(R)}var w=J.getItemVisual(K,"style"),T=w.stroke;Z.useStyle(w),Z.style.fill=null,Z.style.strokeNoScale=!0,Z.ensureState("emphasis").style=X,Z.ensureState("blur").style=W,Z.ensureState("select").style=F,v(Ds,function(L){var h=this.childOfName(L);if(h){h.setColor(T),h.style.opacity=w.opacity;for(var _=0;_<M7.length;_++){var S=M7[_],I=Z.getState(S);if(I){var M=I.style||{},y=h.ensureState(S),b=y.style||(y.style={});if(M.stroke!=null)b[h.__isEmptyBrush?"stroke":"fill"]=M.stroke;if(M.opacity!=null)b.opacity=M.opacity}}h.markRedraw()}},this);var D=q.getRawValue(K);v5(this,H,{labelDataIndex:K,labelFetcher:{getFormattedLabel:function(L,h){return q.getFormattedLabel(L,h,J.dataType)}},inheritColor:T||a.color.neutral99,defaultOpacity:w.opacity,defaultText:(D==null?J.getName(K):isFinite(D)?d5(D):D)+""});var P=this.getTextContent();if(P){var j=H.normal;P.__align=P.style.align,P.__verticalAlign=P.style.verticalAlign,P.__position=j.get("position")||"middle";var E=j.get("distance");if(!J0(E))E=[E,E];P.__labelDistance=E}this.setTextConfig({position:null,local:!0,inside:!1}),u1(this,z,A,B)},Q.prototype.highlight=function(){p8(this)},Q.prototype.downplay=function(){d8(this)},Q.prototype.updateLayout=function(J,K){this.setLinePoints(J.getItemLayout(K))},Q.prototype.setLinePoints=function(J){var K=this.childOfName("line");Cs(K.shape,J),K.dirty()},Q.prototype.beforeUpdate=function(){var J=this,K=J.childOfName("fromSymbol"),Y=J.childOfName("toSymbol"),q=J.getTextContent();if(!K&&!Y&&(!q||q.ignore))return;var Z=1,X=this.parent;while(X){if(X.scaleX)Z/=X.scaleX;X=X.parent}var W=J.childOfName("line");if(!this.__dirty&&!W.__dirty)return;var F=W.shape.percent,H=W.pointAt(0),B=W.pointAt(F),z=n$([],B,H);x3(z,z);function A(I,M){var y=I.__specifiedRotation;if(y==null){var b=W.tangentAt(M);I.attr("rotation",(M===1?-1:1)*Math.PI/2-Math.atan2(b[1],b[0]))}else I.attr("rotation",y)}if(K)K.setPosition(H),A(K,0),K.scaleX=K.scaleY=Z*F,K.markRedraw();if(Y)Y.setPosition(B),A(Y,1),Y.scaleX=Y.scaleY=Z*F,Y.markRedraw();if(q&&!q.ignore){q.x=q.y=0,q.originX=q.originY=0;var R=void 0,G=void 0,w=q.__labelDistance,T=w[0]*Z,D=w[1]*Z,P=F/2,j=W.tangentAt(P),E=[j[1],-j[0]],L=W.pointAt(P);if(E[1]>0)E[0]=-E[0],E[1]=-E[1];var h=j[0]<0?-1:1;if(q.__position!=="start"&&q.__position!=="end"){var _=-Math.atan2(j[1],j[0]);if(B[0]<H[0])_=Math.PI+_;q.rotation=_}var S=void 0;switch(q.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":S=-D,G="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":S=D,G="top";break;default:S=0,G="middle"}switch(q.__position){case"end":q.x=z[0]*T+B[0],q.y=z[1]*D+B[1],R=z[0]>0.8?"left":z[0]<-0.8?"right":"center",G=z[1]>0.8?"top":z[1]<-0.8?"bottom":"middle";break;case"start":q.x=-z[0]*T+H[0],q.y=-z[1]*D+H[1],R=z[0]>0.8?"right":z[0]<-0.8?"left":"center",G=z[1]>0.8?"bottom":z[1]<-0.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":q.x=T*h+H[0],q.y=H[1]+S,R=j[0]<0?"right":"left",q.originX=-T*h,q.originY=-S;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":q.x=L[0],q.y=L[1]+S,R="center",q.originY=-S;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":q.x=-T*h+B[0],q.y=B[1]+S,R=j[0]>=0?"right":"left",q.originX=T*h,q.originY=-S;break}q.scaleX=q.scaleY=Z,q.setStyle({verticalAlign:q.__verticalAlign||G,align:q.__align||R})}},Q}(_0),FB=BF1;var zF1=function(){function $(Q){this.group=new _0,this._LineCtor=Q||FB}return $.prototype.updateData=function(Q){var J=this;this._progressiveEls=null;var K=this,Y=K.group,q=K._lineData;if(K._lineData=Q,!q)Y.removeAll();var Z=$j0(Q);Q.diff(q).add(function(X){J._doAdd(Q,X,Z)}).update(function(X,W){J._doUpdate(q,Q,W,X,Z)}).remove(function(X){Y.remove(q.getItemGraphicEl(X))}).execute()},$.prototype.updateLayout=function(){var Q=this._lineData;if(!Q)return;Q.eachItemGraphicEl(function(J,K){J.updateLayout(Q,K)},this)},$.prototype.incrementalPrepareUpdate=function(Q){this._seriesScope=$j0(Q),this._lineData=null,this.group.removeAll()},$.prototype.incrementalUpdate=function(Q,J){this._progressiveEls=[];function K(X){if(!X.isGroup&&!AF1(X))X.incremental=!0,X.ensureState("emphasis").hoverLayer=!0}for(var Y=Q.start;Y<Q.end;Y++){var q=J.getItemLayout(Y);if(Ps(q)){var Z=new this._LineCtor(J,Y,this._seriesScope);Z.traverse(K),this.group.add(Z),J.setItemGraphicEl(Y,Z),this._progressiveEls.push(Z)}}},$.prototype.remove=function(){this.group.removeAll()},$.prototype.eachRendered=function(Q){G4(this._progressiveEls||this.group,Q)},$.prototype._doAdd=function(Q,J,K){var Y=Q.getItemLayout(J);if(!Ps(Y))return;var q=new this._LineCtor(Q,J,K);Q.setItemGraphicEl(J,q),this.group.add(q)},$.prototype._doUpdate=function(Q,J,K,Y,q){var Z=Q.getItemGraphicEl(K);if(!Ps(J.getItemLayout(Y))){this.group.remove(Z);return}if(!Z)Z=new this._LineCtor(J,Y,q);else Z.updateData(J,Y,q);J.setItemGraphicEl(Y,Z),this.group.add(Z)},$}();function AF1($){return $.animators&&$.animators.length>0}function $j0($){var Q=$.hostModel,J=Q.getModel("emphasis");return{lineStyle:Q.getModel("lineStyle").getLineStyle(),emphasisLineStyle:J.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:Q.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:Q.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:J.get("disabled"),blurScope:J.get("blurScope"),focus:J.get("focus"),labelStatesModels:k5(Q)}}function Qj0($){return isNaN($[0])||isNaN($[1])}function Ps($){return $&&!Qj0($[0])&&!Qj0($[1])}var UB=zF1;var ks=[],js=[],Es=[],HB=o6,Ls=QY,Jj0=Math.abs;function Kj0($,Q,J){var K=$[0],Y=$[1],q=$[2],Z=1/0,X,W=J*J,F=0.1;for(var H=0.1;H<=0.9;H+=0.1){ks[0]=HB(K[0],Y[0],q[0],H),ks[1]=HB(K[1],Y[1],q[1],H);var B=Jj0(Ls(ks,Q)-W);if(B<Z)Z=B,X=H}for(var z=0;z<32;z++){var A=X+F;js[0]=HB(K[0],Y[0],q[0],X),js[1]=HB(K[1],Y[1],q[1],X),Es[0]=HB(K[0],Y[0],q[0],A),Es[1]=HB(K[1],Y[1],q[1],A);var B=Ls(js,Q)-W;if(Jj0(B)<0.01)break;var R=Ls(Es,Q)-W;if(F/=2,B<0)if(R>=0)X=X+F;else X=X-F;else if(R>=0)X=X-F;else X=X+F}return X}function Ow($,Q){var J=[],K=VZ,Y=[[],[],[]],q=[[],[]],Z=[];Q/=2,$.eachEdge(function(X,W){var F=X.getLayout(),H=X.getVisual("fromSymbol"),B=X.getVisual("toSymbol");if(!F.__original){if(F.__original=[n4(F[0]),n4(F[1])],F[2])F.__original.push(n4(F[2]))}var z=F.__original;if(F[2]!=null){if(p7(Y[0],z[0]),p7(Y[1],z[2]),p7(Y[2],z[1]),H&&H!=="none"){var A=FF(X.node1),R=Kj0(Y,z[0],A*Q);K(Y[0][0],Y[1][0],Y[2][0],R,J),Y[0][0]=J[3],Y[1][0]=J[4],K(Y[0][1],Y[1][1],Y[2][1],R,J),Y[0][1]=J[3],Y[1][1]=J[4]}if(B&&B!=="none"){var A=FF(X.node2),R=Kj0(Y,z[1],A*Q);K(Y[0][0],Y[1][0],Y[2][0],R,J),Y[1][0]=J[1],Y[2][0]=J[2],K(Y[0][1],Y[1][1],Y[2][1],R,J),Y[1][1]=J[1],Y[2][1]=J[2]}p7(F[0],Y[0]),p7(F[1],Y[2]),p7(F[2],Y[1])}else{if(p7(q[0],z[0]),p7(q[1],z[1]),n$(Z,q[1],q[0]),x3(Z,Z),H&&H!=="none"){var A=FF(X.node1);PR(q[0],q[0],Z,A*Q)}if(B&&B!=="none"){var A=FF(X.node2);PR(q[1],q[1],Z,-A*Q)}p7(F[0],q[0]),p7(F[1],q[1])}})}var Yj0=n0();function qj0($){if($)return Yj0($).bridge}function hs($,Q){if($)Yj0($).bridge=Q}function Zj0($){return $.type==="view"}var VF1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(J,K){var Y=new nJ,q=new UB,Z=this.group,X=new _0;this._controller=new N9(K.getZr()),this._controllerHost={target:X},X.add(Y.group),X.add(q.group),Z.add(X),this._symbolDraw=Y,this._lineDraw=q,this._mainGroup=X,this._firstRender=!0},Q.prototype.render=function(J,K,Y){var q=this,Z=J.coordinateSystem,X=!1;this._model=J,this._api=Y,this._active=!0;var W=this._getThumbnailInfo();if(W)W.bridge.reset(Y);var F=this._symbolDraw,H=this._lineDraw;if(Zj0(Z)){var B={x:Z.x,y:Z.y,scaleX:Z.scaleX,scaleY:Z.scaleY};if(this._firstRender)this._mainGroup.attr(B);else V1(this._mainGroup,B,J)}Ow(J.getGraph(),WF(J));var z=J.getData();F.updateData(z);var A=J.getEdgeData();H.updateData(A),this._updateNodeAndLinkScale(),this._updateController(null,J,Y),clearTimeout(this._layoutTimeout);var R=J.forceLayout,G=J.get(["force","layoutAnimation"]);if(R)X=!0,this._startForceLayoutIteration(R,Y,G);var w=J.get("layout");z.graph.eachNode(function(j){var E=j.dataIndex,L=j.getGraphicEl(),h=j.getModel();if(!L)return;L.off("drag").off("dragend");var _=h.get("draggable");if(_)L.on("drag",function(I){switch(w){case"force":R.warmUp(),!q._layouting&&q._startForceLayoutIteration(R,Y,G),R.setFixed(E),z.setItemLayout(E,[L.x,L.y]);break;case"circular":z.setItemLayout(E,[L.x,L.y]),j.setLayout({fixed:!0},!0),XB(J,"symbolSize",j,[I.offsetX,I.offsetY]),q.updateLayout(J);break;case"none":default:z.setItemLayout(E,[L.x,L.y]),ww(J.getGraph(),J),q.updateLayout(J);break}}).on("dragend",function(){if(R)R.setUnfixed(E)});L.setDraggable(_,!!h.get("cursor"));var S=h.get(["emphasis","focus"]);if(S==="adjacency")m0(L).focus=j.getAdjacentDataIndices()}),z.graph.eachEdge(function(j){var E=j.getGraphicEl(),L=j.getModel().get(["emphasis","focus"]);if(!E)return;if(L==="adjacency")m0(E).focus={edge:[j.dataIndex],node:[j.node1.dataIndex,j.node2.dataIndex]}});var T=J.get("layout")==="circular"&&J.get(["circular","rotateLabel"]),D=z.getLayout("cx"),P=z.getLayout("cy");if(z.graph.eachNode(function(j){Vs(j,T,D,P)}),this._firstRender=!1,!X)this._renderThumbnail(J,Y,this._symbolDraw,this._lineDraw)},Q.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},Q.prototype._startForceLayoutIteration=function(J,K,Y){var q=this,Z=!1;(function X(){J.step(function(W){if(q.updateLayout(q._model),W||!Z)Z=!0,q._renderThumbnail(q._model,K,q._symbolDraw,q._lineDraw);(q._layouting=!W)&&(Y?q._layoutTimeout=setTimeout(X,16):X())})})()},Q.prototype._updateController=function(J,K,Y){var q=this._controller,Z=this._controllerHost,X=K.coordinateSystem;if(!Zj0(X)){q.disable();return}q.enable(K.get("roam"),{api:Y,zInfo:{component:K},triggerInfo:{roamTrigger:K.get("roamTrigger"),isInSelf:function(W,F,H){return X.containPoint([F,H])},isInClip:function(W,F,H){return!J||J.contain(F,H)}}}),Z.zoomLimit=K.get("scaleLimit"),Z.zoom=X.getZoom(),q.off("pan").off("zoom").on("pan",function(W){Y.dispatchAction({seriesId:K.id,type:"graphRoam",dx:W.dx,dy:W.dy})}).on("zoom",function(W){Y.dispatchAction({seriesId:K.id,type:"graphRoam",zoom:W.scale,originX:W.originX,originY:W.originY})})},Q.prototype.updateViewOnPan=function(J,K,Y){if(!this._active)return;Ww(this._controllerHost,Y.dx,Y.dy),this._updateThumbnailWindow()},Q.prototype.updateViewOnZoom=function(J,K,Y){if(!this._active)return;Fw(this._controllerHost,Y.zoom,Y.originX,Y.originY),this._updateNodeAndLinkScale(),Ow(J.getGraph(),WF(J)),this._lineDraw.updateLayout(),K.updateLabelLayout(),this._updateThumbnailWindow()},Q.prototype._updateNodeAndLinkScale=function(){var J=this._model,K=J.getData(),Y=WF(J);K.eachItemGraphicEl(function(q,Z){q&&q.setSymbolScale(Y)})},Q.prototype.updateLayout=function(J){if(!this._active)return;Ow(J.getGraph(),WF(J)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},Q.prototype.remove=function(){this._active=!1,clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove(),this._controller&&this._controller.disable()},Q.prototype._getThumbnailInfo=function(){var J=this._model,K=J.coordinateSystem;if(K.type!=="view")return;var Y=qj0(J);if(!Y)return;return{bridge:Y,coordSys:K}},Q.prototype._updateThumbnailWindow=function(){var J=this._getThumbnailInfo();if(J)J.bridge.updateWindow(J.coordSys.transform,this._api)},Q.prototype._renderThumbnail=function(J,K,Y,q){var Z=this._getThumbnailInfo();if(!Z)return;var X=new _0,W=Y.group.children(),F=q.group.children(),H=new _0,B=new _0;X.add(B),X.add(H);for(var z=0;z<W.length;z++){var A=W[z],R=A.children()[0],G=A.x,w=A.y,T=y0(R.shape),D=Q0(T,{width:R.scaleX,height:R.scaleY,x:G-R.scaleX/2,y:w-R.scaleY/2}),P=y0(R.style),j=new R.constructor({shape:D,style:P,z2:151});B.add(j)}for(var z=0;z<F.length;z++){var A=F[z],E=A.children()[0],P=y0(E.style),D=y0(E.shape),L=new rv({style:P,shape:D,z2:151});H.add(L)}Z.bridge.renderContent({api:K,roamType:J.get("roam"),viewportRect:null,group:X,targetTrans:Z.coordSys.transform})},Q.type="graph",Q}(_1),Xj0=VF1;function NB($){return"_EC_"+$}var RF1=function(){function $(Q){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=Q||!1}return $.prototype.isDirected=function(){return this._directed},$.prototype.addNode=function(Q,J){Q=Q==null?""+J:""+Q;var K=this._nodesMap;if(K[NB(Q)]){console.error("Graph nodes have duplicate name or id");return}var Y=new UF(Q,J);return Y.hostGraph=this,this.nodes.push(Y),K[NB(Q)]=Y,Y},$.prototype.getNodeByIndex=function(Q){var J=this.data.getRawIndex(Q);return this.nodes[J]},$.prototype.getNodeById=function(Q){return this._nodesMap[NB(Q)]},$.prototype.addEdge=function(Q,J,K){var Y=this._nodesMap,q=this._edgesMap;if(U1(Q))Q=this.nodes[Q];if(U1(J))J=this.nodes[J];if(!(Q instanceof UF))Q=Y[NB(Q)];if(!(J instanceof UF))J=Y[NB(J)];if(!Q||!J)return;var Z=Q.id+"-"+J.id,X=new Wj0(Q,J,K);if(X.hostGraph=this,this._directed)Q.outEdges.push(X),J.inEdges.push(X);if(Q.edges.push(X),Q!==J)J.edges.push(X);return this.edges.push(X),q[Z]=X,X},$.prototype.getEdgeByIndex=function(Q){var J=this.edgeData.getRawIndex(Q);return this.edges[J]},$.prototype.getEdge=function(Q,J){if(Q instanceof UF)Q=Q.id;if(J instanceof UF)J=J.id;var K=this._edgesMap;if(this._directed)return K[Q+"-"+J];else return K[Q+"-"+J]||K[J+"-"+Q]},$.prototype.eachNode=function(Q,J){var K=this.nodes,Y=K.length;for(var q=0;q<Y;q++)if(K[q].dataIndex>=0)Q.call(J,K[q],q)},$.prototype.eachEdge=function(Q,J){var K=this.edges,Y=K.length;for(var q=0;q<Y;q++)if(K[q].dataIndex>=0&&K[q].node1.dataIndex>=0&&K[q].node2.dataIndex>=0)Q.call(J,K[q],q)},$.prototype.breadthFirstTraverse=function(Q,J,K,Y){if(!(J instanceof UF))J=this._nodesMap[NB(J)];if(!J)return;var q=K==="out"?"outEdges":K==="in"?"inEdges":"edges";for(var Z=0;Z<this.nodes.length;Z++)this.nodes[Z].__visited=!1;if(Q.call(Y,J,null))return;var X=[J];while(X.length){var W=X.shift(),F=W[q];for(var Z=0;Z<F.length;Z++){var H=F[Z],B=H.node1===W?H.node2:H.node1;if(!B.__visited){if(Q.call(Y,B,W))return;X.push(B),B.__visited=!0}}}},$.prototype.update=function(){var Q=this.data,J=this.edgeData,K=this.nodes,Y=this.edges;for(var q=0,Z=K.length;q<Z;q++)K[q].dataIndex=-1;for(var q=0,Z=Q.count();q<Z;q++)K[Q.getRawIndex(q)].dataIndex=q;J.filterSelf(function(X){var W=Y[J.getRawIndex(X)];return W.node1.dataIndex>=0&&W.node2.dataIndex>=0});for(var q=0,Z=Y.length;q<Z;q++)Y[q].dataIndex=-1;for(var q=0,Z=J.count();q<Z;q++)Y[J.getRawIndex(q)].dataIndex=q},$.prototype.clone=function(){var Q=new $(this._directed),J=this.nodes,K=this.edges;for(var Y=0;Y<J.length;Y++)Q.addNode(J[Y].id,J[Y].dataIndex);for(var Y=0;Y<K.length;Y++){var q=K[Y];Q.addEdge(q.node1.id,q.node2.id,q.dataIndex)}return Q},$}(),UF=function(){function $(Q,J){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=Q==null?"":Q,this.dataIndex=J==null?-1:J}return $.prototype.degree=function(){return this.edges.length},$.prototype.inDegree=function(){return this.inEdges.length},$.prototype.outDegree=function(){return this.outEdges.length},$.prototype.getModel=function(Q){if(this.dataIndex<0)return;var J=this.hostGraph,K=J.data.getItemModel(this.dataIndex);return K.getModel(Q)},$.prototype.getAdjacentDataIndices=function(){var Q={edge:[],node:[]};for(var J=0;J<this.edges.length;J++){var K=this.edges[J];if(K.dataIndex<0)continue;Q.edge.push(K.dataIndex),Q.node.push(K.node1.dataIndex,K.node2.dataIndex)}return Q},$.prototype.getTrajectoryDataIndices=function(){var Q=L0(),J=L0();for(var K=0,Y=this.edges.length;K<Y;K++){var q=this.edges[K];if(q.dataIndex<0)continue;Q.set(q.dataIndex,!0);var Z=[q.node1],X=[q.node2],W=0;while(W<Z.length){var F=Z[W];W++,J.set(F.dataIndex,!0);var H=F.inEdges;for(var B=0,z=H.length,A=void 0,R=void 0;B<z;B++)if(A=H[B],R=A.dataIndex,R>=0&&!Q.hasKey(R))Q.set(R,!0),Z.push(A.node1)}W=0;while(W<X.length){var G=X[W];W++,J.set(G.dataIndex,!0);var w=G.outEdges;for(var B=0,T=w.length,D=void 0,P=void 0;B<T;B++)if(D=w[B],P=D.dataIndex,P>=0&&!Q.hasKey(P))Q.set(P,!0),X.push(D.node2)}}return{edge:Q.keys(),node:J.keys()}},$}(),Wj0=function(){function $(Q,J,K){this.dataIndex=-1,this.node1=Q,this.node2=J,this.dataIndex=K==null?-1:K}return $.prototype.getModel=function(Q){if(this.dataIndex<0)return;var J=this.hostGraph,K=J.edgeData.getItemModel(this.dataIndex);return K.getModel(Q)},$.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},$.prototype.getTrajectoryDataIndices=function(){var Q=L0(),J=L0();Q.set(this.dataIndex,!0);var K=[this.node1],Y=[this.node2],q=0;while(q<K.length){var Z=K[q];q++,J.set(Z.dataIndex,!0);var X=Z.inEdges;for(var W=0,F=X.length,H=void 0,B=void 0;W<F;W++)if(H=Z.inEdges[W],B=H.dataIndex,B>=0&&!Q.hasKey(B))Q.set(B,!0),K.push(H.node1)}q=0;while(q<Y.length){var z=Y[q];q++,J.set(z.dataIndex,!0);var A=z.outEdges;for(var W=0,F=A.length,R=void 0,G=void 0;W<F;W++)if(R=z.outEdges[W],G=R.dataIndex,G>=0&&!Q.hasKey(G))Q.set(G,!0),Y.push(R.node2)}return{edge:Q.keys(),node:J.keys()}},$}();function Fj0($,Q){return{getValue:function(J){var K=this[$][Q];return K.getStore().get(K.getDimensionIndex(J||"value"),this.dataIndex)},setVisual:function(J,K){this.dataIndex>=0&&this[$][Q].setItemVisual(this.dataIndex,J,K)},getVisual:function(J){return this[$][Q].getItemVisual(this.dataIndex,J)},setLayout:function(J,K){this.dataIndex>=0&&this[$][Q].setItemLayout(this.dataIndex,J,K)},getLayout:function(){return this[$][Q].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[$][Q].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[$][Q].getRawIndex(this.dataIndex)}}}_5(UF,Fj0("hostGraph","data"));_5(Wj0,Fj0("hostGraph","edgeData"));var Uj0=RF1;function HF($,Q,J,K,Y){var q=new Uj0(K);for(var Z=0;Z<$.length;Z++)q.addNode(u5($[Z].id,$[Z].name,Z),Z);var X=[],W=[],F=0;for(var Z=0;Z<Q.length;Z++){var H=Q[Z],B=H.source,z=H.target;if(q.addEdge(B,z,F))W.push(H),X.push(u5(q6(H.id,null),B+" > "+z)),F++}var A=J.get("coordinateSystem"),R;if(A==="cartesian2d"||A==="polar"||A==="matrix")R=X8($,J);else{var G=ZQ.get(A),w=G?G.dimensions||[]:[];if(o0(w,"value")<0)w.concat(["value"]);var T=HQ($,{coordDimensions:w,encodeDefine:J.getEncode()}).dimensions;R=new S6(T,J),R.initData($)}var D=new S6(["value"],J);return D.initData(W,X),Y&&Y(R,D),yv({mainData:R,struct:q,structAttr:"graph",datas:{node:R,edge:D},datasAttr:{node:"data",edge:"edgeData"}}),q.update(),q}var GF1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.hasSymbolVisual=!0,J}return Q.prototype.init=function(J){$.prototype.init.apply(this,arguments);var K=this;function Y(){return K._categoriesData}this.legendVisualProvider=new W$(Y,Y),this.fillDataTextStyle(J.edges||J.links),this._updateCategoriesData()},Q.prototype.mergeOption=function(J){$.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(J.edges||J.links),this._updateCategoriesData()},Q.prototype.mergeDefaultAndTheme=function(J){$.prototype.mergeDefaultAndTheme.apply(this,arguments),u9(J,"edgeLabel",["show"])},Q.prototype.getInitialData=function(J,K){var Y=J.edges||J.links||[],q=J.data||J.nodes||[],Z=this;if(q&&Y){nk0(this);var X=HF(q,Y,this,!0,W);return v(X.edges,function(F){lk0(F.node1,F.node2,this,F.dataIndex)},this),X.data}function W(F,H){F.wrapMethod("getItemModel",function(R){var G=Z._categoriesModels,w=R.getShallow("category"),T=G[w];if(T)T.parentModel=R.parentModel,R.parentModel=T;return R});var B=D1.prototype.getModel;function z(R,G){var w=B.call(this,R,G);return w.resolveParentPath=A,w}H.wrapMethod("getItemModel",function(R){return R.resolveParentPath=A,R.getModel=z,R});function A(R){if(R&&(R[0]==="label"||R[1]==="label")){var G=R.slice();if(R[0]==="label")G[0]="edgeLabel";else if(R[1]==="label")G[1]="edgeLabel";return G}return R}}},Q.prototype.getGraph=function(){return this.getData().graph},Q.prototype.getEdgeData=function(){return this.getGraph().edgeData},Q.prototype.getCategoriesData=function(){return this._categoriesData},Q.prototype.formatTooltip=function(J,K,Y){if(Y==="edge"){var q=this.getData(),Z=this.getDataParams(J,Y),X=q.graph.getEdgeByIndex(J),W=q.getName(X.node1.dataIndex),F=q.getName(X.node2.dataIndex),H=[];return W!=null&&H.push(W),F!=null&&H.push(F),x5("nameValue",{name:H.join(" > "),value:Z.value,noValue:Z.value==null})}var B=Zh({series:this,dataIndex:J,multipleSeries:K});return B},Q.prototype._updateCategoriesData=function(){var J=K0(this.option.categories||[],function(Y){return Y.value!=null?Y:Q0({value:0},Y)}),K=new S6(["value"],this);K.initData(J),this._categoriesData=K,this._categoriesModels=K.mapArray(function(Y){return K.getItemModel(Y)})},Q.prototype.setZoom=function(J){this.option.zoom=J},Q.prototype.setCenter=function(J){this.option.center=J},Q.prototype.isAnimationEnabled=function(){return $.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},Q.type="series.graph",Q.dependencies=["grid","polar","geo","singleAxis","calendar"],Q.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:0.1,friction:0.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:0.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:a.color.neutral50,width:1,opacity:0.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:a.color.primary}}},Q}(m1),Hj0=GF1;function vs($){$.registerChartView(Xj0),$.registerSeriesModel(Hj0),$.registerProcessor(Fs),$.registerVisual(Us),$.registerVisual(Hs),$.registerLayout(zs),$.registerLayout($.PRIORITY.VISUAL.POST_CHART_LAYOUT,Rs),$.registerLayout(Gs),$.registerCoordinateSystem("graphView",{dimensions:a9.dimensions,create:ws}),$.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},m5),$.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},m5),$.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(Q,J,K){J.eachComponent({mainType:"series",query:Q},function(Y){var q=K.getViewOfSeriesModel(Y);if(q){if(Q.dx!=null&&Q.dy!=null)q.updateViewOnPan(Y,K,Q);if(Q.zoom!=null&&Q.originX!=null&&Q.originY!=null)q.updateViewOnZoom(Y,K,Q)}var Z=Y.coordinateSystem,X=iZ(Z,Q,Y.get("scaleLimit"));Y.setCenter&&Y.setCenter(X.center),Y.setZoom&&Y.setZoom(X.zoom)})})}var wF1=function($){x(Q,$);function Q(J,K,Y){var q=$.call(this)||this;m0(q).dataType="node",q.z2=2;var Z=new w1;return q.setTextContent(Z),q.updateData(J,K,Y,!0),q}return Q.prototype.updateData=function(J,K,Y,q){var Z=this,X=J.graph.getNodeByIndex(K),W=J.hostModel,F=X.getModel(),H=F.getModel("emphasis"),B=J.getItemLayout(K),z=Q0(P4(F.getModel("itemStyle"),B,!0),B),A=this;if(isNaN(z.startAngle)){A.setShape(z);return}if(q)A.setShape(z);else V1(A,{shape:z},W,K);var R=Q0(P4(F.getModel("itemStyle"),B,!0),B);Z.setShape(R),Z.useStyle(J.getItemVisual(K,"style")),M5(Z,F),this._updateLabel(W,F,X),J.setItemGraphicEl(K,A),M5(A,F,"itemStyle");var G=H.get("focus");u1(this,G==="adjacency"?X.getAdjacentDataIndices():G,H.get("blurScope"),H.get("disabled"))},Q.prototype._updateLabel=function(J,K,Y){var q=this.getTextContent(),Z=Y.getLayout(),X=(Z.startAngle+Z.endAngle)/2,W=Math.cos(X),F=Math.sin(X),H=K.getModel("label");q.ignore=!H.get("show");var B=k5(K),z=Y.getVisual("style");v5(q,B,{labelFetcher:{getFormattedLabel:function(D,P,j,E,L,h){return J.getFormattedLabel(D,P,"node",E,B6(L,B.normal&&B.normal.get("formatter"),K.get("name")),h)}},labelDataIndex:Y.dataIndex,defaultText:Y.dataIndex+"",inheritColor:z.fill,defaultOpacity:z.opacity,defaultOutsidePosition:"startArc"});var A=H.get("position")||"outside",R=H.get("distance")||0,G;if(A==="outside")G=Z.r+R;else G=(Z.r+Z.r0)/2;this.textConfig={inside:A!=="outside"};var w=A!=="outside"?H.get("align")||"center":W>0?"left":"right",T=A!=="outside"?H.get("verticalAlign")||"middle":F>0?"top":"bottom";q.attr({x:W*G+Z.cx,y:F*G+Z.cy,rotation:0,style:{align:w,verticalAlign:T}})},Q}(I6),Ss=wF1;var oz5=function(){function $(){this.s1=[0,0],this.s2=[0,0],this.sStartAngle=0,this.sEndAngle=0,this.t1=[0,0],this.t2=[0,0],this.tStartAngle=0,this.tEndAngle=0,this.cx=0,this.cy=0,this.r=0,this.clockwise=!0}return $}();var Bj0=function($){x(Q,$);function Q(J,K,Y,q){var Z=$.call(this)||this;return m0(Z).dataType="edge",Z.updateData(J,K,Y,q,!0),Z}return Q.prototype.buildPath=function(J,K){J.moveTo(K.s1[0],K.s1[1]);var Y=0.7,q=K.clockwise;J.arc(K.cx,K.cy,K.r,K.sStartAngle,K.sEndAngle,!q),J.bezierCurveTo((K.cx-K.s2[0])*Y+K.s2[0],(K.cy-K.s2[1])*Y+K.s2[1],(K.cx-K.t1[0])*Y+K.t1[0],(K.cy-K.t1[1])*Y+K.t1[1],K.t1[0],K.t1[1]),J.arc(K.cx,K.cy,K.r,K.tStartAngle,K.tEndAngle,!q),J.bezierCurveTo((K.cx-K.t2[0])*Y+K.t2[0],(K.cy-K.t2[1])*Y+K.t2[1],(K.cx-K.s1[0])*Y+K.s1[0],(K.cy-K.s1[1])*Y+K.s1[1],K.s1[0],K.s1[1]),J.closePath()},Q.prototype.updateData=function(J,K,Y,q,Z){var X=J.hostModel,W=K.graph.getEdgeByIndex(Y),F=W.getLayout(),H=W.node1.getModel(),B=K.getItemModel(W.dataIndex),z=B.getModel("lineStyle"),A=B.getModel("emphasis"),R=A.get("focus"),G=Q0(P4(H.getModel("itemStyle"),F,!0),F),w=this;if(isNaN(G.sStartAngle)||isNaN(G.tStartAngle)){w.setShape(G);return}if(Z)w.setShape(G),Nj0(w,W,J,z);else t6(w),Nj0(w,W,J,z),V1(w,{shape:G},X,Y);u1(this,R==="adjacency"?W.getAdjacentDataIndices():R,A.get("blurScope"),A.get("disabled")),M5(w,B,"lineStyle"),K.setItemGraphicEl(W.dataIndex,w)},Q}(t0);function Nj0($,Q,J,K){var{node1:Y,node2:q}=Q,Z=$.style;$.setStyle(K.getLineStyle());var X=K.get("color");switch(X){case"source":Z.fill=J.getItemVisual(Y.dataIndex,"style").fill,Z.decal=Y.getVisual("style").decal;break;case"target":Z.fill=J.getItemVisual(q.dataIndex,"style").fill,Z.decal=q.getVisual("style").decal;break;case"gradient":var W=J.getItemVisual(Y.dataIndex,"style").fill,F=J.getItemVisual(q.dataIndex,"style").fill;if(B0(W)&&B0(F)){var H=$.shape,B=(H.s1[0]+H.s2[0])/2,z=(H.s1[1]+H.s2[1])/2,A=(H.t1[0]+H.t2[0])/2,R=(H.t1[1]+H.t2[1])/2;Z.fill=new o3(B,z,A,R,[{offset:0,color:W},{offset:1,color:F}],!0)}break}}var OF1=Math.PI/180,TF1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(J,K){},Q.prototype.render=function(J,K,Y){var q=J.getData(),Z=this._data,X=this.group,W=-J.get("startAngle")*OF1;if(q.diff(Z).add(function(H){var B=q.getItemLayout(H);if(B){var z=new Ss(q,H,W);m0(z).dataIndex=H,X.add(z)}}).update(function(H,B){var z=Z.getItemGraphicEl(B),A=q.getItemLayout(H);if(!A){z&&J9(z,J,B);return}if(!z)z=new Ss(q,H,W);else z.updateData(q,H,W);X.add(z)}).remove(function(H){var B=Z.getItemGraphicEl(H);B&&J9(B,J,H)}).execute(),!Z){var F=J.get("center");this.group.scaleX=0.01,this.group.scaleY=0.01,this.group.originX=h0(F[0],Y.getWidth()),this.group.originY=h0(F[1],Y.getHeight()),t1(this.group,{scaleX:1,scaleY:1},J)}this._data=q,this.renderEdges(J,W)},Q.prototype.renderEdges=function(J,K){var Y=J.getData(),q=J.getEdgeData(),Z=this._edgeData,X=this.group;q.diff(Z).add(function(W){var F=new Bj0(Y,q,W,K);m0(F).dataIndex=W,X.add(F)}).update(function(W,F){var H=Z.getItemGraphicEl(F);H.updateData(Y,q,W,K),X.add(H)}).remove(function(W){var F=Z.getItemGraphicEl(W);F&&J9(F,J,W)}).execute(),this._edgeData=q},Q.prototype.dispose=function(){},Q.type="chord",Q}(_1),zj0=TF1;var DF1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(J){$.prototype.init.apply(this,arguments),this.fillDataTextStyle(J.edges||J.links),this.legendVisualProvider=new W$(O0(this.getData,this),O0(this.getRawData,this))},Q.prototype.mergeOption=function(J){$.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(J.edges||J.links)},Q.prototype.getInitialData=function(J,K){var Y=J.edges||J.links||[],q=J.data||J.nodes||[];if(q&&Y){var Z=HF(q,Y,this,!0,X);return Z.data}function X(W,F){var H=D1.prototype.getModel;function B(A,R){var G=H.call(this,A,R);return G.resolveParentPath=z,G}F.wrapMethod("getItemModel",function(A){return A.resolveParentPath=z,A.getModel=B,A});function z(A){if(A&&(A[0]==="label"||A[1]==="label")){var R=A.slice();if(A[0]==="label")R[0]="edgeLabel";else if(A[1]==="label")R[1]="edgeLabel";return R}return A}}},Q.prototype.getGraph=function(){return this.getData().graph},Q.prototype.getEdgeData=function(){return this.getGraph().edgeData},Q.prototype.formatTooltip=function(J,K,Y){var q=this.getDataParams(J,Y);if(Y==="edge"){var Z=this.getData(),X=Z.graph.getEdgeByIndex(J),W=Z.getName(X.node1.dataIndex),F=Z.getName(X.node2.dataIndex),H=[];return W!=null&&H.push(W),F!=null&&H.push(F),x5("nameValue",{name:H.join(" > "),value:q.value,noValue:q.value==null})}return x5("nameValue",{name:q.name,value:q.value,noValue:q.value==null})},Q.prototype.getDataParams=function(J,K){var Y=$.prototype.getDataParams.call(this,J,K);if(K==="node"){var q=this.getData(),Z=this.getGraph().getNodeByIndex(J);if(Y.name==null)Y.name=q.getName(J);if(Y.value==null){var X=Z.getLayout().value;Y.value=X}}return Y},Q.type="series.chord",Q.defaultOption={z:2,coordinateSystem:"none",legendHoverLink:!0,colorBy:"data",left:0,top:0,right:0,bottom:0,width:null,height:null,center:["50%","50%"],radius:["70%","80%"],clockwise:!0,startAngle:90,endAngle:"auto",minAngle:0,padAngle:3,itemStyle:{borderRadius:[0,0,5,5]},lineStyle:{width:0,color:"source",opacity:0.2},label:{show:!0,position:"outside",distance:5},emphasis:{focus:"adjacency",lineStyle:{opacity:0.5}}},Q}(m1),Aj0=DF1;var _s=Math.PI/180;function fs($,Q){$.eachSeriesByType("chord",function(J){CF1(J,Q)})}function CF1($,Q){var J=$.getData(),K=J.graph,Y=$.getEdgeData(),q=Y.count();if(!q)return;var Z=gL($,Q),X=Z.cx,W=Z.cy,F=Z.r,H=Z.r0,B=Math.max(($.get("padAngle")||0)*_s,0),z=Math.max(($.get("minAngle")||0)*_s,0),A=-$.get("startAngle")*_s,R=A+Math.PI*2,G=$.get("clockwise"),w=G?1:-1,T=[A,R];DW(T,!G);var D=T[0],P=T[1],j=P-D,E=J.getSum("value")===0&&Y.getSum("value")===0,L=[],h=0;K.eachEdge(function(n){var e=E?1:n.getValue("value");if(E&&(e>0||z))h+=2;var Z0=n.node1.dataIndex,q0=n.node2.dataIndex;L[Z0]=(L[Z0]||0)+e,L[q0]=(L[q0]||0)+e});var _=0;if(K.eachNode(function(n){var e=n.getValue("value");if(!isNaN(e))L[n.dataIndex]=Math.max(e,L[n.dataIndex]||0);if(!E&&(L[n.dataIndex]>0||z))h++;_+=L[n.dataIndex]||0}),h===0||_===0)return;if(B*h>=Math.abs(j))B=Math.max(0,(Math.abs(j)-z*h)/h);if((B+z)*h>=Math.abs(j))z=(Math.abs(j)-B*h)/h;var S=(j-B*h*w)/_,I=0,M=0,y=0,b=1/0;K.eachNode(function(n){var e=L[n.dataIndex]||0,Z0=S*(_?e:1)*w;if(Math.abs(Z0)<z)I+=z-Math.abs(Z0);else b=Math.min(b,Math.abs(Z0)-z),M+=Math.abs(Z0)-z,y+=Math.abs(Z0);n.setLayout({angle:Z0,value:e})});var u=!1;if(I>M){var c=I/M;K.eachNode(function(n){var e=n.getLayout().angle;if(Math.abs(e)>=z)n.setLayout({angle:e*c,ratio:c},!0);else n.setLayout({angle:z,ratio:z===0?1:e/z},!0)})}else K.eachNode(function(n){if(u)return;var e=n.getLayout().angle,Z0=Math.min(e/y,1),q0=Z0*I;if(e-q0<z)u=!0});var m=I;K.eachNode(function(n){if(m<=0)return;var e=n.getLayout().angle;if(e>z&&z>0){var Z0=u?1:Math.min(e/y,1),q0=e-z,k0=Math.min(q0,Math.min(m,I*Z0));m-=k0,n.setLayout({angle:e-k0,ratio:(e-k0)/e},!0)}else if(z>0)n.setLayout({angle:z,ratio:e===0?1:z/e},!0)});var i=D,o=[];K.eachNode(function(n){var e=Math.max(n.getLayout().angle,z);n.setLayout({cx:X,cy:W,r0:H,r:F,startAngle:i,endAngle:i+e*w,clockwise:G},!0),o[n.dataIndex]=i,i+=(e+B)*w}),K.eachEdge(function(n){var e=E?1:n.getValue("value"),Z0=S*(_?e:1)*w,q0=n.node1.dataIndex,k0=o[q0]||0,c0=Math.abs((n.node1.getLayout().ratio||1)*Z0),J1=k0+c0*w,W1=[X+H*Math.cos(k0),W+H*Math.sin(k0)],h1=[X+H*Math.cos(J1),W+H*Math.sin(J1)],X1=n.node2.dataIndex,r0=o[X1]||0,G1=Math.abs((n.node2.getLayout().ratio||1)*Z0),l0=r0+G1*w,z1=[X+H*Math.cos(r0),W+H*Math.sin(r0)],X5=[X+H*Math.cos(l0),W+H*Math.sin(l0)];n.setLayout({s1:W1,s2:h1,sStartAngle:k0,sEndAngle:J1,t1:z1,t2:X5,tStartAngle:r0,tEndAngle:l0,cx:X,cy:W,r:H,value:e,clockwise:G}),o[q0]=J1,o[X1]=l0})}function Is($){$.registerChartView(zj0),$.registerSeriesModel(Aj0),$.registerLayout($.PRIORITY.VISUAL.POST_CHART_LAYOUT,fs),$.registerProcessor(i9("chord"))}var PF1=function(){function $(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return $}(),kF1=function($){x(Q,$);function Q(J){var K=$.call(this,J)||this;return K.type="pointer",K}return Q.prototype.getDefaultShape=function(){return new PF1},Q.prototype.buildPath=function(J,K){var{cos:Y,sin:q}=Math,Z=K.r,X=K.width,W=K.angle,F=K.x-Y(W)*X*(X>=Z/3?1:2),H=K.y-q(W)*X*(X>=Z/3?1:2);W=K.angle-Math.PI/2,J.moveTo(F,H),J.lineTo(K.x+Y(W)*X,K.y+q(W)*X),J.lineTo(K.x+Y(K.angle)*Z,K.y+q(K.angle)*Z),J.lineTo(K.x-Y(W)*X,K.y-q(W)*X),J.lineTo(F,H)},Q}(t0),Vj0=kF1;function jF1($,Q){var J=$.get("center"),K=Q.getWidth(),Y=Q.getHeight(),q=Math.min(K,Y),Z=h0(J[0],Q.getWidth()),X=h0(J[1],Q.getHeight()),W=h0($.get("radius"),q/2);return{cx:Z,cy:X,r:W}}function iv($,Q){var J=$==null?"":$+"";if(Q){if(B0(Q))J=Q.replace("{value}",J);else if(v0(Q))J=Q($)}return J}var EF1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){this.group.removeAll();var q=J.get(["axisLine","lineStyle","color"]),Z=jF1(J,Y);this._renderMain(J,K,Y,q,Z),this._data=J.getData()},Q.prototype.dispose=function(){},Q.prototype._renderMain=function(J,K,Y,q,Z){var X=this.group,W=J.get("clockwise"),F=-J.get("startAngle")/180*Math.PI,H=-J.get("endAngle")/180*Math.PI,B=J.getModel("axisLine"),z=B.get("roundCap"),A=z?$B:I6,R=B.get("show"),G=B.getModel("lineStyle"),w=G.get("width"),T=[F,H];DW(T,!W),F=T[0],H=T[1];var D=H-F,P=F,j=[];for(var E=0;R&&E<q.length;E++){var L=Math.min(Math.max(q[E][0],0),1);H=F+D*L;var h=new A({shape:{startAngle:P,endAngle:H,cx:Z.cx,cy:Z.cy,clockwise:W,r0:Z.r-w,r:Z.r},silent:!0});h.setStyle({fill:q[E][1]}),h.setStyle(G.getLineStyle(["color","width"])),j.push(h),P=H}j.reverse(),v(j,function(S){return X.add(S)});var _=function(S){if(S<=0)return q[0][1];var I;for(I=0;I<q.length;I++)if(q[I][0]>=S&&(I===0?0:q[I-1][0])<S)return q[I][1];return q[I-1][1]};this._renderTicks(J,K,Y,_,Z,F,H,W,w),this._renderTitleAndDetail(J,K,Y,_,Z),this._renderAnchor(J,Z),this._renderPointer(J,K,Y,_,Z,F,H,W,w)},Q.prototype._renderTicks=function(J,K,Y,q,Z,X,W,F,H){var B=this.group,z=Z.cx,A=Z.cy,R=Z.r,G=+J.get("min"),w=+J.get("max"),T=J.getModel("splitLine"),D=J.getModel("axisTick"),P=J.getModel("axisLabel"),j=J.get("splitNumber"),E=D.get("splitNumber"),L=h0(T.get("length"),R),h=h0(D.get("length"),R),_=X,S=(W-X)/j,I=S/E,M=T.getModel("lineStyle").getLineStyle(),y=D.getModel("lineStyle").getLineStyle(),b=T.get("distance"),u,c;for(var m=0;m<=j;m++){if(u=Math.cos(_),c=Math.sin(_),T.get("show")){var i=b?b+H:H,o=new l5({shape:{x1:u*(R-i)+z,y1:c*(R-i)+A,x2:u*(R-L-i)+z,y2:c*(R-L-i)+A},style:M,silent:!0});if(M.stroke==="auto")o.setStyle({stroke:q(m/j)});B.add(o)}if(P.get("show")){var i=P.get("distance")+b,n=iv(d5(m/j*(w-G)+G),P.get("formatter")),e=q(m/j),Z0=u*(R-L-i)+z,q0=c*(R-L-i)+A,k0=P.get("rotate"),c0=0;if(k0==="radial"){if(c0=-_+2*Math.PI,c0>Math.PI/2)c0+=Math.PI}else if(k0==="tangential")c0=-_-Math.PI/2;else if(U1(k0))c0=k0*Math.PI/180;if(c0===0)B.add(new w1({style:Z5(P,{text:n,x:Z0,y:q0,verticalAlign:c<-0.8?"top":c>0.8?"bottom":"middle",align:u<-0.4?"left":u>0.4?"right":"center"},{inheritColor:e}),silent:!0}));else B.add(new w1({style:Z5(P,{text:n,x:Z0,y:q0,verticalAlign:"middle",align:"center"},{inheritColor:e}),silent:!0,originX:Z0,originY:q0,rotation:c0}))}if(D.get("show")&&m!==j){var i=D.get("distance");i=i?i+H:H;for(var J1=0;J1<=E;J1++){u=Math.cos(_),c=Math.sin(_);var W1=new l5({shape:{x1:u*(R-i)+z,y1:c*(R-i)+A,x2:u*(R-h-i)+z,y2:c*(R-h-i)+A},silent:!0,style:y});if(y.stroke==="auto")W1.setStyle({stroke:q((m+J1/E)/j)});B.add(W1),_+=I}_-=I}else _+=S}},Q.prototype._renderPointer=function(J,K,Y,q,Z,X,W,F,H){var B=this.group,z=this._data,A=this._progressEls,R=[],G=J.get(["pointer","show"]),w=J.getModel("progress"),T=w.get("show"),D=J.getData(),P=D.mapDimension("value"),j=+J.get("min"),E=+J.get("max"),L=[j,E],h=[X,W];function _(I,M){var y=D.getItemModel(I),b=y.getModel("pointer"),u=h0(b.get("width"),Z.r),c=h0(b.get("length"),Z.r),m=J.get(["pointer","icon"]),i=b.get("offsetCenter"),o=h0(i[0],Z.r),n=h0(i[1],Z.r),e=b.get("keepAspect"),Z0;if(m)Z0=j5(m,o-u/2,n-c,u,c,null,e);else Z0=new Vj0({shape:{angle:-Math.PI/2,width:u,r:c,x:o,y:n}});return Z0.rotation=-(M+Math.PI/2),Z0.x=Z.cx,Z0.y=Z.cy,Z0}function S(I,M){var y=w.get("roundCap"),b=y?$B:I6,u=w.get("overlap"),c=u?w.get("width"):H/D.count(),m=u?Z.r-c:Z.r-(I+1)*c,i=u?Z.r:Z.r-I*c,o=new b({shape:{startAngle:X,endAngle:M,cx:Z.cx,cy:Z.cy,clockwise:F,r0:m,r:i}});return u&&(o.z2=a1(D.get(P,I),[j,E],[100,0],!0)),o}if(T||G)D.diff(z).add(function(I){var M=D.get(P,I);if(G){var y=_(I,X);t1(y,{rotation:-((isNaN(+M)?h[0]:a1(M,L,h,!0))+Math.PI/2)},J),B.add(y),D.setItemGraphicEl(I,y)}if(T){var b=S(I,X),u=w.get("clip");t1(b,{shape:{endAngle:a1(M,L,h,u)}},J),B.add(b),aR(J.seriesIndex,D.dataType,I,b),R[I]=b}}).update(function(I,M){var y=D.get(P,I);if(G){var b=z.getItemGraphicEl(M),u=b?b.rotation:X,c=_(I,u);c.rotation=u,V1(c,{rotation:-((isNaN(+y)?h[0]:a1(y,L,h,!0))+Math.PI/2)},J),B.add(c),D.setItemGraphicEl(I,c)}if(T){var m=A[M],i=m?m.shape.endAngle:X,o=S(I,i),n=w.get("clip");V1(o,{shape:{endAngle:a1(y,L,h,n)}},J),B.add(o),aR(J.seriesIndex,D.dataType,I,o),R[I]=o}}).execute(),D.each(function(I){var M=D.getItemModel(I),y=M.getModel("emphasis"),b=y.get("focus"),u=y.get("blurScope"),c=y.get("disabled");if(G){var m=D.getItemGraphicEl(I),i=D.getItemVisual(I,"style"),o=i.fill;if(m instanceof n5){var n=m.style;m.useStyle(Q0({image:n.image,x:n.x,y:n.y,width:n.width,height:n.height},i))}else m.useStyle(i),m.type!=="pointer"&&m.setColor(o);if(m.setStyle(M.getModel(["pointer","itemStyle"]).getItemStyle()),m.style.fill==="auto")m.setStyle("fill",q(a1(D.get(P,I),L,[0,1],!0)));m.z2EmphasisLift=0,M5(m,M),u1(m,b,u,c)}if(T){var e=R[I];e.useStyle(D.getItemVisual(I,"style")),e.setStyle(M.getModel(["progress","itemStyle"]).getItemStyle()),e.z2EmphasisLift=0,M5(e,M),u1(e,b,u,c)}}),this._progressEls=R},Q.prototype._renderAnchor=function(J,K){var Y=J.getModel("anchor"),q=Y.get("show");if(q){var Z=Y.get("size"),X=Y.get("icon"),W=Y.get("offsetCenter"),F=Y.get("keepAspect"),H=j5(X,K.cx-Z/2+h0(W[0],K.r),K.cy-Z/2+h0(W[1],K.r),Z,Z,null,F);H.z2=Y.get("showAbove")?1:0,H.setStyle(Y.getModel("itemStyle").getItemStyle()),this.group.add(H)}},Q.prototype._renderTitleAndDetail=function(J,K,Y,q,Z){var X=this,W=J.getData(),F=W.mapDimension("value"),H=+J.get("min"),B=+J.get("max"),z=new _0,A=[],R=[],G=J.isAnimationEnabled(),w=J.get(["pointer","showAbove"]);W.diff(this._data).add(function(T){A[T]=new w1({silent:!0}),R[T]=new w1({silent:!0})}).update(function(T,D){A[T]=X._titleEls[D],R[T]=X._detailEls[D]}).execute(),W.each(function(T){var D=W.getItemModel(T),P=W.get(F,T),j=new _0,E=q(a1(P,[H,B],[0,1],!0)),L=D.getModel("title");if(L.get("show")){var h=L.get("offsetCenter"),_=Z.cx+h0(h[0],Z.r),S=Z.cy+h0(h[1],Z.r),I=A[T];I.attr({z2:w?0:2,style:Z5(L,{x:_,y:S,text:W.getName(T),align:"center",verticalAlign:"middle"},{inheritColor:E})}),j.add(I)}var M=D.getModel("detail");if(M.get("show")){var y=M.get("offsetCenter"),b=Z.cx+h0(y[0],Z.r),u=Z.cy+h0(y[1],Z.r),c=h0(M.get("width"),Z.r),m=h0(M.get("height"),Z.r),i=J.get(["progress","show"])?W.getItemVisual(T,"style").fill:E,I=R[T],o=M.get("formatter");I.attr({z2:w?0:2,style:Z5(M,{x:b,y:u,text:iv(P,o),width:isNaN(c)?null:c,height:isNaN(m)?null:m,align:"center",verticalAlign:"middle"},{inheritColor:i})}),BL(I,{normal:M},P,function(e){return iv(e,o)}),G&&zL(I,T,W,J,{getFormattedLabel:function(e,Z0,q0,k0,c0,J1){return iv(J1?J1.interpolatedValue:P,o)}}),j.add(I)}z.add(j)}),this.group.add(z),this._titleEls=A,this._detailEls=R},Q.type="gauge",Q}(_1),Rj0=EF1;var LF1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.visualStyleAccessPath="itemStyle",J}return Q.prototype.getInitialData=function(J,K){return s9(this,["value"])},Q.type="series.gauge",Q.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,a.color.neutral10]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:a.color.axisTick,width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:a.color.axisTickMinor,width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:a.color.axisLabel,fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:a.color.neutral00,borderWidth:0,borderColor:a.color.theme[0]}},title:{show:!0,offsetCenter:[0,"20%"],color:a.color.secondary,fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:a.color.transparent,borderWidth:0,borderColor:a.color.neutral40,width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:a.color.primary,fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},Q}(m1),Gj0=LF1;function Ms($){$.registerChartView(Rj0),$.registerSeriesModel(Gj0)}var hF1=["itemStyle","opacity"],vF1=function($){x(Q,$);function Q(J,K){var Y=$.call(this)||this,q=Y,Z=new K6,X=new w1;return q.setTextContent(X),Y.setTextGuideLine(Z),Y.updateData(J,K,!0),Y}return Q.prototype.updateData=function(J,K,Y){var q=this,Z=J.hostModel,X=J.getItemModel(K),W=J.getItemLayout(K),F=X.getModel("emphasis"),H=X.get(hF1);if(H=H==null?1:H,!Y)t6(q);if(q.useStyle(J.getItemVisual(K,"style")),q.style.lineJoin="round",Y)q.setShape({points:W.points}),q.style.opacity=0,t1(q,{style:{opacity:H}},Z,K);else V1(q,{style:{opacity:H},shape:{points:W.points}},Z,K);M5(q,X),this._updateLabel(J,K),u1(this,F.get("focus"),F.get("blurScope"),F.get("disabled"))},Q.prototype._updateLabel=function(J,K){var Y=this,q=this.getTextGuideLine(),Z=Y.getTextContent(),X=J.hostModel,W=J.getItemModel(K),F=J.getItemLayout(K),H=F.label,B=J.getItemVisual(K,"style"),z=B.fill;v5(Z,k5(W),{labelFetcher:J.hostModel,labelDataIndex:K,defaultOpacity:B.opacity,defaultText:J.getName(K)},{normal:{align:H.textAlign,verticalAlign:H.verticalAlign}});var A=W.getModel("label"),R=A.get("color"),G=R==="inherit"?z:null;Y.setTextConfig({local:!0,inside:!!H.inside,insideStroke:G,outsideFill:G});var w=H.linePoints;q.setShape({points:w}),Y.textGuideLineConfig={anchor:w?new e0(w[0][0],w[0][1]):null},V1(Z,{style:{x:H.x,y:H.y}},X,K),Z.attr({rotation:H.rotation,originX:H.x,originY:H.y,z2:10}),sN(Y,oN(W),{stroke:z})},Q}(z6),SF1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.ignoreLabelLineUpdate=!0,J}return Q.prototype.render=function(J,K,Y){var q=J.getData(),Z=this._data,X=this.group;q.diff(Z).add(function(W){var F=new vF1(q,W);q.setItemGraphicEl(W,F),X.add(F)}).update(function(W,F){var H=Z.getItemGraphicEl(F);H.updateData(q,W),X.add(H),q.setItemGraphicEl(W,H)}).remove(function(W){var F=Z.getItemGraphicEl(W);J9(F,J,W)}).execute(),this._data=q},Q.prototype.remove=function(){this.group.removeAll(),this._data=null},Q.prototype.dispose=function(){},Q.type="funnel",Q}(_1),wj0=SF1;var _F1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(J){$.prototype.init.apply(this,arguments),this.legendVisualProvider=new W$(O0(this.getData,this),O0(this.getRawData,this)),this._defaultLabelLine(J)},Q.prototype.getInitialData=function(J,K){return s9(this,{coordDimensions:["value"],encodeDefaulter:a0(fN,this)})},Q.prototype._defaultLabelLine=function(J){u9(J,"labelLine",["show"]);var K=J.labelLine,Y=J.emphasis.labelLine;K.show=K.show&&J.label.show,Y.show=Y.show&&J.emphasis.label.show},Q.prototype.getDataParams=function(J){var K=this.getData(),Y=$.prototype.getDataParams.call(this,J),q=K.mapDimension("value"),Z=K.getSum(q);return Y.percent=!Z?0:+(K.get(q,J)/Z*100).toFixed(2),Y.$vars.push("percent"),Y},Q.type="series.funnel",Q.defaultOption={coordinateSystemUsage:"box",z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:65,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:a.color.neutral00,borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:a.color.primary}}},Q}(m1),Oj0=_F1;function fF1($,Q){var J=$.mapDimension("value"),K=$.mapArray(J,function(W){return W}),Y=[],q=Q==="ascending";for(var Z=0,X=$.count();Z<X;Z++)Y[Z]=Z;if(v0(Q))Y.sort(Q);else if(Q!=="none")Y.sort(function(W,F){return q?K[W]-K[F]:K[F]-K[W]});return Y}function IF1($){var Q=$.hostModel,J=Q.get("orient");$.each(function(K){var Y=$.getItemModel(K),q=Y.getModel("label"),Z=q.get("position"),X=Y.getModel("labelLine"),W=$.getItemLayout(K),F=W.points,H=Z==="inner"||Z==="inside"||Z==="center"||Z==="insideLeft"||Z==="insideRight",B,z,A,R;if(H){if(Z==="insideLeft")z=(F[0][0]+F[3][0])/2+5,A=(F[0][1]+F[3][1])/2,B="left";else if(Z==="insideRight")z=(F[1][0]+F[2][0])/2-5,A=(F[1][1]+F[2][1])/2,B="right";else z=(F[0][0]+F[1][0]+F[2][0]+F[3][0])/4,A=(F[0][1]+F[1][1]+F[2][1]+F[3][1])/4,B="center";R=[[z,A],[z,A]]}else{var G=void 0,w=void 0,T=void 0,D=void 0,P=X.get("length");if(J==="vertical"&&["top","bottom"].indexOf(Z)>-1)Z="left",console.warn("Position error: Funnel chart on vertical orient dose not support top and bottom.");if(J==="horizontal"&&["left","right"].indexOf(Z)>-1)Z="bottom",console.warn("Position error: Funnel chart on horizontal orient dose not support left and right.");if(Z==="left")G=(F[3][0]+F[0][0])/2,w=(F[3][1]+F[0][1])/2,T=G-P,z=T-5,B="right";else if(Z==="right")G=(F[1][0]+F[2][0])/2,w=(F[1][1]+F[2][1])/2,T=G+P,z=T+5,B="left";else if(Z==="top")G=(F[3][0]+F[0][0])/2,w=(F[3][1]+F[0][1])/2,D=w-P,A=D-5,B="center";else if(Z==="bottom")G=(F[1][0]+F[2][0])/2,w=(F[1][1]+F[2][1])/2,D=w+P,A=D+5,B="center";else if(Z==="rightTop")if(G=J==="horizontal"?F[3][0]:F[1][0],w=J==="horizontal"?F[3][1]:F[1][1],J==="horizontal")D=w-P,A=D-5,B="center";else T=G+P,z=T+5,B="top";else if(Z==="rightBottom")if(G=F[2][0],w=F[2][1],J==="horizontal")D=w+P,A=D+5,B="center";else T=G+P,z=T+5,B="bottom";else if(Z==="leftTop")if(G=F[0][0],w=J==="horizontal"?F[0][1]:F[1][1],J==="horizontal")D=w-P,A=D-5,B="center";else T=G-P,z=T-5,B="right";else if(Z==="leftBottom")if(G=J==="horizontal"?F[1][0]:F[3][0],w=J==="horizontal"?F[1][1]:F[2][1],J==="horizontal")D=w+P,A=D+5,B="center";else T=G-P,z=T-5,B="right";else if(G=(F[1][0]+F[2][0])/2,w=(F[1][1]+F[2][1])/2,J==="horizontal")D=w+P,A=D+5,B="center";else T=G+P,z=T+5,B="left";if(J==="horizontal")T=G,z=T;else D=w,A=D;R=[[G,w],[T,D]]}W.label={linePoints:R,x:z,y:A,verticalAlign:"middle",textAlign:B,inside:H}})}function bs($,Q){$.eachSeriesByType("funnel",function(J){var K=J.getData(),Y=K.mapDimension("value"),q=J.get("sort"),Z=D5(J,Q),X=e1(J.getBoxLayoutParams(),Z.refContainer),W=J.get("orient"),F=X.width,H=X.height,B=fF1(K,q),z=X.x,A=X.y,R=W==="horizontal"?[h0(J.get("minSize"),H),h0(J.get("maxSize"),H)]:[h0(J.get("minSize"),F),h0(J.get("maxSize"),F)],G=K.getDataExtent(Y),w=J.get("min"),T=J.get("max");if(w==null)w=Math.min(G[0],0);if(T==null)T=G[1];var D=J.get("funnelAlign"),P=J.get("gap"),j=W==="horizontal"?F:H,E=(j-P*(K.count()-1))/K.count(),L=function(c,m){if(W==="horizontal"){var i=K.get(Y,c)||0,o=a1(i,[w,T],R,!0),n=void 0;switch(D){case"top":n=A;break;case"center":n=A+(H-o)/2;break;case"bottom":n=A+(H-o);break}return[[m,n],[m,n+o]]}var e=K.get(Y,c)||0,Z0=a1(e,[w,T],R,!0),q0;switch(D){case"left":q0=z;break;case"center":q0=z+(F-Z0)/2;break;case"right":q0=z+F-Z0;break}return[[q0,m],[q0+Z0,m]]};if(q==="ascending"){if(E=-E,P=-P,W==="horizontal")z+=F;else A+=H;B=B.reverse()}for(var h=0;h<B.length;h++){var _=B[h],S=B[h+1],I=K.getItemModel(_);if(W==="horizontal"){var M=I.get(["itemStyle","width"]);if(M==null)M=E;else if(M=h0(M,F),q==="ascending")M=-M;var y=L(_,z),b=L(S,z+M);z+=M+P,K.setItemLayout(_,{points:y.concat(b.slice().reverse())})}else{var u=I.get(["itemStyle","height"]);if(u==null)u=E;else if(u=h0(u,H),q==="ascending")u=-u;var y=L(_,A),b=L(S,A+u);A+=u+P,K.setItemLayout(_,{points:y.concat(b.slice().reverse())})}}IF1(K)})}function gs($){$.registerChartView(wj0),$.registerSeriesModel(Oj0),$.registerLayout(bs),$.registerProcessor(i9("funnel"))}var MF1=0.3,bF1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J._dataGroup=new _0,J._initialized=!1,J}return Q.prototype.init=function(){this.group.add(this._dataGroup)},Q.prototype.render=function(J,K,Y,q){this._progressiveEls=null;var Z=this._dataGroup,X=J.getData(),W=this._data,F=J.coordinateSystem,H=F.dimensions,B=Dj0(J);X.diff(W).add(z).update(A).remove(R).execute();function z(w){var T=Tj0(X,Z,w,H,F);ys(T,X,w,B)}function A(w,T){var D=W.getItemGraphicEl(T),P=Cj0(X,w,H,F);X.setItemGraphicEl(w,D),V1(D,{shape:{points:P}},J,w),t6(D),ys(D,X,w,B)}function R(w){var T=W.getItemGraphicEl(w);Z.remove(T)}if(!this._initialized){this._initialized=!0;var G=gF1(F,J,function(){setTimeout(function(){Z.removeClipPath()})});Z.setClipPath(G)}this._data=X},Q.prototype.incrementalPrepareRender=function(J,K,Y){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},Q.prototype.incrementalRender=function(J,K,Y){var q=K.getData(),Z=K.coordinateSystem,X=Z.dimensions,W=Dj0(K),F=this._progressiveEls=[];for(var H=J.start;H<J.end;H++){var B=Tj0(q,this._dataGroup,H,X,Z);B.incremental=!0,ys(B,q,H,W),F.push(B)}},Q.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},Q.type="parallel",Q}(_1);function gF1($,Q,J){var K=$.model,Y=$.getRect(),q=new Q1({shape:{x:Y.x,y:Y.y,width:Y.width,height:Y.height}}),Z=K.get("layout")==="horizontal"?"width":"height";return q.setShape(Z,0),t1(q,{shape:{width:Y.width,height:Y.height}},Q,J),q}function Cj0($,Q,J,K){var Y=[];for(var q=0;q<J.length;q++){var Z=J[q],X=$.get($.mapDimension(Z),Q);if(!yF1(X,K.getAxis(Z).type))Y.push(K.dataToPoint(X,Z))}return Y}function Tj0($,Q,J,K,Y){var q=Cj0($,J,K,Y),Z=new K6({shape:{points:q},z2:10});return Q.add(Z),$.setItemGraphicEl(J,Z),Z}function Dj0($){var Q=$.get("smooth",!0);return Q===!0&&(Q=MF1),Q=l3(Q),N6(Q)&&(Q=0),{smooth:Q}}function ys($,Q,J,K){$.useStyle(Q.getItemVisual(J,"style")),$.style.fill=null,$.setShape("smooth",K.smooth);var Y=Q.getItemModel(J),q=Y.getModel("emphasis");M5($,Y,"lineStyle"),u1($,q.get("focus"),q.get("blurScope"),q.get("disabled"))}function yF1($,Q){return Q==="category"?$==null:$==null||isNaN($)}var Pj0=bF1;var xF1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.visualStyleAccessPath="lineStyle",J.visualDrawType="stroke",J}return Q.prototype.getInitialData=function(J,K){return X8(null,this,{useEncodeDefaulter:O0(cF1,null,this)})},Q.prototype.getRawIndicesByActiveState=function(J){var K=this.coordinateSystem,Y=this.getData(),q=[];return K.eachActiveState(Y,function(Z,X){if(J===Z)q.push(Y.getRawIndex(X))}),q},Q.type="series.parallel",Q.dependencies=["parallel"],Q.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:0.05,activeOpacity:1,lineStyle:{width:1,opacity:0.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},Q}(m1);function cF1($){var Q=$.ecModel.getComponent("parallel",$.get("parallelIndex"));if(!Q)return;var J={};return v(Q.dimensions,function(K){var Y=uF1(K);J[K]=Y}),J}function uF1($){return+$.replace("dim","")}var kj0=xF1;var mF1=["lineStyle","opacity"],pF1={seriesType:"parallel",reset:function($,Q){var J=$.coordinateSystem,K={normal:$.get(["lineStyle","opacity"]),active:$.get("activeOpacity"),inactive:$.get("inactiveOpacity")};return{progress:function(Y,q){J.eachActiveState(q,function(Z,X){var W=K[Z];if(Z==="normal"&&q.hasItemOption){var F=q.getItemModel(X).get(mF1,!0);F!=null&&(W=F)}var H=q.ensureUniqueItemVisual(X,"style");H.opacity=W},Y.start,Y.end)}}}},jj0=pF1;function xs($){dF1($),nF1($)}function dF1($){if($.parallel)return;var Q=!1;if(v($.series,function(J){if(J&&J.type==="parallel")Q=!0}),Q)$.parallel=[{}]}function nF1($){var Q=K5($.parallelAxis);v(Q,function(J){if(!I0(J))return;var K=J.parallelIndex||0,Y=K5($.parallel)[K];if(Y&&Y.parallelAxisDefault)K1(J,Y.parallelAxisDefault,!1)})}var lF1=5,rF1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){if(this._model=J,this._api=Y,!this._handlers)this._handlers={},v(iF1,function(q,Z){Y.getZr().on(Z,this._handlers[Z]=O0(q,this))},this);Y$(this,"_throttledDispatchExpand",J.get("axisExpandRate"),"fixRate")},Q.prototype.dispose=function(J,K){wY(this,"_throttledDispatchExpand"),v(this._handlers,function(Y,q){K.getZr().off(q,Y)}),this._handlers=null},Q.prototype._throttledDispatchExpand=function(J){this._dispatchExpand(J)},Q.prototype._dispatchExpand=function(J){J&&this._api.dispatchAction(Q0({type:"parallelAxisExpand"},J))},Q.type="parallel",Q}(p1),iF1={mousedown:function($){if(cs(this,"click"))this._mouseDownPoint=[$.offsetX,$.offsetY]},mouseup:function($){var Q=this._mouseDownPoint;if(cs(this,"click")&&Q){var J=[$.offsetX,$.offsetY],K=Math.pow(Q[0]-J[0],2)+Math.pow(Q[1]-J[1],2);if(K>lF1)return;var Y=this._model.coordinateSystem.getSlidedAxisExpandWindow([$.offsetX,$.offsetY]);Y.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:Y.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function($){if(this._mouseDownPoint||!cs(this,"mousemove"))return;var Q=this._model,J=Q.coordinateSystem.getSlidedAxisExpandWindow([$.offsetX,$.offsetY]),K=J.behavior;K==="jump"&&this._throttledDispatchExpand.debounceNextCall(Q.get("axisExpandDebounce")),this._throttledDispatchExpand(K==="none"?null:{axisExpandWindow:J.axisExpandWindow,animation:K==="jump"?null:{duration:0}})}};function cs($,Q){var J=$._model;return J.get("axisExpandable")&&J.get("axisExpandTriggerOn")===Q}var Ej0=rF1;var sF1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(){$.prototype.init.apply(this,arguments),this.mergeOption({})},Q.prototype.mergeOption=function(J){var K=this.option;J&&K1(K,J,!0),this._initDimensions()},Q.prototype.contains=function(J,K){var Y=J.get("parallelIndex");return Y!=null&&K.getComponent("parallel",Y)===this},Q.prototype.setAxisExpand=function(J){v(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(K){if(J.hasOwnProperty(K))this.option[K]=J[K]},this)},Q.prototype._initDimensions=function(){var J=this.dimensions=[],K=this.parallelAxisIndex=[],Y=j1(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(q){return(q.get("parallelIndex")||0)===this.componentIndex},this);v(Y,function(q){J.push("dim"+q.get("dim")),K.push(q.componentIndex)})},Q.type="parallel",Q.dependencies=["parallelAxis"],Q.layoutMode="box",Q.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-0.15,0.05,0.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},Q}(B1),Lj0=sF1;var oF1=function($){x(Q,$);function Q(J,K,Y,q,Z){var X=$.call(this,J,K,Y)||this;return X.type=q||"value",X.axisIndex=Z,X}return Q.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},Q}(W8),hj0=oF1;function j4($,Q,J,K,Y,q){$=$||0;var Z=J[1]-J[0];if(Y!=null)Y=BB(Y,[0,Z]);if(q!=null)q=Math.max(q,Y!=null?Y:0);if(K==="all"){var X=Math.abs(Q[1]-Q[0]);X=BB(X,[0,Z]),Y=q=BB(X,[Y,q]),K=0}Q[0]=BB(Q[0],J),Q[1]=BB(Q[1],J);var W=us(Q,K);Q[K]+=$;var F=Y||0,H=J.slice();W.sign<0?H[0]+=F:H[1]-=F,Q[K]=BB(Q[K],H);var B=us(Q,K);if(Y!=null&&(B.sign!==W.sign||B.span<Y))Q[1-K]=Q[K]+W.sign*Y;if(B=us(Q,K),q!=null&&B.span>q)Q[1-K]=Q[K]+B.sign*q;return Q}function us($,Q){var J=$[Q]-$[1-Q];return{span:Math.abs(J),sign:J>0?-1:J<0?1:Q?-1:1}}function BB($,Q){return Math.min(Q[1]!=null?Q[1]:1/0,Math.max(Q[0]!=null?Q[0]:-1/0,$))}var ms=v,_j0=Math.min,fj0=Math.max,vj0=Math.floor,aF1=Math.ceil,Sj0=d5,tF1=Math.PI,eF1=function(){function $(Q,J,K){this.type="parallel",this._axesMap=L0(),this._axesLayout={},this.dimensions=Q.dimensions,this._model=Q,this._init(Q,J,K)}return $.prototype._init=function(Q,J,K){var{dimensions:Y,parallelAxisIndex:q}=Q;ms(Y,function(Z,X){var W=q[X],F=J.getComponent("parallelAxis",W),H=this._axesMap.set(Z,new hj0(Z,cZ(F),[0,0],F.get("type"),W)),B=H.type==="category";H.onBand=B&&F.get("boundaryGap"),H.inverse=F.get("inverse"),F.axis=H,H.model=F,H.coordinateSystem=F.coordinateSystem=this},this)},$.prototype.update=function(Q,J){this._updateAxesFromSeries(this._model,Q)},$.prototype.containPoint=function(Q){var J=this._makeLayoutInfo(),K=J.axisBase,Y=J.layoutBase,q=J.pixelDimIndex,Z=Q[1-q],X=Q[q];return Z>=K&&Z<=K+J.axisLength&&X>=Y&&X<=Y+J.layoutLength},$.prototype.getModel=function(){return this._model},$.prototype._updateAxesFromSeries=function(Q,J){J.eachSeries(function(K){if(!Q.contains(K,J))return;var Y=K.getData();ms(this.dimensions,function(q){var Z=this._axesMap.get(q);Z.scale.unionExtentFromData(Y,Y.mapDimension(q)),cJ(Z.scale,Z.model)},this)},this)},$.prototype.resize=function(Q,J){var K=D5(Q,J).refContainer;this._rect=e1(Q.getBoxLayoutParams(),K),this._layoutAxes()},$.prototype.getRect=function(){return this._rect},$.prototype._makeLayoutInfo=function(){var Q=this._model,J=this._rect,K=["x","y"],Y=["width","height"],q=Q.get("layout"),Z=q==="horizontal"?0:1,X=J[Y[Z]],W=[0,X],F=this.dimensions.length,H=sv(Q.get("axisExpandWidth"),W),B=sv(Q.get("axisExpandCount")||0,[0,F]),z=Q.get("axisExpandable")&&F>3&&F>B&&B>1&&H>0&&X>0,A=Q.get("axisExpandWindow"),R;if(!A){R=sv(H*(B-1),W);var G=Q.get("axisExpandCenter")||vj0(F/2);A=[H*G-R/2],A[1]=A[0]+R}else R=sv(A[1]-A[0],W),A[1]=A[0]+R;var w=(X-R)/(F-B);w<3&&(w=0);var T=[vj0(Sj0(A[0]/H,1))+1,aF1(Sj0(A[1]/H,1))-1],D=w/H*A[0];return{layout:q,pixelDimIndex:Z,layoutBase:J[K[Z]],layoutLength:X,axisBase:J[K[1-Z]],axisLength:J[Y[1-Z]],axisExpandable:z,axisExpandWidth:H,axisCollapseWidth:w,axisExpandWindow:A,axisCount:F,winInnerIndices:T,axisExpandWindow0Pos:D}},$.prototype._layoutAxes=function(){var Q=this._rect,J=this._axesMap,K=this.dimensions,Y=this._makeLayoutInfo(),q=Y.layout;J.each(function(Z){var X=[0,Y.axisLength],W=Z.inverse?1:0;Z.setExtent(X[W],X[1-W])}),ms(K,function(Z,X){var W=(Y.axisExpandable?QU1:$U1)(X,Y),F={horizontal:{x:W.position,y:Y.axisLength},vertical:{x:0,y:W.position}},H={horizontal:tF1/2,vertical:0},B=[F[q].x+Q.x,F[q].y+Q.y],z=H[q],A=Q6();u8(A,A,z),D8(A,A,B),this._axesLayout[Z]={position:B,rotation:z,transform:A,axisNameAvailableWidth:W.axisNameAvailableWidth,axisLabelShow:W.axisLabelShow,nameTruncateMaxWidth:W.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},$.prototype.getAxis=function(Q){return this._axesMap.get(Q)},$.prototype.dataToPoint=function(Q,J){return this.axisCoordToPoint(this._axesMap.get(J).dataToCoord(Q),J)},$.prototype.eachActiveState=function(Q,J,K,Y){K==null&&(K=0),Y==null&&(Y=Q.count());var q=this._axesMap,Z=this.dimensions,X=[],W=[];v(Z,function(w){X.push(Q.mapDimension(w)),W.push(q.get(w).model)});var F=this.hasAxisBrushed();for(var H=K;H<Y;H++){var B=void 0;if(!F)B="normal";else{B="active";var z=Q.getValues(X,H);for(var A=0,R=Z.length;A<R;A++){var G=W[A].getActiveState(z[A]);if(G==="inactive"){B="inactive";break}}}J(B,H)}},$.prototype.hasAxisBrushed=function(){var Q=this.dimensions,J=this._axesMap,K=!1;for(var Y=0,q=Q.length;Y<q;Y++)if(J.get(Q[Y]).model.getActiveState()!=="normal")K=!0;return K},$.prototype.axisCoordToPoint=function(Q,J){var K=this._axesLayout[J];return k8([Q,0],K.transform)},$.prototype.getAxisLayout=function(Q){return y0(this._axesLayout[Q])},$.prototype.getSlidedAxisExpandWindow=function(Q){var J=this._makeLayoutInfo(),K=J.pixelDimIndex,Y=J.axisExpandWindow.slice(),q=Y[1]-Y[0],Z=[0,J.axisExpandWidth*(J.axisCount-1)];if(!this.containPoint(Q))return{behavior:"none",axisExpandWindow:Y};var X=Q[K]-J.layoutBase-J.axisExpandWindow0Pos,W,F="slide",H=J.axisCollapseWidth,B=this._model.get("axisExpandSlideTriggerArea"),z=B[0]!=null;if(H){if(z&&H&&X<q*B[0])F="jump",W=X-q*B[2];else if(z&&H&&X>q*(1-B[0]))F="jump",W=X-q*(1-B[2]);else(W=X-q*B[1])>=0&&(W=X-q*(1-B[1]))<=0&&(W=0);W*=J.axisExpandWidth/H,W?j4(W,Y,Z,"all"):F="none"}else{var A=Y[1]-Y[0],R=Z[1]*X/A;Y=[fj0(0,R-A/2)],Y[1]=_j0(Z[1],Y[0]+A),Y[0]=Y[1]-A}return{axisExpandWindow:Y,behavior:F}},$}();function sv($,Q){return _j0(fj0($,Q[0]),Q[1])}function $U1($,Q){var J=Q.layoutLength/(Q.axisCount-1);return{position:J*$,axisNameAvailableWidth:J,axisLabelShow:!0}}function QU1($,Q){var{layoutLength:J,axisExpandWidth:K,axisCount:Y,axisCollapseWidth:q,winInnerIndices:Z}=Q,X,W=q,F=!1,H;if($<Z[0])X=$*q,H=q;else if($<=Z[1])X=Q.axisExpandWindow0Pos+$*K-Q.axisExpandWindow[0],W=K,F=!0;else X=J-(Y-1-$)*q,H=q;return{position:X,axisNameAvailableWidth:W,axisLabelShow:F,nameTruncateMaxWidth:H}}var Ij0=eF1;function JU1($,Q){var J=[];return $.eachComponent("parallel",function(K,Y){var q=new Ij0(K,$,Q);q.name="parallel_"+Y,q.resize(K,Q),K.coordinateSystem=q,q.model=K,J.push(q)}),$.eachSeries(function(K){if(K.get("coordinateSystem")==="parallel"){var Y=K.getReferringComponents("parallel",w5).models[0];K.coordinateSystem=Y.coordinateSystem}}),J}var KU1={create:JU1},Mj0=KU1;var bj0=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.activeIntervals=[],J}return Q.prototype.getAreaSelectStyle=function(){return t4([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},Q.prototype.setActiveIntervals=function(J){var K=this.activeIntervals=y0(J);if(K)for(var Y=K.length-1;Y>=0;Y--)I7(K[Y])},Q.prototype.getActiveState=function(J){var K=this.activeIntervals;if(!K.length)return"normal";if(J==null||isNaN(+J))return"inactive";if(K.length===1){var Y=K[0];if(Y[0]<=J&&J<=Y[1])return"active"}else for(var q=0,Z=K.length;q<Z;q++)if(K[q][0]<=J&&J<=K[q][1])return"active";return"inactive"},Q}(B1);_5(bj0,uJ);var ps=bj0;var NF=!0,Tw=Math.min,zB=Math.max,YU1=Math.pow,qU1=1e4,ZU1=6,XU1=6,gj0="globalPan",WU1={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},FU1={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},yj0={brushStyle:{lineWidth:2,stroke:a.color.backgroundTint,fill:a.color.borderTint},transformable:!0,brushMode:"single",removeOnClick:!1},UU1=0,HU1=function($){x(Q,$);function Q(J){var K=$.call(this)||this;return K._track=[],K._covers=[],K._handlers={},S0(J),K._zr=J,K.group=new _0,K._uid="brushController_"+UU1++,v(GU1,function(Y,q){this._handlers[q]=O0(Y,this)},K),K}return Q.prototype.enableBrush=function(J){return S0(this._mounted),this._brushType&&this._doDisableBrush(),J.brushType&&this._doEnableBrush(J),this},Q.prototype._doEnableBrush=function(J){var K=this._zr;if(!this._enableGlobalPan)DP0(K,gj0,this._uid);v(this._handlers,function(Y,q){K.on(q,Y)}),this._brushType=J.brushType,this._brushOption=K1(y0(yj0),J,!0)},Q.prototype._doDisableBrush=function(){var J=this._zr;CP0(J,gj0,this._uid),v(this._handlers,function(K,Y){J.off(Y,K)}),this._brushType=this._brushOption=null},Q.prototype.setPanels=function(J){if(J&&J.length){var K=this._panels={};v(J,function(Y){K[Y.panelId]=y0(Y)})}else this._panels=null;return this},Q.prototype.mount=function(J){J=J||{},this._mounted=!0,this._enableGlobalPan=J.enableGlobalPan;var K=this.group;return this._zr.add(K),K.attr({x:J.x||0,y:J.y||0,rotation:J.rotation||0,scaleX:J.scaleX||1,scaleY:J.scaleY||1}),this._transform=K.getLocalTransform(),this},Q.prototype.updateCovers=function(J){S0(this._mounted),J=K0(J,function(z){return K1(y0(yj0),z,!0)});var K="\x00-brush-index-",Y=this._covers,q=this._covers=[],Z=this,X=this._creatingCover;return new E8(Y,J,F,W).add(H).update(H).remove(B).execute(),this;function W(z,A){return(z.id!=null?z.id:K+A)+"-"+z.brushType}function F(z,A){return W(z.__brushOption,A)}function H(z,A){var R=J[z];if(A!=null&&Y[A]===X)q[z]=Y[A];else{var G=q[z]=A!=null?(Y[A].__brushOption=R,Y[A]):dj0(Z,pj0(Z,R));ss(Z,G)}}function B(z){if(Y[z]!==X)Z.group.remove(Y[z])}},Q.prototype.unmount=function(){if(!this._mounted)return;return this.enableBrush(!1),ds(this),this._zr.remove(this.group),this._mounted=!1,this},Q.prototype.dispose=function(){this.unmount(),this.off()},Q}(T7);function pj0($,Q){var J=ov[Q.brushType].createCover($,Q);return J.__brushOption=Q,lj0(J,Q),$.group.add(J),J}function dj0($,Q){var J=os(Q);if(J.endCreating)J.endCreating($,Q),lj0(Q,Q.__brushOption);return Q}function nj0($,Q){var J=Q.__brushOption;os(Q).updateCoverShape($,Q,J.range,J)}function lj0($,Q){var J=Q.z;J==null&&(J=qU1),$.traverse(function(K){K.z=J,K.z2=J})}function ss($,Q){os(Q).updateCommon($,Q),nj0($,Q)}function os($){return ov[$.__brushOption.brushType]}function as($,Q,J){var K=$._panels;if(!K)return NF;var Y,q=$._transform;return v(K,function(Z){Z.isTargetByCursor(Q,J,q)&&(Y=Z)}),Y}function rj0($,Q){var J=$._panels;if(!J)return NF;var K=Q.__brushOption.panelId;return K!=null?J[K]:NF}function ds($){var Q=$._covers,J=Q.length;return v(Q,function(K){$.group.remove(K)},$),Q.length=0,!!J}function BF($,Q){var J=K0($._covers,function(K){var Y=K.__brushOption,q=y0(Y.range);return{brushType:Y.brushType,panelId:Y.panelId,range:q}});$.trigger("brush",{areas:J,isEnd:!!Q.isEnd,removeOnClick:!!Q.removeOnClick})}function NU1($){var Q=$._track;if(!Q.length)return!1;var J=Q[Q.length-1],K=Q[0],Y=J[0]-K[0],q=J[1]-K[1],Z=YU1(Y*Y+q*q,0.5);return Z>ZU1}function ij0($){var Q=$.length-1;return Q<0&&(Q=0),[$[0],$[Q]]}function sj0($,Q,J,K){var Y=new _0;return Y.add(new Q1({name:"main",style:ts(J),silent:!0,draggable:!0,cursor:"move",drift:a0(xj0,$,Q,Y,["n","s","w","e"]),ondragend:a0(BF,Q,{isEnd:!0})})),v(K,function(q){Y.add(new Q1({name:q.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:a0(xj0,$,Q,Y,q),ondragend:a0(BF,Q,{isEnd:!0})}))}),Y}function oj0($,Q,J,K){var Y=K.brushStyle.lineWidth||0,q=zB(Y,XU1),Z=J[0][0],X=J[1][0],W=Z-Y/2,F=X-Y/2,H=J[0][1],B=J[1][1],z=H-q+Y/2,A=B-q+Y/2,R=H-Z,G=B-X,w=R+Y,T=G+Y;if(LY($,Q,"main",Z,X,R,G),K.transformable)LY($,Q,"w",W,F,q,T),LY($,Q,"e",z,F,q,T),LY($,Q,"n",W,F,w,q),LY($,Q,"s",W,A,w,q),LY($,Q,"nw",W,F,q,q),LY($,Q,"ne",z,F,q,q),LY($,Q,"sw",W,A,q,q),LY($,Q,"se",z,A,q,q)}function ns($,Q){var J=Q.__brushOption,K=J.transformable,Y=Q.childAt(0);Y.useStyle(ts(J)),Y.attr({silent:!K,cursor:K?"move":"default"}),v([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(q){var Z=Q.childOfName(q.join("")),X=q.length===1?ls($,q[0]):zU1($,q);Z&&Z.attr({silent:!K,invisible:!K,cursor:K?FU1[X]+"-resize":null})})}function LY($,Q,J,K,Y,q,Z){var X=Q.childOfName(J);X&&X.setShape(VU1(es($,Q,[[K,Y],[K+q,Y+Z]])))}function ts($){return b0({strokeNoScale:!0},$.brushStyle)}function aj0($,Q,J,K){var Y=[Tw($,J),Tw(Q,K)],q=[zB($,J),zB(Q,K)];return[[Y[0],q[0]],[Y[1],q[1]]]}function BU1($){return KQ($.group)}function ls($,Q){var J={w:"left",e:"right",n:"top",s:"bottom"},K={left:"w",right:"e",top:"n",bottom:"s"},Y=fW(J[Q],BU1($));return K[Y]}function zU1($,Q){var J=[ls($,Q[0]),ls($,Q[1])];return(J[0]==="e"||J[0]==="w")&&J.reverse(),J.join("")}function xj0($,Q,J,K,Y,q){var Z=J.__brushOption,X=$.toRectRange(Z.range),W=tj0(Q,Y,q);v(K,function(F){var H=WU1[F];X[H[0]][H[1]]+=W[H[0]]}),Z.range=$.fromRectRange(aj0(X[0][0],X[1][0],X[0][1],X[1][1])),ss(Q,J),BF(Q,{isEnd:!1})}function AU1($,Q,J,K){var Y=Q.__brushOption.range,q=tj0($,J,K);v(Y,function(Z){Z[0]+=q[0],Z[1]+=q[1]}),ss($,Q),BF($,{isEnd:!1})}function tj0($,Q,J){var K=$.group,Y=K.transformCoordToLocal(Q,J),q=K.transformCoordToLocal(0,0);return[Y[0]-q[0],Y[1]-q[1]]}function es($,Q,J){var K=rj0($,Q);return K&&K!==NF?K.clipPath(J,$._transform):y0(J)}function VU1($){var Q=Tw($[0][0],$[1][0]),J=Tw($[0][1],$[1][1]),K=zB($[0][0],$[1][0]),Y=zB($[0][1],$[1][1]);return{x:Q,y:J,width:K-Q,height:Y-J}}function RU1($,Q,J){if(!$._brushType||wU1($,Q.offsetX,Q.offsetY))return;var{_zr:K,_covers:Y}=$,q=as($,Q,J);if(!$._dragging)for(var Z=0;Z<Y.length;Z++){var X=Y[Z].__brushOption;if(q&&(q===NF||X.panelId===q.panelId)&&ov[X.brushType].contain(Y[Z],J[0],J[1]))return}q&&K.setCursorStyle("crosshair")}function rs($){var Q=$.event;Q.preventDefault&&Q.preventDefault()}function is($,Q,J){return $.childOfName("main").contain(Q,J)}function ej0($,Q,J,K){var{_creatingCover:Y,_creatingPanel:q,_brushOption:Z}=$,X;if($._track.push(J.slice()),NU1($)||Y){if(q&&!Y){Z.brushMode==="single"&&ds($);var W=y0(Z);W.brushType=cj0(W.brushType,q),W.panelId=q===NF?null:q.panelId,Y=$._creatingCover=pj0($,W),$._covers.push(Y)}if(Y){var F=ov[cj0($._brushType,q)],H=Y.__brushOption;if(H.range=F.getCreatingRange(es($,Y,$._track)),K)dj0($,Y),F.updateCommon($,Y);nj0($,Y),X={isEnd:K}}}else if(K&&Z.brushMode==="single"&&Z.removeOnClick){if(as($,Q,J)&&ds($))X={isEnd:K,removeOnClick:!0}}return X}function cj0($,Q){if($==="auto")return S0(Q&&Q.defaultBrushType,'MUST have defaultBrushType when brushType is "atuo"'),Q.defaultBrushType;return $}var GU1={mousedown:function($){if(this._dragging)uj0(this,$);else if(!$.target||!$.target.draggable){rs($);var Q=this.group.transformCoordToLocal($.offsetX,$.offsetY);this._creatingCover=null;var J=this._creatingPanel=as(this,$,Q);if(J)this._dragging=!0,this._track=[Q.slice()]}},mousemove:function($){var{offsetX:Q,offsetY:J}=$,K=this.group.transformCoordToLocal(Q,J);if(RU1(this,$,K),this._dragging){rs($);var Y=ej0(this,$,K,!1);Y&&BF(this,Y)}},mouseup:function($){uj0(this,$)}};function uj0($,Q){if($._dragging){rs(Q);var{offsetX:J,offsetY:K}=Q,Y=$.group.transformCoordToLocal(J,K),q=ej0($,Q,Y,!0);$._dragging=!1,$._track=[],$._creatingCover=null,q&&BF($,q)}}function wU1($,Q,J){var K=$._zr;return Q<0||Q>K.getWidth()||J<0||J>K.getHeight()}var ov={lineX:mj0(0),lineY:mj0(1),rect:{createCover:function($,Q){function J(K){return K}return sj0({toRectRange:J,fromRectRange:J},$,Q,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function($){var Q=ij0($);return aj0(Q[1][0],Q[1][1],Q[0][0],Q[0][1])},updateCoverShape:function($,Q,J,K){oj0($,Q,J,K)},updateCommon:ns,contain:is},polygon:{createCover:function($,Q){var J=new _0;return J.add(new K6({name:"main",style:ts(Q),silent:!0})),J},getCreatingRange:function($){return $},endCreating:function($,Q){Q.remove(Q.childAt(0)),Q.add(new z6({name:"main",draggable:!0,drift:a0(AU1,$,Q),ondragend:a0(BF,$,{isEnd:!0})}))},updateCoverShape:function($,Q,J,K){Q.childAt(0).setShape({points:es($,Q,J)})},updateCommon:ns,contain:is}};function mj0($){return{createCover:function(Q,J){return sj0({toRectRange:function(K){var Y=[K,[0,100]];return $&&Y.reverse(),Y},fromRectRange:function(K){return K[$]}},Q,J,[[["w"],["e"]],[["n"],["s"]]][$])},getCreatingRange:function(Q){var J=ij0(Q),K=Tw(J[0][$],J[1][$]),Y=zB(J[0][$],J[1][$]);return[K,Y]},updateCoverShape:function(Q,J,K,Y){var q,Z=rj0(Q,J);if(Z!==NF&&Z.getLinearBrushOtherExtent)q=Z.getLinearBrushOtherExtent($);else{var X=Q._zr;q=[0,[X.getWidth(),X.getHeight()][1-$]]}var W=[K,q];$&&W.reverse(),oj0(Q,J,W,Y)},updateCommon:ns,contain:is}}var AB=HU1;function av($){return $=$o($),function(Q){return Vn(Q,$)}}function tv($,Q){return $=$o($),function(J){var K=Q!=null?Q:J,Y=K?$.width:$.height,q=K?$.x:$.y;return[q,q+(Y||0)]}}function ev($,Q,J){var K=$o($);return function(Y,q){return K.contain(q[0],q[1])&&!jv(Y,Q,J)}}function $o($){return u0.create($)}var OU1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(J,K){$.prototype.init.apply(this,arguments),(this._brushController=new AB(K.getZr())).on("brush",O0(this._onBrush,this))},Q.prototype.render=function(J,K,Y,q){if(TU1(J,K,q))return;this.axisModel=J,this.api=Y,this.group.removeAll();var Z=this._axisGroup;if(this._axisGroup=new _0,this.group.add(this._axisGroup),!J.get("show"))return;var X=CU1(J,K),W=X.coordinateSystem,F=J.getAreaSelectStyle(),H=F.width,B=J.axis.dim,z=W.getAxisLayout(B),A=Q0({strokeContainThreshold:H},z),R=new L8(J,Y,A);R.build(),this._axisGroup.add(R.group),this._refreshBrushController(A,F,J,X,H,Y),NY(Z,this._axisGroup,J)},Q.prototype._refreshBrushController=function(J,K,Y,q,Z,X){var W=Y.axis.getExtent(),F=W[1]-W[0],H=Math.min(30,Math.abs(F)*0.1),B=u0.create({x:W[0],y:-Z/2,width:F,height:Z});B.x-=H,B.width+=2*H,this._brushController.mount({enableGlobalPan:!0,rotation:J.rotation,x:J.position[0],y:J.position[1]}).setPanels([{panelId:"pl",clipPath:av(B),isTargetByCursor:ev(B,X,q),getLinearBrushOtherExtent:tv(B,0)}]).enableBrush({brushType:"lineX",brushStyle:K,removeOnClick:!0}).updateCovers(DU1(Y))},Q.prototype._onBrush=function(J){var K=J.areas,Y=this.axisModel,q=Y.axis,Z=K0(K,function(X){return[q.coordToData(X.range[0],!0),q.coordToData(X.range[1],!0)]});if(!Y.option.realtime===J.isEnd||J.removeOnClick)this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:Y.id,intervals:Z})},Q.prototype.dispose=function(){this._brushController.dispose()},Q.type="parallelAxis",Q}(p1);function TU1($,Q,J){return J&&J.type==="axisAreaSelect"&&Q.findComponents({mainType:"parallelAxis",query:J})[0]===$}function DU1($){var Q=$.axis;return K0($.activeIntervals,function(J){return{brushType:"lineX",panelId:"pl",range:[Q.dataToCoord(J[0],!0),Q.dataToCoord(J[1],!0)]}})}function CU1($,Q){return Q.getComponent("parallel",$.get("parallelIndex"))}var QE0=OU1;var PU1={type:"axisAreaSelect",event:"axisAreaSelected"};function JE0($){$.registerAction(PU1,function(Q,J){J.eachComponent({mainType:"parallelAxis",query:Q},function(K){K.axis.model.setActiveIntervals(Q.intervals)})}),$.registerAction("parallelAxisExpand",function(Q,J){J.eachComponent({mainType:"parallel",query:Q},function(K){K.setAxisExpand(Q)})})}var kU1={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:0.3},realtime:!0,z:10};function Dw($){$.registerComponentView(Ej0),$.registerComponentModel(Lj0),$.registerCoordinateSystem("parallel",Mj0),$.registerPreprocessor(xs),$.registerComponentModel(ps),$.registerComponentView(QE0),RQ($,"parallel",ps,kU1),JE0($)}function Qo($){R1(Dw),$.registerChartView(Pj0),$.registerSeriesModel(kj0),$.registerVisual($.PRIORITY.VISUAL.BRUSH,jj0)}var jU1=function(){function $(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return $}(),EU1=function($){x(Q,$);function Q(J){return $.call(this,J)||this}return Q.prototype.getDefaultShape=function(){return new jU1},Q.prototype.buildPath=function(J,K){var Y=K.extent;if(J.moveTo(K.x1,K.y1),J.bezierCurveTo(K.cpx1,K.cpy1,K.cpx2,K.cpy2,K.x2,K.y2),K.orient==="vertical")J.lineTo(K.x2+Y,K.y2),J.bezierCurveTo(K.cpx2+Y,K.cpy2,K.cpx1+Y,K.cpy1,K.x1+Y,K.y1);else J.lineTo(K.x2,K.y2+Y),J.bezierCurveTo(K.cpx2,K.cpy2+Y,K.cpx1,K.cpy1+Y,K.x1,K.y1+Y);J.closePath()},Q.prototype.highlight=function(){p8(this)},Q.prototype.downplay=function(){d8(this)},Q}(t0),LU1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J._mainGroup=new _0,J._focusAdjacencyDisabled=!1,J}return Q.prototype.init=function(J,K){this._controller=new N9(K.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},Q.prototype.render=function(J,K,Y){var q=this,Z=J.getGraph(),X=this._mainGroup,W=J.layoutInfo,F=W.width,H=W.height,B=J.getData(),z=J.getData("edge"),A=J.get("orient");if(this._model=J,X.removeAll(),X.x=W.x,X.y=W.y,this._updateViewCoordSys(J,Y),hv(J,Y,X,this._controller,this._controllerHost,null),Z.eachEdge(function(R){var G=new EU1,w=m0(G);w.dataIndex=R.dataIndex,w.seriesIndex=J.seriesIndex,w.dataType="edge";var T=R.getModel(),D=T.getModel("lineStyle"),P=D.get("curveness"),j=R.node1.getLayout(),E=R.node1.getModel(),L=E.get("localX"),h=E.get("localY"),_=R.node2.getLayout(),S=R.node2.getModel(),I=S.get("localX"),M=S.get("localY"),y=R.getLayout(),b,u,c,m,i,o,n,e;if(G.shape.extent=Math.max(1,y.dy),G.shape.orient=A,A==="vertical")b=(L!=null?L*F:j.x)+y.sy,u=(h!=null?h*H:j.y)+j.dy,c=(I!=null?I*F:_.x)+y.ty,m=M!=null?M*H:_.y,i=b,o=u*(1-P)+m*P,n=c,e=u*P+m*(1-P);else b=(L!=null?L*F:j.x)+j.dx,u=(h!=null?h*H:j.y)+y.sy,c=I!=null?I*F:_.x,m=(M!=null?M*H:_.y)+y.ty,i=b*(1-P)+c*P,o=u,n=b*P+c*(1-P),e=m;G.setShape({x1:b,y1:u,x2:c,y2:m,cpx1:i,cpy1:o,cpx2:n,cpy2:e}),G.useStyle(D.getItemStyle()),KE0(G.style,A,R);var Z0=""+T.get("value"),q0=k5(T,"edgeLabel");v5(G,q0,{labelFetcher:{getFormattedLabel:function(J1,W1,h1,X1,r0,G1){return J.getFormattedLabel(J1,W1,"edge",X1,B6(r0,q0.normal&&q0.normal.get("formatter"),Z0),G1)}},labelDataIndex:R.dataIndex,defaultText:Z0}),G.setTextConfig({position:"inside"});var k0=T.getModel("emphasis");M5(G,T,"lineStyle",function(J1){var W1=J1.getItemStyle();return KE0(W1,A,R),W1}),X.add(G),z.setItemGraphicEl(R.dataIndex,G);var c0=k0.get("focus");u1(G,c0==="adjacency"?R.getAdjacentDataIndices():c0==="trajectory"?R.getTrajectoryDataIndices():c0,k0.get("blurScope"),k0.get("disabled"))}),Z.eachNode(function(R){var G=R.getLayout(),w=R.getModel(),T=w.get("localX"),D=w.get("localY"),P=w.getModel("emphasis"),j=w.get(["itemStyle","borderRadius"])||0,E=new Q1({shape:{x:T!=null?T*F:G.x,y:D!=null?D*H:G.y,width:G.dx,height:G.dy,r:j},style:w.getModel("itemStyle").getItemStyle(),z2:10});v5(E,k5(w),{labelFetcher:{getFormattedLabel:function(h,_){return J.getFormattedLabel(h,_,"node")}},labelDataIndex:R.dataIndex,defaultText:R.id}),E.disableLabelAnimation=!0,E.setStyle("fill",R.getVisual("color")),E.setStyle("decal",R.getVisual("style").decal),M5(E,w),X.add(E),B.setItemGraphicEl(R.dataIndex,E),m0(E).dataType="node";var L=P.get("focus");u1(E,L==="adjacency"?R.getAdjacentDataIndices():L==="trajectory"?R.getTrajectoryDataIndices():L,P.get("blurScope"),P.get("disabled"))}),B.eachItemGraphicEl(function(R,G){var w=B.getItemModel(G);if(w.get("draggable"))R.drift=function(T,D){q._focusAdjacencyDisabled=!0,this.shape.x+=T,this.shape.y+=D,this.dirty(),Y.dispatchAction({type:"dragNode",seriesId:J.id,dataIndex:B.getRawIndex(G),localX:this.shape.x/F,localY:this.shape.y/H})},R.ondragend=function(){q._focusAdjacencyDisabled=!1},R.draggable=!0,R.cursor="move"}),!this._data&&J.isAnimationEnabled())X.setClipPath(hU1(X.getBoundingRect(),J,function(){X.removeClipPath()}));this._data=J.getData()},Q.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},Q.prototype._updateViewCoordSys=function(J,K){var Y=J.layoutInfo,q=Y.width,Z=Y.height,X=J.coordinateSystem=new a9(null,{api:K,ecModel:J.ecModel});X.zoomLimit=J.get("scaleLimit"),X.setBoundingRect(0,0,q,Z),X.setCenter(J.get("center")),X.setZoom(J.get("zoom")),this._controllerHost.target.attr({x:X.x,y:X.y,scaleX:X.scaleX,scaleY:X.scaleY})},Q.type="sankey",Q}(_1);function KE0($,Q,J){switch($.fill){case"source":$.fill=J.node1.getVisual("color"),$.decal=J.node1.getVisual("style").decal;break;case"target":$.fill=J.node2.getVisual("color"),$.decal=J.node2.getVisual("style").decal;break;case"gradient":var K=J.node1.getVisual("color"),Y=J.node2.getVisual("color");if(B0(K)&&B0(Y))$.fill=new o3(0,0,+(Q==="horizontal"),+(Q==="vertical"),[{color:K,offset:0},{color:Y,offset:1}])}}function hU1($,Q,J){var K=new Q1({shape:{x:$.x-10,y:$.y-10,width:0,height:$.height+20}});return t1(K,{shape:{width:$.width+20}},Q,J),K}var YE0=LU1;var vU1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.getInitialData=function(J,K){var Y=J.edges||J.links||[],q=J.data||J.nodes||[],Z=J.levels||[];this.levelModels=[];var X=this.levelModels;for(var W=0;W<Z.length;W++)if(Z[W].depth!=null&&Z[W].depth>=0)X[Z[W].depth]=new D1(Z[W],this,K);else throw Error("levels[i].depth is mandatory and should be natural number");var F=HF(q,Y,this,!0,H);return F.data;function H(B,z){B.wrapMethod("getItemModel",function(A,R){var G=A.parentModel,w=G.getData().getItemLayout(R);if(w){var T=w.depth,D=G.levelModels[T];if(D)A.parentModel=D}return A}),z.wrapMethod("getItemModel",function(A,R){var G=A.parentModel,w=G.getGraph().getEdgeByIndex(R),T=w.node1.getLayout();if(T){var D=T.depth,P=G.levelModels[D];if(P)A.parentModel=P}return A})}},Q.prototype.setNodePosition=function(J,K){var Y=this.option.data||this.option.nodes,q=Y[J];q.localX=K[0],q.localY=K[1]},Q.prototype.setCenter=function(J){this.option.center=J},Q.prototype.setZoom=function(J){this.option.zoom=J},Q.prototype.getGraph=function(){return this.getData().graph},Q.prototype.getEdgeData=function(){return this.getGraph().edgeData},Q.prototype.formatTooltip=function(J,K,Y){function q(A){return isNaN(A)||A==null}if(Y==="edge"){var Z=this.getDataParams(J,Y),X=Z.data,W=Z.value,F=X.source+" -- "+X.target;return x5("nameValue",{name:F,value:W,noValue:q(W)})}else{var H=this.getGraph().getNodeByIndex(J),B=H.getLayout().value,z=this.getDataParams(J,Y).data.name;return x5("nameValue",{name:z!=null?z+"":null,value:B,noValue:q(B)})}},Q.prototype.optionUpdated=function(){},Q.prototype.getDataParams=function(J,K){var Y=$.prototype.getDataParams.call(this,J,K);if(Y.value==null&&K==="node"){var q=this.getGraph().getNodeByIndex(J),Z=q.getLayout().value;Y.value=Z}return Y},Q.type="series.sankey",Q.layoutMode="box",Q.defaultOption={z:2,coordinateSystemUsage:"box",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,roam:!1,roamTrigger:"global",center:null,zoom:1,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:a.color.neutral50,opacity:0.2,curveness:0.5},emphasis:{label:{show:!0},lineStyle:{opacity:0.5}},select:{itemStyle:{borderColor:a.color.primary}},animationEasing:"linear",animationDuration:1000},Q}(m1),qE0=vU1;function Ko($,Q){$.eachSeriesByType("sankey",function(J){var K=J.get("nodeWidth"),Y=J.get("nodeGap"),q=D5(J,Q).refContainer,Z=e1(J.getBoxLayoutParams(),q);J.layoutInfo=Z;var{width:X,height:W}=Z,F=J.getGraph(),H=F.nodes,B=F.edges;_U1(H);var z=j1(H,function(w){return w.getLayout().value===0}),A=z.length!==0?0:J.get("layoutIterations"),R=J.get("orient"),G=J.get("nodeAlign");SU1(H,B,K,Y,X,W,A,R,G)})}function SU1($,Q,J,K,Y,q,Z,X,W){fU1($,Q,J,Y,q,X,W),gU1($,Q,q,Y,K,Z,X),lU1($,X)}function _U1($){v($,function(Q){var J=aZ(Q.outEdges,$S),K=aZ(Q.inEdges,$S),Y=Q.getValue()||0,q=Math.max(J,K,Y);Q.setLayout({value:q},!0)})}function fU1($,Q,J,K,Y,q,Z){var X=[],W=[],F=[],H=[],B=0;for(var z=0;z<Q.length;z++)X[z]=1;for(var z=0;z<$.length;z++)if(W[z]=$[z].inEdges.length,W[z]===0)F.push($[z]);var A=-1;while(F.length){for(var R=0;R<F.length;R++){var G=F[R],w=G.hostGraph.data.getRawDataItem(G.dataIndex),T=w.depth!=null&&w.depth>=0;if(T&&w.depth>A)A=w.depth;G.setLayout({depth:T?w.depth:B},!0),q==="vertical"?G.setLayout({dy:J},!0):G.setLayout({dx:J},!0);for(var D=0;D<G.outEdges.length;D++){var P=G.outEdges[D],j=Q.indexOf(P);X[j]=0;var E=P.node2,L=$.indexOf(E);if(--W[L]===0&&H.indexOf(E)<0)H.push(E)}}++B,F=H,H=[]}for(var z=0;z<X.length;z++)if(X[z]===1)throw Error("Sankey is a DAG, the original data has cycle!");var h=A>B-1?A:B-1;if(Z&&Z!=="left")IU1($,Z,q,h);var _=q==="vertical"?(Y-J)/h:(K-J)/h;bU1($,_,q)}function ZE0($){var Q=$.hostGraph.data.getRawDataItem($.dataIndex);return Q.depth!=null&&Q.depth>=0}function IU1($,Q,J,K){if(Q==="right"){var Y=[],q=$,Z=0;while(q.length){for(var X=0;X<q.length;X++){var W=q[X];W.setLayout({skNodeHeight:Z},!0);for(var F=0;F<W.inEdges.length;F++){var H=W.inEdges[F];if(Y.indexOf(H.node1)<0)Y.push(H.node1)}}q=Y,Y=[],++Z}v($,function(B){if(!ZE0(B))B.setLayout({depth:Math.max(0,K-B.getLayout().skNodeHeight)},!0)})}else if(Q==="justify")MU1($,K)}function MU1($,Q){v($,function(J){if(!ZE0(J)&&!J.outEdges.length)J.setLayout({depth:Q},!0)})}function bU1($,Q,J){v($,function(K){var Y=K.getLayout().depth*Q;J==="vertical"?K.setLayout({y:Y},!0):K.setLayout({x:Y},!0)})}function gU1($,Q,J,K,Y,q,Z){var X=yU1($,Z);xU1(X,Q,J,K,Y,Z),Jo(X,Y,J,K,Z);for(var W=1;q>0;q--)W*=0.99,cU1(X,W,Z),Jo(X,Y,J,K,Z),nU1(X,W,Z),Jo(X,Y,J,K,Z)}function yU1($,Q){var J=[],K=Q==="vertical"?"y":"x",Y=rR($,function(q){return q.getLayout()[K]});return Y.keys.sort(function(q,Z){return q-Z}),v(Y.keys,function(q){J.push(Y.buckets.get(q))}),J}function xU1($,Q,J,K,Y,q){var Z=1/0;v($,function(X){var W=X.length,F=0;v(X,function(B){F+=B.getLayout().value});var H=q==="vertical"?(K-(W-1)*Y)/F:(J-(W-1)*Y)/F;if(H<Z)Z=H}),v($,function(X){v(X,function(W,F){var H=W.getLayout().value*Z;if(q==="vertical")W.setLayout({x:F},!0),W.setLayout({dx:H},!0);else W.setLayout({y:F},!0),W.setLayout({dy:H},!0)})}),v(Q,function(X){var W=+X.getValue()*Z;X.setLayout({dy:W},!0)})}function Jo($,Q,J,K,Y){var q=Y==="vertical"?"x":"y";v($,function(Z){Z.sort(function(G,w){return G.getLayout()[q]-w.getLayout()[q]});var X,W,F,H=0,B=Z.length,z=Y==="vertical"?"dx":"dy";for(var A=0;A<B;A++){if(W=Z[A],F=H-W.getLayout()[q],F>0)X=W.getLayout()[q]+F,Y==="vertical"?W.setLayout({x:X},!0):W.setLayout({y:X},!0);H=W.getLayout()[q]+W.getLayout()[z]+Q}var R=Y==="vertical"?K:J;if(F=H-Q-R,F>0){X=W.getLayout()[q]-F,Y==="vertical"?W.setLayout({x:X},!0):W.setLayout({y:X},!0),H=X;for(var A=B-2;A>=0;--A){if(W=Z[A],F=W.getLayout()[q]+W.getLayout()[z]+Q-H,F>0)X=W.getLayout()[q]-F,Y==="vertical"?W.setLayout({x:X},!0):W.setLayout({y:X},!0);H=W.getLayout()[q]}}})}function cU1($,Q,J){v($.slice().reverse(),function(K){v(K,function(Y){if(Y.outEdges.length){var q=aZ(Y.outEdges,uU1,J)/aZ(Y.outEdges,$S);if(isNaN(q)){var Z=Y.outEdges.length;q=Z?aZ(Y.outEdges,mU1,J)/Z:0}if(J==="vertical"){var X=Y.getLayout().x+(q-tZ(Y,J))*Q;Y.setLayout({x:X},!0)}else{var W=Y.getLayout().y+(q-tZ(Y,J))*Q;Y.setLayout({y:W},!0)}}})})}function uU1($,Q){return tZ($.node2,Q)*$.getValue()}function mU1($,Q){return tZ($.node2,Q)}function pU1($,Q){return tZ($.node1,Q)*$.getValue()}function dU1($,Q){return tZ($.node1,Q)}function tZ($,Q){return Q==="vertical"?$.getLayout().x+$.getLayout().dx/2:$.getLayout().y+$.getLayout().dy/2}function $S($){return $.getValue()}function aZ($,Q,J){var K=0,Y=$.length,q=-1;while(++q<Y){var Z=+Q($[q],J);if(!isNaN(Z))K+=Z}return K}function nU1($,Q,J){v($,function(K){v(K,function(Y){if(Y.inEdges.length){var q=aZ(Y.inEdges,pU1,J)/aZ(Y.inEdges,$S);if(isNaN(q)){var Z=Y.inEdges.length;q=Z?aZ(Y.inEdges,dU1,J)/Z:0}if(J==="vertical"){var X=Y.getLayout().x+(q-tZ(Y,J))*Q;Y.setLayout({x:X},!0)}else{var W=Y.getLayout().y+(q-tZ(Y,J))*Q;Y.setLayout({y:W},!0)}}})})}function lU1($,Q){var J=Q==="vertical"?"x":"y";v($,function(K){K.outEdges.sort(function(Y,q){return Y.node2.getLayout()[J]-q.node2.getLayout()[J]}),K.inEdges.sort(function(Y,q){return Y.node1.getLayout()[J]-q.node1.getLayout()[J]})}),v($,function(K){var Y=0,q=0;v(K.outEdges,function(Z){Z.setLayout({sy:Y},!0),Y+=Z.getLayout().dy}),v(K.inEdges,function(Z){Z.setLayout({ty:q},!0),q+=Z.getLayout().dy})})}function Yo($){$.eachSeriesByType("sankey",function(Q){var J=Q.getGraph(),K=J.nodes,Y=J.edges;if(K.length){var q=1/0,Z=-1/0;v(K,function(X){var W=X.getLayout().value;if(W<q)q=W;if(W>Z)Z=W}),v(K,function(X){var W=new d6({type:"color",mappingMethod:"linear",dataExtent:[q,Z],visual:Q.get("color")}),F=W.mapValueToVisual(X.getLayout().value),H=X.getModel().get(["itemStyle","color"]);if(H!=null)X.setVisual("color",H),X.setVisual("style",{fill:H});else X.setVisual("color",F),X.setVisual("style",{fill:F})})}if(Y.length)v(Y,function(X){var W=X.getModel().get("lineStyle");X.setVisual("style",W)})})}function qo($){$.registerChartView(YE0),$.registerSeriesModel(qE0),$.registerLayout(Ko),$.registerVisual(Yo),$.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(Q,J){J.eachComponent({mainType:"series",subType:"sankey",query:Q},function(K){K.setNodePosition(Q.dataIndex,[Q.localX,Q.localY])})}),$.registerAction({type:"sankeyRoam",event:"sankeyRoam",update:"none"},function(Q,J,K){J.eachComponent({mainType:"series",subType:"sankey",query:Q},function(Y){var q=Y.coordinateSystem,Z=iZ(q,Q,Y.get("scaleLimit"));Y.setCenter(Z.center),Y.setZoom(Z.zoom)})})}var QS=function(){function $(){}return $.prototype._hasEncodeRule=function(Q){var J=this.getEncode();return J&&J.get(Q)!=null},$.prototype.getInitialData=function(Q,J){var K,Y=J.getComponent("xAxis",this.get("xAxisIndex")),q=J.getComponent("yAxis",this.get("yAxisIndex")),Z=Y.get("type"),X=q.get("type"),W;if(Z==="category")Q.layout="horizontal",K=Y.getOrdinalMeta(),W=!this._hasEncodeRule("x");else if(X==="category")Q.layout="vertical",K=q.getOrdinalMeta(),W=!this._hasEncodeRule("y");else Q.layout=Q.layout||"horizontal";var F=["x","y"],H=Q.layout==="horizontal"?0:1,B=this._baseAxisDim=F[H],z=F[1-H],A=[Y,q],R=A[H].get("type"),G=A[1-H].get("type"),w=Q.data;if(w&&W){var T=[];v(w,function(j,E){var L;if(J0(j))L=j.slice(),j.unshift(E);else if(J0(j.value))L=Q0({},j),L.value=L.value.slice(),j.value.unshift(E);else L=j;T.push(L)}),Q.data=T}var D=this.defaultValueDimensions,P=[{name:B,type:sW(R),ordinalMeta:K,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:z,type:sW(G),dimsDef:D.slice()}];return s9(this,{coordDimensions:P,dimensionsCount:D.length+1,encodeDefaulter:a0(cL,P,this)})},$.prototype.getBaseAxis=function(){var Q=this._baseAxisDim;return this.ecModel.getComponent(Q+"Axis",this.get(Q+"AxisIndex")).axis},$}();var XE0=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],J.visualDrawType="stroke",J}return Q.type="series.boxplot",Q.dependencies=["xAxis","yAxis","grid"],Q.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:a.color.neutral00,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:a.color.shadow}},animationDuration:800},Q}(m1);_5(XE0,QS,!0);var WE0=XE0;var rU1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){var q=J.getData(),Z=this.group,X=this._data;if(!this._data)Z.removeAll();var W=J.get("layout")==="horizontal"?1:0;q.diff(X).add(function(F){if(q.hasValue(F)){var H=q.getItemLayout(F),B=FE0(H,q,F,W,!0);q.setItemGraphicEl(F,B),Z.add(B)}}).update(function(F,H){var B=X.getItemGraphicEl(H);if(!q.hasValue(F)){Z.remove(B);return}var z=q.getItemLayout(F);if(!B)B=FE0(z,q,F,W);else t6(B),UE0(z,B,q,F);Z.add(B),q.setItemGraphicEl(F,B)}).remove(function(F){var H=X.getItemGraphicEl(F);H&&Z.remove(H)}).execute(),this._data=q},Q.prototype.remove=function(J){var K=this.group,Y=this._data;this._data=null,Y&&Y.eachItemGraphicEl(function(q){q&&K.remove(q)})},Q.type="boxplot",Q}(_1),iU1=function(){function $(){}return $}(),sU1=function($){x(Q,$);function Q(J){var K=$.call(this,J)||this;return K.type="boxplotBoxPath",K}return Q.prototype.getDefaultShape=function(){return new iU1},Q.prototype.buildPath=function(J,K){var Y=K.points,q=0;J.moveTo(Y[q][0],Y[q][1]),q++;for(;q<4;q++)J.lineTo(Y[q][0],Y[q][1]);J.closePath();for(;q<Y.length;q++)J.moveTo(Y[q][0],Y[q][1]),q++,J.lineTo(Y[q][0],Y[q][1])},Q}(t0);function FE0($,Q,J,K,Y){var q=$.ends,Z=new sU1({shape:{points:Y?oU1(q,K,$):q}});return UE0($,Z,Q,J,Y),Z}function UE0($,Q,J,K,Y){var q=J.hostModel,Z=N1[Y?"initProps":"updateProps"];Z(Q,{shape:{points:$.ends}},q,K),Q.useStyle(J.getItemVisual(K,"style")),Q.style.strokeNoScale=!0,Q.z2=100;var X=J.getItemModel(K),W=X.getModel("emphasis");M5(Q,X),u1(Q,W.get("focus"),W.get("blurScope"),W.get("disabled"))}function oU1($,Q,J){return K0($,function(K){return K=K.slice(),K[Q]=J.initBaseline,K})}var HE0=rU1;var Cw=v;function Zo($){var Q=aU1($);Cw(Q,function(J){var K=J.seriesModels;if(!K.length)return;tU1(J),Cw(K,function(Y,q){eU1(Y,J.boxOffsetList[q],J.boxWidthList[q])})})}function aU1($){var Q=[],J=[];return $.eachSeriesByType("boxplot",function(K){var Y=K.getBaseAxis(),q=o0(J,Y);if(q<0)q=J.length,J[q]=Y,Q[q]={axis:Y,seriesModels:[]};Q[q].seriesModels.push(K)}),Q}function tU1($){var{axis:Q,seriesModels:J}=$,K=J.length,Y=$.boxWidthList=[],q=$.boxOffsetList=[],Z=[],X;if(Q.type==="category")X=Q.getBandWidth();else{var W=0;Cw(J,function(R){W=Math.max(W,R.getData().count())});var F=Q.getExtent();X=Math.abs(F[1]-F[0])/W}Cw(J,function(R){var G=R.get("boxWidth");if(!J0(G))G=[G,G];Z.push([h0(G[0],X)||0,h0(G[1],X)||0])});var H=X*0.8-2,B=H/K*0.3,z=(H-B*(K-1))/K,A=z/2-H/2;Cw(J,function(R,G){q.push(A),A+=B+z,Y.push(Math.min(Math.max(z,Z[G][0]),Z[G][1]))})}function eU1($,Q,J){var K=$.coordinateSystem,Y=$.getData(),q=J/2,Z=$.get("layout")==="horizontal"?0:1,X=1-Z,W=["x","y"],F=Y.mapDimension(W[Z]),H=Y.mapDimensionsAll(W[X]);if(F==null||H.length<5)return;for(var B=0;B<Y.count();B++){var z=Y.get(F,B),A=P(z,H[2],B),R=P(z,H[0],B),G=P(z,H[1],B),w=P(z,H[3],B),T=P(z,H[4],B),D=[];j(D,G,!1),j(D,w,!0),D.push(R,G,T,w),E(D,R),E(D,T),E(D,A),Y.setItemLayout(B,{initBaseline:A[X],ends:D})}function P(L,h,_){var S=Y.get(h,_),I=[];I[Z]=L,I[X]=S;var M;if(isNaN(L)||isNaN(S))M=[NaN,NaN];else M=K.dataToPoint(I),M[Z]+=Q;return M}function j(L,h,_){var S=h.slice(),I=h.slice();S[Z]+=q,I[Z]-=q,_?L.push(S,I):L.push(I,S)}function E(L,h){var _=h.slice(),S=h.slice();_[Z]-=q,S[Z]+=q,L.push(_,S)}}function Xo($,Q){Q=Q||{};var J=[],K=[],Y=Q.boundIQR,q=Y==="none"||Y===0;for(var Z=0;Z<$.length;Z++){var X=I7($[Z].slice()),W=hE(X,0.25),F=hE(X,0.5),H=hE(X,0.75),B=X[0],z=X[X.length-1],A=(Y==null?1.5:Y)*(H-W),R=q?B:Math.max(B,W-A),G=q?z:Math.min(z,H+A),w=Q.itemNameFormatter,T=v0(w)?w({value:Z}):B0(w)?w.replace("{value}",Z+""):Z+"";J.push([T,R,W,F,H,G]);for(var D=0;D<X.length;D++){var P=X[D];if(P<R||P>G){var j=[T,P];K.push(j)}}}return{boxData:J,outliers:K}}var NE0={type:"echarts:boxplot",transform:function(Q){var J=Q.upstream;if(J.sourceFormat!==p6){var K="";K=U7("source data is not applicable for this boxplot transform. Expect number[][]."),J5(K)}var Y=Xo(J.getRawData(),Q.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:Y.boxData},{data:Y.outliers}]}};function Wo($){$.registerSeriesModel(WE0),$.registerChartView(HE0),$.registerLayout(Zo),$.registerTransform(NE0)}var $H1=["itemStyle","borderColor"],QH1=["itemStyle","borderColor0"],JH1=["itemStyle","borderColorDoji"],KH1=["itemStyle","color"],YH1=["itemStyle","color0"];function JS($,Q){return Q.get($>0?KH1:YH1)}function KS($,Q){return Q.get($===0?JH1:$>0?$H1:QH1)}var qH1={seriesType:"candlestick",plan:d9(),performRawSeries:!0,reset:function($,Q){if(Q.isSeriesFiltered($))return;var J=$.pipelineContext.large;return!J&&{progress:function(K,Y){var q;while((q=K.next())!=null){var Z=Y.getItemModel(q),X=Y.getItemLayout(q).sign,W=Z.getItemStyle();W.fill=JS(X,Z),W.stroke=KS(X,Z)||W.fill;var F=Y.ensureUniqueItemVisual(q,"style");Q0(F,W)}}}}},BE0=qH1;var ZH1=["color","borderColor"],XH1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(J),this._isLargeDraw?this._renderLarge(J):this._renderNormal(J)},Q.prototype.incrementalPrepareRender=function(J,K,Y){this._clear(),this._updateDrawMode(J)},Q.prototype.incrementalRender=function(J,K,Y,q){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(J,K):this._incrementalRenderNormal(J,K)},Q.prototype.eachRendered=function(J){G4(this._progressiveEls||this.group,J)},Q.prototype._updateDrawMode=function(J){var K=J.pipelineContext.large;if(this._isLargeDraw==null||K!==this._isLargeDraw)this._isLargeDraw=K,this._clear()},Q.prototype._renderNormal=function(J){var K=J.getData(),Y=this._data,q=this.group,Z=K.getLayout("isSimpleBox"),X=J.get("clip",!0),W=J.coordinateSystem,F=W.getArea&&W.getArea();if(!this._data)q.removeAll();K.diff(Y).add(function(H){if(K.hasValue(H)){var B=K.getItemLayout(H);if(X&&zE0(F,B))return;var z=Fo(B,H,!0);t1(z,{shape:{points:B.ends}},J,H),Uo(z,K,H,Z),q.add(z),K.setItemGraphicEl(H,z)}}).update(function(H,B){var z=Y.getItemGraphicEl(B);if(!K.hasValue(H)){q.remove(z);return}var A=K.getItemLayout(H);if(X&&zE0(F,A)){q.remove(z);return}if(!z)z=Fo(A,H);else V1(z,{shape:{points:A.ends}},J,H),t6(z);Uo(z,K,H,Z),q.add(z),K.setItemGraphicEl(H,z)}).remove(function(H){var B=Y.getItemGraphicEl(H);B&&q.remove(B)}).execute(),this._data=K},Q.prototype._renderLarge=function(J){this._clear(),AE0(J,this.group);var K=J.get("clip",!0)?lJ(J.coordinateSystem,!1,J):null;if(K)this.group.setClipPath(K);else this.group.removeClipPath()},Q.prototype._incrementalRenderNormal=function(J,K){var Y=K.getData(),q=Y.getLayout("isSimpleBox"),Z;while((Z=J.next())!=null){var X=Y.getItemLayout(Z),W=Fo(X,Z);Uo(W,Y,Z,q),W.incremental=!0,this.group.add(W),this._progressiveEls.push(W)}},Q.prototype._incrementalRenderLarge=function(J,K){AE0(K,this.group,this._progressiveEls,!0)},Q.prototype.remove=function(J){this._clear()},Q.prototype._clear=function(){this.group.removeAll(),this._data=null},Q.type="candlestick",Q}(_1),WH1=function(){function $(){}return $}(),FH1=function($){x(Q,$);function Q(J){var K=$.call(this,J)||this;return K.type="normalCandlestickBox",K}return Q.prototype.getDefaultShape=function(){return new WH1},Q.prototype.buildPath=function(J,K){var Y=K.points;if(this.__simpleBox)J.moveTo(Y[4][0],Y[4][1]),J.lineTo(Y[6][0],Y[6][1]);else J.moveTo(Y[0][0],Y[0][1]),J.lineTo(Y[1][0],Y[1][1]),J.lineTo(Y[2][0],Y[2][1]),J.lineTo(Y[3][0],Y[3][1]),J.closePath(),J.moveTo(Y[4][0],Y[4][1]),J.lineTo(Y[5][0],Y[5][1]),J.moveTo(Y[6][0],Y[6][1]),J.lineTo(Y[7][0],Y[7][1])},Q}(t0);function Fo($,Q,J){var K=$.ends;return new FH1({shape:{points:J?UH1(K,$):K},z2:100})}function zE0($,Q){var J=!0;for(var K=0;K<Q.ends.length;K++)if($.contain(Q.ends[K][0],Q.ends[K][1])){J=!1;break}return J}function Uo($,Q,J,K){var Y=Q.getItemModel(J);$.useStyle(Q.getItemVisual(J,"style")),$.style.strokeNoScale=!0,$.__simpleBox=K,M5($,Y);var q=Q.getItemLayout(J).sign;v($.states,function(X,W){var F=Y.getModel(W),H=JS(q,F),B=KS(q,F)||H,z=X.style||(X.style={});H&&(z.fill=H),B&&(z.stroke=B)});var Z=Y.getModel("emphasis");u1($,Z.get("focus"),Z.get("blurScope"),Z.get("disabled"))}function UH1($,Q){return K0($,function(J){return J=J.slice(),J[1]=Q.initBaseline,J})}var HH1=function(){function $(){}return $}(),Ho=function($){x(Q,$);function Q(J){var K=$.call(this,J)||this;return K.type="largeCandlestickBox",K}return Q.prototype.getDefaultShape=function(){return new HH1},Q.prototype.buildPath=function(J,K){var Y=K.points;for(var q=0;q<Y.length;)if(this.__sign===Y[q++]){var Z=Y[q++];J.moveTo(Z,Y[q++]),J.lineTo(Z,Y[q++])}else q+=3},Q}(t0);function AE0($,Q,J,K){var Y=$.getData(),q=Y.getLayout("largePoints"),Z=new Ho({shape:{points:q},__sign:1,ignoreCoarsePointer:!0});Q.add(Z);var X=new Ho({shape:{points:q},__sign:-1,ignoreCoarsePointer:!0});Q.add(X);var W=new Ho({shape:{points:q},__sign:0,ignoreCoarsePointer:!0});if(Q.add(W),No(1,Z,$,Y),No(-1,X,$,Y),No(0,W,$,Y),K)Z.incremental=!0,X.incremental=!0;if(J)J.push(Z,X)}function No($,Q,J,K){var Y=KS($,J)||JS($,J),q=J.getModel("itemStyle").getItemStyle(ZH1);Q.useStyle(q),Q.style.fill=null,Q.style.stroke=Y}var VE0=XH1;var RE0=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],J}return Q.prototype.getShadowDim=function(){return"open"},Q.prototype.brushSelector=function(J,K,Y){var q=K.getItemLayout(J);return q&&Y.rect(q.brushRect)},Q.type="series.candlestick",Q.dependencies=["xAxis","yAxis","grid"],Q.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3000,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},Q}(m1);_5(RE0,QS,!0);var GE0=RE0;function Bo($){if(!$||!J0($.series))return;v($.series,function(Q){if(I0(Q)&&Q.type==="k")Q.type="candlestick"})}var NH1={seriesType:"candlestick",plan:d9(),reset:function($){var Q=$.coordinateSystem,J=$.getData(),K=BH1($,J),Y=0,q=1,Z=["x","y"],X=J.getDimensionIndex(J.mapDimension(Z[Y])),W=K0(J.mapDimensionsAll(Z[q]),J.getDimensionIndex,J),F=W[0],H=W[1],B=W[2],z=W[3];if(J.setLayout({candleWidth:K,isSimpleBox:K<=1.3}),X<0||W.length<4)return;return{progress:$.pipelineContext.large?R:A};function A(G,w){var T,D=w.getStore();while((T=G.next())!=null){var P=D.get(X,T),j=D.get(F,T),E=D.get(H,T),L=D.get(B,T),h=D.get(z,T),_=Math.min(j,E),S=Math.max(j,E),I=i(_,P),M=i(S,P),y=i(L,P),b=i(h,P),u=[];o(u,M,0),o(u,I,1),u.push(e(b),e(M),e(y),e(I));var c=w.getItemModel(T),m=!!c.get(["itemStyle","borderColorDoji"]);w.setItemLayout(T,{sign:wE0(D,T,j,E,H,m),initBaseline:j>E?M[q]:I[q],ends:u,brushRect:n(L,h,P)})}function i(Z0,q0){var k0=[];return k0[Y]=q0,k0[q]=Z0,isNaN(q0)||isNaN(Z0)?[NaN,NaN]:Q.dataToPoint(k0)}function o(Z0,q0,k0){var c0=q0.slice(),J1=q0.slice();c0[Y]=WG(c0[Y]+K/2,1,!1),J1[Y]=WG(J1[Y]-K/2,1,!0),k0?Z0.push(c0,J1):Z0.push(J1,c0)}function n(Z0,q0,k0){var c0=i(Z0,k0),J1=i(q0,k0);return c0[Y]-=K/2,J1[Y]-=K/2,{x:c0[0],y:c0[1],width:q?K:J1[0]-c0[0],height:q?J1[1]-c0[1]:K}}function e(Z0){return Z0[Y]=WG(Z0[Y],1),Z0}}function R(G,w){var T=T4(G.count*4),D=0,P,j=[],E=[],L,h=w.getStore(),_=!!$.get(["itemStyle","borderColorDoji"]);while((L=G.next())!=null){var S=h.get(X,L),I=h.get(F,L),M=h.get(H,L),y=h.get(B,L),b=h.get(z,L);if(isNaN(S)||isNaN(y)||isNaN(b)){T[D++]=NaN,D+=3;continue}T[D++]=wE0(h,L,I,M,H,_),j[Y]=S,j[q]=y,P=Q.dataToPoint(j,null,E),T[D++]=P?P[0]:NaN,T[D++]=P?P[1]:NaN,j[q]=b,P=Q.dataToPoint(j,null,E),T[D++]=P?P[1]:NaN}w.setLayout("largePoints",T)}}};function wE0($,Q,J,K,Y,q){var Z;if(J>K)Z=-1;else if(J<K)Z=1;else Z=q?0:Q>0?$.get(Y,Q-1)<=K?1:-1:1;return Z}function BH1($,Q){var J=$.getBaseAxis(),K,Y=J.type==="category"?J.getBandWidth():(K=J.getExtent(),Math.abs(K[1]-K[0])/Q.count()),q=h0(f0($.get("barMaxWidth"),Y),Y),Z=h0(f0($.get("barMinWidth"),1),Y),X=$.get("barWidth");return X!=null?h0(X,Y):Math.max(Math.min(Y/2,q),Z)}var OE0=NH1;function zo($){$.registerChartView(VE0),$.registerSeriesModel(GE0),$.registerPreprocessor(Bo),$.registerVisual(BE0),$.registerLayout(OE0)}function TE0($,Q){var J=Q.rippleEffectColor||Q.color;$.eachChild(function(K){K.attr({z:Q.z,zlevel:Q.zlevel,style:{stroke:Q.brushType==="stroke"?J:null,fill:Q.brushType==="fill"?J:null}})})}var zH1=function($){x(Q,$);function Q(J,K){var Y=$.call(this)||this,q=new CY(J,K),Z=new _0;return Y.add(q),Y.add(Z),Y.updateData(J,K),Y}return Q.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},Q.prototype.startEffectAnimation=function(J){var{symbolType:K,color:Y,rippleNumber:q}=J,Z=this.childAt(1);for(var X=0;X<q;X++){var W=j5(K,-1,-1,2,2,Y);W.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:0.5,scaleY:0.5});var F=-X/q*J.period+J.effectOffset;W.animate("",!0).when(J.period,{scaleX:J.rippleScale/2,scaleY:J.rippleScale/2}).delay(F).start(),W.animateStyle(!0).when(J.period,{opacity:0}).delay(F).start(),Z.add(W)}TE0(Z,J)},Q.prototype.updateEffectAnimation=function(J){var K=this._effectCfg,Y=this.childAt(1),q=["symbolType","period","rippleScale","rippleNumber"];for(var Z=0;Z<q.length;Z++){var X=q[Z];if(K[X]!==J[X]){this.stopEffectAnimation(),this.startEffectAnimation(J);return}}TE0(Y,J)},Q.prototype.highlight=function(){p8(this)},Q.prototype.downplay=function(){d8(this)},Q.prototype.getSymbolType=function(){var J=this.childAt(0);return J&&J.getSymbolType()},Q.prototype.updateData=function(J,K){var Y=this,q=J.hostModel;this.childAt(0).updateData(J,K);var Z=this.childAt(1),X=J.getItemModel(K),W=J.getItemVisual(K,"symbol"),F=FQ(J.getItemVisual(K,"symbolSize")),H=J.getItemVisual(K,"style"),B=H&&H.fill,z=X.getModel("emphasis");Z.setScale(F),Z.traverse(function(w){w.setStyle("fill",B)});var A=n9(J.getItemVisual(K,"symbolOffset"),F);if(A)Z.x=A[0],Z.y=A[1];var R=J.getItemVisual(K,"symbolRotate");Z.rotation=(R||0)*Math.PI/180||0;var G={};if(G.showEffectOn=q.get("showEffectOn"),G.rippleScale=X.get(["rippleEffect","scale"]),G.brushType=X.get(["rippleEffect","brushType"]),G.period=X.get(["rippleEffect","period"])*1000,G.effectOffset=K/J.count(),G.z=q.getShallow("z")||0,G.zlevel=q.getShallow("zlevel")||0,G.symbolType=W,G.color=B,G.rippleEffectColor=X.get(["rippleEffect","color"]),G.rippleNumber=X.get(["rippleEffect","number"]),G.showEffectOn==="render")this._effectCfg?this.updateEffectAnimation(G):this.startEffectAnimation(G),this._effectCfg=G;else this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(w){if(w==="emphasis"){if(G.showEffectOn!=="render")Y.startEffectAnimation(G)}else if(w==="normal"){if(G.showEffectOn!=="render")Y.stopEffectAnimation()}};this._effectCfg=G,u1(this,z.get("focus"),z.get("blurScope"),z.get("disabled"))},Q.prototype.fadeOut=function(J){J&&J()},Q}(_0),DE0=zH1;var AH1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(){this._symbolDraw=new nJ(DE0)},Q.prototype.render=function(J,K,Y){var q=J.getData(),Z=this._symbolDraw;Z.updateData(q,{clipShape:this._getClipShape(J)}),this.group.add(Z.group)},Q.prototype._getClipShape=function(J){var K=J.coordinateSystem,Y=K&&K.getArea&&K.getArea();return J.get("clip",!0)?Y:null},Q.prototype.updateTransform=function(J,K,Y){var q=J.getData();this.group.dirty();var Z=VQ("").reset(J,K,Y);if(Z.progress)Z.progress({start:0,end:q.count(),count:q.count()},q);this._symbolDraw.updateLayout()},Q.prototype._updateGroupTransform=function(J){var K=J.coordinateSystem;if(K&&K.getRoamTransform)this.group.transform=GA0(K.getRoamTransform()),this.group.decomposeTransform()},Q.prototype.remove=function(J,K){this._symbolDraw&&this._symbolDraw.remove(!0)},Q.type="effectScatter",Q}(_1),CE0=AH1;var VH1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.hasSymbolVisual=!0,J}return Q.prototype.getInitialData=function(J,K){return X8(null,this,{useEncodeDefaulter:!0})},Q.prototype.brushSelector=function(J,K,Y){return Y.point(K.getItemLayout(J))},Q.type="series.effectScatter",Q.dependencies=["grid","polar"],Q.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},Q}(m1),PE0=VH1;function Ao($){$.registerChartView(CE0),$.registerSeriesModel(PE0),$.registerLayout(VQ("effectScatter"))}var RH1=function($){x(Q,$);function Q(J,K,Y){var q=$.call(this)||this;return q.add(q.createLine(J,K,Y)),q._updateEffectSymbol(J,K),q}return Q.prototype.createLine=function(J,K,Y){return new FB(J,K,Y)},Q.prototype._updateEffectSymbol=function(J,K){var Y=J.getItemModel(K),q=Y.getModel("effect"),Z=q.get("symbolSize"),X=q.get("symbol");if(!J0(Z))Z=[Z,Z];var W=J.getItemVisual(K,"style"),F=q.get("color")||W&&W.stroke,H=this.childAt(1);if(this._symbolType!==X)this.remove(H),H=j5(X,-0.5,-0.5,1,1,F),H.z2=100,H.culling=!0,this.add(H);if(!H)return;H.setStyle("shadowColor",F),H.setStyle(q.getItemStyle(["color"])),H.scaleX=Z[0],H.scaleY=Z[1],H.setColor(F),this._symbolType=X,this._symbolScale=Z,this._updateEffectAnimation(J,q,K)},Q.prototype._updateEffectAnimation=function(J,K,Y){var q=this.childAt(1);if(!q)return;var Z=J.getItemLayout(Y),X=K.get("period")*1000,W=K.get("loop"),F=K.get("roundTrip"),H=K.get("constantSpeed"),B=u5(K.get("delay"),function(A){return A/J.count()*X/3});if(q.ignore=!0,this._updateAnimationPoints(q,Z),H>0)X=this._getLineLength(q)/H*1000;if(X!==this._period||W!==this._loop||F!==this._roundTrip){q.stopAnimation();var z=void 0;if(v0(B))z=B(Y);else z=B;if(q.__t>0)z=-X*q.__t;this._animateSymbol(q,X,z,W,F)}this._period=X,this._loop=W,this._roundTrip=F},Q.prototype._animateSymbol=function(J,K,Y,q,Z){if(K>0){J.__t=0;var X=this,W=J.animate("",q).when(Z?K*2:K,{__t:Z?2:1}).delay(Y).during(function(){X._updateSymbolPosition(J)});if(!q)W.done(function(){X.remove(J)});W.start()}},Q.prototype._getLineLength=function(J){return c3(J.__p1,J.__cp1)+c3(J.__cp1,J.__p2)},Q.prototype._updateAnimationPoints=function(J,K){J.__p1=K[0],J.__p2=K[1],J.__cp1=K[2]||[(K[0][0]+K[1][0])/2,(K[0][1]+K[1][1])/2]},Q.prototype.updateData=function(J,K,Y){this.childAt(0).updateData(J,K,Y),this._updateEffectSymbol(J,K)},Q.prototype._updateSymbolPosition=function(J){var{__p1:K,__p2:Y,__cp1:q}=J,Z=J.__t<1?J.__t:2-J.__t,X=[J.x,J.y],W=X.slice(),F=o6,H=SR;X[0]=F(K[0],q[0],Y[0],Z),X[1]=F(K[1],q[1],Y[1],Z);var B=J.__t<1?H(K[0],q[0],Y[0],Z):H(Y[0],q[0],K[0],1-Z),z=J.__t<1?H(K[1],q[1],Y[1],Z):H(Y[1],q[1],K[1],1-Z);if(J.rotation=-Math.atan2(z,B)-Math.PI/2,this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")if(J.__lastT!==void 0&&J.__lastT<J.__t){if(J.scaleY=c3(W,X)*1.05,Z===1)X[0]=W[0]+(X[0]-W[0])/2,X[1]=W[1]+(X[1]-W[1])/2}else if(J.__lastT===1)J.scaleY=2*c3(K,X);else J.scaleY=this._symbolScale[1];J.__lastT=J.__t,J.ignore=!1,J.x=X[0],J.y=X[1]},Q.prototype.updateLayout=function(J,K){this.childAt(0).updateLayout(J,K);var Y=J.getItemModel(K).getModel("effect");this._updateEffectAnimation(J,Y,K)},Q}(_0),YS=RH1;var GH1=function($){x(Q,$);function Q(J,K,Y){var q=$.call(this)||this;return q._createPolyline(J,K,Y),q}return Q.prototype._createPolyline=function(J,K,Y){var q=J.getItemLayout(K),Z=new K6({shape:{points:q}});this.add(Z),this._updateCommonStl(J,K,Y)},Q.prototype.updateData=function(J,K,Y){var q=J.hostModel,Z=this.childAt(0),X={shape:{points:J.getItemLayout(K)}};V1(Z,X,q,K),this._updateCommonStl(J,K,Y)},Q.prototype._updateCommonStl=function(J,K,Y){var q=this.childAt(0),Z=J.getItemModel(K),X=Y&&Y.emphasisLineStyle,W=Y&&Y.focus,F=Y&&Y.blurScope,H=Y&&Y.emphasisDisabled;if(!Y||J.hasItemOption){var B=Z.getModel("emphasis");X=B.getModel("lineStyle").getLineStyle(),H=B.get("disabled"),W=B.get("focus"),F=B.get("blurScope")}q.useStyle(J.getItemVisual(K,"style")),q.style.fill=null,q.style.strokeNoScale=!0;var z=q.ensureState("emphasis");z.style=X,u1(this,W,F,H)},Q.prototype.updateLayout=function(J,K){var Y=this.childAt(0);Y.setShape("points",J.getItemLayout(K))},Q}(_0),qS=GH1;var wH1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J._lastFrame=0,J._lastFramePercent=0,J}return Q.prototype.createLine=function(J,K,Y){return new qS(J,K,Y)},Q.prototype._updateAnimationPoints=function(J,K){this._points=K;var Y=[0],q=0;for(var Z=1;Z<K.length;Z++){var X=K[Z-1],W=K[Z];q+=c3(X,W),Y.push(q)}if(q===0){this._length=0;return}for(var Z=0;Z<Y.length;Z++)Y[Z]/=q;this._offsets=Y,this._length=q},Q.prototype._getLineLength=function(){return this._length},Q.prototype._updateSymbolPosition=function(J){var K=J.__t<1?J.__t:2-J.__t,Y=this._points,q=this._offsets,Z=Y.length;if(!q)return;var X=this._lastFrame,W;if(K<this._lastFramePercent){var F=Math.min(X+1,Z-1);for(W=F;W>=0;W--)if(q[W]<=K)break;W=Math.min(W,Z-2)}else{for(W=X;W<Z;W++)if(q[W]>K)break;W=Math.min(W-1,Z-2)}var H=(K-q[W])/(q[W+1]-q[W]),B=Y[W],z=Y[W+1];J.x=B[0]*(1-H)+H*z[0],J.y=B[1]*(1-H)+H*z[1];var A=J.__t<1?z[0]-B[0]:B[0]-z[0],R=J.__t<1?z[1]-B[1]:B[1]-z[1];J.rotation=-Math.atan2(R,A)-Math.PI/2,this._lastFrame=W,this._lastFramePercent=K,J.ignore=!1},Q}(YS),kE0=wH1;var OH1=function(){function $(){this.polyline=!1,this.curveness=0,this.segs=[]}return $}(),TH1=function($){x(Q,$);function Q(J){var K=$.call(this,J)||this;return K._off=0,K.hoverDataIdx=-1,K}return Q.prototype.reset=function(){this.notClear=!1,this._off=0},Q.prototype.getDefaultStyle=function(){return{stroke:a.color.neutral99,fill:null}},Q.prototype.getDefaultShape=function(){return new OH1},Q.prototype.buildPath=function(J,K){var{segs:Y,curveness:q}=K,Z;if(K.polyline)for(Z=this._off;Z<Y.length;){var X=Y[Z++];if(X>0){J.moveTo(Y[Z++],Y[Z++]);for(var W=1;W<X;W++)J.lineTo(Y[Z++],Y[Z++])}}else for(Z=this._off;Z<Y.length;){var F=Y[Z++],H=Y[Z++],B=Y[Z++],z=Y[Z++];if(J.moveTo(F,H),q>0){var A=(F+B)/2-(H-z)*q,R=(H+z)/2-(B-F)*q;J.quadraticCurveTo(A,R,B,z)}else J.lineTo(B,z)}if(this.incremental)this._off=Z,this.notClear=!0},Q.prototype.findDataIndex=function(J,K){var Y=this.shape,q=Y.segs,Z=Y.curveness,X=this.style.lineWidth;if(Y.polyline){var W=0;for(var F=0;F<q.length;){var H=q[F++];if(H>0){var B=q[F++],z=q[F++];for(var A=1;A<H;A++){var R=q[F++],G=q[F++];if(SJ(B,z,R,G,X,J,K))return W}}W++}}else{var W=0;for(var F=0;F<q.length;){var B=q[F++],z=q[F++],R=q[F++],G=q[F++];if(Z>0){var w=(B+R)/2-(z-G)*Z,T=(z+G)/2-(R-B)*Z;if(uE(B,z,w,T,R,G,X,J,K))return W}else if(SJ(B,z,R,G,X,J,K))return W;W++}}return-1},Q.prototype.contain=function(J,K){var Y=this.transformCoordToLocal(J,K),q=this.getBoundingRect();if(J=Y[0],K=Y[1],q.contain(J,K)){var Z=this.hoverDataIdx=this.findDataIndex(J,K);return Z>=0}return this.hoverDataIdx=-1,!1},Q.prototype.getBoundingRect=function(){var J=this._rect;if(!J){var K=this.shape,Y=K.segs,q=1/0,Z=1/0,X=-1/0,W=-1/0;for(var F=0;F<Y.length;){var H=Y[F++],B=Y[F++];q=Math.min(H,q),X=Math.max(H,X),Z=Math.min(B,Z),W=Math.max(B,W)}J=this._rect=new u0(q,Z,X,W)}return J},Q}(t0),DH1=function(){function $(){this.group=new _0}return $.prototype.updateData=function(Q){this._clear();var J=this._create();J.setShape({segs:Q.getLayout("linesPoints")}),this._setCommon(J,Q)},$.prototype.incrementalPrepareUpdate=function(Q){this.group.removeAll(),this._clear()},$.prototype.incrementalUpdate=function(Q,J){var K=this._newAdded[0],Y=J.getLayout("linesPoints"),q=K&&K.shape.segs;if(q&&q.length<20000){var Z=q.length,X=new Float32Array(Z+Y.length);X.set(q),X.set(Y,Z),K.setShape({segs:X})}else{this._newAdded=[];var W=this._create();W.incremental=!0,W.setShape({segs:Y}),this._setCommon(W,J),W.__startIndex=Q.start}},$.prototype.remove=function(){this._clear()},$.prototype.eachRendered=function(Q){this._newAdded[0]&&Q(this._newAdded[0])},$.prototype._create=function(){var Q=new TH1({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(Q),this.group.add(Q),Q},$.prototype._setCommon=function(Q,J,K){var Y=J.hostModel;Q.setShape({polyline:Y.get("polyline"),curveness:Y.get(["lineStyle","curveness"])}),Q.useStyle(Y.getModel("lineStyle").getLineStyle()),Q.style.strokeNoScale=!0;var q=J.getVisual("style");if(q&&q.stroke)Q.setStyle("stroke",q.stroke);Q.setStyle("fill",null);var Z=m0(Q);Z.seriesIndex=Y.seriesIndex,Q.on("mousemove",function(X){Z.dataIndex=null;var W=Q.hoverDataIdx;if(W>0)Z.dataIndex=W+Q.__startIndex})},$.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},$}(),jE0=DH1;var CH1={seriesType:"lines",plan:d9(),reset:function($){var Q=$.coordinateSystem;if(!Q){P1("The lines series must have a coordinate system.");return}var J=$.get("polyline"),K=$.pipelineContext.large;return{progress:function(Y,q){var Z=[];if(K){var X=void 0,W=Y.end-Y.start;if(J){var F=0;for(var H=Y.start;H<Y.end;H++)F+=$.getLineCoordsCount(H);X=new Float32Array(W+F*2)}else X=new Float32Array(W*4);var B=0,z=[];for(var H=Y.start;H<Y.end;H++){var A=$.getLineCoords(H,Z);if(J)X[B++]=A;for(var R=0;R<A;R++)z=Q.dataToPoint(Z[R],!1,z),X[B++]=z[0],X[B++]=z[1]}q.setLayout("linesPoints",X)}else for(var H=Y.start;H<Y.end;H++){var G=q.getItemModel(H),A=$.getLineCoords(H,Z),w=[];if(J)for(var T=0;T<A;T++)w.push(Q.dataToPoint(Z[T]));else{w[0]=Q.dataToPoint(Z[0]),w[1]=Q.dataToPoint(Z[1]);var D=G.get(["lineStyle","curveness"]);if(+D)w[2]=[(w[0][0]+w[1][0])/2-(w[0][1]-w[1][1])*D,(w[0][1]+w[1][1])/2-(w[1][0]-w[0][0])*D]}q.setItemLayout(H,w)}}}}},ZS=CH1;var PH1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){var q=J.getData(),Z=this._updateLineDraw(q,J),X=J.get("zlevel"),W=J.get(["effect","trailLength"]),F=Y.getZr(),H=F.painter.getType()==="svg";if(!H)F.painter.getLayer(X).clear(!0);if(this._lastZlevel!=null&&!H)F.configLayer(this._lastZlevel,{motionBlur:!1});if(this._showEffect(J)&&W>0)if(!H)F.configLayer(X,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(W/10+0.9,1),0)});else console.warn("SVG render mode doesn't support lines with trail effect");Z.updateData(q);var B=J.get("clip",!0)&&lJ(J.coordinateSystem,!1,J);if(B)this.group.setClipPath(B);else this.group.removeClipPath();this._lastZlevel=X,this._finished=!0},Q.prototype.incrementalPrepareRender=function(J,K,Y){var q=J.getData(),Z=this._updateLineDraw(q,J);Z.incrementalPrepareUpdate(q),this._clearLayer(Y),this._finished=!1},Q.prototype.incrementalRender=function(J,K,Y){this._lineDraw.incrementalUpdate(J,K.getData()),this._finished=J.end===K.getData().count()},Q.prototype.eachRendered=function(J){this._lineDraw&&this._lineDraw.eachRendered(J)},Q.prototype.updateTransform=function(J,K,Y){var q=J.getData(),Z=J.pipelineContext;if(!this._finished||Z.large||Z.progressiveRender)return{update:!0};else{var X=ZS.reset(J,K,Y);if(X.progress)X.progress({start:0,end:q.count(),count:q.count()},q);this._lineDraw.updateLayout(),this._clearLayer(Y)}},Q.prototype._updateLineDraw=function(J,K){var Y=this._lineDraw,q=this._showEffect(K),Z=!!K.get("polyline"),X=K.pipelineContext,W=X.large;if(q&&W)console.warn("Large lines not support effect");if(!Y||q!==this._hasEffet||Z!==this._isPolyline||W!==this._isLargeDraw){if(Y)Y.remove();Y=this._lineDraw=W?new jE0:new UB(Z?q?kE0:qS:q?YS:FB),this._hasEffet=q,this._isPolyline=Z,this._isLargeDraw=W}return this.group.add(Y.group),Y},Q.prototype._showEffect=function(J){return!!J.get(["effect","show"])},Q.prototype._clearLayer=function(J){var K=J.getZr(),Y=K.painter.getType()==="svg";if(!Y&&this._lastZlevel!=null)K.painter.getLayer(this._lastZlevel).clear(!0)},Q.prototype.remove=function(J,K){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(K)},Q.prototype.dispose=function(J,K){this.remove(J,K)},Q.type="lines",Q}(_1),EE0=PH1;var kH1=typeof Uint32Array>"u"?Array:Uint32Array,jH1=typeof Float64Array>"u"?Array:Float64Array;function LE0($){var Q=$.data;if(Q&&Q[0]&&Q[0][0]&&Q[0][0].coord)console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }"),$.data=K0(Q,function(J){var K=[J[0].coord,J[1].coord],Y={coords:K};if(J[0].name)Y.fromName=J[0].name;if(J[1].name)Y.toName=J[1].name;return aH([Y,J[0],J[1]])})}var EH1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.visualStyleAccessPath="lineStyle",J.visualDrawType="stroke",J}return Q.prototype.init=function(J){J.data=J.data||[],LE0(J);var K=this._processFlatCoordsArray(J.data);if(this._flatCoords=K.flatCoords,this._flatCoordsOffset=K.flatCoordsOffset,K.flatCoords)J.data=new Float32Array(K.count);$.prototype.init.apply(this,arguments)},Q.prototype.mergeOption=function(J){if(LE0(J),J.data){var K=this._processFlatCoordsArray(J.data);if(this._flatCoords=K.flatCoords,this._flatCoordsOffset=K.flatCoordsOffset,K.flatCoords)J.data=new Float32Array(K.count)}$.prototype.mergeOption.apply(this,arguments)},Q.prototype.appendData=function(J){var K=this._processFlatCoordsArray(J.data);if(K.flatCoords){if(!this._flatCoords)this._flatCoords=K.flatCoords,this._flatCoordsOffset=K.flatCoordsOffset;else this._flatCoords=$Y(this._flatCoords,K.flatCoords),this._flatCoordsOffset=$Y(this._flatCoordsOffset,K.flatCoordsOffset);J.data=new Float32Array(K.count)}this.getRawData().appendData(J.data)},Q.prototype._getCoordsFromItemModel=function(J){var K=this.getData().getItemModel(J),Y=K.option instanceof Array?K.option:K.getShallow("coords");if(!(Y instanceof Array&&Y.length>0&&Y[0]instanceof Array))throw Error("Invalid coords "+JSON.stringify(Y)+". Lines must have 2d coords array in data item.");return Y},Q.prototype.getLineCoordsCount=function(J){if(this._flatCoordsOffset)return this._flatCoordsOffset[J*2+1];else return this._getCoordsFromItemModel(J).length},Q.prototype.getLineCoords=function(J,K){if(this._flatCoordsOffset){var Y=this._flatCoordsOffset[J*2],q=this._flatCoordsOffset[J*2+1];for(var Z=0;Z<q;Z++)K[Z]=K[Z]||[],K[Z][0]=this._flatCoords[Y+Z*2],K[Z][1]=this._flatCoords[Y+Z*2+1];return q}else{var X=this._getCoordsFromItemModel(J);for(var Z=0;Z<X.length;Z++)K[Z]=K[Z]||[],K[Z][0]=X[Z][0],K[Z][1]=X[Z][1];return X.length}},Q.prototype._processFlatCoordsArray=function(J){var K=0;if(this._flatCoords)K=this._flatCoords.length;if(U1(J[0])){var Y=J.length,q=new kH1(Y),Z=new jH1(Y),X=0,W=0,F=0;for(var H=0;H<Y;){F++;var B=J[H++];q[W++]=X+K,q[W++]=B;for(var z=0;z<B;z++){var A=J[H++],R=J[H++];if(Z[X++]=A,Z[X++]=R,H>Y)throw Error("Invalid data format.")}}return{flatCoordsOffset:new Uint32Array(q.buffer,0,W),flatCoords:Z,count:F}}return{flatCoordsOffset:null,flatCoords:null,count:J.length}},Q.prototype.getInitialData=function(J,K){var Y=ZQ.get(J.coordinateSystem);if(!Y)throw Error("Unknown coordinate system "+J.coordinateSystem);var q=new S6(["value"],this);return q.hasItemOption=!1,q.initData(J.data,[],function(Z,X,W,F){if(Z instanceof Array)return NaN;else{q.hasItemOption=!0;var H=Z.value;if(H!=null)return H instanceof Array?H[F]:H}}),q},Q.prototype.formatTooltip=function(J,K,Y){var q=this.getData(),Z=q.getItemModel(J),X=Z.get("name");if(X)return X;var W=Z.get("fromName"),F=Z.get("toName"),H=[];return W!=null&&H.push(W),F!=null&&H.push(F),x5("nameValue",{name:H.join(" > ")})},Q.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},Q.prototype.getProgressive=function(){var J=this.option.progressive;if(J==null)return this.option.large?1e4:this.get("progressive");return J},Q.prototype.getProgressiveThreshold=function(){var J=this.option.progressiveThreshold;if(J==null)return this.option.large?20000:this.get("progressiveThreshold");return J},Q.prototype.getZLevelKey=function(){var J=this.getModel("effect"),K=J.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:J.get("show")&&K>0?K+"":""},Q.type="series.lines",Q.dependencies=["grid","polar","geo","calendar"],Q.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:0.2},large:!1,largeThreshold:2000,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:0.5}},Q}(m1),hE0=EH1;function XS($){if(!($ instanceof Array))$=[$,$];return $}var LH1={seriesType:"lines",reset:function($){var Q=XS($.get("symbol")),J=XS($.get("symbolSize")),K=$.getData();K.setVisual("fromSymbol",Q&&Q[0]),K.setVisual("toSymbol",Q&&Q[1]),K.setVisual("fromSymbolSize",J&&J[0]),K.setVisual("toSymbolSize",J&&J[1]);function Y(q,Z){var X=q.getItemModel(Z),W=XS(X.getShallow("symbol",!0)),F=XS(X.getShallow("symbolSize",!0));W[0]&&q.setItemVisual(Z,"fromSymbol",W[0]),W[1]&&q.setItemVisual(Z,"toSymbol",W[1]),F[0]&&q.setItemVisual(Z,"fromSymbolSize",F[0]),F[1]&&q.setItemVisual(Z,"toSymbolSize",F[1])}return{dataEach:K.hasItemOption?Y:null}}},vE0=LH1;function Vo($){$.registerChartView(EE0),$.registerSeriesModel(hE0),$.registerLayout(ZS),$.registerVisual(vE0)}var hH1=256,vH1=function(){function $(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var Q=u7.createCanvas();this.canvas=Q}return $.prototype.update=function(Q,J,K,Y,q,Z){var X=this._getBrush(),W=this._getGradient(q,"inRange"),F=this._getGradient(q,"outOfRange"),H=this.pointSize+this.blurSize,B=this.canvas,z=B.getContext("2d"),A=Q.length;B.width=J,B.height=K;for(var R=0;R<A;++R){var G=Q[R],w=G[0],T=G[1],D=G[2],P=Y(D);z.globalAlpha=P,z.drawImage(X,w-H,T-H)}if(!B.width||!B.height)return B;var j=z.getImageData(0,0,B.width,B.height),E=j.data,L=0,h=E.length,_=this.minOpacity,S=this.maxOpacity,I=S-_;while(L<h){var P=E[L+3]/256,M=Math.floor(P*(hH1-1))*4;if(P>0){var y=Z(P)?W:F;P>0&&(P=P*I+_),E[L++]=y[M],E[L++]=y[M+1],E[L++]=y[M+2],E[L++]=y[M+3]*P*256}else L+=4}return z.putImageData(j,0,0),B},$.prototype._getBrush=function(){var Q=this._brushCanvas||(this._brushCanvas=u7.createCanvas()),J=this.pointSize+this.blurSize,K=J*2;Q.width=K,Q.height=K;var Y=Q.getContext("2d");return Y.clearRect(0,0,K,K),Y.shadowOffsetX=K,Y.shadowBlur=this.blurSize,Y.shadowColor=a.color.neutral99,Y.beginPath(),Y.arc(-J,J,this.pointSize,0,Math.PI*2,!0),Y.closePath(),Y.fill(),Q},$.prototype._getGradient=function(Q,J){var K=this._gradientPixels,Y=K[J]||(K[J]=new Uint8ClampedArray(1024)),q=[0,0,0,0],Z=0;for(var X=0;X<256;X++)Q[J](X/255,!0,q),Y[Z++]=q[0],Y[Z++]=q[1],Y[Z++]=q[2],Y[Z++]=q[3];return Y},$}(),SE0=vH1;function SH1($,Q,J){var K=$[1]-$[0];Q=K0(Q,function(Z){return{interval:[(Z.interval[0]-$[0])/K,(Z.interval[1]-$[0])/K]}});var Y=Q.length,q=0;return function(Z){var X;for(X=q;X<Y;X++){var W=Q[X].interval;if(W[0]<=Z&&Z<=W[1]){q=X;break}}if(X===Y)for(X=q-1;X>=0;X--){var W=Q[X].interval;if(W[0]<=Z&&Z<=W[1]){q=X;break}}return X>=0&&X<Y&&J[X]}}function _H1($,Q){var J=$[1]-$[0];return Q=[(Q[0]-$[0])/J,(Q[1]-$[0])/J],function(K){return K>=Q[0]&&K<=Q[1]}}function _E0($){var Q=$.dimensions;return Q[0]==="lng"&&Q[1]==="lat"}var fH1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){var q;if(K.eachComponent("visualMap",function(X){X.eachTargetSeries(function(W){if(W===J)q=X})}),!q)throw Error("Heatmap must use with visualMap");this._progressiveEls=null,this.group.removeAll();var Z=J.coordinateSystem;if(Z.type==="cartesian2d"||Z.type==="calendar"||Z.type==="matrix")this._renderOnGridLike(J,Y,0,J.getData().count());else if(_E0(Z))this._renderOnGeo(Z,J,q,Y)},Q.prototype.incrementalPrepareRender=function(J,K,Y){this.group.removeAll()},Q.prototype.incrementalRender=function(J,K,Y,q){var Z=K.coordinateSystem;if(Z)if(_E0(Z))this.render(K,Y,q);else this._progressiveEls=[],this._renderOnGridLike(K,q,J.start,J.end,!0)},Q.prototype.eachRendered=function(J){G4(this._progressiveEls||this.group,J)},Q.prototype._renderOnGridLike=function(J,K,Y,q,Z){var X=J.coordinateSystem,W=r9(X,"cartesian2d"),F=r9(X,"matrix"),H,B,z,A;if(W){var R=X.getAxis("x"),G=X.getAxis("y");if(!(R.type==="category"&&G.type==="category"))throw Error("Heatmap on cartesian must have two category axes");if(!(R.onBand&&G.onBand))throw Error("Heatmap on cartesian must have two axes with boundaryGap true");H=R.getBandWidth()+0.5,B=G.getBandWidth()+0.5,z=R.scale.getExtent(),A=G.scale.getExtent()}var w=this.group,T=J.getData(),D=J.getModel(["emphasis","itemStyle"]).getItemStyle(),P=J.getModel(["blur","itemStyle"]).getItemStyle(),j=J.getModel(["select","itemStyle"]).getItemStyle(),E=J.get(["itemStyle","borderRadius"]),L=k5(J),h=J.getModel("emphasis"),_=h.get("focus"),S=h.get("blurScope"),I=h.get("disabled"),M=W||F?[T.mapDimension("x"),T.mapDimension("y"),T.mapDimension("value")]:[T.mapDimension("time"),T.mapDimension("value")];for(var y=Y;y<q;y++){var b=void 0,u=T.getItemVisual(y,"style");if(W){var c=T.get(M[0],y),m=T.get(M[1],y);if(isNaN(T.get(M[2],y))||isNaN(c)||isNaN(m)||c<z[0]||c>z[1]||m<A[0]||m>A[1])continue;var i=X.dataToPoint([c,m]);b=new Q1({shape:{x:i[0]-H/2,y:i[1]-B/2,width:H,height:B},style:u})}else if(F){var o=X.dataToLayout([T.get(M[0],y),T.get(M[1],y)]).rect;if(N6(o.x))continue;b=new Q1({z2:1,shape:o,style:u})}else{if(isNaN(T.get(M[1],y)))continue;var n=X.dataToLayout([T.get(M[0],y)]),o=n.contentRect||n.rect;if(N6(o.x)||N6(o.y))continue;b=new Q1({z2:1,shape:o,style:u})}if(T.hasItemOption){var e=T.getItemModel(y),Z0=e.getModel("emphasis");D=Z0.getModel("itemStyle").getItemStyle(),P=e.getModel(["blur","itemStyle"]).getItemStyle(),j=e.getModel(["select","itemStyle"]).getItemStyle(),E=e.get(["itemStyle","borderRadius"]),_=Z0.get("focus"),S=Z0.get("blurScope"),I=Z0.get("disabled"),L=k5(e)}b.shape.r=E;var q0=J.getRawValue(y),k0="-";if(q0&&q0[2]!=null)k0=q0[2]+"";if(v5(b,L,{labelFetcher:J,labelDataIndex:y,defaultOpacity:u.opacity,defaultText:k0}),b.ensureState("emphasis").style=D,b.ensureState("blur").style=P,b.ensureState("select").style=j,u1(b,_,S,I),b.incremental=Z,Z)b.states.emphasis.hoverLayer=!0;if(w.add(b),T.setItemGraphicEl(y,b),this._progressiveEls)this._progressiveEls.push(b)}},Q.prototype._renderOnGeo=function(J,K,Y,q){var Z=Y.targetVisuals.inRange,X=Y.targetVisuals.outOfRange,W=K.getData(),F=this._hmLayer||this._hmLayer||new SE0;F.blurSize=K.get("blurSize"),F.pointSize=K.get("pointSize"),F.minOpacity=K.get("minOpacity"),F.maxOpacity=K.get("maxOpacity");var H=J.getViewRect().clone(),B=J.getRoamTransform();H.applyTransform(B);var z=Math.max(H.x,0),A=Math.max(H.y,0),R=Math.min(H.width+H.x,q.getWidth()),G=Math.min(H.height+H.y,q.getHeight()),w=R-z,T=G-A,D=[W.mapDimension("lng"),W.mapDimension("lat"),W.mapDimension("value")],P=W.mapArray(D,function(h,_,S){var I=J.dataToPoint([h,_]);return I[0]-=z,I[1]-=A,I.push(S),I}),j=Y.getExtent(),E=Y.type==="visualMap.continuous"?_H1(j,Y.option.range):SH1(j,Y.getPieceList(),Y.option.selected);F.update(P,w,T,Z.color.getNormalizer(),{inRange:Z.color.getColorMapper(),outOfRange:X.color.getColorMapper()},E);var L=new n5({style:{width:w,height:T,x:z,y:A,image:F.canvas},silent:!0});this.group.add(L)},Q.type="heatmap",Q}(_1),fE0=fH1;var IH1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.getInitialData=function(J,K){return X8(null,this,{generateCoord:"value"})},Q.prototype.preventIncremental=function(){var J=ZQ.get(this.get("coordinateSystem"));if(J&&J.dimensions)return J.dimensions[0]==="lng"&&J.dimensions[1]==="lat"},Q.type="series.heatmap",Q.dependencies=["grid","geo","calendar","matrix"],Q.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:a.color.primary}}},Q}(m1),IE0=IH1;function Ro($){$.registerChartView(fE0),$.registerSeriesModel(IE0)}var MH1=["itemStyle","borderWidth"],ME0=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Go=new R4,bH1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){var q=this.group,Z=J.getData(),X=this._data,W=J.coordinateSystem,F=W.getBaseAxis(),H=F.isHorizontal(),B=W.master.getRect(),z={ecSize:{width:Y.getWidth(),height:Y.getHeight()},seriesModel:J,coordSys:W,coordSysExtent:[[B.x,B.x+B.width],[B.y,B.y+B.height]],isHorizontal:H,valueDim:ME0[+H],categoryDim:ME0[1-+H]};Z.diff(X).add(function(R){if(!Z.hasValue(R))return;var G=gE0(Z,R),w=bE0(Z,R,G,z),T=yE0(Z,z,w);Z.setItemGraphicEl(R,T),q.add(T),cE0(T,z,w)}).update(function(R,G){var w=X.getItemGraphicEl(G);if(!Z.hasValue(R)){q.remove(w);return}var T=gE0(Z,R),D=bE0(Z,R,T,z),P=rE0(Z,D);if(w&&P!==w.__pictorialShapeStr)q.remove(w),Z.setItemGraphicEl(R,null),w=null;if(w)pH1(w,z,D);else w=yE0(Z,z,D,!0);Z.setItemGraphicEl(R,w),w.__pictorialSymbolMeta=D,q.add(w),cE0(w,z,D)}).remove(function(R){var G=X.getItemGraphicEl(R);G&&xE0(X,R,G.__pictorialSymbolMeta.animationModel,G)}).execute();var A=J.get("clip",!0)?lJ(J.coordinateSystem,!1,J):null;if(A)q.setClipPath(A);else q.removeClipPath();return this._data=Z,this.group},Q.prototype.remove=function(J,K){var Y=this.group,q=this._data;if(J.get("animation")){if(q)q.eachItemGraphicEl(function(Z){xE0(q,m0(Z).dataIndex,J,Z)})}else Y.removeAll()},Q.type="pictorialBar",Q}(_1);function bE0($,Q,J,K){var Y=$.getItemLayout(Q),q=J.get("symbolRepeat"),Z=J.get("symbolClip"),X=J.get("symbolPosition")||"start",W=J.get("symbolRotate"),F=(W||0)*Math.PI/180||0,H=J.get("symbolPatternSize")||2,B=J.isAnimationEnabled(),z={dataIndex:Q,layout:Y,itemModel:J,symbolType:$.getItemVisual(Q,"symbol")||"circle",style:$.getItemVisual(Q,"style"),symbolClip:Z,symbolRepeat:q,symbolRepeatDirection:J.get("symbolRepeatDirection"),symbolPatternSize:H,rotation:F,animationModel:B?J:null,hoverScale:B&&J.get(["emphasis","scale"]),z2:J.getShallow("z",!0)||0};gH1(J,q,Y,K,z),yH1($,Q,Y,q,Z,z.boundingLength,z.pxSign,H,K,z),xH1(J,z.symbolScale,F,K,z);var A=z.symbolSize,R=n9(J.get("symbolOffset"),A);return cH1(J,A,Y,q,Z,R,X,z.valueLineWidth,z.boundingLength,z.repeatCutLength,K,z),z}function gH1($,Q,J,K,Y){var q=K.valueDim,Z=$.get("symbolBoundingData"),X=K.coordSys.getOtherAxis(K.coordSys.getBaseAxis()),W=X.toGlobalCoord(X.dataToCoord(0)),F=1-+(J[q.wh]<=0),H;if(J0(Z)){var B=[wo(X,Z[0])-W,wo(X,Z[1])-W];B[1]<B[0]&&B.reverse(),H=B[F]}else if(Z!=null)H=wo(X,Z)-W;else if(Q)H=K.coordSysExtent[q.index][F]-W;else H=J[q.wh];if(Y.boundingLength=H,Q)Y.repeatCutLength=J[q.wh];var z=q.xy==="x",A=X.inverse;Y.pxSign=z&&!A||!z&&A?H>=0?1:-1:H>0?1:-1}function wo($,Q){return $.toGlobalCoord($.dataToCoord($.scale.parse(Q)))}function yH1($,Q,J,K,Y,q,Z,X,W,F){var{valueDim:H,categoryDim:B}=W,z=Math.abs(J[B.wh]),A=$.getItemVisual(Q,"symbolSize"),R;if(J0(A))R=A.slice();else if(A==null)R=["100%","100%"];else R=[A,A];R[B.index]=h0(R[B.index],z),R[H.index]=h0(R[H.index],K?z:Math.abs(q)),F.symbolSize=R;var G=F.symbolScale=[R[0]/X,R[1]/X];G[H.index]*=(W.isHorizontal?-1:1)*Z}function xH1($,Q,J,K,Y){var q=$.get(MH1)||0;if(q)Go.attr({scaleX:Q[0],scaleY:Q[1],rotation:J}),Go.updateTransform(),q/=Go.getLineScale(),q*=Q[K.valueDim.index];Y.valueLineWidth=q||0}function cH1($,Q,J,K,Y,q,Z,X,W,F,H,B){var{categoryDim:z,valueDim:A}=H,R=B.pxSign,G=Math.max(Q[A.index]+X,0),w=G;if(K){var T=Math.abs(W),D=u5($.get("symbolMargin"),"15%")+"",P=!1;if(D.lastIndexOf("!")===D.length-1)P=!0,D=D.slice(0,D.length-1);var j=h0(D,Q[A.index]),E=Math.max(G+j*2,0),L=P?0:j*2,h=zN(K),_=h?K:uE0((T+L)/E),S=T-_*G;if(j=S/2/(P?_:Math.max(_-1,1)),E=G+j*2,L=P?0:j*2,!h&&K!=="fixed")_=F?uE0((Math.abs(F)+L)/E):0;w=_*E-L,B.repeatTimes=_,B.symbolMargin=j}var I=R*(w/2),M=B.pathPosition=[];if(M[z.index]=J[z.wh]/2,M[A.index]=Z==="start"?I:Z==="end"?W-I:W/2,q)M[0]+=q[0],M[1]+=q[1];var y=B.bundlePosition=[];y[z.index]=J[z.xy],y[A.index]=J[A.xy];var b=B.barRectShape=Q0({},J);b[A.wh]=R*Math.max(Math.abs(J[A.wh]),Math.abs(M[A.index]+I)),b[z.wh]=J[z.wh];var u=B.clipShape={};u[z.xy]=-J[z.xy],u[z.wh]=H.ecSize[z.wh],u[A.xy]=0,u[A.wh]=J[A.wh]}function mE0($){var Q=$.symbolPatternSize,J=j5($.symbolType,-Q/2,-Q/2,Q,Q);return J.attr({culling:!0}),J.type!=="image"&&J.setStyle({strokeNoScale:!0}),J}function pE0($,Q,J,K){var Y=$.__pictorialBundle,q=J.symbolSize,Z=J.valueLineWidth,X=J.pathPosition,W=Q.valueDim,F=J.repeatTimes||0,H=0,B=q[Q.valueDim.index]+Z+J.symbolMargin*2;Oo($,function(G){if(G.__pictorialAnimationIndex=H,G.__pictorialRepeatTimes=F,H<F)VB(G,null,R(H),J,K);else VB(G,null,{scaleX:0,scaleY:0},J,K,function(){Y.remove(G)});H++});for(;H<F;H++){var z=mE0(J);z.__pictorialAnimationIndex=H,z.__pictorialRepeatTimes=F,Y.add(z);var A=R(H);VB(z,{x:A.x,y:A.y,scaleX:0,scaleY:0},{scaleX:A.scaleX,scaleY:A.scaleY,rotation:A.rotation},J,K)}function R(G){var w=X.slice(),T=J.pxSign,D=G;if(J.symbolRepeatDirection==="start"?T>0:T<0)D=F-1-G;return w[W.index]=B*(D-F/2+0.5)+X[W.index],{x:w[0],y:w[1],scaleX:J.symbolScale[0],scaleY:J.symbolScale[1],rotation:J.rotation}}}function dE0($,Q,J,K){var{__pictorialBundle:Y,__pictorialMainPath:q}=$;if(!q)q=$.__pictorialMainPath=mE0(J),Y.add(q),VB(q,{x:J.pathPosition[0],y:J.pathPosition[1],scaleX:0,scaleY:0,rotation:J.rotation},{scaleX:J.symbolScale[0],scaleY:J.symbolScale[1]},J,K);else VB(q,null,{x:J.pathPosition[0],y:J.pathPosition[1],scaleX:J.symbolScale[0],scaleY:J.symbolScale[1],rotation:J.rotation},J,K)}function nE0($,Q,J){var K=Q0({},Q.barRectShape),Y=$.__pictorialBarRect;if(!Y)Y=$.__pictorialBarRect=new Q1({z2:2,shape:K,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),Y.disableMorphing=!0,$.add(Y);else VB(Y,null,{shape:K},Q,J)}function lE0($,Q,J,K){if(J.symbolClip){var Y=$.__pictorialClipPath,q=Q0({},J.clipShape),Z=Q.valueDim,X=J.animationModel,W=J.dataIndex;if(Y)V1(Y,{shape:q},X,W);else{q[Z.wh]=0,Y=new Q1({shape:q}),$.__pictorialBundle.setClipPath(Y),$.__pictorialClipPath=Y;var F={};F[Z.wh]=J.clipShape[Z.wh],N1[K?"updateProps":"initProps"](Y,{shape:F},X,W)}}}function gE0($,Q){var J=$.getItemModel(Q);return J.getAnimationDelayParams=uH1,J.isAnimationEnabled=mH1,J}function uH1($){return{index:$.__pictorialAnimationIndex,count:$.__pictorialRepeatTimes}}function mH1(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function yE0($,Q,J,K){var Y=new _0,q=new _0;if(Y.add(q),Y.__pictorialBundle=q,q.x=J.bundlePosition[0],q.y=J.bundlePosition[1],J.symbolRepeat)pE0(Y,Q,J);else dE0(Y,Q,J);return nE0(Y,J,K),lE0(Y,Q,J,K),Y.__pictorialShapeStr=rE0($,J),Y.__pictorialSymbolMeta=J,Y}function pH1($,Q,J){var{animationModel:K,dataIndex:Y}=J,q=$.__pictorialBundle;if(V1(q,{x:J.bundlePosition[0],y:J.bundlePosition[1]},K,Y),J.symbolRepeat)pE0($,Q,J,!0);else dE0($,Q,J,!0);nE0($,J,!0),lE0($,Q,J,!0)}function xE0($,Q,J,K){var Y=K.__pictorialBarRect;Y&&Y.removeTextContent();var q=[];Oo(K,function(Z){q.push(Z)}),K.__pictorialMainPath&&q.push(K.__pictorialMainPath),K.__pictorialClipPath&&(J=null),v(q,function(Z){a3(Z,{scaleX:0,scaleY:0},J,Q,function(){K.parent&&K.parent.remove(K)})}),$.setItemGraphicEl(Q,null)}function rE0($,Q){return[$.getItemVisual(Q.dataIndex,"symbol")||"none",!!Q.symbolRepeat,!!Q.symbolClip].join(":")}function Oo($,Q,J){v($.__pictorialBundle.children(),function(K){K!==$.__pictorialBarRect&&Q.call(J,K)})}function VB($,Q,J,K,Y,q){if(Q&&$.attr(Q),K.symbolClip&&!Y)J&&$.attr(J);else J&&N1[Y?"updateProps":"initProps"]($,J,K.animationModel,K.dataIndex,q)}function cE0($,Q,J){var{dataIndex:K,itemModel:Y}=J,q=Y.getModel("emphasis"),Z=q.getModel("itemStyle").getItemStyle(),X=Y.getModel(["blur","itemStyle"]).getItemStyle(),W=Y.getModel(["select","itemStyle"]).getItemStyle(),F=Y.getShallow("cursor"),H=q.get("focus"),B=q.get("blurScope"),z=q.get("scale");Oo($,function(G){if(G instanceof n5){var w=G.style;G.useStyle(Q0({image:w.image,x:w.x,y:w.y,width:w.width,height:w.height},J.style))}else G.useStyle(J.style);var T=G.ensureState("emphasis");if(T.style=Z,z)T.scaleX=G.scaleX*1.1,T.scaleY=G.scaleY*1.1;G.ensureState("blur").style=X,G.ensureState("select").style=W,F&&(G.cursor=F),G.z2=J.z2});var A=Q.valueDim.posDesc[+(J.boundingLength>0)],R=$.__pictorialBarRect;R.ignoreClip=!0,v5(R,k5(Y),{labelFetcher:Q.seriesModel,labelDataIndex:K,defaultText:AQ(Q.seriesModel.getData(),K),inheritColor:J.style.fill,defaultOpacity:J.style.opacity,defaultOutsidePosition:A}),u1($,H,B,q.get("disabled"))}function uE0($){var Q=Math.round($);return Math.abs($-Q)<0.0001?Q:Math.ceil($)}var iE0=bH1;var dH1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.hasSymbolVisual=!0,J.defaultSymbol="roundRect",J}return Q.prototype.getInitialData=function(J){return J.stack=null,$.prototype.getInitialData.apply(this,arguments)},Q.type="series.pictorialBar",Q.dependencies=["grid"],Q.defaultOption=i8(eN.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:a.color.primary}}}),Q}(eN),sE0=dH1;function To($){$.registerChartView(iE0),$.registerSeriesModel(sE0),$.registerLayout($.PRIORITY.VISUAL.LAYOUT,a0(Ih,"pictorialBar")),$.registerLayout($.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Mh("pictorialBar"))}var nH1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J._layers=[],J}return Q.prototype.render=function(J,K,Y){var q=J.getData(),Z=this,X=this.group,W=J.getLayerSeries(),F=q.getLayout("layoutInfo"),H=F.rect,B=F.boundaryGap;X.x=0,X.y=H.y+B[0];function z(w){return w.name}var A=new E8(this._layersSeries||[],W,z,z),R=[];A.add(O0(G,this,"add")).update(O0(G,this,"update")).remove(O0(G,this,"remove")).execute();function G(w,T,D){var P=Z._layers;if(w==="remove"){X.remove(P[T]);return}var j=[],E=[],L,h=W[T].indices,_=0;for(;_<h.length;_++){var S=q.getItemLayout(h[_]),I=S.x,M=S.y0,y=S.y;j.push(I,M),E.push(I,M+y),L=q.getItemVisual(h[_],"style")}var b,u=q.getItemLayout(h[0]),c=J.getModel("label"),m=c.get("margin"),i=J.getModel("emphasis");if(w==="add"){var o=R[T]=new _0;if(b=new Uv({shape:{points:j,stackedOnPoints:E,smooth:0.4,stackedOnSmooth:0.4,smoothConstraint:!1},z2:0}),o.add(b),X.add(o),J.isAnimationEnabled())b.setClipPath(lH1(b.getBoundingRect(),J,function(){b.removeClipPath()}))}else{var o=P[D];b=o.childAt(0),X.add(o),R[T]=o,V1(b,{shape:{points:j,stackedOnPoints:E}},J),t6(b)}v5(b,k5(J),{labelDataIndex:h[_-1],defaultText:q.getName(h[_-1]),inheritColor:L.fill},{normal:{verticalAlign:"middle"}}),b.setTextConfig({position:null,local:!0});var n=b.getTextContent();if(n)n.x=u.x-m,n.y=u.y0+u.y/2;b.useStyle(L),q.setItemGraphicEl(T,b),M5(b,J),u1(b,i.get("focus"),i.get("blurScope"),i.get("disabled"))}this._layersSeries=W,this._layers=R},Q.type="themeRiver",Q}(_1);function lH1($,Q,J){var K=new Q1({shape:{x:$.x-10,y:$.y-10,width:0,height:$.height+20}});return t1(K,{shape:{x:$.x-50,width:$.width+100,height:$.height+20}},Q,J),K}var oE0=nH1;var Do=2,rH1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(J){$.prototype.init.apply(this,arguments),this.legendVisualProvider=new W$(O0(this.getData,this),O0(this.getRawData,this))},Q.prototype.fixData=function(J){var K=J.length,Y={},q=rR(J,function(z){if(!Y.hasOwnProperty(z[0]+""))Y[z[0]+""]=-1;return z[2]}),Z=[];q.buckets.each(function(z,A){Z.push({name:A,dataList:z})});var X=Z.length;for(var W=0;W<X;++W){var F=Z[W].name;for(var H=0;H<Z[W].dataList.length;++H){var B=Z[W].dataList[H][0]+"";Y[B]=W}for(var B in Y)if(Y.hasOwnProperty(B)&&Y[B]!==W)Y[B]=W,J[K]=[B,0,F],K++}return J},Q.prototype.getInitialData=function(J,K){var Y=this.getReferringComponents("singleAxis",w5).models[0],q=Y.get("type"),Z=j1(J.data,function(R){return R[2]!==void 0}),X=this.fixData(Z||[]),W=[],F=this.nameMap=L0(),H=0;for(var B=0;B<X.length;++B)if(W.push(X[B][Do]),!F.get(X[B][Do]))F.set(X[B][Do],H),H++;var z=HQ(X,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:sW(q)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,A=new S6(z,this);return A.initData(X),A},Q.prototype.getLayerSeries=function(){var J=this.getData(),K=J.count(),Y=[];for(var q=0;q<K;++q)Y[q]=q;var Z=J.mapDimension("single"),X=rR(Y,function(F){return J.get("name",F)}),W=[];return X.buckets.each(function(F,H){F.sort(function(B,z){return J.get(Z,B)-J.get(Z,z)}),W.push({name:H,indices:F})}),W},Q.prototype.getAxisTooltipData=function(J,K,Y){if(!J0(J))J=J?[J]:[];var q=this.getData(),Z=this.getLayerSeries(),X=[],W=Z.length,F;for(var H=0;H<W;++H){var B=Number.MAX_VALUE,z=-1,A=Z[H].indices.length;for(var R=0;R<A;++R){var G=q.get(J[0],Z[H].indices[R]),w=Math.abs(G-K);if(w<=B)F=G,B=w,z=Z[H].indices[R]}X.push(z)}return{dataIndices:X,nestestValue:F}},Q.prototype.formatTooltip=function(J,K,Y){var q=this.getData(),Z=q.getName(J),X=q.get(q.mapDimension("value"),J);return x5("nameValue",{name:Z,value:X})},Q.type="series.themeRiver",Q.dependencies=["singleAxis"],Q.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},Q}(m1),aE0=rH1;function Co($,Q){$.eachSeriesByType("themeRiver",function(J){var K=J.getData(),Y=J.coordinateSystem,q={},Z=Y.getRect();q.rect=Z;var X=J.get("boundaryGap"),W=Y.getAxis();if(q.boundaryGap=X,W.orient==="horizontal"){X[0]=h0(X[0],Z.height),X[1]=h0(X[1],Z.height);var F=Z.height-X[0]-X[1];tE0(K,J,F)}else{X[0]=h0(X[0],Z.width),X[1]=h0(X[1],Z.width);var H=Z.width-X[0]-X[1];tE0(K,J,H)}K.setLayout("layoutInfo",q)})}function tE0($,Q,J){if(!$.count())return;var K=Q.coordinateSystem,Y=Q.getLayerSeries(),q=$.mapDimension("single"),Z=$.mapDimension("value"),X=K0(Y,function(w){return K0(w.indices,function(T){var D=K.dataToPoint($.get(q,T));return D[1]=$.get(Z,T),D})}),W=iH1(X),F=W.y0,H=J/W.max,B=Y.length,z=Y[0].indices.length,A;for(var R=0;R<z;++R){A=F[R]*H,$.setItemLayout(Y[0].indices[R],{layerIndex:0,x:X[0][R][0],y0:A,y:X[0][R][1]*H});for(var G=1;G<B;++G)A+=X[G-1][R][1]*H,$.setItemLayout(Y[G].indices[R],{layerIndex:G,x:X[G][R][0],y0:A,y:X[G][R][1]*H})}}function iH1($){var Q=$.length,J=$[0].length,K=[],Y=[],q=0;for(var Z=0;Z<J;++Z){var X=0;for(var W=0;W<Q;++W)X+=$[W][Z][1];if(X>q)q=X;K.push(X)}for(var F=0;F<J;++F)Y[F]=(q-K[F])/2;q=0;for(var H=0;H<J;++H){var B=K[H]+Y[H];if(B>q)q=B}return{y0:Y,max:q}}function Po($){$.registerChartView(oE0),$.registerSeriesModel(aE0),$.registerLayout(Co),$.registerProcessor(i9("themeRiver"))}var sH1=2,oH1=4,aH1=function($){x(Q,$);function Q(J,K,Y,q){var Z=$.call(this)||this;Z.z2=sH1,Z.textConfig={inside:!0},m0(Z).seriesIndex=K.seriesIndex;var X=new w1({z2:oH1,silent:J.getModel().get(["label","silent"])});return Z.setTextContent(X),Z.updateData(!0,J,K,Y,q),Z}return Q.prototype.updateData=function(J,K,Y,q,Z){this.node=K,K.piece=this,Y=Y||this._seriesModel,q=q||this._ecModel;var X=this;m0(X).dataIndex=K.dataIndex;var W=K.getModel(),F=W.getModel("emphasis"),H=K.getLayout(),B=Q0({},H);B.label=null;var z=K.getVisual("style");z.lineJoin="bevel";var A=K.getVisual("decal");if(A)z.decal=UQ(A,Z);var R=P4(W.getModel("itemStyle"),B,!0);if(Q0(B,R),v(M7,function(D){var P=X.ensureState(D),j=W.getModel([D,"itemStyle"]);P.style=j.getItemStyle();var E=P4(j,B);if(E)P.shape=E}),J)X.setShape(B),X.shape.r=H.r0,t1(X,{shape:{r:H.r}},Y,K.dataIndex);else V1(X,{shape:B},Y),t6(X);X.useStyle(z),this._updateLabel(Y);var G=W.getShallow("cursor");G&&X.attr("cursor",G),this._seriesModel=Y||this._seriesModel,this._ecModel=q||this._ecModel;var w=F.get("focus"),T=w==="relative"?$Y(K.getAncestorsIndices(),K.getDescendantIndices()):w==="ancestor"?K.getAncestorsIndices():w==="descendant"?K.getDescendantIndices():w;u1(this,T,F.get("blurScope"),F.get("disabled"))},Q.prototype._updateLabel=function(J){var K=this,Y=this.node.getModel(),q=Y.getModel("label"),Z=this.node.getLayout(),X=Z.endAngle-Z.startAngle,W=(Z.startAngle+Z.endAngle)/2,F=Math.cos(W),H=Math.sin(W),B=this,z=B.getTextContent(),A=this.node.dataIndex,R=q.get("minAngle")/180*Math.PI,G=q.get("show")&&!(R!=null&&Math.abs(X)<R);z.ignore=!G,v(jZ,function(T){var D=T==="normal"?Y.getModel("label"):Y.getModel([T,"label"]),P=T==="normal",j=P?z:z.ensureState(T),E=J.getFormattedLabel(A,T);if(P)E=E||K.node.name;if(j.style=Z5(D,{},null,T!=="normal",!0),E)j.style.text=E;var L=D.get("show");if(L!=null&&!P)j.ignore=!L;var h=w(D,"position"),_=P?B:B.states[T],S=_.style.fill;_.textConfig={outsideFill:D.get("color")==="inherit"?S:null,inside:h!=="outside"};var I,M=w(D,"distance")||0,y=w(D,"align"),b=w(D,"rotate"),u=Math.PI*0.5,c=Math.PI*1.5,m=P8(b==="tangential"?Math.PI/2-W:W),i=m>u&&!BW(m-u)&&m<c;if(h==="outside")I=Z.r+M,y=i?"right":"left";else if(!y||y==="center"){if(X===2*Math.PI&&Z.r0===0)I=0;else I=(Z.r+Z.r0)/2;y="center"}else if(y==="left")I=Z.r0+M,y=i?"right":"left";else if(y==="right")I=Z.r-M,y=i?"left":"right";j.style.align=y,j.style.verticalAlign=w(D,"verticalAlign")||"middle",j.x=I*F+Z.cx,j.y=I*H+Z.cy;var o=0;if(b==="radial")o=P8(-W)+(i?Math.PI:0);else if(b==="tangential")o=P8(Math.PI/2-W)+(i?Math.PI:0);else if(U1(b))o=b*Math.PI/180;j.rotation=P8(o)});function w(T,D){var P=T.get(D);if(P==null)return q.get(D);return P}z.dirtyStyle()},Q}(I6),ko=aH1;var WS="sunburstRootToNode",eE0="sunburstHighlight",tH1="sunburstUnhighlight";function $L0($){$.registerAction({type:WS,update:"updateView"},function(Q,J){J.eachComponent({mainType:"series",subType:"sunburst",query:Q},K);function K(Y,q){var Z=EY(Q,[WS],Y);if(Z){var X=Y.getViewRoot();if(X)Q.direction=YB(X,Z.node)?"rollUp":"drillDown";Y.resetViewRoot(Z.node)}}}),$.registerAction({type:eE0,update:"none"},function(Q,J,K){Q=Q0({},Q),J.eachComponent({mainType:"series",subType:"sunburst",query:Q},Y);function Y(q){var Z=EY(Q,[eE0],q);if(Z)Q.dataIndex=Z.node.dataIndex}C6("sunburstHighlight","highlight"),K.dispatchAction(Q0(Q,{type:"highlight"}))}),$.registerAction({type:tH1,update:"updateView"},function(Q,J,K){Q=Q0({},Q),C6("sunburstUnhighlight","downplay"),K.dispatchAction(Q0(Q,{type:"downplay"}))})}var eH1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y,q){var Z=this;this.seriesModel=J,this.api=Y,this.ecModel=K;var X=J.getData(),W=X.tree.root,F=J.getViewRoot(),H=this.group,B=J.get("renderLabelForZeroData"),z=[];F.eachNode(function(D){z.push(D)});var A=this._oldChildren||[];R(z,A),T(W,F),this._initEvents(),this._oldChildren=z;function R(D,P){if(D.length===0&&P.length===0)return;new E8(P,D,j,j).add(E).update(E).remove(a0(E,null)).execute();function j(L){return L.getId()}function E(L,h){var _=L==null?null:D[L],S=h==null?null:P[h];G(_,S)}}function G(D,P){if(!B&&D&&!D.getValue())D=null;if(D!==W&&P!==W){if(P&&P.piece)if(D)P.piece.updateData(!1,D,J,K,Y),X.setItemGraphicEl(D.dataIndex,P.piece);else w(P);else if(D){var j=new ko(D,J,K,Y);H.add(j),X.setItemGraphicEl(D.dataIndex,j)}}}function w(D){if(!D)return;if(D.piece)H.remove(D.piece),D.piece=null}function T(D,P){if(P.depth>0){if(Z.virtualPiece)Z.virtualPiece.updateData(!1,D,J,K,Y);else Z.virtualPiece=new ko(D,J,K,Y),H.add(Z.virtualPiece);P.piece.off("click"),Z.virtualPiece.on("click",function(j){Z._rootToNode(P.parentNode)})}else if(Z.virtualPiece)H.remove(Z.virtualPiece),Z.virtualPiece=null}},Q.prototype._initEvents=function(){var J=this;this.group.off("click"),this.group.on("click",function(K){var Y=!1,q=J.seriesModel.getViewRoot();q.eachNode(function(Z){if(!Y&&Z.piece&&Z.piece===K.target){var X=Z.getModel().get("nodeClick");if(X==="rootToNode")J._rootToNode(Z);else if(X==="link"){var W=Z.getModel(),F=W.get("link");if(F){var H=W.get("target",!0)||"_blank";xW(F,H)}}Y=!0}})})},Q.prototype._rootToNode=function(J){if(J!==this.seriesModel.getViewRoot())this.api.dispatchAction({type:WS,from:this.uid,seriesId:this.seriesModel.id,targetNode:J})},Q.prototype.containPoint=function(J,K){var Y=K.getData(),q=Y.getItemLayout(0);if(q){var Z=J[0]-q.cx,X=J[1]-q.cy,W=Math.sqrt(Z*Z+X*X);return W<=q.r&&W>=q.r0}},Q.type="sunburst",Q}(_1),QL0=eH1;var $N1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.ignoreStyleOnData=!0,J}return Q.prototype.getInitialData=function(J,K){var Y={name:J.name,children:J.data};JL0(Y);var q=this._levelModels=K0(J.levels||[],function(W){return new D1(W,this,K)},this),Z=KB.createTree(Y,this,X);function X(W){W.wrapMethod("getItemModel",function(F,H){var B=Z.getNodeByDataIndex(H),z=q[B.depth];return z&&(F.parentModel=z),F})}return Z.data},Q.prototype.optionUpdated=function(){this.resetViewRoot()},Q.prototype.getDataParams=function(J){var K=$.prototype.getDataParams.apply(this,arguments),Y=this.getData().tree.getNodeByDataIndex(J);return K.treePathInfo=oZ(Y,this),K},Q.prototype.getLevelModel=function(J){return this._levelModels&&this._levelModels[J.depth]},Q.prototype.getViewRoot=function(){return this._viewRoot},Q.prototype.resetViewRoot=function(J){J?this._viewRoot=J:J=this._viewRoot;var K=this.getRawData().tree.root;if(!J||J!==K&&!K.contains(J))this._viewRoot=K},Q.prototype.enableAriaDecal=function(){Nw(this)},Q.type="series.sunburst",Q.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:0.2},label:{opacity:0.1}},animationType:"expansion",animationDuration:1000,animationDurationUpdate:500,data:[],sort:"desc"},Q}(m1);function JL0($){var Q=0;v($.children,function(K){JL0(K);var Y=K.value;J0(Y)&&(Y=Y[0]),Q+=Y});var J=$.value;if(J0(J))J=J[0];if(J==null||isNaN(J))J=Q;if(J<0)J=0;J0($.value)?$.value[0]=J:$.value=J}var KL0=$N1;var YL0=Math.PI/180;function jo($,Q,J){Q.eachSeriesByType($,function(K){var Y=K.get("center"),q=K.get("radius");if(!J0(q))q=[0,q];if(!J0(Y))Y=[Y,Y];var Z=J.getWidth(),X=J.getHeight(),W=Math.min(Z,X),F=h0(Y[0],Z),H=h0(Y[1],X),B=h0(q[0],W/2),z=h0(q[1],W/2),A=-K.get("startAngle")*YL0,R=K.get("minAngle")*YL0,G=K.getData().tree.root,w=K.getViewRoot(),T=w.depth,D=K.get("sort");if(D!=null)qL0(w,D);var P=0;v(w.children,function(m){!isNaN(m.getValue())&&P++});var j=w.getValue(),E=Math.PI/(j||P)*2,L=w.depth>0,h=w.height-(L?-1:1),_=(z-B)/(h||1),S=K.get("clockwise"),I=K.get("stillShowZeroSum"),M=S?1:-1,y=function(m,i){if(!m)return;var o=i;if(m!==G){var n=m.getValue(),e=j===0&&I?E:n*E;if(e<R)e=R;o=i+M*e;var Z0=m.depth-T-(L?-1:1),q0=B+_*Z0,k0=B+_*(Z0+1),c0=K.getLevelModel(m);if(c0){var J1=c0.get("r0",!0),W1=c0.get("r",!0),h1=c0.get("radius",!0);if(h1!=null)J1=h1[0],W1=h1[1];J1!=null&&(q0=h0(J1,W/2)),W1!=null&&(k0=h0(W1,W/2))}m.setLayout({angle:e,startAngle:i,endAngle:o,clockwise:S,cx:F,cy:H,r0:q0,r:k0})}if(m.children&&m.children.length){var X1=0;v(m.children,function(r0){X1+=y(r0,i+X1)})}return o-i};if(L){var b=B,u=B+_,c=Math.PI*2;G.setLayout({angle:c,startAngle:A,endAngle:A+c,clockwise:S,cx:F,cy:H,r0:b,r:u})}y(w,A)})}function qL0($,Q){var J=$.children||[];if($.children=QN1(J,Q),J.length)v($.children,function(K){qL0(K,Q)})}function QN1($,Q){if(v0(Q)){var J=K0($,function(Y,q){var Z=Y.getValue();return{params:{depth:Y.depth,height:Y.height,dataIndex:Y.dataIndex,getValue:function(){return Z}},index:q}});return J.sort(function(Y,q){return Q(Y.params,q.params)}),K0(J,function(Y){return $[Y.index]})}else{var K=Q==="asc";return $.sort(function(Y,q){var Z=(Y.getValue()-q.getValue())*(K?1:-1);return Z===0?(Y.dataIndex-q.dataIndex)*(K?-1:1):Z})}}function Eo($){var Q={};function J(K,Y,q){if(K.depth===0)return a.color.neutral50;var Z=K;while(Z&&Z.depth>1)Z=Z.parentNode;var X=Y.getColorFromPalette(Z.name||Z.dataIndex+"",Q);if(K.depth>1&&B0(X))X=qE(X,(K.depth-1)/(q-1)*0.5);return X}$.eachSeriesByType("sunburst",function(K){var Y=K.getData(),q=Y.tree;q.eachNode(function(Z){var X=Z.getModel(),W=X.getModel("itemStyle").getItemStyle();if(!W.fill)W.fill=J(Z,K,q.root.height);var F=Y.ensureUniqueItemVisual(Z.dataIndex,"style");Q0(F,W)})})}function Lo($){$.registerChartView(QL0),$.registerSeriesModel(KL0),$.registerLayout(a0(jo,"sunburst")),$.registerProcessor(a0(i9,"sunburst")),$.registerVisual(Eo),$L0($)}var ho={color:"fill",borderColor:"stroke"},ZL0={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},rJ=n0(),JN1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},Q.prototype.getInitialData=function(J,K){return X8(null,this)},Q.prototype.getDataParams=function(J,K,Y){var q=$.prototype.getDataParams.call(this,J,K);return Y&&(q.info=rJ(Y).info),q},Q.type="series.custom",Q.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],Q.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},Q}(m1),XL0=JN1;function KN1($,Q){return Q=Q||[0,0],K0(["x","y"],function(J,K){var Y=this.getAxis(J),q=Q[K],Z=$[K]/2;return Y.type==="category"?Y.getBandWidth():Math.abs(Y.dataToCoord(q-Z)-Y.dataToCoord(q+Z))},this)}function vo($){var Q=$.master.getRect();return{coordSys:{type:"cartesian2d",x:Q.x,y:Q.y,width:Q.width,height:Q.height},api:{coord:function(J){return $.dataToPoint(J)},size:O0(KN1,$)}}}function YN1($,Q){return Q=Q||[0,0],K0([0,1],function(J){var K=Q[J],Y=$[J]/2,q=[],Z=[];return q[J]=K-Y,Z[J]=K+Y,q[1-J]=Z[1-J]=Q[1-J],Math.abs(this.dataToPoint(q)[J]-this.dataToPoint(Z)[J])},this)}function So($){var Q=$.getBoundingRect();return{coordSys:{type:"geo",x:Q.x,y:Q.y,width:Q.width,height:Q.height,zoom:$.getZoom()},api:{coord:function(J){return $.dataToPoint(J)},size:O0(YN1,$)}}}function qN1($,Q){var J=this.getAxis(),K=Q instanceof Array?Q[0]:Q,Y=($ instanceof Array?$[0]:$)/2;return J.type==="category"?J.getBandWidth():Math.abs(J.dataToCoord(K-Y)-J.dataToCoord(K+Y))}function _o($){var Q=$.getRect();return{coordSys:{type:"singleAxis",x:Q.x,y:Q.y,width:Q.width,height:Q.height},api:{coord:function(J){return $.dataToPoint(J)},size:O0(qN1,$)}}}function ZN1($,Q){return Q=Q||[0,0],K0(["Radius","Angle"],function(J,K){var Y="get"+J+"Axis",q=this[Y](),Z=Q[K],X=$[K]/2,W=q.type==="category"?q.getBandWidth():Math.abs(q.dataToCoord(Z-X)-q.dataToCoord(Z+X));if(J==="Angle")W=W*Math.PI/180;return W},this)}function fo($){var Q=$.getRadiusAxis(),J=$.getAngleAxis(),K=Q.getExtent();return K[0]>K[1]&&K.reverse(),{coordSys:{type:"polar",cx:$.cx,cy:$.cy,r:K[1],r0:K[0]},api:{coord:function(Y){var q=Q.dataToRadius(Y[0]),Z=J.dataToAngle(Y[1]),X=$.coordToPoint([q,Z]);return X.push(q,Z*Math.PI/180),X},size:O0(ZN1,$)}}}function Io($){var Q=$.getRect(),J=$.getRangeInfo();return{coordSys:{type:"calendar",x:Q.x,y:Q.y,width:Q.width,height:Q.height,cellWidth:$.getCellWidth(),cellHeight:$.getCellHeight(),rangeInfo:{start:J.start,end:J.end,weeks:J.weeks,dayCount:J.allDay}},api:{coord:function(K,Y){return $.dataToPoint(K,Y)},layout:function(K,Y){return $.dataToLayout(K,Y)}}}}function Mo($){var Q=$.getRect();return{coordSys:{type:"matrix",x:Q.x,y:Q.y,width:Q.width,height:Q.height},api:{coord:function(J,K){return $.dataToPoint(J,K)},layout:function(J,K){return $.dataToLayout(J,K)}}}}var WL0={};function FS($,Q,J,K){return $&&($.legacy||$.legacy!==!1&&!J&&!K&&Q!=="tspan"&&(Q==="text"||x0($,"text")))}function US($,Q,J){var K=$,Y,q,Z;if(Q==="text")Z=K;else{Z={},x0(K,"text")&&(Z.text=K.text),x0(K,"rich")&&(Z.rich=K.rich),x0(K,"textFill")&&(Z.fill=K.textFill),x0(K,"textStroke")&&(Z.stroke=K.textStroke),x0(K,"fontFamily")&&(Z.fontFamily=K.fontFamily),x0(K,"fontSize")&&(Z.fontSize=K.fontSize),x0(K,"fontStyle")&&(Z.fontStyle=K.fontStyle),x0(K,"fontWeight")&&(Z.fontWeight=K.fontWeight),q={type:"text",style:Z,silent:!0},Y={};var X=x0(K,"textPosition");if(J)Y.position=X?K.textPosition:"inside";else X&&(Y.position=K.textPosition);x0(K,"textPosition")&&(Y.position=K.textPosition),x0(K,"textOffset")&&(Y.offset=K.textOffset),x0(K,"textRotation")&&(Y.rotation=K.textRotation),x0(K,"textDistance")&&(Y.distance=K.textDistance)}return FL0(Z,$),v(Z.rich,function(W){FL0(W,W)}),{textConfig:Y,textContent:q}}function FL0($,Q){if(!Q)return;Q.font=Q.textFont||Q.font,x0(Q,"textStrokeWidth")&&($.lineWidth=Q.textStrokeWidth),x0(Q,"textAlign")&&($.align=Q.textAlign),x0(Q,"textVerticalAlign")&&($.verticalAlign=Q.textVerticalAlign),x0(Q,"textLineHeight")&&($.lineHeight=Q.textLineHeight),x0(Q,"textWidth")&&($.width=Q.textWidth),x0(Q,"textHeight")&&($.height=Q.textHeight),x0(Q,"textBackgroundColor")&&($.backgroundColor=Q.textBackgroundColor),x0(Q,"textPadding")&&($.padding=Q.textPadding),x0(Q,"textBorderColor")&&($.borderColor=Q.textBorderColor),x0(Q,"textBorderWidth")&&($.borderWidth=Q.textBorderWidth),x0(Q,"textBorderRadius")&&($.borderRadius=Q.textBorderRadius),x0(Q,"textBoxShadowColor")&&($.shadowColor=Q.textBoxShadowColor),x0(Q,"textBoxShadowBlur")&&($.shadowBlur=Q.textBoxShadowBlur),x0(Q,"textBoxShadowOffsetX")&&($.shadowOffsetX=Q.textBoxShadowOffsetX),x0(Q,"textBoxShadowOffsetY")&&($.shadowOffsetY=Q.textBoxShadowOffsetY)}function bo($,Q,J){var K=$;K.textPosition=K.textPosition||J.position||"inside",J.offset!=null&&(K.textOffset=J.offset),J.rotation!=null&&(K.textRotation=J.rotation),J.distance!=null&&(K.textDistance=J.distance);var Y=K.textPosition.indexOf("inside")>=0,q=$.fill||a.color.neutral99;UL0(K,Q);var Z=K.textFill==null;if(Y){if(Z)K.textFill=J.insideFill||a.color.neutral00,!K.textStroke&&J.insideStroke&&(K.textStroke=J.insideStroke),!K.textStroke&&(K.textStroke=q),K.textStrokeWidth==null&&(K.textStrokeWidth=2)}else{if(Z)K.textFill=$.fill||J.outsideFill||a.color.neutral00;!K.textStroke&&J.outsideStroke&&(K.textStroke=J.outsideStroke)}return K.text=Q.text,K.rich=Q.rich,v(Q.rich,function(X){UL0(X,X)}),K}function UL0($,Q){if(!Q)return;x0(Q,"fill")&&($.textFill=Q.fill),x0(Q,"stroke")&&($.textStroke=Q.fill),x0(Q,"lineWidth")&&($.textStrokeWidth=Q.lineWidth),x0(Q,"font")&&($.font=Q.font),x0(Q,"fontStyle")&&($.fontStyle=Q.fontStyle),x0(Q,"fontWeight")&&($.fontWeight=Q.fontWeight),x0(Q,"fontSize")&&($.fontSize=Q.fontSize),x0(Q,"fontFamily")&&($.fontFamily=Q.fontFamily),x0(Q,"align")&&($.textAlign=Q.align),x0(Q,"verticalAlign")&&($.textVerticalAlign=Q.verticalAlign),x0(Q,"lineHeight")&&($.textLineHeight=Q.lineHeight),x0(Q,"width")&&($.textWidth=Q.width),x0(Q,"height")&&($.textHeight=Q.height),x0(Q,"backgroundColor")&&($.textBackgroundColor=Q.backgroundColor),x0(Q,"padding")&&($.textPadding=Q.padding),x0(Q,"borderColor")&&($.textBorderColor=Q.borderColor),x0(Q,"borderWidth")&&($.textBorderWidth=Q.borderWidth),x0(Q,"borderRadius")&&($.textBorderRadius=Q.borderRadius),x0(Q,"shadowColor")&&($.textBoxShadowColor=Q.shadowColor),x0(Q,"shadowBlur")&&($.textBoxShadowBlur=Q.shadowBlur),x0(Q,"shadowOffsetX")&&($.textBoxShadowOffsetX=Q.shadowOffsetX),x0(Q,"shadowOffsetY")&&($.textBoxShadowOffsetY=Q.shadowOffsetY),x0(Q,"textShadowColor")&&($.textShadowColor=Q.textShadowColor),x0(Q,"textShadowBlur")&&($.textShadowBlur=Q.textShadowBlur),x0(Q,"textShadowOffsetX")&&($.textShadowOffsetX=Q.textShadowOffsetX),x0(Q,"textShadowOffsetY")&&($.textShadowOffsetY=Q.textShadowOffsetY)}function go($,Q){var J=$+"^_^"+Q;if(!WL0[J])console.warn('[ECharts] DEPRECATED: "'+$+'" has been deprecated. '+Q),WL0[J]=!0}var zL0={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},HL0=Z1(zL0),HS=O8(c9,function($,Q){return $[Q]=1,$},{}),NL0=c9.join(", "),Pw=["","style","shape","extra"],GB=n0();function xo($,Q,J,K,Y){var q=$+"Animation",Z=MJ($,K,Y)||{},X=GB(Q).userDuring;if(Z.duration>0)Z.during=X?O0(HN1,{el:Q,userDuring:X}):null,Z.setToFinal=!0,Z.scope=$;return Q0(Z,J[q]),Z}function wB($,Q,J,K){K=K||{};var{dataIndex:Y,isInit:q,clearStyle:Z}=K,X=J.isAnimationEnabled(),W=GB($),F=Q.style;W.userDuring=Q.during;var H={},B={};if(BN1($,Q,B),$.type==="compound"){var z=$.shape.paths,A=Q.shape.paths;for(var R=0;R<A.length;R++){var G=A[R];yo("shape",G,z[R])}}else yo("shape",Q,B),yo("extra",Q,B);if(!q&&X)NN1($,Q,H),BL0("shape",$,Q,H),BL0("extra",$,Q,H),zN1($,Q,F,H);if(B.style=F,XN1($,B,Z),FN1($,Q),X)if(q){var w={};v(Pw,function(D){var P=D?Q[D]:Q;if(P&&P.enterFrom){if(D)w[D]=w[D]||{};Q0(D?w[D]:w,P.enterFrom)}});var T=xo("enter",$,Q,J,Y);if(T.duration>0)$.animateFrom(w,T)}else WN1($,Q,Y||0,J,H);co($,Q),F?$.dirty():$.markRedraw()}function co($,Q){var J=GB($).leaveToProps;for(var K=0;K<Pw.length;K++){var Y=Pw[K],q=Y?Q[Y]:Q;if(q&&q.leaveTo){if(!J)J=GB($).leaveToProps={};if(Y)J[Y]=J[Y]||{};Q0(Y?J[Y]:J,q.leaveTo)}}}function OB($,Q,J,K){if($){var Y=$.parent,q=GB($).leaveToProps;if(q){var Z=xo("update",$,Q,J,0);Z.done=function(){Y&&Y.remove($),K&&K()},$.animateTo(q,Z)}else Y&&Y.remove($),K&&K()}}function eZ($){return $==="all"}function XN1($,Q,J){var K=Q.style;if(!$.isGroup&&K){if(J){$.useStyle({});var Y=$.animators;for(var q=0;q<Y.length;q++){var Z=Y[q];if(Z.targetName==="style")Z.changeTarget($.style)}}$.setStyle(K)}if(Q)Q.style=null,Q&&$.attr(Q),Q.style=K}function WN1($,Q,J,K,Y){if(Y){var q=xo("update",$,Q,K,J);if(q.duration>0)$.animateFrom(Y,q)}}function FN1($,Q){if(x0(Q,"silent")&&($.silent=Q.silent),x0(Q,"ignore")&&($.ignore=Q.ignore),$ instanceof a6)x0(Q,"invisible")&&($.invisible=Q.invisible);if($ instanceof t0)x0(Q,"autoBatch")&&($.autoBatch=Q.autoBatch)}var iJ={},UN1={setTransform:function($,Q){return S0(x0(HS,$),"Only "+NL0+" available in `setTransform`."),iJ.el[$]=Q,this},getTransform:function($){return S0(x0(HS,$),"Only "+NL0+" available in `getTransform`."),iJ.el[$]},setShape:function($,Q){RB($);var J=iJ.el,K=J.shape||(J.shape={});return K[$]=Q,J.dirtyShape&&J.dirtyShape(),this},getShape:function($){RB($);var Q=iJ.el.shape;if(Q)return Q[$]},setStyle:function($,Q){RB($);var J=iJ.el,K=J.style;if(K){if(N6(Q))T5("style."+$+" must not be assigned with NaN.");K[$]=Q,J.dirtyStyle&&J.dirtyStyle()}return this},getStyle:function($){RB($);var Q=iJ.el.style;if(Q)return Q[$]},setExtra:function($,Q){RB($);var J=iJ.el.extra||(iJ.el.extra={});return J[$]=Q,this},getExtra:function($){RB($);var Q=iJ.el.extra;if(Q)return Q[$]}};function RB($){if($==="transition"||$==="enterFrom"||$==="leaveTo")throw Error('key must not be "'+$+'"')}function HN1(){var $=this,Q=$.el;if(!Q)return;var J=GB(Q).userDuring,K=$.userDuring;if(J!==K){$.el=$.userDuring=null;return}iJ.el=Q,K(UN1)}function BL0($,Q,J,K){var Y=J[$];if(!Y)return;var q=Q[$],Z;if(q){var X=J.transition,W=Y.transition;if(W)if(!Z&&(Z=K[$]={}),eZ(W))Q0(Z,q);else{var F=K5(W);for(var H=0;H<F.length;H++){var B=F[H],z=q[B];Z[B]=z}}else if(eZ(X)||o0(X,$)>=0){!Z&&(Z=K[$]={});var A=Z1(q);for(var H=0;H<A.length;H++){var B=A[H],z=q[B];if(AN1(Y[B],z))Z[B]=z}}}}function yo($,Q,J){var K=Q[$];if(!K)return;var Y=J[$]={},q=Z1(K);for(var Z=0;Z<q.length;Z++){var X=q[Z];Y[X]=ZW(K[X])}}function NN1($,Q,J){var K=Q.transition,Y=eZ(K)?c9:K5(K||[]);for(var q=0;q<Y.length;q++){var Z=Y[q];if(Z==="style"||Z==="shape"||Z==="extra")continue;var X=$[Z];AL0(Z,"el.transition"),J[Z]=X}}function BN1($,Q,J){for(var K=0;K<HL0.length;K++){var Y=HL0[K],q=zL0[Y],Z=Q[Y];if(Z)J[q[0]]=Z[0],J[q[1]]=Z[1]}for(var K=0;K<c9.length;K++){var X=c9[K];if(Q[X]!=null)J[X]=Q[X]}}function zN1($,Q,J,K){if(!J)return;var Y=$.style,q;if(Y){var Z=J.transition,X=Q.transition;if(Z&&!eZ(Z)){var W=K5(Z);!q&&(q=K.style={});for(var F=0;F<W.length;F++){var H=W[F],B=Y[H];q[H]=B}}else if($.getAnimationStyleProps&&(eZ(X)||eZ(Z)||o0(X,"style")>=0)){var z=$.getAnimationStyleProps(),A=z?z.style:null;if(A){!q&&(q=K.style={});var R=Z1(J);for(var F=0;F<R.length;F++){var H=R[F];if(A[H]){var B=Y[H];q[H]=B}}}}}}function AN1($,Q){return!c6($)?$!=null&&isFinite($):$!==Q}var AL0;AL0=function($,Q){if(!x0(HS,$))T5("Prop `"+$+"` is not a permitted in `"+Q+"`. Only `"+Z1(HS).join("`, `")+"` are permitted.")};var VL0=n0(),VN1=["percent","easing","shape","style","extra"];function NS($){$.stopAnimation("keyframe"),$.attr(VL0($))}function TB($,Q,J){if(!J.isAnimationEnabled()||!Q)return;if(J0(Q)){v(Q,function(X){TB($,X,J)});return}var{keyframes:K,duration:Y}=Q;if(J&&Y==null){var q=MJ("enter",J,0);Y=q&&q.duration}if(!K||!Y)return;var Z=VL0($);v(Pw,function(X){if(X&&!$[X])return;var W,F=!1;if(K.sort(function(H,B){return H.percent-B.percent}),v(K,function(H){var B=$.animators,z=X?H[X]:H;if(H.percent>=1)F=!0;if(!z)return;var A=Z1(z);if(!X)A=j1(A,function(w){return o0(VN1,w)<0});if(!A.length)return;if(!W)W=$.animate(X,Q.loop,!0),W.scope="keyframe";for(var R=0;R<B.length;R++)if(B[R]!==W&&B[R].targetName===W.targetName)B[R].stopTracks(A);X&&(Z[X]=Z[X]||{});var G=X?Z[X]:Z;v(A,function(w){G[w]=((X?$[X]:$)||{})[w]}),W.whenWithKeys(Y*H.percent,z,A,H.easing)}),!W)return;if(!F)T5("End frame with percent: 1 is missing in the keyframeAnimation.",!0);W.delay(Q.delay||0).duration(Y).start(Q.easing)})}var hY="emphasis",$2="normal",lo="blur",ro="select",Q2=[$2,hY,lo,ro],uo={normal:["itemStyle"],emphasis:[hY,"itemStyle"],blur:[lo,"itemStyle"],select:[ro,"itemStyle"]},mo={normal:["label"],emphasis:[hY,"label"],blur:[lo,"label"],select:[ro,"label"]},RN1=["x","y"],GN1="e\x00\x00",H$={normal:{},emphasis:{},blur:{},select:{}},RL0={cartesian2d:vo,geo:So,single:_o,polar:fo,calendar:Io,matrix:Mo};function BS($){return $ instanceof t0}function no($){return $ instanceof a6}function wN1($,Q){if(Q.copyTransform($),no(Q)&&no($)){if(Q.setStyle($.style),Q.z=$.z,Q.z2=$.z2,Q.zlevel=$.zlevel,Q.invisible=$.invisible,Q.ignore=$.ignore,BS(Q)&&BS($))Q.setShape($.shape)}}var ON1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y,q){this._progressiveEls=null;var Z=this._data,X=J.getData(),W=this.group,F=GL0(J,X,K,Y);if(!Z)W.removeAll();X.diff(Z).add(function(B){po(Y,null,B,F(B,q),J,W,X)}).remove(function(B){var z=Z.getItemGraphicEl(B);z&&OB(z,rJ(z).option,J)}).update(function(B,z){var A=Z.getItemGraphicEl(z);po(Y,A,B,F(B,q),J,W,X)}).execute();var H=J.get("clip",!0)?lJ(J.coordinateSystem,!1,J):null;if(H)W.setClipPath(H);else W.removeClipPath();this._data=X},Q.prototype.incrementalPrepareRender=function(J,K,Y){this.group.removeAll(),this._data=null},Q.prototype.incrementalRender=function(J,K,Y,q,Z){var X=K.getData(),W=GL0(K,X,Y,q),F=this._progressiveEls=[];function H(A){if(!A.isGroup)A.incremental=!0,A.ensureState("emphasis").hoverLayer=!0}for(var B=J.start;B<J.end;B++){var z=po(null,null,B,W(B,Z),K,this.group,X);if(z)z.traverse(H),F.push(z)}},Q.prototype.eachRendered=function(J){G4(this._progressiveEls||this.group,J)},Q.prototype.filterForExposedEvent=function(J,K,Y,q){var Z=K.element;if(Z==null||Y.name===Z)return!0;while((Y=Y.__hostTarget||Y.parent)&&Y!==this.group)if(Y.name===Z)return!0;return!1},Q.type="custom",Q}(_1),kL0=ON1;function io($){var Q=$.type,J;if(Q==="path"){var K=$.shape,Y=K.width!=null&&K.height!=null?{x:K.x||0,y:K.y||0,width:K.width,height:K.height}:null,q=PL0(K);J=_W(q,null,Y,K.layout||"center"),rJ(J).customPathData=q}else if(Q==="image")J=new n5({}),rJ(J).customImagePath=$.style.image;else if(Q==="text")J=new w1({});else if(Q==="group")J=new _0;else if(Q==="compoundPath"){var K=$.shape;if(!K||!K.paths){var Z="";Z="shape.paths must be specified in compoundPath",J5(Z)}var X=K0(K.paths,function(H){if(H.type==="path")return _W(H.shape.pathData,H,null);var B=PN(H.type);if(!B){var z="";z='graphic type "'+Q+'" can not be found.',J5(z)}return new B});J=new LZ({shape:{paths:X}})}else{var W=PN(Q);if(!W){var Z="";Z='graphic type "'+Q+'" can not be found.',J5(Z)}J=new W}return rJ(J).customGraphicType=Q,J.name=$.name,J.z2EmphasisLift=1,J.z2SelectLift=1,J}function so($,Q,J,K,Y,q,Z){NS(Q);var X=Y&&Y.normal.cfg;if(X)Q.setTextConfig(X);if(K&&K.transition==null)K.transition=RN1;var W=K&&K.style;if(W){if(Q.type==="text"){var F=W;x0(F,"textFill")&&(F.fill=F.textFill),x0(F,"textStroke")&&(F.stroke=F.textStroke)}var H=void 0,B=BS(Q)?W.decal:null;if($&&B)B.dirty=!0,H=UQ(B,$);W.__decalPattern=H}if(no(Q)){if(W){var H=W.__decalPattern;if(H)W.decal=H}}wB(Q,K,q,{dataIndex:J,isInit:Z,clearStyle:!0}),TB(Q,K.keyframeAnimation,q)}function DL0($,Q,J,K,Y){var q=Q.isGroup?null:Q,Z=Y&&Y[$].cfg;if(q){var X=q.ensureState($);if(K===!1){var W=q.getState($);if(W)W.style=null}else X.style=K||null;if(Z)X.textConfig=Z;e$(q)}}function TN1($,Q,J){if($.isGroup)return;var K=$,Y=J.currentZ,q=J.currentZLevel;K.z=Y,K.zlevel=q;var Z=Q.z2;Z!=null&&(K.z2=Z||0);for(var X=0;X<Q2.length;X++)DN1(K,Q,Q2[X])}function DN1($,Q,J){var K=J===$2,Y=K?Q:zS(Q,J),q=Y?Y.z2:null,Z;if(q!=null)Z=K?$:$.ensureState(J),Z.z2=q||0}function GL0($,Q,J,K){var Y=$.get("renderItem");if(typeof Y==="string"){var q=pO0(Y);if(q)Y=q;else console.warn("Custom series renderItem '"+Y+`' not found.
                Call 'echarts.registerCustomSeries' to register it.`)}var Z=$.coordinateSystem,X={};if(Z)S0(Y,"series.render is required."),S0(Z.prepareCustoms||RL0[Z.type],"This coordSys does not support custom series."),X=Z.prepareCustoms?Z.prepareCustoms(Z):RL0[Z.type](Z);var W=b0({getWidth:K.getWidth,getHeight:K.getHeight,getZr:K.getZr,getDevicePixelRatio:K.getDevicePixelRatio,value:E,style:h,ordinalRawValue:L,styleEmphasis:_,visual:M,barLayout:y,currentSeriesIndices:b,font:u},X.api||{}),F={context:{},seriesId:$.id,seriesName:$.name,seriesIndex:$.seriesIndex,coordSys:X.coordSys,dataInsideLength:Q.count(),encode:CN1($.getData()),itemPayload:$.get("itemPayload")||{}},H,B,z={},A={},R={},G={};for(var w=0;w<Q2.length;w++){var T=Q2[w];R[T]=$.getModel(uo[T]),G[T]=$.getModel(mo[T])}function D(c){return c===H?B||(B=Q.getItemModel(c)):Q.getItemModel(c)}function P(c,m){return!Q.hasItemOption?R[m]:c===H?z[m]||(z[m]=D(c).getModel(uo[m])):D(c).getModel(uo[m])}function j(c,m){return!Q.hasItemOption?G[m]:c===H?A[m]||(A[m]=D(c).getModel(mo[m])):D(c).getModel(mo[m])}return function(c,m){return H=c,B=null,z={},A={},Y&&Y(b0({dataIndexInside:c,dataIndex:Q.getRawIndex(c),actionType:m?m.type:null},F),W)};function E(c,m){return m==null&&(m=H),Q.getStore().get(Q.getDimensionIndex(c||0),m)}function L(c,m){m==null&&(m=H),c=c||0;var i=Q.getDimensionInfo(c);if(!i){var o=Q.getDimensionIndex(c);return o>=0?Q.getStore().get(o,m):void 0}var n=Q.get(i.name,m),e=i&&i.ordinalMeta;return e?e.categories[n]:n}function h(c,m){go("api.style","Please write literal style directly instead."),m==null&&(m=H);var i=Q.getItemVisual(m,"style"),o=i&&i.fill,n=i&&i.opacity,e=P(m,$2).getItemStyle();o!=null&&(e.fill=o),n!=null&&(e.opacity=n);var Z0={inheritColor:B0(o)?o:a.color.neutral99},q0=j(m,$2),k0=Z5(q0,null,Z0,!1,!0);k0.text=q0.getShallow("show")?f0($.getFormattedLabel(m,$2),AQ(Q,m)):null;var c0=FG(q0,Z0,!1);return I(c,e),e=bo(e,k0,c0),c&&S(e,c),e.legacy=!0,e}function _(c,m){go("api.styleEmphasis","Please write literal style directly instead."),m==null&&(m=H);var i=P(m,hY).getItemStyle(),o=j(m,hY),n=Z5(o,null,null,!0,!0);n.text=o.getShallow("show")?B6($.getFormattedLabel(m,hY),$.getFormattedLabel(m,$2),AQ(Q,m)):null;var e=FG(o,null,!0);return I(c,i),i=bo(i,n,e),c&&S(i,c),i.legacy=!0,i}function S(c,m){for(var i in m)if(x0(m,i))c[i]=m[i]}function I(c,m){if(c)c.textFill&&(m.textFill=c.textFill),c.textPosition&&(m.textPosition=c.textPosition)}function M(c,m){if(m==null&&(m=H),x0(ho,c)){var i=Q.getItemVisual(m,"style");return i?i[ho[c]]:null}if(x0(ZL0,c))return Q.getItemVisual(m,c)}function y(c){if(Z.type==="cartesian2d"){var m=Z.getBaseAxis();return bT0(b0({axis:m},c))}}function b(){return J.getCurrentSeriesIndices()}function u(c){return EN(c,J)}}function CN1($){var Q={};return v($.dimensions,function(J){var K=$.getDimensionInfo(J);if(!K.isExtraCoord){var Y=K.coordDim,q=Q[Y]=Q[Y]||[];q[K.coordDimIndex]=$.getDimensionIndex(J)}}),Q}function po($,Q,J,K,Y,q,Z){if(!K){q.remove(Q);return}var X=oo($,Q,J,K,Y,q);return X&&Z.setItemGraphicEl(J,X),X&&u1(X,K.focus,K.blurScope,K.emphasisDisabled),X}function oo($,Q,J,K,Y,q){S0(K,"should not have an null/undefined element setting");var Z=-1,X=Q;if(Q&&CL0(Q,K,Y))Z=o0(q.childrenRef(),Q),Q=null;var W=!Q,F=Q;if(!F){if(F=io(K),X)wN1(X,F)}else F.clearStates();if(K.morph===!1)F.disableMorphing=!0;else if(F.disableMorphing)F.disableMorphing=!1;if(K.tooltipDisabled)F.tooltipDisabled=!0;H$.normal.cfg=H$.normal.conOpt=H$.emphasis.cfg=H$.emphasis.conOpt=H$.blur.cfg=H$.blur.conOpt=H$.select.cfg=H$.select.conOpt=null,H$.isLegacy=!1,kN1(F,J,K,Y,W,H$),PN1(F,J,K,Y,W),so($,F,J,K,H$,Y,W),x0(K,"info")&&(rJ(F).info=K.info);for(var H=0;H<Q2.length;H++){var B=Q2[H];if(B!==$2){var z=zS(K,B),A=ao(K,z,B);DL0(B,F,z,A,H$)}}if(TN1(F,K,Y),K.type==="group")jN1($,F,J,K,Y);if(Z>=0)q.replaceAt(F,Z);else q.add(F);return F}function CL0($,Q,J){var K=rJ($),Y=Q.type,q=Q.shape,Z=Q.style;return J.isUniversalTransitionEnabled()||Y!=null&&Y!==K.customGraphicType||Y==="path"&&vN1(q)&&PL0(q)!==K.customPathData||Y==="image"&&x0(Z,"image")&&Z.image!==K.customImagePath}function PN1($,Q,J,K,Y){var q=J.clipPath;if(q===!1){if($&&$.getClipPath())$.removeClipPath()}else if(q){var Z=$.getClipPath();if(Z&&CL0(Z,q,K))Z=null;if(!Z)Z=io(q),S0(BS(Z),"Only any type of `path` can be used in `clipPath`, rather than "+Z.type+"."),$.setClipPath(Z);so(null,Z,Q,q,null,K,Y)}}function kN1($,Q,J,K,Y,q){if($.isGroup||$.type==="compoundPath")return;wL0(J,null,q),wL0(J,hY,q);var Z=q.normal.conOpt,X=q.emphasis.conOpt,W=q.blur.conOpt,F=q.select.conOpt;if(Z!=null||X!=null||F!=null||W!=null){var H=$.getTextContent();if(Z===!1)H&&$.removeTextContent();else{if(Z=q.normal.conOpt=Z||{type:"text"},!H)H=io(Z),$.setTextContent(H);else H.clearStates();so(null,H,Q,Z,null,K,Y);var B=Z&&Z.style;for(var z=0;z<Q2.length;z++){var A=Q2[z];if(A!==$2){var R=q[A].conOpt;DL0(A,H,R,ao(Z,R,A),null)}}B?H.dirty():H.markRedraw()}}}function wL0($,Q,J){var K=!Q?$:zS($,Q),Y=!Q?$.style:ao($,K,hY),q=$.type,Z=K?K.textConfig:null,X=$.textContent,W=!X?null:!Q?X:zS(X,Q);if(Y&&(J.isLegacy||FS(Y,q,!!Z,!!W))){J.isLegacy=!0;var F=US(Y,q,!Q);if(!Z&&F.textConfig)Z=F.textConfig;if(!W&&F.textContent)W=F.textContent}if(!Q&&W){var H=W;!H.type&&(H.type="text"),S0(H.type==="text",'textContent.type must be "text"')}var B=!Q?J.normal:J[Q];B.cfg=Z,B.conOpt=W}function zS($,Q){return!Q?$:$?$[Q]:null}function ao($,Q,J){var K=Q&&Q.style;if(K==null&&J===hY&&$)K=$.styleEmphasis;return K}function jN1($,Q,J,K,Y){var q=K.children,Z=q?q.length:0,X=K.$mergeChildren,W=X==="byName"||K.diffChildrenByName,F=X===!1;if(!Z&&!W&&!F)return;if(W){LN1({api:$,oldChildren:Q.children()||[],newChildren:q||[],dataIndex:J,seriesModel:Y,group:Q});return}F&&Q.removeAll();var H=0;for(;H<Z;H++){var B=q[H],z=Q.childAt(H);if(B){if(B.ignore==null)B.ignore=!1;oo($,z,J,B,Y,Q)}else S0(z,"renderItem should not return a group containing elements as null/undefined/{} if they do not exist before."),z.ignore=!0}for(var A=Q.childCount()-1;A>=H;A--){var R=Q.childAt(A);EN1(Q,R,Y)}}function EN1($,Q,J){Q&&OB(Q,rJ($).option,J)}function LN1($){new E8($.oldChildren,$.newChildren,OL0,OL0,$).add(TL0).update(TL0).remove(hN1).execute()}function OL0($,Q){var J=$&&$.name;return J!=null?J:GN1+Q}function TL0($,Q){var J=this.context,K=$!=null?J.newChildren[$]:null,Y=Q!=null?J.oldChildren[Q]:null;oo(J.api,Y,J.dataIndex,K,J.seriesModel,J.group)}function hN1($){var Q=this.context,J=Q.oldChildren[$];J&&OB(J,rJ(J).option,Q.seriesModel)}function PL0($){return $&&($.pathData||$.d)}function vN1($){return $&&(x0($,"pathData")||x0($,"d"))}function to($){$.registerChartView(kL0),$.registerSeriesModel(XL0)}var zF=n0(),jL0=y0,eo=O0,SN1=function(){function $(){this._dragging=!1,this.animationThreshold=15}return $.prototype.render=function(Q,J,K,Y){var q=J.get("value"),Z=J.get("status");if(this._axisModel=Q,this._axisPointerModel=J,this._api=K,!Y&&this._lastValue===q&&this._lastStatus===Z)return;this._lastValue=q,this._lastStatus=Z;var X=this._group,W=this._handle;if(!Z||Z==="hide"){X&&X.hide(),W&&W.hide();return}X&&X.show(),W&&W.show();var F={};this.makeElOption(F,q,Q,J,K);var H=F.graphicKey;if(H!==this._lastGraphicKey)this.clear(K);this._lastGraphicKey=H;var B=this._moveAnimation=this.determineAnimation(Q,J);if(!X)X=this._group=new _0,this.createPointerEl(X,F,Q,J),this.createLabelEl(X,F,Q,J),K.getZr().add(X);else{var z=a0(EL0,J,B);this.updatePointerEl(X,F,z),this.updateLabelEl(X,F,z,J)}hL0(X,J,!0),this._renderHandle(q)},$.prototype.remove=function(Q){this.clear(Q)},$.prototype.dispose=function(Q){this.clear(Q)},$.prototype.determineAnimation=function(Q,J){var K=J.get("animation"),Y=Q.axis,q=Y.type==="category",Z=J.get("snap");if(!Z&&!q)return!1;if(K==="auto"||K==null){var X=this.animationThreshold;if(q&&Y.getBandWidth()>X)return!0;if(Z){var W=Tv(Q).seriesDataCount,F=Y.getExtent();return Math.abs(F[0]-F[1])/W>X}return!1}return K===!0},$.prototype.makeElOption=function(Q,J,K,Y,q){},$.prototype.createPointerEl=function(Q,J,K,Y){var q=J.pointer;if(q){var Z=zF(Q).pointerEl=new N1[q.type](jL0(J.pointer));Q.add(Z)}},$.prototype.createLabelEl=function(Q,J,K,Y){if(J.label){var q=zF(Q).labelEl=new w1(jL0(J.label));Q.add(q),LL0(q,Y)}},$.prototype.updatePointerEl=function(Q,J,K){var Y=zF(Q).pointerEl;if(Y&&J.pointer)Y.setStyle(J.pointer.style),K(Y,{shape:J.pointer.shape})},$.prototype.updateLabelEl=function(Q,J,K,Y){var q=zF(Q).labelEl;if(q)q.setStyle(J.label.style),K(q,{x:J.label.x,y:J.label.y}),LL0(q,Y)},$.prototype._renderHandle=function(Q){if(this._dragging||!this.updateHandleTransform)return;var J=this._axisPointerModel,K=this._api.getZr(),Y=this._handle,q=J.getModel("handle"),Z=J.get("status");if(!q.get("show")||!Z||Z==="hide"){Y&&K.remove(Y),this._handle=null;return}var X;if(!this._handle)X=!0,Y=this._handle=BY(q.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(F){r4(F.event)},onmousedown:eo(this._onHandleDragMove,this,0,0),drift:eo(this._onHandleDragMove,this),ondragend:eo(this._onHandleDragEnd,this)}),K.add(Y);hL0(Y,J,!1),Y.setStyle(q.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var W=q.get("size");if(!J0(W))W=[W,W];Y.scaleX=W[0]/2,Y.scaleY=W[1]/2,Y$(this,"_doDispatchAxisPointer",q.get("throttle")||0,"fixRate"),this._moveHandleToValue(Q,X)},$.prototype._moveHandleToValue=function(Q,J){EL0(this._axisPointerModel,!J&&this._moveAnimation,this._handle,$a(this.getHandleTransform(Q,this._axisModel,this._axisPointerModel)))},$.prototype._onHandleDragMove=function(Q,J){var K=this._handle;if(!K)return;this._dragging=!0;var Y=this.updateHandleTransform($a(K),[Q,J],this._axisModel,this._axisPointerModel);this._payloadInfo=Y,K.stopAnimation(),K.attr($a(Y)),zF(K).lastProp=null,this._doDispatchAxisPointer()},$.prototype._doDispatchAxisPointer=function(){var Q=this._handle;if(!Q)return;var J=this._payloadInfo,K=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:J.cursorPoint[0],y:J.cursorPoint[1],tooltipOption:J.tooltipOption,axesInfo:[{axisDim:K.axis.dim,axisIndex:K.componentIndex}]})},$.prototype._onHandleDragEnd=function(){this._dragging=!1;var Q=this._handle;if(!Q)return;var J=this._axisPointerModel.get("value");this._moveHandleToValue(J),this._api.dispatchAction({type:"hideTip"})},$.prototype.clear=function(Q){this._lastValue=null,this._lastStatus=null;var J=Q.getZr(),K=this._group,Y=this._handle;if(J&&K)this._lastGraphicKey=null,K&&J.remove(K),Y&&J.remove(Y),this._group=null,this._handle=null,this._payloadInfo=null;wY(this,"_doDispatchAxisPointer")},$.prototype.doClear=function(){},$.prototype.buildLabel=function(Q,J,K){return K=K||0,{x:Q[K],y:Q[1-K],width:J[K],height:J[1-K]}},$}();function EL0($,Q,J,K){if(!vL0(zF(J).lastProp,K))zF(J).lastProp=K,Q?V1(J,K,$):(J.stopAnimation(),J.attr(K))}function vL0($,Q){if(I0($)&&I0(Q)){var J=!0;return v(Q,function(K,Y){J=J&&vL0($[Y],K)}),!!J}else return $===Q}function LL0($,Q){$[Q.get(["label","show"])?"show":"hide"]()}function $a($){return{x:$.x||0,y:$.y||0,rotation:$.rotation||0}}function hL0($,Q,J){var K=Q.get("z"),Y=Q.get("zlevel");$&&$.traverse(function(q){if(q.type!=="group")K!=null&&(q.z=K),Y!=null&&(q.zlevel=Y),q.silent=J})}var DB=SN1;function CB($){var Q=$.get("type"),J=$.getModel(Q+"Style"),K;if(Q==="line")K=J.getLineStyle(),K.fill=null;else if(Q==="shadow")K=J.getAreaStyle(),K.stroke=null;return K}function Qa($,Q,J,K,Y){var q=J.get("value"),Z=Ja(q,Q.axis,Q.ecModel,J.get("seriesDataIndices"),{precision:J.get(["label","precision"]),formatter:J.get(["label","formatter"])}),X=J.getModel("label"),W=bJ(X.get("padding")||0),F=X.getFont(),H=wZ(Z,F),B=Y.position,z=H.width+W[1]+W[3],A=H.height+W[0]+W[2],R=Y.align;R==="right"&&(B[0]-=z),R==="center"&&(B[0]-=z/2);var G=Y.verticalAlign;G==="bottom"&&(B[1]-=A),G==="middle"&&(B[1]-=A/2),_N1(B,z,A,K);var w=X.get("backgroundColor");if(!w||w==="auto")w=Q.get(["axisLine","lineStyle","color"]);$.label={x:B[0],y:B[1],style:Z5(X,{text:Z,font:F,fill:X.getTextColor(),padding:W,backgroundColor:w}),z2:10}}function _N1($,Q,J,K){var Y=K.getWidth(),q=K.getHeight();$[0]=Math.min($[0]+Q,Y)-Q,$[1]=Math.min($[1]+J,q)-J,$[0]=Math.max($[0],0),$[1]=Math.max($[1],0)}function Ja($,Q,J,K,Y){$=Q.scale.parse($);var q=Q.scale.getLabel({value:$},{precision:Y.precision}),Z=Y.formatter;if(Z){var X={value:lN(Q,{value:$}),axisDimension:Q.dim,axisIndex:Q.index,seriesData:[]};if(v(K,function(W){var F=J.getSeriesByIndex(W.seriesIndex),H=W.dataIndexInside,B=F&&F.getDataParams(H);B&&X.seriesData.push(B)}),B0(Z))q=Z.replace("{value}",q);else if(v0(Z))q=Z(X)}return q}function kw($,Q,J){var K=Q6();return u8(K,K,J.rotation),D8(K,K,J.position),k8([$.dataToCoord(Q),(J.labelOffset||0)+(J.labelDirection||1)*(J.labelMargin||0)],K)}function AS($,Q,J,K,Y,q){var Z=L8.innerTextLayout(J.rotation,0,J.labelDirection);J.labelMargin=Y.get(["label","margin"]),Qa(Q,K,Y,q,{position:kw(K.axis,$,J),align:Z.textAlign,verticalAlign:Z.textVerticalAlign})}function PB($,Q,J){return J=J||0,{x1:$[J],y1:$[1-J],x2:Q[J],y2:Q[1-J]}}function VS($,Q,J){return J=J||0,{x:$[J],y:$[1-J],width:Q[J],height:Q[1-J]}}function Ka($,Q,J,K,Y,q){return{cx:$,cy:Q,r0:J,r:K,startAngle:Y,endAngle:q,clockwise:!0}}var fN1=function($){x(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.makeElOption=function(J,K,Y,q,Z){var X=Y.axis,W=X.grid,F=q.get("type"),H=SL0(W,X).getOtherAxis(X).getGlobalExtent(),B=X.toGlobalCoord(X.dataToCoord(K,!0));if(F&&F!=="none"){var z=CB(q),A=IN1[F](X,B,H);A.style=z,J.graphicKey=A.type,J.pointer=A}var R=Kw(W.getRect(),Y);AS(K,J,R,Y,q,Z)},Q.prototype.getHandleTransform=function(J,K,Y){var q=Kw(K.axis.grid.getRect(),K,{labelInside:!1});q.labelMargin=Y.get(["handle","margin"]);var Z=kw(K.axis,J,q);return{x:Z[0],y:Z[1],rotation:q.rotation+(q.labelDirection<0?Math.PI:0)}},Q.prototype.updateHandleTransform=function(J,K,Y,q){var Z=Y.axis,X=Z.grid,W=Z.getGlobalExtent(!0),F=SL0(X,Z).getOtherAxis(Z).getGlobalExtent(),H=Z.dim==="x"?0:1,B=[J.x,J.y];B[H]+=K[H],B[H]=Math.min(W[1],B[H]),B[H]=Math.max(W[0],B[H]);var z=(F[1]+F[0])/2,A=[z,z];A[H]=B[H];var R=[{verticalAlign:"middle"},{align:"center"}];return{x:B[0],y:B[1],rotation:J.rotation,cursorPoint:A,tooltipOption:R[H]}},Q}(DB);function SL0($,Q){var J={};return J[Q.dim+"AxisIndex"]=Q.index,$.getCartesian(J)}var IN1={line:function($,Q,J){var K=PB([Q,J[0]],[Q,J[1]],_L0($));return{type:"Line",subPixelOptimize:!0,shape:K}},shadow:function($,Q,J){var K=Math.max(1,$.getBandWidth()),Y=J[1]-J[0];return{type:"Rect",shape:VS([Q-K/2,J[0]],[K,Y],_L0($))}}};function _L0($){return $.dim==="x"?0:1}var fL0=fN1;var MN1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="axisPointer",Q.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:a.color.border,width:1,type:"dashed"},shadowStyle:{color:a.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:a.color.neutral00,padding:[5,7,5,7],backgroundColor:a.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:a.color.accent40,throttle:40}},Q}(B1),IL0=MN1;var vY=n0(),bN1=v;function GS($,Q,J){if(L1.node)return;var K=Q.getZr();vY(K).records||(vY(K).records={}),gN1(K,Q);var Y=vY(K).records[$]||(vY(K).records[$]={});Y.handler=J}function gN1($,Q){if(vY($).initialized)return;vY($).initialized=!0,J("click",a0(ML0,"click")),J("mousemove",a0(ML0,"mousemove")),J("globalout",xN1);function J(K,Y){$.on(K,function(q){var Z=cN1(Q);bN1(vY($).records,function(X){X&&Y(X,q,Z.dispatchAction)}),yN1(Z.pendings,Q)})}}function yN1($,Q){var J=$.showTip.length,K=$.hideTip.length,Y;if(J)Y=$.showTip[J-1];else if(K)Y=$.hideTip[K-1];if(Y)Y.dispatchAction=null,Q.dispatchAction(Y)}function xN1($,Q,J){$.handler("leave",null,J)}function ML0($,Q,J,K){Q.handler($,J,K)}function cN1($){var Q={showTip:[],hideTip:[]},J=function(K){var Y=Q[K.type];if(Y)Y.push(K);else K.dispatchAction=J,$.dispatchAction(K)};return{dispatchAction:J,pendings:Q}}function jw($,Q){if(L1.node)return;var J=Q.getZr(),K=(vY(J).records||{})[$];if(K)vY(J).records[$]=null}var uN1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){var q=K.getComponent("tooltip"),Z=J.get("triggerOn")||q&&q.get("triggerOn")||"mousemove|click";GS("axisPointer",Y,function(X,W,F){if(Z!=="none"&&(X==="leave"||Z.indexOf(X)>=0))F({type:"updateAxisPointer",currTrigger:X,x:W&&W.offsetX,y:W&&W.offsetY})})},Q.prototype.remove=function(J,K){jw("axisPointer",K)},Q.prototype.dispose=function(J,K){jw("axisPointer",K)},Q.type="axisPointer",Q}(p1),gL0=uN1;function Ew($,Q){var J=[],K=$.seriesIndex,Y;if(K==null||!(Y=Q.getSeriesByIndex(K)))return{point:[]};var q=Y.getData(),Z=r3(q,$);if(Z==null||Z<0||J0(Z))return{point:[]};var X=q.getItemGraphicEl(Z),W=Y.coordinateSystem;if(Y.getTooltipPosition)J=Y.getTooltipPosition(Z)||[];else if(W&&W.dataToPoint)if($.isStacked){var F=W.getBaseAxis(),H=W.getOtherAxis(F),B=H.dim,z=F.dim,A=B==="x"||B==="radius"?1:0,R=q.mapDimension(z),G=[];G[A]=q.get(R,Z),G[1-A]=q.get(q.getCalculationInfo("stackResultDimension"),Z),J=W.dataToPoint(G)||[]}else J=W.dataToPoint(q.getValues(K0(W.dimensions,function(T){return q.mapDimension(T)}),Z))||[];else if(X){var w=X.getBoundingRect().clone();w.applyTransform(X.transform),J=[w.x+w.width/2,w.y+w.height/2]}return{point:J,el:X}}var yL0=n0();function Ya($,Q,J){var K=$.currTrigger,Y=[$.x,$.y],q=$,Z=$.dispatchAction||O0(J.dispatchAction,J),X=Q.getComponent("axisPointer").coordSysAxesInfo;if(!X)return;if(wS(Y))Y=Ew({seriesIndex:q.seriesIndex,dataIndex:q.dataIndex},Q).point;var W=wS(Y),F=q.axesInfo,H=X.axesInfo,B=K==="leave"||wS(Y),z={},A={},R={list:[],map:{}},G={showPointer:a0(pN1,A),showTooltip:a0(dN1,R)};v(X.coordSysMap,function(T,D){var P=W||T.containPoint(Y);v(X.coordSysAxesInfo[D],function(j,E){var L=j.axis,h=iN1(F,j);if(!B&&P&&(!F||h)){var _=h&&h.value;if(_==null&&!W)_=L.pointToData(Y);_!=null&&xL0(j,_,G,!1,z)}})});var w={};return v(H,function(T,D){var P=T.linkGroup;if(P&&!A[D])v(P.axesInfo,function(j,E){var L=A[E];if(j!==T&&L){var h=L.value;P.mapper&&(h=T.axis.scale.parse(P.mapper(h,cL0(j),cL0(T)))),w[T.key]=h}})}),v(w,function(T,D){xL0(H[D],T,G,!0,z)}),nN1(A,H,z),lN1(R,Y,$,Z),rN1(H,Z,J),z}function xL0($,Q,J,K,Y){var q=$.axis;if(q.scale.isBlank()||!q.containData(Q))return;if(!$.involveSeries){J.showPointer($,Q);return}var Z=mN1(Q,$),X=Z.payloadBatch,W=Z.snapToValue;if(X[0]&&Y.seriesIndex==null)Q0(Y,X[0]);if(!K&&$.snap){if(q.containData(W)&&W!=null)Q=W}J.showPointer($,Q,X),J.showTooltip($,Z,W)}function mN1($,Q){var J=Q.axis,K=J.dim,Y=$,q=[],Z=Number.MAX_VALUE,X=-1;return v(Q.seriesModels,function(W,F){var H=W.getData().mapDimensionsAll(K),B,z;if(W.getAxisTooltipData){var A=W.getAxisTooltipData(H,$,J);z=A.dataIndices,B=A.nestestValue}else{if(z=W.indicesOfNearest(K,H[0],$,J.type==="category"?0.5:null),!z.length)return;B=W.getData().get(H[0],z[0])}if(B==null||!isFinite(B))return;var R=$-B,G=Math.abs(R);if(G<=Z){if(G<Z||R>=0&&X<0)Z=G,X=R,Y=B,q.length=0;v(z,function(w){q.push({seriesIndex:W.seriesIndex,dataIndexInside:w,dataIndex:W.getData().getRawIndex(w)})})}}),{payloadBatch:q,snapToValue:Y}}function pN1($,Q,J,K){$[Q.key]={value:J,payloadBatch:K}}function dN1($,Q,J,K){var Y=J.payloadBatch,q=Q.axis,Z=q.model,X=Q.axisPointerModel;if(!Q.triggerTooltip||!Y.length)return;var W=Q.coordSys.model,F=JB(W),H=$.map[F];if(!H)H=$.map[F]={coordSysId:W.id,coordSysIndex:W.componentIndex,coordSysType:W.type,coordSysMainType:W.mainType,dataByAxis:[]},$.list.push(H);H.dataByAxis.push({axisDim:q.dim,axisIndex:Z.componentIndex,axisType:Z.type,axisId:Z.id,value:K,valueLabelOpt:{precision:X.get(["label","precision"]),formatter:X.get(["label","formatter"])},seriesDataIndices:Y.slice()})}function nN1($,Q,J){var K=J.axesInfo=[];v(Q,function(Y,q){var Z=Y.axisPointerModel.option,X=$[q];if(X)!Y.useHandle&&(Z.status="show"),Z.value=X.value,Z.seriesDataIndices=(X.payloadBatch||[]).slice();else!Y.useHandle&&(Z.status="hide");Z.status==="show"&&K.push({axisDim:Y.axis.dim,axisIndex:Y.axis.model.componentIndex,value:Z.value})})}function lN1($,Q,J,K){if(wS(Q)||!$.list.length){K({type:"hideTip"});return}var Y=(($.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};K({type:"showTip",escapeConnect:!0,x:Q[0],y:Q[1],tooltipOption:J.tooltipOption,position:J.position,dataIndexInside:Y.dataIndexInside,dataIndex:Y.dataIndex,seriesIndex:Y.seriesIndex,dataByCoordSys:$.list})}function rN1($,Q,J){var K=J.getZr(),Y="axisPointerLastHighlights",q=yL0(K)[Y]||{},Z=yL0(K)[Y]={};v($,function(F,H){var B=F.axisPointerModel.option;B.status==="show"&&F.triggerEmphasis&&v(B.seriesDataIndices,function(z){var A=z.seriesIndex+" | "+z.dataIndex;Z[A]=z})});var X=[],W=[];v(q,function(F,H){!Z[H]&&W.push(F)}),v(Z,function(F,H){!q[H]&&X.push(F)}),W.length&&J.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:W}),X.length&&J.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:X})}function iN1($,Q){for(var J=0;J<($||[]).length;J++){var K=$[J];if(Q.axis.dim===K.axisDim&&Q.axis.model.componentIndex===K.axisIndex)return K}}function cL0($){var Q=$.axis.model,J={},K=J.axisDim=$.axis.dim;return J.axisIndex=J[K+"AxisIndex"]=Q.componentIndex,J.axisName=J[K+"AxisName"]=Q.name,J.axisId=J[K+"AxisId"]=Q.id,J}function wS($){return!$||$[0]==null||isNaN($[0])||$[1]==null||isNaN($[1])}function GQ($){H9.registerAxisPointerClass("CartesianAxisPointer",fL0),$.registerComponentModel(IL0),$.registerComponentView(gL0),$.registerPreprocessor(function(Q){if(Q){(!Q.axisPointer||Q.axisPointer.length===0)&&(Q.axisPointer={});var J=Q.axisPointer.link;if(J&&!J0(J))Q.axisPointer.link=[J]}}),$.registerProcessor($.PRIORITY.PROCESSOR.STATISTIC,function(Q,J){Q.getComponent("axisPointer").coordSysAxesInfo=YP0(Q,J)}),$.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Ya)}function qa($){R1(Pv),R1(GQ)}var sN1=function($){x(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.makeElOption=function(J,K,Y,q,Z){var X=Y.axis;if(X.dim==="angle")this.animationThreshold=Math.PI/18;var W=X.polar,F=W.getOtherAxis(X),H=F.getExtent(),B=X.dataToCoord(K),z=q.get("type");if(z&&z!=="none"){var A=CB(q),R=aN1[z](X,W,B,H);R.style=A,J.graphicKey=R.type,J.pointer=R}var G=q.get(["label","margin"]),w=oN1(K,Y,q,W,G);Qa(J,Y,q,Z,w)},Q}(DB);function oN1($,Q,J,K,Y){var q=Q.axis,Z=q.dataToCoord($),X=K.getAngleAxis().getExtent()[0];X=X/180*Math.PI;var W=K.getRadiusAxis().getExtent(),F,H,B;if(q.dim==="radius"){var z=Q6();u8(z,z,X),D8(z,z,[K.cx,K.cy]),F=k8([Z,-Y],z);var A=Q.getModel("axisLabel").get("rotate")||0,R=L8.innerTextLayout(X,A*Math.PI/180,-1);H=R.textAlign,B=R.textVerticalAlign}else{var G=W[1];F=K.coordToPoint([G+Y,Z]);var{cx:w,cy:T}=K;H=Math.abs(F[0]-w)/G<0.3?"center":F[0]>w?"left":"right",B=Math.abs(F[1]-T)/G<0.3?"middle":F[1]>T?"top":"bottom"}return{position:F,align:H,verticalAlign:B}}var aN1={line:function($,Q,J,K){return $.dim==="angle"?{type:"Line",shape:PB(Q.coordToPoint([K[0],J]),Q.coordToPoint([K[1],J]))}:{type:"Circle",shape:{cx:Q.cx,cy:Q.cy,r:J}}},shadow:function($,Q,J,K){var Y=Math.max(1,$.getBandWidth()),q=Math.PI/180;return $.dim==="angle"?{type:"Sector",shape:Ka(Q.cx,Q.cy,K[0],K[1],(-J-Y/2)*q,(-J+Y/2)*q)}:{type:"Sector",shape:Ka(Q.cx,Q.cy,J-Y/2,J+Y/2,0,Math.PI*2)}}},uL0=sN1;var tN1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.findAxisModel=function(J){var K,Y=this.ecModel;return Y.eachComponent(J,function(q){if(q.getCoordSysModel()===this)K=q},this),K},Q.type="polar",Q.dependencies=["radiusAxis","angleAxis"],Q.defaultOption={z:0,center:["50%","50%"],radius:"80%"},Q}(B1),mL0=tN1;var Za=function($){x(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",w5).models[0]},Q.type="polarAxis",Q}(B1);_5(Za,uJ);var pL0=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="angleAxis",Q}(Za);var dL0=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="radiusAxis",Q}(Za);var Xa=function($){x(Q,$);function Q(J,K){return $.call(this,"radius",J,K)||this}return Q.prototype.pointToData=function(J,K){return this.polar.pointToData(J,K)[this.dim==="radius"?0:1]},Q}(W8);Xa.prototype.dataToRadius=W8.prototype.dataToCoord;Xa.prototype.radiusToData=W8.prototype.coordToData;var nL0=Xa;var eN1=n0(),Wa=function($){x(Q,$);function Q(J,K){return $.call(this,"angle",J,K||[0,360])||this}return Q.prototype.pointToData=function(J,K){return this.polar.pointToData(J,K)[this.dim==="radius"?0:1]},Q.prototype.calculateCategoryInterval=function(){var J=this,K=J.getLabelModel(),Y=J.scale,q=Y.getExtent(),Z=Y.count();if(q[1]-q[0]<1)return 0;var X=q[0],W=J.dataToCoord(X+1)-J.dataToCoord(X),F=Math.abs(W),H=wZ(X==null?"":X+"",K.getFont(),"center","top"),B=Math.max(H.height,7),z=B/F;isNaN(z)&&(z=1/0);var A=Math.max(0,Math.floor(z)),R=eN1(J.model),G=R.lastAutoInterval,w=R.lastTickCount;if(G!=null&&w!=null&&Math.abs(G-A)<=1&&Math.abs(w-Z)<=1&&G>A)A=G;else R.lastTickCount=Z,R.lastAutoInterval=A;return A},Q}(W8);Wa.prototype.dataToAngle=W8.prototype.dataToCoord;Wa.prototype.angleToData=W8.prototype.coordToData;var lL0=Wa;var Fa=["radius","angle"],$B1=function(){function $(Q){this.dimensions=Fa,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new nL0,this._angleAxis=new lL0,this.axisPointerEnabled=!0,this.name=Q||"",this._radiusAxis.polar=this._angleAxis.polar=this}return $.prototype.containPoint=function(Q){var J=this.pointToCoord(Q);return this._radiusAxis.contain(J[0])&&this._angleAxis.contain(J[1])},$.prototype.containData=function(Q){return this._radiusAxis.containData(Q[0])&&this._angleAxis.containData(Q[1])},$.prototype.getAxis=function(Q){var J="_"+Q+"Axis";return this[J]},$.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},$.prototype.getAxesByScale=function(Q){var J=[],K=this._angleAxis,Y=this._radiusAxis;return K.scale.type===Q&&J.push(K),Y.scale.type===Q&&J.push(Y),J},$.prototype.getAngleAxis=function(){return this._angleAxis},$.prototype.getRadiusAxis=function(){return this._radiusAxis},$.prototype.getOtherAxis=function(Q){var J=this._angleAxis;return Q===J?this._radiusAxis:J},$.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},$.prototype.getTooltipAxes=function(Q){var J=Q!=null&&Q!=="auto"?this.getAxis(Q):this.getBaseAxis();return{baseAxes:[J],otherAxes:[this.getOtherAxis(J)]}},$.prototype.dataToPoint=function(Q,J,K){return this.coordToPoint([this._radiusAxis.dataToRadius(Q[0],J),this._angleAxis.dataToAngle(Q[1],J)],K)},$.prototype.pointToData=function(Q,J,K){K=K||[];var Y=this.pointToCoord(Q);return K[0]=this._radiusAxis.radiusToData(Y[0],J),K[1]=this._angleAxis.angleToData(Y[1],J),K},$.prototype.pointToCoord=function(Q){var J=Q[0]-this.cx,K=Q[1]-this.cy,Y=this.getAngleAxis(),q=Y.getExtent(),Z=Math.min(q[0],q[1]),X=Math.max(q[0],q[1]);Y.inverse?Z=X-360:X=Z+360;var W=Math.sqrt(J*J+K*K);J/=W,K/=W;var F=Math.atan2(-K,J)/Math.PI*180,H=F<Z?1:-1;while(F<Z||F>X)F+=H*360;return[W,F]},$.prototype.coordToPoint=function(Q,J){J=J||[];var K=Q[0],Y=Q[1]/180*Math.PI;return J[0]=Math.cos(Y)*K+this.cx,J[1]=-Math.sin(Y)*K+this.cy,J},$.prototype.getArea=function(){var Q=this.getAngleAxis(),J=this.getRadiusAxis(),K=J.getExtent().slice();K[0]>K[1]&&K.reverse();var Y=Q.getExtent(),q=Math.PI/180,Z=0.0001;return{cx:this.cx,cy:this.cy,r0:K[0],r:K[1],startAngle:-Y[0]*q,endAngle:-Y[1]*q,clockwise:Q.inverse,contain:function(X,W){var F=X-this.cx,H=W-this.cy,B=F*F+H*H,z=this.r,A=this.r0;return z!==A&&B-Z<=z*z&&B+Z>=A*A},x:this.cx-K[1],y:this.cy-K[1],width:K[1]*2,height:K[1]*2}},$.prototype.convertToPixel=function(Q,J,K){var Y=rL0(J);return Y===this?this.dataToPoint(K):null},$.prototype.convertFromPixel=function(Q,J,K){var Y=rL0(J);return Y===this?this.pointToData(K):null},$}();function rL0($){var{seriesModel:Q,polarModel:J}=$;return J&&J.coordinateSystem||Q&&Q.coordinateSystem}var iL0=$B1;function QB1($,Q,J){var K=Q.get("center"),Y=D5(Q,J).refContainer;$.cx=h0(K[0],Y.width)+Y.x,$.cy=h0(K[1],Y.height)+Y.y;var q=$.getRadiusAxis(),Z=Math.min(Y.width,Y.height)/2,X=Q.get("radius");if(X==null)X=[0,"100%"];else if(!J0(X))X=[0,X];var W=[h0(X[0],Z),h0(X[1],Z)];q.inverse?q.setExtent(W[1],W[0]):q.setExtent(W[0],W[1])}function JB1($,Q){var J=this,K=J.getAngleAxis(),Y=J.getRadiusAxis();if(K.scale.setExtent(1/0,-1/0),Y.scale.setExtent(1/0,-1/0),$.eachSeries(function(X){if(X.coordinateSystem===J){var W=X.getData();v(rN(W,"radius"),function(F){Y.scale.unionExtentFromData(W,F)}),v(rN(W,"angle"),function(F){K.scale.unionExtentFromData(W,F)})}}),cJ(K.scale,K.model),cJ(Y.scale,Y.model),K.type==="category"&&!K.onBand){var q=K.getExtent(),Z=360/K.scale.count();K.inverse?q[1]+=Z:q[1]-=Z,K.setExtent(q[0],q[1])}}function KB1($){return $.mainType==="angleAxis"}function sL0($,Q){var J;if($.type=Q.get("type"),$.scale=cZ(Q),$.onBand=Q.get("boundaryGap")&&$.type==="category",$.inverse=Q.get("inverse"),KB1(Q)){$.inverse=$.inverse!==Q.get("clockwise");var K=Q.get("startAngle"),Y=(J=Q.get("endAngle"))!==null&&J!==void 0?J:K+($.inverse?-360:360);$.setExtent(K,Y)}Q.axis=$,$.model=Q}var YB1={dimensions:Fa,create:function($,Q){var J=[];return $.eachComponent("polar",function(K,Y){var q=new iL0(Y+"");q.update=JB1;var Z=q.getRadiusAxis(),X=q.getAngleAxis(),W=K.findAxisModel("radiusAxis"),F=K.findAxisModel("angleAxis");sL0(Z,W),sL0(X,F),QB1(q,K,Q),J.push(q),K.coordinateSystem=q,q.model=K}),$.eachSeries(function(K){if(K.get("coordinateSystem")==="polar"){var Y=K.getReferringComponents("polar",w5).models[0];if(!Y)throw Error('Polar "'+u5(K.get("polarIndex"),K.get("polarId"),0)+'" not found');K.coordinateSystem=Y.coordinateSystem}}),J}},oL0=YB1;var qB1=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function OS($,Q,J){Q[1]>Q[0]&&(Q=Q.slice().reverse());var K=$.coordToPoint([Q[0],J]),Y=$.coordToPoint([Q[1],J]);return{x1:K[0],y1:K[1],x2:Y[0],y2:Y[1]}}function TS($){var Q=$.getRadiusAxis();return Q.inverse?0:1}function aL0($){var Q=$[0],J=$[$.length-1];if(Q&&J&&Math.abs(Math.abs(Q.coord-J.coord)-360)<0.0001)$.pop()}var ZB1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.axisPointerClass="PolarAxisPointer",J}return Q.prototype.render=function(J,K){if(this.group.removeAll(),!J.get("show"))return;var Y=J.axis,q=Y.polar,Z=q.getRadiusAxis().getExtent(),X=Y.getTicksCoords({breakTicks:"none"}),W=Y.getMinorTicksCoords(),F=K0(Y.getViewLabels(),function(H){H=y0(H);var B=Y.scale,z=B.type==="ordinal"?B.getRawOrdinalNumber(H.tickValue):H.tickValue;return H.coord=Y.dataToCoord(z),H});aL0(F),aL0(X),v(qB1,function(H){if(J.get([H,"show"])&&(!Y.scale.isBlank()||H==="axisLine"))XB1[H](this.group,J,q,X,W,Z,F)},this)},Q.type="angleAxis",Q}(H9),XB1={axisLine:function($,Q,J,K,Y,q){var Z=Q.getModel(["axisLine","lineStyle"]),X=J.getAngleAxis(),W=Math.PI/180,F=X.getExtent(),H=TS(J),B=H?0:1,z,A=Math.abs(F[1]-F[0])===360?"Circle":"Arc";if(q[B]===0)z=new N1[A]({shape:{cx:J.cx,cy:J.cy,r:q[H],startAngle:-F[0]*W,endAngle:-F[1]*W,clockwise:X.inverse},style:Z.getLineStyle(),z2:1,silent:!0});else z=new LW({shape:{cx:J.cx,cy:J.cy,r:q[H],r0:q[B]},style:Z.getLineStyle(),z2:1,silent:!0});z.style.fill=null,$.add(z)},axisTick:function($,Q,J,K,Y,q){var Z=Q.getModel("axisTick"),X=(Z.get("inside")?-1:1)*Z.get("length"),W=q[TS(J)],F=K0(K,function(H){return new l5({shape:OS(J,[W,W+X],H.coord)})});$.add(l8(F,{style:b0(Z.getModel("lineStyle").getLineStyle(),{stroke:Q.get(["axisLine","lineStyle","color"])})}))},minorTick:function($,Q,J,K,Y,q){if(!Y.length)return;var Z=Q.getModel("axisTick"),X=Q.getModel("minorTick"),W=(Z.get("inside")?-1:1)*X.get("length"),F=q[TS(J)],H=[];for(var B=0;B<Y.length;B++)for(var z=0;z<Y[B].length;z++)H.push(new l5({shape:OS(J,[F,F+W],Y[B][z].coord)}));$.add(l8(H,{style:b0(X.getModel("lineStyle").getLineStyle(),b0(Z.getLineStyle(),{stroke:Q.get(["axisLine","lineStyle","color"])}))}))},axisLabel:function($,Q,J,K,Y,q,Z){var X=Q.getCategories(!0),W=Q.getModel("axisLabel"),F=W.get("margin"),H=Q.get("triggerEvent");v(Z,function(B,z){var A=W,R=B.tickValue,G=q[TS(J)],w=J.coordToPoint([G+F,B.coord]),T=J.cx,D=J.cy,P=Math.abs(w[0]-T)/G<0.3?"center":w[0]>T?"left":"right",j=Math.abs(w[1]-D)/G<0.3?"middle":w[1]>D?"top":"bottom";if(X&&X[R]){var E=X[R];if(I0(E)&&E.textStyle)A=new D1(E.textStyle,W,W.ecModel)}var L=new w1({silent:L8.isLabelSilent(Q),style:Z5(A,{x:w[0],y:w[1],fill:A.getTextColor()||Q.get(["axisLine","lineStyle","color"]),text:B.formattedLabel,align:P,verticalAlign:j})});if($.add(L),r8({el:L,componentModel:Q,itemName:B.formattedLabel,formatterParamsExtra:{isTruncated:function(){return L.isTruncated},value:B.rawLabel,tickIndex:z}}),H){var h=L8.makeAxisEventDataBase(Q);h.targetType="axisLabel",h.value=B.rawLabel,m0(L).eventData=h}},this)},splitLine:function($,Q,J,K,Y,q){var Z=Q.getModel("splitLine"),X=Z.getModel("lineStyle"),W=X.get("color"),F=0;W=W instanceof Array?W:[W];var H=[];for(var B=0;B<K.length;B++){var z=F++%W.length;H[z]=H[z]||[],H[z].push(new l5({shape:OS(J,q,K[B].coord)}))}for(var B=0;B<H.length;B++)$.add(l8(H[B],{style:b0({stroke:W[B%W.length]},X.getLineStyle()),silent:!0,z:Q.get("z")}))},minorSplitLine:function($,Q,J,K,Y,q){if(!Y.length)return;var Z=Q.getModel("minorSplitLine"),X=Z.getModel("lineStyle"),W=[];for(var F=0;F<Y.length;F++)for(var H=0;H<Y[F].length;H++)W.push(new l5({shape:OS(J,q,Y[F][H].coord)}));$.add(l8(W,{style:X.getLineStyle(),silent:!0,z:Q.get("z")}))},splitArea:function($,Q,J,K,Y,q){if(!K.length)return;var Z=Q.getModel("splitArea"),X=Z.getModel("areaStyle"),W=X.get("color"),F=0;W=W instanceof Array?W:[W];var H=[],B=Math.PI/180,z=-K[0].coord*B,A=Math.min(q[0],q[1]),R=Math.max(q[0],q[1]),G=Q.get("clockwise");for(var w=1,T=K.length;w<=T;w++){var D=w===T?K[0].coord:K[w].coord,P=F++%W.length;H[P]=H[P]||[],H[P].push(new I6({shape:{cx:J.cx,cy:J.cy,r0:A,r:R,startAngle:z,endAngle:-D*B,clockwise:G},silent:!0})),z=-D*B}for(var w=0;w<H.length;w++)$.add(l8(H[w],{style:b0({fill:W[w%W.length]},X.getAreaStyle()),silent:!0}))}},tL0=ZB1;var WB1=["splitLine","splitArea","minorSplitLine"],FB1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.axisPointerClass="PolarAxisPointer",J}return Q.prototype.render=function(J,K,Y){if(this.group.removeAll(),!J.get("show"))return;var q=this._axisGroup,Z=this._axisGroup=new _0;this.group.add(Z);var X=J.axis,W=X.polar,F=W.getAngleAxis(),H=X.getTicksCoords(),B=X.getMinorTicksCoords(),z=F.getExtent()[0],A=X.getExtent(),R=HB1(W,J,z),G=new L8(J,Y,R);G.build(),Z.add(G.group),NY(q,Z,J),v(WB1,function(w){if(J.get([w,"show"])&&!X.scale.isBlank())UB1[w](this.group,J,W,z,A,H,B)},this)},Q.type="radiusAxis",Q}(H9),UB1={splitLine:function($,Q,J,K,Y,q){var Z=Q.getModel("splitLine"),X=Z.getModel("lineStyle"),W=X.get("color"),F=0,H=J.getAngleAxis(),B=Math.PI/180,z=H.getExtent(),A=Math.abs(z[1]-z[0])===360?"Circle":"Arc";W=W instanceof Array?W:[W];var R=[];for(var G=0;G<q.length;G++){var w=F++%W.length;R[w]=R[w]||[],R[w].push(new N1[A]({shape:{cx:J.cx,cy:J.cy,r:Math.max(q[G].coord,0),startAngle:-z[0]*B,endAngle:-z[1]*B,clockwise:H.inverse}}))}for(var G=0;G<R.length;G++)$.add(l8(R[G],{style:b0({stroke:W[G%W.length],fill:null},X.getLineStyle()),silent:!0}))},minorSplitLine:function($,Q,J,K,Y,q,Z){if(!Z.length)return;var X=Q.getModel("minorSplitLine"),W=X.getModel("lineStyle"),F=[];for(var H=0;H<Z.length;H++)for(var B=0;B<Z[H].length;B++)F.push(new R4({shape:{cx:J.cx,cy:J.cy,r:Z[H][B].coord}}));$.add(l8(F,{style:b0({fill:null},W.getLineStyle()),silent:!0}))},splitArea:function($,Q,J,K,Y,q){if(!q.length)return;var Z=Q.getModel("splitArea"),X=Z.getModel("areaStyle"),W=X.get("color"),F=0;W=W instanceof Array?W:[W];var H=[],B=q[0].coord;for(var z=1;z<q.length;z++){var A=F++%W.length;H[A]=H[A]||[],H[A].push(new I6({shape:{cx:J.cx,cy:J.cy,r0:B,r:q[z].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),B=q[z].coord}for(var z=0;z<H.length;z++)$.add(l8(H[z],{style:b0({fill:W[z%W.length]},X.getAreaStyle()),silent:!0}))}};function HB1($,Q,J){return{position:[$.cx,$.cy],rotation:J/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:Q.getModel("axisLabel").get("rotate"),z2:1}}var eL0=FB1;function $h0($){return $.get("stack")||"__ec_stack_"+$.seriesIndex}function Qh0($,Q){return Q.dim+$.model.componentIndex}function NB1($,Q,J){var K={},Y=BB1(j1(Q.getSeriesByType($),function(q){return!Q.isSeriesFiltered(q)&&q.coordinateSystem&&q.coordinateSystem.type==="polar"}));Q.eachSeriesByType($,function(q){if(q.coordinateSystem.type!=="polar")return;var Z=q.getData(),X=q.coordinateSystem,W=X.getBaseAxis(),F=Qh0(X,W),H=$h0(q),B=Y[F][H],z=B.offset,A=B.width,R=X.getOtherAxis(W),G=q.coordinateSystem.cx,w=q.coordinateSystem.cy,T=q.get("barMinHeight")||0,D=q.get("barMinAngle")||0;K[H]=K[H]||[];var P=Z.mapDimension(R.dim),j=Z.mapDimension(W.dim),E=l9(Z,P),L=W.dim!=="radius"||!q.get("roundCap",!0),h=R.model,_=h.get("startValue"),S=R.dataToCoord(_||0);for(var I=0,M=Z.count();I<M;I++){var y=Z.get(P,I),b=Z.get(j,I),u=y>=0?"p":"n",c=S;if(E){if(!K[H][b])K[H][b]={p:S,n:S};c=K[H][b][u]}var m=void 0,i=void 0,o=void 0,n=void 0;if(R.dim==="radius"){var e=R.dataToCoord(y)-S,Z0=W.dataToCoord(b);if(Math.abs(e)<T)e=(e<0?-1:1)*T;m=c,i=c+e,o=Z0-z,n=o-A,E&&(K[H][b][u]=i)}else{var q0=R.dataToCoord(y,L)-S,k0=W.dataToCoord(b);if(Math.abs(q0)<D)q0=(q0<0?-1:1)*D;m=k0+z,i=m+A,o=c,n=c+q0,E&&(K[H][b][u]=n)}Z.setItemLayout(I,{cx:G,cy:w,r0:m,r:i,startAngle:-o*Math.PI/180,endAngle:-n*Math.PI/180,clockwise:o>=n})}})}function BB1($){var Q={};v($,function(K,Y){var q=K.getData(),Z=K.coordinateSystem,X=Z.getBaseAxis(),W=Qh0(Z,X),F=X.getExtent(),H=X.type==="category"?X.getBandWidth():Math.abs(F[1]-F[0])/q.count(),B=Q[W]||{bandWidth:H,remainedWidth:H,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},z=B.stacks;Q[W]=B;var A=$h0(K);if(!z[A])B.autoWidthCount++;z[A]=z[A]||{width:0,maxWidth:0};var R=h0(K.get("barWidth"),H),G=h0(K.get("barMaxWidth"),H),w=K.get("barGap"),T=K.get("barCategoryGap");if(R&&!z[A].width)R=Math.min(B.remainedWidth,R),z[A].width=R,B.remainedWidth-=R;G&&(z[A].maxWidth=G),w!=null&&(B.gap=w),T!=null&&(B.categoryGap=T)});var J={};return v(Q,function(K,Y){J[Y]={};var{stacks:q,bandWidth:Z}=K,X=h0(K.categoryGap,Z),W=h0(K.gap,1),F=K.remainedWidth,H=K.autoWidthCount,B=(F-X)/(H+(H-1)*W);B=Math.max(B,0),v(q,function(G,w){var T=G.maxWidth;if(T&&T<B){if(T=Math.min(T,F),G.width)T=Math.min(T,G.width);F-=T,G.width=T,H--}}),B=(F-X)/(H+(H-1)*W),B=Math.max(B,0);var z=0,A;if(v(q,function(G,w){if(!G.width)G.width=B;A=G,z+=G.width*(1+W)}),A)z-=A.width*W;var R=-z/2;v(q,function(G,w){J[Y][w]=J[Y][w]||{offset:R,width:G.width},R+=G.width*(1+W)})}),J}var Jh0=NB1;var zB1={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},AB1={splitNumber:5},VB1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="polar",Q}(p1);function Ua($){R1(GQ),H9.registerAxisPointerClass("PolarAxisPointer",uL0),$.registerCoordinateSystem("polar",oL0),$.registerComponentModel(mL0),$.registerComponentView(VB1),RQ($,"angle",pL0,zB1),RQ($,"radius",dL0,AB1),$.registerComponentView(tL0),$.registerComponentView(eL0),$.registerLayout(a0(Jh0,"bar"))}function Lw($,Q){Q=Q||{};var{coordinateSystem:J,axis:K}=$,Y={},q=K.position,Z=K.orient,X=J.getRect(),W=[X.x,X.x+X.width,X.y,X.y+X.height],F={horizontal:{top:W[2],bottom:W[3]},vertical:{left:W[0],right:W[1]}};Y.position=[Z==="vertical"?F.vertical[q]:W[0],Z==="horizontal"?F.horizontal[q]:W[3]];var H={horizontal:0,vertical:1};Y.rotation=Math.PI/2*H[Z];var B={top:-1,bottom:1,right:1,left:-1};if(Y.labelDirection=Y.tickDirection=Y.nameDirection=B[q],$.get(["axisTick","inside"]))Y.tickDirection=-Y.tickDirection;if(u5(Q.labelInside,$.get(["axisLabel","inside"])))Y.labelDirection=-Y.labelDirection;var z=$.get(["axisLabel","rotate"]);return Y.labelRotate=q==="top"?-z:z,Y.z2=1,Y}var RB1=["splitArea","splitLine","breakArea"],GB1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.axisPointerClass="SingleAxisPointer",J}return Q.prototype.render=function(J,K,Y,q){var Z=this.group;Z.removeAll();var X=this._axisGroup;this._axisGroup=new _0;var W=Lw(J),F=new L8(J,Y,W);F.build(),Z.add(this._axisGroup),Z.add(F.group),v(RB1,function(H){if(J.get([H,"show"]))wB1[H](this,this.group,this._axisGroup,J,Y)},this),NY(X,this._axisGroup,J),$.prototype.render.call(this,J,K,Y,q)},Q.prototype.remove=function(){Cv(this)},Q.type="singleAxis",Q}(H9),wB1={splitLine:function($,Q,J,K,Y){var q=K.axis;if(q.scale.isBlank())return;var Z=K.getModel("splitLine"),X=Z.getModel("lineStyle"),W=X.get("color");W=W instanceof Array?W:[W];var F=X.get("width"),H=K.coordinateSystem.getRect(),B=q.isHorizontal(),z=[],A=0,R=q.getTicksCoords({tickModel:Z,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),G=[],w=[];for(var T=0;T<R.length;++T){var D=q.toGlobalCoord(R[T].coord);if(B)G[0]=D,G[1]=H.y,w[0]=D,w[1]=H.y+H.height;else G[0]=H.x,G[1]=D,w[0]=H.x+H.width,w[1]=D;var P=new l5({shape:{x1:G[0],y1:G[1],x2:w[0],y2:w[1]},silent:!0});HY(P.shape,F);var j=A++%W.length;z[j]=z[j]||[],z[j].push(P)}var E=X.getLineStyle(["color"]);for(var T=0;T<z.length;++T)Q.add(l8(z[T],{style:b0({stroke:W[T%W.length]},E),silent:!0}))},splitArea:function($,Q,J,K,Y){Dv($,J,K,K)},breakArea:function($,Q,J,K,Y){var q=PY(),Z=K.axis.scale;if(q&&Z.type!=="ordinal")q.rectCoordBuildBreakAxis(Q,$,K,K.coordinateSystem.getRect(),Y)}},Yh0=GB1;var qh0=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.getCoordSysModel=function(){return this},Q.type="singleAxis",Q.layoutMode="box",Q.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:0.2}},jitter:0,jitterOverlap:!0,jitterMargin:2},Q}(B1);_5(qh0,uJ.prototype);var DS=qh0;var OB1=function($){x(Q,$);function Q(J,K,Y,q,Z){var X=$.call(this,J,K,Y)||this;return X.type=q||"value",X.position=Z||"bottom",X}return Q.prototype.isHorizontal=function(){var J=this.position;return J==="top"||J==="bottom"},Q.prototype.pointToData=function(J,K){return this.coordinateSystem.pointToData(J)[0]},Q}(W8),Zh0=OB1;var Ha=["single"],TB1=function(){function $(Q,J,K){this.type="single",this.dimension="single",this.dimensions=Ha,this.axisPointerEnabled=!0,this.model=Q,this._init(Q,J,K)}return $.prototype._init=function(Q,J,K){var Y=this.dimension,q=new Zh0(Y,cZ(Q),[0,0],Q.get("type"),Q.get("position")),Z=q.type==="category";q.onBand=Z&&Q.get("boundaryGap"),q.inverse=Q.get("inverse"),q.orient=Q.get("orient"),Q.axis=q,q.model=Q,q.coordinateSystem=this,this._axis=q},$.prototype.update=function(Q,J){Q.eachSeries(function(K){if(K.coordinateSystem===this){var Y=K.getData();v(Y.mapDimensionsAll(this.dimension),function(q){this._axis.scale.unionExtentFromData(Y,q)},this),cJ(this._axis.scale,this._axis.model)}},this)},$.prototype.resize=function(Q,J){var K=D5(Q,J).refContainer;this._rect=e1(Q.getBoxLayoutParams(),K),this._adjustAxis()},$.prototype.getRect=function(){return this._rect},$.prototype._adjustAxis=function(){var Q=this._rect,J=this._axis,K=J.isHorizontal(),Y=K?[0,Q.width]:[0,Q.height],q=J.inverse?1:0;J.setExtent(Y[q],Y[1-q]),this._updateAxisTransform(J,K?Q.x:Q.y)},$.prototype._updateAxisTransform=function(Q,J){var K=Q.getExtent(),Y=K[0]+K[1],q=Q.isHorizontal();Q.toGlobalCoord=q?function(Z){return Z+J}:function(Z){return Y-Z+J},Q.toLocalCoord=q?function(Z){return Z-J}:function(Z){return Y-Z+J}},$.prototype.getAxis=function(){return this._axis},$.prototype.getBaseAxis=function(){return this._axis},$.prototype.getAxes=function(){return[this._axis]},$.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},$.prototype.containPoint=function(Q){var J=this.getRect(),K=this.getAxis(),Y=K.orient;if(Y==="horizontal")return K.contain(K.toLocalCoord(Q[0]))&&Q[1]>=J.y&&Q[1]<=J.y+J.height;else return K.contain(K.toLocalCoord(Q[1]))&&Q[0]>=J.y&&Q[0]<=J.y+J.height},$.prototype.pointToData=function(Q,J,K){K=K||[];var Y=this.getAxis();return K[0]=Y.coordToData(Y.toLocalCoord(Q[Y.orient==="horizontal"?0:1])),K},$.prototype.dataToPoint=function(Q,J,K){var Y=this.getAxis(),q=this.getRect();K=K||[];var Z=Y.orient==="horizontal"?0:1;if(Q instanceof Array)Q=Q[0];return K[Z]=Y.toGlobalCoord(Y.dataToCoord(+Q)),K[1-Z]=Z===0?q.y+q.height/2:q.x+q.width/2,K},$.prototype.convertToPixel=function(Q,J,K){var Y=Xh0(J);return Y===this?this.dataToPoint(K):null},$.prototype.convertFromPixel=function(Q,J,K){var Y=Xh0(J);return Y===this?this.pointToData(K):null},$}();function Xh0($){var{seriesModel:Q,singleAxisModel:J}=$;return J&&J.coordinateSystem||Q&&Q.coordinateSystem}var Wh0=TB1;function DB1($,Q){var J=[];return $.eachComponent("singleAxis",function(K,Y){var q=new Wh0(K,$,Q);q.name="single_"+Y,q.resize(K,Q),K.coordinateSystem=q,J.push(q)}),$.eachSeries(function(K){if(K.get("coordinateSystem")==="singleAxis"){var Y=K.getReferringComponents("singleAxis",w5).models[0];K.coordinateSystem=Y&&Y.coordinateSystem}}),J}var CB1={create:DB1,dimensions:Ha},Fh0=CB1;var Uh0=["x","y"],PB1=["width","height"],kB1=function($){x(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.makeElOption=function(J,K,Y,q,Z){var X=Y.axis,W=X.coordinateSystem,F=Na(W,1-CS(X)),H=W.dataToPoint(K)[0],B=q.get("type");if(B&&B!=="none"){var z=CB(q),A=jB1[B](X,H,F);A.style=z,J.graphicKey=A.type,J.pointer=A}var R=Lw(Y);AS(K,J,R,Y,q,Z)},Q.prototype.getHandleTransform=function(J,K,Y){var q=Lw(K,{labelInside:!1});q.labelMargin=Y.get(["handle","margin"]);var Z=kw(K.axis,J,q);return{x:Z[0],y:Z[1],rotation:q.rotation+(q.labelDirection<0?Math.PI:0)}},Q.prototype.updateHandleTransform=function(J,K,Y,q){var Z=Y.axis,X=Z.coordinateSystem,W=CS(Z),F=Na(X,W),H=[J.x,J.y];H[W]+=K[W],H[W]=Math.min(F[1],H[W]),H[W]=Math.max(F[0],H[W]);var B=Na(X,1-W),z=(B[1]+B[0])/2,A=[z,z];return A[W]=H[W],{x:H[0],y:H[1],rotation:J.rotation,cursorPoint:A,tooltipOption:{verticalAlign:"middle"}}},Q}(DB),jB1={line:function($,Q,J){var K=PB([Q,J[0]],[Q,J[1]],CS($));return{type:"Line",subPixelOptimize:!0,shape:K}},shadow:function($,Q,J){var K=$.getBandWidth(),Y=J[1]-J[0];return{type:"Rect",shape:VS([Q-K/2,J[0]],[K,Y],CS($))}}};function CS($){return $.isHorizontal()?0:1}function Na($,Q){var J=$.getRect();return[J[Uh0[Q]],J[Uh0[Q]]+J[PB1[Q]]]}var Hh0=kB1;var EB1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="single",Q}(p1);function Ba($){R1(GQ),H9.registerAxisPointerClass("SingleAxisPointer",Hh0),$.registerComponentView(EB1),$.registerComponentView(Yh0),$.registerComponentModel(DS),RQ($,"single",DS,DS.defaultOption),$.registerCoordinateSystem("single",Fh0)}var LB1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(J,K,Y){var q=Y9(J);$.prototype.init.apply(this,arguments),Nh0(J,q)},Q.prototype.mergeOption=function(J){$.prototype.mergeOption.apply(this,arguments),Nh0(this.option,J)},Q.prototype.getCellSize=function(){return this.option.cellSize},Q.type="calendar",Q.layoutMode="box",Q.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:a.color.axisLine,width:1,type:"solid"}},itemStyle:{color:a.color.neutral00,borderWidth:1,borderColor:a.color.neutral10},dayLabel:{show:!0,firstDay:0,position:"start",margin:a.size.s,color:a.color.secondary},monthLabel:{show:!0,position:"start",margin:a.size.s,align:"center",formatter:null,color:a.color.secondary},yearLabel:{show:!0,position:null,margin:a.size.xl,formatter:null,color:a.color.quaternary,fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},Q}(B1);function Nh0($,Q){var J=$.cellSize,K;if(!J0(J))K=$.cellSize=[J,J];else K=J;if(K.length===1)K[1]=K[0];var Y=K0([0,1],function(q){if(Qw0(Q,q))K[q]="auto";return K[q]!=null&&K[q]!=="auto"});j8($,Q,{type:"box",ignoreSize:Y})}var Bh0=LB1;var hB1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){var q=this.group;q.removeAll();var Z=J.coordinateSystem,X=Z.getRangeInfo(),W=Z.getOrient(),F=K.getLocaleModel();this._renderDayRect(J,X,q),this._renderLines(J,X,W,q),this._renderYearText(J,X,W,q),this._renderMonthText(J,F,W,q),this._renderWeekText(J,F,X,W,q)},Q.prototype._renderDayRect=function(J,K,Y){var q=J.coordinateSystem,Z=J.getModel("itemStyle").getItemStyle(),X=q.getCellWidth(),W=q.getCellHeight();for(var F=K.start.time;F<=K.end.time;F=q.getNextNDay(F,1).time){var H=q.dataToCalendarLayout([F],!1).tl,B=new Q1({shape:{x:H[0],y:H[1],width:X,height:W},cursor:"default",style:Z});Y.add(B)}},Q.prototype._renderLines=function(J,K,Y,q){var Z=this,X=J.coordinateSystem,W=J.getModel(["splitLine","lineStyle"]).getLineStyle(),F=J.get(["splitLine","show"]),H=W.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];var B=K.start;for(var z=0;B.time<=K.end.time;z++){if(R(B.formatedDate),z===0)B=X.getDateInfo(K.start.y+"-"+K.start.m);var A=B.date;A.setMonth(A.getMonth()+1),B=X.getDateInfo(A)}R(X.getNextNDay(K.end.time,1).formatedDate);function R(G){Z._firstDayOfMonth.push(X.getDateInfo(G)),Z._firstDayPoints.push(X.dataToCalendarLayout([G],!1).tl);var w=Z._getLinePointsOfOneWeek(J,G,Y);Z._tlpoints.push(w[0]),Z._blpoints.push(w[w.length-1]),F&&Z._drawSplitline(w,W,q)}F&&this._drawSplitline(Z._getEdgesPoints(Z._tlpoints,H,Y),W,q),F&&this._drawSplitline(Z._getEdgesPoints(Z._blpoints,H,Y),W,q)},Q.prototype._getEdgesPoints=function(J,K,Y){var q=[J[0].slice(),J[J.length-1].slice()],Z=Y==="horizontal"?0:1;return q[0][Z]=q[0][Z]-K/2,q[1][Z]=q[1][Z]+K/2,q},Q.prototype._drawSplitline=function(J,K,Y){var q=new K6({z2:20,shape:{points:J},style:K});Y.add(q)},Q.prototype._getLinePointsOfOneWeek=function(J,K,Y){var q=J.coordinateSystem,Z=q.getDateInfo(K),X=[];for(var W=0;W<7;W++){var F=q.getNextNDay(Z.time,W),H=q.dataToCalendarLayout([F.time],!1);X[2*F.day]=H.tl,X[2*F.day+1]=H[Y==="horizontal"?"bl":"tr"]}return X},Q.prototype._formatterLabel=function(J,K){if(B0(J)&&J)return aG0(J,K);if(v0(J))return J(K);return K.nameMap},Q.prototype._yearTextPositionControl=function(J,K,Y,q,Z){var X=K[0],W=K[1],F=["center","bottom"];if(q==="bottom")W+=Z,F=["center","top"];else if(q==="left")X-=Z;else if(q==="right")X+=Z,F=["center","top"];else W-=Z;var H=0;if(q==="left"||q==="right")H=Math.PI/2;return{rotation:H,x:X,y:W,style:{align:F[0],verticalAlign:F[1]}}},Q.prototype._renderYearText=function(J,K,Y,q){var Z=J.getModel("yearLabel");if(!Z.get("show"))return;var X=Z.get("margin"),W=Z.get("position");if(!W)W=Y!=="horizontal"?"top":"left";var F=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],H=(F[0][0]+F[1][0])/2,B=(F[0][1]+F[1][1])/2,z=Y==="horizontal"?0:1,A={top:[H,F[z][1]],bottom:[H,F[1-z][1]],left:[F[1-z][0],B],right:[F[z][0],B]},R=K.start.y;if(+K.end.y>+K.start.y)R=R+"-"+K.end.y;var G=Z.get("formatter"),w={start:K.start.y,end:K.end.y,nameMap:R},T=this._formatterLabel(G,w),D=new w1({z2:30,style:Z5(Z,{text:T}),silent:Z.get("silent")});D.attr(this._yearTextPositionControl(D,A[W],Y,W,X)),q.add(D)},Q.prototype._monthTextPositionControl=function(J,K,Y,q,Z){var X="left",W="top",F=J[0],H=J[1];if(Y==="horizontal"){if(H=H+Z,K)X="center";if(q==="start")W="bottom"}else{if(F=F+Z,K)W="middle";if(q==="start")X="right"}return{x:F,y:H,align:X,verticalAlign:W}},Q.prototype._renderMonthText=function(J,K,Y,q){var Z=J.getModel("monthLabel");if(!Z.get("show"))return;var X=Z.get("nameMap"),W=Z.get("margin"),F=Z.get("position"),H=Z.get("align"),B=[this._tlpoints,this._blpoints];if(!X||B0(X)){if(X)K=UG(X)||K;X=K.get(["time","monthAbbr"])||[]}var z=F==="start"?0:1,A=Y==="horizontal"?0:1;W=F==="start"?-W:W;var R=H==="center",G=Z.get("silent");for(var w=0;w<B[z].length-1;w++){var T=B[z][w].slice(),D=this._firstDayOfMonth[w];if(R){var P=this._firstDayPoints[w];T[A]=(P[A]+B[0][w+1][A])/2}var j=Z.get("formatter"),E=X[+D.m-1],L={yyyy:D.y,yy:(D.y+"").slice(2),MM:D.m,M:+D.m,nameMap:E},h=this._formatterLabel(j,L),_=new w1({z2:30,style:Q0(Z5(Z,{text:h}),this._monthTextPositionControl(T,R,Y,F,W)),silent:G});q.add(_)}},Q.prototype._weekTextPositionControl=function(J,K,Y,q,Z){var X="center",W="middle",F=J[0],H=J[1],B=Y==="start";if(K==="horizontal")F=F+q+(B?1:-1)*Z[0]/2,X=B?"right":"left";else H=H+q+(B?1:-1)*Z[1]/2,W=B?"bottom":"top";return{x:F,y:H,align:X,verticalAlign:W}},Q.prototype._renderWeekText=function(J,K,Y,q,Z){var X=J.getModel("dayLabel");if(!X.get("show"))return;var W=J.coordinateSystem,F=X.get("position"),H=X.get("nameMap"),B=X.get("margin"),z=W.getFirstDayOfWeek();if(!H||B0(H)){if(H)K=UG(H)||K;var A=K.get(["time","dayOfWeekShort"]);H=A||K0(K.get(["time","dayOfWeekAbbr"]),function(L){return L[0]})}var R=W.getNextNDay(Y.end.time,7-Y.lweek).time,G=[W.getCellWidth(),W.getCellHeight()];if(B=h0(B,Math.min(G[1],G[0])),F==="start")R=W.getNextNDay(Y.start.time,-(7+Y.fweek)).time,B=-B;var w=X.get("silent");for(var T=0;T<7;T++){var D=W.getNextNDay(R,T),P=W.dataToCalendarLayout([D.time],!1).center,j=T;j=Math.abs((T+z)%7);var E=new w1({z2:30,style:Q0(Z5(X,{text:H[j]}),this._weekTextPositionControl(P,q,F,B,G)),silent:w});Z.add(E)}},Q.type="calendar",Q}(p1),zh0=hB1;var za=86400000,vB1=function(){function $(Q,J,K){this.type="calendar",this.dimensions=$.dimensions,this.getDimensionsInfo=$.getDimensionsInfo,this._model=Q,this._update(J,K)}return $.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},$.prototype.getRangeInfo=function(){return this._rangeInfo},$.prototype.getModel=function(){return this._model},$.prototype.getRect=function(){return this._rect},$.prototype.getCellWidth=function(){return this._sw},$.prototype.getCellHeight=function(){return this._sh},$.prototype.getOrient=function(){return this._orient},$.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},$.prototype.getDateInfo=function(Q){Q=n3(Q);var J=Q.getFullYear(),K=Q.getMonth()+1,Y=K<10?"0"+K:""+K,q=Q.getDate(),Z=q<10?"0"+q:""+q,X=Q.getDay();return X=Math.abs((X+7-this.getFirstDayOfWeek())%7),{y:J+"",m:Y,d:Z,day:X,time:Q.getTime(),formatedDate:J+"-"+Y+"-"+Z,date:Q}},$.prototype.getNextNDay=function(Q,J){if(J=J||0,J===0)return this.getDateInfo(Q);return Q=new Date(this.getDateInfo(Q).time),Q.setDate(Q.getDate()+J),this.getDateInfo(Q)},$.prototype._update=function(Q,J){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var K=this._rangeInfo.weeks||1,Y=["width","height"],q=this._model.getCellSize().slice(),Z=this._model.getBoxLayoutParams(),X=this._orient==="horizontal"?[K,7]:[7,K];v([0,1],function(B){if(H(q,B))Z[Y[B]]=q[B]*X[B]});var W={width:J.getWidth(),height:J.getHeight()},F=this._rect=e1(Z,W);v([0,1],function(B){if(!H(q,B))q[B]=F[Y[B]]/X[B]});function H(B,z){return B[z]!=null&&B[z]!=="auto"}this._sw=q[0],this._sh=q[1]},$.prototype.dataToPoint=function(Q,J,K){K=K||[],J0(Q)&&(Q=Q[0]),J==null&&(J=!0);var Y=this.getDateInfo(Q),q=this._rangeInfo,Z=Y.formatedDate;if(J&&!(Y.time>=q.start.time&&Y.time<q.end.time+za))return K[0]=K[1]=NaN,K;var X=Y.day,W=this._getRangeInfo([q.start.time,Z]).nthWeek;if(this._orient==="vertical")K[0]=this._rect.x+X*this._sw+this._sw/2,K[1]=this._rect.y+W*this._sh+this._sh/2;else K[0]=this._rect.x+W*this._sw+this._sw/2,K[1]=this._rect.y+X*this._sh+this._sh/2;return K},$.prototype.pointToData=function(Q){var J=this.pointToDate(Q);return J&&J.time},$.prototype.dataToLayout=function(Q,J,K){K=K||{};var Y=K.rect=K.rect||{},q=K.contentRect=K.contentRect||{},Z=this.dataToPoint(Q,J);return Y.x=Z[0]-this._sw/2,Y.y=Z[1]-this._sh/2,Y.width=this._sw,Y.height=this._sh,u0.copy(q,Y),t3(q,this._lineWidth/2,!0,!0),K},$.prototype.dataToCalendarLayout=function(Q,J){var K=this.dataToPoint(Q,J);return{center:K,tl:[K[0]-this._sw/2,K[1]-this._sh/2],tr:[K[0]+this._sw/2,K[1]-this._sh/2],br:[K[0]+this._sw/2,K[1]+this._sh/2],bl:[K[0]-this._sw/2,K[1]+this._sh/2]}},$.prototype.pointToDate=function(Q){var J=Math.floor((Q[0]-this._rect.x)/this._sw)+1,K=Math.floor((Q[1]-this._rect.y)/this._sh)+1,Y=this._rangeInfo.range;if(this._orient==="vertical")return this._getDateByWeeksAndDay(K,J-1,Y);return this._getDateByWeeksAndDay(J,K-1,Y)},$.prototype.convertToPixel=function(Q,J,K){var Y=Aa(J);return Y===this?Y.dataToPoint(K):null},$.prototype.convertToLayout=function(Q,J,K){var Y=Aa(J);return Y===this?Y.dataToLayout(K):null},$.prototype.convertFromPixel=function(Q,J,K){var Y=Aa(J);return Y===this?Y.pointToData(K):null},$.prototype.containPoint=function(Q){return console.warn("Not implemented."),!1},$.prototype._initRangeOption=function(){var Q=this._model.get("range"),J;if(J0(Q)&&Q.length===1)Q=Q[0];if(!J0(Q)){var K=Q.toString();if(/^\d{4}$/.test(K))J=[K+"-01-01",K+"-12-31"];if(/^\d{4}[\/|-]\d{1,2}$/.test(K)){var Y=this.getDateInfo(K),q=Y.date;q.setMonth(q.getMonth()+1);var Z=this.getNextNDay(q,-1);J=[Y.formatedDate,Z.formatedDate]}if(/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(K))J=[K,K]}else J=Q;if(!J)return m7("Invalid date range."),Q;var X=this._getRangeInfo(J);if(X.start.time>X.end.time)J.reverse();return J},$.prototype._getRangeInfo=function(Q){var J=[this.getDateInfo(Q[0]),this.getDateInfo(Q[1])],K;if(J[0].time>J[1].time)K=!0,J.reverse();var Y=Math.floor(J[1].time/za)-Math.floor(J[0].time/za)+1,q=new Date(J[0].time),Z=q.getDate(),X=J[1].date.getDate();q.setDate(Z+Y-1);var W=q.getDate();if(W!==X){var F=q.getTime()-J[1].time>0?1:-1;while((W=q.getDate())!==X&&(q.getTime()-J[1].time)*F>0)Y-=F,q.setDate(W-F)}var H=Math.floor((Y+J[0].day+6)/7),B=K?-H+1:H-1;return K&&J.reverse(),{range:[J[0].formatedDate,J[1].formatedDate],start:J[0],end:J[1],allDay:Y,weeks:H,nthWeek:B,fweek:J[0].day,lweek:J[1].day}},$.prototype._getDateByWeeksAndDay=function(Q,J,K){var Y=this._getRangeInfo(K);if(Q>Y.weeks||Q===0&&J<Y.fweek||Q===Y.weeks&&J>Y.lweek)return null;var q=(Q-1)*7-Y.fweek+J,Z=new Date(Y.start.time);return Z.setDate(+Y.start.d+q),this.getDateInfo(Z)},$.create=function(Q,J){var K=[];return Q.eachComponent("calendar",function(Y){var q=new $(Y,Q,J);K.push(q),Y.coordinateSystem=q}),Q.eachComponent(function(Y,q){gJ({targetModel:q,coordSysType:"calendar",coordSysProvider:IL})}),K},$.dimensions=["time","value"],$}();function Aa($){var{calendarModel:Q,seriesModel:J}=$,K=Q?Q.coordinateSystem:J?J.coordinateSystem:null;return K}var Ah0=vB1;function Va($){$.registerComponentModel(Bh0),$.registerComponentView(zh0),$.registerCoordinateSystem("calendar",Ah0)}var wQ={level:1,leaf:2,nonLeaf:3},OQ={none:0,all:1,body:2,corner:3};function Ra($,Q,J){var K=Q[A1[J]].getCell($);if(!K&&U1($)&&$<0)K=Q[A1[1-J]].getUnitLayoutInfo(J,Math.round($));return K}function PS($){var Q=$||[];return Q[0]=Q[0]||[],Q[1]=Q[1]||[],Q[0][0]=Q[0][1]=Q[1][0]=Q[1][1]=NaN,Q}function kS($,Q,J,K,Y){Vh0($[0],Q,Y,J,K,0),Vh0($[1],Q,Y,J,K,1)}function Vh0($,Q,J,K,Y,q){$[0]=1/0,$[1]=-1/0;var Z=K[q],X=J0(Z)?Z:[Z],W=X.length,F=!!J;if(W>=1){if(Rh0($,Q,X,F,Y,q,0),W>1)Rh0($,Q,X,F,Y,q,W-1)}else{if(Q)Q.push('Should be like [["x1", "x2"], ["y1", "y2"]], or ["x1", "y1"], rather than empty.');$[0]=$[1]=NaN}if(F){var H=-Y[A1[1-q]].getLocatorCount(q),B=Y[A1[q]].getLocatorCount(q)-1;if(J===OQ.body)H=D6(0,H);else if(J===OQ.corner)B=m8(-1,B);if(B<H)H=B=NaN;if(N6($[0]))$[0]=H;if(N6($[1]))$[1]=B;$[0]=D6(m8($[0],B),H),$[1]=D6(m8($[1],B),H)}}function Rh0($,Q,J,K,Y,q,Z){var X=Ra(J[Z],Y,q);if(!X){if(!K&&Q)Q.push("Can not find cell by coord["+q+"]["+Z+"].");$[0]=$[1]=NaN;return}var W=X.id[A1[q]],F=W,H=fB1(X);if(H)F+=H.span[A1[q]]-1;$[0]=m8($[0],W,F),$[1]=D6($[1],W,F)}function hw($,Q){return N6($[Q][0])||N6($[Q][1])}function Ga($,Q,J,K){Q=Q||SB1;for(var Y=0;Y<K;Y++)Q[Y]=!1;while(!0){var q=!1;for(var Y=0;Y<K;Y++){var Z=J[Y];if(!Q[Y]&&Z.cellMergeOwner&&_B1($,Z.locatorRange))Q[Y]=!0,q=!0}if(!q)break}}var SB1=[];function _B1($,Q){if(!Gh0($[0],Q[0])||!Gh0($[1],Q[1]))return!1;return $[0][0]=m8($[0][0],Q[0][0]),$[0][1]=D6($[0][1],Q[0][1]),$[1][0]=m8($[1][0],Q[1][0]),$[1][1]=D6($[1][1],Q[1][1]),!0}function Gh0($,Q){return $[1]>=Q[0]&&$[0]<=Q[1]}function wa($,Q){$.id.set(Q[0][0],Q[1][0]),$.span.set(Q[0][1]-$.id.x+1,Q[1][1]-$.id.y+1)}function wh0($,Q){$[0][0]=Q[0][0],$[0][1]=Q[0][1],$[1][0]=Q[1][0],$[1][1]=Q[1][1]}function Oa($,Q,J,K){var Y=Ra(Q[K][0],J,K),q=Ra(Q[K][1],J,K);if($[A1[K]]=$[P6[K]]=NaN,Y&&q)$[A1[K]]=Y.xy,$[P6[K]]=q.xy+q.wh-Y.xy}function kB($,Q,J,K){return $[A1[Q]]=J,$[A1[1-Q]]=K,$}function fB1($){return $&&($.type===wQ.leaf||$.type===wQ.nonLeaf)?$:null}function AF(){return{x:NaN,y:NaN,width:NaN,height:NaN}}var Ta=function(){function $(Q,J){this._cells=[],this._levels=[],this.dim=Q,this.dimIdx=Q==="x"?0:1,this._model=J,this._uniqueValueGen=IB1(Q);var K=J.get("data",!0);if(K!=null&&!J0(K))P1("Illegal echarts option - matrix."+this.dim+".data must be an array if specified."),K=[];if(K)this._initByDimModelData(K);else this._initBySeriesData()}return $.prototype._initByDimModelData=function(Q){var J=this,K=J._cells,Y=J._levels,q=[],Z=0;J._leavesCount=X(Q,0,0),W();return;function X(F,H,B){var z=0;if(!F)return z;return v(F,function(A,R){var G=!1,w;if(B0(A))w={value:A};else if(I0(A)){if(w=A,A.value!=null&&!B0(A.value))G=!0,w={value:null}}else if(w={value:null},A!=null)G=!0;if(G)P1("Illegal echarts option - matrix."+J.dim+".data["+R+"] must be `string | {value: string}`.");var T={type:wQ.nonLeaf,ordinal:NaN,level:B,firstLeafLocator:H,id:new e0,span:kB(new e0,J.dimIdx,1,1),option:w,xy:NaN,wh:NaN,dim:J,rect:AF()};if(Z++,(q[H]||(q[H]=[])).push(T),!Y[B])Y[B]={type:wQ.level,xy:NaN,wh:NaN,option:null,id:new e0,dim:J};var D=X(w.children,H,B+1),P=Math.max(1,D);T.span[A1[J.dimIdx]]=P,z+=P,H+=P}),z}function W(){var F=[];while(K.length<Z)for(var H=0;H<q.length;H++){var B=q[H].pop();if(B){B.ordinal=F.length;var z=B.option.value;F.push(z),K.push(B),J._uniqueValueGen.calcDupBase(z)}}J._uniqueValueGen.ensureValueUnique(F,K);var A=J._ordinalMeta=new yZ({categories:F,needCollect:!1,deduplication:!1});J._scale=new TY({ordinalMeta:A});for(var R=0;R<J._leavesCount;R++){var G=J._cells[R];G.type=wQ.leaf,G.span[A1[1-J.dimIdx]]=J._levels.length-G.level}J._initCellsId(),J._initLevelIdOptions()}},$.prototype._initBySeriesData=function(){var Q=this;Q._leavesCount=0,Q._levels=[{type:wQ.level,xy:NaN,wh:NaN,option:null,id:new e0,dim:Q}],Q._initLevelIdOptions();var J=Q._ordinalMeta=new yZ({needCollect:!0,deduplication:!0,onCollect:function(K,Y){var q=Q._cells[Y]={type:wQ.leaf,ordinal:Y,level:0,firstLeafLocator:Y,id:new e0,span:kB(new e0,Q.dimIdx,1,1),option:{value:K+""},xy:NaN,wh:NaN,dim:Q,rect:AF()};Q._leavesCount++,Q._setCellId(q)}});Q._scale=new TY({ordinalMeta:J})},$.prototype._setCellId=function(Q){var J=this._levels.length,K=this.dimIdx;kB(Q.id,K,Q.firstLeafLocator,Q.level-J)},$.prototype._initCellsId=function(){var Q=this._levels.length,J=this.dimIdx;v(this._cells,function(K){kB(K.id,J,K.firstLeafLocator,K.level-Q)})},$.prototype._initLevelIdOptions=function(){var Q=this._levels.length,J=this.dimIdx,K=this._model.get("levels",!0);K=J0(K)?K:[],v(this._levels,function(Y,q){kB(Y.id,J,0,q-Q),Y.option=K[q]})},$.prototype.shouldShow=function(){return!!this._model.getShallow("show",!0)},$.prototype.resetLayoutIterator=function(Q,J,K,Y){if(Q=Q||new t$,J===this.dimIdx){var q=this._leavesCount,Z=K!=null?Math.max(0,K):0;Y=Y!=null?Math.min(Y,q):q,Q.reset(this._cells,Z,Z+Y)}else{var q=this._levels.length,Z=K!=null?Math.max(0,K+q):0;Y=Y!=null?Math.min(Y,q):q,Q.reset(this._levels,Z,Z+Y)}return Q},$.prototype.resetCellIterator=function(Q){return(Q||new t$).reset(this._cells,0)},$.prototype.resetLevelIterator=function(Q){return(Q||new t$).reset(this._levels,0)},$.prototype.getLayout=function(Q,J,K){var Y=this.getUnitLayoutInfo(J,K);Q[A1[J]]=Y?Y.xy:NaN,Q[P6[J]]=Y?Y.wh:NaN},$.prototype.getUnitLayoutInfo=function(Q,J){return Q===this.dimIdx?J<this._leavesCount?this._cells[J]:void 0:this._levels[J+this._levels.length]},$.prototype.getCell=function(Q){var J=this._scale.parse(Q);return N6(J)?void 0:this._cells[J]},$.prototype.getLocatorCount=function(Q){return Q===this.dimIdx?this._leavesCount:this._levels.length},$.prototype.getOrdinalMeta=function(){return this._ordinalMeta},$}();function IB1($){var Q=$.toUpperCase(),J=new RegExp("^"+Q+"([0-9]+)$"),K=0;function Y(X){var W;if(X!=null&&(W=X.match(J)))K=D6(K,+W[1]+1)}function q(){return""+Q+K++}function Z(X,W){var F=L0();for(var H=0;H<X.length;H++){var B=X[H];if(B==null||F.get(B)!=null)X[H]=B=q(),W[H].option=b0({value:B},W[H].option);F.set(B,!0)}}return{calcDupBase:Y,ensureValueUnique:Z}}var Ca=function(){function $(Q,J,K){this._model=J,this._dims=K,this._kind=Q,this._cellMergeOwnerList=[]}return $.prototype._ensureCellMap=function(){var Q=this,J=Q._cellMap;if(!J)J=Q._cellMap=L0(),K();return J;function K(){var q=[],Z=Q._model.getShallow("data");if(Z&&!J0(Z))P1("matrix."+Z+".data must be an array if specified."),Z=null;v(Z,function(R,G){if(!I0(R)||!J0(R.coord)){P1("Illegal matrix."+Q._kind+".data["+G+"], must be a {coord: [...], ...}");return}var w=PS([]),T=null;if(T=[],kS(w,T,R.coord,Q._dims,R.coordClamp?OQ[Q._kind]:OQ.none),hw(w,0)||hw(w,1)){P1("Can not determine cells by option matrix."+Q._kind+".data["+G+"]: "+(""+T.join(" ")));return}var D=R&&R.mergeCells,P={id:new e0,span:new e0,locatorRange:w,option:R,cellMergeOwner:D};wa(P,w),q.push(P)});var X=[];for(var W=0;W<q.length;W++){var F=q[W];if(!F.cellMergeOwner)continue;var H=F.locatorRange;Ga(H,X,q,W);for(var B=0;B<W;B++)if(X[B])q[B].cellMergeOwner=!1;if(H[0][0]!==F.id.x||H[1][0]!==F.id.y){F.cellMergeOwner=!1;var z=Q0({},F.option);z.coord=null;var A={id:new e0,span:new e0,locatorRange:H,option:z,cellMergeOwner:!0};wa(A,H),q.push(A)}}v(q,function(R){var G=Y(R.id.x,R.id.y);if(R.cellMergeOwner)G.cellMergeOwner=!0,G.span=R.span,G.locatorRange=R.locatorRange,G.spanRect=AF(),Q._cellMergeOwnerList.push(G);if(!R.cellMergeOwner&&!R.option)return;for(var w=0;w<R.span.y;w++)for(var T=0;T<R.span.x;T++){var D=Y(R.id.x+T,R.id.y+w);if(D.option=R.option,R.cellMergeOwner)D.inSpanOf=G}})}function Y(q,Z){var X=Oh0(q,Z),W=J.get(X);if(!W)W=J.set(X,{id:new e0(q,Z),option:null,inSpanOf:null,span:null,spanRect:null,locatorRange:null,cellMergeOwner:!1});return W}},$.prototype.getCell=function(Q){return this._ensureCellMap().get(Oh0(Q[0],Q[1]))},$.prototype.travelExistingCells=function(Q){this._ensureCellMap().each(Q)},$.prototype.expandRangeByCellMerge=function(Q){if(!hw(Q,0)&&!hw(Q,1)&&Q[0][0]===Q[0][1]&&Q[1][0]===Q[1][1]){Da[0]=Q[0][0],Da[1]=Q[1][0];var J=this.getCell(Da),K=J&&J.inSpanOf;if(K){wh0(Q,K.locatorRange);return}}var Y=this._cellMergeOwnerList;Ga(Q,null,Y,Y.length)},$}();var Da=[];function Oh0($,Q){return $+"|"+Q}var Pa={show:!0,color:a.color.secondary,overflow:"break",lineOverflow:"truncate",padding:[2,3,2,3],distance:0};function ka($){return{color:"none",borderWidth:1,borderColor:$?"none":a.color.borderTint}}var Th0={show:!0,label:Pa,itemStyle:ka(!1),silent:void 0,dividerLineStyle:{width:1,color:a.color.border}},MB1={label:Pa,itemStyle:ka(!1),silent:void 0},bB1={label:Pa,itemStyle:ka(!0),silent:void 0},gB1={z:-50,left:"10%",top:"10%",right:"10%",bottom:"10%",x:Th0,y:Th0,body:MB1,corner:bB1,backgroundStyle:{color:"none",borderColor:a.color.axisLine,borderWidth:1}},yB1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.optionUpdated=function(){var J=this._dimModels={x:new Dh0(this.get("x",!0)||{}),y:new Dh0(this.get("y",!0)||{})};J.x.option.type=J.y.option.type="category";var K=J.x.dim=new Ta("x",J.x),Y=J.y.dim=new Ta("y",J.y),q={x:K,y:Y};this._body=new Ca("body",new D1(this.getShallow("body")),q),this._corner=new Ca("corner",new D1(this.getShallow("corner")),q)},Q.prototype.getDimensionModel=function(J){return this._dimModels[J]},Q.prototype.getBody=function(){return this._body},Q.prototype.getCorner=function(){return this._corner},Q.type="matrix",Q.layoutMode="box",Q.defaultOption=gB1,Q}(B1),Dh0=function($){x(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.getOrdinalMeta=function(){return this.dim.getOrdinalMeta()},Q}(D1);var Ch0=yB1;var jS=Math.round,xB1=0,cB1=99,uB1={normal:25,special:100},mB1={normal:50,special:125},pB1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K){this.group.removeAll();var Y=this.group,q=J.coordinateSystem,Z=q.getRect(),X=J.getDimensionModel("x"),W=J.getDimensionModel("y"),F=X.dim,H=W.dim;dB1(Y,J,K),nB1(Y,J,F,H,K);var B=J.getShallow("borderZ2",!0),z=f0(B,cB1),A=z-1,R=J.getModel("backgroundStyle").getItemStyle(["borderWidth"]);R.lineWidth=0;var G=J.getModel("backgroundStyle").getItemStyle(["color","decal","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]);G.fill="none";var w=ja(Z.clone(),R,xB1),T=ja(Z.clone(),G,z);w.silent=!0,T.silent=!0,Y.add(w),Y.add(T);var D=F.getUnitLayoutInfo(0,0),P=H.getUnitLayoutInfo(1,0);if(D&&P){if(F.shouldShow())Y.add(Ph0({x1:Z.x,y1:P.xy,x2:Z.x+Z.width,y2:P.xy},X.getModel("dividerLineStyle").getLineStyle(),A));if(H.shouldShow())Y.add(Ph0({x1:D.xy,y1:Z.y,x2:D.xy,y2:Z.y+Z.height},W.getModel("dividerLineStyle").getLineStyle(),A))}},Q.type="matrix",Q}(p1);function dB1($,Q,J){K(0),K(1);function K(Y){var q=Q.getDimensionModel(A1[Y]),Z=q.dim;if(!Z.shouldShow())return;var X=q.getModel("itemStyle"),W=q.getModel("label"),F=Q.getShallow("tooltip",!0),H=[];for(var B=Z.resetCellIterator();B.next();){var z=B.item,A={};u0.copy(A,z.rect),CR(H,z.id.x,z.id.y),kh0(H,Q,$,J,z.option,X,W,q,A,z.option.value,mB1,F)}}}function nB1($,Q,J,K,Y){if(q("body",Q.getBody(),J,K),J.shouldShow()&&K.shouldShow())q("corner",Q.getCorner(),K,J);function q(Z,X,W,F){var H=new D1(Q.getShallow(Z,!0)),B=H.getModel("itemStyle"),z=H.getModel("label"),A=new t$,R=new t$,G=[],w=Q.getShallow("tooltip",!0);for(F.resetLayoutIterator(R,1);R.next();)for(W.resetLayoutIterator(A,0);A.next();){var T=A.item,D=R.item;CR(G,T.id.x,D.id.y);var P=X.getCell(G);if(P&&P.inSpanOf&&P.inSpanOf!==P)continue;var j={};if(P&&P.span)u0.copy(j,P.spanRect);else T.dim.getLayout(j,0,G[0]),D.dim.getLayout(j,1,G[1]);var E=P?P.option:null;kh0(G,Q,$,Y,E,B,z,H,j,E?E.value:null,uB1,w)}}}function kh0($,Q,J,K,Y,q,Z,X,W,F,H,B){var z;ES.option=Y?Y.itemStyle:null,ES.parentModel=q,jB.option=Y,jB.parentModel=X;var A=f0(jB.getShallow("z2"),Y&&Y.itemStyle?H.special:H.normal),R=B&&B.show,G=ja(W,ES.getItemStyle(),A);J.add(G);var w=jB.get("cursor");if(w!=null)G.attr("cursor",w);var T;if(F!=null){var D=F+"";if(EB.option=Y?Y.label:null,EB.parentModel=Z,EB.ecModel=K,v5(G,{normal:EB},{defaultText:D,autoOverflowArea:!0,layoutRect:y0(G.shape)}),T=G.getTextContent(),T){T.z2=A+1;var P=T.style;if(P&&P.overflow&&P.overflow!=="none"&&P.lineOverflow){var j={};u0.copy(j,W),t3(j,(((z=G.style)===null||z===void 0?void 0:z.lineWidth)||0)/2,!0,!0),G.updateInnerText(),T.getLocalTransform(LS),D7(LS,LS),u0.applyTransform(j,j,LS),T.setClipPath(new Q1({shape:j}))}}r8({el:G,componentModel:Q,itemName:D,itemTooltipOption:B,formatterParamsExtra:{xyLocator:$.slice()}})}if(T){var E=EB.get("silent");if(E==null)E=!R;T.silent=E,T.ignoreHostSilent=!0}var L=jB.get("silent");if(L==null)L=!G.style||G.style.fill==="none"||!G.style.fill;G.silent=L,ME(jB),ME(ES),ME(EB)}var jB=new D1,ES=new D1,EB=new D1,LS=[];function ja($,Q,J){var K=Q.lineWidth;if(K){var Y=$.x+$.width,q=$.y+$.height;$.x=V4($.x,K,!0),$.y=V4($.y,K,!0),$.width=V4(Y,K,!0)-$.x,$.height=V4(q,K,!0)-$.y}return new Q1({shape:$,style:Q,z2:J})}function Ph0($,Q,J){var K=Q.lineWidth;if(K){if(jS($.x1*2)===jS($.x2*2))$.x1=$.x2=V4($.x1,K,!0);if(jS($.y1*2)===jS($.y2*2))$.y1=$.y2=V4($.y1,K,!0)}return new l5({shape:$,style:Q,silent:!0,z2:J})}var jh0=pB1;var lB1=function(){function $(Q,J,K){this.dimensions=$.dimensions,this.type="matrix",this._model=Q;var Y=this._dimModels={x:Q.getDimensionModel("x"),y:Q.getDimensionModel("y")};this._dims={x:Y.x.dim,y:Y.y.dim},this._resize(Q,K)}return $.getDimensionsInfo=function(){return[{name:"x",type:"ordinal"},{name:"y",type:"ordinal"},{name:"value"}]},$.create=function(Q,J){var K=[];return Q.eachComponent("matrix",function(Y){var q=new $(Y,Q,J);K.push(q),Y.coordinateSystem=q}),Q.eachComponent(function(Y,q){gJ({targetModel:q,coordSysType:"matrix",coordSysProvider:IL})}),K},$.prototype.getRect=function(){return this._rect},$.prototype._resize=function(Q,J){var K=this._dims,Y=this._dimModels,q=this._rect=e1(Q.getBoxLayoutParams(),{width:J.getWidth(),height:J.getHeight()});Eh0(Y,K,q,0),Eh0(Y,K,q,1),Lh0(0,K),Lh0(1,K),hh0(this._model.getBody(),K),hh0(this._model.getCorner(),K)},$.prototype.dataToPoint=function(Q,J,K){return K=K||[],this.dataToLayout(Q,J,vw),K[0]=vw.rect.x+vw.rect.width/2,K[1]=vw.rect.y+vw.rect.height/2,K},$.prototype.dataToLayout=function(Q,J,K){var Y=this._dims;K=K||{};var q=K.rect=K.rect||{};q.x=q.y=q.width=q.height=NaN;var Z=K.matrixXYLocatorRange=PS(K.matrixXYLocatorRange);if(!J0(Q))return P1("Input data must be an array in `convertToLayout`, `convertToPixel`"),K;if(kS(Z,null,Q,Y,f0(J&&J.clamp,OQ.none)),!J||!J.ignoreMergeCells){if(!J||J.clamp!==OQ.corner)this._model.getBody().expandRangeByCellMerge(Z);if(!J||J.clamp!==OQ.body)this._model.getCorner().expandRangeByCellMerge(Z)}return Oa(q,Z,Y,0),Oa(q,Z,Y,1),K},$.prototype.pointToData=function(Q,J,K){var Y=this._dims;if(vh0(sJ,0,Y,Q,J&&J.clamp),vh0(sJ,1,Y,Q,J&&J.clamp),K=K||[],K[0]=K[1]=NaN,sJ.y===h8.inCorner&&sJ.x===h8.inBody)Sh0(sJ,K,0,Y);else if(sJ.x===h8.inCorner&&sJ.y===h8.inBody)Sh0(sJ,K,1,Y);else _h0(sJ,K,0,Y),_h0(sJ,K,1,Y);return K},$.prototype.convertToPixel=function(Q,J,K,Y){var q=La(J);return q===this?q.dataToPoint(K,Y):void 0},$.prototype.convertToLayout=function(Q,J,K,Y){var q=La(J);return q===this?q.dataToLayout(K,Y):void 0},$.prototype.convertFromPixel=function(Q,J,K,Y){var q=La(J);return q===this?q.pointToData(K,Y):void 0},$.prototype.containPoint=function(Q){return this._rect.contain(Q[0],Q[1])},$.dimensions=["x","y","value"],$}(),vw={rect:AF()},hS=new t$,Ea=new t$;function Eh0($,Q,J,K){var Y=1-K,q=Q[A1[K]],Z=Q[A1[Y]],X=Z.shouldShow();for(var W=q.resetCellIterator();W.next();)W.item.wh=W.item.xy=NaN;for(var F=Z.resetLayoutIterator(null,K);F.next();)F.item.wh=F.item.xy=NaN;var H=J[P6[K]],B=q.getLocatorCount(K)+Z.getLocatorCount(K),z=new D1;for(var A=Z.resetLevelIterator();A.next();)z.option=A.item.option,z.parentModel=$[A1[Y]],w(A.item,X?z.get("levelSize"):0);var R=new D1;for(var G=q.resetCellIterator();G.next();)if(G.item.type===wQ.leaf)R.option=G.item.option,R.parentModel=void 0,w(G.item,R.get("size"));function w(h,_){var S=rB1(_,K,J);if(!N6(S))h.wh=ha(S,H),H=ha(H-h.wh),B--}var T=B?H/B:0,D=!B&&H>=1,P=J[A1[K]],j=q.getLocatorCount(K)-1,E=new t$;for(Z.resetLayoutIterator(E,K);E.next();)L(E.item);for(q.resetLayoutIterator(E,K);E.next();)L(E.item);function L(h){if(N6(h.wh))h.wh=T;if(h.xy=P,h.id[A1[K]]===j&&!D)h.wh=J[A1[K]]+J[P6[K]]-h.xy;P+=h.wh}}function Lh0($,Q){for(var J=Q[A1[$]].resetCellIterator();J.next();){var K=J.item;if(vS(K.rect,$,K.id,K.span,Q),vS(K.rect,1-$,K.id,K.span,Q),K.type===wQ.nonLeaf)K.xy=K.rect[A1[$]],K.wh=K.rect[P6[$]]}}function hh0($,Q){$.travelExistingCells(function(J){var K=J.span;if(K){var{spanRect:Y,id:q}=J;vS(Y,0,q,K,Q),vS(Y,1,q,K,Q)}})}function vS($,Q,J,K,Y){$[P6[Q]]=0;var q=J[A1[Q]],Z=q<0?Y[A1[1-Q]]:Y[A1[Q]],X=Z.getUnitLayoutInfo(Q,J[A1[Q]]);if($[A1[Q]]=X.xy,$[P6[Q]]=X.wh,K[A1[Q]]>1){var W=Z.getUnitLayoutInfo(Q,J[A1[Q]]+K[A1[Q]]-1);$[P6[Q]]=W.xy+W.wh-X.xy}}function rB1($,Q,J){var K=BN($,J[P6[Q]]);return ha(K,J[P6[Q]])}function ha($,Q){return Math.max(Math.min($,f0(Q,1/0)),0)}function La($){var{matrixModel:Q,seriesModel:J}=$,K=Q?Q.coordinateSystem:J?J.coordinateSystem:null;return K}var h8={inBody:1,inCorner:2,outside:3},sJ={x:null,y:null,point:[]};function vh0($,Q,J,K,Y){var q=J[A1[Q]],Z=J[A1[1-Q]],X=q.getUnitLayoutInfo(Q,q.getLocatorCount(Q)-1),W=q.getUnitLayoutInfo(Q,0),F=Z.getUnitLayoutInfo(Q,-Z.getLocatorCount(Q)),H=Z.shouldShow()?Z.getUnitLayoutInfo(Q,-1):null,B=$.point[Q]=K[Q];if(!W&&!H){$[A1[Q]]=h8.outside;return}if(Y===OQ.body){if(W)$[A1[Q]]=h8.inBody,B=m8(X.xy+X.wh,D6(W.xy,B)),$.point[Q]=B;else $[A1[Q]]=h8.outside;return}else if(Y===OQ.corner){if(H)$[A1[Q]]=h8.inCorner,B=m8(H.xy+H.wh,D6(F.xy,B)),$.point[Q]=B;else $[A1[Q]]=h8.outside;return}var z=W?W.xy:H?H.xy+H.wh:NaN,A=F?F.xy:z,R=X?X.xy+X.wh:z;if(B<A){if(!Y){$[A1[Q]]=h8.outside;return}B=A}else if(B>R){if(!Y){$[A1[Q]]=h8.outside;return}B=R}$.point[Q]=B,$[A1[Q]]=z<=B&&B<=R?h8.inBody:A<=B&&B<=z?h8.inCorner:h8.outside}function Sh0($,Q,J,K){var Y=1-J;if($[A1[J]]===h8.outside)return;for(K[A1[J]].resetCellIterator(Ea);Ea.next();){var q=Ea.item;if(fh0($.point[J],q.rect,J)&&fh0($.point[Y],q.rect,Y)){Q[J]=q.ordinal,Q[Y]=q.id[A1[Y]];return}}}function _h0($,Q,J,K){if($[A1[J]]===h8.outside)return;var Y=$[A1[J]]===h8.inCorner?K[A1[1-J]]:K[A1[J]];for(Y.resetLayoutIterator(hS,J);hS.next();)if(iB1($.point[J],hS.item)){Q[J]=hS.item.id[A1[J]];return}}function iB1($,Q){return Q.xy<=$&&$<=Q.xy+Q.wh}function fh0($,Q,J){return Q[A1[J]]<=$&&$<=Q[A1[J]]+Q[P6[J]]}var Ih0=lB1;function va($){$.registerComponentModel(Ch0),$.registerComponentView(jh0),$.registerCoordinateSystem("matrix",Ih0)}function sB1($,Q){var J=$.existing;if(Q.id=$.keyInfo.id,!Q.type&&J&&(Q.type=J.type),Q.parentId==null){var K=Q.parentOption;if(K)Q.parentId=K.id;else if(J)Q.parentId=J.parentId}Q.parentOption=null}function Mh0($,Q){var J;return v(Q,function(K){$[K]!=null&&$[K]!=="auto"&&(J=!0)}),J}function oB1($,Q,J){var K=Q0({},J),Y=$[Q],q=J.$action||"merge";if(q==="merge")if(Y){var Z=J.type;S0(!Z||Y.type===Z,'Please set $action: "replace" to change `type`'),K1(Y,K,!0),j8(Y,K,{ignoreSize:!0}),pn(J,Y),SS(J,Y),SS(J,Y,"shape"),SS(J,Y,"style"),SS(J,Y,"extra"),J.clipPath=Y.clipPath}else $[Q]=K;else if(q==="replace")$[Q]=K;else if(q==="remove")Y&&($[Q]=null)}var bh0=["transition","enterFrom","leaveTo"],aB1=bh0.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function SS($,Q,J){if(J){if(!$[J]&&Q[J])$[J]={};$=$[J],Q=Q[J]}if(!$||!Q)return;var K=J?bh0:aB1;for(var Y=0;Y<K.length;Y++){var q=K[Y];if($[q]==null&&Q[q]!=null)$[q]=Q[q]}}function tB1($,Q){if(!$)return;if($.hv=Q.hv=[Mh0(Q,["left","right"]),Mh0(Q,["top","bottom"])],$.type==="group"){var J=$,K=Q;J.width==null&&(J.width=K.width=0),J.height==null&&(J.height=K.height=0)}}var gh0=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.preventAutoZ=!0,J}return Q.prototype.mergeOption=function(J,K){var Y=this.option.elements;this.option.elements=null,$.prototype.mergeOption.call(this,J,K),this.option.elements=Y},Q.prototype.optionUpdated=function(J,K){var Y=this.option,q=(K?Y:J).elements,Z=Y.elements=K?[]:Y.elements,X=[];this._flatten(q,X,null);var W=fE(Z,X,"normalMerge"),F=this._elOptionsToUpdate=[];v(W,function(H,B){var z=H.newOption;if(S0(I0(z)||H.existing,"Empty graphic option definition"),!z)return;F.push(z),sB1(H,z),oB1(Z,B,z),tB1(Z[B],z)},this),Y.elements=j1(Z,function(H){return H&&delete H.$action,H!=null})},Q.prototype._flatten=function(J,K,Y){v(J,function(q){if(!q)return;if(Y)q.parentOption=Y;K.push(q);var Z=q.children;if(Z&&Z.length)this._flatten(Z,K,q);delete q.children},this)},Q.prototype.useElOptionsToUpdate=function(){var J=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,J},Q.type="graphic",Q.defaultOption={elements:[]},Q}(B1);var yh0={path:null,compoundPath:null,group:_0,image:n5,text:w1},N$=n0(),uh0=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(){this._elMap=L0()},Q.prototype.render=function(J,K,Y){if(J!==this._lastGraphicModel)this._clear();this._lastGraphicModel=J,this._updateElements(J),this._relocate(J,Y)},Q.prototype._updateElements=function(J){var K=J.useElOptionsToUpdate();if(!K)return;var Y=this._elMap,q=this.group,Z=J.get("z"),X=J.get("zlevel");v(K,function(W){var F=q6(W.id,null),H=F!=null?Y.get(F):null,B=q6(W.parentId,null),z=B!=null?Y.get(B):q,A=W.type,R=W.style;if(A==="text"&&R){if(W.hv&&W.hv[1])R.textVerticalAlign=R.textBaseline=R.verticalAlign=R.align=null}var{textContent:G,textConfig:w}=W;if(R&&FS(R,A,!!w,!!G)){var T=US(R,A,!0);if(!w&&T.textConfig)w=W.textConfig=T.textConfig;if(!G&&T.textContent)G=T.textContent}var D=eB1(W);H&&S0(z===H.parent,"Changing parent is not supported.");var P=W.$action||"merge",j=P==="merge",E=P==="replace";if(j){var L=!H,h=H;if(L)h=xh0(F,z,W.type,Y);else h&&(N$(h).isNew=!1),NS(h);if(h)wB(h,D,J,{isInit:L}),ch0(h,W,Z,X)}else if(E){_S(H,W,Y,J);var _=xh0(F,z,W.type,Y);if(_)wB(_,D,J,{isInit:!0}),ch0(_,W,Z,X)}else if(P==="remove")co(H,W),_S(H,W,Y,J);var S=Y.get(F);if(S&&G){if(j){var I=S.getTextContent();I?I.attr(G):S.setTextContent(new w1(G))}else if(E)S.setTextContent(new w1(G))}if(S){var M=W.clipPath;if(M){var y=M.type,b=void 0,L=!1;if(j){var u=S.getClipPath();L=!u||N$(u).type!==y,b=L?Sa(y):u}else if(E)L=!0,b=Sa(y);S.setClipPath(b),wB(b,M,J,{isInit:L}),TB(b,M.keyframeAnimation,J)}var c=N$(S);S.setTextConfig(w),c.option=W,$z1(S,J,W),r8({el:S,componentModel:J,itemName:S.name,itemTooltipOption:W.tooltip}),TB(S,W.keyframeAnimation,J)}})},Q.prototype._relocate=function(J,K){var Y=J.option.elements,q=this.group,Z=this._elMap,X=K.getWidth(),W=K.getHeight(),F=["x","y"];for(var H=0;H<Y.length;H++){var B=Y[H],z=q6(B.id,null),A=z!=null?Z.get(z):null;if(!A||!A.isGroup)continue;var R=A.parent,G=R===q,w=N$(A),T=N$(R);w.width=h0(w.option.width,G?X:T.width)||0,w.height=h0(w.option.height,G?W:T.height)||0}for(var H=Y.length-1;H>=0;H--){var B=Y[H],z=q6(B.id,null),A=z!=null?Z.get(z):null;if(!A)continue;var R=A.parent,T=N$(R),D=R===q?{width:X,height:W}:{width:T.width,height:T.height},P={},j=hZ(A,B,D,null,{hv:B.hv,boundingMode:B.bounding},P);if(!N$(A).isNew&&j){var E=B.transition,L={};for(var h=0;h<F.length;h++){var _=F[h],S=P[_];if(E&&(eZ(E)||o0(E,_)>=0))L[_]=S;else A[_]=S}V1(A,L,J,0)}else A.attr(P)}},Q.prototype._clear=function(){var J=this,K=this._elMap;K.each(function(Y){_S(Y,N$(Y).option,K,J._lastGraphicModel)}),this._elMap=L0()},Q.prototype.dispose=function(){this._clear()},Q.type="graphic",Q}(p1);function Sa($){S0($,"graphic type MUST be set");var Q=x0(yh0,$)?yh0[$]:PN($);S0(Q,"graphic type "+$+" can not be found");var J=new Q({});return N$(J).type=$,J}function xh0($,Q,J,K){var Y=Sa(J);return Q.add(Y),K.set($,Y),N$(Y).id=$,N$(Y).isNew=!0,Y}function _S($,Q,J,K){var Y=$&&$.parent;if(Y)$.type==="group"&&$.traverse(function(q){_S(q,Q,J,K)}),OB($,Q,K),J.removeKey(N$($).id)}function ch0($,Q,J,K){if(!$.isGroup)v([["cursor",a6.prototype.cursor],["zlevel",K||0],["z",J||0],["z2",0]],function(Y){var q=Y[0];if(x0(Q,q))$[q]=f0(Q[q],Y[1]);else if($[q]==null)$[q]=Y[1]});if(v(Z1(Q),function(Y){if(Y.indexOf("on")===0){var q=Q[Y];$[Y]=v0(q)?q:null}}),x0(Q,"draggable"))$.draggable=Q.draggable;Q.name!=null&&($.name=Q.name),Q.id!=null&&($.id=Q.id)}function eB1($){return $=Q0({},$),v(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(un),function(Q){delete $[Q]}),$}function $z1($,Q,J){var K=m0($).eventData;if(!$.silent&&!$.ignore&&!K)K=m0($).eventData={componentType:"graphic",componentIndex:Q.componentIndex,name:$.name};if(K)K.info=J.info}function _a($){$.registerComponentModel(gh0),$.registerComponentView(uh0),$.registerPreprocessor(function(Q){var J=Q.graphic;if(J0(J))if(!J[0]||!J[0].elements)Q.graphic=[{elements:J}];else Q.graphic=[Q.graphic[0]];else if(J&&!J.elements)Q.graphic=[{elements:[J]}]})}var fa=["x","y","radius","angle","single"],Qz1=["cartesian2d","polar","singleAxis"];function mh0($){var Q=$.get("coordinateSystem");return o0(Qz1,Q)>=0}function B$($){return S0($),$+"Axis"}function ph0($,Q){var J=L0(),K=[],Y=L0();$.eachComponent({mainType:"dataZoom",query:Q},function(H){if(!Y.get(H.uid))X(H)});var q;do q=!1,$.eachComponent("dataZoom",Z);while(q);function Z(H){if(!Y.get(H.uid)&&W(H))X(H),q=!0}function X(H){Y.set(H.uid,!0),K.push(H),F(H)}function W(H){var B=!1;return H.eachTargetAxis(function(z,A){var R=J.get(z);if(R&&R[A])B=!0}),B}function F(H){H.eachTargetAxis(function(B,z){(J.get(B)||J.set(B,[]))[z]=!0})}return K}function fS($){var Q=$.ecModel,J={infoList:[],infoMap:L0()};return $.eachTargetAxis(function(K,Y){var q=Q.getComponent(B$(K),Y);if(!q)return;var Z=q.getCoordSysModel();if(!Z)return;var X=Z.uid,W=J.infoMap.get(X);if(!W)W={model:Z,axisModels:[]},J.infoList.push(W),J.infoMap.set(X,W);W.axisModels.push(q)}),J}var Ia=function(){function $(){this.indexList=[],this.indexMap=[]}return $.prototype.add=function(Q){if(!this.indexMap[Q])this.indexList.push(Q),this.indexMap[Q]=!0},$}(),Jz1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J._autoThrottle=!0,J._noTarget=!0,J._rangePropMode=["percent","percent"],J}return Q.prototype.init=function(J,K,Y){var q=dh0(J);this.settledOption=q,this.mergeDefaultAndTheme(J,Y),this._doInit(q)},Q.prototype.mergeOption=function(J){var K=dh0(J);K1(this.option,J,!0),K1(this.settledOption,K,!0),this._doInit(K)},Q.prototype._doInit=function(J){var K=this.option;this._setDefaultThrottle(J),this._updateRangeUse(J);var Y=this.settledOption;v([["start","startValue"],["end","endValue"]],function(q,Z){if(this._rangePropMode[Z]==="value")K[q[0]]=Y[q[0]]=null},this),this._resetTarget()},Q.prototype._resetTarget=function(){var J=this.get("orient",!0),K=this._targetAxisInfoMap=L0(),Y=this._fillSpecifiedTargetAxis(K);if(Y)this._orient=J||this._makeAutoOrientByTargetAxis();else this._orient=J||"horizontal",this._fillAutoTargetAxisByOrient(K,this._orient);this._noTarget=!0,K.each(function(q){if(q.indexList.length)this._noTarget=!1},this)},Q.prototype._fillSpecifiedTargetAxis=function(J){var K=!1;return v(fa,function(Y){var q=this.getReferringComponents(B$(Y),gV0);if(!q.specified)return;K=!0;var Z=new Ia;v(q.models,function(X){Z.add(X.componentIndex)}),J.set(Y,Z)},this),K},Q.prototype._fillAutoTargetAxisByOrient=function(J,K){var Y=this.ecModel,q=!0;if(q){var Z=K==="vertical"?"y":"x",X=Y.findComponents({mainType:Z+"Axis"});W(X,Z)}if(q){var X=Y.findComponents({mainType:"singleAxis",filter:function(H){return H.get("orient",!0)===K}});W(X,"single")}function W(F,H){var B=F[0];if(!B)return;var z=new Ia;if(z.add(B.componentIndex),J.set(H,z),q=!1,H==="x"||H==="y"){var A=B.getReferringComponents("grid",w5).models[0];A&&v(F,function(R){if(B.componentIndex!==R.componentIndex&&A===R.getReferringComponents("grid",w5).models[0])z.add(R.componentIndex)})}}if(q)v(fa,function(F){if(!q)return;var H=Y.findComponents({mainType:B$(F),filter:function(z){return z.get("type",!0)==="category"}});if(H[0]){var B=new Ia;B.add(H[0].componentIndex),J.set(F,B),q=!1}},this)},Q.prototype._makeAutoOrientByTargetAxis=function(){var J;return this.eachTargetAxis(function(K){!J&&(J=K)},this),J==="y"?"vertical":"horizontal"},Q.prototype._setDefaultThrottle=function(J){if(J.hasOwnProperty("throttle"))this._autoThrottle=!1;if(this._autoThrottle){var K=this.ecModel.option;this.option.throttle=K.animation&&K.animationDurationUpdate>0?100:20}},Q.prototype._updateRangeUse=function(J){var K=this._rangePropMode,Y=this.get("rangeMode");v([["start","startValue"],["end","endValue"]],function(q,Z){var X=J[q[0]]!=null,W=J[q[1]]!=null;if(X&&!W)K[Z]="percent";else if(!X&&W)K[Z]="value";else if(Y)K[Z]=Y[Z];else if(X)K[Z]="percent"})},Q.prototype.noTarget=function(){return this._noTarget},Q.prototype.getFirstTargetAxisModel=function(){var J;return this.eachTargetAxis(function(K,Y){if(J==null)J=this.ecModel.getComponent(B$(K),Y)},this),J},Q.prototype.eachTargetAxis=function(J,K){this._targetAxisInfoMap.each(function(Y,q){v(Y.indexList,function(Z){J.call(K,q,Z)})})},Q.prototype.getAxisProxy=function(J,K){var Y=this.getAxisModel(J,K);if(Y)return Y.__dzAxisProxy},Q.prototype.getAxisModel=function(J,K){S0(J&&K!=null);var Y=this._targetAxisInfoMap.get(J);if(Y&&Y.indexMap[K])return this.ecModel.getComponent(B$(J),K)},Q.prototype.setRawRange=function(J){var K=this.option,Y=this.settledOption;v([["start","startValue"],["end","endValue"]],function(q){if(J[q[0]]!=null||J[q[1]]!=null)K[q[0]]=Y[q[0]]=J[q[0]],K[q[1]]=Y[q[1]]=J[q[1]]},this),this._updateRangeUse(J)},Q.prototype.setCalculatedRange=function(J){var K=this.option;v(["start","startValue","end","endValue"],function(Y){K[Y]=J[Y]})},Q.prototype.getPercentRange=function(){var J=this.findRepresentativeAxisProxy();if(J)return J.getDataPercentWindow()},Q.prototype.getValueRange=function(J,K){if(J==null&&K==null){var Y=this.findRepresentativeAxisProxy();if(Y)return Y.getDataValueWindow()}else return this.getAxisProxy(J,K).getDataValueWindow()},Q.prototype.findRepresentativeAxisProxy=function(J){if(J)return J.__dzAxisProxy;var K,Y=this._targetAxisInfoMap.keys();for(var q=0;q<Y.length;q++){var Z=Y[q],X=this._targetAxisInfoMap.get(Z);for(var W=0;W<X.indexList.length;W++){var F=this.getAxisProxy(Z,X.indexList[W]);if(F.hostedBy(this))return F;if(!K)K=F}}return K},Q.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},Q.prototype.getOrient=function(){return S0(this._orient),this._orient},Q.type="dataZoom",Q.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],Q.defaultOption={z:4,filterMode:"filter",start:0,end:100},Q}(B1);function dh0($){var Q={};return v(["start","end","startValue","endValue","throttle"],function(J){$.hasOwnProperty(J)&&(Q[J]=$[J])}),Q}var J2=Jz1;var Kz1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="dataZoom.select",Q}(J2),nh0=Kz1;var Yz1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y,q){this.dataZoomModel=J,this.ecModel=K,this.api=Y},Q.type="dataZoom",Q}(p1),LB=Yz1;var qz1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="dataZoom.select",Q}(LB),lh0=qz1;var hB=v,rh0=I7,Zz1=function(){function $(Q,J,K,Y){this._dimName=Q,this._axisIndex=J,this.ecModel=Y,this._dataZoomModel=K}return $.prototype.hostedBy=function(Q){return this._dataZoomModel===Q},$.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},$.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},$.prototype.getTargetSeriesModels=function(){var Q=[];return this.ecModel.eachSeries(function(J){if(mh0(J)){var K=B$(this._dimName),Y=J.getReferringComponents(K,w5).models[0];if(Y&&this._axisIndex===Y.componentIndex)Q.push(J)}},this),Q},$.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},$.prototype.getMinMaxSpan=function(){return y0(this._minMaxSpan)},$.prototype.calculateDataWindow=function(Q){var J=this._dataExtent,K=this.getAxisModel(),Y=K.axis.scale,q=this._dataZoomModel.getRangePropMode(),Z=[0,100],X=[],W=[],F;hB(["start","end"],function(z,A){var R=Q[z],G=Q[z+"Value"];if(q[A]==="percent")R==null&&(R=Z[A]),G=Y.parse(a1(R,Z,J));else F=!0,G=G==null?J[A]:Y.parse(G),R=a1(G,J,Z);W[A]=G==null||isNaN(G)?J[A]:G,X[A]=R==null||isNaN(R)?Z[A]:R}),rh0(W),rh0(X);var H=this._minMaxSpan;F?B(W,X,J,Z,!1):B(X,W,Z,J,!0);function B(z,A,R,G,w){var T=w?"Span":"ValueSpan";j4(0,z,R,"all",H["min"+T],H["max"+T]);for(var D=0;D<2;D++)A[D]=a1(z[D],R,G,!0),w&&(A[D]=Y.parse(A[D]))}return{valueWindow:W,percentWindow:X}},$.prototype.reset=function(Q){if(Q!==this._dataZoomModel)return;var J=this.getTargetSeriesModels();this._dataExtent=Xz1(this,this._dimName,J),this._updateMinMaxSpan();var K=this.calculateDataWindow(Q.settledOption);this._valueWindow=K.valueWindow,this._percentWindow=K.percentWindow,this._setAxisModel()},$.prototype.filterData=function(Q,J){if(Q!==this._dataZoomModel)return;var K=this._dimName,Y=this.getTargetSeriesModels(),q=Q.get("filterMode"),Z=this._valueWindow;if(q==="none")return;hB(Y,function(W){var F=W.getData(),H=F.mapDimensionsAll(K);if(!H.length)return;if(q==="weakFilter"){var B=F.getStore(),z=K0(H,function(A){return F.getDimensionIndex(A)},F);F.filterSelf(function(A){var R,G,w;for(var T=0;T<H.length;T++){var D=B.get(z[T],A),P=!isNaN(D),j=D<Z[0],E=D>Z[1];if(P&&!j&&!E)return!0;P&&(w=!0),j&&(R=!0),E&&(G=!0)}return w&&R&&G})}else hB(H,function(A){if(q==="empty")W.setData(F=F.map(A,function(G){return!X(G)?NaN:G}));else{var R={};R[A]=Z,F.selectRange(R)}});hB(H,function(A){F.setApproximateExtent(Z,A)})});function X(W){return W>=Z[0]&&W<=Z[1]}},$.prototype._updateMinMaxSpan=function(){var Q=this._minMaxSpan={},J=this._dataZoomModel,K=this._dataExtent;hB(["min","max"],function(Y){var q=J.get(Y+"Span"),Z=J.get(Y+"ValueSpan");if(Z!=null&&(Z=this.getAxisModel().axis.scale.parse(Z)),Z!=null)q=a1(K[0]+Z,K,[0,100],!0);else if(q!=null)Z=a1(q,[0,100],K,!0)-K[0];Q[Y+"Span"]=q,Q[Y+"ValueSpan"]=Z},this)},$.prototype._setAxisModel=function(){var Q=this.getAxisModel(),J=this._percentWindow,K=this._valueWindow;if(!J)return;var Y=EE(K,[0,500]);Y=Math.min(Y,20);var q=Q.axis.scale.rawExtentInfo;if(J[0]!==0)q.setDeterminedMinMax("min",+K[0].toFixed(Y));if(J[1]!==100)q.setDeterminedMinMax("max",+K[1].toFixed(Y));q.freeze()},$}();function Xz1($,Q,J){var K=[1/0,-1/0];hB(J,function(Z){rT0(K,Z.getData(),Q)});var Y=$.getAxisModel(),q=mh(Y.axis.scale,Y,K).calculate();return[q.min,q.max]}var ih0=Zz1;var Wz1={getTargetSeries:function($){function Q(Y){$.eachComponent("dataZoom",function(q){q.eachTargetAxis(function(Z,X){var W=$.getComponent(B$(Z),X);Y(Z,X,W,q)})})}Q(function(Y,q,Z,X){Z.__dzAxisProxy=null});var J=[];Q(function(Y,q,Z,X){if(!Z.__dzAxisProxy)Z.__dzAxisProxy=new ih0(Y,q,X,$),J.push(Z.__dzAxisProxy)});var K=L0();return v(J,function(Y){v(Y.getTargetSeriesModels(),function(q){K.set(q.uid,q)})}),K},overallReset:function($,Q){$.eachComponent("dataZoom",function(J){J.eachTargetAxis(function(K,Y){J.getAxisProxy(K,Y).reset(J)}),J.eachTargetAxis(function(K,Y){J.getAxisProxy(K,Y).filterData(J,Q)})}),$.eachComponent("dataZoom",function(J){var K=J.findRepresentativeAxisProxy();if(K){var Y=K.getDataPercentWindow(),q=K.getDataValueWindow();J.setCalculatedRange({start:Y[0],end:Y[1],startValue:q[0],endValue:q[1]})}})}},sh0=Wz1;function Ma($){$.registerAction("dataZoom",function(Q,J){var K=ph0(J,Q);v(K,function(Y){Y.setRawRange({start:Q.start,end:Q.end,startValue:Q.startValue,endValue:Q.endValue})})})}var oh0=!1;function VF($){if(oh0)return;oh0=!0,$.registerProcessor($.PRIORITY.PROCESSOR.FILTER,sh0),Ma($),$.registerSubTypeDefaulter("dataZoom",function(){return"slider"})}function ah0($){$.registerComponentModel(nh0),$.registerComponentView(lh0),VF($)}var i7=function(){function $(){}return $}();var th0={};function K2($,Q){th0[$]=Q}function IS($){return th0[$]}var Uz1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.optionUpdated=function(){$.prototype.optionUpdated.apply(this,arguments);var J=this.ecModel;v(this.option.feature,function(K,Y){var q=IS(Y);if(q){if(q.getDefaultOption)q.defaultOption=q.getDefaultOption(J);K1(K,q.defaultOption)}})},Q.type="toolbox",Q.layoutMode={type:"box",ignoreSize:!0},Q.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:a.color.border,borderRadius:0,borderWidth:0,padding:a.size.m,itemSize:15,itemGap:a.size.s,showTitle:!0,iconStyle:{borderColor:a.color.accent50,color:"none"},emphasis:{iconStyle:{borderColor:a.color.accent50}},tooltip:{show:!1,position:"bottom"}},Q}(B1),eh0=Uz1;function MS($,Q){var J=bJ(Q.get("padding")),K=Q.getItemStyle(["color","opacity"]);K.fill=Q.get("backgroundColor");var Y=new Q1({shape:{x:$.x-J[3],y:$.y-J[0],width:$.width+J[1]+J[3],height:$.height+J[0]+J[2],r:Q.get("borderRadius")},style:K,silent:!0,z2:-1});return Y}var Nz1=function($){x(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.render=function(J,K,Y,q){var Z=this.group;if(Z.removeAll(),!J.get("show"))return;var X=+J.get("itemSize"),W=J.get("orient")==="vertical",F=J.get("feature")||{},H=this._features||(this._features={}),B=[];v(F,function(D,P){B.push(P)}),new E8(this._featureNames||[],B).add(z).update(z).remove(a0(z,null)).execute(),this._featureNames=B;function z(D,P){var j=B[D],E=B[P],L=F[j],h=new D1(L,J,J.ecModel),_;if(q&&q.newTitle!=null&&q.featureName===j)L.title=q.newTitle;if(j&&!E){if(Bz1(j))_={onclick:h.option.onclick,featureName:j};else{var S=IS(j);if(!S)return;_=new S}H[j]=_}else if(_=H[E],!_)return;_.uid=$$("toolbox-feature"),_.model=h,_.ecModel=K,_.api=Y;var I=_ instanceof i7;if(!j&&E){I&&_.dispose&&_.dispose(K,Y);return}if(!h.get("show")||I&&_.unusable){I&&_.remove&&_.remove(K,Y);return}if(A(h,_,j),h.setIconStatus=function(M,y){var b=this.option,u=this.iconPaths;if(b.iconStatus=b.iconStatus||{},b.iconStatus[M]=y,u[M])(y==="emphasis"?p8:d8)(u[M])},_ instanceof i7){if(_.render)_.render(h,K,Y,q)}}function A(D,P,j){var E=D.getModel("iconStyle"),L=D.getModel(["emphasis","iconStyle"]),h=P instanceof i7&&P.getIcons?P.getIcons():D.get("icon"),_=D.get("title")||{},S,I;if(B0(h))S={},S[j]=h;else S=h;if(B0(_))I={},I[j]=_;else I=_;var M=D.iconPaths={};v(S,function(y,b){var u=BY(y,{},{x:-X/2,y:-X/2,width:X,height:X});u.setStyle(E.getItemStyle());var c=u.ensureState("emphasis");c.style=L.getItemStyle();var m=new w1({style:{text:I[b],align:L.get("textAlign"),borderRadius:L.get("textBorderRadius"),padding:L.get("textPadding"),fill:null,font:EN({fontStyle:L.get("textFontStyle"),fontFamily:L.get("textFontFamily"),fontSize:L.get("textFontSize"),fontWeight:L.get("textFontWeight")},K)},ignore:!0});u.setTextContent(m),r8({el:u,componentModel:J,itemName:b,formatterParamsExtra:{title:I[b]}}),u.__title=I[b],u.on("mouseover",function(){var i=L.getItemStyle(),o=W?J.get("right")==null&&J.get("left")!=="right"?"right":"left":J.get("bottom")==null&&J.get("top")!=="bottom"?"bottom":"top";m.setStyle({fill:L.get("textFill")||i.fill||i.stroke||a.color.neutral99,backgroundColor:L.get("textBackgroundColor")}),u.setTextConfig({position:L.get("textPosition")||o}),m.ignore=!J.get("showTitle"),Y.enterEmphasis(this)}).on("mouseout",function(){if(D.get(["iconStatus",b])!=="emphasis")Y.leaveEmphasis(this);m.hide()}),(D.get(["iconStatus",b])==="emphasis"?p8:d8)(u),Z.add(u),u.on("click",O0(P.onclick,P,K,Y,b)),M[b]=u})}var R=D5(J,Y).refContainer,G=J.getBoxLayoutParams(),w=J.get("padding"),T=e1(G,R,w);XQ(J.get("orient"),Z,J.get("itemGap"),T.width,T.height),hZ(Z,G,R,w),Z.add(MS(Z.getBoundingRect(),J)),W||Z.eachChild(function(D){var P=D.__title,j=D.ensureState("emphasis"),E=j.textConfig||(j.textConfig={}),L=D.getTextContent(),h=L&&L.ensureState("emphasis");if(h&&!v0(h)&&P){var _=h.style||(h.style={}),S=wZ(P,w1.makeFont(_)),I=D.x+Z.x,M=D.y+Z.y+X,y=!1;if(M+S.height>Y.getHeight())E.position="top",y=!0;var b=y?-5-S.height:X+10;if(I+S.width/2>Y.getWidth())E.position=["100%",b],_.align="right";else if(I-S.width/2<0)E.position=[0,b],_.align="left"}})},Q.prototype.updateView=function(J,K,Y,q){v(this._features,function(Z){Z instanceof i7&&Z.updateView&&Z.updateView(Z.model,K,Y,q)})},Q.prototype.remove=function(J,K){v(this._features,function(Y){Y instanceof i7&&Y.remove&&Y.remove(J,K)}),this.group.removeAll()},Q.prototype.dispose=function(J,K){v(this._features,function(Y){Y instanceof i7&&Y.dispose&&Y.dispose(J,K)})},Q.type="toolbox",Q}(p1);function Bz1($){return $.indexOf("my")===0}var $v0=Nz1;var zz1=function($){x(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.onclick=function(J,K){var Y=this.model,q=Y.get("name")||J.get("title.0.text")||"echarts",Z=K.getZr().painter.getType()==="svg",X=Z?"svg":Y.get("type",!0)||"png",W=K.getConnectedDataURL({type:X,backgroundColor:Y.get("backgroundColor",!0)||J.get("backgroundColor")||a.color.neutral00,connectedBackgroundColor:Y.get("connectedBackgroundColor"),excludeComponents:Y.get("excludeComponents"),pixelRatio:Y.get("pixelRatio")}),F=L1.browser;if(typeof MouseEvent==="function"&&(F.newEdge||!F.ie&&!F.edge)){var H=document.createElement("a");H.download=q+"."+X,H.target="_blank",H.href=W;var B=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});H.dispatchEvent(B)}else if(window.navigator.msSaveOrOpenBlob||Z){var z=W.split(","),A=z[0].indexOf("base64")>-1,R=Z?decodeURIComponent(z[1]):z[1];A&&(R=window.atob(R));var G=q+"."+X;if(window.navigator.msSaveOrOpenBlob){var w=R.length,T=new Uint8Array(w);while(w--)T[w]=R.charCodeAt(w);var D=new Blob([T]);window.navigator.msSaveOrOpenBlob(D,G)}else{var P=document.createElement("iframe");document.body.appendChild(P);var j=P.contentWindow,E=j.document;E.open("image/svg+xml","replace"),E.write(R),E.close(),j.focus(),E.execCommand("SaveAs",!0,G),document.body.removeChild(P)}}else{var L=Y.get("lang"),h='<body style="margin:0;"><img src="'+W+'" style="max-width:100%;" title="'+(L&&L[0]||"")+'" /></body>',_=window.open();_.document.write(h),_.document.title=q}},Q.getDefaultOption=function(J){var K={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:J.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:a.color.neutral00,name:"",excludeComponents:["toolbox"],lang:J.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return K},Q}(i7),Qv0=zz1;var Jv0="__ec_magicType_stack__";var Az1=[["line","bar"],["stack"]],Vz1=function($){x(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.getIcons=function(){var J=this.model,K=J.get("icon"),Y={};return v(J.get("type"),function(q){if(K[q])Y[q]=K[q]}),Y},Q.getDefaultOption=function(J){var K={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:J.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return K},Q.prototype.onclick=function(J,K,Y){var q=this.model,Z=q.get(["seriesIndex",Y]);if(!Kv0[Y])return;var X={series:[]},W=function(B){var{subType:z,id:A}=B,R=Kv0[Y](z,A,B,q);if(R)b0(R,B.option),X.series.push(R);var G=B.coordinateSystem;if(G&&G.type==="cartesian2d"&&(Y==="line"||Y==="bar")){var w=G.getAxesByScale("ordinal")[0];if(w){var T=w.dim,D=T+"Axis",P=B.getReferringComponents(D,w5).models[0],j=P.componentIndex;X[D]=X[D]||[];for(var E=0;E<=j;E++)X[D][j]=X[D][j]||{};X[D][j].boundaryGap=Y==="bar"}}};v(Az1,function(B){if(o0(B,Y)>=0)v(B,function(z){q.setIconStatus(z,"normal")})}),q.setIconStatus(Y,"emphasis"),J.eachComponent({mainType:"series",query:Z==null?null:{seriesIndex:Z}},W);var F,H=Y;if(Y==="stack"){if(F=K1({stack:q.option.title.tiled,tiled:q.option.title.stack},q.option.title),q.get(["iconStatus",Y])!=="emphasis")H="tiled"}K.dispatchAction({type:"changeMagicType",currentType:H,newOption:X,newTitle:F,featureName:"magicType"})},Q}(i7),Kv0={line:function($,Q,J,K){if($==="bar")return K1({id:Q,type:"line",data:J.get("data"),stack:J.get("stack"),markPoint:J.get("markPoint"),markLine:J.get("markLine")},K.get(["option","line"])||{},!0)},bar:function($,Q,J,K){if($==="line")return K1({id:Q,type:"bar",data:J.get("data"),stack:J.get("stack"),markPoint:J.get("markPoint"),markLine:J.get("markLine")},K.get(["option","bar"])||{},!0)},stack:function($,Q,J,K){var Y=J.get("stack")===Jv0;if($==="line"||$==="bar")return K.setIconStatus("stack",Y?"normal":"emphasis"),K1({id:Q,stack:Y?"":Jv0},K.get(["option","stack"])||{},!0)}};O4({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function($,Q){Q.mergeOption($.newOption)});var Yv0=Vz1;var gS=Array(60).join("-"),vB="\t";function Rz1($){var Q={},J=[],K=[];return $.eachRawSeries(function(Y){var q=Y.coordinateSystem;if(q&&(q.type==="cartesian2d"||q.type==="polar")){var Z=q.getBaseAxis();if(Z.type==="category"){var X=Z.dim+"_"+Z.index;if(!Q[X])Q[X]={categoryAxis:Z,valueAxis:q.getOtherAxis(Z),series:[]},K.push({axisDim:Z.dim,axisIndex:Z.index});Q[X].series.push(Y)}else J.push(Y)}else J.push(Y)}),{seriesGroupByCategoryAxis:Q,other:J,meta:K}}function Gz1($){var Q=[];return v($,function(J,K){var{categoryAxis:Y,valueAxis:q}=J,Z=q.dim,X=[" "].concat(K0(J.series,function(A){return A.name})),W=[Y.model.getCategories()];v(J.series,function(A){var R=A.getRawData();W.push(A.getRawData().mapArray(R.mapDimension(Z),function(G){return G}))});var F=[X.join(vB)];for(var H=0;H<W[0].length;H++){var B=[];for(var z=0;z<W.length;z++)B.push(W[z][H]);F.push(B.join(vB))}Q.push(F.join(`
`))}),Q.join(`

`+gS+`

`)}function wz1($){return K0($,function(Q){var J=Q.getRawData(),K=[Q.name],Y=[];return J.each(J.dimensions,function(){var q=arguments.length,Z=arguments[q-1],X=J.getName(Z);for(var W=0;W<q-1;W++)Y[W]=arguments[W];K.push((X?X+vB:"")+Y.join(vB))}),K.join(`
`)}).join(`

`+gS+`

`)}function Oz1($){var Q=Rz1($);return{value:j1([Gz1(Q.seriesGroupByCategoryAxis),wz1(Q.other)],function(J){return!!J.replace(/[\n\t\s]/g,"")}).join(`

`+gS+`

`),meta:Q.meta}}function bS($){return $.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Tz1($){var Q=$.slice(0,$.indexOf(`
`));if(Q.indexOf(vB)>=0)return!0}var ba=new RegExp("["+vB+"]+","g");function Dz1($){var Q=$.split(/\n+/g),J=bS(Q.shift()).split(ba),K=[],Y=K0(J,function(W){return{name:W,data:[]}});for(var q=0;q<Q.length;q++){var Z=bS(Q[q]).split(ba);K.push(Z.shift());for(var X=0;X<Z.length;X++)Y[X]&&(Y[X].data[q]=Z[X])}return{series:Y,categories:K}}function Cz1($){var Q=$.split(/\n+/g),J=bS(Q.shift()),K=[];for(var Y=0;Y<Q.length;Y++){var q=bS(Q[Y]);if(!q)continue;var Z=q.split(ba),X="",W=void 0,F=!1;if(isNaN(Z[0]))F=!0,X=Z[0],Z=Z.slice(1),K[Y]={name:X,value:[]},W=K[Y].value;else W=K[Y]=[];for(var H=0;H<Z.length;H++)W.push(+Z[H]);if(W.length===1)F?K[Y].value=W[0]:K[Y]=W[0]}return{name:J,data:K}}function Pz1($,Q){var J=$.split(new RegExp(`
*`+gS+`
*`,"g")),K={series:[]};return v(J,function(Y,q){if(Tz1(Y)){var Z=Dz1(Y),X=Q[q],W=X.axisDim+"Axis";if(X)K[W]=K[W]||[],K[W][X.axisIndex]={data:Z.categories},K.series=K.series.concat(Z.series)}else{var Z=Cz1(Y);K.series.push(Z)}}),K}var kz1=function($){x(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.onclick=function(J,K){setTimeout(function(){K.dispatchAction({type:"hideTip"})});var Y=K.getDom(),q=this.model;if(this._dom)Y.removeChild(this._dom);var Z=document.createElement("div");Z.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",Z.style.backgroundColor=q.get("backgroundColor")||a.color.neutral00;var X=document.createElement("h4"),W=q.get("lang")||[];X.innerHTML=W[0]||q.get("title"),X.style.cssText="margin:10px 20px",X.style.color=q.get("textColor");var F=document.createElement("div"),H=document.createElement("textarea");F.style.cssText="overflow:auto";var B=q.get("optionToContent"),z=q.get("contentToOption"),A=Oz1(J);if(v0(B)){var R=B(K.getOption());if(B0(R))F.innerHTML=R;else if(OJ(R))F.appendChild(R)}else{H.readOnly=q.get("readOnly");var G=H.style;G.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",G.color=q.get("textColor"),G.borderColor=q.get("textareaBorderColor"),G.backgroundColor=q.get("textareaColor"),H.value=A.value,F.appendChild(H)}var w=A.meta,T=document.createElement("div");T.style.cssText="position:absolute;bottom:5px;left:0;right:0";var D="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",P=document.createElement("div"),j=document.createElement("div");D+=";background-color:"+q.get("buttonColor"),D+=";color:"+q.get("buttonTextColor");var E=this;function L(){Y.removeChild(Z),E._dom=null}kR(P,"click",L),kR(j,"click",function(){if(z==null&&B!=null||z!=null&&B==null){T5("It seems you have just provided one of `contentToOption` and `optionToContent` functions but missed the other one. Data change is ignored."),L();return}var h;try{if(v0(z))h=z(F,K.getOption());else h=Pz1(H.value,w)}catch(_){throw L(),Error("Data view format error "+_)}if(h)K.dispatchAction({type:"changeDataView",newOption:h});L()}),P.innerHTML=W[1],j.innerHTML=W[2],j.style.cssText=P.style.cssText=D,!q.get("readOnly")&&T.appendChild(j),T.appendChild(P),Z.appendChild(X),Z.appendChild(F),Z.appendChild(T),F.style.height=Y.clientHeight-80+"px",Y.appendChild(Z),this._dom=Z},Q.prototype.remove=function(J,K){this._dom&&K.getDom().removeChild(this._dom)},Q.prototype.dispose=function(J,K){this.remove(J,K)},Q.getDefaultOption=function(J){var K={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:J.getLocaleModel().get(["toolbox","dataView","title"]),lang:J.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:a.color.background,textColor:a.color.primary,textareaColor:a.color.background,textareaBorderColor:a.color.border,buttonColor:a.color.accent50,buttonTextColor:a.color.neutral00};return K},Q}(i7);function jz1($,Q){return K0($,function(J,K){var Y=Q&&Q[K];if(I0(Y)&&!J0(Y)){var q=I0(J)&&!J0(J);if(!q)J={value:J};var Z=Y.name!=null&&J.name==null;return J=b0(J,Y),Z&&delete J.name,J}else return J})}O4({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function($,Q){var J=[];v($.newOption.series,function(K){var Y=Q.getSeriesByName(K.name)[0];if(!Y)J.push(Q0({type:"scatter"},K));else{var q=Y.get("data");J.push({name:K.name,data:jz1(K.data,q)})}}),Q.mergeOption(b0({series:J},$.newOption))});var qv0=kz1;var Zv0=v,Xv0=n0();function Wv0($,Q){var J=ga($);Zv0(Q,function(K,Y){var q=J.length-1;for(;q>=0;q--){var Z=J[q];if(Z[Y])break}if(q<0){var X=$.queryComponents({mainType:"dataZoom",subType:"select",id:Y})[0];if(X){var W=X.getPercentRange();J[0][Y]={dataZoomId:Y,start:W[0],end:W[1]}}}}),J.push(Q)}function Fv0($){var Q=ga($),J=Q[Q.length-1];Q.length>1&&Q.pop();var K={};return Zv0(J,function(Y,q){for(var Z=Q.length-1;Z>=0;Z--)if(Y=Q[Z][q],Y){K[q]=Y;break}}),K}function Uv0($){Xv0($).snapshots=null}function Hv0($){return ga($).length}function ga($){var Q=Xv0($);if(!Q.snapshots)Q.snapshots=[{}];return Q.snapshots}var Ez1=function($){x(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.onclick=function(J,K){Uv0(J),K.dispatchAction({type:"restore",from:this.uid})},Q.getDefaultOption=function(J){var K={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:J.getLocaleModel().get(["toolbox","restore","title"])};return K},Q}(i7);O4({type:"restore",event:"restore",update:"prepareAndUpdate"},function($,Q){Q.resetOption("recreate")});var Bv0=Ez1;var Lz1=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],hz1=function(){function $(Q,J,K){var Y=this;this._targetInfoList=[];var q=zv0(J,Q);v(vz1,function(Z,X){if(!K||!K.include||o0(K.include,X)>=0)Z(q,Y._targetInfoList)})}return $.prototype.setOutputRanges=function(Q,J){return this.matchOutputRanges(Q,J,function(K,Y,q){if((K.coordRanges||(K.coordRanges=[])).push(Y),!K.coordRange){K.coordRange=Y;var Z=ya[K.brushType](0,q,Y);K.__rangeOffset={offset:Gv0[K.brushType](Z.values,K.range,[1,1]),xyMinMax:Z.xyMinMax}}}),Q},$.prototype.matchOutputRanges=function(Q,J,K){v(Q,function(Y){var q=this.findTargetInfo(Y,J);if(q&&q!==!0)v(q.coordSyses,function(Z){var X=ya[Y.brushType](1,Z,Y.range,!0);K(Y,X.values,Z,J)})},this)},$.prototype.setInputRanges=function(Q,J){v(Q,function(K){var Y=this.findTargetInfo(K,J);if(S0(!Y||Y===!0||K.coordRange,"coordRange must be specified when coord index specified."),S0(!Y||Y!==!0||K.range,"range must be specified in global brush."),K.range=K.range||[],Y&&Y!==!0){K.panelId=Y.panelId;var q=ya[K.brushType](0,Y.coordSys,K.coordRange),Z=K.__rangeOffset;K.range=Z?Gv0[K.brushType](q.values,Z.offset,Sz1(q.xyMinMax,Z.xyMinMax)):q.values}},this)},$.prototype.makePanelOpts=function(Q,J){return K0(this._targetInfoList,function(K){var Y=K.getPanelRect();return{panelId:K.panelId,defaultBrushType:J?J(K):null,clipPath:av(Y),isTargetByCursor:ev(Y,Q,K.coordSysModel),getLinearBrushOtherExtent:tv(Y)}})},$.prototype.controlSeries=function(Q,J,K){var Y=this.findTargetInfo(Q,K);return Y===!0||Y&&o0(Y.coordSyses,J.coordinateSystem)>=0},$.prototype.findTargetInfo=function(Q,J){var K=this._targetInfoList,Y=zv0(J,Q);for(var q=0;q<K.length;q++){var Z=K[q],X=Q.panelId;if(X){if(Z.panelId===X)return Z}else for(var W=0;W<Av0.length;W++)if(Av0[W](Y,Z))return Z}return!0},$}();function xa($){return $[0]>$[1]&&$.reverse(),$}function zv0($,Q){return kJ($,Q,{includeMainTypes:Lz1})}var vz1={grid:function($,Q){var{xAxisModels:J,yAxisModels:K,gridModels:Y}=$,q=L0(),Z={},X={};if(!J&&!K&&!Y)return;v(J,function(W){var F=W.axis.grid.model;q.set(F.id,F),Z[F.id]=!0}),v(K,function(W){var F=W.axis.grid.model;q.set(F.id,F),X[F.id]=!0}),v(Y,function(W){q.set(W.id,W),Z[W.id]=!0,X[W.id]=!0}),q.each(function(W){var F=W.coordinateSystem,H=[];v(F.getCartesians(),function(B,z){if(o0(J,B.getAxis("x").model)>=0||o0(K,B.getAxis("y").model)>=0)H.push(B)}),Q.push({panelId:"grid--"+W.id,gridModel:W,coordSysModel:W,coordSys:H[0],coordSyses:H,getPanelRect:Vv0.grid,xAxisDeclared:Z[W.id],yAxisDeclared:X[W.id]})})},geo:function($,Q){v($.geoModels,function(J){var K=J.coordinateSystem;Q.push({panelId:"geo--"+J.id,geoModel:J,coordSysModel:J,coordSys:K,coordSyses:[K],getPanelRect:Vv0.geo})})}},Av0=[function($,Q){var{xAxisModel:J,yAxisModel:K,gridModel:Y}=$;return!Y&&J&&(Y=J.axis.grid.model),!Y&&K&&(Y=K.axis.grid.model),Y&&Y===Q.gridModel},function($,Q){var J=$.geoModel;return J&&J===Q.geoModel}],Vv0={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var $=this.coordSys,Q=$.getBoundingRect().clone();return Q.applyTransform(KQ($)),Q}},ya={lineX:a0(Rv0,0),lineY:a0(Rv0,1),rect:function($,Q,J,K){var Y=$?Q.pointToData([J[0][0],J[1][0]],K):Q.dataToPoint([J[0][0],J[1][0]],K),q=$?Q.pointToData([J[0][1],J[1][1]],K):Q.dataToPoint([J[0][1],J[1][1]],K),Z=[xa([Y[0],q[0]]),xa([Y[1],q[1]])];return{values:Z,xyMinMax:Z}},polygon:function($,Q,J,K){var Y=[[1/0,-1/0],[1/0,-1/0]],q=K0(J,function(Z){var X=$?Q.pointToData(Z,K):Q.dataToPoint(Z,K);return Y[0][0]=Math.min(Y[0][0],X[0]),Y[1][0]=Math.min(Y[1][0],X[1]),Y[0][1]=Math.max(Y[0][1],X[0]),Y[1][1]=Math.max(Y[1][1],X[1]),X});return{values:q,xyMinMax:Y}}};function Rv0($,Q,J,K){S0(J.type==="cartesian2d","lineX/lineY brush is available only in cartesian2d.");var Y=J.getAxis(["x","y"][$]),q=xa(K0([0,1],function(X){return Q?Y.coordToData(Y.toLocalCoord(K[X]),!0):Y.toGlobalCoord(Y.dataToCoord(K[X]))})),Z=[];return Z[$]=q,Z[1-$]=[NaN,NaN],{values:q,xyMinMax:Z}}var Gv0={lineX:a0(wv0,0),lineY:a0(wv0,1),rect:function($,Q,J){return[[$[0][0]-J[0]*Q[0][0],$[0][1]-J[0]*Q[0][1]],[$[1][0]-J[1]*Q[1][0],$[1][1]-J[1]*Q[1][1]]]},polygon:function($,Q,J){return K0($,function(K,Y){return[K[0]-J[0]*Q[Y][0],K[1]-J[1]*Q[Y][1]]})}};function wv0($,Q,J,K){return[Q[0]-K[$]*J[0],Q[1]-K[$]*J[1]]}function Sz1($,Q){var J=Ov0($),K=Ov0(Q),Y=[J[0]/K[0],J[1]/K[1]];return isNaN(Y[0])&&(Y[0]=1),isNaN(Y[1])&&(Y[1]=1),Y}function Ov0($){return $?[$[0][1]-$[0][0],$[1][1]-$[1][0]]:[NaN,NaN]}var Sw=hz1;var ca=v,_z1=IV0("toolbox-dataZoom_");var fz1=function($){x(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.render=function(J,K,Y,q){if(!this._brushController)this._brushController=new AB(Y.getZr()),this._brushController.on("brush",O0(this._onBrush,this)).mount();bz1(J,K,this,q,Y),Mz1(J,K)},Q.prototype.onclick=function(J,K,Y){Iz1[Y].call(this)},Q.prototype.remove=function(J,K){this._brushController&&this._brushController.unmount()},Q.prototype.dispose=function(J,K){this._brushController&&this._brushController.dispose()},Q.prototype._onBrush=function(J){var K=J.areas;if(!J.isEnd||!K.length)return;var Y={},q=this.ecModel;this._brushController.updateCovers([]);var Z=new Sw(ua(this.model),q,{include:["grid"]});Z.matchOutputRanges(K,q,function(F,H,B){if(B.type!=="cartesian2d")return;var z=F.brushType;if(z==="rect")X("x",B,H[0]),X("y",B,H[1]);else X({lineX:"x",lineY:"y"}[z],B,H)}),Wv0(q,Y),this._dispatchZoomAction(Y);function X(F,H,B){var z=H.getAxis(F),A=z.model,R=W(F,A,q),G=R.findRepresentativeAxisProxy(A).getMinMaxSpan();if(G.minValueSpan!=null||G.maxValueSpan!=null)B=j4(0,B.slice(),z.scale.getExtent(),0,G.minValueSpan,G.maxValueSpan);R&&(Y[R.id]={dataZoomId:R.id,startValue:B[0],endValue:B[1]})}function W(F,H,B){var z;return B.eachComponent({mainType:"dataZoom",subType:"select"},function(A){var R=A.getAxisModel(F,H.componentIndex);R&&(z=A)}),z}},Q.prototype._dispatchZoomAction=function(J){var K=[];ca(J,function(Y,q){K.push(y0(Y))}),K.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:K})},Q.getDefaultOption=function(J){var K={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:J.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:a.color.backgroundTint}};return K},Q}(i7),Iz1={zoom:function(){var $=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:$})},back:function(){this._dispatchZoomAction(Fv0(this.ecModel))}};function ua($){var Q={xAxisIndex:$.get("xAxisIndex",!0),yAxisIndex:$.get("yAxisIndex",!0),xAxisId:$.get("xAxisId",!0),yAxisId:$.get("yAxisId",!0)};if(Q.xAxisIndex==null&&Q.xAxisId==null)Q.xAxisIndex="all";if(Q.yAxisIndex==null&&Q.yAxisId==null)Q.yAxisIndex="all";return Q}function Mz1($,Q){$.setIconStatus("back",Hv0(Q)>1?"emphasis":"normal")}function bz1($,Q,J,K,Y){var q=J._isZoomActive;if(K&&K.type==="takeGlobalCursor")q=K.key==="dataZoomSelect"?K.dataZoomSelectActive:!1;J._isZoomActive=q,$.setIconStatus("zoom",q?"emphasis":"normal");var Z=new Sw(ua($),Q,{include:["grid"]}),X=Z.makePanelOpts(Y,function(W){return W.xAxisDeclared&&!W.yAxisDeclared?"lineX":!W.xAxisDeclared&&W.yAxisDeclared?"lineY":"rect"});J._brushController.setPanels(X).enableBrush(q&&X.length?{brushType:"auto",brushStyle:$.getModel("brushStyle").getItemStyle()}:!1)}Fw0("dataZoom",function($){var Q=$.getComponent("toolbox",0),J=["feature","dataZoom"];if(!Q||Q.get(J)==null)return;var K=Q.getModel(J),Y=[],q=ua(K),Z=kJ($,q);ca(Z.xAxisModels,function(W){return X(W,"xAxis","xAxisIndex")}),ca(Z.yAxisModels,function(W){return X(W,"yAxis","yAxisIndex")});function X(W,F,H){var B=W.componentIndex,z={type:"select",$fromToolbox:!0,filterMode:K.get("filterMode",!0)||"filter",id:_z1+F+B};z[H]=B,Y.push(z)}return Y});var Tv0=fz1;function ma($){$.registerComponentModel(eh0),$.registerComponentView($v0),K2("saveAsImage",Qv0),K2("magicType",Yv0),K2("dataView",qv0),K2("dataZoom",Tv0),K2("restore",Bv0),R1(ah0)}var gz1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="tooltip",Q.dependencies=["axisPointer"],Q.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:0.4,displayTransition:!0,enterable:!1,backgroundColor:a.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:a.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:a.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:a.color.tertiary,fontSize:14}},Q}(B1),Dv0=gz1;function yS($){var Q=$.get("confine");return Q!=null?!!Q:$.get("renderMode")==="richText"}function Cv0($){if(!L1.domSupported)return;var Q=document.documentElement.style;for(var J=0,K=$.length;J<K;J++)if($[J]in Q)return $[J]}var pa=Cv0(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Pv0=Cv0(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function da($,Q){if(!$)return Q;Q=hL(Q,!0);var J=$.indexOf(Q);return $=J===-1?Q:"-"+$.slice(0,J)+"-"+Q,$.toLowerCase()}function kv0($,Q){var J=$.currentStyle||document.defaultView&&document.defaultView.getComputedStyle($);return J?Q?J[Q]:J:null}var yz1=da(Pv0,"transition"),na=da(pa,"transform"),xz1="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(L1.transform3dSupported?"will-change:transform;":"");function cz1($){return $=$==="left"?"right":$==="right"?"left":$==="top"?"bottom":"top",$}function uz1($,Q,J){if(!B0(J)||J==="inside")return"";var K=$.get("backgroundColor"),Y=$.get("borderWidth");Q=YQ(Q);var q=cz1(J),Z=Math.max(Math.round(Y)*1.5,6),X="",W=na+":",F;if(o0(["left","right"],q)>-1)X+="top:50%",W+="translateY(-50%) rotate("+(F=q==="left"?-225:-45)+"deg)";else X+="left:50%",W+="translateX(-50%) rotate("+(F=q==="top"?225:45)+"deg)";var H=F*Math.PI/180,B=Z+Y,z=B*Math.abs(Math.cos(H))+B*Math.abs(Math.sin(H)),A=Math.round(((z-Math.SQRT2*Y)/2+Math.SQRT2*Y-(z-B)/2)*100)/100;X+=";"+q+":-"+A+"px";var R=Q+" solid "+Y+"px;",G=["position:absolute;width:"+Z+"px;height:"+Z+"px;z-index:-1;",X+";"+W+";","border-bottom:"+R,"border-right:"+R,"background-color:"+K+";"];return'<div style="'+G.join("")+'"></div>'}function mz1($,Q,J){var K="cubic-bezier(0.23,1,0.32,1)",Y="",q="";if(J)Y=" "+$/2+"s "+K,q="opacity"+Y+",visibility"+Y;if(!Q)Y=" "+$+"s "+K,q+=(q.length?",":"")+(L1.transformSupported?""+na+Y:",left"+Y+",top"+Y);return yz1+":"+q}function jv0($,Q,J){var K=$.toFixed(0)+"px",Y=Q.toFixed(0)+"px";if(!L1.transformSupported)return J?"top:"+Y+";left:"+K+";":[["top",Y],["left",K]];var q=L1.transform3dSupported,Z="translate"+(q?"3d":"")+"("+K+","+Y+(q?",0":"")+")";return J?"top:0;left:0;"+na+":"+Z+";":[["top",0],["left",0],[pa,Z]]}function pz1($){var Q=[],J=$.get("fontSize"),K=$.getTextColor();K&&Q.push("color:"+K),Q.push("font:"+$.getFont());var Y=f0($.get("lineHeight"),Math.round(J*3/2));J&&Q.push("line-height:"+Y+"px");var q=$.get("textShadowColor"),Z=$.get("textShadowBlur")||0,X=$.get("textShadowOffsetX")||0,W=$.get("textShadowOffsetY")||0;return q&&Z&&Q.push("text-shadow:"+X+"px "+W+"px "+Z+"px "+q),v(["decoration","align"],function(F){var H=$.get(F);H&&Q.push("text-"+F+":"+H)}),Q.join(";")}function dz1($,Q,J,K){var Y=[],q=$.get("transitionDuration"),Z=$.get("backgroundColor"),X=$.get("shadowBlur"),W=$.get("shadowColor"),F=$.get("shadowOffsetX"),H=$.get("shadowOffsetY"),B=$.getModel("textStyle"),z=Yh($,"html"),A=F+"px "+H+"px "+X+"px "+W;if(Y.push("box-shadow:"+A),Q&&q>0&&Y.push(mz1(q,J,K)),Z)Y.push("background-color:"+Z);if(v(["width","color","radius"],function(R){var G="border-"+R,w=hL(G),T=$.get(w);T!=null&&Y.push(G+":"+T+(R==="color"?"":"px"))}),Y.push(pz1(B)),z!=null)Y.push("padding:"+bJ(z).join("px ")+"px");return Y.join(";")+";"}function Ev0($,Q,J,K,Y){var q=Q&&Q.painter;if(J){var Z=q&&q.getViewportRoot();if(Z)NA0($,Z,J,K,Y)}else{$[0]=K,$[1]=Y;var X=q&&q.getViewportRootOffset();if(X)$[0]+=X.offsetLeft,$[1]+=X.offsetTop}$[2]=$[0]/Q.getWidth(),$[3]=$[1]/Q.getHeight()}var nz1=function(){function $(Q,J){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,L1.wxa)return null;var K=document.createElement("div");K.domBelongToZr=!0,this.el=K;var Y=this._zr=Q.getZr(),q=J.appendTo,Z=q&&(B0(q)?document.querySelector(q):OJ(q)?q:v0(q)&&q(Q.getDom()));Ev0(this._styleCoord,Y,Z,Q.getWidth()/2,Q.getHeight()/2),(Z||Q.getDom()).appendChild(K),this._api=Q,this._container=Z;var X=this;K.onmouseenter=function(){if(X._enterable)clearTimeout(X._hideTimeout),X._show=!0;X._inContent=!0},K.onmousemove=function(W){if(W=W||window.event,!X._enterable){var F=Y.handler,H=Y.painter.getViewportRoot();l4(H,W,!0),F.dispatch("mousemove",W)}},K.onmouseleave=function(){if(X._inContent=!1,X._enterable){if(X._show)X.hideLater(X._hideDelay)}}}return $.prototype.update=function(Q){if(!this._container){var J=this._api.getDom(),K=kv0(J,"position"),Y=J.style;if(Y.position!=="absolute"&&K!=="absolute")Y.position="relative"}var q=Q.get("alwaysShowContent");q&&this._moveIfResized(),this._alwaysShowContent=q,this._enableDisplayTransition=Q.get("displayTransition")&&Q.get("transitionDuration")>0,this.el.className=Q.get("className")||""},$.prototype.show=function(Q,J){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var K=this.el,Y=K.style,q=this._styleCoord;if(!K.innerHTML)Y.display="none";else Y.cssText=xz1+dz1(Q,!this._firstShow,this._longHide,this._enableDisplayTransition)+jv0(q[0],q[1],!0)+("border-color:"+YQ(J)+";")+(Q.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none"));this._show=!0,this._firstShow=!1,this._longHide=!1},$.prototype.setContent=function(Q,J,K,Y,q){var Z=this.el;if(Q==null){Z.innerHTML="";return}var X="";if(B0(q)&&K.get("trigger")==="item"&&!yS(K))X=uz1(K,Y,q);if(B0(Q))Z.innerHTML=Q+X;else if(Q){if(Z.innerHTML="",!J0(Q))Q=[Q];for(var W=0;W<Q.length;W++)if(OJ(Q[W])&&Q[W].parentNode!==Z)Z.appendChild(Q[W]);if(X&&Z.childNodes.length){var F=document.createElement("div");F.innerHTML=X,Z.appendChild(F)}}},$.prototype.setEnterable=function(Q){this._enterable=Q},$.prototype.getSize=function(){var Q=this.el;return Q?[Q.offsetWidth,Q.offsetHeight]:[0,0]},$.prototype.moveTo=function(Q,J){if(!this.el)return;var K=this._styleCoord;if(Ev0(K,this._zr,this._container,Q,J),K[0]!=null&&K[1]!=null){var Y=this.el.style,q=jv0(K[0],K[1]);v(q,function(Z){Y[Z[0]]=Z[1]})}},$.prototype._moveIfResized=function(){var Q=this._styleCoord[2],J=this._styleCoord[3];this.moveTo(Q*this._zr.getWidth(),J*this._zr.getHeight())},$.prototype.hide=function(){var Q=this,J=this.el.style;if(this._enableDisplayTransition)J.visibility="hidden",J.opacity="0";else J.display="none";L1.transform3dSupported&&(J.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return Q._longHide=!0},500)},$.prototype.hideLater=function(Q){if(this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent)if(Q)this._hideDelay=Q,this._show=!1,this._hideTimeout=setTimeout(O0(this.hide,this),Q);else this.hide()},$.prototype.isShow=function(){return this._show},$.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var Q=this._zr;BA0(Q&&Q.painter&&Q.painter.getViewportRoot(),this._container);var J=this.el;if(J){J.onmouseenter=J.onmousemove=J.onmouseleave=null;var K=J.parentNode;K&&K.removeChild(J)}this.el=this._container=null},$}(),Lv0=nz1;var lz1=function(){function $(Q){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=Q.getZr(),vv0(this._styleCoord,this._zr,Q.getWidth()/2,Q.getHeight()/2)}return $.prototype.update=function(Q){var J=Q.get("alwaysShowContent");J&&this._moveIfResized(),this._alwaysShowContent=J},$.prototype.show=function(){if(this._hideTimeout)clearTimeout(this._hideTimeout);this.el.show(),this._show=!0},$.prototype.setContent=function(Q,J,K,Y,q){var Z=this;if(I0(Q))J5("Passing DOM nodes as content is not supported in richText tooltip!");if(this.el)this._zr.remove(this.el);var X=K.getModel("textStyle");this.el=new w1({style:{rich:J.richTextStyles,text:Q,lineHeight:22,borderWidth:1,borderColor:Y,textShadowColor:X.get("textShadowColor"),fill:K.get(["textStyle","color"]),padding:Yh(K,"richText"),verticalAlign:"top",align:"left"},z:K.get("z")}),v(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(F){Z.el.style[F]=K.get(F)}),v(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(F){Z.el.style[F]=X.get(F)||0}),this._zr.add(this.el);var W=this;this.el.on("mouseover",function(){if(W._enterable)clearTimeout(W._hideTimeout),W._show=!0;W._inContent=!0}),this.el.on("mouseout",function(){if(W._enterable){if(W._show)W.hideLater(W._hideDelay)}W._inContent=!1})},$.prototype.setEnterable=function(Q){this._enterable=Q},$.prototype.getSize=function(){var Q=this.el,J=this.el.getBoundingRect(),K=hv0(Q.style);return[J.width+K.left+K.right,J.height+K.top+K.bottom]},$.prototype.moveTo=function(Q,J){var K=this.el;if(K){var Y=this._styleCoord;vv0(Y,this._zr,Q,J),Q=Y[0],J=Y[1];var q=K.style,Z=Y2(q.borderWidth||0),X=hv0(q);K.x=Q+Z+X.left,K.y=J+Z+X.top,K.markRedraw()}},$.prototype._moveIfResized=function(){var Q=this._styleCoord[2],J=this._styleCoord[3];this.moveTo(Q*this._zr.getWidth(),J*this._zr.getHeight())},$.prototype.hide=function(){if(this.el)this.el.hide();this._show=!1},$.prototype.hideLater=function(Q){if(this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent)if(Q)this._hideDelay=Q,this._show=!1,this._hideTimeout=setTimeout(O0(this.hide,this),Q);else this.hide()},$.prototype.isShow=function(){return this._show},$.prototype.dispose=function(){this._zr.remove(this.el)},$}();function Y2($){return Math.max(0,$)}function hv0($){var Q=Y2($.shadowBlur||0),J=Y2($.shadowOffsetX||0),K=Y2($.shadowOffsetY||0);return{left:Y2(Q-J),right:Y2(Q+J),top:Y2(Q-K),bottom:Y2(Q+K)}}function vv0($,Q,J,K){$[0]=J,$[1]=K,$[2]=$[0]/Q.getWidth(),$[3]=$[1]/Q.getHeight()}var Sv0=lz1;var rz1=new Q1({shape:{x:-1,y:-1,width:2,height:2}}),iz1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(J,K){if(L1.node||!K.getDom())return;var Y=J.getComponent("tooltip"),q=this._renderMode=xV0(Y.get("renderMode"));this._tooltipContent=q==="richText"?new Sv0(K):new Lv0(K,{appendTo:Y.get("appendToBody",!0)?"body":Y.get("appendTo",!0)})},Q.prototype.render=function(J,K,Y){if(L1.node||!Y.getDom())return;this.group.removeAll(),this._tooltipModel=J,this._ecModel=K,this._api=Y;var q=this._tooltipContent;if(q.update(J),q.setEnterable(J.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&J.get("transitionDuration"))Y$(this,"_updatePosition",50,"fixRate");else wY(this,"_updatePosition")},Q.prototype._initGlobalListener=function(){var J=this._tooltipModel,K=J.get("triggerOn");GS("itemTooltip",this._api,O0(function(Y,q,Z){if(K!=="none"){if(K.indexOf(Y)>=0)this._tryShow(q,Z);else if(Y==="leave")this._hide(Z)}},this))},Q.prototype._keepShow=function(){var J=this._tooltipModel,K=this._ecModel,Y=this._api,q=J.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&q!=="none"&&q!=="click"){var Z=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!Y.isDisposed()&&Z.manuallyShowTip(J,K,Y,{x:Z._lastX,y:Z._lastY,dataByCoordSys:Z._lastDataByCoordSys})})}},Q.prototype.manuallyShowTip=function(J,K,Y,q){if(q.from===this.uid||L1.node||!Y.getDom())return;var Z=_v0(q,Y);this._ticket="";var X=q.dataByCoordSys,W=tz1(q,K,Y);if(W){var F=W.el.getBoundingRect().clone();F.applyTransform(W.el.transform),this._tryShow({offsetX:F.x+F.width/2,offsetY:F.y+F.height/2,target:W.el,position:q.position,positionDefault:"bottom"},Z)}else if(q.tooltip&&q.x!=null&&q.y!=null){var H=rz1;H.x=q.x,H.y=q.y,H.update(),m0(H).tooltipConfig={name:null,option:q.tooltip},this._tryShow({offsetX:q.x,offsetY:q.y,target:H},Z)}else if(X)this._tryShow({offsetX:q.x,offsetY:q.y,position:q.position,dataByCoordSys:X,tooltipOption:q.tooltipOption},Z);else if(q.seriesIndex!=null){if(this._manuallyAxisShowTip(J,K,Y,q))return;var B=Ew(q,K),z=B.point[0],A=B.point[1];if(z!=null&&A!=null)this._tryShow({offsetX:z,offsetY:A,target:B.el,position:q.position,positionDefault:"bottom"},Z)}else if(q.x!=null&&q.y!=null)Y.dispatchAction({type:"updateAxisPointer",x:q.x,y:q.y}),this._tryShow({offsetX:q.x,offsetY:q.y,position:q.position,target:Y.getZr().findHover(q.x,q.y).target},Z)},Q.prototype.manuallyHideTip=function(J,K,Y,q){var Z=this._tooltipContent;if(this._tooltipModel)Z.hideLater(this._tooltipModel.get("hideDelay"));if(this._lastX=this._lastY=this._lastDataByCoordSys=null,q.from!==this.uid)this._hide(_v0(q,Y))},Q.prototype._manuallyAxisShowTip=function(J,K,Y,q){var{seriesIndex:Z,dataIndex:X}=q,W=K.getComponent("axisPointer").coordSysAxesInfo;if(Z==null||X==null||W==null)return;var F=K.getSeriesByIndex(Z);if(!F)return;var H=F.getData(),B=_w([H.getItemModel(X),F,(F.coordinateSystem||{}).model],this._tooltipModel);if(B.get("trigger")!=="axis")return;return Y.dispatchAction({type:"updateAxisPointer",seriesIndex:Z,dataIndex:X,position:q.position}),!0},Q.prototype._tryShow=function(J,K){var Y=J.target,q=this._tooltipModel;if(!q)return;this._lastX=J.offsetX,this._lastY=J.offsetY;var Z=J.dataByCoordSys;if(Z&&Z.length)this._showAxisTooltip(Z,J);else if(Y){var X=m0(Y);if(X.ssrType==="legend")return;this._lastDataByCoordSys=null;var W,F;if(WQ(Y,function(H){if(H.tooltipDisabled)return W=F=null,!0;if(W||F)return;if(m0(H).dataIndex!=null)W=H;else if(m0(H).tooltipConfig!=null)F=H},!0),W)this._showSeriesItemTooltip(J,W,K);else if(F)this._showComponentItemTooltip(J,F,K);else this._hide(K)}else this._lastDataByCoordSys=null,this._hide(K)},Q.prototype._showOrMove=function(J,K){var Y=J.get("showDelay");K=O0(K,this),clearTimeout(this._showTimout),Y>0?this._showTimout=setTimeout(K,Y):K()},Q.prototype._showAxisTooltip=function(J,K){var Y=this._ecModel,q=this._tooltipModel,Z=[K.offsetX,K.offsetY],X=_w([K.tooltipOption],q),W=this._renderMode,F=[],H=x5("section",{blocks:[],noHeader:!0}),B=[],z=new qh;v(J,function(D){v(D.dataByAxis,function(P){var j=Y.getComponent(P.axisDim+"Axis",P.axisIndex),E=P.value;if(!j||E==null)return;var L=Ja(E,j.axis,Y,P.seriesDataIndices,P.valueLabelOpt),h=x5("section",{header:L,noHeader:!O7(L),sortBlocks:!0,blocks:[]});H.blocks.push(h),v(P.seriesDataIndices,function(_){var S=Y.getSeriesByIndex(_.seriesIndex),I=_.dataIndexInside,M=S.getDataParams(I);if(M.dataIndex<0)return;M.axisDim=P.axisDim,M.axisIndex=P.axisIndex,M.axisType=P.axisType,M.axisId=P.axisId,M.axisValue=lN(j.axis,{value:E}),M.axisValueLabel=L,M.marker=z.makeTooltipMarker("item",YQ(M.color),W);var y=Kl(S.formatTooltip(I,!0,null)),b=y.frag;if(b){var u=_w([S],q).get("valueFormatter");h.blocks.push(u?Q0({valueFormatter:u},b):b)}if(y.text)B.push(y.text);F.push(M)})})}),H.blocks.reverse(),B.reverse();var A=K.position,R=X.get("order"),G=Ul(H,z,W,R,Y.get("useUTC"),X.get("textStyle"));G&&B.unshift(G);var w=W==="richText"?`

`:"<br/>",T=B.join(w);this._showOrMove(X,function(){if(this._updateContentNotChangedOnAxis(J,F))this._updatePosition(X,A,Z[0],Z[1],this._tooltipContent,F);else this._showTooltipContent(X,T,F,Math.random()+"",Z[0],Z[1],A,null,z)})},Q.prototype._showSeriesItemTooltip=function(J,K,Y){var q=this._ecModel,Z=m0(K),X=Z.seriesIndex,W=q.getSeriesByIndex(X),F=Z.dataModel||W,H=Z.dataIndex,B=Z.dataType,z=F.getData(B),A=this._renderMode,R=J.positionDefault,G=_w([z.getItemModel(H),F,W&&(W.coordinateSystem||{}).model],this._tooltipModel,R?{position:R}:null),w=G.get("trigger");if(w!=null&&w!=="item")return;var T=F.getDataParams(H,B),D=new qh;T.marker=D.makeTooltipMarker("item",YQ(T.color),A);var P=Kl(F.formatTooltip(H,!1,B)),j=G.get("order"),E=G.get("valueFormatter"),L=P.frag,h=L?Ul(E?Q0({valueFormatter:E},L):L,D,A,j,q.get("useUTC"),G.get("textStyle")):P.text,_="item_"+F.name+"_"+H;this._showOrMove(G,function(){this._showTooltipContent(G,h,T,_,J.offsetX,J.offsetY,J.position,J.target,D)}),Y({type:"showTip",dataIndexInside:H,dataIndex:z.getRawIndex(H),seriesIndex:X,from:this.uid})},Q.prototype._showComponentItemTooltip=function(J,K,Y){var q=this._renderMode==="html",Z=m0(K),X=Z.tooltipConfig,W=X.option||{},F=W.encodeHTMLContent;if(B0(W)){var H=W;W={content:H,formatter:H},F=!0}if(F&&q&&W.content)W=y0(W),W.content=S7(W.content);var B=[W],z=this._ecModel.getComponent(Z.componentMainType,Z.componentIndex);if(z)B.push(z);B.push({formatter:W.content});var A=J.positionDefault,R=_w(B,this._tooltipModel,A?{position:A}:null),G=R.get("content"),w=Math.random()+"",T=new qh;this._showOrMove(R,function(){var D=y0(R.get("formatterParams")||{});this._showTooltipContent(R,G,D,w,J.offsetX,J.offsetY,J.position,K,T)}),Y({type:"showTip",from:this.uid})},Q.prototype._showTooltipContent=function(J,K,Y,q,Z,X,W,F,H){if(this._ticket="",!J.get("showContent")||!J.get("show"))return;var B=this._tooltipContent;B.setEnterable(J.get("enterable"));var z=J.get("formatter");W=W||J.get("position");var A=K,R=this._getNearestPoint([Z,X],Y,J.get("trigger"),J.get("borderColor"),J.get("defaultBorderColor",!0)),G=R.color;if(z)if(B0(z)){var w=J.ecModel.get("useUTC"),T=J0(Y)?Y[0]:Y,D=T&&T.axisType&&T.axisType.indexOf("time")>=0;if(A=z,D)A=gW(T.axisValue,A,w);A=SL(A,Y,!0)}else if(v0(z)){var P=O0(function(j,E){if(j===this._ticket)B.setContent(E,H,J,G,W),this._updatePosition(J,W,Z,X,B,Y,F)},this);this._ticket=q,A=z(Y,q,P)}else A=z;B.setContent(A,H,J,G,W),B.show(J,G),this._updatePosition(J,W,Z,X,B,Y,F)},Q.prototype._getNearestPoint=function(J,K,Y,q,Z){if(Y==="axis"||J0(K))return{color:q||Z};if(!J0(K))return{color:q||K.color||K.borderColor}},Q.prototype._updatePosition=function(J,K,Y,q,Z,X,W){var F=this._api.getWidth(),H=this._api.getHeight();K=K||J.get("position");var B=Z.getSize(),z=J.get("align"),A=J.get("verticalAlign"),R=W&&W.getBoundingRect().clone();if(W&&R.applyTransform(W.transform),v0(K))K=K([Y,q],X,Z.el,R,{viewSize:[F,H],contentSize:B.slice()});if(J0(K))Y=h0(K[0],F),q=h0(K[1],H);else if(I0(K)){var G=K;G.width=B[0],G.height=B[1];var w=e1(G,{width:F,height:H});Y=w.x,q=w.y,z=null,A=null}else if(B0(K)&&W){var T=az1(K,R,B,J.get("borderWidth"));Y=T[0],q=T[1]}else{var T=sz1(Y,q,Z,F,H,z?null:20,A?null:20);Y=T[0],q=T[1]}if(z&&(Y-=fv0(z)?B[0]/2:z==="right"?B[0]:0),A&&(q-=fv0(A)?B[1]/2:A==="bottom"?B[1]:0),yS(J)){var T=oz1(Y,q,Z,F,H);Y=T[0],q=T[1]}Z.moveTo(Y,q)},Q.prototype._updateContentNotChangedOnAxis=function(J,K){var Y=this._lastDataByCoordSys,q=this._cbParamsList,Z=!!Y&&Y.length===J.length;return Z&&v(Y,function(X,W){var F=X.dataByAxis||[],H=J[W]||{},B=H.dataByAxis||[];Z=Z&&F.length===B.length,Z&&v(F,function(z,A){var R=B[A]||{},G=z.seriesDataIndices||[],w=R.seriesDataIndices||[];Z=Z&&z.value===R.value&&z.axisType===R.axisType&&z.axisId===R.axisId&&G.length===w.length,Z&&v(G,function(T,D){var P=w[D];Z=Z&&T.seriesIndex===P.seriesIndex&&T.dataIndex===P.dataIndex}),q&&v(z.seriesDataIndices,function(T){var D=T.seriesIndex,P=K[D],j=q[D];if(P&&j&&j.data!==P.data)Z=!1})})}),this._lastDataByCoordSys=J,this._cbParamsList=K,!!Z},Q.prototype._hide=function(J){this._lastDataByCoordSys=null,J({type:"hideTip",from:this.uid})},Q.prototype.dispose=function(J,K){if(L1.node||!K.getDom())return;wY(this,"_updatePosition"),this._tooltipContent.dispose(),jw("itemTooltip",K)},Q.type="tooltip",Q}(p1);function _w($,Q,J){var K=Q.ecModel,Y;if(J)Y=new D1(J,K,K),Y=new D1(Q.option,Y,K);else Y=Q;for(var q=$.length-1;q>=0;q--){var Z=$[q];if(Z){if(Z instanceof D1)Z=Z.get("tooltip",!0);if(B0(Z))Z={formatter:Z};if(Z)Y=new D1(Z,Y,K)}}return Y}function _v0($,Q){return $.dispatchAction||O0(Q.dispatchAction,Q)}function sz1($,Q,J,K,Y,q,Z){var X=J.getSize(),W=X[0],F=X[1];if(q!=null)if($+W+q+2>K)$-=W+q;else $+=q;if(Z!=null)if(Q+F+Z>Y)Q-=F+Z;else Q+=Z;return[$,Q]}function oz1($,Q,J,K,Y){var q=J.getSize(),Z=q[0],X=q[1];return $=Math.min($+Z,K)-Z,Q=Math.min(Q+X,Y)-X,$=Math.max($,0),Q=Math.max(Q,0),[$,Q]}function az1($,Q,J,K){var Y=J[0],q=J[1],Z=Math.ceil(Math.SQRT2*K)+8,X=0,W=0,F=Q.width,H=Q.height;switch($){case"inside":X=Q.x+F/2-Y/2,W=Q.y+H/2-q/2;break;case"top":X=Q.x+F/2-Y/2,W=Q.y-q-Z;break;case"bottom":X=Q.x+F/2-Y/2,W=Q.y+H+Z;break;case"left":X=Q.x-Y-Z,W=Q.y+H/2-q/2;break;case"right":X=Q.x+F+Z,W=Q.y+H/2-q/2}return[X,W]}function fv0($){return $==="center"||$==="middle"}function tz1($,Q,J){var K=lR($).queryOptionMap,Y=K.keys()[0];if(!Y||Y==="series")return;var q=jJ(Q,Y,K.get(Y),{useDefault:!1,enableAll:!1,enableNone:!1}),Z=q.models[0];if(!Z)return;var X=J.getViewOfComponentModel(Z),W;if(X.group.traverse(function(F){var H=m0(F).tooltipConfig;if(H&&H.name===$.name)return W=F,!0}),W)return{componentMainType:Y,componentIndex:Z.componentIndex,el:W}}var Iv0=iz1;function la($){R1(GQ),$.registerComponentModel(Dv0),$.registerComponentView(Iv0),$.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},m5),$.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},m5)}var ez1=["rect","polygon","keep","clear"];function ra($,Q){var J=K5($?$.brush:[]);if(!J.length)return;var K=[];v(J,function(W){var F=W.hasOwnProperty("toolbox")?W.toolbox:[];if(F instanceof Array)K=K.concat(F)});var Y=$&&$.toolbox;if(J0(Y))Y=Y[0];if(!Y)Y={feature:{}},$.toolbox=[Y];var q=Y.feature||(Y.feature={}),Z=q.brush||(q.brush={}),X=Z.type||(Z.type=[]);if(X.push.apply(X,K),$A1(X),Q&&!X.length)X.push.apply(X,ez1)}function $A1($){var Q={};v($,function(J){Q[J]=1}),$.length=0,v(Q,function(J,K){$.push(K)})}var Mv0=v;function bv0($){if($){for(var Q in $)if($.hasOwnProperty(Q))return!0}}function fw($,Q,J){var K={};return Mv0(Q,function(q){var Z=K[q]=Y();Mv0($[q],function(X,W){if(!d6.isValidType(W))return;var F={type:W,visual:X};if(J&&J(F,q),Z[W]=new d6(F),W==="opacity")F=y0(F),F.type="colorAlpha",Z.__hidden.__alphaForOpacity=new d6(F)})}),K;function Y(){var q=function(){};q.prototype.__hidden=q.prototype;var Z=new q;return Z}}function xS($,Q,J){var K;v(J,function(Y){if(Q.hasOwnProperty(Y)&&bv0(Q[Y]))K=!0}),K&&v(J,function(Y){if(Q.hasOwnProperty(Y)&&bv0(Q[Y]))$[Y]=y0(Q[Y]);else delete $[Y]})}function gv0($,Q,J,K,Y,q){var Z={};v($,function(B){var z=d6.prepareVisualTypes(Q[B]);Z[B]=z});var X;function W(B){return LG(J,X,B)}function F(B,z){Rl(J,X,B,z)}if(q==null)J.each(H);else J.each([q],H);function H(B,z){X=q==null?B:z;var A=J.getRawDataItem(X);if(A&&A.visualMap===!1)return;var R=K.call(Y,B),G=Q[R],w=Z[R];for(var T=0,D=w.length;T<D;T++){var P=w[T];G[P]&&G[P].applyVisual(B,W,F)}}}function yv0($,Q,J,K){var Y={};return v($,function(q){var Z=d6.prepareVisualTypes(Q[q]);Y[q]=Z}),{progress:function(Z,X){var W;if(K!=null)W=X.getDimensionIndex(K);function F(E){return LG(X,B,E)}function H(E,L){Rl(X,B,E,L)}var B,z=X.getStore();while((B=Z.next())!=null){var A=X.getRawDataItem(B);if(A&&A.visualMap===!1)continue;var R=K!=null?z.get(W,B):B,G=J(R),w=Q[G],T=Y[G];for(var D=0,P=T.length;D<P;D++){var j=T[D];w[j]&&w[j].applyVisual(R,F,H)}}}}}function uv0($){var Q=$.brushType,J={point:function(K){return xv0[Q].point(K,J,$)},rect:function(K){return xv0[Q].rect(K,J,$)}};return J}var xv0={lineX:cv0(0),lineY:cv0(1),rect:{point:function($,Q,J){return $&&J.boundingRect.contain($[0],$[1])},rect:function($,Q,J){return $&&J.boundingRect.intersect($)}},polygon:{point:function($,Q,J){return $&&J.boundingRect.contain($[0],$[1])&&DY(J.range,$[0],$[1])},rect:function($,Q,J){var K=J.range;if(!$||K.length<=1)return!1;var{x:Y,y:q,width:Z,height:X}=$,W=K[0];if(DY(K,Y,q)||DY(K,Y+Z,q)||DY(K,Y,q+X)||DY(K,Y+Z,q+X)||u0.create($).contain(W[0],W[1])||kN(Y,q,Y+Z,q,K)||kN(Y,q,Y,q+X,K)||kN(Y+Z,q,Y+Z,q+X,K)||kN(Y,q+X,Y+Z,q+X,K))return!0}}};function cv0($){var Q=["x","y"],J=["width","height"];return{point:function(K,Y,q){if(K){var Z=q.range,X=K[$];return Iw(X,Z)}},rect:function(K,Y,q){if(K){var Z=q.range,X=[K[Q[$]],K[Q[$]]+K[J[$]]];return X[1]<X[0]&&X.reverse(),Iw(X[0],Z)||Iw(X[1],Z)||Iw(Z[0],X)||Iw(Z[1],X)}}}}function Iw($,Q){return Q[0]<=$&&$<=Q[1]}var mv0=["inBrush","outOfBrush"],ia="__ecBrushSelect",sa="__ecInBrushSelectEvent";function oa($){$.eachComponent({mainType:"brush"},function(Q){var J=Q.brushTargetManager=new Sw(Q.option,$);J.setInputRanges(Q.areas,$)})}function aa($,Q,J){var K=[],Y,q;$.eachComponent({mainType:"brush"},function(Z){J&&J.type==="takeGlobalCursor"&&Z.setBrushOption(J.key==="brush"?J.brushOption:{brushType:!1})}),oa($),$.eachComponent({mainType:"brush"},function(Z,X){var W={brushId:Z.id,brushIndex:X,brushName:Z.name,areas:y0(Z.areas),selected:[]};K.push(W);var F=Z.option,H=F.brushLink,B=[],z=[],A=[],R=!1;if(!X)Y=F.throttleType,q=F.throttleDelay;var G=K0(Z.areas,function(E){var L=YA1[E.brushType],h=b0({boundingRect:L?L(E):void 0},E);return h.selectors=uv0(h),h}),w=fw(Z.option,mv0,function(E){E.mappingMethod="fixed"});J0(H)&&v(H,function(E){B[E]=1});function T(E){return H==="all"||!!B[E]}function D(E){return!!E.length}$.eachSeries(function(E,L){var h=A[L]=[];E.subType==="parallel"?P(E,L):j(E,L,h)});function P(E,L){var h=E.coordinateSystem;R=R||h.hasAxisBrushed(),T(L)&&h.eachActiveState(E.getData(),function(_,S){_==="active"&&(z[S]=1)})}function j(E,L,h){if(!E.brushSelector||KA1(Z,L))return;if(v(G,function(S){if(Z.brushTargetManager.controlSeries(S,E,$))h.push(S);R=R||D(h)}),T(L)&&D(h)){var _=E.getData();_.each(function(S){if(pv0(E,h,_,S))z[S]=1})}}$.eachSeries(function(E,L){var h={seriesId:E.id,seriesIndex:L,seriesName:E.name,dataIndex:[]};W.selected.push(h);var _=A[L],S=E.getData(),I=T(L)?function(M){return z[M]?(h.dataIndex.push(S.getRawIndex(M)),"inBrush"):"outOfBrush"}:function(M){return pv0(E,_,S,M)?(h.dataIndex.push(S.getRawIndex(M)),"inBrush"):"outOfBrush"};(T(L)?R:D(_))&&gv0(mv0,w,S,I)})}),QA1(Q,Y,q,K,J)}function QA1($,Q,J,K,Y){if(!Y)return;var q=$.getZr();if(q[sa])return;if(!q[ia])q[ia]=JA1;var Z=Y$(q,ia,J,Q);Z($,K)}function JA1($,Q){if(!$.isDisposed()){var J=$.getZr();J[sa]=!0,$.dispatchAction({type:"brushSelect",batch:Q}),J[sa]=!1}}function pv0($,Q,J,K){for(var Y=0,q=Q.length;Y<q;Y++){var Z=Q[Y];if($.brushSelector(K,J,Z.selectors,Z))return!0}}function KA1($,Q){var J=$.option.seriesIndex;return J!=null&&J!=="all"&&(J0(J)?o0(J,Q)<0:Q!==J)}var YA1={rect:function($){return dv0($.range)},polygon:function($){var Q,J=$.range;for(var K=0,Y=J.length;K<Y;K++){Q=Q||[[1/0,-1/0],[1/0,-1/0]];var q=J[K];q[0]<Q[0][0]&&(Q[0][0]=q[0]),q[0]>Q[0][1]&&(Q[0][1]=q[0]),q[1]<Q[1][0]&&(Q[1][0]=q[1]),q[1]>Q[1][1]&&(Q[1][1]=q[1])}return Q&&dv0(Q)}};function dv0($){return new u0($[0][0],$[1][0],$[0][1]-$[0][0],$[1][1]-$[1][0])}var qA1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(J,K){this.ecModel=J,this.api=K,this.model,(this._brushController=new AB(K.getZr())).on("brush",O0(this._onBrush,this)).mount()},Q.prototype.render=function(J,K,Y,q){this.model=J,this._updateController(J,K,Y,q)},Q.prototype.updateTransform=function(J,K,Y,q){oa(K),this._updateController(J,K,Y,q)},Q.prototype.updateVisual=function(J,K,Y,q){this.updateTransform(J,K,Y,q)},Q.prototype.updateView=function(J,K,Y,q){this._updateController(J,K,Y,q)},Q.prototype._updateController=function(J,K,Y,q){(!q||q.$from!==J.id)&&this._brushController.setPanels(J.brushTargetManager.makePanelOpts(Y)).enableBrush(J.brushOption).updateCovers(J.areas.slice())},Q.prototype.dispose=function(){this._brushController.dispose()},Q.prototype._onBrush=function(J){var K=this.model.id,Y=this.model.brushTargetManager.setOutputRanges(J.areas,this.ecModel);(!J.isEnd||J.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:K,areas:y0(Y),$from:K}),J.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:K,areas:y0(Y),$from:K})},Q.type="brush",Q}(p1),nv0=qA1;var ZA1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.areas=[],J.brushOption={},J}return Q.prototype.optionUpdated=function(J,K){var Y=this.option;!K&&xS(Y,J,["inBrush","outOfBrush"]);var q=Y.inBrush=Y.inBrush||{};if(Y.outOfBrush=Y.outOfBrush||{color:this.option.defaultOutOfBrushColor},!q.hasOwnProperty("liftZ"))q.liftZ=5},Q.prototype.setAreas=function(J){if(S0(J0(J)),v(J,function(K){S0(K.brushType,"Illegal areas")}),!J)return;this.areas=K0(J,function(K){return lv0(this.option,K)},this)},Q.prototype.setBrushOption=function(J){this.brushOption=lv0(this.option,J),this.brushType=this.brushOption.brushType},Q.type="brush",Q.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],Q.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:a.color.backgroundTint,borderColor:a.color.borderTint},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4,defaultOutOfBrushColor:a.color.disabled},Q}(B1);function lv0($,Q){return K1({brushType:$.brushType,brushMode:$.brushMode,transformable:$.transformable,brushStyle:new D1($.brushStyle).getItemStyle(),removeOnClick:$.removeOnClick,z:$.z},Q,!0)}var rv0=ZA1;var XA1=["rect","polygon","lineX","lineY","keep","clear"],WA1=function($){x(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.render=function(J,K,Y){var q,Z,X;K.eachComponent({mainType:"brush"},function(W){q=W.brushType,Z=W.brushOption.brushMode||"single",X=X||!!W.areas.length}),this._brushType=q,this._brushMode=Z,v(J.get("type",!0),function(W){J.setIconStatus(W,(W==="keep"?Z==="multiple":W==="clear"?X:W===q)?"emphasis":"normal")})},Q.prototype.updateView=function(J,K,Y){this.render(J,K,Y)},Q.prototype.getIcons=function(){var J=this.model,K=J.get("icon",!0),Y={};return v(J.get("type",!0),function(q){if(K[q])Y[q]=K[q]}),Y},Q.prototype.onclick=function(J,K,Y){var q=this._brushType,Z=this._brushMode;if(Y==="clear")K.dispatchAction({type:"axisAreaSelect",intervals:[]}),K.dispatchAction({type:"brush",command:"clear",areas:[]});else K.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:Y==="keep"?q:q===Y?!1:Y,brushMode:Y==="keep"?Z==="multiple"?"single":"multiple":Z}})},Q.getDefaultOption=function(J){var K={show:!0,type:XA1.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:J.getLocaleModel().get(["toolbox","brush","title"])};return K},Q}(i7),iv0=WA1;function ta($){$.registerComponentView(nv0),$.registerComponentModel(rv0),$.registerPreprocessor(ra),$.registerVisual($.PRIORITY.VISUAL.BRUSH,aa),$.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(Q,J){J.eachComponent({mainType:"brush",query:Q},function(K){K.setAreas(Q.areas)})}),$.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},m5),$.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},m5),K2("brush",iv0)}var FA1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.layoutMode={type:"box",ignoreSize:!0},J}return Q.type="title",Q.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:"center",top:a.size.m,backgroundColor:a.color.transparent,borderColor:a.color.primary,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:a.color.primary},subtextStyle:{fontSize:12,color:a.color.quaternary}},Q}(B1),UA1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){if(this.group.removeAll(),!J.get("show"))return;var q=this.group,Z=J.getModel("textStyle"),X=J.getModel("subtextStyle"),W=J.get("textAlign"),F=f0(J.get("textBaseline"),J.get("textVerticalAlign")),H=new w1({style:Z5(Z,{text:J.get("text"),fill:Z.getTextColor()},{disableBox:!0}),z2:10}),B=H.getBoundingRect(),z=J.get("subtext"),A=new w1({style:Z5(X,{text:z,fill:X.getTextColor(),y:B.height+J.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),R=J.get("link"),G=J.get("sublink"),w=J.get("triggerEvent",!0);if(H.silent=!R&&!w,A.silent=!G&&!w,R)H.on("click",function(){xW(R,"_"+J.get("target"))});if(G)A.on("click",function(){xW(G,"_"+J.get("subtarget"))});m0(H).eventData=m0(A).eventData=w?{componentType:"title",componentIndex:J.componentIndex}:null,q.add(H),z&&q.add(A);var T=q.getBoundingRect(),D=J.getBoxLayoutParams();D.width=T.width,D.height=T.height;var P=D5(J,Y),j=e1(D,P.refContainer,J.get("padding"));if(!W){if(W=J.get("left")||J.get("right"),W==="middle")W="center";if(W==="right")j.x+=j.width;else if(W==="center")j.x+=j.width/2}if(!F){if(F=J.get("top")||J.get("bottom"),F==="center")F="middle";if(F==="bottom")j.y+=j.height;else if(F==="middle")j.y+=j.height/2;F=F||"top"}q.x=j.x,q.y=j.y,q.markRedraw();var E={align:W,verticalAlign:F};H.setStyle(E),A.setStyle(E),T=q.getBoundingRect();var L=j.margin,h=J.getItemStyle(["color","opacity"]);h.fill=J.get("backgroundColor");var _=new Q1({shape:{x:T.x-L[3],y:T.y-L[0],width:T.width+L[1]+L[3],height:T.height+L[0]+L[2],r:J.get("borderRadius")},style:h,subPixelOptimize:!0,silent:!0});q.add(_)},Q.type="title",Q}(p1);function ea($){$.registerComponentModel(FA1),$.registerComponentView(UA1)}var HA1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.layoutMode="box",J}return Q.prototype.init=function(J,K,Y){this.mergeDefaultAndTheme(J,Y),this._initData()},Q.prototype.mergeOption=function(J){$.prototype.mergeOption.apply(this,arguments),this._initData()},Q.prototype.setCurrentIndex=function(J){if(J==null)J=this.option.currentIndex;var K=this._data.count();if(this.option.loop)J=(J%K+K)%K;else J>=K&&(J=K-1),J<0&&(J=0);this.option.currentIndex=J},Q.prototype.getCurrentIndex=function(){return this.option.currentIndex},Q.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},Q.prototype.setPlayState=function(J){this.option.autoPlay=!!J},Q.prototype.getPlayState=function(){return!!this.option.autoPlay},Q.prototype._initData=function(){var J=this.option,K=J.data||[],Y=J.axisType,q=this._names=[],Z;if(Y==="category")Z=[],v(K,function(F,H){var B=q6(a$(F),""),z;if(I0(F))z=y0(F),z.value=H;else z=H;Z.push(z),q.push(B)});else Z=K;var X={category:"ordinal",time:"time",value:"number"}[Y]||"number",W=this._data=new S6([{name:"value",type:X}],this);W.initData(Z,q)},Q.prototype.getData=function(){return this._data},Q.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},Q.type="timeline",Q.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:a.size.m,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2000,currentIndex:0,itemStyle:{},label:{color:a.color.secondary},data:[]},Q}(B1),$t=HA1;var sv0=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="timeline.slider",Q.defaultOption=i8($t.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:a.color.border,borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:a.color.accent10},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:a.color.tertiary},itemStyle:{color:a.color.accent20,borderWidth:0},checkpointStyle:{symbol:"circle",symbolSize:15,color:a.color.accent50,borderColor:a.color.accent50,borderWidth:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10.6699C11.5 9.90014 12.3333 9.41887 13 9.80371L20.5 14.1338C21.1667 14.5187 21.1667 15.4813 20.5 15.8662L13 20.1963C12.3333 20.5811 11.5 20.0999 11.5 19.3301V10.6699Z",stopIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10C12.3284 10 13 10.6716 13 11.5V18.5C13 19.3284 12.3284 20 11.5 20C10.6716 20 10 19.3284 10 18.5V11.5C10 10.6716 10.6716 10 11.5 10ZM18.5 10C19.3284 10 20 10.6716 20 11.5V18.5C20 19.3284 19.3284 20 18.5 20C17.6716 20 17 19.3284 17 18.5V11.5C17 10.6716 17.6716 10 18.5 10Z",nextIcon:"path://M0.838834 18.7383C0.253048 18.1525 0.253048 17.2028 0.838834 16.617L7.55635 9.89949L0.838834 3.18198C0.253048 2.59619 0.253048 1.64645 0.838834 1.06066C1.42462 0.474874 2.37437 0.474874 2.96015 1.06066L10.7383 8.83883L10.8412 8.95277C11.2897 9.50267 11.2897 10.2963 10.8412 10.8462L10.7383 10.9602L2.96015 18.7383C2.37437 19.3241 1.42462 19.3241 0.838834 18.7383Z",prevIcon:"path://M10.9602 1.06066C11.5459 1.64645 11.5459 2.59619 10.9602 3.18198L4.24264 9.89949L10.9602 16.617C11.5459 17.2028 11.5459 18.1525 10.9602 18.7383C10.3744 19.3241 9.42462 19.3241 8.83883 18.7383L1.06066 10.9602L0.957771 10.8462C0.509245 10.2963 0.509245 9.50267 0.957771 8.95277L1.06066 8.83883L8.83883 1.06066C9.42462 0.474874 10.3744 0.474874 10.9602 1.06066Z",prevBtnSize:18,nextBtnSize:18,color:a.color.accent50,borderColor:a.color.accent50,borderWidth:0},emphasis:{label:{show:!0,color:a.color.accent60},itemStyle:{color:a.color.accent60,borderColor:a.color.accent60},controlStyle:{color:a.color.accent70,borderColor:a.color.accent70}},progress:{lineStyle:{color:a.color.accent30},itemStyle:{color:a.color.accent40}},data:[]}),Q}($t);_5(sv0,lW.prototype);var ov0=sv0;var NA1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="timeline",Q}(p1),av0=NA1;var BA1=function($){x(Q,$);function Q(J,K,Y,q){var Z=$.call(this,J,K,Y)||this;return Z.type=q||"value",Z}return Q.prototype.getLabelModel=function(){return this.model.getModel("label")},Q.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},Q}(W8),tv0=BA1;var Qt=Math.PI,ev0=n0(),zA1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(J,K){this.api=K},Q.prototype.render=function(J,K,Y){if(this.model=J,this.api=Y,this.ecModel=K,this.group.removeAll(),J.get("show",!0)){var q=this._layout(J,Y),Z=this._createGroup("_mainGroup"),X=this._createGroup("_labelGroup"),W=this._axis=this._createAxis(q,J);J.formatTooltip=function(F){var H=W.scale.getLabel({value:F});return x5("nameValue",{noName:!0,value:H})},v(["AxisLine","AxisTick","Control","CurrentPointer"],function(F){this["_render"+F](q,Z,W,J)},this),this._renderAxisLabel(q,X,W,J),this._position(q,J)}this._doPlayStop(),this._updateTicksStatus()},Q.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},Q.prototype.dispose=function(){this._clearTimer()},Q.prototype._layout=function(J,K){var Y=J.get(["label","position"]),q=J.get("orient"),Z=VA1(J,K),X;if(Y==null||Y==="auto")X=q==="horizontal"?Z.y+Z.height/2<K.getHeight()/2?"-":"+":Z.x+Z.width/2<K.getWidth()/2?"+":"-";else if(B0(Y))X={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[q][Y];else X=Y;var W={horizontal:"center",vertical:X>=0||X==="+"?"left":"right"},F={horizontal:X>=0||X==="+"?"top":"bottom",vertical:"middle"},H={horizontal:0,vertical:Qt/2},B=q==="vertical"?Z.height:Z.width,z=J.getModel("controlStyle"),A=z.get("show",!0),R=A?z.get("itemSize"):0,G=A?z.get("itemGap"):0,w=R+G,T=J.get(["label","rotate"])||0;T=T*Qt/180;var D,P,j,E=z.get("position",!0),L=A&&z.get("showPlayBtn",!0),h=A&&z.get("showPrevBtn",!0),_=A&&z.get("showNextBtn",!0),S=0,I=B;if(E==="left"||E==="bottom")L&&(D=[0,0],S+=w),h&&(P=[S,0],S+=w),_&&(j=[I-R,0],I-=w);else L&&(D=[I-R,0],I-=w),h&&(P=[0,0],S+=w),_&&(j=[I-R,0],I-=w);var M=[S,I];if(J.get("inverse"))M.reverse();return{viewRect:Z,mainLength:B,orient:q,rotation:H[q],labelRotation:T,labelPosOpt:X,labelAlign:J.get(["label","align"])||W[q],labelBaseline:J.get(["label","verticalAlign"])||J.get(["label","baseline"])||F[q],playPosition:D,prevBtnPosition:P,nextBtnPosition:j,axisExtent:M,controlSize:R,controlGap:G}},Q.prototype._position=function(J,K){var Y=this._mainGroup,q=this._labelGroup,Z=J.viewRect;if(J.orient==="vertical"){var X=Q6(),W=Z.x,F=Z.y+Z.height;D8(X,X,[-W,-F]),u8(X,X,-Qt/2),D8(X,X,[W,F]),Z=Z.clone(),Z.applyTransform(X)}var H=D(Z),B=D(Y.getBoundingRect()),z=D(q.getBoundingRect()),A=[Y.x,Y.y],R=[q.x,q.y];R[0]=A[0]=H[0][0];var G=J.labelPosOpt;if(G==null||B0(G)){var w=G==="+"?0:1;P(A,B,H,1,w),P(R,z,H,1,1-w)}else{var w=G>=0?0:1;P(A,B,H,1,w),R[1]=A[1]+G}Y.setPosition(A),q.setPosition(R),Y.rotation=q.rotation=J.rotation,T(Y),T(q);function T(j){j.originX=H[0][0]-j.x,j.originY=H[1][0]-j.y}function D(j){return[[j.x,j.x+j.width],[j.y,j.y+j.height]]}function P(j,E,L,h,_){j[h]+=L[h][_]-E[h][_]}},Q.prototype._createAxis=function(J,K){var Y=K.getData(),q=K.get("axisType"),Z=AA1(K,q);Z.getTicks=function(){return Y.mapArray(["value"],function(F){return{value:F}})};var X=Y.getDataExtent("value");Z.setExtent(X[0],X[1]),Z.calcNiceTicks();var W=new tv0("value",Z,J.axisExtent,q);return W.model=K,W},Q.prototype._createGroup=function(J){var K=this[J]=new _0;return this.group.add(K),K},Q.prototype._renderAxisLine=function(J,K,Y,q){var Z=Y.getExtent();if(!q.get(["lineStyle","show"]))return;var X=new l5({shape:{x1:Z[0],y1:0,x2:Z[1],y2:0},style:Q0({lineCap:"round"},q.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});K.add(X);var W=this._progressLine=new l5({shape:{x1:Z[0],x2:this._currentPointer?this._currentPointer.x:Z[0],y1:0,y2:0},style:b0({lineCap:"round",lineWidth:X.style.lineWidth},q.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});K.add(W)},Q.prototype._renderAxisTick=function(J,K,Y,q){var Z=this,X=q.getData(),W=Y.scale.getTicks();this._tickSymbols=[],v(W,function(F){var H=Y.dataToCoord(F.value),B=X.getItemModel(F.value),z=B.getModel("itemStyle"),A=B.getModel(["emphasis","itemStyle"]),R=B.getModel(["progress","itemStyle"]),G={x:H,y:0,onclick:O0(Z._changeTimeline,Z,F.value)},w=$S0(B,z,K,G);w.ensureState("emphasis").style=A.getItemStyle(),w.ensureState("progress").style=R.getItemStyle(),fJ(w);var T=m0(w);if(B.get("tooltip"))T.dataIndex=F.value,T.dataModel=q;else T.dataIndex=T.dataModel=null;Z._tickSymbols.push(w)})},Q.prototype._renderAxisLabel=function(J,K,Y,q){var Z=this,X=Y.getLabelModel();if(!X.get("show"))return;var W=q.getData(),F=Y.getViewLabels();this._tickLabels=[],v(F,function(H){var B=H.tickValue,z=W.getItemModel(B),A=z.getModel("label"),R=z.getModel(["emphasis","label"]),G=z.getModel(["progress","label"]),w=Y.dataToCoord(H.tickValue),T=new w1({x:w,y:0,rotation:J.labelRotation-J.rotation,onclick:O0(Z._changeTimeline,Z,B),silent:!1,style:Z5(A,{text:H.formattedLabel,align:J.labelAlign,verticalAlign:J.labelBaseline})});T.ensureState("emphasis").style=Z5(R),T.ensureState("progress").style=Z5(G),K.add(T),fJ(T),ev0(T).dataIndex=B,Z._tickLabels.push(T)})},Q.prototype._renderControl=function(J,K,Y,q){var{controlSize:Z,rotation:X}=J,W=q.getModel("controlStyle").getItemStyle(),F=q.getModel(["emphasis","controlStyle"]).getItemStyle(),H=q.getPlayState(),B=q.get("inverse",!0);z(J.nextBtnPosition,"next",O0(this._changeTimeline,this,B?"-":"+")),z(J.prevBtnPosition,"prev",O0(this._changeTimeline,this,B?"+":"-")),z(J.playPosition,H?"stop":"play",O0(this._handlePlayClick,this,!H),!0);function z(A,R,G,w){if(!A)return;var T=C8(f0(q.get(["controlStyle",R+"BtnSize"]),Z),Z),D=[0,-T/2,T,T],P=RA1(q,R+"Icon",D,{x:A[0],y:A[1],originX:Z/2,originY:0,rotation:w?-X:0,rectHover:!0,style:W,onclick:G});P.ensureState("emphasis").style=F,K.add(P),fJ(P)}},Q.prototype._renderCurrentPointer=function(J,K,Y,q){var Z=q.getData(),X=q.getCurrentIndex(),W=Z.getItemModel(X).getModel("checkpointStyle"),F=this,H={onCreate:function(B){B.draggable=!0,B.drift=O0(F._handlePointerDrag,F),B.ondragend=O0(F._handlePointerDragend,F),QS0(B,F._progressLine,X,Y,q,!0)},onUpdate:function(B){QS0(B,F._progressLine,X,Y,q)}};this._currentPointer=$S0(W,W,this._mainGroup,{},this._currentPointer,H)},Q.prototype._handlePlayClick=function(J){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:J,from:this.uid})},Q.prototype._handlePointerDrag=function(J,K,Y){this._clearTimer(),this._pointerChangeTimeline([Y.offsetX,Y.offsetY])},Q.prototype._handlePointerDragend=function(J){this._pointerChangeTimeline([J.offsetX,J.offsetY],!0)},Q.prototype._pointerChangeTimeline=function(J,K){var Y=this._toAxisCoord(J)[0],q=this._axis,Z=I7(q.getExtent().slice());Y>Z[1]&&(Y=Z[1]),Y<Z[0]&&(Y=Z[0]),this._currentPointer.x=Y,this._currentPointer.markRedraw();var X=this._progressLine;if(X)X.shape.x2=Y,X.dirty();var W=this._findNearestTick(Y),F=this.model;if(K||W!==F.getCurrentIndex()&&F.get("realtime"))this._changeTimeline(W)},Q.prototype._doPlayStop=function(){var J=this;if(this._clearTimer(),this.model.getPlayState())this._timer=setTimeout(function(){var K=J.model;J._changeTimeline(K.getCurrentIndex()+(K.get("rewind",!0)?-1:1))},this.model.get("playInterval"))},Q.prototype._toAxisCoord=function(J){var K=this._mainGroup.getLocalTransform();return k8(J,K,!0)},Q.prototype._findNearestTick=function(J){var K=this.model.getData(),Y=1/0,q,Z=this._axis;return K.each(["value"],function(X,W){var F=Z.dataToCoord(X),H=Math.abs(F-J);if(H<Y)Y=H,q=W}),q},Q.prototype._clearTimer=function(){if(this._timer)clearTimeout(this._timer),this._timer=null},Q.prototype._changeTimeline=function(J){var K=this.model.getCurrentIndex();if(J==="+")J=K+1;else if(J==="-")J=K-1;this.api.dispatchAction({type:"timelineChange",currentIndex:J,from:this.uid})},Q.prototype._updateTicksStatus=function(){var J=this.model.getCurrentIndex(),K=this._tickSymbols,Y=this._tickLabels;if(K)for(var q=0;q<K.length;q++)K&&K[q]&&K[q].toggleState("progress",q<J);if(Y)for(var q=0;q<Y.length;q++)Y&&Y[q]&&Y[q].toggleState("progress",ev0(Y[q]).dataIndex<=J)},Q.type="timeline.slider",Q}(av0);function AA1($,Q){if(Q=Q||$.get("type"),Q)switch(Q){case"category":return new TY({ordinalMeta:$.getCategories(),extent:[1/0,-1/0]});case"time":return new gh({locale:$.ecModel.getLocaleModel(),useUTC:$.ecModel.get("useUTC")});default:return new F9}}function VA1($,Q){return e1($.getBoxLayoutParams(),D5($,Q).refContainer,$.get("padding"))}function RA1($,Q,J,K){var Y=K.style,q=BY($.get(["controlStyle",Q]),K||{},new u0(J[0],J[1],J[2],J[3]));if(Y)q.setStyle(Y);return q}function $S0($,Q,J,K,Y,q){var Z=Q.get("color");if(!Y){var X=$.get("symbol");Y=j5(X,-1,-1,2,2,Z),Y.setStyle("strokeNoScale",!0),J.add(Y),q&&q.onCreate(Y)}else Y.setColor(Z),J.add(Y),q&&q.onUpdate(Y);var W=Q.getItemStyle(["color"]);Y.setStyle(W),K=K1({rectHover:!0,z2:100},K,!0);var F=FQ($.get("symbolSize"));K.scaleX=F[0]/2,K.scaleY=F[1]/2;var H=n9($.get("symbolOffset"),F);if(H)K.x=(K.x||0)+H[0],K.y=(K.y||0)+H[1];var B=$.get("symbolRotate");return K.rotation=(B||0)*Math.PI/180||0,Y.attr(K),Y.updateTransform(),Y}function QS0($,Q,J,K,Y,q){if($.dragging)return;var Z=Y.getModel("checkpointStyle"),X=K.dataToCoord(Y.getData().get("value",J));if(q||!Z.get("animation",!0))$.attr({x:X,y:0}),Q&&Q.attr({shape:{x2:X}});else{var W={duration:Z.get("animationDuration",!0),easing:Z.get("animationEasing",!0)};$.stopAnimation(null,!0),$.animateTo({x:X,y:0},W),Q&&Q.animateTo({shape:{x2:X}},W)}}var JS0=zA1;function KS0($){$.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(Q,J,K){var Y=J.getComponent("timeline");if(Y&&Q.currentIndex!=null){if(Y.setCurrentIndex(Q.currentIndex),!Y.get("loop",!0)&&Y.isIndexMax()&&Y.getPlayState())Y.setPlayState(!1),K.dispatchAction({type:"timelinePlayChange",playState:!1,from:Q.from})}return J.resetOption("timeline",{replaceMerge:Y.get("replaceMerge",!0)}),b0({currentIndex:Y.option.currentIndex},Q)}),$.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(Q,J){var K=J.getComponent("timeline");if(K&&Q.playState!=null)K.setPlayState(Q.playState)})}function Jt($){var Q=$&&$.timeline;if(!J0(Q))Q=Q?[Q]:[];v(Q,function(J){if(!J)return;GA1(J)})}function GA1($){var Q=$.type,J={number:"value",time:"time"};if(J[Q])$.axisType=J[Q],delete $.type;if(YS0($),RF($,"controlPosition")){var K=$.controlStyle||($.controlStyle={});if(!RF(K,"position"))K.position=$.controlPosition;if(K.position==="none"&&!RF(K,"show"))K.show=!1,delete K.position;delete $.controlPosition}v($.data||[],function(Y){if(I0(Y)&&!J0(Y)){if(!RF(Y,"value")&&RF(Y,"name"))Y.value=Y.name;YS0(Y)}})}function YS0($){var Q=$.itemStyle||($.itemStyle={}),J=Q.emphasis||(Q.emphasis={}),K=$.label||$.label||{},Y=K.normal||(K.normal={}),q={normal:1,emphasis:1};if(v(K,function(Z,X){if(!q[X]&&!RF(Y,X))Y[X]=Z}),J.label&&!RF(K,"emphasis"))K.emphasis=J.label,delete J.label}function RF($,Q){return $.hasOwnProperty(Q)}function Kt($){$.registerComponentModel(ov0),$.registerComponentView(JS0),$.registerSubTypeDefaulter("timeline",function(){return"slider"}),KS0($),$.registerPreprocessor(Jt)}function GF($,Q){if(!$)return!1;var J=J0($)?$:[$];for(var K=0;K<J.length;K++)if(J[K]&&J[K][Q])return!0;return!1}function uS($){u9($,"label",["show"])}var mS=n0(),qS0=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.createdBySelf=!1,J.preventAutoZ=!0,J}return Q.prototype.init=function(J,K,Y){if(this.type==="marker")throw Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.");this.mergeDefaultAndTheme(J,Y),this._mergeOption(J,Y,!1,!0)},Q.prototype.isAnimationEnabled=function(){if(L1.node)return!1;var J=this.__hostSeries;return this.getShallow("animation")&&J&&J.isAnimationEnabled()},Q.prototype.mergeOption=function(J,K){this._mergeOption(J,K,!1,!1)},Q.prototype._mergeOption=function(J,K,Y,q){var Z=this.mainType;if(!Y)K.eachSeries(function(X){var W=X.get(this.mainType,!0),F=mS(X)[Z];if(!W||!W.data){mS(X)[Z]=null;return}if(!F){if(q)uS(W);v(W.data,function(H){if(H instanceof Array)uS(H[0]),uS(H[1]);else uS(H)}),F=this.createMarkerModelFromSeries(W,this,K),Q0(F,{mainType:this.mainType,seriesIndex:X.seriesIndex,name:X.name,createdBySelf:!0}),F.__hostSeries=X}else F._mergeOption(W,K,!0);mS(X)[Z]=F},this)},Q.prototype.formatTooltip=function(J,K,Y){var q=this.getData(),Z=this.getRawValue(J),X=q.getName(J);return x5("section",{header:this.name,blocks:[x5("nameValue",{name:X,value:Z,noName:!X,noValue:Z==null})]})},Q.prototype.getData=function(){return this._data},Q.prototype.setData=function(J){this._data=J},Q.prototype.getDataParams=function(J,K){var Y=lW.prototype.getDataParams.call(this,J,K),q=this.__hostSeries;if(q)Y.seriesId=q.id,Y.seriesName=q.name,Y.seriesType=q.subType;return Y},Q.getMarkerModelFromSeries=function(J,K){return mS(J)[K]},Q.type="marker",Q.dependencies=["series","grid","polar","geo"],Q}(B1);_5(qS0,lW.prototype);var o8=qS0;var wA1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.createMarkerModelFromSeries=function(J,K,Y){return new Q(J,K,Y)},Q.type="markPoint",Q.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},Q}(o8),ZS0=wA1;function Yt($){return!(isNaN(parseFloat($.x))&&isNaN(parseFloat($.y)))}function OA1($){return!isNaN(parseFloat($.x))&&!isNaN(parseFloat($.y))}function pS($,Q,J,K,Y,q,Z){var X=[],W=l9(Q,Y),F=W?Q.getCalculationInfo("stackResultDimension"):Y,H=Mw(Q,F,$),B=Q.hostModel,z=B.indicesOfNearest(J,F,H)[0];X[q]=Q.get(K,z),X[Z]=Q.get(F,z);var A=Q.get(Y,z),R=B4(Q.get(Y,z));if(R=Math.min(R,20),R>=0)X[Z]=+X[Z].toFixed(R);return[X,A]}var dS={min:a0(pS,"min"),max:a0(pS,"max"),average:a0(pS,"average"),median:a0(pS,"median")};function q2($,Q){if(!Q)return;var J=$.getData(),K=$.coordinateSystem,Y=K&&K.dimensions;if(!OA1(Q)&&!J0(Q.coord)&&J0(Y)){var q=qt(Q,J,K,$);if(Q=y0(Q),Q.type&&dS[Q.type]&&q.baseAxis&&q.valueAxis){var Z=o0(Y,q.baseAxis.dim),X=o0(Y,q.valueAxis.dim),W=dS[Q.type](J,q.valueAxis.dim,q.baseDataDim,q.valueDataDim,Z,X);Q.coord=W[0],Q.value=W[1]}else Q.coord=[Q.xAxis!=null?Q.xAxis:Q.radiusAxis,Q.yAxis!=null?Q.yAxis:Q.angleAxis]}if(Q.coord==null||!J0(Y)){Q.coord=[];var F=$.getBaseAxis();if(F&&Q.type&&dS[Q.type]){var H=K.getOtherAxis(F);if(H)Q.value=Mw(J,J.mapDimension(H.dim),Q.type)}}else{var B=Q.coord;for(var z=0;z<2;z++)if(dS[B[z]])B[z]=Mw(J,J.mapDimension(Y[z]),B[z])}return Q}function qt($,Q,J,K){var Y={};if($.valueIndex!=null||$.valueDim!=null)Y.valueDataDim=$.valueIndex!=null?Q.getDimension($.valueIndex):$.valueDim,Y.valueAxis=J.getAxis(TA1(K,Y.valueDataDim)),Y.baseAxis=J.getOtherAxis(Y.valueAxis),Y.baseDataDim=Q.mapDimension(Y.baseAxis.dim);else Y.baseAxis=K.getBaseAxis(),Y.valueAxis=J.getOtherAxis(Y.baseAxis),Y.baseDataDim=Q.mapDimension(Y.baseAxis.dim),Y.valueDataDim=Q.mapDimension(Y.valueAxis.dim);return Y}function TA1($,Q){var J=$.getData().getDimensionInfo(Q);return J&&J.coordDim}function Z2($,Q){return $&&$.containData&&Q.coord&&!Yt(Q)?$.containData(Q.coord):!0}function XS0($,Q,J){return $&&$.containZone&&Q.coord&&J.coord&&!Yt(Q)&&!Yt(J)?$.containZone(Q.coord,J.coord):!0}function nS($,Q){return $?function(J,K,Y,q){var Z=q<2?J.coord&&J.coord[q]:J.value;return K$(Z,Q[q])}:function(J,K,Y,q){return K$(J.value,Q[q])}}function Mw($,Q,J){if(J==="average"){var K=0,Y=0;return $.each(Q,function(q,Z){if(!isNaN(q))K+=q,Y++}),K/Y}else if(J==="median")return $.getMedian(Q);else return $.getDataExtent(Q)[J==="max"?1:0]}var Xt=n0(),DA1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.init=function(){this.markerGroupMap=L0()},Q.prototype.render=function(J,K,Y){var q=this,Z=this.markerGroupMap;Z.each(function(X){Xt(X).keep=!1}),K.eachSeries(function(X){var W=o8.getMarkerModelFromSeries(X,q.type);W&&q.renderSeries(X,W,K,Y)}),Z.each(function(X){!Xt(X).keep&&q.group.remove(X.group)}),CA1(K,Z,this.type)},Q.prototype.markKeep=function(J){Xt(J).keep=!0},Q.prototype.toggleBlurSeries=function(J,K){var Y=this;v(J,function(q){var Z=o8.getMarkerModelFromSeries(q,Y.type);if(Z){var X=Z.getData();X.eachItemGraphicEl(function(W){if(W)K?rE(W):JG(W)})}})},Q.type="marker",Q}(p1);function CA1($,Q,J){$.eachSeries(function(K){var Y=o8.getMarkerModelFromSeries(K,J),q=Q.get(K.id);if(Y&&q&&q.group){var Z=e3(Y),X=Z.z,W=Z.zlevel;IW(q.group,X,W)}})}var SB=DA1;function WS0($,Q,J){var K=Q.coordinateSystem,Y=J.getWidth(),q=J.getHeight(),Z=K&&K.getArea&&K.getArea();$.each(function(X){var W=$.getItemModel(X),F=W.get("relativeTo")==="coordinate",H=F?Z?Z.width:0:Y,B=F?Z?Z.height:0:q,z=F&&Z?Z.x:0,A=F&&Z?Z.y:0,R,G=h0(W.get("x"),H)+z,w=h0(W.get("y"),B)+A;if(!isNaN(G)&&!isNaN(w))R=[G,w];else if(Q.getMarkerPosition)R=Q.getMarkerPosition($.getValues($.dimensions,X));else if(K){var T=$.get(K.dimensions[0],X),D=$.get(K.dimensions[1],X);R=K.dataToPoint([T,D])}if(!isNaN(G))R[0]=G;if(!isNaN(w))R[1]=w;$.setItemLayout(X,R)})}var PA1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.updateTransform=function(J,K,Y){K.eachSeries(function(q){var Z=o8.getMarkerModelFromSeries(q,"markPoint");if(Z)WS0(Z.getData(),q,Y),this.markerGroupMap.get(q.id).updateLayout()},this)},Q.prototype.renderSeries=function(J,K,Y,q){var{coordinateSystem:Z,id:X}=J,W=J.getData(),F=this.markerGroupMap,H=F.get(X)||F.set(X,new nJ),B=kA1(Z,J,K);K.setData(B),WS0(K.getData(),J,q),B.each(function(z){var A=B.getItemModel(z),R=A.getShallow("symbol"),G=A.getShallow("symbolSize"),w=A.getShallow("symbolRotate"),T=A.getShallow("symbolOffset"),D=A.getShallow("symbolKeepAspect");if(v0(R)||v0(G)||v0(w)||v0(T)){var P=K.getRawValue(z),j=K.getDataParams(z);if(v0(R))R=R(P,j);if(v0(G))G=G(P,j);if(v0(w))w=w(P,j);if(v0(T))T=T(P,j)}var E=A.getModel("itemStyle").getItemStyle(),L=A.get("z2"),h=xJ(W,"color");if(!E.fill)E.fill=h;B.setItemVisual(z,{z2:f0(L,0),symbol:R,symbolSize:G,symbolRotate:w,symbolOffset:T,symbolKeepAspect:D,style:E})}),H.updateData(B),this.group.add(H.group),B.eachItemGraphicEl(function(z){z.traverse(function(A){m0(A).dataModel=K})}),this.markKeep(H),H.group.silent=K.get("silent")||J.get("silent")},Q.type="markPoint",Q}(SB);function kA1($,Q,J){var K;if($)K=K0($&&$.dimensions,function(X){var W=Q.getData().getDimensionInfo(Q.getData().mapDimension(X))||{};return Q0(Q0({},W),{name:X,ordinalMeta:null})});else K=[{name:"value",type:"float"}];var Y=new S6(K,J),q=K0(J.get("data"),a0(q2,Q));if($)q=j1(q,a0(Z2,$));var Z=nS(!!$,K);return Y.initData(q,null,Z),Y}var FS0=PA1;function Wt($){$.registerComponentModel(ZS0),$.registerComponentView(FS0),$.registerPreprocessor(function(Q){if(GF(Q.series,"markPoint"))Q.markPoint=Q.markPoint||{}})}var jA1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.createMarkerModelFromSeries=function(J,K,Y){return new Q(J,K,Y)},Q.type="markLine",Q.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},Q}(o8),US0=jA1;var lS=n0(),EA1=function($,Q,J,K){var Y=$.getData(),q;if(!J0(K)){var Z=K.type;if(Z==="min"||Z==="max"||Z==="average"||Z==="median"||K.xAxis!=null||K.yAxis!=null){var X=void 0,W=void 0;if(K.yAxis!=null||K.xAxis!=null)X=Q.getAxis(K.yAxis!=null?"y":"x"),W=u5(K.yAxis,K.xAxis);else{var F=qt(K,Y,Q,$);X=F.valueAxis;var H=_h(Y,F.valueDataDim);W=Mw(Y,H,Z)}var B=X.dim==="x"?0:1,z=1-B,A=y0(K),R={coord:[]};A.type=null,A.coord=[],A.coord[z]=-1/0,R.coord[z]=1/0;var G=J.get("precision");if(G>=0&&U1(W))W=+W.toFixed(Math.min(G,20));A.coord[B]=R.coord[B]=W,q=[A,R,{type:Z,valueIndex:K.valueIndex,value:W}]}else m7("Invalid markLine data."),q=[]}else q=K;var w=[q2($,q[0]),q2($,q[1]),Q0({},q[2])];return w[2].type=w[2].type||null,K1(w[2],w[0]),K1(w[2],w[1]),w};function rS($){return!isNaN($)&&!isFinite($)}function HS0($,Q,J,K){var Y=1-$,q=K.dimensions[$];return rS(Q[Y])&&rS(J[Y])&&Q[$]===J[$]&&K.getAxis(q).containData(Q[$])}function LA1($,Q){if($.type==="cartesian2d"){var J=Q[0].coord,K=Q[1].coord;if(J&&K&&(HS0(1,J,K,$)||HS0(0,J,K,$)))return!0}return Z2($,Q[0])&&Z2($,Q[1])}function Ft($,Q,J,K,Y){var q=K.coordinateSystem,Z=$.getItemModel(Q),X,W=h0(Z.get("x"),Y.getWidth()),F=h0(Z.get("y"),Y.getHeight());if(!isNaN(W)&&!isNaN(F))X=[W,F];else{if(K.getMarkerPosition)X=K.getMarkerPosition($.getValues($.dimensions,Q));else{var H=q.dimensions,B=$.get(H[0],Q),z=$.get(H[1],Q);X=q.dataToPoint([B,z])}if(r9(q,"cartesian2d")){var A=q.getAxis("x"),R=q.getAxis("y"),H=q.dimensions;if(rS($.get(H[0],Q)))X[0]=A.toGlobalCoord(A.getExtent()[J?0:1]);else if(rS($.get(H[1],Q)))X[1]=R.toGlobalCoord(R.getExtent()[J?0:1])}if(!isNaN(W))X[0]=W;if(!isNaN(F))X[1]=F}$.setItemLayout(Q,X)}var hA1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.updateTransform=function(J,K,Y){K.eachSeries(function(q){var Z=o8.getMarkerModelFromSeries(q,"markLine");if(Z){var X=Z.getData(),W=lS(Z).from,F=lS(Z).to;W.each(function(H){Ft(W,H,!0,q,Y),Ft(F,H,!1,q,Y)}),X.each(function(H){X.setItemLayout(H,[W.getItemLayout(H),F.getItemLayout(H)])}),this.markerGroupMap.get(q.id).updateLayout()}},this)},Q.prototype.renderSeries=function(J,K,Y,q){var{coordinateSystem:Z,id:X}=J,W=J.getData(),F=this.markerGroupMap,H=F.get(X)||F.set(X,new UB);this.group.add(H.group);var B=vA1(Z,J,K),z=B.from,A=B.to,R=B.line;lS(K).from=z,lS(K).to=A,K.setData(R);var G=K.get("symbol"),w=K.get("symbolSize"),T=K.get("symbolRotate"),D=K.get("symbolOffset");if(!J0(G))G=[G,G];if(!J0(w))w=[w,w];if(!J0(T))T=[T,T];if(!J0(D))D=[D,D];B.from.each(function(j){P(z,j,!0),P(A,j,!1)}),R.each(function(j){var E=R.getItemModel(j),L=E.getModel("lineStyle").getLineStyle();R.setItemLayout(j,[z.getItemLayout(j),A.getItemLayout(j)]);var h=E.get("z2");if(L.stroke==null)L.stroke=z.getItemVisual(j,"style").fill;R.setItemVisual(j,{z2:f0(h,0),fromSymbolKeepAspect:z.getItemVisual(j,"symbolKeepAspect"),fromSymbolOffset:z.getItemVisual(j,"symbolOffset"),fromSymbolRotate:z.getItemVisual(j,"symbolRotate"),fromSymbolSize:z.getItemVisual(j,"symbolSize"),fromSymbol:z.getItemVisual(j,"symbol"),toSymbolKeepAspect:A.getItemVisual(j,"symbolKeepAspect"),toSymbolOffset:A.getItemVisual(j,"symbolOffset"),toSymbolRotate:A.getItemVisual(j,"symbolRotate"),toSymbolSize:A.getItemVisual(j,"symbolSize"),toSymbol:A.getItemVisual(j,"symbol"),style:L})}),H.updateData(R),B.line.eachItemGraphicEl(function(j){m0(j).dataModel=K,j.traverse(function(E){m0(E).dataModel=K})});function P(j,E,L){var h=j.getItemModel(E);Ft(j,E,L,J,q);var _=h.getModel("itemStyle").getItemStyle();if(_.fill==null)_.fill=xJ(W,"color");j.setItemVisual(E,{symbolKeepAspect:h.get("symbolKeepAspect"),symbolOffset:f0(h.get("symbolOffset",!0),D[L?0:1]),symbolRotate:f0(h.get("symbolRotate",!0),T[L?0:1]),symbolSize:f0(h.get("symbolSize"),w[L?0:1]),symbol:f0(h.get("symbol",!0),G[L?0:1]),style:_})}this.markKeep(H),H.group.silent=K.get("silent")||J.get("silent")},Q.type="markLine",Q}(SB);function vA1($,Q,J){var K;if($)K=K0($&&$.dimensions,function(F){var H=Q.getData().getDimensionInfo(Q.getData().mapDimension(F))||{};return Q0(Q0({},H),{name:F,ordinalMeta:null})});else K=[{name:"value",type:"float"}];var Y=new S6(K,J),q=new S6(K,J),Z=new S6([],J),X=K0(J.get("data"),a0(EA1,Q,$,J));if($)X=j1(X,a0(LA1,$));var W=nS(!!$,K);return Y.initData(K0(X,function(F){return F[0]}),null,W),q.initData(K0(X,function(F){return F[1]}),null,W),Z.initData(K0(X,function(F){return F[2]})),Z.hasItemOption=!0,{from:Y,to:q,line:Z}}var NS0=hA1;function Ut($){$.registerComponentModel(US0),$.registerComponentView(NS0),$.registerPreprocessor(function(Q){if(GF(Q.series,"markLine"))Q.markLine=Q.markLine||{}})}var SA1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.createMarkerModelFromSeries=function(J,K,Y){return new Q(J,K,Y)},Q.type="markArea",Q.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},Q}(o8),BS0=SA1;var iS=n0(),_A1=function($,Q,J,K){var Y=K[0],q=K[1];if(!Y||!q)return;var Z=q2($,Y),X=q2($,q),W=Z.coord,F=X.coord;W[0]=u5(W[0],-1/0),W[1]=u5(W[1],-1/0),F[0]=u5(F[0],1/0),F[1]=u5(F[1],1/0);var H=aH([{},Z,X]);return H.coord=[Z.coord,X.coord],H.x0=Z.x,H.y0=Z.y,H.x1=X.x,H.y1=X.y,H};function sS($){return!isNaN($)&&!isFinite($)}function zS0($,Q,J,K){var Y=1-$;return sS(Q[Y])&&sS(J[Y])}function fA1($,Q){var J=Q.coord[0],K=Q.coord[1],Y={coord:J,x:Q.x0,y:Q.y0},q={coord:K,x:Q.x1,y:Q.y1};if(r9($,"cartesian2d")){if(J&&K&&(zS0(1,J,K,$)||zS0(0,J,K,$)))return!0;return XS0($,Y,q)}return Z2($,Y)||Z2($,q)}function AS0($,Q,J,K,Y){var q=K.coordinateSystem,Z=$.getItemModel(Q),X,W=h0(Z.get(J[0]),Y.getWidth()),F=h0(Z.get(J[1]),Y.getHeight());if(!isNaN(W)&&!isNaN(F))X=[W,F];else{if(K.getMarkerPosition){var H=$.getValues(["x0","y0"],Q),B=$.getValues(["x1","y1"],Q),z=q.clampData(H),A=q.clampData(B),R=[];if(J[0]==="x0")R[0]=z[0]>A[0]?B[0]:H[0];else R[0]=z[0]>A[0]?H[0]:B[0];if(J[1]==="y0")R[1]=z[1]>A[1]?B[1]:H[1];else R[1]=z[1]>A[1]?H[1]:B[1];X=K.getMarkerPosition(R,J,!0)}else{var G=$.get(J[0],Q),w=$.get(J[1],Q),T=[G,w];q.clampData&&q.clampData(T,T),X=q.dataToPoint(T,!0)}if(r9(q,"cartesian2d")){var D=q.getAxis("x"),P=q.getAxis("y"),G=$.get(J[0],Q),w=$.get(J[1],Q);if(sS(G))X[0]=D.toGlobalCoord(D.getExtent()[J[0]==="x0"?0:1]);else if(sS(w))X[1]=P.toGlobalCoord(P.getExtent()[J[1]==="y0"?0:1])}if(!isNaN(W))X[0]=W;if(!isNaN(F))X[1]=F}return X}var VS0=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],IA1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.updateTransform=function(J,K,Y){K.eachSeries(function(q){var Z=o8.getMarkerModelFromSeries(q,"markArea");if(Z){var X=Z.getData();X.each(function(W){var F=K0(VS0,function(B){return AS0(X,W,B,q,Y)});X.setItemLayout(W,F);var H=X.getItemGraphicEl(W);H.setShape("points",F)})}},this)},Q.prototype.renderSeries=function(J,K,Y,q){var{coordinateSystem:Z,id:X}=J,W=J.getData(),F=this.markerGroupMap,H=F.get(X)||F.set(X,{group:new _0});this.group.add(H.group),this.markKeep(H);var B=MA1(Z,J,K);K.setData(B),B.each(function(z){var A=K0(VS0,function(I){return AS0(B,z,I,J,q)}),R=Z.getAxis("x").scale,G=Z.getAxis("y").scale,w=R.getExtent(),T=G.getExtent(),D=[R.parse(B.get("x0",z)),R.parse(B.get("x1",z))],P=[G.parse(B.get("y0",z)),G.parse(B.get("y1",z))];I7(D),I7(P);var j=!(w[0]>D[1]||w[1]<D[0]||T[0]>P[1]||T[1]<P[0]),E=!j;B.setItemLayout(z,{points:A,allClipped:E});var L=B.getItemModel(z),h=L.getModel("itemStyle").getItemStyle(),_=L.get("z2"),S=xJ(W,"color");if(!h.fill){if(h.fill=S,B0(h.fill))h.fill=qW(h.fill,0.4)}if(!h.stroke)h.stroke=S;B.setItemVisual(z,"style",h),B.setItemVisual(z,"z2",f0(_,0))}),B.diff(iS(H).data).add(function(z){var A=B.getItemLayout(z),R=B.getItemVisual(z,"z2");if(!A.allClipped){var G=new z6({z2:f0(R,0),shape:{points:A.points}});B.setItemGraphicEl(z,G),H.group.add(G)}}).update(function(z,A){var R=iS(H).data.getItemGraphicEl(A),G=B.getItemLayout(z),w=B.getItemVisual(z,"z2");if(!G.allClipped){if(R)V1(R,{z2:f0(w,0),shape:{points:G.points}},K,z);else R=new z6({shape:{points:G.points}});B.setItemGraphicEl(z,R),H.group.add(R)}else if(R)H.group.remove(R)}).remove(function(z){var A=iS(H).data.getItemGraphicEl(z);H.group.remove(A)}).execute(),B.eachItemGraphicEl(function(z,A){var R=B.getItemModel(A),G=B.getItemVisual(A,"style");z.useStyle(B.getItemVisual(A,"style")),v5(z,k5(R),{labelFetcher:K,labelDataIndex:A,defaultText:B.getName(A)||"",inheritColor:B0(G.fill)?qW(G.fill,1):a.color.neutral99}),M5(z,R),u1(z,null,null,R.get(["emphasis","disabled"])),m0(z).dataModel=K}),iS(H).data=B,H.group.silent=K.get("silent")||J.get("silent")},Q.type="markArea",Q}(SB);function MA1($,Q,J){var K,Y,q=["x0","y0","x1","y1"];if($){var Z=K0($&&$.dimensions,function(F){var H=Q.getData(),B=H.getDimensionInfo(H.mapDimension(F))||{};return Q0(Q0({},B),{name:F,ordinalMeta:null})});Y=K0(q,function(F,H){return{name:F,type:Z[H%2].type}}),K=new S6(Y,J)}else Y=[{name:"value",type:"float"}],K=new S6(Y,J);var X=K0(J.get("data"),a0(_A1,Q,$,J));if($)X=j1(X,a0(fA1,$));var W=$?function(F,H,B,z){var A=F.coord[Math.floor(z/2)][z%2];return K$(A,Y[z])}:function(F,H,B,z){return K$(F.value,Y[z])};return K.initData(X,null,W),K.hasItemOption=!0,K}var RS0=IA1;function Ht($){$.registerComponentModel(BS0),$.registerComponentView(RS0),$.registerPreprocessor(function(Q){if(GF(Q.series,"markArea"))Q.markArea=Q.markArea||{}})}var bA1=function($,Q){if(Q==="all")return{type:"all",title:$.getLocaleModel().get(["legend","selector","all"])};else if(Q==="inverse")return{type:"inverse",title:$.getLocaleModel().get(["legend","selector","inverse"])}},gA1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.layoutMode={type:"box",ignoreSize:!0},J}return Q.prototype.init=function(J,K,Y){this.mergeDefaultAndTheme(J,Y),J.selected=J.selected||{},this._updateSelector(J)},Q.prototype.mergeOption=function(J,K){$.prototype.mergeOption.call(this,J,K),this._updateSelector(J)},Q.prototype._updateSelector=function(J){var K=J.selector,Y=this.ecModel;if(K===!0)K=J.selector=["all","inverse"];if(J0(K))v(K,function(q,Z){B0(q)&&(q={type:q}),K[Z]=K1(q,bA1(Y,q.type))})},Q.prototype.optionUpdated=function(){this._updateData(this.ecModel);var J=this._data;if(J[0]&&this.get("selectedMode")==="single"){var K=!1;for(var Y=0;Y<J.length;Y++){var q=J[Y].get("name");if(this.isSelected(q)){this.select(q),K=!0;break}}!K&&this.select(J[0].get("name"))}},Q.prototype._updateData=function(J){var K=[],Y=[];J.eachRawSeries(function(W){var F=W.name;Y.push(F);var H;if(W.legendVisualProvider){var B=W.legendVisualProvider,z=B.getAllNames();if(!J.isSeriesFiltered(W))Y=Y.concat(z);if(z.length)K=K.concat(z);else H=!0}else H=!0;if(H&&AN(W))K.push(W.name)}),this._availableNames=Y;var q=this.get("data")||K,Z=L0(),X=K0(q,function(W){if(B0(W)||U1(W))W={name:W};if(Z.get(W.name))return null;return Z.set(W.name,!0),new D1(W,this,this.ecModel)},this);this._data=j1(X,function(W){return!!W})},Q.prototype.getData=function(){return this._data},Q.prototype.select=function(J){var K=this.option.selected,Y=this.get("selectedMode");if(Y==="single"){var q=this._data;v(q,function(Z){K[Z.get("name")]=!1})}K[J]=!0},Q.prototype.unSelect=function(J){if(this.get("selectedMode")!=="single")this.option.selected[J]=!1},Q.prototype.toggleSelected=function(J){var K=this.option.selected;if(!K.hasOwnProperty(J))K[J]=!0;this[K[J]?"unSelect":"select"](J)},Q.prototype.allSelect=function(){var J=this._data,K=this.option.selected;v(J,function(Y){K[Y.get("name",!0)]=!0})},Q.prototype.inverseSelect=function(){var J=this._data,K=this.option.selected;v(J,function(Y){var q=Y.get("name",!0);if(!K.hasOwnProperty(q))K[q]=!0;K[q]=!K[q]})},Q.prototype.isSelected=function(J){var K=this.option.selected;return!(K.hasOwnProperty(J)&&!K[J])&&o0(this._availableNames,J)>=0},Q.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},Q.type="legend.plain",Q.dependencies=["series"],Q.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:a.size.m,align:"auto",backgroundColor:a.color.transparent,borderColor:a.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:a.color.disabled,inactiveBorderColor:a.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:a.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:a.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:a.color.tertiary,borderWidth:1,borderColor:a.color.border},emphasis:{selectorLabel:{show:!0,color:a.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},Q}(B1),bw=gA1;var _B=a0,Nt=v,oS=_0,yA1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.newlineDisabled=!1,J}return Q.prototype.init=function(){this.group.add(this._contentGroup=new oS),this.group.add(this._selectorGroup=new oS),this._isFirstRender=!0},Q.prototype.getContentGroup=function(){return this._contentGroup},Q.prototype.getSelectorGroup=function(){return this._selectorGroup},Q.prototype.render=function(J,K,Y){var q=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!J.get("show",!0))return;var Z=J.get("align"),X=J.get("orient");if(!Z||Z==="auto")Z=J.get("left")==="right"&&X==="vertical"?"right":"left";var W=J.get("selector",!0),F=J.get("selectorPosition",!0);if(W&&(!F||F==="auto"))F=X==="horizontal"?"end":"start";this.renderInner(Z,J,K,Y,W,X,F);var H=D5(J,Y).refContainer,B=J.getBoxLayoutParams(),z=J.get("padding"),A=e1(B,H,z),R=this.layoutInner(J,Z,A,q,W,F),G=e1(b0({width:R.width,height:R.height},B),H,z);this.group.x=G.x-R.x,this.group.y=G.y-R.y,this.group.markRedraw(),this.group.add(this._backgroundEl=MS(R,J))},Q.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},Q.prototype.renderInner=function(J,K,Y,q,Z,X,W){var F=this.getContentGroup(),H=L0(),B=K.get("selectedMode"),z=K.get("triggerEvent"),A=[];if(Y.eachRawSeries(function(R){!R.get("legendHoverLink")&&A.push(R.id)}),Nt(K.getData(),function(R,G){var w=this,T=R.get("name");if(!this.newlineDisabled&&(T===""||T===`
`)){var D=new oS;D.newline=!0,F.add(D);return}var P=Y.getSeriesByName(T)[0];if(H.get(T))return;if(P){var j=P.getData(),E=j.getVisual("legendLineStyle")||{},L=j.getVisual("legendIcon"),h=j.getVisual("style"),_=this._createItem(P,T,G,R,K,J,E,h,L,B,q);if(_.on("click",_B(GS0,T,null,q,A)).on("mouseover",_B(Bt,P.name,null,q,A)).on("mouseout",_B(zt,P.name,null,q,A)),Y.ssr)_.eachChild(function(S){var I=m0(S);I.seriesIndex=P.seriesIndex,I.dataIndex=G,I.ssrType="legend"});if(z)_.eachChild(function(S){w.packEventData(S,K,P,G,T)});H.set(T,!0)}else Y.eachRawSeries(function(S){var I=this;if(H.get(T))return;if(S.legendVisualProvider){var M=S.legendVisualProvider;if(!M.containName(T))return;var y=M.indexOfName(T),b=M.getItemVisual(y,"style"),u=M.getItemVisual(y,"legendIcon"),c=f7(b.fill);if(c&&c[3]===0)c[3]=0.2,b=Q0(Q0({},b),{fill:i4(c,"rgba")});var m=this._createItem(S,T,G,R,K,J,{},b,u,B,q);if(m.on("click",_B(GS0,null,T,q,A)).on("mouseover",_B(Bt,null,T,q,A)).on("mouseout",_B(zt,null,T,q,A)),Y.ssr)m.eachChild(function(i){var o=m0(i);o.seriesIndex=S.seriesIndex,o.dataIndex=G,o.ssrType="legend"});if(z)m.eachChild(function(i){I.packEventData(i,K,S,G,T)});H.set(T,!0)}},this);if(!H.get(T))console.warn(T+" series not exists. Legend data should be same with series name or data name.")},this),Z)this._createSelector(Z,K,q,X,W)},Q.prototype.packEventData=function(J,K,Y,q,Z){var X={componentType:"legend",componentIndex:K.componentIndex,dataIndex:q,value:Z,seriesIndex:Y.seriesIndex};m0(J).eventData=X},Q.prototype._createSelector=function(J,K,Y,q,Z){var X=this.getSelectorGroup();Nt(J,function(F){var H=F.type,B=new w1({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){Y.dispatchAction({type:H==="all"?"legendAllSelect":"legendInverseSelect",legendId:K.id})}});X.add(B);var z=K.getModel("selectorLabel"),A=K.getModel(["emphasis","selectorLabel"]);v5(B,{normal:z,emphasis:A},{defaultText:F.title}),fJ(B)})},Q.prototype._createItem=function(J,K,Y,q,Z,X,W,F,H,B,z){var A=J.visualDrawType,R=Z.get("itemWidth"),G=Z.get("itemHeight"),w=Z.isSelected(K),T=q.get("symbolRotate"),D=q.get("symbolKeepAspect"),P=q.get("icon");H=P||H||"roundRect";var j=xA1(H,q,W,F,A,w,z),E=new oS,L=q.getModel("textStyle");if(v0(J.getLegendIcon)&&(!P||P==="inherit"))E.add(J.getLegendIcon({itemWidth:R,itemHeight:G,icon:H,iconRotate:T,itemStyle:j.itemStyle,lineStyle:j.lineStyle,symbolKeepAspect:D}));else{var h=P==="inherit"&&J.getData().getVisual("symbol")?T==="inherit"?J.getData().getVisual("symbolRotate"):T:0;E.add(cA1({itemWidth:R,itemHeight:G,icon:H,iconRotate:h,itemStyle:j.itemStyle,lineStyle:j.lineStyle,symbolKeepAspect:D}))}var _=X==="left"?R+5:-5,S=X,I=Z.get("formatter"),M=K;if(B0(I)&&I)M=I.replace("{name}",K!=null?K:"");else if(v0(I))M=I(K);var y=w?L.getTextColor():q.get("inactiveColor");E.add(new w1({style:Z5(L,{text:M,x:_,y:G/2,fill:y,align:S,verticalAlign:"middle"},{inheritColor:y})}));var b=new Q1({shape:E.getBoundingRect(),style:{fill:"transparent"}}),u=q.getModel("tooltip");if(u.get("show"))r8({el:b,componentModel:Z,itemName:K,itemTooltipOption:u.option});return E.add(b),E.eachChild(function(c){c.silent=!0}),b.silent=!B,this.getContentGroup().add(E),fJ(E),E.__legendDataIndex=Y,E},Q.prototype.layoutInner=function(J,K,Y,q,Z,X){var W=this.getContentGroup(),F=this.getSelectorGroup();XQ(J.get("orient"),W,J.get("itemGap"),Y.width,Y.height);var H=W.getBoundingRect(),B=[-H.x,-H.y];if(F.markRedraw(),W.markRedraw(),Z){XQ("horizontal",F,J.get("selectorItemGap",!0));var z=F.getBoundingRect(),A=[-z.x,-z.y],R=J.get("selectorButtonGap",!0),G=J.getOrient().index,w=G===0?"width":"height",T=G===0?"height":"width",D=G===0?"y":"x";if(X==="end")A[G]+=H[w]+R;else B[G]+=z[w]+R;A[1-G]+=H[T]/2-z[T]/2,F.x=A[0],F.y=A[1],W.x=B[0],W.y=B[1];var P={x:0,y:0};return P[w]=H[w]+R+z[w],P[T]=Math.max(H[T],z[T]),P[D]=Math.min(0,z[D]+A[1-G]),P}else return W.x=B[0],W.y=B[1],this.group.getBoundingRect()},Q.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},Q.type="legend.plain",Q}(p1);function xA1($,Q,J,K,Y,q,Z){function X(w,T){if(w.lineWidth==="auto")w.lineWidth=T.lineWidth>0?2:0;Nt(w,function(D,P){w[P]==="inherit"&&(w[P]=T[P])})}var W=Q.getModel("itemStyle"),F=W.getItemStyle(),H=$.lastIndexOf("empty",0)===0?"fill":"stroke",B=W.getShallow("decal");if(F.decal=!B||B==="inherit"?K.decal:UQ(B,Z),F.fill==="inherit")F.fill=K[Y];if(F.stroke==="inherit")F.stroke=K[H];if(F.opacity==="inherit")F.opacity=(Y==="fill"?K:J).opacity;X(F,K);var z=Q.getModel("lineStyle"),A=z.getLineStyle();if(X(A,J),F.fill==="auto"&&(F.fill=K.fill),F.stroke==="auto"&&(F.stroke=K.fill),A.stroke==="auto"&&(A.stroke=K.fill),!q){var R=Q.get("inactiveBorderWidth"),G=F[H];F.lineWidth=R==="auto"?K.lineWidth>0&&G?2:0:F.lineWidth,F.fill=Q.get("inactiveColor"),F.stroke=Q.get("inactiveBorderColor"),A.stroke=z.get("inactiveColor"),A.lineWidth=z.get("inactiveWidth")}return{itemStyle:F,lineStyle:A}}function cA1($){var Q=$.icon||"roundRect",J=j5(Q,0,0,$.itemWidth,$.itemHeight,$.itemStyle.fill,$.symbolKeepAspect);if(J.setStyle($.itemStyle),J.rotation=($.iconRotate||0)*Math.PI/180,J.setOrigin([$.itemWidth/2,$.itemHeight/2]),Q.indexOf("empty")>-1)J.style.stroke=J.style.fill,J.style.fill=a.color.neutral00,J.style.lineWidth=2;return J}function GS0($,Q,J,K){zt($,Q,J,K),J.dispatchAction({type:"legendToggleSelect",name:$!=null?$:Q}),Bt($,Q,J,K)}function wS0($){var Q=$.getZr().storage.getDisplayList(),J,K=0,Y=Q.length;while(K<Y&&!(J=Q[K].states.emphasis))K++;return J&&J.hoverLayer}function Bt($,Q,J,K){if(!wS0(J))J.dispatchAction({type:"highlight",seriesName:$,name:Q,excludeSeriesId:K})}function zt($,Q,J,K){if(!wS0(J))J.dispatchAction({type:"downplay",seriesName:$,name:Q,excludeSeriesId:K})}var aS=yA1;function At($){var Q=$.findComponents({mainType:"legend"});if(Q&&Q.length)$.filterSeries(function(J){for(var K=0;K<Q.length;K++)if(!Q[K].isSelected(J.name))return!1;return!0})}function gw($,Q,J){var K=$==="allSelect"||$==="inverseSelect",Y={},q=[];J.eachComponent({mainType:"legend",query:Q},function(X){if(K)X[$]();else X[$](Q.name);OS0(X,Y),q.push(X.componentIndex)});var Z={};return J.eachComponent("legend",function(X){v(Y,function(W,F){X[W?"select":"unSelect"](F)}),OS0(X,Z)}),K?{selected:Z,legendIndex:q}:{name:Q.name,selected:Z}}function OS0($,Q){var J=Q||{};return v($.getData(),function(K){var Y=K.get("name");if(Y===`
`||Y==="")return;var q=$.isSelected(Y);if(x0(J,Y))J[Y]=J[Y]&&q;else J[Y]=q}),J}function TS0($){$.registerAction("legendToggleSelect","legendselectchanged",a0(gw,"toggleSelected")),$.registerAction("legendAllSelect","legendselectall",a0(gw,"allSelect")),$.registerAction("legendInverseSelect","legendinverseselect",a0(gw,"inverseSelect")),$.registerAction("legendSelect","legendselected",a0(gw,"select")),$.registerAction("legendUnSelect","legendunselected",a0(gw,"unSelect"))}function tS($){$.registerComponentModel(bw),$.registerComponentView(aS),$.registerProcessor($.PRIORITY.PROCESSOR.SERIES_FILTER,At),$.registerSubTypeDefaulter("legend",function(){return"plain"}),TS0($)}var uA1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.setScrollDataIndex=function(J){this.option.scrollDataIndex=J},Q.prototype.init=function(J,K,Y){var q=Y9(J);$.prototype.init.call(this,J,K,Y),DS0(this,J,q)},Q.prototype.mergeOption=function(J,K){$.prototype.mergeOption.call(this,J,K),DS0(this,this.option,J)},Q.type="legend.scroll",Q.defaultOption=i8(bw.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:a.color.accent50,pageIconInactiveColor:a.color.accent10,pageIconSize:15,pageTextStyle:{color:a.color.tertiary},animationDurationUpdate:800}),Q}(bw);function DS0($,Q,J){var K=$.getOrient(),Y=[1,1];Y[K.index]=0,j8(Q,J,{type:"box",ignoreSize:!!Y})}var CS0=uA1;var PS0=_0,Vt=["width","height"],Rt=["x","y"],mA1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.newlineDisabled=!0,J._currentIndex=0,J}return Q.prototype.init=function(){$.prototype.init.call(this),this.group.add(this._containerGroup=new PS0),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new PS0)},Q.prototype.resetInner=function(){$.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},Q.prototype.renderInner=function(J,K,Y,q,Z,X,W){var F=this;$.prototype.renderInner.call(this,J,K,Y,q,Z,X,W);var H=this._controllerGroup,B=K.get("pageIconSize",!0),z=J0(B)?B:[B,B];R("pagePrev",0);var A=K.getModel("pageTextStyle");H.add(new w1({name:"pageText",style:{text:"xx/xx",fill:A.getTextColor(),font:A.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),R("pageNext",1);function R(G,w){var T=G+"DataIndex",D=BY(K.get("pageIcons",!0)[K.getOrient().name][w],{onclick:O0(F._pageGo,F,T,K,q)},{x:-z[0]/2,y:-z[1]/2,width:z[0],height:z[1]});D.name=G,H.add(D)}},Q.prototype.layoutInner=function(J,K,Y,q,Z,X){var W=this.getSelectorGroup(),F=J.getOrient().index,H=Vt[F],B=Rt[F],z=Vt[1-F],A=Rt[1-F];Z&&XQ("horizontal",W,J.get("selectorItemGap",!0));var R=J.get("selectorButtonGap",!0),G=W.getBoundingRect(),w=[-G.x,-G.y],T=y0(Y);Z&&(T[H]=Y[H]-G[H]-R);var D=this._layoutContentAndController(J,q,T,F,H,z,A,B);if(Z){if(X==="end")w[F]+=D[H]+R;else{var P=G[H]+R;w[F]-=P,D[B]-=P}D[H]+=G[H]+R,w[1-F]+=D[A]+D[z]/2-G[z]/2,D[z]=Math.max(D[z],G[z]),D[A]=Math.min(D[A],G[A]+w[1-F]),W.x=w[0],W.y=w[1],W.markRedraw()}return D},Q.prototype._layoutContentAndController=function(J,K,Y,q,Z,X,W,F){var H=this.getContentGroup(),B=this._containerGroup,z=this._controllerGroup;XQ(J.get("orient"),H,J.get("itemGap"),!q?null:Y.width,q?null:Y.height),XQ("horizontal",z,J.get("pageButtonItemGap",!0));var A=H.getBoundingRect(),R=z.getBoundingRect(),G=this._showController=A[Z]>Y[Z],w=[-A.x,-A.y];if(!K)w[q]=H[F];var T=[0,0],D=[-R.x,-R.y],P=f0(J.get("pageButtonGap",!0),J.get("itemGap",!0));if(G){var j=J.get("pageButtonPosition",!0);if(j==="end")D[q]+=Y[Z]-R[Z];else T[q]+=R[Z]+P}D[1-q]+=A[X]/2-R[X]/2,H.setPosition(w),B.setPosition(T),z.setPosition(D);var E={x:0,y:0};if(E[Z]=G?Y[Z]:A[Z],E[X]=Math.max(A[X],R[X]),E[W]=Math.min(0,R[W]+D[1-q]),B.__rectSize=Y[Z],G){var L={x:0,y:0};L[Z]=Math.max(Y[Z]-R[Z]-P,0),L[X]=E[X],B.setClipPath(new Q1({shape:L})),B.__rectSize=L[Z]}else z.eachChild(function(_){_.attr({invisible:!0,silent:!0})});var h=this._getPageInfo(J);return h.pageIndex!=null&&V1(H,{x:h.contentPosition[0],y:h.contentPosition[1]},G?J:null),this._updatePageInfoView(J,h),E},Q.prototype._pageGo=function(J,K,Y){var q=this._getPageInfo(K)[J];q!=null&&Y.dispatchAction({type:"legendScroll",scrollDataIndex:q,legendId:K.id})},Q.prototype._updatePageInfoView=function(J,K){var Y=this._controllerGroup;v(["pagePrev","pageNext"],function(H){var B=H+"DataIndex",z=K[B]!=null,A=Y.childOfName(H);if(A)A.setStyle("fill",z?J.get("pageIconColor",!0):J.get("pageIconInactiveColor",!0)),A.cursor=z?"pointer":"default"});var q=Y.childOfName("pageText"),Z=J.get("pageFormatter"),X=K.pageIndex,W=X!=null?X+1:0,F=K.pageCount;q&&Z&&q.setStyle("text",B0(Z)?Z.replace("{current}",W==null?"":W+"").replace("{total}",F==null?"":F+""):Z({current:W,total:F}))},Q.prototype._getPageInfo=function(J){var K=J.get("scrollDataIndex",!0),Y=this.getContentGroup(),q=this._containerGroup.__rectSize,Z=J.getOrient().index,X=Vt[Z],W=Rt[Z],F=this._findTargetItemIndex(K),H=Y.children(),B=H[F],z=H.length,A=!z?0:1,R={contentPosition:[Y.x,Y.y],pageCount:A,pageIndex:A-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!B)return R;var G=j(B);R.contentPosition[Z]=-G.s;for(var w=F+1,T=G,D=G,P=null;w<=z;++w){if(P=j(H[w]),!P&&D.e>T.s+q||P&&!E(P,T.s)){if(D.i>T.i)T=D;else T=P;if(T){if(R.pageNextDataIndex==null)R.pageNextDataIndex=T.i;++R.pageCount}}D=P}for(var w=F-1,T=G,D=G,P=null;w>=-1;--w){if(P=j(H[w]),(!P||!E(D,P.s))&&T.i<D.i){if(D=T,R.pagePrevDataIndex==null)R.pagePrevDataIndex=T.i;++R.pageCount,++R.pageIndex}T=P}return R;function j(L){if(L){var h=L.getBoundingRect(),_=h[W]+L[W];return{s:_,e:_+h[X],i:L.__legendDataIndex}}}function E(L,h){return L.e>=h&&L.s<=h+q}},Q.prototype._findTargetItemIndex=function(J){if(!this._showController)return 0;var K,Y=this.getContentGroup(),q;return Y.eachChild(function(Z,X){var W=Z.__legendDataIndex;if(q==null&&W!=null)q=X;if(W===J)K=X}),K!=null?K:q},Q.type="legend.scroll",Q}(aS),kS0=mA1;function Gt($){$.registerAction("legendScroll","legendscroll",function(Q,J){var K=Q.scrollDataIndex;K!=null&&J.eachComponent({mainType:"legend",subType:"scroll",query:Q},function(Y){Y.setScrollDataIndex(K)})})}function jS0($){R1(tS),$.registerComponentModel(CS0),$.registerComponentView(kS0),Gt($)}function wt($){R1(tS),R1(jS0)}var pA1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="dataZoom.inside",Q.defaultOption=i8(J2.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),Q}(J2),ES0=pA1;var Ot=n0();function LS0($,Q,J){Ot($).coordSysRecordMap.each(function(K){var Y=K.dataZoomInfoMap.get(Q.uid);if(Y)Y.getRange=J})}function hS0($,Q){var J=Ot($).coordSysRecordMap,K=J.keys();for(var Y=0;Y<K.length;Y++){var q=K[Y],Z=J.get(q),X=Z.dataZoomInfoMap;if(X){var W=Q.uid,F=X.get(W);if(F){if(X.removeKey(W),!X.keys().length)vS0(J,Z)}}}}function vS0($,Q){if(Q){$.removeKey(Q.model.uid);var J=Q.controller;J&&J.dispose()}}function dA1($,Q){var J={model:Q,containsPoint:a0(lA1,Q),dispatchAction:a0(nA1,$),dataZoomInfoMap:null,controller:null},K=J.controller=new N9($.getZr());return v(["pan","zoom","scrollMove"],function(Y){K.on(Y,function(q){var Z=[];J.dataZoomInfoMap.each(function(X){if(!q.isAvailableBehavior(X.model.option))return;var W=(X.getRange||{})[Y],F=W&&W(X.dzReferCoordSysInfo,J.model.mainType,J.controller,q);!X.model.get("disabled",!0)&&F&&Z.push({dataZoomId:X.model.id,start:F[0],end:F[1]})}),Z.length&&J.dispatchAction(Z)})}),J}function nA1($,Q){if(!$.isDisposed())$.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:Q})}function lA1($,Q,J,K){return $.coordinateSystem.containPoint([J,K])}function rA1($,Q,J){var K,Y="type_",q={type_true:2,type_move:1,type_false:0,type_undefined:-1},Z=!0;return $.each(function(X){var W=X.model,F=W.get("disabled",!0)?!1:W.get("zoomLock",!0)?"move":!0;if(q[Y+F]>q[Y+K])K=F;Z=Z&&W.get("preventDefaultMouseMove",!0)}),{controlType:K,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!Z,api:J,zInfo:{component:Q.model},triggerInfo:{roamTrigger:null,isInSelf:Q.containsPoint}}}}function SS0($){$.registerProcessor($.PRIORITY.PROCESSOR.FILTER,function(Q,J){var K=Ot(J),Y=K.coordSysRecordMap||(K.coordSysRecordMap=L0());Y.each(function(q){q.dataZoomInfoMap=null}),Q.eachComponent({mainType:"dataZoom",subType:"inside"},function(q){var Z=fS(q);v(Z.infoList,function(X){var W=X.model.uid,F=Y.get(W)||Y.set(W,dA1(J,X.model)),H=F.dataZoomInfoMap||(F.dataZoomInfoMap=L0());H.set(q.uid,{dzReferCoordSysInfo:X,model:q,getRange:null})})}),Y.each(function(q){var Z=q.controller,X,W=q.dataZoomInfoMap;if(W){var F=W.keys()[0];if(F!=null)X=W.get(F)}if(!X){vS0(Y,q);return}var H=rA1(W,q,J);Z.enable(H.controlType,H.opt),Y$(q,"dispatchAction",X.model.get("throttle",!0),"fixRate")})})}var sA1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type="dataZoom.inside",J}return Q.prototype.render=function(J,K,Y){if($.prototype.render.apply(this,arguments),J.noTarget()){this._clear();return}this.range=J.getPercentRange(),LS0(Y,J,{pan:O0(Tt.pan,this),zoom:O0(Tt.zoom,this),scrollMove:O0(Tt.scrollMove,this)})},Q.prototype.dispose=function(){this._clear(),$.prototype.dispose.apply(this,arguments)},Q.prototype._clear=function(){hS0(this.api,this.dataZoomModel),this.range=null},Q.type="dataZoom.inside",Q}(LB),Tt={zoom:function($,Q,J,K){var Y=this.range,q=Y.slice(),Z=$.axisModels[0];if(!Z)return;var X=Dt[Q](null,[K.originX,K.originY],Z,J,$),W=(X.signal>0?X.pixelStart+X.pixelLength-X.pixel:X.pixel-X.pixelStart)/X.pixelLength*(q[1]-q[0])+q[0],F=Math.max(1/K.scale,0);q[0]=(q[0]-W)*F+W,q[1]=(q[1]-W)*F+W;var H=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(j4(0,q,[0,100],0,H.minSpan,H.maxSpan),this.range=q,Y[0]!==q[0]||Y[1]!==q[1])return q},pan:_S0(function($,Q,J,K,Y,q){var Z=Dt[K]([q.oldX,q.oldY],[q.newX,q.newY],Q,Y,J);return Z.signal*($[1]-$[0])*Z.pixel/Z.pixelLength}),scrollMove:_S0(function($,Q,J,K,Y,q){var Z=Dt[K]([0,0],[q.scrollDelta,q.scrollDelta],Q,Y,J);return Z.signal*($[1]-$[0])*q.scrollDelta})};function _S0($){return function(Q,J,K,Y){var q=this.range,Z=q.slice(),X=Q.axisModels[0];if(!X)return;var W=$(Z,X,Q,J,K,Y);if(j4(W,Z,[0,100],"all"),this.range=Z,q[0]!==Z[0]||q[1]!==Z[1])return Z}}var Dt={grid:function($,Q,J,K,Y){var q=J.axis,Z={},X=Y.model.coordinateSystem.getRect();if($=$||[0,0],q.dim==="x")Z.pixel=Q[0]-$[0],Z.pixelLength=X.width,Z.pixelStart=X.x,Z.signal=q.inverse?1:-1;else Z.pixel=Q[1]-$[1],Z.pixelLength=X.height,Z.pixelStart=X.y,Z.signal=q.inverse?-1:1;return Z},polar:function($,Q,J,K,Y){var q=J.axis,Z={},X=Y.model.coordinateSystem,W=X.getRadiusAxis().getExtent(),F=X.getAngleAxis().getExtent();if($=$?X.pointToCoord($):[0,0],Q=X.pointToCoord(Q),J.mainType==="radiusAxis")Z.pixel=Q[0]-$[0],Z.pixelLength=W[1]-W[0],Z.pixelStart=W[0],Z.signal=q.inverse?1:-1;else Z.pixel=Q[1]-$[1],Z.pixelLength=F[1]-F[0],Z.pixelStart=F[0],Z.signal=q.inverse?-1:1;return Z},singleAxis:function($,Q,J,K,Y){var q=J.axis,Z=Y.model.coordinateSystem.getRect(),X={};if($=$||[0,0],q.orient==="horizontal")X.pixel=Q[0]-$[0],X.pixelLength=Z.width,X.pixelStart=Z.x,X.signal=q.inverse?1:-1;else X.pixel=Q[1]-$[1],X.pixelLength=Z.height,X.pixelStart=Z.y,X.signal=q.inverse?-1:1;return X}},fS0=sA1;function yw($){VF($),$.registerComponentModel(ES0),$.registerComponentView(fS0),SS0($)}var oA1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.type="dataZoom.slider",Q.layoutMode="box",Q.defaultOption=i8(J2.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:a.color.accent10,borderRadius:0,backgroundColor:a.color.transparent,dataBackground:{lineStyle:{color:a.color.accent30,width:0.5},areaStyle:{color:a.color.accent20,opacity:0.2}},selectedDataBackground:{lineStyle:{color:a.color.accent40,width:0.5},areaStyle:{color:a.color.accent20,opacity:0.3}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:a.color.neutral00,borderColor:a.color.accent20},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:a.color.accent40,opacity:0.5},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:a.color.tertiary},brushSelect:!0,brushStyle:{color:a.color.accent30,opacity:0.3},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:a.color.accent40},moveHandleStyle:{opacity:0.8}},defaultLocationEdgeGap:15}),Q}(J2),IS0=oA1;var xw=Q1,aA1=1,Ct=30,tA1=7,cw="horizontal",MS0="vertical",eA1=5,$V1=["line","bar","candlestick","scatter"],QV1={easing:"cubicOut",duration:100,delay:0},JV1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J._displayables={},J}return Q.prototype.init=function(J,K){this.api=K,this._onBrush=O0(this._onBrush,this),this._onBrushEnd=O0(this._onBrushEnd,this)},Q.prototype.render=function(J,K,Y,q){if($.prototype.render.apply(this,arguments),Y$(this,"_dispatchZoomAction",J.get("throttle"),"fixRate"),this._orient=J.getOrient(),J.get("show")===!1){this.group.removeAll();return}if(J.noTarget()){this._clear(),this.group.removeAll();return}if(!q||q.type!=="dataZoom"||q.from!==this.uid)this._buildView();this._updateView()},Q.prototype.dispose=function(){this._clear(),$.prototype.dispose.apply(this,arguments)},Q.prototype._clear=function(){wY(this,"_dispatchZoomAction");var J=this.api.getZr();J.off("mousemove",this._onBrush),J.off("mouseup",this._onBrushEnd)},Q.prototype._buildView=function(){var J=this.group;J.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var K=this._displayables.sliderGroup=new _0;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),J.add(K),this._positionGroup()},Q.prototype._resetLocation=function(){var J=this.dataZoomModel,K=this.api,Y=J.get("brushSelect"),q=Y?tA1:0,Z=D5(J,K).refContainer,X=this._findCoordRect(),W=J.get("defaultLocationEdgeGap",!0)||0,F=this._orient===cw?{right:Z.width-X.x-X.width,top:Z.height-Ct-W-q,width:X.width,height:Ct}:{right:W,top:X.y,width:Ct,height:X.height},H=Y9(J.option);v(["right","top","width","height"],function(z){if(H[z]==="ph")H[z]=F[z]});var B=e1(H,Z);this._location={x:B.x,y:B.y},this._size=[B.width,B.height],this._orient===MS0&&this._size.reverse()},Q.prototype._positionGroup=function(){var J=this.group,K=this._location,Y=this._orient,q=this.dataZoomModel.getFirstTargetAxisModel(),Z=q&&q.get("inverse"),X=this._displayables.sliderGroup,W=(this._dataShadowInfo||{}).otherAxisInverse;X.attr(Y===cw&&!Z?{scaleY:W?1:-1,scaleX:1}:Y===cw&&Z?{scaleY:W?1:-1,scaleX:-1}:Y===MS0&&!Z?{scaleY:W?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:W?-1:1,scaleX:-1,rotation:Math.PI/2});var F=J.getBoundingRect([X]);J.x=K.x-F.x,J.y=K.y-F.y,J.markRedraw()},Q.prototype._getViewExtent=function(){return[0,this._size[0]]},Q.prototype._renderBackground=function(){var J=this.dataZoomModel,K=this._size,Y=this._displayables.sliderGroup,q=J.get("brushSelect");Y.add(new xw({silent:!0,shape:{x:0,y:0,width:K[0],height:K[1]},style:{fill:J.get("backgroundColor")},z2:-40}));var Z=new xw({shape:{x:0,y:0,width:K[0],height:K[1]},style:{fill:"transparent"},z2:0,onclick:O0(this._onClickPanel,this)}),X=this.api.getZr();if(q)Z.on("mousedown",this._onBrushStart,this),Z.cursor="crosshair",X.on("mousemove",this._onBrush),X.on("mouseup",this._onBrushEnd);else X.off("mousemove",this._onBrush),X.off("mouseup",this._onBrushEnd);Y.add(Z)},Q.prototype._renderDataShadow=function(){var J=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!J)return;var K=this._size,Y=this._shadowSize||[],q=J.series,Z=q.getRawData(),X=q.getShadowDim&&q.getShadowDim(),W=X&&Z.getDimensionInfo(X)?q.getShadowDim():J.otherDim;if(W==null)return;var F=this._shadowPolygonPts,H=this._shadowPolylinePts;if(Z!==this._shadowData||W!==this._shadowDim||K[0]!==Y[0]||K[1]!==Y[1]){var B=Z.getDataExtent(J.thisDim),z=Z.getDataExtent(W),A=(z[1]-z[0])*0.3;z=[z[0]-A,z[1]+A];var R=[0,K[1]],G=[0,K[0]],w=[[K[0],0],[0,0]],T=[],D=G[1]/Math.max(1,Z.count()-1),P=K[0]/(B[1]-B[0]),j=J.thisAxis.type==="time",E=-D,L=Math.round(Z.count()/K[0]),h;Z.each([J.thisDim,W],function(y,b,u){if(L>0&&u%L){if(!j)E+=D;return}E=j?(+y-B[0])*P:E+D;var c=b==null||isNaN(b)||b==="",m=c?0:a1(b,z,R,!0);if(c&&!h&&u)w.push([w[w.length-1][0],0]),T.push([T[T.length-1][0],0]);else if(!c&&h)w.push([E,0]),T.push([E,0]);if(!c)w.push([E,m]),T.push([E,m]);h=c}),F=this._shadowPolygonPts=w,H=this._shadowPolylinePts=T}this._shadowData=Z,this._shadowDim=W,this._shadowSize=[K[0],K[1]];var _=this.dataZoomModel;function S(y){var b=_.getModel(y?"selectedDataBackground":"dataBackground"),u=new _0,c=new z6({shape:{points:F},segmentIgnoreThreshold:1,style:b.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),m=new K6({shape:{points:H},segmentIgnoreThreshold:1,style:b.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return u.add(c),u.add(m),u}for(var I=0;I<3;I++){var M=S(I===1);this._displayables.sliderGroup.add(M),this._displayables.dataShadowSegs.push(M)}},Q.prototype._prepareDataShadowInfo=function(){var J=this.dataZoomModel,K=J.get("showDataShadow");if(K===!1)return;var Y,q=this.ecModel;return J.eachTargetAxis(function(Z,X){var W=J.getAxisProxy(Z,X).getTargetSeriesModels();v(W,function(F){if(Y)return;if(K!==!0&&o0($V1,F.get("type"))<0)return;var H=q.getComponent(B$(Z),X).axis,B=KV1(Z),z,A=F.coordinateSystem;if(B!=null&&A.getOtherAxis)z=A.getOtherAxis(H).inverse;B=F.getData().mapDimension(B);var R=F.getData().mapDimension(Z);Y={thisAxis:H,series:F,thisDim:R,otherDim:B,otherAxisInverse:z}},this)},this),Y},Q.prototype._renderHandle=function(){var J=this.group,K=this._displayables,Y=K.handles=[null,null],q=K.handleLabels=[null,null],Z=this._displayables.sliderGroup,X=this._size,W=this.dataZoomModel,F=this.api,H=W.get("borderRadius")||0,B=W.get("brushSelect"),z=K.filler=new xw({silent:B,style:{fill:W.get("fillerColor")},textConfig:{position:"inside"}});Z.add(z),Z.add(new xw({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:X[0],height:X[1],r:H},style:{stroke:W.get("dataBackgroundColor")||W.get("borderColor"),lineWidth:aA1,fill:a.color.transparent}})),v([0,1],function(P){var j=W.get("handleIcon");if(!hG[j]&&j.indexOf("path://")<0&&j.indexOf("image://")<0)j="path://"+j,z4("handleIcon now needs 'path://' prefix when using a path string");var E=j5(j,-1,0,2,2,null,!0);E.attr({cursor:YV1(this._orient),draggable:!0,drift:O0(this._onDragMove,this,P),ondragend:O0(this._onDragEnd,this),onmouseover:O0(this._showDataInfo,this,!0),onmouseout:O0(this._showDataInfo,this,!1),z2:5});var L=E.getBoundingRect(),h=W.get("handleSize");this._handleHeight=h0(h,this._size[1]),this._handleWidth=L.width/L.height*this._handleHeight,E.setStyle(W.getModel("handleStyle").getItemStyle()),E.style.strokeNoScale=!0,E.rectHover=!0,E.ensureState("emphasis").style=W.getModel(["emphasis","handleStyle"]).getItemStyle(),fJ(E);var _=W.get("handleColor");if(_!=null)E.style.fill=_;Z.add(Y[P]=E);var S=W.getModel("textStyle"),I=W.get("handleLabel")||{},M=I.show||!1;J.add(q[P]=new w1({silent:!0,invisible:!M,style:Z5(S,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:S.getTextColor(),font:S.getFont()}),z2:10}))},this);var A=z;if(B){var R=h0(W.get("moveHandleSize"),X[1]),G=K.moveHandle=new Q1({style:W.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:X[1]-0.5,height:R}}),w=R*0.8,T=K.moveHandleIcon=j5(W.get("moveHandleIcon"),-w/2,-w/2,w,w,a.color.neutral00,!0);T.silent=!0,T.y=X[1]+R/2-0.5,G.ensureState("emphasis").style=W.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var D=Math.min(X[1]/2,Math.max(R,10));A=K.moveZone=new Q1({invisible:!0,shape:{y:X[1]-D,height:R+D}}),A.on("mouseover",function(){F.enterEmphasis(G)}).on("mouseout",function(){F.leaveEmphasis(G)}),Z.add(G),Z.add(T),Z.add(A)}A.attr({draggable:!0,cursor:"default",drift:O0(this._onDragMove,this,"all"),ondragstart:O0(this._showDataInfo,this,!0),ondragend:O0(this._onDragEnd,this),onmouseover:O0(this._showDataInfo,this,!0),onmouseout:O0(this._showDataInfo,this,!1)})},Q.prototype._resetInterval=function(){var J=this._range=this.dataZoomModel.getPercentRange(),K=this._getViewExtent();this._handleEnds=[a1(J[0],[0,100],K,!0),a1(J[1],[0,100],K,!0)]},Q.prototype._updateInterval=function(J,K){var Y=this.dataZoomModel,q=this._handleEnds,Z=this._getViewExtent(),X=Y.findRepresentativeAxisProxy().getMinMaxSpan(),W=[0,100];j4(K,q,Z,Y.get("zoomLock")?"all":J,X.minSpan!=null?a1(X.minSpan,W,Z,!0):null,X.maxSpan!=null?a1(X.maxSpan,W,Z,!0):null);var F=this._range,H=this._range=I7([a1(q[0],Z,W,!0),a1(q[1],Z,W,!0)]);return!F||F[0]!==H[0]||F[1]!==H[1]},Q.prototype._updateView=function(J){var K=this._displayables,Y=this._handleEnds,q=I7(Y.slice()),Z=this._size;v([0,1],function(A){var R=K.handles[A],G=this._handleHeight;R.attr({scaleX:G/2,scaleY:G/2,x:Y[A]+(A?-1:1),y:Z[1]/2-G/2})},this),K.filler.setShape({x:q[0],y:0,width:q[1]-q[0],height:Z[1]});var X={x:q[0],width:q[1]-q[0]};if(K.moveHandle)K.moveHandle.setShape(X),K.moveZone.setShape(X),K.moveZone.getBoundingRect(),K.moveHandleIcon&&K.moveHandleIcon.attr("x",X.x+X.width/2);var W=K.dataShadowSegs,F=[0,q[0],q[1],Z[0]];for(var H=0;H<W.length;H++){var B=W[H],z=B.getClipPath();if(!z)z=new Q1,B.setClipPath(z);z.setShape({x:F[H],y:0,width:F[H+1]-F[H],height:Z[1]})}this._updateDataInfo(J)},Q.prototype._updateDataInfo=function(J){var K=this.dataZoomModel,Y=this._displayables,q=Y.handleLabels,Z=this._orient,X=["",""];if(K.get("showDetail")){var W=K.findRepresentativeAxisProxy();if(W){var F=W.getAxisModel().axis,H=this._range,B=J?W.calculateDataWindow({start:H[0],end:H[1]}).valueWindow:W.getDataValueWindow();X=[this._formatLabel(B[0],F),this._formatLabel(B[1],F)]}}var z=I7(this._handleEnds.slice());A.call(this,0),A.call(this,1);function A(R){var G=KQ(Y.handles[R].parent,this.group),w=fW(R===0?"right":"left",G),T=this._handleWidth/2+eA1,D=k8([z[R]+(R===0?-T:T),this._size[1]/2],G);q[R].setStyle({x:D[0],y:D[1],verticalAlign:Z===cw?"middle":w,align:Z===cw?w:"center",text:X[R]})}},Q.prototype._formatLabel=function(J,K){var Y=this.dataZoomModel,q=Y.get("labelFormatter"),Z=Y.get("labelPrecision");if(Z==null||Z==="auto")Z=K.getPixelPrecision();var X=J==null||isNaN(J)?"":K.type==="category"||K.type==="time"?K.scale.getLabel({value:Math.round(J)}):J.toFixed(Math.min(Z,20));return v0(q)?q(J,X):B0(q)?q.replace("{value}",X):X},Q.prototype._showDataInfo=function(J){var K=this.dataZoomModel.get("handleLabel")||{},Y=K.show||!1,q=this.dataZoomModel.getModel(["emphasis","handleLabel"]),Z=q.get("show")||!1,X=J||this._dragging?Z:Y,W=this._displayables,F=W.handleLabels;F[0].attr("invisible",!X),F[1].attr("invisible",!X),W.moveHandle&&this.api[X?"enterEmphasis":"leaveEmphasis"](W.moveHandle,1)},Q.prototype._onDragMove=function(J,K,Y,q){this._dragging=!0,r4(q.event);var Z=this._displayables.sliderGroup.getLocalTransform(),X=k8([K,Y],Z,!0),W=this._updateInterval(J,X[0]),F=this.dataZoomModel.get("realtime");this._updateView(!F),W&&F&&this._dispatchZoomAction(!0)},Q.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var J=this.dataZoomModel.get("realtime");!J&&this._dispatchZoomAction(!1)},Q.prototype._onClickPanel=function(J){var K=this._size,Y=this._displayables.sliderGroup.transformCoordToLocal(J.offsetX,J.offsetY);if(Y[0]<0||Y[0]>K[0]||Y[1]<0||Y[1]>K[1])return;var q=this._handleEnds,Z=(q[0]+q[1])/2,X=this._updateInterval("all",Y[0]-Z);this._updateView(),X&&this._dispatchZoomAction(!1)},Q.prototype._onBrushStart=function(J){var{offsetX:K,offsetY:Y}=J;this._brushStart=new e0(K,Y),this._brushing=!0,this._brushStartTime=+new Date},Q.prototype._onBrushEnd=function(J){if(!this._brushing)return;var K=this._displayables.brushRect;if(this._brushing=!1,!K)return;K.attr("ignore",!0);var Y=K.shape,q=+new Date;if(q-this._brushStartTime<200&&Math.abs(Y.width)<5)return;var Z=this._getViewExtent(),X=[0,100],W=this._handleEnds=[Y.x,Y.x+Y.width],F=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();j4(0,W,Z,0,F.minSpan!=null?a1(F.minSpan,X,Z,!0):null,F.maxSpan!=null?a1(F.maxSpan,X,Z,!0):null),this._range=I7([a1(W[0],Z,X,!0),a1(W[1],Z,X,!0)]),this._updateView(),this._dispatchZoomAction(!1)},Q.prototype._onBrush=function(J){if(this._brushing)r4(J.event),this._updateBrushRect(J.offsetX,J.offsetY)},Q.prototype._updateBrushRect=function(J,K){var Y=this._displayables,q=this.dataZoomModel,Z=Y.brushRect;if(!Z)Z=Y.brushRect=new xw({silent:!0,style:q.getModel("brushStyle").getItemStyle()}),Y.sliderGroup.add(Z);Z.attr("ignore",!1);var X=this._brushStart,W=this._displayables.sliderGroup,F=W.transformCoordToLocal(J,K),H=W.transformCoordToLocal(X.x,X.y),B=this._size;F[0]=Math.max(Math.min(B[0],F[0]),0),Z.setShape({x:H[0],y:0,width:F[0]-H[0],height:B[1]})},Q.prototype._dispatchZoomAction=function(J){var K=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:J?QV1:null,start:K[0],end:K[1]})},Q.prototype._findCoordRect=function(){var J,K=fS(this.dataZoomModel).infoList;if(!J&&K.length){var Y=K[0].model.coordinateSystem;J=Y.getRect&&Y.getRect()}if(!J){var q=this.api.getWidth(),Z=this.api.getHeight();J={x:q*0.2,y:Z*0.2,width:q*0.6,height:Z*0.6}}return J},Q.type="dataZoom.slider",Q}(LB);function KV1($){var Q={x:"y",y:"x",radius:"angle",angle:"radius"};return Q[$]}function YV1($){return $==="vertical"?"ns-resize":"ew-resize"}var bS0=JV1;function uw($){$.registerComponentModel(IS0),$.registerComponentView(bS0),VF($)}function Pt($){R1(yw),R1(uw)}var qV1={get:function($,Q,J){var K=y0((ZV1[$]||{})[Q]);return J?J0(K)?K[K.length-1]:K:K}},ZV1={color:{active:["#006edd","#e0ffff"],inactive:[a.color.transparent]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[0.3,1],inactive:[0,0]},colorLightness:{active:[0.9,0.5],inactive:[0,0]},colorAlpha:{active:[0.3,1],inactive:[0,0]},opacity:{active:[0.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},eS=qV1;var gS0=d6.mapVisual,XV1=d6.eachVisual,WV1=J0,yS0=v,FV1=I7,UV1=a1,HV1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.stateList=["inRange","outOfRange"],J.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],J.layoutMode={type:"box",ignoreSize:!0},J.dataBound=[-1/0,1/0],J.targetVisuals={},J.controllerVisuals={},J}return Q.prototype.init=function(J,K,Y){this.mergeDefaultAndTheme(J,Y)},Q.prototype.optionUpdated=function(J,K){var Y=this.option;!K&&xS(Y,J,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},Q.prototype.resetVisual=function(J){var K=this.stateList;J=O0(J,this),this.controllerVisuals=fw(this.option.controller,K,J),this.targetVisuals=fw(this.option.target,K,J)},Q.prototype.getItemSymbol=function(){return null},Q.prototype.getTargetSeriesIndices=function(){var J=this.option.seriesId,K=this.option.seriesIndex;if(K==null&&J==null)K="all";var Y=jJ(this.ecModel,"series",{index:K,id:J},{useDefault:!1,enableAll:!0,enableNone:!1}).models;return K0(Y,function(q){return q.componentIndex})},Q.prototype.eachTargetSeries=function(J,K){v(this.getTargetSeriesIndices(),function(Y){var q=this.ecModel.getSeriesByIndex(Y);if(q)J.call(K,q)},this)},Q.prototype.isTargetSeries=function(J){var K=!1;return this.eachTargetSeries(function(Y){Y===J&&(K=!0)}),K},Q.prototype.formatValueText=function(J,K,Y){var q=this.option,Z=q.precision,X=this.dataBound,W=q.formatter,F;if(Y=Y||["<",">"],J0(J))J=J.slice(),F=!0;var H=K?J:F?[B(J[0]),B(J[1])]:B(J);if(B0(W))return W.replace("{value}",F?H[0]:H).replace("{value2}",F?H[1]:H);else if(v0(W))return F?W(J[0],J[1]):W(J);if(F)if(J[0]===X[0])return Y[0]+" "+H[1];else if(J[1]===X[1])return Y[1]+" "+H[0];else return H[0]+" - "+H[1];else return H;function B(z){return z===X[0]?"min":z===X[1]?"max":(+z).toFixed(Math.min(Z,20))}},Q.prototype.resetExtent=function(){var J=this.option,K=FV1([J.min,J.max]);this._dataExtent=K},Q.prototype.getDataDimensionIndex=function(J){var K=this.option.dimension;if(K!=null)return J.getDimensionIndex(K);var Y=J.dimensions;for(var q=Y.length-1;q>=0;q--){var Z=Y[q],X=J.getDimensionInfo(Z);if(!X.isCalculationCoord)return X.storeDimIndex}},Q.prototype.getExtent=function(){return this._dataExtent.slice()},Q.prototype.completeVisualOption=function(){var J=this.ecModel,K=this.option,Y={inRange:K.inRange,outOfRange:K.outOfRange},q=K.target||(K.target={}),Z=K.controller||(K.controller={});K1(q,Y),K1(Z,Y);var X=this.isCategory();W.call(this,q),W.call(this,Z),F.call(this,q,"inRange","outOfRange"),H.call(this,Z);function W(B){if(WV1(K.color)&&!B.inRange)B.inRange={color:K.color.slice().reverse()};B.inRange=B.inRange||{color:J.get("gradientColor")}}function F(B,z,A){var R=B[z],G=B[A];if(R&&!G)G=B[A]={},yS0(R,function(w,T){if(!d6.isValidType(T))return;var D=eS.get(T,"inactive",X);if(D!=null){if(G[T]=D,T==="color"&&!G.hasOwnProperty("opacity")&&!G.hasOwnProperty("colorAlpha"))G.opacity=[0,0]}})}function H(B){var z=(B.inRange||{}).symbol||(B.outOfRange||{}).symbol,A=(B.inRange||{}).symbolSize||(B.outOfRange||{}).symbolSize,R=this.get("inactiveColor"),G=this.getItemSymbol(),w=G||"roundRect";yS0(this.stateList,function(T){var D=this.itemSize,P=B[T];if(!P)P=B[T]={color:X?R:[R]};if(P.symbol==null)P.symbol=z&&y0(z)||(X?w:[w]);if(P.symbolSize==null)P.symbolSize=A&&y0(A)||(X?D[0]:[D[0],D[0]]);P.symbol=gS0(P.symbol,function(L){return L==="none"?w:L});var j=P.symbolSize;if(j!=null){var E=-1/0;XV1(j,function(L){L>E&&(E=L)}),P.symbolSize=gS0(j,function(L){return UV1(L,[0,E],[0,D[0]],!0)})}},this)}},Q.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},Q.prototype.isCategory=function(){return!!this.option.categories},Q.prototype.setSelected=function(J){},Q.prototype.getSelected=function(){return null},Q.prototype.getValueState=function(J){return null},Q.prototype.getVisualMeta=function(J){return null},Q.type="visualMap",Q.dependencies=["series"],Q.defaultOption={show:!0,z:4,min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:a.color.transparent,borderColor:a.color.borderTint,contentColor:a.color.theme[0],inactiveColor:a.color.disabled,borderWidth:0,padding:a.size.m,textGap:10,precision:0,textStyle:{color:a.color.secondary}},Q}(B1),fB=HV1;var xS0=[20,140],NV1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.optionUpdated=function(J,K){$.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(Y){Y.mappingMethod="linear",Y.dataExtent=this.getExtent()}),this._resetRange()},Q.prototype.resetItemSize=function(){$.prototype.resetItemSize.apply(this,arguments);var J=this.itemSize;(J[0]==null||isNaN(J[0]))&&(J[0]=xS0[0]),(J[1]==null||isNaN(J[1]))&&(J[1]=xS0[1])},Q.prototype._resetRange=function(){var J=this.getExtent(),K=this.option.range;if(!K||K.auto)J.auto=1,this.option.range=J;else if(J0(K)){if(K[0]>K[1])K.reverse();K[0]=Math.max(K[0],J[0]),K[1]=Math.min(K[1],J[1])}},Q.prototype.completeVisualOption=function(){$.prototype.completeVisualOption.apply(this,arguments),v(this.stateList,function(J){var K=this.option.controller[J].symbolSize;if(K&&K[0]!==K[1])K[0]=K[1]/3},this)},Q.prototype.setSelected=function(J){this.option.range=J.slice(),this._resetRange()},Q.prototype.getSelected=function(){var J=this.getExtent(),K=I7((this.get("range")||[]).slice());return K[0]>J[1]&&(K[0]=J[1]),K[1]>J[1]&&(K[1]=J[1]),K[0]<J[0]&&(K[0]=J[0]),K[1]<J[0]&&(K[1]=J[0]),K},Q.prototype.getValueState=function(J){var K=this.option.range,Y=this.getExtent(),q=f0(this.option.unboundedRange,!0);return(q&&K[0]<=Y[0]||K[0]<=J)&&(q&&K[1]>=Y[1]||J<=K[1])?"inRange":"outOfRange"},Q.prototype.findTargetDataIndices=function(J){var K=[];return this.eachTargetSeries(function(Y){var q=[],Z=Y.getData();Z.each(this.getDataDimensionIndex(Z),function(X,W){J[0]<=X&&X<=J[1]&&q.push(W)},this),K.push({seriesId:Y.id,dataIndex:q})},this),K},Q.prototype.getVisualMeta=function(J){var K=cS0(this,"outOfRange",this.getExtent()),Y=cS0(this,"inRange",this.option.range.slice()),q=[];function Z(A,R){q.push({value:A,color:J(A,R)})}var X=0,W=0,F=Y.length,H=K.length;for(;W<H&&(!Y.length||K[W]<=Y[0]);W++)if(K[W]<Y[X])Z(K[W],"outOfRange");for(var B=1;X<F;X++,B=0)B&&q.length&&Z(Y[X],"outOfRange"),Z(Y[X],"inRange");for(var B=1;W<H;W++)if(!Y.length||Y[Y.length-1]<K[W]){if(B)q.length&&Z(q[q.length-1].value,"outOfRange"),B=0;Z(K[W],"outOfRange")}var z=q.length;return{stops:q,outerColors:[z?q[0].color:"transparent",z?q[z-1].color:"transparent"]}},Q.type="visualMap.continuous",Q.defaultOption=i8(fB.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:a.color.neutral00,borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:a.color.neutral00,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:a.color.shadow}}),Q}(fB);function cS0($,Q,J){if(J[0]===J[1])return J.slice();var K=200,Y=(J[1]-J[0])/K,q=J[0],Z=[];for(var X=0;X<=K&&q<J[1];X++)Z.push(q),q+=Y;return Z.push(J[1]),Z}var uS0=NV1;var BV1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.autoPositionValues={left:1,right:1,top:1,bottom:1},J}return Q.prototype.init=function(J,K){this.ecModel=J,this.api=K},Q.prototype.render=function(J,K,Y,q){if(this.visualMapModel=J,J.get("show")===!1){this.group.removeAll();return}this.doRender(J,K,Y,q)},Q.prototype.renderBackground=function(J){var K=this.visualMapModel,Y=bJ(K.get("padding")||0),q=J.getBoundingRect();J.add(new Q1({z2:-1,silent:!0,shape:{x:q.x-Y[3],y:q.y-Y[0],width:q.width+Y[3]+Y[1],height:q.height+Y[0]+Y[2]},style:{fill:K.get("backgroundColor"),stroke:K.get("borderColor"),lineWidth:K.get("borderWidth")}}))},Q.prototype.getControllerVisual=function(J,K,Y){Y=Y||{};var q=Y.forceState,Z=this.visualMapModel,X={};if(K==="color"){var W=Z.get("contentColor");X.color=W}function F(A){return X[A]}function H(A,R){X[A]=R}var B=Z.controllerVisuals[q||Z.getValueState(J)],z=d6.prepareVisualTypes(B);return v(z,function(A){var R=B[A];if(Y.convertOpacityToAlpha&&A==="opacity")A="colorAlpha",R=B.__alphaForOpacity;if(d6.dependsOn(A,K))R&&R.applyVisual(J,F,H)}),X[K]},Q.prototype.positionGroup=function(J){var K=this.visualMapModel,Y=this.api,q=D5(K,Y).refContainer;hZ(J,K.getBoxLayoutParams(),q)},Q.prototype.doRender=function(J,K,Y,q){},Q.type="visualMap",Q}(p1),$_=BV1;var mS0=[["left","right","width"],["top","bottom","height"]];function Q_($,Q,J){var K=$.option,Y=K.align;if(Y!=null&&Y!=="auto")return Y;var q={width:Q.getWidth(),height:Q.getHeight()},Z=K.orient==="horizontal"?1:0,X=mS0[Z],W=[0,null,10],F={};for(var H=0;H<3;H++)F[mS0[1-Z][H]]=W[H],F[X[H]]=H===2?J[0]:K[X[H]];var B=[["x","width",3],["y","height",0]][Z],z=e1(F,q,K.padding);return X[(z.margin[B[2]]||0)+z[B[0]]+z[B[1]]*0.5<q[B[1]]*0.5?0:1]}function IB($,Q){return v($||[],function(J){if(J.dataIndex!=null)J.dataIndexInside=J.dataIndex,J.dataIndex=null;J.highlightKey="visualMap"+(Q?Q.componentIndex:"")}),$}var oJ=a1,zV1=v,dS0=Math.min,kt=Math.max,AV1=12,VV1=6,RV1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J._shapes={},J._dataInterval=[],J._handleEnds=[],J._hoverLinkDataIndices=[],J}return Q.prototype.init=function(J,K){$.prototype.init.call(this,J,K),this._hoverLinkFromSeriesMouseOver=O0(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=O0(this._hideIndicator,this)},Q.prototype.doRender=function(J,K,Y,q){if(!q||q.type!=="selectDataRange"||q.from!==this.uid)this._buildView()},Q.prototype._buildView=function(){this.group.removeAll();var J=this.visualMapModel,K=this.group;this._orient=J.get("orient"),this._useHandle=J.get("calculable"),this._resetInterval(),this._renderBar(K);var Y=J.get("text");this._renderEndsText(K,Y,0),this._renderEndsText(K,Y,1),this._updateView(!0),this.renderBackground(K),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(K)},Q.prototype._renderEndsText=function(J,K,Y){if(!K)return;var q=K[1-Y];q=q!=null?q+"":"";var Z=this.visualMapModel,X=Z.get("textGap"),W=Z.itemSize,F=this._shapes.mainGroup,H=this._applyTransform([W[0]/2,Y===0?-X:W[1]+X],F),B=this._applyTransform(Y===0?"bottom":"top",F),z=this._orient,A=this.visualMapModel.textStyleModel;this.group.add(new w1({style:Z5(A,{x:H[0],y:H[1],verticalAlign:A.get("verticalAlign")||(z==="horizontal"?"middle":B),align:A.get("align")||(z==="horizontal"?B:"center"),text:q})}))},Q.prototype._renderBar=function(J){var K=this.visualMapModel,Y=this._shapes,q=K.itemSize,Z=this._orient,X=this._useHandle,W=Q_(K,this.api,q),F=Y.mainGroup=this._createBarGroup(W),H=new _0;F.add(H),H.add(Y.outOfRange=nS0()),H.add(Y.inRange=nS0(null,X?rS0(this._orient):null,O0(this._dragHandle,this,"all",!1),O0(this._dragHandle,this,"all",!0))),H.setClipPath(new Q1({shape:{x:0,y:0,width:q[0],height:q[1],r:3}}));var B=K.textStyleModel.getTextRect(""),z=kt(B.width,B.height);if(X)Y.handleThumbs=[],Y.handleLabels=[],Y.handleLabelPoints=[],this._createHandle(K,F,0,q,z,Z),this._createHandle(K,F,1,q,z,Z);this._createIndicator(K,F,q,z,Z),J.add(F)},Q.prototype._createHandle=function(J,K,Y,q,Z,X){var W=O0(this._dragHandle,this,Y,!1),F=O0(this._dragHandle,this,Y,!0),H=C8(J.get("handleSize"),q[0]),B=j5(J.get("handleIcon"),-H/2,-H/2,H,H,null,!0),z=rS0(this._orient);B.attr({cursor:z,draggable:!0,drift:W,ondragend:F,onmousemove:function(T){r4(T.event)}}),B.x=q[0]/2,B.useStyle(J.getModel("handleStyle").getItemStyle()),B.setStyle({strokeNoScale:!0,strokeFirst:!0}),B.style.lineWidth*=2,B.ensureState("emphasis").style=J.getModel(["emphasis","handleStyle"]).getItemStyle(),FY(B,!0),K.add(B);var A=this.visualMapModel.textStyleModel,R=new w1({cursor:z,draggable:!0,drift:W,onmousemove:function(T){r4(T.event)},ondragend:F,style:Z5(A,{x:0,y:0,text:""})});R.ensureState("blur").style={opacity:0.1},R.stateTransition={duration:200},this.group.add(R);var G=[H,0],w=this._shapes;w.handleThumbs[Y]=B,w.handleLabelPoints[Y]=G,w.handleLabels[Y]=R},Q.prototype._createIndicator=function(J,K,Y,q,Z){var X=C8(J.get("indicatorSize"),Y[0]),W=j5(J.get("indicatorIcon"),-X/2,-X/2,X,X,null,!0);W.attr({cursor:"move",invisible:!0,silent:!0,x:Y[0]/2});var F=J.getModel("indicatorStyle").getItemStyle();if(W instanceof n5){var H=W.style;W.useStyle(Q0({image:H.image,x:H.x,y:H.y,width:H.width,height:H.height},F))}else W.useStyle(F);K.add(W);var B=this.visualMapModel.textStyleModel,z=new w1({silent:!0,invisible:!0,style:Z5(B,{x:0,y:0,text:""})});this.group.add(z);var A=[(Z==="horizontal"?q/2:VV1)+Y[0]/2,0],R=this._shapes;R.indicator=W,R.indicatorLabel=z,R.indicatorLabelPoint=A,this._firstShowIndicator=!0},Q.prototype._dragHandle=function(J,K,Y,q){if(!this._useHandle)return;if(this._dragging=!K,!K){var Z=this._applyTransform([Y,q],this._shapes.mainGroup,!0);this._updateInterval(J,Z[1]),this._hideIndicator(),this._updateView()}if(K===!this.visualMapModel.get("realtime"))this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()});if(K)!this._hovering&&this._clearHoverLinkToSeries();else if(lS0(this.visualMapModel))this._doHoverLinkToSeries(this._handleEnds[J],!1)},Q.prototype._resetInterval=function(){var J=this.visualMapModel,K=this._dataInterval=J.getSelected(),Y=J.getExtent(),q=[0,J.itemSize[1]];this._handleEnds=[oJ(K[0],Y,q,!0),oJ(K[1],Y,q,!0)]},Q.prototype._updateInterval=function(J,K){K=K||0;var Y=this.visualMapModel,q=this._handleEnds,Z=[0,Y.itemSize[1]];j4(K,q,Z,J,0);var X=Y.getExtent();this._dataInterval=[oJ(q[0],Z,X,!0),oJ(q[1],Z,X,!0)]},Q.prototype._updateView=function(J){var K=this.visualMapModel,Y=K.getExtent(),q=this._shapes,Z=[0,K.itemSize[1]],X=J?Z:this._handleEnds,W=this._createBarVisual(this._dataInterval,Y,X,"inRange"),F=this._createBarVisual(Y,Y,Z,"outOfRange");q.inRange.setStyle({fill:W.barColor}).setShape("points",W.barPoints),q.outOfRange.setStyle({fill:F.barColor}).setShape("points",F.barPoints),this._updateHandle(X,W)},Q.prototype._createBarVisual=function(J,K,Y,q){var Z={forceState:q,convertOpacityToAlpha:!0},X=this._makeColorGradient(J,Z),W=[this.getControllerVisual(J[0],"symbolSize",Z),this.getControllerVisual(J[1],"symbolSize",Z)],F=this._createBarPoints(Y,W);return{barColor:new o3(0,0,0,1,X),barPoints:F,handlesColor:[X[0].color,X[X.length-1].color]}},Q.prototype._makeColorGradient=function(J,K){var Y=100,q=[],Z=(J[1]-J[0])/Y;q.push({color:this.getControllerVisual(J[0],"color",K),offset:0});for(var X=1;X<Y;X++){var W=J[0]+Z*X;if(W>J[1])break;q.push({color:this.getControllerVisual(W,"color",K),offset:X/Y})}return q.push({color:this.getControllerVisual(J[1],"color",K),offset:1}),q},Q.prototype._createBarPoints=function(J,K){var Y=this.visualMapModel.itemSize;return[[Y[0]-K[0],J[0]],[Y[0],J[0]],[Y[0],J[1]],[Y[0]-K[1],J[1]]]},Q.prototype._createBarGroup=function(J){var K=this._orient,Y=this.visualMapModel.get("inverse");return new _0(K==="horizontal"&&!Y?{scaleX:J==="bottom"?1:-1,rotation:Math.PI/2}:K==="horizontal"&&Y?{scaleX:J==="bottom"?-1:1,rotation:-Math.PI/2}:K==="vertical"&&!Y?{scaleX:J==="left"?1:-1,scaleY:-1}:{scaleX:J==="left"?1:-1})},Q.prototype._updateHandle=function(J,K){if(!this._useHandle)return;var Y=this._shapes,q=this.visualMapModel,Z=Y.handleThumbs,X=Y.handleLabels,W=q.itemSize,F=q.getExtent(),H=this._applyTransform("left",Y.mainGroup);zV1([0,1],function(B){var z=Z[B];z.setStyle("fill",K.handlesColor[B]),z.y=J[B];var A=oJ(J[B],[0,W[1]],F,!0),R=this.getControllerVisual(A,"symbolSize");z.scaleX=z.scaleY=R/W[0],z.x=W[0]-R/2;var G=k8(Y.handleLabelPoints[B],KQ(z,this.group));if(this._orient==="horizontal"){var w=H==="left"||H==="top"?(W[0]-R)/2:(W[0]-R)/-2;G[1]+=w}X[B].setStyle({x:G[0],y:G[1],text:q.formatValueText(this._dataInterval[B]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",Y.mainGroup):"center"})},this)},Q.prototype._showIndicator=function(J,K,Y,q){var Z=this.visualMapModel,X=Z.getExtent(),W=Z.itemSize,F=[0,W[1]],H=this._shapes,B=H.indicator;if(!B)return;B.attr("invisible",!1);var z={convertOpacityToAlpha:!0},A=this.getControllerVisual(J,"color",z),R=this.getControllerVisual(J,"symbolSize"),G=oJ(J,X,F,!0),w=W[0]-R/2,T={x:B.x,y:B.y};B.y=G,B.x=w;var D=k8(H.indicatorLabelPoint,KQ(B,this.group)),P=H.indicatorLabel;P.attr("invisible",!1);var j=this._applyTransform("left",H.mainGroup),E=this._orient,L=E==="horizontal";P.setStyle({text:(Y?Y:"")+Z.formatValueText(K),verticalAlign:L?j:"middle",align:L?"center":j});var h={x:w,y:G,style:{fill:A}},_={style:{x:D[0],y:D[1]}};if(Z.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var S={duration:100,easing:"cubicInOut",additive:!0};B.x=T.x,B.y=T.y,B.animateTo(h,S),P.animateTo(_,S)}else B.attr(h),P.attr(_);this._firstShowIndicator=!1;var I=this._shapes.handleLabels;if(I)for(var M=0;M<I.length;M++)this.api.enterBlur(I[M])},Q.prototype._enableHoverLinkToSeries=function(){var J=this;this._shapes.mainGroup.on("mousemove",function(K){if(J._hovering=!0,!J._dragging){var Y=J.visualMapModel.itemSize,q=J._applyTransform([K.offsetX,K.offsetY],J._shapes.mainGroup,!0,!0);q[1]=dS0(kt(0,q[1]),Y[1]),J._doHoverLinkToSeries(q[1],0<=q[0]&&q[0]<=Y[0])}}).on("mouseout",function(){J._hovering=!1,!J._dragging&&J._clearHoverLinkToSeries()})},Q.prototype._enableHoverLinkFromSeries=function(){var J=this.api.getZr();if(this.visualMapModel.option.hoverLink)J.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),J.on("mouseout",this._hideIndicator,this);else this._clearHoverLinkFromSeries()},Q.prototype._doHoverLinkToSeries=function(J,K){var Y=this.visualMapModel,q=Y.itemSize;if(!Y.option.hoverLink)return;var Z=[0,q[1]],X=Y.getExtent();J=dS0(kt(Z[0],J),Z[1]);var W=GV1(Y,X,Z),F=[J-W,J+W],H=oJ(J,Z,X,!0),B=[oJ(F[0],Z,X,!0),oJ(F[1],Z,X,!0)];if(F[0]<Z[0]&&(B[0]=-1/0),F[1]>Z[1]&&(B[1]=1/0),K)if(B[0]===-1/0)this._showIndicator(H,B[1],"< ",W);else if(B[1]===1/0)this._showIndicator(H,B[0],"> ",W);else this._showIndicator(H,H," ",W);var z=this._hoverLinkDataIndices,A=[];if(K||lS0(Y))A=this._hoverLinkDataIndices=Y.findTargetDataIndices(B);var R=bV0(z,A);this._dispatchHighDown("downplay",IB(R[0],Y)),this._dispatchHighDown("highlight",IB(R[1],Y))},Q.prototype._hoverLinkFromSeriesMouseOver=function(J){var K;if(WQ(J.target,function(W){var F=m0(W);if(F.dataIndex!=null)return K=F,!0},!0),!K)return;var Y=this.ecModel.getSeriesByIndex(K.seriesIndex),q=this.visualMapModel;if(!q.isTargetSeries(Y))return;var Z=Y.getData(K.dataType),X=Z.getStore().get(q.getDataDimensionIndex(Z),K.dataIndex);if(!isNaN(X))this._showIndicator(X,X)},Q.prototype._hideIndicator=function(){var J=this._shapes;J.indicator&&J.indicator.attr("invisible",!0),J.indicatorLabel&&J.indicatorLabel.attr("invisible",!0);var K=this._shapes.handleLabels;if(K)for(var Y=0;Y<K.length;Y++)this.api.leaveBlur(K[Y])},Q.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var J=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",IB(J,this.visualMapModel)),J.length=0},Q.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var J=this.api.getZr();J.off("mouseover",this._hoverLinkFromSeriesMouseOver),J.off("mouseout",this._hideIndicator)},Q.prototype._applyTransform=function(J,K,Y,q){var Z=KQ(K,q?null:this.group);return J0(J)?k8(J,Z,Y):fW(J,Z,Y)},Q.prototype._dispatchHighDown=function(J,K){K&&K.length&&this.api.dispatchAction({type:J,batch:K})},Q.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},Q.type="visualMap.continuous",Q}($_);function nS0($,Q,J,K){return new z6({shape:{points:$},draggable:!!J,cursor:Q,drift:J,onmousemove:function(Y){r4(Y.event)},ondragend:K})}function GV1($,Q,J){var K=AV1/2,Y=$.get("hoverLinkDataSize");if(Y)K=oJ(Y,Q,J,!0)/2;return K}function lS0($){var Q=$.get("hoverLinkOnHandle");return!!(Q==null?$.get("realtime"):Q)}function rS0($){return $==="vertical"?"ns-resize":"ew-resize"}var iS0=RV1;var sS0={type:"selectDataRange",event:"dataRangeSelected",update:"update"},oS0=function($,Q){Q.eachComponent({mainType:"visualMap",query:$},function(J){J.setSelected($.selected)})};var aS0=[{createOnAllSeries:!0,reset:function($,Q){var J=[];return Q.eachComponent("visualMap",function(K){var Y=$.pipelineContext;if(!K.isTargetSeries($)||Y&&Y.large)return;J.push(yv0(K.stateList,K.targetVisuals,O0(K.getValueState,K),K.getDataDimensionIndex($.getData())))}),J}},{createOnAllSeries:!0,reset:function($,Q){var J=$.getData(),K=[];Q.eachComponent("visualMap",function(Y){if(Y.isTargetSeries($)){var q=Y.getVisualMeta(O0(wV1,null,$,Y))||{stops:[],outerColors:[]},Z=Y.getDataDimensionIndex(J);if(Z>=0)q.dimension=Z,K.push(q)}}),$.getData().setVisual("visualMeta",K)}}];function wV1($,Q,J,K){var Y=Q.targetVisuals[K],q=d6.prepareVisualTypes(Y),Z={color:xJ($.getData(),"color")};for(var X=0,W=q.length;X<W;X++){var F=q[X],H=Y[F==="opacity"?"__alphaForOpacity":F];H&&H.applyVisual(J,B,z)}return Z.color;function B(A){return Z[A]}function z(A,R){Z[A]=R}}var tS0=v;function jt($){var Q=$&&$.visualMap;if(!J0(Q))Q=Q?[Q]:[];tS0(Q,function(J){if(!J)return;if(MB(J,"splitList")&&!MB(J,"pieces"))J.pieces=J.splitList,delete J.splitList;var K=J.pieces;if(K&&J0(K))tS0(K,function(Y){if(I0(Y)){if(MB(Y,"start")&&!MB(Y,"min"))Y.min=Y.start;if(MB(Y,"end")&&!MB(Y,"max"))Y.max=Y.end}})})}function MB($,Q){return $&&$.hasOwnProperty&&$.hasOwnProperty(Q)}var eS0=!1;function mw($){if(eS0)return;eS0=!0,$.registerSubTypeDefaulter("visualMap",function(Q){return!Q.categories&&(!(Q.pieces?Q.pieces.length>0:Q.splitNumber>0)||Q.calculable)?"continuous":"piecewise"}),$.registerAction(sS0,oS0),v(aS0,function(Q){$.registerVisual($.PRIORITY.VISUAL.COMPONENT,Q)}),$.registerPreprocessor(jt)}function pw($){$.registerComponentModel(uS0),$.registerComponentView(iS0),mw($)}var OV1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J._pieceList=[],J}return Q.prototype.optionUpdated=function(J,K){$.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var Y=this._mode=this._determineMode();this._pieceList=[],TV1[this._mode].call(this,this._pieceList),this._resetSelected(J,K);var q=this.option.categories;this.resetVisual(function(Z,X){if(Y==="categories")Z.mappingMethod="category",Z.categories=y0(q);else Z.dataExtent=this.getExtent(),Z.mappingMethod="piecewise",Z.pieceList=K0(this._pieceList,function(W){if(W=y0(W),X!=="inRange")W.visual=null;return W})})},Q.prototype.completeVisualOption=function(){var J=this.option,K={},Y=d6.listVisualTypes(),q=this.isCategory();v(J.pieces,function(X){v(Y,function(W){if(X.hasOwnProperty(W))K[W]=1})}),v(K,function(X,W){var F=!1;v(this.stateList,function(H){F=F||Z(J,H,W)||Z(J.target,H,W)},this),!F&&v(this.stateList,function(H){(J[H]||(J[H]={}))[W]=eS.get(W,H==="inRange"?"active":"inactive",q)})},this);function Z(X,W,F){return X&&X[W]&&X[W].hasOwnProperty(F)}$.prototype.completeVisualOption.apply(this,arguments)},Q.prototype._resetSelected=function(J,K){var Y=this.option,q=this._pieceList,Z=(K?Y:J).selected||{};if(Y.selected=Z,v(q,function(W,F){var H=this.getSelectedMapKey(W);if(!Z.hasOwnProperty(H))Z[H]=!0},this),Y.selectedMode==="single"){var X=!1;v(q,function(W,F){var H=this.getSelectedMapKey(W);if(Z[H])X?Z[H]=!1:X=!0},this)}},Q.prototype.getItemSymbol=function(){return this.get("itemSymbol")},Q.prototype.getSelectedMapKey=function(J){return this._mode==="categories"?J.value+"":J.index+""},Q.prototype.getPieceList=function(){return this._pieceList},Q.prototype._determineMode=function(){var J=this.option;return J.pieces&&J.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},Q.prototype.setSelected=function(J){this.option.selected=y0(J)},Q.prototype.getValueState=function(J){var K=d6.findPieceIndex(J,this._pieceList);return K!=null?this.option.selected[this.getSelectedMapKey(this._pieceList[K])]?"inRange":"outOfRange":"outOfRange"},Q.prototype.findTargetDataIndices=function(J){var K=[],Y=this._pieceList;return this.eachTargetSeries(function(q){var Z=[],X=q.getData();X.each(this.getDataDimensionIndex(X),function(W,F){var H=d6.findPieceIndex(W,Y);H===J&&Z.push(F)},this),K.push({seriesId:q.id,dataIndex:Z})},this),K},Q.prototype.getRepresentValue=function(J){var K;if(this.isCategory())K=J.value;else if(J.value!=null)K=J.value;else{var Y=J.interval||[];K=Y[0]===-1/0&&Y[1]===1/0?0:(Y[0]+Y[1])/2}return K},Q.prototype.getVisualMeta=function(J){if(this.isCategory())return;var K=[],Y=["",""],q=this;function Z(H,B){var z=q.getRepresentValue({interval:H});if(!B)B=q.getValueState(z);var A=J(z,B);if(H[0]===-1/0)Y[0]=A;else if(H[1]===1/0)Y[1]=A;else K.push({value:H[0],color:A},{value:H[1],color:A})}var X=this._pieceList.slice();if(!X.length)X.push({interval:[-1/0,1/0]});else{var W=X[0].interval[0];W!==-1/0&&X.unshift({interval:[-1/0,W]}),W=X[X.length-1].interval[1],W!==1/0&&X.push({interval:[W,1/0]})}var F=-1/0;return v(X,function(H){var B=H.interval;if(B)B[0]>F&&Z([F,B[0]],"outOfRange"),Z(B.slice()),F=B[1]},this),{stops:K,outerColors:Y}},Q.type="visualMap.piecewise",Q.defaultOption=i8(fB.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),Q}(fB),TV1={splitNumber:function($){var Q=this.option,J=Math.min(Q.precision,20),K=this.getExtent(),Y=Q.splitNumber;Y=Math.max(parseInt(Y,10),1),Q.splitNumber=Y;var q=(K[1]-K[0])/Y;while(+q.toFixed(J)!==q&&J<5)J++;if(Q.precision=J,q=+q.toFixed(J),Q.minOpen)$.push({interval:[-1/0,K[0]],close:[0,0]});for(var Z=0,X=K[0];Z<Y;X+=q,Z++){var W=Z===Y-1?K[1]:X+q;$.push({interval:[X,W],close:[1,1]})}if(Q.maxOpen)$.push({interval:[K[1],1/0],close:[0,0]});Pd($),v($,function(F,H){F.index=H,F.text=this.formatValueText(F.interval)},this)},categories:function($){var Q=this.option;v(Q.categories,function(J){$.push({text:this.formatValueText(J,!0),value:J})},this),$_0(Q,$)},pieces:function($){var Q=this.option;v(Q.pieces,function(J,K){if(!I0(J))J={value:J};var Y={text:"",index:K};if(J.label!=null)Y.text=J.label;if(J.hasOwnProperty("value")){var q=Y.value=J.value;Y.interval=[q,q],Y.close=[1,1]}else{var Z=Y.interval=[],X=Y.close=[0,0],W=[1,0,1],F=[-1/0,1/0],H=[];for(var B=0;B<2;B++){var z=[["gte","gt","min"],["lte","lt","max"]][B];for(var A=0;A<3&&Z[B]==null;A++)Z[B]=J[z[A]],X[B]=W[A],H[B]=A===2;Z[B]==null&&(Z[B]=F[B])}if(H[0]&&Z[1]===1/0&&(X[0]=0),H[1]&&Z[0]===-1/0&&(X[1]=0),Z[0]>Z[1])console.warn("Piece "+K+"is illegal: "+Z+" lower bound should not greater then uppper bound.");if(Z[0]===Z[1]&&X[0]&&X[1])Y.value=Z[0]}Y.visual=d6.retrieveVisuals(J),$.push(Y)},this),$_0(Q,$),Pd($),v($,function(J){var K=J.close,Y=[["<",""][K[1]],[">",""][K[0]]];J.text=J.text||this.formatValueText(J.value!=null?J.value:J.interval,!1,Y)},this)}};function $_0($,Q){var J=$.inverse;if($.orient==="vertical"?!J:J)Q.reverse()}var Q_0=OV1;var DV1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.doRender=function(){var J=this.group;J.removeAll();var K=this.visualMapModel,Y=K.get("textGap"),q=K.textStyleModel,Z=this._getItemAlign(),X=K.itemSize,W=this._getViewData(),F=W.endsText,H=u5(K.get("showLabel",!0),!F),B=!K.get("selectedMode");F&&this._renderEndsText(J,F[0],X,H,Z),v(W.viewPieceList,function(z){var A=z.piece,R=new _0;R.onclick=O0(this._onItemClick,this,A),this._enableHoverLink(R,z.indexInModelPieceList);var G=K.getRepresentValue(A);if(this._createItemSymbol(R,G,[0,0,X[0],X[1]],B),H){var w=this.visualMapModel.getValueState(G),T=q.get("align")||Z;R.add(new w1({style:Z5(q,{x:T==="right"?-Y:X[0]+Y,y:X[1]/2,text:A.text,verticalAlign:q.get("verticalAlign")||"middle",align:T,opacity:f0(q.get("opacity"),w==="outOfRange"?0.5:1)}),silent:B}))}J.add(R)},this),F&&this._renderEndsText(J,F[1],X,H,Z),XQ(K.get("orient"),J,K.get("itemGap")),this.renderBackground(J),this.positionGroup(J)},Q.prototype._enableHoverLink=function(J,K){var Y=this;J.on("mouseover",function(){return q("highlight")}).on("mouseout",function(){return q("downplay")});var q=function(Z){var X=Y.visualMapModel;X.option.hoverLink&&Y.api.dispatchAction({type:Z,batch:IB(X.findTargetDataIndices(K),X)})}},Q.prototype._getItemAlign=function(){var J=this.visualMapModel,K=J.option;if(K.orient==="vertical")return Q_(J,this.api,J.itemSize);else{var Y=K.align;if(!Y||Y==="auto")Y="left";return Y}},Q.prototype._renderEndsText=function(J,K,Y,q,Z){if(!K)return;var X=new _0,W=this.visualMapModel.textStyleModel;X.add(new w1({style:Z5(W,{x:q?Z==="right"?Y[0]:0:Y[0]/2,y:Y[1]/2,verticalAlign:"middle",align:q?Z:"center",text:K})})),J.add(X)},Q.prototype._getViewData=function(){var J=this.visualMapModel,K=K0(J.getPieceList(),function(X,W){return{piece:X,indexInModelPieceList:W}}),Y=J.get("text"),q=J.get("orient"),Z=J.get("inverse");if(q==="horizontal"?Z:!Z)K.reverse();else if(Y)Y=Y.slice().reverse();return{viewPieceList:K,endsText:Y}},Q.prototype._createItemSymbol=function(J,K,Y,q){var Z=j5(this.getControllerVisual(K,"symbol"),Y[0],Y[1],Y[2],Y[3],this.getControllerVisual(K,"color"));Z.silent=q,J.add(Z)},Q.prototype._onItemClick=function(J){var K=this.visualMapModel,Y=K.option,q=Y.selectedMode;if(!q)return;var Z=y0(Y.selected),X=K.getSelectedMapKey(J);if(q==="single"||q===!0)Z[X]=!0,v(Z,function(W,F){Z[F]=F===X});else Z[X]=!Z[X];this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:Z})},Q.type="visualMap.piecewise",Q}($_),J_0=DV1;function dw($){$.registerComponentModel(Q_0),$.registerComponentView(J_0),mw($)}function Et($){R1(pw),R1(dw)}var K_0=function(){function $(Q){this._thumbnailModel=Q}return $.prototype.reset=function(Q){this._renderVersion=Q.getMainProcessVersion()},$.prototype.renderContent=function(Q){var J=Q.api.getViewOfComponentModel(this._thumbnailModel);if(!J)return;Q.group.silent=!0,J.renderContent({group:Q.group,targetTrans:Q.targetTrans,z2Range:Rn(Q.group),roamType:Q.roamType,viewportRect:Q.viewportRect,renderVersion:this._renderVersion})},$.prototype.updateWindow=function(Q,J){var K=J.getViewOfComponentModel(this._thumbnailModel);if(!K)return;K.updateWindow({targetTrans:Q,renderVersion:this._renderVersion})},$}();var Y_0=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J.preventAutoZ=!0,J}return Q.prototype.optionUpdated=function(J,K){this._updateBridge()},Q.prototype._updateBridge=function(){var J=this._birdge=this._birdge||new K_0(this);if(this._target=null,this.ecModel.eachSeries(function(Y){hs(Y,null)}),this.shouldShow()){var K=this.getTarget();hs(K.baseMapProvider,J)}},Q.prototype.shouldShow=function(){return this.getShallow("show",!0)},Q.prototype.getBridge=function(){return this._birdge},Q.prototype.getTarget=function(){if(this._target)return this._target;var J=this.getReferringComponents("series",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(J){if(J.subType!=="graph")J=null,P1("series."+J.subType+" is not supported in thumbnail.",!0)}else J=this.ecModel.queryComponents({mainType:"series",subType:"graph"})[0];return this._target={baseMapProvider:J},this._target},Q.type="thumbnail",Q.layoutMode="box",Q.dependencies=["series","geo"],Q.defaultOption={show:!0,right:1,bottom:1,height:"25%",width:"25%",itemStyle:{borderColor:a.color.border,borderWidth:2},windowStyle:{borderWidth:1,color:a.color.neutral30,borderColor:a.color.neutral40,opacity:0.3},z:10},Q}(B1);var X_0=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=Q.type,J}return Q.prototype.render=function(J,K,Y){if(this._api=Y,this._model=J,!this._coordSys)this._coordSys=new a9;if(!this._isEnabled()){this._clear();return}this._renderVersion=Y.getMainProcessVersion();var q=this.group;q.removeAll();var Z=J.getModel("itemStyle"),X=Z.getItemStyle();if(X.fill==null)X.fill=K.get("backgroundColor")||a.color.neutral00;var W=D5(J,Y).refContainer,F=e1(bL(J,!0),W),H=X.lineWidth||0,B=this._contentRect=t3(F.clone(),H/2,!0,!0),z=new _0;q.add(z),z.setClipPath(new Q1({shape:B.plain()}));var A=this._targetGroup=new _0;z.add(A);var R=F.plain();R.r=Z.getShallow("borderRadius",!0),q.add(this._bgRect=new Q1({style:X,shape:R,silent:!1,cursor:"grab"}));var G=J.getModel("windowStyle"),w=G.getShallow("borderRadius",!0);z.add(this._windowRect=new Q1({shape:{x:0,y:0,width:0,height:0,r:w},style:G.getItemStyle(),silent:!1,cursor:"grab"})),this._dealRenderContent(),this._dealUpdateWindow(),Z_0(J,this)},Q.prototype.renderContent=function(J){if(this._bridgeRendered=J,this._isEnabled())this._dealRenderContent(),this._dealUpdateWindow(),Z_0(this._model,this)},Q.prototype._dealRenderContent=function(){var J=this._bridgeRendered;if(!J||J.renderVersion!==this._renderVersion)return;var K=this._targetGroup,Y=this._coordSys,q=this._contentRect;if(K.removeAll(),!J)return;var Z=J.group,X=Z.getBoundingRect();K.add(Z),this._bgRect.z2=J.z2Range.min-10,Y.setBoundingRect(X.x,X.y,X.width,X.height);var W=e1({left:"center",top:"center",aspect:X.width/X.height},q);Y.setViewRect(W.x,W.y,W.width,W.height),Z.attr(Y.getTransformInfo().raw),this._windowRect.z2=J.z2Range.max+10,this._resetRoamController(J.roamType)},Q.prototype.updateWindow=function(J){var K=this._bridgeRendered;if(K&&K.renderVersion===J.renderVersion)K.targetTrans=J.targetTrans;if(this._isEnabled())this._dealUpdateWindow()},Q.prototype._dealUpdateWindow=function(){var J=this._bridgeRendered;if(!J||J.renderVersion!==this._renderVersion)return;var K=D7([],J.targetTrans),Y=T8([],this._coordSys.transform,K);this._transThisToTarget=D7([],Y);var q=J.viewportRect;if(!q)q=new u0(0,0,this._api.getWidth(),this._api.getHeight());else q=q.clone();q.applyTransform(Y);var Z=this._windowRect,X=Z.shape.r;Z.setShape(b0({r:X},q))},Q.prototype._resetRoamController=function(J){var K=this,Y=this._api,q=this._roamController;if(!q)q=this._roamController=new N9(Y.getZr());if(!J||!this._isEnabled()){q.disable();return}q.enable(J,{api:Y,zInfo:{component:this._model},triggerInfo:{roamTrigger:null,isInSelf:function(Z,X,W){return K._contentRect.contain(X,W)}}}),q.off("pan").off("zoom").on("pan",O0(this._onPan,this)).on("zoom",O0(this._onZoom,this))},Q.prototype._onPan=function(J){var K=this._transThisToTarget;if(!this._isEnabled()||!K)return;var Y=o5([],[J.oldX,J.oldY],K),q=o5([],[J.oldX-J.dx,J.oldY-J.dy],K);this._api.dispatchAction(q_0(this._model.getTarget().baseMapProvider,{dx:q[0]-Y[0],dy:q[1]-Y[1]}))},Q.prototype._onZoom=function(J){var K=this._transThisToTarget;if(!this._isEnabled()||!K)return;var Y=o5([],[J.originX,J.originY],K);this._api.dispatchAction(q_0(this._model.getTarget().baseMapProvider,{zoom:1/J.scale,originX:Y[0],originY:Y[1]}))},Q.prototype._isEnabled=function(){var J=this._model;if(!J||!J.shouldShow())return!1;var K=J.getTarget().baseMapProvider;if(!K)return!1;return!0},Q.prototype._clear=function(){if(this.group.removeAll(),this._bridgeRendered=null,this._roamController)this._roamController.disable()},Q.prototype.remove=function(){this._clear()},Q.prototype.dispose=function(){this._clear()},Q.type="thumbnail",Q}(p1);function q_0($,Q){var J=$.mainType==="series"?$.subType+"Roam":$.mainType+"Roam",K={type:J};return K[$.mainType+"Id"]=$.id,Q0(K,Q),K}function Z_0($,Q){var J=e3($);IW(Q.group,J.z,J.zlevel)}function Lt($){$.registerComponentModel(Y_0),$.registerComponentView(X_0)}var CV1={label:{enabled:!0},decal:{show:!1}},W_0=n0(),PV1={};function ht($,Q){var J=$.getModel("aria");if(!J.get("enabled"))return;var K=y0(CV1);K1(K.label,$.getLocaleModel().get("aria"),!1),K1(J.option,K,!1),Y(),q();function Y(){var F=J.getModel("decal"),H=F.get("show");if(H){var B=L0();$.eachSeries(function(z){if(z.isColorBySeries())return;var A=B.get(z.type);if(!A)A={},B.set(z.type,A);W_0(z).scope=A}),$.eachRawSeries(function(z){if($.isSeriesFiltered(z))return;if(v0(z.enableAriaDecal)){z.enableAriaDecal();return}var A=z.getData();if(!z.isColorBySeries()){var R=z.getRawData(),G={},w=W_0(z).scope;A.each(function(E){var L=A.getRawIndex(E);G[L]=E});var T=R.count();R.each(function(E){var L=G[E],h=R.getName(E)||E+"",_=AG(z.ecModel,h,w,T),S=A.getItemVisual(L,"decal");A.setItemVisual(L,"decal",j(S,_))})}else{var D=AG(z.ecModel,z.name,PV1,$.getSeriesCount()),P=A.getVisual("decal");A.setVisual("decal",j(P,D))}function j(E,L){var h=E?Q0(Q0({},L),E):L;return h.dirty=!0,h}})}}function q(){var F=Q.getZr().dom;if(!F)return;var H=$.getLocaleModel().get("aria"),B=J.getModel("label");if(B.option=b0(B.option,H),!B.get("enabled"))return;if(F.setAttribute("role","img"),B.get("description")){F.setAttribute("aria-label",B.get("description"));return}var z=$.getSeriesCount(),A=B.get(["data","maxCount"])||10,R=B.get(["series","maxCount"])||10,G=Math.min(z,R),w;if(z<1)return;else{var T=X();if(T){var D=B.get(["general","withTitle"]);w=Z(D,{title:T})}else w=B.get(["general","withoutTitle"]);var P=[],j=z>1?B.get(["series","multiple","prefix"]):B.get(["series","single","prefix"]);w+=Z(j,{seriesCount:z}),$.eachSeries(function(_,S){if(S<G){var I=void 0,M=_.get("name"),y=M?"withName":"withoutName";I=z>1?B.get(["series","multiple",y]):B.get(["series","single",y]),I=Z(I,{seriesId:_.seriesIndex,seriesName:_.get("name"),seriesType:W(_.subType)});var b=_.getData();if(b.count()>A){var u=B.get(["data","partialData"]);I+=Z(u,{displayCnt:A})}else I+=B.get(["data","allData"]);var c=B.get(["data","separator","middle"]),m=B.get(["data","separator","end"]),i=B.get(["data","excludeDimensionId"]),o=[];for(var n=0;n<b.count();n++)if(n<A){var e=b.getName(n),Z0=!i?b.getValues(n):j1(b.getValues(n),function(k0,c0){return o0(i,c0)===-1}),q0=B.get(["data",e?"withName":"withoutName"]);o.push(Z(q0,{name:e,value:Z0.join(c)}))}I+=o.join(c)+m,P.push(I)}});var E=B.getModel(["series","multiple","separator"]),L=E.get("middle"),h=E.get("end");w+=P.join(L)+h,F.setAttribute("aria-label",w)}}function Z(F,H){if(!B0(F))return F;var B=F;return v(H,function(z,A){B=B.replace(new RegExp("\\{\\s*"+A+"\\s*\\}","g"),z)}),B}function X(){var F=$.get("title");if(F&&F.length)F=F[0];return F&&F.text}function W(F){var H=$.getLocaleModel().get(["series","typeNames"]);return H[F]||H.chart}}function vt($){if(!$||!$.aria)return;var Q=$.aria;if(Q.show!=null)Q.enabled=Q.show;Q.label=Q.label||{},v(["description","general","series","data"],function(J){if(Q[J]!=null)Q.label[J]=Q[J]})}function St($){$.registerPreprocessor(vt),$.registerVisual($.PRIORITY.VISUAL.ARIA,ht)}var F_0={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},kV1=function(){function $(Q){var J=this._condVal=B0(Q)?new RegExp(Q):cj(Q)?Q:null;if(J==null){var K="";K=U7("Illegal regexp",Q,"in"),J5(K)}}return $.prototype.evaluate=function(Q){var J=typeof Q;return B0(J)?this._condVal.test(Q):U1(J)?this._condVal.test(Q+""):!1},$}(),jV1=function(){function $(){}return $.prototype.evaluate=function(){return this.value},$}(),EV1=function(){function $(){}return $.prototype.evaluate=function(){var Q=this.children;for(var J=0;J<Q.length;J++)if(!Q[J].evaluate())return!1;return!0},$}(),LV1=function(){function $(){}return $.prototype.evaluate=function(){var Q=this.children;for(var J=0;J<Q.length;J++)if(Q[J].evaluate())return!0;return!1},$}(),hV1=function(){function $(){}return $.prototype.evaluate=function(){return!this.child.evaluate()},$}(),vV1=function(){function $(){}return $.prototype.evaluate=function(){var Q=!!this.valueParser,J=this.getValue,K=J(this.valueGetterParam),Y=Q?this.valueParser(K):null;for(var q=0;q<this.subCondList.length;q++)if(!this.subCondList[q].evaluate(Q?Y:K))return!1;return!0},$}();function _t($,Q){if($===!0||$===!1){var J=new jV1;return J.value=$,J}var K="";if(!H_0($))K=U7("Illegal config. Expect a plain object but actually",$),J5(K);if($.and)return U_0("and",$,Q);else if($.or)return U_0("or",$,Q);else if($.not)return SV1($,Q);return _V1($,Q)}function U_0($,Q,J){var K=Q[$],Y="";if(Y=U7('"and"/"or" condition should only be `'+$+": [...]` and must not be empty array.","Illegal condition:",Q),!J0(K))J5(Y);if(!K.length)J5(Y);var q=$==="and"?new EV1:new LV1;if(q.children=K0(K,function(Z){return _t(Z,J)}),!q.children.length)J5(Y);return q}function SV1($,Q){var J=$.not,K="";if(K=U7('"not" condition should only be `not: {}`.',"Illegal condition:",$),!H_0(J))J5(K);var Y=new hV1;if(Y.child=_t(J,Q),!Y.child)J5(K);return Y}function _V1($,Q){var J="",K=Q.prepareGetValue($),Y=[],q=Z1($),Z=$.parser,X=Z?eL(Z):null;for(var W=0;W<q.length;W++){var F=q[W];if(F==="parser"||Q.valueGetterAttrMap.get(F))continue;var H=x0(F_0,F)?F_0[F]:F,B=$[F],z=X?X(B):B,A=Mw0(H,z)||H==="reg"&&new kV1(z);if(!A)J=U7('Illegal relational operation: "'+F+'" in condition:',$),J5(J);Y.push(A)}if(!Y.length)J=U7("Relational condition must have at least one operator.","Illegal condition:",$),J5(J);var R=new vV1;return R.valueGetterParam=K,R.valueParser=X,R.getValue=Q.getValue,R.subCondList=Y,R}function H_0($){return I0($)&&!c6($)}var fV1=function(){function $(Q,J){this._cond=_t(Q,J)}return $.prototype.evaluate=function(){return this._cond.evaluate()},$}();function N_0($,Q){return new fV1($,Q)}var B_0={type:"echarts:filter",transform:function($){var Q=$.upstream,J,K=N_0($.config,{valueGetterAttrMap:L0({dimension:!0}),prepareGetValue:function(X){var W="",F=X.dimension;if(!x0(X,"dimension"))W=U7('Relation condition must has prop "dimension" specified.',"Illegal condition:",X),J5(W);var H=Q.getDimensionInfo(F);if(!H)W=U7("Can not find dimension info via: "+F+`.
`,"Existing dimensions: ",Q.cloneAllDimensionInfo(),`.
`,"Illegal condition:",X,`.
`),J5(W);return{dimIdx:H.index}},getValue:function(X){return Q.retrieveValueFromItem(J,X.dimIdx)}}),Y=[];for(var q=0,Z=Q.count();q<Z;q++)if(J=Q.getRawDataItem(q),K.evaluate())Y.push(J);return{data:Y}}};var ft="";ft=["Valid config is like:",'{ dimension: "age", order: "asc" }','or [{ dimension: "age", order: "asc"], { dimension: "date", order: "desc" }]'].join(" ");var z_0={type:"echarts:sort",transform:function($){var{upstream:Q,config:J}=$,K="",Y=K5(J);if(!Y.length)K="Empty `config` in sort transform.",J5(K);var q=[];v(Y,function(H){var{dimension:B,order:z,parser:A,incomparable:R}=H;if(B==null)K='Sort transform config must has "dimension" specified.'+ft,J5(K);if(z!=="asc"&&z!=="desc")K='Sort transform config must has "order" specified.'+ft,J5(K);if(R&&R!=="min"&&R!=="max"){var G="";G='incomparable must be "min" or "max" rather than "'+R+'".',J5(G)}if(z!=="asc"&&z!=="desc"){var w="";w='order must be "asc" or "desc" rather than "'+z+'".',J5(w)}var T=Q.getDimensionInfo(B);if(!T)K=U7("Can not find dimension info via: "+B+`.
`,"Existing dimensions: ",Q.cloneAllDimensionInfo(),`.
`,"Illegal config:",H,`.
`),J5(K);var D=A?eL(A):null;if(A&&!D)K=U7("Invalid parser name "+A+`.
`,"Illegal config:",H,`.
`),J5(K);q.push({dimIdx:T.index,parser:D,comparator:new $h(z,R)})});var Z=Q.sourceFormat;if(Z!==p6&&Z!==q8)K='sourceFormat "'+Z+'" is not supported yet',J5(K);var X=[];for(var W=0,F=Q.count();W<F;W++)X.push(Q.getRawDataItem(W));return X.sort(function(H,B){for(var z=0;z<q.length;z++){var A=q[z],R=Q.retrieveValueFromItem(H,A.dimIdx),G=Q.retrieveValueFromItem(B,A.dimIdx);if(A.parser)R=A.parser(R),G=A.parser(G);var w=A.comparator.evaluate(R,G);if(w!==0)return w}return 0}),{data:X}}};function It($){$.registerTransform(B_0),$.registerTransform(z_0)}var IV1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type="dataset",J}return Q.prototype.init=function(J,K,Y){$.prototype.init.call(this,J,K,Y),this._sourceManager=new Jh(this),Xl(this)},Q.prototype.mergeOption=function(J,K){$.prototype.mergeOption.call(this,J,K),Xl(this)},Q.prototype.optionUpdated=function(){this._sourceManager.dirty()},Q.prototype.getSourceManager=function(){return this._sourceManager},Q.type="dataset",Q.defaultOption={seriesLayoutBy:w4},Q}(B1);var MV1=function($){x(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type="dataset",J}return Q.type="dataset",Q}(p1);function Mt($){$.registerComponentModel(IV1),$.registerComponentView(MV1)}var aJ=n7.CMD;function bB($,Q){return Math.abs($-Q)<0.00001}function J_($){var Q=$.data,J=$.len(),K=[],Y,q=0,Z=0,X=0,W=0;function F(b,u){if(Y&&Y.length>2)K.push(Y);Y=[b,u]}function H(b,u,c,m){if(!(bB(b,c)&&bB(u,m)))Y.push(b,u,c,m,c,m)}function B(b,u,c,m,i,o){var n=Math.abs(u-b),e=Math.tan(n/4)*4/3,Z0=u<b?-1:1,q0=Math.cos(b),k0=Math.sin(b),c0=Math.cos(u),J1=Math.sin(u),W1=q0*i+c,h1=k0*o+m,X1=c0*i+c,r0=J1*o+m,G1=i*e*Z0,l0=o*e*Z0;Y.push(W1-G1*k0,h1+l0*q0,X1+G1*J1,r0-l0*c0,X1,r0)}var z,A,R,G;for(var w=0;w<J;){var T=Q[w++],D=w===1;if(D){if(q=Q[w],Z=Q[w+1],X=q,W=Z,T===aJ.L||T===aJ.C||T===aJ.Q)Y=[X,W]}switch(T){case aJ.M:q=X=Q[w++],Z=W=Q[w++],F(X,W);break;case aJ.L:z=Q[w++],A=Q[w++],H(q,Z,z,A),q=z,Z=A;break;case aJ.C:Y.push(Q[w++],Q[w++],Q[w++],Q[w++],q=Q[w++],Z=Q[w++]);break;case aJ.Q:z=Q[w++],A=Q[w++],R=Q[w++],G=Q[w++],Y.push(q+0.6666666666666666*(z-q),Z+0.6666666666666666*(A-Z),R+0.6666666666666666*(z-R),G+0.6666666666666666*(A-G),R,G),q=R,Z=G;break;case aJ.A:var P=Q[w++],j=Q[w++],E=Q[w++],L=Q[w++],h=Q[w++],_=Q[w++]+h;w+=1;var S=!Q[w++];if(z=Math.cos(h)*E+P,A=Math.sin(h)*L+j,D)X=z,W=A,F(X,W);else H(q,Z,z,A);q=Math.cos(_)*E+P,Z=Math.sin(_)*L+j;var I=(S?-1:1)*Math.PI/2;for(var M=h;S?M>_:M<_;M+=I){var y=S?Math.max(M+I,_):Math.min(M+I,_);B(M,y,P,j,E,L)}break;case aJ.R:X=q=Q[w++],W=Z=Q[w++],z=X+Q[w++],A=W+Q[w++],F(z,W),H(z,W,z,A),H(z,A,X,A),H(X,A,X,W),H(X,W,z,W);break;case aJ.Z:Y&&H(q,Z,X,W),q=X,Z=W;break}}if(Y&&Y.length>2)K.push(Y);return K}function bt($,Q,J,K,Y,q,Z,X,W,F){if(bB($,J)&&bB(Q,K)&&bB(Y,Z)&&bB(q,X)){W.push(Z,X);return}var H=2/F,B=H*H,z=Z-$,A=X-Q,R=Math.sqrt(z*z+A*A);z/=R,A/=R;var G=J-$,w=K-Q,T=Y-Z,D=q-X,P=G*G+w*w,j=T*T+D*D;if(P<B&&j<B){W.push(Z,X);return}var E=z*G+A*w,L=-z*T-A*D,h=P-E*E,_=j-L*L;if(h<B&&E>=0&&_<B&&L>=0){W.push(Z,X);return}var S=[],I=[];m3($,J,Y,Z,0.5,S),m3(Q,K,q,X,0.5,I),bt(S[0],I[0],S[1],I[1],S[2],I[2],S[3],I[3],W,F),bt(S[4],I[4],S[5],I[5],S[6],I[6],S[7],I[7],W,F)}function A_0($,Q){var J=J_($),K=[];Q=Q||1;for(var Y=0;Y<J.length;Y++){var q=J[Y],Z=[],X=q[0],W=q[1];Z.push(X,W);for(var F=2;F<q.length;){var H=q[F++],B=q[F++],z=q[F++],A=q[F++],R=q[F++],G=q[F++];bt(X,W,H,B,z,A,R,G,Z,Q),X=R,W=G}K.push(Z)}return K}function w_0($,Q,J){var K=$[Q],Y=$[1-Q],q=Math.abs(K/Y),Z=Math.ceil(Math.sqrt(q*J)),X=Math.floor(J/Z);if(X===0)X=1,Z=J;var W=[];for(var F=0;F<Z;F++)W.push(X);var H=Z*X,B=J-H;if(B>0)for(var F=0;F<B;F++)W[F%Z]+=1;return W}function V_0($,Q,J){var{r0:K,r:Y,startAngle:q,endAngle:Z}=$,X=Math.abs(Z-q),W=X*Y,F=Y-K,H=W>Math.abs(F),B=w_0([W,F],H?0:1,Q),z=(H?X:F)/B.length;for(var A=0;A<B.length;A++){var R=(H?F:X)/B[A];for(var G=0;G<B[A];G++){var w={};if(H)w.startAngle=q+z*A,w.endAngle=q+z*(A+1),w.r0=K+R*G,w.r=K+R*(G+1);else w.startAngle=q+R*G,w.endAngle=q+R*(G+1),w.r0=K+z*A,w.r=K+z*(A+1);w.clockwise=$.clockwise,w.cx=$.cx,w.cy=$.cy,J.push(w)}}}function bV1($,Q,J){var{width:K,height:Y}=$,q=K>Y,Z=w_0([K,Y],q?0:1,Q),X=q?"width":"height",W=q?"height":"width",F=q?"x":"y",H=q?"y":"x",B=$[X]/Z.length;for(var z=0;z<Z.length;z++){var A=$[W]/Z[z];for(var R=0;R<Z[z];R++){var G={};G[F]=z*B,G[H]=R*A,G[X]=B,G[W]=A,G.x+=$.x,G.y+=$.y,J.push(G)}}}function R_0($,Q,J,K){return $*K-J*Q}function gV1($,Q,J,K,Y,q,Z,X){var W=J-$,F=K-Q,H=Z-Y,B=X-q,z=R_0(H,B,W,F);if(Math.abs(z)<0.000001)return null;var A=$-Y,R=Q-q,G=R_0(A,R,H,B)/z;if(G<0||G>1)return null;return new e0(G*W+$,G*F+Q)}function yV1($,Q,J){var K=new e0;e0.sub(K,J,Q),K.normalize();var Y=new e0;e0.sub(Y,$,Q);var q=Y.dot(K);return q}function gB($,Q){var J=$[$.length-1];if(J&&J[0]===Q[0]&&J[1]===Q[1])return;$.push(Q)}function xV1($,Q,J){var K=$.length,Y=[];for(var q=0;q<K;q++){var Z=$[q],X=$[(q+1)%K],W=gV1(Z[0],Z[1],X[0],X[1],Q.x,Q.y,J.x,J.y);if(W)Y.push({projPt:yV1(W,Q,J),pt:W,idx:q})}if(Y.length<2)return[{points:$},{points:$}];Y.sort(function(w,T){return w.projPt-T.projPt});var F=Y[0],H=Y[Y.length-1];if(H.idx<F.idx){var B=F;F=H,H=B}var z=[F.pt.x,F.pt.y],A=[H.pt.x,H.pt.y],R=[z],G=[A];for(var q=F.idx+1;q<=H.idx;q++)gB(R,$[q].slice());gB(R,A),gB(R,z);for(var q=H.idx+1;q<=F.idx+K;q++)gB(G,$[q%K].slice());return gB(G,z),gB(G,A),[{points:R},{points:G}]}function G_0($){var Q=$.points,J=[],K=[];RW(Q,J,K);var Y=new u0(J[0],J[1],K[0]-J[0],K[1]-J[1]),q=Y.width,Z=Y.height,X=Y.x,W=Y.y,F=new e0,H=new e0;if(q>Z)F.x=H.x=X+q/2,F.y=W,H.y=W+Z;else F.y=H.y=W+Z/2,F.x=X,H.x=X+q;return xV1(Q,F,H)}function K_($,Q,J,K){if(J===1)K.push(Q);else{var Y=Math.floor(J/2),q=$(Q);K_($,q[0],Y,K),K_($,q[1],J-Y,K)}return K}function cV1($,Q){var J=[];for(var K=0;K<Q;K++)J.push(DN($));return J}function uV1($,Q){Q.setStyle($.style),Q.z=$.z,Q.z2=$.z2,Q.zlevel=$.zlevel}function mV1($){var Q=[];for(var J=0;J<$.length;)Q.push([$[J++],$[J++]]);return Q}function O_0($,Q){var J=[],K=$.shape,Y;switch($.type){case"rect":bV1(K,Q,J),Y=Q1;break;case"sector":V_0(K,Q,J),Y=I6;break;case"circle":V_0({r0:0,r:K.r,startAngle:0,endAngle:Math.PI*2,cx:K.cx,cy:K.cy},Q,J),Y=I6;break;default:var q=$.getComputedTransform(),Z=q?Math.sqrt(Math.max(q[0]*q[0]+q[1]*q[1],q[2]*q[2]+q[3]*q[3])):1,X=K0(A_0($.getUpdatedPathProxy(),Z),function(T){return mV1(T)}),W=X.length;if(W===0)K_(G_0,{points:X[0]},Q,J);else if(W===Q)for(var F=0;F<W;F++)J.push({points:X[F]});else{var H=0,B=K0(X,function(T){var D=[],P=[];RW(T,D,P);var j=(P[1]-D[1])*(P[0]-D[0]);return H+=j,{poly:T,area:j}});B.sort(function(T,D){return D.area-T.area});var z=Q;for(var F=0;F<W;F++){var A=B[F];if(z<=0)break;var R=F===W-1?z:Math.ceil(A.area/H*Q);if(R<0)continue;K_(G_0,{points:A.poly},R,J),z-=R}}Y=z6;break}if(!Y)return cV1($,Q);var G=[];for(var F=0;F<J.length;F++){var w=new Y;w.setShape(J[F]),uV1($,w),G.push(w)}return G}function pV1($,Q){var J=$.length,K=Q.length;if(J===K)return[$,Q];var Y=[],q=[],Z=J<K?$:Q,X=Math.min(J,K),W=Math.abs(K-J)/6,F=(X-2)/6,H=Math.ceil(W/F)+1,B=[Z[0],Z[1]],z=W;for(var A=2;A<X;){var R=Z[A-2],G=Z[A-1],w=Z[A++],T=Z[A++],D=Z[A++],P=Z[A++],j=Z[A++],E=Z[A++];if(z<=0){B.push(w,T,D,P,j,E);continue}var L=Math.min(z,H-1)+1;for(var h=1;h<=L;h++){var _=h/L;m3(R,w,D,j,_,Y),m3(G,T,P,E,_,q),R=Y[3],G=q[3],B.push(Y[1],q[1],Y[2],q[2],R,G),w=Y[5],T=q[5],D=Y[6],P=q[6]}z-=L-1}return Z===$?[B,Q]:[$,B]}function T_0($,Q){var J=$.length,K=$[J-2],Y=$[J-1],q=[];for(var Z=0;Z<Q.length;)q[Z++]=K,q[Z++]=Y;return q}function dV1($,Q){var J,K,Y,q=[],Z=[];for(var X=0;X<Math.max($.length,Q.length);X++){var W=$[X],F=Q[X],H=void 0,B=void 0;if(!W)H=T_0(K||F,F),B=F;else if(!F)B=T_0(Y||W,W),H=W;else J=pV1(W,F),H=J[0],B=J[1],K=H,Y=B;q.push(H),Z.push(B)}return[q,Z]}function D_0($){var Q=0,J=0,K=0,Y=$.length;for(var q=0,Z=Y-2;q<Y;Z=q,q+=2){var X=$[Z],W=$[Z+1],F=$[q],H=$[q+1],B=X*H-F*W;Q+=B,J+=(X+F)*B,K+=(W+H)*B}if(Q===0)return[$[0]||0,$[1]||0];return[J/Q/3,K/Q/3,Q]}function nV1($,Q,J,K){var Y=($.length-2)/6,q=1/0,Z=0,X=$.length,W=X-2;for(var F=0;F<Y;F++){var H=F*6,B=0;for(var z=0;z<X;z+=2){var A=z===0?H:(H+z-2)%W+2,R=$[A]-J[0],G=$[A+1]-J[1],w=Q[z]-K[0],T=Q[z+1]-K[1],D=w-R,P=T-G;B+=D*D+P*P}if(B<q)q=B,Z=F}return Z}function lV1($){var Q=[],J=$.length;for(var K=0;K<J;K+=2)Q[K]=$[J-K-2],Q[K+1]=$[J-K-1];return Q}function rV1($,Q,J,K){var Y=[],q;for(var Z=0;Z<$.length;Z++){var X=$[Z],W=Q[Z],F=D_0(X),H=D_0(W);if(q==null)q=F[2]<0!==H[2]<0;var B=[],z=[],A=0,R=1/0,G=[],w=X.length;if(q)X=lV1(X);var T=nV1(X,W,F,H)*6,D=w-2;for(var P=0;P<D;P+=2){var j=(T+P)%D+2;B[P+2]=X[j]-F[0],B[P+3]=X[j+1]-F[1]}if(B[0]=X[T]-F[0],B[1]=X[T+1]-F[1],J>0){var E=K/J;for(var L=-K/2;L<=K/2;L+=E){var h=Math.sin(L),_=Math.cos(L),S=0;for(var P=0;P<X.length;P+=2){var I=B[P],M=B[P+1],y=W[P]-H[0],b=W[P+1]-H[1],u=y*_-b*h,c=y*h+b*_;G[P]=u,G[P+1]=c;var m=u-I,i=c-M;S+=m*m+i*i}if(S<R){R=S,A=L;for(var o=0;o<G.length;o++)z[o]=G[o]}}}else for(var n=0;n<w;n+=2)z[n]=W[n]-H[0],z[n+1]=W[n+1]-H[1];Y.push({from:B,to:z,fromCp:F,toCp:H,rotation:-A})}return Y}function lw($){return $.__isCombineMorphing}var P_0="__mOriginal_";function Y_($,Q,J){var K=P_0+Q,Y=$[K]||$[Q];if(!$[K])$[K]=$[Q];var{replace:q,after:Z,before:X}=J;$[Q]=function(){var W=arguments,F;if(X&&X.apply(this,W),q)F=q.apply(this,W);else F=Y.apply(this,W);return Z&&Z.apply(this,W),F}}function nw($,Q){var J=P_0+Q;if($[J])$[Q]=$[J],$[J]=null}function C_0($,Q){for(var J=0;J<$.length;J++){var K=$[J];for(var Y=0;Y<K.length;){var q=K[Y],Z=K[Y+1];K[Y++]=Q[0]*q+Q[2]*Z+Q[4],K[Y++]=Q[1]*q+Q[3]*Z+Q[5]}}}function k_0($,Q){var J=$.getUpdatedPathProxy(),K=Q.getUpdatedPathProxy(),Y=dV1(J_(J),J_(K)),q=Y[0],Z=Y[1],X=$.getComputedTransform(),W=Q.getComputedTransform();function F(){this.transform=null}X&&C_0(q,X),W&&C_0(Z,W),Y_(Q,"updateTransform",{replace:F}),Q.transform=null;var H=rV1(q,Z,10,Math.PI),B=[];Y_(Q,"buildPath",{replace:function(z){var A=Q.__morphT,R=1-A,G=[];for(var w=0;w<H.length;w++){var T=H[w],D=T.from,P=T.to,j=T.rotation*A,E=T.fromCp,L=T.toCp,h=Math.sin(j),_=Math.cos(j);QN(G,E,L,A);for(var S=0;S<D.length;S+=2){var I=D[S],M=D[S+1],y=P[S],b=P[S+1],u=I*R+y*A,c=M*R+b*A;B[S]=u*_-c*h+G[0],B[S+1]=u*h+c*_+G[1]}var m=B[0],i=B[1];z.moveTo(m,i);for(var S=2;S<D.length;){var y=B[S++],b=B[S++],o=B[S++],n=B[S++],e=B[S++],Z0=B[S++];if(m===y&&i===b&&o===e&&n===Z0)z.lineTo(e,Z0);else z.bezierCurveTo(y,b,o,n,e,Z0);m=e,i=Z0}}}})}function Z_($,Q,J){if(!$||!Q)return Q;var{done:K,during:Y}=J;k_0($,Q),Q.__morphT=0;function q(){nw(Q,"buildPath"),nw(Q,"updateTransform"),Q.__morphT=-1,Q.createPathProxy(),Q.dirtyShape()}return Q.animateTo({__morphT:1},b0({during:function(Z){Q.dirtyShape(),Y&&Y(Z)},done:function(){q(),K&&K()}},J)),Q}function iV1($,Q,J,K,Y,q){var Z=16;$=Y===J?0:Math.round(32767*($-J)/(Y-J)),Q=q===K?0:Math.round(32767*(Q-K)/(q-K));var X=0,W;for(var F=(1<<Z)/2;F>0;F/=2){var H=0,B=0;if(($&F)>0)H=1;if((Q&F)>0)B=1;if(X+=F*F*(3*H^B),B===0){if(H===1)$=F-1-$,Q=F-1-Q;W=$,$=Q,Q=W}}return X}function q_($){var Q=1/0,J=1/0,K=-1/0,Y=-1/0,q=K0($,function(X){var W=X.getBoundingRect(),F=X.getComputedTransform(),H=W.x+W.width/2+(F?F[4]:0),B=W.y+W.height/2+(F?F[5]:0);return Q=Math.min(H,Q),J=Math.min(B,J),K=Math.max(H,K),Y=Math.max(B,Y),[H,B]}),Z=K0(q,function(X,W){return{cp:X,z:iV1(X[0],X[1],Q,J,K,Y),path:$[W]}});return Z.sort(function(X,W){return X.z-W.z}).map(function(X){return X.path})}function j_0($){return O_0($.path,$.count)}function gt(){return{fromIndividuals:[],toIndividuals:[],count:0}}function E_0($,Q,J){var K=[];function Y(E){for(var L=0;L<E.length;L++){var h=E[L];if(lw(h))Y(h.childrenRef());else if(h instanceof t0)K.push(h)}}Y($);var q=K.length;if(!q)return gt();var Z=J.dividePath||j_0,X=Z({path:Q,count:q});if(X.length!==q)return console.error("Invalid morphing: unmatched splitted path"),gt();K=q_(K),X=q_(X);var{done:W,during:F,individualDelay:H}=J,B=new s4;for(var z=0;z<q;z++){var A=K[z],R=X[z];if(R.parent=Q,R.copyTransform(B),!H)k_0(A,R)}Q.__isCombineMorphing=!0,Q.childrenRef=function(){return X};function G(E){for(var L=0;L<X.length;L++)X[L].addSelfToZr(E)}Y_(Q,"addSelfToZr",{after:function(E){G(E)}}),Y_(Q,"removeSelfFromZr",{after:function(E){for(var L=0;L<X.length;L++)X[L].removeSelfFromZr(E)}});function w(){Q.__isCombineMorphing=!1,Q.__morphT=-1,Q.childrenRef=null,nw(Q,"addSelfToZr"),nw(Q,"removeSelfFromZr")}var T=X.length;if(H){var D=T,P=function(){if(D--,D===0)w(),W&&W()};for(var z=0;z<T;z++){var j=H?b0({delay:(J.delay||0)+H(z,T,K[z],X[z]),done:P},J):J;Z_(K[z],X[z],j)}}else Q.__morphT=0,Q.animateTo({__morphT:1},b0({during:function(E){for(var L=0;L<T;L++){var h=X[L];h.__morphT=Q.__morphT,h.dirtyShape()}F&&F(E)},done:function(){w();for(var E=0;E<$.length;E++)nw($[E],"updateTransform");W&&W()}},J));if(Q.__zr)G(Q.__zr);return{fromIndividuals:K,toIndividuals:X,count:T}}function L_0($,Q,J){var K=Q.length,Y=[],q=J.dividePath||j_0;function Z(A){for(var R=0;R<A.length;R++){var G=A[R];if(lw(G))Z(G.childrenRef());else if(G instanceof t0)Y.push(G)}}if(lw($)){Z($.childrenRef());var X=Y.length;if(X<K){var W=0;for(var F=X;F<K;F++)Y.push(DN(Y[W++%X]))}Y.length=K}else{Y=q({path:$,count:K});var H=$.getComputedTransform();for(var F=0;F<Y.length;F++)Y[F].setLocalTransform(H);if(Y.length!==K)return console.error("Invalid morphing: unmatched splitted path"),gt()}Y=q_(Y),Q=q_(Q);var B=J.individualDelay;for(var F=0;F<K;F++){var z=B?b0({delay:(J.delay||0)+B(F,K,Y[F],Q[F])},J):J;Z_(Y[F],Q[F],z)}return{fromIndividuals:Y,toIndividuals:Q,count:Q.length}}function h_0($){return J0($[0])}function v_0($,Q){var J=[],K=$.length;for(var Y=0;Y<K;Y++)J.push({one:$[Y],many:[]});for(var Y=0;Y<Q.length;Y++){var q=Q[Y].length,Z=void 0;for(Z=0;Z<q;Z++)J[Z%K].many.push(Q[Y][Z])}var X=0;for(var Y=K-1;Y>=0;Y--)if(!J[Y].many.length){var W=J[X].many;if(W.length<=1)if(X)X=0;else return J;var q=W.length,F=Math.ceil(q/2);J[Y].many=W.slice(F,q),J[X].many=W.slice(0,F),X++}return J}var sV1={clone:function($){var Q=[],J=1-Math.pow(1-$.path.style.opacity,1/$.count);for(var K=0;K<$.count;K++){var Y=DN($.path);Y.setStyle("opacity",J),Q.push(Y)}return Q},split:null};function X_($,Q,J,K,Y,q){if(!$.length||!Q.length)return;var Z=MJ("update",K,Y);if(!(Z&&Z.duration>0))return;var X=K.getModel("universalTransition").get("delay"),W=Object.assign({setToFinal:!0},Z),F,H;if(h_0($))F=$,H=Q;if(h_0(Q))F=Q,H=$;function B(T,D,P,j,E){var{many:L,one:h}=T;if(L.length===1&&!E){var _=D?L[0]:h,S=D?h:L[0];if(lw(_))B({many:[_],one:S},!0,P,j,!0);else{var I=X?b0({delay:X(P,j)},W):W;Z_(_,S,I),q(_,S,_,S,I)}}else{var M=b0({dividePath:sV1[J],individualDelay:X&&function(i,o,n,e){return X(i+P,j)}},W),y=D?E_0(L,h,M):L_0(h,L,M),b=y.fromIndividuals,u=y.toIndividuals,c=b.length;for(var m=0;m<c;m++){var I=X?b0({delay:X(m,c)},W):W;q(b[m],u[m],D?L[m]:T.one,D?T.one:L[m],I)}}}var z=F?F===$:$.length>Q.length,A=F?v_0(H,F):v_0(z?Q:$,[z?$:Q]),R=0;for(var G=0;G<A.length;G++)R+=A[G].many.length;var w=0;for(var G=0;G<A.length;G++)B(A[G],z,w,R),w+=A[G].many.length}function X2($){if(!$)return[];if(J0($)){var Q=[];for(var J=0;J<$.length;J++)Q.push(X2($[J]));return Q}var K=[];return $.traverse(function(Y){if(Y instanceof t0&&!Y.disableMorphing&&!Y.invisible&&!Y.ignore)K.push(Y)}),K}var y_0=1e4,oV1=0,S_0=1,__0=2,aV1=n0();function tV1($,Q){var J=$.dimensions;for(var K=0;K<J.length;K++){var Y=$.getDimensionInfo(J[K]);if(Y&&Y.otherDims[Q]===0)return J[K]}}function eV1($,Q,J){var K=$.getDimensionInfo(J),Y=K&&K.ordinalMeta;if(K){var q=$.get(K.name,Q);if(Y)return Y.categories[q]||q+"";return q+""}}function f_0($,Q,J,K){var Y=K?"itemChildGroupId":"itemGroupId",q=tV1($,Y);if(q){var Z=eV1($,Q,q);return Z}var X=$.getRawDataItem(Q),W=K?"childGroupId":"groupId";if(X&&X[W])return X[W]+"";if(K)return;return J||$.getId(Q)}function I_0($){var Q=[];return v($,function(J){var{data:K,dataGroupId:Y}=J;if(K.count()>y_0){T5("Universal transition is disabled on large data > 10k.");return}var q=K.getIndices();for(var Z=0;Z<q.length;Z++)Q.push({data:K,groupId:f_0(K,Z,Y,!1),childGroupId:f_0(K,Z,Y,!0),divide:J.divide,dataIndex:Z})}),Q}function yt($,Q,J){$.traverse(function(K){if(K instanceof t0)t1(K,{style:{opacity:0}},Q,{dataIndex:J,isFrom:!0})})}function xt($){if($.parent){var Q=$.getComputedTransform();$.setLocalTransform(Q),$.parent.remove($)}}function yB($){if($.stopAnimation(),$.isGroup)$.traverse(function(Q){Q.stopAnimation()})}function $R1($,Q,J){var K=MJ("update",J,Q);K&&$.traverse(function(Y){if(Y instanceof a6){var q=TG0(Y);if(q)Y.animateFrom({style:q},K)}})}function QR1($,Q){var J=$.length;if(J!==Q.length)return!1;for(var K=0;K<J;K++){var Y=$[K],q=Q[K];if(Y.data.getId(Y.dataIndex)!==q.data.getId(q.dataIndex))return!1}return!0}function x_0($,Q,J){var K=I_0($),Y=I_0(Q);function q(P,j,E,L,h){if(E||P)j.animateFrom({style:E&&E!==P?Q0(Q0({},E.style),P.style):P.style},h)}var Z=!1,X=oV1,W=L0(),F=L0();K.forEach(function(P){P.groupId&&W.set(P.groupId,!0),P.childGroupId&&F.set(P.childGroupId,!0)});for(var H=0;H<Y.length;H++){var B=Y[H].groupId;if(F.get(B)){X=S_0;break}var z=Y[H].childGroupId;if(z&&W.get(z)){X=__0;break}}function A(P,j){return function(E){var{data:L,dataIndex:h}=E;if(j)return L.getId(h);if(P)return X===S_0?E.childGroupId:E.groupId;else return X===__0?E.childGroupId:E.groupId}}var R=QR1(K,Y),G={};if(!R)for(var H=0;H<Y.length;H++){var w=Y[H],T=w.data.getItemGraphicEl(w.dataIndex);if(T)G[T.id]=!0}function D(P,j){var E=K[j],L=Y[P],h=L.data.hostModel,_=E.data.getItemGraphicEl(E.dataIndex),S=L.data.getItemGraphicEl(L.dataIndex);if(_===S){S&&$R1(S,L.dataIndex,h);return}if(_&&G[_.id])return;if(S)if(yB(S),_)yB(_),xt(_),Z=!0,X_(X2(_),X2(S),L.divide,h,P,q);else yt(S,h,P)}if(new E8(K,Y,A(!0,R),A(!1,R),null,"multiple").update(D).updateManyToOne(function(P,j){var E=Y[P],L=E.data,h=L.hostModel,_=L.getItemGraphicEl(E.dataIndex),S=j1(K0(j,function(I){return K[I].data.getItemGraphicEl(K[I].dataIndex)}),function(I){return I&&I!==_&&!G[I.id]});if(_)if(yB(_),S.length)v(S,function(I){yB(I),xt(I)}),Z=!0,X_(X2(S),X2(_),E.divide,h,P,q);else yt(_,h,E.dataIndex)}).updateOneToMany(function(P,j){var E=K[j],L=E.data.getItemGraphicEl(E.dataIndex);if(L&&G[L.id])return;var h=j1(K0(P,function(S){return Y[S].data.getItemGraphicEl(Y[S].dataIndex)}),function(S){return S&&S!==L}),_=Y[P[0]].data.hostModel;if(h.length)if(v(h,function(S){return yB(S)}),L)yB(L),xt(L),Z=!0,X_(X2(L),X2(h),E.divide,_,P[0],q);else v(h,function(S){return yt(S,_,P[0])})}).updateManyToMany(function(P,j){new E8(j,P,function(E){return K[E].data.getId(K[E].dataIndex)},function(E){return Y[E].data.getId(Y[E].dataIndex)}).update(function(E,L){D(P[E],j[L])}).execute()}).execute(),Z)v(Q,function(P){var j=P.data,E=j.hostModel,L=E&&J.getViewOfSeriesModel(E),h=MJ("update",E,0);if(L&&E.isAnimationEnabled()&&h&&h.duration>0)L.group.traverse(function(_){if(_ instanceof t0&&!_.animators.length)_.animateFrom({style:{opacity:0}},h)})})}function M_0($){var Q=$.getModel("universalTransition").get("seriesKey");if(!Q)return $.id;return Q}function b_0($){if(J0($))return $.sort().join(",");return $}function W2($){if($.hostModel)return $.hostModel.getModel("universalTransition").get("divideShape")}function JR1($,Q){var J=L0(),K=L0(),Y=L0();v($.oldSeries,function(Z,X){var W=$.oldDataGroupIds[X],F=$.oldData[X],H=M_0(Z),B=b_0(H);if(K.set(B,{dataGroupId:W,data:F}),J0(H))v(H,function(z){Y.set(z,{key:B,dataGroupId:W,data:F})})});function q(Z){if(J.get(Z))T5("Duplicated seriesKey in universalTransition "+Z)}return v(Q.updatedSeries,function(Z){if(Z.isUniversalTransitionEnabled()&&Z.isAnimationEnabled()){var X=Z.get("dataGroupId"),W=Z.getData(),F=M_0(Z),H=b_0(F),B=K.get(H);if(B)q(H),J.set(H,{oldSeries:[{dataGroupId:B.dataGroupId,divide:W2(B.data),data:B.data}],newSeries:[{dataGroupId:X,divide:W2(W),data:W}]});else if(J0(F)){q(H);var z=[];if(v(F,function(G){var w=K.get(G);if(w.data)z.push({dataGroupId:w.dataGroupId,divide:W2(w.data),data:w.data})}),z.length)J.set(H,{oldSeries:z,newSeries:[{dataGroupId:X,data:W,divide:W2(W)}]})}else{var A=Y.get(F);if(A){var R=J.get(A.key);if(!R)R={oldSeries:[{dataGroupId:A.dataGroupId,data:A.data,divide:W2(A.data)}],newSeries:[]},J.set(A.key,R);R.newSeries.push({dataGroupId:X,data:W,divide:W2(W)})}}}}),J}function g_0($,Q){for(var J=0;J<$.length;J++){var K=Q.seriesIndex!=null&&Q.seriesIndex===$[J].seriesIndex||Q.seriesId!=null&&Q.seriesId===$[J].id;if(K)return J}}function KR1($,Q,J,K){var Y=[],q=[];if(v(K5($.from),function(Z){var X=g_0(Q.oldSeries,Z);if(X>=0)Y.push({dataGroupId:Q.oldDataGroupIds[X],data:Q.oldData[X],divide:W2(Q.oldData[X]),groupIdDim:Z.dimension})}),v(K5($.to),function(Z){var X=g_0(J.updatedSeries,Z);if(X>=0){var W=J.updatedSeries[X].getData();q.push({dataGroupId:Q.oldDataGroupIds[X],data:W,divide:W2(W),groupIdDim:Z.dimension})}}),Y.length>0&&q.length>0)x_0(Y,q,K)}function ct($){$.registerUpdateLifecycle("series:beforeupdate",function(Q,J,K){v(K5(K.seriesTransition),function(Y){v(K5(Y.to),function(q){var Z=K.updatedSeries;for(var X=0;X<Z.length;X++)if(q.seriesIndex!=null&&q.seriesIndex===Z[X].seriesIndex||q.seriesId!=null&&q.seriesId===Z[X].id)Z[X][CG]=!0})})}),$.registerUpdateLifecycle("series:transition",function(Q,J,K){var Y=aV1(J);if(Y.oldSeries&&K.updatedSeries&&K.optionChanged){var q=K.seriesTransition;if(q)v(K5(q),function(A){KR1(A,Y,K,J)});else{var Z=JR1(Y,K);v(Z.keys(),function(A){var R=Z.get(A);x_0(R.oldSeries,R.newSeries,J)})}v(K.updatedSeries,function(A){if(A[CG])A[CG]=!1})}var X=Q.getSeries(),W=Y.oldSeries=[],F=Y.oldDataGroupIds=[],H=Y.oldData=[];for(var B=0;B<X.length;B++){var z=X[B].getData();if(z.count()<y_0)W.push(X[B]),F.push(X[B].get("dataGroupId")),H.push(z)}})}var YR1=function(){function $(){this.breaks=[],this._elapsedExtent=[1/0,-1/0]}return $.prototype.setBreaks=function(Q){this.breaks=Q.breaks},$.prototype.update=function(Q){ZR1(this,Q);var J=this._elapsedExtent;J[0]=this.elapse(Q[0]),J[1]=this.elapse(Q[1])},$.prototype.hasBreaks=function(){return!!this.breaks.length},$.prototype.calcNiceTickMultiple=function(Q,J){for(var K=0;K<this.breaks.length;K++){var Y=this.breaks[K];if(Y.vmin<Q&&Q<Y.vmax){var q=J(Q,Y.vmax);return S0(q>=0&&Math.round(q)===q),q}}return 0},$.prototype.getExtentSpan=function(){return this._elapsedExtent[1]-this._elapsedExtent[0]},$.prototype.normalize=function(Q){var J=this._elapsedExtent[1]-this._elapsedExtent[0];if(J===0)return 0.5;return(this.elapse(Q)-this._elapsedExtent[0])/J},$.prototype.scale=function(Q){return this.unelapse(Q*(this._elapsedExtent[1]-this._elapsedExtent[0])+this._elapsedExtent[0])},$.prototype.elapse=function(Q){var J=c_0,K=u_0,Y=!0;for(var q=0;q<this.breaks.length;q++){var Z=this.breaks[q];if(Q<=Z.vmax){if(Q>Z.vmin)J+=Z.vmin-K+(Q-Z.vmin)/(Z.vmax-Z.vmin)*Z.gapReal;else J+=Q-K;K=Z.vmax,Y=!1;break}J+=Z.vmin-K+Z.gapReal,K=Z.vmax}if(Y)J+=Q-K;return J},$.prototype.unelapse=function(Q){var J=c_0,K=u_0,Y=!0,q=0;for(var Z=0;Z<this.breaks.length;Z++){var X=this.breaks[Z],W=J+X.vmin-K,F=W+X.gapReal;if(Q<=F){if(Q>W)q=X.vmin+(Q-W)/(F-W)*(X.vmax-X.vmin);else q=K+Q-J;K=X.vmax,Y=!1;break}J=F,K=X.vmax}if(Y)q=K+Q-J;return q},$}();function qR1(){return new YR1}var c_0=0,u_0=0;function ZR1($,Q){var J=0,K={tpAbs:{span:0,val:0},tpPrct:{span:0,val:0}},Y=function(){return{has:!1,span:NaN,inExtFrac:NaN,val:NaN}},q={S:{tpAbs:Y(),tpPrct:Y()},E:{tpAbs:Y(),tpPrct:Y()}};v($.breaks,function(X){var W=X.gapParsed;if(W.type==="tpPrct")J+=W.val;var F=pt(X,Q);if(F){var H=F.vmin!==X.vmin,B=F.vmax!==X.vmax,z=F.vmax-F.vmin;if(H&&B);else if(H||B){var A=H?"S":"E";q[A][W.type].has=!0,q[A][W.type].span=z,q[A][W.type].inExtFrac=z/(X.vmax-X.vmin),q[A][W.type].val=W.val}else K[W.type].span+=z,K[W.type].val+=W.val}});var Z=J*(0+(Q[1]-Q[0])+(K.tpAbs.val-K.tpAbs.span)+(q.S.tpAbs.has?(q.S.tpAbs.val-q.S.tpAbs.span)*q.S.tpAbs.inExtFrac:0)+(q.E.tpAbs.has?(q.E.tpAbs.val-q.E.tpAbs.span)*q.E.tpAbs.inExtFrac:0)-K.tpPrct.span-(q.S.tpPrct.has?q.S.tpPrct.span*q.S.tpPrct.inExtFrac:0)-(q.E.tpPrct.has?q.E.tpPrct.span*q.E.tpPrct.inExtFrac:0))/(1-K.tpPrct.val-(q.S.tpPrct.has?q.S.tpPrct.val*q.S.tpPrct.inExtFrac:0)-(q.E.tpPrct.has?q.E.tpPrct.val*q.E.tpPrct.inExtFrac:0));v($.breaks,function(X){var W=X.gapParsed;if(W.type==="tpPrct")X.gapReal=J!==0?Math.max(Z,0)*W.val/J:0;if(W.type==="tpAbs")X.gapReal=W.val;if(X.gapReal==null)X.gapReal=0})}function XR1($,Q,J,K,Y,q){if($==="no")return;v(J,function(Z){var X=pt(Z,q);if(!X)return;for(var W=Q.length-1;W>=0;W--){var F=Q[W],H=K(F),B=Y*3/4;if(H>X.vmin-B&&H<X.vmax+B&&($!=="preserve_extent_bound"||H!==q[0]&&H!==q[1]))Q.splice(W,1)}})}function WR1($,Q,J,K){if(v(Q,function(Y){var q=pt(Y,J);if(!q)return;$.push({value:q.vmin,break:{type:"vmin",parsedBreak:q},time:K?K(q):void 0}),$.push({value:q.vmax,break:{type:"vmax",parsedBreak:q},time:K?K(q):void 0})}),Q.length)$.sort(function(Y,q){return Y.value-q.value})}function pt($,Q){var J=Math.max($.vmin,Q[0]),K=Math.min($.vmax,Q[1]);return J<K||J===K&&J>Q[0]&&J<Q[1]?{vmin:J,vmax:K,breakOption:$.breakOption,gapParsed:$.gapParsed,gapReal:$.gapReal}:null}function ut($,Q,J){var K=[];if(!$)return{breaks:K};function Y(Z,X){if(Z>=0&&Z<0.99999)return!0;return P1(X+" must be >= 0 and < 1, rather than "+Z+" ."),!1}v($,function(Z){if(!Z||Z.start==null||Z.end==null){P1("The input axis breaks start/end should not be empty.");return}if(Z.isExpanded)return;var X={breakOption:y0(Z),vmin:Q(Z.start),vmax:Q(Z.end),gapParsed:{type:"tpAbs",val:0},gapReal:null};if(Z.gap!=null){var W=!1;if(B0(Z.gap)){var F=O7(Z.gap);if(F.match(/%$/)){var H=parseFloat(F)/100;if(!Y(H,"Percent gap"))H=0;X.gapParsed.type="tpPrct",X.gapParsed.val=H,W=!0}}if(!W){var B=Q(Z.gap);if(!isFinite(B)||B<0)P1("Axis breaks gap must positive finite rather than ("+Z.gap+")."),B=0;X.gapParsed.type="tpAbs",X.gapParsed.val=B}}if(X.vmin===X.vmax)X.gapParsed.type="tpAbs",X.gapParsed.val=0;if(J&&J.noNegative)v(["vmin","vmax"],function(A){if(X[A]<0)P1("Axis break."+A+" must not be negative."),X[A]=0});if(X.vmin>X.vmax){var z=X.vmax;X.vmax=X.vmin,X.vmin=z}K.push(X)}),K.sort(function(Z,X){return Z.vmin-X.vmin});var q=-1/0;return v(K,function(Z,X){if(q>Z.vmin)P1("Axis breaks must not overlap."),K[X]=null;q=Z.vmax}),{breaks:K.filter(function(Z){return!!Z})}}function dt($,Q){return mt(Q)===mt($)}function mt($){return $.start+"_\x00_"+$.end}function FR1($,Q,J){var K=[];v($,function(q,Z){var X=Q(q);if(X&&X.type==="vmin")K.push([Z])}),v($,function(q,Z){var X=Q(q);if(X&&X.type==="vmax"){var W=d$(K,function(F){return dt(Q($[F[0]]).parsedBreak.breakOption,X.parsedBreak.breakOption)});W&&W.push(Z)}});var Y=[];return v(K,function(q){if(q.length===2)Y.push(J?q:[$[q[0]],$[q[1]]])}),Y}function UR1($,Q,J,K){var Y,q;if($.break){var Z=$.break.parsedBreak,X=d$(J,function(B){return dt(B.breakOption,$.break.parsedBreak.breakOption)}),W=K(Math.pow(Q,Z.vmin),X.vmin),F=K(Math.pow(Q,Z.vmax),X.vmax),H={type:Z.gapParsed.type,val:Z.gapParsed.type==="tpAbs"?d5(Math.pow(Q,Z.vmin+Z.gapParsed.val))-W:Z.gapParsed.val};Y={type:$.break.type,parsedBreak:{breakOption:Z.breakOption,vmin:W,vmax:F,gapParsed:H,gapReal:Z.gapReal}},q=X[$.break.type]}return{brkRoundingCriterion:q,vBreak:Y}}function HR1($,Q,J){var K={noNegative:!0},Y=ut($,J,K),q=ut($,J,K),Z=Math.log(Q);return q.breaks=K0(q.breaks,function(X){var W=Math.log(X.vmin)/Z,F=Math.log(X.vmax)/Z,H={type:X.gapParsed.type,val:X.gapParsed.type==="tpAbs"?Math.log(X.vmin+X.gapParsed.val)/Z-W:X.gapParsed.val};return{vmin:W,vmax:F,gapParsed:H,gapReal:X.gapReal,breakOption:X.breakOption}}),{parsedOriginal:Y,parsedLogged:q}}var NR1={vmin:"start",vmax:"end"};function BR1($,Q){if(Q)$=$||{},$.break={type:NR1[Q.type],start:Q.parsedBreak.vmin,end:Q.parsedBreak.vmax};return $}function m_0(){pG0({createScaleBreakContext:qR1,pruneTicksByBreak:XR1,addBreaksToTicks:WR1,parseAxisBreakOption:ut,identifyAxisBreak:dt,serializeAxisBreakIdentifier:mt,retrieveAxisBreakPairs:FR1,getTicksLogTransformBreak:UR1,logarithmicParseBreaksFromOption:HR1,makeAxisLabelFormatterParamBreak:BR1})}var p_0=n0();function zR1($,Q){var J=d$($,function(K){return Z6().identifyAxisBreak(K.parsedBreak.breakOption,Q.breakOption)});if(!J)$.push(J={zigzagRandomList:[],parsedBreak:Q,shouldRemove:!1});return J}function AR1($){v($,function(Q){return Q.shouldRemove=!0})}function VR1($){for(var Q=$.length-1;Q>=0;Q--)if($[Q].shouldRemove)$.splice(Q,1)}function RR1($,Q,J,K,Y){var q=J.axis;if(q.scale.isBlank()||!Z6())return;var Z=Z6().retrieveAxisBreakPairs(q.scale.getTicks({breakTicks:"only_break"}),function(S){return S.break},!1);if(!Z.length)return;var X=J.getModel("breakArea"),W=X.get("zigzagAmplitude"),F=X.get("zigzagMinSpan"),H=X.get("zigzagMaxSpan");F=Math.max(2,F||0),H=Math.max(F,H||0);var B=X.get("expandOnClick"),z=X.get("zigzagZ"),A=X.getModel("itemStyle"),R=A.getItemStyle(),G=R.stroke,w=R.lineWidth,T=R.lineDash,D=R.fill,P=new _0({ignoreModelZ:!0}),j=q.isHorizontal(),E=p_0(Q).visualList||(p_0(Q).visualList=[]);AR1(E);var L=function(S){var I=Z[S][0].break.parsedBreak,M=[];if(M[0]=q.toGlobalCoord(q.dataToCoord(I.vmin,!0)),M[1]=q.toGlobalCoord(q.dataToCoord(I.vmax,!0)),M[1]<M[0])M.reverse();var y=zR1(E,I);y.shouldRemove=!1;var b=new _0;if(_(y.zigzagRandomList,b,M[0],M[1],j,I),B)b.on("click",function(){var u={type:QB,breaks:[{start:I.breakOption.start,end:I.breakOption.end}]};u[q.dim+"AxisIndex"]=J.componentIndex,Y.dispatchAction(u)});b.silent=!B,P.add(b)};for(var h=0;h<Z.length;h++)L(h);$.add(P),VR1(E);function _(S,I,M,y,b,u){var c={stroke:G,lineWidth:w,lineDash:T,fill:"none"},m=b?0:1,i=1-m,o=K[A1[i]]+K[P6[i]];function n(X5){var v1=[],H5=[];v1[m]=H5[m]=X5,v1[i]=K[A1[i]],H5[i]=o;var N5={x1:v1[0],y1:v1[1],x2:H5[0],y2:H5[1]};return PW(N5,N5,{lineWidth:1}),v1[0]=N5.x1,v1[1]=N5.y1,v1[m]}M=n(M),y=n(y);var e=[],Z0=[],q0=!0,k0=K[A1[i]];for(var c0=0;;c0++){var J1=k0===K[A1[i]],W1=k0>=o;if(W1)k0=o;var h1=[],X1=[];if(h1[m]=M,X1[m]=y,!J1&&!W1)h1[m]+=q0?-W:W,X1[m]-=!q0?-W:W;h1[i]=k0,X1[i]=k0,e.push(h1),Z0.push(X1);var r0=void 0;if(c0<S.length)r0=S[c0];else r0=Math.random(),S.push(r0);if(k0+=r0*(H-F)+F,q0=!q0,W1)break}var G1=Z6().serializeAxisBreakIdentifier(u.breakOption);if(I.add(new K6({anid:"break_a_"+G1,shape:{points:e},style:c,z})),u.gapReal!==0){I.add(new K6({anid:"break_b_"+G1,shape:{points:Z0},style:c,z}));var l0=Z0.slice();l0.reverse();var z1=e.concat(l0);I.add(new z6({anid:"break_c_"+G1,shape:{points:z1},style:{fill:D,opacity:R.opacity},z}))}}}function GR1($,Q,J,K){var Y=$.axis,q=J.transform;S0(K.style);var Z=Y.getExtent();if(Y.inverse)Z=Z.slice(),Z.reverse();var X=Z6().retrieveAxisBreakPairs(Y.scale.getTicks({breakTicks:"only_break"}),function(w){return w.break},!1),W=K0(X,function(w){var T=w[0].break.parsedBreak,D=[Y.dataToCoord(T.vmin,!0),Y.dataToCoord(T.vmax,!0)];return D[0]>D[1]&&D.reverse(),{coordPair:D,brkId:Z6().serializeAxisBreakIdentifier(T.breakOption)}});W.sort(function(w,T){return w.coordPair[0]-T.coordPair[0]});var F=Z[0],H=null;for(var B=0;B<W.length;B++){var z=W[B],A=Math.max(z.coordPair[0],Z[0]),R=Math.min(z.coordPair[1],Z[1]);if(F<=A)G(F,A,H,z);F=R,H=z}if(F<=Z[1])G(F,Z[1],H,null);function G(w,T,D,P){function j(M,y){if(q)o5(M,M,q),o5(y,y,q)}function E(M,y){var b={x1:M[0],y1:M[1],x2:y[0],y2:y[1]};PW(b,b,K.style),M[0]=b.x1,M[1]=b.y1,y[0]=b.x2,y[1]=b.y2}var L=[w,0],h=[T,0],_=[w,5],S=[T,5];j(L,_),E(L,_),j(h,S),E(h,S),E(L,h);var I=new l5(Q0({shape:{x1:L[0],y1:L[1],x2:h[0],y2:h[1]}},K));Q.add(I),I.anid="breakLine_"+(D?D.brkId:"\x00")+"_\x00_"+(P?P.brkId:"\x00")}}function wR1($,Q,J){if(d$(J,function(D){return!D}))return;var K=new e0;if(!aN(J[0],J[1],K,{direction:-($?Q+Math.PI:Q),touchThreshold:0,bidirectional:!1}))return;var Y=Q6();u8(Y,Y,-Q);var q=K0(J,function(D){return D.transform?T8(Q6(),Y,D.transform):Y});function Z(D){var P=J[0].localRect,j=new e0(P[P6[D]]*q[0][0],P[P6[D]]*q[0][1]);return Math.abs(j.y)<0.00001}var X=0.5;if(Z(0)||Z(1)){var W=K0(J,function(D,P){var j=D.localRect.clone();return j.applyTransform(q[P]),j}),F=new e0;F.copy(J[0].label).add(J[1].label).scale(0.5),F.transform(Y);var H=K.clone().transform(Y),B=W[0].x+W[1].x+(H.x>=0?W[0].width:W[1].width),z=(B+H.x)/2-F.x,A=Math.min(z,z-H.x),R=Math.max(z,z-H.x),G=R<0?R:A>0?A:0;X=(z-G)/H.x}var w=new e0,T=new e0;e0.scale(w,K,-X),e0.scale(T,K,1-X),pG(J[0],w),pG(J[1],T)}function OR1($,Q){var J={breaks:[]};return v(Q.breaks,function(K){if(!K)return;var Y=d$($.get("breaks",!0),function(X){return Z6().identifyAxisBreak(X,K)});if(!Y){T5("Can not find axis break by start: "+K.start+", end: "+K.end);return}var q=Q.type,Z={isExpanded:!!Y.isExpanded};Y.isExpanded=q===QB?!0:q===Qi?!1:q===Ji?!Y.isExpanded:Y.isExpanded,J.breaks.push({start:Y.start,end:Y.end,isExpanded:!!Y.isExpanded,old:Z})}),J}function d_0(){MC0({adjustBreakLabelPair:wR1,buildAxisBreakLine:GR1,rectCoordBuildBreakAxis:RR1,updateModelAxisBreak:OR1})}function nt($){cC0($),m_0(),d_0()}function lt(){QP0(TR1)}function TR1($,Q){v($,function(J){if(!J.model.get(["axisLabel","inside"])){var K=DR1(J);if(K){var Y=J.isHorizontal()?"height":"width",q=J.model.get(["axisLabel","margin"]);if(Q[Y]-=K[Y]+q,J.position==="top")Q.y+=K.height+q;else if(J.position==="left")Q.x+=K.width+q}}})}function DR1($){var{model:Q,scale:J}=$;if(!Q.get(["axisLabel","show"])||J.isBlank())return;var K,Y,q=J.getExtent();if(J instanceof TY)Y=J.count();else K=J.getTicks(),Y=K.length;var Z=$.getLabelModel(),X=uZ($),W,F=1;if(Y>40)F=Math.ceil(Y/40);for(var H=0;H<Y;H+=F){var B=K?K[H]:{value:q[0]+H},z=X(B,H),A=Z.getTextRect(z),R=G(A,Z.get("rotate")||0);W?W.union(R):W=R}return W;function G(w,T){var D=T*Math.PI/180,P=w.width,j=w.height,E=P*Math.abs(Math.cos(D))+Math.abs(j*Math.sin(D)),L=P*Math.abs(Math.sin(D))+Math.abs(j*Math.cos(D)),h=new u0(w.x,w.y,E,L);return h}}R1([Mr]);R1([Ir]);R1([mr,nr,ar,Di,ji,mi,ti,Ws,vs,Is,Ms,gs,Qo,qo,Wo,zo,Ao,Vo,Ro,To,Po,Lo,to]);R1(qa);R1(Ua);R1(Hw);R1(Ba);R1(Dw);R1(Va);R1(va);R1(_a);R1(ma);R1(la);R1(GQ);R1(ta);R1(ea);R1(Kt);R1(Wt);R1(Ut);R1(Ht);R1(wt);R1(Pt);R1(yw);R1(uw);R1(Et);R1(pw);R1(dw);R1(Lt);R1(St);R1(It);R1(Mt);R1(ct);R1(Br);R1(nt);R1(lt);R1(Ci);var rt=x1(i6(),1);function n_0({config:$,filters:Q=[]}){let{db:J,tableVersion:K}=I8(),[Y,q]=SY.useState([]),Z=SY.useRef(null),X=SY.useRef(null);if(SY.useEffect(()=>{if(!J)return;new IK(J,$,Q).execute().then(q)},[J,$,Q,K]),SY.useEffect(()=>{if(Z.current&&Y.length>0){if(!X.current)X.current=HT0(Z.current);let W=$.params.x_axis,F=$.params.groupby.find((G)=>G!==W),H=$.params.metrics[0].label,B=Array.from(new Set(Y.map((G)=>G[W]))),z=[],A=[];if(F){let G=Array.from(new Set(Y.map((w)=>w[F])));A=G,z=G.map((w)=>{return{name:w,type:"bar",stack:$.params.stack==="Stack"?"total":void 0,emphasis:{focus:"series"},data:B.map((T)=>{let D=Y.find((P)=>P[W]===T&&P[F]===w);return D?D[H]:0})}})}else A=[H],z=[{name:H,type:"bar",stack:$.params.stack==="Stack"?"total":void 0,emphasis:{focus:"series"},data:B.map((G)=>{let w=Y.find((T)=>T[W]===G);return w?w[H]:0})}];let R={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{show:$.params.show_legend,type:$.params.legendType,orient:$.params.legendOrientation==="top"?"horizontal":"vertical",top:$.params.legendOrientation==="top"?"top":"center",left:$.params.legendOrientation==="top"?"center":"left",data:A},xAxis:{type:"category",data:B,axisLabel:{rotate:$.params.xAxisLabelRotation||0}},yAxis:{type:"value",name:$.params.y_axis_title},series:z,grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0}};X.current.setOption(R)}},[Y,$]),SY.useEffect(()=>{return()=>{if(X.current)X.current.dispose(),X.current=null}},[]),!Y.length)return rt.jsxDEV("div",{children:"Loading Bar Chart"},void 0,!1,void 0,this);return rt.jsxDEV("div",{ref:Z,style:{width:"100%",height:"400px"}},void 0,!1,void 0,this)}var TQ=x1(i6(),1),PR1={keyNumber:yX0,table:xX0,map:QA0,bar_chart:n_0};function kR1({children:$,itemKey:Q}){let{tableVersion:J}=I8();if(J>0)return TQ.jsxDEV("div",{children:$},Q,!1,void 0,this);return TQ.jsxDEV("div",{},Q,!1,void 0,this)}var l_0=W_.default.memo(({config:$,filters:Q,onFilterChange:J,disableMap:K=!1})=>{let Y=W_.useCallback((q)=>{switch(q.type){case"ParquetUploadWidget":return TQ.jsxDEV(gX0,{className:q.className},"upload",!1,void 0,this);case"Filters":return TQ.jsxDEV("div",{className:q.className,children:$.filters.map((Z)=>TQ.jsxDEV(JA0,{config:Z,filters:Q,onFilterChange:J},"filter-"+Z.id,!1,void 0,this))},"filters",!1,void 0,this);case"Widget":case"ConditionalWidget":{if(q.type==="ConditionalWidget"){if(q.invertCondition?K:!K)return null}let Z=$.widgets[q.widgetKey];if(!Z)throw Error("no widget key for "+q.widgetKey);let X=PR1[Z.type];if(!X)throw Error("no widget for "+q.widgetKey+" "+Z.type);return TQ.jsxDEV("div",{className:q.className,children:TQ.jsxDEV(X,{config:Z,filters:Q},void 0,!1,void 0,this)},q.widgetKey,!1,void 0,this)}case"Container":return TQ.jsxDEV("div",{className:q.className,children:[" ",q.children?.map((Z)=>Y(Z))]},q.key||q.type,!0,void 0,this);default:return null}},[$,Q,J,K]);return TQ.jsxDEV("div",{className:"space-y-4 p-4",children:$.layout?.map((q)=>q.type=="ParquetUploadWidget"?Y(q):TQ.jsxDEV(kR1,{itemKey:q.key||q.type,children:[" ",Y(q)]},q.key||q.type,!0,void 0,this))},void 0,!1,void 0,this)});var it=x1(i6(),1);function r_0(){let{tableVersion:$}=I8(),[Q,J]=F_.useState({}),K=(q,Z)=>{J((X)=>({...X,[q]:Z}))},Y=F_.useMemo(()=>Q,[Q]);return it.jsxDEV("div",{className:"space-y-4 p-4",children:it.jsxDEV(l_0,{config:R80,filters:Y,onFilterChange:K,disableMap:!0},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var U_=x1(i6(),1);function i_0(){return U_.jsxDEV("div",{className:"app",children:U_.jsxDEV(IX0,{children:U_.jsxDEV(r_0,{},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var st=x1(i6(),1),jR1=document.getElementById("root"),ER1=st.jsxDEV(s_0.StrictMode,{children:st.jsxDEV(i_0,{},void 0,!1,void 0,this)},void 0,!1,void 0,this);o_0.createRoot(jR1).render(ER1);

//# debugId=8CCC35CFBE29503264756E2164756E21
//# sourceMappingURL=index-f2msd6jk.js.map
